Page1软错误率变动对检查点机制的影响贾文涛张春元(国防科学技术大学计算机学院长沙410073)摘要随着集成电路工艺进入纳米时代,芯片正面临着软错误的威胁.除了软错误在数量上的威胁外,处理器还面临着由于工艺变动性和电压、温度、位置等工作环境变动而导致的错误率变动性的威胁,即系统的错误率不会一直稳定而是随着时间发生变化.检查点是系统容错的主要机制,它的开销和检查点的间隔密切相关,目前检查点间隔的确定大多是基于恒定错误率的.但是在软错误变动的情况下,自适应检查点的方法比固定方法更能够显著降低检查点开销,它通过预测系统的错误率来确保系统的检查点间隔始终与最优状态接近.但是自适应检查点所能获得的性能改善与错误率变动的具体程度相关.因此本文研究软错误率变动的形式和幅度如何影响检查点的开销.该文开展了如下研究:基于温度、电压、位置等因素对软错误影响的原理,建立了一个包含变动幅度、持续时间等参数的错误率变动的模型;基于错误率变动模型,模拟了在理想情况下自适应检查点机制能够获得的性能改善;提出了一种基于错误历史预测错误率的方法,从而验证了在实际情况下自适应检查点能够达到的效果.实验结果表明,变动的幅度在3倍以上且持续时间在12.5%以上时,该文方法就能获得实际上的性能改善.关键词容错;软错误;错误变动性;检查点;自适应1引言软错误是由宇宙辐射粒子或封装材料中的阿尔法粒子诱发的数据位翻转.随着芯片工艺尺寸的缩小和晶体管数目的增多,芯片面临的软错误的威胁日益严峻.相关研究表明16nm下全芯片的软错误率SER(Soft-ErrorRate)是180nm下的100倍[1].随着器件尺寸缩小至纳米量级,一次粒子事件引发多单元翻转MCU(Multiple-CellUpset)的情况日益增多,在65nm时就能发生MCU.很多粒子加速试验结果显示,MCU会占到所有翻转的50%以上,甚至还出现了单次50位的翻转[2].这将使得目前只能纠正1位错误的ECC技术难以为继.由于工艺尺寸的缩小,系统不仅面临SER数量上和MCU的威胁,还面临着新的考验———软错误率不再恒定而是呈现出变动性.这主要是由器件工艺变动(processvariability)和系统工作环境改变造成的.晶体管的供电电压、阈值电压、沟道长度等底层器件的工艺变动不仅会导致高层整个系统的性能和功耗的变动,还会导致SER的变动.相关实验表明SRAM(StaticRandomAccessMemory)在两种不同数据状态(0/1)下的SER是不相同的,在90nm时SER差别可达4倍[3].除了SRAM型电路的SER,逻辑电路的SER对系统的影响也日益增大.不同于SRAM型电路的对称性,逻辑电路天然具有很强的差异性.其SER因数据状态(0/1)、时钟状态(HIGH/LOW)的不同而不同,差异分别可高达10倍和6倍[4].这些由工艺变动引起的SER差别,在系统运行时就表现为SER不会恒定不变而是随着时间呈现变动性.SER本身就和电压、温度、辐射环境等密切相关,而在系统运行时这些因素也会发生变化.如很多系统为了降低功耗采用DVFS(DynamicVoltageandFrequencyScaling)技术,这会使芯片的电压发生变化,从而也使系统的SER发生变动.随着信息化和数字化的发展,计算系统渗入各行各业,如商业航天器、智能驾驶系统、智能城市设施等,这些系统的工作环境会明显地发生变化.如汽车从武汉到成都,随着位置变化,SER会提高3.5倍,而飞机从海平面上升到12km,其SER会在30min内增大100倍[5].综上所述,随着未来工艺尺寸的持续缩小,电路制造和设计造成的SER变动会日益加剧.同时,随着计算机系统日益广泛的应用,越来越多的系统将会面临更加复杂多变的运行环境.因此将来系统的SER变动会越来越普遍.检查点机制是目前应用最为广泛的错误恢复技术之一.检查点机制的运行如图1所示,在应用执行时系统会周期性地保存执行状态,一旦发生错误就返回之前保存的检查点继续执行.图1检查点机制示意图.应用运行的时间Tsolve分为若干时间片Tex,每个时间片结束后保存检查点状态,Tov是保存的时间开销.错误X发生后,就可以恢复最近已保存的检查点状态并继续执行应用,这避免了整个应用的重新执行检查点的开销定义为(Ttotal-Tsolve)/Tsolve,它和检查点间隔Tex的长短相关.根据Daly点模型,我们模拟了在不同检查点间隔下检查点的开销.从图2可以看出在MTTE(MeanTimeToErrors)为100min时最优检查点间隔为21min,在最优检查点间隔时开销最小.如果MTTE从100min变动到10min或1000min,而检查点间隔不跟着变化时,那开销就变成550%或12%;而检查点间隔跟着变化到最优时,开销分别为237%或7%.因此从理论上讲,基于SER动态调整检查点间隔的自适应检查点SACP(Self-AdaptiveCheckPoint)能极大地降低容错开销.Page3ACR[7]和FTCS[8]也提出了与SACP类似的方法,即根据系统的错误率动态调整检查点间隔.SACP的思路是:即使错误发生的总次数不变,通过更详细地分析错误发生的局部特性,动态地调整检查点间隔以使其和错误率更匹配,也可以降低容错开销.SACP的优势与SER变动的幅度、变动持续的时间息息相关.但是,导致变动的因素众多且对变动的影响也千差万别,因此需要详细评测.本文的贡献是:(1)根据温度、电压、位置等因素对SER影响的原理,建立了一个SER变动的模型,它包括了变动幅度、变动持续时间等参数.(2)基于SER变动模型,模拟了在理想情况下自适应检查点机制能够获得的性能改善,同时分析了SER变动模型中的每个参数对检查点开销的影响.(3)提出了一种利用最近的错误历史来预测实时错误率的方法.验证了在实际情况下自适应检查点能够达到的性能改善.2背景本文的背景包含SER变动、检查点机制和自适应检查点.SER可用平均的错误发生时间MTTE衡量,也可用单位时间发生的错误数来衡量,本文选择后者,即SER=1/MTTE.2.1软错误率的变动SER是由宇宙辐射粒子或封装材料的杂质放射的阿尔法粒子诱发的数据位翻转,计算方式为[9]其中,宇宙辐射通量F与海拔高度、纬度、太阳周期、防护材料厚度等因素相关.A是电路对SER敏感的面积.Qcrit是数据位翻转需要的临界电荷,与电容、电压成正比,也与温度有关.Qs和常数K是电路相关的参数.根据目前掌握的相关文献,对SER有影响的外部环境因素如表1所示.维度、太阳周期等因素对SER影响较复杂,本文不予研究.由表1可见,对于变动因素X∈{Al,TH,V,T},当每个因素单独变化时,SER近似等于其中,X0和SER0为已知的参考值;Cx为常数,表示每单位X的变动造成的SER提高或减低的倍数.例如,高度每升高1km,SER增大e0.8倍,所以Cx=0.8.Cx<0表示SER随X的增大而减小,如电压、防护材料厚度等.可变因素高度(AL)SER0e0.9x-0.03x×x[5]超过100(0~12km)维度(LA)混凝土厚度(TH)SER0e-2.7x[10]太阳活动电压(V)SER0e-1.3x+0.3[11]3(0.4~1.0V)@45nm温度(T)注:温度对错误率的影响除了通过Qcrit外,还有噪音等多种途径,这里采用总体上的数据,在21基础上每增加10错误率加倍[13].综上所述,由于环境因素导致的SER变动幅度有几倍至百倍,再加上制造工艺和设计变动导致的SER差异,SER的变动幅度会达到千倍.2.2检查点机制检查点机制中的一个重要问题是程序执行多久才保存状态,这称为检查点间隔的确定.Daly图1所示的检查点运行方式,将总的运行时间分为应用运行时间、检查点保存时间、错误恢复时间和重复计算时间,并对每个部分分别建立数学模型.在总的运行时间最小的前提下,Daly求解数学模型得到最优检查点间隔的计算方法.Tex=其中,δ为检查点保存开销,等于图1中的Tov.式(2)是分段函数,原因是Daly建立的数学模型没有精确解,只能通过高阶多项式逼近精确解,式(2)上半部分给出的是基于三阶多项式的近似解.精确解的最大值是1/SER,只有在δ大于2/SER时精确解才接近最大值,因此此时直接使用最大值比基于多项式的近似解更为精确.Daly的检查点模型和检查点间隔计算方法是对Young开销误差从5%降低为0.2%.本文需要精确地获得各种方法在不同SER下的开销,因此本文采用了Daly的检查点模型和检查点间隔计算方法.2.3自适应检查点机制在高性能计算、云计算等领域系统呈现出日益增大的复杂性和差异性,如任务的特征、资源的利用率、系统的错误率等因素都会动态地变化.因此人们提出了多种自适应的检查点机制,以根据系统的状态动态地调整检查点间隔,如表2所示.Page4方法ACR[7]FTCS[8]网格计算中的资源各异,MFCA[15]网格计算中资源的利用率本文本文与之前工作的主要不同是本文研究的错误变动的形式更为复杂、变动幅度更为巨大.3参数化犛犈犚的变动本文的目的是以恒定的SER作为参照,研究不同的SER变动对检查点性能的影响,为此我们先要参数化SER变动.SER(t)表示时刻t时的系统软错误率,假设系统初始的错误率为SER0,即SER(0)=SER0,则恒定条件下的软错误率SERc(t)为根据式(1),变动条件下的软错误率SERv(t)为其中X∈{Al,TH,V,T},下面我们来确定X随时间t的变动.X随时间的变动与系统的用途、工作环境等因素密切相关.通常X(t)变动可分为跳跃变动(如电压)和连续变动(如高度、温度).跳跃变动时我们用式(4)描述X(t)相对参考点X0的变动:其中,参数a为X(t)在参考点X0基础上的具体变动幅度;a>0表示在X0基础上增大,a<0表示减小;T是X(t)变动的周期,式(4)通过取模运算实现了X(t)以T为周期进行变动;Tv表示变动幅度a持续的时间,它的范围为0Tv<T,Tv=0时相当于X(t)不变动.图3是a=-0.5时X(t)跳变的示例,其中周期T=800,跳变持续时间Tv=400.图3中没有给出时间单位,因为各个因素的具体变动的时间有很大差别,图中只是变动形式的示例.当连续变动时我们用式(5)表示X(t)X(t)=X0,X0+a×sin(π(t-T+Tv)/Tv),t%T>T-{图3也给出了a=1时的X(t)连续变动.这里用sin函数表示变动,主要是因为sin函数是周期函数且其导数也是变动的,这对错误预测是一个挑战.结合式(3),连续变动的软错误率为SERv(t)=我们令A=Cx×a,因为Cx是单位X的变动幅度引起的SER倍数,a为X的具体变动幅度,所以参数A表示具体的X变动所引起的SER倍数.如对于高度Cx=0.8表示每升高1km,SER增大e0.8倍,若a=5km,则A=4表示最大变动幅度为e4倍.图4是A=-1,A=3的连续变动和A=0.5的跳变的SERv(t)示例.式(6)中如果A=0则表示SER不随时间变动.每个周期T中错误发生的总次数是SERv(t)在时间0到T上的积分.从图4可知,当A=3时错误总次数大于A=0(不变动)和A=-1时的错误总次数.由于容错开销和错误发生次数密切相关,而本文研究的目的是错误变动对容错代价的影响,所以必须消除错误次数对开销的影响.为此,我们引入参数K对错误次数进行均等化.SER不变动时每个周期Page5T中发生的错误总数为∫我们用式(7)进行均等化错误次数:所以,K=SER0×T∫由A和Tv/T决定.错误总数均等化后的SERv为SERv(t)={SER0×K,SER0×KeA×sin(π(t-T+Tv)/Tv),t%T>T-式(8)中SERv(t)的示例见图5.图5均等化后SER随时间的变动形式示例本文研究的变动错误率对容错开销的影响都是以式(8)为基础的,我们再总结一下相关参数.(1)平均错误率SER0.SER0是参考点的错误率,也是SERv(t)均等化后每个周期的平均错误率,它的大小决定着每个周期发生的错误总次数.(2)变动幅度A.错误率变动幅度的定义为SER_MAX/SER_MIN=e|A|,当A>0时为增大变动,A<0时为减小变动,A=0时不变动.(3)变动持续时间Tv.SER以T为周期变动,Tv表示错误率变动持续的时间,T-Tv则是SER不变的时间段.(4)变动持续时间的比例pn.在一个变动周期T中,pn=Tv/T表示变动的时间比例.根据变动是否连续和A是否大于0,我们将SERv(t)变动分为表3所示的4类.X(t)连续变动X(t)跳跃变动本文的主要工作就是在这4类变动中研究参数SER0,A,Tv和pn对检查点开销的影响.实际的系统所面临的SER变动要比本文模型中的复杂很多,但是可以看成是多个简单变动的相互叠加.4错误率预测错误率通常用一定时间段中发生的错误数来衡量,在错误率恒定时,选择的时间段越长计算的结果越精确.但是在错误率变动时,却不是这样,图6是用最近的200h发生的错误数来预测当前的SER.从图6可以看出,预测的SER与理论上的SER有明显的延迟,这主要是由于选择的时间段太长了,因此错误预测的关键是选择合适的时间段.我们把用来预测SER的时间段称为预测窗口PW(PredictionWindow),图6的预测窗口为200h.图6SER预测误差示例.较粗的线是由式(8)所得的理论上的SER,散点是根据粗线模拟的错误发生(每个点代表一次错误,横坐标是错误发生时间,纵坐标是此时的瞬时SER),细线是根据散点预测的SER.预测窗口PW=200h错误率预测的误差由两个因素导致:随机性和延迟性.错误发生的时刻有很强的随机性,而随机性会导致错误率计算精度的误差.其解决方法是通过多次错误来平均,平均的次数越多随机性误差就越小.由于预测错误率使用的是历史数据,即使随机性误差很小但是错误率可能在这段时间已经发生了变化.这称为延迟性误差.其解决办法是尽量用最近的历史数据,所用的历史数据越接近当前时刻,延迟导致的误差就越小.遗憾的是这两种误差的解决方法有很大的冲突,前者要求使用更多的错误次数,意味着要采用更长时间段的历史数据,也就意味着会增大延迟性误差.这个矛盾在错误率较小时尤为明显.因此必须兼顾两者的平衡,本文提出了一种动态确定预测窗口的方法即DPW(DynamicPredicationWindow)算法来预测SER.我们首先定义相关的符号和函数.Page6t:当前系统时间;numbErr(pw):在预测窗口pw中发生的错误数;SER(pw):以pw计算的SER,等于numbErr(pw)/pw;RE(s1,s2):两个软错误率s1和s2的相对误差|s2-s1|/s1.算法1.基于动态预测窗口预测SER.输入:当前系统时间t,已发生的错误总数Nt,错误发生的输出:当前系统的实时SER1.MTTE=t/Nt2.狆狑=10×MTTE//初始化预测窗口3.WHILEnumbErr(狆狑)>504.狆狑=狆狑-MTTE;//缩小pw5.ENDWHILE6.IFpw<10×MTTE7.RETURNSER(狆狑);//算法结束8.ENDIF9.s1=SER(pw),s2=SER(pw+MTTE);10.WHILERE(s1,s2)<1且numbErr(狆狑)<5011.狆狑=狆狑+MTTE;//扩大pw同时更新s1和s212.ENDWHILE13.RETURNSER(狆狑);DPW的目标是在特定误差限制下寻找合适的PW从而均衡随机性误差和延迟性误差.我们给出的随机性误差限制是最大错误数为50,即错误次数大于50后我们不再扩大PW.因为此时随机性导致的误差已经较小(约0.02)而需要平衡的是延迟性误差(算法3~5行).所以,当算法在第3行发现错误数大于50时就缩小PW直到错误数小于50,然后计算SER,算法结束.错误次数小于50时算法需要增大PW,但是同时需要考虑延迟(算法6~9行),我们用PW扩大前后的SER相对误差来确保延迟性误差较小.当相对误差较大时,说明PW扩大前后的SER变动较大,延迟性误差较重要.DPW能实现随机性误差和延迟性误差的平衡,无论对SER连续变动还是跳变,无论向上变动还是向下变动,都具有总体上较好的适应性.5验证方法我们通过模拟Daly查点的开销.错误的产生是一个Poisson过程,我们通过随机数来模拟它.我们实现了一个基于时间步的检查点模拟方法,模拟流程如过程1所示.过程1.检查点机制模拟验证方法.输出:应用本身运行时间Tsolve,检查点开销为(Ttotal-WHILE模拟时间小于检查点运行总时间Ttotal模拟时间增加一个时间步step;如果错误发生,则开始恢复错误;否则如果错误恢复完成,则重新执行之前的检查点;否则如果检查点间隔完成,则Tsolve=Tsolve+Tex,重新设定检查点间隔.ENDWHILE在具体讨论模拟精度前我们先确定检查点机制的基本参数.根据文献[16],本文选取SER0为每1/100min-1,Ttotal=3200h,检查点保存的时间开销Tov=2min,错误恢复的时间开销Tr=4min.周期T和Tv需要根据SER0来确定,因为在每个变动周期中足够数量的错误次数才能显示出错误率的变动.本文选择周期T=800h,Tv=400h,则pn=1/2.本文以上述参数的值为基础,研究变动模型中4个参数的变化对检查点开销的影响.5.1确定模拟步长和模拟次数在过程1中影响模拟精度的有:模拟步长step的大小和每种情况下模拟的次数.步长的大小对模拟的精度影响很大.对错误率为λ的Poisson过程而言,由于每个step最多发生一次错误,因此每个时间步中错误发生次数的期望的相对误差为(λ×step-1×(λ×step)e-λ×step)/(λ×step)=1-e-λ×step.当步长分别为1min,0.1min和0.01min时(λ=SER0=1/100min-1),误差分别为0.99%,0.1%和0.01%.因此我们选择步长为0.1min以期望得到0.1%量级的误差.我们还要确定每种情况下的模拟次数,多次模拟进行平均可以降低模拟的随机性误差.根据文献[17],在99%的置信度和0.1%的预期误差下,当步长为0.1min时,每种情况下需要模拟的步长数应为6.64×109,除以每次实验的总步长数3200×60/0.1,所以每种情况下实验的次数约为3500次.5.2模拟误差分析和优化本实验中模拟的精度主要体现在两个方面:一是模拟的错误发生次数的精度;二是模拟的容错开销的精度.我们通过比较理论计算的值与模拟的值来分析模拟误差.基于上文确定的检查点的基本参数,表4列出了理论计算的错误发生次数和容错开销.理论上总的错误发生次数为3200×60/100=1920.根据Daly不同变动幅度对应的容错开销.Page7理论计算模拟step=0.1min1918.731917.741911.711906.56模拟step=MIN{0.1,0.1×SER0/SERv(t)}1918.211918.971918.101918.54理论计算模拟step=0.1min模拟step=MIN{0.1,0.1×SER0/SERv(t)}从表4中可以看出,当SER不变动时(A=0)平均错误数为1918.73,与理论值的相对误差只有0.07%,这说明了5.1节确定的模拟步长和模拟次数的有效性.但是随着变动幅度A增大到5,错误数下降为1906.56,而相对误差也增大到0.7%.这主要是因为在变动幅度较大时,会出现在极短时间中发生很多错误而步长精度不足.所以我们对模拟步长进行了改进,使用了变动步长step=MIN{0.1,0.1×SER0/SERv(t)},即在错误率较大时使用更小的步长.如表4所示,在变动步长下错误次数的相对误差在各个幅度A下都小于0.1%.对容错开销而言也类似,变动步长可将A=5时的模拟误差从1.85%降低为0.63%,从而保证在变动较大时的容错开销的模拟误差小于1%.图7不同SER0下检查点的性能开销(柱状图左纵坐标)和相对性能改善(散点线图右纵坐标)(|A|=3,Tv=400h,pn=1/2)我们对下面4种方法进行了模拟评估.(1)FIX.检查点间隔在执行过程中不变,采用平均错误率SER0确定检查点间隔.(2)SACP_OPT.自适应检查点间隔,在每个检查点都采用理论上的SER计算检查点间隔,从而确保每个检查点间隔都是最优的.这是为了评估SACP可达到的最好效果.(3)SACP_DPW.自适应检查点间隔,每个检查点采用DPW预测的SER计算检查点间隔.这是评估SACP实际上能获得的性能改善.(4)SACP_FTCS.自适应检查点间隔,错误预测的方法基于FTCS[8].SER=已发生的错误数/已运行的时间,这种方法是动态预测SER的最基本的方法.用来与DPW进行比较.6评估结果为了描述方便我们约定:将“FIX开销-SACP开销”称为绝对性能改善,将“(FIX开销-SACP开销)/FIX开销”称为相对性能改善.如不明确说明,性能改善默认指相对性能改善.6.1平均错误率犛犈犚0图7(a)中的结果显示,FIX和SACP_OPT的Page8性能开销都随着SER的减小而降低.SACP_OPT的绝对性能改善从19%迅速降低为1.3%,但是相对性能改善从17%(SER0=1/12.5min-1)降低到15%(1/100min-1)后趋于稳定.这是因为在错误率很小时,检查点的开销主要是检查点保存的开销,而不是错误恢复的开销.SER变动时,SACP的检查点保存的次数比FIX的要少.这是因为在错误率高时SACP检查点保存次数多于FIX,而错误率低时少于FIX,但总体而言错误率低的幅度要大于错误率高的幅度.总之,在错误率较高时SACP可以大幅度的降低开销;即使错误率很低,SACP在理论上也可以获得一定程度(>10%)的相对性能改善.图8不同变动幅度A下检查点的性能开销(柱状图左纵坐标)和相对性能改善(散点线图右纵坐标)变动幅度|A|<1时,DPW不会获得性能改善.但是随着|A|的继续增大SACP_DPW获得的改善会快速增大到13%~23%,其基本上的走势与OPT相符,特别是对图8(b)和(d).与FTCS相比,DPW在A>1后能获得更好的性能改善,随着A的增大优势更为明显.6.3变动持续时间犜狏从图9可以看出在pn不变时,无论Tv如何变化,SACP_OPT的性能改善基本保持不变,对图9(b)约为8.5%,其他约为15%.SACP_DPW在错误率较高时能显著降低开销(>10%),但是在错误率小于1/200min-1后SACP_DPW能获得的益处将迅速减小(小于5%).这是因为在错误率很低时,DPW的预测精度会急剧减小,无法获得理论上SACP的好处.与FTCS相比,DPW能获得的性能改善总是更大,特别是在SER0较小时DPW的优势更为明显.图7(b)、(c)、(d)也表现出了类似的结果,总体而言向上变动时DPW的优势比向下变动时更为明显.6.2变动幅度犃从图8中可以看出,随着变动幅度|A|的增加,SACP_OPT的性能改善会迅速增大到15%~30%.SACP_DPW可改善的性能与Tv密切相关,在Tv=25h时性能开销还大于FIX.随着Tv的增大DPW的性能改善逐渐接近OPT.从接近的速度上来看,图9(b)、(d)要快一点(Tv=200h)而图9(a)、(c)慢一点(Tv=800h).从接近的最终效果上看,图9(c)、(d)要好一点(差距为1.1%)而图9(a)、(b)相对差一点(差距为2%).与FTCS相比,DPW除了在Tv>800h时的开销相近外,其他情况均比FTCS能够获得更多的性能改善.Page9图9不同变动持续时间Tv下检查点的性能开销(柱状图左纵坐标)和相对性能改善(散点线图右纵坐标)6.4变动持续的时间比例狆狀从图10可以看出在pn小于0.5时,SACP_OPT的性能改善迅速增大.当pn继续增大时,图10(a)的性能改善却开始下降而图10(b)还是继续增大,这个原因比较复杂.我们通过误差比率进行说明,图11显示了FIX相对OPT的误差比率.某一个时间点t的误差比率ER(t)定义为MAX(SER_FIX,SER_OPT(t))/MIN(SER_FIX,SER_OPT(t)),当SER_FIX>SER_OPT(t)时,称此时的误差为过量误差(SE_OV),否则称为不足误差.图11显示了总误差比率、过量误差比率和过量误差占总误差的比例.对图11(a)和(b),总误差比率都从1增加到3.8(pn=6/8),然后开始下降.但是图11(a)中过量误差的比例从100%下降到91%,而图11(b)中却从0增加到94%.相同误差下,过量误差比不足误差对检查点性能的影响要大,这也与已有的研究结果相符,所以才会出现图10中pn对图10(a)、(b)的不同影响.从图10可以看出,DPW的性能改善和OPT的比较接近.在pn>1/8后DPW的性能改善比FTCS的更好.对于跳变,其趋势也类似,限于篇幅就不叙述了.图10不同变动持续比例pn下检查点的开销(柱状图左Page10图11不同变动比例pn下的总误差比率、过量误差比率7总结随着器件工艺尺寸的缩小和系统运行环境的日益复杂,系统的SER会呈现出明显的变动性.SER变动的幅度从几倍到几百倍.检查点是广为使用的容错技术,其开销和检查点的间隔密切相关,而检查点间隔的确定又和错误率密切相关.自适应检查点机制通过预测系统的错误率从而确保系统的检查点间隔始终与最优状态接近.目前的研究很少关注SER变动,本文是首次研究SER变动对检查点开销的影响.(1)基于系统的温度、电压、位置等因素对软错误率影响的原理,本文建立了包含参数SER0,A,Tv,pn的错误率变动的模型.根据SER变动的特点将SER变动分为4种类型:连续向上变动、连续向下变动、跳跃向上变动和跳跃向下变动.(2)针对4种变动类型,本文研究了模型中每个参数对检查点性能的影响程度,模拟了在理想情况下自适应检查点机制能够获得的最大性能改善.(3)本文提出了基于动态预测窗口算法进行错误率的实时预测的方法,验证了在实际情况下自适应检查点能够达到的性能改善.实验结果表明变动的幅度在3倍以上且持续时间在12.5%以上时,本文方法就能获得实际上的性能改善.本文通过大量的模拟实验,获得了SER变动的具体形式(SER0,A,Tv,pn)对检查点开销的影响程度和影响的趋势.实际的系统所面临的SER变动要比本文模型中的复杂很多,但是可以看成是多个简单变动的相互叠加.因此,本文的研究结果对具体系统的容错设计具有参考价值,例如系统是否需要考虑SER变动、是否需要采用自适应检查点机制等.
