Page1一种基于元路径的异质信息网络链路预测模型黄立威1),2)李德毅2)马于涛3)郑思仪2)张海粟4)付鹰1)1)(中国人民解放军理工大学指挥信息系统学院南京210007)2)(中国电子系统工程研究所北京100039)3)(武汉大学软件工程国家重点实验室武汉430072)4)(中国人民解放军国防信息学院武汉430010)摘要真实世界中不同类型的对象之间相互连接,形成异质信息网络.预测网络中对象之间的连接或交互是网络分析中的一个重要任务.不同于传统的同质性网络的链路预测,异质信息网络中,由于存在多种类型的节点和边,节点之间可以通过不同的关系进行连接.文中使用元路径,即通过一组关系连接了多种节点类型的路径,来描述异质信息网络中不同类型对象之间各种连接的不同语义,从而提出一种异质信息网络链路预测模型,通过组合对象之间在不同元路径上建立连接的概率来进行链路预测.在DBLP和Last.fm两个真实数据集上的实验结果表明:在7种关系的链路预测中,相比最好的基准方法,文中方法的AUC值平均提升了5.93%;另外,在链路预测中,通过元路径区分不同类型的节点和边之后,预测精度得到了明显提升;最后,为了平衡预测精度和模型的可扩展性,实验分析表明链路预测中仅考虑路径长度小于5的元路径就已经足够产生很好的预测结果.关键词异质信息网络;链路预测;元路径;社会计算;社交网络1引言在大数据时代,随着大量社交网络和信息网络的出现,链路预测已经成为数据挖掘研究的一个重要方向.链路预测的主要任务包括:对缺失连接的预测、对未来连接形成的预测.通常我们可以融合各种信息进行链路预测,包括节点属性和网络结构,已经存在的很多预测方法利用了节点属性和网络结构进行链路预测[1-2].虽然应用节点属性等外部信息通常可以得到很好的预测结果,但是很多情况下,节点属性都难以甚至不可获取,而且即使获取到,也常常伴随着大量噪声.相比节点属性信息而言,网络的结构更容易获得,也更加可靠[3].因此最近几年,基于网络结构的链路预测方法受到越来越多的关注,也是本文链路预测研究的思路.当前大部分的链路预测研究[4-8]都聚焦在同质网络,即网络中仅仅存在一类对象和一类连接.然而大部分现实网络都是异质的,包含了多种不同类型的对象和连接,例如在DBLP中包含了作者、文章和会议等对象,不同对象之间的连接关系也是不同的.最近,已经出现一些研究[2,9-11]开始关注这类异质信息网络的链路预测问题.在异质信息网络中,节点和连接的异质特性和复杂性让链路预测变得更加困难.为了在异质信息网络中利用大量已有的针对同质网络的链路预测方法,通常采用两种典型处理方式:(1)将所有节点和连接都当作相同类型对待;(2)独立地研究每种类型的连接,而忽略不同类型连接之间的相关性[11].但是,以上两种方法都可能造成很多重要信息的丢失,因为不同类型对象之间的连接具有不同的含义,可能具有不同的形成机制,同时也会相互关联和相互影响,导致各自在链路预测中的作用也不同.因此,链路预测时区分不同的异质信息,即区分各种连接在链路形成时的作用是必要的.这就产生了本文研究的问题:如何定量地区分不同连接的作用,从而设计一个有效的方法进行异质信息网络的链路预测.这个问题提出了一系列的挑战:(1)需要同时考虑不同类型的节点和连接的信息,如何区分不同的节点和连接的类型进行链路预测;(2)需要一种自动优化的方法确定不同类型的节点和连接的作用.针对以上问题,在本文中,我们借鉴Sun等人[12]提出的元路径的概念,提出一种基于元路径的异质网络链路预测模型(MetaPath-basedLinkPredictionModelforHeterogeneousNetworks,MPLP),进行异质信息网络中的链路预测.主要贡献如下:(1)使用不同的元路径,区分不同类型节点之间存在的不同关系,并提出一种概率方法,通过集成不同元路径上节点之间建立连接的概率,进行链路预测;(2)在真实的数据集中进行测试,并与基准方法比较,证明我们的方法更加有效,学习到的不同元路径的权重可以用来更好地理解异质信息对于链路形成的作用.本文第2节介绍相关工作,说明本研究与相关工作的差异;第3节对本文的研究问题进行定义;第4节是我们提出的基于元路径的异质网络链路预测模型;第5节是实验结果和分析;最后第6节给出本文的结论.2相关工作文献[4]回顾了几种典型的非监督链路预测方法,包括基于邻域的方法,如CommonNeighbor(CN)[13]、Jaccard指标(JC)[14]、Adamic/Adar指标(AA)[15]、偏好依附[16]等,以及基于路径的方法,包括Katz指标、平均通勤时间、PageRank值和SimRank指标等.此外,有研究者提出了基于最大似然估计的链路预测方法.文献[6]认为很多网络的连接可以看作某种内在的层次结构的反映,继而提出了一种最大似然估计算法进行链路预测,该方法在处理具有明显层次结构的网络时具有较高的精确Page3度.文献[17]假设观察到的网络是一个随机分块模型(stochasticblockmodel)的一次实现,在该模型中节点被分为若干集合,两个节点间连接的概率只与相应的集合有关,从而提出一种基于随机分块模型的链路预测方法,不仅可以预测缺失边,还可以预测网络的错误连接.基于最大似然估计方法的一个最大问题是计算复杂度太高,因此并不适合在规模较大的网络中应用.以上链路方法都是针对同质网络,更多的同质网络中的链路预测方法可以参考文献[3].在异质网络中,由于节点和连接具有多种类型,进行链路预测更加困难,目前相关的研究还较少.文献[11]中,Davis等人提出一种多关系链路预测(MRLP)的方法,通过概率加权的方法对不同连接类型上的Adamic/Adar度量指标进行组合,预测对象之间形成某种连接的概率,这种方法是Adamic/Adar度量指标在异质信息网络中的扩展,仅仅能够抓住一些局部信息,而且其有效性依赖于某些特定的网络,另外,其计算复杂度太高、不够灵活.此外,文献[11]中,作者还通过将节点拓扑特征作为属性,构造出分类器来预测链路形成,但这种方法受限于特征的构造,而且计算的过程非常费时.文献[9]中,Yang等人提出一种多关系影响力传播(MRIP)链路预测方法,通过在多关系网络中计算对象之间的相互影响力,预测对象间产生连接的概率,这种方法考虑了多种关系之间的相关性,但类似于MRLP,这种方法也是一种无监督的方法,其性能依赖于特定的网络.事实上MRIP和MRLP两种方法都是用于多关系链路预测,在对象之间存在多种关系的前提下,预测某种关系产生的概率,不同于本文所研究的问题.文献[10]中引入一个节点搭配情况(vertexcollocationprofile,VCP)的概念,以描述对象之间的关系,并将其应用于链路分析和预测.此外,Sun等人[18]研究了异质信息网络中关系建立时间的预测问题,不仅可以预测链路是否形成,还可以预测链路形成的时间.文献[19]中,Dong等人研究了交叉异质网络中的链路预测问题,但它实际上是利用了多个不同的同质性社交网络中的信息,进行链路预测和推荐,与本文关注的异质信息网络中的链路预测问题不同.3问题定义在本节中,先给出几个相关的定义,然后给出异质网络中链路预测问题的形式化定义.定义1.信息网络.信息网络被定义为一个有向网络G=(V,E,A,L),其中V是所有节点的集合,E是所有边的集合,A是所有节点类型的集合,L代表所有边类型的集合,网络中存在n(n-1)条有向节点对,全集用U表示.存在一个节点类型映射函数τ:V→A和一个边类型映射函数:E→L,其中任一节点v∈V属于一种对象类型τ(v)∈A,每一条边e∈E属于一种边类型(e)∈L.如果两条边具有相同的类型,那么它们具有相同的源节点类型和目标节点类型.区别于传统的一般网络的定义,在信息网络的定义中,特别区分了节点的类型和边的类型.显然一个信息网络,如果|A|>1或者|L|>1,网络为异质信息网络,否则为同质信息网络.在本文中,为了给异质信息网络提供元层次的网络结构描述,我们使用文献[12]中提出的网络概要(NetworkSchema)的概念,通过网络概要可以获得网络中存在的节点类型和边类型,以及各种节点类型之间存在的边关系.图1给出了本文实验中用到的两个异质信息网络的网络概要:DBLP①和Last.fm②.其中在DBLP中,我们选择了3种节点类型,分别为文章(Paper,P)、作者(Author,A)和文章出处(Venue,V)(包括会议和期刊),边类型包括作者和文章之间“write”和“writtenby”关系(PA)、文章与文章出处之间的“publish”和“publishedby”关系(PV),以及文章之间的“citation”关系(PP).Last.fm数据中包含了3种节点类型,即用户(User,U)、标签(Tag,T)和项目(Item,I),包括4种边类型:分别为用户关系(UU)、用户与标签之间的贡献关系(UT)、标签与项目之间的连接关系(TI)以及用户与项目之间的点击关系(UI).基于网络概要,本文进一步借用文献[12]中提出的元路径(MetaPath)的概念,用来描述网络概要中,两类对象之间的连接路径.研究两类节点在元层次上存在的关系,不同的元路径代表了对象类型之间可以通过不同的节点类型和连接建立不同的关系,例如在DBLP的网络概要中,会议—文章—作者(VPA)是一个元路径,表示会议与作者之间通过相同文章建立的一种路径,路径中包括会议与文章之间的“publish”关系和文章与作者之间的“writtenby”①②Page4关系.显然,不同元路径具有不同的语义来描述节点之间的接近度,本文正是通过元路径研究节点之间不同类型的接近度,预测对象之间建立某种连接的可能性.因此,我们的问题是给定一个异质信息网络,预测两个对象之间建立某种连接的概率,下面是问题的形式化定义:问题1.链路预测.给定一个异质信息网络G=(V,E,A,L),对于网络中的两个节点,源节点vi和目标节点vj,其中vi的节点类型τ(vi)和vj的节点类型τ(vj)之间存在边类型l∈L,且vi和vj之间当前没有建立类型l的连接,链路预测的任务是学习一个预测函数,使我们能够预测vi和vj建立类型为l的边的概率:预测函数将针对每一个节点对和边类型输出一个概率P(vi,vj,l),从而利用节点对之间建立某种连接的概率进行预测.4基于元路径的异质信息网络链路预测模型在本节中,我们提出一种概率方法将异质网络中的链路预测问题建模到一个统一的模型中.本质上节点之间建立连接的概率可以由节点之间的路径距离反映,但异质信息网络中节点之间存在不同类型的路径,即不同类型的元路径,代表了节点之间不同的连接概率.因此,对象之间建立连接的概率应该由两个因素决定:(1)在每条元路径上,对象之间连接概率的大小;(2)每条元路径在链路预测中的质量权重,质量权重越大,相应的元路径在链路预测中的作用越大.本文通过选择对象之间不同的元路径,学习不同元路径上对象之间的接近度和每一条元路径在链路预测中的质量权重,预测节点之间建立连接的概率,提出一种基于元路径的异质信息网络链路预测模型.为了进一步将模型描述清楚,如图2所示,本文给出一个简单的实例.我们使用Last.fm作为例子,为了预测用户“黄立威”收听歌曲“PokerFace”的概率,选择了路径长度等于2的两条元路径:UUI(图中为实线)和UTI(图中为虚线),其含义分别代表用户“黄立威”的好友收听过歌曲“PokerFace”以及用户“黄立威”与歌曲“PokerFace”拥有相同的标签.通过预测两条元路径上用户“黄立威”收听歌曲“PokerFace”的概率π12,1和π12,2,以及优化两条元路径的质量权重α1和α2,融合两个要素最终可以计算得到两个节点建立连接的概率P(v1,v2,UI).下面,首先分别对决定对象之间连接概率的两个因素进行建模,然后将它们融合到一个统一的模型中.4.1连接建立概率为了获得对象之间在每条元路径上建立某种连接的概率,我们提出一种概率产生模型以建模关系的产生.给定某一节点vi,称之为特征节点,它所属于的节点类型为τ(vi),称之为特征类型S;以及一个目标节点vj,它所属于的节点类型为τ(vj),称为目标类型T.S和T可以是相同的节点类型.设S与T之间存在M条元路径P1,P2,…,PM,每条元路径在链路预测中的质量权重分别为α1,α2,…,αM,同时假设元路径Pm上的邻接矩阵为犠m,而相应的连接建立概率矩阵为Πm.假设给定元路径Pm时,目标对象之间相互独立,且邻接矩阵犠m中的关系是独立Page5产生的,即沿着元路径Pm,路径两端的任意两个节点之间的连接建立是相互独立的,因此,对于一个特征类型S和一个目标类型T,给定它们之间一条元路径Pm,可以发现似然函数服从多项式分布,似然概率可以定义为P(犠m|Πm)=∏i其中,wij,m是vi与vj之间在元路径Pm上观测到的权值,是犠m中相应位置的元素,πij,m是vi与vj之间通过元路径Pm建立连接的概率,是Πm中相应位置的元素.因此,可以通过组合不同的元路径,获得特征对象类型S与目标对象类型T之间的连接建立概率矩阵Π.下一步是决定不同元路径的质量权重,以便组合所有元路径上的连接建立概率,进行链路预测.4.2元路径的质量权重学习每条元路径在链路预测中的质量权重,一般的思路是对元路径Pm,度量观测到的邻接矩阵犠m是否和连接建立概率矩阵Πm一致,一致性越高,后验概率P(Πm|犠m)越高.因此,为了度量每条元路径Pm的质量权重αm,我们将观测到的邻接矩阵用αm犠m代替原始的犠m,αm越大表示元路径Pm在整个链路预测中的作用越大.假设πi,m为一个具有参数为i,m的狄利克雷分布,αm由观测到的邻接矩阵犠m与连接建立概率矩阵Πm的一致程度决定,我们的目的是找到αm,使给定带有质量权重的观测邻接矩阵αm犠m时,πi,m的后验概率达到最大:由于狄利克雷分布是多项式分布的共轭先验,因此πi,m的后验概率是参数为αm狑i,m+i,m的一个狄利克雷分布,即其概率密度为p(πi,m|αm狑i,m,i,m)==1其中,ni,m=∑jvi与目标类型中所有目标对象之间的关系权值之和.因此,按照这种方式对αm进行建模,可以发现αm具有以下清晰的含义:(1)αmwij,m+ij,m是新的狄利克雷后验分布的第j个维度的参数;(2)αm越大,邻接矩阵犠m与连接建立概率矩阵Πm更可能一致,元路径Pm在两种类型的节点之间进行链路预测的作用越大,在极端情况下,当αm→时,πi,m→狑i,m/ni,m;(3)αm越小,邻接矩阵犠m与连接建立概率矩阵Πm之间的关系越小,元路径Pm在两种类型的节点之间进行链路预测的作用越小,在极端情况下,当αm→0时,πi,m服从由一个参数为i,m的狄利克雷分布.注意这里我们并没有考虑αm取负值的情况,当αm取负值的时候,意味着相应的元路径对节点之间建立连接时产生了消极的作用,这种情况本文并没有考虑.极端情况下,当αm为0时,意味着相应的元路径对节点之间建立连接没有作用.4.3统一模型通过综合以上两个因素,可以得到联合概率:P({αm犠m}M=∏m∏i=∏m∏i根据式(2),可以得到此外,在给定i,m的情况下,πi,m服从狄利克雷分布,因此可以得到根据式(8)和(9)可以得到最终的联合概率:4.4参数估计我们的目标是使得带有质量权重的观测邻接矩阵与连接建立概率矩阵的一致程度达到最大.为了对参数进行学习,在给定θ={α,Φ1:M}的情况下,我们通过最大化一个{犠m}M实现,log似然后验概率为(θ)=logP(W1:M|α,Φ1:M)=∑m∑i=∑m∑iPage6=∑m∑i∝∑m∑i根据式(10),将log似然后验概率转化为目标函数J(θ).J(θ)=∑m∑i=∑m∑i=∑m∑i最大化log似然函数,可以得到有很多的方法能对参数进行估计,在本文中,我们采用梯度下降方法对参数进行优化,参数的更新过程为其中,ηθ为所有参数θ的迭代步长,进一步对目标函数求ij,m偏导数:(J(θ))ij,m=Ψ∑j其中,Ψ(x)是Digamma函数,即Ψ(x)=dlogΓ(x)对于αm,我们设定∑m(J(θ))αm=∑i∑j为了保证最终能够收敛,在一般的梯度下降方法中,通常将迭代步长ηθ设置为较小的固定值,但如果ηθ值太小则会影响迭代的收敛速度,在本文中,我们借鉴Lee等人的优化非负矩阵分解(NMF)方法[20],将迭代步长设置为ηij,m=ηαm=根据上面设置的迭代步长,可以进一步获得参数的更新公式:ij,m=t-1tαtm=αt-1m参数估计的过程如算法1所示,算法复杂度为|Em()(ot∑m应的邻接矩阵中非零元素的数量,t为迭代次数.计算复杂度与元路径的数量和每条元路径上的关系数量成正比,因此参数的学习算法具有非常高的可扩展性.算法1.参数估计.输入:网络G,预测的连接类型l,源类型与目标类型之输出:每条元路径Pm上,连接建立概率πi,m的狄利克1.Normalizetheweightofeachrelationmatrix犠m2.Initialize{i,m}i,m,{αm}M3.REPEAT4.Updateparameterij,maccordingtoEq.195.UpdateparameterαmaccordingtoEq.206.UNTILConvergence7.RETURNij,m,αm4.5模型推理根据观测邻接矩阵和参数,推理模型的连接建立概率矩阵,即对于一个给定的源对象vi,我们希望预测它与一个目标对象vj的连接概率πij,可以通过在给定观测邻接矩阵和参数的情况下,最大化一个πi,m的后验概率来实现:P(πi,m|αm狑i,m,i,m)是一个狄利克雷分布.假设特征对象沿着一条元路径连接其他所有目标类型的目标对象的概率之和为1,即在优化过程中,存在一个约束条件∑j格朗日乘数法,可以获得优化的πij,m:最后,通过组合节点对在所有元路径上中建立其中,πij,m为πi,m中的第j个元素.连接的概率,即πij=∑m预测.4.6讨论在异质信息网络中,不同类型的连接关系具有Page7不同的含义,并且需要不同的度量标准,因此它们在链路预测中的作用也不同,需要一种有效的方法将它们统一到一致的尺度上.例如,在Last.fm数据集中,用户和用户之间存在关系,用户与项目之间也存在关系,显然这两种关系具有不同的含义,需要有一个统一的定量度量标准.通常,最直接的做法可以为每一种类型的连接关系分配不同的权重,其取值可以通过优化方法进行学习,在此基础上再运用其他方法进行链路预测[21].然而在本文中,我们基于元路径的思想,为每条元路径分配不同的质量权重,通过优化方法,学习到最佳的质量权重配置,从而组合不同元路径上节点对之间建立连接的概率进行链路预测.下面我们通过讨论进一步说明两种方法可以达到相同的效果.假设信息网络中有|L|种不同的连接类型,给每一种类型的连接赋予的质量权重分别为λ1,λ2,…,λ|L|;假设元路径Pm上存在K个对象类型,即Pm=a1a2…aK,其中,a1,a2,…,aK∈A,则元路径Pm上的邻接矩阵为犠m=Wa1·Wa2·…·WaK.当我们优化{λl}|L|对应的邻接矩阵的时候,给邻接矩阵乘以相应的质量权重λl,同时元路径Pm上的邻接矩阵乘以了λa1·λa2·…·λaK,此时不妨假设αm=λa1·λa2·…·λaK,因为αm反映了犠m与Πm之间的一致程度,从而可以发现对质量权重{αm}M{λl}|L|l=1的优化.因此在本文中,我们采用了一种新的方式,通过优化不同节点类型之间的所有不同元路径的质量权重{αm}M组参数不存在严格意义上的转化关系,但最终的目的都是使观测的邻接矩阵尽量与连接建立概率矩阵一致,以克服不同类型的连接关系由于度量标准不同而带来的影响.5实验与分析在本节中,将我们提出的方法与几个基准方法进行比较,展示我们方法的有效性.5.1数据集在本文中,我们使用两个真实的信息网络———DBLP网络和Last.fm网络.对于每个网络,我们按照网络中的边类型,在各种边类型上进行链路预测实验,并比较实验结果.第一个是DBLP数据集,我们使用Tang等人[22]提取的DBLP引用关系网络.选择了其中数据挖掘、数据库、信息检索和人工智能4个领域的20个会议、9615篇文章、14103个作者,以及16502个引用关系,整个网络总共包含了69428条连接.针对以上数据,我们在三类关系上进行链路预测.另一个数据集是公开的Last.fm数据集①,包括用户、标签和艺术家三种对象,其中有1867个用户、11946个标签、17632个艺术家.数据集包含了四类边关系,包括12717个朋友关系、92834个用户项目关系、35816个用户标签关系和109750个项目标签关系.针对以上数据,我们在四类边关系上进行链路预测.元路径可以通过在网络概要中,使用遍历方式获得,本文采用宽度优先搜索方法.表1给出了两个数据集中不同边类型关联的节点类型之间的路径长度不超过5的元路径数量.表1边类型关联的节点类型之间不同长度元路径的个数数据集关系DBLPLast.fm5.2度量指标为了测试算法的准确性,将已知的连边E分为训练集ET和测试集EP两部分.在计算分数值时只能使用测试集中的信息.显然,ET∪EP=E,且ET∩EP=.在此,将属于U但不属于E的边定义为不存在的边.我们选取文献[3]中给出的AUC(AreaUnderthereceiveroperatingcharacteristicCurve)作为衡量链路预测算法精确度的指标.AUC可以理解为在测试集中的边的分数值有比随机选择的一个不存在的边的分数值高的概率,也就是说,每次随机从测试集中选取一条边与随机选择的不存在的边进行比较,如果测试集中的边的分数值大于不存在的边的分数值,就加1分;如果两个分数值相等,就加0.5分.独立地比较n次,如果有n次测试集中的边的分数值大于不存在的边的分数,有n次两个的分数值相等,则AUC定义为显然,如果所有分数都是随机产生的,AUC=①http://www.grouplens.org/node/462Page80.5.因此AUC大于0.5的程度衡量了算法在多大程度上比随机选择的方法精确.5.3基准方法通常情况下,大部分基于邻域或基于路径的链路预测方法,仅仅能用于同质网络.在异质信息网络中,由于存在不同类型的节点和边,不同的关系具有不同的含义.为了使同质性网络中的链路预测方法可以应用到异质信息网络中,我们将不同的边和关系作为相同类型进行对待,在对实验结果进行对比时再区分节点类型和边类型,从而比较不同关系上的链路预测精度.此外,虽然有一些链路预测方法考虑了节点的属性信息,但因为本文提出的方法是一种基于网络结构的链路预测方法,我们从最常用的基于邻域的方法和基于路径的方法中,选择了5种基于网络结构的方法作为基准方法进行性能比较,其中共同邻居、Jaccard系数和优先连接指标为基于邻域的方法,而平均通勤时间和重启的随机游走为基于路径的方法.(1)共同邻居(CommonNeighbor)[13]简称CN.共同邻居表示两个对象之间拥有的共同邻居的数量,那么对象vi和vj之间的共同邻居数量为|Γ(vi)∩Γ(vj)|,其中Γ(vi)和Γ(vj)分别为对象vi和vj的直接邻居集合.(2)Jaccard系数(Jaccard’sCoefficient)[14]简称JC.Jaccard系数既考虑了对象之间共同邻居的个数,又考虑了属于任意一个对象邻居的对象数量,对象vi和vj之间的Jaccard系数为Γ(vi)∩Γ(vj)Γ(vi)和Γ(vj)同样分别为对象vi和vj的直接邻居集合.(3)优先连接指标(PreferentialAttachment)[16]简称PA.应用优先连接的方法可以产生无标度的网络结构,在该网络中,一条新边连接到节点vi的概率正比于节点vi的度k(vi),因此新边连接节点vi和vj的概率正比于两节点度的乘积,所以vi和vj之间的优先连接指标可以定义为PA(vi,vj)=k(vi)×k(vj).(4)平均通勤时间(AverageCommuteTime)[23]简称ACT.设m(vi,vj)为一个随机粒子从节点vi到节点vj需要走的平均步数,则节点vi和vj的平均通勤时间定义为ACT(vi,vj)=m(vi,vj)+m(vj,vi),可以说,如果两个节点的平均通勤时间越小,则两个节点越接近.(5)重启的随机游走(randomwalkwithrestart)[24]简称RWR.该指标可以看成是网页排序算法PageRank的拓展应用,其假设为随机游走粒子每走一步时都以一定概率返回初始位置.设粒子返回概率为1-c,P为网络的马尔科夫概率转移矩阵,其元素Pij=eij/ki表示节点vi处的粒子下一步走到节点vj的概率.如果vi和vj相连则eij=1,否则为0.某一粒子初始时刻在节点vi处,则t+1时刻该粒子到达网络各个节点的概率向量为狇i(t+1)=c犘T狇i(t)+(1-c)犅i,式中犅i表示初始状态.上式的稳态解为狇i=(1-c)(I-c犘T)-1犅i,其中元素qij为从节点vi出发的粒子最终以多少概率走到节点vj.由此定义RWR相似性为SRWR(vi,vj)=qij+qji.另外,在不区分元路径的情况下,使用我们提出的MPLP方法进行测试,即假设所有的节点和边属于一种类型,与其他方法进行比较,这是MPLP方法的一个特例,即元路径的数量为1,参数α中只包含了一个元素1,我们将这种特殊情况表示为MPLP-1,而将区分不同节点和关系的类型的情况表示为MPLP-2.5.4有效性验证我们从两个数据集中都选择90%的连接作为训练集,将剩余的10%的连接作为测试集,在实验中,基于“六度分离”原则,考虑了路径长度不大于5的所有元路径,重复执行5次的AUC平均值如表2所示.从表中可以看到,在不区分元路径的情况下,与其他基于邻域和基于路径的方法相比,我们提出的方法并没有产生更好的结果;但在区分元路径的情况下,由于可以获得更多的信息,针对两个数据集中的7种连接关系,MPLP方法都优于给出的基准方法,且与每种关系对应的AUC最高值相比(如表2中的斜体部分所示),准确率平均提升5.93%.从整体上看,基于路径的方法和基于邻域的方法产生的结果有好有坏,更加依赖于数据集的具体数据特征和分布.此外,在DBLP数据集中,PV关系的预测精度明显高于其他两种关系,Last.fm数据集中四种关系的预测精度却大致相同.其原因在于DBLP数据集中文章出处的数量与文章和作者的数量相差了几个数量级,而Last.fm数据集中的3种节点类型的节点数量之间相差并没有那么大.Page9Dataset关系CN表2两个数据集中各种类型关系的犃犝犆DBLPLast.fm所有实验的程序代码都用C++编写,实验运行在一台Windows2003服务器上,服务器的CPU为英特尔Corei5(2.4GHz),拥有8GB的内存.5.5元路径长度的影响在我们的MPLP模型中,需要选择不同的元路径,不同的元路径具有不同的语义.理论上,网络中存在的元路径数量可以无穷多,与选择的元路径长度有关,虽然不可能选择所有的元路径,但可以通过选择固定长度以内的元路径来表达节点之间的关系.文献[5]指出,在很多网络中,在仅仅考虑一些短的几何距离的情况下,链路预测往往会获得更好图3不同元路径长度的AUC图4不同元路径长度的一次迭代时间ACTRWRMPLP-1MPLP-2的预测精度.在本节中,我们将讨论元路径长度对链路预测的影响.为了更好地验证元路径长度对预测精度的影响,我们在两个数据集中分别考虑不同元路径长度以内的所有元路径,然后计算各自的AUC值和一次迭代的时间,分别如图3和图4所示.从图3可以看出,在两个数据集中,当考虑了更长的元路径时,AUC的值不断增大,但当考虑了路径为3以上的元路径之后,AUC的值增加的很少.相反从图4可以发现,在考虑了路径为3以上的元路径之后,一次迭代的时间却显著增加.同时,从表1可以发现,随着元路径长度的增加,元路径的Page10|Em()(数量不断增加,而且每条元路径对应的邻接矩阵中非零元素的数量也不断增加,而我们的算法复杂度为Ot∑m计算时间正好与之前的分析一致.基于以上实验结果和分析,在链路预测时,为了平衡预测精度和模型的可扩展性,在通常情况下,我们不需要考虑长度太长的元路径;一般考虑长度在5以内的元路径,就可以得到较好的结果,从而减少额外的计算开销.6结论链路预测是网络科学研究中的基本问题.在现实世界的网络中,由于大量的节点和边的属性难以获取或常常伴随大量噪声,基于网络结构的链路预测受到了越来越多的关注,也是本文所关注的方向.但在很多情况下,网络中都包含了多种不同类型的节点和连接关系,区别于传统的同质性网络中的链路预测,异质信息网络中的链路预测,由于需要区分不同类型的节点和连接关系所具有的不同语义,会变得更加困难.在本文中,我们针对异质信息网络的特征,使用元路径描述节点之间不同类型的关系,提出了一个异质信息网络链路预测模型,通过组合不同元路径上对象之间连接建立的概率来进行链路预测.在DBLP和Last.fm两个真实数据集上进行实验,实验结果表明:在链路预测中,使用元路径区分不同的节点类型和边类型的语义可以取得更好的效果;与基准方法相比,我们的方法取得了更高的预测精度.此外,分析了不同元路径长度对链路预测的影响,为了平衡预测精度和模型的可扩展性,我们发现不宜考虑太长的元路径,路径长度最好保持在5以内.
