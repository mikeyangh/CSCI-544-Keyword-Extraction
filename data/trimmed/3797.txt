Page1社会网络中交易节点的选取及其信任关系计算方法王刚1),2),3)桂小林1),2)1)(西安交通大学电子与信息工程学院西安710049)2)(陕西省计算机网络重点实验室西安710049)3)(西安财经学院信息学院西安710100)摘要社会网络环境中,由于缺乏有效的激励策略,导致节点缺乏服务交易的主动性和积极性;由于存在利益相关,一些节点会相互联合去共同推荐某个节点,形成协同作弊和信任推荐不可信的问题.为此,提出了社会网络中交易节点的选取及其信任关系计算方法.通过设计竞标服务策略来调动节点提供资源服务的积极性.针对不同服务中评价指标权重难以客观确定的问题,提出基于熵权的指标权重确定方法,并利用TOPSIS方法来选择合适的网络交易节点以避免交易节点选取的随意性.由于信任与风险并存,因此引入交易影响力函数来融合节点的直接信任和推荐信任以确定所选交易节点的可信性,并通过考虑推荐时间影响函数、交易内容相似度和推荐熟悉度等多维影响因子来保证推荐可信性.最后提出了基于多属性的节点推荐信任度更新方法.仿真结果表明文中方法对提高节点服务积极性、抑制节点协同作弊和恶意欺诈都有较好的效果.关键词社会网络;信任计算;推荐信任;理想点法;推荐服务进化能力1引言在社会网络环境中,交互双方的信任关系是服务交易的基础.但信任关系的建立是一个复杂递进的过程,涉及交互历史、信任推荐和信任管理等多方面的信息,是一个基于多要素决策的复杂模型系统.在现有社会网络中,一方面由于缺乏有效的激励策略,导致节点缺乏服务交易的主动性和积极性,而且针对众多的服务交易节点,缺乏有效的选择方法;另一方面,在考查所选节点的可信性时,由于存在利益相关,一些节点可能会联合推荐某个节点,形成协同作弊,导致信任推荐的不可信问题.针对上述问题,本文通过建立竞标服务策略,使服务交易节点能够通过竞标获得服务机会和获取相应报酬,以此充分调动节点提供资源服务的积极性;提出了基于熵权的服务指标权重确定方法,保证了权重的客观性和准确性,并利用TOPSIS方法寻找最优交易节点序列.为考查所选节点序列的可信性,引入交易影响力函数计算所选节点的可信性,同时通过对推荐时间影响函数、交易内容相似度和推荐熟悉度等影响因子的综合计算,保证了推荐的可信性.在此基础上,提出了一种基于多属性的节点推荐信任更新方法.本文第2节针对社会网络信任进行相关分析;第3节论述节点竞标和信任计算模型;第4节提出一种基于熵权和TOPSIS的理想交易节点评价选取方法;第5节给出交易节点的综合信任计算和推荐节点的推荐可信度评价;第6节论述推荐节点的推荐信任更新方法;第7节为仿真实验和结果分析;第8节为本文结论.2相关工作分析大规模分布式环境下的信任管理(TM)是由Blaze等人在文献[1]中首次提出,用以解决分布式环境下的信任问题,并在此基础上发展出了相应的信任管理系统PolicyMaker和KeyNote[2].文献[3]明确提出了一个基于声望的信任系统REGRET,利用社会网络分析和一个分等级的本体结构将各种不同类型的声望综合起来计算出最终的节点信任值.文献[4]在电子商务这样的社会网络环境中,提出了多维度的信誉计算方法,通过将信任分为4个维度,构建了效用函数作为计算直接信任的权重之一,利用和推荐者的关系来区分推荐的可信任程度和推荐节点规模,提高了信任计算的准确性和客观性,但是由于缺乏对推荐中交易内容相似度的比较,因而推荐的可信性和可靠性难以保证,同时由于缺乏相应的奖惩评估机制,难以抑制推荐寡头的产生.文献[5]针对在线社会网络中的可信人员,提出了一个扩展Advogato的集群信任评测方法.该方法不同于Adovogato方法,它通过合并社会关系强度,并且找出与每个个体用户相关的可靠用户群,而扩展的信任测度设计扩散机制能使每个节点的能力沿着社会关系连接链有效地延展为连续节点,并设计能力最大流来识别本地可信用户并且给它们划分信任级别,形成一个有序的可靠信任用户集,以防止不可靠的用户访问个人网络,较好地保护了用户的信息内容.文献[6]提出了一个基于等级经验分享社会网络中的信任预测框架.由于在信任网站用户中划分的明确信任等级并不总是有效而且过少,因此,该文采用了Rigg的算法来计算内容质量和内容用户可信度.但迭代算法的目的是保持内容用户给出一个简单的平均受益,而实际上受益却是最终的平均收益,即加权平均值,这样就使恶意用户较为容易利用这个漏洞来寻找机会获得较高的信任值.文献[7]提出在社会网络应用中利用监督学习方法预测信任关系的演化.为预测信任关系的概率,该文将现有问题映射为正常链接预测问题,并且采用监督学习法来解决它.虽然当前信任模型中对时间权重多采用指数形式来计算,但缺少理论的相应证明.文Page3献[8]提出了一个SWTrust信任框架,该文并不是建立一个完整的信任评估模型,而是从大规模在线社交网络中计算一个可信图,并纳入现有信任模型,使现有模型更有效、实用.文献[9]则提出了一个融合社会网络中信任相关的3个部分的新计算方法,通过对人的外在相似性、信息可靠性和社会看法反馈的融合,最终判断网络中用户是否可信.但这3部分的权重如何确定却缺乏理论依据和证明.文献[10]中提出了利用招标的思想来提高推荐节点的信任查询效率和信任更新机制,主要采用了JSang[11]基于主观逻辑的信任模型,该模型在对经验的评价中通过引入不确定因素,以可信、不可信和不确定3个因素来决定评估对象的信任度,但缺乏有效的激励因而不能促进节点有效地、积极地进行投标,同时由于缺乏对推荐可信性的评估,无法区分节点推荐的善恶行为.文献[12]提出了一个基于局部信誉的P2P下的电子社区PeerTrust模型,该模型通过节点从其它节点获得的反馈、反馈的规模、反馈的可信度、区分交互上下文环境中的关键性和非关键性因素以及电子社区相关的环境因素做出节点的综合信任评价.斯坦福大学Kamvar等人在文献[13]提出了的EigenRep模型,该模型是一个典型的全局信誉模型,详细说明了在P2P环境下的信任计算方法.文献[14]提出了一个全局信任模型,该模型充分针对EigenRep模型缺乏对信任的安全考虑因素,如冒名、诋毁以及缺乏相关的惩罚因素等,较好地解决了信任推荐的问题.唐文等人在文献[15]中提出了一个基于模糊集合理论的主观信任管理模型,该模型针对主观信任的模糊性,运用模糊数学方法构建了信任模型.文献[16]将节点的信任值分为资源信任值、节点贡献值、节点评价信任值3类,但忽略了节点的信任值与它在诸多影响因素下的表现有关.文献[17]提出了P2P电子商务环境下的一个新的信任模型,通过投票对直接信任值进行加速,以刺激投票节点积极投票来增加信任的可信度.文献[18]讨论了资源激励机制和分配机制之间的依赖与制约关系,从经济、信任角度提出自适应的信任-激励相容的资源分配机制.根据基于经济学的一般均衡理论,给出了资源提供者的动态价格调整策略,提供者可根据当前资源的供需和负载状况,制定自适应的信任-激励相容的分配策略.田春岐等人在文献[19]中提出了基于聚集超级节点的P2P网络信任模型,虽然部分解决了信任问题,但由于缺乏对推荐信息本身不确定性问题的考虑,推荐服务质量的优劣无法有效判断.文献[20-21]对分布式计算环境下的P2P信任研究机制进行了较为全面的总结,但由于缺乏针对协同作弊问题的研究分析,因而无法有效减少网络中不断涌现的恶意推荐问题.文献[22]提出了一个基于交易内容相似度信任模型,充分利用服务内容的相似性来表示其推荐的可信程度,在一定程度上提高了信任推荐的可靠性,但是由于没有相应的激励和惩罚机制,因而对降低恶意推荐仍然具有一定局限性.文献[23]提出了一个新的MeTrust信任管理,通过将影响信任的证据分为3个不同的层次,节点层、路径层和图形层,保证了从信任的个性化方面来进行判断.综上所述,虽然近来的一些信任模型采用了多维度信誉评估方法[1,3,14,24-26],在遏制恶意节点欺诈中具有一定的效果,但是由于缺乏针对合适交易节点的选取方法,使得节点的选择非常随意,造成效率低下;并且由于缺乏完整的信任分析和计算方法,其在抑制恶意推荐作弊、协同推荐作弊,以及推荐信任更新等问题上的实际效果并不理想.3社会网络中交易节点的竞标和信任计算算法通过相关研究工作分析,我们发现现有方法在节点的信任计算上普遍存在如下几个问题:(1)针对大量的交易节点,以往社会网络信任模型对如何选择合适的交易节点缺乏考虑,并且效率较低,往往是随机选取某个交易节点进行评估,或者是在实验中随机假设一些作为交易节点,然后根据系统的交易周期来判断节点的可信性,这与实际应用并不相符.(2)现有模型很少针对服务推荐节点进行评价,而且假设信任值高的节点其推荐也更值得信任,这种假设与实际情况并不相符,因此无法保证推荐信任的可信性,进而影响到所推荐的节点的信任度.(3)社会网络节点信任模型中,节点推荐可信性表示节点推荐的可信程度,它与节点的交易可信性具有一定的差异,但以往模型并无仔细考虑并详细区分,因而缺乏有效的奖惩策略和方法来保证节点积极推荐,因此,久而久之使节点丧失了推荐兴趣,也使推荐节点规模逐渐萎缩,造成推荐信任计算偏差较大,无法证明节点推荐是否客观准确,并进一步影响到节点的综合信任值计算.Page4针对上述问题,我们提出了如图1所示的社会交易节点选取和信任关系计算模型,该模型由4个部分构成.其中,部分(1)是交易节点的竞标过程;部分(2)是理想交易节点的选取;部分(3)是推荐信任计算(3-1),以及通过引入交易影响力函数融合直接信任和推荐信任所得到的交易节点综合信任(3-2);部分(4)是推荐节点的推荐信任度更新计算.本文的4个部分的逻辑关系描述如下:首先,由社会网络中图1社会网络中交易节点选取和信任关系计算模型框架为此,我们首先引入几个定义和说明.本文主要针对这4部分进行相应的研究工作.定义1.服务交易节点(ServiceProvider),也称为目标节点或交易节点.社会网络中提供资源服务并被评估的节点,记为SP.定义2.服务推荐节点(ServiceRecommen-dationnode).社会网络中为获取相应的经济利益和信任度而向评估节点进行服务资源推荐的节点,记为SR.定义3.服务评估节点(ServiceRequestor),也称为评估节点(Evaluator).社会网络中对目标节点信任进行评价的节点,记为E.的评估节点(即资源需求节点)发出需求信息,网络中的其它节点收到信息后进行响应,由部分(1)对响应的节点进行竞标,去除不符合竞标要求的相应节点;接着由部分(2)对符合竞标要求的节点进行评估,选取理想交互节点队列;将交互节点集合在网络中公示;然后由部分(3)对节点进行信任计算,得到可信的理想交互节点;最后由部分(4)对节点的推荐信任进行更新、维护.同时,为使本文后面的公式容易理解,我们对节点间的交互进行形式化表示说明:当节点i和节点j交互时,表示为Xi交互内容C等,如DTE供节点SP根据历史交互情况而确定的信任值,其余表示类似.从认知行为角度来看,在社会网络中推荐的可信性和可靠性很大程度上依赖于推荐人和评估者的熟悉程度,如果推荐人与评估者有过直接交互经验,则评估者对推荐节点的可信度要高于无交互经验的推荐人的推荐.表现在网络中,则是在评估节点、推荐节点和目标节点间形成一种信任推荐关系.在推Page5荐信任链上越靠近评估节点的推荐节点,其可信性也相对越高.在图2中,node1和node2被称为直接推荐节点,node3被称为间接推荐节点,node4、node5和node6则被称为陌生推荐节点.从人的认知行为来看,评估者(Evaluator)判断服务节点(ServiceProvider)是否可信,某种程度上是依赖服务节点和评估者的熟悉程度,也即node1的推荐比node3、nodei等的推荐可信度要高,也比node4、node5、node6要高.从社会价值角度分析,参与服务的网络节点(在此假设网络中节点皆为理性节点)不论良好的还是恶意的,在参与社会活动的过程中,其目的都是为了获取相应利益.基于这种考虑,借鉴竞标的思想,使节点正常服务所获得的长期收益高于非正常服务所获得收益(这里的服务包含两种情况,一种是提供资源服务,另一种是提供推荐服务).而收益包括两个:一个是所获得资金收益;另一个是获得的信誉.文献[18]把前一种称为硬激励机制;后一种称为软激励机制.通过竞标有效调动节点积极正常交易,保证网络中的服务能够较好地完成.为此,我们作如下定义.定义4.服务竞标信息SBM(ServiceBiddingMessages)被定义为如下四元组:SBM=(Evaluator_ID,ServiceContents,其中,Evaluator_ID指评估节点;ServiceContents指服务内容;TimeStrap指竞标时间窗;Reward指服务完毕后,资源节点及推荐节点获得的相应报酬,其包括两个方面:一个是所获得的资金报酬,另一个是所获得的信任评价.相对应,对于虚假推荐和服务的节点则表示其相应得到的负报酬.定义5.资源服务申请书RSM(ResourceServiceMessages)被定义为如下三元组:RSM=(Resource_Service_ID,ServiceContents,其中,Resource_Service_ID指资源服务竞标节点;ServiceContents指服务内容;Response_Time指节点响应时间.服务交易节点竞标和信任计算算法基本步骤描述如下:输入:初始化网络节点,生成网络节点输出:信任节点列表,优秀推荐节点列表1.由服务评估者向网络中发布服务交易竞标信息SBM(ServiceBiddingMessages),网络中若干资源节点进行反馈,返回其资源服务申请书,根据服务竞标信息条件进行初步筛选,获得相应的资源服务节点序列SP1>SP2>…>SPn.2.将竞标的资源交易节点序列SP1>SP2>…>SPn反馈回网络中公示,推荐节点针对竞标节点序列进行推荐.3.对公示各竞标资源节点按照评价指标计算其熵权,并利用TOPSIS法对竞标节点评价进行排序,得到相应的资源竞标节点优劣次序SP1>SP2>…>SPn.4.根据推荐节点按照4个维度进行推荐可信性计算;对各竞标交易节点的推荐信任进行融合,计算出各竞标交易节点的综合推荐信任值RTi(i=1,2,…,n).5.将各竞标交易节点和评估者的直接历史交互信任DTi(i=1,2,…,n)与其综合推荐信任RTi(i=1,2,…,n)进行融合,计算出该节点的全局信任值GTi(i=1,2,…,n),选择信任值最高的节点作为待交易节点.6.若交互成功,则利用综合推荐信任值与各推荐节点对目标点的信任值Riτ的差异度、推荐成功率、推荐能力的进化度以及推荐节点自身的可信性,进行推荐信任的更新.4基于熵权和TOPSIS的服务交易节点选取方法下面对第3节中提出的基于熵权和TOPSIS法的理想交易节点评价选取方法进行论述.基于熵权与TOPSIS法的竞标节点选取方法的基本思想是运用信息熵的方法来确定各评价指标的权重,然后通过TOPSIS法对各竞标节点进行排序,进而确定最合适的资源服务提供节点.信息熵是信息论中标度不确定性的量,某项指标携带和传输的信息越多,不确定性就越小,熵也越小,其表示该指标对决策的作用较其它携带和传输较少信息的指标要大.因此,本文利用信息熵权的大小来反映不同评价指标在决策中所起作用的程度.4.1评价指标信息熵权的确定设有m个竞标节点,n个评价指标,用yij表示Page6第i个竞标节点的第j个指标的评价值,则评价节点的指标评价值矩阵为犢=(yij)m×n.由于各指标量纲不同,将其进行标准化处理:dij=yij由信息熵的定义,评价矩阵犢中第j指标的信息熵为其中令k=1/lnm,当资源竞标节点数确定后,k将是一个常量,以保证0ej1.所有评价指标的总熵是:E0=∑n标j的偏差为由信息熵的理论可知,当各被评价算法在某项指标上的值偏差较大、熵值较小时,说明该指标向评估节点提供了有用的信息;同时,还说明在该问题中,各评价算法在该指标上有明显差异,应重点考察.指标的熵值越大,表明各评价算法在该指标上差异越小,对评价结果的影响也越小.所以,用信息熵测度表示的第j个指标的权重因子为从式(4)~(6)及熵的性质可以看出,当di1=di2=…=din时,熵值ej达到最大值,此时熵权等于零,即第j个指标没有向节点E提供任何有关节点SP的参考信息,因而将该指标删除不予考虑.4.2TOPSIS法选择竞标节点TOPSIS(TechniqueforOrderPreferencebySimilaritytoanIdealSolution)法是Hwang和Yoon于1981年首次提出,又称理想点法.TOPSIS法是根据有限个评价对象与理想化目标的接近程度进行排序的方法,是在现有的对象中进行相对优劣的评价,是一种简捷有效的多指标综合评价方法.其基本思想是:通过检测评价对象与最优解、最劣解的距离来进行排序,若评价对象最靠近最优解同时又最远离最劣解,则为最好;否则为最差.其中最优解的各指标值都达到各评价指标的最优值.最劣解的各指标值都达到各评价指标的最差值①.设有m个竞标节点,n个评价指标所确定的评价指标决策矩阵是犢=(yij)m×n,其加权规范决策矩阵为犡,其中元素xij为xij=wj×dij(i=1,2,…,m;j=1,2,…,n).理想解犡+和负理想解犡-分别为犡+={x+1,x+2,…,x+n}犡-={x-1,x-2,…,x-n}其中,J1是收益性指标集,表示在第i个指标上的最优值;J2是损耗性指标集,表示在第i个指标上的最劣值.收益性指标越大,损耗性指标越小,对于评估结果越有利;反之,则对评估结果不利.资源服务节点的评价值与最理想的评价值集合(理想解)和最不理想解的评价值集合(负理想解)之间的距离可利用如下的n维欧几里德公式进行计算.s+=∑ns-=∑n由此,可定义各资源服务节点与理想资源服务节点的贴近度为其中,ci反映了第i个资源服务节点接近理想资源服务节点而远离负理想资源服务节点的程度,显然,0<ci1,ci越大,表明该资源服务节点就越应该优先选择.当ci=1,第i个资源服务节点最接近理想服务节点.5交易节点的综合信任计算和推荐节点的推荐信任可信度评价由上述分析可知,当前的社会网络中,交互双方的信任关系是服务交易的基础.为此我们对所产生的理想交易节点队列进行信任计算.5.1交易节点的综合信任计算服务交易节点的信任值计算分为两个方面:一个是评估者和服务交易节点的直接信任值(DirectTrust)计算;另一个是推荐节点对服务提供节点的综合推荐信任值计算,即推荐信任(Recommendation①http://baike.baidu.com/view/1637555.htmPage7Trust)计算.通过对这两部分信任值融合,最后得出评估对象的综合信任值.5.1.1直接信任计算直接信任计算是评估节点SR与资源服务交易节点SP直接交易所得到的信任值,虽然文献[4]提出的直接信任计算与交易成功、交易金额等方面有关,但是其在计算时如何确定各指标间的权重仍然存在主观臆断的成分,而且既繁琐又难以把握.在计算直接信任时,交易是否成功是判断SP可信度的最直接、显明的指标.因此,我们采用交易成功作为其判断标准,既解决了权重确定的主观性问题,又解决了维度多所造成的计算量大的问题.同时我们引入时间影响因子,将信任的时衰特性考虑进来,使直接信任的计算更加准确.直接信任DTE供节点SP历史交互情况而确定的信任值,本文用下式来表示:SP表示直接信任,SEDTE易的成功次数;FE成功次数.当节点E和服务提供节点SP无交互时,即SE虑节点E对节点SP的信任度应是信任与不信任各占50%,即DTESP=0,FE由于信任是动态变化的,并具有时衰特性,因此当节点长时间没有交互时,信任度会随时间而衰减.考虑信任和时间的关系较为复杂,和多种因素相关联,如心理、情感以及上下文环境等,因此,直接考虑信任和时间的关系比较困难,然而我们知道信任是和交易次数有关,而交易次数和时间有关系,因此,可利用交易次数和时间之间的关系来表现信任的时衰特性.因此,我们引入时间-交易次数影响函数f(N(t)),我们假设到时刻t为止已发生交易的次数是N(t),其满足以下条件:(1)N(t)0;(2)N(t)取正整数值;(3)若st,则N(s)N(t),且N(t)-N(s)等于区间(s,t]中发生交易的次数.则在长度为t的时间区间中,随机过程{N(t),t0}为计数过程.由此,我们可以看出,在任一长度的时间区间t中,节点E和SP发生交易的次数N(t)服从参数λt0的泊松分布,即交易次数{N(t),t0}过程为具有参数λ0的泊松过程.因此,f(N(t))公式如下:f(N(t))=P{N(t+s)-N(s)=k}=e-λt(λt)kK表示交易次数,λ=E(N(t))生的平均个数.由此,可得到第k时刻节点E对节点SP的直接信任度DTE从文献[22]获得推荐信任模型计算式(15):5.1.2推荐信任计算RTSP=∑nRTSP是针对服务提供节点SP的综合信任评价,i表示推荐节点,j表示评估节点,SP表示服务提供节点,Ci务内容,Cj的服务内容,Sim(Ci程度,ωi的权因子,即ωi生人推荐的权重,其中,ωi初始设置为0.5,即表示其可信或不可信各占一半.α是指熟人推荐节点对服务提供节点的信任程度,α设置为当推荐节点i是间接熟人推荐节点时,推荐路径有可能存在交叉的情况,在这种情况下,是由于熟人推荐中存在节点交叉的情况,因而设置一个阈值ε,当α<ε时,则舍弃该节点.β指陌生推荐节点对服务提供节点的信任程度,令β=1Page8点是新加入节点或是休眠节点.考虑到在推荐的过程中,存在推荐路径相对独立和相互交叉两种现象,在相互交叉这种情况下,将通过在这些路径中选择一条推荐信任值最高的路径作为代表.如图3所示的推荐信任路径中,将选择B→E1→C→A作为推荐信任路径.5.1.3服务的相似度计算虽然文献[22]提出了相似度的计算方法,但是由于未考虑服务内容相似应该是多个属性的加权相似,所以仍然存在粒度过粗的问题.本文以犪i=(xi1,xi2,…,xin)表示在有效时间段内服务提供节点提供给推荐节点的第i次服务向量,以犫j=(xj1,xj2,…,xjn)表示在本次交易中服务提供节点提供给评估节点的服务向量,则两者的相似度可以用犪i和犫j的余弦相似度来表示.由于社会网络计算环境下的实际应用较多,因此服务指标也相对较多,例如,有服务质量方面的指标、服务内容方面的指标以及服务成本方面的指标等.然而,根据社会网络节点间的交互信任关系,我们发现服务成功率是推荐信任服务质量指标中最重要的一个指标;服务内容则最突出地反映了推荐信任的服务内容指标;服务成本则是推荐的价值-成本指标之一;服务时间则是推荐可信性的重要指标之一;服务响应时间则体现了节点推荐的态度指标.除此之外,推荐信任服务还和其它上下文环境有关.但为使计算尽量全面同时又保证计算较为简单,我们提取了和信任最相关的5个指标来反映和表示服务,这5个指标分别是:ServiceSuccess,ServiceContents,ServiceTime,ServiceCost,ResponseTime.这样就可以将服务抽象为具有5个主要指标的集合,并分别将犪i、犫j两个服务向量形式化表示为其中,(xi1,xi2,xi3,xi4,xi5)、(xj1,xj2,xj3,xj4,xj5)分别表示(ServiceSuccess,ServiceContents,Service-Time,ServiceCost,ResponseTime).而对服务向量的指标集权重τ我们采用基于熵权的方法来加以确定,其确定方式如下:设评价指标样本数据矩阵犡=(xiτ)m×n,令犣i,τ=(Ziτ)m×n,Ziτ=xiτ∑m点数量,τ表示评价指标,τn(n=5).由信息熵的概念得到各指标的熵值为这里,k=(lnm)-1,0eτ1,则各指标的权重为τ=(1-eτ)∑5其中,0τ1,且∑5示为Sim(Ci经过以上分析,本文服务相似度系数计算表其中τ代表第τ个指标的权重.5.2推荐可信度评价所谓推荐可信度是指当节点作为推荐节点时,其推荐被网络中其它节点信任的程度.文献[27]提出了推荐可信性在众多的影响因素中与两个方面有较为密切的关系:一个是从服务本身来讲,推荐可信性在很大程度上取决于网络中评估节点和交易节点的交易内容与推荐节点和交易节点以前交易内容的相似程度;另一个是从人的认知行为来看,评估对象的综合信任值还与推荐接节点和评估节点的熟悉程度有关.而从实际情况分析,推荐的可信性还与推荐者交易的时间以及推荐节点与服务交易节点的交易次数有关,当推荐者交易的时间与当前待交互的时间较为接近时,其推荐的可信性较高,随着它的交易时间向前推移,其推荐的可信性则下降较快.图4中,TE交易时间,TSR近TE间段Δt内,TSRSP的一次交易时间.从图形可以看出,在一个时Page9图5中,Δt表示时间区间[t0,ti],Δt表示TSRSP之间的时间段,k表示推荐节点的交易次数.和TE可以看出,当推荐节点在一个时间区间[t0,ti]时,其交易次数k和Δt成反比,即交易次数k越多,Δt越小,也就是TSR推荐节点在某段时间的交易次数有关,即在某段时间区域内,交易多则距离TE点的可信性是和其在某段时间区域内与服务提供节点的交易次数相关.虽然以往信任模型文献中有很多研究者提出了时间敏感函数的概念,并且给出了相应的数学表示,如甘早斌等人[4]根据每次交易的时间窗给出了一个时间敏感函数,但是时间对信任的敏感性并非是简单的线性关系或是其它的指数关系,其合理性说明带有较强的主观性.为此,我们给出定理来确定推荐时间影响函数.给出定理之前,我们作如下说明,以N(t),t0表示在时间区域[0,t)内推荐节点和服务提供节点的交易次数.{N(t),t0}是一状态取非负整数、时间连续的随机过程,称为计数过程.图6是N(t)的一个样本函数示意图,令N(t)-N(t0)N(t0,t),0t0<t,则它表示时间段[0,t)内任意推荐节点的交易次数.在[t0,t)内有k次交易,即{N(t0,ti)=k}是一事件.定理1.若任意推荐节点SRi在时间段[t0,ti)内进行了k次交易,且{N(t0,ti)=k}是一事件,其概率记为Pk(t0,ti)=P{N(t0,ti)=k},k=1,2,…,则推荐节点在[t0,ti)时间段内的推荐时间影响函数f(t0,ti)满足强度为λ泊松分布,即f(t0,ti)=Pk(t0,ti)=[λ(ti-t0)]k其中N(t)满足如下条件:(1)N(0)=0.(2)在不相重叠的时间区间段上的增量具有独立性.(3)对于充分小的Δt,P1(t,t+Δt)=P{N(t,t+Δt)=1}=λΔt+o(Δt),其中,常数λ>0称为交易次数N(t)的强度,而o(Δt)当Δt→0时是关于Δt的高阶无穷小.λ等于单位长度时间间隔内出现的交易次数的期望值.(4)对于充分小的Δt,∑∑P{N(t,t+Δt)=j}=o(Δt),也即对于充分小的j=2Δt,在[t,t+Δt)内出现2次或2次以上交易的概率与出现1次交易的概率相比可以忽略不计.由于协同推荐节点可以在一段时间内进行多次交易来减少时间衰减的影响,因而,我们又引入推荐节点与评估节点交易内容相似度以及推荐节点与评估节点的熟悉度,这样就能较好地保证推荐的可信性.由此,本文推荐的可信度(RRi)计算公式如下:RRi=4f(t0,ti)Sim(Ci烄烅RRi=4f(t0,ti)Sim(Ci烆Page10其中,f(t0,ti)是时间影响函数;Sim(Ci易节点与评估节点、交易节点与推荐节点间的交易内容相似度;α、β、ω如前所述.5.3综合信任合,获得目标节点的综合信任值.综合信任是指通过对推荐信任和直接信任的融其中,λ+γ=1,λ,γ∈[0,1],λ指直接信任权重因子,γ指综合推荐信任权重因子.从社会关系角度分析,在节点交互过程中,直接交互所获得的信任感要高于推荐获得的信任感,因此,随着网络交互次数增加,资源需求节点更愿意相信自身与目标节点的直接交互信任度,即λ、γ应随交互次数等因素而动态变化.当λ越大,γ越小时,说明评估者和评估对象之间随着交互次数k的增加,其直接信任所占比重将会越来越大,推荐所占比重则越来越小.同时,由于对于任意一个待评估的服务节点来说,评估节点对其信任和不信任是各占一半的关系,因此我们引入交易影响力函数λ(k),其公式表示如下:λ(k)=1-()1其中,λ(k)表示以交易次数k为变量的动态变化函数.当n-k=0,即k=n时,意味着资源需求节点和目标节点间的所有交互皆为直接交互,并且无其它节点进行推荐,此时,λ=1;当k=0时,λ(k)=0,表示节点间无直接信任关系,其综合信任值计算将依赖于其它节点对目标节点的推荐信任.6基于多属性的节点推荐信任更新社会网络中,一个节点既可能作为交易节点也可能作为推荐节点,因而一个节点除了具有作为交易节点的综合信任度外,还具有作为推荐节点的推荐可信度,两者相关但并不相同.从社会网络分析来看,一个节点的信任度高,只能说明其作为交易节点的可信性较高,但并不能说明其推荐可信性就高.节点的交易可信度由5.1节计算的综合信任值得到并更新.对于节点的推荐可信度更新,我们发现其和多个属性相关,而其中的关键属性有推荐的成功率、推荐能力的进化度、推荐节点自身的可信性以及节点的推荐信任值与综合推荐信任值之间的差异度.因而本文综合考虑这4个方面后,对推荐可信度进行更新.我们将节点的推荐信任RT以四元组形式表示,即RT=(RSR(n-1)i表示推荐的成功率;REC表示推荐能力进RSR(n-1)化程度;Diff表示节点推荐差异度;GT表示节点自身的可信度.由此,我们可以得到RT的形式化计算式:RTi=ω1·RSR(n-1)其中,∑4然采用基于熵的方法来确定,其具体步骤和前面所述方法一致,在此不再赘述.6.1推荐信任的差异度计算i=1推荐信任的差异度表示如下:式(26)中,Ri是第i个推荐节点的推荐值,RTSP是综合推荐值.6.2节点推荐能力进化度计算定义6.推荐能力进化度是指推荐服务节点的推荐准确度、成功率等指标随着推荐的逐渐增多,其推荐能力的各项指标表现出的进步程度.由于推荐能力进化度主要是考虑节点对于网络中推荐的贡献,因此节点推荐能力是不依赖于过去的历史经验,由此我们提出了基于马尔可夫过程的推进能力进化度计算方法.所谓马尔可夫链是指过程(或系统)在时刻to所处的状态为已知的条件下,过程在时刻t>to所处状态的条件分布与过程在时刻to之前所处的状态无关,即在已知过程“现在”的条件下,其“将来”不依赖于“过去”,则称此过程为马尔可夫过程[28].其数学表述如下.定义7.设随机过程{X(t),t∈T}的状态空间为I,如果对时间t的任意n个数值t1<t2<…<tn,n3,ti∈T,在条件X(ti)=xi,xi∈I(i=1,2,…,n-1)下,X(tn)的条件分布函数恰等于在条件X(tn-1)=xn-1下X(tn)的条件分布函数,即P{X(tn)xn|X(t1)=x1,X(t2)=x2,…,X(tn-1)=xn-1}=P{X(tn)xn|X(tn-1)=xn-1}(27)则称过程{X(t),t∈T}具有马尔可夫性,或称此过程为马尔可夫过程.时间和状态都是离散的马尔可Page11夫过程称为马尔可夫链.成绩:本文用如下几个步骤计算节点推荐能力的进步(1)给出评价等级.对节点推荐能力进行评价,首先建立评价等级,并用推荐能力的评价指标集V{v1,v2,v3,…,vn}表示.(2)计算等级与等级人数比例.统计给推荐节点评价不同等级的人数,用Mi表示i等级的等级人数.用Si表示该等级的等级人数比例,则有(3)状态与状态转移.本文用向量犛tw=(St1,St2,…,St为状态,参数t(取离散量)表示时间,这样w的第k次考评状态可以用犛kw表示.在t变化时w的评价状态会随其行为表现的变化而变化,发生状态转移.(4)计算转移概率矩阵.设w的本次考评状态为犛kw,则上一次考评中的状态向量为犛k-1w,由切普曼-柯尔莫哥洛夫方程[29]可知犛k-1w×犘w=犛kw,这里犘w为一步转移概率矩阵.其中,Pij表示从等级“i”到等级“j”的转移概率,且0Pij1(i,j=1,2,…,n),∑Pij=1(i,j=1,2,…,n).给定各评价等级具体分值x1,x2,…,xn,就能进行具体量化,从而可得到推荐能力的得分情况,将其用Fw表示,由马尔可夫过程的遍历性[30],当t趋向时犛t-1w=犛tw=犛kw,只要求出稳定状态犛w=(S1,S2,…,Sn),就可以用它来计算w的进步情况.犛w可从方程(31)求出.虽然得到Fw,但是并不代表节点推荐能力的真实得分情况,而是表示在这段时间内的进步程度.Fw大,仅仅说明了与上次相比其进步成绩大.(5)实例分析.假设推荐节点w1,w2,评价等级分为5级(高度信任,信任,基本信任,不信任,高度不信任),用(FT,T,BT,NT,NFT)分别表示,节点w1、w2的等级人数及转移情况见表1和表2.节点数上次评价合计42510030节点数上次评价合计62130030注:带“”的一行各数字涵义是指上次评价中有5人给评FT”,而本次评价时,这5人当中分别有4、1、0、0、0个人给他评为“FT”、“T”、“BT”、“NT”、“NFT”.以下各行同理.上次评价的实际状态:本次评价的实际状态:相应一次转移概率犘w1和犘w2为w1可得出由(犐-犘w)T犛Tw=0求出2人的稳定状态.则对1/5-1/5000熿-2/211/7-1/2100燀得出犛w1=(10/33,7/11,2/33,0,0).Page12同理犛w2=(2/15,13/15,0,0,0).若各评价等级具体分值取FT=90,T=80,BT=60,NT=50,NFT=30,则节点w1,w2推荐能力得分情况分别为Fw1=81.8,Fw2=81.3,说明节点w1的推荐能力要比节点w2进步快.7仿真实验及结果分析仿真实验主要针对本文提出的交互节点的选择和信任关系计算进行实验设计与验证,针对算法选出的理想交互节点,设计实验来验证其是否可信,同时设计实验来判断所选节点是否是带有策略性欺骗的节点,或者是恶意欺诈节点.同时根据网络中其它节点的推荐以判断本文提出的方法是否能够有效抑制恶意欺诈,并通过设计节点的推荐能力、推荐准确度、推荐的成功率的实验来判断是否能够有效遏制节点的协同作弊推荐.实验模拟仿真了该推荐服务算法,并通过在网络中的运行验证了其实验结果.其中设置节点数1000个,服务种类1000个,把这些服务随机分配给各节点,并保证每个节点至少提供一种服务内容,每次仿真应由若干周期组成,在每个周期内保证每个节点交互一次,初始节点的信任值设置为0.5,表示其可信与不可信皆有可能.仿真实验基于Java实现,运行环境CPU3.0GHz,内存2GB.实验1.针对策略性欺骗行为的分析与比较.针对恶意节点随时间变化的策略性欺骗问题,考察模型对节点策略性欺骗行为的感知能力,分析本文方法与EigenRep[12]模型、一般模型(仅以是否交互过作为信任判定条件)针对策略性欺骗行为方面的差异.在实验中模拟恶意节点通过一段时间的成功交互获得较高的信任评价后,然后间歇性地采用欺骗行为.从图7可以看到,比起EigenRep模型、一般信分析.任模型,本文推荐信任模型对节点行为的突然改变更加敏感,当节点采用间歇性欺骗行为时,信任值快速下降,随着时间推移,其信任值下降速度快于其信任值恢复的速度,说明本文提出的方法能较好地识别策略性欺骗节点.实验2.针对恶意推荐节点规模的实验结果从图8实验结果可以看出,在恶意节点率不断提高的情况下,本文推荐信任模型其交互成功率与EigenRep模型相比有了较好地改善和提高,随着恶意节点数的不断上升,交互成功率迅速下降,但与EigenRep模型相比,当恶意节点超过60%时,本文提出的算法仍能维持一个较高的交易成功率,不论是单纯恶意节点还是协作型恶意节点,该模型对它们都表现出了良好的抑制效果.实验3.针对固定恶意节点率的实验.从图9看出,在设置恶意率为40%的情况下,随着交互周期的不断增多,本文提出的动态服务方法其交互成功率也表现出一个较好效果.实验4.针对恶意协同推荐攻击的实验.从图10看出,随着恶意推荐节点比例的不断增加,信任计算的准确性不断下降,导致交互失败的次数增加,交互成功率下降.由于推荐节点的每一次恶Page13意推荐都会影响到本身的信任值,并导致不断降低其推荐信任,当恶意推荐节点百分比的增加,交互成功率下降幅度增大.Hassan[31]模型有一定的抵御能力,但由于它假设推荐者都具有高的可信度,同时缺乏惩罚机制,因而不能有效弱化不诚实推荐对信任的影响,交互成功率下降趋势明显较快.本文的模型随着不诚实推荐节点比例的增加,推荐路径上节点的不诚实推荐可被其它诚实的推荐所屏蔽,从而交易成功率下降幅度较小.因此,本文提出的推荐服务评估算法引入服务内容相似度和动态调整信任值,同时利用激励手段来提高推荐竞争,相比以往信任模型能更有效过滤恶意推荐节点,使推荐信息更加准确.图10恶意协同作弊推荐时交互成功率变化实验5.针对节点的推荐信任的相关实验.我们对节点的推荐服务的3个关键属性分别设计了实验,在推荐服务准确度实验中,由于节点都为随机分配和选择,因此我们采用了服务整体平均准确度;对于推荐服务能力进化度的实验,我们选择2个节点始终作为推荐节点,这样能够得到每个循环周期的推荐进化能力,并且预先设定一个节点具有较高可信度,可信度为80%,另一个节点可信度相对较低,但仍保证其基本可信,可信度设为60%,同时对推荐服务成功率根据交易周期也进行实验设计.(1)节点的推荐平均准确度实验从图11可以看出,当交易周期不断增多的时候,EigenRep模型针对推荐没有任何变化,说明EigenRep模型没有判断出推荐节点的交易内容与待交易内容的相似程度,因而无法有效判别其推荐是否具有较高的可信性,而这与实际情况并不相符;相比较本文算法则表现出较高的实用性,即当交易周期变化时其推荐的准确度也发生了相应的变化,说明当推荐内容与待交易内容不相符时,推荐的准确度会相应降低,这说明本文算法更加符合社会网络中节点交易的实际情况.图11节点的推荐平均准确度随交易周期变化(2)推荐能力进化度实验为比较推荐服务能力进化度,我们提前确定了两个节点作为固定推荐节点,其中一个初始可信度设置较高,另一个初始可信度设置较低,这样较为容易看出当两个节点随交易周期增多,推荐能力进化度发生相应的变化.从图12可以看出,在前30个交易周期里,可信度规模较低的节点其推荐能力的进化度要高于可信度较高节点的推荐能力进化度.随着交易增多,两个节点的推荐能力进化度逐渐接近,说明随着推荐能力不断提高,推荐成功率会不断提高,因此两个推荐节点的可信度也会逐渐接近,这样其推荐能力进化度也逐渐保持相当的水平,保证了节点间竞争的公平性,说明了本文算法是符合实际情况的.图12不同可信节点规模的推荐进化能力随交易周期变化(3)节点的推荐成功率实验从图13可以看出,在不同恶意推荐节点率下,随着交易周期不断增多,节点的推荐成功率变化情况,在恶意节点率越低的情况下,推荐成功率越高.当在40%的恶意推荐节点率下,本文算法仍然能够保持64%的推荐成功率,说明该算法对恶意推荐节点的攻击具有较高的鲁棒性.Page14图13不同恶意推荐节点率下推荐服务成功率随8结论本文提出了社会网络中交易节点的选取及其信任关系计算.针对网络中大量的交易节点,我们利用竞标的方法来刺激节点积极、正常的进行交易服务,并提出了基于熵权与TOPSIS法的竞标服务节点评价方法,保证搜索和选择到最理想的服务交易节点;为保证所选节点是可信、可靠的,我们通过计算节点的综合信任值来决定是否和交易节点进行交易;在计算综合信任值中,我们引入了交易影响力函数融合直接信任和推荐信任;为确保推荐的可信性,我们详细论证了推荐可信性和推荐时间、内容相似度、节点熟悉度具有较高的相关性.同时提出了基于多属性的节点推荐可信度更新方法,有效区分了一个节点作为推荐节点和交易节点的可信差异性问题.为更新节点的推荐可信度,提出了基于马尔可夫的推荐能力进化度方法,使推荐更加符合现实情况.最后通过仿真实验验证了评估方法的可靠性和鲁棒性,同时也证实了本算法对单纯恶意节点的攻击和协同作弊推荐节点都有较好的识别和抑制能力,也验证了该算法能较好地辨识节点推荐的可信度.本文的信任计算算法对于社会网络的交易环境具有一定应用价值,未来的工作将是针对其中一些问题进一步深入探讨,如在马尔可夫链中,假设一步转移概率犘w是不变的,但是实际上,它是在不断变化的,另外,时间也并非无穷大,因而下一步的工作中将寻找和改进该评估算法,同时增加实际环境因素进行实验以便进一步发现新的问题并完善该算法.
