Page1基于最小二乘测距定位算法信标最优部署模型刘书静1)罗海勇1)吴彬1)刘晓明1)赵方2)1)(中国科学院计算技术研究所移动计算与新型终端重点实验室北京100190)2)(北京邮电大学软件学院北京100876)摘要无线定位系统的信标部署方案对未知节点的定位性能有着重要影响.文中基于线性最小二乘定位算法的定位误差上界(该上界与信标部署拓扑结构和信标测距误差相关),首次演绎推导出矩形区域内信标最优部署模型以及信标数为3,4,5,6的最优部署拓扑.实验结果表明,采用文中所提的最优部署策略获得的平均定位精度比其它优化信标部署方案提高5%~35%.关键词无线定位;最小二乘;信标部署;Moore-Penrose伪逆矩阵;物联网1引言作为物联网的核心支撑技术及重要应用之一,Page2度的定位服务,但在室内、地下等封闭环境下,由于卫星定位信号受到障碍物阻挡、多径传播等因素影响,难以有效定位.伴随WiFi、ZigBee、Bluetooth、RFID等短距离无线通信技术的不断发展,基于这些短距离无线通信技术的室内定位技术研究[1-4]不断升温,以满足日益增长的高精度室内定位导航应用需求.室内定位系统大多需要部署信标节点,与卫星定位系统的星座部署一样,无线定位系统中信标节点的部署拓扑对未知节点的定位性能有着较大的影响.良好的信标部署拓扑结构不仅可以让未知节点获得较好的平均定位性能,而且可获得更高的定位覆盖度,而不良的信标部署方案往往导致较大的定位误差,有时甚至导致无法定位.目前无线定位系统信标节点最优部署策略已成为节点定位技术研究的一个重要方向,受到较大关注.2相关研究近年来,在一跳网络(即未知节点可接收到所有信标节点发射的信号)节点定位信标优化部署方面已经有了一些相关研究工作,其中大部分工作主要集中在对有限几种典型信标部署拓扑进行定位性能比较方面[5-6],少部分工作则采用搜索方法,在信标部署组合空间内查找优化的信标部署方案[7-8],而基于理论演绎推理信标优化部署工作较少[9].Akl等人[5]通过构建基于平均测距相对误差的定位性能模型,采用计算机仿真方法,对信标非线性、正方形等部署拓扑的定位性能进行了比较,得出信标不共线、信标位于网络中间、信标连线成直角的启发式优化部署策略,但并未给出最佳的信标部署方案.Ji等人[6]使用多个测距环带相交产生的交点集合求取平均不确定距离(任两个交点距离的平均值),并以最小化平均不确定距离为优化目标求解侦测节点(即信标)的位置部署,论文在比较了3个信标共线、构成锐角三角形、钝角三角形以及4个信标构成梯形、平行四边形等部署方案的平均不确定距离后,得出等边三角形信标部署拓扑以及信标拓扑重心与定位区域重心重合的结论.上述方案仅仅枚举了几种典型的信标部署拓扑,受所选拓扑数目的限制,本质上是一种局部最优部署方案,并不能从理论上确保所选部署方案是全局最优的.为获得理论上全局最优的信标部署方案,文献[7]基于CRLB(Cramer-RaoLowerBound)定位性能模型,采用穷尽搜索的方法,全面研究对矩形区域内信标节点部署对定位性能的影响,得出所有信标对称分布于矩形定位区域长边特定位置的最优部署拓扑,该结论与本文解析推导出的最优部署理论模型有一定的相似性.从理论上讲,采用穷尽搜索方法遍历所有的信标部署组合,是可以获得最优的信标部署拓扑的,不过时间复杂度较高(O(nm),其中m、n分别为信标数目和网格数目),可扩展性较差.为减少穷尽搜索计算开销量,Shi等人[7]采用局部搜索、模拟退火、禁忌搜索等局部搜索启发式算法,通过最小化与信标部署拓扑相关的平均定位误差代价函数,获取信标部署的局部优化方案.由于不能遍历整个信标部署的解空间,这类搜索算法并不能保证能获得全局最优的信标部署拓扑.文献[9]则通过构建定位误差与Moore-Penrose伪逆矩阵之间的解析关系,把定位误差转化为第二大特征值的最大化问题,并给出了使用线性最小二乘定位算法的最佳信标部署方案.不过该文献采用的启发式思路存在明显的理论缺陷,即矩阵特征值表达式的多个参数之间相互耦合,不能仅仅以非正数项的最大化(即取值为0)来替代整个表达式的最大化.以上信标部署模型主要适用于1跳网络,不适用于多跳网络(例如传感器网络)节点定位.在多跳网络定位信标优化部署方面,Hara等人[10]采用极大似然估计定位算法,通过构建节点定位误差与最近信标节点间平均距离的近似解析式,得到了满足指定定位性能的信标部署拓扑方案,即信标部署于矩形分割区域的中心.文献[11]则使用DV-hop算法获取未知节点到信标的距离估计后,采用基于最小二乘矩阵条件数最小准则推导出信标最优部署需要满足的约束条件,给出了一个信标位于定位区域中心,其它信标均匀分布于内接圆周上的优化部署方案.上述两个文献都是研究直接使用多跳测距估计实现绝对定位的信标优化部署问题,这类方法需要部署的信标数较多,精度相对较低.与此不同,还有一类信标优化部署问题是解决多跳传感器网络所有节点相互协同完成相对定位后,如何实现相对坐标到绝对坐标的最佳转换.文献[12]采用最小化信标约束子空间与变换子空间最大主角的方法,得到信标均匀分布在传感网部署区域外沿的信标优化部署方案.文献[13]则探讨了在信标部署尽可能少的多跳传感器网络,采用无需测距曲元分析定位算法CCA-MAP[14]获得节点的相对坐标系后,不同信标部署拓扑对定位性能的影响问题,论文给出了信标Page3优化部署应满足的两个启发式条件:(1)信标间距至少是传输半径的10倍;(2)信标所处平面高度至少等于传输半径.以定位性能优化为目标的信标部署模型一般与采用的定位技术密切相关,考虑到最小二乘定位算法应用较为广泛,故本文选取单跳网络中基于最小二乘的信标最优部署作为研究点,论文通过构建定位误差与Moore-Penrose伪逆矩阵之间的解析关系,首次从理论上演绎推导出信标最优部署策略,并给出了信标节点数为3,4,5,6时的最优部署方案.目前作者尚未在公开文献中发现其它类似研究成果.本文主要贡献是采用理论分析方法,演绎推导了节点均匀部署在矩形区域内的信标最优部署策略及信标数为3,4,5,6个时的最优部署拓扑,并通过与其它几种优化信标部署方案进行实验对比,验证了本文所提最优部署方案的正确性.本文第3节介绍信标部署模型;第4节将详细证明最优部署策略;第5节的实验仿真部分对多种优化部署方案进行性能比较,验证本文所提最优部署策略的有效性;最后是论文总结.3信标最优化部署模型由于大多数室内定位场景都可以简化为简单的矩形区域或者多个矩形区域的组合[8],不失一般性,本文主要研究二维(2D)矩形区域内1跳测距定位的信标最优部署问题.假设所有信标节点和未知节点都位于同一高度,所有信标与未知节点位置均采用2D笛卡尔直角坐标系,如图1所示.定位区域Ω的几何中心为坐标原点,矩形长度为2l,宽度为2w,四条边分别为L1,L2,L3,L4,n个信标节点部署在矩形区域内,其坐标分别为Ai=(xi,yi)(i=1,…,n),图中给出了4个信标的示例情况.未知节点(x,y)位于定位区域内.通过测量未知节点与信标节点之间的距离(基于无线信号的飞行时间或信号强度测距),使用线性最小二乘算法对未知节点的位置进行估计.假定没有测距误差,在获得未知节点N(x,y)到n个信标节点Ai(xi,yi)(i=1~n)的测距r1,…,rn后,可得如下方程组将式(1)中的n个公式相加并取平均可得式(2):将式(1)中的n个方程两边同时减去式(2),使用最小二乘估计方法,可求得未知节点N的坐标估计犡=(x,y)T,其中,犃=犫=x2(1-1熿x2x2(2-1x2x2(n-1x2燀12在实际环境中,受环境噪声等因素的影响,测距ri不可避免地存在误差,对矩阵犫的准确性产生影响(这里假设信标坐标无误差).假设测量误差为犲(注:此处的犲不是简单的值,可能是高斯分布或者指数分布的量,但是文中考虑的重点并不是通过减少测距误差以减少定位误差,故此处不再展开描述),则珘犫=犫+犲,此时使用线性最小二乘获得的未知节点位置估计珟犡=(犃T犃)-1犃T珘犫,则未知节点的定位误差可表示为Page4其中犃+为犃的伪逆矩阵(Moore-Penrose逆矩阵),其二次范式犃+=1/γ2的两个奇异值,且γ1γ2).考虑到矩阵犃的奇异值是矩阵犃T犃的特征值的方根,故定位误差可使用矩阵犃T犃的特征值进行评估.其中b=∑n犃T犃的特征值可以表示为对式(11)进行求解得信标最优化部署的目标是使节点的平均定位误差最小,由于犃+=1/γ2(γ1γ2),而γ2=λ槡2,其中λ2为矩阵犃T犃两个特征值中的较小值.由式(6)可知,未知节点的定位误差由两部分组成,即由信标部署拓扑所决定的犃+以及由环境因素和测量方式决定的测量误差犲,假设二者相互独立,当定位环境以及测距方式确定之后,影响定位误差的因素只有信标的部署方式.此时,使犃+=1/γ2=1/λ槡2取得最小值的信标布署为信标最佳部署方式,即信标最优化部署问题转化为式(13)所示的λ2最大化问题.4最优信标部署策略4.1信标最优部署准则信标部署的目标是使得定位误差最小,即优化求解xi和yi使λ2最大,由式(13)所表示的优化目标可知,要使λ2取得最大值,则要(a+c)尽可能大,而a-c及b尽可能小,由式(8)~(10)可知b的取值与a、c相关,而a和c的取值相互独立.对式(13)所示的n个信标最优部署模型进行如下处理:即对λ2进行放大,得到λ2的上界λ2min(a,c)(当且仅当b=0时等号成立).可见,如果min(a,c)能取得最大值的同时,b=0,则λ2可取得最大值.考虑到在矩形定位区域内,使得min(a,c)取得最大值的信标位置为一个集合,在该解集内可能存在部分解使得b=0,此时λ2=min(a,c)对应信标最优部署拓扑.为此,先求min(a,c)的最大值对应的解空间,然后在解空间搜索b=0的解.本文引入如下定理.定理1.当a或者c取得最大值时,所有的信标节点都位于定位区域的边界上.即当a取得最大值时,xi=±l,所有节点位于图1中的边L2、L4(不能都位于同一条边上,因为此时a=0,取得最小值);当c取得最大值时,yi=±w,所有节点位于图1中的边L1、L3(不能都位于同一条边上,因为此时c=0,取得最小值).证明.由函数的海塞矩阵性质可知,当函数的海塞矩阵为半正定[16]时,函数为凸函数,而由函数的凹凸性可知,凸函数取得最大值时,自变量位于边界上,由此本文将通过证明函数a(犡)的海塞矩阵为半正定来证明本定理.不失一般性,这里仅证明当a取得最大值时,xi=±l,即xi位于边界上.问题论述:按照式(8),设函数其中犡=[x1,x2,…,xn],求当a(犡)取得最大值时,自变量犡的值.函数a(犡)的海赛(Hesse)矩阵为犎(犡)=将式(15)求偏导后可得Page5设犎=2可见,矩阵犅半正定,由于2/n>0,故犎=(2/n)·犅也是半正定的.由函数的凹凸性判定理论可知,当函数a(犡)的海赛矩阵犎(犡)在R上半正定时,函数a(犡)为R上的凸函数,凸函数的性质之一是函数的最大值位于边界上,即xi=±l(i=1,2,…,n).同理可证,当c取得最大值时,yi=±w.证毕.定理2.当c取得最大值时,若n为偶数,则有n/2个信标的纵坐标为w,其余n/2个信标的纵坐标为-w;若n为奇数,则有(n-1)/2个信标的纵坐标为w,其余(n+1)/2个信标的纵坐标为-w(或者(n+1)/2个信标的纵坐标为w,其余(n-1)/2个信标的纵坐标为-w);当a取得最大值时,情况相似.证明.考虑到a取最大值与c取最大值情况类似,本文仅证明c取最大值的情形.由定理1可得,当c取最大值时,信标的纵坐标yi=±w.(1)当n为偶数时,设一组信标xi满足有n/2个信标的纵坐标为w,其余n/2个信标的纵坐标为-w;不失一般性假设另一组信标xi,有t(1tn-1)个信标的纵坐标为w,其余n-t个信标的纵坐标为-w.根据两组信标节点的纵坐标分别求c值,第1组c=n·w2,第2组c=w2·4t(n-t)/n,则c-c=w2·n-4t(n-t)[由于n2=[t+(n-t)]2,即n2-4t(n-t)=[t-(n-t)]2,故c-c0,当且仅当t=n-t时等号成立,即t=n/2时,c取得最大值.(2)当n为奇数时,设一组信标xi满足(n+1)/2个信标的纵坐标为w,其余(n-1)/2个信标的纵坐标为-w;不失一般性假设另一组信标xi,有t(1tn-1)个信标的纵坐标为w,其余n-t个信标的纵坐标为-w.经计算c=(n-1/n)·w2,c=w2·4t(n-t)/n,则c-c=w2·[n2-1-4t(n-t)]由二次函数的单调性可得,当t(n-1)/2或者t(n+1)/2时,f(t)0,即t=(n-1)/2或(n+1)/2时c取得最大值.定理3.如果定位区域为矩形,当信标节点取得最优部署时,信标位于矩形长边上.证明.由式(13)可知,当λ2取得最大值时,可获得最优部署.由式(14)可知,λ2的上限为a或c,如果能求解a或c取得最大值的信标部署集合,再从中选择使得λ2的值等于它的上限的那部分部署,即可获得信标的最优部署.下面分情况讨论最优部署.当ac时,λ2=c,由定理1和定理2可知,当c取得最大值c=n·w2时,其纵坐标为±w,此时ac=n·w2.由定理1可知,可得a的最大值为n·l2,即an·l2,由以上条件得n·w2an·l2,简化之后可得wl,即信标节点位于矩形长边上.同理当a<c,由定理1和定理2可得,λ2取得最大值λ2=a=n·l2,且cn·w2,此时满足n·l2=a<cn·w2,即l<w,即信标节点位于矩形长边上.4.2信标数为3,4,5,6个时的最优部署拓扑信标最优部署的目标是使定位误差最小,由式(6)可知,定位误差由犲和犃+共同决定,其中前者由测距误差决定,后者由信标部署位置决定,在测距误差(与使用的测距技术密切相关)不变的情况下,优化信标部署以减小犃+的值是减小定位误差的关键,即求xi和yi使得犃+=1/λ槡2取得最小值.在4.1节中证明了获得最优部署的3个定理,本小节将基于这3个定理演绎推导信标数分别为3、4、5、6时的信标优化部署方案.由定理3可知,信标节点取得最优部署时,节点总是位于长边上,不失一般性,假设定位区域的长宽比(l/w)>1,即矩形区域长度大于宽度,定位区域相应参数参见图1.推论1.当信标数为2时,λ2=0,此时犃+→+,此时定位误差的上限趋于无穷大.实际上,在2D空间,当只有两个信标时,未知节点无法完成Page6定位.推论2.当信标数为3时,最优信标拓扑结构呈等腰三角形结构,其中顶点位于矩形的一条长边上,底边两个端点共同位于另一条长边上.三角形底边长度m4w/槡3.当m=4w/槡3,该三角形为正三角形.证明.由定理2可知,3个信标点中有一个位于边L1上,其余两个位于边L3上(或者一个位于L3图2信标数分别为3,4,5,6个时的最优部署拓扑推论3.当信标数为4时,4个信标组成矩形,两两分布于部署区域的两条长边上,矩形宽度为2w,长度m=2x12w.如图2(b)所示.推论4.当信标数为5时,其中4个信标呈矩形两两分布于部署区域的两条长边上,第5个点落于上述矩形任一条长边的中点,由信标节点构成的矩形宽度为2w,长度m=2x12w6/槡5.如图2(c)所示.推论5.当信标节点个数为6时,四点呈矩形两两分布于部署区域的两条长边上,第5个点落于由信标节点构成的矩形一条长边的中点,第6个点位于矩形另一条长边的中点,矩形宽度为2w,长度m=2x12w槡1.5.如图2(d)所示.推论6.当信标节点个数大于6时,需要添加其它限制条件或者使用搜索法才能得到最优部署方案.5实验结果及分析为了验证本文所提的最优部署准则以及特定信上,其余两个位于L1上),此时c取得最大值c=8w2/3,要使得λ2取得最大值,则要满足以下两个条件acb=0,当点成对称分布时,b=0,即满足等腰三角形分布,设顶点坐标为(0,-w),底边的两点为(x1,w),(-x1,w),此时a=2x2x12w/槡3,如图2(a)所示,此时三角形底边长度m=2x14w/槡3.问题得证.以下推论证明过程与此推论证明过程类似,不再赘述,只给出结论.证毕.标个数的最优部署方案的有效性,本文使用最小二乘定位算法进行实验仿真,并采用累积误差分布函数(CumulativeDistributionFunction,CDF)和均方根误差(RootMeanSquareError,RMSE)进行定位性能评估.5.1定位性能评估标准本文采用式(21)所示的均方根误差衡量标准,式中xi为节点i的真实坐标,x^i为节点i的估计坐标,n为未知节点数目.5.2测距模型本文采用如式(22)所示的基于RSSI的测距模型[17],它根据节点接收信号功率来获取节点间的距离估计.其中Pij(dBm)为节点j发射、节点i接收的信号功率,P0(dBm)为自由空间条件下参考接收点接收的信号强度,d0为信标节点到参考接收点的距离,np为无线传输衰减系数,与无线传输环境有关,接收功率服从Pij~N(珚Pij,σ2功率均值,σ2Page7使用极大似然估计方法,由式(22)可推得节点i,j间的距离估计d^ij,如式(23)所示,其中Δ=珚Pij-Pij为接收功率测量误差,分布为N(0,σ2dB),d^ij为节点间距离估计,Δ为RSS测量误差,其标准偏差为Sigma(对应单位为dB).不失一般性,本文所提部署模型同样适用于各种TOA/TDOA测距模型.5.3实验结果及分析本文使用Matlab进行实验仿真.在满足4.2节各项推论所述信标间距约束条件下,假定部署区域的长宽比l/w=1.5,将部署区域划分为30×20个网格,每次定位实验均在格子中心位置进行.针对不同部署方案,在所有网格进行定位仿真,并进行定位性能统计,其中每个格子的定位误差为100次仿真实验的平均值.5.3.1不同信标部署方案性能比较为了验证4.1节提出的3个定理(定理1、2、3),并评估不同部署方案对定位性能的影响,本文设计了如图3所示的信标数分别为3,4,5,6个时的部署图3仿真实验中的不同信标部署拓扑方案.论文中除特别指出外,假定标准偏差Sigma为3dB.实验中的部署方案如图3所示:Case1(最优部署方案).本文所提最优部署方案(均采用4.2节中最优部署方案取等号的情况).Case2(中间部署方案).70%部署方案,即信标节点的拓扑结构不变,但是整体缩小为原来的70%,中心位置与Case1中相同(反定理1).Case3(非平均部署方案).不满足两边平分信标个数,即信标节点为偶数时,位于两条长边的个数分别为n/2-1和n/2+1,信标个数为奇数时分别为(n-3)/2和(n+3)/2(反定理2).Case4(短边部署方案).不满足信标部署于长边上的这一要求,把信标部署在矩形区域短边上(反定理3).Case5(均匀部署方案).主要包括5个和6个信标情形.当信标为5个时,4个信标位于矩形长边上,1个信标位于部署区域中心;当信标为6个时,矩形两个长边上各自对称部署4个,短边上各自部署1个,整体构成一个六边形拓扑结构.Case6(随机部署方案).在部署区域内随机放置信标节点,实验结果选取10组随机部署结果的平均.Page8不同部署方案定位性能的仿真实验结果如图4所示.从图中可以看出,采用本文所提的部署方案(Case1)可获得最佳的定位精度,而采用信标位于矩形短边的方案(Case4),定位精度相对较差.按照定位性能从优到劣的顺序对这几种部署方案进行排序可得:Case1(本文所提最优部署方案)、Case5(平均部署方案)、Case3(非平均部署方案)、Case2(中间部署方案)、Case4(短边部署方案)/Case6(随机部署方案).在信标数分别为3,4,5,6个时,采用本文所提的最优部署方案(Case1)获得的定位性能,比采用Case4拓扑结构获得的定位性能分别提升35%,25%,30%,30%.当信标数为5和6时,增加了均匀部署拓扑结构,如图3(c)和(d)所示,它们的定位性能同样低于本文所提的最优部署策略,不过比其它信标部署策略好.由图4(c)和(d)可以看出,Case1比Case5有5%的性能提升.图4不同信标部署方案下的定位误差累积分布函数(Sigma=3dB)5.3.2信标间距对定位性能的影响在信标部署拓扑满足3.1节定理1,2,3所述限制条件下,位于部署区域同一条边上的信标之间的距离对定位性能有一定影响,本节将通过实验评估该距离对定位性能的影响.按照4.2节推论对不同数目信标部署位置的限除了对于上述非常规则的拓扑部署方案进行了定位性能比较之外,本文对随机部署策略的定位性能也进行了测试和比较,如图4中Case6所示.当信标数为3或4时,随机部署拓扑获得的定位性能都是最差的,而当信标数增加到5个或6个时,随机部署的策略比短边部署(Case4)策略的定位性能好.这是因为当信标数目较少时,随机部署形成较好拓扑结构的概率较低,信标分布在定位中心区域内的概率较大,导致定位性能较差.随着信标数的增加,多个信标将更加均匀地分布在定位区域,消除了不良拓扑结构的影响,因而定位性能也随之提高.不过总的来讲,采用随机部署策略的定位性能仍然不如其它几个部署策略.由以上实验可知,信标位于长边且均匀分配的部署策略是最优的,比目前比较常用的优化部署方案定位性能更好,验证了定理1,2,3.制要求,图5给出了不同信标数目下平均定位误差随信标间距参数delta(delta=x1/w)的变化情况.由图中可以看出,随着delta的增加,定位误差逐渐降低,然后趋于稳定.而随着信标数的增加,未知节点可获得的测距信息不断增加,故定位性能不断提高.当信标由3个增加至4个时,定位性能改善Page9图5不同信标间距delta对定位性能的影响的幅度比信标由5个增加至6个的幅度大很多,这是由于当信标数较多时,未知节点已获取了足够的高精度定位所需的信息,再增加信标数时定位精度并不会明显提高.当delta较小时,两个信标间距离过小,极限情况下重合,仅能发挥一个信标的作用,未知节点获得的测距信息下降,导致定位性能降低.5.3.3噪声对定位性能的影响本小节比较了在信标最优部署情况下,不同大小测距噪声对定位性能的影响,如图6所示.由图中可以看出,随着测量噪声的增加,定位误差不断增加.当噪声增加时,测距信息受到噪声污染的程度不断增大,导致定位误差明显下降.而增加信标数目,平均定位误差有所下降.图6不同数目信标条件下噪声对定位性能的相同信标数目条件下,噪声对不同信标部署方案的定位性能影响对比情况如图7所示.可见,随着噪声的增加,所有部署方案的定位误差都增加,而在相同噪声影响下,本文所提最优部署方案的定位性能最优,表现出较强的定位鲁棒性.在所有部署方案中,随机部署的定位性能最差,这与5.3.1节的实验结果相吻合.6总结本文从理论上证明了基于最小二乘测距定位算法信标最优部署策略,演绎推导出了矩形区域内信标最优部署的3个定理以及信标数为3、4、5、6时的最优拓扑结构,这些结论有助于提高高精度定位系统信标规划部署的有效性,从而提高定位性能和定位鲁棒性.计算机仿真实验验证了最优部署的三条准则的有效性,论文下一步工作将在节点上进行实际物理实验,测试部署策略的有效性.致谢在此,向我的导师罗海勇老师表示感谢,在罗老师的辛勤指导下才得以完成该文章.此外,向对于本文工作给予支持和建议的课题组的其他老师和同学表示感谢!
