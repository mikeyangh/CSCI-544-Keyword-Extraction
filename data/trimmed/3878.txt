Page1软件可靠性预测中不同核函数的预测能力评估楼俊钢1)蒋云良1)申情1)江建慧2)1)(湖州师范学院信息与工程学院计算机系浙江湖州313000)2)(同济大学计算机科学与技术系上海201804)摘要基于核函数回归估计理论的软件可靠性预测建模引起诸多研究者的兴趣.此类研究中,核函数选择问题尤为重要.然而目前还很少有针对所给软件失效数据进行核函数选择或者构建核函数的工作.在14个常用软件失效数据集上应用配对t-检验对基于核函数理论的软件可靠性预测模型中核函数选择问题进行研究.使用的核函数回归估计方法包括核主成分回归算法、核偏最小二乘回归算法、支持向量回归算法、相关向量回归算法;核函数包括高斯核函数、线性核函数、多项式核函数、柯西核函数、拉普拉斯核函数、对称三角核函数、双曲正割核函数、平方正弦基核函数.实验结果表明:不同类型的核函数在不同数据集上表现差异较大,高斯核函数在所有数据集上表现较为稳定,预测结果最好.关键词核函数回归算法;软件可靠性模型;核函数;配对t-检验;预测性能1引言IEEE协会把软件可靠性定义为在规定条件下,在规定时间内,软件不发生失效的概率[1].软件可靠性模型是目前改善软件可靠性最有效的途径,软件可靠性是关于软件是否能够满足需求功能的性质,实际上是对软件失效进行预测.然而软件在其生命期内受到各种因素的影响,如软件规模、开发环境、运行剖面、可靠性分析技术、软件测试技术、开发人员的能力和经验等,导致软件失效行为千差万别,软件自身的特点决定了其失效行为异常复杂.首先,软件失效是动态的,它一定要与人、计算机等交互作用,与软件的输入关系密切,而软件的输入行为是难以预知的;其次,软件失效的影响因素非常多,如测试工具、测试人员的思路、风格及经验、不完全排错、运行环境、数据记录误差等.软件失效的复杂性和动态性容易导致传统模型的估计结果与实际情况不一致,产生模型不适用的问题[2],Cai等人[3]的研究也表明软件失效过程通常不服从NHPP等随机过程.Karunanithi等人[4]最早把人工神经网络理论应用到软件可靠性评估和预测中;Park等人[5]、Su等人[6]、Cai等人[7]、Aljahdali等人[8]、Ho等人[9]、Sitte[10]、Tian和Noore[11]也在神经网络建模方面做出了各自贡献.使用神经网络方法可以任意精度描述各种变化曲线,但是在软件可靠性预测中用于学习的失效数据量常常不足,使用传统的神经网络模型容易造成过学习等问题.而基于核函数理论的方法专门针对小样本数据的预测和分类问题,在很多类似可靠性预测领域得到了非常好的结果,适合软件可靠性预测这种复杂问题.Tian和Noore[12]、Yang等人[13]把支持向量回归估计理论引入到软件可靠性建模当中;本文作者及合作者在相关向量回归估计理论用于软件可靠性预测方面也取得了一些较好的研究结果[14-15].借助于计算机技术,这些模型具有自适应能力和学习功能,在模型适用性以及评估预测能力上均有较好的表现.基于核函数理论的软件可靠性模型在有限样本情况下表现出来的良好特性,在很大程度上可以解决神经网络的过学习等问题,成为目前软件可靠性模型研究中较为重要的一个突破口.采用核函数理论进行软件可靠性预测时,其中非常重要的一个方面是核函数的选择或者构建.目前的研究工作中,还很少有针对所给软件失效数据进行核函数选择或者构建的工作.本文的工作是在作者在前期关于采用核函数技术进行软件可靠性建模研究工作的基础上,采用常用的8种核函数如高斯核函数、线性核函数、多项式核函数、柯西核函数等,应用t-配对测试等统计方法对软件可靠性预测模型中核函数选择问题进行研究,寻找用于14个常用软件失效数据集上可靠性建模最适合的核函数,为以后同类型的工作提供借鉴.2基于核函数的可靠性预测步骤使用核函数的目的是对软件失效时刻与在它之前的m个失效时刻数据进行学习从而捕捉失效时刻之间的内在依赖关系.预测的具体实现步骤如图1所示.首先观测并记录顺序软件失效数据集,选择用于预测的核函数并按照给定的参数初始化值,然后选择用于学习的失效数据数,采用相关向量回归、支持向量回归等对核函数参数进行优化,最后选用优化后的参数对新的失效时间进行预测.图1基于核函数软件可靠性预测的基本步骤假设已通过测试或者运行阶段记录的软件失效时间序列数据为{t1,t2,…,tk},软件可靠性预测问题可以描述为:从已知失效时间间隔数据序列{t1,t2,…,tk}预测未知的软件失效时间间隔数据tk+d,当d=1时称为单步预测,在基于核函数理论的软件可靠性预测模型中,对软件失效时间数据与发生在其之前的m次失效时间数据之间的关系进行建模,则单步预测问题可以转化为:已知k-m个观测(T1,tm+1),(T2,tm+2),…,(Tk-m,tk)和第k-m+1个输入Tk-m+1的情况下,估计第k-m+1个Page3GaussianFunctionLinearFunctionSymmetricTriangleFunctionPolynomialFunctionCauchyFunctionLaplaceFunctionHyperbolicSecantFunctionSquaredSinCardinalFunction表1文中用于实验的核函数[16]κ(x,y)=2.2犿值的选择在前期研究工作中[15],作者通过实验研究发现,早期失效数据对预测未来失效数据作用较小,现时失效间隔数据能比很久之前观测的失效间隔数据更好地用以预测,m的取值为5~15之间时,能得到最好的预测效果,在本文后面的实验部分,m的取值均为8.2.3核函数估计算法文中使用的回归估计算法包括:核主成分回归算法(KernelPrincipalComponentsRegres-sion,KPCR)[17-18]、核偏最小二乘回归算法(KernelPartialLeastSquares,KPLS)[18-19]、支持向量回归算法(SupportVectorRegression,SVR)[18,20]、相关向量回归算法(RelevanceVectorRegression,RVR)[18,21],其中支持向量回归算法包括1-范数SVR、2-范数SVR、v-SVR3种.2.4核函数参数值的确定核函数各种参数的取值在核函数方法应用中起着非常重要的作用,不同的核函数参数取值往往造成模型预测或分类能力极大的差别,因此,确定用于可靠性预测各种参数非常重要.本文采用网格搜索法来确定各种核函数的参数(详见文献[14]),比如{ti,ti+1,…,tm+i}表示.同样地,把{t2,ti+1,…,t^k+1}作为输入,则可以预测t^k+2,同理可以预测得到t^k+3,…,t^k+d,…,基于核函数的软件可靠性预测模型的详细介绍可参见作者前期工作[14-15].2.1选用的核函数通过选用多种不同的核函数进行性能分析对比,寻找适合于描述软件失效过程的核函数结构,使用的核函数包括一些常用的核函数,如表1所示.数学表达式κ(x,y)=e-g〈x-y,x-y〉2κ(x,y)=〈x,y〉κ(x,y)=(〈x,y〉+1)d1+g(〈x-y,x-y〉)2κ(x,y)=e-g|〈x-y,x-y〉|eg〈x-y,x-y〉+e-g〈x-y,x-y〉κ(x,y)=sin2(〈x-y,x-y〉)在用SVM预测时,采用高斯核函数,需要确定两个参数即惩罚因子C与核函数参数g,基于网格法使C∈[C1,C2],变化步长为Cs,而g∈[g1,g2],变化步长为gt,针对每对参数(C,g)进行训练,选取效果最好的一对参数作为模型参数.以采用RVM方法与RBF核函数为例,为了确定核函数宽度值对预测精度的影响,在各数据集上采用不同的参数值进行了实验,结果见图3(从图中可以看出,随着参数值的增加,预测精度首先增高,超过一定值以后,精度开始下降).在使用其它核函数参数的确定中也采用类似的方法.各种核函数参数的初始值见表1.2.5使用的数据集在软件可靠性模型预测性能分析中,非常重要的一个工作是比较数据集的收集.在本文实验比较过程中,收集了14个来自各类行业的失效数据集[3],如图2所示,主要包括类编译器项目、实时控制系统、数据库应用软件、硬件控制软件、铁路联锁系统、动态飞行控制应用程序等.这些数据集记录的软件系统失效过程数据包含了累计执行时间和累计失效次数,对我们的实验分析提供了极大帮助.实验过程中,取所有数据集的前三分之二作为核函数学习数据,对后面三分之一数据进行预测后与真实数据进行比较.Page4图3不同核函数宽度条件下,RVM单步预测的平均相对预测误差AE值的变化趋势数据集代码行数发生失效数DATA1100027ClassCompilerProjectDATA221700136RealtimeCommandandControlDATA34000046On-lineDataEntryDATA41317000328DatabaseApplicationSoftwareDATA535000279HardwareControlSoftwareDATA62400003207ApplicationSoftwareDATA7870000535RealtimeControlApplicationDATA8200000481MonitoringandRealtimeControlDATA91450055RailwayInterlockingSystemDATA1090000198MonitoringandRealtimeControlDATA1110000118FlightDynamicApplicationDATA1222500180FlightDynamicApplicationDATA1338500213FlightDynamicApplicationDATA14未知266RealtimeControlApplication2.6比较标准用来说明软件可靠性预测模型预测性能的指标有很多,本文采用其中最常用的比较指标平均相对预测误差(AveragerelativepredictionError,AE)[3]对采用各种核函数以及各种回归估计算法情况下核函数模型在可靠性预测中的表现进行分析,越小的AE值说明此模型的预测性能越好.若令n为软件所有观测到的失效次数,k表示用于核函数学习的失效次数,t^i表示用各种核函数模型预测的第i次失效时间估计值,ti代表第i次发生失效的时刻值,则AE值的具体计算方法如下:2.7实验结果表3列出了在14个数据集上各个模型的AE值,模型1~6分别代表采用KPCR、KPLS、1-范数SVR、2-范数SVR、v-SVR和RVR这6种回归估计算法,a、b、c、d、e、f、g、h分别代表采用的核函数分别为高斯核函数(GaussianFunction)、线性核函数(LinearFunction)、对称三角核函数(SymmetricTriangleFunction)、多项式核函数(PolynomialFunction)、柯西核函数(CauchyFunction)、拉普拉斯核函数(LaplaceFunction)、双曲正割核函数(HyperbolicSecantFunction)、平方正弦基核函数(SquaredSinCardinalFunction).从表3中可以看出,在不同数据集上,采用不同的核函数以及采用不同的回归估计方法时,模型预测性能均有差异,比如在数据集1的实验中,采用相关向量机回归估计算法的时候,各种核函数情况下AE预测值为0.98(Linear)到2.17(STF)之间;而Page5使用高斯核函数在不同的回归估计算法时,预测值在1.11(RVM)到2.43(KPCR)之间.但是从表中,并不能很直观地看出哪些核函数、哪些回归估计算法表314个数据集上各个模型预测的犃犈值123456a2.433.641.482.785.3616.453.322.452.760.991.372.020.946.90b2.876.322.044.3610.2420.1611.354.172.351.002.981.764.058.76c3.026.443.196.438.1043.116.233.593.182.042.884.331.5410.32d3.174.541.987.204.8922.124.9812.345.234.191.302.096.0313.18e3.563.253.354.226.87132.564.233.564.321.350.983.872.367.57f2.187.3513.465.279.2353.213.766.256.232.762.647.331.5713.25g1.0318.236.233.455.67219.462.982.874.671.242.221.905.2418.33h2.986.436.552.867.5632.614.668.453.981.091.992.942.9220.13a2.222.091.033.341.3219.312.765.352.771.040.831.851.546.00b2.123.671.675.284.2247.329.027.133.041.352.332.523.3810.27c4.544.031.464.982.3029.244.377.443.872.843.092.901.9810.33d1.893.761.8311.248.1754.337.1414.236.203.792.763.992.327.28e3.131.762.905.249.93184.346.978.935.241.871.782.963.455.23f2.782.172.766.3513.7669.238.009.198.332.902.034.562.139.25g2.334.233.226.663.76249.234.0112.656.672.121.953.256.2211.22h7.563.781.787.002.9858.999.246.235.981.451.463.872.348.45a1.232.190.892.742.3912.245.953.541.870.730.361.021.551.29b1.021.981.483.894.7810.347.323.881.351.480.651.351.202.09c2.142.031.433.282.6515.234.334.191.900.891.731.890.532.45d2.001.964.764.176.389.386.275.531.442.632.631.271.834.99e1.932.741.963.4510.2235.234.764.256.191.271.230.172.453.19f1.642.091.374.115.4625.175.145.132.485.781.571.342.157.44g1.541.952.234.218.5418.673.566.232.621.241.342.094.726.29h2.653.001.823.984.1221.003.793.171.891.063.021.583.463.10a1.232.541.032.547.189.344.982.981.320.620.670.671.291.98b1.052.671.782.193.278.261.243.411.531.360.890.831.762.35c2.162.730.623.983.1811.025.844.183.280.993.451.332.393.66d2.005.771.912.123.1117.327.369.657.093.982.821.381.292.02e1.793.041.463.218.1729.114.774.326.081.451.210.192.573.18f1.571.962.004.094.9819.084.685.122.794.691.591.382.097.39g1.621.642.234.218.0418.674.196.282.281.081.352.004.926.00h2.543.371.823.984.3721.003.793.171.891.063.021.583.463.10a1.231.781.532.451.297.362.181.281.001.120.571.031.251.12b1.053.461.214.232.8712.534.323.671.101.131.641.651.991.27c2.162.030.463.872.1010.115.285.445.382.100.894.901.542.85d2.002.662.762.963.1013.148.993.987.451.181.362.082.353.00e1.832.981.823.469.1132.174.764.256.131.561.230.172.673.45f1.642.231.364.105.4227.654.885.132.384.731.571.342.767.44g1.522.122.294.238.5318.673.566.262.441.121.342.094.357.48h2.343.181.803.354.4921.003.793.171.891.063.021.583.653.10a1.110.791.361.361.326.211.671.980.580.451.421.390.871.02b0.981.371.471.781.655.273.422.571.271.361.891.121.291.75c1.992.020.762.484.2311.252.782.210.991.832.770.561.031.98d1.562.231.592.123.1921.374.564.293.271.001.931.924.622.52e1.632.870.782.436.1018.005.033.763.561.371.171.293.142.75f1.322.083.333.195.0425.375.264.642.463.281.281.651.865.25g1.241.751.983.537.0016.153.864.932.541.430.832.353.577.18h2.172.871.822.474.3213.243.462.891.530.092.671.043.284.24B情况下的预测AE值,即xj(j=1,2,…,l)和yj是在相同的数据集上采用相同的回归估计方法产生的,若u1和u2分别表示xj和yj的均值,则核函数A和核函数B预测能力的比较就是要判定u1和u2是否有显著的差别,实验中任意两种核函数在每个数据集以及每种回归估计方法下面都能获得配对的结果,称为配对t-检验[22].表4列出了小样本情况下配对检验方法,当D0=0时就是对“两个均值相等”这一零假设的检验设第1组样本{x1,x2,…,xl},l=∑143配对狋-检验是采用核函数A在不同数据集以及不同回归估计方法情况下的预测AE值,其中ni和ki分别表示第i个失效数据集中总的失效次数和用于学习的失效次数,第2组样本{y1,y2,…,yl}是对应的采用核函数应用于软件可靠性建模可以得到最好的效果,必须通过统计方法的应用,才能得到较为精确的结论,下一部分将采用配对t-测试对核函数适合性进行研究.Page6方法,即比较采用核函数A与B在相同数据集以及相同回归估计方法情况下的预测AE值是否一致的检验方法,在配对实验中,除了使用的核函数有区别,其它条件完全一致,从而减少了比较对之间的差异,消除了其它因素对比较结果的影响,因此可以得到较高的统计精度.假设形式检验统计量拒绝域|t|>tα/2(l-1)t<-tα(l-1)t>tα(l-1)P值决策准则假设条件表4中,di表示第i个配对样本数据的差值:di=xi-yi,i=1,2,…,l;珚d表示配对样本数据差值的平均值:珚d=∑l差值的标准差:sd=1表5采用不同核函数情况下配对狋-检验结果对1RBF-Linear-1.226423.48279-3.169对2RBF-PF-1.663213.29271-4.546对3RBF-STF-2.825314.65210-5.466对4RBF-CF-5.8618522.37339-2.358对5RBF-LF-3.802357.42931-4.606对6RBF-HSF-7.6513633.61115-2.049对7RBF-SSCF-2.589265.25380-4.436对8Linear-PF-.436793.72715-1.055对9Linear-STF-1.598893.09783-4.645对10Linear-CF-4.6354319.89532-2.097对11Linear-LF-2.575935.59987-4.140对12Linear-HSF-6.4249431.23671-1.851对13Linear-SSCF-1.362843.35636-3.654对14PF-STF-1.162104.49807-2.325对15PF-CF-4.1986420.07936-1.882对16PF-LF-2.139145.51460-3.491对17PF-HSF-5.9881531.06953-1.735对18PF-SSCF-.926054.28700-1.944对19STF-CF-3.0365419.35997-1.412对20STF-LF-.977045.05811-1.738对21STF-HSF-4.8260530.77087-1.412对22STF-SSCF.236053.34455.635对23CF-LF对24CF-HSF-1.7895112.48725-1.290对25CF-SSCF3.2725917.927831.643对26LF-HSF-3.8490127.25656-1.271对27LF-SSCF1.213093.615753.020对28HSF-SSCF5.0621029.452461.547样本数据差值的总体标准差:σd=σ2σ1、σ2分别表示两组数据的总体标准差,ρ表示两组数据相关程度;α表示置信度.4实验结果统计分析实验中要求差值的总体相对频度分布近似正态分布,采用非参数检验方法Shapiro-Wilk统计量(W检验)对差值进行正态性检验,如果此检验的P值大于0.05,表明差值服从正态分布,通过正态性检验后则可以使用表4当中的配对t-检验方法进行检验.实验分两部分:(1)不同核函数预测能力的比较,比较不同核函数在相同数据集以及相同回归估计方法情况下的预测性能是否一致;(2)采用不同回归估计算法时预测能力的比较,比较不同回归估计算法在相同数据集以及相同核函数条件下的预测性能是否一致.实验结果见表5、表6所示.在统计结果中,SIG表示significance,它的值就是统计出的P值,在置信度α取值为95%的双侧检验情况下,如果P值Page7表6采用不同回归估计算法时配对狋-检验结果对1KPCR-KPLS对2KPCR-1-范数SVR5.3094621.282522.640对3KPCR-2-范数SVR5.3923221.650302.636对4KPCR-VSVR对5KPCR-RVR对6KPLS-1-范数SVR6.6016126.576692.629对7KPLS-2-范数SVR6.6844626.925232.627对8KPLS-VSVR对9KPLS-RVR对101-范数SVR-2-范数SVR.082861.79439.489对111-范数SVR-VSVR.075181.43625.554对121-范数SVR-RVR.780362.516193.282对132-范数SVR-VSVR-.007681.59742-.051对142-范数SVR-RVR.697501.961243.764对15VSVR-RVR0.01<P<0.05则表示差异显著,如果P<0.01表示差异极显著,这两种情况下,拒绝H0假设,如果P>0.05表示H0假设成立.在单侧检验时,如果P>0.025表示H0假设成立.4.1不同核函数预测能力的比较表5列出了采用不同核函数情况下配对t-检验在14个数据集上的实验结果.配对t-检验分为两种情况:(1)AE值大小的比较,即D0=0的情况,主要检验各种核函数预测性能是否有差别.从表5中可以看出,RBF对比所有其余核函数时,AE值相对来说都要小,并且t-检验的P值都大于0.05,表明RBF在通常情况下都能取得比较好的预测结果.Linear的表现仅次于RBF,虽然Linear在与PF进行比较时无法确定哪个AE值更小,但是相比PF,均值要相差0.44;(2)D0≠0的情形,主要检验各种核函数预测能力的差别,从表中可以看出,在14个数据集上,RBF、Linear以及PF的预测能力较为接近,HSF的预测能力相对其它核函数要差.4.2不同回归估计算法的比较表6列出了采用不同回归估计方法条件下配对t-检验的实验结果.配对t-检验也分为两种情况:(1)AE值大小的比较,即D0=0的情况,主要检验各种核函数预测性能是否有差别.从表6中可以看出,1-范数SVR、2-范数SVR、v-SVR以及RVR的表现相差不多,它们的预测能力较KPCR和KPLS要强一些;(2)D0≠0的情形,主要检验各种回归估计算法预测能力大小的差别,从表中可以看出,在14个数据集上,KPCR和KPLS之间的平均预测性能相差1.29左右,它们两者与1-范数SVR、2-范数SVR、v-SVR以及RVR所得到的预测性能相差5~7左右.5结束语本文采用常用的8种核函数如高斯核函数、线性核函数、多项式核函数、柯西核函数等,应用t-配对测试等统计方法对软件可靠性预测模型中核函数选择问题进行研究,研究表明:(1)高斯核函数、线型核函数以及对称三角核函数在14个数据集上表现较好,其中,高斯核函数在所有数据集上相对其它核函数来说整体表现最为优异,是最值得推荐的核函数;持向量机和相关向量机算法表现最为优异.(2)通过对不同回归估计算法的比较表明,支进一步研究包括:(1)在过去的二十年中软件技术发生巨大变化,参考Cai等人及其它一些相关工作,在更多更新的软件失效数据集上进行研究;(2)尝试构建合适的核函数用于可靠性预测.
