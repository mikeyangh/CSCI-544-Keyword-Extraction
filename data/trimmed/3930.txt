Page1基于双色反射模型的彩色结构光颜色识别的研究汤一平1)宗明理2)吴立娟1)1)(浙江工业大学信息工程学院杭州310014)2)(浙江工业大学计算机学院杭州310014)摘要为了快速准确地识别出彩色结构光系统中的投射光颜色信息,该文提出了基于双色反射模型的投射光颜色识别算法.首先通过对数码相机和投影设备进行色度标定,以消除两者之间的耦合性差异;接着通过估计物体三颜色通道光谱反射率以及分离镜面反射成分和漫反射成分,来修正物体本身颜色和镜面反射对投射光源颜色的影响.实验结果表明,该文提出的投射光颜色识别算法对于双色反射模型条件下的彩色结构光颜色识别具有鲁棒性高、计算速度快、识别准确度高等优点.关键词彩色结构光;光源颜色识别;双色反射模型;物体光谱反射率;颜色修正算法1引言在结构光三维视觉中,颜色编码结构光三维测量技术由于具有重建精度高、特征信息提取简单、实Page2彩色编码结构光三维测量中,对测量物体表面颜色中性和漫反射的假设,使结构光颜色识别更为容易,但测量系统的实用性和鲁棒性受到某些限制.实际颜色测量中,结构光颜色受物体本身颜色、高光以及环境光等因素的影响,使得结构光颜色的识别率大大降低,有时会出现误识别现象,其原因主要是物体表面颜色由物体光谱反射率、光源的光谱成分和观察者光谱敏感度等3个要素共同决定的.国内外许多学者对彩色结构光颜色识别问题进行相关研究.刘维一等人[3]提出用RGB三个分量中的最小值减去另两个分量,得到该像素点的光谱色,在HSI颜色空间进行分色处理,将亮度和颜色信息分离,通过设定固定的阈值将红、绿、蓝、青、品、黄几种颜色有效地区分开来,问题是该算法不适合用于对物体表面颜色的结构光颜色的识别.Sato[4]设计了一种多谱线投影仪测距仪,通过向物体投射周期彩虹图案3次,每次移动相位1/3个周期,最后将拍摄的三幅图像线性地组合成一幅叠加图像,Sato证明了合并后叠加图像上的每一个像素色调值与第一幅图像的色调值相等,接着进行匹配工作,该设计能有效克服被测物体表面反射的影响,但是由于需要多次投射图像多次进行匹配计算,因此只适合静态场景的识别.Pan等人[5]提出了基于5种颜色的二进制格雷码图案,并设计一种自适应阈值的方法,使被测物体不受本身表面颜色和不连续性的影响,提高了测量系统的鲁棒性.Wegiel等人[6]提出了可适应性的三维测量方法,采用格雷码结合相移技术,向被测物体投射三幅图像,其中两幅是格雷码图案,另外一幅正弦曲线颜色可以根据物体颜色进行选择,从而克服物体本身颜色的影响.Johji[7]提出基于双色反射模型的光源色度估计方法,对图像每个像素点在颜色空间进行色度分割代替图像物理空间颜色分割,根据每个像素点的反射分量都是由镜面反射成分和漫反射成分的线性组合的原理,其镜面反射成分的光谱分布与光源十分相近.因此,将同一色度空间上的像素点投影到色度图上,根据两种反射成分权重的不同来拟合一条从物体色度趋向光源色度的色度直线,理论上只要场景中存在两种以上的物体颜色,就可以通过色度图中两条拟合直线延长线上的交点来估计光源的色度.该方法在单一光源的情况下能够较准确地估计出光源色度.但存在多光谱光源或者物体表面纹理较复杂的情况下,直线拟合会受干扰影响,光源色度也难以估计得比较准确;此外,该方法也受到场景中颜色类别的约束.Cas-pi[8]提出Phone模型下光源颜色修正算法,该算法通过估计物体表面反射率、LCD投影仪和3-CCD数码相机在三颜色通道光谱范围的相关性、投影仪的非线性投影误差的方法来提高投影光源颜色识别的准确性,也取得了较好的效果.但该方法假设物体表面只存在漫反射的情况,并未考虑存在镜面反射的情况下光源颜色信息的修正.针对上述方法所存在的不足,本文提出一种基于双色反射模型的投射光颜色识别算法.该算法的优势在于无需事先了解被测量物体表面材质和结构光的编码方式,直接从光度学的途径解决每个像素点光源颜色识别问题,通过对数码相机和投影仪进行色度标定,修正估计耦合性差异对光源颜色识别的影响;通过对物体表面光谱反射率的估计,修正物体固有色对光源颜色的影响;通过分离镜面反射成分和漫反射成分来修正高光对光源颜色的影响.理论和实验证明即使存在着物体的固有颜色、环境自然光和镜面反射的情况下,依然能准确识别投射光的光源颜色,较好地解决了物体的固有色、条件色和光源颜色的快速区分问题,具有鲁棒性高、计算速度快、识别精度高等优点.2投影光颜色修正算法原理物体表面的颜色是由投影光的光谱成分、物体表面光谱反射率以及观察者对光谱的敏感度共同决定的,如图1表示的是一种投射光颜色修正模型.首先根据相机模型建立投影编码颜色(r,g,b)与真实投影(r,g,b)之间的关系;然后通过光照模型建立.真实投影(r,g,b)与反射光(R,G,B)之间的关系以及相机模型建立反射光(R,G,B)与相机读入的颜色信息(R,G,B)之间的关系,利用投射光颜色修正模型进行修正,最后得到投射光的编码Page3烅烆颜色信息;通过该模型以及颜色修正算法即使在复杂成像环境下仍能准确地识别出光源的颜色.2.1基于双色反射模型的投射光颜色修正模型双色反射模型可以用来描述非匀质物体表面的物理光照现象,光线在经过物体表面反射后可能发生漫反射和镜面反射两种情况,反射光的光谱成分由这两部分光的光谱成分共同决定.漫反射是入射光线进入物体表面经过多次折反射吸收后返回物体表面的光,其光谱成分由物体材质的反射特性决定.镜面反射是入射光线在物体表面的直接反射,它与物体表面相对于光源位置的朝向、粗糙程度有关,其光谱成分近似于光源的光谱成分.根据双色反射模型(DRM)[9],物体表面的光照现象可以描述为R=md∫λΙtR(λ)k(λ)d(λ)+ms∫λΙtR(λ)k(λ)d(λ)烄G=md∫λΙtG(λ)k(λ)d(λ)+ms∫λΙtG(λ)k(λ)d(λ)B=md∫λΙtB(λ)k(λ)d(λ)+ms∫λΙtB(λ)k(λ)d(λ其中,md和ms分别代表漫反射权重和镜面反射权重,k(λ)是物体光谱反射率,md∫λΙti(λ)k(λ)d(λ)表示第i颜色通道的漫反射成分强度,ms∫λΙti(λ)k(λ)d(λ)表示第i颜色通道的镜面反射成分强度,R,G,B表示三颜色通道反射光的强度.由于不同的观察者对光谱能量的感应也是不同的,因此对颜色的认识也不一致.假设当前数码相机三颜色通道滤色片对光谱波长的敏感度为fR(l),fG(λ),fB(λ),投射光颜色修正模型如式2所示.R燄熿G=燀燅︸BD∫fR(λ)ItR(λ)d(λ)∫fR(λ)ItG(λ)d(λ)∫fR(λ)ItB(λ)d(λ)熿∫fG(λ)ItR(λ)d(λ)∫fG(λ)ItG(λ)d(λ)∫fG(λ)ItB(λ)d(λ)∫fB(λ)ItR(λ)d(λ)∫fB(λ)ItG(λ)d(λ)∫fB(λ)ItB(λ)d(λ燀烏mdkR+ms00熿0mdkG+ms0燀00mdks+m烏矩阵犃是反映投影仪和数码相机之间的耦合·性差异的关联矩阵,如果犃近似等于对角单位矩阵,说明投影仪三颜色通道发出的光谱曲线和数码相机三颜色通道光谱敏感度曲线一致,数码相机三颜色通道之间的窜扰现象比较小.矩阵犘是反映投影指令与真实投影值之间关系的转换矩阵,由3个单调非线性转换函数组成.矩阵犓是反映物体表面的光照物理现象的光照模型矩阵,反映了物体表面入射光和反射光之间的关系.矩阵犃和矩阵犘都可以通过比色标定实验提前获取,矩阵犓可以根据估计物体表面反射特性来求得.2.2修正数码相机和投影仪之间耦合性差异的影响由于LCD投影仪三颜色通道的光谱功率分布和3-CCD数码相机三颜色通道光谱敏感度曲线不同[10],造成数码相机三颜色通道的窜扰现象,本文称之为数码相机与投影仪之间的耦合性差异.对于不同的数码相机和投影仪,它们之间的耦合性差异都存在并且是不同的,对色彩还原要求高的场合,需要事先进行色度标定.针对这部分差异,本文提出色度标定进行校正,具体实现算法如下.1.将红(255,0,0)、绿(0,255,0)、蓝(0,0,255)3种颜色编码的光模板和白色光模板进行组合,用投影仪同时投射到色卡的白色色块上,对各种光模板照射下的白色色块进行采样,并记录采样点的颜色信息;2.根据白色光模板照射下的采样点颜色信息对红、绿、蓝3种颜色光模板照射下的采样点颜色信息进行白平衡处理;3.对红、绿、蓝3种颜色光模板照射下采样点的三颜色通道分量值都减去通道最小值的方法[3]来去除自然光的颜色成分,并做归一化处理;4.将采样点修正后的颜色值与编码值进行对比,计算数码相机和投影仪之间的关联矩阵犃.根据式(3),将矩阵犇和矩阵犃的逆矩阵相乘,就可以修正数码相机和投影仪耦合性差异带来的影响.校正后的投射光颜色信息可以用向量珟犇表示:式(3)中r,g,b分别表示投影仪每个颜色通道的真实输出,矩阵犃-1是数码相机-投影仪关联矩阵犃的逆矩阵,矩阵犇是数码相机实际获取到图片中像素点的颜色信息.经过校正后,数码相机读入的光模板照射下的颜色值更接近于光模板颜色本身的编码值,即使投影仪表达的颜色信息和数码相机认识的颜色更相近.2.3修正物体表面反射特性对光谱成分的影响物体表面的反射特性是决定反射光光谱成分的重要因素之一.投射光在经过不同物体表面反射后,颜色已经发生很大变化.基于双色反射模型,物体表Page4面反射光成分可以分为漫反射成分和镜面反射成分.对于漫反射成分,它取决于材质对光谱的吸收率;对于镜面反射成分,它取决于物体表面的朝向和粗糙程度.因此,要识别出物体表面投射光的颜色信息,必须先得到物体表面的反射特性.根据镜面反射成分和漫反射成分权重的不同,以及物体表面光谱反射率的不同,入射光与反射光两者的关系可以表示如下式中,Vs,i(p)表示像素点p第i个颜色通道的入射光线强度,Vi(p)表示像素点p第i个颜色通道的反射光线强度.根据式(4)分析可得:由于满足md+ms=1,当ms=1时该像素点为镜面反射点,此时反射光的颜色就是光源的颜色;当md=1时该像素为漫反射点,此时反射光的颜色只取决于材质光谱反射系数;介于这两者之间的像素点包含了漫反射成分和镜面反射成分,此时的反射光颜色由以上3个参数共同决定,对于部分像素点可以分离出镜面反射成分和漫反射成分:根据镜面反射成分估计ms,根据漫反射成分估计该点材质对光源的反射系数,理论上就可以根据反射光的颜色信息恢复出入射光的颜色信息.下面给出物体表面光谱反射率的计算方法以及镜面反射和漫反射的分离方法.2.3.1物体表面光谱反射率的估计对于只存在漫反射的光照物体表面,只需要估计出物体表面的光谱反射率,就能消除物体表面反射特性对反射光光谱成分的影响.物体表面的光谱反射率,一般可以通过光谱仪器在标准光源下直接测量得到;也有研究者提出了利用数码相机获取到物体表面的RGB颜色信息,然后通过算法恢复出物体表面光谱反射曲线[11],但都需要复杂的运算.本文从标准色卡不同色块的光谱反射曲线分析,认为在数码相机三通道各自的响应波长范围内(例如R通道感应波长范围为590nm~700nm),同一种材质对光谱反射率基本是相同的;此外,认为投影仪三通道的光谱也较为集中.据此,本文提出了用数码相机三颜色通道反射率近似的材质代替对不同波长光谱的反射率,用式(5)表示对于每个颜色通道反射率ki的求解,本文中采用以下方法来实现:在数码相机和投影仪耦合性差异已知的情况下,获取白色光模板(255,255,255)照射下的场景图片,提取出光照区域部分的图像,根据每个像素点的三颜色通道灰度值除以编码值得ki.2.3.2分离漫反射成分和镜面反射成分对于镜面反射和漫反射成分共存的光照物体表面,需先分离出镜面反射成分和漫反射成分.根据漫反射成分估计物体表面光谱反射率,根据镜面反射成分计算镜面反射权重.Tan等人[12]提出利用一幅图像分离镜面反射成分和漫反射成分的方法.本文在此基础上,对漫反射成分和镜面反射成分的特性进行研究,归纳如下:不一定相等;总是大于镜面反射点最大色度;灰度值,但其逆命题不一定成立;(1)相同颜色物体表面的漫反射点的最大色度(2)具有镜面反射成分的像素点都具有较高的(3)不同颜色物体表面的漫反射成分最大色度(4)相同颜色物体表面,镜面反射成分权重不同表现在像素点灰度值和饱和度上.基于漫反射点和镜面反射点在色度空间中最大色度和灰度的关系,根据在同一颜色的物体表面漫反射点和镜面反射点的不同特征,本文提出了一种快速准确分离漫反射分量和镜面反射分离的算法,具体计算步骤如下:1.根据特性(3),基于HIS颜色空间对图像中每个像素点根据色调值H简单快速分为6个彩色区域(如彩色区域1的色调值为0~30和330~360,色调值相隔60为一个彩色区域),如最大色度(计算方法如式(6))小于0.36并且饱和度小于0.15的像素点判定为中性区域.统计每个彩色区域所属像素点的平均最大色度和最小通道平均灰度值;2.根据特性(2)和(4),通过比较当前像素点最小通道灰度与它所属颜色分区的最小通道均值,本文选用1.5倍的均值灰度作为阈值,如大于该阈值的初步判断为具有镜面反射成分的像素点;3.根据特性(1),通过统计镜面反射点占图像总像素点的比例,估计场景高光因子并计算每个颜色分区的最大色度.如高光因子小于0.05,每个颜色区域的最大色度可以用平均色度代替;否则,根据权衡因子重新调整,计算方法由式(7)给出;4.对具有镜面反射成分的像素点计算其镜面反射成分和漫反射成分.根据当前像素所属颜色分区的最大漫反射色度,利用式(8)计算漫反射成分灰度值,利用式(9)计算镜面反射成分.其中,计算步骤中的最大色度定义由式(6)给出:步3中的权衡因子η与高光程度相关,对于大多数非均匀材质取η=0.5,最大色度计算公式:Page5彩色区域平均最大色度;μ为所属彩色区域最大色度方差.对于标准光照下的图像,漫反射成分的灰度计算方法[12],由式(8)给出:式中,珘I(p)是像素点p最大通道灰度值;珘δ(p)是像素点p的当前色度.像素点p镜面反射成分各颜色通道的分量值计算公式如下:因此,漫反射成分的三颜色通道分量值为Vi(p)-β(p).在分离出镜面反射成分和漫反射成分后,就可以根据镜面反射成分灰度值占像素灰度值的比例计算镜面反射权重,根据漫反射成分估计物体光谱反射率.根据式(4),就可以修正物体表面反射特性对投射光颜色的影响.由于估计的最大色度与真实值存在一定的误差ech,误差公式可以表示为err==13颜色识别算法和计算流程由于物体的镜面反射取决于物体表面相对于光源朝向、粗糙度,而物体的光谱反射率也是物体的一种本征属性,取决于物体材质,这两者都与光源光谱成分无关.本文在投影仪、数码相机、测量物体三者相对位置以及外界光照环境不变的情况下,通过增加一幅在白色光源照射下的场景图像估计物体光谱反射系数,以及判断彩色光源照射下场景图像中镜面反射像素点所在的位置来修正投影光源的颜色.投影光颜色修正算法步骤如下.机与投影仪之间的耦合性差异,并计算耦合性矩阵;1.进行数码相机和投影仪色度校正处理,估计数码相2.获取白色光光源照射下的场景图片,提取光照下的场景,判断该像素点是否是镜面反射点.如果是,分离镜面反射成分和漫反射成分,镜面反射成分用于计算镜面反射权重;否则,转入步3;3.根据像素点的颜色信息,计算物体三通道光谱反射率;4.获取彩色光源照射下的场景图片,提取光照下的场景,读入每个像素点的RGB颜色信息,根据先前计算出的三通道反射率和镜面反射权重修正光源的颜色信息;5.通过基于阈值和HSI颜色空间的分色算法识别光源颜色.其中,步1可以在色度校正处理中完成,步2和步3都在额外的白色光源照射下的场景图片中完成(如图2的计算流程),步4是颜色修正算法的核心(如图3的计算流程),步5可以根据不同的编码策略选用不同的分色算法.图2光谱反射率及镜面反射权重的计算流程图4实验研究为了验证本文所提出的光源颜色识别以及修正等算法的准确性,本文设计了如下实验验证环境.实验环境由SonyVPL-DX15投影仪、佳能PowerShotSX30彩色数码相机、PC机、标准24色卡以及PC机上相关光源颜色校正软件所组成,如图4所示.实验前,首先将标准24色卡固定在投影仪的投影屏幕范围内,然后将数码相机的图像采集的分辨率设置为640×480像素,接着为了进行有效的实验数据的采集,关闭数码相机自动白平衡功能;在控制投影仪的输出方面,我们预先准备了一套彩色光模版和一个白色光模板.实验中,在相同的自然光环境下,分别将PC上编码后的彩色光模板和白色光模板用投影仪投射到标准色24卡上,用数码相机采集在各种光模板照射下标准24色卡的图像,PC机通Page6过USB接口读取数码相机中所采集的图像,最后用本文所开发的颜色识别软件对投影光模板的RGB颜色进行识别.4.1修正数码相机与投影仪之间的耦合性差异数码相机与投影仪之间的耦合性差异会影响光源颜色的识别,所以首先需要进行数码相机和投影仪颜色校正.根据本文2.2节所提出的方法对数码相机与投影仪之间的耦合性差异进行修正,实验数据如表1所示,从表中数据(斜体部分)可以看出,除去自然光干扰的彩色光模版颜色的数据具有较好的重现性.光源颜色编码红(255,0,0)25588792452492502558676255130绿(0,255,0)482559818725024263255101025549蓝(0,0,255)134175255244250250137174255080255如果数码相机获取到白色光模板照射下白色色块的三通道颜色分量并不相等,需要进行白平衡校准.校准后的彩色光模板RGB颜色信息中,除了光源本身的颜色成分,还掺杂了自然光颜色成分,通常是白光.一般情况,认为白色色块三通道反射率相等,并且自然光三颜色通道分量值也相等,本文采用将每个颜色通道分量值都减去三颜色通道最小值的方法[3]来去除自然光的颜色成分,并做归一化处理.经过以上处理后,可以认为数码相机获取到的颜色值就是投影仪表达的颜色值,与光源编码进行对比就可以估计数码相机和投影仪的耦合性差异,可以用耦合性矩阵犃表示.本文求得的矩阵犃如下:犃=将矩阵犃代入式(3),就可以校正摄像机和投影仪耦合性差异带来的误差,经过校正后的数码相机读入的光模板颜色值更接近于光模板颜色编码值,提高了光源颜色识别的准确性.4.2修正物体本身颜色造成的干扰实验中分别将红、黄、绿、青、蓝、紫6种颜色的光模板分别投射到标准24色卡上,选取标准色卡第3行的6个色块上的像素点进行采样,用基于阈值和HSI空间的分色算法[12]对采样点进行颜色识别,记录颜色识别结果如表2所示.表2未经反射率修正处理的光源颜色识别结果光源颜色①红(255,0,0)红红红红红红②绿(0,255,0)绿绿绿绿绿绿③蓝(0,0,255)蓝青蓝青青\蓝青\蓝④黄(255,255,0)绿绿\黄红黄黄绿⑤青(0,255,255)青绿青绿青青⑥紫(255,0,255)蓝蓝红红紫蓝由于物体本身颜色的干扰,某些色块上的采样点出现颜色误识别情况.通过表2所示的结果分析发现,表格中的斜体部分是误识别的情况,占据了44%,识别精度不高.例如黄色光模板(255,255,0)投影情况下,标准24色卡上的绿色的色块容易被误识别为绿色投影光,红色的色块误识别为红色投影光;青色光模板(0,255,255)投影情况下,标准24色卡上的绿色和黄色的色块容易被误识别为绿色投影光;紫色光模板(255,0,255)投影情况下,标准24色卡上的红色和黄色的色块容易被误识别为红色投影光,蓝色的色块容易被误识别为蓝色投影光.这是因为对于光谱分布较广的混色光,经过不同光谱反射率的色块表面反射后光源本身的光谱成分会发生某些变化.如投影光的黄色光模板光谱波长分布在700nm~550nm之间,而标准24色卡上的青色色块主要反射波长的光谱在550nm~470nm之间,从而使得反射光波长主要集中在550nm附近,因此容易被误识别成绿色光模板的投影光.鉴于上述情况,本文通过2.3.1节所介绍的物体表面光谱反射率的估计算法进一步对光源颜色进行修正,以减少投影光源颜色的误识别率;实验的原始数据和实验方法与表2完全相同,所不同的是增加了反射率修正算法,表3记录了修正后的颜色识别结果.通过对表3的识别结果进行分析,采用三通道反射率修正后,投影光识别精度明显改善,误识别率Page7明显减少;总体来看,从原先表2所示的44%误识别率降低到表3所示的11%误识别率.其中,黄、青、紫3种颜色的光源识别准确率得到了明显的改善,但是对红、绿、蓝3种单色光颜色的识别准确率没有得到有效提高.这是由于红、绿、蓝是单色光,其光谱分布相对比较集中,经过物体表面反射后,反射光光谱成分变化不大,表现为具有较好的抗干扰性,如表2所示.另一方面由于红、绿、蓝都仅是单色光,其反射光光谱成分容易受到外界自然环境光(如日光)的干扰,通过三通道反射率修正后,反而会放大自然光部分干扰因素的影响,从而造成光源颜色误识别.例如蓝色色块上的蓝色光模板在未经修正时识别正确,修正后绿色通道分量被放大,因而被误识别为青色.由于篇幅有限,这类分析和修正算法在今后的研究论文中给出.表3经过反射率修正后的光源颜色识别结果光源颜色①红(255,0,0)红红红红红红②绿(0,255,0)绿绿绿绿绿绿③蓝(0,0,255)青青蓝蓝青青④黄(255,255,0)黄黄黄黄黄黄⑤青(0,255,255)青青青青青青⑥紫(255,0,255)紫紫紫紫紫紫4.3修正镜面反射造成的误差由于投影光源是具有方向性的,所以数码相机采集到的图片可能存在镜面反射的情况.对于存在镜面反射成分的像素点,首先需要分离镜面反射成分和漫反射成分.本文采用2.3.2节所介绍的漫反射成分和镜面反射成分的分离算法进行了实验研究,实验结果如图5和图6所示,图5是包含有镜面反射成分和漫反射成分的色卡图像,图6是将镜面反射成分和漫反射成分进行分离后得到的镜面反射成分图像,实验结果表明本文采用的算法能有效地分离出镜面反射成分,适用于大多数场景的高光提取.但不太适合物体表面存在多种相近颜色的情况.图5中色块的颜色区域从上往下从左到右分别是5、1、6、3、1、2,表4记录了各个颜色区域的平均最大色度、平均最小通道灰度、像素点个数以及估计最大色度.而高光区域的平均最大色度和平均最小通道灰度分别为0.35和112.颜色区域平均最大色度平均最小10.5386.030.581788320.4192.060.41883030.43109.710.4387214050.45109.430.45879060.3780.870.378661本文实验中每个像素点的最大漫反射色度是根据高光因子和平均最大色度估计的,与真实珟Λ()p存在一定的误差ech,根据误差式(9)可以看出:(1)珟Λ()p-珟Γ其值越小,误差越大.说明像素点最大漫反射色度如果接近光源的色度,误差会增大.(2)a()p是漫反射分量值.说明漫反射成分的灰度值越大,误差也会增大.另外,镜面反射特别强烈的物体表面可能会引起数码相机的光饱和现象,会严重影响颜色识别,因此在不同的应用场合应该注意调整数码相机光圈大小和曝光时间,或者采用宽动态摄像技术.一般情况下,镜面反射成分接近于光源本身的颜色,因此本文提出一种近似求解的方法:如果判断该像素点是过饱和点,根据邻域内的非饱和点进行替换;如果判断该像素点是非饱和高光点,则不需要经过物体反射率修正进行投射光颜色识别.4.4光源颜色识别本文选取了标准色卡中第3行的6种具有不同光谱反射率的色块作为物体表面,分别对红(255,0,0)、绿(0,255,0)、蓝(0,0,255)、黄(255,255,0)、青(0,255,255)、紫(255,0,255)以上6种编码的光源进行颜色识别.并将本文算法修正后的实验结果与直接在HIS空间分色算法结果进行比较,实验结果Page8如图7、图8所示,图7是直接在HIS空间分色算法的实验结果,图8是本文的实验结果.5小结与展望要提高计算机视觉的鲁棒性,光、色与计算机视觉的关系是绕不过去的瓶颈.镜面反射问题已经成为计算机视觉应用中的一个障碍,主要问题是在光滑物体表面上的镜面反射通常会产生不期望的高亮度区域同时改变了在成像平面上像素颜色的属性,给对象识别过程带来了干扰.另一方面,快速准确地区分物体的固有色、条件色和光源颜色也是计算机视觉中的一个前沿课题.本文研究了彩色结构光在复杂环境中的颜色识别,从光度学上提出了投射光的颜色修正模型,涉及物体表面光谱反射率的估计、镜面反射成分和漫反射成分的分离、数码相机和投影仪耦合性差异的估计.在此基础上,针对干扰投射光颜色识别的各种情况,提出了相关的颜色修正算法.各种实验结果表明本文提出的投射光颜色识别算法对于双色反射模型条件下的彩色结构光颜色识别具有鲁棒性高、计算速度快、识别准确度高等优点.今后的研究工作将依托本项研究成果为实时性要求高、应用环境复杂的行走机器人、无人车等应用对象提供最新的智能视觉解决方案.致谢本文工作得到了实验室其他同仁的帮助,在此表示感谢!
