Page1无线Mesh网中频带宽度与时槽长度可变的公平性优化算法舒童1),2)刘敏1)周安福1)李忠诚1)1)(中国科学院计算技术研究所北京100190)2)(中国科学院研究生院北京100190)摘要改善无线Mesh网中各流间公平性至关重要.目前无线接口已具备频率捷变特性,能动态配置中心频率与频带宽度,可用于提高无线Mesh网的公平性.现有频谱分配算法尽管采用了更灵活的组合信道方式,但仍局限于信道化的框架,对频率捷变特性利用不足,制约了公平性的提升.为了进一步改善无线Mesh网的公平性,文中利用频带宽度与时槽长度连续可变的特点,提出了一种新的优化算法.该算法用尽可能少的时槽进行链路调度后,联合分配时槽长度及各时槽内无线链路的频带宽度与中心频率,从而获得更好的可行方案.仿真结果显示,与现有算法相比,所提算法基于不同的干扰模型时可提高无线Mesh网的公平性46%~91%.关键词频谱分配;可变频带宽度;链路调度;可变时槽长度;多路径路由1引言提高网络中各流之间的公平性是无线Mesh网研究中的重要问题.公平性存在多种定义.本文采用与文献[1]相同的公平性定义,即最大最小公平性,认为公平性是指给定一种链路调度和频谱分配方案后,无线Mesh网中所有流实际达到的流量与其负载需求之比的最小值.频谱分配能减少无线链路间干扰,提高频谱利用率,是增强无线Mesh网中各条流间公平性的有效措施.目前频率捷变的无线电技术提供了灵活的频谱接入,使得无线接口可以动态地配置通信信道的中心频率和频带宽度.例如:IEEE802.11n标准中定义了信道捆绑技术,无线接口可以把连续的窄信道捆绑在一起,形成一个更宽的频率信道.软件无线电(SDR)和认知无线电技术的进一步发展使得无线接口在一定范围内可迅速地调制到任何频带上.动态组合可变频带宽度和多种中心频率有利于优化频谱分配,可进一步改善无线Mesh网的公平性[2].在无线Mesh网中,大多数的现有频谱分配算法[3-6]还基于固定频宽的信道划分假设,认为无线信道的中心频率和频带宽度是预先定义好的.这种假设使得所设计的频谱接入机制不够灵活,导致低效的频谱利用.近年来,随着频率捷变无线电技术的发展,研究者们提出了可变频宽的频谱分配思想.基于这种思想的频谱分配算法可以分成集中式和分布式两类.在集中式频谱分配算法中,有组合信道算法[1]和不等宽频带划分算法[7].文献[1]联合优化多接口无线Mesh网的频谱分配和链路调度,动态地把一些连续的频率信道组合为一条信道,使无线接口可以使用更宽的频带.该算法(简称CCLS)的不足之处在于:无线链路的中心频率和组合后信道的频带宽度只能从若干个可选值中选择,限制了无线Mesh网络中各流间公平性的进一步提升;每个调度周期内的时槽数目非常大,增加了信道切换成本和时间同步开销;而且随着可组合信道数量的增加,算法的运行时间会激增.文献[7]面向多跳软件无线电网络,形式化了在各条流的流量需求已知的情况下最小化网络节点总频宽的问题,其中包括不等宽的频带划分模型.虽然该算法分配给无线接口的频带宽度可从一个连续变化范围内选择,但是在每个周期内各链路的中心频率和频带宽度仍是不变的.此外,该算法假设一个无线接口可以在不连续频带上同时发送数据包,并在相同的频率子带上从不同无线接口同时接收数据包,这样强的假设在实际中难以被满足.在分布式频谱分配算法中,目前只提出了组合信道算法[8]和连续频谱接入算法[9].文献[8]提出了一种分布式迭代信道调整协议,可为单接口SDRMesh网节点分配连续的频率信道,让各节点频谱部分重叠,使流量负载均匀分布在多个信道上.但是,在该算法中,无线链路的中心频率和组合后信道的频带宽度也只能从若干个可选值中选择,并且通过部分重叠频带传输数据会降低频谱利用率.文献[9]提出了在频率捷变无线电网络中频谱共享的两阶段优化算法.该算法分布式地分配无线链路的中心频率和频带宽度,并可从连续的频宽变化范围中为其分配所需的频宽.但是,该算法基于粗粒度的频谱约束,导致低效的频谱利用.并且,迭代收敛时间长,节点间通信开销大,可能引发无线链路间的接口冲突.总体来说,无线Mesh网中的频谱分配算法未能充分利用频谱资源,在优化无线Mesh网公平性上存在各种不足.因此,为进一步改善无线Mesh网的公平性,需要从提高频谱利用率的角度,设计可充分发挥无线接口频率捷变潜能的可变频宽频谱分配算法来控制无线链路的动态频谱接入.于是,本文研究如何通过调节无线链路的频带宽度与时槽长度来优化无线Mesh网的公平性.该问题可证明是一个NP难的问题[10].我们提出了一个集中式的近优算法———VASITOL(VAriableSpectralwIdthsandTime-slOtLengths)算法.该算法的时间复杂度为O(m3.5),其中m是无线链路的数目.算法设计的基本思想是把该问题分解为下面两个子问题.第1个子问题是TDMA链路调度,用来避免在任何一个时槽内物理链路间发生接口冲突.这个子问题的目标是在满足接口约束条件并保证一个周期内每条物理链路至少被调度一次的前提下,最小化调度周期内的时槽总数.之后,根据最大最小公平性为每条物理链路分配尽可能多的时槽.第2个子问题是在第1个子问题时槽分配结果的基础上进行FDMA频谱分配,以确保在任何一个时槽内物理链路间均不发生信号干扰.第2个子问题的目标是联合分配路径流量、时槽长度以及每个时槽内物理链路的频带宽度和中心频率,以尽可能最大化公平性.与现有研究[1]相比,本文的主要贡献如下:(1)所提算法能提高无线Mesh网中各流间公平性46%~91%,并且不会因此而降低网络的聚合吞吐量.(2)所提算法能保证每个周期内的时槽总数不超过Page3无线接口的收发链路数加2,能有效限制频带切换次数和时间同步的难度.(3)所提算法具有很好的适用性.接口约束的引入使该算法能用于有任意接口数的无线Mesh网,并且该算法的使用不依赖于任何干扰模型.本文第2节描述多接口无线Mesh网的系统模型,并概述基于该模型设计公平性优化算法的基本思想;第3节形式化TDMA链路调度并提出启发式解决方案;第4节用公式表示出频谱分配、时槽长度调整与路由的联合优化问题,并提出相应的优化算法;第5节给出仿真结果,显示所提算法与现有算法相比的性能改进;第6节讨论所提算法的实用性;最后,第7节总结全文.2系统描述与问题建模假设在无线Mesh网中所有Mesh路由器的集合为V,所有网关的集合为K.本文中所指的节点等同于Mesh路由器.在这些路由器间,所有单向逻辑链路组成集合L.于是,多接口无线Mesh网可以表示为一个有向网络图G(R,E),其中每个顶点r∈R对应网络中某台路由器的一个无线接口,而每个有向边e∈E对应于一条物理链路,它从一台路由器的某个无线接口指向另一台路由器的某个无线接口.对于一条逻辑链路l=(u,v)和一条物理链路e=(p,q),e∈l表示无线接口p是路由器u的一个接口,而无线接口q是路由器v的一个接口.这里需区分两种链路间的竞争:接口冲突和信号干扰.前者是指两条物理链路共享同一无线接口.后者是指两条物理链路不共享同一无线接口,但它们不能同时在两个重叠频带上成功地传输数据.为了避免接口冲突,需要将时间划分为多个时槽,共享同一无线接口的任何两条物理链路必须被分配到不同的时槽中,也就是保证接口约束条件(非共享同一无线接口的两条物理链路同时活跃).注意对于只满足接口约束的链路调度来说,一些相互间存在信号干扰的物理链路可能被分配到同一时槽中.如果在时槽t内物理链路e和e^之间存在信号干扰,那么就说(e^,t)∈I(e,t).对于有向网络图G(R,E),为每个时槽t定义相应的干扰图GIt(Et,It),其中Et∈E为时槽t内活跃链路的集合,并且若(e^,t)∈I(e,t)或(e,t)∈I(e^,t),则干扰图GIt中顶点e和e^间存在一条无向边.关于其它形式化表示,将在下文中详述.表1中列出了本文中所有相关符号.符号V无线Mesh网中Mesh路由器(节点)的集合L+(v)终止于节点v的有向逻辑链路集合L-(v)起始于节点v的有向逻辑链路集合Et时槽t内活跃的有向物理链路集合It(e^,t)∈I(e,t)物理链路e和e^均活跃在时槽t内,且如果其rv源节点v实际得到满足的总流量Sv来自源节点v的总流量需求gin(v)流入节点v的总流量gout(v)从节点v流出的总流量hl有向逻辑链路l上的实际被调度的总流量cl有向逻辑链路l的容量SNRl有向逻辑链路l的信噪比xt时槽t与一个调度周期的时间长度之比ce,t时槽t内有向物理链路e的容量be,t时槽t内有向物理链路e的频带宽度fe,t时槽t内有向物理链路e的中心频率基于上述系统模型,下面将从数学上形式化可变宽度的频谱分配和链路调度的联合优化问题,并且提出求解该问题的算法.该算法的设计目标是最大化无线Mesh网中各条上行流(或下行流)之间的公平性.这个优化问题中既包含组合优化部分,又包含连续优化部分.分配调度方案的可行性主要是由组合优化部分来保证的,它决定了问题的复杂性,而公平性的提升主要是通过连续优化部分来实现的.Page4一个分配调度方案是可行的当且仅当各物理链路之间均无接口冲突和信号干扰.现有研究[1]把具有不同特点的接口冲突和信号干扰统统看成链路竞争,因此不得不在形式化中对约束条件进行较大的放缩,致使所得的分配调度方案要么是不可行,要么只能实现较低的公平性.鉴于接口冲突发生在时间域上而信号干扰发生在频率域上,所以,采用链路调度策略和频谱分配策略分别消除这两种竞争可以把一个二维组合优化问题简化为两个一维组合优化问题,有利于在优化过程中使用准确的约束条件进行模型化.同时,由于对频带宽度和时槽长度的连续优化并没有被拆分,所以这样的分解对优化公平性的影响较小.3形式化联合的频谱分配与链路调度本节讲述用于形式化TDMA链路调度子问题的数学模型.这个子问题的求解过程可分为两步(详见算法1).第1步是在接口约束下为每条物理链路分配一个时槽,使得一个调度周期内时槽总数最少.这一步是为了保证在每个周期内所有的物理链路均有被调度的机会.第2步是在给定时槽总数的前提下,根据最大最小公平性原则为每条物理链路分配尽可能多的时槽.这一步是为了尽可能使各条物理链路具有更多被调度的机会.3.1最小化每个周期内的时槽数为了减小时间同步的开销和信道切换的成本,需要最小化一个周期内的时槽总数.用最少的时槽数目为每条物理链路分配一个时槽的问题可以被看作是有向网络图G(R,E)中的边着色问题.一个时槽对应一种颜色,一条物理链路对应网络图中的一条有向边.众所周知,边着色问题是一个NP完全问题[11].假设网络图G是最大度为Δ且最大边多样性为μ的一个多图,其中μ等于2.根据Vizing定理[12],图G的边色数χ(G)最多为Δ+μ.也就是说,Δχ(G)Δ+2.文献[13]提供了一个Vizing定理的构建式证明.给定任意一个简单图,这个构建式算法可以至多用δ+1种颜色给出一个正常边着色,其中δ是此简单图的最大度数.关于定理更详细的描述和其正确性证明,请读者参看文献[13].对于有向网络图,可把两条方向相反的边转换为一条无向边.这个新图是一个简单图,它的最大度为Δ/2,所以,能够基于上述构建式证明可用至多Δ/2+1种颜色对其进行边着色(第1~15行).在有向网络图中,每两条方向相反的有向边可以染第2c-1种和第2c种颜色,其中c是这两条有向边所对应的无向边的颜色(第16~19行).于是,能够得到一个可行的时槽分配方案,其所用的时槽总数最多为Δ+2个.3.2极大加权调度基于第1步的结果,TDMA链路调度子问题的第2步是根据最大最小公平性为每条物理链路分配尽可能多的时槽.这一步的目的是使得每条物理链路具有更多的活跃机会.具体原则是被分配时槽数越少的物理链路具有越高的优先级.为每条边分配一个权值.这个权值等于时槽总数减去分配给该边的时槽数,且被动态更新.对于每个时槽,根据边的当前权值对所有边进行排序,并在第1步调度结果的基础上,找出网络图中的极大权匹配.最终,在每个时槽内,所有属于其极大权匹配的边被调度.第1步边着色算法的时间复杂度为O(m2),其中m是网络图中的有向边数.第2步极大权调度算法的时间复杂度是O(nlogn),其中n是网络图中的顶点数.所以,算法1的时间复杂度为O(m2).算法1.TDMA链路调度.输入:n个顶点m条边的有向网络图G(R,E)输出:一个无接口冲突的链路调度策略S,它是边与时全局变量:weight[m]是包含每条边权值的数组1.S←;2.T←Edge_Coloring(G);3.fore←e1toemdo//e1,…,em∈E4.weight[e]←T-1;5.fort←1toTdo6.forr←r1torndo//r1,…,rn∈R7.match[r]=-1;//初始化8.fore←e1toem9.ifcolor[e]=tthen10.match[src(e)]=dst(e);11.match[dst(e)]=0;12.Maximal_Weight_Scheduling(G,match)13.forr←r1torndo14.ifmatch[r]>0then15.S←S∪{((r,match[r]),t)}.函数1-1.边着色函数Edge_Coloring()输入:m条边的有向网络图G(R,E)输出:记录所有有向边颜色的数组color[m]返回值:所用颜色的总数T1.fore←e1toem/2doPage52.假设边e为(x,f)且尚未着色;3.if存在颜色c(0cΔ/2+1)使得顶点x和顶点4.为边e着满足上述要求的最小颜色编号c;5.T←max{T,c};6.else7.T←Δ/2+1;8.令〈f..l〉为以顶点x为轴的极大扇,即〈f..l〉是9.假设顶点x和顶点l关联的所有边分别均未使10.令路径P为始于顶点x、由颜色c和d组成的11.将路径P上原着颜色c的边改着颜色d,原着12.if路径P止于顶点vthen13.旋转扇〈f..l〉,即把顶点x与扇〈f..l〉上各14.else15.旋转扇〈f..v〉(〈f..v〉∈〈f..l〉),即把顶点16.fore←e1toem/2do17.if在无向图G(R,E)中边e的颜色为cthen18.令无向图G(R,E)中边e对应有向图G(R,19.color[e1]←2c-1;color[e2]←2c;函数1-2.极大权调度函数输入:G(R,E);match[n]指示当前时槽内最初被调度输出:match[n]指示当前时槽内最终被调度的边集合1.根据权值从大到小排序图G(R,E)中的所有有向2.fore←e^1toe^mdo3.ifmatch[src(e)]<0andmatch[dst(e)]<0then4.match[src(e)]=dst(e);match[dst(e)]=0;5.weight[e]←weight[e]-1;4联合的频谱分配与时槽长度调整这一节提出了一个0-1混合整数线性规划(MILP)来形式化联合的FDMA频谱分配和时槽长度调整子问题,并设计了一个近优算法来求解该问题,以最大化网络中各流间的公平性.4.1模型化建模过程中考虑到了流守恒约束、链路性能约束、时槽长度约束和频谱约束,并从数学上给出这个联合优化问题的公式表示.4.1.1流守恒约束给定来自每个源节点v的流量需求为Sv.rv是从源节点v实际流出的流量.可实现的公平性λ被定义为在源节点中实际流量与需求负载之比的最小值.用gin(v)和gout(v)分别表示流入节点v和流出节点v的总流量.hl表示在有向逻辑链路l上被调度的总流量.L-(v)和L+(v)分别是始于节点v和止于节点v的有向逻辑链路的集合.一个可行的流分配必须服从如下流守恒约束[1].λSvrvSv,vK烄gin(v)+rv=gout(v),vKgin(v)=∑l∈L+(v)烅gout(v)=∑l∈L-(v)烆条件(1)中的第1个约束指出从每个源节点实际流出的流量既不能超过这个源节点的流量需求,也不能低于其流量需求的一定比例.第2个约束描述的是每个源节点的流量需求等于其总流出流量与总流入流量之差.后两个约束表征流入(或流出)每个节点的聚合流量等于指向(或始于)该节点的所有逻辑链路上的总流量.4.1.2链路性能约束令cl为逻辑链路l的容量.ce,t和be,t分别表示在时槽t内物理链路e的容量和频宽.SNRl是组成逻辑链路l的所有物理链路共同的信噪比.一个周期被划分为T个时槽.xt是指时槽t的长度与整个周期时长之比.hlcl,烄烅cl=∑1tT烆条件(2)中的第1个约束保证任意链路上的流量不超过其链路容量.而条件(2)中的第2个等式根据Shannon定理表示出了每条逻辑链路的容量.4.1.3时槽长度约束所有时槽长度之和.时槽长度约束是指一个周期的时长等于周期内Page64.1.4频谱约束在时槽t内物理链路e的中心频率用fe,t来表示.假设可用频带宽度是0~B.那么一个频谱分配方案是可行的当且仅当下面的不等式成立:2fe,t-fe^,tbe,t+be^,t,(e,t),(e^,t)∈I(e,t)烄fe,t+be,t/2B,e,t烅fe,t-be,t/20,e,tbe,t0,烆在条件(4)中的第1个约束是干扰约束,它表示如果任何时槽内的任何两条物理链路同时活跃在重叠频带上时会发生信号干扰,那么这两条链路必须工作在不重叠的频率子带上.第2个和第3个约束把所有物理链路频率子带的限制在可用频带的范围内.4.1.5公平性最终优化目标是通过联合调整时槽长度,频带宽度和中心频率来最大化网络中所有流之间的公平性.在数学上,可总结为如下这个带约束的优化问题.4.1.6吞吐量在优化无线Mesh网公平性的同时,并不希望降低无线Mesh网的聚合吞吐量.在给定可实现的公平性λ(0λΛ)之下,网络的最大吞吐量可以形式化为4.2等价的0-1混合整数规划模型4.1节中的问题形式化包含非线性约束条件,即条件(2)中第2个约束,并且由于条件(4)中第1个约束的存在,可行解空间也是一些分离的子空间的并集.对于这样一个非凸优化问题,只能计算它的局部最优解.所以,这一节要把上述问题转化为一个等价的0-1混合整数线性规划问题,以近似求解其全局最优解.为了删除条件(2)中的二次项,这里定义一些辅助的实变量αe,t和βe,t.用单个变量αe,t替换条件(2)中的xtbe,t,以删除条件(2)的第2个等式中的乘积形式.于是,式(2)变为式(8).把条件(4)中的所有约束同乘以其相应的xt,并分别用αe,t和βe,t代替所有的二次项xtbe,t和xtfe,t.于是,式(4)变为了式(9).2βe,t-βe^,tαe,t+αe^,t,(e,t),(e^,t)∈I(e,t)烄βe,t+αe,t/2Bxt,烅βe,t-αe,t/20,αe,t0,e,烆由于条件(9)中的第1个约束,这个优化问题被分成了2p个线性规划(LP)子问题,其中p是条件(9)的第1个约束中不等式的个数.为了把这些子问题组合成一个问题来解决,这里定义一系列0-1二值辅助变量Ye,e^,t.其中,sgn(·)是符号函数,根据自变量的正负值分别返回+1或-1.由于xt0,所以条件(9)中的第1个约束等价于式(11).式(11)两边同加上4BYe,e^,t,变成式(12).4(βe,t-βe^,t+B)Ye,e^,t-2(βe,t-βe^,t)αe,t+αe^,t+4BYe,e^,t,不等式(12)的左边第1项是一个有界非负实变量(不大于2B)和二值变量的乘积.借助线性化技术,这个二次约束能被线性化.具体来说,可用辅助的实变量γe,e^,t替代这个乘积形式.γe,e^,t=(βe,t-βe^,t+B)Ye,e^,t,(e,t),(e^,t)∈I(e,t)式(12)变为式(14).4γe,e^,t-2(βe,t-βe^,t)αe,t+αe^,t+4BYe,e^,t,然后,用式(15)中的线性不等式来替换式(13).0γe,e^,tβe,t-βe^,t+B,(e,t),(e^,t)∈I(e,t)烄βe,t-βe^,t+B-2B(1-Ye,e^,t)γe,e^,t2BYe,e^,t,烅烆Page7最后,根据式(1)、(3)、(8)、(9)、(14)和(15),获得一个等价的0-1混合整数线性规划的表达形式.λSvrvSv,vK烄gin(v)+rv=gout(v),vKgin(v)=∑l∈L+(v)gout(v)=∑l∈L-(v)hlcl,cl=log(1+SNRl)∑1tT∑e∈l∑1tTs.t.烅xt0,t4γe,e^,t-2(βe,t-βe^,t)αe,t+αe^,t+4BYe,e^,t,(e,t),(e^,t)∈I(e,t)0γe,e^,tβe,t-βe^,t+B,(e,t),(e^,t)∈I(e,t)βe,t-βe^,t+B-2B(1-Ye,e^,t)γe,e^,t2BYe,e^,t,(e,t),(e^,t)∈I(e,t)βe,t+αe,t/2Bxt,e,tβe,t-αe,t/20,e,tαe,t0,e,烆4.3基于点着色的近优算法优化问题(16)是一个0-1混合整数线性规划问题.一般地,混合整数线性规划问题是NP完全的.尽管现有的软件可以求解小规模的网络实例,如几个节点的规模,但是对于大规模网络来说,其时间复杂度却是极其高的.所以,必须找到一种近优的求解方法.一旦所有二值整数变量Ye,e^,t的值被确定下来,那么原来的0-1混合整数线性规划问题就缩简为一个线性规划问题,而线性规划问题能够在多项式时间内求解.根据式(10),Ye,e^,t指示的是在时槽t内物理链路e和e^中哪条链路的中心频率更高.如果确定了每个时槽内所有物理链路的中心频率的层次结构,那么所有二值整数变量Ye,e^,t的值也就固定下来了.为了有效地利用频谱资源,希望最小化所分层次的数量.从直观上讲,这意味着依次占据不重叠频带的物理链路数量尽可能地减到了最少.这个子问题能够被模型化为一个在干扰图GIt(Et,It)中的顶点着色问题.所用的颜色数就是分层所需的层数.顶点被分到的颜色编号就是其所对应物理链路的层号.选用递归最大优先(RLF)算法[14]来对干扰图GIt(Et,It)进行顶点着色.其原因在于该算法考虑了两跳邻居信息,具有相对较好的性能.递归最大优先算法的主要思想是用一种颜色为尽可能多的顶点着色,之后再使用下一种颜色.该算法倾向于优先给未着色邻居最多的顶点着色.基于上述思想,本文提出了一种近似求解混合整数线性规划问题(16)的近优算法(详见算法2).具体方法是基于顶点着色模型来固定所有二值整数变量的值,具体包括以下3步.第1步,用递归最大优先算法为每个时槽的干扰图GIt(Et,It)进行顶点着色(第2行).第2步,对于每个变量Ye,e^,t,比较顶点e和e^的颜色编号.若顶点e的颜色编号大于顶点e^的颜色编号,则Ye,e^,t=1,否则Ye,e^,t=0(第3~8行).第3步,根据所有整数变量Ye,e^,t被确定下来的值,求出相应线性规划问题的最优解(第9~10行).算法2.FDMA频谱分配.输入:在每个时槽t(1tT)内m(t)条无向边(i1,i2,输出:所有实变量xt,be,t和fe,t的值1.fort←1toTdo2.Vertex_Coloring(GIt(Et,It))3.fori←i1toim(t)do4.令e和e^分别是边i的两个顶点,并且e的编号5.ifcolor[e]<color[e^]then6.Ye,e^,t←17.else8.Ye,e^,t←09.所有整数变量Ye,e^,t用之前确定下来的值0或1来10.用内点法求解这个LP问题,并求得所有实变量函数2-1.用递归最大优先算法实现顶点着色输入:GIt(Et,It)输出:记录所有顶点颜色的数组color[]1.color_count←02.while有未着色顶点存在do3.color_count←color_count+14.为所有未着色顶点建立一个列表D.5.whileD非空do6.找到列表D中拥有最多未着色邻居的顶点e.7.color[e]←color_count8.从列表D中删除顶点e及其所有邻居,因为它Page89.返回所用颜色数color_count这个顶点着色算法的时间复杂度是O(n2m),而用内点法求解线性规划的时间复杂度是O(m3.5),所以,算法2的时间复杂度为O(m3.5).5性能评价本节评价所提的VASITOL算法和现有的CCLS算法(其中令调节参数C为1以保证能得到可行的调度方案,因为当调节参数C等于2时,未找到可行的调度方案)的性能.无线Mesh网由60个Mesh路由器组成,其中随机选择8个Mesh路由器作为网关.所有Mesh路由器都是随机分布在500m×500m的方形区域内.用5个随机生成的连通拓扑作为仿真场景,如图2所示.图3~图6中的每个点均表示在这5个仿真拓扑上所得结果的平均值.每个Mesh路由器的流量需求在4Mbps和12Mbps之间随机产生.假设节点的传输距离是90m,最大干扰图2仿真拓扑5.1公平性首先我们来评价VASITOL和CCLS算法所得的网络公平性,并分别观察无线Mesh路由器的接口数量和无线Mesh网的总可用频谱带宽对公平性的影响.图3显示出总的可用频宽为240MHz时,两算法所得公平性随Mesh路由器接口数量(最大接口数量从1~6,相应地平均接口数量从1~3.5)的变化.从图中可以看出,与CCLS算法相比,VAS-ITOL算法在fPRIM和RTS/CTS干扰模型下分别将无线Mesh网的公平性提高了46.6%~91.5%和46.3%~83.0%.此外,CCLS算法的公平性不随距离是135m.如果一条物理链路要成功通信,那么对于任何在这条链路干扰范围内的物理链路都必须在重叠频带上保持静默.这里选用最常用的fPRIM和RTS/CTS两种干扰模型.在fPRIM干扰模型中,当一条链路的接收节点在另一条链路发送节点的干扰范围内时,前者的数据传输被后者干扰.在RTS/CTS干扰模型中,当一条链路传输数据时,若在其发送或接收节点干扰范围内的任何节点参与数据传输,则链路间就会发生干扰.参照文献[1],采用类似于IEEE802.11a的链路质量参数:当链路两端节点距离在30m以内时,其链路质量为2.7bps/Hz;在32m以内时,其链路质量为2.4bps/Hz;在37m以内时,其链路质量为1.8bps/Hz;在45m以内时,其链路质量为1.2bps/Hz;在60m以内时,其链路质量为0.9bps/Hz;在69m以内时,其链路质量为0.6bps/Hz;在77m以内时,其链路质量为0.45bps/Hz;在90m以内时,其链路质量为0.3bps/Hz.每个Mesh路由器的接口数量随机生成,其最小接口数量为1.Mesh路由器接口数量的变化而改变.而使用VAS-ITOL算法时,公平性会随着节点接口数量的增长而增高,直到最大接口数为3时公平性的增长才减缓,因此,它比CCLS算法能更有效地利用多接口资源.图4显示出无线Mesh路由器的最小接口数为1、最大接口数为3时,两算法所得公平性随总可用频宽的变化.从图中可以看出,与CCLS算法相比,VASITOL算法在fPRIM和RTS/CTS干扰模型下分别将无线Mesh网的公平性提高了73.4%~78.4%和67.8%~74.0%.并且两算法的公平性随网络的总频谱带宽线性增长.Page95.2吞吐量接下来我们考察VASITOL和CCLS算法在实现各自的最大公平性时所得到的网络吞吐量,并分别观察无线Mesh路由器的接口数量和无线Mesh网的总可用频谱带宽对吞吐量的影响.图5显示出当总的可用频宽为240MHz时,随着Mesh路由器的最大接口数量从1变到6,两算法在达到其最大公平性时所实现的聚合吞吐量.从图中可以看出,分别基于fPRIM和RTS/CTS干扰模型,VASITOL算法与CCLS算法相比在提高公平性的同时,仍增加了聚合吞吐量14.6%~50.8%和13.7%~46.8%.图6显示出当无线Mesh路由器的最小接口数为1,最大接口数为3时,随着网络的总可用频宽从40MHz增加到240MHz,两算法在达到其最大公平性时所实现的聚合吞吐量.从图中可以看出,与CCLS算法相比,VASITOL算法分别基于fPRIM和RTS/CTS干扰模型在提高公平性的同时,仍增加了聚合吞吐量9.4%~40.7%和0.04%~37.6%.由此可见,VASITOL算法在提高无线Mesh网公平性的同时,不会降低网络的聚合吞吐量.5.3时槽数可通过单位周期内的时槽数目来比较VASI-TOL和CCLS算法的时间同步开销和信道切换成本.因为单位周期内的时槽数目越多,在每个时槽起止点同步各链路的开销就越大,而各链路在一个周期内的不同时槽间切换频率的可能性也就越大.5.2节中得到了CCLS算法在其最大公平性下的最大吞吐量.图5中展示的只是时槽数足够大且忽略时槽间开销时的情况.表2中列出了当周期内时槽数限制在1000和10000个时CCLS算法在fPRIM和RTS/CTS干扰模型下可实现的公平性与吞吐量.当时槽数为1000时,根据CCLS算法的优化结果,最终可实现的公平性相当于最优值的78.4%左右,而在此较低公平性下的吞吐量相当于最大公平性下最大吞吐量的98.7%.当时槽数为10000时,CCLS算法最终可实现的公平性才能相当于最优值的97.7%左右,而在此略低公平性下的吞吐量也才可近似于最大公平性下的最大吞吐量.表3中列出了VASITOL算法用于不同接口数的无线Mesh网时在不同干扰模型下完全实现图5中最优性能所需的时槽数目.与CCLS算法所需成千上万的时槽数目相比,VASITOL算法所需的时槽数目最多未超过30个时槽.很明显,VASITOL算法既能够减轻各周期内时槽起止时的同步开销,又可以减少频率切换的可能次数.Page10表2CCLS算法使用不同时槽数所对应的性能性能指标时槽数目干扰模型1000fPRIM0.314978.5221.698.710000fPRIM0.392497.8224.199.9接口数114.21616.4171-219.82318.4231-320.82320.8231-421.02423.0271-520.82423.8271-622.02726.6306实用性讨论尽管所提的算法是一个集中式算法,但是这并不妨碍它的实际应用和部署.就像Dijkstra算法和链路状态路由协议OLSR是集中式的,但是它们很好地应用于Internet和AdHoc网络.下面例举VASITOL算法可行的两种实施场景.第1个场景是基于链路状态模式的.在部署上,可以让网络中的所有节点使用公共控制信道来交换局部状态信息.一旦这样的信息在网络中所有节点间传播和共享,那么每个源节点就可以调用VASITOL算法.在第2个场景中,使用预先指定的Mesh路由器作为“服务器节点”,网络中所有其它节点将其局部状态信息发给此节点.然后,该服务器节点可以计算频率分配、链路调度和路由,并把计算结果发送到网络中的所有节点.明显地,在这种实施场景中存在“单点故障”的问题,从而有必要在网络中设置额外的备份服务器节点以增加冗余.7结束语本文为频率捷变无线Mesh网提出了一种公平性优化算法,其创新之处在于所提VASITOL算法可动态调整各无线链路的频带宽度与各时间槽的长度.所提算法把公平性优化问题被分解为两个子问题.第1个子问题是以任意时槽内无接口冲突为前提的TDMA链路调度;另一个子问题是在前一子问题所得结果的基础上,以任意时槽内无信号干扰为前提的联合FDMA频谱分配、时槽长度调整和路径流量分配.仿真结果显示所提算法可以提高无线Mesh网中所有流之间的公平性46%~91%,并且相应增加聚合吞吐量0.04%~50.8%.而且该算法通过限制周期内的时槽数目,能显著减少时间同步的开销和频率切换的成本.此外,该算法不依赖于任何干扰模型,适用于每个节点有任意接口数的无线Mesh网.
