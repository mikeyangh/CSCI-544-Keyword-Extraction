Page1基于DNN算法的移动视频推荐策略陈亮汪景福王娜李霞(深圳大学信息工程学院广东深圳518060)摘要该文针对移动互联网在线视频服务个性化视频推荐问题,提出了一种基于深度学习(Deeplearning)模型的内容推荐策略.深度学习在图像、语音和自然语言处理等领域获得的突破性进展,为在线视频服务的推荐策略研究提供了基础.该文工作通过在传统基于内容推荐的基础上,引入深度神经网络(DeepNeuralNetwork,DNN)词向量方法,根据视频的媒资信息和用户的历史行为,将视频特征和用户特征映射在高维向量空间.在构建用户正负行为与视频向量的余弦距离模型基础上,筛选过滤对所推荐视频感兴趣的用户群,并通过移动互联网应用的消息推送功能提示移动终端用户观看所推荐的内容.基于在大规模移动视频服务系统中的离线和在线实验,该文所提出的基于DNN算法的推荐策略,相比随机方法、ContentKNN以及ItemCF等算法,在点击率方面平均分别获得106%、41%和57%的相对提升,在覆盖率方面一定程度上避免了推送活跃用户的偏颇问题,从整体上得到了较好的推荐效果.关键词移动互联网;深度学习;词向量;消息推送;基于内容推荐;机器学习1引言视频推荐[1-4]是在线视频服务重要且基础的组成部分.国外的Netflix、YouTube等,以及国内的优酷土豆、腾讯视频等在线视频服务提供商均投入大量资源探索这一领域,因为优质的视频推荐可以提升用户使用在线视频服务的时长和增强用户的忠诚度.在这一领域,研究人员提出各类推荐算法,如协同过滤(CollaborativeFiltering,CF)、基于内容的过滤(Content-BasedFiltering,CBF)、基于社交关系链的过滤以及混合模型等[5-12].在实际工业界,在线视频推荐服务常采用CBF+X的混合模型,如YouTube使用CBF+ItemCF的方案[13].因为CBF有助于解决推荐新内容的冷启动问题,所以它成为在线视频推荐服务不可或缺的一部分.互联网信息的快速更新(如新上线的商品、新闻、视频等)突出了推荐系统中的冷启动问题.如何有效解决该问题,成为当前研究的一个关注点.目前,普遍采用混合算法或改进CBF方法[14-20]来应对冷启动问题.在以往应用CBF算法时,通常会基于用户的注册信息、物品的文本描述关键词以及人工标签等来建立对用户和物品的特征描述[21].然而,这样的做法往往不能深入地把握用户和物品的特征,从而导致推荐失效.为了提高CBF的效果,研究人员考虑了通过对内容的进一步理解着手,如Gantner等人[22]研究了利用视频的基因信息来解决冷启动问题.内容基因化方法可以相对较好地提高CBF的推荐效果,但是其计算成本和人力成本投入也相对较大.伴随智能手机、平板等的普及,越来越多的用户使用移动设备访问互联网服务.对于用户而言,面对互联网内容服务商(InternetContentProvider,ICP)提供的海量内容,想要获取的是感兴趣的或有价值的信息.而移动智能终端设备相对于传统个人电脑更贴近使用者,且具有接收消息推送(PushNotification)的功能,为视频推荐服务提供新的场景和途径.通过对用户兴趣的挖掘定制化消息推送,正在成为移动视频推荐的新方式.因此在移动在线视频服务中,所面临的场景为:ICP选定一组视频(最新上线或需要推广的新内容),计划通过消息推送提示用户,希望找到对所推送内容感兴趣的用户,用户点击消息并观看其中推荐的视频,从而实现个性化移动视频推荐.相对传统推荐场景中用户请求ICP页面再获取推荐,消息推送可被看作是在移动互联网环境下由ICP发起的一种主动推荐服务.因待推送的新视频尚无观看历史记录,属于物品冷启动问题.如使用传统CBF方法,基于简单信息抽取特征建立视频和用户之间的关系,在实际应用中发现推荐效果往往有限.在基于内容推荐算法发展的近几年中,研究者们不再局限于以往直接利用物品的一些基本信息和常规方法对用户兴趣和物品建模,如Deng与Sahebi等人[23-24]提出引用不同平台、不同领域的数据,来提高CBF推荐效果.通过结合视频自身属性,研究人员尝试利用视频的图像特征来分析用户的喜好[25-26],如Snchez等人[27]通过视频的视听特征给用户推荐体育类视频;Qu等人[28]进一步考虑综合应用视频的文本、图像、音频三种特征信息来预测用户对视频的评分,从而丰富评分行为过少用户的特征,有效提高推荐效果.在线视频的文本及互动信息为构造新的推荐模式提供了基础,如Yoshida等人[29]提出对视频进行语义分析和情感分析,并结合用户的兴趣和心情来建立推荐;Zhang等人[30]利用用户对视频的评论文本和表情符号来预测用户对已观看的视频的评分,较有效地解决了用户评分稀疏的问题.同时,自然语言处理(NaturalLanguageProcessing,NLP)的发展为在线视频推荐算法带来了新元素,如Zhu等人[31]研究将LDA模型应用在CBF中从而缓解冷启动问题并获得较好的成效;Simonet等人[32]利用语义分析对YouTube的视频频道进行分类;特别地,Bendersky等人[13]提出结合主题模型和CBF的视频检索方法来推荐视频,该策略对YouTube新视频(如更新较快的新闻类视频)的实时推荐起到了明显的提升作用.然而,结合深度学习(DeepLearning)模型在CBF推荐中的研究和应用尚处于探索阶段.随着深度学习在自然语言处理方面的快速发展,以及大数据环境下描述信息变得越来越丰富,基于深度学习词向量模型的个性化视频推荐成为值得探索的研究方向.针对上述场景,本文提出了面向移动互联网服务应用深度学习词向量模型设计个性化的视频推荐策略.在该方法中通过引入词向量模型,建立用户正行为向量和负行为向量,结合视频内容的语言描述信息过滤推荐用户群.本文在第2节介绍深度学习模型在词向量方面的应用;第3节详细介绍DNN推荐方法;第4节给出实验结果,并对结果进行分析和讨论;第5节总结全文.Page32词向量模型深度学习模型在图像、语音和自然语言处理等领域已带来突破和重要影响.研究发现,词语的向量化表示,可以更好地构建对语言内容的数学操作和机器理解.因为一个词包含的意义往往与该词周围的其他词有关,所以研究人员提出使用神经网络方法学习词语的向量化表示[33].在向量空间中,将词映射为高维向量,词与词之间的向量操作存在和语义及句法相对应的一些关系.基于这样的想法,Mikolov等人于2013年开放了基于深度学习模型开发的将词转化为词向量的工具word2vec①②.本文所提出的移动视频推荐策略应用了该工具中基于Hierar-chicalSoftmax(HS)的CBOW模型(ContinuousBags-of-WordsModel),本节下述部分简要介绍该模型的基本原理[34-37].2.1基于HS的CBOW模型CBOW模型网络结构如图1所示.该网络结构主要分为3层:输入层、映射层和输出层.CBOW主要是通过一个词出现的上下文环境来判断该词出现的概率.其数学表达式如下:p(wt(wt-k,wt-k-1,…,wt+k-1,wt+k))(1)其中wt是要判断的词在wt-k,wt-k-1,…,wt+k-1,wt+k环境下出现的概率大小,其中k是可调窗口参数,通过调整k可以选择上下文环境的范围,(wt-k,wt-k-1,…,wt+k-1,wt+k)表示对输入wi进行求和运算.在训练时,整个网络的目标是使p(wt|(wt-k,wt-k-1,…,wt+k-1,wt+k))概率最大.基于HS的CBOW模型的网络结构如图2所示.图中的输入层为包含2k个词的词向量狏(Con-text(w)1),…,狏(Context(w)2k)∈Rm,k为窗口大小,即选择与中心词前后相距各k个词,m为词向量的长度.在训练开始时系统会给整个语料库字典中的词随机初始化一个长度为m的向量.映射层将输入层输入的词向量累加后得到结果犡w.输出层为一个Huffman树,其根节点记为R,根节点的输入为犡w.非叶子节点记为Ni,1iT-1(T为整个语料库对应的字典的大小),非叶子节点对应的值记为θi∈Rm.叶子节点记为Li,1iT,其对应的值记为狏i∈Rm.狏i为整个语料库字典中词的词向量.2.2目标函数及最优化求解对于图2中输出层的Huffman树,每一条从根节点R到叶子节点Li都对应唯一编码,码元由0,1组成.码元0,1可以类比成分类问题,其中非叶子节点的左孩子对应码元1,被标为负类;右孩子对应码元0,被标为正类.用di对应第i个节点的码元.分类时可采用Sigmoid函数,即被分为正类的概率为分为负类的概率为1-σ(犡T得到从根节点到达w对应的叶子节点的概率为①②Page4p(w犡w,θ)=∏=(1-σ(犡T其中:p(dw上述公式中:lw为与中心词w前后相邻k个词组成的文本的大小(其值为2k),dw第i个节点的编码码元.整个网络的目标就是使上述概率值最大.将上式扩展到一般情形,网络的目标函数可表示如下:L=∑w∈C∏对式(5)取对数相应有对于目标函数(6),采用随机梯度算法来求目标函数的最大值.目标函数中的参数为θw梯度算法中,求解的关键是目标函数对应的两个参数的梯度.(w,i)θwi-1根据式(7)计算的梯度,可得参数θw式为θwi-1=θw同理,可得参数犡w的梯度公式:(w,i)于是,对词的更新公式为V(Context(w)i)=V(Context(w)i)+η∑上述即为word2vec中基于HS的CBOW模型的原理,在模型中可以通过选择不同大小的词向量维度和文中中心词前后相邻词的个数(称为文本窗口长度)来获取不同的词向量表示效果.3基于DNN的移动视频推荐方案对于推荐系统中的新物品、新用户都会不可避免地存在冷启动问题.针对这样的情况,目前大部分推荐系统会考虑使用混合模型和基于内容分析的推荐策略.传统基于内容的推荐算法主要用到物品和用户Tag等描述信息,信息越丰富,推荐效果往往越好.然而这些信息通常是由人工添加,不同的人对同一事物有不同的看法,也有不同的描述方式,这样多多少少会造成数据的差别.比如在描述时髦时,有的人可能会用“时尚”,有的人会用“潮流”,这样就造成了差异.在NLP领域为了处理类似的问题,大部分情况会考虑使用话题模型(如LSI、LDA),或者使用基于深度学习模型的方法.本文面向移动视频服务基于内容推荐的实际应用,利用深度学习模型在词向量上的训练,配合海量内容数据和用户行为数据,设计移动视频推荐策略.本节主要介绍使用词向量模型将视频向量化,并建立用户的正行为向量和负行为向量以及利用向量之间关系来进行推荐分析.3.1词向量模型训练词向量模型训练过程如图3所示.在对中文文本进行分析前,一般要先对文本进行分词处理和提取关键词.在本文的工作中,使用了北京理工大学张华平等人开发的NLPIR/ICTCLAS分词系统[38],该系统对中文分词速率较快、效果较好、准确率相对较高.通过分词并去停用词,构建视频语料重要词汇库,该词库是词向量工具的输入.在获得语料重要词汇库后会对其提取关键词,为构建视频向量和用户向量做准备.在词向量模型训练中,本实验使用了word2vec工具.所训练的语料库包含腾讯视频提供的约300万部视频的媒资信息,每条描述信息包括视频标题,视频制作地区,视频类型标签,视频导演、主演、编剧,视频简介,视频看点介绍,用户评论等信息.为了减少噪声数据对训练词向量的影响,本实验首先对数据进行过滤及合并处理:过滤主要针对数据字段Page5不全的视频,此类视频在语料库中大部分属于UGC(用户制作内容)类视频;合并主要针对具有相同信息的视频,此类视频多数为电视剧,动漫等剧集类视频.经数据清洗处理后,得到的有效数据约100万条视频文本数据.考虑训练速度和实现推荐的复杂度,本实验选用训练较快且工程上相对容易实现的HS-CBOW模型来建立视频语料词库的词向量.在词向量维度的选择上,一般而言维度越高、文本窗口越大,词向量的特征表示效果相对会好,但同时词向量训练耗时越长,训练结果存储占用空间越大.本文工作所使用的数据集相对较大,应用word2vec训练词向量时,在维度设定为200维、文本窗口选为5的情况下,基于通用工作站(24核2.6GHzCPU,64GB内存)训练时长已超过30min.再使用训练得到的200维词向量对用户建模(基于大数据分布式计算平台),所产生的结果数据已超过200GB.综合考虑计算复杂度和所耗费的资源,同时为了保持较快的计算效率,本文提出的方案在大规模系统实验中设定的词向量维度保持为200维,文本窗口为5.基于所使用的语料库,通过训练最后获得了约20万左右词汇的词向量.3.2视频向量化描述词向量模型和传统的语义分析模型(如LDA、LSI等),在分析结果上的一个较大差别在于词向量模型是对文本中的词构建向量,而不是对整体文本构建向量.由这样的模型训练得到的词向量在向量空间上可以进行加减运算[37],于是本文工作利用词向量在向量空间具有的加法运算性质构建视频文本向量.视频向量的计算公式如下:其中:犞v表示视频v的向量;n为一个视频中抽取的n个关键词,1提取的关键词个数不同而产生差异.犞wiword2vec工具把第i个关键字表示为一个200维的向量.因此,可以使用上一小节中基于视频媒资信息作为语料库训练得到的词向量来构建将要被推送的视频的向量.3.3用户向量化描述在本文所提出的推荐方案中,我们首先定义用户点击已推送的消息(PushNotification)为正行为,用户未点击已推送的消息为负行为,并分别根据用户的正行为和负行为建立向量模型.基于这样的设计,我们可以从两个方面表征用户行为和兴趣.其中正行为代表了用户对推荐的视频产生了点击行为,一定程度上表达了用户接受了所推荐的内容.负行为代表用户对推荐的视频没有产生点击行为,但采用负行为表达用户不感兴趣时需要更多讨论,因为用户没有点击并不表示用户一定不感兴趣(不点击的原因也有可能是因推送时间、场景并不适合用户).在对实际数据的观察中,发现多数用户,负行为比正行为多,面对正负行为数据不均衡问题,我们目前较工程化地采取在数量级上从用户负行为数据中随机抽取1.7倍于正行为的负行为数据,来构建用户正负行为向量.为讨论方便,我们定义选中推送的用户为推送目标用户,用来选择推送目标用户的用户群称为备选用户群.基于词向量所具有的加法运算特性,并结合TF-IDF方法,我们设计了用户的正行为向量化公式为其中:犞u击Push的视频个数;n+为视频V+的关键词个数;m+,1n+均为归一化系数,目的是为了防止不同用户点击视频个数不同以及不同视频提取的关键词个1数不同而产生差异.a+TF-IDF权重.犞+关键字,公式中系数bj=腾讯视频的播放量,该系数用于降低热门视频的影响力.同理,用户的负行为向量化公式设计为其中:犞u有点击Push视频的个数;n-为视频V-的关键词个数;1m-,1击视频个数不同以及不同视频提取的关键词个数不同而产生差异.a-权重.犞-的第i个关键字,其余变量含义同前.3.4结合用户正、负行为向量的综合推荐结合用户正行为和负行为的综合推荐可以有多种方法,为了便于实现和实际应用,我们采用两组向Page6量与待推送视频向量之间距离的比值关系.在计算高维向量之间距离的方法上,我们在实验中尝试了欧式距离、皮尔逊距离、余弦距离以及余弦距离和欧式距离的混合距离,实验结果见本文第4节详细讨论.其中欧式距离的实验点击率(ClickThroughRate,CTR)稍逊于其他3种距离;余弦距离CTR平均值效果最优,但其CTR波动大于其他3种距离.为了最大限度提升推荐系统CTR,我们选用余弦距离作为高维向量间的距离计算方法.在建立用户正行为向量和负行为向量后,我们分别计算待推送视频的向量和全体用户的正负行为向量之间的余弦距离,并计算它们之间的比值.在此步骤中,所建立的正负行为向量和视频向量余弦值的比值公式为令x=示用户的正行为向量和推送视频向量越相关,反映了用户越可能对该推送视频感兴趣;当x越接近-1,表示用户正行为向量和该推送视频向量越不相关,反映了用户越可能对该推送视频不感兴趣.令y=犞v·犞u犞v·犞u用户的负行为向量和该推送的视频向量越相关,但反映了用户越有可能对该视频不感兴趣.而当y越接近-1时,表示用户的负行为向量和该推送向量越不相关,但反映了用户越可能对该视频感兴趣.根据x,y取值的实际意义,在推送一个视频时,最理想的目标用户是x=1,y=-1.在实际情况下,用户的x,y值是分布于[-1,1]之间.为了建立数学模型来量化选定推送目标用户,我们考虑把-1x1,-1y1分为图4中C1,C2,C3,C4这4个区域,并且每个用户的x,y值对应坐标中的一个点.考虑x,y取值的实际意义,那么(x,y)值属于C2区域的用户将直接从备选用户群中剔除,而属于C4区域的用户将保留在备选用户群中.对于C1区域中的用户,我们保留x域①)的用户在备选用户群中,过滤掉落入区域②中的用户.这样我们保留了C1区域中对推送视频感兴趣的可能性大于等于不感兴趣的可能性的用户.图4备选用户群与用户(x,y)值在坐标平面的分布关系同样,我们保留C3中x的区域①区域)的用户在备选用户群中,过滤掉落入区域②中的用户.C1,C3中的子区域①,②以直线=p,p=1为边界.图4中不同区域的箭头指向了xy不同区域内的备选用户成为推送目标用户的x,y取值趋势.从x,y取值趋势,我们能得到p值的大小趋势,根据p值大小,可以从备选用户群中选出推送目标用户.表1简要总结了不同区域中的目标用户的p值大小.区域C1-①C3-①C4C1-①表示C1区域中①子区域,C3-①表示C3区域中①子区域.在表1中可以看出在不同的区域中目标用户P值大小趋势存在不一致,在C1-①区域中,要选择P较大的用户为推送目标用户,其余两种情况要选择P较小的用户为推送目标用户.因为存在这样的不确定情况,我们不能有效的根据P值大小来选定目标用户.但在此基础上,我们观察到不同区域下,目标用户的x,y的取值趋势通常均偏离x户(x=1,y=1)偏离x通过计算备选用户(x,y)到直线x该距离按降序排序后取前1000万用户为推送目标Page7用户.初始情况下,由于用户反馈数据尚不丰富,我们定义初始参考直线x和视频向量关系相等为基准直线,并按公式d=xi-yi槡2距离值降序排序后取前1000万用户为备选用户群.4实验及结果分析本节简要介绍所提出的推荐方案在实验中所使用的数据以及实验环境和评价指标,然后比较离线环境下DNN算法和Random随机方法、Content-KNN算法、ItemCF算法的推荐效果,并考察在线环境下DNN推荐方案的推送结果,同时对数据结果进行分析.在实验方案中,为了比较DNN方案和其他常用方法的推荐效果,我们增加了对ContentKNN算法的讨论.ContentKNN是针对个性化推送设计的一种算法,该算法首先将视频库中所有视频向量化,在推送一个视频v时:①先计算视频v和视频库中其他视频的相似度,按相似度取k个相似视频;②再基于userCF的思想,统计所有用户观看①中选取的k个视频的数量情况;③然后根据②中所有用户观看数量取TopN个用户作为待推送视频的筛选用户群.4.1实验数据和实验环境本实验基于腾讯视频的视频描述数据以及腾讯视频移动端用户点击推送消息中所推荐视频的历史数据,实验环境主要分为离线测试和在线测试.腾讯视频是国内较有影响力的在线视频服务商之一,目前移动端拥有超过4亿用户,月度活跃用户超到2亿,每日高峰时段有超过4000万的用户同时在线①.在腾讯视频的视频库中,提供有数百万部视频,用户每天产生近十亿播放量,日播放记录数据达数百GB.由于数据量大,本实验中只使用周期长度为30天的数据.在基于30天内推送视频的历史记录数据中,有接收Push推送消息的用户数数亿.在词向量训练方面,使用的视频描述数据(媒资信息)训练得到约近百万级别关键词的词向量.在进行向量化后,获得视频向量数据和用户向量数据在TB级别.面对这样较大数据量分析的问题,本实验使用了基于Hadoop大数据处理平台,机器集群由多cluster组成,每个cluster计算能力可达60GHz,存储能力12TB,网络传输能力10Gbps②.4.2评价指标本实验的推荐目标主要针对待推送的视频过滤对该视频可能感兴趣的移动终端用户,因此需要考虑从视频角度和用户角度两方面综合评价所实验的推荐策略.4.2.1视频角度从视频角度出发主要考察视频点击率(CTR)、视频覆盖率(Coverage)、推送用户接受推送视频数量和点击视频数量的基尼系数(Ginicoefficient,Gini).各个指标的定义公式如下:其中:Nc是一个推送视频的点击用户数;IS是一个推送视频下发的用户数.而覆盖率为其中:NS为n次推送总共下发的用户数;U为可以接受推送消息的用户总量.Gini系数原是经济学中衡量贫富差距的指标,推荐系统方面的研究主要借用该指标来衡量推送下发数量和推送点击量在用户之间的差距.针对本文中数据量较大的情况,采用较为简化的计算Gini的公式,如式(17)所示:其中,wi为从对用户按接收或点击Push视频个数排序后从第1个用户到第N个用户接收或点击推送视频的累计个数占总的用户接收或点击视频个数的比例.4.2.2用户角度从用户角度出发主要需要考察预测准确度(Precision),计算式为其中:R(i)为使用推荐算法下发用户Push的视频集合;T(i)为用户实际点击的Push视频集合.准确度衡量各个算法过滤得到的用户群是否有效命中用①②Page8户兴趣.4.3分析在实验初期,我们尝试了传统基于内容的推荐方法,利用视频媒资信息关键词、视频分类标签、演员导演等信息建立向量,再依据用户观看过的历史记录建立行为模型,匹配两者.但在实际实验中发现这样建立出来的模型计算的视频和用户之间的相似度往往会接近于0,结果不能直接用来做推荐.其原因主要是简单的关键词过多或过少都不能准确描述图5离线测试CTR结果图5(a)主要对比了余弦距离、欧式距离、皮尔逊相关系数以及余弦距离和欧式距离的混合距离来衡量向量间距离的离线测试结果.我们使用箱线图描述统计结果.从结果图中可以较明显看出选用余弦距离,在提升推荐系统CTR上效果最优,因此本文中的实验选用余弦距离作为高维向量间距离的衡量方法.图5(b)对比了离线环境下的ContentKNN、ItemCF、DNN算法以及Random方法对35次推送的移动视频的CTR指标结果.从图中的统计描述结果可以看到,在离线实验中,ContentKNN、ItemCF和DNN算法在CTR指标的上四分位值,中位值,下四分位值上均要高于Random方法,而DNN算法明显优于其他算法.同时,DNN算法和ContentKNN算法的CTR结果稳定性相比ItemCF算法要好.4种算法在对35次不同的移动视频的推荐(基于消息推送方法)中CTR的平均值分别为4.8%、7.0%、6.3%、9.9%(分别对应Random、ContentKNN、ItemCF、DNN算法).鉴于上述离线结果,我们将DNN算法应用在在线环境.测试DNN算法在线上情况下的效果并对比同一时期在线Random算法的实验结果.在线内容和用户,使得在稀疏矩阵上的距离计算失效.而在基于深度学习词向量模型建立的视频向量和用户行为向量上,则不会出现上述问题及现象.所以在实际系统的实验中,本文将主要比较DNN算法、ContentKNN算法、ItemCF算法以及Random方法的推荐结果.4.3.1CTR指标结果在评估CTR指标时,我们分为离线测试和在线测试两种环境.其结果分别对应图5和图6.环境共测试了35次,CTR对比结果如图6(a).从图中可以看到在在线环境下,DNN算法在CTR指标上仍然保持着较大的优势.此外,图6(b)、图6(c)中对比了在线环境下DNN算法在国产剧、国外剧、长视频、短视频上的推荐效果,测试次数各为20次.从结果上可以观察到DNN算法对国产剧的推荐效果要稍好于国外剧,而对长视频的推荐效果稍好于短视频.国产剧的推荐效果相对好于国外剧,其主要原因是在本实验中所使用的视频语料库信息中大部分是关于国产视频,而对于占相对少数的国外剧在整个由媒资信息组成的语料库中并没能很好的建立词向量模型.同时,观看国外剧的用户群相对少于国产剧,从而影响用户向量的生成.另一方面,长视频的推荐效果要稍好于短视频,因为长视频(电影、电视剧、综艺节目等)的描述信息比短视频(搞笑、生活、用户上传视频等)的描述信息更加丰富.4.3.2Coverage和Gini指标结果本小节主要讨论DNN算法在离线和在线环境下的Coverage和Gini指标,并对比了同一时期在线Random推送的Coverage和Gini指标.其实验阶段小规模测试结果如表2所示.Page9表2各种算法在离线或在线情况下的下发量、图6在线测试CTR结果算法离线DNN离线ContentKNN23离线ItemCF在线Random在线DNN从表2中可以看到在离线测试情况下,DNN算法在Coverage指标和下发用户数方面相对其余两种离线算法表现要弱,但是在下发量,点击量,点击用户数上效果要好.而Random算法的下发量、下发用户数和点击量这些指标的绝对值都大于其他算法,主要因为随机情况下考虑的是全体用户,其用户基数大,在随机抽取的时候量级依然较大.然而,从相对量角度观察,3种算法的表现,都普遍要优于Random算法.只是在Coverage覆盖率指标上,DNN算法不存在优势,这与计算用户行为向量的方法以及基于用户向量过滤筛选用户的策略有关.在图7和图8中,我们考察了不同推荐方法下发给用户的次数和用户点击次数的基尼系数.从结果中可以观察到,DNN下发给用户次数相比Random方法更加均衡,点击用户要比Random方法集中.对于Random算法中下发消息不均衡的问题,我们分别从用户在1天、3天、5天和7天里观看次数的累积概率分布(CumulativeDistributionFunction,CDF)观察移动视频服务用户的活跃度,结果如图9所示.从图9中可以观察到,用户在活跃度上存在较大差异.基于上述分析,Random算法往往跟用户观看活跃程度有关.对这种情况,我们将移动视频用户分为接收推送消息量多的用户和接收推送消息量少的用户(以用户接收推送消息数量衡量),对比分析了这两类用户的观看活跃度(以观看视频量衡量)的CDF图,其结果如图10.从图10可以观察到接收推送消息量多的用户Page10图7用户接收推送消息次数的基尼系数图8用户点击推送消息次数基尼系数图9用户分别在1、3、5、7天中观看视频次数累积概率分布的观看活跃度要比接收推送消息量少的用户高,说明Random算法存在偏离缺陷.最后,我们计算了Random和DNN算法各自推送用户接收推送消息个数与其观看活跃的相关度,分别为0.40和0.31.从而可知Random算法偏向选择观看活跃的用户.而DNN算法的点击用户比Random方法集中,说明了DNN算法在实际中提高了用户点击的可能性.4.3.3预测准确度对于预测准确度指标(Precision),我们主要对Page11比了线上DNN算法和同一时期线上Random方法的结果,以两种算法推送的23次推送的数据来比对分析.两种情况下用户的预测准确度CDF分布如图11所示.基于图中观察的结果可知,DNN算法的预测准确度分布要高于Random方法.基于在线环境下的实际测试结果来观察,DNN算法有效提高了用户对推送视频的点击率.5结论针对信息过载现状和移动智能终端设备使用越来越广泛的情况,本文结合推荐算法和移动设备的推送功能应对信息过载问题,提出了一种解决冷启动问题的个性化移动视频推荐策略.该方法主要利用了基于深度学习词向量模型建立视频向量和用户正负行为向量,把用户正负行为向量与视频向量的相似度映射到二维平面上,将选择推送用户的问题转化为计算点到直线的距离.在检验基于深度学习模型的推荐策略的性能表现时,本文基于实际系统数据主要对比了其与离线ContentKNN算法、ItemCF算法以及Random方法的推荐效果.从实验结果比较可知,本文所提出的基于DNN算法的推荐方案在提升视频的CTR、预测准确度等方面均获得较明显的效果.本文所提出的推荐策略主要面对移动互联网用户个性化推送场景,在实际系统的工程应用中发现还需要综合考虑用户移动设备的网络在线状况(如3G/4G网络或Wifi环境对用户点击推荐视频的影响等),以及用户的观看行为等因素(分析用户观看视频的行为特征).这些将作为本文后续工作探索的研究方向,而如何利用用户接收消息推送后的反馈信息动态优化推荐策略,也将是本文后续研究的重要工作之一.致谢腾讯(深圳)公司为本论文研究提供了数据、数据处理平台和大规模在线服务实验环境,本研究获得了腾讯公司的数据支持和实践应用.审稿人也给予了宝贵的意见和建议.在此一并表示感谢!
