Page1一种基于逻辑Petri网的Web服务簇组合方法吴洪越杜玉越(山东科技大学信息科学与工程学院山东青岛266590)摘要Web服务组合是实现快速服务增值和软件重用的重要方式,但现有的静态服务组合和动态服务组合方式都有待于进一步完善.文中集成静态服务组合和动态服务组合的优点,提出了一种在虚拟层面上基于服务簇进行服务组合的思想;研究并提出了一种基于服务簇的服务组合方法,并应用逻辑Petri网对其进行形式化建模描述;给出了服务簇网的基本组合模型,并分别对其完备性继承作了分析;研究了服务簇网组合的代数运算性质.最后,通过实验证明了服务簇网组合运算的可行性和有效性.关键词Web服务;服务簇;服务组合;逻辑Petri网;服务簇网1引言Web服务技术具有高度的互操作性、跨平台性和松散耦合等优点.近年来,云计算、物联网等新型计算模式的涌现和发展,极大地推动了Web服务技术的发展.Web服务技术引起了世界范围内学术界和产业界的广泛关注.随着大数据时代的到来,Web然而,单个Web服务提供的功能较为单一,难以满足复杂多样的用户请求,只有通过对已有服务进行组合,才能发挥其巨大潜力.Web服务组合技术将多个Web服务进行组合,构造粒度更大的流程服务,以此提供更多功能复杂的服务来满足不同用户的复杂需求,与此同时也极大地提高软件的生产效率.Page2近年来,随着大数据时代的到来,服务数量迅速增加,为服务请求者提供了更多的选择,同时也给服务的查找和组合带来了更大的压力,服务组合过程变得缓慢而复杂.组合服务的动态自适应性较差,当服务失效或用户请求改变时,很难找到替代服务.为此,一些学者提出了服务聚类[1-3]的思想,将功能相同或相似的服务映射为一个服务簇,利用服务簇作为服务请求和响应的基本单位.服务粒度的增大,可以有效地缩减服务查找空间,提高搜索效率,减小服务查找和绑定难度.服务失效时可以在簇内查找相似服务进行替换,因此,大大提高了服务的自适应性.本文以服务簇为基本单位,在抽象层面上基于服务簇进行服务组合,不仅可以大大提高服务的发现和组合效率,而且可以充分利用BPEL流程,压缩服务搜索空间,极大地提高服务的自适应性.由于服务簇模式下存在服务参数不确定、用户需求多样等不确定性因素,因此,传统的Petri网的建模方法已经不再适用于以服务簇为基本单位的服务组合.本文采用逻辑Petri网(LogicPetriNet,LPN)[4-8]对服务簇模式的服务组合进行建模描述,并给出了其完备性分析.逻辑Petri网是抑制弧Petri网的一种高级抽象,已成功应用于电子商务[5-6]、实时协同系统[7-8]等领域.逻辑Petri网适用于描述传值不确定性,因此易于描述与分析基于服务簇的服务组合模型.本文第2节给出基于服务簇网组合的动机和服务簇网的层次结构;第3节介绍逻辑Petri网的基本知识;第4节对Web服务和服务簇进行形式化建模描述;第5节给出服务簇网的组合模型,并对其完备性继承和代数运算性质作分析;第6节通过实验分析证明基于服务簇网的服务组合方法的可行性和有效性;第7节对全文进行总结,并简要介绍下一步工作.图1服务簇网层次结构模型2服务簇模式传统的Web服务组合方法分为动态服务组合和静态服务组合.动态服务组合是一种在线的、动态的和实时的组合方式.当用户提出服务请求时,系统根据用户请求动态地选择Web服务并进行组合,提供个性化服务来满足不同用户的需求.静态服务组合是一种离线的或预编译的稳定的组合方式,它将简单的具有不同功能的Web服务组合成一种具有特殊功能的服务进行封装,并作为一种新的服务在服务库中发布,供用户调用,以此达到服务增值的目的.然而,无论是动态服务组合还是静态服务组合都存在缺陷.动态服务组合需要根据用户的具体需求在茫茫服务库中寻找单个服务组件,效率极其低下,而且不能重复利用服务组合的BPEL流程.静态服务组合虽然效率高,且能重复利用服务组合流程,但是组合服务中的单个服务组件并不一定适合某个具体的用户需求.因此,封装好的组合服务并不能满足不同用户的个性化需求,并且自适应性较低.如果将所有可能的服务组合都进行封装,又会造成极大的浪费,并导致服务空间爆炸问题.因此,本文集成动态服务组合和静态服务组合的优点,给出一种基于服务簇模式的服务组合方法:(1)在Web服务的物理资源层之上建立虚拟资源层,将功能相同或相似的服务聚集为一个服务簇;(2)在虚拟资源层之上建立业务模型层,对内在关系比较稳定的抽象服务簇进行静态组合,得到服务簇网;(3)将功能独立的服务簇映射到业务模型层,作为原子服务簇网;(4)对服务簇网进行存储,将服务簇网作为用户请求和响应的基本单位.服务簇模式的层次结构模型如图1所示.Page3当用户发出服务请求时,首先在业务模型层对服务请求作出响应,查找满足用户请求的服务簇网.如果业务模型层的服务簇网不能满足用户需求,则基于服务簇网进行动态组合,得到满足用户需求的服务簇网.然后,针对用户具体请求,借助抽象服务簇到单个服务的绑定算法,为服务簇网中的每个服务簇选择最符合用户需求的单个服务,得到最能满足用户需求的组合服务.因此,基于服务簇的服务组合使得用户不必在服务库中逐一地查找特定服务,解决了动态服务组合服务发现和组合效率低的问题.同时,又可以重复利用BPEL流程,实现流程的复用,根据具体的用户需求选择绑定适合用户的最佳服务.因此,这种服务簇组合模式,又解决了静态服务组合不能满足个性化服务需求以及服务空间爆炸问题.本文只给出了业务模型层上服务簇网的组合方法及其完备性分析,服务请求处理、服务簇发现、服务簇到具体服务的绑定等问题的研究将在以后的工作中完成.3逻辑Petri网传统的基于Petri网的描述方法只能对单个的Web服务组合进行描述,不适用于以服务簇为基本单位的服务组合.因此,本文采用基于逻辑Petri网的方法描述和分析基于服务簇的服务组合.下面简单介绍Petri网的基本概念,更深入的了解参阅文献[9-10].定义1.网[10].三元组N=(P,T,F)称为一个网,当且仅当(1)P是一个有限库所集,T是一个有限变迁集;(2)P∪T≠,P∩T=;(3)F(P×T)∪(T×P)是一个弧集.定义2.输入集和输出集[10].x∈P∪T,·x={y|(y,x)∈F}称为x的输入集;x·={y|(x,y)∈F}称为x的输出集.定义3.Petri网[10].PN=(N,M)称为一个Petri网,当且仅当(1)N=(P,T,F)是一个网;(2)M:P→{0,1,2,…}是PN的一个标识函数;(3)引发规则:①p∈·t:M(p)>0,则称变迁t在标识M使②若t在标识M使能,则t可以引发且引发后能,记为M[t〉;产生一个后继标识M记作M[t〉M,其中M(p)=定义4.可达标识集[10].设PN=(P,T,F,M0)为一个Petri网,其中M0是PN的初始标识.PN的可达标识集R(M0)定义为满足下面两个条件的最小集合:(1)M0∈R(M0);(2)若M∈R(M0),且存在t∈T使得M[t〉M,则M∈R(M0).在本文Petri网的图表示中,圆圈表示库所,矩形框表示变迁,圆点表示标识(token).逻辑Petri网(LogicalPetriNet,LPN)是抑制弧Petri网的一种高级抽象[11].在LPN中,在变迁上添加逻辑输入表达式fI和逻辑输出表达式fO,以此来描述变迁使能条件的不确定性和变迁引发时输入、输出库所状态改变的不确定性.通常将逻辑输入表达式fI和逻辑输出表达式fO化为标准析取范式,使其中的每一个析取子句都是相关库所的合取式,称为逻辑表达式的子合取式.如果一个变迁的输入库所集满足其逻辑输入表达式fI,则意味着它满足fI的一个子合取式f,此时变迁使能.变迁引发时按照f对输入库所集合中的库所作相应变化,同时保证输出库所集满足fO的一个子合取式.为了更加详细地描述库所与表达式的关系,用符号p|f表示库所p在合取式f中的出现形式,p|f=·T·表示p在f中以p的形式出现,p|f=·F·表示p在f中以p的形式出现,·T·/·F·表示逻辑真值为真/假.例如,在合取式f=p1∧p2∧p3中,p1|f=·T·,p2|f=·T·,p3|f=·F·.定义5.必要库所.设表达式f为库所集P上的逻辑表达式,p∈P,称p为表达式f的必要库所,当且仅当对f的任意子合取式fi都有p|fi=·T·成立,记为p|f=·T·.定义6.逻辑表达式.设f为关于库所集P的逻辑表达式,对p∈P,p|M表示M下p的逻辑真值,记将所有库所的逻辑真值代入逻辑表达式,得到逻辑表达式f的真值,f|M=·T·/·F·表示标识M满足/不满足表达式f.定义7.逻辑Petri网.设LN=(P,T,F,I,O),Page4LPN=(LN,M)称为一个逻辑Petri网当且仅当:(1)P是一个有限库所集合;(2)T是一个有限变迁集合,满足T∪P≠,t∈T:·t∩t·=,且t∈T,t的所有输入库所受一个逻辑输入表达式fI的限制,所有输出库所受一个逻辑输出表达式fO的限制;(3)F(P×T)∪(T×P)是一个有向弧集合;(4)I是一个逻辑输入函数,t∈T,I(t)=fI是变迁t上的逻辑输入表达式;(5)O是一个逻辑输出函数,t∈T,O(t)=fO是变迁t上的逻辑输出表达式;(6)M:P→{0,1}是LPN的标识函数,p∈P,M(p)表示p中的标识数量;(7)变迁引发规则:t∈T,设I(t)=fI,O(t)=fO,如果fI|M=·T·,即·t在M满足逻辑表达式fI的一个子合取式fi,则称t在M使能;若t在M使能,则它可以在M引发,引发时选择fO的一个子合取式fo,引发后演变到新的标识M:M(p)=在LPN的图表示中,将变迁的逻辑输入表达式和逻辑输出表达式标注在变迁上,如图2(a).当逻辑输出表达式表示为所有输出库所的合取时,可以省去逻辑输出表达式,此时的变迁称为逻辑输入变迁,如图2(b),逻辑输入变迁的引发等同于普通Petri网变迁.同样,当逻辑输入表达式表示为所有输入库所的合取时,可以省去逻辑输入表达式,此时的变迁称为逻辑输出变迁,如图2(c),逻辑输出变迁的使能条件等同于普通Petri网变迁.当逻辑变迁的逻辑输入表达式和逻辑输出表达式都可以省去时,逻辑变迁变为普通的Petri网变迁,如图2(d).服务提供者的名称等;4Web服务和服务簇的形式化描述对服务进行建模描述的方法有许多种,其中,Petri网采用可视化图形描述且有坚实的数学基础,易于表达离散事件动态系统的静态结构和动态变化,非常适合于描述服务组合,比如文献[12-15]都采用Petri网对服务进行建模描述.4.1Web服务元.Web服务定义如下.五元组WS=(SID,BI,SF,QoS,SE),其中:一个单个的Web服务的Petri网描述称为服务定义8.Web服务.一个服务可以描述为一个(1)SID表示Web服务的唯一标识;(2)BI表示服务的基本信息,包括服务的名称、(3)SF为服务的功能语义描述;(4)QoS表示对服务质量的描述,QoS属性主(5)SE=(P,t,F),表示描述该Web服务的服①P是一个有限库所集合,表示服务元的输②t是服务元的服务变迁,表示服务元的服务③F是一个有向弧的集合,表示库所集P和服务变迁t之间的流关系.例如,图3给出了一个机票预订服务的服务元模型,表示一个机票预订服务需要输入出发日期、出发城市、目的城市等参数,服务执行完以后,可以得到飞机的起飞时间、机票价格、航班号等信息.要包括价格、响应时间、可靠性、可用性、声誉等;务元,其中:入、输出参数集合;操作;4.2服务簇服务聚类的思想已经被广泛认同.服务聚类通过对多个服务的功能语义描述和输入输出参数进行相似度匹配,将功能相同或相似的服务聚在一起.通过服务聚类处理以后,服务注册库中的服务按照功能被划分为多个服务簇,同一个服务簇中的服务功能具有高度的相似性,而不同服务簇的服务之Page5间功能高度相异.服务聚类的具体方法可参见文献[1-3],本文不再赘述.服务簇的逻辑Petri网描述称为簇元,是将多个服务元组合到一起得到的.服务簇的形式化定义如下.定义9.服务簇.一个服务簇可以描述为一个五元组SC=(CID,BI,CF,CS,CE),其中:(1)CID表示Web服务簇的唯一标识;(2)BI表示服务簇的基本信息,包括服务簇的(3)CF为服务簇的功能语义描述;(4)CS是一个标识的集合,描述了该服务簇所(5)CE=(P,t,F,fI,fO),表示描述该服务簇①P是服务簇的输入、输出库所的集合;包含的服务的标识;的簇元,其中:名称等;图4机票预订服务元模型5服务簇网及其组合服务簇网是业务模型层上服务的存在形式,是用户提出服务请求后,服务请求和响应的基本单位.服务簇网通过虚拟层面上的组合来达到服务增值的目的.本节主要讨论业务模型层上服务簇网的组合.组合形成的服务簇网在发布之前,其完备性必须得到验证,因此,对每种组合运算的完备性继承作了分析.5.1服务簇网的定义NS,LSN)为一个服务簇网,其中:(1)NID表示服务簇网的标识;(2)BI表示服务簇网的基本信息,包括服务簇定义10.服务簇网.称SCN=(NID,BI,NF,网的名称等;(3)NF为服务的功能语义描述;(4)NS是一个标识的集合,描述了该服务簇网所包含的服务簇的标识;(5)LSN=(P,T,F,I,O,fS,fE),表示描述该服务簇的逻辑服务网,其中:操作;务变迁t之间的流关系;服务簇的输入参数限制;②t是服务簇的服务变迁,表示服务簇的服务③F是一个有向弧的集合,表示库所集P和服④fI是服务变迁的逻辑输入表达式,用来描述⑤fO是服务变迁的逻辑输出表达式,用来描述服务簇的输出参数限制.定义9指出,服务簇由服务簇唯一标识CID进行标识.查找时,按照服务簇的功能语义描述、基本信息及其输入、输出参数进行查找.每个簇元由一个变迁和若干个库所组成.变迁与各库所之间的逻辑关系通过逻辑表达式fI和fO来描述.例如,图4中给出了将两个机票预订服务聚类得到的机票预订服务簇的簇元模型.①P表示LSN中库所的集合,LSN有两个库所子集PC和PD,PD为数据库所子集,PC为控制库所子集,满足P=PC∪PD,且PC∩PD=.PC包含两个特殊库所:源控制库所i(开始状态)和终控制库所o(结束状态),满足·i=,o·=.输入库所集PIn={p∈P|·p=},输出库所集合POut={p∈P|p·=};②T表示LSN中变迁的集合,t∈T,·t和t·都至少有一个控制库所;③F是一个有向弧的集合,表示库所集P和变迁集T之间的流关系;④I是一个逻辑限制输入函数,使对t∈T,I(t)=fI是一个逻辑输入表达式,p∈·t∩PC,有p|fI=·T·;⑤O是一个逻辑限制输出函数,使对t∈T,O(t)=fO是一个逻辑输出表达式,p∈t·∩PC,p|fO=·T·;⑥fS是集合PIn上的LSN的网逻辑输入表达式,表示要使LSN使能,其输入库所应满足的表达式;⑦fE是集合POut上的LSN的网逻辑输出表达Page6式,表示LSN运行完以后,其输出库所应满足的表达式.逻辑服务网中有两个库所子集,PD描述服务簇网中各个服务之间以及服务网与外部环境的参数传递,PC控制各服务簇之间的逻辑关系.服务组合的完整执行,对应服务网中的控制标识从原库所i移动到终库所o.PIn和POut分别表示该LSN的输入参数和输出参数的集合.LSN中的每个变迁表示一个服务簇操作.服务网的逻辑输入表达式fS和逻辑输出表达式fE描述了服务网的逻辑输入和输出限制,分别表示用户调用服务时所需要输入的参数的限制条件和服务组合执行完成后得到的结果,由各变迁的逻辑输入表达式和逻辑输出表达式在组合过程中不断运算得到,对组合网的性质继承问题的分析起着关键作用.逻辑服务网LSN是服务网组合的主要部分,本文讨论的重点在于LSN的组合及其性质的分析.对于一个服务簇网,其逻辑Petri网描述即逻辑服务网决定了服务的组合流程.因此,在服务簇网启用之前,逻辑服务网的正确性即健壮性必须得到形式验证.为了分析逻辑服务网的健壮性,作以下定义.定义11.初始标识和终止标识.设LSN=(P,T,F,I,O,fS,fE),称M0为LSN的初始标识当且仅当:(1)pPIn→M0(p)=0;(2)对集合PIn满足fS|M0=·T·.称初始标识的集合为初始标识集,记为MS.称Me为LSN的终止标识当且仅当:(1)p∈PC-{o},Me(p)=0,Me(o)=1;(2)fE|Me=·T·.称终止标识的集合为终止标识集,记为ME.初始标识集表示所有满足该逻辑服务网的逻辑输入表达式的标识的集合,终止标识集表示所有从初始标识可达的,满足该逻辑服务网的网逻辑输出表达式的标识的集合.对于fS的标准析取范式的任意一个合取式fSi,都有一个唯一的初始标识M0i与之对应.因此,一个LSN的初始标识的数量与fS的标准析取范式中的合取式的数量是相等的,即|R(fS)|=|MS|,其中R(fS)表示fS的标准析取范式的子合取式的集合.定义12.健壮性.设逻辑服务网LSN=(P,T,F,I,O,fS,fE),M0∈Ms,如果M∈R(M0),M∈R(M)且M∈ME,则称LSN在M0是健壮的.如果M0∈Ms,都有LSN在M0是健壮的,则称逻辑服务网LSN是健壮的.定义12说明,LSN是健壮的,即任意一个初始标识M0,无论网如何运行,都能到达一个终止标识.因此,LSN的健壮性可以保证服务簇网针对用户的所有可能的需求按其描述的流程进行执行并得到正确的输出结果,称此时的服务簇网是完备的.定义13.完备性.称服务簇网SCN是完备的,当且仅当其对应的逻辑服务网LSN是健壮的.根据定义13可以将服务簇网的完备性转化到其LSN的健壮性来讨论.5.2服务簇网代数同Web服务的静态组合方式一样,服务簇网组合以后,仍然为一个服务簇网,供用户查找调用.服务簇网组合可通过类BNF的符号进行定义.设SCN1和SCN2为两个服务簇网,代数运算符的语法如下:SCN∷=CAN|SCN1·SCN2|SCN1SCN2|其中:此部分给出服务簇网组合运算的各个模型,服所构成的服务簇网;(1)CAN表示原子服务簇网,即由一个服务簇(2)SCN1·SCN2表示服务簇网SCN1和SCN2顺序组合,即先执行服务簇网SCN1中的服务,再执行服务簇网SCN2中的服务,·表示顺序运算符;(3)SCN1SCN2表示服务簇网SCN1和SCN2进行选择运算(不可兼或),即执行服务簇网SCN1中的服务或服务簇网SCN2中的服务,为选择运算符;(4)SCN1◇SCN2表示服务簇网SCN1和SCN2进行任意顺序运算,即先执行SCN1中的服务后执行SCN2中的服务,或先执行SCN2中的服务后执行SCN1中的服务,◇表示任意顺序运算符;(5)SCN1‖SCN2表示服务簇网SCN1和SCN2进行并发运算,即服务簇网SCN1和SCN2中的服务是并发运行的,其中不含交互,‖表示并发运算符;(6)μSCN1表示服务簇网的迭代运算,即重复执行服务簇网SCN1中的某一项服务,μ表示迭代运算符.以上提出的服务簇网的代数运算都是封闭的运算.它保证了服务簇网进行代数组合运算之后,仍然是一个服务簇网,同静态服务组合一样,仍然可以继续通过代数运算进行组合以构建更多功能更复杂的服务簇网.5.3服务簇网组合模型Page7务簇网组合以后即形成一个新的服务簇网添加到业务模型层中,对应的LSN的组合通过合并库所、添加控制变迁和控制库所来完成.假设SCNi=(NIDi,BIi,NFi,NSi,LSNi),其中LSNi=(Pi,Ti,Fi,Ii,Oi,fSi,fEi).5.3.1原子服务簇网原子服务簇网用于当用户所需的服务为单个的原子服务存在于服务簇中时.此时,服务簇网由一个单个的服务簇组成.比如,用户要预订机票,只需查找机票预订服务簇,从中选择适合用户的服务,返回给用户.定义14.原子服务簇网.设服务簇SC=(CID,BI,CF,CS,CE),其中,CE=(P,t,F,fI,fO),则CAN=(NID,BI,NF,NS,LSN)表示SC对应的原子服务簇网,其中:(1)NID表示该原子服务簇网的标识;(2)BI表示原子服务簇网的基本信息,包括服务簇网的名称等;一个服务簇SC;(3)NF=CF为服务的功能语义描述;(4)NS={CID},表示原子服务簇网中仅包含(5)LSN=(P,T,F,I,O,fS,fE),表示描述该服务簇的逻辑服务网.其中,P=P∪{i,o},T={t},F=F∪{〈i,t〉,〈t,o〉},fS=I(t)=fI∧i,fE=O(t)=fO∧o.原子服务簇网是在服务簇元的基础上,通过增加控制库所i、o、网输入表达式fS和网输出表达式fE所得到的.例如,图3所示的机票预订服务元的原子服务簇网如图5所示.当用户需要预订机票时调用该原子服务簇网.原子服务簇网能够根据用户的需求得到正确的输出结果,显然,原子服务簇网都是完备的.5.3.2顺序运算顺序运算应用于两个服务顺序执行的情形.使用顺序运算进行组合的情况有两种:(1)要组合的两个服务簇网之间存在着参数依赖关系,前序服务簇网的输出参数是后序服务簇网的输入参数.例如,在旅游订票系统中,用户先要预订到达目标城市飞机票,然后预订从机场到景点的汽车票,汽车票预订服务需要机票预订服务所提供的目标机场、到达时间等输出参数作为输入参数,如图6所示;(2)要组合的两个服务簇网之间并无参数依赖关系,但存在着逻辑依赖关系,后序服务要在前序服务完成以后才可以开始.比如,电子商务系统中,客户要先付款之后商家才发送商品,付款服务与发货服务之间并没有参数依赖的关系,但必须要按顺序执行,如图7所示.组合时应用参数相似度匹配的方法将前序服务簇网的输出参数和后序服务簇网的输入参数进行匹配,合并相匹配的库所,如图6中边框表示.定义15.顺序运算.SCN=SCN1·SCN2=(NID,BI,NF,NS,LSN)表示服务簇网SCN1和SCN2进行顺序运算,其中:(1)NID表示组合得到的新服务簇网的标识;(2)BI表示组合得到的新服务簇网的基本信息描述;义描述;(3)NF表示组合得到的新服务簇网的功能语(4)NS=NS1∪NS2;(5)LSN=(P,T,F,I,O,fS,fE),其中:①P=P1∪P2,其中,i=i1,o=o2,p=o1Θi2(符号Θ表示库所合并),PE=Pout1∩PIn2,PIn=PIn1∪PIn2-PE,Pout=Pout1∪Pout2-PE;Page8I(t)=fI是一个逻辑输入表达式;O(t)=fO是一个逻辑输出表达式;和逻辑输出表达式,由算法1生成.②T=T1∪T2;③F=F1∪F2;④I是一个逻辑限制输入函数,使对t∈T:⑤O是一个逻辑限制输出函数,使对t∈T:⑥fS和fE表示组合网LSN的逻辑输入表达式下面给出一种顺序运算fS和fE的生成算法.算法1.顺序运算fS、fE生成算法.输入:前序服务簇网输入表达式fS1、输出表达式fE1,输出:组合服务簇网输入表达式fS、输出表达式fE将fE1化为标准析取范式fE1=f1∨f2∨…∨fn;PE={Px1,Px2,…,Pxm};FORi··=1TOn{VSi=fS2;VEi=fi;FORj··=1TOm{}}fS=fS1∧(VS1∨VS2∨…∨VSn);fE=fE2∧(VE1∨VE2∨…∨VEn).由于服务簇网的输出参数是不确定的,因此在算法1中,按照前序服务簇网SCN1的每一种输出方式,对输出表达式中的关联库所进行替换,得到Pout1-PE上的逻辑表达式VEi,然后将每种输出方式替换得到的VEi进行析取,再合取fE2,得到Pout上的逻辑表达式fE.同时,按照SCN1的每一种输出方式对fS2中的关联库所进行替换,得到PIn2-PE上的逻辑表达式VSi,然后将每种输出方式替换得到的VSi进行析取,再合取fS1,得到PIn上的逻辑表达式fS.服务簇网的顺序运算中涉及到关联库所的交互,而且参数传递的不确定性受到逻辑表达式的约束.因此,不能保证通过定义15组合得到的服务簇网,能顺利执行并得到正确的输出结果.下面对顺序组合服务簇网的健壮性保持进行讨论.引理1.设逻辑服务网LSN1,LSN2,LSN=LSN1·LSN2,p=o1Θi2,在LSN中,如果有M0[t1,t2,…,tk〉Me,Me∈ME,则必有M0[t1,t2,…,ti〉Mp[ti+1,…,tk〉Me,Mp定义为标识M:M(p)=1,p∈PC-{p},有M(p)=0.证明.Mp为顺序组合前LSN1的终止状态和LSN2的初始状态.在顺序组合中,仅仅是LSN1的输出库所和LSN2的输入库所之间的关联,并没有破坏两个逻辑服务网的内部结构.因此,LSN的LSN1部分运行完以后可以到达状态Mp,LSN2部分只有在Mp状态下才可以引发到达终止标识Me.根据引理1,可以将组合网的健壮性分成两个部分分别讨论.组合以后,前序部分和后序部分仍然是两个独立的部分,在运行时互不影响.因此,得到以下结论.定理1.设逻辑服务网LSN1,LSN2,LSN=LSN1·LSN2,p=o1Θi2,组合网LSN是健壮的当且仅当(1)逻辑服务网LSN1是健壮的;(2)M0∈Ms,Mp∈R(M0)都有LSN2在Mp是健壮的.证明.必要性.若LSN1不是健壮的,则必然存在M10∈MS1,使得LSN1对M10不是健壮的,而组合以后,LSN2部分对LSN1部分的运行不产生任何影响,因此,必然存在M0∈MS,使得MpR(M0),根据引理1,不存在Me∈ME使得Me∈R(M0),即LSN不是健壮的.若Mp∈R(M0)使得LSN2在Mp下不是健壮的,显然LSN不是健壮的.充分性.M0∈Ms,由于逻辑服务网LSN1是健壮的,因此,M∈R(M0),有Mp∈R(M).由于LSN2在Mp是健壮的,因此,M∈R(Mp),Me∈ME使得Me∈R(M),即LSN是健壮的.证毕.定理1中的第(1)个条件容易得到.第(2)个条件需要作深入分析,LSN1的输出库所要受到输出表达式的限制,LSN2的输入库所要受到输入表达式的限制,因此,需要对表达式进行分析,首先作以下定义.定义16.投影映射.设X、Y是两个字母表,YX.称映射ΓX→Y:X→Y为X→Y的一个投影Page9映射,σ∈X,ΓX→Y(σ)表示从σ中删除X-Y中的所有字符后的剩余子串.设逻辑服务网LSN的标识M,ΓP→P1(M)表示服务网LSN的LSN1部分的对应标识珨M.定义17.公平性.设X、Y是两个字母表,XY,fX、fY分别是X、Y上的逻辑表达式,R(fX)、R(fY)表示fX、fY的标准析取范式的合取式的集合.fX1,fX2∈R(fX),如果存在X-Y上的合取式f(X-Y)1,使得fX1∧f(X-Y)1∈R(fY),则必有fX2∧f(X-Y)1∈R(fY),则称合取式fX1和fX2在R(fY)上是公平的.如果fXi,fXj∈R(fX),都有fXi,fXj在R(fY)上是公平的,则称R(fX)在R(fY)上是公平的.例如,f1=P1∨P2,f2=P1∨(P2∧P3),f3=P1∧(P2∨P3),则有R(f1)={P1∧P2,P1∧P2,P1∧P2},R(f2)={P1∧P2∧P3,P1∧P2∧P3,P1∧P2∧P3,P1∧P2∧P3,P1∧P2∧P3},R(f3)={P1∧P2∧P3,P1∧P2∧P3,P1∧P2∧P3},容易验证,R(f1)在R(f2)上是公平的.对合取式f11=P1∧P2,f12=P1∧P2,f11∧P3∈R(f3)且f12∧P3R(f3),因此f11和f12在R(f3)上不满足公平关系,R(f1)在R(f3)上不是公平的.定理2.设X、Y是两个字母表,XY,fX、fY分别是X、Y上的逻辑表达式,R(fX)、R(fY)表示fX、fY的标准析取范式的合取式的集合,如果Y-X上的表达式fY-X,使得fY=fX∧fY-X,则R(fX)在R(fY)上是公平的.证明.记fX的标准析取范式为fX1∨fX2∨…∨fXm,fY-X的标准析取范式为f(Y-X)1∨f(Y-X)2∨…∨f(Y-X)m,则fY=fX∧fY-X=(fX1∨fX2∨…∨fXm)∧(f(Y-X)1∨f(Y-X)2∨…∨f(Y-X)m)=(fX1∧f(Y-X)1)∨(fX1∧f(Y-X)2)∨…∨(fX1∧f(Y-X)m)∨(fX2∧f(Y-X)1)∨(fX2∧f(Y-X)2)∨…∨(fX2∧f(Y-X)m)∨…∨(fXm∧f(Y-X)1)∨(fXm∧f(Y-X)2)∨…∨(fXm∧f(Y-X)m).因此,对于任意的fXi∈R(fX),f(Y-X)j∈R(fY-X),都有fXi∧f(Y-X)j∈R(fY).因此可以得到,fXi,fXj∈R(fX),如果fYi∈R(fY)使得fYi=fXi∧f,则必有f∈R(fY-X),而对任意的f(Y-X)i∈R(fY-X),都有fXj∧f(Y-X)i∈R(fY),于是,fXj∧f∈R(fY).因此,对于fXi,fXj∈R(fX),都有fXi,fXj在R(fY)上是公平的,即R(fX)在R(fY)上是公平的.证毕.有了投影和公平性的概念,可以对定理1做进一步研究,得到健壮性继承的充分必要条件.定理3.设LSN1,LSN2,LSN=LSN1·LSN2,p=o1Θi2,PE=Pout1∩PIn2,fE1=ΓPout1→PE(fE1),fS2=ΓPIn2→PE(fS2),则LSN是健壮的,当且仅当(1)LSN1是健壮的;(2)R(fE1)R(fS2);(3)R(fE1)在R(fS2)上是公平的;(4)fi∈R(fS2),如果fj∈R(fE1),使得fi=fj∧fk,fk是PIn2-POut1上的合取式,则LSN2关于fi对应的初始标识是健壮的.证明.必要性.条件(1)的证明已在定理1中给出,下面反证(2)、(3)、(4):(2)若R(fE1)R(fS2),则存在f∈R(fE1),ΓPout1→PE(f)R(fS2),因此,若LSN1引发后达到f对应的终止标识Me,无论PIn2中的库所的标识如何都不能满足fS2,LSN2不能引发,因此,在此种情况下,LSN不是健壮的;(3)若R(fE1)在R(fS2)上不是公平的,则存在f1,f2∈R(fE1),f3∈R(fS2),使得f3=f1∧f4,而f2∧f4R(fS2),其中f4是库所集PIn2上的表达式.LSN1中存在初始标识M10和路径σ,使得M10[σ〉M1e,ΓP1→PE(M1e)=Mf2.根据算法1,存在M0∈MS,ΓP→P1(M0)=M10,ΓP→PIn2(M0)=Mf4,M0[σ〉Mp,ΓP→PIn2(Mp)=Mf2∧f4,由于f2∧f4R(fS2),LSN2不能引发,LSN在标识M0下不是健壮的;(4)设fi∈R(fS2),fj∈R(fE1),且fi=fj∧fk,fk是PIn2-POut1上的合取式,结合算法1,存在M0∈MS和路径σ,M0[σ〉Mp,ΓP→PIn2(Mp)=Mfi,假设LSN2关于Mp不是健壮的,则LSN关于标识M0也不是健壮的.充分性.M0∈MS,由于LSN1是健壮的,因此,对于任意的路径σ,Mp都是可达的.由于R(fE1)R(fS2)且R(fE1)在R(fS2)上是公平的,对于任意可达的Mp都有Mp满足fS2,因此LSN2部分一定可以引发,根据条件(4)可以得到,对M0可达的Mp,都有LSN2关于Mp是健壮的,因此,对M0∈Ms,M∈R(M0),都存在M∈R(M)且M∈ME,因此LSN是健壮的.定理3给出了顺序组合之后的逻辑服务网健壮的充分必要条件,通过该定理可以对服务簇网组合之后的完备性进行验证,得到下面的推论.推论1.设服务簇网SCN1,SCN2,SCN=SCN1·SCN2,fE1=ΓPout1→PE(fE1),fS2=ΓPIn2→PE(fS2),如果SCN1、SCN2都是完备的,R(fE1)R(fS2),且R(fE1)在R(fS2)上是公平的,则服务簇网SCN是完备的.证明.定理3中的条件(1)、(2)、(3)显然都满Page10足,如果LSN2都是健壮的,则对任意的fi∈R(fS2),LSN2关于fi对应的初始标识都是健壮的.因此条件(4)也满足,LSN是健壮的,因此,SCN是完备的.推论1给出了服务簇网顺序组合之后,完备性继承的一个充分条件.如果两个服务簇网都是完备的,且其LSN的逻辑输入、输出表达式满足定理3中的条件(2)、(3),则顺序组合之后的服务簇网仍然是完备的.推论2.设服务簇网SCN1,SCN2,SCN=SCN1·SCN2,fE1=ΓPout1→PE(fE1),如果SCN1和SCN2都是完备的,且存在PIn2-POut1上的表达式f,使得fS2=fE1∧f,则SCN是完备的.证明.如果存在PIn2-POut1上的表达式f,使得fS2=fE1∧f,则fS2=ΓPIn2→PE(fS2)=ΓPIn2→PE(fE1∧f)=ΓPIn2→PE(fE1)∧ΓPIn2→PE(f),由于fE1是PE上的表达式,因此再做投影时不变,即ΓPIn2→PE(fE1)=fE1,f是PE上的表达式,因此往集合PE上做投影时为空表达式,因此fE1=fS2,显然R(fE1)R(fS2).由定理2知,R(fE1)在R(fS2)上是公平的,结合推论1可以得到,SCN是完备的.证毕.由推论2知,如果两个服务簇网都是完备的,且前序LSN的逻辑输出表达式在关联库所集上做投影后,是后序LSN的逻辑输入表达式的前序表达式,则顺序组合之后的服务簇网仍然是完备的.5.3.3选择运算当两种功能的服务都可以满足用户需求,用户需要选择其中的一种服务时,需要进行选择运算.例如,在旅游订票系统中,用户既可以乘坐飞机到达目的地,也可以乘坐火车到达目的地.此时,需要对机票预订和火车票预订的服务簇网进行选择运算组合,选择运算模型如图8所示.定义18.选择运算.SCN=SCN1SCN2=(NID,BI,NF,NS,LSN)表示服务簇网SCN1和SCN2进行选择运算,其中:(1)NID表示组合得到的新服务簇网的标识;(2)BI表示组合得到的新服务簇网的基本信息(3)NF表示组合得到的新服务簇网的功能语(4)NS=NS1∪NS2;(5)LSN=(P,T,F,I,O,fS,fE),其中:①P=P1∪P2,其中,i=i1Θi2,o=o1Θo2,PIn=义描述;描述;PIn1∪PIn2,Pout=Pout1∪Pout2;I(t)=fI是一个逻辑输入表达式;O(t)=fO是一个逻辑输出表达式;②T=T1∪T2;③F=F1∪F2;④I是一个逻辑限制输入函数,使对t∈T:⑤O是一个逻辑限制输出函数,使对t∈T:⑥fS=fS1∨fS2;⑦fE=fE1∨0fE2,符号∨0表示一种特殊的或运算,当且仅当fE1为真且fE2中未在fE1中出现的库所的真值都为假或fE2为真且fE1中未在fE2中出现的库所的真值都为假时,fE为真.通过选择运算的定义描述,可以看出,选择运算中不涉及关联库所的交互,容易得到以下结论.定理4.设服务簇网SCN1,SCN2,SCN=SCN1SCN2,则SCN是完备的,当且仅当SCN1和SCN2都是完备的.证明.充分性.如果SCN1和SCN2都是完备的,则LSN1和LSN2都是健壮的.由于fS=fS1∨fS2,因此,M0∈Ms必然有LSN1或LSN2可以执行,不妨设LSN1执行,由于LSN1是健壮的,因此一定能够到达终止状态Me,使fE1为真.由于LSN2不能引发,因此,p∈POut2-POut1,Me(p)=0,所以有fE|Me=·T·,且p∈PC-{o},M(p)=0,M(o)=1,因此LSN是健壮的,即SCN是完备的.必要性反证.如果其中任意一个子服务簇网不是完备的,不妨设SCN1不完备,则在LSN1中,M01∈Ms1,使得LSN1在M01不是健壮的.由于fS=fS1∨fS2,因此,存在M0∈Ms,p∈P1,M0(p)=M01(p)且fS2|M0=·F·,在M0只有LSN1时可以执行,由于LSN1不是健壮的,因此终止状态不可达,即LSN不是健壮的,SCN不是完备的.证毕.5.3.4任意顺序运算任意顺序运算表示两个服务进行顺序组合运Page11算,但运算的顺序是任意的.比如,在网上购物系统中,付款服务和发货服务进行顺序组合,既可以先付款后发货,也可以先发货后付款.值得注意的是,参与任意顺序组合的两个服务不能有参数依赖关系.定义19.任意顺序运算.SCN=SCN1◇SCN2=(NID,BI,NF,NS,LSN)表示服务簇网SCN1和SCN2进行任意顺序运算,其中:(1)NID表示组合得到的新服务簇网的标识;(2)BI表示组合得到的新服务簇网的基本信息(3)NF表示组合得到的新服务簇网的功能语(4)NS=NS1∪NS2;(5)LSN=(P,T,F,I,O,fS,fE),其中:①P=P1∪P2∪{i,o,p1~5},PIn=PIn1∪PIn2∪②T=T1∪T2∪{t1~6};③F=F1∪F2,新加控制变迁和控制库所的流{i}-{i1,i2},Pout=Pout1∪Pout2∪{o}-{o1,o2};关系如图9所示;描述;义描述;④I是一个逻辑限制输入函数,使对t∈T:I(t)=fI是一个逻辑输入表达式;⑤O是一个逻辑限制输出函数,使对t∈T:O(t)=fO是一个逻辑输出表达式;⑥fS=fS1∧fS2(i1→i,i2→i);⑦fE=fE1∧fE2(o1→o,o2→o).分析可以得到任意顺序运算SCN=SCN1◇SCN2等价于(SCN1·SCN2)(SCN2·SCN1),任意顺序运算可以通过调用顺序运算和选择运算得到.然而,任意顺序运算仍然是有必要的,因为模型SCN=SCN1◇SCN2相对于(SCN1·SCN2)(SCN2·SCN1)来说,即高效又简洁,尤其是在网系统庞大而复杂的情况下,优势更为突出.由于参与任意顺序组合的两个服务不能有参数依赖关系,因此,组合过程中不涉及关联库所交互.组合网能够继承组合子网的完备性.定理5.设服务簇网SCN1,SCN2,SCN=SCN1◇SCN2,则SCN是完备的,当且仅当SCN1和SCN2都是完备的.证明.充分性.服务簇网LSN1和LSN2是任意顺序执行的,不妨设先执行LSN1到达状态M1,后执行LSN2到达状态M2.由于SCN1是完备的,因此,一定有fE1|M1=·T·,p∈PC1,M1(p)=0,fE2|M2=·T·,p∈PC2,M2(p)=0,M2[t5,t6〉Me.根据图9所示模型,容易验证Me(o)=1,p∈{i,i1~2,o1~2,p1~5},Me(p)=0,由于fE=fE1∧fE2(o1→o,o2→o),所以fE|Me=·T·,因此,LSN是健壮的,即SCN是完备的.必要性反证.如果任意一子网不是完备的,不妨设SCN1不完备,则M0∈Ms,M∈R(M0)使得M∈R(M),都有ΓP→P1(M)Me1,因此,MMe,即SCN不是完备的.根据定理5,如果服务簇网之间没有参数依赖的关系,则它们通过任意顺序运算组合之后是完备的当且仅当这两个服务簇网都是完备的.5.3.5并发运算如果完成用户的请求,需要调用两个服务,且这两个服务之间互不影响,不存在依赖关系,此时,需要运用并发运算对这两个服务簇网进行组合.并发运算用于描述两个服务簇网处于并发的关系,且运行时不存在交互的情形.比如,旅游订票系统中,用户预订汽车票和预订旅馆的服务互不影响,不存在依赖关系,此时,需要运用并发运算将两种功能的服务簇网组合起来,并发运算模型如图10所示.定义20.并发运算.SCN1‖SCN2=(NID,BI,NF,NS,LSN)表示服务簇网SCN1和SCN2进行并发运算,其中:Page12描述;义描述;{i}-{i1,i2},Pout=Pout1∪Pout2∪{o}-{o1,o2};(1)NID表示组合得到的新服务簇网的标识;(2)BI表示组合得到的新服务簇网的基本信息(3)NF表示组合得到的新服务簇网的功能语(4)NS=NS1∪NS2;(5)LSN=(P,T,F,I,O,fS,fE),其中:①P=P1∪P2∪{i,o},其中,PIn=PIn1∪PIn2∪②T=T1∪T2∪{t1,t2};③F=F1∪F2∪{〈i,t1〉,〈t1,i1〉,〈t1,i2〉,〈o1,t2〉,〈o2,t2〉,〈t2,o〉};④I是一个逻辑限制输入函数,使对t∈T:I(t)=fI是一个逻辑输入表达式;⑤O是一个逻辑限制输出函数,使对t∈T:O(t)=fO是一个逻辑输出表达式;⑥fS=fS1∧fS2(i1→i,i2→i);⑦fE=fE1∧fE2(o1→o,o2→o).由于参与并发运算的两个服务簇网之间互不影响,不存在参数依赖关系,服务网运行时不存在参数交互,因此,在并发运算模型中,组合服务簇网仍然可以继承子网的完备性.定理6.设服务簇网SCN1,SCN2,SCN=SCN1‖SCN2,则SCN是完备的,当且仅当SCN1和SCN2都是完备的.证明.充分性.设SCN1和SCN2都是完备的,则LSN1和LSN2都是健壮的,M0∈Ms,有fS|M0=·T·.假设M0[t1〉M1,则M1(i1)=1,M1(i2)=1,因为fS=fS1∧fS2(i1→i,i2→i),所以ΓP→P1(M1)∈Ms1,ΓP→P2(M1)∈Ms2,LSN1和LSN2都是健壮的,因此,M∈R(M1),都有存在M∈R(M),且ΓP→P1(M)∈ME1,ΓP→P2(M)∈ME2,假设M[t2〉Me,由于fE=fE1∧fE2(o1→o,o2→o),因此fE|Me=·T·,且p∈PC1∪PC2∪{i},有Me(p)=0,因此,LSN是健壮的,即服务簇网SCN是完备的.必要性反证.如果任意一子网不是完备的,不妨设SCN1不完备,则M0∈Ms,使得M0[t1〉M1,LSN1对标识ΓP→P2(M1)不是健壮的,因此,M∈R(M1),使得M∈R(M),都有ΓP→P1(M)ME1,由于fE=fE1∧fE2(o1→o,o2→o),因此LSN的终止标识不可达,即SCN不是完备的.证毕.本小节只给出了不含交互的并发运算的组合模型及其完备性分析,实际系统中存在含交互的并发运算的组合,可以先对两个服务簇网进行拆分,然后通过多次顺序运算和并发运算进行组合.5.3.6迭代运算迭代运算用于描述重复执行一个服务操作的情形.例如,旅客调用宾馆预订服务时,如果旅客对所订宾馆并不满意,需要再次调用宾馆预订服务重新预订,直到找到旅客满意的宾馆为止,迭代运算模型如图11所示.描述;Pout1;义描述;定义21.迭代运算.SCN=μSCN1=(NID,BI,NF,NS,LSN)表示对服务簇网SCN1进行迭代运算,其中:(1)NID表示组合得到的新服务簇网的标识;(2)BI表示组合得到的新服务簇网的基本信息(3)NF表示组合得到的新服务簇网的功能语(4)NS=NS1;(5)LSN=(P,T,F,I,O,fS,fE),其中:①P=P1,其中,i=i1,o=o1,PIn=PIn1,Pout=②T=T1∪{t};③F=F1∪{〈o,t〉,〈t,i〉};④I是一个逻辑限制输入函数,使对t∈T:I(t)=fI是一个逻辑输入表达式;⑤O是一个逻辑限制输出函数,使对t∈T:O(t)=fO是一个逻辑输出表达式;⑥fS=fS1;⑦fE=fE1.迭代运算在服务簇网中添加连接终控制库所o和源控制库所i的控制变迁t,使得服务簇网由终止状态返回到初始状态,实现重复操作.由于服务簇网通过迭代运算组合之后,其逻辑服务网的内部结构并没有改变,重复执行的逻辑服务网能否到达终止标识依赖于网再次执行前的初始标识,因此,将迭代运算的完备性定义为一次执行的完备性,可以将迭代运算视为同一服务簇网的顺序组合,以下结论显然成立.定理7.设服务簇网SCN1,SCN=μSCN1,Page13则SCN是完备的,当且仅当SCN1是完备的.本节只讨论了服务簇网组合的顺序运算模型、选择运算模型、任意顺序运算模型、并发运算模型和迭代运算模型,并对其组合之后的完备性进行了分析.更多复杂的组合结构,都可以通过以上5种组合模型得到.对于多个服务簇网组合,可以通过不断地两两组合得到.显然,以上5种代数运算对于服务簇网是封闭的.5.4代数性质逻辑Petri网模型可以对服务簇网进行形式化建模、分析和验证.而服务代数在服务簇网组合的结构层面上,对服务簇网的组合进行描述.它可以清楚地刻画服务簇网组合的结构,对于代数性质的分析可以简化服务簇网系统规模,有效降低系统的复杂度,它对复杂结构的分析、修改和简化起着重要的作用.表1中给出了组合运算的代数性质.交换律SCN1SCN2=SCN2SCN1SCN1◇SCN2=SCN2◇SCN1SCN1‖SCN2=SCN2‖SCN1结合律(SCN1·SCN2)·SCN3=SCN1·(SCN2·SCN3)(SCN1SCN2)SCN3=SCN1(SCN2SCN3)(5)(SCN1‖SCN2)‖SCN3=SCN1‖(SCN2‖SCN3)分配率SCN1·(SCN2SCN3)=(SCN1·SCN2)(SCN1·SCN3)(7)(SCN1SCN2)·SCN3=(SCN1·SCN3)(SCN2·SCN3)(8)SCN1‖(SCN2SCN3)=(SCN1‖SCN2)(SCN1‖SCN3)(9)(SCN1SCN2)‖SCN3=(SCN1‖SCN3)(SCN2‖SCN3)(10)SCN1◇(SCN2SCN3)=(SCN1◇SCN2)(SCN1◇SCN3)(11)(SCN1SCN2)◇SCN3=(SCN1◇SCN3)(SCN2◇SCN3)(12)SCN1·(SCN2‖SCN3)=(SCN1·SCN2)‖(SCN1·SCN3)(13)(SCN1‖SCN2)·SCN3=(SCN1·SCN3)‖(SCN2·SCN3)(14)其他SCNSCN=SCNSCN1◇SCN2=(SCN1·SCN2)(SCN2·SCN1)(16)SCN◇SCN=SCN·SCN图12执行时间对比实验结果6实验分析文献[16]提出了一种基于前向链的服务组合方法.该方法首先将用户可提供的输入参数集合作为可达参数集,搜索基于该可达参数集可用的服务,然后将这些可用服务产生的输出参数加入到可达参数集中,继续搜索可用服务,直到可达参数集包含用户需要的所有输出参数时算法终止,表示已经得到用户需要的组合服务.本节根据该前向链方法设计基于服务簇的前向链算法.服务组合时,首先应用前向链算法对服务簇进行组合,然后从各服务簇中选择最优服务进行绑定.本节将以前向链算法为例,对基于单个服务和基于服务簇的服务组合方法进行比较,以证明基于服务簇的服务组合方法的可行性和有效性.实验首先构造本体概念树,以产生实验所需要的服务和参数.通过本体概念树构造20个服务簇,每个服务簇中包含100~500个服务,先将每个服务包含的输入参数和输出参数数量设为3~8个,然后将其扩展到5~15个.分别用基于单个服务和基于服务簇的服务组合方法对两组测试集进行实验,对两种方法的算法执行时间进行比较,实验结果如图12所示.图12(a)为服务参数数量为3~8个时两种服务组合方法的执行时间.通过实验结果可以看出,基于服务簇的组合方法的执行效率是基于单个服务的组合方法的15倍.两种方法都随着服务数量的增多呈近似线性增长的趋势.当服务数量增加时,基于单个服务的组合方法的执行时间增长较快.图12(b)为服务参数数量为5~15个时两种算法的执行时间.随着服务数量的增长,基于单个服务的算法需要耗费大量时间,且执行时间增长较快.Page147总结本文分析了现有的静态服务组合和动态服务组合的缺陷,提出了在业务模型层面上对服务簇进行组合的思想.用逻辑Petri网对服务簇和服务簇网进行了图形化描述,提出了服务簇网的顺序、选择、任意顺序、并发和迭代5种基本组合方法,并分别对服务簇网的完备性继承做了分析.由于顺序运算模型涉及关联库所的不确定性交互,因此重点分析了顺序运算的完备性继承条件.给出了服务簇网组合的代数运算性质.最后,通过实验证明了服务簇网组合运算的可行性和有效性.本文对于服务簇网组合的研究还处于初始阶段,还需要不断完善,下一步将要研究服务请求的处理、业务模型层上服务簇网的发现、服务簇网动态组合算法以及服务簇网到具体服务的绑定等问题,并建立一套完整的服务簇网建模、组合、优化、分析验证工具.
