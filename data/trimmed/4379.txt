Page1高质量分层结构电信网络设计中的可靠性问题研究杨文国1)朱建明2)黄钧2)1)(中国科学院大学数学科学学院北京100049)2)(中国科学院大学工程管理与信息技术学院北京100049)摘要可靠性问题是电信网络优化设计的核心问题之一,在光缆网拓扑结构已知前提下,给出了满足可靠性要求的电信级服务质量有关业务的性能指标,建立了时延、时延抖动和IP路由跳数等性能指标约束条件,以最小化IP和传输两层网络建设费用为目标的非线性混合整数规划模型,然后重点研究可靠性问题,结合问题的分层结构,将其转化为结构可靠和带宽可靠两个子问题,分别给出了IP层节点失效和传输层路段失效两种情况的解决方案,测试结果说明了可靠性对网络流量的影响.最后对全文进行了总结,并对下一步的研究工作进行了展望.关键词网络优化;可靠性;IP层网络;传输层网络1引言传统电信网络收入主要来自于语音业务,但随着网络的快速发展,数据业务呈现出爆炸式增长趋Page2电信级IP网络包括IP层网络、传输层网络和实际信号传输的光缆网.IP层网络是确定网络路由的逻辑网络,并将获得的路由信息传递给下一层传输层网络.传输层网络接受由IP网络下达的路由指令,选择连接IP节点间的物理通路.传输层网络也是逻辑网络,传输层网络直接依附于底层的实际承载信号传输的光缆网.光缆网只是一个物理裸网,在光缆网上传输数据或语音信号,需要提供WDM波分系统,而且在光缆网上传输数据随着光的衰减需要在一定距离内提供用于对光信号进行放大的光放设备.电信级服务质量指的是电信网络在传输数据流时要求满足电信业务的服务质量,具体可以量化为带宽、时延、时延抖动、丢失率、吞吐量、传输服务的可靠性等方面[3].服务质量反映了网络元素在保证信息传输和满足服务要求方面的能力.例如:语音传输要求端到端延迟小于150ms,端到端抖动小于1ms,分组丢失率小于1%[4].传输时延和时延抖动跟设备性能和传输距离都相关,但最主要是跟传输距离有关.数据等多种业务的承载网,只有提供电信级的服务质量,数据传输网络才能保证语音、视频业务的顺利开展.正如文献[1-2]所指出的,电信级IP网络是指:(1)网络必须以IP为核心技术构建,满足IP的基本特征;(2)能够支撑传统的电信业务,特别是话音业务和视频业务,具有强大的应用扩展能力;(3)网络具有灵活性,在总体上体现分布式管理和松散控制的特点,局部网络变化不会对全局网络带来太大的影响.网络质量和可靠性问题一直是国内外研究的一个热点问题,近年来引起了广泛的关注[5-11].其中,Samit等人[7](1999)描述了电信网络可靠性的研究现状,并给出了包括物理可靠性和逻辑可靠性的分类,指出物理可靠性是从物理层链路和节点失效的角度来研究可靠性,而逻辑可靠性是从网络层或OSI更高层来寻找可替代路由来保证数据能够有效传输的角度来研究可靠性.Manish等人[8](2008)对网络设计的可靠性方面进行数学建模和算法设计,研究的可靠性是指网络在面对基础设施受到损害时维持正常运行的能力,文中建造了一个具有最小费用的链路集合,使得网络在某一条链路或几条链路同时失效时仍具有可行流.Jitamitra等人[9](2010)研究了一个可靠网络的设计问题,涉及选择网络的弧和节点以满足容量、需求、流平衡、可靠性及预算的要求,在考虑可靠性约束时,提出了同时分配某些资源以缓解弧失效的概率.电信网络的特点是对网络的质量要求很高、网络本身是一个多层结构,这种高质量的分层结构决定了对其优化设计难度很大[10-11].相较于传统启发式的网络设计方法,优化方法因为可以从理论上找到问题的最优解,从而从根本上克服启发式方法不能证明方案优劣程度的缺陷而在网络设计中倍受青睐,最近文献[12]针对计算机网络服务质量保证,对计算机网络服务质量研究中所涉及到的优化技术进行了很好的综述,系统地描述了计算机网络模型优化算法的通用表达形式及分类;探讨了不同结构的优化模型对应的求解方案和性能评价方法;对于采用优化方法进行高质量网络设计具有重要的指导意义.本文把网络可靠性问题放在电信网络设计中统一考虑,在电信网络设计时考虑可能的节点失效和链路失效对网络可靠性的影响.首先建立了满足可靠性要求及电信级服务质量要求,追求IP和传输两层网络建设费用最小的非线性混合整数规划模型;然后重点研究可靠性问题,结合问题的分层结构,将其转化为结构可靠和带宽可靠两个子问题,分别给出IP层节点失效和传输层路段失效两种情况的解决思路和实现方案,测试结果说明了可靠性对网络流量的影响.最后对全文进行总结和展望.2考虑可靠性的高质量分层结构电信网络设计的数学模型电信网络是分层结构,包括IP层网络和传输层网络.在建成的电信网络中IP层网络是确定网络路由的逻辑网络,并将获得的路由信息传递给传输层网络.传输层网络接受由IP网络下达的路由指令,选择连接IP节点间的物理通路,到达下一节点.IP层网络和传输层网络间节点的映射关系是,每个IP节点对应有一个传输层节点,此外,传输层为保证信号传输还有自身的一些节点.在IP层网络中,每两个存在逻辑直连的节点间配有该路段(也称链路)的Metric值,表示该路段的逻辑距离的大小.IP网络中两个节点进行数据传输时,通过选择这两个节点间以Metric值为度量的最短路径作为该点对的路由.与每条IP链路相对应,存在一条映射的传输电路.电信网络的工作原理:分为IP网承载业务和传Page3输网承载业务.IP网络承载业务的过程实际上是业务网络向IP网络的加载过程,加载按最短路径方式进行映射,最短路径的选择基于各链路上的Metric值;传输网承载业务实际上是业务在传输层的一个加载过程,与IP网络采用自动的最短路径算法不同,传输网开设电路一般是人工选择路径,在网络设计时往往采用逐段距离最短的方式进行传输路径配置.高质量分层结构电信网络设计问题是:根据给定的N省之间的网络流量流向矩阵和给定的传输层网络结构,设置合适的IP层网络链路间的度量值,在满足服务质量和可靠性条件等约束下,按现有网络运行机制,实现网络流量的相互通达,目标是追求网络整体成本最小.2.1模型符号络设计问题的数学描述,引入下述符号:为了给出考虑可靠性的高质量分层结构电信网条的流量,is∈Ni,jt∈Nj;第k条的节点集合,is∈Ni,jt∈Nj;第k条的流量,is∈Ni,jt∈Nj;IP层网络变量符号:O:IP层网络中省节点集合;Ni:IP层网络中第i省节点集合;pis,jt:IP层网络中is到jt节点的Metric值,is∈Ni,jt∈Nj,记IP层网络的Metric值向量犘=(…pis,jt…);fij:IP层网络中从i省到j省的流量,i,j∈O;isjt:IP网中从i省到j省的第一出口路径第kfkisjt:IP网中从i省到j省的第一出口路径上Nk珚fkisjt:IP层网中从i省到j省的第二出口路径珡Nkisjt:IP网中从i省到j省的第二出口路径上A:IP层网络中链路的集合,a∈A表示IP层网Nhop:IP层网络路由最大跳数;Risjt:IP层网络中从i省到j省的第一出口路径集合,is∈Ni,jt∈Nj;珚Risjt:IP层网络中从i省到j省的第二出口路经集合,is∈Ni,jt∈Nj;i,j:若从i省到j省的第k条IP网络路径用δa,k到路段a,取值为1;否则取值为0,该变量由pis,jt经过最短路径计算得出;fa:IP层网络中路段a,a∈A上的流量,fa=∑is∑jt∑k第k条的节点集合,is∈Ni,jt∈Nj;络中的一条链路;层网络的一条路段;jt∈Nj,is∈Ni,jt∈Nj,设连接IP网络路段a的两IP端口节点为is,jt,is∈Ni,jt∈Nj,则用于连接此两点的路由器端口数为mis,jt=mjt,is=fa为端口模块粒度;mis:IP层网络is节点的路由器端口个数,mis=∑jtmisjt,is∈Ni;传输层网络变量符号:N^:传输层网络中节点的集合;N^i:与IP层节点相对应的传输层i省节点集合;B:传输层网络中路段的集合,b∈B表示传输i,j:与IP网络对应的传输层网络中从i节点rk,b到j节点的第k条路径经过第b条路段的流量,i,j∈N⌒,b∈B;Tij:传输层网络中从i节点到j节点的路径集合,i,j∈N⌒;tij:传输层网络中从i节点到j节点满足不交性约束的最短路径,i,j∈N⌒;ij:传输层网络中从i节点到j节点满足不交tb性约束的最短路径上的第b条路段,i,j∈N⌒,b∈B;ij:传输层网络中从i节点到j节点的第k条Ek路径上的路段集合;lb:传输层网络中路段b上相应光缆网的物理长度;i,j:传输层网络中若从i节点到j节点的第kσb,k条路径用到路段b,取值为1;否则取值为0,该变量由lb和同省份传输层出口网络路段不交性约束决定;lki,j:传输层网络中从i节点到j节点的第k条路径的物理长度,lki,j=∑brb:路段b上的流量,rb=∑i∑j∑kdb:传输层网络中路段b上的波道数,b∈B,波道粒度为h-,db=rbh-;b∈B,单波分系统能承载η波道,wb=dbwb:传输层网络中路段b上的波分系统条数,设连接传输层网络路段b的传输节点为i,j,i,j∈N^,则用于连接此两点的交换机端口数为mi,j=mj,i=rbPage4mi:传输层网络i节点的交换机端口个数,mi=mij,i∈N^;∑jlnom:传输层网络满足时延要求的最长电路对应的光缆网物理距离;ldif:传输层网络满足时延抖动要求的两条电路对应的光缆网物理距离差.2.2考虑可靠性的电信网络设计模型靠性约束的网络流模型,其一般模型可写为考虑可靠性的电信网络设计问题可描述成带可s.t.fij=∑is,jti,i,j,ji,i∈N^u,i≠i,j,j∈N^v,j≠j(5)fa(P)=∑is∑jt∑k其中,目标函数(1)是网络建设成本,包括IP层网络建设成本和传输层网络建设成本,IP层网络成本产生在各节点的路由器设备上,该设备由固定模块和端口模块组成,可表示为cIP中cIPf,cIPv,τIP为常数,cIPf表示路由器不含端口的固定设备费用,cIPv表示路由器增加的端口模块费用,τIP表示路由器最大可增加的端口模块数.而传输网络成本包括节点成本和路段成本,节点成本包括公共模块成本和端口成本,可表示为ctr其中,μ,ν,τ为常数,μ表示交换机不含端口的固定设备费用,ν表示交换机增加的端口模块费用,τ表示交换机最大可增加的端口模块数;路段成本是与流量、距离有关的电路设备成本,可表示为cb=cTRfwb+cTRvlbdb,其中,cTRf为波分系统固定设备成本有关的常数,cTRv为与距离有关的传输网络波分及光放等设备成本有关的常数.约束(2)~(8)分别是IP层网络流量守衡约束、IP层网络路由时延约束、跳数约束、时延抖动约束、IP层网络节点不交性约束、传输层网络同省份不同出口电路路段不交性约束和IP层链路的利用率约束,式(9)是Metric值的取值范围约束.这些约束的详细讨论参见文献[10].上述所建电信网络优化设计问题的模型是一个非线性混合整数规划,该类问题求解难度很大,很难设计精确的优化方法求解,必须结合问题的特征进行有效的算法设计,选用启发式算法是一个可行的解决办法.遗传算法适用于解决复杂的网络拓扑问题[13-20],因此可以设计该问题基于GA的求解算法.3可靠性问题保证电信网络的可靠性是求解模型(M)的一个难点.在3.1节可靠性问题描述的基础上,3.2节给出了可靠性问题的解决方案.3.1可靠性问题描述可靠性问题的要求是:当网络出现某一个故障点时,提供的网络结构仍然能保证流量流向矩阵中业务量的疏通.在实际运行的网络中,出现故障分为IP层的节点故障和传输层的路段故障,具体情况描述如下:(1)当IP节点出现故障的时候,IP网络为受影响的端对自动选择绕过故障IP节点的新路由,该路由可能与原路由有部分重合,也可能完全不重合.(2)当传输路段出现故障的时候,如果传输网络对IP链路有双传输路径保护,则IP链路将自动使用未出现故障的另一条传输路径,IP网络路由因此不受影响;如果传输网络对IP链路只有一条传输路径对应,则IP网络为受影响的端对自动选择绕过故障IP链路的新路由,该路由可能与原路由有部分重合,也可能完全不重合.3.2可靠性问题解决方案要解决上述可靠性问题,可以采用逐个故障点测试的方法,分别模拟网络故障后各IP链路的使用情况和流量加载情况,计算出各链路的最大流量,然后取链路最大流量确定网络代价.但由于需要对网络中的故障点进行逐个测试计算,因此大大提高了时间复杂度.网络可靠性分为网络结构可靠和链路带宽可靠两个子问题.网络结构可靠是指对于一个给定的IP网络结构,当任一IP节点或者任一传输路段发生故障的时候,任意两个业务省之间仍然可Page5以有路由通路.链路带宽可靠是指在给定的一个IP网络结构进行端口配置之后,可以保证当任一IP节点或者任一传输路段发生故障的时候,任意一条IP链路上都不会发生拥堵,即分配的端口足够使用.在下面的可靠性问题解决方案中,首先解决网络结构可靠问题,包括如下两步:第1步.首先得到一个稀疏IP网络,这个IP网络保证在IP节点故障的情形下,任意两个业务省之间仍然可以有路由通路.这个IP网络包括所有的主用路由以及必须保留的备用路由.必须保留的备用路由可以通过IP节点故障检测的方法确定.具体做法是:(1)初始化.IP网络中只包括所有的主用路由.(2)对IP网络中的任何一个IP节点进行故障检测:将该IP节点从IP网络中删除,同时删除所有与这个节点相连的链路,然后检查任意两个省对之间是否仍然有路由通路,如果仍然存在路由通路,则这两个省对之间不需要增加备用路由;如果不存在路由通路,则需要将这两个省对之间的备用路由增加到IP网络中.第2步.对于上面第1步得到的IP网络,按照电信网络的工作原理进行传输层的路段故障检测,目的是保证任意一条传输路段发生故障之后,任意两个业务省之间仍然可以有路由通路.具体做法是:(1)对于任何一条传输路段,按照IP层与传输层的映射关系,标记出IP网络中所有使用这条传输路段的IP链路.(2)删除所有这些IP链路,把相应的度量值设为无穷;检测当前的IP网络是否仍然可以保证任意两个业务省之间仍然可以有路由通路.如果有,则转入考虑下一条传输路段;如果存在两个业务省,它们之间没有路由通路,则说明这条传输路段对应的IP链路中部分或者全部需要IP链路的双传输保护,因此需要对相应的所有IP链路进行双传输保护,具体的,可以通过对这些IP链路进行逐一检测,来选择需要进行双传输保护的IP链路.然后解决链路带宽可靠子问题,解决方案如下:计算每条链路需要的带宽,包含两个部分:主用带宽和备用带宽.主用带宽表示在IP网络不发生故障的时候,每条链路上需要的带宽.备用带宽表示当任一IP节点或者任一传输路段发生故障的时候,每条链路上需要额外增加的带宽.具体做法是:(1)对于解决网络结构可靠性子问题后得到的IP网络,按照IP层与传输层的映射关系进行业务量加载,计算出传输层网络每条链路上的主用带宽.(2)通过故障检测,包括IP节点故障检测和传输路段故障检测,计算出每条链路上需要增加的最大带宽.①IP节点故障检测:对任意一个IP节点{}对每一条链路,记需要增加的最大流量backupf1.②传输路段故障检测:对任意一条传输路段{{}}对每一条链路,记需要增加的最大流量backupf2.③对每一条链路,取backupf1和backupf2中较大者为这条链路的备用流量,即可靠性问题带来的时间复杂度会大大增加,需要进一步研究提高算法效率的方法.减小时间复杂度的方法:一是模型参数的合理选取与设置,二是通过合适的剪枝规则缩小搜索空间.例如:考虑到网络实际情况,由于在双传输路由保护的情况下,单一传输路段故障不会对IP网络造成影响,因此对于双传输路由保护的IP链路,不用对传输路段进行逐一测试.4算例分析为了验证本文所建考虑可靠性的高质量分层结构电信网络设计数学模型及可靠性问题解决方案的有效性,本节以我国省级电信网络为原型,利用某电信企业提供的实际数据进行了算例分析.4.1实验的设置情况本小节根据某电信企业的2008年的实际数据,Page6分别对IP节点、传输路段是否进行故障测试,分析IP节点、传输路段故障测试对流量变化的影响.共进行了4组对比实验,具体实验设计如下:(1)实验1.IP节点、传输路段均进行故障测试,目标函数综合考虑传输层和IP层网络总体成本和距离超界、跳数超界、负载分担情况下的距离差超界等服务质量.(2)实验2.不进行IP节点的故障测试、只进行传输路段的故障测试,目标函数综合考虑传输层和IP层网络总体成本和距离超界、跳数超界、负载分担情况下的距离差超界等服务质量.(3)实验3.只进行IP节点的故障测试、不进行传输路段的故障测试,目标函数综合考虑传输层和IP层网络总体成本和距离超界、跳数超界、负载分担情况下的距离差超界等服务质量.(4)实验4.IP节点、传输路段均不进行故障测试,目标函数综合考虑传输层和IP层网络总体成本和距离超界、跳数超界、负载分担情况下的距离差超界等服务质量.4.2结果比较表1和表2分别给出了程序运行5000次迭代后4组实验的成本和主用业务量、备份业务量以及端口的对比情况.实验代号总成本IP网成本传输网成本实验1324075168450155625实验2319395164990154405实验3300723159020141703实验4291643151990139653表24组实验的业务量及端口使用对比情况实验代号业务量备份业务量端口配置实验18634059103746022310实验2863405982015502263实验3863405987697222154实验48634059422796320544.3主要结论由表1和表2可以看出:(1)4次实验中加载的主用业务量总和相同,加载的备用业务量因故障测试的范围不同而不同;4次实验配置的端口总数因加载的总业务量(含备用流量)不同而不同.(2)实验2、实验3的对比表明:只进行传输路段的故障测试比只进行IP节点的故障测试加载的备用流量总和小6.8%,但是需要多配约5.1%的端口.(3)实验1、实验4的对比表明:进行IP节点和传输路段的故障测试加载的备用流量总和是不进行二者的故障测试加载的备用流量总和的2.47倍;但端口配置数目仅增加12.5%,总成本仅增加11.1%.综上可见,利用本文所建考虑可靠性的高质量分层结构电信网络设计数学模型及可靠性问题解决方案,可以得到任意给定故障测试范围的可靠的电信网络结构;对于IP层节点和传输层路段不同的故障测试得到的流量变化,对于改善我国电信网络质量、降低网络成本具有重要的指导意义.5总结与展望本文研究了基于已建成的光缆网,为满足省际间业务数据通达的需要而建设IP层和传输层网络,并将其描述成一个考虑可靠性的高质量分层结构的电信网络优化设计问题,综合考虑IP层的流量守衡、路由跳数、传输时延、抖动、节点不交性等约束条件,以IP层和传输层综合成本最小化为目标,建立了考虑可靠性的网络流模型.重点研究了可靠性问题,将其转化为结构可靠和带宽可靠两个子问题,给出了IP层节点失效和传输层路段失效两种情况的解决方案.最后利用我国电信部门2008年的实际数据进行了4组算例分析,得出了相应的结论.尽管本文在优化网络结构、提高网络质量、降低网络整体成本等方面得到了一些初步的结果,但所建模型还是基本的,包括高效算法设计在内的许多有意义的工作有待于进一步探索和完善.致谢本文得到中国电信部门的支持,在此表示感谢!同时感谢对本文提出完善意见的评审专家!
