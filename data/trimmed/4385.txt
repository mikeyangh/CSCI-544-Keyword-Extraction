Page1链式桥规则导致的D3L知识传播及推理赵晓非1),2),3)田东平3)史颖欢2)史忠植3)1)(天津工业大学计算机科学与软件学院天津300387)2)(南京大学计算机软件新技术国家重点实验室南京210023)3)(中国科学院计算技术研究所智能信息处理重点实验室北京100190)摘要作为分布式、模块化本体的逻辑基础,分布式动态描述逻辑(D3L)使得通过有向语义映射连接的多个动态描述逻辑本体之上的推理成为可能.文中针对复合桥规则的知识传播进行了研究.作者发现当桥规则构成合取链的情况下,D3L的原始语义不能保证本体元素的局部语义关系正确传播到目标本体.通过引入合取映射桥规则,作者对D3L进行了扩展.由于对合取映射对应的目标元素属性进行了约束,新的桥规则可以支持局部语义关系在分布式本体间的正确传播,并且不改变D3L的原始属性.最后提出了合取映射桥规则到传统桥规则的转换语义,并证明了基于该语义的Tableaux推理算法的正确性.扩展后的D3L更好地实现了在本体间导入和重用知识的思想,因此可以为语义Web提供较完备的逻辑基础.关键词分布式动态描述逻辑(D3L);知识传播;合取映射;链式桥规则1引言作为分布式、模块化本体[1-2]的逻辑基础,分布式动态描述逻辑(D3L)[3-6]引入了异构语义映射的描述机制、本体间信息的传递机制以及分布式环境上的推理机制.由于作为分布式、动态系统的语义Web、异构数据集成系统等的一个显著特点是其属于松散耦合的系统,其中每个局部信息系统希望保持一定程度的自治及自己的用户界面而从其他局部信息系统导入知识.D3L很好地实现了在多个自治本体之间导入和重用知识的思想,因而为上述系统提供了较完备的逻辑基础.分布式知识库环境同时并存大量各种各样不同的本体,因此作为其逻辑基础必须能够描述异构本体组件间的对应关系.这种映射关系呈现许多不同的形式,并涉及到不同的本体组件,不仅要能够表达不同本体同构组件间的语义关系(如概念间的相互映射、动作间的相互映射和关系间的相互映射),而且需要在异构的组件间建立语义关系(比如将一个概念映射到动作或将一个动作映射到概念).在D3L中,分布式本体之间的语义映射是通过桥规则[5]来描述的.桥规则可以断言某个本体中的概念/关系/动作作为子概念/关系/动作或超概念/关系/动作映射到其他本体中的相应元素.桥规则使得知识可以在相邻或不相邻本体间按方向传播,因此可以发掘分布式环境的隐含信息,这构成了D3L优于传统DDL的重要特性.在先前的工作中,我们对D3L中的知识传播理论进行了初步研究,然而这些研究只针对简单桥规则的情况,包含复合元素(如复合动作、复合概念等)的桥规则的复杂情况还没有涉及过,考虑到现实世界中语义映射的多样性,该问题的研究具有重要的理论价值和实用价值.针对这种现状,本文针对复合桥规则的知识传播进行了研究.我们发现当桥规则构成合取链的情况下,D3L的原始语义不能保证本体元素的局部语义关系(如不可满足性)正确传播到目标本体.部分应该传播到目标本体的知识不能按预期传播.我们引入合取映射桥规则对D3L进行了扩展.新的桥规则可以支持语义关系在分布式本体间的正确传播,并且不改变D3L的原始属性.最后提出了合取映射桥规则到传统桥规则的转换语义,并证明了基于该语义的Tableaux推理算法的正确性.扩展后的D3L更好地实现了在本体间导入和重用知识的思想,因此可以为语义Web提供较完备的逻辑基础.2问题的例证下面将介绍两个例子,通过这些例子可以看出在复合桥规则链存在的情况下,D3L知识传播是存在问题的.例1.本体T中有4个概念Carnivore、Non-Carnivore、Bear和Panda以及4个断言,分别陈述NonCarnivore与Carnivore等价、Bear是一种Carnivore、Panda是一种Bear、Panda属于NonCarnivore.如图1上半部所示.此时根据D3L的原始语义可推出概念Panda是不可满足的.现在假如将本体T中的元素分开,形成分布式环境.T被分为T1和T2,Panda位于T2中,Panda与Bear之间的包含关系由一个将Bear映射到Panda的onto-概念桥规则替代.Panda与Non-Carnivore之间的包含关系由一个将NonCarnivore映射到Panda的onto-概念桥规则替代,如图1下半部所示.此时我们再分析概念Panda的可满足性.由onto-概念桥规则规定的Bear与Panda之间的语义联系并没有改变先前二者间包含关系的语义本质,Panda与NonCarnivore之间新语义关系亦如此,因此分布式环境T2中的Panda应该是不可满足的概念,然而在D3L的原始语义之下却无法推出该结论.可见此时概念的不可满足性并没有正确传播到目标本体.例2.假定分布式TboxDTB包括两个本体T1和T2,如图2所示.T1中有如下断言:T2中有如下断言:考虑到本体T2只描述Puer地区出产的特定茶叶,不如T1涵盖的知识面广,因此我们添加3个桥规则Page3以在T2中重用T1中的知识:本质上在T2中应该能推断出PuerTea是一种SweetTea,然而上述预期的结论并不存在.从上面的例子可以看到,部分知识并没有在D3L的传统语义下正确传播.初步分析其原因应该是某种语义属性并没有被桥规则恰当建模.本文第4节将对产生这一情况的原因进行理论分析,并对D3L进行扩展以解决这一问题.3分布式动态描述逻辑限于篇幅,在此仅对与本文联系密切的D3L相关部分进行简要介绍.D3L知识库[7]的最基本形式———分布式Tbox由局部Tbox的集合和提供局部Tbox之间映射的桥规则的集合构成,每个局部Tbox建立在独立的DDL语言之上.有以下定义.定义1.给定DDL语言DDLX,非空的标号集合I,概念名的集合NC=∪i∈INCi,关系名的集合NR=∪i∈INRi以及动作名的集合NA=∪i∈INAi,DDLX之上的一个分布式Tbox是一个二元式〈{Ti}i∈I,BR〉,其中每个局部TboxTi建立在DDLX的某种子语言之上,并且由NCi、NRi、NAi之上的包含公理构成,BR=∪i,j∈I,i≠jBRij,每个BRij是从Ti到Tj、属于下列4种情况之一的桥规则的集合:i:C→j:E(into-概念(或关系)桥规则);i:C→j:E(onto-概念(或关系)桥规则);i:α→j:β(into-动作桥规则);i:α→j:β(onto-动作桥规则).桥规则本质上描述的是异构本体中语义相关的元素之间的二元映射.其构造方法可利用本体映射的方法(已有大量相关研究和软件工具)来实现.桥规则具有方向性,即从i到j的桥规则brij并不一定是从j到i的桥规则brji的逆.一个分布式TboxDTB的桥图GDTB=〈V,E〉,其中V=I,如果BRij≠,则〈i,j〉∈E.如果GDTB是无环的,则称DTB是无环的.一个TboxT的洞(hole)是域为空的解释Iε=〈,·ε〉,主要用于限制冲突知识的传播.分布式TboxDTB的一个分布式解释DI=〈{Ii}i∈I,{rij}i,j∈I,i≠j〉,其中{Ii}i∈I是局部解释的集合,{rij}i,j∈I,i≠j是领域关系的集合.对于每个i∈I,或者Ii=(ΔIi,·Ii),或者Ii=Iε.每个领域关系rij是ΔIi×ΔIj的子集.另外有rij(d)={d|〈d,d〉∈rij},rij(D)=∪d∈Drij(d).定义2.一个分布式解释DI满足分布式TboxDTB中的元素或公理(记为DId·),当且仅当DI满足下列各式(i,j∈I):(1)DIdi:C→j:E,如果rij(CIi)EIj成立;成立;(2)DIdi:C→j:E,如果rij(CIi)EIj(3)DIdi:α→j:β,如果rij(αIi)βIj成立;(4)DIdi:α→j:β,如果rij(αIi)βIj成立;(5)DIdi:CE,如果IiCE成立;(6)DIdi:αβ,如果Iiαβ成立;(7)DIdTi,如果IiTi成立;(8)DIdBR,如果对任意br∈BR,DIdbr;(9)DIdDTB,如果对任意i∈I,DIdTi并且DIdBR;(10)DTBdi:CE,如果对任意分布式解释DI,DIdDTB成立蕴含DIdi:CE成立;(11)DTBdi:αβ,如果对任意分布式解释DI,DIdDTB成立蕴含DIdi:αβ成立.如果DIdDTB,则称DI是DTB的一个分布式模型.包含传播形式化地描述了D3L的知识重用机制,因而是D3L最重要的特性之一.定理1给出了包含传播的基本形式.通过一对into-桥规则和onto-桥规则,源本体中的局部包含关系可以传播到桥规则链接到的目标本体.定理1.包含传播定理.给定分布式TboxDTB,若存在i:C→j:G∈BR及i:D→j:H∈BR,则有Page4下式成立:DTBdi:CDDTBdj:GH;若存在i:α→j:β∈BR及i:π→j:ρ∈BR,则有下式成立:DTBdi:απDTBdj:βρ.定理1定义了D3L的属性之一———包含传播属性,然而它只针对两个局部DDL本体通过桥规则直接相连的情况.迄今为止,由定理1派生出来的更复杂情况下的包含传播规律所考虑的对象均没有超出该范围.除包含传播属性外,D3L还有3个其他属性:单调性属性(D3L是一种单调逻辑);有向性属性(桥规则的影响是有方向的);冲突局部性属性(局部本体的冲突不会传播到整个分布式系统).有关它们的详细信息请参考文献[6].4支持合取映射桥规则的D3L及其知识传播下面我们对第2节的两个例子进行语义分析,研究为什么不可满足性不能沿着桥规则正确传播到目标本体.在例1中原始概念Panda是不可满足的,转为分布式本体以后Panda变为可满足的,原因在于DTB的分布式模型中PandaI2可以是非空的.在该情况下,每个实例x∈PandaI2被映射为ΔIi中的两个不同元素,分别记为y1和y2,其中一个是NonCarnivore的实例,而另一个是Bear的实例.尽管TboxT1规定BearI1和NonCarnivoreI1是不相交的,然而PandaI2是非空的情况是可能出现的.由于TboxT2中导入的两个概念Bear和NonCarnivore在原始本体TboxT1中互不相交,因此我们希望T2中的Panda是不可满足的,但例1的结论与我们的预期相悖.对例1进行进一步分析,假定DTB中有两个局部本体Ti和Tj以及两个从Ti到Tj的桥规则i:C→j:G∈BR和i:D→j:H∈BR.问题的根源就在于包含公式(GH)Ijrij((CD)Ii)并不是在DTB的每个分布式模型中都成立.因为若给定单个TboxT的局部概念C、D、G、H以及包含关系GC和HD而不是桥规则,包含公式(GH)I(CD)I在DTB的每个模型中都成立(需要注意的是该问题仅出现在onto-桥规则的情况下,into-桥规则不存在此问题,具体证明请参见后文).例2的情况与此类似,由于(Puer2Selection2)I2r12((Puer1Selection1)I1)并不一定在每个分布式模型DI中都成立,因此导致知识没有按预期方式正确传播.基于上述分析可以得出结论,例子中问题的原因在于onto-桥规则并没有对合取元素(合取概念、合取动作、合取关系)的语义进行恰当建模.下面我们将通过引入一种新型onto-桥规则对D3L进行扩展以解决这一问题.我们将新型桥规则命名为合取映射桥规则,为了以示区别,原始桥规则被命名为普通桥规则.的桥规则:定义3.合取映射桥规则为具有如下的形式其语义如下:DIdi:C(c→)j:G,如果对任意i:D(c→)j:为了适应多种不同的建模场景以及本体建立者的意图,我们选择不删除普通onto-桥规则,即仅将合取映射桥规则添加进D3L的原始定义.以下将对这种扩展进行深层次的理论分析和证明.定理2.给定分布式TboxDTB,桥规则的集合BR以及局部TboxTi和Tj,i≠j,若存在i:C(c→)j:G∈BR,则在DTB的每个分布式模型DI中都有GIjrij(C)Ii成立.证明.根据假设以及定义3可知对于每个i:D(c→)j:H∈BR都有(GH)Ijrij((CD)Ii)成立,因此对于每个i:C(c→)j:G∈BR都有(GG)Ijrij((CC)Ii)成立,即对于每个i:C(c→)j:G∈BR都有GIjrij(CIi)成立.证毕.通过定理2可知,原始桥规则能够传播的语义关系在规则替换为合取映射桥规则后仍可以传播,由于如不可满足性等某些在前者中不能正确传播的局部语义关系在后者中可以得到正确传播,因此后者的知识传播能力优于前者.下面给出基于合取映射桥规则的知识传播的一般形式.定理3.给定分布式TboxDTB,桥规则的集合BR以及局部TboxTi和Tj,i≠j,n>0,如果i:C1则对满足DIdDTB的每个分布式解释DI,都有rij((C1…Cn)Ii)(G1…Gn)Ij成立.(c→)j:G1,…,i:Cn证明.要证明rij((C1…Cn)Ii)(G1…Gn)Ij,即证明rij(CIi1∩…∩CIin)GIj反证法,假设GIj1∩…∩GIjnrij(CIi1∩…∩CIin),则Page5必存在x∈GIj1∩…∩GIjn而不存在y∈CIi1∩…∩CIin,x∈rij(y).根据合取运算的定义可知不存在满足x∈rij(y)的y∈CIik∩CIil,1k,ln,即xrij(CIik∩CIil).根据假设x∈GIjk∩GIjl,因此可得x∈GIjk∩GIjl和xrij(CIik∩CIil),进一步可得GIjk∩GIjlrij(CIik∩CIil),这与假设相悖.因此如果i:C1G1,…,i:CnDIdDTB的每个分布式解释DI,都有rij((C1…Cn)Ii)(G1…Gn)Ij成立.定理3给出了基于合取映射桥规则的知识传播的一般形式.从中可知若通过合取onto-桥规则连接分属两个本体的多对元素,即i:C1(c→)j:Gn,则概念对所导致的隐含关系也将传i:Cn播到这些概念的合取式C1…Cn和G1…Gn之间,这在普通桥规则的情况下是不存在的.定理4.给定分布式TboxDTB,桥规则的集合BR以及局部TboxTi和Tj,i≠j,n>0,如果i:C1→j:G1,…,i:Cn→j:Gn均包含于BR中,则对满足DIdDTB的每个分布式解释DI,都有rij((C1…Cn)Ii)(G1…Gn)Ij成立.证明.根据rij以及的合取运算的定义可知1∩…∩CIin)rij(CIirij(CIi设可知对于任意1kn有rij(CIik)GIjk,因此可得rij(CIi得rij(CIirij((C1…Cn)Ii)(G1…Gn)Ij成立.证毕.定理4说明建模缺陷仅发生于onto-桥规则的情况,into-桥规则并不存在此问题.下面研究扩展后的语义是否改变D3L的4大基本属性:单调性、有向性、冲突局部性以及包含传播性.结论分别由定理5到定理8给出.定理5.对任意支持合取映射桥规则的分布式TboxDTB,有下式成立:证明.给定满足TidCD的Ti∈DTB以及C,D∈Ti,则在DTB的任意分布式模型DI的Ii槽上只能是Ti或Iε,由于在这两种情况下都有CD成立,根据定义2可得DTBdi:CD.证毕.定理5说明了引入合取桥规则的D3L满足单调性属性.定理6说明了D3L的另一个重要属性———有向性属性在引入合取映射桥规则以后也得以保留.该属性是指知识只能按桥规则的方向传播,而不能反向传播.定理6.给定支持合取桥规则的分布式TboxDTB,如果桥图GDTB中不存在从i到j的有向路径,则有DTBdj:CDDTBdj:CD成立,其中DTB是从DTB中删除所有BRik,BRli和Ti(k,l∈I)之后得到的分布式Tbox.证明.给定分布式TboxDTB,只有局部Tbox的模型或Iε可以填充DI的局部模型槽,即只有Ti或Iε可以填充DI的i槽.由于输入的桥规则可能会产生额外的语义约束,因此输入到局部本体的桥规则可能导致该本体的某些局部模型被排除.只有不存在输入到局部本体的桥规则时,DTB的分布式模型才包括该本体的全部局部模型.现在考虑删除Ti及相关桥规则对其他TBox的影响.由于删除所有从Ti输入的桥规则与删除所有从Ti输出的桥规则在语义上是等价的,因此我们只需要考虑删除所有从Ti输出的桥规则即可.如前所述,向BRji添加桥规则可能排除一些可接受的本地模型,而如果GDTB中存在从i到j的有向路径,这又将导致某个其他局部TboxTj的模型被排除.反过来,删除最近添加的桥规则将导致再次接受所有被排除的局部模型.因此如果对于某个Tm,GDTB中不存在从j到m的有向路径,则删除Tj、BRjk和BRjl对Tm的局部模型并无任何影响,因此DTB和DTB中Ti的局部模型相同,即DTBdj:CDDTBdj:CD.定理7.给定支持合取映射桥规则的分布式TboxDTB,DTBdi:CD当且仅当对于不包含i的任何J,有DTB(dJ)ei:CD成立.证明.如果DTB不存在满足Ii≠Iε的分布式模型DI,则DTB(dJ)不存在e-模型,所以对于每个J,iJ有DTB(dJ)ei:CD以及DTBdi:CD成立.反之,如果存在分布式模型DI满足Ii≠Iε,则对于每个J,iJ来说,我们可以建立所有DTB(dJ)的e-模型的并集与DTB的d-模型之间的1对1的映射关系.设DTB的d-模型是DI,令J={i∈I|Ii=Iε}是洞所占用的槽的集合,则DTB(dJ)的e-模型在删除了J的槽之后也是DI,另一方面,给定DTB(dJ)的e-模型,如果添加Iε到J的每个槽得到的模型是DTB的d-模型,所以对于每个J,iJ仍有DTBdi:CD并且DTB(dJ)ei:CD成立.Page6D3L具有的冲突局部性属性是指发生在局部本体的局部冲突并不会传播并影响到整个分布式环境.定理7说明合取映射桥规则的引入并没有改变传统D3L的这一属性.定理8说明了引入合取映射桥规则并不改变D3L的包含传播属性.定理8.若存在i:C→j:G∈BR和/或i:C(c→)j:G∈BR以及i:Dk→j:Hk∈BR,1kn,则有下式成立:证明.根据定义2及定义3可知有GIjrij(CIi)成立.根据假设有rij(CIi)rij(DIi1∪…∪DIin)成立.根据领域关系以及并集运算的定义可得rij(DIi1∪…∪DIin)rij(DIi1)∪…∪rij(DIin).进一步利用定义2可得rij(DIi1)∪…∪rij(DIin)HIj1∪…∪HIjn,由于HIj1∪…∪HIjn=(H1…Hn)Ij,最终可得GIj(H1…Hn)Ij,因此DTBdi:C(D1…Dn)DTBdj:G(H1…Hn).证毕.5合取桥规则的转换语义及Tableaux算法的可行性为了判定扩展后的D3L中概念的可满足性,需要研究支持合取映射桥规则的D3L框架的分布式Tableaux判定算法.我们设计了两种思路:第1种是直接在扩展后的D3L框架下开发分布式Tableaux判定算法;第2种是通过将合取映射语义转化为传统语义,而后利用传统D3L的分布式Tableaux判定算法推理.由于合取映射桥规则与普通桥规则之间存在清晰明确的语义联系,因此我们更倾向于后者.下面首先给出合取映射桥规则的转换语义.定理9.给定支持合取映射桥规则的分布式TboxDTB及桥规则的集合BR,令DTB和BR是通过如下方式得到的分布式Tbox和桥规则的集合:(1)对于每一对i:C(c→)j:G∈BR和i:D(c→)j:H∈BR,向BR中添加i:CD→j:GH;(2)从BR中删除所有合取映射桥规则,则对任意局部元素C、D有下式成立:DTBdi:CDDTBdi:CD.证明.根据假设,BR中的每一个合取映射桥规则i:C(c→)j:G都被替换为集合{k:CD→l:GH|k:D(c→)l:H∈BR∧k=i∧l=j}.根据定义2和定义3可知,后者产生的语义约束与i:C(c→)j:G所产生的语义约束等价,因此DTB的分布式模型与DTB的分布式模型是一致的,即DTBdi:CDDTBdi:CD.证毕.定理9说明合取映射桥规则可以完备地转化为传统的D3L公式,因此对D3L框架的语义扩展本质上并没有增加其表达能力.基于此结论,通过将上述两个步骤添加进D3L框架的分布式Tableaux判定算法,我们可以建立支持合取映射桥规则的D3L框架的分布式Tableaux判定算法,限于篇幅,此处不再赘述.6相关研究为了给复杂的分布式异构本体系统建模,研究人员对其形式化基础进行了较深入的研究.下面综合表达能力、知识传播能力以及属性保持等因素对目前主流的框架进行对比分析.Grau等人[8-9]提出了一种称之为ε-连接的分布式本体框架.在该框架中各个本体可以通过ε-连接进行组合.本体间的外化关系也是通过连接来实现的,跨越本体的复杂概念是通过将连接应用于值限定和存在性限定来实现的(例如Ti中的概念E.C可以通过属于Tj的概念C和连接E∈εij来构造,εij是Ti和Tj之间所有连接构成的集合).与本文的领域关系类似,ε-连接也支持从源本体到目标本体的多对多的映射.但是由于该框架侧重于本体之间的组合和推理,为了对问题的复杂性进行简化,其假设局部领域之间不存在交集,因此该框架的描述能力受到了很大限制,导致该框架不能描述本体间的包含关系,当然更不能保证不相邻本体之间的包含关系的传播.因此与本文所提出的分布式本体框架相比,ε-连接框架的描述能力和知识传播能力较有限.Bao等人和Serafini等人[10-12]分别提出了基于包的描述逻辑(P-DL)和分布式描述逻辑[13]作为分布式本体的形式化基础.通过导入关系,二者均实现了局部本体元素在本体间的导入和重用.与基于ε-连接的本体框架不同,二者都允许部分交叠的局部领域并且在属性保持方面实现得较好.一方面尽管与本文中的领域关系类似,导入关系只支持1对1Page7的联系.另一方面二者均没有提供动态特性的描述和推理能力,我们认为这对于建模映射种类多样、动态变化的复杂异构分布式系统来说是不够的.此外,Lutz等人[14]提出了一种基于保守扩展的分布式本体框架.该框架中不允许不同本体中断言公式之间的复杂运算.与支持合取映射桥规则的D3L相比,在基于保守扩展的框架中,分布式推理更像是各个分布式本体各自独立地进行推理运算而对本体之间的通信考虑得较少.我们认为该框架对本体间的语义映射强加了过于严格的限制条件从而大大降低了其对分布式特性的描述和推理能力.7结论及未来工作尽管我们已对D3L的知识传播理论我们已进行了初步研究,然而只针对分布式本体中包含简单桥规则的情况,本文针对包含复合元素(如复合动作、复合概念等)的桥规则的复杂情况下的知识传播理论进行了研究.我们发现当桥规则构成合取链的情况下,D3L的原始语义不能保证源本体中的局部语义关系(如不可满足性)正确传播到目标本体.部分应该传播到目标本体的知识不能按预期传播.我们引入合取映射桥规则对D3L进行了扩展.新的桥规则可以支持语义关系在分布式本体间的正确传播,并且不改变D3L的原始属性.为了能够在扩展后的D3L框架下进行推理,我们提出了合取映射桥规则到传统桥规则的转换语义,并证明了基于该语义的Tableaux推理算法的可行性.考虑到现实世界中语义映射的多样性,本文的研究可以为语义Web的逻辑基础D3L提供很好的补充.未来的工作包括进一步分析合取映射桥规则的语义属性,研究该扩展对推理的计算复杂度有何影响以及为之开发相应的推理机等.
