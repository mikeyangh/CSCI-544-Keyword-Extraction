Page1大数据驱动的网络信息平面1)(清华大学信息技术研究院北京100084)2)(清华大学信息科学与技术国家实验室(筹)北京100084)3)(清华大学计算机科学与技术系北京100084)摘要随着互联网逐步深入人类的生活,人们对互联网的服务质量提出了更高的要求,这给互联网带来了巨大的挑战:一是移动网络、空间网络等异构网络以及各种异构终端的接入,网络规模不断扩大,导致网络服务管理复杂;二是互联网新应用的出现,给网络服务提出了更高的要求.但是,由于网络和应用缺乏相互的感知,严重影响了网络质量的提高.为了解决网络与应用相互独立的问题,需要建立网络信息平面来沟通网络和应用以提高网络服务质量.随着SDN(Software-DefinedNetworking)等网络新技术的发展和大数据思想深入影响到互联网的架构和通信模式,在网络架构中融入大数据驱动的网络信息平面以及密集计算驱动的分析方法已成为重要的研究方向.在现有的网络中,利用测量数据构建网络服务平台并通过数据驱动的方式优化网络资源的管理效率和提升用户体验,也成为当前工业界和学术界关注的热点.文中首先分析了网络信息平面构建的必然性,然后提出了一种大数据驱动的网络信息平面架构,分析了信息平面研发中面临的三大难题,最后,对解决这些难题提出了一些想法和建议.关键词大数据;网络信息平面;软件定义网络1引言互联网是人类历史上最为成功的科技成果之一,极大地改变了人类的生活方式.但是,随着人类对互联网需求的不断提高,互联网面临着巨大的挑战:一是互联网规模快速增长,导致服务质量越来越难以保证.主要表现在:(1)跨AS(AutonomousSystem)链路的时延和带宽问题.由于网络被分成了多个AS,每个AS由不同的网络服务提供商(InternetServerProvider,ISP)进行管理,受经济因素的驱动,网络服务提供商只对AS内部的网络基础设施进行升级改造,提高服务质量,吸引更多用户来获取经济收益,而对于连接AS之间的基础设施,由于没有经济收益,网络服务提供商没有动力来进行升级改造,这使得跨AS之间的链路性能成为了影响服务质量的重要因素,当终端用户跨多个AS获取数据时,就会得到较差的服务体验;(2)单点全网服务能力不足.传统网络采用单点为终端用户提供服务.但是,随着网络规模扩大,终端用户增多,当大量用户同时访问单个服务节点时会给服务节点带来巨大的压力,造成服务质量下降;(3)网络上任何故障都会导致整个网络的服务质量下降或网络中断.由于域间路由采用BGP协议,而BGP协议采用“尽力而为”的服务方式,每次只选择一条最喜好路径,当网络出现故障时,会造成路由震荡,网络规模越大,震荡收敛的时间越长,在震荡期间,服务质量也会大幅度下降;二是新技术和新应用的出现,对互联网提出了更高的要求.主要表现在:(1)移动终端的普及,要求随时随地上网.移动终端接入互联网改变了传统互联网静态接入模式,致使端到端的通信不能保持持续的连接,降低了网络的服务质量;(2)新的通信和交流方式,要求一对多或多对多通信.随着视频在线点播、社交网络、P2P等新应用的出现,端到端的通信模式被打破,取而代之的是一对多或多对多的通信方式,但是互联网所使用的协议以端到端的通信为主,使得相同的数据以多个副本在网络上传输,严重浪费网络资源,造成网络服务质量的下降;(3)新应用服务方式的转变,要求互联网以网络为中心向以内容或服务为中心转变.新应用大多要求网络在数据传输上具有更强的实时性,而互联网设计之初只考虑了网络传输的可靠性,忽略了数据传输的实时性,这严重影响了网络的服务质量.比如,TCP协议采用重传机制来保证端到端数据传输的可靠性,却忽略了数据传输的实时性.引起网络服务质量差的主要原因在于应用和网络之间缺乏相互的感知.在传统的互联网中网络世界与应用世界相互独立,互为黑盒,导致了应用程序与物理网络缺乏相互感知,严重影响了用户的服务体验.在应用世界中,应用程序无法获取网络性能,无法对网络的资源进行控制,只能通过近似或猜测或搭建私有网络的方法来提高自己的服务质量;在网络世界中,网络无法探知应用的需求和所在的环境,只能通过深度包探测、指纹识别等方法来获取应用的信息来提高服务质量.为了解决网络世界与应用世界相互独立的问题,需要建立网络信息平面来沟通网络世界和应用世界.大数据时代的到来,改变了传统的数据库代表的数据工程(DataEngineering)的处理方式,需要采取新的数据思维来应对.图灵奖获得者、著名数据库专家JimGray博士观察并总结人类自古以来,在科学研究上,先后历经了实验、理论和计算3种范式.当数据量不断增长和累积到今天,传统的3种范式在科学研究,特别是在一些新的研究领域已经无法很好的发挥作用,需要有一种全新的第4种范式来指导新形势下的科学研究.基于这种考虑,JimGray提出了一种新的数据探索型研究方式,被他自己称之为科学研究的“第4种范式”(TheFourthPara-digm)[1].第4种范式的实质就是从以计算为中心,转变到以数据处理为中心.在大数据时代,数据不仅仅是采集的对象,还是一种基础资源,用数据这种资源可以协同解决其他诸多领域的问题.这种新的大Page3数据思维为网络信息平面的构建带来了新的发展机遇.一方面大数据思维改变了未来网络的设计原则,促进了智能网络的建设,使得网络信息平面的构建成为了必然;另一方面大数据思维为网络信息平面的构建带来了新的方法,促进了网络信息平面的实现.本文第2节通过分析大数据对未来网络设计原则带来的变化,阐明网络信息平面构建的必要性;第3节提出一种大数据驱动的网络信息平面的架构,并分析信息平面构建中面临的三大难题;第4节对解决这些难题提出一些想法和建议;第5节分进行总结及展望.2网络信息平面构建的必要性2.1未来网络架构变化的需求网络生态体系主要由网络用户、网络服务提供商(ISP)和内容提供商(InternetContentProvider,ICP)组成.在一个正常的市场体系中,网络用户、网络提供商和内容提供商应该相互影响促进整个生态体系的良性发展.但是,在当前的网络中,只存在网络应用层面上活跃的经济环境,而在网络的内部却依然保持着较大的独立性,缺乏竞争.内容提供商能够在网络边缘的终端设备上创造和部署各种应用,这些应用能够被网络用户根据性能、成本的好坏来选择性地使用,确保了内容提供商不断地提高自己的服务质量.但是,在网络的内部,用户和内容提供商一旦同一家网络提供商签订了服务约定,就无法再灵活地选择其他的网络提供商,除非花费高额的成本,改换其他的网络提供商,也就是说,用户和内容提供商无法灵活快速地根据自己的实时需求选择一家网络服务提供商.为了改变这种状况,Wolf等人[2]将市场选择机制引入到网络体系结构中,提出了一种具有市场选择能力的网络架构.这种网络架构遵循了3个原则:(1)鼓励网络服务提供商提供各种的服务;(2)用户通过钱包来进行投票;(3)让用户或内容提供商知图1Choice的市场机制道发生了什么;这3个原则在一个循环过程中交互,产生了一个良性的竞争(如图1所示).从图1中我们可以看到,引入市场竞争的核心是用户对网络具有选择的权利;关键在于通过网络测量构建数据的智能,建立有效的市场反馈机制(经济学中看不见的手).为了公平,这种市场反馈机制应该由网络用户、网络服务提供商和内容提供商之外的机构承担,通过数据感知方式来获取网络数据,并对这些数据进行详细的分析,获取实时可靠的服务数据,以提供给网络用户、网络提供商和内容提供商.网络用户可以根据服务数据对比网络提供商和内容提供商的服务质量,内容提供商可以根据数据了解不同网络提供商的服务质量和自身的服务水平;网络服务提供商根据数据可以知道自身的服务质量,以及用户和内容提供商的选择趋势,优化自己的服务质量和动态调整自己的服务项目.为了给网络用户、网络服务提供商和内容提供商提供详实的信息,需要采集大量的数据,这些数据中包含了大量的非结构化数据,这些非结构化数据在以前是很难处理的,但是,通过数据密集型的计算,可以快速地进行处理,近实时地得到网络信息.基于大数据思想,Yin等人[3]提出了一种4P网络体系结构,如图2所示.该体系结构由4个平面组成:数据平面、控制平面、市场平面和信息平面.数据平面功能包括转发分组,基于规则调度流,生成网络操作系统以及为控制平面提供获取网络抽象视图的接口服务;控制平面进行集中式的网络控制服务,将应用的转发、调度和安全策略传到数据平面;市场平面维护一个网络用户、网络服务提供商和内容提供商交互的市场环境,通过这个市场环境对比价格和质量,交易谈判,追求最适合的匹配去最大化每个人的需求;信息平面进行多源多维参数的数据感知,采集大量的网络数据,向控制平面提供相关信息,帮助控制平面及时获取网络快照及时对事件做出响应;或周期性地对网络数据进行统计分析,预测网络行为,向市场平面提供相关的信息,确保市场竞争促进网络服务水平的提高.Page4图24P网络体系结构2.2与数据平面分离管控的需求大数据带来了大量的非结构化数据和半结构化数据.对于结构化数据可以通过传统数据库架构来处理,非结构化数据则很难应对.网络可编程化和云计算化为大数据的处理带来了机会.非结构化数据的处理需要大量的服务器进行并行计算,由于这些并行计算的拆分-合并的性质,大数据分析可能会给底层网络带来巨大的负担.服务器间数据传输的速度严重影响了数据的处理速度.对Facebook的研究发现,连续阶段之间的数据传输占33%的总运行时间,在很多情况下,通信阶段占总运行时间的50%以上.如果解决了上述问题,就可以显著加快大数据分析.SDN技术[4]很好地解决了这个问题,通过控制平面和数据平面的分离,SDN实现了网络可编程化,以满足大数据的需求,实现了网络的高度可定制性、可扩展性和灵活性.SDN可以按需配置网络,符合适当的规模和形状要求,使计算虚拟机可以彼此通信.这直接解决了大数据(大规模并行应用程序)面临的最大的挑战:较慢的处理速度.处理速度很慢,这是因为大数据应用程序中的大多数计算虚拟机花了大量时间等待大量数据分散-聚集操作.通过SDN网络可以在分散-聚集操作期间,创建安全的路径以及按需扩展容量,从而显著地减少等待时间,减少总体处理时间.当前互联网使用的管控思想是将控制平面和数据平面紧密地耦合在网络设备上,这导致了网络设备的管控日趋复杂.这种复杂性主要表现在:控制平面需要管理多个对象:比如多个路由进程、不同的配置程序、大量的控制阀门(指标、ACLs、策略等);多种状态同时并存,比如,FIB表中动态变化的状态,设置、策略和包过滤的配置状态,计时器、资源约束的编程状态以及这些状态间的依赖关系;各种逻辑无处不在,比如,分布式路由协议的路由计算、路由器配置的路由策略以及通过管理平面设置的包过滤器;新功能的不断添加,比如,分组过滤、区分服务、多播、服务质量(QoS)、流量工程等.这使得当前网络管理和控制日趋复杂,网络状态收敛速度慢,无法确定逻辑的一致性.除此之外,路由器通过命令行接口(Command-LineInterface,CLI)的方式向外提供一部分的管控功能,使得网络控制层面新技术的更新和发展很难直接部署在现有网络上,灵活性和扩展性很难满足上层应用的需求.为了满足上层应用对网络服务的需求,提升网络的可演进性和灵活性,实现按需的网络资源调度,进行数据平面和控制平面的解耦合,利用集中式管理方法解决互联网管控状态复杂的问题成为了一个必然趋势,比如RCP[5]、4D[6]、SANE[7]、Ethane[8].其设计思想是将网络设备的数据平面和控制平面解耦合,由专有设备来部署高层策略,网络设备在高层策略指导下进行数据转发,减少了网络设备承载的诸多复杂功能和状态,提高了网络新技术和新协议实现和部署的灵活性和可操作性.SDN架构应用在互联网可以实现网络设备数据平面和控制平面的解耦合,构建统一的控制协议,比如OpenFlow[9]和网络操作系统,比如NOX[10].在控制平面的上层可以提供可编程的API,实现控制平面的编程化代替人工配置.随着网络控制平面计算能力的逐步增强,改变了网络的控制方式.由于Page5分布式算法和协议难以维护状态的动态变化,使其可扩展性较差.而一个集中式的算法展示了更好的健壮性,自由配置的协议提供了更好的可达性,支持细粒度的流控.因此,一个集中式的控制平面更易于实现复杂的控制逻辑.为了确保集中式控制平面有更好的可靠性,可以采用在多个硬件平面上建立实例,实现逻辑上集中的控制平面,比如Onix[11].为了实现网络资源的优化配置,网络控制平面需要获取全网络视图,但是由于AS的存在,ISP自己获取全网络拓扑信息较为困难,需要公共网络信息平面的支持.2.3智能化的网络通信模式的需求当前互联网使用的通信模式是一种以地址为中心的通信模式,在这种通信模式下,通信路径中的路由器只是根据分组头部的目的IP进行分组的转发,而不关心转发的内容.采用这种通信模式是因为在网络设计的初期,硬件处理能力不高,为了提高数据传输的速度,简化了网络设备对分组的处理.这种以路由为中心的通信模式,较为适用于点对点的通信,随着网络新应用的出现,比如社交网络、视频点播,点对点的通信模式已经不能满足这些新应用需求.一方面,点对点的通信模式造成了网络带宽的浪费,由于通信路径上的路由器不知道传输的内容是什么,使得多份相同的内容在网络上同时进行传输,极大地浪费了网络带宽;另一方面,点对点的通信模式在某种程度上影响了用户的体验,当数据传输需要经过多个AS才能到达用户时,会产生较大的延时,影响到用户的体验.图3ICN通信模式3网络信息平面的架构设计3.1网络信息平面设计的总体目标网络信息平面的设计目标是利用网络测量平台和测量工具集合采集多维多源参数的网络数据,对数据进行预处理后,利用数据分析平台和多计算机硬件技术的不断提高,使得网络设备的计算能力已经超过了网络I/O的速度[12],加之存储成本的不断降低,使得采用网络计算和存储能力来缓解网络资源不足成为可能.一些内容提供商采用整合网络设备计算能力和存储能力来进行服务资源的调度,提高了网络资源的利用率和用户的服务体验,产生了更多的经济效益.比如,内容分发、应用加速和负载均衡.随着路由器计算能力和存储能力的提高,相关研究人员提出了多种网络通信模式来代替现有的以路由为中心的通信模式,比如内容为中心的网络通信模式、以服务为中心的通信模式等.这些新的通信模式的相同特性在于网络通信的智能化.通过强大的计算能力和存储能力,路由器能够根据用户请求的内容、所处的位置、环境和使用的设备等信息来发现用户体验最好的内容所在地,获取和缓存内容,提高网络资源的利用率.信息为中心的网络(Informa-tionCentricNetworking,ICN)改变了用户与内容提供商的通信模式(如图3所示)[13],在ICN中,内容标识符代替了IP成为了请求和回复分组的句柄,路由器利用自身强大的计算能力来发现满足用户请求的内容,然后获取内容并将内容缓存在本地,以便请求相同内容的用户快速获取内容,并提高网络资源的利用率.这种网络通信方式能够支持多种功能,包括内容分发、多播和移动通信.类似地,DMap通过管理动态标识符来对内容进行定位映射以支持内容分发和移动通信的功能[14].从中我们可以发现,网络通信的智能化依然需要网络信息平面的支持.种分析工具、分析模型对数据进行多维数据分析、统计分析、数据挖掘和可视化分析,将数据提炼为有用的信息和知识为网络应用提供商、网络服务提供商在服务的各个阶段提供决策支持、策略优化等数据驱动的分析服务,并从网络体系结构的角度,实现其与未来网络架构的高效融合(如图4所示).Page6图4网络信息平面设计目标3.2网络信息平面的架构网络信息平面由测量平台、数据管理平台、数据分析平台和服务平台4个部分组成(如图5所示).测量平台的功能是使用测量工具集合实现对多维多源参数的测量数据采集;数据管理平台功能是对网图5网络信息平面架构络测量得到的数据提供自适应、高效能和可追溯的管理;数据分析平台的功能是对数据进行多层次分析,实现数据向信息和知识的转变;服务平台的功能是利用数据分析平台得到的信息和知识为客户提供多样化的数据分析服务.Page73.3研究中的难点问题(1)如何在成本可控的前提下,获取完整和准确的网络运行基础数据;①因特网的超大规模带来的海量数据问题.网络终端用户已经超过几十亿,可路由的子网也达到了几十万,对整个因特网的测量必然导致大规模测量,并产生海量数据.如UCSD的Telescope项目已经获取的数据压缩后仍然超过150T,并且还在以每月4.5T的速度增长.因此需要选择合理的测量方式减轻测量代价,并减轻测量对因特网的影响.②因特网的长期演变过程带来的时效性问题.因特网的发展迅速,其特征也随时间变化而变化,研究因特网某一特定时期或长期的演变规律,需要对网络进行长时间的持续测量.③因特网动态变化带来测量精度的问题.因特网是动态变化、相互影响的,某个设备的快速变化,就可能对整个网络造成影响,为了精确定位网络问题需要对网络进行多维度实时性测量.(2)如何针对网络测量数据的跨自治域、碎片化、经济密度差异大、异构性强的特点,提供自适应、高效能和可追溯的数据管理;①在数据的存储上,由于采集到的数据巨大,全部上传数据中心存储将给网络以及数据中心带来巨大的负担.实现数据就近、高效和安全的存储是必要的.②在数据本身的管理上,要支持对于跨域自治的碎片化数据的整合、历史数据的溯源、保护用户的隐私数据、控制数据的合法安全访问等功能.③在对外提供数据服务上,要支持使用不同的数据访问方式来获取或者管理数据,包括灵活的数据结构、不同的数据尺度、多样的通信协议等,此外,还要能够适应大规模、高并发的访问需求.(3)如何使得网络信息平面能够满足多样化网络内容提供商与网络服务提供商进行大数据驱动的分析需要,并有效融入大数据分析和网络复杂问题分析所必需的相关性分析工具和可视化工具.①解决NP-hard问题.不同的网络系统和业务的运行机制各异,但优化模型基本上以最优化数学模型为基础,最优化模型的运行时间随着参数的增多而变长,由于引起某个网络问题的原因复杂,使得得到优化结果的时间是不可控的.②用户体验质量(QoE)是一种以用户认可程度为标准的服务的评价方法.它综合了服务层面、用户层面、环境层面的影响因素,直接反映了用户对服务的认可程度.由于QoE的影响因素包含了服务、用户和环境3个层面,而且不同的用户对同一服务的要求也不相同.如何有效的评估用户对网络服务的体验,改善用户的体验,需要科学的评价方法和评价思路.4大数据驱动的网络信息平面主要方法研究4.1多维多源参数测量感知为了获得完整的和高精度的网络数据,需要对多种数据对象进行持续的数据采集.如图6所示,我们将网络测量感知分为3个维度:网络基础设施感知(KPI)、网络性能感知(QoS)和用户体验感知(QoE).通过对这3个维度数据的多参数持续测量感知,我们能够为网络数据分析提供全面的和高精度的数据支持,为用户提供评定服务水平的依据,帮助内容提供商和网络服务提供商发现引起服务水平差的原因,对监测对象进行监控和快速预警,并提出服务优化建议,帮助内容提供商和网络服务提供商提高服务水平.4.1.1网络基础设施测量感知网络基础设施感知主要是获取网络拓扑.由于商业机密的原因,网络拓扑信息无法从网络服务提供商直接获得.因此,很多的研究人员通过各种方法收集网络拓扑信息用于相关研究[15-18].其中路由器级拓扑结构的研究的核心是IP别名解析方法.IP别名解析方法主要是用于推断属于一个路由器接口IP的方法.迄今为止,出现了很多方法来实现IP别名解析,其中包括mercator[19]、iffinder①、allyRadarGun[21]、APAR[22-23]、KAPAR[24]等,总的来①http://www.caida.org/tools/measurement/iffinder/Page8看,IP别名解析分为两个大类:探测方法和分析推断方法.探测方法主要是通过向不同的IP发送探测分组,通过路由器响应数据包所携带的标记来判定属于同一个路由器的IP.这种技术一般精度比较高,但是,需要向网络发送大量的探测包,这会给网络带来较大的负载,并且随着ISP更加注重网络安全,路由器会屏蔽对探测包的响应,导致探测失败,从而在某种程度上降低解析的精度.分析推断方法主要是应用Traceroute[25]或它的改进版本[16-17]采集数据,根据Trace路径中相邻IP的关系推断出同属于一个路由器的IP.由于每个路由器具有多个接口IP,一条Trace路径中只能发现路由器的一个接口IP,所以需要从大量的Trace数据中把属于一个路由器的接口IP进行归类,才能最终发现路由器级的网络拓扑结构.这种方法一般精度比探测方法差,主要原因在于分析推断方法是根据网络工程的基本原理来分析推断不完全的、间接的、矛盾的甚至有错误的数据造成的.但是,却能够对大量的数据进行解析,并减少网络的负载.4.1.2网络性能测量感知网络性能感知主要是对网络任意两个IP之间的路径性能进行感知,包括:时延、丢包率、可用带宽等.由于网络规模大,直接测量任意两个IP之间路径的性能是无法实现的,需要通过使用已知的路径段性能推断出未知路径性能的方法实现.预测任意两个IP之间性能的方法主要有3种:(1)基于测量的方法.其实现思想为:对测量节点到所有终端用户以及测量节点之间进行ping测量,对于任意一对终端用户S和D之间的延时,它找到分别同S和D延时最小的测量节点VS和VD,计算delay(S,D)=delay(S,VS)+delay(VS,VD)+delay(VD,D),IDMaps[26]是这种方法的典型代表;(2)基于网络坐标的方法.其实现思想为:将终端用户放入一个低维的欧几里德空间内,采用三角不等式定理计算出每一个终端用户的坐标,然后采用距离公式来计算出任意两个IP之间的延时.其方法为,从多个测量节点对所有终端节点进行ping,并且对测量节点之间也进行ping,然后利用三角不等式定理,计算出每个终端节点的坐标,然后使用距离公式计算出任意终端节点之间的时延.其假设,任意两个节点之间没有拥塞,以光速进行传播.GNP[27]和Vivaldi[28]是这种方法的典型代表;(3)基于路径拟合的方法.其实现思想为通过多个测量点对一对IP地址IPS和IPD进行Traceroute测量,然后对测量IPS的路径和测量IPD的路径进行拟合,发现它们之间的交叉点,然后找到这些交叉点中离IPS最近的交叉点IPI,把path(IPS,IPD)=path(IPS,IPI)+path(IPI,IPD),然后通过各种工具测量各个路径段的性能,最后计算出整条路径的性能.iPlane[29]是这种方法的典型代表.通过上述分析我们发现,前两种方法只能适用于对任意两个IP间网络时延的预测,而路径拟合的方法适用于不同的路径性能的预测.因此,我们的研究将基于路径拟合的方式展开.4.1.3用户体验测量感知用户体验感知主要是对用户获得服务质量的重要评价指标进行感知,包括响应时间、服务稳定性、服务持续性等.由于网络应用服务的种类繁多,不同种类的服务会有特定的测量工具和评价指标体系(如表1所示).名称网页监测流媒体监测下载业务监测CDN业务监测事务类业务监测对于上述用户体验指标的测量,可以通过使用或开发相应的工具实现.网页监测采用基于web-pagetest的工具来测量相关的指标;对于流媒体监测,开发了相应的流媒体播放器来抓取相关的指标数据;对于CDN(ContentDeliveryNetwork)业务的监测,开发了一套相应的数据采集和分析工具[30]来获取和分析各种指标;对于事务类业务的监测,基于selenium开发了监测工具.在开发了相应的工具后,将工具下发到分布于网络中的测量节点上,通过测量平台向测量节点下发监测目标,测量节点调用相应的工具对目标进行监测,并将采集到的指标数据传回数据管理平台进行存储和分析.4.2多层次的数据管理互联网基础大数据特性给数据管理带来了严峻挑战,包括:(1)在数据的存储上,能够与互联网基础数据采集的需求相匹配,实现数据的就近、高效和安全存储;(2)在数据管理上,要支持跨域自治的碎Page9片化数据的整合、历史数据的溯源、保护用户的隐私数据、控制数据的合法安全访问等功能;(3)在对外提供服务上,要支持不同的数据访问方式来获取或管理数据,包括灵活的数据结构、不同的数据尺度、多样的通信协议等,此外,还要能够适应大规模、高并发的访问需求.为了满足上述挑战,我们提出了一种面向互联网基础数据的管理平台(如图7所示),该平台由3个层次组成,使用了两个模型来支持3个层次的功能实现.图8分层多维可变模式数据模型实例在物理层次上,根据互联网基础大数据的应用特点,即提供决策支持这一需求,按字段进行聚集,采用列式的存储方式.我们将研究根据数据访问的特点自适应的列簇组合策略,以及将列簇跨节点分布的算法,从而提高数据访问的效率.4.2.2大数据信息生命周期管理针对数据集不同的应用特点和处理模式,采用层次化的信息生命周期管理策略,解决数据差异化带来的存储成本和管理成本提高的问题.一方面,基于应用特征、数据来源、访问时间等因素,采用时效性分析模型算法,使用数据归档、存档、删除、激活等技术,建立完善的数据逐级退出和恢复机制,依据数据的时效特征、生命周期长短迁移到匹配的存储介质和管理系统中.另一方面,基于价值分析的信息保护技术,建立价值评估模型,在关联度、读操作、写操作3个维度研究数据价值分类算法,并研究与之相4.2.1分层多维可变模式数据模型分层多维可变模式数据模型用于数据的建模,是数据管理的基础和核心,其目标是实现结构化数据、半结构化数据和非结构化数据的灵活高效的表达和操作,从而指导数据管理平台的设计与入库等工作.如图8所示,我们从概念、逻辑和物理3个层次对数据进行了建模.在概念层次上,在传统数据库的概念模型基础上,我们结合实体联系模型和面向对象模型,定义数据实体和数据联系,在数据实体的属性中,支持价值、热度、成本、时间、空间等维度.在逻辑层次,我们将定义最小的数据单元———字段,把数据实体的属性以及数据联系分解成为字段,组成可变模式的数据记录,不同的可变模式的数据记录可以组合成为数据对象.我们将研究概念层的数据实体和数据映射到逻辑层的数据记录和数据对象方法,定义可变模式数据的范式,建立可变模式数据演算代数.应的保护技术以及在大数据集下去重、快速恢复等关键技术.例如,针对多应用关联的数据集采用带时间戳的版本保护机制.针对写操作频繁的数据集采用连续数据保护(CDP)细粒度的数据保护方式.针对读操作频繁的数据集,采用多副本方式,并将数据尽量调度到高性能的存储和计算节点中.4.2.3支持大规模并发的多粒度、多协议数据服务为了应对用户灵活的数据访问需求,在保证数据一致性的基础上,实现访问的透明性,我们采用支持大规模高并发的多粒度、多协议的数据服务总线.数据服务总线提供了事件驱动和文档导向的处理模式,以及分布式的运行管理机制,支持基于内容的路由和过滤,提供一系列的标准通信接口.4.2.4数据安全与隐私保护针对互联网基础数据特别是敏感数据的保护,我们采用了基于用户角色和数据访问模式的隐私数Page10据保护和基于可溯源标识的一体化数据安全和隐私保护相结合的方法.我们在已有的K匿名技术、数据混淆、数据泛化等技术的基础上,结合用户的角色制定静态的不同层次的隐私保护策略;同时指定动态的隐私保护策略,就用户对数据的访问模式进行分类和分级,针对不同的用户角色设置不同的访问模式的集合与阈值,从而在数据服务过程中避免合法用户获取到不符合要求的敏感信息.同时,我们采用基于硬件物理不可克隆指纹(PUF)和嵌入式数据编码混淆结合的一体化数据安全和隐私保护,生成可溯源的标识,通过软硬件结合的思路,高效解决数据在存储、传输、交换过程中的数据安全和隐私保护问题.我们还将同时采用可溯源的标识的追加、溯源技术,能够完整记录数据转移的路径,并可回溯以发现数据的泄露点.4.2.5多层次分布式结构跨域协同管理网络测量的原始数据来源于跨自治域的不同数据中心,针对这种前端采集—预处理—汇总分析的多层次分布式架构,采用在跨自治域的条件下数据协同管理技术,降低跨域数据迁移和重构的成本,优化协同查询分析性能.4.2.6策略化的数据预处理机制提供面向分布式架构统一数据ETL(Extract-Transform-Load)接口.针对业务不同需求,提供多维度策略选择(包括数据格式、文件组织结构、压缩策略等),支持上层应用在ETL代价、存储效率和分析性能间进行动态权衡.拟对各类数据源生成的原始数据进行抽取、转化、然后加载到大数据存储和分析平台中,包括数据质量判断、数据清洗、格式调整、类型转换和特征提取等基本操作.包括针对实时性要求高的数据快速导入技术、根据数据分析反复迭代过程需要的精细化导入技术、网络测量数据特征提取技术等.根据不同场景数据时效性、数据清洗、数据类型转换等提供多维度的ETL策略.同时研究基于扩展约束理论的大数据清洗技术,及时清除虚假的、过时的、不一致的、重复的、无效的数据,提升数据质量,提高分析处理性能,提高准确性.4.2.7增量式分布式流数据查询方法针对互联网基础数据中存在的大量的实时的流式数据,需要在某一时间窗口内对流式数据进行高效的查询,从而支持对于互联网基础数据进行实时的分析.对于同一个数据流,可能同时存在多个查询需要执行.但是,受现有的流式数据查询优化策略的限制,无法进行增量式的更新,在分布式的处理环境下,其影响更加明显.我们将针对流式数据中的多个并发查询的更新问题,一方面采用操作符分布算法,利用其操作符重用和操作符重新配置等手段,来优化各个节点上的分布式的查询树.另一方面,结合新查询来动态调整现有查询计划,实现全局优化配置.但是,这种方法必然会影响到现有计划的执行.如何减少其影响是一个值得深入研究的问题.4.3多样化的数据分析当前网络应用和未来大数据环境下的互联网,需要根据不同层面的用户(包括网络服务提供商、内容提供商、实际应用用户等)建立个性化服务,这对数据分析和可视化提出了更高的要求.为了能够充分利用获取到的数据,满足不同层面的用户的个性化需求,我们建立了一个统一的、友好的、具有弹性的、分布式数据资源生态分析平台(如图9所示).该平台建立了统一的数据分析环境,为批处理数据、流式数据、图结构数据、迭代处理数据、交互查询等不同计算模型提供统一的分析编程接口和运行环境.采用共享分析工具与数据分析平台紧耦合机制,充分结合应用的特点和数据的特点来设计分析的流程,从而优化分析效率,提高数据分析吞吐量,提升分析运行效能.采用多样化的分析手段,实现对网络服务的体验的全面评估.4.3.1数据分析预处理工具库输入数据进行预处理是确保高质量分析大数据的前提,将各种包含冲突内容和动态变化的数据转换为可支持可视化和分析的数据表示形式,完成将碎片化的数据转化有质量、规范的可分析的数据.针对预处理过程的每秒钟的导入达百兆,甚至千兆级的海量数据,采用并行数据转换规则支持并行数据预处理算法,支持信息安全的大数据预处理;制定分析工具的输入输出规范,将海量输入数据进行分析、估计、预测、相关性分组或关联规则、聚类,描述成分析工具和模型分析可高效分析执行的数据格式.4.3.2共享分析工具库分析多样的、复杂的、异构的、海量的数据,从不同层面、不同维度、不同角度深度挖掘数据的相关性,将数据集转变成为清晰且有意义的内容,提炼数据中的知识价值,并且降低分析资源成本,使分析高效,形成增值服务,这就需要分析工具之间紧耦合,能分布式协同执行分析,实现分析的高效性,打破计Page11图9支持多样化分析模式的数据分析平台算模型边界进行全局的优化分析.4.3.3分析模型库ICP/ISP网络系统旨在对用户提供尽可能高的服务质量,不同的网络系统和业务的运行机制各异,如何保障安全,可信高体验的服务,就需要通过分析模型,建立用户体验,服务优化和安全可信模型.分析模型库整合多种模型,通过模型驱动的数据分析,为ICP/ISP的服务提供全方位的决策支持.分析模型库主要包括,分析模型的形式化描述、分析边界具体限制量化和优化与搜索算法设计.我们主要实现了网络服务系统的安全,性能和服务体验分析模型,进行模型的形式化描述、具体的量化边界,完备的分析空间和多种优化搜索算法设计.(1)安全服务模型①使用模型检测的方法生成攻击图,然后利用攻击图模型进行定性的安全分析,分析可能的安全风险.②对用户的类型,访问行为和整体信息统一建模,对用户行为数据,按照时间和空间特性,进行模型过滤匹配,形成白名单和黑名单.③利用平台工具引擎,基于深度学习(DeepLearning)的自学习机制,实现用户类型的自动分析和识别,通过用户的可信性分析.④提升安全阈值,提高安全攻击的预测准确性,通过实时分析工具,阻止可能的安全攻击行为.(2)服务优化模型①利用大数据平台的知识图谱的工具,建立优化目标,优化参数,优化方案统一一体优化方案.②利用业务的用户服务体验QoE数据,能够为ISP/ICP的优化策略效果评估.③利用平台分析引擎工具,自动生成推荐的优化实施方案.④基于公共分析模块,引入可视化的效果评估,层层递进的分析手段,为ISP/ICP的资源配置和部署提供实时的决策支持.(3)用户体验模型①综合使用基于统计学模型的评价方法,基于韦伯-费希纳定律心理学模型和基于人工智能模型的评价方法,对用户QoE数据进行多维度多层次分析.②利用深度学习(Deeplearning)的自学习引擎,实现用户体验感知的自动分析和识别,深入真实评价用户体验.③基于关联分析方法和挖掘工具,分析影响业务服务用户体验的主要因素,为ICP/ISP提供业务部署优化的决策支持.5网络信息平面数据应用构建网络信息平面的最终目的是为各种网络服Page12务提供商提供决策支持和推荐服务,以帮助网络服务提供商提高网络资源的利用率和服务质量.本节将介绍一些网络信息平面的数据应用实例.5.1数据可视化数据的无序性掩盖了它们内在的价值.只有以一定的人类感官接受的方式展现出来,才能发现其中的规律.数据可视化分析能够通过生动的图片的展示方式,让我们的眼睛和大脑能够理解大量数据的背后蕴含的意义,发现事物的变化趋势.图10通过信息平面采集得到的关于中国AS的数据,运用可视化分析方法,展示中国AS级网络拓扑及特征[31].其中,节点代表了中国区域内的一个AS,节点的大小与AS的度相对应,节点的颜色代表了AS的鲁棒性.从中可以清晰地看到:中国AS级网络拓扑结构以及它的特征.5.2趋势预测通过对网络的长时间监测,我们可以采集到大量的、多样的、较为全面的网络性能数据,将这些数据进行有机的分析,可以发现影响网络性能的因素以及它们之间的相关性,通过机器学习,我们建立了网络故障知识库和网络性能趋势库,用于为网络服务提供商进行网络故障的定位和性能的提前预测.用户一旦使用我们的服务,我们的信息平台将对其基础设施进行不间断地监测,通过采集到的监测数据,结合网络故障知识库就可以对网络故障进行定位.运用我们的网络性能预测服务,用户就可以掌握网络性能的变化趋势,进行相应的资源配置.5.3推荐服务大量的网络数据也可以为用户提供推荐服务,帮助他们在提高服务质量的同时,降低相应的运营成本.文献[32]使用了资源聚合的方法为CDN和网络内容服务提供商的服务器部署提出了推荐方案,帮助他们优化了资源的配置,提高了他们的产出投入比.我们也能为网络内容提供商提供使用CDN的推荐服务.运用文献[32]提出的方法,我们可以收集到关于中国CDN的各种性能指标,然后根据这些指标进行机器学习,建立CDN推荐知识库,然后根据网络内容提供商的类型和需求,为其提供CDN使用方案.6总结与展望互联网用户和规模的快速增长、网络流量视频化、终端设备的异构和移动化以及用户需求的个性化,对网络服务质量提出了更高的要求.但是,由于网络和应用缺乏相互的感知,严重影响了网络质量的提高.为了解决网络与应用相互独立的问题,需要建立网络信息平面来沟通网络和应用以提高网络服务质量,而SDN等网络新技术的发展和大数据思想深入影响到互联网使得大数据驱动的网络信息平面的出现成为了必然.SDN技术使得互联网架构中融入市场机制成为可能,改变了网络的分层思想;使得网络数据平面和控制平面解耦合,给集中式的智能管理带来了发展机遇;使得基于内容为中心的通信模式成为可能,提高了网络资源的利用率和服务质量.而这些都离不开网络信息平面的支撑.大数据思想改变了数据分析的方法,使得大数据驱动的网络信息平面以及密集计算驱动的分析方法成为了重要的研究方向.在现有的网络中,利用测量数据构建网络服务平台并通过数据驱动的方式优化网络资源的管理效率和提升用户体验,也成为当前工业界和学术界关注的热点,比如文献[33-36].但是,建立一个数据驱动的网络数据平面也面临着诸多的难题:比如,如何用可控成本与复杂度获取完整、准确的网络基础数据;如何从海量、碎片化、异构和动态的数据中提取有用的信息和知识;如何利用分析出的信息和知识来优化选择的效率等.面对这些难题,本文提出了一些方法和建议,但是,这些方法和建议不可能完全地解决构建信息平面中的所有问题,仍然需要不断的研究和完善.
