Page1基于LT模型的个性化关键传播用户挖掘郭静1),2)张鹏2)方滨兴1)周川2)曹亚男2)郭莉2)1)(北京邮电大学计算机学院北京100876)2)(中国科学院信息工程研究所北京100093)摘要文中针对社交网络中特定用户展开个性化关键传播用户挖掘研究,目标是在线性阈值传播模型的基础上,挖掘出能够最大程度影响网络中特定用户的节点集合.尽管在社交网络影响最大化问题方面已存在相关工作,但该文工作偏重于针对网络中的特定用户展开,该问题的解决将有助于企业有效的进行个性化产品营销.为此,文中提出一种基于LT模型的个性化关键传播用户挖掘问题的解决框架.首先,在线性阈值模型的基本传播机制下,提出一个随机函数来模拟基于LT模型的个性化关键传播用户挖掘问题的目标函数,该随机函数具有较小方差的理论保证;然后,提出一个有效的求解算法从网络中挖掘针对特定用户的关键传播节点集合,理论证明该算法具有(1-1/e)的近似精度保证.实验使用真实的社交网络数据验证了算法的有效性.关键词社交网络;线性阈值模型;特定用户;关键传播用户;社会计算1引言随着互联网技术的迅速发展,越来越多的用户参与到内容丰富的社交网络应用中,使社交网络发展成一种普及、有效的日常交流平台.在社交网络中个体成员的行为和选择往往能够影响和带动其周边节点,例如,用户在接受一个新服务或新产品后往往能影响自己的朋友或者同事对该事物的观点.这种在社交网络中口口相传的口碑传播作用,对商品推广、市场营销、意见传播等应用具有重要的现实意义,吸引了大量研究者展开研究.社交网络影响最大化问题虽然源自于市场营销领域,但它却是影响力传播领域的基本问题.其主要研究内容就是在社交网络中挖掘能够最大程度影响整个网络的种子节点集合.早在2001年Domingos和Richardson[1-2]就针对信息在网络中的传播情况,提出了一个基础性的问题,即如何选择网络中最有影响力的k个营销节点,使得该产品的最终购买人数达到最多?随后Kempe等人[3]进一步将此问题定义为一个离散最优的数学问题,并利用目标函数的子模特性,设计一种具有近似精度理论保证的贪婪求解算法;即每一步都选择当前最有影响力的节点加入初始节点集合.尽管在社交网络影响最大化问题方面已存在大量相关工作,但是这些工作将社交网络看成一个整体,关注于挖掘能最大程度影响整个网络的节点集合,以及在提高影响范围的同时,尽量降低算法的时间复杂度,鲜有针对网络中特定的用户,挖掘能最大程度影响该用户的节点集合,或者说,挖掘特定用户的关键传播节点.然而,现实中,企业在进行个性化产品营销时,往往需要对网络中特定用户展开分析,所以更关注于挖掘影响特定用户的关键传播节点.例如:某大型网上商城借助社交网络对其重要的用户A开展产品营销时,希望在有限预算的前提下,从网络中选择若干节点最大程度地影响用户A,从而将产品推销出去.因此,解决社交网络中特定用户的影响最大化问题有助于更加有效的进行产品营销,具有一定实际意义.然而,一方面,现有的影响最大化方法仅仅针对整个网络而设计,所以无法满足此类应用的需求;另一方面,由于推销预算限制,所以通常无法发动特定用户的所有邻居来实现影响最大化.虽然从邻居中选择若干用户能够对目标用户有所影响,但是这种方法无法保证精度.从信息传播的角度来看,社交网络中的特定用户主要受其邻居影响,所以在有限预算的前提下,如果能够挖掘出一个或者较少几个节点,使其能够尽可能多地去影响目标用户的邻居集合,那么就可以在满足预算的要求下,达到所需的影响效果.为此,本文提出一种挖掘特定用户关键传播节点的解决框架.首先,本文在线性阈值模型的传播机制下,提出一个随机函数来模拟本文问题的目标函数;该随机函数将网络中其他节点对目标节点的影响力计算分为两段,一段计算其他节点对目标节点邻居的激活情况,另一段计算目标节点邻居节点对目标节点的影响力传播权重;理论证明,该随机函数具有较小方差.然后,本文提出了一个有效的算法来挖掘能够最大程度影响网络中特定用户的节点集合;该算法采用贪婪策略,依次从网络中选择影响目标节点的k个关键传播节点;理论证明,该算法具有(1-1/e)的近似求解精度.实验使用真实的社交网络数据分析了算法的性能.本文第2节介绍相关工作;第3节定义个性化关键传播节点挖掘问题;第4节提出有效的求解算法;第5节实验分析所提算法的性能;在第6节对全文进行总结.2相关工作社交网络影响最大化问题就是如何选取k个初始节点进行传播,从而最大程度地影响整个网络的问题.早期的研究工作是由Domingos和Richardson开展的,他们[1-2]针对信息在网络中的传播情况,提出了一个基础性的算法问题.随后Kempe等人[3]进一步将此问题定义为一个离散最优的数学问题,并根据目标函数的子模特性,设计了一种具有精度保证的近似求解算法.由于社交网络影响最大化问题在市场营销、信息传播等领域的应用背景,使其得到了广泛的关注.目前,已有相关研究工作主要解决社交网络影响最大化的效率和精度保证问题.其中,研究[4-10]关注于具有精度保证的近似求解.研究者主要利用贪婪算法或者它们的扩展形式来对问题进行近似求解,以便在保证计算精度的前提下,尽可能地提高问题求解的效率.例如,Leskovec等人[4-5]以及Goyal等人[5]根据问题目标函数的子模特性来减少计算影响力的评估次数;Kimura等人[7]利用键渗透理论以及Page3图论知识来评估所有量值;Chen等人[8]首先从原始社交网络图中移除所有不参与传播的边,然后在较小的生成子图上进行影响力传播的计算;Wang等人[9]首先对社交网络进行社区划分,然后在社区内挖掘出最有影响力的节点;Barbieri等人[10]将主题模型引入传播计算,提出主题驱动的传播模型,并在此模型基础上展开影响最大化研究.随着社交网络规模的不断增大,研究[8,11-14]开始关注于大规模社交网络影响最大化的在线计算问题.这些工作主要使用启发式算法来保证问题求解的效率和可扩展性,但它们在理论上不能保证计算精度.例如,Chen等人[8]提出了基于度折扣的启发式算法,该算法将计算速度提升了百万倍;Kimura和Saito[11]提出了基于最短路径的传播模型,并以此来快速估算影响力的传播情况;随后,Chen等人[12-13]分别在独立级联模型和线性阈值模型的基础上,研究了构建有效局部传播区域的方法和快速估算的影响力传播的方法;Goyal等人[14]利用邻居节点间的简单路径对影响力传播进行快速估算.虽然上述工作能够帮助企业快速挖掘出最大程度影响整个网络的节点集合,但是企业在进行个性化产品营销时,往往需要对网络中特定用户展开分析,所以更关注于挖掘影响特定用户的关键传播节点.即,针对一个给定的目标用户,从网络中挖掘能够最大程度影响该用户的节点.虽然Guo等人[15]研究了个性化影响最大化问题,但该工作假设用户间相互影响力是独立的,没有考虑影响力所具有的累积效应,其适用范围有限.为此,本文在线性阈值传播模型的基础上,挖掘能够最大程度影响网络中特定用户的节点集合.另外有一些研究工作对社交网络的影响力传播开展研究,例如Anagnostopoulos等人[16]研究如何区分影响力和相关性;Cui等人[17]研究如何根据重要的节点去预测网络突现的行为;Goyal等人[18]研究如何计算用户间影响力的传播概率;Cui等人[19]针对给定的物项,研究如何计算用户邻居点击该物项的概率;但这些工作不涉及特定用户的影响力最大化问题.3基于LT模型的个性化关键传播节点挖掘问题本节在线性阈值模型(LinearThresholdModel,简称为LT模型)的传播框架下,对个性化关键传播节点挖掘问题(即个性化影响最大化问题)进行定义和介绍.其常用数学符号表示如表1所示.符号Gw-去除G中w后所得图Cww的邻居节点集合F(w,x)在激活结果x中去除w节点1{w∈X}用于指示w∈X的指示函数(X)X在样本空间Ω中的概率δU被U激活的节点个数Rw(U)U到特定用户w的影响力puv基于LT模型,沿有向边狌狏的激活权重3.1预备知识本节主要介绍个性化影响最大化问题的相关基础知识.我们用G=(V,E)来表示社交网络,其中,点集V和边集E分别对应社交网络中的用户及其关系.根据用户行为的发生情况,每个节点通常存在两种状态:激活状态(active)或者未激活状态(inactive),且同一时刻只能处于这两种状态中的一种.在社交网络中,处于激活状态的节点能够影响处于未激活状态的节点.如果一个节点周围有越来越多的邻居节点变成激活状态,则该节点被激活的可能性也就越来越大.为了刻画这种传播行为,线性阈值模型作为社交网络的基本传播模型之一,主要关注于影响力传播过程中的阈值行为,即影响力在传递过程中所具有的累积效应.当一个激活节点尝试去激活它的非激活邻居节点时,尝试失败节点在该次激活过程的影响力会被累积,并对后面其他节点对该非激活节点的激活行为产生贡献.例如,社交网络中的个体成员C的朋友向C推荐新产品时,朋友推荐的影响力将被累积,当达到一定程度(阈值)时,个体成员C将被成功激活购买该新产品.在本文中,种子节点集合U对特定用户w的影响力记为Rw(U);在给定初始种子节点集合U的前提下,Rw(U)的实质就是特定用户w被成功激活的程度,其形式化表达如式(1)所示.其中,随机激活结果,包括激活路径以及被种子节点激活的节点集合,w∈X则表示特定用户w属于该激活结果X.Page43.2目标函数模拟与社交网络影响最大化问题的目标不同,本研究的目标就是要在社交网络中挖掘能够最大程度影响特定用户的节点集合.在社交网络影响最大化问题中,问题的目标函数可由式(2)来表示.其中,U是社交网络中任意包含k个节点的集合,U是所有可能集合中,能够满足R(U)最大的节点集合,R(U)是整个网络被初始种子节点集合U激活的程度.本问题目标的形式化表达如式(3)所示.其中,U是社交网络中任意包含k个节点(除w节点以外)的集合;U是所有可能集合中,能够满足Rw(U)最大的节点集合;V\{w}表示节点集V中去除w点;Rw(U)表示特定用户w被初始种子节点集合U激活的程度.从式(3)可以看出,对社交网络图G中任何一个节点集合U(UV\{w},|U|=k)来说,都满足Rw(U)Rw(U),所以目标函数关键在于Rw(U)的计算.由于影响力在传播路径及时间上具有不确定性,所以精确计算Rw(U)属于#P-hard难题.目前,通用的方法是利用蒙特卡洛(MonteCarlo)模拟法去近似估算Rw(U).于是,结合式(1)可以获得Rw(U)的随机统计量,具体如式(4)所示.其中,1{w∈X}用于指示特定用户w是否属于该激活结果X.如果1{w∈X}=1,则特定用户w属于该激活结果;如果1{w∈X}=0,则特定用户w不属于该激活结果.在基于线性阈值模型的传播机制下,本文用ΩU表示节点集合U在图G上所有激活结果的样本空间,那么,可将式(4)进一步展开获得式(5).其中,(X=x)表示X=x在ΩU中的概率,同时满足∑x∈ΩU(X=x)=1.从式(5)可以看出,1{w∈X}是Rw(U)的一个无偏差统计量,能够对目标函数进行模拟.然而,使用1{w∈X}对目标函数进行模拟是否足够好?能不能找到更好的随机函数?为解答上述问题,下面将以图1(a)所示的网络结构为例来展开分析和说明.其中,节点与节点之间的激活权重直接标记在图1(a)中的边上.在线性阈值模型的传播框架下,对于每一个节点,其邻居节点集合对其激活权重和小于等于1.例1.假定图1(a)中的特定用户为w=③,初始选定的节点集合为U={①},则计算图1(a)中的影响力Rw(U),可通过下列步骤获得.首先,针对激活结果x=(①→②→④),给出(X=x)的具体计算.由于线性阈值模型中历史激活权重对激活过程的累积作用,所以在样本空间ΩU中,激活结果x=(①→②→④)发生的概率计算如下.(X=x)=(X=(①→②→④))于是,按照同样的计算方法,基于节点集合U={①},计算出所有可能激活结果的概率统计情况如表2所示.序号x12①→②3①→②→④4①→②→④→③0.016①→②→④5①→②→③6①→②→③→④0.05678①→③9①→③→④1011①→②→④合计Page5根据表2中所有包含w∈x的概率(X=x),按照式(5)可计算获得Rw(U)的取值.Rw(U)=∑w∈X(X=x)=∑x=x4,…,x13那么,如果我们将w从激活结果x中移除,记为F(w,x),则对表2中第4列的相同项进行合并计算可得下列等式.从上述等式可以看出,F(w,x)与基于生成图Gw-(如图1(b))的随机激活结果Y同概率分布.由于任何节点对特定用户w的激活作用都绕不开其邻居节点,且每一个邻居对特定用户w都存在一定的激活权重,所以本文将图G中节点集合U到特定用户w的影响力计算过程分为两步:U→Cw和Cw→w.于是在线性阈值模型的传播机制下,我们引入生成图Gw-的随机激活结果Y,获得下列计算结果.∑y(Y=y)×∑v∈Y0.6×0.3+0.36×(0.2+0.3)+0.04×(0.2+0.3+0.4)=0.396(7)对比式(6)和式(7),发现二者计算结果相同.实际上,这个结果的获得并非偶然,它是有理论依据的,下面将给出理论证明.定理1.∑v∈Y量,且其方差小于1{w∈X}.即满足下列公式.证明.首先,证明∑v∈Y差统计量.根据条件概率的towerproperty[20],有Rw(U)=所以U∑v∈Y然后,证明∑v∈Y方差计算的表达式,有U∑v∈Y所以由定理1可知,∑v∈Y偏差统计量,且其具有方差较小的理论保证.为此,本文以式(10)来计算集合U对特定用户w的影响力大小.4近似算法本节将根据个性化影响最大化问题目标函数的特点,给出求解问题的近似算法.由于个性化影响最大化问题的特例属于经典的顶点覆盖问题,所以该问题属于NP难问题.因为本问题具有NP难问题的特点,所以不太可能采用蛮力算法去解决,特别是网络规模很大的时候.为此,本文首先对目标函数的特点进行分析,以获得具有精度保证的结果.通过分析我们获得Rw(U)具有子模特性(sub-modularity)[21-22](即定理2).定理2.目标函数式(3)具有子模特性.证明.首先证明Rw(U,Y)具有子模特性.假设A,B(ABV)是生成图Gw-中的节点集合;同时Rw(Av,Y)=Rw(A∪{v},Y)-Rw(A,Y)代表作用在目标节点w上影响力的边际值,即节点集合A∪{v}对w的影响力与节点v对w的影响力差值.显然,由于AB所以Rw(Av,Y)不少于Rw(Bv,Y),则Rw(A∪{v},Y)-Rw(A,Y)Rw(B∪{v},Y)-Rw(B,Y)该表达式满足子模特性的定义.因此,Rw(U,Y)具有子模特性.同时,由于子模特性在非负线性组合条件下具有封闭性,所以目标函数同样具有子模特性.同时,根据文献[1]的描述,对一个非负单调且满足子模特性的函数r(·)来说,如果S是所有包含k个元素集合中能够使r(·)最大化的集合,S是一个包含k个元素的集合,且满足集合中每个元素是通过最大边际效益依次选择出来的.则二者满足Page6不等式r(S)(1-1/e)r(S),即集合S能够提供(1-1/e)≈63%的计算精度保证.为此,本文利用目标函数的子模特性,采用贪婪策略来对问题进行求解,并提出具有理论精度保证为(1-1/e)≈63%的近似求解算法,记为目标贪婪算法(Target-basedGreedyAlgorithm,简称为TGA).算法1.目标贪婪算法.输入:(1)正整数k;(2)目标节点w;(3)社交网络图G;输出:对w最有影响力的k个种子节点集合UU←;CreateGw-(G,w);WHILE|U|<kDOENDOutput:UTGA算法的输入由正整数k、目标节点w、社交网络图G和蒙特卡洛模拟次数D所组成.算法的执行主要由下列两步组成:首先,根据特定用户产生影响力社区;然后,计算对特定用户最有影响力的节点,具体如上述算法描述所示.在算法执行的第1步中,影响力社区Gw-主要由图G和输入的目标节点w生成,其生成过程就是在图G中去除目标节点w,并删除与目标节点w相关的有向边.在算法执行的第2步中,TGA算法将通过贪婪策略,每次选择一个具有最大边际效应的节点加入种子节点集合中.即从非种子节点的集合中,依次选择一个节点使其对目标用户的影响力最大,具体如式(11)所示.U=∪kargmaxv∈Vw-\URw(U∪{v})-Rw(U)(11)于是通过上述步骤就能获得具有(1-1/e)近似精度保证的节点集合.5实验本节以真实的社交网络数据集为仿真数据,使用TGA算法和4种基准算法在不同参数设置下进行对比实验,并对单个实验结果和统计实验结果进行分析,其详细描述如下.5.1实验设置为保证实验结果的有效性,本文选取两组具有不同统计特性的真实社交网络数据来进行仿真.其中,数据集1取自新浪微博,数据集2从LeskovecJure的主页①获得,二者的统计特性描述如表3所示.数据来源数据描述用户间关注关系用户间选举关系节点信息边信息平均度平均聚类系数0.3867为分析本算法的性能,实验以如下基准算法(baselinemethods)为对比对象,利用文献[3]中的蒙特卡洛模拟方法去估计所有算法挖掘的结果(即选出的种子节点)对目标用户的影响力.其中基准算法描述如下:(1)Greedy算法[3].该算法是经典的社交网络全局影响力最大化算法.该算法以全局影响最大为目标函数,每次选取网络中最具影响力的一个节点,直到取满k个为止.(2)PageRank算法[23].该算法通过网络超链接关系来确定一个页面的等级,是一种由搜索引擎根据网页之间相互的超链接计算的技术.一个高等级的页面可以使其他低等级页面的等级提升.(3)LND算法.该算法从目标节点w的邻居节(4)LDAG算法[13].该算法是快速的社交网络全局影响力最大化算法.该算法将影响力计算限制在每个节点周围的有向无环图中,很大提高了算法的效率.为全面分析算法的性能,本节将在不同参数设置下展开实验.其中,主要的参数设置由关键传播节点个数k的取值和社交网络中用户间的影响力p所组成.k的取值由1~10,用户v到用户u的影响传播权重pvu由pvu=1/din(u)计算,din(u)表示用户u的入度.5.2算法的性能分析为分析算法的性能,实验使用上述算法分别对数据集1和数据集2中给定目标的关键传播节点进点集合中选择k个节点作为种子节点.①http://snap.stanford.edu/data/index.htmlPage7行挖掘,获得下列实验结果图.其中,图2~图5是不同方法对数据集1中两个目标节点挖掘的执行时间和挖掘结果对目标节点的影响力.在此次实验中,被选目标节点的ID分别为11和64.图2不同算法针对节点ID=11挖掘分析的执行时间图3不同算法针对节点ID=11挖掘获得的影响力图4不同算法针对节点ID=64挖掘分析的执行时间图5不同算法针对节点ID=64挖掘获得的影响力从图2~图5中可以看出:(1)TGA算法在执行时间上的性能不如PageRank算法、LND算法和LDAG算法,但在总体上要好于Greedy算法.这是因为TGA算法和Greedy算法为获得算法精度,采用蒙特卡洛模拟进行模拟传播运算,因此在时间上损耗较大;(2)TGA算法在针对给定节点(如ID=11或者ID=64节点)的局部影响力优于其他4种算法.这是因为Greedy算法和PageRank算法、LDAG算法都是针对网络中全局目标设置,其求解目标与本文目标有所差异,所以挖掘结果不能使特定用户的影响最大化.但是对LND算法而言,由于特定用户的邻居对该节点具有影响力,所以从其的邻居节点选取,具有相对较好的效果,但是这种方法忽略了其他节点对特定用户的间接影响,其挖掘效果不如TGA算法.因此,TGA算法挖掘出的关键节点具有影响力性能上的优势.图6和图7是不同方法对数据集2中两个目标节点挖掘所获结果对目标节点的影响力.在此次实验中,被选目标节点的ID分别为84和122.图6不同算法针对节点ID=84挖掘获得的影响力图7不同算法针对节点ID=122挖掘获得的影响力从图6和图7中可以看出:TGA算法在数据集2上挖掘的效果同样优于其他4种算法.同时,由于数据集1和数据集2拥有不同的统计特性(即数据集2比数据集1拥有更大的网络规模,且拥有不同的平均度和平均聚类系数),所以可以说TGA算法能够对不同的社交网络挖掘获得良好效果.Page8为进一步研究TGA算法的性能,实验以数据集1为仿真对象,利用挖掘结果的统计信息来展开分析.在实验中,我们随机选取网络中5%的节点为目标集合,利用不同算法对其关键传播节点进行挖掘.如表3所示,数据集1共有602个节点,所以此次实验总共针对31(602×5%≈31)个目标进行挖掘,实验结果将按照平均值进行统计,其结果如图8和表4所示.图8不同方法对网络中5%节点挖掘所获得的平均影响力kPageRank算法Greedy算法TGA算法LND算法LDAG算法10.01760.03070.12700.10310.018520.03630.05310.23580.18830.022530.06010.07040.32980.27040.036340.09560.09220.41060.35310.054750.10970.13630.48130.39710.057260.12820.15420.54670.45650.073070.15190.17950.60660.50800.073080.16570.19310.66100.55690.118490.17830.21070.70820.60110.1184100.20230.23780.74890.63760.1213从图8和表4可以看出,TGA算法在不同k值下均获得了良好的挖掘结果,其挖掘所获种子节点对目标用户的影响力均高于其他算法.虽然与其他基准算法相比,LND算法取得了不错的挖掘效果,但是其统计结果仍不如TGA算法.TGA算法挖掘所获结果对目标用户的影响力比LND算法的影响力平均高20%.因此,上述分析表明TGA算法不仅能够对不同目标用户的关键传播节点进行挖掘获得良好效果,而且说明TGA算法具有一定的稳健性.综上所述,TGA算法能够有效解决个性化关键传播节点的挖掘问题.6结论本文基于LT模型研究了社交网络中个性化关键传播节点的挖掘问题,提出用一个具有较低方差保证的随机函数来模拟该问题的目标函数.在保证求解精度的条件下,根据问题目标函数的子模特性,设计一个有效的求解算法来挖掘个性化关键传播节点.实验以真实的社交网络数据验证了算法的有效性.
