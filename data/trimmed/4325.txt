Page1形式背景与协调决策形式背景属性约简与概念格生成李进金1)张燕兰2)吴伟志3)陈锦坤1)1)(闽南师范大学数学与统计学院福建漳州363000)2)(闽南师范大学计算机科学与工程系福建漳州363000)3)(浙江海洋学院数理与信息学院浙江舟山316004)摘要通过引入交式可约元概念,文中提出了一种形式背景属性约简的新方法.基于此方法,获得了形式背景属性约简个数计算的精确公式,改进了原有的约简个数估计.在此基础上,给出了概念格的生成算法及其图示.最后,针对协调决策形式背景,通过实例给出了新的属性约简方法.关键词形式背景;概念格;交式可约元;属性约简;概念格的生成算法1引言1982年,德国数学家Wille[1]提出了形式概念分析,也称概念格理论,用于概念的发现、排序和显示,该理论是一种基于概念和概念层次的数学化表Page2性集以及对象集和属性集之间的二元关系所构成的三元组,称为形式背景,用概念格来刻画数据集(形式背景)中的对象与属性之间的二元关系所建立的概念层次结构,概念格生动简洁地体现了概念之间的泛化和特化关系.因此,概念格结构是反映所给形式背景的核心数据关系结构.知识发现的一个重要方面是知识约简.目前,已有许多文献对基于粗糙集的知识约简作了深入的研究,并且得到许多重要的结果[19-25].近几年在概念格研究方面取得了一些重要进展,特别是结合粗糙集属性约简理论与方法,在概念格知识发现方面提出了概念格的属性约简理论[26-29].如张文修等人[29]首次将可辨识属性矩阵方法引入到形式背景中概念格的属性约简判别和计算中,魏玲等人[26]提出了决策形式背景的概念,并提出了决策形式背景中基于强协调性和弱协调性的概念格属性约简的理论与方法.Wu等人[27]给出了形式背景和决策形式背景中的概念格的基本信息粒度表示,并给出了基于粒协调性的概念格属性约简理论与方法.仇国芳等人[30]则以代数结构的形式建立了形式背景中概念粒计算系统的数学模型,获得了从任意外延元或内涵元生成概念的迭代算法.本文引入形式背景中概念格的交可约元概念,其实质是给出概念格的最小交式生成组,并进一步提出形式背景中概念格属性约简的一种新的概念和计算方法,该方法比Wu等人[27]提出的概念格属性约简方法更有效.特别地,采用这种新的约简方法,容易得到属性约简个数计算的精确公式,改进了原有的约简个数估计.在此基础上,给出概念格的生成算法及其图示.最后,通过实例描述得到了协调决策形式背景属性约简的新方法.2预备知识形式概念分析的数据描述形式是由对象集U,属性集A以及U与A之间的二元关系I构成的三元组所组成的形式背景(U,A,I),用概念格来刻画数据集(形式背景)(U,A,I)中的对象与属性之间的二元关系所建立的概念层次结构.定义1[2].称(U,A,I)为一个形式背景,其中U={x1,x2,…,xn}为有限对象集,A={a1,a2,…,ap}为有限属性集,I为U到A的二元关系,即IUA.对于任意X,记若X=B且X=B,称(X,B)为概念.其中X称为概念(X,B)的外延,B称为概念(X,B)的内涵.对于x∈U,a∈A,记x={x},a={a}.若任意的x∈U,a∈A,x≠,A且a≠,U皆成立,称形式背景(U,A,I)是正则的.本文中提到的形式背景都是正则的.用L(U,A,I)表示由(U,A,I)形成的概念全体,L(U,A,I)={(X,B)|XU,BA,X=B,B=X}.并用LU(U,A,I)与LA(U,A,I)分别表示相应的概念外延全体与概念内涵全体.定义2[2].若(X1,B1),(X2,B2)∈L(U,A,I),引入L(U,A,I)中的二元关系:(X1,B1)(X2,B2)X1X2B1B2.称(X1,B1)细于(X2,B2).易知(L(U,A,I),)为偏序集.定理1[2].若(X1,B1),(X2,B2)∈L(U,A,I),定义下述两运算:(X1,B1)∧(X2,B2)=(X1∩X2,(B1∪B2)),(X1,B1)∨(X2,B2)=((X1∪X2),B1∩B2).则L(U,A,I)关于偏序关系构成一个完备格,称为概念格.定义3[29].对于固定的有限论域U,记={L(U,A,I)|IUA,|A|<∝}.若(Y,C)∈L(U,A2,I2),(X,B)∈L(U,A1,I1)使得X=Y,则称L(U,A1,I1)细于L(U,A2,I2),记为L(U,A1,I1)L(U,A2,I2).若L(U,A1,I1)L(U,A2,I2)且L(U,A2,I2)L(U,A1,I1),则L(U,A1,I1)L(U,A2,I2).不难知道L(U,A1,I1)L(U,A2,I2)LU(U,A1,I1)LU(U,A2,I2),L(U,A1,I1)L(U,A2,I2)LU(U,A1,I1)=LU(U,A2,I2).定义4[29].设(U,A,I)是形式背景,若存在属性集DA使得L(U,D,ID)L(U,A,I),则称D是(U,A,I)的协调集(其中ID=I∩(UD)).若进一步α∈D,满足L(U,D-{α},ID-{α})L(U,A,I),则称D是(U,A,I)的约简.={HP(U)|,U∈H且X,Y∈HX∩Y∈H}.定理2[2].U,这里设U为论域,P(U)为U的幂集,记U={LU(U,A,I)|IUA,|A|<∝}.Page3定义5[30].设(U,A,I)与(U,C,J)是两个形式背景,有相同的论域U,则称(U,A,I,C,J)为决策形式背景.若L(U,A,I)L(U,C,J),称决策形式背景(U,A,I,C,J)是协调的.若BA时有L(U,B,IB)L(U,C,J),称B为决策形式背景的协调集.若B是决策形式背景的协调集,且不存在任何真子集是决策形式背景的协调集,则称B为决策形式背景的约简.3形式背景的属性约简方法与概念格生成算法命题1[2].X=∩x∈Xx,B=∩b∈Bb.命题2[2].LU(U,A,I)={B|BA},因为LU(U,A,I)是所有内涵概念的外延所构成的集合,又B=∩a∈Ba,因此LU(U,A,I)是{a|a∈A}经交运算形成的封闭系统,即有下面命题3.命题3.{a|a∈A}是LU(U,A,I)的交式生成组,即X∈LU(U,A,I),BA使得X=∩b∈Bb.由此可见,形式背景(U,A,I)的属性约简D即{a|a∈D}为LU(U,A,I)的最小交式生成组.为此引入下述可约元的概念.定义6.对于a∈A若DA,aD,使a=D=∩b∈Db,则称a为A的可约元,或a为{a|a∈A}的可约元.若a∈A是A的可约元,将a从A中删去,若A-{a}中还有A-{a}的可约元,进一步删去该可约元,直到余下的属性集B不再含有B的可约元,称B为A的约简.这是约简的另一种等价定义形式.下面引入属性集A上的一种等价关系得到A上的一个划分A/R={[a]R|a∈A},命题4.若[a]R不是单元素集合,则[a]R中元素皆为交式可约元,且(A-[a]R)∪{a}为协调集.属性集可分为3类:核心属性,其属于每个约简;不必要属性,其不属于任一约简;相对必要属性,其属于某些约简但不属于每个约简.这3类集分别记为C,I,K,则{C,I,K}构成A的一个划分(这里C,I,K的使用根据上下文应不致混淆).推论1.若a∈A为核心属性,则a在A/R中的等价类为单元素集.但等价类为单元素集的属性未必是核心属.命题5.等价类为单元素集的属性a为核心属性的充要条件是a不是交式可约元,即不存在DA,aD使a=∩b∈Db.设A/R={[ai1]R,[ai2]R,…,[aik]R},从每个等价类[ait]R中选取一个代表元组成属性集记为A={a1,a2,…,ak},则A是形成背景的协调集,即LU(U,A,I)LU(U,A,IA),计算(U,A,I)的约简问题可先从(U,A,IA)进行,即先求一个约简DA.对于形式背景(U,A,IA)而言,A/R的等价类皆为单元素集,根据前面的结果可知A中的属性对形式背景(U,A,IA)而言或者是核心属性或者是可约元,因而(U,A,IA)的属性约简是唯一的.命题6.若A/R={[ai1]R,[ai2]R,…,[aik]R}的等价类皆为单元素集(从而k=m=|A|),则形式背景(U,A,I)属性约简唯一.否则,设(U,A,IA)的约简为D={aj1,aj2,…,ajl},则(U,A,I)的不同属性约简个数为∏l对于(U,A,IA)的约简,可以采用另一方式来论述.A中属性a为可约元:存在DA-{a}使a=∩b∈Db.我们有性质1.若a=∩b∈Db,则ab.性质2.若a1,a2皆为A中可约元,a1=∩b∈D1a2=∩b∈D2可约元当且仅当b为A的可约元.可约元的次序无关,因而成立下述命题.性质3.若a为A可约元,则b为A-{a}的性质3表明从A中去掉可约元的结果,与去掉命题7.A的约简唯一.引入记号G(a)={b∈A|ba},则有命题8.a是A的可约元的充要条件为a=根据前面的结果,可以给出形式背景(U,A,I)(1)求出{a|a∈A};(2)求出A/R={[ai1]R,[ai2]R,…,[aik]R};(3)从[ait]R中选一个代表元at组成属性集A={at|1tk}.相应地从{a|a∈A}中找出{a|a∈A};(4)对{a|a∈A}中的a排序,其次序依|a|G(a).的属性约简算法:Page4由大而小排定,|a|相等的a之间的次序可随意;(5)从排序排在最后的a开始,向前找满足ba的b,找到后即作交运算,若交出a来,则a是可约元,若找到的所有元素组成的集G(a)={b∈A|ba}满足G(a)≠a,则a是核心属性.若a=G(a),则a从A中删去,再对a前面一个元素重复上述过程,反复上述过程即可从A删去所有可约元而得到属性约简集D.利用上述的算法,容易给出求所有属性约简集的方法.实际上,当选取不同的代表元时可得到不同的约简集,故穷尽代表元就能得到所有的属性约简.另外上述算法的时间复杂度是O(|U|2|A|).因此求出所有属性约简集的算法的时间复杂度是O(|U|4|A|).而与文献[27]的求属性约简集的时间复杂度O(2|A||U|2|A|)相比,上述算法更有效.文献[28]中也给出了一个复杂度同为O(|U|2|A|)概念格属性约简算法,为了更好的说明本文算法效果,我们在硬件配置为CPUPentium2.10GHz,内存2GB的计算机上,用Matlab语言编程实现算法,开发平台为Matlab7.8.我们选取10组随机的形式背景进行实验,实验结果如表1所示.|U|=50,|A|=500.538|U|=50,|A|=1001.410|U|=100,|A|=500.628|U|=100,|A|=2004.559|U|=200,|A|=1002.718|U|=200,|A|=3008.633|U|=500,|A|=1004.503|U|=500,|A|=1508.216|U|=500,|A|=30020.581|U|=800,|A|=20017.126的算法更为有效.从表1可以看出,与文献[28]相比,本文所提出下面考虑概念格的生成算法:{a|a∈D}是LU(U,A,I)的交式生成组,由{a|a∈D}出发按下述步骤即可求出LU(U,A,I).(1)显然,U∈LU(U,A,I),称U为LU(U,A,I)的第1层.(2){a|a∈D}LU(U,A,I),称{a|a∈D}为LU(U,A,I)的第2层.(3)任取D中两元素a和b,作交ab,全部非空集皆属于LU(U,A,I),称之为第3层成员.如果第2层中成员中有在第3层出现的,从第2层删去.第3层中的单元素集不参加交运算,即第3层中的非空、非单元素集记作D3(重复的也删去).(4)D3中任取两个作交,结果全属于LU(U,A,I),与第3层中的单元素集合在一起即是全部可表为形如abc与abcd的LU(U,A,I)成员,除去空集与单元素集,其它结果全体记为D4(重复的也删去).(5)D4中成员两两作交,并上前面的单元素集及空集,即是全部可表为形如a1a2…ak(5k8),ai∈D(1ik)的LU(U,A,I)中成员,去掉其中空集与单元素集,余下的全体构成集合D5(重复的也删去).(6)一般地由Dj中成员两两作交,并上前面的单元素集与空集,即是LU(U,A,I)中可以表成a1a2…ak(2j-2+1k2j-1)的全部成员,去掉空集与单元素集,余下的全体构成集合Dj+1(在第j+1层)(重复的也删去).(7)以上过程直到Dj+1为空或Dj+1为单元素集为止,汇总前面结果即可得到LU(U,A,I)中全部成员.4形式背景的概念格犔犝(犝,犃,犐)的图示概念格L(U,A,I)与格LU(U,A,I)同构,故L(U,A,I)的图示可由格LU(U,A,I)的图示得到.格LU(U,A,I)的最大元为U,最小元为,U与分别在格LU(U,A,I)图示的最顶层与最底层.格LU(U,A,I)的图示,顶点集即是LU(U,A,I)中成员集,关键是这些顶点各处于什么位置?哪些顶点之间有连线(有向弧)参照LU(U,A,I)的生成算法将LU(U,A,I)分层.对任意X∈LU(U,A,I),设X出现在生成过程的若干层,则从X所属层中的最高一层开始搜集其父节点,X由上一层的两成员交得出,可能不止一次被生成,则上一层参加生成X的成员皆为X的父节点.设X处于最高层j,在第j-1层找到父节点为G(j-1),在X的父节点集G(j)中搜索是否有以G(j-1)中顶点为父节点的,有则将其在G(j-1)中的父节点删去:G(j)=G(j)∪G(j-1)-G(j+1)=G(j+1)∪G(j)-上述过程直到含有X的最低一层结束,则可求得X的全部父节点.在格LU(U,A,I)的图示中,X只保留在X出现的最低一层中.Page5在X出现的最低一层中,找出X的全部节点,则LU(U,A,I)的图示就完全确定了.特别若X=a,a∈D,当G(a)=时,其节点为U,当G(a)≠时,a的父节点为G(a).例1.有形式背景如表2.Ux11010010101x21010001011x31001001010x40110010100x50100101000令A={a,b,c,d,e,f,g,i,j}.a={1,2,3},c={1,2,4},g={2,3,5},b={4,5},f={1,4},i={2,3},j={1,2},d={3},e={5}.G(a)=G(b)=G(c)=G(g)=,故a,b,c,g为A的核心属性.G(d)≠d,G(f)≠f,于是d,f不可约.而e,i,j满足G(e)=e,G(i)=i,G(j)=j,因此e,i,j为可约元.A的约简为D={a,b,c,d,f,g},|d|=1,d在交扩张不起作用.约简后形成的概念格见图1.因此LU(U,A,I)=LU(U,D,ID)={d}∪{B|B{a,b,c,g,f}}.实施概念格生成算法如图2所示.对应的格LU(U,A,I)图示如图3所示.因为max{|a|,a∈D=3},每作一次交运算,对象至少减少1个元素.故LU(U,A,I)即LU(U,A,IA),亦即LU(U,D,ID)至少有5层(包括顶及底).5协调决策形式背景判定与属性约简下面通过实例来说明我们提出的方法.例2.给出决策形式背景如表3.Ux110101001x211011100x311000100x401110011x501110011(1)生成LU(U,C,J).f={x2,x3}={2,3},g={4,5},h={1,4,5},C=C={f,g,h}.{f,g,h}作为交生成组可生成的只有{,f,g,h},故可得LU(U,C,J)={,f,g,h}.(2)检验决策形式背景的协调性.对X∈LU(U,C,J),找G(X)={a∈A|aX},检查G(X)=X是否成立.若对于X∈LU(U,C,J)(X≠,U),皆有X=G(X),则(U,A,I,C,J)为协调决策形式背景.在本例中,G(f)={a,b},a∩b=f,故可知,G(f)=f,G(g)={b,c,d},b∩c∩d=g,可知成立G(g)=g.类似地,有G(h)={c},c=h,可见(C,A,I,C,J)为协调决策形式背景.(3)决策形式背景的属性约简.可由每个Xi∈LU(U,C,J),Xi≠,U的约简Bi(1),Bi(2),…,Bi(ki)(i=1,2,…,t),t=|LU(U,C,J)|-2的并,得B=∪t最小属性集.如例中X1={2,3},XA1={a,b},有B1(1)={a,b};Page6X2={4,5},XA2={b,c,d},有B2(1)={b,c},B2(2)={c,d};X3={1,4,5},XA3=XA2∩1A={c},B3(1)={c},有B=B1(1)∪B2(1)∪B3(1)={a,b,c},B1(1)∪B2(2)∪B3(1)={a,b,c,d}.可得(U,A,I,C,J)的属性约简为{a,b,c}.6结论概念格理论是一种数据分析和知识处理的工具,已经被成功地应用于人工智能的许多研究领域.本文引入了形式背景中概念格的交式可约元概念,讨论了交式可约元的性质,并进一步提出了形式背景中属性约简的一种新的概念,通过实例给出了相应的属性约简算法和概念格生成算法.采用这个方法的优点是可以得到属性约简个数计算的精确公式.本文进一步扩充了概念格的约简理论,对概念格的研究和应用都有重要意义.
