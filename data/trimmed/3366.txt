Page1一种多目标进化算法解集分布广度评价方法李密青郑金华(湘潭大学信息工程学院湖南湘潭411105)摘要解集分布广度评价是多目标进化算法性能评价中的重要研究课题.作者提出了一种在未知Pareto最优面情况下解集分布广度评价方法(SpreadIndicator,SI).不同于已存在的评价方法考虑极端个体,该方法利用边界解集对非支配集分布范围进行评价.对非支配集中边界解的性质和特征进行了详细的分析,讨论了边界解与极端解之间的联系和区别,并根据边界解级数区分不同边界解对分布范围的影响,进而利用低维空间超立方体进行分布范围的估计.另外,引入与质心超体积的比较关系,避免了算法因收敛度不同对分布广度评价结果的影响.实验结果表明了该方法的可行性和有效性.关键词多目标优化;多目标进化算法;性能指标;分布广度评价;边界解集1引言称为多目标优化问题(Multi-objectiveOptimizationProblems,MOPs).多目标优化问题中的多个目标往往是相互冲突的,不同于单目标优化问题(SingleObjectiveOptimizationProblems,SOPs)通常只有现实世界的许多问题由多个目标组成,这类问题Page2一个最优解,它们需要在不同目标间做出折衷,从而得到一组非劣解集[1].近20多年,越来越多的研究者将进化算法(EvolutionaryAlgorithm,EA)应用到多目标优化问题中.自1984年DavidSchaffer首次在机器学习中实现了向量评估遗传算法VEGA[2]以来,多目标进化算法(Multi-ObjectiveEvolutionaryAlgorithm,MOEA)的发展经历了两个阶段,出现了许多有效的多目标进化算法[3-4].多目标进化算法中解集质量评价(QualityIndicator,QI)是一个非常重要并且困难的研究课题[5].由于MOEA的输出为一组解的集合,因而QI不仅要考虑解集逼近Pareto最优面的逼近程度,还要考虑整个解集在目标空间分布的均匀程度和广泛程度等等.在MOEA发展初期,研究者主要通过对最终边界的观察来估计MOEA的好坏[6],但这种直观的方法不能给出定量的评价结果,并且不适合目标维数为三维以上的MOP.在MOEA的发展进入第2个阶段后,QI方法的设计逐渐引起研究者们广泛的重视,QI得到了快速的发展,并取得许多可喜的成果[3].特别是,2004年,Zitzler等人[7]认为应该根据决策者解集质量需求的不同设计不同的MOEA,提出了基于QI的多目标进化算法设计的思想,为QI设计方法的研究提供了新的意义.另外,2006年,Knowles等人[8]提出了QI与Pareto一致(Pareto-compliant)的概念,进一步推动了QI的发展.目前,QI主要评价MOEA解集3个方面的性能:(1)解集与Pareto最优面的逼近程度(收敛性);(2)解集在目标空间分布的均匀程度(分布均匀性);(3)解集在目标空间分布的广泛程度(分布广泛性).其中,对解集收敛性评价相对容易[9-10],研究者们提出了许多有效的评价方法,如VanVeldhuizen等人[11]的世代距离方法(generationaldistance)以及类似的Schott[12]的“七点”平均距离方法、Coello等人[3]的错误率(errorratio)方法以及类似的Zitzler等人[13]的两个解集之间的覆盖率(twosetcoverage)评价方法等等.解集分布均匀性评价也较早得到了学者们重视,Schott[12]于1995年提出Spacing评价方法;Deb等人[14]也于2002年提出一种相似的空间评价方法;Zitzler等人[15]提出一种基于小生境的均匀性评价方法;文献[16]利用网格进行评价;文献[17]用最小生成树为每个个体设置一个相对邻域,用邻域包含关系评价均匀性;文献[18]提出一种均匀性逐步评价方法,利用区域对称关系逐步进行评价等等.然而,对于解集分布广泛性评价的研究程度却远远不及其它两个方面[19].目前,仅存在Zitzler等人[15]和Wu等人[20]两种类似的评价方法.事实上,由于这两种方法只考虑目标空间中极端个体,它们也并不能很好地反映整个解集在空间中分布的广泛程度.我们认为出现这种情况主要有以下3个方面的原因:(1)空间中解集分布的范围很难测定,不同测试问题的解集有着不同形状的分布.不同于MOEA算法可根据进化过程中解集自身的一些性质(如极端解[14,21]、构造自适应网格[22]、利用个体密集距离[23-24]、熵[25-26]等)找出分布广泛的解个体,MOEA广泛性QI需要给出解集分布范围定量的指标值.特别是当解集分布形状不规则时,其分布范围通常很难测量.(2)解集收敛性的影响.不同的解集通常有不同的收敛性,对于最小化问题,收敛性差的解集有更广的分布.然而,这种广泛的分布是由解集距离Pareto最优面较远、收敛性差造成的,不能正确地反映解集分布的广泛程度.因而广泛性QI方法的设计需要避免收敛性的影响,即要求这两个指标尽可能地不相关.(3)不同目标数下,反映解集分布范围的解个体不同.在二目标问题中,极端解能很好地反映解集分布范围;但对于三目标或三目标以上问题,极端解就无法准确地反映解集分布范围.另外,同样是反映解集分布的个体,其影响解集分布广泛程度上也不尽相同,特别是随着目标维数的增加[27],体现得更加明显.这就给解集分布广泛性评价进一步增加了难度.由此可见,设计MOEA广泛性QI方法是一个十分困难的问题,迫切地需要进行深入的研究.此外,研究者们也提出了一些同时评价广泛性和其它性能的QI方法.如Zitzler等人的Hypervolume[13]、Epsilon[5]方法以及Bosman等的IGD[28]方法评价了解集的收敛性、均匀性、广泛性;Deb等人[14]的基于距离的评价方法、Farhang-Mehr等人[25]的熵评价方法以及我国学者曾三友等人[29]的多样性估计评价了解集的分布均匀性和广泛性.这些方法给出了解集综合性能的定量评价结果,减少了QI方法的需求数量.但最大的问题是不能给出解集单一方面的性能评价值,而决策者有时可能更希望了解解集某一方面的性能[30].Page3为此,本文提出了一种独立评价解集分布广度的评价方法(SpreadIndicator,SI).通过对非支配集中边界解集的深入分析,讨论了边界解集与非支配集之间的关系及有关性质,并根据边界解级数区分不同边界解对分布范围的影响.进一步地,利用边界解集与质心超体积的比较值,评估解集的分布范围.从而,在有效避免收敛性影响的同时,能够准确地评价不同分布形状的解集.值得说明的是,在文献[19]中,我们首次尝试用边界解对非支配集进行广泛性估计.该方法取得了较为理想的效果.本文是在其基础上的进一步研究.相对文献[19],本文的主要特点和区别如下:(1)对边界解和边界解集的性质和特征进行了详细的分析,并讨论了边界解与极端解的联系和区别;(2)提出了边界解级数和完全边界解的概念,区分不同边界解对解集分布范围的不同影响程度;(3)利用超凌锥模拟非支配集低维中的形状,自适应确定Hypervolume指标中的参考原点;(4)在更多测试函数、更高目标维数上进行了实验验证,比较了基于边界解与基于极端解的评价方法的差异.2基本概念和相关工作最小化与最大化问题可以相互转化,因此,仅以最小化多目标问题为研究对象.多目标优化问题的一般描述为给定解个体XRn,它满足下列约束:冲突的,优化目标可表示为设有r个优化目标,且这r个优化目标是相互犳(X)=(f1(X),f2(X),…,fr(X)).寻求犡=(x1,x2,…,xn),使犳(X)在满足约束(1)和(2)的同时达到最小.多目标进化算法经常用到以下几个基本概念.2.1基本概念定义1.个体的Pareto支配关系.设p和q是进化群体中的任意两个不同的个体,我们称p支配q,则必须满足下列两个条件:(1)对所有的子目标,p不比q差,即fk(p)fk(q)(k=1,2,…,r);(2)至少存在一个子目标,使p比q好.即l∈{1,2,…,r},使fl(p)<fl(q).其中r为子目标的数量.表示为pq,其中“”是支配关系.定义2.Pareto最优解.给定一个多目标优化问题min犳(X),称X∈Ω是最优解,若X∈Ω,满足下列条件:或者∧i∈I(fi(X)=fi(X))或者至少存在一个j∈I,I={1,2,…,r},使fj(X)>fj(X),其中Ω是满足式(1)和式(2)的可行解集.定义3.Pareto最优面(边界)(ParetoOptimalFront,POF).给定一个多目标优化问题min犳(X)和它的最优解集{犡},它的Pareto最优面定义为PF={犳(X)=(f1(X),f2(X),…,fr(X))|X∈{犡}}定义4.非支配集(也称非劣解).设有解集P,P中的个体q不被任何其它个体支配,则q是P中的非支配个体;P的非支配个体构成的子集称为P的非支配集NDS(Non-DominatedSet),即NDS={q|q∈P且-p∈P,使pq}.定义5.目标集维数.对r个优化目标f1(X),f2(X),…,fr(X),称Ψr为由其中任意目标构成的目标集的非空集合,对目标集(fk1(X),fk2(X),…,fkm(X))∈Ψr,记Fm(X)=(fk1(X),fk2(X),…,fkm(X)),其中m为目标集中的目标数目,称为目标集Fm(X)的维数,且有1mr.定义6.极端解和极端解集.设有非支配集NDS,若个体q属于NDS并且在NDS中某一目标上不存在比q大的个体,则称q为NDS中的极端解,NDS中的极端解构成的子集称为NDS的极端解集NDE(Non-dominatedExtremeSet),即NDES={q|q∈NDS,k∈{1,2,…,r}且-p∈NDS,使fk(p)>fk(q)}.注意到极端解和极端解集是针对非支配解集而言的,若解集中个体存在支配关系,则没有极端解和极端解集的概念.2.2相关工作前面提到,虽然对于解集分布广度评价的研究要远远少于其它两方面,但也存在一些能部分给出解集分布广度信息的评价方法.下面我们对这些方法的特点和不足按QI的不同评价范围进行分类介绍和分析.Page42.2.1收敛性、均匀性和广泛性综合QIIGD和Hypervolume为目前两种流行的解集综合性能评价方法[28,31-33].IGD为收敛性评价方法GD的反转,它计算Pareto面上均匀点到非支配解集上最小距离的平均值,其评价函数如下:IGD(P,NDS)=∑v∈P其中P为覆盖整个Pareto最优面的均匀点,d(v,NDS)表示点v到非支配解集NDS中个体的最小欧氏距离,由于P能很好地代表整个POF,因而IGD不仅能评价解集收敛性,也能评价均匀性和广泛性.IGD不足之处为必须事先知道问题POF的分布,但在实际问题中POF通常是未知的.图1一个2目标下解集实例布信息.值得一提的是文献[29]提出一种用“暴露程度”来评价分布性的方法,对解向量进行不同方向切分,有效地避免了解集收敛性不同对分布性评价造成的影响.但与IGD类似,该方法最大的问题是必须知道Pareto最优面分布情况.2.2.3广泛性QI以上方法都是包含评价解集分布广泛性的综合性能评价方法,由于评价结果在各方面性能上的相关性,并不能独立给出解集分布广泛程度方面的信息.下面,我们介绍存在的两种独立评价分布广度QI.Zitzler[15]于2000年提出最大分散度(MaximumSpread)评价方法(也称为D方法),计算非支配集中极端个体之间的欧氏距离,评价函数如下:2.2.2均匀性和广泛性综合QIDeb等人[14]于2002年提出基于距离的评价方法,估计解集分布均匀性和广泛性,评价函数如下:其中df,dl为Pareto最优边界中极端解与非支配集中极端解的欧氏距离,珚d为di的平均值,i∈[1,|NDS|-1].这种方法能较好地评价两目标问题中解集分布均匀性和广泛性,但不适用于3目标或3目标以上问题.Farhang-Mehr等人[25]于2003年提出了一种依靠个体信息的分布度评价方法,它定义个体受种群中其它个体影响的影响函数,利用信息熵来评价解集的分布均匀性和广泛性.但该方法主要存在以下两方面的不足:(1)信息熵值在很大程度上取决于标准方差σ的选取;(2)对Pareto最优面不连续的情况,信息熵的方法并不适用.Deb等在文献[16]中对其进行了详细的分析.另外,以上两种QI或多或少受到解集收敛度的影响,很难准确给出解集分Zitzler和Thiele于1999年提出了Hypervol-ume[13],但直到2003年Hypervolume才广泛应用到性能评价中[34].Hypervolume计算非支配集与空间参考点围成的超体积.但主要的问题是空间中参考点的难以选择,Knowles和Corne在文献[22]中对其进行了详细的分析.另外在解集分布广泛性评价方面,由于受其它两方面性能的影响,IGD和Hypervolume不能给出独立的广泛性评价结果.如图1所示,非支配集NDS1与NDS2都收敛到Pareto最优面,NDS1的均匀性优于NDS2,但分布广泛性逊于NDS2,而评价指标IGD和Hypervolume可能会给出NDS1比NDS2更优的结果.D=∑M其中M为目标数,D值越大表明解集分布越广泛.文献[20]也提出一种与其类似的QI,只是用超矩形(hyper-rectangle)替代了欧氏距离.这两种QI广泛Page5应用于解集分布广度评价中,然而,其结果也与收敛性存在一定的相关性.另外,该类方法最大的问题是只考虑非支配集中极端解之间的关系,而极端解很难代表整个解集的分布范围.图2为一个3目标解集分布平面图,设阴影三角形为问题Pareto最优面,NDS1与NDS2有相同的收敛性.容易看出,NDS1比NDS2拥有更优的分布范围,而由于NDS1与NDS2有相同的极端解集,上述两种方法将得出相同的评价结果.3解集分布广度评价方法在未知Pareto最优面情况下评价解集分布广泛程度是相对困难的,基于极端解的评价方法无法准确地反映解集分布范围.为此,本文引入非支配集中边界解集的概念,并利用它进行分布广泛性评价.我们的基本思路是:(1)确定解集中能准确反映其分布范围的个体集,即边界解集;(2)区分边界解集中不同个体对分布范围的不同影响;(3)设计一种评价边界解集的方法,该方法能反映不同个体对分布范围的不同影响程度.3.1边界解和边界解集在给出边界解的定义之前,我们首先定义非支配集中个体之间的一种比较关系———超出关系.定义7.超出关系.设p和q为有r个目标的NDS中任意两个不同的个体,若对其中的m个目标(不失一般性记为f1(X),f2(X),…,fm(X)(mr)),有fk(p)fk(q)(k=1,2,…,m)并且至少一个子目标,即l∈{1,2,…,m},fl(p)>fl(q),则称p在{f1(X),f2(X),…,fm(X)}中超出q.对比定义1可以发现,超出关系与支配关系有些类似,只是比较关系相反.但需要注意的是超出关系是定义在非支配集中.此外,支配关系是针对空间所有目标f1(X),f2(X),…,fr(X)而言,而超出关系是定义在所有目标的子目标集中.为更好地理解超出关系,下面我们给出一个简单的例子.设a(1,2,3),b(3,2,1)为3目标非支配集中的两个个体,则a在目标集{f3}和{f2,f3}上超出b,而b在目标集{f1}和{f1,f2}上超出a.显然,对于两个非支配个体,它们肯定会在一些不同目标上相互超出.我们称个体之间满足超出关系的最大目标集的维数为超出值,定义如下.定义8.超出值.设p和q为有r个目标的NDS中任意两个不同的个体,在属于Ψr且满足p超出q的所有目标集中,最大的目标集维数称为p对q的超出值,即max{k|Fk(X)∈Ψr,p在Fk(X)上超出q},记pq=k.上例中,a对b,b对a的超出值同为2.超出值具有以下性质.性质1.对r个目标的非支配集中任意两个不同的个体p,q,有1pqr-1.性质2.对r个目标的非支配集中任意两个不同的个体p,q,有r(pq)+(qp)2r-2.性质1的证明比较简单,由非支配集的定义可直接得出.下面我们给出性质2的证明.证明.由性质1易知(pq)+(qp)2r-2.下面我们用反证法证明r(pq)+(qp),设pq=j对应的目标集为Fj(X),qp=k对应的目标集为Fk(X),j+k<r,则必存在不属于Fj(X)∪Fk(X)的目标f1(X),f2(X),…,fm(X)(mr-(j+k)),对其中任一目标fl(X),l∈{1,2,…,m},有fl(p)>fl(q)或fl(p)<fl(q)或fl(p)=fl(q),若fl(p)>fl(q)或fl(p)<fl(q),则p在{Fj(X),fl(X)}上超出q或q在{Fk(X),fl(X)}上超出p,这样与超出值的定义矛盾;若fl(p)=fl(q),则p在{Fj(X),fl(X)}上超出q且q在{Fk(X),fl(X)}上超出p,同样与超出值的定义矛盾,因此有rj+k,即r(pq)+(qp).实际上,当p与q在任何目标上都不相等时,有(pq)+(qp)=r;当p与q在r-2个目标上相等时(互为非支配的两个个体不可能在(r-1)以上个目标上相等),有(pq)+(qp)=2r-2,如上例(ab)+(ba)=4.定义9.边界解和边界解集.设有r个优化目标f1(X),f2(X),…,fr(X)的非支配集NDS.对于p∈NDS,若存在有r-1个目标的目标集Fr-1(X)={f1(X),…,fk-1(X),fk+1(X),…,fr(X)}∈Ψr,不存在有个体q∈NDS在Fr-1(X)上超出p,则称p为非支配集NDS的边界解,NDS中边界解构成的集称为NDS的边界解集BS(BoundarySet),即BS={p|p∈NDS,Fr-1(X)∈Ψr,-q∈NDS,q在Fr-1(X)超出p}.Page6为了更好地理解边界集和边界解集,我们给出一个简单的例子.设一非支配集NDS由个体a(1,2,3),b(3,2,1),c(3,1,2),d(2,2,2)组成.根据边界集的定义,个体b为在目标集{f1,f2}上的边界解,由于没有其它个体在此目标集上超出它;同理,可知目标集{f2,f3}的边界解为a,而{f1,f3}的边界解为a,c.因此该NDS的边界解集为{a,b,c}.注意到在r个目标f1(X),f2(X),…,fr(X)中,有r个由(r-1)个目标构成的不同的目标集.为方便讨论,我们记r-1个目标构成的目标集{f1(X),…,fk-1(X),fk+1(X),…,fr(X)}为fk(X)=0,在此目标集上满足定义的边界解集记为BSk,显然有BS=BS1∪BS2∪…∪BSr-1∪BSr.由定义可知,任何非支配集都存在边界解.那么非支配集中存在多少边界解?我们有下面的定理.定理1.对于有r个目标的非支配集NDS,若|NDS|r,则NDS至少存在r个边界解.其中|NDS|表示NDS的规模,下面我们利用反证法给出定理1的证明.证明.设有r个优化目标f1(X),f2(X),…,fr(X)的非支配集NDS至多存在r-1个边界解.由|NDS|r可知非边界解存在,设为q.由边界解图32目标MOP边界解集例子图43目标MOP边界解集例子的定义可知,对任意r-1维目标集,总是存在超出q的边界解.又因存在r个r-1维目标集,那么至少存在一个边界解(设为p)在两个或两个以上r-1维目标集上超出q,由超出关系的定义可知p必在f1(X),f2(X),f3(X),…,fr(X)上超出q,即pq=r,与性质1矛盾.由定理1可知,当非支配集的规模等于目标维数时,非支配集中全为边界解.此外,对于两目标情况,非支配集中至多也只有2个边界解,这可由非支配集与边界解的定义得出,鉴于证明比较简单,证明略.下面我们给出一些非支配集的边界解集分布实例.图3为2目标实例,图3(a)为NSGA-II[14]在测试问题ZDT1[15]上得到的非支配集,图3(b)为其边界解集;图4为3目标实例,图4(a)为EPS-MOEA[35]在测试问题DTLZ1[36]上得到的非支配集,图4(b)为其边界解集;图5为4目标实例,图5(a)为SEPA2[23]在测试问题DTLZ2[36]上得到的非支配集在目标集f4(X)=0上的映射,图5(b)为其边界解集在目标集f4(X)=0上的映射.从这些图中可以看出,边界解集决定着非支配集的分布范围,这样只需为边界解集设计适当的测算方法,便可比较不同非支配集分布的广泛程度.Page7图54目标MOP边界解集例子不难发现,不同的边界解对分布范围的影响不尽相同.随着目标维数增大,边界解数目增多,这点体现得越明显.在此,我们给出边界解级数的概念:若边界解仅满足一个r-1维目标集,称之为一级边界解,若满足m个r-1维目标集,称之为m级边界解.例如图4中的上顶点,满足f1(X)=0和f2(X)=0目标集,即同时属于BS1和BS2,为二级边界解.级数不同的边界解集对分布范围的影响不同,边界解满足的目标集数目越多对解集分布范围的影响越大,那么是否存在满足所有r-1维目标集的边界解?定义10.完全边界解.设有r个优化目标f1(X),f2(X),…,fr(X)的非支配集NDS,对于p∈NDS,若边界解p的级数为r,即p∈BS1∩BS2∩…∩BSr-1∩BSr,则称p为非支配集NDS的完全边界解.显然,并不是所有非支配集都存在完全边界解,如上例中由个体a(1,2,3),b(3,2,1),c(3,1,2),d(2,2,2)组成的非支配集中就不存在完全边界解.这里我们给出一个具有完全边界解的非支配集实例,设个体a(1,1,3),b(3,1,1),c(1,3,1),d(2,2,2)为组成非支配集的4个个体.显然,在任何2维目标集上都不存在个体超出d,因此,d为该非支配集的完全边界解.实际上,不同维数的非支配集存在完全边界解数目也不尽相同,有以下的性质.性质3.2维非支配集不存在完全边界解.性质4.3维非支配集至多存在一个完全边性质5.3维以上非支配集可存在任意数目完性质3的证明可由非支配集的定义直接得出.界解.全边界解.下面我们给出性质4的证明.证明.假设p和q为一3维非支配集中两个完全边界解,由性质1有1pq2,1qp2.由于p∈BS1∩BS2∩BS3,则不存在两目标集F2(X),q在F2(X)上超出p,即qp<2,因而qp=1.同理可证pq=1.由性质2有3(pq)+(qp)4,矛盾.因而3维非支配集不存在2个完全边界解.证毕.对于性质5可构造两组2维非支配集NDS1,NDS2,其中合并NDS1,NDS2构造4维或4维以上非支配集NDS3=由X1,X2,…,Xn在f1与f2,g1与g2上互不支配可知,不存在个体在这两组2维目标集上有超出关系,由于任一(r-1)目标集都至少包含一组以上的2维目标集,因而有X1,X2,…,Xn∈BS1∩BS2∩…∩BSr-1∩BSr,个体X1,X2,…,Xn全为完全边界解.完全边界解是解的一种极端情况,大多数非支配集中并不一定存在完全边界解.然而非支配集中通常存在一些级数大于1的边界解,但若直接对边界解集分布范围进行评价,无法体现级数不同的解在分布范围影响上的不同.下面我们根据边界解的Page8定义对其进行评价,边界解级数越高对评价结果的影响越大.3.2评价算法评价解集分布广度具有比较大的困难,其中一个重要原因是空间中解集分布的范围很难测定,不同问题的解集有着不同形状的分布.在此,我们利用超立方体对不同形状的解集进行分布广度估计,算法具体实现如下.算法1.参数设置:NDS为非支配集,N为种群规模,r为目标维数,j为(r-1)维目标集记录数,j初始值为1.在fj(X)=0上的映射.上,记BSj为BSj在fj(X)=0上的映射.标上的坐标记为refji:1.映射NDS到目标集fj(X)=0上,记NDSj为NDS2.找出边界解集BSj,并将其映射到目标集fj(X)=03.对目标集fj(X)=0,找出参考点refj,refj在i目refji=miniNDS-maxiNDS-miniNDS其中i∈(1,…,j-1,j+1,…,r),maxiNDS与miniNDS分别表示NDS在i目标上的最大值与最小值.4.计算BSj与参考点refj围成的超体积(hypervolume):其中h(bji,refj)为以点bji,refj为对角围成的(r-1)维超立方体,|BSj|为边界解集BSj中的边界解数目,由边界解的定义和参考点的选取方法可知NDSj恒在此超立方体中.5.计算NDSj的质心c(w1,…,wj-1,wj+1,…,wr),即wi=∑k∈NDSj6.在目标集fj(X)=0中,评价结果为7.若j小于r,则j=j+1转步1.8.非支配集NDS的最终分布广度评价结果为图6解集分布广度评价示例算法1通过计算在低一维目标集中边界解集与参考点的超体积来估计非支配集分布的广泛程度,V值越大表明非支配集分布得越广泛.由于边界解评价次数与级数相对应,因而级数大的边界解将更多地影响着最终评价结果.在步4中我们用hyper-volume来估计边界解集分布广度.值得一提的是,最近研究者们提出了很多计算hypervolume的方法,已能较好地解决其高耗时的问题[32],如While等人的快速切分方法[37]、Bader等人的MonteCarlo模拟方法[38]以及Beume等人把hypervolume作为Klee’smeasure问题[39]来进行快速求解等等.在步3参考点的选择中,我们用超凌锥来模拟非支配集形状,然而由于非支配集通常为曲面分布,因此决定参考点的单位距离通常会略大于非支配集中邻近个体的平均距离,但正是这种“略远”的参考点将有利于hypervolume的正确评价.另外,容易发现hypervolume的计算结果受解集收敛性的影响,收敛性差的解集有着更大的hypervolume值.对此,我们引入了计算质心与参考点围成的超体积.由于同一非支配集中的个体通常拥有相同的收敛度,因而对拥有分布相同但收敛性不同的非支配集,由边界解集和参考点围成的超体积与由质心和参考点围成的超体积之比为基本恒定的值,这样就很好地避免了收敛性差异对分布广度评价结果造成的影响.图6为算法1的一个直观示例.图6(a)中的空心圆点为非支配集NDS,黑色圆点为NDS在f3(X)=0上的映射,即NDS3;图6(b)中的三角形为NDS3中的边界解集BS3,空心圆点为NDS3中的非边界解集,即NDS3-BS3,实心圆点为参考点ref3,五角星为NDS3的质心c.则它们在f1-f2平面上的评价结果为BS3和ref3围成的面积与c和ref3围成的面积之比.Page93.3实例分析下面通过一个简单例子来说明算法1的有效性.设有优化问题的Pareto最优面为f1+f2+f3=1(0f1,f2,f31),NDS={q1,q2,…,q11}={(0,0,1),(1,0,0),(0,1,0),(2/3,0,1/3),(1/3,0,2/3),(0.5,0.5,0),(0.1,0.4,0.5),(0.1,0.5,0.4),(0.27,0.27,0.46),(0.27,0.46,0.27),(0.46,0.27,0.27)}为优化该问题得到的一组非支配解集,其分布情况如图7所示.图8边界解超体积示例为了进一步解释算法1的有效性,我们对边界解集BS1,BS2,BS3的分布范围进行比较.由问题Pareto最优面f1+f2+f3=1可知,POF的边界解满足f1+f2=1∪f2+f3=1∪f3+f1=1.对照BS1,BS2,BS3可以发现,BS2,BS3中所有个体都属于POF的边界解集,而BS1中个体q7,q8并不属于POF的边界解集,因而BS1分布的广泛程度要逊于BS2,BS3,评价结果S1小于S2和S3.另外,对于所有个体都属于POF的边界解集BS2和BS3,BS2中的个体数目要多于BS3,评价结果S2大于S3.综上可得,边界解集分布越广泛,数目越多,算法1的评价值越大.值得一提的是,NDS中的极端解为q1,q2,q3,根据边界解集的定义找出边界解集BS1={q1,q3,q7,q8},BS2={q1,q2,q4,q5},BS3={q2,q3,q6}并映射到相应的低维空间,由算法1步3可知参考点ref1,ref2,ref3为ref1=(ref12,ref13)=(0-(1-0)/3-1槡11×2×1,同理得ref2=(-0.2132,-0.2132),ref3=(-0.2132,-0.2132).图8为BS1,BS2,BS3与对应的参考点围成的超体积,根据式(8)(在此用Thiele等的快速切分方法[30])计算得S1=0.7119,S2=0.8052,S3=0.7219.根据步5、6求出质心并分别计算NDS在目标集f1=0,f2=0,f3=0中S1,S2,S3与质心和参考点围成的超体积之比:V1=2.4008,V2=2.5807,V3=2.5146.由步8得NDS的最终分布广度评价结果为SI=3V1×V2×V槡3=3槡2.4008×2.5807×2.5146=2.4974.若用2.2.3节中的两种方法去评价NDS的分布广泛程度,将只考虑这3个解,显然这并不能完全反映整个NDS的分布范围.另外,容易发现极端解q1,q2,q3都为边界解,并且它们的级数为2,那么极端解与边界解两者之间是否存在一定的关系?下面对其进行简要讨论.3.4极端解与边界解的关系对边界解与极端解的关系,有以下性质.性质6.2维非支配集中极端解与边界解相同.性质7.3维或3维以上非支配集中,每维上至少存在一个为边界解的极端解,但不一定所有的极端解都是边界解.由于2维非支配集中不存在两个在某一维上相Page10等的解(重复解除外),因而性质6可由极端解与边界解的定义直接得出.对于性质7,根据极端解与边界解的定义可知在任意一维上的极端解至少存在一个是边界解,下面我们举例说明不一定所有的极端解都是边界解.NDS={X1,X2,…,Xn}T,设a>b>c,可构造维数大于2的非支配集NDS=显然,X1,X2,…,Xn互不支配,X1,X2,…,Xn-1为第一维目标上的极端解,但其中Xn-1并不属于边界解.4实验结果及分析为检验所提评价方法的有效性,本文选取了几个具有代表性分布的MOEA:NSGA-II[14],EPS-MOEA[35],PESA-II[40],SPEA2[23],分别在2,3和4目标上对8个测试函数进行实验.其中,KUR[1]为一相对简单的2目标测试函数,ZDT[15]是由Zitzler等提出的一系列2目标测试函数,DTLZ[36]是Deb等提出的一系列目标数可调的测试函数.这些多目图94种算法在ZDT1上的最终解集分布情况(圆点为测试函数POF的边界解集)标测试函数有连续的、非连续的、凸的、凹的等.实验中,4种算法均采用实数编码,交叉操作采用模拟二进制交叉算子[1],ηc=15,概率为0.9.变异操作采用多项式变异算子[1],ηm=20,概率为1/nreal,nreal为决策变量维数.二维测试函数的规模为100,评价次数为20000;三维测试函数的规模为200,评价次数为100000;四维测试函数的规模为300,评价次数为300000.EPS-MOEA中ε大小在不同测试函数上的设置如表1所示.PESA-II在二维函数下网格数为32×32,在三维函数下网格数为8×8×8,在四维函数下网格数为6×6×6×6.算法的运行代数为评价个体的数目除以种群规模.每个算法对各个测试函数独立运行50次,结果取平均值.测试函数KUR0.035ZDT10.0075ZDT20.0075DTLZ1DTLZ2DTLZ3DTLZ5DTLZ74.1分布广度测试下面我们对SI在评价解集分布广度上的有效性进行验证.我们选取ZDT1,DTLZ1,DTLZ2,DTLZ74个测试函数,表2为SI评价结果,图9~图12为对应的解集分布情况.Page11图104种算法在DTLZ1上的最终解集分布情况(三角形为测试函数POF的边界解集)图114种算法在DTLZ2上的最终解集分布情况Page12图124种算法在DTLZ7上的最终解集分布情况测试函数ZDT12.36605DTLZ13.69758DTLZ22.86384DTLZ72.78426ZDT1为一简单的二维测试函数,(0,1),(1,0)为其边界解集,从图9中可以看出NSGA-II与SPEA2解集分布广泛程度相似,非常接近真实Pareto面的边界解集;PESA-II与EPS-MOEA解集分布广泛程度要逊于前两种算法,其中PESA-II又要略优于EPS-MOEA,这与表2中分布广度评价结果一致.图10(a)~(d)为4种算法在DTLZ1上的解集分布情况,三角形边线为Pareto最优面的边界解集,图10(e)为SPEA2与EPS-MOEA分布结果比较图,容易看出SPEA2的解集拥有最广泛的分布范围,EPS-MOEA次之,NSGA-II与PESA-II相当,这与表2中的分布广度评价结果一致.图11、图12分别为DTLZ2、DTLZ7上的解集分布结果,容易看出SPEA2的解集拥有最广泛的分布范围,NSGA-II与PESA-II相似,EPS-MOEA逊于其它3种算法,这与表2中的分布广度评价结果一致.4.2收敛性影响测试为避免不同收敛性对解集分布广度评价的影响,我们引入了计算边界解集与质心的超体积之比.下面验证该方法的有效性,我们选取较难收敛函数DTLZ1与DTLZ3进行测试,我们对算法采用不同的变异概率以得到不同收敛度的解集,表3为分布广度评价结果.算法DTLZ1SPEA23.91694NSGA-II图13为算法SPEA2在变异概率分别为1/nreal,0.005下对DTLZ1的最终解集分布情况,容易看出除了收敛性不同外(变异概率为1/nreal的SPEA2收敛到f1+f2+f3=0.5平面;变异概率为0.005的SPEA2收敛到f1+f2+f3=1平面),两组解集拥有相似的分布情况;图14为算法NSGA-II在变异概率分别为1/nreal,0.005下对DTLZ3的最终Page13解集分布情况,与图13相似,除了收敛性不同外(变异概率为1/nreal的NSGA-II收敛到f23=1平面;变异概率为0.005的NSGA-II收敛到f2图13不同变异率SPEA2在DTLZ1上的最终解集分布情况图14不同变异率NSGA-II在DTLZ3上的最终解集分布情况2+f21+f2f2况.表3中相似的评价结果表明该方法能有效地消除收敛性对分布广度评价结果的影响.Page144.3与D方法的比较前面提到Zitzler等提出的D方法[15]是目前用得最为广泛的分布广度评价方法,下面我们通过函数DTLZ7的测试来说明两种评价方法的区别.表4为两种方法对DTLZ7的评价结果,可以看出对4种不同的MOEA,两种评价方法有着不同的结果.在SI中SPEA2拥有最优值,以下依次为NSGA-II,PESA-II,EPS-MOEA;D方法中最优值为NSGA-II,以下依次为SPEA2,EPS-MOEA,PESA-II.通过分析可以发现,产生这种结果的原因是两种方法评价解个体的不同,SI评价边界解集,D评价极端解集,而极端解集很难准确反映解集分布的广泛程度.图15~图17为4种算法在DLTZ7上的最终解集图154种算法在DTLZ7上的最终解集分布情况4.4MOEAs分布广度性能比较前面的实验已验证我们的方法在分布广度评价方面的有效性,下面通过所提方法来测试不同MOEAs在分布广度保持方面的性能,我们选取了2,3,4目标中一些有代表性的测试函数,表5为对其的评价结果.从表5中可以发现:4种经典MOEA:以及对应的边界解集和极端解集分布.从图15以及图12(e)中容易发现SPEA2解集的分布范围要明显好于NSGA-II.但由于NSGA-II极端解集的分布范围要好于SPEA2的极端解集,所以D评价方法中NSGA-II的值要优于SPEA2,然而极端解只是每个目标上拥有最大值的解,并不能代表整个解集的分布范围.表4两种广度评价方法在DTLZ7上的评价结果评价方法SI2.78426D3.71203NSGA-II、EPS-MOEA、PESA-II、SPEA2在保持解集分布广泛性方面有较大的差异,对最优边界为曲线的测试问题(2目标测试问题和DTLZ5),NSGA-II与SPEA2性能相当,要好于其它两种算法;对最优边界为曲面的测试问题(3目标以上问题除去DTLZ5),SPEA2始终拥有最广的分布范围.Page15图164种算法在DTLZ7上的边界解集分布图174种算法在DTLZ7上的极端解集分布Page16测试函数KUR3.39921ZDT12.36605ZDT21.70663DTLZ1(3-obj)3.69758DTLZ2(3-obj)2.86384DTLZ3(3-obj)2.86679DTLZ5(3-obj)2.03965DTLZ7(3-obj)2.78426DTLZ2(4-obj)5.97271DTLZ5(4-obj)5.53985DTLZ7(4-obj)4.50869另外需要指出的是,过去通常认为由于ε特有的个体淘汰机制,EPS-MOEA在保持解集分布广泛性方面要逊于其它算法[35],但通过以上的测试我们发现EPS-MOEA在测试函数DTLZ1上有较好的分布范围,明显好于NSGA-II和PESA-II两种算法,这可能是因为ε支配的特性更适应线性超平面问题的优化.5结束语解集分布广泛性评价是多目标进化算法性能评价的一个重要组成部分,本文对此进行了比较深入的研究,主要工作可以被概括为以下3个方面:(1)通过对非支配集分布范围的深入分析,引入了边界解的概念,它是影响分布广度的一项重要内容,同时对边界解和边界解集的性质和特点进行了详细的分析.(2)提出了一种在未知Pareto最优面情况下评价解集分布广度的方法.根据边界解级数区分不同边界解对分布范围的影响,利用边界解集与质心的超体积的比较值评估非支配集的分布广度.(3)分析了现有方法仅考虑极端解集的不足之处,进一步地讨论了极端解集与边界解集之间的关系.选取目前流行的4个MOEAs:NSGA-II、EPS-MOEA、PESA-II和SPEA2,对8个测试函数在2、3和4维目标空间下进行了实验,通过分布广泛性测试、收敛性影响测试以及与D评价方法的比较3个方面的实验,验证了所提方法SI的有效性.此外,用SI对4个MOEAs进行了比较测试,给出了这些MOEAs在保持解集分布广度能力方面的一些新的结果.最后,需要说明的是,由于SI引入质心消除收敛性的影响,因此在评价质心相对位置差异较大的非均匀问题的分布广度时可能会存在偏差.如何准确地评价非均匀问题的分布广泛性是我们下一步需要解决的问题.另外,本文的评价指标是基于Hypervolume的,它也具有所有基于Hypervolume的评价方法的共同缺点:(1)参考点敏感性;(2)较高的时间复杂度.我们将来的研究重点是,设计其它的能有效估计边界解集分布范围的评价方法,如利用信息熵来估计边界解集的分布.
