Page1车载自组网移动模型综述魏达1),2)王沿锡1),2)王健1),2),3)刘衍珩1),2)邓伟文3)1)(吉林大学计算机科学与技术学院长春130012)2)(吉林大学符号计算与知识工程教育部重点实验室长春130012)3)(吉林大学汽车仿真与控制国家重点实验室长春130012)摘要车载自组网已经在学术界和工业界受到广泛重视,新型应用和协议在实际工况条件下的测试需要很多人力和物力,并且不易控制,因此通常采用软件模拟方式进行实验验证.准确的移动模型是提高车载自组网模拟结果置信度的关键技术之一.文中从对交通特征的刻画粒度、移动模型的依赖与限制条件和移动模型的建立方法3个方面对已有的移动模型进行综合分析,提出若干面向宏观行为的统计特征量,并选取典型移动模型对其设计原理、微观特征和宏观特征等进行详细对比分析.微观方面,分析了各移动模型车辆的单次移动时间、单次移动距离、单次暂停时间和单次连接时间等特征量,结果发现不同模型在上述特征量的补累积分布下具有相似特征,而对应特征量的概率分布则具有一定差别.宏观方面,分析了各移动模型单个车辆的平均速度、总移动距离、总移动时间、平均邻居数量和平均加速度等特征量,结果表明不同模型在上述特征量的补累积分布下也体现出近似的相变行为,但各自的相变点不同,各模型对应特征量的概率分布具有明显的泊松分布特征,但均值差异较大.另外,也分析了各移动模型所有车辆的瞬时平均速度、瞬时移动距离、瞬时移动车辆数目、瞬时平均邻居节点数和瞬时平均加速度等特征量,结果表明各移动模型瞬时特性曲线的抖动强度和抖动趋势均不同,各模型特征量的平均值对车辆数量变化的敏感度也不尽相同.关键词车载自组网;移动模型;交通模拟;性能分析1引言车载自组网(VehicularAd-hocNetworks,VANET)作为一种特殊的移动自组网,对智能车辆和智能交通的发展具有重要意义.VANET是由具有中、短距离无线通信能力的车辆组成的分布式、自组织网络,具有节点移动速度快、移动模式受道路制约等特点,使得以往的各类协议不再适用,需要重新设计大量适用于VANET的应用和网络协议,并对其进行性能和可靠性测试.由于实地测试面临不易控制、危险性大、不可再现等缺点和困难,对于新应用和新协议的验证主要通过模拟仿真技术完成.由于模拟VANET场景要准确地分析无线信号的传输,需要确切地知道移动节点的地理位置,同时车辆的移动模式直接关系到拓扑结构的变化,影响整个网络的吞吐量、传输延迟、路由有效性等指标的测量[1].因此,研究符合实际车辆宏观和微观运动特征的移动模型至关重要.早期的移动模型主要是简单的随机移动模型,例如随机步行移动模型(RandomWalkMobilityModel)①、随机路点移动模型(RandomWaypointMobilityModel)[2]、随机方向移动模型(RandomDirectionMobilityModel)[3]等.但车辆的移动并非随机,受各种条件(如道路)和因素(如周围车辆)的影响,因此随机移动模型无法真实地刻画车辆的移动特征[4].Tian等人[5]提出了基于图的移动模型(Graph-BasedMobilityModel,GBMM),引入了地理空间的限制,但是GBMM模型节点在进行一次移动前,随机产生一个速度,车辆速度瞬间从0m/s阶跃到该速度,且从起始位置至目标位置的过程中保持该速度不变,这与车辆的实际移动情况不符.Bettstetter等人[6]提出了平滑移动模型(SmoothMobilityModel,SMM),利用移动节点当前时刻的速度和方向计算节点下一时刻的速度和方向,且速度和方向平滑改变,避免了速度突变和急速转弯的问题,不过SMM没有考虑周围车辆对当前车辆的影响.Seskar等人[7]提出了车流交通模型(FluidTrafficModel,FTM),给出了车辆速度与车流密度之间的关系,即当车流密度增加时,车辆速度会相应地减慢.Trieber等人[8]提出智能驾驶员模型(Intel-ligentDriverModel,IDM),将相邻车辆行为进行关联,建立车辆跟随模型.VanetMobiSim②优化了IDM模型,引入了对十字路口和多车道的控制,设计了具有十字路口管理的移动模型(IntelligentDriv-ingModelwithIntersectionManagement,IDM_IM)和可切换车道的移动模型(IntelligentDrivingModelwithLaneChange,IDM_LC).目前,已有一些关于移动模型的综述研究[9-20],但并没有从宏观和微观两个角度,对交通特征的刻画粒度、移动模型的依赖与限制条件和移动模型的①②Page3建立方法3个方面对移动模型进行详细对比分析.本文给出了3种移动模型的分类方法,详细分析了GBMM、SMM、FTM、IDM、IDM_IM和IDM_LC6种移动模型的设计原理和轨迹特征.通过基于VanetMobiSim的大量模拟实验和移动轨迹的离线分析,从微观角度分析了车辆单次移动、单次暂停、单次连接保持时间等移动特征,这些特征反映了车辆的移动空间关系和车辆间的时间关系,会对设计应用服务和网络通信协议的发包模式、容错性和协议格式等方面造成影响,也会对新应用和新协议的测试结果带来影响,例如链路连接时间较长的移动模型具有的路由稳定性较高,应用可以在较长的时间内保持通信,有效吞吐量也会得到提升;从宏观角度分析了车辆平均速度、平均加速度、平均邻居节点数等移动特征,这些特征反映了车辆的移动时间关系和车辆间的空间关系、车辆移动的快慢关系到拓扑变化的频率,对路由协议的有效性测试很关键.邻居车辆数目关系到消息(如告警)能否及时路由至全网,也与信道碰撞概率的计算密切相关.移动模型能够刻画车辆的移动轨迹,也能够反映车辆间的时空关系,不同移动模型产生的上述宏观和微观统计量也不尽相同,本文对各移动模型在同一移动特征方面体现的差异进行了详细分析,揭示了导致这些差异的原因.本文第2节给出移动模型的分类方法;第3节详细分析几种典型移动模型的设计原理,并对比分析各移动模型的宏观和微观特征;第4节为实验和讨论;第5节给出移动模型目前的研究热点;最后为结论和展望.2移动模型分类2.1交通特征的刻画粒度根据对车流刻画的粒度不同,可以将移动模型分为宏观、微观和宏-微观移动模型[1,21-22].宏观模型将车流视作连续流体,采用流体力学的分析方法,刻画车流的稳定状态,忽略车辆的细节行为.微观模型以单车为研究对象,追求尽可能逼真地刻画驾驶员行为,例如:加速、减速、转弯、换道、交通灯控制等,力争让单一车辆体现真实车辆的移动行为.一个符合实际情况的车辆移动模型必须同时考虑宏观和微观特性[23],例如在宏观角度,车辆的移动约束为街道和建筑物,在微观角度则是周围的车辆和行人等.另外,移动模型需要生成车辆密度、车速和车流等宏观特性,也需要从微观角度上考察车辆间距、加速度、刹车、超车等微观特性.一个设计合理的移动模型,需要将宏观特性和微观特性相互结合,以便产生的移动轨迹符合实际的车辆移动情况.2.2移动模型的依赖和限制条件根据移动模型在模拟过程中依赖和限制条件的不同,可以将移动模型分为5类[24]:随机移动模型,模型没有任何依赖和限制条件;时间依赖模型,节点当前时刻的移动受到以往移动的影响;空间依赖模型,移动受到周围节点的影响;地理限制模型,移动位置受到地图的限制;混合移动模型,将时间依赖、空间依赖和地理限制相组合的模型.符合实际情况的移动模型须受到地理条件的限制.SMM符合时间依赖条件,FTM符合空间依赖条件,IDM、IDM_IM和IDM_LC是满足上述各种依赖条件和约束限制的模型.2.3移动模型的建立方法Hrri等人[24]根据移动模型建立方法的不同,将移动模型划分为合成移动模型、基于轨迹的移动模型、基于调查的移动模型和基于交通仿真器的移动模型.合成移动模型根据节点以前的位置等参数,按照某种规则,实时地计算节点当前时刻的位置.合成模型又分为随机模型、交通流模型、车辆跟随模型、队列模型和行为模型.随机模型是指车辆在表示道路拓扑图上选择随机路径和速度进行移动.交通流模型是指将交通流近似为连续流体,将整个车流视为一个整体.车辆跟随模型中每个车辆的行为依赖于其前面车辆的行为.队列模型是将道路视为一个先进先出的队列,而车辆作为队列中的基本元素.行为模型中每个车辆的行为依赖于行为准则.例如Hsu等人[25]提出的权重路点移动模型和Musolesi等人[26]提出的基于社会关系的移动模型就属于这类模型.基于轨迹的移动模型对移动节点的多条实际运动轨迹进行跟踪测量,并将数据保存成轨迹文件,然后在仿真过程中进行回放.CrawDaD①、UMASS-DieselNet②、MITRealityMining③、USCMobiLib④、Cabspotting⑤等都对移动轨迹进行了采集,文献[27-32]都属于基于移动轨迹的模型.①②③④⑤Page4基于调查的移动模型通过对如工作时间、休息时间和午饭时间期间的车辆和行人的速度、运动距离等数据的调查统计,将分析数据应用于移动模型,使其更加真实地反映实际的交通状况.例如UDel移动模型①和Zheng等人[33]提出的基于日程表的移动模型就属于这种移动模型.基于交通仿真工具的移动模型通过修改合成移动模型,并利用真实的移动轨迹或者行为调查严格地验证移动模型,以保证其产生的移动轨迹符合实际情况,从而开发交通仿真器.例如:PARAMICS②、CORSIM③、VISSIM④、TRANSIMS⑤和SUMO⑥都是由这种方式产生的.3移动模型分析3.1GBMMGBMM运用图对车辆的移动进行限制,图中顶点代表用户可能访问的位置,边代表两个位置的连接,如道路.假设图是连通图,即任意两个顶点之间都存在一条通路.每个移动节点初始时随机选择图中一个顶点Vs作为初始位置,然后随机选择另一个顶点Vd作为目标位置,同时随机地选择一个速度v,v∈[vmin,vmax],沿着最短路径由Vs向Vd移动,到达Vd后,暂停一个随机时间Δt,Δt∈[Δtmin,Δtmax],然后重新选择一个新的顶点作为目标,开始下一轮的移动.图1给出GBMM的车辆移动示例.模拟开始时,小车随机选择节点A作为初始位置,然后随机选择节点C作为目标位置,选择v作为速度,并以速度v从点A经点B移动到点C.随后,小车暂停一个随机时间Δt后,以点C作为起始位置,再随机选择一个新的目标位置及新的速度,继续移动.3.2SMMSMM中移动节点当前速度和方向参与目标速度和方向的计算,以便节点的移动更符合实际情况.通过引入加速度使得节点速度平滑地改变,相应方向的改变在几个模拟时间内完成以保证方向改变的平滑性,解决了速度突变和急转弯问题.模拟过程中移动节点在模拟区域中随机地选择一个位置作为目标位置,每个移动节点都有3个动态的速度参数v(t),a(t),v(t),其中v(t)代表节点当前的移动速度,a(t)代表节点当前的加速度,v(t)代表节点期望达到的目标速度.图2给出了GBMM和SMM的车辆速度变化,可以看出,GBMM的速度是突变的,而SMM在节点速度发生改变时,会选择相应的加速度,使得节点速度缓慢地由当前速度向目标速度变迁.每个节点还有3个静态的速度参数,最大速度vmax,偏好速度集合vspeeds,最大加速度/最大减速度amax,其中vmax是节点能达到的最大速度或者模拟场景限制的最大速度,偏好速度集合vspeeds表明节点在随机选取移动速度时,可以不在[0,vmax]之间均匀分布,在每次速度改变时,会以较大的概率选择vspeeds中的速度作为目标速度.图3给出SMM设置vspeeds后的速度概率函数,可以看出,不设置vspeeds时,目标速度在速度范围内均匀分布,设置偏好速度为vpref=10m/s,则节点在整个模拟过程中的移动速度等于目标速度vpref的概率P恰好符合相应设置的概率p.节点速度改变规则:初始时使用特定的速度分布p(v)为每个节点分配一个初始速度v(t=0),通过使用该分布,保证偏好速度以较高的概率被选取.利用泊松分布模拟速度改变的频率,离散地选取标准①②③④⑤⑥Page5图3SMM设置偏好速度集合的速度概率函数时间t/Δt作为一个时间点,每个时间点速度发生改变的概率为pv(pv1).速度变化发生的平均时间间隔为μv=Δt此时的目标速度为v=v(t),加速度为a(t)≠0.随后,速度逐渐地增加或减少,在每个模拟时间点,新的速度v(t)=v(t-Δt)+a(t)Δt,直到v(t)达到v(t)为止.节点达到目标速度所需要的时间为Δtspeed=v(t)-v(t)改变没有完成之前,即[t,t+Δtspeed]这段时间里,没有其它的速度改变发生.到达目标速度后,加速度变为0,节点保持匀速运动,直到下一次速度发生改变.节点方向改变规则:每个节点通过均匀分布选择一个初始方向φ(t=0),节点最初做直线运动直到方向改变发生.每个时间点方向发生改变的概率为pφ,且pφ远远小于1.在连续时间里,车辆发生两次方向改变的间隔时间服从指数分布,其平均间隔时间为μφ=Δt通过式(1)选择目标方向φ,并为节点分配转向标识(左转或右转).Δφ(t)=φ(t)-φ(t)+2π,-2π<φ(t)-φ(t)<-π烄φ(t)-φ(t),-π<φ(t)-φ(t)<π烅φ(t)-φ(t)-2π,π<φ(t)-φ(t)<2烆其中Δφ(t)代表目标速度和当前速度的差值.转弯时节点以v(t)匀速移动,则产生的弧线半径为rc=v(t)Δtc|Δφ(t)|.若速度较低则rc较小,反之亦然.注意:(1)Δφ(t)在-π和π之间是均匀分布的;(2)节点方向的改变不是在一个时间点瞬间完成的,而是在几个时间点内平滑完成的,这段时间可用Δtc表示,在每个时间点节点当前的方向为φ(t)=φ(t-Δt)+Δφ(t),直到节点方向达到目标方向,或者新的方向改变发生.车辆的暂停通常会伴有方向的改变,通过将偏好速度vpref=0设置为较高的概率,以达到模拟车辆停止的效果,当节点暂停时,选择一个目标方向φ,通过式(2)确定Δφ.与式(1)相比,式(2)可以保证节点以较大的概率发生转弯事件.假设在时间t时,节点发生方向改变,选择一个目标方向φ和方向改变时间Δtc.通过转弯半径rc定义一个最大转弯速度vc,max可以控制转弯速度vc=μsgr槡c.这里g=9.81m/s2,μs是摩擦系数.若当前速度v(t)>vc,max则令加速度为负值,若在此过程中没有速度改变发生,则直到速度减为v(t)=vc,max,并以该速度匀速前进,同时匀速转弯.3.3FTM将道路拓扑视为任意方向的街道并任意连接而组成的网络图.两个拐角之间的街道定义为“块(block)”.FTM模型属于宏观移动模型,将一个“块”上的一组车辆视为一个单元,该单元的车辆共享一组参数:速度v、车流密度k和车流体积q=kv.直观上讲,当街道上的车辆密度增加时,街道变得拥挤,相应地,车辆速度会降低.将车流视为典型的流体后,车辆的速度和车辆密度的关系为这里c为非负常量,n为移动模型参数,可得v=这里kjam是在v=0时的车辆密度,即阻塞密度.k=0时v0=ck(n+1)/2代入q=kv中得到车流体积q:q=其中,n取不同值时对应不同的宏观移动模型,当n=1时,为Greenshield模型或线性模型;当n=-1时,为Greenberg模型;当n∈[-1/2,1/2]时,为Page6Drew模型.通过在不同的密度下使用上述不同的模型组合可以得到多机制模型.而对于单机制模型,v0=vmin(车辆自由行使速度或街道限速),使用Greenshield模型,可以在相对密度较小的情况下良好地描述速度和车流密度之间的关系.在实验模拟中,也允许使用其它的非线性模型.Greenshield模型中速度为实验模拟是通过不断地迭代更新车辆密度实现,假设街道是单行道,车辆可以从街道1~街道4驶入街道A,则街道A上车辆的速度与街道1~街道4上车辆的密度有关,街道A上车辆的密度为其中,N代表车辆可以进入街道A的数量;j代表模拟时间点;Δk是由于车辆的驶入和离开而引起的街道密度变化;f是线性方程:pi是车辆从街道i驶入街道A的概率.车辆密度与车流关系如下:这里li为街道的长度,Δt代表一个模拟时间点,则街道A上车辆速度为A=min(v(kA,C,vA,0,k(j)v(j)i=1,2,…,M))其中,M是车流可以驶入街道A的街道数量(包括U转弯);v(kA,C,vA,0,kA)是式(5)当kC=kA,C,v0=vA,0时的速度值.使用式(7)更新密度,使用式(10)更新速度.kjam是FTM中的一个重要参数,表示交通阻塞情况下的车辆密度(1m内的平均车辆数).图4为图4FTM中节点平均速度与kjam的关系曲线FTM中所有节点在整个模拟过程中的平均速度与阻塞密度kjam的关系曲线,va表示车辆平均速度.随着kjam的增加,车辆的平均速度也增加,这与实际情况相符.3.4IDMIDM模型是连续确定性模型,属于尾随模型,当前车辆的速度与前车的速度相关.假设车辆α长度为lα,则该车辆在位置xα(t)处的加速度与如下因素有关:该车速度vα(t)、与前车的距离sα(t)=[xα-1(t)-xα(t)-lα]以及与前车的速度差Δvα(t)=[vα(t)-vα-1(t)].当前车辆α的瞬时加速度为其中,aα是车辆α的最大加速度;vα是当前的速度,vα是目标速度;s(vα,Δvα)是与前车的理想距离;sα=dα-lα-1表示当前车辆与前车的实际距离.式(11)是车辆加速倾向aα1-vα/v()α[向fα(α-1)=-aα[s(vα,Δvα)/sα]2的叠加.当车辆为首车时sα→,则减速倾向fα(α-1)→,车速只受加速倾向控制.δ用于调整加速行为,当δ→时,即车辆保持恒定的加速度aα直到速度到达vα,通常控制δ∈[1,5].s(vα,Δvα)可由下式得到s(vα,Δvα)=sα+sαvαv槡α+vαT+vαΔvα式(12)是关于车辆α速度vα和车辆α与其前车的速度差Δvα的函数,其中s和s是车辆阻塞距离,T是安全间隔时间,αα和bα是最大加速度和减速度,令s=0简化上式,仍然可以得到较好的模拟结果,简化后为其中s0为车辆的阻塞距离.当dvα/dt=0且Δvα=0时,车辆保持匀速运动,且与前车保持稳定的距离se(v)=s(v,0)[1-(v/v0)δ]-1/2.图5为阻塞距离s0分别为1、5、10和15时,15辆车随时间变化的速度曲线.由图5可以明显地看出IDM模型的尾随性,且在阻塞距离增加时,车辆会等待前车跑出较远的距离后才开始行驶,且保持与前车的距离不超过该阻塞距离,因此速度曲线的间隔距离较大.图6为节点在1000s时FTM、GBMM、SMM和IDM中50个节点速度和位置分布图,街道场景Page7为一条由(0,0)到(0,1500)的直线,其中p为车辆在街道上的位置即为车辆当前位置的y坐标.可以看出,FTM中节点拥有相同的速度,且位置十分集中,而GBMM和SMM中每个节点都拥有自己的速图5IDM车辆随时间变化的速度曲线图6GBMM、SMM、FTM和IDM节点速度和位置分布图度,且位置相对分散,其中SMM模型由于速度改变平滑,因此速度分布和位置分布更加分散.IDM模型为尾随模型,节点速度会与其距离较近的前方车辆的速度相近甚至相同.Page83.5IDM_IMIDM_IM在IDM的基础上增加了对车辆在十字路口的管理:在路口设置停止标志和在三岔路口设置交通灯.由于IDM属于尾随模型,仅控制车队中的首车即可对整个车队进行控制.如果当前车辆发现在自身与停止标志控制的路口之间没有其它车辆时,该车则为首车,即其中,σ是当前车辆与路口的距离;S是车辆与路口的安全距离.(1)当车辆停止在停止标识前时,被告知有多少辆车在对面等待穿过十字路口.如果没有其它车辆,该车则通过十字路口,否则将遵守先到先通过和右转弯规则,等待通过时机;(2)当车辆驶向有交通灯的路口时,被告知当前交通灯的状态,如果是绿色,车辆保持当前速度继续向前行驶.如果是红灯,则减速停止.当交通灯动态变化时,车辆行为也会随之改变.若当前交通灯为红灯,且车辆正减速准备停车,此时交通灯变为绿灯,则车辆会重新加速驶过;若当前交通灯为绿灯,且车辆正匀速行驶准备通过路口,此时交通灯变为红灯,则通过下式计算最小刹车距离.其中,s-表示当前车辆完全停止所需要的距离;v是当前车辆的速度;t是时间;b为最大安全减速度,k1;如果s->σ-S,即当前车辆无法在路口前安全停止,车辆忽略红灯,保持当前的速度穿过路口.如果s-<σ-S时,若s-远远大于σ-S,车辆不需要马上减速,可以仍然保持当前的速度行驶,甚至加速行驶,当计算出s-与σ-S接近时车辆才开始减速.图7和图8分别为车辆在交通灯控制下的速度变化曲线和车辆与交通灯间距变化曲线.设置交通灯红绿交替间隔为30s,在30s时交通灯变为红灯,但此时车辆与交通灯的距离约为500m,大于最小刹车距离,因此车辆有一段短暂的加速过程,随后车辆速度逐渐下降,60s时车辆接近路口,速度并未降为0,此刻交通灯变为绿灯,因此车辆重新加速通过路口.如果交通灯变为红灯时,车辆与交通灯的距离小于最小刹车距离,车辆无法在路口停止,则保持当前速度驶过路口.图9和图10则给出这种情况下车辆的速度变化曲线和与交通灯路口间距的变化曲线.图9和图10是车辆处于速度平稳的行驶状态,在1690s~1709s期间,交通灯为红灯,但此时车辆速度较小,车辆与路口间距远远大于最小刹车距离,此时车辆不需要减速.在1710s时,交通灯变为绿灯,车辆仍保持当前速度行驶,在1740s时,交通灯变为红灯,此时车辆距离路口非常短(约为9m左右),该距离小于最小刹车距离,车辆无法在路口停止,因此仍保持原速度驶过路口.图7IDM_IM红绿灯控制下的速度变化曲线图9IDM_IM车辆到达路口前突变红灯车辆速度曲线图10IDM_IM车辆到达路口前突变红灯车辆与交通灯距离曲线3.6IDM_LCIDM_LC在IDM的基础上通过将同一条道路Page9上不同车道的车流分开管理以及超车模型的引入,增加了对车辆变换车道和超车的控制.由于不同的道路上车道的数量可能不同,车辆经过路口时需要遵循如下规则:(1)如果当前车辆所在的车道在下一条道路上仍然存在,则车辆经过路口进入下一条道路后,仍选择在该车道行驶;(2)若当前车辆所在的车道在下一条道路上不存在,则经过路口后试图并入其右侧的车流,若由于右侧车道过于拥挤而无法并入,则该车辆在路口前停止等待并入的时机.IDM_LC使用MOBIL模型[34]控制车辆的超车行为,如果变道能够最小化全局范围内的车辆刹车数,则该模型允许车辆改变车道.当以下不等式成立时,则满足上述条件:al-a±abias>pacur-alcur+anew-alnew+athr,图11车辆随时间变化位置曲线和所在车道示意图如果第1个不等式成立,模型允许车辆移动到车道l.即从加速度方面考虑,al-a为当前车辆移动到车道l后的加速度增量,acur-alcur为当前车道尾随车辆加速度的损失,anew-alnew为候选车道车辆加速度的损失,p为礼貌参数,当p趋近于1时,当前车辆司机行为较为礼貌,当p趋近于0时,当前车辆司机行为比较鲁莽.athr表示允许车道改变的最小加速度增益阈值,其取值必须小于最大加速度a.abias用于调整模型中偏好的移动行为,在IDM_LC中车辆向右变换车道时将加上abias,而向左变换车道时则减去abias,这样便于与现实中车辆右侧通行的行为相符合.第2个不等式表示在车辆变换到l车道以后,l车道上后面的车辆不需要明显的刹车行为,即减速度必须大于安全值asafe.图11为6个节点在0~200s的模拟过程中在Page10街道上的位置和所处车道的示意图,po表示车辆位置,l表示车道.6个节点编号为0~5,道路场景为一条由(0,0)到(0,1500)的直线,车辆在街道上的位置即为车辆当前位置的y坐标,道路有4个车道,编号为1~4.初始时,节点0、3、5在1车道,节点1在2车道,节点2在3车道,节点4在4车道,此时,由于各个车道上都有车辆,且位置都在(0,0)附近,变换车道以后加速度并无加速度增量,因此虽然节点0、3、5在同一车道上,但并不满足式(16)的条件,因此并不改变车道.8s时,节点5满足式(16)的条件由车道1转换到车道2,在节点1的后面.同理,其它节点在变换到左/右车道前都需计算,只有满足式(16)时才允许变换车道,若节点变换到左边车道和右边车道均满足式(16),则节点优先选择能使加速度增益最大的车道.3.7移动特性对比表1给出各移动模型的宏观和微观移动特性.GBMM××√×××SMM××√×√√FTM××√√××IDM√×√√√√IDM_IM√×√√√√IDM_LC√√√√√√根据车辆速度的生成方式不同,上述移动模型可以分为4类:(1)车速是确定的,即车速由随机函数生成,与其它因素无关;(2)车速具有时间依赖性,即车辆当前时刻车速受前一时刻车速影响;(3)车速与周围车辆的行为有关;(4)车速与周围车辆行为有关,且受其它因素影响,如交通灯控制等.GBMM属于第1类模型,该模型中车辆的速度与时间因素和其它车辆无关.SMM模型属于第2类模型,该模型中车辆速度与前一时刻车速有关,受到时间因素影响.上述两个模型中车辆的移动是随机的,车辆选择一个目的地后通过最短路径算法向目的地移动,在移动过程中忽略其它车辆,因此可能产生重叠的现象,这类模型可以用来模拟单独的车辆移动,而无法模拟集群的车辆移动.FTM和IDM属于第3类模型,当车辆计算各自的速度时需考虑周围车辆的因素.IDM_IM和IDM_LC则属于第4种微观移动模型.虽然IDM和IDM_IM支持多车道,但是车辆只有在进入下一个道路时,且当前车道消失的情况下才会发生车道变更,因此也可认为不支持车道变换.原始的SMM中,车辆的移动不受地理条件的限制,但是考虑到实际情况,VanetMobiSim平台实现的SMM中车辆均沿着道路行驶,此时不需要再考虑SMM中有关方向的控制.4模拟实验4.1实验环境实验环境为DELLLATITUDEE6400,InterCorei3M3802.53GHz909MHz,4GB内存.模拟环境基于VanetMobiSim.图12给出了使用的道路地图,为一个1500×1500的九格形状道路图,每条道路有4个车道,中间宽十字道路限速20m/s,窄十字道路限速12m/s,周围道路限速16m/s.在T型路口和十字路口分别设置了交通灯(a~l),交通灯红绿灯轮换时间为30s,交通灯轮换规则为:(1)对于每个路口,两个相对的道路为一组,若当前道路在该路口处没有相对的道路,则其自己为一组;(2)每个时刻只有一组道路可以通行即绿灯,不同组道路按照指定时间(交通灯轮换时间)轮换为可通行状态;(3)车辆仅受其行驶方向的交通灯控制.地图中设置了活动点(A~J),车辆可以随机地在活动点中选择初始位置,并选择一个目标活动点,车辆通过选择一个较为合理的路径移动到目标活动点,暂停一个随机时间,本实验设置的暂停时间在[0,60]s之间.实验中每个模型分别用50、100、200和500辆车进行模拟,模拟时间为4500s,取900s之后状态稳定的3600s轨迹文件作为模拟结果进行离线分析,考察上述6种模型的宏观和微观特性.针对每种模型的实验分别进行10次,统计结果为10次模拟结果的平均值.Page114.2参数设置表2给出各个模型的实验参数设置.minspeed和maxspeed表示允许的车辆最小和最大行驶速度,与道路限速一起限制车辆的实际速度;minstay和maxstay表示GBMM中车辆移动到目标位置以后停止的最小和最大时间,由于其它模型按照活动点规则行驶,只需要在活动点设置相应的暂停时间范围即可.minacc和maxacc表示SMM中车辆最大减速度和最大加速度值,Speed_change_interval表示SMM中车辆速度改变的时间间隔.kjam是FTM中的拥挤参数,表示在拥塞状态下平均1m内的车辆数,step表示重新计算模型中各参数的时间间隔.s0表示在拥塞情况下两个邻近车辆的最小距离,T为安全时间,a是最大加速度限制,b是减速度限制.参数Ignore_borders为true,表示在VanetMobiSim模拟过程中忽略地图边界的交通灯对于车辆的影响,即认为不在地图边界位置设置交通灯,由于VanetMobiSim中交通灯位置是随机放置的,由于实验需要,本文修改了源代码,只在图11指示位置设置交通灯.p是IDM_LC中的礼貌参数,athr表示变道最小加速度增益阈值.模型GBMMminspeed3m/sminstaySMMFTMminspeed3m/skjamIDMIDM_IMIDM_LC4.3微观移动特性本节对车辆的单次移动时间、单次移动距离、单次暂停时间和单次连接时间等4个方面进行详细分析,给出6个模型在上述微观移动特性下的补累积分布以及对应的概率分布.图13中上图为四车道情况下每个模型中车辆单次移动时间大于0s、50s、100s…的移动次数的统计,下图是单次移动时间在相应时间范围内的移动次数的概率分布.当x坐标为0时,纵坐标为各个模型的移动总次数,可以看出,移动总次数与车辆节点数成正比例,但FTM模型例外.在车辆数为50、100、200的情况下,FTM中车辆的移动次数均比其它模型多,这是由于FTM模型在车辆密度较小的情况下车速较大,因此能够以较少的时间行驶至目的地.从概率分布图可以看出,FTM中车辆单次移动时间以非常大的概率集中在0到100s之间.在500辆车的情况下,FTM中车辆速度受车辆密度的影响而降低,在移动距离不变的情况下,单次移动的时间增加.IDM为尾随模型,若车队中第一辆车暂停,则后面的车辆即使没有到达目标活动点,仍然会尾随首车暂停,因此IDM中车辆单次移动时间也以相对较大的概率集中在0到100s之间,而随着车辆数目的增加,街道上车队数量增加,车辆速度下降,当前面的车辆暂停时,后面的车队仍以较慢的速度行驶,因此车辆数目增加时,车辆的移动次数反而同比例下降,而车辆单次移动时间也相应有所增加.IDM_IM和IDM_LC中车辆经常会因交通灯影响而在路口处停车,因此移动次数会相对比较多,其中IDM_LC模型由于可以变换车道而使得自己的移动速度相对IDM_IM较高,可以在较短的时间内到达目标,并进行下一次移动,因此IDM_LC比IDM_IM的移动次数多.图14为一车道情况下每个模型中车辆单次移动时间大于0s、50s、100s…的移动次数的统计.可以看出在车辆数目为50、100、200时,曲线情况与四车道情况基本相同,而在车辆数目为500时,IDM_IM和IDM_LC模型在单车道情况下,车辆速度减慢较多,因此车辆单次移动时间延长,与四车道情况相比车辆移动次数减少.由于IDM_IM和IDM_LC两个模型在单车道情况下为同一模型,从图中可以看出其特性曲线基本一致,因此后续实验主要考虑四车道情况.图15上图为每个模型中车辆单次行驶距离大于0m、50m、100m…的移动次数(nmove),下图为车辆行驶距离在相应范围内的移动次数的概率分布.可以看出,随着车辆数量的增加,各模型移动概率分布基本保持不变,行驶距离概率分布与车辆在地图中的停车点有关系,实验中的停车点只考虑A~J和a~l点,不考虑在其它位置随机停车的情况,将A~J和a~l点统称为停车属性点.根据停车情况Page12图13四车道单次行驶时间分析图14单车道单次行驶时间分析Page13图15单次移动距离分析不同可以将上述6个模型大致分为3类:(1)只在活动点(A~J)处停车,每次移动从源活动点移动到目标活动点,中间不停车.SMM、FTM和IDM属于此类情况;(2)在停车属性点(A~J和a~l)处停车,每次移动从源属性点移动到目标属性点,中间不停车.GBMM属于该类型;(3)在停车属性点处停车,且每次移动从源活动点移动到目标活动点,中间经过路口时如果交通灯为红灯则停车,因此一次移动可能被划分为若干个子移动,子移动停止在路口交通灯(a~l)处,整个移动停止在活动点(A~J)处.IDM_IM和IDM_LC属于此类移动.由于GBMM、IDM_IM和IDM_LC中车辆在停车属性点处均可能停车,因此有大量车辆在移动250m后暂停(如由D点移动到c点时就符合上述情况),由于IDM_IM和IDM_LC中移动被划分为若干子移动,因此移动距离相对集中在较短的范围内(0~1000m).图16上图是每个模型中车辆单次停止时间大于0s、5s、10s…的车辆停止次数(nstop)的分析,下图为相应停车时间范围内,车辆停车次数的概率统计.实验中假定车辆速度为0的时间大于等于5s则认为是一次暂停,x=0s时对应的停止次数为模型中所有车辆停车次数总数.从总停止次数角度讲,在车辆数为50、100、200时,FTM车辆总停车次数最多,这是由于FTM车辆移动速度较大,会以较短的时间到达目标位置并随机暂停一段时间,因此总暂停次数也最多.而当车辆数增加到500时,FTM模型车速受到车辆密度的影响而降低,移动相同的距离时,移动时间延长,因此在整个模拟时间内移动次数减少,暂停次数也相应地减少.IDM模型在车辆数量为50、100、200时车辆暂停时间都均匀地分布在设定暂停时间间隔0到60s范围内,而在车辆数目达到500时,暂停时间在0到10s之间的概率增大,这是由于此时车辆密度比较大,前方车辆暂停一段时间之后,后面车辆赶上来,在尾随性质作用下,需要做短暂停留以等待前面车辆移动之后才能移动.IDM_IM和IDM_LC车辆的停止时间以较大的概率分布在[0,30]s内,这是由于交通灯轮换时间为30s,如果车辆行驶到路口时为红灯,则需要停止等待交通灯变为绿灯.随着车辆数目的增加,这两个模型由于交通灯影响而产生的短暂停车情况也大量产生,从概率分布图可以看出随着节点数目的增加,短时间停止的概率也随之增加.Page14图16单次停止时间分析在VANET网络中,如果两车之间的距离小于其通信半径,则这两辆车之间可以建立连接并相互通信,称从车辆进入另一车辆的通信半径内到离开通信半径的过程为一次连接,处于该连接的两车互为邻居.图17上图为各个模型单次连接时间大于0s、5s、10s…的连接次数分析,下图为其概率统计,各模型曲线均具有近似的“长尾”特征,这意味着多数连接保持时间较短,但连接时间较长的概率也非零.假设两车间距小于60m时则认为这两辆车互为邻居,当x=0时,纵坐标代表各个模型中车辆连接总次数.随着模拟中车辆数目增加,FTM、IDM、IDM_IM和IDM_LC中车辆速度下降,相应连接次数同比例减少.由于FTM中车辆速度较大,车辆拓扑随时间变化大,因此连接次数最多,但是随着车辆数目的增加,FTM中车辆速度大幅降低,拓扑变化较慢,连接时间增加,如在当前模拟场景和参数设置下,车辆数目为500时,FTM中车辆连接时间在15~25s之间出现小高峰.IDM_IM和IDM_LC中车辆受到交通灯的控制,暂停次数相对较多,且这两个模型都基于IDM尾随模型,因此车辆由于暂停因素和尾随因素比较容易长时间聚集在一起,因此,这两个模型中的车辆连接次数相对较少,连接时间相对较长.各移动模型产生的连接保持时间多数都较短,这意味着数据信令和控制信令应设计得较短,以便能在较短时间内完成传输.连接时间较长的移动模型提高了链路稳定性,改善了路由协议的性能,有助于提高吞吐量和降低延迟,应用协议也有可能在一次相遇时传输更多的数据量.车载协议的性能评估应考虑因移动模型产生的连接保持时间差异而导致的结果差异.4.4宏观移动特性本节从宏观角度,对各移动模型在整个模拟过程中单个车辆的平均速度、行驶距离总和、行驶时间总和、车辆平均邻居节点数和平均加速度(由于实验过程中需要对车辆加速度求和,因此实验取加速度的绝对值,防止正负加速度相互消减)等进行详细分析,给出6个模型在上述移动特性下的补累积分布,并针对上述特性,给出所有车辆在每个模拟时间针内的对应平均瞬时波动曲线.图18上图给出了6种模型中车辆平均速度大于0m/s、0.4m/s、0.8m/s…的车辆数,下图为车辆平均移动速度在相应速度范围内的车辆数的概率分布.可以看出,随着车辆数目的增加,FTM模型的速度明显下降,这是由于FTM模型的速度与车辆密度成反比关系,车辆密度增加时,车辆速度减小,另Page15图17单次连接时间分析图18单个车辆平均速度分析Page16外,速度下降以后,车辆拓扑变化变慢,FTM模型速度变化机会减少,因此平均速度分布平缓.SMM和GBMM中车辆速度不受周围车辆的影响,车辆速度也较大,其中SMM车辆速度分布相对GBMM车辆平均速度分布更加集中在分布曲线中线位置,这是由于GBMM中车辆仅在到达目的地之后才改变速度,而SMM模型中设置的速度改变间隔是50s且图19瞬时车辆平均速度统计图SMM车辆具有加速度,速度平滑改变,相比之下,GBMM速度改变次数少,且速度突变,因此车辆平均速度相对分散.IDM模型受前方车辆的限制,车辆平均速度比上述两个模型小.IDM_IM和IDM_LC车辆也受前方车辆的影响,且同时受到交通灯的制约,因此车速最慢.图19分别给出了每个模型在模拟时间(900s~Page174500s)内每一时刻所有车辆的平均速度,以及所有车辆在整个模拟时间内的平均速度.由于统计的是每一时刻所有车辆的平均速度(当前车辆速度之和/车辆总数),因此在车辆数目增加时,曲线趋于平稳.可以看出,GBMM和SMM中车辆速度不受车辆数目的影响,FTM随着车辆密度的增加,平均车速明显降低.IDM、IDM_IM和IDM_LC在车辆数目增加的情况下,会有较大的概率遇见前车,使得速度受到前车的影响而下降.因此,这3个模型随着车辆数目的增加,平均速度都略有下降.其中,IDM_LC由于可以改变车道,减少了前方车辆对车速的限制,因此在车辆密度增加时,速度减少并不明显.另外,由于在FTM中车辆速度较快,车辆拓扑变化较大,而车辆拓扑变化对当前道路的车辆密度影响较大,从而影响FTM中车辆速度,因此可以看到FTM模型中车辆的平均速度随时间变化的跳跃性较大.IDM是尾随模型且模型中车辆不受交通信号灯控制,车图20单个车辆行驶总时间分析辆移动状态平稳,因此瞬时速度变化相对较平稳.图20上图给出在整个模拟过程中,行驶总时间超过2000s、2040s、2080s…的车辆数,下图是车辆行驶总时间在相应时间范围内的车辆数目的概率分布.可以看出,在车辆数目增加时,FTM中车辆行驶时间增加最为明显,IDM模型次之,原因是这两个模型在车辆数目增加的情况下,车辆的暂停次数相应地减少,因此相对暂停时间也减少,则行驶时间增加.FTM比其它模型行驶时间短,也是由于其车辆暂停次数较多引起的,相应地,IDM模型行驶时间最长,也是由于其车辆暂停次数较少,且随着车辆数目增加,车辆暂停次数相应减少,因此其车辆行驶总时间也增加的较为明显.从概率分布图可以看出,GBMM、SMM、IDM_IM和IDM_LC4个模型的概率分布比较接近,IDM在车辆数目为50时,概率分布与上述4个模型比较相似,FTM模型在车辆数目为500时与上述4个模型概率分布比较接近.Page18图21给出6个模型每个时刻移动的车辆数和整个模拟时间平均移动车辆数目.可以看出,FTM模型随着车辆数目的增加,其移动车辆数目占总车辆数的比例也增加,因此平均一辆车行驶的时间也会相应地增加,这与图18给出的结果相符合.IDM_IM和图21瞬时行驶车辆数统计图IDM_LC中车辆经常会由于交通灯控制而短暂暂停,车辆单次行驶距离短,单次行驶时间短,单次暂停时间也相对较短,因此车辆状态相对不稳定,可以看出,这两个模型曲线波动较大.IDM瞬时移动车辆曲线仍然是其中最平稳的.Page19图22上图给出车辆在整个模拟过程中平均邻居节点数量大于0辆、0.05辆、0.1辆…的车辆数目的统计,各模型曲线并不具有“长尾”特征,下图为平均邻居数量在相应范围内的车辆数目的概率分布,各曲线均近似于泊松分布.随着车辆数的增加,6个模型中车辆邻居车辆数均有所增加.GBMM和SMM中车辆速度不受周围车辆影响,因此这两个模型中的车辆相对比较分散,邻居节点数量较少.在节点数目较少时,FTM中车辆速度大,拓扑变化快,车辆相互进入对方通信半径的概率较大,这是造成FTM模型的平均邻居数量远远多于其它模型的原因.另外,由于FTM为流体模型,当车辆相遇时,会保持相同的速度,其邻居关系维持的时间较长,相应的平均邻居节点数也最多,这是车辆密度较大时FTM邻居节点数最多的原因.车辆平均邻居数目较多的移动模型会提高广播协议的工作效率,但也会引入更多的信道冲突,降低有效吞吐量,也会对路由策略的评估结果产生影响.这些因选取的移动模型的邻居数量差异而引入的潜在性能影响值得在协议设计和评估时注意.图23给出6种模型瞬时车辆平均邻居节点数图22单个车辆平均邻居节点数量分析目的统计.随着车辆数目的增加,6个模型的瞬时曲线波动变大.IDM_IM和IDM_LC中车辆受交通灯控制,车辆单次移动距离比较近,暂停时间比较短,因此这两个模型瞬时邻居节点数量不稳定,其曲线波动比较大.GBMM和SMM的瞬时曲线在较窄的范围内波动,而FTM和IDM的瞬时曲线虽然波动范围相对较大,但是随时间变化比较平滑,说明这两个模型中车辆按照一个整体趋势变化,个体特征不明显.图24上图给出每个模型中车辆的平均加速度绝对值大于0m/s2、0.01m/s2、0.02m/s2…的车辆数的统计,下图为加速度绝对值在相应范围内的车辆数目的概率分布.FTM模型和GBMM模型没有加速度,只计算其瞬时速度变化.总体来看,由于GBMM和SMM中车辆速度与周围车辆无关,因此在车辆数目增加的情况下,这两个模型的车辆加速度并不受到影响,而其它模型中的车辆加速度均会随着车辆数目的增加而降低.由于FTM中车辆平均速度大,拓扑变化快,影响其车辆速度的改变,因此虽然该模型没有加速度,但其瞬时速度变化较大,而GBMM中车辆在行驶到目标位置之前不会改变Page20速度,仅在停车的瞬间会有车速变化,因此,其车辆瞬时速度变化较小.SMM中车辆不受交通灯和周围车辆的限制,因此其速度在最大速度和最小速度之间均匀分布,因此其加速度也较大.而对于IDM、IDM_IM和IDM_LC这3个模型,由于IDM_IM和IDM_LC受到交通灯限制,会有较多的停车过程,因图23瞬时车辆邻居数统计图此,这两个模型相对IDM的加速度要大.而IDM_LC中车辆与IDM_IM中车辆相比加速度较大,这是由于IDM_LC支持变换车道,使得车辆加速度有所提升.从概率分布图可以看出,GBMM和SMM两个模型的加速度概率分布比较相似,而IDM_IM和IDM_LC两个模型的概率分布比较相似.Page21图24单个车辆平均加速度分析4.5实验小结通过对上述6种车辆移动模型的微观移动特性、宏观移动特性以及相应的瞬时移动特性的详细分析,各模型在补累积分布上整体表现比较一致,但由于各模型设计不同,其各自又都表现出了自身的特征.GBMM和SMM中车辆速度是随机产生的,车辆移动比较分散,邻居数目比较少.另外,这两个模型中车速不受周围车辆的影响,因此车辆数目变化对这两个模型在车速、移动时间、移动距离和加速度等方面都没有影响,这与实际的车辆移动情况并不符合,这两种移动模型并不适合大规模车载网络的协议测试和性能分析.FTM受车辆数影响很大,在车流密度较小时,车速快,车辆到达目标位置所用时间短,车辆单次移动时间少,在整个模拟过程移动次数和暂停次数多,瞬时暂停车辆数量多.在车流密度较大时,车辆单次移动时间变长,车辆移动次数和暂停次数减少,瞬时暂停车辆次数也相应减少,车辆总移动时间明显增加,车辆邻居数目增加,单次连接时间增加.由于FTM没有加速度且车辆速度受拓扑变化影响明显,因此速度变化具有很大的阶跃性,这一点与实际情况不符,不适用于评估车辆移动速度对通信协议性能影响的分析.IDM是尾随模型,车辆单次移动时间较短,由于IDM支持多车道,因此随着车辆数的增加,车速下降缓慢,车辆单次移动时间变长,移动次数和暂停次数减少,总移动时间增加明显.实验结果表明,虽然IDM模型支持多车道,分散了车流,且不受红绿灯控制,但车辆平均速度在车流密度较小时仍然无法达到较高水平,这是由于其不支持车辆动态变更行进车道,道路利用率较低,不适用于多车道场景的通信协议性能分析.IDM_IM和IDM_LC中车辆受交通灯控制,车辆的暂停次数和移动次数较多,车辆单次移动距离短(集中在0m至1000m之间),车辆单次移动时间短(集中在50s至100s之间),车辆无法保持一个较高速度进行较长时间,因此这两个模型平均车速较低,车辆连接保Page22持时间相对较长,链路稳定性提高,通信协议的性能测试结果相对较好.与IDM_IM相比,IDM_LC支持车辆变道,车辆加速度较大,平均车速也较高,这在车流密度较大时更加显著.5研究热点目前,关于车载自组网移动模型的研究热点主要分为以下3个方面:设计移动模型整体框架、结合移动模型与网络协议和开发移动模型仿真器.关于移动模型整体框架设计的研究,可以为车载仿真器架构的设计和开发提供理论基础.例如,Fiore等人[22]提出符合实际的车载移动模型应包含如下模块:精确的拓扑地图、障碍物、吸引点和排斥点、车辆特性、起点和终点移动、轨道移动、平滑加速度和减速度、驾驶员模型、十字路口管理、时间模型和外部影响.基于移动模型与网络协议相结合的研究,模拟报文在基于不同移动模型的车辆之间传输,考察各种移动模型在不同网络协议下的表现.例如,Sommer等人[10]对比了不同移动模型在UDP协议下的报文传送成功率和在TCP协议下POP3会话长度,并分析了移动模型对车车通信的影响,以及车车通信对移动速度的影响.移动模型的仿真器研究也吸引了大量研究人员,他们针对不同的应用场景和设计需求,研发移动模型仿真器.例如,Karnadi等人[35]实现了MOVE工具以帮助用户在VANET下迅速产生车辆移动轨迹.针对城市场景,Martinez等人[36]开发了CityMob,包括对车祸场景的模拟.6结束语提出了3种对车载自组网移动模型的分类方法:基于交通特征的刻画粒度、基于移动模型的依赖及限制条件和基于移动模型的建立方法.详细介绍了GBMM、SMM、FTM、IDM、IDM_IM和IDM_LC6种移动模型的设计原理,并对典型的移动模型特征及相关参数影响加以分析.通过对上述模型在宏观特性和微观特性方面的对比分析,进一步揭示和分析了各模型的移动特征差异及其对通信协议设计和测试结果的影响.通过对车辆单次移动、瞬时移动和整体统计等三方面特性的对比分析,研究了各模型在移动速度、移动时间、移动距离、加速度、链路连接时间和邻居节点数量等方面的移动特性,并探讨了产生相应实验结果差异的原因.通过大量的模拟实验发现各模型在微观移动特性的补累积分布下具有相似的分布,而不同模型对应特征的概率分布差异较大;各模型在宏观移动特性的补累积分布下具有相似的相变过程,但是不同模型的相变点不同,各模型对应特征的概率分布具有明显的泊松分布特征,但不同模型的均值不同;不同模型的瞬时特性曲线的抖动宽度和抖动趋势不同,车辆数量增加对平均值变化幅度的影响不同.GBMM和SMM移动模型不适合大规模车载网络的协议测试和性能分析,FTM模型不适用于评估车辆移动速度对通信协议性能影响的分析,IDM模型不适用于多车道场景的通信协议性能分析,IDM_IM和IDM_LC模型的车辆连接保持时间相对较长,链路稳定性提高,通信协议的性能测试结果相对较好.车辆移动模型的选取对于车载自组网通信协议性能的准确分析具有重要影响,例如吞吐量、传输延迟和路由有效性等指标.下一步工作将基于微观和宏观分析结果,设计更符合车辆实际移动情况的移动模型.
