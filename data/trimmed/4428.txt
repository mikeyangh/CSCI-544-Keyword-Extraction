Page1参与式感知系统中基于社会关系的移动用户位置预测算法于瑞云1)夏兴有1)李婕2)周岩1)王兴伟3)1)(东北大学软件学院沈阳110819)2)(东北大学计算中心沈阳110819)3)(东北大学信息科学与工程学院沈阳110819)摘要移动用户位置预测是参与式感知系统进行有效数据采集和消息转发的关键,该文提出了一种基于社会关系的移动用户位置预测算法(SMLP).该算法基于位置对应用场景进行建模,通过节点的移动规律挖掘节点之间的社会关系.SMLP算法以马尔可夫模型为基础对节点的移动性进行初步预测,然后利用与其社会关系较强的其他节点的位置对该节点的预测结果进行修正.算法基于马尔可夫模型和加权马尔可夫模型,分别提出了SMLP1和SMLPN两种算法.最后基于UCSDWTD数据集对算法进行仿真实验.实验结果表明:SMLP1比马尔可夫模型有更高的预测精确度;SMLPN与SMLP1相比有了更大程度的性能提升,并以比2阶马尔可夫模型小得多的算法复杂度获得了与2阶马尔可夫模型相似的预测精度.由于加权系数的引入,SMLP1和SMLPN两种算法都具有良好的灵活性.关键词参与式感知;位置预测;马尔可夫模型;社会关系;社交网络;移动互联网;社会计算1引言参与式感知(Participatorysensing)是最近几年出现的一种感知技术,又称为以人为中心的感知(People-centricsensing).参与式感知利用多种数据采集设备和集成了特定传感器的智能手机对人类社会状态信息(包括环境、交通、社会活动等)进行交互式或自主式采集、分类、传输和分析,进而做出智能决策,为人类生活和社会活动提供服务.美国加州大学洛杉矶分校的Estrin教授所领导的CENS(CenterforEmbeddedNetworkedSensing)研究中心是最早开展这方面工作的研究机构之一.从2009年以来,该中心已经将主要精力投入到参与式感知技术研究中,在CENS研究中心2011年年度进展报告[1]的Research部分,参与式感知方面的内容占了将近一半的篇幅,其主要介绍了CENS实验室在参与式感知研究领域的最新进展,包括PEIR、AndWellness、Mobilize、BoyleHeights等几个典型应用项目,以及支撑参与式感知应用的相关技术的研究情况,包括参与者征募、任务规划、基于手机传感器的人类活动识别、用户隐私等等.美国达特茅斯学院的MSG(MobileSensingGroup)实验室也在这方面做了很多研究,主要项目有BikeNet[2]、SoundSense[3]、CenceMe[4-5]、MetroSense[6]、Bubble-sensing[7]等.参与式感知强调人的参与,在感知过程中,人们对赖以生存的城市和社会状态进行感知、记录,使得个人感知的信息,或者群体感知的经过融合处理后的信息,可以为其他人或群体所用.美国南加州大学的ENL(EmbeddedNetworksLaboratory)实验室以此为背景开发了UrbanTomography[8-9]平台,该平台通过手机进行基于位置信息的移动影像的采集,获取城市生活的声音影像记录,揭示生活状态模式.LiveCompare[10]和Micro-Blog[11]研究了参与式感知与社交网络的结合应用,LiveCompare利用手机中的图像传感器获取特定商品在不同卖场的价签信息,经过分析、处理、位置标定后上传到网站,为用户提供实时的商品特价信息;Micro-Blog讨论了社交网络、分布式内容共享与参与式感知相融合的体系框架,提出了一个基于参与式感知的微博系统原型.利用智能手机结合多种类型的传感设备(如加速度传感器、计步器、光线传感器、温湿度传感器、气体传感器、磁力传感器、二氧化碳传感器、PM2.5传感器等),可以构造多种基于参与式感知的应用系统,比如生活模式感知、移动社交、空气污染实时监测、交通状况监测等等.美国杜克大学的Azizyan等人在文献[12-13]中提出用安装在手机上的光线、声音传感设备辅助GSM、WIFI进行相对精确的定位,这种定位方式开销比GPS定位更小,并且能在GPS不能覆盖的室内环境下实现定位.美国麻省理工学院的CarTel项目[14-15]利用安装在汽车和智能手机上的传感器采集数据,并将数据上传到一个特定的Web服务器,然后在服务器上对数据进行分析并为用户提供实时交通状况、路面状况信息.Kotovirta等人[16]通过实验对空气质量、水质和植物疾病等数据的监测,研究了用户激励以及参与用户的隐私保护等问题.Rana等人[17]根据噪声污染可以影响人类的听觉和行为的特点,利用参与式感知节点来监控噪声等级,并建立噪声污染地图系统,将信息提供给专家来研究噪声和人类行为之间的关系.在上述参与式感知应用中,如何构造一个动态的群组以保证参与式感知任务高效、高质量地完成,是参与式感知研究领域一个有待解决的问题.当系统中参与者数量充足时,系统需要通过定价与博弈的方式选择更加廉价而高效的节点去执行任务;而对于参与者数量不足的情况,系统需要制定相关的激励机制去刺激用户的参与.在基于位置的参与式感知应用中,系统一般会对用户的位置数据进行采集,但在某些时刻,系统中往往会出现感知区域用户数量覆盖不足的情况(当前驻留在目的位置的用户数量很少,即使全部参与,也可能不足以支撑感知任务的完成),而这种情况有Page3时会直接影响感知任务顺利的完成.对于此类问题,我们可以利用用户的移动轨迹预测,配合着良好的用户激励机制,提供一种有效的解决方案:如果系统在获取用户当前位置信息的同时预测用户将来一段时间可能到达的位置,则可根据情况组建一个最有可能到达感知位置的用户群组,并通过相关机制激励其前往目的地并完成任务,以此来增加参与者数量,提高应用的执行效率.例如,如果希望利用参与式感知系统查询某工厂附近PM2.5颗粒物分布情况(需要多个安装了PM2.5传感器的参与式感知节点完成此任务),我们首先可以通过位置预测估计将会有哪些节点在未来的一段时间内运动到这里,然后系统会向这些节点发送参与请求,提供相关奖励,促使其主动的前往相关区域,完成采集应用,这样既保证了区域的覆盖,又要避免过多的节点传回无用数据.与之相类似的还有某风景区各个不同角度的风景图片浏览和游人数量查询(合适的游客群组通过带拍照功能的智能手机发回符合要求的图片和游客数量信息)、交通拥挤情况查询等.在这些应用中,我们并不能保证当前时刻参与的节点能够将监测区域全部覆盖,因此需要通过位置预测,选择可到达的节点执行采集任务,以保证应用的顺利完成.图1参与式感知系统通信模式示意针对参与式感知环境中节点的机会连接问题,移动设备的位置预测不仅能够提高机会网络中数据的转发效率,减少通信时延(很多机会网络路由协议都是基于位置预测来设计的),同时还有助于充分利用系统中的一些“弱联网”节点,通过对其位置的判断,完成一些特殊的参与式感知应用[18-19].为了解决移动预测等问题,近年来,许多科研机下特点:(1)将应用延伸到了自然界和物理世界,通过参与式感知设备(智能手机、传感器节点等)直接完成从物理世界中获取状态信息(声音、温度、位置、光照、物体运动状态等)的任务;与传统的移动应用相比,参与式感知应用有如(2)参与式感知应用可以将任务分解成多个单元,由多个参与式感知设备分别完成各自任务单元,共同完成一个整体任务(例如由多个感知半径有限的节点共同完成一个较大区域的数据采集任务,而在传统移动应用中,通常多个个体完成一个相同的任务并竞争最佳方案);(3)参与式感知系统具有机会网络特性.对传统移动应用而言,节点一般是通过接入点或基站的方式与中心服务器进行通信(如图1中场景1和场景3所示);而在参与式感知系统中,由于节点移动、节点稀疏、射频关闭或障碍物造成信号衰减等多种原因,导致有时网络不能完全连通,移动设备通常采取一种“弱连接”的方式联网,因此某些情况下,节点需要通过用户移动带来的相遇机会来完成数据的传输(如图1中场景2所示).构和学者针对人类的移动模式展开了研究[20-23].文献[20]根据移动设备的历史位置信息研究人类的行动轨迹,作者通过6个月对100000名参与者位置信息的调查,发现人类的移动轨迹符合一种空间概率分布,并且可以利用某种简单且重复的模式来描述.文献[21]对这种移动模式的可预测性进行了论证,作者通过引入“熵”的概念来判断用户移动轨迹Page4预测的可能性,当使用所有的历史数据进行测试时,用户位置的潜在可预测性将高达93%.基于上述理论,学者们利用人类的移动模式,针对轨迹的预测问题提出了一些不同的解决方案[24-28].目前应用最广泛的位置预测方法为基于马氏链(Markovchain)的方法:该方法的基本思想是建立一个k步马尔可夫预测器,即一个与一阶马尔可夫预测器的移动概率矩阵同规模的移动概率矩阵.通过这个矩阵,就可以根据用户k步以前的位置来预测其下一步即将到达的位置.文献[24]利用无线校园网络移动数据[27]来检验一些位置预测算法的性能,在文章中作者使用Wi-Fi信息定义了一些离散的位置,并据此对k阶马尔可夫预测模型、基于LZ树的LZ-based预测模型等不同的方案进行了测试.经过比较发现,相对简单的2阶马尔可夫模型拥有和其他方案相同甚至更好的预测效果,预测的平均准确率达到了72%.类似效果较好的预测方法还有文献[25]提出的扩展后的马尔可夫预测模型,该模型考虑了到达时间和停留时间,使用延时嵌入法(Timedelayembedding),从时间序列中提取确定长度的位置序列,通过将上一次观察到的位置与所有嵌入的位置序列进行对比,以此来完成对用户位置信息的预测.除了马氏链外,还有一些位置预测方法,如基于人工神经网络(ArtificialNeuralNetwork)的方法[29]、基于贝叶斯网络(BeyasianNetwork)的方法[30-31]和基于回归的方法[32-34],这些方法从不同的角度对未来位置预测做了研究,主要针对的是单一节点的移动行为的预测.但事实上,节点的行为状态不仅取决于前一时间段的位置状态信息,还取决于携带移动设备的主体之间所具有的社会性关联.综上所述,移动节点位置预测对参与式感知应用而言具有重要意义.在本文中,我们利用节点间的社会关系,对已有的位置预测算法进行优化,使其能够更好的适应参与式感知系统应用,获得更高的预测准确率.2基于社会关系的节点位置预测算法人类移动模式研究[20]表明,人们的行动存在高度的重复性,人们每天重复访问固定的几个地点,在相对固定的时间内进行一些日常活动.根据移动节点的位置以及固定的行为模式,我们可以基于位置对场景进行建模,利用相关算法预测节点到达某一位置的概率,估计移动节点的位置.本文提出了一种基于社会关系的移动用户位置预测算法(Social-awareMobileuserLocationPredictionalgorithm,SMLP),分别对基于绝对分布的马尔可夫模型和加权马尔可夫模型进行了优化.算法以马尔可夫模型为基础对节点的移动性进行初步预测,然后利用与其社会关系较强的其他节点位置对该节点的预测结果进行修正,以获得更高的准确性.2.1基于位置的节点移动应用场景目前大部分的机会网络研究都是针对于移动节点的,其目的是将信息通过机会连接的方式发送到目的节点上去.但由于节点的高度移动性以及接触时间的不确定性,所以这些研究很少在实际场景中得到应用.针对这一问题,文献[35]提出了一种基于位置的机会网络路由传输策略.Lu等人认为,节点在移动过程中接触时间较短,而在一些固定地点(如办公室、咖啡厅、健身场所等)接触时间较长,因此针对位置的消息传递策略相对于传统传输策略而言更加稳定,具有更高的实际应用价值.基于这一思想,我们提出可以基于位置对节点移动应用场景进行建模.如图2所示,每个应用场景都存在很多用户分布密集的地点,节点在这些地点进行汇聚,基于位置形成空间分散的群组.不难想象,在同一群组中的节点与处于不同群组中的节点相比,接触更为稳定、频繁.另外,一些用户还会按照自己的日常行程从一个地点运动到另外一个地点.群组间可以利用这些移动的节点进行连接,机会性地进行通信.路更加稳定,因此有利于数据的传输与交互;综上所述,与基于节点的模型相比,基于位置建模更有利于应用到实际场景中,主要原因有如下两点:(1)基于位置的接触,时间更久,建立起来的链(2)基于位置的通信可以支持更大的数据量,这更有助于应用的扩展.我们在对应用场景基于位置进行建模,在此基础上收集移动节点访问不同位置的频数信息、接触信息及时间信息,利用节点的历史移动轨迹及社会关系来预测节点到达各个位置的概率,以此作为参Page5与式感知系统机会链接特性研究的基础.通过对CRAWDAD公开发布的实验数据集统计得出,目前人们主要通过以下3种方式来记录节点的位置信息:(1)GPS.GPS是一种较为精准的外部定位技术,其在导航系统、车载防盗系统、公交调度系统等众多项目中都得到了广泛的应用.但对于移动手持设备而言,由于耗电大、数据开销大、室内定位效果欠佳等原因,通过GPS所搜集的节点移动轨迹往往存在数据缺失、数据不完整等问题;(2)基站(CellTower).通过运营商的无线电通讯网络(如GSM网、CDMA网),人们可以获取移动终端用户的位置信息,而这些信息一般是通过跟踪记录设备所访问的基站编号而获得的(例如MITReality项目[36]中的节点位置数据);(3)WLAN.利用部署在不同区域的AP节点,通过记录带有WiFi接口的手持设备与AP节点的通讯数据,人们同样可以完成对于移动节点的位置定位工作.经典的WLAN实验项目包括美国达特茅斯学院的Wirelesstracedatasets①和加州大学圣地亚哥分校的WirelessTopologyDiscovery(WTD)②项目等.对于基于位置的节点移动模型而言,GPS主要记录的是节点移动轨迹的经纬度信息,但由于其收集的历史记录存在数据缺失的问题,因此不利于移动模型的建立;而通过记录CellTower编号来跟踪节点移动轨迹,由于基站本身覆盖面积过大,其位置图3AP位置划分针对上述方法,阈值λ的选取决定了基于位置的节点移动模型位置区域粒度(每个聚类位置的覆盖区域范围)的大小:当λ取值较小时,每个位置包含了更多的AP节点,因此区域粒度较大,位置覆盖范围更加广泛;当λ取值较大时,每个位置包含了较记录的粒度过粗,因此建立起来的移动模型应用价值不高.最后,利用WLAN来完成节点历史轨迹的记录,由于AP部署较为灵活,且AP通讯范围适中,因此对于校园等场景而言,使用AP数据来建立位置移动模型更为合适.在大部分WLAN数据集中,为了方便处理,每条数据是以(node,time,APlist)的格式记录的,表示节点在某时间与哪些AP相连.为了更好的构建移动模型,我们可以利用连通分量将AP数据转换为位置信息,具体过程如下:(1)统计不同AP同时出现在一条记录中的次数.通过对AP出现次数的计算,我们可以获得AP间的关系矩阵犚=[rij],i∈N,j∈N,其中rij=2nijni+nj数,ni表示APi出现的总次数,nj表示APj出现的总次数.(2)将AP作为图中的结点,按rij的大小顺序依次用直线将这些结点连接起来,并标上权重,这样,就得到一个描述AP关系的无向图,图3(a)就是这样的一个AP关系图.(3)我们取定λ,去掉权重低于λ的连线,即可将结点分类,所获得的每个连通分量即为一个位置.图3(b)就是当λ取值为0.6时的一个包含4个不同连同分量的位置示意图.少的节点个数,因此区域粒度变小,每个位置覆盖了较小的区域范围.针对不同的环境,我们可以选取不①②Page6同的阈值来确定模型的位置区域粒度,以此来满足应用对位置范围的具体需求.2.2马尔可夫链预测模型我们可以用马尔可夫模型来描述类似校园这样的应用场景:假设当前场景有m个地点,我们将地点i作为马尔可夫过程的第i个状态Xi,则状态空间为犈={X1,X2,…,Xm}.由此,场景移动模型可以定义为{犡,犜},犜为时间序列.在参与式感知系统中,针对每个应用场景,我们可以利用马尔可夫链模型对各个节点未来的地点状态进行预测,具体的建模及预测过程如下.(1)准备过程预测前的准备过程包括以下几个步骤:①确定状态集合根据系统收集的用户行动轨迹,对数据中出现过的地点进行统计,记为集合犔.由于集合犔包含多个地点元素,所以选择访问频次较高的地点集作为系统的状态集合犈,犈犔.②数据离散化处理统计所有用户中与状态集合犈有关的数据,将每个用户的数据按照时间进行离散化,因此离散后的集合可以表示为{(tk,Xi)},k=1,2,…,i∈{1,2,…,m}(1)③计算一步转移概率矩阵设nij是观测节点A由i位置出发访问j位置的次数,则节点由i位置出发到达j位置的概率为其中n为节点由i出发访问各位置的次数总和.因此,设集合中有m个地点,则可以产生一个m×m的转移概率矩阵(2)基于绝对分布的马尔可夫链预测设p(l)取各个状态的概率,则可获得马尔可夫链的初始分布,记为例如取初始状态为X2,m=5,则初始分布P(l)=表1加权马氏链预测分析表初始时刻状态权重初始分布转换矩阵1l4w1犘(l)犘3w1p(l)41w1p(l)l+11w2犘(l+1)犘2w2p(l+1)11w2p(l+1)l+23w3犘(l+2)犘1w3p(l+2)31w3p(l+2)犘(l+3)p(l+3)1p(l+3)(0,1,0,…,0),则l+1时刻的绝对分布:犘(l+1)=犘(l)犘可认为时刻l+1时系统所取的状态Xj满足Xj=argmax{p(l+1)(3)加权马尔可夫链改进预测基于绝对分布的马尔可夫链利用状态转换矩阵和初始分布进行预测,简单直观,但由于状态转移概率测定不准和系统初始状态划分不科学等原因,这种方法的预测结果往往会产生较大误差.为了减小误差,用各种步长的马尔可夫链加权来改进预测方法[37].与普通的马尔可夫链预测相比,加权马尔可夫链可以更充分、合理地利用信息,并与相关分析有效结合,提高预测结果的准确率.多步预测递推l+t时刻的概率分布:已知节点在l时刻的初始概率分布,我们可以犘(l+t)=犘(l+t-1)·犘=犘(l)犘t其中,犘(l)是初始状态分布,犘t为多步转移概率矩阵.我们还可以将l,l+1,…,l+(t-1)几个不同时刻的状态作为多步预测的初始状态,通过式(6),分别推算出l+t时刻的概率分布,最后通过加权的方式获得最后的预测分布.设初始状态集合为犐={X(l),X(l+1),…,X(l+t-1)},为了描述方便,将犐集合简记为犐={X(k)},k=1,…,t,使用相关系数对各步结果进行加权,具体的加权公式如式(7)所示:其中,wk为相关权重,wk=|rk|∑|rk|,∑wk=1且wk0,rk为相关系数.时刻l+t所处状态Xj满足式(9):举例来说,若系统用前3个状态(l,l+1,l+2)去预测下一个状态,根据式(7)进行加权计算,则节点位置预测过程的列表分析如表1所示,通过权重,初始分布和转换矩阵3个要素计算l+3时刻的概率分布犘(l+3),则节点在l+3时刻所处状态即为Xj=argmax{p(l+3)Page72.3基于社会关系的预测优化现实社会中,人与人之间具有社会关系,且社会关系有强有弱.如果用个体间的接触时间和接触次数来衡量节点间的社会关系强弱,即强关系的个体间接触时间长,接触次数多;弱关系的个体间接触时间短,接触次数少.在现实生活中,一个个体通常与少数个体具有较强的关系,我们将较强关系个体组成的群体称为社团(Community).社团内部节点之间的连接相对紧密,而不同社团之间的连接相对稀疏.同一社团的个体,会经常地聚集在某几个地方(下文称为社团位置),而有些地方不经常去.一般,不同个体移动到不同位置的概率和停滞时间不同.个体通常移动到社团位置的概率较大,停滞时间较长;移动到非社团位置的概率相对较小,停滞时间相对较短.根据社会节点的群居性特征,我们要对某一节点下一时刻的位置进行预测,如果在当前时刻某一位置汇聚了很多与其社会关系亲密的节点,则该节点下一时刻移动到该位置的概率相对较大.因此,我们可以用社会关系去估计节点未来的位置,用以优化马尔可夫模型的预测结果.利用社会关系对位置信息进行预测,我们首先需要获得节点间的社会关系权值,而接触频率往往被作为衡量节点间社会关系强弱的一个标准[38].对于参与式感知系统而言,我们往往认为接触频率较高的节点间联系更为密切,协作性更高,因此具有更强的社会关系.同时在社会关系量化过程中,接触频率的计算需要与时间关联在一起,只有在连续较长的时间内产生的接触状态对系统来说才是有意义的.定义1.移动节点A与B在统计时长T内的接触记录表示为犕={(tsn是接触次数,ts示第k次接触结束的时间.则节点A与B的接触概率W(A,B)如式(10)所示:根据接触概率量化式(10),我们可以获得系统中节点的社会关系矩阵,根据矩阵对节点关系进行社团划分,确定关系较为亲密的节点子群.鉴于现有复杂网络聚类算法已经比较成熟,本文使用Girvan-Newman聚类算法[39]作为社团划分的基本算法.假设我们希望利用社会关系对节点A下一时刻到达某一位置i(i=1,2,…,m)的概率进行计算,已知节点A所处于的社团为犆,将当前时刻该社团中处于位置i的节点集合记为犛={S1,…,Sj,…,Sn},其中犛犆,则根据条件概率有Pi(ASj)=Pi(A,Sj)其中,Pi(A|Sj)代表在节点Sj处于i位置的条件下节点A到达位置i的概率;Pi(Sj)代表节点Sj继续留在i地点的概率,它可以通过马尔可夫模型计算获得;Pi(A,Sj)代表节点A与节点Sj在i位置相遇的概率,具体计算公式如式(12)所示:其中,fi(A,Sj)代表节点A与节点Sj在i位置的相遇次数.设节点A与节点Sj的关系权值W(A,Sj)=ρj,则下一时刻节点A到达位置i的概率为Pi(A)=∑n其中,λj为各条件概率的权值,它通过节点A与节点集犛中所有节点的关系权值进行归一化处理得到,∑nλj=1.j=1根据犆内所有节点的位置分布情况,我们可以获得节点A到达不同位置的概率,结合之前马尔可夫模型的预测结果,通过加权式(14)计算获得节点A到达所有位置的概率分布,取访问概率最大的位置作为预测算法的输出.其中,Pmarkov测概率,Psociali预测概率.令权重α+β=1,式(14)可进一步表示为式(15):其中,Psocial夫模型的修正因子,α为修正系数.利用本节提出的基于社会关系的预测优化方法,我们可以对基于绝对分布的马尔可夫模型进行优化,将其记为SMLP1,同时对加权马尔可夫模型进行优化,将其记为SMLPN.对于马尔可夫预测模型而言,随着移动用户的活动,转移概率矩阵将逐渐变得不再稀疏,预测的准确率也会随之下降,利用社会关系对预测结果进行优化,有助于转移概率矩阵的稀疏化,对于提高模型预测精度具有很好的效果.Page82.4修正系数参数估计对于式(15)中提出的修正系数α,我们可以通过普通最小二乘法进行参数估计.参数估计的过程为:从数据集中随机抽出数量为n的连续样本集犢={狔i},i=1,2,…,n,其中狔i=(y(i)示第i个样本(时刻)节点的位置分布.y(i)式(16)所示,其中m为位置个数.当节点处于j位j取值为1,否则取值为0.置时y(i)y(i)计算相应时刻的预测结果集合犡={狓i},i=1,2,…,n,其中狓i=(x(i)刻通过概率判断出的节点位置分布.x(i)式(17)所示,其中p(i)的概率,计算公式见式(15).j=0,j≠argmax(p(i)x(i)利用普通最小二乘法,α从0~1取值,令∑h(狓i·狔i))2方差结果取值最小,则可以获得最佳的∑ni=1修正因子值.最后的α计算公式如式(18)所示:α=argmin∑h其中h为节点的个数.通过参数估计的方法,我们可以利用历史数据来估计修正系数α,使算法能够更好地适用于具体场景,以此来进一步提高算法的准确度.图4WTD数据集中的节点社会网络结构3.3预测精确度分析为了对预测模型的精度进行评测,将整理后的用户位置信息分为两部分:按照时间从原始信息中抽取前50%的数据作为训练数据集用于模型的训练,剩下的50%作为预测模型的测试数据集.预测3实验分析3.1仿真实验配置在进行参与式感知系统机会特征研究时,节点通信需要通过节点移动带来的相遇机会来完成,因此节点移动模型研究对机会连接条件下的参与式应用来说尤为重要.本文采用WirelessTopologyDiscovery(WTD)项目提供的数据集对算法进行实验.WTD数据集记录了加州大学圣地亚哥分校校园内275个携带PDA(PersonalDigitalAssistant,掌上电脑)设备的用户与部署的AP间约11周的通信数据.由于WTD数据集对本文实验来说相当庞大,因此我们选择了其中一个月(前5068105条)的数据对算法进行了仿真.在截取的数据集中共有267个节点,447个AP,我们取定λ值为0.2,根据AP位置的邻近性对其进行聚类,共抽取出269个地点位置.3.2社会关系矩阵析取为了利用社会关系对用户的移动轨迹进行预测,我们首先需要了解系统中节点的社会网络结构.我们使用接触因素来对数据集中的用户关系进行量化,量化结果如图4所示,其中图4(a)为WTD数据集的节点社会网络结构,图4(b)为使用Girvan-Newman算法聚类后的节点关系,图中相同颜色的节点具有更为密切的社会关系.通过聚类后,可以将当前时刻该社团中处于具体位置的节点集合犛析取出来,用于下一步的分析和计算.精度Presult的计算公式如式(19)所示:其中,n表示预测次数,accuracyi定义如式(20)所Page9示,表示对第i个预测位置是否预测正确.首先,我们使用测试数据集对训练后的标准马尔可夫模型(SMM)及SMLP1进行测试.图5显示图5SMM、SMLP1的预测精度对比接着,我们将SMLPN、SMLP1及2阶马尔可夫模型(O2MM)进行了对比.图6为3种模型预测精度的对比图,可以看出,SMLPN模型与SMLP1相比,预测精度有了进一步的提升,同时与公认预测效果较好的O2MM相比,具有相当的预测精度.图7描述了SMLPN、O2MM及SMLP1在不同预测精度图6O2MM、SMLP1和SMLPN的预测精度对比了两种预测模型对各用户位置的预测精度,图5(a)是编号为1~89节点的预测精度,图5(b)是编号为89~179节点的预测精度,图5(c)是编号为180~267节点的预测精度.从图中可以看出,SMLP1与SMM相比,预测精度有一定的提升.范围下的节点数量分布情况,从图中我们可以看出SMLPN在较高的预测精度范围节点分布数量最多,O2MM稍逊,SMLP1数量最少.例如,SMLPN预测精度大于90%的节点共有133个,O2MM有117个,而SMLP1只有34个.最后,我们对各种模型的算法性能做了比较,比较结果如表2所示.从表2中可以看出,基于社会关系的预测模型相对于标准的马尔可夫模型提高了近25%的预测精度,而相对公认预测效果较好的2阶马尔可夫模型而言精度提高不大.在空间代价比较上,基于社会关系的预测模型状态空间的复杂度预测精度0.56100.80300.71260.8349时间复杂度O(N)O(N2)O(N)O(N)存储空间O(N2)O(N3)O(N2)O(N2)Page10为O(N),而2阶马尔可夫模型为O(N2),其中,N为应用场景中的位置数目;基于社会关系的预测模型的存储空间需求为O(N2),而2阶马尔可夫模型为O(N3).因此,我们可以得出结论,基于社会关系的预测模型能够以比2阶马尔可夫模型小得多的空间代价获得与2阶马尔可夫模型相似的预测精度,具有较高的实际应用价值.3.4参数估计在进行预测时,修正系数α的取值可能会影响预测结果的精度.在本实验中,我们令α从0.1~0.9依次取值,观察预测准确率的变化,结果如图8所示.在图8中,当α=0.65时,预测精确度达到了最高值.我们利用参数估计方法(式(18))对参数进行了估计,获得了α=0.622.这与实验得出的α基本一致,因此我们可以认为参数估计法能够获得较为准确的修正系数.通过实验我们可以看出,参数α的取值对最后的预测精度会产生一定的影响:当α取值较小时,马尔可夫预测器对最后预测结果影响较大,因此算法对于节点位置改变不频繁的情况预测更加准确;当α取值较大时,社会关系对最后预测结果产生较大影响,因此算法对位置经常变更的移动节点预测更加准确.3.5位置模型中区域粒度对预测精度的影响在基于位置的节点移动模型中,位置区域粒度的大小将会对预测算法的准确性产生一定的影响.为了测试不同区域范围下的算法性能,我们通过调整阈值λ的大小来获得不同的位置区域粒度,以此来验证不同算法在不同条件下的准确性,具体的实验结果如图9所示.如图9所示,随着λ值的变大,模型中位置区域粒度逐渐减小,4种算法的准确性也随之降低.比较4种算法,SMM与O2MM受位置因素影响更为明显,准确性下降了近25%,而SMLP受位置粒度因素影响较小,下降趋势较为平缓.此实验证明,模型的位置粒度也是影响预测精度的重要指标,随着位置覆盖范围的变小,节点的移动轨迹位置变换得更加频繁,预测难度也会有所升高,而SMLP算法对这种位置粒度的变化具有较好的适应性.4结论本文介绍了参与式感知系统的概念及其相关应用,分析了移动节点位置预测对参与式感知系统的重要意义.其次,提出了一种基于社会关系的移动用户位置预测算法(SMLP).该算法基于位置对应用场景进行建模,以马尔可夫模型为基础,利用其它节点的位置对预测结果进行修正,通过对状态转移矩阵的稀疏化,提高了模型的预测精度.最后,使用WTD数据集对预测算法进行了实验,验证了算法的有效性.
