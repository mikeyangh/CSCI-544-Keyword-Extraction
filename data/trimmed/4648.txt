Page1异构无线网络中Relay节点部署算法1)(哈尔滨理工大学软件学院哈尔滨150000)2)(哈尔滨工业大学计算机科学与技术学院哈尔滨150001)摘要目前越来越多的无线网络技术涌现出来,如ZigBee技术、多频段的Mesh网技术、IEEE802.16j技术等,上述无线网络有效的前提是要依靠于网络的连通.而事实上由于多种因素,如随机部署、意外损坏、能量耗尽等,导致无线网络的不连通是非常常见的,通常可以通过新加入一定数量的relay节点从而实现网络的连通.现有的relay节点部署研究都是基于被加入relay节点的网络本身是同构这一假设,事实上异构网络情况是非常常见的,所以该文致力于研究在异构传感器网络中部署relay节点问题,该问题可以被证明为NP-Hard.该文首先推导了以前工作中所提出用于同构网络的relay节点部署算法应用在异构网络中所能达到的近似比,提出了两种分别基于权重图增量和基于迭代权重图增量的relay节点部署算法,并推导出这两种算法的近似比为10,最后通过实验给出以上3种部署算法在网络中不同低能力节点数量、不同高能力节点通讯半径和不同高能力节点数量情况下的使用效果,验证了该文算法效果.关键词无线网络;网络连通;relay节点部署;部署算法;物联网1引言随着物联网技术的发展,越来越多种类的无线网络技术涌现出来,目前广受关注的包括ZigBee技术①、多频段的Mesh网络技术[1-2]、IEEE802.16j网络技术[3]等.上述无线网都基于无线自组网技术,而对于长距离的点对点数据通信严重依赖于中继节点的多跳转发,而该种数据通信严重依赖于网络连通性.对于无线网络来说,特别是传感器网络经常被部署在自然条件非常恶劣甚至是人类无法接近的地域,只能通过随机播撒来完成无线网络的部署,而采用这种部署方式时在网络初始情况下很难保证网络连通[4];而当无线节点是由电池供电时,电池耗尽会使一些节点死亡,另外传感器网络有时会被部署在火灾、战场等条件非常恶劣环境,环境因素也有可能导致无线节点意外损毁[4],当发生一部分节点死亡的时候同样也可导致本来连通的网络失去连通性;另外在IEEE802.16j网络中也存在将多个IEEE802.16j子网连通起来的问题[5].因此不连通的情况在无线网络中是非常常见的,文献[6-12]通过在网络中添加一些价格较为昂贵的relay节点使网络达到连通,即使用最少数量的relay节点使网络连通.现有的针对于relay节点部署问题的研究[6-12]都是基于已有网络中节点为同构这一假设的,即向已有同构网络中添加最少数量的同构或者异构relay节点从而实现连通.而事实上无线网络中存在很多异构的实例,主要是由于节点间射频硬件结构的异构导致通讯能力的异构,例如无线传感器网络②中通常路由节点要比终端节点具有更强的通讯能力[12].如Digi公司出品的XBeeS2和XBeeS2Pro两种ZigBee射频模块,都采用EmberZnet协议栈,相互之间可以组网和通信,XBeeS2射频功率仅为2mW,室外通信距离仅为120m,而XBeeS2Pro射频功率为63mW,室外通信距离可以达到3200m,在价格上XBeeS2Pro是XBeeS2三倍以上,Digi公司出品的ZigBee路由器基本都采用XBeeS2Pro作为射频模块[12].如上所述,由于节点间的异构导致不同类型节点间在无线通讯指标中的通讯距离上存在较大差异.而这样网络一旦不再连通,则需要向网络中加入一些新的路由节点作为relay节点,此时便是在异构无线网络中relay节点部署问题;再例如在IEEE802.16j网络中作为relay节点的路由器无线通讯能力也同样远远超过普通用户所使用的普通终端,所以将已有的子网连接起来的问题本身就是向异构无线网络中加入relay节点的问题[5,13];另外目前备受关注的WirelessSensorandActorNetworks(简记WSANs)中actor节点普遍被认为比sensor节点具有更强的通讯能力,所以该种网络就是一种典型的异构传感器网络,其网络连通的问题本质上也与以往同构网络中存在较大差异[14-15].可以发现向异构网络中部署relay节点的情况是普遍存在的,虽然在无线网络中有大量针对在同构网络中加入最少的relay节点的研究,但已有研究都是基于这样一个假设基础:所加入到的已有网络都是同构的,导致已有针对relay节点部署的研究并不适合于解决本文所研究的向异构网络中部署高能力relay节点问题,或者不满足原有的近似比.因此本文第2节将介绍现有应用于无线网络中relay节点部署问题研究现状;第3节给出本文所研究的网络模型和问题描述.采用现有的relay节点部署算法在异构无线网络中的近似比将在第3节详细讨论;第4节给出本文所提出的两种部署算法和近似比;第5节给出对比于传统解决1-连通的relay节点部署算法的实验结果;最后给出结论.2相关工作在已有研究中,对于如何加入最少relay节点使得已有网络实现连通进行了大量研究.其中Lin等人[6]首先提出了如何加入最少的同构relay节点使网络实现1-连通的问题(SteinerTreeProblemwithMinimumNumberofSteinerPointsandBoundedEdgeLength,STP-MSPBEL),并将该问题多项式规约到离散欧式Steiner树问题从而证明了该问题本身是NP-Hard,由此设计了基于最小生成树的relay节点部署算法,即通过kruskal最小生成树算法求解无向图中1-连通增量这个本身为P的问题[8],从而找到哪些边需要实现连通便可使图中所有的连通分量全部实现连通,然后加入relay节点使这些边连通从而实现整个网络的连通,并推导出该算法是一种近似比为5近似算法;文献[8]在文献[6]所提出的算法的基础上,重新推导了算法的近似①②Page3比,证明了该算法的近似比为4;在文献[9]中提出一种如何加入最少relay节点使网络达到k-连通的relay节点部署算法;在文献[10]针对于使网络达到2-连通的问题,提出了一种近似比达到10的relay节点部署算法;上述工作都是基于所加入的relay节点和已有网络中的节点都是同构的这一假设,即relay节点和已有节点拥有相同的通讯能力,即通讯半径.而在文献[11]中证明了为使无线网络达到1-连通而加入最少异构的relay节点问题同样为NP-Hard,并证明了[6]中所提出的relay节点部署算法在求解该问题时,可达到7的近似比;文献[12]对于已有文献[11]的研究基础上,加入限制部署区域的约束,并提出了一种近似比为2的部署算法.事实上,上述的研究主要集中在同构的网络中部署同构或异构的relay节点从而实现网络连通,而通过引言的分析可以发现向异构的网络中部署relay节点的实例有很多.事实上有很多工作集中在在异构网络中加入新的relay节点优化网络的一些相应性能,例如文献[16-17]认为由relay节点和sensor节点所组成的WSNs是异构的,他们致力于在本身异构的WSNS中部署一定数量新的relay节点从而优化网络性能,如容错、负载平衡、能量有效等,而对于加入新的relay节点使网络连通这方面网络优化的研究较少.在针对解决网络1-连通的算法虽然应用场景各有区别,但是其算法核心都是基于图增量[6,8,11],即通过最小生成树算法在保证边长之和最小基础上计算出所需增加的边并加入relay节点使该边连通.例如文献[11]中所提出的针对于同构网络加入异构relay节点的部署算法,也是采用图增量这种思想并进行了适应性的改进,而由于应用场景不同,所以对于近似比进行了重新推导.而对于无线网络的异构和同构根本在于节点间在通讯能力即通讯半径上所存在明显差异,由此同一个算法应用在异构网络与同构网络这两个不同已有网络中具有较大差异,如近似比.本文重新推导了已有基于图增量的relay节点部署[6,8,11](RelayDeploymentBasedonGraphAugmentation,GA-RD)应用在异构网络中的近似比,并提出了基于权重图增量的relay节点部署(RelayDeploymentBasedonWeightedGraphAugmentation,WGA-RD)和基于迭代权重图增量的relay节点部署(RelayDeploymentBasedonIterativeWeightedGraphAugmentation,IWGA-RD),并证明这两种算法的近似比为10.3网络模型及问题描述由于异构无线网络是由高能力节点(HighAbility节点简记为HA-节点)和低能力节点(LowAbility节点简记为LA-节点)所组成,上述两种节点由于自身硬件结构和能力存在着明显的差异,由此本文中HA节点和LA节点存在着不同的通讯半径,这是与已有研究工作[11-12,16-18]中对于通讯半径的设定完全一致的,分别将其表示为RHA和RLA,在一般情况下RHA要大于等于RLA,如图1所示,两点间的欧氏距离由dist()表示.而两个节点间通讯距离取决于通讯能力较差的节点,所以HA节点和LA节点之间的通讯距离由LA节点的通讯半径所决定,即RLA.根据上述对异构网络中通讯半径约束的分析,本文拟在异构网络中加入最少relay节点使得异构网络实现网络连通,即在网络中任意两个节点间存在至少一条路径由此实现两个节点的相互可达.我们认为后加入的relay节点其本身就是HA节点,这样符合在WSANs中加入actor节点,也是与在已有路由节点的WSNs中为实现连通而新加入最少数量的路由节点的应用场景相符合的,所以本文所针对的研究问题就是在异构无线网络实现连通问题(ConnectivityRealizationProbleminHeterogeneousWirelessNetworks,CRP-HWNs),可以形式化为定义1.定义1.CRP-HWNs.在二位平面中,已知一个无向图G=〈V,E〉,其中节点集合V是由HA节点集合SHA和LA节点集合SLA共同组成的,即V=SHA∪SLA,且满足SHA∩SLA=,并已知V中所有顶点对应二维欧式空间所在的位置,由此边集E所有的边的两个顶点都必须满足图1中通讯半径的约束,即边集E可以形式化为式(1):其中a∈SHA&&b∈SHA}∪{e(a,b)dist(a,b)RLA,当由若干个relay节点组成的集合Srelay部署在Page4G中会生成新图G+,即G+=〈V∪Srelay,E+〉,其中E+中所有边同样也需满足图1所设定的约束,求Srelay使得图G+中点集中任意两点可达的情况下,使式(2)成立如下:定理1.CRP-HWNs是NP-Hard.证明.当RHA=RLA时,CRP-HWNs的特例等价于文献[6]所定义的问题:STP-MSPBEL.而文献[6]已证明STP-MSPBEL是NP完全的,由此CRP-HWNs的特例是NP-Hard,CRP-HWNs必为NP-Hard.由于CRP-HWNs是NP-Hard,当NP不等于图2GA-RD算法思想针对异构型网络特点,现将文献[6,8,11]所提出求解的近似算法思想略加改造,进而提出基于图增量relay节点部署算法(GA-RD),该算法的伪代码描述如算法1所示.算法1.GA-RD(WGA-RD).输入:G=〈V,E〉输出:Srelay1.设n=|V|,E=V×V-E2.定义一个森林T=3.初始化一个以边长(权重)为升序的队列Q包含所4.WHILET中包含少于n-1个边DO5.IFE为非空THEN6.7.8.9.10.11.12.P的情况下,无法给出多项式时间算法求解该问题,由此下一节我们首先采取文献[6,8,11]所设计的近似算法,并分析该算法被应用在求解CRP-HWNs时的所能达到的近似比.4基于图增量relay节点的部署算法4.1GA-RD算法思想及实现显然在图中通过求解无向1-连通图增量问题是一个P问题[7],只需找到哪些是需要连通的边,并加入relay节点修复这些边使其连通,便可以实现整个网络的连通,其近似算法的思想如图2.GA-RD算法首先根据式(1)求解出在未加入relay节点情况下便已经连通的边集E,而边集E为那些必须通过添加relay节点使该边连通的边集(算法1中1行).算法的第2行中定义一个森林T,初始时T为空的.GA-RD算法的主要思想在于通过向T加入n-1个边使得T变成一棵树,从而实现整个网络的连通.如算法1中5~8行所示,我们首先在保证不出现环的情况下从E中选择边并将其加入到T,使得T成为尽可能连通,由多个连通分量组成的森林.通过算法在3行中已对集合E中的元素依据边长进行升序排序从而得到一个队列Q,在算法9~12行,将Q中的边逐一在保证不出现环的情况下加入到T,便可以在多项式时间求解出图增量问题,然后通过加入若干relay节点使得该边的两点相互连通,从而实现被加入的边.最后便可得到所需加入的relay节点集合Srelay,而|Srelay|则作为CRP-HWNs问题的一个近似解.由此我们将在本节剩余的部分对于GA-RD在求解异构网络情况下该问题时的近似比进行分析.Page54.2GA-RD算法分析为推导近似算法GA-RD输出的结果kga=|Srelay|所能达到的近似比,设k=|S问题的任意一个最优解,另设图G(V+S为当最优解S其中E是所有能够满足通讯约束的边所组成的集合,由于S点间可达,即满足连通.则必可构造出由边集组成的集合X={Eq|Eq(E-E)且满足G(V+SE+Eq)中任意两点可达即连通},必可以在Emin中所有边集中找到一个边长之和最小的边集Emin∈X.如算法1所描述,GA-RD算法中所加入的边集是通过求解1-连通图增量问题而计算出来的,由此设E+为G=〈V,E〉1-连通图增量问题的最优解,即G=〈V,E+E+〉必为连通,则E+中所有边的边长之和必然小于1-连通图增量问题的其他解,可以推导出引理1如下所示.引理1.设c()为任意一个边集中所有边的边长累加之和,而对于边集E+与Emin之间的关系必满足式(3).证明.边集Emin显然在图上为一个可以将多个连通分量连通起来的森林,如图3为该森林其中一棵树,该树中Ei={e0,e1,e2}被包含于Emin,Ei在连通图中连接点集V中若干个节点所组成的子集Vi={v0,v1,v2}.而文献[19]已经对于最小生成树与最小斯坦纳树之间的关系进行了证明,即任意点集所形成最小生成树为同样在该点集上最小斯坦纳树问题的一个近似解,其近似比满足2/槡3,由此式(4)必成立如下:其中SMT()代表在任意点集上生成的最小斯坦纳树,而MST()代表在任意点集上生成的最小生成树,根据斯坦纳树所具备的属性,式(5)显然成立:显然图G=〈V,E〉可以通过加入边集∪MST(Vi)使其连通,而E+作为G=〈V,E〉的1-连通图增量问题的解,式(6)由此成立:因为边集Ei可以一一对应点集Vi,所以式(5)可以被转换如下:c(∪SMT(Vi))c(∪Ei)=c(Emin)(7)将式(4)、(6)和式(7)进行联立,式(3)必然可以成立.对于CRP-HWNs问题的任意一个最优解k可以满足引理2.引理2.CRP-HWNs问题的任意最优解k必然满足式(8):证明.对边集Emin中,每个relay节点连接不超过5个LA节点,如图4所示给出了其中任意一个relay节点连接6个LA节点的情况:图4Emin中一个relay节点最多连接5个LA节点其中必然存在某一个∠s0as160°,可根据三角定理得到s0s1必然小于等于as0和as1其中某个边,由此该边便可以对于s0s1进行替代.这显然不符合Emin是所有边集中边长之和最小的定义,由此一个relay节点连接6个LA节点的假设并不成立,可得在Emin中relay节点是不可能连接数量超过5个的LA节点.同理可得在Emin中relay节点也同样不可能连接数量超过5个的HA节点,由此可得式(8).而对于算法GA-RD输出的结果k存在引理3如下.引理3.k作为算法GA-RD的输出结果可满足式(9)如下:Page6证明.如算法1,E+作为算法GA-RD求解最小1-连通图增量问题所得出的解,从而根据E+计算出relay节点的部署位置.对于E+中任意一个e(i,j),i和j两点之间距离dist(i,j),当i和j都为LA节点情况下,显然连通i和j两点所需要relay节点的个数最多.由此只需考虑i和j同为LA节点的情况,由此f(e(i,j))为连通该边上的LA节点i和j两个顶点,使其可达所需要relay节点的个数.根据上文中的节点间通讯半径的约束,f(e(i,j))形式化如下:f(e(i,j))=0,烄1,烅dist(i,j)-2RLA烆对于式(10)中当RLA<dist(i,j)2RLA时只需加入1个relay节点便能使i,j这两点连通,由此可知每当引入一个relay节点时至少可以增加RLA长度的边长.而对于式(10)中e(i,j)>2RLA的情况,dist(i,j)-2RLAm=两顶点相互可达,所以存在:根据式(11)可得式(12):根据式(12)可得式(13):mRLA(2-m)(RHA-RLA)+dist(i,j)(13)而RLA<dist(i,j)2RLA情况下,所需relay节点数量m必然大于等于2,另外relay节点作为HA节点的通讯半径必大于等于LA节点的通讯半径,由此根据式(13)便可使式(14)成立:根据对于式(10)RLA<dist(i,j)2RLA和e(i,j)>2RLA情况的分析,E+和k之间的关系必存在式(9).根据引理1~3中所证式(3)、(8)和式(9)可以得出,对于GA-RD算法的解必存在定理2.定理2.k=|Srelay|作为GA-RD算法的输出结果,其近似比可满足O(β),其中β为RHA与RLA之比.证明.将引理1,2,3,显然可以找到k与k之间的关系可以满足k/k10(1+β)/槡3,即可满足O(β)的近似比.5基于权重图增量relay节点部署算法:WGA-RD和IWGA-RD在图G中,对于任意的两点i,j来讲,如果通过式(15)~(17)来计算e(i,j)在不同情况下连通所需relay节点的数量w(e(i,j))并由此来评估该边的权重,这种情况下通过权重图增量算法计算出relay节点的数量明显少于或等于第4节中直接使用欧式距离来评估这两点的权重.由此本文提出了WGA-RD和IWGA-RD两种基于权重图增量的relay节点部署算法,本文首先给出了近似算法WGA-RD的算法描述和分析了该算法的近似比.由图1所示,不同节点的通讯距离存在差异,不同类型节点间情况的计算边权重(需要多少relay节点)也不同,下面针对同为LA节点,一个为LA节点另一个HA节点,同为HA节点3种情况给出计算权重公式.当i,j∈SLA时,该边权重w(e(i,j))为式(10)计算出的结果,就是说当i,j都为LA节点,其连接HA节点的通讯距离不能超过RLA,而加入relay节点间的通讯约束满足RHA,relay节点所需个数与式(10)所计算方法相同,即w(e(i,j))=0,烄1,烅dist(i,j)-2RLA烆当i∈SLA和j∈SHA时,该边的权重w(e(i,j))代表所需多少个relay节点能够连通该边,而由于其中一个节点为LA节点,dist(i,j)-RLA代表其中一个relay节点连接LA节点,余下为HA节点间相互连接所需relay节点个数,计算出relay节点个数后加1便是所需relay节点个数,故式(16):当i,j∈SHA时,由于两个节点同为HA节点,与relay节点通讯约束均为RHA,所以只需计算两点间距离可以用几个relay节点实现即可,该边权重w(e(i,j))大小为式(17):Page75.1WGA-RD部署算法WGA-RD和GA-RD这两种算法的区别在于用不同的方式对于边的权重进行评估,因此只需对于在算法1中的第3行进行改造,将由欧式距离作为边的权重并进行升序排队改为由w(e(i,j))为边的权重并进行升序排队便可以实现WGA-RD.由此对于算法GA-RD来说,其首先所求新加入边的边长之和是最小的,即1-连通图增量问题;而对于算法WGA-RD来说,其首先所求新加入边的边权重w之和是最小的,即1-连通权重图增量问题.这足以导致上述两个算法的算法性能存在较大差异,由此我们针对WGA-RD在近似比方面进行了分析.首先设最小边长最优解SHst为CRP-HWNs问题所有最优解中所需引入新边的边长之和最小并且同时保证整个网络连通的最优解,点集Sst为SHst所新加入的relay节点集合,边集Est为Sst由所引入的边集长度最小且依然能连通网络的一个边集,Sst中relay节点满足下面性质.引理4.加入边集Est和点集Sst可使图G=〈V,E〉转变为了图Gst=〈V+Sst,E+Est〉,Gst本身是连通的,而对于Sst中任意一个元素r,r的最大节点度d(r)满足d(r)10.证明.对于连通图Gst=〈V+Sst,E+Est〉中任意一个relay节点r最多同时分别连接数量为5的LA节点和HA节点(引理2已经给出说明为何不能连接多于5个LA节点或HA节点),所以r的节点度d(r)要小于所能同时连接LA节点和HA节点的个数,由此r的最大节点度d(r)为10.证毕.SHst作为CRP-HWSNs问题的一个最优解,所以relay节点集合中元素的数量必然为k.本文试图从构造Sst和Swga之间关系入手推导出WGA-RD部署算法的近似比.对于kwga=|Swga|作为WGA-RD算法所得到的解必可以满足定理3.定理3.WGA-RD算法所得到的kwga与最优解k满足式(18):证明.在连通图Gst=〈V+Sst,E+Est〉中存在一个由Est所组成的子图:森林Fst.Fst中的点集由Sst和一个V中子集Tst所组成,即Fst=〈Tst+Sst,Est〉.如图5所示,PiTst+Sst作为Fst中任意一个连通分量,其中r0,r1∈Sst,而t0,t1,t2,t3∈Tst.由此Pi显然是一棵树,其中t0,t1,t2,t3作为该棵树的叶节点,图5中虚线为对该棵树的遍历过程,具体过程为从任意节点t0以顺时针方式对所有节点完成一次遍历.在遍历过程中任意一个顶点r∈Sst都被遍历了r在Gst中的节点度的次数.如图5粗线所示,根据刚才对于t0,t1,t2,t3遍历顺序便可以构造出欧拉回路,根据图5任意两点间的粗实线都可以找到一条由虚线形成的路径与之匹配,而通过虚线路径的边上部署relay节点必然可以使这两个点连通,例如图5中对于欧拉回路t0t1t2t3t0进行连接至多需要d(r0)+d(r1)个relay节点.在图G=〈V,E〉中,relay节点添加在图5粗线上的方式完成relay节点部署,同样也可使整个网络连通,其所需要最多d(r)个relay节点.事实上在首先计算出需要连∑r∈Sst通的边,并在该边上加入relay节点进行修复的方案中,通过求解权重图增量找到所需修复的边的方案必然对relay节点需求的数量最小,即本文所提出的WGA-RD算法.而WGA-RD的解kwga∑r∈Sst根据在引理4对于Sst中任意一个relay节点r,r的最大节点度d(r)为10的证明,则kwga∑r∈Sst10Sst=10k,故式(18)成立.5.2IWGA-RD部署算法对于GA-RD和WGA-RD这两个算法输出的结果,可以发现这个两个算法中relay节点必然只连接了两个其他节点,这意味relay节点中有些是没有必要部署的.而导致这种relay节点部署数量上的浪费的主要原因在于简单基于图增量的算法在生成欧式或权重最小生成树之后,再找到需要修复的边集,而此时所需relay节点的数量以及其位置便确定下来了,而事实上relay节点是可以连接两个以上其他节点的,但在这两个算法中并没有得到充分利用.基于上述分析本文又提出了通过迭代方Page8式形成权重最小生成树,采用每一个部署relay节点便再进行一次迭代的思想,此时relay节点是可以连接两个以上节点,从而减少了relay节点的部署数量.如图6所示,在每部署一个relay节点之后便对于最小权重树进行重新计算,图6中relay节点的下标数字便代表relay节点部署的先后顺序.基于此本文设计了IWGA-RD算法,该算法实际上是以WGA-RD部署算法为基础进行了迭代方面的改造,具体如算法2所示.算法2.IWGA-RD.输入:G=〈V,E〉输出:Srelay1.设n=|V|,G(V,E),E=V×V2.Re:3.初始化一个以式(15)~(17)为权重升序的队列Q4.定义一个森林T=5.初始化一个以边长(权重)为升序的队列Q包含所6.WHILET中包含少于n-1个边DO7.找到Q中最小元素的e(i,j),并在Q中删除8.9.10.11.12.13.去掉无用的Relay节点算法IWGA-RD首先通过式(15)~(17)计算出G中各边的权重,将各边以权重升序进行排序从而形成一个升序队列Q.通过算法2中6~11行可以说明,算法IWGA-RD先通过Kruskal所提出的最小生成树算法以求解权重图增量问题,将Q中权值值最小的边加入森林T从而形成了若干个连通分量.当所加入的边e(i,j)所赋予权重大于0时,则意味着该边满足通讯半径约束需要relay节点的部署才能实现该边,此时便在该边e(i,j)上距i满足relay节点与i最大通信约束处部署一个relay节点,然后跳出本次循环不再添加relay节点,而再下一个循环中重新完成一个relay节点的部署,由此实现逐一relay节点的部署.算法IWGA-RD相对于GA-RD和WGA-RD增加无用relay节点去除步骤.如第13行中,所谓去掉一些无用relay节点为重新采用Kruskal算法,逐一加入边,对于边权重同为0的各边,把边中含有非加入Srelay中节点的边优先排在队列前面,可能会发生这样一种情况:Kruskal算法未运行完成时,就已将所需连通V-Srelay中所有节点连通,此时Kruskal算法中止,便可以找到无用的relay节点并把它从Srelay中去除,事实上RHA相对于RLA越大,发生这种情况的可能性越大.由此Srelay便可以作为IWGA-RD部署算法最终输出结果并且该集合中元素的个数标记为kiwga.由于IWGA-RD采用逐一部署relay节点的方法,其算法是否能够收敛以及其他算法性能将在本节后部分进行分析:为证明算法IWGA-RD的收敛性和近似比,将IWGA-RD算法中的初始点集标记为I0,其初始值为V.时刻k指的是已经完成k次循环并完成了k个relay节点部署的时刻,此时IWGA-RD算法中的节点集合Ik较初始节点集合I0增加了k个元素,为I0∪Skrelay节点的集合.Ik可以首先依据式(15)~(17)中对其两两组合出的边进行加权,然后生成其所对应的最小权重生成树WMST(Ik,Ek).首先我们对IWGA-RD的算法收敛性进行证明,以说明该算法可以自动定制,IWGA-RD满足定理4.定理4.算法IWGA-RD是收敛的.证明.对于k+1时刻,算法IWGA-RD中Ik以及其生成WMST(Ik,Ek),因为存在至少一个边e(i,j),其w(e(i,j))>0,所以必须部署一个新的relay节点r,依照前文所述部署relay节点的规则,由于i节点与r节点之间距离恰好满足通讯半径约束,由此w(e(i,r))必为0,而对于边e(r,j)根据式(15)~(17)其权值w(e(r,j))可由w(e(i,j))-1计算得出.由此则存在式(18):∑w(Ek)-1=∑w(Ek-e(i,j))+而对于时刻k+1的点集Ik+1及其所对应的WMST(Ik+1,Ek+1),由于Ek+e(i,r)+e(r,j)-e(i,j)可以作为可以连接Ik+1的一个树,根据最小权重生成树的性质式(19)必可成立:Page9∑w(Ek+1)∑w(Ek-e(i,j))+w(e(i,r))+w(e(r,j))(19)由此可得∑w(Ek+1)∑w(Ek)-1,也就意味着每部署一个新的relay节点,至少可以对于最小权重生成树的权重之和的值减1.而对于初始时刻0的所形成的最小权重生成树WMST(I0,E0),由于∑w(E0)在初始时必为一个定值,所以当在时刻F时,如果∑w(EF)=0,则IWGA-RD算法将在F时刻终止,即T中所有边的权重值均为0,此时图中的任意两点均相互可达.现设kiwga为IWGA-RD算法所输出的近似解,下面我们将讨论kiwga与WGA-RD算法所输出的kwga之间所存在的关系,两者之间满足于定理5.定理5.IWGA-RD算法的近似解和WGA-RD算法的近似解之间满足kiwgakwga.证明.在算法IWGA-RD中,初始时刻0,并没有任何relay节点部署,此时存在∑w(I0)=kwga,即为WGA-RD算法所计算出relay节点的部署数量.而如前文分析,IWGA-RD算法在每一次循环中只部署一个新的relay节点,每次循环至少可以对于最小权重生成树的权重之和的值减少1,这也就意味着IWGA-RD算法不会部署多于kwga数量的relay节点.由此可证出kiwgakwga.在定理3中已经证明了kwga是近似比为10的近似解,根据定理5,由于kiwgakwga,所以IWGA-RD算法是一种针对CRP-HWNs问题至少满足近似比为10的近似算法.6实现结果与分析本文构建了一个实验场景对于GA-RD,WGA-RD和IWGA-RD的有效性进行验证,该实验场景与文献[18]中的实验场景相同.具体实验场景为300m×300m的一个正方形区域,LA节点的通讯半径约束Rs为30m.已有LA节点HA节点的数量、HA节点通讯半径约束RHA均作为仿真实验中的几个可调参数,为验证算法一般情况下的有效性所以已有节点部署全部采用随机,这是与目前节点部署算法通常采用的实验环境[3,9-10,16,18]相同的,所获得结果均为运行10次取平均值.本文实验结果将对比于文献[6]所提出的relay节点部署算法:纯图增量relay节点的部署算法(RelayDeploymentBasedonPureGraphAugmentation,PGA-RD)以验证本文所提出算法的性能,该算法作为经典relay节点部署算法,文献[8,11]的工作也是作为PGA-RD的延展,但是PGA-RD并未考虑到节点间通讯性能的差异性,relay节点与LA普通节点具有一样的通讯能力.本文对于算法有效性实验中主要针对在不同情况如已有LA节点、RHA等指标的变化,采用PGA-RD、GA-RD、WGA-RD和IWGA-RD所需relay节点数量进行比较.另外为可说明算法所得到网络拓扑特性,通过实验本文验证上述4种算法所产生拓扑特征,并针对4种算法所产生拓扑针对聚类算法下传输量情况进行实验,以说明能量消耗情况.6.1GA-RD、WGA-RD和IWGA-RD的有效性为验证算法的有效性,首先在区域中随机布撒了数量为10的HA节点,relay节点与HA节点通讯半径约束RHA被作为固定参数为60m并且通过改变部署区域内LA节点的个数作为可调参数以观察PGA-RD、GA-RD、WGA-RD和IWGA-RD这4个算法在求解CRP-HWNs问题时所能达到的性能.在图7为上述实验场景下的实验结果,正如前文中的理论分析,使用这4种个算法所产生的结果:IWGA-RD最好,WGA-RD次之,GA-RD次之,PGA-RD最差.而当已有LA节点的数量分别为200与225的时候,上述算法所输出的结果中所需的relay节点的部署数量大体相同,产生这一结果原因在于当LA节点的数量增加到一定程度时,区域内的LA节点密度较大,其所形成连通分量所包含节点数量较多而连通分量的个数也就相对较少,此时对于relay节点部署的需求很少,并且所需修复边的长度也相对缩短,这种情况下是无法体现出relay节点所具有的较长距离通讯半径约束,由此对于这4种算法所产生的结果也大体相同.图7不同LA节点数量下4种算法所需relay节点数量比较Page10图8所示给出了当已部署100个LA节点和10个HA节点情况下,而relay节点与HA节点通讯半径约束RHA作为实验的可调参数,其实验目的是观察RHA的变化对于这4个算法输出结果的影响.图8不同RHA大小下4种算法中所需relay节点数量比较实验设计中RHA是由30m开始逐步增大的,而当RHA=30m的情况下,本文拟求解的CRP-HWNs问题是与文献[6]中所提出的STP-MSPBEL问题是完全一致的,符合前文为证明CRP-HWNs是NP-Hard中的所述:STP-MSPBEL是CRP-HWNs的一个特例.此时GA-RD算法就是文献[6]中所提出的PGA-RD算法,由此说明为什么在解决STP-MSPBEL问题时本文所提出的算法GA-RD效果与算法PGA-RD是相同.对于PGA-RD由于本身并没有考虑到relay节点通讯能力高于LA节点,所以RHA的变大与否并不影响算法所得到结果.而IWGA-RD来讲,随着RHA不断增大,可以发现其算法效果明显优于其他两种,这是由于IWGA-RD并不是一次部署所有的relay节点,而是采用迭代逐步部署relay节点的策略,从而导致在IWGA-RD算法所生成的连通树中relay节点连接其他节点的数量可能多于2.对于采用PGA-RD、GA-RD和WGA-RD算法所生成的连通树中,relay节点连接其他节点的数量只能是2.所以在IWGA-RD算法中,relay节点通讯半径约束较大并且能够连接多个节点的特性被充分利用,其所需relay节点数量也相对于其他3种算法最少.同样IWGA-RD所产生拓扑中relay节点的节点度可以多于2可以在算法产生拓扑实验中进行验证.如图9给出了当区域内LA节点数量固定为150和RHA固定为60m情况下,区域内原有HA节点的数量作为可调参数时4种算法所产生的结果,主要是说明HA节点数量的变化对这4个算法实图9不同HA节点数量下4种算法中所需relay节点数量比较验效果的影响.而值得注意的是当HA节点的数量为0时,本文拟解决的CRP-HWNs问题恰好就是在文献[11]中所要解决的问题,同样说明在文献[11]中所要解决的在同构网络中部署异构relay节点的问题本身就是CRP-HWNs的一个特例.事实上文献[11]所提出的算法同样也是基于图增量的,即采用GA-RD算法思想来求解部署relay节点集合.正如图9所示,对于本文所提出的IWGA-RD和WGA-RD算法、GA-RD和PGA-RD,在初始HA节点数量较少情况下的这4种算法使用效果并无太大差异.但是随着HA节点的数量逐步增加,WGA-RD算法要明显好于GA-RD算法,这是因为在GA-RD算法中部署relay节点只是单纯从欧式距离来考虑,这种relay节点部署的方式是可能存在这样一种现象:对于两个连通分量来说相距最近的可能为两个LA节点,而实现他们所连成的边可能需要2个以上的relay节点;由于节点异构所带来通讯半径约束的不同导致如果连通处于两个连通分量中距离稍远的两个HA节点,实现他们所连成的边可能只需要少于2个relay节点.由此由于WGA-RD算法考虑到了节点的异构性,随着HA节点的数量逐步增大使得WGA-RD算法要明显好于GA-RD算法.而对于算法PGA-RD来讲,同样并未考虑节点通讯能力差异,图中HA节点数量的增大,是与LA节点数量的增大无区别,而对于在HA节点增大到10时,所需relay节点反而增加,这是由于本身图中节点数量的增加有可能导致连通分量的增加,而对于PGA-RD来讲连通分量个数的增大其修复边的个数也增加,由此所需relay节点个数可能增大,而其之后变小是因为图中节点密度增大,连通分量数量可能会变少.当采用IWGA-RD算法时,由于即考虑节点异构所带来通讯半径约束的不同,relay节点Page11又可以连通两个以上其他节点,使得IWGA-RD的算法效果也明显要好于另外3种部署算法.6.2PGA-RD、GA-RD、WGA-RD和IWGA-RD所产生聚集树中LA节点能耗分析根据文献[6]所提出的算法和应用在同构网络下的要求,本文构建了在文献[6]所需的实验场景,通过4个算法在该场景实验所产生的实验结果,说明即使在同构场景下我们提出算法所产生的拓扑在聚集信息收集模式[20]下LA节点负载较小.当采用PGA-RD、GA-RD、WGA-RD和IWGA-RD所产生拓扑作为信息聚集树时,由于LA节点通常被认为能量受限的,LA节点所承担的工作多少决定着该图10同构网络加入relay节点拓扑情况如图9(a)所示为LA节点初始连通情况;图9(b)为采用PGA-RD和GA-RD这两个算法的输出结果,连通整个网络需要55个relay节点;图9(c)给出了采用WGA-RD算法输出的结果;图9(c)给出了采用算法IWGA-RD算法输出的结果,连通整个网络需要55个relay节点.可以发现采用算法GA-RD、WGA-RD、IWGA-RD输出的拓扑均为树状拓扑,其拓扑依然是基于已有LA节点所产生树,只不过有些边中加入了一些relay节点完成对于该边的实现,实验结果可以发现PGA-RD、GA-RD和节点的生存周期,而LA节点在信息收集层面所承担的工作具体体现在参与了多少数据包的传输工作.由此本文针对整个网络完成一次信息收集LA节点所需参与数据包的数量进行对比,以说明上述算法所产生拓扑在信息聚集下LA节点的能耗.首先在正方形区域中随机布撒150个相同LA节点如图10(a)所示,relay节点通讯半径设为100m.由于LA节点数量较多,同样基于图增量的PGA-RD和GA-RD中并体现出relay节点通讯能力较强的特点,由此在这个实验场景下两个算法所产生的结果是相同的.WGA-RD三者所产生结果差异性不大,IWGA-RD算法效果最好.而文献[20]说明在对于总和、平均等指标信息进行采集时可以采取多对一的数据聚集过程以有效降低数据包的传输量.对于整网信息的一次完整聚集收集所需发送数据包的个数恰好为该生成信息聚集树中边的数量,即|SLA|+|Srelay|-1.事实上相对relay节点的能量约束,LA节点本身是十分受限于能量的,由此我们采用与文献[20]相同的对网络能耗评估方法,即在评估能量消耗时只考虑了LA节Page12点用于传输数据包的所带来的能耗,对于用于relay节点间的传输数据包所带来的能量消耗并不予以考虑.在图11中给出了当relay节点通讯半径为100m,不同LA节点数量情况下采用GA-RD、WGA-RD和IWGA-RD所产生聚集树中LA节点所需参与数据包的传输量.可以看出IWGA-RD所生成的数据聚集树在LA节点所需发送数据包数量要明显好于其他两种算法所生成的数据聚集树.在图12中给出了由已有数量为100的LA节点作为固定参数,relay节点通讯半径约束作为可调参数,完成一次数据聚集LA节点所需参与数据包传输数量.可以发现当采用IWGA-RD算法时,随着relay节点的通讯半径不断增大,LA节点所参与数据包传输量明显下降,这是由于在IWGA-RD中relay节点可以连接多于两个其他节点,当relay节点通讯能力越强,relay节点间相互连接的情况就有所增加,本来需要LA节点参与的很多信息传输可以被relay节点值间的信息传输替代,所以LA节点所需参与的数据包传输量由此减少.而对于已有一些HA节点的异构网络场景,本文又在同构网络实验场景中随机加入了10个HA节点,以说明4种算法在异构网络中加入relay节点所产生的拓扑在已有LA节点数量和RHA变化下,在采取Nto1聚集模型时LA节点所需参与的数据包传输量.如图13所示为4种算法产生的拓扑情况下,在不同已有LA节点数量情况下,当采取Nto1聚集模型中LA节点所需参与的数据包传输量.如图14所示为4种算法产生的拓扑情况下,在不同RHA情况下,当采取Nto1聚集模型中LA节点所需参与的数据包传输量.图12同构场景中不同relay节点通讯半径下图14异构场景中不同relay节点通讯半径下7结论本文主要研究的问题为:如何向异构节点所构成的网络中部署数量最少的relay节点使得整个网Page13络连通,即本文提出的CRP-HWNs问题,并证明了该问题是NP-Hard问题.本文主要工作在于,首先将以往研究中针对同构网络中relay节点部署问题所提出的基于欧式距离最小生成树的部署算法应用在求解CRP-HWNs问题上,并且推导了该算法应用在异构网络中的近似比.后又提出了一种基于最小权重生成树的部署算法:WGA-RD,并且推导出WGA-RD算法是近似比为10的近似算法.通过分析我们发现上述GA-RD与WGA-RD算法中所部署的relay节点只能连接2个其他节点.针对于这种relay节点数量上的浪费本文又提出了IWGA-RD算法,在该算法所输出的结果中relay节点是可以连接多于2个其他节点的,并且我们证明了IWGA-RD算法的所需relay节点数量必然要少于WGA-RD算法.在本文的实验环节,我们对比于已有的PGA-RD部署算法说明本文所提出算法性能,通过分别将LA节点数量、HA节点通讯半径约束RHA、HA节点数量作为实验的可调参数,实验验证上述算法的输出效果,可以发现采用IWGA-RD算法所需的relay节点数量最少,而WGA-RD算法其次之,GA-RD算法最差,并进行了一定理论分析.我们同样也对上述3种算法所生成的数据聚集树拓扑,在数据聚集时所需消耗LA节点能量的情况进行了实验,说明IWGA-RD算法所产生的数据聚集树中LA节点的能量负担最小.可以发现本文所实现的算法是适应于一般情况下的relay节点部署,而由于部署方式等因素导致已有节点分布形式存在一定特征如正态分布,这种情况下relay节点部署问题则是我们下一步所关注的研究内容.
