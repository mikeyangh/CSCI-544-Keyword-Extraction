Page1微博中特定用户的相似用户发现方法1)(淮海工学院计算机工程学院江苏连云港222005)2)(江苏金鸽网络科技有限公司软件研发中心江苏连云港222005)3)(上海大学计算机工程与科学学院上海200072)摘要微博的用户关系分析是近期的研究热点,而用户的相似度计算是微博用户关系分析的基础.已有方法在发现相似用户时,主要面向关注和粉丝群体,用户微博相似度及交互相关性计算对微博的动态特性利用不够.该文提出了新颖的微博特定用户的相似用户发现方法,该方法的创新性主要体现在:(1)发现相似用户时,在关注和粉丝的基础上引入了访客类用户,扩展了已有方法局限于关注和粉丝构建自我网络(EgoNetwork)的模型,增加了发现相似用户的多样性;(2)根据微博动态社交的特点,提出了用户动态微博的相似度计算和动态交互相关性计算方法,以时间片为动态社交划分的基础,以指数衰减为累加策略,使得微博用户的相似度计算更为合理,发现的相似用户更为准确.以新浪微博为例,选取了学术研究、企业管理、教育、文化、军事5个领域的50个种子用户,使用S@n(前n个用户的得分)为评价指标,进行了相似用户发现的实验分析和比较.结果显示,访客类用户可以扩展相似用户的发现范围,访客在发现的相似用户中的比例为32%,动态的微博相似度和交互相关性计算方法能够改善用户相似度的计算效果,比已有的最新方法的S@n指标提高了1.3.关键词用户关系分析;用户相似度计算;扩展的自我网络;动态微博相似度计算;动态交互相关性计算;社会媒1引言当今,社交媒体被认为是Web上最有价值的信息资源之一.微博平台作为众多社交媒体中的一种,由于其传播性强、操作便利,很多用户在微博平台形成了类似于现实社会的交往圈子.传统媒体中用户和话题之间是二部网络,微博平台由于引入了关注关系(follow),使得用户和话题之间变得非常复杂,被认为是多模网络.由于微博平台信息传播性强、具有复杂的网络结构,近几年引起了学术界和产业界的高度重视.微博中的相似用户是指在微博媒体上具有若干共同属性的用户群,这些属性主要包括用户的背景、关注、粉丝、微博、交互等信息.微博用户相似度度量的基础理论来源于社会学中的“同质性”(Homophily),即有关联的人往往有相似的特征,同时,联系越紧密,相似度越高[1-2].社交媒体上用户的信息总体上分为两类:一类是用户的背景(比如地点、教育、职业、兴趣等)和发表的微博信息(包括原创、转发或者评论);另一类是基于关注和粉丝构建的社交网络.基于这两类信息,已有的用户相似度计算方法大体上可以分为3类:(1)基于用户的背景和微博的文本信息方法,简记为SUDByText;(2)基于关注和粉丝的社交网络方法,简记为SUDBySN;(3)混合方法,即对基于文本方法SUDByText和基于社交网络方法SUDBySN的融合计算,简记为SUDByTSN.近期出现的一些研究成果多是围绕SUDByTSN方法展开的,可以认为SUDByTSN是社交媒体用户相似度计算的主流研究方法.本文从微博中指定的用户出发,在微博平台上尽量发现多的相似度高的用户.本文的研究内容属于社交网络中的自我网络分析,即站在个体的角度去分析个体本身及个体周围结点;研究方法综合了用户的文本信息和社交网络,属于SUDByTSN方法的范畴.该项研究的意义在于:(1)特定行业用户的线索发现,比如某个用户有涉恐倾向,在微博中挖掘有相似倾向的用户;(2)个性化推荐,比如为某个用户自动在微博中推荐志同道合的好友,或者厂家自动将广告推送给有相似兴趣的微博用户;(3)是社交整体网络分析的基础,比如通过计算用户的相似度,将微博上的用户划分为若干社群,以进一步研究社群特性.本文的创新点主要体现在两点:(1)已有相似用户发现方法在微博社交网络关系的利用上,仅考虑了关注和粉丝两类用户.根据访客可以对用户发表的微博进行转发或评论的特点,在相似用户的发现时,引入了访客类用户,提出了扩展的自我网络模型EEN(ExtendedEgoNetwork),增加了发现相似用户的全面性和多样性;(2)已有相似用户计算方法在计算用户的微博相似度和交互相关性时,没能体现微博社交的动态性.在用户的微博相似度和交互相关性计算方面,引入了时间的动态划分,能更好的体现微博的动态性,使得发现的相似用户更为准确.本文第2节介绍已有的相关研究工作,包括基于用户的背景和微博的文本信息的方法,基于关注和粉丝的社交网络的方法及混合方法;第3节详细地阐述本文所提方法的原理和流程,包括相似用户发现模型、用户相似度计算模型、用户动态微博相似度计算方法及用户动态交互相关性计算方法;第4节从发现相似用户的准确性,关注、粉丝及微博的系数权重,时间片的划分,交互相关性的作用,时间衰减累加策略及发现相似用户的分布情况等角度进Page3行了实验对比分析,以验证本文所提方法的有效性;第5节对本文进行总结,探讨该方法的优缺点以及未来的研究方向.2相关工作SUDByText相关方法是早期研究的重点,Bhattacharyya等人[3]在计算用户的相似度时,根据用户的基本属性(包括位置、家乡、活动、兴趣、专长等)提取若干关键词,基于语义距离计算关键词的相似性,进而获取用户的相似度.Wang等人[4]在研究重叠社区发现时,认为用户的关联性(粉丝或关注)过于自由,重点使用了用户的元数据Metadata(比如标签)计算用户的相似度.Diaby等人[5]研究社交网络的工作推荐时,重点考虑的是用户的背景信息,对不同的社交媒体,选取了不同的背景信息,主要包括工作、教育、简历、兴趣、职位等信息.进一步地,利用了用户的朋友(Friends)信息,但结论是背景相似的朋友才有价值.文献[6-8]在社交推荐系统中也都有朋友信息的利用,但都是基于朋友的背景信息,没有考虑朋友之间的社交信息.Kim等人[9]从一个用户出发,基于社交标签寻找到他感兴趣的社区.社区的社交标签通过社区成员的标签提取,包括成员的兴趣、情感、地理位置、时间等.Xie[10]设计了通用的朋友推荐框架,在推荐朋友时,基于他们的地点、时间和内容等信息.文献[11-12]在研究社区发现时,认为使用用户的背景,共享的图片、视频和标签等信息,既简单又有效.仅利用用户之间的社交网络计算用户相似度方法较少,此类方法属于SUDBySN类型.Kahanda等人[13]利用用户之间的交互性来度量用户关系强度,比如通信、文件传输等,其中通信也包含相互之间的转发或评论等行为.Hamid等人[14]认为主流的推荐系统可以分为基于内容的和基于协作的两类类型,提出了基于内聚性(Cohesion)的社交媒体好友推荐方法,内聚性体现在连通性(connectedness)和密集度(density)两个方面.Samanthula等人[15]计算朋友相似度时,考虑了网络的结构及用户之间真实的信息交互.综合的利用用户的背景和微博信息及用户的社交网络,是主流的研究方法,即SUDByTSN类研究方法.徐志明等人[16]在度量用户的相似度时,考虑了用户的背景信息(位置、标签及个人简介)、微博、社交和交互信息,以50个用户作为种子节点,抓取了1层关联的粉丝、关注用户,并认为社交信息在计算用户的相似度时最有价值.背景的位置信息的相似度计算采用了分层比较的方法,标签及个人简介的相似度计算采用了编辑距离的方法.Xiang等人[17]融合了用户的属性和用户间的交互计算用户关系强度,用户的属性包括学校、工作单位、兴趣组和地理位置等.彭泽环等人[18]在进行微博用户推荐时,利用了用户的微博、个人信息、交互信息、社交拓扑信息等4类因素,面向腾讯微博进行了数据采集与实验对比,结果显示用户的交互信息对相似用户的推荐性能影响最大.Gou等人[19]提出了使用用户的社交标签及网络的拓扑结构计算用户的相似度.Samanthula等人[20]在研究私人朋友推荐PFR时(PFR面向的是用户的朋友及社交标签都是隐藏的媒体),用户相似度计算方法借鉴了文献[19]提出的方法.Modani等人[21]研究了情趣相同社区(Like-mindedcommunities)的发现,考虑了用户对感兴趣话题的排名,不是简单的计算两个用户话题的交集,此外还使用频繁项集挖掘社区的核心用户.Akcora等人[22]同样利用了用户的背景信息和网络结构计算用户的相似度.但不同的是,由于用户背景信息难以全面的获取,提出了从用户朋友已有的数据中,自动挖掘推理出用户的一些可能的背景信息.综上所述,在社交网络的用户相似度计算方面,已经有一些研究成果,融合用户的文本信息和社交网络的计算方法是目前主流的研究方法.用户相似度计算是诸多系统的基础,包括好友推荐系统、社区发现、社区划分等.相关工作没有提及到针对给定的用户,在微博中通过关注、粉丝及访客快速发现相似用户的研究内容.自我网络的构建是以关注和粉丝为基础,没有提及到访客类用户的利用.在用户的微博相似度计算及交互相关性计算等方面,已有方法对时间要素的利用不够,缺少微博动态社交的深入研究.3特定用户的相似用户发现方法3.1基本概念在介绍本方法之前,先形式化定义几个相关的概念,包括微博网络、微博博文及微博用户.定义1.微博网络.形式化描述为一个六元组:MBN={U,MBlog,EUMB,EUU,FUMB,CUMB}.其中,U为微博平台上的注册用户集;MBlog为用户发表的微博集(含原创、转发或者评论的各类微博);Page4EUMB={e=(ui,mblogj)|ui∈U,mblogj∈MBlog}为用户与其所发表微博的连接边集;EUU={(ui→uj)|uifollowsuj}为用户通过关注而形成的连接关系集,通过follow关系容易得到用户的粉丝关系集;FUMB={(ui,mblogj)|ui∈U,uiforwardedmblogj}是用户与其所转发的微博的关系集;CUMB={(ui,mblogj)|ui∈U,uicommentedonmblogj}是用户与其所评论的微博的关系集.定义2.微博博文.形式化描述为一个三元组:MBlogi={MBlogi_body,MBlogi_t,MBlogi_u}.其中,MBlogi_body为微博主体内容;MBlogi_t为微博发表的时间;MBlogi_u为发表该微博的用户.定义3.微博用户.形式化描述为一个六元组:ui={ui_Name,ui_Bg,ui_MBlog,ui_Follower,ui_Fans,ui_Visitor}.其中,ui_Name为微博的用户名,是微博网络中用户的唯一标识符;ui_Bg为微博平台上的用户背景信息,不同微博平台背景有所差异;ui_MBlog为用户在微博网络上发表的微博集;ui_Follower为用户的关注集;ui_Fans为用户的粉丝集;ui_Visitor为用户的访客集,访客类用户指没有与用户ui构建关注和粉丝关系,但与ui进行了微博互动,包括发表微博时的“@”、转发或者评论行为.依据定义3,可以容易地获取用户ui的关注数量ui_Follower、粉丝数量ui_Fans及访客数量ui_Visitor.3.2相似用户发现模型及用户相似度计算模型给定任意一个用户,从微博平台中尽可能发现多的相似用户是本文研究的主旨.但由于微博用户的海量性,不可能漫无目的地在用户群体中随机查找.为减少计算的规模、更快速的发现相似用户,特定用户的相似用户发现方法一般都是从微博用户的某个子集出发,该问题描述如下:(1)输入:微博特定用户SpecUser;(2)输出:根据SpecUser构建用户的自我网络EN(EgoNetwork),自我网络的构建一般是基于用户的关注(followers)和粉丝(fans),得到的用户集记为EN(SpecUser)U,U为微博平台所有的用户集,再通过某种计算方法从EN(SpecUser)中挖掘出与SpecUser相似的用户集SimUser(SpecUser),易知SimUser(SpecUser)EN(SpecUser).本文提出的特定用户的相似用户发现模型如图1所示.图1所示模型中,我们根据发表微博时可以“@”给选定用户及访客(Visitor)可以对用户发表的微博进行评论或者转发的特点,对传统的自我网络EN(EgoNetwork)进行扩展.相似粉丝、相似关注是一种闭合空间的相似用户发现方法,而相似访客的发现是一种类似于随机游走的发现策略,是对EN的进一步扩充,是对发现相似用户全面性及多样性有益的补充.已有的社交网络分析方法,在社交行为分析时,主要基于关注和粉丝构建用户SpecUser的自我网络EN,用于后期分析的自我网络EN的用户集表示为EN(SpecUser)=FollowerCS(SpecUser)∪FansCS(SpecUser).其中,FollowerCS(SpecUser)为特定用户SpecUser的关注类用户集,FansCS(Spec-User)为SpecUser的粉丝类用户集.扩展的自我网络EEN(ExtendedEgoNetwork)扩充了用户的规模,得到用于分析的用户集表示为EEN(SpecUser)=FollowerCS(SpecUser)∪FansCS(SpecUser)∪VisitorCS(SpecUser).其中,VisitorCS(SpecUser)为特定用户SpecUser的访客集.实际应用中,根据分析深度的需求,扩展的自我网络EEN可以层层扩展,即根据关注、粉丝、访客等用户像滚雪球一样进一步采集到他们关联的用户,不断扩充用户的规模.可知,最终发现的特定用户SpecUser的相似用户集SimUser(SpecUser)EEN(SpecUser).本文提出的两个微博用户u1和u2之间的相似度计算模型如图2所示.图2所示模型中,用户属性分为动态属性DynamicAttr和静态属性StaticAttr,DynamicAttr包括微博MBlog和交互Interaction,StaticAttr包Page5括关注Follower和粉丝Fans.在分别计算用户的动态微博相似度MBSim(u1,u2)、动态交互相关性RC(u1,u2)、关注相似度FollowerSim(u1,u2)和粉丝相似度FansSim(u1,u2)的基础上,最终由这4类属性决定两个用户的相似度.用户文本属性的选取之所以使用用户的微博,这是因为:从隐私的视角而言,用户的很多背景在社交媒体上公开的较少[23-25],能公开的主要是兴趣爱好、职业等;此外,微博媒体用户的关联,被认为是内容驱动的,即计算用户所发微博的相似度,对用户相关性的计算更有价值[26].3.3特定用户的相似用户发现算法本文在图1的特定用户的相似用户发现模型和图2的用户相似度计算模型思想的指导下,从微博中发现特定用户的相似用户的算法设计如下.算法1.特定用户的相似用户发现算法.输入:微博用户SpecUser输出:相似用户集合SimUser(SpecUser)1.从给定的微博用户SpecUser出发,获取如下信息:1.1.获取时间片TimeSpan内用户SpecUser的所有微博集MB-SpecUser,包括原创、转发、评论的微博;1.2.获取SpecUser的关注集FollowerCS(SpecUser)和粉丝集FansCS(SpecUser);1.3.根据SpecUser的微博集MB-SpecUser提取访客集VisitorCS(SpecUser),将3类用户记为EEN(SpecUser)=FollowerCS(SpecUser)∪FansCS(SpecUser)∪VisitorCS(SpecUser).2.获取每个用户ui∈EEN(SpecUser)在时间片Time-Span内的微博集MB-ui、关注集FollowerCS(ui)、粉丝集FansCS(ui).3.计算用户SpecUser与ui∈EEN(SpecUser)的动态微博相似度,记为MBSim(SpecUser,ui).4.计算用户SpecUser与ui∈EEN(SpecUser)的动态交互相关性,记为RC(SpecUser,ui).5.计算SpecUser与ui∈EEN(SpecUser)的相似度Sim(SpecUser,ui).6.按照相似度大小选取top个用户,得到相似用户集SimUser(SpecUser).该算法包括6个步骤,步1、2和6比较简单,容易实现,步3用户动态微博相似度计算、步4用户动态交互相关性和步5整合各个要素的用户相似度计算是本文研究的重点,在文章的3.4节、3.5节和3.6节分别介绍.特定用户的相似用户发现算法的复杂度由以下6个要素组成:(1)Time(CrawlMB),采集微博时间,包括特定用户、关注、粉丝和访客4类用户的博文采集时间;(2)Time(CrawlFollower),采集用户的关注时间,包括特定用户、关注、粉丝和访客4类用户的关注;(3)Time(CrawlFans),采集用户的粉丝时间,包括特定用户、关注、粉丝和访客4类用户的粉丝;(4)Time(MBSim(SpecUser,ui)),计算用户的动态微博相似度时间;(5)Time(RC(SpecUser,ui)),计算用户的动态交互相关性时间;(6)Time(Sort(EEN(SpecUser))),计算用户的动态交互相关性时间.因此,算法的总复杂度可表示为O(TotalTime)=Time(CrawlMB)+由式(1)可见,算法的复杂度主要由用户的个数决定,即分析的用户个数越多,算法的复杂度越高.由于微博用户的关系可以层层扩展,因此分析工作量较大,具体实现时,可以对分析用户的层数加以限制.比如文献[16]选取了50个种子用户,采集时仅扩展了1层.3.4用户动态微博相似度计算用户的动态微博相似度计算指将用户的微博按时间片进行划分,分别计算每个时间片的微博相似度,再采用一定的衰减策略进行累加.已有方法在衡量两个用户发表微博相似度时,往往将一段时间范围内(比如1个月或者1年)的微博作为一个整体.如果不考虑按时间的动态划分,即按时间片分别计算不同时间片的用户微博相似度,Page6那么在某个时间片内有较高相似度的微博,在面对整个时间周期时,这种相似度很可能被淹没.时间片的划分一种是采用固定的时间周期进行均匀划分,另一种是根据用户的活跃程度等指标进行非均匀划分.在计算用户的微博相似度时,采用均匀的划分方法,可能将属于同一话题的微博分到不同的时间片,但这并不影响计算效果,因为在不同的时间片微博的相似度同样可以计算,而且不同时间片的计算结果还需进行累加.因此本文采用了均匀的时间片划分方式.Aaron等人[27]认为时间窗口受日历等生活周期的影响,我们借鉴此思想,将时间周期定义为天、周及月分别进行实验分析.微博中用户和微博的动态网络如图3所示.图3所示的网络模型和传统二部网络不同,添加了时间轴的动态约束.用户和微博的动态网络表示为G=(V,E,T).其中,T为时间片集,T={T1,T2,…,Tm};V为用户和微博集,V={VT1,VT2,…,VTm},VTi=UTi∪MBTi,其中UTi,MBTi分别为时间片Ti的用户集和微博集,满足UTi∩MBTi=,UT1=UT2=…=UTm;E为边集,E={ET1,ET2,…,ETm},是一个映射函数ETi:UTi×MBTi→{0,1},即epq(uTip,MBTi用户的很多博文过于短小,比如“赞了”、“好的”、“喜欢”、“期待中”等内容.我们对微博中常用的口头语进行了整理,目前整理的微博口头语词库共包括173条.基于这些词库对微博内容进行过滤,过滤掉的微博不再参与后期的特征提取及微博的相似度计算,但可以作为用户之间的交互行为,用于用户间的交互相关性的计算.计算时间片Ti内两个用户的微博相似度时,将Ti内两个用户的微博分别看作一个整体,相当于是计算两篇文本的相似度.但因为微博样本的特征稀疏,而且话题总是由多个关联性强的词构成的,比如“地震”话题,信息中缺少不了“地震”话题的“时间”、“地点”、“伤亡”等关键词,所以我们采用了互信息的方法从微博中选取最有代表性的若干个特征,用于后期的微博相似度计算.MB-uTi一个用户uj在时间片Ti发表的所有微博记为j,基于互信息的微博特征词提取步骤如下:(1)对MBS-uTi动词的过滤参考文献[28]归纳的内容),获取的特征词集合为WSTi征词);(2)计算两个词的互信息,计算方法如下[29]:MI(wTijv其中,f(wTi共同出现的次数.由于微博比较短小,本文将窗wTi口定义为每条微博范围内.对x个特征词,进行两两计算得到的互信息矩阵犕犐犕(对称矩阵,同一个特征词互信息不做计算,值设为0)为熿wwTij10MI(wTij2……wTijx燀(3)从犕犐犕中选取互信息度大的y个词作为MB-uTij的最终特征.用户uTij={〈kw1-uTiuTi〈kwy-uTi使用TF×IDF方式计算.在时间片Ti内两个用户uTi计算方法使用经典的余弦相似度计算方法,如式(4)所示:MBSim(uTi已有研究认为[30-32],微博用户圈子与进化聚类极为相近,存在短时平滑性现象,即动态网络的聚类结构在短时间内的变化是平缓的.短时平滑意味着短期内的历史交互信息(微博的评论、转发或原创)和当前交互信息具有一定相似性,可以将短时历史交互信息和当前交互信息综合作为当前时刻用户交Page7互相似性,以克服时间窗口划分带来的数据稀疏或观察缺失带来的问题.综合历史信息和当前信息的实现方法之一是对有限相邻时段历史信息进行衰减累计.本文使用了指数衰减的方法.用户up,uq微博相似度计算方法如式(5)所示:MBSim(up,uq)=∑其中,Ti-T1的计算结果为时间片相差个数;λ为指数衰减的参数.3.5用户动态交互相关性计算微博媒体中,用户之间通过评论或转发的形式进行交互,这种行为能够体现用户共同的兴趣,反映了用户间的关联强度,即交互性强的,就可能进一步增加用户间的相似性.用户的交互相关性理解为用户间的交互次数.微博用户的动态交互网络如图4所示.微博用户的动态交互网络表示为G=(V,E,T),其中,T为时间片集,T={T1,T2,…,Tm};V为用户集,V={UT1,UT2,…,UTm},UT1=UT2=…=UTm;E为交互边集,E={ET1,ET2,…,ETm},是一个映射函数ETi:UTi×UTi→{0,num},num1,即epq(uTip,uTi在时间片Ti内两个用户uTi为用户间的交互次数,记为RC(uTi片的最大交互次数记为RCmax,以RCmax为参考对用户的交互相关性进行归一化:同样的,借鉴文献[30-32]阐述的微博用户圈子的短时平滑性现象,在计算用户动态交互相关性时,引入指数衰减来刻画这种关系.用户up,uq的交互相关性计算方法如式(8)所示:RC(up,uq)=3.6用户相似度计算考虑到用户的关注、粉丝和微博,计算用户SpecUser与ui∈EEN(SpecUser)的相似度Sim(SpecUser,ui)方法如式(9)所示:Sim(SpecUser,ui)=λ1×FollowerSim(SpecUser,ui)+其中,关注相似度定义为FollowerSim(SpecUser,ui)=FollowerCS(SpecUser)∩FollowerCS(ui)FollowerCS(SpecUser)∪FollowerCS(ui)粉丝相似度定义为FansSim(SpecUser,ui)=微博相似度的计算使用3.4节式(4)和式(5)计算.对于式(9)中λ1,λ2和λ33个系数的确定,已有方法多是经验指导的.由于微博用户的海量性,发现相似用户的常用评价指标是P@n,即取排名前n的相似用户,判断是真正相似用户的比例.对微博用户而言,由于每个用户涉及的信息较杂,包括关注、粉丝、微博、交互等要素,靠人工判断难度很大.所以,我们对P@n进行改进,提出了S@n的评价指标,即计算每种方法(本文使用了4.2节介绍的4种方法)得到的前n个相似用户的得分.4.2节的实验评测方法各有侧重点:方法1是SUDByText使用用户的背景及微博等文本信息;方法2是SUDBySN使用用户的社交信息,包括关注和粉丝;方法3是SUDByTSN考虑了用户的文本及社交信息;方法4是SUDByTSN-VD(取访客Visitor及动态Dynamic的第1个大写字母)为本文提出的方法.由于4种方法在计算用户间相似度时的出发点都各有侧重,因此,如果发现的用户u1能够在4种方法的前n个用户中出现的比例越高(即不同侧重点的方法都可能发现用户u1),可以相信,用户u1为相似用户的可能性就越大.Page8假设有m种评价方法,方法Methodi(1im)得到的前n个相似用户的集合为Methodi={ui1,ui2,…,uin},将ui1在每种方法得到的相似用户集出现的总次数记为Count(ui1),则方法Methodi的S@n=∑容易实现,且相对客观.基于S@n的计算思想,对每个用户而言,目标是S@n最大,该问题的描述如式(12)所示:maxS@ns.t.0λ11,0λ21,0λ31,本文选取了学术研究、企业管理、教育、文化、军事5个领域的50个种子用户,在实验的基础上考察λ1、λ2和λ33个系数的取值范围,详见4.4节的论述.进一步地,考虑到用户交互相关性对用户相似度的影响,最终的用户SpecUser与ui∈EEN(Spec-User)的相似度计算如式(13)所示:Sim(SpecUser,ui)=log其中RC(SpecUser,ui)为用户SpecUser和ui动态交互相关性,计算方法使用3.5节式(7)和式(8),取对数为了体现交互对最终相似度计算影响的平滑性.4实验及分析4.1实验数据目前,没有用于微博用户相似度计算的公开语料,研究者大多是根据需求,自行从指定的微博上采集相关语料.比如,文献[16]以互联网高管领域50个用户为种子,爬行了1层,得到了关注、粉丝用户集及他们的背景信息、交互信息和微博集.胡云等人[33]使用了数据堂公司提供的5000个用户(该数据是发布者随机抽取的)进行了实验,但这些数据仅包含用户名、关注数、粉丝数及微博数等基本信息,实验时还需进一步采集.Hamid等人[14]面向Facebook,从1个用户的社交网络出发,随机选取了20个用户进行了数据采集与分析.彭泽环等人[18]面向腾讯微博,选取了两个时间点收集部分数据.本文以新浪微博为例,选取了学术研究、企业管理、教育、文化、军事5个领域的50个种子用户进行实验数据的采集与分析.在新浪微博搜索框中输入领域关键字进行检索,然后点击“找人”按钮,选取了“个人认证”及“普通用户”两类用户,使用HtmlUnit进行采集.有些领域用户的关注或者粉丝过多,超过几万、甚至是上百万.为了分析的方便,对获取的用户进行了筛选,关注及粉丝数限定在5000以内.从每个领域中随机选取10个种子用户进行实验分析,微博的采集时间限定在2015年1月1日至2015年5月28日,共计5个月.5个领域获取的认证及普通用户情况见表1所示.序号12345目前,新浪微博为防止他人获取用户的关注、粉丝进行恶意关注或广告骚扰,对非本人的关注、粉丝的访问量进行了限制,只能获取前5页内容,大约100个关注、100个粉丝.从统计分析的角度而言,抽取100个关注和100个粉丝样本进行统计分析也是有代表性的.5个领域50个用户的关注、粉丝、访客及微博数量如表2所示.序号12345共计为了计算特定用户与每个关注、粉丝及访客的相似度,需扩展下一层采集关注、粉丝及访客3类用户的关注、粉丝及微博.同样的,每个用户的关注和粉丝的个数都为100,采集微博的时间限定在2015年1月1日至2015年5月28日.用户的微博内容一方面是原创的,另一方面是转发/评论的,将转发/评论的微博同样作为用户的微博内容,但转发/评论同一微博多次时仅算1次.最终获取的用于实验分析的关注类用户总数为2157843、粉丝类用户总数为2086613、微博总数为932531.①2015年5月28日执行完采集.Page94.2几种实验方法实验选用的6种方法介绍如下:(1)方法1:SUDByText,基于用户的背景和微博计算用户的相似度,类似于文献[5-6,10,12]介绍的方法.根据新浪微博的特点,选取的用户背景信息包括简介、标签、教育、职业信息.背景信息的相似度计算采用了Jaccard方法,和式(10)、(11)相同.微博的相似度计算和式(3)相同,没有按时间片划分考虑微博的动态性.背景及微博相似度线性整合时的取值参考文献[5-6,12],分别为0.3和0.7.(2)方法2:SUDBySN,基于关注和粉丝的社交网络计算用户的相似度,类似于文献[13,15]介绍的方法.社交网络构建时仅利用了关注和粉丝,没有考虑访客.关注和粉丝的相似度计算采用了Jaccard方法,和式(10)、(11)相同.最终的相似度对关注和粉丝的相似度进行了线性整合,参考文献[13,15]的取值,关注相似度的权重为0.6,粉丝相似度的权重为0.4.用户间的交互相关性计算和式(8)相同,但没有考虑交互的动态性.(3)方法3:SUDByTSN,已有的混合方法,基于用户的文本信息和社交网络计算用户的相似度,类似于文献[16-18]介绍的方法.文本信息包括微博及简介、标签、教育、职业信息等背景信息,社交网络仅利用了关注和粉丝,没有考虑访客.背景信息及微博的相似度计算和方法SUDByText相同;关注和粉丝的相似度计算和方法SUDBySN相同.(4)方法4:SUDByTSN-VD,本文提出的混合方法.该方法仅选取了用户的微博信息,社交网络构建时利用了关注、粉丝和访客3类用户.为了减少统计分析量,对用户扩展的自我网络涉及的3类用户,第1层扩展时采集了关注和粉丝的基本信息及其在2015年1月至5月发表的所有微博,并从微博中提取出访客,第2层扩展时仅采集了关注和粉丝的用户名.时间片的指数衰减参数λ的取值参考文献表3方法犛犝犇犅狔犜犛犖-犞犇得到的与用户“王利锋Fandy”相似的前10个用户排序12345678910[34],λ=0.3.计算用户相似度时,关注、粉丝及微博相似度的权重分别为λ1=0.5,λ2=0.2,λ3=0.3,3个参数的取值对实验结果的影响参见4.4节的论述.时间片按周划分,不同的时间片划分(天、周及月)对实验结果的影响参见4.5节的论述.进一步地,为验证用户间的交互性、时间片划分以及时间衰减累加策略对本文所提方法SUDByTSN-VD的影响,对SUDByTSN-VD进行修改,得到方法5和方法6:(5)方法5:SUDByTSN-VD1,和方法4不同的是没有考虑用户之间的交互性,即用户相似度的计算使用了关注、粉丝和微博3个指标,实验参数的设置(包括指数衰减参数λ,关注、粉丝及微博的3个系数λ1,λ2和λ3)和方法4相同.(6)方法6:SUDByTSN-VD2,和方法4不同的是微博相似度及交互相关性计算时没有考虑按时间的衰减累加策略,关注、粉丝及微博的3个系数λ1,λ2和λ3的取值和方法4相同.4.3发现相似用户的准确性比较如3.6节所述,我们采用S@n评价前4种方法在计算用户相似度时的优劣.要注意的是,本文提出的方法SUDByTSN-VD的相似用户由于扩展到了访客类,而这些访客在方法1、方法2和方法3中是无法得到的.因此,在计算SUDByTSN-VD的S@n指标时,对访客进行如下处理:对其他3种方法,分别计算访客与指定用户的相似度,对方法Methodj∈{SUDByText,SUDBySN,SUDByTSN}而言,如果访客visitori的相似度值可以进入前n,则认为visitori存在于Methodj的相似用户集中.对学术研究领域(信息检索)用户“王利锋Fandy”,本文提出的方法SUDByTSN-VD得到的前10个相似用户如表3所示.对50个微博用户,4种方法得到的平均S@n如表4所示,趋势如图5所示.5个月的微博数Page10表44种方法得到的50个微博用户的犛@狀领域学术研究企业管理教育文化军事AverageS@n29.4图54种方法得到的50个用户的平均S@n由表4和图5可见,对50个用户的平均S@n而言,方法SUDByTSN-VD得分最高,为34.8;方法SUDByTSN的得分其次,为33.5;方法SUDByText得分最低,为29.4.在4种方法中,SUDByTSN与SUDByTSN-VD的得分都比较高,这进一步验证了,混合型社交网络分析的优势所在.方法SUD-ByTSN-VD的S@n得分高于方法SUDByTSN,这是因为SUDByTSN-VD引入时间的动态约束,使得发现的用户更为准确.方法SUDByText仅利用了用户的背景和微博信息,方法SUDBySN仅使用了微博的社交网络信息,包括关注及粉丝,这两种方法都有一定的缺陷.就SUDByText和SUD-BySN而言,方法SUDBySN要优于SUDByText,这也进一步验证了用户的社交信息比用户的其他信息更有利用价值.对5个领域而言,“学术研究”和“军事”两个领域得分较高,主要原因是获取该领域用户时使用了“信息检索”、“歼20”进行搜索,关键词的范围限定比较具体,得到种子用户的朋友圈比较窄小,所发表的微博比较专业,每个用户的相似用户得分比较平稳.而对于另外3个领域(“企业管理”、“教育”和“文化”)的用户而言,他们的朋友圈往往过大,粉丝都可能达到几十万人,日常所发微博也比较发散,对相似用户的计算干扰较大.这说明,用户所属的领域范围越是狭小、专业化程度高,在发现相似用户时的效果越好.此外,我们对50个用户发现的500个相似用户(每个用户取排名靠前的10个相似用户)的活跃性进行统计,发现在5个月的时间段内,500个用户中,95%以上的用户都有100次以上的转发、评论或者发表微博的行为,只有5%的用户不太活跃.不太活跃的用户之所以排名靠前,原因是计算相似度时的关注、粉丝指标得分较高.微博媒体中存在的“冷启动”用户可以分为两种情况:(1)新用户;(2)不活跃用户.对新用户而言,由于关注、粉丝、微博及交互4类信息几乎没有,因此本文所提方法难以发现此类“冷启动”用户.对不活跃用户而言,这类用户发表的微博、与其他用户间的交互较少,这两个属性得分较低,如果粉丝和关注的信息量较大,即使微博、交互较弱,本文所提方法也可能发现此类用户.但明显的是,本文所提方法更有利于发现微博中的活跃用户,即经常发表微博、有一定量的关注和粉丝、与其他用户互动性强的用户.4.4关注、粉丝及微博的系数取值基于3.6节介绍的参数优化思想,我们对5个领域的50个用户在确保S@10最大的前提下,对关注、粉丝及微博3个系数的取值范围进行了实验.过程1.计算S@10的3个核心步骤:(1)Sort.按照计算的相似度对用户集中的用户排序;(2)Select.从排序的用户集中,选取相似度最高的前10个用户;(3)Count.计算10个用户在各种方法中(本文使用了4.2节介绍的4种方法)的得分(具体的得分计算论述参见3.6节内容).计算用户相似度时的3个参数λ1,λ2,λ3取值分为[0,0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1.0],共11种情况.以S@10最大值为参考,值相差范围不大时(本文取5%),认为λ1,λ2,λ3的取值都是合理的.时间片的选取以周为单位.50个用户的λ1,λ2,λ33个参数取值范围,统计结果如图6所示.从图6可见,λ1的取值位于区间[0.3,0.6]居多,占70%,其中最多的是区间[0.4,0.5];λ2的取值位于区间[0.2,0.4]居多,占78%,其中最多的是区间[0.2,0.3];λ3的取值位于区间[0.3,0.5]居多,占64%,最多的是区间[0.3,0.4].这说明,在计算用户相似度时,对关注、粉丝、微博3个要素而言,最重要的是关注,其次是微博,最后是粉丝.在实际应用中,在保证λ1+λ2+λ3=1的情况下,λ1,λ2,λ3的取值只要是落在这些区间,可以认为就是合理的.Page11图650个用户的λ1,λ2,λ33个参数取值范围4.5时间片划分对发现相似用户准确性的影响对获取的2015年1月至5月的共5个月的微博,在用户动态微博相似度计算及用户动态交互相关性计算时,参考工作周期的划分原理,我们分别以“天”、“周”和“月”进行时间片划分实验.对本文提出的方法SUDByTSN-VD,选用了3个不同时间片,得到的实验结果S@n如表5所示.领域学术研究企业管理教育文化军事平均由表5可见,时间片按照“天”划分得到的S@n为29.08,时间片按照“周”划分得到的S@n为29.36,结果相差很小,仅为0.28.而按照“月”划分得到的S@n为27.24,由于时间周期偏长,微博的动态相似度及交互相关性计算效果体现不够明显,实验结果S@n差一些.考虑到微博相似度计算及交互相关性计算的时间消耗,实际应用中建议时间片选取“周”进行划分比较合理.4.6交互相关性对发现相似用户准确性的影响与方法SUDByTSN-VD相比,SUDByTSN-VD1在计算用户相似度时没有考虑用户之间的交互性,仅利用微博、关注和粉丝3个属性.2种方法得到50个微博用户的S@n如表6所示.Page12领域学术研究企业管理教育文化军事平均由表6可见,SUDByTSN-VD1得到的S@n为33.22,SUDByTSN-VD的S@n为34.8,结果较大,为1.58.同时发现,SUDByTSN-VD1不如SUDByTSN的得分高,SUDByTSN的得分为33.5.在计算微博用户的相似度时,用户之间的交互信息对改善相似度计算的效果是有较大帮助的.4.7时间衰减对发现相似用户准确性的影响与方法SUDByTSN-VD相比,SUDByTSN-VD2在计算用户相似度时没有采用按照时间片而进行衰减累加的策略,用户动态微博相似度计算方法如式(14)所示:MBSim(up,uq)=∑用户动态交互相关性计算如式(15)所示:两种方法得到50个微博用户的S@n如表7所示.由表7可见,SUDByTSN-VD2得到的S@n为34.22,SUDByTSN-VD的S@n为34.8,相差0.58,效果有所下降.这说明,按照时间片进行指数衰减累加的策略对用户相似度计算是合理的.表84种方法得到的相似用户的分布情况领域学术研究企业管理教育文化军事Average由表8可见,方法SUDByTSN-VD通过扩展传统的自我网络,引入了访客类用户,增加了获取的相似用户的多样性.同时,由于获取的用户都是按照相似度排名的,引入访客后,获取到了更加相似的用户.对4种方法而言,pfollower普遍较大,SUDByText的平均pfollower=74%,SUDBySN的平均pfollower=75%,SUDByTSN的平均pfollower=78%,SUDByTSN-VD的平均pfollower=56%,这说明了微博的相似用户在关注类用户中比例最大.对方法SUDByTSN-VD领域学术研究企业管理教育文化军事平均4.8发现相似用户的分布比较已有方法发现的相似用户仅分布于关注和粉丝两类,本文提出的方法SUDByTSN-VD发现的相似用户分布于关注、粉丝和访客3类.相似用户的分布评价包括:(1)关注比例pfollower=(2)粉丝比例pfans=(3)访客比例pvisitor=对5个领域的用户,4种方法得到的pfollower、pfans和pvisitor结果如表8所示.表8中,发现的相似用户可能同时属于多类用户,比如同时属于关注和粉丝,计算指标得分时,需重复统计.假设一个相似用户既是关注,又是粉丝,在统计关注和粉丝的分布比例时,需各自计算1次.pfollower828078767678而言,访客的比例(32%)稍大于粉丝的比例(30%).实验的过程中,我们发现访客类用户的相似度之所以能够排在前面,主要是用户间的微博相似度比较大,有很多用户对某个用户ui的微博进行了转发或者评论,但这些用户其实并不是用户ui的关注或者粉丝.这也进一步说明了在相似用户发现的过程中,访客类用户利用的优势.再加上有些微博(比如新浪)开始限制用户获取非本人的关注和粉丝的个数,借助访客发现相似用户的思路更是值得Page13借鉴的.对5个领域发现的相似粉丝类用户及访客类用户而言,由于“学术研究”和“军事”选取的用户领域比较狭小,“学术研究”和“军事”的粉丝类相似用户的比例分别为34%和36%,访客类相似用户的比例分别为36%和38%.这同样说明了,对于领域范围较窄的用户,粉丝/访客既然对某用户进行了转发/评论,表明该粉丝/访客在朋友圈或者微博话题方面与此用户有较高的相似度.5总结社会网络是由作为节点的社会行动者及他们之间的关系构成的集合,其研究领域总体上分为个体网及整体网两大类别.整体网可以根据节点或者节点之间的联系分为多种类型,比如朋友关系网、组织关系网、城市网、战略同盟网、产业链网等等.个体网强调的是从单个节点或者连接边出发,分析节点或者连接边本身及周围的情况.比如研究一个用户的情感倾向、兴趣爱好、关注、好友关系的分布、密切交互关系的年龄特征等等.本文从个体网的角度出发,面向微博社交媒体,研究了微博中任意给定一个用户,从中挖掘出与其相似用户的群体,以作为线索发现、社区划分、好友推荐等工作的基础.本文在研究过程中,所提的两个核心创新点:访客用户的利用、动态微博相似度及交互相关性计算,通过与已有方法的对比,在相似用户发现的多样性及准确性方面有了显著的改善.对于该问题的研究,我们认为如下内容还需进一步加深:(1)用户微博的相似度计算,可以考虑基于话题的微博相似度计算方法,其核心问题是微博媒体的话题提取,已有的LDA、动量模型、速度增长、有意义串、分层次聚类等技术,需通过大规模的实验比较它们在微博话题提取中的应用效果;(2)探寻更合理的微博用户的动态计算方法,研究基于非均匀划分、滑动窗口等策略的微博相似度及交互相关性计算技术;(3)结合应用场景,研究可调整的微博用户相似度计算模型.根据实际问题,在用户的属性选取、权重系数设置等方面设计不同的模型.比如,挖掘同一研究领域的用户,用户的背景、发表的微博等属性就比较重要;研究关系密切的用户,用户间发表的微博、交互行为等属性就比较重要;(4)基于大数据分析技术,对微博的自我网络进行更深层次的扩展,以发现更多的相似用户,进一步对数据进行统计显著性分析.致谢审稿专家对本文提出了细致、富有建设性的修改建议;江苏金鸽网络科技有限公司为本研究提供了实验数据集.在此一并致谢!
