Page1基于词汇时间分布的微博查询扩展孔蕾蕾2)1)(哈尔滨工业大学计算机科学与技术学院哈尔滨150001)2)(黑龙江工程学院计算机科学与技术学院哈尔滨150050)摘要该文提出了一种面向微博检索的基于词汇时间分布的查询扩展方法.该方法利用扩展词与查询词的时间分布的相似性来度量扩展词与查询词之间的相关度,建立了基于词汇时间分布的查询模型.具体而言,该文在提出词汇时间分布的定义和估计方法的基础上,给出了查询词与扩展词的时间分布相似性的度量,以此作为它们的相关度,完成扩展词的选择和查询模型的重估.该文方法利用时间信息而不是内容来扩展查询,避免了基于内容的查询扩展方法因微博内容短而无法准确估计扩展词的不足.由TREC2011和TREC2012微博检索评测数据上的实验结果表明,基于词汇时间分布的查询扩展模型有效地提高了微博检索的性能,不仅显著优于经典的基于内容的查询扩展模型,而且优于其他利用时间进行查询扩展的方法.关键词微博检索;查询扩展;查询模型;词汇时间分布;时间;社交网络;社会媒体1引言查询相关文档时往往使用不同的词语来描述相同的事物,而这些相关文档是无法通过与查询词的匹配被检索到的,这就是长期影响信息检索性能的词不匹配问题(VocabularyMismatchProblem)[1].在微博检索中,词不匹配问题更为严重,原因主要来源于两方面.一方面,用户的查询非常短,例如Twitter查询的平均长度为1.64个词,只有Web查询的50%[2],不足以准确的描述用户的信息需求;另一方面,由于字数限制,微博也非常短,例如,Twitter的长度被限制在140个字符内,新浪微博限制字数为140个汉字,这加剧了词不匹配问题.查询扩展是解决词不匹配问题的主要方法之一.查询扩展将与查询相关的词加入到用户的原始查询中,丰富查询模型,缓解词不匹配的问题,从而提升检索性能[3-5].在各种查询扩展方法中,基于内容的查询扩展是最主要的解决策略[5].其基本思路是采用相关反馈方式,首先将查询的初始检索结果展现给用户,然后通过与用户交互反馈获得与查询相关的文档(被称为反馈文档),从反馈文档中提取查询扩展词形成新的、更有效的查询[4],最后使用新查询再次进行检索,以期获得更好的检索效果[5].然而,在微博检索中,基于内容的查询扩展受到了一定的影响:作为反馈文档的微博过短,并且大多数词只出现一次,严重的数据稀疏无法提供可靠的信息来建立查询和扩展词之间的关系[6].近期研究发现,相关微博在时间上具有新近性[7-9]和爆发性[10-16]的特点,这些特点有助于改善微博检索的性能,利用时间的查询扩展受到越来越多研究者的关注[7,10-12,17].目前,微博检索中利用时间的查询扩展主要包括两类方法.第一类方法是基于新近性的查询扩展,这类方法认为越新发布的文档越符合用户的查询需求,在作为反馈文档时应该给予更高的权重.例如,Li和Croft[17]的研究中给予距离查询时间更近的文档以更高的先验概率,使来自这些文档的词有更高的概率成为扩展词.第二类方法可称为基于爆发性的查询扩展,这类方法利用相关微博的发布在时间上具有爆发性(聚集性)的特点来调整反馈文档的权重,给予在微博爆发期内的文档以更高的先验概率.例如,Keikha等人[10]根据反馈文档在时间上的聚集来估计微博的爆发期,给予爆发期内的文档以更高的先验概率,使扩展词有更高的概率来自于爆发期内发布的文档.这些基于时间的查询扩展方法的共同特点是利用时间信息来提高相关微博的先验概率,进而提高来自这些微博的词作为扩展词的概率.然而,在这些方法中,扩展词与查询的相关性依然依赖两者在相关微博内容上的分布信息建立,仍未摆脱微博短的限制.为了进一步解决这一问题,本文尝试从微博内容之外,直接利用时间信息来建立扩展词与查询词的关系.本文的出发点是观察到扩展词和查询词在不同时间段内被使用的频率具有同增同减的现象.这是由于在微博环境下,一个话题会在较短的时间内被大量转发和评论,与该话题的查询相关的词(简称相关词①)在这些爆发期内被大量的使用,当话题的热度消散以后,这些相关词的使用频率也随之下降,这意味着相关词的使用频率在时间上具有同增同减的趋势(详见3.1节).本文利用词的时间分布的相似性来刻画相关词在时间上的这种同增同减的现象,与查询词的时间分布越相似的词是查询的相关词的概率越大.据此,本文提出了基于词汇时间分布的查询扩展.具体而言,本文定义了词的时间分布及其估计方法,给出了度量查询词与扩展词的时间分布相似①本文中特指在相关微博中出现的与查询相关的词,不包括Page3性的方法,利用这种相似性估计查询词与扩展词的相关性,据此选择扩展词,建立基于词汇时间分布的查询模型.本文提出的基于词汇时间分布的查询扩展方法在TREC2011和TREC2012微博检索评测数据上进行了实验.结果表明,本文提出的方法优于基于内容的查询扩展方法和多个基于时间的查询扩展方法.本文第2节介绍相关工作;第3节定义词的时间分布,提出用时间分段语言模型估计词的时间分布的方法,给出了词的时间分布相似性的度量;第4节提出基于词的时间分布相似性重估查询模型的方法;第5、6节给出实验设计、实验结果及分析;第7节是对本文工作的总结和展望.2相关研究在微博检索中,时间信息逐渐受到重视,越来越多的研究利用时间信息来扩展查询[7,10-12,17].这些基于时间的查询扩展模型大多建立在语言模型的框架下,围绕相关反馈开展.本节首先介绍语言模型检索框架,然后介绍了语言模型框架下的基于相关反馈的查询扩展方法,最后介绍了以相关反馈为基础的利用时间信息进行查询扩展的相关研究.2.1语言模型检索框架在信息检索领域,文档语言模型(DocumentLanguageModel)简称为语言模型(LanguageModel),该模型以文档语言模型θD生成查询(query)的概率作为文档和查询相关度的依据[18].Lafferty和Zhai[19]在风险最小化模型下发展了语言模型,为查询和文档集合中的每一篇文档都建立一个统计语言模型,并通过一个损失函数建模用户的信息需求,将信息检索问题转化为一个风险最小化问题.在确定相关文档时,查询语言模型θQ和文档语言模型θD的相关度应用KL(Kullback-Leibler)距离度量[19]:KL(θQ|θD)=∑wV其中V是整个词汇表;w是V中的词项;θQ与θD分别是w在查询和文档的语言模型;P(w|θQ)和P(w|θD)分别是在查询语言模型θQ和文档语言模型θD中的概率.由于一篇文档包含词的数量有限,大部分都不在词汇表V中,存在着严重的数据稀疏问题,因此在对文档D建立语言模型时,通常使用平滑方法调整词在文档上的概率分布[20].本文在实验中采用JM平滑,文档语言模型可以估计为[21]P(w|θD)=(1-λ)Pml(w|D)+λPml(w|C)(2)其中D表示待估计的一篇文档;C表示整个文档集合;Pml(w|D)和Pml(w|C)分别表示应用最大似然估计,w在D和C中的概率;λ用来控制平滑项的影响.对于本文的实验,D是一篇单独的微博,C是全部微博的集合,即Tweets2011数据集全部微博.在查询扩展中,P(w|θQ)的估计通常采用原始查询的最大似然估计与查询扩展模型结合[5],形式为P(w|θQ)=(1-λ)Pml(w|Q)+λP(w|θQE)(3)其中Pml(w|Q)为原始查询Q的最大似然估计;θQE表示查询扩展模型.不同的查询扩展方法演化出众多的查询扩展模型.其中,基于时间的查询扩展的研究大多在基于相关反馈的查询扩展方法下展开.基于风险最小化的语言模型使得检索系统的优化不仅可以从文档建模的角度进行,也可以通过对查询建立语言模型来改进检索性能.本文的工作围绕查询建模开展,下面综述这方面的工作.2.2基于相关反馈的查询扩展基于(伪)相关反馈的查询扩展是查询扩展的主流方法之一.在相关反馈中,每个查询的相关文档需要人工反馈才能获得,代价过大,因此通常将初始检索结果的前n篇文档视为相关文档,这种方法称为伪相关反馈,检索结果的前n篇文档通常被称为伪相关反馈文档.在不引起歧义的情况下,本文随后的相关文档均指通过伪相关反馈确定的反馈文档.基于伪相关反馈的查询扩展的基本步骤可以描述如下:(1)用初始查询进行检索,得到检索结果列表;(2)假定列表中前n篇文档是相关文档;(3)将相关文档集中的词视为候选扩展词,根据某种策略对候选扩展词排序,选出排序最高的k个词作为扩展词,建立查询扩展模型;(4)根据原始查询模型和扩展查询模型重新估计一个查询模型,执行检索,得到最终的检索结果.在语言模型框架下,基于相关反馈的查询扩展方法中,Lavrenko和Croft[22]提出的相关模型(RelevanceModel)是使用最广泛的查询扩展模型之一.相关模型根据查询Q与备选扩展词w在与查询相关的文档集合R上共现的概率来估计查询模型,扩展后的查询模型为Page4其中:w是候选扩展词;Q是查询;R是相关文档的集合,d是R中的一篇文档,θd是文档d的语言模型;P(w,Q|θd)是w和Q在θd中出现的联合概率;P(d)是d的先验概率.2.3基于时间的查询扩展在相关反馈中,由于缺少估计相关文档的先验概率P(d)的信息,P(d)常被赋予相同的值.在微博环境下,相关微博在时间上的分布并不均匀[14],因此,研究者利用这一特点来估计P(d),从而获得更好的查询扩展词.基于时间的查询扩展主要分为两类:一是假设“时间越新文档越重要”,即利用新近性估计P(d),本文称其为基于新近性的查询扩展;二是假设“爆发期内的文档更重要”,即利用时间的爆发性调整相关文档的先验概率,本文将这类方法称为基于爆发性的查询扩展.2.3.1基于新近性的查询扩展在基于新近性的查询扩展中,代表性的工作是Li和Croft[17]提出的基于新近性的相关模型.该方法认为,越新的文档越可能是相关文档,他们利用文档发布的时间信息,以指数分布估计文档的先验概率,给予发布时间离查询时间越近的文档以越大的先验概率:其中tQ是用户提交查询的时刻;td是文档发布的时刻;λ是指数分布的参数.通过对相关模型的文档先验概率的重新估计,该方法定义查询扩展模型为P(w|θQE)∝∑θdR其中θd是文档d的语言模型.在基于新近性的查询扩展中,那些在“新”文档中的词将有更高的概率成为扩展词.2.3.2基于爆发性的查询扩展基于新近性的查询扩展方法不能很好的处理那些爆发期远离查询时间或者具有多个爆发期的查询[16,23].因此,研究者提出了利用微博发布时间的爆发性来进行查询扩展.Keikha等人[10]将时间因素引入到相关模型的框架中,提出了基于时间的相关模型.该方法将查询的生成过程看成是一个抽样的过程,首先以概率P(t|Q)选择一个时间,然后以概率P(w|t,Q)从这个时间的相关文档中抽样选择词w,P(w|t,Q)经过一些假设变换后等价于词在文档上的分布P(w|d)之和,最终的模型如式(7)所示.其中Rt表示的是在时间段t内的相关微博集合;d表示相关微博;P(t|Q)表示每个时间段对于一个给定查询的重要程度,应用给定查询的检索结果的得分来估计.P(t|Q)本质上是对相关文档的权重进行了调整.类似的工作包括:Choi和Croft[11]利用时间段内相关文档的转发数来确定重要的时间段,提出了一种利用用户的行为信息估计P(t|Q)的查询扩展方法,Peetz等人[12]通过不同时间段内的反馈文档的数量来确定爆发期,距离爆发期越近的相关文档越可靠,利用这些相关文档来选择查询扩展词.无论是利用新近性的查询扩展还是利用爆发性的查询扩展,时间特性仅被用来调整反馈文档的先验概率P(d),本质上查询扩展词和查询的关系还是在利用词在反馈文档内容上的分布P(w|θD)建立.然而,在微博检索环境下,作为反馈文档的微博过短,并且大多数词只出现一次,使得文档模型P(w|θD)估计并不充分,无法为查询扩展提供可靠的分布信息[6].仅依赖于时间对P(d)调整,不能从根本上解决反馈文档模型P(w|θD)自身估计的不足.这意味着时间信息的作用受到了限制,没有充分发挥作用.为此,本文尝试不依赖于反馈文档的模型P(w|θD),只通过词的时间特性建立查询词与扩展词之间的关系,实现查询扩展.3词汇时间分布微博作为人们交流的载体,其快速转发的特点使得受到关注的事件会在短时间之内引起人们大量的转发和讨论,与其相关的微博往往集中在一个或多个时间段内集中发布[13-16].这意味着,在一个话题的爆发期内,人们在讨论这个话题时会频繁地使用与这个话题相关的词.随着时间的流逝,这个话题逐渐淡出人们的视线,与这个话题相关的词的使用频率也随之下降.因此,词在不同时间段被使用的频率随着话题热门程度的改变,在时间上呈现出一定的波动性,且相关词在不同时间段上的使用频率存在同增同减的一致性趋势.本节将对这种现象进行分析,给出词汇时间分布的定义以及词汇时间分布相似性的度量方法,进而利用词的时间分布相似性来度量扩展词与查询词的相关程度.Page53.1词汇时间分布相似性在现有公开数据中,TREC微博评测提供了规模最大的微博标注数据.其组织者从Twitter网站抽样了2011年1月23日至2011年2月7日之间的1000多万条微博,给出了110个查询(topic1~110),并标注了这些查询的相关微博[24].本节以TREC微博评测的数据为例,对词的时间分布的相似性进行分析.首先,我们以“天”为单位,对不同时间段内的相关微博数量进行分析.图1展示了与查询(topic1、4、14、20)相关的微博的分布情况.从图1中可以看出,不同查询的相关微博数量在时间上的分布是不均匀的.但相同的是大多数的相关微博都集中在一个或几个“波峰”时间内.这意味着在不同的时间段内,相关词的使用频率也是不均匀的.为此,我们进一步以词为统计粒度进行了分析.图2不同时间段内查询词、与查询相关的词及与查询无关的词的数量查询1关注的是2011年1月英国广播公司(BBC)新闻部门裁员这一新闻相关的微博,主要内容是“BBCclosefiveofits32WorldServicelanguageservicesandstaffhavebeeninformedthatupto650jobswillbelostfromaworkforceof2400overthenextthreeyears.”图2给出了3个查询词“BBC”、“service”和“staff”,3个与查询相关的词“UK”、“language”和“job”,3个与查询无关的词“soccer”、“FIFA”和“catch”(来自查询2,关注的是结果表明,词汇在不同时间段上的使用频率同样存在着差异,而其中某个查询的相关词在不同时间段上的使用频率又存在一定的相似性.图2展示了查询1中的词、与查询相关的词及与查询无关的词在不同时间上使用频率.2022年世界杯)在以“天”为单位的时间段上的使用频率.其中,y轴是词频,x轴是时间(以“天”为单位),0对应的是2011年1月23日.观察图2可以发现,尽管词频的数值不同,但相关词的词频变化趋势是相似的.从图形上看,词“BBC”和“UK”、“service”和“language”、“staff”和“job”的图形具有一定的相似性,当某个时期内查询词的使用频率增加,与之相关的词的使用频率往往也跟着增加,反之,当某个时期查询词的使用频率减Page6少,与之相关的词的使用频率也相应的减少,这意味着相关词在不同时间段内的使用频率在一定程度上具有同增同减的一致性趋势.作为对比,3个与查询无关的词“soccer”、“FIFA”和“catch”与查询词的图形差异度则相对较大.3.2词和查询的时间分布从上面的分析可以看出词在不同时间段内的使用频率是变化的.从离散型概率分布的角度,这种变化可以使用词的时间分布来刻画,为描述方便使用符号P(T|w)来表示,T是表示时间段的随机变量.对于某个具体的时间段ti,使用P(ti|w)表示P(T=ti|w).P(ti|w)描述了人们在时间段ti使用该词的频繁程度,反映了词在时间段ti的热门程度.其中ti表示的是按照某固定时间间隔划分的时间片段,即微博集合的时间可以离散的表示为{t1,t2,…,tn},ti代表一个具体的时间片段(本文中以自然天(24h)为单位).在本文随后的内容中,无特殊说明的情况下,所提时间均在以一天为单位划分的时间段上加以分析和讨论.直接估计词的时间分布P(ti|w)比较困难,根据贝叶斯定理:假定时间段相互独立且每个时间段的先验概率P(t)相同,由全概率公式:则显然通过式(10),估计P(ti|w)被转化为估计P(w|ti).P(w|ti)表示从时间段ti内发布的微博所含的全部词的集合中抽样出词w的概率.P(w|ti)越大,表示在时间段ti上词w被使用的越频繁.换言之,P(w|ti)度量了词w在某一时间段ti内的热门程度,既表示在时间段ti上词w被使用的概率,可以应用这段时间内发布的全体微博的语言模型来度量.本文将每个时间段内全体微博建立的语言模型称之为时间分段语言模型,用θt表示,采用最大似然估计的一元语言模型估计.则P(w|ti)可以估计为其中V为整个词表;w为V中的词,c(w,ti)为w在时间段ti上发布的全部微博中出现的总次数.根据式(10)和(11),则词的时间分布可以用式(12)估计为词的时间分布反映词在不同时间段的热门程度,类似的,我们用查询的时间分布来反映这组查询词在不同时间段的热门程度,用P(ti|Q)表示.与P(ti|w)的推导同理,其估计方法如式(13)所示:P(ti|Q)=3.3时间分布相似性的度量从3.1节观察到的现象出发,假定相关词的使用频率在时间上具有同增同减的一致性趋势,本文将这种一致性称为词的时间分布相似性.本文认为,这种相似性从一定程度上反映了词的相关程度,可以利用这种时间分布上的相似性来度量词的相关度.考虑到度量两个分布之间距离的常用KL距离具有不对称性,本文应用常见闵可夫斯基距离[25](p=1)来进行度量.则词w和qi的时间分布P(T|w)和P(T|qi)的相似性可计算为S(P(T|w),P(T|qi))=∑ti∈T在单位时间上,式(14)等价于S(P(T|w),P(T|qi))=∑ti其中ti代表一个时间段,Δt是单位时间(在微博环境下,通常以自然天(24h)作为单位[10-12]).式(15)的物理意义是扩展词和查询词的时间分布所围成的面积.S(P(T|w),P(T|qi))的值越小则两者围成的面积越小,意味着w和qi越相似.以3.1节描述的查询1为例,图3分别展示了查询词“job”的时间分布与相关的词“staff”和不相关的词“soccer”的时间分布所围成的面积.从图3中可以看出,两个相关词所围成的图形的面积明显小于两个不相关词所围成的图形的面Page7积.式(16)给出了扩展词w和查询词qi的基于词汇时间分布相似性的相关度的估计:rel(P(T|w),P(T|qi))=N(S(P(T|w),P(T|qi)))(16)其中qi是查询Q中的任意一个词;w是反馈文档中的词;N(x)是归一化函数,且N(x)=(max-x)/(max-min),max和min分别为样本数据的最大值和最小值.由于两个分布围成的面积小于等于2大于等于0,因此本文将max设置为2,min设置为0.N(x)对x进行了线性变换,将x转换为[0,1]之间的值,并使两个词的时间分布所围成的面积与两个词的相关度成反比关系.即2个词的时间分布围成的面积S越小,两者的相关度越大.类似的,定义扩展词w和查询Q的相关度为rel(P(T|w),P(T|Q))=N(S(P(T|w),P(T|Q)))(17)图3查询词和相关词的时间分布围成图形与查询词和不相关词的时间分布围成图形的差异4基于词汇时间分布的查询扩展根据上述分析,相关词和查询词在不同时间段内的使用频率具有同增同减的一致性趋势.利用时间分布相似度可以度量扩展词和查询(或查询词)的相关程度.本节给出基于词汇时间分布的查询扩展,简称为TTDM(TermTimeDistributionModel).与其他查询扩展方法类似,TTDM将查询扩展模型与原始查询结合得到最终查询模型,如式(18)所示:P(w|θQ)=(1-λ)Pml(w|Q)+λP(w|θT)(18)其中θT是基于词汇时间分布的查询扩展模型;w是原始查询词以及应用词的时间分布相似性获得的查询扩展词.与其他查询扩展方法类似,w是从反馈文档中选出的相关程度最高的n个词.θT估计如下:其中score(w,Q)是扩展词与查询之间的相关度得分;w是扩展词;V是查询扩展词的集合.根据扩展词与查询之间的相关度进行查询扩展主要包括两种策略:一对一的策略和一对多的策略[5].所谓一对一的策略指查询扩展词的生成和排序依赖于备选扩展词和查询中的某个词的关联关系,而一对多的查询扩展方法中,查询扩展词的生成和排序则依赖于备选扩展词与查询整体的关系.根据这两种策略,本文定义了两种计算扩展词w和查询Q的相关度得分方法,记为score(w,Q),利用该得分选择扩展词和估计查询扩展模型.第1种方法利用一对一的策略,估计扩展词与单个查询词的相关度.该方法倾向于将与查询中某个查询词最相关的词扩展到查询中,即w和Q的相关程度取决于w与Q中相关度最高的词:score(w,Q)=max其中qi是查询Q中的词;rel(P(T|w),P(T|qi))用式(16)估计.第2种方法利用一对多策略,计算扩展词和查询整体的时间相关度.应用式(17),定义score(w,Q)为score(w,Q)=rel(P(T|w),P(T|Q))(21)其中P(T|w)是词w的时间分布,由式(12)估计;P(T|Q)是查询整体的时间分布,由式(13)估计.对于TTDM,采用一对多策略会存在一些问题:一是单个查询词的时间分布与查询整体的时间分布存在较大差异.仍然以TREC微博评测的查询1为例,对比图1和图2可以看出查询1的时间分布和查询词的时间分布存在较大差异.因此,通过查询整体的时间分布来选择扩展词存在一定的风险;二是与查询相关的词在时间上可能与一个查询词相关的,不一定与整个查询相关.例如:BBC和UK存在着相Page8关性,BBC的域名是http://www.bbc.co.uk/,从图2中也可以看出BBC与UK的时间分布是相似的,这种相似是客观的,并不依赖于“BBCcut”这一查询建立起来的.使用查询整体的时间分布会弱化每个查询词的时间分布,进而影响检索性能.因此,在TTDM方法上,利用扩展词与单个查询词的时间分布相似性进行查询扩展将优于基于扩展词与查询整体的时间分布相似性的查询扩展,第6节中的实验结果也验证了这一判断.5实验设置5.1实验数据实验使用的是TREC微博评测的数据.TREC评测是信息检索领域影响力最大的评测,其数据集受到研究界的普遍认可.本文使用TREC2011和TREC2012微博数据集[24]进行实验.该数据集①来自于2011年1月23日至2011年2月7日Tweets发布的微博1%的抽样.使用TREC微博检索组织方提供的爬虫②,下载了10397336条微博.按照TREC的评测要求,对数据集做了如下预处理[26]:(1)移除了空的微博;(2)对于含有“RT”标志的转发微博,如果“RT”前面没有任何消息,则删除该微博,如果“RT”标志前面含有信息,将此微博中这部分信息保留,认为是用户在转发此微博时添加的有用信息,删除RT后面的内容;(3)使用Nutch③过滤了非英语微博;(4)使用Indritoolkit④,应用Porter算法进行了词干提取,去除了停用词.预处理后,剩余5058404条微博.实验使用了TREC2011微博检索的49个查询(查询1~49,查询50没有相关微博,所以将其剔除)和TREC2012微博检索的60个查询(查询51~110).每个查询都包含了一个表示该查询被发布时间的标签.TREC微博检索总共标注了114K个微博与查询的相关性,给出了4类标签:垃圾微博、不相关微博、相关微博和高度相关微博.对于检索任务,将相关微博和高度相关微博均视为相关微博,垃圾微博和不相关微博均视为不相关微博.根据TREC微博检索任务的要求,某个查询提出时间之后的数据,即未来数据,对于该查询的检索是不可见的.因此,实验中我们为每个查询单独建立了索引,每个索引只含有查询时间之前的微博以满足TREC评测的要求.5.2基线方法和模型训练本文选择了4个基线方法作为对比.它们分别如下:(1)语言模型(LanguageModel,LM)[18].使用原始查询的语言模型,文档模型和查询模型均使用了一元语言模型,文档模型的平滑方法使用了JM平滑(如式(2)所示),设置参数λ=0.5(Indri默认值).LM不使用查询扩展,本文提出的方法及其他基线方法在不引入查询扩展时均为LM.(2)相关反馈模型(RelevanceModel,RM)[22].相关模型是典型的基于内容的查询扩展模型.它通过计算扩展词和查询在相关文档中出现的联合概率来估计一个相关模型,如式(4)所示.实验中,反馈文档数目设置为50,扩展词数目设置为20(根据文献[14]在TREC微博评测数据集上的参数设置).(3)基于新近性的相关模型(Recency-BasedRelevanceModel,RBRM)[17].Li和Croft将文档的新近性引入到RM中,根据反馈文档发布时间距离查询时间的远近给予反馈文档不同的先验概率,增大“新”反馈文档对查询扩展模型的影响(如式(5)所示,根据文献[16]在TREC微博评测数据集上的参数设置,λ设为0.3),扩展词数目和反馈文档数取训练数据的最优值.(4)基于爆发期的相关模型(Burst-basedRele-vanceModel,BBRM)[10].Keikha等人根据不同时间段内的反馈文档数量的不同,给予反馈文档不同的权重,处于爆发期内的反馈文档将对查询扩展模型产生较大的影响(如式(7)所示),扩展词数目和反馈文档数取训练数据的最优值.上述各个基线方法和本文所提方法的检索模型均是在语言模型框架下实现,查询和文档的相似度使用2.1节描述的KL距离度量(见式(1)),详情可以参考文献[19].实验中,以“天”作为时间单位(参照文献[10-12]在TERC微博数据集上的设置).根据TREC评测的数据集设置,分别使用TREC2011和TREC2012两组数据,采用交叉检验的方式来训练参数.实验中首先使用TREC2011微博检索的49个查询作为训练数据训练参数,应用TREC2012微博检索的60个查询作为测试数据,实验结果用TREC2012标注.然后使用TREC①②③④Page92012的60个查询作为训练数据训练参数,应用TREC2011的49个查询测试,实验结果标注为TREC2011.测试结果的反馈文档数、扩展词数以及与原始查询结合的插值系数均在训练数据上获得.参数训练中,扩展词数的取值设定为10、15、20、30、40、50、75及100,反馈文档数的取值设定为10、20、30、40、50、100及150,插值系数取值范围为[0,1],步长为0.1.5.3评价指标实验中,本文使用TREC微博检索任务[24]的主要评价指标P@30来度量性能,并提供P@20的评价结果供参考.P@30反映了前30个检索结果中相关微博的数目.由于微博很短,检索结果容易阅读,因此,微博检索并不像传统检索强调相关微博在检索结果前几位的重要性,而只是强调可以快速浏览的前30条微博中相关微博的数量.评价指标P@k定义为其中k是前k个检索结果,如果检索结果的第j个位置是相关的,则rj=1,否则,rj=0.6结果及分析6.1实验结果表1展示了我们的方法与5.2节描述的基线方法在Tweets2011数据集上的结果,将我们的方法中,采用与单个查询词相关的查询扩展策略标记为TTDM-q,采用与查询整体相关的查询扩展策略标记为TTDM-Q.表1列出了我们的方法与基线方法在评价指标P@30上的值以及各种方法相对于语言模型的提升幅度.显著性检验采用Wilcoxon校验(p<0.05).“&”表示本文的查询模型显著优于LM,“”表示显著优于RM,“+”表示显著优于RBRM,“#”表示显著优于BBRM.从实验结果可以看出,全部查询扩展方法比不使用查询扩展的语言模型LM都有提升,基于时间的查询扩展优于仅使用内容相关反馈模型的查询扩展RM,本文所提出的基于词汇时间分布的查询扩展(TTDM-Q、TTDM-q)优于其他基于时间的查询扩展方法(RBRM和BBRM).这一实验结果从一定程度上验证了本文提出的相关词在不同时间段内的使用频率在一定程度上具有同增同减的一致性趋势假设的合理性.LMRMRBRMBBRMTTDM-QTTDM-q与前文的判断一致,采用与单个查询词相关的查询扩展策略TTDM-q优于采用与查询整体相关的查询扩展策略TTDM-Q.鉴于TTDM-q优于TTDM-Q方法,因此下文的详细分析只针对TTDM-q进行.6.2扩展词分析表2展示了TTDM-q对4个查询(2,29,30,61)扩展的部分查询词.表2中倾斜加重标注的扩展词是TTDM-q额外扩展的其他基线方法都没有扩展到查询中的词,其他词为TTDM-q与基线方法均选择作为扩展词的词.因进行了词干提取,在括号中将单词补全.表2TTDM-q对4个主题选择的查询扩展词2022FIFAsoccerWorldCupQatarHeldSummerPlan犮犻狉犮狌犿狊狋(犪狀犮犲)犳狅狅狋犫犪犾(犾)狑狅狉犾犱狑犻犱(犲)犛狆狅狉狋…以查询2“2022FIFAsoccer”为例,该主题表述的是卡塔尔(Qatar)经国际足联(FIFA)投票确定举办2022年世界杯.从表2中不难发现,不论是TTDM-q还是基线方法,词“world”、“cup”、“qatar”等与查询相关的词均被扩展到查询中.此外,TTDM-q还额外将“football”和“sport”等其他有关的词扩展了进来.类似的,查询29“globalwarmingandweather”关注全球变暖和天气问题,额外将“circumstance”(环境)、“worldwide”(全球)、“extreme”(极端)等相关词扩充了进来.查询30“KeithOlber-Page10mannnewjob”指的是KeithOlbermann离开msnbc加入(join)了CurrentTV这件事,TTDM-q额外将“join”扩展进了查询.对于查询61“HuJintaovisittotheUnitedStates”,关注的是2011年胡锦涛访美的事件,朝鲜是此行的一个关注的议题.此外,访美期间胡锦涛到访了芝加哥.TTDM-q相比其他方法,额外将“north”、“korea”、“chicago”等词扩展了进来.从上面的例子可以看出,TTDM-q能够在基线方法之外进一步扩展一些与查询相关的词,进而获得性能的提升.6.3查询扩展对检索性能的影响在查询扩展中通常将查询扩展模型和原始查询模型结合来估计最终的查询模型,其权重通过λ来调节(见式(3)).本节对λ的取值对检索性能的影响进行了分析,结果如图4所示.从图4中可以看出,随着查询扩展模型的权重λ逐渐增大,检索性能逐渐提升,当查询扩展模型的权重为0.9时检索性能最佳,此时原始查询的权重只有0.1.该实验结果还表明,仅使用原始查询(即λ=0)难以取得令人满意的结果,而仅使用查询扩展模型(λ=1)能够在一定程度上代替原始查询来完成检索任务.但是,一个有效的查询模型应该结合原始查询与扩展查询,并合理分配二者的权重.6.4扩展词数量对TTDM的影响及分析和其他查询扩展方法类似,本文方法也同样存在两个重要的参数:查询扩展词数和反馈文档数.本文余下部分将对这两个参数对TTDM-q的影响进行分析.扩展词的数量决定了使用多少扩展词来扩展查询.图5显示了本文模型在取不同相关文档数的情况下查询扩展词数对检索性能的影响.从图5中可以看出,不同反馈文档下,随着扩展词数的增加,TTDM-q的性能逐渐增加并趋于稳定,这与基于内容的查询扩展方法存在着较大的差异:基于内容的查询扩展通常使用数量较少的查询扩展词(例如文献[14]在TREC微博数据上设置为20).而我们在实验中也发现较大数量的查询扩展词会引起基于内容的查询扩展方法的性能下降.其原因在于,在基于内容的查询扩展方法中,估计查询模型时利用的是扩展词和查询在反馈文档中的分布.由于微博较短,仅利用词在反馈文档中的分布信息难以准确的建立查询词与扩展词的关系,随着扩展词数目的增多,扩展词与查询词的相关性估计变得更加不可靠,从而更难于准确的估计查询扩展模型.因此,基于内容的查询扩展在设置较大扩展词数的时候,检索性能有所下降.相对而言,TTDM-q随着扩展词数的增加,性能依然稳定.这是因为TTDM-q中扩展词与查询词的关系利用了每个时间段上全体微博的语言模型(本文实验数据上每天平均微博数约为30万条),大量微博被用来计算扩展词和查询词的时间分布的相Page11似性,避免了基于内容的方法利用少量的微博估计扩展词和查询关系的不足.因此,TTDM-q可以较为稳定的估计扩展词和查询的关系,在查询扩展模型中容纳更多的扩展词而不会对检索结果产生过于明显的影响.在TTDM-q中,那些与查询弱相关和不相关的词被赋予了很小的权重,增大扩展词数虽然会将这部分词扩展进来,但由于其较低的权重而不会对检索结果产生太大的影响.因此,应用TTDM-q,扩展词数可以设置为一个相对较大的值.6.5反馈文档数量对TTDM的影响及分析另一个影响查询扩展的重要参数是反馈文档数量.图6展示了在固定反馈词数的情况下,TTDM-q方法随反馈文档数增加的检索性能变化.从图6可以看出,当设置较大的反馈文档数时,TTDM-q的检索性能会迅速降低,这一点和基于内容的查询扩展方法存在一定的差异:在基于内容的查询扩展中,通常需要一定的反馈文档数量(例如文献[14]在TREC微博数据上设置为50)来保证可以提供足够的扩展词和查询词的分布信息,太少的反馈文档会产生严重的数据稀疏问题,影响模型的估计.而TTDM-q随反馈文档数量增加而性能下降的原因,是由于同一时间段内会有多个不同的话题一起被讨论,存在两个不同热门话题具有相似时间分布的可能性.由于候选扩展词集合来源于与查询相关的伪反馈文档,当伪反馈文档数量较少时,另一个与查询无关的热门话题中的词在候选扩展词集合中出现的可能性较小,所以基本上不会对当前查询扩展产生影响,但反馈文档数目过多,与查询无关的热门话题中的词出现在反馈文档中的概率会增大,从而使查询扩展受到其他话题的干扰.因此,TTDM-q倾向于使用较少的反馈文档,来避免噪声.6.6时间片段大小对TTDM的影响及分析由于每个词的时间分布并不符合一些常见的分布形式(如正态分布等),很难构造出连续的概率密度函数来表示时间分布.现有基于时间的查询扩展方法大多是基于离散的时间分段展开研究,本文也采用了离散的时间分段,词汇时间分布利用时间片段上的语言模型估计.本节分析离散的时间片段大小对TTDM-q的影响.图7展示了时间片段为1h、2h、3h、4h、5h、6h、12h、24h和48h的时候,时间片段大小对TTDM-q检索性能的影响.从图7可以看出,时间片段的大小对TTDM-q的检索性能的影响并不明显.在TTDM-q中,扩展词和查询词的相关度是由两者词的时间分布所围成的面积决定的,尽管不同的时间片段大小影响的是面积的计算准确程度,但总体上并不影响相关词和查询词的分布面积和不相关词和查询词的分布面积的比较.理论上,太大的时间片段会弱化时间的影响,较小的时间片段有助于更准确的计算两个分布所围成的面积.但在实际应用中,过小的时间分段会使得每个分段上微博数量较少,有可能影响时间分Page12段语言模型的准确度.在实验中,以“天”作为单位性能较好.但本文数据仅仅是Twitter的海量微博的1%抽样,在实际应用中,每小时甚至每分钟都会有大量的微博发布,这使得较小的时间片段上也能得到相对精确的语言模型,因此,我们认为实际应用中应选择更小的时间片段.7结论和未来工作本文提出了面向微博检索的基于词汇时间分布相似性的查询扩展方法,该方法在时间维度上建立了查询词与扩展词之间的关系,避免了传统基于内容的查询扩展方法因反馈文档短引起的数据稀疏问题,有助于建立更为可靠的扩展词和查询之间的关系.具体的,我们在分析词在不同时间段上使用频率的特点基础之上,提出了用词的时间分布来反映人们在不同时间段使用该词的频繁程度,并给出了应用时间分段上的语言模型来估计词的时间分布的方法.进一步,提出了利用词汇时间分布相似性度量扩展词和查询(词)的相关度的方法.最后,建立基于词汇时间分布的查询模型.本文提出的方法在TREC2011和TREC2012数据上进行了验证.实验结果显示,基于词汇时间分布相似性的查询扩展优于4个基线方法:语言模型、基于相关模型的查询扩展、基于新近性的查询扩展和基于爆发期的查询扩展.与以往基于时间的查询扩展仅利用时间来调整反馈文档权重不同,本文直接利用时间关系来挖掘扩展词与查询词之间的关系.这是本文创新性的尝试,尚存在一些改进空间.研究中我们发现,由于话题数量巨大,并不排除个别情况下两个无关话题的时间分布也可能是相似的,这会对基于时间的文档扩展带来不利影响.虽然扩展词来源于反馈文档中出现的词,保证了无关话题的词成为候选扩展词的可能性较小,但仍存在受到其他话题干扰的可能.未来的工作将探索如何将时间相关和内容相关统一到一个扩展模型中,来避免单一使用TTDM方法带来的影响.此外,对词汇时间分布的估计、时间分段语言模型、时间相似度的度量等也有待进一步的完善和发展.尽管本文提出的方法是面向微博检索的查询扩展,但这个方法同样适用于其他对时间敏感的检索任务,例如微信以及其他即时通讯信息的检索任务.此外,利用时间挖掘词之间的关系并不仅限于应用在查询扩展中,对其他挖掘词与词之间关系的研究也具有一定的参考价值.
