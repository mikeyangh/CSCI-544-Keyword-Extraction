Page1移动AdHoc网络中基于链路稳定性预测的组播路由协议夏辉1)贾智平1)张志勇1)EdwinH-MSha2)1)(山东大学计算机科学与技术学院济南250101)2)(美国德州大学达拉斯分校计算机科学系德克萨斯理查森75083美国)摘要节点的随机移动性导致了移动自组织网络拓扑的动态变化,进而增加了重路由的频率,降低了网络通信性能.选择稳定性较高的路径进行路由,能够有效地降低重路由的频率,延长路由的生存时间.基于接收到的数据分组的信号强度,文中提出一种新颖的链路稳定性预测模型,并将其应用于传统组播路由协议中.仿真结果验证了预测机制的有效性,扩展协议LSPMR(LinkStabilityPrediction-basedMulticastRoutingProtocol)能够显著地提高分组投递率,降低分组端到端平均传输延时,且控制开销较小.关键词移动自组织网络;稳定路径;信号强度;组播路由协议;分组投递率1引言移动自组织网络(移动AdHoc网络,MobileAdhocNetworks,MANET)是一种无预置基础设施的动态可重构的无线网络.网络中的节点既充当主机又充当路由器,且它们的移动具有随机性.节点作为主机时需要运行用户端应用程序,作为路由器时需要为其它节点转发数据包.节点的随机移动性导致了频繁的和难以预测的拓扑变化,加重了网络任务(如路由)的复杂程度,降低了网络通信性能.此类网络常应用于基于多跳路径的特殊环境中,如灾难后通信恢复和分布式协同计算.在网络中当信息需要从发送节点传输给多个接收节点时,组播路由应运而生.过去十几年间,针对移动AdHoc网络组播路由的研究已经取得了许多进展,产生了一系列高效算法[1].然而由于网络拓扑结构的易变性,无线链路在高速移动环境中经常发生断裂,如何保持通信链路的持续性是一个巨大的挑战.尽管在链路断裂后,新的通信链路会被重新建立,但新链路的建立过程会增加分组端到端传输延迟和网络控制开销.选择稳定性较高的路径进行路由,能够有效地降低重路由的频率和网络拓扑动态变化对路由协议性能造成的影响,提高数据传输率并能减少控制信息数量.为了减轻节点移动性对网络性能产生的负面影响,目前最有效的解决方案是通过节点移动性特征来预测网络中链路的稳定性强弱和网络未来的拓扑状态,随之大量的链路稳定性预测模型被陆续提出[2-8].现有的预测机制在评估链路稳定性的过程中,或仅考虑节点间的相对移动性,或仅采集节点某个时期的运动参数,而没有考虑这些因素对链路稳定性预测造成的综合影响,因此决策(影响)因子的选取不够充分.预测一个指定节点的未来移动性,通常需要考虑测量节点与指定节点间的相对移动特征,但是大量的测量数据和移动性控制信息会造成网络无线信道拥塞,严重影响到网络的性能.并且在这些预测机制中,节点移动性特征是假定不变的,然而在真实网络应用环境中这些参数是时时变化的[2],因此这些机制不具有很好的适应性.基于链路稳定性的路由算法[3-7]主要关注如何发现一条稳定性较高的路由路径,但很少考虑到所构建路径的自适应性.此外,目前考虑链路稳定性的组播路由算法的相关研究工作非常有限.鉴于移动AdHoc网络的本身特性(如节点移动性、能量有限和不可靠的无线通信信道),本文的目标是在耗费较低网络控制开销的前提下提供稳定的数据传输服务.在综合衡量现有的链路稳定性预测模型的优劣基础上,基于接收到的数据分组的信号强度,本文提出一种新颖的链路稳定性预测模型.此模型可以准确预测所关注链路的稳定性强弱和网络未来的拓扑状态,并能及时引导链路稳定性预测扩展后的组播路由协议LSPMR(LinkStabilityPrediction-basedMulticastRoutingProtocol)提前进行链路修复和路由切换操作.为发现稳定性较高的路径,扩展协议LSPMR将路径稳定值作为路由选择标准,基于反应式方式建立一棵高效的稳定组播树以更好地适应网络拓扑变化.仿真结果验证了提出的链路稳定性预测机制的有效性,扩展组播协议在耗费较低网络控制开销的前提下能够有效地增强路由的稳定性,显著地提高分组投递率,降低分组端到端平均传输延时,延长组播路由的生存时间.2相关性工作针对移动AdHoc网络的不同应用场景,学术界已提出大量组播路由协议[1],这些协议各有不同的路由标准.基于其创建方法的不同可以将这些组播路由协议分成三类:基于树策略、基于网格(mesh)策略和基于混合策略.其中,基于树策略的组播路由协议具有较高的效率,使用最为广泛.其数据传输依靠建立一棵组播转发树来实现,且转发节点数目相对较少.但在网络拓扑高动态变化的情况下,转发树非常脆弱,维护树结构需要耗费较高的网络控制开销,因此协议相对比较复杂.一些基于树策略的组播路由协议使用共享树[9](核心树)机制分发多播信息,如MAODV(MulticastAd-hocOn-demandDistanceVectorroutingprotocol)[10]、AMRIS、ZRP、STAMP、ACMP、PIM-SM等协议.文献[3]提出一种基于信号强度选择稳定路径的方法,按照一段时间内节点接收信号的平均强度将链路分为强连接和弱连接两种.强连接链路表明该段链路已存在一定时间且信号强度超过某一最小值,该链路有较大的路由被选择概率.但该方法的缺点是:接收信号的平均强度不能及时反映节点移动特性发生的变化,链路稳定性预测结果不够精确,且时间段的选取好坏直接影响到该方法的优劣.Sarma和Nandi在文献[4]中提出一种基于路径稳Page3定性的受约束QoS(QualityofService)组播路由协议,该协议将网络吞吐量和分组延迟作为QoS约束限制.文中提出一种简单的链路稳定性预测模型,网络中节点从其邻居节点周期性地接收数据分组并采样这些数据分组的信号强度信息,基于采集信息得到与该特定邻居之间所维持的通信链路的稳定性强弱,并将整条候选路由路径的稳定性强弱作为路由选择的标准.该方法的准确性高低取决于采样空间和采样间隔的大小,如采样间隔过小容易造成节点能源过度消耗,或与之相反采样间隔过大则不能及时地准确反映出所关注链路稳定性强弱.且随着时间的推移,链路稳定值并不是固定的,而是动态变化的.Su等人基于一种更加真实的无线传播模型在文献[5]中提出一种替代方法来预测链路过期时间.节点从其邻居节点周期性地接收数据分组并采样这些数据分组的信号强度信息,基于采集信息得到该特定邻居节点发送信号强度的变化率,以此预测节点间链路的生存时间,并将整条路径生存时间作为路由选择标准.该方法需要借助辅助设备(如GPS)获得节点详细的移动参数,如速度、位置等物理信息,设备的使用会受到周围环境的限制,且设备本身的性能对网络路由的性能影响较大.Guo和Yang在文献[6]中提出一种基于路径最大生存时间的分布式组播路由算法,为延长组播树生存时间增加一种额外的局部操作机制.在算法中,每个节点依据其周围邻居的移动性信息和相互之间的距离做路由选路决策.该算法的主要关注点是如何令路由路径生存时间更长,额外的局部操作机制增加了协议的复杂程度和网络负担.文献[7]利用数据分组的接收功率把节点间的相对运动划分为靠近和远离两种类型,然后在不同相对运动类型下根据节点间距离得到链路平均维持时间.该机制假设节点移动性特征是固定不变的,然而在真实网络应用环境中这些参数是时时变化的,且节点间两种相对运动状态不能进行相互切换,因此该算法不具有很好的适应性.文献[8]提出一种基于网格的组播路由机制,新机制可以帮助网络自身找到一条稳定的从单个源节点到多个目的节点的组播路由路径.组播网格通过路由请求和路由应答报文构建完成,借助于储存在网络中每个节点中的组播路由缓存信息和链路稳定性数据库信息.新机制的路由策略是在路径构建过程中首先选择稳定性较高的转发节点(拥有高稳定性的链路连接状态).链路稳定性通过一些采样参数取得,如接收功率、两邻居节点之间的距离和链路质量信息等.网络中的主机节点需要周期性地更新稳定性模型所需要的相关参数信息,导致单个节点统计信息量过大,易产生较高的能源消耗,并不适合于资源有限尤其是能量有限的MANET网络.此外该路由方案基于网格策略构建组播树,而本文应用背景中的MAODV协议是基于树策略.网络中节点的移动性参数是随机变化的和未知的,想找到解决组播路由问题的最佳方案是异常困难的.Torkestani和Meybodi在文献[2]中提出一种加权的组播路由算法.在新的方法中,组播路由问题首先被转化成一个等价的随机Steiner树问题,其中每条通信链路的权重取值为所关注链路的预期持续时间.算法的设计目标是找到一条最稳定的组播路由路径(最长持续时间)以应对网络节点的移动性.然而该算法非常复杂,实际中并不适用于资源有限、应用简单的无线移动网络.3链路稳定性预测模型本节提出一种简单高效的链路稳定性预测模型,其核心思想是计算接收到的数据分组信号强度的方差.新模型能够在产生较低网络控制开销的前提下精确地预测所关注链路的稳定性强弱.3.1模型假设模型构建和仿真实验均基于自由空间传播模型,网络中所有节点满足时钟同步机制(如使用网络时间协议NTP).数据分组的接收信号强度取决于接收节点与发送节点之间的距离,假设节点在遭受信号干扰的影响下仍然可以获取一个足够强的信号.节点发射功率为常数PT,无线电节点之间的距离为d,理想状况下接受信号功率衰减幅度为发射功率的1/d2.为保证数据分组被成功接收,定义分组的最小接收功率阈值,记为Pmin.当数据分组的接收功率低于该最小可容忍值时,较高的误码率导致数据分组重传,数次重传失败后节点丢弃该数据分组,设此时的接收功率为分组被成功接收的最小接收功率.当节点移动出某个邻居信号覆盖范围,可以认为上一次成功接收此邻居数据分组时的接收功率趋于Pmin.在此环境下,当分组的接收功率低于Pmin时,分组的误码率较高,极有可能无法被正确接收.在协议中每个节点都要存储当前环境下的最小接收功率Pmin,由于信噪比受到周围节点发送信号及环境噪Page4声影响,所以Pmin并不是固定值.例如当周围节点发送数据量较大时,相应的Pmin的值也会较高.在无线链路发生断裂前,记上次成功接收其邻居数据分组的接收功率为P,用此值更新节点存储的最小接收功率值.通过上式可以平滑Pmin取值,令取值随周围环境变化更新.若接收功率大于此预置值,认为数据分组能够被成功接收,否则认为该链路发生断裂.定义1.链路稳定值.表示一段无线链路稳定性强弱的预测值(LinkStabilitypredictionvalue,LS).在本文模型中,该值由两个决策因子确定,分别为直接稳定性预测值(directLinkStabilitypredictionvalue,d_LS)和间接稳定性预测值(indirectLinkStabilitypredictionvalue,in_LS).3.2链路稳定值(1)稳定向量函数节点通过链路层监听周围邻居广播数据分组(如Hello包)以记录其接收功率.如图1所示,其中接收(监测)节点为X,发送(被监测)节点为Y.定义稳定向量函数为SX(Y).若PNewSX(Y)<0,表示这两个无线电节点彼此远离对方,反之则相互靠近.(2)直接稳定性预测值为保证接收功率采样值呈线性变化,接收(监测)节点X需要通过链路层对接收功率值进行连续采样,如图1所示.对特定邻居Y第n次的采样值R(Y→X),可以计算出n-1个稳定向量值记为Pn通过对接收节点X与其邻居发送节点的稳定向量集做方差来计算直接稳定性预测值.d_LSXY=var{S1d_LSXY值越小表明此链路两端节点的相对运动性较低,相反则表示相对运动性较高.基于此方法,一个接收节点可以计算其与任意邻居发送节点间无线链路的直接稳定性预测值.(3)间接稳定性预测值假设一个接收节点Y周围存在n个邻居发送节点,如图2所示,对其中某一发送节点Zk,计算稳定向量值SY(Zk).稳定向量集做方差来计算间接稳定性预测值.通过对接收节点Y与其所有邻居发送节点的in_LSY=var{SY(Z1),SY(Z2),…,SY(Zn)}(5)in_LSY越小表明接收节点Y在其局部范围内(4)链路稳定值合成预测值通过以下公式进行合成:运动性较弱,相反则表示其运动性较强.LSXY=w1×d_LSXY+w2×in_LSY(w1+w2=1)w1和w2表示链路稳定值两个决策因子的权重.从式(6)可以看出,节点Y在直接稳定性预测值的计算过程中充当发送节点,在间接稳定性预测值的计算过程中充当接收节点,该式值越小表明链路稳定性越强.3.3链路生存时间为了预测链路生存时间[11],节点需要周期性采样接收功率值,设采样间隔为Δt,采样值的变化率为ΔPR(ave)表示此变化率的均值,若ΔPR(ave)为正数,表示链路生存时间Pre_T变大且链路两端节点相互靠近.否则,需要使用式(8)周期性地计算链路生存时间Pre_T.为减少因链路断裂而造成的丢包问题,通过Page5式(9)计算危险时间Tc,以确保链路在危险时间取值为0前(即链路发生断裂之前)执行链路修复和路由切换操作.Td表示节点连续成功接收两个数据分组之间的时间间隔,该值随网络负载的变化而相应地发生改变.使用该机制得出的Tc可以适应网络环境的变化,使丢包率降到最低.3.4模型分析模型中两个链路稳定性决策因子的作用:直接稳定性预测值d_LS从接收(监测)节点主观方面考虑链路稳定性,是对监测节点与被监测节点之间的相对运动状态的一种有效建模;而间接稳定性预测值in_LS是对被监测节点自身运动状态变化的一种有效建模,充分考虑其本身运动状态的变化对链路稳定性造成的影响.其中在直接稳定性预测值的计算过程中,接收节点需要获取一组连续的数据分组(通过发送节点周期性地发送Hello包实现),需要获取的数据分组的个数称为采样空间记为n,发送间隔称为采样间隔记为Δt.只有满足采样空间n才能够计算d_LS,即接收节点与发送节点间需要维持一段时间的邻居关系.假设采样空间为6,采样间隔为1s,那么只有当接收节点觉察到与发送节点之间的邻居关系超过5s后,才可以计算d_LS值.鉴于网络环境特征在短期内不会发生太大变化,利用数据分组的接收功率值求取方差的机制来预测链路稳定性强弱的方法优于单纯依靠距离或速度的方法.文中提出的链路稳定性预测模型不但可以准确评估每个节点的相对移动性强弱,而且还考虑了节点的运动状态变化对链路稳定性所产生的影响,避免了仅仅依靠邻居维持时间来预测链路稳定性强弱的盲目性.在路由选路阶段,应该增大稳定性较强链路的被选择概率(如3.2节所述,链路稳定值越低表明链路稳定性越强).基于上述模型进行链路稳定性预测十分简单有效,可以在现有硬件平台中以分布式形式实现,且产生的网络开销较低.4MAODV协议稳定性预测扩展本节对移动AdHoc网络传统组播路由协议MAODV[10]进行稳定性预测扩展,提出一种基于链路稳定性预测的组播路由协议LSPMR(LinkStabilityPrediction-basedMulticastRoutingProtocol).扩展协议引入路径稳定值因子,能够有效地增强路由路径的稳定性.4.1路由策略新协议的路由策略是,反向路径集中最稳定的路径最终被选择成为路由路径.定义2.路径稳定值.它表示某条路径稳定性强弱的预测值(PathStabilityPredictionvalue,Path_SP).当源节点需要向目的节点传输信息时,它首先需要评估所有已寻反向路径的稳定性强弱.路径稳定值通过该条路径中所有链路的稳定性预测值来计算,并作为路由决策的约束条件.路径稳定值计算方法如下.Path_SP=max{LSij|i,j∈P且i→j}(10)节点i和j是链路P上一段有向无线链路的两个端点,i→j表示节点j是i的下一跳节点.LSij表示该段无线链路的稳定性预测值.式(10)说明沿数据流方向,一条路径的稳定性取决于该条路径上最不稳定的那段链路,Path_SP值越小说明这条路径越稳定.如果多条路径的路径稳定值相同,最小跳路径将被选择成为路由路径.min{Path_Sl}(l∈traversed_path_set)(11)举一个简单的例子来阐述此路由策略.如图3所示,节点A和节点B之间的有向边表示无线链路AB的链路稳定值,LSAB=0.1.路径P(A-B-C-E-F)的稳定值Path_SP=0.15(即Path_SP=max{LSAB,LSBC,LSCE,LSEF}=max{0.1,0.08,0.15,0.07}=0.15).图3中存在两条从节点A到F的路径,按照路径稳定值计算方法,路径P(A-B-D-E-F)(Path_SP=0.1)更加稳定,最终被确定为路由路径.现有的基于链路稳定性预测的路由协议的路由策略是以单跳为单位评估由源节点到目的节点间多条路径的稳定性强弱,本文模型可定性为以两跳为单位(因为引入决策因子in_LS),因此衡量更加准确.4.2路由选择和路由激活LSPMR是MAODV组播路由协议的扩展,因Page6此组播路由表、控制消息报文的格式跟MAODV基本相同.扩展协议在组播路由表的路由条目中添加一项新域Path_Stability,用来表示路由条目中相应路径的稳定性预测值;在控制消息报文(路由请求消息RREQ和路由回复消息RREP)中也添加一项新域Link_Stability,用来表示这些消息所途经链路的稳定性预测值.(3)路由激活收到RREP后,源节点发送MACT消息,其它节点收到MACT并查找路由表,在路由表项的Next_Hops域中插入前一跳地址.若路由表项已为激活状态,则停止发送MACT.若未激活,则按照路由表项中的Pre_Hop域中地址发送MACT消息.(1)路由请求当节点期望加入组播组或有数据需要发送但在它的路由表中不存在路由路径时,它将广播发送RREQ消息.非组播树上节点收到该消息后继续广播,直到组播树上节点收到后停止.节点在收到RREQ消息后,如果此前已经处理过相同的RREQ消息则丢弃.若为新到RREQ则比较其Link_Stability域中的值与上一跳链路的稳定性预测值(从上一跳节点交换获得)的大小,取较大值更新到Link_Stability域,且Hop_Cnt自增1.如果节点有组播路由条目且其状态处于激活态同时组播序列号不小于新到RREQ中的Dest_Seq,说明此节点为组播树上节点且组播路由较新.随后节点等待一段固定时间,在此阶段可能会有稳定性更高路径的RREQ经过该节点,将稳定性最高的路径作为RREP的回复路径.(2)路由回复如果一个节点是树上节点或者是存在到达组播树的路由,在收到RREQ消息后,按照RREQ已建立好的返向路径单播发送RREP到源节点.RREP消息各域中信息来源于RREQ.当中间节点收到RREP后,基于RREP各域中的信息在该节点中创建路由表路由条目.当一个节点收到多个为处理相同RREQ的RREPs时,满足下述条件的RREP被转发,其余的则被丢弃:①新收到的RREP比之前收到的RREPs含有一个较大的序列号;②序列号相同时,新收到的RREP含有一个较小的Link_Stability域值.当源节点收到RREP后,节点取消发送定时.等待一段时间,从收到的多个RREPs中选择最稳定的路径作为候选路由路径,并发送MACT消息激活此路径.经过上述步骤,节点建立到组播树的路由.4.3组播树维护Hello消息用于维护或重建组播树.组播树根节点每隔固定时间间隔发送Group(1)链路修复当组播树上链路断裂时,下游节点负责路由重建,上游节点则从Next_Hops项中删除失效节点.如果上游节点已没有其它后继,节点等待一段时间若再无新加入后继节点则发起剪枝Prune操作.当组播树上节点收到来自下游节点的RREQ后,只有离树根节点的距离比发起节点近的节点才能回复RREP,以避免修复后的路由接到后继节点上形成路由环路.(2)路由切换LSPMR路由协议只维护那些正在使用的路由,而不在激活路由上的节点的移动并不会影响该路由,预测式路由维护实现了无线蜂窝网络中软切换的思想.计算链路稳定值的同时启动链路生存时间预测操作,估算该链路的连续可用时间,并周期性计算该值以减少因突发情况产生的偏差.基于提出的链路稳定性预测模型,组播树在构建完成后,树上的每个节点需要随时监测其与周围邻居节点间的链路状态信息.当节点监测到数据分组接收功率值低于危险阈值时,认为链路断裂.因此需确保链路在危险时间取值为0前启动预先修复操作,在路由路径即将中断前提前执行新旧路由切换.替换路径建立之后,节点删除路由表中旧路径的相关条目信息,并使用新路径传输数据.5仿真分析本文采用NS-2(2.34版本)①仿真工具来评估不同实验环境下协议的性能.在无线仿真环境中,网络节点随机分布在一个1000m×1000m的平面网络中,每个节点使用相同的无线电收发设备,无线通信半径为250m,无线信道容量为2Mbit/s.使用IEEE802.11DistributedCoordinationFunction(DCF)作为媒介访问控制(MAC)协议,仿真过程中源节点和目的节点间使用恒定比特率CBR流来模拟数据流量,分组长度为512字节,发包率为5packets/s.节点移动采用RandomWay-point模①Thenetworksimulator-NS-2.34.http://www.isi.edu/Page7型[12],移动节点随即选择下一目的地坐标,然后按固定速度移动到此目的地,移动速度是从0到最大移动速度间随机选取值,当节点到达目的地后停留一段时间(设置停留时间为5s),然后随机选取下一目的地,重复以上步骤.仿真时间为600s,为减少随机误差,所有实验结果为30次实验的平均值.5.1实验设置为验证链路稳定性预测扩展协议LSPMR的高效性,与以下三种协议进行性能对比:传统的MAODV协议[10],另外两个基于不同链路稳定性预测机制的MAODV协议扩展版本RSM[4]和Guo[6].表1中为仿真实验参数设置.链路稳定性决策因子的权重按以下两种设置进行赋值:(1)w1=0.7和w2=0.3;(2)w1=0.5和w2=0.5.设置(1)表明在链路稳定值的预测过程中,直接稳定性预测值比间接稳定性预测值更为重要,设置(2)表明它们的重要性相同.按照这两种设置,LSPMR的两种设置在仿真实验中被简记为LSPMR-1和LSPMR-2.实验编号1505250~100比例占10%比例占20%155.2协议性能度量标准目前存在许多度量协议性能的标准[13],为了能够全面分析扩展前后MAODV协议的性能,本文通过以下6种性能度量向量对4种组播协议进行性能分析比较:(1)分组投递率.定义为组播组成员节点实际接收到的数据分组的数量与节点应该接收的数量之比,该向量反映了网络传输的可靠性,分组投递率越大可靠性越高.(2)分组端到端平均传输延时.所有数据分组从源节点发出到目的节点正确接受所用时间的平均值,该向量反映了路由协议的时效性.注意当组播路由无效时,建立路由路径所消耗的时间也包含在内.因此,本文中该向量包括组播路由建立时间和组播数据传输时间.(3)网络吞吐量.表示单位时间内从源节点向目的节点传输的数据分组量.(4)控制分组发送量.定义为每成功传输一个数据分组所需要的控制分组发送量,该向量表示协议的控制开销,反映了网络的拥塞程度和路由效率.这里的控制信息不仅包含协议控制消息分组(如Hello消息,组成员加入离开请求分组,路由维护更新分组等),还包含数据分组的头部.(5)分组发送总量.定义为每成功传输一个数据分组时网络中所有节点发送数据分组和控制分组的总数量,网络中链路层协议通常采用争用机制,因此该向量反映了协议对信道的使用率及网络信道访问层的效率.(6)组播路由生存时间.表示组播路由路径平均维持时间.在该网络中,由于节点的移动性,导致网络拓扑结构不断变化,缩短了路由路径的生存时间.为找到一条稳定性较高的路径,这些节点的运动应该被准确预测.该向量反映了每个预测机制评估节点真实运动性强弱的效率.5.3实验结果分析实验1.改变节点最大移动速度.仿真实验中随机部署50个节点,节点最大移动速度从0m/s增大到30m/s.图4(a)显示了分组投递率与节点最大移动速度之间的关系.随着节点最大移动速度的增加,四种协议的分组投递率都在下降,其中MAODV协议下降速度最快,LSPMR协议下降速度最慢,RSM和Guo协议介于前两者之间.而且MAODV协议的分组投递率最低,LSPMR协议的分组投递率最高,这种差异性随着节点最大移动速度的增加而变得更加明显.这是由于MAODV协议易受节点移动因素影响,增大了链路断裂和分组丢失的概率,而其余三种修改协议增加了链路稳定性预测模块,对网络中各节点间的链路状况进行预测,避免了频繁的链路断裂.特别是在节点移动速度大,网络拓扑变化剧烈的情况下,能快速适应拓扑的变化,选择稳定性较高的路径进行路由,在网络拓扑结构发生改变前进行链路修复和路由切换操作,增加分组成功传输的概率.当节点最大移动速度达到30m/s时,RSM、Guo和LSPMR三种协议仍有超过73%的分组投递率.LSPMR协议是基于对分组接收信号强度信息计算方差的机制,稳定性决策因子选取充分,因此获取的链路稳定性预测值更加准确,相比RSM和Guo两种协议进一步减轻了网络拓扑结构变化对组播树产生的负面影响.图4(b)描述了分组端到端平均传输延时与节点最大移动速度之间的关系.随着节点最大移动速度的增加,四种协议的延时都在增加,其中RSM、Page8Guo和LSPMR三种协议延时增长速度缓慢,而MAODV协议延时增幅非常明显.这是因为延时主要来源于分组队列等待和重传,随着节点最大移动速度增加,网络拓扑结构变化剧烈,导致更多的链路断裂和新旧路由切换,进而导致延时增加.从图中可以看出,RSM和LSPMR协议的延时较小,MAODV协议的延时最大,特别是在节点最大移动速度越大,网络拓扑结构变化越剧烈时,LSPMR协议表现出更低的延时.RSM、Guo和LSPMR三种协议增加链路稳定性预测机制,随着节点速度增大,通过稳定性机制建立起来的稳定路由降低因大量的链路断裂和重路由的操作所带来的延时.当最大移动速度低于20m/s时,LSPMR协议的延时比RSM稍高,因为LSPMR协议建立的路由路径更加稳定,稳定路径的建立过程增加了部分延时.随着速度继续增大,LSPMR协议的延时最低.从结果可以看出,LSPMR对高速移动网络具有更好的适应性,时效性更强.图4(c)给出了网络吞吐量与节点最大移动速度之间的关系.相比其余三种协议,LSPMR协议网络吞吐量最大.当节点最大移动速度为15m/s时,LSPMR协议的网络吞吐量是每秒发送0.265个数据分组,MAODV协议是每秒发送0.21个数据分组,网络吞吐量提高了26.3%.与图4(a)相对应较低的分组投递率意味着较小的网络吞吐量.图4(d)表示控制分组发送量随节点最大移动速图4节点最大移动速度改变下组播协议性能对比度的变化趋势图.当节点最大移动速度低于12m/s时,MAODV协议的控制分组发送量低于RSM、Guo和LSPMR三种协议,但随着速度继续增大,有相反的表现结果.控制分组发送量在不同阶段表现出不同结果的原因是:(1)在RSM、Guo和LSPMR三种协议中为了预测链路稳定性需要发送更多的RREQ和RREP消息,此外一些额外的路由更新和维护控制消息同样增加了控制分组的数量,然而MAODV协议并未考虑链路稳定性因素;(2)随着节点最大移动速度进一步增加,出现相反的结果,与MAODV协议相比其余三种修改协议可以显著减小控制开销.基于MAODV协议,随着节点最大移动速度的增加,网络拓扑结构变化更加剧烈,网络为了修复频繁断裂的链路和重路由操作而不断发送路由请求和路由维护消息.然而受益于链路稳定性预测机制,RSM、Guo和LSPMR协议为了维护组播树仅需要发送较少的控制消息.LSPMR协议的控制分组发送量最低,因为其能够选择最为稳定的路径进行路由.图4(e)显示了分组发送总量随节点最大移动速度的变化趋势图.从图中可以看出,路由协议的分组发送总量随节点最大移动速度的增大而增加.RSM、Guo和LSPMR三种协议通过链路稳定性预测机制降低了路径频繁断裂的概率,避免因重传操作而转发大量的数据分组.此外随着节点速度增大,为适应拓扑结构变化和重路由操作需要发送更多的Page9控制消息.LSPMR协议表现出最好的性能.图4(f)给出了组播路由生存时间与节点最大移动速度之间的关系.RSM、Guo和LSPMR三种协议在构建组播路由的过程中考虑了链路稳定性因素.在2、3节中已经详细论述了这三种预测机制的差别,LSPMR借鉴了前两种机制的优点,并进一步优化.LSPMR协议不但可以准确预测链路稳定性的强弱,并且还可以依据周期性计算链路危险时间提前进行链路修复和路由切换工作.从图中可以看出,随着节点最大移动速度增大,任意一种协议的多播路径生存时间都在降低,主要是因为无线链路随着节点移动速度的增加而变得更加脆弱.其中Guo高于RSM协议,但它们均低于LSPMR协议.实验2.改变网络拓扑规模.仿真实验中网络拓扑规模从50个节点增大到100个节点,节点的最大移动速度为15m/s.如图5(a)所示,LSPMR协议的分组投递率最高,MAODV协议最低,网络规模越大这种差距越明显.随着网络拓扑规模增大,RSM、Guo和LSPMR三种协议的分组投递率下降缓慢,MAODV协议下降速度非常明显.伴随着网络规模增长,维护组播树变得更加困难,链路断裂的概率不断提升.RSM、Guo和LSPMR三种协议引入链路稳定性因素,增加了数据分组成功传送的概率,并减轻了节点的随机移动性对路由发现产生的负面影响.与此相反,MAODV协议中节点仅执行传统的组播路由协图5网络拓扑规模改变下组播协议性能对比议,其仅维持一个较短的从源节点到多目的节点的组播路由路径,因此当链路断裂时无法改善分组投递率.图5(b)表明这些组播路由协议中的分组端到端平均延时随着网络拓扑规模的增大而上升,RSM、Guo和LSPMR三种协议的延时上升速度缓慢,MAODV协议的延时上升速度非常明显.主要原因是,分组端到端延时主要来源于分组队列等待和重传,随着网络拓扑规模增大,RSM、Guo和LSPMR三种协议通过引入链路稳定性因素减小链路断裂的概率,因此延时上升速度缓慢.然而,MAODV协议并未考虑这种机制,频繁的链路断裂导致更大的分组队列等待延时和重传延时.与图4(b)相对应,RSM协议性能优于LSPMR协议性能.从图5(c)看出,相比其它三种协议,LSPMR协议可以获得最高的网络吞吐量,并且这种优势随着拓扑规模增大而变得更加明显.同样,与图5(a)相对应较低的分组投递率意味着较小的网络吞吐量.图5(d)显示,随着网络拓扑规模增大,四种组播路由协议的控制分组发送量都有所上升,网络拓扑规模是导致这种现象发生的主要因素.RSM、Guo和LSPMR三种协议的控制分组发送量均低于MAODV协议,且RSM协议最低.有两个主要原因:(1)随着网络拓扑规模增大,为寻找组播路由路径需要发送更多的路由请求和维护消息;(2)在路由发现阶段,三个链路稳定性预测扩展协议可以选Page10择稳定性更高的组播路由路径,减少因断裂链路修复所需要的控制开销.从图5(e)中看出,分组发送总量随着网络拓扑规模增大而增加,其中LSPMR协议具有最小值,MAODV具有最大值.RSM、Guo和LSPMR三种协议引入链路稳定性因素,选择稳定性路径进行路由,减少因链路断裂所需的控制和维护开销,同时降低数据分组重传的概率.如图5(f)所示,LSPMR协议的组播路由生存时间最长,MAODV协议性能效果最差.组播树中间转发节点随着组播组成员节点数目的增长而增多,组播路由的持续时间与中间转发节点的数目成正比.因此,如图5(f)所示,组播路由生存时间随着网络拓扑规模的变大而增加.实验结果表明,本文提出的链路稳定性预测机制简单高效,扩展组播协议LSPMR协议性能优于MAODV、RSM和Guo三种协议.新协议能够在耗费较低网络控制开销的前提下有效地增强路由路径的稳定性,显著地提高分组投递率,降低分组端到端平均传输延时,延长组播路由的生存时间.并且LSPMR-1协议性能优于LSPMR-2协议,表明在加权合成链路稳定值的过程中,直接稳定性预测值比间接稳定性预测值更为重要.6结论在分析和总结现有的链路稳定性预测机制的基础上,本文引入两个链路稳定性决策因子(分别为直接稳定性预测值和间接稳定性预测值)来评估链路稳定性的强弱,并对MAODV组播路由协议进行链路稳定性预测扩展.新协议LSPMR为了发现稳定性更高的转发路径,采用路径稳定值作为路由选择标准.基于反应式机制,LSPMR协议能够提供一个灵活可行的方法来构建一棵更高效的稳定组播树,可以更好地适应网络拓扑变化.实验结果表明,所提出的链路稳定性预测模型简单高效且开销较低,能灵活地与现有路由机制相结合.在未来的工作中,会对提出的链路稳定性预测模型做进一步的改进和完善.同时还将考虑不同时间段的功率采样结果对该模型的影响,譬如将一定时间内的采样结果分为多个时间窗口来处理,距今最近的一个时间窗口在计算过程中被赋予一个较大的权重.除此之外,还会将LSPMR协议与其它组播路由协议(如ODMRP)进行性能比较.
