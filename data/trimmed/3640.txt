Page1异构无线网络用户网络关联优化:一种基于群体博弈的方法姜永1)胡博1)陈山枝2)1(北京邮电大学网络与交换技术国家重点实验室北京100876)2(电信科学技术研究院无线移动通信国家重点实验室北京100083)摘要针对异构无线网络(HeterogeneousWirelessNetworks,HWNs)负载平衡问题,提出了一种基于群体博弈的用户网络关联方案.首先将HWNs系统用户网络关联问题抽象成一个群体博弈模型,根据用户在网络中得到的收益函数,证明该群体博弈满足势博弈的条件.利用复制动态作为演化动态工具,证明演化的结果最终会收敛到纳什均衡,这个特性确保了每个用户关联到一个效用最优的网络.然后证明纳什均衡点能最大化整个HWNs系统的吞吐量,保证了纳什均衡的有效性.最后,基于复制动态原理提出了用户网络关联算法.仿真实验模拟了用户网络选择过程,得到了均衡点,验证了理论分析的结果.关键词异构无线网络;演化博弈;群体博弈;势博弈;复制动态;纳什均衡1引言近年来,随着各种宽带无线接入技术的出现并广泛的部署以及智能终端技术的发展,人们获取In-ternet访问的方式更加多样化,业务需求更加个性化.一方面,各种无线接入技术,包括WLAN(Wire-lessLocalArea,无线局域网)、UMTS(UniversalMobileTelecommunicationsSystem,通用移动通信系统)和WiMAX(WorldInteroperabilityforMi-crowaveAccess,无线城域网)等,相互融合、相互补充,为用户提供了一个异构无线网络(Heterogene-ousWirelessNetworks,HWNs)接入环境.另一方面,多模移动终端的智能化,使用户能够做出更加恰当的网络选择决策.多模智能无线接入设备,在IEEE802.21标准[1]的支持下,具备了同时接入不同接入技术的网络并从一种接入技术的网络切换到另一种接入技术的网络的能力.在HWNs环境中,智能移动终端可以通过基于切换(垂直切换或水平切换)的网络选择机制,选择最优的接入网络,增加自身的收益,进一步提升HWNs系统的性能,实现网络之间的负载均衡.HWNs的负载平衡可通过两种方式取得:网络驱动的方式和用户驱动的方式.在网络驱动的方法中,网络通过集中式管理,能够将网络资源分配到某个区域或指定用户切换到特定的网络中.这类方法的缺点是系统中各种无线接入网络之间必须紧密集成在一起,大量额外信令开销可能产生.另一种用户驱动的方法,可以通过移动用户主动的网络选择决策或垂直切换实现.基于用户驱动的方式由于实现复杂度低和额外开销少相对更容易实现,但是用户要进行决策首先要获得一定量的决策信息.如果用户能够获得各个网络当前的状态信息(如信号强度,网络负载等),就可以做出最优的网络选择或切换决策,但是往往这些网络状态信息是很难得到的.一种更为简单有效的方式是基于“试错”(tryanderror)的思想,即首先用户随机接入到一个网络中,然后根据用户在不同网络中的收益通过网络切换不断改变关联网络,最终选取一个收益最优的网络.我们的工作中基于群体博弈的用户网络关联算法,正是利用“试错”的机制来实现HWNs负载平衡的.本文我们以WiMAX/WLAN融合的HWNs环境为例(如图1),提出一种HWNs中基于群体博弈的用户驱动的网络关联方法,解决了HWNs的负载均衡问题.利用设计的基于用户分配的带宽的收益函数,用户网络关联和HWNs资源分配问题被抽象成一个群体博弈(populationgames),HWNs中具有相同的有效接入网络集和传输速率的用户被划分成一个群体.并且我们证明基于当前用户收益下的群体博弈是一个势博弈(potentialgames),其势函数(potentialfunction)可以表示成整个网络的吞吐量.为模拟用户网络选择的过程,引入了演化博弈(evolutionarygames).文中采用复制动态(replica-tordynamics)作为演化博弈动态工具,证明动态演化的过程最终会收敛到演化平稳点,且该平稳点即为系统的纳什均衡点.在均衡点处,群体中的每个用户的收益都趋于相同,并都选择了一个收益最大的接入网络.用户最大化自身收益的博弈过程往往会导致社会收益不是最优的.我们证明了在纳什均衡点处,HWNs的总体吞吐量达到最大,从而保证了均衡点的有效性.基于复制动态的原理,一个用户网络关联算法被提出来模拟用户的网络选择过程.仿真实验实现了用户网络关联算法,得到了纳什均衡点,分析了达到稳定后用户和系统的各种性能指标,验证了理论分析的结果.概括起来讲,本文的主要工作是:(1)采用群体博弈的方法来分析用户的网络关联问题.根据用户在接入网络中分配的带宽和花费设计了用户的收益函数,证明基于该收益函数的博弈是一个势博弈.利用复制动态作为演化博弈动态工具,证明演化过程最终会收敛到一个平稳点,即纳什均衡点.进一步证明在均衡点处HWNs的总带宽达到了最大值.(2)提出并仿真实现一个用户网络关联算法.基于一个HWNs场景模拟了用户网络选择并最终Page3达到稳定的过程.分析了网络和用户各项性能指标,验证了理论分析的结果.本文第2节简单介绍基于博弈论进行HWNs资源管理的工作;第3节介绍群体博弈和演化博弈的预备知识;在第4、5节中构建用户收益函数和群体博弈模型,通过演化博弈获得纳什均衡,并进一步证明均衡点的有效性;第6、7节是用户网络关联算法的设计和仿真分析;最后第8节总结全文.2相关工作博弈论是指研究多个个体或群体之间,在特定条件制约下的对局中利用相关方的策略,实施对应策略的学科,是研究具有斗争或竞争性质现象的理论和方法.博弈论在很多领域均可作为重要的理论工具,解决其中的冲突与合作问题,如生物学、经济学、国际关系学、计算机科学、政治学、军事战略等.近年来,博弈论也被用于设计和分析无线通信网络系统,包括功率控制、资源分配、路由选择、负载均衡、流量控制、接纳控制等问题.博弈论应用于HWNs中主要解决资源管理的问题(如网络选择、垂直切换、接纳控制等).目前具有典型代表性的工作主要有:Khan等人[2]将用户为中心的网络选择模拟成密封投标维克瑞拍卖(Vickreyauction)博弈问题.用户作为拍卖的拍卖人代表业务的买方,网络运营商作为卖方,两者通过交互的方式取得自身收益最大值.另外,文中引入了模糊逻辑的方法来降低用户切换的频率.为实现“AlwaysBestConnectedandServed”模式,文献[3]将不同网络提供商之间通过“联盟协定”相互合作成一个整体.引入非合作博弈模型来制定接纳和负载控制策略,通过财政激励手段刺激用户和网络提供者的行为.文献[4]将HWNs资源分配问题模拟成一个概率投票(probabilisticvoting)博弈,其中具有竞争关系的网络提供商模拟成选举的候选人,移动用户形成选民.文中主要分析了两个应用案例:MIMO下行链路电源分配博弈和基于OFDM的带宽分配博弈.通过提出的投票博弈详细地分析了平衡的健壮性和存在性.文献[5-6]都是基于合作博弈的HWNs资源分配方案.它们各种无线网络资源之间形成一个“联盟”来为一个新的用户分配网络资源.网络资源分配的稳定利用博弈论中“核”的概念来分析,一个用户分配的带宽通过利用沙普利值来获得.文献[7-8]提出了基于非合作静态博弈的HWNs的带宽分配、接纳控制算法.首先,通过非合作博弈将无线资源分配到网络环境中不同的服务区中.然后,基于获得的带宽和带宽预留阈值制定了有效的接纳控制策略,利用接纳控制机制来限制每个区域中接入用户数以保证网络中各类业务的服务质量.在文献[9-10]中都是基于动态演化博弈的模型.它们都利用边际成本(marginalcost)来定义用户的收益函数,将单个用户作为博弈的参与者,并证明通过单个用户的策略改变最终能够取得一个纯策略平衡.文献[11]提出了一种用户驱动的基于群体演化博弈的HWNs负载均衡方案,并设计了群体选择和强化学习两种网络选择算法.但文中缺少对演化稳定性的分析,也没有考虑演化过程对系统总体吞吐量的影响.文献[12]提出了两层博弈框架.底层的动态业务选择模拟成基于复制动态演化博弈问题,上层的业务提供商之间的竞争采用微分博弈(differentialgames),一个开环的纳什均衡作为线性状态微分博弈的解.以上各种方案基于拍卖博弈、投票博弈、演化博弈以及群体博弈等博弈模式研究HWNs的资源分配的问题,提出了各种网络选择、接纳控制、带宽分配方案,缺少对用户收益和网络的社会效用(如带宽最大或时延最小)的全面考虑.3群体博弈和演化博弈预备知识3.1群体博弈常常很多问题需要的是一个纯策略的纳什均衡,但是在实际上基于纯策略的纳什均衡是很难得到的.群体博弈[13]提供了在一个采用纯策略的大规模群体中研究策略交互的通用框架.定义1.一个具有n个群体的群体博弈定义为其中的每个群体包含一个参与者集和一个策略集,且每个策略具有一个收益函数.假定群体博弈中群体的集合定义为N={1,2,…,n}.群体集中的一个群体i包含pi个参与者,所有参与者集合定义为P={1,2,…,pn},∑n策略集定义为Mi={s1,s2,…,smi}{1,2,…,m}.Page4其中,m为所有可选择策略的个数.用yij表示为群体i中选择纯策略j的参与者的数目,相应的群体i的策略分布向量狔i=(yis1,yis2,…,yismi),∑mipi.所有群体的总的策略组合定义为y=(狔1,狔2,…,狔n).群体博弈中只指定选择某一策略的用户的数量,并不明确指出是哪个用户选择了某个纯策略.对一个群体i,定义xij为群体i中选择策略j的参与者占群体中所有参与者的比率,则xij=yij/pi,该群体的策略分布向量又可以表示为狓i=1yis2,…,yismi).群体中一个用户选择一个策略的收益函数依赖于群体自身策略分布.定义群体博弈的收益函数为u,uij(y)表示在策略组合为y下群体i中的参与者选择纯策略j得到的收益,假设收益函数是连续的.定义在策略组合y下群体i中所有用户的策略收益函数向量为狌i(y)=(uis1(y),uis2(y),…,uismi(y)).相应地,所有群体的收益函数组合狌(y)=(狌1(y),狌2(y),…,狌n(y)).如果没有用户单方面地改变自身的策略,一个群体博弈策略组合y是一个纳什均衡.更精确地说,y是一个纳什均衡,如果对任意群体i中选择策略j的用户数yij>0,且对其中任意用户当前的收益uij(y),uij(y)uih(y),其中h∈Mi.3.2演化博弈一般而言,传统博弈论中行为的预测是基于一些解决方案的概念,例如Wardrop均衡[14]、纳什均衡以及其精炼或扩展.这些概念需要假定参与者是完全理性的,且参与者在完全信息条件下进行,即假定每个用户能够正确地预期其它博弈者如何行动或反映,并做出“一步到位”的准确决策.这样的均衡知识的假设条件太强,一般很难实现.正如文献[15]序言中所说“传统博弈论描述的是尘埃落定之后的情形,而对尘埃是如何落定的却没有加以描述”.作为一种替代方案,演化博弈解决了“尘埃是如何落定”的问题.定义2.演化博弈[16]是一种研究博弈参与者在有限理性情况下、在复杂的局面中,如何动态调整自己的策略的理论和方法.演化博弈理论并不要求参与者是完全理性的,也不要求完全信息的条件,它是博弈者渐进地更新它们的行为以对当前的策略环境做出响应.这个过程具体而言是通过定义一个称为修订协议(revisionprotocols)的纯策略的修订.一个修订协议将当前的收益和总的行为作为输入,输出是一个有条件的切换速率.切换速率描述了给定当前的收益组合和参与者的策略分布,处于某一群体中采取策略a的参与者以哪一个频率改变自己的策略到b.这个修订协议表述了在动态的演化环境中相应的参与者更新它们的行为并最终达到演化稳定的过程.演化博弈动态(dynamicsofevolutionarygames)用于演化博弈理论中的策略改变模式.一个策略如果较平均或它的对手做的更好将增加选择它的频率,同时降低收益低于平均或对手的策略的频率.演化博弈论中存在多种演化博弈动态(如repli-cator[17]、logit[18]、BNN[19]等).4无线用户网络关联的群体博弈建模和演化稳定性分析本文中我们以WLAN/WiMAX融合网络作为我们的HWNs环境.由于高的传输速率、大的覆盖范围以及对移动性和安全性的支持,WiMAX正成为一种非常有前景的无线接入技术.同WiMAX相比WLAN的覆盖范围较小,但是因为造价低、带宽高且易于部署等优点其已经被广泛的应用.因此WLAN和WiMAX的共存必将成为一种不可避免的趋势.由于用户分布、用户偏好和业务需求不同,HWNs系统中不同网络间的负载水平可能存在明显差异,如图1中AP2中的负载相对其它网络出现了显著的拥塞.确定有效的用户网络关联方案是平衡网络负载、避免网络拥塞、增大用户收益的关键.为取得有效的用户网络关联关系,我们首先将移动用户根据在HWNs中的分布分成几个不同的群体,然后利用一个动态演化博弈模拟用户的网络关联行为.特别地,我们假定当前的用户都属于同一业务类,他们分布在HWNs不同地理位置区域中竞争不同无线接入网络中有限的网络资源.在每个用户的智能终端中,都捆绑了相应的智能算法,用户的收益和策略都通过智能终端进行计算并决策.当当前网络中网络负载处于一种不平衡状态时,接入用户的收益也存在明显的差异.此时,基于当前信息和用户有限的理性,演化博弈理论可以用来模拟用户基于垂直切换的网络选择的动态特性.也就是说,当用户感受到所获得的收益小于相同群体中的平均收益时,用户会慢慢地改变自身的接入网络策略.最终会达到一种演化平衡,即同一群体中的用户的收益Page5趋于一致.此时任何用户不会改变他的网络选择,因为接入任何其它网络的收益总是比当前平衡状态下取得的收益小.4.1HWNs环境下用户网络关联的群体博弈建模在HWNs系统中用户网络关联的群体博弈模型可以表述如下:参与者:在HWNs环境中不同位置中的用户拥有不同的可选择接入网络,并且接入网络相同,有可能接入网络的传输速率不同.我们将特定业务类中,有多个网络选择策略的用户称为一个参与者.例如在图1中的参与者是在WiMAX和WLAN的重叠覆盖区域中竞争WiMAX和WLAN网络资源的用户.在其它区域中的用户不属于参与者,因为这些用户拥有唯一一个有效接入网络.策略:每个用户的策略,就是用户可选择的有效网络及在网络中的传输速率.对单个用户的接入网络策略而言,一个混合策略意味着一个用户同时接入多种不同的无线接入技术,并以混合策略中的比率传送业务流.理论上说,混合策略能够提供给用户更高的灵活性,但在技术实现上很困难.首先,同时启动多种无线接口会带来过多的电量消耗并产生较高的热量.其次,即使不同无线接入技术间使用不重叠的通道,无线接口之间的干扰仍是不能被忽略的[20].最后,MAC层的负载也大大增加了,因为它必须将业务流劈开并需要将乱序的数据包重排序后发送给上层协议(如TCP等).而更可行的方案是纯策略,即用户同时接入到一种接入技术的网络中.为使用户取得一个纯策略,我们引入了群体博弈模型.群体:对某一特定业务类,我们把策略集相同的参与者定义为一个群体,即有相同的有效接入网络集,并且在同一网络中拥有相同传输速率的参与者称为一个群体.假定一个HWNs覆盖区域中有n个这样的用户群体,群体的集合定义为N={1,2,…,n}.我们假定在同一业务区域里群体中用户的数量是有限的,群体i中所有用户为pi个,整个网络系统中的所有用户数为p=∑n动用户的集合.假定群体i中有mi个可选择的网络,定义群体i的策略集为Mi={s1,s2,…,smi}{1,2,…,m}.其中,m为HWNs系统中所有无线网络的个数.相应地,群体i的策略分布向量为狔i=(yis1,yis2,…,yismi),∑mi择接入网络j的用户的数量.对整个HWNs系统,所有群体的策略组合为y=(狔1,狔2,…,狔n),所有移动用户数为∑n在一个群体博弈中实际的参与者应该为一个群体,群体的混合策略可以表示为群体中选择不同纯策略的用户的分布.但是就群体中的每个用户而言应该是同某一个确定接入网相关联,即每个用户选择一个纯策略.所以我们的群体博弈经过一段的时间的演化达到系统纳什均衡后,对一个群体而言获得的是一个混合策略,而对每个用户而言获得的是一个纯策略,对整个系统而言是一个纯策略平衡.收益:一个用户的收益是由他接入一个网络后所获得的网络效用定义的.为了衡量用户的收益,我们用一个效用函数来定义用户取得的带宽的满意程度.在策略组合y下,群体i中的用户选择网络j的收益函数为uij(y)=Bij(y)-αCij(y),其中α是一个常量,在此我们取1.收益函数uij(y)由两部分组成,Bij(y)表示为用户接入网络j获得的带宽,而Cij(y)表示用户的花费,一个用户接入到一个网络获得的带宽同网络中用户的策略组合y相关.在策略组合y下,对某一接入技术的网络j而言,同该网络关联的用户总数Aj(y)=∑nWiMAX和WLAN网络传输速率的分析,排除了额外的开销,对用户接入网络获得的带宽进行了如下近似.假定用户1和2分别属于两个不同的种群且都和网络j相关联,他们在网络j中的分配的带宽相同,但各自的传输速率不同.则用户在网络j中分配的带宽可表示为Bj=r1jt1j=r2jt2j,其中t1j表示群体i中的用户占用网络j的时间比率,r1j表示用户在网络j中的传输速率.考虑到网络j中所有用户的时间片之和为1,则在网络j中每个用户分配的平均带宽可用式(1)来表示.由于网络j中的所有用户的带宽都相同,所以我们用Bj(y)来替代网络j中任意群体i中用户的带宽Bij(y).根据每个用户的平均带宽和用户的策略分布,网络j上的总吞吐量是Tj(y)=Aj(y)Bj(y)=∑n下面来分析如何定义用户的花费.在一个网络Page6中由于不同的用户的物理传输不同,所有用户对网络吞吐量的贡献是不相同的.给定一个时间间隔,一些实时传输速率比较大的用户花费了一个相对较小的传输时间,另外一些实时传输速率比较小的用户花费更大的传输时间.我们定义一个群体i中用户的通道占用率Dij(y),用它来表示每个用户在群体中所占用通道的比率关系,即它给定了群体i的用户在网络j中所用时间与整个网络中所有用户所用时间的比率.用户的平均带宽相等,因此一个更小的占用率意味着在群体中的该用户更有效,相应地应该收更少的费用.反之,占用率更大的用户应该收更多的费用.通道占用率可以被看作用户对网络中其他用户的外部性(ex-ternality).我们利用带宽来测量用户的收益,应该将通道占用量转换成带宽来计算.就网络的吞吐量而言,在网络j中群体i的用户的外部性的花费可以定义为用户占用时间同网络j总体吞吐量的乘积.所以从网络运营商的角度,群体i中一个用户接入到网络j的花费可以如下表示:我们称之为“花费价格”.网络j中所有用户的带宽都是一致的,在策略组合为y的条件下,就可以确定用户的收益函数uij(y).下一步来证明设计的收益函数能满足群体博弈u(y)是一个势博弈的条件.4.2群体博弈狌(狔)是一个势博弈对单个用户而言考虑的是用户收益的最大化,而对整个HWNs而言考虑的是社会收益的最大化,即整个HWNs的总体吞吐量.在网络策略组合为y下,群体i中用户接入到网络j中获得的带宽为Bj(y),系统的整体效益可用总体吞吐量函数f(y)来表示定义3.一个博弈是一个势博弈[23-24],如果存在一个标量值的势函数,它的梯度描述了该博弈的收益.即如果一个收益函数组合为u(y)的博弈满足条件:存在C1(连续可微的)函数f:Y→R,f(y)=uij(y),i∈N,j∈Mi,我们称博弈u为一个yij势博弈.上述条件说明存在一个连续的可微函数f,其梯度f等于收益函数向量,函数f称为博弈的势函数.如果收益函数u是C1,则以上条件等价于外部对称(externalitysymmetry)条件:ui0p(y)uj0q(y)yi0p定理1.用户收益函数组合为u(y)的群体博弈是一个势博弈,系统总吞吐量函数u(y)是博弈的势函数.特别地,如果yij=0表示网络j对群体i中的用户是无效的.证明.对于HWNs总吞吐量函数f(y)=k=1∑mk∑nykslBsl(y),求yij的偏导:f(y)yijl=1可见群体博弈u(y)是一个势博弈,其势函数正是系统的总体吞吐量函数f(y).4.3基于复制动态的演化博弈策略更新机制这一部分给出了利用复制动态[25]设计一个策略选择的更新机制,让群体中的用户基于收益函数改变自身的策略选择,最终整个系统收敛到一个纳什均衡点.4.3.1基于复制动态网络关联的演化平衡定义4.复制动态是一种常用的策略演化模式,它通过一个ODE(ordinarydifferentialequa-tions,常微分方程)来描述一个随着时间推移的演化过程.演化博弈动态群体中,一个个体如果能够通过变异和选择复制它自身就称为一个模仿者.如果一个模仿者能够得到更大的收益,将更快地模仿它Page7自身.复制动态对演化博弈是至关重要的,因为它提供了在某个时间点上群体中的信息(例如:选择不同策略的个体的比率).复制动态对研究到达一个博弈的解的收敛速度也非常重要.我们以3.1节中的群体博弈模型为例来形式化地定义复制动态.现在假定群体博弈中参入者的策略组合y是时间t的函数:y=y(t).但是为了表述上的方便,可以简单地用y来表示y(t).策略的轨迹如下描述动态定义为复制动态:对i∈N,j∈Mi满足dyij(t)dt=^yij(t)=yij(t)(uij(y(t))-珔ui(y(t)))是复制动态,其中珔ui(y)=1i用户的平均收益.如果满足dyij(t)或uij(y)=珔ui(y),我们说y是平稳点(stationa-rypoint).当策略组合达到平稳点时,称为演化平衡.如果选择网络j的收益大于群体中的平均收益,则群体中选择网络j的用户数量就会增加;如果选择网络j的收益小于群体中的平均收益,群体中选择网络j的用户数量就会减少.用户是不会选择一个其收益小于群体中的平均收益的网络.群体i中,复制动态满足条件∑mi演化平衡是演化博弈的稳定状态.在基于复制动态的演化过程中,只要群体中用户的收益不等于平均收益,^yij就不等于零,群体的演化过程就会继续.随着时间的变化,直到群体的策略组合在平稳点处才能达到平衡.因为在演化的平稳点处每个用户接入当前网络中的收益等于群体的平均收益,没有用户会再次改变自己的接入网络.4.3.2复制动态的正相关特性定义5.动态^y=V(y)≠0如果满足k=1∑mk∑nVksl(y)uksl(y)>0,则称动态^y=V(y)是正相关的(positivelycorrelated)[23].下面我们证明复制动态是正相关的.定理2.采用复制动态的博弈系统u(y)是正相关的.证明.k=1∑mk∑nl=1l=1l=1l=1k=1将复制动态带入上式得k=1∑mkuksl(y)yksluksl(y)-1∑n(pk∑mk∑n既然∑mi部分是非负的(当且仅当V(y)=0时取零).所以当V(y)≠0时全式是非负的,复制动态满足正相关特性.4.3.3演化平稳点同纳什均衡点的一致性定理3.如果一个博弈u(y)是势博弈,动态V(y)是正相关的,则势博弈的势函数f(y)是V(y)的全局李雅普诺夫函数(Lyapunovfunction).证明.由V(y)的正相关特性当且仅当V(y)=0时,即在平稳点处,d可见f(y)是非负定的,可以作为动态V(y)的李雅普诺夫函数.这意味这动态V(y)的所有的非稳定点将增加李雅普诺夫函数,最终收敛到平稳点处系统达到稳定.因此,V(y)的平稳点是渐进稳定的.稳定的平稳点都是纳什均衡点①,所以基于演化的网络选择过程最终要收敛到一个纳什均衡点的集.由定理2可知复制动态V(y)是正相关的,所以在V(y)=0处的点既是平稳点又是纳什均衡点.证毕.通过以上的分析可以得到,收益函数组合为u(y)的群体博弈,在基于复制动态的演化过程达到平稳状态时,整个网络系统达到了纳什均衡.4.4演化博弈对HWNs系统性能的影响分析前面的内容证明了在整个网络系统中,每个用户通过动态的网络选择增加自身的收益,最终所有的用户将达到一个稳定状态,即一个纳什均衡点.这表明群体中每个用户选择一个纯策略,且不会改变自己的策略选择.但是由于在竞争中用户自私的行为,往往得到的纳什均衡的Price-of-Anarchy[26]是较低的,也就是说在一些纳什均衡点处不能保证社①BarthD,BournezO,BoussatonO,CohenJ.AdynamicPage8会收益的最大.l=1下面我们来分析用户基于最大收益的网络选择行为对HWNs系统整体性能的影响.在前面的工作中我们把系统整体的吞吐量函数f(y)=k=1∑mk∑nykslBsl(y)定义为一个系统的势函数,它表示HWNs中所有用户获得的带宽的总和.从社会收益的角度来看,为提高整个网络的利用率,希望系统的吞吐量是最大的.在演化的过程中每个用户基于增加自身收益的目的不断改变自己的网络策略.在纳什均衡点处,所有用户的收益取得了最大,不会再改变自己的接入网络.用户的网络选择行为会对整个网络吞吐量产生怎样的影响?为了实现个体效益和社会效益的一致,理想的情况是用户自私的行为能够逐渐增加HWNs吞吐量函数f(y),并且在纳什均衡点用户的行为趋于稳定,系统的总体吞吐量也达到最大.直观上看,基于系统整体吞吐量的势函数在演化过程中单调增加,达到均衡点处达到局部最大,是否这个局部最大值即是全局最大值?下面我们来证明纳什均衡点对系统性能提升上的有效性.定理4.系统总体吞吐量的最大问题maxf(y)同博弈u(y)的纳什均衡是等价的.证明.系统吞吐量的最大化问题可表示为限制条件是每个网络中的用户数∑mii∈N;且yij0,i∈N,j∈Mi.若yij=0表示网络j对群体i中的用户是无效的.我们将这个最优化问题转化成Lagrangian最大化问题表示为L(y,μ,λ)=f(y)+∑n若f(y)取最大值对应的Kuhn-Tucker一阶条件如下:(KT1)f(KT2)λijyij=0;(KT3)λij0.(1)证明如果系统吞吐量f(y)基于策略组合y取得最大值,则相应的非合作博弈u(y)取得了纳什均衡.如果f(y)取得最大值,则(y,μ,λ)满足Kuhn-Tucker一阶条件,则对任意的群体i,其中(KT1)和(KT2)暗含着f(KT3)暗含着对任意的j∈Mi,uij(y)=μi-λijμi.可见对群体i中接入到任意的网络j中的用户收益uij(y)=μi=maxuij(y).这表明在策略组合为y时,群体i任意用户的收益达到最大,且不会改变自身的网络选择策略.所以非合作博弈u(y)达到纳什均衡点.(2)证明如果策略组合为y时,相应的非合作博弈u(y)取得了纳什均衡,则系统吞吐量f(y)取得最大值.相反地,如果在策略组合y,博弈u(y)达到纳什均衡,则对任意的群体i中的用户的收益uij(y)达到最大值,且f(y)uij(y)0,且λijyij=0.所以在均衡点处满足Kuhn-Tucker一阶条件.又因为f(y)是半正定的,所以f(y)是拟凹函数,即f(y)的最大化集是凸的.于是可以得到f(y)有唯一的最大值,所以Kuhn-Tucker条件能够满足全局最优.因此满足纳什均衡的策略组合y也是网络吞吐量最大化问题maxy∑n解.在这里用户的个人收益和整体网络系统的社会收益达到了统一.5用户网络关联的实现在前面的部分中通过理论分析,证明了群体博弈u(y)基于复制动态的演化博弈的收敛性以及纳什均衡点的有效性,但是实际的异构网络环境是一个离散的系统.下面我们提出HWNs中一个基于复制动态的用户网络关联算法.在这种方法中,群体中的用户维护一个策略概率分布向量,该向量中的元素表示的是用户选择不同接入网的概率,在初始条件下用户可以根据自身经验随机地选择一个策略概率分布向量.一个中心控制实体维护并向同群体中的用户公告当前群体中的平均收益信息.每个用户在接入一个网络中后,根据他的收益值调节其网络策略概率分布向量中选择不同网络的概率.然后将在当前网络中的收益同从网络中获取的群体平均收益进行比较.如果当前收益小于平均收益值,根据用户的策略概率分布向量随机地选择一个接入网络;Page9如果当前收益大于平均收益,用户不改变当前的接入网络.直到每个用户的策略概率分布向量是一个单位向量时算法结束.算法在运行时,仅需要网络侧的中心管理实体计算并公告每个群体中的平均收益,不需要大量的额外信令开销.HWNs基于群体博弈的用户网络关联算法具体内容可表示如下:初始时刻HWNs中的任意群体所有用户随机地选择一个接入网络,随机分配一个策略概率分布向量,如群体i中用户a的策略概率分布向量πa=(πas1,πas2,…,πasmi).然后进入网络选择过程.在当前时刻t,网络的策略组合为y(t),任意群体i中一个用户a接入到网络j得到的收益为uij(y(t)).用户a的策略分布向量是πa(t).用户a对接入网络j的策略概率分布值πaj(t)的修订如下πaj(t+1)=πaj(t)+ε(1+uij(y(t)))(1j=j-πaj(t))其中j∈Mi,1j=j表示如果用户当前的接入网络j同当前网络j一致时取1,不一致时取0.ε是演化影响因子,它的取值能够改变收敛的速度和精度.在演化过程中,πa(t)中选择每一个网络的概率最终或者趋于1,或者趋于0.所以为了加速收敛,我们考虑设定两个阈值δm和δM,一旦πaj(t)达到了这两个阈值按照下面的规则赋值πaj(t+1)←0如果πaj(t)<δmπaj(t+1)←1如果πaj(t)>1-δMv=0用户a从网络侧接收到了群体的平均收益值,将当前在网络j中的收益跟从网络中获得的群体平均收益进行比较.如果用户a当前的收益uij(t)<珔ui(t),则根据πa(t+1)随机选择一个新的网络.即用户产生一个随机数rand(),如果∑j-1πav(t+1)rand()<∑j且当v=0时,πav(t+1)=0,则此时j为用户选择的新网络.如果j≠j,则用户触发垂直切换到网络j.如果对任意群体中的用户的策略概率分布向量πa(t)=犲c,则终止循环,其中犲c表示第c个元素值为1,其它元素的值为零的单位向量.否则在下一个时刻t+1,继续执行策略概率分布向量的调整,直到所有用户的策略概率分布向量为单位向量终止.在算法1中给出了HWNs用户网络关联算法的伪代码.算法1.用户网络关联算法.输入:t=0,任意移动用户a的策略概率分布向量πa(0)输出:任意移动用户a的策略概率分布向量πa(t)=犲c1.WHILEa,πa(t)≠犲c//如果存在用户的概率分布向量不是单位向量,2.FORi=1TOn3.FORa=1TOpi//假设当前移动用户a正4.IFπa≠犲c5.IFπaj>1-δM6.πaj(t+1)←17.ELSEIFπaj<δm8.πaj(t+1)←09.ELSEFORj=1TOmi10.πaj(t+1)=πaj(t)+11.ENDFOR12.IFuij(t)<珔ui(t)13.a根据式(15)确定是否执行网络切换14.ENDIF15.ENDIF16.ENDIF17.ENDFOR18.ENDFOR19.t=t+120.ENDWHILE6用户网络关联算法的仿真与理论分析验证6.1网络场景及其参数设定现在我们来考虑一个具体的网络场景如图3中Page10所示.其中HWNs是由一个WiMAX网络1和两个WLAN网络2、3构成,每种接入技术的网络中存在两种传输速率.其中WiMAX是全覆盖的,其BS半径为500m.根据离基站的距离采用QAM-64、QAM-16两种不同的调制方式,其传输速率和传输半径分别是250m内50Mb/s、500m内25Mb/s.同时WLAN的传输直径是150m,传输速率也是不均匀的,假定75m内11Mb/s、150m内5.5Mb/s.这样我们的HWNs环境中就划分为A、B、C、D、E、F6个区域,如图3中所示.网络系统中的用户分为两类:一类是具有多模终端并能接入到多种无线接入技术网络的用户,称为动态用户;另一类是用户的终端设备或是只有一种无线接口,或是当前的网络中只有一种接入网络的信号,这样的用户称之为静态用户.静态用户不可能发生接入网络策略的改变,是不参与动态演化过程的.图3中A、B、C、D4个区域中的动态用户有WLAN和WiMAX两种网络选择,这些动态用户构成了4个群体.由于WLAN的热点覆盖区域往往集中部署在一个人口密集度比较高的网络中,我们设定A、B、C、D每个区域中的群体中动态用户数量都是20个,静态用户数量都是10个.E区域中的用户数量为40个,F区域中的数量为20个.初始条件下每个群体区域中静态和动态用户选择WiMAX和WLAN网络的数量都是等量的.另外假定ε=0.1,δm=0.2和δM=0.2.6.2数值结果分析6.2.1群体的演化稳定和纳什均衡点图3中给出了在不同的初始策略下,系统的演化最终收敛到纳什均衡点的过程.假定在其它群体中的策略分布为初始条件下的值.改变群体A和B中的策略分布我们观察整个系统的收敛过程.图3中黑线给出的是在给定初始条件群体A和B的初始策略分布向量狓A(0)=(0.3,0.7),狓B(0)=(0.3,0.7)时群体中的策略分布不断改变自身的适应性,最终趋于稳定的轨迹.对任意比率的策略分布,不同图3不同初始策略下用户网络关联的演化过程群体最终的稳定点是一致的.图4中给出了xA1(0)分别为0.3和0.7,xB1(0)分别为0.3、0.4、0.5、0.6、0.7等不同初始策略分布下最终都收敛到相同的平稳点(0.4,1).图4给出了群体A在演化过程中策略的改变最终趋于稳定的过程.假定其它群体的策略分布不变,在初始条件下群体A的策略为狓A(0)=(0.6,0.4).由于群体中用户的收益不平衡,低于平均收益的用户会改变自身的接入网络,所以整个群体A的策略不断变化.最终地,群体中的策略都会达到一个稳定状态.如图4中,群体A中选择WiMAX1网络的用户占整个群体用户数的40%,选择WLAN2的用户占整个群体用户数的60%.图5给出了固定其它用户的策略分布为初始值,群体A中不同策略用户的演化过程.图中分别给出了群体A中的策略分布狓A(0)分别为(0.6,Page110.4)、(0.5,0.5)、(0.4,0.6)下的系统演化过程.随着t的增大,无论群体A中的初始策略为何值,群体A中选择不同网络的用户比率趋向于一致,即狓A1(t)=0.4,狓A2(t)=0.6.6.2.2演化因子ε对达到平稳点的速度的影响我们分析不同的演化因子ε对达到收敛过程的变异次数.图6中给出了初始条件下,选择不同的演化因子ε对系统达到演化稳定时变异次数的影响.可见演化因子ε对系统的演化次数有重要的影响.演化因子ε越大,用户a的策略概率向量πa(t)的变化越快,最终策略趋向一个纯策略的机会越大,但是这样演化的结果也会导致更大的误差.相反地,演化因子ε越小,用户的策略概率分布向量πa(t)的变化越慢.最终策略趋向一个纯策略的速度越慢,但是这样演化的结果也更加逼近平稳点.6.2.3相同群体中用户收益的一致性对同一群体中选择不同网络的用户而言,演化的结果是无论选择哪种网络的用户,最终他们的收益都会达到一致.正如图7中所示,初始策略组合下群体A中选择网络1和网络2的用户收益不一致.但是经过多次变异后,最终不同网络策略的用户收益都趋向于一致.并且无论初始的策略怎么变化,达到稳定状态的收益都收敛到一个相同的值.6.2.4不同接入网在变异过程中平均吞吐量的变化网络平均吞吐量反映的是网络中所有关联用户分配的平均带宽.假定群体A、B、C、D网络的策略组合为初始值.从图8中看出不同网络平均吞吐量的变化,在变异过程中随着策略组合x(t)的改变,各种网络的平均带宽变化很大,但最终每个网络中的平均吞吐量逐步稳定.在最终达到稳定状态时网络2和3的平均带宽较初始有所增加,网络1的平均带宽基本保持不变.其原因是系统中整体的吞吐量是增加的,两个WLAN网络中由于接入用户较少,接入网络策略的改变对其影响较大,而WiMAX的网络用户较多变化不是很明显.6.2.5演化过程对HWNs总体吞吐量的影响在前面部分的论证过程中,我们证明了如果系统处于不稳定状态,网络系统的整体带宽会随着时间逐渐增加,当达到稳定状态时,系统吞吐量达到最大.现在我们通过仿真结果更直观地验证这一结论.图9中给出了假定其它参数为初始设置的情况下,群体A中选择网络1的策略比率分别为0.3、0.5、0.7时,整体网络系统吞吐量在变异过程中改变.对任意策略组合而言,在变异过程中系统吞吐量随时间逐渐增加,在达到稳定点时系统吞吐量达到最大值,且无论初始条件下的策略组合如何变化,最终的系统的吞吐量在误差范围内都达到一致.这就验证了纳什均衡点有效性的结论.图9演化过程对HWNs总体吞吐量的影响7结束语演化博弈最初主要用来分析生物体的行为,也可以用于分析有限理性参与者之间竞争资源的问题.本文中我们将HWNs用户竞争有限网络资源的问题,抽象成一个群体演化博弈模型.为让每个用户获得一个纯策略,将具有相同有效接入网络集及传输速率的移动用户形成一个群体,群体中选择不同网络的用户数量构成群体策略.根据用户在接入网络分配的带宽和花费来评估群体中用户获得的收Page12益,并证明基于其收益的博弈是一个势博弈.引入复制动态的数学模型来模拟用户网络选择的动态特性,表现群体中选择不同网络的用户的适应性.基于势博弈、复制动态的特性,证明了系统演化的平稳状态即是一个纳什均衡点,其中所有用户都取得效用相同的最优策略解,并且该解能够使得HWNs系统的总体吞吐量达到最大.最后基于复制动态的原理提出一个用户网络关联算法,并通过仿真实验验证了理论分析的结果.下一步的工作应该分析动态移动的用户网络关联问题,此外文中的工作缺少对运营商利益的考虑.
