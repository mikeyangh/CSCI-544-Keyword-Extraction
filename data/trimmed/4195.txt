Page1基于可信联盟的服务推荐方法王海艳1),2)杨文彬2)王随昌2)李思瑞2)1)(东南大学计算机科学与工程学院南京211189)2)(南京邮电大学计算机学院南京210036)摘要随着满足用户需求的候选服务数量的飞速增长,服务选择的难度日益增大,服务推荐已成为服务选择的重要环节之一,受到越来越多的关注.然而,目前基于协同过滤的服务推荐方法较少关注到服务的不同属性特征对相似度计算会产生不同的影响,在寻找邻居用户时也很少考虑推荐用户与目标用户之间的信任关系,难以抵抗推荐用户的恶意推荐,无法保障推荐结果的精确度和可信性.针对以上问题,文中通过引入服务的推荐属性特征,改进传统相似度计算公式并基于Beta信任模型建立用户间信任关系,根据改进的相似度计算方法与服务推荐行为的信任度构建出邻居用户的可信联盟,提出了一种基于可信联盟的服务推荐方法.仿真实验与结果表明:与现有其它诸多方法相比,该方法不仅提高了服务推荐的精确度,还能有效保障服务推荐者的可信性,能较好的抵抗恶意攻击.关键词服务推荐;协同过滤;可信联盟;相似度1引言服务选择是用户(服务请求者)在具有相同功能属性(FunctionalProperties,FP)但非功能属性(Non-FunctionalProperties,NFP)不同的若干候选服务中依照某种策略基于自身对服务质量(QualityofService,QoS)的需求选取所需服务的过程.随着服务计算及其相关技术的迅猛发展,满足用户需求的候选服务数量与日俱增,服务选择的难度越来越大,设计安全、有效的服务推荐方法俨然已成为服务选择的重要环节之一[1].推荐系统作为个性化信息服务问题的重要方法与手段,主要是通过挖掘用户的兴趣偏好和行为特征以满足其个性化的需求[2-3].随着越来越多的用户访问服务所形成的经验积累,服务推荐技术将成为服务选择的自然需求.协同过滤技术是推荐系统中较成功也是较有影响力的一种重要技术.将协同过滤技术应用于服务推荐过程,即根据目标用户(被推荐用户)的服务评价行为确定一组与之行为相似的推荐用户,并以推荐用户对服务的评价作为目标用户的推荐值.目前已有的这类推荐方法在寻找相似用户时往往过于粗略,较少将服务属性中与服务推荐相关的个性属性特征与其它一般属性区分开.另一方面,目前绝大数服务推荐系统在进行相似性判断时通常都假设用户的行为真实可靠,不存在恶意欺骗.然而,这种假设过于理想化,在现实场景中,出于某种利益目的,某些恶意用户可能会故意抬高某个服务的评价或故意诋毁某个服务,因此,忽略用户行为的可信性而进行服务推荐无疑将极大影响服务推荐结果的可信性和精确性.针对以上问题,本文在寻找行为相似用户,度量用户相似度时引入服务推荐的个性属性特征,以便更好地体现用户认知过程;同时,基于现有的信任理论及相关信任模型,建立用户之间的信任关系,并在此基础上完成可信联盟的构建,为用户实现可信的服务推荐,提出了一种基于可信联盟的服务推荐方法.第2节介绍背景及相关工作;第3节详细给出可信联盟的构建过程与方法;第4节给出基于可信联盟的服务推荐方法;第5节是仿真实验结果与数据分析;最后对全文进行总结与展望.2背景及相关工作协同过滤最早由Goldberg等人[4]在1992年提出,是当前最成功的推荐技术之一.协同过滤技术被应用于电子商务领域后得到了广泛的推广与应用.这一推荐技术的基本原理简单的说就是:有相似行为习惯的用户在寻找所需服务时往往有相似的偏好或倾向,将相似用户对服务的评价作为结果推荐给用户.协同过滤的具体实现取决于用户对服务的评价反馈,这类评价信息数据集往往表现为由各类属性评价数据得到的评价矩阵,利用评价矩阵可以分析出用户之间的相似性并预测得到用户对某一项目或某一属性的偏好程度.根据所使用的技术或方法的不同,协同过滤技术主要分为以下3类[5-6]:(1)基于用户的协同过滤,即通过某种相似性计算标准定义邻居,根据邻居向用户推荐其可能感兴趣的物品;(2)基于物品的协同过滤,即通过定义相似物品,根据用户曾经评过分的物品寻找相似的物品,并向用户进行推荐;(3)基于模型的协同过滤,为了避免协同过滤算法中数据稀疏问题和在处理大量数据时无法满足时效性等问题,提出了基于模型的协同过滤算法.目前,已有不少学者将协同过滤算法运用到服务推荐过程.早期的相关研究工作有:Shao等人[7]使用协同过滤技术对用户行为和偏好进行度量,提出一种个性化QoS预测方法;Zheng等人[8]将基于用户和物品两类推荐方法进行有机融合,提出了WSRec推荐系统以解决候选服务冗余问题;Rong等人[9]将用户兴趣相似度和关联规则相结合,实现个性化的Web服务评分框架.以上文献中的仿真实验大多采用MovieLens[10]作为数据集,验证协同过滤算法应用于服务推荐的可行性,但是他们在计算相似度时忽略了服务的推荐属性特征对推荐结果可能产生的影响.Page3随着推荐技术在服务计算领域更加广泛地应用,个性化的服务推荐得到越来越广泛关注.Jiang等人[11]提出了一种基于相似度的个性化协同过滤混合推荐PHCF方法,但是他们并没有考虑推荐信息是否真实可信、如何抵御可能存在的恶意攻击等问题.朱锐等人[5]在计算用户评价相似度的基础上,结合综合领域相关度和推荐等级等因素,进一步过滤用户的推荐信息,提出了一种基于用户偏好的服务选择方案,并使推荐算法中冷启动问题得到一定程度的缓解.张莉等人[12]考虑到调用时刻用户输入、网络环境及服务运行环境的差异,提出了一种基于服务调用特征模式的个性化QoS预测方法.贾冬艳等人[13]提出了一种基于双重邻居选取策略的CF-DNC协同过滤推荐算法,考虑了目标用户对兴趣相似用户的信任度.Yao等人[14]结合协同过滤与基于内容的推荐方法,给出了一种满足用户兴趣的动态推荐服务方法.Liu等人[15]提出了一种基于环境感知的服务推荐方法,更好的符合用户需求,提高了QoS预测的精确度.Zhang等人[16]提出了一种基于MFI-7的兴趣驱动的服务推荐方法,利用UIP表示用户兴趣,根据UIP得到用户最近邻居实现推荐.Gong等人[17]提出一种基于用户关系及偏好的服务推荐方法URPC-Rec,较好地解决了服务推荐问题.现有的服务推荐方法存在以下问题:(1)在考虑用户行为相似性时,绝大多数方法忽略了不同的服务属性特征在相似性度量中可能会产生不同的影响,推荐结果的准确性受到一定制约;(2)在现有的服务推荐系统中,参与推荐的用户彼此之间具有依赖性,系统自身又具有开放性,导致了用户信息的真实可信无法得到保障,当系统中存在虚假用户模仿其它用户的兴趣爱好或对服务进行虚假评价时,若推荐系统误把恶意用户当成相似邻居进行推荐,则所产生的推荐结果很可能会严重偏离用户的真实需求[18-19],极大地影响系统的推荐精确度.因此,本文将区分不同属性特征对推荐结果的影响,同时引入社会学中的信任理论,利用信任模型提出了一种基于可信邻居形成联盟的Web服务推荐方法,提高服务推荐的精确性.3可信联盟及其构建服务推荐系统是一种具有开放性特征的系统,它要求系统中的用户积极地参与服务评价,并依赖用户提供的服务评价信息确定目标用户的最近邻居,以此产生推荐结果.在选取邻居用户时,如果仅考虑用户评价行为之间的相似程度,而完全忽略用户的推荐行为是否真实可靠,将很可能引入恶意用户主观臆造的不真实数据,导致系统推荐服务时误把恶意用户当成相似用户,从而对推荐精确度产生很大的影响.鉴于此原因,推荐系统在遴选用户时,需要同时考虑相似程度和可信性这两方面的因素,才能确保产生准确、可信的服务推荐结果,故构建可信联盟以实现这一目标[20].定义1.可信联盟(TrustworthyCommunity).可信联盟是指在服务推荐系统中,针对某一目标用户ui,依照某种策略选取产生的ui之邻居用户所组成的集合,简记为TC={c1,c2,…,ck},其中邻居用户cj(1jk)满足如下两个条件:(1)cj与目标用户ui之间服务使用行为满足相似性特征;(2)cj的推荐行为是可信的(信任的具体含义见下文),即可信联盟TC中的用户都是与目标用户评价行为相似的邻居用户,且其推荐行为也是可信的.本文将从以下3个方面来完成可信联盟的构建:首先对传统相似度度量公式加以改进,加入服务的个性推荐属性特征,进一步确保用户间的相似程度;其次为了评估用户所提供的推荐信息是否真实可靠,本文将利用信任模型理论对服务推荐行为进行可信度量与管理;最后将评价行为的相似度及推荐行为信任度两方面进行有机融合,确定出目标用户的相似邻居用户,构建可信联盟.3.1评价行为的相似度计算现假设服务推荐系统由候选服务s1,s2,…,sn以及服务请求者u1,u2,…,um共同组成.其中,n为候选服务的数量,m为服务请求者的数量.用户日志记载着服务请求者对其使用过的服务的评价信息,服务请求者对各服务的评价可用一个m×n的矩阵表示,其中元素Ri,k代表服务请求者ui对服务sk某个QoS属性(例如响应时间、成功率等)的评价值,通常评分越高表示用户对与这一属性相关的服务质量越满意.若ui未调用过服务sk,则Ri,k取值记为0.现将用户ui和uj共同评价过的服务集记为Si,j,ui与uj的相似度Sim(i,j)按皮尔逊相关系数(PearsonCorrelationCoefficient,PCC)度量公式进行计算,如式(1)所示:Sim(i,j)=Page4uj对Si,j中所有服务评价得出的算术平均值.根据式(1)可知,ui和uj的相似度满足-1Sim(i,j)1,其中-1表示两个用户完全负相关,0表示无关,1表示完全正相关.一般认为,Sim(i,j)数值越大,则说明两个用户的评价行为越相似.定义2.服务的推荐属性特征(ServiceRe-commendationAttributeCharacteristics).所谓服务的推荐属性特征是指服务的所有属性之中,能够对服务推荐结果的质量产生较大影响的若干属性,如服务的信誉度、服务使用频率、服务的运行环境等.服务的推荐属性特征内涵有别于服务自身所具有的属性特征,后者基于服务评价或发布的角度,往往表现为服务质量(QualityofService,QoS),而前者侧重于考察其在推荐过程中所起的作用.文中为了表达简便,仅以两个常见的推荐属性特征:服务的使用频率(frequency)和信誉度(reputation)为例,其余的特征可类似扩展加入推荐系统中.在服务的推荐属性特征中,服务的使用频率是指单位时间内服务被调用的次数;服务的信誉度是指用户对已使用服务的QoS的认可程度.通过对式(1)的深入分析可知,度量用户评价行为的相似度时Si,j中所有服务的贡献度都是完全一样的,式(1)并不能很好地体现出服务的不同属性特征对相似计算结果可能产生的不同影响,即在用户相似度计算时没有考虑与服务推荐质量密切相关的属性特征.这与服务的真实运行环境是不相符的,举例说明如下:假设sa和sb是被用户ui与uj共同调用过的服务,并且ui与uj对这两个服务的评价较为相似,同时假设sa是一个被很多用户调用过的服务,并且许多用户对其有着大致相似的反馈.在这种情况下,即使ui与uj对sa有着较为相似的反馈,却不能意味着他们之间的评价行为相似度一定很高,因此,在相似度计算时应该认为sa对两者相似度计算的贡献较小.相反,若sb是一个非主流的服务,它被调用的频率相对较低,若有两个用户对此服务评价较为相似,则他们真正成为相似用户的可能性更高,因此,在度量相似度时应该认为sb的贡献度较大.综上所述,若某个服务的使用频率很大且信誉度较高,用户对其评价大体上都是一致的,并不能有效地区分用户的推荐行为是否真正相似,使用此类服务进行评价行为的相似性推荐意义并不大.反之,若某个服务的使用频率及信誉度都很一般,使用其计算出的用户相似度才更符合实际情况,也更加有意义.鉴于以上分析,为体现推荐属性特征对推荐的影响,我们在计算相似度时必须增加对服务的推荐属性特征的考虑,提出融合服务的推荐属性特征的相似度计算方法,据上文所述,以加入服务的使用频率、服务的信誉度为示范,相似度计算式(1)应更新为Sim(i,j)=槡∑sk∈Si,j(Rj,k-珚Rj)(Ri,k-珚Ri)槡2×∑sk∈Si,j其中,参数μ与ω分别是推荐属性特征信誉度和使用频率的权重因子,取值范围均为[0,1].在服务评价行为相似度计算式(2)中,参数μ与ω可结合具体的应用场景进行调整使其度量方法更好地适应于应用环境的变化.与式(1)相比,式(2)给出的改进的相似度度量公式能更好地反映出用户的认知变化,区分不同属性特征对推荐的影响.3.2推荐行为的信任度计算根据可信联盟的构建思想,由改进的度量式(2)可选出评价行为相似的用户.利用用户评价行为的相似度可以实现相似邻居用户的简单选取与甄别,但其推荐结果的精确度不能得到有效保障,特别是当推荐系统中存在恶意用户企图通过不正当服务评价而冒充邻居用户时,服务推荐的结果将会产生较大的偏离.因此,本文将对用户的推荐行为进行可信监控,利用信任管理理论建立起客观存在的推荐用户与目标用户之间的信任关系,并在此基础上实现相似邻居用户的选取,构建目标用户的可信联盟.定义3.服务推荐行为的信任(TrustofServiceRecommendationBehavior).在服务推荐系统中,服务推荐行为的信任是指被推荐用户(目标用户)对推荐用户推荐行为的可靠性、真实性及有效性的一种主观认知程度.在信任机制中,根据信任获取的途径,信任往往分为直接信任与间接信任两大类.借用此分类,本文将服务推荐行为的信任分为推荐行为的直接信任和推荐行为的间接信任两大类.但与传统意义下的信任机制不同,由于服务推荐中用户间的信任关系主要取决于其对共同使用过的服务的认可或满意程Page5度,因此,服务推荐行为的直接信任与间接信任的内涵有其不同的定义.定义4.服务推荐行为的直接信任(DirectTrustofServiceRecommendationBehavior).在服务推荐系统中,服务推荐行为的直接信任是指推荐用户与被推荐用户(目标用户)两者间通过对共同使用的同一服务进行信息评价而产生的一种信任关系,即表现为被推荐用户对推荐用户的服务推荐行为的一种直接认可程度[20].其值的大小称为服务推荐行为的直接信任度,简记为RDT.一种有效获取RDT的方法是在推荐系统中,让推荐用户与目标用户均直接参与服务的信息交互,并根据其对服务的评价反馈信息进行彼此间的信任度量.在信任模型中,由于Beta信任模型[21]基于概率论理论,其信任度度量方法简单易行,更适用于基于大量服务反馈信息建立信任关系的推荐过程,本文选用该信任模型构建用户间的信任关系.将ui对uj的服务推荐行为的直接信任度记为RDT(i,j),借鉴Beta信任模型中信任度量方法,可以给出直接信任度度量公式.假设用户ui和uj都对服务sk提供过信息反馈,并将ui对服务sk的反馈值记为Ri,k,uj对服务sk的反馈值记为Rj,k,将Ri,k与Rj,k两个评价值相比较,如果两个评价值间误差绝对值小于某一个固定值,则认定用户uj对用户ui的推荐是正确的,反之则认定推荐是错误的.将uj为ui执行正确推荐的总次数记为pi,j,错误推荐的总次数记为ni,j.Beta模型使用Beta概率密度函数预测用户行为的可信性,此函数主要用于计算包含了肯定事件和否定事件(x,x-)的后验概率,其中参数x是指uj为ui提供正确服务推荐的事件,参数x-是指uj为ui提供错误服务推荐的事件,则ui对uj服务推荐行为的直接信任度RDT(i,j)可计算为RDT(i,j)=Γ(pi,j+ni,j+2)其中Γ为gamma函数,0x1.基于以上认识,如果推荐用户向被推荐用户推荐的服务是正确的,则认为被推荐用户偏好该服务,被推荐用户对推荐用户的信任度增加;反之,若推荐用户推荐的服务被认为是错误的,理应认为被推荐用户不偏好此服务,则降低推荐用户的直接信任度.构建可信联盟时考虑用户推荐行为的直接信任能有效防止用户的不正当行为,加强服务推荐系统抗攻击的能力.定义5.服务推荐行为的间接信任(IndirectTrustofServiceRecommendationBehavior).在服务推荐系统中,服务推荐行为的间接信任是指被推荐用户与推荐用户之间不存在共同使用的同一服务,其间的信任关系必须经过被推荐用户、推荐用户及其它相关用户间若干次直接信任关系的传递而产生的一种信任关系[20],即表现为被推荐用户对推荐用户的服务推荐行为的一种间接认可程度.其值的大小称为服务推荐行为的间接信任度,记为RIDT.图1的两个子图(a)和(b)分别展示了用户间直接信任与间接信任关系的建立过程.在图1(a)中,用户uj为推荐用户,ui为被推荐用户,他们曾经调用过的服务有若干个,形成了一个公共服务集,则基于ui和uj对这些服务的反馈,根据式(2)和式(3)可以建立两者之间服务推荐行为的直接信任关系,并度量出ui对uj的服务推荐行为的直接信任度RDT(i,j).在图1(b)中,用户ui与用户ua、ub分别建立了直接信任关系,ui、uj之间不存在直接信任关系,ui和uj之间的间接信任关系可以通过ua、ub、ui以及uj之间的直接信任关系传递而来,同时可以度量出ui对uj的服务推荐行为的间接信任度RIDT(i,j).根据用户间的信任关系可构造关系图,由图论中边与通路的定义可以看出,如果两个结点(用户)间有关联边存在,则说明这两结点间具有直接信任关系;如果两个结点(用户)间存在长度大于1的通路,则说明这两结点间存在间接信任关系,即间接信Page6任关系是通过若干个结点间的直接信任关系传递而来.在推荐系统中由于系统的异构性、开放性等特征,任意两个用户间未必存在直接信任关系,用户交互行为的稀疏性现象普遍存在,因此在考虑用户间的信任关系时引入推荐用户间的间接信任是十分必要的,它可以进一步确保所形成的可信联盟的完备性.设集合D是由所有与目标用户ui具有直接信任关系的信任用户构成的集合,ui与uj间的间接信任关系由该集合中的用户对uj的直接信任度结合其信任权重综合而成.uj对ui的服务推荐行为的间接信任度用RIDT(i,j)表示,其计算方法如式(4)所示:其中,RDT(j,k)表示集合D内的用户dk与用户uj之间的直接信任度,可以通过式(3)计算得到,wk表示用户dk向ui推荐用户uj的信任权重.构建联盟时引入推荐行为的间接信任可将目标用户的信任用户群与推荐用户的直接交互经验作为推荐信息传递给目标用户.因此,若推荐用户存在恶意推荐行为,则被推荐用户就会及时将其恶意行为通过推荐行为的间接信任关系表现及时传递出去,降低推荐行为的可信程度.定义6.服务推荐行为的信任度(TrustDegreeofServiceRecommendationBehavior).服务推荐行为的信任度是对被推荐用户和推荐用户之间存在的信任关系的一种综合度量,由服务推荐行为的直接信任度RDT以及服务推荐行为的间接信任度RIDT构成,简记为RT(i,j),其度量方法为RT(i,j)=αRDT(i,j)+βRIDT(i,j)(5)其中,RDT(i,j)为服务推荐行为的直接信任度,RIDT(i,j)为服务推荐行为的间接信任度,α、β为两种信任值对应的权重,取值范围均为[0,1],满足α+β=1.服务推荐行为的信任度越大,表示uj对ui的推荐行为越可信,从而其推荐结果往往越值得信赖.3.3可信联盟的构建结合上文计算所得的用户相似度Sim(i,j)及推荐信任度RT(i,j),可以确定出用户uj对ui的综合权重weight(i,j),进而实现可信联盟的构建.通过分析发现,当用户相似度值Sim(i,j)及推荐信任度值RT(i,j)越高时,该推荐用户的综合权重应该越大;当用户完全负相关或用户间信任度值为0时,推荐用户的综合权重值应定义为0,故本文给出计算用户uj对ui的综合权重weight(i,j)公式如下:weight(i,j)=2|Sim(i,j)|×RT(i,j)其中,Sim(i,j)是利用式(2)计算所得的用户相似度值,RT(i,j)是利用式(5)计算出的用户推荐行为的信任度.当|Sim(i,j)|=1,RT(i,j)=1时用户uj的综合权重最高为1;当Sim(i,j)=0或RT(i,j)=0时用户uj的综合权重最低为0;当Sim(i,j)∈(-1,1),RT(i,j)∈(0,1)时,用户uj的综合权重随着它们的增大而增长.将直接信任与间接信任融合形成推荐行为的信任度,并将其应用于权重计算,可以有效避免推荐用户评分稀疏而导致相似度计算不够精确的问题.同时,在考虑用户间行为相似度的基础上融合用户间信任关系,还可以有效规避某些恶意用户对服务推荐产生的不良影响,提高联盟中用户的可信性.得到用户的综合权重之后,进行联盟用户选择时,传统的选择方法主要有两类:一是传统的Top-k[22]算法,即固定用户数量k,只选取与用户相似度最近的k个用户,不考虑用户相似度之间的差值.虽然该类方法有多种改进算法,但它对于孤立点的计算效果不太理想,因为当目标用户附近不存在足够多的相似用户时,一些不太相似的用户也被迫选入,直接影响联盟的精确度;第二类常用的方法为基于门槛的选择方法,与Top-k算法不同,依照门槛方法选择用户时,并不预先固定用户数量,而是以目标用户为参照点,选定一个阈值M,凡是与目标用户评价行为的相似度的差的绝对值不超过阈值M的用户才可选入用户联盟中.因此,基于门槛的选择方法构建出的联盟用户个数是不确定的,但不会出现用户相似度相差较大的情况,由此构建出的联盟的精度也相对较高.在实际的服务推荐系统中,由于用户比较多,用户之间的联系也相对较紧密,选取基于门槛的方法会产生大量邻居用户,故本文按照Top-k方法根据综合权重值选取前k个用户形成可信联盟.根据上述研究,可信联盟的构建具体步骤描述如下:输入:目标用户ui,用户的服务评价信息,用户信任关系输出:目标用户ui的可信联盟TC1.对于目标用户ui,在目标用户的候选邻居中任选用户uj,利用式(2)计算用户ui与用户uj之间的相似度Sim(i,j);Page72.根据用户之间所存在的信任关系,计算uj对ui的服务推荐行为的信任度RT(i,j);3.对于ui的候选邻居uj,利用式(6)计算出综合权重weight(i,j);4.将多个weight(i,j)值按从大到小进行排序,选择前k个用户构建可信联盟TC={c1,c2,…,ck},其中c1与ui的综合权重最高,c2与ui的综合权重次之,依此递减.图2给出了根据给定目标用户ui其可信联盟的构建流程图.4基于可信联盟的服务推荐方法经过可信联盟的构建,一组考虑服务推荐属性和信任关系的用户被遴选出来.基于此可信联盟,实现用户对服务评分值的预测和服务的推荐行为.根据协同过滤理论,用户对服务评分的预测值Pi,s可按照如下式(7)计算得出:Pi,s=珚Ri+∑j∈TC其中,Pi,s表示目标用户ui对服务s的预测评价,Rj,s是用户uj对服务s的评价,珚Ri和珚Rj分别是用户ui和uj对TC中所有服务的平均评价值.由于本文中用户的综合权重weight(i,j)用于可信联盟的构建,当用于式(7)时,需要根据用户相似度Sim(i,j)的正负分别进行计算,如式(8)~(10)所示.i,s=∑j∈TC,sim(i,j)0σ+σ-i,s=∑j∈TC,sim(i,j)<0其中,σ+户对计算预测评分值的影响;σ-目标用户ui负相关的用户对计算预测评分值的影响.由于完全正相关和完全负相关对计算预测值的贡献是相同的,本文认为与目标用户完全负相关的用户对计算预测评分值的权重与完全正相关的用户对计算预测评分值的权重相同.根据以上工作,提出一种基于可信联盟的服务推荐方法(AServiceRecommendationMethodBasedonTrustworthyCommunity,SRMTC),通过将构建的可信联盟加入到推荐过程,为目标用户进行可信服务推荐.推荐方法的具体步骤描述如下:输入:目标用户ui的可信联盟TC输出:目标用户ui的服务推荐集1.任取可信联盟TC中的用户cj,计算用户cj与目标用户ui的相似度Sim(i,j);2.当Sim(i,j)非负时,对于每个服务s,根据式(8)计算目标用户ui对s的σ+目标用户ui对s的σ-i,s;预测评分值Pi,s;3.当Sim(i,j)<0时,对于每个服务s,根据式(9)计算4.对于每个服务s,根据式(10)计算目标用户ui对s的个服务作为用户ui的服务推荐集,服务推荐结束.5.将服务按预测评分值大小进行排序,其中最前的k由SRMTC方法中步1、2、3可知:此方法的时间复杂度与输入的可信联盟TC中用户的个数k有关,因此,方法的时间复杂度为O(k×n),其中n表示服务集中的服务个数.SRMTC方法的输入为上文构建的可信联盟,此联盟的构建过程理论上既考虑了服务的推荐属性对用户相似度计算的影响,又加入了用户间的信任关系,因此,推荐结果不但满足了考虑服务的推荐属性特征的需求,而且还排除了拥有较低信任度的用户推荐对建立用户联盟产生的不良影响,在很大程度上保证了服务推荐方法的精确度.5仿真实验与分析本节进行有效性验证仿真实验,并将SRMTC方法与现有的若干个有代表性的服务推荐方法进行比较,分析这些服务推荐方法性能上的差异.Page85.1实验准备文献[23]给出了一个真实的Web服务运行数据集.该数据集来自20多个国家、存储于Planet-Lab实验室的150台分布式计算机中.本文选取该数据集作为仿真数据源,对每个用户而言,其对任意100个服务进行10000次调用的记录将形成一个用户日志文件.若选定其中150个用户日志文件,因此会生成150万次调用记录.表1给出了该数据集下某日志文件中一组Web服务调用示例,其中:用户IP地址标识了不同的服务使用者,服务ID代表Web服务的唯一标识,HTTP代码、HTTP消息、响应时间等为Web服务的QoS属性值.用户IP服务35.7.28.239362200OK312460135.7.28.159366409Conflict923215635.7.28.239371200OK6091782935.7.28.469868410Gone91822470为方便算法的性能比较,本文选取响应时间作为服务QoS的评判标准,并约定在用户调用某一个Web服务的次数超过100次时,Web服务响应时间取其平均值,这样可以得到一个由150个用户形成的150×100的服务响应时间矩阵,形式化表示如式(11)所示,其中ti,j表示用户ui调用服务sj的平均响应时间:为进行仿真实验,我们将150个用户分成训练集和测试集两组,其中80%的用户放入训练集中,剩余20%的用户作为测试集中的用户.用户训练集根据本文提出的SRMTC方法为用户测试集提供服务推荐.平均绝对误差(MeanAbsoluteError,MAE)是推荐系统中广泛使用的推荐质量度量指标之一,它可以直观地反映出推荐质量的好坏.目前大多数文献都采用平均绝对误差MAE作为衡量推荐质量优劣的标准,以及评价服务推荐的准确性.MAE的定义[13]如式(12)所示:其中Qi,s是ui对s的真实评价值,而Pi,s表示预测值,N为推荐服务的个数.考虑到服务质量中各个属性的量纲和数量级不尽相同,因此,本文使用标准平均绝对误差(NormalizedMeanAbsoluteError,NMAE)来取代MAE将之作为推荐质量度量指标.NMAE的定义如式(13)所示,由其定义可知:服务推荐质量随着NMAE值的变小而提高.5.2实验结果与分析本文选取Shao等人[7]提出的服务质量预测模型、Jiang等人[11]提出的基于相似度的PHCF个性化协同过滤混合推荐方法及贾冬艳[13]提出的基于双重邻居选取策略的CF-DNC协同过滤推荐算法[18]作为代表,将本文提出的SRMTC方法与这3种方法进行仿真,比较它们的性能差异.(1)4种服务推荐方案的推荐质量比较实验将邻居用户个数从5按间隔为5的步长逐步增加到35,SRMTC方法、Shao的服务推荐方法(图中简记为SHAO’s)、PHCF混合推荐方法、及CF-DNC算法在性能上的差异如图3所示(为突显各服务推荐方法在性能上的差异,NMAE值选取了0.42~0.48这一片断).从图中我们可以看出当相似邻居用户个数不多时,SRMTC方法、CF-DNC方法与仅使用相似度进行服务推荐的PHCF方法、SHAO的方法在推荐精确度方面的差别并不十分明显;但是随着用户数量的增加,引入推荐行为的信任度之后,考虑了用户信任度的CF-DNC和本文SRMTC方法产生的推荐结果的精确度有显著提高.同时,与考虑了信任度而Page9未考虑服务的推荐属性特征的CF-DNC方法相比,本文提出SRMTC方法的推荐精确度相对更高.由此可见,在考虑用户间的行为相似度的基础上增加服务推荐个性属性特征可以获取更为可靠的推荐用户,从而使得生成的服务推荐算法精确度更好,推荐的服务能更好地满足用户需求,整体性能更好.(2)4种推荐方案抵御恶意用户能力的比较传统的基于协同过滤技术的服务推荐系统中,产生的相似用户有可能在利益驱动下提供恶意推荐,演变为恶意用户,这些恶意用户的存在将极大地影响服务推荐结果的可信度和精确度.为了验证SRMTC的抗恶意攻击能力,本文通过逐渐增加恶意用户所占的比例,验证以上4种服务推荐方法抵御恶意用户的能力,实验结果如图4所示(为了使性能对比显示更为明显,图中纵坐标NMAE值选取0.45~0.95这一片断).图4所反映的是恶意用户比例的不同对4种服务推荐方法的推荐精确度所造成的影响.对于PHCF服务推荐方法及SHAO的方法,当系统中恶意用户比例逐步增大时,由于这两类方法没有设立任何抵御机制,服务推荐精确度下降很快,而CF-DNC方法考虑了信任问题,具备一定的抗攻击能力,服务推荐结果相比较好.但是,由于CF-DNC方法在进行推荐时未考虑服务的推荐个性属性特征,与SRMTC方法相比,其判断用户相似的准确度相对不高,从而使得服务推荐的精确性不够好.而SRMTC方法通过可信联盟的构建,并考虑服务的推荐个性属性特征,即使存在恶意用户攻击,在其所占比例不断增大的情况下,推荐精确度也并没有并没有太大地变化,明显优于前三者,由此可见SRMTC方法能较好地抵御恶意用户的攻击.6总结本文提出了一种基于可信联盟的服务推荐方法,综合考虑了用户相似度及推荐行为的信任度两方面,加入服务的推荐个性属性特征对传统相似度计算公式进行改进,确保了用户在服务使用方面的相似程度;并引入用户信任关系构建可信联盟,确保了用户的可信性,最终为目标用户提供更为准确的服务推荐.相比已有的服务推荐方法,SRMTC有效提高了服务推荐结果的精确度.在今后的工作中,我们将对用户评分的时间效应以及信任度量模型等方面进行更深入研究,进一步增强联盟的可信性,提高推荐系统抗恶意攻击的能力.致谢论文的修改和完善得到了编辑部老师的大力支持与指导,在此表示衷心的感谢!
