Page1基于网络编码的无线传感器网络瓶颈区域生存时间优化策略田贤忠阳胜(浙江工业大学计算机科学与技术学院杭州310023)摘要在无线传感器网络中,汇聚节点周围的瓶颈区域由于负载过重,容易出现能量空洞问题,导致整个无线传感器网络的生存时间减少.该文提出了一种基于网络编码的优化策略(OptimizationStrategybasedonNetworkCoding,OSNC),让瓶颈区域的部分节点采用网络编码,然后再转发给汇聚节点.这样,通过减少数据包的转发次数,从而降低了能量消耗.通过计算节点缓冲区满的概率,分析了此概率对网络生存时间的影响;另外,文中还分析了此策略下瓶颈区域的能耗情况,并计算出了瓶颈区域生存时间的上限.理论分析和数值模拟结果表明,OSNC算法比传统的无网络编码策略节能20%左右,提高网络生存时间近20%;同时,OSNC算法具有很强的适用性,更贴近实际的无线传感器网络.关键词无线传感器网络;网络编码;生存时间;优化;瓶颈区域;物联网1引言无线传感器网络[1](WirelessSensorNetworks,WSNs)是当今的研究热点之一.WSNs由一个或几个汇聚节点和大量传感器节点组成,它们通过无线通信的方式协同工作.通过WSNs,传感器节点感知的信息能源源不断地传输到汇聚节点,用于后续的处理和应用.WSNs技术可广泛应用于军事、物流、环境监测、森林防火、精细农业等方面.要使WSNs正常工作,每个传感器节点和汇聚节点必须具备足够的能量.然而传感器节点大都是由电池供电的,如果电池电量耗尽,则网络将无法正常工作.在典型的WSNs中,由于传感器节点的信息是以汇聚的方式传输给汇聚节点的,这样,汇聚节点周围的传感器节点就需要承担更多的数据传输任务,从而加快了这个区域的传感器节点能量耗尽的速度,这就是所谓的WSNs的“能量黑洞”问题[2-3],我们把这个区域称为“瓶颈区域”.由于瓶颈区域节点正常工作与否将严重影响网络的可靠性,所以可以这么说,瓶颈区域节点的生存时间往往决定了整个WSNs的生存时间,因此这一区域值得我们格外关注.传统的延长网络生存时间的方法有两种:(1)通过降低发射功率降低节点传输数据包的能耗.节点的发射功率与发射的距离有关,发射功率越小,发射距离越近.虽然降低发射功率会降低节点单次传输数据包的能耗,但当发射功率小到一定程度,数据传输的丢包率会增大,从而导致数据包的重传,这样又增加了节点传输数据包的能耗;(2)通过均衡WSNs中各节点的能量消耗延长网络生存时间.由于WSNs具有“汇聚”的特性,数据的传输必须经过瓶颈区域才能到达汇聚节点,这样,瓶颈区域的节点需要承担大量额外的传输任务,所以很难通过平衡节点能耗的方法减少瓶颈区域节点的能耗.网络编码是一种近几年出现的比较新的技术,它能将来自不同数据流的数据包编码成一个数据包后发送出去,减少了数据包的传输次数,从而有效降低能耗.网络编码的这一特性很适合瓶颈区域节点的特点.本文研究了在瓶颈区域中如何将多条流的数据包进行网络编码,从而延长网络生存时间,主要贡献如下:(1)考虑传感器节点缓冲区大小限制给瓶颈区域生存时间带来的影响,提出了一种基于网络编码的优化传输策略(OptimizationStrategybasedonNetworkCoding,OSNC);(2)在不采用节点休眠的传感网中,基于多路径传输策略,分析了瓶颈区节点缓冲区满的概率,包括转发节点和编码节点缓冲区满的概率;(3)推导出了采用基于网络编码传输策略的瓶颈区域总能耗以及传感网生存时间的上限计算公式.本文第2节介绍本文的相关工作;第3节描述本文采用的网络模型和能量模型;第4节描述瓶颈区域的数据传输策略;第5节分析瓶颈区域的能量消耗和网络生存时间;第6节数值模拟;第7节总结全文.2相关工作延长网络生存时间的方法主要有通过降低发射功率的无线传输技术和平衡网络各节点的能量消耗等方法.在无线传输技术方面,EdCallway了WSNs的通信特点,以及现有无线通信技术不适用于WSNs的原因,并设计了一个码位调制的低能耗无线通信传输方案,该方案复杂度非常小,并为IEEE802.15.4的物理层设计提供了重要的参考依据;ElGamal和Prabhakar等人[5-6]以及Yu等人[7]在自适应调制技术的基础上,通过改进调制方法节省无线传输中的能量消耗.他们首先研究了在点到点通信模式中如何通过自适应调制技术在确保传输时延的同时减少节点能耗,然后又把它扩展到一点对多点和“数据聚合树”的通信模式中.在平衡网络节点的能量消耗方面,最简单的是洪泛(Flooding)路由算法[8],这是一种平面路由算法,首先源传感器节点通过广播的方式将数据包传送给邻居节点,邻居节点接收到数据包之后,再以同样的方式传送给下一跳邻居节点,依次类推,最后,汇聚节点接收到该数据包时传送完成;LEACH[9]是层次节能路由算法,它首先将WSNs分成若干簇,每个簇中的节点信息通过簇头发送给汇聚节点,由于簇头具有聚合功能,减少了发送给汇聚节点的数据量,另外,簇头是根据节点的剩余能量轮换竞选产生的,各节点的能耗比较均衡,LEACH算法通过这两方面延长了网络的生存时间.另外,许多学者还定量分析了WSNs生存时间,给出了网络生存时间的上限.文献[10]导出了WSNs的网络生存时间的上限,而文献[11]估计了基于簇的WSNs的网络生存时间的上限.在网络编码方面,Ahlswede等人[12]于2000年首次提出了网络编码的概念,其基本思想是网络节Page3点把多个来自不同链路的数据包编码(例如通过异或运算或线性编码运算等)成一个数据包,然后再将之发送出去,其网络单次传输的信息量能成倍地提高;同时还证明如果中间节点除了具备路由功能外还具备编码功能,那么网络吞吐量就能达到组播的最大流量,换句话说,能达到“最大流最小割”(max-flowmin-cut)定理的最大流理论的极限.在此之后,许多学者在此基础上做了许多工作.例如,Li等人[13]提出线性网络编码的概念,网络节点的每条输入信道被分配一个向量,其输出是每条输入信道中的数据流与被分配的向量的线性组合,他们给出了线性多播网络编码的构建方法,并证明线性网络编码能使组播达到最大流的传输极限.而Ho等人[14]提出了随机编码方法,此方法从有限域中随机均匀选取编码系数,同时证明当系数从足够大的有限域选取时,其速率可以基本接近最大组播速率.Katti等人[15]提出的COPE协议主要针对无线网络的编码问题进行了研究,它是一种基于机会的网络编码方法,把网络编码设计成网络路由层与MAC层之间的单独一层,能与现有的网络协议无缝链接,从而在协议层面加以实现.Le等人[16]提出了多跳网络中节点的编码条件,证明相互交汇的两条流,如果每条流的下游节点都能侦听到对方上游节点发送的数据包,则下游节点就能解码出所需的数据包.目前,直接研究瓶颈区域网络生存时间的文献不多.文献[3]研究了瓶颈区的生存时间问题,给出了WSNs瓶颈区域的总体能耗和网络生存时间的上限.文献[17]提出了基于簇的方法来解决无线传感器网络瓶颈区域的节能问题,并通过网络编码实现了数据融合,从而降低了数据包传输的能量消耗,延长了网络生存时间.与本文直接相关的是文献[2],它提出了在瓶颈区域内结合占空比和网络编码增强网络生存时间的优化策略.使用占空比策略,可以让空闲状态的节点保持休眠,因为节点处于休眠状态时的能量开销比激活状态时低;使用网络编码方法,可以将多个数据包组合在一起作为单个数据包发送,减少了数据包的传输次数,同时网络编码所消耗的能量非常小,基本上可忽略不计.本文与文献[2]最大的区别在于,我们考虑了节点缓冲区的大小.因为传感器节点缓冲区的大小是有限的,当缓冲区接收的数据包满了以后,就无法再接收新的数据包,必须等缓冲区的数据包传输出去后才能继续接收新的数据包,否则发过来的数据包将被丢弃.这样不仅造成了节点能量的浪费,而且传输的可靠性也得不到保障.从前面的分析可以看出,上述工作中没有考虑传感器节点缓冲区大小限制给瓶颈区域生存时间带来的影响.本文将从WSNs瓶颈区域内网络生存时间的角度出发,结合网络编码机制,综合考虑节点缓冲区满的概率,提出一种延长网络生存时间的策略,并分析了其性能.3系统模型3.1网络模型本文考虑的网络模型与文献[2]中的类似.一个无线传感器网络包含的N个传感器节点,随机分布在区域A内.区域A中有一个半径为D的区域B1,其中半径D等于传感器节点最大的传输距离,这样保证了此区域是数据汇聚的必经之地.区域B1外还有一个半径等于2D的环形区域B2,这个区域中节点的数据经两跳传到汇聚节点.与文献[2]不同的是,我们定义的瓶颈区域为B=B1∪B2,也就是离汇聚节点半径为2D的区域.另外,与文献[2]不同的一点是,除了汇聚节点的缓冲区大小不作限制外,其他每个节点的缓冲区大小都是m.其网络模型如图1所示.在整个WSNs中,每个节点都根据它们担任的角色来命名.在瓶颈区域B1中,节点被均匀地分成两组,直接转发传感器节点组(R)和网络编码传感器节点组(C).直接转发传感器节点把接收的数据包直接转发;网络编码传感器节点对接收的数据包先进行编码操作,然后再转发给汇聚节点.瓶颈区域B2中的节点都是转发节点(R).在瓶颈区域B之外,Page4节点被标记为I和L,其中I表示中间节点,对接收的数据包往汇聚节点的方向直接转发,而L表示叶子节点,将定期地感知数据,然后将数据包向汇聚节点的方向转发.瓶颈区域B外的节点与汇聚节点的通信采用多路径的路由方式.瓶颈区域B2中的节点通过两跳才能与汇聚节点通信,而瓶颈区域B1内的转发节点和编码节点与汇聚节点的通信采用单跳方式.3.2能量消耗模型我们不采用占空比方式,也不考虑计算能耗,因此这样网络节点有三部分能耗:感知数据产生的能耗、发送数据包产生的能耗和接收数据包产生的能耗.本文采用文献[2,5]的能耗模型.先考虑发送和接收数据包消耗的能耗.(1)对源节点来说,由于它不需要接收数据包,所以只需考虑发送数据包的能耗.源节点向距离d外发送数据,每秒钟的能量消耗表示为式中:Rd表示节点转发数据的速率;α11表示发送1bit数据消耗的能量;α2表示传输1bit数据在放大电路中消耗的能量;k表示路径衰减指数,取决于传输介质,通常在2和4之间.(2)对转发节点来说,则需要同时考虑接收和发送数据包的能耗.转发节点每秒钟接收并转发数据所消耗的能量为Etxr=Rd(α11+α2dk+α12)=Rd(α1+α2dk)(2)式中:α11和α2表示的含义与式(1)中相同;α12表示接收1bit数据消耗的能量;α1表示接收并发送1bit数据消耗的能量.再考虑加上感知数据包的能耗.对于一个源节点(叶子节点L)来说,如果它不作为中继节点转发其他数据包,那么它在时间t内消耗的总能耗为其中:rs是每个传感器节点的平均感知速率;es是节点每感知1bit数据所消耗的能量,这两个值每个节点都相同.而对转发节点来说(中继节点I),t时间内消耗的总能耗为其中的rs和es含义与式(3)相同.3.3网络编码模型本文采用的是随机线性网络编码模型.如图2所示,节点u收到来自n条不同流的n个数据包,P1,P2,…,Pn,则编码包可表示成其中编码向量犮i(i=1,2,…,n)从有限域GF(q)随机选取.为确保接收节点能将编码包解码,编码向量必须具有线性无关性.采用随机线性编码挑选的编码向量需具备非常高概率的线性无关性.例如,假设编码向量随机取自大小为28的域中,根据文献[18]可知,用随机线性编码获得的编码包线性相关的概率为2-8,即线性无关的概率为1-2-8=0.996,具有很高概率的线性无关性.异或(XOR)是一种特殊的线性运算,为了简化,本文采用XOR运算,即有其中表示XOR运算.4传输策略在单路径的路由策略中,数据包的丢失、节点的失效和无线链路的错误都会严重减弱数据传输的可靠性,而多路径的方法可以有效地解决这个问题[19-21].瓶颈区域由于数据流比较密集,节点的缓冲区很容易被填满导致溢出,从而造成了传输过程中的丢包,因此,为了提高数据包的接收成功率,保证传输的可靠性,我们采用多路径的传输方式.具体的传输策略如下:(1)瓶颈区域B外的节点以单播的形式发送数据包给瓶颈区域B2内的节点.(2)瓶颈区域B2内的节点再以多播的形式发送数据包给瓶颈区域B1内的节点.(3)瓶颈区域B1内节点首先判断自己的缓冲区是否已满,如果已满则不接收数据包,否则接收.如图1所示,我们把瓶颈区域B1内的节点分成两类:转发节点和编码节点.转发节点收到数据包后直接转发给汇聚节点;而编码节点先把缓冲区中的数据包编码(这里采用异或XOR运算)成一个数据包,然后再发送给汇聚节点.(4)汇聚节点解码出所需的数据包.这里有两个关键问题要解决.第一,在步2中,为确保瓶颈区域B2内的节点广播的数据包都能被瓶颈区域B1内的节点接收到,每个数据包平均要发Page5送多少次?第二,步3中,瓶颈区域B1内节点接收到数据包后具体是怎么处理的?4.1区域犅2中每个数据包的发送次数节点缓冲区大小是有限的,当节点接收数据包的数量超过节点缓冲区的容量时,就会出现丢包现象(为简化起见,这里我们仅考虑这种因缓冲区满而丢包的情况,不考虑其他情况的丢包).为了确保区域B1中的节点都能收到数据包,B2中的节点必须重传数据包.这里假设区域A中传感器节点是按概率均匀分布的,所以瓶颈区域B2中节点u在瓶颈区域B1内有[1,n]个邻居节点.平均来说,瓶颈区域B1中共有(n+1)/2个节点.如图3所示,瓶颈区域B2中的节点u广播一个数据包给(n+1)/2个区域B1中节点v(v=1,2,…,a),其中,a=(n+1)/2,puv表示节点u到节点v的丢包率.另设随机变量Yv表示节点v正确接收一个数据包节点u至少需发送的次数,随机变量Zu表示每个节点v都正确收到一个编码包节点u至少需要发送的次数,则Zu=max{Y1,Y2,…,Ya}.假设随机变量Y1,Y2,…,Ya互相独立,则P{Zuk}=P{Y1k,Y2k,…,Yak}所以,P{Zu=k}=∏根据文献[22],我们可以计算出每个节点v都正确收到一个数据包时,节点u平均至少需发送的次数为Nu=∑从式(7)我们可以看出,决定节点发送次数Nu的因素是丢包率puv,而puv与节点缓冲区满的概率直接相关.下面我们计算瓶颈区域B1中节点缓冲区满的概率.假设对节点v来说,数据包到达间隔时间和节点发送数据包时间均服从参数为λ和μ的负指数分布,另设ρ=λ/μ.(1)对转发类型的节点来说,这相当于是一个M/M/1/m的排队系统,其中m是节点缓冲区的大小.设pi(i=0,…,m)表示缓冲区中有i个数据包的概率,根据K氏代数方程[23]有对0状态,有λp0=μp1,故p1=(λ/μ)p0=ρp0;对1状态,有λp1=μp2,故p2=(λ/μ)p1=ρ…对m-1状态,有λpm-1=μpm,故pm=(λ/μ)pm-1=ρ由正则性可求出而缓冲区满的概率pr等于缓冲区中有m个数据包的概率pm:(2)对编码节点来说,我们的策略是如果节点缓冲区中只有一个数据包,直接转发;如果有多个数据包,则将多个数据包编码后发送.这里为了简化起见,我们把k个包编码后发送的过程看成服务速率为kμ的服务.这样,排队系统的状态流图变成如图4所示.根据K氏方程有对0状态,有λp0=μp1,故p1=(λ/μ)p0=ρp0;对1状态,有λp1=2μp2,故p2=(λ/(2μ))p1=(1/2)ρ…对m-1状态,有λpm-1=mμpm,故pm=(λ/(mμ))pm-1=(1/m!)ρ由正则性1=∑则可得而缓冲区满的概率pc等于缓冲区中有m个数据包Page6的概率pm,可求得pc=pm=(1/m!)ρ4.2瓶颈区域犅1中节点处理过程瓶颈区域B1中节点的处理过程与文献[2]类似.在瓶颈区域B1中,我们把最靠近汇聚节点且消耗能量非常快的节点设为编码节点,剩余节点设为转发节点(在这里,我们把编码节点和转发节点按50%的比例平均分配,且呈对称分布).转发节点将瓶颈区域B2中节点传过来的数据包直接转发给汇聚节点,而编码节点则把缓冲区中的数据包编码后再发送给汇聚节点.由于编码节点能把多个数据包编码成一个数据包发送,减少了数据包的发送次数,从而减少了能耗.我们把能量消耗较快的节点设为编码节点,其他节点设为转发节点,这样有助于平衡节点之间的能量消耗,从而延长网络的生存时间.瓶颈区B1网络编码的原理如图5所示.瓶颈区B2中的节点R1和R2广播数据包a和b,B1中转发节点R3和R4转发数据包给汇聚节点Sink,而编码节点C收到数据包a和b后作异或运算生成编码包ab,然后发送编码包给Sink节点.这样Sink节点就能得到两份关于a和b的冗余数据包,即使有一条路径失效,Sink节点也能解码出所需的数据包.在瓶颈区域B1内,每个节点维持一个队列(节点接收其他节点发送的数据包和节点本身感知的数据包都放在同一个队列Queue()中),一个已转发数据集合(ForPacketSet())和一个编码节点集(EnNodeSet()).当一个节点v收到一个数据包或者感知到一个数据包后,进行如下的处理过程:1.首先判断节点v的缓冲区是否已满,如果已满,则不再接收或者感知新的数据包,退出;否则进入步2;2.节点v接收或感知一个数据包Pi,放入队列Queue().如果数据包Pi已被处理过了,即Pi∈ForPacketSet(),则丢弃Pi;否则进入步3;3.判断节点v是否是编码节点.如果v∈EnNodeSet(),进入步4;否则进入步7;4.判断Pi是否是原始数据包,如果不是原始数据包,而是编码包,则丢弃;否则进入下一步;5.如果Queue()有两个或两个以上的数据包,则进入步6;否则进入步7;6.按照编码规则,在Queue()依次取出相应个数的数据包编码成编码包CN,发送编码包CN给汇聚节点,进入步9;7.发送原始数据包给汇聚节点;8.把包Pi插入队列ForPacketSet();9.结束.当汇聚节点接收到转播数据包和编码数据包之后,把它们统一放在一个数据包池中.接下来就是对编码数据包进行解码操作,由于其中网络编码使用的是XOR编码,所以直接采用XOR解码即可.此外,解码还可以恢复传输丢失的数据包和传输错误的数据包,大大提高了节点的数据包接收成功率.5能耗分析下面我们先分析瓶颈区的能量消耗,进而分析网络的生存时间.瓶颈区域内节点的能耗由三部分组成[2-3]:转发瓶颈区域外节点生成的数据包所消耗的能量E1,瓶颈区内节点感知数据包所消耗的能量E2,以及转发瓶颈区域内节点感知的数据包所消耗的能量E3,下面我们分别计算这三部分能量.首先计算E1.根据3.1节中假设的系统模型可知,瓶颈区域外的节点生成的数据包在瓶颈区域须经过两跳才能到达汇聚节点,我们称B1中节点消耗的能量为E11,B2中节点消耗的能量为E12,我们分别计算这两部分能耗.因为瓶颈区域内有NB/A个节点,瓶颈区域外有N(A-B)/A个节点,所以t时间内产生的总数据量为Nrst(其中,瓶颈区域B外产生的数据量为Nrst(A-B)/A,瓶颈区域B1产生的数据量为NrstB1/A,瓶颈区域B2产生的数据量为NrstB2/A).同时,因为编码操作的开销相对于单跳的传输开销而言可忽略不计,所以假设编码节点与转播节点的能量消耗模型相同.另外假设来自瓶颈区域B1之外的总传输量的1/h由编码节点转发给汇聚节点,剩下的(1-1/h)由转播节点转发给汇聚节点.根据文献[3,10]可知,瓶颈区域内的转发节点(包括B1和B2中的转发节点)转发1bit数据的能量Page7消耗为式中:D是一跳最大传输距离;α1和k与式(2)中含义相同;dm是指每跳的最优距离,有对瓶颈区域B1中的编码节点来说,由于多个数据包编码成1个数据包后转发,假设编码节点中每次被编码的数据包个数平均为l个,则编码节点转发1bit数据的能量消耗是转发节点的1/l,即由式(10)和(11),l个数据包编码成一个数据包,节约的能量可表示为对E11来说,瓶颈区域B2传来的数据流由瓶颈区域B1内的节点转发所消耗的能量有两部分:一部分是由转发节点产生;另一部分由编码节点产生.由于B2中节点是采用广播方式传递数据包的,所以瓶颈区域B1内节点接收的冗余数据包的个数平均为(1+n)/2.这样NE11∑对E12来说,因为区域B2中都是转发节点,且每个节点每发一个数据包要发送Nu次,故有其中Nu由式(7)和(8)确定.由式(10)、(11)、(13)和式(14)得E1=E11+E12A-BNE1∑u=1∑N1+n其次计算E2.这部分能耗包括两部分:B1中节点感知信息所消耗的能量和B2中节点感知信息所消耗的能量.我们有最后计算E3.这部分能耗也包括两部分:一部分是转发B1中节点感知的信息所消耗的能量E31;另一部分是转发B2中节点感知的信息所消耗的能量E32.对瓶颈区域B1内产生的数据包进行转发所消耗的能量E31来说,也包括编码节点和转发节点转发信息所消耗的能量两部分,其中编码节点一次能发送l个数据包给汇聚节点,而转发节点一次只能发送一个数据包.因此,这部分消耗的能量其中,f(x)表示离汇聚节点x远的节点转发1bit数据所消耗的能量,根据文献[3]有对E32来说,其计算方法与计算E1相同.因为B2中节点感知的信息在瓶颈区域也须经过两跳才能到达汇聚节点,所以其能量消耗也包括B2发给B1中节点所消耗的能量以及B1中节点转发给汇聚节点所消耗的能量,这与转发瓶颈区域外数据包所消耗的能量相同.它们的区别在于转发数据量的不同,瓶颈区域外产生的数据包是Nrst(A-B)/A,瓶颈区域B2产生的数据量为NrstB2/A.这样有由式(17)、(18)可得E3=E31+E32=1+n1+l(h-1)1+n设Eb表示单个传感器节点的电池能量,整个无线传感器网络节点均匀分布在区域A中,因此,瓶颈区域内所有节点的能量总和为EbNB/A.节点消耗的能量总和不可能超过这个能量总和,得Page8即1+n2NB11+nNrstα1也即1+n2NB1由此可以推导出无线传感器网络使用网络编码的生存时间上限为其中Qφ的表达式为1+nQφ=rsα1B16数值模拟我们对OSNC算法进行数值模拟实验.网络只有一个汇聚节点且位于目标区域的中心,其他节点的位置随机产生,每个节点的初始能量和缓冲区大小都相同,节点的能量不能进行补充.我们主要从生存时间和能耗这两个方面考察该方案的性能,分别与无网络编码方案(OptimizationStrategywithNoNetworkCodingstrategy,OSNNC),文献[2]方案(Reference[2],RF[2])作对比实验.其基本参数设置如表1所示.(1)OSNC与OSNNC对比实验先来考察无线传感器网络瓶颈区的能耗和网络生存时间与瓶颈区域B1内的邻居节点个数的关系.实验结果如图6和图7所示,图中的横轴表示最大邻居节点个数,我们取2、4、6、8、10、12、14、16、18、20共10个值,纵轴分别表示瓶颈区的能耗和网络生存时间.从图中可以看出,相对于没有使用网络编由编码节点转播的传输量占总传输量百分比1/h图6瓶颈区能量消耗随着邻居节点个数的变化图7网络生存时间随着邻居节点个数的变化码的情况,OSNC方案具有较好的节能效果.这个结果与我们的直观印象相符的,因为瓶颈区域内有部分编码节点,它们能将多个数据包合并转发,这样相对于转播节点,减少了数据包发送次数,从而减少了节点的能耗.从理论上来看,由于网络编码,式(22)中的l值变大,Qφ值变小,再根据式(21)可知网络生存时间t变大,与理论相符.此外,由图可知,随着邻居节点个数的增加,其能量消耗逐渐增加,网络生存时间逐渐减少,这是因为节点的邻居节点越多,传输的数据包的冗余量也越多,能量消耗也就越大,网络生存时间就越小.Page9再考察无线传感器网络瓶颈区的能耗和网络生存时间与λ/μ之间的关系,其中λ和μ分别表示数据包到达的间隔时间和节点发送数据包的时间.因为λ/μ值的大小影响了缓冲区是否满的概率,所以我们考察了缓冲区满的概率对网络能耗和生存时间的影响.实验结果如图8和图9所示,图中横坐标表示λ/μ值的大小,纵坐标表示瓶颈区的能耗与网络生存时间.从图中可以看出,随着λ/μ比值的增大,其能量消耗增大,网络生存时间减少.这是因为,由式(8)和(9)可得,λ/μ的取值决定了转播节点队列满的概率和编码节点队列满的概率,不难看出,λ/μ的值越大,表明数据包到达的速度与数据包的转发速度之比越来越大,所以其队列满的概率也越大.节点的缓冲队列满了以后,数据包必须重发,增加了数据包的发送次数,从而消耗更多的能量,减少了网络生存时间.另外,从图中也可以看出,相对于没有使用网络编码的情况,OSNC方案使用网络编码仍然减少了能量消耗,延长了网络的生存时间,其原因还是因为瓶颈区域中的部分节点(编码节点)能把多个数据包编码在一起后转发,从而提高了单次数据包发送的效率,减少了数据包的发送次数,从而减少了能耗,延长了网络生存时间.再次考察无线传感器网络瓶颈区的能耗和网络生存时间与缓冲区大小之间的关系.因为节点缓冲区的大小直接影响了缓冲区是否满的概率,所以在本质上也是考察了缓冲区满的概率对网络能耗和生存时间的影响.实验结果如图10和图11所示,图中横坐标表示缓冲区的大小,纵坐标分别表示瓶颈区的能耗和网络生存时间.从图中可以看出,随着节点缓冲区大小的增大,其能量消耗减少,网络生存时间增大.这是因为,节点缓冲区的大小决定了转播节点缓冲区满的概率和编码节点缓冲区满的概率.缓冲区的大小越大,其缓冲区满的概率也越小,丢包率越低,数据包重传次数就越少,从而降低了能量消耗.此外,相对于没有使用网络编码的情况,OSNC方案使用网络编码仍然减少了能量消耗,延长了网络的生存时间,其原因还是因为瓶颈区域中的部分节点(编码节点)能把多个数据包编码在一起后转发,从而提高了单次数据包发送的效率,减少了数据包的发送次数,从而减少了能耗,延长了网络生存时间.图10瓶颈区能量消耗随着缓冲区大小的变化图11网络生存时间随着缓冲区大小的变化(2)OSNC与RF[2]对比实验由于OSNC没有采用占空比的方式,所以我们只与文献[2]中无占空比的方案作对比实验.实验采用的参数与表1相同.Page10图12与图13是两种方案的瓶颈区能耗和网络生存时间随瓶颈区域B1内的邻居节点个数n的变化关系图.图12中横坐标是邻居节点的个数n,我们取2~20,纵坐标是无线传感器网络瓶颈区的能耗.另外这里我们的缓冲区的大小取8,λ/μ的值取0.5.从实验结果可以看出,OSNC方案网络瓶颈区能耗比RF[2]方案略高(从下面实验可知,如果缓冲区的大小取值更大,λ/μ的值取值更小,两者能耗更接近).这是因为OSNC方案考虑了因节点缓冲区满产生的丢包情况,因为丢包,所以数据包要重传,增加了额外的能耗.但是节点丢包是客观存在的,所以OSNC方案比RF[2]方案更符合实际情况.从图13也可以看到,OSNC方案比RF[2]方案网络生存时间略短.由于OSNC方案能耗略高,故网络生存时间也略短.另外,区域B2中节点在B1中的邻居节点越多,传播的冗余数据包越多,能耗也就越多,所以网络瓶颈区能耗随邻居节点个数的增加而增大,而网络生存时间则随之减小.图12瓶颈区能量消耗随着邻居节点个数的变化图13网络生存时间随着邻居节点个数的变化λ/μ取值决定了节点缓冲区队列满的概率.我们取不同的λ/μ值观察瓶颈区能耗和网络的生存时间.这里我们取节点缓冲区的大小为8,区域B2中每个节点在B1中的平均邻居节点个数为8.图14是λ/μ值与网络瓶颈区能耗之间的关系图,图中横坐标是λ/μ取值,纵坐标是网络瓶颈区能耗.由于RF[2]方案不考虑缓冲区大小,所以它是一个定值.为了与本方案比较,我们把这个能耗定值用虚线表示在图上.从图14可以看出OSNC方案中的能耗随λ/μ值的增大而增大.这是因为,λ/μ值越大,节点缓冲区满的概率越高,数据包重传的概率也越大.当λ/μ值等于0.1时,OSNC方案的能耗接近RF[2]方案.从理论上来说,当λ/μ值足够接近等于0时,缓冲区满的概率为0,换句话说,缓冲区永远不会满,节点也就不会丢包,两者的能耗就相等.图15是网络生存时间随λ/μ值的变化图,图中虚线是RF[2]方案的定值.从图中可以看出,OSNC方案的网络生存时间随λ/μ值的增大而减小.原因是λ/μ值越大,瓶颈区的能耗就越大,网络生存时间越小.同样,当λ/μ值足够小时,OSNC方案的网络生存时间十分接近RF[2]方案.下面我们直接观察缓冲区大小对瓶颈区能耗与网络生存时间的影响.实验时我们把λ/μ值固定,取λ/μ=0.5,邻居节点个数取8.同样,因为RF[2]方案不考虑缓冲区大小的,换句话说,它不考虑丢包重传情况,所以网络瓶颈区能耗与网络生存时间都是Page11定值,我们在图中用虚线来表示.图16和图17是网络瓶颈区能耗和网络生存时间与缓冲区大小的关系图.从图中可以看出,OSNC的方案比RF[2]方案性能略低,原因是我们考虑了缓冲区满后数据包丢包重传的情况.但当缓冲区大小等于10时,OSNC的方案RF[2]方案性能几乎一样.从理论上来说,当缓冲区大小无穷大时,缓冲区永远不会满,OSNC的方案也就等同于RF[2]方案.图16瓶颈区能量消耗随着缓冲区大小的变化图17网络生存时间随着缓冲区大小的变化从上面的实验结果可以看出,OSNC的方案比RF[2]方案性能略低,主要原因是我们考虑了节点缓冲区对网络性能的影响.缓冲区满会造成数据传输过程中的丢包,从而需要将丢失的数据包重传,进而浪费更多的能量.而当λ/μ值足够小,或节点缓冲区足够大时,这两种方案是等价的,所以RF[2]方案可以看成是OSNC方案的一种特例.换句话说,OSNC方案是RF[2]方案的延伸,具有更好的适用性.7总结本文研究了无线传感器网络瓶颈区域的能耗问题以及网络的生存时间问题,给出了节点缓冲区是否满的概率,并在此基础上结合网络编码技术,提出了延长网络生存时间的优化策略OSNC,文中重点分析了瓶颈区域的能耗和网络生存时间的上界.理论分析和数值模拟显示,OSNC策略比OSNNC更节能,网络生存时间更长,比RF[2]适用范围更广.
