Page1一种有效消除环境噪声的被动式目标定位方法常俪琼房鼎益陈晓江王举汤战勇聂卫科刘晨(西北大学信息科学与技术学院西安710127)摘要无线传感器网络中的被动式目标定位是一种利用监测目标对无线通信链路的接收信号产生的影响(如信号强度变化)对目标位置进行估计的技术.由于这种定位技术既不要求目标携带任何无线设备,又不需要目标主动参与定位过程,因此具有重要的应用前景.在基于接收信号强度的被动式目标定位研究工作中,大多假设链路接收信号强度是固定不变的.然而,实验和实际应用表明,这种假设是错误的.因为场景中不同射频信号的干扰和温湿度变化等环境影响都会引起处于同一位置的目标对应的接收信号强度不同,从而导致定位精度下降.为此,该文提出了一种能够有效消除环境噪声对链路接收信号影响的被动式目标定位方法.该方法首先利用基于有限状态马尔可夫链的线性迁移模型,将接收信号分解为由环境引起的噪声分量和由目标引起的扰动分量,并利用扰动分量构建射频地图;然后通过动态时间规整算法将实时扰动分量与射频地图进行匹配,实现目标定位.由于扰动分量仅与目标的位置有关,与环境无关,因此利用扰动分量进行定位不仅能够有效地消除环境噪声的影响、提高定位精度,而且使定位精度不会随着时间的推移而下降.实验结果表明,对于不同的环境和部署方式,该文提出的方法可有效地消除环境噪声对链路接收信号产生的影响,提高定位精度.关键词无线传感器网络;被动式目标定位;接收信号强度值;有限状态马尔可夫链;动态时间规整;物联网1引言利用无线传感器网络(WirelessSensorNetwork,WSN)进行被动式目标定位的技术具有重要的应用前景,潜在应用包括边境检测、安全警报系统、灾难救援、残障人士辅助、家居自动化、野生动物的监测等,这些应用定位需求的共同点是待定位的监测目标既不需要携带任何无线设备又可以不主动参与定位过程,因而满足此类需求的被动式目标定位技术已经成为近几年的研究热点[1-9].常见的被动式目标定位方法[1-7]根据待定位目标对无线通信链路射频信号产生的干扰,通过测量受干扰链路的接收信号强度指示RSSI(ReceivedSignalStrengthIndicator)值对目标的位置进行计算.此类方法通常分为训练和定位两个阶段.在训练阶段,根据待定位目标在不同位置处测量RSSI值与位置的映射关系形成指纹,构建射频地图(radiomap).在定位阶段,通过测量实时的RSSI值并与指纹信息进行匹配,从而得到目标的位置.然而,大多数现有的研究工作[1-5]通常假设RSSI值是固定不变的.事实上,随着时间的推移,环境中其他射频信号的干扰、障碍物的变化、甚至温湿度的变化等,都会使目标处于同一位置时在定位阶段得到的测量RSSI值与radiomap中的RSSI值产生偏差[10],换言之,RSSI值固定不变是真实场景下不现实的假设,其结果是系统的定位精度由于实时RSSI值与radiomap中指纹的匹配失效而急剧下降.例如当定位和训练阶段的时间间隔达到一个月时,定位精度会下降约20%[10].图1为一天内环境对RSSI值分布产生的影响.图1环境对RSSI值分布的影响:利用Micaz①节点链为了解决由于环境的影响导致定位精度下降的问题,文献[6]通过不断更新radiomap提高定位精度,但时间开销大,并且只能确定目标出现的区域.文献[7]通过计算环境在定位阶段和训练阶段对RSSI产生影响的差值,对定位阶段得到的测量值进行补偿,但需要在每次定位之前测量环境对RSSI值的影响,由于无法提前知道目标出现的时间,因此实用性低.针对上述问题,解决定位精度受环境影响下降的本质在于如何有效地消除环境噪声的影响.因此,本文提出了一种能够有效消除环境噪声的被动式目①DatasheetT.CrossbowInc.http://www.xbow.comPage3标定位方法,通过将RSSI值分解为由环境引起的噪声分量和由目标引起的扰动分量,仅利用扰动分量进行定位,从而有效地消除了环境噪声的影响,提高了定位精度.对给定链路和目标位置,通过分析发现:目标对链路干扰引起的RSSI改变值是固定的[11]且与环境无关,是RSSI值中的扰动分量;而环境对链路影响引起的RSSI改变值随机波动,是RSSI值中的噪声分量.因此,不同于现有的方法直接利用链路的RSSI(测量值)序列进行定位,本文利用目标对链路干扰引起的扰动分量序列,构建多链路的扰动序列向量进行定位.在训练阶段利用扰动序列向量与位置的映射关系构建radiomap,在定位阶段提取链路在线RSSI值中的扰动分量,得到实时的扰动序列向量后与radiomap中的指纹进行匹配得到目标位置.由于扰动分量不受环境的影响,因此实时扰动分量序列与指纹序列不会随着环境噪声的影响而失配,从而保证在提高定位精度的同时对环境噪声的鲁棒性高.然而,利用扰动分量进行定位,具有以下两个挑战.(1)对于受到目标干扰的链路而言,RSSI值是扰动分量与噪声分量的叠加,因此如何提取出目标干扰引起的扰动分量是一个挑战.实际上,对于未受到目标干扰的链路而言,RSSI值仅包含环境引起的噪声分量,而且空间距离相近的链路其噪声分量具有相似的特性[12].因此本文提出了基于有限状态马尔可夫链(FiniteStateMarkovChannel,FSMC)[13]的线性迁移模型,利用FSMC对链路进行建模,将未受干扰链路进行迁移得到受干扰链路的噪声分量,进而提取出受干扰链路的扰动分量.(2)基于RSSI统计分布特征进行匹配定位的传统方法(如Bayes[1]、SVM[5]或MLE[7])对于扰动分量序列的匹配不再适用.一方面,扰动分量对应目标干扰引起的信号,不受环境噪声的影响,因此无明显的统计特征;另一方面,定位阶段得到的扰动分量序列与指纹序列随着时间的推移会产生偏差.因此如何将定位阶段得到的实时扰动分量序列与指纹序列进行精确的匹配是一个挑战.为解决该挑战,本文利用动态时间规整(DynamicTimeWarping,DTW)[14]算法进行序列匹配,消除序列之间的偏差并量化匹配结果,实现目标定位.真实实验结果表明本文提出的方法在不同的环境和部署情况下,都能够在提高定位精度的同时对环境噪声的鲁棒性高.此外,噪声干扰问题是制约任何基于射频信号类定位方法的核心问题,本文提出的方法可以有效地消除环境噪声对RSSI值产生的影响,因此具有重要的应用前景.无特殊说明的情况下,无线通信链路用无线传感器网络的节点链路表示,被定位目标为单个目标.本文第2节介绍相关工作;第3节为本文的研究基础与动机;第4节为文章核心内容,介绍基于FSMC的线性迁移模型;第5节介绍radiomap的构建以及定位的过程;第6节为实验与结论分析;第7节对本文进行总结并列举未来的工作.2相关研究被动式目标定位技术由于其既不需要目标携带任何无线设备又不要求目标主动参与定位过程而具有非常重要的应用前景[1-9].现有的被动式目标定位技术根据信号的不同主要分为基于非射频信号的方法和基于射频信号的方法两大类.2.1基于非射频信号的被动式目标定位方法利用非射频信号进行被动式目标定位的应用有:视频节点定位[15],该方法的部署开销大,在黑暗或者烟雾环境下无法正常工作;利用加速度传感器和空气压力传感器对目标进行定位[16],但部署代价较高.还有基于超声波,激光技术,红外线等其他定位方法[17],但均需要部署特定的设备以满足系统的要求,因此成本开销大,适用性较为局限.相对于非射频信号,射频信号在不增加硬件设施或者无需对系统进行修改的前提下可以直接从无线系统中获取,并且在烟雾以及黑暗情况下的定位可行性高、成本低廉,因此被广泛使用.2.2基于射频信号的被动式目标定位方法基于射频信号进行被动式目标定位的技术已经成为现在的主流[1-8],该技术通常根据目标对RSSI值产生的影响,利用目标位置和RSSI值的映射关系构建radiomap,将实时RSSI值与radiomap中的指纹进行匹配得到目标的位置[1].文献[2]将压缩感知方法和被动式定位相结合实现多目标定位.文献[3]提出GREEK算法,利用K-近邻方法实现网格聚簇,并对目标出现进行监测,从而实现定位.文献[4]提出在大规模部署环境下基于概率的方法实现定位的系统Nuzzer,平均定位精度为2m左右.为了在不牺牲延迟和精度的前提下提高定位方法的扩展性,文献[5]将定位区域划分为相邻的子区域并在不同子区域内使用不同的通信信道,并利用支持向Page4量机(SVM)进行定位.这些工作均假设RSSI值是固定不变的,然而实际情况中由于环境的影响在定位阶段得到的RSSI值与在训练阶段得到的指纹会产生偏差,导致系统的定位精度下降.为解决该问题,文献[18]利用众包(crowd-source)模型,根据基于Gaussian分布的概率方法从少量RSSI值中得到指纹信息,在理想环境中能够有效工作并降低时延和人力消耗,但是由于环境的影响导致RSSI值本身不稳定,因此定位精度较低,且仅适用于主动式定位系统.在文献[19-20]中,杨强等人通过在定位区域放置参考节点,将定位阶段目标接收信号、参考点信号与radiomap相结合,利用回归分析分别与最大似然估计(MLE)方法、期望最大化(EM)方法相结合得到新的radiomap,在一定程度上解决了环境变化导致定位精度下降的问题,但是该方法需要增加额外的部署开销,且仅适用于小规模部署情况下的主动式定位系统.文献[6]提出对目标进行检测的Raisd系统,通过不断更新radiomap以适应环境的变化,但是成本较高且无法对目标进行精确的定位.Xu等人[7]利用基于判别分析(discriminantanalysis)的分类方法进行目标定位,通过计算训练阶段和定位阶段环境对RSSI影响的差值,对定位阶段的实时RSSI值进行补偿,并将偏差超过给定阈值的链路剔除掉,降低环境噪声对定位精度的影响.但是由于无法预先知道目标出现的确切时间,因此该方法需要在每次定位之前测量环境对RSSI值产生的影响,这不仅增加了人力消耗而且在实际场景中并不适用.不同于现有的方法,为了消除环境噪声对RSSI值产生的影响,本文首先对RSSI值的组成进行分析;然后提出了基于FSMC的线性迁移模型提取RSSI值中由环境噪声引起的噪声分量,得到目标干扰引起的扰动分量;最后利用扰动分量与目标位置的对应关系构建radiomap,并提出利用DTW算法进行精确的序列匹配从而实现目标定位.由于定位过程无需对radiomap进行更新操作,扰动分量与环境噪声无关,因此本文的方法能够在不增加时延和人力开销的前提下有效地提高定位精度,同时对于不同的环境和部署情况,都能保证定位精度不随时间推移引起的环境噪声变化而下降.3研究基础与动机本节通过对无线通信链路RSSI值的组成进行分析,发现链路受到目标干扰后RSSI值为噪声分量与扰动分量的和,且扰动分量与环境无关.现有的被动式目标定位方法直接利用RSSI值进行定位,但是环境会引起RSSI值发生变化,进而导致定位精度降低.针对该问题,本文提出了基于FSMC的线性迁移模型,得到RSSI值中的扰动分量构建radiomap,并针对扰动分量的特性利用DTW算法实现目标定位.3.1无线通信链路信号强度值(犚犛犛犐)分析被动式目标定位通过检测目标对无线通信链路RSSI值产生的干扰进行定位[1-7].当目标处于不同位置时,会引起某些链路的RSSI值发生变化,当变化超过一定的阈值时表示该链路受到了干扰[8],称为受干扰链路,其他链路称为未受干扰链路.本小节主要对链路RSSI值在受到目标干扰前和干扰后的组成进行分析,如图2所示发送节点与接收节点形成一条无线通信链路,链路RSSI值由图2中所示的各部分信号组成.当链路受目标干扰前,链路的RSSI值包括:视距信号(图2中1所示),环境中障碍物的反射信号(图2中2所示).视距信号反映传播介质对信号造成的衰减,障碍物反射信号反映环境中其他物体对信号造成的反射,因此将这两部分信号的和称为由环境影响引起的噪声分量(图2中1+2所示).定义1.对某一条固定链路而言,设rm和rns分别表示链路受干扰前的RSSI值和由环境引起的噪声分量,则当链路受到目标干扰后,除了噪声分量外,链路的RSSI值还包括由目标干扰引起的扰动分量(图2中4所示).定义2.设rm和rns分别表示链路受干扰后的RSSI值和由环境引起的噪声分量,rin表示由目标引起的扰动分量,则Page5链路受干扰前后,环境发生突变的概率非常低,因此噪声分量近似不变,即rns≈rns.但是在实际情况中,目标出现会引起周围环境发生变化[9],例如某些信号会先经过目标的反射后再被其他物体反射而接收,将这些信号称为二次反射信号(图2中3所示).由于环境中障碍物的变化会引起二次反射信号发生变化,即二次反射信号与环境有关,因此对应的RSSI值为二次噪声分量,用rad表示.则链路受干扰后的噪声分量变为原噪声分量与二次噪声分量的和:式(2)变为则受干扰链路的RSSI值rm实际上由三部分组成:目标引起的扰动分量rin,链路受干扰前的噪声分量rns,目标引起环境变化产生的二次噪声分量rad.目标处于位置o(x,y)时,设有c条受干扰链m(1),rim,狉2m,…,狉c路,第i条链路在时间窗ω内的RSSI序列为狉i[ric条链路组成的RSSI序列向量可以表示为犚m=[狉1式目标定位方法[1-7]利用犚m与o(x,y)的映射关系o(x,y)=f(犚m)构建radiomap并进行定位.但是随着时间推移环境会发生变化,如障碍物的变化,其他射频信号的干扰等,都会引起RSSI值中的噪声分量发生变化,进而使定位阶段得到的RSSI值与radiomap中的指纹信息产生偏差而失配[10],导致系统的定位精度下降.3.2基于FSMC的线性迁移模型为解决上述传统方法的局限性,本文利用目标干扰引起的扰动序列向量犚in与位置o(x,y)的映射关系:o(x,y)=f(犚in)作为指纹,构建radiomap进行定位.其优点在于,扰动分量仅与位置有关[11],而与环境无关,因此利用扰动分量进行定位不仅能够提高定位精度,并且使得定位精度不受环境噪声的影响而下降.然而当目标进入定位区域后,只能得到受干扰链路的RSSI值rm(rns与rin的和),无法直接获取扰动分量rin,因此从rm中提取rin是一个挑战.针对该挑战,一种直观的解决方法是假设rns≈rns,则通过式(1)和(2)可直接得到rin=rm-rm.但在实际情况中,链路受到干扰后噪声分量会发生变化,即rns=rns+rad,则无法根据链路受干扰前后RSSI值的变化得到rin.因此,为了得到扰动分量rin,需要先对噪声分量rns进行估计.则本文解决的问题变为如何对噪声分量rns进行估计,进而得到扰动分量rin.(1)为了对噪声分量rns进行准确的估计,需要根据链路受干扰前的噪声分量rns与受干扰后环境对RSSI值产生的影响得到rns,因此需要建立RSSI值受环境影响随时间变化的离散信号模型.由Gaussian分布、Rayleigh分布等针对信号的统计分布特征建立模型,无法对离散信号相邻时刻的变化进行描述.相反,FSMC根据RSSI值的统计变化规律,利用相邻时刻的状态转移概率P表示环境对RSSI值产生的影响,因此本文利用FSMC对链路进行建模,得到噪声分量对应的状态转移概率.(2)环境对受干扰链路RSSI值产生的影响无法直接得到,而对未受干扰链路RSSI值产生的影响可以直接通过测量获取;另一方面,空间距离相近的链路由环境引起的RSSI值变化相似[12],因此本文通过将相邻未受干扰链路进行线性迁移,得到环境对受干扰链路RSSI值产生的影响.通过对链路进行FSMC建模,得到噪声分量对应的状态转移概率P,即表示环境对RSSI值产生的影响,因此对相邻未受干扰链路的状态转移概率Pnea进行迁移,得到受干扰链路噪声分量rns对应的状态转移概率Pdis,即环境对受干扰链路RSSI值产生的影响.基于以上分析,本文提出了基于FSMC的线性迁移模型.利用FSMC对链路建模,将相邻未受干扰链路的状态转移概率Pnea进行线性迁移,得到受干扰链路噪声分量rns对应的状态转移概率Pdis后,结合链路受干扰前的噪声分量rns,得到受干扰链路的噪声分量rns,最后根据式(2)得到扰动分量rin.3.3基于DTW的目标定位方法由于目标引起的扰动分量rin不受环境噪声的影响而无明显的统计特征,因此基于信号统计分布特征的传统定位方法[1,5,7]不再适用.另一方面,由于定位阶段得到的实时扰动分量序列狉in与训练阶段得到的指纹序列狉rm在不同的时间段获得,则目标处于同一位置时对应狉in与狉rm中的相应元素会产生偏移.因此为了将定位阶段得到的扰动序列与指纹序列进行精确的匹配,提高定位精度,本文利用DTW算法进行目标定位.4基于FSMC的线性迁移模型利用基于FSMC的线性迁移模型得到受干扰链路的扰动分量(序列),有以下4个步骤:Page6(1)利用FSMC对链路进行建模,得到受干扰链路RSSI(测量值)序列狉′m与受干扰前的噪声分量序列狉ns以及与该受干扰链路相邻的未受干扰链路的状态转移概率矩阵犘nea;(2)将未受干扰链路状态转移概率犘nea进行线性迁移,得到受干扰链路噪声分量rns对应的状态转移概率犘dis;(3)根据受干扰链路的状态转移概率矩阵犘dis和链路受干扰前的噪声分量序列狉ns,得到受干扰链路的噪声分量序列狉′ns;(4)用受干扰链路的RSSI序列狉′m减去噪声分量序列狉′ns,得到扰动分量序列狉in.4.1链路FSMC建模基于信道测量值构建FSMC是对无线通信链路进行建模的一种具有代表性的随机方法,它将信道的测量值作为随机变量获取信道特征,相比于其他建模方法来说,FSMC不仅以衰落理论为基础同时根据信号测量值进行建模,处理过程灵活,形式简单,因此更适用于环境衰落信道的建模[13].利用链路RSSI值构建FSMC,是通过训练RSSI值得到RSSI状态序列,它是离散时间采样序列的统计模型,利用相邻状态之间的转移概率P表示环境对链路RSSI值产生的影响.本文通过对链路进行FSMC建模,得到链路的状态转移概率矩阵犘.由于转移概率反映环境对链路RSSI值产生的影响,空间距离相近的链路其转移概率具有相似的变化特性[12],因此状态转移概率是链路之间进行迁移的基础.本小节主要介绍如何利用RSSI值构建FSMC.4.1.1测量值的区间划分将RSSI值等分为N个相邻的子区间,每个区间代表一个Markov状态,落在同一区间内的RSSI值对应同一个状态S.设RSSI值范围为[RSSImin,RSSImax],子区间大小为mdBm,则区间个数N=|RSSImin-RSSImax|/m(为下取整),RSSI状态序列的元素个数为N.对于FSMC的离散时间采样来说,下一时刻的状态St+1仅与当前时刻的状态St有关:P[St+1|St,St-1,…,S1]=P[St+1|St].4.1.2噪声分量序列的获取由于未受干扰链路的RSSI值即为噪声分量,因此对未受干扰的链路,利用FSMC进行建模得到噪声分量对应的状态转移概率.而对受干扰的链路,受干扰前的噪声分量序列狉ns和受干扰后的RSSI序列狉′m直接利用FSMC进行建模得到.4.1.3状态转移概率矩阵未受干扰链路的RSSI值仅包括噪声分量,由于短时间内环境发生突变的概率非常低,因此状态之间的转移大都是相邻的.若设ni,j表示从状态Si转移到Sj的测量值个数,ni表示处于状态Si的测量值个数,则从状态Si转移到Sj的转移概率Pi,j为Pi,j=ni,j/ni,其中i,j∈[1,N].链路的状态转移概率矩阵犘可以表示为由于状态之间的转移大多是相邻的,则状态转移概率矩阵犘的非零元素大多分布在对角线周围,这为链路之间的线性迁移奠定了理论基础.设链路的稳态概率为π={πi},πi=ni/ntotal,1iN,ntotal表示所有状态的测量值个数.经过a次转移之后,链路的转移概率矩阵可以通过Chapman-Kolmogorov定理求解:犘为初始转移概率矩阵,犘(a)为经过a次转移后的转移概率矩阵.4.1.4异常数据的处理在实际测量RSSI值的过程中,由于环境或其他干扰会导致某些时刻的测量值丢失,为了得到完整的RSSI序列,利用丢失前、后的测量值进行插值可以得到丢失的测量值.设有b个连续的测量值丢失,丢失前、后的测量值分别为RSSI1和RSSIb+2,则丢失的测量值RSSIi(2ib+1)可以通过下式得到RSSIi=RSSI1+(i-1)×通过式(7)可以将状态转移概率P1,b+2(Sb+2|S1)补充完整为P1,i(Si|S1),阻止异常数据的出现,并保证RSSI状态序列的完整性.4.2链路迁移为了得到受干扰链路噪声分量rns对应的状态转移概率Pdis,进行如下分析:首先,环境对空间位置相近的链路RSSI值产生的影响具有相似的特性[12];其次,未受干扰链路的RSSI状态大多向相邻状态转移,则式(5)中矩阵犘的非零元素集中在对角线附近.基于此,本文假设相邻受干扰链路和未受干扰链路噪声分量对应的状态转移概率之间呈线性迁移关系.通过对相邻未受干扰链路的状态转移Page7概率Pnea进行迁移,得到受干扰链路噪声分量rns对应的转移概率Pdis,并通过实验(6.2节)证明了模型的正确性.为了实现链路之间的线性迁移,首先需要得到距离受干扰链路最近的相邻未受干扰链路,然后将链路之间的状态转移概率进行迁移,最后得到受干扰链路的扰动分量序列.4.2.1相邻未受干扰链路的选取定义3.设节点A,B形成的链路中点坐标(xAB,yAB)表示链路的几何位置,且链路AB是受干扰链路,未受干扰链路i的几何位置为(xi,yi),lAB和li分别表示链路AB和链路i的长度,则链路之间的欧几里德距离为di=xAB-x(为了得到离受干扰链路AB空间距离最近的未受干扰链路i,通过式(8)进行判断:根据无线信号传播模型[11],链路的RSSI衰减与链路长度有关,链路长度越长,RSSI衰减越大.因此当链路长度相同时,链路等效为位于几何位置的质点,链路之间的距离即为质点之间的距离.当链路长度不同时,需要考虑链路的长度信息.若未受干扰链路与受干扰链路的长度越接近,且链路之间的几何位置越接近,则它们的RSSI衰减越相似.4.2.2状态转移概率的线性迁移为了得到受干扰链路的噪声分量,线性迁移模型应该满足以下两个条件.条件1.利用模型得到的受干扰链路噪声分量序列与相邻未受干扰链路噪声分量序列的RSSI值波动应该相似;条件2.该模型基于空间位置的统计特征必须能够反映环境的影响,即相邻链路之间的统计特征关系必须合理.由于线性迁移模型假设受干扰链路与相邻未受干扰链路噪声分量对应的状态转移概率之间呈线性迁移关系,因此迁移模型满足第1个条件.如图3所示,目标进入定位区域后,某些链路会受到干扰(实线所示),而另外一些链路未受到干扰(虚线所示).对于其中一条受干扰链路(链路)而言,设Pdis表示噪声分量对应的状态转移概率,链路②为距离链路最近的未受干扰链路,Pnea表示链路②噪声分量对应的状态转移概率.则Pdis可以通过Pnea的线性迁移得到其中γ为线性迁移因子,-NγN.γ的确定.未受干扰链路②噪声分量对应的状态转移概率矩阵犘可以直接通过测量得到,由于此时a=1,则序列中元素处于状态j的概率为πiPi,j,则噪声分量序列基于状态转移概率的均值为根据线性迁移关系式(9),得到受干扰链路噪声分量序列基于状态转移概率的均值为μdis=∑由于γ反映链路之间的迁移关系,因此必须通过保证μdis前提下得到γ,即迁移模型满足第2个条件.一方面,局部区域的信号平均功率反映环境的动态变化,且平均功率值相对于与位置相关的均值而波动[11].因此,链路的信号平均功率波动与链路的位置有关,空间距离相近的链路其平均功率波动值相似.进而,链路的信号平均功率可以通过与其空间距离相近的链路进行插值得到,且链路之间的相关性随着距离的增大而减小[12].另一方面,若链路的波动足够丰富,对链路的RSSI序列取平均值可以将由多径效应引起的信号强度波动消除掉,则链路的RSSI序列均值与链路的信号平均功率相等.因此,利用距离受干扰链路最近的ξ条未受干扰链路进行插值(例如图3中链路①、②、③),得到受干扰链路的噪声分量序列均值,进而求解γ.定义4.设μi表示未受干扰链路i的信号平均功率,li为链路长度(1iξ),μliPage8均值,λi表示链路信号平均功率μi相对于与位置相关的均值μli可以通过自由空间传播模型得到[11].μli设未受干扰链路i与受干扰链路之间的距离为di(1iξ),l为受干扰链路的长度.利用式(8)得到与受干扰链路距离最近的ξ条未受干扰链路后,通过插值得到受干扰链路噪声分量序列对应的平均功率波动λ:其中τi表示未受干扰链路i的单位长度波动值.由于将链路的长度信息考虑在内,因此迁移模型针对链路长度不同的情况仍然适用.则与受干扰链路噪声分量序列相对应的信号平均功率μdis可以表示为其中l为受干扰链路的长度,μl和λ分别为受干扰链路噪声分量序列对应的信号平均功率与位置相关的均值和波动值.受干扰链路噪声分量序列的均值即是其平均功率,μdis=μdis,则通过式(11)和(14)可得4.2.3扰动分量序列的获取得到线性迁移因子γ后,首先利用式(9)得到受干扰链路噪声分量rns对应的状态转移概率Pdis,进而得到转移概率矩阵犘dis.然后根据犘dis与受干扰前的噪声分量序列狉ns,得到受干扰链路的噪声分量序列狉′ns.最后将RSSI序列狉′m与噪声分量序列狉′ns相减,得到受干扰链路的扰动分量序列狉in:5基于DTW的目标定位5.1建立Radiomap在训练阶段,利用基于FSMC的线性迁移模型得到目标处于不同位置时对应的扰动分量,构建radiomap,具体如下.定义5.设目标的位置为o(x,y),o∈于c条受干扰链路而言,设狉i动分量序列,1ic,犚in表示由c条受干扰链路组成的扰动序列向量,犚in∈数,则其中T表示转置,则radiomap中存储的指纹信息可以表示为5.2获取目标位置首先,扰动分量rin不受环境噪声的影响而无明显的统计特征,因此基于RSSI值统计分布特征的传统匹配定位方法(Bayes[1]、SVM[5]和MLE[7]等)不再适用.其次,实时扰动分量序列狉in与先验指纹序列狉rm分别在定位阶段和训练阶段获得,因此目标处于相同位置时对应的狉in与狉rm中的某些相应元素会产生偏移.为了将实时扰动分量序列狉in与先验指纹序列狉rm进行精确的匹配并量化匹配结果,本文利用动态时间规整(DynamicTimeWarping,DTW)[14]算法进行目标定位.DTW的目标是通过比较和规整两个时间序列,将序列1中的每个元素对齐到序列2中的某个或连续多个元素,保证所有元素对的对齐代价和最小.在本文中,给定DTW两个序列(狉(i)in表示在定位阶段得到的链路i的扰动分量其中狉(i)序列,狉(j)列,i,j∈[1,c].对两个序列中的任意元素对r(i)r(j),对齐代价Cα,β为元素间的欧几里德距离,即β则序列规整的总代价犆可以表示为ω×ω的矩阵:实验中将某条链路在定位阶段得到的扰动分量序列与指纹序列进行匹配,即i=j,得到的代价矩阵犆如图4所示,犆中元素Cα,β表示元素r(i)齐代价,颜色越浅则代价越大.设Z表示矩阵犆中序列元素对的对齐排列,Z=z1,…,zh,…,zω,且zh=αh,β()h对应的代价为Cα,β.DTW的目标是寻找使得代价犆最小的排列Z,即利用标准动态规划[14]求解式(19)得到使总体Page9代价最小的规整路线,如图4中白线所示.且需要满足以下条件:(1)边界条件:即规整路线起始于序列的第1个元素对,终止于最后一个元素对,如图4所示矩阵犆的左下角为起点,右上角为终点.(2)单调性条件:即规整路线上的元素一定会向右,或者向上,或者向右对角方向(右上方)移动,如图4中白线所示.进行对齐规整时不能改变序列的元素顺序,但是序列1中的某个元素与序列2中的连续多个元素对齐是允许的,反之亦然.图5为利用标准动态规划得到的最优对齐结果(连续的曲线为元素插值得到的结果).矩阵犆表示序列之间的相似程度,具有最小代价的序列对应同一条链路,因此通过匹配得到具有最小代价的指纹序列,就可以确定目标的位置.6实验与结论分析6.1实验设置我们将Crossbow节点部署在如图6所示的无障碍物室外环境和有障碍物室内环境中,采用相邻等边三角形[5]和随机部署两种方式,如图7所示.选取定位区域的面积为10m×10m,将区域划分为边长0.5m的正方形网格,网格个数为400,目标位置为网格的中心.设RSSI值的采样间隔为1s,FSMC的状态子区间大小为1dBm,对链路的RSSI值连续测量30d得到链路的稳态概率π.首先,我们对基于FSMC的线性迁移模型进行验证.其次,通过随机选取100个网格点,分别考察链路长度l,序列元素个数ω,未受干扰链路个数ξ,受干扰链路个数c对定位结果的影响.默认情况下采用三角形部署方式,l=4m,ω=30,ξ=3,c=3.定位误差为定位结果到真实位置的欧几里德距离.最后,针对不同的部署环境和部署方式,通过与其他定位方法进行比较,观察时间推移引起的环境噪声变化对定位结果的影响.表1为不同部署方式以及不同链路长度情况下的节点个数.Page10部署方式三角形部署随机部署6.2验证基于FSMC的线性迁移模型6.2.1验证异常数据插值的方法为了验证本文对丢失的数据通过插值进行补偿的方法,根据RSSI测量序列丢失元素个数的不同,分别计算RSSI测量序列正确匹配的概率以及相应的定位误差①,如图8所示.当丢失数据个数超过序列长度的1/2(即15个)时,定位误差明显增大,序列无法实现正确的匹配.真实情况下数据丢失的可能性较小,因此异常数据插值的方法能够有效地处理测量值丢失的异常情况.6.2.2验证自由空间传播模型为了验证自由空间传播模型计算链路的平均功率,通过在室外和室内环境下分别进行50次实验.针对未受干扰的链路,利用自由空间传播模型算出的RSSI值加上相邻链路RSSI波动的插值得出计算值,并测量实际RSSI值,统计模型计算值与实际测量值之间差的累积概率分布,如图9所示.在两种环境下,90%的测量值与计算值之差都小于0.8dBm,同时我们通过实验统计的环境噪声波动范围为2~3dBm,模型计算的误差小于噪声,可以忽略不计,因此利用自由空间传播模型对链路平均功率进行估计的方法可行.6.2.3验证线性迁移模型的可行性首先我们验证相邻链路状态转移概率的线性迁移关系,通过在如图6(b)所示的室内环境中部署3条相邻的链路,分别记录3条链路的RSSI值,并统计每条链路RSSI对应的状态转移概率,如图10所示.相邻链路的RSSI值具有相似的转移趋势,例如第57种转移表示3条链路的状态转移分别为-71dBm到-72dBm,-74dBm到-75dBm,-72dBm到-73dBm,且概率均为0.25.因此,相邻链路的状态转移概率具有式(9)所述的线性迁移关系.其次我们证明线性迁移模型的可行性.由于受干扰链路的扰动分量无法直接获取,因此利用未受干扰链路进行验证.选取一条未受干扰链路进行测量得到RSSI测量序列,并利用迁移模型得到RSSI估计序列,将测量序列与估计序列进行对比,如图11①真实情况下,RSSI测量值丢失的情况较少,因此通过人为Page11所示.由图可见两个样本序列的RSSI波动趋势相同.其次,利用两样本Kolmogorov-Smirnov检验方法,判断RSSI测量序列和RSSI估计序列是否来自同一个分布,通过比较两个样本的累积概率分布(CDF),如图12所示两样本序列来自同一个分布,从而证明了线性迁移模型的可行性.6.3考察参数对定位结果的影响6.3.1链路长度l对定位结果的影响为了考察三角形部署方式下链路长度l对定位的影响,分别设置l为4m,6m,8m,10m,定位误差的CDF曲线如图13所示.发现当链路长度为4m的时候,80%的位置点定位误差小于0.9m,由于网格边长为0.5m,则定位结果大都位于真实位置的相邻网格内,因此选取l=4m.6.3.2序列元素个数ω对定位结果的影响通过考察不同ω对定位精度的影响,确定合适的元素个数.扰动分量序列中元素个数ω与FSMC的初始状态个数N有关.当N越大时,ω越大,利用迁移模型得到的扰动分量序列越能真实反映目标对信号的干扰,但是ω太大会增加时延.如图14所示为不同ω值对应的100个网格点定位误差箱线图,随着ω增大,定位误差的平均值从1.08m开始下降,当ω25时,定位误差基本保持在0.9m左右,且误差的稳定性较高,因此选取ω的值为30.6.3.3未受干扰链路个数ξ对定位结果的影响在基于FSMC的线性迁移模型中,需要选取离受干扰链路最近的ξ条未受干扰链路进行插值求解迁移因子.分别设置ξ=1,3,5,7,定位结果如图15所示.当ξ=3时定位精度最高,对于80%的位置点其定位误差小于0.86m,而当ξ=1,5,7时,定位精度下降,这是由于相比于ξ=3,当ξ=1时选取离受干扰链路最近的一条未受干扰链路进行插值,当ξ=5,7时,距离较远的未受干扰链路也被用来插值,定位精度降低,因此选取ξ=3.6.3.4受干扰链路个数c对定位结果的影响为了考察受干扰链路个数c对定位结果的影响,分别设置c=1,3,5,7,并统计定位结果如图16所示.当c=3时,对于80%的网格点其定位误差不超过0.88m.当c=5,7时,由于目标引起的受干扰链路个数有限,因此c的值变大精度却降低.当c=1时,扰动序列向量无法充分反映目标对链路产生的影响,定位误差最大,因此选取c=3.Page126.4环境噪声变化对定位结果的影响为了验证本文提出的方法可以有效消除环境噪声对定位精度产生的影响,通过与:(1)Youssef等人[1]提出的经典被动式目标定位方法Challenge,利用贝叶斯后验概率估计进行定位的方法(BIP);(2)将定位区域划分为相邻三角形子区域并使用支持向量回归方法进行定位的方法RASS[5];(3)利用基于判别分析的分类方法进行定位[7],对RSSI值进行偏差补偿从而消除环境影响的方法(EBC)进行对比.分别在室内和室外环境训练得到radiomap后,针对两种不同的部署方式分别进行如下两组对比实验.实验1是对所有网格点针对以下两种情况进行定位并统计结果:(a)训练结束之后就进行定位,此时环境噪声变化对RSSI值产生的影响最小,可以比较不同方法的定位精度;(b)训练与定位的时间间隔为30d,定位结果可以反映环境噪声对不同方法的影响.实验2是在训练阶段得到radiomap后,每隔两天随机选取30个网格点进行定位,统计定位误差的平均值,得到不同方法对环境噪声变化的鲁棒性.6.4.1三角形部署方式室外三角形部署下实验1的结果如图17和图18所示.相对于情况(a),当定位与训练的时间间隔为1个月时(情况(b)),对80%的网格点EBC,RASS和BIP的定位误差分别从0.89m,0.95m和1.1m增大为0.92m,1.12m和1.35m,定位精度分别下降3.4%,15.8%和22.7%,而本文提出的基于FSMC的方法定位误差基本不变,保持在0.86m左右.实验2的结果如图19所示,随着时间的推移,由于本文提出的基于FSMC的方法和EBC方法都能有效消除环境噪声的影响,因此平均定位误差保持在0.86m和0.9m左右,而RASS与BIP的定位误差分别从0.95m和1.1m开始增大.室内三角形部署下实验1的结果如图20和图21所示.对80%的网格点,当定位与训练的时间间隔为1个月时,FSMC,EBC,RASS和BIP的定位误差分别从0.92m,0.99m,1.06m和1.36m增大为0.98m,1.1m,1.28m和1.74m,定位精度分别下降6%,11%,21%和28%,即本文提出的基于FSMC的方法对噪声的鲁棒性最好.实验2的结果如图22所示,随着时间的推移,本文的方法能够在保持较低定位误差的同时有效地消除环境噪声的影响,而RASS与BIP的定位误差随着时间的推移不断增大.Page13因此在三角形部署方式下,本文方法在室内和室外环境都能够有效消除环境噪声对定位精度产生的影响,并且对环境噪声变化的鲁棒性高.6.4.2随机部署方式室内随机部署下实验1的结果如图23和图24所示.对80%的网格点,当定位与训练的时间间隔为一个月时,EBC,RASS和BIP的定位误差分别从1.1m,1.22m和1.36m增大为1.2m,1.48m和1.76m,定位精度分别下降9.1%,21%和29%,而本文方法对应定位误差从0.87m变为0.9m,定位精度仅下降了3.4%.说明本文提出的方法对环境噪声的鲁棒性高.实验2的结果如图25所示,随着时间的推移,EBC、RASS与BIP的平均定位误差分别从1.1m,1.22m和1.36m开始增大,而本文方法定位误差保持在0.9m左右.室内随机部署下实验1的结果如图26和图27所示.相比于情况(a),当定位与训练的时间间隔为一个月时,对80%的网格点EBC,RASS和BIP的定位误差分别从1.18m,1.4m和1.65m增大为1.37m,1.78m和2.18m,定位精度分别下降16%,27%和32%,而基于FSMC的方法定位误差从0.9m变为0.98m,定位精度下降7%.进一步说明本文提出的方法对环境噪声的鲁棒性高.实验2的结果如图28所示,随着时间的推移,EBC,RASS与BIP的平均定Page14位误差较大,而基于FSMC的方法其定位误差仍保持在1m左右.因此针对随机部署的方式,本文的方法仍能有效消除环境噪声的影响,提高定位精度.综上所述,本文提出的方法在室外和室内环境下,针对三角形部署和随机部署的方式,都能有效消除环境噪声的影响,提高定位精度,并对环境噪声变化的鲁棒性高.7总结与展望为了解决被动式目标定位中由于时间推移引起环境噪声变化,进而导致定位精度下降的问题,本文提出基于FSMC的线性迁移模型,将RSSI值分解为由环境引起的噪声分量和由目标引起的扰动分量,利用扰动分量构建目标对应的多链路序列向量.其次,本文利用DTW算法将定位阶段得到的扰动分量序列与指纹序列进行精确的匹配,实现目标定位.由于扰动分量不受环境噪声的影响,因此本文方法能够在提高定位精度的同时保证对环境噪声的高鲁棒性.最后通过实验验证了本文方法的有效性,结果表明对于80%的网格点而言,在室内和室外不同的部署情况下,定位误差都小于1m.虽然需要对RSSI序列进行长时间测量并统计其稳态概率,但是该过程只需要进行一次,且稳态概率越准确,定位精度越高,因此本文方法相比于不断更新radiomap的方法而言,有效的节省了时间开销.未来将考虑多目标定位的情况.
