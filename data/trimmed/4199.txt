Page1无线Mesh网络中满足带宽需求的路由器部署方法吴文甲杨明罗军舟(东南大学计算机科学与工程学院南京211189)摘要无线Mesh网络是移动互联网的一种重要接入方式,如何合理、高效地部署Mesh路由器(MeshRouter,MR),从而以较低的部署成本获得较好的网络性能,是当前的研究热点.文中首先给出一种分层的部署场景模型及相关假设,并在此基础上利用混合整数线性规划方法对MR部署问题进行形式化描述;然后提出一种基于网络流的MR部署贪心算法NFGreedy,该算法以迭代的方式从MR候选位置集中选择权重最大的节点进行相应的节点部署,其中节点权重定义为当前网络可满足的最大用户带宽需求的平均增量,可利用网络流方法进行求解;最后通过一系列仿真实验将NFGreedy算法与现有算法进行对比,实验结果表明该算法与基于MILP的算法相比,虽然所部署的MR数量略多,但是能适用于较大规模的WMN;而与启发式的ILSearch算法相比,则大大减少了所部署MR的数量.关键词无线Mesh网络;Mesh路由器部署;用户带宽需求;混合整数线性规划;最大流1引言随着宽带无线移动通信网络和智能移动终端的发展,Internet用户逐渐挣脱了“有线、固定”的束缚,可以随时随地乃至在移动过程中获取Internet上丰富的资源和服务.移动互联网应运而生并迅猛发展,已成为学术界和业界共同关注的热点[1].同时其用户规模的不断增长和应用的日益繁荣,也使得宽带无线移动通信网络面临着重大机遇与挑战.无线Mesh网络(WirelessMeshNetworks,WMN)[2]是一种自组织、自配置的多跳无线网络,有着带宽高、可靠性好、覆盖范围广、部署成本低、可扩展性好等优势,具有良好的发展前景,将成为移动互联网中一种重要的无线接入技术.面向Internet接入的WMN如图1所示,有3种类型的节点构成:Mesh路由器(MeshRouter,MR)、网关(Gateway,GW)和Mesh终端.其中MR和网关构成了Mesh骨干网,它们以多跳无线的方式实现节点间的互连.MR不仅作为无线接入点(AccessPoint,AP)为其覆盖范围内的Mesh终端提供无线接入,还作为路由器为其他MR转发报文.网关不仅具有MR的接入和转发功能,还以有线方式连接到Internet,是WMN与Internet之间的桥梁.Mesh骨干网是WMN的核心和关键,其性能优化已成为当前研究的热点.大多数工作都是在给定Mesh骨干网拓扑的前提下,通过路由、信道分配及链路调度来优化网络性能[3-5].然而,拓扑本身的合理与否对网络性能有着重要的影响[6].经过周密规划的网络拓扑,不仅能有效地提高网络性能(吞吐量、可靠性、负载均衡、公平性等),还能避免冗余节点的部署,以最小的部署成本来满足网络性能要求.因此,拓扑规划也是WMN性能优化中的重要环节,其中网关部署和MR部署在当前受到了较多的关注[7].网关是Mesh骨干网的关键节点,其数量与位置的优化对于提升网络性能至关重要.已有一些学者开展了网关部署方面的研究工作[8-10],以节约部署成本和保证网络性能为目标,从给定的骨干网节点中选择最少数量的节点作为网关,即在带宽、时延等QoS约束下对骨干网节点进行分簇,并选择簇头节点作为网关.除了关注网关部署,学者们还开始对MR部署进行研究.MR部署问题就是从给定的MR候选位置节点中选择节点作为MR,在保证这些MR能够满足覆盖、连通等网络性能要求的前提下,减少MR数量以节约部署成本.目前,一些解决方法[11-18]已被提出,但还存在着如下问题:求解效率不高、将覆盖和连通割裂开来考虑、对一些重要因素(用户带宽需求和MR接入容量等)缺乏全面的考虑.因此,本文以Mesh骨干网为研究对象,研究如何高效地对MR位置进行合理的规划,将覆盖和连通联合起来考虑,同时考虑到用户带宽需求和MR接入容量的约束.本文第2节对相关工作进行介绍;第3节给出一种分层的部署场景模型及相关假设,并利用混合整数线性规划(MixedIntegerLinearProgramming,MILP)方法对MR部署问题进行形式化描述;第4节提出基于网络流的MR部署贪心算法NFGreedy;第5节通过仿真实验验证该算法的有效性及优势;最后一节对全文进行总结并探讨未来的工作.2相关工作虽然WMN中MR部署的研究才刚刚起步,但是Internet、蜂窝移动通信网络和传感器网络等研究领域有一些类似研究工作,其成果可以被借鉴.例如,Internet上如何部署冗余Web服务器来优化用户访问的性能[19],蜂窝移动通信网络里如何部署基站[20]以及无线传感器网络中如何部署节点[21]等等.然而,无线链路不同于有线链路,节点间的连接受到位置的限制;无线多跳通信不同于单跳通信,不仅需要考虑覆盖,还需要考虑节点间的连通性;WMN也不同于无线传感器网络,不仅需要考虑覆盖和连通性,还需考虑到用户的带宽需求.Page3因此,WMN中的MR部署问题要比上述类似问题复杂得多.Amaldi等人[11]针对MR部署问题建立基于MILP的数学模型,以最小化网络建设成本为目标,同时保证MR对所有终端的覆盖和MR到网关的连通.在该模型基础上,作者们提出了一个松弛启发式算法,提高了模型的求解效率.Franklin等人[12]提出了一种基于局部搜索的MR部署方法,根据部署区域中的用户密度,以最大化网络的覆盖和连通性为目标,以迭代的方式从候选MR中选择节点作为MR,直到MR数量达到指定的部署数量为止.Srinivas等人[13]提出了一种Mesh骨干网的构建方法,分为两个阶段:在第1阶段,使用矩形条覆盖算法来部署节点,从而完成区域覆盖;在第2阶段,通过构建最小Steiner节点的Steiner树来实现节点间的连通.Wang等人[14]提出一种启发式部署算法ILSearch,在保证网络覆盖、连通和用户带宽需求的前提下,部署最少数量的MR,同时还考虑到链路的多速率特性和链路干扰.ILSearch算法分为覆盖MR的部署和转发MR的部署两个阶段:在第1阶段,以贪心策略部署最少数量的覆盖MR以完成对所有终端的覆盖;在第2阶段,部署最少数量的转发MR,使得所有覆盖MR节点能够多跳连接到网关.Robinson等人[15]研究非均匀传播模型下的MR部署问题,考虑了无线信道的非均匀传播模型,链路存在与否取决于两节点之间的信号质量估计,将MR部署问题形式化为终端Steiner树问题,提出了近似算法,最小化MR数量的同时,使用最小次数的链路测量来确保所有骨干网链路是连通的.Hu[16]提出了一种混合式的部署方法,根据用户带宽需求密度的不同,选择相应的部署策略.该方法包含先连通后覆盖和先覆盖后连通两种策略,当用户带宽需求密度低于某个设定的阈值时,采用先连通后覆盖的部署策略,否则采用先覆盖后连通的部署策略.此外,还可以利用遗传算法、粒子群算法等智能算法来解决MR部署问题[17-18].综上所述,针对MR部署问题,现有的解决方法主要有以下三类:基于数学模型求解的部署方法[11]、基于智能算法的部署方法[17-18]和基于启发式算法的部署方法[12-16].基于数学模型求解的部署方法,计算复杂度大,当节点规模扩大时,解空间急剧增大,求解将变为不可能;基于智能算法的部署方法是全局优化方法,但其求解时间较长,存在着收敛速度慢、易陷入局部极值点等缺陷,如何控制收敛速度还需要更为深入的研究;基于启发式算法的部署方法是当前的主流方法,但存在以下两方面的问题:(1)大多数工作将覆盖和连通割裂开来考虑,提出两阶段算法先后解决覆盖问题和连通问题,可能会部署较多的MR,使得部署成本增高;(2)现有工作没有全面地考虑到一些重要因素,如用户带宽需求、MR接入容量等.因此,本文联合考虑网络的覆盖和连通,提出一种基于网络流的MR部署贪心算法NFGreedy,除了考虑降低部署成本、保证网络的覆盖和连通以及满足用户带宽需求,还兼顾到MR接入容量对MR部署的约束.3MR部署问题分析描述本文假设在一个二维的平面上进行MR部署,并在部署区域中预先给定一个或多个网关的位置.MR部署受到电源供给、周边环境、设备放置等因素的限制,并非所有位置都可部署,因此在部署之前要进行选址工作,找出足够多的、可部署的位置.满足用户带宽需求是MR部署的基本要求之一,而需求分布是连续的,需要将其抽象成离散的需求分布,以便于问题求解[20].而MR选址和用户带宽需求离散化是MR部署的前期准备工作,不属于本文的研究范畴.本文在上述准备工作已完成的前提下,研究MR部署问题,从候选位置集中选择最少数量的MR以满足用户带宽需求.结合WMN的结构特征和部署场景的相关信息,本节给出了一种分层的部署场景模型及相关假设,然后利用MILP方法对MR部署问题进行形式化描述.3.1部署场景模型及假设定义1.MR候选位置(MRCandidate,MRC)是指在MR选址阶段确定的可部署位置.定义2.用户需求点(UserDemandNode,UDN)是指用户带宽需求经过离散化后形成的一些点,能够反映部署区域中用户带宽需求分布.每个UDN有相应的带宽需求值,用以反映其周边区域中用户的带宽需求.本节给出了一种分层的部署场景模型,如图2所示.该模型分为骨干层和接入层两个层面,其中骨干层由一个或多个网关和若干MRC构成,而接入层则由UDN构成.节点之间的关系有两种,骨干层节点间的连接关系以及骨干层节点与UDN之间的覆盖关系,相关定义如下.Page4定义3.骨干层节点是指骨干层中的网关或MRC,其中网关是“实”节点,对应于实际环境中已部署的网关;MRC是“虚”节点,尚未确定MR是否在该位置进行部署.定义4.骨干层节点间的连接关系表示节点间可进行直接的无线通信.给定节点的通信范围,该节点与其通信范围内的节点具有连接关系.定义5.骨干层节点与UDN之间的覆盖关系表示骨干层节点可为UDN所对应区域中的用户提供接入服务.给定骨干层节点的覆盖范围,该骨干层节点与其覆盖范围内的UDN具有覆盖关系.针对上述部署模型,本文还作出如下假设.(1)假设骨干层节点的覆盖范围是以该节点为中心的圆形区域,其半径记为RC.(2)假设骨干层节点可提供给用户的接入带宽有限,其接入容量记为Cap.(3)假设骨干层节点的通信范围是以该节点为中心的圆形区域,其半径记为RT.(4)假设骨干层节点间通信的带宽需求不受链路容量的限制,可通过802.11n、MIMO、多射频多信道等技术来满足其带宽需求.(5)假设骨干层节点间多跳通信的路径长度(跳数)有限制,其最大跳数为H.(6)假设每个MR的部署成本大致相同,可用MR数量来反映部署成本.(7)假设UDN的带宽需求为下行带宽需求(从Internet到UDN),可扩展到双向的带宽需求.3.2问题的形式化描述定义6.满足带宽需求的MR部署问题.给定网关、MRC和UDN,在满足所有UDN的带宽需求和保证所有MR到网关的连通的前提下,从MRC集合中选择最少数量的节点作为MR,同时考虑到骨干层节点的接入容量对MR部署的约束.为形式化地描述MR部署问题,本文将使用下列符号:(loc(p)x,loc(p)y);W:骨干层节点集合,集合大小记为m+g,W={w1,w2,…,wm,…,wm+g},其中当i=1,2,…,m时,节点wi是MRC;当i=m+1,m+2,…,m+g时,节点wi是网关;V:MRC集合,集合大小记为m,V={w1,w2,…,wm};VG:网关集合,集合大小记为g,VG={wm+1,wm+2,…,wm+g};U:UDN集合,集合大小记为n,U={u1,u2,…,un};Λ:UDN带宽需求向量,Λ={λ1,λ2,…,λn},其中λi为UDNui的带宽需求值;α:UDN带宽需求总量,α=∑nH:MR到网关路径的最大长度(跳数);loc(p):节点p∈W∪U的位置,即二元组dist(p,q):节点p与q之间的距离,即(loc(p)x-loc(q)x)2+(loc(p)y-loc(q)y)槡犅犆:(m+g)×(m+g)的连接关系矩阵,其中元素bi,j表示骨干层节点wi与wj之间的连接关系,若dist(wi,wj)RT,则bi,j=1;否则bi,j=0;犆狅狏:(m+g)×n的覆盖关系矩阵,其中元素ci,j表示骨干层节点wi与UDNuj之间的覆盖关系,若dist(wi,uj)RC,则ci,j=1;否则ci,j=0.MR部署问题是一个优化问题,其优化目标为最小化MR数量,同时要满足一系列的约束条件,如MR对UDN的覆盖、MR到网关的连通、UDN的带宽需求和骨干层节点的接入容量等.因此,可利用MILP方法对该问题进行形式化描述,建立其数学模型.该模型使用三组决策变量,具体包括MR选择变量集、UDN关联变量集和骨干层路由变量集,分别记为X、Y和Z,其相关定义如下.定义7.MR选择是指从MRC集合中选择节点,在其位置上部署MR.被选择的节点由“虚”节点MRC变为“实”节点MR.定义8.UDN关联是指将UDN关联到与其具有覆盖关系的一个或多个骨干层“实”节点(网关和MR),其流量需求由所关联的节点共同承担.定义9.骨干层路由是指将MR聚合的流量需求通过多跳的MR传递到网关,决定了骨干层“实”节点间通信的带宽需求.根据上述定义,下面给出这三组决策变量的具Page5体构成.MR选择变量集X={x1,x2,…,xm},其中xi的取值为1或0:xi=1表示MRCwi被选作为MR;xi=0表示MRCwi没有被选作为MR.UDN关联变量集Y={yi,j|i∈{1,2,…,m+g}∧j∈{1,2,…,n}},其中yi,j为连续变量,0yi,j1,yi,j表示骨干层节点wi所承担的UDNuj带宽需求的比例,例如yi,j=0.5表示骨干层节点wi承担了UDNuj50%的带宽需求.骨干层路由变量集Z={zki,j|i,j∈{1,2,…,m+g},k∈{1,2,…,m}},其中zki,j的取值为1或0:zki,j=1表示链路(i,j)在节点k到网关的路径中;zki,j=0表示链路(i,j)不在节点k到网关的路径中.基于上面定义的相关符号和决策变量,本文给出满足带宽需求的MR部署问题的形式化描述,即MILP数学模型,如式(1)~(16)所示.优化目标:约束条件:yi,jxi,i∈{1,2,…,m},j∈{1,2,…,n}(2)yi,jci,j,i∈{1,2,…,m+g},j∈{1,2,…,n}∑nj=1zki,jxi,i,k∈{1,2,…,m},j∈{1,2,…,m+g}zki,jxj,j,k∈{1,2,…,m},i∈{1,2,…,m+g}zki,jbi,j,i,j∈{1,2,…,m+g},k∈{1,2,…,m}∑m+gi=1j=1k∈{1,2,…,m},i∈{1,2,…,m}\{k}(11)∑m+gzki,jxk,k∈{1,2,…,m},i∈{1,2,…,m}\{k}∑m+gi=m+1∑m+gj=10yi,j1,i∈{1,2,…,m+g},j∈{1,2,…,n}zki,j∈{0,1},i,j∈{1,2,…,m+g},k∈{1,2,…,m}式(1)是该模型的优化目标,即最小化MR数量.此外,该模型还具有一系列的约束条件.式(2)表明MRC被选择为MR是其能够承担UDN流量需求的前提.式(3)表明UDN在某个MRC的覆盖范围内是其流量需求被该MRC承担的前提.式(4)表明每个UDN的流量需求必须被满足.式(5)表明每个骨干层节点承担的用户流量需求不能超过其接入容量Cap.式(6)~(8)表明链路(i,j)的存在是节点k的流量通过该链路的前提条件,即节点i和j都被选作为MR且两者间存在连接关系.式(9)表明每个MR到达网关的路径长度不超过H.对于任意节点k,若成为MR,则必须能多跳达到某个网关,因此式(10)~(13)给出了“实”节点k存在多跳MR路径到达网关所需满足的条件,其中式(10)表明节点k的流量只通过一条链路流入节点k,不允许通过链路流出;式(11)和(12)表明,若节点k的流量通过一条链路流入某个中间节点,则必从另一条链路流出该节点;式(13)表明节点k的流量必须从一条链路流出某个网关.式(14)~(16)是关于三组决策变量取值的约束条件.MR部署问题是NP-hard问题[14].当节点规模较小时,鉴于上述的MILP数学模型,该问题可利用数学优化软件CPLEX①来求解.可是,随着节点规模的扩大,其解空间急剧增大,由于计算机CPU和内存能力有限,使得该软件无法对此进行求解[9].因此,需要提出一个高效的启发式部署算法来解决MR部署问题.4基于网络流的MR部署贪心算法NFGreedy本文提出一种基于网络流的MR部署贪心算法NFGreedy.该算法采用贪心策略,以迭代的方式从MRC集合中选择节点作为MR.在每次迭代中,算法增量部署一个或多个节点,在保证其与网关连通的前提下,最大化网络可满足的最大用户带宽需①CPLEXhomepage.http://www-01.ibm.com/software/integration/optimization/cplex/Page6求的平均增量.其中当前网络可满足的最大用户带宽需求可利用流网络方法进行求解.4.1流网络的构建定义10.已部署MR.当算法运行在某次迭代时,在前面的多次迭代中选作为MR的节点称为已部署MR,其集合记为VM.定义11.骨干层节点的覆盖集.节点wi∈V∪VG的覆盖集就是在其覆盖范围内的UDN集合,记为Cset(wi),即Cset(wi)={uj|ci,j=1,uj∈U},其中ci,j为覆盖关系矩阵犆狅狏中的元素.定义12.已覆盖UDN.当算法运行在某次迭代时,被已部署MR或网关覆盖的UDN称为已覆盖UDN,其集合记为UC,即∪wi∈VM∪VG定义13.流网络.给定网关集合VG、已部署MR集合VM、已覆盖UDN集合UC、覆盖关系矩阵犆狅狏、UDN带宽需求向量Λ以及骨干层节点的接入容量Cap,可构建一个单源点单汇点的流网络,记为G=(N,A,C),其中N为节点集合,A为弧集合,C为各弧容量的集合.节点集合N=VM∪VG∪UC∪{s,t},其中s、t分别为虚拟的源点和汇点.弧及其容量分别为:(1)弧(s,wi)∈A,wi∈VM∪VG;其容量用节点wi的接入容量来表示,即C(s,wi)=Cap.(2)弧(wi,uj)∈A,wi∈VM∪VG,uj∈UC且ci,j=1;其容量无约束,即C(wi,uj)=.(3)弧(uj,t)∈A,uj∈UC;其容量用UDNuj的用户带宽需求值来表示,即C(uj,t)=λj.下面通过一个实例来对流网络的构建做进一步说明.给定骨干层节点集W={w1,w2,…,w7}和UDN集合U={u1,u2,…,u9},其中已部署MR集合VM={w2,w4},网关集合VG={w7},“实”节点w2、w4和w7之间连通,已覆盖UDN集合UC={u2,u3,…,u9}.根据上述条件,构建的流网络如图3所示.图中的实线圆点为已部署MR或网关,是该流网络中的节点,实线边为流网络中的弧,每条实线边上的标识为弧的容量;虚线圆点表示未被选作为MR的MRC及未覆盖的UDN,虚线边表示这些MRC与UDN之间的覆盖关系,但是虚线圆点与虚线边不在该流网络中.具体来说,该流网络的节点集为{s,t}∪{w2,w4,w7}∪UC,节点间弧及其容量为源点与已部署MR及网关之间都存在弧,其容量为Cap;已部署MR及网关与已覆盖UDN之间的弧受到覆盖关系的约束,其容量为;每个已覆盖UDN与汇点之间都存在弧,其容量为该UDN的带宽需求值.定义14.网络可满足的最大用户带宽需求.给定上述流网络,网络可满足的最大用户带宽需求可用该流网络的最大流来表示,记为f(VG,VM,UC,犆狅狏,Λ,Cap).4.2算法描述NFGreedy算法的主要目的是从MRC集合中选择出最少数量的节点作为MR来满足用户带宽需求,并保证骨干层拓扑中每个MR到网关的连通.该算法按照贪心策略,以迭代的方式进行MR选择,直到网络能够满足所有UDN的带宽需求.每次迭代首先计算可部署MRC的权重值;然后从其中选择权重值最大的节点,使其扩展路径中的所有节点成为MR;最后对可部署MRC集合及其扩展路径进行更新,除去一些不再符合部署条件的MRC.下面将给出骨干层拓扑、可部署MRC及其扩展路径、权重的定义.定义15.骨干层拓扑.本文用无向图G(V∪VG,E)来表示骨干层拓扑,其中V∪VG为节点集,E为边集.对于任意wi,wj∈V∪VG,若dist(wi,wj)RT,则(wi,wj)∈E;否则(wi,wj)E.定义16.可部署MRC.当算法运行在某次迭代时,可部署MRC是指当前满足部署条件的MRC,其集合记为VS,VSV.节点wi为可部署MRC,需满足如下部署条件:(1)该节点不属于已部署MR集合,即wiVM;(2)当节点wi成为MR后,网络可满足的最大用户带宽需求必须有增量,即f(VG,VM∪{wi},UC∪Cset(wi),犆狅狏,Λ,Cap)>f(VG,VM,UC,犆狅狏,Λ,Cap).Page7定义17.可部署MRC的扩展路径.在骨干层拓扑G(V∪VG,E)中,节点wi∈VS的扩展路径是指该节点到节点集VM∪VG的最短路径,且满足到网关路径长度不超过H.该扩展路径的节点集(不包括VM∪VG中的节点),记为P(wi);其覆盖集为路径节点集中所有节点的覆盖集的并集,记为CP(wi),即CP(wi)=∪v∈P(wi)Cset(v).定义18.可部署MRC的权重.对于节点wi∈VS,其权重反映的是当节点集P(wi)中的节点成为MR后,网络可满足的最大用户带宽需求的平均增量.因此,节点wi的权重计算如下:weight(wi)=(f(VG,VM∪P(wi),UC∪CP(wi),犆狅狏,Λ,Cap)-f(VG,VM,UC,犆狅狏,Λ,Cap))/|P(wi)|.NFGreedy的伪代码详见算法1.算法1.基于流网络的MR部署贪心算法输入:网关集合VG;MRC集合V;UDN集合U;骨干(NFGreedy).输出:MR集合VM1.犆狅狏←{ci,j|i∈{1,2,…,|V|+|VG|},j∈{1,2,…,|U|}};/根据VG、V、U和RC,构建覆盖关系矩阵/2.InitializeG(V∪VG,E);/根据VG、V和RT,构建3.VM←,VS←V,UC←Cset(VG);/初始化已部署4.foreachv∈VS,initializeP(v);/计算图G中节点5.α←∑U6.flow←f(VG,VM,UC,犆狅狏,Λ,Cap);/初始化当7.whileflow<α8.ifVS=thenbreak;9.max_w←0,mr←null,max_f←0;10.foreachv∈VS11.cur_f←f(VG,VM∪P(v),UC∪CP(v),犆狅狏,Λ,12.weight(v)←(cur_f-flow)/|P(v)|;13.ifweight(v)>max_wthenmax_w←weight(v),14.ifweight(v)=0thenVS←VS\P(v);15.endfor16.ifmr≠nullthen17.VM←VM∪P(mr),VS←VS\P(mr),flow←max_f;18.foreachw∈P(mr),UC←UC∪Cset(w);19.foreachv∈VS,updateP(v);/重新计算扩展20.endif21.endwhile22.ifflow=αthenreturnVM;/算法执行成功,输出23.elsereturnnull;24.endif4.3算法分析(1)算法近似比分析定理1.给定网络中用户带宽总需求α和MR到网关最大路径长度H,NFGreedy算法的近似比为H·ln(α).也就是说,如果MR部署问题的最优解需要部署M个MR,则NFGreedy算法最多部署M·H·ln(α)个MR.证明.不妨假设问题的最优解部署M个MR,其集合记为OPT.当NFGreedy算法运行在第i+1次迭代时,在前i次迭代中被选择的MR集合记为S,已满足的带宽需求为β.因为集合OPT能够满足网络的覆盖、连通和带宽需求,同理S∪OPT也能满足网络的覆盖、连通和带宽需求,也就是说剩余的带宽需求α-β一定能被集合OPT\S所满足.所以存在节点j∈OPT\S,使得S∪{j}至少能满足α+(α-β)/M单位的带宽需求,也就是说S∪P(j)至少能满足α+(α-β)/M单位的带宽需求.此时剩余带宽最多为(α-β)·(1-1/M),可以得出一下结论:每次迭代的剩余带宽的降低比例至少为(1-1/M).照此推算,算法经过M·ln(α)次迭代,剩余带宽最多可为α·(1-1/M)M·ln(α),且可证明小于1,证明过程如下:由泰勒级数可知,ln(1-1/M)<-1/M;两边同乘以M·ln(α)可得,M·ln(α)·ln(1-1/M)<-ln(α);继而可以得到,ln(1-1/M)M·ln(α)<ln(1/α);两边同时去掉对数,即可得到结论:α·(1-1/M)ln(α)·M<1.因此,算法最多执行M·ln(α)次迭代,又由于路径长度H的限制,每个节点的扩展路径中节点不超过H,因此每次迭代新增节点数量也不超过H.综上所述,NFGreedy算法最多部署M·H·ln(α)个MR.(2)算法时间复杂度分析本文利用基本的Ford-Fulkerson算法[22]来求解最大流问题.文中骨干层节点数记为m+g(m>g),UDN数量记为n.根据上述的流网络定义,该流网络中的边数不超过(m+g)+(m+g)·n+n,即mn+m+n+ng+g;此外,最大流的数值不会超过Cap·(m+g),假设常数Cap为整数,若不为整数,Page8可以通过适当的比例转换使之成为整数.因此,最大流问题求解的时间复杂度为O((mn+m+n+ng+g)·Cap·(m+g)),即O(m2n).在NFGreedy算法的初始化阶段,需要构建覆盖关系矩阵,时间复杂度为O(mn);需要构建反映骨干层节点间连接关系的无向图,时间复杂度为O(m2);还需要初始化MRC的扩展路径,利用Dijkstra算法[22]实现,时间复杂度为O(m2).由于VS初始化为V,每次循环中至少要除去一个节点,所以算法的主循环最多执行m次.在每次迭代中,最大流问题求解最多执行m次,时间复杂度为O(m3n);MRC扩展路径的更新,其时间复杂度为O(m2).因此,该算法的时间复杂度为O(mn+m2+m2+m·(m3n+m2)),即O(m4n).5实验分析本节通过仿真实验对算法的有效性和优势进行验证.首先描述实验环境;然后给出与NFGreedy算法进行对比的部署算法;最后通过多组实验,对比与分析算法在不同参数影响下的性能.5.1实验设置目前,很多研究机构建立了无线Mesh网络的试验床,其中比较著名的有麻省理工学院(MIT)搭建的Roofnet实验网络平台.Roofnet由30~50个配备802.11全向天线的节点设备组成,为用户提供Internet的接入服务.已有一些工作[23-24]对Roofnet的性能进行了测量和分析,例如,无线信号的覆盖范围可达100多米;多跳无线传输的路径不能超过4跳,否则吞吐量急剧下降,延迟显著提高.因此,本文以此为依据来设定相关的算法参数.此外,由于现有的骨干层节点(MR或网关)通常配备两个射频接口(例如ARUBAAP-105),分别基于IEEE802.11a技术(用于骨干层节点间的通信)和IEEE802.11b/g技术(用于用户接入),则可通过天线选择(全向天线或定向天线)、功率配置等方法来分别调节骨干层节点的覆盖范围和通信范围.基于上述分析,本文可设定骨干层节点的覆盖范围半径RC为150m;为了增强骨干层节点的连通性,本文使骨干层节点的通信范围半径RT>RC,设定RT=250m;同时,本文还设定MR到网关路径的最大长度H为4跳,骨干层节点的接入容量Cap为54Mbps.而其它参数(场景大小、MRC数量、网关数量、UDN数量和UDN带宽需求)则需在不同的实验中有针对性地进行取值.在确定网络参数之后,可生成部署场景.本文根据场景大小、MRC数量m、网关数量g和UDN数量n来生成部署场景.首先随机生成m+g个骨干层节点,需保证其连通性,同时满足任意两个节点之间距离大于0.2×RT;然后利用k-均值算法对这些节点进行聚类,生成g个类,将每个类的中心节点作为网关,剩余的m个节点为MRC;最后在部署区域内随机生成n个UDN位置.本文对于相同的网络参数配置,生成20个部署场景,将算法运行的平均结果作为实验最终结果.此外,对于本文的仿真实验,其硬件环境是IntelCore2Quad2.33GHz,4GBDDR,4MBL2-Cache.操作系统为WindowsXPProfessional,开发与仿真环境为Matlab7.8.0.347(R2009a).5.2算法性能对比本文比较NFGreedy算法与两种现有部署算法的性能差异,这两种算法分别是基于MILP的算法和ILSearch算法:(1)基于MILP的算法.该算法根据本文第3节建立的MILP数学模型,利用数学优化软件CPLEX进行求解.(2)ILSearch算法[14].该算法是启发式MR部署的代表性算法,分别解决覆盖和连通两个子问题.覆盖问题类似于最小覆盖集问题,部署最少数量的MR以完成对UDN的覆盖;在覆盖问题已解决的基础上,连通问题则是部署最少数量的MR使得所有MR存在到网关的多跳连接.下面,本文将分别在不同场景规模、不同MRC数量、不同网关数量、不同UDN数量和不同UDN带宽需求的情况下对上述算法进行性能对比,其结果如下.(1)场景规模的影响本组实验比较NFGreedy算法与基于MILP的算法、ILSearch算法在不同场景规模下的性能,即所部署的MR数量.场景规模则包括场景大小(m2)、MRC数量、网关数量和UND数量4个因素.实验设定UDN的带宽需求值为10Mbps,采用8种场景规模,即(200m×200m,10,1,15)、(300m×300m,20,1,25)、(400m×400m,40,2,45)、(600m×600m,80,3,80)、(800m×800m,150,4,110)、(1000m×1000m,200,8,140)、(1500m×1500m,300,12,240)和(2000m×2000m,450,16,360),实验结果如表1所示.从表中可以看出,随着场景规模的扩大,所需部署的MR数量不断增加.同时也可以看出,Page9基于MILP的算法所部署的MR数量最少,但其只能对小规模的部署场景进行求解,对于较大规模的部署场景则无能为力;NFGreedy算法所部署的MR数量与基于MILP的算法在小规模部署场景中场景规模(场景大小、MRC、网关、UDN)基于MILP的算法(MR数量)NFGreedy算法(MR数量)ILSearch算法(MR数量)表1场景规模对算法性能的影响(1000m×1000m,200,8,140)(1500m×1500m,300,12,240)(2000m×2000m,450,16,360)(2)MRC数量的影响本组实验设定:场景大小为1000m×1000m;网关数量为8;UDN数量为140;UDN的带宽需求值为10Mbps;MRC数量分别为80、100、120、140、160、180、200、220和240.该实验比较NFGreedy算法与ILSearch算法在不同MRC数量情况下所部署的MR数量,其结果如图4所示.从图中可以看出,这两种算法的曲线趋势较为一致,随着MRC数量的增加,MR数量在逐渐减少,但减少趋势逐渐变缓.这说明增加MRC数量,使得算法在选择MR时有更多的选择,从而有利于优化MR数量,但MRC数量进一步增加后,MR数量减少不明显,但求解的复杂度大大增加,因此在MRC数量和求解复杂度之间存在一个权衡.从图中还可以看出,在不同MRC数量情况下,NFGreedy算法都明显优于ILSearch算法.(3)网关数量的影响本组实验设定:场景大小为1000m×1000m;MRC数量为200;UDN数量为140;UDN的带宽需非常接近(从前四个部署场景的数据可以看出),验证了其算法的有效性;在较大规模部署场景中,NFGreedy算法与ILSearch算法相比有着明显的优势,大大减少了所需部署的MR数量.求值为10Mbps;网关数量分别为4、5、6、7、8、9、10、11和12.该实验比较NFGreedy算法与ILSearch算法在不同网关数量情况下所部署的MR数量,其结果如图5所示.从图中可以看出,这两种算法的曲线趋势较为一致,随着网关数量的增加,算法所部署的MR数量在不断减少.其原因主要有两方面:一方面是网关也具有接入功能,能够承担一些用户带宽需求;另一方面,网络中网关数量的增加,使得一些MR可以就近连接到网关,可以减少一些为保证连通而部署的MR.从图中还可以看出,在不同网关数量情况下,NFGreedy算法所需部署的MR数量都明显少于ILSearch算法.(4)UDN数量的影响本组实验设定:场景大小为1000m×1000m;MRC数量为200;网关数量为8;UDN带宽总需求为1500Mbps,在UDN间均匀分配;UDN的数量分别为100、110、120、130、140、150、160、170和180.该实验比较NFGreedy算法与ILSearch算法在不同UDN数量情况下所部署的MR数量,其结果如Page10图6所示.从图中可以看出,这两种算法的曲线趋势较为一致,随着UDN数量的增加(带宽需求离散化地粒度变细),MR数量在逐渐增加(更加能反映实际需求),但当UDN数量增至140后,MR数量几乎保持不变.因此,针对该场景的部署,UDN数量应达到140,否则会由于带宽需求离散化的粒度过粗导致部署结果可能不满足实际需求.从图中还可以看出,在不同UDN数量情况下,NFGreedy算法在MR数量方面与与ILSearch算法相比有着明显的优势.(5)UDN带宽需求的影响本组实验设定:场景大小为1000m×1000m;MRC数量为200;网关数量为8;UDN的数量分别为140;UDN带宽需求值分别为6Mbps、7Mbps、8Mbps、9Mbps、10Mbps、11Mbps、12Mbps、13Mbps和14Mbps.该实验比较NFGreedy算法与ILSearch算法在不同UDN带宽需求情况下所部署的MR数量,其结果如图7所示.从图中可以看出,这两种算法的曲线趋势较为一致,随着UDN带宽需求的增加,MR数量在逐渐增加.是因为MR的接入带宽受其容量Cap的限制,需要部署更多的MR以满足增加的带宽需求.从图中还可以看出,在不同UDN带宽需求情况下,NFGreedy算法在MR数量方面与ILSearch算法相比有着明显的优势.综上所述,针对相同部署场景,基于MILP的算法所部署的MR数量最少,但只能适用于规模较小的WMN,而NFGreedy和ILSearch这两种启发式部署算法可应用于大规模WMN中的MR部署.同时,NFGreedy算法所部署的MR数量与基于MILP的算法较为接近,明显优于ILSearch算法.6总结与展望本文研究了WMN拓扑规划中的MR部署问题,在满足网络覆盖与连通要求、用户带宽需求的前提下,在MR接入容量的约束下,部署最少数量的MR以节约部署成本.首先,提出一种分层的部署场景模型;然后,针对满足带宽需求的MR部署问题,建立基于MILP的数学模型;最后,提出一种基于网络流的MR部署贪心算法NFGreedy.实验结果表明与基于MILP的算法相比,虽然NFGreedy算法所部署MR的数量略多,但能解决其只能适用于较小规模WMN的局限;而与启发式的ILSearch算法相比,大大减少了所部署MR的数量.Mesh骨干网拓扑规划研究是当前WMN领域的重要研究方向之一,合理规划MR和网关的位置是一个值得深入研究的问题.本文是在假定网关已部署的前提下研究如何部署MR,而网关位置与MR位置是相互影响、密切关联的,因此将两者联合起来考虑更具有实际意义,但问题会更加的复杂,是本文的下一步工作.另外,MR部署需要考虑到Mesh骨干网的可靠性,如何部署MR使得每个MR都有多条节点不相关路径到达网关也是一个有待研究的问题.
