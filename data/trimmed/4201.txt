Page1基于效用最大的多小区异构网络调度和功率控制方法董全李建东赵林靖闫继垒陈睿(西安电子科技大学综合业务网理论及关键技术国家重点实验室西安710071)摘要为了在任何时间任何地点给移动用户提供无缝的网络接入和可靠的QoS保证,网络融合成为当前研究的热点.为了使异构网络在接纳用户时获得最大的效用,该文提出了一种多小区异构网络接纳方法.该方法分配给用户合适的网络和传输功率,以最大化全网的效用.文中对效用联合的优化问题进行分步求解,降低了模型求解的复杂度,进一步,文中对不同制式的网络做了不同的处理:对于时分系统,文中方法采用联合匈牙利方法(JointHun-garianmethod,JOHG)获得基站与用户的关联和基站对用户的传输功率;对于码分系统,采用机会接入和多用户的注水定理方法(OpportunisticSchedulingMultipleWaterFilling,OSMWF)获得基站子信道与用户的关联和子信道的发送功率.仿真结果表明,与现有的几种接入方式相比,该文所提的方法能获得最大的接入效用.关键词异构网络;网络选择;效用;多小区1引言下一代高速无线网络期望能支持各种模式的多媒体业务,并根据网络的外部环境(业务的模式、业务的类型、业务量的大小、用户偏好等)实现认知的能力,其基本特征是能够根据认知结果,通过自主的决策来调整和重构网络,以适应环境的变化.因此,针对资源共享、环境适变和异构网络融合等需求,建立自主管理与控制模型,实现资源的智能、动态、优化管理,是认知无线网络必须解决的关键问题.目前基于多网络融合的资源管理方法,有从同频谱的异构网络去考虑功率的分配的,也有基于单个用户服务质量去接入网络,但很少有文献是根据异构网络的类型,从全网的角度出发去考虑网络的整体性能的.文献[1]从蜂窝网与femtocell共存的干扰出发,研究了两种网络的功率分配,一定程度上提高了网络的吞吐量.文献[2]给出了一种负载均衡的动态门限,用户基于多目标的用户需求选择网络.该方法在均衡网络方面起了一定的作用,但并没有提到全网络的吞吐量.文献[3]从业务的角度,对用户的接入实行接纳控制,一定程度上保证了一些用户的QoS,也没有从全网的角度去考虑.文献[4]给出了基于模糊逻辑的网络选择方法,是一种针对单个用户而非全网的接入方法.文献[5]从异构网络全网的角度去最大化用户的归一化速率,文中的方法在最大化归一化速率中得到了较好的性能,但在最大化速率上性能一般.文献[6]从异构网络全网的角度去优化网络的性能,但对于不同的网络,所使用的性能指标却不同,因而在实际应用中很难有统一的性能指标去评价全网络的性能.文献[7]给出了一种“AlwaysBest”方法,能够使用户在多网覆盖的环境下选择较好的网络,但文中没有给出对于较复杂的网络模型如WCDMA-WLAN并存模式下用户功率控制的方法.本文针对多网络多小区的环境,从全网的角度出发,通过建立网络的效用函数,以最大化整个网络的效用.文中对不同制式的蜂窝小区分别做了讨论,对于时分系统,采用联合匈牙利方法(JointHun-garianmethod,JOHG)获得用户的接入和基站的发送功率,对于码分系统,采用机会接入和多用户的注水定理方法(OpportunisticSchedulingMultipleWaterFilling,OSMWF)获得基站与用户的关联和子信道功率的分配.本文较前人所做的工作,主要有以下创新:(1)全新的建模,对3G蜂窝网和WLAN共存的异构网络从网络效用角度建模,并给出了模型实现的可行性方案;(2)分层的解法,首先进行用户关联然后进行功率分配,给出了原NP-hard问题的可行性求解方法;(3)基于效用的多网络功率分配方法,在受到其它网络干扰的情况下,采用最大化网络效用的迭代注水定理方法进行功率分配.2场景介绍文中考虑3G蜂窝网与无线局域网(WLAN),3G蜂窝网包括两种网络类型:TD-SCDMA和WCDMA,本文将对两种不同制式的网络与WLAN网络组成的异构网络分别做出讨论.假设上层网络实时监控信道状态的全部信息(网络架构参见4.3节),用户接入后按照时隙进行传输,无线用户可以接入异构网络的任何一个网络中,并且可以接入该网络中的任何一个小区(为统一称号,WLAN网络亦称作小区,WLAN网络的接入点亦称作基站,WLAN信道与蜂窝信道统称子信道)中进行业务的传输,对于网络传输的数据,由于不同的业务类型在建模时会有不同的效用模型,文中只考虑数据业务.用户进行接入,并且总是有数据在发送.有M个蜂窝小区,每个小区有N个子信道,蜂窝上均匀覆盖着W个WLAN网络,每个WLAN网络有1个信道,有S个用户均匀分布在这两层网络上,每个用户只有一个发送天线和接收天线,假设每个子信道每时隙只能接纳一个用户.令K∈M∪W为接入网络的候选用户集,从长时间信号强度来看,每个用户只关联一个基站,并且可以接入到任何一种网络中去,由于两种网络所使用的频段不同,因而,不同的网络之间不考虑干扰.网络的示意图如图1所示.Page33问题建模3.1蜂窝网虑邻小区同一子信道的干扰,接收信号为用户s连接到第m个小区的第n个子信道,考r[n]m,s为第m个小区第n个子信道上第s个用户的传H[n]输函数,x[n]收的有用信号,第2项为邻小区的干扰信号,最后一项为噪声,因而,用户的信噪比可以表示为SINR[n]其中,p[n](P[n]率,利用香农公式,可得用户获得的速率为R[n]B表示蜂窝网的系统带宽,N表示子信道的个数.3.2WLANWLAN网络有11个信道,常用的3个互不重叠的信道,对于WLAN具体的信道的分配方法,可参看文献[8]等,本文不做考虑,由于WLAN覆盖半径较小,在同一地区的WLAN如果不是过密的话,WLAN之间可以通过使用不同的信道减轻相互之间的干扰,本文忽略WLAN之间的干扰,因而,用户速率表示为gw,s表示获得的传输增益,pw,s为用户s传输时WLAN的发送功率,Bw为传输带宽,β为WLAN网络与蜂窝网的差异所引来的归一化效用因子.3.3效用模型函数:用户进行网络选择,可以表示为如下的分配其中:R[π]U(·)表示在吞吐量R的效用函数,s表示用户的个数,p-和p-分别为系统的最小和最大发送功率.由上文对蜂窝网和WLAN网络的分析,用户被选入其中的一个网络接入.定义I[π]其中,π是用户s选择接入蜂窝或者WLAN时对应接入的子信道.I[n]m,s=Iw,s=1,第s个用户接入了WLAN网络3.4效用函数文中考虑的3G网络与WLAN网络,业务均按时隙进行接入,没有考虑网络MAC层的具体结构,因而,文中对两种网络对用户接入的差异只考虑覆盖的不同、速率的差异以及功率大小之间的差异.从时隙分析的角度,两种网络的差异是可以忽略的.因此,对3.3节的效用问题进行建模,也是忽略网络之间的差异性而不做区别的.对于数据业务,文中采用比例公平效用函数,比例公平效用函数是用于数据业务建模的较为常用的效用模型[9-10],4问题的求解对于3.3节所提出的问题,涉及网络对用户的调度和功率分配,是一个NP-hard模型,问题的求解很难得到理论值,本文通过分步的方法来求解,获得原问题的近似最优解.首先确定用户与网络的关联,然后再实现最优的功率.对于上述问题,不同的蜂窝系统是有区别的,例如对于时分系统的TD-SCDMA系统采用单信道,用户接入后只会与其它小区的用户发生干扰,而码分系统的WCDMA网络,用户除了与其它小区的相应信道发生干扰外,同一基站下不同子信道的用户还需进行功率的协作,才能得到最大的网络效用.因而,对于上述问题的求解,文中针对不同制式的网络,分别进行分析.4.1TD-SCDMA-WLAN模型对于时分系统,小区的基站传输每时隙只传一Page4路用户,因而,对于上述分配问题,可以写为max∑m∈M其中:上述最优化问题分为两部分,前一部分为蜂窝网的效用,后一部分为WLAN网络的效用,看似两个孤立的部分毫不关联,其实是由用户的接入而串联起来的.文中采用JOHG方法进行求解以最大化网络的效用,首先求解用户与基站的关联,基本方法为先给定一个初始分配的功率值,获得用户与基站的关联,然后再进行功率控制.4.1.1关联在给定初始功率和信道的条件下,网络中心容易得到用户与基站的效用关联矩阵犳(S,M+W),为S行和M+W列矩阵,元素分别对应相应用户和基站的信道所能产生的用户的效用,对于犳(S,M+W)矩阵使用匈牙利方法进行关联求解,得到的是使全局最优的最佳关联.文中采用二分图最大匹配的经典匈牙利算法,该算法可以保证Ο((M+W)|S|)的复杂度.按照上述方法,得到用户与基站的最佳关联,关联之后,问题变为向每个基站分配功率,使全网的效用最大.4.1.2单信道小区功率控制(1)TD-SCDMA网络对于用户所获得的速率R(t),取决于信道的容量C(·),对于信道容量C(·),可做如下近似:因为当x≈0时,log2(1+x)≈x/log2,在信噪比不是太大的情况下,此模型非常接近香农容量,尤其对于宽带系统[11].定理1.二进制功率控制.当作近似C(x)=x/log2时,在效用U(R(t))=γslogR(t),γs>0情况下,网络获得最大效用时,p∈{p-,p-}.二进制功率控制在多小区的功率控制中被证明是非常有效的方法,Cho等人[10]和Gjendemsj等人[12]给出了二进制功率控制方法的证明,说明了二进制功率控制的有效性.(2)WLAN网络由于WLAN网络之间使用的是不同信道,一个WLAN的功率大小不会干扰到相邻WLAN网络,因而,WLAN网络之间的功率分配问题是独立的.由式(4)可得,网络的吞吐量与网络所使用的发射功率成正比,所以要使所得到的吞吐量最大,WLAN应使用其最大发射功率.4.2WCDMA-WLAN模型当蜂窝网子信道数N不等于1时,网络模型为WCDMA网络,WCDMA系统下,用户除了与邻小区相应信道发生干扰外,还需要与同一基站不同子信道的用户进行功率的协作,才能得到最大的网络效用.因而,对于上述问题,可表示为如下的分配函数:max∑m∈M∑n∈N其中:R[n]对于多信道基站的WCDMA网络,基站的多个信道之间的功率分配也成为主要问题,文中采用OSMWF方法获得近似最优解:首先进行基站与用户的关联,然后再为每个子信道分配一定的功率.4.2.1关联对于TD-SCDMA制式的网络,利用匈牙利方法获得了较好的用户与基站关联,但当蜂窝为WCDMA制式时,用户选入了蜂窝的同时,还必须选择相应的子信道接入,因而,用户与基站的关联问题变得更加复杂,其精确解的求解较为复杂,目前为止,还没有较好的方法获得其精确解,因而,对于基站与用户的关联,文中采用一种近似的解法获得.(1)具体方法用户在每个网络的每个子信道都有一个效用的Page5映射值,构成映射集犳(S,M+W,π),先在基站中选择最大接入的蜂窝网子信道或者WLAN网络,k(m,w)=argmax[U(R[π]取出接入效用最大的一个映射值后用零替换,然后将用户集中关于第s个用户和第π个信道的其它映射值用零替换,同理,为下一个用户进行分配,直到映射集的值全部为零为止,从而得到用户接入的网络及其相应的子信道.选择一个用户,其复杂度为Ο((MN+W)|S|).(2)有效性分析对于4.2.1节中所提到的方法,获得的是近似最优解.因为现有的方法很难获得最优值,以下说明用上述方法取得近似最优解的有效性.对于用户与信道之间的映射集,当映射集是二维矩阵和三维方阵时,上述方法求得近似最优的本质是相同的.由于三维映射集的最优值难以获得,而二维映射集的最优值可以用匈牙利方法求解,因此,通过该方法在二维映射获得的解与二维映射的最优解比较,可以判断上述方法获得的近似最优解的有效性.而近似最优解与匈牙利方法求解的最优值非常接近,从而说明该方法的有效性.用户与基站获得关联后,问题变为给每个子信道分配功率,使得网络获得的效用最大.4.2.2多信道小区功率控制γk(m,n)∑n∈N(1)WCDMA由于不考虑两种网络之间的干扰,当用户接入蜂窝时,通过功率控制得到最大化网络效用,可以得到如下的优化函数:max∑m∈Ms.t.∑n∈Np[n]构建拉格朗日效用函数,如式(26)所示.利用KKT条件,可以得到如下的关系式:max∑m∈Mγk(m,n)∑n∈Nλk(m,n)p--∑n∈Np[n]()m∑m∈Mm0,m=1,…,Ms.t.p[n]m0,m=1,…,Mp[n]m+∑j≠kp[n]log21+P[n]烄烆其中:m=∑j≠mt[n]∑l≠jlog21+P[n]由式(18),当信噪比不是很大时,式(27)中的log部分可以作如下简化:式(27)变为p[n]δ2+∑j≠mP[n]m表示第m个小区的第n个子信道与其它小区的t[n]干扰,这也是多用户的迭代注水定理方法与传统注水定理方法相比多出来的一项.其它用户的干扰,记为I[n]m式(27)整理得如下:m|2+∑j≠k|p[n](λmln2+t[n]固定t[n]m去更新t[n]p[n]到p[n](·)+表示的是max(0,·).由于基站的总功率Pm是受限的且t[n]m,通过对式(27)配平方,将p[n]m,去求解λm和p[n]Page6求解出λm,λm是p[n]出,然后就可以得到p[n]到,再考虑更新后的t[n]目标函数(25)增大或保持不变,因而,该算法至少是局部收敛的.(2)WLAN网络由于WLAN网络之间使用的是不同信道,一个WLAN的功率大小不会干扰到相邻WLAN网络,因而,WLAN网络之间的功率分配问题是独立的.与4.1.2节相似,要使得所得到的吞吐量最大,WLAN应使用其最大发射功率.对于WCDMA与WLAN共存的异构网络,关联与功率控制的联合方法流程如算法1所示,OSMWF方法的最大复杂度为O(LMN(|S|+log2N)+|S|W).算法1.OSMWF方法.1.初始化p[n]2.循环3.按式(24)选取最大的网络接入4.IF用户被接入WCDMAm,k(m,n)m,k(m,n)4.3可实施性说明在4.1节和4.2节中,给出了不同制式网络建模的求解方法,在这一节中介绍文中所提的方法在具体网络中的实现方法.现有技术中,能够对异构网资源进行管理的系统是由IEEE1900.4工作组提出的,参见IEEE1900.4标准.盛敏[13]基于1900.4的框架下在中又提出了新的网络架构,网络架构如图2所示,该管理系统包含3层管理实体,第1层是核心网级的NRM(NetworkReconfigurationManager),第2层是接5.ELSE用户被接入WLAN获得最大化效用(3)简化由式(33),基站在给用户分配功率时,需要子信道与该用户的传输增益,也需要其它用户及其它子信道的传输增益信息,计算复杂度较高,此外网络控制中心还需要传输大量的信令,开销较大.由式(33)可以看出,只有相同的子信道在接入的过程中会带来相互干扰,在实际的网络接纳控制中,当业务量不是太大的情况下,相同子信道之间的干扰变得较为稀疏,为减小开销,将这部分干扰忽略,并只保留主要项,所以,将式(33)做简化处理为式(35),子信道在给用户分配功率时,只需要子信道与该用户间的传输增益即可,这种简化处理会损失部分性能,但会大大简化开销,是符合实际的网络接纳控制的.+4γk(m,n)(δ2+I[n]烌2(λmln2+t[n]烎2烌2烎2烌+烎2入网级的RAN(RadioAccessNetwork)级网络重构管理器RNRM(RadioNRM),第3层是终端级的TRM(TerminalReconfigurationManager).RNRM对终端信息和网络信息进行收集和处理,NRM利用RNRM收集的网络信息,实现用户的接纳管理;TRM根据资源管理策略对终端的接入进行管理.RNRM通过分组无线服务GPRS网络与网络重构管理器NRM进行信息交互;RNRM通过终端所在网络的数据传输信道与TRM进行信息交互;NRM通过通用分组无线服务GPRS广播信Page7道,将信息传输给终端.通过上述网络的协作与交互,所实现的接纳管理过程如下:(1)终端获取自身的状态信息,如发送的数据类型等,TRM通过无线接入网RAN为其分配的数据传输信道,将信息传输给RNRM.(2)每个无线接入网RAN中都存在一个管理中心MC(ManagerCentre),如3G蜂窝网中的基站BS及无线局域网WLAN中的接入点AP,管理中心MC能够对本网无线接入网RAN的信道状态信息进行感知,通过管理中心MC内部的感知功能,RNRM得到本RAN的信道状态信息.(3)通过通用无线服务GPRS网络,RNRM将本无线接入网RAN的相关信息告知NRM,NRM对各无线接入网RAN的信息进行收集并整合,当存在多个相互重叠的复合无线网时,NRM间需要通过GPRS网络交互彼此获得的RAN的用户信息,最终得出适用于本网内不同终端的接纳策略,通过GPRS广播信道将接纳策略传给TRM.纳策略对相应资源进行请求接入.5仿真(4)终端重构管理器TRM根据资源管理的接在仿真中,本文所提出的方法与其它接入方法做了比较.为体现本文方法的鲁棒性,分别比较了效用随用户数变化和随WLAN数目变化的情况.仿真场景为多小区的异构网络,蜂窝网采用4层的37小区模型,TD-SCDMA采用单载波,WCDMA采用扩频码,提供的子信道数目为16个,WLAN网络均匀分布在蜂窝小区群中,在5.1节的仿真中,WLAN的数目为50个,在5.2节的仿真中,鉴于单信道与多信道蜂窝的接纳能力不同,仿真中的用户数分别为150和250个用户,用户随机地分布在这两层网络之上.效用函数中,各用户的优先级设为相同,γs取为1,β取0.8,其它仿真参数设置如下:(1)WLAN.最大发射功率20dBm,带宽22MHz,损耗模型为L(dw,s)=L(d0)+10ωlog10(dw,s/d0)+∑aizi+εw,s,其中,dw,s为第k个用户到第w个WLAN网络的传输距离,d0为近地参考距离,这里取值为100m;L(d0)为参考距离处地路径损耗,ω为路径损耗指数,表明某个特定环境下的路径损耗特性,这里取2.6;εw,s服从均值为0方差为4的高斯分布,∑aizi为墙壁等隔离物存在附加的路径损耗[14].(2)蜂窝网.最大发射功率43dBm,带宽5MHz,噪声功率-100dBm,传输增益为hm,s(t)=min{1,εm,s(t)·Γ(dm,s)},其中εm,s(t)服从均值为0方差为4的对数正态衰落,Γ(dm,s)=-130-35log10(dm,s),dm,s为第m个基站到第s个用户到的距离.在单信道蜂窝构成的异构网中,仿真和文献[7]的方法、模糊逻辑方法和随机网络选择方法进行了比较.在多信道蜂窝构成的异构网络中,仿真与较为常见的模糊逻辑方法和随机网络选择方法进行了比较.对于模糊逻辑的仿真,主要参考了文献[2,5]等,用户根据自身的需求,如接入网络的速率、功耗、安全性、用户偏好等进行业务的接入,仿真中,将网络安全性与用户偏好作相同的处理,功耗的大小在文中不作具体研究,可参考相应文献[15],所以,功耗的权值在网络仿真中忽略不计,由于全文主要围绕效用进行分析,因而,用户主要根据接入效用的大小;假设用户为保证数据在同一种网络中传输的连续性,由于WLAN覆盖的随机性,所以用户更倾向于接入蜂窝中,因此,模糊逻辑选网主要依据这两个参量进行网络选择.5.1用户数改变的仿真观察1.在用户数不断变化的网络中,文中关于最大化效用的接入方法无论在单信道基站还是在多信道基站中,均能获得最大效用.(1)单信道基站首先,对两种网络的基站数目固定,比较网络效用随用户数的变化关系.图3是用JOHG方法获得的用户接入网络的效用曲线与文献[7]的方法、模糊逻辑方法和随机网络选择方法的对比图.如图3所示,无论网络的负荷如何变化,JOHG方法获得的网络效用始终优于其它几种网络选择方法获得的效用.Page8图3单信道场景下效用与用户数的变化关系(2)多信道基站图4所示的是采用OSMWF方法与模糊逻辑方法和随机网络选择方法获得的效用曲线对比图.从图4中可以看出,OSMWF方法所获得效用明显优于模糊逻辑和随机网络选择方法.例如,当用户数在高于250个时,OSMWF方法能获得模糊逻辑方法2倍以上的效用;而相对于随机网络接入方法,OSMWF方法在用户数为450以上时可获得随机网络接入方法10倍以上的效用.图4多信道场景下效用与用户数的变化关系观察2.在最大化网络接入效用的方法中,OSMWF方法较模糊逻辑方法和随机选择方法,用户更倾向于接入蜂窝网中,且3种方法都选择离基站较近的用户接入.图5所示的是仿真场景下接入用户与蜂窝中心基站的位置关系,中心基站受到周围的干扰可以看成均衡的,这与实际基站的场景最为相似,把中心基站划分为3层,第1层为距基站50m的位置,第2层为距基站50~500m的距离范围,第3层为小区中500m以外的部分,由图5可以看出,距离中心基站的位置越近的用户,选择接入的机率越大,如图所示,在离基站50m的位置的用户接入比例占到约99%,可见,被接入蜂窝的用户几乎都是距蜂窝网50m内的用户.图5中心基站的划分层与接入用户数的关系图6所示的是接入WLAN中的用户数比例随用户数的变化曲线,在用户数较少时,用户选择WLAN的接入数比例都比较大,当用户增多时,由于WLAN的容纳个数较少而WCDMA能够容纳的用户数较多,因而,接入WLAN网络用户比例下降.图7所示的是WLAN承载的业务量比例,当Page9用户数增多时,接入WLAN的效用比例下降了,这是由于随着用户的增加,WLAN的接入能力有限,更多的用户接入到WCDMA中去了,由图7可以看出,用文中的方法,用户在WLAN中占的效用比例最小.5.2WLAN改变时的仿真观察3.对于WLAN数目不断变化的布网方式,与现有的几种接入方式相比,JOHG方法和OSMWF方法始终能够获得最大效用.(1)单信道基站图8所示的为当用户数一定时,不同接入方法所得到的网络效用随WLAN网络数的变化曲线.从图8中可以看出,当WLAN的数目增多时,文中方法与文献[7]的方法所获得效用显著增加了,模糊逻辑方法所获得的效用有少许的增加,而随机网络选择方法所获效用变化不大,这是因为对于文中方法与文献[7]的方法,当WLAN增加时,网络有了更多的可接入资源,从而为用户提供能够获得更多效用的接入资源;随机网络选择方法的随机性,不会带来效用的提升.相比较这几种方法,文中所提的方法是最优的.图8单信道场景下效用与WLAN数目的变化关系(2)多信道基站图9所示的是在多信道小区的情况下,当用户的数目固定时,3种方法获得的网络效用随WLAN数目变化的曲线图.如图9所示,文中所提的方法无论WLAN数目怎样变化,都能获得最大的网络效用.图10所示的是3种接入方法的接入数目在WLAN网络中的接入比例,由图10可以看出,随着WLAN数目的增加,无论哪种方法,用户被接入WLAN中的比例都增高了,相应接入到蜂窝的比例降低了.图9多信道场景下效用与WLAN数目的变化关系图11所示的是3种方法的接入效用在WLAN网络中占的比例,WLAN数目越多,所占的比例就越大.图12所示的是OSMWF方法与平均功率的效用对比图,从图12中可以看出,文中的方法可以大大提升网络的总体效用.Page10图12OSMWF方法与平均功率分配方法获得的效用对比6结束语对于WLAN与3G蜂窝共存的网络,本文从全网的角度,提出了一种基于全网效用最大的控制接纳方法,从网络选择和功率控制的角度对用户分配以达到全网效用最优,为异构网络的融合提够了一个新的视角和方法.通过用户与不同网络的基站关联后,再给基站分配功率值,从而使用户的接入会得到最大的效用.对于WLAN与TD-SCDMA共存的网络,通过匈牙利方法获得用户与基站的关联;对于WLAN与WCDMA共存的网络,通过近似最优的方法获得关联后,再通过多用户的迭代注水定理法给每个子信道分配功率.仿真结果表明,相对于现有的几种接入方式,本文所提的方法均能得到最大的网络效用.
