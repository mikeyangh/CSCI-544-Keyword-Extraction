Page1一种基于FAHP的多维QoS局部最优服务选择模型刘敏1)1)(同济大学电子与信息工程学院上海201804)2)(景德镇陶瓷学院信息工程学院江西景德镇333403)摘要为更全面地考量服务质量(QoS)属性对服务最优选择的影响,进而提高服务组合的效率,该文提出了一种基于模糊层次分析法(FAHP)的多维QoS局部最优服务选择模型.模型首先定义了以QoS的真实度属性作为分量之一的多维QoS向量,并将QoS的真实度属性值作为赋权计算的依据,以使权重结果更合理、可信;之后,建立了包含双重质量属性(客观属性和主观评价)的模糊层次结构,以全面考量主客观QoS属性对服务最优选择的影响;在此基础上,构造了可根据决策者的偏好与侧重动态调整权重分辨率的FAHP赋权模式,该赋权模式与传统的赋权模式不同,该赋权模式下的权向量不是唯一的(但权重的排序唯一),而是一个包含可调参数的函数,通过参数的调整,可保留(或剔除)决策者偏好(或放弃)的候选服务,一方面使服务使用者在选择服务时更理智,另一方面也促使服务提供者进一步完善服务质量;最后,利用组合权向量及序数效用函数值得到了局部最优服务.与文献中已有赋权模式的对比实验(包括候选服务效用值的对比、相关QoS属性值的对比等)及参数的敏感性分析说明了模型的有效性,其决策结果在一定程度上提高了局部最优服务选择的科学性及合理性.关键词服务质量(QoS);局部最优服务选择模型;模糊层次结构;FAHP赋权模式;序数效用函数;服务计算1引言互联网技术的迅速发展和Web服务技术的逐步成熟,使传统的面向组件和系统的架构模式逐渐演变成面向服务的计算模式,为企业(或组织)之间进行的无缝业务集成提供了可能[1-2],它构成了联结商业服务与信息服务的桥梁,带来了商业模式与计算模式的转型.如何对服务计算的系统进行优化,选择最佳的服务解决方案,以满足服务使用者和服务提供者的需求,是研究者们关注的问题[3-5].一般来讲,单个的Web服务只具有简单的功能,为了满足多变的用户需求,可以将数个Web服务组合成带有增值功能的服务组合.例如,当用户计划外出旅行时,需要通过互联网获取相关的Web服务,如查询天气、规划旅游线路、预定国内外机票、预定酒店以及汽车租赁等.随着部署在Internet上可被公共访问和集成的Web服务越来越多,这些Web服务构成了一个巨大而丰富的标准组件库.但是,当用户面对这些服务功能相似、非功能特性不同的服务时,他们往往在服务选择上表现得无所适从;另一方面,他们对服务质量的特殊要求也很难被识别[6].由此看来,一味地降低执行代价或响应时间并不是满足用户偏好需求的最佳途径,因此,根据用户的偏好来为其定制个性化的服务很重要.由多个Web服务按照一定的组合逻辑组合出的新服务称为组合服务,这个组合中包含的Web服务称为原子服务[7-8].与其它软件系统一样,Web服务的特征也包含功能属性和非功能属性两个方面,前者描述了Web服务所提供的功能,后者则描述了Web服务在完成相应功能时表现出来的执行特性,例如执行时间、执行代价、可用性、可靠性等,这些执行特性的取值直接影响该服务完成相应功能时的服务质量(QualityofService,QoS)[9-10],QoS已成为计算机网络和实时计算领域的研究热点[1,11-19].基于QoS的Web服务选择一般包括全局最优和局部最优.对于全局最优选择问题,目前学术界普遍将其转换为组合优化问题来求解,常用的几种方法有约束规划[20]、线性规划[20-22]、启发式算法[1,23-26]、智能算法[3-4,12-14,27]等,这些方法构造的服务组合大都是满足约束条件的目标最优单解而不是可接受的多解,决策者(服务使用者或提供者)无法根据各自的偏好和侧重来选择组合服务,因此很难充分体现服务个性和激励服务提供者优化其服务质量.基于QoS的局部最优服务选择方法是从每个任务节点的候选原子服务集中,依据QoS约束选出最优的一个或较优的几个原子服务.由于局部最优对全局最优会产生积极的影响,因此Web服务的局部最优选择已引起越来越多学者的关注[15-17,21,28-29].局部最优选择为一个多属性决策问题,其核心问题是属性值的获取以及相应属性权重的确定,属性值的获取主要通过3种方式:服务提供者对外公布的数据、服务使用者使用服务后进行评价的数据、第三方监测的数据;确定权重的主要方法有:模糊集的模糊矩阵运算及合成、分离重叠源法、修正权重法等.近年来基于QoS的Web服务选择的相关研究大部分着眼于全局最优[1,3-4,12-14,20-27],而局部最优则研究得较少[15-17,21,28-29].当然,也有学者在全局最优选择的决策过程中先进行局部最优,以提高聚合服务的成功率.正是因为局部最优对于全局最优有这种积极影响,而相对于全局最优服务选择方法的研究热度,局部最优选择方法的研究则较少.文献[15]提出了一种基于多维服务质量的局部最优服务选择模型,一方面将用户对服务各质量属性的评价作为原子服务的一个附加属性———真实度,以体现其模型的合理性和公正性;另一方面,用Page33种赋权模式确定各服务质量属性的权重,最后以序数效用函数值作为候选服务的排序尺度,其模型表现出了很好的有效性和灵活性,一方面,该模型体现了用户需求的偏好及服务质量的客观性,另一方面,它有助于快速地生成聚合服务链.文献[16]通过局部服务质量优化缩小Web服务组合的候选服务空间,以聚合效用值和用户提出的服务质量约束分别作为整数规划问题的最大化目标函数和约束条件,求解得到一个近似服务质量最优方案,并通过仿真实验验证了方法的有效性.其他局部最优选择方法的研究可参见文献[28-29].正如前面所提到的,局部最优选择为一个多属性决策问题,它的核心问题是属性值的获取及权重的确定,而后者是局部最优选择方法研究的热点.为了更全面的考量服务质量属性对服务最优选择的影响,本文提出了一种基于FAHP的多维QoS局部最优服务选择模型(LocalOptimalModelofServiceSelectionofMuti-QoSbasedonFAHP).模型将真实度属性也作为QoS向量的一个分量,以QoS的多种属性及其相应的真实度建立模糊层次结构,并在计算层次权向量和组合权向量时,全面考量双重属性值数据(包括客观数据和主观数据),最终得到较为科学、合理的候选服务排序,并且可以通过调整决策参数来改变各候选服务的权重分辨率.据我们所知,目前还没有关于局部最优选择的文献研究过通过调整决策参数来改变权重分辨率的FAHP赋权方法,因此,我们提出了这种决策模式,它有以下几个特点:(1)将多维QoS向量的一个分量———真实度属性也作为FAHP赋权计算的依据,使权重结果更合理、可信;(2)在以FAHP为基础的赋权模式中,权向量不是唯一的(但权重的排序唯一),而是一个以β为参数的函数,决策者(服务使用者或提供者)可根据自己的偏好和侧重,调整β的取值,以调整权向量中各分量的权重分辨率(各分量值之间的差距),从而保留(或剔除)决策者偏好(或放弃)的候选服务,使服务使用者在选择服务时更理智,促使服务提供者完善服务质量;(3)局部最优对全局最优会产生积极的影响,以FAHP为基础的局部最优服务选择可动态调整各属性的权重值大小,为后续的全局最优服务选择提供更多的决策模式,可在一定程度上提高全局最优聚合服务的合理性和成功率.本文第2节在介绍服务质量属性指标定义、度量方法、去模糊化和规范化的基础上,建立基于FAHP的多维QoS模型,并构造包含双重属性的模糊层次结构;第3节通过层次权向量、组合权向量及序数效用函数值的计算求解模型;第4节进行对比分析实验及参数β的敏感性分析,实验结果说明模型的合理性和有效性,并讨论局部最优对全局最优产生的积极影响;最后对全文进行总结及对下一步工作的展望.2局部最优服务选择模型2.1问题描述与分析如图1所示为一般旅游服务集成的业务流程[1,30],其中Ts和Tf分别表示起始状态和最终状态.服务提供者所提供的旅游服务有旅游路线(S1)、国内机票预定(S2)、国际机票预定(S3)、旅游景点(S4)、汽车租赁(S5)及自行车租赁(S6)等子服务.在服务组合的过程中,对于每一个子服务模块都存在一些功能相似,QoS各异的候选服务可供选择.在旅游服务实例中,服务使用者可能对旅游服务中每个子服务的需求不同,则系统会根据该用户需求来选择相应的候选服务.基于QoS的服务选择目标就是从每个子服务的候选服务集合中选出满足局部QoS要求的服务,如图2所示[18],并使得全局QoS也能满足用户的要求,并且尽可能地出色.可以看到,通过全局最优服务选择模式构造的服务组合大都是满足约束条件的目标最优单解而不是可接受的多解,决策者(服务使用者或提供者)无法根据各自的偏好和侧重来选择组合服务,因此很难充分体现服务个性和激励服务提供者优化其服务质量.如图3所示,局部最优服务选择旨在从这些功能相似,QoS各异的候选服务中,根据决策者的偏好或侧重,制定相应的决策模式,得到满足决策者需求的一个或多个候选服务,使服务使用者在选择服务时更理智,同时促使服务提供者更加完善服务质量.Page42.2服务质量属性指标的定义及其度量方法QoS对于Web服务在相关领域的成功应用非常关键,一些面向Internet的Web服务应用,例如信息门户、电子商务应用、实时网格计算等,都越来越关注为服务使用者提供的服务的质量.在许多研究工作中,学者们都提出了有关Web服务QoS的思想,并且强调QoS的重要性,以下是几个典型的有关QoS属性指标的研究.Ran[19]是较早对Web服务QoS展开研究的学者之一,他认为Web服务的QoS可划分成以下五大类:与成本有关的QoS、与执行时间有关的QoS、与配置管理有关的QoS、与事务有关的QoS及与安全有关的QoS.Aggarwal等人在文献[31]中提出了一个QoS模板的概念,在这个模版中,QoS属性包括费用、时间等.同时,这个模板能支持用户按需设置各种属性的权值,因此具有良好的个性化和可扩展性.从用户可感知的公用属性角度出发,Zeng等人[21]提出了一种Web服务质量模型,该模型主要包括服务价格、执行时间、信誉度、可用性及可靠性.在之后的相关研究中,该模型得到了学术界的广泛认可并被大量引用.基于以上的讨论,本文列举几个常用的属性指标,其定义和度量方法如下:(1)执行代价qcost(s).定义为用户调用服务需要支付给服务提供者的费用,其值由服务提供者发布.(2)执行时间qtime(s).定义为从用户发出服务请求到获得服务结果这一过程的时间延迟,包括传输时间Ttrans(s)和运行时间Tprocess(s),即qtime(s)=Ttrans(s)+Tprocess(s).(3)可靠性qrel(s).定义为在一个相应的期望时间内服务能正确响应用户请求的概率,即qrel(s)=Nc(s)/n,这里Nc(s)表示在这一期望时间内服务正确响应的次数,n表示总的调用次数.(4)可用性qav(s).定义为一个服务被正常调用的概率,即qav(s)=∑该服务第i次被正常调用,否则λ(s)i=0.n代表该服务总的被调用次数.(5)安全性qsec(s).存在于扩展UDDI中随服务提供商在服务注册时一起发布,只需从UDDI中读取其值即可,它具有模糊不确定性.尽管基于上述常用QoS属性的服务选择的相关研究已经取得了较好的成果,这些成果为Web组合服务的成功应用起到了重要的推动作用,但是,它们大都没有考虑到QoS内在的不确定性,这种不确定性主要体现在以下几个方面[5,20]:(1)出于自身的利益考虑,服务提供者可能会发布与自己实际服务水平差距较大的QoS数据,以吸引更多的用户使用;(2)在开放的面向服务的体系构架中,由于多种网络的存在(如Ad-hoc,P2P,WLAN等)、市场竞争的利益化以及Web服务的逻辑流程和资源管理的对外封闭性,不能保证服务提供者发布的服务数据的客观性和真实性.基于以上的分析,我们在本文的模型中引入QoS的真实度属性,通过计算用户使用服务后给出的反馈信息,得到相应服务质量属性的信誉度,即真实度,旨在全面考量原子服务的服务质量,它的定义如下:QoS真实度qfid(s).定义为用户对相应QoS属性的评价[15],即qfid(s)=(fid1(s),fid2(s),…,Page5fidn(s)),其中fidi(s)=∑i个QoS属性的评价,rij(s)表示第i个QoS属性被j次访问给出的评价值,mi表示第i个QoS属性被评价的总次数.2.3QoS属性数据的去模糊化及规范化处理2.3.1基于模糊集理论的去模糊化处理由于一些QoS属性指标具有模糊性,如安全性(Security)、信誉度(Reputation)等,往往采用等级来简单描述,但在具体的QoS模型中,需要先将这些指标的数据量化———去模糊化.一般采用模糊集理论中的α-cut和隶属函数[32]来处理模糊型的QoS指标,将模糊型QoS指标映射到[0,1]区间上.例如,安全性取值的5个级别1,2,3,4,5分别对应于0.2-cut、0.4-cut、0.6-cut、0.8-cut及1-cut,即将安全性分别映射到[0,0.2]、(0.2,0.4]、(0.4,0.6]、(0.6,0.8]、(0.8,1]上.这里就1-cut举例说明,假设0<η<α<0.2,且安全性相应取值集合X上的模糊集A的隶属函数为fA(x).情形1.如果1-α<fA(x)1,那么安全性取值x对应的安全级别为5;情形2.如果0.8<fA(x)0.8+η,那么安全性取值x对应的安全级别不为5;情形3.如果0.8+η<fA(x)1-α,那么安全性取值x与安全级别5之间存在一种隶属关系,这种隶属关系可以用隶属度来刻画,如式(1)所示:2.3.2基于最小-最大理论的规范化处理由于QoS属性值可以为正向属性,如可用性、可靠性,其值越大,表示质量越高;也可以为负向属性,如执行代价、执行时间,其值越大表示质量越低.因此,需要进行规范化处理以使属性值在同一范围内操作[33],其规范化处理过程如式(2)和(3)表示:烄qik=烅烆烄qik=烅烆其中qik表示原子服务si在第k个QoS属性上的值,qminik=minsi∈TQoS属性上的最小值,qmax所有原子服务在第k个QoS属性上的最大值.2.4基于FAHP的多维QoS局部最优服务选择模型2.4.1基本概念及命题基于文献[15,34],给出以下基本概念及命题.(1)原子服务集合.S=s1,s2,…,s(1im)表示第i个原子服务,m∈合中原子服务的个数.(2)弱序关系“·”.设S={s1,s2,…,sm}是一个原子服务集合,定义弱序关系·为S上的一个二元关系,则对于S中的任意两个原子服务si和sj满足:①连通性.si,sj∈S,si·sj或sj·si或两者都满足;②传递性.si,sj,sk∈S,若si·sj且sj·sk,则si·sk;③无差异性.sisj当且仅当si·sj且sj·si.(3)设“·”是S上的弱序关系,则存在实值的序数效用函数f,对si,sj∈S,有f(si)f(sj)si·sj;且①若t是f的严格单增函数,则有t(f(si))t(f(sj))si·sj;②若g=f1+f2,其中fi(i=1,2)是序数效用函数,则有g(si)g(sj)si·sj.2.4.2多维QoS向量及S上的序数效用函数定义1(多维QoS向量).定义一个2n维可扩充的向量:QoS=(q1,q2,…,qn,fidq1)为多维QoS向量,其中前n个分量qi(i=1,fidqn2,…,n)为n个QoS客观属性值(其数据为服务提供者公布或第3方监测得到),后n个分量fidqi(i=1,2,…,n)为其相应QoS属性的主观评价值(其数据来自服务使用者的评价).定义2(S上的序数效用函数).设f1(q1(si)),f2(q2(si)),…,fn(qn(si))分别是原子服务集S={s1,s2,…,sm}上满足弱序关系“·”的实值序数效用函数,则单调递增复合函数f(s)=f(f1(q1(si)),f2(q2(si)),…,fn(qn(si)))是S上的序数效用函数.2.4.3原子服务局部最优的排序原则定义3.设有S,QoS,fk(qk(si)),k=1,2,…,n,则s1,s2,…,sm以f(s)的值为排序数值尺度.为简便起见,可选取严格单调递增的线性函数作为每个QoS属性的序数效用函数,即fk(qk(si))=ωk·qk(si),k=Page61,2,…,n.定义4.设犎=[hij]m×n表示QoS属性矩阵,其中hij=qi(sj)是服务sj∈S在QoS属性qi∈{q1,q2,…,qn}的取值,设犔是犎经过去模糊化及规范化后的标准矩阵,将犔进行行分块,得到犔=[L1,L2,…,Lm]T,取f(si)=∑则si·sjLi·ωLj·ω,ω=(ω1,ω2,…,ωn)T,i,j=1,2,…,m.2.4.4建立多维QoS的FAHP层次结构层次分析法(AHP)是美国运筹学家Satty创立的一种多目标决策方法[35],该方法将定性与定量分析相结合,既能有效地分析目标评价准则相关体系层次之间的非序列关系,又能有效地综合度量决策者的比较和判断.FAHP[32]是对传统AHP的一种改进,它提出了一种更为合理、科学的权向量计算方法,并且可以根据参数的选择来调整决策者对权重的分辨能力.下面给出多维QoS的FAHP层次结构,如图4所示.3模型求解求解步骤如(1)~(5).(1)构造各层次的成对比较矩阵.记B层对A层的成对比较矩阵为犘=示客观属性值相对于主观评价值的重要程度,p21则相反;在大部分情况下,可取p12=p21=1,即它们在局部最优的服务选择模型中同等重要.q层对B层的成对比较矩阵为和其中q1ij=值;q2ij=准化后的均值.(2)判断以上各成对比较矩阵的一致性.定义5(一致性矩阵).如果一个成对比较矩阵犃=[aij]n×n满足则犃称为一致性矩阵,简称一致阵[35].对于二阶成对比较矩阵犘,因为p12=,故有p12·p21=1=p11,p21·p12=1=p22,满足1p12式(4),即犘为一致阵.对于犙1,犙2,因q1q2ik=fidqifidqk故犙1,犙2也是一致阵.(3)将犘、犙1、犙2转化为模糊一致阵.定理1.若犃=[aij]n×n是一致的成对比较矩阵,则犚=[rij(α)]n×n,(α81)是模糊一致判断矩阵.这里rij(α)=logαaij+0.5,α81[36].定理1提供了一种将一致阵转化为模糊一致阵的方法,这里要求α81是为了保证0rij(α)1;在本文的计算中,我们取α=243.模糊标度值的大小依赖于决策者对α(α81)取值的选择,特别地,lim一个一致阵犃=[aij]n×n对应一族模糊一致阵犚=[rij(α)]n×n,其中rij(α)=logαaij+0.5,α81.由定理1,犘、犙1、犙2对应的模糊一致阵分别为犚犘=[logαpij+0.5]2×2,犚犙1=[logαq1犚犙2=[logαq2(4)计算各层次模糊权向量及组合模糊权向量.定义6(层次模糊权向量的确定).设犚=[rij]n×n为模糊一致阵,则其权向量ω=(ω1,ω2,…,ωn)T可由下面约束规划问题确定[36]:Page7烄minz=∑(P1)烅s.t.∑烆这里β>1.为求解权向量ω=(ω1,ω2,…,ωn)T,可将约束规划问题(P1)应用Lagrange函数转化为下述无约束规划问题(P2):minL(ω,λ)=∑令L(ω,λ)ωin4∑整理得j=1n2∑j=1(logβωi-logβωj+0.5-rij)+λωilnβ=0,于是有nn[∑i=1∑由于模糊成对比较矩阵的所有元素之和为j=1n2/2[36]及∑于是可由下列方程组烄烅烆解得权重ωi=(β>1)的函数,因而对于犚=[rij]n×n,有一族权重向量:犠={(ω1(β),ω2(β),…,ωn(β))Tωi(β)=βωi(β)ωj(β),limβ→1提高各权重大小的分辨率,当β很大时,某些权重值会趋于零,这样会不利于计算机处理.因此β的取值可根据决策者的偏好而定.权重向量的分量排序与β的取值无关,但可以通过调整β的取值来调整各权重大小的分辨率.下面通过一个具体的例子来说明这一点.设犚=糊一致阵,分别取β=e,β=e10,β=e20,则可求得对应的权向量分别为可以看出:一方面,权向量的分量排序(第3个分量、第1个分量、第2个分量)与β的取值无关;另一方面,随着β取值的增大,各分量值的差距(分辨率)越来越大,最大的分量值会接近于1,而最小的分量值则会接近于0.具体来说,在局部最优服务选择的决策模型中,由于权向量各分量值代表着各QoS属性的权重,则决策者(服务提供者或服务使用者)可根据自己的偏好和侧重来调整β的取值,以使决策方案更符合自己的需要.例如,若在QoS属性的权向量中,其可靠性、可用性权重较大,而执行代价、执行时间权重较小,此时,决策者可根据后续计算或决策(原子服务筛选,组合服务全局最优等)的需要,若更注重服务的可靠性及可用性,则可增大β的取值来放大相应属性的权重,而同时减小其他属性的权重.定义7(组合模糊权向量的确定).设犚P的权向量为(ωRP,ωRQ11(ωRQω2n)T,则组合模糊权向量为ω=(ωωRQi=ωi表1给出了各层次权向量和组合权向量之间的对应关系.Page8表1各层次权向量和组合权向量之间的对应关系权向量(q对B)(5)计算各候选服务的序数效用函数并排序.由定义4,计算每个候选服务的序数效用函数f(si)=∑即可得到局部最优的候选服务.4实验分析旅游业务集成是服务消费的一种典型场景,它通过集成分布在互联网上的服务为出行规划提供支持,因此可构建旅游业务集成的有向无环图G(E,V),包括以下几种活动:旅游路线选择WS1、国内飞机预定WS2、国际飞机预定WS3、旅游胜地选取WS4和汽车租赁WS5服务功能需求的10个候选服务作为原子服务,采用基于FAHP的多维QoS模型求出局部最优的候选服务.实验环境是CPU为IntelCorei5-4200u,1.6GHz,内存为4GB的ASUSY481L,操作系统为Windows7,并利用了Mathematic数学软件.4.1基于FAHP的多维QoS局部最优选择为了直观地与文献[15]中局部最优服务选择方法进行比较,我们采用4个QoS属性qcost、qtime、qrel及qav组成八维QoS向量:犙狅犛=(qcost,qtime,qrel,qav,,fidqtimefidqcost选Web服务的服务质量信息数据如表2所示.qcostqtimeqrelqavs10.141750.900.920.990.940.900.95s20.201500.950.980.950.890.930.92s30.101580.920.910.950.850.900.91s40.151520.850.950.880.900.900.88s50.181650.920.980.850.900.950.95s60.201750.900.880.990.940.920.90s70.151900.940.920.950.950.920.95s80.161550.880.960.950.880.950.95s90.181500.920.920.920.920.900.95s100.151450.920.880.920.900.920.90Rω2P主观数据(B2)RQω21RQω22…RQω2n将服务质量信息数据作规范化处理,如表3所示.qcostqtimeqrelqavs10.600.33330.50.41.00000.9001.0000s20s31.000.71110.70.30.71430s40.500.84440s50.200.55560.71.00s60s70.500s80.400.77780.30.80.71430.301.000.2587s90.200.88890.70.40.50000.700s100.501Av0.390.63330.60.50.60710.570.380.5857(1)建立FAHP层次结构(如图5所示).(2)构造各层次成对比较矩阵并计算其模糊一致阵.犘=犙1=犙2=犚P=Page9犚Q1=犚Q2=(3)利用式(6)计算犚P,犚Q1合权向量,这里取β=e10(β的值可根据决策者的偏好和侧重调整),则有ωRωRQωRQω=(0.2238,0.3042,0.2183,0.2538).(4)根据定义4计算各候选服务的序数效用函数值并排序,得到局部最优原子服务.由f(si)=Li·ω,可得各个服务的效用函数值为f(s1)=0.4463,f(s2)=0.7424,f(s3)=0.6690,f(s4)=0.5464,f(s5)=0.6203,f(s6)=0.2105,f(s7)=0.4098,f(s8)=0.5946,f(s9)=0.5694,f(s10)=0.5688.可得服务排序是s2·s3·s5·s8·s9·s10·s4·s1·s7·s6.4.2决策结果的对比分析、参数的敏感性分析4.2.1不同赋权模式下决策结果的对比分析由排序结果可以看出,在FAHP赋权模式下,候选服务s2是最优的选择,从表2也可以看出,s2的可靠性和可用性是最高的,而且执行时间也较少,进一步可以看到,这3个属性的相应评价也较高,故其客观数据的真实性也较高;另一方面,s6的序数效用函数值最低,是最差的候选服务,原因在于它的执行时间最长,可用性最低,而且可靠性也不高.在文献[15]的3种赋权模式下,s2和s6也分别是最优和最差的服务,可见在本文FAHP赋权模式下s2的最优性与s6的最差性与文献[15]是一致的,这说明了本文模型的有效性.但是,在文献[15]的赋权模式下,s5优于s3,这与本文的结果有所不同.虽然从表2的前几列数据来看,s3的可用性最低,执行时间及可靠性也不是最优的,但是,我们也可以从表2的后几列数据看到,这几个属性相应的真实度也不高,而且其中有两个是最低的,由于文献[15]的赋权模式均只使用了客观数据(表2的第2列至第5列数据)进行排序计算,未考虑到客观数据的真实性(客观数据如果不是来自于第3方监测,则QoS数据的真实性就难以保证),这样一来,仅以客观数据为排序依据得到的候选服务排序还有待进一步确定,而以综合考虑了两种数据的FAHP赋权模式计算得到的候选服务排序则具有一定的科学性和合理性.为了便于直观的比较,现将由几种不同赋权模式得到的候选Web服务效用值用表4及图6表示出来,如下(其中前3种赋权模式的数据来自于文献[15]).表4几种不同赋权模式下的候选Web服务效用值s1s2s3s4s5s6s7s8s9s10图6不同赋权模式下的候选Web服务的比较从图6可以看出,在不同的赋权模式下,s2的表现都是最突出的,s3和s5也是比较突出的.在某些情况下,若并不严苛地要求选择局部最优的一个候选服务,而是较优的几个候选服务,则由上图便可直观地从中选择较优的几个,例如s2,s3和s5.另一方面,在不同的赋权模式下,s1,s6和s7的表现都是比较差的,由表2可以看出这也是较符合实际的,s6的执行Page10代价最大,s7的执行时间最长,s1的执行时间较长,可靠性和可用性较低,而且其各项指标的真实性也较高.在全局最优服务选择的模型中,可以先将局部QoS最差的几个候选服务剔除,这样一来,可以大大减少服务聚合的求解空间,提高求解效率和服务聚合的成功率.图7给出了各候选服务的服务质量属性及其相应真实度之间的比较,图表中的第2个纵轴坐标为真实度,可以直观地看出,s2的可靠性及可用性最高,且相应真实度较高;执行时间中等,但相应真实度不高.由此可见,基于FAHP赋权模式得到的s2的局部最优性是比较复合实际的.图7各服务的QoS属性及其相应真实度的比较选取在4种不同赋权模式下排序在前4位的候选服务,分别计算执行代价、执行时间、可靠性和可用性的平均值来比较不同决策模式的优劣,具体计算结果如图8所示.可以看出,与前3种赋权模式相比,FAHP赋权模式在可用性上达到最优,执行代价较优,在执行时间及可靠性上与前3种赋权模式基本持平,既体现了服务质量的客观特性,又反映了用户对其相应服务质量属性的主观评价,可见,该模式展示了良好的中间特性,更具科学性和合理性.4.2.2参数β对决策结果的敏感性分析下面分析参数β对决策结果的影响,现分别计算在不同β取值下的层次权向量、组合权向量、各候选服务效用函数值及排序,其结果列于表5、表6、表7及图9.从表5及表6可以看出,随着β取值的增大,一方面,层次权向量及组合权向量各分量间的数值差距越来越大,通俗地说,就是数值大的变得更大,数值小的变得跟小,即“优劣”更明显化;另一方面,β的取值对候选服务排序有一定的影响,但影响微小,这种影响主要体现在s9和s10的排序上.从表2也可Page11表5层次权向量随β取值的变化表6组合权向量及服务排序随β取值的变化βee2e3e4e5e6e7e8e9e10e11e12e13e14e15e16e17e18e19e20表7候选服务效用函数值随β取值的变化s50.620.620.620.620.620.620.620.620.620.620.620.620.620.620.620.620.620.620.620.62s60.210.210.210.210.210.210.210.210.210.210.210.210.210.210.210.210.210.210.220.22Page12以看出,s9和s10的各项数据十分接近,s9的可用性及其相应真实度高于s10,但s10的执行代价优于s9,所以当β的取值变化导致可用性属性的权重增加时,s9就优于s10;类似地,当β的取值变化导致执行代价属性的权重增加时,s10就优于s9.由此可见,参数β取值的变化不会影响候选服务中较优及较差服务的排序,但会影响中间服务的排序,其效用函数值也会随β取值的变化明显波动,如图9所示.在局部最优服务选择的决策过程中,若决策者(服务使用者或提供者)需要根据自己的偏好和侧重选取或剔除某些候选服务,就可通过调整β的取值来改变相应属性的权重,从而改变相应服务的效用函数值及排序,为后续全局最优服务选择提供动态的决策模式.4.3局部最优服务选择对全局最优服务选择的影响假设Web组合服务规划中包含N项任务,而每项任务存在M个原子服务可供选择,那么总共有MN个组合方案,从中选出最优方案是一个NP难问题.通过局部服务质量优化一方面可以缩小Web服务组合的候选服务空间,提高Web服务组合效率,另一方面可以根据需要保留质量较优的候选Web服务参与后续的服务组合评估或提前剔除质量较差的Web服务,以此更好地促进服务组合的整体优化.LO-IP是一种基于局部质量优化的Web服务组合方法[16],先通过局部优化找出每个任务节点的优秀Web服务h个(h<M)作为相应任务节点的新候选服务空间,将服务组合问题转化为一个等价的整数规划问题,根据整数规划理论[38],此时该问题的时间复杂度为O(2N×h),远低于没经过局部优化的全局优化问题的时间复杂度O(2N×M).与Global[19]方法和Hybrid[39]方法相比,LO-IP方法在服务聚合成功率和时间代价上都略占优势[16].本文提出的基于FAHP的服务质量局部最优选择模型为以局部最优为基础的全局最优选择模型提供了一种新的局部优化方法,该方法具有一定的科学性和灵活性,并且能更好地体现服务提供者和使用者双方的偏好和侧重.5结束语本文针对基于QoS的Web服务局部最优选择问题,旨在更全面地考量QoS属性对服务最优选择的影响,进而提高服务组合效率,提出了一种基于FAHP的多维QoS局部最优服务选择模型,其主要创新点有:(1)构造了以QoS属性和其相应的真实度属性作为双重属性的模糊层次结构,较为全面地考量QoS的客观属性和主观属性;(2)建立了以FAHP赋权的动态决策模式,使决策者可根据各自的偏好和侧重调整QoS属性的权重;(3)通过权向量分辨率的调整,可为后续全局最优服务选择模型提供更多的决策模式,进而提高聚合服务的成功率.下一步,我们将更深入地分析和研究各QoS属性的不确定性及其之间的相关性,以此改进决策模式,进一步提高模型的科学性和有效性.
