Page1一种VANET环境下的智能交通信号控制方法1)(武汉大学软件工程国家重点实验室武汉430072)2)(武汉大学计算机学院武汉430072)3)(香港城市大学计算机科学系香港)4)(华中师范大学数学与统计学学院武汉430079)摘要城市环境中车辆数量的几何式增长带来了一系列的交通问题,高效的交通信号控制方法不仅能够改善交通安全和效率,而且还能减少车辆的尾气排放.由于车流的高度动态性,现有的一些方法存在获取车辆信息不准确和实现复杂等问题.文中基于VANET的V2I通信建立了一种精确探测车辆信息的双层管道模型,并基于该模型提出了一种自适应跳跃式信号控制方法.该方法依据“按需分配”的原则为各相位分配合适的绿灯通行时间,同时在车流稀疏情况下使用一种跳跃式控制,有效避免了车辆的“空等”现象,提高了绿灯时间的使用效率.利用真实的交通流,基于Veins在两种不同相位情况下进行仿真实验,结果表明文中提出的智能交通信号控制方法能够适应车流的高度动态性,比较明显地提高了交叉路口处的行驶质量,同时有效降低了车辆的CO2排放量.关键词交通信号控制;车载自组织网络;双层管道模型;尾气排放;智能交通系统;物联网1引言近些年来,我国的机动车保有量呈现出几何增长的态势,且在大城市中车辆数量激增的现象尤为明显.机动车在给人们的生活带去便利的同时,其数量的快速增长也带来了一系列的问题.例如在较为复杂的城市交通环境中容易发生道路拥堵现象,而密集的车流提高了发生安全事故的概率,对安全消息的广播和车辆的有效疏散提出了挑战.除此之外,车辆尾气的排放加重了对环境的污染.缓解交通拥堵不仅能够改善交通安全和效率,而且能够降低环境污染.在现有的解决方案中,交通信号控制被认为是最重要和有效的方法[1].高效的交通信号控制策略能有效地降低CO2的排放[2],因此有必要设计合理的交通信号控制方法.从提高车辆行驶质量的角度出发,就是在保证交叉路口车流通行量的前提下,能够减少车辆的平均停车次数、平均等待时间,提高车辆在交叉路口处的一次通过率;而从环境或经济的角度出发,就是降低车辆尾气的排放量.车载自组织网络(VehicularAd-HocNetwork,VANET)是智能交通系统(IntelligentTrafficSystem,ITS)在过去十几年中飞速发展的产物,其把行驶车辆看作移动节点,利用无线通信技术形成无线移动网络.通过信息的交互与融合,实现路网信息的网络化管理,以及车与车/车与基础设施(Vehicle-to-Vehicle/Vehicle-to-Infrastructure,V2V/V2I)间的智能协同与安全控制,可以显著提升城市交通运输系统运行效率和服务水平、减少交通事故和污染.由于车辆的高速移动严重影响无线信道的传输质量,传统802.11a/b/g/n技术无法提供可靠的通信链路.为了满足车辆通信服务要求,产生并发展了适用于智能交通车辆网络环境的DSRC(DedicatedShortRangeCommunications)技术.DSRC作为一种高效的专用无线短程通信技术,具有组网时间短、通信延迟小、适应车辆高速移动和抗干扰能力强等特点.基于DSRC的V2V和V2I通信技术使得VANET应用广泛,例如协助下载[3-4]和安全消息广播[5-6].而在交通控制领域,VANET为自适应交通信号控制系统解决方案的实现提供了更加高效的手段.文献[7]通过基于DSRC的无线通信技术,利用装配车载单元(OnBoardUnit,OBU)的ETC(ElectronicTollCollection)车辆与交通灯之间交互信息获取实时的交通情况,并使用基于决策树的算法为当前交通情况执行最恰当的交通信号控制方法.文献[8]利用加拿大麦克敦城市中一个真实的十字路口验证了VANET相关技术应用于自适应交通灯控制系统的有效性.不论是提高车辆行驶质量[9]还是节能减排[10],VANET均能提供高效的解决方案.本文基于VANET的V2I通信,建立了一种精确探测车辆信息的双层管道模型,并基于该模型提出了一种智能的跳跃式交通信号控制方法,该方法通过收集的车辆实时信息为各相位分配合理的绿灯通行时间,其跳跃式的控制方法在车流量稀疏时提高了绿灯时间的使用效率.本文第2节从提高车辆行驶质量和减少尾气排放量两个角度出发,介绍并分析了现有的一些自适应信号控制方法;第3节给出了本文的相关模型,包括交叉路口模型、信号相位分配模型、双层管道模型和尾气排放模型,其中双层管道模型是重点,也是本文信号控制方法的基础;第4节详细介绍了基于双层管道模型的自适应跳跃式信号控制方法;第5节通过实验验证并分析了所提方法的有效性;第6节是本文的总结和对下一步工作的展望.2相关工作交通信号控制被认为是目前提高交叉路口通行质量最经济和有效的途径之一,其控制方式主要分为固定配时和自适应配时.固定配时方法依据交通量的历史数据,为交叉路口各方向分配合适的固定绿灯通行时间.自适应配时方法则通过适当的算法反馈当前配时方案的效果或者利用车辆检测提供实时的交通信息,来动态调整配时方案.两种方法各有Page3利弊:固定配时方法简单易实现,被广泛应用于实际生活当中,但是其无法适应车流量的高度动态性,降低了车辆通过交叉路口时的行驶质量.自适应配时方法能够较为灵活地适应车流量的动态性,但存在实现复杂和车辆信息获取不准确等问题.与固定配时方法相比,自适应配时方法更加灵活有效.文献[1,11]从计算智能(ComputationalIntelligence,CI)的角度,介绍了基于模糊系统、人工神经网络、演化计算和群体智能、增强学习和自适应动态规划、代理和博弈论的交通信号控制方法.此外,图像和视频处理技术[12-14]、无线传感器网络[15-17]以及VANET等应用为解决交通信号控制问题提供了有效的支撑.从提高车辆行驶质量角度出发,交通信号控制方法的设计目标主要包括减少车辆的平均停车次数、平均等待时间和提高车辆的一次通过率.为了解决较为复杂的交通信号控制问题,将其转变成数学问题是一种常用途径.文献[18]将车辆通过交叉路口的行为转变成车辆争夺交叉路口通过权的互斥问题,当车辆获得通过权后,该车辆行驶的车道就被锁定,直至该车辆驶离交叉路口.为了合理地分配交叉路口通过权,提出一种集中式算法和一种分布式算法分别对问题进行求解.车辆利用VANET中的V2V和V2I通信技术交互信息,为算法提供了数据基础.文献[19]基于车辆互联(ConnectedVehicle,CV)技术提出了一种估算实时队列长度的数学模型,同时采用一种离散的小波变换算法提高了估算的准确度,为基于队列长度的自适应信号控制方法提供了依据.文献[20]使用细胞传输模型(CellTransmissionModel,CTM)将多交叉路口的交通信号控制问题建模成一个混合整数线性规划问题.首先对原始问题进行合适的时空分解得到松弛的线性问题,并基于交替方向乘子法(AlternatingDirectionMethodofMultipliers,ADMM)进行求解,然后通过两种分布式的修正方案得到原始问题的解.文献[21]将交通控制问题理解成为一系列相位分配时间的过程,并使用了一种高效的动态规划方法解决问题.为了减小状态空间,方法以一个相位为基本单位,在减少时间和空间复杂度上取得了较好的效果.从环境或经济的角度出发,交通信号控制方法的设计目标主要是减少车辆的尾气排放量.车辆的状态直接影响尾气的排放量,相比较匀速行驶,加速或者减速操作均会增大尾气的排放量,因此需要给车辆指引一个恰当的车速或者以减少停车次数为目的,使其更顺利地通过交叉路口.文献[2]建立了一个相对速度耦合映射车辆跟随模型,并基于离散控制理论提出了一种交通流系统延时反馈控制策略来减缓交通拥堵.但是仿真场景过于简单,车辆全都行驶在一条直道上,并且不允许超车.方法具有一定的局限性,特别是在复杂的城市环境中其有效性难以得到保障.文献[10,22]借助路侧单元(RoadSideUnit,RSU)收集交叉路口交通流信息,通过DSRC技术与OBU进行无线通信,并使用OBU为车辆计算出一个合适的车速,在这种速度下行驶有利于提高交叉路口通行量,同时减少尾气的排放量.文献[23]则根据历史平均配时数据和实时相位数据建立了一种概率交通信号配时模型,基于该模型提出了预测最优速度算法的公式,使得车辆可以较为顺利地通过多个交叉路口,达到节能减排的目的.但是,文献[10,22-23]这类方法的问题在于每辆车均有一个推荐的速度值,若一旦小部分的车辆没有按照要求速度行驶,就会连带影响其他车辆.特别是在车流量较大的情况下,车辆之间的速度会产生相互制约.文献[24]结合宏观城市交通流模型和微观交通排放模型建立了一个综合宏观交通模型VT-S,该模型能够预测交通流状态和每个车辆在不同行驶状态下的尾气排放.然后基于综合交通模型,使用一种模型预测控制来控制城市交通网络,达到减少交通时延和尾气排放的目的.实时的交通信息能够帮助司机在出发前规划路径,达到减少路程时间和提高行驶安全的目的.同时,交通控制系统能够利用收集的交通信息进行减缓拥堵的决策,有利于提高交通网络的整体性能[25].尽管当前存在多种自适应交通信号控制方法,但是大多数存在获取车辆实时信息不准确的问题.比如图像或视频处理结果非常依赖于样本的质量,特别是在恶劣天气或者交通拥堵情况下,这些方法的效果难以得到保障.其次,基于计算智能的方法计算开销较大,实现也较为复杂,存在无法有效适应车流高度动态性的缺点.同时,部分实验没有使用真实的交通流数据,降低了方法的有效性.为了解决这些问题,本文做了几点创新性的工作,主要包括:(1)基于VANET的V2I通信,建立了一种精确探测车辆实时信息的双层管道模型,为各相位的绿灯通行时间提供了分配的依据;(2)基于双层管道模型,提出了一种自适应的跳跃式信号控制方法,该方法能很好地适应车流的高度动态性,Page4提高了绿灯时间的使用效率;(3)利用真实交通数据流进行仿真,通过与两种常见固定配时方法和一种基于决策树配时方法的性能进行对比,验证了所提方法在不同交通情况下的有效性.3相关模型和定义3.1交叉路口模型十字交叉路口是一种简单而又普遍存在的交叉路口类型,在城市交通环境中占据了重要的地位.由于优化单个交叉路口对提高整个道路网络的性能具有积极作用[26],因此本文考虑一个典型的十字交叉路口作为研究对象,其结构如图1所示.为了简化问题,交叉路口模型满足以下假设条件:(1)交叉路口为标准的“十字”路口,交通信号控制系统位于交叉路口中心位置;(2)道路为三车道,允许车辆直行、左转和右转,允许超车,不允许车辆调头;(3)车辆严格遵循交通信号控制系统的指示,不会发生闯红灯等现象,也不会发生抛锚、撞车等意外事故;(4)不考虑非机动车道或行人的影响.由于3.3节中建立的双层管道模型是基于V2I通信技术收集车辆信息的,因此本文所提交通信号控制方法与交叉路口的具体形状和车道数量无直接联系,将其假设为标准的“十字”路口和三车道是为了方便进行相关描述.3.2信号相位分配模型因为右转车流不会影响其他方向车流的正常行驶,因此本文在进行信号相位分配时仅考虑左转和直行车流的需求.在各方向车流的行驶互不干扰的前提下,结合现实生活中的情况,挑选了两种常见的信号相位分配方法,它们均为交叉路口分配了4个信号相位,具体分配情况如图2所示.除右转车流以外,在第一种分配方法中,每个相位只存在来自一个方向的车流.例如在第一相位中是来自北方的车流,第二相位中是来自东方的车流.在第二种分配方法中,每个相位存在来自不同方向的车流.例如在第一相位中是来自北方和南方的直行车流,第二相位中的来自北方和南方的左转车流.不论是哪一种方法,4个相位共同构成了一个完整的信号周期.Page53.3双层管道模型为了依据车流量分配信号时间,需要获得靠近交叉路口的车流密度信息.例如文献[27]基于一种分簇算法估算车辆密度,而文献[14]中则利用视频或图像处理技术实现车辆密度的计算.虽然它们能够估算出车辆的密度,但存在以下问题:(1)车辆密度计算不够准确,容易受到客观因素的干扰.例如当车流密度过大或者遭遇恶劣天气时,上述两类方法得到的结果难以得到保障;(2)忽略了车辆类型对分配时间的影响.因此,本文基于VANET中的V2I图3双层管道模型下的应用场景图3为由西向东方向车流通过十字交叉路口前的情形.道路长度为L,外层管道长度为L1,内层管道长度为L2,路侧单元RSU1、RSU2和RSU3是管道模型的关键组成部分,分别位于内外层管道的两侧收集进出管道车辆的信息,其中RSU3为内外层管道共用.当车辆进入外层管道时,向RSU1发送驶入消息(EnteringMessage,EM),EM内容包括车辆的标识符、行驶车道、车辆类型、进入管道的时刻以及车辆的优先级等,RSU1需要读取EM的所有信息.当车辆进入内层管道时,向RSU2发送EM,此时RSU2只需读取车辆的标识符信息.当车辆离开管道时,向RSU3发送驶离消息(LeavingMessage,LM),LM内容仅仅包含车辆的标识符信息.两种消息的格式如图4所示.其中,标识符、类型和优先级信息是固定不变的,车道信息和驶入时刻则根据实际情通信提出了一种能够精确探测车辆信息的双层管道模型.3.3.1双层管道模型的具体实现双层管道模型的实质是借助RSU收集和处理管道中车辆的相关信息,包括车辆的标识符、行驶车道、车辆类型、进入管道的时刻以及车辆的优先级等,交通控制系统则利用这些信息为各相位分配合适的绿灯通行时间.管道模型的最大优势在于能够准确获取管道内车流的实时情况.双层管道模型下的应用场景如图3所示.况确定.RSU1和RSU2收到EM后,记录车辆的相关信息;RSU3收到LM后,删除车辆的相关信息.RSU1和RSU3共同维护外层管道内车辆的实时信息数据库,RSU2和RSU3共同维护内层管道内车辆的实时信息数据库.RSU1、RSU2和RSU3将车辆的相关信息进行统计和处理,并由RSU3上交给交通信号控制系统,用于控制交叉路口处信号时间的分配.3.3.2双层管道内的行驶规则管道内的三车道分为左车道、直行车道和右车道,在第一种相位分配情况下,车辆在管道内的行驶符合以下规则:(1)左转车流使用左车道;(2)右转车流使用右车道;(3)直行车流可同时使用直行车道和左车道.在一般情况下,直行车辆所占比例较大,因此规则(3)的设定是为了提高左车道的利用率,从而提高道路的通行量,这种设定与实际情况相符.依据本文3.2节中信号相位的分配方法一,可知同一道路上的左转车流和直行车流共享绿灯时间段,即处于同一相位中.在第二种相位分配方法下,车辆在管道内的行驶符合以下规则:Page6(1)左转车流使用左车道;(2)右转车流使用右车道;(3)直行车流使用直行车道.在不考虑右转车流的前提下,每个相位中仅允许左转或者直行车流通行.如果左转和直行车流共用同一车道,就会互相阻碍对方的正常行驶,因此有必要让它们处于不同的车道.3.3.3管道长度的确定(1)外层管道长度L1外层管道统计的车辆信息用于分配绿灯通行时间,因此分配的绿灯通行时间需要作用于被统计的车辆.在本文中以最长绿灯通行时间TmaxG作为计算外层管道长度的重要依据,即在最长的绿灯通行时间内,能够使得管道中已经排队的车辆全部驶出管道.考虑极端情况,假设当前管道中已经塞满排队的车辆,则存在最后一辆排队车辆驶出管道的时间不大于最长绿灯时间.由于在这个过程中该车辆需要经历等待启动、加速前进和匀速前进三个阶段,因此可以用式(1)表示上述时间关系,即其中,twait、tacc、tuni分别为最后一辆车的等待启动时间、加速前进时间和匀速前进时间.为了计算车辆等待启动的时间,需要计算外层管道能容纳车辆的数量.令车辆之间的安全间距为Lgap,小、中、大型车辆的长度分别为La、Lb和Lc,小、中、大型车辆的数量分别为Nx、Ny、Nz,Lavg表示平均车辆长度,则在长为L1的外层管道中一条车道能容纳的理论车辆数量Nmax为其中Lavg的计算公式如下:通过分析最后一辆排队车辆的运动情况可知,等待启动时间twait等于该车道所有排队车辆的司机反应时间之和,加速前进时间tacc等于最大限制速度与加速度之比,匀速前进时间tuni等于车辆达到最大限制速度后需要通过的剩余管道长度与最大限制速度之比.令trea_i表示第i辆车司机采取加速或减速操作的反应时间,trea_i∈[tmin,tmax],trea表示平均反应时间.twait、tacc、tuni的计算公式分别如式(4)~(6)所示.结合式(1)到式(6),可以得到外层管道长度的计算公式,即L1(2)内层管道长度L2内层管道的作用是在车流特别稀疏的情况下,为本文所提出的智能交通信号控制方法提供跳跃式控制的依据.外层管道在探测到车流特别稀疏时,会为相位分配最短绿灯时间,但是若在此时间段内没有车辆通过路口,则被分配的绿灯时间没有得到有效的利用.因此以最短绿灯时间内是否有车辆通过内层管道作为计算内层管道长度的依据.考虑极端情况,假设某车辆以速度0刚好出现在内层管道一侧,且期望能在最短绿灯时间内通过内层管道.该车辆若加速达到最大限制速度后仍未驶出管道,则开始匀速运动.因此内层管道长度L2满足式(8):L2式中,vmaxaacc未达到最大限制速度,vmax到最大限制速度后仍在内层管道中.3.4尾气排放模型为了量化车辆对空气质量的影响,需要设计反映实际情况的尾气排放模型.这些模型大体可以分类为排放图(emissionmap)、纯统计模型(purelystatisticsmodel)和基于负载的模型(load-basedmodel).排放图容易生成和使用,但是行驶环境对结果的影响很大.纯统计模型通常由瞬时车辆速度和加速度作为变量的线性回归方程构成.为了更加精确地预测车辆排放,需要使用基于车辆瞬时数据的排放模型.它们大多数基于车辆的瞬时运动变量,例如速度和加速度,或者提速时间和刹车时间等更加复杂的变量.本文使用的开放车载自组网框架Veins在计算尾气的排放量时借鉴了EMIT尾气排放模型[28].EMIT模型中,CO2的排放量与车辆的速度和加速度有着密切的联系.Page74基于双层管道模型的自适应跳跃式信号控制方法现实生活中,交通信号控制系统通常分配给交叉路口各相位固定的绿灯时间.然而,固定的绿灯时间无法满足各相位不同车流量的需求,也无法适应车流量的高度动态性.因此,本文基于双层管道模型提出一种按需分配的智能交通信号控制方法,在满足通行量的前提下为各相位车流分配合理的绿灯时间,同时使用一种跳跃式控制方法提高绿灯时间的使用效率.4.1基本思想对于车辆来说,等待时间和停车次数是影响其行驶质量与尾气排放量的两个重要因素.等待时间过长和停车次数过多均会降低交叉路口的通行量,增加车辆的损耗,同时增大尾气的排放量.因此,一个良好的交通信号控制方法需要达到的目的是:在保证通行量的前提下,尽可能地减少车辆的平均等待时间以及平均停车次数,同时降低车辆的尾气排放量.双层管道模型记录了车辆进出管道的实时信息,通过管道内的车流情况,以“按需分配”的原则为各相位分配合理的绿灯通行时间.即当车流量较小时,应分配较短的绿灯时间,减少车辆的等待时间;当车流量较大,应分配较长的绿灯时间,从而减少车辆的停车次数.同时,即使当前相位的车流量很小甚至没有车辆,现有的方法仍然会为该相位分配一定的绿灯通行时间(例如最短绿灯时间),导致在绿灯时间内基本没有车辆通行;而在此时间段内,其他方向的车辆由于红灯处于等待状态,产生一种“空等”现象,造成了绿灯通行时间在此时间段内的浪费.若直接跳过对该相位的绿灯分配时间,而将该时间分配给其他相位,可以减少其他相位车辆不必要的停车次数和等待时间,从而减少CO2的排放.因此,为了提高绿灯时间的使用效率,可以考虑在车流量小到一定程度时,跳过该相位的绿灯时间分配,将绿灯控制权直接分配给下一个相位.本文结合上述两点考虑,基于双层管道模型提出一种自适应的跳跃式信号控制方法.4.2具体步骤绿灯时间的分配实际上是对绿灯时间控制权转移的过程.当某一相位获得绿灯时间控制权后,就会根据当前相位的车流量情况进行合理的绿灯时间分配,经历了分配的绿灯时间后,就会把绿灯时间控制权转移到下一个相位.基于双层管道模型,我们不仅能够通过外层管道得到影响某相位绿灯分配时间的车流量的情况,而且能够通过内层管道获知靠近交叉路口的车辆数量.由于不同类型的车辆存在个体上的差异,因此仅从车辆的数量上考虑车流对绿灯时间的需求并不符合实际情况.本文将车辆类型分为小、中、大三类,并分别赋予影响权重Wx、Wy、Wz(0<Wx<Wy<Wz),其中小型车辆为标准影响权重.通过累加管道中各类型车辆的权重,得到最终影响绿灯时间分配的权重值.而对于内层管道来讲,主要是为车流稀疏情况下做的考虑,因此内层管道只需负责获取某一相位内靠近交叉路口的车辆数目,为跳跃式的控制提供判断依据.对于跳跃式信号控制方法,若仅仅考虑在车流量小到一定程度时就跳过该相位的绿灯时间分配,则可能会出现某一相位存在车辆却迟迟无法通过路口的现象.尽管在城市场景中这是一个小概率事件,但是为了既提高绿灯使用效率,又体现车辆通过路口的公平性,本文记某一相位的内层管道存在车辆且连续被跳过绿灯分配时间的次数为k,若k大于一定的数值α(α为正整数),则应给该相位分配一个最短绿灯时间,使得等候的车辆通过路口.在设计交通信号控制方法时,忽略右转车流对时间分配的影响.以一个相位的绿灯时间分配为例,假设当前相位的外层管道中影响时间分配的车辆总数为Nouter(右转车流除外),令单个车辆的影响权重为Wi(Wi>0),这些车辆的权重之和为Wsum,则有其中,Wi的取值如式(10)所示:假设外层管道的权重阈值为Wt,内层管道的数量阈值为Nt,分配绿灯通行时间的具体步骤如下所示:步骤1.当车辆i进入外层管道时,向RSU1发送驶入消息EMi.当车辆i进入内层管道时,向RSU2发送驶入消息EMi.当车辆i离开管道时,向RSU3发送驶离消息LMi.转步骤2;步骤2.RSU1和RSU3共同维护外层管道内车辆的实时信息数据库,并将当前相位外层管道中影响绿灯时间分配Page8的各类型车辆的总权重Wsum上传给交通信号控制系统.同时RSU2和RSU3共同维护内层管道内车辆的实时信息数据库,并将当前相位内层管道中影响绿灯时间分配的车辆数量Ninner上传给交通信号控制系统.转步骤3;步骤3.交通信号控制系统检查当前相位的车道是否获得绿灯时间控制权,是则转步骤4;否则转步骤1;步骤4.交通信号控制系统比较外层管道中影响绿灯时间分配的总权重Wsum与权重阈值Wt的大小,若Wsum>Wt,说明道路拥塞程度较高,转步骤5,否则转步骤7;步骤5.为当前相位的车流分配绿灯通行时间,继续比较外层管道中影响绿灯时间分配的总权重Wsum与权重阈值Wt的大小,若Wsum>Wt,说明道路拥塞程度依然较高,转步骤6,否则转步骤9;步骤6.交通信号控制系统判断当前相位绿灯持续时间TG是否大于最长绿灯时间TmaxG和最短绿灯时间TminG之差,若TG>TmaxG-TminG,则转步骤9;否则转步骤5;步骤7.交通信号控制系统比较内层管道中影响绿灯时间分配的车辆数量Ninner和数量阈值Nt的大小,若Ninner>Nt,则转步骤9;否则转步骤8;步骤8.交通信号控制系统检查内层管道存在车辆且连续被跳过绿灯分配时间的次数k.若k>α,则转步骤9;否则转步骤10;步骤9.交通信号控制系统为当前相位车流分配最短绿灯时间TminG,转步骤10;步骤10.交通信号控制系统转移当前相位的绿灯时间控制权至下一相位,结束流程.绿灯通行时间的分配过程如图5所示.通过内外层管道RSUs探测的车辆信息,数据中心服务器实时维护Wsum和Ninner并上传交通信号控制系统.交通信号控制系统则依据Wsum信息,以“按需分配”的原则为各相位分配合理的绿灯通行时间.为了提高绿灯时间的使用效率,在Ninner小到一定程度时,忽略该相位的绿灯时间分配,将绿灯控制权直接分配给下一个相位.同时,考虑到由于跳跃式控制导致某相位存在车辆却迟迟无法通过路口的现象,通过比较内层管道存在车辆且连续被跳过绿灯分配时间的次数k与次数对比阈值α的大小,为历经多次跳跃式控制而未通过路口的车辆分配最短绿灯时间.4.3交通信号控制方法衡量指标给时间段[ta,tb]内通过交叉路口的车辆分别编号为1,2,…,n.对于每辆车i(1in),记其在该时间段内的停车次数为Si,等待时间为Di,CO2排放量为Ei.本文使用平均停车次数、平均等待时间、一次通过率和CO2总排放量4个指标来衡量交通信号控制方法的性能.(1)平均停车次数,记为Savg,表示该时间段内通过交叉路口的车辆的平均停车次数.(2)平均等待时间,记为Davg,表示该时间段内通过交叉路口的车辆的平均等待时间.(3)一次通过率,记为F,表示车辆在没有停车的情况下一次通过交叉路口的比例.由于在车流密集情况下车辆可能出现多次停车的情况,因此记Fi为车辆i是否有停车的情况,则有一次通过率可以表示为(4)CO2总排放量,记为Esum,表示该时间段内以红绿灯为中心,以外层管道长度为半径的圆形区域内,所有出现车辆的CO2排放量之和.5实验与分析5.1实验环境与参数Veins(VehiclesinNetworkSimulation)[29]是Page9一种开源的车辆网络仿真框架,提供了车辆移动和网络部分的双向交互功能.其移动层面使用SUMO(SimulationofUrbanMObility)[30]进行模拟,并基于StefanKrau等人开发的微观模型,在车辆引擎、驾驶员行为偏好等方面进行了一定的拓展.而在网络通信层面则使用了OMNeT++(ObjectiveModularNetworkTestedinC++)[31]进行仿真和控制,OMNeT++是一款面向对象的离散事件仿真软件,通过使用Veins提供的TraCI(TrafficControlInterface)交通控制接口[32],OMNeT++可以动态地获得并修改SUMO中车辆的行驶情况和交通灯算法,结合自带的事件及通信功能,能够完成满足实验需求的车辆调度及信息交互功能.本文使用OMNeT++4.6和SUMO0.21.0,基于Veins3.0构建城市交通环境下的仿真环境,与仿真相关的主要参数取值如表1所示.左转数量Na直行数量Nb右转数量Nc小型车数量Nx中型车数量Ny大型车数量Nz小型车权重Wx中型车权重Wy大型车权重Wz小型车长度La、中型车长度Lb、大型车长度Lc5.2交通数据本文使用的交通数据来自于2014中国“云上贵州”大数据商业模式大赛———智能交通算法大挑战.该数据描述了若干天内,贵阳市南明区的主干路段0600~2000时间段内通过各交叉路口的车流量情况.图6中红绿灯用tli来表示.我们选取交通数据文件“flow0901.txt”和“flow0907.txt”中红绿灯ID为“tl23”的交通数据,通过处理得到红绿灯“tl23”在该两天车流量的情况如图7所示.从图7中可以看出,不同方向的车流存在较大差异,由西往东和由南往北的车流整体上处于较高的车流量水平,且在车流高峰时期显得尤为明显.该交通数据反映出了车流的高度动态性,对于评估交通信号控制方法的效果具有较强的说服力.图6贵阳市南明区部分区域路口简化示意图为了体现配时方法在不同交通情况下的效果,本文选取图7中两种车流量,并使用3.2节的两种信号相位分配方法,通过组合得到4种不同的交通情况.为了使得实验的相关描述更加简洁,我们记图7(a)车流量和图2(1)信号相位分配方法的组合为C1_1,类推得到组合C1_2,C2_1和C2_2.Page105.3关键参数的确定从图5中可以看出,最短绿灯时间TminG、最长绿灯时间TmaxG、权重阈值Wt、数量阈值Nt和次数对比阈值α是影响绿灯时间分配的几个关键因素.为了简化问题,在本文的研究中令TminG、TmaxG和α为常数,主要分析权重阈值Wt和数量阈值Nt对交通控制方法性能的影响.5.3.1权重阈值Wt由于本文所提出的自适应跳跃式智能信号控制方法的核心部分是利用权重阈值Wt进行自适应配时,跳跃式控制则是针对车流量稀疏的情况下对配图8权重阈值Wt对各项指标的影响时算法效果的改进.因此,我们在不考虑跳跃式控制的情况下,优先研究权重阈值Wt对交通控制方法性能的影响.首先,研究在不同车流量情况下,权重阈值Wt对车辆平均停车次数、平均等待时间、一次通过率和CO2排放量的影响.我们选取了5.2节交通数据图7(a)中0600~0700、0900~1000和1300~1400这3个时间段的数据,它们分别代表了车流稀疏、车流密集和车流适中3种情况.结合图7(a)的总体车流情况,在图2(1)信号相位分配方法下,得到不同权重阈值Wt对各项指标的影响如图8所示.Page11从图8中可以看出,在车流量稀疏和适中的情况下,权重阈值只有在取值较小时对各项指标具有一定的影响,在其他取值情况下的影响并不明显.而在车流量密集的情况下,车辆的平均停车次数、平均等待时间和CO2排放量会随着权重阈值的增加呈现先减小后增大的趋势,车辆的一次通过率则随着权重阈值的增加呈现先增大后减小的趋势.而对于总体情况来讲,车辆的平均停车次数、平均等待时间和CO2排放量会随着权重阈值的增加呈现先减小后增大的趋势,车辆的一次通过率则随着权重阈值的增加呈现先增大后减小的趋势,且当权重阈值Wt取值为10左右时综合性能最优.总体情况的各项指标曲线呈现出的特征与车流密集的曲线保持一致.5.3.2数量阈值Nt使用C1_1组合交通数据,在权重阈值Wt取值为10的情况下,得到数量阈值Nt对车辆平均停车次数、车辆平均等待时间、车辆一次通过率和车辆CO2总排放量的影响如表2所示.从表2中可以看出,车辆的平均停车次数、平均等待时间和CO2排放量会随着数量阈值的增加呈现先减小后增大的趋势,车辆的一次通过率则随着数量阈值的增加呈现先增大后减小的趋势,且当数量阈值Nt取值为1时综合性能最优.表34种交通情况下固定比例配时方法的时间分配情况相位序号12345.5结果对比与分析本文比较了5种分配方法在不同交通情况下的效果.首先,在C1_1和C2_2两种交通情况下,分别得到5种配时方法在每个小时的性能对比情况如图9和图10所示.从图9和图10可以看出,固定相等配时方法效果最差,主要是因为其没有考虑不同相位车流量的差异;固定比例配时方法基于整体车流量的大小分配时间,效果优于固定配时方法,但与固定相等配时方法一样存在无法适应车流量动态变化的问题.基于决策树的配时方法优于两种固定配时方法,在平均等待时间和CO2排放量两项指标上改进较大,且在车流量较大时改进效果明显.而基于管道模型的两种方法借助RSU获知当前路口的实时车流量情数量阈值Nt0123456785.4配时方法相关说明在对比实验中,选取了固定相等配时方法、固定比例配时方法、文献[7]中基于决策树的配时方法、仅考虑权重阈值Wt的单层管道配时方法、综合考虑权重阈值Wt和数量阈值Nt的双层管道配时方法.固定相等配时方法和固定比例配时方法简单易实现,广泛应用于现实生活中.本文中,固定相等配时方法为每个相位分配30s的绿灯时间.固定比例配时方法则根据统计各相位中影响交通控制的车流数量,按照车流量的比例为各相位分配相应的绿灯时间.在4种交通情况下,根据统计结果得到对应的绿灯分配时间如表3所示.车流量/辆分配绿灯时间/s况,并以“按需分配”的原则为不同方向车流分配了合理的绿灯同通行时间,取得了更好的效果.其中,基于双层管道的跳跃式配时方法有效避免了“空等”现象,提高了绿灯通行时间的使用效率,在所比较方法中效果最优.随后,统计了5种配时方法在不同交通情况下的整体效果,如表4~表7所示.从中可以得出,与固定配时方法中效果较优的固定比例配时方法相比,本文所提方法减少平均停车次数15.5%~36.3%,减少平均等待时间59.1%~85.7%,提高一次通过率16.6%~63.4%,减少CO2总排放量9.6%~17.2%.而与基于决策树的自适应配时方法相比,本文所提方法减少平均停车次数21.0%~27.1%,减少平均等待时间-2.9%~47.8%,提高Page12图9C1_1交通情况下各项指标的比较图10C2_2交通情况下各项指标的比较Page13一次通过率20.3%~24.3%,减少CO2总排放量1.4%~3.8%.由于车流的高度动态性,配时方法的效果具有一定的波动性,同时不同的相位分配方法会对配时方法的效果产生影响,因此在实际操作中有必要根据交叉路口处统计的车流情况设计合理的相位分配方法.固定相等配时固定比例配时决策树单层管道双层管道固定相等配时固定比例配时表7CO2总排放量对比情况C1_22830027.0312710460.3292342862.0202366018.9982310935.476综上所述,本文所提出的方法不仅提高了车辆的行驶质量,而且降低了车辆的尾气排放,其为智能交通控制领域提供了切实可行的交通信号控制方式,具有重要的现实意义.6总结与展望城市环境中,设计高效的交通信号控制策略有利于改善交通安全和效率,同时减少车辆的尾气排放.本文基于VANET的V2I通信,建立了一种精确探测车辆信息的双层管道模型,并基于该模型提出了一种自适应的跳跃式信号控制方法.该控制方法利用外层管道收集的车辆权重,依据“按需分配”的原则为各相位分配合适的绿灯通行时间,同时在车流稀疏情况下利用内层管道收集的车辆数量使用一种跳跃式控制,有效避免了车辆的“空等”现象,提高了绿灯时间的使用效率.在不同的交通情况下进行仿真实验,结果表明本文提出的智能交通信号控制方法能够有效适应车流量的高度动态性,比较明显地提高了交叉路口处的行驶质量,同时有效降低了车辆的CO2排放量.在本文的研究中,探讨了权重阈值和数量阈值的变化对所提智能交通信号控制方法衡量指标的影响,结果证实了方法的有效性.但是权重阈值和数量阈值在每次仿真中是常量,我们将在下一步研究工固定相等配时固定比例配时决策树单层管道双层管道固定相等配时固定比例配时决策树单层管道双层管道作中理论分析它们与车流量的关系,并提出有效且通用的参数设置方法.
