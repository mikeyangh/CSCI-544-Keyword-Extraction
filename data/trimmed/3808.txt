Page1面向物联网传感器事件监测的双向反馈系统杨静1)辛宇1)谢志强2)1)(哈尔滨工程大学计算机科学与技术学院哈尔滨150001)2)(哈尔滨理工大学计算机科学与技术学院哈尔滨150080)摘要针对一般无线传感器网络事件监测算法没有考虑物联网数据的动态不确定性问题,提出面向物联网多维动态不确定数据的事件监测双向反馈系统.该系统分为基站和无线传感器节点2个子系统,其中基站子系统(BaseStationSubsystem,BS)采用BS动态容错训练策略,利用因子分析法计算容错阈值并将其反馈到无线传感器节点子系统(WirelessSensorNodesSubsystem,NS),以调整无线传感器节点子系统的动态不确定数据事件监测参数;其中无线传感器节点子系统采用NS动态容错训练策略,在利用人工神经网络的动态容错能力减少事件监测通信损耗的同时,通过所建立的以容错阈值为参数的人工神经网络事件监测模型进行事件监测,并将监测结果反馈到基站子系统,以驱动基站子系统计算新的容错阈值,实现基站与无线传感器节点子系统的双向反馈循环,完成面向物联网的多维动态不确定数据的事件监测,最后通过实验验证了算法的有效性与可行性.关键词物联网;无线传感器网络;因子分析;人工神经网络;事件监测1引言物联网(TheInternetofThings,IoT)在传感技术、全球定位系统等物理环境信息采集技术的基础上,结合互联网、信息共享、信息传递、人工智能和信息感知等技术实现“物-物”和“人-物”的交互与控制.物联网的技术核心是数据处理,宏观上可将物联网数据处理分为数据感知和数据交互[1],数据感知是数据交互的基础,即在数据收集、数据清洗、数据压缩、数据聚集和数据融合等方面为物联网决策层的数据交互提供底层支持.目前面向物联网的无线传感器网络技术面临的挑战主要集中在以下六点:(1)物联网数据的传输复杂性.由于物联网是“物-物”相连的一类复杂网络,当网络规模增加时物联网内部“物-物”的连接关系数量呈指数增长,导致物联网的数据量呈海量化、“洪泛”化趋势.为消除传输数据的爆炸化灾难,目前已提出了多种改进的数据传输方法,如TSMP[2]、STREE[3]等数据传输法可有效降低传输的数据量.(2)环境数据的高阶异构性.由于物联网是面向各类感知节点的网络,其节点类型具有异构化特征,如交通类、水文类、地质类、气象类等种类不相关的节点均可成为物联网的节点,使物联网的数据感知层必须面对具有高阶异构特性的数据感知问题,这对传感器节点处理高阶数据的能力提出了更高的要求.(3)物联网节点的时空相关性.物联网不同于社会网络,其数据交互过程需要考虑物联网节点的时空坐标,而社会网络仅以节点的逻辑关系为基础且无须考虑时空距离及数据传输代价,因此物联网是具有物理时空约束的复杂网络,如基于位置服务(LocationBasedService,LBS)[4]和物理信息融合系统(CyberPhysicalSystem,CPS)[5]等均是物联网在时空关系研究中的应用.(4)物联网数据的海量动态不确定性.局部物联网传感器所采集的数据随局部环境的动态变化而变化,使物联网环境数据具有高度不确定性和不一致性,随着物联网规模的演变,其海量动态不确定性和不一致性更加明显,由此产生的数据感知代价问题也是目前研究的重点[6].(5)物联网数据的流式特性及时效性.物联网传感器节点所采集的数据为某一时段的环境数据,若将采集时段预设的过长会导致一次处理的数据流量过大,不仅消耗了网络资源,而且会造成数据的冗余;若将采集时段预设的过短,会降低数据统计结果的可靠性[7-8].因此在减少物联网通信负载的前提下,建立面向物联网的数据流处理体系,保障物联网数据的时效性和准确性也是目前研究的重点.(6)物联网无线传感器节点的监测预警.监测预警需要以某一时段内的环境数据作为训练样本,通过监测计量算法来预警异常数据,其中监测时段的长短与通信代价和监测精度直接相关,由于物联网各局部区域传感器节点所处的环境差异较大,不能以全局数据的监测计量结果作为各局部地区的监测标准,因此物联网的监测预警机制需要解决数据的区域不确定性问题[9-10].为满足物联网的以上6种特性,无线传感器异常事件监测技术需要解决6方面问题:(1)数据多维性;(2)数据动态性;(3)数据海量性;(4)数据不确定性(即数据总体分布随环境数据的突变呈不确定变化趋势,不依赖任何统计特性);(5)监测时效性;(6)低损耗高精度.其中(1)和(4)是物联网对无线传感器异常事件监测技术提出的新要求.本文研究的内容即在解决具有以上6方面问题的异常事件监测,可综合描述为多维动态不确定数据的异常事件监测.本文在现有物联网无线传感器网络技术的基础上,对传感器网络事件监测技术进行了研究,第2节介绍相关研究背景;第3节阐述利用基站子系统和无线传感器节点子系统实现事件监测的双向反馈运行机制;第4节设计基站子系统的实现策略;第5节设计无线传感器节点子系统的实现策略;第6节对双向反馈系统的总体算法流程及其复杂性进行阐述和分析;第7节通过实验验证本文算法的有效性和可行性;最后总结全文.2研究背景物联网传感器节点的数据处理过程主要分为数据采集与数据传输,图1为物联网数据采集-传输模型,该模型由无线传感器节点、基站、管理节点构成,其中无线传感器节点负责局部环境数据的采集及特殊事件的监测,并将采集到的数据上传到基站;基站负责接收某一区域内无线传感器节点上传的数据,通过数据整合后上传任务管理节点,任务管理节点在收到基站传来的监测报警数据后调整其工作状态.无线传感器是物联网的数据感知单元,其事件监测算法是物联网研究的热点之一,目前的研究主Page3要集中在减少通信损耗、分布式建模和容错技术3个方面.在减少通信损耗方面,研究的主要方向分为传感器模型优化、传感数据调度优化和信息处理优化.对于传感器模型优化,Shrivastava等人[11-12]提出了基于二位传感器模型的监测跟踪方法,该方法通过建立传感器节点优化模型达到节能的目的;对于传感数据调度优化,文献[13]提出以信息驱动方法作为调度策略,但由于信息驱动调度方式的实际节能效果不明显,随后Zhang等人[14]利用Perti网络随机模型设计了无线传感器睡眠-唤醒调度策略,从全局角度实现了调度优化;对于信息处理优化,文献[15]提出利用贝叶斯法对稀疏事件的数据进行拟合近似,该方法可对大量的通信数据进行压缩以降低通信损耗.上述方法均以传感器节点的调度策略优化为出发点,强调了降低通信损耗,牺牲了事件监测的时效性,对于解决时效性敏感的物联网传感器事件监测问题效果较差.在分布式建模方面,文献[16]设计了可识别不同类型事件的分布式事件监测系统,通过有选择地上传异常数据实现全局传感器节点的协同数据采集.文献[17]提出基于动态传送树的分布式跟踪监测算法,该方法可有效提高分布式传感器系统的采样精度.文献[18]提出了邻近簇的数据均值矩阵法,该方法可匹配事件监测结果,以解决局部相关数据的冗余问题.上述方法的重点是研究解决无线传感器节点的物理分配问题,系统所采集的信息为定点物理信息,由于在广义物联网的概念中一切具有信息发布和信息处理能力的设备均为物联网的节点设备,因此以设备节点静态分布为前提的传统分布式事件监测模型无法解决广义物联网节点设备随机游动的事件监测问题.在容错技术方面,文献[19]提出利用节点自身计算能力构建容错模型,并以容错值的置信区间作为异常接受区间.文献[20]提出基于混合高斯模型的事件监测算法,该算法采用模型选择技术将网络节点划分为事件边缘节点和非边缘节点,以边缘节点的权值作为容错判定的参数.文献[21-22]阐述了失效节点的识别和监测问题,在包容局部失效节点的基础上实现可容错事件监测.上述方法在处理事件监测问题时,均以环境数据总体平稳(总体分布变化较小)为前提,无法应对具有多维动态不确定性的物联网数据,即当物联网数据的总体分布结构发生动态改变时,导致传感器节点采集的数据呈不确定变化趋势.因此需要有效地调整策略及监测阈值,以减少因为总体数据分布变化而产生的错误报警次数.物联网中总体分布不平稳的数据即为动态不确定数据,其不确定性的原因在于物联网环境数据的总体变化,其特点表现为:(1)多维数据总体变化强烈;(2)多维数据的相关性变化相对缓慢[23].因此采用以多维数据相关性变化为重点的监测算法相对于传统以数据总体变化为重点的监测算法更适合解决动态不确定数据的监测问题.为此,本文利用了因子分析法在数据相关性分析方面的有效性,并结合人工神经网络的容错能力,设计了无线传感器节点子系统与基站子系统间双向调节的反馈式事件监测系统,该系统分别在无线传感器节点子系统和基站子系统中创新设计NS(WirelessSensorNodesSubsystem)动态容错训练策略和BS(BaseStationSubsystem)动态容错训练策略,以通信代价最小化为前提,实现多维动态不确定性数据的事件监测.本文在实验部分选用了气象数据作为实验数据,是由于气象信息(如温度、湿度、气压)的总体变化强烈,每个月份前后数据的差异较大且难以统计预测下一月份的数据,可模拟数据的多维动态不确定性,以充分验证本文算法对多维动态不确定性数据事件监测的有效性.3双向反馈系统模型3.1事件监测系统结构反馈机制,使事件监测系统具有如下功能:本文通过在基站与无线传感器节点间建立双向(1)容错功能,当无线传感器节点接收到微小的扰动数据时,不必向基站传递,以减少通信损耗;(2)动态更新功能,当环境总体变化使基站收到较多异常传感数据时,可调节各无线传感器节点Page4的容错阈值,使系统适应环境的动态性变化.图2为双向反馈事件监测系统的结构关系图,按功能分为基站子系统BS和无线传感器节点子系统NS.定义1.异常接受域.BS判断总体环境数据是否变化的参数,若某一时段内BS收到的异常数据总量超过异常接受域,则BS判定环境数据总体发生变化,从而产生新的容错阈值并向NS反馈.定义2.容错阈值.NS的事件监测参数,若NS采集到的环境数据经过判别后与容错阈值偏离较大,则NS判定该环境数据为异常数据并向BS反馈.图2中BS负责接收各无线传感器节点子系统上传的动态异常数据,并通过数据分析为NS提供新的容错阈值,使NS具有动态容错功能;NS负责采集环境数据,其内部训练策略以容错阈值为参数,并判断所采集的环境数据是否为异常数据,若判定为异常数据则上传BS实现事件监测功能,若判定为非异常数据则不上传BS以减少通信损耗.3.2事件监测系统状态分析双向反馈事件监测系统的状态分为训练态和工作态,其中训练态是对环境变化的调整状态,该状态下系统经过参数调整以适应新的工作环境;工作态是对事件的监测状态,该状态下系统对传感器采集的数据进行正常的监测与统计.BS和NS的状态转移关系如图3所示.当传感器环境数据因总体分布变化而产生动态不确定数据时,BS在单位时间片内接收的异常数据量会超过异常接受域,此时BS由工作态转化为训练态,并对容错阈值进行一次调整,使系统适应数据的动态不确定性变化,同时驱动NS开始一次由工作态向训练态的转化,当完成一次动态调整后BS和NS返回工作态.经过训练态的调整,可使系统适应变化后的环境,以满足环境动态不确定变化的要求.为实现BS和NS在训练态下对环境数据的调整,本系统算法分别利用因子分析和人工神经网络设计了BS动态容错训练策略和NS动态容错训练策略.以下是对BS和NS的系统分析和策略设计.4基站子系统无线传感器网络在多维动态不确定数据总体分布变化强烈时,各维间的相关性变化较弱[23],对于多维动态不确定数据事件监测问题,需要以监测数据相关性变化为主,以监测数据分布变化为辅.因此,基站子系统BS利用多元统计中的因子分析法分析多维数据相关性变化,并设计BS动态容错训练策略实现对动态不确定性数据的监测调整.4.1因子分析统计学中因子分析的目标是用较少的数据维度m解释观测样本数据犡中p维观测数据.最理想的情况是用m维数据解释p维数据的损失最少.用于解释p维数据的m维数据称作公共因子,公共因子可以揭示p维异常环境数据犡的潜在共同特征,一般化的公共因子分析模型如式(1)所示:(p×1)(p×m)(m×1)(p×1)(1)其中,犡是p维异常环境数据;μ=[μ1,…,μp]是异常环境数据的均值;犙犇=犡-μ是异常环境数据的标准差;犇是m维公共因子.犙=[q1,…,qm]为因子载荷,公共因子犇可解释为:异常环境数据标准差犡-μ在以犙为基的m维坐标系中的坐标.对于NS向BS传送的数据狓=[x1,…,xp]其因子模型如下:m维公共因子解释p维异常环境数据时,信息Page5损失的方差如下:l=1其中,∑m特定方差越小则m维公共因子犇对数据犡中的p维观测数据近似程度越好.根据式(3)可以推出数据犡的协方差如下:由式(4)可知,通过选择合理的因子载荷犙的维度m,可以使公共因子犇有效解释p维数据犡,为此BS动态容错训练策略采用了主成分分析法(PrincipalComponentAnalysis,PCA)计算因子载荷犙的维度m.4.2BS动态容错训练策略PCA的基本思想是设计寻找特定方差矩阵Ψ的近似估计Ψ,并用Ψ修正犡的总体协方差矩阵Σ.对于无线传感器节点采集的异常环境数据犡,可利用样本协方差矩阵犛作为总体协方差矩阵Σ的估计量.根据协方差矩阵的对称性,犛可对角化为其中,Λ=diag(λ1,…,λi,…,λp)和Γ=[γ1,…,γi,…,γp]分别为犛的特征值与对应的特征向量,根据PCA的基本思想,保留Γ中前m个特征向量作为因子载荷犙的估计犙,并由式(6)确定特定方差矩阵Ψ的近似估计Ψ.因子载荷的估计犙及其特定方差如下:残差矩阵犛-(犙犙T+Ψ)具有如下性质:∑pi≠j根据式(7),被忽略的特征值λm=1,…,λp不会造成偏差过大.因此,异常环境数据犡的总体方差可近似表示为总方差第j个主成分的方差贡献为λj/tr(犛),该值可作为异常环境数据犡被第j个主成分所解释的比例.因此若要达到对异常环境数据犡解释的满意度为β,选取的主成分个数m(m<p)需要满足条件:其中,β的经验取值为0.85[24],即m维公共因子犇可解释p维数据犡的满意度大于85%.利用犙,犛,狓作为犙,Σ,μ的估计值,根据式(1)、式(4)和式(5)数据集犡中任意元素狓的因子得分为由式(1)可知犙犇=犡-μ,其中犡-μ为异常环境数据的标准差,因子载荷犙为从m维因子得分犱到p维异常环境数据标准差的过渡矩阵,结合式(9)可知样本协方差犛的特征向量Γ=[γ1,…,γm]为因子载荷犙的m个方向向量,且各方向的权重为槡Λ=diag(λ槡1,…,λ槡m),容错阈值ξ即为因子得分的加权和,其表达式为当监测环境整体变化时,无线传感器节点不仅会频繁上传异常数据信息,且所监测到的事件已不再是有效的事件,BS需要对单位时间片内接收到的异常数据报警次数g进行统计,设单位时间片内的异常接受域为θ,当gθ时,BS由工作态进入训练态,此时BS先接收单位时间片内NS采集到的所有环境数据犡;再按式(10)重新计算容错阈值并将计算结果反馈到NS;最后BS还原为工作态,本文实验验证了θ对事件监测结果的影响.5无线传感器节点子系统无线传感器节点子系统NS负责环境数据的采集及异常监测,其工作态和训练态的主要功能分别为监测异常数据和对新的容错阈值进行训练.由于人工神经网络模型在具备容错能力的同时,还可兼顾判断和训练功能,因此选用人工神经网络模型作为NS的基本模型,分别选用hardlim函数和purelin函数作为监测和训练时的传输函数,以实现数据监测和容错阈值训练功能.5.1NS人工神经网络模型构造由于无线传感器所采集的数据具有高度不确定性,需要人工神经网络具有区分非线性可分数据的功能,因此选择反馈型人工神经网络作为模型基础.Page6从图3所示的状态关系可知,在训练态下NS系统以多维数据作为输入输出对象,以新的容错阈值作为训练对象,其结构设计如图4所示,其中实线箭头和虚线箭头分别代表NS处于工作态和训练态的数据流向,当NS处于工作态时,将一个单位时间片内采集到的环境数据存入内部存储器并释放内部存储器内的原有数据,同时将该数据输入神经网络;当NS处于训练态时,NS根据BS传入的新容错阈值ξ和内部存储器内保留的数据训练神经网络.因此,NS神经网络的模型构造需要考虑如下几方面问题:(1)神经网络的层数选择.由于异常环境数据的判别问题是一般的非线性判别问题,且在通常条件下数据维数p为较小的常数,可利用3层BP神经网络实现分类,其输入层、隐含层和输出层的层数均为1;(2)各层网络的节点个数选择.由于以p维环境数据作为输入,若隐含层具有k个节点则神经网络权值犠(1)和犠(2)的阶数分别为p×k和k×1,其中k的值越大则运算量越大,又由于BS动态容错训练策略中因子载荷的维数为m,为使NS近似BS的因子分析过程,选择m作为隐含层的节点个数;(3)初始权值设定.为实现NS对BS因子分析的近似,将p×m阶因子载荷犙作为第1层神经网络初始权值犠(1),以m×1阶特征向量槡Λ作为第2层神经网络初始权值犠(2),且每层初始单元阈值b(1)和b(2)均为0;(4)输入层与隐含层传输函数的选择.图4中工作态和训练态的传输函数相同且环境数据是一类非线性可分数据,可选择传统神经网络的非线性判别图4NS人工神经网络结构图5.2NS动态容错训练策略由图3所示,当BS从工作态转化为训练态时,BS按主成分分析法重新计算容错阈值ξ,并将ξ反馈到NS,此时NS由工作态转化为训练态,其过程传输函数logsig作为输入层与隐含层的传输函数;(5)工作态输出层传输函数的选择.由于NS的输入输出均为多维数据,为保持多维数据的输出结果,工作态输出层的传输函数只需给定数据0或1作为判别结果,因此选择以0或1为函数值的hardlim函数作为传输函数,若判别结果为1则环境数据为正常数据,不上传BS;若判别结果为0则环境数据为异常数据,上传BS.hardlim的函数参数为η(0<η<0.5),本文实验验证了不同的参数η对结果的影响;(6)训练态输出层传输函数的选择.由于容错阈值已由BS动态阈值调整策略进行了压缩和调整,NS神经网络在训练态时只需直接将容错阈值作为训练结果,因此选择输入与输出相等的purelin函数作为传输函数;(7)训练次数的选择.神经网络的训练过程是使输出数据与容错阈值无限接近的过程,可以利用输出数据与容错阈值的平均绝对误差作为输出数据与容错阈值拟合的标准,当平均绝对误差小于某一极小值时终止训练态.经上述过程构造的NS神经网络隐含层与输出层的权值矩阵分别为犠(1)和犠(2).隐含层的输出结果为输出层的输出结果为hardlim(犪犠(2)-b(2))=0,犪犠(2)-b(2)η如下:组数据xi;(1)从NS内部存储器中取出上一单位时间片内的第i(2)计算犪=1/(1+exp(狓i犠(1)-b(1)))和purelin(犪犠(2)-Page7b(2));b(2))和Δ犠(2)=(Δb(2))犪;(3)根据新的容错阈值ξ计算Δb(2)=ξ-purelin(犪犠(2)-(4)计算Δb(1)=[-exp(-狓)/(1+exp(-狓))2]Δb(2)和Δ犠(2)=狓(Δb(2))犪,其中狓为输入数据.循环计算内部存储器内的所有数据,并在每一次循环结束后对Δb(2)进行判断,若输出数据的平均绝对误差mae(Δb(2))小于某一极小值(0.01)则训练结束,否则从内部存储器中取出第i+1组数据,并返回步2继续训练.训练过程的Matlab核心伪代码如算法1.算法1.NS动态容错训练策略算法.输入:b为容错阈值,m为观测样本输出:w1,b1,w2,b2分别为神经网络的各层权值及阈值FUNCTION[w1,b1,w2,b2]=BP(b,m)input_train=m;output_train=b;[inputn,inputps]=mapminmax(input_train);//输innum=6;midnum=6;outnum=1;//网络结构初始入数据归一化化,其中输入层和隐含层节点个数为6,输出层为1//权值初始化,每层网络的初始权值取随机值w1=rands(midnum,innum);b1=rands(midnum,1);w2=rands(midnum,outnum);b2=rands(outnum,1);w2_1=w2;w1_1=w1;b1_1=b1;b2_1=b2;xite=0.1;//学习率abort=0.01;//循环终止时的平均绝对误差条件//网络训练过程FORii=1:1000E(ii)=0;FORi=1:1:144ENDIFmae(e)<abortENDEND6双向反馈事件监测系统算法及复杂度分析信号;发送的信号;6.1调度算法设计由图3可见,BS与NS间通过交互信号驱动彼此的状态转化,本文根据BS与NS的实际工作情况设计BS的发射信号Sig_B1,Sig_B2,Sig_B3,Sig_B4和NS的发射信号Sig_N1,Sig_N2,各信号含意如下:(1)Sig_B1为BS进入训练态时向NS发送的(2)Sig_B2为BS由训练态变为工作态时向NS(3)Sig_B3为BS不需要进入训练态时向NS(4)Sig_B4为BS向NS发送的结束信号,用于(5)Sig_N1为NS接收到Sig_B1时(BS进入训练态)向BS传送单位时间片内所有监测数据的信号;(6)Sig_N2为NS监测到异常数据时向BS传发送的信号,该信号携带新的容错阈值;终止系统的运行;送的信号.6.1.1BS子系统算法开始事件监测;1.初始时刻利用经验容错阈值向NS广播信号Sig_B22.在单位时间片内监听NS传来的所有异常数据,若3.在单位时间片结束时,判断接收到的异常数据量是4.向NS广播信号Sig_B1征集该单位时间片内的所有该时间片为最后时间片则转步8,否则转步3;否超过异常接受域,若超过则转步4,否则转步7;监测数据;Page8练策略计算新的容错阈值;5.接收NS发送的信号Sig_N1,并利用BS动态容错训6.将容错阈值载入广播信号Sig_B2并向NS发送,转7.向NS广播信号Sig_B3使NS保持工作态,转步28.向NS广播信号Sig_B4使NS结束任务,并结束BS步2开始另一单位时间片的监听;开始另一单位时间片的监听;的运行.6.1.2NS子系统算法1.采集环境数据,若发现异常则向BS发送Sig_N2,并图5BS与NS算法流程图6.2复杂度分析假设系统中无线传感器节点总数为n,每个无线传感器节点单位时间片内采集的环境数据维数总量为g,维数为p,下面分析BS与NS的复杂度.6.2.1BS算法复杂度BS算法复杂之处在于训练态下容错阈值的计算,式(6)对协方差矩阵的线性求和计算需要O(gpn),对p阶协方差矩阵进行特征分析的时间复杂度为O(p3);式(10)对容错阈值的求解需要计算3个矩阵连乘,运算次数为(1×p)(p×m)(m×1)=p2m2.因此对容错阈值求解的时间复杂度为O(np+p3+p2m2),最坏情况下每个单位时间片需要重新计算一次容错阈值,因此总时间复杂度为O(g2np+3.将NS内部存储器中的所有数据载入信号Sig_N1并发送至BS转步1;4.取Sig_B2中新的容错阈值,并利用NS动态容错训等待BS传来的信号;2.若接收到的信号为Sig_B1则转步3,若为Sig_B2则转步4,若为Sig_B3则转步1,若为Sig_B4则转步5;练策略训练NS,转步1;5.结束NS的运行.图5为BS与NS算法流程图.gp3+gp2m2).6.2.2NS算法复杂度由于无线传感器节点各自独立,因此NS算法的复杂度等于一个无线传感器节点的复杂度.NS算法分为工作态时的数据监测和训练态时各层神经网络权值的计算,在工作态时由于NS选择环境数据维数p作为输入层和隐含层的节点个数,且输出层的网络节点个数为1,因此在工作态时NS的3层神经网络对p维数据的监测需要进行p×p×p+p×p+p=p3+p2+p次计算,一个单位时间片内数据的计算次数为g(p3+p2+p);在训练态时,需计算各层权值的变化量,其计算次数恰为工作态计算次数与转移函数之积,由于NS选择函数purelinPage9作为传输函数,且该函数的输入与输出相等不需要额外计算次数,因此训练态的计算次数为g(p3+p2+p).综上所述,单位时间片内BS算法和NS算法在工作态下的时间复杂度为O(gp3+gp2+gp),在训练态下的时间复杂度为O(gp3+gp2+gp+g2np+gp3+gp2m2).由于一般情况下被监测的数据维数p为较小的常数,因此系统时间复杂度约为O(g2n).7实例分析及验证本文以美国宇航局兰利研究中心(NASALangleyResearchCenter)的气象数据作为实验数据,该数据将中美洲地区(113.8W,56.2W,21.2S,36.2N)划分为24×24个网格节点,记录了1995年1月至2000年12月共72个月的气象数据,包括海拔、地表水温、气温、臭氧量、气压、云层高度最低值、云层高度平均值和云层高度最高值.本文实验以网格节点作为无线传感器网络节点,以每个月的气象数据作为动态感知的环境数据,其中气象数据的异常变化即为事件监测内容.由于邻近地区的气象数据差异不明显且海拔和云层高度最低值变化较小,因此选取其中12×12个网格节点作为无线传感器节点,选取其中云层高度最高值、云层高度平均值、臭氧量、气压、地表水温、气温6维气象数据作为观测数据,本文实验对144个无线传感器节点72组气象数据进行监测,并分析监测结果.图6144个节点在72个月内6维数据分布图(1)采用传统统计学方法的动态监测效果图6为144个节点在72个月内的6维数据分布,直观表达了不同节点的环境数据随时间呈总体不确定性变化的趋势,因此该数据可以有效验证本文算法随环境数据变化的动态容错性能.图7为144个节点物理位置的6维气象数据平均值分布,其中底层平面坐标网格交叉点分别为(113.8W~58.8W,18.8S~36.2N)区域内的144个无线传感器节点.图6和图7直观可见每一月份的各维气象数据差异性较大,且每一节点的每一维数据均值与总体均值间的标准差较大,具有动态不确定数据的总体分布特性.采用传统统计学方法的事件监测算法需要在统计全局环境数据的基础上计算各维数据的监测域值.对于动态不确定数据,需要解决跟踪数据总体变化的问题,由于动态不确定数据在不同的单位时间片内数据分布不同,在跟踪动态不确定数据时,需要在每一单位时间片结束后对上一单位时间片内的数据进行重新分析,以计算下一单位时间片的监测域值.为验证传统统计学方法的监测效果,实验利用99%置信区间作为每一维数据的监测域值,对每个月份进行一次监测域值的计算(即单位时间片为1),并利用所得出的监测域值以预测下一月份的异常数据,图8为144个节点的物理位置报警图,报警次数最多的节点分别为(68.8W,18.8S),(66.2W,1.2N),(103.8W,36.2N),(83.8W,3.8S),报警次数分别为71,71,71,36.Page10图7144个节点的物理位置6维气象数据平均值分布图94个节点的环境数据变化与事件监测结果报警月份图采用传统统计学方法对动态不确定数据进行跟踪观测的问题在于,需要在每一单位时间片结束后重新计算置信区间更新各维数据的监测域值(本例中共计算并上传72次全局数据),不仅浪费了大量通信资源,而且所给定的监测域值为全局条件下各维数据的置信区间,容易导致局部特殊节点的报警数据过于频繁,如(68.8W,18.8S),(66.2W,1.2N),(103.8W,36.2N),(83.8W,3.8S),以上4点报警次数已达到上限(72次),图9为以上4点的环境数据变化与事件监测结果报警月份图,其中竖线代表节点的报警月份,折线代表6维数据的逐月变化.Page11(2)双向反馈事件监测系统的监测效果双向反馈事件监测系统的监测结果与异常接受域θ取值与hardlim参数η取值有关,为精确跟踪不确定数据的总体变化趋势,实验以全局3%以内的节点报警(2~5个节点报警)作为判定不确定数据总体发生变化的标准,因此选择θ以2~5作为实验取值.η为神经网络控制容错性能的参数,且0<η<0.5,因此实验以0.05~0.5作为η的实验取值,以分析θ和η对实验结果的影响,为说明实验内容,以下分别选取了4个实验参数的取值点进行分析.①θ取值为3,η为0.3.1~72个月的报警次数分别为2,2,2,1,0,0,0,0,0,0,2,2,2,2,2,2,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,2,1,2,2,1,2,2,1,0,0,0,0,0,0,1,2,2,3,31,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,1共报警85次.容错阈值调整的月份为1,50,51.调整后的阈值分别为230.0859,148.0070,88.3081.(68.8W,18.8S),(66.2W,1.2N),(103.8W,36.2N),(83.8W,3.8S)报警次数分别为26,29,1,1.图10为θ取值为3,η为0.3时(68.8W,18.8S),(66.2W,1.2N),(103.8W,36.2N),(83.8W,3.8S)4个节点的环境数据变化与事件监测结果报警月份图.②θ取值为3,η为0.1.图10θ=3,η=0.3时4个节点环境数据变化与事件监测结果报警月份图图11为传统统计学方法与本文算法(θ取值为2,η为0.3)在单位时间片分别为1和2情况下的数据调整对比图,图中的折线取值为6维数据的特征1~72个月的报警次数分别为2,2,2,1,0,0,0,0,0,0,2,2,2,2,2,2,1,0,0,1,0,0,1,2,2,2,2,1,0,1,0,2,2,2,2,1,2,2,1,0,0,0,0,0,0,2,2,2,3,31,2,0,0,0,0,0,0,1,0,0,2,1,1,2,0,0,0,0,0,0,0,1共报警96次.容错阈值调整的月份为1,50,51.调整后的阈值分别为:230.0859,148.0070,88.3081.(68.8W,18.8S),(66.2W,1.2N),(103.8W,36.2N),(83.8W,3.8S)报警次数分别为28,34,1,1.③θ取值为2,η为0.3.1~72个月的报警次数分别为2,143,1,6,0,15,2,2,72,3,2,0,0,0,0,0,0,0,0,0,1,5,2,12,143,2,3,3,3,1,3,9,66,48,2,93,32,3,4,1,1,2,0,1,1,2,0,0,0,19,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,1共报警714次.容错阈值调整的月份为1,2,3,5,7,8,9,10,11,12,23,24,25,26,27,28,29,30,32,33,34,35,36,37,38,39,40,43,47,51.调整后的阈值分别为230.09,229.05,229.15,248.30,236.47,229.85,237.94,232.08,236.90,244.56,233.69,230.01,226.08,224.52,247.64,210.55,246.60,242.94,223.33,237.44,231.68,238.73,221.00,211.27,250.99,255.24,195.24,164.92,172.34,88.308.(68.8W,18.8S),(66.2W,1.2N),(103.8W,36.2N),(83.8W,3.8S)报警次数分别为29,27,12,9.值加权和,折线上某点的斜率的绝对值越大说明该点的数据总体变动越大,图中实箭头代表传统统计学的全局调整点,虚箭头代表本文算法的全局调整Page12点.由于不确定数据总体变化较强,各维数据的相关性变化较弱,对于以数据总体变化为监测点的传统方法,需要在每一单位时间片结束后对全局监测内容进行调整,以跟踪监测数据总体变化,而本文算法仅在6维数据相关性发生变化时进行一次全局监测内容的调整,且只需对相关性变化强烈的单位时间片进行调整,对不确定数据的波动性适应能力更强,根据图11可以直观判断出,本文算法仅需要传统算法全局调整次数的1/2,即可实现对不确定数据的动态跟踪调整.图11传统统计学方法与本文算法的数据调整对比图④θ取值为2,η为0.1.1~72个月的报警次数分别为2,144,6,6,0,16,2,2,73,3,134,0,1,0,0,3,2,80,7,64,10,62,6,12,143,2,3,9,3,2,1,3,67,49,2,95,32,3,4,2,6,1,1,4,54,2,1,1,8,31,2,44,3,0,1,1,2,5,6,144,2,144,0,6,56,79,78,3,12,8,3,107,共报警1870图12θ=2,η=0.1时4个节点环境数据变化与事件监测结果报警月份图次.容错阈值调整的月份为1,2,3,4,5,7,8,9,10,11,12,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,33,34,35,36,37,38,39,40,41,42,45,46,47,50,51,52,53,54,58,59,60,61,62,63,65,66,67,68,69,70,71,72.调整后的阈值分别为230.09,229.05,229.15,221.99,248.30,236.47,229.85,237.94,232.08,236.90,244.56,216.47,216.30,220.20,227.04,237.59,237.69,233.69,230.01,226.08,224.52,247.64,210.55,246.60,242.94,239.64,237.44,231.68,238.73,221.00,211.27,250.99,255.24,195.24,207.42,199.06,171.95,174.93,172.34,148.01,88.308,203.73,209.84,153.90,176.69,181.04,193.13,197.17,152.71,206.99,201.68,165.06,163.52,174.73,172.99,175.09,188.69,193.12.(68.8W,18.8S),(66.2W,1.2N),(103.8W,36.2N),(83.8W,3.8S)报警次数分别为46,49,21,22.图12为θ取值为2,η为0.1时(68.8W,18.8S),(66.2W,1.2N),(103.8W,36.2N),(83.8W,3.8S)4个节点的环境数据变化与事件监测结果报警月份图,从图12与图10的对比可知,θ和η取值越小,对各节点的动态事件监测结果越精确.图13为以上4个节点的容错阈值调整的月份图,其中坐标内的竖线代表BS进行容错阈值调整的月份,每调整1次容错阈值需上传1次全局数据,因此在θ取值为2,η为0.1的条件下共上传58次全局数据.图14为θ取值为2~5,η取值为0.05~0.5的报警次数统计,其中θ取值为2,η为0.1时报警次数最多.Page13图13θ=2,η=0.1时4个节点容错阈值调整月份图图14θ取值为2~5,η取值为0.05~0.5时(3)实验总结由实验分析可知:①由于传统统计学方法仅以多维置信区间为监测域值,没有考虑多维数据间的主成分相关性,被判定为异常数据的概率大大高于经因子分析后的判定结果;②在对动态不确定数据进行跟踪监测时,以不确定数据的多维相关性为监测重点的算法效果优于以数据总体变化为监测重点的传统算法;③传统统计学方法在面对动态不确定数据时,需要在每个节点建立一个统计计算机制,且节点在每一单位时间片内的计算量很大,所有节点均进行72次统计计算,而本文算法将统计计算过程(因子分析)集中在BS内,且仅需要58次因子分析计算;④算法的异常接受域θ取值和hardlim参数η均可调节事件监测的结果,其中θ比η对结果的影响大,在处理不同的物联网传感器问题时可分别将θ和η作为粗细校准参数调节监测结果.针对不同的应用问题,可根据经验水平和风险代价评估标准设定θ和η的初值,在建立目标函数后采用最优化方法对参数θ和η进行调整.8结论一般无线传感器网络事件监测算法以被监测数据总体无变化为前提,无法适应物联网数据总体分布的动态不确定性变化,为此本文提出将因子分析与神经网络相结合的双向反馈事件监测系统.该系统以因子分析法对不确定数据检验的有效性为基础设计了BS动态容错训练策略,可在多维动态不确定数据总体变化时,根据多维数据的相关性变化调整监测阈值,保证了对全局多维动态不确定数据的跟踪,提高监测精度;以人工神经网络的工作过程为基础设计NS动态容错训练策略,利用人工神经网络的容错性降低了事件监测的通信损耗.最后通过实验分析验证了系统模型的有效性与可行性.
