Page1在线社会网络的测量与分析徐恪1),2)张赛1)陈昊1)李海涛3)1)(清华大学计算机科学与技术系北京100084)2)(清华信息科学与技术国家实验室(筹)北京100084)3)(西蒙弗雷泽大学计算科学学院温哥华加拿大V5A1S6)摘要Facebook、Twitter、人人网和新浪微博等社交网站逐渐成为互联网上用户数量最多、最受欢迎的网站.近年来,国内外已有大量研究工作深入考察在线社会网络的拓扑结构和用户行为,这对理解人类的社会行为、改进现有的网站系统和设计新的在线社会网络应用具有重要意义.文中从测量角度对在线社会网络的拓扑结构、用户行为和网络演化等方面进行了综述,总结了常见的测量方法和典型的网络拓扑参数,着重介绍了用户行为特征、用户行为对网络拓扑的影响以及网络的演化.可以看出,随着研究的深入,在线社会网络的新特征逐渐被大家认识和理解,包括好友少的用户的交流范围集中在小部分好友,而好友多的用户联系的好友更均匀;用户之间的交互减小了在线社会网络的聚类系数,使网络结构更松散;边的生成受优先连接和临近偏倚的共同影响;小社团倾向于和大社团合并,大社团倾向于分裂为两个规模相当的小社团等.关键词在线社会网络;测量;网络拓扑;用户行为;演化;社交网络1引言互联网的出现极大地改变了人们的生活方式,增进了人与人之间的交流.用户通过各类互联网应用连接成一个庞大的网络.在这个网络中,用户是节点,用户之间的关系或交流是有向边,这是我们观察互联网应用拓扑的一般形式.当我们的观察角度或场景不同时,就可以形成不同的网络.比如在wiki中,当两个用户A和B编辑了同一个页面时,他们之间就存在一条边,这是因为同时编辑一个页面的用户常常会直接进行交流[1].又如在万维网(WorldWideWeb,WWW)中,数百亿的网页就是节点,而网页之间通过嵌入的超链接相互连接.在现实生活中,与他人交流是个人的主要行为,人们总是会通过某种关系相互连接形成一个社会网络(SocialNetwork),也称为社交网络.社会网络分析是社会学的重要分支,关于它的工作最早可以追溯到AugusteComte(1798~1857)和GeorgSimmel(1858~1918).与通常把社会看成个人的集合不同,他们把社会看成关系的集合.这就打破了以个人心理和行为为研究重点的传统,把人与人之间的关系提升到与个人属性同等的地位.现代社会网络分析的概念和方法来源于1934年Moreno等人[2]的工作,之后人们对Moreno的工作进行完善和系统化,逐渐形成了今天的社会网络分析理论[3-4].互联网的兴起和普及为社会网络分析提供了难得的机遇.为了区别一般的社会网络,我们把互联网上的社会网络统称为社会媒体网络(SocialMediaNetwork,SMN).例如,Leskovec和Horvitz[5]计算了微软Messenger服务的用户网络参数,他们发现,每个用户都有一些自己经常联系的密友(buddies),这些密友通常会列出自己的地理位置,这就形成了一个从真实世界到虚拟网络的社会关系的映射.Adamic和Adar[6]发现政治类博客可以清晰地分为两类,分别代表了普通人群不同的政治观点.除了这些由用户驱动而成的SMN,人们还研究了超链接网络(网页和超链接构成的网络)的结构特征(如Park和Thelwall[7]的工作).伴随着互联网的发展[8],万维网上SMN的研究趋于成熟.随着Web2.0的普及而逐渐流行的Facebook、Twitter、新浪微博、人人网等社交网站(SocialNetworkSite,SNS)使SMN的研究进入了另一个热潮.最新统计①表明,Facebook用户每天要观看约500年时长的YouTube视频,Twitter上每分钟要分享700个YouTube视频.截至2012年12月底,我国使用社交网站的用户规模为2.75亿,较上年底提升了12.6%,占网民比例近5成②.社交网站强调用户的直接参与,用户可以建立单向或者双向的好友关系,通过SNS与他人进行交流、获取消息、发布消息、上传照片和视频等.他们不再是被动接受信息的媒体受众,而是积极地参与到网络活动中来,成为信息的制作者、分享者和传播者,他们更具有自主性和互动性.根据SNS不同的功能和定位,基于SNS而形成的用户网络或是真实社会网络的虚拟映射,或是互联网用户自发形成的在线网络.这个网络不再像wiki一样需要通过进一步抽象而构成用户之间的连接,而是存在用户之间的直接交互.为了区别和强调这种差异,我们把社交网站用户构成的社会媒体网络称为在线社会网络,或在线社交网络(OnlineSocialNetwork,OSN).在线社会网络的测量与分析是指通过采集、整理OSN的原始数据,利用复杂网络、社会网络和数据挖掘的理论方法和技术,挖掘和提取OSN的结构特征和用户行为特性.由于OSN的快速发展,无论从科学角度还是实用角度都迫切需要对其进行分析研究,以便更好地加以改进利用.另外,OSN大量的用户、丰富的数据、低成本的测量是传统社会学测量和采样所无法比拟的,把经典的社会网络分析理论和技术应用到OSN中我们可以得到关于社会网络更准确的结果.因此在线社会网络的测量与分析有助于人们理解和认识OSN的结构特征、演化和用户的社交行为,对研究开发新的基于OSN的应用具有很好的指导意义.①②Page3近年来学术界对OSN的研究日益深入,研究内容也多种多样,包括网络拓扑、用户行为、用户隐私和安全、系统架构、社团挖掘、信息传播等.无论是系统设计还是理论分析,对OSN的测量与分析是认识和研究OSN的第一步,因此本文主要从测量的角度讨论有关OSN拓扑结构及其演化、用户行为分析等方面的研究工作.OSN作为一类复杂网络,对它的研究延续了传统复杂网络的研究方法;同时,作为社会网络的特例,社会网络分析理论也适用于OSN.已有一些从复杂网络[9-10]和社会网络[11]的角度论述OSN的专著,本文则从OSN自身出发,更关注其与传统社会网络的差别、拓扑结构的动态特征、用户行为特征和它们之间的关系.本文对近年来的相关工作进行了梳理,以测量结果和分析为重点,相关的理论研究较少涉及,感兴趣的读者可以参考文献[12-14].一个典型的OSN测量与分析的工作流程如下:首先利用某些测量方法采集OSN的原始数据,然后针对所关注的问题使用软件工具或者设计新的算法挖掘数据(统计)特征,最后分析所得结果的意义及其所体现的OSN特征.基于上述流程,本文第2节简要介绍一些典型的数据集,总结3种常用的测量方法;第3节简单介绍常见的社会网络分析工具;第4到6节阐述现有主要的测量分析结果,包括常见的分析方法.第4节总结典型的网络拓扑参数和OSN在这些参数上的表现,并介绍用户之间的交互对OSN拓扑结构的影响;第5节从不同角度分析OSN上的用户行为特表1SNAP收集的社交网站数据集举例边数10761413673453Google+的社交圈813061768149Twitter的社交圈ego-Facebookego-Gplusego-Twittersoc-Epinions1soc-LiveJournal1有向484757168993773LiveJournal在线社会网络soc-Slashdot0811有向soc-Slashdot0922有向wiki-Vote还有其它一些网络数据集,比如含有社团的社会网络、基于地理位置的社会网络、论文作者的合作网络、Amazon购物关系网等,因篇幅限制这里不再一一介绍.征,包括SNS应用上的用户行为和OSN中的信息传播;第6节考察OSN的演化问题,分析不同拓扑参数的动态特征,分析边的生成和社团演化的规律.最后一节对全文进行总结和展望.2在线社会网络的测量方法数据是OSN研究的前提和基础.在未获得社交网站服务提供商支持的情况下,自主测量是开展OSN研究的第一步.在OSN测量方面已经出现了大量的论文,这些工作以测量为基础,较深入地统计、分析了OSN的很多特征,使我们对OSN有一个较直观的认识,同时也是进一步理论工作的基础.OSN的测量往往与研究目的相辅相成,测量工作不可能一劳永逸,需要针对特定的研究目的应该选择适当的测量方式.2.1典型的社会网络数据集很多研究者把自己测量的数据共享出来供其他研究者使用,比如加州大学欧文分校(UniversityofCalifornia,Irvine,UCI)网络组共享了他们有关Facebook的测量数据①,Cha等人共享了他们对Twitter的测量数据②.我们选取斯坦福大学网络分析项目组(StanfordNetworkAnalysisProject,SNAP)③收集的较丰富的数据集做简单介绍,供读者参考.SNAP收集了大约50个大型网络的数据,这些网络的规模(节点数和边数)从数万到几千万不等,种类各异,包括社会网络(socialnetworks)、Web图(webgraph)、公路网络(roadnetworks)、互联网网络(Internetnetworks)、论文引用网络(citationnetworks)、合作网络(collaborationnetworks)、通信网络(communicationnetworks).表1列出了一些社交网站的数据集、点代表用户、边(有向或无向)代表用户之间的好友关系.①②③Page42.2常见的测量方法虽然很多研究者共享了自己的测量数据,但我们不可避免地会受到测量数据本身的限制,比如如果我们关心消息在社会网络中的传播,我们就需要知道转发消息的来源,而很多已公开的数据集并不包含此类信息.因此主动测量是OSN研究中最常用的数据获取方法.OSN的测量方法主要有以下几种:网络爬虫、抓取数据包、采集日志.(1)网络爬虫网络爬虫是一种最常用的抓取网页数据的方法,当然也可以用来测量OSN.通过下载和分析网页源码,我们可以得到所需的数据.网络爬虫是典型的图遍历过程,例如以用户为中心,以好友关系为线索遍历好友关系网.虽然这种方法的逻辑结构简单,但其工作量大、数据形式单一、局限性较大.通过网络爬虫采集的数据往往是静态的,无法用来分析OSN的动态行为,所以这种方法常出现在早期对OSN拓扑结构的研究当中[15].当然也有研究者基于SNS(如人人网)自身的功能利用网络爬虫抓取动态数据[16],但此类方法并不通用.由于很多SNS(如Facebook①、Twitter②、人人网③、新浪微博④等)提供了开放的API以方便开发者开发应用程序,我们也可以通过API采集(调用)用户数据[17].这些数据较简洁,也会包含一些动态信息,但数据获取范围仍受API本身的限制.(2)抓取数据包通过在网关抓取(HTTP)数据包、解析包(包头),我们可以获得丰富的实时信息.一些常用的包分析工具有Wireshark⑤、SnifferPro⑥、BroIDS[18]等.这种网络层的测量方式非常有利于研究OSN用户的行为特征[19-20],这些信息恰恰是网络爬虫得不到的.但是为了获得较完整的数据,测量者必须得到ISP或网络运营机构的支持,解析包的工作也非常繁琐,对于认识OSN的拓扑特征较局限.可以看出网络爬虫和抓包是互补的测量方法,它们分别呈现了OSN的静态和动态特征.(3)采集日志采集日志是一种较便捷的测量方法,它不需要分析网页源码、包头等复杂信息,而直接定位到一些关键信息,有助于我们把主要精力放在所要研究的问题和研究方法上.获得日志通常需要得到SNS服务商的协助,由他们直接提供原始日志[21].OSN的测量方法并不限于上述3种.为了获得对OSN的全面认识,很多工作[17,19]同时采用了多种测量方法.鉴于很多SNS提供了应用开发平台,我们也可以通过开发SNS应用来获取丰富的用户数据[22].文献[17,19]均在被称为社交网络聚合器(socialnetworkaggregator)⑦的服务网站同时采集多个SNS的用户数据,该网站相当于一个“网关”,用户可在该网站同时登陆多个SNS帐号,这种混合数据便于对不同OSN进行比较.3常见的社会网络分析工具除测量方法外,对OSN拓扑结构的研究与传统社会网络分析理论有很多共同之处,因此延续了较多社会学的研究方法.对社会网络的分析由来已久,目前已出现了很多社会网络分析(SocialNetworkAnalysis,SNA)软件⑧.对于一些简单的网络拓扑参数,如聚类系数、度分布等,我们可以直接利用适当的SNA软件对OSN进行分析.以邻接表或邻接矩阵的方式输入原始网络,SNA软件可以自动计算多种网络拓扑参数,也可以直观地展示网络结构.一些SNA软件可以做预测分析,包括基于连接等网络现象预测个人层面的输出(称为同伴影响或传染建模),基于个人层面的现象预测连接或三元组的形成等网络输出(称为同质性模型),基于网络现象预测其它网络现象,比如根据0时刻某一个三元组的形成预测1时刻某个连接的形成.SNA软件通常包括基于图形用户接口(GraphicalUserInterfaces,GUIs)的包或为编程语言设计的API.常见的GUI包有NetMiner、UCINet、Pajek、GUESS、ORA和Cytoscape.定位商业用户的GUI包有Orgnet、Keyhubs和KXEN.其它SNA平台,比如IdiroSNAPlus,定位于电信和在线游戏等有大规模数据分析需求的企业.常见的SNA脚本工具有NetMiner(Python)、statnet组件包(R)、igraph(R与Python)、NetworkX库(Python)以及C++中大规模网络分析的SNAP①②③④⑤⑥⑦⑧Page5包.虽然对于初学者来说,这些工具包上手有一定难度,但相比于私人软件,其更新速度更快,功能也更完备,并且有详细的说明文档供使用者阅读学习,名称主要功能CFinder探测并可视化社Graph-tool图分析和可视化表2社会网络分析工具举例输出格式GraphViz(.dot),.bmp,GraphML,.cmap,.eps,igraph大规模网络的.net,.dot,.gml,.ncol,JerarcaNodeXL社会网络分析UCINET社会网络分析Text,outputtoMEGA,hierarchicaltreeinNewickGraphML,.dl(UCINet)proprietary(##.d&##.h)可视化对于理解和分析网络性质特别重要.可视化有助于直观地认识网络特征,因此很多网络分析工具都带有网络可视化功能,包括网络布局、节点颜色和大小等.NetMiner、igraph、Cytoscape、NetworkX和NodeXL都能生成高质量的网络图.表2列举了一些常见的SNA软件.4在线社会网络的拓扑结构对在线社会网络拓扑结构的研究具有较强的应用背景:由于OSN的连边在一定程度上代表了用户之间的信任关系,因此基于OSN的拓扑信息可以增强系统的安全性和保护用户隐私,例如可靠电子邮件系统(ReliableE-mail,RE)①通过测量邮件发送方和接收方的社会网络距离来协助垃圾邮件检更重要的是它们都是开源的.特别地,微软开发的NodeXL[23]是一款基于MicrosoftOfficeExcel的社会网络分析工具,容易上手,功能较强大,具体见表2.测;网络连边也意味着用户之间具有相似的兴趣,例如GoogleCo-op②和PeerSpective③等即利用用户社会网络成员的点击对其感兴趣的内容进行排名和预测.人们对网络的拓扑参数已达成共识,各种拓扑参数从不同方面体现网络的结构特征.这一节我们首先介绍一些常见的拓扑参数,然后总结OSN在这些参数上的表现,最后考察用户的交互行为对OSN拓扑结构的影响.4.1静态拓扑结构们举例介绍OSN的拓扑特征.表3总结了几种常见的网络拓扑参数.下面我①②③Page6表3常见的社会网络拓扑参数])2直径(diameter)平均路径长度(averagepathlength)节点i的聚类系数(clusteringcoefficient)聚类系数(clusteringcoefficient)度分布(degreedistribution)同配系数(assortativitycoefficient)平均邻居连接数(averageneighborconnectivity)k-核(k-core)核数(coreness)(1)平均路径长度一个网络称为具有小世界性质(small-worldproperties)[10],如果对于固定的节点平均度〈k〉,平均路径长度L的增加速度至多与网络规模N的对数成正比,即L∝lnN.相比于Web,OSN的平均路径长度和直径都很短[15];相比20世纪60年代Milgram[24]提出的六度分离(sixdegreeofsepa-ration)假设,OSN缩小了人们之间的距离.但这并不代表OSN的平均路径长度最短,事实上很多现实网络(如蛋白质网络、铁路网、淡水食物网等)的平均路径长度要比OSN短得多,具体可参考文献[25].(2)聚类系数在好友关系网中,一个人的两个好友很可能彼此也是好友,这就是网络的聚类特征.好友关系网是无权网络,对于带权网络也有一个相应的聚类系数的计算公式,具体见文献[26].把OSN的聚类系数与用不同算法(Erds-Rényi随机图[27]和幂律随机dij为连接节点i和j之间的最短路径上的边数N为网络节点数ki为节点i的邻居节点的个数,Ei为这些邻居节点之间的实际边数;0Ci1N为网络节点数;0C1累积度分布函数(cumulativedegreedistributionfunction),P(k)表示一个随机选定的节点度恰好为k的概率ji和ki分别为第i条边的两个端点的度,M为网络边数;-1r1P(k|k)表示度为k的节点连接到度为k的节点的概率给定度节点的邻居节点的平均度反复去掉度小于或等于k的节点后,所剩余的子图若一个节点存在于k-核,而在(k-1)-核中被移去,那么此节点的核数为k图[28])生成的网络聚类系数进行对比,发现OSN的聚类系数要远大于理论模型的聚类系数[15].这说明在OSN中,人们更喜欢通过共同好友相互认识.另外小出度的节点其聚类系数更高,如图2所示,说明拥有较少好友的用户紧密地连接在一起.一个网络称为小世界网络(small-worldnet-work)[10],如果它有较短的平均路径长度和较高的聚类系数.由上述讨论可以看出OSN是典型的小世界网络.1998年,Watts和Strogtz[29]提出了WSPage7小世界模型来刻画网络的这一结构特征,我们利用WS模型可以生成小世界网络.(3)对称性与度分布OSN的拓扑结构具有对称性(symmetry).所谓对称性,是指一个有向图中,边的方向是双向的.比如在YouTube中,有79.1%的好友关系是双向的[15],这说明用户之间倾向于相互关注.这种对称性与线下社会网络中的情形类似[30].完全随机网络的度分布近似为Poisson分布,其形状在远离峰值〈k〉处呈指数下降,这类网络也称为均匀网络(homogeneousnetwork).OSN的一个重要的结构特征是度分布呈幂律形式,也称为无标度(scale-free)分布,即P(k)∝k-γ.这类网络称为非均匀网络(inhomogeneousnetwork).但OSN节点度的幂律分布与其它网络不同.由Barabsi和Albert[28]提出的BA无标度网络模型可以很好地刻画网络的无标度特征,BA网络的度分布函数可由幂指数为3的幂律函数近似描述,Web的幂指数约为2.5[31],而OSN的约为1.5[15],说明OSN在度分布方面更加不均匀.(4)同配性大多数情况下,OSN的同配系数r都大于0,比如人人网的同配系数为0.15[16],Facebook为0.17[32],Flickr①为0.202[15],LiveJournal②为0.179[15],这一特征把OSN从其它幂律网络中区别开来.Web和Internet的同配系数都小于0,分别为-0.067和-0.189[33].但这并不是说所有OSN都是同配的,我们会在下一节解释这一点.无标度性质和同配性说明OSN中有一些紧密连接的度较大的核心,它们把整个网络连接起来,度较小的节点分布在网络的边缘.与同配系数相似的另一个参数是平均邻居连接数knn.图3显示出当节点度大于100时,人人网用户的knn与节点度之间呈正相关性,即度较大的节点倾向于与度较大的节点连接,这与OSN的同配性一致.(5)k-核与核数同配性使OSN形成了一个“核心”:核心在网络连接中起重要作用,移去核心,网络会变得支离破碎;核心的直径很小.描述核心要用到k-核,具体定义见表3.Mislove等人[15]用在Web使用过的图分析方法[31]挖掘OSN中的核心,结果见图4,其中SCC指网络中的最大连通子图.从图4看出,当移去10%度较大的节点时,网络会分裂成上百万个非常小的SCC.所以整个网络是由这10%的核心节点连接而成.此结论的另一个证据是随着移去度较大的节点,网络的平均路径长度逐渐增加.图4移去度较大的节点后网络的分离情况[15]4.2用户之间的动态交互对拓扑结构的影响我们在4.1节之所以使用“静态拓扑”这个词是因为有一个问题:用户之间建立好友关系之后,是否经常联系呢?之前我们只关注OSN中好友关系的声明,而忽略了真实情况下用户之间的交互;很有可能A与B建立好友关系之后少有联系,但C和D虽然不是好友却经常交流.因此有必要研究用户的交互行为对网络拓扑结构的影响.研究者针对由不同的用户交互行为而构成的网络提出了多种描述形式,比如活动网络(activitynetwork)[34]、活动图(activitygraph)[22]、隐式交互图(latentinteractiongraph)[16]等.为了统一概念,也为了区别之前的好友关系网,我们把所有基于用户交互行为而非好友关系建立起来的网络统称为活动网络,其拓扑结构称为活动拓扑结构.按如下方式定义活动网络:每个用户为一个节点,节点i到节点j的一条有向边i→j表示i对j有一个行为(比如i向j留言);有向边i→j的权值ω表示i对j的行为的强度.这样定义的活动网络并不是好友关系网的子集,因为非好友的用户之间仍可以交互.因此活动网络是一个比好友关系网更真实的网络,对研究信息在OSN中的传播有着重要意义.①②Page84.2.1活动拓扑与静态拓扑的比较Chun等人[34]以用户之间的留言为实例研究活动网络,他们的研究表明:虽然活动网络是一个有向、加权的网络,但其与好友关系网的结构特征相似,比如活动网络中节点的入度和出度分布都呈幂律形式,且二者分布非常相似,这与Mislove等人[15]的结论相同.当仅考虑对称边时,活动网络比好友关系网更具同配性.以knn衡量同配性,文献[26]提供了带权网络knn的计算公式,以Cyworld①为例,研究发现[34]:当节点度k500时,knn呈发散趋势,且好友关系网更发散;当k<30时,网络呈异配性;当30k500时,网络呈同配性.这说明网络中度较小的节点与度较大节点之间是非对称的,大量节点都去关注“名人”节点,产生所谓的“名人效应”(celebrityeffect)②.特别地,诸如微博③等以弱关系为主社会网络,其名人效应更明显[35].分别考察活动网络和好友关系网的k-核,可以明显地看出二者的差别.如图5所示,活动网络和好友关系网的knn曲线在k<34时变化趋势相同,之后活动网络的k-核节点数下降得比好友关系网快.这一点与Leskovec等人[5]的结论相同,说明好友关系网中含有不活跃(不联系)的边,而这些边把网络核心连接起来.如果说好友之间的相互留言是一种显式的交互,那么浏览页面则是隐式的交互方式.Jiang等人[16]通过考察人人网用户的访问记录详细考察了这一问题.如果定义用户访问他人主页的次数为该用户的消费,则1%最流行的用户与1%消费最多的用户有9%的重叠,说明在人人网中有一部分非常流行且活跃的用户.一个有意思的现象是,陌生用户与好友访问个人主页的情况(累积分布)类似,这说明了隐式交互的重要性,因此仅考察好友关系网是不够的,陌生用户在OSN的构成中也非常重要.以用户为节点,用户之间的浏览关系为有向边同样可以构造活动网络(隐式交互图).下面总结这个活动网络与好友关系网的异同.(1)度分布隐式交互图的边数(240408)大于显式交互图(27347)(以用户之间的评论为有向边),隐式和显式交互图的边数都明显小于好友关系网(753297).这说明人人网中有大量的不活跃用户,他们不浏览其他人的页面,也不与他人交互.尽管有这些不同,隐式交互图的度分布仍然呈幂律分布(入向γ=3.5,出向γ=3.39).(2)聚类系数同样因为人人网中有很多静默边存在,隐式(0.03)和显式(0.05)交互图的聚类系数都小于好友关系网(0.18),移去这些边导致邻居节点之间的连接松弛.因为很多陌生用户的访问使隐式交互图更加松散,其聚类系数最小.(3)同配性由于很多用户访问流行用户,所以隐式交互图是异配的(r=-0.06),而好友关系网(r=0.23)和显式交互图(r=0.05)都具有同配性,这反驳了先前关于活动网络比好友关系网更具同配性的说法[32].(4)平均路径长度隐式交互图的平均路径长度(4.02)介于显式交互图(5.43)和好友关系网(3.64)之间.由于平均节点度和度较大的节点数的减小,整个网络的连接性能变差,这导致隐式和显式交互图的平均路径长度增加.4.2.2活动拓扑特征OSN用户之间的交互可以归结为相互作用(reciprocalinteraction).相互作用是社会合作发展的主要机制[36-38],刻画了关系的强度[30].虽然性别、宗教、年龄或者文化差别会影响人们之间的亲密感[39],但相互作用遍及原始生活[40]和社会系统[41]的每一个关系.基于相互作用,我们可以进一步考察网络的活动拓扑特征.(1)相互性(reciprocity)为了考察用户之间的相互性④,可以把一对用户①②③④Page9之间的交互次数画成点状图.图6(a)描述了Cyworld用户之间发消息与接收消息的情况,取中值和对数之后得图6(b).从图中可以看出明显的对称性,图6(b)可以很好地用x=y拟合.Hemelrijk[42]把相互性分为3类:相对的(relative)、绝对的(absolute)和定性的(qualitative).因此活动网络中的相互性接近于绝对的相互性,Hemelrijk推测绝对的相互性源于个体之间无差别的交互能力,在Cyworld中体现为用户可以无障碍地浏览他人页面.我们可以用互易系数(reciprocitycoefficient)[34]量化相互性.如果用户i访问了用户j,则vij=1,否则vji=0.我们定义互易系数ρ为其中,v-=∑i≠jρ值越大表示相互性越强.隐式浏览意义下人人网的互易系数为0.23[16],显式评论意义下为0.49[16],而Cyworld活动网络的互易系数为0.78[34],WWW为0.5165[43],电子邮件网络为0.231[43],Slashdot①为0.28[44],Twitter为0.58[45],Wikipedia②为0.32[46].(2)差异性(disparity)目前为止我们只是衡量用户之间的交互强度,但没有考察一个用户的交互对象在其好友上的分布.直观上讲,一个用户的好友数越少,他对待好友越平等;反之受其精力所限,他无法均匀地与所有好友交互.一个出度为k、入度为kin的节点i的差异(disparity)Y(k,i)度量了用户i的活动在其好友上的分布[47-48],定义为其中,Y(k)为所有出度为k的节点的Y(k,i)的平均值.如果一个节点的出向边的权值与其入向边的权值是可比的,则kY(k)~1;如果一个节点大部分的交互都位于一条出向边或入向边上,则kY(k)~k.图7显示了Cyworld活动网络kY(k)与k的关系:当k500时,kY(k)~k;当k>500时,kY(k)开始发散;特别地,当k达到1000时,kY(k)降为1,这说明kY(k)~1.图7说明,一个好友数量少的用户倾向于与少部分好友交互,而好友数量多(大于1000)的用户联系的好友更多而且更均匀.这一点与我们的直观相悖:好友多的用户似乎并没有受精力所限而有差别地对待好友.(3)网络模体(networkmotifs)由前面的讨论我们可以看出,相互作用使网络拓扑呈对称性,但交互行为在好友中却不是平均分布的.用户之间具体的交互模式如何呢?网络模体(networkmotifs)是指3个人之间13种可能的交互模式,或称为三元组重要性剖面(TiadSignificanceProfile,TSP),Milo等人[49]提出了一种基于网络模体的网络分类方法.基本思想是,计算网络中13种网络模体的比例,并与其对应的随机化网络相比较,根据比较结果对网络进行分类.模体i的Z-分数(Z-score)表示它在网络中所占的比例,定义为其中,Nreal,i表示实际网络中模体i的数量,m(Nrandom,i)和σrandom,i分别表示对应随机化网络中模体i的平均值和标准差.标准化Z-分数[50]为Chun等人[34]使用模体探测工具FANMOD[51]对Cyworld好友关系网进行模体分析.图8显示了模体分析的结果:传递模体(模体9、10、12、13)所占的比例很大,而非传递模体(模体4、5、6)很少出现在Cyworld中.这些结果与其它社会网络的结果一①②Page10致[49-50].模体1和2的正规化Z-分数与我们对社会网络的期望不同:模体1是广播型(非传递),对应垃圾信息传播者(spammer),一个用户给两个互不相识的人发消息而没有得到回复;模体2是汇聚型(非传递),对应权威或名人,两个互不相识的用户给同一个用户发消息而没有得到回复.我们可以根据TSP对网络进行分类,具有相似TSP的网络组成一个网络超家族(superfamily).Milo等人[50]把19个不同类型的网络划分成了4个超家族.这些研究表明,相同类型的网络不仅具有相同的网络模体,而且各个模体在网络中也具有相似的相对重要性;另外,一个网络超家族中可能包含规模差异很大、功能极其不同的网络.4.3小结为对网络拓扑的影响:长度和较大的聚类系数.图85个不同时间活动网络的正规化Z-分数[34]本节主要总结OSN的拓扑结构特征和用户行(1)OSN是小世界网络,具有较短的平均路径(2)OSN是无标度网络,度分布呈幂律形式.(3)大部分OSN是同配网络,度较大的节点倾向于与度较大的节点相连.OSN中有一些紧密连接的度较大的节点,它们把整个网络连接起来,度较小的节点分布在网络边缘.(4)OSN用户的好友关系并不代表他们之间活跃的交互,好友关系网中存在大量的静默边和非活跃用户.用户的不可见行为(如浏览页面)减小了网络聚类系数,使网络结构变得松散,也增加了平均路径长度,使网络的连接性能变差.(5)OSN用户的交互行为具有相互性.好友少的用户其交流对象集中在少部分好友,而好友多的用户联系的好友更多更均匀.汇聚型模体也占较大比例.(6)OSN中的传递模体占很大比例,广播型和5在线社会网络的用户行为分析有了对OSN拓扑结构的认识,人们还希望进一步考察用户的行为,即用户在SNS上做些什么?有些什么规律?对用户行为特征的研究可以帮助改善网络营销机制,改善广告投放模式,添加更为准确和友好的个性化因素,特别是对面向用户的推荐系统的设计有重要意义.由于用户行为的复杂性,这方面的研究往往针对某一问题展开.在本节中我们首先总结OSN的基本用户行为和研究方法,然后分别从社交网站应用和信息传播两个角度深入认识用户的行为特征.5.1在线社会网络的基本用户行为OSN的活动拓扑是对用户行为的反映,用户行为改变了OSN的拓扑结构,后者反映了前者的特征.图9显示了Cyworld用户好友数与用户发消息的数量中值之间的关系[34]:当好友数小于200,二者呈正相关,Pearson相关系数为0.6235;当好友数大于200时图像开始发散,Pearson相关系数为0.00913.这说明,200个好友是OSN用户的交互上限,这是一个很有趣的结论.对于人类社交能力的上限,Dunbar给出的解释是150,即基于人类大脑新皮质的进化,一个人可维持的人际关系数是150[52].Bialik[53]指出,技术依赖型社会网络对社会性修饰提出挑战.图9告诉我们OSN用户最多可以维持200人的社交关系,大于Dunbar的结论.5.1.1会话一个典型的社交网站包括个人主页、日志、相册、应用等,我们首先关注的是用户针对网站不同功能的使用情况和行为特征.一般情况下,为了考察细致的用户行为,我们需要通过抓取和解析HTTP请求和应答包以获得点击流(clickstream)信息.这方面的代表工作是文献[19-20].Page11获得点击流数据之后的第一个工作是定义会话(session).可以根据两点来定义一个会话:(1)用户关闭了浏览器或者注销登录;(2)用户在20min内没有任何页面活动.用户会话持续时间的累积分布函数(CumulativeDistributionFunction,CDF)均呈重尾分布(heavy-taileddistribution).对于在线用户数量的时间特性,Benevenuto等人[19]发现:在线用户数量呈白昼模式(diurnalpattern),下午3点左右达到峰值;每个时间段,至少有50个用户在使用社交网站,峰值为700;周末的用户使用量小于工作日.白昼模式也发现于Facebook[54]、Facebook应用[22,55]和其他用户生成内容(User-GeneratedContent,UGC)网站中[56-57].5.1.2会话的统计特征为了从系统的角度进一步认识用户到达和离开的动态特征,我们可以从不同方面考察用户会话和HTTP请求的统计特征.首先定义一个时间序列t(i),i=1,2,3,…,t(i)表示第i个会话到达的时间,a(i)定义为第i个和第i+1个会话的间隔时间,即a(i)=t(i+1)-t(i).以Orkut①为例[19],图10(a)显示了a(i)的互补累积分布函数(Complementary图10Orkut会话特征及其最佳匹配函数[19]5.1.3点击流模型可以通过建立点击流模型(clickstreammodel)[19]来严格刻画SNS中用户的典型行为.建立点击流模型主要分为两步.一是从用户的点击流中区分出典型行为.Benevenuto等人[19]首先从HTTP请求中区分出41种用户活动,并把这些活动分为以下几类:搜索、剪贴簿、消息、奖状、视频、照片、用户资料和好友、社团和其他.建立点击流模型的第二步是建立一个一阶Markov链,状态代表不同类别的行为,转移概率为用户下一步要做某件事情的概率,具体见图11.图11可以给出很多信息,比如一个用户刚登录Orkut帐号,他要做的第一件事情很可能(64%的可CumulativeDistributionFunction,CCDF),它逼近于如下函数:其中,μ=2.245,σ=1.133.定义l(i)为一个会话期间HTTP请求的数量,图10(b)显示了l(i)的频率边缘分布.这也是一种重尾分布,即大多数的会话有很少的HTTP请求,而较少的会话有大量的HTTP请求.这种分布逼近于幂律分布βx-α,其中α=1.765,β=4.888.幂律分布说明了OSN用户的会话时间具有很大的差异性,这与Huberman等人在Web上的发现类似[58].图10(c)显示了一个会话内请求的间隔时间的统计特征,它同样符合式(5)的函数形式,其中μ=1.789,σ=2.366.Benevenuto等人发现,会话持续时间的长短与会话的时间无相关性[19],这说明会话的持续时间并不遵守白昼模式,它只是OSN用户行为的一个基本性质.这种函数拟合的工作可以用来模拟用户的会话过程.如果细分会话的种类,不同种类的会话其统计特征也保持一致[20].能性)是浏览别人的个人资料和好友列表.依靠这个模型可以合理地模拟Orkut的用户行为.5.1.4用户行为与网络距离从4.2节我们已经知道,用户行为会影响网络的拓扑结构.同样地,网络结构也会影响用户行为.图12显示了Orkut中不同的用户行为与用户距离之间的关系,比如发生在两跳之外的用户身上的行为数量很少,说明用户一般只与自己的好友交互,而用户与非好友交流的主要方式是写消息.这一点可以与Jiang等人[16]的结论作对比:人人网中,个人页面的访问者中大多数也是2跳之内的用户,但好友数小于100的用户其主要访客是陌生用户.①Orkut[EB/OL].http://www.orkut.com/Page12图11Orkut用户行为的点击流模型[19]通过统计一个用户浏览某一页面之前的所在位置,可以考察是何种行为导致用户浏览此页面[19]:浏览自己的主页最有可能导致用户浏览其直接或间接好友的页面,这与Orkut个人主页上包含直接或间接好友的信息有关;大量的访问行为与浏览直接好友的页面有关,这说明用户通常从他的直接好友那里获取信息[59-61].5.1.5隐性行为的比重同Jiang等人[16]的工作一样,点击流的重要优势在于它可以捕捉网页上不可见的行为,比如浏览行为.那么这些不可见行为占多大比重呢?Benevenuto等人[19]通过区分可见和不可见行为,统计了Orkut用户在12天内与他人交流的人数(包括浏览页面),他们发现:(1)12天内用户平均只联系了3.2个用户,如果只考虑可见行为仅为0.2.Wilson等人[32]发现Facebook中60%的用户一年内几乎没有和其他人联系,考虑到这里只考察了12天的数据,得到如此小的数值是合理的.(2)所有行为与可见行为的统计结果差别很大,说明用户的主要行为是浏览页面,占所有用户行为的92%.5.2社交网站应用上的用户行为应用(application)是社交网站的重要组成部分,它拓展了用户体验,增强了用户之间的交流,也增加了用户黏性.Facebook、人人网等SNS都有开放的应用开发平台,大量第三方的应用增加了网站流量.Facebook的网站流量在其开放开发平台后的一周内就增加了30%[22],Twitter的流量在其开放API之后增加了20倍[62].这些数据足以说明SNS应用的流行程度.SNS应用也增强了非好友之间的交互[22],因此研究应用相关的用户行为很有意义.根据我们的调研,基于应用的用户行为的研究主要来自于Nazir等人[22,55,63]的工作.5.2.1Facebook应用的统计特征定义日活跃使用量(DailyActiveUsage,DAU)为一天内至少一次访问某一应用的用户数.Nazir等人[22]发现,Facebook应用的使用情况满足Pareto原则或80~20规则:20%的应用占有了约69%的日访问数.图13显示出DAU更细致的统计特征:如果以DAU衡量某一应用的流行度,我们发现,应用流行度开始呈幂律分布,以指数分布截尾(truncatedtail),Cha等人[64]指出YouTube和Daum①等网站的UGC视频流行度呈相似的分布.幂律流行度在线上以及现实的社会网络中经常可以见到[25,65].这里我们对幂律分布做一些解释.①Daum[EB/OL].http://www.daum.net/Page13一个最直接的解释是优先连接过程(preferentialattachmentprocess)产生幂律分布.以SNS应用流行度的幂律分布为例,优先连接预示着一个新用户使用某一应用的概率与这个应用现有的用户数成比例.例如,Facebook维护了一个公告栏实时更新好友动态,这其实是为应用做广告:比如好友A订阅了应用B,该动态就会显示在公告栏上,这就为应用B做了广告,这个广告与B现有的订阅者(A)产生了联系.正是利用这一点(优先连接),Gjoka等人[66]设计了一个简单的仿真模型来模拟用户安装应用的过程,生成用户与应用之间的二分图,边表示用户安装应用.该模型的输入为应用列表、每个应用的安装数和用户数,输出为二分图.幂律分布的指数分布的截尾也是一个老话题[25],我们这里也做一些解释.文献[67-68]说明了老化(aging)或生育力(fertility)和优先连接是如何导致以指数分布截尾的幂律分布.生育力指排除优先连接的影响,应用所拥有的最少的初始订阅者(subscriber).在Facebook中,生育力与社会网络自身有关,因此为了挖掘应用的用户潜力,必须要求一定的法定人数(阈值).老化是指应用在某一时间之后就会变得过时,对用户的吸引力下降.Mossa等人[69]给出了幂律分布指数截尾的另一个解释———信息过滤(informationfiltering).给定一个有限空间,比如YouTube主页或Facebook公告栏,较少使用的应用信息被过滤掉了,因此一个典型的幂律分布是不会达到的.他们也把信息过滤作为YouTube和Daum流行度分布的可能解释.5.2.2应用的流行度变化SNS应用和视频网站的视频都有流行度的概念,因此我们可以考察流行度的变化情况.SNS应用第X天的排名漂移(rankingdrift)定义为|(RankonDay0)-(RankonDayX)|.Nazir等人[22]首先把应用按流行度分为4组,然后分别计算每天排名漂移的平均值,具体见图14.我们可以看出,最流行(top5%)的应用其排名漂移最小,流行度越低,漂移越大,说明应用随流行度的增加其排名趋于稳定.如果我们缩小时间尺度,比如考察每5min的流行度变化,如上方法可能无法捕捉到更精细的变化,这时我们可以利用Spearman等级相关性(Spearman’srankcorrelation)[70].Kossinets和Watts[71]利用Spearman相关性计算社会网络里节点度的稳定性,Cha等人[72]利用它评估IPTV频道流行度的动态变化,他们发现,虽然不同流行度的频道所占有的观看人数的分布具有稳定性,但频道的流行度变化却非常剧烈,并且以天为单位呈现周期性.这说明有一些热门频道的流行度与时间有关,比如儿童频道的观看人数与学校的作息时间密切相关.5.2.3应用的活动网络与社团结构用户在应用上的交互也构成一种关系,这样我们得到另一种OSN活动网络,继而可以和第4节一样考察该网络的各种拓扑参数.网络中的社团(community)[73]是指这样一组节点,这组节点构成一个连通子图,它们之间的连接要密于它们与外界节点的连接.设eij是连接社团i中节点与社团j中节点的边,令ai=∑eij,网络的结构系数(structurecoefficient)定义为∑(eij-a20.3[73],则社团结构称为强的.Nazir等人[22]计算了Facebook3个应用Fighters’Club(FC)、GotLove(GL)和Hugged所构成的活动网络的众多参数,得出以下结论:(1)大多数用户处在单一的连通分支中.最大连通分支中的用户数与应用trace的总用户数成比例,说明随着数据集的增加,越来越多的节点落入最大连通分支中.(2)除了FC,Hugged和GL都具有强的社团结构.FC最大社团所拥有的用户数占了总数的72.6%,而GL和Hugged仅占不到10%.另外,FC社团规模的分布与GL和Hugged差异较大.(3)把同一社团中不同地理位置的数目称为社团的地理多样性(geographicaldiversityofcommu-nities).Nazir等人发现社团具有较强的地理多样性,社团规模与社团中国家的数目没有关系.(4)应用构成的活动网络具有较高的聚类系数和较短的平均路径长度,即是小世界网络.其度分布呈幂律分布,且FC的幂律分布比GL和Hugged更明显.这些都与OSN拓扑特征相同.Page14由以上结论可以看出,SNS应用有一些通有的性质,比如地理多样性、连通分支的单一性,也与应用的种类有关,比如游戏类应用明显不同于其它应用.进一步地,Nazir等人[63]比较了基于SNS应用的用户活动图(UserActivityGraph,UAG)与好友关系网拓扑结构的不同,发现现有的图模型算法[74-75]无法准确生成UAG.最后根据对馈赠(gifting)应用的分析,提出了新的算法,对基于SNS应用的UAG进行建模.5.3在线社会网络中的信息传播信息传播是用户行为活动的结果和表现.研究信息扩散和传播的机制和特征有助于改善网站系统设计,提高搜索算法和推荐算法的效率,对消息推广、病毒式营销和舆情控制有重要的实际意义.在线社会网络中的信息传播是一个较大的课题,有很多理论上的工作(比如Leskovec等人一系列的工作①),这方面的研究综述可以独立成文,限于篇幅和本文主题,我们仅简要介绍这方面的相关研究工作,感兴趣的读者可具体参阅下面提到的文献.OSN是一个由信息所有可能的传播路径组成的复杂网络,信息传播反过来又促进OSN结构的变化.无论是研究拓扑结构还是用户行为,我们最关心的还是信息的传播和扩散.复杂网络中的信息传播机制是一个古老而又富有挑战的课题.流行病学的研究已有较长的历史,流行病传播模型[76]也是少有的较完备的传播理论之一.在此基础上有了复杂网络的流行病临界值理论和传播动力学分析.然而这并不意味着我们可以把流行病传播模型照搬到OSN中来,因为二者的传播机制和形式都很不相同.因此需要研究新的传播模型刻画OSN中的信息传播.已有相当丰富的理论工作研究信息流与社会网络结构之间的作用.Granovetter[77]提出了一个线性阈值模型,只有当某一用户有足够多(超过阈值)的邻居节点采用了某一创新,他才采用该创新.Watts[78]基于稀疏Erds-Rényi随机图提出了一个全局相继模型,发现即使在很少的初始接受者的情况下也会发生全局相继现象.Watts考察了在用户敏感性具有均匀阈值的情况下这种相继过程发生的条件.Karsai等人[79]考察了小世界网络中信息传播的时间演化,发现权重-拓扑相关和个人的突发活动模式是限制扩散的主要因素.Steeg等人[80]分析了Diggs②上的信息扩散,发现Diggs网络的高聚类结构限制了信息的传播范围.随着OSN数据的逐渐丰富,人们开始了数据驱动的分析,测量社会网络连接上信息传播的模式.Gruhl等人[81]基于博客关键字研究了博客空间中的信息扩散,他们正是利用了传统的流行病模型刻画博客里的信息传播.Adar和Adamic[82]进一步扩展了流行病模型在线上信息传播的应用.Bakshy等人[83]研究了SecondLife③(一个多人虚拟游戏)社会网络里的内容传播,发现社会网络对内容的接受起着重要作用.Sun等人[84]通过研究Facebook页面的传播发现传播链都很长,且都始于相当多的用户.而Rodrigues等人[85]发现在传播树的形状和发布者与订阅者的影响上,口口相传(word-of-mouth)的信息传播有很多不同,相比于深度,传播树的形状更宽.Gomez-Rodriguez等人[86]考察了扩散路径的问题,提出了一个算法计算近似最优的有向边以最大化影响.Ghosh和Lerman[87]比较了一系列对影响力的度量,声称一个基于中心度的测量是对影响力的最优预测.Scellato等人[88]研究了如何利用从社会级联(socialcascade)提取出的地理信息来提高内容传输网络中多媒体文件的缓存.Wang等人[89]发现社会和机构内容对人们传播信息的速率和传播对象影响很大.Galuba等人[90]提出了一个传播模型用来预测Twitter中哪个用户可能提到哪个URL.还有一些工作区分了垃圾信息(spam)[91-92]和网络钓鱼(phishing)[93]在Twitter上的扩散形式.对OSN信息传播的建模最实际的应用是预测信息的扩散趋势.Cha[64]等人发现YouTube视频的早期与晚期的浏览量存在线性相关(相关系数为0.84).Szabo等人[94]也发现了类似的规律,并借此提出了3种模型来预测内容的流行度.这些模型依据10天的历史浏览可以提前30天预测视频的流行度,误差为10%.基于这些工作,Li等人[65,95-96]系统研究了外部视频分享网站(VideoSharingSites,VSSes)的视频在OSN中的传播情况,他们发现:(1)OSN极大地放大了视频流行度的偏度(skewness),人人网中0.31%最流行的视频占了80%的浏览量[95],如图15所示,而YouTube中10%的最流行的视频占了80%的浏览量[64,97];很多VSS中流行的视频不一定在OSN中流行[95].①②③Page15(2)OSN中的视频流行度分布呈标准的幂律形式,而YouTube视频流行度的分布呈幂律形式而以指数分布截尾[64];OSN中的视频在达到浏览量峰值前通常需要2到3天的静默期,而YouTube视频在发布到网上之后很快达到浏览峰值[65].(3)与单纯VSS(比如YouTube)的情况不同,经典的时间序列(timeseries)预测模型,如自回归滑动平均模型(AutoregressiveIntegratedMovingAverage,ARIMA)[98-99]、多元线性回归(MultipleLinearRegression,MLR)[100]和k-近邻回归(k-NearestNeighborsRegression,kNN)[101]等,预测VSS视频在OSN中的流行度的效果很差[96],如图16所示,特别是对于预测早期的浏览峰值和之后的浏览突发(burst),而这都是OSN视频传播很常见的现象.图163种模型对视频浏览时间序列的预测[96]为了解决这个问题,Li等人[96]基于视频的固有吸引力和底层传播结构提出了新的视频流行度预测方案———SoVP[96].他们基于人人网真实的Trace数据对视频流行度进行预测,结果见表4.从表4可以看出,SoVP的预测效果明显好于kNN和MLR.Real16150217835616588610325454181kNN2858974841389172895737157MLR183498533154871862813956SoVP199132134302196740124730456745.4小结的用户行为和OSN中的信息传播,总结如下:本节主要介绍了SNS的基本用户行为、应用上(1)SNS的用户行为呈白昼模式.(2)SNS用户会话时间具有很大的差异性,且不遵守白昼模式,它是OSN用户行为的基本性质.(3)SNS用户的平均联系人数很少,他们一般只与自己的好友联系,人人网中好友数小于100的用户的主要访客是陌生用户.(4)浏览页面是SNS的主要用户行为,Orkut中浏览行为占用户行为的92%.(5)越流行的SNS应用其排名漂移越小,排名越稳定.基于应用的活动网络拓扑特征与OSN拓扑特征相似.(6)OSN放大了视频流行度的偏度,视频流行度分布不符合80~20原则.6在线社会网络的演化我们已经讨论过在线社会网络的静态拓扑结构和用户行为对拓扑结构的影响,这些仍然都是静态意义上的考察,研究对象为某一时刻网络的快照(snapshot).那么这些性质是如何随时间变化的呢?这就是OSN的演化.对OSN演化的研究工作考察网络基本拓扑参数的变化,也有自己关心的问题:节点和边的加入有什么规律?这为网络建模提供了实际依据.我们将会看到,随机图、BA网络等现有的网络模型无法精确地模拟OSN的演化,虽然它们都能展现OSN某些特有的拓扑特征.6.1基本拓扑参数的变化平均路径长度和聚类系数等拓扑参数随时间的变化并没有一致的规律,与具体的社交网站有关.以Google+为例,图17显示了若干拓扑参数的变化,可以看出,每种参数的变化基本分为3个阶段,分别对应Google+的早期阶段、稳定阶段和开放阶段.对于密度,在论文引用网络、作者从属网络[74]和Facebook[102]中密度随时间增长,Flickr[103]的密度变化呈增-减-增的趋势,而电子邮件网络[71]的密度趋于稳定.对于直径,论文引用网络、自治网络和作者从Page16属网络[74],Flickr和Yahoo!360①[103],Cyworld[105]的直径随时间减小.对于聚类系数,电子邮件网络[71]和人人网[106]的聚类系数趋于稳定.对于同配性,我们知道传统的OSN都是同配的,例如Flickr、LiveJournal和Orkut的同配系数均为正[15],而Google+的同配系数却不总是正的[104],如图18所示.Google+的同配系数大部分处在0(大于0)附图17Google+4种拓扑参数的变化[104]从上面的陈述可以发现,不同网络拓扑参数的变化有很大不同,这往往与网站类型和网络事件有关.Zhao等人[106]考察了两个SNS合并对网络结构的影响,他们发现虽然网站合并会对OSN的拓扑结构造成干扰,但各种参数或者很快收敛或者很快保持稳定的变化趋势.6.2边生成的时间特征类似于5.1节的点击流,两个节点之间生成一条边可以归结为两个节点之间有一个事件发生.对该事件有一些常见的研究角度,比如事件发生的时图19边的生成的时间特征[106]近,而逐渐减小.Gong等人[104]解释到:Google+是两种网络的混合体,传统OSN和发布-订阅网络(如Twitter、新浪微博等),前者的同配系数通常为正,而后者为负.开始时,传统的OSN结构在Google+中占优势,随后二者逐渐融合,最后发布-订阅网络占主导,这说明Google+与Twitter的网络结构越来越相似.间间隔、事件持续的时间、事件发生与节点属性的关系等.按照这个思路,OSN节点之间边的生成有什么统计规律呢?Zhao等人[106]考察了人人网节点之间边的生成的若干时间特征.图19(a)说明生成边的时间间隔呈幂律分布,Leskovec等人[107]发现生成边的时间间隔呈以指数分布截尾的幂律分布.Kumar等人[103]发现在Flickr和Yahoo!360中绝大多数边生成的时间间隔小于一天.边的生成与用户的生命期有什么关系呢?从图19(b)可以看出,大多数用户都是在早期建立好友关系,随着节点生命期的增加,边的生成速率趋于稳定.而Leskovec等人[107]发现了几种不同的情况:Delicious和Answers边的生成速率具有和上面相似的情况,但Flickr和LinkedIn边的生成速率随节点生命期的增加而逐渐增加.Zhao等人[106]进一步考察了边的生成与节点年龄之间的关系,引入网络层面的时间,即在不同时刻不同年龄的节点生成边的比例.从图19(c)中可以看出网络时间对边的生成有很大的影响,不同时间不同年龄的节点生成边①Yahoo!360[EB/OL].http://360.yahoo.com/Page17的比例不同.现有的网络模型(如WS小世界模型、BA网络等)都假设只有新加入的节点生成边,但这种假设仅在网络初期成立.6.3优先连接我们已经知道,优先连接是指新节点倾向于连接到度较大的节点[28,108].优先连接模型要求某一节点选择连接到度为ki的节点i的概率pi与kαi成比例,其中α为常数.当α≈1时为线性优先连接,当α>1时为超线性优先连接[108].线性优先连接是无标度网络的基本特征[28,108],很多现实的OSN都表现出线性优先连接,例如Delicious①、Flickr、Yahoo!Answers②[107,109],但LinkedIn③[107]除外.优先连接是度分布呈幂律形式的直接解释,也是很多网络模型(如BA网络)的基本思想.现实OSN的优先连接如何随时间变化呢?Mahanti等人[17]把节点按年龄分为年轻和年老两组(以50天为界),分别考察了不同组合的优先连接情况,他们发现:(1)节点的年龄对优先连接有较大影响,年老节点的线性优先连接较明显;(2)年轻节点选择年老节点的线性优先连接最为明显.为了进一步考察优先连接的动态特性,即α的变化,定义一条边选择度为d的节点作为目标节点的概率pe(d)为[107]其中,{et(u,v)∧dt-1(v)=d}=1,当边et(u,v)的目标v的度为d,否则{et(u,v)∧dt-1(v)=d}=0.线性优先连接意味着pe(d)∝d,而一般的PA模型有pe(d)∝dα.我们想知道pe(d)∝dα(t)是否是一个好的拟合.Zhao等人[106]利用均方误差(MeanSquareError,MSE)拟合pe(d)和dα(t),他们发现:(1)网络快照情况下,pe(d)和dα的拟合情况很好,说明OSN边的生成符合优先连接;(2)选择度较大的节点作为目标节点时,α(t)总是大于随机选择目标节点的情况,且差值为常数0.2;(3)α(t)随时间减小,两年内从1.25降到0.65,说明在OSN早期,优先连接较明显,随着网络规模的增加,边的生成对目标节点的度的依赖逐渐减小.6.4临近偏倚优先连接关注的是OSN的整体性质,边的生成有什么局部性质呢?Kossinets等人[71]发现临近偏倚(proximitybias)影响着生成边时目标节点的选择.简单来说,临近偏倚是指节点倾向于与它附近的点建立连接.三元闭包(triadicclosure)声称如果两个节点有两跳远,那么它们之间很可能建立连接,这是临近偏倚的一种特殊情况.临近偏倚也出现在现实的OSN中[17,107,109].优先连接与临近偏倚的关系如何呢?以FriendFeed④(FriendFeed网络的平均路径长度为4,度较大的节点与很多节点都相距较近)为例[17],首先利用线性优先连接模拟边的生成,如图20所示,从图中可以发现三元闭包贡献了82%的新生成的边,这说明优先连接在某种程度上造成了临近偏倚,而实际曲线与优先连接模拟的曲线的不同也说明了临近偏倚对优先连接有补充.Mahanti等人[17]设计了一个简单的边的生成算法模拟临近偏倚的作用:首先根据线性优先连接选择目标节点的度d,然后在度为d的节点中选择最近的节点作为目标节点.从图20可以看出这个模拟算法生成的曲线与真实情况更接近.因此在设计网络模型时,边的生成需要同时考虑优先连接和临近偏倚.6.5组关系当用户之间存在共同的交互焦点时,他们更有可能建立联系[71,110].我们把有共同交互焦点的节点视为在一个组(group)中.Kossinets和Watts[71]发现在一个由学生、教员和职工构成的社会网络中,那些参加同一讲座的学生更可能建立联系.Mahanti等人[17]考察了FriendFeed网络中用户订阅相同服务对边的生成造成的影响,他们发现:(1)对于年龄小于50天的节点来说,订阅相同服务的节点与度为15的节点建立连接的概率3倍于订阅不同服务的节点;(2)随着节点度的增加,二者之间的差距减小,说明优先连接的影响覆盖了组关系的影响;(3)对于年龄超过50的节点来说,组关系的影响减小;(4)对于刚加入网络的节点,组关系对生成边的①②③④Page18影响强于临近偏倚.两个在同一个组中的用户往往具有共同的属性(attribute),可以把属性在网络中表示出来.社会属性网络(SocialAttributeNetwork,SAN)[111]是指这样一个网络,网络包含社会节点、属性节点、社会边(用户之间的好友关系)和属性边(用户具有某种属性).Gong等人[104]定义了与传统网络拓扑参数相似的属性结构参数,比如直径、聚类系数等,他们详细考察了Google+社会属性网络的社会拓扑参数和属性拓扑参数,继而研究了SAN的演化和节点属性对网络结构的影响.6.6社团的演化社团与组的涵义不同:社团是结构意义上的,组是功能意义上的,共同订阅了某一SNS应用的用户构成一个组,而并不一定在一个社团里.社团强调OSN中“邻居”的概念,因此社团是邻居对用户行为影响的较好的抽象.复杂网络的社团挖掘也是一个图21OSN社团的动态特征[106](2)社团的生命期社团的生命期是社团的另一个重要属性.从图21(c)可以看出,大部分社团的存活时间很短,20%的社团的生命期小于1天,60%的社团的生命期小于30天,这说明社团的活跃性很强.6.6.2社团的合并与分裂社团的合并与分裂是社团生命期开始与结束的主要原因.我们首先关心的问题是,社团规模怎样影响社团的合并与分裂?考察分裂而成的两个最大社团与合并的两个最大社团,考虑较小者与较大者的规模比,比值越小说明二者的规模差别越大.Zhao等人发现[106]:(1)78%的合并社团对的规模比小于0.005,说明对于大多数合并的社团,它们之间的规模差距较大,即小社团不断消失,大社团逐渐增大;(2)社团分裂的规律恰恰相反,68%的社团分裂对的规模比大于0.5,即社团倾向于分裂为两个规模相当的小社团,这个现象可用人们维护社会关系能力的局限性(Dunbar数[52])解释[106]:由于人们处理社交关系的能力有限,当社团规模超出了社团内某较大的课题,有很多理论工作[112-118],我们这里仅介绍一些有关社团演化的测量工作.6.6.1社团的动态统计特征(1)社团的规模社团规模体现了网络结构的聚类程度.社团规模呈幂律分布[106].Zhao等人[106]选取了3个平均分布的时刻,考察这3个时刻社团规模的分布情况,如图21(a)所示.我们发现,3个时刻都有大量的小社团和少量长尾的大社团,不同时刻社团规模的分布形式较一致.另外,随着时间的增加,小社团数量减少,大社团数量增加.图21(b)显示了前5个大社团所占节点的比例随时间的变化.我们发现比例随时间逐渐增加,从在100天左右的不到30%增加到60%.这种趋势———小社团减小,大社团增大———说明随着网络的成熟,网络里主要连通分支的连通性增强,而不同社团之间的差异减小,网络更加均匀.些用户的社交能力时,这些用户就无法继续增加新的好友,导致新用户生成边的分布(在社团内)不一致,这样社团内会产生某些具有更强连通性的“口袋”(pockets),从而使社团分裂.(1)预测社团的合并我们已经了解了社团合并和分裂的某些规律,是否能找到某些结构特征来预测合并呢?Zhao等人[106]考虑了3种结构参数:社团大小(communitysize)、入度比(in-degreeratio,社团内的边数与社团内所有节点度的和的比)、相似度(similarity,两个社团相同节点数与不同节点总数的比).并定义它们的一阶变化指示器(firstorderchangeindicator)为:如果社团参数小于之前一个快照时刻的参数,一阶变化指示器的值为-1;否则为1.同样可以考虑二阶变化指示器(secondorderchangeindicator):如果从快照时刻i-1到i社团参数的变化大于从i-2到i-1的变化,则二阶变化指示器的值为1,反之为-1.至此我们有9种特征参数,分别为社团大小、入度比、相似度和它们相应的一阶参数指示器Page19与二阶参数指示器.利用这些参数及其变化,Zhao等人[106]采用支持向量机对社团合并进行预测,预测合并的平均准确率为75%,预测分裂的平均准确率为77%.这说明我们可以根据短期内社团的变化预测社团的演化.我们还可以预测一个社团与具体哪个社团合并.Zhao等人[106]得出了一个较强的结论:一个社团i有99%的可能性与另外一个与它连接最多的社团j合并.这个结果具有时间稳定性,因此一个社团与其它社团之间的边数是预测其合并对象的可靠依据.6.6.3社团对用户的影响Zhao等人的研究[106]表明,社团促进用户行为,即社团用户要比非社团用户活跃.他们发现:(1)社团用户和非社团用户生成边的间隔时间的统计曲线相似,但社团用户的时间间隔较小,说明边的生成较频繁;(2)社团的规模越大,其中用户的生命期越长;(3)定义用户的入度比为他在社团内的边数与他总入度的比,社团的规模越大,用户的入度比越大,说明大社团的边较凝聚;(4)11%~30%的节点仅与它所属社团内的用户交互,说明社团抽象出了用户的局部行为.除了组、社团之外,Kumar等人[103]还考察了OSN连通成分的结构特征和演化,此处不再赘述.6.7小结本节总结了OSN演化的测量和分析工作,介绍了OSN演化的特征和规律:(1)OSN拓扑参数并没有统一的(随时间)变化规律,与具体的SNS有关.(2)多数用户常在早期建立好友关系,不同网络时间不同年龄的节点生成边的比例不同.因此假设只有新节点生成边不够准确.(3)边的生成受优先连接和临近偏倚的共同影响.随网络规模的增加,优先连接的影响减弱,优先连接在某种程度上造成了临近偏倚.(4)有共同焦点的用户较易建立连接,新节点受组关系的影响较明显.(5)OSN中大社团数量增加,小社团数量减少,大社团逐渐增大,小社团逐渐减小.随着网络的成熟,网络主要连通分支的连通性增强,网络变均匀.(6)社团的生命期较短,活跃性很强.小社团倾向于与大社团合并,大社团倾向于分裂成两个规模相当的小社团.一个社团有99%的可能与另外一个与它连接最多的社团合并.为了更深入地认识OSN的拓扑结构,我们可以利用前面得到的结论(网络中边的生成有何种规律等)设计各种新的网络模型[103-104,107,119],以期生成更准确、更真实的社会网络.7总结及展望本文从测量的角度综述了现今OSN的研究工作.测量方法是首要关注的问题,我们可以通过一些传统的网络测量方法,如抓包、网络爬虫等,来获取数据,也可以借助其他研究人员共享的数据集.由于对OSN的研究工作部分延续了复杂网络和传统社会网络的分析方法,特别是针对网络拓扑结构的研究,因此我们可以利用现有的分析软件和工具对采集到的OSN数据进行分析.当然更多情况下我们更关注OSN有别于其它社会网络的特征,而针对具体问题开发新的算法以挖掘和提取特征是OSN测量与分析工作的重点.基于已有的工作,我们总结了OSN的若干结构性质(网络层面)和用户行为特征(用户层面).总的来说,在网络结构方面,OSN是一个具有小世界特性的无标度网络,它有一些由度较大的、紧密连接的节点组成的核心,它们把整个网络连接起来.SNS中用户之间的实际交互会影响OSN的拓扑结构,它减小了OSN的聚类系数,使网络结构更加松散,并且降低了OSN的同配性,增加了平均路径长度.在用户行为方面,SNS用户之间的交互具有相互性,他们能维持的社交关系上限是200人,大于线下社会网络的150人.特别地,SNS用户的不可见行为(如浏览页面)占了很大比重,而用户平均联系的人数是很少的.在网络演化方面,边的生成受优先连接和临近偏倚的共同影响,随着时间增加,优先连接对生成边的影响逐渐减小,而优先连接在某种程度上造成了临近偏倚.随着OSN年龄的增加,小社团逐渐减少,大社团逐渐增加,网络变得更加均匀.OSN中社团的存活时间普遍很短,60%的社团的生命期小于30天,社团活跃性很强.特别地,OSN中小社团倾向于与大社团合并,大社团倾向于分裂成两个规模相当的小社团.还有很多其它方面关于OSN的研究工作,比如用户隐私与安全、SNS系统架构、社团挖掘、地理位置对用户行为的影响、网络博弈等等,限于篇幅,本文无法涵盖所有的研究内容.我们需要认识到,虽Page20然本文总结了很多OSN的特征和结论,但有些结论并不是通用的,与具体的SNS有关.与实际的研究对象相关是OSN的研究难点,亦是各种研究工作百花齐放的原因.比如我们多次强调OSN的度分布呈幂律形式,这似乎是OSN最基本的性质,但有人[104]发现Google+的度分布并不服从幂律分布,而是呈对数正态分布.这告诉我们不能盲信OSN的研究结论,而要就事论事,适当总结.当今互联网上各种面向用户的网络应用层出不穷,为研究者们提供了丰富的素材和多变的视角.在线社会网络的研究正在从静态到动态、整体到局部过渡,还存在许多挑战需要进一步解决:(1)我们已经多次提到OSN研究中所得结论的“片面性”和“不一致性”.由于在线社会网络的复杂性,得到某种统一的结论或者挖掘不同结论背后的一致规律是最困难也是研究者最为关心的问题.这要求研究者不仅要关心局部,而且不能被局部局限,从而从整体的角度观察和研究问题.(2)传统的数据处理方式往往已无法满足OSN的研究需求,需要开发新的算法和工具高效地处理庞大的数据.(3)在线社会网络是一个交叉领域,这个领域有很多来自不同背景(计算机、物理、数学等)的研究人员,他们都致力于从不同角度研究和考察OSN的特征.因此交叉学科之间的碰撞和冲突是该领域的极大挑战,也是灵感和智慧的源泉.OSN作为一个复杂巨系统,还有无数有趣的未知信息有待研究者去探索.我们相信会有更多的好的工作出现,从而为我们揭示出OSN的本质特征.致谢感谢李刚博士的意见和建议!
