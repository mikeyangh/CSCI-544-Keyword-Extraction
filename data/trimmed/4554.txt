Page1一种综合语义和时效性意图的检索结果多样化方法任鹏杰陈竹敏马军隋雪芹吴凯(山东大学计算机科学与技术学院济南250101)摘要当前,检索结果多样化作为一种提升用户满意度的有效方法已成为Web和数据库检索、文本摘要及推荐系统等领域的研究热点之一.但已有研究工作大都只考虑语义多样化策略.而实际上,多样化是一个非常复杂的优化问题,还需考虑许多其他的策略,如新颖性、质量、价值等.众所周知,Web是一个动态的信息空间,用户的查询需求也随时间不断演化,只有在一个特定的时间模式下,检索系统才能返回满意的结果.故该文提出一种新的结合语义和时效性两个维度的查询结果多样化方法.该文首先给出了多维度查询结果多样化框架的通用定义.然后,对于给定的查询,探讨了如何基于文档、词和查询频率来计算其时效性意图的概率分布.之后,提出一种新的针对时效性多样化的评价方法.最后,构建了针对多维度多样化问题的真实数据集,并通过实验证明该文提出的方法,不管是在传统的多样化评价指标上,还是在该文提出的时效性多样化指标上,性能都超过了当前主流的基准方法.关键词多维度多样化;时效性意图;子主题;语义;时间;社交网络;社会计算1引言随着大数据时代的到来,信息量越来越丰富,信息需求越来越复杂,信息检索系统如何利用有限的空间满足用户的不同信息需求变得异常重要.而结果的多样化作为一种最有效的解决方案近来受到企业界和学术界的普遍关注[1-4].之所以要对信息检索结果进行多样化的主要原因包括:(1)大多查询存在歧义性、模糊性和多义性.一个典型的代表查询是“苹果”.它既可以代表一种水果,也可以代表苹果公司或者其电子产品.对这种查询用户希望返回多样化的结果,因为搜索引擎不知道用户的具体需求;(2)用户的信息需求具有不确定性、浏览性,并且因人而异.即使是同一个查询,不同用户的信息需求也是不同的.比如同样是查询“猪流感”,医务人员可能更关注猪流感的病理、病因等专业方面的信息,而普通大众则可能更关注猪流感的传播等新闻信息;(3)Web是一个动态的信息空间,其中的内容不断变化.用户查询也是时间敏感的,即用户的查询意图随时间而变化.比如同样是查询“地震”,在地震发生不久时用户的查询意图与地震过后的查询意图存在很大区别;(4)大数据时代造成了大量可用信息的存在,因此需要信息检索系统在提供检索结果时尽量避免冗余信息,并保证新颖性和多样性.本文的研究主要针对语义意图和时效性意图不是很明确的查询,探讨如何进行检索结果多样化.对于很多时效性很强的查询,例如“地震”、“奥运会”等等,我们难以仅从语义维度上区分其各个子主题,然而对于其某些子主题,我们却可以很容易地从时效性维度上进行区分.因此,探讨如何综合考虑语义维度和时效性维度进行检索结果的多样化是很有必要的.在完整的搜索引擎系统中,本文的研究工作位于查询理解模块之后,即在对查询意图进行挖掘之后,针对用户意图依旧模糊的查询探讨如何进行检索结果的多样化.因此,正如已有关于研究检索结果多样化的文献一样,本文实际上也假设存在一个分类系统,能够对查询是否需要进行多样化进行分类.(1)检索结果多样化(SearchResultDiversifi-cation)就是基于某些策略,如主题覆盖度、信息冗余度、信息新颖性等,生成一个多样化的检索结果,使得检索系统返回的排在前面的有限结果覆盖尽可能多的、最相关的信息,使其能更好地满足不同用户的信息需求.因此,结果多样化可以极大地提升用户满意度,在很多领域得到了深入研究与广泛应用,如文本摘要[5-6]、推荐系统[7-8]、情感分析[9]等.现有的方法大多是在语义覆盖(即前面提到的主题覆盖度、信息冗余度、信息新颖性等)和相关度之间寻找一种平衡.然而,检索结果多样化问题远不止这么简单,需要考虑的因素还有很多,比如文档新颖度[10-11]、文档重要性等.其中,一个很重要的因素莫过于Web和用户信息需求的动态性.很多查询,只有考虑到其发生的特定场景才能返回精确的结果[12].所以,如何利用动态性来改进检索结果的多样化具有很重要的研究意义及应用价值.然而,除文献[3]外,现有的查询结果多样化研究都没有考虑信息的动态特性.我们首先对查询的时效性意图进行研究,将查询分为两类:QwT类(对应时效性强的查询)和QoT类(对应时效性弱的查询)[13],如图1.本文的研究主要针对那些时效性强的查询(QwT类)进行时效性多样化.例如HaitiEarthquake(OQ类)、Earthquake(AMQ类)和ChristmasPresent(PMQ类),如图2.这些查询词往往有多个时效性意图[12-14].根据文献[15],这类查询大约占所有查询的54%.所以,对这类查询的检索结果进行改进将Page3有助于大幅度提升检索系统的性能.而对于QoT类的查询,例如JavaJDK等,依然仅根据语义意图进行检索结果的多样化.(2)用户查询的时效性意图(Query’sTemporalIntent)是满足用户需求的目标信息的时间点或者时间范围.时效性意图是对语义意图的重要补充.举例来说,当用户查询“世界杯”时,如果仅从语义考虑,现有的技术很难识别出“世界杯介绍”、“巴西世界杯(2014)”、“南非世界杯(2010)”和“德国世界杯(2006)”等信息.然而,如果利用时间却很容易区分.因此,我们认为对检索结果进行多维度的多样化是非常有必要的(本文将主要考虑语义维度和时效性维度).文献[10-11]各自进行的问卷调查分析为本文观点的正确性和必要性提供了事实根据.文献[10]的调查表明在某一事件发生时,用户更倾向于微博和新闻类的文章;而事件过后,维基百科和博客类的网页可能更受关注.用户的查询意图是时效性敏感的.文献[11]对用户的时效性意图进行了调查.其调查表明约48.2%的被调查者查询的信息是当天的,约32.7%的被调查者查询的信息是过去的,约8.1%的被调查者查询的信息是关于未来某个事件的,还有约10.9%的被调查者查询的信息对时间不是很敏感.所以两篇文献均表明用户查询的时效性意图确实存在且具有不确定性.同时,两篇文献也都指出目前仍缺少从时效性角度来对检索结果进行多样化的相关研究.针对以上问题,本文提出了一种新的结合语义和时效性两个维度的查询结果多样化方法.据我们所知,目前尚未存在类似研究.本文首先给出多维度查询结果多样化框架的通用定义,并给出一种贪婪算法来进行求解.其次,探讨了8种方法分别利用文档、词或查询频率来估计给定用户查询的时效性意图的概率分布.然后,提出一种新的针对时效性多样化的测度方法.最后,构建了实际数据集,并将本文提出的方法和现有的基准方法进行对比实验.实验表明,本文提出的方法在D#-nDCG、D#-Qmeasure、nDCG-IA、nERR-IA和S-recall[16]等语义多样化的标准指标以及本文提出的时效性多样化指标T#λ-nDCG和T#λ-Qmeasure在性能上都有较大提高.本文的主要贡献包括以下4个方面:(1)提出一种多维度的查询结果多样化方法,综合考虑了语义维度和时效性维度.(2)提出一种新的检索结果时效性多样化的评测指标.(3)首次利用查询日志对给定查询的用户时效性意图的概率分布进行估计.(4)构建了适合于语义和时效性查询结果多样化评测的标准数据集,并对本文的方法和多种基准方法进行了实验对比和分析.本文第2节进行相关研究的介绍;第3节给出多维度的查询结果多样化方法的定义和算法;第4节给出给定查询的用户时效性意图的概率分布的各种计算方法;第5节提出一种检索结果的时效性多样化的评价指标;第6节给出对比实验和结果分析;第7节详细论述如何在实际系统中实现、应用本文所述成果;第8节给出了总结和未来的研究工作.2相关工作当前查询结果多样化已成为一个研究的热点问题.已有很多相关研究对此进行探讨,我们将从不同方面对已有的相关工作进行介绍.(1)检索结果多样化.早期有关多样化的研究中,最有影响力的是MMR(MaximalMarginalRele-vance)模型[17].该模型的目标函数试图在检索结果的新颖性和相关性之间寻找一种线性平衡,并利用一种贪婪算法迭代地选择目前使目标函数最大化的文档加入检索结果.MMR对已检索出的主题进行惩罚以提高新颖性主题的得分,从而使检索结果包含更多新信息.文献[18]利用语言模型的框架对结果文档的多样性和相关性进行平衡.文献[19]采用公理化的方法描述和分析多样化问题,提出了3个优化目标,用2种优化算法MMD和MSD进行求解.文献[20]提出的EP方法通过最大化选择的结果文档子集的联合信息覆盖值进行搜索结果的多样化.文献[21]提出了一种监督式的结构学习方法SVMdiv,通过学习得到单个词的重要性,然后选择最优的结果文档子集覆盖最多的重要的词,让排序结果多样化.文献[4]指出查询的子主题难以描述和自动检测.因此,他们提出一种从单词层面对检索结果进行多样化的方法.文献[22]认为应该按比例对检索结果进行多样化,即如果数据集中某个子主题相关的文档数目较多,那么检索结果中该子主题相关的文档的数目也应相对较多.文献[23]从两个方面来看待多样化问题:外在的多样化和内在的多样化.前者描述用户查询的不Page4确定性,这种不确定性可能是由查询词的模糊性或者个性化查询导致.而后者是用户信息需求的一部分,即如何避免冗余来提供检索结果的新颖性和语义覆盖度.文献[24]假设存在一个子主题的分类系统,查询和文档可以被匹配到多个子主题类别上,从而通过追求最大化检索结果的子主题覆盖度来实现多样化.文献[25-26]利用带吸收态的随机游走模型通过图结构实现查询结果的多样化.文献[27]提出了多样化框架xQuAD,来显式地对查询词所蕴含的子主题进行建模,并通过估计结果文档与子主题的相关度进行结果多样化.文献[28]提出在保证查询结果多样化的同时应考虑用户的信息需求和导航需求,并提出一种方法在考虑语义意图的同时兼顾这两种需求.文献[29]提出了一种基于关键词的网页搜索结果多样化方法KDM.该方法首先从与用户查询相关的结果文档中提取出可以描述结果文档所蕴含的信息面的关键词,然后根据关键词的同现性以及关键词对文档的描述能力,计算出结果文档的信息面新颖度,最后结合新颖度和相关度对文档进行重新排序,从而给用户提供多样化的搜索结果.文献[30]基于HITS算法的网页间链接分析特性,根据网页链接图直接计算查询结果列表中的文档可能满足用户多样性需求的程度,并将其应用到结果列表的重排序中以实现搜索结果多样性.文献[31]设计了3种基于查询日志的子查询构造方法:单字向后扩展,双字向后扩展和双向子串扩展.并探讨了如何将这3种方法分别与经典的MMR[17]算法相结合.文献[32]对可扩展标记语言(XML)数据的关键字查询进行研究,提出了一种从查询结果所描述的中心实体出发对其进行多样化的方法.(2)多样化评价指标.文献[33]利用TREC2009Webtrack数据集对多个传统的多样化指标进行了判别力评价和分析.文章指出D#-measure簇是最有判别力的多样化评价指标,IA簇也是不错的评价指标,而α-NDCG的判别力相对较差.文献[34]指出,多样化可能受很多与用户相关的因素的影响,他们基于因人而异的偏好提出了一个对新颖性和多样性进行评价的框架.文献[35]基于累积收益提出了一个测度,系统地对多样化问题进行评价.文献[36]指出,一个好的多样化方法应该有两个特点:①覆盖多个子主题;②包含相关文档.基于此,他们提出一类新的多样化测度将测试集的多样化考虑在内,并提出一种元测度来显式地控制偏好.文献[37]尝试多种方法将信息需求和导航需求融合进测度.文中定义了一种新的测度DIN#-nDCG并通过实验证明这是一种最直观的多样化和相关性评价指标.虽然近年来有大量的查询结果多样化方面的研究,但迄今为止,大多数研究都是在追求语义覆盖和相关性之间的平衡.大多数研究都是通过建立一个目标函数来建模这种平衡,然后通过最大化该目标函数来求出多样化的检索结果列表.本文试图从一个新的角度来进行检索结果多样化,即综合考虑语义和时效性两个维度来实现结果多样化.当前与本文最相似的工作是由文献[3]提出的检索结果时效性多样化方法.然而,该文献仅仅考虑了时效性维度的多样化.此外,他们只是利用文档集而不是查询日志来估计查询的时效性概率分布.另外,就像该文在未来工作部分指出的一样,他们并没有设计实验来全面地给出评价.此外,目前检索结果多样化的评测指标都是针对语义多样化的评价.然而,正如文献[3]所指出的,仍缺少时效性多样化的评价指标.3多维度多样化模型及算法本部分将先对查询结果多样化问题给出一种普适的定义,然后提出一种综合语义和时效性意图的多维度多样化模型.检索结果多样化的目标是通过一种或多种多样化策略,使给定数目的检索结果覆盖尽可能多的相关信息,以使检索结果更加多样化.本质上,这个目标可以形式化为一个试图在相关性和多样化策略(如主题覆盖度)中寻求折中的优化问题.即最终结果既希望指定数目的结果覆盖尽可能多的查询意图,同时又包含尽可能相关的文档.下面我们尝试给出查询结果多样化问题的通用定义.定义1.给定一个查询q,一个文档集合D和需要返回的查询结果的数目k.多样化问题的目标是从D中找到一个子集S,使S在相关性和多样化策略方面达到最大化.其中,f(D,q,k)是目标函数.该函数融合S中文档与查询q的相关性以及单个或多个多样化策略,并追求它们之间的折中.多样化策略主要包括内容相关性、新颖性、主题覆盖度、时间意图等.已有的IA-Select方法[24]和LM+T+D方法[3]属于这一定义.如何得到S已经被证明是一个NP-hard问题.实际应用时,现有的方法大多是利用贪婪算法来找Page5到S的一个近似最优解[28].下面给出基于贪婪算法的查询结果多样化定义.定义2.给定一个查询q、一个文档集合D、返回的查询结果数目k和到目前为止已检索出的文档列表S,多样化问题的目标是每次从D\S(D中除去S之外的文档)中找到一个文档d,使d在相关性和多样化策略方面达到最大化.其中,f(S,D,q,k)是目标函数.该定义可以看作是一种启发式策略,每一步通过寻找下一个文档d使f(S,D,q,k)最大化,并加入检索结果列表S.已有的MMR方法[17]和xQuAD方法[27]属于这一定义.显而易见,函数f()是查询结果多样化问题的关键.本文提出一种新的多样化方法,在建模f()时同时考虑了用户查询的语义和时效性意图.为了更加详细地解释这个模型,首先给出一些概念和符号的定义.给定一个查询q,用T=(t1,t2,…,tn)来表示它的时效性意图.其中ti表示时间单元,既可以是“日”、“周”、“月”、“年”,也可以是某一特定事件的发生周期.用Z=(z1,z2,…,zm)表示该查询的子主题的语义意图,其中zi表示第i个子主题的语义.现有的大多数方法都假定Z是给定的[25,28],本文也不例外.本文实验中查询的zi来自GoogleTrends①和维基百科.本文通过对文献[24]中的框架进行扩展,提出了一个新的多样化函数f(),见式(3).与文献[24]的第一个不同是本文在建模f()时既考虑了查询的语义意图,又考虑了时效性意图,而文献[24]只考虑了语义意图.第二个不同是,就我们所知,本文是第一个提出利用查询信息而不是文档信息来估计查询的时效性意图,即式(3)中的P(t|q).式(3)的概率图模型见图3.f(S,D,q,k)=P(S|q)(SD,|S|=k)P(t|q)P(S|q,t)=∑t∈T=∑t∈T=∑t∈T∝∑t∈TP(t|q)∑z∈ZP(t|q)∑z∈ZP(t|q)∑z∈Z上述公式包含3个部分,分别是查询的时效性意图部分P(t|q),查询的语义意图部分P(z|q)和在给定t、z的条件下,检索结果S对用户的满意度部分P(S|q,t,z).P(d|q,t,z)是给定t、z的条件下文档d满足查询q的概率;1-P(d|q,t,z)则是不满足的概率.因此,根据朴素贝叶斯假设,S不满足查询的概率是∏d∈S实际计算时,我们可以把文档d从概念上分成两个部分:cd代表文档的语义内容,td代表文档的时效性.更具体地说,在本文中,cd和td分别代表文档的文本内容和发布时间.根据条件独立性假设,P(d|q,t,z)可以进一步展开为P(d|q,t,z)=P(cd,td|q,t,z)综合式(3)和(4)可以看到,本文的多样化函数f()主要由如下部分组成:(1)文档与查询的语义相关度部分P(cd|q).(2)文档的时效性意图多样化部分,包括:①时效性意图t对查询q的重要度P(t|q);②文档的发布时间td与查询的时效性意图t的相关度P(td|t).(3)文档的语义意图(主题覆盖度)多样化部分,包括:①语义意图z对查询q的重要度P(z|q);②文档的文本内容cd与查询的子主题z的相关度P(cd|z).下面我们给出除P(t|q)(将在第4节详细介绍)外的各个部分的具体计算方法.P(cd|q)衡量文档d与查询q的语义相关度,其计算方式如下:其中,SIM(cd,q)可以是任意一种文档d与查询q的文本相关度计算方法.本文使用3种相关度计算模型:语言模型(LM)、OkapiBM25模型(BM25)和①GoogleTrends.http://www.google.com.hk/trendsPage6向量空间模型(VSM)[38].P(cd|z)与P(cd|q)相似,用于衡量文档d与子主题z的语义相关度.仍然使用上面3种相关度模型进行计算.P(td|t)衡量文档的发布时间td与查询的时效性意图t的相关度.本文使用Sigmoid函数作为时间衰减函数来计算P(td|t).其中,ω可以看作一个时间窗口,用于控制衰减的快慢,|t-td|是两个时间的间隔.P(z|q)可以看作子主题z与查询q的相关度或者子主题z的重要性.直观上,某个子主题与用户的查询意图越相关,该子主题的P(z|q)应该更大.然而,这一信息往往难以获得和建模,而且本文的重点在于结合时效性维度进行多样化.不失一般性,在本文中,我们用均匀分布来建模P(z|q)的分布,即其中,Z是查询q的所有子主题的集合.在计算出f()的每一部分后,求解S的迭代过程的每一步就可以通过最大化目标函数来获得当前最优的文档d:下面将给出一个综合考虑主题和时效性覆盖度的贪婪算法来进行检索结果的多样化,见算法1.算法1.检索结果多维度多样化算法.输入:文档集合D,返回的检索结果数k,查询q,查询q输出:多样化的检索结果S1.initializeS←2.FORi=1tokDO3.FOReachdocumentd∈D\SDO4.computef(S,D,q,k)intermsoffunction(3)5.ENDFOR6.d←argmax7.D←D\{d};8.S←S{d};9.ENDFOR10.returnS;4查询的时效性意图计算在这一部分,我们将讨论式(3)中P(t|q)的计算方法.Web是一个动态的信息空间,许多查询只能在特定的时效性模式下才能够给出精确的检索结果[12].当用户提交一个查询时,查询的时效性意图是满足用户需求的目标信息的时间.这个时间可以是一个或多个时间点/时间段(如某一事件的周期).这样就可以按照时效性意图来对检索结果进行多样化.比如“WorldCup(世界杯)”就有多个时间段的时效性意图,如“WorldCup2014”、“WorldCup2010”、“WorldCup2006”等.如果已知某些时间单元或时间段更有可能是用户查询的时效性意图所在,那么在进行检索结果的多样化时,就应该为这些时间范围赋予更大的权重,即相应的P(t|q)值应该越大.4.1基于文档的犘(狋|狇)计算该方法最先由文献[39]提出,其使用相关文档在时间上的分布来估计查询的时效性意图的分布.为描述方便,将这种方法简记为SUM0.P(t|q)的计算如下:其中,Dk是与查询q相关的前k个相关文档或全部文档组成的集合.本文将使用实验中所有搜集到的相关文档.如果d的发布时间属于查询时效性意图t,那么P(t|d)=1;否则P(t|d)=0.由于文档集的稀疏性问题,如果k取得过小,式(9)的结果中可能会有大量的P(t|q)为零.为了解决这个问题,作者又提出第2种基于文档的方法,即通过引入P(t)对式(9)做平滑.本文将其简记为SUM1.P(t|q)≈λ∑d∈Dk其中P(t)是与q相关的文档数目在时间上的分布.本文设λ=0.5.4.2基于词的犘(狋|狇)计算基于词的估计方法同样由文献[39]提出,该方法基于词而不是文档进行P(t|q)的估计.本文将这种方法简记为WORD0.P(t|q)∝P(t)P(q|t)≈P(t)∏w∈q其中,P(w|t)是时间单元t生成词w的概率.另一种基于单词的方法由文献[3]提出,与WORD0不同之处在于这种方法不使用先验P(t).本文将这种方法简记为WORD1.Page74.3基于查询日志的犘(狋|狇)计算以上4种方法本质上都是利用文档集来计算用户查询的时效性意图,据我们所知,目前还没有利用查询日志进行直接计算的方法.本文提出了基于查询日志的P(t|q)计算方法.基于查询日志的估计方法建立在文献[12,14]中已经证明的两个假设:流行度和新颖度.所谓流行度,即查询在某一时间的发生频率越高,那么该时间满足该查询的时效性意图的可能性越大;所谓新颖度,即如果某一时间越接近查询发生的时间,那么该时间满足查询的时效性意图的可能性越大.第1种方法仅考虑查询频率,记为QP,即定义P(t|q)为查询的频率分布:其中,f(t)为查询q在时间单元t发生的查询频率.第2种方法,记为QPR,将流行度和新颖度线性结合,即P(t|q)∝αP(fq|t)+(1-α)P(tq|t)其中,α为调节参数,ω为时间衰减窗口.tq是查询q发生的时间.4.4结合查询日志和词的犘(狋|狇)计算直观上数据集和查询日志都能在一定程度上反映出用户的时效性意图,所以本文又提出一种结合数据集和查询日志的P(t|q)计算方法,以便能更好地对查询的时效性意图进行估计.所以,不妨将查询q从概念上分为cq和fq,其中cq代表查询的内容,即词的集合;fq代表查询的查询频率.所以,结合数据集和查询日志的P(t|q)的计算方法如下,记为WORD0QP:P(t|q)∝P(t)P(q|t)同样,我们还可以加入新颖度,记为WORD0QPR:P(t|q)∝P(t)P(cq,fq,tq|t)=P(t)P(cq|t)P(fq|t)P(tq|t)∝P(t)∏w∈c5时效性多样化的评价指标当前已经有不少关于检索结果语义多样化的评测指标,如D#-NDCG、D#-Qmeasure、NDCG-IA、ERR-IA和S-recall等,并且相关研究已经证明这些指标对语义多样化能够给出合理的评价.但是目前尚没有针对时效性多样化的评价指标.本文认为主要有以下两个方面的原因:(1)迄今为止,有关时效性多样化的研究尚处于起步阶段,有关概念和定义仍旧模糊;(2)给定一个查询,其时效性意图比较难以衡量,所以也比较难以评价.我们认为,检索结果的时效性多样化目标是使得检索系统返回的排在前面的有限结果中包含尽可能多的最相关信息,并尽可能多地覆盖用户查询的不同时效性意图,从而能更好地满足不同用户的信息需求.因此,在选择一篇文档是否加入检索结果列表时主要考虑两方面因素:(1)当前的结果列表S中是否已经存在同一时间单元的相关文档;(2)文档与查询的相关程度.本文定义排在第r位的文档的收益值为其中,|t|r-1是前r-1个文档中属于时间单元t的文档数目;g(r)为文档的相关度收益值.参数0<λ1用来平衡和控制时效性多样化和文档相关度偏好,λ越接近0代表越倾向于时效性多样化,越接近1代表越倾向于文档相关度,当λ=1即退化为语义相关度的评价指标.将式(17)代入不同的测度可得到不同的时效性多样化评价指标,我们将这类评价指标称为λ-measure.如用式(17)的收益值计算方式替换nDCG和Qmeasure中收益值计算方式,即得两种时效性多样化评价指标,分别记为λ-nDCG和λ-Q.已经证明在λ-nDCG和λ-Qmeasure中求最优的检索结果列表问题是一个NP-hard问题.在实际中,由于一般数据集中相关文档数远大于要返回的检索结果数,所以用贪婪算法求解一个近似最优的检索结果列表已经非常有效.另一方面,也可以显式地考虑时间单元的回归值,即将λ-measure与T-recall结合,通过参数α来平衡,即得Page8T#λ-measure=αT-recall+(1-α)λ-measure(19)6实验6.1数据集(1)数据集的构建.由于缺少相应的标准数据集,本文不得不通过构建真实数据集来进行评价.首先,本文从GoogleTrends收集100个比较热门的查询,然后,对于每个查询,通过利用GoogleSearchTools①指定返回结果文档的时间范围(比如,2013年10月1日~2013年10月31日),搜集返回的每个月的前100篇文档.这样,每个查询大概搜集了多于10000篇相关文档(2004年1月份到2013年7月份),整个文档集共搜集了多于1000000篇文档.此外,由于难以获得大量的商业搜索引擎的查询日志,我们将每个查询提交到GoogleTrends上下载对应的查询频率数据文件作为实验数据.GoogleTrends②的搜索量数字表示相对于图表中的峰值的搜索热度.如果在指定的区域和时间范围内搜索量最多的是“批萨”(10%),那么GoogleTrends会将此搜索量视为100.因此,GoogleTrends实际上对原始搜索量进行了缩放.这对本文的基于查询的4种P(t|q)估计方法来说不受影响.本文实验所用的子主题都是选自Wikipedia和GoogleTrends.选自Wikipedia的子主题大多时效性不是很强,比如“Earthquake”的其中一个子主题“EarthquakeHazardsProgram”.而选自GoogleTrends的子主题大多时效性很强,比如“Earthquake”的其中一个子主题“JapanEarthquake”,这类子主题易于从时效性维度上区分,而从语义维度上比较难区分,所以比较适合从时效性维度上进行多样化.需要说明的一点是,一个查询的语义反应的是该查询的语义意图,而一个查询的时效性反应的是该查询的时效性意图.但是,这不代表一个查询的语义意图和时效性意图是独立的,例如“Earthquake”的其中一个子主题“JapanEarthquake”,其本身时效性就很强,所以子主题本身既反映了语义意图又反映了时效性意图.本文在构建概率模型时,把子主题的语义z和时效性t看作不同维度,但并没有假设其独立,而是假设子主题的语义z和时效性t在给定查询q时条件独立,其概率图模型见图3.(2)数据集的标注.由于测试数据集比较大,很难进行人工标注,因此,本文采用Polling技术进行数据集标注.本文使用4种模型进行投票,分别是GoogleSearch之前,不相关文档排名在10000之后)、语言模型、BM25模型以及向量空间模型[38].在投票的过程中,对于每个子主题,如果任意两个模型将一个文档排在“前1~前30”、“前31~前50”、“前51~前120”、“前121~前10000”或“多于10000”,那么对应地将该文档标注为“Perfect”、“Great”、“Good”、“Fair”或“Bad”.本文认为只有当两个及以上模型将一个文档标注一致靠前时,才认为其确实相关,排除了单个模型对某些文档的倾向性.标注算法见算法2.数据集我们已经提供在线下载③.算法2.Polling标注算法.输入:文档集合D,查询q,查询q的子主题集合Z=输出:标注结果1.M={VSM,LM,BM25,Google};2.FOREACHz∈ZDO3.FOREACHd∈DDO4.IFm1,m2rank(q,z,d)beforetop30(m1∈M,5.annotate(q,z,d)asPERFECT;6.continue;7.ENDIF8.IFm1,m2rank(q,z,d)beforetop50(m1∈M,9.annotate(q,z,d)asGREAT;10.continue;11.ENDIF12.IFm1,m2rank(q,z,d)beforetop120(m1∈M,13.annotate(q,z,d)asGOOD;14.continue;15.ENDIF16.IFm1,m2rank(q,z,d)beforetop10000(m1∈17.annotate(q,z,d)asFAIR;18.continue;19.ENDIF20.annotate(q,z,d)asBAD;21.ENDFOR22.ENDFOR对于算法自动标注后的个别不合适的标注结果由人工进行调整.①②③Page96.2基准方法本文采用4种基准方法做对比实验:MMR[17]、xQuAD[27]、IA-Select[24]和LM+T+D[3].MMR是多样化领域的经典模型.xQuAD被证明在很多指标上比已有多样化模型有很大地提高.IA-Select也是一种非常有效的多样化模型.LM+T+D是目前为止已知的唯一一个考虑了时效性的多样化模型,但尚没有实验验证其效果.本文将对其进行实验验证,并与本文提出的模型进行对比.本文提出的模型(简记为RM+T+S+D)将使用3种相关度模型(LM、BM25、VSM)和6种P(t|q)计算方式(SUM0和SUM1选最好结果之一、WORD0和WORD1选最好结果之一、QP、QPR、WORD0QP、WORD0QPR)进行组合.例如,如果采用LM模型和SUM0,那么模型的名称为LM+T+S+D+SUM,其他组合方式命名规则类似.最终结果统计时,取SUM0、SUM1中最好的结果以及WORD0、WORD1中最好的结果以更有效地表示实验结果数据.6.3评价指标本文采用多样化领域的标准评价指标[16]和本文提出的时效性多样化评价指标进行实验评价,分别是D#-nDCG、D#-Qmeasure、nDCG-IA、nERR-IA、S-recall、T#λ-nDCG和T#λ-Qmeasure.D#-measure簇被证明是目前最有判别力的评价指标,IA簇和S-recall也有不错的判别力.本文中T#λ-Qmeasure的α值设置为0.5.实验结果分别用各个指标对检索结果的前10、前20和前30个文档进行评测(前20和前30的实验结果请见附录).同时,本文将RM+T+S+D组合中最好的模型与基准方法中性能最好的模型的实验结果做了显著性检验(Two-tailedt-test).6.4实验结果与分析6.4.1模型性能分析本文实验部分共对5个多样化模型进行对比实验,即MMR、xQuAD、IA-Select、LM+T+D及本文的RM+T+S+D.其中MMR和xQuAD是经典的多样化模型,MMR只是基于内容对检索结果进行多样化,xQuAD是基于内容和子主题对检索结果进行多样化.LM+T+D及本文的RM+T+S+D都是延续IA-Select的概率模型框架.所不同的是,IA-Select在对检索结果进行多样化时仅考虑了语义维度,LM+T+D只是基于时效性维度对检索结果进行多样化,而RM+T+S+D通过综合考虑语义维度和时效性维度,通过一个统一的框架进行多维度地多样化.因此,IA-Select可以看作RM+T+S+D只考虑语义维度而不考虑时效性维度的特例;同理,LM+T+D可以看作RM+T+S+D只考虑时效性维度而不考虑语义维度的特例.为了方便对比语义维度和时效性维度的有效性,我们另将IA-Select和LM+T+D简记为RM+S+D及RM+T+D.RM+T+S+D是一个综合考虑多维度、多因素的检索结果多样化框架.通过对表1、表2、表3(表2和表3见附录)以及图4观察可以发现,RM+T+S+D相比于目前多样化领域的经典方法,在多样化的各个常用评价指标上都有较大的提高.RM+T+S+D的效果优于经典的基准方法MMR和xQuAD,其中,相对于MMR模型来说,D#-nDCG提高约0.20,D#-Qmeasure提高约0.19,nDCG-IA提高约0.18,nERR-IA提高约0.21,S-recall提高约0.25,T#λ-nDCG提高约0.10,T#λ-Qmeasure提高约0.08(见表1);相对于xQuAD模型来说,D#-nDCG提高约0.17,D#-Qmeasure提高约0.16,nDCG-IA提高约0.14,nERR-IA提高约0.18,S-recall提高约0.23,T#λ-nDCG提高约0.07,T#λ-Qmeasure提高约0.06(见表1).这能够说明RM+T+S+D模型框架的有效性.而RM+T+S+D的效果优于IA-Select(RM+S+D),D#-nDCG提高约0.16,D#-Qmeasure提高约0.16,nDCG-IA提高约0.14,nERR-IA提高约0.13,S-recall提高约0.18,T#λ-nDCG提高约0.08,T#λ-Qmeasure提高约0.09(见表1).这说明引入时效性维度对提高检索结果有效.同理,RM+T+S+D的性能优于LM+T+S+D(从属于RM+T+S+D的一个子方法),同时LM+T+S+D的性能又优于LM+T+D(RM+S+D),D#-nDCG提高约0.07,D#-Qmeasure提高约0.06,nDCG-IA提高约0.08,nERR-IA提高约0.07,T#λ-nDCG提高约0.03,T#λ-Qmeasure提高约0.05(见表3).这说明在考虑时效性维度的同时引入语义维度同样对提高检索结果有效.因此,单独从语义或时效性上并不能很好地达到检索结果多样化的目标,而综合语义和时效性进行多维度多样化的方法可以得到较高的性能.在S-recall指标上,RM+T+S+D和LM+T+D模型都取得不错的效果,此外,加入时效性维度比加入语义维度提高要明显,这是因为我们所用的数据集中查询的子主题大多数是选自GoogleTrends,这些子主题对时间敏感性比较强.Page10表1多样化方法的Top10结果评测MMRxQuADIA-Select(RM+S+D)LM+T+D(RM+T+D)RM+T+S+D注:RM、T、S、D分别为RelevanceModel、Time、Subtopics、Diversification的缩写.我们将每个测度最好的结果与基准方法进行显著性检验(Two-tailedt-test).“”代表显著性检验p-value<0.05.表1中的数据是各个模型实验过程中所有参数中最佳设置情况下的评测值.我们将五分之一的数据集用作确定模型的参数值.在参数值确定过程中,我们通过尝试不同取值,根据不同取值下模型的评测效果不断地缩小最优参数值的范围.图6为RM+T+S+D模型参数、QPR方法参数以及WORD0QPR方法参数值的确定过程.例如,在确定BM25+T+S+D模型的ω参数值时,首先将ω的值设为0.001、0.01、0.1、1、10,然后根据模型的评测效果(主要考虑的是D#-nDCG指标),不断地缩小参数的区间,得到不同参数设置下模型的评测值,直到模型评测结果变化不是很明显.图4检索结果多样化方法的性能比较6.4.2P(t|q)有效性分析为了对比不同P(t|q)计算方法的有效性,我们0.42560.48310.45720.45350.51860.47680.51800.49520.49380.61120.57820.59280.60090.58530.58200.63970.64430.63700.65810.61990.64470.61030.62550.66180.63100.61970.66010.59570.61940.63880.59580.5927首先将模型的类型(VSM+T+S+D、LM+T+S+D和BM25+T+S+D)固定,然后给出在不同Page11P(t|q)组合下各个测度的值,结果如图5所示.当相似度计算模型是LM和BM25时得到的实验结果与图5一致,所以文中没有给出.通过观察图5可以发现,WORDQP和WORD0QPR在D#-nDCG以及D#-Q指标上优于其他方法,QPR在nDCG-IA、nERR-IA以及S-recall等指标上优于其他方法.这说明基于查询日志的P(t|q)估计方法能更准确地建模用户的时效性意图.而SUM在T#λ-nDCG和T#λ-Q指标上略优于其他方法.这是因为SUM方法和WORD方法所估计出的P(t|q)的分布更平缓,更接近于均匀分布.这样有利于覆盖更多的时间单元,因而会取得更高的T#λ-nDCG和T#λ-Q值.但是从其他指标来看,这样并不有助于提高查询子主题的多样化(包括时效性敏感的子主题多样化),这是因为这两种方法虽然提高了时间单元的覆盖度,但是并没有相对更好地建模用户的时效性意图(即P(t|q))的概率分布.图6RM+T+S+D模型参数、QPR方法参数以及WORD0QPR方法参数的敏感性分析7应用本文所提出的检索结果多样化算法旨在对用户意图不是很明确的查询,尤其是对时效性不是很明6.4.3模型参数敏感性分析我们对RM+T+S+D模型的参数ω、QPR方法的参数ω和α以及WORD0QPR方法参数ω的敏感性进行分析,实验中所用参数设置见图6.通过观察可以发现,不同参数设置下的测度有所不同,但是在实验所用参数设置范围内,无论是模型参数还是P(t|q)的方法参数对最终结果的影响并不是很敏感.确的查询提供一个多样化的检索结果.所以在应用本文的多样化算法之前,首先要对用户查询进行理解,包括对查询进行分类及挖掘用户的潜在意图等.具体地,当一个用户提交一个查询时,我们首先根据文献[13]所提的查询分类算法判断该查询的时效Page12性类别.然后,进一步地对查询进行理解.如果能够明确用户查询意图,那么应用信息检索方法返回用户所需信息,如果难以明确用户查询意图,那么,若该查询属于QoT类,则仅考虑语义意图对检图7应用流程(灰色部分为文献[13]所提算法)步骤1.接收用户的查询.步骤2.应用文献[13]中的分类算法判断查询属于QoT类(QuerywithoutTimeintent,对应时效性不强的查询)和QwT类(QuerywithTimeintent,对应时效性强的查询)中的哪一类.步骤3.进行查询意图挖掘,判断用户查询意图是否明确.若用户查询意图明确则进入步骤4,否则进入步骤5.步骤4.返回满足用户意图的检索结果.步骤5.若该查询属于QoT类就进入步骤6-1;若该查询属于QwT类,就进入步骤6-2.步骤6-1.仅考虑语义意图对检索结果进行多样化.步骤6-2.计算P(t|q)并同时考虑语义意图和时效性意图对检索结果进行多样化.步骤7.将多样化的检索结果通过搜索引擎页面展示给用户.图8为应用本文算法进行检索多样化的一个例子,当用户提交查询词“地震”时,在没有其他信息的情况下,搜索引擎难以明确用户的检索需求,因而就查询词“地震”的可能子主题“地震知识”、“地震权威网站”、“不同时间发生的地震事件”等等进行检索结果的多样化,并按子主题分类别展示给用户.从最终结果我们可以发现,检索出的文档不仅在语义维度上进行了多样化,在时效性维度上也同样进行了多样化.索结果进行多样化,若该查询属于其他三类,则首先基于文档集和查询日志计算P(t|q),然后应用本文的多样化方法对检索结果进行多样化.具体的应用流程见图7.Page138结论在本文中,我们首先尝试给出检索结果多样化的通用定义.然后针对用户查询意图既存在语义意图上的不确定性,又存在时效性意图上的不确定性现象,提出了一个从多个维度(在本文中主要是结合语义维度和时效性维度)对检索结果进行多样化的模型框架.同时我们又基于文档集、查询日志提出了4种新的用户查询时效性意图估计方法,并和目前已有的仅基于文档集进行用户时效性意图估计的方法进行了比较.最后我们通过构建实际数据集,对基于文档内容、基于子主题以及基于时效性进行多样化的模型进行了比对实验.最终的实验结果表明本文所提出的多维度多样化模型能够有效地提高检索结果多样化的性能;所提出的用户查询的时效性意图估计方法也能更好地捕捉用户查询的时效性意图;验证了从多个维度对检索结果进行多样化的有效性.需要指出的是,本文所使用的测试集并不能完全代表用户的真实需求,此外本文的方法实际上对时效性强的查询有很明显的提升效果,而对于时效性不是很强的查询,其是否能够提高检索结果尚待验证.目前检索结果多样化的评价大多数是针对语义或者子主题的多样化任务,尚不存在针对时效性多样化的评测,更不存在针对结合多个维度进行多样化的评测,因此如何从多维度多样化的角度对这些模型进行有效评测是一个尚待解决的问题.因此在以后的研究工作中,一方面我们将探讨如何构建多维度多样化的标准数据集.另一方面探讨评价时效性多样化的方法和评价多维度多样化的方法.
