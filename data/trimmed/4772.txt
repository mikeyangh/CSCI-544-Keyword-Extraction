Page1基于认知诊断的个性化试题推荐方法朱天宇1)黄振亚1)陈恩红1)刘淇1)吴润泽1)吴乐2)苏喻3)陈志刚1)胡国平4)1)(中国科学技术大学计算机科学与技术学院合肥230027)2)(合肥工业大学计算机与信息学院合肥230009)3)(安徽大学计算机科学与技术学院合肥230039)4)(科大讯飞股份有限公司合肥230088)摘要面向学生的个性化试题推荐是智能教育领域重要的研究课题,现有的试题推荐工作大多采用协同过滤的方法或基于认知诊断的方法.然而,协同过滤的试题推荐方法往往忽略了学生的学习状态(知识点掌握情况);基于认知诊断的方法只能建模单个学生的学习状态,不能利用相似学生的共性特征.针对以上问题,文中提出一种基于学生知识点掌握程度的协同过滤试题推荐方法.该推荐方法分为3步:第1步结合认知诊断模型,根据学生已有的答题情况和试题知识点的关联对学生的试题掌握水平进行建模;第2步将学生的试题掌握水平用于概率矩阵分解预测学生的答题情况;第3步根据得分预测和试题难度向学生进行相应的试题推荐.该推荐方法同时考虑了被推荐学生学习的个性和群组学生学习的共性,在保证试题推荐解释性的同时提高了试题推荐的可靠性.最后,文中通过大量对比实验证明了该方法在进行学生试题推荐时能够保持精确性和可解释性.关键词协同过滤;个性化试题推荐;概率矩阵分解;认知诊断;知识点掌握1引言伴随着大数据时代的到来,智能教育和在线教育的发展越来越快,它们能够便捷地为学生提供试题练习,帮助学生巩固学习的知识[1-2].然而,由于试题资源数量庞大,学生想在有限的时间内练习所有的试题几乎是不可能的.因此,如何帮助学生在浩如烟海的试题资源中找到合适的试题是一个重要的问题[3-4].近年来,学者们尝试将推荐系统的相关技术应用到试题推荐的问题中[1,5].类比于传统推荐系统在电子商务领域的应用,他们将教育学的学生对象看作电子商务中的用户,试题看作商品,学生在试题的得分看作用户对商品的评分.因此,学生试题的得分预测就可以使用推荐系统中常用的方法解决.这种方法简单易懂,取得了良好的效果[5].在传统的推荐系统中,基于协同过滤的方法是应用最广的一类算法[6-8],它又可分为两类:一类是基于近邻的协同过滤方法,另一类是基于模型的协同过滤方法.应用于试题推荐问题时,基于近邻的协同过滤方法首先根据学生在试题上的答题记录计算学生之间的相似度找到最相似学生,通过相似学生的得分对目标学生进行得分预测,进一步根据预测的得分进行试题推荐[7];基于模型的协同过滤方法以矩阵分解[9]方法应用最为广泛,它将学生和试题分解成一组潜在因子的影响因素,构造学生和试题的低维矩阵,来刻画学生和试题在低维空间中的表现程度,并据此来预测学生在试题上的得分,进一步根据预测的得分进行试题推荐.文献[7]的实验结果和文献[10]的实验结果说明,协同过滤的方法可以提高学生得分预测效果,提高试题推荐的准确度.教育数据挖掘中的认知诊断方法也可以用于学生个性化试题推荐.认知诊断方法首先通过各种不同的模型对学生进行能力建模,建模所得到的参数均具有很强的解释性意义,并在用于学生得分进行预测和试题推荐时表现较好.不同于传统推荐系统中的将学生视为用户和将试题视为商品对象,在教育数据挖掘中,有学者认为试题受到一组显式的知识点关联,即试题会考查一组给定的、相关联的知识点,并用犙矩阵表示[11].且认为学生在试题上的表现受到学生对于试题所考察知识点的掌握程度的影响.表1为一个简单的犙矩阵的示例,矩阵的每一行代表一个试题,每一列代表一个知识点(如一元二次方程),从表1中可以看出试题j2关联知识点s1和s2.学生在试题上的得分受学生在试题所关联知识点上的掌握程度的影响,对学生的能力(知识点掌握程度)的建模过程在认知心理学中被称为认知诊断模型[12].认知诊断模型需要在建模学生的同时保证较好的解释性[11,13-14],常见的认知诊断模型有项目反映理论(ItemResponseTheory,IRT)和DINA模型(DeterministicInputs,Noisy“And”gatemodel)[11-12,15].其中,IRT[15]将学生描述成一维的能力值,并结合试题参数(难度,区分度等)对学生进行建模.DINA模型[11]结合犙矩阵,将学生描述成一个在多维知识点上的掌握向量,从而对学生建模.对于得到的学生模型,可以进一步预测试题得分从而进行试题推荐.虽然认知诊断模型通过结合教育学的领域知识(试题参数、犙矩阵等)保证了其结果的解释性,然而由于学生的知识点掌握情况有一定的隐蔽性,无法直接对它进行测量,仅能通过学生的答题情况来推测其知识点掌握情况,推测过程Page3中误差可能会导致学生知识点掌握程度的判断欠准确[16].因此,仅通过学生知识点掌握情况进行学生试题推荐(得分预测)的误差相对较大.试题j110000j211000总结起来,传统的协同过滤推荐方法和基于认知诊断的方法在应用于学生个性化试题推荐时各有优势而又各有不足.传统的协同过滤推荐方法在应用于个性化试题推荐场景时的不足在于协同过滤方法忽略了学生试题相关联的知识点信息,使其在个性化试题推荐的场景下[9]:(1)难以保证推荐结果的可解释性,即无法向学生说明推荐某一试题的原因,学生不了解自己为什么被推荐某一试题(是因为对哪一知识点掌握的不足?);(2)不能保证试题推荐结果的合理性,即所推荐的试题并不一定对学生的练习提高有所帮助.传统推荐算法仅根据学生的做题偏好给出推荐,这种推荐极易给出简单试题或难题,然而在个性化试题推荐的背景下,并不是向目标学生推荐越难的试题就越好,也不是向其推荐越简单的试题就越好[4,17],应当推荐对学生的知识掌握有提升帮助的相关试题.例如在学习的提高阶段,学生可能需要有一定难度的试题进行练习以得到知识点掌握程度的提升,而在学习的巩固阶段,则需要中等难度的试题进行学习的巩固,然而基于协同过滤的推荐系统在推荐的过程中并不考虑学生之间知识点掌握程度的差异,推荐结果往往不够合理.另一方面,传统的基于认知诊断的试题推荐方法,虽然在充分利用学生的个性化知识点掌握程度的基础上保证了推荐结果的可解释性,却不能像协同过滤方法一样对相似学生的共性进行建模.在学生知识点掌握程度建模的过程中,各种建模方法都存在由于忽略了学生学习之间的共性,从而使得对数据隐含的信息挖掘不够充分的情况,并且学生知识点掌握程度作为学生的潜在隐藏属性难以准确测量,对学生的知识点掌握程度建模可能欠准确,容易造成较大的建模和推荐误差.由于以上原因,基于认知诊断的试题推荐方法难以实际运用.可以看出,目前个性化学生试题推荐研究中存在的主要问题有以下两个方面:(1)如何从学生、试题、知识点三者关系中精准对学生的个性化知识点掌握程度进行建模,使其能够合理应用于试题推荐?(2)如何有效结合学生个性化知识点掌握程度和相似学生的共性特征来解决个性化学生试题推荐问题,并同时保证推荐结果的合理性和可解释性?为了解决以上问题,本文提出了一种基于认知诊断的个性化试题推荐方法PMF-CD,希望通过融合两者的优势来弥补各自在试题推荐应用上表现出来的不足.PMF-CD合理地结合了协同过滤和认知诊断各自的优势,能够生成精准且具有可解释性的学生个性化试题推荐.本文所提出的个性化试题推荐方法的输入为学生答题得分矩阵犚和由教育专家标记的试题知识点关联矩阵(犙矩阵);该方法的第1步通过认知诊断模型对学生知识点掌握进行建模得到学生的个性化知识点掌握程度,并根据学生的个性化知识点掌握程度推测学生在试题上的掌握程度;第2步将学生在试题上的掌握程度作为先验参数应用于概率矩阵分解中(ProbabilisticMatrixFactorization,PMF)[10,18],推荐方法的第2步同时结合学生之间的学习共性和学生个人的试题掌握程度特性进行得分预测,通过在PMF分解中加入认知诊断因素(学生个性化试题掌握程度),可以使得PMF分解的低维潜在因子包含学生的个性特征,提高结果的解释性;第3步通过调整推荐试题对于学生的难度,从而给学生进行个性化的试题推荐,保证推荐结果的合理性.因此,不同于传统的推荐系统仅围绕用户的兴趣点进行单一的推荐,PMF-CD可根据学生的不同学习状态推荐不同难度的试题.最后,本文在两组真实的高中学生数学考试数据上的大量实验,验证了本文所提出的基于认知诊断的个性化试题推荐方法PMF-CD所生成推荐结果的有效性和可解释性.总之,本文所提出的个性化试题推荐方法的主要创新如下:(1)据作者所知,PMF-CD是首个可以结合PMF和认知诊断进行个性化试题推荐的方法.它从学生知识点掌握角度对学生建模,结合PMF对学生进行试题推荐,同时具备传统推荐方法所具备的精确性,以及认知诊断的可解释性.(2)该方法结合学生自身和其相似学生的做题情况进行试题推荐,能考虑每个学生的学习情况个性和学生之间的共性,提高了推荐结果的可靠性.(3)PMF-CD引入试题推荐难度范围参数,使得该推荐方法可以向学生推荐不同难度范围的试题,具有很好的扩展性和合理性.本文第2节将介绍试题推荐的相关技术;第3节Page4将介绍问题定义和准备知识;第4节将介绍PMF-CD的框架和技术方法;第5节通过大量实验验证PMF-CD的有效性和可解释性;最后,第6节将总结本文并提出展望.2相关工作本节将从推荐系统认知诊断两个部分介绍试题推荐方法的相关工作.2.1推荐系统推荐系统是数据挖掘中重要的应用[19],可以有效地在海量的资源中快速定位用户可能感兴趣的内容.在推荐系统中,基于排序和基于评分预测的推荐方法是目前最流行的两种推荐方式.近年来,有学者将基于排序和基于评分预测的推荐方法分别应用到教育的相关研究中,在试题推荐等方面取得了一定的成果[5,18,20].对于这两种不同的推荐方式,在众多的推荐算法中,协同过滤(CollaborativeFiltering)是其中应用最广泛的推荐算法之一[8],也是目前研究最深入的推荐算法之一,通过分析和目标用户的相似用户(如用户评分相似、兴趣偏好相似、用户行为相似等)来对目标用户进行推荐.在基于排序的推荐方法应用于学生个性化试题推荐方面,Segal等人[20]提出了联合协同过滤和社会选择理论的学生个性化建模方法EduRank.该方法通过协同过滤找到待推荐学生的相似学生,并根据相似学生在试题上的排序获得目标学生在不同试题上的难度排序.该方法可以用于帮助教师自动筛选适合学生的习题.推荐系统中除了可以联系试题难度排序进行个性化试题推荐外,还可以通过预测学生在试题上的得分(PredictStudentPerformance,PSP)来进行个性化试题推荐[3].应用于个性化试题推荐的协同过滤算法又可以分为基于近邻的协同过滤和基于模型的协同过滤[21].其中,基于近邻的协同过滤方法首先根据学生在试题上的答题记录计算学生之间的相似度,找到目标学生的相似学生群组,通过相似学生的得分对目标学生进行得分预测,进一步根据预测的得分进行试题推荐[7].基于近邻的协同过滤方法自提出以来在许多数据挖掘领域的得到了较理想的效果,且已经有学者将其用于教育领域的个性化推荐[22],包括试题推荐、学习材料推荐、退学预警等.文献[23]提出一种在线学习背景下基于模糊树匹配用户学习材料个性化推荐;除了向单个学生进行学习材料的个性化推荐之外,文献[24]提出了一种融合不同学生的学习兴趣并向一组学生进行个性化学习材料推荐的方法.但由于使用近邻学生表现预测学生表现时,会丢失学生自身的一些学习特性,基于近邻的协同过滤算法在教育应用中存在一定的局限性.基于模型的协同过滤算法在教育学应用最为广泛的是矩阵分解[10],它通过构造学生和试题的低维矩阵,刻画学生和试题在低维空间中的表现程度,并据此来预测学生在试题上的得分,从而进行试题推荐.文献[9-10]表明,矩阵分解已经可以取得较好的推荐精确度.近年来不断有学者提出概率矩阵分解在各种不同的场景下的改进方法,文献[25]提出在矩阵稀疏的情况下引入用户对项目的标签判断用户之间的相似性,并通过为用户和项目分配特有的高斯分布来保证相似的用户可以分解得到相似的隐变量从而提升建模的效果;文献[26]提出了通过捕获丢失数据和观察过程之间的复杂依赖关系来对非随机缺失数据进行概率矩阵分解方法.但由于概率矩阵分解得到的潜在向量的含义难以解释,使其在用于试题推荐时具有一定的局限性[9],推荐结果的可解释性不强.2.2认知诊断在认知心理学中,认知诊断模型可以较好地从知识点层面对学生的认知状态进行建模,并在学生矫正计划、学习退学预警等应用中取得了良好的效果[13].现存有大量的认知诊断模型,可以从两个方面对这些认知诊断模型进行分类[12],一方面,认知诊断模型可以分为离散型和连续型[12,27];另一方面,认知诊断方法可以分为一维技能或多维技能的认知诊断[11,15].在众多的认知诊断模型中,应用最广泛的是一维连续认知建模的项目反应理论(IRT)[15]以及多维离散认知建模的DINA模型[11].其中IRT仅通过学生在试题上的答题情况将学生建模为一维连续能力值,并以这一个单一的能力值表示学生的综合能力.在IRT模型下,学生被刻画成一个具有单一能力值的对象,除题目自身的因素(区分度、难度、猜测度)之外学生在题目上的表现情况仅受到这单一的综合能力影响.然而在实际运用中,由于不同的试题考察范围的不同导致单一的学生综合能力难以刻画学生在不同维度(知识点)上的能力差距,对此有学者提出了补偿性多维IRT模型MIRT-C,和非补偿性多维IRT模型MIRT-NC[12].这两类模型均可以将学生的能力在多个维度上分别Page5建模,是IRT模型建模所得到的学生能力值在维度上的改进.在引入了知识点相关的能力维度后,有学者提出一个试题所考察的多个知识点之间的相互作用可以分为两类[12],分别为“连接性的”知识点相互作用和“补偿性的”知识点相互作用.DINA模型[11]属于多维离散认知建模,且该模型认为知识点间的相互作用是“连接性的”.DINA模型除了使用学生在试题上的答题情况之外还引入了试题知识点关联矩阵(犙矩阵),通过联合更多的教育领域内特有的信息对学生的知识点掌握程度进行诊断并将学生建模成一个在多维知识点上的掌握向量,其中向量的每一维表示学生是否掌握了对应维度上的知识点.DINA模型可以进一步结合试题上的猜测和失误参数,并预测学生在试题上的表现情况.继DINA模型之后多名学者提出了改进的DINA模型,包括HO-DINA、P-DINA、G-DINA等[27].然而上述工作都只能给出学生知识点的离散化掌握程度(知识点掌握或未掌握),在实际中,对知识点的掌握程度是0.9和0.7的两个学生在做题的表现上仍具有一定的差距,在DINA模型和其改进的模型中可能对这两个学生的建模结果均为掌握了该知识点,无法体现学生在知识点掌握程度上的细微差别.因此,DINA模型在学生建模的精确度上具有一定局限性,无法量化诊断结果.此外,IRT模型和DINA模型只能处理离散数据,因此它对学生在客观题(得分非对即错)上的诊断具有良好的效果,但却不能精准地建模学生在主观题(得分为连续的值)上的表现.针对这一问题,有学者结合模糊系统,提出了一种针对主客观题联合的学生建模方法[14],并取得了良好的建模效果.3问题定义及准备知识针对所要进行的具体工作,本节介绍了PMF-CD试题推荐方法的问题定义以及准备知识.在教育领域的试题推荐问题中,一方面,给定学生集合P={P1,P2,…,PU},试题集合J={J1,J2,…,JV},学生试题得分矩阵犚=[ruv]U×V,其中,ruv=1表示学生u答对试题v,ruv=0表示学生u答错试题v;另一方面,对试题集合J所考察的所有知识点S={S1,S2,…,SK},试题与知识点关联情况由犙矩阵[11]定义:犙=[qvk]V×K,其中,qvk=1表示试题v考查知识点k,qvk=0表示试题v未考查知识点k,试题对知识点考查情况由教育领域内的专家标注得到.则个性化试题推荐问题可定义如下.定义1.给定学生集合P、试题集合J、知识点集合S,学生得分矩阵犚和试题知识点关联犙矩阵,本文主要的研究目标为:(1)如何对给定学生Pu的做题记录和犙矩阵,同时考虑其个性学习状态和相似学生的共性信息,得到精确的得分预测?(2)如何进一步针对试题对于学生的难度信息,给出精确且具有可解释性的试题推荐?表2给出了问题所需要的符号及对应描述.符号PPuJJv犚ruvSSk犙qvkαuαukηuv犕u犖v3.1学生知识点掌握情况诊断为了得到学生的学习状态(学生个性状态),PMF-CD使用DINA模型[11]诊断学生的知识点掌握程度.传统DINA模型通过联合学生的做题情况犚矩阵和试题知识点关联犙矩阵对学生进行建模.每个学生Pu描述为一个知识点掌握程度向量αu={αu1,αu2,…,αuK},其中每一维对应一个知识点,αuk=1表示学生u掌握知识点k,αuk=0表示学生u未掌握知识点k.在已知学生Pu的知识点掌握向量αu的情况下,对于学生Pu未作答的试题Jv,可以根据下式(1)获得学生Pu对试题Jv的潜在作答情况:其中,ηuv=0表示学生Pu无法正确回答试题Jv,若ηuv=1,则认为学生Pu可以正确回答试题Jv.此外,DINA模型还引入试题参数(失误率(slip)和猜测率(guessing))来建模学生在真实状态下的答题情况.具体地,学生Pu对试题Jv的响应由下式(2)给出:Pv(αu)=P(Ruv=1|αu)=g1-ηuvv(1-sv)ηuv(2)Page6由于DINA模型中认为知识点之间的相互关系是“连接性的”,其中失误率sv定义为对于掌握了试题所需全部技能的学生仍然无法答对试题v的概率;猜测率gv定义为未掌握试题所需全部技能的学生答对试题v的概率.DINA模型使用EM算法来最大化式(2)的边缘似然[11],从而得到s^1,s^2,…,s^V和g^1,g^2,…,g^V的参数估计;并且学生Pu的知识点掌握向量αu可以通过最大化该学生试题得分后验概率来确定(式(3)),从而得到学生的二分知识点掌握向量.在获得了学生知识点掌握情况后,便可以结合学生知识点掌握情况和待推荐试题的知识点考查情况,作为本文所提出的PMF-CD试题推荐方法的先验进行学生答题情况预测,并用于推荐.3.2概率矩阵分解(PMF)概率矩阵分解(PMF)作为一种传统的预测方法,被广泛的用于推荐系统[9].将PMF应用于学生试题推荐时,可以通过预测学生在试题上的得分来进行学生个性化试题推荐.首先通过将学生和试题分别对应到传统推荐系统中的用户和商品(或电影之类的待推荐项目),学生的答题情况犚矩阵及对应用户对物品的喜爱程度.图1为将概率矩阵分解应用于学生得分矩阵分解时的图模型,PMF将学生得分矩阵犚分解成学生和试题的特征矩阵犕、犖,中犕∈ZD×U、犖∈ZD×V且犕u和犖v分别表示特定学生u和试题v的潜在特征向量来刻画学生和试题低维空间下的表现.则学生试题得分犚满足条件分布如式(4)所示:p(犚|犕,犖,σ2)=∏U其中Ν(x|μ,σ2)是均值为μ、方差为σ2的高斯分布概率密度函数.同时,PMF假设学生和试题的特征向量满足均值为0的高斯分布:通过贝叶斯推论,学生和试题的特征向量的后验概率推导如下:p(犕,犖|犚,σ2p(犚|犕,犖,σ2=∏UPMF算法的图模型如图1所示,通过式(6),可以仅通过已有的学生试题得分记录分解得到学生和试题的低维潜在因子向量,能够很好地刻画学生和试题的表现.4基于认知诊断的个性化试题推荐方法(PMF-CD)针对基于协同过滤的学生个性化试题推荐方法和基于认知诊断的学生个性化试题方法各自所表现出来的不足,本文提出了一种新的学生个性化试题推荐方法PMF-CD,该方法通过结合协同过滤中的概率矩阵分解方法和认知诊断中的DINA模型,使得最终得到的个性化推荐试题同时具备认知诊断所得到的良好的可解释性和概率矩阵分解所得到的良好的推荐效果.4.1PMF-CD方法整体框架本节介绍了本文所提出的PMF-CD的技术方案,PMF-CD的整体流程图如图2所示.从图中可以看出该推荐方法主要分为3个步骤:(1)输入:学生的做题情况犚矩阵和试题知识点关联犙矩阵(由领域内专家标注).(2)学生认知诊断(第1步):使用DINA模型对学生知识点掌握程度进行建模,获得学生的知识点掌握程度,并根据学生在知识点上的掌握程度建模学生在试题上的掌握水平.Page7图2PMF-CD整体框架(3)学生得分预测(第2步):结合PMF方法,并引入学生在试题上的掌握情况和待推荐试题知识点考察情况作为学生潜在因子和试题潜在因子的先验,据此预测学生试题得分.(4)输出(第3步):根据实际需求,设置待推荐试题相对于待推荐学生的题目难度范围[β1,β2],并筛选学生正确作答概率在推荐难度范围内的试题,从而向每个学生进行个性化试题推荐.4.2.1节将介绍PMF-CD试题推荐方法的第1步学生认知诊断;4.2.2节将介绍第2步,结合学生认知诊断结果的学生得分预测;4.2.3节将介绍该推荐方法的第3步,根据学生得分预测进行学生个性化试题推荐.4.2PMF-CD方法具体做法如前文所述,直接应用DINA模型和PMF进行得分预测均存在一定的不足,前者由于对内在因素衡量的不确定性导致预测准确性低,后者忽略了学生学习的个性且可解释性弱.为此,本文提出的PMF-CD方法结合DINA模型和PMF进行学生表现预测,作为试题推荐的基础.4.2.1学生认知诊断(第1步)由于学生知识点掌握程度以及试题难度之间都有一定的差异,所以仅仅使用学生和学生作答信息通过概率矩阵分解获得学生和题目的低维特征并预测学生表现会损失一部分信息[9],损失的信息包括不同学生的知识点掌握情况的差异和不同试题的难度的差异等.为此,我们首先使用DINA模型对学生知识点掌握程度进行建模.在使用DINA模型为学生知识点掌握程度进行建模时,针对DINA模型只能给出学生在知识点上的离散化的掌握程度(只有掌握和未掌握两种)的不足,本文通过考虑所有可能的α后验概率来获得该概率化的学生知识点的掌握程度,使其可以对学生知识点的掌握程度进行概率化建模并将学生的知识点的掌握程度模拟为0~1之间连续数值.重定义估计技能向量α~能Sk的掌握程度:在已知学生的知识点掌握离散程度的情况下,本文通过将已经观测到的学生答题情况和对应试题技能需求作为先验,计算学生在试题上的实际表现情况,即在已知学生对试题的答题情况中排除失误和猜测后学生真实水平.对于学生Pu在试题Jv上答题情况的真实水平Auv,本文首先用几何平均计算该学生在试题所需技能上的平均技能掌握程度Savguv:其中Inuvk为Page8在已知学生在试题所需技能的平均掌握程度的情况下,以学生的实际作答和DINA模型所得试题猜测率gv和失误率sv为先验参数,通过式(10)计算该学生的答题情况中的真实水平:Auv=至此,PMF-CD试题推荐方法的第1步学生认知诊断完成.4.2.2学生得分预测(第2步)在得到学生认知诊断信息后,将其用于概率矩阵分解(第2步).具体的,可以从学生答题真实水平矩阵犃中提取特征buv作为PMF的先验信息:其中,bu表示学生Pu的学习得分先验程度,体现了学生之间知识点掌握程度的差异,为矩阵犃第u行的平均值;bv表示试题v的先验得分程度,体现了题目之间难易程度的差异,为矩阵犃第v列的平均值,通过考虑学生知识点掌握程度,bu、bv可以真实地反映学生个性学习状态,为之后的工作的基础.在加入了学生和试题的先验bu和bv之后,就得到了本文所提出的个性化试题推荐方法PMF-CD中基于认知诊断的答题情况建模方法,图3为该方法的图模型,在该模型下学生的潜在作答情况ηuv由如下式(12)得到其中,μ为总体平均得分.在式(12)中,学生的个性学习状态和学生之间共性的学习状态在ηuv预测时所占的比例由参数ρ进行调节,ρ∈[0,1].ρ越大,则表示预测得分更多的受学生学习状态的个性所影响;ρ越小,则表示预测得分更多的受学生学习状态的共性所影响.特别地,当ρ=0时,不引入学生的个性化学习状态,该方法退化为PMF.通过在PMF分解中加入学生个性化学习状态buv,可以使得PMF分解出的低维潜在因子犕,犖在包含学生之间共性的学习状态时加入学生的个性特征,因此可以提高得分预测的精度和结果的解释性.从图3可以看出,学生的答疑预测由整体平均值、试题先验、学生先验和学生-试题交互4个部分组成,每一个部分都解释了观测值的某一种属性,则PMF-CD的优化目标可变为最小化函数公式:E=∑Uu=1∑V其中,λ犕、λ犖为模型的正则化系数.总的来说,PMF-CD方法在学生答题情况建模时,通过结合学生的知识点掌握情况和试题难度等可解释信息,使得该方法具备认知诊断模型的可解释,在最大程度上从知识点层面排除学生的猜测和失误对答题情况建模的干扰和从试题层面调整试题难易程度对答题情况建模的干扰.4.2.3根据学生得分预测进行试题推荐(输出)在已知学生潜在作答情况ηuv后,PMF-CD个性化试题推荐方法的最后一步便是根据学生的潜在作答情况,向不同的学生推荐个性化试题.本部分将描述PMF-CD根据学生潜在试题作答情况获得个性化试题推荐的具体方法.不同于基于兴趣点的推荐系统,在个性化试题推荐背景下,并不是学生最感兴趣的试题、最难的试题或最简单的试题.为此,在PMF-CD试题推荐方法中,推荐试题的难度可以根据用户需求进行设定.试题难度指试题相对于学生的难度[16],以学生Pu正确回答试题Jv的概率作为试题Jv对于学生Pu的难度Duv,即在进行试题推荐时,设定推荐试题难度范围β1、β2(β1<β2)作为推荐试题难度边界,PMF-CD可以根据学生的潜在作答情况ηuv,向学生Pu从待推荐试题集合Jrec中向其推荐其正确作答概率在β1到β2之间的试题集合Jrec_u:Page9其中β1为学生正确作答概率下界、β2为学生正确作答概率上界.因此,在设定了相应的推荐试题难度范围后,PMF-CD可以对每个学生推荐相应难度范围内的试题.例如,将参数β1设定为0.3、参数β2设定为0.5时,本文提出的PMF-CD试题推荐方法可以从所有待推荐试题中找到对于该用户的正确作答概率在0.3~0.5之间的试题进行推荐,即式(12)中ηuv∈[0.3,0.5]的试题推荐给用户.由于PMF-CD个性化试题推荐方法在进行试题推荐时,有效地结合了学生自身学习情况的个性以及学生之间学习情况的共性,则其推荐的试题能够体现学生当前的学习状态,可以做到为学生推荐合适难度的个性化试题.5实验5.1数据集介绍实验所用的两组数据均来自于某市高中学生数学考试的真实数据,考试的数据真实地反映了学生对试题的掌握程度.其中,DATASET1包含259个学生对296道试题的得分信息,试题分别来自多次的单元性测试和一次综合性测试.这296道试题共考查如下9个知识点,分别是:(S1)数系的扩充与复数、(S2)概率与随机变量、(S3)数列、(S4)三角函数与解三角形、(S5)立体几何、(S6)解析几何、(S7)常用逻辑用语、(S8)函数与导数、(S9)不等式;DATASET2由8819个学生对48道试题的得分组成,试题共来自于3次综合性测试.这48道题共考查13个知识点,除了含有DATASET1中的9个知识点外,DATASET2还包含如下4个知识点:(S10)集合、(S11)计数原理、(S12)平面向量、(S13)算法初步.关于两组数据集的相关统计信息如表3所示.图4所示为两组数据集中试题与知识点关联的犙矩阵明细.例如,从图4中的左图可以看出DATASET1中第1题考查知识点S8;从图4中的右图可以看出DATASET2中第2题考查知识点S9、S10等信息.数据集DATASET1259296DATASET2881948135.2实验评价指标5.2.1精确率、召回率与F1为了衡量本文所提出的个性化试题推荐方法PMF-CD是否能更有效地向学生推荐合适的试题,本文使用精确率(precision)、召回率(recall)和F1指标来评价PMF-CD和其他对比方法在简单试题和困难试题推荐上的效果.具体地,精确率、召回率和F1的定义如式(16)所示:进行简单题推荐时,式(16)中的TP为被推荐试题中所有学生实际正确作答的数量;FP为被推荐试题中所有学生实际未正确作答的数量;FN为所有待推荐试题中学生实际正确作答的数量.同样地,在进行难题推荐时,TP为被推荐试题中所有学生实际未正确作答的数量;FP为被推荐试题中所有学生实际正确作答的数量;FN为所有待推荐试题中学生实际未正确作答的数量.5.2.2正确作答率由于精确率、召回率和F1值仅适用于评价推荐题目中最难的题目和最简单的题目,若所进行的推荐超出学生的当前学习范围,例如向初二的学生推荐高三的数学试题作为难题、推荐百位以内的加减法作为简单试题,则很容易保证在极端情况下简单题和难题的推荐效果的精确率、召回率和F1值.在文章的第一部分介绍过,不同于传统的推荐系统,学生试题推荐这个推荐系统并不是向学生推荐越难的试题就越好,也不是向学生推荐越简单的试题就越好.因此,虽然精确率、召回率、F1值可以从一个Page10侧面体现出由PMF-CD算法推荐得到的个性化推荐试题所得到的难题推荐相对于学生确实有一定难度,所得到的简单题推荐学生容易答对,但是这3个评价指标并不能保证PMF-CD推荐方法向学生推荐的中等难度试题是否真的对学生来说是否落在我们在推荐过程中所设定的难度范围.为此,在评价本文所提出的PMF-CD推荐的个性化难度的试题时,本文提出了以正确作答率指标SR来评价被推荐试题对于学生的实际难度,由设定难度范围后所得到的所有推荐试题的学生真实作答情况下的正确作答比例计算得出,即其中total为推荐试题总数,right为推荐试题中学生正确作答的数量.SR可以反映出所推荐的题目相对于学生的实际难度,当推荐范围的上界和下届设置的都偏高时,所推荐的题目对于学相对简单,则学生的实际作答正确率应当偏高;当推荐范围[β1,β2]的上界和下届设置都偏低时,所推荐的题目相对于学生困难,则学生的实际作答正确率应当偏低.5.3对比实验方法为了验证PMF-CD试题推荐的效果,本文将PMF-CD与如下实验方法进行对比:(1)DINA方法[11].根据DINA诊断出的学生知识点掌握程度,从待推荐试题集中选取学生知识点掌握较弱的知识点(困难试题推荐)和知识点掌握较强的知识点(简单试题推荐)的相关试题进行推荐.(2)kNN协同过滤方法[7].通过学生已有试题得分,计算学生间Jaccard相似度寻找答题情况最相似的学生,再根据最相似学生的得分预测目标学生的得分,进而根据预测得分的高低进行试题推荐.(3)概率矩阵分解方法[10].不引入学生个性学习状态和试题得分程度作先验(即式(12)中的buv),仅通过传统PMF方法预测学生得分,进而根据预测得分的高低进行试题推荐.特别地,PMF方法也是PMF-CD方法在式(12)中的特例(即ρ=0).5.4实验及结果分析结果:实验部分从以下5个方面进行实验并阐明实验(1)通过卡方检验,从统计学的角度说明所提出的PMF-CD个性化试题推荐方法在学生潜在作答情况预测部分的预测有效性.(2)对比实验,PMF-CD相比于对比算法在难题和简单题推荐效果是否有所提升?CD推荐的试题是否符合推荐难度的要求?(3)对于给定推荐试题难度范围[β1,β2],PMF-(4)参数ρ如何影响PMF-CD的推荐效果?(5)通过案例分析说明对于学生的实际推荐试题,是否真实地反映了他当前的学习状态(符合他知识点掌握程度)?5.4.1PMF-CD得分预测卡方检验由于无论是学生学习的个性和共性都难以直接测量和检验,难以直接确定建模所得到的学生知识点掌握向量和隐含知识点掌握向量的低维潜在因子是否准确,更难以直接根据所获得的知识点掌握向量和潜在因子向学生进行试题推荐.为了解决这个问题,在所提出的个性化试题推荐方法PMF-CD中,首先根据建模的结果模拟学生在测试集数据上的潜在作答情况ηuv,并根据模拟得到的ηuv进行试题推荐.因此在进行对比实现之前,增设PMF-CD推荐方法中得分预测部分的卡方检验,从统计的角度证明所以出的个性化试题推荐方法PMF-CD在成绩预测部分的有效性.由于学生试题得分犚矩阵数据分布为离散型,此处我们将PMF-CD方法中预测得分大于等于0.5的情况视为预测学生对该题的回答正确,小于0.5的情况视为预测学生对该题的回答错误.假设检验:H0:PMF-CD方法预测学生潜在作答情况ηuv和学生实际作答情况相互独立,PMF-CD方法预测学生得分和实际学生得分无关.H1:PMF-CD方法预测学生潜在作答情况ηuv和学生实际作答情况不相互独立,PMF-CD方法预测学生得分和实际学生得分相关.置信度:α=0.005.在DATASET1和DATASET2中分别随机选取20%的学生在40%的试题上的作答情况进行卡方验证,统计结果如表4所示.分组ηuv=ruvηuv≠ruv合计ruv=13595(3078)338(855)3933ruv=01207(1724)996(478)2203合计分组ηuv=ruvηuv≠ruv合计ruv=120598(18654)2529(4474)23127ruv=06435(8379)3954(2001)10389合计27033注:括号内为理论频数.Page11通过计算两组数据集下抽样得到的χ2值,可得DATASET1=1112.793、χ2χ2检验p值表可以得到pDATASET1<0.005、pDATASET2<0.005,因此我们拒绝原假设H0,接受假设H1,即通过统计学上的卡方验证可以看出PMF-CD方法预测学生得分和实际学生得分相关,即验证了本文所提出的基于认知诊断的个性化试题推荐方法在学生得分预测部分的有效性.5.4.2简单题和难题推荐对比实验在比较试题推荐效果的实验中,实验分别从简单试题推荐和困难试题推荐两个角度,将PMF-CD方法与5.3节所描述的3种对比实验方法进行对比实验.简单题推荐的做法为向目标学生Pu推荐待推荐试题集中对该学生最简单的试题(组)(即该学生潜在作答情况ηuv最高的试题(组)),难题推荐的做法为向学生Pu推荐待推荐试题集中对该学生最难的试题(组)(即该学生潜在作答情况ηuv最低的试题(组)).具体地,在两组数据集中,分别在学生和试题两个维度进行交叉验证.分别随机选取20%的学生作为测试集学生进行试题推荐,其余80%学生作为训练集.而对于试题,本文依次选择试题测试集(待推荐试题总量)的比例为30%、40%、50%,其余的试题作为训练集.以总试题的30%做测试集的实验为例.实验时以全部的学生在70%测试集中的试题作答情况获得学生知识点掌握程度,再以80%的测试集学生在全部试题上的作答情况获得试题的失误率和猜测图5不同推荐方法在不同数据集下推荐效果率.这样的交叉验证划分保证了测试集学生在测试集试题上的作答情况不用于任何的参数训练.依次划分实验训练集和测试集后,本文使用上述4种实验方法在两组数据集中分别向每个测试集中的学生推荐5道困难试题和5道简单试题,并分别计算4种方法的精确率、召回率与F1值,通过比较3个参数来评价4种不同的推荐方法的试题(简单题/难题)推荐效果.实验中,本文设定PMF-CD方法分解的犕、犖低维矩阵的维度为10,为防止PMF-CD模型在训练时出现过拟合现象[10],本文设定正则化系数λ犕=λ犖=0.01,模型中的参数ρ=0.4(将在5.4.4节参数ρ的设置中通过实验详细阐述实验中设置ρ=0.4的原因).试题推荐实验对比结果如图5和表5所示(表5为图5具体数据),从中可以看出以下对比信息:(1)在DATASET1和DATASET2下所有测试集比例的实验中,无论是对简单试题推荐,还是困难试题推荐,引入学生个性学习状态和试题得分程度作为先验的PMF-CD方法的试题推荐效果均优于其他算法.说明PMF-CD在简单题和难题的推荐上相比于其他的3种对比实验方法更加有效.(2)且相比于传统PMF算法,在测试集比例较小时,PMF-CD方法的优势不是特别明显,但是随着训练集的减小,测试集的增大,PMF-CD的优势体现出来,这说明在PMF分解中加入学生个性化学习状态buv,可以使得PMF分解出的低维潜在因子犕,犖在包含学生之间共性的学习状态的同时加Page12表5不同推荐方法在不同数据集下推荐效果的准确率、召回率和犉1精确率召回率F1DINA0.32310.36540.35770.49650.54450.59640.51920.50770.50000.53830.60660.6361kNN0.79230.79230.89230.76120.86540.88090.83850.76920.75770.70270.72360.7319PMF0.89620.90000.94230.81040.88380.90580.95380.96540.97310.86530.90140.8987PMF-CD0.90000.90380.94620.81350.88730.91220.96540.96920.98460.87040.90720.9054DINA0.12630.14290.13980.37280.29260.24500.23080.22560.22220.36670.31280.2688kNN0.30980.30890.34890.57150.46510.36190.37260.34190.33680.47870.37320.3094PMF0.35040.35190.36840.60850.47490.37210.42390.42910.43250.58940.46480.3799PMF-CD0.35190.35340.36990.61080.47680.37470.42910.43080.43760.59290.46790.3827DINA0.18160.20540.20100.42590.38060.34730.31960.31240.30770.43620.41280.3779kNN0.44540.44450.50160.65280.60500.51300.51590.47340.46630.56940.49230.4349PMF0.50380.50590.52970.69500.61780.52750.58690.59410.59880.70120.61340.5340PMF-CD0.50600.50810.53180.69770.62030.53120.59410.59640.60590.70530.61730.5380于给定推荐试题难度范围[β1,β2],PMF-CD推荐的试题是否符合推荐难度的要求,进行参数β的不同设置下学生相应SR变化趋势的实验.本文使用测试集上的学生的正确作答率(SR)来验证PMF-CD方法是否能够有效地为学生推荐合适的试题,并选用不加学生个性化知识点掌握程度的PMF方法作为对比方法.具体地,本文将推荐试题的难度β依次划分为11个范围,从0到1(包括0和1)每间隔0.1取一次β并以[β-0.1,β+0.1]作为推荐题目难度范围进行实验.实验中依次提高推荐试题的难度,在测试集中根据上述两种算法的预测得到的学生潜在作答情况筛选得到对每个学生在该难度范围下的个性化推荐试题集,计算测试集上学生对于推荐试题的正确作答率(SR)并观察SR随β的变化情况,实验结果如图6所示.从图6可以看出,随着推荐难度的减小,学生对所推荐的试题正确作答率(SR)不断提高,说明PMF-CD能够根据推荐试题难度的需要,推荐适合学生的难度的试题.例如,设定β为0.4时,学生在PMF-CD算法推荐的试题上的实际正确作答率接近0.4.此外,从图6(b)中可以看出,在样本量更大的DATASET2中,根据不同设定难度的要求,PMF-CD方法的试题推荐效果稳步上升,能够更接近学生的做题水平,而传统PMF方法的试题推荐效果存在一定的误差,例如,图6(b)中设定试题难度β为0.2时,学生在PMF算法推荐的试题上的正确作答率(SR)约为0.1.另外,PMF-CD在图6(a)的DATASET1上的推荐效果与PMF算法类似,这可能是DATASET1的数据量较小,而导致PMF-CD算法的优势不够明显.通过参数β设置的实验可以看出,本文所提出入学生的个性特征,说明在综合了学生的学习个性和学生之间的学习共性之后,能更精确地对学生进行建模,提高学生个性化试题的推荐效果.(3)从图5和表5的实验结果中还可以看出,随着训练数据量的下降,基于kNN协同过滤的试题推荐方法效果呈明显的下降趋势,这可能是由于随着训练数据比例的下降,kNN算法难以通过相似度计算方法精准找出学生之间的相似程度最大的学生而影响了最终的试题推荐效果,但本文所提出的个性化试题推荐方法PMF-CD在包含相似学生的学习状态之外,还包含待推荐学生自身的学习个性,推荐效果较好.(4)此外,DINA模型的试题推荐的效果很不稳定,在训练集比例较高时的推荐效果较差,这可能是由于训练数据的减少使得对学生知识点掌握程度诊断的误差有明显增大.且由于DINA方法在进行试题推荐的效果明显较差,本文在部分实验测试集的图上没有进一步展示该方法的结果,具体结果可参见表5.可以看出,虽然学生的知识点掌握情况作为学生的隐藏属性难以衡量,诊断所得到的学生知识点掌握状态也在试题推荐时表现出的效果相比另外两种对比方法差,但当我们将从学生知识点掌握程度得到学生试题掌握程度作为先验信息,并加入PMF方法形成本文所提出的基于认知诊断的个性化推荐方法PMF-CD时,却提高了在简单题和难题上的推荐效果.从对比实验的结果可以看出,PMF-CD在简单题和难题推荐准确性上的优势.5.4.3推荐试题难度参数β的设置在本文所提出的个性化试题推荐方法的最后一步中,可以设定待推荐试题的难度范围.为了验证对Page13图6不同推荐难度β对测试集中推荐效果的影响的基于认知诊断的个性化试题推荐方法PMF-CD在引入了学生个性化知识点掌握情况后,相对于不引入学生个性化学习状态的情况可以更加精准的向每个学生推荐所设定推荐难度范围内的试题.该方法在结合了学生学习的个性和学生之间的学习共性之后,可以更加准确的进行学生的潜在作答情况预测,从而使得基于这种更准确的潜在作答情况预测得到的个性化试题推荐的结果更加可靠且可解释性好.5.4.4参数ρ的设置本文所提出的PMF-CD模型中,参数ρ作为调整PMF方法和认知诊断程度的权重参数出现,且ρ∈[0,1].ρ越大,则表示学生得分越接近学生个性学习状态;ρ越小,则表示学生得分越接近学生之间的共性学习状态.特别地,当ρ=0时,该方法退化为PMF.在参数ρ的设置实验中,我们分别在DATASET1和DATASET2中选取20%的学生在40%的试题上的作答情况作为测试集进行不同的ρ对本文所提出的PMF-CD个性化试题推荐方法在简单题和难题推荐上的推荐效果进行实验.图7显示了PMF-CD分别在两个数据集下进图7ρ值对PMF-CD效果的影响行简单试题和困难试题推荐时,算法的推荐结果效果(F1值)与参数ρ值的变化关系.从图7可以看出,ρ值的选取对PMF-CD方法的试题推荐效果有明显的影响.由图7(b)可以看出,对于DATASET2,ρ=0.6可以使得PMF-CD进行困难试题推荐的效果最好;ρ∈[0.4,0.6]可以保证PMF-CD进行简单试题推荐有较好的效果.仔细分析图7不难发现,在ρ=0.6上升到ρ=0.7时在DATASET1中的难题推荐下有略微的下降,而在比DATASET1样本数量多的DATASET2中,此处的下降非常明显,我们认为在ρ=0.6这一点周围该方法表现出来的稳定性不够;反之在ρ=0.4的周围,在DATASET1上或是在DATASET2上,在简单题预测表现和难题预测表现上其F1值都相对平稳且表现较好.综合考虑ρ取值不同时PMF-CD推荐效果的自身表现及其潜在的稳定性,这便是本文在5.5节选定ρ=0.4作为实验的模型参数的原因.然而,图7(a)中显示,在DATASET1上,ρ值的选取对于PMF-CD在简单试题上的影响效果不明显,这可能是由于DATASET1数据量较小,从而影响了算法的效果.此外,我们还能发现,ρ值的选择对于PMF-CD进行简单试题推荐的影响相比于Page14困难试题推荐较弱,这可能是因为简单试题对于学生学习状态的反映不够明显,而困难试题能够比较准确地反映学生的学习状态.5.4.5案例分析本节通过实际案例分析展示了PMF-CD对于两个学生的试题推荐情况.图8显示了在DATASET1上学生A,B对于9个知识点的掌握程度.可以看出,学生A在S1,S4,S8等知识点上掌握较好,知识点S3,S9上掌握较差;学生B在知识点S1,S7上掌握较好,在知识点S2,S5上掌握较差.在测试数据集中,学生A和学生B的正确作答率均为50%,当选取难度在0.3~0.5之间的试题进行推荐时,PMF-CD向学生A推荐的试题为推荐集中13题和201题、向学生B推荐的试题为推荐集中7题、132题和201题.其中,132题考查的是S2知识点,由图8可以看出学生B的S2知识点较弱,学生A的S2知识点在中等水平.由于选取的试题难度为0.3~0.5之间属于难度较高的试题,132题相对于学生A属于难度一般的试题,相对于学生B属于难度较高的试题.从该案例分析中可看出,本文提出的个性化试题推荐方法PMF-CD在推荐难度较高的试题时,可以针对每个学生的个性化学习状态向其推荐相应的试题,试题推荐结果具有很强的可解释性.5.5实验结果讨论从5个部分的实验结果可以看出,本文所提出的基于认知诊断的个性化试题推荐方法PMF-CD无论是在简单题/难题的推荐效果上还是在所推荐试题难度和选择的推荐难度范围的吻合度上均有较好的效果,这是因为该方法同时考虑了学生学习状态的个性(知识点掌握情况)和学生之间的学习共性(协同过滤方法)从而提高了推荐效果的可靠性和解释性.由于本文所使用的数据集为高中学生数学测试的真实数据,且两组数据集中学生分别参加了所有的考试,故两组数据集的填充率为100%,而在实际的场景中,由于高中数学的试题总量极其庞大,每个学生以其有限的精力只能完成题海中试题的少部分,同时每道题也只会有小部分学生进行作答,故可观测的学生数据往往是稀疏的.由本文的实验结果可以看出,PMF-CD因为结合了学生学习的个性和共性,在获得学生低维潜在因子时加入了其知识点掌握情况作为先验参数,这样结果既有PMF分解的学生学习共性,也包含了由DINA模型得到的学生知识点掌握程度个性,就使得PMF-CD方法既避免了仅使用知识点掌握程度进行推荐时因为训练集小而对学生知识点掌握程度测量不准的问题,也避免了仅使用PMF方法时可解释性差的欠缺,从5.4.5小节的案例分析中可以看出本文提出的基于认知诊断的个性化试题推荐方法使得推荐结果的可靠性和可解释性增强.6结论和展望针对传统认知诊断模型和传统PMF算法在学生试题推荐方面的缺陷,即前者忽略了学生之间的学习个性、后者忽略了学生的学习个性,本文提出了一种结合概率矩阵分解和认知诊断的个性化试题推荐方法PMF-CD.该方法的输入为学生在试题上的答题情况和由教育领域内的专家所标注的试题知识点关联矩阵(犙矩阵);PMF-CD的第1步结合认知诊断模型对学生知识点掌握程度进行建模,并联合试题的知识点考察情况获得学生在试题上的掌握程度;第2步将学生的个性试题掌握程度作为PMF算法的先验信息使用,进行学生的得分预测,在考虑学生群体之间学习的共性的同时加入了被推荐学生个人的学习状态个性;第3步根据给定推荐试题的难度范围[β1,β2],筛选出适合目标学生做题难度的试题形成待推荐试题集,并向学生进行推荐.文章的最后,通过大量实验证明了本文所提出的基于认知诊断的个性化试题推荐方法PMF-CD的合理性和可解释性.本文所提出的推荐方法,将所有学生的个性化先验的权重参数ρ视为同等重要,而在实际的学习过程中,有些学生的学习个性强,有些学生的学习个性弱.在进行PMF-CD进行试题推荐时,若考虑学生学习的个性强度,则会让推荐结果的可靠性更高,这也是未来的研究方向之一.Page15
