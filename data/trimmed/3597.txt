Page1基于混合推理的知识库的构建及其应用研究钟秀琴1)刘忠2)丁盘苹1)1)(电子科技大学计算机科学与工程学院成都610054)2)(四川建筑职业技术学院四川德阳618000)摘要该文提出了基于OWL本体与Prolog规则的平面几何知识库的构建方法,从而可形式化地表示平面几何中丰富的语义信息.一方面,用类型、定义域、值域、分类、属性、实例等本体描述来表达结构化的知识,为领域内概念与概念之间关系的描述提供形式化的语义;另一方面,用Prolog规则来解决本体不能有效表达的诸如属性之间的关系和操作等问题,从而支持复杂关系间的推理.在此基础上,用Protégé和Prolog构建了一个基于本体和规则的平面几何知识库.实验证明:此知识库可实现知识和语义层次上的信息查询,还可进行复杂问题求解,其丰富的语义描述和混合推理能力弥补了传统知识库的不足.关键词平面几何;本体;知识库;混合推理1引言随着计算机和人工智能技术的迅速发展,智能系统或基于知识的系统的研发已成为计算机应用的研究热点之一.与此同时,人们对智能系统提出了更高的要求,迫切要求它们能更有效地解决更复杂的问题,代替人完成各种困难的任务.因此,如何有效Page2地存储、管理、组织、维护和更新大规模的知识,如何有效地利用存储的知识进行推理和问题求解,即知识库系统技术便应运而生,并成为人工智能技术的重要分支.知识库是针对某一领域问题求解的需要,采用某种知识表示方式在计算机中存储、组织、管理和使用的互相联系的知识片集合.这些知识片包括和领域相关的理论知识、事实数据,由专家经验得到的启发式知识,如某领域内有关的定义、定理和运算法则及常识性知识等.知识库系统的实现主要涉及知识的表示、传递、推理和获取,以实现知识的检索,满足用户的需求.国外知识库系统起步较早,发展迅速,竞争激烈,也造就了一批优秀的知识库的诞生,如德国的Springer知识库、荷兰的Elsevier知识库和美国的EBSCO知识库等,都是世界著名的知识库系统.国内也出现了CNKI等知识库系统.传统知识库的检索方法有一定的效率,但都缺乏一种对知识进行表示、推理、检索和获取的综合手段.而被引入到知识库系统中的本体,可以用术语或概念对知识进行表达,同时揭示这些知识之间内在的关系.基于本体的知识库系统中的知识不仅通过纵向类属分类,而且通过本体的联想进行组织和关联,然后推理机利用这些知识进行推理,以满足用户的检索需求.基于本体的知识库目前主要有常识知识库Cyc[1]、语言知识库WordNet①、企业知识库[2]、基因知识库GeneOntology[3]、知识库HPKB②、中国科学院陆汝钤院士等研制的常识知识系统[4]、中国科学院计算技术研究所曹存根研究员提出的国家知识基础设施(NationalKnowledgeInfrastructure,NKI)[5-7]等.本体推理[8]基于描述逻辑[9],但描述逻辑对陈述性知识的表达能力不足,不能提供关系间的组合推理.而大多数的问题求解都涉及复杂关系间的组合推理,因此需合理地将规则推理与本体推理相结合.本文在前人研究与实践的基础上,首先构建一个平面几何知识本体,然后将本体与Prolog规则结合进行平面几何知识库的构建,最终实现基于本体的语义查询和基于混合推理的平面几何问题求解,促进知识库的规范化和增强语义性,实现复杂问题的求解.2平面几何本体模型的构建本体作为一种能在语义和知识层次上描述信息系统的概念模型的建模工具[10],在提出后迅速成为信息系统与人工智能领域的研究热点.知识本体(Ontology)是共享概念模型的明确形式化规范说明[11].通过构建本体能够精确规范某个领域的概念,明确定义机器可以处理的概念以及概念之间的关系,大大提高知识搜索、知识重用、知识共享的效率.下面以层层递进的方式来描述基于本体的知识表示与推理及本体模型的构建过程.2.1RDF三元组的构建RDF(ResourceDescriptionFramework,资源描述框架)提供了一个通用的数据模型支持对Web资源的描述.主要由三部分构成:(1)资源.RDF表达式中描述的所有事物都称为资源.每个资源都有一个通用的标识符URI(U-nifiedResourceIdentification).(2)属性.RDF的属性是一类特殊的资源,用来描述资源的特性或者资源间的关系.(3)陈述.RDF的陈述用来描述一个有属性及其值的特定资源.每个陈述是一个“对象-属性-值”三元组,由一个资源、一个属性和一个值构成.三元组RDF构成相关事物的网状信息.如知识“点C是线段AB的中点”可用三元组来表示成图1所示的形式,且可序列化为〈主语谓语宾语〉的形式,即〈点C是中点线段AB〉.同时,RDF使用URI来对文档中的信息进行编码和唯一标记,如用“http://www.math.com/geo/elements#点C”、“http://www.math.com/geo/relations#是中点”和“http://www.math.com/geo/elements#线段AB”分别表示“点C”、“是中点”和“线段AB”,即用URI“http://www.math.com/geo/elements”来唯一标记我们的对象、属性和关系等,从而可解决一词多义的问题.在此基础上,我们将结构化数据(如RDB)、半结构化数据(如html)和非结构化数据(如txt文本)等自动转化为RDF图.对于数据库表等数据,可通①②Page3过一个映射将其解析成三元组;对于html结构的数据,可采用htmlparser进行网页结构解析,将其转换成三元组;对于纯文本数据,则需采用分词、语法分析等自然语言处理的方式来进行解析,进行文本抽取[12],获得所需的三元组.总之,可用事件本体(如类型、角色、时间、地点、属性值等)将异构数据映射为综合性知识来自动获取信息,然后用URI和RDF来编码信息,形成一个语义网,从而构建一个图知识库,而不是表数据库.2.2RDFS知识表示与推理RDF作为一种描述对象(资源)和对象之间关系的数据模型,可为其提供简单的语义,这些数据模型可以用XML语法来表示.RDFSchema(RDFS)在RDF的基础上增加了核心类,如rdfs:resource、rdfs:class、rdfs:literal、rdfs:property、rdfs:statement,核心属性如rdfs:subClassOf、rdfs:subPropertyOf、rdf:type,约束如rdfs:domain、rdfs:range等,并可在此基础上进行一定的推理.如图2所示,domain和range连接两个类(点类和线段类)之间的关系,可以与type一起进行推理,其中实线箭头为已知信息(AB与C之间的关系是有中点),虚线箭头为推理出的结果(则可推理出C是点类,AB是线段类).2.3OWL知识表示与推理2002年7月,W3C将WebOntologyLanguage(OWL)①语言制定为国际通用的标准本体描述语言.OWL是沿袭RDF的基本事实陈述方式,以RDFS的类和属性作为分层结构,并以描述逻辑为基础理论的一个更为丰富的词汇描述语言,可以刻画更丰富的资源属性信息.OWL将属性分为对象属性(owl:ObjectProperty,描述类的实例之间的关系)和数据类型属性(owl:DatatypeProperty,描述类的实例和数据类型的关系).OWL有3个子集:OWLLite、OWLDL、OWLFull.其中,OWLDL是基于描述逻辑的本体描述语言,它支持那些需要更强表达能力的推理系统,且能够保证计算的完全性和可判定性[8],因此本文选择OWLDL来进行本体描述.如图2中粗箭头所示,若添加一个“有中点”的inverseOf“是中点”,则可通过OWL知识表示与推理得到“点C是线段AB的中点”.2.4平面几何本体模型构建本体模型主要由如下几部分组成:类:一个类是一类个体的集合.一个领域中的最基本概念应分别对应于各个分类层次树的根.平面几何中的基本类包含点类、线类、角类、圆类、多边形类等.属性:属性是关于类成员的一般事实的断言以及个体的具体事实的断言,一个属性是一个二元关系.除了OWLDL内置的属性,我们根据平面几何领域的特性,添加了领域属性,如表1所示为领域内的部分属性列表.属性名称属性类型属性含义domainrange长度Datatype线段的长度线段xsd:floatX坐标Datatype点的横坐标点xsd:floatY坐标Datatype点的纵坐标点xsd:float有中点Objecttype线段有中点线段点是中点Objecttype点是线段的中点点线段圆内切于正四边形Objecttype圆与正四边形内切圆正四边形正四边形外切于圆Objecttype正四边形与圆外切正四边形圆个体:类的成员是我们所关心的范畴中的个体.通过对平面几何领域中的类、属性和个体的构建以及对RDF、RDFS、OWL知识表示与推理的研究和分析,从而设计和构建出一个平面几何本体模型,如图3所示为构建的部分本体模型示意图,实线箭头为已知信息,虚线箭头为推理出的结果.其中,水平虚线之上为Tbox(术语体系,定义了领域的结①OWLWebontologylanguage,W3CRecommendation.ht-tp://www.w3.org/TR/owl-features/Page4构),虚线之下为Abox(概念断言和角色断言的集合,用于指明个体的属性或个体之间的关系),TBox和ABox是基于描述逻辑的知识表示系统的两个主要部分,且ABox将与TBox中的类相对应的实例填入,从而可提供定义类、属性限制和描述逻辑的推理,其中包含推理用于概念的分类,可满足性推理用于概念集合的一致性检查.本文采用由斯坦福大学的医学信息研究组开发的Protégé(版本为3.4.4)来构建平面几何本体的类、属性(对象属性和数据属性)和实例,如图4所示为构建的部分平面几何知识本体示意图.3Prolog规则描述OWLDL所拥有的描述能力主要来自以类为基础加上关系的推理,如果某项知识难以用类的方式表达,则OWL就难以描述.例如If.Then.关系是很普通的逻辑判定,但是OWLDL以规则为基础的描述和推理能力不足;又如,已知hasFather(Tom,Jack)和hasSpouse(Jack,Rose),却无法推出hasMother(Tom,Rose),因此需合理地将规则推理与本体推理相结合才能使推理能力更为完善.而传统的规则语法无法和知识呈现方式结合,在知识呈现方面所制订的词汇和类均无法在规则中再利用;虽然在规则中必须使用相同的词汇才能运作,但目前缺乏将知识库中的内容直接与规则对应从而进行相应的推理运算.为了解决上述问题,基于OWL本体扩充逻辑规则,本文研究采用RDFProlog[12]来描述用户自定义规则.RDFProlog可构建RDF数据层之上的更高层次的概念或复杂的语义关系,进行功能强大的计算或推理,还可作为一个规则系统架构于OWL之上.这样不仅可自动快速地查找到RDF节点间的语义关系,还可进行推理搜索,且RDFPro-log语句被编译成机器代码后,以处理器的速度高速运行.如前驱知识点,可用RDFProlog描述为如下所示.RDF三元组描述:〈triple1:“http://www.math.com/geo#element1”“http://www.w3.org/1999/02/22-rdf-syntax-ns#type”〈triple2:“http://www.math.com/geo#resource1”“http://www.w3.org/1999/02/22-rdf-syntax-ns#type”〈triple3:“http://www.math.com/geo#element1”“http://www.math.com/geo#hasDefinition”“http://〈triple4:“http://www.math.com/geo#element2”“http://www.math.com/geo#inDefinition”“http://规则描述:规则1IFinDefinition(A,C)∧hasDefinition(B,C)Then其Prolog描述如下:规则2IFsameAs(A,C)∧previousOf(C,B)ThenpreviousOf(A,B)其Prolog描述如下:(<-(previousOf?x?y)其中,geo为我们自定义的命名空间“http://www.math.com/geo”.通过以上描述,可以进行基于Prolog的推理,且此方法可应用于平面几何复杂问题求解.4基于混合推理的知识库构建4.1知识库的构建本文采用Protégé来构建本体,选择OWLDL作为本体模型描述语言,将本体实例模型保存为.owl文件,导入到AllegroGraph(AG)数据库中;使用RDFProlog进行规则描述;最后,采用基于Jena和Prolog的AG数据库进行推理.其混合推理知识库Page5架构如图5所示,在此基础上率先构建了基于本体和Prolog的几何知识库(其中包含知识点700多个,关系约3000个,规则约100条).其中OWL本体库如图4所示,Prolog规则库主要包括点、线、角、圆、多边形等类相关的定理及领域内规则.4.2基于本体的语义搜索基于已经构建的融合本体和Prolog的平面几何知识库,通过对用户输入的智能解析,可进行基于语义的搜索.如图6所示,可通过owl:equivalent-Class(同一关系)等本体推理实现语义扩展和语义搜索,而不只是基于关键字的搜索.4.3基于混合推理的几何问题求解下面以一个具体的实例来描述基于本体和Prolog规则的推理及其在平面几何定理证明中的应用.例1.已知任意四边形ABCD,点E、F、G、H分别是线段AB、BC、CD、DA的中点,证明四边形EFGH是平行四边形.对于所有的对象、已知条件、结论的描述,定理的条件和结论之间的关系,定理的条件数等,可用本体来进行描述.如对于点E、F、G、H分别是线段AB、BC、CD、DA的中点,则可用〈点是中点线段〉的模型来进行描述;另外需根据三角形的中位线的定义“连接三角形两边中点的线段叫做三角形的中位线”来建立三角形的中位线本体模型,可用〈三角形有边线段〉和〈线段有中点点〉来进行构建;对于与概念相关的定理,则用数据库表来进行描述,如表2所示,为已知对象类的相关性质定理,然后将其转换为RDF三元组,其形式与本文“3Prolog规则描述”中的“RDF三元组描述”一致.中点中点性质三角形的中位线对于具体的定理,用规则来进行描述,其形式与本文“3Prolog规则描述”中的“规则描述”一致.如三角形中位线定理,用Prolog规则描述如下:(<--(Parallel?f?d)(q-?f!rdf:type!geo:线段)(q-?f!geo:object端点?x)(q-?f!geo:object端点?y)(q-?x!rdf:type!geo:中点)(q-?y!rdf:type!geo:中点)(not(part=?x?y))(q-?x!geo:中点线段?a)(q-?y!geo:中点线段?b)(not(part=?a?b))(q-?c!rdf:type!geo:三角形)(q-?c!geo:三角形边?a)(q-?c!geo:三角形边?b)(q-?c!geo:三角形边?d)(not(part=?d?b))(not(part=?d?a)))通过三角形的中位线性质定理可得出三角形的中位线与三角形的底边的关系为“三角形的中位线平行于第三边(底边),且等于第三边(底边)的一半”,因此可建立三角形的中位线的平行关系属性和线段等量关系(1/2等于)属性,且这两个属性都具有传递性(transitive).因此通过上述Prolog规则和传递性的约束属性,可得到平行关系的相关结论为“EF∥AC、GH∥AC、EH∥BD、GF∥BD、EF∥GH、EH∥GF”.再根据平行四边形定义“两对对边分别平行的四边形是平行四边形”建立平行四边形本体模型.最后,将本体实例模型保存为.owl文件,将上述本体实例模型和Prolog规则导入AG数据库,并通过语句(select(?x)(平行四边形?x)),则可得到EFGH,即四边形EFGH为平行四边形.至此,基于本体和Prolog规则的混合推理的平面几何问题求解得以圆满完成.Page65结论基于本体的方法很好地体现了概念及其关系之间的层次性和结构性,以及关系之间的约束性,本文基于OWLDL构建了一个平面几何知识本体.基于Prolog规则的方法又很好地解决了复杂关系间的组合推理,本文基于Prolog规则构建了一个构架于OWL之上的平面几何规则库,融合本体与Prolog规则构建了一个平面几何知识库,可表达结构化的知识,为领域内概念与概念之间的关系的描述提供了形式化的语义,实现了知识和语义层次上的知识查询,实现了基于混合推理的平面几何问题求解,其丰富的语义知识和混合推理能力弥补了传统知识库的不足.进一步,本体模型的构建及其混合推理还可应用于数据挖掘,为行业用户提供精确的信息检索、智能推送等服务.致谢对美国康奈尔大学的Sheng-ChuanWu博士的大力帮助和建议且提供了AG数据库,表示衷心感谢!
