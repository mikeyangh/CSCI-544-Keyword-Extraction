Page1无线传感器网络中最小化通信开销的近似监测算法1)(大连理工大学计算机科学与技术学院辽宁大连116000)2)(哈尔滨工业大学计算机科学与技术学院哈尔滨150001)摘要聚集值的约束违反监测有助于检测监测区域内异常事件的发生.传感器节点由于电源能量耗尽的原因经常失效或废弃,因此研究无线传感网的高能效的监测算法具有重要意义.已有的研究工作给出了启发式的阈值设置方法,通信能量开销较高并且没有考虑感知数据的特性,忽略了噪声对感知数据的影响.鉴于上述原因,以最小化通信开销为优化目标,文中开展了过滤器最优阈值的研究.首先,文中提出了通信开销模型,给出了过滤器最优阈值问题的形式化定义,其次,通过一维随机游走来模拟感知数据的变化并推导出过滤器失效概率的计算公式,通过拉格朗日乘子法给出了求解过滤器最优阈值的数学方法,第三,提出了低计算复杂度的过滤器最优阈值近似算法并分析了近似算法的近似比.理论分析和实验结果验证了提出的算法的正确性以及高效性.关键词无线传感器网络;监测;约束违反;近似算法;物联网1引言集成有传感器,数据处理单元和通信模块的微小传感器节点以自组织的方式构成了人们广泛熟知的无线传感器网络.借助于节点中内置的形式多样的感知器件,传感器节点可以监测包括温度、湿度、噪声、光强度、pH值、CO2浓度在内的等众多人们感兴趣的物理变量[1-2].随着嵌入式技术和无线通信技术的不断发展,传感器网络逐渐走进人们的生活,在军事、环境、健康、建筑物监测等其他领域得到了广泛地应用.随着人们对环境科学的日益关注,传感器网络满足了人们低成本地获取环境科学数据的需求[3-4].例如ALERT系统①配置了多种传感器来监测降雨量、河水水位以及土壤水分,并通过监测数据预测爆发山洪的概率.具有多种传感器的FWI②系统用于监测CO浓度、CO2浓度、温度和光学烟雾浓度,并依据监测数据判断森林中是否有火灾发生[3].鉴于传感器节点的感知数据常常受到硬件误差和环境噪声的影响,因此在上述基于传感网的连续监测应用中,用户关心t时刻监测区域的聚集和(或感知数据的平均值)是否大于(或小于)指定的阈值,并依此判断监测区域内是否发生异常事件.由于传感器节点仅以电池为能源供给,将监测区域内的全部感知数据发送至汇聚(Sink)节点会引起较高的通信开销,降低了传感网的使用寿命.因此研究者提出了高能效的监测算法[5-9],其主要思想是为各节点的感知数据设置局部阈值(或过滤器),若感知数据小于局部阈值,那么节点不需向Sink节点传输数据.显然地,当感知数据大于其局部阈值时,监测区域内的聚集和(或感知数据的平均值)才有可能大于其指定阈值.因此,当节点的感知数据超出局部阈值时,节点向Sink节点发送阈值违反信息.当Sink节点接收到传感器节点的阈值违反信息后,Sink节点收集监测区域的全部感知数据并计算聚集值.Sink节点根据聚集值结果判断监测区域内是否发生异常事件.然而,已有的研究工作致力于启发式的阈值设置方法,或者根据启发式的过滤器失败概率值设置局部阈值,没有考虑感知数据的特性,忽略了噪声对感知数据的影响,引起较高的通信开销.鉴于上述原因,本文通过一维随机游走来模拟感知数据的变化,以最小化通信能量开销为优化目标,开展了过滤器最优阈值的研究.本文的主要工作和贡献概括如下:(1)提出了通信开销模型,给出了过滤器最优阈值问题的形式化定义.(2)通过一维随机游走来模拟感知数据的变化并推导出过滤器失败概率的计算公式,根据拉格朗日乘子法给出了求解过滤器最优阈值的数学方法.(3)通过分析过滤器最优阈值的解的特性,提出了低计算复杂度的过滤器最优阈值近似算法,分析了近似算法的近似比、时间复杂度和通信复杂度.(4)通过理论分析和模拟实验,验证了提出的算法的正确性以及高效性.本文第2节介绍约束违反监测的相关工作;第3节介绍通信开销模型并给出过滤器最优阈值问题的形式化定义;第4节介绍算法的数学基础,推导过滤器的失败概率,给出求解过滤器最优阈值的数学方法;第5节提出过滤器最优阈值近似算法,并对算法的正确性、近似比、时间复杂度和通信复杂度进行分析;第6节通过实验对提出算法的性能进行考察;最后,我们总结本文的研究工作,并对未来的研究进行展望.2相关工作无线传感器网络的约束违反监测问题已经引起了人们的广泛关注,提出了有效的约束违反监测算法[5-9].针对聚集和的约束违反监测问题,文献[10]提出了零松弛的阈值设置方法,当节点的感知值大于T/n时,节点向Sink节点发送阈值违反信息,Sink节点收到阈值违反信息后,Sink节点收集监测区域的感知数据考察其聚集和是否大于阈值T.为了监测全局约束违反,文献[11]研究了基于树的分布式协议.文献[12]通过考察感知数据的时空关联,建立了一组概率模型,使得每个模型对应一个感知节点.该模型分别在Sink节点和传感器节点进行维护.Sink节点根据维护的概率模型估计感知数据.基于模型的数据估计方法更适用于数据收集;在全局约束违反的监测应用中,该方法的灵活性较低.由于收集全网感知数据消耗较高的通信能量,文献[5]以最小化收集全网感知数据的概率为优化目标,提出了阈值监测的统一框架.此外,研究者亦提出了非零松弛的阈值设置方法[8].以最小化网内①②Page3通信能量为优化目标,文献[7]提出了启发式的非零松弛阈值设置方法,然而文献[7]缺少关于局部阈值最优性的理论分析,仅给出了通信开销的定性分析.Wuhib等人[11]假设节点的感知数据服从已知的正态分布,基于排队论理论提出了计算局部阈值的算法.Meng等人[13]开发了基于时间窗口的状态监测系统.然而,上述算法基于的假设条件在传感网中并不适用.文献[14]研究了通信开销与连续查询结果的准确度的关系,其中文献[14]假设所有节点以聚集方式与中央节点进行通信.为了跟踪带有误差界的聚集函数结果,文献[15]提出基于自适应过滤器的方法,该方法根据用户的精度要求,给出了局部过滤器阈值.文献[16]通过累积概率分布函数的sigmoid近似将过滤器阈值的计算问题转化为凸优化问题.文献[17]提出了基于直方图的分布式实时监测算法.然而,上述方法的优化目标与本文的优化目标最小化通信开销有很大的不同.Tang等人[18]将感知数据视为不确定数据,提出了分布式不确定数据的阈值违反监测算法.文献[18]研究的分布式不确定数据的监测问题与本文的确定型阈值违反监测问题存在较大的差异.约束违反监测的一般形式为,对于给定的一般函数f()以及阈值T,我们需要确定f(v)T是否成立,其中v通常为动态变化的向量.几何监测方法可以将任意(或非线性)的全局约束分解为局部约束,提供了通用的监测方法论,被广泛地应用于分布式的数据流监测[19].Keren等人[19]考虑了节点上数据分布的差异,以最小化监测向量违反局部安全区域的个数为目标,给出了监测异构数据流的一般方法.Lazerson等人[20]给出了基于凸分解方法的通用性较高的监测框架.文献[21]研究了近似监测问题,其目标为追踪f(v)的值是否属于用户预先规定的误差界.文献[22]提出了基于覆盖球体(CoveringSpheres)技术的分布式数据的约束违反监测方法.CoveringSpheres(CS)方法的主要思想为将全局的阈值约束分解为“安全”的局部约束条件.Sharfman等人[23]对CS方法进行了扩展,提出了椭球体概念并引进了更一般的“安全区域(SafeZones)”概念.基于CS方法,Burdakis等人[24]设计了无线传感器网络中的离群点检测算法.根据CS技术,文献[25]研究了区间-聚集、连接-聚集等分布式数据流查询的近似监测算法.基于CS思想,文献[26]提出了监测系统健康指标的框架.鉴于其局部监测目标为多维向量,上述基于几何方法的监测算法具有较好的扩展性.本文结合传感器节点感知数据的特性,针对更具体的应用场景开展了约束违反监测的近似算法的研究.3最小化过滤器失败概率由于感知数据具有时空相关性,因此我们根据当前时刻的感知数据以及历史信息为各节点的感知数据分配最优的过滤区间,使得监测区域内节点的过滤器失败概率之和最小,达到降低通信能量开销、延长网络寿命的目的.3.1聚集值的约束违反监测不妨设监测区域A分布了n个传感器节点,其节点id分别为1,2,…,n.令di(t)表示i节点在t时刻的感知值,那么t时刻监测区域的感知数据集合为{d1(t),d2(t),…,dn(t)}.令τ表示监测阈值,S(t)表示t时刻监测区域A的聚集和,即S(t)=∑对于给定的监测区域A和时间区间[t1,tm],如果S(t)>τ,那么Sink节点向用户返回t时刻的聚集结果S(t)并发送警报,其中t∈[t1,tm].对t∈[t1,tm],将t时刻监测区域的全部感知数据{d1(t),…,dn(t)}发送至Sink节点会引起较高的通信开销,不适合以电池为能量供给的传感器网络.因此对任意i∈{1,2,…,n},我们为i节点的感知数据设置边界阈值ui,并且u1,u2,…,un满足τ=ni=1ui.监测算法的基本思想如下.易知S(t)>τ的必∑要条件为至少存在一个节点的感知数据dj(t)大于其边界阈值uj.因此,如果t时刻各节点的感知数据小于等于其边界阈值,那么必有S(t)τ成立,此时各节点不必向Sink节点发送感知数据.不妨设t时刻j节点的感知数据dj(t)>uj,那么t时刻的聚集和S(t)可能大于阈值τ,此时j节点将其感知数据dj(t)发送至Sink节点,Sink节点向未违反边界阈值的感知数据的节点发送探测查询,传感器节点接收到探测查询后将其对应时刻的感知数据发送至Sink节点.Sink节点接收到全部感知数据后,计算t时刻聚集和S(t)是否大于监测阈值τ.3.2通信开销模型由于感知数据具有时空相关性,因此我们根据给定的监测阈值和历史信息为节点分配优化的过滤区间(Filter),达到节省能量、延长网络寿命的目的.Page4由于用户指定的监测区域是动态变化的,节点位置不确定,于是与文献[27]提出的通信能量开销模型类似,本文假设传感器节点向Sink节点发送一个数据包的平均代价为cu,Sink节点向传感器节点发送一个数据包的平均代价为cd;Nu记为网内传感器节点向Sink节点发送的总的数据包的数量,Nd记为Sink节点向传感器节点发送的总的数据包的数量.那么,通信能量开销为cuNu+cdNd.由于感知数据违反局部过滤器的节点是动态变化的,难以预测的,于是本文研究的问题为求解各节点的局部过滤器阈值使得通信开销的期望最小.引理1.若t时刻i节点的感知数据di(t)>ui,那么因i节点的过滤器失效而引起的通信开销为n(cu+cd)-cd.证明.如果t时刻i节点的感知数据di(t)>ui,那么通信开销由下述3部分构成.首先,因i节点向Sink节点发送数据包引起的通信开销为cu;其次,因Sink节点向其他n-1个节点发送探测查询的通信开销为(n-1)cd;第三,传感器节点接收到探测查询后,将其t时刻的感知数据发送至Sink节点引起的通信开销为(n-1)cu.综上所述,因i节点的过滤器失效而引起的通信开销为n(cu+cd)-cd.证毕.令Pri表示i节点过滤器失效的概率,那么因i节点过滤器失效而引起的通信开销的期望为Pri{n(cu+cd)-cd}.因此本文研究的问题是为各节点设置优化的过滤器阈值,使得监测区域内的节点通信开销的期望最小.由于各节点的过滤器失效是相互独立的,优化的过滤器阈值问题可形式化为如下组合优化问题.由于n(cu+cd)-cd是常数,易知优化问题(1)等价于下述优化问题.4过滤器最优阈值为了求解各节点感知数据过滤器的最优阈值,首先,本节推导过滤器的失败概率;其次,通过拉格朗日乘子法给出求解过滤器最优阈值的数学方法.4.1一维随机游走模型已有的研究工作通过估算感知数据属于过滤器的最短时间来估计过滤器的失败概率[27].由于传感器节点感知硬件的低敏感性,感知数据经常受到硬件误差和环境噪声的影响.已有的研究工作忽略了噪声对感知数据的影响.鉴于上述原因,根据感知数据的历史信息,我们通过一维随机游走来模拟感知数据的变化并推导出过滤器的失败概率.图1给出了以0为初始位置,在不同步长和不同正向移动概率情况下的一维随机游走①.图2给出了来自真实传感网实测的温度变化曲线.如图1所示一维随机游走曲线即体现了感知温度的噪声扰动,又显示出了温度逐渐升高或降低的变化趋势.不妨假设当前时刻为t0,传感器节点i最近一段时间的感知数据为{di(t0),di(t-1),…,di(t-m)},那①Randomwalk.Wikipedia.http://en.wikipedia.org/wiki/Page5么对h∈{-1,-2,…,-m}有下式成立|t0-th|>|t0-th+1|,即时刻th+1比时刻th更接近当前时刻t0.定义1.感知数据的变化幅值δi(th).i节点th时刻感知数据的变化幅值δi(th)=di(th)-di(th-1).定义2.感知数据的平均变化幅度ai.i节点感知数据的平均变化幅度定义为在[t0,t-m+1]时间内,变化幅值绝对值的平均值,即ai=定义3.正向移动概率Pr+据的正向移动概率定义为在[t0,t-m+1]时间内,δi(th)0的频率,Pr+Pr+i=定义4.负向移动概率Pr-负向移动概率定义为在[t0,t-m+1]时间内,δi(th)0的频率,Pr-Pr-i=由上述讨论可知,i节点感知数据的变化可以通过以di(t0)为初始位置的[li,ui]上的一维随机游走来模拟,其中li和ui为吸收点,其语义为感知数据小于li或大于ui时过滤器失效.由定义2知,ai为单位时间的平均移动步长,令xi=ui-di(t0)aixi为初始位置,分别以概率Pr+移动单位步长,以0和xi+yi为吸收点的一维随机游走过程.4.2推导过滤器失败概率引理2.将L0记为初始时刻质点所在位置,将质点到达xi+yi的随机事件记为W.Prh表示质点初始位置为h时到达xi+yi的概率,即Prh=Pr(W|L0=h),那么有下式成立,烄Prh=烅烆其中,p为质点向正方向移动单位步长的概率.证明.Pr0=Pr(W|L0=0)=0比较显然.若质点的初始位置为0,由吸收点的性质知,质点静止在吸收点,发生移动的概率为0,故Pr0=0.若质点的初始位置为xi+yi,那么质点静止在吸收点xi+yi,不发生任何移动,故Prxi+yi=1.当0<h<xi+yi时,将第1步移动为正方向的随机事件记为M+,将第1步移动为负方向的随机事件记为M-.由全概率公式知Prh=Pr(W∧M+|L0=h)+Pr(W∧M-|L0=h).由条件概率可推出下式成立,Pr(W∧M+|L0=h)=Pr(W∧M+∧(L0=h))Pr(M+∧(L0=h))==Pr(M+|L0=h)Pr(W|M+∧(L0=h))=p×Prh+1.由于随机游走是无记忆的,易知Pr(W|M+∧(L0=h))=Prh+1.同理可推出下式成立Pr(W∧M-|L0=h)=Pr(M-|L0=h)Pr(W|M-∧(L0=h))=(1-p)×Prh-1.因此,当0<h<xi+yi时,Prh=p×Prh+1+(1-p)×Prh-1.定理1.其中,xi为质点的初始位置,p为质点向正方向移动单位步长的概率.证明.由引理2知,对m∈{1,…,xi+yi-1},Prm=p×Prm+1+(1-p)×Prm-1,因此容易推出p×Prm+1-Prm+(1-p)×Prm-1=0,并且其边界条件为Pr0=0,Prxi+yi=1.易知该差分方程的特征方程为p×h2-h+(1-p)=0,其解为h1=1,h2=,其中q=1-p.令γ=qpxi+yi},我们有Prm=Aγm+B(1)m.代入边界条件Pr0=0和Prxi+yi=1,可求解出A=1-γxi+yi-1xi时,Prm=Page6当p=其特征方程为h2-2h+1=0,易知h=1为该特征方程的二重根,所以对m∈{0,1,…,xi+yi},我们有Prm=Am+B(1)m,代入其边界条件Pr0=0和Prxi+yi=1,可以推出A=mxi+yi,当m=xi时,Prm=综上所述,质点以xi为初始位置,p为正向移动概率,到达xi+yi的概率满足式(3).为了方便阅读,表1列出了文中常用符号的说明.符号INdi(t)δi(th)aiPr+iPr-iluiFiτΔ推论1.不妨设l为感知值的下界,di(t0)为i节点当前时刻的感知值,若[l,ui]为i节点感知数据的过滤器,那么过滤器失效的概率满足下式:Pri=其中,xi=证明.不妨设传感器节点正常工作,由于l为感知值的下界,那么感知值必定大于等于l.当感知值大于ui时,过滤器失效.我们根据感知数据的历史信息通过一维随机游走来模拟感知数据的变化,因此由定理1易知,推论1成立.4.3过滤器最优阈值我们旨在为各节点感知数据的过滤器设置最优的过滤器阈值ui,使得过滤器失效概率之和最小.不妨设t0时刻,监测区域A的感知数据集合为{d1(t0),d2(t0),…,dn(t0)}.由式(4)易知,对于给定的传感器节点i,ui=aiyi+di(t0),则优化问题(2)等价于下述优化问题.min∑s.t.∑其中,当Pr+i(h)}与{j(1),…,j(g)}互为补集并且{i(1),…,i(h)}∪{j(1),…,j(g)}=IN={1,2,…,n}.在本节,我们根据拉格朗日乘子法给出了求解过滤器最优阈值的数学方法.引理3.若y1,y2,…,yn是下述方程组的解,则y1,y2,…,yn是优化问题(5)的极值点.ln(γi(1))γ烄(γ-xj(1)(xj(1)+yj(1))2-λaj(1)=0烅λ=Δ(-1∑g∑k=1烆证明.首先,根据拉格朗日乘子法定义拉格朗日函数Γ(y1,y2,…,yn,λ),那么有下式成立,Γ(y1,y2,…,yn,λ)=h∑k=1γxi(k)+yi(k)i(k)γ其中Δ=τ-∑其次,分别计算Γ关于y1,y2,…,yn,λ的偏导数,易知下式成立.Γyi(k)Γyj(k)Γλ由拉格朗日乘子法可知,若y1,y2,…,yn是下述方程组的解,那么y1,y2,…,yn是优化问题(5)的极值点.Page7ln(γi(1))γ烄ln(γi(h))γ烅Δ-∑烆由∑ni=1λaiyiΔ.因此容易推出,若y1,y2,…,yn是方程∑组(6)的解,那么y1,y2,…,yn是优化问题(5)的极值点.引理4.多变量函数Γ(y1,y2,…,yn)的海森矩阵是正定的.证明.由引理3的证明过程易知,对任意i≠j,可知2Γyiyj2Γ2yi如果γi>1,易知(1-γ似地,如果0<γi<1,易知(1-γ0;于是可知2Γ当γi=1时,易知2Γ易推出2Γy1,y2,…,yn的海森矩阵2Γ数的对角矩阵.于是我们可知,海森矩阵2Γ征值都为正数,所以多变量函数Γ(y1,y2,…,yn)的海森矩阵是正定的.定理2.若y1,y2,…,yn是方程组(6)的解,那么y1,y2,…,yn是优化问题(5)的最优解.证明.由引理3可知,如果y1,y2,…,yn是方程组(6)的解,那么y1,y2,…,yn是优化问题(5)的极值点;由引理4知目标函数Γ(y1,y2,…,yn)的海森矩阵是正定的,因此函数Γ在极值点取得最小值.综上可知y1,y2,…,yn使得优化问题(5)的目标函数取得最小值,因此y1,y2,…,yn是优化问题(5)的最优解.5求解过滤器最优阈值的近似算法第4节通过拉格朗日乘子法给出了求解过滤器最优阈值的数学方法并证明了方法的正确性.由定理2可知,为监测区域内的各传感器节点计算其感知数据过滤器的最优阈值等价于求解非线性方程组(6)的解.我们注意到不易给出非线性方程组(6)的解的一般表达式,而且求解非线性方程组的近似解的数值分析方法计算开销较高,且不易分析其方法的收敛性.鉴于上述原因,我们分析了非线性方程组(6)的解的特性,提出了低计算复杂度的近似算法并分析了该算法的近似比.5.1可行解的存在性在本节,我们给出了构造优化问题(5)的可行解的数学方法,证明了构造解的存在性和可行性.引理5.非线性方程组(6)的系数λ<0.证明.对i∈{1,2,…,n},如果γi≠1我们根据方程组(6)容易推出λ=κi=ln(γi)(1-γ似地,易验证当0<γi<1时,κi<0.由定义可知ai>0,γi>0,因此我们容易推出λ<0.如果γi=1,根据方程组(6),可推出λ=ai>0,xi>0,因此容易推出λ<0.引理6.对于给定的λ<0,xi>0,ai>0,Λi如下定义:Λi=γ那么,对γi>0,如果γi≠1,可以推出Λi>0.γ证明.对γi>0且γi≠1,易验证ln(γi)(1-xii)<0,由于λ为给定的负数,于是可知4λailnγi(1-xii)>0.因此,对于给定的λ<0,xi>0,对γi>0γ且γi≠1,有Λi>0成立.引理7.对于给定的λ<0,xi>0,Yi如下定义:Yi=那么,对γi>0,如果γi≠1,可以推出Yi是下述方程的一个根,并且Yi>0,Page8其中Λi按式(8)定义.证明.求解方程(10)的根等价于求解下述方程的根.λai(γ经化简,易知方程(11)与下述一元二次方程等价.λaiγ2xiiY2由引理6可知Λi>0,所以式(9)是有意义的.若Yi满足式(9),容易验证Yi是方程的根.由于λ<0,ai>0,所以2λaiγ且γi≠1,可知γ子为负数.类似地,易知式(9)的分母为负数,综上可知,Yi>0.定理3.对于给定的λ<0,xi>0,ai>0,对γi>0,γi≠1,yi定义如下:其中,Yi按式(9)定义,那么yi为下述方程的解.证明.由引理5至引理7易知,定理3结论成立.定理4.对于给定的λ<0,ai>0以及xi>0,令那么yi是下述方程的一个根证明.由方程(16)易知(xi+yi)2=(-xi)(λai)-1,由于λ<0,ai>0,xi>0,因此容易验证yi=槡-xi(λai)5.2近似算法由上述分析可知,为监测区域内的各传感器节点的感知数据求解过滤器的最优阈值可形式化为下面的问题.输入:1.t0时刻监测区域内的感知数据集合,{d1(t0),…,dn(t0)};2.感知数据的历史信息{γ1,…,γn},{a1,…,an};3.感知数据下界l,监测阈值τ.输出:过滤器最优阈值{u1,u2,…,un}.由定理2可知,计算过滤器的最优阈值等价于求解非线性方程组的精确解,由于不易求解非线性方程组(6)的精确解,本节提出计算最优阈值的近似算法.算法的基本思想如下.不妨假设z为给定的整数并且aπ=min{a1,a2,…,an}.首先,令yπ=1/z,如果γπ≠1,将yπ=1/z代入式(14)中,计算λ=将yπ=1/z代入式(16)中,计算λ=中xπ=(dπ(t0)-l)/aπ.其次,对任意i≠π,如果γi≠1,将λ代入式(13)求解yi;如果γi=1,将λ代入式(15)求解yi.第三,令Δ=∑2,…,n},令yi=ρyi并计算优化问题(5)的目标函数值,即过滤器失效概率之和.令yπ=yπ+1/z,重复上述步骤直到aπyπΔ.不妨设在上述计算过程中,珘y1,珘y2,…,珘yn使得目标函数取得最小值,那么对任意i∈{1,2,…,n},i节点感知数据过滤器的阈值ui=di(t0)+ai珘yi.5.3算法性能分析算法正确性分析:过滤器最优阈值近似算法给出的近似解珘y1,珘y2,…,珘yn是优化问题(5)的可行解.由算法步骤易知,对任意i∈{1,2,…,n},我们对yi进行了线性变换,即yi=ρyi.因此可知∑naiyi=Δ,即珘y1,珘y2,…,珘yn是优化问题(5)的可ρ∑行解.i=1近似比分析:定理5.过滤器最优阈值近似算法的近似比上界为α,其中α满足如下公式:α=maxmax证明.不妨设y^1,y^2,…,y^n为优化问题(5)的最优解,由于优化目标为最小化过滤器失败概率之和,那么必定存在i∈{1,2,…,n},使得xii-1γxi+珘yii-1γ易证明y^1,y^2,…,y^n不是最优解.不妨设γi≠1,那么容易推出Page9xii-1γxi+y^ii-1γ1,则xixi+珘yiα=maxmax那么对任意i∈{1,2,…,n},如果γi≠1,可以推出xii-1γxi+珘yii-1γxixi+珘yiT(y1,y2,…,yn)=∑那么我们容易推出下式成立:T(珘y1,珘y2,…,珘yn)即α为过滤器最优阈值近似算法的近似比上界.算法1.过滤器最优阈值近似算法AACOF(ApproximationAlgorithmforComputingOptimalFilter).输入:τ,l,z,Λ=,{d1(t0),…,dn(t0)},{γ1,…,γn},输出:u1,u2,…,un1.For(i=1ton)2.xi=(di(t0)-l)/ai;3.EndFor4.Δ=τ-∑5.While(aπyπΔ)6.Ifγπ≠17.λ=8.Else9.λ=10.EndIf11.For(i=1ton∧i≠π)12.Ifγi≠113.yi=lnYi/lnγi;14.Else15.yi=-xi(λai)16.EndIf17.EndFor18.Δ=∑19.For(i=1ton)20.yi=ρyi;21.EndFor22.If∑23.Y^={y1,y2,…,yn},24.Λ=∑25.EndIf26.yπ=yπ+1/z;27.EndWhile28.For(yi∈Y^)29.ui=di(t0)+aiyi;30.EndFor31.Returnu1,u2,…,un;算法时间复杂度:如算法伪代码所示,执行第6~26行计算步骤的时间复杂度为O(n),而且容易得知上述运算执行了Δ/aπ次,因此算法的计算开销为O(nΔ/aπ).算法通信复杂度:对于给定的监测区域A,不妨假设传感器节点发送数据包到Sink节点的平均跳数为h,那么节点将感知数据di(t0)以及感知数据的历史信息γi,ai发送至Sink节点的通信开销为O(nh);Sink节点将阈值发送至所有传感器节点的通信开销为O(nh),因此算法的通信开销为O(nh).6实验结果为了衡量过滤器最优阈值近似算法(AACOF)的性能,在本节我们通过模拟实验对算法性能进行了测试.我们分别在合成数据集和真实感知数据集上对算法性能进行了考察.模拟实验中的温度感知数据来源于IntelBerkeley实验室的真实传感器网络实测.所有实验均在主频为2.5GHz的IntelCorei5CPU和内存为4GB的PC机上完成.我们使用的操作系统为Windows7,我们用Matlab语言在MATLABR2010a环境下实现了AACOF算法.(1)第1组实验考察不同的监测阈值以及不同的监测节点数量对过滤器的平均失败概率的影响,计算过滤器的平均失败概率的公式如下,Ave=其中珘y1,珘y2,…,珘yn为近似算法的输出结果,n为监测节点的数量.Page10图4和图5显示了近似算法在合成数据集上的运行结果,其中各节点的数据集以随机游走的方式生成.“○”表示对于给定的节点i∈{1,2,…,n},i节点以1为初始位置在数轴上进行随机游走,其中i节点的正向移动概率Pr+布;其移动步长服从正态分布N(0.5,1).“◇”表示对于给定的节点i∈{1,2,…,n},i节点以1为初始位置在数轴上进行随机游走,其中i节点的正向移动概率Pr+服从正态分布N(1,1).我们在上述随机生成的数据集合上计算过滤器的平均失败概率.对于给定的监测阈值与聚集和之差Δ、以及节点数量n,我们运行上述算法500次,并将其平均失败概率的均值作为实验结果.从图中我们可知,近似算法输出的过滤器阈值使得平均失败概率较小.如图4所示,当监测阈值与聚集和之差Δ=14,监测节点数量n=10,移动步长服从正态分布N(0.5,1)时,过滤器的平均失败概率小于0.2.图6显示了近似算法在真实传感网实测的温度感知数据集上的运行结果.我们分别考察了在温度变化剧烈和变化缓慢情况下的平均失败概率结果,其中变化剧烈的感知数据采用上午10点~12点的温度感知数据;变化缓慢的感知数据采用凌晨4点~6点的温度感知数据.如图6所示,真实数据集上的平均失败概率略高于合成数据集上的平均失败概率,其原因分析如下.首先,感知数据选取于温度随时间逐渐升高的过程,因此对任意i∈{1,2,…,n},γi<1;其次,对于给定的i,当yi→时,γ近于1-γ率取决于γi以及di(t0)-l,并随Δ的增大逐渐趋近其极限,变化不明显.(2)第2组实验考察不同的Δ以及不同的监测节点数量对近似算法的通信开销的影响,其中通信开销百分比的计算公式如下:通信开销%=基本算法的思想如下:监测区域内的所有节点将全部感知数据发送至Sink节点.由通信开销模型,我们可知近似算法的通信开销由2部分组成:①因监测节点过滤器失效引起的数据包传输;②因Sink节点收集监测区域的感知数据引起的数据包传输.图7和图8显示了近似算法在合成数据集上的运行结果,其中各节点的数据集以随机游走的方式生成.“○”表示对于给定的节点i∈{1,2,…,n},i节点以1为初始位置在数轴上进行随机游走,其中i节点的正向移动概率Pr+布;其移动步长服从正态分布N(0.5,1).“◇”表示对于给定的节点i∈{1,2,…,n},i节点以1为初始位置在数轴上进行随机游走,其中i节点的正向移动概率Pr+Page11服从正态分布N(1,1).我们在上述随机生成的数据集合上考察近似算法的通信开销百分比.对于给定的监测阈值与聚集和之差Δ、以及节点数量n,我们运行上述算法500次,并将其通信开销百分比的平均值作为实验结果.从图7和图8中不难看出近似算法仅需较低的通信能量开销就能完成对监测区域内的聚集和约束违反的监测.例如,如图7所示,当Δ=20,监测节点数量n=10,移动步长服从正态分布N(0.5,1)时,通信开销百分比为32%.根据图8给出的实验结果,我们可知随着节点数量的增大,近似算法所需的通信开销比逐渐降低.图9显示了近似算法在真实传感网实测的温度感知数据集上的运行结果.类似地,我们分别考察了在温度感知值变化剧烈和变化缓慢情况下的通信开销百分比.如图9所示,真实数据集上的通信开销百分比明显低于合成数据集上的通信开销百分比,且随节点数量的增加变化不大,其原因分析如下.监测节点的分布具有地域性,温度感知值差异不大;过滤器失效通常是因聚集和大于约束阈值引起的.第2组实验说明近似算法具有较高的能效性,降低了传感网的通信开销,延长了网络寿命.(3)第3组实验考察不同的Δ以及不同的监测节点数量对近似算法的约束违反的准确率的影响,其中,计算约束违反的准确率的公式如下:准确率=准确率考察了当过滤器失效时,监测区域内的聚集和大于指定阈值的概率.图10和图11显示了近似算法在合成数据集上的运行结果,其中各节点的数据集以随机游走的方式生成.类似地,“○”表示对于给定的节点i∈{1,2,…,n},i节点以1为初始位置在数轴上进行随机游走,其中i节点的正向移动概率Pr+从正态分布N(0.5,1);“◇”表示对于给定的节点i∈{1,2,…,n},i节点以1为初始位置在数轴上进行随机游走,其中i节点的正向移动概率Pr+[0,1]上的均匀分布;其移动步长服从正态分布N(1,1).我们在上述随机生成的数据集合上计算约束违反的准确率.对于给定的监测阈值与聚集和之差Δ、以及节点数量n,我们运行上述算法500次,并将其准确率的平均值作为实验结果.从图10和图11我们可以观察到,近似算法具有较高的约束违反准确率,即当节点向Sink节点发送过滤器失效的消息时,用户可知监测区域的聚集和极可能大于其指定的阈值.例如,如图11所示,当Δ=20,监测节点数量n=18,移动步长服从正态分布N(0.5,1)时,准确率为82%.图12显示了近似算法在真实传感网实测的温度感知数据集上的运行结果.我们分别考察了在温度感知值变化剧烈和变化缓慢情况下的准确率.如图12所示,随节点数量的增加,约束违反的准确率Page12变化不大.其原因分析如下.首先,监测节点的感知数据具有地域相关性,温度感知值差异性较低.其次,感知数据来源于连续变化的物理过程,因此当某(几)个节点的感知数据的过滤器失效时,意味着监测区域的聚集和大于指定的阈值.(4)为了衡量过滤器最优阈值近似算法的性能,我们将其与零松弛算法[7]和自适应的非零松弛算法[10]在真实传感网实测的温度感知数据集上进行了对比实验.首先,我们考察了在感知温度变化缓慢情况下的平均失败概率结果.如图13所示,AACOF代表本文提出的算法;T/n和Adaptive分别代表零松弛方法和非零松弛方法.与传统方法相比,根据本文提出的近似算法设置的阈值使得过滤器具有较低的失败概率.由于非零松弛方法的监测阈值为τ-δ,其中δ为给定的非零松弛值,因此该方法具有较高的过滤器失败概率.其次,在感知温度变化剧烈情况下,我们对各算法引起的通信开销进行了对比实验.如图14所示,由于一维随机游走过程可以较好地模拟感知数据的变化,因此AACOF算法引起的通信开销较低.在非零松弛算法中,Sink节点维护的“松弛”δ虽然增大了局部过滤器失败的概率,但是降低了收集监测区域内的全部感知数据的概率.由于收集全部感知数据的通信开销较高,因此,非零松弛方法引起的通信开销低于零松弛方法.第三,在感知温度变化缓慢情况下,我们对各算法的约束违反的准确率进行了对比实验.如图15所Page13示,与已有方法相比,AACOF在约束违反的准确率方面显示了较好的性能.在非零松弛算法中,Sink节点维护的“松弛”δ降低了局部过滤器的阈值上界,导致较高的过滤器失败概率.因此,零松弛方法的约束违反准确率高于非零松弛方法.6结论研究无线传感网的高能效的监测算法具有重要意义.本文以最小化通信开销为优化目标,开展了过滤器最优阈值的研究.首先,本文提出了通信开销模型,给出了过滤器最优阈值问题的形式化定义;其次,通过一维随机游走来模拟感知数据的变化并推导出过滤器失效概率的计算公式,通过拉格朗日乘子法给出了求解过滤器最优阈值的数学方法;第三,提出了低计算复杂度的过滤器最优阈值近似算法并分析了近似算法的近似比.理论分析和实验结果验证了提出的算法的正确性以及高效性.在未来的工作中,我们将进一步开展较复杂的通信能量开销模型下的监测算法的研究.
