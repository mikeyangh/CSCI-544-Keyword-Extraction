Page1S-ABC———面向服务领域的人工蜂群算法范型徐晓飞刘志中王忠杰闵寻优刘睿霖王海芳(哈尔滨工业大学计算机科学与技术学院哈尔滨150006)摘要服务计算优化问题(如服务选择、服务组合、服务资源调度等)随着云计算、物联网、大数据的快速发展而变得日益复杂.另一方面,各服务行业在其长期演化中逐渐形成了特有的领域特性(如服务先验性、关联性、相似性等).这些特性对服务优化问题求解有重要影响,如果对其考虑不充分,将导致服务优化问题求解的效率与效果不理想.因此,如何构建面向服务领域的服务优化算法范型及高效求解算法与优化策略成为亟待解决的关键问题.文中分析了服务领域特性对服务优化问题求解的影响规律,据此改进了人工蜂群算法的优化策略,提出了面向服务领域的人工蜂群算法范型(Servicedomain-orientedArtificialBeeColonyalgorithmparadigm,S-ABC),阐述了S-ABC范型的优化机理,并通过验证实验证实了该算法范型的优化效果.该研究工作为利用服务领域特性指导服务优化问题求解算法的设计提供了新的研究思路和方法,深化了群体智能算法在服务领域的应用,扩展了群体智能算法的优化理论.关键词服务领域特性;人工蜂群算法;算法范型;服务选择;服务组合;服务资源调度1引言随着服务计算、云计算、物联网、大数据等高新技术的快速发展与成熟,各个服务行业与领域涌现出大规模的智能服务.海量的服务交织成跨网、跨域、跨世界的服务生态系统,为广大用户提供了丰富的服务资源.越来越多的用户更加依赖于网络服务完成各种业务.而服务的分布性、聚集性与跨域性、服务资源的动态性以及用户需求的多变性等复杂因素使得服务应用日益繁琐,也使得服务系统的优化设计与高效运行更加复杂.如何在复杂动态的云计算及网络服务环境下,从跨网、跨域的海量服务中,高效地完成服务选择、服务组合、服务资源调度,构建出满足大规模个性化用户需求的最优服务方案,从而实现服务增值、用户满意的最终目标,是服务系统优化设计与高效运行面临的关键科学问题之一.在各个服务行业领域中,随着服务应用与服务生态系统的发展演化,逐步形成了服务行业特有的领域特性(如先验性、关联性、相似性等).服务领域特性是面向服务领域的服务生态系统中存在的客观规律,对服务优化问题的求解有着重要影响.因此,在求解服务优化问题时,应深入挖掘服务领域特性对服务优化问题求解的影响规律,以此指导服务优化问题的求解,从而进一步提高服务优化问题求解的效率与效果.当前,国内外学者针对服务选择、服务组合、服务资源调度等服务领域中重要的优化问题展开了大量的研究,提出了基于整数线性规划[1]、混合线性规划[2]、启发式算法[3-4]、遗传算法[5-6]、蚁群算法[7-8]、粒子群算法[9-10]、人工蜂群算法[11-13]等多种求解方法.已有的研究工作取得了丰富的研究成果,促进了服务计算技术的快速发展与广泛应用.然而,已有的服务优化问题研究工作通常将服务优化问题抽象成数学问题进行求解,只关注问题求解算法的设计与改进,而没有考虑服务领域特性(先验性、关联性、相似性等)对服务优化问题求解过程的影响,所设计的求解算法往往缺乏对服务领域特性的感知,导致服务优化问题的理论研究与服务实际应用脱节,使得服务优化问题求解的效率和效果不够理想.因此,如何应用服务领域特性对服务优化问题求解的影响规律指导服务优化问题求解算法的设计,提出面向服务领域的优化算法范型及优化策略,为服务优化问题的求解提供算法模型及优化技术指导,进而提高服务优化问题求解的效率与效果,成为服务计算领域亟需解决的关键问题之一.在服务优化问题求解方法中,群体智能算法凭借其自适应、自组织、协同性、强鲁棒性和良好的分布性并行性等优点,在求解服务优化问题时表现较为出色[14],已经成为求解服务领域典型优化问题的主要方法.人工蜂群算法(ArtificialBeeColonyalgorithm,ABC)是由Karaboga[15]于2005年提出的新型群智能算法,并且在求解优化问题时表现较为出色[15-17].目前,已有学者将ABC算法用于服务优化问题的求解[11-13].ABC算法的优化机理与服务计算中服务优化问题的求解存在很强的映射关系.在ABC算法中,蜂群搜索最优蜜源的过程对应于寻找服务优化问题最优解的过程,食物源对应于服务优化问题的可行解,适应度函数对应于服务优化问题的目标函数,雇佣蜂阶段与观察蜂阶段对应于服务优化问题解空间的邻域搜索,侦查蜂阶段对应于服务优化问题解空间的全局搜索,算法的终止条件对应于服务优化问题求解结束条件.鉴于服务优化问题求解中存在的问题以及人工蜂群算法的优越性,本文选择人工蜂群算法作为算法模型基础,在深入分析人工蜂群算法优化机理与挖掘服务领域特性对服务优化问题求解影响规律的基础上,设计了面向服务领域的人工蜂群算法范型(Servicedomain-orientedArtificialBeeColonyalgorithmparadigm,S-ABC),为服务优化问题求解提供了算法模型与优化策略支持.最后,以服务组合问题为例,验证了S-ABC范型的有效性与优越性.该研究工作深化了人工蜂群算法在服务领域的应用,扩展了群体智能算法的优化理论.本文第2节介绍服务领域优化问题的相关研Page3究工作;第3节阐述服务领域特性;第4节给出S-ABC范型设计分析;第5节给出服务空间的建立与表示;第6节首先详细阐述S-ABC范型中的关键优化策略,之后给出S-ABC范型的详细描述;第7节以服务组合问题为例,验证S-ABC范型的有效性.最后,对本文工作进行总结并对后期研究工作进行展望.2相关工作近年来,国内外学者针对服务计算领域中的服务选择、服务组合、服务资源调度等优化问题开展了大量的研究,并取得了丰富的研究成果.然而,在服务行业长期的发展演化中,逐渐形成了特有的领域特性(先验性、关联性与相似性).这些领域特性对于提升服务优化问题的求解效果具有重要的“启发与指导”作用.当前,已经存在一些应用服务领域特性指导服务优化问题求解的研究工作.文献[18]提出了一种基于组合服务执行信息的服务选取方法,该方法基于组合服务历史执行信息、路径分支关联规则和服务执行顺序序列模式,挖掘出知识模式来协助服务选择.张明卫等人[19]提出了一种基于划分的组合服务选取方法,该方法首先基于日志记载的质量信息选取那些性能优良的组合服务执行实例,在此之上发现被频繁一起使用的具体服务集合,据此产生对组合服务的划分,形成组合服务点和对应的点模式,把点模式集作为点的备选服务集,以点为单位进行组合服务选取.文献[20]通过挖掘Web服务的历史使用信息,获取用户对Web服务的兴趣与QoS偏好,之后提出了一种基于用户QoS偏好与用户对服务兴趣点的服务推荐方法.文献[21]提出了一种基于用户使用服务的历史信息的服务推荐方法,历史信息包括功能需求信息与QoS信息.上述研究工作[18-21]通过挖掘组合服务或服务的历史使用信息来指导服务组合与服务推荐.本文提出的先验性与上述研究工作思想类似.它们之间的相同点是通过挖掘服务的历史使用信息获取有用的经验知识指导服务优化问题的求解;不同点在于:已有研究工作仅利用历史使用信息解决具体的服务组合或服务选择问题,没有分析挖掘先验性对服务优化问题求解的影响规律以及利用这些知识指导服务优化问题求解算法模型及优化策略的设计;此外,本文应用先验性对候选服务空间进行了划分,缩小了算法的搜索空间;在先验性服务空间内构建了服务之间的偏序关系,并以此为指导,改进了人工蜂群算法中的搜索策略.文献[22]在进行服务组合时,考虑了服务之间组合关联关系、商业实体关联关系以及统计关联关系,并给出了支持这3种关联关系的QoS度量模型.文献[23]提出了一种支持服务关联关系的QoS描述模型,刻画了可选服务的服务质量对其他可选服务的依赖关系,在此基础上,提出了支持服务关联的组合服务选择方法.文献[24]为了提高制造云服务的服务质量,重点对服务之间的QoS统计关联进行了研究,提出了支持服务统计关联的服务组合优化方法.文献[25]给出了服务质量关联与选择关联的形式化描述,提出了一种关联关系驱动、QoS感知的服务选择方法.研究工作[22-25]通过挖掘服务之间的关联关系来提高服务组合的效果与效率.本文中所提到的“关联性”与上述研究工作中的“关联性”的定义与用途相同,即在求解服务优化问题时要充分考虑服务之间的关联关系,提高问题的求解效果.文献[26]将服务组合问题转换成查找、选择与服务组合规范最接近的组合服务问题,该研究工作应用相似度衡量给定的服务组合与具体描述之间的接近程度,并提出了一系列用于Web服务组合模式的相似度度量公式.文献[27]提出了服务流程相似性定义,并利用服务流程的相似性协助解决服务组合中的服务替换问题,取得了较好的效果.文献[28]将服务流程中可利用的逻辑归纳定义为可在用户之间共享的模式,以方便新组合服务的构建.文献[29]对服务流程中重复出现的过程片段进行提取,期望在服务选择中重用.文献[26-29]利用服务之间功能与性能的相似性,提高了服务推荐与组合的效果,与其不同的是,本文利用服务的相似性对候选服务空间进行了划分,缩小了算法的搜索范围;在相似服务空间内构建了服务之间的偏序关系,有助于提高算法的搜索效率.通过分析可以得出,当前已有的研究工作仅采用单一的服务领域特性来改善服务优化问题的求解效果[30-32],而综合应用3个服务领域特性设计求解服务优化问题算法模型的研究工作还很鲜见,鉴于服务领域特性对服务优化问题求解的重要性,以及当前研究存在的空白,本文在挖掘服务领域特性对服务优化问题求解过程影响规律的基础上,改进了Page4ABC算法中的关键优化策略,提出了面向服务领域的人工蜂群算法范型,以期为服务优化问题的求解提供高效的算法模型与优化策略.3服务领域的重要特性在服务领域中,服务生态系统在其长期的发展演化过程中,形成了特有的服务领域特性,主要包括:先验性、关联性与相似性.(1)先验性(Priori)先验性是指在长期的服务应用中产生的经验知识,即针对某一典型的服务应用需求类D,通常存在一些使用频率较高且用户比较满意的服务(或服务方案),这一特性称为服务领域的先验性.服务领域中某服务(或服务方案)s与服务应用需求类D的先验性关系Pris〈s,D〉的定义如式(1)所示:Pris〈s,D〉(PF(s)P∧US(s)E)(1)其中,PF(s)为服务的先验性度量函数,P为先验性阈值;US(s)为用户满意度函数,E为用户满意度阈值.(2)关联性(Correlation)关联性是指服务与服务(服务与资源)之间在业务协作中的关联关系.设si,sj为服务领域内的两个服务,si与sj之间的关联关系Cor〈si,sj〉的定义如式(2)所示.其中,p(si,sj)表示服务si与sj的协作概率;P为服务si与sj的协作概率阈值.服务之间的关联关系通常包括业务关联、统计关联、服务质量关联等.(3)相似性(Similarity)服务领域的相关服务中存在大量功能相同、服务质量相似的服务,该特性被称为服务领域的相似性.设si与sj是服务领域内的两个服务,它们之间的相似关系Sim〈si,sj〉可以通过式(3)来确定.Sim〈si,sj〉(Func(si)=Func(sj))∧其中,Func(si)表示服务si的功能集;DifQoS(si,sj)表示服务si与sj之间服务质量的差异性函数,Q表示服务质量差异性阈值.4S-ABC范型的设计分析S-ABC范型的设计思想是在遵循ABC算法优化机理与计算流程的基础上,充分利用服务领域特性对服务优化问题求解过程的影响规律,改进ABC算法中的关键优化策略,从而形成面向服务领域的人工蜂群算法范型.下面首先分析人工蜂群算法的优化机理,之后给出服务领域重要特性对服务优化问题求解过程的影响.4.1ABC算法优化机理分析在ABC算法中,人工蜂群分为雇佣蜂、观察蜂和侦查蜂,优化问题的解及相应的函数值抽象为蜜源的位置和花蜜的质量.蜂群寻找最优蜜源的过程可描述为:雇佣蜂发现蜜源并记忆,在各蜜源附近搜索新蜜源,根据前后蜜源的花蜜质量选择较优蜜源并标记;雇佣蜂释放与标记蜜源质量成正比的信息,用来招募观察蜂,观察蜂在某种机制下选取合适的标记蜜源并在其附近搜索新蜜源,与标记蜜源进行比较,选取较优异的蜜源作为本次循环的最终标记蜜源,反复循环寻找最佳蜜源.但如果在采蜜过程中,蜜源经若干次搜索后质量没有改变,相应的雇佣蜂变成侦查蜂,随机搜索新蜜源取代原来的蜜源.在ABC算法中,雇佣蜂、观察蜂通过邻域搜索对蜜源进行开采,侦查蜂通过发现新的蜜源以避免蜜源种类过少.人工蜂群算法通过角色的分工、转换、协作与交流,很好地结合了开采和探索两种搜索方式,实现了全局搜索和局部搜索之间的平衡.已有研究结果表明,ABC算法概念简单,控制参数少,易于实现,收敛性较好,且比粒子群算法、蚁群算法、遗传算法、差分算法等优化技术在解决某些复杂问题上更有效[33-39].因此,将人工蜂群算法作为设计面向服务领域优化算法范型基础具有一定的优势.4.2服务领域特性对服务优化问题求解的影响服务领域特性是服务应用中存在的客观规律,对服务优化问题的求解具有重要的指导作用.下面分别分析领域特性对服务优化问题求解的影响.(1)先验性对服务优化问题求解的影响首先,先验性对于服务优化问题初始解的生成具有重要的指导作用,基于领域先验知识可以生成一些质量较高的初始解,从而提高算法的收敛速度;其次,根据先验性可以划分候选服务空间,缩小算法的搜索范围,从而提高算法的求解效率;此外,根据先验性可以设计启发式的邻域搜索策略,避免随机盲目搜索.(2)关联性对服务优化问题求解的影响服务领域的关联性对于初始食物源生成、适应Page5度函数以及邻域搜索具有一定影响.在食物源的生成、适应度函数设计以及蜂群邻域搜索中考虑服务间的关联关系,可以使问题的求解更加贴近服务应用的实际,改善问题的求解效果.(3)相似性对问题求解的影响利用服务的相似性可以找出先验性服务的相似服务,建立具有较大潜在应用价值的候选服务集,有助于缩小算法的搜索空间;基于相似性,可以设计启发式的邻域搜索策略,进而提高问题的求解效率.利用服务领域的特性对服务优化问题的解空间进行预处理,能够为设计启发式的邻域搜索与全局搜索策略提供知识准备,下面给出面向服务领域的服务空间的建立与表示.5面向领域的服务空间建立与表示在服务应用中,通常可以根据服务使用的历史数据对用户请求与候选服务空间进行预处理.在服图1服务需求处理以及服务空间划分示意图本文假设每一个服务流程的先验性服务方案集、先验性服务集、相似性服务及与一般性服务集已经存在,在进行服务优化问题求解时,可以直接导入务系统中,通常存在与用户服务请求相对应的服务流程,而根据用户服务请求偏好可以将功能相同的用户请求分成若干类;针对每一类请求D,根据服务使用的历史数据,可以挖掘出该类需求使用频率较高的服务方案(先验性服务方案,PrioriServiceSchemes,PriSS)以及服务流程中每个任务经常使用的服务(先验性服务).由于网络上存在海量的可用服务,服务流程中每个任务节点具有一个庞大的候选服务集,根据先验性与相似性,可以将每个任务的候选服务集划分成先验性服务集PriS(PrioriServiceSet)、相似性服务集SimS(SimilarServiceSet)与一般服务集GenS(GeneralServiceSet),具体操作过程如图1所示.其中,Di(1ik)表示不同的用户请求类;ServiceProcess表示与每一类用户请求相对应的服务流程;PrioriServiceScheme表示先验性服务方案集;PriS、SimS与GenS分别表示任务节点的先验性服务集、相似性服务集与一般性服务集.使用.服务空间的划分为设计具有领域知识指导的优化策略提供知识准备.下面给出面向领域的服务空间的建立与表示.Page65.1服务空间的建立与表示设某一典型的服务应用需求类D,其对应的服务流程中某一任务Ti的候选服务集为Si,则任务Ti的先验性服务集、相似性服务集与一般性服务集的定义如下.定义1.先验性服务集PriS(PrioriServiceSet).PriS(Ti,D)=j|si{si其中,si中满足式(4)中约束条件的服务所构成的集合称为关于服务应用需求类D、任务Ti的先验性服务集.定义2.相似性服务集SimS(SimilarServiceSet).SimS(Ti,D)={si相似性服务集是指在任务Ti的候选服务集Si中,与先验性服务集中的服务具有相似服务质量的服务构成的集合.DifQoS(si,sj)表示服务si与sj之间服务质量的差异性函数,Q表示服务质量差异性阈值.定义3.一般性服务集GenS(GeneralServiceSet).Gens(Ti,D)=Si-PriS(Ti,D)-SimS(Ti,D)(6)任务Ti的一般性服务集为其候选服务集Si中除去先验性服务与相似性服务后剩余服务所构成的服务集合.5.2服务之间的偏序关系在先验性服务集与相似性服务集内,服务之间存在一些潜在的偏序关系,通过建立服务之间的偏序关系,为设计启发式的邻域搜索策略提供领域知识指导,从而提高算法的效率.(1)先验性服务集内的偏序关系在先验性服务集内,以服务的先验性与用户满意度的拟合值作为依据,建立服务之间的偏序关系.其中,拟合值的计算公式如式(7)所示.其中,si服务的先验性与用户满意度的权重.(2)相似性服务集内的偏序关系为了建立相似性服务集内的偏序关系,首先在先验性服务集内找出具有最优先验性值的服务,称之为最佳先验性服务;之后,计算相似服务集内的服务与最佳先验性服务之间的服务质量相似度,依据相似度建立服务之间的偏序关系.6S-ABC范型基于服务领域特性对服务优化问题求解的影响规律,本文对人工蜂群算法中的关键优化策略进行了改进,形成了面向服务领域的人工蜂群算法范型(S-ABC),主要包括面向服务领域的ABC算法框架、服务空间搜索策略、领域特性感知的初始食物源生成策略、面向服务领域的适应度函数、领域特性驱动的雇佣蜂阶段、观察蜂阶段与侦查蜂阶段、面向服务领域的算法判优准则.S-ABC范型架构如图2所示.6.1服务空间搜索策略在服务领域,服务优化问题先验性服务集的丰富程度决定了服务空间的搜索策略.当服务优化问题的先验性服务集比较丰富时,优先在先验性服务集内搜索则能以较大的概率找出满足用户需求的解.在这种情况下,算法按照一定的规则依次在先验性服务集、相似性服务集与一般性服务集内进行搜索,能够提高问题的求解效率,本文把这种搜索策略称为服务空间优先级搜索策略,记为当服务优化问题的先验性服务集不丰富时,在先验性服务集内找到满足用户需求解的概率较小,而同时在3个服务空间内开展搜索找到满足需求解的概率较大.在这种情况下,算法在3个空间内同时展开搜索,本文把这种搜索策略称为服务空间均衡搜索策略,记为在求解服务优化问题时,应首先根据服务优化问题先验性服务集的丰富程度确定服务空间的搜索策略,之后,选择与服务空间搜索策略对应的优化操Page7作.服务空间搜索策略的确定规则如Rule(1)所示.{If(‖PriS‖CP)ThenSearchStrategy←If(‖PriS‖<CP)ThenSearchStrategy←其中,‖PriS‖=服务集的丰富度,|PriS|表示先验性服务集的基数;|S|表示服务优化问题候选服务集的基数;CP为先验性服务集的丰富度阈值.6.2领域特性感知的初始食物源生成策略S-ABC范型中食物源的编码方式如式(8)所示:j其中,Xt表示一个由n维向量构成的食物源,其中,为食物源Xt中第i维变量的取值,亦为第i维变si量对应的候选服务集中的第j个候选服务;这种食物源编码方式能够适应服务优化问题离散性,可以用来表示多种优化问题的解.优化问题初始解的质量对于群体智能算法的收敛速度及求解质量有着重要影响.通常地,在没有任何先验知识的情况下,采用随机的方法生成初始解;当存在可用的领域知识时,则采用启发式方法生成高质量的初始解,从而提高算法的求解效率.本文针对S-ABC范型中两种服务空间搜索策略,分别设计了相应的初始食物源生成策略,即基于先验性的初始食物源生成策略与初始食物源均衡生成策略.(1)基于先验性的初始食物源生成策略设初始食物源的规模为SN,基于先验性生成的初始食物源由两部分组成,一部分是基于先验性服务方案集生成的初始食物源,设该部分食物源占总食物源的比例为α.另一部分为基于先验性服务集生成的初始食物源,设该部分食物源占总食物源的比例为β,并且,α+β=1.基于先验性生成的初始食物源的集合如式(9)所示:其中,FSPriSS表示基于先验性服务方案集生成的初始食物源,FSPriS表示基于先验性服务集生成的初始食物源.基于先验服务方案集生成初始食物源是将满足一定条件的先验性服务方案直接作为初始食物源,FSPriSS的定义如式(10)所示:FSPriSS={Xi=psi|psi∈PS∧(PF(psi)P)∧其中,PriSS={ps1,ps2,…,psm}表示先验性服务方案集,Het(Xi,Xj)为两个食物源之间的差异性函数,H为两个食物源之间的差异性阈值.基于先验性服务方案的初始食物源生成方法(FS(PriSS))的具体操作如下:1.计算PriSS中先验服务方案的先验性值与用户满意度;2.以先验性值为依据,对先验性服务方案进行降序排序;3.从上至下选出满足式(10)中条件的先验性服务方案作为初始食物源;4.重复步3直至获取α×SN个初始食物源.基于先验性服务集的初始食物源生成方法(FS(PriS))的具体操作为:随机地从食物源每维变量对应的先验性服务集中选出一个候选服务,构成满足约束条件的初始食物源.基于先验性服务集生成的初始食物源集合如式(11)所示.FSPriS={Xt=〈s1l(2)初始食物源均衡生成策略初始食物源均衡生成策略是指分别在先验性服务方案集、先验性服务集、相似性服务集与一般性服务集内生成一定数量的初始食物源,将这些食物源放在一起作为初始食物源.其中,每部分食物源占总食物源的比例分别为α,β,χ,δ,且α+β+χ+δ=1.基于均衡策略生成的初始食物源集合如式(12)所示.其中,FSSimS、FSGenS分别为基于相似性服务集与一般服务集生成初始食物源集合.FSSimS与FSGenS如式(13)、(14)所示.FSSimS={Xt=〈s1lFSGenS={Xt=〈s1l食物源FSSimS的生成方法(FS(SimS))为采用随机的方法在相似性服务集上生成初始食物源.食物源FSGenS的生成方法(FS(GenS))为采用随机方法在一般性服务集上生成初始食物源.对于每一种初始食物源生成策略,可以根据先验性服务集的丰富程度和问题求解经验确定参数α,β,χ,δ的取值.6.3面向服务领域的适应度函数在S-ABC范型中,食物源的适应度值是新旧食物源取舍的标准,也是判断算法所搜索到的解能否满足用户需求的重要依据.同时,由于服务领域存Page8在一些领域知识约束,适应度值也要能反应食物源满足服务领域约束的程度.下面给出面向服务领域的适应度函数的定义.定义4.面向服务领域的适应度函数Fit(Xt)=w1×fitUS(Xt)+w2×fitC(Xt)+适应度函数Fit(Xt)由用户满意度评价子函数fitUS(Xt)、服务关联度评价子函数fitC(Xt)与领域约束满足程度评价子函数fitDC(Xt)组成;wj(1j3)分别表示用户满意度、关联性满足程度与领域知识约束满足度在评价食物源中的重要程度,并且3wj=1.∑j=1该适应度函数具有一定的可扩展性与可定制性,在求解服务优化问题时,可以增加其他服务领域特性的评价子函数(比如服务价值等),也可以根据实际应用的需要选择或修改其中的部分评价子函数,使得食物源的适应度值能真实地反应服务满足应用的程度.在构造适应度函数时,首先需要对每个子评价函数进行归一化.下面分别给出3个评价子函数的定义.(1)用户满意度评价子函数fitUS(Xt)用于计算食物源满足用户QoS需求的程度.其中,Xt表示第t个食物源,qj表示食物源第j个QoS属性的值,cj表示用户对第j个QoS属性提出的约束,qjmax示QoS属性的数目,wj表示用户对第j个QoS属性的偏好,并且∑(2)关联关系满足度评价子函数fitC(Xt)用来计算食物源Xt满足服务之间关联性的评价值.m为鼓励性关联关系(如统计关联关系与服务质量关联关系)的数目,个关联关系满足度的取值关联概率.(3)领域约束满足度评价函数fitDC(Xt)用来计算食物源Xt满足领域约束的程度.k为服务领域约束的数目,φj(1jk)表示食物源Xt关于第j个领域约束的取值,当其被满足时φj=1,或者φj=0.6.4领域特性驱动的雇佣蜂阶段在ABC算法中,雇佣蜂通过邻域搜索生成一新食物源,然后基于贪婪选择保留较好的食物源.本文针对3个服务空间分别设计了相应的邻域搜索策略.这里的邻域搜索是指在食物源某一维变量所对应的候选服务集上的搜索.(1)先验性服务集内的邻域搜索策略(NS(PriS))由于先验性服务集内的服务之间存在一定的偏序关系,基于这一领域知识,设计了一种具有方向指导的自适应邻域搜索方法,具体操作为:在进行邻域搜索时,首先确定最佳搜索方向,然后根据一定的搜索步长进行邻域搜索并生成新的食物源.下面给出搜索方向和搜索步长的确定方法.①搜索方向的确定设当前食物源Xt在第i维的取值为sij+η)替换si参照点,以步长η在参照点的一侧选择候选服务(设为si确定在第i维变量对应的先验性服务集内的邻域搜索方向.If(Fit(Xt)<Fit(Xt))Thensd=si烄烅If(Fit(Xt)<Fit(Xt))Thensd=si烆②搜索步长的确定为了提高邻域搜索的效率,邻域搜索步长应根据搜索结果进行动态调整.搜索步长调整规则为Rule(3):If(sdremainsunchanged)Thenη=η+δRule(3)其中,sd表示搜索方向,δ为一整数并且0<δ<η,η与δ的取值可根据先验性服务集中服务的数量及问题求解经验确定.在先验性服务空间内的邻域搜索方法描述如下:1.确定邻域搜索方向sd;2.根据搜索方向与搜索步长生成新食物源3.根据Rule(2)与Rule(3)确定下次邻域搜索的方向与步长,返回步2.(2)相似性服务集内的邻域搜索策略(NS(SimS))相似性服务集内的邻域搜索与先验性服务集内的邻域搜索方法相同,具体操作为:首先确定搜索方向和搜索步长,然后在确定的搜索方向上以一定的搜索步长进行邻域搜索.(3)一般性服务集内的邻域搜索策略(NS(GenS))鉴于一般性服务集内没有可利用的领域知识,Page9因此采取随机的邻域搜索方法,具体操作如下:设当前食物源为Xt=〈s1l第i维变量对应的服务siGens(Ti,D)中选择一候选服务si新食物源Xt=〈s1l在雇佣蜂阶段,蜜蜂在执行完邻域搜索后,比较原食物源Xt与新食物源Xt并保留较好的食物源.这里所设计的邻域搜索策略适用于S-ABC范型中两种服务空间搜索策略.6.5面向服务领域的观察蜂阶段在S-ABC范型中的观察蜂阶段采用ABC算法中基于轮盘赌的选择操作,赋予每个观察蜂一个食物源.轮盘赌选择操作中食物源选择概率的计算公式如式(19)所示.观察蜂在获取一个食物源之后,根据6.4节中设计的邻域搜索策略进行邻域搜索生成新食物源,并基于贪婪选择操作保留较好的食物源.6.6面向服务领域的侦查蜂阶段针对S-ABC范型中两种不同的服务空间搜索策略,这里设计了两种侦查蜂阶段的新食物源生成方法.(1)面向服务空间优先级搜索策略的侦查蜂阶段①当蜂群处于先验性服务集时,则基于先验性服务集生成新的食物源;②当蜂群处于相似性服务集时,则基于相似性服务集生成新的食物源;③当蜂群处于一般性服务集时,则基于一般性服务集生成新的食物源.(2)面向服务空间均衡搜索策略的侦查蜂阶段基于先验性服务集、相似性服务集与一般性服务集生成新的食物源.6.7面向服务领域的算法判优准则本文根据服务领域中服务应用的特点,归纳出以下4个面向服务领域的算法判优准则,分别为(1)时间约束下的最优解(MaxTime)算法搜索在达到用户提出的时间约束时输出所找到的最优解.该判优准则如Rule(4)所示:If((Time-RunningTime)→0)thenOutputXGB(2)用户约束下的满意解(UserStasifaction)当算法搜索到满足用户提出的满意度阈值(ST)的解时,停止搜索并输出该解.该判优准则如Rule(5)所示:If(Fit(XGB)ST)thenOutputXGBRule(5)(3)最大重复次数下的最优解(MaxRepeation)在算法的搜索过程中,算法找到的当前最优解达到最大重复次数时输出该解.该判优准则如Rule(6)所示.If(|Fit(XthenOutputXGB(4)最大迭代次数下的最优解(MCN)当算法的迭代次数达到预先设定的最大迭代次数时,算法停止搜索并输出所找到的最优解.该判优准则如Rule(7)所示.If(IterationsTime==MCN)thenOutputXGB结合S-ABC范型框架及关键优化策略的详细设计,给出S-ABC范型的详细描述如算法1所示.算法1.S-ABCParadigm.1.确定服务空间搜索策略If(‖PriS‖>CP)//CP为丰富度阈值;ElseIfEndIf2.领域特性感知的初始食物源生成If(服务空间搜索策略==EndIf//α与β为食物源生成比例且α+β=1;If(服务空间搜索策略==EndIf//α、β、γ与μ为食物源生成比例,α+β+γ+μ=1;Repeat3.领域特性驱动的雇佣蜂阶段(局部优化)For(i=1toSN)//对于每一个食物源Page10If(当前搜索空间==GenS)EndFor4.领域特性驱动的观察蜂阶段(局部优化)For(i=1toSN)//对于每一个食物源EndForCarryout3.5.领域特性驱动的侦察蜂搜索阶段(全局优化)For(i=1toSN)//对于每一个食物源If(counteri>limit&&当前搜索的空间==PriS)EndFor6.更新全局最优解(全局优化)Until7.满足判优准则If(满足判优准则)EndIfS-ABC范型的创新之处有以下3点:(1)基于服务领域特性对服务优化问题的解空间进行了划分,在一定程度上缩小了蜂群搜索的范围,使算法能够在较短的时间内找到满足用户需求的较好解.(2)基于服务领域特性,改进了初始食物源生成方法,基于先验性的食物源生成策略能够产生质量较好的初始解,有助于提高问题求解的效率.(3)利用服务空间中服务之间的关系,设计了自适应领域搜索方法,避免了盲目随机搜索,提高了算法的搜索效率.7S-ABC范型验证实验S-ABC范型为求解服务优化问题提供了算法模型与优化技术支持,基于S-ABC范型与服务优化问题的特征,可以生成求解服务优化问题的算法.本文以服务组合问题为例,阐述S-ABC范型的应用并验证S-ABC范型的有效性及优越性.7.1实验1:S-ABC范型有效性验证该实验以常用的服务组合案例来验证S-ABC范型的有效性.设某顺序型服务组合问题由6个任务节点组成,每个任务节点具有200个候选服务,该服务组合流程如图3所示.组合流程中每个任务候选服务的QoS属性值取自于文献[40]提供的真实Web服务QoS数据,这里考虑了Web服务的反应时间(ResponseTime)、可靠性(Reliability)、吞吐量(Throughput)以及成功率(Successability)4个QoS属性,这里对候选服务的QoS属性值进行了标准化处理,并将成本型QoS转化成效益型QoS.设用户对这4个QoS属性的偏好分别为0.5,0.3,01与01.用户提出的全局QoS约束条件分别为T4s,Rel0.05,Throu3,Suc0.05.该服务组合问题可以描述为:如何从多个候选服务集中找出一组具体的服务,使得由这组具体服务所构成的组合服务既能满足用户提出的全局QoS约束,又具有最优的全局服务质量?该服务组合问题的数学模型如下:ObjectiveFunction:Constraints:其中,CSi表示某一组合服务,qk(1k4)表示组合服务CSi4个QoS属性的聚合值[22],Ck(1k4)表示用户提出的QoS约束.Page117.1.1基于S-ABC范型的生成服务组合算法设该服务组合问题具有较为丰富的先验性服务集,则基于S-ABC范型生成的服务组合问题求解算法(S-ABCSC)的具体配置如表1所示.表1基于S-ABC范型生成具体服务组合算法算法要素1.服务空间搜索策略2.食物源编码格式3.初始食物源生成方法基于先验性的初始食物源生成策略;4.适应度函数5.雇佣蜂阶段6.观察蜂阶段7.侦查蜂阶段8.算法判优准则为了获取服务组合问题的先验性服务方案集与先验性服务集,该实验首先通过迭代遗传算法100次获取200个服务组合问题的可行解.然后,从可行解中随机地选择20个解作为服务组合问题的先验性服务方案集.最后,按照先验性服务集、相似性服务集以及一般性服务集的定义,找出服务组合流程中每个任务中的3个服务集.其中,先验性服务集的规模设为20,相似性服务集的规模设为40,一般性服务集的规模设为140.将生成的先验性服务方案集、先验性服务集、相似性服务集以及一般性服务集存储到文本里,在求解服务组合问题时,S-ABCSC算法可直接读取这部分数据.在该实验中,S-ABCSC算法的初始食物源规模设为SN=100,设α=0.2,β=0.8.服务空间搜索转移规则为:若S-ABCSC算法对3种服务空间的开采度大于70%时,进行搜索空间转移;设置食物源放弃阈值Limit=3.服务组合问题求解算法S-ABCSC采用C++编程语言实现,实验平台是PC机,具体配置为OS:MicrosoftWindowsXP2002;CPU:Intel(R),G550@2.60GHz;Memory:3GB.7.1.2实验结果该实验通过改变服务组合问题的先验性服务集的可信度,验证先验性对于提高算法求解效率的影响.服务组合先验性的可信度是通过改变用于生成先验性服务方案集与先验性服务集的遗传算法的迭代次数实现的,遗传算法迭代次数越多,表示服务组合问题先验性的可信度越强.在该实验中,分别通过迭代遗传算法不同次数获得具有不同可信度的先验性服务集,之后,基于这些不同的先验性服务集,分别采用S-ABCSC算法求解服务组合问题.该实验中S-ABCSC算法的迭代次数为10,实验结果如图4所示.其中,横坐标表示服务组合问题先验性的可信度,纵坐标表示在不同的先验性可信度下,S-ABCSC算法搜索到的最优解的适应度值.从图4可以看出,随着问题先验性可信度的增强,S-ABCSC算法的搜索能力逐渐增强,由此可以得出,服务组合问题先验性的可信度越高,S-ABCSC算法的搜索能力越强.因此,服务领域的先验性是影响服务优化问题求解效率的一个重要因素.所以,在求解服务优化问题时,考虑先验性有助于提高问题的求解效率.为了验证服务组合算法S-ABCSC的性能,该实验同时采用S-ABCSC算法、离散型的ABC算法(D-ABC)[41]以及遗传算法(GA)同时对该服务组合问题进行求解.3种算法均采用C++编程语言实现,其运行环境也相同.其中,对于D-ABC算法,设置初始食物源规模SN=100,采用随机的方法在候选服务集上生成初始食物源,设置Limit=3.遗传算法的初始群体规模设为100,交叉概率与变异概率分别为设为0.8与0.5.下面分别验证在不同算法判优准则下3种算法性能的优劣.(1)时间约束下的最优解(Rule(4))该判优准则是在达到用户给出的最大求解时间时,给出算法搜索到的当前最优解.在执行该实验时关闭了实验环境中的其他运行程序,独立运行每一个求解算法.为了克服实验平台软、硬件环境的不确定性带来的时间误差,提高实验结果的准确度,在每个时间约束下,分别独立运行算法20次,取20次运行结果的平均值为该时间约束下最优解的适应度值.实验结果如图5所示.其中,纵坐标表示算法搜索到的解的适应度值,横坐标表示用户提出的不同时间约束,单位为毫秒(ms).Page12由图5可以看出,在相同时间约束下,S-ABCSC算法搜索到解优于GA算法与D-ABC算法搜索到的解.当时间约束值较小时,GA算法优于D-ABC算法;当时间约束值较大时,D-ABC算法优于GA算法.该从实验结果可以看出,S-ABCSC算法能在较短的时间内找到较好的解.(2)最大重复次数下的最优解(Rule(6))该判优准则是当算法搜索的解达到给定的最大重复次数时,输出该解.实验结果如图6所示,其中,纵坐标表示算法搜索到的解的适应度值,横坐标表示给定的最大重复次数.从图6可以看出,在相同的最大重复次数下,S-ABCSC算法搜索到解优于GA算法与D-ABC算法搜索到的解;D-ABC算法搜索到的解优于GA算法搜索到的解.(3)最大迭代次数下的最优解(Rule(7))该判优准则是当算法达到给定的最大迭代次数时,输出所搜索的最优解.该实验结果如图7所示,其中,纵坐标表示算法搜索到的解的适应度值,横坐标表示算法的迭代次数.从图7可以看出,在相同的迭代次数下,S-ABCSC算法搜索到解优于GA算法与D-ABC算法搜索到的解,而D-ABC算法搜索到的解优于GA算法搜索到的解.为了充分测试3个算法的搜索能力,分别迭代S-ABCSC算法、D-ABC算法与GA算法20000次,3种算法搜索到的解的适应度值分别为3.356、3.06与3.04.从该实验结果可以得出,S-ABCSC算法的搜索能力优于D-ABC算法与GA算法.通过对比分析上述实验结果可以得出,在3种判优准则下,S-ABCSC算法的性能均优于D-ABC算法与GA算法.与其他两种算法相比,S-ABCSC算法能在较短的时间内找到较好的解.由于可以得出,S-ABC范型及其优化策略是有效的.7.2实验2:S-ABC范型影响因素分析验证S-ABC范型的主要影响因素是先验性服务集与相似性服务集的主要特征,本文定义先验性服务集与相似性服务集的主要特征包括:先验性服务集的大小(SP)、先验性服务集的置信度(CP)、先验性服务集的使用频率(FP)、相似性服务集的大小(SS)、相似性服务集的相似度(SDS).这些特征的计算公式如下:(1)SP=先验性服务集的数量,D表示服务组合流程中任务节点的数量.(2)CP=先验性服务集的置信度,CPi=表示第j个先验性服务满足用户需求的程度,PUj表示第j个先验性服务被使用的次数.(3)FP=hdSize表示历史数据的规模.(4)SS=相似服务的规模,NSi=U∑Page13示第j个先验性服务,Sim()是计算候选服务与sP的相似度的函数,U()表示计算第i个任务节点相似服务集的综合相似度的函数.(5)SDS=Avg∑表示计算服务之间欧氏距离的函数,Arg()计算满足下述表达式的数据的平均值,CED(sP为相似度阈值.该实验采用图8所示服务组合问题作为实验对象,该服务组合流程共包括11个任务节点,由顺序结构、选择结构以及并行结构组成;设每个任务节点具有5000个候选服务,考虑了5个QoS属性,分别为反应时间、费用、可靠性、可用性以及吞吐量,每个服务的QoS属性值在以下范围内随机生成:[1,10],[20,100],[0.6,0.99],[0.8,0.99],[1,20];设用户图920个数据集的特征值从图9可以看出特征值SP,CP,FP,SS,SDS的取值范围分别为[0,500],[0,1],[0,1],[0,900],[0,5].为了验证S-ABCSC算法寻优能力,该实验采用ABC算法与S-ABCSC算法同时求解图8所示的提出的全局QoS约束为〈50,400,0.2,0.85,3〉;用户对每个QoS属性的偏好为0.2.该服务组合问题的目标函数如式(21)所示:F(CS)=∑其中,CQoSk表示第k个QoS属性值的聚合值;RQk表示用户提出的关于第k个QoS属性的约束;当第k个QoS属性为效益型时Fk=1,或者,Fk=-1;5wk=1.∑k=1基于S-ABC范型生成具体服务组合算法的配置与表1相同.在该实验中,采用ABC算法求解图8所示的服务组合问题,通过随机设置不同的最大迭代次数来获取不同的服务使用历史数据集.在该实验中,共产生200个服务使用历史数据集,随机地从中抽取20个数据集作为实验对象,其编号记为HD1,HD2,…,HD20.之后,计算出每个数据集的特征值,如图9所示,其中,横坐标表示数据集的序号,纵坐标表示不通的特征值.服务组合问题.采用所选出的20个历史数据集生成服务组合问题的先验性服务集、相似性服务集以及一般性服务,将其作为S-ABCSC算法求解服务组合问题的已知条件;两个算法中参数SN、Limit与Page14MCN(最大迭代次数)的取值相同,实验结果如图10所示,其中,横坐标表示数据集的序号,纵坐标表示图11服务集特征对S-ABCSC算法性能的影响算法所搜索到的解的评价值,实验结果为运行算法50次求得的平均值.通过图10可以看出,S-ABCSC算法在数据集HD1、HD2、HD3、HD4与HD5上的寻优性能不如ABC算法,在其余15个数据集上的寻优性能优于ABC算法.该实验结果表明,在不同的先验性服务集与相似性服务集上,S-ABCSC算法的寻优能力有所不同,也即先验性服务集与相似性服务集的特征值对S-ABCSC算法的寻优性能具有一定的影响.下面通过实验分别验证了服务集特征SP、CP、FP、SS与SDS对S-ABCSC算法寻优能力的影响,实验结果如图11所示.Page15从图11可以看出,随着SP,CP,FP与SS数值的增加,S-ABCSC算法寻优能力在逐渐增强,这表明当先验性服务集的丰富度越高、置信度越高、服务使用频率越高以及相似性服务集越丰富,则S-ABCSC算法的寻优能力越强;这与本文研究的出发点一致,即先验性与相似性有助于提高服务优化问题求解的效果;然而,随着SDS值的增加,S-ABCSC算法的寻优能力逐渐变差,这是因为服务之间的相似度越高,服务之间的差异性越低,解的多样性越低,致使S-ABCSC算法搜索能力变差.通过比较分析上述实验结果可以得出:考虑服务领域的先验性与相似性,有助于提高服务优化问题求解的效果;先验性服务集与相似服务集的特征值SP,CP,FP与SS越强,也即当服务优化问题的先验性准确度可靠越丰富时,应用S-ABC范型求解服务优化问题的效果越好.8总结与展望随着互联网迅猛的发展和服务资源的不断丰富,服务解决方案的优化构建变得越来越复杂.研究者提出了各类通用优化方法来尝试求解这些问题,但往往忽略了服务问题所在的领域环境与特性及其对优化求解的影响.本文基于人工蜂群算法的优化机理及服务领域特性对服务优化问题求解的影响规律,设计了领域特性驱动的优化策略,提出了面向服务领域的人工蜂群算法范型(S-ABC),为服务优化问题的高效求解提供了算法模型及优化技术支持.在后期的研究中,将进一步细化S-ABC范型规范及其要素,继续深入研究针对各种具体服务优化问题的S-ABC范型的子范型以及用于求解典型服务优化问题的S-ABCX系列算法,进一步将S-ABC范型及其算法应用于具体服务应用领域(如智慧物流服务、智慧家庭服务、智慧医疗服务、智慧城市服务等)优化问题的求解,并证实S-ABC范型的优越性和实用价值,进一步丰富和改进S-ABC范型的理论与方法.
