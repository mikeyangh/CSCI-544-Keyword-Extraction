Page1面向室内空间的移动对象数据管理1)(中国科学技术大学计算机科学与技术学院合肥230027)2)(中国科学院电磁空间信息重点实验室合肥230027)摘要调查表明:人们有87%左右的时间都在室内空间中活动,例如办公楼、商场、地铁站等.随着物联网以及RFID、Wi-Fi等室内定位技术的快速发展,如何有效管理日益增长的室内移动对象数据,使其支持多样化的室内位置服务应用,已成为公共安全、商业服务等诸多领域都亟需解决的基础性共性问题.本文针对室内空间在空间约束、定位技术、距离度量等方面的特点,归纳了室内空间移动对象数据管理研究中的关键问题,指出了移动对象数据管理研究领域的主要进展,讨论了室内空间表示模型、室内移动对象位置与轨迹模型、室内空间查询处理和室内移动对象索引等关键技术.在此基础上,对室内移动对象数据库的研究前景进行了展望.关键词室内空间;移动对象;数据管理1引言随着全球定位系统(GlobalPositioningSystem,Page2求移动对象与卫星之间可直视,这一要求导致GPS定位技术无法应用于室内空间.而调查表明,人们有87%左右的时间都在室内空间中活动[1],例如办公楼、购物中心、机场、地铁站等.随着无线射频识别(RadioFrequencyIDentification,RFID)、蓝牙、Wi-Fi等新型定位技术以及物联网的发展,使得对室内移动对象进行定位成为了可能.同时,集成了蓝牙、Wi-Fi功能的手机、掌上电脑(PersonalDigitalAssistant,PDA)等移动通讯终端的大量普及为室内移动对象数据的采集以及室内位置服务技术的广泛应用提供了可能.面向室内空间的位置服务在商业服务、公共安全等诸多领域都展现了广阔的应用场景.例如,国内某百货集团目前就提出了“智慧商圈”的规划,计划通过室内RFID定位设备和内嵌RFID芯片的VIP积分卡,采集旗下多个连锁商场的用户移动数据,并据此开展个性化服务和推荐等工作.在煤矿安全监控中,部署无线传感网实现对井下环境和移动对象的监控也已成为趋势.随着多样化室内位置应用的快速发展,如何有效管理日益增长的室内移动对象数据已成为亟需解决的基础性问题,并日渐成为国际研究前沿与热点[2-3]问题.移动对象数据库能有效地描述移动对象随时间变化的空间位置信息,并对大量的移动对象进行存储与管理,实现移动对象的表达、索引以及高效查询处理等功能,从而支持基于位置的服务.之前的相关研究主要集中于室外空间的移动对象数据管理,包括自由空间以及路网空间等[4-7].然而基于室内的移动对象数据管理不同于室外空间的移动对象数据管理,需要对室内空间数据管理进行系统性的分析.下面主要从室内空间特点、室内定位技术、室内应用3个方面介绍室内空间数据管理的相关背景.1.1室内空间特点面向室外空间的移动对象数据库技术忽略了室内空间的特殊性,并不能直接适用于复杂的室内空间.与室外空间相比,室内空间的特殊之处主要表现在以下几个方面.(1)空间约束.与自由空间相比,室内空间是受限的空间.室内空间通常由房间、门、通道、楼梯、电梯等要素构成,因此室内空间中的移动受这些要素的限制.路网空间也是受限的空间,但路网空间中的对象只能在路网的道路上移动,而室内移动对象是运动在一个三维的受限空间中,而且移动对象在室内空间的移动还受到门、时间等的约束(例如有的门有移动方向限制,比如超市的出口只允许出不允许进;有的门是只在特定时间段开启的).因此室内空间的约束性不同于自由空间和路网空间,在建模以及查询处理时需要研究更合适的新方法.(2)定位技术.无论是自由空间还是路网空间,目前基本都采用GPS定位系统,位置通过经纬度坐标来表达,而室内空间中由于GPS信号失效,通常采用RFID、蓝牙、Wi-Fi等新型定位技术,位置通常采用符号化的相对坐标来表示,比如“1楼101房间中的(10,5)位置”,其中“1楼”、“101房间”是符号表示,“(10,5)”则是相对坐标.此外,由于部署成本和复杂性等原因,室内定位系统通常很难覆盖整个室内空间,所以无法像GPS那样提供连续且相对密集的对象位置、方向和速度数据,因此在查询处理时不仅需要利用对象的位置数据,还必须借助室内空间表示模型进行性能优化.室内空间中新的定位技术以及位置表达方式给室内查询和计算带来了新的挑战.(3)距离度量.室外空间通常基于GPS经纬度坐标,采用欧氏距离和路网距离作为度量方法,而室内空间距离基于符号化坐标,要考虑不同室内要素之间的连通性和其他空间约束(如楼层之间的连接是电梯还是楼梯、房间中通常存在各种障碍物、门有通行时间约束等),因此需要进行新的距离定义.由此也将对室内空间距离相关查询(如最近邻查询、导航查询等)等提出新的需求.1.2室内定位技术室内定位技术通常分为符号化定位[8]以及基于信号的定位[9].符号化定位通常返回传感器的符号化位置,表明移动对象已进入传感器的覆盖范围内,如RFID、超声波及红外定位.基于信号的定位接收移动对象位置处的信号强度,返回其相对于信号接入点的位置,如Wi-Fi和蓝牙定位.由于基于超声波、红外和蓝牙的室内定位技术具有传输距离短、定位成本高等缺点[10],基于RFID和Wi-Fi的室内定位技术在现实生活中应用较多.(1)基于Wi-Fi的定位技术已有的Wi-Fi定位技术依据定位算法的不同,使用无线信号的不同度量指标.基于测量到达时间(TimeOfArrival,TOA)的定位技术依据信号从接入点(AccessPoint,AP)位置发出到设备接收的时间差,确定终端设备与AP位置的相对距离,但其要求设备之间时钟严格同步,实用性较低.RADAR[11]利用射频信号传播模型,将接收的信号强度映射为终端与AP位置间的距离,但由于Wi-Fi信号易受Page3障碍物和其他信号的干扰,其不适合室内环境定位.基于到达角度(AngleOfArrival,AOA)通过接收信号判断终端与AP位置间的角度,进而估算终端位置[12].基于信号指纹(Fingerprint)的方法[13]将当前移动对象接收到的信号强度信息与之前采集的信号指纹库进行对比,推测对应的位置信息,但其无法感知室内空间布局的变化.为此相关研究者[14-15]提出了许多基于统计学习的方法(例如贝叶斯后验概率模型、K-Means和质心聚类方法、核函数及马尔科夫链的节点位置预测方法),以提高位置指纹定位方法的精确度.由于许多移动设备,像笔记本、PDA、智能手机,已经内置无线网卡支持Wi-Fi连接,不需要添加其他的硬件设备或电子标签,因此基于Wi-Fi的定位技术是一种经济方便的解决方案.此外,由于无线射频信号的健壮传输,基于Wi-Fi的定位系统是一种比较稳定的系统,对Wi-Fi定位技术的研究越来越多[16-17],国内外也出现了许多基于Wi-Fi的室内定位系统,如加利福尼亚大学洛杉矶分校(UCLA)提出的一个Wi-Fi定位系统Nibble[18],北京航天航空大学研究的基于无线局域网的定位系统Weyes[19],韩国高等科学与技术研究所开发的新型室内定位系统KAIST.(2)基于RFID的定位技术射频识别技术(RadioFrequencyIdentification,RFID)是一种结合自动识别功能的短距离通信技术,其利用射频信号传递的信息识别移动对象,并读写相应数据完成通信,无需对象之间的直接接触.基于RFID的室内定位技术[20]将阅读器部署在室内空间的关键位置.当携带电子标签的室内移动对象进入阅读器的覆盖范围,阅读器感知电子标签,并记录移动对象的当前位置信息.通过此记录则可以判断移动对象对应的位置.基于RFID的定位技术由阅读器记录移动对象的定位数据,不要求携带电子标签的对象间互相连接.此外,电子射频信号不受外界环境的干扰,可以在各种复杂环境下自由工作.因此,目前基于RFID的定位技术在仓储物流监控,公路车辆监测,医院人员跟踪,学校图书管理等领域得到了广泛的应用.现有的室内移动对象数据管理研究大都针对RFID室内定位技术[21-22],由于RFID和Wi-Fi定位返回的位置数据格式不同,因此需要研究适用于不同定位技术的室内时空数据管理技术.例如,RFID定位返回符号化序列位置数据,为实现室内移动对象的跟踪定位查询,可采用符号化室内空间模型,将室内空间单元抽象为顶点,将其连接关系抽象为边,构成室内空间部署图[23];但Wi-Fi定位技术返回坐标序列位置数据,则需要结合室内空间几何模型[24],依据室内空间单元的形状和大小等几何特征,才能实现移动对象的跟踪查询.1.3室内应用随着室内定位技术的快速发展和应用,基于室内的位置服务涵盖了人类生活的各个方面,包括:室内导航、信息获取、监控与管理、应急响应、休闲娱乐等应用场景.(1)室内导航位置导航是室内位置服务的基础性应用.由于大型建筑物室内结构复杂,且室内空间约束众多,因此需要依赖室内导航应用为用户规划最优的行走路径.例如,在机场候机大厅,旅客希望室内导航应用提供登机路径提醒;在室内停车场,室内导航应用可以引导司机驶入空车位.Google公司目前已经声称GoogleMap将支持室内导航的功能①.(2)信息获取信息获取是基于室内位置服务的重要组成部分.室内定位技术与无线搜索相结合,提供对周边位置的搜索查询服务.例如,在室内博物馆,游客需要搜索感兴趣的展览品位置.在大型室内购物中心,顾客可以启动室内本地搜索应用顺利找到需要的餐厅和商铺.商场可以为顾客提供周边的打折优惠信息以及历史顾客的评价信息,供顾客做出选择.我市百货大楼商厦已实现Wi-Fi信号覆盖,通过手机终端应用程序为顾客提供室内位置服务和信息推送.(3)监控与管理利用室内移动对象管理技术能有效地对人员、产品、财产进行监控与管理.例如,在大型商场内,父母为了防止小孩走失,可以在其随身物品中放置定位器,一旦超过距离会发出警报提醒;在集团大厦内部,企业管理人员通过对员工所处的位置以及移动的轨迹进行监控,既实现对员工的工作进度管理,又实现对公司机密部门的安全管理;在医院住院大楼内,对医生和病员的移动轨迹进行跟踪,可以辅助病人的治疗工作和病情分析.我校图书馆通过在相应的图书资料上粘贴带详细信息的RFID电子标签,实现对图书资料的管理.(4)应急响应室内空间的应急响应系统对提高国家相关部门①http://maps.google.com/help/maps/indoormapsPage4救援能力、减少人民群众财产损失,保障生命安全方面有重大意义.目前,我国已经成功研制出了基于室内外高精度无缝定位技术的消防救援应用平台,来提升我国消防救援能力.此外,在室内紧急安全事件发生后,公安部门可以基于室内位置服务分析室内移动对象的轨迹数据,确定具有异常行为模式的嫌疑对象,并对其他对象进行追踪保护.(5)休闲娱乐近年来,备受热议的微博位置、街旁等LBS服务,是一种基于位置的社交服务.在室内空间,用户通过智能手机在位置社交网站上“签到”,同时记录并分享自己在当前位置处的真实生活,和朋友互动.“签到”次数最多的用户还可以享有位置关联企业提供的优惠基于室内空间的应用极其广泛,然而室内空间与自由空间以及路网空间相比有本质上区别.为了更有效的支持室内空间应用,适应室内空间的特性,需要对面向室内空间的移动对象数据管理进行深入研究.室内移动对象数据管理研究的目标是扩展现有数据库技术使得在数据库中可以表示室内空间以及任意的室内移动对象[25],可以高效处理移动对象位置相关的查询,满足室内空间位置服务的需求.早在21世纪初,人工智能领域就有学者提出室内空间模型和室内导航路径查询的研究工作[26],同时支持机器人在室内行走时的路径选择和路径导航.目前,面向室内空间的和室内位置服务的移动对象数据库技术仍是国际上的研究热点.移动对象数据库领域著名的学者Jensen[2](IEEE和ACMFellow)在2009年较早开展了室内移动对象数据库研究,包括室内空间的图结构建模、室内移动对象不确定分析等方面的研究,为后续的室内空间建模、查询处理以及索引技术研究奠定了坚实的基础.丹麦奥尔堡大学的Lu等研究人员[27-28]在室内概率阈值时空连接查询、室内距离和方向类查询等方面取得了一系列研究成果.就国内而言,室内移动对象管理的研究主要集中在华东师范大学、复旦大学、中国科学技术大学、东北大学、华中科技大学等单位.其中,复旦大学的杨彬与移动对象数据库领域专家Jensen[21,29]合作在室内移动对象管理方面开展了深入研究,在室内对象定位与跟踪、室内连续范围查询以及室内概率阈值k最近邻查询等方面取得了一系列的成果.华东师范大学周傲英和金澈清等研究人员[30]在国内较早地开展了室内移动对象数据管理的研究,提出了基于限制路径的室内导航查询和室内空间成员查询两种新的查询类型,开展了室内移动对象仿真系统的研究[31].中国科学技术大学金培权等人[32-33]在支持室内空间语义建模、室内移动轨迹数据模拟生成[25,34]、室内移动对象管理原型系统[35]以及基于室内时空轨迹相似性的室内空间个性化推荐[36]等方面有着较好的积累.东北大学于戈等研究人员[37]在RFID轨迹相似性方面做了深入研究,并提出了基于RFID的轨迹相似度查询算法和半限制空间内的可能性k近邻查询算法.华中科技大学甘早斌等学者[38]在面向室内空间的移动对象索引方面提出了DR-tree索引结构.国内单位的这些相关工作为室内移动对象数据库研究的深入开展奠定了良好的基础.虽然国内外的研究者针对面向室内空间的移动对象数据库开展了一些工作,但总体上仍处于起步阶段,在室内空间表示模型、室内移动对象索引技术、面向室内空间的查询处理等方面尚有许多问题还没有很好地解决,影响了室内空间位置服务以及未来的室内外空间无缝化服务技术的发展.例如,在室内空间表示模型方面,目前主要采用了符号化模型(SymbolicModel)[23,39-40],用符号表示室内空间要素,将室内空间表示为一个无向图,把移动对象表示成图上移动的点.但它们忽略了室内实体的几何特性和室内空间的一些特殊约束(如门的通行方向以及通行时间段等),不能系统地描述室内空间的复杂空间语义.在室内移动对象索引方面,已提出的索引以R-tree的变种为主[22,41],而且几乎没有工作考虑了室内移动对象的位置更新性能,而位置更新性能对于像地铁、火车站这样每天具有海量移动对象的室内环境来说是至关重要的(一个例子:伦敦地铁系统平均每个小时大约有146000旅客进入[23],如果一个旅客每小时平均产生20条位置更新记录,每小时的更新请求达到292万次,相当于每秒800多次).本文从移动对象数据管理的核心问题出发,针对室内空间在空间约束、定位技术以及距离度量等方面的特殊性,对面向室内空间的移动对象数据管理进行了综述,主要介绍了目前国内外在室内空间的表示与建模、室内移动对象的位置和轨迹建模、室内空间的查询处理、室内移动对象的索引等方面的主要进展.在此基础上,给出了对未来研究工作的展望.本文第2节介绍室内空间与移动对象建模的相关现状;第3节讨论室内移动对象查询处理的研究进展;第4节主要讨论室内移动对象索引技术;第5节给出未来研究工作展望;最后第6节是论文总结.Page52室内空间与移动对象建模2.1室内空间的表示与建模室内移动对象受室内空间的约束,因此如何表达室内空间的特征是室内移动对象管理中的重要问题[42].目前,已有的室内空间建模方法可以分为4类,如图1所示.图1室内空间建模方法分类包含路径元素、障碍物、路标3个基本概念,表达了支持室内最优路径导航算法的概念实体和关系.这类模型的优点是扩展性较好,通过对象扩展很容易加入新的室内空间要素,但此类模型缺少对室内空间的几何特性描述,难以回答室内距离和方向相关的查询.2.1.2几何空间模型几何模型关注于室内空间的几何表达,主要用于室内空间的可视化、计算机辅助设计系统(ComputerAssistedDesign,CAD)等[45].室内空间的几何特性一般采用栅格模型[24,46-48]或者基于边界的矢量模型[45,49].栅格模型将物理空间划分为有限多个非重叠的区域,此类方法提供了隐式获取相邻网格邻接关系的能力.根据划分方式的不同可以分为两类:规则划分将空间划分为同样大小、同样形状的区域(比如,正方形[24]、八角形等),非规则划分将空间划分为不同大小、不同形状的区域(比如,三角形[46]、四边形[47]、Voronoi图[48]等).基于边界的矢量模型将室内空间对象表示为原始几何拓扑元素,如点、线或区域.四面网状模型[49]使用4种基本几何体(包括:四边体、三角形、弧形线段、顶点),将三2.1.1对象特征模型对象特征模型主要描述室内空间不同类型对象的属性、操作以及对象之间的联系[43-44].IndoorML[43]是一种类UML建模模型,从室内元素的特性出发,将室内元素分为:子空间、墙体、可活动元素(门以及窗户)、楼层、移动元素等部分.通过UML类图,表达各个室内元素的语义信息以及空间拓扑关系.ONALIN[44]针对特殊群体在室内行走需求的本体,维对象表示为由单形构成的网状结构.棱柱模型[15]将室内空间分割成棱柱集合,使用多边形棱柱压缩技术将三维对象降至二维,每个棱柱由二维上多边形和二维下多边形构成,每个二维多边形的顶点表示成二维坐标和高度组成的(x,y,h)形式,并可利用二维DBMS实现该模型.几何空间模型可以有效地支持位置与方位信息的表达以及室内距离的计算.但由于此类模型缺乏室内空间连通性特征的有效描述(例如门和房间之间的可达性、门的通行方向等),因此不能有效支持室内导航等细粒度的室内移动对象位置相关查询.2.1.3符号空间模型符号空间模型是目前室内空间建模中最流行的方法.该模型为每个室内空间实体赋予唯一的符号ID,通过符号实体之间的相邻、可达、分割、覆盖等关联关系表达室内空间实体之间的拓扑信息,常见的表示方法包括基于集合的方法[50]、基于拓扑的方法[51]、基于格的方法[52]、基于图的方法[23,39,53]等.Becker等人[50]于2005年提出使用集合的形式来表示室内空间的位置信息,该方法可以方便地利用集合运算实现范围查询,但缺乏对室内空间的连通性Page6特性的表达,无法支持室内空间的连通性查询.Li等人[51]于2008年提出基于拓扑的语义模型,将室内空间表示为单形体集合,基于室内空间连通性定义关联强度和关联长度的概念,并对室内空间拓扑特性进行了分析.随后他们又提出了基于格(Lattice)的语义位置模型[52],将室内空间表示为概念格的结构,每个概念格的元素由(X,Y)集合元组对构成,其中X是位置的子集,Y是出口的子集,并定义室内距离支持室内空间距离查询,但室内距离定义为移动对象从室内一点移动到另一点需要通过的门数,不符合实际应用.目前国内外上比较关注的室内空间建模方法是基于图的方法.Lee等人于2001年提出的3D节点关系结构(Node-Relation-Structure,NRS)模型[39]对室内房间水平和垂直的连通关系进行了区别对待,模型将每个室内房间、过道、楼梯、出入口作为一个节点,节点间的连通关系由一条边表示,但该模型将所有室内空间区域均抽象为节点,不能支持室内距离相关的空间查询.为了支持距离相关的室内路径规划、导航及应急响应等操作,Lee等人[53]于2004年提出利用中轴线转化方法将3DNRS中关键节点扩展为线段,获得支持距离等几何属性表达的3D几何网络模型(GeometricNetworkModel,GNM).Jensen等人[23]于2009年提出了一个比NRS模型更为简洁的室内空间图模型,以所有室内空间房间元素统一作为节点,门元素作为边,分别构建基本连通图模型和基本可达图模型,表达室内空间的连通关系和可达关系.针对RFID室内定位技术,Jensen等人[21,23,27]随后提出将室内空间连通单元作为节点,以门元素作为边,建立部署图模型,可用于RFID定位的室内空间中移动对象的跟踪、连续范围的监控以及室内时空连接查询,但由于室内连通单元间的距离无法计算,无法支持室内空间距离相关查询.Yang等人[29]于2010年提出门图模型,以门元素作为节点,并以它们之间的房间单元作为边,表达室内空间距离,支持室内空间距离查询,如基于概率阈值的k最近邻查询.Lu等人[28]于2012年提出扩展图模型,基于基本可达图模型增加门与门之间的距离映射信息,支持室内距离感知类查询.此外,Yuan等人[54]于2010年提出直接路径图模型,为整个室内环境构造了虚拟网络路径,其中隐式路径线段根据室内空间形状以及接入点位置确定,支持长度依赖的最优路径寻道以及连续室内范围查询.Kang等人[40]于2010年提出可通达图模型,依据传感器覆盖范围将室内空间分为可被探测和不可被探测两类单元,以单元为节点,以单元间连通关系为边构成可通达图,用于基于传感器定位技术的室内移动对象坐标位置跟踪.可以看到,这些图模型都针对特定室内位置应用,无法满足多样化的室内位置服务与应用需求.此外,目前的符号空间模型不支持室内空间的几何特征(例如室内房间的形状、大小、边界信息,室内位置间的方向信息等),因此不能很好地支持室内空间与导航的可视化、室内空间方向查询等功能.由于室内位置具有较大的不确定性,如果没有室内空间的几何特征信息,将很难回答不确定性位置查询.2.1.4混合模型21世纪初,在人工智能领域就有研究[26,55-56]提出结合室内空间的拓扑连接信息和几何空间信息,同时支持机器人在室内行走时的路径选择和路径导航.文献[55]提出一种空间语义模型(SpatialSemanticModel,SSM),将室内空间语义区分为多个交互的表示层,如依据拓扑层的连接关系将局部几何层的元素链接在一起构成全局几何层.文献[26]提出一种多粒度抽象的图模型.该模型将室内空间抽象为不同层次,各层均以图模型表达对应粒度的室内空间区域间连通关系,且改进传统图搜索算法用于支持层次图的最优路径查询.文献[56]考虑支持室内位置查询提出一种结合室内空间基于层次的符号集合表达(HierarchicalAspect)和几何表达(CoordinateAspect)的混合位置模型(HybridLocationModel),模型将几何属性作为注解信息添加在符号集合中,能够很好地完成如k最近邻的位置类查询.Kim等人[57]于2009年提出2D~3D混合模型,使用二维楼层(2DFloorLayer)的数据结构,将三维可视化数据和二维寻道数据统一存储在空间数据库中,同时支持室内空间的三维可视化和室内空间的寻道.Becker等人[58]在2010年提出多层空间模型(Multi-LayeredSpace-EventModel),模型基于NRS结构扩展为几何空间层、拓扑结构层、传感器层、特殊场景路径层和安全区域层等多个空间层次,用于上下文感知的室内空间导航,在实际应用时选取对应层构建室内空间的n划分图,支持室内特殊场景下或紧急事件时的路径选择和室内定位.Li等人[59]在2010年提出一种基于网格的整合几何与拓扑特征的室内空间模型———网格-图混合模型,模型结合室内空间的网格表达和网格间的连接图模型,通过网格间的邻近关系和连接关系表达Page7室内空间的几何特性和连通性特性.可以看到,现有模型通常将室内要素抽象为符号表示(如“room101”,“door1”),忽视了室内空间要素的主题特性(例如,“room101是商店”),因此无法支持跟室内空间以及移动对象的语义相关的查询(如“商场中离我最近的麦当劳店在哪里?”).另外,现有模型在室内空间距离计算中通常基于门和门之间的Dijkstra距离,但室内空间通常存在着较多的障碍物影响室内通行,故直接以Dijkstra距离作为门和门之间的距离并不符合室内空间的实际特征.现有模型的另一个不足是没有顾及门的通行约束,包括通行方向约束(如大型超市、会议中心中有许多门只允许单向通行)、通行时间约束(如办公楼大门只允许在上班时间通行)、通行权限约束等(如公司机密部门的入口门只允许该部门内部人员进入)等.因此,如何建立能够支持室内空间的主题特性、几何特性、连通性特性以及距离特性等复杂空间语义,同时引入室内空间约束等规则的室内空间数据模型,将是未来研究的主要方向.2.2室内移动对象的位置与轨迹建模室内移动对象的位置建模包括当前位置模型以及移动轨迹模型两个方面.目前提出的模型大都将室内移动对象的轨迹定义为室内定位设备的感知序列,类似“(tagID,readerID,time)”[21],其中tagID是移动对象上的标签,readerID是定位感知设备标识.这种建模方法只适用于RFID或蓝牙定位系统,不适用于Wi-Fi定位场景.报告显示,Wi-Fi定位技术是目前工业界比较关注的室内定位技术[60-61],目前我国提出的“智慧城市”等建设规划也大都以Wi-Fi为基础设施.因此室内移动对象位置与轨迹模型必须要考虑对Wi-Fi定位技术的支持,建立一种室内定位数据流的统一处理方法,将不同室内定位系统下的室内移动对象位置感知数据流转换为统一的格式.此外,目前对室内移动对象数据模型的研究主要着眼于描述移动对象的位置信息,从室内位置服务的需求看,室内移动对象查询还必须依赖室内空间表示模型.综合室内空间表示模型和室内移动对象位置与轨迹模型,满足室内移动环境下位置、方向、距离等相关查询,将是未来发展的主要趋势.3室内移动对象查询处理从室内移动对象数据库应用系统架构的角度来看,室内空间的应用服务大致可以划分两类(如图2所示):一类从提供个人服务的角度,室内移动对象客户端(如智能手机)通过定位装置(如Wi-Fi定位应用)得到自身位置数据,然后通过网络向服务器报告其位置数据,并向服务器提出位置类个人服务请求,比如导航服务、跟踪定位、信息获取以及休闲娱乐等;另一类从提供公共服务的角度,服务器端接收并保存移动对象位置的位置数据,基于保存的位置数据回答用户提出的分析类公共服务请求,比如室内范围监控、大众行为预测、公共安全管理、设施规划以及应急响应等.各种场景下的各类应用服务最终都需要转换为不同类型的查询来完成,室内位置服务和分析主要依赖于高效的查询处理算法.目前研究者针对室内移动对象位置的若干查询算法已经开展了研究,分为个人服务类和公共服务类查询.其中,个人服务类查询接收传感器返回的移动对象位置记录,返回客户端用户提出的位置类服务请求结果.由于传感器返回的位置记录是离散的符号序列,室内位置相关查询首先依据传感器的部署确定移动对象的位置范围;其次,由于移动对象在室内空间受室内要素的约束,无法自由移动,室内路径查询已知起始位置和目的位置为移动对象规划最优路径;此外,室内空间的通行约束使得室内距离计算不同于传统的欧氏距离,室内距离感知查询则基于距离约束搜索符合条件的移动对象.公共服务类查询接收室内空间中移动对象历史轨迹记录集合,返回公共用户向服务器提出的分析类服务请求结果.例如,室内空间范围监控查询返回在特定时空范围内出现、进入和离开的移动对象集合;室内连接查询返回满足特定连接条件的移动对象对,用于移动对象位置间拓扑关系和距离关系的分析;室内轨迹相似性查询返回对象历史轨迹两两之间的相似度,用于轨迹聚类和位置推荐等应用.室内空间查询分类如图3所示,下面分别进行介绍.Page83.1室内空间个人服务类查询3.1.1位置相关查询由于室内空间的定位技术无法获取连续的对象位置数据,因此首先需要依据室内定位数据和室内空布局信息确定移动对象的位置信息,然后完成室内移动对象的位置相关查询.已有的位置相关查询研究包括室内移动对象跟踪定位查询[23]、室内空间成员查询[30].文献[28]针对RFID定位技术,基于室内空间部署图模型提出移动对象的在线跟踪和离线跟踪方法,依据RFID阅读器所在的覆盖范围确定移动对象的当前位置,通过RFID返回的移动对象历史轨迹数据确定移动对象过去所处的空间范围.文献[30]提出室内空间成员查询,依据室内定位技术返回的移动对象位置数据确定移动对象是否位于某室内空间区域.除了当前和历史位置查询外,文献[34]提出基于语义的室内移动对象未来位置预测分析方法,依据移动对象可能将要到达的位置,生成移动对象的未来位置序列,依据移动对象的移动速度以及位置之间的距离,计算出移动对象到达每个位置的可能时间,进而预测生成室内移动对象的未来轨迹序列.3.1.2室内路径查询室内路径查询[30,57-62]是与移动对象位置无关的确定性查询,查询从起点位置Ls到终点位置Ld的最优行走路径.依据最优路径的选择标准不同,室内路径查询包括室内导航路径查询[57,62]、上下文感知的室内导航路径查询[58,63]和室内限制性导航路径查询[30].文献[57,62]基于符号空间和几何空间的混合模型,提出室内导航查询方法,检索从室内空间起点位置Ls到终点位置Ld的最短路径.文献[58]基于室内多层空间模型提出上下文感知的导航查询方法,在实际应用时选取对应层构建室内空间的n划分图,完成室内特殊场景下或紧急事件时的导航路径选择.文献[64]对室内导航系统中的上下文信息进行了总结与分类.主要包括:以用户为中心的上下文(身体机能、喜好等)、环境上下文(时间、温度等)以及执行上下文(用户移动设备内存、处理器,无线网络等).文献[63]进一步对用户上下文信息进行了建模,主要包括用户身体机能、用户的喜好以及用户的访问权限3个方面的上下文信息.文献[30]考虑限制性的室内导航路径查询方法,利用正则表达式将用户需求转化为形式化的表达方式,再利用有限自动机和Dijkstra算法查找最短路径,满足用户在特定情况下搜索某些限制路径的查询需求.3.1.3距离感知查询典型的距离感知查询包括室内空间范围查询(查询在给定时间点It或时间范围Et距离查询点q小于r范围内的所有移动对象)[21,28,54]和室内空间k最近邻查询(查询在给定时间点It或时间范围Et距离查询点q最近的k个移动对象)[28-29,65].基于查询定义中给定的时间谓词不同,距离感知查询又可以分为快照查询(SnapshotQuery)和连续查询(ContinuousQuery)两类.快照查询返回时间点It处的查询结果,连续查询则关注时间范围Et内随时间变化的查询结果.从查询点和被查询对象的随时间变化的移动性来看,连续查询又可分为3种:(1)移动点查询静态对象(如室内移动对象查询最近的楼梯口).文献[54]提出一种移动点查询静态对象的范围查询方法,检索时间范围Et内距离移动点q小于范围r内的所有静态对象,其做法是将室内空间直接路径图划分为多个安全区域,并标记各个区域内的对象结果集.(2)静态点查询移动对象(如查询在未来一段时间内进入某店铺的顾客有哪些).文献[21]则提出一种静态点查询移动对象的范围查询方法,检索时间范围Et内距离静态查询点q小于r范围内的所有移动对象,其做法是分析空间范围Es边界处定位传感器返回的对象数据,监测进入或离开该室内空间范围的移动对象.(3)移动点查询移动对象(如查询室内空间离我最近的k个好友).室内定位技术不能提供连续移动的对象方向和速度数据,故无法量化计算移动点和移动对象之间的距离,因此对该类连续的距离感知查询研究较少.由于室内距离的定义不同于欧氏距离或路网距Page9离,室内距离感知查询需要扩展室内空间模型.文献[28]基于带距离映射信息的扩展图模型,生成室内空间全局距离矩阵,支持距离查询点q的范围查询和k最近邻查询,但该查询方法针对固定的对象位置数据,并没有考虑室内空间移动对象位置的不确定性.文献[29,65]则考虑移动对象所处的不确定范围,分别计算对象距离查询点q的最短和最长距离,通过最短距离剪枝方法筛除不满足查询条件的移动对象.3.2室内空间公共服务类查询3.2.1范围监控查询室内移动对象在室内空间的拓扑关系相对室外空间比较单一,比如“在…内部”、“进入”、“经过”或“离开”,因此,室内空间范围监控查询主要包括时空范围查询(查询在给定时间范围Et位于给定空间范围Es内的移动对象)以及室内逻辑查询(查询在给定的时间范围Et进入、离开或经过给定的空间范围Es的移动对象)两类.Jensen等人[22]于2009年提出了两种室内空间索引RTR-tree,TP2R-tree支持时空范围查询.RTR-tree扩展了R-tree索引,将阅读器标号作为垂直轴,用于表示轨迹经过的阅读器ID;时间作为水平轴,用于表示轨迹记录对应的时间.每条轨迹记录(recordID,tagID,readerID,ts,te)表示为一条水平的线段.TP2R-tree将轨迹记录表示为二维平面的一个点以及一个时间参数,其中时间参数表示该记录的持续时间长度.由于缩小了每条记录节点对应MBR的面积,因此提高了时空范围查询效率.实验表明,这两类索引能快速的查找符合约束条件的轨迹记录.Yang范围监测查询,基于空间范围Es边界处定位传感器在时间范围Et返回的对象数据,连续监测随时间变化进入或离开空间范围Es的移动对象.3.2.2室内连接查询文献[27]对室内移动对象历史轨迹数据的概率自连接查询进行了研究.概率自连接查询返回在时间点It或时间范围Et内的k个连续时刻,两个对象位于同一语义范围的概率大于阈值M的所有对象对〈oi,oj〉.算法采用基于哈希的两阶段连接技术.首先查询一维时间索引A1R-tree,方便地获取候选对象集.然后建立语义范围到定位设备覆盖范围以及单元房间的映射表.通过基于哈希的划分(Hash-basedPartitioning)以及连接(Join)两个步骤得到最终结果.在执行的过程中,针对不同的情况,给出了对应的剪枝规则,用于快速缩小候选集,提高查询效率.室内空间的定位技术无法像GPS那样获取连续且相对密集的对象位置、方向和速度数据,且室内应用的精度要求远远高于室外,故室内移动对象具有较大不确定性.因此,室内空间查询通常需要限定概率阈值M,假设移动对象在不确定范围内均匀等概率分布,返回满足查询时空谓词的概率值大于M的所有移动对象集合.文献[27]考虑室内移动对象位置的不确定性提出室内概率阈值时空连接查询,查询满足给定时空条件和概率阈值条件的室内移动对象组合.此外,文献[29]同样考虑室内移动对象位置的不确定性提出室内空间概率阈值的k最近邻查询,查询满足概率阈值条件下室内空间离某点位置最近的k个移动对象,通过距离剪枝、概率验证和细化计算三阶段确定符合条件的移动对象结果集合.3.2.3轨迹相似性查询对历史数据的查询分析[36-37]的一项基础性共性工作是对室内空间移动对象历史轨迹的相似性度量.衡量两条由符号表达的室内轨迹的相似度,传统的方法有最长公共子序列(LongestCommonSub-Sequence,LCSS)和编辑距离(EditDistance,ED).传统的方法固然可以比较相似度,但是考虑的都不够充分,如LCSS和ED只考虑了轨迹的相似度,而没有考虑到室内移动对象的轨迹特征.针对RFID定位的室内移动对象数据,文献[37]提出了移动对象历史轨迹的相似性度量方法,该方法同时考虑移动对象轨迹序列的欧氏距离和编辑距离,避免移动对象轨迹间由于长度不同、时间维漂移或奇异点等因素带来的相似性度量误差,更加准确地反映移动对象轨迹序列的相似度.但该方法仅考虑移动对象空间位置信息,没有考虑其轨迹序列的时间信息.文献[36]则考虑移动对象历史轨迹的时空相似度提出了多种室内移动轨迹相似性度量方法,同时考虑移动对象的访问位置、停留时间以及访问位置的热度3种信息,并应用于室内个性化位置推荐中.此外,对历史数据的查询分析通常需要查询大量的已保存的历史轨迹数据,这需要好的索引结构的支持.由于室内移动轨迹是形如“(loc,[ts,te],v)”的序列,如果我们不考虑时间区间[ts,te]里对象的移动,则室内移动轨迹就变成由二维空间和时间维构成的三维空间中的水平或垂直柱状体,如图4所示.如果考虑对象在时间区间[ts,te]里的移动,则需要引入插值方法对对象的移动轨迹进行推测,如图4所示.Page10总体而言,目前的室内移动对象位置查询基本上都基于符号空间模型(其中以图模型为主).由于现有的符号空间模型在室内空间语义描述上存在不足(例如缺乏室内空间要素的主题特性、几何特性、连通性特性以及距离特性的描述,缺乏方向约束的表达等),因此现有的室内移动对象位置查询方法并不能支持多样化的室内位置查询需求,尤其是跟室内空间以及移动对象的语义相关的查询(如“商场中离我最近的Nike专柜在哪里?”).此外,对于商场、地铁运营管理部门等室内空间的所有者来说,他们更关心室内移动轨迹历史数据的分析操作(如根据商场顾客的室内移动轨迹对顾客群体进行分类从而发现潜在的购买者并进行个性化广告推送),但目前针对室内移动历史轨迹的分析方法研究较少,值得深入研究,如室内空间热点区域查询、室内空间区域密度分析以及室内空间频繁/异常运动模式等.4室内移动对象索引技术为了提高室内移动对象的查询性能,需要引入有效的室内移动对象索引技术来减少搜索空间,有效地实现对室内移动对象的查询操作.目前的移动对象索引技术主要基于室外空间中的GPS定位数据,移动对象的位置信息被表示在由时间和空间属性构成的三维空间中,移动对象索引技术也是在传统空间索引技术的基础上增加时间维并进行修改和完善的.其中最常见的是基于R-tree的移动对象索引,如TB-tree[66]、3DR-tree[67]、HR-tree[68]、MV3R-tree[69]等针对移动对象历史轨迹的索引以及TPR-tree[70]、TPR-tree[71]等针对移动对象当前位置和未来位置的索引.另外,基于路网的移动对象索引通常采用先对路段建立R-tree索引,然后再对路段上的移动对象进行索引的方式[72].室外空间索引结构都基于二维的欧氏空间或是道路网络结构,而室内空间中对象的移动受室内空间要素(如房间、门、走廊等)的限制,需要考虑室内空间的连通性等空间约束.此外,室内定位技术通常采用符号化的相对坐标表示位置,这与室外空间的经纬度坐标不同.最近的研究工作开始关注室内空间中移动对象的索引研究[22,28,41],依据索引对象的不同,可以分为室内空间单元索引和室内移动对象索引两大类.4.1室内空间单元索引室内空间单元索引依据移动对象所在室内空间单元的距离特性和连通性建立:文献[28]中提出了DPT(Door-to-PartitionTable)索引结构,该索引采用室内空间门距离矩阵表达室内空间单元间距离关系,以门元素为主键,对通过门到达的室内空间单元内移动对象进行哈希索引,支持室内距离感知查询.但DPT要求事先计算室内空间全局门距离矩阵,不能适应室内空间布局的变化.文献[65]考虑室内空间布局的变化,避免使用全局门距离矩阵建立索引结构,而是建立室内空间和移动对象的复合索引结构(CompositeIndex).复合索引首先基于室内空间单元邻近关系建立空间索引R-tree,然后以室内空间单元为主键,对其中的移动对象进行哈希索引.复合索引在完成室内距离感知查询时,考虑两点之间的室内距离必定大于欧氏距离这一现象,首先依据欧氏空间范围在R-tree内搜索与本次距离查询相关的室内空间单元,再利用Dijkstra算法计算相关单元间的最短路径,支持室内距离相关查询.文献[73]中针对室内连通性相关查询提出了Indoor-tree.它首先基于室内空间单元间连通性建立树型索引,然后以室内空间单元为主键,对其中的移动对象进行哈希索引.DPT、复合索引和Indoor-tree都只针对特定的室内查询而设计(见表1),对其他的室内位置相关查询与分析操作的有效性还有待进一步研究.Page114.2室内移动对象索引室内移动对象索引针对室内定位技术返回的符号化表达的对象位置数据建立:文献[22]中提出了两种基于R-tree的室内移动轨迹索引结构RTR-tree和TP2R-tree.RTR-tree将室内移动对象的轨迹表示为若干水平线段,TP2R-tree则把轨迹表示为一个带时间参数的点,从而可以有效支持室内空间的范围查询与轨迹查询.但由于索引没有考虑符号化表达的室内空间要素之间的连通性和距离关系,因此无法支持室内空间关系查询和室内空间距离相关查询,并且RTR-tree中移动对象位置更新代价较高.文献[38]在RTR-tree轨迹索引基础上,另外增加一棵R-tree索引对象,形成了DR-tree(DualR-tree).这一索引有助于改进室内轨迹查询的性能,但增加了空间开销.文献[41]提出的ACII索引使用双层结构MC和MEMO分别对当前时刻和历史时间区间两种时态的室内移动对象数据进行索引:MC结构基于室内空间单元邻近关系建立空间索引树,并以单元为主键对当前时刻下其中的移动对象建立哈希索引,MEMO结构以移动对象为主键,管理移动对象在历史区间内的轨迹数据.虽然该索引增加了空间开销,但由于室内移动对象位置索引和轨迹索引的数据不存在着交集,因此并不会带来额外的索引存储代价.该索引支持全时态的移动对象查询,但没有考虑室内空间单元的距离关系和连通性,也无法支持室内空间关系查询和室内距离查询.表1室内移动对象索引总结室内空间单元索引室内移动对象索引5未来的研究展望室内移动对象数据管理是移动对象数据库与位置服务技术的未来发展方向之一,它对于解决目前以及未来室内位置服务、轨迹分析以及应用的基础理论问题,提高室内位置相关应用的效率和效果有着十分重要的意义.目前,国内外虽然提出了一些基本的模型与算法,但缺乏对室内空间复杂空间语义的系统性描述,所提出的方法还不能适应多样化的表1给出了上述几种室内空间单元索引和室内移动对象索引的对比.图5从更新代价和存储代价的角度对以上介绍的室内移动对象索引进行了总结.总体而言,室内移动对象索引结构首先受到室内空间表示模型的约束,因为许多室内移动对象查询都与室内空间的连通性、距离度量等因素有关,由于已有的室内空间表示模型缺乏复杂空间语义表达能力,故限制了室内移动对象索引的查询能力.此外,已有的索引结构普遍缺乏对室内移动对象位置更新性能的优化.因此,首先研究基于室内空间表示模型的室内空间索引结构,在此基础上建立针对室内移动对象当前位置与轨迹的索引,并进一步研究索引的更新性能优化技术,将成为未来室内空间索引技术的发展趋势.支持的查询类型室内距离查询室内距离查询室内连通性查询室内时空范围查询室内对象轨迹查询全时态移动对象查询室内移动对象查询以及位置更新的性能需求,在室内空间查询处理方面还存在着较大的提升空间.本节主要讨论该领域未来的一些研究趋势.5.1支持复杂空间语义的室内空间表示模型室内空间表示模型的难点在于如何表达室内空间复杂的空间语义.已有的室内空间表示模型通常将室内要素抽象为符号(如“room1”),忽略了室内空间要素的主题特性(例如,“room1”是商店)和几何特性(例如,“room1”是四边形),缺乏对室内空间距离关系、方向关系的表达以及室内空间约束的有Page12效支持.未来研究可以考虑建立支持复杂空间语义(包括室内空间的主题特性、几何特性、连通性特性以及距离特性等)的室内空间数据模型.例如,将室内空间抽象为基于几何实体的有向连通图建模.房间和门都定义为空间几何实体,通过唯一的实体ID、主题描述子(ThematicDescriptor)和几何描述子(GeographicalDescriptor)来描述.描述子是一个属性的集合,其中主题描述子给出了实体与应用环境相关的属性,而几何描述子则给出了实体的矢量边界.引入几何特性的表达后,可以使得室内空间模型很好地支持室内位置服务查询,例如范围查询、导航等.图6给出了一个楼层的室内空间示例,其中门用符号di表示,房间用符号ri表示.对应的基于几何实体的有向连通图模型如图7(a)所示.其中,门和房间之间的边权值表示了门到房间中心点的距离.由于房间中常常存在着桌子、柜子等障碍物,因此采用这种方式来计算门和门之间的距离是一种合理的方法.门和房间都表示为几何实体,包含有对象标识图7对应室内空间的基于几何实体的有向连通图模型5.2支持不同定位技术的室内移动对象模型室内移动对象的定位技术包括RFID、蓝牙等基于阅读器(Reader)的方式以及Wi-Fi等基于无线访问节点(AccessPoint,AP)和电子地图(RadioMap)的方式.前者当移动对象进入预先部署的阅读器时,产生形如“(tagID,readerID,time)”的定位数据流.后者预先测量好每一区域内的Wi-Fi信号强度,建立格式为“(location,signalstrength)”的电子地图,然后将移动对象在不同AP上测得的信号强度与电子地图进行相似性匹配,产生形如“(deviceID,location,time)”的定位数据流,其中deviceID是移(OID)、主题描述子和几何描述子,如图7(b)所示.由于室内空间中的门往往代表了室内方向约束,因此可以引入门和房间之间的有向边来表达这种方向约束.例如在图7中,我们用白色背景的圆形符号表示了普通门,用黑色背景的圆形符号表示了单向门(d4,d5,d8,d9),用灰色背景的圆形符号表示了虚拟门d7.动对象的标识(如手机).已有的室内移动对象轨迹模型研究中,大都只考虑了基于RFID的定位技术,无法支持Wi-Fi等多种定位技术下的室内移动对象管理.因此,未来研究有必要建立一种室内定位数据流的统一处理方法,将Wi-Fi定位数据流转换为虚拟的阅读器定位数据流.例如,对电子地图进行预处理,加入一系列虚拟的readerID,从而实现不同定位数据流统一化表达为“(tagID,readerID,time)”(如图8所示),使得室内移动对象数据库技术的研究能够适应不同定位系统.Page13图8将电子地图(RadioMap)定位转换成虚拟阅读器定位在定位数据流统一化的基础上,可将室内移动对象定义为IndoorMO=(deviceID,attributes,trajectory),其中,deviceID为移动对象的标识,attributes为移动对象自身的属性描述,trajectory为移动对象的室内轨迹信息.trajectory可以定位为location的一个序列,location定义为在对象位置序列中增加对象的移动速度信息v,依据所处房间不同分为步行速度和电梯速度两类,可以用于推测移动对象的完整历史轨迹或预测移动对象的未来运动轨迹.5.3室内空间及全时态移动对象索引结构由于缺少室内时空索引的支持,对于已有的时空查询,随着对象数据量的增加查询性能会急剧下降.室内空间中的移动对象查询需要同时引用室内空间信息以及移动对象的位置和轨迹信息,因此,未来研究需要对室内空间和移动对象同时进行索引.例如,室内空间可以采用水平空间划分的索引策略,即为每一楼层中的室内空间要素建立索引(如图9所示).一般情况下,由于一个楼层中的房间和门的数量不会太多,因此,单个楼层索引采用少量的磁盘块就可以维护,故最坏情况下室内空间索引查找代价约为O(m)/n,其中m为室内空间数据所占的总数据块数,n为楼层数.为支持路径查询和最近邻查询等,还可在楼层空间索引的叶节点中为每一个房间实体扩充信息,加入与房间相连通的所有门以及距离信息.由于与一个房间相连通的门不会很多,因此这种方法所带来的空间代价有限,同时可以回答室内连通性和距离相关的查询.对于室内移动对象,可以考虑建立独立的位置索引和轨迹索引来满足这两类查询的需求.由于室内移动对象位置索引和轨迹索引的数据不存在着交集,因此不会带来额外的索引存储代价.室内移动对象的当前位置索引所针对的数据对象是“(tagID,location,time)”,考虑到当前位置索引的都是当前运动在室内空间中的对象,数据量相对较小,因此可以直接采用对时间点建立B+-tree的索引方式,或者针对位置建立R-tree的方法.对于室内移动轨迹索引,由于室内移动轨迹是形如“(loc,[ts,te],v)”的序列,如果我们不考虑时间区间[ts,te]内对象的移动,则室内移动轨迹就变成由XY空间和时间维构成的三维空间中的水平或垂直线段,可以考虑改进时态数据库中的区间树索引.如果考虑对象在时间区间[ts,te]里的移动,则可以引入插值方法对对象的移动轨迹进行推测,则可以考虑以TPR-Tree为基础进行设计.此外,为提高全时态索引的更新性能,可以引入位置更新缓冲区方法对历史轨迹插入请求进行缓存(如图10所示),并且设计基于轨迹相似性的缓冲区合并写出算法来减少对轨迹索引的更新操作.由于在轨迹索引中,时空相似的轨迹倾向于存储在同一节点,因此这种合并更新的策略理论上有助于减少对轨迹索引节点的写操作,从而提升更新性能.图10基于更新缓冲区的室内移动对象轨迹合并更新策略5.4语义相关的室内位置应用目前的室内移动对象位置查询基本上都基于符号空间模型,由于现有的符号空间模型在室内空间语义描述上存在不足,因此现有的室内移动对象位Page14置查询方法并不能支持多样化的室内位置查询需求,尤其是跟室内空间以及移动对象的语义相关的查询(如“商场中离我最近的Nike专柜在哪里?”).未来研究可以考虑在已有的室内表示模型中增加语义表示层,表达室内空间单元及移动对象的语义信息,支持语义相关的室内位置应用查询.例如,在室内空间分层表示模型[59]中增加语义表示层(如图11所示),每个语义关键词作为一个节点,对象实体节点(如房间节点、门节点或移动对象节点)与语义关键词之间的链接表示语义关系(如“room1”房间节点与“toy”关键词之间的连接关系说明“room1isatoyshop”).可以看到,一个对象实体节点可能与多个语义关键词节点连接,表示该对象实体的多条语义属性信息.图11增加语义表示层的室内分层表示模型为支持语义属性信息相关的室内位置应用查询(如“商场中离我最近的Nike专柜在哪里?”),需要检索哪些对象实体具备该条语义属性信息(如“商场中哪些店铺是Nike专柜?”),即检索哪些对象实体节点与该语义关键词节点相连(例如,哪些对象实体节点与“Nike”语义关键词节点相连?).因此,以语义关键词为主键,对与该语义关键词关联的对象实体
