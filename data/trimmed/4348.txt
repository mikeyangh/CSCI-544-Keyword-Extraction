Page1具有偏序属性的偏爱Pareto占优关系曾三友1)秦莎1)李长河1)张青2)丁立新3)1)(中国地质大学计算机学院武汉430074)2)(黄冈师范学院计算机学院湖北黄冈438000)3)(武汉大学软件工程国家重点实验室武汉430072)摘要K个目标的多目标优化问题的经典Pareto最优前沿通常是K-1维的,当K>3时,父亲群体和儿子群体常常全都非劣,以致于多目标演化算法无法进行优胜劣汰操作而失效.文中提出一种具有偏序属性的新型Pareto占优关系,称之为偏爱Pareto占优.它能够缩小Pareto集合的规模,因而只要用偏爱Pareto占优关系替代原有的经典占优关系,现有的多目标算法就可以有效地求解“很多”目标的优化问题.关键词多目标演化算法;多目标优化;偏序关系1引言多目标演化算法通常为决策者提供了一个具有适当多样性分布的近似Pareto最优集.它们能够有效地求解2个或3个目标的优化问题.然而实际优化问题大多超过3个目标,是“很多”目标的优化问题.求解这类“很多”目标优化问题时,几乎所有的多目标演化算法都失败.其原因在于:K个目标优化问题的Pareto前沿通常是K-1维的,当K>3时,父亲群体和儿子群体常常全都非劣,以致于多目标演化算法无法进行优胜劣汰操作而失效.更加极端的情况是Pareto最优集合就是决策空间本身,多目标优化算法求解这类问题失去意义.Page2注意:MOEA/D[1]是个例外,它把多目标问题转化为单目标优化问题群体,然后对群体单目标优化问题进行协同进化求解,从而求解多目标优化问题,不是直接在Pareto占优关系下搜索.在“很多”目标情况下,决策者可能希望从其偏爱(Preference)的子Pareto最优集中挑选一个其偏爱的解,也可能从其它角度找到突破口.正因为如此,“很多”目标的优化问题成为了目前演化计算的一个挑战问题.2002年Coello等人[2]在专著中指出实际优化问题大多有3个目标以上,Coello等人[2]主张将决策者偏爱融入算法,搜索决策空间的子集,减少算法的输出;而Knowles[3]则强调Pareto多样性搜索的重要性;Khare等人[4]比较了NSGA-II[5],PESA[6]和SPEA2[7]3个算法,发现随着目标的增加,他们的收敛和分布性能逐步退化,且程度各不相同.Purshouse和Fleming[8]提到虽然NSGA-II对于2、3个目标很有效,但对于“很多目标”情形,效果很差;Hughes[9]比较了基于Pareto的演化算法和基于非Pareto机制的演化算法,发现在“很多目标”情形下,基于Pareto的演化算法比基于非Pareto机制的演化算法效率差;Kukkonen和Deb[10]研究了在Pareto集合中快速地选择“好”的子集;Brockhoff和Zitzler[11]提出对多目标降维;Kang等人[12]根据投票原理(E-Optimality)定义占优关系,Farina和Amato[13]及Sato等人[14]改进Pareto占优,Koppen和Yoshida[15]改进非劣元素的密度评估,Corne和Knowles[16]及Kukkonen等人[17]根据非劣元素的目标平均值进行分级,以便缩小最优集合,Branke[18]及Ishibuchi和Nojima[19]改进目标函数,Jaszk-iewicz[20]引入局部搜索机制,Laumanns等人[21]提出一个松弛的Pareto占优ε-dominance作为维持群体收缩性与多样性的平衡机制.Evan[22]用一个很典型的雷达天线设计问题作为“很多”目标演化算法的Benchmark测试问题.Ishibuchi等人[23]介绍了“很多”目标问题优化所面临的困难以及其应用前景,虽然“很多”目标优化研究相对较晚,研究成果很少而分散,却已经成了越来越热的研究主题.以“manyobjective”、“evolutionary”为关键字在“EngineeringVillage”上搜索近5年来(2009年~2013年)会议IEEECongressonEvolutionaryComputation文章中有38篇该方向的论文,文献[24]是最新最典型的求解“很多”目标问题的文章;期刊IEEETransac-tionsonEvolutionaryComputation有8篇,如最新典型文献[25].本文针对很多目标(K>3)优化问题,在方法上挑战如何恢复现有多目标演化算法的效率.提出一种偏爱Pareto占优关系,它与经典Pareto占优关系一样具有偏序属性,因而在新的Pareto占优关系下,经典的多目标演化算法能照常运行,同时决策者可以根据其偏爱调节偏爱参数,既可以恢复算法的效率,又可以使新型的最优集合朝着其偏爱的方向缩小,最终选择满意的最优解.2预备知识不失一般性,本文考虑最小化问题,先回顾一下多目标优化相关概念[26].定义1.多目标优化问题(MOP).一个一般的MOP包括N个决策变量、K个目标函数、L个约束条件.目标函数和约束条件是决策变量的函数.优化目标为min狔=犳(狓)=(f1(狓),f2(狓),…,fK(狓))烄st.to犲(狓)=(e1(狓),e2(狓),…,eL(狓))0where狓=(x1,x2,…,xN)∈X烅X={(x1,x2,…,xN)lixiui}犾=(l1,l2,…,lN),狌=(u1,u2,…,uN)狔=(y1,y2,…,yK)∈烆狓为决策向量,狔为目标向量,X表示决策空间,犾和狌分别为下界和上界,Y为目标空间.定义2.可行集.可行集是一个决策向量的集合,它满足定义3.Pareto占优.任何两个决策向量狓1和狓2,定义狓1狓2犳(狓1)犳(狓2)烄狓2狓1犳(狓2)犳(狓1)烅狓1~狓2犳(狓1)/犳(狓2)∧犳(狓2)/犳(狓1烆若狓1狓2,称狓1占优狓2;若狓1~狓2称狓1与狓2不可比.这里狓1,狓2∈Xf,犳(狓1),犳(狓2)为目标向量.犳(狓1)犳(狓2)是指犳(狓1)的所有分量都小于等于犳(狓2)的分量.定义4.设犪为可行的决策向量,即犪∈Xf,犪关于集合AXf是非劣的,当且仅当这里符号“/”表示“不存在”.定义5.非劣集和非劣前沿.M(A,)表示Page3集合A上的全部非劣决策向量所组成的集合,集合M(A,)叫做集合A的非劣集,相应的目标向量集合犳(M(A,))叫做A的非劣前沿.进一步,集合Q=M(Xf,)叫做Pareto最优集,相应的目标向量集合犳(Q)叫做Pareto前沿.3偏爱Pareto占优关系当目标个数很多(K>3)时,经典多目标演化算法几乎都失效.原因是:群体的非劣集合太大,甚至就是群体本身.由于非劣元素之间不可比,优胜劣汰操作就会失效,以致于算法无法收敛.恢复多目标演化算法效率的一个途径是:提出一种偏爱Pareto占优关系,这个新型占优关系与经典Pareto占优关系一样具有偏序属性.这样,经典的多目标演化算法一方面能照常运行,另一方面决策者可以根据其偏爱调节偏爱参数,缩小群体非劣集合,恢复优胜劣汰操作的功能,获得满意的最优解.由于决策向量之间的占优关系由其目标向量决定,下面我们在目标空间中讨论占优关系.3.1二维直观情形下引入新型占优概念为了方便读者理解新型占优概念,先以两个目标简单情形为例,直观地引入新型占优关系.然后就一般情况进行严格定义.图1同一目标空间赋予两种不同的占优关系偏爱Pareto占优关系正是我们所期望的.然而,虽然肉眼很容易看出两个点的优劣关系,但是如何用计算机形式化判断两点是否具有这种偏爱Pareto占优关系呢?我们能够用计算机形式化判断经典Pareto占优关系,因此一种途径是:首先通过在具有经典Pareto占优关系的目标空间里,过任一点B分别作水平和垂直分划线,它划分目标空间成4个区域,如图1(a).左下方区域的点优于点B,如点A优于点B,称这个区域为点B的优域;右上方区域的点劣于点B,如点C劣于点B,称这个区域为点B的劣域;而另两个区域(点B的左上方和右下方区域)里面的点与点B不可比,如点E、F、G、H、K、L与点B不可比,称这两个区域为点B的不可比域.旋转过点B的两条分划线,使两个不可比域的对顶角由直角减小成锐角,而优域和劣域组成的对顶角则由直角扩大成了钝角,这缩小了不可比域,扩大了优域和劣域,如图1(b).这实际上在目标空间里建立了一个新型占优关系,称之为偏爱Pareto占优关系:点A仍然优于点B,点C仍然劣于点B;点E、F与仍然点B不可比.但是,点G、H离原劣域近,它们从原来的不可比域划到了新的劣域,从而劣于点B.而点K、L离原优域近,它们从原来的不可比域划到了新的优域,从而优于点B.因此,相对于经典Pareto占优关系,偏爱Pareto占优关系缩小了点之间的不可比性,扩大了可比性.用偏爱Pareto占优关系替代经典Pareto占优关系,演化算法群体的非劣集合将缩小,从而有利于恢复优胜劣汰操作功效.线性变换把具有偏爱Pareto占优关系的原目标空间同构变换到具有经典Pareto占优关系的新目标空间,然后跟据两个点的像点在新目标空间里是否具有经典Pareto占优关系来判断它们在原目标空间里是否具有偏爱Pareto占优关系.Page4首先,这个线性变换P具有性质:把原目标空间中优、劣、不可比域的两条斜分划线变成新目标空间中优、劣、不可比域的两条互相垂直分划线.如图2,原目标空间(图2(a))过点B的两条斜分划线,变成了新目标空间(图2(b))过点B的两条互相垂直分划线.在这个线性变换P下,原目标空间的点A、B、C、E、F、G、H、K、L及向量犳1、犳2变到新目标空间像点A、B、C、E、F、G、H、K、L及向量犳1、犳′2.这就是说,线性变换P把具有偏爱Pareto占优图2图示线性变换把具有偏爱Pareto占优关系的原目标空间变换到具有经典Pareto占优关系的新目标空间注意:图1表示同一目标空间赋予两种不同的占优关系,图1(a)上赋予了经典Pareto占优关系,图1(b)上赋予了偏爱Pareto占优关系.图2表示两个不同的但是同构的目标空间,图2(a)表示原目标空间上具有偏爱Pareto占优关系,图2(b)表示像目标空间上具有经典Pareto占优关系.3.2犓维情形下定义新型Pareto占优关系K阶线性变换可以通过K阶矩阵犘来实现:狔=(y1,y2,…,yK)T∈Y,Y为原目标空间,狔=(y1,y2,…,yK)T∈Y,Y为新目标空间,为了方便线性变换的矩阵描述,从现在起目标向量写成列向量的形式.并且新老目标空间均在直角坐标系O-(犳1,犳2,…,犳K)下,其中,O为原点,犳1,犳2,…,犳K为单位基向量:犳1=关系的原目标空间变换到具有经典Pareto占优关系的新目标空间,注意:变换P可以用P(犳1)=犳1和P(犳2)=犳2唯一决定.其次,原目标空间两点具有偏爱Pareto占优关系的充要条件是其像点在新目标空间具有经典Pareto占优关系,因此,线性变换P是同构变换.本文后面将根据两个点的像点在新目标空间里是否具有经典Pareto占优关系来判断它们在原目标空间里是否具有偏爱Pareto占优关系.第一象限,也就是变换矩阵犘满足属性:根据上节讨论,它们的像犳1,犳2,…,犳K必定在非负向量变换成非负向量.注意:有负分量的目标向量也可以变为非负向量,这与上面的属性不矛盾.向量的充要条件是犘为非负矩阵.定理1.变换矩阵犘将非负向量变换成非负证明.充分性显然成立.下面用反证法证明必要性.假设P中有一个元素pij<0,取非负向量狔=(0,0,…,0,1,0,…,0)T,其中第j个分量为1,其余分量为0,执行变换P狔=狌后,将有狌=(u1,u2,…,ui-1,pij,ui+1,…,uK)T,其中第i个分量为pij,由假设知,pij<0,这与向量狌非负相矛盾.定义6.偏爱Pareto占优.设犘为K阶非负矩阵,对于任何两个决策向量狓1和狓2,定义狓1犘狓2犘犳(狓1)犘犳(狓2)狓2犘狓1犘犳(狓2)犘犳(狓1)狓1~犘狓2犘犳(狓1)/犘犳(狓2)∧犘犳(狓2)/犘犳(狓1)称犘为偏爱矩阵.Page5定理2.若犘可逆且目标函数向量犳(狓)可逆,则犘是偏序关系.证明.(1)由于犘犳(狓1)=犘犳(狓1),有犘犳(狓1)犘犳(狓1),则狓1犘狓1,因此满足自反性.(2)设狓1犘狓2且狓2犘狓1,就有犘犳(狓1)犘犳(狓2)和犘犳(狓2)犘犳(狓1),必有犘犳(狓1)=犘犳(狓2),由犘可逆性及犳(狓)可逆性,得狓1=狓2,于是满足反对称性.(3)设狓1犘狓2且狓2犘狓3,有犘犳(狓1)犘犳(狓2)和犘犳(狓2)犘犳(狓3),由此推出犘犳(狓1)犘犳(狓3),得狓1犘狓3,于是满足传递性,结论得证.大多数多目标优化算法从目标空间看Pareto最优分布,即Pareto前沿分布,此时定理2中目标函数向量犳(狓)可逆要求可以取消,但是从决策空间看Pareto最优分布,需要犳(狓)可逆,决策空间Pareto最优分布讨论见文献[27].下面定理体现经典Pareto占优与偏爱Pareto占优的关系.定理3.狓1和狓2为两个决策向量,若狓1狓2,则狓1犘狓2.证明.由狓1狓2,根据定义3有,我们犳(狓1)犳(狓2),即犳(狓1)-犳(狓2)0.由于偏爱矩阵犘非负,有犘(犳(狓1)-犳(狓2))0,得犘犳(狓1)犘犳(狓2),根据定义6,有狓1犘狓2,定理得证.定理3的逆命题不一定成立,例如,K=2的情形,记狔1=犳(狓1),狔2=犳(狓2)令犘=有狔1/狔2,因此狓1/狓2.但是定义7.设犪为可行的决策向量,即犪∈Xf,犪有犘狔1犘狔2,于是狓1犘狓2,成立.关于集合AXf是偏爱非劣的,当且仅当这里符号“/”表示“不存在”.定义8.偏爱非劣集和偏爱非劣前沿.M(A,犘)表示集合A上的全部偏爱非劣决策向量所组成的集合,集合M(A,犘)叫做集合A的偏爱非劣集,相应的目标向量集合犳(M(A,犘))叫做A的偏爱非劣前沿.进一步,集合Q=M(Xf,犘)叫做偏爱Pareto最优集,相应的目标向量集合犳(Q)叫做偏爱Pareto前沿.根据定理3及偏序关系的属性,有如下推论.推论1.集合A的偏爱非劣集是A的非劣集的子集,A的偏爱非劣前沿是A的非劣前沿的子集.当偏爱矩阵犘是单位矩阵时,偏爱Pareto占优退化为经典Pareto占优.4偏爱矩阵举例有种偏爱如下:如果目标向量狔1的某个分量较大地优于狔2的相应分量,而其余的分量稍微劣于狔2的对应分量,决策者可能认为向量1优于向量2.例如:狔1=(10,10,10)T,狔2=(100,9,9)T,决策者会认为狔1犘狔2.这个偏爱可表示成把狏1,狏2,…,狏K变换到犳1,犳2,…,犳K的线性变换犘:狏1=(v1,1,-v2,1,…,-vK,1)T犳1=(1,0,…,0)T狏2=(-v1,2,v2,2,…,-vK,2)T犳2=(0,1,…,0)T…狏K=(-v1,K,-v2,K,…,vK,K)T犳K=(0,0,…,1)T即犘[狏1,狏2,…,狏K]=[犳1,犳2,…,犳K],vi,j0,i,j=1,2,…,K.vii>v1,i+…+vi-1,i+vi+1,i+…+vK,i(9)记犞=[狏1,狏2,…,狏K]=及E=[犳1,犳2,…,犳K]=得变换矩阵为对于式(10)中矩阵犞,有如下定理.定理4.若vi,j0,i,j=1,2,…,K,且vii>v1,i+…+vi-1,i+vi+1,i+…+vK,i,i=1,2,…,K,即犞是一个严格对角占优矩阵,则犘=犞-1是非负矩阵,即矩阵元素均为非负元素,于是非负向量变换成非负向量.证明.犞中第1列乘以v1,2/v1,1后加到第2列,即相当于对犞右乘以初等矩阵犈(2,1(v1,2/Page6v1,1)),消除v1,2,得犞犈2,1v1,2v1,()()1=类似可消除v1,3,…,v1,K,得类似通过左乘初等矩阵,可消除第1列犞犈2,1v1,2v1,()()1犈3,1v1,3v1,()()1v1,1熿-v2,1v2,2-v1,2v2,1v1,1…-vK,1-vK,2-v1,2vK,1v1,1燀令犈1=犈2,1v1,2v1,()()1犈3,1v1,3v1,()()1犈K,1v1,Kv1,()()1v1,10…0熿0v2,2-v1,2v2,1v1,1…………0-vK,2-v1,2vK,1v1,1燀第1行第1列元素单位化v1,()()1犈K,1v1,Kv1,()()1犈1110…0熿0v2,2-v1,2v2,1v1,1…………0-vK,2-v1,2vK,1v1,1燀令犈1=犈11即犈1犞犈1=燄,.,,,令犞K-1=犞K-1也是一个严格对角占优矩阵,且主对角元素为正,其余元素均为负或零.比如犞K-1的第1列中,主对角元素:其它元素:主对角元素减去所有其他元素绝对值:同理,犞K-1的其它列有类似的结论.类似于犞的第1行第1列的处理,依次消除式(12)中矩阵第2行第2列,…,第K行第K列的非对角元素并单位化对角元素,得有犞-1=犈1犈2…犈K犈K…犈2犈1.我们知道犈i,犈i由一系列初等矩阵的乘积组成,这些初等矩阵均为非负矩阵,故犞-1是非负的,定理4得证.定理4为我们提供了构造一类偏爱Pareto占优关系所要求的非负变换矩阵犘的方法,值得一提的是犘可逆.注意:前面讨论中的犞不是偏爱矩阵,其元素可以为负.其逆矩阵犘=犞-1才是偏爱矩阵,是非负矩阵.下面试图通过几个例子在物理直观上讨论这类偏爱矩阵如何影响最优解.我们给出4个经典意义下Pareto最优前沿:二维情形下,凸、凹各1个;三维情形下,凸、凹各1个.用不同的偏爱矩阵作用于这4个最优前沿,观察偏爱Pareto最优前沿的变化.这4个经典Pareto前沿为Page7(1)心为(1,1),半径为1的圆分别与x轴y轴相切,两切点之间的靠近原点的1/4圆周,如图3(a)所示.它是凸的.(2)圆心在原点,半径为1位于第一象限的1/4圆周,如图4(a)所示.它是凹的.(3)球心在(1,1,1),半径为槡2的球,在第一象限与3个坐标平面相交,靠近原点的球面部分,如图5(a)所示.它是凸的.(4)球心在原点,半径为1位于第一象限的1/8球面,如图6(a)所示.它是凹的.图3(a)为第1种情形经典Pareto前沿;(b)、(c)、(d)分别为式(13)中3个偏爱矩阵的偏爱Pareto前沿图4(a)为第2种情形经典Pareto前沿;(b)、(c)、(d)分别为式(13)中3个偏爱矩阵的偏爱Pareto前沿偏爱矩阵的逆矩阵犘-1=犞,按如下顺序选取:-[犞=1-0.9将式(13)中3个偏爱矩阵依次作用于第1种情形二维凸的Pareto前沿,得到的偏爱Pareto前沿见图3(b)、图3(c)、图3(d).图3的结果表明:随着犞的非对角元素的绝对值逐步减小,偏爱Pareto前沿开始是经典Pareto前沿中心点,然后逐步向经典Pareto前沿两端延伸,最后当非对角元素变成0时偏爱Pareto前沿就是经典Pareto前沿.图5(a)为第3种情形经典Pareto前沿;(b)、(c)、(d)分图6(a)为第4种情形经典Pareto前沿;(b)、(c)、(d)分将式(13)中3个偏爱矩阵依次作用于第2种情形二维凹的Pareto前沿,得到的偏爱Pareto前沿见图4(b)、图4(c)、图4(d).图4的结果表明:随着犞的非对角元素的绝对值逐步减小,偏爱Pareto前沿开始是经典Pareto前沿两端的两个端点,然后并上中心点,接着从中心点出发逐步向经典Pareto前沿两端延伸,最后当非对角元素变成0时偏爱Pareto前沿就是经典Pareto前沿.Page81-0.25-0.25熿-0.251-0.25燀-0.25-0.251将式(14)中3个偏爱矩阵依次作用于第3种情形三维凸的Pareto前沿,得到的偏爱Pareto前沿见图5(b)、图5(c)、图5(d).图5的结果表明:随着犞的非对角元素的绝对值逐步减小,偏爱Pareto前沿开始是经典Pareto前沿中心点,然后逐步向经典Pareto前沿周围延伸,最后当非对角元素变成0时偏爱Pareto前沿就是经典Pareto前沿.将式(14)中3个偏爱矩阵依次作用于第4种情形三维凹的Pareto前沿,得到的偏爱Pareto前沿见图6(b)、图6(c)、图6(d).熿燀同时,偏爱矩阵也可为非对称矩阵,如式(15),将式(15)中3个偏爱矩阵依次作用于第3种情形三维凸的Pareto前沿,得到的偏爱Pareto前沿见图7(b)、图7(c)、图7(d).将式(15)中3个偏爱矩阵依次作用于第4种情形三维凹的Pareto前沿,得到的偏爱Pareto前沿见图8(b)、图8(c)、图8(d).图7(a)为第3种情形经典Pareto前沿;(b)、(c)、(d)图8(a)为第4种情形经典Pareto前沿;(b)、(c)、(d)分别为式(15)中3个偏爱矩阵的偏爱Pareto前沿5多目标演化算法有效求解很多目标优化问题的一种潜在途径本节假设目标空间已经规范化、无量纲化.过目标空间坐标系O-(犳1,犳2,…,犳K)原点O的中心线正方向犳=1以原点为心犳1朝犳旋转θ得犳′1:同理,犳2朝犳旋转θ得犳′2:犳K朝犳旋转θ得犳′犓:Page9如此确定线性变换矩阵犘犘=sinθK-槡1变换矩阵犘行列式:|犘|=sinθK槡()-1=(cosθ+K槡-1sinθ)(cosθ-sinθ当tgθ=K槡-1或tgθ=-1当tgθ=0时,变换是个恒等变换,偏爱占优关系就是经典Pareto占优关系,演化算法群体的非劣集合就是经典的非劣集合.随着tgθ增大,偏爱非劣集合逐渐收缩,当tgθ=K槡-1时,线性变换退化,偏爱非劣集合收缩到一点,多目标问题退化成最优化目标之和的单目标优化.对于一个基于Pareto占优的多目标演化算法来说,当父亲群体加儿子群体所得并集的非劣集合大小与父亲群体大小相当时,算法的效率最佳.因此,进一步要做的工作是tgθ适当选取且满足使得父亲群体∪儿子群体的非劣集合与父亲群体大小相当.注意:旋转角θ朝反方向时,新型非劣集合将扩大.6结论本文的主要工作为:(1)提出偏爱Pareto占优、偏爱Pareto最优集、偏爱Pareto前沿概念;(2)适当选取线性变换矩阵(即偏爱矩阵)的参数tgθ,使得父亲群体与儿子群体合起来的非劣集合与父亲群体大小相当,则可以恢复现有的多目标演化算法优胜劣汰操作,从而恢复算法求解“很多”目标的优化问题的效率;(3)偏爱矩阵是非负矩阵,它使非负向量变换成非负向量,使偏爱Pareto最优集是经典Pareto最优集的子集;(4)试图根据决策者偏爱,描述相应的偏爱矩阵,初步探讨偏爱矩阵与偏爱最优解的关系.进一步工作:(1)研究高维偏爱矩阵与偏爱最优解的关系,并在物理直观上予以解释;(2)设计基于偏爱Pareto占优的多目标优化算法;(3)为现有多目标演化算法适当选取tgθ,使其有效的求解“很多”目标的优化问题.
