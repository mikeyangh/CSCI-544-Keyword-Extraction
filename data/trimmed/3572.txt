Page1一种最大化网络吞吐量的认知无线AdHoc网络跨层优化算法杨双懋郭伟唐伟(电子科技大学通信抗干扰技术国家级重点实验室成都611731)摘要认知无线Adhoc网络(cognitivewirelessadhocnetworks)是由一组具有认知决策能力的节点以多跳无线方式组成的智能网络.网络容量的求解与网络吞吐量的优化是该类网络研究的难点.作者首先推导了混叠模式下认知无线Adhoc网络容量上界的闭合表达式,并指出该上界只与用户空间分布特性相关;然后提出了一种新的基于遗传算法的跨层优化算法,通过联合优化邻居选择与功率分配实现网络吞吐量的最大化;最后仿真验证了该算法的有效性,结果表明网络吞吐量能较好地逼近网络容量上界.关键词物联网;认知无线Adhoc网络;网络容量;遗传算法1引言未来的无线网络将呈现出高速化、宽带化、异构Page2用户需求进行学习、决策与执行.认知网络能够自适应地学习和推理并且以端到端性能为目标进行决策.认知无线Adhoc网络[2]是由一组具有认知决策能力的节点以多跳无线方式组成的智能网络,能为用户智能动态地接入物联网提供基础通信平台.与传统Adhoc网络相比,认知无线Adhoc网络采用动态频谱接入,即当节点感知到网络环境中具有空闲频谱时,在保障主用户通信不受影响的条件下,节点可以自适应地调整无线参数以接入到空闲频谱.认知网络的频谱共享模式可以被分为覆盖(over-lay)模式和混叠(underlay)模式.在覆盖模式下认知用户采用机会式频谱接入方式占用主用户空闲频谱;而混叠模式则允许认知用户和主用户同时使用同频信道.在混叠模式下,认知用户不仅需要感知频谱是否空闲,还需要估计其传输对主用户造成的干扰大小,这样就增加了算法复杂度.本文将重点研究在混叠模式下认知无线Adhoc网络的容量问题.无线Adhoc网络的网络容量问题近年来得到了广泛的研究,文献[3]建立了经典的Adhoc网络模型,明确了无线Adhoc网络的吞吐容量和网络容量的定义,得出了不同干扰模型下网络容量的界限.其后的文献[4-8]在不同的网络条件和假设下也得出了类似的结论,但是文献[3-8]的结论都只是得出网络容量在渐近意义下的同阶表达式或者上下界,并没有给出逼近网络容量的方法.文献[9-10]采用蒙特卡罗方法得到了均匀分布网络的容量.文献[11]进一步得到同类网络容量的闭合表达式,但是文献[9-11]对网络条件的假设过于理想化,且没有考虑节点功率控制.文献[12-17]主要研究了认知无线电网络的容量问题,采用一对主用户和一对认知用户的经典认知无线电机会频谱接入模型,这种网络容量本质上依然是有干扰的认知点到点的链路容量.文献[18-20]研究了认知用户单发多收的广播模式下的链路容量.文献[21-22]采用了认知无线中继网络模型,中继节点采用协同方式转发数据,且同时只能有一个主用户和一个认知用户通过中继网络转发数据.文献[23]研究了多个主用户为认知用户协同转发数据的方式,但这与认知无线AdHoc网络的多跳环境和多业务源模式有很大的区别,不能直接参考和利用其结论.文献[24]基于蜂窝小区研究认知无线电背景下的多跳无线网络系统容量,其得到的结论依然是与认知用户传输距离相关的同阶表达式.文献[25]综合考虑了功率和时隙分配的优化,但是其网络模型要求所有的认知用户通信都借助认知基站来转发,属于中心控制的认知网络.文献[26]在混叠模式下提出了一种自适应的信道分配算法,依然没有考虑节点功率分配和并存多个主用户的情况.文献[27]基于信干噪比(SignaltoInterferenceplusNoiseRatio,SINR)模型来描述信道干扰,综合考虑了多信道分配、节点功率限制和多径路由流量限制,采用了混合整数线性规划(MixedIntegerLinearProgramming,MILP)方法来优化路由问题.文献[28]和文献[27]类似,运用混合整数非线性规划(MixedIntegerNoneLinearProgramming,MINLP)方法来对一些实际网络路由规划进行数值计算.这两项工作都没有从理论上推导出具体网络场景下的容量.此外,文献[27-28]经过数值优化计算后所获得的吞吐量并不一定与网络容量相符.从总体看来,现有的网络容量研究存在如下几个问题:(1)大部分针对无线Adhoc网络容量的研究都只得到了渐近意义下的同阶表达式或者上下界,而这些表达式中都包含了一些未知的常数,因而在不同网络场景下,即使同阶表达式或者上下界相同,也无法获得实际的网络容量;(2)在较强假设下对网络容量进行研究,当假设条件不再成立时,就不能正确估算实际的网络容量;(3)对于某个网络场景,其网络容量是一个客观存在的理论值,如何得到网络容量与网络参数之间的显式、确定的关系还具有很大的挑战性;(4)研究如何根据推导出的理论网络容量来调度网络资源以尽量逼近网络容量?目前,研究的较少.针对上述问题,本文将研究在具体网络场景下,如何最大化网络吞吐量以逼近网络容量的问题.为最大化网络吞吐量,本文采用跨层优化机制,考虑了主用户与认知用户之间的同频干扰和认知用户间的互干扰,并使用遗传算法来搜索最优解,充分利用认知用户的空分复用优势进行数据传输,达到混叠利用主用户空闲频谱的目的.本文第2节介绍认知无线Adhoc网络的系统模型;第3节提出最大化网络吞吐量的目标函数,推导出网络容量的上界以及提出基于遗传算法的最大化网络吞吐量的跨层优化算法;第4节通过仿真实验验证所提出的优化算法和理论网络容量;第5节总结全文.2系统模型2.1网络模型如图1所示,本文考虑的认知无线Adhoc网络Page3由N个认知用户(CognitiveRadiouser,CR)和Q个主用户接收机(PrimaryUser,PU)组成.其中CR用户间以多跳无线方式通信,CR用户通过占用主用户的空闲频段传输数据;假设主用户发射机与CR用户间的距离足够大,主用户发射机对CR用户的干扰可以忽略不计.由于CR用户必须严格控制功率以防止对PU造成不可接受的干扰,因而需要一个或者多个具有很强计算能力的CR用户作为认知辅助代理基站(CognitiveAgentBase-station).该基站与其它CR用户之间有一个使用授权频段的全局公共控制信道(commoncontrolchannel).该信道可用于可靠的交换传输控制、路由以及功率控制等跨层优化信息.在认知网络中,该公共控制信道可被看作是一个交互认知流的专用信道.2.2干扰模型目前无线网络中存在两种被广泛使用的干扰关系描述的模型,分别是物理模型和协议模型[3].由于物理模型能够更准确地反映网络的实际情况,因而本文将使用该模型中的信干噪比(SignaltoInter-ferenceplusNoiseRatio,SINR)来描述认知用户对主用户的同频干扰以及认知用户之间的相互干扰.假设在没有受到认知用户干扰时主用户接收机k的信噪比(Signal-to-NoiseRatio,SNR)为μk,存在认知用户干扰时主用户接收机k的SINR为γk,而当认知用户i向认知用户j发送数据时,记认知用户j接收机处的SINR为βij,采用η表示加性高斯白噪声功率谱密度,W表示系统通信频段的带宽,则接收机处的背景噪声功率是ηW;pi表示认知用户i的发射功率,dij表示用户i和j之间的距离,α表示路径传播衰减因子,取值范围通常为2α4,则pid-αij是用户j接收机的信号功率,而pmd-α是用户j接收机收到的干扰功率,则有如下主用户接收机和认知用户接收机处的SINR简化计算公式[3]:假设认知用户具有相同的最大传输功率pmax.一方面为了保证主用户的正常通信,认知用户需要在[0,pmax]的范围内动态地调整自身的传输功率,以保证主用户的SINR满足门限值Γp的限制,另一方面,为了保证认知用户之间的成功传输和达到合理的通信速率,认知用户接收端的SINR必须满足门限值Γs限制.2.3链路层和网络层模型为最大化网络吞吐量,本文将链路层功率控制和网络层路径选择进行了联合优化.本文假设网络具有一个如图1中的认知辅助代理基站,该基站由计算能力最强的认知用户(也可以是一个辅助计算的基站或者专司控制的代理节点,简称为决策用户)充当.决策用户通过全局公共控制信道交互每个认知用户的位置和通信需求、主用户的位置和主用户当前SNR值(主用户的位置和SNR值有多种办法可以获知,一种是主用户和认知用户进行协作,主用户主动报告自身的一些参数,另一种是使用无线电测向技术获知主用户位置,或者根据电子侦查技术获知主用户相关参数),进行优化运算后将结果通过全局公共控制信道下发给认知用户,最后网络中各认知用户开始依照优化的功率策略和路径传输数据.当认知用户的位置和通信需求发生改变时,重复这个决策过程.本文重点考察理想认知网络环境下可获得的最大网络吞吐量,因此没有考虑交互过程带来的时延,也不考虑优化算法的计算时延和下发时延.在多跳无线网络中,如果多个发射接收节点对可以同时进行数据传输,那么称这些同时发送数据的节点为并发传输节点.本文考虑如下的链路层控制方式:将节点的传输时间划分为时隙,对每个节点可以分配不同的时隙来发送数据,使得在任意时刻,网络中并发传输节点的数据率之和最大.为了获得最大的网络吞吐量并且在此基础上使Page4数据能正确到达目的地,本文的分析基于如下的路由选择策略:如图2所示,认知用户S有数据报文需要传输到认知用户D,τmax是不考虑对主用户的同频干扰和不存在认知用户互干扰时认知用户S的最大传输半径,则τmax=(ΓsηW/pmax)-1/α,定义图2中Region1部分中的认知用户是S的邻居节点,记为VS,若节点i∈VS,即满足diD<dSD且dSi<τmax.当Region1中没有包含认知用户时,定义Region2中的认知用户是S的邻居节点,记为珟VS,若节点u∈珟VS,即满足duD>dSD且dSu<τmax.当认知用户i∈N有通信需求时,决策用户从认知用户的邻居集合Vi(Vi≠)中选择一个节点ai,若Vi=,则从珟Vi中选择一个节点ai,ai负责为节点i进行数据存储转发.为了最大化网络吞吐量和保证主用户的正常通信,决策用户的选择应使网络中存在尽可能多的高速率并行传输.当数据到达ai后,决策用户继续为数据选择下一跳节点,直到数据到达目的节点.在实际应用中,可以通过如下步骤实现:(1)网络中的各认知用户通过全局公共控制信道向决策用户报告各自的通信需求和位置、主用户的SNR值和位置;(2)由决策用户发起跨层优化算法,获得网络中当前通信需求下各个认知用户的功率控制方案、时隙分配方案和路由选择策略;(3)决策用户将决策结果公布到全网;(4)网络中各认知用户分时隙开始传输数据,并依照优化的功率方案和路径传输数据.3认知无线AdHoc网络最大化网络吞吐量问题3.1问题描述多跳无线网络的容量问题是近年来的一个研究热点,网络容量与节点的数量、节点的分布以及节点的密度和传输范围等因素密切相关,因此难以获得网络容量的闭合表达式.为此本文采用跨层算法优化网络吞吐量,使之尽量逼近网络容量.如图3所示,网络中存在两条数据流,节点S1→D1和S2→D2,存在4个中间节点i、j、r和k为其转发数据,且满足djD1<dkD1,dS1k<dS1j,diD2<drD2,dS2r<dS2i,dS1i<dS1r和dS2j<dS2k,按照传统的基于地理位置的路由协议GPSR[29],数据流的转发路径为S1→j→D1和S2→i→D2,很明显在这种转发策略下,无论是否采用发射功率控制,由于满足dS1i<dS1r和dS2j<dS2k,则可以得到βS1k>βS1j且βS2r>βS2i,即S1的发射会在节点i处产生大于节点r处的干扰,S2的发射会在节点j处产生大于节点k处的干扰,这种转发策略下,网络中同时能传输的数据率不能达到最大化.若采用数据流的转发路径为S1→k→D1和S2→r→D2,由于中间节点r和k的距离相对较大,互干扰就会下降,网络中并行传输的数据率将大于GPSR策略下的数据率.λjbit/s.同时,定义网络容量C为网络吞吐量基于以上对网络容量和网络吞吐量的分析,本文参照文献[3]给出无线认知Adhoc网络的网络吞吐量的定义:考虑一个由N个认知用户和Q个主用户接收机组成的认知无线Adhoc网络,按照一定的时空分配方案和存储转发机制,在[(i-1)T,iT]时间段内(T<),网络中每个认知用户发送到相应目的节点的比特数为∑j∈N为∑j∈N的最大值,即C··=max∑j∈N由于认知用户的通信需求是一个动态变化的过程,因此网络吞吐量也是一个动态变化的量.为了简化分析,假定每个时隙内,认知网络的通信需求和主用户状态不发生改变.因此最大化网络吞吐量就变为最大化每个时隙内网络成功接收的数据量.当主用户状态或者认知网络通信需求发生变化时,进入下一时隙,决策用户重新计算当前时隙最优传输分配方案.在一个时长为T的时隙内,设L个认知用户有通信需求,用TL代表有通信需求的发送节点集合,定义xij为链路调度变量,当节点i向节点j发送数据时,xij=1,否则xij=0.即Page5xij=1,在时隙T内,节点i向节点j发送数据此时通信节点对(i,j)间的传输速率记为λij,其中i∈TL,j∈Vi∪珟Vi,考虑主用户的干扰限制条件、认知用户的功率限制条件以及认知用户的互干扰限制条件下,认知无线Adhoc网络最大化网络吞吐量问题的目标函数,即时隙T内网络成功传输的数据量,可以表示为s.t.γk=μkηWi∈TL,j∈Vi∪珟Vi,pmpmax,pipmax(5)λijWlog2(1+βij),i∈TL,j∈Vi∪珟Vi(6)3.2随机网络容量的上界最大化网络吞吐量可以实现逼近网络容量,在上一节中把最大化网络吞吐量转化为一个带约束条件的数学优化问题,但是为了验证某个算法是否能逼近网络容量的前提是必须事先知道某个具体场景的网络容量,而当前对网络容量的研究只得到了渐近意义下的同阶表达式,对于网络节点数不是特别大的场景下具有很大的误差,因此有必要推导出一个比较紧的网络容量上界,用来验证算法的正确性和指导相关协议的设计.为了方便推导,做出如下假设:(1)某个矩形区域内均匀放置N个认知用户,其中L个用户有通信需求,显然有LN/2;(2)有通信需求用户的目的节点在网络中随机均匀分布,用户的下一跳节点按照上一节中给的方法选定;(3)网络容量是C,则在T时间段内网络能传输的最大比特数为CT;(4)源节点和下一跳节点的平均距离是珡D,最小距离是Dmin;(5)干扰节点与下一跳转发节点间的最大距离是Dmax.引理1.函数f(β)=loga[0,ea-1-1]上是严格凸函数,在区间[ea-1-1,βmax]上是严格凹函数.证明.令函数f(β)的二阶导数f(β)=0,可以求得拐点为ea-1-1,则当β∈[0,ea-1-1]时,f(β)>0,当β∈[ea-1-1,βmax],f(β)<0,由函数凹凸性的定义可以证明引理1.引理2.多元函数f(β1,β2,…,βL)=∑βi∈Lβi),a>1的最大值在定义域的边界处取得,即fmax(β1,β2,…,βL)=logacipin0+∑m≠in0≈0,pi∈[0,pmax],且满足cminpmaxn0>L(β1,β2,…,βL)和(β1,β2,…,βL),则有证明.在区间[ea-1-1,βmax]内任取两点因此多元函数f(β1,β2,…,βL)在区间[ea-1-1,βmax]上是一个严格的凹函数,同理可证明在区间[0,ea-1-1]上多元函数f(β1,β2,…,βL)是一个严格凸函数,由严格凹(凸)函数的性质,多元函数f(β1,β2,…,βL)在定义域内只能最多有一个驻点.易知,当β1=β2=…=βL=c时,点(c,c,…,c)是多元函数f(β1,β2,…,βL)的驻点,其函数值为2(1+c),由βi的性质可知,当β1=β2=…=LlogaβL=c时,一定有c1p1=c2p2=…=cLpL=c0,则此时c=c0n0+(L-1)c0其驻点处的函数值为LlogaL()-1.又根据有界闭区间上的连续函数的2LLloga性质,多元函数f(β1,β2,…,βL)一定有最大值,其最大值在边界处或者驻点处取得,对于函数的边界点(βmax,0,…,0),其函数值为logacminpmaxn0导出loga函数f(β1,β2,…,βL)的最大值为loga下面考虑物理干扰模型式(5)的另外一种形式:Page6可以得到对所有的收发节点对求和得到有了上面两个引理、式(7)以及赫尔德不等式,可以推导出随机网络容量的上界Cup.假设在时间段T内发送的某个比特b经过的距离为db,则由假设条件式(3)和(4)得到由于某一时间段内网络中存在多个并行的传输,而这些传输的数据率是不同的,所以又可以根据数据率对所有的CT个比特进行分类求和,得到CT珡D∑CT对上式化简可以得到网络容量的上界Cup=WDmax珡D式(8)中干扰节点与接收节点间的距离采用Dmax来估计,收发节点对之间的距离采用Dmin来估计,这两个估计都会造成Cup大于网络容量,所以式(8)与网络容量之间会有一定的差距.式(8)中虽然没有显式的表达出网络容量与节点个数的关系,但实际上节点个数N和有通信需求的节点个数L是隐含在式(8)中的.不失一般性,假定网络中所有节点都有通信需求,即L=N/2,则随着网络中节点个数的增加,珡D和Dmin都是呈现减小趋势,平均来看珡D∝1/槡N,因此随着N的增大,Cup∝槡N,这与文献[3]中的经典结论相一致.3.3GA-MT算法在3.1节中把最大化网络吞吐量转化成了如式(1)到式(6)表述的最优化问题,在3.2节推导出了这个优化问题的理论上界,但是可以发现该优化是一个混合整数非线性规划问题,通常情况下是一个NP-Hard问题[30],该问题中需要优化的变量包括xij和pi.根据文献[31]中关于节点连接度的概率分布结果,网络中绝大部分节点的邻居数量都不少于2,随着网络规模和有通信需求发送方数量的增加,xij的取值空间将不小于2L,当xij选定后,pi的选择又是一个连续的非线性规划问题,具有很高的复杂度,因此通常的穷举搜索的办法是不可行的.由于本文所涉及到的优化问题是一类NP完全问题,算法复杂度与优化效果之间始终是一对矛盾.但是目前高速处理器的发展趋势能够在一定程度上缓解这一矛盾,所以本文采用现代启发式算法中比较成熟的遗传算法[32]来求解3.1节中的最优化问题,并提出了GA-MT(GeneticAlgorithm-basedMaximumThroughput)算法.遗传算法是通过大量备选解的变换、迭代和变异,在解空间中并行动态地进行全局搜索的最优化方法.由于遗传算法具有比较完备的数学模型和理论,在解决很多NP-Hard问题上具有良好的性能.3.3.1编码方法由于所考察问题是一个混合整数非线性规划问题,采用常用的二进制0-1编码会造成极大的搜索空间,所以定义决策向犃=[犅,犘],其中犅是邻居选择向量,犘是功率选择向量,所选择的发射功率.所选择的邻居节点的编号,犅=(b1,b2,…,bL),其中bi(i∈TL)代表节点i犘=(p1,p2,…,pL),其中pi(i∈TL)代表节点i于是问题转化为对决策向量犃进行编码,对bi的编码可以直接采用节点的编号,为了克服汉明悬崖和缩小搜索空间,对pi的编码采用格雷码,将[0,pmax]的可行功率集合均匀分成M级,这样pi就用log2M位的格雷码进行表示.这样的编码方法使得犅的各分量相互独立,而犘的各分量全部满足最大功率约束,对决策向量采用两段式交叉和变异运算之后,所得到的仍然是满足物理意义的决策向量,同时又简化了变换之后的维护操作和缩小了搜索空间.Page73.3.2初始群体的选择通过将向量犅的每一个分量在对应节点的邻居中进行随机均匀选择,将向量犘在0-1空间中进行随机均匀选择,可以产生一组在解空间中均匀随机分布的决策向量犃.群体的规模决定了算法的收敛速度和复杂度.太小的群体会导致算法搜索范围狭窄,容易陷入局部最优,降低算法性能;而太大群体的规模会导致算法收敛过慢.仿真实验表明,当群体规模和节点数量N在一个数量级上时,算法性能较好,能够很快地逼近最优解.3.3.3适应度函数和选择方法应度函数Fitness(犃),表示为根据优化问题的目标函数,定义决策向量的适其中xij为链路调度变量.为了简化遗传算法的运算,在编码的时候采用的是长度为L邻居选择向量犅,因此在计算适应度函数Fitness(犃)时需要将犅变换成等效的,大小为N×N的链路调度矩阵(狓ij),例如节点r选择其邻居k为其转发数据,则xrk=1,xrj=0,j∈N,j≠k.在GA-MT算法中采用决策向量所对应的单位带宽的速率作为适应度,单位带宽的速率越大,相同通信带宽下的网络吞吐量就越大,对应的决策向量越适合于继续生存到下一代.在遗传算法中,选择操作的主要目的是为了避免优良遗传信息的丢失,提高全局收敛性和算法效率.因此GA-MT算法中采用轮盘赌选择,群体中每个个体进入下一代的概率就等于它的适应度值与整个种群的适应度之和的比例,适应度值越高,进入下一代个体的概率越高.在选择过程中,为了更好地保证遗传算法的收敛性,采用了最优保存策略,即精英模型(elitistmodel),找出上一代群体中适应度最高的个体,如果该个体适应度值大于新一代群体中的最高适应度,则用该个体替代新一代群体中适应度值最低的个体.3.3.4交叉操作遗传算法中交叉操作是指对两个相互配对的染色体按照某种方式相互交叉部分基因,从而形成两个新的个体,该操作有利于增加新老两代个体之间的差异性以及同一代群体中个体之间的多样性.由于决策向量犃可以分为两个不同的向量,所以算法中采用两段式交叉的方法对邻居选择向量犅和功率选择向量犘进行交叉,即分别在功率选择向量犘和邻居选择向量犅中随机选择一个交叉点,交换两个向量在交叉点前后的染色体.例如,犃1和犃2代表两个即将配对的决策向量,其中选择向量犅采用节点编号直接编码,功率选择向量犘采用格雷码进行编码,设L=4和M=16,则有犃1=[b1,b2,|b3,b4,0001,11|10,1010,0011],犃2=[b1,b2,|b3,b4,0100,01|00,1101,1011],其中“|”代表所选定的两个随机交叉点,则配对交叉后新决策向量犃1和犃2分别为犃1=[b1,b2,|b3,b4,0100,01|10,1010,0011],犃2=[b1,b2,|b3,b4,0001,11|00,1101,1011].交叉操作是在遗传算法性能中起主导地位的关键步骤,它决定了遗传算法的全局搜索能力.为了避免算法收敛于局部最优解,并保持一个连续的解空间,以增大找到全局最优解的可能性增大,GA-MT算法对交叉概率pc采用随迭代次数增加而减少的方式,即随着迭代次数增加,pc由0.99减小到0.4.3.3.5变异操作在遗传算法中,变异操作是指将个体染色体编码串中的某些基因座上的基因值用该基因座的其它等位基因来替换,从而形成一个新的个体.变异运算是产生新个体的辅助方法,但它也是必不可少的一个步骤,因为它决定了遗传算法的局部搜索能力.变异运算与决定全局搜索能力的交叉运算相互配合,共同完成对解空间的全局搜索和局部搜索.算法中对邻居选择向量犅和功率选择向量犘分别变异,采用单点变异方式,犅中随机选择一个分量,按照变异概率pm替换为可行解空间中另一个邻居的编号,犘中随机选择一个点按照变异概率pm进行取反运算.例如,犃3代表即将变异的决策向量,设L=4和M=16,则有其中下划线“_”代表所选定的两个随机变异点,变异概率pm则控制本次变异操作是否进行,如果本次需要变异,则变异后的新决策向量犃3为[b1,b0001,1110,1110,0011].犃3=[b1,b2,b3,b4,0001,1110,1010,0011],在求解过程中采用可变的pm,即算法早期pm取值较大,扩大搜索空间;算法后期pm取值较小,加快收敛速度.即随着迭代次数增加,pm由0.3减小到0.03.3.3.6约束条件的处理在遗传算法中必须对约束条件进行处理,但目前尚无处理各种约束条件的一般方法,为了提高遗Page8传算法的效率,本文采用搜索空间限定法来处理约束条件.搜索空间限定法的基本思想是对遗传算法的搜索空间的大小加以限制,使得搜索空间中表示一个个体的点与解空间中表示一个可行解的点有一一对应的关系.具体来讲就是在进行交叉、变异操作后对新个体的可行性进行判断,如果满足式(2)到式(5)的约束条件,则该新个体保留,如果不满足就需要重新进行交叉或者变异操作,如果在多次操作后均不能生成满足约束条件的个体,则放弃该次操作.3.3.7算法收敛性在文献[33]中使用马尔可夫链式模型对采用精英模型的遗传算法的收敛性进行了研究,证明了在精英模型下遗传算法能够收敛到全局最优解.于是有如下定理.定理1.GA-MT采用的遗传算法能够收敛到全局最优解.从仿真实验中可以发现,算法在所选择参数下能够在不多于网络规模N两倍的迭代次数内收敛,并由此可以获得所用遗传算法的时间复杂度.3.3.8算法时间复杂度分析定理2.GA-MT采用的遗传算法的时间复杂度为O(N2).证明.GA-MT算法中的种群数量为O(N),交叉概率为pc,变异概率为pm,因此算法每次迭代需要O(pcN)次交叉操作,O(pmN)次变异操作以及O(N)次选择操作,且pc<1,pm<1,所以算法每次迭代需要O(N)次操作.又注意到算法的迭代次数为2N,因而GA-MT算法总的时间复杂度为O(N2).4仿真验证文献[27-28]与本文虽然都采用了SINR干扰模型,都综合考虑了路由选择和功率分配,然而文献[27-28]采用覆盖模式实现频谱共享,而本文采用了混叠模式,因此本文更侧重同频信道上不同节点的功率分配.而文献[27-28]侧重不同节点上的信道分配,这与本文的网络场景不尽相同.目前考虑混叠模式的且与本文网络场景比较接近的是文献[26],该文献提出一种ACUCHA(AdaptiveCogni-tiveUnderlayChannelAssignment)算法,能够控制接入主用户同频信道的认知用户数量,但是该文只考虑了存在一个主用户的情况,且认知用户采用恒定功率传输数据.目前认知网络中综合考虑混叠模式、节点功率控制和路由选择的跨层算法还不多见,而传统的路由算法又没有考虑对主用户的干扰.所以在仿真中主要将GA-MT算法性能与网络容量上界进行比较,同时与存在主用户干扰限制时的ACUCHA算法进行了对比,同时也与传统的GPSR,最短路径Dijkstra算法进行参考对比.4.1场景设置本文中仿真实验采用PC机,软硬件环境为In-telCore2DuoE64002.0GHz、2GB内存、Win-dowsXPSp3操作系统、MatlabR2008a仿真工具.所使用的仿真方案如图4所示:包括场景参数模块、随机网络生成器模块、算法实现模块以及结果统计与分析模块.网络场景参数模块提供仿真所需要的配置参数,如网络规模和分布特性、路径衰减和各种门限等.随机网络生成器模块主要负责根据指定的网络范围以及节点数量等参数生成随机网络拓扑.算法实现模块对本文中所提的理论界、遗传算法及比对算法进行实现,并根据网络参数与拓扑的输入获得算法的性能.结果统计与分析模块收集所获得的算法性能,并对结果进行统计平均等操作,并以曲线形式呈现.仿真着重分析了本文所推导的网络容量的理论上界与吞吐量的关系,同时考察了不同参数下GA-MT算法的性能,指出本文所推导的网络容量理论上界与算法所能实现的网络吞吐量非常接近,说明了GA-MT算法具有良好的性能.文献[26]的ACHCUA算法的核心思想是对主用户的接收机附近的干扰温度(interferencetem-perature[34])进行控制,使其不超过主用户要求的门限.把有通信需求的认知用户产生的干扰温度从小到大进行排序,依次加入待发的用户队列,使累计的干扰温度达到主用户接收机的门限值时,算法停止,然后待发用户开始传输数据.为了与ACHCHA算法作对比,仿真时本文考虑将式(2)等效为干扰温度,将主用户k处的干扰功率pid-α排序,然后依次利用式(2)进行累加,直到累加后的Page9主用户SNR达到门限值,被成功累加的这些认知用户将被选定为待发用户.本文采用如下的场景参数:在1000m×1000m的矩形区域内随机均匀放置40~90个认知用户,其中随机选择5~20用户作为有通信需求的节点,所有认知用户的最大通信功率为64mW,路径传播衰减因子α=4.同时随机均匀放置1~12个主用户接收机在相同的区域内,其中主用户接收机的SNR值设为20dB,主用户最低接收SINR门限Γp设为12dB,认知用户最低接收SINR门限Γs设为-5dB.认知用户和主用户共享的系统通信频段的带宽W是8MHz,加性高斯白噪声功率谱密度η为10-18W/Hz.所绘曲线均为20个随机场景下仿真结果的平均值,同时满足引理2中的条件,而且所有场景都不出现孤立节点,以保证GA-MT算法能够正确运行.4.2仿真结果图5显示了一个随机网络场景中GA-MT算法的结果.其中,实线代表GA-MT算法所选择的链路,而带空心箭头的长虚线代表GPSR算法所选择的链路,带箭头的短虚线代表最短路径Dijkstra算法所选择的链路,而带菱形箭头的点划线代表ACUCHA算法选择的链路.从图中可以看出,本文所提出的算法性能不仅优于传统的GPSR算法和最短路径Dijkstra算法,也优于ACUCHA算法.其中,GA-MT算法所选择的并行传输节点对数量为9对;ACUCHA选择的并行传输节点是4对;GPSR算法和最短路径Dijkstra算法所选择的节点对数量都只有3对.GA-MT算法性能大致是ACUCHA算法的两倍,是另外两种算法的三倍左右,并且在空间分布上更加的均匀化.这说明算法能够利用不同收发节点对在空间分布上的差异,提高网络并行复用传输能力.而传统算法,例如最短路径Dijkstra算法,以跳数最短为路径选择准则,没有考虑空间复用;GPSR算法以最靠近目的地为目标选择下一跳,没有考虑对相邻节点的干扰;而ACUCHA算法都集中在图中的右下角,说明只有远离主用户的那些节点才可能得到传输机会,由于缺少功率控制机制,靠近主用户的节点几乎不会得到传输机会;而GA-MT则是依次考察多个下一跳节点,选择其中能实现最大吞吐率的链路,这就使得该算法能够较好地对网络吞吐量性能进行优化.图6和图7对比了几种算法在不同认知用户节点数量下的单位带宽速率与容量上界.其中横坐标是认知用户的个数40~90,纵坐标是单位带宽速率,单位是bps/Hz.有通信需求认知用户个数L的取值分别为10和20,以显示不同网络通信负载对算法的影响,另一方面由于传统算法没有考虑对主用户的干扰约束,因此针对两个传统算法的仿真设置中主用户接收机的数量Q取0,而ACUCHA算法和GA-MT算法的主用户设置为1.从图中可以看出,随着认知用户个数N的增大,GA-MT算法实现的单位带宽速率呈现逐渐上升的趋势,这是因为当有通信需求的认知用户个数一定时,网络中可供选择的链路与认知用户数量成正比,认知用户数量越多,空间复用率越高,单位带宽速率上升.而当有通信需求认知用户个数增加时,网络的通信负载增加,需要选择的链路更多,单位带宽速率上升明显,同时式(8)计算出的理论上界与GA-MT算法性能比较接近.通过上一节对式(8)讨论可知,式(8)是对网络容量上界的一个估计值,和网络容量之间还有一定的距离,GA-MT算法与Cup只有6%~10%的差距,因此GA-MT算法实际上为我们指出式(8)所获得的理论上界Cup与网络容量是非常接近的,同时又可以认为GA-MT算法性能逼近了当前网络场景下的网络容量.而对于GPSR算法和最短路径Dijkstra算法来讲,无论是认知用户个数N的增大还是网络通信负载增大,单位带宽速率基本稳定在同一数值附近,这是因为这两个算法是传统无功率控制的算法,在同一个冲突域范围内,最多只能容纳一对成功的收发节点进行通信,在面积和冲突域半径都确定的网络环境下,空间上能够容纳的成功通信对也基本确定,所以与网络用户个数和网络通信负载基本无关.而ACUCHA算法能够把那些远离Page10主用户的认知用户都调度起来传输数据,只需要保证干扰不超过门限值即可,因此ACUCHA能够获得远高于传统算法的性能.而GPSR的下一跳选择与节点的地理位置相关,在某些场合下容易形成网络中的瓶颈节点,同时Dijkstra算法仅以路径长度为标准,当通信负载过大时,依然有可能在部分节点上形成瓶颈,这两种算法在下一跳选择时都有局限,同样的对于ACUCHA算法,由于缺少功率控制算法,靠近主用户的认知用户无法获得接入频谱的机会,这3个算法都不能充分考虑节点间的空分优势.由于GA-MT算法同时考虑了功率控制和下一跳节点的选择,对单位带宽速率具有很大的提升,明显优于其它3种算法.GA-MT算法中的单位带宽速率,在L=10时,相对于GPSR和最短路径Dijkstra算法具有300%~550%的性能提升,相对于ACUCHA具有200%左右性能提升;在L=20时,相对于GPSR和最短路径Dijkstra算法具有400%~750%的性能提升,相对于ACUCHA具有200%~300%性能提升.图63种算法下的单位带宽速率图示(10个通信节点)图73种算法下的单位带宽速率图示(20个通信节点)图8显示了在满通信负载下GA-MT算法和ACUCHA算法的单位带宽速率与网络容量上界的对比,其中横坐标是认知用户的个数40~90,有通信需求认知用户个数L的取值分别为认知用户的个数的一半.由于ACUCHA算法只能工作在一个主用户下,图8的仿真设置时主用户接收机的数量Q取1.从图中可以看出,随着认知用户个数N的增大,GA-MT算法和ACUCHA算法的单位带宽速率和式(8)计算出的网络容量上界都呈现逐渐上升的趋势.图8的仿真结果充分说明了两点:(1)虽然Dmax和Dmin参量的引入导致式(8)的Cup大于网络容量,但是仿真结果中GA-MT算法和Cup差距很小,只有5%~12%的差距,说明网络容量的曲线就位于这两根曲线之间,即GA-MT算法能从下往上逼近网络容量,因此可以把GA-MT算法的结果作为当前网络场景下网络容量的下界;(2)ACUCHA算法距离理论容量还有很大的差距,基本上只有理论上界的30%左右,因此算法还有继续提高的空间.图8满负载下的GA-MT算法单位带宽速率图9是在不同通信负载下单位带宽速率的仿真结果对比图,有通信需求认知用户个数L的取值为5~20,以显示不同网络通信负载对算法的影响,主用户接收机的数量Q取为1,即只有一个随机分布的主用户.从图中可以看出,随着认知用户个数N的增大,GA-MT算法实现的单位带宽速率呈现逐渐上升的趋势,同时当有通信需求认知用户个数L增加时,单位带宽速率呈现出快速上升的趋势,这是因为随着通信负载的增加,通过控制功率和选择下一跳节点,GA-MT算法能找到更多的并行通信对,在认知用户个数N达到最大值90时,每个节点可选择的下一跳节点也达到最大,所以此时单位带宽速率随L的增加最为显著,基本上每当L增加5个节点时,单位带宽速率就有20%~30%的提升.Page11图10显示了在不同主用户接收机数量下单位带宽速率的对比结果.主用户接收机数量Q的取值为2~12,以显示不同干扰限制水平对算法的影响,而有通信需求认知的用户个数L的取值为10.由于式(8)在推导过程中并没有考虑主用户对认知用户的干扰限制门限,相当于Q=0的情况,所以在图10中系统能提供的吞吐量远低于理论上界,并且随着主用户个数的增加,这种吞吐量的减少也是非常明显的,最大可达到15%~50%.由此可以预见,随着主用户个数的急剧增加,无论认知用户等用何种功率进行通信都会对主用户产生不可忍受的干扰,此时认知用户在混叠模式下的通信容量将迅速下降.图10不同主用户接收机数量下的单位带宽速率为了研究GA-MT算法的收敛性质,本文定义了算法的归一化适应度,即每一代中个体的最优适应度同算法收敛时最优解的适应度的比值,这个比值随着算法迭代次数的增加而逐渐增加,并在算法收敛时变为1.图11和图12显示了GA-MT算法的迭代次数与算法归一化适应度之间的关系.图11中认知用户的个数是40~90,有通信需求认知用户个数L的取值为10.图12中认知用户的个数是90,有通信需求认知用户个数L的取值为10~40,两个图中主用户接收机的数量Q都取2.从图中可以看出,随着认知用户个数的增加或者随着有通信需求认知用户个数的增加,算法收敛所需要的迭代次数也逐渐增加.这是因为随着网络规模的增加,搜索空间不断增长,算法往往需要经过更多的迭代次数才能达到收敛.总的来说,算法在所考虑的场景和参数下,都能够在不多于2倍网络规模的迭代次数内收敛.图11不同通信节点下GA-MT算法的收敛特性图12不同通信负载下GA-MT算法的收敛特性5总结本文提出了一种逼近网络容量的认知无线Adhoc网络跨层优化算法GA-MT.该算法综合考虑了节点功率控制、邻居节点选择和干扰约束限制条件,通过一个决策用户收集当前认知用户的通信需求,然后由决策用户发起跨层优化算法,为认知用户选择下一跳节点和分配合理的发射功率,认知用户再通过最优传输分配方案的路径和功率传输数据报文,该算法可以应用在物联网的无线接入上,为用户的接入提供理论指导.同时,本文针对具体的网络场Page12景,获得了只与认知用户分布特性相关的网络容量上界的闭合表达式,该上界能比较准确地估计出当前网络的容量,因而可以指导物联网相关通信协议的设计.由于网络最大吞吐量的求解是一个混合整数非线性规划问题,本文采用了遗传算法在搜索空间对决策向量进行全局搜索,算法的时间复杂度为O(N2).仿真结果表明该算法比现有算法显著地提高了网络吞吐量并且与理论上界只有10%左右的差距,很好地逼近了目标网络的网络容量.
