Page1基于区域边缘统计的图像特征描述新方法余旺盛田孝华侯志强(空军工程大学信息与导航学院西安710077)摘要直方图特征是计算机视觉领域最为常用的图像特征之一,然而空间统计信息的缺乏导致传统灰度直方图对图像特征的区分能力较差.对此,文中通过引入直方图子区间对应区域的边缘复杂度概念,提出了一种描述图像特征的区域边缘直方图方法.文章首先定义了区域边缘复杂度的概念,并提出以直方图各子区间的边缘复杂度作为空间权系数对各子区间进行加权,然后通过对加权后的直方图进行化简进而得到区域边缘直方图的简洁描述形式,最后,给出了基于积分直方图实现的快速计算方法.实验结果表明,区域边缘直方图方法对图像特征的区分能力明显优于灰度直方图,克服了空间直方图等改进方法对图像旋转的敏感性,运算效率比空间直方图提高了两个数量级以上.关键词模板检测;视觉跟踪;空间直方图;区域边缘直方图;边缘复杂度1引言在计算机视觉的许多研究领域中,常常需要将Page2旋转和局部形变不敏感,鲁棒性强,且能够在一定范围内适应目标的尺度变化.然而,传统直方图对图像特征的区分度不高,且在穷举搜索时的快速计算性能较差.针对直方图的区分度问题,Birchfield等人[1]通过引入像素的空间分布信息提出了空间直方图(Spatiogram)的概念,在传统直方图的基础上增加了落入直方图各区间像素的空间矩信息,从而优化了其对图像特征的区分能力,增强了跟踪算法的稳定性和鲁棒性[2].然而空间直方图的算法复杂度较高,且在相似性度量上存在一些问题[3-5].边缘方向直方图(EdgeOrientationHistogram,EOH)[6]通过统计局部范围内边缘像素的方向分布直方图来对图像进行特征描述,在对正面人脸的检测中体现了良好的性能.梯度方向直方图(HistogramsofOrientedGradients,HOG)[7]通过梯度方向分布的直方图统计来描述图像,广泛应用于行人检测中.从本质上来说,上述改进方法均通过在一定程度上引入了图像的空间信息来增强直方图的区分度.针对直方图的快速穷举计算问题,Porikli[8]提出了积分直方图(IntegralHistogram)方法,解决了在笛卡尔坐标系下任意矩形区域直方图特征的快速计算问题.Wei[9]和Dubuisson[10]等人对直方图的快速穷举计算问题做了深入的研究,使得指定大小矩形区域直方图的穷举计算效率进一步提高.虽然空间直方图已经成功应用于视觉跟踪中,但相关研究[2-5]均未涉及空间直方图的算法复杂度以及快速计算问题.事实上,复杂的计算是空间直方图在实时目标跟踪系统中应用的主要障碍之一.针对直方图区分度的改进研究表明,如何增加图像特征中的空间信息是解决问题的关键.针对直方图特征的快速穷举计算的研究表明,如果特征的计算满足积分的区域可加性质,则运算效率可以大幅提高.对此,本文通过引入直方图子区间对应区域的边缘复杂度概念,提出了一种满足积分区域可加性质的改进直方图特征.本文第2节简要回顾相关研究;第3节主要介绍区域边缘直方图的原理和快速计算方法;第4节进行仿真实验与分析;第5节为全文总结.2相关研究在计算机视觉研究中,直方图特征广泛应用于各个领域.然而,传统直方图仅仅反映了像素取值的频率分布,而忽略了像素在图像中的空间分布信息.空间直方图、边缘方向直方图和梯度方向直方图均通过不同程度地引入空间分布信息,改善了其对图像特征的区分能力.2.1空间直方图空间直方图在传统灰度直方图的基础上引入了像素坐标空间分布的二阶矩信息,对于每一个直方图子区间需要统计3个数据:(1)当前子区间包含的像素个数;(2)当前子区间内像素坐标值的均值向量;(3)当前子区间内像素坐标值的协方差矩阵.为适应对不同尺寸图像的描述,在计算空间直方图之前需要对图像的像素坐标进行归一化处理,也即将所有像素的坐标值归一化至[-1,1]区间.其计算的主要步骤为:首先将图像的像素坐标进行归一化,然后按照划分的直方图子区间数目依次统计各子区间内像素的个数以及像素坐标的均值向量和协方差矩阵.空间直方图在一定程度上反映了图像的结构信息,因而对图像特征的区分性能较好,但对图像的旋转较为敏感.此外,空间直方图的每一个区间取值均由3个数据构成,如何对其进行相似性度量也成了一个难点问题.Birchfield等人在提出空间直方图的同时,给出了一种基于巴氏(Bhattacharyya)系数的相似性度量方法,该度量方法不仅形式较为复杂,而且存在一些固有的缺陷.文献[3-5]对此进行了研究,给出了一些针对性的解决方法.2.2边缘方向直方图边缘方向直方图通过统计图像边缘像素的方向分布来描述图像特征,其计算方法为[6]:首先通过边缘检测算子提取图像中的边缘像素;然后计算各边缘像素梯度幅值和梯度方向,并按要求判断梯度方向所隶属的直方图子区间;最后依次统计隶属于直方图各子区间的所有边缘像素的梯度幅值之和,并对计算所得的直方图各子区间取值进行归一化得到最终的边缘方向直方图.边缘方向直方图通过引入图像的边缘特征来增强其对图像特征的区分能力,在图像边缘特征适中的情况下,对图像特征的区分能力有所增强.2.3梯度方向直方图Dalal等人[7]在研究行人检测时提出了梯度方向直方图,其计算原理与SIFT特征相似.首先将图像区域分成α×α个子图像区域;然后将梯度方向分成β个子区间,并依次统计各子图像区域内隶属于各梯度方向子区间内像素的梯度幅值之和;最后将Page3统计结果整理成长度为α×α×β的直方图数据.与SIFT特征不同的是,梯度方向直方图没有进行梯度主方向的标定,因此其对图像的旋转是敏感的.尽管如此,梯度方向直方图通过空间的局部分块来增强特征描述的区分能力,在一定程度上体现了图像的结构信息,因此在梯度走向比较明显的情况下,其对图像特征的区分能力有显著提高.空间直方图、边缘方向直方图和梯度方向直方图的一个共同点就是部分地利用了图像的结构信息,达到增强特征区分度的目的.然而,在区分度增强的同时,图像旋转变化的鲁棒性却受到影响.在视觉跟踪中,由于被跟踪目标的表观形态时刻会发生各种变化,因此一种良好的特征描述方法应当具有一定的旋转不变性.3区域边缘直方图落入直方图同一子区间的像素具有相同或相近的像素值,在空间上会构成相应的区域,其可能是连通的,也可能是不连通的.对于同一子区间内的像素构成的区域,不论其在空间上是否连通,本文都将其视为一个区域.如图1所示,当用传统的直方图进行特征描述时,图1(a)和(b)具有完全相同的特征,即传统直方图无法对其进行有效区分.实际上,除了像素取值的频率分布相同外,像素的空间分布却不尽相同.空间直方图除了对像素取值的频率分布进行统计外,还对像素坐标的空间分布进行了统计,因此空间直方图能够很好地将图1(a)和(b)区分开来.本文提出的区域边缘直方图也具有与空间直方图类似的特性.3.1边缘复杂度事实上,同一子区间内像素的分布越分散,其所构成的区域的边缘也就越复杂.为了更加准确地描述区域边缘的复杂程度,给出如下定义.定义1.设直方图第b个子区间内所有像素构成的区域记为Rb,Rb中所有像素的总和为κ(Rb),Rb中位于边缘位置的像素的总和为κ(Eb),则区域Rb的边缘复杂度为上述定义中的κ(Rb)也即区域Rb的面积,κ(Eb)也即区域Rb的周长.当κ(Rb)=0时,令ηb=0.对于图1中的两个区域,虽然面积大小相同,但图1(a)的周长更长,因此具有不同的边缘复杂度.区域的边缘像素如图2中深灰色小方格所示.图2直方图子区间对应的区域边缘(深灰色所示)对于灰度直方图,统计各子区间内像素的个数,也就是计算子区间对应区域的面积.则灰度直方图第b个子区间的归一化取值如下:3.2区域边缘直方图原理在视觉跟踪中,当出现像素取值的频率分布在目标相似的区域(虚假目标)时,基于灰度直方图的跟踪算法很难在真实目标与虚假目标之间做出正确的取舍.然而,即使虚假目标内部像素取值的频率分布与真实目标相同,二者的空间分布也会存在或多或少的区别.也即,虽然二者的灰度直方图相同,但落入直方图各子区间的像素构成的区域的边缘复杂度是不一样的.如果用各子区间的边缘复杂度来度量各区间构成的区域的分散程度,即可以得到一组度量灰度直方图各子区间内像素空间分布的数据.利用该组数据对直方图的各子区间进行加权,便可得到一组新的直方图,由边缘复杂度得到的权值数据称为该直方图的空间权因子.设灰度直方图第b个子区间内所有像素构成的区域的边缘复杂度为ωb,对其进行归一化可以得到一组权向量(π1,…,πb,…,πB),其中,Page4利用该权向量对灰度直方图数据进行加权,得到一组反映直方图各子区间边缘复杂度的数据(κ1,…,κb,…,κB),其中κb=πbκb.该数据不仅反映了图像中像素取值的频率分布,而且反映了直方图各子区间内像素的空间分布复杂度问题.对其进行归一化可得将归一化后的数据记为(1,…,b,…,B),则其为一组体现像素空间分布复杂度的加权直方图数据.对于其第b个子区间的数值b,若令c1=1则有由式(5)可知:综合式(6)和(7)可得上式表明,b的大小只与该区间对应区域的边缘像素的总数κ(Eb)有关,也即计算时只需要统计直方图各子区间对应区域的边缘像素的个数,因此该方法是一种基于区域边缘统计的图像特征描述方法,我们称之为区域边缘直方图.传统直方图仅统计图像像素取值的频率分布,当两幅图像像素取值的频率分布相同时,传统直方图无法进行区分.此时,虽然两幅图像像素取值的频率分布相同,但直方图各子区间对应区域的边缘分布是有差别的,因此区域边缘直方图能够对两幅图像进行有效的区分.区域边缘像素的引入也在一定程度上反映了图像的结构信息,这也从另一个角度解释了区域边缘直方图具有更强的图像特征区分度的原因.3.3区域边缘直方图计算计算区域边缘直方图时,首先要根据图像中像素对直方图各子区间的隶属情况进行区域划分,然后标记出各区域的边缘像素,进而进行统计.3.3.1边缘像素给出边缘像素的定义如下.定义2.一个非孤立的非边界像素属于边缘像素,当且仅当其4-邻域内的像素隶属于不同的直方图子区间.所谓孤立像素,就是该像素与其8-邻域内的任意像素均不属于同一灰度子区间.孤立像素必然属于边缘像素.边界像素是指图像的首行、首列以及末行和末列像素,易知边界像素也是边缘像素.定义2表明,当某一像素的4-邻域中至少存在一个像素的灰度值与该像素不属于同一直方图子区间时,该像素便是边缘像素.区间,bk隶属的灰度子区间,令设bi表示第i个像素隶属于直方图的第b个子i(k=1,2,3,4)表示像素i的4-邻域像素所式中,δ(bki,bi)为判别函数,当bki与bi相等时取值为1,否则为0.符号“∩”为“与”运算.分析可知,当且仅当φi=0时,像素i为边缘像素.由此可见,简单的邻域“差分”和“与”运算即可标定图像中的边缘像素.3.3.2计算步骤通过对边缘像素的定义,可以从图像中快速地标记出边缘像素,也即需要进行统计的像素.下面简要介绍区域边缘直方图的计算步骤.第1步.将输入图像的像素映射至不同的直方图子区间,如下:f(xi)=bn,i=1,2,…,N,n=1,2,…,B(10)第2步.标记直方图各子区间对应区域的边缘像素,标记结果为上式中,ψi的取值为1或者0,1表示边缘像素,0表示非边缘像素.第3步.计算各区域内边缘像素的个数.第4步.归一化.由第4步计算所得的(1,…,b,…,B)即为所求的区域边缘直方图.Page53.3.3快速计算在视觉跟踪任务中,基于检测和跟踪往往要在很短的时间内进行直方图的穷举计算,此时,常规的计算方法很难满足实时性需求.Porikli[8]提出了任意矩形区域直方图的积分计算方法,通过积分计算的优势解决了直方图穷举计算的速度问题.如图3(a)所示,图像的每一像素的积分直方图均代表该像素左上方的所有像素的统计直方图,故可用迭代的方法计算图3(a)中黑色像素的积分直方图为通过预先计算好图像的积分直方图后,只需要3次加减运算即可得到任意矩形区域的直方图.如图3(b)所示,当前区域A的直方图为由于区域边缘直方图并没有改变传统灰度直方图的积分可加性质,因此可以利用积分直方图算法进行优化计算.然而如果直接利用积分方法进行计算,却会出现如图4(a)所示的问题:由积分求解得到的当前窗口内的区域边缘直方图并没有包含当前区域的边界像素.这是由于当窗口在图像中间任意移动时,其所截取的图像区域的边界像素也会随之发生变化.图4区域边缘直方图快速计算时的边界像素处理事实上,若令当前区域的灰度直方图为Ht前区域内的边缘像素的统计直方图为Ht所示像素的直方图为h1,如图4(b),则当前区域的区域边缘直方图应当为设当前区域内既属于边界又属于边缘的所有像素(图中粗虚线框所示)的直方图为h2,则有h1=(h1+h2)-h2=(Ht将式(15)代入式(14)中可得H=Ht由此可见,区域边缘直方图依然可以通过积分直方图的简单加减运算得到,并没有增加求解的算法复杂度.3.4算法复杂度分析算法复杂度是衡量算法性能优劣的一项重要指标.下面简要分析灰度直方图、区域边缘直方图以及空间直方图的计算复杂度.已知原始图像的尺寸为N1×N2,目标模板的尺寸为n1×n2,在没有任何先验知识的前提下利用模板匹配算法从原始图像中检测已知的目标模板.设直方图的子区间数目为B,对于灰度直方图,利用迭代算法计算积分直方图每个像素需要进行2次B维的加减法和1次直方图寻址,求解当前区域直方图需要进行3次B维的加减法.直方图寻址主要是比较运算,其算法复杂度与加减法的算法复杂度同为O(n),因此灰度直方图总的算法复杂度为对于区域边缘直方图,利用积分直方图的结果及其代数运算即可获得最终的直方图数据,根据式(16)以及灰度直方图的算法复杂度可知,求解H1和H2的运算次数均为2B+1,求解Ht2各需3B次加减法,计算最终的H需要2B次Ht-1加减运算,加上最初的边缘像素标定所需的4次减法和3次与运算,区域边缘直方图的总的复杂度为对于空间直方图,由于其只能通过传统的方法来求解,因此在求解像素取值的频率分布时需要进行n1×n2次直方图寻址,求解像素坐标的空间分布时,首先要进行坐标值归一化,需要2(n1×n2)次乘法和n1×n2次加法,求解均值时需要进行2(n1×n2)次加法和2B次除法,求解协方差矩阵时需要进行4(n1×n2)次减法、2(n1×n2)次乘法和2B次除法.其总共的运算为n1×n2寻址,4(n1×n2)次加减法和4(n1×n2+B)次乘除法.由于乘除法的算法复杂度为O(n2),因此空间直方图的算法复杂度为Page6O2=O(5(n1×n2)+16(n1×n2+B)2)(19)由于空间直方图不满足区域可加性质,因此无法利用积分直方图进行优化计算.大量的重复寻址是导致空间直方图运算效率低下的重要原因.此外,空间直方图复杂的度量规则,进一步影响了其在实际应用中的运算效率.图5为灰度直方图、区域边缘直方图以及空间直方图进行穷举计算的运算时间比较,测试图像分辨率为321×481.由图可见,本文提图5灰度直方图、区域边缘直方图以及空间直方图图6测试图像及其对应的待检测模板图像4.1.1实验结果由于缺乏先验知识,因此模板检测需要通过在测试图像中进行穷举搜索的办法来完成.具体思路为:在原始图像中的任意像素位置,计算与模板图像大小相同的区域内部的图像特征,并与模板图像的出的区域边缘直方图的运算效率比空间直方图提高了2个数量级以上.边缘方向直方图在灰度直方图的基础上增加了边缘检测与梯度计算的步骤,但对于整幅图像只处理一次.梯度方向直方图分块统计梯度方向的直方图,也需要预先计算梯度的幅值和方向.二者在直方图的统计中均可以利用积分计算的方法进行优化,总的计算复杂度较灰度直方图有所增加,与本文提出的区域边缘直方图的计算复杂度相当.4实验结果与分析本节内容将通过图像特征描述子在模板检测与视觉跟踪中的应用实验来验证区域边缘直方图的有效性,并与其他几种常见的图像特征描述子进行比较,分析其优越性.实验中,所有直方图特征的子区间数目均设定为16,实验在主频3.29GHz内存3.24GB的个人计算机上进行,实验的仿真软件平台为MATLAB2011.4.1模板检测如图6所示,选择了Berkeley图像数据库①中的两幅图像作为模板检测的测试图像.图中左起第1幅为包含较多纹理信息的斑马图像,第2幅为从斑马图像中截取的待检测模板图像.第3幅为纹理信息适中的人物图像,第4幅为人物图像对应的待检测模板图像.模板检测的主要任务是通过模板匹配策略检测出模板图像在测试图像中的位置,当检测所得的位置与GroundTruth标定的真实位置之间的位置误差越小,表明检测结果的精度越高;反之亦然.特征进行相似性比较,当相似性度量值出现峰值时,表示检测到模板图像.图7~图9为模板检测实验结果比较,图中高亮区域为GroundTruth,检测结①http://www.eecs.berkeley.edu/Research/Projects/CS/Page7果用白色矩形框表示.图7为对图像直接进行检测所得的结果.由于背景区域存在与模板图像特征类似的区域,因此灰度直方图的检测结果出现偏差;边缘方向直方图和梯度方向直方图也受背景梯度分布的干扰,检测结果存在不同程度的偏差;空间直方图与区域边缘直方图的检测结果与真实结果几乎完全重合.图8为图像顺时针旋转30°后进行检测的结果.此时,边缘方向直方图、梯度方向直方图和空间直方图均受到图像旋转的干扰,斑马图像的检测结果偏向真实目标的右上方,人物图像的检测结果也与真实结果存在较大的偏差.相较而言,灰度直方图和区域边缘直方图对图像的旋转更加鲁棒,得到的检测图7直接检测结果比较(图中为局部放大显示,高亮区域为GroundTruth,白色矩形为检测结果,下同)图8顺时针旋转30°后进行检测结果比较图9添加高斯噪声(强度10%)后的检测结果比较结果与真实结果更为接近.需要指出的是,矩形模板在旋转过程中所包含的图像信息发生了变化,这对检测的结果造成了一定的影响.当利用圆形模板进行检测时,灰度直方图和区域边缘直方图对图像旋转的鲁棒性更强.图9为添加强度为10%的高斯噪声后进行检测的结果.由斑马图像的检测结果可以看出,5种特征描述子对噪声较为敏感,这是因为噪声的引入改变了原始的直方图分布,进而造成检测结果的误差增大.在人物图像的检测结果中,空间直方图与区域边缘直方图的检测结果相对更加精确.当噪声的强度进一步增强时,检测结果的误差会进一步增大.因此,在实际应用中,通常需要对图像进行平滑滤波与噪声抑制预处理.Page8表1对不同情况下5种特征描述子检测结果的位置误差进行了比较.在测试图像未发生任何变化的情况下,空间直方图和区域边缘直方图检测结果的位置误差均为0,灰度直方图和梯度方向直方图的检测误差也相对较小.由于受背景区域相似边缘分布的干扰,在斑马图像的检测结果中,边缘方向直方图检测结果的位置误差则达到了22.4.当测试图像发生旋转变化时,空间直方图、边缘方向直方图和(表中数值为检测位置与真实位置之间的欧氏距离)特征描述子直接检测Gray-H7.83.29.27.116.816.5EOH22.47.627.218.923.426.6HOG3.62.224.817.021.625.5Spati-H0018.417.37.812.2REH003.62.24.26.4图10Berkeley图像数据库中任选的20幅测试图像对每次实验,将检测所得区域与GroundTruth进行比较,计算二者之间的覆盖率(Overlap),当覆梯度方向直方图检测结果的位置误差明显增大,而区域边缘直方图与灰度直方图受图像旋转变化的影响较小,此时区域边缘直方图对斑马图像检测结果的位置误差仅为3.6,灰度直方图对斑马图像检测结果的位置误差也仅为9.2.当图像添加噪声后,检测误差均不同程度地增大,此时空间直方图和区域边缘直方图仍然具有一定的优势.4.1.2统计分析为充分验证本文所提图像描述算子在模板检测中的鲁棒性,从Berkeley图像数据库中任意选取了20幅测试图像(如图10所示).对于每幅图像均进行Harris角点检测,以角点响应值最大的前50个点为中心,分别截取40×40的模板图像,并在原始图像、旋转30°后图像和添加高斯噪声的图像中分别进行模板检测实验.对20幅图像的每幅图像进行50次实验,一共形成1000次检测实验.盖率大于0.5时认为该次检测成功,否则认为检测失败.覆盖率的计算公式如下:Page9式中,S1为检测所得区域,S0为GroundTruth.在1000次检测实验中,分别统计5种特征描述子在3种不同情况下各自检测成功的次数,并计算成功次数占总次数的百分比,如表2所示.分析可知,在图像未发生旋转变化时,空间直方图的检测成功率为96.3%,为所有特征描述子中的最优结果.本文提出的区域边缘直方图的检测成功率为95.9%,为仅次于空间直方图的次优结果.相较于边缘方向直方图,梯度方向直方图取得了更高的检测成功率.当原始图像发生角度旋转后,区域边缘直方图、梯度方向直方图以及空间直方图的检测成功率均明显降低.相较而言,灰度直方图和区域边缘直方图检测成功率的降幅明显要小,而且在旋转后,区域边缘直方图的检测成功率达到81.1%,为旋转情况下检测成功率的最优结果.在受高斯噪声干扰的情况下,特征描述子检测的整体成功率明显下降,此时区域边缘直方图仍达到了79.7%的检测成功率.表2不同情况下1000次检测的成功率比较特征描述子直接检测旋转变化添加噪声Gray-H86.275.371.5EOHHOG92.151.267.2Spati-H96.372.678.4REH图11选自Benchmark视频数据库中的6段视频跟踪所采用的特征描述子依次为灰度直方图(Gray-H),边缘方向直方图(EOH),梯度方向直方图(HOG),空间直方图(Spati-H)以及本文所提出4.2视觉跟踪视觉跟踪中,除了所处的背景环境变化外,目标自身的姿态、视角、尺度以及旋转等变化都对目标的准确跟踪带来干扰.在传统的视觉跟踪算法中,灰度直方图受背景的干扰较大,当背景中出现与目标区域灰度相似的区域时,算法往往不能得到正确的结果.空间直方图利用目标区域内像素取值的频率分布以及像素坐标的空间分布对目标进行特征描述,一定程度地抑制了虚假目标的干扰.这是因为,即使虚假目标区域像素取值的频率分布与真实目标完全一致,二者像素坐标的空间分布也不可能完全相同.然而,空间直方图对目标旋转的适应性较差,当目标发生旋转或是局部形变时,跟踪的结果会受到影响.区域边缘直方图通过对直方图子区间对应区域的边缘像素的统计来获取一定的空间分布信息,在增强了对虚假目标的抗干扰性的同时,保留了传统直方图对旋转的不敏感性.在跟踪过程中,它的描述条件比空间直方图要弱,更加适应目标表观模型的不断变化,鲁棒性更强.4.2.1实验结果为验证上述分析,在Wu等人建立的在线视觉跟踪评估平台OnlineObjectTrackingBenchmark①下进行了跟踪仿真实验.选取的6段视频及所跟踪目标如图11所示.图中被跟踪目标的初始模板用矩形框标出.的区域边缘直方图(REH).对于每段视频序列,跟踪算法的具体设计如下:①http://visualtracking.netPage10第1步.根据初始模板在图像中的位置提取对应的图像特征.第2步.输入一帧新的图像,对输入图像中的每个像素点,计算以该点为中心、与模板大小相同的区域的图像特征,并计算其与模板图像特征之间的相似性大小.第3步.选择相似度最大处作为当前帧的跟踪图12视觉跟踪实验的部分跟踪结果比较(图中黑色标记为区域边缘直方图跟踪结果)在跟踪过程中,灰度直方图容易被像素取值的频率分布与模板图像相似的区域所干扰,导致跟踪结果出现偏差,如Boy序列中的第207帧,Sylvester序列中的第857帧等.边缘方向直方图在边缘特征明显的情况下能够实现稳定的跟踪,但当出现虚假目标时无法进行有效判断,进而导致跟踪失败,如Jogging序列中的第163帧和302帧等.梯度方向直方图的跟踪结果与相应图像区域的梯度分布密切相关,当出现与模板图像梯度统计分布相似的图像区域时,跟踪结果会受到影响,如Sylvester序列中的第857帧,Jumping序列中的第252帧等.由于增加了直方图子区间内像素坐标的二阶空间矩信息,空间直方图的跟踪结果整体上更加稳定,在大多数情况下均能得到比较精确的结果.但当目标出现旋转或形变时,跟踪结果会受到一定影响,如Boy序列中的第537帧等.本文提出的区域边缘直方图保留结果,返回第2步直至跟踪完毕.为充分验证特征描述子对目标表观变化的鲁棒性,算法设计中没有进行模板更新.对于每种图像特征,均采用上述算法完成所有视频的跟踪,分别以不同线条的矩形框标记出跟踪的位置,跟踪的部分结果如图12所示.了灰度直方图的区域统计特性,对目标的旋转和形变具有更强的鲁棒性;同时利用直方图子区间对应图像区域的边缘像素分布来抑制虚假目标的干扰,使得跟踪结果更加稳定.4.2.2定量分析中心位置误差和跟踪成功率进行比较分析.跟踪精度的评价指标,其计算公式如下:中心位置误差(CenterLocationError)是衡量为对跟踪结果进行定量评价与统计分析,选取式中,(xk,yk)为第k帧的跟踪结果,(xk,yk)为第k帧的GroundTruth.中心位置误差的值越小,表示跟踪的结果与GroundTruth越接近,精度越高.图13给出了5种特征描述子对6段视频跟踪结果的中心位置误差比较,图中不同特征描述子的Page11中心位置误差以不同样式的线条区别,横坐标表示视频的帧序号,纵坐标表示中心位置误差值的大小.在Boy序列中,空间直方图和区域边缘直方图的结果明显优于其他3种特征描述子.Fish序列中,5种特征描述子的跟踪结果都不是十分理想,主要原因是目标区域的灰度特征不明显,且存在比较剧烈的图13跟踪结果的中心位置误差比较表3对5种特征描述子的中心位置误差进了统计分析,观察可知,空间直方图在两组视频序列中取得了最优结果,区域边缘直方图则在4组视频序列中取得了最优的结果,且在其余两组中,区域边缘直方图也取得了仅次于空间直方图的次优结果.视频序列Boy19.647.747.84.24.1Fish41.038.234.830.925.7Sylvester22.413.613.010.911.8Jogging109.037.238.723.29.6Mhyang17.813.813.211.211.0Jumping47.1103.453.817.018.5光照变化.Sylvester序列中,除灰度直方图以外,其他几种特征描述子跟踪所得的中心位置误差大部分都在10个像素以下,相较而言,空间直方图与区域边缘直方图的精度更高.在其余的3组视频序列中,除了Mhyang序列以外,空间直方图与区域边缘直方图的中心位置误差均明显小于其他特征描述算子.跟踪成功率(TrackingSuccessRate)是衡量跟踪稳定性的评价指标,其计算公式如下:式中,K为视频的长度,ρ(k)为式(20)定义的跟踪结果与GroundTruth之间的覆盖率,T0为阈值参数,通常设为0.5.f(·)为判断函数,当自变量为真时,函数值为1,否则为0.表4列出了5种特征描述子跟踪结果的成功率比较.在对Boy序列的跟踪结果中,空间直方图与区域边缘直方图的跟踪成功率均为100%,此时灰度直方图的成功率为77.7%,而边缘方向直方图和Page12梯度方向直方图的成功率均低于50%.这是由于被跟踪的目标同时存在旋转变化和虚假目标的干扰.其余的序列中,边缘方向直方图和梯度方向直方图的跟踪成功率明显高于灰度直方图,空间直方图在Sylvester序列和Jumping列中取得最高的跟踪成功率,而区域边缘直方图在Fish序列、Jogging序列以及Mhyang序列中取得最高的跟踪成功率.视频序列Boy77.742.831.5100.0100.0Fish27.333.848.563.285.2Sylvester46.476.873.083.982.1Jogging18.276.224.174.297.0Mhyang78.787.790.290.791.9Jumping15.630.330.388.585.3上述实验结果和比较分析表明,灰度直方图虽然对图像的旋转和局部形变具有一定的鲁棒性,但是当背景中存在虚假目标干扰时,性能会受到很大影响.边缘方向直方图和梯度方向直方图依赖于图像的梯度信息,因此对图像的旋转比较敏感.空间直方图具有较强的图像特征区分能力,但由于二阶空间矩是旋转敏感的,因此其对图像的旋转也比较敏感.本文提出的区域边缘直方图一定程度上增强了对图像特征的区分能力,且保留了传统直方图对图像旋转的不敏感性,因此,整体性能优于其他几种参考的直方图特征.此外,区域边缘直方图完成一幅321×481图像的穷举计算只需要20ms~30ms.5结论本文提出了一种基于区域边缘统计的图像特征描述新方法,该方法通过在传统灰度直方图中引入空间加权因子,并通过等效化简得到其简洁的表达形式,从而在保证算法复杂度基本不变的情况下,显著增强了对图像特征的区分能力.实验结果与分析表明:(1)区域边缘直方图比传统的直方图特征描述算子具有更强的特征区分能力,在模板检测中能够得到更高的检测成功率;(2)区域边缘直方图对图像的旋转不敏感,当图像出现旋转与局部形变时,基于区域边缘直方图的模板检测依然能够得到较为满意的结果;(3)在基于模板的视觉跟踪中,区域边缘直方图具有比传统直方图特征更高的跟踪精度和跟踪成功率.本文仅讨论了在灰度空间内的区域边缘直方图,下一步我们将研究区域边缘直方图在彩色空间的快速计算及其在其他领域的更多应用.致谢在此,我们全体作者向对本文工作提出宝贵意见和建议的专家们表示衷心的感谢!
