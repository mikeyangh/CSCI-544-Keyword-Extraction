Page1微博用户的相似性度量及其应用徐志明李栋刘挺李生王刚袁树仑(哈尔滨工业大学计算机科学与技术学院哈尔滨150006)摘要微博用户的兴趣分析和模型表示是用户关系分析的基础,而用户关系分析又构成了微博社会网络的生成和分析的基础.该文主要讨论微博的用户关系分析技术.作者将微博社会网络视为一个加权无向图,节点表示用户,边表示用户之间的关系,边的权值表示用户之间的关系强度.该文将用户关系强度定义为用户之间的相似度,分别给出了基于各种用户属性信息(背景信息、微博文本、社交信息)的用户相似度计算方法,并通过实验系统性对比了上述方法的优劣.实验结果显示:基于社交信息的用户相似度在用户关系分析方面取得了最好的效果.为了进一步验证上述用户相似度的实际性能,该文将它们应用于用户推荐的相关实验,基于社交信息的用户相似度又取得了最好的推荐效果.最后,该文应用基于社交信息的用户相似度生成了微博的社会网络(称作用户相似性网络),在该社会网络上进行了团体挖掘的实验,实验结果显示了该相似度在团体挖掘上的有效性.关键词微博;社会网络;用户相似度;团体挖掘;用户推荐1引言作为一种在线交互媒体,社会媒体(SocialMedia)的大量用户组成了虚拟网络社区,允许用户在线交流、发布自身的信息,并支持群体用户协作编辑、分享、传播信息.近年来社会媒体呈现多样化的发展趋势,从早期的论坛、博客、播客、维基到风头正劲的社交网站、微博,各种社会媒体的内在结构呈现了社会网络的特性,社会网络的分析技术(SocialNetworkAnalysis)正在成为网络技术研究的热点和趋势[1-2].作为一种社会媒体,微博媒体完美地仿造了人类的社会结构,将大量的用户组织成社会网络,满足了用户的信息个性化发布、社会性传播和社交的需求.另外,微博媒体具有超强的信息传播特性[3],微博信息可在社会网络上呈网状交叉扩散,随着转发次数的增多,传播速度呈指数性增长,相当于病毒式信息扩散的速度.对于传统的Web1.0的网络媒体,网站编辑人员发布的信息是用户获取信息的主要来源,搜索引擎成为人们查询网络信息的主要工具.而微博媒体正在改变着这一切,搜索引擎不再是人们获取信息的唯一工具,微博媒体正在成为人们发布信息、获取信息的主要工具.在微博媒体上,每个用户节点相当于一个信息频道,他可以自由发布自身信息,也可根据自身兴趣关注一些感兴趣的相关人物,建立起自己的社会关系,据此来接收他所关注的人物频道发布的信息.但是由于微博媒体往往拥有数以亿计的用户节点,当用户在建立自己的社会关系时,会面临着数据过载问题,因此帮助用户在大量的人群节点中发现其感兴趣的人群是非常重要的,而在线社区用户推荐就是一个有效的工具.在线社区用户推荐就是根据社会网络及其网络用户发布的信息,为目标用户推荐其感兴趣的潜在相关用户.在线社区用户推荐具有广阔的应用前景.站在用户的角度看,它可以帮助用户构建起社会关系,使用户获得更多感兴趣的信息;站在社会媒体的角度看,它扩大、增强了用户之间的交互性.社会网络的分析技术是在线社区用户推荐问题的基础,也是本文的研究重点.本文将微博媒体的社会网络分析技术分成以下3层:(1)节点分析.在微博社会网络中,每个节点代表一个用户.节点分析相当于对用户的兴趣分析和模型表示.具体分为几个步骤:①获取每个用户节点的相关信息;②从用户的相关信息中,提取用户的兴趣特征;③选择合适的模型表示用户,建立用户模型(UserProfile)[4-6].(2)关系分析.微博社会网络可被视为一个加权无向图,每个边表示两个用户之间的关系,边的权值表示它们之间的关系强度.微博用户关系分析的目的是:根据两个用户之间的相关信息,计算它们之间的关系强度[7].(3)网络分析.微博社会网络的分析对象是网络的拓扑结构,相关的研究集中在:团体挖掘(发现用户的社交圈)[8-9]、人物影响力计算[10-12]、信息传播[12-14]等问题.针对社会网络的用户关系分析问题[15-16],学者们开展了大量的相关研究.其中,一些学者利用用户相似度、网络拓扑结构的分析技术来计算用户关系强度[17-18],并应用于链接预测问题[16](LinkPrediction);Kahanda等人[19]利用用户之间的交互性来度量用户关系强度;Xiang等人[7]融合了用户相似度和用户之间的交互性,来计算用户关系强度;另外,用户关系分析经常也被用于好友推荐[20-22].本文主要研究了微博社会网络中的用户关系分析技术.针对用户信息的模型表示问题,分别给出了用户的几种属性信息(背景信息、微博文本、社交信息、交互信息)的模型表示方法,在此基础上,完成了用户的整体表示;本文将用户关系分析问题视为用户之间的相似度计算问题,并提出了基于各种用户属性信息的用户相似度计算方法,然后通过系统性的实验,考察了它们的性能.为了更深入地验证本文提出的用户相似度计算方法,本文首先将基于各种用户属性信息的用户相似度进行了用户推荐的实验,系统性地考察了它们在用户推荐问题上的表现;然后,本文应用基于社交信息的用户相似度生成微博的用户相似性网络,在该网络上进行了团体挖掘的实验,实验结果显示了基于社交信息的用户相似度方法的有效性.本文第2节阐述微博用户关系分析的总体研究思路;首先详细描述微博用户信息的采集、兴趣分析与模型表示方法;然后给出基于各种用户属性信息的用户相似度计算方法;第3节详细描述各种微博用户相似度算法的实验结果与分析;最后给出本文的结论以及未来的工作.2微博用户关系分析该部分主要阐述微博用户关系分析的技术,包Page3括可分为几个部分:数据获取、节点分析、关系分析、网络分析、信息推荐.将它们组合起来,形成一个微图1微博用户关系分析的技术平台2.1微博数据获取该部分根据新浪微博开放平台的API接口,设计了一个微博爬虫算法.它选择一组微博用户作为种子节点,利用雪球采样策略采集一组微博用户的个人数据,作为本文的实验数据.主要思想如下.(1)选择一组微博用户{ID1,ID2,…,IDm}作为种子节点,加入待爬行节点队列Q.(2)如果Q=NULL或超过阈值(预设的爬行时间或扩展层数),则退出;否则从Q中取出一个用户IDk.(3)利用新浪微博API访问函数,抓取该用户节点IDk的个人信息,将用户的背景信息(位置信息、标签信息、个人描述)、社交信息(关注信息、粉丝信息)、微博文本、交互信息(转发信息、评论信息),分别存入微博用户信息数据库.(4)扩展该节点IDk,将其邻居节点(IDk的关注列表中的全部用户ID)加入Q,转到(2).2.2微博节点分析该部分讨论微博用户信息的模型表示方法.对于给定的一个用户u,其用户信息包含4种属性信息(背景信息、微博文本、社交信息、交互信息),因此u的模型表示问题可分解为4种属性信息表示问题.即Profile(u)={Background(u),犜狑犲犲狋(u),Relation(u),Interaction(u)},具体说明如下:(1)Background(u):表示u的背景信息,包含u的3种属性信息(位置信息、标签信息、个人描述),均是短文本,可表示为字符串.Background(u)={Place(u),Tag(u),Introduction(u)}.博用户关系分析的技术平台(如图1所示),本文下面分别详细介绍各个部分的工作原理.(2)犜狑犲犲狋(u):表示u发布的全部微博所拼接成的长文本.本文将其表示为一个文本向量.过程如下:文本预处理.对犜狑犲犲狋(u)进行分词、停用词过滤、词性标注等处理;特征提取.采用信息增益的特征选择算法提取犜狑犲犲狋(u)的特征词,对文本进行降维处理;权重计算.犜狑犲犲狋(u)中的每个特征词i的权重wi,本文采用tfidf方法来计算,即wi=tfi(犜狑犲犲狋(u))×logN/ni,其中tfi(犜狑犲犲狋(u))表示特征词i在犜狑犲犲狋(u)中的频率,logN/ni为特征词i的逆文档频率.向量表示.犜狑犲犲狋(u)=(w1,w2,…,wn),其中wi为微博文本的某个特征词i的权重.(3)Relation(u):表示u的社交信息,包括两种属性信息(关注信息、粉丝信息),本文将它们分别表示为两个向量:关注向量犉狅犾犾狅狑犲犲(u)、粉丝向量犉狅犾犾狅狑犲狉(u),则Relation(u)={犉狅犾犾狅狑犲犲(u),犉狅犾犾狅狑犲狉(u)}.具体方法是:将所有用户编号{0,1,2,…,n},若用户u关注了编号为i的用户,则犉狅犾犾狅狑犲犲(u)的第i个分量为1,否则为0;同理,如果编号为i的用户关注了用户u,则犉狅犾犾狅狑犲狉(u)的第i个分量为1,否则为0.(4)Interaction(u):表示u的交互信息,包括两种属性信息(转发信息、评论信息).本文将它们分别表示为两个向量:转发向量犚犲狋狑犲犲狋(u)、评论向量犆狅犿犿犲狀狋(u).Interaction(u)={犚犲狋狑犲犲狋(u),犆狅犿犿犲狀狋(u)}.具体方法是:将所有用户编号{0,1,Page42,…,n},犚犲狋狑犲犲狋(u)的第i个分量表示用户u转发用户i的微博次数;犆狅犿犿犲狀狋(u)的第i个分量表示用户u评论用户i的微博次数.2.3微博用户关系分析这部分分析微博用户之间的关系强度.对于两个微博用户(u,v),他们的关系强度strength(u,v),可以根据他们的相似度sim(u,v)或他们的交互性Interaction(u,v)度量.其中,sim(u,v)更能揭示(u,v)之间潜在的兴趣相似性,而Interaction(u,v)一般只能反映已经建立起关注关系的用户之间的交互程度.因此从挖掘用户潜在的兴趣相关性的角度看,对于信息推荐来说,sim(u,v)更有应用价值.因此,本文将用户关系强度视为用户之间的相似度,strength(u,v)=sim(u,v),利用sim(u,v)来分析用户关系.对于(u,v),Profile(u)=Background(u),犜狑犲犲狋(u),Relation(u),Interaction(u)},Profile(v)={Background(v),犜狑犲犲狋(v),Relation(v),Interac-tion(v)}.本文根据(u,v)之间的前3种属性相似度来计算(u,v)之间的相似度sim(u,v).具体方法是:先求解(u,v)的各个属性相似度,然后对它们进行加权融合,来计算sim(u,v).即sim(u,v)=ω1sim(Background(u),Background(v))+其中,ωi为各个属性相似度的权重,ω1+ω2+ω3=1.各个属性相似度的计算描述如下.2.3.1微博用户的背景信息相似度计算对于两个用户(u,v),他们的背景信息包含3种属性信息(位置信息、标签信息、个人描述),分别表示为Background(u)={Place(u),Tag(u),Introduction(u)},Background(v)={Place(v),Tag(v),Introduction(v)}.其背景信息相似度sim(Background(u),Background(v)),可以根据(u,v)之间的各个属性相似度而计算:sim(Background(u),Background(v))=ω1sim(Place(u),Place(v))+ω2sim(Tag(u),Tag(v))+ω3sim(Introduction(u),Introduction(v))(2)其中ωi为各个属性相似度的权重,ω1+ω2+ω3=1.式(2)中右边各个属性相似度计算方式如下.(1)sim(Place(u),Place(v)):表示(u,v)之间的位置信息相似度.因为新浪微博的位置信息是“省/市”结构,所以本文采用分层比较的方法来计算sim(Place(u),Place(v)).若Place(u)和Place(v)的省、市信息均相同,则sim(Place(u),Place(v))=1;若省信息相同,市信息不同,则sim(Place(u),Place(v))=2/3;若省、市信息均不同,则为0.(2)sim(Tag(u),Tag(v)):表示(u,v)之间的标签相似度,本文采用编辑距离方法计算[23].因为,编辑距离常用于评价两个字符串间的相似度,也可用于计算两个自然语言语句的相似度.编辑距离反映了两个字符串的绝对差异,而相似度以一个[0,1]之间的数值反映两个字符串的相似程度,数值越大表示相似程度越高.令Tag(u)、Tag(v)的编辑距离为Distance(Tag(u),Tag(v)),length(x)表示x的长度,则Tag(u)、Tag(v)之间的标签相似度的计算公式如下:sim(Tag(u),Tag(v))=1-Distance(Tag(u),Tag(v))/max(Length(Tag(u)),Length(Tag(v)))(3)(3)sim(Introduction(u),Introduction(v)):表示(u,v)之间的个人描述相似度.其计算方法与标签相似度相同.具体的公式为sim(Introduction(u),Introduction(v))=1-Distance(Introduction(u),Introduction(v))/max(Length(Introduction(u)),Length(Introduction(v)))2.3.2微博用户的文本相似度计算对于两个用户(u,v),它们的微博文本可分别表示为两个文本特征向量,犜狑犲犲狋(u)=(wu1,wu2,…,wun),犜狑犲犲狋(v)=(wv1,wv2,…,wvn).(u,v)之间的微博文本相似度sim(犜狑犲犲狋(u),犜狑犲犲狋(v))的计算公式如下:sim(犜狑犲犲狋(u),犜狑犲犲狋(v))=∑n2.3.3微博用户的社交信息相似度计算对于两个用户(u,v),他们的社交信息分别表示为Relation(u)={犉狅犾犾狅狑犲犲(u),犉狅犾犾狅狑犲狉(u)},Relation(v)={犉狅犾犾狅狑犲犲(v),犉狅犾犾狅狑犲狉(v)}.因此(u,v)之间的社交信息相似度的计算问题可以分解为两种属性信息(关注信息、粉丝信息)的相似度计算问题.本文先采用了余弦相似度方法来计算(u,v)之间的两种属性信息相似度[24],(u,v)的关注信息相似度、粉丝信息相似度的计算公式分别为sim(犉狅犾犾狅狑犲犲(u),犉狅犾犾狅狑犲犲(v))=(犉狅犾犾狅狑犲犲(u)·犉狅犾犾狅狑犲犲(v))/Page5(‖犉狅犾犾狅狑犲犲(u)‖‖犉狅犾犾狅狑犲犲(v)‖)(6)sim(犉狅犾犾狅狑犲狉(u),犉狅犾犾狅狑犲狉(v))=(犉狅犾犾狅狑犲狉(u)·犉狅犾犾狅狑犲狉(v))/(‖犉狅犾犾狅狑犲狉(u)‖‖犉狅犾犾狅狑犲狉(v)‖)(7)另外,本文给出了另外一组(u,v)之间的关注信息相似度、粉丝信息相似度的计算公式,分别为sim(犉狅犾犾狅狑犲犲(u),犉狅犾犾狅狑犲犲(v))=(犉狅犾犾狅狑犲犲(u)·犉狅犾犾狅狑犲犲(v))/(log‖犉狅犾犾狅狑犲犲(u)‖2log‖犉狅犾犾狅狑犲犲(v)‖2)sim(犉狅犾犾狅狑犲狉(u),犉狅犾犾狅狑犲狉(v))=(犉狅犾犾狅狑犲狉(u)·犉狅犾犾狅狑犲狉(v))/(log‖犉狅犾犾狅狑犲狉(u)‖2log‖犉狅犾犾狅狑犲狉(v)‖2)为了保证式(8)和(9)的计算结果处在[0,1]区间,本文对它们进行了正规化处理.sim(A,B)=(sim(A,B)-MIN)/(MAX-MIN)其中,MAX是所有用户之间社交信息相似度的最大值,MIN是最小值.上述的微博用户的关系信息相似度、粉丝信息相似度,即可以单独作为社交信息相似度使用,也可以将它们加权融合,来计算用户之间的社交信息相似度:sim(Relation(u),Relation(v))=ω1sim(犉狅犾犾狅狑犲犲(u),犉狅犾犾狅狑犲犲(v))+ω2sim(犉狅犾犾狅狑犲狉(u),犉狅犾犾狅狑犲狉(v))(11)其中,ωi是关注信息相似度、粉丝信息相似度的权值,ω1+ω2=1.2.3.4微博用户的交互性计算对于两个用户(u,v),他们之间的交互信息分别表示为Interactive(u)={犚犲狋狑犲犲狋(u),犆狅犿犿犲狀狋(u)},Interactive(v)={犚犲狋狑犲犲狋(v),犆狅犿犿犲狀狋(v)}.将所有用户编号{0,1,2,…,n},设(u,v)的编号分别为(i,j).犚犲狋狑犲犲狋(u)的第j个分量表示用户u对用户v的微博转发次数,记为Retreet_num(u->v);犆狅犿犿犲狀狋(u)的第j个分量表示用户u对用户v的微博评论次数,记为Comment_num(u->v).同理,犚犲狋狑犲犲狋(v)的第i个分量表示用户v对用户u的微博转发次数,记为Retreet_num(v->u);犆狅犿犿犲狀狋(v)的第i个分量表示v对u的微博评论次数Comment_num(v->u).本文给出了(u,v)之间的交互性计算公式:Interactive(u,v)=ω1Retreet_num(u->v)+Retreet_num(v->u)ω2Comment_num(u->v)+Comment_num(v->u)其中,ωi是转发行为、评论行为的权值,ω1+ω2=1.3实验及分析为了测试本文提出的几种微博用户的相似度计算方法,本文开展了相关的实验.实验包括3个方面:(1)系统地对比几种用户属性信息的相似度计算方法的优劣;(2)应用基于各种用户属性信息的用户相似度开展了用户推荐的相关实验,以便考察它们在用户推荐方面的性能;(3)应用基于社交信息的用户相似度,生成微博的用户相似性网络,在该网络上进行了团体挖掘的实验;下面给出了详细的实验介绍.实验数据:对于微博用户关系分析问题来说,尚缺少公开的中文标准数据集.本文的实验数据来自于自行开发的微博爬虫所搜集到的一组新浪微博的用户数据(采集时间是2011年10月20日),主要是由国内互联网高管领域相关用户的社交圈组成.采集方法是:首先从新浪微博名人堂互联网高管领域中挑选50个用户作为种子节点,利用雪球采样的爬行策略,顺着种子节点的关系链向外爬行扩展一层,得到本文实验1、2研究的用户集合U(共157812人)以及它们的个人信息(157812人)以及它们的个人背景信息(157812条)、社交信息(11684003条)、微博文本(5712552条)、转发与评论信息(5415110条).3.1实验1:微博用户的属性相似度的对比实验评价策略:在实验数据的用户集合U上,本文对微博用户之间的各种属性信息(背景信息、微博文本、社交信息)的相似度计算方法进行实验测试.对于每个待测的用户相似度计算方法的测试方法,具体如下:(1)对于每个用户u∈U,利用用户的交互性计算公式(12),计算u与犉狅犾犾狅狑犲犲(u)中每个元素v之间的交互性,然后按着交互性对犉狅犾犾狅狑犲犲(u)中的元素进行降序排列,得到u的最关注的用户有序集,称作u的关注序列F(u).(2)对于每个用户u∈U,利用待测的用户相似度算法,计算u与U-{u}中的每个元素v之间的相似度,然后按照相似度对U-{u}中的所有元素进行降序排列,得到一个与u最相似的用户有序集,称作u的相似序列S(u).Page6本文将u的相似序列S(u)视为待测结果,将u的关注序列F(u)视为标准答案.通过对比F(u)、S(u)的差异,来评价所使用的用户相似度算法的性能.将S(u)、F(u)的前N个元素组成的子集分别记为SN价指标:P@N和排序准确率(Accuracy)比较两个序列S(u)、F(u)之间的差异,从而实现对用户相似度算法进行评价,其中P@N的计算公式如下:1(u)、FN在实验中,N分别取3、5、10、15、20、25、30、35、40、45、50.在P@N的计算公式中,没考虑SN1(u)之间的元素的排列次序的因素,本文采用排FN序准确率(Accuracy)指标对用户相似度算法继续评价,其计算公式如下:实验设置:本实验利用用户之间的交互性所产生的关注序列,比对各种用户之间的相似度所产生的相似序列,来评价相应的用户相似度计算方法的优劣.其中,用户(u,v)之间的属性相似度、交互性计算公式中的权重采用层次判别矩阵计算得出,权重设置如表1所示.表1中的权值计算所使用的层次判别矩阵如表2所示.表1实验中的权重设置sim(Background(u),Background(v))转发信息ω1=0.25关注信息ω1=0.167位置信息ω1=0.297背景信息ω1=0.139表2实验中计算权重的判别矩阵交互信息转发信息评论信息背景信息位置信息标签信息个人描述地理位置个人标签个人描述1/2(1)微博用户的背景信息相似度的实验结果.该实验的动机是考察微博用户的背景信息及其3种属性信息(位置信息、标签信息、个人描述)对用户相似度的影响.实验内容:首先分别计算用户的位置信息相似度、标签信息相似度、个人描述相似度,然后将它们加权融合,得到用户的背景信息相似度.图2(a)和(b)分别给出了上述各种相似度在P@N和排序准确率上的实验结果.实验结果显示:用户的背景信息的3种属性信息相比,位置信息相似度的实验结果最好;综合地看,3种属性信息相似度加权融合而成的用户的背景信息相似度的实验结果Accuracy=1|U|∑u∈U式(14)中,对于关注序列F(u)中的每个用户i,它在F(u)、S(u)中出现的次序位置分别记为F(u)_ranki、S(u)_ranki.社交信息关注信息粉丝信息用户信息背景信息社交信息微博文本资料信息社交信息微博文本1/3最好.(2)微博用户的社交信息相似度的实验结果.该实验的动机是考察微博用户的社交信息及其两种属性信息(关注信息、粉丝信息)在计算用户相似度上的性能.实验内容:M1表示一组面向社交信息的对数相似度(式(8)、(9)),而M2表示一组面向社交信息的余弦相似度(式(6)、(7)).首先分别利用M1和M2计算用户的关注信息相似度、粉丝信息相似度,得到M1的关注信息相似度、M1的粉丝信息相似度、M2的关注信息相似度、M2的粉丝信息相似度;采用式(11)分别将M1(或M2)计算的关注信息Page7相似度、粉丝信息相似度加权融合,得到用户的M1-社交信息相似度(或M2-社交信息相似度).图3(a)和(b)分别给出了上述各种相似度在P@N和排序准确率指标上的实验结果.实验结果显示:对于用户相似度来说,M1的粉丝信息相似度的P@N最好,而M2的粉丝信息相似度的排序准确率最高.(3)微博用户相似度的实验结果.该实验的动机是考察用户信息及其3种属性信息(背景信息、微博文本、社交信息)在计算用户相似度上的性能.实验内容:首先计算微博文本相似度、社交信息相似度、背景信息相似度,然后对它们加权融合,得到用户的整体相似度.图4(a)和(b)给出了上述各种相似度在P@N和排序准确率上的实验结果.实验结果显示:对于用户相似度来说,用户信息的3种属性信息相比,社交信息相似度的P@N和排序准确率实验结果均最好,而用户的整体相似度均次之.通过上述实验结果的观察,可见当计算两个用户之间的相似度时,用户的结构性信息(社交信息)所起的作用较大,而用户的文本性信息(背景信息、微博文本)所起的作用较小.可能的原因是对于一个微博人物来说,他的个人信息(背景信息、社交信息、微博文本、交互信息)可分为两类:结构性信息(社交信息)与文本性信息(背景信息、微博文本、交互信息)①.(1)用户的文本性信息的特点.①用户的背景信息的不完整性.因为用户的背①用户的背景信息、微博文本、交互信息内部,也带有一定的Page8景信息涉及用户隐私,很多用户没填写完整的背景信息,这影响了它们刻画用户特征的能力.②用户发布的微博常常带有很大的随意性,含有大量的噪音信息,不能完全精确地反映用户的兴趣意图.③上述的背景信息、微博文本均为短文本信息,抽取用户兴趣特征有一定难度.(2)用户的结构性信息的特点.①与用户的文本性信息相反,用户的结构性社交信息反映了用户的社会关系,决定着用户们愿意接收的人物频道信息,因此被用户精心地维护、选择,因此社交信息几乎没有噪音信息,可以更准确地反映用户的兴趣.②其中,对于用户的社交信息来说,粉丝信息与关注信息相比,前者对度量用户之间的相似度所起的作用更大的原因在于:(i)用户的关注信息反映了他的兴趣多样性,而不能反映他最本质的兴趣特征,而用户的粉丝信息则更能反映用户最本质的兴趣;(ii)关注信息往往比粉丝信息少得多,粉丝信息往往比关注信息带有更多的信息量.基于上述两种原因,两者相比,粉丝信息更能反映人物之间的相似性.3.2实验2:微博用户相似度的用户推荐实验评价策略:在实验数据的用户集合U上,本文利用上述微博用户相似度计算方法进行了用户推荐的实验,测试这些算法对用户推荐的能力.对于每个待测的用户相似度计算方法的测试方法如下:(1)对于每个用户u∈U,从犉狅犾犾狅狑犲犲(u)中随机删除50%的元素,被删除的元素组成一个集合T(u).(2)利用用户的交互性计算公式(12),计算u与T(u)中每个元素v之间的交互性,然后按交互性对T(u)中的元素进行降序排列,得到u的按交互性排序的、被删除的用户有序集,称作u的删除序列D(u).(3)对于每个用户u∈U,利用待测的用户相似度算法,计算u与U-{u}-犉狅犾犾狅狑犲犲(u)中的每个元素v之间的相似度,然后对U-{u}-犉狅犾犾狅狑犲犲(u)中的所有元素按该用户相似度进行降序排列,得到与u最相似的用户有序集,称作u的相似序列S(u).本文将u的相似序列S(u)视为待测结果,将u的删除序列D(u)视为标准答案.通过对比S(u)、D(u)的差异,来评价所使用的用户相似度算法在用户推荐上的性能.将S(u)、D(u)的前N个元素组成的子集分别记为SN指标:P@N和MAP比较两个序列S(u)、D(u)之间的差异,从而实现对用户相似度算法进行评价,其中P@N的计算公式如下:在实验中,N分别取3、5、10、15、20、25、30、35、40、45、50.MAP的计算公式如下:MAP=1式(16)中,对于删除序列D(u)中的每个用户i,它在S(u)中出现的次序位置记为S(u)_ranki.(1)基于背景信息相似度的用户推荐实验结果该实验的动机是考察用户的背景信息及其3种属性信息(位置信息、标签信息、个人描述)的相似度在用户推荐上的性能.实验内容:分别应用上述各种相似度,进行用户推荐.图5(a)和(b)给出了上述各种相似度在P@N和MAP上的实验结果.实验结果显示:对于用户信息推荐来说,用户背景信息的3种属性信息相比,位置信息相似度的用户推荐效果最好;综合地看,3种属性信息加权融合而成的用户背景信息相似度的用户推荐效果最好.(2)基于社交信息相似度的用户推荐实验结果该实验的动机是考察用户的社交信息及其两种Page9属性信息(关注信息、粉丝信息)的相似度在用户推荐上的性能.实验内容:分别应用上述各种相似度,进行用户推荐.图6(a)和(b)给出了上述相似度在P@N和MAP指标上的实验结果.实验结果显示:在P@N和MAP指标上,M1的粉丝信息相似度的用户推荐效果最好.(3)基于用户相似度的用户推荐实验结果该实验的动机是考察用户信息及其各个属性信息(背景信息、社交信息、微博文本)的相似度在用户推荐上的性能.实验内容:分别应用上述各种相似度,进行用户推荐.图7(a)和(b)给出了上述各种相似度在用户推荐上的实验结果.实验结果显示:对于用户推荐来说,用户信息的3种属性信息相比,社交信息相似度取得了最好的推荐效果.上述实验考察了各种用户相似度方法在用户推荐上的性能.根据实验结果,我们观察到:在用户的各种信息中,用户的结构性社交信息对用户推荐所起的作用较大,而用户的文本性背景信息、微博文本所起的作用较小.换言之,用户的各种信息对于用户之间的相似度计算问题以及由此开展的用户推荐问题所起的作用具有较为一致的规律,即结构性的社交信息更好地刻画了用户之间的相似特征.本文根据M1式(9)的用户相似度开发了一个微博用户推荐的应用程序,举例:图8是给白硕老师推荐的用户好友,图中深色的边表示推荐的用户,深色边的粗细度表示推荐力度.3.3实验3:用户相似性网络初步的团体挖掘实验考虑到实验1、2所使用的数据集涉及到的人物节点数目较大,我们难以将它们的团体分析的实验结果在论文中清晰展现.因此我们选取了新浪微博的NLP领域人群作为本文的团体挖掘的实验数据.最初随意选定了5个NLP领域的用户(@白硕sse、@马少平THU、@计算所王斌、@刘挺Thomas、@徐志明Jonathan)作为种子节点,利用雪球采样的爬行策略,顺着种子节点的关系链向外爬行扩展一层,得到实验3的用户集合U(共646人).在此数据集上,首先根据微博人物之间的社交信息相似度式(9),计算任意两个人物之间的相似度,据此生成了人物相似性矩阵,称之为用户相似性网络(它是社会网络的一种特例.广义上讲,我们可以根据各种人物关系而定义不同的社会网络,例如:根据人物之间的关注关系、交互关系、相似性关系等,可分别构造出关注网络、交互性网络、相似性网络等).然后通过一个阈值r过滤网络中关系较弱的边(在本文中,r=0.05),得到一个关系更紧密的用户相似性网络(包括269个用户节点、3607条边).这样,我们就以微博用户为节点、以用户之间的相似度为边的权值,构造出用户相似性网络.具体地讲,我们将用户相似性网络表示为一个XML数据文件,它定义了用户相似性网络的图数据,包括图的节点属性、边的属性以及图的节点集Page10合、边的集合等.然后将其输入到NodeXL(微软、斯坦福大学等多所大学联合研发的一个开源社会网络分析软件).该软件读入用户相似性网络的XML数据文件,然后调用它自带的CNM团体挖掘算法对该网络进行团体挖掘、可视化展示[25],得到了图9.图中可见:该团体挖掘方法把本文研究的人物集合分为18个团体,左边3个团体是NLP领域的社交图8“@白硕sse”的好友推荐图9r=0.05的人物相关性网络圈,其中标记为左1的团体代表NLP企业界社交圈,而标记为左2上的团体代表NLP教师的社交圈,标记为左2下的团体代表NLP学生的社交圈.图中连接NLP教师社交圈与学生社交圈的那些节点恰好是那些刚刚由学生身份变成教师身份的用户节点,该类节点既与学生交互频繁,同时也和教师交互密切;右边15个团体基本上和NLP领域不相关,Page11根据它们每个团体也被良好地划分,比如标记为右1上的团体代表微博的一些明星的社交圈,标记为右2上的团体代表一些运动员的社交圈.由此可以看出:本文提出的基于社交信息的微博用户相似度计算方法以及由此生成的用户相似性网络,在团体分析方面有着较好的表现力.同时,该实验也从侧面验证了本文提出的微博用户关系分析的正确性.4结束语本文利用微博用户数据,开展了微博用户关系分析的研究工作.针对微博用户信息的特点,分别给出了用户属性信息的模型表示、用户相似度的计算方法.系统性考察了基于3种不同类型的用户属性信息(背景信息、社交信息、微博文本)的用户相似度的性能,实验结果表明:社交信息对用户的关系分析最有价值,基于社交信息的用户相似度对用户的关系分析能力最强.为了进一步考察基于各种用户属性信息的用户相似度的实际性能,我们开展了用户推荐的实验,实验结果显示:基于社交信息的用户相似度对用户推荐的效果最好.最后,为了验证基于社交信息的用户相似度对团体挖掘的性能,我们利用基于社交信息的用户相似度,计算了用户关系强度,据此构造了微博的用户相似性网络,并在该网络上开展了团体挖掘的初步实验,实验结果证明了该方法的有效性.本文的局限在于:本文只是给出了人物相似性网络的团体分析的初步实验结果,尚未展开系统性的团体分析算法的研究,下一步准备系统地研究该网络的团体分析问题.
