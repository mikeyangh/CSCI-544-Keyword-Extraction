Page1基于向量的几何可读自动证明葛强1),2)张景中2)陈矛2)彭翕成2)1)(河南大学数据与知识工程研究所河南开封475004)2)(华中师范大学国家数字化学习工程技术研究中心武汉430079)摘要几何定理机器证明已经成功发展了多种新方法,但其中对中学几何中向量的机器证明研究没有抓住其回路的基本特征.文中以向量的回路为出发点,提出了基于回路的向量可读证明新方法,开发了机器证明新程序.该程序对常见的构造类型欧氏几何题目能快速作图,并依据题目类型的不同,分别用不同的向量方法对其进行自动推理,证明结果简短可读.经过大量实例测试,证明将向量用于几何自动推理是可行和高效的.与《超级画板》等中的证明器相比,文中算法在自动推理能力和证明过程可读性方面有较大提高.文中给出的基于向量的几何可读证明算法丰富了几何定理自动推理方法,并且具有应用于几何教学实践的价值.关键词机器证明;可读证明;前推法;向量;回路1引言几何学作为具有严密逻辑的一门科学已经诞生了二千多年.它借助于巧妙的论证技巧能解决大量的几何命题.近几百年来,陆续有学者希望用统一的手段来处理千变万化的几何问题,如笛卡尔(1596~1650)、莱布尼兹(1646~1716)等.直到希尔伯特(1862~1943)应用笛卡尔发明的坐标法才对仅涉及点和直线关联性质的一类几何命题给出了一种机械判定算法.自从计算机成功发明后,几何定理机器证明研究领域的才逐渐形成.几何定理的机器证明在自动推理的研究中占有重要的地位.自吴法[1-2]发表至今30年,几何定理机器证明的研究和实践有了重大的进展.代数方法、数值方法均能有效地判定所给几何定理的真假,现在的研究趋势是使证明过程简短、可读,使得有背景知识的人可以轻松看出结果是否正确.可读的推理结果不仅可以用于科学研究,更可以用于教育教学.张景中先生提出了基于不变量的机器证明方法[3-4],加速了可读证明研究的步伐.众所周知,搜索法能生成可读的证明,为几何证明机械化提供了新的方法[5-8].上面所述的各种机器推理证明方法,各有优点,可用于求解不同的几何题目,显示了算法的多样性和几何的丰富多彩性.它们研究的共同对象是欧氏几何,这是中小学数学学科的必学内容.但是,目前自动推理的研究成果在几何教育中并没能得到充分的应用,主要原因在于上述研究方法产生的证明过程并不容易看懂,还需要另外学习很多其它辅助知识,增加了应用于教育的难度.近年来,向量作为一个新的知识点被引入中学几何教学大纲之中.中学向量知识简单易懂,具有数形结合的特点,为几何证明提供了一种新的途径.因此,有必要研究一种新的基于向量的机器证明方法,使之能够抓住向量的本质特征,以生成简洁优美的可读证明,推动几何定理机器证明在教育中的应用.尽管几何学已经出现了二千多年,但对其研究随着计算机的发展仍然在进行.已经有研究者研究了几何向量的公理系统[9]和几何对象的语义表示问题[10].这些研究扩大了机器证明的范围,为向量应用于机器证明提供了思路.本文在这些研究成果的基础上,基于中学向量知识的特点,提出了向量回路的概念,并基于向量回路给出了一系列向量运算规则和向量证明子算法.为使其证明过程可读,整体上采用搜索法.根据不同的题目,分别采用前推法和后推法,这样使得证明过程简洁可读.基于向量回路概念的几何定理机器证明方法非常直观,抓住了向量加减法的特点,对于帮助培养学生证题技巧、开拓学生解题思路具有重要意义.作为一种新的可读证明方法,本文成果可发展为教育软件,在中学几何教学中推广应用.需要指出的是,Chou等人[11]、Stifter[12]也曾利用向量对几何定理机器证明作过研究.文献[11]利用向量的内积与外积公式逐步消去构造点的消点方法,可以证明一些结论为等式型的构造型几何命题;文献[12]则采用向量空间中的Grnber基方法,来证明那些几何关系可形式化为点之间代数运算的几何题目.这两种方法各具特色,但他们的证明过程可读性不强,不是传统的可读证明形式,无法在中学几何教学中推广应用.本文方法和这两种方法是应用相同向量公理系统中的不同知识点进行的机器证明研究.本文方法基于中学几何教学大纲中的基本知识,抓住了向量能够构成回路这一直观特性,所得证明过程简短可读,更能被中学教师和学生所接受.2欧几里得几何学的向量公理系统每个几何系统都可用许多(等价的)公理系统来刻划.两个等价的公理系统可以建立在不同的无定义项集合上,而在某一公理系统中的无定义项可以在一个等价的公理系统中由另外的概念来定义.因此,在19世纪末和20世纪初期出现了欧几里得几何学的多个等价公理系统.希尔伯特(Hilbert1862~1943)提出的平面几何公理系统采用“点和直线”作为无定义项.差不多与此同时,意大利数学家皮利(Pleril1860~1913)提出的欧几里得几何学公理系统是建立在无定义项“点与运动”之上的,大约也那时,俄国几何学家卡冈(Kaganl860~1953)阐述的公理系统却是建立在“点与距离”概念之上的.近几十年提出的(平面和空间)欧几里得几何学公理系统通常是建立在无定义项“点和向量”基础上的.欧几里得平面几何学的公理系统也可以是向量的,并且包括五组公理,包括I向量的加法公理、II数乘公理、III维数公理、IV数量积公理和V点-向量关系的公理[9].我们的无定义项是点和向量,并认为实数是己给定的.要求向量构成一个向量空间,即向量加法是可交换、可结合的.向量数乘是可结合的,对于数的Page3加法是可分配的,对向量加法也是可分配的.I和II组公理蕴含着零向量0以及一个给定向量犪的加法逆元犪=-犪的唯一性.我们正在研究的平面几何学(或二维几何学)由下列III维数公理、IV数量积公理及V点-向量关系的公理所定义.在本文中使用最重要的是应用III维数公理:III1:对于任意3个向量犪,犫,犮,存在不全为零的3个数,使得III2:存在2个向量犪,犫,使得通常,维数公理的阐述包含着向量线性相关的概念.我们说向量是犪1,犪2,…,犪k线性相关的,如果存在不全为零的数α1,α2,…,αk,使得反之,我们就说向量犪1,犪2,…,犪k是线性无关的.为了使公理I、II和III所决定的二维向量空间(向量平面)成为欧几里得向量空间,我们还必须在连结着向量和(实)数的无定义关系中添入一个二元运算,叫做向量的数量积.它把一对向量犪,犫结合到一个数α,叫做犪与犫的数量积,记为犪犫.向量的数量积是可交换的,对于向量的数乘运算是可结合的,对向量加法是可分配的,数量积是半正定的.在两个无定义项—点和向量以及I、II、III、IV和V组公理基础上展开欧几里得几何学是很方便的.然而,在绝大多数科学文献中,这个题目的阐述都只依赖于一个无定义项:向量.这样表述时,省略去第V组公理,并且将点与向量视为同一.向量公理系统的建立,为几何对象及几何关系的表示奠定了理论基础.由于向量是结合了图形与代数的表示,因此,向量法的证明过程是与图形紧密联系的.虽然,其可读性不依赖于图形,但可以借助于图形更好地理解其向量的回路.3基于搜索法的向量法可读证明本节介绍几何推理引擎用前推法进行几何定理证明的原理,重点描述介绍向量推理规则的构造.几何推理引擎是指在几何定理机器证明中,根据输入的几何信息,调用相应的推理规则,以生成新的几何信息的应用程序模块.一般地,几何前推搜索过程存在一个推理不动点,即信息总体数量不会再增加,这是判断推理引擎是否停止工作的标志.3.1推理引擎的数据源注意数形结合,灵活选择回路,利用共线线段成比例性质和向量维数公理,必要时辅以向量的内积,这就是用向量法解几何题的基本思路.在本文中,几何推理引擎主要使用的是前推法来实现这个基本思路.在一些目标明确的向量法规则中可以局部地应用后推法[13].推理引擎的数据源是构造型几何图形.它根据几何图形关系进行信息提取,作为输入数据.再根据已有信息的特点,调用各个推理规则,全部规则调用结束后查询信息库中信息的数量,如果有变化,再继续循环,没有则结束.推理引擎在数据驱动的基础上进行算法调配.由于各种算法都有相应输入数据作为驱动,那么各种数据就会对应有各种算法,根据一种或多种信息的组合,推理引擎调用其对应的算法,算法执行得到的结果被存储到相应的信息库.几何关系的向量表示形式与欧氏几何表示形式不同,其实是等价的,只是欧氏几何在生活中更为常用,流传更广.因此,向量法证明结论有时需要转换成欧氏几何表示法.向量法会得出一些普通前推法不能得到的数据信息,将其转化为对应的欧氏几何表示方法,存储入信息库,方便读取和显示,为下一步推理提供了更多的数据.向量是中学的教学内容,向量推理算法是已有机器证明方法的必要补充.它的出现不仅丰富了几何关系的表示形式,也进一步丰富了机器证明方法.普通的几何推理引擎加上了向量法之后,可以提高其推理能力和效率.3.2平面几何与向量的相互表示平面上任意一个几何对象或几何关系,如:线段、多点共线、线段平行、垂直、相等、平行四边形等,都有相应的向量表示形式.为了统一表示几何信息,对向量形式的证明结论要用欧氏几何方法来表示.表1仅列出了本文需要用到的一些表示形式.平面几何表示形式向量表示形式线段AB犃犅点C在线段AB上犃犆=k·犃犅k≠0,k为AC与AB长度AB//CD犆犇=k·犃犅k≠0,AB与CD同向AB⊥CD犃犅·犆犇=0两线段垂直,向量内积为0平行四边形ABCD犃犅=犇犆平行四边形两组对边分别正方形ABCDPage43.3基于向量法的推理算法向量的推理算法抓住了向量运算的特点,利用向量直观的优势,对于一些交点类构造型题目可以生成简短的证明过程[14].3.3.1向量法证明工具(1)基本回路法所谓回路,就是从向量的一个端点出发,通过一组线段仅一次又回到终点的那个通路,这个通路与原向量是等价的,是向量加法的几何表现形式.最简单的回路表达式就是在向量运算中,经常要用与某个向量等价的多个向量的和来代替这个向量.这样,就可以引入后续的交点或是数量信息,方便进行后续代换,得到关于求证结论的关系表达式.(2)向量数乘的运用利用向量数乘公理,可以表示更多的向量.实数k与向量犪的积也是一个向量,记作k犪.当k>0时,k犪的方向与犪的方向相同;当k<0时,k犪的方向与犪的方向相反;当k=0时,k犪=0,方向是任意的.显然,向量数乘满足交换律、结合律与分配律.(3)向量内积的运用已知两个非零向量犪={x1,y1},犫={x2,y2}它们的夹角为θ(0θ<π)则犪·犫=犪犫cosθ叫做犪与犫的数量积或内积.数量积的几何意义:犪·犫等于犪的长度与犫在犪方向上的投影的乘积.如果犪与犫的夹角为π/2,则称犪与犫垂直,记作犪⊥犫.两个非零向量垂直的充要条件是犪⊥犫犪·犫=0x1x2+y1y2=0.这将会用在向量垂直的性质表示中.(4)向量维数公理的运用如果犲1,犲2是一个平面内不共线的两个向量,那么对这一平面内的任一向量犪,有且只有一对实数λ1,λ2使犪=λ1犲1+λ2犲2,其中不共线的向量犲1,犲2叫做表示这一平面内所有向量的一组基底.换句话来说,若犪=λ1犲1+λ2,犲2=k1犲1+k2犲2,即(λ1-k1)犲1=(k2-λ2)犲2,而犲1,犲2是不共线,必有λ1=k1,λ2=k2.这是对向量维数公理的应用,也是向量法解题之基本工具.这种运用表明,选好基底后,平面上任意一点都可以用一个二维数组(λ1,λ2)表示,这和选好直角坐标系后,平面上任意一点都可以用一个二维数组(犪+犫)表示,本质上是一致的.从这条维数公理可知,如果4个向量之间有等式犪+犫=犮+犱,并且犪和犮共线,犫和犱共线,但犪和犫不共线,立刻可以推得犪=犮,犫=犱.这个方法在后面的例子中多次使用.(5)中位线法则中位线一般出现在三角形和四边形中,四边形中位线的形式也包含了三角形中位线的表示形式.四边形中位线的向量形式:任意四边形ABCD中(这4点无需在同一平面上),M、N分别是AD、BC中点,则2犕犖=犃犅+犇犆.2犕犖=(犕犇+犇犆+犆犖)+(犕犃+犃犅+犅犖)证明.如图1.三角形中线的向量形式.此结论相当重要,它包括下面的几种特例,在以后的证明中会直接用到.这几种特例,也是大家所熟悉的.(1)如果A,D两点重合,2犃犖=犃犅+犃犆,此即(2)如果C,D两点重合,2犕犖=犃犅,此即三角形中位线定理.(3)如果AB//CD,此时四边形为梯形,AB//CD//MN,2犕犖=犃犅+犇犆表示梯形的中位线定理.(4)如果AB//CD,且C,D两点错位(如图2),此时四边形为梯形,AB//CD//MN,2犕犖=犃犅-犇犆表示梯形两对角线的中点的连线平行于底边且等于两底差的一半.3.3.2典型的向量机器证明推理规则在构造型几何图形生成过程中最后出现的点,称其为终结点.能够保持几何图形中某种几何关系不变的点叫做约束点.约束点保存着几何关系的信息,是保持几何形状的关键点.终结点一般也是约Page5束点.向量法可以处理涉及交点的问题,其诀窍在于首先构造一个涉及解题目标的回路等式,然后利用题设条件和回路表达式等价代换,尽量把等式中的向量都转移到相交的线段上,最后应用向量维数公理获取结论信息[14].以上思想,应用在下面的几种主要的规则当中.下面是对这些规则的简要描述.(1)相等向量的规则本规则的适用条件是,在图形中有一个或一个以上的中点,利用中点将线段平分成两个相等向量的特点,构造一个向量等式进行搜索与代换,求解的结果为向量相等或是两个向量为定比.算法1.相等向量的规则.输入:ListS//由图形得到的初始信息输出:ListofvectorstringsBEGINDefinePredsasavoidlist;//保存证明结果IF(Vector犪=犫inS)//从已知中相等向量出发{}END回路选择的原则方法:在Expr2中,要注意采用约束点所在的回路.其中一边则采用终结点所在的回路,以使用其不对称性,以便突出最终点.如果是平行四边形问题,则对回路大于3的优先等量代换,换成对边相关的向量.在Expr6中,则要对非终结点的再次执行回路搜索,此次采用终结点所在的回路,这样等式两边都含有终结点,可以运用向量维数公理.(2)向量垂直的规则证明向量垂直的规则适用于习题中已有两个垂直条件,或只有一个垂直条件,但使用前推法经过几步就能证明出第2个垂直关系.题目要求证明的是存在第3个垂直关系,这是习题的难点所在.两条线段l1,l2互相垂直,用向量来表示分别是犪与犫,这两个向量数量积为0.即其逆命题显然也是成立的,即因此,用向量法证明垂直关系的思路就是,根据逆命题规则,利用已知条件,应用后推法思想,寻找回路,展开式中各项的乘积,最后验证结果为0,表明两向量垂直,结束推理.算法2.证明向量垂直的规则.输入:ListS//由图形得到的初始信息输出:ListofvectorstringsBEGINDefinePredsasavoidlist;//保存证明结果Expr1←Vector犪·犫inS;//从欲证结论出发AddExpr1toPreds;初步扩展Expr1,Expr2←犪·(犫1+犫2);AddExpr2toPreds;再次扩展Expr1,Expr3←犪1·犫1+犪2·犫2;AddExpr3toPreds;WHILE(犪1·犫1or犪2·犫2有等价表达式){Page6}RETURNPreds;END证明向量垂直的规则中,需要查询一些乘积式,它们是在习题初始化中,由前推法根据一些普通的规则而得到,保存在乘积信息库中.通过乘积式的代换和计算,得到两个向量的数量积结果为0,表明这两个向量是垂直的.(3)定比分点的规则有不少的向量题目涉及到了定比分点.定比分点将所在线段分成两段,其长度比值固定.根据长度比值的不同,常见的有二等分点,即中点,比值为1;三等分点,比值为1/2或2,四等分点比值为1/3或3,n等分点比值即为1/(n-1)或n-1.应用定比分点方法解题的核心在于利用等式左边的代数式系数等于等式右边的代数式系数之和这个特点,构造一个方程式,其解即为所设的定比.利用定比可进行代数式的变换,从而进行以后的处理.定比分点在解题过程中,如果需要消去某个交点,即可以使用定比分点的向量形式进行代换,从而消去此点.这也是一种消点方法.根据交点成的线段与公共点所构成的向量是否有等价表示形式,等式代换可分为两种情况.一种是线段端点与公共点之一存在有中点,或都有已知定比分点的情况,这样的向量有显式的等价式;另一种是找不到等价式,从而代换成另一条与定比分点共线的另外一点,即第二定比分点,利用比例向量的形式,进行代换.这样,共线上两个向量就可以相互表示.通过进行等式代换,从而创造出此交点的第二个定比分点表达式.定比分点或是第二定比分点,分其父对象线段成固定比例,从而得到新的向量比例或线段.在进行定比分点的计算过程中,一般先设其为变量m,代表其固定比值,m≠0.算法3.定比分点的规则.输入:ListS//由图形得到的初始信息输出:ListofvectorstringsBEGINDefinePredsasavoidlist;//保存证明结果搜索最大约束点P,addPtoSetM;FOR(eachPinM){}RETURNPreds;END如上算法中,集合M中存放的是最大约束点,即在图形构造过程中,约束关系最多的点;集合F则存放的是最大约束点的父对象.Coef1,Coef2则是求表达式Expr1左右两边系数的函数.题的方法可以总结为3个步骤:由以上规则可以看出,运用向量法解平面几何(1)向量表示,把几何问题中的点、直线、平面和几何关系等元素用向量表示.(2)向量运算,针对几何问题的特点,调用相关的向量机器证明算法进行向量运算.(3)回归几何,对向量运算结果作出几何意义上的解释,并保存起来.4程序实现根据向量表示的公理体系,本文设计一个具有动态几何作图功能的机器证明软件.这个软件除了可以完成一般的平面几何作图功能外,主要完成以向量法机器证明为主的推理功能.本程序可以对一些涉及中点或定比分点的习题做出向量推理.4.1总体结构向量法机器证明在是遵循前推法的思想指导下进行的.动态几何、向量法推理、可读证明有机地结合在一起,可实现基于向量法的几何机器证明程序系统.如图3所示,整个程序系统可以分为3个部分:(1)动态几何,包括了动态几何图形的绘制,及图形数据结构的获取;(2)最主要的部分,是基于向量回路的推理,根据不同的图形特点,可以进行结论为相等向量,垂直向量或定比分点等关系的推理;(3)可读证明,要生成各种推理的推理链,然后根据推理链生成附带有图形的可读证明,这种可读证明是基于向量回路的.Page7图3总体结构图4.2动态几何动态几何作图模块,目的在于以作图的形式提供推理初始信息输入.允许用户操作鼠标进行点线圆多边形等常见图形作图,从而实现信息输入,这是动态几何软件中作图的操作方式.普通的动态几何作图有两步,首先是先选择菜单中的子菜单或工具栏相应的按钮,即告诉计算机用户接下来要做什么,接着用户用鼠标开始点击操作几何对象,像几何画板[15],CABRI[16]就是使用了这种操作模式.如果能省略第1步,直接用鼠标就可以作用户想要的图形,那就表明这种方式具有智能化的特点了.因此,跟踪鼠标,就可能实现人机交互.本文提出一种跟踪鼠标的智能作图方式.设计的操作方法为,单击作点,拖动画线,双击作圆.本系统能够根据鼠标的位置探测到当前位置的已有图形,判断用户想要做什么样的图形,并给出提示,释放鼠标,作图即可瞬间完成,这就是智能作图.采用智能作图设计方法,可以减少用户点击和选择的次数,提高作图效率.动态几何作图系统可以保存用户所做的各种几何图形对象,可以分析出各种图形信息和几何关系,将这种几何信息提供给推理引擎,相当于完成了推理初始信息输入.4.3推理过程在推理引擎中,设置推理不动点,以数据进行驱动,对可用的规则进行多轮的调用.每次使用规则可得到新的信息,以备以后的规则使用.如果当前循环结束后,数据库的信息数量没有发生变化,就是达到了推理不动点.此时可结束推理,规范地生成命题的证明过程.本引擎工作流程如图4所示,它主要由以下几部分构成:数据产生器、算法调配器、算法执行器和信息记录器.数据产生器:主要是完成初始数据收集工作.初始数据由动态几何图形模块进行分析可得,信息存储在几何信息集中.算法调配器:由于信息种类的不同,可以适用的算法也不同,由算法调配器来调配当前究竟应当调用哪些推理规则.这样,避免无关的规则被调用,减少时间消耗,可以提高执行的效率.算法执行器:它调用符合条件的可用规则,根据已知信息进行匹配推理,符合条件则得出适当形式的结果,并将其送入信息记录器.信息记录器:负责记录送入信息集中的所有信息,当信息为初始条件时,直接入库;如果是推理得到的信息则先检测库内有无此类同样的信息,若没有,则记录入库,如果有,则舍弃.证明生成器:对于选定结论中的几何信息,根据推理中保留的原因信息,经过回溯,生成完整的证明过程.前推法的搜索策略又可以分为广度优先搜索和Page8深度优先搜索,本文为了得到更多的几何信息而将推理引擎设置为采用广度优先搜索策略.广度优先搜索策略得到的解是路径最短的解,使得搜索得到的几何证明过程简短可读.4.4可读证明本系统中自动推理是由根据前推搜索法设计的推理引擎来实现的.它的一个优点是前推法是目前机器证明中可读又易被中学教学所接受的证明生成方法[17-18].所有的向量推理结果以层次结构树型显示,并且同时以欧氏几何的表示方式显示.图形与证明过程一起显示.如有必要,则还会附加上几何的表示方式.自动推理是几何习题证明的核心.几何图形是其输入,几何关系是其输出,几何习题生成则是自动证明的高级应用.如果用户想要了解一个几何题目能推理得到哪些几何信息,不用自己去考虑详细的证明过程.在点击“自动推理”后,系统可以得到诸多的几何关系信息,这些几何关系根据分类,显示在一棵信息树上.用户可以随意点击查看,每个具体的信息项打开后,显示的是其成立的条件信息,如图5所示.本系统运用推理引擎,从一些几何图形中推理出很多非平凡的几何信息,有的是以欧氏几何信息的形式显示,有的则是由于平面向量推理而得出的结论信息,这些信息大多是一些向量表达式的运算过程.为了查看结论得到的过程,有必要将生成的过程记录下来,方便查看,供生成证明使用.推理信息库中的这些几何信息与人交互十分方便,通过鼠标点击查看几何信息树就可以动态效果来看看这些信息及其证明过程.证明过程可以存储成连续图片,可用于后期制作动画.光标所指信息的对象可以在作图区域马上显式呈现等,方便中学教学.5算例与结果测试例子共有112个,来源于人民教育出版社的《数学(4)》、湖南教育出版社的九年级《数学》、《绕来绕去的向量法》和《向量与平面几何证题》等专著.其中,来自于中考、奥数中的测试问题有23题.为了比较向量算法的推理能力,利用此算例集对《超级画板》进行了测试.测试数据统计如表2所示.成功/平均7810.527463.616.09110.621206.013.1测试结果表明,《超级画板》只能对其中78个得到了成功证明.应用本文算法的原型系统能对其中的91题给出证明结论,推理成功率达到81%,具有在中学几何教学开展实际应用的价值.对于剩下的21题,本文算法也能推理出大量有用信息.基于前推法的特点,若再添一些特别的向量方法如复数形式、单位向量等,还可以添加辅助线或辅助点,这些题目中的大部分也可得到求证.除推理能力之外,证明过程平均长度(步数)和平均时间(s)也是重要的指标.可以看出,从表中可见两个系统在达到推理不动点的时间上是不相上下,平均运行时间分别为10.5s和10.6s.在平均步长方面,《超级画板》以及本文程序分别16.0步和13.1步.由于设计的思想不一样,本原型系统的信息数量要比《超级画板》少很多.下面选择了部分测试习题进行具体比较与说明.由于在图形显示系统中的局限,程序中用符号“[]”表示向量.如向量犃犅,在图形推理输出中表示为[AB].为了方便以后的使用,所有的证明过程可以按用户的要求,输入到一个文本文件中,永久保存.例1(井田问题).如图6,已知J、G为平面内任意四边形一组对边AD、BC的中点,E,F三等分AB,I、H三等分DC.求证:JG被EI、FH三等分且EI、FH又被JG平分.根据题目条件作图完成后,点击“自动推理”即可迅速完成向量机器证明,如图7.由左侧展开的信息树中可以看出:[HL]=[LF],说明L是FH的中点.[LG]=0.5[JL],说明L三等分GL.[KJ]=0.5[GK],说明K三等分JG.[EK]=[KI],说明K是EI的中点.使用传统的几何解题方法来解此题是相当不容易的,需要添加多条辅助线.Page9但《超级画板》经过0.953398s达到了推理不动点,得出了525条非平凡的几何信息,但没有一条是关于本题结论的.例2(矩形外一点的垂直).如图8,设ABCD为矩形,点E为平面上一点,连接AE、BE,作CF⊥AE,DG⊥BE,CF和DG交于点H.求证:EH⊥AB(第17届全俄数学奥林匹克,1991年).在完成几何图形后,运用自动推理的功能,得到的结果如图9所示.上面[EH]·[AB]=0的证明过程中,有些等式代换用到了普通欧氏几何引理的结果.[EH]·[AB]=0,说明EH⊥AB.这道习题还可以使用坐标证法来解:建立坐标系,设E在DC的射影为O,设O(0,0),A(a,b),B(1,b),C(1,0),D(a,0),E(0,e),H(x,y),需证x=0.形退化,所以只能是x=0.由CF⊥AE得犆犎·犃犈=0,即(x-1,y)·(-a,e-b)=0,即-a(x-1)+y(e-b)=0.由DG⊥BE得犇犎·犅犈=0,即(x-a,y)·(-1,e-b)=0,即-(x-a)+y(e-b)=0.将所得两式相减得(1-a)x=0,若a=1则矩相比较而言,还是向量法推理的结果较简洁.《超级画板》在经过2min15s后,推理信息数量已经达到了10000条,规则循环过380轮后仍然没有达到推理不动点.而使用向量法得到同样结果的时间是0.8s.经过对比发现,向量法证明不仅速度快,而且结果也比较简洁.例3(平行四边形).如图10,△ACD中,E、F分别为AD、CD中点,R、T分别为AC三等分点,ER与FT交于B.求证:四边形ABCD是平行四边形.在图11的推理结果中,[DC]=[AB],表明相等两向量的四个点所构成的四边形ABCD是平行四边形.本题目在《超级画板》经过1.4s后达到了推理不动点,没有得出相关的信息.Page106总结向量法在中国已经写入了中学课本,是对欧氏几何学的扩充.本文测试结果表明,将向量法用于机器证明具有实际的应用价值.由于其良好的可读性,发展向量的机器证明新方法,对中学几何教学是积极的补充,为理解向量和开拓几何证明思路提供了辅助工具.向量法的学习增加了对数形结合的理解,它是数形结合的最佳研究实例.几何证明是中学数学的重要内容,也是难点内容,其难度主要表现在几何证明题千变万化,类型众多,难以建立一个通用的解题算法.通常,一个自动推理方法只适于求证某一类或几类问题.囿于前推法局限性,以及我们程序中符号计算功能的不足,本文算法只能对不涉及几何量代数运算的等式型可构造性的几何命题给予证明.当欲证结论涉及代数运算时,在基于前推法的搜索过程中会引起搜索空间爆炸[8],并可能导致前推法不能达到推理不动点.但是,多项式类型的几何命题(包括等式型和不等式型)在中学几何课本中也占有相当比重,对这一类证明问题的研究也具有理论意义和现实价值,这将是我们下一步的研究目标.
