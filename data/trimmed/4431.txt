Page1基于心智模型的虚拟现实与增强现实混合式移动导览系统的用户体验设计林一陈靖刘越王涌天(北京理工大学光电学院北京100081)摘要在当前的人机交互领域,移动平台上增强现实技术的应用越来越广泛.然而由于对认知心理学在增强现实领域重要作用的忽视和互动信息展示形式的匮乏,导致此类软件的用户体验欠佳.该文提出了一套基于心智模型的虚拟现实与增强现实混合式移动导览系统.在遵循以用户为中心的设计原则下,结合微观和宏观心智模型理论分析用户的需求,通过反复的可用性测试对交互界面进行迭代设计,使得系统界面的交互体验不断趋近用户的心理预期.此外,通过虚拟现实和增强现实两个空间的自由切换,用户可以获得两种截然不同的互动体验.这种新颖的交互模式丰富了互动内容的展现方式.实验结果表明,基于该交互模式的移动导览系统调动了用户主动进行交互的积极性,提高了人机交互的易用性和时效性.关键词虚拟现实;增强现实;心智模型;用户体验设计;移动互联网1引言随着移动智能终端的快速发展,移动平台上的人机交互程序的用户体验设计(UserCenteredDesign,UED)越来越多的得到人们的关注.近几年,许多基于位置服务的应用软件能够提供主动定位并推送用户附近热点(PointofInterest,POI)的增强现实(AugmentedReality,AR)信息服务,例如比较著名的LAYAR、JUNAIO和WIKITUDE.2011年9月,NokiaCityLens应用的官方发布标志着增强现实人机交互技术普及的时代已经来临.图1所示为以上所列举的4款软件的主要界面.对于显示面积小于15cm×10cm的移动设备,交互方式受人机工效限制导致了很多可用性问题[1]问题,利用人的认知方式可以避免在互动中出现繁复、混淆、逻辑冲突等问题.心智模型能够对可用性问题作最好的解释与说明[1].设计简单、高效、人性化的AR交互界面成为用户体验设计的研究热点.早期的数据浏览型AR交互界面对交互的限制较大,如Pettersen等人[2]研究的应用于路径规划的AR系统.随着技术的发展,面向自然交互方式的多通道用户界面开始陆续涌现并走向成熟,如基于手势交互的AR界面[3]和实物用户界面(TangibleUserInterface,TUI)[4].TUI试图脱离图像用户界面(GraphicsUserInterface,GUI)的局限,直接将真实世界中人与物体、环境的交互行为映射为与信息空间的交互过程的用户界面,使物理环境直接成为界面,达成物理世界和数字世界的融合.这同以物理环境为交互环境的AR技术有着密切的联系.如Washington大学HIT实验室开发的基于AR的实物用户界面,Kato和Billinghurst等人[5-6]也把它定义为实物AR界面.心智模型在交互设计领域运用的探讨所涉及的范围比较广泛,Park等人[7]提出创建模块化用户界面(UserInterface,UI)的概念模型,面向不同用户组的个性化需求来定制用户体验以实现交互的多样性.Leichtenstern和Andre[8]提出依照定制的接口规范和规则集来设计交互界面使其快速适应环境的变换并始终趋近于用户的心智模型.国内对于AR的研究起步较晚,主要的研究成果大多围绕在AR显示技术[9]、摄像机校准算法[10]、跟踪注册算法[11]等具体技术上,如北京理工大学的圆明园数字重建系统[12]和国防科技大学的虚拟实景空间系统[13].对于心智模型在交互体验设计方面的研究,浙江大学对手机交互界面的心智模型与操作绩效的空间一致性开展了有意义的探索[14].已有的研究虽然对文化的多样性和空间一致性进行了探讨,但却缺乏在操作方式层面上进行的分析.此外,多数研究仅侧重于将常见的GUI界面作为运用心智模型开展设计的对象,而非面向具有特殊性的AR互动界面.因此,针对这些不足,本文开展了研究工作.当识别、跟踪和定位已经不再成为技术瓶颈时,增强现实类应用却始终得不到普及,大众认可度依旧不高.通过反复的调查与分析,研究结果表明问题在于两方面.一方面,人机互动的方式过于简单导致信息展示的形式匮乏.另一方面,由于在用户体验设计上忽视了认知心理学在AR交互领域的重要作用,直接导致了传统的AR服务软件的交互界面不够友好,降低了互动体验的愉悦感.本文基于心智模型的理论提出了虚拟现实与增强现实(VirtualRealityandAugmentedReality,VR-AR)混合导览系统.该系统以用户为中心进行交互设计,用户可以在增强现实和虚拟现实两种不同环境中自由切换,体验新颖的交互操作模式.这在空间层面上拓宽了人机互动的方式.宏观心智模型和微观心智模型的结合运用不但为AR与VR环境间的自然切换提供了平滑的用户体验,同时也调动了用户使用该软件进行交互的积极性.通过反复的评估和可用性测试使得该系统的人机交互界面在迭代中不断完善.目前将基于心智模型的用户体验设计运用在AR交互的研究不多,这也是本文开展研究工作的原因和目的之一.2系统构成本文提出的虚拟现实与增强现实混合式移动导览系统(VR-ARHybridMobileBrowsingSystem,MobVR-AR)对目前业内常用的定位、识别后再跟踪的技术方案进行了如下改进[15-16],首先使用GPS和传感器对指定范围内的所有POI进行粗略定位,当用户选中目标后自动生成导航路径.用户到达POI所在地后,进行观察点周围的复杂场景的识别Page3以及像素级的精确跟踪.以下的系统框架主要针对场景识别和精确跟踪注册进行论述.2.1系统框架介绍鉴于当前智能手机客观存在软硬件限制的现状,高速的实时图像识别计算任务适于在运算性能更为强大的个人计算机(PersonalComputer,PC)端而非移动计算终端完成.因此本文提出的MobVR-AR采用了分布式体系结构,其中客户端与服务器端分别承担各自的计算处理任务.云端的增强现实服务器负载场景的离线学习以及在线识别,客户端则计算户外场景中热点目标的跟踪并生成增强信息内容.通过两端的数据处理和交换,MobVR-AR能够在手机平台上为用户提供跨越虚拟现实空间与增强现实环境的独特人机交互体验.图2系统整体框架为打破传统AR移动运用在人机互动上的局限,需要拓展互动的体验空间.因此基于心智模型以用户的需求为中心进行交互设计,为实现两类交互空间的自然切换,本文提出的MobVR-AR设计了一个无缝的空间转换模式.如图3所示,户外AR交互部分以增强信息的形式主动向用户推送房屋导览时用户所关注的房屋信息,如售价、面积、周边环境、交通状况和联系方式等.当用户选中某一套户型后普遍希望能够深入查看户型内部的详细构造,此时只需选择对应的房屋户型预览图,交互空间就自然的过渡到VR环境中.在全虚的三维环境中,用户不仅能够以第一人称视角在房屋内部任意漫游,还可以依据个人喜好对虚拟家具进行替换或调整室内布MobVR-AR系统的整体运行框架如图2所示,首先手机开启摄像头捕获场景的初始识别图像并发送至云端的场景识别服务器.预先完成样本训练的服务器对接收到的热点图像进行快速识别后向手机端返回热点编号和场景特征信息.手机端根据热点编号判断识别模块是否继续或停止发送热点的图片.而后在使用场景特征信息和摄像头后续传递的序列帧计算出位姿数据后,手机端的跟踪注册模块持续的将移动设备的传感器数据不断传递给渲染模块以实现虚拟标签的渲染和实时跟踪显示.最后在人机交互阶段,当用户点击虚拟标签时,渲染模块依照热点编号从数据服务器下载该热点对应的图片、文字或模型信息,然后依次将这些目标信息分类渲染展示.局.完成室内交互后用户选中交互界面右侧下方的AR按钮后,互动环境再次切换回AR空间.MobVR-AR系统的视觉设计由Photoshop和Illustrator完成,交互设计及代码构建使用Unity3D引擎开发.软件编译完成后以APK格式发布,应用Page4程序在使用Android系统的手机上安装并运行.2.2分布式海量场景识别加速稳健特征算法(SpeededUpRobustFea-tures,SURF)是一个稳健的图像识别和描述算法.在户外场景识别方面,MobVR-AR系统采用局部特征算子(SURF关键点)作为物体的特征描述[17]并结合了由Nister在2006年提出的字典统计分析“vocabularytree”算法[18],将物体的图像信息映射成关键词集合.这种实现方法不仅能够保存图像的局部特征又能有效地压缩图像的描述.根据构建的关键词集合,采用支持向量机(SupportVectorMachine,SVM)分类器,实现目标的自动识别.将AR技术应用于移动设备,意味着该移动设备应具有实时图像采集、三维场景显示以及方位跟踪的功能.这对于设备的计算处理能力和速度提出了很高的要求.目前手持移动设备的计算处理能力、内存容量都还无法超越PC机.为解决移动设备内部数据处理能力有限的问题,本系统采用客户/服务器应用模式.将计算量最大的目标自动识别模块交由高性能的AR服务器处理,移动设备与AR服务器通过无线网络进行数据通讯.2.3跟踪注册实时跟踪注册算法方面,系统采用基于关键帧的实时摄像机跟踪算法[19],为了实现基于自然特征的增强现实注册方法[20],在系统设计中采用了基于双线程并行注册的策略,一个线程利用KLT算法进行跟踪注册,另一个线程使用BRISK特征匹配算法进行宽基线注册校正,建立2D和3D的对应关系;接着将基于模型的匹配信息与前后帧信息进行融合构建目标优化函数;最后采用迭代优化算法,提高跟踪定位的精度.为克服基于模型的方法进行跟踪定位所存在的抖动问题,本系统采取将基于模型的注册算法与序列帧技术相结合的办法进行姿态估计的总体优化[21]:minpt∑j式中Π是摄像机非线性投影方程,Xtj、xtj分别表示场景的三维空间点及其对应的图像坐标.犘t、犘t-1为摄像机当前帧与前一帧的姿态投影矩阵.∏(Xtj)-xtj代表通过非线性投影将三维空间点投影到二维平面与图像真实位置坐标所产生的误差.ωtj表示跟踪过程中投影点的丢失情况,即若跟踪丢失,则置为0.α表示基于模型的注册方法与基于前后帧的注册方法的权值情况,该值由实验确定.W表示基于序列帧技术优化的函数.与传统的AR应用的技术手段类似,VR-AR混合移动导览系统亦基于图像识别技术进行定位与特征点跟踪,海量场景识别与跟踪注册流程如图4所示.3基于认知心理学的用户体验设计3.1用户体验设计在早期的产品设计过程中人们只注重产品的核心功能,人机界面仅被当作所谓的“装饰”,充其量不过是一层包裹于核心功能之外的附属物.以传统的电视遥控为例,设计师将几十个功能逐一通过功能按钮的方式体现,这就是典型的脱离用户使用感受的工程师思维.一个成年人在反复摸索后才学会了使用电视遥控器,然而一个低龄儿童在无人指导下就能够轻松使用iPad娱乐.这说明了以机器为中心的传统设计思想设计的产品虽然满足了人们功能性的基本需求,却带来感受性的缺失.电视遥控器与iPad对比的例子证明了最复杂的科技固然吸引眼球,但这并非消费者所求,良好的使用感受才是人最本源的需求,因此产生了用户体验设计的概念.用户体验(UserExperience,UE),是用户在使用交互产品过程中的主观感受,包括喜好程度、心理反映、情感因素、认知印象等方面[22].当今最热门的电子产品如iPhone、iPad和KindleFire等,这些产品在使用的过程中能给用户带来喜悦感和满足感.在软件的用户体验设计领域,近年来无论是谷歌、苹果、微软和三星,还是国内的小米、魅族,都始终致力Page5于不断改善软件的用户体验.iPhone的指纹识别功能,安卓系统4.2的全景摄像机,三星的眼控滚动功能,WindowPhone的动态瓷片(LiveTile)都是对用户体验的移动创新.当人们使用这些产品能够带来愉悦感和满足感时证明工程师对于该软件用户体验的把握是成功的.重视用户体验设计可以提高用户满意度、增加交互设备受欢迎程度.如何规划用户体验设计引导使用者获取良好的使用感受是本文研究的重点,所以本文对于MobVR-AR的软件设计也遵循了用户体验设计的原则即以受众为中心(UserCenteredDesign,UCD)开展设计研究工作.用户体验设计的核心思想是以用户为中心,基于人机工程学和可用性工程的原理,综合视觉、布局、交互和动作设计等方法,设计符合用户使用习惯的产品[23].从认知心理学的角度来看,只有掌握了用户是如何定义表征产品的,才能更好地去挖掘和预测用户的态度、期望和行为.因此应该在遵循认知心理学准则的前提下进行互动产品的用户体验设计.以用户为中心的交互界面设计由视觉设计、交互设计和用户研究3个部分组成.视觉设计包括图标/菜单设计,布局设计和UI风格设计;交互设计包括动态交互设计和交互逻辑设计;用户研究主要调研用户需求.如图5所示,设计流程按从左到右的顺序逐步进行,在完成可用性测试后不断迭代变更设计方案.3.2心智模型及交互设计流程由上一节内容所表述的观点可见产品UE的好坏取决于设计师对UED把握的成功与否.虽然UED提倡UCD的原则,然而实际情况是设计者与用户之间固有存在着许多认知和知识等方面的差异,并且由于受到多方因素影响这些差异难以消除.因此对移动智能终端的移动应用而言,基于UCD的UED离不开对用户群认知心理的量化研究.本文从影响UE的深层次内部原因出发,由心智模型入手探讨MobVR-AR系统的UED,从而降低由产品的设计偏差与理解的差异在用户行为层引发的人为错误.心智模型的概念最早由苏格兰心理学家KennethCraik在1943年提出,Johnson-Laird等人[24]在《MentalModel》一书中对该概念进行了更清晰的表述,即人对外部现实的真实、假设或想象的心理表象(视觉,听觉,触觉,嗅觉).UED领域目前研究的心智模型,更多倾向于关注操作层面,即在使用产品的互动的过程中设计者如何匹配或避免不匹配用户的心智模型.例如Norman对可视化、反馈、匹配、启示的论述,Cooper对隐喻、习惯用法的阐释等[25].心智模型由两类模型组成,一个是宏观心智模型:是指用户在使用产品或服务的时候,对其的认知符合用户原有的对该产品或服务的心理需求.另外一个是微观心智模型:微观心智模型指用户通过系统完成一项具体操作时的心智模型[25].基于心智模型的交互设计流程如图6所示,第1阶段构建用户的心智模型.通过信息数据收集的多种方法对目标模型、行为喜好以及语言文字等完成知识的表达,将用户内在的心智模型外显化.第2阶段是基于用户心智模型的产品设计和展现.通过对心智模型的转化,将用户的心智模型转化为具体的任务模型.依据这个模型,在经过故事版,线框图,层级链接图等必要步骤,设计师完成了概念模型和互动界面的设计.第3阶段进行测试与评估.借助直接和间接的测试模式,测试者以用户的身份进行测试,通过认知走查、启发式评估、预期对照、心跳测试等多种测试手法,分析用户的交互体验满意度,评估产品的可用性是否匹配用户的心智模型[26].如图7所示,心智模型本来就是人内在认知的外在表象.设计人员和用户对同一个概念的理解不同造成心智模型的不一致是很正常的现象.但心智模型不是一成不变的,它会随着认知的改变而发生变化.进行迭代的可用性测试能够发现视觉交互、文案方面与用户认知的冲突,使得设计者的认知基础随着用户的反馈不断改变从而影响认知过程模型.在客观上也就是使交互界面与使用者的使用习惯和生活认知相契合,从而体现出易用性、易识别性及人性化的设计原则[26].最终使认知过程模型和设计过程模型不断趋近于用户心智模型.3.3基于心智模型的VR-AR混合交互设计3.3.1心智模型的构建Young在2008年所著《MentalModels:Alig-ningDesignStrategywithHumanBehavior》中对心智模型的定义是“人们的动机、思考过程,以及执行行动期间的情感和思维变化”.Young提出,心智模型由若干部分组成,每部分又分成若干组,整个模Page6图6基于心智模型的用户体验设计流程型可用一系列行为的亲和图(affinitydiagramofbehaviors)来呈现.Young的心智模型论通过研究用户的活动序列,获取、归纳用户的心智模型,以探讨整体体验流程[27].基于心智模型的交互设计的重点是使交互设计者同用户之间的心智模型相互匹配,令巧妙安排的互动体验与参与者的预期设想一致.这就要求从界面成型到测试直至迭代修正完成的整个设计阶段都必须始终密切围绕用户的心智模型推进.心智模型可区分为宏观心智模型与微观心智模型两类.宏观心智模型是以更整体的角度构造用户感受需求及认知结构与内容的表现方式.它由关键概念、期望、任务及流程和相关模型4个部分组成.关键概念可以用个人心智地图或共识地图呈现;期望即用户对产品体验的需求;任务与流程则可以通过行为亲和图、体验历程映射图、信息架构等方式总结;竞争对手分析报告可以了解用户已被培养出的心智模型.宏观心智模型主要通过定性手段进行建构,关注点在于宏观的态度、价值观以及行为事件.宏观心智模型是微观心智模型的基础,是设计师建立希望用户拥有的概念模型、打造完整用户体验的重要参考.对于适用于VR-AR混合预览系统的用户心智模型的定性捕获,本文选用了7种常见方法[28]中的3种,分别为问卷与调查(SurveysandQuestion-naires)、焦点小组与用户访谈(FocusGroupandInterviews)、参与性设计(ParticipatoryDesign).经过用户需求分析和心智模型解构,本系统混合式交互的关键性设计“AR到VR场景的空间转换”使用宏观心智模型中的行为亲和图呈现.如图8所示,横轴以上被纵轴分开的每个独立部分(如查看户型预览图、切换至室内等)都是一个心智空间.每个心智空间内又被切割成若干部分,分别代表在同一个心智空间内一个具体的操作动作.横轴以下,是每一个心智模块对应的交互界面模组.通过直观的对比可从中发现交互功能在哪些方面有所欠缺或者遗漏,借助心智模型的行为亲和图可以根据用户的操作流程设计每一个交互行为对应的交互模组,从宏观上帮助设计者构建整个交互体验的流程.微观心智模型是从操作层面描述用户与界面交互的过程,从而检验界面是否可用、易用和易学.如图9所示,用户的领域知识、先验知识和学习能力是构成其心智模型的基础;而产品主要从商业需求、用户需求和成本3个方面进行考虑.依照用户的需求决定产品的具体功能,两者间使用交互界面进行沟通.产品的功能以设计界面的方式展现给用户,设计者通常使用如视觉启示、视觉隐喻等该产品于业内Page7图8心智模型行为亲和图9心智模型单任务操作流程惯用的设计手法传递产品的使用方法,这种设计思路能有效降低用户的学习成本.在交互过程中用户带着期望的使用心态通过交互界面执行操作行为;系统及时的对用户的操作结果予以反馈;用户参照系统的反馈对交互操作的结果予以评估,最后设计者检查产品是否匹配于用户最初的心理预期.用户对产品预期的心理模型在反复的互动操作过程中逐渐调整.在图9表现的这个过程中,设计师与用户同期都在调整自身对产品表征的理解,进而逐步缩短两者之间的隔阂.在进行MobVR-AR系统的用户体验设计时,首先运用宏观心智模型的行为亲和图从整体上分解系统的功能,分析用户预期的心智模型.在对房屋信息交互的过程中,依照用户的认知结构构建系统界面流程所需的全部子功能部件.而后将横向构建完成的宏观心智模型单独引入某个具体的纵向的操作任务中,从而构建微观心智模型.在进行迭代的可用性测试中,通过收集用户各类反馈数据并进行分类梳理后可依据用户的心理状况的变化逐步掌握用户的使用习惯,理解用户的行为逻辑,设计师的心智模型也相应作出调整,进而使得交互界面能够给用户带来更佳的用户体验,最终消除视觉、交互、文案方面与用户认知的冲突.3.3.2交互设计的开发环境依照视觉设计阶段已完成的布局样式和界面风格,系统的交互开发任务通过Unity3D引擎实现.Page8Unity3D是一款由UnityTechnologies社区开发的多平台的综合型游戏开发工具[29].它以交互的图形化开发环境为首要方式,使用了Mono作为脚本引擎的虚拟机,并以C#或JavaScript为脚本语言实现对虚拟环境中的二维或三维对象的仿真和交互编辑.脚本的运行原理是调用Unity3D引擎中带有的游戏流程控制类,即MonoBehavior类,Unity中用户对游戏对象的操作被分割成若干个单一行为.每个单一行为都作为一个MonoBehavior类来封装.再生成每MonoBehavior类的实例,并作为组件嵌入游戏对象.然后按照一定的顺序(从下到上)调用每个对象的重载方法来实现游戏对象的全部行为[30].由于Unity3D对DirectX和OpenGL拥有高度优化的图像渲染管道,并且内置的NVIDIA和PhysX物理引擎能够带来逼真的互动感觉,此外还提供了具有柔和阴影与烘焙lightmaps的高度完善的光影渲染系统[31],因此特别适合在移动平台环境下进行交互设计的开发.3.3.3虚拟现实场景的交互设计在心智模型的界面设计方面,Preece等人[32]提出了简约、熟悉、实用、灵活、反馈、安全和一致性共7条设计准则.遵循这些规范,在VR场景中基于心智模型进行MobVR-AR交互界面的设计.如图10所示,场景界面左方下侧为用户进行室内浏览操作的行进方向控制器.交互方式为触控并按住圆形点并向上、下、左或右任意一个方向滑动,用户可以在VR场景中相对的向前、向后、向左或向右运动.虚拟漫游操作符合人们潜意识中惯用的第1人称在三维虚拟空间内的运动方式,即先选择行进方向再选择移动前行的步骤.如此设计不但便于用户对虚拟环境中方位的理解,而且利用先验知识能够有效的减少用户的学习成本.界面左侧上方并列分布两个菜单按钮,由左向右依次为选择物品和编辑物品按钮.当虚拟物体被选定后,点击物品编辑按钮弹出编图10VR环境中的虚拟漫游与交互效果辑选项,分别可以对虚拟对象执行移动、旋转或缩放命令.编辑阶段的操作步骤遵循了人们对目标的先定位后布局的逻辑思路.当用户点击屏幕右侧下方的AR按钮后,VR场景即刻切换回AR互动界面.Unity3D引擎基本的交互程序设计方法载入虚拟物体后为摄像机挂载控制脚本,以触控事件实现用户与虚拟物体的交互.当“选择物品事件”触发脚本控制手机向云服务器请求模型数据时载入模型的2D预览图.用户选中模型方案后,将下载的三维模型和贴图载入并绘制到场景中.“编辑物品事件”触发脚本调用被选中对象的Transform属性所属的轴向移动、比例缩放或轴向旋转,还可通过renderer属性的rendertexture方法随意替换虚拟对象的贴图.点击切换按钮后退出VR场景.AR场景的交互和绘制方法同在VR场景中是类似的.跟踪模块将计算好的手机的姿态数据持续的传递给渲染引擎,Unity3D依据旋转矩阵解算的屏幕坐标数据进行标签的渲染和实时跟踪.3.3.4增强现实场景的交互设计同VR交互技术相比,AR交互技术是创造更丰富的互动方式来增强真实世界的物体和环境而非将它们取而代之.注释提供物理环境有关的信息,它已经成为当前AR系统用于促进理解真实世界的一个主要的成分[33].有别于完全虚拟的VR环境,由于AR环境中的注释图标和展示内容都是叠加在真实运动图像之上的,对于使用者而言意味着交互元素与视频背景间存在视觉干扰的问题.如果真实世界背景和虚拟信息的复杂度在AR中不能达成很好的平衡,合成的场景可能会阻碍认知功能.在一个界面内同时显示大量的信息会导致混乱,用户会感受到信息的压力并且难以集中注意力.此外,如果交互过程中的操作步骤过于复杂,使用移动AR时会增加用户的精神负担[33].因此AR场景的交互设计要体现简洁、易懂、提高操作效率的设计原则.依据初Page9步的用户需求分析归纳的用户心智模型,UI构成元素应包括标识板、菜单栏、描述框和翻页图标.AR场景的交互界面初次设计界面如图11所示.考虑到在横向显示的单一视图中上左右浏览优于上下查看的人机工效原则,菜单组和文字描述框采用了一体化的水平布局方案,其它左侧的功能菜单提供经过分类的各项信息,运用色相不同的高纯度大色块矩形区分不同功能的菜单项,白色勾边提示该菜单项目前处于被选中状态.右侧的文字描述框内为被选中菜单项的文字介绍,为了提高文字在复杂色彩背景下的可辨识度,在模仿半透明磨砂玻璃显示效果的背景层上排列勾黑边的白色加粗文字;点状翻页按钮运用了视觉隐喻法引导用户查看更多未被显示的相关信息,“抽屉式”层级菜单运用的点状翻页按钮可以隐藏更多的菜单项目和文字信息,这样不但能够简化界面显示,在操作逻辑上也符合用户的心智模型.在界面的设计中通过三维标示板划分房屋类型,不同类型的房屋对应的菜单项有所区别.这个设计方案简化了用户的操作流程,避免了由概念的混淆带来交互障碍,降低了运动画面对操作界面的视觉干扰.3.3.5场景间的相互切换MobVR-AR系统通过Unity3D引擎的关卡调用脚本能够实现VR与AR场景间的切换.将已完成交互设计的VR和AR场景文件加入BuildSettings,每一个被加入的场景获得一个对应的关卡编号.当需要进行场景的切换时,在脚本中以GUI.Button按钮事件触发场景切换命令Application.LoadLevel(index).该命令的index参数对应于先前BuildSetting中的关卡编号,这样就完成了场景间的互相切换.此外,场景切换时存在一系列软件优化的问题,需要注意及时关闭手机的摄像头.否则长期将摄像头资源用于视频序列帧的渲染将造成手机RAM空间的不足,进而内存溢出造成程序的闪退或屏幕花屏.解决方法是在摄像机脚本中将WebCamTexture类型变量tex定义为全局变量,在切换场景时主脚本调用摄像机脚本的closeCam函数中的tex.stop()方法可以关闭摄像机.此外,由于载入的三维模型数量较多,因此VR场景返回AR场景时必须使用asset.Unload(false)命令释放模型资源.4测试与评估4.1可用性测试和迭代设计通过对用户和需求进行研究,在进行心智模型中界面隐性要素的显性化设计时将设计内容以一定的视觉形式提供给用户,并且通过用户评价不断改进界面内容与形式.在整个隐性界面要素被显性化设计的过程中,用户要被结合进来一起参与开发设计,并对设计结果进行测试和评估,不断完善和优化设计内容[34].本系统的VR和AR交互界面在经过以上步骤的初步设定后还需要经过不断的可用性测试及时获得用户的反馈信息,根据用户的新需求和实验数据不断改进设计方案,直至界面的用户体验较为趋近用户预期的心理模型为止.常见的可用性测试方法包括出声思考法、启发式评估、协同测试法、经验评估、眼动观测、认知走查和行为测定等[25].本文以增强现实交互界面为例采用了启发式评估法对VR-AR混合交互模式的用户界面开展可用性测试,详细论述了在迭代演进过程中的用户界面改进方法.该优化方法同样适用于MobVR-AR系统中其它交互界面的迭代设计,直至界面的用户体验匹配预期的心智模型.为了对图11的AR交互界面进行评测.评测实验开始前随机选择了30名测试者,其中18名是年龄在20~30岁的男性测试者,12名女性测试者年龄在22~31岁之间.其中两名男性测试者曾参与过增强现实类程序的测试.在测试完成后,进行了问卷调查.在调查问卷中提出了如下几个开放式问题:(1)你觉得界面看起来怎样,哪里需要改进?(2)你觉得菜单操作起来是否简单易用?(3)你对界面元素所表达的含义的理解是什么?(4)查看房屋的周边信息总共耗费了多长时间?(5)你印象中的操作界面应该是怎样的?问卷的反馈结果归纳后包含如下几点调整意见:(1)菜单条的组成元素过多,丰富的色彩干扰到AR操作,应当简化;(2)优化菜单的层级操作步骤以简化交互过程;(3)对界面布局进行调整以适应Page10手机横屏的操作习惯;(4)信息框的出现方式比较呆板,应当加入动画特效;(5)部分图标的视觉隐喻传达不够准确,容易造成菜单用途的混淆.图12是MobVR-AR界面首次迭代设计的演进图,为了让图标向用户传达精准且唯一的心理暗示,图中所有存在理解偏差的图案都被重新设计,同时精简了菜单的构成元素.用户的反馈结果表明翻页箭头的面积较小导致辨识度降低,为此替换了翻页图标并增加方位罗盘以提升交互体验的空间感和用户的沉浸度.杂乱的显示使用户在搜索目标时造成障碍并且导致视觉混淆,这对AR信息传递给用户的理解造成负面影响[33].为解决这一问题,菜单栏由双栏层叠排列修改为单栏排列,并将文字描述框抽取出独立显示于菜单栏上方.在完成首次迭代设计修改之后进行了相同的评测实验,实验后收集到用户反馈结果表明误操作次数较高,分析调查结果表明菜单和信息框的上下布局导致操作空间较为拥挤.因此第2次迭代设计优先考虑大部分用户的使用习惯,将操作布局改为更为适宜横屏操作方式的左右并列方式.如图13中(c)处所示,菜单放置到左侧并以上下滑动的方式查看,更多的界面元素得以隐藏,客观上简洁化了视觉元素.改变了菜单高纯度单一色块的风格样式,色彩丰富的按钮风格替换为半透明灰色按钮,取消了原按钮下方的文字说明以减少界面的冗余信息,原文字所传达的功能信息被具备视觉隐喻作用的图标代替.通过微观心智模型的迭代设计,信息窗口弹出方式采用加速滑动进入的动画转场丰富了界面的动态交互效果.菜单到信息框的导航步骤由3步简化为2步,即点击三维标示板后弹出菜单,点击菜单项后展示信息框.上述操作步骤流程的改变不但更符合用户使用的思考逻辑,同时也简化了整体界面布局.AR界面的三维标识板和菜单的视觉设计借鉴了微软的ModernUI风格(以下简称MU),MU原名MetroUI,是基于瑞士平面设计原则由机场和地铁的指示牌带来灵感的设计.单纯色块背景衬托下以文字为主的界面导航方式具有简洁、清爽的特点.而动态磁贴(LiveTile)能够实时的显示数据和信息.它与iOS和Android交互界面的最大区别在于后两种以应用为主要呈现对象,而交互界面它强调的是信息本身.虽然MU的设计理念是要突出简洁与视觉焦点的引导,但最后的用户体验却并非如此.首先,体现简洁特性的无边框设计由于没有分割线,内容之间仅通过留白区分,这导致文字积压挤占了屏幕空间,造成了内容的“拥挤”.由于细线的分隔本身具备人性化的暗示,传递着“可以按下并触发新内容”的信息,MU的内容让人疑惑这是单纯的文字抑或按钮,它的功能性暗示更显不明确.其次,随着时间的增长,大面积的使用各种颜色的单一色块,会令人疲倦而不知所措.尤其对于屏幕不大的手机界面而言,不但迎面而来的色块包含一定信息量的文字,而且在颜色布局上使屏幕永远处于斑斓和无色的两极,如此使用色块是一种效率不高的表现.最后,虽然动态磁贴能够第一时间向用户呈现信息,但由于面积过小导致有价值的信息被淹没,只能显示简介性质的数字或小图标.用户无法便捷地获取有价值的信息.基于以上分析得出的结论,对于在较大面积区域内仅显示较少文字的三维标识板的设计,由于它能够体现简洁工整的特点,因此依旧保留了MU样式的设计方案.考虑到小尺寸屏幕对标注内容及数Page11量的苛刻要求,可能导致负面交互体验的动态磁贴特性没有被采纳.在保持扁平化特性的基础上,参照用户的反馈意见减少了菜单项的视觉风格因颜色过多对用户操作焦点造成的干扰,将界面风格统一为单色半透明的搭配.简化了简单的构成,即取消了图标右侧的说明文字,仅保留单色隐喻图标以暗示菜单项的功能.以上这些举措都是为了避免进入突出内容而忽略形式的设计误区,为用户创造一个较为人性化的移动交互体验.依照用户反馈的误操作数据,评测结果表明由于手指触控屏幕时所占面积和界面元素之间的比例关系不合理容易造成用户的误操作,为此在第3轮迭代设计中,首先考虑增大菜单按钮的尺寸并加宽按钮的间距,如图13(d)处界面所示,当菜单按钮由竖排7个减少到5个并且间距加大一倍后,由于界面的空间压迫感减小,在后续的测试结果中用户的误操作次数不但降低了一半,而且查询和导航菜单的反应速度普遍得到提高.虽然菜单列表项的减少隐藏了更多导航信息,但信息的布局还影响到目光扫视时信息被理解的时效性[33],因此对用户在测试中最关心的热点信息进行了统计,按照点击率的高低作为菜单项出现的优先次序.这样在简化界面元素的同时依旧能够趋近用户的需求心理,客观上还能提高交互的流畅度.此外,为了在增强现实场景中提高界面的操作辨识度,在MobVR-AR系统的界面设计中被选中项的状态提示方式调整为被选中图标的对比色.在首次迭代之后,由于加入了除点击以外的滑动手势操作,菜单栏和文字框内样式不统一且功能性不佳的翻页箭头图标得以简化,取而代之的是手势滑动触控操作.这种以减为加的设计思路不但提高了交互的顺畅度,还保证了以半透明圆角矩形为界面风格的视觉一致性.AR交互界面在经过以上步骤的可用性测试和反复迭代修正后,最终确定的设计方案的界面如图3左侧所示.4.2对比评估在对比评测中选定评测对象分别是WIKI-TUDE,LAYAR和本文提出的MobVR-AR,测试者依旧是参与上一轮测试的30名用户.此次的问卷采用李克特五级量表[35]的封闭式问题,在实际操作中通过对3款移动应用程序用户体验的比较,测试者投票选出唯一的选项.测试过程中由观察员记录用户在每个操作步骤中使用的时间,最后对各项对比结果进行统计.用户体验的主观因素使其难以用量化标准来评估.Rubinof提出了衡量用户体验的4个相互影响的要素,即品牌、使用性、功能性和内容①.在本次对比评测中暂不考虑品牌因素的影响,将可用性、功能性和内容3个方面因素用3个客观衡量因子和1个主观偏向因子表示.在图14中,审美指标衡量界面的美观性,易用指标评估界面交互的合理性,辨识度指标是评测视觉设计的重要参数,效率因子验证交互设计的逻辑性是否合理,偏好性表示用户更倾向于使用哪一款软件.在根据用户反馈结果得出的统计报告中,3款软件在审美和辨识度两点上基本持平,即用户在操作过程中都能够正确识别操作图标,界面的可识别程度都能将界面视觉元素与复杂的视频背景区分开.在易用性上MobVR-AR和LAYAR均①RubinoffR.Howtoquantifytheuserexperience[EB/OL].Page12优于WIKITUDE.这归功于基于心智模型的多次迭代设计和“抽屉式”层级菜单的设计思路.由于具有易用的优点,MobVR-AR和LAYAR在时效性上均优于WIKITUDE,完成单个操作任务期间的平均交互反应周期都能在0.3s以上.最后从用户的偏好性看,两款传统的AR移动交互软件的得票率都低于基于心智模型设计的MobVR-AR.由此可见,基于心智模型的以用户为中心的UED能够有效的改善人机互动的体验感.4.3体验历程映射评测体验历程映射(CustomerJourneyMapping)是源自服务设计业的一种方法,通过追踪、描绘用户使用某项服务时所有环节的体验(包括遭遇及情感反映),以发掘痛点、转化为改进机会或体验创新点①.依照体验历程映射理论,在评测中以MobVR-AR和HomeSpotter为评测对象,心跳仪获取到的心跳数值对应的用户舒适度曲线作为衡量用户体验的定量表示,通过图表的形式得出定性的分析.测试人群是参与过上述评估测试的30位测试者.首先制定一个用户舒适度量表,舒适度层级的量化数值设计在-100~+100之间,代表负面到正面的情绪舒适度变化,这个数值与调查问卷最终的统计结果相对应.依据操作过程的步骤,拟定相应的封闭式问卷.心跳仪记录测试者操作每一个步骤时的心跳数值的变化,同时测试者回答问卷上对应的问题,用户面部表情反馈的情绪信息被同期观察并记录.正常的心跳数值范围在每分钟60~100次之间,情绪的波动伴随心跳数值的改变.整理统计测试者的问卷回答结果和面部表情状况能够推断出测试者当时所处的正面或负面的心态状况.积极的兴奋和消极的沮丧都会导致心跳数值增加,问卷答案能够为数值取正或负做参考.观察表情记录的信息能够修正该数值的偏差.通过对30组数据的平均和取整,映射出了用户舒适度曲线的变化.评测结果如图15所示,图中横轴代表用户操作软件经历的体验历程,纵轴表示用户在不同体验阶段反馈的舒适度描述.用户在两个移动应用程序AR交互阶段的操作行为被划分为4个步骤,MobVR-AR和HomeSpotter在用户心理舒适度上较为接近.由于后者没有室内部分的VR互动设计,在用户得知交互功能缺失的状况下,心理舒适度曲线有所下降.本文提出的MobVR-AR系统具有场景切换功能,用户在进入切换阶段后受到转场特效的影响心理舒适曲线迅速提升,并且在交互空间切换到VR环境后达到心理愉悦情绪的峰值.在VR空间交互过程中的,用户的舒适度曲线始终保持在高位状态浮动.可见基于心智模型的VR-AR混合式交互模式不仅能够有效的调动用户的好奇心,而且增加了人机交互中的愉悦感.5结论与展望有别于传统AR应用程序,本文提出的VR-AR混合式移动导览系统的优势体现在两方面:一方面结合宏观和微观心智模型,通过迭代的可用性测试和调查问卷评测分析,交互界面不断得到修改和完善,最终使增强现实浏览器匹配用户预期的心智模型.MobVR-AR在易用性和效率性上提高了软件的用户接受度,界面元素和操作流程的简化使得该系统在同其它人机交互程序的对比评测中,更加符合用户的预期体验.由此可见,基于心智模型的以用户为中心的用户体验设计能够显著的改善人机互动的体验.另一方面,传统AR运用的局限性在于提供给用户的信息有限,而VR-AR混合的交互模式为人机互动拓宽了互动方式.除了能够在真实场景中获取虚拟信息,用户还可以进入全虚拟环境获取兴趣点更多的信息.不同交互空间中迥异的操作体验能够调动用户参与互动的情绪,这一点在体验历程映射评估中得到近一步证实.本课题下一步的研究工作计划进一步拓展微观心智模型在单一任务中的运用,对于如何避免由于反馈结果过于主观而影响评测结论的问题有待于深入的研究和探索.此外,由于进行交互设计的Unity3D引擎对多平台(WebPlayer,iOS,Mac/PC等)的支持方便了本系统在更多移动平台的拓展,这也将成为①AguidetoCustomerJourneyMapping-SmartCitiesBriefPage13图15体验历程映射曲线对比未来的工作重点,不远的将来能够把该应用带到iOS系统和网页端.最后,该系统还可以运用于消防安全预览,公园景区漫游和城市规划设计等多个领域.致谢向对本文提出建议的同行、老师和审稿人表示感谢!对协助本项目的联合单位中国电信广州研究院、电子科技大学、工信部电子四所和中兴通讯股份有限公司表示感谢!
