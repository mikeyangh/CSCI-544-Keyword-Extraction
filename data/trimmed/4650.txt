Page1无线移动多信道感知网络上的数据聚集传输规划冯诚李治军姜守旭(哈尔滨工业大学计算机科学与技术系哈尔滨150001)摘要智能交通系统上的实时导航、交通监控、安全保障等应用需要实时地收集大量的交通流量、车辆位置以及道路通行时间等信息.车上很多传感器(如GPS)可以实时采集这些数据,而由车及路边设备构成的车联网可以实时地传输这些数据.面对大量感知数据的实时传输,无线通信能力远远不能满足传输需求,而车移动导致的链路变化又使得无线信道资源很难被高效利用.该文综合了3个方面内容来解决这一问题:考虑基于802.11p的多信道数据传输提高无线传输能力;利用数据聚集降低数据传输量;利用网络动态变化结构规划高效的传输.该文提出的数据聚集规划包括两个步骤:首先是构建一棵带信道个数约束的优化聚集路由树.基本思想是通过选择连通时刻较多的链路作为树边优化传输时刻可规划的空间.同时建树时需要满足干扰半径内的树间冲突数量不大于信道数量,实现多信道无冲突并行传输;然后规划优化的传输时刻.其核心是在避免树内冲突的前提下利用有限的无线网络资源将尽可能多的数据聚集到AP节点.该文给出了一个动态规划算法实现了最优传输规划.该文在真实轨迹数据集和模拟轨迹数据集上进行了大量的对比实验.结果表明该文的方法在数据收集率上比现有算法提高了近1/4,同时也减少了数据平均收集延迟.关键词车联网;数据聚集;动态规划;多信道;数据收集;物联网1引言近年来,随着无线通信技术和感知技术的发展,车用自组织网络(VehicularAdhocNETworks[1]或VehicularSensorNetworks[2])成为无线移动通信领域的新的热点研究,受到工业界和学术界的极大关注.车用自组织网络是由移动的车辆节点和静态的路边接入点AP(AccessPoint)形成的无线移动感知网络.车用自组织网络为智能交通系统(IntelligentTransportationSystems,ITS)[3]的应用提供了实现的平台.实时导航[4]、安全警示广播[5]等许多ITS上的图1VANET上的数据收集场景图应用都需要实时车辆的速度位置等信息.因此,如何在VANET上高效地收集移动的车辆节点的实时数据成为车用自组织网络上的一个核心问题.车用自组织网络场景如图1所示.随着道路上车辆节点不断移动,车辆节点之间以及车辆节点与路边接入点AP之间的无线通信链路不断变化.在1时刻,节点a与节点b,节点b与节点d以及节点d与节点c之间都存在无线链路,这时,节点a向节点b传数据,节点c向节点d传数据,当移动节点采用802.11p协议进行多信道无线通信时,在该时刻节点a和节点c通过控制信道协调分别采用信道2和信道1传输数据,即实现了该时刻两对节点对的无干扰数据传输.在时刻2,随着车辆节点的移动,Page3节点之间的通信拓扑结构也随之发生变化,这时节点b和节点d,节点d和节点g,节点g和节点c之间存在无线链路,此时,节点b将上一时刻收到的节点a的数据与自身的数据进行聚集,得到聚集数据,将该聚集数据通过信道2传给节点d,节点g用信道1将数据传给节点c.从上述场景我们可知VANET上数据采集和处理的过程包括以下3个部分:首先移动节点感知获得实时的速度、位置等信息,然后移动节点之间通过多信道无线通信进行数据路由和聚集到AP节点,最后在AP节点再进行解压缩、数据近似等处理分析.由于移动节点产生的实时数据的信息量是非常大的,在数据的路由过程中传输这些数据需要消耗大量的无线宽带资源,同时移动节点之间的可用无线宽带资源是非常有限的,这就出现了大量的数据传输与有限的无线通信资源之间的矛盾.因此我们要合理地规划数据路由和聚集的路径和时刻.目前在VANET上有一些关于数据聚集的研究[6-27].这些研究主要是通过静态参数控制单节点上的聚集操作和数据传输[14-16].但这些方法没有考虑到动态链路的细节信息.数据路由聚集到聚集节点需要一定的时间,同时由于节点的移动,节点与AP之间的无线链路也存在时效性,因此节点在与AP节点的链路失效之前要将收到的所有的可聚集数据转发给AP节点,这样才能使得AP节点收集到移动节点的数据,同时有效地降低网络传输的带宽资源消耗.现有的研究没有考虑利用802.11p协议的多服务信道的特征进行传输规划.在数据传输的过程中,节点之间的通信采用无线通信方式.同一信道上的无线通信会有无线干扰的问题.无线干扰会导致传输效率下降.802.11p协议规定VANET上节点间的无线通信有7个信道:1个控制信道、6个服务信道.当在干扰范围内的多个节点对进行数据传输时,他们可以通过控制信道进行协调使得不同的节点对利用不同的服务信道,从而达到同一时刻干扰半径内的多节点对之间进行无干扰数据通信.综上,我们研究基于动态网络拓扑信息利用多信道规划移动节点的数据路由和数据聚集传输时刻的问题.针对该问题,本文分两个步骤进行求解.首先确定数据路由结构.本文提出了构造k约束优化聚集路由树的CreateMRT算法.然后规划无冲突聚集传输时刻.本文提出了基于动态规划思想的DAS-MRT算法.本文将上述两个算法组合形成DAC-WMMN算法,用以求解无线多信道移动感知网络下的数据聚集传输规划问题.最后,我们通过真实数据集和人工数据集上的模拟实验,分析了该算法的数据聚集平均时延、收集数据量等性能.实验结果表明本文的算法比现有的算法时延更小、效率更高.本文第2节介绍现有的VANET上的数据聚集的研究工作;第3节描述本文采用的系统模型;第4节形式化了k约束优化聚集路由树的构造问题,并提出构造k约束优化聚集路由树的算法,同时分析该算法的时间复杂度;第5节给出树上的数据聚集传输规划问题的形式化定义,提出基于动态规划思想的数据聚集传输规划算法,并证明该算法的优化性,同时给出算法的时间复杂度的分析;第6节通过大量真实轨迹数据集和模拟轨迹数据集上的实验分析本文算法在收集数据的数据量和时延上的性能,并与现有的聚集算法进行比较.最后总结全文.2相关工作近年来,国内外对VANET上数据聚集已经进行了一些研究[6-27].这些研究主要集中在3个方面:(1)考虑聚集路由的结构;(2)考虑聚集数据的精度;(3)考虑数据聚集的延迟.文献[6-11]是研究数据聚集中的路由结构.SOTIS[6]和TrafficView[7]采用无结构广播方式进行单节点上的数据聚集和分发.采用无结构数据聚集的优点是没有额外的维护路由结构的开销,缺点是同一数据的聚集数据会出现多个版本,如何从收集到的多个版本中选择最优的是核心问题.CGP[8]采用的算法的基本思想是分簇.它根据地理划分的路段对路面上的车进行分簇,选择簇头,将数据收集到簇头再进行聚集.簇方法的优点是不会产生多版本的不完整数据,同时节省了节点的计算资源,缺点是需要在数据路由前建立分簇,但节点快速移动时,维护簇结构的代价较高.文献[9-11]采用基于层次结构进行聚集.基于层次结构的聚集是先基于地图建立多层次聚集区域,然后逐层进行聚集.文献[11]的思想是利用分层界标对车辆通行时间进行聚集.层次性聚集的优点是聚集过程中传输的数据量是可控的,传输数据量随层级呈指数级下降,缺点是聚集引入的误差是不可控的.现有的一些研究[12-16]是考虑聚集数据精度,他们Page4解决的问题主要是权衡聚集数据精度损失和传输数据需要的网络带宽的消耗.TrafficView[7]考虑单节点上数据聚集算法,使得聚集数据的精度满足给定阈值的前提下聚集出最少的聚集数据.CASCADE[12]算法进行无损数据聚集,主要思想是存储聚集数据和原始数据与聚集数据的方差.文献[13]对CASCADE算法进行改进,主要是对簇的大小进行了优化.文献[14]基于模糊推理进行数据聚集.它研究的是在高速公路场景下对数据进行聚集,最后得到的聚集数据能反映车流速度的实际分布情况.这种聚集方法考虑数据真实分布,但聚集后的数据量不容易控制.还有一些研究是考虑数据聚集延迟.Catch-up是控制数据路由的算法.该文中采用马尔可夫模型对节点上数据的延迟进行优化,但没有考虑无线通信时出现冲突时如何调度节点进行传输的问题和移动节点之间无线链接的时效性的问题.文献[19]提出了一个查询响应协议DB-VDG,该协议设计的主要思想是数据如果能在限定的延迟内被携带到目的地,就尽量少进行转发,这样可以最大限度地节省带宽.还有一些其他的有关VANET数据聚集的研究.Dietzel等人[22]给出了VANET上数据聚集模型,对不同类型的数据不同的聚集操作等建立统一的聚集过程模型.文献[23-24]研究可扩展的数据聚集模式需要满足的理论性能.文献[25]的研究是针对停车位这类离散信息的应用,他利用的方法只适用于离散性数据的收集,不能用于收集速度、位置等连续性数据.3系统模型与问题描述3.1动态网络模型我们考虑基于时间片的时钟同步系统.首先我们对车辆节点的移动进行建模.假设车辆节点i在时刻j处于(x(j)i在各个时间槽所处位置序对形成车辆i的移动轨迹Tradi=((x(0)对于节点之间的无线通信我们采用圆盘通信模型.车辆i与车辆j在k时刻可以进行通信当且仅当在k时刻节点i和节点j之间的欧氏距离小于无线通信半径R.假设已知车辆的移动轨迹,根据移动轨迹集以及圆盘通信模型,可以得到D个时刻的通信拓扑图序列.然后我们利用通信拓扑图序列构造移动通信拓扑.移动通信拓扑涵盖了D个时刻的节点之间的连通关系.下面给出移动通信拓扑的定义.定义1(移动通信拓扑).移动通信拓扑定义为1个三元组G=(V,E,LT),其中V为节点集合,E为链路集合.〈i,j〉(其中i,j∈V)是E中的一条链路当且仅当存在一个时刻,i和j的距离小于通信半径R.移动造成的动态拓扑,其核心是使得链接〈i,j〉可以出现在多个时刻上,LT(〈i,j〉)表示了链接〈i,j〉出现的时刻集合.图2所示的是3个时刻的通信拓扑图序列,其中节点是{a,b,c,d,e},虚线表示在该时刻节点之间存在无线链路.通过该图序列,我们可以构造移动通信拓扑G,如图3所示.该移动通信拓扑G共有5个节点,虚线为无线链路边,其中边上标识的集合为该链路的连通时刻集,例如,节点a和节点b之间的链路lac,该链路在1,2这两个时刻是连通的,其他时刻不连通.3.2树状路由模型在给定的移动通信拓扑上移动节点进行聚集传输数据时,我们采用以AP节点为根的树型结构进行数据路由和聚集,这样使得每个节点到AP的路径唯一,即可以保证每个节点的聚集数据单版本.下面我们给出移动聚集路由结构的定义.Page5定义2(移动聚集路由结构).移动聚集路由是以AP节点为根节点,所有移动节点到AP节点的唯一路由路径构成的树型结构,表示为T=(V,ET,LT),其中V为节点集,ET为树T的边集,LT(〈i,j〉)表示了链接〈i,j〉出现的时刻集合.本文考虑多信道无线通信模式.这里假设可用信道的个数为k.节点可以选择任一信道进行数据传输,但一个节点在一个时刻只能发送数据或接收数据,当接收数据时,只能接收一个节点发送的数据.当多对节点在同一信道中进行数据传输时,本文考虑一跳冲突模型,即一个节点在接收数据时在它的通信半径内不能有其他的节点对进行通信.3.3传输规划及数据聚集在数据聚集传输的过程中,节点发送数据的时刻决定传输是否存在冲突以及AP节点最终能收集到的聚集信息量.因此规划数据聚集传输时,即规划节点发送数据的时刻.每个节点i被规划的聚集传输时刻记为Wi.因此一个聚集传输规划W是一个从移动节点集到时刻集的映射.下面我们给出聚集传输规划的定义.定义3(聚集传输规划).一个聚集传输规划是映射W:V/{AP}→LT,其中LT=∪{LTe|e∈ET},ET为移动聚集路由结构T的边集.节点i的Wi表示通过聚集传输规划W得到的发送数据的时刻,当Wi为0时,表示规划节点i不发送数据.在发送数据之前节点要执行数据聚集操作.我们假设这里的聚集操作为可分函数.可分函数指的是可以分治计算的函数,例如MIN,MAX,SUM等聚集操作.这些操作也是数据聚集中常常出现的操作.同时假设在节点上进行聚集计算的时间是可以忽略的,即不占用单独的时间片.在初始时刻,每个移动节点产生一个感知数据,即为原始数据.一个原始数据的信息量为1.然后节点在传输数据的过程中通过聚集操作得到聚集数据.一个聚集数据包含的信息量是参与该聚集数据计算的原始数据的个数,即该数据包含的移动节点的信息的个数.一个节点上累积的聚集信息量为该节点感知数据的信息量和该节点接收到的所有聚集数据的信息量之和.我们下面给出节点上的累积聚集信息量的定义.定义4(节点上的累积聚集信息量).该值是节点i感知数据的信息量和节点i截止到t时刻接收的聚集数据的聚集信息量之和,记为M(i,t).M(i,t)定义如下:M(i,t)=其中:VL为移动聚集路由结构T中的叶节点集合;Ci为节点i的儿子节点集.4犽约束优化聚集路由结构及其构造算法4.1犽约束优化聚集路由结构构造移动聚集路由结构即确定了数据路由的路径,也就是确定了节点发送的数据的接收节点.根据移动聚集路由结构将冲突情况分为两种类型:一种是节点不能同时接收多个数据,即在移动聚集路由结构上同一父节点的多个儿子节点不能同一时刻向父节点发送数据,同时父节点发送数据的时刻不能和儿子节点发送数据的时刻相同,这种冲突被称为树内冲突;另一种是节点在接收数据时不能受到其他发送节点的影响,即接收节点不能在其他发送节点的通信范围内,这种冲突被称为树间冲突.图4(a)所示的情况即是树内冲突,如图所示节点u和节点v有共同的父节点x,如果节点u和节点v同时给节点x发送数据,那么在节点x处会发生冲突,节点x无法同时接受节点u和节点v的数据.图4(b)所示的是树间冲突的情况.节点u给父节点x发送数据,节点v给父节点y发送数据,但节点x在节点v的通信半径内,如果节点u和节点v同时发送数据,那么在节点x处会受到节点v传输数据的干扰,无法接收到节点u的数据.我们考虑在建树时加入节点在树上的度的约束,使得树间冲突可以采用不同信道进行避免,也就是在构造路由树时,使得每个节点的树间边的个数不超过k,这也就保证了当一个节点发送数据的时刻与它的除父节点和儿子节点的其他邻居节点接收数据的时刻相同时,他们可以采用k个信道中的不同信道,使得树间冲突不会存在.因此建树问题的约束条件是树上的任一节点i要满足Δi-δi<k,其中Δi为节点i在移动通信拓扑G上的度数,δi为节点i在移动聚集路由结构上的度数,k为可用信道数量,即任一节点i在通信半径范围内可能被规划同时传输的节点个数不超过信道个数,则当这些节点被规划同时传输时,则采用不同信道进行传输.该树结构是传输时刻规划问题的输入,因此该Page6图4两种冲突情况树的结构影响传输规划的性能.建树时考虑连通时刻较多的边作为树上的边,这样在规划传输时刻时,可选择的空间更大,也就是可规划的空间更大,因此更利于最大化收集数据量这一目标的实现.综上,我们给出k约束优化聚集路由结构的定义如下.定义5(k约束优化聚集路由结构).树T=(V,ET,LT)为移动通信拓扑G上的k约束优化聚集路由结构当且仅当在该树上的边的连通时刻集的基数之和最大,且每个节点满足Δi-δi<k限制,其中Δi为节点i在移动通信拓扑G上的度数,δi为节点i在移动聚集路由结构上的度数,k为信道数量.如图5所示,图5(a)为5个节点的移动通信拓扑,图5(b)为该拓扑的2约束优化路由结构,其中2约束体现在对于节点b来说,在路由结构中虚线连接的节点个数小于2,这里与节点b虚线相连的只有节点e.优化体现在对于节点e,它可以选择节点a作为父节点,也可以选择节点b作为父节点,但链路ae的连通时刻集为{1,2,3},链路be的连通时刻集为{1,2},链路ae的连通时刻更多,因此节点e选择节点a作为父节点.我们将构造k约束优化聚集路由结构的问题形式化为如下形式,记为k-MRT问题:k-MRT问题:已知:移动通信拓扑G=(V,E,LT),其中AP∈V,无线通信可用的信道个数为k.求:以AP为根的k约束优化聚集路由结构T.4.2犽约束优化聚集路由树算法k-MRT问题是基于移动通信拓扑求以AP为根节点的k约束优化聚集路由树.我们给出Create-MRT算法.该算法首先保证k约束,即每个节点的至少min{Δi-k,0}个邻居节点会被构建为儿子节点,这就保证了每个节点的树间边的个数不超过k,在选择哪些节点加入时,根据链路的连通时刻集的大小进行选择.然后,当一个节点选择哪个节点作为父节点时,我们仍考虑它与该节点的链路连通时刻集,选择这个集合基数最大的链路的节点作为父节点.这里Ni表示节点i在G上的邻居节点集.该算法的伪码如算法1.算法1.CreateMRT算法.输入:移动通信拓扑G=(V,E,LT),根节点为AP节输出:k约束优化聚集路由树T=(V,ET,LT)1.初始化:V=NULL,ET=NULL2.将AP加入V,将AP加入tempV3.WHILE(tempV不为空)4.取节点i∈tempV,设tempN=Ni\V5.IF(Δi>k){6.Page77.8.WHILE(tempN不为空)9.10.首先初始化树的节点集和边集为空.将AP节点加入节点集,作为根节点.然后对于每个新加入的节点i,判断该节点在图G上的度Δi与信道个数k的关系,如果大于,则要选择Δi-k个节点添加为节点i的儿子节点,这时要将节点i的未加入的邻居节点与节点i的链路的连通时刻集进行排序,从中选择最大的前Δi-k个,将这些节点加入新加节点集tempV,加入树节点集V,相应的边加入边集.接下来我们要考虑节点i的未加入的邻居节点集中仍没处理的节点,设其中的一个节点j,判断它与节点i的链路连通时刻集的大小是否为它的所有相连链路中最大的,如果是,节点j选择节点i作为父节点,相应地做些加入和删除操作.循环上述过程,直至新加节点集为空,算法终止.4.3算法时间复杂度分析设移动通信拓扑G的节点个数为n,边数为m,节点在G上的最大度为Δ.定理1.CreateMRT算法的时间复杂度为O(nΔlogΔ+Δ2).证明.该算法的主体部分为步3~10.对于每个新加入的节点,要对该节点的所有未添加的邻居节点进行排序,时间复杂度为O(ΔlogΔ),其他的加入删除等操作时间复杂度为O(1),因此对于所有节点进行上述操作的时间复杂度为O(nΔlogΔ).对于步9~10,要找出一个节点的所有链路的连通时刻集基数最大的,时间复杂度为O(Δ),对每个节点来说,做这个操作的次数不超过Δ,因此这部分总时间复杂度为O(Δ2).综上,CreateMRT算法的时间复杂度为O(nΔlogΔ+Δ2).5移动聚集路由结构上的聚集传输规划问题及其算法5.1移动聚集路由结构上的聚集传输规划问题k约束优化聚集路由树确定了数据的路由,下面就是在该结构上规划数据聚集传输时刻.已知k约束优化聚集路由结构T,在T0时刻移动节点i产生感知数据di,求解无冲突的聚集传输规划W使得AP节点收集的聚集信息量M(AP,WAP)最多,其中WAP=1+argmax{t|t∈LTi,AP,i∈CAP}.我们将移动聚集路由结构上的数据聚集传输规划问题进行形式化定义,记为DAS-MRT问题.DAS-MRT问题:MaximizeM(AP,WAP)SubjecttoWi∈LTi,pi其中式(2)约束表示的是当儿子节点和父节点都传输数据时,儿子节点传输数据的时刻要小于父节点传输数据的时刻,即儿子节点要在父节点发送数据之前将数据发送给父节点,式(3)约束表示的是同一父节点的多个儿子节点都传输数据时,它们传输数据的时刻不能相同.5.2移动聚集路由结构上的传输规划算法通过对DAS-MRT问题的分析,我们给出了基于动态规划思想的DAS-MRT算法.我们首先进行分层,将叶子节点作为第0层,父节点的层数为儿子节点的层数的最大值加1.按照层数由低到高的顺序,对每个节点与父节点的链路的连通时刻计算该时刻传输可以收集的最大数据量.设X[i,W]表示节点i在传输时刻为W时发送的聚集数据包含的最大信息量.设节点i的父节点为pi.设节点i的儿子节点集为Ci,有k个儿子节点c1,c2,…,ck,对应传输时刻为Wc1算法2.算法2.DAS-MRT算法.输入:k约束优化聚集路由结构T=(V,ET,LT)输出:每个节点的传输时刻Wi1.初始化X[i,W]=1,i∈VL,t∈LTi,pi2.初始化X[i,0]=0,IF1∈LTi,pi3.WHILE(i∈V\(VL∪{AP})4.WHILE(w∈LTi,pi5.6.7.8.9.10.11.Page812.13.设WAP=1+argmax{t|t∈LTi,AP,i∈CAP},计算在该算法中,前两步是初始化的步骤,从步3~12是计算除叶节点和根节点的所有其他节点在所有可传输时刻的X[i,W],步13是计算根节点AP节点的X[AP,WAP].这里从步3~12是DAS-MRT算法的核心.步7~10是一个优化处理,即将没有冲突的时刻直接分配给节点,步11~12是确定节点的候选时刻集,用候选时刻集和儿子节点集构造二部图的最大权值匹配问题,然后利用KM算法[28]进行求解.5.3分析算法的优化性首先我们很容易可以得到以下结论:对于任一节点i,t∈LTi,pii处数据不会被丢弃,因此,累积的数据量一定是随着时间的增加递增的.后面的证明中我们将用到这一结论.为证明DAS-MRT算法的优化性,我们首先证明该问题有最优子结构,然后证明DAS-MRT算法中选择的候选时刻集一定包含最优解在其中,最后我们给出DAS-MRT算法能得到最优解.定理2即证明DAS-MRT问题存在优化子结构.定理2.设AP节点有k个儿子节点c1,c2,…,ck,设这k个儿子节点相应的优化传输时刻为W,…,WWc2多的节点个数.M(AP,WAP)达到最大值当且仅当任一儿子节点ci的数据传输时刻为W的信息量为M(ci,W证明.这里需要证明两个部分:一部分是任一儿子节点ci的数据传输时刻为W输的数据包含的信息量为M(ci,W首先,我们假设第一部分成立,证明第二部分.假设ci节点传输的数据包含的信息量为MciMci<M刻规划为s1.当ci节点传输的数据包含的信息量为时,以ci为根的子树的节点数据传输时刻规划Mci为s2.根据式(1)可知,M(AP,WAP)=∑ci∈CAP用s2映射可以使得ci节点传输的数据包含信息量为,也就使得MAP>MMci因此假设不成立.下面我们证明第一部分.假设k个儿子节点的传输时刻为Wc1AP的M(AP,WAP)=∑ci∈CAP子节点的传输规划为W算根节点AP的M(AP,WAP)=∑ci∈CAP据最大权匹配问题可知M(AP,WAP)>M(AP,WAP),因此与M(AP,WAP)是最优解矛盾,因此假设不成立.综上所述可知DAS-MRT问题有优化子结构.下面我们给出算法在选择传输时刻的候选集时必定包含了优化解在内,即在优化过程中构造的候选集是正确的.定理3.考虑节点i,它的儿子节点为k个,c1,c2,…,ck,如果节点i的传输时刻为W,对于任一儿子节点ci取LTci{1,2,…,W-1}|k,则将集合LTciW-1}中元素进行从大到小进行排序,选取前k个元素构成的集合RTci{1,2,…,W-1}∪{0},儿子节点的传输规划候选时刻集为RTc1足|LTci都能分配到传输时刻,儿子节点的传输规划候选时刻集为RTc1证明.我们根据LTci大小进行分情况讨论.情况1.所有儿子节点的|RT|为k,且不含0时刻.假设存在儿子节点ci,当它的父节点i的传输时刻为W,它的优化传输时刻为W则Wci的|RT|为k,且不含0元素,则RTci个时刻是被空出来的,即没有节点在该时刻传输数据.由于W函数的单调递增性,截止到该时刻节点ci收集的数据量一定大于等于截止W据量.因此,儿子节点ci在该时刻传输的收益优于在时刻的传输数据,出现矛盾,因此上述假设不Wci成立.情况2.存在儿子节点ci的|RT|k,且含0时刻.在这种情况下所有的儿子节点分成了两类:A类是RT中不含0时刻;B类是RT中含有0时刻.A类中的节点的优化传输时刻并在RT中,证明过程与情况1中的证明过程类似.对于B类中的节Page9点i,|RT|k,因此当RT中的除0以外的元素与其他节点的RT交集不为空,且其他节点的优化时刻选取在RT中的所有除0时刻时,节点i没有可规划的空闲时刻,因此,节点i不会被传输,即传输时刻为0.综上.B类中节点的优化传输时刻在RT中.下面我们给出DAS-MRT算法得到的解为DAS-MRT问题最优解的证明.定理4.DAS-MRT算法能得到DAS-MRT问题的最优解.证明.根据定理3,我们已经找到了节点i的儿子节点c1,c2,…,ck的优化传输时刻的候选集,现在我们只需要从这些候选集中分配传输时刻使得在不冲突的前提下M(i,Wi)最大.这里X[i,W]表示i的传输时刻为W时发送数据包含的节点个数的最大值.求解最优的M(i,Wi)是一个二部图上的最大权匹配问题.我们构造带权二部图G=(V1∪V2,E).其中V1由k个儿子节点c1,c2,…,ck组成.V2由每个儿子节点的传输规划候选时刻集组成,这里要去掉0时刻,即∪RTj\{0}.将节点cj与所有RTci的节点tj进行连接,边上的权值为X[ci,tj].限制条件是多个节点不能有相同的传输时刻且每个节点最多有一个传输时刻.目标是给儿子节点们分配传输时刻使得被分配的边上的权值之和最大.这是一个最大权匹配问题,在一步冲突下可以用KM算法在多项式时间得到最优解.MRT的高度为h,我们根据节点距离AP节点的跳数对节点进行分层,AP节点作为第0层,叶子节点作为第h层.我们从第h-1层的节点开始,给定任一节点的传输时刻,能够通过DAS-MRT算法确定儿子节点的优化传输时刻,将该节点的所有可传输时刻都进行计算,将该层所有节点计算完后,计算h-2层节点,递归下去,即可以计算AP节点在WAP时刻的X值.因此,DAS-MRT算法得到了DAS-MRT问题的最优解.5.4分析算法的时间复杂度在这一部分我们分析DAS-MRT算法的时间复杂度.设移动聚集路由结构T的高度为h,树上节点的最大度为δ,节点总数为n,边的连通时刻集的基数最大为m.二分图最优匹配问题的KM算法[34]的复杂度为O(q3),其中q为二分图的边数.定理5.DAS-MRT算法的时间复杂度为O(m+(h-1)mδ6).证明.在每个节点i,W∈LTi,pi计算X[i,W].对于叶子节点来说,i∈VL,W∈LTi,piX[i,W]均设为1,因此计算需要的时间为O(m).设第k层的节点集为V(k).对于第k层的节点来说,对于i∈V(k),W∈LTi,pi要的时间取决于KM算法的时间复杂度,这里二部图的边数为O(δ2),由于KM算法的时间复杂度为O(q3),q为边数,因此计算X[i,W]的时间复杂度为O(δ6),从而计算第k层一个节点的所有可传输时刻的X值的时间复杂度为O(mδ6).由于同一层的节点的X值相互不影响,可以并行计算,因此第k层的节点的X值计算的时间复杂度为O(mδ6).第k层节点的X值计算取决于第k+1层节点的X值.第h层为叶子节点,从h-1层开始逐层计算,计算到第0层的根节点的时间复杂度为O(m+(h-1)mδ6).因此,DAS-MRT算法的时间复杂度为O(m+(h-1)mδ6).6实验及其结果分析我们将CreateMRT算法和DAS-MRT算法合并形成DAC-WMMN算法.通过模拟实验来评估DAC-WMMN算法的性能,将它与CatchUp和DB-VDG[19]算法进行比较.需要说明的是:Catch-Up中需要设定的两个参数,WALK速度为100m/s,RUN速度为1000m/s.DB-VDG中有两种模式:SBSS和DBSS,实验表明DBSS的性能更好,因此我们选择DBSS模式.为便于比较,我们将两点之间的距离定义为最短路径的边长之和.6.1实验数据以及参数设置我们采用两个数据集进行模拟实验:一个是人工轨迹数据集SMD;另一个是真实的出租车移动轨迹数据集CSGPS.对于人工数据集,我们采用随机方法生成.每个时刻的图为ErdosRenyi随机图.给定节点的总数和任意两个节点之间边的生成概率,随机生成静态图,再在边上随机连通时刻集,即形成一个移动通信拓扑.人工数据集参数见表1.CardinalNumberofConnectedTimeSetPage10CSGPS数据集①是由MichealPiorkowski,NatasaSarafijanovic-Djukic,MatthiasGrossglauser[29]在2008年于美国旧金山采集的出租车GPS移动轨迹数据.该数据集的数据是由Cabspotting②项目组提供的.该数据集包含了在旧金山湾区的大约500辆出租车30天的GPS数据.数据采集的开始时间为2008-05-17,结束时间为2008-06-10.数据集中每辆车的轨迹数据存储为以该车辆ID为名字的txt文件,该文件中每一条记录为一个时刻该车辆的GPS数据.我们对数据进行预处理,首先整个数据采集时间段进行分片,将每个时间片内出现的GPS数据整理为一个文件,形成单时间片GPS数据文件,然后根据给定的通信半径以及圆盘模型,形成单时间片通信拓扑图文件.数据集的具体参数见表2.CommunicationRangeCardinalNumberofTS我们采用NS2模拟器模拟无线网络传输,这里MAC层采用802.11p协议.我们将处理后的GPS轨迹导入NS2,在NS2上运行规划算法,按照得到的结果进行实际数据传输.6.2性能指标为了分析数据收集算法的性能,我们定义3个指标评测数据收集的有效性、效率和时效性.(1)数据收集率是度量数据收集算法的有效性的指标,也就是数据收集算法将相关的节点数据路由到AP的能力.该度量是AP节点收集到的节点数据占节点总数的比例,定义如下:这里Ndelivered是AP收集到的节点的数据总量,Nnodes是节点总数.(2)平均传输数据率是评测传输数据时消耗的带宽量的指标,即度量算法的效率.该度量是节点发送的数据总量与AP收集到的节点的数据总量的比值,定义如下:这里Si为节点i发送的数据量,delivered是AP节点收集到的数据对应的节点集,Ndelivered是AP收集到的节点的数据总量.(3)平均延迟是度量数据收集算法的时间性能的指标.该度量是收集上来的数据的延迟的平均值,定义如下:这里ti为节点i的数据到达AP节点的时刻,received是AP节点收集到的数据对应的节点集,Nreceived为AP收集到的节点的数据总量.6.3性能对比为了分析DAC-WMMN的性能,我们将该算法与Catch-Up算法和DB-VDG算法从数据收集的有效性、效率和时效性3个方面进行对比.默认参数下性能比较见表3.综合3个性能指标可以看出DAC-WMMN的性能最好.它在3种方法中具有最高的数据收集率和最低的平均传输数据率,同时平均延迟也是最小的.总体上来说,在人工数据集上运行的结果要优于实际GPS轨迹数据集上的运行结果.这是因为人工数据集上节点之间的动态连通性更有规律,而实际数据集上节点之间的连通变化更频繁.从表3中可以看出DAC-WMMN的数据收集率高于Catch-Up和DB-VDG,这是因为Catch-Up不是以延迟界限驱动的,前方节点通过等待聚集的效果更好,但是有可能错过延迟界,因此数据收集率会受到影响.DB-VDG在节点选择路由模式时考虑了延迟界限,但只是简单地根据线性模型计算,没有考虑未来实际的节点移动情况和通信拓扑,而DAC-WMMN是根据截止到延迟界的全部通信拓扑信息优化数据收集率,因此能够在保证最大延迟界的情况下使得尽量多的节点数据被收集上来.从表3中可以看出DAC-WMMN的平均传输率明显高于Catch-Up和DB-VDG,这是因为DAC-WMMN中每个节点只发送一次数据,因此进行了最大程度地聚集,而在Catch-Up和DB-VDG中节点数据经过两个模式进行路由,因此聚集的数据在经过一段时间到达同一节点时才能进行聚集,而之前他们是分别路由的,因此DAC-WMMN算法本身决定了它是消耗传输带宽量最小的方式.对于平均延迟方面,Catch-Up的平均延迟要略小于DAC-①②Page11WMMN和DB-VDG,这是因为Catch-Up中存在一部分节点还未进行聚集或只进行部分聚集就已经将数据传到目的节点,因此这部分的节点的延迟相比较来说更小,也就使得平均延迟更小,但DAC-表3默认参数下仿真结果的对比DAC-WMMNDB-VDGCatch-Up6.3.1节点之间的连通度对性能的影响本组实验主要研究移动通信拓扑图中节点之间的连通情况对数据收集率的影响.其他默认参数固定,节点的连通情况变化通过改变边的连通概率和边的连通时刻集的基数实现.这里我们采用人工数据集进行实验.从图6中可以看出,随着连通概率和连通时刻集基数的增加,DAC-WMMN、Catch-Up和DB-VDG算法的数据收集率都是增加的,DAC-图6边连通概率和连通时间集基数对数据收集率的影响WMMN较之相差不大,因为DAC-WMMN中在节点的路由路径选择时考虑数据的最小可能延迟,从而使得数据收集过程中在优化数据收集率的同时也能使得数据尽可能快地到达AP节点.效率1.003.252.67WMMN的数据收集率高于另两个算法.从图6中,我们可以看出数据收集率随连通时刻集基数的变化更明显.这是由于连通时刻集的基数反映边的动态变化中的持续连通情况,当边上该值较大时,相应的节点的候选发送时刻集较大,该节点以及该节点收集的数据能够传输的机会也较多,因此整体的数据收集率会较大.从图7中可以看出随着连通概率和连通时刻集基数的增加,DAC-WMMN算法得到平Page12图7边连通概率和连通时间集基数对平均延迟的影响均延迟变化不大,而Catch-Up和DB-VDG算法中平均延迟有明显的减小趋势.这是由于DAC-WMMN在选择节点的数据接收节点时考虑了最小可达时刻的优化,因此,在限定延迟界的情况下,平均延迟不会受到通信网络动态连通情况太多的影响,保持了相对稳定.而Catch-Up和DB-VDG算法中是没有涉及接收节点的选择问题,在连通情况较好的情况下,数据的路由机会更多,流动性更大,延迟小的节点的比例会更大,因此,平均延迟会更小,因此延迟更多地会受到网络动态连通情况的影响.6.3.2节点数量对性能的影响本组实验主要研究节点数量对性能的影响.对于SMD数据集,我们通过改变移动通信拓扑中点的个数来实现,对于CSGPS数据集,我们提取不同时间段的公共子序列图,对节点总数根据间隔为5划分移动通信拓扑类别,每个类别包含的图例均为20个.从图8中,我们可以看出对于SMD数据集,随着节点数量的增加,3个算法的数据收集率都降图8节点总数对数据收集率的影响(SMD数据集)低.从图8中可以看出,DAC-WMMN算法的数据收集率下降较缓慢,并仍高于其他的两个算法的数据收集率.Catch-Up算法和DB-VDG算法的数据收集率下降较快,这是由于当节点数量增多时,节点密度和连通情况不变,数据收集量基本不变,同时这两个算法收集的效率低于DAC-WMMN算法,因Page13此相对的数据收集率下降较快.从图9中,我们可以看出对于CSGPS数据集,3个算法的数据收集率都是随着节点个数的增加而下降.从图中可以看出,CSGPS数据集的实验结果相对SMD数据集的实验结果变化更缓慢,这是由于出租车轨迹数据中,当节图9节点总数对数据收集率的影响(CSGPS数据集)图10数据收集率随延迟界的变化情况图11平均延迟随延迟界的变化情况7结论与传统的无线传感器网络相比,无线多信道移点个数较少时,移动过程中通信的连通情况更弱,当节点个数较多时,连通情况更好,因此,数据收集的效率更高.6.3.3延迟界对性能的影响本组实验主要研究延迟界对性能的影响.我们在SMD数据集和CSGPS数据集上分别比较了3种算法的有效性和时效性.图10表明,随着延迟界限的增加,3种算法的数据收集率在两个数据集上都有所增加.从图10中我们可以看出延迟界对数据收集率的影响是非常大的,当延迟界较小时,能收集上来的数据量是非常有限的,随着延迟界的增加,DAC-WMMN算法中的节点可规划机会更多,因此,数据收集率会迅速增加.延迟界是影响数据收集的效率的重要参数.从图11中可以看出DAC-WMMN算法的平均延迟几乎随着延迟界线性变化.动感知网络具有一些特性,使得其上的数据聚集收集过程面临许多困难和挑战.为此,我们引入移动通信拓扑模型,提出了DAC-WMMN算法,该算法包括两个部分:首先根据CreateMRT算法建立移Page14动聚集路由结构,然后根据无冲突传输时刻规划DAS-MRT算法优化传输时刻.CreateMRT算法构建k约束优化聚集路由结构,为后面的规划提供了更多可规划的空间,同时DAS-MRT算法是在移动聚集路由结构上无冲突传输规划的最优算法.通过在真实出租车移动轨迹数据集和人工模拟轨迹数据集上的大量实验,表明DAC-WMMN算法具有更优异的性能.在数据聚集收集过程中,消耗的传输带宽为最低值,同时有更高的数据收集率以及较稳定的平均延迟.
