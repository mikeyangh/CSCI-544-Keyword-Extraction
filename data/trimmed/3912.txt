Page1一种高效的属性图聚类方法吴烨钟志农熊伟陈荦景宁(国防科学技术大学电子科学与工程学院长沙410073)摘要图是描述现实世界各类复杂系统的一种普适模型,且许多实际应用中的图是大规模的.图的聚类是理解、分析和可视化大规模图的关键技术之一.现实世界的图往往包含丰富的属性信息,如何综合结构和属性信息进行属性图的聚类是一个新的挑战.大多数的现有方法或者将结构和属性转化为距离,基于传统方法进行聚类;或者只考虑某一方面聚类.文中结合信息论中最小长度原则,基于遗传算法,提出一种高效的属性图聚类方法GA-AGC.通过对属性图聚类问题建模,转化为最小描述长度原则问题;扩展标签传播方法作为遗传算法初始化方法,结合编码减小的局部变异方法,提出一种解决属性图聚类的遗传算法.文中方法无需设定聚类的数目,算法复杂度近似线性于结点和边的数目.真实数据集上的实验验证了算法的有效性和高效性.关键词属性图;聚类;遗传算法;最小长度原则1引言在信息技术迅速发展的今天,人们处在联系无处不在的社会中.图结构成为了一种描述现实世界各类复杂系统的普适模型,刻画了各种实体及其之间的相互联系.现实世界中的许多应用领域如Web网络、社会网络、传感器网络、道路网等,都可以用图数据结构来描述,或者能够采用基于图数据的方法进行处理.目前,正是由于图的广泛存在,图数据的研究正如火如荼地进行,吸引了不同领域的众多研究者.然而,现实世界中的图数据规模日益趋向海量化发展.举例来说,截止2012年10月,Facebook的常规移动用户达到10亿①.从这些大规模图中分析用户所需要的信息,是一个极具挑战性的难题.另一方面,将如此大规模的图一次性进行加载显示,不仅耗费大量资源,而且导致可视化视图非常混乱.从数据管理角度出发,对大规模数据进行按需加载,将节省大量计算资源.图的聚类为上述需求提供了解决途径,有利于大规模图的分析、理解和可视化.所谓图的聚类,是指根据某种相似性规则,如结点连接度、邻居结点相似性等,将图的结点划分到若干组.如图1所示,图1(b)是图1(a)的一个聚类结果.显然,图1(b)较1(a)更容易分析和理解.现有的许多图聚类算法主要考虑图的拓扑结构如结点的度分布、直径以及图的结构和模式等,使得同一聚类中的结点联系紧密.这些方法主要包括基于最小割的方法[1]、multi-way图分割方法[2]、谱方法[3]、基于随机游走的方法[4]、基于遗传算法聚类[5-6]等.另一方面,根据结点的属性相似性对图进行聚类[6],使得同一类中的结点具有相同的属性值.然而,拥有大量信息的图往往出现在实际应用中,除了用结点来表示实体、边表示实体之间的关系之外,还有大量的属性信息伴随着结点和边出现.在此种情形下,同时利用结构信息和属性信息意味着会得到更加准确和有意义的分析结果.比如社会网络中,结点属性可以用来描述某个人物的特征,拓扑结构表示某个群体内人们的关系.若将一个大图划分成聚类,很自然的是将联系紧密并且具有相似特征的个体划分到一个团体中.事实上,现有的许多聚类方法,仅仅考虑了其中的某一个方面,导致聚类结果或者在一个聚类中具有大量分散无关联的属性,或者结构松散.因此,需要研究综合考虑图的结构信息和属性信息的聚类方法.其主要挑战在于:如何定义图中的结构信息和属性信息进行结合的目标函数,如何在给定目标函数的前提下,有效地计算使目标函数取值最小的聚类结果.本文通过对属性图聚类问题进行分析和建模,利用最小描述长度原理(MinimumDescriptionLength,MDL),提出一种基于遗传算法的属性图聚类方法(GeneticAlgorithm-basedAttributedGraphClustering,GA-AGC).属性图聚类方法;MDL原则对问题建模;方法,同时考虑结构信息和属性信息;本文的主要贡献如下:(1)对属性图问题进行分析,基于信息论中(2)提出一种扩展标签传播算法的种群初始化(3)结合局部变异策略,提出基于遗传算法的(4)通过实验验证了本文方法的有效性.本文第2节阐述和分析属性图聚类相关工作;第3节对属性图聚类问题进行定义和建模;第4节详细阐述基于遗传算法的聚类方法;第5节通过实验分析算法的质量和效率;第6节对全文进行总结和展望.2相关工作属性图在现实世界中普遍存在,比如社会网络中的用户具有某些兴趣,基因交互网络中具有某些基因表达信息,电话网络具有用户人口特征等等.事实上,当前大部分图的聚类方法都集中于非属性图,聚类过程也主要是基于结点的结构关系进行.然而,实际案例往往要求综合考虑结构和属性的相似性,将结点划分到不同的聚类中.与图的聚类形成鲜明对比的是,研究属性图的①http://www.facebook.comPage3聚类的成果非常少.Tian等人[7]基于每个聚类中的结点属性一致原则,根据结点的属性对属性图进行聚类(k-SNAP).该算法将属性完全相同的点聚到一组,通过允许用户下钻和上取,实现了OLAP形式的多粒度的图聚类.然而,仅仅根据结点的属性对图进行聚类,往往会造成某些聚类中的结点结构联系非常分散.而且,当属性类别非常多时,聚类结果中的结点数也会很多.针对k-SNAP无法处理具有数值属性的结点聚类问题,Zhang等人[8]扩充了k-SNAP方法,通过发掘结点属性和网络结构中的领域知识将数值属性进行分类,并对属性邻近对根据相似度值进行合并,在合并过程中基于最大恶化程度计算划分位置.一种将图的结构和属性信息结合起来的方法是构建增广属性图[9-10],通过将属性a转化为图中的一个结点va,若某个结点v具有某个属性,则存在边(v,va).基于增广属性图,采用基于熵的统一模型来衡量超图中的同质性,通过最小化“超结点”和“超边”的熵值,用启发式方法或者传统聚类方法将结点聚集到不同的类中,实现属性图的聚类.然而,该方法计算的聚类结果,在同一聚类超结点中的各个结点联系不紧密.为避免属性和结构的距离度量问题,基于模型的方法被用到属性图聚类中[11],并将聚类问题转化为标准概率推断问题.为简化计算,假设随机变量满足容易计算的分布函数.然而,基于概率模型的聚类方法,在聚类过程中需要事先设定聚类的数目,只有在已知最佳的聚类数量前提下,才能达到理想的聚类效果.绝大部分方法一般先考虑属性聚类,然后实施结构聚类,不能实现结构和属性的协同聚类.然而,图中的结构和属性对于聚类是相互影响的,同一聚类中既要满足结构联系紧密,同时还要满足属性类似.3问题描述3.1问题定义在图结构中,结点表示实体对象,边表示对象之间的关系.在本文中,结点包含有不同的属性描述信息.因此,首先给出以下定义.定义1.属性图.属性图G可以表示为四元组G=(V,E,A,F),其中V表示N个结点的集合,E={(vi,vj)|1i,jN,i≠j}表示边的集合,A={a1,…,aL}表示V中结点的L个分类属性集合.每个结点vi∈V的属性可以用长度为L的属性向量γ(vi)=[a1(vi),…,aL(vi)]描述,其中aj(vi)表示结点vi在属性aj上的观测值.F={f1,f2,…,fL}表示L个函数的集合,其中fi:V→dom(ai)表示指定某个结点vi∈V的属性ai在其值域dom(ai)中的取值.定义2.图结点分组.对给定的图G=(V,E,A,F),P={G1,G2,…,Gk}称之为图G的一个结点分组,当且仅当满足以下条件:(1)Gi∈G,V(Gi)V(G)且Gi≠;(2)∪k(3)Gi,Gj∈G,i≠j,Gi∩Gj=.图中的每个结点划分都是不重叠的子集,每个子集Gi称为一个分组.对图G的一个结点分组划分P,结点v所在的唯一分组Gi记为P(v).映射关系珚G=(P,D):分配到唯一分组;定义3.图的聚类.给定属性图G=(V,E,A,F),图的聚类定义为(1)P:(v1,v2,…,vn)→(G1,G2,…,Gk)将结点(2)D:(a1,a2,…,aL)→(A1,A2,…,Al)指定属性描述信息到l个类中.直观来看,理想的属性图聚类结果满足以下两个条件:(1)结点在同一聚类中结构上相似且紧密连接,而在不同聚类中相异或稀疏连接;(2)同一聚类中的结点具有相似的属性,而不同聚类中的结点属性相差较大.3.2问题建模若图G具有n=|V|个结点和m=|E|条边,则对图G的每个聚类情况珚G,其k个类可以如下描述:烄烅烆T=犚=其中,犚表示将n个向量划分到k个类,ri∈{1,2,…,k}表示结点vi∈V所属分类编号;矩阵犕是聚类信息描述,表示类间和类内的连接关系,类i,j分别包含ni和nj个结点,则分组i和j之间有lij条连接;犃表示分组属性信息矩阵,描述在当前聚类结果中的属性信息分布.类似地,如果将每个结点单独看作是一个聚类分组,则对原始图结构可以用类似T的形式描述,记为S.对于不同的向量犚i,对应不同的聚类结果描Page4述Ti.于是,问题的目标是求解最佳分组向量犚,使得其对应的描述T满足图的聚类条件.基于信息论理论,既需要保持描述T对S的真实性,又需要满足聚类的结构和属性相似性条件,其本质是计算描述T,使得聚类描述T和原始描述S之间的互信息犚=argmax犚I(S,T)最大.由于I(S,T)=H(S)-H(S|T),于是,转化为计算犚=argmin犚H(S|T),即计算在当前聚类的前提下,使得描述S所需要提供的信息量最小的犚.从而,属性图的聚类问题转化为如何在描述聚类方法(T)和描述聚类数据(H(S|T))之间做出平衡.最小描述长度MDL(MinimumDescriptionLength)[12]原则由Rissanen于1978年提出,已成为信息论和学习理论的基础.最小描述长度原理就是要求选择总描述长度最小的模型.如果用1,2,…表示候选模型集合,每个模型都包含一定的假设,用来描述数据的最好的模型T∈=1∪2∪…是最小化描述长度I(T)+I(S|T)的描述,其中,I(T)是描述模型T所用的比特数;I(S|T)是在采用模型T的前提下,描述原始数据S所需要的比特数.针对本问题,描述聚类方法所需要的信息量可以分为聚类模型描述代价和数据描述代价两部分.在详细分析不同模型描述所需要的信息量评估模型之前,先简要介绍模型描述中进一步用到的符号.n(ri)表示犚中ri的数量,ni(a)表示聚类Vi中属性的数量,进一步ni和lii分别表示聚类Vi中的结点数量和连接数量,(1)聚类模型描述代价指的是描述聚类方法所需要的信息量,描述其复杂度分为以下6个部分:①记录结点数量N,属性数量L,需要信息量为logN+logL比特(文中所有对数关系log以2为底).由于该部分为固定描述,与聚类模型无关,因此在文中不考虑该部分的计算;②记录聚类的数目k,需要logk比特;③记录在聚类过程中,同时对属性进行聚类的④描述每个聚类中所包含的结点信息,即结点与数目l,需要logl比特;分类的对应关系,需要n·H(P)=-∑klog(pi)],其中pi=n(ri)/n;⑤描述聚类之间的连接关系,表示聚类之间的联系,理论上越少越好,pij=lij/ni·nj其描述代价为-[lij·log(pij)+(ninj-lij)log(1-pij)];⑥描述每个聚类中所包含的属性信息,即属性与分类的对应关系,需要L·H(P)=-∑llog(pi)],其中pi=ni(a)/L.(2)数据描述代价指的是在给定的聚类情况下,对原始数据进行描述所需要的代价.假设子类中元素服从Bernoulli分布,且元素之间相互独立,于是根据Shannon熵理论,对子类ri中的元素x进行描述需要消耗n(ri)H(狆(狓))比特的信息量,其中-lii·log(pii)+(n2i-lii)·log(1-pii[在某个子类内部,如果结点及其属性构成的向量相似,则其相应的熵值较小,所需要的描述信息量也较小.因此,数据描述复杂度由以下几部分组成:①聚类内部的连接,表示每个聚类中结点之间的联系,用期望值来描述.分组Vi的结点数目为ni,连接数为lii,因此,pii=p(xi=1)=lii/n2i,每个类中描述所需要的代价为②对每个子类Vj中的属性信息,vi∈Vj,其属性描述用向量γ(vi)=[a1(vi),…,aL(vi)]表示.当子类Vj中大部分结点的属性描述一致,即γ(vi)中的向量对应元素一致时,表明该聚类方法效果很好,相应属性数据描述代价较小.设每个子类中属性包含ai的结点个数为n(ai),有p(ai)=n(ai)/ni,则在每个聚类中的属性描述代价为-∑Li=1于是,总的描述代价函数为Ctotal=Cmodel+Cdata[n(ai)·log(p(ai))+(ni-n(ai))·log(1-p(ai))].Page54聚类方法由于求解属性图的聚类方法是NP完全问题[13],以总的描述代价作为适用度函数,本文提出一种基于遗传算法的属性图聚集算法.4.1遗传编码根据3.2节的描述,本文需要求解犚,对给定的属性图G=(V,E,A,F),用向量犚=(r1,r2,…,rn)表示染色体编码.当结点ni∈Gk时,ri=k.显然,ri=rj,i≠j,有P(ri)=P(rj).假设存在一个网络的结构及其属性如图1所示,可以聚类成3类,图2是其一种可能的编码方式.4.2初始化结合定义3关于属性图聚类的定义,可以发现,如果某种聚类方式满足:在结构上,当某个结点与其大多数邻居结点在同一类;在属性上,同类的绝大部分结点具备相同或者相似的属性时,则该聚类结果是比较合理的.利用上述聚类结果的特点,为提高遗传算法执行效率,需要对染色体进行良好的初始化.因此,本文借鉴标签传播算法[14]的基本思想,设计染色体初始化算法.所谓标签传播算法,在执行过程中,对每个结点赋予其邻居结点中出现频率最高的标签,如果多个标签具有相等的频率,则从中随机选择一个.标签传播算法在选择标签上的随机性,导致算法在执行过程中不能保持类的结构紧密型和属性一致性.而且标签传播算法不能在理论上保证收敛,且用于染色体初始化也并不需要对结点进行准确的聚类,于是设置一个迭代次数阈值I.从而,在染色体初始化过程中,基于标签传播算法,提出一种扩展机制对染色体进行初始化.启发式规则1.如果两个结点的大部分邻居结点相同,则这两个结点的标签应该相同.启发式规则2.如果两个结点的属性描述一致,则这两个结点的标签应该相同.于是,采取下述策略更新结点标签,通过某种考虑结构和属性的预定义顺序更新结点标签,以避免异步随机更新策略.我们的目标是找出这样一种预定义的顺序.结点u∈V的邻居结点集合用N(u)表示,属性向量γ(u)=[a1(u),…,aL(u)],所属分类P(u)∈其中,L()表示某个结点或者子类的标签,且Ck={u|u∈N(v),L(u)=k},s(Ck)描述结点集合Ck的某种顺序,定义为s(Ck)=∑u∈Ck,u∈N(v)其中分子对应于启发式规则1,前半部分表示结点v的直接邻居结点,后半部分表示u∈Ck中与v相邻的连接数量;分母对应于启发式规则2,表示属性之间的差异.因此,在更新结点标签时,选择使得s(Ck)最大的邻居子类所拥有的标签,即将v加入到Ck中.算法1.染色体初始化算法Initialize(G,I).输入:属性图G=(V,E,A,F),迭代次数I输出:犚=(r1,r2,…,rn),ri∈1.let犚=(r1,r2,…,rn)=(1,2,…,n)2.t=13.whilet<Ido4.fori=1tondo5.犚[i]=L(vi)=L(argmaxk6.endfor7.t=t+18.endwhile9.return犚采用异步更新[14]的策略,如果N(v)={v1,Lt(v)=f(Lt(v1),…,Lt(vm),v2,…,v|N(v)|},则结点v的标签更新表示为其中Lt(vi)表示当前迭代中已经更新的结点,而Lt-1(vi)表示当前迭代中没有更新的结点,f表示返回其邻居结点中满足式(2)的类标签.标签传播算法的更新过程中,假设所有结点已经顺序编号,如果每个结点都赋予不同的标签,选择最小标号结点的标签进行更新,较之随机更新,能保持结点的部分结构信息[15].然而,在标签传播迭代过程中,存在大量结点标签相同,且结点的属性描述不可忽略.以下定理说明,在采用式(2)计算对聚类种群进行初始化,能较好保持结点之间的结构信息和属性信息一致性.定理1.随机更新与预定义更新.设结点u,v∈V,L(N(u))和L(N(v))分别表(1)随机更新过程中,两个具有共同邻居的结示其邻居结点标签集合,则点u,v∈V赋予相同标签的概率为Page6p(L(u)=L(v))=L(N(u))∩L(N(v))(2)选择更新过程中,两个具有共同邻居的结点u,v∈V赋予相同标签的概率为p(L(u)=L(v))=L(N(u))∩L(N(v))证明.将结点u,v邻居结点所属子类分别看作一个单独结点,则每个结点的标签都是唯一的.w∈N(u)∩N(v),包含w的子类分别记为Cu(w)和Cv(w),则有L(Cu(w))=L(Cv(v)).对于随机更新,共有|L(N(u))|·|L(N(v))|种更新选择,在更新过程中如果要使两个结点标签相同,则有L(N(u))∩L(N(v))种选择,于是定理1(1)部分成立.对于预定义更新,根据式(2),相当于在所有唯一的标签个数|L(N(u))∪L(N(v))|中选取一个进行更新,而两个结点标签相同有|L(N(u))∩L(N(v))|种选择,于是定理1(2)部分成立.进一步,由于|L(N(u))∩L(N(v))|<|L(N(u))|·|L(N(v))|.从而p(L(u)=L(v))<p(L(u)=L(v)),表明预定义更新方式对于拥有共同结点和相似属性的结点而言,能更好地保持其结构和属性一致性.4.3交叉遗传算法中交叉算子将父染色体的优秀基因保留下来,负责生成新的高适应度染色体.在属性图聚类中,何为染色体的优秀基因?就是由染色体所表示的聚类结果中,使得式(1)所示总的描述代价函数最小的染色体,是其每个子类的贡献.由于遗传算子中编码并没有考虑编码的含义,不同编码可能表示同一子类,而不同染色体中的相同编码可能表示不同子类[6].传统遗传算法的交叉操作,只是简单交换染色体的不同部分,没有考虑染色体中的优秀基因,由此而产生的新染色体不一定具备高适应度.考虑图中结点所在拓扑结构和属性描述信息,采用以下策略进行交叉.在交叉过程中,不是选取某个点作为交叉点,而是选择某个子类作为交叉点.将适应度较高的染色体的基因通过交叉方式赋予适应度较低的染色体,生成新的染色体.具体地,首先对选定的任意两个交叉染色体犚1和犚2,选取适应度值大的染色体作为源染色体,不妨设为犚src(犚1),另一个染色体作为目标染色体犚dst(犚2),选取染色体犚src中的某个子类作为交叉点,设为Csrck.对犚src中u∈Csrck,其标签记为L(Csrck),将犚dst中v∈Csrck赋予标签L(v)=L(Csrck).4.4变异遗传算法中,交叉算子作为全局搜索算子,而变异算子作为局部搜索算子,其主要作用是加速向最优解收敛.由式(1)可以看出,当某个结点发生变异,即所在子类发生变化时,适应度函数中仅与当前结点所在子类及变异后所在子类相关.当完成属性图的聚类后,属性图中的某个结点要么与其部分邻居结点同时位于某个子类中,要么本身就是一个子类.映射到变异过程中,如果结点的标签改变能使当前所在子类的平均描述代价减少,则将该结点赋予新的标签值,即若Δi()E<0,则将该结点加入变异候选集合C,作为一个新的子类.同时,需要计算将变异候选集合中的结点变异为哪个子类.假设在第t次迭代时,产生的子类数目为kt,结点u∈C的标签为Lt(u).通过式(4),考虑变异结点邻居结点所在的子类,求解使得适应度函数最小的标签作为变异结点的新标签,同时更新聚类描述T.Δi()E=1其中,pij=lij/(lii·ljj),pij=lij/(lii-1)·l(()表示移除结点后的()值.令v∈Ci,定义lij(v,Cj)为v到子类Cj的连接数目,lji(Cj,v)表示Cj到结点v的连接数,ptij=ltij/ntintj表示第t次迭代中连接出现的概率,nCj(as)表示子类Cj中属性分量as的数量.Lt+1(u)=argminii∈Lt(N(u{))∑k(ntj-lij(u,Cj))log(1-ptij)+lji(Cj,u)logpt∑ls=1∑k(nj-nCj(as))log(1-p(as))-[logpiPt其中,式(4)前两项表示将结点u赋予新标签值Lt(v)的结构变化代价,而第3项表示其属性变化代j=1Page7价,第4项是减去由于前两项重复计算的代价.变异算法描述如下.算法2.染色体变异算法Mutation(G,β).输入:属性图G=(V,E,A,F),变异率β输出:犚=(r1,r2,…,rn),ri∈1.fori=1tondo2.ifrand()<βnthen3.ifΔ(E)>0then4.foreachlabeliinL(N(vi))do5.CalculatelabelLubyEq.(4)6.endfor7.犚[i]=L(vi)=Lu8.endif9.endif10.updateT11.endfor12.return犚4.5算法描述基于上述思想,GA-AGC算法描述如下(nc表示染色体数量).算法中,GA-AGC首先通过扩展的标签传播算法对染色体进行初始化(4~7行),通过迭代执行交叉(第9行),变异(第10行)和选择(12~13行)操作,选择出其中适应度最高的nc个染色体,并计算最小的适应度值ft(第14行),当两次迭代适应度值小于某个阈值ε或迭代次数大于预设值,算法终止.算法3.属性图聚类算法GA-AGC(G).输入:属性图G=(V,E,A,F),染色体个数nc,迭代次输出:聚类结果犚=(r1,r2,…,rn),ri∈1.LetchromosomessetRs=2.t=03.repeat4.fori=1toncdo5.Ri=Initialize(G,I)6.Rs=Rs∪Ri7.endfor8.fori=1toncdo9.Rc=CrossOver(G)//选择率为α10.Mutation(G,β)//变异率为β11.endfor12.Rs=Rs∪Rc13.Rs=Select(G,Rs)14.Calculateminimumfitnessft15.t=t+116.until|ft-ft-1|<εandt<T定理2.算法GA-AGC的迭代执行,使适应度函数收敛到一个最优值.证明.一方面,由于描述聚类模型及数据表示所需要的信息量大于0,故适应度函数具有下界值0;另一方面,由选择算子和变异算子的最优解策略,保证算法在执行过程中总是使得染色体的最小适应度函数值保持不变或不断降低.根据单调递减有下界的函数必定收敛原则可知,算法GA-AGC必定在不断迭代过程中达到收敛.定理3.对于给定的属性图G=(V,E,A,F),采用算法GA-GAC对G进行聚类的算法复杂度与结点和边的数目接近线性比例,即O(n+m).证明.设图的结点平均度为珡D,相异属性数目为L,每个结点平均属性个数为nf,每个聚类中平均包含n个结点,聚类数目为k.如GA-AGC算法所示,初始化中计算给定结点的标签复杂度为O珡()DL,所有结点标签更新复杂度为O珡()DLn,于是初始化聚类种群的复杂度为O(珡DLncIN).交叉过程中,交叉率为α,产生新个体αnc,则交叉过程的复杂度为Onαn()c.变异过程中,从选定的变异子类中计算变异结点代价为O(kl),计算将变异结点赋予哪个标签代价为Omk+nf(l+k(算法总的时间复杂度为O([珡DLn+nαnc+mk+nf(k+l)]·t),其中t表示算法迭代次数.实际上,k,l,ncn+m,若属性数目L及nf与结点数量相比很小,则时间复杂度可以简化为Oc(n+m()),c表示常数.5实验与分析本小节从聚类质量和算法性能两个方面对属性图聚类算法给出实验评估.选取两个具有代表性的属性图聚类方法,SA-Cluster算法[9]和SNAP算法[6]进行对比.本节给出算法在真实数据集上的实验结果,所有算法用C++实现,实验平台基于CentOS6.364位操作系统,Intel(R)Core(TM)i5-3450处理器,3.1GHz主频,8GB内存.5.1实验数据集实验在4个真实数据集上进行,具体描述如下:Page8(1)PoliticalBooks数据集①(D1).每本书具有属性表示该书的倾向是“保守”、“民主”或“中立”,结点之间存在边表示这两本书经常被一同购买.(2)PoliticalBlogs数据集①(D2).该数据集由LadaAdamic于2005年编译完成,表示博客的政治倾向.包含1490个结点和19090条边.数据集中的每个结点都有一个属性描述,表示民主或者保守.(3)DBLP论文合作关系网络②.DBLP是由德国Trier大学建立的一个计算机类期刊和会议论文集的数据库系统,本文通过下载并解析该站点提供的在2012年8月以前的在52个与数据库、数据挖掘、人工智能、自然语言处理、内容检索等领域相关的国际会议和期刊(包括SIGMOD、VLDB、KDD、SIGIR、AAAI等)的发表论文的合作者94291位.分别抽取部分构成数据集D3(DB)、D4(DB+AI)和D5(All).数据集中的结点表示作者,边表示作者之间的合作关系.将会议或期刊名称、发表论文数量作为结点的属性描述.考虑作者发表论文数量,增加一个属性描述:当作者发表论文数h5标记为LP,5<h20时标记为P,h>20时标记为HP.实验所用数据集的统计信息描述如表1所示.名称数据集结点数边数属性数平均度D1PoliticalBooks10544138.4D2PoliticalBlogs149019090325.6D3DB74451997175.4D4DB+AI1453337386145.1D5ALL94291244411535.2i=1|{(vp,vq)|vp,vq∈Vi,(vp,vq)∈E}|5.2评价函数将GA-AGC算法与典型的属性图聚类算法SA-Cluster[9],k-SNAP[6]进行比较,同时采用聚类密度和聚类熵值两方面评价算法聚类质量,具体定义如下densityV{}iki()=1=∑kentropy({Vi}ki=1)=∑k其中psij表示类i中在属性aj上取值s的概率.5.3实验结果实验1.聚类质量评估.用k表示聚类的数目,参数设置如下:在D2、D3、D4和D5数据集中,分别设置聚类数目k=3,6,18和156.图3(a)表示3种不同方法在D2、D3、D4和D5数据集上的聚类密度比较.可以看出,SA-Cluster和GA-AGC方法在4种数据集上的聚类密度值比较接近,两者基本保持在0.7左右,表明从结构上来说,两种方法都能较好地挖掘出密切联系的部分.而k-SANP方法的聚类密度较低,这是因为k-SNAP方法在聚类过程中只考虑了结点的属性信息,而没有考虑结点之间的连接信息.参数设置如上所示,图3(b)表示SA-Cluster,k-SNAP和GA-AGC算法在不同数据集上的熵值比较.由于PoliticalBlogs数据集(D2)中相异属性值只有3个,故k-SNAP方法的聚类结果中,每类的属性值基本相同,熵值接近0.而当相异属性值增加时,如D3数据集中,共有7个相异属性值,综合考虑结构和属性进行聚类的SA-Cluster和GA-AGC方法由于在聚类过程中,通过结构信息将某些属性相同的结点聚类到不同的类中,故熵值较k-SNAP方法高.然而,SA-Cluster和GA-AGC两种方法较为接近.从理论上分析,随着聚类数目的增加,每个聚类中的属性趋于相同,而聚类之间的联系增多.因此总的趋势是聚类密度和熵值随着聚类数目增加而减①②Page9小.由于本文聚类数目由算法自动确定,故不展示聚类质量随聚类数目增加的变化趋势.实验2.算法性能评估.图4表示3种聚类算法在不同数据规模上的聚类效率.从图中可以看出,在较小数据集上,如PoliticalBlogs数据集(D2),3种算法在较少的时间内能完成.然而,随着数据规模的增大,不同方法之间的差距越加明显,其中k-SNAP方法效率最高,SA-Cluster方法效率最低,而GA-AGC介于两者之间.图5表示GA-AGC算法随数据规模的变化,运行时间的变化趋势.可以看出,随数据规模的增长,算法运行时间接近线性增长.当数据集为PoliticalBlogs时,运行时间明显多于线性时间,这是由于PoliticalBlogs数据集的结点平均度较大所导致的,这与时间复杂度的理论分析是一致的.因此,GA-AGC算法在保证聚类精度的前提下,能够有效地减少运行时间.图5GA-AGC运行时间随数据规模的变化实验3.算法参数分析.GA-AGC算法中需要设置6个参数,包括染色体个数nc、交叉概率α、变异概率β、最大迭代次数max_iterat、迭代过程中的适应度函数误差σ以及初始化染色体迭代次数I.其中前5个参数是遗传算法的基本参数,而参数I表示初始化种群中的标签更新次数,对于遗传算法的运行质量具有决定作用.图6表示文中定义评价准则在初始化过程中随迭代次数的变化趋势.由于5个数据集的变化趋势类似,以D3数据集作为示例,生成10个染色体,选取其平均值作为示例.可以看出,随着初始化迭代次数的增加,聚类密度(左侧坐标)增加,聚类熵值(右侧坐标)减小;同时,其变化趋势逐渐变小,当达到5左右时,已经基本一定的聚类精度.为减少计算量,参考文献[14],设置初始化迭代次数为5.从图6中还可以看出,聚类密度大的子类,其属性并不一定满足一致性;同理,属性一致的子类,其结构不一定满足紧密性.6结论属性图的聚类能更好地利用图的结构信息和属性信息,方便用户分析和挖掘图数据丰富的信息.本文基于遗传算法,采用MDL原则求解适用度函数,通过实验表明,GA-AGC具有较高的聚类质量和接近线性的复杂度.然而,本文提出的算法存在收敛迭代次数不确定,适应度函数有待改进等缺陷,我们将在下一步工作中加以改进.
