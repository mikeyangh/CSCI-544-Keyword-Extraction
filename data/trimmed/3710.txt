Page1模型检测规划中的状态之间的可达关系研究文中华1)黄巍2)刘任任1)姜云飞3)1)(湘潭大学信息工程学院湖南湘潭411105)2)(中国科学技术大学计算机科学与技术学院合肥230027)3)(中山大学软件研究所广州510275)摘要当前,对基于模型检测规划研究的算法中存在大量的冗余计算,一些不可能参与构成解的状态动作序偶被反复筛选.文中给出了一种在不确定规划领域求规划解的新思路:在求规划解之前,找到不确定状态转移系统的状态之间的可达关系,从而根据状态之间的可达关系进行约简.提出了不确定状态转移系统的超图、超图的邻接矩阵和可达矩阵等概念,设计了用超图的邻接矩阵求不确定状态转移系统中状态之间可达关系的方法.利用不确定状态转移系统的超图、超图的邻接矩阵和状态之间的可达关系获得了关于弱规划解、强规划解和强循环规划解的一些重要性质.这些性质是关于一些状态动作序偶是否不可能参与构成弱规划解、强规划解和强循环规划解的结论.通过这些性质可以将大量的状态动作序偶直接去掉,从而大幅度简化求规划解的过程,提高求规划解效率.关键词模型检测;不确定规划;超图;邻接矩阵;可达关系1引言在决策科学、管理科学、信息科学、系统科学、计算机科学、工业工程以及可靠性技术等众多领域研究的问题中都存在着客观的或人为的不确定性.在现实世界中,不确定现象是普遍存在的,表现形式也是多种多样的,如随机性、模糊性、粗糙性、模糊随机性以及其它多重不确定性[1-2].对不确定领域作规划的主要难点在于规划解的执行可能对应于多条不同的执行路径.这就要求相应的规划算法需要高效地分析所有动作各种可能的执行结果.模型检测是将一个系统模型跟逻辑需要进行比较,发现不一致.早期,这个思想用在硬件电路和网络协议的验证上,近期,这个思想用在智能规划中,取得了令人瞩目的成就[3-12],产生了一系列功能较强的规划系统MBP[13]、MIPS[14]、TL-PLAN[15]和SimPlan[16]等.Cimatti等人在文献[17]中最先提出了强规划解的概念,强循环规划解的概念也是由Cimatti等人在文献[18]中提出的,Cimatti等人在文献[3]中给出了一个有关弱规划解、强规划解和强循环规划解的完整的正式说明,并附带了一些实验结果.该规划方法的框架在文献[4,9]中被扩展以用来处理带有部分可观察性质的问题,它也在文献[11,19]中被扩展以用来处理扩展的规划目标.另外,Jensen和Veloso从“用模型检测技术来作规划”的思想出发,在文献[5]中给出了规划器UMOP所采用的规划方法的思想与基本框架,Jensen等人在文献[20]中扩展了上述框架,以便在考虑了偶然事件的情况下寻找相应的弱规划解、强规划解和强循环规划解.在模型检测规划方法中,在求弱规划解、强规划解和强循环规划解时都涉及到不确定状态转移系统中的状态之间的可达关系[21],都需要求出从初始状态出发到达目标状态的状态转移.在已有的求弱规划解、强规划解、强循环规划解的算法中,都是采用从目标状态开始一步一步找出所有初始状态的反向搜索算法,从而将规划解从众多候选的状态动作序偶中提取出来[3-4,17-24].候选的状态动作序偶越少,求解越快.有很多状态动作序偶在搜索开始之前就可以根据状态之间的可达关系直接去掉,但没有关于不确定状态转移系统中的状态之间的可达关系的研究.本文的主要结果是:(1)提出了不确定状态转移系统的超图、不确定状态转移系统的超图的邻接矩阵和可达矩阵等概念;(2)设计了用不确定状态转移系统的超图的邻接矩阵求不确定状态转移系统的超图的可达矩阵的方法;(3)设计了求不确定状态转移系统的状态之间的可达关系的方法;(4)获得了关于用模型检测规划方法求弱规划解、强规划解和强循环规划解的一些重要性质.这些性质是关于一些状态动作序偶是否不可能参与构成弱规划解、强规划解和强循环规划解的结论.在搜索规划解之前,通过这些结论可以将很多状态动作序偶直接去掉,从而减少原规划问题的规模,简化求解过程;(5)本文提出了一种将正向搜索技术应用到基于模型检测规划中的方法,所提出的正向搜索方法能与原有的反向搜索方法结合使用.2基本概念定义1.一个规划领域是一个不确定的状态转移系统Σ=(S,,γ),其中:(1)S是一个有限状态集;(2)是一个有限动作集;(3)γ:S×→2S是状态转移函数.γ用来刻画不确定性:在状态s下执行动作a所可能得到的结果状态的集合就是γ(s,a).设一个规划领域是一个不确定的状态转移系统Σ=(S,,γ),Σ上的一个规划问题P是一个三元组(Σ,S0,Sg),其中S0是初始状态集合,Sg是目标状态集合.根据弱规划解、强规划解和强循环规划解的定义[21],一个状态动作序偶表π是规划问题P的弱规划解当且仅当对于初始状态集合S0中的任意状态s都存在一个目标状态s使得s是Σπ(Σπ=(Q,T)是π的执行结构)的终止状态且s是s可达的;一个状态动作序偶表π是规划问题P的强规划解当且仅当Σπ没有无限长的路径(即Σπ无环),并且Σπ中所有的终止状态都属于目标状态Sg.一个状态动作序偶表π是P的强规划解时,对于初始状态集合S0中的任意状态s都存在一个目标状态s使得s是Σπ的终止状态且s是s可达的;一个状态动作序偶表π是P的强循环规划解当且仅当Σπ中所有的终止状态都属于目标状态Sg,并且对于Q中的任一状态s都存在Σπ中的一个终止状态s使得s是s可达的.也就是说,在求弱规划解、强规划解和强循环规划解时都涉及到状态之间的可达关系.一个不确定状态转移系统对应一个与或图,这Page3里我们把与或图定义为超图.定义2.称=(N,H)为超图,如果:(1)N是一个非空有限集合,称结点集;(2)H是一个有限集合,称超弧集.超弧是一个有序对,其中的第一个元素是N中的一个结点,第二个元素是N的一个子集.普通图是超图的特殊情况,此时所有的后裔结点集只有一个元素[25].定义3.设Σ=(S,,γ)是一个不确定的有限的状态转移系统,ΣD=(S,E)称为Σ=(S,,γ)的超图,如果:(1)S是一个非空有限集合;(2)E是一个有限集合,称为超弧集.如果a,γ(s,a)={s1},则(s,{s1})∈E.如果a,γ(s,a)={s1,s2,…,sx}(x2),则(s,{s1,s2,…,sx})∈E.并把S中的元素叫做超图ΣD的顶点,E中的元素叫做超图ΣD的超弧.如果(s,{s1,s2,…,sx})∈E,则称(s,si)为超图ΣD的超弧有向边或超弧边(其中,si∈{s1,s2,…,sx}),称顶点s为超弧边(s,si)的起点,顶点si为超弧边(s,si)的终点.根据定义3,一个不确定的状态转移系统唯一确定了一个超图,反之亦然.定义4.设Σ=(S,,γ)是一个不确定的状态转移系统,ΣD=(S,E)是Σ的超图,S含有n个状态s1,s2,…,sn,ΣD的邻接矩阵犅=(bij)n×n是一个n×n矩阵,其中bij定义如下:1,(si,{sj})∈E烄T,(si,{sj})E;x2,sj∈{st1,st2,…,stx},bij=烅0,烆其它规定ΣD的邻接矩阵中的3个值按以下方式进行运算,只定义加法和乘法,加法满足交换律,乘法也满足交换律.定义5.设ΣD=(S,E)是一个不确定的状态转移系统Σ=(S,,γ)的超图,ΣD中的顶点与超弧边的交替序列Γ=si0ej1si1ej2…ejksik称为顶点si0到顶点sik的通路.其中ejr=(sir-1,sir)是ΣD的超弧边,sir-1,sir分别为ejr的起点和终点,r=1,2,…,k.si0,sik分别称为Γ的起点和终点,Γ中的超弧边数k称为Γ的长度,若si0=sik,则称通路Γ为回路.定义6.设ΣD=(S,E)是一个不确定的状态转移系统Σ=(S,,γ)的超图,若从顶点si到顶点sj存在通路,则称si可达sj,sj是si可达的,记为si→sj;否则,称si不可达sj,记为si→sj.定义7.设ΣD=(S,E)是一个不确定的状态转移系统Σ=(S,,γ)的超图,在Σ中,如果从si经过r个确定的动作转移到达sj,记为si时,称si强可达sj;如果si过r个不全是确定的动作转移可能到达sj,记为AQD→-rsj,此时,称si弱可达sj;如果从si经过任si意r个动作转移都不能到达sj,记为si→rsj.定义8.设ΣD=(S,E)是一个不确定的状态转移系统Σ=(S,,γ)的超图,在Σ中有n个状态,如果从si经过任意r(1rn-1)个确定的动作转移都不能到达sj,则记为si→AQDsj,反之则记为si→AQDsj;如果si→AQDsj成立,且si经过任意r(1rn-1)个不全是确定的动作转移都不能到达sj,则记为sisj.定义9.设ΣD=(S,E)是一个不确定的状态转移系统Σ=(S,,γ)的超图,ΣD有n个顶点v1,v2,…,vn,则ΣD的可达矩阵犆=(cij)n×n是一个n×n矩阵,其中,cij定义如下:如果si可达sj,则cij=1;如果si不可达sj,cij=0.定义10.设si是任意的一个状态,Sx是一个非空状态集合,如果存在sj,sj∈Sx,si可达sj,则称si可达Sx,记为siSx,否则,称si不可达Sx,记为Sx.si定义11.设Sx是一个非空状态集合,si是任意的一个状态,如果存在sj,sj∈Sx,sj可达si,则称Sx可达si,记为Sxsi,否则,称Sx不可达si,记为Sxsi.3邻接矩阵与状态之间的可达关系定理1.设Σ=(S,,γ)是一个不确定的状态转移系统,S含有n个状态s1,s2,…,sn,ΣD=(S,E)是Σ的超图,ΣD的邻接矩阵是犅=(bij)n×n,犅r(1rn)表示r个犅进行乘积运算.(1)brij=1si(2)brij=Tsi(3)brij=0si→rsj.Page4证明.对(1)的必要条件的证明.采用数学归纳法:①当r=1时,如果brij=1,根据邻接矩阵的定②假设当r=k(1kn-1)时成立,即当bk义和定义7,原结论成立.时有si一个含有k个确定动作的动作表,依次执行这k个动作必将状态si转移到sj.③当r=k+1时,如果bk+1的定义及元素0、1和T之间的加法和乘法法则,则存在t,bk在Σ中至少存在一个含有k个确定动作的动作表,依次执行这k个动作必将状态si转移到st,设这k个确定动作是a1,a2,…,ak;根据邻接矩阵的定义,btj=1,表示在Σ中至少存在一个确定的动作,执行这个动作必将状态st转移到sj,设这个确定的动作是ak+1;所以在Σ中存在动作a1,a2,…,ak和ak+1,依次执行这k+1个动作必将状态si转移到sj.根据定义7得r=k+1时原结论成立.由①、②和③得原结论(1)的必要条件成立.对(1)的充分条件的证明.采用数学归纳法:①当r=1时,如果si和不确定的状态转移系统的超图的邻接矩阵的定义可得brij=1,即原结论成立.②假设当r=k(1kn-1)时成立,即siAQD→-ksj时bk③当r=k+1时,如果si定义7,在Σ中至少存在一个含有r个确定动作的动作表,依次执行这r个动作必将状态si转移到sj,设这k+1个确定的动作是a1,a2,…,ak和ak+1.设依次执行a1,a2,…,ak-1和ak这k个确定动作必将状态si转移到st,执行ak+1这个确定动作必将状态st转移到sj,则根据归纳假设可得bk据矩阵乘法的定义及元素0、1和T之间的加法和乘法法则,则bk+1由①、②和③得原结论(1)的充分条件成立.对(2)的必要条件证明.采用数学归纳法:①当r=1,brij=T时,根据邻接矩阵的定义和②假设当r=k(1kn-1)时成立,即当bk定义7,原结论成立.T时,si③当r=k+1时,如果bk+1的定义及元素0、1和T之间的加法和乘法法则,因为1·T=T、T·T=T和T·1=T,则存在t,使下面3组表达式中至少有一组成立:bkT,btj=T;bk(i)根据(1),bk(ii)根据归纳假设,bk含有k个确定动作的动作表,依次执行这k个动作必将状态si转移到st,设这k个确定动作是a1,a2,…,ak;根据邻接矩阵的定义,btj=T,表示在Σ中至少存在一个不确定的动作,执行这个动作可能将状态st转移到sj,设这个不确定的动作是ak+1;所以在Σ中存在动作a1,a2,…,ak和ak+1,依次执行这k+1个动作可能将状态si转移到sj,根据定义7,AQD→-rsj成立.si在一个含有k个动作的动作表,这k个动作中至少有一个是不确定的动作,依次执行这k个动作可能将状态si转移到st,设这k个动作是a1,a2,…,ak;根据邻接矩阵的定义,btj=T,表示在Σ中至少存在一个不确定的动作,执行这个动作可能将状态st转移到sj,设这个不确定的动作是ak+1;所以在Σ中存在动作a1,a2,…,ak和ak+1,依次执行这k+1个动作可能将状态si转移到sj.根据定义7,si成立.在一个含有k个动作的动作表,这k个动作中至少有一个是不确定的动作,依次执行这k个动作可能将状态si转移到st,设这k个动作是a1,a2,…,ak;btj=1,表示在Σ中至少存在一个确定的动作,执行这个动作必将状态st转移到sj,设这个确定的动作是ak+1;所以在Σ中存在动作a1,a2,…,ak和ak+1,依次执行这k+1个动作可能将状态si转移到sj.根据定义7,si(iii)根据归纳假设,bk由(i)、(ii)和(ii)得r=k+1时原结论成立.由①、②和③得原结论(2)的必要条件成立.对(2)的充分条件的证明.由于在Σ中不存在一个含有r个确定动作的动作表,依次执行这r个动作必将状态si转移到sj,根据(1)可得brij≠1.余下的采用数学归纳法证明:①当r=1时,如果si义7和不确定的状态转移系统的超图的邻接矩阵的定义,bij=T,即原结论成立.②假设当r=k(1kn-1)时成立,即当在ΣPage5中至少存在一个含有k个动作的动作表,这k个动作中至少有一个是不确定的动作,依次执行这k个动作可能将状态si转移到sj时,有bk③当r=k+1时,设在Σ中至少存在一个含有k+1个动作的动作表,这k+1个动作中至少有一个是不确定的动作,依次执行这k+1个动作可能将状态si转移到sj,设这k+1个动作是a1,a2,…,ak和ak+1.将a1,a2,…,ak和ak+1分成两组,a1,a2,…,ak-1和ak为一组,ak+1为另外一组.根据不确定动作的个数和分布情况,可能出现下面3种情况:a1,a2,…,ak-1和ak中至少有一个不确定的动作,ak+1是确定的动作;a1,a2,…,ak-1和ak中至少有一个不确定的动作,ak+1是不确定的动作;a1,a2,…,ak-1和ak全部是确定的动作,ak+1是不确定的动作.(i)设依次执行a1,a2,…,ak这k个动作可能将状态si转移到st,根据归纳假设,bkak+1是确定的动作,所以,btj=1;根据矩阵乘法的定义及元素0、1和T之间的加法和乘法法则,在已知ij≠1的情况下,bk+1bk+1(ii)设依次执行a1,a2,…,ak这k个动作可能将状态si转移到st,根据归纳假设,bkak+1是不确定的动作,所以,btj=T;根据矩阵乘法的定义及元素0、1和T之间的加法和乘法法则,在ij≠1的情况下,bk+1已知bk+1(iii)设依次执行a1,a2,…,ak这k个确定的动作将状态si转移到st,根据(1)可得bkak+1是不确定的动作,所以,btj=T;根据矩阵乘法的定义及元素0、1和T之间的加法和乘法法则,在ij≠1的情况下,bk+1已知bk+1由(i)、(ii)和(iii)得r=k+1时原结论成立.由①、②和③得原结论(2)的充分条件成立.(3)类似(1)和(2)采用数学归纳法证明.证毕.推论1.设Σ=(S,,γ)是一个不确定的状态转移系统,S含有n个状态s1,s2,…,sn,ΣD=(S,E)是Σ的超图,ΣD的邻接矩阵是犅=(bij)n×n,设犃n=犅+犅2+犅3+…+犅n,则有结论:(1)an(2)an(3)an设矩阵犃n的第i行第j列的元素为anij=1,表示在不确定状态转移系统Σ中至少有一an个状态动作表,这个状态动作表含有x个确定的动作(1xn),依次执行这个状态动作表中的动作必将状态si转移到sj,也表明sj是si可达的.在此情况下,是否有第二个状态动作表,也能满足上面的条件,这是不能确定的,有时存在,有时不存在,有时可能存在多个状态动作表都满足上面条件;当an时,不能判断是否存在一个状态动作表,这个状态动作表含有x(1xn)个动作,这x个动作至少有一个不确定的动作,依次执行这x个动作可能将状态si转移到sj.如果an统Σ中有x个动作(1xn),这x个动作中至少有一个是不确定的动作,依次执行这x个动作可能将状态si转移到sj,也表明sj是si可达的.在此情况下,是否有另外一组动作,也能满足上面的条件,这是不能确定的,有时存在,有时不存在,有时可能存在多组动作都满足上面条件;同时也表明不存在x(1xn)个确定的动作,依次执行这x个动作,将状态si转移到sj.如果an转移系统Σ中的任何x(1xn)个动作(无论动作是确定的还是不确定的),依次执行这x个动作,都不可能将状态si转移到sj.通过上面的分析,通过邻接矩阵犅自乘可以求出Σ中的可达关系.定理2.ΣD=(S,E)是一个不确定的状态转移系统Σ=(S,,γ)的超图,设犃为n个顶点的超图ΣD的邻接矩阵,犆是ΣD的可达矩阵,且设犅n=犃+犃2+犃3+…+犃n,则犆与犅n有相同的零值.证明.设犅n的第i行第j列的元素为bij.(1)如果cij=0,则si→sj,根据定理1和犅n=犃+犃2+犃3+…+犃n可得bij=0;如果cij≠0,即cij=1,则si→sj,根据定理1和犅n=犃+犃2+犃3+…+犃n可得bij=1或者bij=T,即bij≠0.(2)如果bij=0,根据推论1和犅n=犃+犃2+犃3+…+犃n可得si→sj,根据可达矩阵的定义得cij=0;如果bij≠0,此时若bij=1,根据推论1,则至少存在一个状态动作表,这个状态动作表中的动作全是确定的,从状态si开始,依次执行这个状态动作表中的动作,si将被转移到sj,即si→sj,根据可达矩阵的定义得cij=1;此时若bij=T,则至少存在一个状态动作表,这个状态动作表中的动作至少有一个是不确定的,从状态si开始,依次执行这个状态动作表中的动作,si可能被转移到sj,即si→sj,根据可达矩阵的定义得cij=1;也就是说,如果bij≠0,则cij≠0.通过上面的(1)和(2)可得:犆与犅n有相同的零值.Page6根据定义6和定义9,如果可达矩阵犆=(cij)n×n中的元素cij=0,就表示sj不是si可达的;如果可达矩阵犆=(cij)n×n中的元素cij≠0,就表示sj是si可达的;根据定理2可得,犆与犅n有相同的零值,也就是说,由犅n可以求出所有的可达关系,犅n是由邻接矩阵的加和乘运算构成的,计算起来是很快的.定理3.设ΣD=(S,E)是不确定的状态转移系统Σ=(S,,γ)的超图,ΣD含有n个顶点v1,v2,…,vn,设目标状态Sg在ΣD中对应的顶点是vk,vk+1,…,vn,设vi是任一非目标状态的状态s在ΣD中对应的顶点,设犆为超图ΣD的邻接矩阵,犅=犆+犆2+犆3+…+犆n,如果bik+bi(k+1)+…+bin=0,则ssSg.证明.如果bik+bi(k+1)+…+bin=0,则bik=bi(k+1)=…=bin=0,根据推论1和定义10得sSg.如果bik+bi(k+1)+…+bin≠0,则至少存在一个x(kxn),bix≠0,根据推论1得,s→sx,根据定义10得sSg.定理4.设ΣD=(S,E)是一个不确定的状态转移系统Σ=(S,,γ)的超图,ΣD含有n个顶点v1,v2,…,vn,设初始状态S0在ΣD中对应的顶点是v1,v2,…,vk,设vi是任一个非初始状态的状态s在ΣD中对应的顶点,设犆为超图ΣD的邻接矩阵,犅=犆+犆2+犆3+…+犆n,如果b1i+b2i+…+bki=0,则S0s,如果b1i+b2i+…+bki≠0,则S0s.证明.如果b1i+b2i+…+bki=0,则b1i=b2i=…=bki=0,根据定理2和定义11得S0s.如果b1i+b2i+…+bki≠0,则至少存在一个x(1xk),bxi≠0,根据定理2得,sx→s,根据定义11得S0s.定理5.设ΣD=(S,E)是一个不确定的状态转移系统Σ=(S,,γ)的超图,ΣD含有n个顶点v1,v2,…,vn,设初始状态S0在ΣD中对应的顶点是v1,v2,…,vk,设目标状态Sg在ΣD中对应的顶点是vx+1,vx+2,…,vn,设vi是任意一个非目标状态的状态s在ΣD中对应的顶点,设犆1为超图ΣD的邻接矩阵,犆是矩阵犆1的前x行和x列的元素组成矩阵,犅=犆+犆2+犆3+…+犆x,如果b1i+b2i+…+bki=0,则S0不通过目标状态就不能到达状态s,记作S0根据定理4和邻接矩阵的定义可以证明定理5.下面给出用邻接矩阵求状态之间的可达关系的实验结果.对含有2~1000个状态的不确定状态转移系统,首先求出邻接矩阵,然后由邻接矩阵求出可达矩阵,并求出任意两个状态之间的可达关系进行了编程实现.以随机生成的不确定状态转移系统(含有14个状态,编号为0,1,2,3,…,12,13)求出邻接矩阵的界面如图1,由邻接矩阵求可达矩阵的界面如图2,由可达矩阵求出弱可达的界面如图3,由可达矩阵求出强可达的界面如图4.Page74状态之间的可达关系与弱规划解、证明.假设(s1,a1)这个状态动作序偶是构成根据弱规划解、强规划解和强循环规划解的定强规划解、强循环规划解定理6.设P=(Σ,S0,Sg)是一个不确定的状态转移系统Σ=(S,,γ)上的一个规划问题,其中S0是初始状态集合,Sg是目标状态集合.如果s∈S0,s解和无强循环规划解.义就可以证明定理6.通过定理3提供的方法,我们可以快速得出一个初始状态是否能到达目标状态.在求解某个规划问题时,当我们得出一个初始状态不能到达目标状态时,利用定理6,我们就能直接得出这个规划问题无弱规划解、无强规划解和无强循环规划解.定理7.设P=(Σ,S0,Sg)是一个不确定的状态转移系统Σ=(S,,γ)上的一个规划问题,设s1∈S,s1S0,s1Sg,如果s1{(s,a):s=s1}∪{(s,a):γ(s,a)={s1}}中的每个状态动作序偶对构成弱规划解没有用处,可以直接去掉.证明.假设(s1,a1)这个状态动作序偶能构成弱规划解,则s1Sg,这与已知条件矛盾,所以,{(s,a):s={s1}}中的每个状态动作序偶不可能构成弱规划解.假设(s,a)(γ(s,a)={s1})这个状态动作序偶能构成弱规划解,则s1Sg,这与已知条件矛盾,所以,{(s,a):γ(s,a)={s1}}中的每个状态动作序偶不可能构成弱规划解.通过定理3提供的方法,我们可以快速得出一个状态是否能到达目标状态.在求解某个弱规划问题时,当我们得出一个既不是初始状态也不是目标状态的状态s1不能到达目标状态时,利用定理7,我们就能直接将集合{(s,a):s=s1}∪{(s,a):γ(s,a)={s1}}中的状态动作序偶全部去掉,从而降低原问题的规模,提高求解效率.定理8.设P=(Σ,S0,Sg)是一个不确定的状态转移系统Σ=(S,,γ)上的一个规划问题,设s1∈S,s1S0,s1Sg,如果S0s1,则集合{(s,a):s=s1}∪{(s2,a):{s1}=γ(s2,a)}中的每个状态动作序偶对求弱规划解没有用处,可以直接去掉.弱规划解的不可缺少的状态动作序偶,则根据弱规划解的定义,一定存在某个初始状态s,s→s1,这与已知条件S0s1矛盾,所以,{(s,a):s=s1}中的每个状态动作序偶对求弱规划解没有用处,可以直接去掉.假设(s2,a)({s1}=γ(s2,a))这个状态动作序偶是构成弱规划解的不可缺少的状态动作序偶,则根据弱规划解的定义,一定存在某个初始状态s,s→s2,由于s2→s1,所以,s→s1,这与已知条件S0s1矛盾,所以,{(s2,a):{s1}=γ(s2,a)}中的每个状态动作序偶对求弱规划解没有用处,可以直接去掉.通过定理4提供的方法,我们可以快速得出所有初始状态都不能够到达的状态.在求解某个弱规划问题时,当我们得出一个所有初始状态都不能到达的状态s1时,利用定理8,我们就能直接将集合{(s,a):s=s1}∪{(s2,a):{s1}=γ(s2,a)}中的状态动作序偶全部去掉,从而降低原问题的复杂度.证毕.定理9.设P=(Σ,S0,Sg)是一个不确定的状态转移系统Σ=(S,,γ)上的一个规划问题,设s1∈S,s1S0,s1Sg,如果S0s=s1}∪{(s,a):{s1}=γ(s,a)}中的每个状态动作序偶对求弱规划解没有用处,可以直接去掉.证明.如果π∪{(s,a):s=s1}∪{(s,a):{s1}=γ(s,a)}是问题P的弱规划解,则根据已知条件,任何的初始状态通过状态动作序偶表π都能到达目标状态.根据弱规划解的定义,一个状态动作序偶表π是一个规划问题P的弱规划解当且仅当对于初始状态集合S0中的任意状态s都存在一个目标状态s使得s是Σπ的终止状态且s是s可达的.所以,π是规划问题P的弱规划解.即{(s,a):s=s1}∪{(s,a):{s1}=γ(s,a)}中的每个状态动作序偶对求弱解没有用处,可以直接去掉.通过定理5提供的方法,我们可以快速得出初始状态不通过目标状态就不能到达的状态.在求解某个弱规划问题时,当我们得出一个初始状态不通过目标状态就不能到达的状态s1时,利用定理9,我们就能直接将集合{(s,a):s=s1}∪{(s,a):{s1}=γ(s,a)}中的状态动作序偶全部去掉,从而降低原问题的规模,提高求解效率.定理10.设P=(Σ,S0,Sg)是一个不确定的状态转移系统Σ=(S,,γ)上的一个规划问题,设s1∈S,s1S0,s1Sg,如果s1{(s,a):s=s1}∪{(s,a):{s1}γ(s,a)}中的每个状Page8态动作序偶都不可能构成强规划解和强循环规划解.证明.假设(s1,a1)这个状态动作序偶能构成强规划解或强循环规划解,则s1Sg,这与已知条件矛盾,所以,{(s,a):s=s1}中的每个状态动作序偶不可能构成强规划解和强循环规划解.假设(s,a)({s1}γ(s,a))这个状态动作序偶能构成强规划解或强循环规划解,由于{s1}γ(s,a),根据强规划解和强循环规划解的定义,则s1Sg,这与已知条件矛盾,所以,{(s,a):{s1}γ(s,a)}}中的每个状态动作序偶不可能构成强规划解和强循环规划解.通过定理3提供的方法,我们可以快速得出一个状态是否能到达目标状态.在求解某个强规划或强循环规划问题时,当我们得出一个既不是初始状态也不是目标状态的状态s1不能到达目标状态时,利用定理10,我们就能直接将集合{(s,a):s=s1}∪{(s,a):{s1}γ(s,a)}中的状态动作序偶全部去掉,从而减少原问题中的状态动作序偶,提高求解效率.定理11.设P=(Σ,S0,Sg)是一个不确定的状态转移系统Σ=(S,,γ)上的一个规划问题,其中S0是初始状态集合.设s1∈S,s1S0,s1Sg,如果S0s1,则集合{(s,a):s=s1}∪{(s2,a):{s1}γ(s2,a)}中的每个状态动作序偶对求强规划解和强循环规划解都没有用处,可以直接去掉.证明.假设(s1,a1)这个状态动作序偶是构成强规划解或强循环规划解的不可缺少的状态动作序偶,则根据强规划解和强循环规划解的定义,一定存在某个初始状态s,s→s1,这与已知条件S0s1矛盾,所以,{(s,a):s=s1}中的每个状态动作序偶对求强规划解和强循环规划解没有用处,可以直接去掉.假设(s2,a)({s1}γ(s2,a))这个状态动作序偶是构成强规划解或强循环规划解的不可缺少的状态动作序偶,则根据强规划解和强循环规划解的定义,一定存在某个初始状态s,s→s2,由于s2→s1,所以,s→s1,这与已知条件S0s1矛盾,所以,{(s2,a):{s1}γ(s2,a)}中的每个状态动作序偶对求强规划解和强循环规划解没有用处,可以直接去掉.通过定理4提供的方法,我们可以快速得出所有初始状态都不能够到达的状态.在求解某个规划问题的强规划解或强循环规划解时,当我们得出一个所有初始状态都不能到达的状态s1时,利用定理11,我们就能直接将集合{(s,a):s=s1}∪{(s2,a):s1∈γ(s2,a)}中的状态动作序偶全部去掉,从而减少原问题中的状态动作序偶,提高求解效率.证毕.定理12.设P=(Σ,S0,Sg)是一个不确定的状态转移系统Σ=(S,,γ)上的一个规划问题,其中S0是初始状态集合.设s1∈S,s1S0,s1Sg,如果S0中的每一个能到达s1的状态在到达s1之前都必须先到达一个目标状态,则集合{(s,a):s=s1}∪{(s,a):s1∈γ(s,a)}中的每个状态动作序偶都不能构成强规划解和强循环规划解.证明.如果π∪{(s,a):s=s1}∪{(s,a):{s1}γ(s,a)}是问题P的强规划解,则根据已知条件,任何的初始状态通过状态动作序偶表π都能到达目标状态.根据强规划解的定义,一个状态动作序偶表π是一个规划问题P的强规划解当且仅当对于初始状态集合S0中的任意状态s都存在一个目标状态s使得s是Σπ的终止状态且s是s可达的.所以,π是规划问题P的强规划解.即{(s,a):s=s1}∪{(s,a):{s1}γ(s,a)}中的每个状态动作序偶对求强规划解没有用处,可以直接去掉.同理可证{(s,a):s=s1}∪{(s,a):{s1}γ(s,a)}中的每个状态动作序偶对求强循环规划解没有用处,可以直接去掉.通过定理5提供的方法,我们可以快速得出初始状态不通过目标状态就不能到达的状态.在求解某个规划问题的强规划解或强循环规划解时,当我们得出一个初始状态不通过目标状态就不能到达的状态s1时,利用定理12,我们就能直接将集合{(s,a):s=s1}∪{(s,a):{s1}γ(s,a)}中的状态动作序偶全部去掉,从而减少原问题中的状态动作序偶,提高求解效率.5结论本文提出了不确定状态转移系统的超图和超图邻接矩阵的定义,给出了超图的可达矩阵的定义.在超图中给出了由超图的邻接矩阵求超图的可达矩阵的方法,通过建立不确定状态转移系统的超图的邻接矩阵,利用不确定状态转移系统的超图的邻接矩阵来研究不确定状态转移系统的状态之间的可达关系,得到了状态之间的可达关系的一些重要性质;本文给出了一种在不确定规划领域求规划解的思路:在求规划解前,找到不确定状态转移系统的状态之间的可达关系,利用所获得的不确定状态转移系统的状态之间的可达关系将大量的不能构成规划解和Page9可以不参与构成规划解的状态动作序偶直接去掉,从而减少问题规模,提高求规划解的效率.利用矩阵求状态之间的可达关系,从而根据状态之间的可达关系进行约简,实质上是利用正向搜索信息进行约简.以往的对基于模型检测规划的研究主要采用从目标状态开始的反向搜索方法,本文提出了一种将正向搜索技术应用到基于模型检测规划中的方法,所提出的正向搜索方法能与原有的反向搜索方法结合使用,在求规划解时,先用正向搜索信息(状态之间的可达关系)进行约简,然后用反向搜索方法提取解.本文下一步工作主要有以下几方面:(1)利用文中给出的由邻接矩阵求可达矩阵的方法和本文的一些状态之间的可达关系的性质与其它知识相结合建立启发式函数,设计在不确定状态转移系统中求弱规划解、强规划解和强循环规划解的启发式算法.目前还没有关于弱规划解、强规划解和强循环规划解的启发式算法的成果.(2)将这一思想方法与MBP规划器相结合,设计出效益更好的规划器.(3)运用本文建立的与或图的邻接矩阵,可达矩阵探讨在部分可观察下的不确定状态转移系统中的状态之间的可达关系及相关性质.(4)利用不确定状态转移系统对应的矩阵来研究不确定状态转移系统状态之间的可达关系,开展对与或图搜索技术的研究.
