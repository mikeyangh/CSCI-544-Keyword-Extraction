Page1/ 无线/ 传感器/ 网络应用/ 简单/ Reed/ -/ Solomon/ 编码/ 的/ 低能耗/ 和/ 低/ 时延/ 可靠/ 数据/ 收集/ 方案/ 朱艺华/ 徐骥/ 田贤忠/ 池凯凯/ (/ 浙江工业大学/ 计算机科学/ 与/ 技术/ 学院/ 杭州/ 310023/ )/ 摘要/ 无线/ 传感器/ 网络/ 的/ 数据/ 链路层/ 和/ 物理层/ 通常/ 采用/ 低/ 功率/ 低/ 数据/ 率/ 的/ IEEE802/ ./ 15.4/ 标准/ ,/ 其/ 节点/ 由/ 能量/ 极为/ 有限/ 的/ 电池/ 供电/ ,/ 且/ 无线/ 链路/ 易/ 丢/ 包/ ,/ 而且/ 在/ 无线/ 传感器/ 网络/ 的/ 一些/ 应用/ 中/ ,/ 需要/ 在/ 给定/ 的/ 时间/ 内/ 将/ 数据/ 汇集/ 到/ 基站/ ,/ 因此/ ,/ 设计/ 一种/ 节能/ 、/ 低/ 时延/ 且/ 可靠/ 的/ 数据/ 收集/ 方案/ 对/ 无线/ 传感器/ 网络/ 的/ 应用/ 极为重要/ ./ 文中/ 利用/ Reed/ -/ Solomon/ (/ RS/ )/ 编码/ 以/ 提高/ 数据/ 传递/ 可靠性/ ,/ 致力于/ 将/ 能耗/ 、/ 数据/ 收集/ 率/ 、/ 数据/ 收集/ 时延/ 、/ 数据包/ 编码方案/ 整合/ 为/ 一个/ 优化/ 问题/ ;/ 给出/ 了/ 简单/ RS/ 码字/ 即/ S/ -/ RS/ 码字/ 集合/ ,/ 证明/ 了/ 该/ 码字/ 集合/ 中/ 任何/ n/ 个/ 码字/ 是/ 线性/ 独立/ 的/ ;/ 详细/ 叙述/ 了/ 基于/ S/ -/ RS/ 码字/ 集合/ 以及/ 段/ 内/ 编码/ 和/ 段间/ 编码/ 的/ 数据/ 收集/ 策略/ 即/ S/ -/ RS/ 数据/ 收集/ 策略/ 的/ 具体步骤/ ;/ 利用/ 概率论/ 推导/ 出/ 了/ S/ -/ RS/ 数据/ 收集/ 策略/ 的/ 总/ 能耗/ 、/ 数据/ 收集/ 率/ 和/ 时延/ 公式/ ,/ 并/ 依此/ 建立/ 了/ 时延/ 和/ 数据/ 收集/ 率/ 约束/ 下/ 的/ 能耗/ 最小化/ 这一/ 优化/ 问题/ ./ 该/ 优化/ 问题/ 可行/ 解/ 空间/ 很小/ ,/ 可以/ 通过/ 穷举法/ 获得/ 最优/ 解/ ./ 通过/ 求解/ 该/ 优化/ 问题/ ,/ 节点/ 能够/ 设置/ 最优/ 的/ 数据包/ 编码/ 和/ 重传/ 参数/ ,/ 使得/ 在/ 时延/ 和/ 数据/ 收集/ 率/ 约束/ 下/ 能耗/ 达到/ 最小/ ./ 数值/ 分析/ 与/ 仿真/ 表明/ ,/ S/ -/ RS/ 数据/ 收集/ 策略/ 能够/ 以较/ 低/ 的/ 能耗/ 达到/ 较/ 高/ 数据/ 收集/ 率/ 和/ 较/ 低/ 时延/ 要求/ ./ 此外/ ,/ 可以/ 利用/ 导出/ 的/ 总/ 能耗/ 、/ 数据/ 收集/ 率/ 和/ 时延/ ,/ 通过/ 优化/ S/ -/ RS/ 数据/ 收集/ 策略/ 的/ 参数/ ,/ 最大化/ 数据/ 收集/ 率/ ,/ 最小化/ 时延/ ,/ 也/ 可以/ 同时/ 对/ 总/ 能耗/ 、/ 数据/ 收集/ 率/ 和/ 时延/ 中/ 的/ 两者/ 或/ 三者/ 进行/ 优化/ ./ 关键词/ 无线/ 传感器/ 网络/ ;/ 数据/ 收集/ ;/ 节能/ ;/ 可靠性/ ;/ 时延/ ;/ Reed/ -/ Solomon/ 编码/ ;/ 物/ 联网/ 1/ 引言/ 无线/ 传感器/ 网络/ (/ WirelessSensorNetwork/ ,/ WSN/ )/ 已经/ 被/ 广泛/ 地/ 应用/ 于/ 环境监测/ 、/ 医疗保健/ 、/ 交通运输/ 等/ 领域/ ./ IEEE802/ ./ 15.4/ 标准/ [/ 1/ ]/ 定义/ 了/ 低功耗/ 低/ 速率/ 无线网络/ 的/ 介质/ 访问/ 层/ (/ MediumAccessControl/ ,/ MAC/ )/ 和/ 物理层/ (/ Physical/ ,/ PHY/ )/ ./ 当代/ WSN/ 在/ MAC/ 层/ 和/ PHY/ 层均/ 采用/ 上述/ 标准/ ,/ 因而/ 其/ 无线/ 链路/ 传递/ 数据包/ 具有/ 不/ 可靠/ 和/ 易/ 丢失/ 等/ 特点/ ./ 由于/ 低功耗/ 无线/ 链路/ 的/ 无线电/ 覆盖范围/ 小/ ,/ 数据包/ 需要/ 经过/ 多/ 跳/ 传输/ 才能/ 从/ 一个/ 传感器/ 节点/ 到达/ sink/ 节点/ ,/ 这会/ 导致/ 端到/ 端的/ 数据包/ 传递/ 成功率/ 非常低/ ./ 因此/ ,/ 需要/ 设计/ 提高/ 数据包/ 传递/ 成功率/ 的/ 切实可行/ 的/ 方案/ ./ 在/ WSN/ 中/ ,/ 节点/ 通常/ 是/ 由/ 能量/ 非常/ 有限/ 的/ 电池/ 供电/ ./ 因此/ ,/ 研究/ 如何/ 使/ 节点/ 能够/ 在/ 保证/ 可用性/ 的/ 情况/ 下/ 尽量/ 降低/ 能量消耗/ ,/ 对/ WSN/ 长时间/ 工作/ 显得/ 尤为/ 必要/ ./ 此外/ ,/ 在/ WSN/ 的/ 一些/ 应用/ 尤其/ 是/ 实时/ 应用/ 中/ ,/ 传感器/ 节点/ 捕获/ 的/ 数据/ 需要/ 在/ 短时间/ 内/ 送达/ sink/ 节点/ ,/ 因此/ ,/ 降低/ WSN/ 中/ 数据包/ 收集/ 时延/ 也/ 是/ 非常/ 重要/ 的/ ./ 在/ 提高/ 传递/ 数据包/ 可靠性/ 方面/ ,/ 虽然/ MAC/ 层/ 的/ 重传/ 与/ 确认/ 机制/ 有助于/ 提高/ 可靠性/ ,/ 但是/ 它/ 存在/ 着/ 以下/ 弱点/ :/ (/ 1/ )/ 在/ MAC/ 层/ 设置/ 了/ 数据/ 帧/ 的/ 最大/ 传输/ 次数/ ,/ 这会/ 导致/ 发送/ 次数/ 达到/ 最大/ 次数/ 但/ 依然/ 发送/ 失败/ 的/ 帧/ 被/ MAC/ 层/ 丢弃/ ;/ (/ 2/ )/ 已有/ 研究/ 表明/ [/ 2/ ]/ ,/ 在/ 节点/ 移动/ 的/ 网络/ 中/ ,/ 重传/ 机制/ 开销/ 特别/ 大/ ,/ 而且/ 在/ 能量/ 受限/ 的/ WSN/ 中/ 这种/ 方法/ 几乎/ 无法/ 实现/ 数据包/ 可靠/ 传递/ ./ 鉴于/ 此/ ,/ 本文/ 借助于/ 编码/ 技术/ 来/ 提高/ 数据包/ 传递/ 可靠性/ ,/ 将/ 来自/ 网络层/ 的/ 数据包/ 进行/ 编码/ ,/ 并/ 结合/ 数据/ 链路层/ 的/ 重传/ 和/ 确认/ 机制/ ,/ 以/ 能耗/ 、/ 数据/ 收集/ 率/ 、/ 时延/ 等/ 要求/ 为/ 目标/ 来/ 确定/ 编码方案/ 所/ 采用/ 的/ 参数值/ ./ 诚然/ ,/ 编码方案/ 需要/ 借助/ 一些/ 冗余/ 数据/ ./ 增大/ 冗余/ 数据/ ,/ 可以/ 增强/ 数据包/ 传递/ 可靠性/ ,/ 但/ 冗余/ 数据包/ 的/ 传输/ 会/ 带来/ 额外/ 的/ 能量消耗/ ,/ 也/ 会/ 增加/ 原/ 数据包/ 的/ 传递/ 时延/ ./ 反之/ ,/ 如果/ 减少/ 冗余/ 数据/ ,/ 则/ 会/ 削弱/ 数据包/ 传递/ 可靠性/ ./ 因此/ ,/ 在/ 设计/ 一个/ 低能耗/ 、/ 低/ 时延/ 且/ 可靠性/ 高/ 的/ 数据包/ 传输/ 协议/ 时/ ,/ 需要/ 在/ 能耗/ 、/ 时延/ 和/ 可靠性/ 三者/ 之间/ 作出/ 权衡/ ./ 事实上/ ,/ 在/ 基于/ IEEE802/ ./ 15.4/ 标准/ 的/ WSN/ 中/ ,/ 节点/ 的/ 处理/ 能力/ 、/ 无线电/ 覆盖范围/ 、/ 可以/ 通信/ 的/ 数据包/ 长度/ 、/ 内存空间/ 等/ 均/ 为/ 捉襟见肘/ ./ 例如/ ,/ IEEE802/ ./ 15.4/ 标准/ 是/ 针对/ 低/ 数据/ 率/ 、/ 低功耗/ 的/ 无线/ 个域/ 网络/ ,/ 其/ 物理层/ 可以/ 携带/ 的/ 来自/ 数据/ 链路层/ 数据/ 帧/ 的/ 最大/ 长度/ 只有/ 127/ 字节/ [/ 1/ ]/ ;/ 当/ MAC/ 层/ 使用/ 安全/ 头部/ 时/ ,/ 数据/ 链路层/ 能够/ 携带/ 的/ 来自/ 网络层/ 数据/ 长度/ 只/ 剩下/ 81/ 字节/ [/ 3/ ]/ ./ 又/ 如/ ,/ CrossBow/ 公司/ 生产/ 的/ TelosB/ 传感器/ 节点/ ,/ 只有/ 10kB/ 内存/ ,/ 且/ 兼容/ IEEE802/ ./ 15.4/ 标准/ 的/ 射频/ 收发器/ 的/ 通信/ 距离/ 仅为/ 数十米/ ./ 遗憾/ 的/ 是/ ,/ 绝大多数/ 已有/ 研究成果/ 未能/ 充分考虑/ WSN/ 节点/ 的/ 上述/ 资源/ 瓶颈/ ,/ 因而/ 难以/ 应用/ 于/ 实践/ ./ 我们/ 注意/ 到/ Reed/ -/ Solomon/ 编码/ [/ 4/ ]/ 具有/ 以下/ 显著/ 的/ 优点/ :/ (/ 1/ )/ 接收/ 方/ 一旦/ 收到/ 固定/ 个数/ 的/ 编码/ 包/ ,/ 就/ 能/ 解码/ 得到/ 原始/ 信息/ ;/ (/ 2/ )/ 传输/ 开销/ 小/ ,/ 编码方式/ Page3/ 简单/ ./ 这些/ 特点/ 易于/ 在/ 资源/ 极度/ 受限/ 的/ WSN/ 上/ 实现/ ./ 虽然/ 在/ 编码/ 、/ 数据包/ 传递/ 可靠性/ 、/ 数据/ 收集/ 时延/ 、/ 能耗/ 等/ 研究/ 领域/ 已有/ 大量/ 成果/ ,/ 但/ 这些/ 成果/ 存在/ 着/ 缺陷/ ,/ 未能/ 将/ 编码/ 、/ 可靠/ 传递/ 、/ 时延/ 、/ 能耗/ 这四者/ 综合/ 起来/ 统筹/ 优化/ ./ 因此/ ,/ 需要/ 一个/ 将/ 四者/ 作为/ 一个/ 整体/ 来/ 统筹/ 优化/ 的/ 解决方案/ ./ 此/ 乃/ 本文/ 的/ 主要/ 动机/ 所在/ ./ 本文/ 应用/ Reed/ -/ Solomon/ 码/ 进行/ 数据包/ 的/ 可靠/ 传输/ ,/ 主要/ 贡献/ 如下/ :/ (/ 1/ )/ 详细描述/ 了/ 利用/ 简单/ Reed/ -/ Solomon/ (/ SimpleReed/ -/ Solomon/ ,/ S/ -/ RS/ )/ 码/ 以及/ 段/ 内/ 编码/ 或/ 段间/ 编码/ 的/ “/ S/ -/ RS/ 数据/ 收集/ 策略/ ”/ ;/ 证明/ 了/ S/ -/ RS/ 码中/ 任意/ n/ 个/ 码字/ (/ CodeWord/ )/ 均/ 为/ 线性/ 独立/ ;/ 推导/ 了/ S/ -/ RS/ 数据/ 收集/ 策略/ 在/ 一个/ 数据/ 收集/ 周期/ 内/ 的/ 总/ 能耗/ 、/ 数据/ 收集/ 率/ 和/ 数据/ 收集/ 时延/ ./ (/ 2/ )/ 设计/ 了/ 数据/ 收集/ 率/ 和/ 数据/ 收集/ 时延/ 约束/ 下/ 能耗/ 最小化/ 这一/ 优化/ 问题/ ,/ 通过/ 优化/ S/ -/ RS/ 码/ 的/ 冗余度/ 、/ 每个/ 编码/ 包/ 携带/ 的/ 码字/ 个数/ 和/ IEEE802/ ./ 15.4/ 标准/ MAC/ 层/ 数据包/ 的/ 重传/ 次数/ 这/ 3/ 个/ 参数/ ,/ 可以/ 达到/ 在/ 事先/ 给定/ 的/ 数据/ 收集/ 率/ 和/ 数据/ 收集/ 时延/ 要求/ 下/ ,/ 通过/ 最优/ 编码方案/ ,/ 使/ 整个/ 网络/ 数据/ 收集/ 产生/ 的/ 能耗/ 最小/ 这一/ 目标/ ./ (/ 3/ )/ S/ -/ RS/ 数据/ 收集/ 策略/ 所/ 采用/ 的/ S/ -/ RS/ 码/ 具有/ 属性/ :/ 其前/ 几个/ 码字/ 为/ 原始/ 信息/ 符/ (/ OriginalInfor/ -/ mationSymbol/ ,/ OIS/ )/ ,/ 使/ 接收/ 方/ 不用/ 解码/ 就/ 能/ 获得/ OIS/ ,/ 当/ 接收/ 方/ 收到/ 的/ 码字/ 不足以/ 解码/ 出/ 全部/ OIS/ 时/ 仍/ 可以/ 得到/ 部分/ 数据/ ./ 段/ 内/ 编码/ 和/ 段间/ 编码/ 策略/ 在/ 每个/ 编码/ 包中/ 携带/ 多个/ S/ -/ RS/ 码字/ ,/ 以此/ 减少/ 编码/ 包/ 的/ 发送/ 个数/ ,/ 提高/ MAC/ 帧/ 的/ 利用率/ ,/ 从而/ 降低/ 能耗/ ./ 本文/ 第/ 2/ 节/ 分析/ 相关/ 研究成果/ ;/ 第/ 3/ 节/ 介绍/ Reed/ -/ Solomon/ 编码/ 和/ S/ -/ RS/ 码/ ;/ 第/ 4/ 节/ 叙述/ S/ -/ RS/ 码/ 的/ 段/ 内/ 编码/ 和/ 段间/ 编码方案/ 以及/ S/ -/ RS/ 数据/ 收集/ 策略/ 的/ 具体步骤/ ;/ 第/ 5/ 节/ 推导/ 使用/ 段间/ 编码/ 的/ S/ -/ RS/ 数据/ 收集/ 策略/ 的/ 能耗/ 、/ 数据/ 收集/ 率/ 和/ 数据/ 收集/ 时延/ ,/ 给出/ 时延/ 、/ 数据/ 收集/ 率/ 约束/ 下/ 的/ 能耗/ 最小化/ 这一/ 优化/ 问题/ ;/ 第/ 6/ 节/ 给出/ 在/ 实际/ 的/ 传感器/ 节点/ 中/ 进行/ 实验/ 的/ 结果/ ;/ 第/ 7/ 节/ 通过/ 仿真/ 分析/ S/ -/ RS/ 数据/ 收集/ 策略/ 的/ 性能/ ;/ 第/ 8/ 节/ 总结/ 本文/ ./ 2/ 相关/ 研究/ 在/ 提高/ 数据包/ 传递/ 可靠性/ 方面/ ,/ 常见/ 的/ 方法/ 有/ :/ 在/ 数据/ 链路层/ 采用/ 重传/ 和/ 确认/ 机制/ [/ 5/ ]/ ;/ 在/ 网络层/ 采用/ 多路径/ 路由/ [/ 6/ -/ 7/ ]/ 、/ 机会/ 路由/ [/ 8/ ]/ 等/ ./ 在/ 无线网络/ 中/ 利用/ 编码/ 技术/ 来/ 实现/ 数据包/ 的/ 可靠/ 传递/ 方案/ 如/ 雨后春笋/ 不断涌现/ ,/ 所用/ 的/ 编码/ 有/ LT/ 码/ (/ LubyTransfer/ )/ [/ 9/ ]/ 、/ Tornado/ 码/ [/ 10/ ]/ 、/ Reed/ -/ Solomon/ 码/ [/ 2/ ,/ 4/ ]/ 等/ ./ 文献/ [/ 11/ ]/ 研究/ 了/ 在/ 使用/ 多/ 输入/ 多/ 输出/ (/ Multiple/ -/ InputMultiple/ -/ Output/ ,/ MIMO/ )/ 情况/ 下/ 如何/ 最小化/ 能耗/ 的/ 问题/ ./ 文献/ [/ 12/ ]/ 提出/ 了/ RMER/ 和/ RMECR/ 两种/ 路由/ ,/ 其中/ RMER/ 找到/ 一条/ 端到/ 端的/ 总/ 能耗/ 最小/ 的/ 路径/ ,/ 而/ RMECR/ 则/ 选择/ 满足/ 可靠性/ 要求/ 下/ 的/ 能耗/ 最小/ 路径/ ./ 文献/ [/ 13/ ]/ 研究/ 了/ 如何/ 在/ 低/ 占空比/ WSN/ 中/ 使用/ 网络/ 编码/ 来/ 降低/ 瓶颈/ 区域/ 的/ 能耗/ 以此/ 延长/ 网络/ 生存/ 时间/ 这一/ 问题/ ./ 按照/ 数据/ 相关性/ ,/ 传感/ 数据/ 的/ 收集/ 方案/ 可以/ 分类/ 为/ 数据/ 可/ 融合/ 的/ 收集/ [/ 14/ -/ 16/ ]/ 和/ 数据/ 不可/ 融合/ 的/ 收集/ [/ 17/ -/ 18/ ]/ ./ 在/ 数据/ 可/ 融合/ 的/ 收集/ 应用/ 中/ ,/ 可以/ 把/ 多个/ 节点/ 所/ 感知/ 的/ 数据/ 采用/ 诸如/ 最大值/ 、/ 平均值/ 等/ 多种/ 方法/ 进行/ 整合/ ,/ 以此/ 降低/ 网络/ 中/ 节点/ 转发/ 数据包/ 的/ 数量/ ,/ 进而/ 降低/ 带宽/ 的/ 开销/ 和/ 节点/ 的/ 能耗/ ./ 例如/ ,/ MERIG/ 协议/ [/ 14/ ]/ 使用/ 数据/ 融合/ 技术/ ,/ 自/ 适应/ 地/ 传输/ 冗余/ 数据包/ ,/ 使得/ 在/ 保证/ 可靠性/ 的/ 前提/ 下/ 能耗/ 得以/ 最小化/ ./ 然而/ ,/ 在/ WSN/ 的/ 大量/ 应用/ 中/ ,/ 传感器/ 节点/ 所/ 捕获/ 到/ 的/ 数据/ 相关性/ 甚微/ ,/ 甚至/ 是/ 不/ 相关/ 的/ ,/ 因此/ ,/ 这/ 类/ 数据/ 是/ 不可/ 融合/ 的/ ./ 对于/ 此类/ 应用/ ,/ 节点/ 不能/ 对/ 数据/ 进行/ 融合/ ,/ 而/ 需要/ 原封不动/ 地/ 把/ 来自/ 其他/ 节点/ 的/ 数据/ 转发给/ 邻居/ 节点/ ./ 在/ 数据/ 不能/ 融合/ 的/ WSN/ 节能/ 问题/ 研究/ 领域/ ,/ 也/ 取得/ 了/ 一些/ 成果/ ./ 例如/ ,/ 考虑/ 到/ 流过/ 离/ sink/ 节点/ 越近/ 的/ 节点/ 的/ 数据量/ 越大/ ,/ 这些/ 节点/ 会越/ 早因/ 能量/ 耗竭/ 而/ 死亡/ ,/ MITT/ [/ 17/ ]/ 根据/ 节点/ 剩余/ 能量/ 构造/ 一棵/ 最小/ 生成/ 树/ 使得/ 瓶颈/ 节点/ 的/ 子/ 节点/ 数/ 最小/ ,/ 从而/ 平衡/ sink/ 附近/ 节点/ 的/ 能耗/ ,/ 以/ 最大化/ 网络/ 生存/ 时间/ ./ 文献/ [/ 19/ ]/ 提出/ 了/ 能耗/ 经济/ 的/ 延长/ 网络/ 生存/ 时间/ 的/ 算法/ ERAPL/ ,/ 通过/ 构造/ 数据/ 收集/ 序列/ (/ DataGatheringSequence/ ,/ DGS/ )/ 让/ 每个/ 节点/ 按照/ 比例/ 将/ 数据/ 发送给/ 邻居/ 节点/ ,/ 以此/ 达到/ 节能/ 的/ 目的/ ./ 文献/ [/ 20/ ]/ 提出/ 了/ 一种/ 能量/ 高效/ 的/ 基于/ 线性/ 回归/ 的/ 无线/ 传感器/ 网络/ 分布式/ 数据/ 采集/ 优化/ 策略/ ,/ 以/ 降低/ 网络/ 的/ 总/ 能耗/ ./ 文献/ [/ 21/ ]/ 将/ 无线/ 传感器/ 网络/ 的/ 传感/ 数据/ 以树/ 的/ 形式/ 收集/ 到/ 根/ ./ 文献/ [/ 22/ ]/ 提出/ 了/ 一种/ 负载/ 均衡/ 感知/ 的/ 无线/ 传感器/ 网络/ 容错/ 分簇/ 算法/ ./ 考虑/ 到/ 当代/ 传感器/ 网络/ 节点/ 可以/ 是/ 采用/ Wi/ -/ Fi/ 使能/ 的/ 传感器/ (/ Wi/ -/ Fienabledsensor/ )/ [/ 23/ ]/ 节点/ ,/ 本文/ 作者/ 改进/ 了/ 基于/ 定时器/ 的/ 电源/ 管理策略/ (/ Timer/ -/ basedPowerManagement/ ,/ TPM/ )/ [/ 24/ ]/ ,/ 提出/ 了/ 增强/ 的/ 基于/ 定时器/ 电源/ 管理策略/ E/ -/ TPM/ [/ 25/ ]/ ,/ 使得/ 传感器/ 节点/ 能够/ 经济/ 地/ 消耗/ 能量/ ./ 此外/ ,/ 我们/ 利用网络/ 编码/ 技/ Page4/ 术/ ,/ 降低/ WSN/ 的/ 路由/ 能耗/ [/ 26/ ]/ ;/ 利用/ 非/ 前缀/ 信源/ 编码/ 技术/ ,/ 降低/ 纳米/ 传感器/ 网络/ 发送/ 方/ 的/ 能耗/ [/ 27/ ]/ ./ 在/ 利用/ 编码/ 提高/ 传输/ 可靠性/ 方面/ ,/ 可以/ 应用/ LT/ 码/ [/ 9/ ]/ 、/ Raptor/ 码/ [/ 28/ ]/ 及其/ 他/ 随机/ 系数/ 的/ 编码/ ./ 但/ LT/ 码/ [/ 9/ ]/ 、/ Raptor/ 码/ [/ 28/ ]/ 以及/ 采用/ 随机/ 系数/ 的/ 编码/ 存在/ 着/ 一些/ 不足之处/ ,/ 如/ 接收/ 方/ 一旦/ 接收/ 到/ 一个/ 数据包/ ,/ 就/ 尝试/ 解码/ ,/ 而且/ 接收/ 方/ 可能/ 因/ 接收/ 到/ 的/ 数据包/ 的/ 系数/ 矩阵/ 不满/ 秩而/ 无法/ 解码/ ./ 目前/ ,/ 在/ 应用/ Reed/ -/ Solomon/ 编码/ 于/ 无线/ 传感器/ 网络/ 可靠/ 数据传输/ 领域/ ,/ 也/ 有/ 一些/ 研究成果/ ./ 文献/ [/ 29/ ]/ 提出/ 一种/ 应用/ 于/ WSN/ 的/ Reed/ -/ Solomon/ 码/ 解码器/ 算法/ 以/ 降低/ 能耗/ ;/ 在/ 有/ 多个/ sink/ 节点/ 的/ WSN/ 应用/ 中/ ;/ 文献/ [/ 30/ ]/ 利用/ Reed/ -/ Solomon/ 码/ 将/ 数据包/ 分片/ 编码/ 并/ 在/ 多条/ 路径/ 上/ 把/ 编码/ 包/ 传递/ 给/ sink/ 节点/ ;/ 文献/ [/ 31/ ]/ 提出/ 了/ Reed/ -/ Solomon/ 码/ 的/ 硬件/ 实现/ 方法/ ;/ 文献/ [/ 32/ ]/ 提出/ 了/ 可靠/ 数据/ 传递/ 方案/ (/ ReliableDataTransferScheme/ ,/ RDTS/ )/ ,/ 节点/ 采用/ Reed/ -/ Solomon/ 编码/ 逐跳/ 将/ 数据/ 传递/ 到/ 信宿/ ;/ 文献/ [/ 33/ ]/ 提出/ 了/ 利用/ Reed/ -/ Solomon/ 编码/ 的/ 可靠/ 数据/ 收集/ 方案/ ,/ 给出/ 了/ 数据/ 收集/ 率/ 约束/ 下/ 的/ 能耗/ 最小化/ 问题/ ./ 本文/ 也/ 采用/ Reed/ -/ Solomon/ 码/ 提高/ 数据/ 传递/ 的/ 可靠性/ ,/ 本文/ 策略/ 与/ 之前/ 采用/ Reed/ -/ Solomon/ 码/ 的/ 数据/ 收集/ 策略/ 的/ 明显/ 不同之处/ 在于/ :/ 将/ 数据包/ 编码方案/ 、/ 能耗/ 、/ 数据/ 收集/ 率/ 、/ 数据/ 收集/ 时延/ 整合/ 为/ 一个/ 优化/ 问题/ ,/ 对/ 所/ 涉及/ 的/ 指标/ 进行/ 统筹/ 优化/ ./ 3/ 一种/ 简单/ 的/ Reed/ -/ Solomon/ 码/ Reed/ -/ Solomon/ 码是/ 基于/ 符号/ 的/ 编码/ [/ 4/ ]/ ./ 用/ GF/ (/ q/ )/ =/ {/ 0/ ,/ 1/ ,/ α/ ,/ α/ 2/ ,/ …/ ,/ α/ q/ -/ 2/ }/ 表示/ 伽罗华/ 有限/ 域/ ,/ 其中/ q/ / 2/ 且/ 是/ 整数/ ,/ α/ 是/ 一个/ 素数/ ,/ 满足/ α/ q/ -/ 1/ =/ 1/ 和/ α/ i/ ≠/ α/ j/ (/ 1/ / i/ </ j/ </ q/ -/ 1/ )/ ./ 在/ 有限/ 域/ GF/ (/ q/ )/ 中/ ,/ 对于/ 给定/ 的/ n/ 个/ (/ n/ </ q/ )/ 信息/ 符/ (/ 即/ OIS/ )/ :/ m0/ ,/ m1/ ,/ …/ ,/ mn/ -/ 1/ ,/ 构建/ 如下/ n/ -/ 1/ 阶/ 多项式/ [/ 4/ ]/ :/ 利用/ 式/ (/ 1/ )/ ,/ 可以/ 得到/ 一个/ q/ 维/ Reed/ -/ Solomon/ 码/ [/ 4/ ]/ :/ (/ f/ (/ 0/ )/ ,/ f/ (/ 1/ )/ ,/ f/ (/ α/ )/ ,/ f/ (/ α/ 2/ )/ ,/ …/ ,/ f/ (/ α/ q/ -/ 2/ )/ )/ ./ 这个/ Reed/ -/ Solomon/ 码/ 的/ q/ 个/ 码字/ 有/ 一个/ 特性/ :/ 任意/ n/ 个/ 码字/ 的/ 信息/ 符/ 系数/ 向量/ 是/ 线性/ 无关/ 的/ ./ 例如/ ,/ 对于/ 前/ n/ 个/ 码字/ f/ (/ 0/ )/ ,/ f/ (/ 1/ )/ ,/ f/ (/ α/ )/ ,/ f/ (/ α/ 2/ )/ ,/ …/ ,/ f/ (/ α/ n/ -/ 2/ )/ ,/ 从式/ (/ 1/ )/ 可知/ ,/ 这些/ 码字/ 对应/ 的/ 信息/ 符/ m0/ ,/ m1/ ,/ …/ ,/ mn/ -/ 1/ 的/ 系数/ 向量/ 依次/ 是/ :/ (/ 1/ ,/ 0/ ,/ …/ ,/ 0/ )/ ,/ (/ 1/ ,/ 1/ ,/ …/ ,/ 1/ )/ ,/ (/ 1/ ,/ α/ ,/ α/ 2/ ,/ …/ ,/ α/ n/ -/ 1/ )/ ,/ (/ 1/ ,/ α/ 2/ ,/ α/ 4/ ,/ …/ ,/ α/ 2/ (/ n/ -/ 1/ )/ )/ ,/ …/ ,/ (/ 1/ ,/ α/ n/ -/ 2/ ,/ α/ 2/ (/ n/ -/ 2/ )/ ,/ …/ ,/ α/ 成/ 了/ 一个/ 其值/ 不为/ 0/ 的/ 范/ 德蒙/ 行列式/ ,/ 因此/ ,/ 它们/ 是/ 线性/ 无关/ 的/ ./ Reed/ -/ Solomon/ 码/ 的/ 上述/ 性质/ 说明/ :/ 接收/ 方/ 一旦/ 收到/ Reed/ -/ Solomon/ 码中/ 任意/ n/ 个/ 码字/ ,/ 就/ 可以/ 通过/ 解/ 一个/ 满/ 秩/ 的/ 线性方程组/ 得到/ 原来/ 的/ n/ 个/ 信息/ 符/ ./ 这/ 是因为/ 在/ q/ 维/ Reed/ -/ Solomon/ 码/ (/ f/ (/ 0/ )/ ,/ f/ (/ 1/ )/ ,/ f/ (/ α/ )/ ,/ f/ (/ α/ 2/ )/ ,/ …/ ,/ f/ (/ α/ q/ -/ 2/ )/ )/ 中/ 所/ 选取/ 的/ n/ 个/ 码字/ 中/ ,/ 原来/ 的/ n/ 个/ 信息/ 符/ m0/ ,/ m1/ ,/ …/ ,/ mn/ -/ 1/ 的/ 系数/ 行列式/ 是/ 一个/ n/ 阶范得/ 蒙/ 行列式/ ,/ 其值/ 不为/ 0/ ./ 于是/ ,/ 在/ WSN/ 的/ 数据包/ 传递/ 过程/ 中/ ,/ 我们/ 可以/ 选择/ 一个/ 合适/ 的/ q/ ,/ 将/ 原始/ n/ 个/ 信息/ 符/ m0/ ,/ m1/ ,/ …/ ,/ mn/ -/ 1/ 编码/ 生成/ 一个/ q/ 维/ Reed/ -/ Solomon/ 码/ ,/ 并/ 将/ 编码/ 之后/ 的/ 数据包/ 发送给/ 下/ 一个/ 节点/ ./ 这样/ ,/ 接收/ 方/ 只要/ 收到/ 其中/ 任意/ n/ 个/ 编码/ 包/ 就/ 可以/ 恢复/ 出/ 原始/ n/ 个/ 信息/ 符/ ./ 与/ 文献/ [/ 33/ ]/ 一样/ ,/ 我们/ 引入/ 向量/ :/ 狏/ i/ =/ (/ 1/ ,/ α/ i/ ,/ α/ 2i/ ,/ α/ 3i/ ,/ …/ ,/ α/ 个/ 元素/ 的/ 行向量/ 犲/ i/ ,/ 它/ 满足条件/ :/ 第/ i/ 个/ 元素/ 为/ 1/ ,/ 其余/ n/ -/ 1/ 个/ 元素/ 均/ 为/ 0/ ,/ 即/ 犲/ i/ =/ (/ 0/ ,/ …/ ,/ 烉/ 烇/ 烋/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ n/ ./ 显然/ ,/ 犲/ 1/ ,/ 犲/ 2/ ,/ …/ ,/ 犲/ n/ 构成/ 一个/ n/ ×/ n/ 单位矩阵/ ./ 然后/ ,/ 选取/ 自然数/ M/ ,/ 使/ 它/ 满足/ n/ </ M/ / q/ -/ 1/ ,/ 并/ 构建/ M/ ×/ n/ 矩阵/ 如下/ [/ 33/ ]/ :/ 犙/ M/ ×/ n/ =/ (/ 犲/ 1/ ,/ 犲/ 2/ ,/ …/ ,/ 犲/ n/ ,/ 狏/ 1/ ,/ 狏/ 2/ ,/ …/ ,/ 狏/ M/ -/ n/ )/ T1/ 烄/ =/ 1/ α/ 1/ α/ 21/ α/ 3/ / / 烆/ 1/ α/ 于是/ ,/ 在/ 本文/ 的/ 数据/ 收集/ 策略/ 中/ ,/ 针对/ n/ 个/ 信息/ 符/ m0/ ,/ m1/ ,/ …/ ,/ mn/ -/ 1/ ,/ 利用/ 矩阵/ 犙/ M/ ×/ n/ 进行/ 编码/ ,/ 生成/ M/ 维/ 向量/ 犆/ M/ ×/ 1/ =/ (/ c1/ ,/ c2/ ,/ …/ ,/ cM/ )/ T/ 如下/ [/ 33/ ]/ :/ 其中/ ,/ 第/ i/ 个/ 元素/ 为/ ci/ =/ Page5/ 以下/ 称/ M/ 维/ 向量/ 犆/ M/ ×/ 1/ 为/ “/ S/ -/ RS/ 码/ ”/ ./ 同时/ ,/ 称/ 向量/ 犆/ M/ ×/ 1/ 的/ M/ 个/ 元素/ ci/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ M/ )/ 为/ 码字/ ./ 根据/ 下述/ 定理/ 1/ ,/ 接收/ 方/ 只要/ 收到/ S/ -/ RS/ 码/ 的/ M/ 个/ 码字/ 中/ 的/ 任意/ n/ 个/ ,/ 就/ 可以/ 解码/ 得出/ 原来/ 的/ n/ 个/ 信息/ 符/ m0/ ,/ m1/ ,/ …/ ,/ mn/ -/ 1/ ./ 定理/ 1/ ./ 在/ n/ +/ q/ -/ 2/ 个/ 向量/ 组成/ 的/ 集合/ W/ =/ {/ 犲/ 1/ ,/ 犲/ 2/ ,/ …/ ,/ 犲/ n/ ,/ 狏/ 1/ ,/ 狏/ 2/ ,/ …/ ,/ 狏/ q/ -/ 2/ }/ 中/ ,/ 任意/ n/ 个/ 向量/ 均/ 为/ 线性/ 独立/ [/ 33/ ]/ ./ 证明/ ./ 将/ 集合/ W/ 拆/ 分为/ 两个/ 集合/ U/ =/ {/ 犲/ 1/ ,/ 犲/ 2/ ,/ …/ ,/ 犲/ n/ }/ 和/ V/ =/ {/ 狏/ 1/ ,/ 狏/ 2/ ,/ …/ ,/ 狏/ q/ -/ 2/ }/ ./ 下面/ 分/ 3/ 种/ 情况/ 证明/ :/ (/ 1/ )/ 取自/ 集合/ W/ 的/ n/ 个/ 向量/ 均/ 来自/ 集合/ U/ ./ 这时/ ,/ 这些/ 向量/ 线性/ 独立/ ,/ 因为/ 它们/ 组成/ 一个/ 满/ 秩/ (/ 即/ 秩为/ n/ )/ 的/ 单位矩阵/ ,/ 其/ 行列式/ 的/ 值/ 不/ 为/ 0/ ./ (/ 2/ )/ 取自/ 集合/ W/ 的/ n/ 个/ 向量/ 均/ 来自/ 集合/ V/ ./ 这时/ ,/ 这些/ 向量/ 也/ 是/ 线性/ 独立/ ,/ 这/ 是因为/ 在/ RS/ 码中/ 原来/ n/ 个/ 信息/ 符/ 的/ 系数/ 矩阵/ 行列式/ 构成/ 一个/ 范/ 德蒙/ 行列式/ ,/ 其值/ 不为/ 0/ ./ (/ 3/ )/ 取自/ 集合/ W/ 的/ n/ 个/ 向量/ 分别/ 来自/ 集合/ U/ 和/ V/ ./ 如果/ U/ 中/ 只有/ 一个/ 向量/ 犲/ 1/ 被/ 选中/ ,/ 且/ V/ 中/ 向量/ 狏/ 1/ ,/ 狏/ 2/ ,/ …/ ,/ 狏/ n/ -/ 1/ 被/ 选中/ ,/ 则/ 这些/ 向量/ 组成/ 一个/ 满/ 秩/ 的/ 矩阵/ ,/ 其/ 证明/ 过程/ 如下/ 所述/ ./ 这些/ 向量/ 组成/ 以下/ 行列式/ :/ 101/ α/ α/ 2/ …/ α/ n/ -/ 11/ α/ 2/ (/ α/ 2/ )/ 2/ …/ (/ α/ 2/ )/ n/ -/ 1/ / 1/ α/ n/ -/ 1/ (/ α/ n/ -/ 1/ )/ 2/ …/ (/ α/ n/ -/ 1/ )/ n/ -/ 1/ α/ 1/ +/ 2/ +/ 3/ +/ …/ +/ (/ n/ -/ 1/ )/ n/ (/ n/ -/ 1/ )/ =/ α/ 2/ ∏/ 1/ / i/ </ j/ / n/ -/ 1/ 因此/ ,/ 所/ 选取/ 出来/ 的/ n/ 个/ 向量/ 犲/ 1/ ,/ 狏/ 1/ ,/ 狏/ 2/ ,/ …/ ,/ 狏/ n/ -/ 1/ 线性/ 独立/ ./ 同理可证/ :/ 对于/ U/ 中/ 其他/ 一个/ 向量/ 犲/ i/ 被/ 选中/ (/ i/ =/ 2/ ,/ 3/ ,/ …/ ,/ n/ )/ 这种/ 情况/ ,/ 所/ 取出/ 的/ n/ 个/ 向量/ 是/ 线性/ 独立/ 的/ ./ 此外/ ,/ 在/ U/ 中有/ 多个/ 向量/ 被/ 选中/ 的/ 情形/ ,/ 与/ 推导/ 式/ (/ 5/ )/ 的/ 过程/ 类似/ ,/ 可以/ 得到/ ,/ 所/ 选出/ 的/ n/ 个/ 向量/ 构成/ 满/ 秩/ 矩阵/ ./ 于是/ 定理/ 1/ 获得/ 证明/ ./ 4/ 基于/ S/ -/ RS/ 编码/ 的/ 数据/ 收集/ 策略/ 我们/ 把/ 利用/ S/ -/ RS/ 码对源/ 信息/ 符/ OIS/ 进行/ 编码/ 再/ 把/ 编码/ 包/ 发送给/ 接收/ 方/ 的/ 数据/ 收集/ 策略/ 称为/ “/ S/ -/ RS/ 数据/ 收集/ 策略/ ”/ ./ S/ -/ RS/ 数据/ 收集/ 策略/ 应用/ 于/ 基于/ 树/ 的/ 数据/ 收集/ 场合/ ,/ 树/ 的/ 构建/ 可以/ 采用/ 诸如/ CTP/ [/ 34/ -/ 35/ ]/ 协议/ 、/ MITT/ [/ 17/ ]/ 等/ 协议/ ./ 在/ S/ -/ RS/ 数据/ 收集/ 策略/ 中/ ,/ 节点/ 采用/ IEEE802/ ./ 15.4/ 标准/ 的/ 自动/ 重传/ 和/ 确认/ 机制/ 即/ ARQ/ (/ AutomaticRepeatRequest/ )/ 将/ 数据包/ 发送给/ 父/ 节点/ ./ 树枝/ 节点/ 用/ S/ -/ RS/ 码对/ 数据/ 进行/ 编码/ ,/ 并/ 采用/ 如图/ 1/ 所示/ 的/ 流程/ 发送/ 编码/ 包/ ./ 图中/ ,/ 内存/ 变量/ Num/ _/ trial/ 存储/ 当前/ 数据包/ 的/ 发送/ 次数/ (/ 包括/ 重传/ 次数/ )/ ,/ Idx/ _/ word/ 存储/ S/ -/ RS/ 码中/ 码字/ 的/ 序号/ ,/ Num/ _/ rcv/ 存储/ 接收/ 方/ 已经/ 收到/ 的/ 码字/ 个数/ ;/ σ/ 是/ IEEE802/ ./ 15.4/ 标准/ MAC/ 帧/ 的/ 最大/ 重传/ 次数/ ;/ ω/ ack/ 是/ MAC/ 帧/ 超时/ 定时器/ 所/ 设置/ 的/ 时间/ 值/ ./ 树枝/ 节点/ 发送/ 数据包/ 的/ 主要/ 步骤/ 如下/ :/ (/ 1/ )/ 将/ 自身/ 产生/ 的/ 数据/ 和/ 所/ 接收/ 到/ 的/ 来自/ 其子/ 节点/ 的/ 数据/ 采用/ 段间/ 编码/ 或者/ 段/ 内/ 编码/ (/ 编码方法/ 见/ 后述/ )/ 利用/ 式/ (/ 4/ )/ 生成/ M/ 个/ S/ -/ RS/ 码字/ ./ (/ 2/ )/ 初始化/ Num/ _/ trial/ =/ 0/ ,/ Idx/ _/ word/ =/ 1/ ,/ Num/ _/ rcv/ =/ 0/ ./ (/ 3/ )/ 在/ M/ 个/ S/ -/ RS/ 码字/ 中/ 取出/ 第/ Idx/ _/ word/ 个/ Page6/ 码字/ ,/ 将/ 之/ 封装/ 成/ 一个/ IEEE802/ ./ 15.4/ 帧/ ,/ 把/ 所/ 组成/ 的/ 帧/ 发送给/ 父/ 节点/ ,/ 并/ 设置/ 帧/ 超时/ 定时器/ 的/ 值/ 为/ ω/ ack/ ./ (/ 4/ )/ 如果/ 在/ ω/ ack/ 时间/ 间隔/ 内/ 未能/ 收到/ 来自/ 父/ 节点/ 的/ ACK/ 包/ (/ 确认/ 包/ )/ ,/ 则/ 重传/ 数据包/ ,/ 直至/ 发送/ 次数/ 达到/ σ/ +/ 1/ ./ 否则/ (/ 说明/ 父/ 节点/ 已经/ 正确/ 接收/ 到/ 所/ 发送/ 的/ 数据包/ )/ ,/ 将/ 已经/ 被/ 接收/ 的/ 数据包/ 个数/ Num/ _/ rcv/ 加/ 1/ ,/ 并/ 判断/ 等式/ “/ Num/ _/ rcv/ =/ n/ ”/ 是否/ 成立/ ./ 若/ 成立/ ,/ 则/ 说明/ 父/ 节点/ 已经/ 收到/ n/ 个/ 码字/ ,/ 足以/ 解码/ ,/ 因而/ 停止/ 发送/ 码字/ ;/ 否则/ (/ 说明/ 父/ 节点/ 因未/ 收足/ n/ 个/ 码字/ 而/ 无法/ 解码/ )/ ,/ 取出/ 下/ 一个/ 码字/ 继续/ 发送/ ./ 从图/ 1/ 可见/ ,/ 在/ S/ -/ RS/ 数据/ 收集/ 策略/ 中/ ,/ 树枝/ 节点/ 的/ MAC/ 层/ 采用/ IEEE802/ ./ 15.4/ 的/ 重传/ 和/ 确认/ 机制/ ./ 发送/ 方只/ 需/ 收到/ 其父/ 节点/ 的/ n/ 个/ 确认/ 包/ 就/ 停止/ 发送/ 剩余/ 的/ 码字/ ./ 从式/ (/ 4/ )/ 可以/ 看出/ :/ 码字/ c1/ ,/ c2/ ,/ …/ ,/ cn/ 就是/ 源/ 信息/ 符/ m0/ ,/ m1/ ,/ …/ ,/ mn/ -/ 1/ ./ 因此/ ,/ 接收/ 方在/ 接收/ 到/ 包含/ 码字/ c1/ ,/ c2/ ,/ …/ ,/ cn/ 的/ 数据包/ 时/ ,/ 不/ 需要/ 解码/ ./ 在/ 接收/ 到/ n/ / 个/ 原始/ 信息/ 符号/ (/ n/ / / n/ )/ 后/ ,/ 接收/ 方将/ 之/ 代入/ 到式/ (/ 4/ )/ ,/ 就/ 可以/ 得到/ 包含/ 其余/ n/ -/ n/ / 个/ 信息/ 符/ 的/ n/ -/ n/ / 元满/ 秩/ 线性方程组/ ,/ 通过/ 高斯消/ 元法/ 解码/ 就/ 可以/ 得到/ 未知/ 的/ n/ -/ n/ / 个/ 信息/ 符/ ./ 因此/ ,/ 在/ 理想/ 的/ 链路/ 状态/ 下/ (/ 如/ 链路/ 数据包/ 传递/ 率/ 接近/ 1/ )/ ,/ 本文/ 的/ S/ -/ RS/ 数据/ 收集/ 策略/ 只/ 需要/ 传递/ n/ 个/ 码字/ c1/ ,/ c2/ ,/ …/ ,/ cn/ 即/ 原始/ 信息/ 符/ m0/ ,/ m1/ ,/ …/ ,/ mn/ -/ 1/ ,/ 不/ 需要/ 增加/ 额外/ 的/ 编码/ 开销/ ./ 在/ S/ -/ RS/ 数据/ 收集/ 策略/ 中/ ,/ 取/ 其中/ λ/ 为/ 正整数/ ,/ 称为/ 冗余度/ ,/ 且/ 令/ q/ =/ 2r/ ./ 这样/ ,/ 有限/ 域/ GF/ (/ q/ )/ 变为/ GF/ (/ 2r/ )/ ,/ 它/ 的/ 每个/ 元素/ 占/ r/ 比特/ ./ 我们/ 称/ 有限/ 域/ GF/ (/ 2r/ )/ 的/ 任意/ 一个/ 元素/ 为/ 一个/ 信息/ 单元/ (/ InformationUnit/ ,/ IU/ )/ ./ 此外/ ,/ 设/ 节点/ 要/ 发送/ 的/ 传感/ 数据/ 为/ X/ 个/ ,/ 每个/ 传感/ 数据/ 占/ θ/ 个/ IU/ ,/ 因而/ ,/ 每个/ 节点/ 需要/ 发送/ 的/ 传感/ 数据量/ 为/ X/ θ/ 个/ IU/ ./ S/ -/ RS/ 数据/ 收集/ 策略/ 采用/ 两种/ 编码方案/ :/ “/ 段/ 内/ 编码/ ”/ 和/ “/ 段间/ 编码/ ”/ [/ 33/ ]/ ./ 这/ 两种/ 方案/ 的/ 共同点/ 在于/ :/ 首先/ 对要/ 发送/ 的/ X/ 个/ 传感/ 数据/ 进行/ 分段/ ,/ 使得/ 每/ 段/ 包含/ x/ 个/ 传感/ 数据/ ,/ 共/ 产生/ s/ =/ X/ // x/ 段/ ,/ 记为/ D1/ ,/ D2/ ,/ …/ ,/ Ds/ ./ 显然/ ,/ 每个/ 段/ 有/ f/ =/ x/ θ/ 个/ IU/ ,/ 用/ wij/ 表示/ 段/ Di/ 的/ 第/ j/ 个/ IU/ ,/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ s/ ,/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ f/ ./ 在/ X/ // x/ 不是/ 整数/ 时/ ,/ 产生/ s/ +/ 1/ 段/ ,/ 如图/ 2/ 所示/ ./ 为了/ 减小/ 发送/ 的/ 比特/ 数/ ,/ 在/ 末段/ 所/ 含/ 传感/ 数据/ 不足/ x/ 时/ ,/ 我们/ 不/ 采用/ 末尾/ 填补/ 0/ 的/ 方式/ ,/ 而是/ 将/ 该段/ 单独/ 使用/ ARQ/ 发送给/ 父/ 节点/ ./ 在/ 段/ 内/ 编码方案/ 中/ ,/ 编码/ 操作/ 是/ 逐段/ 进行/ 的/ ,/ 即/ 在/ 每个/ 段/ 内/ 的/ IU/ 之间/ 进行/ ,/ 它/ 将/ Di/ 的/ f/ 个/ 信息/ 符/ wi1/ ,/ wi2/ ,/ …/ ,/ wif/ 作为/ S/ -/ RS/ 的/ 编码/ 输入/ ,/ 使用/ 式/ (/ 4/ )/ 编码/ ,/ 生成/ M/ 个/ S/ -/ RS/ 码字/ ./ 具体地说/ ,/ 对于/ Di/ ,/ 用/ cij/ 表示/ 由/ Di/ 编码/ 得到/ 的/ 第/ j/ 个/ 码字/ ,/ 则/ 段/ 内/ 编码方案/ 生成/ 的/ M/ 个/ S/ -/ RS/ 码字/ 如下/ :/ cij/ =/ 其中/ M/ 的/ 值/ 由式/ (/ 6/ )/ 确定/ ,/ 且取/ n/ =/ f/ ,/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ s/ ./ 段/ 内/ 编码方案/ 的/ 编码/ 结果/ 如图/ 3/ 所示/ ./ 当/ X/ 个/ 传感/ 数据/ 的/ s/ 个/ 段/ 都/ 编码/ 完成/ 后/ ,/ 式/ (/ 7/ )/ 产生/ 由/ S/ -/ RS/ 码字/ 组成/ 的/ 矩阵/ (/ 犮/ i/ ,/ j/ )/ s/ ×/ M/ ,/ 编码/ 节点/ 把/ 这个/ 矩阵/ 的/ 每个/ 列/ 向量/ 封装/ 成/ 一个/ IEEE802/ ./ 15.4/ 帧/ 发送/ 出去/ ./ 例如/ ,/ 第/ j/ 个列/ 向量/ (/ 犮/ 1/ ,/ j/ ,/ 犮/ 2/ ,/ j/ ,/ …/ ,/ 犮/ s/ ,/ j/ )/ T/ 封装/ 成/ 的/ MAC/ 帧/ 格式/ 如图/ 3/ 的/ 最后/ 一行/ 所示/ ,/ 其中/ MHR/ 和/ FCS/ 分别/ 为/ IEEE802/ ./ 15.4/ MAC/ 帧/ 头部/ 和校验/ 和/ ,/ enc/ _/ sn/ 为/ 数据包/ 序号/ (/ 长度/ 为/ 1/ 字节/ )/ ,/ j/ 为/ 编码/ 向量/ 的/ 下标/ (/ 长度/ 为/ 1/ 字节/ )/ ,/ f/ 为/ 段/ 的/ 信息/ 符/ 个数/ (/ 长度/ 为/ 1/ 字节/ )/ ./ 在/ 段间/ 编码方案/ 中/ ,/ 编码/ 操作/ 是/ 跨段/ 进行/ 的/ ,/ 即/ 把/ 各段/ 处于/ 相同/ 位置/ 的/ IU/ 进行/ S/ -/ RS/ 编码/ ./ 用/ hij/ 表示/ 由段/ D1/ ,/ D2/ ,/ …/ ,/ Ds/ 中/ 第/ j/ 个/ IU/ 编码/ 得到/ 的/ S/ -/ RS/ 码/ 的/ 第/ i/ 个/ 码字/ ,/ 那么/ 段间/ 编码方案/ 所/ 生成/ 的/ 码字/ 满足/ :/ Page7hij/ =/ 其中/ M/ 的/ 值/ 由式/ (/ 6/ )/ 确定/ ,/ 且取/ n/ =/ s/ ,/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ f/ ./ 段间/ 编码方案/ 的/ 编码/ 结果/ 如图/ 4/ [/ 33/ ]/ 所示/ ./ 当/ X/ 个/ 传感/ 数据/ 的/ s/ 个/ 段/ 都/ 编码/ 完成/ 后/ ,/ 式/ (/ 8/ )/ 产生/ 由/ S/ -/ RS/ 码字/ 组成/ 的/ 矩阵/ (/ 犺/ i/ ,/ j/ )/ M/ ×/ f/ ,/ 编码/ 节点/ 把/ 这个/ 矩阵/ 的/ 每个/ 行向量/ 封装/ 成/ 一个/ IEEE802/ ./ 15.4/ MAC/ 帧/ 发送/ 出去/ ./ 例如/ ,/ 第/ i/ 个/ 行向量/ (/ 犺/ i1/ ,/ 犺/ i2/ ,/ …/ ,/ 犺/ if/ )/ T/ 封装/ 成/ 的/ MAC/ 帧/ 格式/ 如图/ 4/ 的/ 最后/ 一行/ 所示/ ./ 其中/ ,/ i/ 为/ 编码/ 向量/ 下标/ (/ 长度/ 为/ 1/ 字节/ )/ ,/ s/ 为/ 段数/ (/ 长度/ 为/ 1/ 字节/ )/ ./ 上述/ 两种/ 编码方法/ 有/ 各自/ 的/ 特点/ ./ 段/ 内/ 编码/ 的/ 特点/ 是/ :/ 对于/ 给定/ 的/ x/ ,/ 每个/ 帧/ 携带/ 的/ 码字/ 个数/ 为/ s/ ,/ 它/ 随/ X/ 变化/ 而/ 变化/ ,/ 但/ 可/ 发送/ 的/ 编码/ 包/ 的/ 个数/ M/ 不变/ ;/ 每个/ 段/ 内前/ f/ 个/ 码字/ 是/ 原始/ 信息/ 符/ (/ 即/ OIS/ )/ ./ 由于/ 一个/ 传感/ 数据/ 包含/ θ/ 个/ IU/ ,/ 并且/ 每个/ 帧/ 中/ 连续/ 存放/ 的/ 码字/ 来自/ 不同/ 段/ 的/ 数据/ ,/ 所以/ 不能/ 保证/ 对于/ 某个/ 收到/ 的/ 段/ ,/ 其前/ f/ 个/ 码字/ 是/ 连续/ 的/ ./ 段间/ 编码/ 的/ 特点/ 是/ :/ 对于/ 给定/ 的/ x/ ,/ 每个/ 帧/ 携带/ 的/ 码字/ 个数/ 是/ 固定/ 的/ ,/ 这/ 是因为/ 一个/ 帧/ 携带/ 的/ 码字/ 个数/ 为/ f/ =/ x/ θ/ (/ θ/ 一般/ 是/ 一/ 固定/ 常数/ )/ ,/ 但/ 可/ 发送/ 的/ 编码/ 包/ 的/ 个数/ M/ 与/ s/ 有关/ ;/ 每个/ 帧/ 中/ 的/ 码字/ 是/ 连续/ 的/ ./ 5S/ -/ RS/ 数据/ 收集/ 策略/ 的/ 能耗/ 、/ 时延/ 及其/ 优化/ 下面/ 以/ 采用/ 段间/ 编码方式/ 为例/ ,/ 推导/ 本文/ 提出/ 的/ S/ -/ RS/ 数据/ 收集/ 策略/ 的/ 总/ 能耗/ 、/ 数据/ 收集/ 率/ 、/ 数据/ 收集/ 时延/ (/ 在/ 采用/ 段/ 内/ 编码/ 时/ ,/ 推导/ 过程/ 类似/ ,/ 此处/ 不予/ 赘述/ )/ ./ 考虑/ 到/ 在/ 一些/ WSN/ 应用/ 中/ ,/ sink/ 节点/ 每隔/ 一段时间/ 收集/ 数据/ ,/ 以下/ 称/ sink/ 一次/ 收集/ 数据/ 时间段/ 为/ 一个/ “/ 数据/ 收集/ 周期/ ”/ ./ 我们/ 先/ 分析/ 节点/ 将/ 自己/ 缓存/ 的/ 传感/ 数据/ 采用/ 上述/ S/ -/ RS/ 数据/ 收集/ 策略/ 发送给/ 其父/ 节点/ 收发/ 双方/ 产生/ 的/ 总/ 能耗/ ,/ 并/ 由此/ 导出/ 整个/ 网络/ 的/ 总/ 能耗/ 、/ sink/ 节点/ 的/ 数据/ 收集/ 率/ 、/ sink/ 节点/ 收集/ 数据/ 的/ 时延/ ./ 考虑/ 到/ 目前/ 基于/ 树/ 的/ 数据/ 收集/ 协议/ 如/ CTP/ (/ CollectionTreeProtocol/ )/ [/ 36/ ]/ 被/ 广泛应用/ 于/ 无线/ 传感器/ 网络/ 中/ ,/ 本文/ 做/ 如下/ 假设/ :/ 在/ 所/ 研究/ 的/ WSN/ 中/ ,/ 已经/ 用/ 现成/ 的/ 协议/ 构建/ 了/ 一棵树/ ,/ 节点/ 沿着/ 这棵树/ 将/ 收集/ 到/ 的/ 数据/ 传递/ 到/ sink/ 节点/ ./ 此外/ ,/ 我们/ 假设/ [/ 33/ ]/ :/ 每个/ 节点/ 配置/ 了/ 相同/ 型号/ 的/ 传感器/ ,/ 每个/ 传感器/ 在/ 每/ 一个/ 数据/ 收集/ 周期/ 内/ 产生/ 的/ 数据量/ 相同/ ,/ 均/ 为/ L0/ / Γ/ ,/ 其中/ ,/ Γ/ 为/ IEEE802/ ./ 15.4/ MAC/ 帧/ 的/ 有效载荷/ ,/ L0/ =/ θ/ r/ ,/ Γ/ 和/ L0/ 的/ 单位/ 均/ 为/ 比特/ ./ 也就是说/ ,/ 每个/ 节点/ 在/ 一个/ 数据/ 收集/ 周期/ 内/ 产生/ 的/ 数据量/ 可以/ 由/ 一个/ MAC/ 帧/ 携带/ ./ 本文/ 用/ H/ 表示/ 每个/ 帧/ 的/ MAC/ 协议/ 层/ 头部/ (/ 包括/ FCS/ )/ 长度/ (/ 单位/ :/ 比特/ )/ ./ 5.1/ S/ -/ RS/ 数据/ 收集/ 策略/ 的/ 能耗/ 本文/ 采用/ 文献/ [/ 37/ ]/ 的/ 能耗/ 模型/ ,/ 即当/ 一个/ 节点/ 发送/ l/ 比特/ 数据/ 给/ 相距/ 为/ d/ 的/ 另/ 一/ 节点/ 时/ ,/ 发送/ 方/ 的/ 能耗/ 为/ 接收/ 方/ 的/ 能耗/ 其中/ ,/ γ/ 为/ 路径/ 衰减/ 指数/ ,/ 在/ 2/ ~/ 4/ 之间/ 取值/ ;/ ε/ 1/ 为/ 发送/ 单位/ 比特/ 无线电/ 放大器/ 的/ 能耗/ ;/ ε/ 0/ 为/ 编码/ 、/ 调制/ 单位/ 比特/ 的/ 能耗/ [/ 37/ ]/ ./ 以/ Ω/ 表示/ WSN/ 全体/ 节点/ 的/ 集合/ ,/ T/ 表示/ 数据/ 收集/ 树/ ,/ Ω/ 0/ 表示/ 全体/ 树叶/ 节点/ 的/ 集合/ ./ 对于/ 节点/ k/ ∈/ Ω/ ,/ 以/ pk/ 表示/ 它/ 与/ 其父/ 节点/ 间/ 的/ 无线/ 链路/ 传递/ 数据包/ 成功/ 概率/ ,/ dk/ 表示/ 它/ 与/ 其父/ 节点/ 的/ 距离/ ,/ Lk/ 表示/ 它/ 发送/ 的/ 数据包/ 长度/ ,/ Xk/ 表示/ 它/ 发送/ 的/ 传感/ 数据/ 个数/ ,/ 特殊/ 地/ ,/ 当/ k/ 为/ sink/ 节点/ 时/ ,/ Xk/ 表示/ 为/ 一个/ 数据/ 收集/ 周期/ 内/ 到达/ sink/ 的/ 传感/ 数据/ 个数/ ./ 此外/ ,/ 以/ CN/ (/ k/ )/ 表示/ 节点/ k/ 的/ 子/ 节点/ 集合/ ,/ σ/ 表示/ IEEE802/ ./ 15.4/ MAC/ 层/ 设定/ 的/ 帧/ 的/ 最大/ 重传/ 次数/ ./ 首先/ ,/ 分析/ 节点/ k/ 使用/ 自动/ 重传/ 机制/ 即/ ARQ/ 将/ IEEE802/ ./ 15.4/ MAC/ 帧/ (/ 以下/ MAC/ 帧/ 与/ 数据包/ 不/ 加/ 区别/ )/ 发送给/ 父/ 节点/ 的/ 能耗/ ./ 易知/ ,/ 节点/ k/ 在/ 给/ 其父/ 节点/ 发送/ (/ 包括/ 重/ 发/ )/ 一个/ 数据包/ 时/ ,/ 它/ 的/ 发送/ 次数/ 及其/ 对应/ 的/ 概率/ 如表/ 1/ 所示/ ./ Page8/ 发送/ 次数/ σ/ +/ 1/ σ/ +/ 1/ 由表/ 1/ 可知/ ,/ 在/ MAC/ 层/ 的/ 最大/ 重传/ 次数/ 为/ σ/ 时/ ,/ 节点/ k/ 把/ 一个/ 数据包/ 成功/ 传递/ 给父/ 节点/ 的/ 概率/ 为/ 根据/ 表/ 1/ 以及/ 式/ (/ 9/ )/ 和/ 式/ (/ 10/ )/ 可以/ 得到/ ,/ 节点/ k/ 在/ 发送/ 一个/ 长度/ 为/ Lk/ 比特/ 的/ IEEE802/ ./ 15.4/ MAC/ 帧/ 给/ 它/ 的/ 父/ 节点/ 时/ ,/ 收发/ 双方/ 所/ 产生/ 的/ 平均/ 能耗/ 为/ [/ 33/ ]/ EARQk/ (/ Lk/ )/ =/ P/ 式/ 中/ ,/ E/ 产生/ 的/ 平均/ 能耗/ :/ (/ S/ )/ k/ (/ Lk/ )/ =/ [/ Etx/ (/ Lk/ ,/ dk/ )/ +/ Erx/ (/ Lk/ )/ ]/ ∑/ E/ 其中/ ,/ β/ ack/ 表示/ ACK/ 包/ 的/ 长度/ ,/ 占/ 5/ 字节/ [/ 1/ ]/ ,/ 即/ 40/ 比特/ ./ 在/ 式/ (/ 13/ )/ 中/ ,/ 第/ 1/ 行是/ 收发/ 数据/ 时/ 双方/ 产生/ 的/ 能耗/ ,/ 求和/ 符号/ 后面/ 的/ 式子/ 表示/ 在/ 发送/ 成功/ 条件/ 下/ 所/ 需要/ 的/ 平均/ 发送/ 次数/ ;/ 第/ 2/ 行是/ 双方/ 收发/ ACK/ 包/ 产生/ 的/ 能耗/ ./ 此外/ ,/ E/ 包/ 失败/ 的/ 条件/ 下/ (/ 此时/ 共/ 发送/ 了/ σ/ +/ 1/ 次/ )/ ,/ 所/ 产生/ 的/ 能耗/ :/ E/ (/ F/ )/ k/ (/ Lk/ )/ =/ (/ σ/ +/ 1/ )/ [/ Etx/ (/ Lk/ ,/ dk/ )/ +/ Erx/ (/ Lk/ )/ ]/ 其次/ ,/ 分析/ 采用/ S/ -/ RS/ 策略/ 时/ 节点/ h/ 发送/ 数据包/ 收发/ 双方/ 所/ 产生/ 的/ 能耗/ ./ 根据/ 段间/ 编码方式/ ,/ 节点/ h/ 将/ Xh/ 个/ 传感/ 数据/ 分成/ s/ 段/ ,/ 每/ 段/ 包含/ x/ 个/ 传感/ 数据/ 即/ f/ =/ x/ θ/ 个/ IU/ ./ 这样/ ,/ 剩余/ X/ / 感/ 数据/ ,/ 其中/ ,/ mod/ 表示/ 整数/ 的/ 求/ 模数/ 运算/ ./ 由于/ 采用/ 段间/ 编码/ ,/ 此时/ n/ =/ f/ ,/ 根据/ 式/ (/ 6/ )/ ,/ 节点/ h/ 最多/ 可/ 发送/ Mh/ =/ λ/ f/ 个/ 编码/ 包/ ,/ 其中/ 前/ s/ 个/ 包中/ 包含/ 的/ 码字/ 是/ 未经/ 编码/ 的/ 源/ 信息/ 符/ (/ 以下/ 称之为/ “/ 明文/ ”/ )/ ,/ 即/ 第/ i/ 个/ 编码/ 包/ 的/ 数据/ 为/ 原始/ 第/ i/ 个/ 段/ 的/ 数据/ (/ i/ / s/ )/ ./ 节点/ h/ 发送/ 的/ 编码/ 包/ 长度/ 为/ Lh/ =/ Lphy/ +/ H/ +/ fr/ +/ 24/ ./ 其中/ ,/ Lphy/ 是/ 物理层/ 头部/ (/ 包括/ 同步/ 前缀/ )/ 长度/ ,/ 它/ 依赖于/ 所/ 采用/ 的/ 物理层/ ;/ 数值/ 24/ 是/ 编码/ 序号/ enc/ _/ sn/ (/ 1/ 字节/ )/ 、/ 编码/ 向量/ 下标/ i/ (/ 1/ 字节/ )/ 和/ 段数/ s/ (/ 1/ 字节/ )/ 所/ 占/ 的/ 比特/ 数/ (/ 见图/ 4/ )/ ./ 由于/ 节点/ h/ 将/ s/ 段/ 数据编码/ 封装/ 成/ Mh/ 个/ 编码/ 包/ ,/ 每个/ 编码/ 包/ 采用/ ARQ/ 发送/ ,/ 使得/ 其父/ 节点/ 只/ 需/ 成功/ 接收/ 到/ s/ 个/ 编码/ 包/ 就/ 能够/ 解码/ 出/ 原始/ s/ 段/ 数据/ ./ 为了/ 使父/ 节点/ 收到/ s/ 个/ 编码/ 包以/ 成功/ 解码/ ,/ 节点/ h/ 发送/ 的/ 编码/ 包/ 个数/ 及其/ 对应/ 的/ 概率/ 如表/ 2/ 所示/ ,/ 其中/ ,/ P/ 编码/ 包/ 给/ 其父/ 节点/ 的/ 概率/ ./ 发送/ 编码/ 包/ 个数/ ss/ +/ 1s/ +/ 2/ …/ Mh/ -/ 1CMhMh/ 由于/ 节点/ h/ 所/ 发送/ 的/ Mh/ 个/ 编码/ 包中/ 有/ s/ 个/ 编码/ 包/ 到达/ 其父/ 节点/ 的/ 概率/ Gh/ 等于/ 随机/ 事件/ “/ 在/ 父/ 节点/ 成功/ 接收/ 到/ s/ 个/ 编码/ 包时/ ,/ 节点/ h/ 恰好/ 发送/ i/ 个/ 数据包/ (/ i/ =/ s/ ,/ s/ +/ 1/ ,/ …/ ,/ Mh/ )/ ”/ 的/ 概率/ 之/ 和/ ,/ 由表/ 2/ 可得且/ 节点/ h/ 发送给/ 父/ 节点/ 的/ 编码/ 包/ 个数/ 均值/ 为/ Mhah/ =/ ∑/ i/ =/ s/ 因此/ ,/ 在/ 节点/ h/ 发送/ 编码/ 包给父/ 节点/ 时/ 收发/ 双方/ 产生/ 的/ 平均/ 能耗/ (/ 数学/ 期望/ )/ 为/ ETh/ [/ =/ Gh/ ∑/ 其中/ ,/ 方括号/ 内/ 第/ 1/ 项/ 表示/ 在/ 父/ 节点/ 成功/ 接收/ 到/ s/ 个/ 段/ 这个/ 条件/ 下/ 节点/ h/ 发送/ 的/ 编码/ 包/ 个数/ (/ 均值/ )/ ,/ 第/ 2/ 项是/ 在/ 父/ 节点/ 未能/ 成功/ 接收/ 到/ s/ 个/ 数据/ 段/ 条件/ 下/ 节点/ h/ 发送/ 的/ 编码/ 包/ 个数/ (/ 这时/ Mh/ 个/ 编码/ 包都/ 被/ 发送/ )/ ./ EARQ/ 确定/ ./ 在/ S/ -/ RS/ 数据/ 收集/ 策略/ 中/ ,/ 当/ 剩余/ 的/ 传感/ 数据/ X/ / h/ >/ 0/ 时/ ,/ 节点/ h/ 使用/ ARQ/ 发送/ 这/ X/ / Page9/ 据/ ,/ 收发/ 双方/ 产生/ 的/ 平均/ 能耗/ ET/ / 获得/ [/ 33/ ]/ :/ ET/ / h/ =/ (/ 1/ -/ ph/ )/ σ/ +/ 1/ (/ σ/ +/ 1/ )/ Lh/ (/ 2/ ε/ 0/ +/ ε/ 1d/ γ/ [/ 1/ -/ (/ 1/ -/ ph/ )/ σ/ +/ 1/ {/ ]/ 40/ (/ 2/ ε/ 0/ +/ ε/ 1d/ γ/ [/ 1/ -/ (/ σ/ +/ 2/ )/ (/ 1/ -/ ph/ )/ σ/ +/ 1/ +/ (/ σ/ +/ 1/ )/ (/ 1/ -/ ph/ )/ σ/ +/ 2/ ]/ 其中/ ,/ 珟/ Lh/ 是/ X/ / 比特/ 数/ 之/ 和/ ,/ 即/ 珟/ Lh/ =/ Lphy/ +/ (/ Xh/ -/ sx/ )/ θ/ r/ +/ H/ ./ 对于/ 任意/ 一个/ 节点/ z/ ,/ 以/ Ez/ 表示/ 在/ 采用/ S/ -/ RS/ 数据/ 收集/ 策略/ 时/ ,/ 收集/ 以/ 节点/ z/ 为根/ 的/ 子/ 树上/ 所有/ 节点/ 数据/ 所/ 产生/ 的/ 能耗/ ./ 我们/ 有/ 下述/ 递归/ 式子/ [/ 33/ ]/ :/ 其中/ ,/ 当/ h/ ∈/ Ω/ 0/ 时/ ,/ 珟/ Eh/ 由式/ (/ 12/ )/ 计算/ ,/ 即/ 珟/ Eh/ =/ EARQ/ 当/ h/ ∈/ Ω/ \/ Ω/ 0/ 时/ ,/ 珟/ Eh/ 由下式/ 计算/ :/ 它/ 表示/ 节点/ h/ 发送/ Xh/ 个/ 传感/ 数据/ ,/ 收发/ 双方/ 产生/ 的/ 能耗/ 均值/ ./ 特别/ 地/ ,/ 当/ z/ 为/ sink/ 节点/ 时/ ,/ Esink/ 即为/ 一个/ 数据/ 收集/ 周期/ 内/ 数据/ 收集/ 的/ 总/ 能耗/ ./ 最后/ ,/ 举/ 一个/ 例子/ 来/ 说明/ ,/ 如何/ 利用/ 递归/ 式子/ (/ 19/ )/ 计算/ 以/ 节点/ z/ 为根/ 的/ 子/ 树上/ 所有/ 节点/ 传递数据/ 所/ 产生/ 的/ 能耗/ Ez/ ./ 假设/ 节点/ z/ 的/ 所有/ 子孙/ 节点/ a/ ,/ b/ ,/ c/ ,/ a1/ ,/ a2/ ,/ c1/ ,/ c2/ ,/ c3/ 构成/ 的/ 拓扑/ 结构/ 如图/ 5/ 所示/ ./ 这样/ ,/ z/ 的/ 子/ 节点/ 集合/ CN/ (/ z/ )/ =/ {/ a/ ,/ b/ ,/ c/ }/ ,/ 由式/ (/ 19/ )/ 得到/ Ez/ =/ (/ Ea/ +/ 珟/ Ea/ )/ +/ (/ Eb/ +/ 珟/ Eb/ )/ +/ (/ Ec/ +/ 珟/ Ec/ )/ ,/ 其中/ ,/ 珟/ Ea/ 和/ 珟/ Ec/ 因/ a/ 和/ c/ 是/ 树枝/ 节点/ 由式/ (/ 20/ )/ 计算/ ,/ 而/ 珟/ Eb/ 因/ b/ 是/ 叶子/ 节点/ 由式/ (/ 12/ )/ 计算/ ./ 此外/ ,/ 由于/ CN/ (/ b/ )/ 是/ 空集/ ,/ 由式/ (/ 19/ )/ 知/ ,/ Eb/ =/ 0/ ./ 由于/ 节点/ a/ 有/ 两个/ 子/ 节点/ a1/ 和/ a2/ ,/ 即/ CN/ (/ a/ )/ =/ {/ a1/ ,/ a2/ }/ ,/ 利用/ 式/ (/ 19/ )/ 得/ Ea/ =/ (/ Ea1/ +/ 珟/ Ea1/ 此/ ,/ Ea1/ =/ Ea2/ =/ 0/ ,/ 从而/ ,/ Ea/ =/ 珟/ Ea1/ +/ 珟/ Ea2/ 均/ 由式/ (/ 12/ )/ 计算/ ./ 同理/ ,/ Ec/ =/ 珟/ Ec1/ +/ 珟/ Ec2/ +/ 珟/ Ec3/ 珟/ Ec2/ (/ 珟/ Ea1/ +/ 珟/ Ea2/ +/ 珟/ Ea/ )/ +/ 珟/ Eb/ +/ (/ 珟/ Ec1/ +/ 珟/ Ec2/ +/ 珟/ Ec3/ +/ 珟/ Ec/ )/ ,/ 其中/ ,/ 珟/ Ea/ 和/ 珟/ Ec/ 由式/ (/ 20/ )/ 计算/ ,/ 其他/ 项均/ 由式/ (/ 12/ )/ 计算/ ./ )/ +/ (/ Ea2/ +/ 珟/ Ea2/ 和/ 珟/ Ec35/ ./ 2S/ -/ RS/ 策略/ 的/ 数据/ 收集/ 率/ 我们/ 把/ S/ -/ RS/ 数据/ 收集/ 策略/ 的/ 数据/ 收集/ 率/ ρ/ 定义/ 为/ :/ 在/ 一个/ 数据/ 收集/ 周期/ 内/ ,/ 到达/ sink/ 节点/ 的/ 数据包/ 个数/ 与/ 网络/ 中/ 节点/ 总数/ 的/ 比值/ ,/ 即/ 平均/ 每个/ 节点/ 传递/ 到/ sink/ 节点/ 的/ 数据包/ 个数/ ./ 以/ Ah/ 表示/ 节点/ h/ 所/ 发送/ 的/ Xh/ 个/ 传感/ 数据/ 中/ 到达/ 父/ 节点/ 的/ 传感/ 数据/ 平均/ 个数/ ,/ 则/ 数据/ 收集/ 率/ 可以/ 表示/ 为式/ 中/ ,/ |/ Ω/ |/ 是/ 网络/ 中/ 节点/ 个数/ ./ 下面/ 推导/ Ah/ 的/ 计算公式/ ./ 显然/ ,/ 在/ S/ -/ RS/ 数据/ 收集/ 策略/ 中/ ,/ 分段/ 剩余/ 下来/ 的/ 尾部/ X/ / 在/ 采用/ ARQ/ 方式/ 发送/ 时/ 发送/ 成功/ 的/ 数据包/ 平均/ 个数/ 为/ X/ / 感/ 数据/ ,/ 在/ 采用/ S/ -/ RS/ 数据/ 收集/ 策略/ 时/ ,/ 发送/ 成功/ 的/ 概率/ 为/ Gh/ ,/ 故其/ 发送/ 成功/ 的/ 平均/ 个数/ 为/ xsGh/ ./ 由于/ 在/ 参与/ 编码/ 的/ xs/ 个/ 传感/ 数据/ 中/ ,/ 前/ s/ 个/ 帧/ 中/ 包含/ 的/ 码字/ 是/ 明文/ (/ 即/ 原来/ 的/ 信息/ 符/ ,/ 不/ 需要/ 解码/ )/ ,/ 因此/ ,/ 即使/ 接收/ 方/ 未能/ 正确/ 收齐/ s/ 个/ 帧/ 而/ 导致/ 解码/ 失败/ ,/ 接收/ 方/ 依然/ 可以/ 从/ 收到/ 的/ 帧/ 中/ 获得/ 部分/ 不/ 需要/ 解码/ 的/ 原/ 信息/ 符/ ./ 由于/ 节点/ h/ 产生/ 的/ 编码/ 包/ 个数/ 为/ Mh/ =/ λ/ s/ ,/ 因此/ ,/ 接收/ 方在/ 未能/ 正确/ 收齐/ s/ 个/ 帧/ 导致/ 解码/ 失败/ 的/ 条件/ 下/ ,/ 能够/ 正确/ 收到/ 明文/ 帧/ 的/ 所有/ 可能/ 情况/ 为/ :/ 接收/ 方/ 成功/ 收到/ i/ 个/ 明文/ 帧/ ,/ 其他/ Mh/ -/ i/ 个/ 帧/ 中/ 最/ 多/ 被/ 正确/ 接收/ 的/ 帧/ 数为/ s/ -/ i/ -/ 1/ 个/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ s/ -/ 1/ )/ ./ 考虑/ 到/ 在/ 采用/ 段间/ 编码/ 时/ ,/ 成功/ 接收/ 一个/ 明文/ 帧/ 意味着/ 成功/ 接收/ 到/ x/ 个/ 传感/ 数据/ ./ 于是/ ,/ 我们/ 得到/ 节点/ h/ 所/ 发送/ 的/ Xh/ 个/ 传感/ 数据/ 中/ 到达/ 父/ 节点/ 的/ 传感/ 数据/ 平均/ 个数/ [/ 33/ ]/ :/ Ah/ =/ x/ ∑/ 值得/ 说明/ 的/ 是/ ,/ 对于/ 任意/ 一个/ 节点/ z/ ,/ 它/ 需要/ 发送/ 的/ 传感/ 数据/ 平均/ 个数/ 为/ 其中/ ,/ 数字/ 1/ 表示/ 节点/ z/ 自己/ 产生/ 的/ 一个/ 传感/ 数据/ ./ 5.3/ S/ -/ RS/ 策略/ 的/ 数据/ 收集/ 时延/ 为了/ 支持/ WSN/ 的/ 一些/ 实时/ 应用/ ,/ IEEE802/ ./ 15.4/ 标准/ 提出/ 了/ 超帧/ (/ superframe/ )/ 结构/ [/ 1/ ]/ ,/ 使/ 节点/ 能够/ 在/ 超帧/ 的/ 免/ 竞争/ 时期/ (/ Contention/ -/ FreePeriod/ ,/ CFP/ )/ Page10/ 中/ 使用/ 其/ GTS/ (/ GuaranteedTimeSlots/ )/ 发送数据/ ./ 以下/ 基于/ 超帧/ 结构/ ,/ 对/ S/ -/ RS/ 的/ 时延/ 进行/ 分析/ ./ 本文/ 将/ 节点/ A/ 到/ 节点/ B/ 的/ 数据包/ 时延/ 定义/ 为/ :/ 从/ 节点/ A/ 开始/ 发送/ 该/ 数据包/ 到/ 节点/ B/ 的/ MAC/ 层/ 接收/ 完该/ 数据包/ 这/ 段时间/ ./ 自然/ 地/ ,/ sink/ 节点/ 收集/ 数据/ 的/ 时延/ 定义/ 为/ :/ 网络/ 中/ 任一/ 节点/ 与/ sink/ 节点/ 的/ 端/ 到/ 端/ 时延/ 的/ 最大者/ ,/ 以/ τ/ sink/ 表示/ ./ 首先/ ,/ 分析/ 节点/ k/ 使用/ ARQ/ 发送/ 传感/ 数据/ 给父/ 节点/ 所/ 产生/ 的/ 时延/ ./ 在/ IEEE802/ ./ 15.4/ 标准/ 中/ ,/ 发送/ 方用/ 参数/ macAckWaitDuration/ [/ 1/ ]/ 设置/ 接收/ 方/ 返回/ ACK/ 包/ 的/ 定时器/ 值/ ,/ 即/ ω/ ack/ =/ macAckWaitDuration/ ./ 也就是说/ ,/ 如果/ 发送/ 方在/ ω/ ack/ 时间/ 耗/ 完后/ 尚未/ 收到/ 接收/ 方/ 的/ ACK/ 包/ ,/ 那么/ 节点/ k/ 就/ 认为/ 所/ 发送/ 的/ 数据包/ 丢失/ 从而/ 重传/ 该/ 数据包/ ./ 在/ 一个/ 帧/ 被/ 正常/ 接收/ 时/ ,/ 接收/ 方/ 必须/ 等待时间/ 间隔/ tack/ 才能/ 回复/ ACK/ 帧/ ,/ 其中/ ,/ tack/ 的/ 取值/ 范围/ 为/ [/ 12/ ,/ 32/ ]/ ,/ 其/ 单位/ 为/ 符号/ 时间/ (/ SymbolPeriod/ )/ [/ 1/ ]/ ./ 于是/ ,/ 我们/ 获得/ 结论/ :/ 节点/ k/ 在/ 发送/ 长度/ 为/ Lk/ 的/ 数据包/ 时/ ,/ 每/ 失败/ 一次/ ,/ 耗时/ Lk/ // R/ +/ ω/ ack/ ,/ 其/ 概率/ 为/ 1/ -/ pk/ ;/ 每/ 成功/ 一次/ ,/ 耗时/ Lk/ // R/ +/ tack/ +/ β/ ack/ // R/ +/ tlifs/ ,/ 其/ 概率/ 为/ pk/ ./ 其中/ ,/ R/ 是/ 信道/ 的/ 数据/ 率/ (/ 单位/ :/ bps/ )/ ,/ β/ ack/ 是/ ACK/ 包/ 长度/ (/ 单位/ :/ 比特/ )/ ,/ tlifs/ 是/ 帧/ 间/ 间隔/ ./ 因此/ ,/ 节点/ k/ 每次/ 发送/ 数据包/ 的/ 平均/ 耗时/ (/ 数学/ 期望/ )/ 为/ tpktk/ =/ (/ 1/ -/ pk/ )/ ω/ ack/ +/ 设超/ 帧/ 的/ 时间/ 长度/ 为/ ω/ ,/ 在/ 超帧/ 中/ 分配/ 给/ 节点/ k/ 的/ GTS/ 时间/ 长度/ 为/ ω/ k/ ./ 若/ 节点/ k/ 在/ 超帧/ 的/ GTS/ 时间/ 内/ 不能/ 成功/ 发送/ 一个/ 数据包/ ,/ 则/ 该/ 数据包/ 推迟/ 到/ 下/ 一个/ 超帧/ 的/ GTS/ 时间/ 内/ 发送/ ,/ 而且/ ,/ MAC/ 层/ 允许/ 发送/ 该/ 数据包/ 的/ 最大/ 次数/ 为/ σ/ +/ 1/ ./ 因此/ ,/ 我们/ 需要/ 计算/ 节点/ k/ 发送/ 一个/ 数据包/ 所/ 需/ 的/ 超帧/ 个数/ ./ 由于/ 节点/ k/ 在/ 一个/ 超帧/ 内/ 的/ GTS/ 时间/ 长度/ 为/ ω/ k/ ,/ 故/ 在/ 这/ 段时间/ 内/ 节点/ k/ 可以/ 发送/ (/ 包括/ 重传/ )/ 数据包/ 的/ 平均/ 次数/ 为/ 由表/ 1/ 可知/ ,/ 节点/ k/ 使用/ ARQ/ 发送/ 传感/ 数据/ 给父/ 节点/ 的/ 平均/ 发送/ 次数/ 为/ ETXk/ =/ ∑/ 因此/ 节点/ k/ 使用/ ARQ/ 发送/ 一个/ 数据包/ 所/ 需要/ 的/ GTS/ 平均/ 个数/ 为/ 其中/ ,/ 函数/ ceil/ (/ x/ )/ 表示/ 不/ 小于/ x/ 的/ 最大/ 整数/ ./ 考虑/ 到/ 节点/ k/ 在/ 发送/ 一个/ 数据包/ 时/ ,/ 若/ 它/ 在/ 所/ 分配/ 的/ GTS/ 时间/ 内/ 重传/ 多次/ 仍/ 不能/ 成功/ 发送/ 该/ 数据包/ ,/ 那么/ ,/ 该/ 数据包/ 在/ 下/ 一个/ 超帧/ 的/ GTS/ 时间/ 内/ 重传/ ./ 由于/ 在/ 最后/ 一个/ 超帧/ 内/ 节点/ 所/ 分配/ 的/ GTS/ 开始/ 时间/ 可以/ 在/ 超帧/ 的/ 任意/ 位置/ ,/ 我们/ 取/ 节点/ 的/ GTS/ 的/ 开始/ 时间/ 为/ ω/ // 2/ ./ 因此/ ,/ 节点/ k/ 使用/ ARQ/ 发送/ 一个/ 数据包/ 的/ 平均/ 时延/ 为/ 其次/ ,/ 我们/ 分析/ 节点/ z/ 使用/ S/ -/ RS/ 策略/ 收集/ 其子/ 节点/ 数据/ 的/ 时延/ ./ 若/ z/ 的/ 子/ 节点/ 为/ 树叶/ ,/ 树叶/ 节点/ 没有/ 收集/ 数据/ 的/ 时延/ ,/ 只有/ 发送/ 数据包/ 的/ 时延/ ./ 若/ z/ 的/ 子/ 节点/ h/ 不是/ 树叶/ ,/ 则/ 节点/ h/ 在/ 完成/ 收集/ 其子/ 节点/ 数据/ 之后/ ,/ 将/ 收集/ 到/ 的/ 传感/ 数据/ 分成/ s/ 段/ ,/ 然后/ 根据/ 段间/ 编码/ 的/ 方式/ 得到/ S/ -/ RS/ 码字/ ,/ 并/ 组装/ 成/ Mh/ 个/ IEEE802/ ./ 15.4/ MAC/ 帧/ ,/ 而且/ MAC/ 帧/ 的/ 重传/ 次数/ 为/ σ/ ./ 由式/ (/ 16/ )/ ,/ 节点/ h/ 发送/ 数据包/ 的/ 总/ 次数/ 为/ ahETXh/ ,/ 所/ 需要/ 的/ GTS/ 平均/ 个数/ 为/ ceil/ (/ ahETXh/ // nh/ )/ ,/ 因此/ ,/ 树枝/ 节点/ h/ 把/ 编码/ 包/ 发送给/ 其父/ 节点/ z/ 产生/ 的/ 时延/ 为/ ceil/ (/ ahETXh/ // nh/ -/ 1/ )/ ω/ +/ ω/ // 2/ +/ tpkt/ 此外/ ,/ 在/ Xh/ 不/ 被/ x/ 整除/ 的/ 条件/ 下/ ,/ 该/ 分段/ 剩余/ 下来/ h/ 个/ 尾部/ 传感/ 数据/ 采用/ ARQ/ 方式/ 发送/ ,/ 其时/ 延/ 的/ X/ / 由式/ (/ 28/ )/ 计算/ ./ 因而/ ,/ 节点/ h/ 把/ 编码/ 包/ 发送给/ 其父/ 节点/ z/ 产生/ 的/ 时延/ 为/ Th/ =/ ω/ ceil/ 其中/ ,/ ETXh/ ,/ nh/ ,/ ah/ 和/ tpkt/ 式/ (/ 24/ )/ 计算/ ./ 对于/ 任一/ 节点/ z/ ,/ 用/ τ/ z/ 表示/ 在/ 以/ 节点/ z/ 为根/ 的/ 子树中/ ,/ 将/ 所有/ 子孙/ 节点/ 的/ 数据/ 收集/ 到/ 节点/ z/ 的/ 时延/ ./ 因此/ ,/ τ/ z/ 等于/ 节点/ z/ 所有/ 子/ 节点/ 收集/ 其/ 对应/ 的/ 子孙/ 节点/ 数据/ 所耗/ 的/ 时间/ 与/ 该子/ 节点/ 发送数据/ 给/ 节点/ z/ 的/ 时间/ 之/ 和/ 的/ 最大者/ ./ 换言之/ ,/ τ/ z/ 满足/ 以下/ 递归/ 式/ :/ 其中/ ,/ 当/ u/ 为叶/ 节点/ 时/ ,/ τ/ u/ =/ 0/ ,/ Tu/ 由式/ (/ 28/ )/ 计算/ ;/ 当/ u/ 为/ 树枝/ 节点/ 时/ ,/ Tu/ 由式/ (/ 29/ )/ 计算/ ./ 值得/ 说明/ 的/ 是/ ,/ 由式/ (/ 30/ )/ 递归计算/ τ/ z/ 的/ 方法/ 与/ 5.1/ 节/ 递归计算/ Ez/ 的/ 过程/ 类似/ ,/ 请/ 参见/ 5.1/ 节/ 的/ 例子/ ./ 这样一来/ ,/ 利用/ 式/ (/ 30/ )/ 就/ 可以/ 通过/ 递推/ 得出/ sink/ 节点/ 收集/ 数据/ 的/ 时延/ τ/ sink/ (/ 即/ 从/ sink/ 节点/ 开始/ 收集/ 数据/ 到/ 所有/ 传感/ 数据/ 到达/ sink/ 节点/ 这个/ 时间段/ )/ ./ 5.4/ 数据/ 收集/ 率/ 和/ 时延/ 约束/ 下/ 的/ 能耗/ 最小化/ 接下来/ 我们/ 研究/ 如何/ 选择/ S/ -/ RS/ 的/ 参数/ 使得/ 在/ Page11/ 满足/ 事先/ 给定/ 的/ 数据/ 收集/ 率/ 和/ 时延/ 约束/ 下/ 数据/ 收集/ 的/ 能耗/ 最低/ 这一/ 问题/ ./ 显然/ ,/ S/ -/ RS/ 数据/ 收集/ 策略/ 的/ 能耗/ 、/ 数据/ 收集/ 率/ 、/ 时延/ 受到/ 参数/ λ/ 、/ x/ 和/ σ/ 的/ 影响/ ./ 在/ S/ -/ RS/ 策略/ 中/ ,/ 采用/ S/ -/ RS/ 编码/ 虽然/ 可以/ 提高/ 数据/ 传递/ 的/ 可靠性/ ,/ 但/ 编码/ 、/ 解码/ 以及/ 其他/ 相关/ 运算/ 均会/ 产生/ 额外/ 的/ 能耗/ ./ 我们/ 注意/ 到/ ,/ 在/ 传感器/ 节点/ 中/ ,/ 能耗/ 主要/ 来自/ 于/ 节点/ 之间/ 的/ 通信/ [/ 38/ ]/ ./ 而且/ ,/ 在/ WSN/ 中/ ,/ 给/ 距离/ 10m/ 或/ 100m/ 的/ 节点/ 发送/ 1/ 比特/ 的/ 耗能/ 是/ 计算/ 操作/ 的/ 几千倍/ 乃至/ 几百万倍/ [/ 39/ ]/ ./ 因此/ ,/ 本文/ 仅/ 考虑/ 节点/ 之间/ 的/ 通信/ 能耗/ 即/ 数据/ 收集/ 过程/ 产生/ 的/ 能耗/ ,/ 而/ 忽略/ 编码/ 、/ 解码/ 及其/ 他/ 计算所/ 产生/ 的/ 能耗/ ./ 于是/ ,/ 我们/ 提出/ 如下/ 优化/ 问题/ :/ MinEsinkw/ ./ r/ ./ t/ ./ x/ ,/ σ/ ,/ λ/ s/ ./ t/ ./ 其中/ ,/ Esink/ 是/ 关于/ λ/ ,/ x/ 和/ σ/ 的/ 函数/ ;/ Ω/ 表示/ 全体/ 节点/ 的/ 集合/ ,/ Ω/ 0/ 表示/ 全体/ 叶/ 节点/ 的/ 集合/ ;/ 重传/ 次数/ σ/ 的/ 取值/ 范围/ 为/ 0/ ~/ 7/ [/ 1/ ]/ ;/ λ/ 是/ 编码/ 的/ 冗余/ 倍数/ ,/ 由式/ (/ 6/ )/ 知/ λ/ / (/ q/ -/ 1/ )/ // n/ ,/ 这里/ λ/ 的/ 取值/ 范围/ 设置/ 为/ 2/ ~/ 7/ ;/ 在/ IEEE802/ ./ 15.4/ 中/ MAC/ 帧/ 的/ 最大/ 长度/ 为/ 127/ 字节/ [/ 1/ ]/ ,/ 因此/ H/ +/ x/ θ/ r/ +/ 24/ / 127/ ×/ 8/ ,/ 即/ x/ / (/ 992/ -/ H/ )/ // (/ θ/ r/ )/ ;/ ρ/ 0/ 表示/ 一个/ 事先/ 给定/ 的/ 传感/ 数据/ 收集/ 率/ 约束/ ;/ T0/ 表示/ 一个/ 事先/ 给定/ 的/ 时延/ 约束/ ./ 在/ 优化/ 问题/ (/ 31/ )/ 中/ ,/ 目标/ 函数/ Esink/ 是/ 由式/ (/ 20/ )/ 递推/ 而/ 得/ 的/ 把/ 整个/ 网络/ 节点/ 的/ 数据/ 收集/ 到/ sink/ 节点/ 所/ 产生/ 的/ 总/ 能耗/ (/ 参见/ 第/ 5.1/ 节/ )/ ;/ λ/ ,/ x/ 和/ σ/ 是/ 待/ 优化/ 的/ 参数/ ./ 式/ (/ 31/ )/ 的/ 第/ 1/ 个/ 约束条件/ 表示/ ,/ 网络/ 中图/ 6/ 用/ TelosW/ 节点/ 的/ 实验/ 场景/ 任意/ 一个/ 叶子/ 节点/ k/ 发送/ 编码/ 包/ 给/ 其父/ 节点/ 时/ 收发/ 双方/ 产生/ 的/ 平均/ 能耗/ Ek/ ,/ 由式/ (/ 12/ )/ 计算/ ./ 式/ (/ 31/ )/ 的/ 第/ 2/ 个/ 约束条件/ 表示/ ,/ 任意/ 一个/ 树枝/ 节点/ z/ 从/ 它/ 的/ 所有/ 子孙/ 节点/ 收集/ 数据/ 所/ 产生/ 的/ 能耗/ Ez/ ,/ 可以/ 采用/ 递推/ 式/ (/ 19/ )/ 计算/ (/ 参见/ 第/ 5.1/ 节/ )/ ./ 在/ 式/ (/ 31/ )/ 的/ 最后/ 一个/ 约束条件/ 中/ ,/ τ/ sink/ 由式/ (/ 30/ )/ 递推/ 计算/ 而/ 得/ ./ 由于/ 优化/ 问题/ (/ 31/ )/ 中/ 3/ 个/ 参数/ 的/ 可能/ 取值/ 个数/ 为/ :/ λ/ 为/ 6/ 个/ ,/ σ/ 为/ 8/ 个/ ,/ x/ 不足/ 20/ 个/ (/ 对于/ 表/ 3/ 所列/ 的/ 参数/ ,/ x/ 为/ 12/ 个/ )/ ./ 此外/ ,/ 式/ (/ 31/ )/ 约束条件/ 中/ 迭代/ 计算/ Ez/ 需要/ 求和/ N/ 次/ (/ N/ 为/ 网络/ 中/ 节点/ 个数/ )/ ;/ 对于/ 判断/ 约束条件/ τ/ sink/ </ T/ ,/ 用式/ (/ 30/ )/ 递推/ 计算/ τ/ sink/ 时/ ,/ 所/ 涉及/ 的/ 求/ 最大值/ 至多/ 需要/ 比较/ N/ 次/ ./ 因此/ ,/ 利用/ 穷举法/ 求解/ 优化/ 问题/ (/ 31/ )/ 的/ 复杂度/ 为/ O/ (/ N/ )/ ,/ 在/ 多项式/ 时间/ 内/ 可以/ 获得/ 优化/ 问题/ (/ 31/ )/ 的/ 解/ ./ 6S/ -/ RS/ 数据/ 收集/ 策略/ 的/ 实验/ 我们/ 用/ TinyOS/ 操作系统/ 、/ NesC/ 程序设计/ 语言/ 和/ TelosW/ 节点/ [/ 40/ ]/ 进行/ 实验/ ,/ 以此/ 说明/ 本文/ 提出/ 的/ S/ -/ RS/ 数据/ 收集/ 策略/ 可以/ 在/ 资源/ 受限/ 的/ 传感器/ 节点/ 上/ 实现/ ./ TelosW/ 节点/ 属于/ Telos/ 系列/ ,/ 具有/ 内置/ 的/ 能量/ 表/ (/ EnergyMeter/ )/ [/ 41/ ]/ 供/ 程序/ 读取/ ./ 根据/ 能量/ 表/ 的/ 数值/ 可以/ 计算/ 出/ 节点/ 的/ 能耗/ [/ 42/ ]/ ,/ 不/ 需要/ 采用/ 外接/ 本身/ 就/ 耗能/ 的/ 设备/ 来/ 检测/ 能耗/ ./ 将/ 6/ 个/ TelosW/ 节点/ 联成/ 如图/ 6/ (/ a/ )/ 所示/ 的/ 拓扑/ 结构/ ,/ 其中/ ,/ 节点/ 0/ 为/ sink/ 节点/ ./ sink/ 节点/ 连接/ 到/ 台式机/ 直接/ 由/ 台式机/ 供电/ ,/ 其实/ 物如图/ 6/ (/ b/ )/ 所示/ ;/ 其余/ 5/ 个/ 节点/ 的/ 布置/ 如图/ 6/ (/ c/ )/ 所示/ ./ 每个/ TelosW/ 节点/ 每/ 一轮/ 产生/ 10/ 个/ 传感/ 数据/ ,/ 每个/ 传感/ 数据/ 长度/ 为/ 10/ 字节/ (/ 即/ θ/ =/ 10/ )/ ./ 每个/ 段/ 所/ 包含/ 的/ 传感/ 数据/ 个数/ x/ =/ 4/ ./ 图/ 7/ 是/ 在/ 不同/ 重传/ 次数/ 下/ 收集/ 1000/ 轮/ 数据/ 的/ 平均值/ ./ 从图/ 7/ 可以/ 看出/ :/ (/ 1/ )/ S/ -/ RS/ 的/ 能耗/ (/ “/ EnergyMeter/ ”/ )/ 远/ 低于/ ARQ/ 方案/ (/ 见图/ 7/ (/ a/ )/ )/ ./ 需要/ 说明/ 的/ 是/ ,/ EnergyMeter/ 的/ 数值/ 可以/ 转化/ 为/ 能量/ ,/ 它/ 与/ 能/ Page12/ 图/ 7/ 用/ TelosW/ 节点/ 的/ 实验/ 结果/ 量值/ 存在/ 着/ 正比例/ 关系/ :/ 它/ 的/ 数值/ 越大/ ,/ 对应/ 的/ 能量/ 值/ 也/ 越/ 大/ [/ 42/ ]/ ;/ (/ 2/ )/ 在/ 重传/ 次数/ (/ 即/ σ/ )/ 的/ 值/ 比较/ 大时/ (/ 如/ σ/ / 2/ )/ 时/ ,/ 两者/ 的/ 数据/ 收集/ 率/ 一致/ ;/ 但/ 当/ σ/ </ 2/ 时/ ,/ S/ -/ RS/ 的/ 数据/ 收集/ 率/ 优于/ ARQ/ 方案/ (/ 见图/ 7/ (/ b/ )/ )/ ;/ (/ 3/ )/ S/ -/ RS/ 的/ 数据/ 收集/ 时延/ 远/ 低于/ ARQ/ (/ 见图/ 7/ (/ c/ )/ )/ ./ 7/ 性能/ 分析/ 上/ 一节/ 我们/ 已经/ 在/ TelosW/ 节点/ 上/ 对/ 本文/ 提出/ 的/ S/ -/ RS/ 方案/ 进行/ 了/ 实验/ ./ 事实上/ ,/ 真实/ 环境/ 的/ 实验/ 存在/ 着/ 困难/ 之/ 处/ ,/ 即/ 难以/ 对/ 一些/ 参数/ 的/ 变化/ 进行/ 模拟/ ./ 例如/ ,/ 我们/ 难以/ 布置/ 一对/ 节点/ 使/ 它们/ 之间/ 链路/ 的/ 数据包/ 传递/ 成功率/ 为/ 一个/ 事先/ 给定/ 的/ 数值/ ./ 因此/ ,/ 需要/ 求助于/ 仿真/ ./ 本节/ ,/ 我们/ 用/ C++/ 程序设计/ 语言/ 编制/ 仿真/ 程序/ 对/ S/ -/ RS/ 数据/ 收集/ 策略/ 的/ 性能/ 进行/ 分析/ ./ 在/ 仿真/ 中/ ,/ 在/ 1000/ ×/ 1000m2/ 区域/ 里/ 随机/ 部署/ 400/ 个/ 节点/ ,/ sink/ 节点/ 放在/ 区域/ 中间/ ,/ 节点/ 的/ 通信/ 范围/ 为/ 100m/ ./ 数据/ 收集/ 树以/ sink/ 为根/ 节点/ 随机/ 生成/ ./ 本节/ 所/ 给出/ 的/ 结果/ 是/ 随机/ 生成/ 500/ 棵/ 树/ ,/ 每棵/ 树上/ 采用/ S/ -/ RS/ 数据/ 收集/ 策略/ 200/ 次/ 的/ 平均值/ ./ 与/ 文献/ [/ 37/ ]/ 一样/ ,/ 取/ ε/ 1/ =/ 10pJ/ // (/ bit/ ·/ m2/ )/ ,/ ε/ 0/ =/ 50nJ/ // bit/ ,/ 且取/ γ/ =/ 2/ (/ 对应/ 于/ 自由空间/ 模型/ )/ ./ 在/ S/ -/ RS/ 编码/ 中/ ,/ 选择/ 信息/ 单元/ IU/ 的/ 长度/ 为/ 8/ 比特/ ./ 每个/ 传感/ 数据/ 包含/ IU/ 的/ 个数/ θ/ =/ 8/ ./ 在/ IEEE802/ ./ 15.4/ 中/ ,/ MAC/ 帧/ 头部/ 长度/ H/ =/ 200/ 比特/ (/ 即/ 25/ 字节/ )/ ,/ 这样/ ,/ 在/ 式/ (/ 31/ )/ 中/ x/ 的/ 最大值/ 为/ 12/ ./ 另外/ ,/ 假设/ 物理层/ 使用/ O/ -/ QPSK/ (/ Offset/ -/ QuadraturePhaseShiftKeying/ )/ 调制/ 方案/ ,/ 其/ 数据/ 率/ R/ =/ 250Kbps/ ,/ 此时/ 一个/ 符号/ 时间/ 为/ 16/ μ/ s/ ,/ tlifs/ 和/ tack/ 分别/ 为/ 0.64/ ms/ 和/ 0.192/ ms/ ,/ 接收/ ACK/ 包/ 的/ 定时器/ 时间/ 值/ ω/ ack/ 为/ 0.704/ ms/ [/ 1/ ]/ ./ 在/ IEEE802/ ./ 15.4/ 中/ ,/ 一个/ 超帧/ 结构/ 由/ 参数/ amacSuperframeOrder/ 和/ amacBeaconOrder/ 描述/ [/ 1/ ]/ ,/ 当/ 这/ 两个/ 参数/ 取值/ 相同/ 时/ ,/ 超帧/ 为/ 活跃/ 时间/ ,/ 一个/ 超帧/ 由/ 16/ 个/ 时隙/ 构成/ ,/ 每个/ 时隙/ 的/ 长度/ 为/ aBaseSlot/ -/ Duration/ ×/ 2amacSuperframeOrder/ ,/ 其中/ aBaseSlotDuration/ =/ 960/ μ/ s/ ./ 为了/ 保证/ S/ -/ RS/ 策略/ 在/ 一个/ 时隙/ 中/ 可以/ 发送/ 一个/ 帧/ ,/ 我们/ 取/ amacSuperframeOrder/ =/ 3/ ./ 在/ 仿真/ 中/ ,/ 超帧/ 中不设/ 自由竞争/ 周期/ (/ ContentionAccessPeriod/ ,/ CAP/ )/ [/ 1/ ]/ ,/ 即/ 16/ 个/ 时隙/ 全部/ 用于/ 分配/ GTS/ ./ 为/ 清楚/ 起/ 见/ ,/ 仿真/ 采用/ 的/ 主要/ 参数值/ 列在表/ 3/ 中/ ./ amacSuperframeOrderamacBeaconOrder/ 在/ 进行/ 性能/ 分析/ 之前/ ,/ 我们/ 通过/ 仿真/ 来/ 验证/ 第/ 5/ 节/ 推导/ 的/ 分别/ 以式/ (/ 19/ )/ 、/ (/ 21/ )/ 和/ 式/ (/ 30/ )/ 表示/ 的/ 总/ 能耗/ Esink/ 、/ 数据/ 收集/ 率/ ρ/ 和/ 数据/ 收集/ 时延/ τ/ sink/ 的/ 正确性/ ./ 图/ 8/ 是/ 当/ x/ =/ 10/ ,/ λ/ =/ 5/ ,/ σ/ =/ 5/ 时/ 在/ 不同/ 链路/ 质量/ 下/ 仿真/ 和/ 计算结果/ 及其/ 误差/ 图/ ./ 图中/ ,/ “/ S/ -/ RS/ -/ Sim/ ”/ 和/ “/ S/ -/ RS/ -/ Cal/ ”/ 分别/ 表示/ 仿真/ 和/ 数值/ 计算结果/ ./ 在/ 计算结果/ 中/ ,/ 总/ 能耗/ Esink/ 、/ 数据/ 收集/ 率/ ρ/ 和/ 数据/ 收集/ 时延/ τ/ sink/ 分别/ 由式/ (/ 19/ )/ 、/ (/ 21/ )/ 和/ 式/ (/ 30/ )/ 计算/ 而/ 得/ ./ 在/ 图/ 8/ 中/ ,/ 第/ 2/ 行/ 分别/ 是/ 计算结果/ vc/ 与/ 仿真/ 结果/ vs/ 的/ 相对误差/ ,/ 定义/ 为/ |/ vc/ -/ vs/ |/ // vs/ ./ 从图/ 8/ 可见/ ,/ 仿真/ 结果/ 与/ 计算结果/ 比较/ 吻合/ 且/ 趋势/ 一致/ ,/ 因此/ ,/ 在/ 分析/ Page13S/ -/ RS/ 数据/ 收集/ 策略/ 的/ 性能/ 时/ ,/ 我们/ 直接/ 利用/ 式/ (/ 19/ )/ 、/ (/ 21/ )/ 和/ 式/ (/ 30/ )/ 进行/ 分析/ ./ 首先/ ,/ 分析/ 参数/ x/ (/ 每个/ 编码/ 包/ 携带/ 的/ 传感/ 数据/ 个数/ )/ 和/ λ/ (/ 编码/ 冗余度/ )/ 的/ 变化/ 对/ S/ -/ RS/ 策略/ 性能/ 的/ 影响/ ./ 固定/ 链路/ 传递/ 数据包/ 成功率/ pk/ =/ 0.6/ ,/ 让/ x/ 变化/ ,/ 得到/ 图/ 9/ ;/ 固定/ x/ =/ 10/ ,/ σ/ =/ 3/ ,/ 让/ pk/ 变化/ ,/ 得到/ 图/ 10/ ./ 从图/ 9/ (/ a/ )/ 和/ 图/ 9/ (/ c/ )/ 可见/ ,/ 随着/ x/ 增大/ ,/ 能耗/ 和/ 时延/ 逐渐/ 降低/ ,/ 这/ 是因为/ 发送/ 的/ 编码/ 包/ 个数/ 减小/ ./ 从图/ 9/ (/ b/ )/ 可见/ ,/ 随着/ x/ 增大/ ,/ 数据/ 收集/ 率/ 逐渐/ 降低/ ,/ 图/ 8/ 总/ 能耗/ 、/ 数据/ 收集/ 率/ 和/ 数据/ 收集/ 时延/ 仿真/ 与/ 计算结果/ 对比/ 图/ 9/ 参数/ x/ 对/ S/ -/ RS/ 策略/ 性能/ 的/ 影响/ 图/ 10/ 参数/ λ/ 对/ S/ -/ RS/ 策略/ 性能/ 的/ 影响/ 这/ 是因为/ ,/ 在/ x/ 增大/ 之后/ 每个/ 编码/ 包中/ 包含/ 的/ 传感/ 数据/ 个数/ 也/ 增大/ ,/ 这/ 导致/ 在/ 出现/ 丢/ 包时/ 丢失/ 的/ 传感/ 数据/ 也/ 增大/ ,/ 进而/ 导致/ 数据/ 收集/ 率/ 下降/ ./ 从图/ 10/ 可见/ ,/ 对于/ 一个/ 给定/ 的/ pk/ ,/ 编码/ 冗余度/ λ/ 增大/ 到/ 一定/ 值/ 之后/ ,/ 继续/ 增大/ λ/ 不能/ 带来/ 数据/ 收集/ 率/ 的/ 增大/ (/ 见图/ 10/ (/ b/ )/ )/ ,/ 而且/ 也/ 不/ 增大/ 能耗/ 和/ 时延/ (/ 见图/ 10/ (/ a/ )/ 和/ 图/ 10/ (/ c/ )/ )/ ,/ 这/ 是因为/ 在/ S/ -/ RS/ 策略/ 中/ ,/ 节点/ 在/ 收到/ 足够/ 解码/ 的/ 数据包/ 个数/ 之后/ ,/ 给/ 发送/ 方/ 发送/ ACK/ ,/ 使得/ 发送/ 方/ 停止/ 继续/ 发送/ 编码/ 包/ ./ Page14/ 其次/ ,/ 利用/ 仿真/ 比较/ S/ -/ RS/ 数据/ 收集/ 策略/ 和/ IEEE802/ ./ 15.4/ 的/ ARQ/ 策略/ ./ 图/ 11/ 是/ 在/ 取/ λ/ =/ 7/ 和/ x/ =/ 10/ 时/ 不同/ 最大/ 重传/ 次数/ (/ 即/ σ/ )/ 下/ 两种/ 策略/ 的/ 比较/ 结果/ ./ 从图/ 11/ 可以/ 看出/ :/ (/ 1/ )/ 对于/ 一个/ 给定/ 的/ 最大/ 重传/ 次数/ ,/ S/ -/ RS/ 数据/ 收集/ 策略/ 的/ 总/ 能耗/ Esink/ 和/ 数据/ 收集/ 率/ ρ/ 均/ 优于/ ARQ/ (/ 见图/ 11/ (/ a/ )/ 和/ (/ b/ )/ )/ ;/ (/ 2/ )/ 在/ 链路/ 传递/ 数据包/ 成功/ 概率/ pk/ 大于/ 0.2/ 时/ ,/ S/ -/ RS/ 数据/ 收集/ 策略/ 的/ 时延/ τ/ sink/ 优于/ ARQ/ (/ 见图/ 11/ (/ c/ )/ )/ ./ 此外/ ,/ 从图/ 11/ 可以/ 进一步/ 发现/ 两个/ 策略/ 的/ 共同/ 特点/ :/ (/ 1/ )/ 数据/ 收集/ 率/ ρ/ 随着/ 链路/ 质量/ 的/ 提高/ (/ 即/ 链路/ 传递/ 数据包/ 成功/ 概率/ pk/ 的/ 增大/ )/ 而/ 提高/ ,/ 这/ 和/ 直观/ 是/ 吻合/ 的/ ;/ (/ 2/ )/ 两种/ 策略/ 的/ 总/ 能耗/ Esink/ 和/ 数据/ 收集/ 时延/ τ/ sink/ 随着/ 链路/ 质量/ 提高/ ,/ 呈现/ 先/ 上升/ 后/ 下降/ 之/ 趋势/ ,/ 其/ 理由/ 如/ 后/ 所述/ ./ 当/ 链路/ 质量/ 比较/ 差时/ ,/ pk/ 略微/ 增大/ 会/ 导致/ 节点/ 的/ 数据包/ 经过/ 更/ 多/ 的/ 中间/ 节点/ ,/ 但/ 最终/ 因/ 链路/ 质量/ 差/ 未能/ 到达/ sink/ 节点/ ./ 也就是说/ ,/ 在/ 这图/ 11S/ -/ RS/ 策略/ 和/ IEEE802/ ./ 15.4/ 自动/ 重传/ 机制/ 的/ 性能/ 比较/ 图/ 12S/ -/ RS/ 策略/ 和/ RDTS/ 策略/ 性能/ 比较/ 种/ 情形/ 下/ ,/ pk/ 的/ 增大/ 会/ 引起/ 网络/ 中/ 更/ 多/ 的/ 中途/ 夭折/ 的/ 数据包/ 被/ 发送/ ,/ 使得/ 整个/ 网络/ 的/ 能耗/ 和/ 收集/ 数据/ 的/ 时延/ 增大/ ./ 然而/ ,/ 当/ 链路/ 质量/ 比较/ 好时/ ,/ pk/ 的/ 增加/ 使得/ 更/ 多/ 的/ 数据包/ 被/ 传递/ 到/ sink/ 节点/ ,/ 而且/ 在/ 每条/ 链路/ ,/ 数据包/ 的/ 重传/ 次数/ 降低/ 了/ ,/ 从而/ 降低/ 了/ 整个/ 网络/ 的/ 能耗/ 和/ 收集/ 数据/ 的/ 时延/ ./ 再次/ ,/ 利用/ 仿真/ 对/ S/ -/ RS/ 数据/ 收集/ 策略/ 和/ 同样/ 应用/ Reed/ -/ Solomon/ 码/ 的/ 可靠/ 数据传输/ 策略/ RDTS/ [/ 32/ ]/ 进行/ 比较/ ./ 在/ RDTS/ 策略/ 中/ ,/ δ/ 是/ 一个/ 关键/ 参数/ ,/ 但/ 文献/ [/ 32/ ]/ 未/ 给出/ 具体/ 的/ 计算方法/ ./ 因此/ ,/ 我们/ 分别/ 取/ δ/ =/ M/ // 5/ ,/ 2M/ // 5/ ,/ 3M/ // 5/ ,/ 4M/ // 5/ 和/ M/ ,/ 并/ 把/ 对应/ 的/ RDTS/ 策略/ 分别/ 记为/ RDTS/ -/ 1/ // 5/ ,/ RDTS/ -/ 2/ // 5/ ,/ RDTS/ -/ 3/ // 5/ ,/ RDTS/ -/ 4/ // 5/ 和/ RDTS/ -/ 1/ ./ 在/ S/ -/ RS/ 策略/ 中/ ,/ 取/ λ/ =/ 5/ ,/ x/ =/ 10.1000/ 次/ 仿真/ 运算/ 结果/ 如图/ 12/ 所示/ ./ 由图/ 12/ 左上方/ 子图/ 可见/ ,/ 在/ RDTS/ 策略/ 中/ ,/ δ/ 越大/ (/ 冗余/ 数据/ 越/ 多/ )/ ,/ 则/ 数据/ 收集/ 率越/ 高/ ,/ 在/ 这些/ δ/ Page15/ 取/ 不同/ 值/ 的/ RDTS/ 策略/ 中/ ,/ 以/ RDTS/ -/ 1/ 的/ 数据/ 收集/ 率/ 最高/ ./ 因此/ ,/ 我们/ 选取/ 数据/ 收集/ 率/ 最高/ 的/ RDTS/ -/ 1/ 策略/ 与/ 本文/ S/ -/ RS/ 策略/ 进行/ 比较/ ,/ 比较/ 结果显示/ 在/ 图/ 12/ 的/ 其余/ 3/ 个子/ 图中/ ./ 从图/ 12/ 右上方/ 子图/ 可见/ ,/ 在/ S/ -/ RS/ 策略/ 中/ ,/ 在/ MAC/ 帧/ 重传/ 次数/ σ/ / 2/ 时/ ,/ S/ -/ RS/ 策略/ 的/ 数据/ 收集/ 率/ 优于/ RDTS/ 策略/ ./ 而且/ ,/ 从图/ 12/ 左下方/ 子图/ 可见/ ,/ 在/ σ/ =/ 3/ 时/ ,/ S/ -/ RS/ 策略/ 的/ 能耗/ 也/ 优于/ RDTS/ 策略/ ./ 从图/ 12/ 可以/ 进一步/ 看出/ ,/ 在/ 链路/ 成功/ 概率/ pk/ / 0.35/ 时/ ,/ 只须/ 选取/ σ/ =/ 3/ ,/ S/ -/ RS/ 策略/ 的/ 数据/ 收集/ 率/ 、/ 能耗/ 、/ 时延/ 均/ 优于/ RDTS/ 策略/ ./ 最后/ ,/ 考虑/ 求解/ 式/ (/ 31/ )/ 的/ 优化/ 问题/ ./ 固定/ pk/ =/ 0.6/ ,/ 让/ 事先/ 给定/ 的/ 数据/ 收集/ 率取/ 不同/ 的/ 值/ :/ ρ/ 0/ =/ 0.88/ ,/ 0.90/ ,/ …/ ,/ 0.98/ 时/ ,/ 且取/ 时延/ 约束/ T0/ =/ 2900/ ,/ 3000/ ,/ 3100ms/ 时/ ,/ 通过/ 求解/ 式/ (/ 31/ )/ 的/ 优化/ 问题/ ,/ 我们/ 得到/ 图/ 13/ ./ 图中/ ,/ 左上方/ 是/ 能耗/ Esink/ 的/ 最优/ 值/ ,/ 右上方/ 、/ 左下方/ 、/ 右下方/ 分别/ 是/ 优化/ 问题/ 最优/ 解/ 对应/ 的/ 参数/ x/ 、/ σ/ 、/ λ/ 值/ ./ 从图/ 13/ 可以/ 看出/ :/ (/ 1/ )/ 在/ T0/ 给/ 定时/ ,/ 能耗/ Esink/ 最优/ 值/ 随着/ ρ/ 0/ 的/ 增大/ 而/ 增大/ ,/ 这/ 是因为/ ρ/ 0/ 图/ 13/ 优化/ 问题/ 的/ 解/ 考虑/ 到/ MITT/ [/ 17/ ]/ 策略/ 构造/ 一棵/ 最小/ 生成/ 树/ 使得/ 瓶颈/ 节点/ 的/ 子/ 节点/ 数/ 最小/ ,/ 从而/ 平衡/ sink/ 附近/ 节点/ 的/ 能耗/ ,/ 以/ 最大化/ 网络/ 生存/ 时间/ ,/ 我们/ 通过/ 仿真/ 将/ 本文/ 提出/ 的/ S/ -/ RS/ 策略/ 在/ 其/ 参数/ x/ 、/ λ/ 、/ σ/ 设置/ 为/ 优化/ 问题/ (/ 31/ )/ 的/ 最优/ 解/ 的/ 条件/ 下/ ,/ 与/ MITT/ 策略/ 的/ 生存/ 时间/ 进行/ 对比/ ./ 此处/ ,/ 生存/ 时间/ 定义/ 为/ 网络/ 自/ 投入/ 运行/ 至/ 出现/ 第一个/ 剩余/ 能量/ 为/ 零/ 的/ 节点/ 这一/ 时间段/ 的/ 增大/ 意味着/ 可靠性/ 的/ 提高/ ,/ 从而/ 需要/ 一个/ 比较/ 大/ 的/ 重传/ 次数/ ./ 例如/ ,/ 在/ T0/ =/ 3000ms/ 时/ ,/ 随着/ ρ/ 0/ 从/ 0.88/ 逐渐/ 增大/ 到/ 0.92/ ,/ 重传/ 次数/ σ/ 从/ 1/ 逐渐/ 增大/ 到/ 3/ ,/ 这/ 导致/ 能耗/ 增加/ ;/ (/ 2/ )/ 式/ (/ 31/ )/ 的/ 优化/ 问题/ 并非/ 总是/ 存在/ 最优/ 解/ ./ 例如/ ,/ 在/ 时延/ 约束/ T0/ =/ 3000ms/ 时/ ,/ 当/ 数据/ 收集/ 率/ 约束/ ρ/ 0/ 大于/ 0.94/ 时/ ,/ 上述/ 优化/ 问题/ 无解/ ./ 也就是说/ ,/ 在实践中/ 很难/ 做到/ 既/ 要/ 达到/ 高/ 数据/ 收集/ 率/ ,/ 又/ 要/ 数据/ 时延/ 足够/ 小/ ./ 其/ 理由/ 是/ ,/ 如果/ 我们/ 需要/ S/ -/ RS/ 策略/ 达到/ 比较/ 高/ 的/ 数据/ 收集/ 率/ ,/ 那么/ 节点/ 需要/ 发送/ 比较/ 多/ 的/ 冗余/ 编码/ 包/ ,/ 这会/ 导致/ 能耗/ 和/ 时延/ 的/ 增加/ ./ 同样/ ,/ 为了/ 降低/ 能耗/ 和/ 时延/ ,/ 节点/ 需要/ 减少/ 重传/ 次数/ 和/ 编码/ 包/ 个数/ ,/ 这会/ 导致/ 一些/ 数据包/ 无法/ 到达/ sink/ 节点/ ,/ 从而/ 降低/ 数据/ 收集/ 率/ ;/ (/ 3/ )/ 在/ 优化/ 问题/ (/ 31/ )/ 存在/ 最优/ 解/ 的/ 条件/ 下/ ,/ 通过/ 求解/ 优化/ 问题/ (/ 31/ )/ 获得/ 参数/ x/ 、/ λ/ 、/ σ/ 的/ 最优/ 值/ ,/ 从而/ 使/ S/ -/ RS/ 策略/ 的/ 能耗/ 达到/ 最低/ ./ 例如/ ,/ 在/ 收集/ 率/ 约束/ ρ/ 0/ =/ 0.94/ 和/ 时延/ 约束/ T0/ =/ 3000ms/ 时/ ,/ sink/ 节点/ 可以/ 选择/ x/ =/ 12/ ,/ σ/ =/ 3/ 和/ λ/ =/ 2/ 使得/ Esink/ ≈/ 6.4/ ×/ 104uJ/ ./ (/ 以/ sink/ 收集/ 传感/ 数据/ 的/ 轮数/ 度量/ )/ ./ 仿真/ 中/ ,/ 在/ 随机/ 构建/ 了/ 一颗/ 数据/ 收集/ 树/ 之后/ ,/ 随机/ 分配/ 给/ 每个/ 节点/ 1.5/ ~/ 2/ 焦耳/ 的/ 初始/ 能量/ ./ MITT/ 策略/ 的/ MAC/ 层/ 重传/ 次数/ 取/ 3/ (/ 这是/ IEEE802/ ./ 15.4/ 标准/ 的/ 默认值/ )/ ./ 在/ 网络/ 节点/ 数从/ 100/ ~/ 400/ ,/ T0/ =/ 3100ms/ 时/ ,/ 分别/ 取/ ρ/ 0/ =/ 0.90/ 和/ ρ/ 0/ =/ 0.95/ ,/ 解/ 优化/ 问题/ (/ 31/ )/ ,/ 将/ 最优/ 参数/ 的/ S/ -/ RS/ 策略/ 和/ MITT/ 的/ 结果/ 进行/ 比较/ ,/ 如/ Page16/ 图/ 14/ 所示/ ./ 从图/ 14/ (/ a/ )/ 可以/ 看出/ :/ (/ 1/ )/ 本文/ 提出/ 的/ S/ -/ RS/ 策略/ 在/ 数据/ 收集/ 率/ 高于/ MITT/ 策略/ 的/ 前提/ 下/ (/ 见图/ 14/ (/ b/ )/ )/ ,/ 网络/ 生存/ 时间/ 也/ 大大/ 高于/ MITT/ 策略/ (/ 见图/ 14/ (/ a/ )/ )/ ;/ (/ 2/ )/ S/ -/ RS/ 策略/ 和/ MITT/ 策略/ 的/ 网络/ 生存/ 时间/ 都/ 随着/ 网络/ 规模/ 的/ 增大/ 而/ 减小/ (/ 见图/ 14/ (/ a/ )/ )/ ,/ 这/ 是因为/ 当/ 网络/ 中/ 节点/ 增多/ 时/ ,/ sink/ 每轮/ 需要/ 图/ 14MITT/ 和/ S/ -/ RS/ 比较/ 顺便/ 指出/ ,/ 把/ 式/ (/ 31/ )/ 的/ 优化/ 目标/ 函数/ 换成/ 数据/ 收集/ 时延/ τ/ sink/ ,/ 我们/ 可以/ 对/ 时延/ 最小化/ ;/ 或者/ 把/ 式/ (/ 31/ )/ 的/ 优化/ 目标/ 换成/ 数据/ 收集/ 率/ ρ/ 从而/ 进行/ 最大化/ ./ 也/ 可以/ 将/ 能耗/ Esink/ 、/ 数据/ 收集/ 率/ ρ/ 和/ 数据/ 收集/ 时延/ τ/ sink/ 中/ 的/ 两者/ 或者/ 三者/ 同时/ 作为/ 优化/ 目标/ ,/ 构建/ 多/ 目标/ 优化/ 问题/ ,/ 从而/ 使/ 能耗/ 、/ 数据/ 收集/ 率/ 和/ 数据/ 收集/ 时延/ 均/ 达到/ 最优/ ./ 有/ 兴趣/ 的/ 读者/ 可以/ 自行/ 对/ 之/ 进行/ 研究/ ./ 8/ 结束语/ 本文/ 应用/ 简单/ 的/ Reed/ -/ Solomon/ 码于/ 可靠/ 数据/ 传递/ ,/ 提出/ 了/ S/ -/ RS/ 数据/ 收集/ 策略/ ./ 这个/ 策略/ 可以/ 让/ 节点/ 采用/ 段/ 内/ 编码/ 或者/ 段间/ 编码/ 将要/ 传递/ 的/ 传感/ 数据/ 进行/ 分段/ 和/ 编码/ ,/ 通过/ 优化/ 每个/ 段/ 所/ 包含/ 的/ 传感/ 数据/ 个数/ 、/ 编码/ 冗余度/ 、/ 数据/ 链路层/ 重传/ 次数/ 这/ 3/ 个/ 参数/ ,/ 使得/ 在/ 事先/ 给定/ 的/ 数据/ 收集/ 率/ 和/ 时延/ 约束条件/ 下/ 收集/ 数据/ 的/ 能耗/ 达到/ 最低/ ./ S/ -/ RS/ 数据/ 收集/ 策略/ 适用/ 于/ 链路/ 易/ 丢/ 包/ 的/ 低功耗/ 的/ 数据/ 不可/ 融合/ 的/ 无线/ 传感器/ 网络/ ./ 

