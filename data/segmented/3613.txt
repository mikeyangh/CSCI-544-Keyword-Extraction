Page1/ 具有/ 最小/ 时间/ 加权/ 平方/ 误差/ 积分/ 的/ 主动/ 队列/ 管理/ 算法/ ISTE/ -/ PI/ 汪浩/ 1/ )/ 李晓明/ 2/ )/ 严伟/ 2/ )/ 黄明/ 和/ 1/ )/ 1/ )/ (/ 江西师范大学/ 软件/ 学院/ 南昌/ 330022/ )/ 2/ )/ (/ 北京大学/ 信息/ 科学技术/ 学院/ 光纤通信/ 系统/ 与/ 网络/ 国家/ 重点/ 实验室/ 北京/ 100871/ )/ 摘要/ 针对/ 现有/ 基于/ 控制论/ 的/ 主动/ 队列/ 管理/ (/ AQM/ )/ 算法/ 的/ 不足/ ,/ 在/ 不/ 忽略/ TCP/ // AQM/ 传递函数/ 模型/ 中/ 时滞/ 环节/ 的/ 条件/ 下/ ,/ 将/ TCP/ 短流/ 和/ UDP/ 流/ 作为/ 干扰信号/ 引入/ AQM/ 控制器/ 的/ 设计/ 过程/ ,/ 并/ 借助/ 最小/ “/ 时间/ 加权/ 平方/ 误差/ 积分/ (/ ISTE/ )/ ”/ 控制/ 方法/ ,/ 设计/ 了/ 一个/ 基于/ PI/ 控制器/ 的/ AQM/ 算法/ ISTE/ -/ PI/ ./ 与/ 现有/ 算法/ 相比/ ,/ ISTE/ -/ PI/ 算法/ 同时/ 具备/ 响应速度/ 快/ 、/ 抗干扰能力/ 强/ 、/ 能/ 用于/ 大/ 时滞/ 网络/ 环境/ 且/ 鲁棒性/ 好/ 等/ 特点/ ./ 鉴于/ Internet/ 网络流量/ 由/ TCP/ 长流/ 、/ TCP/ 短流/ 和/ UDP/ 流/ 构成/ ,/ 且/ 是/ 大/ 时滞/ 网络/ ,/ 因此/ ISTE/ -/ PI/ 算法/ 能/ 更好/ 地/ 适应/ Internet/ 网络/ 环境/ 下/ 的/ 主动/ 队列/ 管理/ ./ 关键词/ 拥塞/ 控制/ ;/ 主动/ 队列/ 管理/ (/ AQM/ )/ ;/ 时间/ 加权/ 平方/ 误差/ 积分/ (/ ISTE/ )/ ;/ 大/ 时滞/ 网络/ ;/ 抗干扰/ 1/ 引言/ 设计/ Internet/ 时/ 遵循/ 的/ 一个/ 技术/ 理念/ 是/ :/ 所有/ Page2/ 有/ 提前/ 发现/ 网络/ 是否/ 拥塞/ 并/ 据此/ 采取/ 适当/ 策略/ 避免/ 拥塞/ 发生/ 的/ 能力/ ,/ 因此/ 研究/ 人员/ 希望/ 通过/ 增强/ 网络/ 中间/ 节点/ 在/ 拥塞/ 控制/ 中/ 的/ 作用/ 来/ 弥补/ TCP/ 端到/ 端/ 拥塞/ 控制/ 的/ 不足/ ./ 网络/ 中间/ 节点/ 的/ 主动/ 队列/ 管理/ (/ AQM/ )/ 在/ 路由器/ 缓存/ 队列/ 溢出/ 之前/ ,/ 根据/ 网络/ 拥塞/ 程度/ ,/ 以/ 一定/ 概率/ 提前/ 丢弃/ IP/ 包/ ,/ 使得/ TCP/ 发送/ 端的/ 响应/ 流/ (/ responsiveflows/ )/ 降低/ 发送/ IP/ 包/ 的/ 速率/ ,/ 以/ 避免/ 拥塞/ ./ AQM/ 希望/ 达到/ 如下/ 技术/ 目标/ :/ (/ 1/ )/ 将/ 路由器/ 缓存/ 队列/ 长度/ 的/ “/ 均值/ ”/ 控制/ 在/ 较/ 低水平/ ,/ 以/ 降低/ 端到/ 端的/ 时延/ ./ (/ 2/ )/ 将/ 路由器/ 缓存/ 队列/ 长度/ 的/ “/ 方差/ ”/ 控制/ 在/ 较/ 低水平/ ,/ 避免/ 队列/ 剧烈/ 振荡/ ,/ 以/ 降低/ 端到/ 端的/ 时延/ 抖动/ ./ (/ 3/ )/ 避免/ 路由器/ 缓存/ 队列/ 上溢/ 或/ 下溢/ ,/ 以/ 降低/ 丢/ 包率/ ,/ 提高/ 链路/ 利用率/ ./ Floyd/ 等/ 人/ [/ 1/ ]/ 首次/ 提出/ 了/ 一个/ 用于/ AQM/ 的/ RED/ 算法/ ,/ 并/ 被/ IETFRFC2309/ 推荐/ 为/ 唯一/ 的/ AQM/ ,/ 许多/ 商用/ 路由器/ 上/ 也/ 实现/ 了/ 该/ 算法/ ./ 鉴于/ RED/ 的/ 特殊/ 地位/ ,/ 许多/ 研究/ 人员/ 通过/ 模拟/ 、/ 实验/ 和/ 理论/ 模型/ 等/ 手段/ ,/ 对/ RED/ 算法/ 的/ 性能/ 进行/ 了/ 详尽/ 的/ 分析/ ,/ 发现/ RED/ 算法/ 的/ 性能/ 与/ 尾/ 丢/ 包/ (/ taildrop/ )/ 的/ 性能/ 表/ 1/ 若干/ 有/ 影响力/ 的/ AQM/ 算法/ 的/ 优缺点/ Hollot/ -/ PI/ [/ 7/ -/ 8/ ]/ Self/ -/ tuningPI/ [/ 9/ -/ 10/ ]/ R/ -/ PI/ [/ 12/ ]/ P2I/ [/ 13/ ]/ FuzzyPI/ [/ 14/ ]/ PIP/ [/ 15/ ]/ PAQM/ [/ 16/ ]/ REN/ -/ PID/ [/ 17/ ]/ DC/ -/ AQM/ [/ 18/ -/ 19/ ]/ IMC/ -/ Smith/ [/ 20/ ]/ Pre/ -/ PID/ [/ 21/ ]/ LQR/ -/ PID/ [/ 22/ ]/ SF/ [/ 23/ ]/ effective/ -/ AVQ/ [/ 24/ ]/ 从表/ 1/ 可知/ ,/ 尽管/ Hollot/ -/ PI/ 算法/ 的/ 性能/ 优于/ RED/ ,/ 但/ 其/ 响应速度/ 太慢/ ;/ Self/ -/ tuningPI/ 、/ R/ -/ PI/ 、/ P2I/ 、/ FuzzyPI/ 、/ effective/ -/ AVQ/ 、/ SF/ 等/ 算法/ 的/ 计算/ 开销/ 太/ 大/ ,/ 从而/ 会/ 降低/ 路由器/ 转发/ IP/ 包/ 的/ 效率/ ;/ PIP/ 、/ PAQM/ 、/ Pre/ -/ PID/ 等/ 算法/ 的/ 设计/ 过程/ 忽略/ 了/ TCP/ // AQM/ 传递函数/ 模型/ 中/ 的/ 时滞/ 环节/ ,/ 故/ 这些/ 算法/ 不能/ 用于/ 大/ 时滞/ 网络/ 环境/ (/ 如/ Internet/ )/ ;/ REN/ -/ PID/ 、/ 没有/ 明显/ 差异/ [/ 2/ -/ 4/ ]/ ,/ 且/ RED/ 算法/ 的/ 稳定性/ 也/ 不好/ [/ 5/ -/ 6/ ]/ ./ 为了/ 设计/ 性能优越/ 的/ AQM/ 算法/ ,/ 文献/ [/ 7/ -/ 8/ ]/ 给出/ 了/ TCP/ 长流/ 在/ 拥塞/ 避免/ 阶段/ 拥塞/ 窗口/ 变化/ 和/ 路由器/ 队列/ 长度/ 变化规律/ 的/ TCP/ // AQM/ 传递函数/ 模型/ 其中/ :/ Kf/ =/ (/ )/ RC3/ 的/ 容量/ ,/ N/ 为/ 通过/ 瓶颈/ 链路/ 的/ TCP/ 长流/ 的/ 连接数/ ,/ R/ 为/ 往返/ 时延/ (/ RTT/ )/ ./ 利用/ 式/ (/ 1/ )/ ,/ 设计/ AQM/ 算法/ 的/ 问题/ 转化/ 为/ 设计/ AQM/ 控制器/ 的/ 问题/ ,/ 参见/ 图/ 1/ ;/ 因此/ ,/ 也/ 将/ AQM/ 算法/ 称为/ AQM/ 控制器/ ./ 表/ 1/ 总结/ 了/ 一些/ 典型/ 的/ AQM/ 算法/ 各自/ 的/ 优缺点/ ./ 图/ 1AQM/ 控制器/ 和/ 被控/ 对象/ 构成/ 的/ 闭环/ 系统/ 响应速度/ 太慢/ ,/ 抗干扰能力/ 弱/ ,/ 不能/ 用于/ 大/ 时滞/ 网络/ 环境/ 与/ PI/ 或/ PID/ 相比/ ,/ 算法/ 太/ 复杂/ ,/ 算法/ 计算/ 开销/ 大/ 与/ PI/ 或/ PID/ 相比/ ,/ 算法/ 复杂/ ,/ 算法/ 计算/ 开销/ 大/ 与/ PI/ 或/ PID/ 相比/ ,/ 算法/ 复杂/ ,/ 算法/ 计算/ 开销/ 大/ 与/ PI/ 或/ PID/ 相比/ ,/ 算法/ 复杂/ ,/ 算法/ 计算/ 开销/ 大/ 不能/ 用于/ 大/ 时滞/ 网络/ 环境/ 不能/ 用于/ 大/ 时滞/ 网络/ 环境/ 抗干扰能力/ 较弱/ 抗干扰能力/ 较弱/ 抗干扰能力/ 较弱/ 不能/ 用于/ 大/ 时滞/ 网络/ 环境/ 抗干扰能力/ 较弱/ 与/ PI/ 或/ PID/ 相比/ ,/ 算法/ 复杂/ ,/ 没有/ 考虑/ 抗干扰性/ 与/ PI/ 或/ PID/ 相比/ ,/ 算法/ 复杂/ ,/ 算法/ 计算/ 开销/ 大/ DC/ -/ AQM/ 、/ IMC/ -/ Smith/ 、/ SF/ 等/ 算法/ 没有/ 将/ TCP/ 短流/ 和/ UDP/ 流/ 作为/ 干扰信号/ 引入/ 算法/ 的/ 设计/ 过程/ ,/ 故/ 这些/ 算法/ 的/ 抗干扰能力/ 较弱/ ,/ 随着/ Internet/ 中/ 多媒体业务/ 流量/ (/ IP电话/ // 视频点播/ )/ 的/ 增加/ ,/ 算法/ 会/ 变得/ 不/ 稳定/ ./ 我们/ 认为/ ,/ 一个/ 好/ 的/ AQM/ 控制器/ (/ 算法/ )/ ,/ 除了/ 满足/ 稳定性/ 的/ 基本/ 要求/ 外/ ,/ 还应/ 同时/ 满足/ 如下/ 要求/ :/ Page3/ (/ 1/ )/ 响应速度/ 快/ (/ 或者/ 调节/ 时间/ 短/ )/ ./ 所谓/ 调节/ 时间/ 是/ 指当/ 网络流量/ 发生变化/ 时/ ,/ 路由器/ 缓存/ 队列/ 瞬时/ 长度/ 回到/ 参考/ 队列/ 长度/ 附近/ 的/ 时间/ ./ 调节/ 时间/ 越短/ 越好/ ./ (/ 2/ )/ 算法/ 简单/ ,/ 计算/ 开销/ 小/ ./ 由于/ 路由器/ 面临/ 转发/ 大量/ IP/ 包/ 的/ 繁重/ 任务/ ,/ 因此/ 希望/ AQM/ 算法/ 判断/ 网络/ 是否/ 发生/ 拥塞/ ,/ 并/ 计算/ “/ 丢包/ // 标记/ ”/ 概率/ 的/ 开销/ 要/ 小/ ,/ 以/ 提高/ 路由器/ 转发/ IP/ 包/ 的/ 效率/ ./ (/ 3/ )/ 能/ 用于/ 大/ 时滞/ 网络/ 环境/ ./ 由于/ Internet/ 是/ 全球性/ 的/ 广域/ 网络/ ,/ 时滞/ (/ 即/ RTT/ )/ 变化/ 大/ ,/ 因此/ 希望/ AQM/ 算法/ 在/ 大/ 时滞/ 网络/ 环境/ 下/ 仍/ 具备/ 良好/ 的/ 性能/ ./ (/ 4/ )/ 抗干扰能力/ 强/ ./ 非/ 响应/ 业务/ 流量/ (/ 即/ TCP/ 短流/ 和/ UDP/ 流/ )/ 可以/ 看成/ 是/ 对/ AQM/ 控制器/ 的/ 干扰/ ./ 随着/ Web/ 应用/ 和/ 分布式/ 多媒体/ 应用/ 的/ 普及/ ,/ 非/ 响应/ 业务/ 流量/ 越来越/ 多/ ./ 因此/ 希望/ AQM/ 控制器/ 对/ TCP/ 短流/ 和/ UDP/ 流有/ 良好/ 的/ 控制能力/ ./ (/ 5/ )/ 鲁棒性/ 好/ ./ 鲁棒性/ 是/ 指当/ 网络/ 特征参数/ (/ 即/ 往返/ 时延/ (/ RTT/ )/ 、/ 通过/ 瓶颈/ 链路/ 的/ TCP/ 连接数/ 、/ 瓶颈/ 链路/ 的/ 容量/ )/ 发生变化/ 时/ ,/ AQM/ 控制器/ 仍能/ 保持稳定/ 的/ 能力/ ./ 本文/ 的/ 创新/ 点/ :/ 鉴于/ 现有/ 基于/ 控制论/ 的/ 主动/ 队列/ 管理/ 算法/ 存在/ 的/ 不足/ ,/ 在/ 不/ 忽略/ TCP/ // AQM/ 传递函数/ 模型/ 中/ 的/ 时滞/ 环节/ 的/ 条件/ 下/ ,/ 将/ TCP/ 短流/ 和/ UDP/ 流/ 作为/ 干扰信号/ 引入/ AQM/ 控制器/ 的/ 设计/ 过程/ ,/ 借助/ 最小/ “/ 时间/ 加权/ 平方/ 误差/ 积分/ (/ ISTE/ )/ ”/ 控制/ 方法/ ,/ 设计/ 了/ 一个/ 基于/ PI/ 控制器/ 的/ AQM/ 算法/ ISTE/ -/ PI/ ./ ISTE/ -/ PI/ 算法/ 不仅/ 保持/ 了/ 表/ 1/ 中/ 各/ 算法/ 的/ 优点/ ,/ 同时/ 也/ 克服/ 了/ 表/ 1/ 中/ 各/ 算法/ 的/ 缺点/ ,/ ISTE/ -/ PI/ 算法/ 同时/ 具备/ 响应速度/ 快/ 、/ 计算/ 开销/ 小/ 、/ 抗干扰能力/ 强/ 、/ 能/ 用于/ 大/ 时滞/ 网络/ 环境/ 且/ 鲁棒性/ 好/ 等/ 特点/ ./ 利用/ NS2/ 仿真/ 实验/ ,/ 我们/ 充分/ 地/ 验证/ 了/ 这些/ 特性/ ./ 由于/ Internet/ 网络流量/ 由/ TCP/ 长流/ 、/ TCP/ 短流/ 和/ UDP/ 流/ 构成/ ,/ 且/ 是/ 大/ 时滞/ 网络/ ,/ 因此/ ,/ ISTE/ -/ PI/ 算法/ 能/ 更好/ 地/ 适应/ Internet/ 网络/ 环境/ 下/ 的/ 主动/ 队列/ 管理/ ./ 本文/ 第/ 2/ 节是/ 相关/ 研究/ ,/ 进一步/ 讨论/ 表/ 1/ 中/ 各/ 算法/ ;/ 第/ 3/ 节/ 给出/ ISTE/ -/ PI/ 算法/ 的/ 控制论/ 原理/ ;/ 第/ 4/ 节用/ NS2/ 验证/ 算法/ 的/ 性能/ ;/ 第/ 5/ 节是/ 总结/ ./ 本文/ 后续/ 部分/ 简称/ “/ 基于/ PI/ 控制器/ 的/ AQM/ 算法/ ”/ 为/ “/ AQMPI/ 算法/ ”/ ./ 2/ 相关/ 研究/ 文献/ [/ 8/ ]/ 首次/ 给出/ 了/ 一个/ 基于/ PI/ 控制器/ 的/ AQM/ 算法/ (/ 本文/ 中/ 称为/ Hollot/ -/ PI/ 算法/ )/ ,/ 由于/ 其/ PI/ 控制器/ 的/ 参数/ 整定/ 公式/ 仅/ 满足/ 了/ AQM/ 算法/ 稳定性/ 的/ 要求/ ,/ 故/ Hollot/ -/ PI/ 存在/ 调节/ 时间/ 太/ 长/ (/ 即/ 响应速度/ 太慢/ )/ ,/ 抗干扰能力/ 弱/ ,/ 不能/ 用于/ 大/ 时滞/ 网络/ 环境/ 等/ 缺点/ ./ 文献/ [/ 9/ -/ 10/ ]/ 提出/ 了/ 参数/ 自整定/ 的/ PI/ 算法/ Self/ -/ tuningPI/ ./ 其/ 基本/ 思想/ 是/ 实时/ 监控/ 系统/ 幅值裕度/ 和/ 相角/ 裕度/ 的/ 变化/ ,/ 当其/ 不/ 在/ 指定/ 范围/ 内时/ ,/ 重新/ 计算/ PI/ 控制器/ 的/ 参数/ ./ 此外/ ,/ Self/ -/ tuningPI/ 还/ 需要/ 动态/ 估计/ 网络/ 的/ 特征参数/ [/ 11/ ]/ ./ Self/ -/ tuningPI/ 的/ 不足/ 是/ 监控/ 系统/ 幅值裕度/ 和/ 相角/ 裕度/ 变化/ 的/ 计算公式/ 特别/ 复杂/ ,/ 导致/ 计算/ 开销/ 特别/ 大/ ,/ 从而/ 极大/ 地/ 降低/ 了/ 路由器/ 的/ 工作效率/ ./ 文献/ [/ 12/ ]/ 设计/ 的/ R/ -/ PI/ 算法/ 在/ Hollot/ -/ PI/ 前/ 增加/ 了/ 一个/ 非线性/ 增益/ 函数/ ,/ 在/ 加快/ 算法/ 响应速度/ 的/ 同时/ ,/ 增加/ 了/ 算法/ 的/ 复杂性/ ./ 文献/ [/ 13/ ]/ 结合/ P/ 控制器/ 和/ PI/ 控制器/ 各自/ 的/ 优点/ ,/ 提出/ 了/ P2I/ 算法/ ./ 其/ 基本/ 思想/ 为/ :/ 当/ 网络流量/ 比较/ 平稳/ 时/ ,/ 使用/ Hollot/ -/ PI/ 控制器/ 进行/ 控制/ ;/ 当/ 网络流量/ 剧烈/ 振荡/ 时/ ,/ 使用/ P/ 控制器/ 进行/ 控制/ ./ 由于/ P2I/ 算法/ 要/ 在/ P/ 控制器/ 和/ PI/ 之间/ 切换/ ,/ 增加/ 了/ 算法/ 的/ 复杂性/ ;/ 算法/ 使用/ 队列/ 长度/ 的/ 阈值/ 来/ 控制算法/ 在/ PI/ 控制器/ 和/ P/ 控制器/ 之间/ 切换/ ,/ 但/ 在/ 阈值/ 的/ 设置/ 上/ 并/ 没有/ 太多/ 的/ 指导性/ 原则/ ./ 文献/ [/ 14/ ]/ 基于/ 模糊控制/ 原理/ 提出/ 了/ Fuzzy/ -/ PI/ 算法/ ,/ 其/ 响应速度/ 比/ Hollot/ -/ PI/ 快/ ,/ 但/ 算法/ 较/ 复杂/ ,/ 计算/ 开销/ 大/ ./ 文献/ [/ 15/ ]/ 利用/ 位置/ 反馈/ 校正/ 的/ 方法/ ,/ 提出/ 了/ PIP/ 算法/ ./ PIP/ 算法/ 的/ 响应速度/ 非常/ 快/ ,/ 有/ 较/ 强/ 的/ 抗干扰能力/ ,/ 但/ 由于/ PIP/ 算法/ 忽略/ 了/ TCP/ // AQM/ 模型/ 的/ 时滞/ 环节/ ,/ 当/ RTT/ 较大/ 时/ (/ 如/ Internet/ 广域网/ 环境/ )/ ,/ 队列/ 振荡/ 幅度/ 也/ 较大/ [/ 25/ ]/ ,/ 故/ PIP/ 算法/ 不能/ 用于/ 大/ 时滞/ 网络/ 环境/ (/ 如/ 广域网/ 和/ 卫星/ 网/ )/ ./ 文献/ [/ 16/ ]/ 提出/ 的/ PAQM/ 也/ 同样/ 忽略/ 了/ TCP/ // AQM/ 模型/ 的/ 时滞/ 环节/ ,/ 故/ 也/ 不能/ 用于/ 大/ 时滞/ 的/ 网络/ 环境/ ./ 文献/ [/ 17/ ]/ 通过/ 指定/ 幅值裕度/ 和/ 相角/ 裕度/ ,/ 设计/ 了/ 一个/ 具有/ 指定/ 稳定/ 裕度/ 的/ AQMPID/ 算法/ (/ 本文/ 后续/ 部分/ 称其为/ REN/ -/ PID/ )/ ./ REN/ -/ PID/ 算法/ 在/ 响应/ 业务/ 流量/ 下/ 的/ 性能比/ Hollot/ -/ PI/ 算法/ 好/ ;/ 但/ 由于/ 在/ 设计/ PID/ 控制器/ 时/ 没有/ 考虑/ 到/ 来自/ 外界/ 的/ 干扰/ 因素/ ,/ 故/ 算法/ 在/ 非/ 响应/ 业务/ 流量/ 下/ 的/ 性能/ 不太好/ ./ 文献/ [/ 18/ -/ 20/ ]/ 针对/ Hollot/ -/ PI/ 不能/ 用于/ 大/ 时滞/ 网络/ 环境/ 的/ 不足/ ,/ 利用/ 内模/ 控制/ 原理/ (/ IMC/ )/ ,/ 设计/ 了/ 能/ 用于/ 大/ 时滞/ 网络/ 环境/ 的/ 基于/ PID/ 控制器/ 的/ DC/ -/ Page4AQM/ 和/ IMC/ -/ Smith/ ./ 尽管/ 这/ 类/ 算法/ 在/ 响应/ 业务/ 流量/ 下/ 的/ 性能/ 很/ 好/ ;/ 但/ 正如/ 文献/ [/ 27/ ]/ 指出/ 的/ 那样/ ,/ IMC/ 控制器/ 具有/ 较/ 好/ 的/ 跟踪/ 参考点/ 变化/ 的/ 能力/ ,/ 但/ 抗干扰能力/ 较弱/ ./ 在/ 实际/ 的/ 网络/ 环境/ 中/ ,/ 基于/ IMC/ 控制器/ 的/ AQM/ 算法/ 极易/ 受到/ 来自/ 短效/ TCP/ 流/ 和/ UDP/ 流/ 的/ 干扰/ ,/ 此时/ AQM/ 算法/ 的/ 响应/ 时间/ 较长/ ./ 图/ 2/ 是/ DC/ -/ AQM/ 算法/ 在/ 短效/ TCP/ 流/ 和/ UDP/ 流/ 作用/ 下/ 的/ 瞬时/ 队列/ 长度/ 变化/ 图/ (/ 参考/ 队列/ 长度/ q0/ =/ 200/ )/ ./ 文献/ [/ 21/ ]/ 利用/ 时域/ 设计/ 方法/ 设计/ 了/ 一个/ AQMPID/ 控制器/ Pre/ -/ PID/ ,/ 由于/ 设计/ AQM/ 控制器/ 的/ 过程/ 中/ 忽略/ 了/ TCP/ // AQM/ 模型/ 的/ 时滞/ 环节/ ,/ 故/ 算法/ 同样/ 不能/ 用于/ 大/ 时滞/ 网络/ 环境/ ./ 文献/ [/ 22/ ]/ 利用/ 线性/ 二次/ 调节器/ (/ LQR/ )/ ,/ 设计/ 了/ 一个/ AQMPID/ 算法/ LQR/ -/ PID/ ./ 但/ 实验/ 表明/ LQR/ -/ PID/ 的/ 抗干扰能力/ 较差/ ./ 图/ 3/ 是/ LQR/ -/ PID/ 算法/ 在/ 短效/ TCP/ 流/ 和/ UDP/ 流/ 作用/ 下/ 的/ 瞬时/ 队列/ 长度/ 变化/ 图/ (/ 参考/ 队列/ 长度/ q0/ =/ 200/ )/ ./ 文献/ [/ 23/ ]/ 利用/ 一种/ 更/ 复杂/ 的/ TCP/ // AQM/ 流/ 模型/ ,/ 提出/ 了/ 一种/ 由/ 每个/ TCP/ 链接/ 的/ 速率/ 和/ 路由器/ 长度/ 变化率/ 的/ 线性组合/ 计算/ 路由器/ 丢包/ 概率/ 的/ 方法/ ./ 由于/ 设计/ 过程/ 没有/ 加入/ 来自/ 外界/ 的/ 干扰信号/ ,/ 故/ 算法/ 在/ 非/ 响应/ 业务/ 流量/ 下/ 的/ 性能/ 不太好/ ;/ 此外/ ,/ 该/ 算法/ 的/ 计算/ 开销/ 也/ 比纯/ PI/ 或/ PID/ 算法/ 的/ 计算/ 开销/ 大/ ./ 文献/ [/ 24/ ]/ 在/ 自/ 适应/ 虚拟/ 队列/ 算法/ (/ AVQ/ )/ 的/ 基础/ 上/ ,/ 利用/ 神经元/ PID/ 学习/ 规则/ 调节/ 虚拟/ 队列/ 的/ 长度/ ,/ 提高/ 了/ 原始/ AVQ/ 算法/ 的/ 响应速度/ 、/ 稳定性/ 和/ 鲁棒性/ ./ 与/ 纯/ PI/ 或/ PID/ 算法/ 相比/ ,/ 算法/ 的/ 计算/ 复杂性/ 较大/ ,/ 从而/ 降低/ 了/ 路由器/ 转发/ IP/ 包/ 的/ 速度/ ./ 为了/ 更/ 精确/ 即时/ 预测/ 瓶颈/ 链路/ 是否/ 发生/ 拥塞/ ,/ 文献/ [/ 27/ ]/ 提出/ 了/ 在/ 端系统/ 仿真/ AQM/ 算法/ 的/ 机制/ PERT/ ./ 模拟实验/ 表明/ ,/ 在/ 端系统/ 仿真/ RED/ // PI/ 算法/ 能达/ 在/ 路由器/ 上/ 部署/ RED/ // PI/ 算法/ 相同/ 的/ 效果/ ./ 3ISTE/ -/ PI/ 算法/ 的/ 控制论/ 原理/ 式/ (/ 1/ )/ 的/ TCP/ // AQM/ 传递函数/ 模型/ 是/ 二阶/ 时滞/ 系统/ ,/ 为了/ 设计/ 具有/ 最小/ “/ 时间/ 加权/ 平方/ 误差/ 积分/ (/ ISTE/ )/ ”/ 的/ ISTE/ -/ PI/ 算法/ ,/ 首先/ 需要/ 用/ 一阶/ 时滞/ 系统对/ 其/ 进行/ 拟合/ ./ 按/ 文献/ [/ 19/ ]/ 提供/ 的/ 方法/ ,/ 可以/ 用式/ (/ 2/ )/ 对应/ 的/ 一阶/ 时滞/ 系统/ 拟合/ 式/ (/ 1/ )/ 对应/ 的/ 二阶/ 时滞/ 系统/ 其中/ :/ K/ =/ Kf/ ,/ T/ =/ T21/ +/ T/ 槡/ 22/ ,/ L/ =/ T1/ +/ T2/ +/ R/ -/ T21/ +/ T/ 槡/ 22/ ./ 由于/ Internet/ 上/ 有/ 70/ %/ ~/ 80/ %/ 的/ 流量/ 属于/ TCP/ 短流/ 和/ UDP/ 流/ [/ 28/ -/ 29/ ]/ ,/ 而/ TCP/ // AQM/ 传递函数/ 模型/ 仅/ 近似/ 刻画/ 了/ TCP/ 长流/ 对/ 路由器/ 队列/ 长度/ 变化/ 的/ 影响/ ,/ 没有/ 反映/ TCP/ 短流/ 和/ UDP/ 流对/ 路由器/ 队列/ 长度/ 变化/ 的/ 影响/ ;/ 因此/ 在/ 利用/ TCP/ // AQM/ 传递函数/ 模型/ 设计/ AQMPI/ 控制器/ 时/ ,/ 可以/ 将/ TCP/ 短流/ 和/ UDP/ 流/ 认为/ 是/ 对/ 闭环控制/ 系统/ 的/ 干扰/ ./ 图/ 4/ 是/ 引入/ 干扰信号/ 后/ 的/ AQMPI/ 闭环控制/ 系统/ ,/ 我们/ 希望/ 路由器/ 的/ 瞬时/ 队列/ 长度/ q/ (/ t/ )/ 在/ 参考/ 队列/ 长度/ (/ 或/ 期望/ 队列/ 长度/ )/ q0/ 附近/ 小幅/ 摆动/ ,/ 即/ 希望/ |/ δ/ q/ (/ t/ )/ |/ =/ |/ q/ (/ t/ )/ -/ q0/ |/ 最小/ ./ 控制论/ 中/ 使用/ “/ 时间/ 加权/ 平方/ 误差/ 积分/ (/ ISTE/ )/ ”/ 指标/ 衡量/ q/ (/ t/ )/ 与/ q0/ 的/ 接近/ 程度/ ./ 将/ δ/ q/ (/ t/ )/ 改写/ 为/ δ/ q/ (/ θ/ ,/ t/ )/ ,/ 其中/ θ/ 为/ PI/ 控制器/ 的/ 参数/ (/ kp/ ,/ ki/ )/ ./ 我们/ 需要/ 寻找/ AQMPI/ 控制器/ 的/ 参数/ 整定/ 公式/ θ/ ,/ 使得/ 式/ (/ 3/ )/ 所示/ 的/ ISTE/ 指标/ 最小/ Page5/ 假设/ PI/ 控制器/ 的/ 传递函数/ 为用/ 对称/ 三阶/ Pade/ 近似/ 代替/ 式/ (/ 2/ )/ 中/ 的/ 时滞/ 环节/ ,/ 则/ 式/ (/ 2/ )/ 可以/ 表示/ 为/ 真分式/ 的/ 形式/ 其中/ N/ (/ s/ )/ 和/ D/ (/ s/ )/ 为/ s/ 的/ 多项式/ ./ 记/ δ/ q/ (/ θ/ ,/ t/ )/ 的/ Laplace/ 变换/ 为/ E/ (/ s/ )/ ;/ 假定/ 输入/ 信号/ r/ (/ t/ )/ 和/ 干扰信号/ u/ (/ t/ )/ 均/ 为/ 单位/ 阶跃/ 函数/ ,/ 其/ Laplace/ 变换/ 为/ R/ (/ s/ )/ =/ U/ (/ s/ )/ =/ 1Q/ (/ s/ )/ ,/ 则/ Q/ (/ s/ )/ =/ ^/ G/ (/ s/ )/ C/ (/ s/ )/ 将式/ (/ 4/ )/ 、/ 式/ (/ 5/ )/ 和/ 式/ (/ 6/ )/ 代入/ 式/ (/ 7/ )/ 可知/ E/ (/ s/ )/ 仍/ 是/ 一个/ 真分式/ 的/ 形式/ ,/ 记/ 为/ 其中/ A/ (/ s/ )/ 和/ B/ (/ s/ )/ 为/ s/ 的/ 多项式/ ./ 将式/ (/ 3/ )/ 改写/ 为/ J1/ (/ θ/ )/ =/ ∫/ 其中/ :/ F/ (/ s/ )/ =/ -/ d/ 注意/ :/ 式/ (/ 7/ )/ 已/ 考虑/ 到/ 对/ 闭环控制/ 系统/ 的/ 干扰/ ./ 利用/ 求解/ 最优化/ 问题/ 的/ 拟/ 牛顿/ 法/ ,/ 可以/ 找到/ 使得/ 式/ (/ 9/ )/ 最小/ 的/ θ/ ,/ 即/ 具有/ 最小/ ISTE/ 的/ PI/ 控制器/ 的/ 参数/ (/ kp/ ,/ ki/ )/ ./ 文献/ [/ 30/ ]/ 利用/ 拟/ 牛顿/ 法/ 和/ 曲线拟合/ 等/ 方法/ ,/ 给出/ 了/ 被控/ 对象/ 为/ 一阶/ 时滞/ 系统/ 时/ ,/ 具有/ 最小/ ISTE/ 的/ PI/ 控制器/ 的/ 参数/ 整定/ 公式/ ./ 当/ 0.1/ / L/ 时/ ,/ 具有/ 最小/ ISTE/ 的/ PI/ 控制器/ 的/ 参数/ 整定/ 公式/ 如下/ 为/ 得到/ ISTE/ -/ PI/ 算法/ 的/ 参数/ ,/ 用/ 网络/ 特征参数/ 的/ 典型值/ N/ =/ 60/ ,/ R/ =/ 0.21/ ,/ C/ =/ 3750packet/ // s/ 代入/ 式/ (/ 1/ )/ 得/ T1/ =/ 0.21/ ,/ T2/ =/ 1.378/ ,/ Kf/ =/ 33914.795/ ./ 将/ T1/ 、/ T2/ 和/ Kf/ 的/ 值/ 代入/ 式/ (/ 2/ )/ 得/ T/ =/ 1.3940332/ ,/ L/ =/ 0.404092/ ,/ K/ =/ 33914.795/ ./ 将/ T/ ,/ L/ 和/ K/ 的/ 值/ 代入/ 式/ (/ 10/ )/ 和/ 式/ (/ 11/ )/ ,/ 并/ 注意/ 到/ kp/ =/ kc/ ,/ ki/ =/ kcTikp/ =/ 9.789145899/ ×/ 10/ -/ 5/ ,/ ki/ =/ 9.278105158/ ×/ 10/ -/ 5/ 从而/ 得到/ ISTE/ -/ PI/ 控制器/ 的/ 传递函数/ C/ (/ s/ )/ =/ 9.789145899/ ×/ 10/ -/ 5/ +/ 9.278105158/ ×/ 10/ -/ 5/ 为了/ 用/ 计算机程序/ 实现/ AQMPI/ 算法/ ISTE/ -/ PI/ ,/ 需要/ 得到/ 式/ (/ 4/ )/ 所示/ 的/ PI/ 控制器/ 的/ 传递函数/ C/ (/ s/ )/ 的/ 等效/ 离散/ 传递函数/ C/ (/ z/ )/ ,/ 这/ 可以/ 通过/ 双/ 线性变换/ 法/ 实现/ ,/ 即/ C/ (/ z/ )/ =/ C/ (/ s/ )/ s/ =/ 2/ (/ z/ -/ 1/ )/ 其中/ T/ 为/ 采样/ 周期/ ./ 因此/ AQMPI/ 算法/ ISTE/ -/ PI/ 可用/ 如下/ 递推/ 公式/ 实现/ p/ (/ kT/ )/ =/ p/ (/ (/ k/ -/ 1/ )/ T/ )/ +/ a/ δ/ q/ (/ kT/ )/ -/ b/ δ/ q/ (/ (/ k/ -/ 1/ )/ T/ )/ 其中/ 且/ δ/ q/ (/ kT/ )/ =/ q/ (/ kT/ )/ -/ q0/ ,/ q0/ 为/ 参考/ 队列/ 长度/ 或/ 期望/ 队列/ 长度/ ,/ p/ (/ ·/ )/ 为/ 丢/ 包/ 概率/ ./ 将式/ (/ 12/ )/ 带入/ 式/ (/ 17/ )/ ,/ 并取/ T/ =/ 1/ // 160s/ [/ 8/ -/ 18/ ,/ 26/ ]/ 得/ a/ =/ 9.818139978/ ×/ 10/ -/ 5/ ,/ b/ =/ 9.760151820/ ×/ 10/ -/ 5/ 由式/ (/ 15/ )/ 可知/ ,/ 为了/ 计算/ 丢包/ 概率/ ,/ AQMPI/ 算法/ ISTE/ -/ PI/ 只/ 需/ 执行/ 2/ 次/ 乘法/ 和/ 3/ 次加/ (/ 减/ )/ 法/ ,/ 因此/ 计算/ 开销/ 小/ ./ AQMPI/ 算法/ ISTE/ -/ PI/ 可/ 采用/ 如下/ 伪/ 代码/ 实现/ :/ // / 输入/ 参数/ :/ a/ ,/ b/ ,/ T/ ,/ q0T/ =/ 1/ // 160/ 是/ 采样/ 周期/ ,/ q0/ // / 初始化/ 变量/ / // p/ =/ 0/ ;/ // / 丢包/ // 标记/ 概率/ / // pold/ =/ 0/ ;/ qold/ =/ 0/ ;/ // / 每/ 间隔/ T/ 时间段/ ,/ 重新/ 计算/ “/ 丢包/ // 标记/ 概率/ ”/ p/ / // q/ =/ “/ 取/ 当前/ 队列/ 长度/ ”/ ;/ p/ =/ pold/ +/ a/ / (/ q/ -/ q0/ )/ -/ b/ / (/ qold/ -/ q0/ )/ ;/ ifp/ </ 0thenp/ =/ 0/ ;/ ifp/ >/ 1thenp/ =/ 1/ ;/ pold/ =/ p/ ;/ Page6qold/ =/ q/ ;/ // / 当/ 一个/ 新包/ 到达/ 时/ ,/ 按/ 概率/ p/ 丢弃/ 或/ 标记/ 该包/ / // u/ =/ “/ 生成/ 一个/ 0/ ~/ 1/ 间/ 均匀分布/ 的/ 随机数/ ”/ ;/ Ifu/ </ =/ pthen/ “/ 丢弃/ 或/ 标记/ 该包/ ”/ ;/ 我们/ 在/ 式/ (/ 2/ )/ 的/ 基础/ 上/ 得到/ 了/ AQMPI/ 控制器/ ISTE/ -/ PI/ 的/ 参数/ 整定/ 公式/ ,/ 但式/ (/ 2/ )/ 是/ 式/ (/ 1/ )/ 的/ 近似/ ,/ 因此/ 需要/ 用/ Simulink/ 验证/ 如此/ 得到/ 的/ ISTE/ -/ PI/ 控制器/ 与/ 原/ 二阶/ 时滞/ 系统/ 组成/ 的/ 闭环控制/ 系统/ 的/ 稳定性/ ./ 图/ 5/ 是/ 用/ Simulink/ 验证/ 由式/ (/ 13/ )/ 对应/ 的/ ISTE/ -/ PI/ 图/ 5Simulink/ 仿真/ 结构图/ 4ISTE/ -/ PI/ 算法/ 性能/ 验证/ 第/ 3/ 节/ 利用/ Simulink/ 从/ 控制论/ 的/ 角度/ 验证/ 了/ ISTE/ -/ PI/ 控制器/ 和/ TCP/ // AQM/ 传递函数/ 模型/ 组成/ 的/ 闭环/ 系统/ 具有/ 优良/ 的/ 性能/ ,/ 但/ TCP/ 拥塞/ 窗口/ 变化/ 和/ 路由器/ 队列/ 变化/ 之间/ 的/ 关系/ 本质/ 上/ 是/ 非线性/ 的/ 和/ 随机/ 的/ ./ 因此/ (/ 也/ 更/ 重要/ )/ 还/ 需要/ 利用/ NS2/ 验证/ ISTE/ -/ PI/ 算法/ 具有/ 响应速度/ 快/ 、/ 抗干扰能力/ 强/ 、/ 能/ 用于/ 大/ 时滞/ 网络/ 环境/ 、/ 鲁棒性/ 好/ 等/ 特点/ ./ 表/ 2/ 实验/ 场景/ 设置/ 总结/ 验证/ 与/ 路由器/ 缓存/ 容量/ 无关/ 实验/ 6/ 模拟实验/ 中/ ,/ 我们/ 选择/ 有/ 代表性/ 的/ Hollot/ -/ PI/ [/ 8/ ]/ 、/ REN/ -/ PID/ [/ 17/ ]/ 和/ DC/ -/ AQM/ [/ 19/ ]/ 作为/ 对比/ 算法/ ./ 在/ 控制器/ 和/ 式/ (/ 1/ )/ 对应/ 的/ TCP/ // AQM/ 传递函数/ 模型/ 构成/ 的/ 闭环控制/ 系统/ 的/ 结构图/ ,/ 其中/ 的/ 传递函数/ 是/ 将/ T1/ =/ 0.21/ ,/ T2/ =/ 1.378/ ,/ Kf/ =/ 33914.795/ 代入/ 式/ (/ 1/ )/ 并/ 展开/ 分母/ 的/ 括号/ 后/ 得到/ 的/ ./ 该/ 闭环控制/ 系统对/ 单位/ 阶跃/ 的/ 响应/ 曲线/ 见图/ 6/ ./ 从图/ 6/ 可知/ ,/ 在/ 单位/ 阶跃/ 的/ 作用/ 下/ ,/ 该/ 控制系统/ 能/ 迅速/ 稳定/ ,/ 且/ 超/ 调量/ 很小/ ,/ 调节/ 时间/ 也/ 很/ 短/ (/ 小于/ 5s/ )/ ./ 实验/ 采用/ AQM/ 文献/ 中/ 常用/ 的/ 哑铃/ 拓扑/ (/ 图/ 7/ )/ ,/ 其中/ 瓶颈/ 链路/ N/ -/ D/ 的/ 带宽/ 15Mbps/ ,/ 延迟/ 5ms/ ;/ 发送数据/ 的/ 源/ 节点/ 为/ S1/ ,/ S2/ ,/ …/ ,/ Sn/ ,/ Si/ 到/ N/ 间/ 的/ 带宽/ 15Mbps/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ n/ )/ ,/ 延迟/ 在/ 160ms/ ~/ 240ms/ 之间/ (/ 用于/ 实验/ 1/ ~/ 4/ 及/ 实验/ 6/ )/ 或/ 400ms/ ~/ 800ms/ 之间/ (/ 用于/ 实验/ 5/ )/ 均匀分布/ ;/ 接收数据/ 的/ 目的/ 节点/ 为/ F1/ ,/ F2/ ,/ …/ ,/ Fn/ ,/ D/ 到/ Fi/ 间/ 的/ 带宽/ 45Mbps/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ n/ )/ ,/ 延迟/ 为/ 5ms/ 或/ 190ms/ ;/ 参考/ 队列/ 长度/ (/ 也/ 称/ 期望/ 队列/ 长度/ )/ q0/ 设置/ 为/ 200/ 个/ IP/ 包/ ;/ 瓶颈/ 链路/ N/ -/ D/ 缓冲区/ 大小/ 为/ 800/ 个/ IP/ 包/ (/ 实验/ 7/ 为/ 400/ 个/ IP/ 包/ )/ ./ 实验/ 的/ 场景/ 设置/ 见表/ 2/ ./ 展示/ 每个/ 实验/ 结果/ 时/ ,/ 我们/ 既/ 给出/ 反映/ 算法/ 动态/ 特性/ 的/ “/ 瞬时/ 队列/ 长度/ 变化/ 图/ ”/ (/ 其/ 横坐标/ 为/ 时间/ ,/ 单/ Page7/ 位/ s/ ;/ 纵坐标/ 为/ 队列/ 长度/ QueueSize/ ,/ 单位/ packet/ )/ ,/ 又/ 给出/ 反映/ 算法/ 统计/ 特征/ 的/ 平均/ 队列/ 长度/ 、/ 队列/ 长度/ 的/ 标准差/ (/ 可/ 用于/ 衡量/ 瞬时/ 队列/ 长度/ 在/ q0/ 附近/ 的/ 振荡/ 程度/ ,/ 反映/ 了/ 端/ 到/ 端的/ 时延/ 抖动/ ,/ 队列/ 长度/ 的/ 标准差/ 越小越/ 好/ )/ 、/ 丢/ 包率/ 和/ 链路/ 利用率/ 等/ 统计/ 量/ ./ 实验/ 1/ ./ 验证/ ISTE/ -/ PI/ 算法/ 在/ TCP/ 长流/ (/ long/ 图/ 8/ 瞬时/ 队列/ 长度/ 变化/ 图/ (/ 实验/ 1/ )/ Hollot/ -/ PI264/ ./ 97141.1099/ ./ 7016.85/ REN/ -/ PID213/ ./ 0477.9899/ ./ 6818.14/ DC/ -/ AQM329/ ./ 30163.1799/ ./ 7015.08/ ISTE/ -/ PI205/ ./ 5252.1099/ ./ 6818.32/ 由图/ 8/ 可知/ ,/ 当/ 网络流量/ 发生变化/ 时/ (/ t/ =/ 0/ ,/ 100/ ,/ 150/ )/ ,/ ISTE/ -/ PI/ 比/ Hollot/ -/ PI/ 、/ REN/ -/ PID/ 和/ DC/ -/ AQM/ 更加/ 迅速/ 地/ 回到/ q0/ =/ 200/ 的/ 稳定/ 状态/ ,/ 表明/ ISTE/ -/ PI/ 的/ 响应速度/ 快/ ;/ 从图/ 中/ 可知/ ,/ ISTE/ -/ PI/ 稳定性/ 也/ 比/ 其它/ 3/ 个/ 算法/ 好/ ./ 从表/ 3/ 可知/ ,/ ISTE/ -/ PI/ 的/ 平均/ 队列/ 长度/ 比/ Hol/ -/ lot/ -/ PI/ 、/ REN/ -/ PID/ 和/ DC/ -/ AQM/ 的/ 平均/ 队列/ 长度/ 小且/ 更/ 接近/ q0/ =/ 200/ 的/ 稳定/ 状态/ ,/ 表明/ ISTE/ -/ PI/ 端到/ 端的/ 时延/ 小/ ./ ISTE/ -/ PI/ 队列/ 长度/ 的/ 标准差/ 比/ Hollot/ -/ livedTCPflows/ )/ 下/ 的/ 响应速度/ 和/ 稳定性/ ./ 实验/ 场景/ 设置/ 如下/ :/ 在/ 时间/ t/ =/ 0s/ 时/ ,/ 创建/ 200/ 个/ TCP/ 长流/ ;/ 在/ 时间/ t/ =/ 100s/ 时/ ,/ 停止/ 其中/ 的/ 100/ 个/ TCP/ 长流/ ;/ 在/ 时间/ t/ =/ 150s/ 时/ 再/ 将/ 这/ 100/ 个/ TCP/ 长流/ 重新加入/ 到/ 系统/ 中/ ,/ 模拟/ 时间/ 为/ 300s/ ./ 实验/ 结果/ 见图/ 8/ 和表/ 3/ ./ PI/ 、/ REN/ -/ PID/ 和/ DC/ -/ AQM/ 的/ 小/ ,/ 表明/ ISTE/ -/ PI/ 在/ 稳定/ 状态/ q0/ =/ 200/ 附近/ 振荡/ 幅度/ 比/ Hollot/ -/ PI/ 、/ REN/ -/ PID/ 和/ DC/ -/ AQM/ 的/ 小/ ,/ 导致/ IP/ 包/ 的/ 时延/ 抖动/ 小/ ./ 这些/ 算法/ 的/ 链路/ 利用率/ 没有/ 太/ 大/ 区别/ ,/ 丢/ 包率/ 在/ 3/ %/ 幅度/ 内/ 变动/ ,/ 其中/ DC/ -/ AQM/ 的/ 丢/ 包率/ 最小/ ./ 实验/ 2/ ./ 验证/ 聚合/ 业务/ 流量/ 下/ ISTE/ -/ PI/ 算法/ 的/ 响应速度/ 、/ 稳定性/ 和/ 抗干扰能力/ ./ 实验/ 2/ 使用/ 了/ 由/ TCP/ 长流/ 、/ TCP/ 短流/ 和/ UDP/ 流/ 构成/ 的/ 混合/ 业务/ 流量/ ./ 其中/ “/ 响应/ 流量/ ”/ 由/ 200/ 个/ TCP/ 长流/ 组成/ ,/ “/ 非/ 响应/ 流量/ ”/ 由/ 500/ 个/ TCP/ 短流/ 和/ 100/ 个/ UDP/ 流/ 组成/ ./ 以上/ 流量/ 在/ t/ =/ 0s/ 时/ 创建/ ;/ 在/ t/ =/ 100s/ 时/ 停止/ 100/ 个/ TCP/ 长流/ ,/ 50/ 个/ UDP/ 流/ ;/ t/ =/ 200s/ 时/ 重新加入/ 以上/ 流量/ ;/ 模拟/ 时间/ 为/ 300s/ ./ 实验/ 结果/ 见图/ 9/ 和表/ 4/ ./ Page8/ 图/ 9/ 瞬时/ 队列/ 长度/ 变化/ 图/ (/ 实验/ 2/ )/ Hollot/ -/ PI438/ ./ 14359.0192/ ./ 9467.70/ REN/ -/ PID246/ ./ 41233.9694/ ./ 9566.00/ DC/ -/ AQM420/ ./ 49362.3084/ ./ 3468.66/ ISTE/ -/ PI221/ ./ 44151.0097/ ./ 8665.17/ 由图/ 9/ 可知/ ,/ 在/ 聚合/ 业务/ 流量/ 作用/ 下/ ,/ ISTE/ -/ PI/ 的/ 性能/ 大大/ 优于/ Hollot/ -/ PI/ 、/ REN/ -/ PID/ 和/ DC/ -/ AQM/ ;/ 即/ 与/ Hollot/ -/ PI/ 、/ REN/ -/ PID/ 和/ DC/ -/ AQM/ 相比/ ,/ ISTE/ -/ PI/ 能/ 非常/ 迅速/ 地/ 回到/ 稳定/ 状态/ q0/ =/ 200/ ,/ 且/ 在/ 稳定/ 状态/ 附近/ 小幅/ 振荡/ ./ 而/ 其它/ 3/ 个/ 算法/ 使/ 路由器/ 缓冲/ 队列/ 长时间/ 处于/ 上溢/ 或/ 下溢/ 状态/ ,/ 且/ 在/ 稳定/ 状态/ 附近/ 大幅/ 振荡/ ./ 由表/ 4/ 可知/ ,/ ISTE/ -/ PI/ 的/ 平均/ 队列/ 长度/ 比/ Hollot/ -/ PI/ 、/ REN/ -/ PID/ 和/ DC/ -/ AQM/ 的/ 平均/ 队列/ 长度/ 小且/ 更/ 接近/ q0/ =/ 200/ 的/ 稳定/ 状态/ ,/ 表明/ ISTE/ -/ PI/ 端到/ 端的/ 时延/ 小/ ./ ISTE/ -/ PI/ 队列/ 长度/ 的/ 标准差/ 比/ Hollot/ -/ PI/ 、/ REN/ -/ PID/ 和/ DC/ -/ AQM/ 的/ 小得多/ ,/ 表明/ ISTE/ -/ PI/ 在/ q0/ =/ 200/ 附近/ 振荡/ 幅度/ 小得多/ ,/ 即/ IP/ 包/ 的/ 时延/ 抖动/ 小得多/ ./ 此/ 实验/ 中/ ISTE/ -/ PI/ 的/ 链路/ 利用率/ 比/ 其它/ 3/ 个/ 算法/ 的/ 大/ ,/ 丢/ 包率/ 比/ 其它/ 3/ 个/ 算法/ 的/ 小/ ./ 以上/ 结果表明/ ,/ 在/ 聚合/ 业务/ 流量/ 作用/ 下/ ,/ ISTE/ -/ PI/ 响应速度/ 快/ 、/ 抗干扰能力/ 强/ 、/ 稳定性/ 好/ ./ 其/ 性能/ 大大/ 优于/ Hollot/ -/ PI/ 、/ REN/ -/ PID/ 和/ DC/ -/ AQM/ ./ 实验/ 3/ ./ 验证/ 非/ 响应/ 业务/ 流量/ 条件/ 下/ ISTE/ -/ PI/ 算法/ 的/ 抗干扰能力/ ./ TCP/ // AQM/ 模型/ 仅/ 反映/ 了/ 响应/ 业务/ 流量/ (/ 即/ TCP/ 长流/ )/ 与/ 路由器/ 队列/ 长度/ 变化/ 之间/ 的/ 关系/ ,/ 而/ 没有/ 反映/ 非/ 响应/ 业务/ 流量/ (/ 即/ TCP/ 短流/ 和/ UDP/ 流/ )/ 与/ 路由器/ 队列/ 长度/ 变化/ 之间/ 的/ 关系/ ./ 从/ 控制论/ 的/ 观点/ 看/ ,/ 可以/ 将/ 非/ 响应/ 业务/ 流量/ 认为/ 是/ 作用/ 到/ 闭环控制/ 系统/ 的/ 干扰/ ./ 本/ 实验/ 将/ 验证/ 非/ 响应/ 业务/ 流量/ 条件/ 下/ ISTE/ -/ PI/ 算法/ 的/ 抗干扰能力/ ./ 实验/ 场景/ 设置/ 如下/ :/ 在/ t/ =/ 0s/ 时/ ,/ 启动/ 300/ 个/ TCP/ 短流/ ,/ 100/ 个/ UDP/ 流/ ;/ 在/ t/ =/ 50/ 时/ ,/ 启动/ 400/ 个/ TCP/ 短流/ ,/ 停止/ 50/ 个/ UDP/ 流/ ;/ t/ =/ 100/ 时/ 重新加入/ 50/ 个/ UDP/ 流/ ,/ 模拟/ 时间/ 为/ 300s/ ./ 实验/ 结果/ 见图/ 10/ 和表/ 5/ ./ Hollot/ -/ PI439/ ./ 07302.5899/ ./ 5367.54/ REN/ -/ PID259/ ./ 53206.2199/ ./ 3289.75/ DC/ -/ AQM779/ ./ 7044.4299/ ./ 7289.74/ ISTE/ -/ PI221/ ./ 35159.2297/ ./ 7667.91/ Page9/ 图/ 10/ 瞬时/ 队列/ 长度/ 变化/ 图/ (/ 实验/ 3/ )/ 由图/ 10/ 和表/ 5/ 可知/ ,/ 在/ 非/ 响应/ 业务/ 流量/ 作用/ 下/ ,/ ISTE/ -/ PI/ 的/ 性能/ 也/ 大大/ 优于/ Hollot/ -/ PI/ 、/ REN/ -/ PID/ 和/ DC/ -/ AQM/ ;/ 其中/ ISTE/ -/ PI/ 抗干扰能力/ 最强/ ,/ DC/ -/ AQM/ 抗干扰能力/ 最/ 弱/ ,/ 因为/ DC/ -/ AQM/ 利用/ 了/ 抗干扰能力/ 弱/ 的/ 内模/ 控制器/ [/ 26/ ]/ ./ 实验/ 4/ ./ 验证/ 当/ 瓶颈/ 链路/ 容量/ 发生变化/ 时/ ISTE/ -/ PI/ 算法/ 的/ 鲁棒性/ ./ 在/ 计算/ ISTE/ -/ PI/ 控制器/ 的/ 参数/ 时/ ,/ 使用/ 了/ 网络/ 特征参数/ 的/ 典型值/ N/ =/ 60/ ,/ R/ =/ 0.21/ ,/ C/ =/ 3750packet/ // s/ (/ =/ 15MB/ )/ ./ 为了/ 验证/ 算法/ 的/ 鲁棒性/ ,/ 将/ 网络/ 特征参数/ 中/ 的/ 瓶颈/ 链路/ 速率/ 改变/ 为/ 30MB/ (/ 即/ C/ =/ 7500packet/ // s/ )/ ,/ 实验/ 场景/ 设置/ 如下/ :/ 在/ t/ =/ 0s/ 时/ ,/ 创建/ 400/ 个/ TCP/ 长流/ ,/ 1000/ 个/ TCP/ 短流/ ;/ 在/ t/ =/ 50s/ 时/ ,/ 停止/ 其中/ 的/ 300/ 个/ TCP/ 长流/ ;/ 在/ t/ =/ 100s/ 时/ 再/ 将/ 这/ 300/ 个/ TCP/ 长流/ 重新加入/ 到/ 系统/ 中/ ;/ 在/ t/ =/ 150s/ 时新/ 加入/ 400/ 个/ TCP/ 长流/ ,/ 此时/ 系统/ 中/ TCP/ 长流/ 的/ 总数/ 达到/ 800/ ;/ 在/ t/ =/ 200s/ 时/ 停止/ 新/ 加入/ 到/ 系统/ 中/ 的/ 400/ 个/ TCP/ 长流/ ,/ 模拟/ 时间/ 为/ 300s/ ./ 实验/ 结果/ 见图/ 11/ 和表/ 6/ ./ 从图/ 11/ 可知/ ,/ 当/ 网络流量/ 发生变化/ 时/ (/ t/ =/ 0/ ,/ 50/ ,/ 100/ ,/ 150/ ,/ 200/ )/ ,/ ISTE/ -/ PI/ 比/ Hollot/ -/ PI/ 、/ REN/ -/ PID/ 和/ DC/ -/ AQM/ 更/ 迅速/ 回到/ q0/ =/ 200/ 的/ 稳定/ 状态/ ./ Hollot/ -/ PI275/ ./ 82231.9191/ ./ 8621.42/ REN/ -/ PID214/ ./ 78129.0897/ ./ 9421.82/ DC/ -/ AQM228/ ./ 37183.6087/ ./ 9122.40/ ISTE/ -/ PI206/ ./ 4387.8099/ ./ 4021.85/ 表/ 6/ 的/ 统计数据/ 表明/ ISTE/ -/ PI/ 端到/ 端的/ 时延/ 最小/ ,/ 时延/ 抖动/ 也/ 最小/ ./ 以上/ 事实/ 说明/ ,/ 与/ Hollot/ -/ PI/ 、/ REN/ -/ PID/ 和/ DC/ -/ AQM/ 相比/ ,/ ISTE/ -/ PI/ 的/ 鲁棒性/ 最好/ ./ 实验/ 5/ ./ 验证/ 大/ 时滞/ 网络/ 环境/ 下/ ISTE/ -/ PI/ 算法/ 的/ 鲁棒性/ ./ 为了/ 验证/ 算法/ 在/ 大/ 时滞/ 网络/ 环境/ 下/ 的/ 性能/ ,/ 将/ 发送/ 端的/ 传播/ 延迟/ 改为/ 在/ 400ms/ 到/ 800ms/ 之间/ 均匀分布/ ,/ 接收端/ 传播/ 延迟/ 改为/ 190ms/ ,/ 使用/ 与/ 实验/ 4/ 相同/ 的/ 网络流量/ ,/ 模拟/ 时间/ 为/ 300s/ ./ 实验/ 结果/ 见图/ 12/ 和表/ 7/ ./ Hollot/ -/ PI283/ ./ 85223.0397/ ./ 3623.18/ REN/ -/ PID216/ ./ 36134.4998/ ./ 5724.05/ DC/ -/ AQM109/ ./ 19128.8269/ ./ 3428.33/ ISTE/ -/ PI207/ ./ 36101.8998/ ./ 8724.11/ Page10/ 图/ 11/ 瞬时/ 队列/ 长度/ 变化/ 图/ (/ 实验/ 4/ )/ 图/ 12/ 瞬时/ 队列/ 长度/ 变化/ 图/ (/ 实验/ 5/ )/ Page11/ 从图/ 12/ 可知/ ,/ 当/ 网络流量/ 发生变化/ 时/ (/ t/ =/ 0/ ,/ 50/ ,/ 100/ ,/ 150/ ,/ 200/ )/ ,/ ISTE/ -/ PI/ 比/ Hollot/ -/ PI/ 和/ REN/ -/ PID/ 更/ 迅速/ 回到/ 稳定/ 状态/ ./ 尽管/ DC/ -/ AQM/ 是/ 专门/ 针对/ 大/ 时滞/ 网络/ 环境/ 设计/ 的/ 算法/ ,/ 但/ 当/ 网络流量/ 发生变化/ 时/ ,/ DC/ -/ AQM/ 不能/ 迅速/ 回到/ q0/ =/ 200/ 的/ 稳定/ 状态/ ,/ 并/ 在/ 稳定/ 状态/ 之下/ 大幅/ 震荡/ ,/ 性能/ 较/ ISTE/ -/ PI/ 差/ ./ 表/ 7/ 的/ 统计数据/ 表明/ ISTE/ -/ PI/ 的/ 平均/ 队列/ 长度/ 及其/ 标准差/ 、/ 链路/ 利用率/ 均/ 比/ Hollot/ -/ PI/ 和/ REN/ -/ PID/ 的/ 对应/ 统计/ 量/ 好/ ./ 尽管/ DC/ -/ AQM/ 平均/ 队列/ 长度/ 小于/ ISTE/ -/ PI/ ,/ 但/ 这/ 是/ 以/ 其/ 较/ 高/ 的/ 丢/ 包率/ 和/ 较/ 低/ 的/ 链路/ 利用率/ 为/ 代价/ 获得/ 的/ ,/ 且/ 其/ 瞬时/ 队列/ 长度/ 在/ q0/ =/ 200/ 以下/ 大幅/ 震荡/ ./ 实验/ 结果表明/ ,/ ISTE/ -/ PI/ 在/ 大/ 时滞/ 网络/ 环境/ 的/ 图/ 13/ 瞬时/ 队列/ 长度/ 变化/ 图/ (/ 实验/ 6/ )/ Hollot/ -/ PI265/ ./ 8896.0099/ ./ 6816.54/ REN/ -/ PID213/ ./ 0462.3499/ ./ 7017.93/ DC/ -/ AQM322/ ./ 1075.0999/ ./ 7014.43/ ISTE/ -/ PI205/ ./ 6742.9299/ ./ 6818.24/ 从/ 实验/ 结果/ 可知/ ,/ 与/ Hollot/ -/ PI/ 、/ REN/ -/ PID/ 和/ DC/ -/ AQM/ 相比/ ,/ ISTE/ -/ PI/ 仍/ 具有/ 最好/ 的/ 性能/ ,/ 表明/ 响应速度/ 、/ 稳定性/ 和/ 鲁棒性/ 好于/ 其它/ 3/ 个/ 算法/ ./ 实验/ 6/ ./ 验证/ ISTE/ -/ PI/ 算法/ 不/ 依赖于/ 路由器/ 缓存/ 容量/ 的/ 大小/ ./ 此/ 实验/ 是/ 为了/ 验证/ ISTE/ -/ PI/ 算法/ 不/ 依赖于/ 路由器/ 缓存/ 容量/ ,/ 即/ 验证/ 当/ 瓶颈/ 链路/ 缓存/ 容量/ 减小/ 时/ 算法/ 的/ 性能/ ./ 实验/ 场景/ 设置/ 如下/ :/ 将/ 瓶颈/ 链路/ 缓存/ 容量/ 设置/ 为/ 400/ ,/ 期望/ 队列/ 长度/ 设置/ 为/ 200/ ,/ 在/ 时间/ t/ =/ 0s/ 时/ ,/ 创建/ 200/ 个/ TCP/ 长流/ ;/ 在/ 时间/ t/ =/ 100s/ 时/ ,/ 停止/ 其中/ 的/ 100/ 个/ TCP/ 长流/ ;/ 在/ 时间/ t/ =/ 150s/ 时/ 再/ 将/ 这/ 100/ 个/ TCP/ 长流/ 重新加入/ 到/ 系统/ 中/ ,/ 模拟/ 时间/ 为/ 300s/ ./ 实验/ 结果/ 见图/ 13/ 和表/ 8/ ./ ISTE/ -/ PI/ 对/ 路由器/ 缓存/ 容量/ 的/ 依赖性/ 不/ 强/ ,/ 稳定性/ 更好/ ./ 5/ 结论/ 针对/ 现有/ 基于/ 控制论/ 的/ 主动/ 队列/ 管理/ (/ AQM/ )/ 算法/ 的/ 不足/ ,/ 在/ 不/ 忽略/ TCP/ // AQM/ 传递函数/ 模型/ 中/ 的/ 时滞/ 环节/ 的/ 条件/ 下/ ,/ 将/ TCP/ 短流/ 和/ UDP/ 流/ 作为/ Page12/ 干扰信号/ 引入/ AQM/ 控制器/ 的/ 设计/ 过程/ ,/ 同时/ 借助/ 最小/ “/ 时间/ 加权/ 平方/ 误差/ 积分/ (/ ISTE/ )/ ”/ 方法/ ,/ 使/ 路由器/ 瞬时/ 队列/ 长度/ 在/ 参考/ 队列/ 长度/ 附近/ 小幅/ 摆动/ ,/ 设计/ 了/ 一个/ 基于/ PI/ 控制器/ 的/ AQM/ 算法/ ISTE/ -/ PI/ ,/ 该/ 算法/ 不仅/ 保持/ 了/ 现有/ 各/ AQM/ 算法/ 的/ 优点/ ,/ 同时/ 也/ 克服/ 了/ 其/ 缺点/ ;/ 即/ ISTE/ -/ PI/ 算法/ 同时/ 具备/ 响应速度/ 快/ 、/ 计算/ 开销/ 小/ 、/ 能/ 用于/ 大/ 时滞/ 网络/ 环境/ 、/ 抗干扰能力/ 强且/ 鲁棒性/ 好/ 等/ 特点/ ./ 借助于/ NS2/ 模拟实验/ ,/ 我们/ 充分/ 地/ 验证/ 了/ ISTE/ -/ PI/ 算法/ 具备/ 上述/ 性能/ 特性/ ./ 

