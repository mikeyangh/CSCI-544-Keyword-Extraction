Page1/ 基于/ 补库/ 所/ 的/ 死锁/ 预防/ 策略/ 吴文慧王/ 寿光/ (/ 浙江/ 工商大学/ 信息/ 与/ 电子/ 工程学院/ 杭州/ 310018/ )/ 摘要/ 文中/ 基于/ 补库/ 所/ 理论/ 提出/ 了/ 活性/ 控制器/ 设计/ 方法/ ./ 首先/ ,/ 利用/ 容量/ 函数/ K/ 将/ 原/ Petri/ 网/ N/ 转变/ 为/ 有限/ 容量/ 网/ 珦/ N/ ,/ 再/ 通过/ 逐一/ 增加/ K/ 值得/ 到/ 具有/ 最大/ 可达集/ 的/ 容量/ 函数/ Kmax/ ,/ 然后/ 根据/ Kmax/ 添加/ 一组/ 补库/ 所/ ,/ 最终/ 得到/ 活性/ 受控/ 网/ N/ ./ 文中/ 首先/ 以/ S3PR/ 网/ 模型/ 为例/ ,/ 与/ 几种/ 经典/ 的/ 死锁/ 预防/ 控制策略/ 进行/ 比较/ ./ 实例/ 数据/ 表明/ ,/ 基于/ 补库/ 所/ 理论/ 设计/ 的/ 控制器/ 不仅/ 结构/ 简单/ ,/ 避免/ 了/ 信标/ 计算/ ,/ 还/ 具有/ 较/ 好/ 的/ 行为/ 许可/ 性/ ./ 最后/ ,/ 以/ S3PGR2/ 网/ 模型/ 为例/ ,/ 说明/ 基于/ 补库/ 所/ 的/ 死锁/ 预防/ 策略/ 同样/ 可以/ 应用/ 于/ 一般/ Petri/ 网/ ./ 关键词/ Petri/ 网/ ;/ 死锁/ ;/ 补库/ 所/ 控制器/ 1/ 引言/ 柔性制造系统/ 是/ 一个/ 典型/ 的/ 离散/ 事件/ 系统/ ./ 该/ 系统/ 中/ 资源/ 高度/ 共享/ ,/ 如果/ 缺乏/ 有效/ 的/ 调度/ 和/ 控制/ ,/ 则/ 可能/ 发生/ 死锁/ 现象/ [/ 1/ ]/ ,/ 从而/ 造成/ 整个/ 或/ 部分/ 系统/ 的/ 停顿/ ,/ 带来/ 严重/ 的/ 经济损失/ 甚至/ 灾难性/ 后果/ ./ 因/ Page2/ 锁/ 的/ 分析/ 和/ 控制/ 方面/ 取得/ 了/ 丰富/ 的/ 研究成果/ ./ 其中/ 不乏/ 一些/ 非常/ 经典/ ,/ 且/ 影响/ 广泛/ 的/ 死锁/ 控制/ 方法/ ./ 如/ Ezpeleta/ 等/ 人/ [/ 4/ ]/ 提出/ 的/ 基于/ 控制/ 库所/ 的/ 活性/ Petri/ 网/ 控制器/ 的/ 设计/ 方法/ ./ 该/ 方法/ 成功/ 地/ 分离/ 了/ 系统/ 模型/ 和/ 控制器/ ,/ 成为/ 死锁/ 预防/ 法中/ 的/ 经典之作/ ,/ 但/ 却/ 在/ 计算/ 复杂性/ 、/ 结构/ 复杂性/ 和/ 行为/ 许可/ 性/ 三个/ 方面/ 存在/ 不足/ ./ Huang/ 等/ 人/ [/ 6/ ]/ 提出/ 了/ 迭代/ 死锁/ 控制策略/ ,/ 这/ 提高/ 了/ 死锁/ 控制/ 的/ 计算/ 效率/ 且/ 具有/ 更/ 多/ 的/ 许可/ 行为/ ,/ 但/ 在/ 活性/ Petri/ 网/ 控制器/ 结构/ 复杂性/ 方面/ 没有/ 明确/ 改善/ ./ Uzam/ [/ 8/ ]/ 提出/ 了/ 求解/ 最优/ 活性/ Petri/ 网/ 控制器/ 的/ 区域/ 理论/ ,/ 但/ 没有/ 解决/ 计算/ 复杂性/ 和/ 结构/ 复杂性/ 问题/ ./ Li/ 和/ Zhou/ [/ 9/ -/ 11/ ]/ 提出/ 了/ 基于/ 基本/ 信标/ 理论/ 的/ 死锁/ 控制策略/ ,/ 这/ 大大简化/ 了/ 控制器/ 结构/ ,/ 但/ 不足之处/ 在于/ 计算/ 复杂性/ 和/ 行为/ 许可/ 性/ ,/ 且/ 存在/ 一个/ Petri/ 网/ 的/ 基本/ 信标/ 的/ 集合/ 不是/ 唯一/ 的/ 问题/ ./ 可以/ 看出/ ,/ 上述/ 的/ 这些/ 死锁/ 预防/ 控制策略/ 在/ 不同/ 理论/ 方法/ 的/ 基础/ 上/ 有着/ 各自/ 明显/ 的/ 优势/ ,/ 亦/ 存在/ 各种/ 明显/ 的/ 不足/ [/ 12/ ]/ ,/ 主要/ 体现/ 在/ 行为/ 许可/ 性/ 、/ 计算/ 复杂性/ 、/ 结构/ 复杂性/ 和/ 策略/ 适用范围/ 等/ 方面/ ./ 因此/ 很多/ 学者/ 针对/ 其中/ 的/ 某个/ 或/ 某些/ 问题/ 展开/ 进一步/ 的/ 研究/ [/ 13/ -/ 22/ ]/ ,/ 其中/ Wang/ 等/ 人/ [/ 22/ ]/ 提出/ 了/ 一种/ 针对/ S3PR/ 网/ 的/ 基于/ 补库/ 所/ 理论/ 和/ 信标/ 理论/ 的/ 死锁/ 预防/ 控制策略/ ,/ 通过/ 给/ Petri/ 网/ 严格/ 极小/ 信标/ 中/ 的/ 部分/ 操作/ 库所/ 添加/ 补库/ 所/ ,/ 从而/ 形成/ 结构/ 极为/ 简单/ 的/ 补库/ 所/ 活性/ 控制器/ ./ 本文/ 基于/ 补库/ 所/ 控制/ 理论/ ,/ 提出/ 了/ 不同于/ Wang/ 等/ 人/ [/ 22/ ]/ 的/ 补库/ 所/ 控制器/ 设计/ 算法/ ,/ 来/ 处理/ Petri/ 网/ 系统/ 的/ 死锁/ 问题/ ./ 该/ 方法/ 最大/ 的/ 特点/ 在于/ 无需/ 通过/ 信标/ 计算/ 便/ 可/ 得到/ 一个/ 控制器/ 结构/ 简单/ 且/ 具有/ 更好/ 的/ 许可/ 行为/ 性/ 的/ 活性/ 受控/ 网/ ./ 此外/ ,/ 该死/ 锁/ 预防/ 策略/ 适用范围/ 较广/ ,/ 可/ 适用/ 于/ 权值/ 大于/ 等于/ 1/ 的/ 一般/ Petri/ 网/ ./ 但/ 该/ 方法/ 亦/ 有/ 不足之处/ ,/ 其/ 计算/ 复杂性/ 为/ 指数/ 级/ ./ 2/ 基本概念/ 一个/ Petri/ 网/ 结构/ 是/ 一个/ 4/ 元组/ ,/ 记作/ N/ =/ (/ P/ ,/ T/ ,/ F/ ,/ W/ )/ ,/ 其中/ P/ 是/ 库/ 所集/ ,/ T/ 是/ 变迁/ 集合/ ,/ 它们/ 是/ 有限/ 、/ 非空且/ 不/ 相交/ 集合/ ;/ F/ / (/ P/ ×/ T/ )/ ∪/ (/ T/ ×/ P/ )/ 被/ 称为/ 有/ 向/ 弧/ 集合/ ;/ W/ :/ F/ →/ / 函数/ ./ 令/ x/ ∈/ P/ ∪/ T/ 是/ Petri/ 网/ N/ 的/ 节点/ ,/ x/ 的/ 前置/ 集/ ·/ x/ 定义/ 为/ ·/ x/ =/ {/ y/ ∈/ P/ ∪/ T/ |/ (/ y/ ,/ x/ )/ ∈/ F/ }/ ,/ x/ 的/ 后置/ 集/ x/ ·/ 定义/ 为/ x/ ·/ =/ {/ y/ ∈/ P/ ∪/ T/ |/ (/ x/ ,/ y/ )/ ∈/ F/ }/ ./ Petri/ 网/ N/ 的/ 标识/ 是/ 一个/ 映射/ M/ :/ P/ →/ / ,/ 其中/ / =/ {/ 0/ ,/ 1/ ,/ 2/ ,/ …/ }/ ,/ (/ N/ ,/ M/ )/ 被/ 称为/ 一个/ 被/ 标记/ 的/ 网/ ./ M/ (/ p/ )/ 表示/ 在/ 标识/ M/ 下库/ 所/ p/ 中托肯/ 的/ 个数/ ,/ 其中/ p/ ∈/ P/ ./ M0/ 记作/ 系统/ 的/ 初始/ 标识/ ./ 对于/ 变迁/ t/ ∈/ T/ ,/ 称/ 其/ 在/ 标识/ M/ 下/ 是/ 使/ 能/ 的/ 当且/ 仅/ 当/ / p/ ∈/ ·/ t/ ,/ M/ (/ p/ )/ / W/ (/ p/ ,/ t/ )/ ,/ 记作/ M/ [/ t/ 〉/ ./ 在/ 标识/ M/ 下/ ,/ 使能/ 的/ 变迁/ t/ 发射/ 后/ ,/ 网/ 系统/ 跃迁/ 到/ 另外/ 一个/ 状态/ ,/ 产生/ 一个/ 新/ 的/ 标识/ M/ ,/ 使得/ / p/ ∈/ P/ ,/ M/ =/ M/ (/ p/ )/ -/ W/ (/ p/ ,/ t/ )/ +/ W/ (/ t/ ,/ p/ )/ ,/ 记作/ M/ [/ t/ 〉/ M/ ./ 从/ M0/ 可达/ 的/ 所有/ 标识/ 的/ 集合/ 称为/ (/ N/ ,/ M0/ )/ 的/ 可达集/ ,/ 记作/ R/ (/ N/ ,/ M0/ )/ ./ 对于/ P/ 的/ 子集/ S/ / P/ ,/ 如果/ S/ 中有/ 一个/ 库所/ 被/ 标记/ ,/ 则/ S/ 被/ 标记/ ,/ S/ 中/ 所有/ 库所里/ 的/ 托/ 肯数/ 总和/ 记为/ M/ (/ S/ )/ ./ |/ S/ |/ 表示/ 库所集/ S/ 中所/ 拥有/ 的/ 库/ 所/ 个数/ ./ 如果/ 其库/ 所/ 集合/ S/ 满足/ ·/ S/ / S/ ·/ ,/ 则/ S/ 被/ 称为/ 一个/ 信标/ ./ 一个/ 简单/ 顺序/ 过程/ 资源/ 系统/ (/ ASystemofSimpleSequentialProcesswithResources/ ,/ S3PR/ )/ 网/ N/ =/ Ο/ q/ (/ PiA/ ∪/ {/ Pi/ 网/ ,/ 该/ 子网/ 通过/ 一些/ 公共/ 库所/ 连接/ 并/ 满足/ :/ (/ 1/ )/ Pi/ (/ 2/ )/ PRi/ 和/ Pi/ (/ 3/ )/ / p/ ∈/ Pi/ 称为/ 操作/ 库所/ 和/ 资源库/ 所/ ;/ PRi/ =/ / ;/ PR/ =/ t/ ·/ ∩/ PR/ =/ {/ rp/ }/ ;/ (/ 4/ )/ / r/ ∈/ PRi/ ,/ ·/ ·/ r/ ∩/ Pi/ (/ 5/ )/ ·/ ·/ (/ pi/ (/ 6/ )/ 当/ 所有/ 的/ 资源库/ 所/ 和/ 相应/ 的/ 弧/ 从/ 子网/ Ni/ 中/ 移除/ 后/ ,/ 得到/ 的/ 网/ Ni/ 是/ 一个/ 强/ 连通/ 状态机/ 且/ Ni/ 的/ 每条/ 回路/ 中/ 都/ 含有/ 过程/ 闲置/ 库所/ Pi/ 库所/ 必须/ 是/ 资源库/ 所/ ,/ 称/ Ni/ 和/ Nj/ 是/ 可/ 组合/ 的/ ./ r/ ∈/ PRi/ 的/ 持有者/ 集合/ ,/ 珚/ S/ =/ [/ ∪/ r/ ∈/ SR/ 的/ 补集/ ./ 3/ 补库/ 所/ 控制/ 理论/ (/ 7/ )/ 如果/ 子网/ Ni/ 和/ Nj/ 拥有/ 共享资源/ ,/ 则/ 共享/ 的/ 在/ S3PR/ 网中/ ,/ H/ (/ r/ )/ =/ ·/ ·/ r/ ∩/ PA/ 为/ 资源库/ 所/ 定义/ 1/ ./ 一个/ Petri/ 网/ (/ N/ ,/ M0/ )/ ,/ 称/ 变迁/ t/ ∈/ T/ 在/ M0/ 下/ 是/ 活/ 的/ ,/ 当且/ 仅/ 当/ / M/ ∈/ R/ (/ N/ ,/ M0/ )/ ,/ / M/ ∈/ R/ (/ N/ ,/ M/ )/ :/ M/ [/ t/ 〉/ ./ 称/ (/ N/ ,/ M0/ )/ 网是/ 活/ 的/ ,/ 当且/ 仅/ 当/ / t/ ∈/ T/ ,/ t/ 在/ M0/ 下/ 是/ 活/ 的/ ./ 定义/ 2/ [/ 21/ ]/ ./ 若/ Petri/ 网/ (/ N/ ,/ M0/ )/ 中/ 每个/ 库所能/ 容纳/ 无限/ 个托肯/ ,/ 则/ 该/ 网/ 被/ 称为/ 无限/ 容量/ 网/ ./ 如果/ Page3/ / p/ ∈/ ·/ t/ ,/ M/ (/ p/ )/ / W/ (/ p/ ,/ t/ )/ ,/ 则/ 称/ 变迁/ t/ 在/ M/ 下/ 使/ 能/ ,/ 记作/ M/ [/ t/ 〉/ ./ 这样/ 的/ 变迁/ 触发/ 条件/ 称为/ 弱/ 变迁/ 规则/ ./ 定义/ 3/ [/ 21/ ]/ ./ 若/ Petri/ 网/ (/ N/ ,/ M0/ )/ 中/ ,/ 对于/ / p/ ∈/ P/ 和/ / M/ ∈/ R/ (/ N/ ,/ M0/ )/ ,/ / K/ (/ p/ )/ ∈/ / K/ (/ p/ )/ ,/ 则/ N/ 被/ 称为/ 有限/ 容量/ 网/ ,/ K/ :/ P/ →/ / N/ 的/ 容量/ 函数/ ./ 如果/ :/ (/ 1/ )/ / p/ ∈/ ·/ t/ ,/ M/ (/ p/ )/ / W/ (/ p/ ,/ t/ )/ ,/ (/ 2/ )/ / p/ ∈/ t/ ·/ ,/ 在/ 变迁/ t/ 触发/ 后/ / M/ ∈/ R/ (/ N/ ,/ M/ )/ ,/ 使得/ M/ (/ p/ )/ / K/ (/ p/ )/ ,/ 则/ 称/ 变迁/ t/ 在/ M/ 下/ 使/ 能/ ,/ 记作/ M/ [/ t/ 〉/ ./ 该/ 变迁/ 触发/ 条件/ 称为/ 强/ 变迁/ 规则/ ./ 定义/ 4/ [/ 21/ ]/ ./ 给定/ 一个/ 容量/ 有限/ 的/ Petri/ 网/ (/ N/ ,/ M0/ )/ ,/ 它/ 可以/ 通过/ 补库/ 所/ 转化/ 法/ 转化成/ 无限/ 容量/ 网/ (/ N/ ,/ M0/ )/ ./ 具体步骤/ 如下/ :/ 步骤/ 1/ ./ 为/ 每个/ 库所/ p/ 添加/ 补库/ 所/ p/ ,/ p/ 的/ 初始/ 标识/ 为/ M0/ (/ p/ )/ =/ K/ (/ p/ )/ -/ M0/ (/ p/ )/ ./ 步骤/ 2/ ./ 添加/ 由库/ 所/ p/ 的/ 输出/ 变迁/ 指向/ 补库/ 所/ p/ 的/ 有/ 向/ 弧/ (/ p/ ·/ ,/ p/ )/ ,/ 以及/ 由/ 补库/ 所/ p/ 指向/ 库所/ p/ 输入/ 变迁/ 的/ 有/ 向/ 弧/ (/ p/ ,/ ·/ p/ )/ ,/ 对于/ / t/ ∈/ T/ ,/ 使得/ 变迁/ t/ 触发/ 前后/ ,/ 库所/ p/ 和/ 它/ 的/ 补库/ 所/ p/ 的/ 总托/ 肯数/ 始终/ 等于/ K/ (/ p/ )/ ./ 引理/ 1/ [/ 21/ ]/ ./ 令/ (/ N/ ,/ M0/ )/ 是/ 采用/ 强/ 变迁/ 规则/ 的/ 有限/ 容量/ 网/ ,/ (/ N/ ,/ M0/ )/ 是/ (/ N/ ,/ M0/ )/ 通过/ 补库/ 所/ 转化/ 法/ 得到/ 的/ 采用/ 弱/ 变迁/ 规则/ 的/ 无限/ 容量/ 网/ ./ 则/ 这/ 两个/ 网/ 有着/ 相同/ 的/ 所有/ 可能/ 的/ 变迁/ 序列/ 集/ ./ 本文/ 中/ 我们/ 主要/ 讨论/ S3PR/ 网/ ./ 设/ 一个/ 有限/ 容量/ 的/ S3PR/ 网记/ 为/ (/ N/ ,/ M0/ )/ ,/ N/ =/ (/ PA/ ∪/ P0/ ∪/ PR/ ,/ T/ ,/ F/ ,/ K/ )/ ,/ 其中/ K/ 为/ 容量/ 函数/ ./ 由于/ / p/ ∈/ P0/ ∪/ PR/ ,/ K/ (/ p/ )/ =/ M0/ (/ p/ )/ ,/ 因此/ 对于/ 容量/ 函数/ K/ 的/ 讨论/ 通常/ 只/ 针对/ / p/ ∈/ PA/ ./ 设/ PA/ =/ {/ px/ ,/ …/ ,/ py/ }/ ,/ K/ =/ [/ K/ (/ px/ )/ ,/ …/ ,/ K/ (/ py/ )/ ]/ T/ ,/ K/ :/ PA/ →/ / 引理/ 2/ ./ 令/ t/ ∈/ T/ 是/ 有限/ 容量/ S3PR/ 网/ (/ N/ ,/ M0/ )/ 的/ 一个/ 变迁/ ,/ 若/ (/ 1/ )/ / r/ ∈/ PR/ ,/ M0/ (/ r/ )/ / |/ H/ (/ r/ )/ |/ ,/ (/ 2/ )/ / p/ ∈/ PA/ ,/ K/ (/ p/ )/ =/ 1/ ,/ 则/ 该/ 变迁/ t/ 在/ M0/ 下/ 是/ 活/ 的/ ./ 证明/ ./ 根据/ S3PR/ 网/ 的/ 定义/ ,/ 网/ 系统/ N/ 有/ q/ 个子/ 网/ ,/ 第/ i/ 个子/ 网中/ 有/ m/ 个/ 变迁/ Ti/ =/ {/ ti/ 其中/ i/ ∈/ {/ 1/ ,/ 2/ ,/ …/ ,/ q/ }/ ./ 设/ pi0/ ∈/ ·/ tipi/ 及/ pi/ ·/ ,/ …/ ,/ pitim/ -/ 2/ 始/ 标识/ M0/ 下/ 是/ 活/ 的/ ./ 1/ ;/ 同时/ pim/ -/ 1/ ∈/ ·/ ti/ 根据/ 定义/ 1/ ,/ 假设/ 变迁/ ti/ 活/ 的/ ,/ 则/ / M/ ∈/ R/ (/ N/ ,/ M0/ )/ ,/ / \/ M/ ∈/ R/ (/ N/ ,/ M/ )/ :/ M/ [/ ti/ 根据/ 条件/ / p/ ∈/ PA/ ,/ K/ (/ p/ )/ =/ 1/ ,/ 所以/ M/ (/ piM/ (/ pim/ -/ 1/ )/ =/ 1/ 或者/ M/ (/ pi/ (/ 1/ )/ M/ (/ piM/ )/ :/ M/ [/ tiM/ (/ pim/ -/ 1/ )/ =/ 0/ ./ 这/ 就/ 与/ M/ (/ pi/ (/ 2/ )/ M/ (/ pi/ / M/ ∈/ R/ (/ N/ ,/ M/ )/ ,/ M/ (/ pi/ 下/ 不是/ 活/ 的/ ./ 同样/ 地/ ,/ 根据/ 定义/ 2/ ,/ 我们/ 有/ / M/ ∈/ R/ (/ N/ ,/ M/ )/ ,/ M/ (/ pi/ 到/ / M/ ∈/ R/ (/ N/ ,/ M/ )/ ,/ M/ (/ piM/ (/ pi1/ )/ =/ M/ (/ pi/ 所以/ ,/ 假设/ 不/ 成立/ ,/ ti/ 同理可证/ ,/ ti/ 理/ 2/ 得证/ ./ 定理/ 1/ ./ 给定/ 一个/ 有限/ 容量/ S3PR/ 网/ (/ N/ ,/ M0/ )/ ,/ 若/ 其/ 满足/ (/ 1/ )/ / r/ ∈/ PR/ ,/ M0/ (/ r/ )/ / |/ H/ (/ r/ )/ |/ ,/ (/ 2/ )/ / p/ ∈/ PA/ ,/ K/ (/ p/ )/ =/ 1/ ,/ 则/ (/ N/ ,/ M0/ )/ 是/ 活/ 的/ ./ 证明/ ./ 由/ 定义/ 1/ 和/ 引理/ 2/ 可知/ ,/ 该/ 定理/ 成立/ ./ 定理/ 2/ ./ 给定/ 一个/ 有限/ 容量/ S3PR/ 网/ (/ N/ ,/ M0/ )/ ,/ 其/ 通过/ 补库/ 所/ 转化/ 法/ 得到/ 的/ 无限/ 容量/ 网为/ (/ N/ ,/ M0/ )/ ./ 其中/ N/ =/ (/ P/ ∪/ PA/ ,/ T/ ,/ F/ )/ ,/ PA/ 为/ 给/ 操作/ 库所/ p/ ∈/ PA/ 添加/ 的/ 补库/ 所/ p/ 集合/ ./ 如果/ (/ 1/ )/ / r/ ∈/ PR/ ,/ M0/ (/ r/ )/ / |/ H/ (/ r/ )/ |/ ,/ (/ 2/ )/ / p/ ∈/ PA/ ,/ M0/ (/ p/ )/ =/ 1/ ,/ 则/ 无限/ 容量/ 网/ (/ N/ ,/ M0/ )/ 是/ 活/ 的/ ./ 证明/ ./ 一个/ 有限/ 容量/ S3PR/ 网/ (/ N/ ,/ M0/ )/ ,/ 根据/ S3PR/ 网/ 的/ 性质/ ,/ 有/ / p/ ∈/ P0/ ∪/ PR/ ,/ K/ (/ p/ )/ =/ M0/ (/ p/ )/ ./ 如果/ 其/ 具有/ 条件/ / p/ ∈/ PA/ ,/ K/ (/ p/ )/ =/ 1/ ,/ 那么/ 根据/ 定义/ 4/ ,/ 可以/ 通过/ 补库/ 所/ 转化/ 法/ 得到/ 无限/ 容量/ 网/ (/ N/ ,/ M0/ )/ ./ 由于/ 闲置/ 库所/ 和/ 资源库/ 所/ 并不需要/ 进行/ 约束/ ,/ 因此/ 对于/ / p/ ∈/ P0/ ∪/ PR/ ,/ 不需/ 添加/ 补库/ 所/ ,/ 而/ 对于/ / p/ ∈/ PA/ ,/ 则/ M0/ (/ p/ )/ =/ 1/ ./ 因此/ 由/ 定义/ 4/ 和/ 引理/ 1/ 可知/ ,/ 满足条件/ (/ 1/ )/ / r/ ∈/ PR/ ,/ M0/ (/ r/ )/ / |/ H/ (/ r/ )/ |/ ,/ (/ 2/ )/ / p/ ∈/ PA/ ,/ K/ (/ p/ )/ =/ 1/ 的/ 有限/ 容量/ S3PR/ 网/ (/ N/ ,/ M0/ )/ 与/ 满足条件/ (/ 1/ )/ / r/ ∈/ PR/ ,/ M0/ (/ r/ )/ / |/ H/ (/ r/ )/ |/ ,/ (/ 2/ )/ / p/ ∈/ PA/ ,/ M0/ (/ p/ )/ =/ 1/ 的/ 无限/ 容量/ S3PR/ 网/ (/ N/ ,/ M0/ )/ 等价/ ./ 又/ 根据/ 定理/ 1/ 可知/ ,/ 该/ 定理/ 成立/ ./ 4/ 基于/ 补库/ 所/ 理论/ 的/ 死锁/ 预防/ 控制策略/ 在/ 这个/ 部分/ 里/ ,/ 基于/ 补库/ 所/ 理论/ ,/ 我们/ 提出/ 了/ 一种/ 死锁/ 预防/ 策略/ ,/ 采用/ 补库/ 所/ 控制器/ 得到/ 无/ 死锁/ 的/ 受控/ 网/ ./ 假设/ (/ N/ ,/ M0/ )/ 网是/ 一个/ 无限/ 容量/ 的/ Petri/ 网模/ Page4/ 型/ ,/ 其中/ N/ =/ (/ PA/ ∪/ P0/ ∪/ PR/ ,/ T/ ,/ F/ )/ ,/ M0/ 是/ 初始/ 标识/ ,/ 且/ 对于/ 所有/ 的/ 资源库/ 所/ r/ ∈/ PR/ 有/ M0/ (/ r/ )/ / H/ (/ r/ )/ ./ 我们/ 采用/ 如下/ 设计/ 思路/ ./ 首先/ ,/ 为原/ Petri/ 网/ (/ N/ ,/ M0/ )/ 添加/ 一个/ 初始值/ 为/ [/ 1/ ,/ 1/ ,/ …/ ,/ 1/ ]/ T/ 的/ 容量/ 函数/ K/ ,/ 则/ 原/ Petri/ 网/ 转变/ 为/ 有限/ 容量/ 网/ (/ 珦/ N/ ,/ M0/ )/ ;/ 然后/ 逐一/ 增加/ K/ 值/ ,/ 直到/ 在/ 某个/ K/ 值下/ 不再/ 存在/ 活/ 的/ 网/ 系统/ ,/ 则/ 选取/ (/ K/ -/ 1/ )/ 值/ ;/ 接下来/ ,/ 比较/ 在/ (/ K/ -/ 1/ )/ 值下/ 得到/ 的/ 多个/ 活性/ 有限/ 容量/ 网/ (/ 珦/ N/ ,/ M0/ )/ 的/ 可达集/ 大小/ ,/ 选取/ 可达集/ 最大/ 的/ 网/ 系统/ (/ 珦/ Nmax/ ,/ M0/ )/ ;/ 最后/ ,/ 将/ (/ 珦/ Nmax/ ,/ M0/ )/ 通过/ 补库/ 所/ 形变/ 转化/ 为/ 最终/ 的/ 活性/ 受控/ 网/ (/ N/ ,/ M0/ )/ ./ 需要/ 注意/ 的/ 是/ ,/ 对/ S3PR/ 网/ 而言/ ,/ / p/ ∈/ P0/ ∪/ PR/ ,/ K/ (/ p/ )/ =/ M0/ (/ p/ )/ ,/ 且/ M/ (/ p/ )/ ∈/ R/ (/ N/ ,/ M0/ )/ ,/ M/ (/ p/ )/ / M0/ (/ p/ )/ ,/ 因此/ 对于/ 闲置/ 库所/ 和/ 资源库/ 所/ 来说/ ,/ 添加/ 的/ 初始/ 标识/ M0/ (/ p/ )/ =/ 0/ 的/ 补库/ 所/ 完全/ 可以/ 省略/ ./ 因此/ 在/ 下面/ 的/ “/ 基于/ 补库/ 所/ 的/ 控制器/ 设计/ 算法/ ”/ 中/ ,/ 只/ 需/ 针对/ 操作/ 库所/ p/ ∈/ PA/ 来/ 讨论/ 容量/ 函数/ K/ (/ p/ )/ ,/ 及/ 添加/ 补库/ 所/ 控制器/ ./ 以下/ 为/ 基于/ 补库/ 所/ 的/ 控制器/ 设计/ 算法/ ./ 算法/ 1/ ./ 基于/ 补库/ 所/ 控制/ 理论/ 的/ 死锁/ 预防/ 策略/ 算法/ ./ 输入/ :/ Petri/ 网/ (/ N/ ,/ M0/ )/ ,/ 其中/ N/ =/ (/ PA/ ∪/ P0/ ∪/ PR/ ,/ T/ ,/ 输出/ :/ 活/ 的/ 受控系统/ (/ N/ ,/ M0/ )/ 1/ ./ 用/ 混合/ 整数/ 规划法/ (/ MIP/ )/ 判断/ Petri/ 网/ (/ N/ ,/ M0/ )/ 中/ 2/ ./ IF/ (/ 不/ 存在/ 可/ 被/ 清空/ 的/ 信标/ )/ THEN3/ ./ (/ N/ ,/ M0/ )/ 是/ 活/ 的/ ,/ 退出/ 算法/ 1/ ;/ 4/ ./ ELSE5/ ./ 对于/ / p/ ∈/ PA/ ,/ 令/ PA/ =/ {/ px/ ,/ …/ ,/ py/ }/ ,/ 6/ ./ K/ ·/ ·/ =/ [/ 1/ ,/ 1/ ,/ …/ ,/ 1/ ]/ T/ ;/ 7/ ./ 令/ 珦/ N/ =/ (/ PA/ ∪/ P0/ ∪/ PR/ ,/ T/ ,/ F/ ,/ K/ )/ ;/ 8/ ./ IF/ (/ (/ 珦/ N/ ,/ M0/ )/ 是/ 活/ 的/ )/ THEN9/ ./ 跳至/ 算法/ 2/ ;/ 10/ ./ 珦/ N/ =/ (/ PA/ ∪/ P0/ ∪/ PR/ ,/ T/ ,/ F/ ,/ Kmax/ )/ ;/ 11/ ./ ELSE12/ ./ 不/ 存在/ 补库/ 所/ 控制器/ ,/ 退出/ 算法/ 1/ ;/ 13/ ./ ENDIF14/ ./ FOR/ / p/ ∈/ PADO15/ ./ IF/ (/ Kmax/ (/ p/ )/ </ B/ (/ p/ )/ )/ THEN16/ ./ 为/ 该库/ 所/ p/ 添加/ 一个/ 补库/ 所/ p/ ,/ 令/ 17/ ./ 添加/ 由库/ 所/ p/ 的/ 输出/ 变迁/ 指向/ 补库/ 所/ p/ 的/ 18/ ./ ENDIF19/ ./ ENDFOR20/ ./ 转化/ 后/ 的/ Petri/ 网记/ 为/ (/ N/ ,/ M0/ )/ ,/ 其中/ 21/ ./ ENDIF22/ ./ 输出/ :/ (/ N/ ,/ M0/ )/ 23/ ./ END/ 算法/ 2/ ./ 修正/ 容量/ 函数/ K/ 算法/ ./ 输入/ :/ Petri/ 网/ (/ 珦/ N/ ,/ M0/ )/ ,/ 其中/ 珦/ N/ =/ (/ PA/ ∪/ P0/ ∪/ PR/ ,/ T/ ,/ F/ ,/ K/ )/ 输出/ :/ 一个/ 新/ 的/ 容量/ 函数/ Kmax/ // / Kmax/ 是/ 具有/ 最大/ 许可/ 1/ ./ λ/ ·/ ·/ =/ 1/ ;/ 2/ ./ / p/ ∈/ Pi3/ ./ 令/ x1/ +/ x2/ +/ …/ +/ xn/ =/ λ/ ,/ 其中/ n/ =/ |/ PA/ |/ ;/ 4/ ./ 设/ Γ/ =/ {/ K/ |/ K/ =/ [/ K/ (/ px/ )/ ,/ …/ ,/ K/ (/ py/ )/ ]/ T/ +/ 5/ ./ WHILE/ (/ / K/ ∈/ Γ/ ,/ 珦/ N/ =/ (/ PA/ ∪/ P0/ ∪/ PR/ ,/ T/ ,/ F/ ,/ K/ )/ 是/ 6/ ./ λ/ ·/ ·/ =/ λ/ +/ 1/ ;/ 7/ ./ x1/ +/ x2/ +/ …/ +/ xn/ =/ λ/ ;/ 8/ ./ Γ/ =/ {/ K/ |/ K/ =/ [/ K/ (/ px/ )/ ,/ …/ ,/ K/ (/ py/ )/ ]/ T/ +/ 9/ ./ ENDWHILE10/ ./ x1/ +/ x2/ +/ …/ +/ xn/ =/ λ/ -/ 1/ ;/ 11/ ./ Γ/ =/ {/ K/ |/ K/ =/ [/ K/ (/ px/ )/ ,/ …/ ,/ K/ (/ py/ )/ ]/ T/ +/ [/ x1/ ,/ …/ ,/ xn/ ]/ T/ ,/ 12/ ./ FOR/ / K/ ∈/ Γ/ DO13/ ./ 令/ 珦/ N/ =/ (/ PA/ ∪/ P0/ ∪/ PR/ ,/ T/ ,/ F/ ,/ K/ )/ ;/ 14/ ./ IF/ (/ (/ 珦/ N/ ,/ M0/ )/ 不是/ 活/ 的/ )/ THEN15/ ./ Γ/ ·/ ·/ =/ Γ/ \/ K/ ;/ 16/ ./ ENDIF17/ ./ ENDFOR18/ ./ 令/ 珦/ Nmax/ =/ (/ PA/ ∪/ P0/ ∪/ PR/ ,/ T/ ,/ F/ ,/ Kmax/ )/ ,/ 其中/ Kmax/ ∈/ 19/ ./ 输出/ Kmax/ ;/ 20/ ./ ENDPage55/ 例子/ 如图/ 1/ 所示/ 的/ Petri/ 网/ 模型/ (/ N/ ,/ M0/ )/ 是/ 一个/ S3PR/ 网/ ,/ 在/ 初始/ 标识/ M0/ 下/ 的/ 可达/ 标识/ 有/ 37073/ 个/ ./ 其中/ 不/ 安全/ 标识/ 的/ 数目/ 有/ 246/ 个/ ,/ 因此/ 这个/ 系统/ 所/ 能/ 得到/ 的/ 最大/ 许可/ 标识/ 有/ 36827/ 个/ ./ 根据/ 算法/ 2/ ,/ 逐渐/ 增加/ 容量/ 函数/ K/ 值/ ,/ 当/ ∑/ K/ (/ pi/ )/ 增加/ 到/ 最大值/ 36/ 时/ ,/ 能/ 得到/ 活/ 的/ 网/ 系统/ 珦/ N/ 的/ 组合/ 有/ 3/ 种/ ,/ 如表/ 1/ 所示/ ./ 其中/ ,/ 以/ K1/ =/ [/ 7/ ,/ 5/ ,/ 2/ ,/ 5/ ,/ 4/ ,/ 1/ ,/ 5/ ,/ 7/ ]/ T/ 为/ 容量/ 函数/ 的/ 网/ 系统/ 珦/ N1/ 的/ 可达/ 状态/ 数目/ 为/ 31626/ ;/ 以/ K2/ =/ [/ 7/ ,/ 4/ ,/ 1/ ,/ 5/ ,/ 5/ ,/ 2/ ,/ 5/ ,/ 7/ ]/ T/ 为/ 容量/ 函数/ 的/ 网/ 系统/ 珦/ N2/ 的/ 可达/ 状态/ 数目/ 为/ 31626/ ;/ 以/ K3/ =/ [/ 7/ ,/ 4/ ,/ 2/ ,/ 5/ ,/ 4/ ,/ 2/ ,/ 5/ ,/ 7/ ]/ T/ 为/ 容量/ 函数/ 的/ 网/ 系统/ 珦/ N3/ 的/ 可达/ 状态/ 数目/ 为/ 35770/ ./ 因此/ ,/ 珦/ Nmax/ =/ 珦/ N3/ =/ (/ PA/ ∪/ P0/ ∪/ PR/ ,/ T/ ,/ F/ ,/ K3/ )/ ./ 根据/ 补库/ 所/ 控制/ 理论/ ,/ 将/ 该活/ 的/ 有限/ 容量/ 网/ (/ 珦/ N/ ,/ M0/ )/ 通过/ 算法/ 1/ 添加/ 补库/ 所/ 控制器/ p3/ 和/ p6/ ,/ 其中/ M0/ (/ p3/ )/ =/ K/ (/ p3/ )/ -/ M0/ (/ p3/ )/ =/ 4/ -/ 0/ =/ 4/ ,/ M0/ (/ p6/ )/ =/ K/ (/ p6/ )/ -/ M0/ (/ p6/ )/ =/ 4/ -/ 0/ =/ 4/ ,/ 最后/ 得到/ 活/ 的/ 受控/ 网/ (/ N/ ,/ M0/ )/ 如图/ 2/ 所示/ ./ Ψ/ K/ (/ p2/ )/ K/ (/ p3/ )/ K/ (/ p4/ )/ K/ (/ p5/ )/ K/ (/ p6/ )/ K/ (/ p7/ )/ K/ (/ p8/ )/ K/ (/ p9/ )/ 6/ 与/ 其它/ 几种/ 典型/ 控制策略/ 的/ 比较/ 本节/ 将/ 针对/ 图/ 1/ 所示/ 的/ S3PR/ 网/ 模型/ ,/ 通过/ 5/ 个/ 典型/ 的/ 死锁/ 预防/ 策略/ 的/ 应用/ ,/ 进而/ 与/ 本文/ 的/ 死锁/ 控制策略/ 进行/ 比较/ ,/ 分析/ 其/ 优劣/ ./ 将/ Ezpeleta/ 等/ 人/ [/ 4/ ]/ 提出/ 的/ 死锁/ 预防/ 策略/ ,/ 简称/ 为/ E/ -/ 策略/ ,/ 应用/ 于图/ 1/ 所示/ 的/ S3PR/ 网/ 模型/ ./ 计算/ 得到/ 3/ 个/ 严格/ 极小/ 信标/ 分别/ 是/ S1/ =/ {/ p4/ ,/ p8/ ,/ p11/ ,/ p12/ }/ 、/ S2/ =/ {/ p5/ ,/ p7/ ,/ p12/ ,/ p13/ }/ 、/ S3/ =/ {/ p5/ ,/ p8/ ,/ p11/ ,/ p12/ ,/ p13/ }/ ,/ 因此/ 添加/ 3/ 个/ 控制/ 库所/ pc1/ 、/ pc2/ 和/ pc3/ ,/ 如图/ 3/ 所示/ ./ 所/ 得到/ 的/ 活性/ 受控/ 网可达/ 状态/ 数目/ 为/ 24401/ ,/ 相对/ 于/ 最大/ 许可/ 状态/ 数目/ 36827/ ,/ 仅/ 实现/ 了/ 66/ %/ 的/ 许可/ 行为/ ./ Li/ 等/ 人/ [/ 9/ ]/ 提出/ 了/ 基于/ 基本/ 信标/ 理论/ 的/ 死锁/ 预防/ 策略/ ,/ 简称/ 为/ L1/ -/ 策略/ ./ 针对/ 图/ 1/ 所示/ 的/ Petri/ 网/ 模型/ ,/ 其/ 基本/ 信标/ 分别/ 为/ S1/ =/ {/ p4/ ,/ p8/ ,/ p11/ ,/ p12/ }/ 和/ S2/ =/ {/ p5/ ,/ p7/ ,/ p12/ ,/ p13/ }/ ,/ 因此/ 添加/ 两个/ 控制/ 库所/ pc1/ 和/ pc2/ ,/ 如图/ 4/ 所示/ ./ 所/ 得到/ 的/ 活性/ 受控/ 网可达/ 标识/ 数目/ 与/ E/ -/ 策略/ 的/ 结果/ 相同/ ,/ 但/ 在/ 控制器/ 结构/ 方面/ 有所/ 简化/ ./ Li/ 等/ 人/ [/ 10/ ]/ 在/ L1/ -/ 策略/ 的/ 基础/ 上/ ,/ 通过/ 改进/ 控制/ 库所/ 后置/ 集而/ 得到/ 具有/ 更/ 多/ 许可/ 行为/ 的/ 活性/ 受控/ 系/ Page6/ 统的/ 一种/ 死锁/ 预防/ 策略/ ,/ 简称/ 为/ L2/ -/ 策略/ ./ 将/ 其/ 应用/ 于图/ 1/ 模型/ ,/ 我们/ 在/ 图/ 4/ 的/ 基础/ 上/ ,/ 移动/ 控制/ 库所/ 的/ 输出/ 弧/ ,/ 使/ 之/ 在/ 不/ 产生/ 死锁/ 的/ 前提/ 下/ ,/ 尽可能/ 远离/ 源/ 变迁/ ,/ 所得/ 结果/ 如图/ 5/ 所示/ ./ 得到/ 的/ 活性/ 受控/ 网可达/ 标识/ 数目/ 为/ 34413/ ,/ 实现/ 了/ 93/ %/ 的/ 许可/ 行为/ ./ Uzam/ [/ 8/ ]/ 基于/ 区域/ 理论/ 提出/ 来/ 的/ 设计/ 最优/ 活性/ Petri/ 网/ 控制器/ 的/ 方法/ ,/ 简称/ 为/ U/ -/ 策略/ ./ 该/ 方法/ 需要/ 先/ 计算/ 网/ 系统/ 的/ 可达图/ ,/ 然后/ 通过/ 求解/ 线性规划/ 问题/ 来/ 得到/ 控制器/ ./ 图/ 6/ 是/ 图/ 1/ 所示/ 网/ 系统/ 应用/ U/ -/ 策略/ 得到/ 的/ 结果/ ,/ 其可达/ 标识/ 数目/ 为/ 36827/ ./ Wang/ 等/ 人/ [/ 22/ ]/ 基于/ 信标/ 和/ 补库/ 所/ 理论/ 提出/ 的/ 死锁/ 预防/ 策略/ ,/ 简称/ 为/ W/ -/ 策略/ ./ 针对/ 图/ 1/ 所示/ 的/ S3PR/ 网/ ,/ 计算/ 得到/ 3/ 个/ 严格/ 极小/ 信标/ 分别/ 是/ S1/ =/ {/ p4/ ,/ p8/ ,/ p11/ ,/ p12/ }/ 、/ S2/ =/ {/ p5/ ,/ p7/ ,/ p12/ ,/ p13/ }/ 、/ S3/ =/ {/ p5/ ,/ p8/ ,/ p11/ ,/ p12/ ,/ p13/ }/ ,/ 其/ 具有/ 最大/ 可达集/ 的/ 容量/ 函数/ Kmax/ =/ [/ 7/ ,/ 3/ ,/ 2/ ,/ 5/ ,/ 4/ ,/ 2/ ,/ 5/ ,/ 7/ ]/ T/ (/ 或/ Kmax/ =/ [/ 7/ ,/ 4/ ,/ 2/ ,/ 5/ ,/ 3/ ,/ 2/ ,/ 5/ ,/ 7/ ]/ T/ )/ ,/ 最后/ 为/ p3/ 和/ p6/ 添加/ 控制/ 补库/ 所/ 如图/ 7/ 所示/ ,/ 有/ 33733/ 个/ 可达/ 标识/ ./ 将/ 上述/ 5/ 种/ 死锁/ 预防/ 策略/ 应用/ 于图/ 1/ 所示/ 的/ 网/ 系统/ ,/ 所得/ 的/ 结果/ 如表/ 2/ 所示/ ./ 由表/ 2/ 可知/ ,/ U/ -/ 策略/ 得到/ 的/ 活性/ Petri/ 网/ 控制器/ 是/ 最优/ 的/ ,/ 具有/ 最大/ 许可/ 行为/ ./ 但/ 该/ 策略/ 需对/ 每/ 一个/ 状态/ 变迁/ 分离/ 事例/ 求解/ 一个/ 不等式/ 组/ ,/ 而/ 理论/ 上/ ,/ 状态/ 变迁/ 分离/ 事例/ 的/ 数目/ 与/ Petri/ 网/ 系统/ 的/ 规模/ 成/ 指数/ 关系/ ,/ 因此/ 其/ 计算/ 复杂性/ 亦/ 随网/ 规模/ 成/ 指数/ 增长/ ./ E/ -/ 策略/ 和/ L1/ -/ 策略/ 得到/ 的/ 受控/ 网/ 的/ 可达/ 标识/ 数目/ 相等/ ,/ 且/ 仅/ 占/ 了/ 所有/ 许可/ 标识/ 的/ 66/ %/ ,/ 因此/ 这/ 两种/ 策略/ 的/ 缺点/ 在于/ 许可/ 行为/ 受到/ 较大/ 的/ 限制/ ./ 其中/ E/ -/ 策略/ 所/ 添加/ 的/ 控制/ 库所/ 数目/ 与/ 严格/ 极小/ 信标/ 的/ 数目/ 相等/ ,/ 而/ 严格/ 极小/ 信标/ 的/ 数目/ 在/ 理论/ 上/ 和/ 网/ 规模/ 成/ 指数/ 关系/ ,/ 因此/ E/ -/ 策略/ 得到/ 的/ 控制器/ 结构/ 比较复杂/ ./ 而/ 在/ E/ -/ 策略/ 基础/ 上/ 提出/ 的/ L1/ -/ 策略/ 应用/ 了/ 基本/ 信标/ 理论/ ,/ 改善/ 了/ 控制器/ 的/ 结构/ 复杂性/ 问题/ ,/ 但/ 在/ 行为/ 许可/ 性/ 方面/ 却/ 没有/ 改进/ ./ 因此/ ,/ Li/ 等/ 人/ [/ 10/ ]/ 又/ 对/ L1/ -/ 策略/ 进行/ 了/ 改进/ ,/ 提/ Page7/ 出/ 了/ L2/ -/ 策略/ ,/ 在/ 保证系统/ 活性/ 的/ 前提/ 下/ ,/ 将/ 控制/ 库所/ 指向/ 源/ 变迁/ 的/ 弧/ 向/ 远离/ 源/ 变迁/ 方向/ 移动/ ,/ 从而/ 增加/ 受控/ 网/ 的/ 可达/ 标识/ 数目/ ./ 另外/ ,/ Wang/ 等/ 人/ [/ 22/ ]/ 基于/ 补库/ 所/ 和/ 信标/ 理论/ 提出/ 的/ W/ -/ 策略/ ,/ 其/ 行为/ 许可/ 性/ 与/ L2/ -/ 策略/ 接近/ ,/ 但/ 其/ 控制器/ 结构/ 比/ L2/ -/ 策略/ 简单/ ./ 不过/ 其/ 算法/ 中/ 的/ 信标/ 枚举/ 和/ 可达集/ 计算/ 都/ 是/ 指数/ 级/ 计算/ 复杂度/ 的/ ./ 死锁/ 预防/ 策略/ EL12L22UW/ 本文/ 2/ 由表/ 2/ 可知/ ,/ 本文/ 提出/ 的/ 基于/ 补库/ 所/ 理论/ 的/ 死锁/ 预防/ 控制策略/ 有/ 3/ 大/ 特点/ ./ 首先/ ,/ 最终/ 得到/ 的/ 控制器/ 结构/ 简单/ ,/ 这点/ 与/ W/ -/ 策略/ 一样/ ,/ 我们/ 仅/ 需/ 对/ Petri/ 网中/ 的/ 某些/ 操作/ 库所/ 添加/ 补库/ 所/ 形成/ 补库/ 所/ 控制器/ ,/ 其/ 控制/ 库所/ 数目/ 不/ 超过/ 网/ 的/ 操作/ 库所/ 数目/ ,/ 因此/ 我们/ 的/ 控制器/ 复杂性/ 是/ 多项式/ 的/ ./ 与/ E/ -/ 策略/ 、/ L1/ -/ 策略/ 、/ L2/ -/ 策略/ 及/ W/ -/ 策略/ 不同/ 的/ ./ 最后/ ,/ 其/ 行为/ 许可/ 性/ 较优/ ,/ 虽/ 没有/ 达到/ 最优/ ,/ 但/ 已/ 优于/ E/ -/ 策略/ 、/ L1/ -/ 策略/ 、/ L2/ -/ 策略/ 及/ W/ -/ 策略/ ./ 和/ 行为/ 许可/ 性/ 最优/ 的/ U/ -/ 策略/ 相比/ ,/ 本文/ 的/ 方法/ 的/ 控制器/ 结构/ 要/ 简单/ 的/ 多/ ./ 为了/ 进一步/ 讨论/ ,/ 我们/ 针对/ 图/ 1/ 示例/ ,/ 在/ 不同/ 初始/ 标识/ 下/ 应用/ 补库/ 所/ 策略/ ,/ 得到/ 最终/ 受控/ 网/ 的/ 行为/ 许可/ 百分比/ ,/ 见表/ 3/ ./ 由表/ 3/ 可知/ ,/ 随着/ 初始/ 标识/ 的/ 增大/ ,/ 受控/ 网/ 的/ 许可/ 行为/ 百分比/ 越/ 接近/ 百分百/ ,/ 即/ 补库/ 所/ 策略/ 在/ 初始/ 标识/ 较大/ 的/ 情况/ 下/ 可以/ 得到/ 接近/ 最大/ 许可/ 行为/ 的/ 控制器/ ./ 其次/ ,/ 在/ 控制器/ 计算/ 过程/ 中不需/ 计算/ 信标/ ,/ 这是/ [/ 5/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 5/ ,/ 3/ ,/ 2/ ,/ 3/ ]/ T5239/ // 5762/ =/ 90.9/ [/ 6/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 6/ ,/ 4/ ,/ 2/ ,/ 4/ ]/ T15006/ // 15777/ =/ 95.1/ [/ 7/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 7/ ,/ 5/ ,/ 2/ ,/ 5/ ]/ T35770/ // 36827/ =/ 97.1/ [/ 8/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 8/ ,/ 6/ ,/ 2/ ,/ 6/ ]/ T75407/ // 76788/ =/ 98.2/ [/ 9/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 9/ ,/ 7/ ,/ 2/ ,/ 7/ ]/ T145353/ // 147096/ =/ 98.8/ [/ 10/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 10/ ,/ 8/ ,/ 2/ ,/ 8/ ]/ T261536/ // 263679/ =/ 99.2/ [/ 11/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 11/ ,/ 9/ ,/ 2/ ,/ 9/ ]/ T445416/ // 447997/ =/ 99.4/ 另外/ ,/ 实际上/ 本文/ 中/ 的/ 死锁/ 预防/ 策略/ 并/ 不/ 局限于/ 某一/ 普通/ Petri/ 网子/ 类/ ,/ 它/ 还/ 可以/ 适用/ 于/ 一般/ Petri/ 网/ ./ 接下来/ ,/ 我们/ 就/ 通过/ 一个/ 一般/ Petri/ 网/ 的/ 例子/ 来/ 进一步/ 说明/ ./ 示例/ 2/ 的/ 网/ 系统/ 如图/ 8/ 所示/ ,/ 是/ 一个/ S3PGR2/ (/ SystemofsimplesequentialProcesseswithGeneralResourceRequirements/ )/ 网/ [/ 23/ ]/ ,/ 该/ 模型/ 有/ 363/ 个/ 可达/ 状态/ ,/ 其中/ 好/ 的/ 可达/ 状态/ 数为/ 323/ 个/ ./ 在/ 文献/ [/ 23/ ]/ 中/ 我们/ 可以/ 看到/ ,/ 添加/ 如表/ 4/ 所示/ 的/ 3/ 个/ 控制/ 库所/ ,/ 16/ 条有/ 向/ 弧/ ,/ 得到/ 的/ 活性/ 受控/ 网/ 含有/ 85/ 个/ 可达/ 状态/ ;/ 而/ 在/ 文献/ [/ 24/ ]/ 中/ ,/ 添加/ 如表/ 5/ 所示/ 的/ 3/ 个/ 控制/ 库所/ 、/ 14/ 条有/ 向/ 弧/ ,/ 则/ 得到/ 含有/ 246/ 个/ 可达/ 状态/ 的/ 活性/ 受控/ 网/ ./ 表/ 4/ 针对/ 图/ 8/ 示例/ 文献/ [/ 23/ ]/ 计算/ 得到/ 的/ 活性/ 控制器/ pciM0/ (/ pci/ )/ pc143t3/ ,/ t5/ ,/ 4t6/ ,/ t124t1/ ,/ t10pc24t7/ ,/ 3t10/ ,/ 2t11/ ,/ t13t1/ ,/ 3t8pc32/ 表/ 5/ 针对/ 图/ 8/ 示例/ 文献/ [/ 24/ ]/ 计算/ 得到/ 的/ 活性/ 控制器/ pciM0/ (/ pci/ )/ pc192t3/ ,/ 2t5/ ,/ 4t6/ ,/ 3t10/ ,/ 2t11/ ,/ t134t1/ ,/ 3t8pc23pc33/ 如果/ 通过/ 本文/ 所述/ 的/ 基于/ 补库/ 所/ 理论/ 的/ 算法/ 1/ 和/ 算法/ 2/ ,/ 进行/ 死锁/ 预防/ 处理/ ,/ 则/ 需要/ 添加/ 3/ 个/ 控制/ 库所/ 、/ 6/ 条有/ 向/ 弧/ ,/ 得到/ 如图/ 9/ 的/ 受控/ 活性/ Petri/ 网/ ,/ 含有/ 291/ 个/ 可达/ 状态/ ./ 由此/ 我们/ 可以/ 看到/ ,/ 文中/ 基于/ 补库/ 所/ 的/ 死锁/ 预防/ 策略/ 不仅/ 适用/ 于/ 普通/ Petri/ 网/ ,/ 亦/ 适用/ 于/ 一般/ Petri/ 网/ ,/ 且/ 得到/ 的/ 补库/ 所/ 控制器/ 同样/ 具有/ 结构/ 简单/ 、/ 行为/ 许可/ 性/ 较优/ 的/ 特性/ ./ 但是/ ,/ 本文/ 的/ 补库/ 所/ 控制策略/ 亦/ 存在/ 一些/ 缺点/ ./ 首先/ ,/ 它/ 的/ 计算/ 复杂性/ 是/ 指数/ 级/ 的/ ./ 算法/ 2/ 显示/ 计算/ 的/ 复杂性/ 在于/ 容量/ 函数/ K/ 的/ 计算/ ,/ 容量/ 函数/ K/ 每/ 增加/ 数值/ 1/ 均/ 需/ 通过/ MIP/ 方法/ 进行/ 活性/ 检测/ ,/ 理论/ 上/ 来说/ 检测/ 次数/ 与/ 容量/ 函数/ K/ 的/ 排列组合/ 数目/ 有关/ ,/ 因此/ 是/ 随网/ 规模/ 成/ 指数/ 型/ 增长/ 的/ ./ 另外/ ,/ 计算/ 复/ Page8/ 图/ 9/ 图/ 8/ 示例/ 通过/ 算法/ 1/ 得到/ 的/ 活性/ 受控/ 网杂性/ 还/ 在于/ 可达集/ 的/ 计算/ ,/ 其/ 计算/ 亦/ 随网/ 规模/ 成/ 指数/ 级/ 增长/ ./ 其次/ ,/ 本文/ 所述/ 算法/ 的/ 应用/ 条件/ 为/ 资源库/ 所/ 的/ 初始/ 标识/ M0/ 必须/ 满足/ M0/ (/ r/ )/ / H/ (/ r/ )/ ,/ 因此/ 该/ 算法/ 对/ 初始/ 标识/ 的/ 限制/ 要求/ 较大/ ./ 7/ 结论/ 本文/ 主要/ 以/ 柔性制造系统/ 的/ Petri/ 网/ 模型/ 为/ 研究/ 对象/ ,/ 通过/ 对/ 某些/ 操作/ 库所/ 添加/ 补库/ 所/ 的/ 办法/ 设计/ 补库/ 所/ 控制器/ ,/ 从而/ 得到/ 活性/ 受控/ 网/ ./ 文中/ 通过/ 一个/ S3PR/ 网/ 和/ 一个/ S3PGR2/ 网/ 的/ 实例/ 说明/ 本文/ 所/ 设计/ 的/ 补库/ 所/ 控制器/ 具有/ 非常简单/ 的/ 结构/ 且/ 不/ 需要/ 计算/ 信标/ ;/ 用该/ 方法/ 得到/ 的/ 活性/ 受控/ 网/ 的/ 许可/ 行为/ 随着/ 初始/ 标识/ 的/ 增大/ 而/ 逐渐/ 增大/ 至/ 接近/ 最大/ 许可/ 行为/ ;/ 并且/ 该死/ 锁/ 预防/ 策略/ 适用范围/ 较广/ ,/ 也/ 可/ 适用/ 于/ 一般/ Petri/ 网/ ./ 另一方面/ ,/ 该/ 方法/ 的/ 不足之处/ 在于/ 其/ 计算/ 复杂性/ 为/ 指数/ 级/ ;/ 且/ 对/ 网/ 系统/ 的/ 初始/ 标识/ 有/ 较大/ 的/ 限制/ ,/ 只/ 适用/ 于/ 初始/ 标识/ 满足/ M0/ (/ r/ )/ / |/ H/ (/ r/ )/ |/ 的/ Petri/ 网/ ./ 因此/ ,/ 今后/ 的/ 研究/ 工作/ 是/ 在/ 本文/ 的/ 基础/ 上/ 进一步/ 降低/ 计算/ 复杂性/ ./ 

