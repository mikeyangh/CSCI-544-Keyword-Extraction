Page1/ 三维/ 网格/ 曲面/ 的/ 可展性/ 优化/ 算法/ 徐鹏飞/ 刘利刚/ (/ 浙江大学/ 数学系/ 杭州/ 310027/ )/ (/ 浙江大学/ CAD/ &/ CG/ 国家/ 重点/ 实验室/ 杭州/ 310027/ )/ 摘要/ 可展/ 曲面/ 是/ 每点/ 高斯曲率/ 均/ 为/ 0/ 的/ 曲面/ ,/ 具有/ 许多/ 良好/ 的/ 性质/ ,/ 因此/ 在/ 工业/ 中/ 具有/ 很多/ 应用/ ./ 将/ 一般/ 的/ 曲面/ 用/ 可展/ 曲面/ 来/ 逼近/ 表示/ 具有/ 现实意义/ ./ 以此/ 为/ 目的/ ,/ 文中/ 设计/ 了/ 一个/ 有效/ 的/ 算法/ 来/ 处理/ 一般/ 的/ 曲面/ ,/ 使得/ 处理/ 后/ 的/ 曲面/ 尽可能/ 满足/ 可展/ 的/ 性质/ ,/ 同时/ 与/ 初始/ 的/ 曲面/ 尽量/ 地/ 接近/ ./ 首先/ 利用/ 最小/ 范数/ 方法/ 来/ 对/ 网格/ 曲面/ 进行/ 处理/ ,/ 得到/ 初始/ 预测/ 的/ 网格/ 曲面/ ./ 初始/ 预测/ 曲面/ 具有/ 良好/ 的/ 可展性/ ,/ 但是/ 不能/ 较/ 好/ 地/ 保持/ 网格/ 的/ 局部/ 结构/ ./ 然后/ 利用/ 尽可能/ 刚性/ (/ As/ -/ rigid/ -/ as/ -/ possible/ )/ 的/ 方法/ ,/ 在/ 初始/ 预测/ 曲面/ 的/ 基础/ 上/ 进行/ 修正/ 得到/ 新/ 的/ 网格/ 曲面/ ./ 为了/ 保持/ 局部/ 结构/ ,/ 作者/ 的/ 方法/ 可以/ 是/ 基于/ 顶点/ 邻域/ 的/ ,/ 也/ 可以/ 是/ 基于/ 三角形/ 的/ ./ 这/ 两个/ 过程/ 可以/ 迭代/ 进行/ ,/ 直至/ 得到/ 满足要求/ 的/ 结果/ ./ 与/ 以往/ 的/ 算法/ 相比/ ,/ 文中/ 算法/ 能/ 保证/ 结果/ 收敛/ ,/ 迭代/ 次数/ 更/ 少/ ,/ 且/ 能/ 得到/ 更好/ 的/ 结果/ ./ 关键词/ 可展/ 曲面/ ;/ 尽可能/ 刚性/ ;/ 最小/ 范数/ 法/ ;/ 最小/ 二/ 乘法/ ;/ 迭代/ 1/ 引言/ 可展/ 曲面/ 可以/ 无/ 扭曲/ 地/ 展开/ 到/ 一个/ 平面/ 上/ ,/ 其/ 高斯曲率/ 处处/ 为/ 零/ [/ 1/ -/ 2/ ]/ ./ 在/ 工业生产/ 中/ ,/ 许多/ 地方/ 要/ 将/ 二维/ 的/ 材料/ 贴合/ 到/ 三维/ 曲面/ 上/ ./ 例如/ ,/ 在/ 造船工业/ 中/ ,/ 要/ 将/ 金属/ 条片/ 与/ 船身/ 贴合/ ;/ 在/ 制衣/ 业中/ ,/ 要/ 将/ 二维/ 的/ 布料/ 缝合/ 成/ 完整/ 的/ 衣服/ ;/ 在/ 家具/ 制造业/ 中/ ,/ 要/ 将/ 一些/ 皮革/ 蒙在/ 家具/ 表面/ ;/ 在/ 建筑业/ 中/ ,/ 要/ 将/ 一些/ 板材/ 置于/ 特定/ 的/ 位置/ ,/ 并/ 满足/ 一些/ 特定/ 形状/ ./ 而/ 可展/ 曲面/ 正好/ 具有/ 这样/ 的/ 性质/ ,/ 即/ 可以/ 等距/ 映射/ 到/ 平面/ 上/ ./ 如果/ 这些/ 材料/ 所/ 贴合/ 的/ 部位/ 是/ 可展/ 曲面/ ,/ 则/ 将/ 这些/ 材料/ 与/ 此/ 部位/ 贴合/ 时/ ,/ 不用/ 进行/ 任何/ 扭曲/ 或/ 拉伸/ ./ 这样/ ,/ 材料/ 本身/ 内部/ 所受/ 的/ 应力/ 会/ 大大减少/ ,/ 可以/ 显著/ 提高/ 材料/ 的/ 使用寿命/ ./ 然而/ ,/ 很多/ 时候/ ,/ 材料/ 所/ 要/ 贴合/ 的/ 部位/ 不/ 具有/ 可展/ 的/ 性质/ ./ 这/ 就/ 促使/ 人们/ 研究/ 是否/ 可以/ 在/ 保证/ 原/ 物体/ 形状/ 变化/ 不大/ 的/ 情况/ 下/ ,/ 将/ 其/ 表面/ 修改/ 为/ 可展/ 曲面/ ./ 在/ 运用/ 计算机辅助/ 设计/ 时/ ,/ 人们/ 可以/ 通过/ 对/ 三维/ 模型/ 进行/ 处理/ ,/ 来/ 达到/ 目的/ ./ 因此/ ,/ 将/ 三维/ 模型/ 表面/ 处理/ 为/ 近似/ 可展/ 曲面/ ,/ 有/ 很大/ 的/ 现实意义/ ./ 关于/ 可展/ 曲面/ 的/ 逼近/ 已有/ 一些/ 相关/ 工作/ ./ 文献/ [/ 3/ -/ 5/ ]/ 研究/ 了/ 利用/ 直纹曲面/ 等等/ 距/ 曲面/ 对原/ 模型/ 进行/ 逼近/ ./ Kilian/ 等/ [/ 6/ ]/ 研究/ 了/ 如何/ 在/ 平面/ 上/ 生成/ 曲线/ 折痕/ ,/ 使得/ 该/ 平面/ 沿着/ 折痕/ 折叠/ 后/ 生成/ 可展/ 曲面/ ./ Rose/ 等/ [/ 7/ ]/ 提出/ 了/ 一种/ 以/ 交互/ 输入/ 的/ 曲线/ 作为/ 边界/ 曲线/ 的/ 可展/ 曲面/ 生成/ 算法/ ./ Wang/ [/ 8/ -/ 9/ ]/ 提出/ 了/ 一系列/ 曲面/ 在/ 离散/ 情况/ 下/ 的/ 可展/ 处理/ ./ 然而/ 这些/ 方法/ 虽然/ 最终/ 能/ 得到/ 可展/ 曲面/ 的/ 结果/ ,/ 但是/ 对原/ 曲面/ 的/ 破坏/ 较大/ ./ 本文/ 的/ 方法/ 借鉴/ 了/ 文献/ [/ 8/ ]/ 中/ 的/ 方法/ ,/ 同时/ 保持/ 原/ 模型/ 的/ 结构/ ,/ 使得/ 生成/ 的/ 可展/ 曲面/ 的/ 结果/ 既/ 能够/ 满足/ 可展/ 性质/ ,/ 又/ 能/ 保持/ 原/ 模型/ 网格/ 的/ 结构/ ./ 本文/ 及/ 文献/ [/ 8/ ]/ 的/ 方法/ 都/ 需要/ 通过/ 迭代/ 来/ 生成/ 最终/ 的/ 结果/ ./ 但是/ 文献/ [/ 8/ ]/ 中/ 的/ 方法/ 在/ 最后/ 的/ 几步/ 迭代/ 时/ 需要/ 进行/ 特别/ 处理/ ,/ 才能/ 得到/ 最终/ 收敛/ 的/ 结果/ ./ 而/ 本文/ 的/ 方法/ 在/ 应用/ 时/ 不/ 需要/ 进行/ 这样/ 的/ 特殊/ 处理/ ./ 保留/ 原/ 模型/ 的/ 结构/ 的/ 方法/ ,/ 很多/ 工作/ 都/ 有/ 涉及/ ./ 本文/ 利用/ 了/ 文献/ [/ 10/ ]/ 中/ 提出/ 的/ 尽可能/ 刚性/ (/ as/ -/ rigid/ -/ as/ -/ possible/ )/ 的/ 方法/ ,/ 对模型/ 形状/ 进行/ 改变/ 时/ ,/ 模型/ 的/ 每/ 一部分/ 都/ 尽量/ 在/ 做/ 旋转/ 或/ 平移变换/ ,/ 而/ 尽量/ 不/ 出现/ 拉伸/ 或/ 扭曲/ 的/ 变换/ ./ 在/ 满足/ 这个/ 条件/ 时/ ,/ 模型/ 的/ 整体/ 的/ 变换/ 能够/ 保持/ 结构/ 尽量/ 不变/ ./ 另外/ ,/ 本文/ 也/ 借鉴/ 了/ Liu/ 等/ 在/ 文献/ [/ 11/ ]/ 中将/ 三角/ 面片/ 作为/ 旋转/ 单位/ 的/ 方法/ ./ 利用/ 这些/ 方法/ ,/ 本文/ 得到/ 的/ 结果/ 能够/ 很/ 好/ 地/ 保持/ 原/ 模型/ 的/ 结构特征/ ./ 问题/ 描述/ 对于/ 给定/ 的/ 一个/ 模型/ ,/ 需要/ 将/ 其/ 表面/ 处理/ 为/ 可展/ 曲面/ 或/ 近似/ 可展/ 曲面/ ./ 在/ 计算机/ 图形学/ 中/ ,/ 模型/ 的/ 表面/ 一般/ 可/ 离散/ 表示/ 为/ 三角/ 网格/ 曲面/ ./ 在/ 本文/ 中/ ,/ 我们/ 只/ 讨论/ 具有/ 单一/ 边界/ 的/ 网格/ 曲面/ ,/ 即/ 曲面/ 与/ 一个/ 圆盘/ 同/ 胚/ ./ 对于/ 复杂/ 的/ 模型/ 曲面/ ,/ 我们/ 可以/ 将/ 其/ 进行/ 分块/ ,/ 使得/ 每/ 一小块/ 都/ 与/ 圆盘/ 同/ 胚/ ,/ 然后/ 对/ 每/ 一块/ 分别/ 处理/ ./ 我们/ 采用/ 文献/ [/ 9/ ]/ 中/ 提出/ 的/ 网格/ 顶点/ 的/ 可展性/ 度量/ :/ 如果/ 在/ 某个/ 顶点/ 处/ ,/ 与/ 这个/ 顶点/ 相连/ 的/ 内角/ 之/ 和/ 等于/ 2/ π/ ,/ 则/ 认为/ 在/ 这个/ 顶点/ 处/ ,/ 网格/ 满足/ 可展/ 的/ 性质/ ./ 对于/ 一个/ 给定/ 的/ 单/ 边界/ 网格/ 曲面/ ,/ 如果/ 每个/ 内点/ (/ 即非/ 边界点/ )/ 都/ 满足/ 可展/ 性质/ ,/ 则/ 认为/ 这个/ 网格/ 曲面/ 是/ 可展/ 的/ ./ 显然/ ,/ 一般/ 的/ 三角/ 网格/ 曲面/ 并/ 不/ 满足/ 可展/ 性质/ ./ 本文/ 研究/ 的/ 问题/ 为/ :/ 给定/ 一个/ 三角/ 网格/ 曲面/ ,/ 如何/ 改变/ 网格/ 顶点/ 的/ 位置/ ,/ 使得/ 生成/ 的/ 新/ 的/ 三角/ 网格/ 曲面/ 满足/ 可展性/ ,/ 并且/ 能/ 很/ 好/ 逼近/ 初始/ 给定/ 的/ 网格/ 曲面/ ./ 2/ 基于/ ARAP/ 方法/ 的/ 可展性/ 优化/ 算法/ 文献/ [/ 8/ ]/ 提出/ 了/ 一种/ 基于/ 最小/ 范数/ 的/ 方法/ 来/ 将/ 一个/ 三角/ 网格/ 曲面/ 优化/ 成/ 近似/ 可展/ 曲面/ ,/ 其/ 基本/ 思想/ 就是/ 移动/ 顶点/ 坐标/ 使得/ 每个/ 顶点/ 满足/ 可展/ 性质/ ,/ 即/ 每个/ 顶点/ 的/ 内角/ 之/ 和/ 等于/ 2/ π/ ./ 我们/ 利用/ 这个/ 方法/ 来/ 对/ 网格/ 进行/ 处理/ ,/ 得到/ 新/ 的/ 网格/ ,/ 称为/ 初始/ 预测/ ./ 由于/ 初始/ 预测/ 不能/ 保持/ 原始/ 网格/ 的/ 形状/ ,/ 并且/ 顶点/ 较/ 不规则/ ,/ 我们/ 希望/ 能够/ 在/ 初始/ 预测/ 的/ 基础/ 上/ 进行/ 优化/ ./ 为了/ 能/ 在/ 优化/ 过程/ 中/ 尽可能/ 地/ 保持/ 原始/ 曲面/ ,/ 我们/ 采用/ 文献/ [/ 10/ ]/ 中/ 的/ 尽可能/ 刚性/ (/ ARAP/ )/ 的/ 方法/ ,/ 来/ 对/ 网格/ 进行/ 优化/ ./ 优化/ 过程/ 保持/ 了/ 原始/ 网格/ 曲面/ 的/ 形状/ ,/ 使得/ 顶点/ 较为/ 规则/ ./ 同时/ 达到/ 可展/ 的/ 要求/ ./ 上述/ 两步/ ,/ 即/ 初始/ 预测/ 和/ 尽可能/ 刚性/ 优化/ ,/ 可以/ 通过/ 迭代/ 不断改进/ 结果/ ,/ 最终/ 得到/ 很/ 好/ 的/ 结果/ ./ 2.1/ 利用/ 最小/ 范数/ 方法/ 得到/ 初始/ 预测/ 始/ 预测/ 网格/ ,/ 可/ 通过/ 以下/ 优化/ 问题/ 求得/ 下面/ 具体/ 介绍/ 本文/ 的/ 算法/ ./ 对于/ 每次/ 迭代/ ,/ 先/ 利用/ 最小/ 范数/ 方法/ [/ 8/ ]/ 得到/ 初/ 其中/ ,/ Vint/ 是/ 网格/ 所有/ 内点/ 下/ 标的/ 集合/ ,/ 狏/ oPage3/ 初始/ 顶点/ ,/ 狏/ p/ 是/ 新/ 的/ 顶点/ 位置/ ./ 可见/ 未知数/ 只是/ 网格/ 的/ 内点/ 位置/ ./ 设/ θ/ (/ 狏/ p/ )/ 为/ 狏/ p/ 以及/ 狏/ p/ 的/ 邻点/ 的/ 一个/ 函数/ ./ 记/ 狏/ p/ =/ p/ +/ 犱/ p/ ,/ 通过/ 泰勒/ 展开/ [/ 8/ ]/ ,/ 可以/ 得到/ 狏/ o/ θ/ p/ (/ 狏/ o/ 其/ 矩阵/ 形式/ 为/ θ/ p/ (/ 狏/ o/ 描述/ ./ 由于/ 式/ (/ 3/ )/ 是/ 欠定/ 的/ ,/ 有/ 无穷/ 多组/ 解/ ./ 为/ 使/ 新/ 网格/ 曲面/ 与/ 初始/ 曲面/ 尽量/ 接近/ ,/ 我们/ 可以/ 求/ 一组/ 解/ ,/ 使/ 犱/ 2/ 最小/ ./ 即为/ 最小/ 范数/ 问题/ :/ 这里/ 矩阵/ 犃/ 是/ 稀疏/ 矩阵/ ,/ 所以/ 可以/ 有效/ 的/ 求得/ 犱/ ,/ 进而/ 求得/ 狏/ p/ ./ 这样/ ,/ 就/ 得到/ 了/ 整个/ 过程/ 的/ 第一步/ ,/ 即/ 得到/ 了/ 初始/ 预测/ ./ 2.2/ 尽可能/ 刚性/ (/ ARAP/ )/ 方法/ 利用/ 上述/ 的/ 最小/ 范数/ 方法/ ,/ 我们/ 可以/ 得到/ 近似/ 可展/ 的/ 新/ 曲面/ ./ 但是/ ,/ 新/ 曲面/ 与/ 原始/ 曲面/ 相比/ ,/ 顶点/ 位置/ 变得/ 较为/ 不规则/ ,/ 整体/ 形状/ 也/ 有/ 较大/ 变化/ ./ 因此/ 需要/ 对/ 其/ 进行/ 优化/ ./ 尽可能/ 刚性/ 的/ 方法/ 使得/ 网格/ 在/ 变形/ 的/ 时候/ ,/ 尽量/ 保持/ 其/ 局部/ 性质/ ./ 局部/ 在/ 进行/ 变化/ 时/ ,/ 尽量/ 只/ 做/ 旋转/ 或/ 平移/ 变化/ ,/ 而/ 不/ 做/ 拉伸/ 和/ 扭曲/ 的/ 变化/ ./ 我们/ 根据/ 最小/ 范数/ 求解/ 得到/ 的/ 顶点/ 和/ 初始/ 网格/ 的/ 顶点/ 可/ 得到/ 每个/ 局部/ 的/ 旋转/ 矩阵/ ,/ 之后/ 再/ 利用/ 这些/ 旋转/ 矩阵/ ,/ 对/ 初始/ 顶点/ 狏/ o/ 在/ 文献/ [/ 10/ ]/ 中/ ,/ 局部/ 被/ 定义/ 为/ :/ 网格/ 曲面/ 的/ 内点/ 及其/ 一环/ 邻域/ 所/ 组成/ 的/ 一块/ ,/ 称为/ cell/ ./ 在/ 文献/ [/ 11/ ]/ 中/ ,/ 定义/ 每个/ 三角/ 面片/ 为/ 一个/ 局部/ ./ 这/ 两种/ 方法/ 各有/ 优点/ ,/ 最终/ 得到/ 的/ 结果/ 也/ 都/ 十分/ 理想/ ./ 下面/ 对/ 这/ 两种/ 方法/ 分别/ 进行/ 讨论/ ./ 2.2/ ./ 1/ 以/ cell/ 为/ 局部/ 单位/ 我们/ 已经/ 得到/ 对/ 原始/ 网格/ 的/ 初始/ 预测/ ./ 对于/ 每个/ cell/ ,/ 我们/ 希望/ 它们/ 的/ 变化/ 都/ 可以/ 用/ 旋转变换/ 来/ 进行/ 逼近/ ./ 假设/ 旋转/ 矩阵/ 为/ 犚/ p/ ,/ 则/ 有/ 其中/ 实际/ 中/ ,/ 不/ 可能/ 每个/ 局部/ 的/ 变化/ 都/ 能/ 严格/ 地/ 满足/ 式/ (/ 5/ )/ ./ 因此/ ,/ 可以/ 定义/ 一个/ 误差/ 函数/ ,/ 即/ ,/ 对于/ 每个/ cell/ ,/ 有/ 其中/ wpq/ 是/ 对/ 每/ 条边/ 犲/ pq/ 的/ 权重/ ./ 整体/ 上/ ,/ 总/ 的/ 误差/ 函数/ 为/ 对于/ 每个/ cell/ ,/ 由式/ (/ 7/ )/ 可得/ 在/ 本文/ 中/ ,/ wp/ 取值/ 均/ 为/ 1/ ./ 我们/ 希望/ 得到/ 一系列/ 的/ 旋转/ 矩阵/ ,/ 使得/ 式/ (/ 8/ )/ 最小/ ./ 即/ ,/ 尽量/ 使/ 初始/ 网格/ 每个/ 局部/ 进行/ 旋转变换/ 来/ 逼近/ 初始/ 预测/ ./ E/ (/ p/ )/ =/ ∑/ q/ ∈/ NV/ (/ p/ )/ wpq/ (/ 犲/ T/ 上式/ 中/ ,/ 不/ 包含/ 犚/ p/ 的/ 项/ 是/ 常数/ 项/ ,/ 可以/ 不用/ 考虑/ ./ 要令/ 上式/ 最小/ ,/ 等价/ 于/ 寻找/ 合适/ 的/ 犚/ p/ ,/ 使/ ∑/ q/ ∈/ NV/ (/ p/ )/ wpq/ 犲/ T/ 最大/ ./ 而/ argmax/ 犚/ p/ ∑/ q/ ∈/ NV/ (/ p/ )/ wpq/ 犲/ Targmax/ 犚/ p/ 并/ 记则式/ (/ 10/ )/ 可以/ 写作/ 当/ 犚/ p/ 犛/ p/ 是/ 对称/ 半/ 正定/ 矩阵/ 时/ ,/ 上式/ 取到/ 最大值/ ./ 为了/ 使/ 之/ 满足/ 对称/ 半/ 正定/ 矩阵/ 的/ 条件/ ,/ 可以/ 通过/ 以下/ 的/ 方法/ 来/ 得到/ 犚/ p/ ./ 首先/ 将/ 犛/ p/ 进行/ SVD/ 分解/ [/ 10/ ]/ ./ 则/ 可以/ 得到/ 其中/ ,/ 犝/ p/ 和/ 犞/ p/ 是/ 正交/ 矩阵/ ,/ Σ/ p/ 是/ 对角/ 矩阵/ ,/ 对角线/ 上/ 的/ 值/ 为/ 犛/ p/ 的/ 奇异/ 值/ ./ 同时/ ,/ 令/ 犚/ p/ 等于/ 在/ 实际/ 计算/ 时/ ,/ 适当/ 改变/ 犝/ p/ 每/ 一行/ 的/ 符号/ ,/ 使得/ 犚/ p/ 满足/ 作为/ 旋转/ 矩阵/ 的/ 要求/ ./ 此时/ 有/ 犚/ p/ 犛/ p/ =/ 犞/ p/ 犝/ T/ 即/ 此时/ 犚/ p/ 犛/ p/ 是/ 对称/ 半/ 正定/ 矩阵/ ./ 在/ 具体/ 求解/ 时/ ,/ 式/ (/ 10/ )/ 中/ 权重/ wpq/ 采用/ cotangent/ 权/ 系数/ [/ 14/ ]/ ,/ 即/ 下式/ :/ 图/ 1/ 为/ 角度/ 关系/ ./ 可以/ 发现/ ,/ 有/ wpq/ =/ wqp/ 成立/ ./ Page4/ 得到/ 每个/ cell/ 的/ 旋转/ 矩阵/ 之后/ ,/ 再/ 将/ 这些/ 旋转/ 矩阵/ 作用/ 到/ 初始/ 网格/ 上来/ 进行/ 优化/ ,/ 即/ ,/ 作用/ 到/ 顶点/ p/ ./ 在/ 实际操作/ 时/ ,/ 由于/ 局部/ 之间/ 的/ 相互影响/ ,/ 不能/ 狏/ o/ 保证/ 每个/ 局部/ 都/ 能够/ 进行/ 旋转变换/ ./ 可以/ 考虑/ 找到/ 一组/ 解/ 狏/ p/ ,/ 使得/ 式/ (/ 8/ )/ 最小/ ./ 对式/ (/ 8/ )/ 中/ 的/ 变量/ 狏/ p/ 求/ 偏导/ ,/ 并令/ 其值/ 为/ 0/ ,/ 则/ 有/ 变换/ 上/ 式/ ,/ 可以/ 得到/ ∑/ q/ ∈/ NV/ (/ p/ )/ wpq/ (/ 狏/ p/ -/ 狏/ q/ )/ =/ ∑/ q/ ∈/ NV/ (/ p/ )/ 改写/ 上式/ 为/ 矩阵/ 形式/ ,/ 可以/ 得到/ 其中/ 犔/ c/ 是/ 一个/ 矩阵/ ./ 犞/ 是/ 网格/ 所有/ 内点/ 组成/ 的/ 向量/ ,/ 犵/ c/ 是/ 通过/ 式/ (/ 18/ )/ 右边/ 得到/ 的/ 向量/ ./ 由于/ 所有/ 的/ wpq/ 是从/ 原始/ 网格/ 得到/ 的/ ,/ 所以/ 每次/ 迭代/ 时/ ,/ 犔/ c/ 都/ 是/ 一样/ 的/ ,/ 即/ 犔/ c/ 只/ 需要/ 计算/ 一次/ ./ 而/ 犵/ c/ 需要/ 每次/ 迭代/ 时/ 利用/ 当前/ 的/ 网格/ 信息/ 以及/ 初始/ 预测/ 得到/ ./ 2.2/ ./ 2/ 以/ 三角/ 面片/ 为/ 局部/ 单位/ 当以/ 三角/ 面片/ 为/ 局部/ 单位/ 时/ ,/ 方法/ 和/ 以/ cell/ 为/ 局部/ 单位/ 相同/ ./ 但是/ 实际操作/ 时有/ 一些/ 区别/ ./ 当以/ 三角/ 面片/ 为/ 局部/ 单位/ 时/ ,/ 三个/ 顶点/ 以/ 三角形/ 的/ 重心/ 为/ 轴/ ,/ 做/ 旋转变换/ ./ 对于/ 某个/ 三角/ 面片/ ft/ ,/ 设/ 它/ 的/ 顶点/ 做/ 旋转变换/ 的/ 旋转/ 矩阵/ 为/ 犚/ t/ ,/ 重心/ 位置/ 为/ 狏/ g/ ,/ 则/ 可以/ 得到/ 下/ 式/ :/ 其中/ 和/ 以/ cell/ 为/ 局部/ 单位/ 类似/ ,/ 可以/ 对/ 每个/ 三角/ 面片/ 定义/ 一个/ 误差/ 函数/ :/ 整体/ 误差/ 函数/ 为/ 其中/ ,/ wt/ 取值/ 为/ 1/ ./ 同样/ 用/ SVD/ 分解/ ,/ 类似/ 可以/ 求得/ 旋转/ 矩阵/ 犚/ t/ ./ 现在/ 要/ 计算/ 新/ 的/ 顶点/ ./ 对式/ (/ 23/ )/ 中/ 的/ 变量/ 狏/ p/ 求/ 偏导/ ,/ 并令/ 其为/ 0/ ,/ 有/ 上式/ 中/ ,/ NF/ (/ p/ )/ 表示/ 与/ 顶点/ 狏/ p/ 相连/ 的/ 三角/ 面片/ 的/ 指/ 3/ ∑/ t/ ∈/ NF/ (/ p/ )/ 标集/ ./ 若/ t/ ∈/ NF/ (/ p/ )/ ,/ 则/ 三角/ 面片/ ft/ 中/ 包含/ 狏/ p/ 作为/ 顶点/ ./ 不妨/ 假设/ 狏/ p/ 是/ 所有/ 三角/ 面片/ ft/ 的/ 第一个/ 顶点/ ./ 则/ 可以/ 得到/ 下/ 式/ :/ / E/ / 狏/ p/ =/ 2/ 即/ ∑/ t/ ∈/ NF/ (/ p/ )/ 改写/ 上式/ 为/ 矩阵/ 形式/ ,/ 可以/ 得到/ (/ 2/ 狏/ p/ -/ 狏/ t1/ -/ 狏/ t2/ )/ =/ ∑/ t/ ∈/ NF/ (/ p/ )/ 犚/ t/ (/ 2/ 狏/ o/ 其中/ 犔/ t/ 是/ 一个/ 矩阵/ ./ 犞/ 是/ 网格/ 所有/ 内点/ 组成/ 的/ 向量/ ,/ 犵/ t/ 是/ 通过/ 式/ (/ 26/ )/ 右边/ 得到/ 的/ 向量/ ./ 与/ 以/ cell/ 为/ 局部/ 单位/ 时/ 类似/ ,/ 矩阵/ 犔/ t/ 也/ 是/ 只/ 需要/ 计算/ 一次/ ,/ 犵/ t/ 需要/ 在/ 每次/ 迭代/ 时/ 利用/ 当前/ 网格/ 信息/ 以及/ 初始/ 预测/ 得到/ ./ 2.3/ 利用/ 最小/ 二乘/ 方法/ 对/ 网格/ 进行/ 优化/ 利用/ ARAP/ 方法/ ,/ 可以/ 保留/ 原始/ 网格/ 的/ 信息/ ./ 结合/ 最小/ 范数/ 方法/ 得到/ 的/ 初始/ 预测/ ,/ 可以/ 对/ 网格/ 曲面/ 顶点/ 进行/ 优化/ ./ 然而/ 在/ 实际操作/ 时/ 发现/ ,/ 如果/ 直接/ 利用/ 式/ (/ 19/ )/ 或/ (/ 27/ )/ 进行/ 计算/ ,/ 则/ 并/ 不能/ 得到/ 很/ 好/ 的/ 结果/ :/ 计算/ 时/ ,/ 迭代/ 次数/ 过多/ ,/ 对于/ 某些/ 模型/ ,/ 甚至/ 不能/ 得到/ 收敛/ 的/ 结果/ ./ 这/ 是因为/ 在/ 求/ 初始/ 预测/ 时/ ,/ 泰勒/ 展开式/ 的/ 高次/ 项/ 被忽略了/ ./ 当/ 初始/ 网格/ 曲面/ 的/ 可展性/ 很/ 差时/ ,/ 计算/ 的/ 误差/ 也/ 较大/ ./ 而/ ARAP/ 方法/ 只是/ 保留/ 初始/ 网格/ 的/ 结构/ ,/ 并/ 没有/ 提供/ 可展/ 的/ 限制/ ./ 如果/ 利用/ ARAP/ 方法/ 对/ 网格/ 曲面/ 进行/ 优化/ ,/ 则/ 会/ 使得/ 初始/ 预测/ 的/ 误差/ 进一步/ 加大/ ./ 为了/ 加入/ 可展/ 的/ 限制/ ,/ 可以/ 加入/ 最小/ 范数/ 步骤/ 中/ 的/ 线性方程/ ,/ 即式/ (/ 3/ )/ ,/ 从而/ 得到/ (/ )/ 犃/ 由于/ 式/ (/ 28/ )/ 中/ 的/ 系数/ 矩阵/ 有/ 可能/ 是/ 超定/ 的/ ,/ 不/ 一定/ 有/ 精确/ 解/ ./ 因此/ 我们/ 在/ 最小/ 二乘/ 意义/ 下/ 求得/ 方程/ 的/ 最优/ 解/ [/ 12/ ]/ ,/ 即/ 找到/ 一组/ 解/ ,/ 使下式/ 最小/ 上式/ 中/ ,/ 犱/ =/ 犞/ -/ 犞/ o/ ,/ 犵/ =/ 犵/ -/ 犔/ 犞/ o/ ./ 则/ 可以/ 解得式/ (/ 28/ )/ 的/ 最小/ 二乘/ 解为/ 犱/ =/ 犃/ T/ 犔/ (/ )/ TT/ (/ )/ 之后/ 结合/ 犞/ =/ 犞/ o/ +/ 犱/ ,/ 可以/ 得到/ 优化/ 后/ 的/ 顶点/ 位置/ ./ 2.4/ 最小/ 范数/ 步骤/ 时/ 的/ 一些/ 权重/ 在/ 实现/ 过程/ 中/ ,/ 我们/ 还/ 可以/ 将/ 已经/ 很/ 接近/ 可展/ 的/ 顶点/ 和/ 未/ 接近/ 可展/ 的/ 顶点/ 来/ 区分/ 对待/ ,/ 让/ 未/ 接近/ Page5/ 可展/ 的/ 顶点/ 更/ 容易/ 获得/ 较大/ 的/ 变化/ ,/ 则/ 可以/ 更快/ 地令/ 结果/ 收敛/ ./ 具体/ 只要/ 将/ 不/ 需要/ 更/ 多/ 变化/ 的/ 顶点/ 加上/ 较大/ 的/ 权重/ ,/ 若/ 这个/ 顶点/ 移动/ 很小/ 的/ 距离/ ,/ 则/ 目标/ 函数/ 的/ 值/ 便/ 会/ 显著/ 增加/ ./ 由此/ 便/ 限制/ 了/ 这些/ 顶点/ 的/ 改变/ ./ 具体/ 的/ 权重/ 设置/ 方法/ 如下/ (/ 这里/ 的/ 数值/ 是/ 实验/ 得到/ 的/ 结果/ ./ 可以/ 根据/ 需要/ 进行/ 调整/ )/ :/ (/ 1/ )/ 得到/ 当前/ 所有/ 内点/ 处/ ,/ 与/ 这个/ 顶点/ 相连/ 的/ 内角/ 之/ 和/ ,/ 与/ 2/ π/ 的/ 差/ difp/ ./ (/ 2/ )/ 设定/ 两个/ 阈值/ (/ thresholdvalue/ )/ ,/ 分别/ 为/ tvl/ =/ 0.005/ ,/ tvu/ =/ 0.5/ ./ 对于/ 某个/ 顶点/ ,/ 如果/ difp/ 大于/ tvu/ ,/ 则/ 将/ 此/ 顶点/ 处/ 的/ 权重/ wp/ 设为/ 1/ ./ 如果/ difp/ 小于/ tvl/ ,/ 则/ 将/ 此/ 顶点/ 处/ 的/ 权重/ wp/ 设为/ 100/ ./ 如果/ difp/ 在/ tvu/ 与/ tvl/ 之间/ ,/ 则/ 由/ wp/ =/ tvudifp/ 重/ ./ 同时/ ,/ 将/ 相应/ 的/ 权重/ 乘到/ 式/ (/ 3/ )/ 中/ 犃/ 的/ 相应/ 列/ ./ 的/ 权重/ ./ 本文/ 在/ 实际/ 应用/ 时/ ,/ 设其/ 上限/ 为/ 0.9/ ,/ 下限/ 为/ 0.1/ ./ 设/ difp/ =/ difp/ +/ ∑/ q/ ∈/ NVin/ (/ p/ )/ dif/ (/ 3/ )/ 令/ 狏/ p/ =/ 狏/ o/ 图/ 2/ 实验/ 模型/ 由图/ 2/ 中/ 可以/ 看到/ ,/ 虽然/ Cloak/ 模型/ 很多/ 地方/ 接近/ 可展/ ,/ 但/ 仍/ 有/ 一些/ 部分/ 要/ 进行/ 处理/ ./ 本文/ 将/ 其/ 分割/ 为/ 前后/ 两/ 部分/ 进行/ 处理/ ./ 如果/ 进行/ 更细/ 的/ 分割/ ,/ 则/ 能/ 得到/ 更好/ 的/ 结果/ ./ 图中/ 灰度/ 表示/ 模型/ 可展/ 程度/ ./ 颜色/ 接近/ 浅色/ ,/ 表示/ 可展/ 程度/ 较/ 好/ ;/ 接近/ 深色/ ,/ 表示/ 可展/ 程度/ 较差/ ./ 灰度/ 对应/ 数字/ 是/ 指/ 某/ 顶点/ 处/ 内角/ 和/ 与/ 图/ 3Cloak/ 模型/ 前半部/ 分/ 的/ 处理/ (/ 左边/ 大图/ 是/ 原始/ 模型/ ,/ 左上/ 图/ 的/ 颜色/ 代表/ 了/ 可展/ 程度/ ,/ 左/ 下图/ 为/ 网格/ 模型/ ./ 右边/ 小图/ 是/ 不同/ 方法/ 的/ 处理结果/ ,/ 其中/ 第/ 1/ 行是/ 文献/ [/ 8/ ]/ 中/ 方法/ 处理/ 的/ 结果/ ,/ 第/ 2/ 行是/ 以/ Cell/ 为/ 局部/ 单位/ 的/ 结果/ ,/ 第/ 3/ 行是/ 以三即/ difp/ 是/ 这个/ 顶点/ 处/ 的/ difp/ 及其/ 内部/ 邻点/ 的/ difp/ 的/ 均值/ ./ 将/ difp/ 与/ tvl/ 比较/ ,/ 如果/ 前者/ 较大/ ,/ 则/ 设/ wp/ =/ 0.9/ ,/ 否则/ 设/ wp/ =/ 0.1/ ./ 根据/ 实验/ 结果/ 来看/ ,/ 这样/ 设置/ 权重/ 能够/ 得到/ 不错/ 的/ 结果/ ./ 3/ 结果/ 及/ 比较/ 我们/ 利用/ 本文/ 提出/ 的/ 算法/ 对/ 许多/ 模型/ 进行/ 了/ 试验/ 和/ 处理/ ./ 算法/ 适用/ 于/ 处理/ 一些/ 近似/ 可展/ 的/ 模型/ 曲面/ ,/ 而/ 并/ 不适/ 用于/ 所有/ 的/ 模型/ ,/ 尤其/ 是/ 一些/ 复杂/ 的/ ,/ 含有/ 很多/ 细节/ 信息/ 的/ 模型/ ./ 在/ 实际/ 应用/ 时/ ,/ 如果/ 需要/ 处理/ 的/ 模型/ 较/ 复杂/ ,/ 可以/ 先/ 将/ 其/ 分块/ ,/ 然后/ 对/ 各块/ 进行/ 处理/ ,/ 再/ 进行/ 拼接/ ./ 各图/ 中/ 的/ 颜色/ 表示/ 曲面/ 的/ 可展/ 程度/ ./ 颜色/ 接近/ 蓝色/ ,/ 表示/ 可展/ 程度/ 较/ 好/ ;/ 接近/ 红色/ ,/ 表示/ 可展/ 程度/ 较差/ ./ 颜色/ 对应/ 数字/ 是/ 指/ 某/ 顶点/ 处/ 内角/ 和/ 与/ 2/ π/ 的/ 差值/ ./ 可以/ 先/ 将/ 其/ 分为/ 前后/ 两块/ ,/ 然后/ 分别/ 进行/ 处理/ ./ 本文/ 的/ 算法/ 可以/ 处理/ 类似/ 于图/ 2/ 的/ 模型/ ./ 我们/ 2/ π/ 的/ 差值/ ./ 在/ 图/ 3/ 和/ 图/ 4/ 中/ ,/ 我们/ 和/ 文献/ [/ 8/ ]/ 的/ 方法/ 进行/ 了/ 比较/ ./ 文献/ [/ 8/ ]/ 的/ 方法/ 需要/ 对/ 迭代/ 进行/ 一些/ 特别/ 处理/ 才能/ 得到/ 收敛/ 的/ 结果/ ,/ 而/ 我们/ 的/ 方法/ 不/ 需要/ 任何/ 处理/ 都/ 能够/ 收敛/ ./ 并且/ 结果显示/ ,/ 本文/ 的/ 方法/ 能/ 得到/ 更优/ 的/ 结果/ ./ Page6/ 图/ 4/ 对/ Cloak/ 模型/ 背部/ 的/ 处理结果/ 图/ 3/ 是/ Cloak/ 模型/ 的/ 前半部/ 分/ ./ 从/ 最终/ 的/ 结果/ 来看/ 本文/ 方法/ 得到/ 的/ 结果/ 在/ 保持/ 原/ 模型/ 的/ 形状/ 上要/ 好/ 一些/ ./ 而/ 在/ 处理过程/ 中/ ,/ 可以/ 发现/ 经过/ 1/ 次/ ,/ 以及/ 4/ 次/ 迭代/ 后/ ,/ 本文/ 的/ 结果/ 要/ 明显/ 更/ 接近/ 可展/ ./ 而/ 文献/ [/ 8/ ]/ 中/ 的/ 方法/ 收敛/ 速度/ 却/ 没有/ 那么/ 快/ ./ 为了/ 得到/ 最终/ 收敛/ 的/ 结构/ ,/ 用/ 文献/ [/ 8/ ]/ 中/ 的/ 方法/ 有时/ 需要/ 采取/ 一些/ 特别/ 的/ 措施/ ./ 而/ 本文/ 的/ 方法/ 不/ 需要/ 区别对待/ ,/ 只要/ 不断/ 的/ 进行/ 迭代/ ,/ 就/ 会/ 得到/ 收敛/ 的/ 结果/ ./ 这/ 也/ 是/ 这个/ 算法/ 的/ 优势/ 之一/ ./ 图/ 4/ 是/ Cloak/ 模型/ 的/ 后/ 半/ 部分/ ./ 这个/ 结果/ 同样/ 显示/ 了/ 本文/ 的/ 结果/ 能/ 更好/ 地/ 保持/ 原/ 模型/ 的/ 形状/ ./ 将/ 图/ 3/ 与/ 图/ 4/ 中/ 的/ 处理结果/ 相结合/ ,/ 就/ 可以/ 得到/ 对/ 整个/ Cloak/ 模型/ 处理/ 的/ 结果/ 3.1/ 计算/ 中/ 的/ 数据表/ 1/ 是/ 本文/ 用到/ 的/ 一些/ 模型/ 的/ 数据/ ./ 表/ 2/ 是/ 处理/ 模型/ 的/ 一些/ 数据/ 统计/ ./ 其中/ ,/ E/ θ/ 是/ 指/ 所有/ 顶点/ 处/ 内角/ 和/ 与/ 2/ π/ 差值/ 的/ 最大值/ ./ Ev/ 是/ 指/ 所有/ 顶点/ 偏离/ 初始/ 位置/ 的/ 最大值/ ./ 表/ 2/ 中/ ,/ 最小/ 范数/ 方法/ 想要/ 得到/ 收敛/ 的/ 结果/ ,/ 需要/ 在/ 迭代/ 若干/ 步后/ ,/ 进行/ 一些/ 特殊/ 处理表/ 2/ 处理/ 模型/ 的/ 计算/ 数据/ (/ PC/ 数据/ :/ IntelCoreDuoprocessorT2300E/ ,/ 1.66/ GHz/ ,/ 512MBRAM/ )/ CloakfrontCloakback/ 时间/ (/ 每次/ 迭代/ )/ // ms/ 步数/ 782812976722375248553116561719179775478015/ (/ 具体/ 请/ 参见/ 文献/ [/ 8/ ]/ )/ ./ 而/ 本文/ 的/ 方法/ 没有/ 这样/ 的/ 情况/ ./ 在/ 表/ 2/ 中/ ,/ 处理/ 模型/ 并/ 没有/ 设置/ 终止/ 值/ ,/ 而/ 仅仅/ 是/ 不断/ 地/ 迭代/ ./ 当/ 结果/ 相对/ 稳定/ 时/ 终止/ 迭代/ ./ 根据/ 表/ 2/ 中/ 的/ 数据/ ,/ 可以/ 发现/ ,/ 用/ 最小/ 范数/ 方法/ 得到/ 的/ 结果/ 具有/ 较/ 好/ 的/ 可展性/ ,/ 一般/ E/ θ/ 比/ 本文/ 的/ 结果/ 要/ 小/ ./ 但是/ 考虑/ 实际/ 情况/ ,/ 当/ E/ θ/ 达到/ 10/ -/ 3/ 数量级/ 时/ ,/ 已经/ 没有/ 必要/ 再/ 进行/ 迭代/ ,/ 因为/ 此时/ 已经/ 足够/ 可展/ ./ 事实上/ ,/ 只要/ 迭代/ 足够/ 多/ 的/ 次数/ ,/ 本文/ 的/ 方法/ 也/ 是/ 可以/ 达到/ 更/ 小/ 的/ E/ θ/ 的/ ./ 如果/ 考虑/ 到/ 与/ 原始/ 模型/ 的/ 接近/ 程度/ ,/ 就/ 可以/ 看到/ 本文/ 方法/ 的/ 优势/ 了/ ./ 如表/ 2/ 所示/ ,/ 用/ 本文/ 的/ 方法/ ,/ 最后/ 的/ Ev/ 要/ 比/ 最小/ 范数/ 方法/ 小得多/ ./ 这/ 说明/ 了/ 这个/ 方法/ 在/ 保持/ 模型/ 初始/ 位置/ 上要/ 优于/ 最小/ 范数/ 方法/ ./ 通过/ 对图/ 3/ ~/ 图/ 6/ 等/ 图/ 的/ 观察/ 也/ 可以/ 发现/ ,/ 本文/ 的/ 方法/ 在/ 保留/ 原/ 模型/ 的/ 形状/ 上要/ 更好/ 一些/ ./ PatchCloakfrontCloakbackSkirtPage7/ 图/ 5/ 对/ Patch/ 模型/ 的/ 处理结果/ 图/ 6/ 对/ Skirt/ 模型/ 的/ 处理结果/ 4/ 总结/ 与/ 结论/ 本文/ 给出/ 的/ 算法/ 在/ 得到/ 理想/ 的/ 可展/ 曲面/ 的/ 同时/ ,/ 还/ 保证/ 了/ 原/ 模型/ 的/ 网格/ 结构/ 尽量/ 不/ 被/ 破坏/ ,/ 这是/ 算法/ 的/ 优势/ 所在/ ./ 从/ 这/ 篇文章/ 中/ 一些/ 例子/ 也/ 可以/ 看到/ ,/ 最后/ 得到/ 的/ 结果/ 也/ 确实/ 在/ 保持/ 原/ 模型/ 结构/ 上/ 较优/ ./ 本文/ 的/ 算法/ 在/ 实际/ 应用/ 时/ ,/ 只/ 需/ 设定/ 一个/ 可展性/ 的/ 目标值/ ,/ 然后/ 不断/ 地/ 进行/ 迭代/ 即可/ ./ 这/ 使得/ 这个/ 方法/ 更易/ 被/ 应用/ ./ 另外/ ,/ 从/ 实验/ 的/ 数据/ 来看/ ,/ 被/ 处理/ 的/ 模型/ 不会/ 出现/ 与/ 原/ 形状/ 相差/ 过大/ 的/ 情况/ ,/ 这/ 使得/ 本文/ 的/ 算法/ 能够/ 胜任/ 处理/ 各种/ 模型/ ./ 本文/ 算法/ 也/ 存在/ 着/ 一些/ 不足/ ./ 由于/ 本文/ 算法/ 结合/ 了/ ARAP/ 方法/ ,/ 使得/ 计算/ 量/ 增加/ 较/ 多/ ,/ 因此/ 每次/ 迭代/ 所/ 需要/ 的/ 时间/ 较长/ ./ 本文/ 的/ 方法/ 虽然/ 取得/ 了/ 一些/ 结果/ ,/ 但是/ 仍/ 有/ 改进/ 的/ 余地/ ./ 首先/ ,/ 可以/ 考虑/ 对/ 顶点/ 赋予/ 不同/ 的/ 权重/ ,/ 以/ 得到/ 更好/ 的/ 结果/ ./ 其次/ ,/ 这个/ 方法/ 并/ 没有/ 加入/ 人工/ 交互/ 的/ 成分/ ,/ 只是/ 单纯/ 的/ 对/ 网格/ 进行/ 处理/ ./ 但是/ 在/ 实际/ 应用/ 时/ ,/ 要/ 处理/ 的/ 模型/ 表面/ 会/ 有/ 一些/ 特殊/ 情况/ ,/ 比如/ 某些/ 部分/ 不/ 需要/ 处理/ ,/ 或者/ 某些/ 顶点/ 位置/ 不能/ 移动/ ./ 这个/ 时候/ ,/ 可以/ 利用/ 交互/ 的/ 方法/ 来/ 选出/ 这些/ 顶点/ ,/ 然后/ 将/ 其/ 固定/ 或/ 赋以/ 特殊/ 的/ 权重/ ,/ 使得/ 处理/ 后/ 能够/ 得到/ 人们/ 需要/ 的/ 结果/ ./ 

