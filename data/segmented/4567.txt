Page1/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 生成/ 算法/ 1/ )/ (/ 东南大学/ 数学系/ 南京/ 210096/ )/ 2/ )/ (/ 南京大学/ 软件/ 新/ 技术/ 国家/ 重点/ 实验室/ 南京/ 210093/ )/ 3/ )/ (/ 南京大学/ 计算机科学/ 与/ 技术/ 系/ 南京/ 210093/ )/ 4/ )/ (/ 南京航空航天大学/ 信息科学/ 与/ 技术/ 学院/ 南京/ 210016/ )/ 摘要/ 组合/ 测试/ 是/ 侦测/ 软件系统/ 中/ 各/ 因素/ 或/ 配置/ 之间/ 是否/ 有/ 交互作用/ 导致/ 软件系统/ 故障/ 的/ 重要/ 方法/ ,/ 当/ 因素/ 之间/ 的/ 取值/ 组合/ 出现/ 约束/ 时/ 如何/ 生成/ 尽可能少/ 的/ 测试用例/ 是/ 组合/ 测试/ 中/ 的/ 热点问题/ 之一/ ./ 该文/ 研究/ 了/ 约束/ 出现/ 时/ 由/ 约束/ 导致/ 的/ 禁忌/ 交互/ 集/ 的/ 结构/ 形式/ ,/ 提出/ 了/ 包括/ 所有/ 的/ 显性/ 与/ 隐含/ 极小/ 禁忌/ 交互/ 的/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 的/ 概念/ ,/ 对/ 一般/ 的/ 禁忌/ 交互/ 集/ ,/ 提出/ 了/ 生成/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 的/ 算法/ ,/ 分析/ 了/ 算法/ 的/ 性能/ ,/ 然后/ 对/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 提出/ 了/ 生成/ 禁忌/ 覆盖/ 表/ 的/ 类/ AETG/ 算法/ ./ 对/ Cohen/ 等/ 人/ 提出/ 的/ 5/ 个/ 实际/ 的/ 测试/ 场景/ 以及/ 30/ 个/ 人工合成/ 的/ 场景/ ,/ 实验/ 表明/ 生成/ 的/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 的/ 规模/ 是/ 在/ 可/ 接受/ 的/ 范围/ 内/ ,/ 生成/ 的/ 测试用例/ 集/ 规模/ 与/ Cohen/ 等/ 人/ 实验/ 的/ 结果/ 是/ 相当/ 的/ ./ 最后/ 通过/ 随机/ 实验/ 研究/ 了/ 影响/ 禁忌/ 交互/ 集/ 与其/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 的/ 规模/ 比值/ 的/ 因素/ ./ 关键词/ 组合/ 测试/ ;/ 约束条件/ ;/ 禁忌/ 覆盖/ 表/ ;/ 禁忌/ 交互/ ;/ 一致/ 闭/ 禁忌/ 交互/ 集/ ;/ 类/ AETG/ 算法/ 1/ 引言/ 测试/ 是/ 软件/ 或硬件/ 开发/ 过程/ 中/ 一个/ 重要/ 并且/ 昂贵/ 的/ 环节/ ./ 组合/ 测试/ 是/ 侦测/ 软件系统/ 中/ 各个/ 因素/ 或/ 配置/ 之间/ 是否/ 有/ 交互作用/ 导致/ 软件系统/ 故障/ 的/ 重要/ 方法/ ,/ 该/ 方法/ 用/ 尽可能少/ 的/ 测试用例/ 来/ 检测/ 系统/ 两个/ 因素/ 之间/ 或/ t/ 个/ 因素/ 之间/ 是否/ 有/ 交互作用/ 导致/ 系统故障/ ./ 检测/ 任意/ 两个/ 因素/ 之间/ 所有/ 的/ 可能/ 取值/ 组合/ 称为/ 两/ 两/ 组合/ 覆盖/ ,/ 任意/ t/ 个/ 因素/ 之间/ 所有/ 的/ 可能/ 取值/ 组合/ 称为/ t/ 维/ 组合/ 覆盖/ ,/ t/ 称为/ 覆盖/ 强度/ ./ Kuhn/ 等/ 人/ [/ 1/ ]/ 的/ 研究/ 表明/ 测试/ 两/ 两/ 组合/ 覆盖/ 发现/ 大约/ 70/ %/ 的/ 错误/ ,/ 三维/ 组合/ 覆盖/ 能/ 发现/ 大约/ 90/ %/ 的/ 错误/ ./ 人们/ 应用/ 组合/ 测试/ 策略/ 进行/ 软件测试/ 已有/ 很/ 长时间/ ,/ 最早/ 组合/ 测试/ 是/ 应用/ 正交/ 拉丁/ 方/ 和/ 正交/ 实验设计/ 来/ 对/ 软件/ 进行/ 测试/ [/ 2/ -/ 3/ ]/ ./ 在/ 组合/ 测试/ 的/ 应用/ 中/ ,/ 如何/ 生成/ 尽可能少/ 的/ 组合/ 测试用例/ 集是/ 当前/ 研究/ 的/ 热点问题/ 之一/ ,/ 除了/ 一些/ 特殊/ 的/ 情形/ ,/ 一般/ 生成/ 达到/ 覆盖/ 要求/ 的/ 最优/ 测试用例/ 集是/ NP/ 完全/ 问题/ ./ 人们/ 通过/ 数学/ 构造/ ,/ 贪心/ 算法/ 以及/ 智能/ 搜索/ 方法/ 来/ 生成/ 尽可能/ 小/ 的/ 测试用例/ 集/ [/ 4/ -/ 13/ ]/ ./ 然而/ 在实践中/ 软件系统/ 的/ 因素/ 取值/ 之间/ 有/ 很多/ 约束/ ,/ 这些/ 约束/ 导致/ 有些/ 因素/ 的/ 某些/ 取值/ 不能/ 同时/ 出现/ ,/ 若/ 同时/ 出现/ 在/ 某个/ 测试用例/ 中/ ,/ 运行/ 这个/ 测试用例/ 一定/ 会/ 导致/ 软件系统/ 故障/ ,/ 而/ 在/ 前述/ 方法/ 中/ 很少/ 有人/ 讨论/ 在/ 有/ 许多/ 约束/ 出现/ 时/ 的/ 处理/ 策略/ ./ 而/ 是否/ 存在/ 一条/ 测试用例/ 满足/ 给定/ 的/ 约束/ 已/ 被/ Bryce/ 和/ Colbourn/ 证明/ 是/ 一/ NP/ -/ hard/ 问题/ [/ 14/ ]/ ./ Cohen/ 等/ 人/ [/ 15/ -/ 16/ ]/ 认真/ 分析/ 了/ 当前/ 一些/ 生成/ 组合/ 测试用例/ 集/ 的/ 工具/ 中/ 处理/ 约束/ 的/ 情况/ ,/ 并/ 得出结论/ :/ 在/ 实际/ 测试/ 场景/ 中/ ,/ 约束/ 对/ 生成/ 组合/ 测试用例/ 集会/ 产生/ 重要/ 影响/ ,/ 在/ 测试用例/ 集/ 生成/ 算法/ 中/ 必须/ 充分考虑/ 相关/ 约束/ ./ 他们/ 把/ SAT/ 工具/ 集成/ 到/ AETG/ 算法/ 中/ ,/ 把/ 组合/ 测试/ 问题/ 编码/ 成/ SAT/ 问题/ ,/ 在/ 每次/ 选择/ 下/ 一个/ 因素/ 的/ 一个/ 取值/ 时/ ,/ 把/ 已/ 生成/ 的/ 部分/ 测试用例/ 调用/ SAT/ 解法/ 器/ 做/ 一致性/ 检查/ ,/ 看看/ 是否/ 能/ 扩充/ 成/ 一个/ 完全/ 的/ 测试用例/ [/ 16/ ]/ ./ 后来/ Cohen/ 等/ 人/ [/ 17/ ]/ 又/ 把/ SAT/ 工具/ 集成/ 到/ 模拟退火/ 算法/ 中来/ 对/ 约束/ 的/ 组合/ 测试/ 集/ 生成/ 问题/ 求解/ ,/ 取得/ 了/ 比较/ 好/ 的/ 结果/ ./ Danziger/ 等/ 人/ [/ 18/ ]/ 在/ 二维/ 情形/ 下/ 对/ 生成/ 禁忌/ 覆盖/ 表/ 的/ 复杂性/ 问题/ 进行/ 了/ 研究/ ,/ 得到/ 最优/ 的/ 禁忌/ 覆盖/ 表/ 的/ 行数/ 等于/ 相应/ 的/ 图/ 的/ 最小/ 边团/ 覆盖/ 数/ 的/ 结论/ ./ 本文/ 研究/ 了/ 带/ 约束/ 的/ 组合/ 测试用例/ 集/ 生成/ 问题/ ,/ 首先/ 讨论/ 了/ 带/ 禁忌/ 交互/ 的/ 组合/ 测试/ 模型/ ,/ 然后/ 对/ 约束/ 导致/ 的/ 禁忌/ 交互/ 集/ 的/ 内部结构/ 进行/ 了/ 研究/ ,/ 提出/ 了/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 的/ 概念/ ,/ 得到/ 了/ 判断/ 禁忌/ 交互/ 集是/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 的/ 充分条件/ ,/ 在/ 此基础/ 上/ 提出/ 了/ 一种/ 将/ 一般/ 的/ 禁忌/ 交互/ 集/ 扩充/ 成/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 的/ 算法/ ,/ 并/ 分析/ 了/ 算法/ 的/ 性能/ ,/ 随后/ 针对/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 设计/ 了/ 生成/ 禁忌/ 覆盖/ 表/ 的/ 类/ AETG/ 算法/ ./ 对于/ Cohen/ 等/ 人/ [/ 16/ ]/ 提出/ 的/ 5/ 个/ 实际/ 测试/ 场景/ 以及/ 30/ 个/ 人工合成/ 场景/ ,/ 通过/ 实验/ 表明/ 其/ 禁忌/ 交互/ 集/ 扩充/ 成/ 一致/ 闭/ 禁忌/ 交互/ 集/ 的/ 规模/ 在/ 可/ 接受/ 范围/ 内/ ,/ 从而/ 可用/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集来/ 引导/ 和/ 生成/ 组合/ 测试用例/ 集/ ,/ 生成/ 的/ 满足/ 约束/ 的/ 覆盖/ 表/ 的/ 规模/ 与/ Cohen/ 等/ 人/ 的/ 实验/ 相当/ ./ 为了/ 进一步/ 研究/ 禁忌/ 交互/ 集/ 与其/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 的/ 规模/ 比值/ 与/ 哪些因素/ 有关/ ,/ 设计/ 了/ 一些/ 随机/ 实验/ 进行/ 了/ 研究/ ./ 最后/ 总结/ 了/ 全文/ 并/ 提出/ 未来/ 可/ 进行/ 研究/ 的/ 工作/ ./ 2/ 相关/ 研究/ 以及/ 带/ 禁忌/ 交互/ 的/ 组合/ 测试/ 模型/ 为了/ 研究/ 带/ 禁忌/ 边/ 的/ 组合/ 测试/ 的/ 生成/ 技术/ ,/ 我们/ 先/ 给出/ 一些/ 记号/ 和/ 形式化/ 定义/ ./ 假设/ 影响/ 待/ 测系统/ (/ SoftwareUnderTest/ ,/ SUT/ )/ 的/ 因素/ 共有/ k/ 个/ ,/ 因素/ i/ 有/ vi/ (/ 1/ / i/ / k/ )/ 个/ 可能/ 的/ 取值/ ,/ 用/ 0/ ,/ 1/ ,/ …/ ,/ vi/ -/ 1/ 表示/ ,/ 并用/ 记号/ [/ 0/ ,/ vi/ -/ 1/ ]/ 表示/ 取/ 值域/ {/ 0/ ,/ 1/ ,/ …/ ,/ vi/ -/ 1/ }/ ./ 称/ 犞/ =/ (/ v1/ ,/ v2/ ,/ …/ ,/ vk/ )/ 为/ 待/ 测系统/ 的/ 因素/ 可/ 取值/ 向量/ ./ 定义/ 1/ ./ 设/ k/ 维/ 向量/ 犜/ =/ (/ T1/ ,/ T2/ ,/ …/ ,/ Tk/ )/ ,/ 其中/ Ti/ ∈/ [/ 0/ ,/ vi/ -/ 1/ ]/ ,/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ k/ ,/ 则/ 称/ 这个/ k/ 维/ 向量/ 犜/ 为/ 第/ i/ 个/ 因素/ 取值/ 为/ Ti/ 的/ 测试用例/ ./ 定义/ 2/ ./ 任取/ t/ 个/ 因素/ ,/ 设/ 集合/ I/ =/ {/ (/ i1/ ,/ ai1/ (/ i2/ ,/ ai2j/ -/ 1/ ]/ (/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ t/ )/ ,/ 则/ 称/ 这个/ 集合/ I/ 为/ 一个/ t/ [/ 0/ ,/ vi/ 维/ 交互/ ./ 称/ 集合/ fI/ =/ {/ i1/ ,/ i2/ ,/ …/ ,/ it/ }/ 为/ 交互/ I/ 对应/ 的/ 因素/ 集/ ,/ 一维/ 交互/ {/ (/ i1/ ,/ ai1/ (/ i1/ ,/ ai1/ 定义/ 3/ ./ 设/ 一条/ 测试用例/ T/ 的/ 第/ ij/ 个/ 因素/ 取值/ 是/ ai/ 用例/ T/ 覆盖/ 了/ t/ 维/ 交互/ I/ =/ {/ (/ i1/ ,/ ai1/ (/ it/ ,/ ait/ )/ }/ ./ 这样/ ,/ 一条/ 测试用例/ 覆盖/ 了/ (/ )/ k/ 为了/ 生成/ 组合/ 测试用例/ 集/ ,/ 我们/ 定义/ 覆盖/ 表/ 如下/ ./ 定义/ 4/ ./ 如果/ A/ 是/ 一个/ n/ ×/ k/ 表/ ,/ 表中/ 第/ i/ 列/ 元素/ 都/ 取自/ [/ 0/ ,/ vi/ -/ 1/ ]/ ,/ 且/ 满足/ :/ 每个/ 可能/ 的/ t/ 维/ 交互/ 都/ 被/ 表中/ 某/ 一行/ 所/ 对应/ 的/ 测试用例/ 所/ 覆盖/ ,/ 即/ 对/ Page3/ 任意/ 的/ {/ (/ i1/ ,/ ai1/ 行/ r/ ,/ 使得/ A/ [/ r/ ,/ ij/ ]/ =/ ait/ 维/ 混合/ 覆盖/ 表/ ,/ 记为/ MCA/ (/ n/ ;/ t/ ,/ (/ v1/ ,/ v2/ ,/ …/ ,/ vk/ )/ )/ ,/ t/ 称为/ 覆盖/ 表/ 的/ 强度/ ./ 给定/ t/ 和/ v1/ ,/ v2/ ,/ …/ ,/ vk/ ,/ 称/ 使得/ MCA/ (/ n/ ;/ t/ ,/ (/ v1/ ,/ v2/ ,/ …/ ,/ vk/ )/ )/ 存在/ 的/ 最小/ 的/ 数/ n/ 为/ 混合/ 覆盖/ 表数/ ,/ 记为/ MCAN/ (/ t/ ,/ (/ v1/ ,/ v2/ ,/ …/ ,/ vk/ )/ )/ ,/ 当/ 定义/ 中/ 的/ v1/ =/ v2/ =/ …/ =/ vk/ =/ v/ 时/ ,/ 我们/ 简记/ 为/ CA/ (/ n/ ;/ t/ ,/ k/ ,/ v/ )/ 和/ CAN/ (/ t/ ,/ k/ ,/ v/ )/ ./ 在/ 不/ 引起/ 混淆/ 的/ 情况/ 下/ 覆盖/ 表/ 或/ 混合/ 覆盖/ 表/ 统称/ 为/ 覆盖/ 表/ ./ 一般/ 人们/ 用/ 覆盖/ 表/ 或/ 混合/ 覆盖/ 表来/ 产生/ 测试用例/ 集/ ,/ 表中/ 每列/ 对应/ 一个/ 因素/ ,/ k/ 表示/ 待/ 测系统/ 的/ 因素/ 数目/ ,/ vi/ 表示/ 每个/ 因素/ 可能/ 取/ 的/ 取值/ 个数/ ,/ 每/ 一行/ 表示/ 一个/ 测试用例/ ,/ t/ 维/ 覆盖/ 表/ 产生/ 的/ 测试用例/ 集能/ 覆盖/ 到/ 任意/ t/ 个/ 因素/ 所有/ 可能/ 的/ 取值/ 组合/ ,/ 二维/ 覆盖/ 表/ 产生/ 的/ 测试用例/ 集/ 称为/ 两/ 两/ 组合/ 测试用例/ 集/ ,/ 人们/ 希望/ 在/ 不/ 降低/ 测试/ 标准/ 的/ 情况/ 下来/ 产生/ 尽可能少/ 的/ 测试用例/ ./ 然而/ ,/ 有些/ 测试/ 场景/ 中/ ,/ 有些/ 因素/ 的/ 某些/ 取值/ 组合/ 存在/ 约束/ ,/ 例如/ 1/ 个/ 移动电话/ 系统/ 有/ 5/ 个/ 因素/ ,/ 显示/ 因素/ 有/ 3/ 个/ 取值/ ,/ 0/ 表示/ 16M/ 彩显/ ,/ 1/ 表示/ 8M/ 彩显/ ,/ 2/ 表示/ 黑白/ ./ 短信息/ 因素/ 中/ 0/ 表示/ 支持/ 彩信/ ,/ 1/ 表示/ 只/ 支持/ 文本/ 短信/ ,/ 2/ 表示/ 不/ 支持/ 短信息/ [/ 16/ ]/ ./ 其他/ 因素/ 的/ 相应/ 取值/ 由表/ 1/ 所示/ ./ 显示/ 0/ =/ 16M/ 彩显/ 1/ =/ 8M/ 彩显/ 2/ =/ 黑白/ 为了/ 检测/ 有/ 哪些/ 交互/ 可能/ 对系统/ 的/ 运行/ 产生/ 影响/ ,/ 在/ 不/ 考虑/ 约束/ 时/ 我们/ 可/ 构造/ 二维/ 覆盖/ 表来/ 测试/ 系统/ ,/ 如表/ 2/ 所示/ ./ 表/ 2/ 移动电话/ 系统/ 的/ 无约束/ 两/ 两/ 组合/ 测试用例/ 集/ 测试用例/ 123456789/ 然而/ ,/ 表/ 1/ 移动电话/ 系统/ 中/ 并/ 不是/ 所有/ 因素/ 的/ 所有/ 可能/ 的/ 取值/ 组合/ 都/ 是/ 有效/ 的/ ,/ 有些/ 因素/ 的/ 某些/ 取值/ 组合/ 是/ 无效/ 的/ ,/ 例如/ 有如/ 表/ 3/ 所示/ 的/ 一些/ 约束/ 以及/ 由/ 这些/ 约束/ 导致/ 的/ 无效/ 交互/ ./ (/ 1/ )/ 彩信/ 支持/ 需要/ 彩显/ 支持/ (/ 2/ )/ 2/ 兆/ 像素/ 照相机/ 需要/ 彩显/ 支持/ (/ 3/ )/ 彩信/ 不/ 支持/ 2/ 兆/ 像素/ 的/ 照相机/ (/ 4/ )/ 8M/ 彩显/ 不/ 支持/ 2/ 兆/ 像素/ 的/ 照相机/ (/ 5/ )/ 视频录像/ 需要/ 照相机/ 和/ 彩显/ (/ 6/ )/ 不/ 支持/ 视频录像/ 则/ 不/ 支持/ 视频/ 铃声/ (/ 7/ )/ 不/ 支持/ 组合/ 16M/ 彩显/ ,/ 文本/ 短信/ 和/ 2/ 兆/ 像素/ 所以/ 一条/ 测试用例/ 中/ 不能/ 包含/ 由/ 这些/ 约束/ 导致/ 的/ 这些/ 无效/ 的/ 交互/ ,/ 我们/ 称/ 这些/ 由/ 约束/ 导致/ 的/ 无效/ 的/ 交互/ 为/ 禁忌/ 交互/ 或/ 禁忌/ 边/ ./ 定义/ 5/ ./ 设/ I/ 是/ 一个/ t/ 维/ 交互/ ,/ 如果/ 任何/ 一条/ 覆盖/ I/ 的/ 测试用例/ 都/ 会/ 导致/ 系统故障/ 或/ 失效/ ,/ 则/ 称/ 交互/ I/ 是/ 一个/ 禁忌/ 交互/ 或/ 禁忌/ 边/ ./ 我们/ 在/ 生成/ 覆盖/ 表时/ ,/ 必须/ 考虑/ 约束/ ,/ 有时/ 在/ 系统/ 中有/ 很少/ 的/ 约束/ 可能/ 导致/ 生成/ 的/ 覆盖/ 表中/ 有/ 很多/ 行/ 覆盖/ 了/ 禁忌/ 交互/ ./ Cohen/ 等/ 人/ [/ 16/ ]/ 研究/ 了/ 5/ 个/ 实际/ 的/ 测试/ 场景/ 与/ 30/ 个/ 人工/ 构造/ 的/ 场景/ ,/ 如果/ 不/ 考虑/ 约束/ 用/ AETG/ 算法/ 来/ 生成/ 覆盖/ 表/ ,/ 平均/ 有/ 96/ %/ 的/ 行/ 违反/ 了/ 约束/ ,/ 即/ 至少/ 覆盖/ 了/ 一个/ 禁忌/ 交互/ ./ 甚至/ 有时/ 约束/ 会/ 导致/ 没有/ 任何/ 能够/ 满足/ 这些/ 约束/ 的/ 测试用例/ ./ 假设/ 在/ 某个/ 测试/ 场景/ 下/ ,/ 由外/ 在/ 约束/ 导致/ 某些/ 交互/ 是/ 无效/ 交互/ ,/ 我们/ 称/ 这些/ 无效/ 交互/ 为/ 显性/ 禁忌/ 交互/ ,/ 所有/ 的/ 显性/ 禁忌/ 交互/ 构成/ 的/ 集合/ 记/ 为/ Π/ ,/ 而/ 由/ 这些/ 显性/ 交互/ 可以/ 推导/ 出来/ 有些/ 交互/ 也/ 是/ 禁忌/ 交互/ ,/ 若/ 测试用例/ 包含/ 这些/ 交互/ 的/ 某/ 一个/ ,/ 则/ 必定/ 至少/ 包含/ 一个/ 显性/ 禁忌/ 交互/ ,/ 称/ 这些/ 交互/ 为/ 显性/ 交互/ 集/ Π/ 推导/ 出/ 的/ 隐含/ 禁忌/ 交互/ ,/ 简称/ 隐含/ 禁忌/ 交互/ ./ 假设/ 某个/ s/ 维/ 交互/ 是/ 禁忌/ 交互/ ,/ 则/ 任何/ 包含/ 这个/ s/ 维/ 交互/ 的/ 交互/ 都/ 是/ 禁忌/ 交互/ ,/ 为此/ ,/ 我们/ 称/ 一个/ 禁忌/ 交互/ 是/ 极小/ 禁忌/ 交互/ ,/ 若/ 其/ 所有/ 的/ 真/ 子集/ 都/ 不再/ 是/ 禁忌/ 交互/ ./ 定义/ 6/ ./ 设/ 显性/ 禁忌/ 交互/ 集/ 为/ Π/ ,/ 称/ 在/ Π/ 的/ 所有/ 显性/ 禁忌/ 交互/ 与/ 隐含/ 禁忌/ 交互/ 构成/ 的/ 集合/ 中/ 去掉/ 非/ 极小/ 禁忌/ 交互/ 得到/ 的/ 交互/ 集合/ 为/ Π/ 的/ 一致/ 闭/ 禁忌/ 交互/ 集/ ,/ 记/ 为/ Π/ ./ 定义/ 7/ ./ 若/ 一个/ 显性/ 禁忌/ 交互/ 集/ Π/ 本身/ 是/ 一致/ 闭/ 禁忌/ 交互/ 集/ ,/ 即/ Π/ =/ Π/ ,/ 则/ 称/ 禁忌/ 交互/ 集/ Π/ 是/ 一致/ 闭/ 的/ ./ 例如/ ,/ 对/ 上述/ 的/ 移动电话/ 系统/ ,/ 由/ 约束/ 导致/ 的/ 显性/ 禁忌/ 交互/ 集为/ Page4/ Π/ =/ {/ {/ (/ 1/ ,/ 2/ )/ ,/ (/ 2/ ,/ 0/ )/ }/ ,/ {/ (/ 1/ ,/ 2/ )/ ,/ (/ 3/ ,/ 0/ )/ }/ ,/ {/ (/ 2/ ,/ 0/ )/ ,/ (/ 3/ ,/ 0/ )/ }/ ,/ {/ (/ 1/ ,/ 1/ )/ ,/ (/ 3/ ,/ 0/ )/ }/ ,/ {/ (/ 3/ ,/ 2/ )/ ,/ (/ 4/ ,/ 0/ )/ }/ ,/ {/ (/ 1/ ,/ 2/ )/ ,/ (/ 4/ ,/ 0/ )/ }/ ,/ {/ (/ 4/ ,/ 1/ )/ ,/ (/ 5/ ,/ 0/ )/ }/ ,/ {/ (/ 1/ ,/ 0/ )/ ,/ (/ 2/ ,/ 1/ )/ ,/ (/ 3/ ,/ 0/ )/ }/ }/ ./ 由/ 这些/ 交互/ 可/ 得到/ 交互/ {/ {/ (/ 2/ ,/ 1/ )/ ,/ (/ 3/ ,/ 0/ )/ }/ ,/ {/ (/ 2/ ,/ 1/ )/ ,/ (/ 3/ ,/ 0/ )/ ,/ (/ 4/ ,/ 0/ )/ }/ ,/ {/ (/ 1/ ,/ 2/ )/ ,/ (/ 5/ ,/ 0/ )/ }/ ,/ {/ (/ 3/ ,/ 2/ )/ ,/ (/ 5/ ,/ 0/ )/ }/ }/ 是/ 隐含/ 禁忌/ 交互/ ,/ 例如/ 交互/ {/ (/ 2/ ,/ 1/ )/ ,/ (/ 3/ ,/ 0/ )/ }/ ,/ 它/ 不能/ 扩充/ 成/ 一个/ 满足/ 这些/ 约束/ 的/ 测试用例/ ,/ 因为/ 对/ 第/ 1/ 个/ 因素/ 没有/ 办法/ 赋值/ ,/ 若/ 第/ 1/ 个/ 因素/ 赋值/ 为/ 0/ ,/ 则/ 覆盖/ 了/ 禁忌/ 交互/ {/ (/ 1/ ,/ 0/ )/ ,/ (/ 2/ ,/ 1/ )/ ,/ (/ 3/ ,/ 0/ )/ }/ ,/ 若/ 赋值/ 为/ 1/ ,/ 则/ 覆盖/ 了/ 禁忌/ 交互/ {/ (/ 1/ ,/ 1/ )/ ,/ (/ 3/ ,/ 0/ )/ }/ ,/ 若/ 赋值/ 为/ 2/ ,/ 则/ 覆盖/ 了/ 禁忌/ 交互/ {/ (/ 1/ ,/ 2/ )/ ,/ (/ 3/ ,/ 0/ )/ }/ ./ 然而/ 隐含/ 禁忌/ 交互/ {/ (/ 2/ ,/ 1/ )/ ,/ (/ 3/ ,/ 0/ )/ }/ 导致/ 了/ 交互/ {/ (/ 1/ ,/ 0/ )/ ,/ (/ 2/ ,/ 1/ )/ ,/ (/ 3/ ,/ 0/ )/ }/ ,/ {/ (/ 2/ ,/ 1/ )/ ,/ (/ 3/ ,/ 0/ )/ ,/ (/ 4/ ,/ 0/ )/ }/ 不再/ 是/ 极小/ 禁忌/ 交互/ ,/ 所以/ 在/ 前述/ 的/ 显性/ 及/ 隐含/ 禁忌/ 交互/ 中/ 把/ {/ (/ 1/ ,/ 0/ )/ ,/ (/ 2/ ,/ 1/ )/ ,/ (/ 3/ ,/ 0/ )/ }/ ,/ {/ (/ 2/ ,/ 1/ )/ ,/ (/ 3/ ,/ 0/ )/ ,/ (/ 4/ ,/ 0/ )/ }/ 删除/ 得到/ 如下/ 一致/ 闭/ 禁忌/ 交互/ 集/ ,/ 其中/ 共/ 10/ 个/ 禁忌/ 交互/ :/ Π/ =/ {/ {/ (/ 1/ ,/ 2/ )/ ,/ (/ 2/ ,/ 0/ )/ }/ ,/ {/ (/ 1/ ,/ 2/ )/ ,/ (/ 3/ ,/ 0/ )/ }/ ,/ {/ (/ 2/ ,/ 0/ )/ ,/ (/ 3/ ,/ 0/ )/ }/ ,/ {/ (/ 1/ ,/ 1/ )/ ,/ (/ 3/ ,/ 0/ )/ }/ ,/ {/ (/ 3/ ,/ 2/ )/ ,/ (/ 4/ ,/ 0/ )/ }/ ,/ {/ (/ 1/ ,/ 2/ )/ ,/ (/ 4/ ,/ 0/ )/ }/ ,/ {/ (/ 4/ ,/ 1/ )/ ,/ (/ 5/ ,/ 0/ )/ }/ ,/ {/ (/ 2/ ,/ 1/ )/ ,/ (/ 3/ ,/ 0/ )/ }/ ,/ {/ (/ 1/ ,/ 2/ )/ ,/ (/ 5/ ,/ 0/ )/ }/ ,/ {/ (/ 3/ ,/ 2/ )/ ,/ (/ 5/ ,/ 0/ )/ }/ }/ ./ 一个/ 待/ 测系统/ 中/ ,/ 如何/ 由/ 显性/ 的/ 禁忌/ 交互/ 集/ 生成/ 其/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ ,/ 其/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 规模/ 有/ 多/ 大/ ?/ Cohen/ 等/ 人/ 研究/ 了/ 35/ 个/ 测试/ 场景/ ,/ 共有/ 840/ 个/ 显性/ 二维/ 禁忌/ 交互/ ,/ 导致/ 了/ 24247/ 个/ 隐含/ 的/ 二维/ 禁忌/ 交互/ [/ 16/ ]/ ./ 他们/ 讨论/ 的/ 主要/ 是/ 隐含/ 的/ 二维/ 禁忌/ 交互/ ./ 而/ 不是/ 讨论/ 极小/ 禁忌/ 交互/ ,/ 我们/ 研究/ 表明/ ,/ 这/ 35/ 个/ 测试/ 场景/ 中/ ,/ 共有/ 981/ 个/ 显性/ 交互/ ,/ 导致/ 了/ 1897/ 个/ 极小/ 的/ 禁忌/ 交互/ ,/ 大致/ 是/ 显性/ 交互/ 的/ 2/ 倍/ ,/ 其中/ 有/ 111/ 个/ 一维/ 隐含/ 禁忌/ 交互/ ,/ 这/ 导致/ 了/ 二维/ 禁忌/ 交互/ 的/ 爆炸性/ 增长/ ./ 为了/ 研究/ 带/ 约束/ 的/ 组合/ 测试/ 问题/ ,/ 我们/ 定义/ 带/ 禁忌/ 交互/ 集/ 的/ 覆盖/ 表/ 的/ 概念/ ./ 定义/ 8/ ./ 设待/ 测系统/ (/ SUT/ )/ 中/ ,/ 禁忌/ 交互/ 集/ 为/ Π/ ,/ 一个/ n/ ×/ k/ 表/ A/ ,/ 其/ 第/ i/ 列/ 元素/ 取自/ [/ 0/ ,/ vi/ -/ 1/ ]/ ,/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ k/ ,/ 且/ 满足/ :/ (/ 1/ )/ A/ 的/ 每/ 一行/ 所/ 对应/ 的/ 测试用例/ 没有/ 覆盖/ 任何/ Π/ 中/ 的/ 交互/ ;/ (/ 2/ )/ 对/ 任意/ t/ 维/ 交互/ ,/ 若/ 这个/ t/ 维/ 交互/ 不/ 包含/ Π/ 的/ 任何/ 显性/ 或/ 隐含/ 禁忌/ 交互/ ,/ 则/ 都/ 能/ 被/ A/ 的/ 某/ 一行/ 所/ 覆盖/ ./ 则/ 称/ A/ 是/ 强度/ 为/ t/ 的/ 禁忌/ 覆盖/ 表/ ,/ 记为/ FCA/ (/ n/ ;/ t/ ,/ (/ v1/ ,/ v2/ ,/ …/ ,/ vk/ )/ ,/ Π/ )/ ./ 当/ 定义/ 中/ 的/ v1/ =/ v2/ =/ …/ =/ vk/ =/ v/ 时/ ,/ 我们/ 简记/ 为/ FCA/ (/ n/ ;/ t/ ,/ k/ ,/ v/ ,/ Π/ )/ ./ 注/ :/ 定义/ 中若/ 禁忌/ 交互/ 集/ Π/ 的/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ Π/ 已知/ ,/ 则/ 条件/ (/ 2/ )/ 可/ 陈述/ 为/ :/ (/ 2/ )/ 每个/ 不/ 包含/ Π/ 中/ 交互/ 的/ 任何/ t/ 维/ 交互/ ,/ 都/ 能/ 被/ A/ 的/ 某/ 一行/ 覆盖/ ./ 这样/ ,/ 由/ 已知/ 的/ 约束/ ,/ 生成/ 相应/ 的/ 禁忌/ 交互/ 集/ ,/ 根据/ 这些/ 禁忌/ 交互/ 集来/ 生成/ 相应/ 的/ 覆盖/ 表/ ,/ 从而/ 指导/ 测试/ ./ 对/ 上述/ 的/ 移动电话/ 系统/ ,/ 生成/ 满足/ 约束/ 的/ 覆盖/ 表如表/ 4/ ./ 表/ 4/ 移动电话/ 系统/ 的/ 带/ 约束/ 两/ 两/ 组合/ 测试用例/ 集/ 测试用例/ 显示/ 短信息/ 照相机/ 视频录像/ 视频/ 铃声/ 1234567893/ 生成/ 一致/ 闭/ 禁忌/ 交互/ 集/ 的/ 算法/ 及/ 生成/ 禁忌/ 覆盖/ 表/ 的/ 类/ AETG/ 算法/ 假设/ 待/ 测系统/ 中/ ,/ 由/ 约束/ 导致/ 的/ 显性/ 禁忌/ 交互/ 集/ 为/ Π/ ,/ 如何/ 判断/ Π/ 是否是/ 一致/ 闭/ 的/ ,/ 对于/ 非/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ ,/ 如何/ 生成/ 一致/ 闭/ 禁忌/ 交互/ 集/ Π/ ,/ 其/ 规模/ 有/ 多/ 大/ ?/ ii/ 定义/ 9/ ./ 假设/ 禁忌/ 交互/ 集/ Π/ 中有/ 一组/ 禁忌/ 交互/ 分别/ 包含/ 了/ 某个/ 因素/ 的/ 每个/ 取值/ ,/ 例如/ :/ 有/ vi/ 个/ 禁忌/ 交互/ 分别/ 包含/ 了/ 第/ i/ 个/ 因素/ 的/ 每个/ 取值/ :/ I1/ =/ {/ (/ i/ ,/ 0/ )/ ,/ (/ i11/ ,/ a11/ )/ ,/ …/ ,/ (/ i1t1/ (/ i2t2/ (/ ivitv/ (/ i1t1/ (/ ivitv/ ,/ a2t2/ ,/ avitv/ ,/ a1t1/ ,/ avitv/ 在/ 集合/ I/ 中/ 删除/ 相同/ 的/ 元素/ 得到/ 新/ 集合/ ,/ 仍记/ 为/ I/ ,/ 如果/ I/ 中/ 不/ 存在/ 两点/ 在/ 相同/ 的/ 因素/ 下/ 取值/ 不同/ ,/ 即/ 不/ 包含/ 两点/ (/ j/ ,/ a1/ )/ ,/ (/ j/ ,/ a2/ )/ (/ a1/ ≠/ a2/ )/ ,/ 则/ I/ 是/ 一个/ 交互/ ,/ 这时/ 称/ I1/ ,/ I2/ ,/ …/ ,/ Ivi/ 交互/ I/ 是/ 由/ 一组/ 交互/ I1/ ,/ I2/ ,/ …/ ,/ Ivi/ 记为/ Resolu/ (/ I1/ ,/ I2/ ,/ …/ ,/ IviI2/ ,/ …/ ,/ Ivi/ 不可/ 满足/ 的/ 禁忌/ 交互/ 集/ ./ 若/ I/ 包含/ 两点/ (/ j/ ,/ a1/ )/ ,/ (/ j/ ,/ a2/ )/ (/ a1/ ≠/ a2/ )/ ,/ 则/ 称/ 交互/ 组/ I1/ ,/ I2/ ,/ …/ ,/ Ivi/ 注/ :/ 上述/ 的/ 归结/ 推理/ 本质/ 上/ 就是/ 命题逻辑/ 中/ 的/ Page5/ 归结/ 推理/ 的/ 推广/ ./ 根据/ 归结/ 运算/ ,/ 显然/ 有/ :/ 定理/ 1/ ./ 设/ 禁忌/ 交互/ 集/ 为/ Π/ ,/ 则/ 由/ Π/ 中/ 可/ 归结/ 禁忌/ 交互/ 组/ 归结/ 出来/ 的/ 交互/ 一定/ 是/ 禁忌/ 交互/ ./ 要/ 对/ 禁忌/ 交互/ 集/ Π/ 做/ 归结/ 运算/ ,/ 必须/ 找到/ 某个/ 因素/ i/ ,/ 使得/ 因素/ i/ 的/ 每个/ 取值/ 都/ 必须/ 在/ 某个/ 交互/ 中/ 出现/ ,/ 即/ 对/ 任意/ 的/ (/ i/ ,/ a/ )/ ,/ (/ a/ ∈/ [/ 0/ ,/ vi/ -/ 1/ ]/ )/ ,/ 都/ 存在/ 交互/ I/ ∈/ Π/ ,/ 使得/ (/ i/ ,/ a/ )/ ∈/ I/ ,/ 称/ 这种/ 因素/ 为/ 可/ 归结/ 因素/ ,/ 所有/ 的/ 可/ 归结/ 因素/ 构成/ 的/ 集合/ 称为/ Π/ 的/ 可/ 归结/ 因素/ 集/ ,/ 记为/ FactorsOfResolu/ (/ Π/ )/ ./ 我们/ 要/ 生成/ 一致/ 闭/ 的/ 交互/ 集/ ,/ 必须/ 首先/ 找到/ 可/ 归结/ 因素/ 集/ ,/ 这个/ 集合/ 当然/ 越小越/ 好/ ./ 显然/ 有/ :/ 定理/ 2/ ./ 如果/ 禁忌/ 交互/ 集/ Π/ 中/ 不/ 包含/ 非/ 极小/ 禁忌/ 交互/ ,/ 并且/ 其/ 可/ 归结/ 因素/ 集/ FactorsOfResolu/ (/ Π/ )/ =/ / ,/ 即/ 每个/ 因素/ 中/ 至少/ 有/ 一个/ 取值/ 没有/ 被/ 包含/ 在/ 某个/ 禁忌/ 交互/ 中/ ,/ 则/ 禁忌/ 交互/ 集/ Π/ 是/ 一致/ 闭/ 的/ ./ 有/ 了/ 归结/ 运算/ ,/ 对于/ 显性/ 禁忌/ 交互/ 集/ Π/ ,/ 能否/ 通过/ 反复/ 应用/ 归结/ 操作/ ,/ 得到/ 所有/ 的/ 隐含/ 禁忌/ 交互/ ./ 首先/ 我们/ 证明/ 对/ 在/ 归结/ 操作/ 下/ 不变/ 的/ 极小/ 禁忌/ 交互/ 集/ ,/ 一定/ 是/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ ./ 定理/ 3/ ./ 假设/ 禁忌/ 交互/ 集/ Π/ 中不含/ 非/ 极小/ 禁忌/ 交互/ ,/ 并且/ 所有/ 的/ 可/ 归结/ 禁忌/ 交互/ 组所/ 归结/ 出来/ 的/ 交互/ 都/ 至少/ 包含/ Π/ 中/ 的/ 一个/ 交互/ ,/ 即/ 关于/ 归结/ 运算/ 封闭/ ,/ 则/ 禁忌/ 交互/ 集/ Π/ 是/ 一致/ 闭/ 的/ ./ 证明/ ./ 如果/ Π/ =/ {/ / }/ ,/ 则/ 所有/ 的/ 交互/ 都/ 是/ 禁忌/ 交互/ ,/ 显然/ Π/ 是/ 一致/ 闭/ 的/ ./ 否则/ 只/ 需/ 证明/ 对/ 任意/ 的/ 交互/ I/ ,/ I/ 不/ 包含/ Π/ 中/ 的/ 任何/ 交互/ ,/ 则/ I/ 不是/ 禁忌/ 交互/ ./ 设/ I/ =/ {/ (/ i1/ ,/ a1/ )/ ,/ (/ i2/ ,/ a2/ )/ ,/ …/ ,/ (/ it/ ,/ at/ )/ }/ ,/ 要/ 证明/ 存在/ 一条/ 测试用例/ T/ 覆盖/ 了/ I/ 但/ 没有/ 覆盖/ Π/ 中/ 任何/ 交互/ ./ 如下/ 构造/ 测试用例/ T/ :/ 第/ 1/ 步/ :/ T/ (/ i1/ )/ =/ a1/ ,/ T/ (/ i2/ )/ =/ a2/ ,/ …/ ,/ T/ (/ it/ )/ =/ at/ ;/ 第/ 2/ 步/ :/ 对/ 余下/ 的/ 因素/ 随机/ 排列/ it/ +/ 1/ ,/ it/ +/ 2/ ,/ …/ ,/ in/ ,/ 假设/ 前面/ j/ 个/ 因素/ 的/ 取值/ 都/ 已/ 确定/ ,/ 即/ T/ (/ i1/ )/ =/ a1/ ,/ T/ (/ i2/ )/ =/ a2/ ,/ …/ ,/ T/ (/ it/ )/ =/ at/ ,/ T/ (/ it/ +/ 1/ )/ =/ at/ +/ 1/ ,/ …/ ,/ T/ (/ ij/ )/ =/ aj/ 确定/ 第/ j/ +/ 1/ 个/ 因素/ 的/ 取值/ T/ (/ ij/ +/ 1/ )/ =/ aj/ +/ 1/ 时/ ,/ 要求/ 测试用例/ 中/ 已/ 赋值/ 部分/ 没有/ 覆盖/ Π/ 中/ 任何/ 交互/ ,/ 即使/ 得/ 交互/ {/ (/ i1/ ,/ a1/ )/ ,/ (/ i2/ ,/ a2/ )/ ,/ …/ ,/ (/ ij/ ,/ aj/ )/ ,/ (/ ij/ +/ 1/ ,/ aj/ +/ 1/ )/ }/ 不/ 包含/ Π/ 中/ 任何/ 交互/ ./ 这样/ 构造/ 出来/ 的/ 测试用例/ 一定/ 不/ 包含/ Π/ 中/ 任何/ 交互/ ./ 且/ 第/ 2/ 步内/ 的/ 循环/ 能够/ 执行/ 到/ 最后/ 构造/ 出/ 完整/ 的/ 测试用例/ ./ 假设/ 已经/ 确定/ 了/ 前面/ 的/ j/ 个/ 因素/ 的/ 赋值/ ,/ 满足/ :/ 测试用例/ 的/ 已/ 赋值/ 部分/ 未/ 覆盖/ Π/ 中/ 任何/ 交互/ ./ 在/ 确定/ 第/ j/ +/ 1/ 个/ 因素/ 的/ 取值/ 时/ ,/ 满足条件/ 的/ 取值/ 一定/ 存在/ ,/ 若不然/ ,/ 假设/ 满足条件/ 的/ 取值/ 不/ 存在/ ,/ 即/ 对/ 任意/ 的/ a/ ∈/ [/ 0/ ,/ vj/ +/ 1/ -/ 1/ ]/ ,/ 都/ 存在/ Π/ 中/ 交互/ Ia/ =/ {/ (/ ij/ +/ 1/ ,/ a/ )/ ,/ (/ is1/ 部分/ 所/ 覆盖/ ./ 则/ 这组/ 交互/ Ia/ (/ a/ =/ 0/ ,/ 1/ ,/ …/ ,/ vj/ +/ 1/ -/ 1/ )/ 是/ 可/ 归结/ 的/ ,/ 设/ 归结/ 出/ 的/ 交互/ 为/ I/ ,/ 因为/ Π/ 关于/ 归结/ 运算/ 是/ 封闭/ 的/ ,/ 所以/ 在/ Π/ 中/ 至少/ 存在/ 一个/ 交互/ I/ ∈/ Π/ ,/ 使得/ I/ / I/ ./ 然而/ I/ 被/ 测试用例/ 的/ 前面/ j/ 个/ 因素/ 的/ 赋值/ 所/ 覆盖/ ,/ 与/ 前面/ 假设/ 测试用例/ 前/ j/ 个/ 因素/ 的/ 赋值/ 部分/ 未/ 覆盖/ Π/ 中/ 任何/ 交互/ 矛盾/ ./ 由/ 定理/ 3/ 证明/ 可知/ ,/ 任何/ 一个/ 交互/ ,/ 若/ 这个/ 交互/ 没有/ 包含/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集中/ 任何/ 交互/ ,/ 则/ 可用/ 证明/ 中/ 的/ 方法/ 把/ 这个/ 交互/ 扩充/ 成/ 一个/ 不/ 包含/ 任何/ 禁忌/ 交互/ 的/ 测试用例/ ./ 有/ 了/ 定理/ 1/ 和/ 定理/ 3/ ,/ 得到/ 算法/ 1/ ./ 算法/ 1/ ./ 生成/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 算法/ ./ 输入/ :/ k/ 个/ 参数/ 的/ 可/ 取值/ 向量/ (/ v1/ ,/ v2/ ,/ …/ ,/ vk/ )/ ,/ 显性/ 禁忌/ 输出/ :/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ Π/ 0/ ./ 初始化/ ,/ 在/ Π/ 中/ 删除/ 所有/ 非/ 极小/ 交互/ ,/ 对/ 新/ 得到/ 的/ 交互/ 集/ 仍/ 记为/ Π/ ./ 1/ ./ 对/ 禁忌/ 交互/ 集/ Π/ 计算/ 可/ 归结/ 因素/ 集/ FactorsOf/ -/ Resolu/ (/ Π/ )/ ,/ 并令/ Π/ 1/ =/ Π/ ./ 2/ ./ 对/ 集合/ FactorsOfResolu/ (/ Π/ )/ 中/ 每个/ 因素/ i/ 所/ 对应/ 的/ 每/ 一组/ 可/ 归结/ 的/ 禁忌/ 交互/ 组/ I1/ ,/ I2/ ,/ …/ ,/ Iv/ 计算/ 归结/ I/ =/ Resolu/ (/ I1/ ,/ I2/ ,/ …/ ,/ Iv/ “/ 禁忌/ 交互/ 集/ Π/ 是/ 不可/ 满足/ 的/ ”/ ,/ 输出/ Π/ =/ {/ / }/ ,/ 结束/ ;/ 否则/ 把/ I/ 并入/ 到/ Π/ 1.3/ ./ 在步/ 2/ 中/ 生成/ 的/ Π/ 1/ 中/ 删除/ 掉/ 所有/ 的/ 非/ 极小/ 交互/ ,/ 删除/ 后/ 的/ 交互/ 集/ 仍/ 记为/ Π/ 1.4/ ./ 如果/ Π/ 1/ ≠/ Π/ ,/ 则/ 令/ Π/ =/ Π/ 1/ ,/ 转入/ 步/ 1/ ;/ 否则/ 令/ Π/ =/ Π/ 1/ ,/ 输出/ Π/ ,/ 结束/ ./ 定理/ 4/ ./ 算法/ 1/ 运行/ 有限/ 步后/ 结束/ ./ 证明/ ./ 因为/ 每个/ 交互/ 若/ 在/ 步/ 3/ 被/ 删除/ 掉/ ,/ 则/ 在/ 以后/ 的/ 循环/ 中/ 不/ 可能/ 再/ 出现/ 在步/ 4/ 的/ Π/ 1/ 中/ ,/ 所以/ 每轮/ 循环/ 中步/ 4/ 中/ 的/ Π/ 1/ 互不/ 相同/ ,/ 而/ 系统/ 中/ 交互/ 集合/ 的/ 数目/ 是/ 有限/ 的/ ,/ 所以/ 算法/ 在/ 有限/ 步/ 结束/ ./ 证毕/ ./ 定理/ 5/ ./ 算法/ 1/ 输出/ 的/ 是/ 包含/ 显性/ 禁忌/ 交互/ 集/ Π/ 的/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ Π/ ./ 证明/ ./ 由/ 定理/ 1/ ,/ 在步/ 2/ 中/ 每次/ 并入/ 到/ Π/ 1/ 中/ 的/ 都/ 是/ 隐含/ 禁忌/ 交互/ ,/ 所以/ 最后/ 输出/ 的/ Π/ 中/ 交互/ 都/ 是/ 禁忌/ 交互/ ,/ 并且/ 由步/ 3/ ,/ Π/ 中不含/ 非/ 极小/ 交互/ ,/ 由步/ 4/ ,/ Π/ 关于/ 归结/ 运算/ 封闭/ ,/ 所以/ 根据/ 定理/ 3/ ,/ Π/ 是/ 一致/ 闭/ 的/ ./ 注/ :/ 算法/ 的/ 时间/ 复杂性/ 是/ 指数/ 级/ 的/ ,/ 它/ 是/ 命题/ 逻/ Page6/ 辑/ 中/ 归结/ 推理/ 的/ 推广/ ,/ 输出/ 的/ Π/ 中/ 禁忌/ 交互/ 数目/ 有/ 可能/ 规模/ 较大/ ,/ 但/ 在/ 一些/ 特殊/ 情况/ 下/ ,/ 我们/ 有/ :/ 定理/ 6/ ./ 如果/ 禁忌/ 交互/ 集/ Π/ 的/ 可/ 归结/ 因素/ 集/ FactorsOfResolu/ (/ Π/ )/ =/ {/ i/ }/ ,/ 即/ 只有/ 一个/ 因素/ i/ 其/ 每个/ 取值/ 都/ 至少/ 被/ 包含/ 在/ 一个/ 禁忌/ 交互/ 中/ ,/ 设其/ 包含/ 取值/ v/ 的/ 禁忌/ 交互/ 的/ 数目/ 为/ nv/ (/ v/ =/ 0/ ,/ 1/ ,/ …/ ,/ vi/ -/ 1/ )/ ,/ 则/ 算法/ 1/ 得到/ 的/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ Π/ =/ {/ / }/ 或者/ 比/ Π/ 中/ 的/ 交互/ 数目/ 最/ 多/ 增加/ n0n1/ …/ nvi/ -/ 1/ 个/ 交互/ ./ 定理/ 7/ ./ 如果/ 禁忌/ 交互/ 集/ Π/ 的/ 可/ 归结/ 因素/ 集/ FactorsOfResolu/ (/ Π/ )/ =/ {/ i1/ ,/ i2/ ,/ …/ ,/ ir/ }/ ,/ 即/ 共有/ r/ 个/ 因素/ ,/ 称/ 某个/ 因素/ 的/ 某个/ 取值/ (/ 顶点/ )/ 与/ FactorsOf/ -/ Resolu/ (/ Π/ )/ 关联/ ,/ 如果/ 在/ Π/ 中/ 存在/ 某个/ 交互/ I/ 包含/ 了/ 这个/ 因素/ 的/ 这个/ 取值/ 也/ 包含/ 了/ FactorsOfResolu/ (/ Π/ )/ 中/ 的/ 某个/ 因素/ 的/ 某个/ 取值/ ,/ 记/ 所有/ 的/ 关联/ 顶点/ 集/ Γ/ ,/ 即/ Γ/ =/ {/ (/ i/ ,/ u/ )/ ,/ u/ ∈/ [/ 0/ ,/ vi/ -/ 1/ ]/ |/ i/ ∈/ FactorsOfResolu/ (/ Π/ )/ ,/ 或/ / j/ ∈/ FactorsOfResolu/ (/ Π/ )/ ,/ v/ ∈/ [/ 0/ ,/ vj/ -/ 1/ ]/ }/ ,/ I/ ∈/ Π/ 使得/ (/ i/ ,/ u/ )/ ,/ (/ j/ ,/ v/ )/ ∈/ I/ }/ 设/ Γ/ 中/ 元素/ 数目/ 为/ n/ =/ |/ Γ/ |/ ,/ 则/ 算法/ 1/ 中/ 生成/ 的/ 一致/ 闭/ 禁忌/ 交互/ 集/ Π/ =/ {/ / }/ 或者/ 比/ Π/ 中/ 交互/ 数目/ 最/ 多/ 增加/ 证明/ ./ 因为/ 每次/ 执行/ 归结/ 操作/ 时/ 生成/ 的/ 归结/ 交互/ 都/ 是/ 关联/ 集合/ Γ/ 的/ 子集/ ,/ 所以/ 最后/ 生成/ 的/ Π/ =/ {/ / }/ 或者/ Π/ \/ Π/ 是/ Γ/ 的/ 子集/ ./ 若/ Π/ \/ Π/ 是/ Γ/ 的/ 子集/ ,/ 又/ 因为/ Π/ \/ Π/ 中/ 元素/ 不/ 互相/ 包含/ ,/ 所以/ Π/ 是/ 集合/ Γ/ 中/ 的/ 一条/ 反链/ ,/ 根据/ Sperner/ 定理/ [/ 19/ ]/ ,/ Γ/ 中/ 最长/ 的/ 反链/ 的/ 长度/ 烄/ 烆/ 为/ nn2/ 交互/ ./ 注/ :/ 由/ 定理/ 6/ ,/ 7/ 可知/ ,/ 对/ 显性/ 禁忌/ 交互/ Π/ ,/ 要/ 使得/ 生成/ 的/ Π/ 的/ 规模/ 不太大/ ,/ 必须/ 或者/ FactorsOfResolu/ (/ Π/ )/ 中/ 因素/ 不太多/ 或者/ 对/ 其/ 关联/ 集合/ Γ/ 中/ 元素/ 较/ 少/ ,/ 才能/ 使得/ 算法/ 1/ 效率/ 较/ 高/ ./ 定理/ 8/ ./ 如果/ 禁忌/ 交互/ 集/ Π/ 中/ 每个/ 交互/ 都/ 是/ 二维/ 的/ ,/ 并且/ 每个/ 因素/ 都/ 是/ 二/ 水平/ 的/ ,/ 即/ v1/ =/ v2/ =/ …/ =/ vk/ =/ 2/ ,/ 则/ 算法/ 1/ 生成/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ Π/ =/ {/ / }/ 或者/ 其/ 交互/ 数目/ 最多为/ 2k/ (/ k/ -/ 1/ )/ ./ 证明/ ./ 因为/ 每次/ 执行/ 归结/ 操作/ 时/ 生成/ 的/ 归结/ 交互/ 是/ 二维/ 或/ 一维/ 的/ 或者/ 是/ 空集/ ,/ 所以/ Π/ =/ {/ / }/ 或者/ 最/ 多/ 等于/ 所有/ 二维/ 交互/ 数目/ ,/ 即/ 2k/ (/ k/ -/ 1/ )/ ./ 注/ :/ 定理/ 8/ 其实/ 等价/ 于/ 命题/ 可/ 满足/ 性/ 问题/ (/ SAT/ )/ 中/ 2/ -/ SAT/ 问题/ ./ 以上/ 讨论/ 了/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 的/ 概念/ 以及/ 生成/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 的/ 算法/ ./ 在/ 一般/ 的/ 待/ 测系统/ 中/ ,/ 由/ 显性/ 禁忌/ 交互/ 集/ 通过/ 归结/ 运算/ 生成/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ ,/ 然后/ 就/ 可以/ 设计/ 类似/ 的/ AETG/ 算法/ 来/ 得到/ 禁忌/ 覆盖/ 表/ ,/ 与/ 传统/ 的/ AETG/ 算法/ 不同/ 的/ 是/ :/ (/ 1/ )/ 在/ 初始化/ 阶段/ ,/ 计算/ 未/ 被/ 覆盖/ 的/ 交互/ 集/ Uncover/ 时/ ,/ 在/ 所有/ 的/ t/ 维/ 交互/ 中/ 删除/ 掉/ 包含/ 了/ 一致/ 闭/ 禁忌/ 交互/ 集中/ 某个/ 交互/ 的/ t/ 维/ 交互/ ./ (/ 2/ )/ 在/ 生成/ 一条/ 候选/ 测试用例/ 时/ ,/ 假设/ 前/ j/ -/ 1/ 个/ 参数/ 的/ 取值/ 已/ 确定/ ,/ 在/ 确定/ 第/ j/ 个/ 参数/ 的/ 取值/ 时/ ,/ 要求/ 选取/ 的/ 取值/ 与/ 测试用例/ 的/ 已/ 赋值/ 部分/ 构成/ 的/ 部分/ 测试用例/ 没有/ 覆盖/ 任何/ Π/ 中/ 的/ 交互/ 并且/ 覆盖/ 了/ Uncover/ 中/ 最/ 多/ 的/ t/ 维/ 交互/ ./ 具体/ 算法/ 如下/ ./ 算法/ 2/ (/ 类/ AETG/ 算法/ 生成/ 禁忌/ 覆盖/ 表/ )/ ./ 输入/ :/ t/ ,/ (/ v1/ ,/ v2/ ,/ …/ ,/ vk/ )/ ,/ 一致/ 闭/ 禁忌/ 交互/ 集/ Π/ 输出/ :/ 禁忌/ 覆盖/ 表/ FCA/ (/ n/ ;/ t/ ,/ (/ v1/ ,/ v2/ ,/ …/ ,/ vk/ )/ ,/ Π/ )/ AbeginendwhileendPage7/ 注/ :/ 由/ 定理/ 3/ 中/ 的/ 证明/ ,/ 可以/ 知道/ 算法/ 2/ 正确/ 地/ 返回/ 一个/ 禁忌/ 覆盖/ 表/ ./ 4/ 实验/ 研究/ 实验/ 1/ ./ Cohen/ 等/ 人/ [/ 16/ ]/ 研究/ 的/ 35/ 个/ 测试/ 场景/ ./ 我们/ 对/ Cohen/ 等/ 人/ 研究/ 的/ 35/ 个/ 测试/ 场景/ 进行/ 研究/ ,/ 见表/ 5/ ,/ 对/ 场景/ 中/ 的/ 显性/ 禁忌/ 交互/ 集/ 运用/ 算法/ 1/ 得到/ 一致/ 闭/ 禁忌/ 交互/ 集/ ,/ 其/ 禁忌/ 交互/ 数目/ 对/ 比如/ 表/ 5/ 所示/ ,/ 其中/ CA/ 模型/ 栏中/ 的/ 记号/ 如/ 2189310/ 表示/ 待/ 测系统/ 有/ 199/ 个/ 因素/ ,/ 其中/ 189/ 个/ 因素/ 有/ 2/ 个/ 取值/ ,/ 10/ 个/ 因素/ 有/ 3/ 个/ 取值/ ,/ 禁忌/ 交互/ 记号/ 如/ 23733/ 表示/ 待/ 测系统/ 中有/ 40/ 个/ 禁忌/ 交互/ ,/ 其中/ 有/ 37/ 个/ 是/ 表/ 5/ 显性/ 禁忌/ 交互/ 集/ 与/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 数目/ 对比/ 场景/ SPIN/ -/ SSPIN/ -/ VGCCApache2158384451612331425123314251Bugz/ ./ 12345678910111213sum/ 对/ 这/ 35/ 个/ 测试/ 场景/ ,/ 运用/ 算法/ 1/ 得到/ 了/ 每个/ 待/ 测系统/ 的/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ ,/ 然后/ 用/ 算法/ 2/ 就/ 可以/ 生成/ 相应/ 的/ 二维/ 禁忌/ 覆盖/ 表/ ,/ 得到/ 结果/ 如表/ 6/ 所示/ ,/ 其中/ 我们/ 的/ 算法/ (/ 一致/ 闭/ 算法/ )/ 行/ 的/ 数据/ 是/ 运行/ 五次/ 算法/ 得到/ 禁忌/ 覆盖/ 表行数/ 的/ 平均值/ ./ AETG/ -/ SAT/ 行是/ 运行/ 50/ 次/ AETG/ -/ SAT/ 算法/ 得到/ 的/ 二维/ 禁忌/ 覆盖/ 表/ 的/ 行数/ 的/ 平均值/ [/ 16/ ]/ ./ 表/ 635/ 个/ 测试/ 场景/ 中/ 2/ 维/ 覆盖/ 表/ 的/ 规模/ 比较/ 场景/ 一致/ 闭/ 算法/ AETG/ -/ SAT/ 场景/ 一致/ 闭/ 算法/ AETG/ -/ SAT/ 场景/ 一致/ 闭/ 算法/ AETG/ -/ SAT/ 二维/ 交互/ ,/ 3/ 个/ 是/ 三维/ 交互/ ,/ Π/ // Π/ 这/ 一栏/ 表示/ 一致/ 闭/ 禁忌/ 交互/ 数目/ 与/ 显性/ 禁忌/ 交互/ 数目/ 的/ 比值/ ./ 从表/ 5/ 中/ 可以/ 看出/ ,/ 35/ 个/ 场景/ 中/ ,/ Π/ // Π/ 比/ 最大/ 的/ 是/ 5.0930/ ,/ 有/ 8/ 个/ 测试/ 场景/ 的/ 数目/ 比/ 小于/ 1/ ,/ 最小/ 的/ 是/ 0.3333/ ,/ 有/ 3/ 个/ 测试/ 场景/ 的/ 一致/ 闭/ 禁忌/ 交互/ 集/ 与/ 显性/ 禁忌/ 交互/ 集/ 相等/ ./ 35/ 个/ 测试/ 场景/ 中/ ,/ 共有/ 981/ 个/ 显性/ 交互/ ,/ 生成/ 的/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集中/ 交互/ 数为/ 1897/ ,/ Π/ // Π/ 比/ 平均值/ 是/ 1.9337/ ,/ 可以/ 看出/ 生成/ 的/ 极小/ 禁忌/ 交互/ 数目/ 在/ 可/ 接受/ 范围/ 内/ ./ 在/ Π/ // Π/ 比/ 小于/ 1/ 的/ 测试/ 场景/ 中有/ 7/ 个/ 其/ 一致/ 闭/ 禁忌/ 交互/ 集中/ 出现/ 一维/ 禁忌/ 交互/ ,/ 并且/ 所有/ 的/ 1897/ 个/ 极小/ 的/ 禁忌/ 交互/ 中有/ 111/ 个/ 一维/ 禁忌/ 交互/ ,/ 这些/ 一维/ 禁忌/ 交互/ 的/ 出现/ 可能/ 导致/ 了/ 隐含/ 的/ 极小/ 禁忌/ 交互/ 数目/ 不是/ 太快/ 的/ 增长/ ./ 场景/ 141516171819202122232425CA/ 模型/ 2813543632503441526128133426121283342516321273244566221723949536421383445546727633425163273334322531612110325364211836425266262873143542553242516227282167316425366292134375327234416230/ 表/ 中加/ 黑/ 的/ 数字/ 表示/ 对应/ 的/ 算法/ 生成/ 的/ 禁忌/ 覆盖/ 表/ 具有/ 更少/ 的/ 行/ ./ 从表中/ 可/ 看出/ 我们/ 的/ 算法/ 生成/ 的/ 禁忌/ 覆盖/ 表与/ AETG/ -/ SAT/ 算法/ 生成/ 的/ 覆盖/ 表/ 规模/ 相当/ ./ Cohen/ 等/ 人/ 在/ AETG/ -/ SAT/ 算法/ 中/ 集成/ 了/ SAT/ 解法/ 器/ ,/ 需要/ 把/ 组合/ 测试/ 约束/ 问题/ 编码/ 成/ 命题逻辑/ 公式/ ,/ 而/ 我们/ 的/ 算法/ 简单/ ,/ 易/ 理解/ ,/ 且/ 容易/ 扩展/ ,/ 在/ 把/ 显性/ 禁忌/ 交互/ 集/ 生成/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 之后/ ,/ 156.254/ ./ 713.054/ ./ 651.025/ ./ 066.866/ ./ 2Page8/ 许多/ 生成/ 一般/ 的/ 组合/ 测试用例/ 集/ 的/ 算法/ 都/ 可/ 扩展/ 成/ 生成/ 避免/ 禁忌/ 交互/ 的/ 测试用例/ 集/ 的/ 算法/ ./ 在/ 得到/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集后/ ,/ 可/ 增进/ 我们/ 对系统/ 的/ 理解/ ,/ 帮助/ 我们/ 对系统/ 进行/ 分析/ ,/ 如/ 在/ 测试/ 过程/ 中/ 发现/ 系统/ 失效/ 时/ 可/ 帮助/ 我们/ 对/ 错误/ 交互进行/ 准确/ 的/ 定位/ ./ 实验/ 2/ ./ 随机/ 实验/ ./ Cohen/ 等/ 人/ 研究/ 的/ 35/ 个/ 测试/ 场景/ 中/ 因素/ 大部分/ 是/ 二元/ 的/ ,/ 并且/ 显性/ 禁忌/ 交互/ 大部分/ 是/ 二维/ 的/ ,/ 这/ 可能/ 导致/ 隐含/ 禁忌/ 交互/ 数目/ 比较/ 少/ ./ 隐含/ 的/ 禁忌/ 交互/ 数目/ 与/ 显性/ 禁忌/ 交互/ 数目/ 比值/ 到底/ 有/ 多/ 大/ ?/ 它/ 与/ 哪些因素/ 有关/ ?/ 它/ 应该/ 与/ 它/ 显性/ 交互/ 的/ 可/ 归结/ 因素/ 的/ 数目/ 有关/ ./ 影响/ 隐含/ 的/ 禁忌/ 交互/ 数目/ 与/ 显性/ 禁忌/ 交互/ 数目/ 比值/ 的/ 另/ 一个/ 因素/ 可能/ 是/ 测试/ 场景/ 中/ 显性/ 禁忌/ 交互/ 数目/ 所/ 包含/ 的/ 顶点/ (/ 一维/ 交互/ )/ 数目/ 与/ 待/ 测系统/ 中/ 所有/ 顶点/ 数目/ 的/ 比值/ ,/ 这个/ 比值/ 越小/ ,/ 可能/ 出现/ 的/ 可/ 归结/ 因素/ 就/ 越少/ ,/ 从而/ 隐含/ 禁忌/ 交互/ 数目/ 就/ 可能/ 越少/ ./ 为此/ ,/ 我们/ 设计/ 随机/ 实验/ 模型/ 来/ 研究/ 它们/ 之间/ 的/ 联系/ ./ 为了/ 简单/ 起/ 见/ ,/ 我们/ 只/ 研究/ 二维/ 与/ 三维/ 禁忌/ 交互/ ./ 假设/ 待/ 测系统/ 中/ ,/ 随机/ 选择/ 二维/ 和/ 三维/ 交互/ 作为/ 显性/ 禁忌/ 交互/ ,/ 即/ 在/ 所有/ 二维/ 交互/ 中等/ 可能/ 的/ 选择/ 一批/ 二维/ 交互/ ,/ 然后/ 在/ 所有/ 的/ 三维/ 交互/ 中等/ 可能/ 的/ 选择/ 一批/ 三维/ 交互/ 作为/ 显性/ 禁忌/ 交互/ 集/ ,/ 然后/ 我们/ 计算/ 对应/ 的/ 可/ 归结/ 因素/ 集/ 的/ 大小/ ,/ 为了/ 对比/ ,/ 我们/ 也/ 计算/ 了/ 理论/ 上/ 的/ 可/ 归结/ 因素/ 数目/ 的/ 期望值/ ./ 定理/ 8/ ./ 设待/ 测系统/ 有/ k/ 个/ 因素/ ,/ 每个/ 因素/ 的/ 取值/ 个数/ 都/ 为/ v/ ,/ 在/ 所有/ 二维/ 交互/ 中等/ 可能/ 的/ 随机/ 选择/ n1/ 个/ ,/ 在/ 所有/ 的/ 三维/ 交互/ 中等/ 可能/ 的/ 随机/ 选择/ n2/ 个/ ,/ 这些/ 交互/ 构成/ 显性/ 禁忌/ 交互/ 集/ Π/ ,/ 设其/ 对应/ 的/ 可/ 归结/ 因素/ 集/ FactorsOfResolu/ (/ Π/ )/ 中/ 因素/ 数目/ 为/ X/ ,/ 则/ 其/ 期望/ E/ (/ X/ )/ =/ k/ ∑/ 其中/ w1/ ,/ w2/ 分别/ 为/ 待/ 测系统/ 中/ 所有/ 的/ 二维/ 交互/ 和/ 三维/ 交互/ 的/ 数目/ ./ 证明/ ./ 设待/ 测系统/ 中/ 所有/ 的/ 二维/ 交互/ 数目/ 为/ w1/ ,/ 所有/ 的/ 三维/ 交互/ 数目/ w2/ ,/ 则/ w1/ =/ 设/ 随机/ 选择/ 显性/ 禁忌/ 交互/ 时/ ,/ 第/ 1/ 个/ 因素/ 的/ 第/ j/ 个/ 取值/ 被/ 选到/ 的/ 事件/ 是/ Aj/ ,/ 则/ 第/ j/ 个/ 取值/ 没有/ 被/ 选到/ 的/ 概率/ 为/ P/ (/ Aj/ )/ =/ 1/ -/ 类似/ 的/ ,/ 第/ 1/ 个/ 因素/ 有/ j/ 个/ 取值/ 0/ ,/ 1/ ,/ …/ ,/ j/ -/ 1/ 没有/ 被/ 选到/ 的/ 概率/ 为/ P/ (/ A1A2/ …/ Aj/ )/ =/ 1/ -/ 再令/ Bi/ 指示/ 第/ i/ 个/ 因素/ 是/ 可/ 归结/ 因素/ 这个/ 事件/ 的/ 随机变量/ ,/ 即/ Bi/ =/ 1/ 表示/ 第/ i/ 个/ 因素/ 是/ 可/ 归结/ 因素/ ,/ Bi/ =/ 0/ 表示/ 第/ i/ 个/ 因素/ 不是/ 可/ 归结/ 因素/ ,/ 则/ P/ (/ Bi/ )/ =/ P/ (/ A1A2/ …/ Av/ )/ ./ 根据/ 容斥/ 原理/ ,/ 有/ P/ (/ Bi/ )/ =/ P/ (/ A1A2/ …/ Av/ )/ =/ 1/ -/ ∑/ P/ (/ Ai/ )/ +/ 而/ 可/ 归结/ 因素/ 集/ FactorsOfResolu/ (/ Π/ )/ 中/ 因素/ 数目/ 为/ X/ =/ ∑/ 所以/ 可/ 归结/ 因素/ 集/ FactorsOfResolu/ (/ Π/ )/ 中/ 因素/ 数目/ 的/ 期望/ E/ (/ X/ )/ =/ E/ ∑/ 我们/ 的/ 实验/ 结果/ 见表/ 7/ ,/ 表中/ 显性/ 模式/ 栏是/ 随机/ 生成/ 的/ 显性/ 禁忌/ 交互/ 集/ Π/ 的/ 模式/ ,/ 如/ (/ 60/ ,/ 0.9/ )/ 表示/ 在/ 待/ 测系统/ 中先/ 等/ 可能/ 的/ 选择/ 54/ 个/ 二维/ 禁忌/ 交互/ ,/ 再/ 等/ 可能/ 的/ 选择/ 6/ 个/ 三维/ 交互/ ,/ 即/ 二维/ 交互/ 占/ 90/ %/ ,/ 然后/ 我们/ 根据/ 这个/ 模式/ 在/ 待/ 测系统/ 中/ 生成/ 的/ 5/ 个/ 显性/ 禁忌/ 交互/ 集/ Π/ ,/ 再/ 根据/ 算法/ 1/ 生成/ 相应/ 的/ 5/ 个/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ Π/ ,/ 一致/ 闭/ 模式/ 栏是/ 这/ 5/ 个/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ Π/ 的/ 平均/ 模式/ ,/ Π/ // Π/ 栏是/ 5/ 次/ 运行/ 下/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集中/ 交互/ 数目/ 与/ 显性/ 禁忌/ 交互/ 数目/ 的/ 比/ Page9/ 值/ 的/ 平均值/ ,/ 顶点/ 比栏/ 是/ 显性/ 禁忌/ 交互/ 集中/ 所/ 包含/ 的/ 顶点/ 数目/ 平均值/ (/ 相同/ 的/ 顶点/ 只算/ 一个/ )/ 与/ 待/ 测系统/ 中/ 所有/ 顶点/ 数目/ 的/ 比值/ ./ E/ (/ X/ )/ 栏是/ 可/ 归结/ 因素/ 数目/ X/ 的/ 期望/ ,/ 可/ 归结/ 数栏/ 是/ 在/ 每个/ 模式/ 下/ 随机/ 生成/ 的/ 表/ 7/ 随机/ 生成/ 禁忌/ 交互/ 集/ 与/ 一致/ 闭/ 禁忌/ 交互/ 集/ 数目/ 对比/ CA/ 模型/ 显性/ 模式/ 210021002100/ (/ 60/ ,/ 0.65/ )/ 210021002100/ (/ 80/ ,/ 0.75/ )/ 2100/ (/ 80/ ,/ 0.65/ )/ 3100/ (/ 100/ ,/ 0.9/ )/ 3100/ (/ 100/ ,/ 0.75/ )/ 3100/ (/ 100/ ,/ 0.65/ )/ 3100/ (/ 110/ ,/ 0.9/ )/ 3100/ (/ 110/ ,/ 0.8/ )/ 3100/ (/ 120/ ,/ 0.9/ )/ 3100/ (/ 120/ ,/ 0.85/ )/ 2102345437530632733831932103111281226132214151581631713.97670/ ./ 565319.130317/ ./ 68205.00004100/ (/ 130/ ,/ 0.9/ )/ 4100/ (/ 130/ ,/ 0.75/ )/ 4100/ (/ 130/ ,/ 0.5/ )/ 4100/ (/ 140/ ,/ 0.9/ )/ 4100/ (/ 140/ ,/ 0.75/ )/ 21053354651661271281691610121112121613111451551621711812.02000/ ./ 54504100/ (/ 160/ ,/ 0.8/ )/ 2128332413518615716812912101711912111351461541621711811.88130/ ./ 592511.634612/ ./ 24100/ (/ 170/ ,/ 0.8/ )/ 从表/ 7/ 中/ 可/ 看到/ :/ (/ 1/ )/ 随机/ 生成/ 的/ 禁忌/ 交互/ 集/ 与其/ 对应/ 的/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 的/ 大小/ 比值/ 与/ 禁忌/ 交互/ 集中/ 包含/ 的/ 不同/ 的/ 顶点/ 数目/ 有/ 关系/ ,/ 在/ 几个/ 不同/ 的/ 模式/ 中/ ,/ 当/ 不同/ 的/ 顶点/ 数目/ 与/ 总/ 的/ 顶点/ 数目/ 小于/ 50/ %/ 时/ ,/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集能/ 很快/ 生成/ 出来/ ,/ 并且/ Π/ // Π/ 栏/ 数值/ 小于/ 5/ ,/ 当/ 不同/ 的/ 顶点/ 数目/ 与/ 总/ 的/ 顶点/ 数目/ 大于/ 等于/ 50/ %/ 时/ ,/ 生成/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 的/ 时间/ 显著/ 增长/ ,/ 并且/ 在/ 实验/ 过程/ 中/ 可/ 看出/ 在/ 同一个/ 模式/ 下/ 有时/ 生成/ 的/ 时间/ 很长/ ,/ 有时/ 很/ 短/ ,/ 很/ 不/ 稳定/ ./ (/ 2/ )/ 随机/ 生成/ 的/ 禁忌/ 交互/ 集/ 与其/ 对应/ 的/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 的/ 大小/ 比值/ 也/ 与/ 可/ 归结/ 因素/ 数目/ 相关/ ,/ 在/ 2100/ 的/ CA/ 模型/ 中/ ,/ 可/ 归结/ 因素/ 数目/ 达到/ 30/ 左右/ 时/ ,/ 生成/ 时间/ 才/ 显著/ 增长/ ,/ 而/ 在/ 3100/ 的/ CA/ 模型/ 中/ ,/ 可/ 归结/ 因素/ 数目/ 达到/ 15/ 左右/ 时/ 就/ 显著/ 增长/ ,/ 而/ 在/ 4100/ 的/ CA/ 模型/ 中/ ,/ 可/ 归结/ 因素/ 数目/ 只到/ 11/ 左右/ 时/ 就/ 显著/ 增长/ ,/ 所以/ 随着/ 每个/ 因素/ 的/ 取值/ 越/ 多/ ,/ 随机/ 生成/ 的/ 禁忌/ 交互/ 集中/ 禁忌/ 交互/ 越/ 分散/ ,/ 这时/ 很少/ 的/ 可/ 归结/ 因素/ 就/ 可能/ 导致/ Π/ // Π/ 比/ 很大/ ,/ 生成/ 一致/ 闭/ 禁忌/ 交互/ 集/ 的/ 时间/ 很长/ ./ (/ 3/ )/ 在/ 同一个/ CA/ 模型/ 下/ 生成/ 同样/ 数目/ 禁忌/ 交互/ 集时/ ,/ 若/ 禁忌/ 交互/ 集中/ 三维/ 禁忌/ 交互/ 越/ 多/ ,/ Π/ // Π/ 5/ 个/ 显性/ 禁忌/ 交互/ 中/ 可/ 归结/ 因素/ 数目/ 的/ 平均值/ ,/ 时间/ 栏是/ 每个/ 模式/ 下/ ,/ 生成/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 的/ 平均/ 时间/ ,/ 运行/ 环境/ 是/ Matlab/ ,/ Windows2007/ ,/ INTEL/ (/ R/ )/ core/ (/ TM/ )/ 2Duo2/ ./ 20GHz/ ,/ 运行/ 时间/ 单位/ 为/ s/ ./ 比越/ 大/ ,/ 生成/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 的/ 时间/ 也/ 越长/ ,/ 也/ 越/ 不/ 稳定/ ,/ 并且/ 生成/ 的/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集中/ 禁忌/ 交互/ 的/ 维数/ 也/ 越来越/ 分散/ ./ 5/ 结论/ 及/ 进一步/ 工作/ 本文/ 研究/ 了/ 在/ 待/ 测系统/ 中/ 各个/ 因素/ 的/ 取值/ 之间/ 存在/ 约束/ 时/ 如何/ 处理/ 约束/ ,/ 如何/ 生成/ 尽可能少/ 的/ 测试用例/ ./ 我们/ 先由/ 约束/ 生成/ 显性/ 禁忌/ 交互/ 集/ Π/ ,/ 再/ 在/ 禁忌/ 交互/ 集中/ 进行/ 归结/ 运算/ ,/ 这是/ SAT/ 问题/ 中/ 的/ 归结/ 推理/ 的/ 推广/ ,/ 反复/ 应用/ 归结/ 运算/ 来/ 生成/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ Π/ ,/ 然后/ 我们/ 对/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 提出/ 了/ 类/ AETG/ 算法/ 来/ 生成/ 尽可能少/ 的/ 测试用例/ ,/ 随后/ 的/ 实验/ 研究/ 了/ Cohen/ 等/ 人/ 提出/ 的/ 35/ 个/ 测试/ 场景/ ,/ 对/ 每个/ 场景/ 中/ 显性/ 禁忌/ 交互/ 集来/ 生成/ 一致/ 闭/ 禁忌/ 交互/ 集/ ,/ 发现/ 得到/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集中/ 交互/ 数/ 平均/ 是/ 原始/ 禁忌/ 交互/ 数/ 的/ 二倍/ 左右/ ,/ 再用/ 这个/ 类/ AETG/ 算法/ 来/ 生成/ 相应/ 的/ 测试用例/ ,/ 其/ 规模/ 与/ Cohen/ 等/ 人/ [/ 16/ ]/ 用/ 集成/ 了/ SAT/ 解法/ 器/ 的/ AETG/ 算法/ 生成/ 的/ 测试用例/ 规模/ 相当/ ,/ 但是/ 我们/ 算法/ 不/ 需要/ 把/ 组合/ 测试/ 模型/ 转化成/ SAT/ 模型/ ,/ 并且/ 我们/ 计算/ 出/ 了/ 所有/ Page10/ 的/ 禁忌/ 交互/ ,/ 对模型/ 的/ 理解/ 与/ 测试/ 非常/ 有/ 帮助/ ./ 随后/ 我们/ 设计/ 了/ 随机/ 实验/ ,/ 通过/ 随机/ 生成/ 显性/ 禁忌/ 交互/ 集/ ,/ 然后/ 生成/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ ,/ 研究/ 它们/ 之间/ 的/ 数目/ 比/ ,/ 是否/ 在/ 可/ 接收/ 范围/ 内/ ,/ 与/ 哪些因素/ 有关/ ./ 由于/ 我们/ 生成/ 一致/ 闭/ 的/ 禁忌/ 交互/ 集/ 的/ 算法/ 时空/ 复杂性/ 都/ 是/ 指数/ 增长/ 的/ ,/ 对于/ 小/ 的/ 待/ 测系统/ ,/ 显性/ 禁忌/ 交互/ 集/ 比较/ 小时/ 适用/ ,/ 对于/ 大/ 的/ 复杂/ 的/ 带/ 约束/ 系统/ ,/ 本文/ 的/ 方法/ 失效/ ,/ 所以/ 推广/ SAT/ 解法/ 器中/ 的/ 一些/ 如/ 回溯/ 、/ 约束/ 传播/ 等/ 技术/ 来/ 生成/ 尽可能少/ 的/ 测试用例/ 是/ 一个/ 重要/ 研究/ 的/ 问题/ ./ 另外/ ,/ 元/ 启发式/ 算法/ 是/ 生成/ 测试用例/ 的/ 另一类/ 重要/ 方法/ ,/ 所以/ 研究/ 在/ 禁忌/ 交互/ 集是/ 一致/ 闭/ 的/ 和/ 不是/ 一致/ 闭/ 的/ 情形/ 下/ 生成/ 测试用例/ 的/ 元/ 启发式/ 算法/ 也/ 是/ 需要/ 研究/ 的/ 问题/ ./ 

