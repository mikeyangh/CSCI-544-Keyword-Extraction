Page1/ 基于/ 摄像机/ 动态/ 标定/ 的/ 交通/ 能见度/ 估计/ 郜园园/ 2/ )/ 1/ )/ (/ 北京工业大学/ 电子信息/ 与/ 控制/ 工程学院/ 北京/ 100124/ )/ 2/ )/ (/ 浙江/ 农林/ 大学/ 信息/ 工程学院/ 杭州/ 311300/ )/ 摘要/ 为/ 克服/ 雾天/ 能见度/ 检测仪/ 价格昂贵/ 、/ 检测/ 范围/ 小/ 等/ 缺点/ ,/ 该文/ 结合/ 雾天/ 光线/ 传输/ 模型/ 与/ 摄像机/ 几何/ 光学/ 模型/ 提出/ 一种/ 交通/ 能见度/ 估计/ 算法/ ./ 该/ 算法/ 通过/ 动态/ 标定/ 交通/ 摄像机/ 内外/ 参数/ 来/ 计算/ 路面/ 区域/ 内点/ 到/ 摄像机/ 的/ 距离/ ,/ 利用/ 场景/ 透射率/ 得到/ 大气/ 消光系数/ 并/ 估计/ 交通/ 能见度/ ./ 首先/ ,/ 算法/ 基于/ 活动/ 图/ 提取/ 感兴趣/ 区域/ ,/ 再/ 根据/ 区域/ 内/ 平均/ 像素/ 拟合/ 曲线/ 是否/ 满足/ 刃/ 边/ 函数/ 对/ 雾天/ 进行/ 识别/ ;/ 其次/ ,/ 通过/ 暗/ 原色/ 先验/ 原理/ 估计/ 交通/ 场景/ 中/ 每/ 一个点/ 的/ 透射率/ ,/ 并且/ 选取/ 道路/ 上/ 4/ 组/ 透射率/ 差值/ 最大/ 的/ 点/ 对/ 摄像机/ 内部/ 参数/ 标定/ ;/ 然后/ ,/ 提取/ 消失/ 点及/ 车道/ 边缘/ 线/ 完成/ 摄像机/ 外部/ 参数/ 动态/ 标定/ ;/ 最后/ ,/ 通过/ 路面/ 上点/ 到/ 摄像机/ 的/ 距离/ 以及/ 相应/ 的/ 场景/ 透射率/ 估计/ 交通/ 场景/ 的/ 能见度/ ./ 该文/ 将/ 雾天/ 多个/ 交通/ 场景/ 下/ 能见度/ 值/ 计算结果/ 与/ 人工/ 观测/ 、/ 物理/ 仪器/ 测量/ 等/ 方法/ 进行/ 了/ 比较/ ,/ 结果/ 证明/ 了/ 该文/ 方法/ 的/ 有效性/ 与/ 实时性/ ./ 关键词/ 交通/ 能见度/ ;/ 摄像机/ 动态/ 标定/ ;/ 雾天/ 光线/ 传输/ 模型/ ;/ 感兴趣/ 区域/ ;/ 暗/ 原色/ 先验/ 原理/ 1/ 引言/ 能见度/ 与/ 地面/ 交通安全/ 密切相关/ [/ 1/ ]/ ./ 雾/ 霾/ 天气/ 条件/ 下/ 交通/ 场景/ 能/ 见/ 距离/ 大大降低/ ,/ 驾驶员/ 容易/ 对/ 场景/ 距离/ 过度/ 估计/ ,/ 而/ 交通/ 能见度/ 信息/ 实时/ 测量/ 能够/ 提醒/ 司机/ 调整/ 车速/ 从而/ 避免/ 交通事故/ ./ 测量/ 交通/ 能见度/ 通常/ 可/ 采用/ 目测/ 法/ ,/ 但/ 该/ 方法/ 客观性/ 较差/ ;/ 也/ 可/ 采用/ 测量/ 仪器/ ,/ 如/ 激光/ 能见度/ 测量仪/ 、/ 大气/ 透射/ 仪/ ,/ 该/ 方法/ 应用/ 较广/ ,/ 但/ 设备/ 普遍/ 比较/ 昂贵/ 且/ 测量范围/ 较/ 小/ ;/ 另外/ 基于/ 双目/ 摄像机/ 和/ 单目/ 摄像机/ 的/ 方法/ 也/ 逐渐/ 被/ 采用/ ,/ 该/ 方法/ 主要/ 是/ 利用计算机/ 视觉/ 技术/ 对/ 交通/ 场景/ 图像/ 进行/ 处理/ ./ 基于/ 双目/ 摄像机/ 的/ 方法/ 由于/ 道路/ 图像/ 中/ 的/ 像素/ 在/ 颜色/ 与/ 纹理/ 上/ 相似性/ 较强/ ,/ 因此/ 匹配/ 困难/ ,/ 算法/ 运行/ 时间/ 较长/ ,/ 实时性/ 不佳/ ./ 基于/ 单目/ 摄像机/ 的/ 方法/ 因/ 其/ 设备/ 简单/ 、/ 检测/ 范围/ 大/ 近年来/ 被/ 广泛/ 采用/ ./ Bush/ 等/ 人/ [/ 2/ ]/ 采用/ 单目/ 摄像机/ 获取/ 道路/ 图像/ ,/ 并基/ 于小波/ 变换/ 对/ 图像/ 边缘/ 进行/ 检测/ (/ 对比度/ 大于/ 5/ %/ )/ 来/ 估算/ 交通/ 能见度/ ;/ Hautiere/ 等/ 人/ [/ 3/ -/ 4/ ]/ 基于/ 单目/ 摄像机/ 的/ 交通/ 监控/ 技术/ 实现/ 对/ 大气/ 交通/ 能见度/ 距离/ 的/ 估计/ ,/ 并/ 以/ 实验/ 验证/ 了/ 该/ 方法/ 的/ 有效性/ ;/ Hallowell/ 等/ 人/ [/ 5/ ]/ 将/ 场景/ 对比度/ 同/ 视觉/ 范围/ 关联/ 起来/ ,/ 通过/ 附加/ 传感器/ 估计/ 能见度/ ;/ 另外/ ,/ 结合/ sobel/ 算子/ 、/ 高通/ 滤波器/ 等/ 估算/ 能见度/ 的/ 方法/ [/ 6/ -/ 7/ ]/ 也/ 取得/ 了/ 较/ 好/ 的/ 效果/ ./ 摄像机/ 标定/ 技术/ 在/ 基于/ 图像/ 的/ 参数/ 测量/ 方面/ 起着/ 关键作用/ [/ 8/ ]/ ./ 对于/ 交通/ 能见度/ 的/ 测量/ ,/ 目前/ 有/ 许多/ 学者/ 逐渐/ 采用/ 摄像机/ 标定/ 的/ 方法/ ./ 摄像机/ 标定/ 方法/ 分为/ 传统/ 摄像机/ 标定/ 方法/ [/ 9/ ]/ 、/ 自/ 标定/ 方法/ [/ 10/ ]/ 和/ 主动/ 视觉/ 标定/ 法/ [/ 11/ ]/ ./ Todd/ 等/ 人/ [/ 12/ ]/ 针对/ 交通/ 场景/ 中/ 的/ 摄像机/ ,/ 提出/ 一种/ 基于/ 大气/ 散射/ 理论/ 的/ 内外/ 参数/ 标定/ 方法/ ./ 该/ 算法/ 不/ 需要/ 借助于/ 车道/ 线/ 等/ 先验/ 信息/ ,/ 通过/ 估计/ 道路/ 边缘/ 位置/ 来/ 校正/ 摄像机/ ./ Hautiere/ 等/ 人/ [/ 13/ ]/ 提出/ 一种/ 利用/ 摄像机/ 标定/ 自动检测/ 雾天/ 能见度/ 的/ 方法/ ./ 他们/ 根据/ Koschmieder/ ’/ s/ 定律/ ,/ 结合/ 国际/ 照明/ 委员会/ (/ InternationalCommissiononIllumination/ ,/ CIE/ )/ 给出/ 的/ 对比度/ 阈值/ 0.05/ 估计/ 能见度/ 距离/ ./ 相比/ 其他/ 方法/ 该/ 方法/ 约束/ 较/ 少/ ,/ 仅/ 利用/ 车载/ 单目/ 摄像机/ 以及/ 天空/ 和/ 道路/ 的/ 部分/ 场景/ 图像/ 就/ 可以/ 实现/ 能见度/ 距离/ 的/ 估计/ ./ 但是/ 该/ 方法/ 不适/ 用于/ 轻雾/ 天气/ 下/ 的/ 道路/ 能见度/ 检测/ ./ Gallen/ 等/ 人/ [/ 14/ ]/ 结合/ 摄像机/ 标定/ 与/ 前/ 向/ 散射/ 法/ 提出/ 一种/ 适用/ 于/ 夜间/ 环境/ 下/ 的/ 雾天/ 能见度/ 距离/ 静态/ 估计/ 方法/ ./ 随后/ ,/ Hautiere/ 等/ 人/ [/ 1/ ,/ 15/ ]/ 利用/ 摄像机/ 标定/ 与/ 场景/ 对比度/ 分布/ 提出/ 一种/ 基于/ 非线性/ 概率模型/ 驱动/ 的/ 能见度/ 估计/ 方法/ ./ 模型/ 中/ 考虑/ 到/ 场景/ 中/ 的/ 朗伯/ 表面/ ,/ 因此/ 该/ 方法/ 对/ 场景/ 亮度/ 变化/ 具有/ 很/ 好/ 的/ 鲁棒性/ ./ 之后/ 该/ 方法/ 被/ 应用/ 于/ 实际/ 的/ 高速路/ 能见度/ 检测/ ,/ 能见度/ 估计/ 距离/ 可高达/ 15km/ ,/ 平均误差/ 为/ 30/ %/ [/ 16/ ]/ ./ 光线/ 传输/ 模型/ 将/ 场景/ 的/ 距离/ 信息/ 、/ 透射率/ 以及/ 消光系数/ (/ 与/ 能见度/ 有关/ )/ 联系/ 在/ 一起/ ,/ 本文/ 结合/ 雾天/ 光线/ 传输/ 模型/ 与/ 摄像机/ 几何/ 光学/ 模型/ 对/ 交通/ 道路/ 中/ 的/ 摄像机/ 内外/ 参数/ 进行/ 标定/ ,/ 进而/ 利用/ 场景/ 透射率/ 计算/ 大气/ 消光系数/ 并/ 估计/ 交通/ 能见度/ ./ 特别/ 地/ ,/ 本文/ 在/ 所/ 构建/ 的/ 单目/ 摄像机/ 模型/ 中/ 考虑/ 到/ 均/ 质/ 雾天/ 条件/ ,/ 使该/ 方法/ 无需/ 借助于/ 道路/ 特征/ 等/ 先验/ 知识/ 且/ 能够/ 适用/ 于/ 非/ 结构化/ 道路/ 环境/ ./ 本文/ 第/ 2/ 节/ 介绍/ 本文/ 算法/ 的/ 基本/ 假设/ 与/ 所/ 提出/ 的/ 能见度/ 估计/ 模型/ ;/ 第/ 3/ 节/ 通过/ 活动/ 图/ 和/ 区域/ 搜索算法/ 提取/ 感兴趣/ 区域/ 以/ 识别/ 当前/ 天气/ ;/ 第/ 4/ 节/ 分析/ 基于/ 均质/ 雾天/ 的/ 交通/ 摄像机/ 单目/ 模型/ ;/ 第/ 5/ 节/ 叙述/ 基于/ 暗/ 原色/ 先验/ 原理/ 的/ 透射率/ 计算方法/ 、/ 基于/ 均质/ 雾天/ 的/ 摄像机/ 内外/ 参数/ 标定/ 方法/ 、/ 标定/ 点/ 选择/ 方法/ 以及/ 交通/ 能见度/ 计算方法/ ;/ 第/ 6/ 节/ 给出/ 摄像机/ 内外/ 参数/ 标定/ 结果/ 和/ 能见度/ 检测/ 结果/ ,/ 并/ 与/ 人工/ 观测/ 、/ 物理/ 仪器/ 测量/ 等/ 方法/ 做/ 了/ 比较/ ;/ 最后/ 是/ 结论/ 与/ 展望/ ./ 2/ 算法/ 基本/ 假设/ 与/ 能见度/ 估计/ 模型/ (/ 1/ )/ 算法/ 基本/ 假设/ 根据/ 实际/ 情况/ 对/ 算法/ 做出/ 如下/ 基本/ 假设/ :/ ①/ 根据/ 中国气象局/ 的/ 官方/ 统计/ ,/ 均质/ 雾天/ 在/ 所有/ 天气/ 类型/ 中/ 比例/ 达到/ 40/ %/ ./ 因此/ ,/ 均质/ 雾天/ 是/ 一种/ 普遍/ 的/ 气象条件/ ,/ 本文/ 算法/ 应用/ 面/ 较广/ ./ ②/ 道路/ 形状/ 假设/ ./ 使用/ 道路/ 形状/ 假设/ 可以/ 有效/ 简化/ 道路/ 模型/ ,/ 道路/ 形状/ 有/ 直线/ 、/ 回旋/ 曲线/ 、/ 抛物线/ 及其/ 他/ 特殊/ 的/ 形状/ ./ 本文/ 采用/ 直线/ 道路/ 模型/ ./ ③/ 道路/ 平坦/ 假设/ ./ 本文/ 将/ 道路/ 近似/ 为/ 平面/ ,/ 运动/ 车辆/ 均/ 行驶/ 在/ 道路/ 平面/ 上/ ,/ 可简化/ 图像/ 坐标/ 到/ 世界坐标/ 的/ 转换/ ./ ④/ 道路/ 特征/ 一致/ 假设/ ./ 本文/ 对/ 所/ 提取/ 的/ 感兴趣/ 区域/ 使用/ 了/ 纹理/ 特征分析/ ,/ 需/ 假设/ 图像/ 路面/ 区域/ 具有/ 一致/ 的/ 特征/ ./ ⑤/ 考虑/ 制作/ 工艺/ 等/ 原因/ ,/ 对于/ 大多数/ 摄像机/ ,/ 摄像机/ 内参/ 存在/ 如下/ 关系/ α/ x/ =/ α/ y/ =/ α/ ./ Page3/ (/ 2/ )/ 能见度/ 估计/ 模型/ 根据/ 国际/ 照明/ 委员会/ (/ CIE/ )/ 给出/ 的/ 能见度/ 定义/ [/ 17/ ]/ ,/ 气象/ 能见度/ Rv/ 与/ 大气/ 消光系数/ k/ 满足/ 以下/ 公式/ 1924/ 年/ ,/ 雾天/ 光线/ 传输/ 模型/ 被/ Middleton/ [/ 18/ ]/ 提出/ ,/ 光线/ 传输/ 过程/ 见图/ 1/ ./ 模型/ 中/ 指出/ 雾天/ 时/ 视觉/ 传感器/ 接收/ 到/ 的/ 总/ 辐射/ 为/ 入射光/ 衰减/ 后/ 到达/ 传感器/ 的/ 强度/ 与/ 进入/ 成像/ 系统/ 的/ 大气/ 光/ 强度/ 之/ 和/ ./ 因此/ ,/ 观测/ 到/ 的/ 光/ 强度/ 与/ 物体/ 固有/ 光/ 强度/ 之间/ 满足/ 其中/ :/ x/ 表示/ 图像/ 路面/ 上/ 的/ 一点/ ;/ I/ (/ x/ )/ 是/ 指该/ 点/ 观测/ 到/ 的/ 图像/ 光/ 强度/ ;/ J/ (/ x/ )/ 是/ 指/ 物体/ 该点/ 固有/ 光/ 强度/ ;/ A/ 表示/ 大气/ 光/ 强度/ ;/ t/ (/ x/ )/ 为点/ x/ 场景/ 透射率/ 值/ ,/ 且/ t/ (/ x/ )/ 满足/ 其中/ :/ k/ 为/ 大气/ 消光系数/ ;/ d/ (/ x/ )/ 为点/ x/ 到/ 摄像机/ 的/ 距离/ ./ 因此/ 得到/ 大气/ 消光系数/ k/ =/ -/ 可以/ 看出/ ,/ 场景/ 中/ 的/ 距离/ 信息/ 、/ 透射率/ 和/ 大气/ 消光系数/ 通过/ 雾天/ 光线/ 传输/ 模型/ 联系/ 起来/ ./ 本文/ 在/ 此基础/ 上/ 根据/ 提出/ 的/ 交通/ 摄像机/ 动态/ 标定/ 算法/ ,/ 计算/ 出/ 路面/ 区域/ 内点/ 到/ 摄像机/ 的/ 距离/ ,/ 利用/ 场景/ 透射率/ 计算/ 大气/ 消光系数/ 并/ 最终/ 估计/ 交通/ 能见度/ ./ 本文/ 所/ 提出/ 的/ 能见度/ 计算方法/ 分为/ 3/ 个/ 模块/ ,/ 包括/ 均质/ 雾天/ 识别/ 模块/ 、/ 摄像机/ 标定/ 模块/ 和/ 交通/ 能见度/ 估计/ 模块/ ,/ 如图/ 2/ 所示/ ./ 均质/ 雾天/ 识别/ 模块/ 根据/ 活动/ 图/ 以及/ 区域/ 搜索算法/ 提取/ 感兴趣/ 区域/ 进而/ 对/ 当前/ 天气/ 进行/ 识别/ ;/ 摄像机/ 标定/ 模块/ 首先/ 利用/ 暗/ 原色/ 先验/ 原理/ 得到/ 交通/ 场景/ 中/ 各点/ 的/ 透射率/ ,/ 然后/ 选择/ 道路/ 上/ 的/ 8/ 个点/ 对/ 摄像机/ 初步/ 标定/ ,/ 最后/ 提取/ 消失/ 点及/ 车道/ 边缘/ 线/ 对/ 摄像机/ 内外/ 参数/ 动态/ 标定/ ;/ 交通/ 能见度/ 估计/ 模块/ 利用/ 路面/ 上点/ 到/ 摄像机/ 的/ 距离/ 以及/ 场景/ 透射率/ 计算/ 大气/ 消光系数/ 进而/ 估计/ 能见度/ 值/ ./ 图/ 2/ 基于/ 摄像机/ 动态/ 标定/ 的/ 能见度/ 估计/ 流程/ 3/ 基于/ 区域/ 选择/ 的/ 均/ 质/ 雾天/ 识别/ 均质/ 雾天/ 时/ 由于/ 道路/ 、/ 天空/ 区域/ 的/ 纹理/ 、/ 光照/ 的/ 均匀/ 统一性/ ,/ 自上而下/ 地/ 图像/ 均质/ 部分/ 的/ 像素/ 以刃边/ 函数/ (/ EdgeSpreadFunction/ ,/ ESF/ )/ 的/ 形式/ 变化/ (/ 式/ (/ 3/ )/ )/ ./ 利用/ 这一/ 规律/ ,/ 均质/ 雾天/ 识别/ 模块/ 通过/ 提取/ 图像/ 纹理/ 特征/ 搜索/ 感兴趣/ 区域/ ,/ 然后/ 统计/ 该/ 区域/ 内/ 平均/ 像素/ 的/ 变化规律/ 是否/ 满足/ 刃/ 边/ 函数/ ,/ 从而/ 实现/ 均质/ 雾天/ 天气/ 识别/ ./ 3.1/ 背景/ 生成/ 与/ 更新/ 、/ 纹理/ 特征提取/ 摄像机/ 标定/ 时/ ,/ 由于/ 标定/ 点/ 的/ 选取/ 是/ 在/ 背景/ 路面/ 中/ 进行/ 的/ ,/ 因此/ 首先/ 需要/ 生成/ 与/ 更新/ 背景/ 图像/ ./ 背景/ 生成/ 与/ 更新/ 一般/ 是/ 通过/ 判断/ 图像/ 特征/ 变化/ 识别/ 背景/ 与/ 前景/ ,/ 常用/ 的/ 算法/ 有/ 平均/ 帧/ 差法/ 、/ 混合/ 高斯/ 模型/ 法/ [/ 19/ ]/ ./ 考虑/ 到/ 时间/ 消耗/ ,/ 本文/ 采用/ 平均/ 帧/ 差法/ 得到/ 交通/ 场景/ 的/ 背景/ 图像/ 并/ 实时/ 更新/ ./ 图/ 3/ (/ a/ )/ 、/ (/ b/ )/ 、/ (/ c/ )/ 为/ 本文/ 在/ 快速/ 路上/ 采集/ 的/ 3/ 种/ 雾天/ 交通/ 场景/ 下/ 的/ 原/ Page4/ 始/ 图像/ ,/ 图/ 3/ (/ d/ )/ 、/ (/ e/ )/ 、/ (/ f/ )/ 分别/ 为/ 对应/ 的/ 背景/ 图像/ ./ 为了/ 提取/ 图像/ 均质/ 部分/ 区域/ (/ 包括/ 天空/ 区域/ 、/ 道路/ 区域/ )/ ,/ 算法/ 通过/ 计算/ 图像/ 灰度/ 共生/ 矩阵/ 提取/ 纹理/ 特征/ ,/ 包括/ 熵/ (/ Entropy/ ,/ ENT/ )/ 、/ 方差/ (/ Variance/ ,/ VAR/ )/ 、/ 角/ 二次/ 距/ (/ AngleSecondaryMatrix/ ,/ ASM/ )/ 、/ 逆/ 差距/ (/ InverseDifferenceMatrix/ ,/ IDM/ )/ 和/ 对比度/ (/ Contrast/ ,/ CON/ )/ ./ 3.2/ 基于/ 图像/ 纹理/ 特征/ 的/ 区域/ 搜索算法/ (/ 1/ )/ 根据/ 场景/ 活动/ 图/ 确定/ 道路/ 区域/ 把/ 给定/ 时间/ 内/ 视频/ 图像/ 中/ 运动/ 和/ 静止/ 的/ 物体/ 分别/ 用/ 白色/ 像素/ 和/ 黑色/ 像素/ 显示/ 在/ 一幅/ 图上/ ,/ 该图/ 称为/ 活动/ 图/ ./ 活动/ 图/ [/ 20/ ]/ 通过/ 检测/ 交通/ 视频/ 图像/ 中/ 运动/ 的/ 车辆/ 判定/ 车辆/ 位置/ ,/ 确定/ 车道/ 以及/ 路面/ 信息/ ,/ 进而/ 获取/ 运动/ 区域/ A/ ./ 该/ 区域/ 采用/ 多/ 帧/ 取/ 差求/ 平均法/ 其中/ :/ N/ 为/ 帧/ 数/ ;/ Ii/ 为/ 第/ i/ 帧/ 的/ 像素/ ./ 本/ 部分/ 首先/ 生成/ 场景/ 活动/ 图/ ,/ 然后/ 通过/ 区域/ 生长/ 算法/ (/ 质心/ 生长/ 法/ )/ 产生/ 连续/ 的/ 道路/ 区域/ ./ 图/ 4/ (/ a/ )/ 为/ 交通/ 场景/ 下/ 的/ 原始/ 图像/ ,/ 图/ 4/ (/ b/ )/ 、/ (/ c/ )/ 分别/ 是/ (/ a/ )/ 图/ 对应/ 的/ 交通/ 视频/ 序列/ 在/ 第/ 10/ 、/ 100/ 帧/ 时/ 生成/ 的/ 活动/ 图/ ./ 其中/ 路面/ 为/ 白色/ 像素点/ ,/ 黑色/ 像素点/ 是/ 交通/ 场景/ 中除/ 路面/ 外/ 的/ 其余部分/ ./ (/ 2/ )/ 感兴趣/ 区域/ 搜索/ 典型/ 交通/ 场景/ 的/ 部分/ 纹理/ 图像/ 如图/ 5/ 所示/ ,/ 本/ 部分/ 基于/ 天空/ 和/ 路面/ 图像/ 纹理/ 特征提取/ 感兴趣/ 区域/ ,/ 具体/ 过程/ 如下/ [/ 21/ ]/ :/ 第/ 1/ 步/ ./ 从下到上/ 逐行/ 检测/ 交通/ 场景/ 活动/ 图中/ 的/ 白色/ 像素点/ ,/ 并/ 将/ 白色/ 像素点/ 行/ 数/ 最小值/ 保存/ ,/ 设为/ L/ ./ 考虑/ 到/ 道路交通/ 图像/ 中以/ 路面/ 和/ 天空/ 区域/ 为主/ ,/ 因此/ ,/ 这/ 一步/ 通过/ 检测/ 白色/ 像素点/ 以/ 初步/ 确定/ 候选/ 天空/ 区域/ ,/ 其/ 纵坐标/ 范围/ 在/ 0/ ~/ L/ ,/ 则/ 候选/ 路面/ 区域/ 纵坐标/ 范围/ 在/ L/ +/ 1/ ~/ 240/ ./ 第/ 2/ 步/ ./ 通过/ 上/ 一步/ 可/ 确定/ 候选/ 天空/ 的/ 范围/ ,/ 但/ 在/ 实际/ 交通/ 图像/ 中/ ,/ 该/ 范围/ 内/ 大多/ 包含/ 房屋/ 、/ 灯/ 、/ 树木/ 等/ ,/ 因此/ 必须/ 去除/ 上述/ 噪声/ 点/ 提取/ 准确/ 的/ 天空/ 区域/ ./ 处理/ 步骤/ 为/ :/ 选择/ 8/ ×/ 6/ 图形/ 窗/ ,/ 按照/ 像素/ 从上到下/ 逐行扫描/ ,/ 并/ 计算/ 每个/ 图形/ 窗/ 的/ 纹理/ 特征/ ,/ 将/ 其/ 与/ 天空/ 模板/ 比较/ ,/ 存储/ 纹理/ 差/ 最小/ 的/ 图形/ 窗/ ,/ 算法/ 扫描/ 到/ L/ 行/ 结束/ ./ 用/ Ai/ 表示/ 第/ i/ 行/ 搜索/ 的/ 窗口/ 区域/ ,/ Pi/ 为/ 对应/ 窗口/ 区域/ 内像素/ 的/ 平均值/ ,/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ L/ ./ 第/ 3/ 步/ ./ 在/ 候选/ 路面/ 区域/ 内/ (/ 纵坐标/ 为/ L/ +/ 1/ ~/ 240/ )/ ,/ 对/ 活动/ 图上/ 出现/ 的/ 白色/ 像素点/ 每行/ 随机/ 选择/ 一个/ 8/ ×/ 6/ 窗口/ 区域/ ,/ 记为/ Aj/ ,/ Pj/ 为/ Aj/ 区域/ 内像素/ 的/ 平均值/ ,/ j/ =/ L/ +/ 1/ ,/ L/ +/ 2/ ,/ …/ ,/ 240.3/ ./ 3/ 曲线拟合/ 与/ 天气/ 识别/ 结果/ 通过/ 以上/ 步骤/ 选取/ 了/ 感兴趣/ 区域/ ,/ 该/ 区域/ 内/ 包含/ 天空/ 区域/ 与/ 路面/ 区域/ ./ 在/ 感兴趣/ 区域/ 内/ 逐行/ 计算/ 平均/ 像素/ ,/ 根据/ 像素/ 变化/ 是否/ 符合/ 刃/ 边/ 函数/ 判定/ 当前/ 天气状况/ 是否/ 为均质/ 雾天/ ./ 本/ 部分/ 实验/ 采用/ 的/ 视频/ 序列/ 均/ 拍摄/ 于/ 北京/ 城市/ 快速/ 路上/ 的/ 固定/ 摄像机/ ./ 算法/ 经过/ 不同/ 天气/ 、/ 不同/ 场景/ 视频/ 图像/ 测试/ ,/ 涵盖/ 晴天/ 、/ 雪天/ 、/ 均质/ 雾天/ (/ 2/ 个/ 交通/ 场景/ )/ 3/ 种/ 天气/ 条件/ ./ 如/ 不/ 特别/ 说明/ ,/ 本文/ 图像/ 尺寸/ 均/ 为/ 320/ ×/ 240/ 像素/ ./ 图/ 6/ 给出/ 了/ 晴天/ 、/ 雪天/ 和/ 均/ 质/ 雾天/ 的/ 背景/ 以及/ 对应/ 的/ 感兴趣/ 区域/ 搜索/ 结果/ ,/ 图中/ 显示/ 的/ 该/ 区域/ 均/ 已/ 被/ 放大/ ./ 其中/ ,/ 均/ 质雾/ 天下/ 选取/ 了/ 2/ 个/ 不同/ 场景/ ./ 感兴趣/ 区域/ 内像素/ 平均值/ 变化/ 的/ 拟合/ 曲线/ 如图/ 7/ 所示/ ./ 从图/ 7/ (/ a/ )/ 可以/ 看出/ ,/ 晴天/ 时/ 感兴趣/ 区域/ 的/ 拟合/ 曲线/ 多处/ 出现/ 跳跃/ 、/ 不/ 连续/ 现象/ ./ 这是/ 由于/ 晴天/ 条件/ 下/ 光照/ 分布/ 不/ 均匀/ ,/ 近处/ 物体/ 获得/ 的/ 光照/ 可能/ 大于/ 远处/ 物体/ 的/ 光照/ ./ 从图/ 7/ (/ b/ )/ 可以/ 看出/ ,/ 雪天/ 时/ 感兴趣/ 区域/ 的/ 拟合/ 曲线/ 仍然/ 出现/ 不/ 连续/ 现象/ ,/ 像素/ 变化/ 无/ 明显/ 规律/ ,/ 这是/ 由于/ 雪天/ 时/ 虽/ 未/ 明显/ 受到/ 太阳光/ 的/ 影响/ ,/ 但/ 由于/ 雪/ 在/ 路面/ 上/ 分布/ 不/ 均匀/ 致使/ 路面/ 光照/ 反射/ 不/ 均匀/ ,/ 像素/ 变化/ 杂乱无章/ ./ 从图/ 7/ (/ c/ )/ 、/ (/ d/ )/ 可/ 看出/ ,/ 均/ 质雾/ 天下/ ,/ 虽然/ 在/ 不/ Page5/ 图/ 63/ 种/ 天气/ 条件/ 下/ 背景/ 图像/ 及/ 所/ 提取/ 的/ 感兴趣/ 区域/ 图/ 7/ 感兴趣/ 区域/ 内像素/ 的/ 曲线拟合/ 结果/ 同/ 的/ 交通/ 场景/ 下/ ,/ 拟合/ 曲线/ 都/ 是/ 连续/ 的/ 刃/ 边/ 函数/ 形状/ 曲线/ ,/ 但是/ 曲线/ 拐点/ 所在/ 的/ 位置/ 不同/ ./ 采集/ 两种/ 场景/ 下/ 的/ 雾/ 雨/ 混合/ 天气/ 交通/ 视频/ ,/ 将/ 视频/ 图像/ 中/ 的/ 雨滴/ 作为/ 噪声/ 点/ ,/ 用以/ 验证/ 算法/ 的/ 鲁棒性/ ./ 两种/ 雾雨/ 混合/ 天气/ 场景/ 下/ 的/ 背景/ 图像/ 以及/ 提取/ 的/ 相应/ 感兴趣/ 区域/ 如图/ 8/ 所示/ ./ 图/ 9/ 为/ 对应/ 场景/ 下/ 的/ 拟合/ 曲线/ ./ 根据/ 图/ 9/ 显示/ 结果/ 可以/ 看出/ ,/ 雾雨/ 混合/ 天气/ 下/ 所/ 提取/ 的/ 感兴趣/ 区域/ 拟合/ 曲线/ 由于/ 受到/ 雨滴/ 等/ 因素/ 的/ 干扰/ ,/ 像素/ 波动/ 相对/ 于图/ 7/ 而言/ 较大/ ,/ 但/ 仍/ 近似/ 以刃边/ 函数/ 的/ 形状/ 变化/ ./ 实验/ 结果表明/ 本文/ 提出/ 的/ 区域/ 搜索算法/ 具有/ 较/ 好/ 的/ 鲁棒性/ ,/ 通过/ 感兴趣/ 区域/ 识别/ 天气状况/ 的/ 应用/ 范围/ 较为/ 广泛/ ./ 图/ 8/ 场景/ 3/ 雾雨/ 混合/ 天气/ 下/ 背景/ 及/ 相应/ 区域/ 提取/ 结果/ Page64/ 交通/ 摄像机/ 单目/ 模型/ 如果/ 只/ 依靠/ 单目/ 摄像机/ ,/ 通过/ 交通/ 场景/ 图像/ 中/ 的/ 点/ 不能/ 直接/ 获得/ 图像/ 的/ 深度/ 信息/ ,/ 但/ 当/ 道路/ 中/ 的/ 点/ 假设/ 在/ 一个/ 平面/ 上时/ ,/ 同时/ 参考/ 场景/ 中/ 的/ 先验/ 信息/ (/ 如/ 车道/ 线/ 等/ )/ 可/ 获得/ 图像/ 道路/ 上点/ 的/ 深度/ 信息/ [/ 9/ ]/ ./ 本节/ 结合/ 摄像机/ 线性/ 模型/ 提出/ 一种/ 交通/ 摄像机/ 单目/ 模型/ ./ 4.1/ 摄像机/ 传统/ 坐标系/ (/ 1/ )/ 图像/ 坐标系/ u/ -/ v/ 在/ 图像/ 平面/ 上/ 建立/ 的/ 以/ 像素/ 为/ 单位/ 度量/ 的/ 坐标/ 系统/ ./ (/ u/ ,/ v/ )/ 表示/ 图像/ 坐标系/ 坐标/ ,/ u/ ,/ v/ 分别/ 对应/ 每个/ 像素/ 的/ 行数/ 和/ 列数/ ,/ 且/ 均/ 为/ 整数/ ./ (/ 2/ )/ 成像/ 平面/ 坐标系/ x/ -/ y/ 区别/ 于/ 图像/ 像素/ 平面坐标/ ,/ 成像/ 平面坐标/ 以/ 物理/ 单位/ 度量/ ,/ 如/ 厘米/ ./ x/ ,/ y/ 轴/ 分别/ 平行/ 于/ u/ ,/ v/ 轴/ ,/ 每个/ 像素/ 在/ x/ ,/ y/ 方向/ 上/ 的/ 物理/ 尺寸/ 用/ dx/ ,/ dy/ 表示/ ./ 摄像机/ 光轴/ 与/ 图像/ 平面/ 的/ 交点/ 为/ O1/ ,/ 通常/ 在/ 图像/ 中心/ 位置/ ,/ 如图/ 10/ 所示/ ./ (/ 3/ )/ 摄像机/ 坐标系/ Xc/ -/ Yc/ -/ ZcXc/ 轴/ 与/ Yc/ 轴/ 分别/ 平行/ 于/ 成像/ 平面/ 坐标系/ 的/ x/ 轴/ 与/ y/ 轴/ ./ Zc/ 轴为/ 摄像机/ 光轴/ ,/ 且/ 垂直于/ 图像/ 平面/ ./ Oc/ 表示/ 坐标系/ 原点/ ,/ 即/ 摄像机/ 光心/ ./ (/ 4/ )/ 世界/ 坐标系/ Xw/ -/ Yw/ -/ Zw/ 世界/ 坐标系/ 是/ 场景/ 中/ 用来/ 描述/ 摄像机/ 位置/ 的/ 基准/ 坐标系/ ,/ 同时/ 可用/ 来/ 确定/ 物体/ 相对/ 位置/ ./ 为/ 简化/ 坐标/ 变换/ 公式/ ,/ 具体/ 在/ 应用/ 时/ 可/ 选择/ 环境/ 中/ 一些/ 具有/ 特定/ 意义/ 的/ 点/ 作为/ 世界/ 坐标系/ 的/ 原点/ ./ 摄像机/ 传统/ 坐标系/ 如图/ 10/ 所示/ ./ 摄像机/ 线性/ 模型/ (/ 针孔/ 模型/ )/ 实现/ 了/ 世界坐标/ 与/ 图像/ 坐标/ 的/ 转换/ ./ 4.2/ 均/ 质雾/ 天下/ 交通/ 摄像机/ 单目/ 模型/ 在/ 摄像机/ 线性/ 模型/ 基础/ 上/ ,/ 作者/ 给出/ 一种/ 均/ 质雾/ 天下/ 的/ 交通/ 摄像机/ 单目/ 模型/ [/ 21/ ]/ ./ 设/ 场景/ 中/ 摄像机/ 距离/ 路面/ 的/ 垂直/ 高度/ h/ ,/ 车道/ 边缘/ 线/ L1/ ,/ L2/ ,/ 摄像机/ 俯角/ φ/ (/ 垂直/ 偏转/ 角度/ )/ ,/ 偏角/ θ/ (/ 摄像机/ 所在/ 铅垂/ 面/ 与/ 车道/ 边缘/ 线/ 夹角/ )/ ./ 世界/ 坐标系/ 原点/ 为/ 摄像机/ 光轴/ 与/ 路面/ 的/ 交点/ ,/ Yw/ 轴为/ 摄像机/ 所在/ 铅垂/ 面/ 与/ 路面/ 的/ 交线/ ,/ Zw/ 轴/ 垂直于/ 路面/ ./ 摄像机/ 光心/ 到/ 世界/ 坐标系/ 原点/ 距离/ 表示/ 为/ F/ ,/ 且/ F/ =/ h/ ×/ csc/ φ/ ./ 如图/ 11/ 所示/ ./ Page7/ 另外/ ,/ 为/ 简化/ 模型/ ,/ 在/ 摄像机/ 传统/ 坐标系/ 基础/ 上/ 增加/ U/ -/ V/ -/ W/ 坐标系/ ./ 该/ 坐标系/ 中/ U/ 轴/ 平行/ 于/ Xw/ ,/ V/ 和/ W/ 轴/ 是/ 通过/ Zw/ 和/ Yw/ 轴/ 旋转/ φ/ 角/ 得到/ 的/ ./ 图像/ 像素/ 坐标/ 与/ 世界坐标/ 之间/ 的/ 关系/ 满足/ 其中/ ,/ ax/ =/ f/ // dx/ 以及/ ay/ =/ f/ // dy/ 均/ 为/ 摄像机/ 内参/ ,/ (/ u0/ ,/ v0/ )/ 为/ 图像/ 像素/ 坐标系/ 原点/ 位置/ ,/ (/ u/ ,/ v/ )/ 是/ 图像/ 像素/ 坐标系/ 内/ 的/ 任意/ 一点/ ./ 通过/ U/ -/ V/ -/ W/ 坐标系/ 与/ Xc/ -/ Yc/ -/ Zc/ 之间/ 的/ 旋转/ 关系/ ,/ 可以/ 得到/ 摄像机/ 坐标/ 与/ 世界坐标/ 存在/ 如下/ 关系/ :/ 结合/ 上述/ 公式/ 整理/ 得到/ Yw/ =/ 将式/ (/ 8/ )/ 代入/ 式/ (/ 7/ )/ ,/ 求出/ ZcZc/ =/ sin/ φ/ ×/ [/ sin/ φ/ ×/ α/ y/ -/ cos/ φ/ ×/ (/ v/ -/ v0/ )/ ]/ 5/ 基于/ 均质/ 雾天/ 的/ 摄像机/ 参数/ 校正/ 摄像机/ 标定/ 模块/ 首先/ 利用/ 暗/ 原色/ 先验/ 原理/ 计算/ 场景/ 中/ 各点/ 的/ 透射率/ ,/ 并/ 结合/ 交通/ 摄像机/ 单目/ 模型/ 给出/ 参数/ α/ 、/ u0/ 、/ v0/ 以及/ φ/ 的/ 标定/ 公式/ ;/ 其次/ 选取/ 路面/ 上/ 具有/ 特定/ 透射率/ 的/ 8/ 个点/ 初步/ 标定/ 摄像机/ 内部/ 参数/ ;/ 最后/ 提取/ 车辆/ 运行/ 轨迹/ 得到/ 消失/ 点/ ,/ 利用/ 车道/ 边缘/ 线/ 实现/ 摄像机/ 外部/ 参数/ 动态/ 标定/ ./ 5.1/ 基于/ 暗/ 原色/ 先验/ 原理/ 计算/ 场景/ 透射率/ 暗/ 原色/ 先验/ 原理/ 是/ He/ 等/ 人/ [/ 22/ ]/ 根据/ 大量/ 图像/ 数据/ 统计/ 得出/ 的/ 一种/ 经验性/ 规律/ ./ 该/ 原理/ 表明/ 户外/ 无雾/ 图像/ 在/ 非/ 天空/ 的/ 局部/ 范围/ 内/ ,/ 至少/ 在/ RGB/ 中/ 一个/ 颜色/ 通道/ 上/ 有/ 一些/ 灰度/ 值/ 很/ 低/ 的/ 像素/ ./ 对于/ 图像/ J/ ,/ 点/ x/ 处/ 的/ 暗/ 原色/ 定义/ 为/ 其中/ :/ c/ ∈/ {/ R/ ,/ G/ ,/ B/ }/ ;/ x/ ,/ y/ 是/ 图像/ 上/ 的/ 坐标/ 点/ ;/ Jc/ (/ y/ )/ 表示/ 点/ y/ 上/ J/ 的/ 某/ 一/ 颜色/ 通道/ ;/ Ω/ (/ x/ )/ 表示/ 以点/ x/ 为/ 中心/ 的/ 一块/ 方形/ 区域/ ./ 在/ 雾/ 霾/ 天气/ 条件/ 下/ ,/ 由于/ 图像/ 被/ 雾/ 干扰/ 而/ 受到/ 大气/ 白光/ 成分/ 的/ 充斥/ ,/ 导致/ 这些/ 暗/ 像素/ 的/ 强度/ 值变/ 高/ ./ 因此/ ,/ 雾天/ 退化/ 图像/ 中/ 的/ 暗/ 像素/ 可以/ 直接/ 用来/ 估计/ 雾天/ 光线/ 的/ 透射率/ ./ 本/ 部分/ 利用/ 暗/ 原色/ 先验/ 原理/ 计算/ 场景/ 透射率/ ,/ 透射率/ t/ (/ x/ )/ 为/ 对于/ 图像/ 的/ 天空/ 部分/ 暗/ 原色/ 先验/ 一般/ 不/ 适用/ ,/ 而/ 雾天/ 天气/ 条件/ 下/ 的/ 天空/ 光照/ 贴近/ 于/ 大气/ 光/ 强度/ A/ ,/ 满足/ 将式/ (/ 12/ )/ 代入/ 式/ (/ 11/ )/ 得出/ 天空/ 区域/ 的/ 透射率/ 趋于/ 0/ ./ 因此/ 式/ (/ 11/ )/ 对/ 天空/ 区域/ 与非/ 天空/ 区域/ 均/ 适用/ ./ 本文/ 对/ 3/ 个/ 不同/ 雾天/ 场景/ 下/ 的/ 背景/ 图像/ ,/ 按照/ 暗/ 原色/ 原理/ (/ 式/ (/ 11/ )/ )/ 分别/ 求取/ 图像/ 上/ 各点/ 的/ 透射率/ ,/ 利用/ SoftMatting/ (/ 软/ 抠/ 图/ )/ [/ 22/ ]/ 优化/ 后/ 将/ 透射率/ 映射/ 到/ [/ 0/ ~/ 255/ ]/ 范围/ 内/ ,/ 透射率/ 显示/ 结果/ 如图/ 12/ 所示/ ./ 图/ 123/ 个/ 场景/ 下/ 的/ 原始/ 图像/ 与/ 相应/ 的/ 透射率/ 图像/ 5.2/ 校正/ 摄像机/ 内/ 参数/ α/ ,/ 狌/ 0/ ,/ 狏/ 0/ 和/ φ/ 5.2/ ./ 1/ 摄像机/ 内/ 参数/ 校正/ 摄像机/ 内/ 参数/ 校正/ 方程/ 的/ 具体/ 推导/ 过程/ 详见/ 附录/ ,/ 本/ 部分/ 仅/ 说明/ 校正/ 方程/ 生成/ 的/ 原理/ ./ 路面/ 区域/ 点到/ 摄像机/ 的/ 距离/ d/ (/ x/ )/ 可由该/ 点/ 的/ 摄像机/ 坐标/ 得到/ 由式/ (/ 3/ )/ 通过/ 变换/ 得出/ 路面/ 上/ 任意/ 一点/ 到/ 摄像机/ 的/ 距离/ d/ (/ x/ )/ =/ -/ lnt/ (/ x/ )/ // k/ ./ 对于/ 场景/ 中/ 的/ 任/ 一点/ ,/ 由于/ 消光系数/ k/ 是/ 未知/ 的/ ,/ 只/ 通过/ 式/ (/ 3/ )/ 中/ 的/ 距离/ d/ (/ x/ )/ 仍/ 不可/ 求/ ./ 为/ 减少/ 未知数/ ,/ 选取/ 路面/ 上/ 的/ 两个/ 点/ x1/ 和/ x2/ 消去/ 大气/ 消光系数/ k/ ,/ 整理/ 得到/ u1/ -/ u/ (/ u2/ -/ v/ (/ Page8/ 其中/ ,/ 式/ (/ 14/ )/ 是/ 一个/ 二次方程/ 混合/ 三角方程/ ./ 方程/ 中/ 的/ 参数/ α/ ,/ u0/ ,/ v0/ 和/ φ/ 均/ 未知/ (/ 四元/ 方程/ )/ ,/ 较难/ 求解/ ./ 文中/ 通过/ 选取/ 具有/ 特殊/ 透射率/ 值/ 的/ 路面/ 区域/ 点以/ 简化/ 方程/ 求解/ ./ 具体方法/ 是/ 按照/ 一定/ 的/ 约束/ 同时/ 选取/ 图像/ 上/ 的/ 4/ 个/ 点将/ 方程/ 的/ 二次/ 项/ 部分/ 消掉/ ,/ 从而/ 把/ 二次方程/ 转化/ 为/ 一次方程/ ./ 其中/ ,/ 约束条件/ 为/ 所/ 选取/ 的/ 4/ 个点/ 必须/ 满足/ 两/ 两/ 位于/ 路面/ 区域/ 的/ 同一/ 行/ ,/ 同时/ 结合/ 局部/ 纹理/ 特征/ 以/ 排除/ 噪声/ 干扰/ ./ 设/ 搜索/ 得到/ 的/ 4/ 个点/ 分别/ 为/ x1/ =/ (/ u1/ ,/ v1/ )/ ,/ x2/ =/ (/ u2/ ,/ v2/ )/ ,/ x3/ =/ (/ u3/ ,/ v3/ )/ 以及/ x4/ =/ (/ u4/ ,/ v4/ )/ ,/ 根据/ 约束/ 关系/ 有/ v1/ =/ v2/ ,/ v3/ =/ v4/ ,/ 则/ 同一/ 行/ 的/ 2/ 个点/ 分别/ 有/ (/ u1/ -/ u0/ )/ 2/ +/ v1/ -/ v/ (/ (/ u3/ -/ u0/ )/ 2/ +/ v3/ -/ v/ (/ 令/ lnt/ (/ x1/ )/ [/ lnt/ (/ x2/ 整理/ 得到/ 如下/ 一次方程/ 2/ (/ u3/ -/ Bu4/ )/ [/ 1/ -/ B/ 为了/ 求/ 出/ 参数/ u0/ ,/ v0/ 需要/ 构建/ 2/ 个/ 一次方程/ ,/ 类似/ 地/ 在/ 图像/ 其余/ 场/ 景点/ 内/ 重新/ 选择/ 两对/ 位于/ 道路/ 区域/ 同一/ 行/ 的/ 4/ 个/ 路面/ 坐标/ 点/ ,/ 假设/ 此时/ 所/ 选择/ 的/ 这/ 4/ 个点/ 分别/ 为/ x5/ =/ (/ u5/ ,/ v5/ )/ ,/ x6/ =/ (/ u6/ ,/ v6/ )/ ,/ x7/ =/ (/ u7/ ,/ v7/ )/ 和/ x8/ =/ (/ u8/ ,/ v8/ )/ ,/ 且/ 满足/ 约束/ v5/ =/ v6/ ,/ v7/ =/ v8/ ,/ 得到/ 2/ (/ u7/ -/ Du8/ )/ [/ 1/ -/ D/ 其中/ ,/ C/ =/ (/ 17/ )/ 、/ 方程/ (/ 18/ )/ 求/ 出/ 摄像机/ 参数/ u0/ ,/ v0/ 后/ ,/ 将/ 结果/ 代入/ 式/ (/ 14/ )/ 、/ (/ 15/ )/ ,/ 可/ 计算/ 出/ 其他/ 摄像机/ 参数/ ./ 5.2/ ./ 2/ 标定/ 点/ 选取/ 与/ 摄像机/ 标定/ 过程/ 选取/ 路面/ 上/ 具有/ 特定/ 透射率/ 的/ 8/ 个点/ ,/ 分/ 4/ 步/ 校正/ 摄像机/ 内/ 参数/ ./ (/ 1/ )/ 计算/ 参数/ u0/ ,/ v0/ 首先/ 对/ 路面/ 区域/ 上/ 每/ 一行/ 选取/ 两个/ 透射率/ 差/ 最大/ 的/ 点/ 对/ ,/ 根据/ 本文/ 第/ 3/ 节/ 区域/ 搜索算法/ 可知/ ,/ 路面/ 区域/ 在/ 图像/ 上/ 从/ L/ +/ 1/ ~/ 240/ 行/ ./ 为/ 保证/ 算法/ 的/ 鲁棒性/ ,/ 本文/ 进一步/ 对/ 每/ 一个/ 选取/ 点/ 做/ 噪声/ 检测/ ,/ 以/ 去除/ 路面/ 上/ 可能/ 存在/ 的/ 车道/ 线/ 损坏/ 等/ 干扰/ 噪声/ ,/ 具体方法/ 为/ :/ ①/ 选取/ 点/ 3/ ×/ 3/ 小/ 范围/ 内/ 计算/ 纹理/ 特征/ 并/ 匹配/ ,/ 不/ 满足条件/ 则/ 丢弃/ ./ ②/ 选取/ 点/ 3/ ×/ 3/ 小/ 范围/ 内/ 计算/ 像素/ 平均/ 灰度/ 值/ 并/ 匹配/ ,/ 不/ 满足条件/ 则/ 丢弃/ ./ 路面/ 图像/ 经过/ 自顶/ 而/ 下/ 的/ 搜索/ 之后/ ,/ 产生/ 点/ 对/ 集合/ ,/ 设/ 为/ (/ Pi/ ,/ 1/ ,/ Pi/ ,/ 2/ )/ ,/ 其中/ i/ =/ L/ +/ 1/ ,/ …/ ,/ 240/ ./ 其次/ ,/ 在/ 所/ 搜索/ 的/ 点/ 对/ 集合/ 中/ 选取/ 4/ 对/ 透射率/ 差值/ 最大/ 的/ 点/ ,/ 分别/ 设/ 为/ (/ x1/ ,/ x2/ )/ ,/ (/ x3/ ,/ x4/ )/ ,/ (/ x5/ ,/ x6/ )/ 和/ (/ x7/ ,/ x8/ )/ ./ 将点/ 对/ 坐标值/ 以及/ 相应/ 透射率/ 值/ 代入/ 式/ (/ 17/ )/ 和/ 式/ (/ 18/ )/ ,/ 计算/ 参数/ u0/ ,/ v0/ ./ (/ 2/ )/ 校正/ 摄像机/ 内参/ α/ 从点/ 对/ (/ x1/ ,/ x2/ )/ ,/ (/ x3/ ,/ x4/ )/ ,/ (/ x5/ ,/ x6/ )/ 和/ (/ x7/ ,/ x8/ )/ 中/ 选择/ 一对/ 具有/ 最大/ 透射率/ 差/ 的/ 点/ ,/ 将点/ 对/ 坐标值/ 以及/ 相应/ 透射率/ 值/ 代入/ 式/ (/ 15/ )/ 中/ ,/ 求解/ 参数/ α/ ./ (/ 3/ )/ 校正/ 摄像机/ 内参/ φ/ 从/ 上述/ 8/ 个/ 点中/ 选取/ 两个/ 点/ ,/ 路面/ 上/ 这两点/ 满足/ 纵坐标/ 不同/ 且/ 透射率/ 值/ 相差/ 最大/ ./ 把/ 这两点/ 的/ 坐标/ 和/ 计算/ 出/ 的/ 透射率/ 值/ 代入/ 式/ (/ 14/ )/ 中/ ,/ 求解/ 参数/ φ/ ./ (/ 4/ )/ 完成/ 摄像机/ 内/ 参数/ 初步/ 校正/ 最后/ ,/ 对/ 视频/ 序列/ 每帧/ 图像/ 计算/ 内参/ u0/ ,/ v0/ ,/ α/ 和/ φ/ ,/ 取/ 平均值/ 后/ 作为/ 摄像机/ 内参/ 标定/ 结果/ ./ 摄像机/ 内参/ 标定/ 完成/ 后/ ,/ 采用/ 坐标/ 变换/ 公式/ 可/ 将/ 图像/ 坐标系/ 中路/ 面上/ 的/ 点/ 对应/ 转换/ 到/ 摄像机/ 坐标/ ,/ 转换/ 公式/ 如下/ Xc/ =/ sin/ φ/ ×/ α/ -/ cos/ φ/ ×/ (/ v/ -/ v0/ )/ Yc/ =/ sin/ φ/ ×/ α/ -/ cos/ φ/ ×/ (/ v/ -/ v0/ )/ Zc/ =/ sin/ φ/ ×/ [/ sin/ φ/ ×/ α/ -/ cos/ φ/ ×/ (/ v/ -/ v0/ )/ ]/ -/ 5.3/ 校正/ 摄像机/ 外/ 参数/ 犺/ ,/ θ/ 和/ 犱/ 本节/ 首先/ 选择/ 路面/ 区域/ 中/ 的/ 两个/ 点/ 计算/ 摄像机/ 高度/ h/ ;/ 然后/ 通过/ Camshift/ 算法/ 跟踪/ 车辆/ 的/ 运行/ 轨迹/ 估计/ 场景/ 消失/ 点/ xe/ ,/ 结合/ 场景/ 活动/ 图/ 得到/ 与/ 摄像机/ 距离/ 最近/ 的/ 车道/ 边缘/ 线/ L1/ ./ 在/ 图像/ 坐标系/ 中/ 计算/ L1/ 与/ X/ 轴/ 的/ 交点/ xL/ 的/ 横坐标/ u/ (/ xL/ )/ ,/ 通过/ xe/ 和/ u/ (/ xL/ )/ 计算/ 摄像机/ 水平/ 转角/ θ/ 和/ 与/ 路边/ 的/ 间距/ d/ ./ (/ 1/ )/ 摄像机/ 安装/ 高度/ h/ 基于/ 本文/ 第/ 3/ 节/ 得到/ 的/ 活动/ 图/ 和/ 路面/ 纹理/ 特征/ 进一步/ 选取/ 路面/ 上/ 的/ 两个/ 点/ p1/ ,/ p2/ ,/ 根据/ 式/ (/ 2/ )/ 变换/ Page9/ 得出/ 场景/ 距离/ ,/ 结合/ 式/ (/ 13/ )/ 计算/ 得到/ lnt/ (/ p1/ )/ lnt/ (/ p2/ )/ 在/ 已/ 求得/ 摄像机/ 参数/ α/ ,/ u0/ ,/ v0/ 以及/ φ/ 的/ 情况/ 下/ ,/ 式/ (/ 20/ )/ 仅/ 含有/ 一个/ 未知数/ h/ ,/ 通过/ 多/ 帧/ 取/ 平均/ 即/ 得到/ h/ 值/ ./ (/ 2/ )/ 基于/ 车辆/ 行驶/ 轨迹/ 的/ 消失/ 点/ 提取/ 在/ 非/ 结构化/ 道路/ 中/ 往往/ 无法/ 通过/ 车道/ 线/ 提取/ 消失/ 点/ ./ 由于/ 任意/ 两条/ 平行/ 直线/ 在/ 无穷/ 远处/ 相交/ 于/ 消失/ 点/ ,/ 而/ 实际/ 行驶/ 中/ 大多数/ 车辆/ 运行/ 的/ 轨迹/ 近似于/ 平行/ 直线/ ,/ 可以/ 在/ 背景/ 提取/ 的/ 基础/ 上/ 通过/ Camshift/ 算法/ 跟踪/ 车辆/ 轨迹/ 提取/ 消失/ 点/ ./ Bradshi/ [/ 23/ ]/ 提出/ 了/ 连续/ 自/ 适应/ 均值/ 漂移/ 算法/ (/ ContinuouslyAdaptiveMeanShift/ ,/ Camshift/ )/ ,/ 可自/ 适应/ 跟踪/ 并/ 调整/ 目标/ 窗口/ 大小/ ,/ 实现/ 了/ 目标/ 的/ 快速/ 定位/ ./ 基于/ Camshift/ 算法/ 的/ 消失/ 点/ 提取/ 流程/ 见图/ 13/ ./ 图/ 14/ 给出/ 了/ 基于/ Camshift/ 的/ 轨迹/ 提取/ 、/ 消失/ 点估计/ 结果/ ./ 图/ 14/ 基于/ Camshift/ 的/ 轨迹/ 提取/ 、/ 消失/ 点估计/ 结果/ (/ 3/ )/ 校正/ 摄像机/ 转角/ θ/ 根据/ 第/ 2/ 节均质/ 雾天/ 摄像机/ 单目/ 模型/ 得到/ 消失/ 点/ xe/ (/ ue/ ,/ ve/ )/ 横坐标/ 表达式/ 则/ 摄像机/ 参数/ θ/ 将/ 消失/ 点/ 横坐标/ ue/ 、/ 摄像机/ 内/ 参数/ α/ ,/ φ/ 代入/ 式/ (/ 22/ )/ 得到/ 转角/ θ/ ./ (/ 4/ )/ 校正/ 摄像机/ 与/ 路边/ 的/ 间距/ d/ 图/ 15/ 为/ 摄像机/ 在/ 路面/ 的/ 垂直/ 投影/ 与/ 车道/ 边缘/ 线/ L1/ ,/ L2/ 的/ 鸟瞰图/ ,/ 其中/ L1/ ,/ L2/ 与/ Xw/ ,/ Yw/ 轴/ 分别/ 相交/ 于/ Q1/ ,/ Q2/ ,/ Q3/ 和/ Q4/ ./ 根据/ 几何/ 关系/ 有/ Yw/ (/ Q1/ )/ -/ Yw/ (/ Q2/ )/ =/ Xw/ (/ Q2/ )/ cot/ θ/ ,/ 结合/ 摄像机/ 单目/ 模型/ ,/ 得到/ u/ (/ Q2/ )/ =/ u0/ +/ 其中/ ,/ u/ (/ Q2/ )/ 表示/ 点/ Q2/ 在/ 图像/ 像素/ 平面/ 的/ 横坐标/ ./ 由式/ (/ 23/ )/ 知/ ,/ 通过/ 求解/ u/ (/ Q2/ )/ 可/ 估计/ 摄像机/ 与/ 路边/ 的/ 间距/ d/ 值/ ./ 首先/ 估计/ 车道/ 边缘/ 线/ L1/ ,/ L2/ 的/ 位置/ ,/ 在/ 场景/ 活动/ 图中/ 沿/ 底部/ 统计/ 任/ 一点/ 与/ 消失/ 点/ xe/ 连线/ 上/ 的/ 像/ Page10/ 素/ 灰度/ ./ 将/ 数据/ 归一化/ 到/ [/ 0/ ,/ 1/ ]/ ,/ 通过/ 低通滤波器/ 滤波/ ,/ 得到/ 一个/ 以/ u/ 为/ 自变量/ 的/ 信号/ 序列/ ,/ 如图/ 16/ 所示/ ./ 统计/ 信号/ 序列/ 所有/ 强度/ 大于/ 0.5/ 的/ 波峰/ ,/ 如果/ 存在/ N/ 个/ 波峰/ (/ up/ )/ ,/ 则/ 必/ 存在/ N/ -/ 1/ 个/ 波谷/ (/ uv/ )/ ,/ 记/ 波峰/ 与/ 波谷/ 车道/ 线/ 间距/ 为/ Δ/ u/ ,/ uv/ 的/ 平均值/ 为/ u/ -/ v/ 估计/ 各/ 车道/ 线/ 区域/ 和/ 车行道/ 边缘/ :/ u/ -/ u/ ^/ v/ (/ i/ )/ =/ u/ -/ 其中/ ,/ 当/ i/ =/ 0/ ,/ i/ =/ Nv/ +/ 1/ 时/ ,/ 式/ (/ 24/ )/ 分别/ 表示/ 车道/ 边缘/ 线/ L1/ ,/ L2/ ,/ 相应/ 的/ 车道/ 区域/ 划分/ 结果/ 如图/ 17/ 所示/ ./ 为/ 计算/ 交点/ Q2/ 的/ 横坐标/ ,/ 需/ 要求/ 出/ L1/ 与/ Xw/ 轴/ 在/ 图像/ 平面/ 上/ 的/ 方程/ ,/ 联立方程/ 求/ 出/ 未知数/ :/ 其中/ ,/ v/ =/ v0/ ,/ v/ =/ 示/ Xw/ 轴/ 与/ 路边/ 线/ L1/ 在/ 图像/ 平面/ 上/ 的/ 方程/ ./ 通过/ 式/ (/ 25/ )/ 求解/ u/ (/ Q2/ )/ ,/ 结果/ 代入/ 式/ (/ 23/ )/ 得到/ 摄像机/ 到/ 路边/ 的/ 距离/ d/ ./ 综上/ 可知/ ,/ 摄像机/ 的/ 7/ 个/ 内外/ 参数/ :/ u0/ ,/ v0/ ,/ α/ ,/ φ/ ,/ h/ ,/ θ/ 以及/ 路边/ 距/ d/ 均/ 已求/ 出/ ./ 6/ 实验/ 结果/ 与/ 分析/ 实验/ 采集/ 快速/ 路上/ 的/ 3/ 个/ 典型/ 均质/ 雾天/ 视频/ (/ 视频/ 由/ 路边/ 摄像机/ 拍摄/ ,/ 拍摄/ 时间/ 在/ 上午/ 9/ 点到/ 10/ 点/ )/ ,/ 3/ 个/ 视频/ 序列/ 依次/ 标记/ 为/ V1/ ,/ V2/ ,/ V3/ ,/ 对应/ 摄像机/ (/ 摄像机/ 内参/ 相同/ 、/ 外参/ 不同/ )/ 分别/ 为/ C1/ ,/ C2/ ,/ C3/ ./ 3/ 个/ 视频/ 各/ 包含/ 1000/ 帧/ 图像/ ,/ 且/ 视频/ 图像/ 尺寸/ 统一/ 规范化/ 为/ 320/ ×/ 240/ 像素/ ./ 图/ 18/ 给出/ 了/ 3/ 个/ 视频/ 序列/ 第/ 800/ 帧/ 时/ 的/ 原始/ 图像/ ./ 由于/ 摄像机/ 标定/ 算法/ 需/ 采用/ 背景/ 图像/ ,/ 而/ 背景/ 生成/ 与/ 更新/ 往往/ 存在/ 时延/ ,/ 本文/ 实验/ 中/ 摄像机/ 参数/ 的/ 标定/ 和/ 能见度/ 估计/ 都/ 在/ 第/ 500/ 帧/ 之后/ 进行/ ./ 本文/ 算法/ 运行/ 环境/ 的/ 处理器/ 为/ 英特尔/ 奔腾/ 4/ 内存/ 2.0/ GHz/ 的/ PC机/ ,/ 采用/ VC6/ ./ 0/ 与/ OpenCV/ 混合/ 编译/ 环境/ ./ 验证/ 实验/ 分为/ 3/ 个/ 部分/ :/ 第/ 1/ 部分/ 是/ 根据/ 所/ 提出/ 的/ 算法/ 获取/ 视频/ V1/ ,/ V2/ 和/ V3/ 各自/ 第/ 800/ 帧/ 图像/ 路面/ 区域/ 内/ 的/ 4/ 组/ 标定/ 点/ 以及/ 对应/ 生成/ 的/ 4/ 个/ 摄像机/ 标定/ 方程/ ,/ 并/ 给出/ 摄像机/ 7/ 个/ 内外/ 参数/ 的/ 标定/ 结果/ ;/ 第/ 2/ 部分/ 是/ 将/ 本文/ 算法/ 与/ Todd/ [/ 12/ ]/ 、/ 郭凡/ 等/ 人/ [/ 24/ ]/ 提出/ 的/ 标定/ 算法/ 进行/ 比较/ 以/ 验证/ 本文/ 算法/ 的/ 有效性/ ;/ 第/ 3/ 部分/ 是/ 将/ 标定/ 结果/ 应用/ 到/ 雾天/ 能见度/ 检测/ 上/ ,/ 计算/ 得到/ 3/ 个/ 视频/ 的/ 能见度/ 序列/ 第/ 500/ ~/ 1000/ 帧/ 的/ 统计/ 结果/ ,/ 并/ 将/ 结果/ 与/ 能见度/ 仪/ 检测/ 的/ 数据/ 做/ 比较/ ./ 设/ 提取/ 的/ 8/ 个/ 满足/ 约束/ 关系/ 的/ 标定/ 点为/ xj/ 中/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ 8/ ;/ j/ =/ 1/ ,/ 2/ ,/ 3/ ,/ 分别/ 对应/ V1/ ,/ V2/ ,/ V3/ ./ 表/ 1/ 、/ 表/ 2/ 、/ 表/ 3/ 给出/ 了/ 3/ 个/ 视频/ 序列/ 在/ 第/ 800/ 帧/ 时/ 的/ 图像/ 标定/ 点/ 搜索/ 结果/ ;/ 利用/ 标定/ 点/ 搜索/ 结果/ 确定/ 的/ 摄像机/ 标定/ 一次方程/ 、/ 二次方程/ 和/ 三角方程/ 见式/ (/ 26/ )/ ~/ (/ 28/ )/ ;/ 表/ 4/ 给出/ 了/ 3/ 个/ 摄像机/ C1/ ,/ C2/ 和/ C3/ 在/ 视频/ 第/ 800/ 帧/ 时/ 摄像机/ 内外/ 7/ 个/ 参数/ 的/ 标定/ 结果/ ,/ 表/ 5/ 给出/ 了/ 视频/ 序列/ 在/ 第/ 1000/ 帧/ 结束/ 时/ 参数/ 均值/ 化后/ 的/ 结果/ ./ 图/ 19/ 给出/ 了/ 3/ 个/ 视频/ 序列/ 中/ 的/ 车道/ 分界线/ 提取/ 结果/ ./ 选取/ 点/ x11x12x13x14Page11/ 选取/ 点/ x21x22x23x24/ 选取/ 点/ x31x32x33x34/ 表/ 4/ 本文/ 方法/ 第/ 800/ 帧/ 犆/ 1/ ,/ 犆/ 2/ ,/ 犆/ 3/ 各/ 参数/ 标定/ 结果/ 第/ 800/ 帧/ u0C1C2C3/ 表/ 5/ 本文/ 方法/ 第/ 1000/ 帧/ 参数/ 标定/ 平均/ 结果/ (/ 多/ 帧/ 平均/ )/ 第/ 1000/ 帧/ u0C1C2C3/ 将/ 本文/ 算法/ 与/ Todd/ 算法/ 、/ 郭凡/ 算法/ 提出/ 的/ 标定/ 算法/ 分别/ 进行/ 对比/ 研究/ ./ 郭凡/ 所/ 提出/ 的/ 基于/ 消失/ 点/ 的/ 摄像机/ 标定/ 方法/ 需要/ 已知/ 车道/ 线/ 信息/ ,/ 但/ 在/ 大雾/ 天气/ 条件/ 下车/ 道线/ 不易/ 检测/ ,/ 因而/ 该/ 算法/ 具有/ 一定/ 的/ 局限性/ ,/ 不适/ 用于/ 非/ 结构化/ 的/ 道路/ 环境/ ./ Todd/ 算法/ 虽然/ 适用/ 于/ 非/ 结构化/ 道路/ ,/ 但/ 因/ 摄像机/ 模型/ 中未/ 引入/ 均质/ 雾天/ ,/ 计算/ 过程/ 较为/ 繁琐/ ./ 表/ 6/ 给出/ 了/ 这/ 两种/ 算法/ 在/ 3/ 个/ 视频/ 的/ 第/ 800/ 帧/ 标定/ 结果/ ./ 算法/ Todd/ (/ C1/ )/ 14311812.03726/ ./ 238.10/ ./ 48Todd/ (/ C2/ )/ 15212111.23666/ ./ 348.10/ ./ 59Todd/ (/ C3/ )/ 1491219.23676/ ./ 137.10/ ./ 58/ 郭凡/ (/ C1/ )/ 14811610.23685/ ./ 539.10/ ./ 47/ 郭凡/ (/ C2/ )/ 1481208.43695/ ./ 440.90/ ./ 57/ 郭凡/ (/ C3/ )/ 15011913.03666/ ./ 538.30/ ./ 54/ 从表/ 5/ 、/ 表/ 6/ 可以/ 看出/ ,/ 本文/ 所/ 提出/ 的/ 基于/ 均质/ 雾天/ 的/ 摄像机/ 标定/ 算法/ 与/ Todd/ 算法/ 、/ 郭凡/ 算法/ 计算结果/ 相近/ ,/ 比较/ 结果/ 验证/ 了/ 算法/ 的/ 有效性/ ./ 图/ 20/ 给出/ 了/ 3/ 个/ 不同/ 的/ 视频/ 序列/ 在/ 3/ 种/ 不同/ 算法/ (/ 图中/ 分别/ 用/ 不同/ 曲线/ 表示/ )/ 下/ 的/ 摄相机/ 内外/ 参数/ u0/ ,/ v0/ ,/ α/ ,/ φ/ ,/ h/ ,/ θ/ 以及/ 路边/ 距/ d/ 的/ 统计/ 结果/ ./ 其中/ ,/ 每/ 一个/ 参数/ 统计/ 结果/ 从左到右/ 3/ 幅图/ 所/ 采用/ 的/ 视频/ 序列号/ 依次/ 为/ V1/ ,/ V2/ ,/ V3/ ./ 每/ 一幅/ 子图/ 横坐标/ 表示/ 视频/ 帧/ 的/ 数目/ (/ 从/ 第/ 500/ 帧/ 到/ 第/ 1000/ 帧/ )/ ,/ 纵坐标/ 表示/ 相应/ 参数/ 的/ 校正/ 结果/ ./ 从图/ 中/ 可以/ 看出/ ,/ 本文/ 算法/ 与/ 其他/ 两种/ 算法/ 相比/ 标定/ 结果/ 较为/ 稳定/ ./ 本文/ 利用/ 标定/ 后/ 的/ 摄像机/ 计算/ 路面/ 区域/ 内点/ 到/ 摄像机/ 的/ 距离/ ,/ 结合/ 场景/ 透射率/ 计算/ 大气/ 消光系数/ 并/ 估计/ 雾天/ 道路交通/ 能见度/ ./ 由于/ 每/ 一帧/ 图像/ 可以/ 计算/ 若干个/ 能见度/ ,/ 为了/ 增强/ 能见度/ 计算/ 的/ 准确性/ ,/ 本文/ 将/ 数据/ 取/ 平均/ 后/ 作为/ 当前/ 帧/ 图像/ 的/ 能见度/ 计算结果/ ,/ 多/ 帧/ 图像/ 能见度/ 值取/ 均值/ 最终/ 作为/ 当前/ 视频/ 下/ 的/ 交通/ 能见度/ 的/ 估计值/ ./ 统计/ 3/ 个/ 视频/ 从/ 第/ 500/ 帧/ 到/ 第/ 1000/ 帧/ 的/ 能见度/ 值/ 计算结果/ ,/ 并/ 将/ 结果/ 与/ 基于/ 人工/ 观测/ 的/ 数据/ 和/ 基于/ 能见度/ 仪/ 采集/ 的/ 数据/ (/ 作为/ 基础/ 数据/ )/ 做/ 了/ 比较/ ./ 虽然/ 这/ 两种/ 估计/ 交通/ 能见度/ 的/ 方法/ 是/ 目前/ 主流/ 方法/ ,/ 但是/ 存在/ 观测/ 结果/ 主观性/ 大/ 、/ 设备/ 昂贵/ 、/ 检测/ 范围/ 小/ 等/ 缺点/ ./ 图/ 21/ (/ b/ )/ 、/ (/ d/ )/ 、/ (/ f/ )/ 中/ 实线/ 表示/ 本文/ 算法/ 得到/ 的/ 能见度/ 检测/ 结果/ 与/ 能见度/ 仪/ 数据/ 的/ 误差/ ,/ 虚线/ 表示/ 人工/ 观测/ 数据/ 与/ 能见度/ 仪/ 监测数据/ 的/ 误差/ ./ 从图/ 中/ 可知/ ,/ 本文/ 算法/ 交通/ 能见度/ 估计/ 准确率/ 高于/ 90/ %/ ,/ 满足/ 能见度/ 检测/ 要求/ ./ 另外/ ,/ 本文/ 算法/ 运行/ 环境/ 中/ 处理器/ 为/ 英特尔/ 奔腾/ 4/ 内存/ 2.0/ GHz/ 的/ PC机/ ,/ 对/ 一帧/ 320/ ×/ 240/ 像素/ 图像处理/ ,/ 雾天/ 识别/ 、/ 摄像机/ 参数/ 标定/ 和/ 能见度/ 估算/ 3/ 个/ 模块/ 各/ 耗时/ 10ms/ 、/ 15ms/ 、/ 5ms/ ,/ 共/ 30ms/ (/ 0.03/ s/ )/ ,/ 满足/ 视频/ 实时性/ 处理/ 要求/ ./ Page12/ 图/ 20/ 本文/ 算法/ 、/ Todd/ 算法/ 、/ 郭凡/ 算法/ 3/ 个均质/ 雾天/ 场景/ 下/ 摄像机/ 参数/ 标定/ 结果/ 比较/ Page13/ 图/ 21/ 基于/ 雾天/ 摄像机/ 校正/ 的/ 能见度/ 检测/ 结果/ (/ 第/ 800/ 帧/ )/ 7/ 结论/ 与/ 展望/ 本文/ 结合/ 雾天/ 光线/ 传输/ 模型/ 与/ 摄像机/ 几何/ 光学/ 模型/ 动态/ 标定/ 交通/ 摄像机/ 内外/ 参数/ ,/ 通过/ 计算/ 路面/ 区域/ 点到/ 摄像机/ 的/ 距离/ ,/ 利用/ 场景/ 透射率/ 计算/ 大气/ 消光系数/ 并/ 估计/ 交通/ 能见度/ ./ 文中/ 通过/ 活动/ 图/ 和/ 区域/ 搜索算法/ 提取/ 感兴趣/ 区域/ 并/ 判断/ 出/ 当前/ 天气/ 是否/ 为均质/ 雾天/ ./ 本文/ 将/ 算法/ 中/ 摄像机/ 动态/ 标定/ 模块/ 与/ Todd/ 、/ 郭凡/ 提出/ 的/ 标定/ 算法/ 进行/ 了/ 比较/ 研究/ ,/ 统计/ 了/ 3/ 种/ 算法/ 下/ 3/ 个/ 不同/ 的/ 交通/ 视频/ 序列/ 的/ 能见度/ 值/ ,/ 结果表明/ 本文/ 算法/ 在/ 非/ 结构化/ 道路/ 环境/ 下/ 进行/ 能见度/ 检测/ 的/ 优越性/ ./ 最后/ 把/ 能见度/ 估计/ 结果/ 与/ 能见度/ 仪/ 检测/ 的/ 数据/ 进行/ 了/ 比较/ 分析/ ,/ 从/ 对比/ 结果/ 可以/ 看出/ ,/ 本文/ 算法/ 所/ 计算/ 的/ 交通/ 能见度/ 准确率/ 高于/ 90/ %/ ,/ 能见度/ 估计/ 误差/ 在/ ±/ 10/ %/ 以内/ ,/ 达到/ 了/ 检测/ 的/ 要求/ ;/ 在/ 算法/ 速度/ 方面/ ,/ 一定/ 条件/ 下/ 达到/ 了/ 视频/ 实时性/ 处理/ 要求/ ./ 因此/ ,/ 本文/ 算法/ 具有/ 造价/ 低/ 、/ 处理速度/ 快/ 、/ 动态/ 适应性/ 强/ 等/ 优点/ ,/ 适用/ 于/ 雾天/ 交通/ 场景/ 下/ 的/ 能见度/ 实时/ 检测/ ,/ 在/ 视频/ 交通/ 参数/ 检测/ 方面/ 具有/ 广阔/ 的/ 应用/ 前景/ ./ 

