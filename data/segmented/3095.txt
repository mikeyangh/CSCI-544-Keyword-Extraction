Page1/ 基于/ 一致/ 分布/ 的/ 时间/ Petri/ 网/ 模型/ 潘理/ 1/ )/ ,/ 2/ )/ 丁/ 志军/ 2/ )/ 陈刚/ 2/ )/ 1/ )/ (/ 湖南/ 理工学院/ 信息/ 与/ 通信/ 工程学院/ 湖/ 南岳/ 阳/ 414006/ )/ 2/ )/ (/ 同济大学/ 计算机科学/ 与/ 技术/ 系/ 上海/ 200092/ )/ 摘要/ 时间/ Petri/ 网/ 的/ 现有/ 分析/ 理论/ 主要/ 关注/ 基于/ 区间/ 端点/ 的/ 计算/ 和/ 推理/ ,/ 缺乏/ 对/ 实施/ 区间/ 内/ 不确定性/ 的/ 定量/ 描述/ ,/ 不利于/ 时间/ Petri/ 网/ 进行/ 系统/ 性能/ 评价/ 和/ 动态/ 模拟/ 实现/ ./ 为了/ 解决/ 这一/ 问题/ ,/ 提出/ 基于/ 一致/ 分布/ 的/ 时间/ Petri/ 网/ 模型/ ./ 首先/ 给出/ 变迁/ 实施/ 概率/ 和/ 变迁/ 序列/ 实施/ 概率/ 的/ 计算方法/ ;/ 然后/ 引入/ 概率/ 条件/ 到/ 状态/ 类/ ,/ 用于/ 构造/ 时间/ Petri/ 网/ 的/ 概率/ 可达类/ 树/ ;/ 最后/ 给出/ 动态/ 模拟实验/ ,/ 检验/ 理论/ 方法/ 的/ 正确性/ ./ 关键词/ 时间/ Petri/ 网/ ;/ 一致/ 分布/ ;/ 实施/ 概率/ ;/ 状态/ 类/ 方法/ ;/ 模拟/ 1/ 引言/ 将/ 时间/ 约束/ 引入/ Petri/ 网是/ 应用/ 驱动/ 的/ 结果/ ./ 当/ 我们/ 处理/ 以/ 系统/ 性能/ 或/ 可靠性/ 为/ 设计/ 目标/ 的/ 实时/ 应用/ 时/ ,/ 时间/ 将/ 显得/ 尤为重要/ [/ 1/ ]/ ./ 时间/ 约束/ 可以/ 引入/ 到库/ 所/ 、/ 变迁/ 、/ 弧/ 和/ 令牌/ [/ 2/ -/ 5/ ]/ ,/ 其中/ 引入/ 到/ 变迁/ 是/ 一种/ 常见/ 的/ 时间/ 扩展/ 方式/ ./ 联系/ 到/ 变迁/ 上/ 的/ 时间/ 也/ 有/ 多种形式/ ,/ 其中/ 时延/ Petri/ 网/ (/ timedPetrinets/ )/ 赋给/ 每个/ 变迁/ 一个/ 固定/ 的/ 延时/ [/ 6/ ]/ ;/ 时间/ Petri/ 网/ (/ timePetrinets/ )/ 为/ 每个/ 变迁/ 联系/ 一个/ 时间/ 间隔/ [/ 2/ ]/ ;/ 而/ 随机/ Petri/ 网/ (/ stochasticPetrinets/ )/ 则/ 使用/ 服从/ 某种/ 概率模型/ 的/ 随机变量/ 来/ 描述/ 实施/ 时间/ [/ 3/ ,/ 7/ ]/ ./ 已经/ 证明/ ,/ 时间/ 间隔/ 比/ 固定/ 延时/ 具有/ 更强/ 的/ 表达能力/ [/ 8/ ]/ ,/ 因为/ 间隔/ 既/ Page2/ 能/ 反映/ 事件/ 发生/ 的/ 不确定性/ ,/ 又/ 能/ 刻画/ 事件/ 发生/ 的/ 时限/ 性/ ./ 时间/ Petri/ 网已/ 成为/ 描述/ 和/ 验证/ 实时/ 系统/ 最/ 常用/ 的/ 形式/ 模型/ 之一/ ./ 时间/ 间隔/ 虽然/ 增加/ 了/ 时间/ Petri/ 网/ 的/ 描述/ 能力/ ,/ 但/ 同时/ 也/ 增大/ 了/ 模型/ 分析/ 的/ 困难/ 程度/ ./ 由于/ 每个/ 变迁/ 的/ 实施/ 间隔/ 包含/ 着/ 无穷/ 多个/ 可能/ 的/ 实施/ 时间/ 点/ ,/ 因此/ 时间/ Petri/ 网/ 的/ 状态/ 空间/ 通常/ 是/ 无限/ 的/ ./ 这/ 就/ 需要/ 一种/ 有限/ 的/ 结构/ 来/ 描述/ 这种/ 无限/ 的/ 状态/ 空间/ ./ 状态/ 类/ 方法/ 应运而生/ ,/ 并/ 已/ 成为/ 分析/ 和/ 验证/ 模型/ 时间/ 性质/ 的/ 基本/ 方法/ [/ 8/ -/ 10/ ]/ ./ 特别/ 值得一提的是/ ,/ 清华大学/ 林闯/ 教授/ 提出/ 一种/ 不/ 确定/ 时段/ 的/ 扩展/ 时段/ 时序/ 逻辑/ (/ EITL/ )/ ,/ 给出/ 了/ 一套/ 基于/ 时间/ Petri/ 网/ 模型/ 的/ 推理/ 机制/ ,/ 能/ 在/ 线性/ 时间/ 复杂度/ 内/ 定量/ 计算/ 各/ 变迁/ 之间/ 的/ 时序/ 逻辑关系/ ,/ 是/ 一种/ 简洁/ 、/ 直观/ 、/ 高效/ 的/ 时段/ 推理方法/ [/ 11/ -/ 12/ ]/ ./ 在/ 大多数/ 实际/ 情况/ 下/ ,/ 由于/ 实时/ 系统/ 的/ 离散/ 特性/ 和/ 外界/ 许多/ 不/ 确定/ 因素/ 的/ 影响/ ,/ 一个/ 事件/ 持续/ 的/ 时间/ 并/ 不能/ 预先确定/ 下来/ ,/ 但是/ 事件/ 结束/ 的/ 时间/ 范围/ 多数/ 可以/ 预测/ [/ 11/ ]/ ./ 这时候/ ,/ 使用/ 时间/ Petri/ 网来/ 建模/ 和/ 分析/ 这些/ 系统/ 将/ 是/ 一个/ 合适/ 的/ 选择/ ./ 然而/ ,/ 当/ 我们/ 进一步/ 需要/ 预测/ 事件/ 发生/ 的/ 概率/ 时/ ,/ 或者/ 需要/ 模拟/ 事件/ 的/ 动态/ 行为/ 时/ ,/ 仅仅/ 使用/ 区间/ 端点/ 来/ 处理/ 问题/ 显然/ 是/ 不够/ 的/ ./ 这/ 将/ 迫使/ 我们/ 考虑/ 如何/ 在/ 实施/ 区间/ 内/ 假定/ 一种/ 合理/ 的/ 概率分布/ 来/ 分析/ 这些/ 问题/ ./ 例如/ ,/ 某/ 学生/ 通常/ 采用/ 两种/ 方式/ 上学/ :/ (/ 1/ )/ 直接/ 步行/ ,/ 需用/ 时/ 30/ ~/ 40min/ ;/ (/ 2/ )/ 搭乘/ 公交/ ,/ 需/ 步行/ 到/ 公交车站/ 、/ 乘坐/ 公交车/ 、/ 下车/ 步行/ 到/ 学校/ ,/ 分别/ 用时/ 4/ ~/ 6min/ 、/ 22/ ~/ 30min/ 、/ 4/ ~/ 5min/ ./ 如果/ 我们/ 想/ 知道/ 哪/ 种/ 方式/ 更/ 有/ 可能/ 更快/ 地/ 到达/ 学校/ ,/ 那么/ 就要/ 认真/ 考虑/ 在/ 时间/ 区段/ 内/ 选取/ 合适/ 的/ 概率分布/ 来/ 计算/ 了/ ./ 目前/ ,/ 时间/ Petri/ 网/ 的/ 现有/ 理论/ 成果/ 主要/ 集中/ 于/ 基于/ 区间/ 端点/ 的/ 分析/ 和/ 推理/ ,/ 对/ 时间/ 区段/ 内/ 不确定性/ 的/ 刻画/ 并/ 没有/ 展开/ 实质性/ 研究/ ./ 例如/ ,/ 实施/ 区间/ 是否/ 遵循/ 一定/ 的/ 概率分布/ ?/ 如何/ 模拟/ 事件/ 在/ 区间/ 内/ 的/ 动态/ 行为/ ?/ 这些/ 问题/ 将/ 关系/ 到/ 所建/ 模型/ 是否/ 符合实际/ 系统/ 的/ 需要/ ,/ 关系/ 到/ 模型/ 性能指标/ 的/ 计算/ 以及/ 模型/ 动态/ 模拟/ 的/ 实现/ 等等/ ./ 本文/ 的/ 研究/ 正是/ 致力于/ 这些/ 问题/ 的/ 解决/ ./ 文章/ 初步/ 选取/ 一个/ 基于/ 区间/ 的/ 常用/ 概率模型/ (/ 一致/ 分布/ 模型/ )/ 作为/ 研究/ 对象/ ,/ 假设/ 时间/ Petri/ 网/ 的/ 变迁/ 实施/ 时间/ 在/ 其/ 实施/ 区间/ 上/ 遵循/ 一致/ 分布/ ./ 在/ 此基础/ 之上/ ,/ 围绕/ 变迁/ 实施/ 概率/ 计算/ 、/ 状态/ 类/ 方法/ 以及/ 动态/ 模拟/ 等/ 一系列/ 问题/ 展开/ 深入/ 的/ 研究/ ,/ 总结/ 出/ 一套/ 切实可行/ 的/ 理论/ 计算方法/ ,/ 并/ 利用/ 仿真/ 实验/ 验证/ 理论/ 方法/ 的/ 正确性/ ./ 本文/ 第/ 2/ 节/ 给出/ 一致/ 分布/ 和/ 时间/ Petri/ 网/ 的/ 基本/ 定义/ ;/ 第/ 3/ 节/ 提出/ 基于/ 一致/ 分布/ 的/ 时间/ Petri/ 网/ 模型/ ,/ 给出/ 变迁/ 实施/ 概率/ 、/ 变迁/ 序列/ 实施/ 概率/ 和/ 概率/ 可达类/ 树/ 计算方法/ ;/ 第/ 4/ 节/ 设计/ 基于/ 一致/ 分布/ 的/ 实验/ 方案/ ,/ 对/ 时间/ Petri/ 网/ 进行/ 动态/ 模拟/ 仿真/ ;/ 最后/ 一节/ 总结/ 本文/ ./ 2/ 基本/ 定义/ 2.1/ 一致/ 分布/ 假设/ N/ 是/ 自然数/ 集/ (/ 包括/ 0/ )/ ,/ R/ 是/ 实数/ 集/ ,/ R/ +/ 是非/ 负/ 实数/ 集/ ./ 定义/ 实数/ 闭/ 区间/ I/ =/ {/ x/ ∈/ R/ |/ a/ / x/ / b/ }/ ,/ 记为/ I/ =/ [/ a/ ,/ b/ ]/ ,/ 这里/ a/ ,/ b/ ∈/ R/ 且/ a/ / b/ ./ 在/ 概率论/ 中/ ,/ 连续/ 一致/ 分布/ 是/ 一类/ 常见/ 的/ 概率分布/ ./ 设/ 随机变量/ X/ 的/ 概率密度函数/ 为/ 则/ 称/ X/ 服从/ 参数/ 为/ a/ ,/ b/ 的/ 一致/ 分布/ ,/ 记作/ X/ ~/ U/ (/ a/ ,/ b/ )/ ./ 其/ 相应/ 的/ 累计/ 分布/ 函数/ 为/ FX/ (/ x/ )/ =/ ∫/ x/ 若/ X/ ~/ U/ (/ a/ ,/ b/ )/ ,/ Y/ ~/ U/ (/ c/ ,/ d/ )/ ,/ 且/ X/ ,/ Y/ 相互/ 独立/ ,/ 则/ (/ X/ ,/ Y/ )/ 的/ 联合/ 分布/ 函数/ F/ (/ x/ ,/ y/ )/ 为/ 其中/ ,/ f/ (/ x/ ,/ y/ )/ =/ fX/ (/ x/ )/ ·/ fY/ (/ y/ )/ 是/ (/ X/ ,/ Y/ )/ 的/ 联合/ 密度/ 函数/ ./ 2.2/ 时间/ Petri/ 网用/ IR/ (/ IR/ +/ )/ 表示/ 所有/ (/ 非负/ )/ 实数/ 闭/ 区间/ 的/ 集合/ ./ 设/ I/ ,/ I1/ ,/ I2/ ∈/ IR/ ,/ 且/ I/ =/ [/ a/ ,/ b/ ]/ ,/ 定义/ 闭/ 区间/ 的/ 一元/ 和/ 二元/ 运算/ 如下/ :/ (/ 1/ )/ ↓/ I/ =/ a/ ,/ ↑/ I/ =/ b/ ;/ (/ 2/ )/ |/ I/ |/ =/ ↑/ I/ -/ ↓/ I/ ;/ (/ 3/ )/ I1/ +/ I2/ =/ [/ ↓/ I1/ +/ ↓/ I2/ ,/ ↑/ I1/ +/ ↑/ I2/ ]/ ;/ (/ 4/ )/ I1/ -/ I2/ =/ [/ ↓/ I1/ -/ ↑/ I2/ ,/ ↑/ I1/ -/ ↓/ I2/ ]/ ;/ (/ 5/ )/ 若/ I1/ ∩/ I2/ ≠/ / ,/ 则/ I1/ ∩/ I2/ =/ [/ max/ {/ ↓/ I1/ ,/ ↓/ I2/ }/ ,/ min/ {/ ↑/ I1/ ,/ ↑/ I2/ }/ ]/ ./ 定义/ 1/ [/ 8/ ]/ ./ 一个/ 时间/ Petri/ 网是/ 一个/ 六元/ 组/ TPN/ =/ (/ P/ ,/ T/ ,/ Pre/ ,/ Post/ ,/ M0/ ;/ SI/ )/ ,/ 其中/ :/ (/ 1/ )/ P/ =/ {/ p1/ ,/ p2/ ,/ …/ ,/ pm/ }/ 是/ 有/ 穷/ 、/ 非空/ 的/ 位置/ 集/ ;/ (/ 2/ )/ T/ =/ {/ t1/ ,/ t2/ ,/ …/ ,/ tn/ }/ 是/ 有/ 穷/ 、/ 非空/ 的/ 变迁/ 集/ ;/ (/ 3/ )/ Pre/ :/ P/ ×/ T/ →/ N/ 是/ 向前/ 关联矩阵/ ;/ (/ 4/ )/ Post/ :/ P/ ×/ T/ →/ N/ 是/ 向/ 后/ 关联矩阵/ ;/ (/ 5/ )/ M0/ :/ P/ →/ N/ 是/ 初始/ 标识/ ;/ Page3/ (/ 6/ )/ SI/ :/ T/ →/ IR/ +/ 是/ 变迁/ 的/ 静态/ 实施/ 间隔/ 映射函数/ ./ 对/ / t/ ∈/ T/ ,/ SI/ (/ t/ )/ 表示/ 变迁/ t/ 的/ 静态/ 实施/ 间隔/ ./ Pre/ (/ p/ ,/ t/ )/ =/ i/ (/ i/ >/ 0/ )/ 当且/ 仅/ 当/ 存在/ 一条/ 从库/ 所/ p/ 到/ 变迁/ t/ 的/ 权值/ 为/ i/ 的/ 弧/ ;/ Pre/ (/ p/ ,/ t/ )/ =/ 0/ 当且/ 仅/ 当/ 不/ 存在/ 从库/ 所/ p/ 到/ 变迁/ t/ 的/ 弧/ ./ 用/ Pre/ (/ t/ )/ ∈/ NP/ 表示/ t/ 的/ 输入/ 库所/ 多重集/ ,/ 即/ 对应/ 向前/ 关联/ 函数/ Pre/ 中/ t/ 列所/ 对应/ 的/ 向量/ ./ 用/ ·/ t/ =/ {/ p/ |/ Pre/ (/ p/ ,/ t/ )/ >/ 0/ }/ 表示/ 变迁/ t/ 的/ 输入/ 库所/ 集合/ ,/ p/ ·/ =/ {/ t/ |/ Pre/ (/ p/ ,/ t/ )/ >/ 0/ }/ 表示/ 库所/ p/ 的/ 输出/ 变迁/ 集合/ ./ 类似/ 地/ ,/ 可以/ 定义/ Post/ (/ p/ ,/ t/ )/ ,/ Post/ (/ t/ )/ ,/ t/ ·/ 和/ ·/ p/ ./ Petri/ 网/ 的/ 标识/ M/ 可/ 表示/ 为/ 一个/ |/ P/ |/ 维/ 向量/ ,/ 其中/ 第/ i/ 个/ 元素/ M/ (/ pi/ )/ 表示/ 库所/ pi/ 中/ 的/ 令牌/ 数/ ./ 因此/ 标识/ 反映/ 资源/ 在/ 库/ 所/ 集中/ 的/ 分布/ 情况/ ./ 定义/ 2/ [/ 13/ ]/ ./ 如果/ Pre/ (/ t/ )/ / M/ ,/ 则/ 称/ 变迁/ t/ ∈/ T/ 在/ 标识/ M/ 是/ 使/ 能/ 的/ (/ enabled/ )/ ./ 如果/ 变迁/ t/ 在/ 标识/ M/ 是/ 使/ 能/ 的/ ,/ 那么/ t/ 可以/ 实施/ (/ fire/ )/ 并/ 产生/ 一个/ 新/ 的/ 后继/ 标识/ M/ ,/ 且/ M/ =/ M/ -/ Pre/ (/ t/ )/ +/ Post/ (/ t/ )/ ./ 用/ En/ (/ M/ )/ 表示/ 标识/ M/ 的/ 所有/ 使能/ 变迁/ 的/ 集合/ ./ 用/ Newly/ (/ M/ ,/ tf/ )/ 表示/ 在/ 标识/ M/ 实施/ tf/ 后/ 新/ 使/ 能/ 的/ 所有/ 变迁/ 的/ 集合/ ,/ 即/ Newly/ (/ M/ ,/ tf/ )/ =/ {/ t/ ∈/ T/ |/ (/ t/ ∈/ En/ (/ M/ )/ )/ ∧/ (/ (/ t/ / En/ (/ M/ -/ Pre/ (/ tf/ )/ )/ )/ ∨/ (/ t/ =/ tf/ )/ )/ }/ ,/ 这里/ M/ =/ M/ -/ Pre/ (/ tf/ )/ +/ Post/ (/ tf/ )/ ./ 注意/ Newly/ (/ M/ ,/ tf/ )/ 的/ 定义/ 采用/ 了/ 中间/ 语义/ [/ 14/ ]/ ,/ 即/ 在/ 新/ 标识/ M/ 使能/ 且/ 在/ 中间/ 标识/ (/ M/ -/ Pre/ (/ tf/ )/ )/ 不使/ 能/ 的/ 变迁/ 属于/ 新使/ 能/ 变迁/ ;/ 或者/ 变迁/ tf/ 在/ 它/ 自己/ 实施/ 后/ 仍然/ 使能/ ,/ 亦/ 看作/ 新使/ 能/ 变迁/ ./ 用/ dM/ (/ t/ )/ =/ min/ {/ M/ (/ p/ )/ // Pre/ (/ p/ ,/ t/ )/ |/ p/ ∈/ ·/ t/ }/ 表示/ 变迁/ t/ 的/ 使/ 能度/ ./ 若/ dM/ (/ t/ )/ / 2/ ,/ 则/ 称/ 变迁/ t/ 在/ 标识/ M/ 是/ 多重/ 使能/ 的/ [/ 15/ ]/ ./ 为了/ 简化/ 问题/ 的/ 处理/ ,/ 本文/ 不/ 考虑/ 变迁/ 的/ 多重/ 使能/ ./ 时间/ Petri/ 网/ 的/ 状态/ 通常/ 采用/ 两种/ 表示/ 方法/ :/ 时钟/ 方法/ [/ 5/ ,/ 16/ ]/ 和/ 间隔/ 方法/ [/ 8/ -/ 9/ ]/ ./ 时钟/ 方法/ 给/ 每个/ 使能/ 变迁/ 联系/ 一个/ 时钟/ ,/ 用来/ 记录/ 该/ 变迁/ 最近/ 一次/ 的/ 持续/ 使能/ 的/ 时间/ ./ 间隔/ 方法/ 给/ 每个/ 使能/ 变迁/ 联系/ 一个/ 动态/ 实施/ 间隔/ ,/ 用来/ 表示/ 该/ 变迁/ 相对/ 于/ 当前/ 状态/ 的/ 所有/ 可能/ 的/ 实施/ 时间/ ./ 本文/ 使用/ 间隔/ 方法/ ./ 元组/ s/ =/ (/ M/ ,/ f/ )/ ,/ 其中/ 定义/ 3/ [/ 8/ ]/ ./ 一个/ 时间/ Petri/ 网/ 的/ 状态/ 是/ 一个/ 二/ (/ 1/ )/ M/ ∈/ NP/ 是/ 标识/ ;/ (/ 2/ )/ f/ :/ T/ →/ IR/ 是/ 一个/ 动态/ 实施/ 间隔/ 函数/ ./ / t/ ∈/ T/ ,/ f/ (/ t/ )/ 表示/ t/ 相对/ 于/ 当前/ 状态/ 的/ 实施/ 时间/ 间隔/ ./ 时间/ Petri/ 网/ 的/ 初始状态/ s0/ =/ (/ M0/ ,/ f0/ )/ 定义/ 如下/ :/ (/ 1/ )/ M0/ 是/ 初始/ 标识/ ;/ (/ 2/ )/ / t/ ∈/ En/ (/ M0/ )/ ,/ f0/ (/ t/ )/ =/ SI/ (/ t/ )/ ./ 统/ (/ TimedTransitionSystem/ )/ 来/ 刻画/ ./ TTS/ =/ (/ S/ ,/ S0/ ,/ Σ/ ,/ →/ )/ ,/ 其中/ 时间/ Petri/ 网/ 的/ 形式/ 语义/ 可以/ 使用/ 时间/ 变迁/ 系/ 定义/ 4/ [/ 5/ ]/ ./ 一个/ 时间/ 变迁/ 系统/ 是/ 一个/ 四元组/ (/ 1/ )/ S/ 是/ 状态/ 集/ ;/ (/ 2/ )/ S0/ / S/ 是/ 初始状态/ 集/ ;/ (/ 3/ )/ Σ/ 是/ 描述/ 时间/ 事件/ 的/ 标号/ 集/ ;/ (/ 4/ )/ →/ / S/ ×/ Σ/ ×/ S/ 表示/ 状态/ 转移/ 关系/ ./ 在/ 时间/ Petri/ 网中/ ,/ 当/ 一个/ 变迁/ 开始/ 使能/ ,/ 该/ 变迁/ 就/ 被/ 赋予/ 一个/ 动态/ 实施/ 间隔/ ,/ 其/ 初值/ 为/ 它/ 的/ 静态/ 实施/ 间隔/ ./ 动态/ 实施/ 间隔/ 随着/ 时间/ 的/ 流逝/ 同步/ 减小/ ./ 当/ 动态/ 实施/ 间隔/ 的/ 下界/ 到达/ 0/ 时/ ,/ 变迁/ 可以/ 实施/ ./ 一旦/ 动态/ 实施/ 间隔/ 的/ 上界/ 减小/ 到/ 0/ ,/ 该/ 变迁/ 必须/ 实施/ (/ 即强/ 语义/ )/ ./ 变迁/ 实施/ 不计/ 时间/ ./ 定义/ 5/ ./ 一个/ 时间/ Petri/ 网/ TPN/ =/ (/ P/ ,/ T/ ,/ Pre/ ,/ Post/ ,/ M0/ ;/ SI/ )/ 的/ 形式/ 语义/ 定义/ 为/ 一个/ 时间/ 变迁/ 系统/ TTS/ =/ (/ S/ ,/ S0/ ,/ Σ/ ,/ →/ )/ ,/ 且/ 使得/ (/ 1/ )/ S/ / NP/ ×/ (/ IR/ +/ )/ T/ 是/ TPN/ 的/ 状态/ 集/ ;/ (/ 2/ )/ S0/ =/ {/ s0/ }/ 是/ TPN/ 的/ 初始状态/ 集/ ;/ (/ 3/ )/ Σ/ =/ T/ ×/ R/ +/ 是/ 时间/ 变迁/ 标号/ 集/ ;/ (/ 4/ )/ →/ / S/ ×/ Σ/ ×/ S/ 是/ 状态/ 转移/ 关系/ ,/ 且/ 使得/ / d/ ∈/ R/ +/ ,/ / tf/ ∈/ T/ ,/ (/ M/ ,/ f/ )/ (/ tf/ ,/ d/ →/ / / / )/ (/ M/ ,/ f/ )/ ifftf/ ∈/ En/ (/ M/ )/ ,/ 烄/ ↓/ f/ (/ tf/ )/ / d/ / ↑/ f/ (/ tf/ )/ ,/ / t/ ∈/ En/ (/ M/ )/ ,/ d/ / ↑/ f/ (/ t/ )/ M/ =/ M/ -/ Pre/ (/ tf/ )/ +/ Post/ (/ tf/ )/ 烅/ / t/ ∈/ En/ (/ M/ )/ ,/ f/ (/ t/ )/ =/ SI/ (/ t/ )/ ,/ t/ ∈/ Newly/ (/ M/ ,/ tf/ )/ 烆/ 状态/ 转移/ 是/ 指/ 从/ 状态/ s/ 流逝/ 一段时间/ d/ ,/ 然后/ 实施变迁/ tf/ 到达/ 另/ 一个/ 状态/ s/ ./ 状态/ 转移/ 关系/ (/ a/ )/ 表明/ tf/ 在/ M/ 使能/ ;/ (/ b/ )/ 保证/ 流逝/ 时间/ d/ 位于/ tf/ 的/ 动态/ 实施/ 间隔/ 内/ ;/ (/ c/ )/ 确保/ d/ 不/ 超过/ 所有/ 使能/ 变迁/ 的/ 实施/ 时间/ 上/ 界/ ;/ (/ d/ )/ 计算/ 新/ 状态/ 的/ 标识/ ;/ (/ e/ )/ 计算/ 新/ 状态/ 下/ 使/ 能/ 变迁/ 的/ 动态/ 实施/ 间隔/ ./ 3/ 基于/ 一致/ 分布/ 的/ 时间/ Petri/ 网/ 模型/ 3.1/ 变迁/ 实施/ 概率/ 假设/ 时间/ Petri/ 网中/ 每个/ 变迁/ 的/ 实施/ 时间/ 遵循/ 一致/ 分布/ ./ 用/ X1/ ,/ X2/ ,/ …/ ,/ Xn/ 分别/ 表示/ 变迁/ t1/ ,/ t2/ ,/ …/ ,/ tn/ 的/ 实施/ 时间/ 随机变量/ ./ 如果/ 使能/ 变迁/ ti/ 在/ 时刻/ τ/ 开/ Page4/ 始使/ 能/ ,/ 那么/ 它/ 的/ 实施/ 时间/ 一定/ 落/ 在/ τ/ +/ SI/ (/ ti/ )/ 区间/ 内/ ./ 因此/ ,/ 变迁/ ti/ 的/ 概率密度函数/ 为/ fXi/ (/ xi/ )/ =/ 假设/ ti/ 和/ tj/ 是/ 两个/ 使能/ 变迁/ ,/ 它们/ 的/ 实施/ 时间/ 间隔/ 分别/ 为/ [/ ai/ ,/ bi/ ]/ 和/ [/ aj/ ,/ bj/ ]/ ,/ 则/ 优先/ 实施/ ti/ 的/ 概率/ 为/ Pr/ (/ Xi/ / Xj/ )/ =/ ∫/ bj/ 如图/ 1/ 所示/ ,/ 对于/ 上述/ 二重积分/ ,/ 可以/ 分区/ 段/ 讨论/ 如下/ :/ (/ 1/ )/ 若/ bi/ / aj/ ,/ 则/ Pr/ (/ Xi/ / Xj/ )/ =/ ∫/ bi/ (/ 2/ )/ 若/ bj/ / ai/ ,/ 则/ Pr/ (/ Xi/ / Xj/ )/ =/ ∫/ bi/ (/ 3/ )/ 若/ ai/ / aj/ / bi/ / bj/ ,/ 则/ Pr/ (/ Xi/ / Xj/ )/ =/ ∫/ aj/ |/ SI/ (/ ti/ )/ |/ dxi/ +/ ∫/ biai/ (/ 4/ )/ 若/ aj/ / ai/ / bj/ / bi/ ,/ 则/ Pr/ (/ Xi/ / Xj/ )/ =/ ∫/ bj/ (/ 5/ )/ 若/ ai/ / aj/ / bj/ / bi/ ,/ 则/ Pr/ (/ Xi/ / Xj/ )/ =/ ∫/ aj/ |/ SI/ (/ ti/ )/ |/ dxi/ +/ ∫/ bjai/ (/ 6/ )/ 若/ aj/ / ai/ / bi/ / bj/ ,/ 则/ Pr/ (/ Xi/ / Xj/ )/ =/ ∫/ bi/ 用/ Pr0/ (/ ti/ )/ 表示/ 在/ 状态/ s0/ 实施变迁/ t/ 的/ 概率/ ./ 我们/ 推广/ 到/ n/ 个/ 使/ 能/ 变迁/ 的/ 情况/ ./ 假设/ t1/ ,/ …/ ,/ tn/ 是/ 状态/ s0/ 的/ n/ 个/ 使/ 能/ 变迁/ ,/ 则/ 在/ 状态/ s0/ 实施/ ti/ 的/ 概率/ 为/ Pr0/ (/ ti/ )/ =/ Pr/ (/ Xi/ / X1/ ,/ …/ ,/ Xi/ / Xn/ )/ =/ ∫/ bi/ ∫/ bi/ -/ 1/ ∫/ bn/ 在/ 积分/ 计算/ 的/ 时候/ ,/ 要/ 注意/ 考虑/ 积分/ 区间/ 分段/ 的/ 情况/ ./ 以图/ 2/ 所示/ 时间/ Petri/ 网为例/ ,/ 在/ 初始状态/ s0/ 有/ 3/ 个/ 使/ 能/ 变迁/ t1/ ,/ t2/ 和/ t3/ ,/ 它们/ 在/ s0/ 的/ 实施/ 概率/ Pr0/ (/ t1/ )/ ,/ Pr0/ (/ t2/ )/ ,/ Pr0/ (/ t3/ )/ 分别/ 计算/ 如下/ :/ Pr0/ (/ t1/ )/ =/ 0/ ,/ Pr0/ (/ t2/ )/ =/ ∫/ 2Pr0/ (/ t3/ )/ =/ ∫/ 4/ 值得一提的是/ ,/ 在/ 传统/ 时间/ Petri/ 网中/ ,/ t1/ 和/ t3/ 可以/ 在/ 时刻/ 4/ 同时/ 发生/ ./ 但是/ ,/ 在/ 一致/ 分布/ 的/ 时间/ Petri/ 网中/ ,/ t1/ 和/ t3/ 在/ 两个/ 端点/ 处/ 取值/ 的/ 概率/ 为/ 0/ ./ 所以/ t3/ 总是/ 在/ t1/ 之前/ 实施/ ./ 3.2/ 变迁/ 序列/ 实施/ 概率/ 定义/ 6/ [/ 13/ ]/ ./ 一个/ 变迁/ 序列/ σ/ 是/ 变迁/ 集/ T/ 上/ 一个/ 有限/ (/ 或/ 无限/ )/ 的/ 字符串/ ./ 包含/ 0/ 个字符/ 的/ 序列/ 称为/ 空/ 序列/ ./ 一个/ 序列/ w/ 称为/ σ/ 的/ 前缀/ ,/ 当且/ 仅/ 当/ 存在/ 一个/ 序列/ v/ 使得/ σ/ =/ wv/ ./ 用/ Pr/ (/ σ/ )/ 表示/ 变迁/ 序列/ σ/ 的/ 实施/ 概率/ ./ 不妨/ 设/ 序列/ σ/ 的/ 最后/ 一个/ 变迁/ 为/ tr/ ./ 从/ 初始状态/ 开始/ 实施/ 序列/ σ/ 之后/ 所有/ 使能/ 变迁/ 的/ 集合/ 用/ Enabled/ (/ σ/ )/ 表示/ ./ 假设/ ti/ ∈/ Enabled/ (/ σ/ )/ ,/ 则/ Pr/ (/ σ/ ti/ )/ 的/ 积分/ 公式/ 可以/ 通过/ 修改/ Pr/ (/ σ/ )/ 积分/ 公式/ 获得/ ./ 具体/ 计算方法/ 如下/ :/ (/ a/ )/ 对于/ ti/ ,/ 若/ ti/ 是/ 新/ 使/ 能/ 变迁/ ,/ 则/ 在/ Pr/ (/ σ/ )/ 的/ 积分/ 公式/ 中/ 增加/ 一重/ 积分/ :/ (/ b/ )/ 对于/ tj/ ≠/ ti/ ,/ 若/ tj/ ∈/ Enabled/ (/ σ/ )/ 是/ 新/ 使/ 能/ 变迁/ ,/ 则/ 在/ Pr/ (/ σ/ )/ 的/ 积分/ 公式/ 中/ 增加/ 一重/ 积分/ :/ Page5/ (/ c/ )/ 对于/ tj/ ≠/ ti/ ,/ 若/ tj/ ∈/ Enabled/ (/ σ/ )/ 是/ 继续/ 使能/ 变迁/ ,/ 则/ 修改/ Pr/ (/ σ/ )/ 中/ 关于/ tj/ 的/ 积分/ 项/ 下限/ 为/ xi/ ./ (/ d/ )/ 除/ 上述/ 3/ 种/ 情况/ 之外/ ,/ 不/ 修改/ Pr/ (/ σ/ )/ 中/ 的/ 积分/ 项/ ./ 计算/ 多重/ 积分/ 同样/ 需要/ 注意/ 区间/ 分段/ 问题/ ./ 我们/ 仍/ 以图/ 2/ 中/ 时间/ Petri/ 网为例/ ,/ 计算/ Pr/ (/ t3t1t5/ )/ 的/ 实施/ 概率/ ./ 首先/ 计算/ Pr/ (/ t3/ )/ ./ 对于/ 第一个/ 实施变迁/ ,/ 采用/ 3.1/ 节/ 介绍/ 的/ 方法/ 计算/ ./ Pr/ (/ t3/ )/ =/ Pr0/ (/ t3/ )/ =/ ∫/ 4/ 接下来/ 计算/ Pr/ (/ t3t1/ )/ ./ 根据上述/ 方法/ ,/ 通过/ 修改/ Pr/ (/ t3/ )/ 的/ 积分/ 公式/ ,/ 得到/ Pr/ (/ t3t1/ )/ 积分/ 公式/ 如下/ :/ Pr/ (/ t3t1/ )/ =/ ∫/ 4/ 其中/ t5/ 为/ 新/ 使/ 能/ 变迁/ ,/ t1/ 为/ 继续/ 使能/ 变迁/ ./ 这里/ 需要/ 对/ Pr/ (/ t3t1/ )/ 进行/ 分段/ 计算/ :/ (/ a/ )/ 当/ x3/ ∈/ [/ 2/ ,/ 3/ ]/ ,/ 则/ ∫/ 32dx3/ ∫/ 712/ (/ b/ )/ 当/ x3/ ∈/ [/ 3/ ,/ 4/ ]/ ,/ 则/ 2dx3/ ∫/ 7/ ∫/ 312/ ∫/ 32dx3/ ∫/ 712/ 故/ Pr/ (/ t3t1/ )/ =/ 41/ 最后/ 计算/ Pr/ (/ t3t1t5/ )/ ./ 通过/ 修改/ Pr/ (/ t3t1/ )/ 积分/ 公式/ ,/ 得到/ Pr/ (/ t3t1t5/ )/ 的/ 积分/ 公式/ Pr/ (/ t3t1t5/ )/ =/ ∫/ 4/ 其中/ t4/ 是/ 新/ 使/ 能/ 变迁/ ,/ t5/ 是/ 继续/ 使能/ 变迁/ ./ 再/ 对/ Pr/ (/ t3t1t5/ )/ 分区/ 段/ 进行/ 计算/ :/ (/ a/ )/ 当/ x3/ ∈/ [/ 2/ ,/ 3/ ]/ 且/ x1/ ∈/ [/ 4/ ,/ x3/ +/ 2/ ]/ ,/ 则/ ∫/ 32dx3/ ∫/ 7122dx5/ ∫/ x1/ +/ 2/ ∫/ x3/ +/ 31/ (/ b/ )/ 当/ x3/ ∈/ [/ 2/ ,/ 3/ ]/ 且/ x1/ ∈/ [/ x3/ +/ 2/ ,/ x3/ +/ 3/ ]/ ,/ 则/ ∫/ 32dx3/ ∫/ 7/ (/ c/ )/ 当/ x3/ ∈/ [/ 3/ ,/ 4/ ]/ 且/ x1/ ∈/ [/ 4/ ,/ x3/ +/ 1/ ]/ ,/ 则/ ∫/ 42dx3/ ∫/ 713122x1x1/ +/ 113x1/ +/ 11/ (/ d/ )/ 当/ x3/ ∈/ [/ 3/ ,/ 4/ ]/ 且/ x1/ ∈/ [/ x3/ +/ 1/ ,/ x3/ +/ 2/ ]/ ,/ 则/ ∫/ 42dx3/ ∫/ 713/ ∫/ x3/ +/ 32dx5/ ∫/ x1/ +/ 21/ (/ e/ )/ 当/ x3/ ∈/ [/ 3/ ,/ 4/ ]/ 且/ x1/ ∈/ [/ x3/ +/ 2/ ,/ 6/ ]/ ,/ 则/ ∫/ 42dx3/ ∫/ 7/ 对/ (/ a/ )/ ~/ (/ e/ )/ 项/ 求和/ ,/ 我们/ 得到/ Pr/ (/ t3t1t5/ )/ =/ 93.3/ 概率/ 可达类/ 树/ 这/ 一节/ 我们/ 讨论/ 概率/ 可达类/ 树/ 的/ 生成/ 方法/ ./ 由于/ 时间/ 域/ 的/ 密度/ 性/ ,/ 时间/ Petri/ 网/ 的/ 可达性/ 分析/ 通常/ 采用/ 状态/ 类/ 方法/ ./ 一个/ 状态/ 类/ 是/ 一个/ 聚合/ 的/ 伪/ 状态/ ,/ 它/ 代表/ 从/ 初始状态/ 出发/ 实施/ 相同/ 变迁/ 序列/ 所/ 能/ 到达/ 的/ 全部/ 状态/ [/ 8/ ]/ ./ 本文/ 借鉴/ 文献/ [/ 8/ -/ 9/ ]/ 中/ 提出/ 的/ 状态/ 类/ 方法/ ,/ 将/ 概率/ 条件/ 引入/ 状态/ 类/ ,/ 形成/ 基于/ 一致/ 分布/ 的/ 时间/ Petri/ 网/ 状态/ 类/ 方法/ ./ 元组/ C/ =/ (/ M/ ,/ D/ ,/ K/ )/ ,/ 其中/ 定义/ 7/ ./ 一个/ 时间/ Petri/ 网/ 的/ 状态/ 类/ 是/ 一个/ 三/ (/ 1/ )/ M/ :/ P/ →/ N/ 是/ 标识/ ;/ (/ 2/ )/ D/ :/ T/ ×/ T/ →/ IR/ 是/ 实施/ 域/ ./ / ti/ ,/ tj/ ∈/ En/ (/ M/ )/ ,/ D/ (/ ti/ ,/ tj/ )/ 代表/ 变迁/ tj/ 相对/ 于/ 变迁/ ti/ 的/ 实施/ 时间/ 间隔/ ./ 特别/ 地/ ,/ 令/ D/ (/ ti/ ,/ ti/ )/ =/ 0/ ./ (/ 3/ )/ K/ :/ T/ →/ [/ 0/ ,/ 1/ ]/ 是/ 概率/ 域/ ./ / ti/ ∈/ En/ (/ M/ )/ ,/ K/ (/ ti/ )/ 表示/ 变迁/ ti/ 在/ 状态/ 类/ C/ 的/ 实施/ 概率/ ./ 定义/ 8/ ./ 初始状态/ 类/ C0/ =/ (/ M0/ ,/ D0/ ,/ K0/ )/ 定义/ 如下/ :/ (/ 1/ )/ M0/ 是/ 初始/ 标识/ ;/ (/ 2/ )/ / ti/ ,/ tj/ ∈/ En/ (/ M0/ )/ ,/ D0/ (/ ti/ ,/ tj/ )/ =/ SI/ (/ tj/ )/ -/ SI/ (/ ti/ )/ 且/ D0/ (/ ti/ ,/ ti/ )/ =/ 0/ ./ (/ 3/ )/ / ti/ ∈/ En/ (/ M0/ )/ ,/ K0/ (/ ti/ )/ =/ Pr0/ (/ ti/ )/ ./ 接下来/ 定义/ 状态/ 类/ 的/ 演化/ 条件/ 和/ 规则/ ./ 定义/ 9/ (/ 可/ 实施/ 条件/ )/ ./ 一个/ 变迁/ tf/ ∈/ En/ (/ Mk/ )/ 在/ 状态/ 类/ Ck/ =/ (/ Mk/ ,/ Dk/ ,/ Kk/ )/ 是/ 可/ 实施/ 的/ (/ firable/ )/ 当且/ 仅/ 当/ / ti/ ∈/ En/ (/ Mk/ )/ ,/ ↓/ Dk/ (/ ti/ ,/ tf/ )/ / 0/ 且/ Kk/ (/ tf/ )/ >/ 0/ ./ 用/ Fr/ (/ C/ )/ 表示/ 状态/ 类/ C/ 的/ 所有/ 可/ 实施变迁/ 的/ 集合/ ./ 定义/ 10/ (/ 实施/ 规则/ )/ ./ 假设/ 从/ 初始状态/ 类/ C0/ =/ (/ M0/ ,/ D0/ ,/ K0/ )/ 通过/ 实施变迁/ 序列/ σ/ =/ tr1tr2/ …/ trn/ 到达/ 状态/ 类/ Ck/ =/ (/ Mk/ ,/ Dk/ ,/ Kk/ )/ ./ 如果/ 变迁/ tf/ ∈/ Fr/ (/ Ck/ )/ ,/ 则/ 实施/ tf/ 到达/ 状态/ 类/ Ck/ +/ 1/ =/ (/ Mk/ +/ 1/ ,/ Dk/ +/ 1/ ,/ Kk/ +/ 1/ )/ 由/ 下列/ 实施/ 规则/ 确定/ :/ Page6/ (/ 1/ )/ 标识/ Mk/ +/ 1/ :/ Mk/ +/ 1/ =/ Mk/ -/ Pre/ (/ tf/ )/ +/ Post/ (/ tf/ )/ ./ (/ 2/ )/ 实施/ 域/ Dk/ +/ 1/ :/ / ti/ ,/ tj/ ∈/ En/ (/ Mk/ +/ 1/ )/ ,/ (/ i/ )/ Dk/ (/ ti/ ,/ tf/ )/ =/ {/ (/ ii/ )/ Dk/ +/ 1/ (/ ti/ ,/ tj/ )/ =/ -/ SI/ (/ ti/ )/ ,/ ti/ ∈/ Newly/ (/ Mk/ ,/ tf/ )/ [/ ↓/ Dk/ (/ ti/ ,/ tf/ )/ ,/ min/ {/ ↑/ Dk/ (/ ti/ ,/ t/ )/ |/ t/ ∈/ En/ (/ Mk/ )/ }/ ]/ ,/ o/ ./ w0/ ,/ 烄/ Dk/ (/ ti/ ,/ tf/ )/ -/ Dk/ (/ tj/ ,/ tf/ )/ ,/ ti/ ,/ tj/ ∈/ Newly/ (/ Mk/ ,/ tf/ )/ ./ 烅/ Dk/ (/ ti/ ,/ tj/ )/ ∩/ (/ Dk/ (/ ti/ ,/ tf/ )/ -/ Dk/ (/ tj/ ,/ tf/ )/ )/ ,/ o/ ./ w/ 烆/ (/ 3/ )/ 概率/ 域/ Kk/ +/ 1/ :/ / ti/ ∈/ En/ (/ Mk/ +/ 1/ )/ ,/ 使用/ 状态/ 类/ 方法/ 计算/ 图/ 2/ 所示/ 的/ 例子/ ,/ 得到/ 如图/ 3/ 所示/ 的/ 概率/ 可达类/ 树/ ./ 值得注意/ 的/ 是/ ,/ 图/ 3/ 中/ 虚线/ 部分/ 的/ 结点/ 是/ 传统/ 时间/ Petri/ 网/ 生成/ 的/ 状态/ 类/ ./ 在/ 一致/ 分布/ 实施/ 策略/ 下/ ,/ 这些/ 结点/ 并/ 不/ 存在/ ,/ 因为/ 从/ C0/ 到/ C1/ 的/ 转移/ 概率/ 为/ 0/ (/ 即/ Pr0/ (/ t1/ )/ =/ 0/ )/ ./ 因此/ ,/ 实线/ 部分/ 的/ 结点/ 才/ 是/ 基于/ 一致/ 分布/ 的/ 时间/ Petri/ 网所/ 产生/ 的/ 状态/ 类/ ./ 每个/ 实线/ 结点/ 都/ 附有/ 一个/ 时间/ 间隔/ ,/ 这个/ 时间/ 间隔/ 表示/ 该/ 状态/ 类/ 的/ 到达/ 间隔/ ,/ 或者说/ 是/ 沿/ 初始/ (/ 根/ )/ 结点/ 到达/ 该/ 结点/ 所/ 经过/ 的/ 变迁/ 序列/ 的/ 实施/ 间隔/ ./ 从/ 一个/ 状态/ 类/ 转移/ 到/ 另/ 一个/ 状态/ 类用/ 一条/ 有/ 向/ 边/ 指示/ ,/ 有/ 向/ 边上/ 标注/ 着/ 引发/ 转移/ 的/ 事件/ (/ 变表/ 1/ 图/ 2/ 时间/ Petri/ 网/ 基于/ 一致/ 分布/ 的/ 实施/ 模拟/ 结果/ 状态/ 类/ 转移/ C0/ →/ C10/ ./ 35205.600/ ./ 32881.360/ ./ 33260.220/ ./ 33340.021/ // 3/ ≈/ 0.3333/ C0/ →/ C20/ ./ 64802.800/ ./ 67120.680/ ./ 66740.110/ ./ 66660.012/ // 3/ ≈/ 0.6667/ C2/ →/ C40/ ./ 48303.620/ ./ 47772.480/ ./ 46510.220/ ./ 46520.20179/ // 384/ ≈/ 0.4661/ C2/ →/ C50/ ./ 51703.160/ ./ 52232.160/ ./ 53490.200/ ./ 53480.18205/ // 384/ ≈/ 0.5339/ C4/ →/ C70/ ./ 13426.160/ ./ 14410.760/ ./ 14491.320/ ./ 14270.22128/ // 895/ ≈/ 0.1430/ C4/ →/ C80/ ./ 86581.030/ ./ 85590.130/ ./ 85510.220/ ./ 85730.03767/ // 895/ ≈/ 0.8570/ 其它/ 10/ 迁/ )/ 以及/ 该/ 事件/ 的/ 实施/ 概率/ ./ 从图/ 中/ 不难/ 发现/ ,/ 分支/ 处/ 各条/ 边/ 的/ 概率/ 之/ 和/ 刚好/ 等于/ 1/ ,/ 每条/ 路径/ 的/ 实施/ 概率/ 等于/ 路径/ 上/ 各条/ 边/ 的/ 概率/ 之积/ ./ 例如/ :/ 在/ C2/ 分支/ 下/ ,/ 变迁/ t1/ 的/ 概率/ 和/ 变迁/ t2/ 的/ 概率/ 之/ 和/ 为/ (/ 179/ // 384/ )/ +/ (/ 205/ // 384/ )/ =/ 1/ ;/ 路径/ t3t1t4t5/ 的/ 实施/ 概率/ 为/ (/ 2/ // 3/ )/ ×/ (/ 179/ // 384/ )/ ×/ (/ 128/ // 895/ )/ ×/ 1/ =/ 2/ // 45/ ./ 通过/ 概率/ 计算/ 可以/ 获得/ 一些/ 有/ 价值/ 的/ 系统/ 信息/ ./ 假设/ 图/ 2/ 中/ 时间/ Petri/ 网/ 描述/ 了/ 两个/ 任务/ 的/ 执行/ 流程/ ./ 任务/ 1/ 由/ t1/ 和/ t4/ 相继/ 完成/ ;/ 任务/ 2/ 由/ t2/ 完成/ 、/ 或者/ 由/ t3/ 和/ t5/ 完成/ ./ 如果/ 系统/ 要求/ 任务/ 1/ 尽可能/ 地/ 先于/ 任务/ 2/ 完成/ ,/ 根据/ 前面/ 概率分析/ ,/ 这种/ 概率/ 只有/ 2/ // 45/ ./ 为了/ 提高/ 任务/ 1/ 优先/ 完成/ 的/ 概率/ ,/ 可以/ 适当/ 提前/ t1/ 和/ t4/ 的/ 实施/ 时间/ ./ 再/ 如/ ,/ 我们/ 计算/ 出/ 任务/ 2/ 交给/ t2/ 执行/ 或者/ 交给/ t3/ 和/ t5/ 执行/ 的/ 概率/ 分别/ 是/ 1/ // 3/ 和/ 2/ // 3/ ,/ 这/ 又/ 可以/ 帮助/ 我们/ 进一步/ 分析/ 路径/ t2/ 和/ 路径/ t3t5/ 上/ 的/ 工作/ 负载/ 情况/ ./ 因此/ ,/ 通过/ 一致/ 分布/ 模型/ 获得/ 的/ 量化/ 数据/ 将/ 有助于/ 更好/ 地/ 评估/ 系统/ 性能/ 和/ 验证/ 系统/ 设计/ ./ 4/ 实验/ 仿真/ 本/ 节/ 设计/ 和/ 实现/ 基于/ 一致/ 分布/ 时间/ Petri/ 网/ 的/ 仿真/ 实验/ ./ 实验/ 方案设计/ 如下/ :/ (/ 1/ )/ 一旦/ 变迁/ ti/ 开始/ 使能/ ,/ 就/ 根据/ 一致/ 分布/ 在/ 区间/ SI/ (/ ti/ )/ 中/ 生成/ 一个/ 随机数/ ui/ ,/ 表示/ 该/ 变迁/ (/ 相对/ 于/ 使/ 能/ 时刻/ )/ 的/ 实施/ 时间/ ./ (/ 2/ )/ 实施/ 时间/ ui/ 随着/ 时钟/ 的/ 流逝/ 同步/ 减小/ ./ 一旦/ ui/ 到达/ 0/ ,/ 就/ 立刻/ 实施变迁/ ti/ ./ 因此/ ,/ 具有/ 最小/ 实施/ 时间/ 的/ 变迁/ 总是/ 优先/ 实施/ (/ 时间/ 竞争/ 策略/ )/ ./ (/ 3/ )/ 如果/ 变迁/ ti/ 丧失/ 使能/ ,/ 该/ 变迁/ 则/ 失去/ 实施/ 权/ (/ 可/ 设置/ ui/ =/ )/ ./ 根据/ 设计方案/ ,/ 我们/ 在/ Matlab2007/ 平台/ 上/ 开发/ 了/ 一个/ 基于/ 一致/ 分布/ 的/ 时间/ Petri/ 网/ 仿真/ 工具箱/ ./ 使用/ 该/ 工具箱/ 对图/ 2/ 中/ 时间/ Petri/ 网/ 的/ 例子/ 分别/ 进行/ 103/ 次/ 、/ 104/ 次/ 、/ 105/ 次/ 和/ 106/ 次/ 运行/ 模拟/ ,/ 得到/ 如表/ 1/ 所示/ 的/ 统计数据/ ./ 模拟/ 概率/ 10Page7/ 对比/ 表中/ 数据/ 不难/ 发现/ ,/ 103/ 次/ 模拟/ 产生/ 的/ 结果/ 偏差/ 较大/ ,/ 它/ 与/ 理论值/ 的/ 相对误差/ 最高/ 达到/ 6/ 个/ 百分点/ ,/ 模拟/ 统计/ 值/ 只能/ 精确/ 到/ 十分/ 位/ ./ 当/ 模拟/ 次数/ 达到/ 104/ 时/ ,/ 相对误差/ 平均/ 下降/ 了/ 2/ 个/ 百分点/ ./ 当/ 模拟/ 数量级/ 为/ 105/ ,/ 相对误差/ 基本/ 在/ 1/ %/ 以下/ ,/ 统计/ 值/ 可/ 精确/ 到/ 百分位/ ./ 一旦/ 模拟/ 次数/ 提升/ 到/ 106/ 次/ ,/ 统计/ 值/ 与/ 理论值/ 的/ 相对误差/ 均/ 控制/ 在/ 0.3/ %/ 以下/ ,/ 其/ 绝对误差/ 值/ 也/ 限制/ 在/ 千分/ 位上/ ./ 所以/ ,/ 随着/ 模拟/ 次数/ 的/ 增加/ ,/ 模拟/ 统计/ 值/ 与/ 理论值/ 的/ 差距/ 就/ 越/ 小/ ./ 表中/ 最后/ 一行/ 说明/ ,/ 在/ 没有/ 分支/ 出现/ 情况/ 下/ (/ 即/ 只有/ 一个/ 子/ 结点/ )/ ,/ 状态/ 类/ 转移/ 概率/ 总是/ 1/ ,/ 实验/ 结果/ 和/ 理论/ 结果/ 保持一致/ ./ 通过/ 实验/ 数据/ 得出/ 的/ 结论/ 进一步/ 验证/ 了/ 理论/ 计算方法/ 是/ 正确/ 的/ ./ 5/ 结论/ 时间/ Petri/ 网/ 关于/ 时间/ 性质/ 的/ 分析/ 理论/ 主要/ 集中/ 于/ 区间/ 端点/ 的/ 计算/ 和/ 推理/ 方面/ ,/ 涌现/ 了/ 不少/ 具有/ 代表性/ 的/ 理论/ 成果/ ,/ 比如/ 状态/ 类/ 方法/ 和/ 扩展/ 时段/ 时序/ 逻辑/ ./ 但是/ ,/ 对于/ 实施/ 区间/ 内/ 不确定性/ 的/ 定量/ 描述/ 与/ 分析/ 一直/ 未曾/ 探讨/ ./ 文章/ 首次/ 在/ 时间/ Petri/ 网中/ 引入/ 一致/ 分布/ 概率模型/ ,/ 并/ 提出/ 在/ 一致/ 分布/ 下/ 变迁/ 实施/ 概率/ 、/ 变迁/ 序列/ 实施/ 概率/ 、/ 概率/ 可达类/ 树/ 一系列/ 问题/ 的/ 理论/ 计算方法/ ,/ 为/ 时间/ Petri/ 网/ 模型/ 的/ 性能/ 评价/ 和/ 动态/ 模拟/ 研究/ 提供/ 了/ 一条/ 新/ 的/ 探索/ 途径/ ./ 经典/ 时间/ Petri/ 网/ 侧重于/ 变迁/ 实施/ 间隔/ 的/ 计算/ ./ 在/ 此基础/ 之上/ ,/ 本文/ 提出/ 的/ 模型/ 还/ 能/ 计算/ 变迁/ 的/ 实施/ 概率/ ,/ 这/ 对于/ 既/ 要/ 考虑/ 任务/ 执行/ 时间/ 、/ 又/ 要/ 考虑/ 任务/ 执行/ 概率/ 的/ 实时/ 系统/ 来说/ 是/ 非常/ 有益/ 的/ ./ 例如/ ,/ 我们/ 可以/ 分析/ 任务/ 的/ 操作/ 频率/ 、/ 不同/ 路径/ 的/ 工作/ 负载/ 、/ 到达某/ 一/ 状态/ 的/ 概率/ 等/ ,/ 这些/ 量化/ 信息/ 可以/ 帮助/ 我们/ 评价/ 系统/ 的/ 性能/ 、/ 分析/ 系统/ 的/ 可靠性/ 、/ 调整/ 系统/ 的/ 设计/ 等等/ ./ 未来/ 工作/ 将/ 进一步/ 探讨/ 基于/ 其他/ 概率分布/ 的/ 时间/ Petri/ 网/ 模型/ (/ 比如/ 正态分布/ 、/ 三角形/ 分布/ 等/ )/ 以及/ 模型/ 在/ 一些/ 典型/ 实时/ 系统/ 中/ 的/ 应用/ ,/ 比如/ 嵌入式/ 实时/ 系统/ 、/ 柔性制造系统/ 等/ ./ 

