Page1/ 基于/ 统计分析/ 的/ 弱/ 变异/ 测试/ 可/ 执行/ 路径/ 生成/ 巩敦卫/ 1/ )/ ,/ 4/ )/ 1/ )/ (/ 中国矿业大学/ 信息/ 与/ 电气/ 工程学院/ 江苏/ 徐州/ 221116/ )/ 2/ )/ (/ 徐州/ 工程学院/ 信电/ 工程学院/ 江苏/ 徐州/ 221000/ )/ 3/ )/ (/ 中国矿业大学/ 理学院/ 江苏/ 徐州/ 221116/ )/ 4/ )/ (/ 兰州/ 理工大学/ 电气工程/ 与/ 信息/ 工程学院/ 兰州/ 730050/ )/ 摘要/ 变异/ 测试/ 是/ 一种/ 面向/ 缺陷/ 的/ 软件测试/ 技术/ ,/ 然而/ 高昂/ 的/ 测试/ 代价/ ,/ 影响/ 了/ 其/ 在/ 实际/ 程序/ 测试/ 的/ 应用/ ./ Papadakis/ 等/ 人/ 将/ 某/ 一/ 程序/ 的/ 弱/ 变异/ 测试/ 问题/ ,/ 转化/ 为/ 另/ 一/ 程序/ 的/ 变异/ 语句/ 真/ 分支/ 覆盖/ 问题/ ,/ 以期/ 采用/ 已有/ 的/ 分支/ 覆盖/ 方法/ ,/ 生成/ 变异/ 测试数据/ ./ 但是/ ,/ 上述/ 方法/ 使得/ 转化/ 后/ 程序/ 包含/ 大量/ 的/ 变异/ 分支/ ,/ 增加/ 了/ 分支/ 覆盖/ 测试数据/ 生成/ 的/ 难度/ ./ 如果/ 采用/ 合适/ 的/ 方法/ ,/ 约简/ 转化/ 后/ 程序/ 中/ 包含/ 的/ 变异/ 分支/ ,/ 并/ 依/ 所属/ 的/ 路径/ ,/ 对/ 约简/ 之后/ 的/ 变异/ 分支/ 分组/ ,/ 那么/ ,/ 将/ 能够/ 利用/ 已有/ 的/ 路径/ 覆盖/ 测试方法/ ,/ 生成/ 高质量/ 的/ 变异/ 测试数据/ ,/ 从而/ 提高/ 弱/ 变异/ 测试/ 的/ 效率/ ./ 但是/ ,/ 如何/ 基于/ 某一/ 程序/ 和/ 变异/ 体/ ,/ 生成/ 可/ 执行/ 路径/ ,/ 至今/ 缺乏/ 有效/ 的/ 方法/ ./ 鉴于/ 此/ ,/ 文中/ 通过考察/ 变异/ 语句/ 真/ 分支/ 之间/ 的/ 相关性/ ,/ 提出/ 了/ 一种/ 用于/ 弱/ 变异/ 测试/ 的/ 可/ 执行/ 路径/ 生成/ 方法/ ,/ 使得/ 覆盖/ 这些/ 路径/ 的/ 测试数据/ ,/ 能够/ 杀死/ 所有/ 的/ 变异/ 体/ ./ 该/ 方法/ 首先/ 考察/ 变异/ 语句/ 真/ 分支/ 之间/ 的/ 占优/ 关系/ ,/ 约简/ 被/ 占优/ 的/ 变异/ 分支/ ,/ 从而/ 减少/ 变异/ 分支/ 的/ 数量/ ;/ 然后/ ,/ 将/ 非/ 被/ 占优/ 的/ 变异/ 分支/ 插入/ 到/ 该/ 程序/ ,/ 转化/ 为/ 另/ 一/ 被/ 测/ 程序/ ,/ 并/ 基于/ 转化/ 之后/ 的/ 程序/ ,/ 考察/ 同一/ 语句/ 形成/ 的/ 多个/ 变异/ 分支/ 的/ 相关性/ ;/ 通过/ 组合/ 相关/ 变异/ 分支/ ,/ 形成/ 新/ 的/ 变异/ 语句/ 真/ 分支/ ;/ 接着/ ,/ 利用/ 被测/ 语句/ 与/ 新/ 变异/ 语句/ 真/ 分支/ 的/ 相关性/ ,/ 生成/ 包含/ 新/ 变异/ 语句/ 真/ 分支/ 和/ 被/ 测/ 语句/ 的/ 可/ 执行/ 子/ 路径/ ;/ 最后/ ,/ 采用/ 统计分析/ ,/ 基于/ 子/ 路径/ 之间/ 的/ 执行/ 关系/ ,/ 构建/ 并/ 约简/ 相关矩阵/ ,/ 将/ 相关/ 的/ 子/ 路径/ 组合/ ,/ 生成/ 一条/ 或/ 多条/ 可/ 执行/ 路径/ ./ 将/ 所/ 提/ 方法/ 应用/ 于/ 9/ 个/ 基准/ 和/ 工业/ 程序/ 测试/ 中/ ,/ 并/ 与/ 传统/ 方法/ 进行/ 了/ 比较/ ./ 实验/ 结果表明/ ,/ 所提/ 方法/ 生成/ 了/ 为数/ 较少/ 的/ 可/ 执行/ 路径/ ,/ 且/ 运行/ 时间/ 短/ ;/ 更/ 重要/ 的/ 是/ ,/ 这些/ 可/ 执行/ 路径/ 能够/ 覆盖/ 所有/ 的/ 变异/ 分支/ ./ 此外/ ,/ 所提/ 方法/ 涉及/ 的/ 样本容量/ ,/ 对/ 生成/ 的/ 可/ 执行/ 路径/ 数有/ 一定/ 的/ 影响/ ,/ 但/ 对/ 程序/ 的/ 运行/ 时间/ 影响/ 较/ 小/ ./ 关键词/ 变异/ 测试/ ;/ 弱/ 变异/ 测试/ ;/ 变异/ 分支/ ;/ 路径/ 覆盖/ ;/ 可/ 执行/ 路径/ 1/ 引言/ 软件测试/ 是/ 保证/ 软件/ 质量/ 的/ 重要/ 手段/ ,/ 通过/ 测试/ ,/ 不但/ 能够/ 检测/ 软件/ 可能/ 存在/ 的/ 缺陷/ ,/ 而且/ 能够/ 提高/ 软件/ 的/ 可靠/ 度/ ./ 在/ 诸多/ 测试/ 技术/ 中/ ,/ 变异/ 测试/ 直接/ 面向/ 程序/ 缺陷/ ,/ 生成/ 测试数据/ ,/ 是/ 提高/ 测试数据/ 充分性/ 的/ 一种/ 有效/ 方法/ [/ 1/ ]/ ./ 为了/ 进行/ 变异/ 测试/ (/ mutationtesting/ )/ ,/ 首先/ ,/ 通过/ 使用/ 变异/ 算子/ (/ mutationoperator/ )/ ,/ 对/ 程序/ 的/ 某/ 一/ 语句/ 做/ 合乎/ 语法/ 的/ 微小/ 变动/ ,/ 以/ 产生/ 一个/ 新/ 的/ 程序/ ,/ 称该/ 程序/ 为/ 一个/ 变异/ 体/ (/ mutant/ )/ [/ 2/ ]/ ;/ 然后/ ,/ 以/ 某/ 一/ 测试数据/ ,/ 分别/ 执行/ 变异/ 体/ 和/ 原程序/ ,/ 如果/ 两者/ 的/ 输出/ 不同/ ,/ 那么/ ,/ 称/ 测试数据/ 杀死/ 了/ 该/ 变异/ 体/ ,/ 这种/ 变异/ 测试/ 准则/ 称为/ 强/ 变异/ 测试/ (/ strongmutationtesting/ )/ [/ 3/ ]/ ;/ 如果/ 两者/ 在/ 变异/ 点/ 执行/ 后/ ,/ 变量/ 状态/ 出现/ 不/ 一致/ ,/ 即可/ 认为/ 该/ 变异/ 体/ 被/ 杀死/ ,/ 那么/ ,/ 这种/ 变异/ 测试/ 准则/ 称为/ 弱/ 变异/ 测试/ (/ weakmutationtesting/ )/ [/ 4/ ]/ ./ 基于/ 弱/ 变异/ 测试/ 准则/ ,/ 判定/ 某/ 变异/ 体/ 是否/ 被/ 杀死/ 时/ ,/ 不/ 需要/ 完整/ 的/ 执行/ 原程序/ 和/ 变异/ 体/ ,/ 因此/ ,/ 提高/ 了/ 变异/ 测试/ 的/ 效率/ ./ Horgan/ 和/ Mathur/ [/ 5/ ]/ 的/ 理论/ 分析表明/ ,/ 在/ 特定条件/ 下/ ,/ 基于/ 弱/ 变异/ 测试/ 得到/ 的/ 变异/ 得分/ (/ mutationscore/ )/ ,/ 与/ 基于/ 强/ 变异/ 测试/ 得到/ 的/ 变异/ 得分/ 基本/ 保持一致/ ./ 此外/ ,/ Offutt/ 和/ Lee/ [/ 6/ ]/ 的/ 实验/ 结果表明/ ,/ 在/ 多数/ 情况/ 下/ ,/ 弱/ 变异/ 测试/ 可以/ 替代/ 强/ 变异/ 测试/ ./ 一个/ 程序/ 往往/ 存在/ 很多/ 变异/ 体/ ,/ 为了/ 杀死/ 这些/ 变异/ 体/ ,/ 也/ 需要/ 大量/ 的/ 测试数据/ ;/ 而且/ ,/ 这些/ 测试数据/ 需要/ 同时/ 执行/ 原程序/ 和/ 变异/ 体/ ,/ 因此/ ,/ 变异/ 测试/ 的/ 效率/ 通常/ 很/ 低/ ./ 为了/ 克服/ 上述/ 不足/ ,/ Papadakis/ 等/ 人/ [/ 7/ ]/ 通过/ 将/ 变异/ 语句/ 转化/ 为/ 变异/ 分支/ (/ mutantbranch/ )/ ,/ 并/ 将/ 所有/ 转化/ 后/ 的/ 变异/ 分支/ ,/ 插入/ 到/ 原程序/ 后/ ,/ 形成/ 新/ 的/ 被/ 测/ 程序/ ,/ 这样一来/ ,/ 将/ 原程序/ 的/ 弱/ 变异/ 测试/ 问题/ ,/ 转化/ 为/ 新/ 程序/ 的/ 分支/ 覆盖/ (/ branchcoverage/ )/ 问题/ ,/ 以/ 采用/ 已有/ 的/ 分支/ 覆盖/ 方法/ ,/ 解决/ 变异/ 测试/ 问题/ ,/ 从而/ 提高/ 了/ 弱/ 变异/ 测试/ 的/ 效率/ ./ 但是/ ,/ 采用/ 上述/ 方法/ 进行/ 弱/ 变异/ 测试/ 转化/ ,/ 将/ 导致/ 新/ 程序/ 包含/ 大量/ 的/ 变异/ 分支/ ,/ 使得/ 分支/ 覆盖/ 测试数据/ 生成/ 问题/ 非常复杂/ ./ 如果/ 采用/ 合适/ 的/ 方法/ ,/ 约简/ (/ reduction/ )/ 新/ 程序/ 中/ 的/ 变异/ 分支/ ,/ 并/ 对/ 约简/ 之后/ 的/ 变异/ 分支/ ,/ 依/ 所属/ 的/ 路径/ 进行/ 分组/ ,/ 那么/ ,/ 能够/ 将分/ Page3/ 支/ 覆盖/ 问题/ ,/ 转化/ 为/ 路径/ 覆盖/ (/ pathcoverage/ )/ 问题/ ,/ 这样一来/ ,/ 能够/ 减少/ 生成/ 的/ 测试数据/ ,/ 进一步提高/ 弱/ 变异/ 测试/ 的/ 效率/ ./ 鉴于/ 此/ ,/ 本文/ 提出/ 一种/ 基于/ 统计分析/ 的/ 弱/ 变异/ 测试/ 可/ 执行/ 路径/ 生成/ 方法/ ./ 首先/ ,/ 对/ 同一/ 被测/ 语句/ 进行/ 变异/ ,/ 形成/ 相应/ 的/ 变异/ 分支/ ,/ 并/ 根据/ 这些/ 分支/ 的/ 执行/ 关系/ ,/ 形成/ 新/ 的/ 变异/ 分支/ ;/ 然后/ ,/ 基于/ 新/ 的/ 变异/ 分支/ 与/ 被/ 测/ 语句/ 的/ 相关性/ ,/ 形成/ 可/ 执行/ 子/ 路径/ ;/ 最后/ ,/ 基于/ 统计分析/ 的/ 方法/ ,/ 生成/ 一条/ 或/ 多条/ 包含/ 这些/ 子/ 路径/ 的/ 可/ 执行/ 路径/ ./ 本文/ 的/ 贡献/ 主要/ 体现/ 在/ :/ (/ 1/ )/ 给出/ 了/ 基于/ 同一/ 被测/ 语句/ 变异/ ,/ 形成/ 新/ 变异/ 分支/ 的/ 方法/ ,/ 减少/ 了/ 变异/ 分支/ 的/ 条数/ ;/ (/ 2/ )/ 给出/ 了/ 可/ 执行/ 子/ 路径/ 形成/ 的/ 策略/ ,/ 使得/ 形成/ 的/ 子/ 路径/ ,/ 包含/ 所有/ 的/ 新/ 变异/ 分支/ ;/ (/ 3/ )/ 给出/ 了/ 可/ 执行/ 路径/ 的/ 生成/ 方法/ ,/ 使得/ 生成/ 的/ 可/ 执行/ 路径/ ,/ 包含/ 所有/ 的/ 子/ 路径/ ./ 通过/ 上述/ 工作/ ,/ 将/ 弱/ 变异/ 测试/ 问题/ 转化/ 为/ 路径/ 覆盖/ 问题/ ,/ 生成/ 了/ 包含/ 所有/ 变异/ 分支/ 的/ 可/ 执行/ 路径/ ,/ 那么/ ,/ 覆盖/ 这些/ 路径/ 的/ 测试数据/ ,/ 能够/ 杀死/ 相应/ 的/ 变异/ 体/ ,/ 从而/ 提高/ 了/ 变异/ 测试/ 的/ 效率/ ./ 本文/ 第/ 2/ 节/ 综述/ 相关/ 的/ 工作/ ;/ 第/ 3/ 节/ 阐述/ 本文/ 提出/ 的/ 方法/ ,/ 包括/ 基于/ 同一/ 语句/ 变异/ 形成/ 新/ 变异/ 分支/ 、/ 可/ 执行/ 子/ 路径/ 的/ 生成/ 、/ 可/ 执行/ 路径/ 的/ 生成/ 以及/ 实例/ 分析/ 等/ ;/ 第/ 4/ 节/ 通过/ 对比/ 实验/ ,/ 评价/ 所提/ 方法/ 的/ 性能/ ;/ 最后/ ,/ 第/ 5/ 节/ 总结/ 全文/ 所/ 做/ 的/ 工作/ ,/ 并/ 提出/ 后续/ 的/ 研究/ 问题/ ./ 2/ 相关/ 工作/ 本节/ 从/ 如下/ 5/ 个/ 主要/ 方面/ ,/ 总结/ 已有/ 的/ 研究/ 工作/ ,/ 主要/ 包括/ 变异/ 测试/ 、/ 变异/ 体/ 约简/ 、/ 变异/ 测试数据/ 生成/ 、/ 路径/ 覆盖/ 测试/ 以及/ 弱/ 变异/ 测试/ 转化/ ./ 在/ 此基础/ 上/ ,/ 引出/ 本文/ 研究/ 的/ 动机/ ./ 2.1/ 变异/ 测试/ 变异/ 测试/ 是/ 由/ DeMillo/ 等/ 人/ [/ 2/ ]/ 提出/ 的/ 一种/ 面向/ 缺陷/ 的/ 测试/ 技术/ ./ 进行/ 变异/ 测试/ 时/ ,/ 不仅/ 可以/ 选择/ 注入/ 缺陷/ 的/ 位置/ 和/ 类型/ ,/ 而且/ 可以/ 根据/ 不同/ 层次/ 的/ 测试/ ,/ 选择/ 变异/ 算子/ ,/ 因此/ ,/ 变异/ 测试/ 具有/ 很/ 好/ 的/ 灵活性/ 和/ 针对性/ [/ 8/ -/ 10/ ]/ ./ 进行/ 变异/ 测试/ 时/ ,/ 对/ 原程序/ 的/ 语句/ ,/ 按照/ 句法/ 规则/ 进行/ 一些/ 小/ 的/ 改动/ ,/ 称为/ 变异/ [/ 2/ ,/ 8/ ]/ ;/ 改动/ 语法/ 的/ 规则/ ,/ 称为/ 变异/ 算子/ ;/ 改动/ 之后/ 的/ 语句/ ,/ 称为/ 变异/ 语句/ ;/ 在/ 变异/ 体中/ ,/ 如果/ 变异/ 语句/ 只有/ 一个/ ,/ 那么/ ,/ 称为/ 一阶/ 变异/ 体/ [/ 11/ ]/ ;/ 相应/ 的/ 变异/ 测试/ ,/ 称为/ 一阶/ 变异/ 测试/ ./ 本文/ 仅/ 研究/ 一阶/ 变异/ 测试/ ,/ 简称/ 变异/ 测试/ ./ 在/ 强/ 变异/ 测试/ 准则/ 下/ ,/ 判断/ 一个/ 变异/ 体/ 能否/ 被/ 杀死/ ,/ 需要/ 满足/ 如下/ 3/ 个/ 条件/ [/ 2/ ,/ 12/ ]/ :/ (/ 1/ )/ 可达性/ ./ 测试数据/ 能够/ 执行/ 到/ 变异/ 体中/ 的/ 变异/ 语句/ ;/ (/ 2/ )/ 必要性/ ./ 测试数据/ 执行/ 变异/ 语句/ 之后/ ,/ 产生/ 与/ 原程序/ 不同/ 的/ 状态/ ;/ (/ 3/ )/ 充分性/ ./ 上述/ 不同/ 的/ 状态/ ,/ 能够/ 导致/ 原程序/ 和/ 变异/ 体/ 的/ 输出/ 不同/ ./ 如果/ 对于/ 任何/ 测试数据/ ,/ 执行/ 原程序/ 和/ 变异/ 体后/ ,/ 输出/ 均/ 相同/ ,/ 那么/ ,/ 称该/ 变异/ 体为/ 等价/ 变异/ 体/ (/ equivalentmutant/ )/ [/ 8/ ]/ ./ 除了/ 强/ 变异/ 测试/ 准则/ 之外/ ,/ 还有/ 弱/ 变异/ 测试/ 准则/ ,/ 该/ 准则/ 只/ 需要/ 满足/ 可达性/ 和/ 必要性/ 条件/ ,/ 即可/ 认为/ 变异/ 体/ 被/ 杀死/ ./ 已有/ 研究/ 表明/ ,/ 满足/ 可达性/ 和/ 必要性/ 条件/ 的/ 测试数据/ ,/ 也/ 能够/ 在/ 很大/ 程度/ 上/ 满足/ 充分性/ 条件/ [/ 5/ -/ 6/ ]/ ,/ 因此/ ,/ 弱/ 变异/ 测试/ 是/ 强/ 变异/ 测试/ 的/ 有效/ 替代/ [/ 13/ -/ 15/ ]/ ./ 2.2/ 变异/ 体/ 约简/ 为了/ 提高/ 变异/ 测试/ 效率/ ,/ 一种/ 有效/ 的/ 方法/ 是/ 尽可能减少/ 需要/ 杀死/ 的/ 变异/ 体/ ,/ 此即/ 变异/ 体/ 约简/ [/ 16/ -/ 17/ ]/ ./ 通过/ 变异/ 体/ 约简/ ,/ 减少/ 了/ 需要/ 运行/ 程序/ (/ 变异/ 体/ )/ 的/ 次数/ ,/ 提高/ 了/ 变异/ 测试/ 的/ 效率/ ./ Just/ 等/ 人/ [/ 16/ ]/ 通过/ 约简/ 同类/ 变异/ 算子/ 生成/ 的/ 变异/ 体/ ,/ 减少/ 需要/ 杀死/ 的/ 变异/ 体/ ,/ 从而/ 提高/ 变异/ 测试/ 的/ 效率/ ./ Offutt/ 和/ Lee/ [/ 17/ ]/ 通过/ 采用/ 部分/ 变异/ 算子/ 代替/ 所有/ 的/ 变异/ 算子/ ,/ 生成/ 变异/ 体/ ,/ 以/ 减少/ 需要/ 杀死/ 的/ 变异/ 体/ ./ 徐拾义/ [/ 18/ ]/ 通过/ 与/ 变异/ 体/ 对应/ 条件/ 语句/ 之间/ 的/ 占优/ 关系/ ,/ 约简/ 变异/ 体/ ./ 此外/ ,/ 还有/ 学者/ 采用/ 遗传算法/ [/ 19/ ]/ ,/ 约简/ 变异/ 体/ ./ 2.3/ 变异/ 测试数据/ 生成/ 基于/ 变异/ 测试/ 准则/ ,/ 生成/ 测试数据/ ,/ 以/ 杀死/ 相应/ 的/ 变异/ 体/ ./ Offutt/ [/ 20/ ]/ 提出/ 了/ 基于/ 约束/ 的/ 测试数据/ 生成/ 方法/ ,/ 生成/ 的/ 测试数据/ 能够/ 检测/ 98/ %/ 的/ 变异/ 体/ ./ 但是/ ,/ 该/ 方法/ 受到/ 符号执行/ 技术/ 本身/ 的/ 限制/ ;/ 为了/ 克服/ 上述/ 不足/ ,/ Offutt/ 等/ 人/ [/ 21/ ]/ 、/ 刘新忠/ 等/ 人/ [/ 13/ ]/ 以及/ 单锦辉/ 等/ 人/ [/ 22/ ]/ 从/ 不同/ 方面/ 提出/ 了/ 动态/ 域/ 约简/ 方法/ ,/ 提高/ 了/ 测试数据/ 生成/ 的/ 效率/ ./ 但是/ ,/ 上述/ 研究/ 工作/ 仅/ 局限于/ 采用/ 传统/ 的/ 约束/ 求解/ 方法/ ,/ 生成/ 变异/ 测试数据/ ./ 基于/ 搜索/ 的/ 方法/ [/ 23/ ]/ ,/ 如/ 遗传算法/ [/ 24/ ]/ ,/ 也/ 可以/ 用于/ 生成/ 测试数据/ ./ 张功杰/ 等/ 人/ [/ 25/ ]/ 以/ 测试数据/ 集/ 作为/ 决策/ 变量/ ,/ 构造/ 目标/ 函数/ ,/ 并/ 采用/ 集合/ 进化/ ,/ 生成/ 变异/ 测试数据/ ,/ 但是/ ,/ 该/ 方法/ 没有/ 对/ 变异/ 体/ 约简/ ,/ 使得/ 生成/ 变异/ 测试数据/ 的/ 代价/ 比较/ 高/ ./ 2.4/ 路径/ 覆盖/ 的/ 测试/ 与/ 变异/ 测试/ 相比/ ,/ 结构/ 覆盖/ 测试/ 近年来/ 取得/ 了/ 丰硕/ 的/ 研究成果/ ,/ 该/ 测试方法/ 以/ 覆盖/ 程序/ 的/ 某种/ 结构/ ,/ 如/ 语句/ 、/ 分支/ ,/ 或者/ 路径/ ,/ 为/ 测试/ 目标/ ,/ 生成/ 测试/ Page4/ 数据/ ,/ 相应/ 的/ 覆盖/ 准则/ 分别/ 称为/ 语句/ 覆盖/ 、/ 分支/ 覆盖/ 以及/ 路径/ 覆盖/ ./ 在/ 这些/ 结构/ 覆盖/ 准则/ 中/ ,/ 路径/ 覆盖/ 最为/ 常用/ ./ 其中/ ,/ 采用/ 基于/ 搜索/ 的/ 方法/ ,/ 生成/ 测试数据/ [/ 26/ -/ 27/ ]/ ,/ 成为/ 近年来/ 软件测试/ 研究/ 的/ 热点/ ./ 该/ 方法/ 首先/ 将/ 路径/ 覆盖/ 问题/ ,/ 转化/ 为/ 一个/ 数值/ 函数/ 优化/ 问题/ ;/ 然后/ ,/ 采用/ 某一/ 搜索/ 方法/ ,/ 如/ 进化/ 优化/ 方法/ ,/ 生成/ 期望/ 的/ 测试数据/ ./ Bueno/ 等/ 人/ [/ 28/ ]/ 、/ Lin/ 等/ 人/ [/ 29/ ]/ 以及/ Watkins/ 等/ 人/ [/ 30/ ]/ 分别/ 利用/ 遗传算法/ ,/ 生成/ 覆盖/ 路径/ 的/ 测试数据/ ./ 但是/ ,/ 上述/ 方法/ 存在/ 的/ 共同/ 不足/ 是/ ,/ 一次/ 运行/ 遗传算法/ ,/ 仅能/ 生成/ 覆盖/ 一条/ 路径/ 的/ 测试数据/ ./ 为了/ 克服/ 上述/ 不足/ ,/ Ahmed/ 等/ 人/ [/ 31/ ]/ 将/ 多路径/ 覆盖/ 测试数据/ 生成/ 问题/ ,/ 转化/ 为/ 多/ 目标/ 优化/ 问题/ ,/ 使得/ 一次/ 运行/ 遗传算法/ ,/ 能够/ 生成/ 覆盖/ 多条/ 路径/ 的/ 测试数据/ ./ 但是/ ,/ 当/ 需要/ 覆盖/ 的/ 路径/ 很多/ 时/ ,/ 基于/ 该/ 方法/ 建立/ 的/ 模型/ ,/ 将/ 包含/ 很多/ 目标/ 函数/ ,/ 提高/ 了/ 模型/ 求解/ 的/ 复杂度/ ./ 后来/ ,/ 文献/ [/ 32/ -/ 33/ ]/ 针对/ 很多/ 路径/ 覆盖/ 问题/ ,/ 通过/ 路径/ 分组/ ,/ 简化/ 了/ 优化/ 模型/ ,/ 从而/ 降低/ 了/ 问题/ 求解/ 的/ 难度/ ./ 但是/ ,/ 路径/ 覆盖/ 测试/ 面临/ 的/ 问题/ 是/ ,/ 如何/ 生成/ 需要/ 覆盖/ 的/ 目标/ 路径/ ;/ 此外/ ,/ 还/ 需要/ 判断/ 这些/ 路径/ 是否/ 可/ 执行/ 的/ ,/ 这/ 是因为/ ,/ 如果/ 这些/ 路径/ 是/ 不可/ 执行/ 的/ ,/ 将/ 花费/ 很多/ 时间/ ,/ 用于/ 生成/ 覆盖/ 这些/ 路径/ 的/ 测试数据/ ,/ 从而/ 降低/ 了/ 软件测试/ 的/ 效率/ ./ Zhang/ 等/ 人/ [/ 34/ ]/ 基于/ 程序/ 的/ 控制流/ 图/ ,/ 采用/ 深度/ 优先/ 搜索/ 方法/ ,/ 自动/ 生成/ 基本/ 路径/ 集/ ./ 虽然/ 这些/ 路径/ 能够/ 覆盖/ 控制流/ 图/ 的/ 所有/ 节点/ 和/ 边/ ,/ 但是/ ,/ 有些/ 路径/ 是/ 不可/ 执行/ 的/ ./ 为了/ 避免/ 生成/ 不可/ 执行/ 的/ 路径/ ,/ Yan/ 等/ 人/ [/ 35/ ]/ 根据/ 控制流/ 图/ ,/ 采用/ 广度/ 优先/ 搜索/ 方法/ ,/ 生成/ 可/ 执行/ 的/ 基本/ 路径/ 集/ ./ 但是/ ,/ 对于/ 大型/ 程序/ ,/ 构造/ 其/ 控制流/ 图/ 的/ 代价/ 是/ 相当/ 大/ 的/ ;/ 此外/ ,/ 在/ 软件测试/ 时/ ,/ 往往/ 只/ 需/ 测试程序/ 的/ 部分/ 代码/ 及其/ 形成/ 的/ 路径/ ,/ 此时/ ,/ 构造/ 完整/ 的/ 控制流/ 图/ 通常/ 是/ 没有/ 必要/ 的/ ./ 鉴于/ 此/ ,/ 本文/ 基于/ 选择/ 的/ 被/ 测/ 语句/ ,/ 通过/ 弱/ 变异/ 测试/ 转化/ ,/ 并/ 采用/ 合适/ 的/ 策略/ ,/ 生成/ 包含/ 这些/ 被测/ 语句/ 及其/ 转化/ 后/ 语句/ 的/ 可/ 执行/ 路径/ 集/ ,/ 以期/ 提高/ 软件测试/ 的/ 效率/ ./ 2.5/ 弱/ 变异/ 测试/ 转化/ 鉴于/ 结构/ 覆盖/ 测试/ 已经/ 取得/ 的/ 成果/ ,/ Papadakis/ 等/ 人/ [/ 7/ ]/ 将/ 基于/ 弱/ 变异/ 测试/ 准则/ 杀死/ 变异/ 体/ 的/ 问题/ ,/ 转化/ 为/ 变异/ 条件/ 语句/ 真/ 分支/ 的/ 覆盖/ 问题/ ./ 为此/ ,/ 首先/ ,/ 对于/ 变异/ 前后/ 的/ 语句/ s/ 和/ s/ ,/ 基于/ 弱/ 变异/ 测试/ 的/ 必要条件/ ,/ 构建/ 变异/ 条件/ 语句/ “/ ifs/ !/ =/ s/ ”/ ,/ 其真/ 分支/ 为/ 一个/ 标志/ 语句/ ;/ 然后/ ,/ 把/ 这些/ 变异/ 条件/ 语句/ ,/ 插入/ 到/ 原程序/ 的/ 相应/ 位置/ ,/ 形成/ 新/ 的/ 被/ 测/ 程序/ ./ 那么/ ,/ 能够/ 覆盖/ 新/ 程序/ 变异/ 条件/ 语句/ 真/ 分支/ 的/ 测试数据/ ,/ 一定/ 能够/ 杀死/ 该/ 变异/ 条件/ 语句/ 对应/ 的/ 变异/ 体/ ./ 这样/ 做/ 的/ 好处/ 是/ ,/ 能够/ 利用/ 已有/ 的/ 分支/ 覆盖/ 测试数据/ 生成/ 方法/ ,/ 生成/ 变异/ 测试数据/ ./ 进一步/ ,/ Papadakis/ 等/ 人/ [/ 36/ ]/ 提出/ 一种/ 路径/ 的/ 选择/ 策略/ ,/ 以/ 覆盖/ 所有/ 的/ 变异/ 分支/ ./ 为此/ ,/ 从/ 候选/ 路径/ 集中/ ,/ 选择/ 合适/ 的/ 路径/ ,/ 使得/ 覆盖/ 这些/ 路径/ 的/ 测试数据/ ,/ 也/ 能够/ 覆盖/ 变异/ 分支/ ,/ 从而/ 通过/ 已有/ 的/ 路径/ 覆盖/ 测试数据/ 生成/ 方法/ ,/ 生成/ 杀死/ 变异/ 体/ 的/ 测试数据/ ./ 但是/ ,/ 由于/ 该/ 方法/ 没有/ 约简/ 变异/ 体/ ,/ 使得/ 新/ 程序/ 包含/ 大量/ 的/ 变异/ 分支/ ,/ 从而/ 增加/ 了/ 程序/ 的/ 复杂度/ ,/ 降低/ 了/ 变异/ 测试数据/ 生成/ 的/ 效率/ ./ 3/ 提出/ 的/ 方法/ 对于/ 一个/ 实际/ 的/ 被/ 测/ 程序/ ,/ 尽管/ 该/ 程序/ 的/ 代码/ 可能/ 很多/ ,/ 但是/ ,/ 程序/ 的/ 缺陷/ 往往/ 仅/ 集中/ 于/ 某些/ 代码/ 范围/ 内/ ,/ 如果/ 针对/ 所有/ 的/ 语句/ 均/ 实施/ 测试/ ,/ 那么/ ,/ 将会/ 花费/ 很大/ 的/ 测试/ 代价/ ./ 鉴于/ 此/ ,/ 可以/ 选择/ 出现/ 缺陷/ 概率/ 比较/ 大/ 的/ 语句/ [/ 10/ ]/ 进行/ 测试/ ,/ 对于/ 提高/ 测试/ 效率/ ,/ 是/ 非常/ 有/ 帮助/ 的/ ./ 现在/ 我们/ 考虑/ 上述/ 语句/ 的/ 变异/ 测试/ 问题/ ./ 采用/ Papadakis/ 等/ 人/ [/ 7/ ]/ 思想/ ,/ 将/ 弱/ 变异/ 测试/ 转化/ 为/ 分支/ 覆盖/ 问题/ ,/ 我们/ 研究/ 发现/ ,/ 在/ 新/ 的/ 被/ 测/ 程序/ 中/ ,/ 被/ 插入/ 的/ 这些/ 变异/ 分支/ 之间/ 存在/ 一定/ 的/ 关联/ ,/ 体现/ 为/ 多个/ 变异/ 分支/ 分布/ 在/ 同/ 一条/ 路径/ 上/ ./ 因此/ ,/ 我们/ 考虑/ 基于/ 变异/ 分支/ 所在/ 的/ 路径/ ,/ 对/ 上述/ 变异/ 分支/ 分组/ ,/ 那么/ ,/ 将/ 弱/ 变异/ 测试/ 问题/ ,/ 转化/ 为/ 路径/ 覆盖/ 问题/ ,/ 以期/ 提高/ 变异/ 测试/ 的/ 效率/ ./ 3.1/ 思想/ 首先/ ,/ 基于/ 对/ 同一/ 被测/ 语句/ 变异/ ,/ 形成/ 的/ 多个/ 变异/ 分支/ ,/ 采用/ 静态/ 分析/ ,/ 根据/ 这些/ 分支/ 的/ 执行/ 关系/ ,/ 形成/ 新/ 的/ 变异/ 分支/ ;/ 然后/ ,/ 基于/ 新/ 的/ 变异/ 分支/ 与/ 被/ 测/ 语句/ 的/ 相关性/ ,/ 形成/ 一条/ 或/ 多条/ 可/ 执行/ 的/ 子/ 路径/ ;/ 最后/ ,/ 基于/ 统计分析/ 方法/ ,/ 根据/ 这些/ 子/ 路径/ 的/ 执行/ 关系/ ,/ 自动/ 生成/ 一条/ 或/ 多条/ 可/ 执行/ 路径/ ./ 3.2/ 基于/ 同一/ 语句/ 变异/ 形成/ 新/ 变异/ 分支/ 本/ 节/ 考虑/ 针对/ 同一/ 被测/ 语句/ 变异/ ,/ 形成/ 新/ 的/ 变异/ 分支/ ./ 首先/ ,/ 对/ 同一/ 语句/ 进行/ 变异/ ,/ 基于/ 变异/ 分支/ 之间/ 的/ 执行/ 关系/ [/ 37/ ]/ ,/ 进行/ 分组/ ;/ 然后/ ,/ 基于/ 每组/ 变异/ 分支/ 所属/ 条件/ 语句/ 的/ 语义/ 关系/ ,/ 形成/ 新/ 的/ 变异/ 分支/ ./ 在/ si/ 之前/ 插装/ 变异/ 分支/ 后/ 形成/ 新/ 程序/ ,/ 插装/ 的/ 变异/ 分支/ 分别/ 记为/ e1/ ,/ e2/ ,/ …/ ,/ ep/ ,/ …/ ,/ 这些/ 变异/ 分支/ 的/ 真/ 分支/ 分别/ 记为/ e1/ (/ 1/ )/ ,/ e2/ (/ 1/ )/ ,/ …/ ,/ ep/ (/ 1/ )/ ,/ …/ ./ 记/ 被/ 测/ 语句/ Page5/ 为/ si/ ,/ 如果/ 该/ 语句/ 是/ 条件/ 语句/ ,/ 记其真/ 分支/ 为/ si/ (/ 1/ )/ ,/ 假/ 分支/ 为/ si/ (/ 0/ )/ ./ 图/ 1/ 示例/ 程序/ 对/ 被/ 测/ 语句/ “/ x/ </ =/ y/ ”/ 实施/ 关系/ 运算符/ 替换/ (/ RelationOperatorReplacement/ ,/ ROR/ )/ 、/ 算术/ 运算符/ 替换/ (/ ArithmeticOperatorReplacement/ ,/ AOR/ )/ 和/ 单目/ 运算符/ 替换/ (/ UnaryOperatorReplacement/ ,/ UOI/ )/ 等/ 3/ 种/ 变异/ 算子/ [/ 17/ ]/ ,/ 其中/ ,/ ROR/ 包含/ 的/ 变异/ 算子/ 为/ {/ (/ u/ ,/ v/ )/ |/ u/ ,/ v/ ∈/ {/ >/ ,/ >/ =/ ,/ </ ,/ </ =/ ,/ =/ =/ ,/ !/ =/ }/ ∧/ u/ ≠/ v/ }/ ,/ AOR/ 包含/ 的/ 变异/ 算子/ 为/ {/ (/ u/ ,/ v/ )/ |/ u/ ,/ v/ ∈/ {/ +/ ,/ -/ ,/ / ,/ // ,/ \/ %/ }/ ∧/ u/ ≠/ v/ }/ ,/ UOI/ 包含/ 的/ 变异/ 算子/ 为/ {/ (/ v/ ,/ -/ -/ v/ )/ ,/ (/ v/ ,/ ++/ v/ )/ ,/ (/ v/ ,/ v/ -/ -/ )/ ,/ (/ v/ ,/ v/ ++/ )/ }/ ./ 实施/ 这/ 3/ 种/ 变异/ 算子/ 之后/ ,/ 被测/ 语句/ “/ x/ </ =/ y/ ”/ 共/ 生成/ 11/ 个/ 变异/ 语句/ ./ 首先/ ,/ 对/ 9/ 个/ 非/ 等价/ 变异/ 体/ 对应/ 的/ 变异/ 语句/ 转化/ 为/ 相应/ 的/ 变异/ 分支/ ,/ 并/ 插/ 装到/ 原程序/ 的/ 被/ 测/ 语句/ “/ x/ </ =/ y/ ”/ 之前/ ;/ 然后/ ,/ 分析/ 新/ 程序/ 中/ 9/ 个/ 变异/ 分支/ 之间/ 的/ 占优/ 关系/ ,/ 由/ 文献/ [/ 37/ ]/ 可知/ ,/ 当/ 一个/ 变异/ 分支/ 执行/ 时/ ,/ 其他/ 一/ 或/ 多个/ 变异/ 分支/ 一定/ 执行/ ,/ 记该/ 变异/ 分支/ 占优/ 其他/ 变异/ 分支/ ,/ 当/ 程序/ 的/ 某/ 一/ 输入/ ,/ 使得/ 变异/ 分支/ e1/ 、/ e3/ 或/ e5/ 执行/ 时/ ,/ 变异/ 分支/ e6/ 一定/ 执行/ ,/ 那么/ ,/ e6/ 是/ 被/ 占优/ 分支/ ./ 类似/ 的/ ,/ 变异/ 分支/ e7/ 、/ e8/ 和/ e9/ 也/ 是/ 被/ 占优/ 分支/ ./ 约简/ 这些/ 被/ 占优/ 分支/ 之后/ ,/ 5/ 个/ 非/ 被/ 占优/ 变异/ 分支/ 为/ e1/ ,/ e2/ ,/ …/ ,/ e5/ ./ 如图/ 1/ (/ c/ )/ 的/ 灰色/ 部分/ 所示/ ./ 下面/ 通过/ 一个/ 例子/ ,/ 说明/ 变异/ 分支/ 分组/ 策略/ 和/ 新/ 的/ 变异/ 分支/ 形成/ 过程/ ./ 如图/ 1/ (/ a/ )/ 为/ 被/ 测/ 程序/ ./ 然后/ ,/ 根据/ 这些/ 非/ 被/ 占优/ 变异/ 分支/ 之间/ 的/ 执行/ 关系/ ,/ 对/ 5/ 个/ 变异/ 分支/ 分组/ ./ 如图/ 1/ (/ b/ )/ 所示/ ,/ 根据/ 执行/ 关系/ ,/ 考虑/ 变异/ 分支/ e1/ 和/ e3/ 的/ 条件/ 谓词/ 表达式/ ,/ 这/ 2/ 个/ 条件/ 谓词/ 表达式/ 并不矛盾/ ,/ 因此/ ,/ 可以/ 将/ 这/ 2/ 个/ 变异/ 分支/ 分为/ 一组/ ;/ 类似/ 的/ ,/ 将/ 变异/ 分支/ e2/ 和/ e4/ 分为/ 一组/ ;/ 变异/ 分支/ e5/ 单独/ 为/ 一组/ ./ 最后/ ,/ 考虑/ 上述/ 3/ 组/ 变异/ 分支/ ,/ 在/ 各自/ 组内/ 形成/ 新/ 的/ 变异/ 分支/ ./ 对于/ e1/ 和/ e3/ 所在/ 的/ 组/ ,/ 通过/ “/ 逻辑/ 与/ ”/ 的/ 方式/ ,/ 把/ 其/ 条件/ 谓词/ 表达式/ 连接起来/ ,/ 新/ 形成/ 的/ 变异/ 分支/ 为/ e13/ :/ if/ (/ (/ x/ </ =/ y/ )/ !/ =/ (/ x/ </ =/ ++/ a1/ )/ )/ &&/ 类似/ 的/ ,/ 基于/ 变异/ 分支/ e2/ 和/ e4/ ,/ 新/ 形成/ 的/ 变异/ 分支/ 为/ e24/ ;/ 新/ 形成/ 的/ 变异/ 分支/ 如图/ 1/ (/ c/ )/ 所示/ ./ 以/ 这种/ 方式/ 分组/ 变异/ 分支/ 和/ 形成/ 新/ 变异/ 分支/ ,/ 有利于/ 生成/ 数量/ 较少/ 的/ 可/ 执行/ 路径/ ./ 但是/ ,/ 通过/ “/ 逻辑/ 与/ ”/ 的/ 连接/ 方式/ ,/ 可能/ 增加/ 了/ 包含/ 这些/ 新/ 变异/ 分支/ 路径/ 覆盖/ 的/ 难度/ ./ 解决/ 该/ 问题/ 的/ 途径/ 之一/ 是/ ,/ 利用/ 比较/ 成熟/ 的/ 路径/ 覆盖/ 技术/ ,/ 生成/ 测试数据/ ,/ 以/ 降低/ 测试数据/ 生成/ 的/ 代价/ ,/ 关于/ 该/ 内容/ 的/ 研究/ ,/ 已经/ 超出/ 了/ 本文/ 的/ 范围/ ./ Page63/ ./ 3/ 可/ 执行/ 子/ 路径/ 的/ 生成/ 不/ 引起/ 混淆/ 的/ 情况/ 下/ ,/ 被测/ 语句/ si/ 之前/ 插装/ 的/ 新/ 变异/ 分支/ 仍记/ 为/ e1/ ,/ e2/ ,/ …/ ,/ ep/ ,/ …/ ,/ 它们/ 的/ 真/ 分支/ 分别/ 记为/ e1/ (/ 1/ )/ ,/ e2/ (/ 1/ )/ ,/ …/ ,/ ep/ (/ 1/ )/ ,/ …/ ./ 现在/ 由/ 这些/ 新/ 变异/ 分支/ 与/ 被/ 测/ 语句/ ,/ 生成/ 可/ 执行/ 子/ 路径/ ./ 如果/ 条件/ 语句/ 的/ 谓词/ 表达式/ ,/ 那么/ ,/ 考察/ 上述/ 变异/ 分支/ ep/ 的/ 条件/ 语句/ 与/ 该/ 条件/ 语句/ si/ 之间/ 的/ 相关性/ ./ 如果/ 它们/ 是/ 真真/ 相关/ 的/ [/ 38/ ]/ ,/ 那么/ ,/ 基于/ 变异/ 真/ 分支/ 和/ 被/ 测/ 语句/ 的/ 真/ 分支/ ,/ 形成/ 一条/ 子/ 路径/ ,/ 记/ 为/ (/ ep/ (/ 1/ )/ ,/ si/ (/ 1/ )/ )/ ;/ 如果/ 它们/ 是/ 真假/ 相关/ 的/ [/ 38/ ]/ ,/ 那么/ ,/ 基于/ 变异/ 真/ 分支/ 和/ 被/ 测/ 语句/ 的/ 假/ 分支/ ,/ 形成/ 一条/ 子/ 路径/ ,/ 记/ 为/ (/ ep/ (/ 1/ )/ ,/ si/ (/ 0/ )/ )/ ./ 如果/ 被测/ 语句/ 不是/ 条件/ 语句/ 的/ 谓词/ 表达式/ ,/ 那么/ ,/ 直接/ 基于/ 变异/ 真/ 分支/ 与/ 该/ 被/ 测/ 语句/ ,/ 形成/ 一条/ 子/ 路径/ ,/ 记/ 为/ (/ ep/ (/ 1/ )/ ,/ si/ )/ ./ 通过/ 上述/ 方法/ ,/ 对于/ 每/ 一新/ 变异/ 分支/ ,/ 与/ 被/ 测/ 语句/ ,/ 能够/ 形成/ 一条/ 子/ 路径/ ./ 进一步/ ,/ 根据/ 变异/ 分支/ 的/ 可执行性/ ,/ 判定/ 子/ 路径/ 是否是/ 可/ 执行/ 的/ ,/ 从而/ 得到/ 可/ 执行/ 的/ 子/ 路径/ ./ 类似/ 方法/ ,/ 对于/ 所有/ 变异/ 分支/ e1/ ,/ e2/ ,/ …/ ,/ ep/ ,/ …/ ,/ 与/ 被/ 测/ 语句/ si/ ,/ 形成/ 的/ 可/ 执行/ 子/ 路径/ 集合/ 为/ {/ ai1/ ,/ ai2/ ,/ …/ ,/ aip/ ,/ …/ }/ =/ {/ (/ e1/ (/ 1/ )/ ,/ si/ (/ b/ )/ )/ ,/ (/ e2/ (/ 1/ )/ ,/ si/ (/ b/ )/ )/ ,/ …/ ,/ 取/ / 、/ 1/ 或/ 0/ ,/ 其中/ “/ / ”/ 表示/ 为/ 被/ 测/ 语句/ 既/ 没有/ 真/ 分支/ 也/ 没有/ 假/ 分支/ ./ 因此/ ,/ si/ (/ b/ )/ 分别/ 表示/ 为/ 被/ 测/ 语句/ ,/ 被测/ 语句/ 的/ 真/ 分支/ 、/ 或/ 被/ 测/ 语句/ 的/ 假/ 分支/ ./ 对于/ 图/ 1/ 的/ 示例/ 程序/ ,/ 由于/ 新/ 变异/ 分支/ e13/ 的/ 条件/ 谓词/ 表达式/ “/ (/ (/ x/ </ =/ y/ )/ !/ =/ (/ x/ </ =/ ++/ a1/ )/ )/ &&/ (/ (/ x/ </ =/ y/ )/ !/ =/ (/ x/ </ =/ abs/ (/ y/ )/ )/ )/ ”/ 与/ 被/ 测/ 语句/ s1/ 的/ 条件/ 谓词/ 表达式/ “/ (/ x/ </ =/ y/ )/ ”/ 在/ 语义上/ 是/ 矛盾/ 的/ ,/ 因此/ ,/ e13/ 和/ s1/ 真假/ 相关/ ,/ 形成/ 的/ 子/ 路径/ 为/ a11/ =/ (/ e13/ (/ 1/ )/ ,/ s1/ (/ 0/ )/ )/ ;/ 类似/ 的/ ,/ e24/ 和/ s1/ 真真/ 相关/ ,/ 形成/ 的/ 子/ 路径/ 为/ a12/ =/ (/ e24/ (/ 1/ )/ ,/ s1/ (/ 1/ )/ )/ ;/ e5/ 和/ s1/ 真真/ 相关/ ,/ 形成/ 的/ 子/ 路径/ 为/ a13/ =/ (/ e5/ (/ 1/ )/ ,/ s1/ (/ 1/ )/ )/ ./ 由于/ e13/ 、/ e24/ 和/ e5/ 均/ 为/ 可/ 执行/ 变异/ 分支/ ,/ 因此/ ,/ 它们/ 所属/ 的/ 子/ 路径/ a11/ =/ (/ e13/ (/ 1/ )/ ,/ s1/ (/ 0/ )/ )/ 、/ a12/ =/ (/ e24/ (/ 1/ )/ ,/ s1/ (/ 1/ )/ )/ 和/ a13/ =/ (/ e5/ (/ 1/ )/ ,/ s1/ (/ 1/ )/ )/ 也/ 是/ 可/ 执行/ 的/ ,/ 从而/ 生成/ 的/ 可/ 执行/ 的/ 子/ 路径/ 集合/ 为/ {/ a11/ ,/ a12/ ,/ a13/ }/ =/ {/ (/ e13/ (/ 1/ )/ ,/ s1/ (/ 0/ )/ )/ ,/ (/ e24/ (/ 1/ )/ ,/ s1/ (/ 1/ )/ )/ ,/ (/ e5/ (/ 1/ )/ ,/ s1/ (/ 1/ )/ )/ }/ ./ 3.4/ 可/ 执行/ 路径/ 的/ 生成/ 假设/ 原程序/ 有/ n/ 条/ 被/ 测/ 语句/ ,/ 其/ 第/ i/ 条/ 被/ 测/ 语句/ 为/ si/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ n/ )/ ,/ 采用/ 第/ 3.2/ 和/ 3.3/ 节/ 的/ 方法/ ,/ 得到/ 的/ 可/ 执行/ 子/ 路径/ 集合/ 为/ Ai/ =/ {/ ai1/ ,/ ai2/ ,/ …/ ,/ ai/ |/ Ai/ |/ }/ ./ 对于/ 所有/ 的/ 被/ 测/ 语句/ ,/ 可/ 执行/ 子/ 路径/ 的/ 集合/ 为/ A/ =/ {/ A1/ ,/ A2/ ,/ …/ ,/ An/ }/ ,/ 容易/ 知道/ ,/ A/ 包含/ 的/ 子/ 路径/ 条数/ 为/ |/ A/ |/ =/ ∑/ 时/ 执行/ ,/ 因此/ ,/ 需要/ 将/ Ai/ 与/ Aj/ (/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ n/ ,/ j/ ≠/ i/ )/ 的/ 子/ 路径/ 进行/ 组合/ ,/ 生成/ 可/ 执行/ 路径/ ./ 下面/ 考虑/ 插入/ 新/ 变异/ 分支/ 之后/ 的/ 新/ 程序/ ./ 为了/ 使/ 生成/ 的/ 可/ 执行/ 路径/ 比较/ 少/ ,/ 必须/ 充分考虑/ 子/ 路径/ 之间/ 的/ 执行/ 关系/ ./ 首先/ ,/ 基于/ 子/ 路径/ 之间/ 的/ 执行/ 关系/ ,/ 构建/ 一个/ 相关矩阵/ ;/ 然后/ ,/ 根据/ 矩阵/ 中/ 元素/ 的/ 取值/ ,/ 约简/ 该/ 矩阵/ ,/ 同时/ ,/ 使得/ 可/ 执行/ 子/ 路径/ 集合/ 包含/ 的/ 元素/ 最少/ ;/ 最后/ ,/ 根据/ 与/ 某子/ 路径/ 相关/ 的/ 子/ 路径/ 条数/ ,/ 依/ 一定/ 的/ 顺序/ ,/ 将/ 相关/ 的/ 子/ 路径/ 组合/ 起来/ ,/ 生成/ 一/ 或/ 多条/ 可/ 执行/ 路径/ ./ (/ 1/ )/ 相关矩阵/ 的/ 构建/ 为了/ 构建/ 相关矩阵/ ,/ 考虑/ A/ 的/ 2/ 个子/ 路径/ aip/ ,/ ajk/ ,/ i/ ≠/ j/ ./ 对于/ 程序/ 的/ 某/ 一/ 输入/ x/ ,/ aip/ 可能/ 被/ 穿越/ ,/ 也/ 可能/ 不/ 被/ 穿越/ ,/ ajk/ 也/ 是/ 如此/ ./ 为了/ 反映/ 这/ 2/ 个子/ 路径/ 被/ 穿越/ 的/ 可能性/ ,/ 定义/ 如下/ 2/ 个/ 随机变量/ :/ μ/ ip/ (/ x/ )/ =/ μ/ jk/ (/ x/ )/ =/ 显然/ ,/ 变量/ μ/ ip/ 和/ μ/ jk/ 服从/ (/ 0/ ,/ 1/ )/ 分布/ ./ 对于/ 变量/ μ/ ip/ 和/ μ/ jk/ ,/ 若/ 给定/ μ/ ip/ ,/ 且/ P/ (/ μ/ ip/ =/ i/ )/ >/ 0/ 时/ ,/ μ/ jk/ 的/ 条件/ 分布/ 律为/ P/ (/ μ/ jk/ =/ j/ |/ μ/ ip/ =/ i/ )/ =/ 式/ (/ 1/ )/ 反映/ 了/ 变量/ μ/ ip/ =/ i/ 发生/ 的/ 条件/ 下/ μ/ jk/ =/ j/ 发生/ 的/ 概率/ ./ 如果/ 随机变量/ μ/ ip/ 和/ μ/ jk/ 的/ 值/ 存在/ 一定/ 的/ 联系/ ;/ 那么/ ,/ 子/ 路径/ aip/ 和/ ajk/ 的/ 执行/ 也/ 具有/ 一定/ 的/ 相关/ ,/ 反之亦然/ ./ 因此/ ,/ 可以/ 利用/ 式/ (/ 1/ )/ 的/ μ/ ip/ 和/ μ/ jk/ 的/ 条件/ 分布/ 率/ ,/ 考察/ aip/ ,/ ajk/ 执行/ 的/ 相关/ 程度/ ./ 在/ 程序/ 的/ 输入/ 域/ 中/ 采样/ R/ 次/ ,/ 采样/ 值/ 分别/ 为/ x1/ ,/ x2/ ,/ …/ ,/ xR/ ,/ 对于/ 每一/ 采样/ 值/ ,/ 根据/ 子/ 路径/ aip/ 和/ ajk/ 是否/ 被/ 穿越/ ,/ 计算/ 上述/ 随机变量/ 的/ μ/ ip/ 和/ μ/ jk/ 值/ ./ 子/ 路径/ aip/ 和/ ajk/ 之间/ 的/ 相关度/ ,/ 记/ 为/ α/ ip/ ,/ jk/ ,/ 可以/ 定义/ 如下/ :/ 由式/ (/ 2/ )/ 可以/ 看出/ ,/ 两个/ 子/ 路径/ 的/ 相关度/ 的/ 取值/ 范围/ 是/ 0/ / α/ ip/ ,/ jk/ / 1/ ;/ 当/ α/ ip/ ,/ jk/ =/ 1/ 时/ ,/ 表示/ 同一/ 或/ 两个/ 不同/ 的/ 子/ 路径/ 最/ 相关/ ;/ 当/ α/ ip/ ,/ jk/ =/ 0/ 时/ ,/ 表示/ 这/ 两个/ Page7/ 不同/ 的/ 子/ 路径/ 最/ 不/ 相关/ ./ 由式/ (/ 2/ )/ ,/ 类似/ 的/ ,/ 可以/ 得到/ 所有/ 子/ 路径/ 之间/ 的/ 相关度/ ,/ 对于/ 可/ 执行/ 子/ 路径/ 集合/ Ai/ =/ {/ ai1/ ,/ ai2/ ,/ …/ ,/ ai/ |/ Ai/ |/ }/ ,/ 由/ 这些/ 相关度/ 的/ 值/ ,/ 够/ 构建/ 如下/ 的/ 相关矩阵/ :/ a11a12/ Λ/ =/ aipan/ |/ An/ |/ 由/ 矩阵/ Λ/ 可以/ 看出/ ,/ (/ 1/ )/ 矩阵/ Λ/ 的/ 对角线/ 元素/ 均/ 为/ 1/ ,/ 即子/ 路径/ 与/ 自身/ 的/ 相关度/ 为/ 1/ ,/ 表明/ 子/ 路径/ 与/ 自身/ 最/ 相关/ ;/ (/ 2/ )/ α/ ip/ ,/ jk/ 的/ 值/ 越/ 大/ ,/ 那么/ ,/ 子/ 路径/ aip/ 、/ ajk/ 的/ 相关度/ 越高/ ;/ 特别/ 的/ ,/ α/ ip/ ,/ jk/ =/ 1/ 时/ ,/ 表示/ 两个/ 不同/ 的/ 子/ 路径/ 是/ 最/ 相关/ 的/ ,/ 即子/ 路径/ aip/ 的/ 执行/ ,/ 必然/ 导致/ ajk/ 也/ 执行/ ;/ (/ 3/ )/ α/ ip/ ,/ jk/ 的/ 值/ 越/ 小/ ,/ 那么/ ,/ 子/ 路径/ aip/ 、/ ajk/ 的/ 相关度/ 越低/ ;/ 特别/ 的/ ,/ α/ ip/ ,/ jk/ =/ 0/ 时/ ,/ 表示/ 两个/ 不同/ 的/ 子/ 路径/ 是/ 最/ 不/ 相关/ 的/ ,/ 即子/ 路径/ aip/ 的/ 执行/ ,/ 必然/ 导致/ ajk/ 不/ 执行/ ./ (/ 2/ )/ 相关矩阵/ 的/ 约简/ 当/ 不同/ 子/ 路径/ 之间/ 相关度/ α/ ip/ ,/ jk/ =/ 1/ 时/ ,/ 可以/ 约简/ 相关矩阵/ Λ/ ./ 首先/ ,/ 考察/ Λ/ 的/ 第/ 1/ 行/ 包含/ 的/ 元素/ ,/ 该行/ 元素/ 反映/ 了/ 子/ 路径/ a11/ 与/ ajk/ (/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ n/ ;/ k/ =/ 1/ ,/ 2/ ,/ …/ ,/ |/ An/ |/ )/ 的/ 相关度/ ./ 如果/ / α/ 11/ ,/ jk/ ,/ j/ ≠/ 1/ ;/ 瓡/ :/ α/ 11/ ,/ jk/ =/ 1/ ,/ 此时/ ,/ 子/ 路径/ a11/ 执行/ ,/ 必然/ 导致/ ajk/ 也/ 执行/ ,/ 那么/ ,/ 从/ Λ/ 中/ 删除/ 子/ 路径/ ajk/ 对应/ 的/ 列和行/ ,/ 同时/ 从/ 集合/ A/ 中/ 删除/ ajk/ ;/ 然后/ ,/ 考察/ 约简/ 后/ 相关矩阵/ 的/ 第/ 2/ ,/ 3/ ,/ …/ 行/ 元素/ ,/ 采用/ 类似/ 的/ 方法/ ,/ 继续/ 约简/ 相关矩阵/ 和子/ 路径/ 集合/ ,/ 直到/ 所有/ 行/ 的/ 元素/ 均/ 被/ 考察/ 为止/ ./ 在/ 不/ 引起/ 混淆/ 的/ 情况/ 下/ ,/ 仍记/ 约简/ 后/ 的/ 相关矩阵/ 为/ Λ/ ,/ 子/ 路径/ 集合/ 为/ A/ ./ (/ 3/ )/ 可/ 执行/ 路径/ 的/ 生成/ 为了/ 生成/ 一/ 或/ 多条/ 可/ 执行/ 路径/ ,/ 首先/ ,/ 在/ 约简/ 后/ 的/ 矩阵/ Λ/ 中/ ,/ 考察/ 与子/ 路径/ 具有/ 相关/ 的/ 其他/ 子/ 路径/ 的/ 条数/ ,/ 按照/ 一定/ 的/ 顺序/ ,/ 选择/ 基准/ 子/ 路径/ ;/ 然后/ ,/ 针对/ 每一/ 基准/ 子/ 路径/ ,/ 将/ 与/ 该/ 基准/ 子/ 路径/ 相关/ 的/ 子路/ 表/ 1/ 分组/ 的/ 变异/ 分支/ 与/ 形成/ 的/ 新/ 变异/ 分支/ 被测/ 语句/ x/ +/ y/ </ =/ z/ (/ x/ =/ =/ y/ )/ &&/ (/ y/ =/ =/ z/ )/ ROR/ 径/ 结合/ ,/ 生成/ 一条/ 可/ 执行/ 路径/ ;/ 最后/ ,/ 将/ 该/ 可/ 执行/ 路径/ 包含/ 的/ 子/ 路径/ 从/ 集合/ A/ 中/ 删除/ ,/ 直到/ A/ 不/ 包含/ 任何/ 子/ 路径/ 为止/ ./ 下面/ ,/ 分别/ 给出/ 基准/ 子/ 路径/ 的/ 选择/ 和/ 可/ 执行/ 路径/ 生成/ 的/ 方法/ ./ 为了/ 选择/ 基准/ 子/ 路径/ ,/ 首先/ ,/ 考虑/ Λ/ 中子/ 路径/ aip/ 对应/ 的/ 行/ ,/ 记录/ 该行/ 中/ 所有/ 0/ </ α/ ip/ ,/ jk/ </ 1/ 对应/ 的/ 子/ 路径/ ajk/ ,/ 并/ 统计/ 这些/ 子/ 路径/ 的/ 个数/ ,/ 记为/ nip/ ;/ 然后/ ,/ 考虑/ Λ/ 的/ 所有/ 行/ ,/ 能够/ 得到/ 集合/ {/ nip/ ,/ …/ ,/ nip/ ,/ …/ ,/ nn/ |/ An/ |/ }/ ,/ 该/ 集合/ 反映/ 了/ 与/ 每/ 一子/ 路径/ 相关/ 的/ 子/ 路径/ 条数/ ,/ 若/ nip/ 越小/ ,/ 与子/ 路径/ aip/ 相关/ 的/ 子/ 路径/ 越/ 少/ ,/ 那么/ ,/ 生成/ 可/ 执行/ 路径/ 时/ ,/ aip/ 可供/ 利用/ 的/ 子/ 路径/ 越少/ ./ 因此/ ,/ 为了/ 生成/ 比较/ 少/ 的/ 可/ 执行/ 路径/ ,/ 有/ 必要/ 优先选择/ 集合/ {/ nip/ ,/ …/ ,/ nip/ ,/ …/ ,/ nn/ |/ An/ |/ }/ 中/ 最小/ 的/ 元素/ ,/ 设/ nip/ 为/ 该/ 集合/ 最小/ 元素/ ,/ 那/ 它/ 所/ 对应/ 的/ 子/ 路径/ aip/ 为/ 基准/ 子/ 路径/ ./ 为了/ 生成/ 一条/ 可/ 执行/ 路径/ ,/ 考察/ 与/ 基准/ 子/ 路径/ aip/ 相关/ 的/ 所有/ 子/ 路径/ ./ 如果/ 与/ 基准/ 子/ 路径/ aip/ 相关/ 的/ 子/ 路径/ 有/ 0/ 条/ ,/ 那么/ ,/ 生成/ 一条/ 基准/ 子/ 路径/ 自身/ 的/ 可/ 执行/ 路径/ (/ aip/ )/ ./ 如果/ 与/ 该/ 基准/ 子/ 路径/ 相关/ 的/ 子/ 路径/ 只有/ 1/ 条/ ,/ 记/ 与/ 基准/ 子/ 路径/ 相关/ 的/ 子/ 路径/ 为/ ajk/ ;/ 将子/ 路径/ aip/ 和/ ajk/ 连接起来/ ,/ 生成/ 一条/ 可行性/ 路径/ (/ aip/ ,/ ajk/ )/ ./ 如果/ 与/ 该/ 基准/ 子/ 路径/ 相关/ 的/ 子/ 路径/ 多于/ 1/ 条/ ,/ 记/ 与/ 基准/ 子/ 路径/ aip/ 相关/ 的/ 子/ 路径/ 为/ ajk/ 和/ alm/ ,/ 如果/ 0/ </ α/ jk/ ,/ lm/ </ 1/ 且/ 0/ </ α/ ip/ ,/ lm/ </ 1/ ,/ 那么/ ,/ 将/ (/ aip/ ,/ ajk/ )/ 与/ alm/ 连接起来/ ,/ 生成/ 一条/ 可/ 执行/ 路径/ (/ aip/ ,/ ajk/ ,/ alm/ )/ ./ 类似/ 的/ ,/ 能够/ 生成/ 包含/ 更/ 多子/ 路径/ 的/ 可/ 执行/ 路径/ ./ 那么/ ,/ 由/ 所有/ 子/ 路径/ 生成/ 的/ 可/ 执行/ 路径/ 集合/ 为/ {/ (/ aip/ ,/ ajk/ ,/ alm/ ,/ …/ )/ ,/ (/ aip3/ ./ 5/ 实例/ 分析/ 下面/ 通过/ 程序/ Triangle/ 说明/ 采用/ 第/ 3/ 节/ 的/ 方法/ ,/ 生成/ 可/ 执行/ 路径/ 的/ 过程/ ./ 图/ 2/ (/ a/ )/ 为/ Triangle/ 的/ 源代码/ ./ 在/ 程序/ 的/ 前/ 、/ 中/ 和/ 后部/ ,/ 分别/ 选取/ 3/ 条/ 被/ 测/ 语句/ ,/ 并/ 从/ 传统/ 变异/ 算子/ [/ 17/ ]/ 中/ 选择/ 2/ 种/ ,/ 实施/ 变异/ 操作/ ,/ 得到/ 21/ 个/ 变异/ 体/ ,/ 其中/ 16/ 个/ 非/ 等价/ 变异/ 体/ ,/ 采用/ 文献/ [/ 7/ ]/ 方法/ ,/ 生成/ 相应/ 的/ 变异/ 分支/ ,/ 如表/ 1/ 所列/ ./ Page8if/ (/ x/ >/ z/ )/ !/ =/ (/ x/ !/ =/ z/ )/ if/ (/ x/ >/ y/ )/ {/ t/ =/ x/ ;/ x/ =/ y/ ;/ y/ =/ t/ ;/ }/ 1if/ (/ x/ >/ z1/ (/ 1/ )/ {/ t/ =/ x/ ;/ x/ =/ z/ ;/ z/ =/ t/ ;/ }/ if/ (/ y/ >/ z/ )/ {/ t/ =/ y/ ;/ x/ =/ z/ ;/ z/ =/ t/ ;/ }/ 2if/ (/ x/ +/ y/ </ =/ z2/ (/ 1/ )/ {/ type/ =/ 0/ ;/ }/ 2/ (/ 0/ )/ elseif/ (/ x/ / x/ +/ y/ / y/ =/ =/ z/ / z/ )/ 3elseif/ (/ x/ =/ =/ y/ )/ &&/ (/ y/ =/ =/ z/ →/ / / )/ 3/ (/ 1/ )/ {/ type/ =/ 2/ ;/ }/ 3/ (/ 0/ )/ elseif/ (/ x/ =/ =/ y/ )/ ‖/ {/ type/ =/ 3/ ;/ }/ {/ type/ =/ 4/ ;/ }/ 图/ 2Triangle/ 被测/ 程序/ 采用/ 第/ 3.2/ 节/ 的/ 方法/ ,/ 对/ 这些/ 变异/ 分支/ 分组/ ,/ 并/ 形成/ 7/ 个/ 新/ 的/ 变异/ 分支/ ,/ 如图/ 2/ (/ b/ )/ 所示/ ./ 将/ 这些/ 新/ 变异/ 分支/ 插入/ 到/ 原程序/ 中/ ,/ 形成/ 新/ 的/ 被/ 测/ 程序/ ,/ 如图/ 2/ (/ c/ )/ 所示/ ./ 采用/ 第/ 3.3/ 节/ 的/ 方法/ ,/ 形成/ 的/ 可/ 执行/ 子/ 路径/ 集合/ 为/ H/ =/ {/ A1/ ,/ A2/ ,/ A3/ }/ =/ {/ {/ a11/ ,/ a12/ ,/ a13/ }/ ,/ {/ a21/ ,/ a22/ }/ ,/ {/ a31/ ,/ a32/ }/ }/ =/ {/ {/ (/ e1/ (/ 1/ )/ )/ ,/ (/ e2/ (/ 1/ )/ )/ ,/ (/ e3/ (/ 1/ )/ ,/ 1/ (/ 1/ )/ )/ }/ ,/ {/ (/ e4/ (/ 1/ )/ ,/ 2/ (/ 1/ )/ )/ ,/ (/ e5/ (/ 1/ )/ ,/ 2/ (/ 0/ )/ )/ }/ ,/ {/ (/ e6/ (/ 1/ )/ ,/ 3/ (/ 1/ )/ )/ ,/ (/ e7/ (/ 1/ )/ ,/ 3/ (/ 0/ )/ )/ }/ ./ 取/ R/ =/ 3000/ 时/ ,/ 采用/ 第/ 3.4/ 节/ (/ 1/ )/ 的/ 方法/ ,/ 得到/ 如下/ 相关矩阵/ Λ/ :/ a11/ 熿/ a12a13/ Λ/ =/ a21a22a31a32/ 燀/ 占优/ 由/ Λ/ 可知/ ,/ 子/ 路径/ a31/ 与/ a11/ 的/ 相关度/ α/ 31/ ,/ 11/ =/ 1/ ,/ 采用/ 第/ 3.4/ 节/ (/ 2/ )/ 的/ 方法/ ,/ 从/ Λ/ 中/ 删除/ a11/ 对应/ 的/ 行和列/ ,/ 并/ 从/ 集合/ A/ 中/ 删除/ 子/ 路径/ a11/ ./ 类似/ 的/ ,/ 从/ Λ/ 中/ 删除/ a22/ 对应/ 的/ 行和列/ ,/ 并/ 从/ A/ 中/ 删除/ 子/ 路径/ a22/ ./ 得到/ 约简/ 后/ 的/ 相关矩阵/ 如下/ :/ Λ/ =/ 约简/ 后/ 的/ 子/ 路径/ 集合/ 为/ A/ =/ {/ {/ a12/ ,/ a13/ }/ ,/ {/ a21/ }/ ,/ {/ a31/ ,/ a32/ }/ }/ ./ 对于/ 约简/ 后/ 的/ 相关矩阵/ Λ/ 和子/ 路径/ 集合/ A/ ,/ 采用/ 第/ 3.4/ 节/ (/ 3/ )/ 的/ 方法/ ,/ 分别/ 记录/ 与子/ 路径/ a12/ ,/ a13/ ,/ a21/ ,/ a31/ ,/ a32/ 相关/ 的/ 其他/ 子/ 路径/ ,/ 并/ 统计/ 这些/ 相关/ 子/ 路径/ 的/ 条数/ ,/ 如表/ 2/ 所列/ ./ Page9/ 子/ 路径/ a12a13a21a31a32/ 首先/ ,/ 选取/ a31/ 作为/ 基准/ 子/ 路径/ ,/ 生成/ 的/ 可/ 执行/ 路径/ 为/ (/ a31/ )/ ,/ 并/ 将/ a31/ 从/ 集合/ A/ 中/ 删除/ ;/ 然后/ ,/ 选取/ a13/ 作为/ 基准/ 子/ 路径/ ,/ 生成/ 的/ 可/ 执行/ 路径/ 为/ (/ a13/ ,/ a21/ )/ ,/ 并/ 将/ a13/ ,/ a21/ 从/ 集合/ A/ 中/ 删除/ ;/ 最后/ ,/ 选取/ a12/ 作为/ 基准/ 子/ 路径/ ,/ 生成/ 的/ 可/ 执行/ 路径/ 为/ (/ a12/ ,/ a32/ )/ ,/ 并/ 从/ 集合/ A/ 中/ 删除/ a12/ ,/ a32/ ./ 此时/ ,/ A/ =/ / ,/ 生成/ 可/ 执行/ 路径/ 结束/ ./ 经过/ 以上/ 步骤/ ,/ 生成/ 的/ 可/ 执行/ 路径/ 集合/ 为/ {/ (/ a31/ )/ ,/ (/ a12/ ,/ a32/ )/ ,/ (/ a13/ ,/ a21/ )/ }/ ./ 4/ 实验/ 本/ 节/ 通过/ 实验/ ,/ 验证/ 所提/ 方法/ 的/ 有效性/ ./ 首先/ ,/ 提出/ 实验/ 需要/ 验证/ 的/ 问题/ ;/ 然后/ ,/ 给出/ 实验/ 所用/ 的/ 程序/ ;/ 接着/ ,/ 描述/ 实验/ 过程/ ;/ 最后/ ,/ 给出/ 实验/ 结果/ 和/ 分析/ ./ 4.1/ 需要/ 验证/ 的/ 问题/ 为了/ 说明/ 本文/ 方法/ 的/ 有效性/ ,/ 需要/ 验证/ 如下/ 问题/ :/ (/ 1/ )/ 本文/ 方法/ 生成/ 的/ 路径/ 是否是/ 可/ 执行/ 的/ ?/ 通过/ 采用/ 随机/ 法/ 生成/ 测试数据/ ,/ 考察/ 生成/ 的/ 测试数据/ 能否/ 覆盖/ 这些/ 路径/ ,/ 说明/ 生成/ 路径/ 的/ 可行性/ ./ 表/ 3/ 被测/ 程序/ 的/ 基本/ 信息/ 和/ 参数/ IDT1T2T3T4T5T6T7SpaceFixgramp91T8Totinfo/ _/ 2.0406/ T9/ 总计/ 4.3/ 实验/ 过程/ 实验/ 的/ 硬件/ 条件/ 为/ :/ 英特尔/ 酷睿/ 双核/ 3.10/ GHz/ (/ 2/ )/ 本文/ 方法/ 生成/ 的/ 可/ 执行/ 路径/ ,/ 能否/ 覆盖/ 所有/ 的/ 变异/ 分支/ ?/ 通过/ 覆盖/ 可/ 执行/ 路径/ 的/ 测试数据/ ,/ 对/ 变异/ 分支/ 的/ 覆盖率/ 反映/ ./ (/ 3/ )/ 本文/ 方法/ 生成/ 的/ 可/ 执行/ 路径/ 是否/ 很少/ ?/ 通过/ 子/ 路径/ 之间/ 的/ 随机/ 结合/ 和/ 排列组合/ ,/ 形成/ 的/ 可/ 执行/ 路径/ 的/ 条数/ ,/ 与/ 本文/ 方法/ 生成/ 可/ 执行/ 路径/ 比较/ ,/ 说明/ 可/ 执行/ 路径/ 的/ 多少/ ./ (/ 4/ )/ 计算/ 相关矩阵/ 所/ 需/ 的/ 样本容量/ ,/ 是否/ 会/ 影响/ 本文/ 方法/ 的/ 性能/ ?/ 通过/ 不同/ 样本容量/ ,/ 本文/ 方法/ 生成/ 的/ 可/ 执行/ 路径/ 条数/ 和/ 运行/ 时间/ ,/ 反映/ 样本容量/ 的/ 影响/ ./ 4.2/ 被测/ 程序/ 选取/ 9/ 个/ 基准/ 和/ 工业/ 程序/ 作为/ 被测/ 程序/ ,/ 验证/ 本文/ 方法/ 的/ 有效性/ ,/ 这些/ 程序/ 的/ 基本/ 信息/ 如表/ 3/ 所列/ ,/ 其中/ ,/ 程序/ T1/ ~/ T5/ 常用/ 于/ 变异/ 测试/ ,/ 选/ 自/ 文献/ [/ 39/ -/ 40/ ]/ ;/ T6/ 是/ 一个/ 简单/ 的/ UNIX/ 通用/ 程序/ ,/ 选/ 自/ 文献/ [/ 41/ ]/ ;/ 此外/ ,/ 为了/ 评价/ 本文/ 方法/ 在/ 工业/ 程序/ 测试/ 中/ 的/ 适用性/ ,/ 选择/ 西门子/ 系统/ 的/ 程序/ T7/ 、/ T8/ 和/ T9/ 为/ 被/ 测/ 程序/ ,/ 其/ 源代码/ 可以/ 从/ 网站/ http/ :/ // // sir/ ./ unl/ ./ edu/ // portal/ // index/ ./ php/ 免费/ 下载/ ;/ T7/ 选择/ 的/ 是/ Space/ [/ 42/ -/ 43/ ]/ 的/ Fixgramp/ 函数/ ;/ T8/ 、/ T9/ 规模/ 比较/ 大/ 些/ ,/ 包含/ 的/ 分支/ 和/ 函数/ 比较/ 多/ ,/ 且/ 这些/ 函数/ 的/ 类型/ 复杂/ ,/ 既有/ 嵌套/ 调用/ ,/ 又/ 有/ 递归/ 调用/ ,/ 是/ 多个/ 文献/ [/ 44/ -/ 46/ ]/ 的/ 被/ 测/ 程序/ ./ 需要/ 说明/ 是/ ,/ 在/ 表/ 3/ 第/ 4/ 列/ 的/ 输入/ 空间/ ,/ 程序/ T9/ 输入/ 变量/ 采用/ ACSII/ 编码方式/ ,/ 在/ 程序/ 中/ 可以/ 将/ ACSII/ 值/ 和/ 对应/ 的/ 字符/ 进行/ 转化/ ./ 程序/ 功能/ 三角形/ 分类/ 求/ 三个/ 数中值/ 销售/ 人员/ 的/ 提成/ 计算/ 某天/ 的/ 次序/ 插入排序/ 计算/ 一年/ 的/ 日历/ 10/ 矩阵/ 语言/ 翻译器/ 统计表/ 中/ 信息/ ,/ 表中/ 数据/ 是/ 整数/ ./ 模式匹配/ CPU/ 、/ 2GB/ 内存/ ;/ 软件/ 采用/ MicrosoftWindowsXPSP3/ 操作系统/ 和/ V/ C++/ 开发/ 环境/ ./ Page10/ 实验/ 中/ ,/ 根据/ 被测/ 程序/ 的/ 代码/ 行/ 数/ ,/ 分别/ 选择/ 3/ ~/ 20/ 个/ 不同/ 的/ 被/ 测/ 语句/ 进行/ 变异/ ./ 根据/ 程序/ 的/ 结构/ 和/ 被/ 测/ 语句/ 的/ 类型/ ,/ 选择/ 被测/ 语句/ 的/ 变异/ 算子/ ,/ 实施/ 变异/ 操作/ ,/ 以/ 生成/ 变异/ 体/ ./ 对非/ 等价/ 变异/ 体/ 采用/ 文献/ [/ 7/ ]/ 的/ 方法/ ,/ 生成/ 相应/ 的/ 变异/ 分支/ ./ 对于/ 每个/ 被测/ 程序/ ,/ 首先/ ,/ 将/ 生成/ 的/ 变异/ 分支/ ,/ 插入/ 到/ 原程序/ 中/ ,/ 形成/ 新/ 的/ 被/ 测/ 程序/ P/ ;/ 然后/ ,/ 基于/ 第/ 3.2/ 节/ 的/ 方法/ ,/ 对/ P/ 中/ 的/ 变异/ 分支/ 形成/ 新/ 分支/ ,/ 插入/ 到/ 原程序/ 中/ ,/ 形成/ 另/ 一/ 被/ 测/ 程序/ P/ ./ 对于/ 程序/ P/ ,/ 首先/ ,/ 给定/ 某一/ 样本容量/ ,/ 采用/ 第/ 3.3/ 、/ 3.4/ 节/ 的/ 方法/ ,/ 生成/ 一条/ 或/ 多条/ 路径/ ;/ 然后/ ,/ 以所提/ 方法/ 生成/ 的/ 一条/ 或/ 多条/ 路径/ 为/ 目标/ 路径/ ,/ 采用/ 随机/ 测试数据/ 生成/ 方法/ [/ 45/ ]/ ,/ 在/ 被/ 测/ 程序/ 的/ 输入/ 空间/ 内/ 随机/ 采样/ ,/ 直到/ 生成/ 覆盖/ 这些/ 路径/ 的/ 测试数据/ ,/ 或/ 迭代/ 到/ 一定/ 代数/ ,/ 终止/ 程序/ ,/ 并/ 考察/ 这些/ 测试数据/ 覆表/ 4/ 随机/ 法/ 生成/ 覆盖/ 可/ 执行/ 路径/ 的/ 测试数据/ IDT1T2T3T4T5T6T7T8T9/ 总计/ 盖/ 的/ 变异/ 分支/ ;/ 最后/ ,/ 通过/ 子/ 路径/ 之间/ 随机/ 结合/ 和/ 排列组合/ 结合/ ,/ 形成/ 的/ 可/ 执行/ 路径/ ,/ 与/ 本文/ 方法/ 生成/ 的/ 可/ 执行/ 路径/ 比较/ ,/ 说明/ 后者/ 路径/ 条数/ 是否/ 较少/ ./ 此外/ ,/ 设置/ 不同/ 的/ 样本容量/ ,/ 考察/ 其/ 对/ 生成/ 的/ 可/ 执行/ 路径/ 数目/ 和/ 运行/ 时间/ 的/ 影响/ ./ 4.4/ 实验/ 结果/ 与/ 分析/ 为了/ 回答/ 第/ 4.1/ 节/ 提出/ 的/ 问题/ ,/ 设计/ 了/ 4/ 组/ 实验/ ./ 现在/ 给出/ 实验/ 结果/ ,/ 并/ 进行/ 分析/ ./ (/ 1/ )/ 生成/ 路径/ 的/ 可执行性/ 为了/ 验证/ 本文/ 方法/ 生成/ 的/ 路径/ 是/ 可/ 执行/ 的/ ,/ 考虑/ 上述/ 9/ 个/ 被/ 测/ 程序/ ./ 由表/ 3/ 可知/ ,/ 这些/ 被测/ 程序/ 共/ 产生/ 了/ 458/ 个/ 变异/ 体/ ,/ 其中/ 265/ 个/ 非/ 等价/ 变异/ 体/ ;/ 将/ 这些/ 非/ 等价/ 变异/ 体/ 转化/ 为/ 相应/ 的/ 变异/ 分支/ ,/ 形成/ 101/ 条新/ 的/ 变异/ 分支/ ./ 采用/ 第/ 3.4/ 节/ 的/ 方法/ ,/ 生成/ 了/ 39/ 条/ 路径/ ,/ 如表/ 43/ ,/ 3/ ,/ 114/ ,/ -/ 85/ ,/ 59/ ,/ 118/ ,/ 95/ ,/ -/ 95/ ,/ -/ 60/ ,/ 29/ ,/ -/ 1025/ ,/ 2/ ,/ -/ 11/ ,/ 9/ ,/ 3/ ,/ -/ 62/ ,/ 69/ ,/ -/ 39/ ,/ -/ 124/ ,/ 87/ ,/ 106/ ,/ 55/ "/ □/ "/ ,/ "/ EED/ "/ ,/ "/ nd/ |/ -/ a/ "/ "/ %/ / Q/ "/ ,/ "/ 1ry/ "/ ,/ "/ 3/ #/ gd/ "/ "/ □/ / ?/ "/ ,/ "/ m/ @/ mpq/ "/ ,/ "/ 6er/ □/ -/ "/ "/ 4Te/ "/ ,/ "/ 7/ @/ a8/ "/ ,/ "/ 1/ ,/ // 1A/ "/ "/ □/ / -/ "/ ,/ "/ □/ &/ ]/ "/ ,/ "/ 6er/ □/ sd/ "/ "/ □/ / -/ "/ ,/ "/ @/ tds/ "/ ,/ "/ rer/ □/ 3/ "/ "/ □/ 9/ / ,/ "/ □/ [/ %/ 0/ &/ "/ ,/ "/ 1/ %/ #/ 1b/ "/ "/ □/ / ?/ "/ ,/ "/ OPE/ "/ ,/ "/ er/ &/ / "/ Page11/ 的/ 第/ 3/ 列/ 所示/ ./ 采用/ 随机/ 法/ ,/ 生成/ 的/ 覆盖/ 路径/ 的/ 测试数据/ ,/ 如表/ 4/ 的/ 第/ 5/ 列/ 所示/ ,/ 其中/ T9/ 的/ 测试数据/ 为/ ACSII/ 值/ 对应/ 的/ 字符/ ,/ “/ □/ ”/ 代表/ 空格/ ./ 此外/ ,/ 表/ 4/ 的/ 第/ 4/ 列/ 还/ 给出/ 了/ 生成/ 这些/ 测试数据/ 的/ 迭代/ 次数/ ;/ 第/ 6/ 列/ 统计/ 了/ 生成/ 路径/ 的/ 覆盖率/ ./ 由表/ 4/ 可以/ 看出/ ,/ 生成/ 路径/ 的/ 覆盖率/ 均/ 为/ 100/ %/ ./ 这/ 说明/ ,/ 采用/ 本文/ 方法/ 生成/ 的/ 路径/ ,/ 确实/ 是/ 可/ 执行/ 的/ ./ (/ 2/ )/ 可/ 执行/ 路径/ 对/ 变异/ 分支/ 的/ 覆盖/ 为了/ 验证/ 采用/ 本文/ 的/ 方法/ ,/ 生成/ 的/ 可/ 执行/ 路径/ 路径/ 编号/ 变异/ 分支/ 条数/ 123/ 由表/ 3/ 、/ 表/ 5/ 和表/ 6/ 可知/ ,/ 这些/ 程序/ 的/ 可/ 执行/ 路径/ ,/ 能够/ 覆盖/ 它们/ 所有/ 变异/ 分支/ ./ 上述/ 实验/ 结果表明/ ,/ 采用/ 本文/ 方法/ 生成/ 的/ 可/ 执行/ 路径/ ,/ 能够/ 覆盖/ 程序/ 的/ 所有/ 变异/ 分支/ ./ (/ 3/ )/ 生成/ 的/ 可/ 执行/ 路径/ 条数/ 为了/ 验证/ 采用/ 本文/ 的/ 方法/ ,/ 生成/ 的/ 可/ 执行/ 路径/ 条数/ 比较/ 少/ ,/ 与/ 另外/ 2/ 种/ 路径/ 生成/ 方法/ 比较/ ,/ 一种/ 方法/ 是/ 随机/ 结合法/ ,/ 该/ 方法/ 通过/ 随机/ 结合/ 约简/ 后/ 的/ 相关矩阵/ 中/ 的/ 子/ 路径/ ,/ 生成/ 可/ 执行/ 路径/ ;/ 另/ 一种/ 方法/ 是/ 排列组合/ 法/ ,/ 该/ 方法/ 基于/ 子/ 路径/ 集合/ ,/ 通过/ 排列组合/ 方法/ ,/ 生成/ 可/ 执行/ 路径/ ./ 所提/ 方法/ 在/ 形成/ 新/ 变异/ 分支/ 和/ 生成/ 子/ 路径/ 时/ ,/ 基于/ 同一/ 语句/ 形成/ 的/ 变异/ 分支/ 比较/ 少/ ,/ 程序/ 局部/ 结构/ 比较简单/ ,/ 因此/ ,/ 采用/ 静态/ 分析/ 比较/ 准确/ ;/ 此外/ ,/ 将/ 新/ 变异/ 分支/ 插装/ 到/ 原程序/ 中/ ,/ 将/ 增加/ 测试/ 的/ 代价/ ./ 鉴/ 能否/ 覆盖/ 新/ 程序/ 的/ 所有/ 变异/ 分支/ ./ 首先/ ,/ 考察/ 程序/ T1/ ./ 由表/ 4/ 可知/ ,/ 该/ 程序/ 共/ 生成/ 3/ 条可/ 执行/ 路径/ ./ 为了/ 验证/ 这/ 3/ 条/ 路径/ 能否/ 覆盖/ 该/ 程序/ 的/ 16/ 条/ 变异/ 分支/ ,/ 针对/ 每一/ 路径/ ,/ 考察/ 该/ 路径/ 覆盖/ 的/ 变异/ 分支/ ,/ 结果/ 如表/ 5/ 所列/ ,/ 这/ 3/ 条可/ 执行/ 路径/ 覆盖/ 了/ 程序/ T1/ 的/ 所有/ 变异/ 分支/ ./ 其中/ ,/ 重复/ 覆盖/ 的/ 变异/ 分支/ 有/ 3/ 条/ ./ 然后/ ,/ 对于/ 其他/ 被测/ 程序/ ,/ 采用/ 上述/ 方法/ ,/ 能够/ 得到/ 可/ 执行/ 路径/ 覆盖/ 的/ 变异/ 分支/ ,/ 对于/ 重复/ 覆盖/ 的/ 变异/ 分支/ ,/ 只/ 记录/ 1/ 次/ ,/ 结果/ 如表/ 6/ 所列/ ./ ID/ 路径/ 编号/ 变异/ 分支/ 条数/ T2/ 总计/ T3/ 总计/ T4/ 总计/ T5/ 总计/ T6/ 总计/ 于/ 此/ ,/ 从子/ 路径/ 生成/ 可/ 执行/ 路径/ 这/ 一步/ ,/ 选择/ 随机/ 法/ 和/ 组合法/ ,/ 与/ 所/ 提/ 方法/ 进行/ 比较/ ./ 以/ 程序/ T1/ 为例/ ,/ 说明/ 采用/ 随机/ 结合法/ ,/ 生成/ 可/ 执行/ 路径/ 的/ 过程/ ./ 由/ 第/ 3.5/ 节/ 的/ 约简/ 后/ 矩阵/ 可知/ ,/ 共有/ 5/ 条子/ 路径/ ./ 通过/ 随机/ 方式/ 结合/ 这/ 5/ 条子/ 路径/ ,/ 形成/ 一系列/ 路径/ ,/ 这些/ 路径/ 中/ 包含/ 很多/ 不可/ 执行/ 路径/ ,/ 最终/ 得到/ 了/ 5/ 个/ 可/ 执行/ 路径/ 集合/ ,/ 每/ 一个/ 集合/ 包含/ 了/ 若干条/ 可/ 执行/ 路径/ ./ 对于/ 其他/ 8/ 个/ 被/ 测/ 程序/ ,/ 采用/ 上述/ 方法/ ,/ 也/ 能够/ 得到/ 相应/ 的/ 可/ 执行/ 路径/ 集合/ ,/ 如表/ 7/ 所列/ ./ 由表/ 4/ 和表/ 7/ 可知/ ,/ ①/ 子/ 路径/ 之间/ 的/ 随机/ 结合/ 得到/ 的/ 路径/ 集合/ ,/ 包含/ 的/ 可/ 执行/ 路径/ 不同/ ,/ 这些/ 路径/ 的/ 条数/ 也/ 不尽相同/ ,/ 其中/ ,/ 针对/ 每一/ 被/ 测/ 程序/ ,/ 第/ 1/ 个/ 集合/ 包含/ 的/ 可/ 执行/ 路径/ 最/ 多/ ,/ 最后/ 1/ 个/ 集合/ 包含/ 的/ 可/ 执行/ 路径/ 最少/ ;/ ②/ 采用/ 本文/ 方法/ 得到/ 的/ 可/ 执行/ 路径/ ,/ 与/ 最后/ 1/ 个/ 集合/ 包含/ 的/ 可/ 执行/ 路径/ 相同/ ./ Page12/ 表/ 7/ 采用/ 随机/ 法/ 生成/ 的/ 路径/ 集/ 路径/ 集/ T71ID/ 路径/ 集/ 编号/ T1T2123451234562/ ~/ 2526/ ~/ 51T31/ {/ (/ a11/ )/ ,/ (/ a12/ )/ ,/ (/ a21/ )/ ,/ (/ a31/ )/ ,/ (/ a32/ )/ }/ T41/ {/ (/ a11/ )/ ,/ (/ a21/ )/ }/ T51/ {/ (/ a11/ )/ ,/ (/ a12/ )/ ,/ (/ a13/ )/ ,/ (/ a21/ )/ }/ T6123/ 上述/ 实验/ 结果表明/ ,/ 与/ 随机/ 结合法/ 相比/ ,/ 本文/ 方法/ 得到/ 了/ 较/ 少/ 的/ 可/ 执行/ 路径/ ./ 仍以/ 程序/ T1/ 为例/ ,/ 说明/ 采用/ 排列组合/ 法/ ,/ 生成/ 可/ 执行/ 路径/ 的/ 过程/ ./ T1/ 的/ 子/ 路径/ 集合/ A/ =/ {/ {/ a11/ ,/ a12/ ,/ a13/ }/ ,/ {/ a21/ ,/ a22/ }/ ,/ {/ a31/ ,/ a32/ }/ }/ ,/ 通过/ 静态/ 分析/ ,/ 得知/ 该/ 集合/ 包含/ 子/ 路径/ 最多/ 的/ 集合/ 为/ A1/ =/ {/ a11/ ,/ a12/ ,/ a13/ }/ ,/ 共/ 包含/ 3/ 条子/ 路径/ ./ 因为/ ,/ 这/ 3/ 条子/ 路径/ 之间/ 不能/ 相互/ 结合/ 生成/ 可/ 执行/ 路径/ ,/ 所以/ ,/ 可能/ 生成/ 的/ 可/ 执行/ 路径/ 条数/ / 3/ ./ 下面/ 基于/ A/ 包含/ 的/ 子/ 路径/ ,/ 采用/ 排列组合/ 法/ ,/ 生成/ 可/ 执行/ 路径/ ./ 首先/ ,/ 从/ 集合/ A1/ =/ {/ a11/ ,/ a12/ ,/ a13/ }/ 中/ 路径/ 集/ 编号/ 表/ 8/ 被测/ 程序/ T1/ 采用/ 组合/ 方法/ 形成/ 的/ 3/ 条/ 路径/ 101112131415161718/ 编号/ 123451/ …/ m/ {/ (/ a11/ )/ ,/ (/ a12/ )/ ,/ (/ a13/ )/ ,/ (/ a21/ )/ ,/ (/ a22/ )/ ,/ (/ a31/ )/ ,/ (/ a41/ )/ ,/ (/ a61/ )/ ,/ (/ a113/ )/ }/ {/ (/ a11/ ,/ a31/ )/ ,/ (/ a12/ )/ ,/ (/ a13/ )/ ,/ (/ a21/ )/ ,/ (/ a22/ )/ ,/ (/ a41/ )/ ,/ (/ a61/ )/ ,/ (/ a113/ )/ }/ {/ (/ a31/ ,/ a61/ )/ ,/ (/ a11/ )/ ,/ (/ a12/ )/ ,/ (/ a13/ )/ ,/ (/ a21/ )/ ,/ (/ a22/ )/ ,/ (/ a41/ )/ ,/ (/ a113/ )/ }/ {/ (/ a11/ ,/ a61/ )/ ,/ (/ a12/ )/ ,/ (/ a13/ )/ ,/ (/ a21/ )/ ,/ (/ a22/ )/ ,/ (/ a31/ )/ ,/ (/ a41/ )/ ,/ (/ a113/ )/ }/ {/ (/ a11/ ,/ a31/ ,/ a61/ )/ ,/ (/ a12/ )/ ,/ (/ a13/ )/ ,/ (/ a21/ )/ ,/ (/ a22/ )/ ,/ (/ a41/ )/ ,/ (/ a113/ )/ }/ {/ (/ a11/ )/ ,/ (/ a22/ )/ ,/ (/ a52/ )/ ,/ (/ a63/ )/ ,/ (/ a101/ )/ ,/ (/ a142/ )/ ,/ (/ a12/ )/ ,/ (/ a23/ )/ ,/ (/ a42/ )/ ,/ (/ a91/ )/ ,/ (/ a31/ )/ ,/ (/ a93/ )/ ,/ (/ a113/ )/ ,/ (/ a33/ )/ ,/ (/ a82/ )/ ,/ (/ a41/ )/ ,/ (/ a71/ )/ ,/ (/ a122/ )/ ,/ (/ a51/ )/ ,/ (/ a111/ )/ ,/ (/ a121/ )/ ,/ (/ a133/ )/ }/ {/ (/ a11/ ,/ a22/ )/ ,/ (/ a52/ )/ ,/ (/ a63/ )/ ,/ (/ a101/ )/ ,/ (/ a142/ )/ ,/ (/ a12/ )/ ,/ (/ a23/ )/ ,/ (/ a42/ )/ ,/ (/ a91/ )/ ,/ (/ a31/ )/ ,/ (/ a93/ )/ ,/ (/ a113/ )/ ,/ (/ a33/ )/ ,/ (/ a82/ )/ ,/ (/ a41/ )/ ,/ (/ a71/ )/ ,/ (/ a122/ )/ ,/ (/ a51/ )/ ,/ (/ a111/ )/ ,/ (/ a121/ )/ ,/ (/ a133/ )/ }/ {/ (/ a11/ ,/ a22/ ,/ a52/ )/ ,/ (/ a63/ )/ ,/ (/ a101/ )/ ,/ (/ a142/ )/ ,/ (/ a12/ )/ ,/ (/ a23/ )/ ,/ (/ a42/ )/ ,/ (/ a91/ )/ ,/ (/ a31/ )/ ,/ (/ a93/ )/ ,/ (/ a113/ )/ ,/ (/ a33/ )/ ,/ (/ a82/ )/ ,/ (/ a41/ )/ ,/ (/ a71/ )/ ,/ (/ a122/ )/ ,/ (/ a51/ )/ ,/ (/ a111/ )/ ,/ (/ a121/ )/ ,/ (/ a133/ )/ }/ {/ (/ a11/ ,/ a22/ ,/ a52/ ,/ a63/ ,/ a101/ ,/ a142/ )/ ,/ (/ a12/ ,/ a23/ ,/ a42/ ,/ a91/ )/ ,/ (/ a31/ ,/ a93/ ,/ a113/ )/ ,/ (/ a33/ ,/ a82/ )/ ,/ (/ a41/ ,/ a71/ ,/ a122/ )/ (/ a51/ )/ ,/ (/ a111/ ,/ a121/ )/ )/ ,/ (/ a133/ )/ }/ 2C13C1/ 取出/ 3/ 个/ 元素/ ,/ 且/ 每次/ 取出/ 一个/ 不/ 重复/ 的/ 元素/ ,/ 有/ C1/ 取出/ 0/ 或/ 1/ 个/ 元素/ ,/ 且/ 每次/ 取出/ 不/ 重复/ 的/ 元素/ ,/ 有/ C13C12C1/ 或/ 1/ 个/ 元素/ ,/ 且/ 每次/ 取出/ 不/ 重复/ 的/ 元素/ ,/ 有/ C13/ !/ 种/ 取法/ ;/ 最后/ ,/ 删除/ 重复/ 的/ 路径/ 组合/ ,/ 得到/ 不/ 重复/ 的/ 路径/ 集合/ ,/ 共有/ C13/ !/ 3/ !/ 3/ !/ // 3/ !/ =/ 36/ 个/ ,/ 如表/ 8/ 所列/ ./ 在/ 这些/ 路径/ 集合/ 中/ 包含/ 了/ 一些/ 不可/ 执行/ 路径/ ,/ 最终/ ,/ 仅/ 有/ 第/ 35/ 和/ 36/ 个/ 路径/ 集合/ 包含/ 可/ 执行/ 路径/ ./ 路径/ 集/ 编号/ 192021222324252627282930313233343536Page13/ 对于/ 被测/ 程序/ T2/ ~/ T9/ ,/ 采用/ 上述/ 方法/ ,/ 也/ 得到/ 相应/ 的/ 可/ 执行/ 路径/ 的/ 集合/ ,/ 如表/ 9/ 所列/ ./ 表中/ 第/ 2/ 列表/ 9/ 其他/ 被测/ 程序/ 采用/ 组合/ 方法/ 生成/ 的/ 路径/ 集/ IDT2/ {/ {/ a11/ ,/ a12/ ,/ a13/ }/ ,/ {/ a21/ ,/ a22/ ,/ a23/ }/ ,/ {/ a31/ ,/ a32/ }/ }/ T3/ {/ {/ a11/ ,/ a12/ }/ ,/ {/ a21/ }/ ,/ {/ a31/ ,/ a32/ }/ }/ T4/ {/ {/ a11/ }/ ,/ {/ a21/ ,/ a22/ }/ }/ T5/ {/ {/ a11/ ,/ a12/ ,/ a13/ }/ ,/ {/ a21/ ,/ a22/ }/ ,/ {/ a31/ }/ }/ T6/ {/ {/ a11/ }/ ,/ {/ a21/ ,/ a22/ }/ ,/ {/ a31/ }/ ,/ {/ a41/ }/ ,/ {/ a51/ }/ ,/ {/ a61/ }/ ,/ {/ a71/ }/ }/ T7/ {/ {/ a11/ }/ ,/ {/ a21/ }/ ,/ {/ a31/ }/ ,/ {/ a41/ }/ ,/ {/ a51/ }/ ,/ {/ a61/ ,/ a62/ }/ }/ {/ {/ a11/ ,/ a12/ ,/ a13/ }/ ,/ {/ a21/ ,/ a22/ }/ ,/ {/ a31/ }/ ,/ {/ a41/ }/ ,/ {/ a51/ }/ ,/ {/ a61/ }/ ,/ {/ a71/ }/ ,/ {/ a81/ }/ ,/ T8T9/ {/ {/ a11/ ,/ a12/ }/ ,/ {/ a21/ ,/ a22/ ,/ a23/ }/ ,/ {/ a31/ ,/ a32/ ,/ a33/ }/ ,/ {/ a41/ ,/ a42/ }/ ,/ {/ a51/ ,/ a52/ ,/ a53/ }/ ,/ 由表/ 4/ 和表/ 8/ 、/ 表/ 9/ 可知/ ,/ ①/ 采用/ 组合法/ 生成/ 的/ 路径/ 数/ ,/ 与/ 本文/ 方法/ 生成/ 的/ 可/ 执行/ 路数/ 相同/ ;/ ②/ 采用/ 组合法/ 生成/ 的/ 路径/ ,/ 通过/ 占优/ 关系/ 约简/ 之后/ ,/ 与/ 本文/ 方法/ 生成/ 的/ 可/ 执行/ 路径/ 相同/ ./ 上述/ 实验/ 结果表明/ ,/ 本文/ 方法/ 与/ 采用/ 排列组合/ 方法/ 生成/ 的/ 可/ 执行/ 路径/ 数/ 相同/ ./ 本组/ 实验/ 结果表明/ ,/ 采用/ 本文/ 方法/ 生成/ 的/ 可/ 执行/ 路径/ 比/ 随机/ 结合法/ 少/ ;/ 与/ 排列组合/ 法/ 生成/ 的/ 可/ 执行/ 路径/ 相同/ ./ 下面/ 从/ 实验/ 消耗/ 成本/ 方面/ 进行/ 分析/ ./ 采用/ 随机/ 法/ 生成/ 路径/ 时/ ,/ 一次/ 运行/ 程序/ ,/ 生成/ 一个/ 路径/ 集/ ,/ 如表/ 7/ 所列/ ,/ 生成/ 的/ 可/ 执行/ 路径/ 个数/ 不/ 确定/ ./ 采用/ 组合法/ 生成/ 的/ 路径/ 集/ ,/ 如表/ 8/ 所列/ ,/ T1/ 程序/ 仅/ 生成/ 了/ 3/ 条/ 路径/ ,/ 有效/ 路径/ 与/ 路径/ 数量/ 的/ 比/ 为/ 5.5/ %/ (/ 2/ 种/ 可/ 执行/ 路径/ 集合/ ×/ 3/ // (/ 36/ 种/ ×/ 3/ )/ )/ ./ 如果/ 生成/ 的/ 路径/ 多于/ 3/ 条/ ,/ 那么/ ,/ 有效/ 路径/ 与/ 路径/ 数量/ 的/ 比/ 更/ 小/ ./ 对于/ 其他/ 8/ 个/ 被/ 测/ 程序/ ,/ 也/ 能/ 得到/ 类似/ 的/ 实验/ 结果/ ./ 随着/ 程序/ 规模/ 的/ 增大/ 和/ 变异/ 分支/ 的/ 增多/ ,/ 随机/ 法/ 和/ 组合法/ 形成/ 的/ 路径/ 组合/ 条数/ 将/ 呈/ 爆炸式/ 增长/ ./ 而/ 所/ 提/ 方法/ 的/ 有效/ 路径/ 与/ 路径/ 数量/ 的/ 比/ 为/ 100/ %/ ./ 更/ 重要/ 的/ 是/ ,/ 随机/ 法/ 和/ 排列组合/ 法/ 生成/ 的/ 路径/ 集/ 包含/ 的/ 不可/ 执行/ 路径/ ,/ 检测/ 起来/ 相当/ 困难/ ./ 到/ 目前为止/ ,/ 还/ 没有/ 一种/ 有效/ 的/ 方法/ ,/ 自动检测/ 某/ 程序/ 的/ 所有/ 不可/ 执行/ 路径/ [/ 38/ ]/ ,/ 导致/ 的/ 后果/ 是/ ,/ 需要/ 花费/ 很多/ 的/ 时间/ ,/ 人工/ 检测/ 不可/ 执行/ 路径/ ./ 而/ 采用/ 本文/ 方法/ 自动/ 生成/ 的/ 全是/ 可/ 执行/ 路径/ ,/ 且/ 运行/ 时间/ 少/ ./ 表/ 10/ 给出/ 了/ R/ =/ 5000/ 时/ ,/ 采用/ 本文/ 方法/ ,/ 由子/ 路径/ 自动/ 生成/ 可/ 执行/ 路径/ 的/ 运行/ 时间/ ./ 由/ 该表/ 可以/ 看为/ 各/ 被/ 测/ 程序/ 的/ 子/ 路径/ 集合/ ;/ 第/ 3/ 列为/ 生成/ 的/ 可/ 执行/ 路径/ 集合/ ;/ 第/ 4/ 列为/ 该/ 集合/ 包含/ 的/ 可/ 执行/ 路径/ 条数/ ./ {/ (/ a11/ ,/ a31/ )/ ,/ (/ a12/ ,/ a21/ )/ ,/ (/ a22/ )/ ,/ (/ a13/ )/ ,/ (/ a23/ ,/ a32/ )/ }/ {/ (/ a11/ )/ ,/ (/ a12/ )/ ,/ (/ a21/ )/ ,/ (/ a31/ )/ ,/ (/ a32/ )/ }/ {/ (/ a11/ ,/ a21/ )/ ,/ (/ a22/ )/ }/ {/ (/ a11/ )/ ,/ (/ a12/ )/ ,/ (/ a13/ ,/ a22/ )/ ,/ (/ a21/ ,/ a31/ )/ }/ {/ (/ a11/ ,/ a22/ ,/ a31/ ,/ a51/ ,/ a61/ ,/ a71/ )/ ,/ (/ a21/ ,/ a41/ )/ }/ {/ (/ a11/ ,/ a61/ )/ ,/ (/ a51/ )/ ,/ (/ a21/ ,/ a31/ ,/ a41/ ,/ a62/ )/ }/ {/ (/ a11/ ,/ a31/ ,/ a51/ ,/ a61/ ,/ a71/ ,/ a81/ ,/ a91/ ,/ a101/ ,/ a111/ ,/ a121/ ,/ a131/ ,/ a141/ ,/ a151/ ,/ a161/ ,/ a172/ )/ ,/ (/ a12/ ,/ a112/ ,/ a171/ )/ ,/ (/ a41/ )/ ,/ (/ a13/ )/ ,/ (/ a21/ )/ ,/ (/ a22/ )/ ,/ (/ a113/ )/ }/ {/ {/ a12/ ,/ a23/ ,/ a32/ ,/ a42/ ,/ a62/ ,/ a81/ ,/ a91/ ,/ a112/ ,/ a123/ ,/ a132/ }/ ,/ {/ a133/ }/ ,/ {/ a51/ }/ ,/ {/ a31/ ,/ a93/ ,/ a113/ }/ ,/ {/ a21/ ,/ a53/ ,/ a61/ ,/ a92/ ,/ a111/ ,/ a121/ ,/ a131/ ,/ a141/ }/ ,/ {/ a33/ ,/ a82/ }/ ,/ {/ a41/ ,/ a71/ ,/ a122/ }/ ,/ {/ a11/ ,/ a22/ ,/ a52/ ,/ a63/ ,/ a101/ ,/ a142/ }/ }/ 出/ ,/ 除了/ T6/ 和/ T9/ 运行/ 时间/ 稍/ 多/ 之外/ ,/ 其他/ 程序/ 的/ 运行/ 时间/ 均/ 较/ 少/ ./ 因此/ ,/ 与/ 其他/ 2/ 种/ 方法/ 比较/ ,/ 本文/ 方法/ 是/ 高效/ 的/ ./ T1/ ,/ T3/ ,/ T4/ ,/ T5/ (/ 4/ )/ 样本容量/ 对/ 本文/ 方法/ 性能/ 的/ 影响/ 下面/ ,/ 分析/ 样本容量/ 对/ 本文/ 方法/ 生成/ 可/ 执行/ 路径/ 的/ 条数/ 和/ 运行/ 时间/ 等/ 性能指标/ 的/ 影响/ ./ 首先/ ,/ 考虑/ 样本容量/ 对/ 本文/ 方法/ 生成/ 可/ 执行/ 路径/ 条数/ 的/ 影响/ ./ 如表/ 11/ 第/ 2/ 和/ 第/ 8/ 列为/ 被测/ 程序/ 包含/ 的/ 子/ 路径/ 条数/ ;/ 第/ 3/ 和/ 第/ 9/ 列为/ 实验/ 中/ 选取/ 的/ 不同/ 样本容量/ ;/ 第/ 4/ 和/ 第/ 10/ 列为/ 不同/ 样本容量/ 下/ ,/ 两个/ 不同/ 子/ 路径/ 之间/ 相关度/ α/ ≠/ 0/ 的/ 个数/ ;/ 第/ 5/ 和/ 第/ 11/ 列为/ 本文/ 方法/ 生成/ 的/ 相应/ 的/ 可/ 执行/ 路径/ 条数/ ./ 由表/ 11/ 可以/ 看出/ ,/ ①/ 随着/ 样本容量/ 的/ 增加/ ,/ 两个/ 不同/ 子/ 路径/ 之间/ 相关度/ α/ ≠/ 0/ 的/ 个数/ 增多/ ;/ ②/ α/ ≠/ 0/ 的/ 个数/ 越/ 多/ ,/ 由子/ 路径/ 生成/ 的/ 可/ 执行/ 路径/ 条数/ 越/ 少/ ;/ ③/ 当/ 样本容量/ 很大/ 时/ ,/ α/ ≠/ 0/ 的/ 个数/ 将/ 保持/ 不变/ ,/ 此时/ ,/ 生成/ 可/ 执行/ 路径/ 的/ 条数/ 将/ 很少/ ./ 然后/ ,/ 考察/ 样本容量/ 对/ 程序运行/ 时间/ 的/ 影响/ ./ 不同/ 样本容量/ 下/ ,/ 本文/ 方法/ 生成/ 可/ 执行/ 路径/ 运行/ 的/ 时间/ 如表/ 11/ 的/ 第/ 6/ 和/ 第/ 12/ 列/ 所示/ ./ 由/ 该表/ 可以/ 看出/ ,/ 除了/ 程序/ T6/ ,/ T9/ 之外/ ,/ 对于/ 其他/ 被测/ 程序/ ,/ 样本容量/ 对/ 运行/ 时间/ 的/ 影响/ 几乎/ 可以/ 忽略不计/ ./ 每个/ 程序/ 样本容量/ 的/ 充分/ 值/ ,/ 需要/ 通过/ 多次/ 运行/ 该/ 程序/ 才能/ 得到/ ./ 一般/ 情况/ 下/ ,/ α/ ≠/ 0/ 个数/ 不再/ 变化/ 时/ Page14ID/ 子/ 路径/ 条/ 数表/ 11/ 样本容量/ 的/ 影响/ T1T2T3T4T9/ 的/ 样本容量/ 值/ ,/ 即/ 为/ 该/ 程序/ 的/ 样本容量/ 充分/ 值/ ./ 如表/ 11/ 第/ 3/ 和/ 第/ 9/ 列/ 所示/ ,/ R/ 标注/ 为/ “/ / ”/ 的/ 值/ ,/ 为/ 该/ 程序/ 的/ 样本容量/ 充分/ 值/ ./ 5/ 总结/ 本文/ 研究/ 弱/ 变异/ 测试/ 问题/ ,/ 并/ 将/ 弱/ 变异/ 测试/ 转化/ 为/ 路径/ 覆盖/ 问题/ ,/ 期望/ 利用/ 已有/ 的/ 路径/ 覆盖/ 方法/ ,/ 生成/ 高质量/ 的/ 变异/ 测试数据/ ,/ 以/ 提高/ 变异/ 测试数据/ 生成/ 的/ 效率/ ./ 为此/ ,/ 首先/ ,/ 对/ 同一/ 语句/ 变异/ 形成/ 的/ 多个/ 变异/ 分支/ ,/ 基于/ 执行/ 关系/ ,/ 形成/ 新/ 的/ 变异/ 分支/ ;/ 然后/ ,/ 利用/ 该/ 语句/ 与/ 新/ 变异/ 分支/ 的/ 相关性/ ,/ 生成/ 包含/ 新/ 变异/ 分支/ 的/ 可/ 执行/ 子/ 路径/ ;/ 最后/ ,/ 采用/ 统计分析/ 方法/ ,/ 生成/ 一条/ 或/ 多条/ 覆盖/ 所有/ 子/ 路径/ 的/ 可/ 执行/ 路径/ ./ 这样/ 做/ 的/ 好处/ 是/ ,/ 覆盖/ 上述/ 可/ 执行/ 路径/ 的/ 测试数据/ ,/ 一定/ 能够/ 杀死/ 相应/ 的/ 变异/ 体/ ,/ 从而/ 为/ 生成/ 高质量/ 的/ 变异/ 测试数据/ ,/ 提供/ 了/ 一条/ 可行/ 的/ 途径/ ./ 为了/ 评价/ 所提/ 方法/ 的/ 性能/ ,/ 将/ 所/ 提/ 方法/ 应用/ 于/ 9/ 个/ 基准/ 和/ 工业/ 程序/ 测试/ ,/ 并/ 与/ 随机/ 法/ 和/ 排列组合/ 法/ 比较/ ./ 实验/ 结果表明/ :/ (/ 1/ )/ 采用/ 本文/ 方法/ 生成/ 的/ 路径/ 均/ 为/ 可/ 执行/ 的/ ;/ (/ 2/ )/ 这些/ 可/ 执行/ 路径/ 能够/ 覆盖/ 所有/ 的/ 变异/ 分支/ ;/ (/ 3/ )/ 采用/ 本文/ 方法/ 生成/ 的/ 可/ 执行/ 路径/ 条数/ 少/ ,/ 运行/ 时间/ 短/ ;/ 此外/ ,/ 本文/ 方法/ 涉及/ 的/ 样本容量/ ,/ 对/ 生成/ ID/ 可/ 执行/ 子/ 路径/ 条数/ T5T6T7T8T9/ 的/ 可/ 执行/ 路径/ 数目/ 有/ 一定/ 的/ 影响/ ,/ 而/ 对/ 程序/ 的/ 运行/ 时间/ 基本/ 没有/ 影响/ ./ 值得/ 说明/ 的/ 是/ ,/ 本文/ 在/ 生成/ 可/ 执行/ 路径/ 时/ ,/ 仅/ 考虑/ 了/ 生成/ 可/ 执行/ 路径/ 的/ 条数/ ,/ 而/ 没有/ 考虑/ 这些/ 可/ 执行/ 路径/ 覆盖/ 的/ 难易/ 程度/ ./ 一种/ 可能/ 的/ 情况/ 是/ ,/ 虽然/ 可/ 执行/ 路径/ 少/ ,/ 但是/ ,/ 如果/ 这些/ 路径/ 难以/ 覆盖/ ,/ 那么/ ,/ 也/ 难于/ 生成/ 覆盖/ 这些/ 路径/ 的/ 测试数据/ ,/ 从而/ 降低/ 了/ 变异/ 测试数据/ 生成/ 效率/ ,/ 鉴于/ 此/ ,/ 在/ 后续/ 的/ 研究/ 中/ ,/ 有/ 必要/ 进一步/ 结合/ 路径/ 覆盖/ 的/ 难易/ 程度/ ,/ 生成/ 条数/ 少且/ 容易/ 覆盖/ 的/ 可/ 执行/ 路径/ ,/ 以/ 提高/ 变异/ 测试数据/ 生成/ 的/ 效率/ ./ 此外/ ,/ 对于/ 并行程序/ 的/ 弱/ 变异/ 测试/ ,/ 如何/ 生成/ 相应/ 的/ 可/ 执行/ 路径/ ,/ 也/ 是/ 需要/ 进一步/ 研究/ 的/ 问题/ ./ 致谢/ 各位/ 审稿/ 专家/ 对/ 本文/ 提出/ 了/ 宝贵/ 的/ 评审/ 意见/ ,/ 这些/ 评审/ 意见/ 对/ 提高/ 论文/ 水平/ 具有/ 很大/ 的/ 帮助/ ./ 编辑/ 付出/ 了/ 辛勤工作/ ./ 在/ 此/ 一并/ 致谢/ !/ 

