Page1/ 基于/ 阈值/ 的/ 概率/ 图可达/ 查询/ 袁野/ 王国/ 仁/ (/ 医学影像/ 计算/ 教育部/ 重点/ 实验室/ (/ 东北大学/ )/ 沈阳/ 110004/ )/ (/ 东北大学/ 信息科学/ 与/ 工程学院/ 沈阳/ 110004/ )/ 摘要/ 图/ 的/ 可达性/ 查询/ 被/ 广泛应用/ 于/ 生物/ 网络/ 、/ 社会/ 网络/ 、/ 本体/ 网络/ 、/ RDF/ 网络/ 等/ ./ 由于/ 对/ 数据/ 操作/ 时/ 引入/ 的/ 噪声/ 和/ 错误/ 使/ 这些/ 图/ 数据/ 具有/ 不确定性/ ,/ 而/ 确定/ 图/ 的/ 可达/ 查询/ 不能/ 有效/ 地/ 处理/ 不确定性/ ,/ 因此/ 该文/ 研究/ 用/ 概率/ 语义/ 描述/ 的/ 图/ 可达性/ 查询/ ./ 具体/ 的/ ,/ 该文/ 使用/ 可能/ 世界/ 概率模型/ 定义/ 不/ 确定/ 图/ (/ 称为/ 概率/ 图/ )/ ,/ 基于/ 该/ 模型/ ,/ 研究/ 了/ 基于/ 阈值/ 的/ 概率/ 可/ 达/ 查询/ (/ T/ -/ PR/ )/ ./ 首先/ 为/ 避免/ 枚举/ 所有/ 可能/ 世界/ ,/ 给出/ 一个/ 基本/ 算法/ 可/ 精确/ 求解/ T/ -/ PR/ 查询/ ./ 其次/ 为/ 进一步/ 加速/ 基本/ 算法/ ,/ 给出/ 3/ 种/ 改进/ 方法/ ,/ 它们/ 是/ 不/ 确定/ 事件/ 界/ 、/ 同/ 构图/ 的/ 缩减/ 、/ 基于/ 不/ 相交/ 路径/ 和/ 割集/ 的/ 界/ ./ 通过/ 合理/ 的/ 组合/ 给出/ 3/ 种/ 方法/ 的/ 合并/ 算法/ ./ 最后/ 基于/ 真实/ 概率/ 图/ 数据/ 的/ 大量/ 实验/ 验证/ 了/ 该文/ 的/ 设计/ ./ 关键词/ 概率/ 图/ ;/ 可能/ 世界/ ;/ 不/ 确定/ 事件/ ;/ 同/ 构图/ 缩减/ ;/ 路径/ 集/ ;/ 割集/ 1/ 引言/ 本文/ 研究/ 一个/ 概率/ 图上/ 任意/ 两点/ 的/ 可达性/ 问题/ ./ 具体/ 地/ ,/ 给出/ 一/ 概率/ 图/ ,/ 其/ 任意/ 两点/ s/ 和/ d/ ,/ 一/ 用户/ 查询/ 阈值/ ε/ (/ 0/ / ε/ </ 1/ )/ ,/ 返回/ s/ 和/ d/ 的/ 连通/ 概率/ 是否/ 不/ 小于/ ε/ ./ 由于/ 图/ 的/ 不确定性/ 存在/ 于/ 许多/ 应用/ 中/ [/ 1/ -/ 7/ ]/ ,/ 研究/ 概率/ 图中/ 的/ 可达/ 查询/ 十分必要/ ,/ 下面/ 给出/ 两个/ 具体/ 应用/ 的/ 实例/ ./ 应用/ 实例/ 1/ ./ 已有/ 很多/ 关于/ 概率/ XML/ 数据库/ 的/ 研究/ [/ 1/ -/ 2/ ]/ ./ 在/ 这些/ 文献/ 中/ ,/ 一个/ XML/ 文档/ 被/ 建模/ 成/ 一颗/ 概率/ XML/ 树/ ./ 树/ 的/ 结点/ 被/ 分成/ “/ ordinary/ 结点/ ”/ 和/ “/ distribution/ 结点/ ”/ ,/ 这些/ 结点/ 定义/ 了/ 父/ 结点/ 和/ 孩子/ 结点/ 之间/ 概率/ 的/ 依赖/ 关系/ ./ 在/ XML/ 数据库/ 中/ ,/ 可达性/ 查询/ 是/ 最/ 基本/ 的/ 路径/ 查询/ ./ 其/ 形式/ 为/ // // P1/ // // P2/ ,/ 表示/ P1/ 是/ P2/ 的/ 祖先/ ./ 在/ 概率/ XML/ 树中/ ,/ 该/ 查询/ 不仅/ 返回/ 从/ P1/ ~/ P2/ 的/ 一条/ 路径/ ,/ 而且/ 还/ 包括/ P1/ ~/ P2/ 的/ 可达/ 概率/ ./ 这样/ 的/ 查询/ 也/ 可/ 被/ 看作/ 有/ 向/ 概率/ 图/ 的/ 可达/ 查询/ ./ 应用/ 实例/ 2/ ./ 对/ 本体/ 的/ 查询/ 日趋/ 重要/ ,/ 因为/ 很多/ 领域/ 都/ 在/ 建立/ 自己/ 的/ 本体/ 知识库/ ,/ 其中/ “/ 基因/ 本体/ (/ GO/ )/ ”/ 是/ 最/ 著名/ 的/ 本体/ 知识库/ (/ http/ :/ // // www/ ./ gene/ -/ ontology/ ./ org/ )/ ./ GO/ 被/ 构建/ 成有/ 向/ 无/ 环图/ ,/ 其中/ 图/ 结点/ 表示/ 概念/ ,/ 边/ 表示/ 概念/ 之间/ 的/ 从属关系/ ,/ 而/ 概念/ 是/ 对/ 有机物/ 中/ 不同/ 种类/ RNA/ 的/ 抽象/ ./ 对于/ GO/ 网络/ ,/ 生物/ 专家/ 会/ 关心/ 某/ 两个/ 概念/ 之间/ 的/ 关系/ 在/ 特定/ 的/ 生物/ 过程/ 中/ 起到/ 的/ 作用/ ./ 对/ 该/ 问题/ ,/ 可用/ 两/ 概念/ 间/ 的/ 可达/ 查询/ 来/ 回答/ ./ 而/ 由于/ 不/ 准确/ 的/ RNA/ 检测/ 方法/ ,/ 使/ 概念/ 之间/ 的/ 联系/ 不再/ 确定/ [/ 4/ -/ 6/ ]/ ,/ 因此/ 使用/ 概率/ 图/ 表示/ GO/ 网络/ 是/ 合适/ 的/ [/ 3/ ]/ ,/ 其中/ 边/ 的/ 权值/ 表示/ 概念/ 之间/ 存在/ 相互作用/ 的/ 可能性/ ./ 对/ 应用/ 实例/ 2/ ,/ 文献/ [/ 7/ ]/ 给出/ 一个/ 真实/ 概率/ 网络/ ,/ 其中/ 每条/ 边/ 被/ 赋予/ 一个/ 概率/ ./ 此/ 概率/ 被/ 定义/ 为/ 两种/ RNA/ 之间/ 的/ 可靠性/ ,/ 该值/ 越大/ ,/ 两种/ RNA/ 之间/ 越/ 可靠/ ./ 图/ 1/ 给出/ 该/ 网络/ 的/ 一部分/ ,/ 在/ 图/ 中/ ,/ 边/ e3/ 上/ 的/ 概率/ 表示/ 概念/ B/ 对/ 概念/ A/ 影响/ 的/ 概率/ 是/ 0.75/ ./ 对图/ 1/ ,/ 会/ 提出/ 查询/ “/ 概念/ s/ 影响/ 概念/ d/ 的/ 概率/ 是/ 多少/ ?/ ”/ ./ 传统/ 的/ s/ 和/ d/ 之间/ 的/ 可达性/ 查询/ 仅/ 返回/ s/ 可以/ 影响/ d/ ./ 但是/ ,/ 上述/ 查询/ 不仅/ 返回/ “/ 可以/ 影响/ ”/ ,/ 而且/ 还/ 返回/ 影响/ 的/ 程度/ ./ 为/ 解决/ 概率/ 有向图/ 的/ T/ -/ PR/ 查询/ 问题/ ,/ 本文/ 采用/ 可能/ 世界/ 模型/ [/ 8/ -/ 9/ ]/ (/ 一种/ 被/ 用来/ 描述/ 概率/ 数据库/ 的/ 模型/ )/ 定义/ 概率/ 图/ ./ 具体/ 地/ ,/ 给出/ 一个/ 概率/ 有向图/ ,/ 赋予/ 每/ 边/ 一个/ 存在/ 概率/ ,/ 每个/ 顶点/ 是/ 确定/ 的/ ,/ 即/ 其/ 概率/ 为/ 1/ ./ 一个/ 概率/ 图/ 的/ 可能/ 世界/ 是/ 一个/ 确定/ 图/ ,/ 称为/ 可能/ 世界/ 图/ (/ 简称/ 可能/ 图/ )/ ,/ 它/ 是/ 概率/ 图中/ 所有/ 边/ (/ 取决于/ 它们/ 的/ 存在/ 性/ )/ 组合/ 的/ 一个/ 实例/ ./ 一个/ 可能/ 图/ 的/ 概率/ 是/ 其/ 所有/ 存在/ 边/ 概率/ 和/ 其/ 不/ 存在/ 边/ 的/ 不/ 存在/ 概率/ 的/ 乘积/ ./ 给定/ 概率/ 图/ 两/ 顶点/ s/ 和/ d/ ,/ 从/ s/ 到达/ d/ 的/ 可达/ 概率/ 是/ 部分/ 可能/ 图/ 概率/ 的/ 和/ ,/ 在/ 这些/ 可能/ 图中/ ,/ s/ 和/ d/ 必须/ 是/ 连通/ 的/ ./ 一种/ 直接/ 求解/ T/ -/ PR/ 查询/ 的/ 方法/ 是/ 枚举/ 概率/ 图/ 所有/ 的/ 可能/ 图/ ,/ 并且/ 对/ 每个/ 可能/ 图/ 做/ 传统/ 的/ 可达/ 查询处理/ ./ 找出/ 所有/ 给定/ 两点/ 连通/ 的/ 可能/ 图/ ,/ 对/ 其/ 概率/ 求和/ ,/ 所得/ 结果/ 即/ 是/ 可达/ 概率/ ,/ 再/ 与/ 查询/ 阈值/ 比较/ 返回/ 结果/ ./ 称该/ 方法/ 为/ Naive/ 算法/ ./ 但是/ ,/ 此/ 方法/ 的/ 效率/ 非常低/ ,/ 因为/ 需/ 枚举/ 指数/ 级/ 的/ 可能/ 图/ ./ 因此/ ,/ 为/ 避免/ Naive/ 算法/ ,/ 本文/ 首先/ 设计/ 一/ 基本/ 算法/ 可/ 精确/ 计算/ 出可达/ 概率/ ./ 但/ 处理/ T/ -/ PR/ 查询/ 是/ #/ P/ 完全/ 问题/ ,/ 因此/ 在/ 最坏/ 情况/ 下/ ,/ 基本/ 算法/ 的/ 计算/ 代价/ 会/ 很/ 高/ ./ 为此/ 本文/ 对/ 基本/ 算法/ 开发/ 出/ 3/ 种/ 改进/ 方法/ ,/ 它们/ 分别/ 是/ “/ 不/ 确定/ 事件/ 界/ ”/ 、/ “/ 同/ 构图/ 的/ 缩减/ ”/ 、/ “/ 基于/ 不/ 相交/ 路径/ // 割集界/ ”/ ./ 3/ 种/ 方法/ 都/ 是/ 充分利用/ 图/ 的/ 结构/ 特点/ 和/ 阈值/ 界/ 加速/ 查询/ ,/ 尽可能/ 早地/ 使/ 基本/ 算法/ 收敛/ ./ 最后/ 给出/ 3/ 种/ 方法/ 的/ 合并/ 算法/ ./ 正如/ 用/ 真实/ 概率/ 图/ 数据/ 的/ 实验/ 结果/ 所示/ ,/ 合并/ 算法/ 具有/ 非常/ 快/ 的/ 运行/ 速度/ ./ 2/ 问题/ 定义/ 定义/ 1/ ./ 一个/ 概率/ 图是/ 一/ 集合/ G/ =/ (/ (/ V/ ,/ E/ )/ ,/ Pr/ )/ ,/ 其中/ (/ V/ ,/ E/ )/ 是/ 有/ 向/ 无/ 环图/ ,/ Pr/ :/ E/ →/ (/ 0/ ,/ 1/ ]/ 是/ 定义/ 边/ 集中/ 每条/ 边/ 存在/ 的/ 概率函数/ ./ 从/ 定义/ 1/ 易知/ 确定/ 图是/ 一个/ 特殊/ 的/ 边/ 概率/ 为/ 1/ 的/ 概率/ 图/ ,/ 可/ 表示/ 为/ G/ =/ (/ (/ V/ ,/ E/ )/ ,/ 1/ )/ ./ 正如/ 第/ 1/ 节/ 提到/ 的/ ,/ 本文/ 使用/ 可能/ 世界/ 模型/ 来/ 定义/ 概率/ 图/ ./ 在/ 可能/ 世界/ 模型/ 下/ ,/ 一/ 概率/ 图可派/ 生出/ 一组/ 确定/ 图/ G/ =/ (/ V/ ,/ E/ )/ ,/ 此/ 确定/ 图/ 称为/ 可能/ 世界/ 图/ ,/ 简称/ 可能/ 图/ ,/ 它/ 满足/ V/ =/ V/ ,/ E/ / E/ ./ 根据/ 文献/ [/ 1/ -/ 7/ ]/ 应用/ 的/ 规定/ ,/ 本文/ 假设/ 概率/ 图/ 不/ Page3/ 同边/ 的/ 概率分布/ 是/ 相互/ 独立/ 的/ ,/ 因此/ 可能/ 图/ 的/ 概率/ 为/ Pr/ (/ G/ )/ =/ ∏/ e/ ∈/ E/ 定义/ 2/ ./ 给/ 一/ 概率/ 图/ G/ ,/ 其/ 两个/ 顶点/ s/ 和/ d/ ,/ 一/ 查询/ 阈值/ ε/ (/ 0/ / ε/ </ 1/ )/ ,/ 基于/ 阈值/ 的/ 概率/ 可/ 达/ 查询/ (/ T/ -/ PR/ )/ 返回/ 如下/ 信息/ :/ (/ 1/ )/ “/ 两/ 顶点/ 能够/ 以/ 概率/ ε/ 连通/ ”/ ,/ 如果/ 可/ 达/ 概率/ qpr/ / ε/ ;/ (/ 2/ )/ “/ 两/ 顶点/ 不能/ 以/ 概率/ ε/ 连通/ ”/ 如果/ 可/ 达/ 概率/ qpr/ </ ε/ ./ 其中/ 可/ 达/ 概率/ 计算/ 如下/ 其中/ RA/ (/ G/ )/ 是/ s/ 可达/ d/ 的/ 可能/ 图/ 的/ 集合/ ./ 例如/ 对图/ 1/ 中/ 的/ 概率/ 图/ ,/ 枚举/ 其/ 25/ =/ 32/ 个/ 可能/ 图/ ,/ 然后/ 判断/ s/ 和/ d/ 连通/ 的/ 可能/ 图/ ,/ 对/ 它们/ 的/ 概率/ 求和/ 即/ 是/ 可达/ 概率/ ,/ 其值/ 是/ 0.9176/ ./ 如果/ 用户/ 的/ 查询/ 阈值/ 是/ 0.5/ ,/ 则/ 系统/ 返回/ “/ 两/ 顶点/ 能够/ 以/ 0.5/ 的/ 概率/ 连通/ ”/ ./ 注意/ 到/ s/ 和/ d/ 在/ G/ 中/ 可能/ 不/ 连通/ ,/ 本文/ 采用/ “/ Path/ -/ TreeCover/ ”/ [/ 10/ ]/ 方法/ 首先/ 测试/ s/ 是否/ 可/ 到达/ d/ ./ 如果/ 它们/ 连通/ ,/ 然后/ 计算/ 可达性/ 概率/ qpr/ ./ 否则/ ,/ 直接/ 返回/ 不可/ 达/ 信息/ ./ 接下来/ ,/ 本文/ 都/ 假设/ 在/ G/ 中/ s/ 和/ d/ 是/ 连通/ 的/ ./ 对/ 计算/ 可/ 达/ 概率/ 的/ 复杂度/ ,/ 引用/ 文献/ [/ 11/ ]/ 中/ 的/ 结论/ ./ 引理/ 1/ ./ 计算/ 概率/ 图中/ 的/ 可达/ 概率/ 是/ 一个/ #/ P/ 完全/ 问题/ ./ 3/ 基本/ 算法/ 定义/ 3/ ./ 给定/ 一个/ 概率/ 图/ G/ ,/ 其/ 两个/ 顶点/ s/ 和/ d/ ,/ 一个/ s/ —/ d/ 路径/ 是/ 连通/ 从/ s/ 到/ d/ 的/ 连续/ 边/ 的/ 集合/ ./ 如果/ 一个/ s/ —/ d/ 路径/ 中/ 不/ 包含/ 任何/ 的/ s/ —/ d/ 子/ 路径/ ,/ 则/ 它/ 被/ 称为/ 最小/ s/ —/ d/ 路径/ (/ 表示/ 为/ Imin/ (/ s/ —/ d/ )/ )/ ./ 根据/ 定义/ 1/ 知/ ,/ 图/ G/ 是/ 无/ 环图/ ,/ 因此/ 易知/ 一/ s/ —/ d/ 路径/ 即/ 是/ Imin/ (/ s/ —/ d/ )/ ./ 定义/ 4/ ./ 对/ 任意/ 一边/ e/ ∈/ G/ ,/ 定义/ 一/ 布尔/ 变量/ xe/ ,/ 其中/ 事件/ xe/ =/ 1/ (/ 称为/ 成功/ 事件/ )/ 的/ 概率/ 是/ e/ 的/ 存在/ 概率/ ,/ 事件/ xe/ =/ 0/ (/ 称为/ 失败/ 事件/ )/ 的/ 概率/ 是/ e/ 不/ 存在/ 的/ 概率/ ./ 接下来/ 用/ Event/ (/ e/ )/ 表示/ 事件/ xe/ =/ 1/ ,/ 用/ Event/ (/ 珋/ e/ )/ 表示/ 事件/ xe/ =/ 0/ ./ 这样/ ,/ 有/ 了/ 基本/ 事件/ 便/ 可定义/ 复合/ 事件/ ./ 例如/ 事件/ I/ =/ Event/ (/ 珋/ ij/ 珔/ k/ )/ 表示/ 边/ j/ 是/ 成功/ 的/ ,/ 边/ i/ 和/ k/ 是/ 失败/ 的/ ./ 其它/ 不/ 在/ I/ 中/ 的/ 边/ 是/ 不/ 确定/ 的/ (/ 即/ 不是/ 成功/ 的/ 也/ 不是/ 失败/ 的/ )/ ,/ 每个/ I/ 把/ 图/ G/ 的/ 边集/ E/ 分成/ 3/ 个/ 不/ 相交/ 的/ 子集/ Es/ (/ I/ )/ 、/ Ef/ (/ I/ )/ 和/ Eu/ (/ I/ )/ ,/ 分别/ 用来/ 记录/ 成功/ 的/ 边集/ 、/ 失败/ 的/ 边集/ 和/ 不/ 确定/ 的/ 边集/ ./ 例如/ 对于/ Event/ (/ 珋/ ij/ 珔/ k/ )/ ,/ 有/ Ef/ (/ I/ )/ =/ {/ i/ ,/ k/ }/ ,/ Es/ (/ I/ )/ =/ {/ j/ }/ ,/ Eu/ (/ I/ )/ =/ E/ \/ {/ i/ ,/ j/ ,/ k/ }/ ./ 易知/ Es/ (/ I/ )/ ∪/ Ef/ (/ I/ )/ ∪/ Eu/ (/ I/ )/ =/ E/ ./ 由于/ 边/ 的/ 分布/ 是/ 独立/ 的/ ,/ 事件/ I/ 的/ 概率/ 为/ Pr/ (/ I/ )/ =/ ∏/ e/ ∈/ Es/ 定义/ 3/ 个/ 重要/ 事件/ ./ 定义/ 5/ ./ 给定/ 一个/ 概率/ 图/ G/ ,/ 其/ 两/ 顶点/ s/ 和/ d/ ./ 如果/ Es/ (/ I/ )/ 中/ 的/ 边/ 能/ 使/ s/ 和/ d/ 连通/ ,/ 复合/ 事件/ I/ 是/ 成功/ 的/ (/ 记为/ s/ -/ event/ )/ ./ 如果/ Ef/ (/ I/ )/ 中/ 的/ 边/ 不能/ 使/ s/ 和/ d/ 连通/ ,/ I/ 是/ 失败/ 的/ (/ 记为/ f/ -/ event/ )/ ,/ 如果/ I/ 既/ 不是/ 成功/ 的/ 也/ 不是/ 失败/ 的/ ,/ 则/ I/ 是/ 一个/ 不/ 确定/ 的/ 事件/ (/ 记为/ u/ -/ event/ )/ ./ 例如/ 在/ 图/ 1/ 中/ ,/ Event/ (/ e1e4/ )/ 是/ s/ -/ event/ ,/ 由于/ 其/ 成功/ 边集/ {/ e1/ ,/ e4/ }/ 的/ 存在/ 使/ s/ 和/ d/ 连通/ ./ Event/ (/ e1e2e3/ )/ 是/ f/ -/ event/ ,/ 因为/ 当其/ 失败/ 边集/ e1/ ,/ e2/ 不/ 存在/ 时/ ,/ 必使/ s/ 和/ d/ 不/ 连通/ ./ Event/ (/ e2e3/ )/ 是/ u/ -/ event/ ,/ 因为/ 不能/ 通过/ 判断/ 其/ 成功/ 边集/ e3/ 的/ 存在/ 和/ 其/ 失败/ 边集/ e2/ 的/ 不/ 存在/ ,/ 来/ 确定/ s/ 和/ d/ 是/ 连通/ 还是/ 断开/ ./ 定理/ 1/ ./ 对/ 概率/ 图/ G/ 中/ 任意/ 一/ u/ -/ eventI/ ,/ I/ 中/ 至少/ 有/ 一条/ Imin/ (/ s/ —/ d/ )/ 路径/ ./ 证明/ ./ 设/ I/ 的/ Eu/ (/ I/ )/ 为/ e1e2/ …/ e/ α/ ,/ 那么/ 有/ (/ e1e2/ …/ e/ α/ )/ ∪/ Es/ (/ I/ )/ =/ E/ \/ Ef/ (/ I/ )/ ./ 因为/ I/ 是/ 不/ 确定/ 事件/ ,/ 故可分/ 两种/ 情况/ 考虑/ :/ (/ 1/ )/ 当/ I/ 不/ 失败/ 时/ ,/ 由于/ I/ 的/ 边集/ E/ (/ I/ )/ =/ Es/ (/ I/ )/ ∪/ Ef/ (/ I/ )/ ,/ 所以/ I/ ∧/ Event/ (/ e1e2/ …/ e/ α/ )/ 必是/ s/ -/ event/ ;/ (/ 2/ )/ 当/ I/ 不/ 成功/ 时/ ,/ 边集/ (/ e1e2/ …/ e/ α/ )/ 是非/ 空/ 的/ ./ 根据/ (/ 1/ )/ 、/ (/ 2/ )/ ,/ 易得/ (/ e1e2/ …/ e/ α/ )/ 是/ Imin/ (/ s/ —/ d/ )/ 路径/ ./ 例如/ 在/ 图/ 1/ 中/ ,/ 在/ u/ -/ eventEvent/ (/ e2e3/ )/ 下/ ,/ 可/ 找到/ Imin/ (/ s/ —/ d/ )/ =/ {/ e1e4/ }/ ,/ 并且/ Event/ (/ e1e3/ )/ ∧/ Event/ (/ e1e4/ )/ 是/ 一个/ s/ -/ event/ ./ 这个/ 定理/ 是/ 基本/ 算法/ 的/ 基础/ ./ 概率/ 图/ G/ 的/ 整个/ 事件/ 空间/ Ω/ 是/ u/ -/ event/ ,/ 定理/ 1/ 保证/ 在/ Ω/ 下/ 能够/ 找到/ 一个/ Imin/ (/ s/ —/ d/ )/ =/ (/ e1e2/ …/ en/ )/ ,/ 也/ 就/ 等于/ 找到/ 了/ 成功/ 事件/ Event/ (/ e1e2/ …/ en/ )/ ./ 而/ 对于/ 任何/ 一/ u/ -/ eventI/ ,/ 根据/ 定理/ 1/ 都/ 可以/ 找到/ 成功/ 事件/ Event/ (/ Imin/ (/ s/ —/ d/ )/ )/ ./ 下面/ 的/ 公式/ 生成/ 不/ 相交/ 的/ 事件/ ./ 对于/ 一个/ u/ -/ eventI/ ,/ 由/ 概率/ 分解/ 定理/ 得到/ I/ =/ I/ ∧/ Ω/ =/ I/ ∧/ (/ Event/ (/ e1e2/ …/ en/ )/ ∨/ Event/ (/ e1e2/ …/ en/ )/ )/ =/ (/ I/ ∧/ Event/ (/ e1/ )/ )/ ∨/ (/ I/ ∧/ Event/ (/ e1e2/ )/ )/ ∨/ …/ ∨/ (/ I/ ∧/ Event/ (/ e1e2/ …/ en/ )/ )/ ∨/ (/ I/ ∧/ Event/ (/ e1e2/ …/ en/ )/ )/ 起初/ 在/ G/ 的/ 整个/ 事件/ 空间/ Ω/ 下/ 找到/ Imin/ (/ s/ —/ d/ )/ =/ (/ e1/ …/ en/ )/ ,/ 后用式/ (/ 3/ )/ 产生/ 的/ 事件/ I/ ∧/ Event/ (/ e1e2/ …/ en/ )/ 是/ 一个/ s/ -/ event/ ,/ 而/ 事件/ Ii/ =/ I/ ∧/ Event/ (/ e1/ ,/ e2/ ,/ …/ ,/ Page4ei/ )/ (/ 1/ / i/ / n/ )/ 可能/ 是/ 成功/ 、/ 失败/ 或者/ 不/ 确定/ 的/ ./ 此时/ 可以/ 继续/ 用式/ (/ 3/ )/ 对/ 不/ 确定/ 事件/ 分解/ 产生/ 成功/ 事件/ ./ 重复/ 此/ 过程/ 直到/ 没有/ 不/ 确定/ 事件/ 为止/ ./ 最后/ 把/ 所有/ 成功/ 事件/ 的/ 概率/ 加/ 到/ 一起/ ①/ ,/ 即可/ 得到/ 可/ 达/ 概率/ qpr/ ./ 算法/ 1/ 给出/ 基本/ 算法/ 的/ 具体步骤/ ./ 算法/ 1/ ./ 基本/ 算法/ ./ 输入/ :/ 概率/ 图/ G/ ,/ s/ 和/ d/ ,/ 阈值/ ε/ 输出/ :/ 有效/ 或/ 无效/ 的/ 查询/ 结果/ 算法/ 描述/ :/ 1/ ./ S/ =/ {/ Ω/ ,/ / ,/ 0/ ,/ 0/ }/ ;/ // // 为/ 整个/ G/ 的/ 事件/ 空间/ Ω/ 初始化/ 2/ ./ qpr/ =/ 0/ ;/ // // 初始化/ 可/ 达/ 概率/ 3/ ./ while/ (/ S/ ≠/ / )/ {/ 4/ ./ 根据/ 集合/ S/ 中/ 的/ 索引/ i/ ,/ 获得/ 一/ 事件/ Ii/ ;/ 5/ ./ if/ (/ i/ </ ni/ )/ 6/ ./ i/ =/ i/ +/ 1/ ;/ 7/ ./ else/ 集合/ S/ 被/ 舍弃/ ;/ 8/ ./ 在/ 事件/ Ii/ 下/ 找到/ 一/ s/ —/ d/ 路径/ Iimin/ (/ s/ —/ d/ )/ ;/ 9/ ./ if/ (/ Event/ (/ Iimin/ (/ s/ —/ d/ )/ )/ =/ =/ / )/ 10/ ./ 删除/ Ii/ ;/ // // 此时/ 事件/ Ii/ 是/ 失败/ 的/ ./ 11/ ./ elseif/ (/ Ii/ 是/ 成功/ 的/ )/ 12/ ./ qpr/ =/ qpr/ +/ Pr/ (/ Ii/ )/ ;/ 13/ ./ elseqpr/ =/ qpr/ +/ Pr/ (/ Ii/ ∧/ Event/ (/ Iimin/ (/ s/ —/ d/ )/ )/ )/ ;/ 14/ ./ if/ (/ qpr/ / ε/ )/ 15/ ./ return/ “/ 两/ 顶点/ 能够/ 以/ 概率/ ε/ 连通/ ”/ ;/ 16/ ./ 将/ 一个/ 新/ 的/ 集合/ {/ Ii/ ,/ Iimin/ (/ s/ —/ d/ )/ ,/ ni/ ,/ i/ =/ 1/ }/ 放入/ S/ ;/ 17/ ./ }/ // // while/ 结束/ 18/ ./ return/ “/ 两/ 顶点/ 不能/ 以/ 概率/ ε/ 连通/ ”/ ./ 图/ 2/ 图/ 1/ 中/ 概率/ 图/ 的/ 解决/ 树此/ 算法/ 的/ 过程/ 可用/ 一棵/ 解决/ 树/ 表示/ ,/ 其/ 定义/ 如下/ ./ 定义/ 6/ ./ 一棵/ 解决/ 树是/ 一/ 树形/ 结构/ ,/ 其根/ 节点/ 表示/ G/ 的/ 整个/ 事件/ 空间/ Ω/ ,/ 其它/ 节点/ 表示/ 由式/ (/ 3/ )/ 产生/ 的/ 事件/ I/ ∧/ Event/ (/ e1e2/ …/ ei/ )/ (/ 1/ / i/ / n/ )/ 或/ I/ ∧/ Event/ (/ e1e2/ …/ en/ )/ ./ 特别/ 地/ ,/ 每个/ 叶子/ 节点/ 表示/ 一个/ s/ -/ event/ 或者/ f/ -/ event/ ,/ 但/ 中间/ 节点/ 仅能/ 表示/ u/ -/ event/ ./ 根据/ 解决/ 树/ ,/ 算法/ 1/ 的/ 工作/ 原理/ 如下/ :/ 开始/ 解决/ 树仅/ 包含/ 根/ 节点/ 表示/ G/ 的/ 整个/ 事件/ Ω/ (/ Ω/ 是/ 一/ u/ -/ event/ )/ ,/ 接下来/ 用式/ (/ 3/ )/ 找到/ 一/ s/ —/ d/ 路径/ e1e2/ …/ en/ ,/ 并/ 将/ Ω/ 分成/ 不/ 相交/ 的/ 事件/ ./ 这些/ 事件/ 构成/ 了/ 解决/ 树/ 的/ 第一层/ 结点/ ②/ ,/ 其中/ Event/ (/ e1e2/ …/ en/ )/ 是/ 成功/ 的/ ,/ 事件/ Event/ (/ e1e2/ …/ ei/ )/ (/ 1/ / i/ / n/ )/ 可能/ 是/ 失败/ 、/ 成功/ 或者/ 不/ 确定/ 的/ ./ 同样/ 地/ ,/ 对/ 每个/ u/ -/ event/ 进一步/ 递归/ 划分/ 为/ 不/ 相交/ 的/ 事件/ ,/ 直到/ 没有/ u/ -/ event/ 为止/ ./ 解决/ 树/ 不断/ 由/ u/ -/ event/ 结点/ 进行/ 扩展/ 直到/ 只/ 剩下/ s/ -/ event/ 和/ f/ -/ event/ 结点/ 为止/ ,/ 并且/ 这些/ 结点/ 构成/ 解决/ 树/ 的/ 叶子/ 节点/ ./ qpr/ 的/ 值/ 为/ 所有/ s/ -/ event/ 概率/ 的/ 和/ ./ 最后/ 将/ qpr/ 和/ 阈值/ ε/ 比较/ ,/ 并/ 返回/ 查询/ 结果/ ./ 例如/ ,/ 欲/ 计算/ 图/ 1/ 中/ s/ 到/ d/ 的/ qpr/ ,/ 图/ 2/ 给出/ 其/ 基本/ 算法/ 的/ 解决/ 树/ ./ 如图所示/ ,/ 树根/ 是/ Ω/ ,/ 在/ Ω/ 下/ 找到/ s/ —/ d/ 路径/ e1e4/ ,/ 产生/ 事件/ Event/ (/ ei/ )/ (/ u/ -/ enent/ )/ 、/ Event/ (/ e1e4/ )/ (/ u/ -/ enent/ )/ 和/ Event/ (/ e1e4/ )/ (/ s/ -/ event/ )/ ./ 每个/ u/ -/ event/ 继续/ 被/ 分解/ ,/ 直到/ 解决/ 树中/ 只/ 包含/ s/ // f/ -/ event/ ,/ 如图/ 2/ 中/ 叶子/ 节点/ 所示/ ./ 所有/ 的/ s/ // f/ // u/ -/ event/ 都/ 在/ 图/ 中/ 列出/ ,/ 并且/ 给出/ 每个/ s/ -/ event/ 的/ 概率/ ,/ 它们/ 的/ 和/ 0.68/ +/ 0.1224/ +/ 0.072/ +/ 0.0162/ +/ 0.027/ =/ 0.9176/ 即为/ qpr/ ./ ①/ ②/ Page54/ 改进/ 算法/ 由/ 引理/ 1/ 知/ ,/ 计算/ qpr/ 的/ 精确/ 值/ 是/ 很/ 困难/ 的/ ./ 因此/ 对于/ 一个/ 很大/ 的/ 图/ ,/ 基本/ 算法/ 仍/ 需要/ 枚举/ 大量/ 的/ s/ —/ d/ 路径/ ./ 本节/ 将/ 给出/ 3/ 种/ 优化/ 算法/ 使/ 基本/ 算法/ 尽可能/ 快地/ 收敛/ ./ 4.1/ 不/ 确定/ 事件/ 界/ T/ -/ PR/ 查询/ 包括/ 阈值/ ε/ ,/ 因此/ 可以/ 利用/ 这个/ 阈值/ 来/ 加速/ 查询/ ./ 一种/ 方法/ 是/ 计算/ qpr/ 的/ 界/ ,/ 然后/ 将/ 此界/ 与/ ε/ 比较/ 给出/ 查询/ 结果/ ./ 对/ 固定/ 的/ α/ (/ 0/ / α/ </ 1/ )/ ,/ 如果/ 一个/ u/ -/ eventI/ 的/ 概率/ 不/ 小于/ α/ (/ Pr/ (/ I/ )/ / α/ )/ ,/ 则/ 称/ I/ 为/ 有/ α/ 资格/ 的/ u/ -/ event/ ,/ 否则/ ,/ I/ 为/ 非/ α/ 资格/ 的/ u/ -/ event/ ,/ 如果/ Pr/ (/ I/ )/ </ α/ ./ 对/ 给定/ α/ ,/ 设/ X/ α/ ,/ Y/ α/ ,/ Z/ α/ 分别/ 为/ 解决/ 树中/ 的/ s/ -/ event/ 集合/ 、/ f/ -/ event/ 集合/ 和/ 非/ α/ 资格/ 的/ u/ -/ event/ 集合/ ,/ 则/ 定理/ 2/ 给出/ qpr/ 的/ 上/ 下界/ ./ 定理/ 2/ ./ 对/ 0/ / α/ / β/ </ 1/ ,/ 有/ ∑/ I/ ∈/ X/ β/ Pr/ (/ I/ )/ / qpr/ / 1/ -/ ∑/ I/ ∈/ Y/ α/ ∑/ I/ ∈/ X/ α/ 证明/ ./ 设/ Tree/ α/ 和/ Tree/ β/ 为/ 对应/ 于/ α/ 和/ β/ 的/ 子/ 解决/ 树/ ./ 如果/ α/ / β/ ,/ 那么/ 每个/ 有/ β/ 资格/ 的/ u/ -/ event/ 也/ 是/ 有/ α/ 资格/ 的/ u/ -/ event/ ./ 因此/ 每个/ 有/ β/ 资格/ 的/ u/ -/ event/ 可/ 在/ Tree/ α/ 和/ Tree/ β/ 被/ 分成/ 若干/ 子/ 事件/ ./ 然而/ ,/ 一个/ 有/ α/ 资格/ 非/ β/ 资格/ 的/ u/ -/ event/ 只能/ 在/ Tree/ α/ 被/ 划分/ 而/ 不能/ 在/ Tree/ β/ 被/ 划分/ ./ 因而/ 有/ X/ β/ / X/ α/ ,/ Y/ β/ / Y/ α/ ,/ 从而/ 推出/ 结果/ ./ 该/ 定理/ 表明/ ,/ 一个/ 较/ 小/ 的/ α/ 会/ 使/ qpr/ 的/ 上界/ 和/ 下界/ 非常/ 接近/ ,/ 也/ 就/ 会/ 有/ 非常/ 好/ 的/ 过滤/ 能力/ ./ 如果/ 选择/ 一系列/ 的/ α/ 满足/ 1/ >/ α/ 1/ >/ α/ 2/ >/ α/ 3/ >/ …/ >/ 0/ ,/ 便/ 可/ 获得/ 一系列/ 递增/ 的/ 下界/ 和/ 递减/ 的/ 上界/ 以/ 保证/ 精确/ 的/ qpr/ ./ 得界/ 以后/ 再/ 与/ ε/ 比较/ 给出/ 查询/ 结果/ ./ 这种/ 方法/ 避免/ 了/ 在/ 解决/ 树上/ 对/ u/ -/ event/ 事件/ 的/ 深度/ 分解/ ,/ 并/ 能/ 快速/ 地/ 逼近/ 准确/ 值/ ./ 但/ 欲/ 应用/ 定理/ 2/ ,/ 必须/ 预先确定/ α/ 的/ 值/ ,/ 此种/ 方法/ 不是/ 最佳/ 的/ 选择/ ./ 但/ 我们/ 可以/ 用/ 解决/ 树中/ s/ -/ event/ 和/ f/ -/ event/ 的/ 叠加/ 概率/ 作为/ 界限/ ,/ 它/ 的/ 本质/ 即/ 是/ 定理/ 2/ ./ 设/ Pr/ (/ Is/ )/ 和/ Pr/ (/ If/ )/ 是/ 当前/ 从/ 解决/ 树/ 第一层/ 开始/ 累加/ 的/ s/ -/ event/ 和/ f/ -/ event/ 的/ 概率/ ./ 根据/ 定理/ 2/ 有/ Pr/ (/ Is/ )/ / qpr/ / 1/ -/ Pr/ (/ If/ )/ ./ 根据/ 查询/ 结果/ 的/ 条件/ qpr/ / ε/ 做/ 如下/ 测试/ :/ (/ 1/ )/ 如果/ Pr/ (/ Is/ )/ / ε/ ,/ 则/ 停止/ 基本/ 算法/ 返回/ 有效/ 结果/ ;/ (/ 2/ )/ 如果/ 1/ -/ Pr/ (/ If/ )/ / ε/ ,/ 则/ 也/ 停止/ 基本/ 算法/ ,/ 并/ 返回/ 无效/ 结果/ ./ 随着/ 累加/ 值/ 的/ 不断/ 递增/ ,/ 就/ 像/ 选择/ 一系列/ 的/ α/ 一样/ ,/ 可/ 得/ 越来越/ 紧/ 的/ 界限/ ,/ 尽可能/ 早地/ 停止/ 计算/ ./ 4.2/ 同/ 构图/ 缩减/ 如式/ (/ 3/ )/ 所示/ ,/ 任何/ 事件/ I/ ∧/ Event/ (/ e1/ ,/ e2/ ,/ …/ ,/ ei/ )/ (/ 1/ / i/ / n/ )/ 可能/ 是/ 一个/ u/ -/ event/ ./ 因此/ 在/ 基本/ 算法/ 中/ ,/ 如果/ 在/ 解决/ 树/ 的/ 低层/ 产生/ 较/ 多/ 的/ u/ -/ event/ ,/ 那么/ 会/ 产生/ 对/ u/ -/ event/ 的/ 深度/ 分解/ ./ 这样/ 会/ 导致/ 整个/ 解决/ 树/ 的/ 结点/ 数量/ 以/ 指数/ 增长/ ,/ 从而/ 产生/ 巨大/ 的/ 计算/ 开销/ ./ 幸运/ 的/ 是/ ,/ 我们/ 发现/ 在/ 一系列/ 相邻/ 的/ u/ -/ event/ 中/ 存在/ 一种/ 结构/ 关系/ ,/ 通过/ 这种/ 关系/ ,/ 能够/ 大幅度/ 地/ 缩减/ 结点/ 的/ 数量/ ,/ 以/ 减少/ 计算/ 代价/ ./ 本/ 小节/ 给出/ 该/ 方法/ 的/ 具体/ 实现/ ./ 对/ 一/ u/ -/ eventI/ ,/ 设/ E/ (/ I/ )/ =/ Es/ (/ I/ )/ ∪/ Ef/ (/ I/ )/ ,/ G/ \/ E/ (/ I/ )/ 为/ G/ 删除/ 边集/ E/ (/ I/ )/ 后/ 得到/ 的/ 子/ 图/ ,/ Pr/ (/ G/ \/ E/ (/ I/ )/ )/ |/ con/ 为/ G/ \/ E/ (/ I/ )/ 中/ s/ 到/ d/ 可达/ 概率/ ./ 从/ 基本/ 算法/ 可/ 得/ ,/ 事件/ Event/ (/ E/ (/ I/ )/ )/ 对/ qpr/ 的/ 贡献/ 概率/ 为/ Pr/ (/ E/ (/ I/ )/ )/ ·/ Pr/ (/ G/ \/ E/ (/ I/ )/ )/ |/ con/ ,/ 其中/ Pr/ (/ E/ (/ I/ )/ )/ =/ Pr/ (/ Es/ (/ I/ )/ )/ ·/ Pr/ (/ Ef/ (/ I/ )/ )/ ./ 例如/ 在/ 图/ 2/ ,/ 不/ 确定/ 事件/ Event/ (/ e1/ )/ 的/ 贡献/ 概率/ 是/ Pr/ (/ e1/ )/ ·/ Pr/ (/ G/ \/ e1/ )/ |/ con/ ,/ 并且/ 以/ (/ e1/ )/ 为根/ 的/ 子树/ 给出/ 了/ Pr/ (/ G/ \/ e1/ )/ |/ con/ 的/ 计算/ 过程/ ./ 设/ S/ =/ G/ \/ E/ (/ I/ )/ ,/ S/ \/ e/ 表示/ 从/ S/ 中/ 删除/ 边/ e/ ./ 又/ 设/ S/ / e/ 表示/ 从/ S/ 缩/ e/ ,/ 即/ 从/ S/ 中/ 移除/ e/ ,/ 并/ 将/ 关联/ e/ 两/ 顶点/ 的/ 边/ 关联/ 到/ 一个/ 顶点/ 上/ ./ 定理/ 3/ 给出/ 关于/ 图/ S/ =/ G/ \/ E/ (/ I/ )/ 的/ 一/ 重要/ 性质/ ./ Pr/ (/ S/ )/ |/ con/ =/ Pr/ (/ e/ )/ Pr/ (/ S/ / e/ )/ |/ con/ +/ Pr/ (/ 珋/ e/ )/ Pr/ (/ S/ \/ e/ )/ |/ con/ 定理/ 3/ ./ 证明/ ./ 设/ Scon/ 表示/ S/ 中/ s/ 到/ d/ 连通/ 的/ 事件/ ,/ 由全/ 概率/ 公式/ 可得/ Pr/ (/ S/ )/ |/ con/ =/ Pr/ (/ e/ )/ Pr/ (/ Scon/ |/ e/ )/ |/ con/ +/ Pr/ (/ 珋/ e/ )/ Pr/ (/ Scon/ |/ e/ )/ ,/ 其中/ Pr/ (/ ·/ |/ ·/ )/ 表示/ 条件/ 概率/ ./ 易知/ Pr/ (/ Scon/ |/ 珋/ e/ )/ 等于/ Pr/ (/ S/ \/ e/ )/ |/ con/ ,/ 而/ Pr/ (/ Scon/ |/ e/ )/ 表示/ 边/ e/ 已/ 存在/ 时/ 对/ Scon/ 的/ 影响/ ,/ 因此/ 可以/ 缩减/ e/ ,/ 并且/ 有/ Pr/ (/ Scon/ |/ 珋/ e/ )/ 等于/ Pr/ (/ S/ / e/ )/ |/ con/ ./ 证毕/ ./ 令/ I/ ∧/ Event/ (/ e1e2/ …/ ei/ )/ =/ Ii/ 和/ I/ ∧/ Event/ (/ e1e2/ …/ ei/ +/ 1/ )/ =/ Ii/ +/ 1/ 是/ 解决/ 树中/ 两个/ 相邻/ 的/ u/ -/ event/ ,/ 并令/ Fi/ 和/ Fi/ +/ 1/ 分别/ 表示/ G/ \/ E/ (/ Ii/ )/ 和/ G/ \/ E/ (/ Ii/ +/ 1/ )/ 得到/ 的/ 子/ 图/ ./ 则/ 可得/ qpr/ =/ Pr/ (/ Ii/ )/ Pr/ (/ Fi/ )/ |/ con/ +/ Pr/ (/ Ii/ +/ 1/ )/ Pr/ (/ Fi/ +/ 1/ )/ |/ con/ =/ Pr/ (/ Ii/ )/ [/ Pr/ (/ ei/ +/ 1/ )/ Pr/ (/ Fi/ / ei/ +/ 1/ )/ |/ con/ +/ 对于/ 两个/ 相邻/ 的/ u/ -/ event/ ,/ Fi/ 和/ Fi/ +/ 1/ 有/ 相同/ 的/ 顶点/ ,/ 并且/ Fi/ 仅/ 比/ Fi/ +/ 1/ 多边/ ei/ +/ 1/ ,/ 因此/ ,/ Fi/ +/ 1/ \/ ei/ +/ 1/ 和/ Page6Fi/ +/ 1/ 是/ 相同/ (/ 同构/ )/ 的/ 图/ ①/ ,/ 式/ (/ 4/ )/ 可/ 重写/ 为/ qpr/ =/ Pr/ (/ Ii/ )/ Pr/ (/ Fi/ )/ |/ con/ +/ Pr/ (/ Ii/ +/ 1/ )/ Pr/ (/ Fi/ +/ 1/ )/ |/ con/ =/ Pr/ (/ Ii/ )/ Pr/ (/ ei/ +/ 1/ )/ Pr/ (/ Fi/ / ei/ +/ 1/ )/ |/ con/ +/ Pr/ (/ Fi/ +/ 1/ )/ |/ con/ [/ Pr/ (/ Ii/ )/ Pr/ (/ ei/ +/ 1/ )/ +/ Pr/ (/ Ii/ +/ 1/ )/ ]/ (/ 5/ )/ 式/ (/ 5/ )/ 给出/ 的/ 结果/ 是/ 合并/ 同构/ 的/ 图/ ,/ 并/ 产生/ 两个/ 新/ 事件/ ,/ 而/ 其中/ 一个/ 事件/ 对应/ 于/ 更/ 小/ 的/ 图/ ./ 对于/ 解决/ 树中/ 一系列/ 的/ u/ -/ event/ ,/ 用式/ (/ 5/ )/ 分解/ 它们/ ,/ 这样/ 会/ 产生/ 大量/ 同构/ 的/ 且/ 规模/ 小/ 的/ 图/ ./ 合并/ 同/ 构图/ ,/ 直到/ 没有/ 相邻/ u/ -/ event/ 为止/ ./ 最后/ 得到/ 的/ 新/ 事件/ 个数/ 与/ 被/ 分解/ 的/ u/ -/ event/ 的/ 个数/ 相同/ ,/ 而/ 基本/ 算法/ 会/ 产生/ 指数/ 级/ 的/ 新/ 事件/ ./ 这/ 说明/ 通过/ 缩减/ 同/ 构图/ 后/ ,/ 树/ 节点/ 的/ 数图/ 3/ 对图/ 2/ 中/ 不/ 确定/ 事件/ Event/ (/ 珋/ e1/ )/ 和/ Event/ (/ e1/ 珋/ e4/ )/ 的/ 缩减/ 4.3/ 不/ 相交/ 路径/ // 割集界/ 4.1/ 节/ 给出/ 的/ u/ -/ event/ 界/ 是/ 在/ 解决/ 树中/ 不断/ 对/ s/ -/ event/ 和/ f/ -/ event/ 概率/ 的/ 累加/ ./ 但/ 只是/ “/ 加/ ”/ 的/ 操作/ ,/ 而/ “/ 乘/ ”/ 的/ 操作/ 会/ 快得多/ ,/ 会/ 使/ 界限/ 收敛/ 得/ 更/ 快/ ./ 本/ 小结/ 便/ 给出/ 通过/ “/ 乘/ ”/ 操作/ 获得/ 的/ 上/ 下界/ ./ 设图/ G/ 中/ s/ 到/ d/ 共有/ m/ 条/ s/ —/ d/ 路径/ ,/ 又/ 设/ I1/ ,/ I2/ ,/ …/ ,/ Im/ 为/ 这/ m/ 条/ 路径/ 连通/ 的/ 事件/ ./ 那么/ 易知/ qpr/ =/ Pr/ (/ I1/ ∨/ I2/ ∨/ …/ ∨/ Im/ )/ =/ 1/ -/ Pr/ (/ I1/ ∧/ I2/ ∧/ …/ ∧/ Im/ )/ 由于/ m/ 条/ 路径/ 中有/ 很多/ 路径/ 相互/ 交叠/ ,/ 因此/ 事件/ I1/ ,/ I2/ ,/ …/ ,/ Im/ 互相/ 不/ 独立/ ,/ 那么/ Pr/ (/ I1/ ∧/ I2/ ∧/ …/ ∧/ Im/ )/ ≠/ ∏/ m/ [/ 1/ -/ Pr/ (/ Ii/ )/ ]/ ./ 其实/ 该/ 不等式/ 也/ 就是/ 计算/ qpr/ 是/ 困/ i/ =/ 1/ 难/ 的/ 本质/ ./ 但/ 如果/ 能/ 找到/ 不/ 相交/ 路径/ 的/ 集合/ ,/ 那么/ 这些/ 路径/ 对应/ 的/ 事件/ 便是/ 独立/ 的/ ./ 设有/ l/ 条/ 不/ 相交/ 的/ 路径/ ,/ 那么/ 式/ (/ 6/ )/ 便/ 可/ 写成/ 量会/ 大幅度/ 地/ 减少/ ,/ 从而/ 大大/ 地/ 降低/ 了/ 计算/ 代价/ ./ 图/ 3/ 给出/ 图/ 2/ 解决/ 树中/ 两个/ u/ -/ eventEvent/ (/ e1/ )/ 和/ Event/ (/ e1e4/ )/ 分解/ 和/ 合并/ 的/ 过程/ ./ 其中/ 把/ 两个/ 同/ 构图/ (/ 标注/ 在/ 矩形/ 中/ )/ 缩减成/ 一个/ 图/ ./ 从图/ 中/ 可见/ ,/ 两个/ u/ -/ event/ 产生/ 对应/ 于小图/ 的/ 两个/ 新/ 事件/ ,/ 且/ 这些/ 事件/ 都/ 是/ 成功/ 的/ ,/ 因此/ 可/ 直接/ 计算/ 出/ 结果/ ./ 给出/ 的/ 结果/ 0.2376/ 和/ 图/ 2/ 中/ 基本/ 算法/ 求得/ 的/ 结果/ 0.027/ +/ 0.0162/ +/ 0.072/ +/ 0.1224/ =/ 0.2376/ 是/ 一样/ 的/ ./ 然而/ 基本/ 算法/ 又/ 产生/ 两个/ u/ -/ event/ ,/ 还/ 得/ 继续/ 分解/ 下去/ ./ 这个/ 例子/ 充分/ 地/ 说明/ 了/ 缩减/ 同/ 构图/ 对/ 降低/ 计算/ 代价/ 的/ 重要性/ ./ 上式/ 给出/ 一/ qpr/ 的/ 下界/ LowerB/ ./ 如果/ 此/ 下界/ 不/ 小于/ 阈值/ ε/ ,/ 则/ 即可/ 返回/ 有效/ 结果/ ./ 类似/ 地/ ,/ 可得/ qpr/ 的/ 上界/ UpperB/ :/ qpr/ / 1/ -/ ∏/ k/ 其中/ Ci/ (/ 1/ / i/ / k/ )/ 为/ G/ 的/ k/ 个/ 不/ 相交/ 的/ 割/ ./ 如果/ 此上界/ 小于/ ε/ ,/ 那么/ 即可/ 返回/ 无效/ 结果/ ./ 从式/ (/ 7/ )/ 和/ 式/ (/ 8/ )/ 可见/ ,/ 如果/ l/ 和/ k/ 越大/ ,/ 界限/ 越紧/ ./ 因此/ 我们/ 欲求/ 最大/ 的/ l/ 和/ k/ 值/ ,/ 即求/ 出图/ G/ 中/ s/ 到/ d/ 的/ 最大/ 不/ 相交/ 路径/ 数/ 和/ 割数/ ./ 这里/ 应用/ 网络/ 流/ 理论/ 中/ 的/ 两个/ 定理/ [/ 12/ ]/ ./ s/ —/ d/ 割/ 的/ 基数/ ./ 路径/ 的/ 长度/ ./ 引理/ 2/ ./ 最大/ 不/ 相交/ s/ —/ d/ 路径/ 数/ 等于/ 最小/ 引理/ 3/ ./ 最大/ 不/ 相交/ s/ —/ d/ 割数/ 等于/ 最短/ s/ —/ d/ 这里/ 使用/ 文献/ [/ 12/ ]/ 中/ 的/ 算法/ 求解/ 最大/ 的/ l/ 和/ k/ (/ 设为/ lmax/ 和/ kmax/ )/ ,/ 该/ 算法/ 可/ 在/ 多项/ 时间/ 内/ 完成/ ,/ 因此/ 可/ 快速/ 地求/ 出紧/ 的/ 解/ ./ 例如/ 在/ 图/ 1/ 中/ ,/ 最大/ 的/ 不/ 相交/ 路径/ 集和割/ 集/ 分别/ 为/ {/ {/ e1/ ,/ e4/ }/ ,/ {/ e2/ ,/ e5/ }/ }/ 和/ {/ {/ e1/ ,/ e2/ }/ ,/ ①/ 这里/ 不/ 需要/ 做/ 同构/ 测试/ ,/ 通过/ 分析/ 显然/ 会/ 产生/ 同构/ 的/ 图/ ./ Page7/ {/ e4/ ,/ e5/ }/ }/ ./ 因此/ 下界/ 是/ LowerB/ =/ 1/ -/ (/ 1/ -/ P1P4/ )/ (/ 1/ -/ P2P5/ )/ =/ 1/ -/ (/ 1/ -/ 0.85/ ×/ 0.8/ )/ (/ 1/ -/ 0.8/ ×/ 0.9/ )/ =/ 0.9104/ ,/ 上界/ 是/ UpperB/ =/ 1/ -/ (/ 1/ -/ P2P5/ )/ (/ 1/ -/ P1P4/ )/ =/ 0.9506/ ./ 即/ (/ LowerB/ =/ 0.9104/ )/ / (/ qpr/ =/ 0.9176/ )/ / (/ UpperB/ =/ 0.9506/ )/ ./ 用/ lmax/ 和/ kmax/ 得到/ 相当/ 客观/ 的/ 界限/ ,/ 但/ 每个/ 路径/ 和/ 割/ 都/ 有/ 一个/ 权值/ ,/ 即/ 其/ 存在/ 概率/ ,/ 因此/ 权值/ 也/ 会/ 影响/ 界限/ 的/ 大小/ ./ 欲/ 产生/ 更好/ 的/ 界限/ ,/ 在/ 保持/ 求得/ lmax/ 和/ kmax/ 的/ 同时/ ,/ 尽可能/ 地/ 选择权/ 值大/ 的/ 集合/ ./ 首先/ 给出/ 选取/ 权值/ 最大/ 的/ lmax/ 路径/ 集/ :/ 给/ 每边/ e/ ∈/ G/ 一/ 代价/ -/ log2pe/ ,/ 其中/ pe/ 为/ e/ 的/ 存在/ 概率/ ,/ 因此/ 一条/ 代价/ 为/ v/ 的/ 路径/ 的/ 存在/ 概率/ 为/ 2/ -/ v/ ./ 易得/ ,/ 如果/ 代价/ 越小/ ,/ 此/ 路径/ 的/ 存在/ 概率/ 越大/ ./ 从而/ 选择/ 最大/ 权值/ 的/ 路径/ 集/ 问题/ 可/ 转化成/ 求解/ 具有/ 最大/ 代价/ 的/ lmax/ 路径/ 集/ ./ 本文/ 通过/ 简单/ 地/ 修改/ 网络/ 流/ 算法/ [/ 12/ ]/ 来/ 求解/ 此/ 问题/ ,/ 即/ 原来/ 的/ 算法/ 每步/ 都/ 是/ 寻找/ 一/ “/ 增广/ 路径/ ”/ ,/ 这里/ 变成/ 寻找/ “/ 代价/ 最小/ 的/ 增广/ 路径/ ”/ ,/ 而/ 代价/ 最小/ 的/ 路径/ 可/ 通过/ 最短/ 路径/ 算法/ 求得/ [/ 12/ ]/ ./ 类似/ 地/ 也/ 可/ 求得/ 存在/ 概率/ 最大/ 的/ kmax/ 割集/ ./ 欲/ 在/ 基本/ 算法/ 中/ 应用/ “/ 不/ 相交/ 路径/ // 割集界/ ”/ ,/ 这里/ 对/ 基本/ 算法/ 做/ 如下/ 改动/ :/ 因为/ 解决/ 树中/ 每个/ u/ -/ event/ 的/ 结点/ 都/ 对应/ 于/ G/ 的/ 一个/ 子图/ ,/ 便/ 可/ 对/ 该子/ 图/ 应用/ “/ 不/ 相交/ 路径/ // 割集界/ ”/ ,/ 然后/ 和/ ε/ 比较/ ,/ 如果/ 满足/ 判断/ 条件/ ,/ 便/ 可/ 停止/ 基本/ 算法/ 返回/ 查询/ 结果/ ./ 5/ 合并/ 算法/ 上/ 节/ 给出/ 的/ 3/ 种/ 改进/ 算法/ 是/ 互相/ 独立/ 的/ ,/ 即/ 分别/ 是/ 对/ 基本/ 算法/ 的/ 优化/ ./ 如果/ 将/ 3/ 种/ 方法/ 同时/ 作用/ 于/ 基本/ 算法/ ,/ 那么/ 将/ 对/ 计算/ 的/ 加速/ 有/ “/ 质/ ”/ 的/ 提高/ ./ 本节/ 给出/ 基本/ 算法/ 和/ 3/ 种/ 改进/ 方法/ 的/ 合并/ 算法/ ./ 算法/ 2/ 给出/ 合并/ 算法/ 的/ 详细/ 步骤/ ./ 此/ 算法/ 主要/ 分为/ 3/ 个/ 步骤/ ./ 第/ 1/ 步/ (/ 6/ ~/ 10/ 行/ )/ :/ 在/ 基本/ 算法/ 每/ 产生/ 一个/ u/ -/ event/ 后/ ,/ 便/ 对此/ u/ -/ event/ 应用/ “/ 不/ 相交/ 路径/ // 割集界/ ”/ ,/ 如果/ 满足条件/ ,/ 就/ 返回/ 结果/ ./ 第/ 2/ 步/ (/ 11/ ~/ 12/ 行/ )/ :/ 如果/ 第/ 1/ 步/ 不能/ 停止/ 计算/ ,/ 就/ 开始/ 分解/ 连续/ 的/ u/ -/ event/ ,/ 并/ 合并/ 同/ 构图/ ./ 第/ 3/ 步/ (/ 13/ ~/ 31/ 行/ )/ :/ 对/ 第/ 2/ 步/ 输出/ 的/ u/ -/ event/ 继续/ 用式/ (/ 3/ )/ 分解/ ,/ 但/ 此时/ 开始/ 不断/ 地/ 积累/ “/ 不/ 确定/ 事件/ 界/ ”/ 尽早/ 地/ 结束/ 迭代/ ./ 算法/ 2/ ./ 合并/ 算法/ ./ 输入/ :/ 概率/ 图/ G/ ,/ s/ 和/ d/ ,/ 阈值/ ε/ 输出/ :/ 有效/ 或/ 无效/ 的/ 查询/ 结果/ 算法/ 描述/ :/ 1/ ./ S/ =/ {/ Ω/ ,/ Φ/ ,/ 0/ ,/ 0/ }/ ;/ // // 为/ 整个/ G/ 的/ 事件/ 空间/ Ω/ 初始化/ 2/ ./ LBU/ =/ 0/ ,/ UBU/ =/ 1/ ;/ // // 初始化/ u/ -/ event/ 的/ 下界/ 和/ 上界/ 3/ ./ qpr/ =/ 0/ ;/ // // 初始化/ 可/ 达/ 概率/ 4/ ./ while/ (/ S/ ≠/ / )/ {/ 5/ ./ 根据/ 集合/ S/ 中/ 的/ 索引/ i/ ,/ 获得/ 一/ 事件/ Ii/ ;/ 6/ ./ 获取/ 不/ 相交/ 路径/ 集/ 下界/ LBPath/ 和/ 割集/ 上界/ UBCut/ ;/ 7/ ./ if/ (/ LBPath/ +/ qpr/ / ε/ )/ 8/ ./ return/ “/ 两/ 顶点/ 能够/ 以/ 概率/ ε/ 连通/ ”/ ;/ 9/ ./ if/ (/ UBCut/ +/ qpr/ </ ε/ )/ 10/ ./ return/ “/ 两/ 顶点/ 不能/ 以/ 概率/ ε/ 连通/ ”/ ;/ 11/ ./ if/ (/ 从/ Ii/ 开始/ 有/ 连续/ 的/ u/ -/ event/ )/ 12/ ./ 用式/ (/ 5/ )/ 分解/ 这些/ 事件/ 并/ 合并/ 同/ 构图/ ,/ 直到/ 没有/ 13/ ./ if/ (/ i/ </ ni/ )/ 14/ ./ i/ =/ i/ +/ 1/ ;/ 15/ ./ else/ 集合/ S/ 被/ 舍弃/ ;/ 16/ ./ 在/ 事件/ Ii/ 下/ 找到/ 一/ s/ —/ d/ 路径/ Iimin/ (/ s/ —/ d/ )/ ;/ 17/ ./ if/ (/ Event/ (/ Iimin/ (/ s/ —/ d/ )/ )/ =/ =/ / )/ {/ 18/ ./ UBU/ =/ UBU/ -/ Pr/ (/ Ii/ )/ ;/ 19/ ./ 删除/ Ii/ ;/ // // 此时/ 事件/ Ii/ 是/ 失败/ 的/ ./ }/ 20/ ./ elseif/ (/ Ii/ 是/ 成功/ 的/ )/ {/ 21/ ./ qpr/ =/ qpr/ +/ Pr/ (/ Ii/ )/ ;/ 22/ ./ LBU/ =/ LBU/ +/ Pr/ (/ Ii/ )/ ;/ }/ 23/ ./ else/ {/ 24/ ./ qpr/ =/ qpr/ +/ Pr/ (/ Ii/ ∧/ Event/ (/ Iimin/ (/ s/ —/ d/ )/ )/ )/ ;/ 25/ ./ LBU/ =/ LBU/ +/ Pr/ (/ Ii/ ∧/ Event/ (/ Iimin/ (/ s/ —/ d/ )/ )/ )/ ;/ }/ 26/ ./ 将/ 一个/ 新/ 的/ 集合/ {/ Ii/ ,/ Iimin/ (/ s/ —/ d/ )/ ,/ ni/ ,/ i/ =/ 1/ }/ 放入/ S/ ;/ 27/ ./ if/ (/ LBU/ / ε/ )/ 28/ ./ return/ “/ 两/ 顶点/ 能够/ 以/ 概率/ ε/ 连通/ ”/ ;/ 29/ ./ if/ (/ UBU/ </ ε/ )/ 30/ ./ return/ “/ 两/ 顶点/ 不能/ 以/ 概率/ ε/ 连通/ ”/ ;/ 31/ ./ }/ // // while/ 结束/ ./ 通过/ 第/ 4/ 节/ 的/ 分析/ ,/ “/ 不/ 相交/ 路径/ // 割集界/ ”/ 具有/ 最强/ 的/ 过滤/ 能力/ (/ 实验/ 也/ 给出/ 验证/ )/ ,/ 因此/ 把/ 此/ 过滤/ 步骤/ 放在/ 第/ 1/ 步/ 尽可能/ 地/ 缩减/ 计算/ 空间/ ./ “/ 不/ 确定/ 事件/ 界/ ”/ 是/ 依赖于/ 解决/ 树/ 结点/ 数目/ 的/ ,/ 因此/ 如果/ 对/ 第/ 1/ 步后/ 剩余/ 的/ 计算/ 空间/ (/ 其实/ 该/ 剩余/ 空间/ 已/ 很小/ )/ 直接/ 用/ “/ 不/ 确定/ 事件/ 界/ ”/ ,/ 很/ 有/ 可能/ 由于/ 有/ 很多/ 的/ 树/ 节点/ 使/ 过滤/ 效果/ 不好/ ./ 但/ 算法/ 2/ 中先用/ “/ 同/ 构图/ 缩减/ ”/ ,/ 这会/ 使/ 树/ 的/ 宽度/ 不再/ 增加/ ,/ 导致/ 计算/ 空间/ 已/ 是/ 节点/ 数目/ 线性/ 的/ 阶/ ./ 之后/ 在/ 对/ 宽度/ 很小/ 的/ 树/ 应用/ “/ 不/ 确定/ 事件/ 界/ ”/ ,/ 这样/ 会/ 最大/ 限度/ 地/ 发挥/ “/ 不/ 确定/ 事件/ 界/ ”/ 的/ 过滤/ 能力/ ./ 实验/ 说明/ 这样/ 组合/ 的/ “/ 合并/ 算法/ ”/ 有/ 相当/ 强/ 的/ 过滤/ 能力/ ./ 6/ 性能/ 分析/ 本节/ 用/ 真实/ 和/ 合成/ 的/ 概率/ 图/ 数据/ 验证/ 本文/ 的/ 算法/ ,/ 算法/ 代码/ 用/ Visual/ C++/ 6.0/ 编写/ ,/ 运行/ 环境/ 是/ Page8/ 奔腾/ 43.0/ GHzCPU/ ,/ 2GHz/ 内存/ 和/ 160GB/ 硬盘/ ./ 对/ 本文/ 给出/ 的/ 算法/ ,/ BC/ 表示/ “/ 基本/ 算法/ ”/ ,/ IGR/ 表示/ “/ 同/ 构图/ 缩减/ ”/ 算法/ ,/ UB/ 表示/ “/ 不/ 确定/ 事件/ 界/ ”/ 算法/ ,/ PCB/ 表示/ “/ 不/ 相交/ 路径/ // 割集界/ ”/ 算法/ ,/ ALL/ 表示/ “/ 合并/ 算法/ ”/ ./ 真实/ 概率/ 图/ 数据/ 采用/ Entrezgene6091/ -/ OMIM127700/ 数据库/ ①/ ./ 它/ 是/ 描述/ 人类基因/ 网络/ 的/ 数据库/ ,/ 其中/ 网络/ 节点/ 代表/ “/ 显性/ 基因/ ”/ ,/ 边/ 被/ 赋予/ 小数/ 权值/ 以/ 表示/ 基因/ 相互作用/ 的/ 大小/ ./ 使用/ 该/ 数据库/ 的/ 5/ 个/ 基因/ 网络/ 作为/ 概率/ 图/ 数据/ ,/ 表/ 1/ 给出/ 它们/ 的/ 参数/ ./ 图/ 数据/ 编号/ 节点/ 数量/ 边集/ 大小/ 边/ 的/ 平均/ 概率/ Dys1Dys2177541630/ ./ 396Dys3325987900/ ./ 212Dys46786140560/ ./ 237Dys511368327540/ ./ 311/ 图/ 4/ 真实/ 数据/ 下/ 算法/ 的/ 运行/ 时间/ 其次/ 给出/ 对/ 合成/ 概率/ 数据/ 的/ 实验/ 结果/ ./ 因为/ 此图/ 边/ 的/ 存在/ 概率/ 是/ 合成/ 的/ ,/ 故/ 可以/ 测试/ 不同/ 概率分布/ 下/ 的/ 运行/ 效率/ ./ 这里/ 通过/ 改变/ N/ (/ μ/ ,/ σ/ )/ 分布/ 中/ 的/ μ/ 和/ σ/ 来/ 实现/ ./ 具体/ 地/ ,/ μ/ 取/ 0.5/ ~/ 0.9/ ,/ 默认值/ 是/ 0.7/ ;/ σ/ 取/ 0.1/ ~/ 0.5/ ,/ 默认值/ 是/ 0.4/ ./ 图/ 5/ 给出/ 测试/ 结果/ ./ 如图/ 5/ (/ a/ )/ 所示/ ,/ 随着/ μ/ 的/ 增加/ ,/ 所有/ 算法/ 的/ 运行/ 时间/ 图/ 5/ 合成/ 数据/ 下/ 算法/ 的/ 运行/ 时间/ 最后/ 用/ 真实/ 数据测试/ 算法/ 的/ 可扩展性/ ./ 图/ 6/ 给出/ 测试/ 结果/ ,/ 其中/ 横坐标/ 是/ Dys1/ ~/ Dys5/ ,/ 纵坐标/ 是/ 运行/ 时间/ ./ 如图所示/ ,/ 所有/ 曲线/ 都/ 随图/ 规模/ 的/ 增加/ 而/ 同时/ 从/ Citeseer/ ②/ 中/ 抽取/ 图/ 数据/ (/ |/ V/ |/ =/ 12140/ ,/ |/ E/ |/ =/ 36874/ )/ ,/ 并/ 按/ 正态分布/ N/ (/ μ/ ,/ δ/ )/ 为/ 每边/ 产生/ 概率/ ./ 每次/ 实验/ 时/ ,/ 随机/ 地/ 产生/ 100/ 个/ 查询/ ,/ 记录/ 下/ 查询/ 的/ 平均/ 代价/ ./ 首先/ 给出/ 对/ 真实/ 概率/ 图/ 数据/ 的/ 实验/ 结果/ ./ 这里/ 选取/ 小图/ (/ Dys1/ )/ 和/ 大图/ (/ Dys2/ )/ 两个/ 具有/ 代表性/ 的/ 数据/ ,/ 给出/ 在/ 不同/ 阈值/ 下/ 的/ 结果/ ./ 图/ 4/ 给出/ 阈值/ 是/ 0.3/ ~/ 0.7/ 的/ 运行/ 时间/ ./ 从图/ 中/ 可见/ ,/ 所有/ 的/ 曲线/ 都/ 呈上升/ 趋势/ ,/ 这/ 是因为/ 越高/ 的/ 阈值/ 需要/ 需要/ 枚举/ 越多/ 的/ s/ —/ d/ 路径/ ./ 很/ 明显/ ,/ 3/ 种/ 改进/ 算法/ 都/ 比/ BC/ 快得多/ ,/ 并且/ PCB/ 是/ 最/ 高效/ 的/ 改进/ 算法/ ./ 这/ 一点/ 验证/ 了/ 对/ 3/ 种/ 算法/ 的/ 设计/ 与/ 分析/ ./ 而/ ALL/ 算法/ 的/ 运行/ 效率/ 比/ 其它/ 任何/ 方法/ 都/ 要/ 高出/ 一块/ ./ 例如/ ,/ 对/ Dys1/ 的/ 平均/ 运行/ 时间/ ALL/ 只/ 需/ 1s/ 多/ ,/ 即使/ 对/ 边数/ 超过/ 3/ 万/ 的/ Dys5/ 平均/ 也/ 不/ 超过/ 15s/ ./ 都/ 在/ 增加/ ./ 尽管/ μ/ 的/ 增加/ 导致/ 可/ 达/ 概率/ 指数/ 级/ 的/ 增长/ ,/ 但/ 除了/ BC/ ,/ 其它/ 算法/ 都/ 有/ 较/ 好/ 的/ 可扩展性/ ./ 类似/ 的/ 结果/ 也/ 在/ 图/ 5/ (/ b/ )/ 中/ 给出/ ,/ 其中/ 3/ 种/ 改进/ 方法/ 和/ 合并/ 算法/ 的/ 曲线/ 都/ 缓慢/ 地/ 下降/ ./ 这/ 说明/ 改进/ 算法/ 的/ 有效性/ ./ ALL/ 在/ 图/ 5/ 中/ 的/ 两个/ 实验/ 都/ 表现/ 出极/ 高/ 的/ 运行/ 效率/ ./ 增长/ ./ 其中/ BC/ 增长/ 的/ 最快/ ,/ 到/ Dys4/ 时/ 就/ 已经/ 超过/ ①/ ②/ Page9300s/ ,/ 其/ 曲线/ 增长/ 的/ 趋势/ 呈/ 近似/ 指数/ 级/ 的/ 增长/ ./ 而/ 其它/ 算法/ 都/ 可/ 避免/ 此种/ 爆炸性/ 的/ 增长/ ,/ 具有/ 较/ 好/ 的/ 可扩展性/ ./ 尤其/ ALL/ 有/ 非常/ 快/ 的/ 速度/ ,/ 即使/ 对边/ 数量/ 超过/ 3/ 万/ 的/ 图/ Dys5/ 求解/ NP/ 难/ 查询/ 也/ 可/ 在/ 20s/ 内/ 完成/ ./ 7/ 结语/ 已有/ 很多/ 面向/ 确定/ 图/ 的/ 可达/ 查询/ 工作/ ./ 文献/ [/ 15/ ]/ 用图/ 的/ 传递/ 闭包来/ 压缩/ 原始/ 图/ ,/ 并/ 在/ 求解/ 过程/ 中/ 把/ 问题/ 转化/ 为/ 网络/ 流/ 问题/ ./ 文献/ [/ 16/ ]/ 把/ 图/ 分成/ 若干/ 有/ 向/ 链/ ,/ 并/ 每个/ 顶点/ 都/ 记录/ 了/ 与其/ 相邻/ 的/ 链/ ,/ 从而/ 可/ 常数/ 时间/ 求解/ 查询/ ./ 文献/ [/ 17/ ]/ 首先/ 提出/ 树/ 覆盖/ 的/ 方法/ ,/ 并/ 以树为/ 单元/ 对图/ 进行/ 压缩/ ,/ 并/ 证明/ 此种/ 压缩/ 是/ 保证/ 可以/ 求解/ 查询/ 的/ 最优/ 压缩/ ./ 文献/ [/ 18/ ]/ 和/ 文献/ [/ 19/ ]/ 都/ 是/ 在/ 索引/ 构建/ 时间/ 上/ 改进/ 了/ 树/ 覆盖/ 方法/ ./ 文献/ [/ 10/ ]/ 拓展/ 了/ 有/ 向/ 链/ 的/ 方法/ ,/ 把/ 问题/ 转换成/ 平面图/ 的/ 问题/ ,/ 并/ 只/ 需/ 2/ 跳/ 即可/ 完成/ 查询/ ./ 面向/ 概率/ 数据库/ 的/ 研究/ 是/ 现在/ 的/ 热点/ ./ 早期/ 工作/ 的/ 重点/ 是/ 在/ 概率/ 关系数据库/ 上/ 如/ 文献/ [/ 8/ -/ 9/ ,/ 20/ ]/ ,/ 即/ 处理/ 概率/ SQL/ 查询/ ./ 之后/ 研究者/ 提出/ 了/ 一些/ 查询/ 类型/ 及其/ 处理/ 方法/ ,/ 主要/ 包括/ Top/ -/ k/ 查询/ [/ 21/ ]/ 和/ Skyline/ 查询/ 等/ [/ 22/ ]/ ./ 近年来/ 开始/ 关注/ 结构化/ 数据/ 如/ 概率/ XML/ 数据/ [/ 1/ -/ 2/ ,/ 13/ -/ 14/ ]/ ./ 就/ 图/ 数据库/ 而言/ ,/ 邹等/ 人/ [/ 23/ ]/ 研究/ 了/ 不/ 确定/ 图/ 的/ 频繁/ 子图/ 挖掘/ ,/ 而/ 张/ 等/ 人/ [/ 24/ ]/ 研究/ 了/ 带/ 索引/ 的/ 不/ 确定/ 图/ Top/ -/ k/ 查询/ ./ 本文/ 是/ 第一个/ 面向/ 概率/ 图/ 研究/ 可/ 达/ 查询/ 的/ 工作/ ./ 采用/ 细粒度/ 的/ 可能/ 世界/ 模型/ 定义/ 概率/ 图/ ,/ 从而/ 使/ 可达/ 查询/ 具有/ 丰富/ 的/ 概率/ 语义/ ./ 在/ 给出/ 问题/ 是/ #/ P/ 难后/ ,/ 本文/ 首先/ 设计/ 了/ 一个/ 基本/ 算法/ 可/ 精确/ 地/ 给出/ 查询/ 结果/ ./ 在/ 用/ 解决/ 树/ 重新/ 描述/ 基本/ 算法/ 后/ ,/ 用/ 不/ 确定/ 事件/ 界/ 对/ 解决/ 树/ 进行/ 了/ 剪枝/ ./ 用同/ 构图/ 的/ 缩减/ 可以/ 使/ 基本/ 算法/ 只/ 对/ 图/ 中/ 相同/ 的/ 元素/ 进行/ 一次/ 计算/ ,/ 从而/ 降低/ 计算/ 空间/ ./ 用/ 不/ 相交/ 路径/ // 割集界/ 可/ 使/ 计算/ 快速/ 地/ 收敛/ ./ 最后/ 所有/ 算法/ 的/ 合并/ 在/ 实验/ 中/ 显示/ 出/ 相当/ 高/ 的/ 运行/ 效率/ ,/ 说明/ 本文/ 开发/ 的/ 算法/ 具有/ 实际/ 应用/ 的/ 价值/ ./ 

