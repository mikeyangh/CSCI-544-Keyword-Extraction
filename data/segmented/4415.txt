Page1/ 一种/ 基于/ 逻辑/ Petri/ 网/ 的/ Web/ 服务/ 簇/ 组合/ 方法/ 吴洪越/ 杜玉越/ (/ 山东/ 科技/ 大学/ 信息科学/ 与/ 工程学院/ 山东/ 青岛/ 266590/ )/ 摘要/ Web/ 服务/ 组合/ 是/ 实现/ 快速/ 服务/ 增值/ 和/ 软件/ 重用/ 的/ 重要/ 方式/ ,/ 但/ 现有/ 的/ 静态/ 服务/ 组合/ 和/ 动态/ 服务/ 组合/ 方式/ 都/ 有待于/ 进一步/ 完善/ ./ 文中/ 集成/ 静态/ 服务/ 组合/ 和/ 动态/ 服务/ 组合/ 的/ 优点/ ,/ 提出/ 了/ 一种/ 在/ 虚拟/ 层面/ 上/ 基于/ 服务/ 簇/ 进行/ 服务/ 组合/ 的/ 思想/ ;/ 研究/ 并/ 提出/ 了/ 一种/ 基于/ 服务/ 簇/ 的/ 服务/ 组合/ 方法/ ,/ 并/ 应用逻辑/ Petri/ 网对/ 其/ 进行/ 形式化/ 建模/ 描述/ ;/ 给出/ 了/ 服务/ 簇网/ 的/ 基本/ 组合/ 模型/ ,/ 并/ 分别/ 对/ 其/ 完备/ 性/ 继承/ 作/ 了/ 分析/ ;/ 研究/ 了/ 服务/ 簇网/ 组合/ 的/ 代数/ 运算/ 性质/ ./ 最后/ ,/ 通过/ 实验/ 证明/ 了/ 服务/ 簇网/ 组合/ 运算/ 的/ 可行性/ 和/ 有效性/ ./ 关键词/ Web/ 服务/ ;/ 服务/ 簇/ ;/ 服务/ 组合/ ;/ 逻辑/ Petri/ 网/ ;/ 服务/ 簇网/ 1/ 引言/ Web/ 服务/ 技术/ 具有/ 高度/ 的/ 互操作性/ 、/ 跨平台/ 性/ 和/ 松散/ 耦合/ 等/ 优点/ ./ 近年来/ ,/ 云/ 计算/ 、/ 物/ 联网/ 等/ 新型/ 计算/ 模式/ 的/ 涌现/ 和/ 发展/ ,/ 极大/ 地/ 推动/ 了/ Web/ 服务/ 技术/ 的/ 发展/ ./ Web/ 服务/ 技术/ 引起/ 了/ 世界/ 范围/ 内/ 学术界/ 和/ 产业界/ 的/ 广泛/ 关注/ ./ 随着/ 大/ 数据/ 时代/ 的/ 到来/ ,/ Web/ 然而/ ,/ 单个/ Web/ 服务/ 提供/ 的/ 功能/ 较为/ 单一/ ,/ 难以/ 满足/ 复杂/ 多样/ 的/ 用户/ 请求/ ,/ 只有/ 通过/ 对/ 已有/ 服务/ 进行/ 组合/ ,/ 才能/ 发挥/ 其/ 巨大/ 潜力/ ./ Web/ 服务/ 组合/ 技术/ 将/ 多个/ Web/ 服务/ 进行/ 组合/ ,/ 构造/ 粒度/ 更大/ 的/ 流程/ 服务/ ,/ 以此/ 提供/ 更/ 多功能/ 复杂/ 的/ 服务/ 来/ 满足/ 不同/ 用户/ 的/ 复杂/ 需求/ ,/ 与此同时/ 也/ 极大地提高/ 软件/ 的/ 生产/ 效率/ ./ Page2/ 近年来/ ,/ 随着/ 大/ 数据/ 时代/ 的/ 到来/ ,/ 服务/ 数量/ 迅速/ 增加/ ,/ 为/ 服务/ 请求者/ 提供/ 了/ 更/ 多/ 的/ 选择/ ,/ 同时/ 也/ 给/ 服务/ 的/ 查找/ 和/ 组合/ 带来/ 了/ 更/ 大/ 的/ 压力/ ,/ 服务/ 组合/ 过程/ 变得/ 缓慢/ 而/ 复杂/ ./ 组合/ 服务/ 的/ 动态/ 自适应性/ 较差/ ,/ 当/ 服务/ 失效/ 或/ 用户/ 请求/ 改变/ 时/ ,/ 很难/ 找到/ 替代/ 服务/ ./ 为此/ ,/ 一些/ 学者/ 提出/ 了/ 服务/ 聚类/ [/ 1/ -/ 3/ ]/ 的/ 思想/ ,/ 将/ 功能/ 相同/ 或/ 相似/ 的/ 服务/ 映射/ 为/ 一个/ 服务/ 簇/ ,/ 利用/ 服务/ 簇/ 作为/ 服务/ 请求/ 和/ 响应/ 的/ 基本/ 单位/ ./ 服务/ 粒度/ 的/ 增大/ ,/ 可以/ 有效/ 地/ 缩减/ 服务/ 查找/ 空间/ ,/ 提高/ 搜索/ 效率/ ,/ 减小/ 服务/ 查找/ 和/ 绑定/ 难度/ ./ 服务/ 失效/ 时/ 可以/ 在/ 簇内/ 查找/ 相似/ 服务/ 进行/ 替换/ ,/ 因此/ ,/ 大大提高/ 了/ 服务/ 的/ 自适应性/ ./ 本文/ 以/ 服务/ 簇为/ 基本/ 单位/ ,/ 在/ 抽象/ 层面/ 上/ 基于/ 服务/ 簇/ 进行/ 服务/ 组合/ ,/ 不仅/ 可以/ 大大提高/ 服务/ 的/ 发现/ 和/ 组合/ 效率/ ,/ 而且/ 可以/ 充分利用/ BPEL/ 流程/ ,/ 压缩/ 服务/ 搜索/ 空间/ ,/ 极大地提高/ 服务/ 的/ 自适应性/ ./ 由于/ 服务/ 簇/ 模式/ 下/ 存在/ 服务/ 参数/ 不/ 确定/ 、/ 用户/ 需求/ 多样/ 等/ 不确定性/ 因素/ ,/ 因此/ ,/ 传统/ 的/ Petri/ 网/ 的/ 建模/ 方法/ 已经/ 不再/ 适用/ 于/ 以/ 服务/ 簇为/ 基本/ 单位/ 的/ 服务/ 组合/ ./ 本文/ 采用/ 逻辑/ Petri/ 网/ (/ LogicPetriNet/ ,/ LPN/ )/ [/ 4/ -/ 8/ ]/ 对/ 服务/ 簇/ 模式/ 的/ 服务/ 组合/ 进行/ 建模/ 描述/ ,/ 并/ 给出/ 了/ 其/ 完备/ 性/ 分析/ ./ 逻辑/ Petri/ 网是/ 抑制/ 弧/ Petri/ 网/ 的/ 一种/ 高级/ 抽象/ ,/ 已/ 成功/ 应用/ 于/ 电子商务/ [/ 5/ -/ 6/ ]/ 、/ 实时/ 协同/ 系统/ [/ 7/ -/ 8/ ]/ 等/ 领域/ ./ 逻辑/ Petri/ 网/ 适用/ 于/ 描述/ 传值/ 不确定性/ ,/ 因此/ 易于/ 描述/ 与/ 分析/ 基于/ 服务/ 簇/ 的/ 服务/ 组合/ 模型/ ./ 本文/ 第/ 2/ 节/ 给出/ 基于/ 服务/ 簇网/ 组合/ 的/ 动机/ 和/ 服务/ 簇网/ 的/ 层次结构/ ;/ 第/ 3/ 节/ 介绍/ 逻辑/ Petri/ 网/ 的/ 基本知识/ ;/ 第/ 4/ 节对/ Web/ 服务/ 和/ 服务/ 簇/ 进行/ 形式化/ 建模/ 描述/ ;/ 第/ 5/ 节/ 给出/ 服务/ 簇网/ 的/ 组合/ 模型/ ,/ 并/ 对/ 其/ 完备/ 性/ 继承/ 和/ 代数/ 运算/ 性质/ 作/ 分析/ ;/ 第/ 6/ 节/ 通过/ 实验/ 分析/ 证明/ 基于/ 服务/ 簇网/ 的/ 服务/ 组合/ 方法/ 的/ 可行性/ 和/ 有效性/ ;/ 第/ 7/ 节对/ 全文/ 进行/ 总结/ ,/ 并/ 简要/ 介绍/ 下/ 一步/ 工作/ ./ 图/ 1/ 服务/ 簇网/ 层次结构/ 模型/ 2/ 服务/ 簇/ 模式/ 传统/ 的/ Web/ 服务/ 组合/ 方法/ 分为/ 动态/ 服务/ 组合/ 和/ 静态/ 服务/ 组合/ ./ 动态/ 服务/ 组合/ 是/ 一种/ 在线/ 的/ 、/ 动态/ 的/ 和/ 实时/ 的/ 组合/ 方式/ ./ 当/ 用户/ 提出/ 服务/ 请求/ 时/ ,/ 系统/ 根据/ 用户/ 请求/ 动态/ 地/ 选择/ Web/ 服务/ 并/ 进行/ 组合/ ,/ 提供/ 个性化/ 服务/ 来/ 满足/ 不同/ 用户/ 的/ 需求/ ./ 静态/ 服务/ 组合/ 是/ 一种/ 离线/ 的/ 或/ 预/ 编译/ 的/ 稳定/ 的/ 组合/ 方式/ ,/ 它/ 将/ 简单/ 的/ 具有/ 不同/ 功能/ 的/ Web/ 服务/ 组合成/ 一种/ 具有/ 特殊/ 功能/ 的/ 服务/ 进行/ 封装/ ,/ 并/ 作为/ 一种/ 新/ 的/ 服务/ 在/ 服务/ 库中/ 发布/ ,/ 供/ 用户/ 调用/ ,/ 以此/ 达到/ 服务/ 增值/ 的/ 目的/ ./ 然而/ ,/ 无论是/ 动态/ 服务/ 组合/ 还是/ 静态/ 服务/ 组合/ 都/ 存在/ 缺陷/ ./ 动态/ 服务/ 组合/ 需要/ 根据/ 用户/ 的/ 具体/ 需求/ 在/ 茫茫/ 服务/ 库中/ 寻找/ 单个/ 服务/ 组件/ ,/ 效率/ 极其/ 低下/ ,/ 而且/ 不能/ 重复/ 利用/ 服务/ 组合/ 的/ BPEL/ 流程/ ./ 静态/ 服务/ 组合/ 虽然/ 效率高/ ,/ 且/ 能/ 重复/ 利用/ 服务/ 组合/ 流程/ ,/ 但是/ 组合/ 服务/ 中/ 的/ 单个/ 服务/ 组件/ 并不一定/ 适合/ 某个/ 具体/ 的/ 用户/ 需求/ ./ 因此/ ,/ 封装/ 好/ 的/ 组合/ 服务/ 并/ 不能/ 满足/ 不同/ 用户/ 的/ 个性化/ 需求/ ,/ 并且/ 自适应性/ 较/ 低/ ./ 如果/ 将/ 所有/ 可能/ 的/ 服务/ 组合/ 都/ 进行/ 封装/ ,/ 又/ 会/ 造成/ 极大/ 的/ 浪费/ ,/ 并/ 导致/ 服务/ 空间/ 爆炸/ 问题/ ./ 因此/ ,/ 本文/ 集成/ 动态/ 服务/ 组合/ 和/ 静态/ 服务/ 组合/ 的/ 优点/ ,/ 给出/ 一种/ 基于/ 服务/ 簇/ 模式/ 的/ 服务/ 组合/ 方法/ :/ (/ 1/ )/ 在/ Web/ 服务/ 的/ 物理/ 资源/ 层/ 之上/ 建立/ 虚拟/ 资源/ 层/ ,/ 将/ 功能/ 相同/ 或/ 相似/ 的/ 服务/ 聚集/ 为/ 一个/ 服务/ 簇/ ;/ (/ 2/ )/ 在/ 虚拟/ 资源/ 层/ 之上/ 建立/ 业务/ 模型/ 层/ ,/ 对内/ 在/ 关系/ 比较稳定/ 的/ 抽象/ 服务/ 簇/ 进行/ 静态/ 组合/ ,/ 得到/ 服务/ 簇网/ ;/ (/ 3/ )/ 将/ 功能/ 独立/ 的/ 服务/ 簇/ 映射/ 到/ 业务/ 模型/ 层/ ,/ 作为/ 原子/ 服务/ 簇网/ ;/ (/ 4/ )/ 对/ 服务/ 簇网/ 进行/ 存储/ ,/ 将/ 服务/ 簇网/ 作为/ 用户/ 请求/ 和/ 响应/ 的/ 基本/ 单位/ ./ 服务/ 簇/ 模式/ 的/ 层次结构/ 模型/ 如图/ 1/ 所示/ ./ Page3/ 当/ 用户/ 发出/ 服务/ 请求/ 时/ ,/ 首先/ 在/ 业务/ 模型/ 层/ 对/ 服务/ 请求/ 作出/ 响应/ ,/ 查找/ 满足用户/ 请求/ 的/ 服务/ 簇网/ ./ 如果/ 业务/ 模型/ 层/ 的/ 服务/ 簇网/ 不能/ 满足用户/ 需求/ ,/ 则/ 基于/ 服务/ 簇网/ 进行/ 动态/ 组合/ ,/ 得到/ 满足用户/ 需求/ 的/ 服务/ 簇网/ ./ 然后/ ,/ 针对/ 用户/ 具体/ 请求/ ,/ 借助/ 抽象/ 服务/ 簇到/ 单个/ 服务/ 的/ 绑定/ 算法/ ,/ 为/ 服务/ 簇网/ 中/ 的/ 每个/ 服务/ 簇/ 选择/ 最/ 符合/ 用户/ 需求/ 的/ 单个/ 服务/ ,/ 得到/ 最能/ 满足用户/ 需求/ 的/ 组合/ 服务/ ./ 因此/ ,/ 基于/ 服务/ 簇/ 的/ 服务/ 组合/ 使得/ 用户/ 不必/ 在/ 服务/ 库中/ 逐一/ 地/ 查找/ 特定/ 服务/ ,/ 解决/ 了/ 动态/ 服务/ 组合/ 服务/ 发现/ 和/ 组合/ 效率/ 低/ 的/ 问题/ ./ 同时/ ,/ 又/ 可以/ 重复/ 利用/ BPEL/ 流程/ ,/ 实现/ 流程/ 的/ 复用/ ,/ 根据/ 具体/ 的/ 用户/ 需求/ 选择/ 绑定/ 适合/ 用户/ 的/ 最佳/ 服务/ ./ 因此/ ,/ 这种/ 服务/ 簇/ 组合/ 模式/ ,/ 又/ 解决/ 了/ 静态/ 服务/ 组合/ 不能/ 满足/ 个性化/ 服务/ 需求/ 以及/ 服务/ 空间/ 爆炸/ 问题/ ./ 本文/ 只/ 给出/ 了/ 业务/ 模型/ 层上/ 服务/ 簇网/ 的/ 组合/ 方法/ 及其/ 完备/ 性/ 分析/ ,/ 服务/ 请求/ 处理/ 、/ 服务/ 簇/ 发现/ 、/ 服务/ 簇到/ 具体/ 服务/ 的/ 绑定/ 等/ 问题/ 的/ 研究/ 将/ 在/ 以后/ 的/ 工作/ 中/ 完成/ ./ 3/ 逻辑/ Petri/ 网/ 传统/ 的/ 基于/ Petri/ 网/ 的/ 描述/ 方法/ 只能/ 对/ 单个/ 的/ Web/ 服务/ 组合/ 进行/ 描述/ ,/ 不适/ 用于/ 以/ 服务/ 簇为/ 基本/ 单位/ 的/ 服务/ 组合/ ./ 因此/ ,/ 本文/ 采用/ 基于/ 逻辑/ Petri/ 网/ 的/ 方法/ 描述/ 和/ 分析/ 基于/ 服务/ 簇/ 的/ 服务/ 组合/ ./ 下面/ 简单/ 介绍/ Petri/ 网/ 的/ 基本概念/ ,/ 更/ 深入/ 的/ 了解/ 参阅/ 文献/ [/ 9/ -/ 10/ ]/ ./ 定义/ 1/ ./ 网/ [/ 10/ ]/ ./ 三元组/ N/ =/ (/ P/ ,/ T/ ,/ F/ )/ 称为/ 一个/ 网/ ,/ 当且/ 仅/ 当/ (/ 1/ )/ P/ 是/ 一个/ 有限/ 库所集/ ,/ T/ 是/ 一个/ 有限/ 变迁/ 集/ ;/ (/ 2/ )/ P/ ∪/ T/ ≠/ / ,/ P/ ∩/ T/ =/ / ;/ (/ 3/ )/ F/ / (/ P/ ×/ T/ )/ ∪/ (/ T/ ×/ P/ )/ 是/ 一个/ 弧集/ ./ 定义/ 2/ ./ 输入/ 集/ 和/ 输出/ 集/ [/ 10/ ]/ ./ / x/ ∈/ P/ ∪/ T/ ,/ ·/ x/ =/ {/ y/ |/ (/ y/ ,/ x/ )/ ∈/ F/ }/ 称为/ x/ 的/ 输入/ 集/ ;/ x/ ·/ =/ {/ y/ |/ (/ x/ ,/ y/ )/ ∈/ F/ }/ 称为/ x/ 的/ 输出/ 集/ ./ 定义/ 3/ ./ Petri/ 网/ [/ 10/ ]/ ./ PN/ =/ (/ N/ ,/ M/ )/ 称为/ 一个/ Petri/ 网/ ,/ 当且/ 仅/ 当/ (/ 1/ )/ N/ =/ (/ P/ ,/ T/ ,/ F/ )/ 是/ 一个/ 网/ ;/ (/ 2/ )/ M/ :/ P/ →/ {/ 0/ ,/ 1/ ,/ 2/ ,/ …/ }/ 是/ PN/ 的/ 一个/ 标识/ 函数/ ;/ (/ 3/ )/ 引发/ 规则/ :/ ①/ / p/ ∈/ ·/ t/ :/ M/ (/ p/ )/ >/ 0/ ,/ 则/ 称/ 变迁/ t/ 在/ 标识/ M/ 使/ ②/ 若/ t/ 在/ 标识/ M/ 使能/ ,/ 则/ t/ 可以/ 引发/ 且/ 引发/ 后能/ ,/ 记为/ M/ [/ t/ 〉/ ;/ 产生/ 一个/ 后继/ 标识/ M/ 记作/ M/ [/ t/ 〉/ M/ ,/ 其中/ M/ (/ p/ )/ =/ 定义/ 4/ ./ 可达/ 标识/ 集/ [/ 10/ ]/ ./ 设/ PN/ =/ (/ P/ ,/ T/ ,/ F/ ,/ M0/ )/ 为/ 一个/ Petri/ 网/ ,/ 其中/ M0/ 是/ PN/ 的/ 初始/ 标识/ ./ PN/ 的/ 可达/ 标识/ 集/ R/ (/ M0/ )/ 定义/ 为/ 满足/ 下面/ 两个/ 条件/ 的/ 最小/ 集合/ :/ (/ 1/ )/ M0/ ∈/ R/ (/ M0/ )/ ;/ (/ 2/ )/ 若/ M/ ∈/ R/ (/ M0/ )/ ,/ 且/ 存在/ t/ ∈/ T/ 使得/ M/ [/ t/ 〉/ M/ ,/ 则/ M/ ∈/ R/ (/ M0/ )/ ./ 在/ 本文/ Petri/ 网/ 的/ 图/ 表示/ 中/ ,/ 圆圈/ 表示/ 库所/ ,/ 矩形框/ 表示/ 变迁/ ,/ 圆点/ 表示/ 标识/ (/ token/ )/ ./ 逻辑/ Petri/ 网/ (/ LogicalPetriNet/ ,/ LPN/ )/ 是/ 抑制/ 弧/ Petri/ 网/ 的/ 一种/ 高级/ 抽象/ [/ 11/ ]/ ./ 在/ LPN/ 中/ ,/ 在/ 变迁/ 上/ 添加/ 逻辑/ 输入/ 表达式/ fI/ 和/ 逻辑/ 输出/ 表达式/ fO/ ,/ 以此/ 来/ 描述/ 变迁/ 使能/ 条件/ 的/ 不确定性/ 和/ 变迁/ 引发/ 时/ 输入/ 、/ 输出/ 库所/ 状态/ 改变/ 的/ 不确定性/ ./ 通常/ 将/ 逻辑/ 输入/ 表达式/ fI/ 和/ 逻辑/ 输出/ 表达式/ fO/ 化为/ 标准/ 析取范式/ ,/ 使/ 其中/ 的/ 每/ 一个/ 析取/ 子句/ 都/ 是/ 相关/ 库所/ 的/ 合取/ 式/ ,/ 称为/ 逻辑/ 表达式/ 的/ 子/ 合取/ 式/ ./ 如果/ 一个/ 变迁/ 的/ 输入/ 库所集/ 满足/ 其/ 逻辑/ 输入/ 表达式/ fI/ ,/ 则/ 意味着/ 它/ 满足/ fI/ 的/ 一个/ 子/ 合取/ 式/ f/ ,/ 此时/ 变迁/ 使能/ ./ 变迁/ 引发/ 时/ 按照/ f/ 对/ 输入/ 库所/ 集合/ 中/ 的/ 库/ 所作/ 相应/ 变化/ ,/ 同时/ 保证/ 输出/ 库所集/ 满足/ fO/ 的/ 一个/ 子/ 合取/ 式/ ./ 为了/ 更加/ 详细/ 地/ 描述/ 库所/ 与/ 表达式/ 的/ 关系/ ,/ 用/ 符号/ p/ |/ f/ 表示/ 库所/ p/ 在/ 合取/ 式/ f/ 中/ 的/ 出现/ 形式/ ,/ p/ |/ f/ =/ ·/ T/ ·/ 表示/ p/ 在/ f/ 中以/ p/ 的/ 形式/ 出现/ ,/ p/ |/ f/ =/ ·/ F/ ·/ 表示/ p/ 在/ f/ 中以/ / p/ 的/ 形式/ 出现/ ,/ ·/ T/ ·/ // ·/ F/ ·/ 表示/ 逻辑/ 真值/ 为/ 真/ // 假/ ./ 例如/ ,/ 在/ 合取/ 式/ f/ =/ p1/ ∧/ p2/ ∧/ / p3/ 中/ ,/ p1/ |/ f/ =/ ·/ T/ ·/ ,/ p2/ |/ f/ =/ ·/ T/ ·/ ,/ p3/ |/ f/ =/ ·/ F/ ·/ ./ 定义/ 5/ ./ 必要/ 库所/ ./ 设/ 表达式/ f/ 为库/ 所集/ P/ 上/ 的/ 逻辑/ 表达式/ ,/ p/ ∈/ P/ ,/ 称/ p/ 为/ 表达式/ f/ 的/ 必要/ 库所/ ,/ 当且/ 仅/ 当/ 对/ f/ 的/ 任意子/ 合取/ 式/ fi/ 都/ 有/ p/ |/ fi/ =/ ·/ T/ ·/ 成立/ ,/ 记为/ p/ |/ f/ =/ ·/ T/ ·/ ./ 定义/ 6/ ./ 逻辑/ 表达式/ ./ 设/ f/ 为/ 关于/ 库所集/ P/ 的/ 逻辑/ 表达式/ ,/ 对/ p/ ∈/ P/ ,/ p/ |/ M/ 表示/ M/ 下/ p/ 的/ 逻辑/ 真值/ ,/ 记将/ 所有/ 库所/ 的/ 逻辑/ 真值/ 代入/ 逻辑/ 表达式/ ,/ 得到/ 逻辑/ 表达式/ f/ 的/ 真值/ ,/ f/ |/ M/ =/ ·/ T/ ·/ // ·/ F/ ·/ 表示/ 标识/ M/ 满足/ // 不/ 满足/ 表达式/ f/ ./ 定义/ 7/ ./ 逻辑/ Petri/ 网/ ./ 设/ LN/ =/ (/ P/ ,/ T/ ,/ F/ ,/ I/ ,/ O/ )/ ,/ Page4LPN/ =/ (/ LN/ ,/ M/ )/ 称为/ 一个/ 逻辑/ Petri/ 网当且/ 仅/ 当/ :/ (/ 1/ )/ P/ 是/ 一个/ 有限/ 库所/ 集合/ ;/ (/ 2/ )/ T/ 是/ 一个/ 有限/ 变迁/ 集合/ ,/ 满足/ T/ ∪/ P/ ≠/ / ,/ / t/ ∈/ T/ :/ ·/ t/ ∩/ t/ ·/ =/ / ,/ 且/ / t/ ∈/ T/ ,/ t/ 的/ 所有/ 输入/ 库所受/ 一个/ 逻辑/ 输入/ 表达式/ fI/ 的/ 限制/ ,/ 所有/ 输出/ 库所受/ 一个/ 逻辑/ 输出/ 表达式/ fO/ 的/ 限制/ ;/ (/ 3/ )/ F/ / (/ P/ ×/ T/ )/ ∪/ (/ T/ ×/ P/ )/ 是/ 一个/ 有/ 向/ 弧/ 集合/ ;/ (/ 4/ )/ I/ 是/ 一个/ 逻辑/ 输入/ 函数/ ,/ / t/ ∈/ T/ ,/ I/ (/ t/ )/ =/ fI/ 是/ 变迁/ t/ 上/ 的/ 逻辑/ 输入/ 表达式/ ;/ (/ 5/ )/ O/ 是/ 一个/ 逻辑/ 输出/ 函数/ ,/ / t/ ∈/ T/ ,/ O/ (/ t/ )/ =/ fO/ 是/ 变迁/ t/ 上/ 的/ 逻辑/ 输出/ 表达式/ ;/ (/ 6/ )/ M/ :/ P/ →/ {/ 0/ ,/ 1/ }/ 是/ LPN/ 的/ 标识/ 函数/ ,/ / p/ ∈/ P/ ,/ M/ (/ p/ )/ 表示/ p/ 中/ 的/ 标识/ 数量/ ;/ (/ 7/ )/ 变迁/ 引发/ 规则/ :/ / t/ ∈/ T/ ,/ 设/ I/ (/ t/ )/ =/ fI/ ,/ O/ (/ t/ )/ =/ fO/ ,/ 如果/ fI/ |/ M/ =/ ·/ T/ ·/ ,/ 即/ ·/ t/ 在/ M/ 满足/ 逻辑/ 表达式/ fI/ 的/ 一个/ 子/ 合取/ 式/ fi/ ,/ 则/ 称/ t/ 在/ M/ 使能/ ;/ 若/ t/ 在/ M/ 使能/ ,/ 则/ 它/ 可以/ 在/ M/ 引发/ ,/ 引发/ 时/ 选择/ fO/ 的/ 一个/ 子/ 合取/ 式/ fo/ ,/ 引发/ 后/ 演变/ 到/ 新/ 的/ 标识/ M/ :/ M/ (/ p/ )/ =/ 在/ LPN/ 的/ 图/ 表示/ 中/ ,/ 将/ 变迁/ 的/ 逻辑/ 输入/ 表达式/ 和/ 逻辑/ 输出/ 表达式/ 标注/ 在/ 变迁/ 上/ ,/ 如图/ 2/ (/ a/ )/ ./ 当/ 逻辑/ 输出/ 表达式/ 表示/ 为/ 所有/ 输出/ 库所/ 的/ 合取/ 时/ ,/ 可以/ 省去/ 逻辑/ 输出/ 表达式/ ,/ 此时/ 的/ 变迁/ 称为/ 逻辑/ 输入/ 变迁/ ,/ 如图/ 2/ (/ b/ )/ ,/ 逻辑/ 输入/ 变迁/ 的/ 引发/ 等同于/ 普通/ Petri/ 网/ 变迁/ ./ 同样/ ,/ 当/ 逻辑/ 输入/ 表达式/ 表示/ 为/ 所有/ 输入/ 库所/ 的/ 合取/ 时/ ,/ 可以/ 省去/ 逻辑/ 输入/ 表达式/ ,/ 此时/ 的/ 变迁/ 称为/ 逻辑/ 输出/ 变迁/ ,/ 如图/ 2/ (/ c/ )/ ,/ 逻辑/ 输出/ 变迁/ 的/ 使/ 能/ 条件/ 等同于/ 普通/ Petri/ 网/ 变迁/ ./ 当/ 逻辑/ 变迁/ 的/ 逻辑/ 输入/ 表达式/ 和/ 逻辑/ 输出/ 表达式/ 都/ 可以/ 省去/ 时/ ,/ 逻辑/ 变迁/ 变为/ 普通/ 的/ Petri/ 网/ 变迁/ ,/ 如图/ 2/ (/ d/ )/ ./ 服务提供者/ 的/ 名称/ 等/ ;/ 4Web/ 服务/ 和/ 服务/ 簇/ 的/ 形式化/ 描述/ 对/ 服务/ 进行/ 建模/ 描述/ 的/ 方法/ 有/ 许多种/ ,/ 其中/ ,/ Petri/ 网/ 采用/ 可视化/ 图形/ 描述/ 且/ 有/ 坚实/ 的/ 数学/ 基础/ ,/ 易于/ 表达/ 离散/ 事件/ 动态/ 系统/ 的/ 静态/ 结构/ 和/ 动态变化/ ,/ 非常适合/ 于/ 描述/ 服务/ 组合/ ,/ 比如/ 文献/ [/ 12/ -/ 15/ ]/ 都/ 采用/ Petri/ 网对/ 服务/ 进行/ 建模/ 描述/ ./ 4.1/ Web/ 服务/ 元/ ./ Web/ 服务/ 定义/ 如下/ ./ 五元/ 组/ WS/ =/ (/ SID/ ,/ BI/ ,/ SF/ ,/ QoS/ ,/ SE/ )/ ,/ 其中/ :/ 一个/ 单个/ 的/ Web/ 服务/ 的/ Petri/ 网/ 描述/ 称为/ 服务/ 定义/ 8/ ./ Web/ 服务/ ./ 一个/ 服务/ 可以/ 描述/ 为/ 一个/ (/ 1/ )/ SID/ 表示/ Web/ 服务/ 的/ 唯一/ 标识/ ;/ (/ 2/ )/ BI/ 表示/ 服务/ 的/ 基本/ 信息/ ,/ 包括/ 服务/ 的/ 名称/ 、/ (/ 3/ )/ SF/ 为/ 服务/ 的/ 功能/ 语义/ 描述/ ;/ (/ 4/ )/ QoS/ 表示/ 对/ 服务质量/ 的/ 描述/ ,/ QoS/ 属性/ 主/ (/ 5/ )/ SE/ =/ (/ P/ ,/ t/ ,/ F/ )/ ,/ 表示/ 描述/ 该/ Web/ 服务/ 的/ 服/ ①/ P/ 是/ 一个/ 有限/ 库所/ 集合/ ,/ 表示/ 服务/ 元/ 的/ 输/ ②/ t/ 是/ 服务/ 元/ 的/ 服务/ 变迁/ ,/ 表示/ 服务/ 元/ 的/ 服务/ ③/ F/ 是/ 一个/ 有/ 向/ 弧/ 的/ 集合/ ,/ 表示/ 库所集/ P/ 和/ 服务/ 变迁/ t/ 之间/ 的/ 流/ 关系/ ./ 例如/ ,/ 图/ 3/ 给出/ 了/ 一个/ 机票/ 预订/ 服务/ 的/ 服务/ 元/ 模型/ ,/ 表示/ 一个/ 机票/ 预订/ 服务/ 需要/ 输入/ 出发/ 日期/ 、/ 出发/ 城市/ 、/ 目的/ 城市/ 等/ 参数/ ,/ 服务/ 执行/ 完/ 以后/ ,/ 可以/ 得到/ 飞机/ 的/ 起飞时间/ 、/ 机票价格/ 、/ 航班号/ 等/ 信息/ ./ 要/ 包括/ 价格/ 、/ 响应/ 时间/ 、/ 可靠性/ 、/ 可用性/ 、/ 声誉/ 等/ ;/ 务元/ ,/ 其中/ :/ 入/ 、/ 输出/ 参数/ 集合/ ;/ 操作/ ;/ 4.2/ 服务/ 簇/ 服务/ 聚类/ 的/ 思想/ 已经/ 被/ 广泛/ 认同/ ./ 服务/ 聚类/ 通过/ 对/ 多个/ 服务/ 的/ 功能/ 语义/ 描述/ 和/ 输入输出/ 参数/ 进行/ 相似/ 度/ 匹配/ ,/ 将/ 功能/ 相同/ 或/ 相似/ 的/ 服务/ 聚在一起/ ./ 通过/ 服务/ 聚类/ 处理/ 以后/ ,/ 服务/ 注册/ 库中/ 的/ 服务/ 按照/ 功能/ 被/ 划分/ 为/ 多个/ 服务/ 簇/ ,/ 同一个/ 服务/ 簇中/ 的/ 服务/ 功能/ 具有/ 高度/ 的/ 相似性/ ,/ 而/ 不同/ 服务/ 簇/ 的/ 服务/ 之/ Page5/ 间/ 功能/ 高度/ 相异/ ./ 服务/ 聚类/ 的/ 具体方法/ 可/ 参见/ 文献/ [/ 1/ -/ 3/ ]/ ,/ 本文/ 不再/ 赘述/ ./ 服务/ 簇/ 的/ 逻辑/ Petri/ 网/ 描述/ 称为/ 簇元/ ,/ 是/ 将/ 多个/ 服务/ 元/ 组合/ 到/ 一起/ 得到/ 的/ ./ 服务/ 簇/ 的/ 形式化/ 定义/ 如下/ ./ 定义/ 9/ ./ 服务/ 簇/ ./ 一个/ 服务/ 簇/ 可以/ 描述/ 为/ 一个/ 五元/ 组/ SC/ =/ (/ CID/ ,/ BI/ ,/ CF/ ,/ CS/ ,/ CE/ )/ ,/ 其中/ :/ (/ 1/ )/ CID/ 表示/ Web/ 服务/ 簇/ 的/ 唯一/ 标识/ ;/ (/ 2/ )/ BI/ 表示/ 服务/ 簇/ 的/ 基本/ 信息/ ,/ 包括/ 服务/ 簇/ 的/ (/ 3/ )/ CF/ 为/ 服务/ 簇/ 的/ 功能/ 语义/ 描述/ ;/ (/ 4/ )/ CS/ 是/ 一个/ 标识/ 的/ 集合/ ,/ 描述/ 了/ 该/ 服务/ 簇所/ (/ 5/ )/ CE/ =/ (/ P/ ,/ t/ ,/ F/ ,/ fI/ ,/ fO/ )/ ,/ 表示/ 描述/ 该/ 服务/ 簇/ ①/ P/ 是/ 服务/ 簇/ 的/ 输入/ 、/ 输出/ 库所/ 的/ 集合/ ;/ 包含/ 的/ 服务/ 的/ 标识/ ;/ 的/ 簇元/ ,/ 其中/ :/ 名称/ 等/ ;/ 图/ 4/ 机票/ 预订/ 服务/ 元/ 模型/ 5/ 服务/ 簇网/ 及其/ 组合/ 服务/ 簇网/ 是/ 业务/ 模型/ 层上/ 服务/ 的/ 存在/ 形式/ ,/ 是/ 用户/ 提出/ 服务/ 请求/ 后/ ,/ 服务/ 请求/ 和/ 响应/ 的/ 基本/ 单位/ ./ 服务/ 簇网/ 通过/ 虚拟/ 层面/ 上/ 的/ 组合/ 来/ 达到/ 服务/ 增值/ 的/ 目的/ ./ 本节/ 主要/ 讨论/ 业务/ 模型/ 层上/ 服务/ 簇网/ 的/ 组合/ ./ 组合/ 形成/ 的/ 服务/ 簇网/ 在/ 发布/ 之前/ ,/ 其/ 完备/ 性/ 必须/ 得到/ 验证/ ,/ 因此/ ,/ 对/ 每种/ 组合/ 运算/ 的/ 完备/ 性/ 继承/ 作/ 了/ 分析/ ./ 5.1/ 服务/ 簇网/ 的/ 定义/ NS/ ,/ LSN/ )/ 为/ 一个/ 服务/ 簇网/ ,/ 其中/ :/ (/ 1/ )/ NID/ 表示/ 服务/ 簇网/ 的/ 标识/ ;/ (/ 2/ )/ BI/ 表示/ 服务/ 簇网/ 的/ 基本/ 信息/ ,/ 包括/ 服务/ 簇/ 定义/ 10/ ./ 服务/ 簇网/ ./ 称/ SCN/ =/ (/ NID/ ,/ BI/ ,/ NF/ ,/ 网/ 的/ 名称/ 等/ ;/ (/ 3/ )/ NF/ 为/ 服务/ 的/ 功能/ 语义/ 描述/ ;/ (/ 4/ )/ NS/ 是/ 一个/ 标识/ 的/ 集合/ ,/ 描述/ 了/ 该/ 服务/ 簇网/ 所/ 包含/ 的/ 服务/ 簇/ 的/ 标识/ ;/ (/ 5/ )/ LSN/ =/ (/ P/ ,/ T/ ,/ F/ ,/ I/ ,/ O/ ,/ fS/ ,/ fE/ )/ ,/ 表示/ 描述/ 该/ 服务/ 簇/ 的/ 逻辑/ 服务网/ ,/ 其中/ :/ 操作/ ;/ 务/ 变迁/ t/ 之间/ 的/ 流/ 关系/ ;/ 服务/ 簇/ 的/ 输入/ 参数/ 限制/ ;/ ②/ t/ 是/ 服务/ 簇/ 的/ 服务/ 变迁/ ,/ 表示/ 服务/ 簇/ 的/ 服务/ ③/ F/ 是/ 一个/ 有/ 向/ 弧/ 的/ 集合/ ,/ 表示/ 库所集/ P/ 和服/ ④/ fI/ 是/ 服务/ 变迁/ 的/ 逻辑/ 输入/ 表达式/ ,/ 用来/ 描述/ ⑤/ fO/ 是/ 服务/ 变迁/ 的/ 逻辑/ 输出/ 表达式/ ,/ 用来/ 描述/ 服务/ 簇/ 的/ 输出/ 参数/ 限制/ ./ 定义/ 9/ 指出/ ,/ 服务/ 簇由/ 服务/ 簇/ 唯一/ 标识/ CID/ 进行/ 标识/ ./ 查找/ 时/ ,/ 按照/ 服务/ 簇/ 的/ 功能/ 语义/ 描述/ 、/ 基本/ 信息/ 及其/ 输入/ 、/ 输出/ 参数/ 进行/ 查找/ ./ 每个/ 簇元/ 由/ 一个/ 变迁/ 和/ 若干个/ 库所/ 组成/ ./ 变迁/ 与/ 各库/ 所/ 之间/ 的/ 逻辑关系/ 通过/ 逻辑/ 表达式/ fI/ 和/ fO/ 来/ 描述/ ./ 例如/ ,/ 图/ 4/ 中/ 给出/ 了/ 将/ 两个/ 机票/ 预订/ 服务/ 聚类/ 得到/ 的/ 机票/ 预订/ 服务/ 簇/ 的/ 簇元/ 模型/ ./ ①/ P/ 表示/ LSN/ 中库/ 所/ 的/ 集合/ ,/ LSN/ 有/ 两个/ 库所/ 子集/ PC/ 和/ PD/ ,/ PD/ 为/ 数据库/ 所/ 子集/ ,/ PC/ 为/ 控制/ 库所/ 子集/ ,/ 满足/ P/ =/ PC/ ∪/ PD/ ,/ 且/ PC/ ∩/ PD/ =/ / ./ PC/ 包含/ 两个/ 特殊/ 库所/ :/ 源/ 控制/ 库所/ i/ (/ 开始/ 状态/ )/ 和/ 终/ 控制/ 库所/ o/ (/ 结束/ 状态/ )/ ,/ 满足/ ·/ i/ =/ / ,/ o/ ·/ =/ / ./ 输入/ 库所集/ PIn/ =/ {/ p/ ∈/ P/ |/ ·/ p/ =/ / }/ ,/ 输出/ 库所/ 集合/ POut/ =/ {/ p/ ∈/ P/ |/ p/ ·/ =/ / }/ ;/ ②/ T/ 表示/ LSN/ 中/ 变迁/ 的/ 集合/ ,/ / t/ ∈/ T/ ,/ ·/ t/ 和/ t/ ·/ 都/ 至少/ 有/ 一个/ 控制/ 库所/ ;/ ③/ F/ 是/ 一个/ 有/ 向/ 弧/ 的/ 集合/ ,/ 表示/ 库所集/ P/ 和/ 变迁/ 集/ T/ 之间/ 的/ 流/ 关系/ ;/ ④/ I/ 是/ 一个/ 逻辑/ 限制/ 输入/ 函数/ ,/ 使/ 对/ / t/ ∈/ T/ ,/ I/ (/ t/ )/ =/ fI/ 是/ 一个/ 逻辑/ 输入/ 表达式/ ,/ / p/ ∈/ ·/ t/ ∩/ PC/ ,/ 有/ p/ |/ fI/ =/ ·/ T/ ·/ ;/ ⑤/ O/ 是/ 一个/ 逻辑/ 限制/ 输出/ 函数/ ,/ 使/ 对/ / t/ ∈/ T/ ,/ O/ (/ t/ )/ =/ fO/ 是/ 一个/ 逻辑/ 输出/ 表达式/ ,/ / p/ ∈/ t/ ·/ ∩/ PC/ ,/ p/ |/ fO/ =/ ·/ T/ ·/ ;/ ⑥/ fS/ 是/ 集合/ PIn/ 上/ 的/ LSN/ 的/ 网/ 逻辑/ 输入/ 表达式/ ,/ 表示/ 要/ 使/ LSN/ 使能/ ,/ 其/ 输入/ 库所应/ 满足/ 的/ 表达式/ ;/ ⑦/ fE/ 是/ 集合/ POut/ 上/ 的/ LSN/ 的/ 网/ 逻辑/ 输出/ 表达/ Page6/ 式/ ,/ 表示/ LSN/ 运行/ 完/ 以后/ ,/ 其/ 输出/ 库所应/ 满足/ 的/ 表达式/ ./ 逻辑/ 服务网/ 中有/ 两个/ 库所/ 子集/ ,/ PD/ 描述/ 服务/ 簇网/ 中/ 各个/ 服务/ 之间/ 以及/ 服务网/ 与/ 外部环境/ 的/ 参数传递/ ,/ PC/ 控制/ 各/ 服务/ 簇/ 之间/ 的/ 逻辑关系/ ./ 服务/ 组合/ 的/ 完整/ 执行/ ,/ 对应/ 服务网/ 中/ 的/ 控制/ 标识/ 从/ 原库/ 所/ i/ 移动/ 到/ 终库/ 所/ o/ ./ PIn/ 和/ POut/ 分别/ 表示/ 该/ LSN/ 的/ 输入/ 参数/ 和/ 输出/ 参数/ 的/ 集合/ ./ LSN/ 中/ 的/ 每个/ 变迁/ 表示/ 一个/ 服务/ 簇/ 操作/ ./ 服务网/ 的/ 逻辑/ 输入/ 表达式/ fS/ 和/ 逻辑/ 输出/ 表达式/ fE/ 描述/ 了/ 服务网/ 的/ 逻辑/ 输入/ 和/ 输出/ 限制/ ,/ 分别/ 表示/ 用户/ 调用/ 服务/ 时所/ 需要/ 输入/ 的/ 参数/ 的/ 限制/ 条件/ 和/ 服务/ 组合/ 执行/ 完成/ 后/ 得到/ 的/ 结果/ ,/ 由/ 各/ 变迁/ 的/ 逻辑/ 输入/ 表达式/ 和/ 逻辑/ 输出/ 表达式/ 在/ 组合/ 过程/ 中/ 不断/ 运算/ 得到/ ,/ 对/ 组合/ 网/ 的/ 性质/ 继承/ 问题/ 的/ 分析/ 起着/ 关键作用/ ./ 逻辑/ 服务网/ LSN/ 是/ 服务网/ 组合/ 的/ 主要/ 部分/ ,/ 本文/ 讨论/ 的/ 重点/ 在于/ LSN/ 的/ 组合/ 及其/ 性质/ 的/ 分析/ ./ 对于/ 一个/ 服务/ 簇网/ ,/ 其/ 逻辑/ Petri/ 网/ 描述/ 即/ 逻辑/ 服务网/ 决定/ 了/ 服务/ 的/ 组合/ 流程/ ./ 因此/ ,/ 在/ 服务/ 簇网/ 启用/ 之前/ ,/ 逻辑/ 服务网/ 的/ 正确性/ 即/ 健壮性/ 必须/ 得到/ 形式/ 验证/ ./ 为了/ 分析/ 逻辑/ 服务网/ 的/ 健壮性/ ,/ 作/ 以下/ 定义/ ./ 定义/ 11/ ./ 初始/ 标识/ 和/ 终止/ 标识/ ./ 设/ LSN/ =/ (/ P/ ,/ T/ ,/ F/ ,/ I/ ,/ O/ ,/ fS/ ,/ fE/ )/ ,/ 称/ M0/ 为/ LSN/ 的/ 初始/ 标识/ 当且/ 仅/ 当/ :/ (/ 1/ )/ / p/ / PIn/ →/ M0/ (/ p/ )/ =/ 0/ ;/ (/ 2/ )/ 对/ 集合/ PIn/ 满足/ fS/ |/ M0/ =/ ·/ T/ ·/ ./ 称/ 初始/ 标识/ 的/ 集合/ 为/ 初始/ 标识/ 集/ ,/ 记为/ MS/ ./ 称/ Me/ 为/ LSN/ 的/ 终止/ 标识/ 当且/ 仅/ 当/ :/ (/ 1/ )/ / p/ ∈/ PC/ -/ {/ o/ }/ ,/ Me/ (/ p/ )/ =/ 0/ ,/ Me/ (/ o/ )/ =/ 1/ ;/ (/ 2/ )/ fE/ |/ Me/ =/ ·/ T/ ·/ ./ 称/ 终止/ 标识/ 的/ 集合/ 为/ 终止/ 标识/ 集/ ,/ 记为/ ME/ ./ 初始/ 标识/ 集/ 表示/ 所有/ 满足/ 该/ 逻辑/ 服务网/ 的/ 逻辑/ 输入/ 表达式/ 的/ 标识/ 的/ 集合/ ,/ 终止/ 标识/ 集/ 表示/ 所有/ 从/ 初始/ 标识/ 可达/ 的/ ,/ 满足/ 该/ 逻辑/ 服务网/ 的/ 网/ 逻辑/ 输出/ 表达式/ 的/ 标识/ 的/ 集合/ ./ 对于/ fS/ 的/ 标准/ 析取范式/ 的/ 任意/ 一个/ 合取/ 式/ fSi/ ,/ 都/ 有/ 一个/ 唯一/ 的/ 初始/ 标识/ M0i/ 与/ 之/ 对应/ ./ 因此/ ,/ 一个/ LSN/ 的/ 初始/ 标识/ 的/ 数量/ 与/ fS/ 的/ 标准/ 析取范式/ 中/ 的/ 合取/ 式/ 的/ 数量/ 是/ 相等/ 的/ ,/ 即/ |/ R/ (/ fS/ )/ |/ =/ |/ MS/ |/ ,/ 其中/ R/ (/ fS/ )/ 表示/ fS/ 的/ 标准/ 析取范式/ 的/ 子/ 合取/ 式/ 的/ 集合/ ./ 定义/ 12/ ./ 健壮性/ ./ 设/ 逻辑/ 服务网/ LSN/ =/ (/ P/ ,/ T/ ,/ F/ ,/ I/ ,/ O/ ,/ fS/ ,/ fE/ )/ ,/ M0/ ∈/ Ms/ ,/ 如果/ / M/ ∈/ R/ (/ M0/ )/ ,/ / M/ ∈/ R/ (/ M/ )/ 且/ M/ ∈/ ME/ ,/ 则/ 称/ LSN/ 在/ M0/ 是/ 健壮/ 的/ ./ 如果/ / M0/ ∈/ Ms/ ,/ 都/ 有/ LSN/ 在/ M0/ 是/ 健壮/ 的/ ,/ 则/ 称/ 逻辑/ 服务网/ LSN/ 是/ 健壮/ 的/ ./ 定义/ 12/ 说明/ ,/ LSN/ 是/ 健壮/ 的/ ,/ 即/ 任意/ 一个/ 初始/ 标识/ M0/ ,/ 无论/ 网/ 如何/ 运行/ ,/ 都/ 能/ 到达/ 一个/ 终止/ 标识/ ./ 因此/ ,/ LSN/ 的/ 健壮性/ 可以/ 保证/ 服务/ 簇网/ 针对/ 用户/ 的/ 所有/ 可能/ 的/ 需求/ 按/ 其/ 描述/ 的/ 流程/ 进行/ 执行/ 并/ 得到/ 正确/ 的/ 输出/ 结果/ ,/ 称/ 此时/ 的/ 服务/ 簇网/ 是/ 完备/ 的/ ./ 定义/ 13/ ./ 完备/ 性/ ./ 称/ 服务/ 簇网/ SCN/ 是/ 完备/ 的/ ,/ 当且/ 仅/ 当/ 其/ 对应/ 的/ 逻辑/ 服务网/ LSN/ 是/ 健壮/ 的/ ./ 根据/ 定义/ 13/ 可以/ 将/ 服务/ 簇网/ 的/ 完备/ 性/ 转化/ 到/ 其/ LSN/ 的/ 健壮性/ 来/ 讨论/ ./ 5.2/ 服务/ 簇网/ 代数/ 同/ Web/ 服务/ 的/ 静态/ 组合/ 方式/ 一样/ ,/ 服务/ 簇网/ 组合/ 以后/ ,/ 仍然/ 为/ 一个/ 服务/ 簇网/ ,/ 供/ 用户/ 查找/ 调用/ ./ 服务/ 簇网/ 组合/ 可/ 通过/ 类/ BNF/ 的/ 符号/ 进行/ 定义/ ./ 设/ SCN1/ 和/ SCN2/ 为/ 两个/ 服务/ 簇网/ ,/ 代数/ 运算符/ 的/ 语法/ 如下/ :/ SCN/ ∷/ =/ CAN/ |/ SCN1/ ·/ SCN2/ |/ SCN1/ / SCN2/ |/ 其中/ :/ 此/ 部分/ 给出/ 服务/ 簇网/ 组合/ 运算/ 的/ 各个/ 模型/ ,/ 服所/ 构成/ 的/ 服务/ 簇网/ ;/ (/ 1/ )/ CAN/ 表示/ 原子/ 服务/ 簇网/ ,/ 即/ 由/ 一个/ 服务/ 簇/ (/ 2/ )/ SCN1/ ·/ SCN2/ 表示/ 服务/ 簇网/ SCN1/ 和/ SCN2/ 顺序/ 组合/ ,/ 即先/ 执行/ 服务/ 簇网/ SCN1/ 中/ 的/ 服务/ ,/ 再/ 执行/ 服务/ 簇网/ SCN2/ 中/ 的/ 服务/ ,/ ·/ 表示/ 顺序/ 运算符/ ;/ (/ 3/ )/ SCN1/ / SCN2/ 表示/ 服务/ 簇网/ SCN1/ 和/ SCN2/ 进行/ 选择/ 运算/ (/ 不可/ 兼/ 或/ )/ ,/ 即/ 执行/ 服务/ 簇网/ SCN1/ 中/ 的/ 服务/ 或/ 服务/ 簇网/ SCN2/ 中/ 的/ 服务/ ,/ / 为/ 选择/ 运算符/ ;/ (/ 4/ )/ SCN1/ ◇/ SCN2/ 表示/ 服务/ 簇网/ SCN1/ 和/ SCN2/ 进行/ 任意/ 顺序/ 运算/ ,/ 即先/ 执行/ SCN1/ 中/ 的/ 服务/ 后/ 执行/ SCN2/ 中/ 的/ 服务/ ,/ 或/ 先/ 执行/ SCN2/ 中/ 的/ 服务/ 后/ 执行/ SCN1/ 中/ 的/ 服务/ ,/ ◇/ 表示/ 任意/ 顺序/ 运算符/ ;/ (/ 5/ )/ SCN1/ ‖/ SCN2/ 表示/ 服务/ 簇网/ SCN1/ 和/ SCN2/ 进行/ 并发/ 运算/ ,/ 即/ 服务/ 簇网/ SCN1/ 和/ SCN2/ 中/ 的/ 服务/ 是/ 并发/ 运行/ 的/ ,/ 其中/ 不/ 含/ 交互/ ,/ ‖/ 表示/ 并发/ 运算符/ ;/ (/ 6/ )/ μ/ SCN1/ 表示/ 服务/ 簇网/ 的/ 迭代/ 运算/ ,/ 即/ 重复/ 执行/ 服务/ 簇网/ SCN1/ 中/ 的/ 某/ 一项/ 服务/ ,/ μ/ 表示/ 迭代/ 运算符/ ./ 以上/ 提出/ 的/ 服务/ 簇网/ 的/ 代数/ 运算/ 都/ 是/ 封闭/ 的/ 运算/ ./ 它/ 保证/ 了/ 服务/ 簇网/ 进行/ 代数/ 组合/ 运算/ 之后/ ,/ 仍然/ 是/ 一个/ 服务/ 簇网/ ,/ 同/ 静态/ 服务/ 组合/ 一样/ ,/ 仍然/ 可以/ 继续/ 通过/ 代数/ 运算/ 进行/ 组合/ 以/ 构建/ 更/ 多功能/ 更/ 复杂/ 的/ 服务/ 簇网/ ./ 5.3/ 服务/ 簇网/ 组合/ 模型/ Page7/ 务/ 簇网/ 组合/ 以后/ 即/ 形成/ 一个/ 新/ 的/ 服务/ 簇网/ 添加/ 到/ 业务/ 模型/ 层中/ ,/ 对应/ 的/ LSN/ 的/ 组合/ 通过/ 合并/ 库所/ 、/ 添加/ 控制/ 变迁/ 和/ 控制/ 库所来/ 完成/ ./ 假设/ SCNi/ =/ (/ NIDi/ ,/ BIi/ ,/ NFi/ ,/ NSi/ ,/ LSNi/ )/ ,/ 其中/ LSNi/ =/ (/ Pi/ ,/ Ti/ ,/ Fi/ ,/ Ii/ ,/ Oi/ ,/ fSi/ ,/ fEi/ )/ ./ 5.3/ ./ 1/ 原子/ 服务/ 簇网/ 原子/ 服务/ 簇网/ 用于/ 当/ 用户/ 所/ 需/ 的/ 服务/ 为/ 单个/ 的/ 原子/ 服务/ 存在/ 于/ 服务/ 簇中时/ ./ 此时/ ,/ 服务/ 簇网/ 由/ 一个/ 单个/ 的/ 服务/ 簇/ 组成/ ./ 比如/ ,/ 用户/ 要/ 预订/ 机票/ ,/ 只/ 需/ 查找/ 机票/ 预订/ 服务/ 簇/ ,/ 从中/ 选择/ 适合/ 用户/ 的/ 服务/ ,/ 返回/ 给/ 用户/ ./ 定义/ 14/ ./ 原子/ 服务/ 簇网/ ./ 设/ 服务/ 簇/ SC/ =/ (/ CID/ ,/ BI/ ,/ CF/ ,/ CS/ ,/ CE/ )/ ,/ 其中/ ,/ CE/ =/ (/ P/ ,/ t/ ,/ F/ ,/ fI/ ,/ fO/ )/ ,/ 则/ CAN/ =/ (/ NID/ ,/ BI/ ,/ NF/ ,/ NS/ ,/ LSN/ )/ 表示/ SC/ 对应/ 的/ 原子/ 服务/ 簇网/ ,/ 其中/ :/ (/ 1/ )/ NID/ 表示/ 该/ 原子/ 服务/ 簇网/ 的/ 标识/ ;/ (/ 2/ )/ BI/ 表示/ 原子/ 服务/ 簇网/ 的/ 基本/ 信息/ ,/ 包括/ 服务/ 簇网/ 的/ 名称/ 等/ ;/ 一个/ 服务/ 簇/ SC/ ;/ (/ 3/ )/ NF/ =/ CF/ 为/ 服务/ 的/ 功能/ 语义/ 描述/ ;/ (/ 4/ )/ NS/ =/ {/ CID/ }/ ,/ 表示/ 原子/ 服务/ 簇网/ 中仅/ 包含/ (/ 5/ )/ LSN/ =/ (/ P/ ,/ T/ ,/ F/ ,/ I/ ,/ O/ ,/ fS/ ,/ fE/ )/ ,/ 表示/ 描述/ 该/ 服务/ 簇/ 的/ 逻辑/ 服务网/ ./ 其中/ ,/ P/ =/ P/ ∪/ {/ i/ ,/ o/ }/ ,/ T/ =/ {/ t/ }/ ,/ F/ =/ F/ ∪/ {/ 〈/ i/ ,/ t/ 〉/ ,/ 〈/ t/ ,/ o/ 〉/ }/ ,/ fS/ =/ I/ (/ t/ )/ =/ fI/ ∧/ i/ ,/ fE/ =/ O/ (/ t/ )/ =/ fO/ ∧/ o/ ./ 原子/ 服务/ 簇网/ 是/ 在/ 服务/ 簇元/ 的/ 基础/ 上/ ,/ 通过/ 增加/ 控制/ 库所/ i/ 、/ o/ 、/ 网/ 输入/ 表达式/ fS/ 和/ 网/ 输出/ 表达式/ fE/ 所/ 得到/ 的/ ./ 例如/ ,/ 图/ 3/ 所示/ 的/ 机票/ 预订/ 服务/ 元/ 的/ 原子/ 服务/ 簇网/ 如图/ 5/ 所示/ ./ 当/ 用户/ 需要/ 预订/ 机票/ 时/ 调用/ 该/ 原子/ 服务/ 簇网/ ./ 原子/ 服务/ 簇网/ 能够/ 根据/ 用户/ 的/ 需求/ 得到/ 正确/ 的/ 输出/ 结果/ ,/ 显然/ ,/ 原子/ 服务/ 簇网/ 都/ 是/ 完备/ 的/ ./ 5.3/ ./ 2/ 顺序/ 运算/ 顺序/ 运算/ 应用/ 于/ 两个/ 服务/ 顺序/ 执行/ 的/ 情形/ ./ 使用/ 顺序/ 运算/ 进行/ 组合/ 的/ 情况/ 有/ 两种/ :/ (/ 1/ )/ 要/ 组合/ 的/ 两个/ 服务/ 簇网/ 之间/ 存在/ 着/ 参数/ 依赖/ 关系/ ,/ 前序/ 服务/ 簇网/ 的/ 输出/ 参数/ 是/ 后序/ 服务/ 簇网/ 的/ 输入/ 参数/ ./ 例如/ ,/ 在/ 旅游/ 订票/ 系统/ 中/ ,/ 用户/ 先/ 要/ 预订/ 到达/ 目标/ 城市/ 飞机票/ ,/ 然后/ 预订/ 从/ 机场/ 到/ 景点/ 的/ 汽车票/ ,/ 汽车票/ 预订/ 服务/ 需要/ 机票/ 预订/ 服务/ 所/ 提供/ 的/ 目标/ 机场/ 、/ 到达/ 时间/ 等/ 输出/ 参数/ 作为/ 输入/ 参数/ ,/ 如图/ 6/ 所示/ ;/ (/ 2/ )/ 要/ 组合/ 的/ 两个/ 服务/ 簇网/ 之间/ 并/ 无/ 参数/ 依赖/ 关系/ ,/ 但/ 存在/ 着/ 逻辑/ 依赖/ 关系/ ,/ 后序/ 服务/ 要/ 在/ 前序/ 服务/ 完成/ 以后/ 才/ 可以/ 开始/ ./ 比如/ ,/ 电子商务系统/ 中/ ,/ 客户/ 要/ 先/ 付款/ 之后/ 商家/ 才/ 发送/ 商品/ ,/ 付款/ 服务/ 与/ 发货/ 服务/ 之间/ 并/ 没有/ 参数/ 依赖/ 的/ 关系/ ,/ 但/ 必须/ 要/ 按/ 顺序/ 执行/ ,/ 如图/ 7/ 所示/ ./ 组合/ 时/ 应用/ 参数/ 相似/ 度/ 匹配/ 的/ 方法/ 将/ 前序/ 服务/ 簇网/ 的/ 输出/ 参数/ 和/ 后序/ 服务/ 簇网/ 的/ 输入/ 参数/ 进行/ 匹配/ ,/ 合并/ 相匹配/ 的/ 库/ 所/ ,/ 如图/ 6/ 中/ 边框/ 表示/ ./ 定义/ 15/ ./ 顺序/ 运算/ ./ SCN/ =/ SCN1/ ·/ SCN2/ =/ (/ NID/ ,/ BI/ ,/ NF/ ,/ NS/ ,/ LSN/ )/ 表示/ 服务/ 簇网/ SCN1/ 和/ SCN2/ 进行/ 顺序/ 运算/ ,/ 其中/ :/ (/ 1/ )/ NID/ 表示/ 组合/ 得到/ 的/ 新/ 服务/ 簇网/ 的/ 标识/ ;/ (/ 2/ )/ BI/ 表示/ 组合/ 得到/ 的/ 新/ 服务/ 簇网/ 的/ 基本/ 信息/ 描述/ ;/ 义/ 描述/ ;/ (/ 3/ )/ NF/ 表示/ 组合/ 得到/ 的/ 新/ 服务/ 簇网/ 的/ 功能/ 语/ (/ 4/ )/ NS/ =/ NS1/ ∪/ NS2/ ;/ (/ 5/ )/ LSN/ =/ (/ P/ ,/ T/ ,/ F/ ,/ I/ ,/ O/ ,/ fS/ ,/ fE/ )/ ,/ 其中/ :/ ①/ P/ =/ P1/ ∪/ P2/ ,/ 其中/ ,/ i/ =/ i1/ ,/ o/ =/ o2/ ,/ p/ =/ o1/ Θ/ i2/ (/ 符号/ Θ/ 表示/ 库所/ 合并/ )/ ,/ PE/ =/ Pout1/ ∩/ PIn2/ ,/ PIn/ =/ PIn1/ ∪/ PIn2/ -/ PE/ ,/ Pout/ =/ Pout1/ ∪/ Pout2/ -/ PE/ ;/ Page8I/ (/ t/ )/ =/ fI/ 是/ 一个/ 逻辑/ 输入/ 表达式/ ;/ O/ (/ t/ )/ =/ fO/ 是/ 一个/ 逻辑/ 输出/ 表达式/ ;/ 和/ 逻辑/ 输出/ 表达式/ ,/ 由/ 算法/ 1/ 生成/ ./ ②/ T/ =/ T1/ ∪/ T2/ ;/ ③/ F/ =/ F1/ ∪/ F2/ ;/ ④/ I/ 是/ 一个/ 逻辑/ 限制/ 输入/ 函数/ ,/ 使/ 对/ / t/ ∈/ T/ :/ ⑤/ O/ 是/ 一个/ 逻辑/ 限制/ 输出/ 函数/ ,/ 使/ 对/ / t/ ∈/ T/ :/ ⑥/ fS/ 和/ fE/ 表示/ 组合/ 网/ LSN/ 的/ 逻辑/ 输入/ 表达式/ 下面/ 给出/ 一种/ 顺序/ 运算/ fS/ 和/ fE/ 的/ 生成/ 算法/ ./ 算法/ 1/ ./ 顺序/ 运算/ fS/ 、/ fE/ 生成/ 算法/ ./ 输入/ :/ 前序/ 服务/ 簇网/ 输入/ 表达式/ fS1/ 、/ 输出/ 表达式/ fE1/ ,/ 输出/ :/ 组合/ 服务/ 簇网/ 输入/ 表达式/ fS/ 、/ 输出/ 表达式/ fE/ 将/ fE1/ 化为/ 标准/ 析取范式/ fE1/ =/ f1/ ∨/ f2/ ∨/ …/ ∨/ fn/ ;/ PE/ =/ {/ Px1/ ,/ Px2/ ,/ …/ ,/ Pxm/ }/ ;/ FORi/ ·/ ·/ =/ 1TOn/ {/ VSi/ =/ fS2/ ;/ VEi/ =/ fi/ ;/ FORj/ ·/ ·/ =/ 1TOm/ {/ }/ }/ fS/ =/ fS1/ ∧/ (/ VS1/ ∨/ VS2/ ∨/ …/ ∨/ VSn/ )/ ;/ fE/ =/ fE2/ ∧/ (/ VE1/ ∨/ VE2/ ∨/ …/ ∨/ VEn/ )/ ./ 由于/ 服务/ 簇网/ 的/ 输出/ 参数/ 是/ 不/ 确定/ 的/ ,/ 因此/ 在/ 算法/ 1/ 中/ ,/ 按照/ 前序/ 服务/ 簇网/ SCN1/ 的/ 每/ 一种/ 输出/ 方式/ ,/ 对/ 输出/ 表达式/ 中/ 的/ 关联/ 库所/ 进行/ 替换/ ,/ 得到/ Pout1/ -/ PE/ 上/ 的/ 逻辑/ 表达式/ VEi/ ,/ 然后/ 将/ 每种/ 输出/ 方式/ 替换/ 得到/ 的/ VEi/ 进行/ 析取/ ,/ 再/ 合取/ fE2/ ,/ 得到/ Pout/ 上/ 的/ 逻辑/ 表达式/ fE/ ./ 同时/ ,/ 按照/ SCN1/ 的/ 每/ 一种/ 输出/ 方式/ 对/ fS2/ 中/ 的/ 关联/ 库所/ 进行/ 替换/ ,/ 得到/ PIn2/ -/ PE/ 上/ 的/ 逻辑/ 表达式/ VSi/ ,/ 然后/ 将/ 每种/ 输出/ 方式/ 替换/ 得到/ 的/ VSi/ 进行/ 析取/ ,/ 再/ 合取/ fS1/ ,/ 得到/ PIn/ 上/ 的/ 逻辑/ 表达式/ fS/ ./ 服务/ 簇网/ 的/ 顺序/ 运算/ 中/ 涉及/ 到/ 关联/ 库所/ 的/ 交互/ ,/ 而且/ 参数传递/ 的/ 不确定性/ 受到/ 逻辑/ 表达式/ 的/ 约束/ ./ 因此/ ,/ 不能/ 保证/ 通过/ 定义/ 15/ 组合/ 得到/ 的/ 服务/ 簇网/ ,/ 能/ 顺利/ 执行/ 并/ 得到/ 正确/ 的/ 输出/ 结果/ ./ 下面/ 对/ 顺序/ 组合/ 服务/ 簇网/ 的/ 健壮性/ 保持/ 进行/ 讨论/ ./ 引理/ 1/ ./ 设/ 逻辑/ 服务网/ LSN1/ ,/ LSN2/ ,/ LSN/ =/ LSN1/ ·/ LSN2/ ,/ p/ =/ o1/ Θ/ i2/ ,/ 在/ LSN/ 中/ ,/ 如果/ 有/ M0/ [/ t1/ ,/ t2/ ,/ …/ ,/ tk/ 〉/ Me/ ,/ Me/ ∈/ ME/ ,/ 则/ 必有/ M0/ [/ t1/ ,/ t2/ ,/ …/ ,/ ti/ 〉/ Mp/ [/ ti/ +/ 1/ ,/ …/ ,/ tk/ 〉/ Me/ ,/ Mp/ 定义/ 为/ 标识/ M/ :/ M/ (/ p/ )/ =/ 1/ ,/ / p/ ∈/ PC/ -/ {/ p/ }/ ,/ 有/ M/ (/ p/ )/ =/ 0/ ./ 证明/ ./ Mp/ 为/ 顺序/ 组合/ 前/ LSN1/ 的/ 终止/ 状态/ 和/ LSN2/ 的/ 初始状态/ ./ 在/ 顺序/ 组合/ 中/ ,/ 仅仅/ 是/ LSN1/ 的/ 输出/ 库所/ 和/ LSN2/ 的/ 输入/ 库所/ 之间/ 的/ 关联/ ,/ 并/ 没有/ 破坏/ 两个/ 逻辑/ 服务网/ 的/ 内部结构/ ./ 因此/ ,/ LSN/ 的/ LSN1/ 部分/ 运行/ 完/ 以后/ 可以/ 到达/ 状态/ Mp/ ,/ LSN2/ 部分/ 只有/ 在/ Mp/ 状态/ 下才/ 可以/ 引发/ 到达/ 终止/ 标识/ Me/ ./ 根据/ 引理/ 1/ ,/ 可以/ 将/ 组合/ 网/ 的/ 健壮性/ 分成/ 两个/ 部分/ 分别/ 讨论/ ./ 组合/ 以后/ ,/ 前序/ 部分/ 和/ 后序/ 部分/ 仍然/ 是/ 两个/ 独立/ 的/ 部分/ ,/ 在/ 运行/ 时/ 互不/ 影响/ ./ 因此/ ,/ 得到/ 以下/ 结论/ ./ 定理/ 1/ ./ 设/ 逻辑/ 服务网/ LSN1/ ,/ LSN2/ ,/ LSN/ =/ LSN1/ ·/ LSN2/ ,/ p/ =/ o1/ Θ/ i2/ ,/ 组合/ 网/ LSN/ 是/ 健壮/ 的/ 当且/ 仅/ 当/ (/ 1/ )/ 逻辑/ 服务网/ LSN1/ 是/ 健壮/ 的/ ;/ (/ 2/ )/ / M0/ ∈/ Ms/ ,/ / Mp/ ∈/ R/ (/ M0/ )/ 都/ 有/ LSN2/ 在/ Mp/ 是/ 健壮/ 的/ ./ 证明/ ./ 必要性/ ./ 若/ LSN1/ 不是/ 健壮/ 的/ ,/ 则/ 必然/ 存在/ M10/ ∈/ MS1/ ,/ 使得/ LSN1/ 对/ M10/ 不是/ 健壮/ 的/ ,/ 而/ 组合/ 以后/ ,/ LSN2/ 部分/ 对/ LSN1/ 部分/ 的/ 运行/ 不/ 产生/ 任何/ 影响/ ,/ 因此/ ,/ 必然/ 存在/ M0/ ∈/ MS/ ,/ 使得/ Mp/ / R/ (/ M0/ )/ ,/ 根据/ 引理/ 1/ ,/ 不/ 存在/ Me/ ∈/ ME/ 使得/ Me/ ∈/ R/ (/ M0/ )/ ,/ 即/ LSN/ 不是/ 健壮/ 的/ ./ 若/ / Mp/ ∈/ R/ (/ M0/ )/ 使得/ LSN2/ 在/ Mp/ 下/ 不是/ 健壮/ 的/ ,/ 显然/ LSN/ 不是/ 健壮/ 的/ ./ 充分性/ ./ / M0/ ∈/ Ms/ ,/ 由于/ 逻辑/ 服务网/ LSN1/ 是/ 健壮/ 的/ ,/ 因此/ ,/ / M/ ∈/ R/ (/ M0/ )/ ,/ 有/ Mp/ ∈/ R/ (/ M/ )/ ./ 由于/ LSN2/ 在/ Mp/ 是/ 健壮/ 的/ ,/ 因此/ ,/ / M/ ∈/ R/ (/ Mp/ )/ ,/ / Me/ ∈/ ME/ 使得/ Me/ ∈/ R/ (/ M/ )/ ,/ 即/ LSN/ 是/ 健壮/ 的/ ./ 证毕/ ./ 定理/ 1/ 中/ 的/ 第/ (/ 1/ )/ 个/ 条件/ 容易/ 得到/ ./ 第/ (/ 2/ )/ 个/ 条件/ 需要/ 作/ 深入分析/ ,/ LSN1/ 的/ 输出/ 库所要/ 受到/ 输出/ 表达式/ 的/ 限制/ ,/ LSN2/ 的/ 输入/ 库所要/ 受到/ 输入/ 表达式/ 的/ 限制/ ,/ 因此/ ,/ 需要/ 对/ 表达式/ 进行/ 分析/ ,/ 首先/ 作/ 以下/ 定义/ ./ 定义/ 16/ ./ 投影/ 映射/ ./ 设/ X/ 、/ Y/ 是/ 两个/ 字母表/ ,/ Y/ / X/ ./ 称/ 映射/ Γ/ X/ →/ Y/ :/ X/ / →/ Y/ / 为/ X/ →/ Y/ 的/ 一个/ 投影/ Page9/ 映射/ ,/ / σ/ ∈/ X/ / ,/ Γ/ X/ →/ Y/ (/ σ/ )/ 表示/ 从/ σ/ 中/ 删除/ X/ -/ Y/ 中/ 的/ 所有/ 字符/ 后/ 的/ 剩余/ 子串/ ./ 设/ 逻辑/ 服务网/ LSN/ 的/ 标识/ M/ ,/ Γ/ P/ →/ P1/ (/ M/ )/ 表示/ 服务网/ LSN/ 的/ LSN1/ 部分/ 的/ 对应/ 标识/ 珨/ M/ ./ 定义/ 17/ ./ 公平性/ ./ 设/ X/ 、/ Y/ 是/ 两个/ 字母表/ ,/ X/ / Y/ ,/ fX/ 、/ fY/ 分别/ 是/ X/ 、/ Y/ 上/ 的/ 逻辑/ 表达式/ ,/ R/ (/ fX/ )/ 、/ R/ (/ fY/ )/ 表示/ fX/ 、/ fY/ 的/ 标准/ 析取范式/ 的/ 合取/ 式/ 的/ 集合/ ./ / fX1/ ,/ fX2/ ∈/ R/ (/ fX/ )/ ,/ 如果/ 存在/ X/ -/ Y/ 上/ 的/ 合取/ 式/ f/ (/ X/ -/ Y/ )/ 1/ ,/ 使得/ fX1/ ∧/ f/ (/ X/ -/ Y/ )/ 1/ ∈/ R/ (/ fY/ )/ ,/ 则/ 必有/ fX2/ ∧/ f/ (/ X/ -/ Y/ )/ 1/ ∈/ R/ (/ fY/ )/ ,/ 则/ 称/ 合取/ 式/ fX1/ 和/ fX2/ 在/ R/ (/ fY/ )/ 上/ 是/ 公平/ 的/ ./ 如果/ / fXi/ ,/ fXj/ ∈/ R/ (/ fX/ )/ ,/ 都/ 有/ fXi/ ,/ fXj/ 在/ R/ (/ fY/ )/ 上/ 是/ 公平/ 的/ ,/ 则/ 称/ R/ (/ fX/ )/ 在/ R/ (/ fY/ )/ 上/ 是/ 公平/ 的/ ./ 例如/ ,/ f1/ =/ P1/ ∨/ P2/ ,/ f2/ =/ P1/ ∨/ (/ P2/ ∧/ P3/ )/ ,/ f3/ =/ P1/ ∧/ (/ P2/ ∨/ P3/ )/ ,/ 则/ 有/ R/ (/ f1/ )/ =/ {/ P1/ ∧/ P2/ ,/ P1/ ∧/ / P2/ ,/ / P1/ ∧/ P2/ }/ ,/ R/ (/ f2/ )/ =/ {/ P1/ ∧/ P2/ ∧/ P3/ ,/ P1/ ∧/ P2/ ∧/ / P3/ ,/ P1/ ∧/ / P2/ ∧/ P3/ ,/ P1/ ∧/ / P2/ ∧/ / P3/ ,/ / P1/ ∧/ P2/ ∧/ P3/ }/ ,/ R/ (/ f3/ )/ =/ {/ P1/ ∧/ P2/ ∧/ P3/ ,/ P1/ ∧/ P2/ ∧/ / P3/ ,/ P1/ ∧/ / P2/ ∧/ P3/ }/ ,/ 容易/ 验证/ ,/ R/ (/ f1/ )/ 在/ R/ (/ f2/ )/ 上/ 是/ 公平/ 的/ ./ 对/ 合取/ 式/ f11/ =/ P1/ ∧/ P2/ ,/ f12/ =/ / P1/ ∧/ P2/ ,/ f11/ ∧/ P3/ ∈/ R/ (/ f3/ )/ 且/ f12/ ∧/ P3/ / R/ (/ f3/ )/ ,/ 因此/ f11/ 和/ f12/ 在/ R/ (/ f3/ )/ 上/ 不/ 满足/ 公平/ 关系/ ,/ R/ (/ f1/ )/ 在/ R/ (/ f3/ )/ 上/ 不是/ 公平/ 的/ ./ 定理/ 2/ ./ 设/ X/ 、/ Y/ 是/ 两个/ 字母表/ ,/ X/ / Y/ ,/ fX/ 、/ fY/ 分别/ 是/ X/ 、/ Y/ 上/ 的/ 逻辑/ 表达式/ ,/ R/ (/ fX/ )/ 、/ R/ (/ fY/ )/ 表示/ fX/ 、/ fY/ 的/ 标准/ 析取范式/ 的/ 合取/ 式/ 的/ 集合/ ,/ 如果/ / Y/ -/ X/ 上/ 的/ 表达式/ fY/ -/ X/ ,/ 使得/ fY/ =/ fX/ ∧/ fY/ -/ X/ ,/ 则/ R/ (/ fX/ )/ 在/ R/ (/ fY/ )/ 上/ 是/ 公平/ 的/ ./ 证明/ ./ 记/ fX/ 的/ 标准/ 析取范式/ 为/ fX1/ ∨/ fX2/ ∨/ …/ ∨/ fXm/ ,/ fY/ -/ X/ 的/ 标准/ 析取范式/ 为/ f/ (/ Y/ -/ X/ )/ 1/ ∨/ f/ (/ Y/ -/ X/ )/ 2/ ∨/ …/ ∨/ f/ (/ Y/ -/ X/ )/ m/ ,/ 则/ fY/ =/ fX/ ∧/ fY/ -/ X/ =/ (/ fX1/ ∨/ fX2/ ∨/ …/ ∨/ fXm/ )/ ∧/ (/ f/ (/ Y/ -/ X/ )/ 1/ ∨/ f/ (/ Y/ -/ X/ )/ 2/ ∨/ …/ ∨/ f/ (/ Y/ -/ X/ )/ m/ )/ =/ (/ fX1/ ∧/ f/ (/ Y/ -/ X/ )/ 1/ )/ ∨/ (/ fX1/ ∧/ f/ (/ Y/ -/ X/ )/ 2/ )/ ∨/ …/ ∨/ (/ fX1/ ∧/ f/ (/ Y/ -/ X/ )/ m/ )/ ∨/ (/ fX2/ ∧/ f/ (/ Y/ -/ X/ )/ 1/ )/ ∨/ (/ fX2/ ∧/ f/ (/ Y/ -/ X/ )/ 2/ )/ ∨/ …/ ∨/ (/ fX2/ ∧/ f/ (/ Y/ -/ X/ )/ m/ )/ ∨/ …/ ∨/ (/ fXm/ ∧/ f/ (/ Y/ -/ X/ )/ 1/ )/ ∨/ (/ fXm/ ∧/ f/ (/ Y/ -/ X/ )/ 2/ )/ ∨/ …/ ∨/ (/ fXm/ ∧/ f/ (/ Y/ -/ X/ )/ m/ )/ ./ 因此/ ,/ 对于/ 任意/ 的/ fXi/ ∈/ R/ (/ fX/ )/ ,/ f/ (/ Y/ -/ X/ )/ j/ ∈/ R/ (/ fY/ -/ X/ )/ ,/ 都/ 有/ fXi/ ∧/ f/ (/ Y/ -/ X/ )/ j/ ∈/ R/ (/ fY/ )/ ./ 因此/ 可以/ 得到/ ,/ / fXi/ ,/ fXj/ ∈/ R/ (/ fX/ )/ ,/ 如果/ / fYi/ ∈/ R/ (/ fY/ )/ 使得/ fYi/ =/ fXi/ ∧/ f/ ,/ 则/ 必有/ f/ ∈/ R/ (/ fY/ -/ X/ )/ ,/ 而/ 对/ 任意/ 的/ f/ (/ Y/ -/ X/ )/ i/ ∈/ R/ (/ fY/ -/ X/ )/ ,/ 都/ 有/ fXj/ ∧/ f/ (/ Y/ -/ X/ )/ i/ ∈/ R/ (/ fY/ )/ ,/ 于是/ ,/ fXj/ ∧/ f/ ∈/ R/ (/ fY/ )/ ./ 因此/ ,/ 对于/ / fXi/ ,/ fXj/ ∈/ R/ (/ fX/ )/ ,/ 都/ 有/ fXi/ ,/ fXj/ 在/ R/ (/ fY/ )/ 上/ 是/ 公平/ 的/ ,/ 即/ R/ (/ fX/ )/ 在/ R/ (/ fY/ )/ 上/ 是/ 公平/ 的/ ./ 证毕/ ./ 有/ 了/ 投影/ 和/ 公平性/ 的/ 概念/ ,/ 可以/ 对/ 定理/ 1/ 做/ 进一步/ 研究/ ,/ 得到/ 健壮性/ 继承/ 的/ 充分/ 必要条件/ ./ 定理/ 3/ ./ 设/ LSN1/ ,/ LSN2/ ,/ LSN/ =/ LSN1/ ·/ LSN2/ ,/ p/ =/ o1/ Θ/ i2/ ,/ PE/ =/ Pout1/ ∩/ PIn2/ ,/ fE1/ =/ Γ/ Pout1/ →/ PE/ (/ fE1/ )/ ,/ fS2/ =/ Γ/ PIn2/ →/ PE/ (/ fS2/ )/ ,/ 则/ LSN/ 是/ 健壮/ 的/ ,/ 当且/ 仅/ 当/ (/ 1/ )/ LSN1/ 是/ 健壮/ 的/ ;/ (/ 2/ )/ R/ (/ fE1/ )/ / R/ (/ fS2/ )/ ;/ (/ 3/ )/ R/ (/ fE1/ )/ 在/ R/ (/ fS2/ )/ 上/ 是/ 公平/ 的/ ;/ (/ 4/ )/ / fi/ ∈/ R/ (/ fS2/ )/ ,/ 如果/ / fj/ ∈/ R/ (/ fE1/ )/ ,/ 使得/ fi/ =/ fj/ ∧/ fk/ ,/ fk/ 是/ PIn2/ -/ POut1/ 上/ 的/ 合取/ 式/ ,/ 则/ LSN2/ 关于/ fi/ 对应/ 的/ 初始/ 标识/ 是/ 健壮/ 的/ ./ 证明/ ./ 必要性/ ./ 条件/ (/ 1/ )/ 的/ 证明/ 已/ 在/ 定理/ 1/ 中/ 给出/ ,/ 下面/ 反证/ (/ 2/ )/ 、/ (/ 3/ )/ 、/ (/ 4/ )/ :/ (/ 2/ )/ 若/ R/ (/ fE1/ )/ / R/ (/ fS2/ )/ ,/ 则/ 存在/ f/ ∈/ R/ (/ fE1/ )/ ,/ Γ/ Pout1/ →/ PE/ (/ f/ )/ / R/ (/ fS2/ )/ ,/ 因此/ ,/ 若/ LSN1/ 引发/ 后/ 达到/ f/ 对应/ 的/ 终止/ 标识/ Me/ ,/ 无论/ PIn2/ 中/ 的/ 库/ 所/ 的/ 标识/ 如何/ 都/ 不能/ 满足/ fS2/ ,/ LSN2/ 不能/ 引发/ ,/ 因此/ ,/ 在/ 此种/ 情况/ 下/ ,/ LSN/ 不是/ 健壮/ 的/ ;/ (/ 3/ )/ 若/ R/ (/ fE1/ )/ 在/ R/ (/ fS2/ )/ 上/ 不是/ 公平/ 的/ ,/ 则/ 存在/ f1/ ,/ f2/ ∈/ R/ (/ fE1/ )/ ,/ f3/ ∈/ R/ (/ fS2/ )/ ,/ 使得/ f3/ =/ f1/ ∧/ f4/ ,/ 而/ f2/ ∧/ f4/ / R/ (/ fS2/ )/ ,/ 其中/ f4/ 是/ 库/ 所集/ PIn2/ 上/ 的/ 表达式/ ./ LSN1/ 中/ 存在/ 初始/ 标识/ M10/ 和/ 路径/ σ/ ,/ 使得/ M10/ [/ σ/ 〉/ M1e/ ,/ Γ/ P1/ →/ PE/ (/ M1e/ )/ =/ Mf2/ ./ 根据/ 算法/ 1/ ,/ 存在/ M0/ ∈/ MS/ ,/ Γ/ P/ →/ P1/ (/ M0/ )/ =/ M10/ ,/ Γ/ P/ →/ PIn2/ (/ M0/ )/ =/ Mf4/ ,/ M0/ [/ σ/ 〉/ Mp/ ,/ Γ/ P/ →/ PIn2/ (/ Mp/ )/ =/ Mf2/ ∧/ f4/ ,/ 由于/ f2/ ∧/ f4/ / R/ (/ fS2/ )/ ,/ LSN2/ 不能/ 引发/ ,/ LSN/ 在/ 标识/ M0/ 下/ 不是/ 健壮/ 的/ ;/ (/ 4/ )/ 设/ fi/ ∈/ R/ (/ fS2/ )/ ,/ fj/ ∈/ R/ (/ fE1/ )/ ,/ 且/ fi/ =/ fj/ ∧/ fk/ ,/ fk/ 是/ PIn2/ -/ POut1/ 上/ 的/ 合取/ 式/ ,/ 结合/ 算法/ 1/ ,/ 存在/ M0/ ∈/ MS/ 和/ 路径/ σ/ ,/ M0/ [/ σ/ 〉/ Mp/ ,/ Γ/ P/ →/ PIn2/ (/ Mp/ )/ =/ Mfi/ ,/ 假设/ LSN2/ 关于/ Mp/ 不是/ 健壮/ 的/ ,/ 则/ LSN/ 关于/ 标识/ M0/ 也/ 不是/ 健壮/ 的/ ./ 充分性/ ./ / M0/ ∈/ MS/ ,/ 由于/ LSN1/ 是/ 健壮/ 的/ ,/ 因此/ ,/ 对于/ 任意/ 的/ 路径/ σ/ ,/ Mp/ 都/ 是/ 可达/ 的/ ./ 由于/ R/ (/ fE1/ )/ / R/ (/ fS2/ )/ 且/ R/ (/ fE1/ )/ 在/ R/ (/ fS2/ )/ 上/ 是/ 公平/ 的/ ,/ 对于/ 任意/ 可达/ 的/ Mp/ 都/ 有/ Mp/ 满足/ fS2/ ,/ 因此/ LSN2/ 部分/ 一定/ 可以/ 引发/ ,/ 根据/ 条件/ (/ 4/ )/ 可以/ 得到/ ,/ 对/ M0/ 可达/ 的/ Mp/ ,/ 都/ 有/ LSN2/ 关于/ Mp/ 是/ 健壮/ 的/ ,/ 因此/ ,/ 对/ / M0/ ∈/ Ms/ ,/ / M/ ∈/ R/ (/ M0/ )/ ,/ 都/ 存在/ M/ ∈/ R/ (/ M/ )/ 且/ M/ ∈/ ME/ ,/ 因此/ LSN/ 是/ 健壮/ 的/ ./ 定理/ 3/ 给出/ 了/ 顺序/ 组合/ 之后/ 的/ 逻辑/ 服务网/ 健壮/ 的/ 充分/ 必要条件/ ,/ 通过/ 该/ 定理/ 可以/ 对/ 服务/ 簇网/ 组合/ 之后/ 的/ 完备/ 性/ 进行/ 验证/ ,/ 得到/ 下面/ 的/ 推论/ ./ 推论/ 1/ ./ 设/ 服务/ 簇网/ SCN1/ ,/ SCN2/ ,/ SCN/ =/ SCN1/ ·/ SCN2/ ,/ fE1/ =/ Γ/ Pout1/ →/ PE/ (/ fE1/ )/ ,/ fS2/ =/ Γ/ PIn2/ →/ PE/ (/ fS2/ )/ ,/ 如果/ SCN1/ 、/ SCN2/ 都/ 是/ 完备/ 的/ ,/ R/ (/ fE1/ )/ / R/ (/ fS2/ )/ ,/ 且/ R/ (/ fE1/ )/ 在/ R/ (/ fS2/ )/ 上/ 是/ 公平/ 的/ ,/ 则/ 服务/ 簇网/ SCN/ 是/ 完备/ 的/ ./ 证明/ ./ 定理/ 3/ 中/ 的/ 条件/ (/ 1/ )/ 、/ (/ 2/ )/ 、/ (/ 3/ )/ 显然/ 都/ 满/ Page10/ 足/ ,/ 如果/ LSN2/ 都/ 是/ 健壮/ 的/ ,/ 则/ 对/ 任意/ 的/ fi/ ∈/ R/ (/ fS2/ )/ ,/ LSN2/ 关于/ fi/ 对应/ 的/ 初始/ 标识/ 都/ 是/ 健壮/ 的/ ./ 因此/ 条件/ (/ 4/ )/ 也/ 满足/ ,/ LSN/ 是/ 健壮/ 的/ ,/ 因此/ ,/ SCN/ 是/ 完备/ 的/ ./ 推论/ 1/ 给出/ 了/ 服务/ 簇网/ 顺序/ 组合/ 之后/ ,/ 完备/ 性/ 继承/ 的/ 一个/ 充分条件/ ./ 如果/ 两个/ 服务/ 簇网/ 都/ 是/ 完备/ 的/ ,/ 且/ 其/ LSN/ 的/ 逻辑/ 输入/ 、/ 输出/ 表达式/ 满足/ 定理/ 3/ 中/ 的/ 条件/ (/ 2/ )/ 、/ (/ 3/ )/ ,/ 则/ 顺序/ 组合/ 之后/ 的/ 服务/ 簇网/ 仍然/ 是/ 完备/ 的/ ./ 推论/ 2/ ./ 设/ 服务/ 簇网/ SCN1/ ,/ SCN2/ ,/ SCN/ =/ SCN1/ ·/ SCN2/ ,/ fE1/ =/ Γ/ Pout1/ →/ PE/ (/ fE1/ )/ ,/ 如果/ SCN1/ 和/ SCN2/ 都/ 是/ 完备/ 的/ ,/ 且/ 存在/ PIn2/ -/ POut1/ 上/ 的/ 表达式/ f/ ,/ 使得/ fS2/ =/ fE1/ ∧/ f/ ,/ 则/ SCN/ 是/ 完备/ 的/ ./ 证明/ ./ 如果/ 存在/ PIn2/ -/ POut1/ 上/ 的/ 表达式/ f/ ,/ 使得/ fS2/ =/ fE1/ ∧/ f/ ,/ 则/ fS2/ =/ Γ/ PIn2/ →/ PE/ (/ fS2/ )/ =/ Γ/ PIn2/ →/ PE/ (/ fE1/ ∧/ f/ )/ =/ Γ/ PIn2/ →/ PE/ (/ fE1/ )/ ∧/ Γ/ PIn2/ →/ PE/ (/ f/ )/ ,/ 由于/ fE1/ 是/ PE/ 上/ 的/ 表达式/ ,/ 因此/ 再/ 做/ 投影/ 时/ 不变/ ,/ 即/ Γ/ PIn2/ →/ PE/ (/ fE1/ )/ =/ fE1/ ,/ f/ 是/ PE/ 上/ 的/ 表达式/ ,/ 因此/ 往/ 集合/ PE/ 上/ 做/ 投影/ 时为/ 空/ 表达式/ ,/ 因此/ fE1/ =/ fS2/ ,/ 显然/ R/ (/ fE1/ )/ / R/ (/ fS2/ )/ ./ 由/ 定理/ 2/ 知/ ,/ R/ (/ fE1/ )/ 在/ R/ (/ fS2/ )/ 上/ 是/ 公平/ 的/ ,/ 结合/ 推论/ 1/ 可以/ 得到/ ,/ SCN/ 是/ 完备/ 的/ ./ 证毕/ ./ 由/ 推论/ 2/ 知/ ,/ 如果/ 两个/ 服务/ 簇网/ 都/ 是/ 完备/ 的/ ,/ 且/ 前序/ LSN/ 的/ 逻辑/ 输出/ 表达式/ 在/ 关联/ 库所集/ 上/ 做/ 投影/ 后/ ,/ 是/ 后序/ LSN/ 的/ 逻辑/ 输入/ 表达式/ 的/ 前序/ 表达式/ ,/ 则/ 顺序/ 组合/ 之后/ 的/ 服务/ 簇网/ 仍然/ 是/ 完备/ 的/ ./ 5.3/ ./ 3/ 选择/ 运算/ 当/ 两种/ 功能/ 的/ 服务/ 都/ 可以/ 满足用户/ 需求/ ,/ 用户/ 需要/ 选择/ 其中/ 的/ 一种/ 服务/ 时/ ,/ 需要/ 进行/ 选择/ 运算/ ./ 例如/ ,/ 在/ 旅游/ 订票/ 系统/ 中/ ,/ 用户/ 既/ 可以/ 乘坐/ 飞机/ 到达/ 目的地/ ,/ 也/ 可以/ 乘坐/ 火车/ 到达/ 目的地/ ./ 此时/ ,/ 需要/ 对/ 机票/ 预订/ 和/ 火车票/ 预订/ 的/ 服务/ 簇网/ 进行/ 选择/ 运算/ 组合/ ,/ 选择/ 运算/ 模型/ 如图/ 8/ 所示/ ./ 定义/ 18/ ./ 选择/ 运算/ ./ SCN/ =/ SCN1/ / SCN2/ =/ (/ NID/ ,/ BI/ ,/ NF/ ,/ NS/ ,/ LSN/ )/ 表示/ 服务/ 簇网/ SCN1/ 和/ SCN2/ 进行/ 选择/ 运算/ ,/ 其中/ :/ (/ 1/ )/ NID/ 表示/ 组合/ 得到/ 的/ 新/ 服务/ 簇网/ 的/ 标识/ ;/ (/ 2/ )/ BI/ 表示/ 组合/ 得到/ 的/ 新/ 服务/ 簇网/ 的/ 基本/ 信息/ (/ 3/ )/ NF/ 表示/ 组合/ 得到/ 的/ 新/ 服务/ 簇网/ 的/ 功能/ 语/ (/ 4/ )/ NS/ =/ NS1/ ∪/ NS2/ ;/ (/ 5/ )/ LSN/ =/ (/ P/ ,/ T/ ,/ F/ ,/ I/ ,/ O/ ,/ fS/ ,/ fE/ )/ ,/ 其中/ :/ ①/ P/ =/ P1/ ∪/ P2/ ,/ 其中/ ,/ i/ =/ i1/ Θ/ i2/ ,/ o/ =/ o1/ Θ/ o2/ ,/ PIn/ =/ 义/ 描述/ ;/ 描述/ ;/ PIn1/ ∪/ PIn2/ ,/ Pout/ =/ Pout1/ ∪/ Pout2/ ;/ I/ (/ t/ )/ =/ fI/ 是/ 一个/ 逻辑/ 输入/ 表达式/ ;/ O/ (/ t/ )/ =/ fO/ 是/ 一个/ 逻辑/ 输出/ 表达式/ ;/ ②/ T/ =/ T1/ ∪/ T2/ ;/ ③/ F/ =/ F1/ ∪/ F2/ ;/ ④/ I/ 是/ 一个/ 逻辑/ 限制/ 输入/ 函数/ ,/ 使/ 对/ / t/ ∈/ T/ :/ ⑤/ O/ 是/ 一个/ 逻辑/ 限制/ 输出/ 函数/ ,/ 使/ 对/ / t/ ∈/ T/ :/ ⑥/ fS/ =/ fS1/ ∨/ fS2/ ;/ ⑦/ fE/ =/ fE1/ ∨/ 0fE2/ ,/ 符号/ ∨/ 0/ 表示/ 一种/ 特殊/ 的/ 或/ 运算/ ,/ 当且/ 仅/ 当/ fE1/ 为/ 真且/ fE2/ 中未/ 在/ fE1/ 中/ 出现/ 的/ 库/ 所/ 的/ 真值/ 都/ 为/ 假/ 或/ fE2/ 为/ 真且/ fE1/ 中未/ 在/ fE2/ 中/ 出现/ 的/ 库/ 所/ 的/ 真值/ 都/ 为/ 假时/ ,/ fE/ 为/ 真/ ./ 通过/ 选择/ 运算/ 的/ 定义/ 描述/ ,/ 可以/ 看出/ ,/ 选择/ 运算/ 中/ 不/ 涉及/ 关联/ 库所/ 的/ 交互/ ,/ 容易/ 得到/ 以下/ 结论/ ./ 定理/ 4/ ./ 设/ 服务/ 簇网/ SCN1/ ,/ SCN2/ ,/ SCN/ =/ SCN1/ / SCN2/ ,/ 则/ SCN/ 是/ 完备/ 的/ ,/ 当且/ 仅/ 当/ SCN1/ 和/ SCN2/ 都/ 是/ 完备/ 的/ ./ 证明/ ./ 充分性/ ./ 如果/ SCN1/ 和/ SCN2/ 都/ 是/ 完备/ 的/ ,/ 则/ LSN1/ 和/ LSN2/ 都/ 是/ 健壮/ 的/ ./ 由于/ fS/ =/ fS1/ ∨/ fS2/ ,/ 因此/ ,/ / M0/ ∈/ Ms/ 必然/ 有/ LSN1/ 或/ LSN2/ 可以/ 执行/ ,/ 不妨/ 设/ LSN1/ 执行/ ,/ 由于/ LSN1/ 是/ 健壮/ 的/ ,/ 因此/ 一定/ 能够/ 到达/ 终止/ 状态/ Me/ ,/ 使/ fE1/ 为/ 真/ ./ 由于/ LSN2/ 不能/ 引发/ ,/ 因此/ ,/ / p/ ∈/ POut2/ -/ POut1/ ,/ Me/ (/ p/ )/ =/ 0/ ,/ 所以/ 有/ fE/ |/ Me/ =/ ·/ T/ ·/ ,/ 且/ / p/ ∈/ PC/ -/ {/ o/ }/ ,/ M/ (/ p/ )/ =/ 0/ ,/ M/ (/ o/ )/ =/ 1/ ,/ 因此/ LSN/ 是/ 健壮/ 的/ ,/ 即/ SCN/ 是/ 完备/ 的/ ./ 必要性/ 反证/ ./ 如果/ 其中/ 任意/ 一个/ 子/ 服务/ 簇网/ 不是/ 完备/ 的/ ,/ 不妨/ 设/ SCN1/ 不/ 完备/ ,/ 则/ 在/ LSN1/ 中/ ,/ / M01/ ∈/ Ms1/ ,/ 使得/ LSN1/ 在/ M01/ 不是/ 健壮/ 的/ ./ 由于/ fS/ =/ fS1/ ∨/ fS2/ ,/ 因此/ ,/ 存在/ M0/ ∈/ Ms/ ,/ / p/ ∈/ P1/ ,/ M0/ (/ p/ )/ =/ M01/ (/ p/ )/ 且/ fS2/ |/ M0/ =/ ·/ F/ ·/ ,/ 在/ M0/ 只有/ LSN1/ 时/ 可以/ 执行/ ,/ 由于/ LSN1/ 不是/ 健壮/ 的/ ,/ 因此/ 终止/ 状态/ 不可/ 达/ ,/ 即/ LSN/ 不是/ 健壮/ 的/ ,/ SCN/ 不是/ 完备/ 的/ ./ 证毕/ ./ 5.3/ ./ 4/ 任意/ 顺序/ 运算/ 任意/ 顺序/ 运算/ 表示/ 两个/ 服务/ 进行/ 顺序/ 组合/ 运/ Page11/ 算/ ,/ 但/ 运算/ 的/ 顺序/ 是/ 任意/ 的/ ./ 比如/ ,/ 在/ 网上/ 购物/ 系统/ 中/ ,/ 付款/ 服务/ 和/ 发货/ 服务/ 进行/ 顺序/ 组合/ ,/ 既/ 可以/ 先/ 付款/ 后/ 发货/ ,/ 也/ 可以/ 先/ 发货/ 后/ 付款/ ./ 值得注意/ 的/ 是/ ,/ 参与/ 任意/ 顺序/ 组合/ 的/ 两个/ 服务/ 不能/ 有/ 参数/ 依赖/ 关系/ ./ 定义/ 19/ ./ 任意/ 顺序/ 运算/ ./ SCN/ =/ SCN1/ ◇/ SCN2/ =/ (/ NID/ ,/ BI/ ,/ NF/ ,/ NS/ ,/ LSN/ )/ 表示/ 服务/ 簇网/ SCN1/ 和/ SCN2/ 进行/ 任意/ 顺序/ 运算/ ,/ 其中/ :/ (/ 1/ )/ NID/ 表示/ 组合/ 得到/ 的/ 新/ 服务/ 簇网/ 的/ 标识/ ;/ (/ 2/ )/ BI/ 表示/ 组合/ 得到/ 的/ 新/ 服务/ 簇网/ 的/ 基本/ 信息/ (/ 3/ )/ NF/ 表示/ 组合/ 得到/ 的/ 新/ 服务/ 簇网/ 的/ 功能/ 语/ (/ 4/ )/ NS/ =/ NS1/ ∪/ NS2/ ;/ (/ 5/ )/ LSN/ =/ (/ P/ ,/ T/ ,/ F/ ,/ I/ ,/ O/ ,/ fS/ ,/ fE/ )/ ,/ 其中/ :/ ①/ P/ =/ P1/ ∪/ P2/ ∪/ {/ i/ ,/ o/ ,/ p1/ ~/ 5/ }/ ,/ PIn/ =/ PIn1/ ∪/ PIn2/ ∪/ ②/ T/ =/ T1/ ∪/ T2/ ∪/ {/ t1/ ~/ 6/ }/ ;/ ③/ F/ =/ F1/ ∪/ F2/ ,/ 新加/ 控制/ 变迁/ 和/ 控制/ 库所/ 的/ 流/ {/ i/ }/ -/ {/ i1/ ,/ i2/ }/ ,/ Pout/ =/ Pout1/ ∪/ Pout2/ ∪/ {/ o/ }/ -/ {/ o1/ ,/ o2/ }/ ;/ 关系/ 如图/ 9/ 所示/ ;/ 描述/ ;/ 义/ 描述/ ;/ ④/ I/ 是/ 一个/ 逻辑/ 限制/ 输入/ 函数/ ,/ 使/ 对/ / t/ ∈/ T/ :/ I/ (/ t/ )/ =/ fI/ 是/ 一个/ 逻辑/ 输入/ 表达式/ ;/ ⑤/ O/ 是/ 一个/ 逻辑/ 限制/ 输出/ 函数/ ,/ 使/ 对/ / t/ ∈/ T/ :/ O/ (/ t/ )/ =/ fO/ 是/ 一个/ 逻辑/ 输出/ 表达式/ ;/ ⑥/ fS/ =/ fS1/ ∧/ fS2/ (/ i1/ →/ i/ ,/ i2/ →/ i/ )/ ;/ ⑦/ fE/ =/ fE1/ ∧/ fE2/ (/ o1/ →/ o/ ,/ o2/ →/ o/ )/ ./ 分析/ 可以/ 得到/ 任意/ 顺序/ 运算/ SCN/ =/ SCN1/ ◇/ SCN2/ 等价/ 于/ (/ SCN1/ ·/ SCN2/ )/ / (/ SCN2/ ·/ SCN1/ )/ ,/ 任意/ 顺序/ 运算/ 可以/ 通过/ 调用/ 顺序/ 运算/ 和/ 选择/ 运算/ 得到/ ./ 然而/ ,/ 任意/ 顺序/ 运算/ 仍然/ 是/ 有/ 必要/ 的/ ,/ 因为/ 模型/ SCN/ =/ SCN1/ ◇/ SCN2/ 相对/ 于/ (/ SCN1/ ·/ SCN2/ )/ / (/ SCN2/ ·/ SCN1/ )/ 来说/ ,/ 即/ 高效/ 又/ 简洁/ ,/ 尤其/ 是/ 在/ 网/ 系统/ 庞大/ 而/ 复杂/ 的/ 情况/ 下/ ,/ 优势/ 更为/ 突出/ ./ 由于/ 参与/ 任意/ 顺序/ 组合/ 的/ 两个/ 服务/ 不能/ 有/ 参数/ 依赖/ 关系/ ,/ 因此/ ,/ 组合/ 过程/ 中/ 不/ 涉及/ 关联/ 库所/ 交互/ ./ 组合/ 网/ 能够/ 继承/ 组合/ 子网/ 的/ 完备/ 性/ ./ 定理/ 5/ ./ 设/ 服务/ 簇网/ SCN1/ ,/ SCN2/ ,/ SCN/ =/ SCN1/ ◇/ SCN2/ ,/ 则/ SCN/ 是/ 完备/ 的/ ,/ 当且/ 仅/ 当/ SCN1/ 和/ SCN2/ 都/ 是/ 完备/ 的/ ./ 证明/ ./ 充分性/ ./ 服务/ 簇网/ LSN1/ 和/ LSN2/ 是/ 任意/ 顺序/ 执行/ 的/ ,/ 不妨/ 设先/ 执行/ LSN1/ 到达/ 状态/ M1/ ,/ 后/ 执行/ LSN2/ 到达/ 状态/ M2/ ./ 由于/ SCN1/ 是/ 完备/ 的/ ,/ 因此/ ,/ 一定/ 有/ fE1/ |/ M1/ =/ ·/ T/ ·/ ,/ / p/ ∈/ PC1/ ,/ M1/ (/ p/ )/ =/ 0/ ,/ fE2/ |/ M2/ =/ ·/ T/ ·/ ,/ / p/ ∈/ PC2/ ,/ M2/ (/ p/ )/ =/ 0/ ,/ M2/ [/ t5/ ,/ t6/ 〉/ Me/ ./ 根据/ 图/ 9/ 所示/ 模型/ ,/ 容易/ 验证/ Me/ (/ o/ )/ =/ 1/ ,/ / p/ ∈/ {/ i/ ,/ i1/ ~/ 2/ ,/ o1/ ~/ 2/ ,/ p1/ ~/ 5/ }/ ,/ Me/ (/ p/ )/ =/ 0/ ,/ 由于/ fE/ =/ fE1/ ∧/ fE2/ (/ o1/ →/ o/ ,/ o2/ →/ o/ )/ ,/ 所以/ fE/ |/ Me/ =/ ·/ T/ ·/ ,/ 因此/ ,/ LSN/ 是/ 健壮/ 的/ ,/ 即/ SCN/ 是/ 完备/ 的/ ./ 必要性/ 反证/ ./ 如果/ 任意/ 一/ 子网/ 不是/ 完备/ 的/ ,/ 不妨/ 设/ SCN1/ 不/ 完备/ ,/ 则/ / M0/ ∈/ Ms/ ,/ M/ ∈/ R/ (/ M0/ )/ 使得/ / M/ ∈/ R/ (/ M/ )/ ,/ 都/ 有/ Γ/ P/ →/ P1/ (/ M/ )/ / Me1/ ,/ 因此/ ,/ M/ / Me/ ,/ 即/ SCN/ 不是/ 完备/ 的/ ./ 根据/ 定理/ 5/ ,/ 如果/ 服务/ 簇网/ 之间/ 没有/ 参数/ 依赖/ 的/ 关系/ ,/ 则/ 它们/ 通过/ 任意/ 顺序/ 运算/ 组合/ 之后/ 是/ 完备/ 的/ 当且/ 仅/ 当/ 这/ 两个/ 服务/ 簇网/ 都/ 是/ 完备/ 的/ ./ 5.3/ ./ 5/ 并发/ 运算/ 如果/ 完成/ 用户/ 的/ 请求/ ,/ 需要/ 调用/ 两个/ 服务/ ,/ 且/ 这/ 两个/ 服务/ 之间/ 互不/ 影响/ ,/ 不/ 存在/ 依赖/ 关系/ ,/ 此时/ ,/ 需要/ 运用/ 并发/ 运算/ 对/ 这/ 两个/ 服务/ 簇网/ 进行/ 组合/ ./ 并发/ 运算/ 用于/ 描述/ 两个/ 服务/ 簇网/ 处于/ 并发/ 的/ 关系/ ,/ 且/ 运行/ 时/ 不/ 存在/ 交互/ 的/ 情形/ ./ 比如/ ,/ 旅游/ 订票/ 系统/ 中/ ,/ 用户/ 预订/ 汽车票/ 和/ 预订/ 旅馆/ 的/ 服务/ 互不/ 影响/ ,/ 不/ 存在/ 依赖/ 关系/ ,/ 此时/ ,/ 需要/ 运用/ 并发/ 运算/ 将/ 两种/ 功能/ 的/ 服务/ 簇网/ 组合/ 起来/ ,/ 并发/ 运算/ 模型/ 如图/ 10/ 所示/ ./ 定义/ 20/ ./ 并发/ 运算/ ./ SCN1/ ‖/ SCN2/ =/ (/ NID/ ,/ BI/ ,/ NF/ ,/ NS/ ,/ LSN/ )/ 表示/ 服务/ 簇网/ SCN1/ 和/ SCN2/ 进行/ 并发/ 运算/ ,/ 其中/ :/ Page12/ 描述/ ;/ 义/ 描述/ ;/ {/ i/ }/ -/ {/ i1/ ,/ i2/ }/ ,/ Pout/ =/ Pout1/ ∪/ Pout2/ ∪/ {/ o/ }/ -/ {/ o1/ ,/ o2/ }/ ;/ (/ 1/ )/ NID/ 表示/ 组合/ 得到/ 的/ 新/ 服务/ 簇网/ 的/ 标识/ ;/ (/ 2/ )/ BI/ 表示/ 组合/ 得到/ 的/ 新/ 服务/ 簇网/ 的/ 基本/ 信息/ (/ 3/ )/ NF/ 表示/ 组合/ 得到/ 的/ 新/ 服务/ 簇网/ 的/ 功能/ 语/ (/ 4/ )/ NS/ =/ NS1/ ∪/ NS2/ ;/ (/ 5/ )/ LSN/ =/ (/ P/ ,/ T/ ,/ F/ ,/ I/ ,/ O/ ,/ fS/ ,/ fE/ )/ ,/ 其中/ :/ ①/ P/ =/ P1/ ∪/ P2/ ∪/ {/ i/ ,/ o/ }/ ,/ 其中/ ,/ PIn/ =/ PIn1/ ∪/ PIn2/ ∪/ ②/ T/ =/ T1/ ∪/ T2/ ∪/ {/ t1/ ,/ t2/ }/ ;/ ③/ F/ =/ F1/ ∪/ F2/ ∪/ {/ 〈/ i/ ,/ t1/ 〉/ ,/ 〈/ t1/ ,/ i1/ 〉/ ,/ 〈/ t1/ ,/ i2/ 〉/ ,/ 〈/ o1/ ,/ t2/ 〉/ ,/ 〈/ o2/ ,/ t2/ 〉/ ,/ 〈/ t2/ ,/ o/ 〉/ }/ ;/ ④/ I/ 是/ 一个/ 逻辑/ 限制/ 输入/ 函数/ ,/ 使/ 对/ / t/ ∈/ T/ :/ I/ (/ t/ )/ =/ fI/ 是/ 一个/ 逻辑/ 输入/ 表达式/ ;/ ⑤/ O/ 是/ 一个/ 逻辑/ 限制/ 输出/ 函数/ ,/ 使/ 对/ / t/ ∈/ T/ :/ O/ (/ t/ )/ =/ fO/ 是/ 一个/ 逻辑/ 输出/ 表达式/ ;/ ⑥/ fS/ =/ fS1/ ∧/ fS2/ (/ i1/ →/ i/ ,/ i2/ →/ i/ )/ ;/ ⑦/ fE/ =/ fE1/ ∧/ fE2/ (/ o1/ →/ o/ ,/ o2/ →/ o/ )/ ./ 由于/ 参与/ 并发/ 运算/ 的/ 两个/ 服务/ 簇网/ 之间/ 互不/ 影响/ ,/ 不/ 存在/ 参数/ 依赖/ 关系/ ,/ 服务网/ 运行/ 时/ 不/ 存在/ 参数/ 交互/ ,/ 因此/ ,/ 在/ 并发/ 运算/ 模型/ 中/ ,/ 组合/ 服务/ 簇网/ 仍然/ 可以/ 继承/ 子网/ 的/ 完备/ 性/ ./ 定理/ 6/ ./ 设/ 服务/ 簇网/ SCN1/ ,/ SCN2/ ,/ SCN/ =/ SCN1/ ‖/ SCN2/ ,/ 则/ SCN/ 是/ 完备/ 的/ ,/ 当且/ 仅/ 当/ SCN1/ 和/ SCN2/ 都/ 是/ 完备/ 的/ ./ 证明/ ./ 充分性/ ./ 设/ SCN1/ 和/ SCN2/ 都/ 是/ 完备/ 的/ ,/ 则/ LSN1/ 和/ LSN2/ 都/ 是/ 健壮/ 的/ ,/ / M0/ ∈/ Ms/ ,/ 有/ fS/ |/ M0/ =/ ·/ T/ ·/ ./ 假设/ M0/ [/ t1/ 〉/ M1/ ,/ 则/ M1/ (/ i1/ )/ =/ 1/ ,/ M1/ (/ i2/ )/ =/ 1/ ,/ 因为/ fS/ =/ fS1/ ∧/ fS2/ (/ i1/ →/ i/ ,/ i2/ →/ i/ )/ ,/ 所以/ Γ/ P/ →/ P1/ (/ M1/ )/ ∈/ Ms1/ ,/ Γ/ P/ →/ P2/ (/ M1/ )/ ∈/ Ms2/ ,/ LSN1/ 和/ LSN2/ 都/ 是/ 健壮/ 的/ ,/ 因此/ ,/ / M/ ∈/ R/ (/ M1/ )/ ,/ 都/ 有/ 存在/ M/ ∈/ R/ (/ M/ )/ ,/ 且/ Γ/ P/ →/ P1/ (/ M/ )/ ∈/ ME1/ ,/ Γ/ P/ →/ P2/ (/ M/ )/ ∈/ ME2/ ,/ 假设/ M/ [/ t2/ 〉/ Me/ ,/ 由于/ fE/ =/ fE1/ ∧/ fE2/ (/ o1/ →/ o/ ,/ o2/ →/ o/ )/ ,/ 因此/ fE/ |/ Me/ =/ ·/ T/ ·/ ,/ 且/ / p/ ∈/ PC1/ ∪/ PC2/ ∪/ {/ i/ }/ ,/ 有/ Me/ (/ p/ )/ =/ 0/ ,/ 因此/ ,/ LSN/ 是/ 健壮/ 的/ ,/ 即/ 服务/ 簇网/ SCN/ 是/ 完备/ 的/ ./ 必要性/ 反证/ ./ 如果/ 任意/ 一/ 子网/ 不是/ 完备/ 的/ ,/ 不妨/ 设/ SCN1/ 不/ 完备/ ,/ 则/ / M0/ ∈/ Ms/ ,/ 使得/ M0/ [/ t1/ 〉/ M1/ ,/ LSN1/ 对/ 标识/ Γ/ P/ →/ P2/ (/ M1/ )/ 不是/ 健壮/ 的/ ,/ 因此/ ,/ / M/ ∈/ R/ (/ M1/ )/ ,/ 使得/ / M/ ∈/ R/ (/ M/ )/ ,/ 都/ 有/ Γ/ P/ →/ P1/ (/ M/ )/ / ME1/ ,/ 由于/ fE/ =/ fE1/ ∧/ fE2/ (/ o1/ →/ o/ ,/ o2/ →/ o/ )/ ,/ 因此/ LSN/ 的/ 终止/ 标识/ 不可/ 达/ ,/ 即/ SCN/ 不是/ 完备/ 的/ ./ 证毕/ ./ 本/ 小节/ 只/ 给出/ 了/ 不/ 含/ 交互/ 的/ 并发/ 运算/ 的/ 组合/ 模型/ 及其/ 完备/ 性/ 分析/ ,/ 实际/ 系统/ 中/ 存在/ 含/ 交互/ 的/ 并发/ 运算/ 的/ 组合/ ,/ 可以/ 先对/ 两个/ 服务/ 簇网/ 进行/ 拆分/ ,/ 然后/ 通过/ 多次/ 顺序/ 运算/ 和/ 并发/ 运算/ 进行/ 组合/ ./ 5.3/ ./ 6/ 迭代/ 运算/ 迭代/ 运算/ 用于/ 描述/ 重复/ 执行/ 一个/ 服务/ 操作/ 的/ 情形/ ./ 例如/ ,/ 旅客/ 调用/ 宾馆/ 预订/ 服务/ 时/ ,/ 如果/ 旅客/ 对/ 所订/ 宾馆/ 并/ 不/ 满意/ ,/ 需要/ 再次/ 调用/ 宾馆/ 预订/ 服务/ 重新/ 预订/ ,/ 直到/ 找到/ 旅客/ 满意/ 的/ 宾馆/ 为止/ ,/ 迭代/ 运算/ 模型/ 如图/ 11/ 所示/ ./ 描述/ ;/ Pout1/ ;/ 义/ 描述/ ;/ 定义/ 21/ ./ 迭代/ 运算/ ./ SCN/ =/ μ/ SCN1/ =/ (/ NID/ ,/ BI/ ,/ NF/ ,/ NS/ ,/ LSN/ )/ 表示/ 对/ 服务/ 簇网/ SCN1/ 进行/ 迭代/ 运算/ ,/ 其中/ :/ (/ 1/ )/ NID/ 表示/ 组合/ 得到/ 的/ 新/ 服务/ 簇网/ 的/ 标识/ ;/ (/ 2/ )/ BI/ 表示/ 组合/ 得到/ 的/ 新/ 服务/ 簇网/ 的/ 基本/ 信息/ (/ 3/ )/ NF/ 表示/ 组合/ 得到/ 的/ 新/ 服务/ 簇网/ 的/ 功能/ 语/ (/ 4/ )/ NS/ =/ NS1/ ;/ (/ 5/ )/ LSN/ =/ (/ P/ ,/ T/ ,/ F/ ,/ I/ ,/ O/ ,/ fS/ ,/ fE/ )/ ,/ 其中/ :/ ①/ P/ =/ P1/ ,/ 其中/ ,/ i/ =/ i1/ ,/ o/ =/ o1/ ,/ PIn/ =/ PIn1/ ,/ Pout/ =/ ②/ T/ =/ T1/ ∪/ {/ t/ }/ ;/ ③/ F/ =/ F1/ ∪/ {/ 〈/ o/ ,/ t/ 〉/ ,/ 〈/ t/ ,/ i/ 〉/ }/ ;/ ④/ I/ 是/ 一个/ 逻辑/ 限制/ 输入/ 函数/ ,/ 使/ 对/ / t/ ∈/ T/ :/ I/ (/ t/ )/ =/ fI/ 是/ 一个/ 逻辑/ 输入/ 表达式/ ;/ ⑤/ O/ 是/ 一个/ 逻辑/ 限制/ 输出/ 函数/ ,/ 使/ 对/ / t/ ∈/ T/ :/ O/ (/ t/ )/ =/ fO/ 是/ 一个/ 逻辑/ 输出/ 表达式/ ;/ ⑥/ fS/ =/ fS1/ ;/ ⑦/ fE/ =/ fE1/ ./ 迭代/ 运算/ 在/ 服务/ 簇网/ 中/ 添加/ 连接/ 终/ 控制/ 库所/ o/ 和源/ 控制/ 库所/ i/ 的/ 控制/ 变迁/ t/ ,/ 使得/ 服务/ 簇网/ 由/ 终止/ 状态/ 返回/ 到/ 初始状态/ ,/ 实现/ 重复/ 操作/ ./ 由于/ 服务/ 簇网/ 通过/ 迭代/ 运算/ 组合/ 之后/ ,/ 其/ 逻辑/ 服务网/ 的/ 内部结构/ 并/ 没有/ 改变/ ,/ 重复/ 执行/ 的/ 逻辑/ 服务网/ 能否/ 到达/ 终止/ 标识/ 依赖于/ 网/ 再次/ 执行/ 前/ 的/ 初始/ 标识/ ,/ 因此/ ,/ 将/ 迭代/ 运算/ 的/ 完备/ 性/ 定义/ 为/ 一次/ 执行/ 的/ 完备/ 性/ ,/ 可以/ 将/ 迭代/ 运算/ 视为/ 同一/ 服务/ 簇网/ 的/ 顺序/ 组合/ ,/ 以下/ 结论/ 显然/ 成立/ ./ 定理/ 7/ ./ 设/ 服务/ 簇网/ SCN1/ ,/ SCN/ =/ μ/ SCN1/ ,/ Page13/ 则/ SCN/ 是/ 完备/ 的/ ,/ 当且/ 仅/ 当/ SCN1/ 是/ 完备/ 的/ ./ 本节/ 只/ 讨论/ 了/ 服务/ 簇网/ 组合/ 的/ 顺序/ 运算/ 模型/ 、/ 选择/ 运算/ 模型/ 、/ 任意/ 顺序/ 运算/ 模型/ 、/ 并发/ 运算/ 模型/ 和/ 迭代/ 运算/ 模型/ ,/ 并/ 对/ 其/ 组合/ 之后/ 的/ 完备/ 性/ 进行/ 了/ 分析/ ./ 更/ 多/ 复杂/ 的/ 组合/ 结构/ ,/ 都/ 可以/ 通过/ 以上/ 5/ 种/ 组合/ 模型/ 得到/ ./ 对于/ 多个/ 服务/ 簇网/ 组合/ ,/ 可以/ 通过/ 不断/ 地/ 两/ 两/ 组合/ 得到/ ./ 显然/ ,/ 以上/ 5/ 种/ 代数/ 运算/ 对于/ 服务/ 簇网/ 是/ 封闭/ 的/ ./ 5.4/ 代数/ 性质/ 逻辑/ Petri/ 网/ 模型/ 可以/ 对/ 服务/ 簇网/ 进行/ 形式化/ 建模/ 、/ 分析/ 和/ 验证/ ./ 而/ 服务/ 代数/ 在/ 服务/ 簇网/ 组合/ 的/ 结构/ 层面/ 上/ ,/ 对/ 服务/ 簇网/ 的/ 组合/ 进行/ 描述/ ./ 它/ 可以/ 清楚/ 地/ 刻画/ 服务/ 簇网/ 组合/ 的/ 结构/ ,/ 对于/ 代数/ 性质/ 的/ 分析/ 可以/ 简化/ 服务/ 簇网/ 系统/ 规模/ ,/ 有效/ 降低/ 系统/ 的/ 复杂度/ ,/ 它/ 对/ 复杂/ 结构/ 的/ 分析/ 、/ 修改/ 和/ 简化/ 起着/ 重要/ 的/ 作用/ ./ 表/ 1/ 中/ 给出/ 了/ 组合/ 运算/ 的/ 代数/ 性质/ ./ 交换律/ SCN1/ / SCN2/ =/ SCN2/ / SCN1SCN1/ ◇/ SCN2/ =/ SCN2/ ◇/ SCN1SCN1/ ‖/ SCN2/ =/ SCN2/ ‖/ SCN1/ 结合律/ (/ SCN1/ ·/ SCN2/ )/ ·/ SCN3/ =/ SCN1/ ·/ (/ SCN2/ ·/ SCN3/ )/ (/ SCN1/ / SCN2/ )/ / SCN3/ =/ SCN1/ / (/ SCN2/ / SCN3/ )/ (/ 5/ )/ (/ SCN1/ ‖/ SCN2/ )/ ‖/ SCN3/ =/ SCN1/ ‖/ (/ SCN2/ ‖/ SCN3/ )/ 分配率/ SCN1/ ·/ (/ SCN2/ / SCN3/ )/ =/ (/ SCN1/ ·/ SCN2/ )/ / (/ SCN1/ ·/ SCN3/ )/ (/ 7/ )/ (/ SCN1/ / SCN2/ )/ ·/ SCN3/ =/ (/ SCN1/ ·/ SCN3/ )/ / (/ SCN2/ ·/ SCN3/ )/ (/ 8/ )/ SCN1/ ‖/ (/ SCN2/ / SCN3/ )/ =/ (/ SCN1/ ‖/ SCN2/ )/ / (/ SCN1/ ‖/ SCN3/ )/ (/ 9/ )/ (/ SCN1/ / SCN2/ )/ ‖/ SCN3/ =/ (/ SCN1/ ‖/ SCN3/ )/ / (/ SCN2/ ‖/ SCN3/ )/ (/ 10/ )/ SCN1/ ◇/ (/ SCN2/ / SCN3/ )/ =/ (/ SCN1/ ◇/ SCN2/ )/ / (/ SCN1/ ◇/ SCN3/ )/ (/ 11/ )/ (/ SCN1/ / SCN2/ )/ ◇/ SCN3/ =/ (/ SCN1/ ◇/ SCN3/ )/ / (/ SCN2/ ◇/ SCN3/ )/ (/ 12/ )/ SCN1/ ·/ (/ SCN2/ ‖/ SCN3/ )/ =/ (/ SCN1/ ·/ SCN2/ )/ ‖/ (/ SCN1/ ·/ SCN3/ )/ (/ 13/ )/ (/ SCN1/ ‖/ SCN2/ )/ ·/ SCN3/ =/ (/ SCN1/ ·/ SCN3/ )/ ‖/ (/ SCN2/ ·/ SCN3/ )/ (/ 14/ )/ 其他/ SCN/ / SCN/ =/ SCNSCN1/ ◇/ SCN2/ =/ (/ SCN1/ ·/ SCN2/ )/ / (/ SCN2/ ·/ SCN1/ )/ (/ 16/ )/ SCN/ ◇/ SCN/ =/ SCN/ ·/ SCN/ 图/ 12/ 执行/ 时间/ 对比/ 实验/ 结果/ 6/ 实验/ 分析/ 文献/ [/ 16/ ]/ 提出/ 了/ 一种/ 基于/ 前/ 向/ 链/ 的/ 服务/ 组合/ 方法/ ./ 该/ 方法/ 首先/ 将/ 用户/ 可/ 提供/ 的/ 输入/ 参数/ 集合/ 作为/ 可/ 达/ 参数/ 集/ ,/ 搜索/ 基于/ 该/ 可达/ 参数/ 集/ 可用/ 的/ 服务/ ,/ 然后/ 将/ 这些/ 可用/ 服务/ 产生/ 的/ 输出/ 参数/ 加入/ 到/ 可达/ 参数/ 集中/ ,/ 继续/ 搜索/ 可用/ 服务/ ,/ 直到/ 可/ 达/ 参数/ 集/ 包含/ 用户/ 需要/ 的/ 所有/ 输出/ 参数/ 时/ 算法/ 终止/ ,/ 表示/ 已经/ 得到/ 用户/ 需要/ 的/ 组合/ 服务/ ./ 本节/ 根据/ 该前/ 向/ 链/ 方法/ 设计/ 基于/ 服务/ 簇/ 的/ 前/ 向/ 链/ 算法/ ./ 服务/ 组合/ 时/ ,/ 首先/ 应用/ 前/ 向/ 链/ 算法/ 对/ 服务/ 簇/ 进行/ 组合/ ,/ 然后/ 从/ 各/ 服务/ 簇中/ 选择/ 最优/ 服务/ 进行/ 绑定/ ./ 本节/ 将/ 以前/ 向/ 链/ 算法/ 为例/ ,/ 对/ 基于/ 单个/ 服务/ 和/ 基于/ 服务/ 簇/ 的/ 服务/ 组合/ 方法/ 进行/ 比较/ ,/ 以/ 证明/ 基于/ 服务/ 簇/ 的/ 服务/ 组合/ 方法/ 的/ 可行性/ 和/ 有效性/ ./ 实验/ 首先/ 构造/ 本体/ 概念/ 树/ ,/ 以/ 产生/ 实验所/ 需要/ 的/ 服务/ 和/ 参数/ ./ 通过/ 本体/ 概念/ 树/ 构造/ 20/ 个/ 服务/ 簇/ ,/ 每个/ 服务/ 簇中/ 包含/ 100/ ~/ 500/ 个/ 服务/ ,/ 先/ 将/ 每个/ 服务/ 包含/ 的/ 输入/ 参数/ 和/ 输出/ 参数/ 数量/ 设为/ 3/ ~/ 8/ 个/ ,/ 然后/ 将/ 其/ 扩展/ 到/ 5/ ~/ 15/ 个/ ./ 分别/ 用/ 基于/ 单个/ 服务/ 和/ 基于/ 服务/ 簇/ 的/ 服务/ 组合/ 方法/ 对/ 两组/ 测试/ 集/ 进行/ 实验/ ,/ 对/ 两种/ 方法/ 的/ 算法/ 执行/ 时间/ 进行/ 比较/ ,/ 实验/ 结果/ 如图/ 12/ 所示/ ./ 图/ 12/ (/ a/ )/ 为/ 服务/ 参数/ 数量/ 为/ 3/ ~/ 8/ 个/ 时/ 两种/ 服务/ 组合/ 方法/ 的/ 执行/ 时间/ ./ 通过/ 实验/ 结果/ 可以/ 看出/ ,/ 基于/ 服务/ 簇/ 的/ 组合/ 方法/ 的/ 执行/ 效率/ 是/ 基于/ 单个/ 服务/ 的/ 组合/ 方法/ 的/ 15/ 倍/ ./ 两种/ 方法/ 都/ 随着/ 服务/ 数量/ 的/ 增多/ 呈/ 近似/ 线性/ 增长/ 的/ 趋势/ ./ 当/ 服务/ 数量/ 增加/ 时/ ,/ 基于/ 单个/ 服务/ 的/ 组合/ 方法/ 的/ 执行/ 时间/ 增长/ 较快/ ./ 图/ 12/ (/ b/ )/ 为/ 服务/ 参数/ 数量/ 为/ 5/ ~/ 15/ 个/ 时/ 两种/ 算法/ 的/ 执行/ 时间/ ./ 随着/ 服务/ 数量/ 的/ 增长/ ,/ 基于/ 单个/ 服务/ 的/ 算法/ 需要/ 耗费/ 大量/ 时间/ ,/ 且/ 执行/ 时间/ 增长/ 较快/ ./ Page147/ 总结/ 本文/ 分析/ 了/ 现有/ 的/ 静态/ 服务/ 组合/ 和/ 动态/ 服务/ 组合/ 的/ 缺陷/ ,/ 提出/ 了/ 在/ 业务/ 模型/ 层面/ 上/ 对/ 服务/ 簇/ 进行/ 组合/ 的/ 思想/ ./ 用/ 逻辑/ Petri/ 网对/ 服务/ 簇/ 和/ 服务/ 簇网/ 进行/ 了/ 图形化/ 描述/ ,/ 提出/ 了/ 服务/ 簇网/ 的/ 顺序/ 、/ 选择/ 、/ 任意/ 顺序/ 、/ 并发/ 和/ 迭代/ 5/ 种/ 基本/ 组合/ 方法/ ,/ 并/ 分别/ 对/ 服务/ 簇网/ 的/ 完备/ 性/ 继承/ 做/ 了/ 分析/ ./ 由于/ 顺序/ 运算/ 模型/ 涉及/ 关联/ 库所/ 的/ 不确定性/ 交互/ ,/ 因此/ 重点/ 分析/ 了/ 顺序/ 运算/ 的/ 完备/ 性/ 继承/ 条件/ ./ 给出/ 了/ 服务/ 簇网/ 组合/ 的/ 代数/ 运算/ 性质/ ./ 最后/ ,/ 通过/ 实验/ 证明/ 了/ 服务/ 簇网/ 组合/ 运算/ 的/ 可行性/ 和/ 有效性/ ./ 本文/ 对于/ 服务/ 簇网/ 组合/ 的/ 研究/ 还/ 处于/ 初始/ 阶段/ ,/ 还/ 需要/ 不断完善/ ,/ 下/ 一步/ 将要/ 研究/ 服务/ 请求/ 的/ 处理/ 、/ 业务/ 模型/ 层上/ 服务/ 簇网/ 的/ 发现/ 、/ 服务/ 簇网/ 动态/ 组合/ 算法/ 以及/ 服务/ 簇网/ 到/ 具体/ 服务/ 的/ 绑定/ 等/ 问题/ ,/ 并/ 建立/ 一套/ 完整/ 的/ 服务/ 簇网/ 建模/ 、/ 组合/ 、/ 优化/ 、/ 分析/ 验证/ 工具/ ./ 

