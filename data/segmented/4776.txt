Page1/ 复杂/ 事件/ 模式/ 检测/ 与/ CEP/ 测试数据/ 生成/ 算法/ 研究/ 赵会/ 群孙晶/ 杨岩/ 坤/ 毛/ 立志/ (/ 北方工业大学/ 计算机/ 学院/ 北京/ 100144/ )/ 摘要/ 随着/ 信息技术/ 的/ 快速/ 发展/ 和/ 广泛应用/ ,/ 大/ 数据/ 正以/ 不可/ 阻挡/ 的/ 气势/ 向/ 我们/ 走来/ ./ 大/ 数据/ 源于/ 信息技术/ ,/ 同时/ 又/ 向/ 信息技术/ 提出/ 挑战/ ./ 如何/ 征服/ 大/ 数据/ 给/ 信息技术/ 处理/ 能力/ 上/ 带来/ 的/ 挑战/ 是/ 一个/ 广泛/ 关注/ 的/ 课题/ ./ 由于/ 采用/ 面向/ 流式/ 数据/ 的/ 处理/ 策略/ ,/ 复杂/ 事件处理/ (/ ComplexEventProcessing/ ,/ CEP/ )/ 技术/ 被/ 认为/ 是/ 一种/ 有/ 希望/ 征服/ 大/ 数据/ 挑战/ 的/ 技术/ 之一/ ./ 然而/ ,/ 当/ 事件/ 流/ 成为/ 大/ 数据/ 时/ ,/ 目前/ 的/ CEP/ 模型/ 、/ 事件/ 模式/ 检测/ 和/ CEP/ 系统/ 测试数据/ 生成/ 的/ 方法/ 和/ 技术/ 都/ 存在/ 很多/ 不足/ ./ 文章/ 针对/ 这一/ 问题/ 讨论/ 了/ 复杂/ 事件/ 建模/ 、/ 模式/ 检测/ 与/ 测试数据/ 的/ 生成/ 方法/ ./ 提出/ 一种/ CEP/ 代数/ 模型/ ,/ 用/ 多种/ 事件/ 算子/ 来/ 表达/ 事件/ 之间/ 的/ 关系/ 和/ 事件/ 流/ 模型/ ./ 在/ 这里/ ,/ 一个/ 创新/ 的/ 思想/ 是/ 把/ CEP/ 代数/ 模型/ 表达式/ 解释/ 成/ 算术/ 文法/ 产生/ 式/ ,/ 从而/ 可以/ 用词/ 法分析/ 技术/ 解决/ 复杂/ 事件/ 模式/ 检测/ 问题/ ./ 为了/ 有效/ 地/ 测试/ 复杂/ 事件/ 模式/ 检测/ 的/ 算法/ ,/ 基于/ CEP/ 代数/ 模型/ ,/ 提出/ 了/ 一个/ 用于/ 支持/ 上述/ CEP/ 模式/ 检测/ 的/ 大/ 数据/ 事件/ 集/ 的/ 生成/ 算法/ ./ 并/ 由此/ 生成/ 了/ 不同/ 量级/ 的/ 测试数据/ ,/ 测试/ 了/ 一个/ RFID/ 物/ 联网/ 中/ CEP/ 模式/ 检测/ 引擎/ ./ 实验/ 结果表明/ 了/ 提出/ 的/ 事件/ 模式/ 检测/ 算法/ 和/ CEP/ 系统/ 测试/ 大/ 数据/ 事件/ 集/ 生成/ 算法/ 的/ 有效性/ ./ 关键词/ 复杂/ 事件处理/ ;/ 事件/ 模式/ 检测/ ;/ 测试数据/ 生成/ ;/ 大/ 数据/ ;/ 代数/ 模型/ 1/ 引言/ 大/ 数据/ 已经/ 成为/ 这些/ 年/ 我们/ 耳边/ 频率/ 最高/ 的/ 词汇/ 之一/ ,/ 无论是/ 学术界/ 、/ 工业界/ ,/ 还是/ 政府/ 都/ 在/ 津津乐道/ 地/ 谈论/ 大/ 数据/ 如何/ 改变/ 我们/ 的/ 生活/ ./ 学术界/ 致力于/ 解决/ 大/ 数据/ 带来/ 的/ 新/ 课题/ ,/ 相关/ 的/ 学术会议/ 和/ 论文/ 比较/ 多/ ;/ 工业界/ 也/ 在/ 加班加点/ 地/ 开发/ 相关/ 技术/ 去/ 抢占市场/ ,/ 如/ Google/ 、/ Intel/ 、/ Baidu/ 等/ 都/ 推出/ 了/ 自己/ 的/ 大/ 数据处理/ 技术/ 框架/ ;/ 一些/ 强势/ 政府/ 更是/ 希望/ 通过/ 大/ 数据处理/ 来/ 解决/ 国家/ 安全/ 、/ 行政/ 管理/ 面临/ 的/ 新/ 问题/ ,/ 如/ 美国/ 、/ 日本/ 、/ 欧盟/ 和/ 中国/ 等/ 都/ 推出/ 了/ 自己/ 的/ 科技/ 发展/ 计划/ ./ 大/ 数据/ 并非/ 空穴来风/ ,/ 随着/ 信息技术/ 应用/ 范围/ 和/ 规模/ 的/ 不断扩大/ ./ 一天/ 中/ 互联网/ 产生/ 的/ 全部内容/ 可以/ 刻满/ 1.68/ 亿张/ DVD/ ;/ 发出/ 的/ 邮件/ 有/ 2940/ 亿封/ 之/ 多/ ;/ 相当于/ 美国/ 两年/ 的/ 纸质/ 信件/ 数量/ ;/ 发出/ 的/ 社区/ 帖子/ 达/ 200/ 万个/ ,/ 相当于/ 《/ 时代/ 》/ 杂志/ 770/ 年/ 的/ 文字量/ ①/ ./ 传统/ 的/ 数据库/ 已经/ 无法/ 承担/ 如此/ 数量/ 的/ 数据/ 存储/ 任务/ [/ 1/ ]/ ./ 复杂/ 事件处理/ (/ ComplexEventProcessing/ ,/ CEP/ )/ 是/ 一个/ 伴随/ 流式/ 数据处理/ 需求/ 增加/ 而/ 出现/ 的/ 一种/ 软件技术/ ,/ 它/ 用于/ 在/ 不同/ 数据源/ 顺序/ 混杂/ 的/ 事件/ 流中/ 发现/ 感兴趣/ 的/ 事件/ 模式/ [/ 2/ ]/ ./ CEP/ 引擎/ 需要/ 能够/ 实时/ 分析/ 历史数据/ ,/ 以便/ 发现/ 关注/ 的/ 事件/ 模式/ ,/ 例如/ 股票价格/ 变动/ 趋势/ 、/ 计算机网络/ 入侵/ 实时/ 发现/ 、/ 可疑/ 的/ 信誉/ 卡/ 冒用/ 等等/ [/ 3/ ]/ ②/ ./ 随着/ 大/ 数据/ 时代/ 的/ 到来/ ,/ 业界/ 自然/ 希望/ CEP/ 能够/ 承担/ 解决/ 大/ 数据处理/ 问题/ 的/ 任务/ ./ CEP/ 是/ 一种/ 集成/ 技术/ 框架/ ,/ 它/ 包括/ 如下/ 方法/ 和/ 技术/ 内容/ [/ 3/ ]/ :/ (/ 1/ )/ 事件/ 模式/ 检测/ ;/ (/ 2/ )/ 事件/ 抽象/ ;/ (/ 3/ )/ 事件/ 过滤/ ;/ (/ 4/ )/ 事件/ 汇聚/ 和/ 传输/ ;/ (/ 5/ )/ 事件/ 体系结构/ 模型/ ;/ (/ 6/ )/ 事件/ 关系/ 发现/ ;/ (/ 7/ )/ 事件驱动/ 的/ 处理/ 引擎/ ./ 然而/ ,/ 在/ 大/ 数据/ 时代/ ,/ 传统/ 的/ CEP/ 方法/ 和/ 技术/ 遇到/ 了/ 挑战/ ./ 大/ 数据/ 呈现出/ 数据结构/ 多样性/ (/ Variety/ )/ 、/ 数据/ 体积/ 巨大/ (/ Volume/ )/ 、/ 处理速度/ 要求/ 快/ (/ Velocity/ )/ 和/ 数据/ 有效/ 价值/ 低/ (/ Value/ )/ [/ 4/ ]/ 等/ 特性/ ./ 这些/ 特征/ 给/ 大/ 数据/ 下/ CEP/ 系统/ 的/ 开发/ 和/ 测试/ 提出/ 了/ 极/ 高/ 的/ 要求/ ,/ 而/ 不同/ 业务/ 领域/ 产生/ 的/ 大/ 数据/ 又/ 有/ 其/ 自身/ 的/ 特征/ ./ 开发者/ 不得不/ 临时/ 借用/ 传统/ 的/ 方法/ 和/ 技术/ ,/ 这样/ 就/ 导致/ 其/ 在/ 正确性/ 、/ 可靠性/ 、/ 有效性/ 等/ 方面/ 都/ 存在/ 缺陷/ ,/ 有待/ 进一步/ 研究/ ./ 与/ 传统/ 数据处理/ 和/ 测试数据/ 生成/ 技术/ 不同/ ./ 大/ 数据/ 下/ 的/ 事件/ 关系/ 复杂/ ,/ 数据/ 呈/ 非/ 结构化/ ,/ 导致/ 传统/ 的/ 数据/ 操纵/ 模型/ 无法/ 全面解决/ 复杂/ 事件/ 的/ 建模/ 问题/ ./ 目前/ 有些/ 研究/ 仍/ 借用/ 传统/ 的/ 模型/ 对/ 复杂/ 事件/ 建模/ ,/ 包括/ [/ 5/ ]/ :/ (/ 1/ )/ 基于/ 图/ 的/ CEP/ 模型/ ;/ (/ 2/ )/ 基于/ 自动机/ 的/ CEP/ 模型/ ;/ (/ 3/ )/ 基于/ PetriNet/ 的/ CEP/ 模型/ ./ 另一方面/ ,/ 大/ 数据/ 对/ 传统/ 的/ CEP/ 引擎/ 测试/ 也/ 存在/ 挑战/ ./ 测试/ 基准/ (/ Benchmark/ 技术/ )/ 是/ 数据处理/ 测试/ 的/ 常用/ 技术/ ,/ 它/ 通过/ 有/ 针对性/ 地/ 生成/ 测试数据/ 来/ 替代/ 真实/ 数据/ ,/ 从而/ 达到/ 测试/ 系统/ 各种/ 指标/ 的/ 目的/ ./ 传统/ 的/ 测试/ 基准/ 一般/ 强调/ 满足/ 两个/ 基本/ 要求/ :/ (/ 1/ )/ 测试数据/ 应该/ 尽可能少/ ;/ (/ 2/ )/ 测试/ 基准/ 数据/ 应该/ 覆盖/ 更/ 广泛/ 的/ 业务/ 类型/ [/ 6/ ]/ ./ 令人遗憾/ 的/ 是/ ,/ 基本/ 要求/ (/ 1/ )/ 不/ 完全/ 适应/ 大/ 数据/ CEP/ 测试/ 的/ 特殊要求/ ./ 因此/ ,/ 传统意义/ 上/ 的/ 测试/ 基准/ 技术/ 和/ 基准/ 数据/ 无法/ 直接/ 应用/ 到/ 大/ 数据/ CEP/ 的/ 测试/ 中/ ./ 如何/ 把握/ 测试数据/ 集/ 的/ 大小/ 和/ 范围/ 的/ 尺度/ 是/ 大/ 数据/ CEP/ 测试/ 需要/ 解决/ 的/ 一个/ 科学/ 问题/ ./ 由于/ 基准/ 测试/ 是/ 对/ 一种/ 技术/ 典型/ 特征/ 的/ 度量/ ,/ 所以/ 测试用例/ 不是/ 根据/ 具体/ 被测/ 实现/ 的/ 功能/ 或者/ 逻辑/ 来/ 生成/ ./ 也就是说/ ,/ 传统/ 的/ 软件/ 测试用例/ 生成/ 技术/ ,/ 如/ 基于/ 逻辑/ 覆盖/ 、/ 等价/ 分类/ 、/ 边界值/ 等/ ,/ 都/ 无法/ 直接/ 用于/ 基准/ 测试数据/ 生成/ ./ 针对/ 上述/ 问题/ ,/ 本文/ 探讨/ 复杂/ 事件/ 建模/ 和/ 基于/ 模型/ 的/ CEP/ 模式/ 检测/ ,/ 以及/ CEP/ 引擎/ 测试数据/ 的/ 生成/ 方法/ ./ 研究/ 分/ 4/ 个/ 层次/ :/ (/ 1/ )/ 复杂/ 事件/ 模型/ 研究/ ./ 明确/ 复杂/ 事件/ 之间/ 关系/ ,/ 通过/ 引入/ 事件/ “/ 算子/ ”/ 来/ 表达/ 事件/ 之间/ 的/ 关系/ 和/ 结构/ ,/ 论证/ 事件/ 算子/ 的/ 各种/ 运算/ 定律/ ;/ 用/ 代数/ 表达式/ 刻画/ 各种/ 事件/ 流/ ,/ 从而/ 建立/ CEP/ 工作/ 流/ 的/ 代数/ 模/ ①/ ②/ Page3/ 型/ ,/ 包括/ 顺序/ 事件/ 流/ 、/ 因果/ 事件/ 流/ 、/ 协同/ 事件/ 流等/ 事件/ 流/ 模型/ ./ 为/ 进一步/ 研究/ 基于/ 模型/ 的/ CEP/ 引擎/ 算法/ 和/ 测试数据/ 生成/ 算法/ 提供/ 理论/ 支持/ ./ (/ 2/ )/ 基于/ 模型/ 的/ 复杂/ 事件/ 模式/ 检测/ 算法/ 研究/ ./ 把/ CEP/ 工作/ 流/ 代数/ 模型/ 解释/ 成/ “/ 复杂/ 事件/ 文法/ ”/ ,/ 给出/ “/ 复杂/ 事件/ 文法/ ”/ 的/ 产生/ 式/ 规则/ ,/ 把/ 复杂/ 事件/ 模式/ 检测/ 转化成/ 基于/ “/ 事件/ 文法/ ”/ 的/ 算术/ 表达式/ 来/ 分析/ 问题/ ,/ 进而/ 提出/ 基于/ “/ 复杂/ 事件/ 文法/ ”/ 的/ 复杂/ 事件/ 模式/ 检测/ 算法/ ./ (/ 3/ )/ 大/ 数据/ CEP/ 引擎/ 测试数据/ 生成/ 算法/ 研究/ ./ 这里/ 把/ 复杂/ 事件/ 模式/ 检测/ 算法/ 作为/ CEP/ 引擎/ 的/ 代表/ ,/ 研究/ 一般/ CEP/ 引擎/ 测试/ 的/ 数据/ 生成/ 方法/ ./ 研究/ 中/ 结合/ 复杂/ 事件/ 模式/ 发生/ 的/ 概率分布/ ,/ 给出/ 顺序/ 事件/ 流/ 、/ 因果/ 事件/ 流/ ,/ 以及/ 混合/ 事件/ 流/ 模型/ 下/ 满足/ 不同/ 概率分布/ 的/ 业务/ 模式/ 事件/ 流/ 生成/ 算法/ ./ 其中/ ,/ 均匀/ 、/ 正态/ 、/ 泊松/ 等/ 概率分布/ 作为/ 事件/ 模式/ 的/ 播撒/ 随机/ 概率分布/ ,/ 分别/ 适用/ 于/ 不同/ 的/ 应用/ 场景/ ./ (/ 4/ )/ RFID/ 物/ 联网/ 复杂/ 事件/ 模式/ 检测/ 与/ CEP/ 测试/ 应用/ 研究/ ./ 结合/ RFID/ 在/ 物流业/ 的/ 实际/ 应用/ 场景/ ,/ 生成/ 不同/ 规模/ 的/ 测试数据/ 集/ (/ 流/ )/ ,/ 以此/ 检验/ RFID/ 物流网/ 大/ 数据/ CEP/ 引擎/ ,/ 评价/ 其/ 处理/ 能力/ 和/ 测试数据/ 集/ 的/ 有效性/ ./ 本文/ 第/ 1/ 节/ 引言/ 给出/ 本文/ 研究/ 的/ 目的/ 和/ 意义/ ;/ 第/ 2/ 节/ 复杂/ 事件/ 结构/ 给出/ 多种/ 事件/ 运算/ 算子/ 和/ 相关/ 运算/ 定律/ 以及/ 不同/ 事件/ 运算/ 下/ 的/ 事件/ 流/ 模型/ ,/ 建立/ 复杂/ 事件/ 代数/ 模型/ ./ 在/ 该/ 模型/ 基础/ 上/ ;/ 第/ 3/ 节/ 给出/ 复杂/ 事件/ 模式/ 检测/ 算法/ 和/ CEP/ 引擎/ 测试/ 的/ 大/ 数据/ 生成/ 算法/ ;/ 第/ 4/ 节/ 实验/ 研究/ 结合/ RFID/ 物/ 联网/ 的/ 一个/ 应用/ 场景/ ,/ 生成/ 不同/ 尺度/ 的/ 以及/ 不同/ 概率分布/ 播撒/ 事件/ 模式/ 的/ 大/ 数据/ 事件/ 集/ (/ 流/ )/ ,/ 测试/ 本文/ 提出/ 的/ 基于/ 模型/ 的/ 大/ 数据/ CEP/ 引擎/ ;/ 第/ 5/ 节/ 相关/ 研究/ 介绍/ 近期/ 有关/ 测试数据/ 生成/ 和/ 大/ 数据测试/ 基准/ 的/ 研究/ 现状/ ;/ 最后/ 通过/ 与/ 相关/ 研究/ 的/ 比较/ ,/ 总结/ 本文/ 研究/ 结论/ 和/ 特点/ ./ 2/ 复杂/ 事件/ 结构/ 本/ 节/ 研究/ 如何/ 用/ 代数学/ 方法/ 刻画/ 复杂/ 事件/ 模型/ ./ 首先/ 给出/ 事件/ 定义/ ,/ 归一化/ 不同/ 结构/ 数据/ ;/ 引入/ 事件/ 算子/ 概念/ ,/ 定义/ 事件/ 的/ 顺序/ 、/ 因果/ 、/ 闭包/ 、/ 协同/ 和/ 同生/ 等/ 事件/ 算子/ ,/ 定义/ 复杂/ 事件/ 结构/ ,/ 建立/ 复杂/ 事件/ 代数/ 模型/ ./ 2.1/ 事件/ 定义/ 和/ 事件/ 算子/ 首先/ 给出/ 原子事件/ 定义/ ./ 定义/ 1/ (/ 原子事件/ )/ ./ 事件/ 是/ 一个/ 七元/ 组/ 〈/ ID/ ;/ Domain/ ;/ Alias/ ;/ Type/ ;/ Moment/ ;/ Stimulation/ ;/ Location/ 〉/ ,/ 其中/ :/ (/ 1/ )/ ID/ 是/ 事件/ 的/ 标识符/ ,/ 用/ 它/ 来/ 区分/ 其它/ 事件/ ;/ (/ 2/ )/ Domain/ 是/ CEP/ 所在/ 的/ 问题/ 域/ ;/ (/ 3/ )/ Alias/ 是/ 事件/ 的/ 名字/ ,/ 它/ 是/ 一个/ 与/ 问题/ 相关/ 的/ 称谓/ ,/ 如/ RIFD/ 物/ 联网/ 中/ 的/ EPC/ 编码/ ;/ (/ 4/ )/ Type/ 是/ 事件/ 的/ 类型/ ,/ 它/ 也/ 与/ 问题/ 域/ 有关/ ,/ 开发者/ 可/ 自定义/ ;/ (/ 5/ )/ Moment/ 是/ 事件/ 发生/ 的/ 时刻/ ;/ (/ 6/ )/ Stimulation/ 是/ 事件/ 被/ 激发/ 的/ 条件/ ,/ 如/ 一个/ 集装箱/ 通过/ RFID/ 识读/ 器时/ ,/ 识读/ 器/ 的/ 感知/ 环境/ 可/ 作为/ 激发/ 条件/ ;/ 如果/ 激发/ 条件/ 为空/ ,/ 该/ 事件/ 不/ 发生/ ./ (/ 7/ )/ Location/ 是/ 事件/ 发生/ 的/ 位置/ ,/ 与/ 问题/ 域/ 有关/ ;/ 事件/ 一般/ 用/ 大写字母/ 表示/ ,/ 如/ A/ ,/ B/ ,/ C/ 等/ ;/ 如果/ 特别强调/ 是/ 一个/ 具体/ 的/ 事件/ ,/ 可以/ 用/ 小写字母/ 表示/ ,/ 如/ a/ ,/ b/ ,/ c/ 等/ ./ 例如/ :/ 一个/ RFID/ 物/ 联网/ 中/ 的/ 事件/ E/ =/ 〈/ ID001/ ;/ IoT/ ;/ Loadedgoods/ ;/ EPC/ -/ 96/ ;/ 9/ :/ 30/ ;/ SH/ #/ 5/ 〉/ ./ 定义/ 1/ 是/ 对/ 事件/ 属性/ 和/ 内涵/ 的/ 精确/ 表达/ ./ 从/ 实际/ 业务/ 角度/ ,/ 各个/ 事件/ 发生/ 是/ 可管/ 、/ 可控/ 的/ 确定/ 事件/ ,/ 并未/ 形成/ 大/ 数据/ 事件/ 流/ ./ 因此/ ,/ 事件/ 发生/ 的/ 时刻/ 、/ 地点/ 和/ 激发/ 条件/ 等/ 属性/ 都/ 是/ 清晰/ 可/ 记录/ 的/ 信息/ ./ 然后/ ,/ 在/ 众多/ 事件/ 流/ 汇聚/ 之后/ ,/ 会/ 出现/ 大/ 数据/ 事件/ 流/ 的/ 现象/ ,/ 而/ 在/ 大/ 数据流/ 的/ 情况/ 下/ 再/ 定义/ 1/ 中/ 事件/ ,/ 其/ 属性/ 可能/ 会因/ 某些/ 因素/ 的/ 干扰/ 而/ 丢失/ 或者/ 混乱/ ,/ 比如/ 事件/ 发生/ 地点/ 的/ 二义性/ 而/ 造成/ 的/ 位置/ 不/ 清晰/ 、/ 网络/ 延迟/ 造成/ 的/ 发生/ 时间/ 不/ 准确/ 等等/ ./ 本文/ 仅/ 讨论/ 事件/ 发生/ 和/ 处理/ 的/ 基本/ 方法/ 和/ 技术/ 问题/ ,/ 上述/ 干扰/ 所/ 造成/ 的/ 失真/ 情况/ 将/ 在/ 以后/ 研究/ 中/ 继续/ 讨论/ ./ 定义/ 2/ (/ 空/ 事件/ )/ ./ 空/ 事件/ 是/ 一种/ 可以/ 在/ 任何/ 地点/ 、/ 任何时刻/ 均/ 可/ 发生/ 的/ ,/ 任意/ 类型/ 的/ 事件/ ,/ 记/ 为/ ε/ ./ 定义/ 3/ (/ 事件/ 相等/ 和/ 不/ 等/ )/ ./ 设/ A/ 和/ B/ 是/ 两个/ 事件/ ,/ 如果/ A/ 和/ B/ 满足/ 下列/ 条件/ :/ (/ 1/ )/ 别名/ 不同/ ;/ (/ 2/ )/ 类型/ 不同/ ;/ (/ 3/ )/ 激发/ 条件/ 不同/ ;/ (/ 4/ )/ 发生/ 的/ 位置/ 不同/ ./ 则/ 称/ 事件/ A/ 和/ 事件/ B/ 不/ 等/ ,/ 记为/ A/ ≠/ B/ ./ 反之/ ,/ 如果/ 上述/ 4/ 个/ 条件/ 中/ 的/ 事件/ 属性/ 均/ 相同/ ,/ 则/ 称/ A/ 和/ B/ 相等/ ,/ 记为/ A/ =/ B/ ./ 下面/ 给出/ 事件/ 算子/ 的/ 概念/ ,/ 用于/ 描述/ 事件/ 之间/ 的/ 关系/ ./ 定义/ 4/ (/ 顺序/ 算子/ )/ ./ 设/ A/ 和/ B/ 是/ 两个/ 事件/ ,/ Page4/ 本/ 命题/ 之前/ ,/ 首先/ 做/ 如下/ 约定/ :/ 用/ A/ / B/ 表示/ A/ 和/ B/ 按/ 时间/ 顺序/ 发生/ ,/ “/ / ”/ 称为/ 事件/ 的/ 顺序/ 算子/ ./ A/ / B/ 是/ 一种/ 事件/ 顺序/ 组合/ 的/ 结果/ ,/ 组合/ 后/ 还是/ 一个/ 事件/ ,/ 所以/ 可以/ 写成/ C/ =/ A/ / B/ ./ 可以/ 进一步/ 证明/ 顺序/ 算子/ 满足/ 结合律/ ,/ 即/ (/ A/ / B/ )/ / C/ =/ A/ / (/ B/ / C/ )/ ./ 定理/ 1/ (/ 顺序/ 算子/ 结合律/ )/ ./ 顺序/ 算子/ 满足/ 结合/ 率/ ,/ 即/ (/ A/ / B/ )/ / C/ =/ A/ / (/ B/ / C/ )/ ,/ 其中/ A/ ,/ B/ ,/ C/ 是/ 3/ 个/ 不同/ 的/ 事件/ ./ 证明/ ./ 设/ A/ ,/ B/ ,/ C/ 是/ 3/ 个/ 不同/ 的/ 事件/ ,/ 在/ 证明/ A/ / B/ =/ 〈/ IDA/ / B/ ;/ DomainAB/ ;/ AliasA/ -/ B/ ;/ TypeA/ ∪/ B/ ;/ MomentA/ ∪/ B/ ;/ StimulationA/ ∪/ B/ ;/ LocationA/ ∪/ B/ 〉/ ,/ 其中/ IDA/ / B/ 是/ 事件/ A/ / B/ 的/ 标示/ ;/ 由于/ 事件/ A/ 和/ B/ 在/ 同一个/ 问题/ 域/ 内/ ,/ 所以/ 域/ 相同/ ,/ 记为/ DomainAB/ ;/ AliasA/ -/ B/ 是/ A/ / B/ 事件/ 的/ 别名/ ,/ 由/ 事件/ A/ 和/ B/ 的/ 别名/ 编码/ 连接/ 串/ 构成/ ,/ 即/ AliasA/ -/ B/ (/ “/ -/ ”/ 表示/ 连接/ 符号/ )/ ;/ TypeA/ ∪/ B/ 表示/ 事件/ A/ / B/ 的/ 类型/ ,/ 它/ 是/ A/ 和/ B/ 类型/ 的/ 合集/ ,/ 即/ TypeA/ ∪/ B/ =/ {/ TypeA/ ,/ TypeB/ }/ ;/ MomentA/ ∪/ B/ 表示/ 事件/ A/ / B/ 的/ 发生/ 时刻/ ,/ 它/ 是/ A/ 和/ B/ 发生/ 时刻/ 的/ 合集/ ;/ StimulationA/ ∪/ B/ 表示/ 事件/ A/ 和/ 事件/ B/ 激发/ 条件/ 的/ 合集/ ;/ LocationA/ ∪/ B/ 表示/ 事件/ A/ 和/ B/ 发生/ 的/ 地点/ 合集/ ./ 在/ 上述/ 约定/ 基础/ 上/ ,/ 证明/ 可以/ 从/ 结合律/ 等式/ 的/ (/ A/ / B/ )/ / C/ =/ 〈/ IDA/ / B/ / C/ ;/ DomainABC/ ;/ AliasA/ -/ B/ -/ C/ ;/ TypeA/ ∪/ B/ ∪/ C/ ;/ MomentA/ ∪/ B/ ∪/ C/ ;/ StimulationA/ ∪/ B/ ∪/ C/ ;/ Loca/ -/ tionA/ ∪/ B/ ∪/ C/ 〉/ ./ 同理/ ,/ 等式/ 右边/ :/ A/ / (/ B/ / C/ )/ =/ 〈/ IDA/ ;/ DomainA/ ;/ AliasA/ ;/ TypeA/ ;/ MomentA/ ;/ StimulationA/ ;/ LocationA/ 〉/ / (/ 〈/ IDB/ / C/ ;/ DomainBC/ ;/ AliasB/ -/ C/ ;/ TypeB/ ∪/ C/ ;/ MomentB/ ∪/ C/ ;/ Stimu/ -/ lationB/ ∪/ C/ ;/ LocationB/ ∪/ C/ 〉/ )/ =/ 〈/ IDA/ / B/ / C/ ;/ DomainABC/ ;/ AliasA/ -/ B/ -/ C/ ;/ TypeA/ ∪/ B/ ∪/ C/ ;/ MomentA/ ∪/ B/ ∪/ C/ ;/ Stimula/ -/ tionA/ ∪/ B/ ∪/ C/ ;/ LocationA/ ∪/ B/ ∪/ C/ 〉/ ./ 观察/ 等式/ 左边/ 和/ 右边/ 有/ (/ A/ / B/ )/ / C/ =/ A/ / (/ B/ / C/ )/ ,/ 所以/ 顺序/ 算子/ 的/ 结合律/ 成立/ ./ 根据/ 该/ 结合律/ 就/ 可以/ 把/ 事件/ 组合/ 进一步/ 扩展/ 到/ 两边/ 展开/ ./ 等式/ 左边/ :/ (/ A/ / B/ )/ / C/ =/ (/ 〈/ IDA/ / B/ ;/ DomainAB/ ;/ AliasA/ -/ B/ ;/ TypeA/ ∪/ B/ ;/ MomnetA/ ;/ StimulationA/ ∪/ B/ ;/ LocationA/ ∪/ B/ 〉/ )/ / C/ ./ 由于/ 集合/ 的/ “/ 合/ ”/ 运算/ 满足/ 结合律/ ,/ 所以/ 上面/ 的/ 等式/ 可以/ 进一步/ 展开/ 为/ :/ 多个/ 事件/ 的/ 情形/ ,/ 即/ E1/ / E2/ / …/ / Em/ 也/ 满足/ 结合律/ ./ 也就是说/ ,/ m/ 个/ 事件/ 顺序/ 组合/ 仍然/ 是/ 一个/ 事件/ ./ 推论/ 1/ ./ 设/ E1/ ,/ E2/ ,/ …/ ,/ Em/ 是/ m/ 个/ 事件/ ,/ E1/ / E2/ / …/ / Em/ 仍然/ 是/ 一个/ 事件/ ./ 根据/ 定理/ 1/ 和/ 推论/ 1/ 可以/ 进一步/ 定义/ 顺序/ 事件/ 流/ ./ 事件/ 顺序/ 算子/ 结合律/ 的/ 作用/ 不仅/ 表现/ 在/ ,/ 可以/ 把/ 两个/ 事件/ 的/ 顺序/ 发生/ 扩展/ 到/ m/ 个/ 事件/ 情形/ ,/ 从而/ 对/ m/ 个/ 事件/ 形成/ 的/ 顺序/ 事件/ 流/ 进行/ 表达/ ;/ 还/ 可以/ 刻画/ 顺序/ 事件/ 流/ 的/ 部分/ 子流/ 的/ 表达/ 和/ 处理/ ,/ 即/ 通过/ 加/ 括号/ ,/ 可以/ 优先/ 处理/ 括号/ 中间/ 的/ 顺序/ 事件/ 子流/ ./ 定义/ 5/ (/ 顺序/ 事件/ 流/ )/ ./ 设/ E1/ ,/ E2/ ,/ …/ ,/ Em/ 是/ m/ 个/ 事件/ ,/ 用/ E1/ / E2/ / …/ / Em/ 表示/ 一个/ 顺序/ 的/ 事件/ 流/ ./ 定义/ 6/ (/ 闭包/ 算子/ )/ ./ 设/ E/ 是/ 一个/ 事件/ ,/ 用/ E/ / 表示/ 事件/ E/ 顺序/ 重复/ 发生/ ,/ 把/ “/ / ”/ 称为/ 闭包/ 算子/ ./ 可以/ 看出/ ,/ 重复/ 发生/ 是/ 顺序/ 发生/ 的/ 一个/ 特例/ ./ 定义/ 7/ (/ 选择/ 算子/ )/ ./ 设/ A/ 和/ B/ 是/ 两个/ 事件/ ,/ 用/ A/ +/ B/ 表示/ 事件/ A/ 发生/ 或者/ 事件/ B/ 发生/ ./ “/ +/ ”/ 称为/ 事件/ 选择/ 算子/ ./ 定义/ 8/ (/ 因果/ 算子/ )/ ./ 设/ A/ 和/ B/ 是/ 两个/ 事件/ ,/ 用/ A/ ~/ B/ 表示/ 因为/ 事件/ A/ 的/ 发生/ 导致/ 事件/ B/ 的/ 发生/ ./ “/ ~/ ”/ 称为/ 事件/ 的/ 因果/ 算子/ ./ 也/ 可以/ 证明/ 选择/ 算子/ 满足/ 交换/ 率/ 、/ 因果/ 算子/ 满足/ 结合/ 换律/ ,/ 即/ A/ +/ B/ =/ B/ +/ A/ ;/ (/ A/ ~/ B/ )/ ~/ C/ =/ A/ ~/ (/ B/ ~/ C/ )/ ./ 由于/ 本文/ 不/ 对/ 选择/ 算子/ 进行/ 更/ 深入/ 地/ 讨论/ ,/ 所以/ 文中/ 不/ 给出/ 相关/ 的/ 定理/ 和/ 证明/ ./ 由于/ 重点/ 要/ 讨论/ 因果/ 算子/ 所/ 产生/ 的/ 事件/ 流/ ,/ 所以/ 这里/ 给出/ 相关/ 的/ 定理/ ./ 定理/ 2/ (/ 因果/ 算子/ 交换律/ )/ ./ 因果/ 算子/ 满足/ 结合/ 率/ ,/ 即/ (/ A/ ~/ B/ )/ ~/ C/ =/ A/ ~/ (/ B/ ~/ C/ )/ ,/ 其中/ A/ ,/ B/ ,/ C/ 是/ 3/ 个/ 不同/ 的/ 事件/ ./ 证明/ ./ 与/ 定理/ 1/ 证明/ 过程/ 相似/ ,/ 这里/ 略/ ./ 推论/ 2/ ./ 设/ E1/ ,/ E2/ ,/ …/ ,/ Em/ 是/ m/ (/ m/ 是/ 自然数/ ,/ 下同/ )/ 个/ 事件/ ,/ E1/ ~/ E2/ ~/ …/ ~/ Em/ 仍然/ 是/ 一个/ 事件/ ./ 在/ 定理/ 2/ 和/ 推论/ 2/ 基础/ 上/ ,/ 可以/ 定义/ 因果/ 事件/ 流/ ./ 定义/ 9/ (/ 因果/ 事件/ 流/ )/ ./ 设/ E1/ ,/ E2/ ,/ …/ ,/ Em/ 是/ m/ 个/ 事件/ ,/ 用/ E1/ ~/ E2/ ~/ …/ ~/ Em/ 表示/ m/ 个/ 事件/ 的/ 因果/ 事件/ 流/ ./ 定义/ 10/ (/ 协同/ 算子/ )/ ./ 设/ A/ 和/ B/ 是/ 两个/ 事件/ ,/ 用/ A/ / B/ 表示/ A/ 和/ B/ 在/ 某个/ 约定/ 下/ 发生/ ./ “/ / ”/ 称为/ 协同/ 算子/ ./ 协同/ 算子/ 是/ 对/ 协同/ 事件/ 关系/ 的/ 抽象/ ./ 可以/ 分为/ 同步/ 协同/ 和/ 异步/ 协同/ 两种/ 情形/ ,/ 为了/ 简化/ 讨论/ ,/ 本文/ Page5/ 暂时/ 不/ 作/ 具体/ 区分/ ./ 另/ 一/ 协同/ 的/ 情况/ 是/ 无/ 约定/ 的/ 协同/ ,/ 即/ 约定/ 条件/ 为空/ ,/ 本文/ 把/ 这种/ 协同/ 关系/ 抽象/ 为/ “/ 同/ 生/ 算子/ ”/ ./ 定义/ 11/ (/ 同/ 生/ 算子/ )/ ./ 设/ A/ 和/ B/ 是/ 两个/ 事件/ ,/ 用/ A/ ‖/ B/ 表示/ A/ 和/ B/ 在/ 同时/ 发生/ ,/ 但/ 两者/ 没有/ 任何/ 约定/ ./ “/ ‖/ ”/ 称为/ 同/ 生/ 算子/ ./ 显然/ ,/ 协同/ 算子/ 和/ 同生/ 算子/ 满足/ 结合律/ 和/ 交换律/ ./ 由于/ 篇幅/ 限制/ ,/ 这里/ 直接/ 引用/ 而/ 不/ 给出/ 相关/ 的/ 定义/ 和/ 定理/ ./ 在/ 结合律/ 和/ 交换律/ 满足/ 的/ 情况/ 下/ ,/ 也/ 可以/ 同/ 顺序/ 算子/ 和/ 因果/ 算子/ 一样/ ,/ 定义/ 协同/ 事件/ 流/ 和/ 同生/ 事件/ 流/ ./ 即/ 协同/ 事件/ 流为/ E1/ / E2/ / …/ / Em/ ;/ 同/ 生/ 事件/ 流/ :/ E1/ ‖/ E2/ ‖/ …/ ‖/ Em/ ./ 然而/ ,/ 协同/ 和/ 同生/ 事件/ 往往/ 混杂/ 在/ 顺序/ 或/ 因果/ 事件/ 流中/ ,/ 并/ 不/ 形成/ 独立/ 的/ 事件/ 流/ ./ 因此/ ,/ 还/ 需要/ 讨论/ 顺序/ 、/ 因果/ 事件/ 流中/ 协同/ 事件/ 的/ 表达/ 和/ 相关/ 处理/ 方法/ 问题/ ./ 定理/ 3/ (/ 协同/ 算子/ 对/ 顺序/ 和/ 因果/ 算子/ 的/ 分配率/ )/ ./ 协同/ 算子/ 对/ 顺序/ 和/ 因果/ 算子/ 分别/ 满足/ 分配率/ ,/ 即/ A/ / (/ B/ / C/ )/ =/ A/ / B/ / A/ / C/ ,/ A/ / (/ B/ ~/ C/ )/ =/ A/ / B/ ~/ A/ / C/ ,/ 其中/ A/ ,/ B/ ,/ C/ 是/ 3/ 个/ 不同/ 的/ 事件/ ./ 证明/ ./ B/ / C/ =/ 〈/ IDB/ / C/ ;/ DomainBC/ ;/ AliasBC/ ;/ TypeB/ ∪/ C/ ;/ MomentB/ ∪/ C/ ;/ StimulationB/ ∪/ C/ ;/ LocationB/ ∪/ C/ 〉/ ,/ 其中/ 元组/ 中/ 的/ 各项/ 解释/ 与/ 定理/ 1/ 中/ 的/ 解释/ 类似/ ,/ 略/ ./ 证明/ 可以/ 从/ 分配律/ 等式/ 的/ 两边/ 展开/ ./ 等式/ 左边/ :/ A/ / (/ B/ / C/ )/ =/ A/ / (/ 〈/ IDB/ / C/ ;/ DomainBC/ ;/ AliasB/ -/ C/ ;/ 其中/ ,/ StimulationA/ ∩/ (/ B/ ∪/ C/ )/ 表示/ 事件/ A/ / (/ B/ / C/ )/ 激发/ 条件/ ,/ 即/ A/ 的/ 激发/ 条件/ 与/ (/ B/ / C/ )/ 的/ 激发/ 条件/ 同时/ 满足/ ./ 根据/ 集合/ 运算/ 交/ 运算/ 对/ 和/ 运算/ 满足/ 分配率/ ,/ 有/ StimulationA/ ∩/ (/ B/ ∪/ C/ )/ =/ Stimulation/ (/ A/ ∩/ B/ )/ ∪/ (/ A/ ∩/ C/ )/ ./ 因此/ 等式/ 左边/ :/ A/ / (/ B/ / C/ )/ =/ 〈/ IDA/ / (/ B/ / C/ )/ ;/ DomainABC/ ;/ AliasA/ -/ B/ -/ C/ ;/ 同理/ ,/ 等式/ 右边/ :/ A/ / B/ / A/ / C/ =/ 〈/ IDA/ / B/ ;/ DomainAB/ ;/ AliasA/ -/ B/ ;/ 观察/ 分配率/ 等式/ 的/ 左/ 、/ 右边/ ,/ 如果/ 约定/ IDA/ / (/ B/ / C/ )/ =/ IDA/ / B/ / A/ / C/ ,/ 则/ 有/ (/ A/ / B/ )/ / C/ =/ A/ / (/ B/ / C/ )/ ,/ 所以/ 分配率/ 成立/ ./ 同理/ ,/ 也/ 可以/ 证明/ 协同/ 算子/ 对/ 因果/ 算子/ 的/ 分配率/ 也/ 成立/ ,/ 略/ ./ 在/ 定理/ 3/ 的/ 基础/ 上/ ,/ 可以/ 进一步/ 讨论/ 顺序/ 事件/ 流/ 和/ 因果/ 事件/ 流中/ 协同/ 关系/ 的/ 表达/ 和/ 处理/ 方法/ ./ 定理/ 4/ (/ 协同/ 事件/ 流/ 消减/ 定理/ )/ ./ 设/ F1/ =/ A1/ / A2/ / …/ / Ak/ ;/ F2/ =/ B1/ / B2/ / …/ / Bk/ 是/ 两个/ 顺序/ 事件/ 流/ ,/ 它们/ 的/ 协同/ 事件/ 流/ :/ F1/ / F2/ =/ Ai1/ / Bi1/ / Ai2/ / Bi2/ / …/ / Aim/ / Bim/ 其中/ (/ i/ ∈/ [/ 1/ …/ k/ ]/ )/ ,/ Ai/ / Bi/ 是/ 有/ 协同/ 关系/ 的/ 事件/ 对/ ./ 证明/ ./ 因为/ 协同/ 算子/ 对/ 顺序/ 算子/ 的/ 分配率/ 成立/ ,/ 所以/ F1/ / F2/ =/ F1/ / B1/ / F1/ / B2/ / …/ / F1/ / Bk/ / Ak/ / F2/ / Ak/ -/ 1/ / F2/ / …/ / A1/ / F2/ ;/ 再/ 根据/ 分配率/ 对/ 上式/ 进一步/ 展开/ 有/ :/ F1/ / F2/ =/ A1/ / B1/ / A2/ / B1/ / …/ / Ak/ / B1/ / A1/ / B2/ / A2/ / B2/ / …/ / Ak/ / B2/ / …/ / Ak/ / Bk/ / Ak/ / B1/ / …/ / Ak/ / Bk/ / Ak/ -/ 1/ / B1/ / …/ / Ak/ -/ 1/ / Bk/ / …/ / A1/ / B1/ / …/ / A1/ / Bk/ ./ 上面/ 的/ 等式/ 中/ 并非/ 都/ 是/ 协同/ 事件/ 对/ ,/ 因此/ 可以/ 把/ 非/ 协同/ 事件/ 对/ 消去/ ,/ 只/ 对/ 协同/ 事件/ 对/ 处理/ ,/ 即/ 定理/ 4/ 成立/ ./ 对/ 因果/ 事件/ 流/ 也/ 可以/ 证明/ 同样/ 的/ 性质/ ,/ 略/ ./ 定理/ 4/ 表明/ ,/ 当/ 处理/ 协同/ 事件/ 时/ ,/ 可以/ 对/ 顺序/ 事件/ 流/ 进行/ 化简/ ./ 同时/ 也/ 表明/ ,/ 协同/ 和/ 同生/ 事件/ 流/ 可以/ 驻留/ 在/ 顺序/ 或者/ 因果/ 事件/ 流中/ ,/ 当/ 需要/ 做/ 协同/ 或者/ 同/ 生/ 事件处理/ 时/ ,/ 可以/ 利用/ 定理/ 4/ 进行/ 简化/ 处理/ ./ 下面/ 给出/ 纵/ // 横/ // 交错/ 事件/ 流/ 模型/ ./ 定义/ 12/ (/ 纵/ // 横/ // 交错/ 事件/ 流/ 模型/ )/ ./ 设/ U/ 为/ 论域/ ,/ 把/ m/ 个/ 顺序/ 发生/ 的/ 事件/ 流/ E1/ ,/ E2/ ,/ …/ ,/ Em/ -/ 1/ ,/ Em/ 称为/ 纵向/ 事件/ 模型/ ;/ 把/ m/ 个/ 因果/ 、/ 协同/ 、/ 同/ 生/ 发生/ 的/ 事件/ 流/ E1/ ,/ E2/ ,/ …/ ,/ Em/ -/ 1/ ,/ Em/ 称为/ 横向/ 事件/ 模型/ ./ 把/ 由/ 选择/ 算子/ 连接/ 的/ 纵/ // 横/ 事件/ 流/ 称为/ 交错/ 事件/ 流/ ./ 在/ 上述/ 基本概念/ 基础/ 上/ ,/ 可以/ 进一步/ 定义/ 复杂/ 事件/ 的/ 代数/ 模型/ ./ 2.2/ 复杂/ 事件/ 代数/ 结构/ 先/ 给出/ 复杂/ 事件/ 结构/ 概念/ ./ 基于/ 上述/ 讨论/ ,/ 定义/ 复杂/ 事件/ 代数/ 结构/ 如下/ ,/ 首/ 定义/ 13/ (/ 复杂/ 事件/ 结构/ )/ ./ 设/ U/ 为/ 论域/ ,/ 一个/ Page6/ 件/ 组合/ 运算/ 的/ 结果/ 也/ 是/ 事件/ 结构/ ;/ (/ 1/ )/ 一个/ 事件/ E/ 是/ 一个/ 复杂/ 事件/ 结构/ ;/ (/ 2/ )/ 一个/ 事件/ 算子/ 是/ 复杂/ 事件/ 结构/ ./ 由/ 事件/ 和/ 由/ 2.1/ 节/ 定义/ 的/ 算子/ ,/ 有限/ 次/ 进行/ 事/ 复杂/ 事件/ 结构/ 记/ 为/ 〈/ E/ ,/ O/ 〉/ ;/ 其中/ E/ 是/ 事件/ 集合/ ,/ O/ 是/ 事件/ 算子/ 集合/ ./ 由于/ 上述/ 事件/ 算子/ 的/ 运算/ 是/ 封闭/ 的/ ,/ 所以/ 可以/ 证明/ 复杂/ 事件/ 结构/ 〈/ E/ ,/ O/ 〉/ 构成/ 代数/ 系统/ ,/ 称其为/ 复杂/ 事件/ 代数/ 结构/ (/ ComplexEventAlgebra/ ,/ CEA/ )/ ,/ 或者/ 复杂/ 事件/ 代数/ 模型/ (/ ComplexEventAlgebraModel/ ,/ CEAM/ )/ ./ 定理/ 5/ (/ 复杂/ 事件/ 代数/ 系统/ )/ ./ 设/ CEA/ =/ 〈/ E/ ,/ O/ 〉/ 是/ 一个/ 复杂/ 事件/ 代数/ 结构/ ,/ CEA/ 中/ E/ 对/ 所有/ 算子/ 的/ 运算/ O/ 是/ 封闭/ 的/ ./ 证明/ ./ 算子/ 集合/ O/ 中/ 运算/ 的/ 封闭性/ 可以/ 从/ 为了/ 辅助/ 事件/ 流/ 生成/ ,/ 下面/ 给出/ 一种/ 与/ 复杂/ 事/ 2.1/ 节中/ 的/ 定义/ 和/ 定律/ 得出/ ./ 件/ 代数/ 结构/ 等价/ 的/ 表达方式/ ./ 复杂/ 事件/ 结构/ 定义/ 为/ :/ 且/ 仅/ 当/ 可/ 由/ 下面/ 的/ 复杂/ 事件/ 产生/ 式/ 规则/ 生成/ ./ 定理/ 6/ (/ 复杂/ 事件/ 产生/ 式/ )/ ./ 任何/ 一个/ CEA/ 当/ E/ →/ E1/ +/ E2/ |/ E1/ ~/ E2/ |/ E1/ / E2/ |/ E1/ ‖/ E2/ |/ T/ ;/ (/ 2a/ )/ T/ →/ T/ / F/ |/ T/ / |/ F/ ;/ F/ →/ (/ E/ )/ |/ e/ |/ ε/ 其中/ :/ E/ ,/ E1/ ,/ E2/ ,/ T/ 和/ F/ 是/ 事件/ ,/ e/ 和/ ε/ 分别/ 是/ 原子事件/ 和/ 空/ 事件/ ,/ 符号/ “/ →/ ”/ 表示/ 逻辑/ 蕴含/ ./ 式/ (/ 2/ )/ 也/ 称/ 复杂/ 事件/ 文法/ ./ 证明/ ./ (/ 反证法/ )/ 设/ CEA/ 的/ 一个/ 表达式/ E/ 无法/ 由/ 产生/ 式/ (/ 2b/ )/ 产生/ ,/ 则/ 由/ 产生/ 式/ 规则/ 2/ 可知/ ,/ 该/ 表达式/ E/ 中有/ 非/ 事件/ 算子/ 组合/ 存在/ ,/ 即/ E1OiE2/ 中/ 的/ 算子/ Oi/ 并非/ 事件/ 组合/ 算子/ ,/ 这/ 与/ 定义/ 13/ 矛盾/ ./ 反之/ ,/ 如果/ 一个/ 由/ 事件/ 规则/ 2/ 产生/ 的/ 事件/ 表达式/ 不是/ 一个/ 事件/ 结构/ ,/ 则/ 与/ 事件/ 产生/ 式/ (/ 2b/ )/ 不符/ ./ 因此/ ,/ 定理/ 6/ 成立/ ./ 例如/ :/ 一个/ 复杂/ 事件/ 结构/ 的/ 代数/ 表达式/ e1/ / e2/ 可以/ 由/ 产生/ 式/ 文法/ 产生/ ,/ 即/ E/ →/ T/ / F/ →/ F/ / F/ →/ e1/ / e2/ ./ 定义/ 14/ (/ CEA/ 模式/ )/ ./ 令/ E/ 是/ 一个/ CEA/ ,/ 如果/ Em/ 是/ 利用/ 产生/ 式/ 规则/ (/ 式/ (/ 2/ )/ )/ 推出/ 的/ 结果/ ,/ 即/ E/ →/ E1/ →/ …/ →/ Em/ ,/ 则/ 称/ Em/ 是/ 一个/ CEA/ 事件/ 模式/ ,/ 记为/ E/ / Em/ ;/ 如果/ 有/ E/ / α/ Em/ β/ 和/ Em/ / γ/ ,/ 则/ 称/ γ/ 是/ Em/ 在/ α/ Em/ β/ 下/ 的/ 短/ 事件/ 模式/ ;/ 如果/ E/ / α/ Em/ β/ 和/ Em/ →/ γ/ 则/ 说/ γ/ 是/ 直接/ 短/ 事件/ 模式/ ./ 通常/ 把/ 最先/ 出现/ 的/ 短/ 模式/ 称为/ 最/ 左/ 短/ 事件/ 模式/ ./ 例如/ :/ 对/ 复杂/ 事件/ 模式/ e1/ / e2/ +/ e3/ ,/ 因为/ 按照/ 产生/ 式/ 规则/ 2/ 有/ E/ / E1/ +/ e3/ 和/ E1/ →/ e1/ / e2/ ,/ 所以/ e1/ / e2/ 是/ 短/ 模式/ ,/ 同时/ 也/ 是/ 最/ 左/ 短/ 模式/ ./ 也/ 可以/ 定义/ 算子/ 的/ 优先级/ ./ 定义/ 15/ (/ 算子/ 优先级/ )/ ./ 设/ O1/ 和/ O2/ 是/ 两个/ 事件/ 算子/ ,/ 令/ O1/ </ O2/ 表示/ O1/ 的/ 运算/ 优先级/ 低于/ O2/ 的/ 优先级/ ,/ 符号/ O1/ >/ O2/ 表示/ O1/ 的/ 运算/ 优先级/ 高于/ O2/ 的/ 优先级/ ,/ O1/ =/ O2/ 表示/ O1/ 的/ 运算/ 优先级/ 与/ O2/ 的/ 优先级/ 相同/ ./ 定义/ CEA/ 所有/ 算子/ 的/ 优先级/ 如表/ 1/ 所示/ .+/ >/ </ </ </ </ </ </ </ >/ ~/ >/ >/ </ </ </ </ </ </ >/ / >/ >/ >/ >/ </ </ </ </ >/ ‖/ >/ >/ >/ >/ </ </ </ </ >/ / >/ >/ >/ >/ >/ >/ </ </ >/ / >/ >/ >/ >/ >/ >/ </ </ >/ e/ >/ >/ >/ >/ >/ >/ (/ >/ >/ >/ >/ >/ >/ >/ >/ =/ )/ </ </ </ </ </ </ 其中/ :/ 选择/ 算子/ 的/ 优先级/ 最低/ ,/ 闭包/ 的/ 优先级/ 最高/ ./ 这样/ 约定/ 优先/ 级别/ 与/ 实际/ 事件处理/ 的/ 紧迫性/ 相一致/ ,/ 如/ 顺序/ 发生/ 的/ 事件/ 不能/ 等待/ 协同/ 发生/ 事件/ ./ 相同/ 类型/ 算子/ 的/ 优先级/ 总是/ 依照/ 左/ 优先/ 的/ 原则/ ./ 如/ / 的/ 优先级/ 高于/ ‖/ ./ 为了/ 推演/ 方便/ ,/ 这里/ 增加/ 了/ 括号/ 的/ 优先级/ ./ 通过/ 定理/ 6/ 、/ 定义/ 13/ 、/ 定义/ 14/ 和/ 定义/ 15/ 一个/ 复杂/ 事件/ 流/ 的/ 生成/ 问题/ 可以/ 转化/ 为/ 基于/ 复杂/ 事件/ 文法/ 的/ 模式/ 生成/ 和/ 匹配/ 问题/ ,/ 文法/ 理论/ 和/ 技术/ 可以/ 直接/ 用来/ 解决/ 大/ 数据/ 复杂/ 事件/ 模式/ 的/ 生成/ ,/ 以及/ 快速/ 处理/ 等/ 问题/ ./ 根据/ 定理/ 6/ 和/ 定义/ 14/ 可以/ 生成/ 不同/ 结构/ 的/ CEP/ 模式/ ,/ 包括/ 顺序/ 事件/ 流/ 、/ 因果/ 事件/ 流/ 、/ 协同/ 事件/ 流/ 、/ 同/ 生/ 事件/ 流/ ,/ 以及/ 上述/ 混合/ 的/ 事件/ 流/ ./ 定义/ 16/ (/ 纵/ // 横/ // 交错/ CEA/ 模型/ )/ ./ 设/ U/ 为/ 论域/ ,/ 一个/ 纵向/ CEA/ 模型/ 记为/ T/ =/ 〈/ Ev/ ,/ O/ 〉/ ,/ 其中/ Ev/ =/ (/ E1/ ,/ E2/ ,/ …/ ,/ Em/ -/ 1/ ,/ Em/ )/ 对/ 每/ 一个/ k/ ∈/ [/ 1/ ,/ m/ ]/ ,/ Ek/ 都/ 是/ 一个/ 纵向/ 事件/ 流/ ,/ 即/ Ek/ =/ (/ ek1/ ,/ ek2/ ,/ …/ ,/ ekm/ )/ 是/ 一个/ 顺序/ 事件/ 流/ ,/ eki/ (/ ki/ ∈/ [/ k1/ ,/ km/ ]/ )/ 是/ 事件/ ,/ O/ 是/ 事件/ 算子/ 的/ 集合/ ;/ 一个/ 横向/ CEA/ 模型/ 记为/ T/ =/ 〈/ Eh/ ,/ O/ 〉/ ,/ 其中/ Eh/ =/ (/ E1/ ,/ E2/ ,/ …/ ,/ Em/ -/ 1/ ,/ Em/ )/ 对/ 每/ 一个/ k/ ∈/ [/ 1/ ,/ m/ ]/ ,/ Ek/ 都/ 是/ 一个/ 横向/ 事件/ 流/ ./ 即/ Ek/ 是/ 因果/ 、/ 协同/ 、/ 同/ 生/ 事件/ 流/ ;/ 一个/ 交错/ CEA/ 模型/ 记为/ T/ =/ 〈/ Ev/ +/ h/ ,/ O/ 〉/ ,/ 其中/ Ev/ +/ h/ =/ (/ A1/ +/ B1/ ,/ A2/ +/ B2/ ,/ …/ ,/ Am/ +/ Bm/ ,/ )/ 对/ 每/ 一个/ i/ ,/ j/ ∈/ [/ 1/ ,/ m/ ]/ Ai/ 是/ 一个/ 纵/ // 横向/ 事件/ 流/ ,/ Bj/ 也/ 是/ 一个/ 纵/ // 横向/ 事件/ 流/ ./ Page7/ 定义/ 16/ 是/ 定义/ 12/ 的/ 扩展/ ./ 在/ 定义/ 16/ 中/ 把/ 一个/ 事件/ 流/ 作为/ 纵/ // 横/ // 交错/ 事件/ 流中/ 的/ 一个/ 事件/ 表达/ ,/ 从而/ 可以/ 处理/ 高阶/ 事件/ 流/ 的/ 情况/ ,/ 模式/ 的/ 复杂度/ 更高/ ./ 3/ 事件/ 模式/ 检测/ 与/ 测试数据/ 生成/ 算法/ 本/ 节/ 讨论/ 基于/ 复杂/ 事件/ 模型/ 的/ 事件/ 模式/ 检测/ 算法/ ,/ 以及/ 复杂/ 事件处理/ 引擎/ 测试/ 的/ 大/ 数据/ 自动/ 生成/ 算法/ ./ 3.1/ 复杂/ 事件/ 模式/ 验证/ 算法/ 复杂/ 事件/ 代数/ 模型/ 不仅/ 刻画/ 了/ 复杂/ 事件/ 之间/ 的/ 关系/ ,/ 也/ 在/ 理论/ 上/ 建立/ 了/ 复杂/ 事件/ 代数/ 模型/ 与/ 事件/ 文法/ 的/ 等价关系/ ,/ 从而/ 可以/ 把/ 复杂/ 事件处理/ 的/ 相关/ 问题/ 变换/ 到/ 基于/ 文法/ 产生/ 式/ 的/ 模式/ 处理/ 上来/ ,/ 利用/ 文法/ 理论/ 和/ 技术/ 解决/ 复杂/ 事件处理/ 中/ 的/ 问题/ ./ 下面/ 给出/ 利用/ 文法/ 处理/ 技术/ 设计/ 的/ 复杂/ 事件/ 模式/ 验证/ 和/ 模式/ 检测/ 的/ 快速/ 算法/ ./ 在/ 编译/ 技术/ 中有/ 多种/ 高级/ 程序语言/ 的/ 语法/ 单词/ 验证/ 与/ 检测/ 算法/ ,/ 如/ 自顶向下/ 语法分析/ 中/ 的/ 预测/ 分析法/ ,/ 自/ 底向上/ 的/ 规范/ 式/ 规约/ 和/ 算符/ 优先/ 分析法/ 等等/ ./ 下面/ 给出/ 基于/ 检测/ 速度/ 较/ 快/ 的/ 算符/ 优先/ 分析法/ 的/ 复杂/ 事件/ 模式/ 检测/ 算法/ ./ 在/ 提出/ 算法/ 之前/ ,/ 首先/ 证明/ 一个/ 事实/ ./ 定理/ 7/ ./ 设/ E1o1E2o2/ …/ EnonEn/ +/ 1/ 是/ 一个/ 复杂/ 事件/ 模式/ ,/ 其中/ Ei/ 和/ oi/ 分别/ 是/ 事件/ 和/ 事件/ 的/ 运算符/ ;/ 如果/ Eioi/ …/ EjojEj/ +/ 1/ 是/ E1o1E2o2/ …/ EnonEn/ +/ 1/ 的/ 最/ 左/ 短/ 事件/ 模式/ ,/ 则/ 它/ 一定/ 满足/ 以下/ 条件/ :/ (/ 1/ )/ oi/ -/ 1/ </ oi/ ;/ (/ 2/ )/ oi/ =/ oi/ +/ 1/ =/ …/ =/ oj/ -/ 1/ =/ oj/ ;/ (/ 3/ )/ oj/ >/ oj/ +/ 1/ ./ 证明/ ./ 采用/ 反证法/ ,/ 假如/ 条件/ (/ 1/ )/ 和/ (/ 3/ )/ 不/ 成立/ ,/ 则/ 十分/ 明显/ 地/ 与/ Eioi/ …/ EjojEj/ +/ 1/ 是/ 最/ 左/ 短语/ 模式/ 矛盾/ ;/ 再/ 假如/ 条件/ (/ 2/ )/ 不/ 成立/ ,/ 即/ 有/ oi/ +/ 1/ >/ oi/ +/ 2/ 或者/ oi/ +/ 1/ >/ oi/ +/ 2/ 成立/ ,/ 这/ 也/ 与/ Eioi/ …/ EjojEj/ +/ 1/ 是/ 最/ 左/ 短语/ 模式/ 矛盾/ ./ 因此/ ,/ 定理/ 7/ 成立/ ./ 基于/ 定理/ 7/ 可/ 推导/ 出/ 复杂/ 事件/ 模式/ 验证/ 算法/ ./ 算法/ 1/ ./ 复杂/ 事件/ 模式/ 验证/ 算法/ ./ 输入/ :/ 事件/ 模式/ E1o1E2o2/ …/ EnonEn/ +/ 1/ 和/ 算符/ 优先级/ 表/ 输出/ :/ 是否/ 为/ 事件/ 模式/ 的/ 裁决/ 1/ ./ begin2/ ./ k/ ·/ ·/ =/ H/ ,/ C/ =/ “/ ”/ ,/ S/ [/ k/ ]/ ·/ ·/ =/ ‘/ #/ ’/ // / H/ 为/ 事件/ 模式/ 的/ 3/ ./ repeat4/ ./ readC/ ;/ // / 读下/ 一个/ 被/ 检测/ 模式/ 中/ 的/ 符号/ / // 5/ ./ ifs/ [/ k/ ]/ 是/ 算子/ 符合/ thenj/ ·/ ·/ =/ kelsej/ ·/ ·/ =/ k/ -/ 16/ ./ dowhiles/ [/ j/ ]/ >/ C/ // / s/ [/ j/ ]/ 的/ 优先级/ 高/ / // 7/ ./ repeat/ // / 找/ 最/ 左/ 短语/ 模式/ / // 8/ ./ Q/ ·/ ·/ =/ S/ [/ j/ ]/ ;/ 9/ ./ ifS/ [/ j/ -/ 1/ ]/ 是/ 算子/ 符合/ thenj/ ·/ ·/ =/ j/ -/ 1elsej/ ·/ ·/ =/ 10/ ./ untilS/ [/ j/ ]/ </ Q/ ;/ 11/ ./ Em/ →/ S/ [/ j/ +/ 1/ ]/ …/ S/ [/ k/ ]/ // / 用/ 文法/ 产生/ 式/ 左边/ 的/ 复/ 12/ ./ k/ ·/ ·/ =/ j/ +/ 1/ ;/ 13/ ./ S/ [/ k/ ]/ ·/ ·/ =/ Em14/ ./ endwhile15/ ./ ifS/ [/ j/ ]/ </ CorS/ [/ j/ ]/ =/ Cthen/ // / s/ [/ j/ ]/ 优先级/ 低/ 或/ 16/ ./ {/ k/ ·/ ·/ =/ k/ -/ 1/ ;/ S/ [/ k/ ]/ ·/ ·/ =/ C/ }/ // / 符号/ 入栈/ / // 17/ ./ elsereturnfalse/ ;/ // / 检测/ 失败/ / // 18/ ./ endif19/ ./ untilC/ =/ “/ #/ ”/ ;/ 20/ ./ returntrue21/ ./ end/ 事件/ 模式/ 有/ 两种/ 表现形式/ :/ 其一/ 是/ 确定/ 的/ 事件/ 模式/ ,/ 这种/ 模式/ 是/ 由/ 业务人员/ 根据/ 实际/ 工作/ 需求/ 指定/ 的/ 、/ 希望/ 捕获/ 的/ 业务/ 模式/ ;/ 另/ 一种/ 是非/ 确定/ 的/ 事件/ 模式/ ,/ 其/ 形成/ 规律/ 需要/ 在/ 大/ 数据/ 中/ 分析/ 和/ 挖掘/ ./ 算法/ 1/ 仅/ 讨论/ 了/ 第一种/ 确定/ 模式/ 的/ 检测/ ,/ 事件/ 模式/ 的/ 长度/ H/ 是/ 确定/ ,/ 因此/ 算法/ 1/ 的/ 时间/ 和/ 空间/ 复杂度/ 均/ 为/ O/ (/ H/ )/ ./ 例/ 1/ ./ 用/ 算法/ 1/ 验证/ 事件/ 模式/ E1/ / E2/ / E3/ / E4/ 是否/ 为/ 合法/ 事件/ 模式/ ./ 解/ :/ 根据/ 算法/ 1/ 的/ 初始化/ 处理/ ,/ 有/ s/ [/ 7/ ]/ =/ E1/ ,/ s/ [/ 6/ ]/ =/ “/ / ”/ ,/ …/ ,/ s/ [/ 1/ ]/ =/ E4/ ,/ 即栈/ 顶/ 为/ E1/ ./ 最/ 内层/ 循环/ (/ 7/ )/ ~/ (/ 10/ )/ 是/ 确定/ 最/ 左/ 短语/ 模式/ 的/ 右/ 边界/ ,/ 中层/ 循环/ (/ 6/ )/ ~/ (/ 14/ )/ 完成/ 最/ 左/ 短语/ 模式/ 的/ 规约/ ,/ 步/ 15/ ~/ 16/ 定位/ 最/ 左/ 短语/ 模式/ 的/ 左/ 边界/ ./ 经过/ 第/ 1/ 次/ 对/ 事件/ 模式/ 的/ 遍历/ 和/ 规约/ 后/ 有/ E1/ / E2/ / E3/ / E4/ =/ E1/ / Em/ / E4/ ,/ 继续/ 上述/ 过程/ ,/ 有/ #/ E/ #./ E/ 是/ 事件/ 模式/ ./ 3.2/ 事件/ 模式/ 检测/ 算法/ 复杂/ 事件/ 模式/ 检测/ 有/ 两种/ 基本/ 形式/ :/ 一种/ 是/ 在/ 事件/ 流中/ 检测/ 指定/ 的/ 事件/ 模式/ ;/ 另/ 一种/ 是/ 在/ 事件/ 流中/ 归纳/ 可能/ 有用/ 的/ 事件/ 模式/ ./ 本文/ 仅/ 讨论/ 前者/ ./ 在/ 事件/ 流中/ 检测/ 指定/ 的/ 事件/ 模式/ 也/ 是/ 复杂/ 事件处理/ 主要/ 任务/ 之一/ ,/ 有/ 很多/ 基于/ 归纳/ 的/ 事件/ 模式/ 检/ Page8/ 测/ 方法/ 也/ 是/ 由/ 指定/ 事件/ 模式/ 检测/ 方法/ 演变/ 而来/ 的/ ,/ 所以/ 指定/ 事件/ 模式/ 检测/ 是/ 复杂/ 事件/ 模式/ 检测/ 的/ 基础/ ./ 大/ 数据/ 下/ 复杂/ 事件/ 模式/ 检测/ 的/ 一个/ 技术/ 挑战/ 是/ 事件/ 模式/ 检测/ 的/ 时间/ 问题/ ./ 由于/ 大/ 数据/ 下/ 复杂/ 事件/ 以流/ 的/ 形式/ 涌入/ ,/ 对/ 统计/ 、/ 归纳/ 和/ 类比/ 相关/ 事件/ 关系/ 有/ 非常/ 紧迫/ 的/ 时间/ 限制/ ./ 为此/ ,/ 需要/ 设计/ 一种/ 能/ 避免/ 丢失/ 事件/ ,/ 并/ 能够/ 快速/ 检测/ 事件/ 模式/ 的/ 算法/ ./ 本文/ 提出/ 一种/ 将/ 并行/ 事件/ 流/ 串行化/ 的/ 方法/ ,/ 即/ 对/ 纵/ // 横/ CEA/ 模型/ 进行/ 串行化/ 处理/ ,/ 避免/ 事件/ 因/ 没有/ 时间/ 处理/ 而/ 丢失/ ;/ 同时/ 再/ 采用/ 并行处理技术/ 实现/ 串行化/ 的/ 事件/ 流/ 的/ 多线程/ 事件/ 模式/ 检测/ ,/ 加快/ 事件/ 模式/ 的/ 检测/ 速度/ ./ 为此/ ,/ 在/ 提出/ 算法/ 之前/ ,/ 先对/ 复杂/ 事件/ 产生/ 式/ (/ 2/ )/ 进行/ 改进/ ,/ 以/ 实现/ 上述/ 检测/ 策略/ ./ 定理/ 8/ ./ 由/ 复杂/ 事件/ 产生/ 式/ (/ 2/ )/ 产生/ 的/ 复杂/ 事件/ 模式/ 集合/ 与/ 下面/ 产生/ 式/ (/ 3/ )/ 推导/ 出/ 的/ 事件/ 模式/ 集合/ 相同/ ./ E/ →/ E1/ +/ E2/ |/ E1ME2/ |/ TM/ →/ / ε/ / T/ / ε/ / |/ ~/ |/ / |/ ‖/ (/ 3b/ )/ T/ →/ T/ / F/ |/ T/ / |/ FF/ →/ (/ E/ )/ |/ e/ |/ ε/ 证明/ ./ 首先/ 在/ 式/ (/ 3/ )/ 中/ ,/ 用/ 产生/ 式/ M/ →/ ~/ |/ / ‖/ |/ 替代/ E/ →/ E1ME2/ 中/ 的/ M/ 时/ ,/ 式/ (/ 3/ )/ 中/ 的/ 式/ (/ 3a/ )/ 与/ 产生/ 式/ (/ 2a/ )/ 完全相同/ ,/ 式/ (/ 3c/ )/ 和/ (/ 3d/ )/ 与/ 式/ (/ 2/ )/ 中/ 的/ 式/ (/ 2b/ )/ 和/ (/ 2c/ )/ 也/ 完全相同/ ,/ 因此/ ,/ 由式/ (/ 2/ )/ 推出/ 的/ 事件/ 模式/ 一定/ 也/ 是/ 式/ (/ 3/ )/ 的/ 事件/ 模式/ ./ 反之/ ,/ 因为/ 产生/ 式/ (/ 3/ )/ 比/ 产生/ 式/ (/ 2/ )/ 只/ 增加/ 了/ M/ →/ / ε/ / T/ / ε/ / ,/ 所以/ 仅/ 考虑/ 用/ M/ →/ / ε/ / T/ / ε/ / 替换/ E/ →/ E1ME2/ 中/ 的/ M/ 时所/ 产生/ 的/ 事件/ 模式/ 是否是/ 产生/ 式/ (/ 2/ )/ 的/ 事件/ 模式/ 即可/ ./ 当用/ M/ →/ / ε/ / T/ / ε/ / 替换/ E/ →/ E1ME2/ 中/ 的/ M/ 时/ ,/ 可以/ 推导/ 出/ 如下/ 的/ 事件/ 模式/ ,/ E/ / E1/ / ε/ / T/ / ε/ / E2/ / E1/ / ε/ / e2/ / …/ / em/ -/ 1/ / ε/ / E2/ / e1/ / ε/ / e2/ / …/ / em/ -/ 1/ / ε/ / e2/ / e1/ / e2/ / …/ / em/ -/ 1/ / em/ ./ 下面/ 证明/ 该/ 事件/ 模式/ 也/ 可以/ 由/ 产生/ 式/ (/ 2/ )/ 推出/ ./ 用/ 产生/ 式/ (/ 2/ )/ 进行/ 推导/ ,/ 有/ E/ / T/ / T/ / F/ / T/ / F/ / …/ / F/ / F/ / F/ / F/ / …/ / F/ / F/ / e1/ / e2/ / …/ / em/ -/ 1/ / em/ ./ 因此/ ,/ 由式/ (/ 3/ )/ 推出/ 的/ 事件/ 模式/ 也/ 是/ 式/ (/ 2/ )/ 的/ 事件/ 模式/ ./ 定理/ 得证/ ./ 在/ 用/ 产生/ 式/ (/ 3/ )/ 中/ 的/ M/ →/ / ε/ / T/ / ε/ / 替换/ E/ →/ E1ME2/ 中/ 的/ M/ 时/ ,/ 有/ E/ / E1/ / ε/ / T/ / ε/ / E2/ / E1/ / ε/ / e2/ / …/ / em/ -/ 1/ / ε/ / E2/ / E1/ / e1/ / …/ / em/ -/ 1/ / E2/ ,/ 其中/ 有/ TimeE1/ </ Timee2/ </ …/ </ Timeem/ -/ 1/ </ TimeE2/ ./ 如果/ E1/ 与/ E2/ 是/ 并行/ 事件/ (/ 协同/ 或者/ 同/ 生/ 事件/ 对/ )/ ,/ 则/ 产生/ 式/ M/ →/ / ε/ / T/ / ε/ / 的/ 物理/ 意义/ 就是/ 在/ 并行/ 的/ 事件/ 流中/ 插入/ 了/ 若干个/ 顺序/ 事件/ ./ 也就是说/ ,/ 横向/ 事件/ 流中/ 的/ 因果关系/ 、/ 协同/ 、/ 同/ 生/ 事件/ 关系/ 都/ 可以/ 按照/ 事件/ 发生/ 的/ 时间/ 进行/ 顺序/ 化/ 处理/ ./ 这为/ CEP/ 事件/ 模式/ 的/ 检测/ 提供/ 了/ 简化/ 的/ 处理/ 方法/ ./ 基于/ 上述/ 策略/ ,/ 给出/ 事件/ 流中/ CEA/ 事件/ 模式/ 的/ 检测/ 算法/ ./ 为了/ 简化/ 讨论/ ,/ 这里/ 仅/ 讨论/ 单一/ 算子/ 模式/ 的/ 检测/ 情况/ ,/ 其它/ 情况/ 类似/ ./ 算法/ 2/ ./ 基于/ CEA/ 模型/ 的/ 事件/ 模式/ 检测/ 算法/ ./ 输入/ :/ 事件/ 模式/ :/ E1o1E2o2/ …/ EnonEn/ +/ 1/ 和/ 事件/ 流/ 输出/ :/ 检测/ 率/ 统计/ 结果/ 1/ ./ begin2/ ./ stringstr/ [/ ]/ =/ “/ #/ E1o1E2o2/ …/ EnonEn/ +/ 1/ #/ ”/ ;/ 3/ ./ charitem/ =/ “/ ”/ ;/ // / 存放/ 一个/ 输入/ 符号/ / // 4/ ./ stringsub/ _/ Str/ [/ ]/ =/ “/ ”/ ;/ // / 存放/ 最/ 左/ 直接/ 子模式/ / // 5/ ./ stringstack/ [/ ]/ =/ “/ ”/ ;/ // / 存放/ 待查/ 符合/ 串/ / // 6/ ./ repeat/ // / 遍历/ 事件/ 流/ / // 7/ ./ j/ =/ 18/ ./ readitem/ ;/ // / 读入/ 输入/ 事件/ 流/ 的/ 一个/ / // 9/ ./ dowhilej/ </ n/ +/ 110/ ./ i/ =/ 1/ ;/ 11/ ./ docase12/ ./ caseitem/ =/ str/ [/ j/ +/ 1/ ]/ ∧/ str/ [/ j/ +/ 2/ ]/ =/ “/ ~/ ”/ 13/ ./ {/ stack/ [/ i/ ]/ =/ item/ ;/ // / Ei/ ,/ 压入/ 栈/ 中/ ,/ 待/ 匹配/ 检查/ / // ;/ 14/ ./ str/ _/ sub/ [/ i/ ]/ =/ str/ _/ str/ [/ i/ ]/ +/ stack/ [/ i/ ]/ ;/ 15/ ./ i/ =/ i/ +/ 1/ ;/ // / 栈顶加/ 1/ ,/ 事件/ 模式/ 指针/ 后移/ / // 16/ ./ stack/ [/ i/ ]/ =/ “/ ~/ ”/ ;/ // / “/ ~/ ”/ 压栈/ / // ;/ 17/ ./ str/ _/ sub/ [/ i/ ]/ =/ str/ _/ sub/ [/ i/ ]/ +/ stack/ [/ i/ ]/ ;/ 18/ ./ }/ ;/ 19/ ./ caseitem/ =/ str/ [/ n/ +/ 1/ ]/ ∧/ str/ [/ n/ +/ 2/ ]/ =/ “/ #/ ”/ 20/ ./ i/ =/ i/ +/ 121/ ./ stack/ [/ i/ ]/ =/ En/ +/ 1/ // / En/ +/ 1/ 入栈/ / // 22/ ./ otherwise23/ ./ stack/ [/ ]/ =/ “/ ”/ // / E1o1E2o2/ …/ 未/ 匹配/ 的/ 子模式/ 出栈/ / // 24/ ./ loop/ ;/ 25/ ./ endcase26/ ./ j/ =/ j/ +/ 2/ ;/ 27/ ./ enddo28/ ./ ifstr/ _/ sub/ =/ “/ E1o1E2o2/ …/ EnonEn/ +/ 1/ ”/ 29/ ./ then/ {/ stack/ [/ ]/ =/ “/ ”/ // / E1o1E2o2/ …/ EnonEn/ +/ 1/ 出栈/ / // 30/ ./ elsestack/ [/ ]/ =/ “/ ”/ // / 所有/ item/ 出栈/ / // 31/ ./ loopPage932/ ./ endif33/ ./ untilitem/ =/ “/ #/ ”/ // / 文件/ 结束/ / // 34/ ./ printcount/ ;/ 35/ ./ end/ 算法/ 2/ 的/ 时间/ 复杂度/ 是/ O/ (/ H/ / L/ )/ ,/ 其中/ H/ 是/ 事件/ 模式/ 的/ 长度/ ,/ L/ 是/ 输入/ 事件/ 流/ 的/ 长度/ ./ 空间/ 复杂度/ 为/ O/ (/ H/ / h/ )/ ,/ 这里/ 的/ h/ 是/ 临时/ 存放/ 输入/ 符号/ 内存/ 的/ 长度/ ./ 算法/ 2/ 是/ 对/ 基于/ 算符/ 优先/ 文法/ 的/ 词法/ 分析/ 算法/ 的/ 改进/ ./ 3.3/ CEP/ 引擎/ 测试/ 大/ 数据/ 生成/ 算法/ CEP/ 引擎/ 的/ 任务/ 是/ 在/ 不同/ 数据源/ 顺序/ 混杂/ 的/ 事件/ 流中/ 发现/ 感兴趣/ 的/ 事件/ 模式/ ./ 因此/ ,/ 为了/ 检验/ CEP/ 引擎/ 对大/ 数据/ 的/ 处理/ 能力/ ,/ 就/ 需要/ 有/ 体积/ 足够/ 庞大/ ,/ 或者/ 不断/ 流入/ 的/ 数据流/ ;/ 同时/ ,/ 大/ 数据/ 中/ 还/ 应该/ 有/ 各种/ 分布/ 的/ 事件/ 模式/ ./ 本节/ 提出/ 一种/ 基于/ 复杂/ 事件/ 代数/ 模型/ 的/ CEP/ 测试/ 大/ 数据/ 自动/ 生成/ 算法/ ,/ 来/ 实现/ 对/ CEP/ 引擎/ 的/ 测试/ 任务/ 和/ 目的/ ./ 本节/ 提出/ 基于/ 纵/ // 横/ CEA/ 模型/ 的/ 大/ 数据/ 自动/ 生成/ 算法/ ./ 生成/ 的/ 大/ 数据/ 集如式/ (/ 3/ )/ 所示/ ./ 其中/ :/ 〈/ E11/ ,/ E21/ ,/ …/ ,/ En1/ 〉/ ,/ 〈/ E12/ ,/ E22/ ,/ …/ ,/ En2/ 〉/ ,/ …/ ,/ 〈/ E1m/ ,/ E2m/ ,/ …/ ,/ Enm/ 〉/ 是/ 在/ P1/ ,/ P2/ ,/ …/ ,/ Pm/ -/ 1/ ,/ Pm/ 读取/ 点读/ 到/ 的/ m/ 个/ 纵向/ 事件/ 流/ ;/ 而/ 〈/ E11/ ,/ E12/ ,/ …/ ,/ E1m/ 〉/ ,/ 〈/ E21/ ,/ E22/ ,/ …/ ,/ E2m/ 〉/ ,/ …/ ,/ 〈/ En1/ ,/ En2/ ,/ …/ ,/ Enm/ 〉/ 是/ 与/ 上述/ m/ 个/ 纵向/ 事件/ 流/ 交织/ 在/ 一起/ 的/ 横向/ 事件/ 流/ ./ 即/ 纵向/ 事件/ 流/ :/ E11/ / E21/ / …/ / En1/ ,/ E12/ / E22/ / …/ / En2/ ,/ …/ ,/ E1m/ / E2m/ / …/ / Enm/ 和/ 横向/ 事件/ 流/ :/ E1/ ,/ i1/ / E1/ ,/ i2/ / …/ / E1/ ,/ im/ ;/ E2/ ,/ i1/ / E2/ ,/ i2/ / E2/ ,/ i3/ / …/ / E2/ ,/ im/ ;/ …/ ;/ En/ ,/ i1/ / En/ ,/ i2/ / En/ ,/ i3/ / …/ / En/ ,/ im/ ./ 其中/ ,/ i1/ ,/ i2/ ,/ …/ ,/ im/ 是/ 有/ 因果/ ,/ 或者/ 协同/ ,/ 或者/ 同/ 生/ 事件/ 关系/ 的/ 事件/ 下标/ ,/ / 表示/ 上述/ 算子/ 的/ 统称/ ./ 为了/ 明确/ 区分/ 这些/ 下标/ ,/ 用/ 逗点/ 与/ 矩阵/ 的/ 行/ 下标/ 进行/ 了/ 必要/ 的/ 区分/ ./ 测试数据/ 生成/ 算法/ 如/ 算法/ 3/ ./ 算法/ 3/ ./ 生成/ CEP/ 引擎/ 测试数据/ ./ 输入/ :/ 纵/ // 横/ CEA/ 模型/ 的/ 维度/ m/ 和/ n/ ,/ 以及/ 拟/ 生成/ 事件/ 输出/ :/ 一个/ 如式/ (/ 3/ )/ 所示/ 的/ 事件/ 集合/ 1/ ./ begin2/ ./ inti/ ,/ j/ =/ 1/ ;/ 3/ ./ dowhile/ (/ 1/ )/ 4/ ./ fori/ =/ 1ton5/ ./ forj/ =/ itom6/ ./ {/ k/ =/ 1/ ;/ 7/ ./ ifP/ (/ X/ =/ k/ )/ / ratioand/ (/ m/ // 2/ )/ =/ 08/ ./ gent/ _/ ID/ (/ eventsID/ )/ ;/ // / 生成/ 标识符/ / // 9/ ./ gent/ _/ Alias/ (/ eventAlias/ )/ ;/ // / 生成/ 别名/ ,/ 如/ 10/ ./ gent/ _/ Location/ (/ eventsLocation/ )/ ;/ // / 事件/ 发/ 11/ ./ gent/ _/ Type/ (/ event/ ’/ smode/ )/ ;/ // / 生成/ 指定/ 事件/ 12/ ./ gent/ _/ Moment/ (/ eventMoment/ )/ ;/ // / 生成/ 事件/ 13/ ./ gent/ _/ Simulation/ (/ eventSimulation/ )/ // / 记录/ 事/ 14/ ./ else15/ ./ gent/ _/ ID/ (/ eventsID/ )/ ;/ // / 生成/ 标识符/ / // 16/ ./ gent/ _/ Alias/ (/ eventAlias/ )/ ;/ 17/ ./ gent/ _/ Location/ (/ eventsLocation/ )/ ;/ 18/ ./ gent/ _/ Type/ (/ )/ ;/ // / 非/ 指定/ 事件/ 的/ 类型/ / // 19/ ./ gent/ _/ Moment/ (/ eventMoment/ )/ ;/ // / 事件/ 发生/ 的/ 20/ ./ gent/ _/ Simulation/ (/ eventSimulation/ )/ // / 事件/ 发/ 21/ ./ endif22/ ./ }/ }/ ;/ 23/ ./ read/ (/ n/ )/ ;/ // / 初始化/ n/ ,/ 以便/ 生成/ n/ 个/ 横向/ 事件/ 流/ / // 24/ ./ read/ (/ event/ ’/ smode/ )/ ;/ // / 新/ 的/ 事件/ 模式/ 类型/ / // 25/ ./ ifn/ =/ 0/ // / 退出/ 循环/ ,/ 结束/ 生成/ 事件/ 流/ / // 26/ ./ thenskip27/ ./ enddo28/ ./ end/ 算法/ 中/ 的/ P/ (/ X/ =/ k/ )/ 满足/ 指定/ 的/ 分布/ :/ 如/ PoissonDistribution/ :/ P/ (/ X/ =/ k/ )/ =/ λ/ ke/ -/ λ/ // k/ !/ ,/ k/ =/ 0/ ,/ 1/ ,/ 2/ ,/ …/ ,/ (/ 3/ -/ 2/ )/ ./ 设/ λ/ =/ v/ ×/ p/ ,/ 其中/ v/ 是/ 拟/ 生成/ 事件/ 集中/ 事件/ 的/ 数量/ ,/ 这里/ v/ =/ m/ ×/ n/ ,/ 如/ TB/ 级/ ,/ ZB/ 级/ 等/ ,/ p/ 是/ 一个/ 输入/ 值/ ,/ 它/ 可以/ 是/ 很小/ 的/ 实数/ ,/ 如/ 0.0002/ ,/ 0.00003/ 等/ ;/ ratio/ 为/ 输入/ 值/ ,/ 表示/ 拟/ 生成/ 某/ 类型/ 事件/ 的/ 比例/ ,/ 如/ 0.0002/ ,/ 0.00003/ 等/ ,/ ratio/ 表示/ 在/ 某个/ 纵向/ 事件/ 流中拟/ 生成/ 的/ 指定/ 因果/ 事件/ ,/ 或/ 协同/ (/ 同/ 生/ )/ 事件/ 的/ 个数/ ,/ m/ // 2/ 表示/ 在/ 偶数/ 位置/ 上/ 生成/ 指定/ 事件/ ,/ 当然/ 也/ 可以/ 在/ 奇数/ 位置/ ,/ 或者/ 随机/ 的/ 位置/ 上/ 生成/ ,/ 以便/ 体现/ 事件/ 发生/ 的/ 随机性/ ./ 算法/ 中/ 的/ 外层/ 循环/ 先/ 从/ n/ 开始/ ,/ Page10/ 内层/ 循环/ 从/ m/ 开始/ ,/ 这样/ 方便/ 不同/ 类型/ 事件/ 在/ 不同/ 顺序/ 事件/ 流中/ 的/ 分布/ ,/ 也/ 方便/ 大/ 数据流/ 的/ 形成/ ./ 即/ ,/ 不断/ 地/ 初始化/ n/ 值/ ,/ 不断/ 地/ 生成/ 新/ 的/ 事件/ 模式/ 数据/ ,/ 就/ 可以/ 在/ m/ 个/ 读取/ 点/ 不断/ 地/ 生成/ 事件/ 流/ ./ 算法/ 的/ 时间/ 和/ 空间/ 复杂性/ 均/ 为/ O/ (/ m/ ×/ n/ )/ ./ 算法/ 中/ 一对/ 关键/ 函数/ gent/ _/ Type/ (/ event/ ’/ smode/ )/ 和/ gent/ _/ Type/ (/ )/ ,/ 它们/ 分别/ 产生/ 指定/ 事件/ 模式/ 类型/ 下/ 的/ 事件/ 和/ 任意/ 一个/ 事件/ ./ 事件/ 模式/ 类型/ 包括/ 因果/ 型/ 事件/ 、/ 协同/ 型/ 事件/ 、/ 同生型/ 事件/ 、/ 选择/ 型/ 事件/ ,/ 以及/ 无/ 类型/ 事件/ ,/ 这些/ 模式/ 中/ 事件/ 分布/ 在/ 横向/ 事件/ 流中/ ./ 例如/ ,/ 一个/ 混合/ 事件/ 模式/ CEA/ 混合/ =/ A/ ~/ B/ ~/ C/ / D/ ‖/ E/ ‖/ F/ ‖/ G/ ,/ 对应/ 的/ 横向/ 事件/ 流为/ E11/ / E12/ / …/ / E17/ =/ A/ ~/ B/ ~/ C/ / D/ ‖/ E/ ‖/ F/ ‖/ G/ ./ 为此/ ,/ gent/ _/ Type/ (/ event/ ’/ smode/ )/ 的/ 求解/ 算法/ 如下/ ./ gent/ _/ Type/ (/ event/ ’/ smode/ )/ // / 生成/ 指定/ CEA/ 模/ 输入/ :/ CEA/ 模式/ ,/ 如/ A/ ~/ B/ / C/ / D/ ‖/ E/ ‖/ F/ ‖/ G/ ,/ 在/ p1/ 输出/ :/ CEA/ 模式/ 下/ 的/ 一个/ 事件/ 1/ ./ begin2/ ./ ifm/ =/ 1thenreplaceEi/ ,/ 11withE11/ // / 横向/ 事件/ 流/ 3/ ./ if/ [/ m/ // 2/ ]/ =/ 0then4/ ./ replaceEi/ ,/ imwithE1m/ +/ 1/ // / 在/ 横向/ 事件/ 流中/ 偶数/ 5/ ./ else6/ ./ replaceEi/ ,/ imwithEim/ ;/ 7/ ./ endif8/ ./ end/ 算法/ 中/ 另/ 一个/ 函数/ gent/ _/ Simulation/ (/ eventSimulation/ )/ 用于/ 生成/ 本/ 事件/ 被/ 激发/ 的/ 动作/ ,/ 在/ 没有/ 指定/ 动作/ 时/ ,/ 可以/ 把/ 事件/ 发生/ 的/ 概率分布/ 作为/ 激发/ 动作/ ;/ 否则/ 应该/ 生成/ 一个/ 具体/ 的/ 激发/ 动作/ ,/ 如/ 事件/ 混合/ 模式/ :/ A/ ~/ B/ ~/ C/ / D/ ‖/ E/ ‖/ F/ ‖/ G/ 中/ 的/ B/ 就是/ 一个/ 被/ 因果/ 激发/ 的/ 事件/ ,/ 所以/ 应该/ 生成/ 它/ 的/ 因果/ 算子/ 符号/ 作为/ 激发/ 动作/ ./ 对应/ 的/ 函数/ 算法/ 如下/ ./ gent/ _/ Simulation/ (/ eventSimulation/ )/ // / 生成/ 事/ 输入/ :/ CEA/ 模式/ ,/ 如/ A/ ~/ B/ / C/ / D/ ‖/ E/ ‖/ F/ ‖/ G/ ;/ 输出/ :/ CEA/ 模式/ 中/ 事件/ 被/ 激发/ 的/ 动作/ 1/ ./ begin2/ ./ ifm/ =/ 1thenreplacesimulationwithP/ // / 横向/ 事/ 3/ ./ if/ [/ m/ // 2/ ]/ =/ 0then4/ ./ replacesimulationwithE1m/ // / 在/ 横向/ 事件/ 流中/ 当/ 5/ ./ else6/ ./ replacesimulationwithEim/ -/ 1/ ;/ // / 在/ 横向/ 事件/ 流/ 7/ ./ endif8/ ./ end/ 算法/ 3/ 中/ 的/ 其它/ 事件/ 子函数/ 没有/ 太多/ 的/ 细节/ ,/ 在/ 实验/ 研究/ 中/ 再/ 给出/ 具体/ 介绍/ ./ 4/ 实验/ 研究/ 本节/ 以/ RFID/ 物/ 联网/ 为/ 应用领域/ 背景/ ,/ 检验/ 提出/ 算法/ 的/ 有效性/ 和/ 可行性/ ./ 4.1/ RFID/ 物/ 联网/ 应用/ 场景/ 课题组/ 依照/ EPCglobal/ 标准/ ①/ 设计/ 了/ 一个/ RFID/ 物/ 联网/ 示范/ 系统/ ,/ 该/ 系统/ 由/ 以下/ 主要/ 部件/ 构成/ :/ RFID/ 识读/ 器/ 管理系统/ ,/ 应用层/ 事件/ 过滤/ 系统/ 和/ 电子标签/ 信息系统/ ./ 该/ 系统/ 的/ 一个/ 应用/ 示意图/ 如图/ 1/ 所示/ ./ 其中/ :/ 图/ 1/ 中/ 的/ 客户服务/ (/ 如/ 图标/ 所示/ )/ ,/ 生产/ 基地/ (/ 如/ 图标/ 所示/ )/ 和/ 仓库/ 物流/ (/ 如/ 图标/ 所示/ )/ 在/ 电子标签/ 信息系统/ 的/ 控制/ 下/ 完成/ 其/ 各自/ 的/ 功能/ ;/ RFID/ 识读/ 器/ 管理系统/ (/ 如/ 图标/ 所示/ )/ 负责/ 在/ 订货/ 客户/ 库房/ 卸货/ 时/ 进行/ 货物/ 的/ 清点/ ,/ 以及/ 对/ 识读/ 器/ 的/ 管理/ ./ 应用层/ 事件/ 过滤/ 系统/ (/ 如/ 图标/ 所示/ )/ 负责/ 对/ 物品/ 销售/ 数据/ 进行/ 过滤/ 、/ 分析/ 和/ 汇总/ ,/ 最终/ 形成/ 各种/ 报告/ ./ 应用层/ 事件/ 过滤/ 系统/ 是/ 一个/ 典型/ 的/ CEP/ 系统/ ,/ 它/ 的/ 事件处理/ 能力/ ,/ 如对/ 业务/ 模式/ 辨析/ 、/ 统计/ 和/ 解释/ 等/ 关系/ 到/ RFID/ 物/ 联网/ 的/ 应用/ 效果/ ./ RFID/ 物/ 联网/ 中/ 的/ 电子标签/ (/ ElectronicProductCode/ ,/ EPC/ )/ 有/ 多种类型/ ,/ 实验/ 研究/ 中/ 采用/ EPCglobal/ 标准/ 中/ 的/ SGTIN/ -/ 96/ 标签/ 作为/ 物品/ 的/ 标示/ ,/ 格式/ 如表/ 2/ 所示/ ./ 头滤值/ 比率/ 公司/ 前缀/ 参考值/ 序列号/ 83320/ ~/ 2424/ ~/ 2038/ 头占个/ 二进制位/ ,/ 滤值/ 占/ 3/ 个/ 二进制位/ ,/ 以/ 此类/ ①/ EPCglobal/ ./ Architectureframeworkfinalversion/ ./ http/ :/ // // ture/ _/ 1/ _/ 4/ -/ framework/ -/ 20101215/ ./ pdf/ ,/ 15December2010/ ,/ Page11/ 推/ ./ SGTIG/ -/ 96/ 是/ 最/ 常用/ 的/ 物品/ 编码/ ,/ 实验/ 中/ 把/ 该/ 标签/ 作为/ 原子事件/ 中/ 的/ 别名/ ./ 图/ 1RFID/ 物/ 联网/ 工作/ 流/ 模型/ 实验/ 中/ 设计/ 了/ 3/ 个/ EPC/ 读取/ 点/ A/ ,/ B/ ,/ C/ ./ 在/ 这/ 3/ 个/ 读取/ 点上/ 分别/ 形成/ 纵向/ 事件/ 流/ 和/ 横向/ 事件/ 流/ ,/ 其中/ 可以/ 有/ 各种/ 事件/ 关系/ 存在/ ,/ 如/ EA/ ~/ EB/ ~/ EC/ ./ 4.2/ CEP/ 引擎/ 测试数据/ 生成/ 实验/ 根据/ 图/ 1/ 设计/ 的/ 应用/ 场景/ 以及/ 纵/ // 横/ CEA/ 模型/ (/ 式/ (/ 3/ )/ )/ ,/ CEP/ 引擎/ 测试数据/ 集/ 应为/ n/ ×/ 3/ 的/ 矩阵/ ,/ 其中/ n/ 是/ 一个/ 可变/ 的/ 纵向/ 事件/ 模型/ 的/ 长度/ ,/ 数字/ 3/ 为/ 应用/ 场景/ 中/ 3/ 个/ 不同/ 的/ RFID/ 识读/ 器/ 的/ 读取/ 点/ 个数/ ./ 实验/ 中/ 分别/ 生成/ 了/ 5GB/ 、/ 10GB/ 、/ 15GB/ 、/ 20GB/ 、/ 30GB/ 、/ 40GB/ 和/ 60GB/ 共/ 7/ 组/ 不同/ 规模/ 的/ 测试数据/ 集/ ,/ 用于/ 测试/ 在/ 不同/ 量级/ 下/ 测试/ 复杂/ 事件/ 模式/ 检测/ 的/ 处理/ 能力/ 和/ 效果/ ./ 按照/ 算法/ 3/ 中/ 采用/ 的/ 事件/ 模式/ 概率分布/ ,/ 在/ 测试数据/ 集中/ 分别/ 播撒/ 了/ 不同/ 数量/ 的/ 事件/ 模式/ ./ 测试数据/ 的/ 结构/ 如表/ 3/ 所示/ ./ 算法/ 3/ 实现/ 的/ 数据/ 字典/ 如下/ :/ E/ =/ ID/ +/ Domain/ +/ Alias/ +/ Type/ +/ Moment/ +/ Stimu/ -/ lation/ +/ Location/ 数据量/ // GB/ 模式/ 类型/ 1015203040601/ …/ 9/ ;/ ID/ =/ [/ char/ ,/ char/ |/ num/ ]/ ;/ char/ =/ a/ …/ z/ ,/ A/ …/ Z/ ;/ num/ =/ Domain/ =/ {/ char/ }/ Alias/ =/ {/ [/ 0/ ,/ 1/ ]/ }/ 96/ // // 采用/ SGTIN/ -/ 96/ 编码/ 作为/ 物品/ Type/ =/ [/ Aggregation/ ,/ Transaction/ ]/ // // 实验/ 中/ 选择/ EPCglobal/ 标准/ 中/ 规定/ 的/ 集合/ 事件/ 类型/ 、/ 交易/ 事件/ 类型/ 作为/ 事件/ 关系/ 样本/ ./ 因为/ 这/ 两种/ 事件/ 类型/ 可以/ 根据/ 业务/ 场景/ 产生/ 很/ 多种/ 事件/ 关系/ 组合/ ,/ 如/ 一个/ 集装箱/ 中/ 的/ 所有/ 物品/ 的/ 编码/ 可以/ 构成/ 一个/ 集合/ 事件/ ,/ 当/ 集装箱/ 中/ 的/ 货物/ 在/ A/ ,/ B/ ,/ C/ 这/ 3/ 个/ 不同/ 地点/ 卸货/ 的/ 时候/ ,/ 就/ 会/ 产生/ A/ ~/ B/ ~/ C/ 事件/ 组合/ ,/ 表明/ B/ 和/ C/ 事件/ 是因为/ Page12A/ 的/ 发生/ 而/ 发生/ ./ Moment/ =/ 0/ …/ 9Stimulation/ =/ [/ possion/ ]/ // // 有/ 两种/ 取值/ :/ 当该/ 事件/ 是/ 在/ 指定/ 的/ 事件/ 模式/ 中/ ,/ 字/ 段/ 取值/ 为/ 事件/ 模式/ 的/ 算子/ ,/ 如/ 事件/ 模式/ A/ ~/ B/ ~/ C/ 中/ 的/ A/ ,/ B/ ,/ C/ 这/ 3/ 个/ 事件/ 的/ Stimulation/ 字段/ 填/ “/ ~/ ”/ ;/ 而/ 其它/ 非/ 模式/ 指定/ 事件/ 填写/ “/ possion/ ”/ ,/ 简称/ “/ PS/ ”/ ./ Location/ =/ {/ char/ }/ // // 只/ 考虑/ A/ ,/ B/ ,/ C/ 这/ 3/ 个/ 订货/ 商/ 的/ 业务/ 情况/ ./ 采用/ Java/ 技术/ 实现/ 数据/ 生成/ 算法/ ,/ 生成/ 的/ 测试数据/ 集如图/ 2/ 所示/ ./ 图/ 2/ 是/ 基于/ 算法/ 3/ ,/ 并/ 按照/ 图/ 1/ 所示/ 的/ RFID/ 物/ 联网/ 工作/ 流/ 模型/ 生成/ 的/ 测试数据/ 集/ 截图/ ./ 其中/ ,/ 各个/ 字段/ 的/ 含义/ 参加/ 数据/ 字典/ 定义/ ./ A/ 、/ B/ 和/ C/ 这/ 3/ 个/ 事件/ 的/ 标示/ 均/ 为/ 96/ 位/ EPC/ ,/ 格式/ 参加/ 表/ 2/ ./ 三者/ 为/ 一个/ 集合/ 事件/ 中/ 的/ 子/ 事件/ ,/ 从/ 编码/ 的/ 格式/ 中/ 可以/ 鉴别/ ,/ 即/ 在/ 表/ 2/ 中/ 只有/ 序列号/ 不同/ ,/ 而/ 具有/ 共同/ 的/ 类型/ 编码/ ,/ 因此/ 它们/ 形成/ 了/ 一个/ A/ ~/ B/ ~/ C/ 事件/ 模式/ ./ 测试数据/ 集中/ 每个/ 事件/ 的/ 七元/ 组/ 按行/ 存放/ ,/ 3/ 个/ 读取/ 点/ 的/ 并行/ 事件/ 流/ ,/ 依次/ 按行/ 摆放/ ./ 不同/ 测试数据/ 集/ 生成/ 的/ 时间/ 如图/ 3/ 所示/ ./ 4.3/ CEA/ 事件/ 模式/ 检测/ 算法/ 实验/ 为了/ 比较/ 大/ 数据/ 复杂/ 事件处理/ 引擎/ 在/ 不同/ 计算环境/ 下/ 效率/ ,/ 推荐/ CEA/ 事件/ 模式/ 处理/ 的/ 最佳/ 运行/ 环境/ ,/ 下面/ 分别/ 在/ 单机/ 和/ 集群/ 上/ 实现/ CEA/ 事件/ 模式/ 检测/ 算法/ (/ 算法/ 3/ )/ ./ 在/ 表/ 4/ 所示/ 的/ 实验/ 环境/ 下/ ,/ 分别/ 对/ A/ ~/ B/ ~/ C/ ,/ A/ / B/ ~/ C/ 等/ 事件/ 模式/ 进行/ 过滤/ 检测/ ,/ 不同/ 测试数据/ 集/ 的/ 检测/ 结果/ 如表/ 5/ 所示/ ./ 如/ ,/ 对/ 事件/ 模式/ A/ ~/ B/ ~/ C/ 共/ 分布/ 了/ 250000/ 个/ ,/ 检测/ 到/ 的/ 该/ 事件/ 模式/ 总/ 数目/ 为/ 2499914/ ,/ 发现/ 数量/ 比例/ 为/ 2499914/ // 2500000/ =/ 99.99656/ %/ ≈/ 100/ %/ ,/ 运行/ 时间/ 为/ 9.24/ min/ ./ 环境/ CPUCluster2/ ./ 4GHzLinuxHadoop/ -/ 1.0/ ./ 4PC3/ ./ 0GHz/ +/ 4CoreWindowsJava/ 数据量/ // GB/ 模式/ 类型/ // 数量/ 发现/ 数量/ 比例/ // %/ 5A/ ~/ B/ ~/ C/ // 250000010A/ / B/ ~/ C/ // 500000015A/ ~/ B/ / C/ // 750000020A/ ~/ B/ ‖/ C/ // 1000000030A/ / B/ / C/ // 1500000040A/ / B/ ~/ C/ // 2000000060A/ ~/ B/ / C/ // 30000000/ 有些/ 事件/ 模式/ 的/ 发现/ 率/ 未/ 达到/ 100/ %/ ,/ 主要/ 原因/ 是/ 随着/ 数据量/ 的/ 增大/ ,/ 数据/ 噪声/ 干扰/ 也/ 不断/ 增加/ ./ 虽然/ 有/ 漏检/ 情况/ 发生/ ,/ 但/ 检测/ 成功率/ 基本/ 接近/ 100/ %/ ,/ 所以/ 完全/ 可以/ 达到/ 对/ 事件/ 模式/ 的/ 检测/ 效果/ ./ 在/ 测试数据/ 生成/ 效率/ 方面/ 与/ 著名/ 的/ 大/ 数据/ 基准/ FinCos/ [/ 7/ ]/ 中/ 的/ 数据/ 生成器/ Pairs/ 进行/ 了/ 比较/ ./ Pairs/ 工具/ 在/ 生成/ 同等/ 体积/ 数据/ 集时/ 的/ 耗时/ 明显/ 高于/ 本文/ 基于/ 算法/ 3/ 实现/ 工具/ 的/ 耗时/ ,/ 参见/ 图/ 4/ 中/ 的/ 两条/ 曲线/ ./ 其/ 原因/ 在于/ Pairs/ 生成/ 数据/ 集/ 的/ 时候/ ,/ 需要/ 重构/ 工作/ 流/ 模型/ ,/ 应用/ 场景/ 比较复杂/ ./ Pairs/ 采用/ 泊松/ 分布/ 作为/ 事件/ 模式/ 的/ 随机/ 促发/ 条件/ ,/ 而/ 本文/ 提出/ 的/ 算法/ 3/ 可以/ 采用/ 泊松/ 分布/ 和/ 正态分布/ ,/ 其/ 生成/ 数据/ 的/ 仿真/ 效果/ 比/ Pairs/ 手段/ 更/ 丰富/ ./ 在/ 生成/ 数据/ 多样性/ 方面/ ,/ 由于/ 两者/ 的/ 工作/ 流/ 不同/ ,/ 所以/ 还/ 无法/ 比较/ 其/ 优劣/ ./ Page13/ 对/ 事件/ 模式/ 检测/ 算法/ 的/ 运行/ 时间/ 进行/ 了/ 比较/ 实验/ ,/ 分别/ 统计/ 了/ 基于/ PC机/ 和/ 基于/ Hadoop/ 集群/ 的/ 运行/ 效率/ ,/ 实验/ 结果/ 如图/ 4/ 所示/ ./ 其中/ ,/ 在/ 数据量/ 较/ 小/ 的/ 情况/ 下/ ,/ 如/ 5/ ~/ 30GB/ 时/ ,/ PC机/ 的/ 耗时/ 比较/ 少/ ,/ 而/ Hadoop/ 集群/ 的/ 耗时/ 较/ 高/ ;/ 当/ 数据量/ 大于/ 30GB/ 时/ ,/ 情况/ 正好/ 相反/ ,/ Hadoop/ 集群/ 耗时/ 低于/ PC机/ 的/ 耗时/ ./ 为了/ 验证/ 这样/ 判断/ ,/ 又/ 对/ Hadoop/ 集群/ 进行/ 了/ 系统配置/ 调优/ 实验/ ,/ 实验/ 数据/ 参见/ 表/ 6/ ./ 数据/ 节点/ 任务/ 耗时/ // s/ 耗时/ // GB/ 耗时/ 差/ // s55106/ ./ 211.2420/ ./ 33657147.891/ ./ 5783051020.640/ ./ 6880.1353071416/ ./ 580.5526051424/ ./ 310.4050/ ./ 0366071626.480/ ./ 441/ 从表/ 6/ 可以/ 看出/ ,/ Hadoop/ -/ 1.0/ ./ 4/ 在/ 生成/ 30GB/ 数据/ 时/ ,/ 配置/ 7/ 个/ 数据/ 节点/ (/ 自动/ 配置/ 14/ 个/ 任务/ )/ 的/ 时候/ ,/ 执行/ 时间/ 会/ 有/ 一个/ 明显/ 的/ 下降/ ,/ 耗时/ 分别/ 为/ 20.64/ min/ 和/ 16.58/ min/ ;/ 而/ 在/ 生成/ 5GB/ 数据/ 时/ ,/ 配置/ 7/ 个/ 数据/ 节点/ 并/ 没有/ 比/ 配置/ 5/ 个/ 节点/ 的/ 时候/ 耗时/ 降低/ ./ 从/ 耗时/ 与/ 数据量/ 的/ 比较/ ,/ 即/ 耗时/ // GB/ 的/ 值/ 也/ 可以/ 看出/ ,/ 在/ 30GB/ 配置/ 7/ 个/ 数据/ 节点/ 时/ 的/ 比值/ 是/ 0.552/ ,/ 比值/ 最低/ ./ 另外/ ,/ 7/ 个/ 数据/ 节点/ 比/ 5/ 个/ 数据/ 节点/ 的/ 耗时/ 差/ 随着/ 数据量/ 的/ 增大/ 逐渐/ 变小/ ,/ 所以/ 在/ 大/ 数据量/ 情况/ 下/ ,/ 分配/ 的/ 数据/ 节点/ 作用/ 不/ 明显/ ,/ 而/ 在/ 数据量/ 小/ 的/ 情况/ 下/ ,/ 数据/ 节点/ 多会/ 影响/ Hadoop/ 平台/ 的/ 效率/ ./ 上述/ 数据/ 说明/ 在/ 数据量/ 比较/ 小/ 的/ 时候/ ,/ 由于/ 系统/ 在/ 调度/ 上/ 消耗/ 了/ 一定/ 的/ 时间/ ,/ 其/ 性能/ 并不一定/ 是/ 最好/ 的/ 情况/ ,/ 只有/ 在/ 数据量/ 达到/ 一定/ 值/ 的/ 时候/ (/ 如/ 30GB/ )/ 的/ 时候/ ,/ Hadoop/ 平台/ 才/ 进入/ 比较/ 高效/ 的/ 运行/ 状态/ ./ 5/ 相关/ 研究/ 本/ 节/ 分别/ 综述/ 复杂/ 事件/ 模型/ 、/ CEP/ 处理/ 技术/ 和/ CEP/ 测试/ 基准/ 三/ 方面/ 的/ 相关/ 研究成果/ ./ Saleh/ 等/ 人/ [/ 8/ ]/ 的/ 工作/ 与/ 本文/ 研究/ 方法/ 相似/ ,/ 采用/ 代数/ 的/ 理论/ 和/ 方法/ 支持/ 复杂/ 事件/ 的/ 抽样/ 、/ 过滤/ 和/ 加工过程/ 的/ 算法/ 描述/ ,/ 如/ 事件/ 的/ 交集/ 、/ 合集/ 、/ 顺序/ 等/ 事件/ 集合/ 运算/ ./ 但/ 作者/ 仅/ 利用/ 这些/ 集合/ 运算/ 支持/ 对/ 数据/ 的/ 重排/ ,/ 而/ 没有/ 提供/ 对/ 事件/ 模式/ 的/ 检测/ 和/ 识别/ ./ Ogasawara/ 等/ 人/ [/ 9/ ]/ 以/ 科学实验/ 工作/ 流/ 作为/ 研究/ 对象/ ,/ 研究/ 复杂/ 事件处理/ 的/ 过程/ 优化/ ./ 采用/ 关系/ 代数/ 作为/ 建模/ 手段/ ,/ 定义/ 了/ 一组/ 关系/ 和/ 关系/ 的/ 运算/ ,/ 如/ Map/ 、/ SplitMap/ 、/ Filter/ 、/ SRQuery/ 和/ JionQuery/ 等/ ./ 这些/ 关系/ 运算/ 用于/ 复杂/ 事件/ 映射/ 、/ 映射/ 分割/ 、/ 过滤/ 和/ 数据检索/ 操作/ ./ 该/ 研究/ 工作/ 主要/ 解决/ 了/ 复杂/ 事件/ 的/ 处理/ 和/ 事件/ 模式/ 的/ 过滤/ 操作/ 表述/ 问题/ ,/ 没有/ 给出/ 具体/ 的/ 实现/ 手段/ ,/ 比如/ ,/ 对/ 流式/ 数据/ 如何/ 存储/ 和/ 快速/ 处理/ 都/ 没有/ 给出/ 详细/ 的/ 解决方案/ ./ Dias/ 等/ 人/ [/ 10/ ]/ 论述/ 了/ 如何/ 用/ 代数/ 方法/ 建立/ 大/ 数据模型/ 的/ 问题/ ,/ 并/ 通过/ 实验/ 评价/ 代数/ 建模/ 途径/ 的/ 可行性/ ./ 孟由/ 等/ 人/ [/ 11/ ]/ 针对/ 大/ 数据/ 状态/ 下/ ,/ 对/ 扩展/ 语义/ 复杂/ 事件处理/ 模型/ 的/ 需求/ ,/ 提出/ 了/ 基于/ 算子/ 的/ 可/ 扩展/ 复杂/ 事件处理/ 模型/ ./ 该/ 模型/ 能够/ 较/ 好/ 地/ 支持/ 现有/ 各类/ 查询/ 语义/ ,/ 具有/ 较/ 快/ 的/ 识别/ 速度/ ./ 但/ 研究/ 中/ 对/ 算子/ 的/ 定义/ 并/ 没有/ 给出/ 应有/ 的/ 数学/ 表述/ ,/ 所谓/ 的/ 算子/ 仅/ 解释/ 成/ 一种/ 复合/ 操作/ 函数/ ,/ 文中/ 也/ 没有/ 讨论/ 事件/ 之间/ 关系/ ./ 但/ 传统/ 的/ 系统/ 建模/ 技术/ 也/ 在/ 复杂/ 事件/ 模型/ 理论/ 中/ 扮演/ 主要/ 的/ 角色/ ./ Ma/ 等/ 人/ [/ 5/ ]/ 对/ 目前/ 在/ CEP/ 模型/ 研究/ 和/ 开发/ 中/ 使用/ 的/ 传统/ 系统/ 模型/ 进行/ 了/ 分类/ ,/ 包括/ :/ (/ 1/ )/ 基于/ 图/ 的/ CEP/ 模型/ [/ 12/ -/ 13/ ]/ ,/ 模型/ 中用/ 叶/ 节点/ 表示/ 原子事件/ ,/ 而父/ 节点/ 表示/ 按/ 一定/ 操作/ 语义/ 对子/ 树/ 事件/ 的/ 汇聚/ ,/ 逐层/ 汇聚/ 直到/ 复杂/ 事件/ 的/ 发生/ ./ 该/ 模型/ 虽然/ 结构/ 明晰/ ,/ 但/ 并/ 没有/ 对/ 事件/ 汇聚/ 的/ 类型/ 进行/ 分类/ 和/ 阐述/ ,/ 读者/ 不得不/ 根据/ 应用/ 场景/ 临时/ 定义/ 事件/ 的/ 关系/ 操作/ ;/ (/ 2/ )/ 基于/ 自动机/ 的/ CEP/ 模型/ [/ 14/ -/ 15/ ]/ ./ 把/ 所有/ 事件/ 映射/ 成/ 自动机/ 的/ 一个/ 状态/ ,/ 事件/ 的/ 发生/ 被/ 看成/ 是/ 状态/ 的/ 迁移/ ,/ 因此/ 一个/ 复杂/ 事件/ 与/ 一个/ 有限/ 状态机/ 模型/ 对应/ ./ 显然/ ,/ 这种/ 对应/ 没有/ 考虑/ 到/ 大/ 数据流/ 的/ 情况/ ,/ 表达/ 和/ 处理/ 能力/ 有限/ ;/ (/ 3/ )/ 基于/ PetriNet/ 的/ CEP/ 模型/ [/ 16/ ]/ ./ 把/ 复杂/ 事件/ 映射/ 成/ 一个/ PetriNet/ ,/ 其/ 输入/ 是/ 原子事件/ ,/ 输出/ 即/ 是/ 复杂/ 事件/ ,/ 这/ 实际上/ 也/ 是/ 一个/ 自动机/ 模型/ ./ 事件/ 模式/ 检测/ 是/ CEP/ 中/ 的/ 一个/ 关键技术/ ,/ 一直/ Page14/ 是/ 业界/ 研究/ 的/ 焦点/ ./ Agrawal/ 等/ 人/ [/ 17/ ]/ 设计/ 了/ 一个/ 模式/ 检测/ 的/ 一个/ 语义/ 框架/ ,/ 通过/ 定义/ 一些/ 语义/ 规则/ 为/ 模式/ 检测/ 提供/ 最优/ 选择/ 的/ 支持/ ./ 文献/ [/ 18/ -/ 19/ ]/ 对/ 目前/ 事件/ 模式/ 检测/ 技术/ 给出/ 了/ 评价/ ,/ 认为/ 目前/ 的/ 技术/ 只/ 限于/ 在/ 有限/ 的/ 数据/ 集中/ 检测/ 指定/ 的/ 事件/ 模式/ ,/ 而/ 无法/ 适应/ 大/ 数据流/ 的/ 应用/ 场景/ 中/ ,/ 主要/ 是/ 缺乏/ 对/ 事件/ 闭包/ 的/ 有效/ 支持/ ./ 非/ 确定性/ 的/ 事件处理/ 也/ 是/ 一个/ 重要/ 的/ 研究/ 领域/ ,/ 该/ 领域/ 主要/ 关注/ 对非/ 确定性/ 事件/ 的/ 说明/ ,/ 随机/ 事件/ 模型/ 等/ 复杂/ 的/ 数学/ 建模/ 问题/ [/ 20/ -/ 23/ ]/ ./ 由于/ 本文/ 不/ 讨论/ 非/ 确定/ 事件/ 的/ 处理/ 问题/ ,/ 这里/ 不再/ 比较/ ./ 物/ 联网/ 作为/ 大/ 数据/ 复杂/ 事件处理/ 的/ 典型/ 业务/ 领域/ ,/ 相关/ 研究/ 也/ 非常/ 活跃/ ./ Wang/ 等/ 人/ [/ 22/ ]/ 针对/ 物/ 联网/ 复杂/ 事件处理/ 中/ 的/ 能力/ 不足/ ,/ 提出/ 了/ 高性能/ 的/ 复杂/ 事件/ 流/ 处理/ 方法/ ./ 该/ 方法/ 采用/ 非/ 确定/ 的/ 有限/ 自动机/ 和/ 活动/ 实例/ 栈/ 解决/ 随机/ 事件/ 模式/ 的/ 检测/ 和/ 过滤/ 问题/ ,/ 但/ 只/ 限于/ 高层/ 物/ 联网/ 事件/ 的/ 处理/ ,/ 没有/ 对/ 细节/ 的/ 设计/ ,/ 实验/ 也/ 是/ 在/ 仿真/ 环境/ 下/ 进行/ ,/ 可/ 再现/ 难度/ 较大/ ./ Poul/ 等/ 人/ [/ 24/ ]/ 提出/ 了/ 一个/ 类似/ 于/ 数据库/ 查询/ 技术/ 的/ 高层/ 事件/ 模式/ 的/ 过滤/ 算法/ ./ 通过/ 说明/ 模式/ 查询/ 语句/ 实时/ 报告/ 事件/ 模式/ 的/ 查询/ 结果/ ./ 大/ 数据/ 相关/ 技术/ 研究/ 虽然/ 起步/ 较晚/ ,/ 但/ 也/ 有/ 一些/ 阶段性/ 研究成果/ 可以/ 参考/ ./ Yan/ 等/ 人/ [/ 25/ ]/ 提出/ 了/ 一个/ 并行/ 快速/ 迭代/ 聚类/ (/ PowerIterationClustering/ ,/ PIC/ )/ 算法/ ,/ 该/ 算法/ 有效/ 地/ 扩展/ 了/ 原/ PIC/ 算法/ 的/ 对/ 大/ 数据/ 的/ 处理/ 能力/ ./ Patel/ 等/ 人/ [/ 26/ ]/ 报告/ 了/ 利用/ 云/ 技术/ 实现/ 大/ 数据/ 并行处理/ 的/ 实验/ 结果/ ,/ 并/ 给出/ 了/ 肯定/ 的/ 结论/ ./ Abad/ 等/ 人/ [/ 27/ ]/ 利用/ 马尔科夫/ 过程/ 回报/ 模型/ 评价/ 大/ 数据处理/ 的/ 性能/ ,/ 给出/ 了/ 两种/ 生成/ 工作/ 流/ 的/ 算法/ ,/ 一个/ 用于/ 评价/ 常规/ 工作/ 流/ ,/ 另/ 一个/ 用于/ 评价/ 随机/ 工作/ 流/ 的/ 处理/ 性能/ ./ 下面/ 再/ 来/ 看看/ CEP/ 测试/ 基准/ 相关/ 研究/ 情况/ ./ 由于/ 目前/ 大/ 数据处理/ 引擎/ 多/ 采用/ Hadoop/ 平台/ 实现/ ,/ 因此/ 基于/ Hadoop/ 的/ 复杂/ 事件处理/ 引擎/ 测试/ 基准/ 研究/ 也/ 相对/ 较/ 多/ ./ CloudSuite/ ①/ 是/ 瑞典/ 国家/ 实验室/ 推出/ 的/ Hadoop/ 测试/ 基准/ ,/ 它/ 提供/ 了/ 8/ 种/ 服务/ ,/ 可以/ 真实/ 地/ 运行/ 被/ 检测/ 系统/ ,/ 从而/ 评价/ 被/ 检测/ 系统/ 的/ 性能/ ./ GridMix/ ②/ 是/ Hadoop/ 自带/ 的/ 一个/ 测试/ 基准/ ,/ 它/ 具备/ 评测/ 大规模/ 数据处理系统/ 所/ 需/ 的/ 各个/ 功能模块/ ,/ 包括/ :/ 产生/ 数据/ ,/ 生成/ 并/ 提交/ 作业/ ,/ 统计/ 作业/ 完成/ 时间/ 等/ ./ GridMix/ 更/ 适合/ 对/ 应用/ 级/ 的/ Hadoop/ 系统/ 进行/ 评测/ ,/ 而/ 不是/ 针对/ 大/ 数据处理/ 引擎/ 算法/ 的/ 评测/ ./ Hive/ ③/ 是/ 基于/ Hadoop/ 的/ 一个/ 数据仓库/ 工具/ ,/ 可以/ 将/ 结构化/ 的/ 数据文件/ 映射/ 为/ 一张/ 数据库/ 表/ ,/ 并/ 提供/ 简单/ 的/ SQL/ 查询/ 功能/ ,/ 可以/ 将/ SQL/ 语句/ 转换/ 为/ MapReduce/ 任务/ 去/ 运行/ ./ 其/ 优点/ 是/ 学习/ 成本低/ ,/ 可以/ 通过/ 类/ SQL/ 语句/ 快速/ 实现/ 简单/ 的/ MapReduce/ 统计/ ,/ 不必/ 开发/ 专门/ 的/ MapReduce/ 应用/ ,/ 但/ 只/ 适合/ 数据仓库/ 的/ 统计分析/ ./ ICTBench/ ④/ 是/ 中国科学院/ 发布/ 的/ 大/ 数据测试/ 基准/ ,/ 分为/ 大/ 数据测试/ 基准/ 、/ 数据中心/ 测试/ 基准/ 和/ 云/ 平台/ 测试/ 基准/ ./ ICTBench/ 通过/ 提供/ 真实/ 数据/ 和/ 一些/ 检查/ 作业/ 来/ 评价/ 大/ 数据处理系统/ 的/ 性能/ ./ 非/ Hadoop/ 平台/ 下/ CEP/ 引擎/ 的/ 测试/ 基准/ 研究/ 和/ 开发/ 也/ 是/ 当今/ 的/ 热点/ 的/ 话题/ ./ SPECjms2007/ [/ 28/ ]/ 是/ 一个/ 针对/ 基于/ JMS/ (/ JavaMessageService/ ,/ JMS/ )/ 信息处理/ 中间件/ 的/ 一个/ 测试/ 基准/ ./ 该/ 基准/ 提供/ 了/ 标准/ 的/ 工作/ 流/ ,/ 以及/ 每个/ 工作/ 流/ 的/ 驱动/ 接口/ 、/ 事件/ 类型/ 和/ 信息/ 数据结构/ ./ SEPCjms2007/ 没有/ 提供/ 专用/ 的/ 测试/ 集/ ,/ 测试/ 活动/ 只能/ 在/ 该/ 基准/ 的/ 工作/ 流下/ 完成/ ,/ 是/ 一个/ 典型/ 的/ 过程/ 驱动/ 的/ 测试/ 基准/ ./ BEAST/ [/ 29/ ]/ 是/ 一个/ 面向对象/ 主动/ 数据库系统/ 测试/ 基准/ ,/ 该/ 基准/ 提供/ 了/ 事件/ 发现/ 、/ 事件/ 组合/ 、/ 事件/ 规则/ 过滤/ 和/ 检索/ 等/ 功能/ ,/ 已经/ 成功/ 地/ 用于/ 多个/ 面向对象/ 数据系统/ 的/ 测试/ 工作/ ,/ 如/ ACOOD/ 、/ Ode/ 和/ REACH/ 等/ ./ LinearRoad/ [/ 30/ ]/ 是/ 一个/ 流式/ 数据/ 管理系统/ 测试/ 基准/ ,/ 该/ 基准/ 主要/ 关注/ 流式/ 数据库/ 对/ 流式/ 数据/ 和/ 历史/ 数据检索/ 时间/ 的/ 评价/ ./ FinCos/ [/ 7/ ]/ 是/ 一个/ 基于/ Java/ 的/ 测试/ 基准/ 工具集/ ,/ 包括/ 测试数据/ 生成/ 和/ CEP/ 引擎/ 的/ 性能/ 评测/ 工具/ ,/ FinCos/ 是/ 主要/ 针对/ 股票交易/ 复杂/ 事件处理/ 而/ 开发/ 的/ 一款/ CEP/ 引擎/ 测试/ 基准/ ./ Xiong/ 等/ 人/ [/ 6/ ]/ 强调/ 了/ 测试/ 基准/ 在/ 大/ 数据/ 研究/ 中/ 的/ 作用/ ,/ 并/ 发现/ 现有/ 的/ 测试/ 基准/ 有/ 很多/ 冗余/ 的/ 数据/ ,/ 并/ 给出/ 了/ 如何/ 清除/ 冗余/ 数据/ 的/ 方法/ ,/ 以便/ 提高/ 测试/ 的/ 效率/ ./ 测试/ 基准/ 的/ 数据/ 生成/ 与/ 数据处理/ 的/ 工作/ 流/ 密切相关/ ./ Shahbaz/ 等/ 人/ [/ 31/ ]/ 提出/ 一种/ 利用/ Web/ 搜索引擎/ 自动/ 生成/ 测试数据/ 的/ 方法/ ./ 该/ 方法/ 虽然/ 不是/ 针对/ 测试/ 基准/ 提出/ 的/ 数据/ 生成/ 方法/ ,/ 但/ 方法/ 新颖/ ,/ 代价/ 低/ ,/ 测试/ 基准/ 中/ 可以/ 借鉴/ 该/ 方法/ 生成/ 测试数据/ ./ Aleti/ 和/ Grunske/ [/ 32/ ]/ 提出/ 了/ 一种/ 基于/ 遗传算法/ 的/ 测试数据/ 生成/ 方法/ ,/ 此类/ 方法/ 经常/ 用于/ 生成/ 软件可靠性/ 测试/ 的/ 用例/ ./ 金澈/ 清/ 等/ 人/ [/ 33/ ]/ 综述/ 了/ 数据管理/ 基准/ 的/ 发展/ 现状/ ,/ 指出/ 了/ 大/ 数据/ 时代/ 数据/ 评测/ 基准/ 的/ 发展趋势/ ./ 其中/ 对/ 如何/ 生成/ 大规模/ 的/ 模拟/ 数据/ 也/ 给出/ 了/ 概括/ ,/ 归/ ①/ ②/ ③/ ④/ Page15/ 纳为/ 两种/ 方法/ :/ 其一/ 是/ 数据/ 驱动/ 方法/ ;/ 其二/ 是/ 查询/ 引导/ 的/ 方法/ ./ 列举/ 了/ 多款/ 数据/ 生成器/ 软件/ ,/ 如/ MUDD/ (/ aMulti/ -/ DimensionalDatagenerator/ )/ 、/ QAGen/ (/ Query/ -/ AwareGenerator/ )/ 、/ DSGen/ (/ DecisionSupportGenerator/ )/ 等/ ./ 然而/ ,/ 这些/ 模拟/ 数据/ 生成器/ 均/ 源于/ 海量/ 数据库/ 的/ 测试/ 基准/ ,/ 对大/ 数据/ 的/ 新/ 特征/ 表现/ 化/ 不/ 完备/ ./ Yu/ 等/ 人/ [/ 34/ ]/ 介绍/ 了/ 自主/ 开发/ 的/ 社交/ 媒体/ 大/ 数据/ 模拟/ 生成/ 系统/ BSMA/ -/ Gen/ 的/ 基本功能/ 和/ 技术/ 原理/ ./ 该/ 工具/ 采用/ 非/ 齐次/ 泊松/ 过程/ 模型/ 生成/ 测试数据/ ,/ 用于/ 模拟/ 真实/ 社交/ 媒体/ 数据/ 的/ 分布/ 和/ 时间/ 线/ ./ 实验/ 表明/ 了/ BSMA/ -/ Gen/ 可以/ 确保/ 生成/ 的/ 时间/ 线/ 在/ 转发/ 结构/ 、/ 时序/ 分布/ 、/ 用户/ 消息/ 数等/ 方面/ 符合/ 预先/ 给定/ 的/ 分布/ 和/ 参数/ ./ 与/ 本文/ 研究/ 方法/ 有些/ 相似/ ,/ 都/ 采用/ 泊松/ 过程/ 模型/ 生成/ 数据/ ;/ 所/ 不同/ 的/ 是/ 本文/ 针对/ RFID/ 物/ 联网/ 应用领域/ 生成/ 模拟/ 事件/ 流/ ,/ 并且/ 本文/ 给出/ 的/ 数据/ 生成/ 算法/ 基于/ CEP/ 代数/ 模型/ 和物/ 联网/ 工作/ 流/ 模型/ ,/ 有/ 理论/ 基础/ 和/ 应用/ 背景/ ./ 随着/ 物/ 联网/ 应用/ 的/ 深入/ ,/ 物/ 联网/ 中/ 复杂/ 事件处理/ 引擎/ 和/ 相关/ 测试/ 基准/ 研究/ 将会/ 逐渐/ 展开/ ./ 6/ 结论/ 由于/ 不同/ 领域/ 有/ 不同/ 的/ 大/ 数据/ 形态/ ,/ 所以/ 大/ 数据/ 下/ 复杂/ 事件处理/ 和/ 测试/ 显得/ 十分困难/ ./ 本文/ 在/ 复杂/ 事件/ 建模/ 、/ 复杂/ 事件/ 模式/ 检测/ 和/ CEP/ 引擎/ 测试/ 大/ 数据/ 生成/ 方面/ 进行/ 了/ 必要/ 的/ 尝试/ ./ 主要/ 贡献/ 如下/ :/ (/ 1/ )/ 提出/ 了/ 一个/ 复杂/ 事件/ 代数/ 模型/ ./ 该/ 模型/ 可以/ 刻画/ 复杂/ 事件/ 之间/ 的/ 组合/ 关系/ ,/ 为/ 进一步/ 用/ 事件/ 文法/ 方法/ 分析/ 和/ 处理/ 复杂/ 事件/ 模式/ 检测/ 提供/ 了/ 新/ 的/ 思路/ ./ (/ 2/ )/ 提出/ 了/ 一个/ 基于/ 复杂/ 事件/ 代数/ 模型/ 的/ CEP/ 引擎/ 测试/ 大/ 数据/ 生成/ 算法/ ./ 该/ 算法/ 可以/ 生成/ 指定/ 规模/ 的/ 数据/ 集/ ,/ 也/ 可以/ 生成/ 数据流/ ,/ 并且/ 按照/ 不同/ 的/ 概率分布/ 在/ 数据/ 集合/ 中/ 播撒/ 事件/ 模式/ ,/ 用于/ 检验/ CEP/ 引擎/ 的/ 处理/ 能力/ ./ (/ 3/ )/ 对/ 上述/ 贡献/ 从/ 理论/ 和/ 实践/ 两个/ 方面/ 加以/ 证明/ 和/ 实验/ 检验/ ,/ 均/ 表明/ 提出/ 的/ 模型/ 和/ 算法/ 有/ 一定/ 的/ 理论意义/ 和/ 实际意义/ ./ 本文/ 介绍/ 的/ 研究/ 工作/ 还有/ 不尽/ 理想/ 的/ 地方/ ,/ 如/ 播撒/ 模式/ 的/ 随机性/ 还/ 需要/ 进一步/ 研究/ ,/ 努力/ 接近/ 或者/ 达到/ 真实/ 数据/ 的/ 测试/ 效果/ ;/ 提出/ 的/ 算法/ 仅仅/ 在/ RFID/ 物/ 联网/ 场景/ 下/ 的/ 复杂/ 事件/ 模式/ 检测/ 和/ CEP/ 引擎/ 测试/ 中/ 得以/ 应用/ ,/ 还/ 没有/ 在/ 更/ 广泛/ 领域/ 中/ 实验/ ,/ 所以/ 对/ 其它/ 领域/ 的/ 技术/ 贡献/ 有待/ 验证/ ./ 

