Page1/ 分级/ 环片/ 上/ 网络/ 互连/ 王炜/ 1/ )/ ,/ 2/ )/ 乔林/ 1/ )/ 杨广文/ 1/ )/ 汤志忠/ 1/ )/ 1/ )/ (/ 清华大学/ 计算机科学/ 与/ 技术/ 系/ 北京/ 100084/ )/ 2/ )/ (/ 解放军信息工程大学/ 信息/ 工程学院/ 计算机科学/ 与/ 技术/ 系/ 郑州/ 450002/ )/ 摘要/ 在/ 大规模/ 、/ 超大规模/ 片上/ 互连/ 网络/ 中/ ,/ 因为/ 二维/ 互连/ 方式/ 的/ 性能/ 较差/ 而/ 使/ 多维/ 互连/ 方式/ 成为/ 可/ 选/ 方案/ 之一/ ./ 文中/ 首先/ 基于/ 区域/ 划分/ 设计/ 了/ 一种/ 分级/ 环/ 互连/ 结构/ ,/ 分析/ 了/ 其/ 静态/ 互连/ 特性/ ,/ 然后/ 基于/ 卡诺图/ 编码/ 设计/ 了/ 一种/ 分级/ 环/ 互连/ 的/ 路由/ 结构/ 以及/ 寻径/ 方法/ ,/ 在/ 均匀/ 通信/ 模式/ 测试/ 了/ 不同/ 的/ 分级/ 环/ 级联/ 链路/ 缓冲区/ 设置/ 方法/ 下/ 网络/ 的/ 性能/ ,/ 详细分析/ 了/ 按照/ 等/ 比/ 序列/ 设置/ 分级/ 环/ 级联/ 链路/ 缓冲区/ 时/ 分级/ 环/ 互连/ 方式/ 的/ 动态/ 网络/ 特性/ ,/ 最后/ 根据/ 互连/ 性能/ 与/ Mesh/ 等/ 二维/ 片上/ 互连/ 方式/ 比较/ 的/ 结果/ ,/ 给出/ 了/ 分级/ 环/ 互连/ 方式/ 的/ 使用/ 场合/ ./ 实验/ 结果表明/ ,/ 虽然/ 在/ 较/ 小规模/ 网络/ 中/ 性能/ 较差/ ,/ 但是/ 分级/ 环/ 互连/ 方式/ 能以/ 较/ 低/ 的/ 成本/ 、/ 较/ 高/ 的/ 性能/ 实现/ 大规模/ 、/ 超大规模/ 片上/ 网络/ 的/ 互连/ ,/ 其中/ 单环/ 分级/ 互连/ 方式/ 在/ 较/ 低/ 网络/ 负载/ 下/ 综合性/ 能/ 更好/ ,/ 而/ 双环/ 分级/ 互连/ 方式/ 则/ 具有/ 更大/ 的/ 网络/ 负载/ 能力/ ,/ 在/ 较/ 高/ 网络/ 负载/ 下/ 性能/ 更好/ ./ 关键词/ 片上/ 多处理器/ ;/ 片上/ 网络/ ;/ 分级/ 环/ ;/ 性能/ 分析/ 1/ 引言/ 随着/ 计算机技术/ 的/ 不断/ 发展/ ,/ 片上/ 多处理器/ (/ ChipMultiprocessor/ ,/ CMP/ )/ 逐渐/ 成为/ 主流/ ,/ CMP/ 中/ 互连/ 网络/ (/ 即片/ 上/ 网络/ Networks/ -/ on/ -/ Chip/ ,/ NoC/ )/ 及其/ 通信/ 逐渐/ 成为/ 影响/ 系统/ 性能/ 的/ 重要/ 因素/ ./ 一般来说/ ,/ 高/ 吞吐量/ 、/ 低/ 延迟/ 为片/ 上/ 网络/ 追求/ 的/ 重要/ 目标/ [/ 1/ -/ 2/ ]/ ,/ 而/ 由于/ 物理/ 空间/ 的/ 限制/ ,/ 布局/ 布线/ 复杂度/ 、/ 功耗/ 、/ 芯片/ 面积/ 也/ 是/ 片/ 上/ 网络/ 设计/ 时/ 需要/ 考虑/ 的/ 重要/ 因素/ [/ 2/ ]/ ,/ 因此/ 要求/ 片上/ 网络/ 使用/ 尽量/ 简单/ 的/ 物理/ 结构/ 、/ 通信协议/ 和/ 控制/ (/ 路由/ )/ 机制/ ./ 基本/ 的/ 二维/ NoC/ 主要/ 有/ 总线/ 与/ 线性/ 阵列/ 、/ Mesh/ 网格/ 、/ 环/ 与/ 带/ 弦/ 环/ 等/ 及其/ 变形/ 结构/ ./ 文献/ [/ 1/ ]/ 简要/ 分析/ 了/ 总线/ 与/ 线性/ 阵列/ 的/ 网络/ 特性/ ,/ 文献/ [/ 3/ -/ 4/ ]/ 基于/ 全局/ 均匀/ 随机/ 模型/ 分别/ 分析/ 了/ 如图/ 1/ 所示/ 的/ 几种/ 片上/ 二维/ 网络/ 的/ 性能/ ,/ 我们/ 另/ 一篇/ 文章/ 则/ 基于/ 局部/ 均匀/ 随机/ 模型/ 分析/ 了/ 这些/ 结构/ 的/ 性能/ ./ 分析/ 结果表明/ ,/ 在/ 网络/ 规模/ 较大/ 时/ 单独/ 直接/ 使用/ 这些/ 结构/ 均/ 不能/ 高效/ 、/ 快速/ 地/ 实现/ NoC/ 的/ 互连/ [/ 1/ ,/ 3/ -/ 4/ ]/ ,/ 因此/ ,/ 需要/ 考虑/ 新/ 的/ 互连/ 方法/ ,/ 例如/ 将/ 基本/ 的/ 二维/ NoC/ 向/ 高维/ 扩展/ 、/ 组合/ 使用/ 多种/ 基本/ 拓扑/ 结构/ 以及/ 设计/ 新型/ 互连/ 结构/ 等/ ./ 本文/ 首先/ 基于/ 区域/ 划分/ 设计/ 了/ 一种/ 分级/ 环/ 互连/ 结构/ ,/ 分析/ 了/ 其/ 静态/ 互连/ 特性/ ,/ 然后/ 基于/ 卡诺图/ 编码/ 设计/ 了/ 一种/ 分级/ 环/ 互连/ 的/ 路由/ 结构/ 以及/ 寻径/ 方法/ ,/ 基于/ 均匀/ 通信/ 模式/ 测试/ 了/ 不同/ 的/ 级联/ 链路/ 路由/ 结点/ 缓冲区/ 设置/ 方法/ 下/ 网络/ 的/ 性能/ ,/ 详细分析/ 了/ 按照/ 等/ 比/ 序列/ 设置/ 级联/ 链路/ 路由/ 结点/ 缓冲区/ 时/ 分级/ 环/ 互连/ 方式/ 的/ 动态/ 网络/ 特性/ ,/ 最后/ 根据/ 互连/ 性能/ 与/ Mesh/ 等/ 二维/ 片上/ 互连/ 方式/ 比较/ 的/ 结果/ ,/ 给出/ 了/ 分级/ 环/ 互连/ 方式/ 的/ 使用/ 场合/ ./ 2/ 分级/ 环/ 互连/ 结构/ 最/ 基本/ 的/ 环状/ 互连/ 是/ 线性/ 阵列/ 互连/ 的/ 一种/ 改进/ ,/ 它/ 将/ 线性/ 阵列/ 首尾/ 两个/ 端点/ 连结起来/ ,/ 有效/ 降低/ 了/ 网络/ 直径/ [/ 1/ ,/ 5/ ]/ ./ 但/ 如/ 结点/ 数目/ 较/ 多/ ,/ 网络/ 直径/ 仍然/ 比较/ 大/ ./ 一种/ 降低/ 网络/ 直径/ 的/ 方法/ 是/ 使用/ 多环/ ./ 文献/ [/ 3/ ]/ 分析/ 了/ 如图/ 1/ (/ d/ )/ 和/ (/ e/ )/ 所示/ 的/ 多环/ 相切/ 直连/ 和/ 多环/ 相切/ 的/ 类/ Torus/ 结构/ 的/ 性能/ ./ 实验/ 数据/ 表明/ :/ 这种/ 多环/ 相切/ 方式/ 的/ 互连/ 效率/ 并/ 不/ 理想/ [/ 3/ ]/ ./ 另/ 一种/ 降低/ 环网/ 网络/ 直径/ 的/ 方法/ 是/ 使用/ 带弦环/ [/ 3/ ,/ 5/ ]/ ./ 随着/ 弦/ 数量/ 的/ 增加/ ,/ 带弦环/ 网络/ 直径/ 显著/ 减小/ ,/ 而且/ 网络/ 吞吐量/ 也/ 明显增加/ ./ 但是/ ,/ 随着/ 弦/ 的/ 增加/ ,/ 网络/ 结点/ 的/ 度/ 也/ 增大/ ,/ 需要/ 更/ 多/ 的/ 连线/ 资源/ 和/ 芯片/ 面积/ ,/ 功耗/ 也/ 相应/ 增加/ ./ 另外/ ,/ 弦/ 数量/ 的/ 上升/ 也/ 增加/ 了/ 布局/ 布线/ 的/ 复杂度/ ./ 因为/ 在/ 很多/ 情况/ 下/ ,/ 通信/ 往往/ 具有/ 局部性/ :/ 只有/ 少数/ 通信/ 需要/ 在/ 相邻/ 较远/ 的/ 结点/ 间/ 进行/ ,/ 更/ 多/ 的/ 通信/ 是/ 在/ 相邻/ 较近/ 的/ 结点/ 间/ 进行/ [/ 6/ -/ 8/ ]/ ①/ ,/ 这/ 就/ 意味着/ 可以/ 将/ 局部/ 区域/ 的/ 结点/ 连接/ 到/ 一起/ ,/ 然后/ 通过/ 逐级/ 互连/ 从而/ 构成/ 分级/ 结构/ [/ 1/ ,/ 9/ ]/ ,/ 为此/ 将/ 若干个/ 结点/ 连接/ 到/ 一个/ 较/ 小/ 的/ 环上/ (/ 我们/ 称/ 这些/ 小环/ 构成/ 的/ 网络/ 为/ 第/ 1/ 级/ 网络/ ,/ 以此类推/ )/ ,/ 然后/ 将/ 若干个/ 小环/ 连接/ 到/ 一个/ 较大/ 的/ 环上/ ,/ 以此类推/ ,/ 直到/ 将/ 所有/ 结点/ 连接/ 到/ ①/ NASParallelBenchmarks/ :/ ProActiveimplementations/ ./ ht/ -/ tp/ :/ // // proactive/ ./ inria/ ./ fr/ // index/ ./ php/ ?/ page/ =/ nas/ _/ bench/ -/ Page3/ 一起/ ./ 这种/ 结构/ 中/ 由于/ 环上/ 的/ 结点/ 数目/ 较/ 少/ ,/ 因此/ 可以/ 不/ 需要/ 弦/ ,/ 或者/ 只/ 需要/ 较/ 少量/ 的/ 弦/ ,/ 又/ 由于/ 与/ 其它/ 环上/ 的/ 结点/ 之间/ 通过/ 级联/ 的/ 方法/ 进行/ 通信/ ,/ 所以/ 延迟/ 也/ 较/ 小/ ,/ 对于/ 一个/ n/ ×/ n/ (/ n/ =/ 2r/ ,/ r/ / 2/ )/ 网络/ ,/ 平均/ 寻径/ 距离/ 为/ 2r/ -/ 1/ ,/ 等/ 分/ 带宽/ 均/ 为/ 2/ ./ 假设/ 每/ α/ 个/ 结点/ 连接成/ 一个/ 环/ ,/ 每/ α/ 个/ 较/ 小/ 的/ 环/ 连接成/ 一个/ 较大/ 的/ 环/ ,/ 则/ 完成/ 网络连接/ 需要/ 将/ 网络/ 分成/ 2log/ α/ n/ 级/ ,/ 一共/ 需要/ n2/ +/ ∑/ 2log/ α/ n/ -/ 1/ 中/ 用于/ 级联/ 的/ 链路/ 共/ ∑/ 2log/ α/ n/ -/ 1/ 了/ 如图/ 2/ (/ a/ )/ 所示/ 的/ 分级/ 环/ 互连/ 结构/ ./ 为/ 便于/ 后面/ 的/ 寻径/ 操作/ ,/ 对/ 结点/ 进行/ 卡诺图/ 编码/ ./ 一个/ n/ 位/ 码字/ 的/ 完整/ 卡诺图/ 编码序列/ 共有/ 2n/ 个/ 编码/ ,/ 而且/ 任意/ 两个/ 相邻/ 的/ 编码/ 之间/ 有且/ 仅/ 有/ 一个/ 码字/ 不同/ ./ 对/ 所有/ 结点/ 的/ 纵横/ 坐标/ 均/ 进行/ 卡诺图/ 编码/ 后/ ,/ 如图/ 2/ (/ a/ )/ 所示/ 的/ 分级/ 环/ 互连/ 结构/ 可以/ 描述/ 为/ :/ 对于/ 任何/ 一点/ S/ (/ Sx/ ,/ Sy/ )/ ,/ 令/ Sx/ =/ xk/ …/ x2x1/ ,/ Sy/ =/ yk/ …/ y2y1/ ,/ x0/ =/ y0/ =/ 1/ ,/ 则/ 当且/ 仅/ 当/ xi/ =/ yi/ =/ 1/ ,/ i/ =/ 0/ ,/ 1/ ,/ 2/ ,/ …/ ,/ p/ -/ 1/ 时/ 有点/ D/ (/ Dx/ ,/ Dy/ )/ 与/ S/ 相连/ ,/ 其中/ 或/ Dx/ =/ xk/ …/ x2x1/ 若/ 某/ 一/ 结点/ 处在/ 第/ i/ 级/ 网络/ 中/ ,/ 那么/ 第/ j/ (/ 0/ </ j/ </ i/ )/ 级/ 网络/ 必有且/ 仅/ 有/ 一个/ 环/ 通过/ 该/ 结点/ ./ 称/ 与/ 之/ 相连/ 的/ 链路/ 最高/ 处于/ 第/ k/ 层/ 网络/ 的/ 结点/ 为/ 第/ k/ 层/ 结点/ ,/ 则/ 第/ k/ (/ 0/ </ k/ </ 2log/ α/ n/ )/ 层/ 结点/ 共有/ n2/ (/ α/ -/ 1/ )/ 其/ 结点/ 度为/ 2k/ ;/ 第/ 2log/ α/ n/ 层/ 结点/ 共有/ α/ 个/ ,/ 其/ 结点/ 度为/ 4log/ α/ n/ ./ 在/ 如图/ 2/ (/ a/ )/ 所示/ 的/ 分级/ 环/ 互连/ 结构/ 中/ ,/ 因为/ 有/ 级联/ 环/ 的/ 存在/ ,/ B/ 和/ C/ 之间/ 的/ 寻径/ 距离/ 近/ 了/ ,/ 但是/ A/ 和/ D/ 之间/ 的/ 寻径/ 距离/ 仍然/ 较远/ ./ 当然/ ,/ 也/ 可以/ 使/ 级联/ 环/ 经过/ A/ 和/ D/ 而/ 不/ 经过/ B/ 和/ C/ ,/ 此时/ 的/ 网络/ 互连/ 关系/ 是/ 这样/ 的/ :/ 对于/ 任何/ 一点/ S/ (/ Sx/ ,/ Sy/ )/ ,/ 令/ Sx/ =/ xk/ …/ x2x1/ ,/ Sy/ =/ yk/ …/ y2y1/ ,/ x0/ =/ y0/ =/ 0/ ,/ 则/ 当且/ 仅/ 当/ xi/ =/ yi/ =/ 0/ ,/ i/ =/ 0/ ,/ 1/ ,/ 2/ ,/ …/ ,/ p/ -/ 1/ 时/ 有点/ D/ (/ Dx/ ,/ Dy/ )/ 与/ S/ 相连/ ,/ 其中/ 或/ Dx/ =/ xk/ …/ x2x1/ 为了/ 进一步/ 减少/ 结点/ 间/ 的/ 寻径/ 距离/ ,/ 可以/ 使用/ 两套/ 级联/ 环/ ,/ 如图/ 2/ (/ b/ )/ 所示/ 分别/ 将/ 类似/ A/ 和/ D/ 、/ B/ 和/ C/ 的/ 点/ 级联/ 起来/ ,/ 这样/ 就/ 构成/ 了/ 双环/ 分级/ 互连/ 方式/ ,/ 其等分/ 带宽/ 为/ 4/ ./ 使用/ 这种/ 双环/ 分级/ 互连/ 方式/ 连接/ 上述/ n/ ×/ n/ (/ n/ =/ 2r/ ,/ r/ / 2/ )/ 网络/ ,/ 平均/ 寻径/ 距离/ 为/ r/ ./ 仍然/ 假设/ 每/ α/ 个/ 结点/ 连接成/ 一个/ 环/ ,/ 每/ α/ 个/ 较/ 小/ 的/ 环/ 连接成/ 一个/ 较大/ 的/ 环/ ,/ 则/ 非/ 级联/ 链路/ 数/ 不变/ ,/ 级联/ 链路/ 数/ 变为/ 单环/ 分级/ 互连/ 方式/ 的/ 2/ 倍/ ,/ 因此/ 共需/ 链路/ n2/ +/ 2/ ∑/ 2log/ α/ n/ -/ 1/ 各层/ 结点/ 的/ 数目/ 发生变化/ :/ 第/ k/ (/ 0/ </ k/ </ 2log/ α/ n/ )/ 层/ 结点/ 共有/ n2/ (/ α/ -/ 2/ )/ 3/ 分级/ 环/ 互连/ 路由/ 与/ 寻径/ 方法/ 和/ 文献/ [/ 3/ -/ 4/ ]/ 一样/ ,/ 我们/ 仍然/ 采用/ 虫蚀/ 寻径/ 以/ 包为/ 单位/ 分片/ 传输数据/ ,/ 在/ 不/ 阻塞/ 的/ 情况/ 下/ ,/ 每个/ 时钟/ 周期/ 数据/ 片/ 向前/ 传送/ 一跳/ ,/ 并/ 使用/ 超时/ 扬弃/ 策略/ 解决/ 死锁/ 或/ 活锁/ 问题/ [/ 3/ -/ 4/ ]/ ./ 3.1/ 分级/ 环/ 互连/ 路由/ 结构/ 多级/ 环/ 互连/ 中/ ,/ 仅仅/ 处于/ 第/ 1/ 级/ 环上/ 的/ 路由/ 结点/ 只/ 需要/ 连接/ 其/ 第/ 1/ 级/ 环上/ 的/ “/ 左/ ”/ 、/ “/ 右/ ”/ 路由/ 结点/ 和/ 本地/ 结点/ ,/ 因此/ 其/ 内部/ 路由/ 结构/ 与/ 文献/ [/ 3/ -/ 4/ ]/ 中/ 讨论/ 的/ 路由/ 结构/ 相同/ 即可/ ./ 值得注意/ 的/ 是/ ,/ 与/ 文献/ [/ 3/ -/ 4/ ]/ 中/ 讨论/ 的/ 一样/ ,/ 由于/ 路由/ 结点/ 除了/ 连接/ 其它/ 路由/ 结点/ 外/ ,/ 还/ 需要/ 连接/ 到/ 本地/ 结点/ ,/ 因此/ ,/ 所有/ 路由/ 结点/ (/ 包括/ 下面/ 讨论/ 的/ 处于/ 其它/ 层上/ 的/ 路由/ 结点/ )/ 的/ 链路/ 数/ 应该/ 在/ 前面/ 讨论/ 的/ 基础/ 上加/ 1/ [/ 3/ ]/ ./ 多级/ 环/ 互连/ 中/ 级联/ 点上/ 的/ 路由/ 结点/ 需要/ 完成/ 多维/ 互连/ ,/ 因此/ 级联/ 点/ 的/ 路由/ 结构/ 与/ 文献/ [/ 3/ -/ 4/ ]/ 中/ 所/ 使用/ 的/ 路由/ 结构/ 有所不同/ ./ 图/ 3/ 所示/ 的/ 是/ 多级/ 环/ 的/ 路由/ 结点/ 及其/ 连接/ ,/ 其中/ 图/ 3/ (/ a/ )/ 的/ 路由/ 结点/ C/ 就是/ 图/ 2/ (/ a/ )/ 中/ 的/ 路由/ 结点/ C/ ,/ 图/ 3/ (/ b/ )/ 给出/ 的/ 是/ 路由/ 结点/ C/ 内部/ 的/ 结构/ ./ Page4/ 图/ 3/ 多级/ 环/ 网路/ 由/ 结点/ 及其/ 连接/ 为了/ 降低/ 网络/ 功耗/ ,/ 减少/ 片上/ 网络/ 的/ 芯片/ 面积/ 并/ 提高/ 网络/ 传送速度/ ,/ 仍然/ 采用/ 出端/ 缓冲/ 片/ 上路/ 由/ 结构/ [/ 3/ ]/ ,/ 所有/ 结点/ 间连接/ 均/ 通过/ 一入/ 一出/ 两条/ 单向/ 链路/ 完成/ ,/ 结点/ 内部/ 则/ 通过/ 交叉开关/ 实现/ 同时/ 多/ 对/ 链路/ 相连/ ./ 与/ 本地/ 结点/ 连接/ 的/ 链路/ 不/ 设置/ 缓冲区/ ,/ 数据/ 缓冲/ 由/ 本地/ 结点/ 内部/ 完成/ ./ 与/ 其它/ 路由/ 结点/ 相连/ 的/ 链路/ 上/ 采用/ 出端/ 缓冲/ 的/ 方式/ ,/ 下/ 一/ 时刻/ 当前/ 方不/ 阻塞/ 时/ ,/ 被/ 传送/ 的/ 数据/ 片/ 将/ 由/ 下/ 一路/ 由/ 结点/ 的/ 交叉开关/ 直接/ 送到/ 某出/ 端/ 缓冲区/ ./ 缓冲区/ 结构/ 如图/ 3/ (/ c/ )/ 所示/ ,/ 与/ 文献/ [/ 3/ -/ 4/ ]/ 中/ 一样/ ,/ 仍然/ 是/ 将/ 所有/ 出端/ 缓冲区/ 和/ 本地/ 结点/ 统一/ 编址/ ./ 一般而言/ ,/ 层次/ 互连/ 结构/ 中/ 的/ 级联/ 链路/ 将/ 承担/ 比非/ 级联/ 链路/ 更/ 多/ 的/ 通信/ 传送/ ,/ 而且/ 级联/ 层次/ 越高/ ,/ 链路/ 上/ 的/ 通信/ 越多/ ./ 为了/ 避免/ 级联/ 链路/ 成为/ 系统/ 的/ 瓶颈/ ,/ 需要/ 增强/ 级联/ 链路/ 的/ 通信/ 传送/ 能力/ ./ 最/ 简单/ 而且/ 有效/ 的/ 方法/ 是/ 如图/ 3/ (/ a/ )/ 所示/ 增加/ 级联/ 链路/ 的/ 带宽/ ,/ 相应/ 地/ 需要/ 增加/ 不同/ 级联/ 链路/ 的/ 出端/ 缓冲区/ 的/ 个数/ ,/ 这/ 就/ 意味着/ 较/ 高层/ 路由/ 结点/ 中/ 需要/ 更/ 大规模/ 的/ 交叉开关/ 和/ 寻径/ 逻辑/ ./ 交叉开关/ 的/ 硬件/ 复杂度/ 为/ O/ (/ n2/ ,/ w/ )/ ,/ 其中/ ,/ n/ 为/ 输入/ // 输出/ 数量/ ,/ w/ 为/ 带宽/ [/ 10/ -/ 12/ ]/ ./ 而且/ 当/ n/ 超过/ 16/ 以后/ ,/ 不仅/ 交叉开关/ 过于/ 复杂/ ,/ 而且/ 不能/ 保证/ 在/ 一/ 拍/ 之内/ 完成/ 输入/ // 输出/ 之间/ 的/ 互连/ [/ 5/ ]/ ,/ 因此/ ,/ 不能/ 将/ 级联/ 链路/ // 缓冲区/ 数量/ 设置/ 过大/ ./ 为此/ 考虑/ 4/ 种/ 级联/ 链路/ // 缓冲区/ 设置/ 模式/ :/ 模式/ A/ :/ 所有/ 级别/ 均/ 设置/ 1/ 个/ 链路/ // 缓冲区/ ,/ 在/ 4/ ×/ 4/ 、/ 8/ ×/ 8/ 、/ 16/ ×/ 16/ 、/ 32/ ×/ 32/ 网络/ 里/ 交叉开关/ 最/ 大规模/ 分别/ 为/ 5/ ×/ 5/ 、/ 7/ ×/ 7/ 、/ 9/ ×/ 9/ 、/ 11/ ×/ 11/ ;/ 模式/ B/ :/ 不同/ 级/ 按照/ 等/ 差/ 序列/ 设置/ ,/ 从/ 低/ 到/ 高/ 各层/ 分别/ 设置/ 1/ 、/ 2/ 、/ 3/ 、/ 4/ …/ 个/ 链路/ // 缓冲区/ ,/ 在/ 4/ ×/ 4/ 、/ 8/ ×/ 8/ 、/ 16/ ×/ 16/ 、/ 32/ ×/ 32/ 网络/ 里/ 交叉开关/ 最/ 大规模/ 分别/ 为/ 7/ ×/ 7/ 、/ 13/ ×/ 13/ 、/ 21/ ×/ 21/ 和/ 31/ ×/ 31/ ,/ 其中/ 16/ ×/ 16/ 、/ 32/ ×/ 32/ 网络/ 里/ 分别/ 有/ 4/ 个/ 和/ 16/ 个/ 规模/ 大于/ 16/ ×/ 16/ 的/ 交叉开关/ ;/ 模式/ C/ :/ 不同/ 级/ 按照/ 等/ 比/ 序列/ 设置/ ,/ 从/ 低/ 到/ 高/ 各层/ 分别/ 设置/ 1/ 、/ 2/ 、/ 4/ 、/ 8/ …/ 个/ 链路/ // 缓冲区/ ,/ 在/ 4/ ×/ 4/ 、/ 8/ ×/ 8/ 、/ 16/ ×/ 16/ 、/ 32/ ×/ 32/ 网络/ 里/ 交叉开关/ 最/ 大规模/ 分别/ 为/ 7/ ×/ 7/ 、/ 15/ ×/ 15/ 、/ 31/ ×/ 31/ 、/ 63/ ×/ 63/ ,/ 其中/ 16/ ×/ 16/ 、/ 32/ ×/ 32/ 网络/ 里/ 分别/ 有/ 4/ 个/ 和/ 16/ 个/ 规模/ 大于/ 16/ ×/ 16/ 的/ 交叉开关/ ;/ 模式/ D/ :/ 不同/ 级/ 按照/ 本级/ 1/ // 4/ 区域/ 结点/ 规模/ 设置/ ,/ 从/ 低/ 到/ 高/ 各层/ 分别/ 设置/ 1/ 、/ 4/ 、/ 16/ 、/ 64/ …/ 个/ 链路/ // 缓冲区/ ,/ 在/ 4/ ×/ 4/ 、/ 8/ ×/ 8/ 、/ 16/ ×/ 16/ 、/ 32/ ×/ 32/ 网络/ 里/ 交叉开关/ 最/ 大规模/ 分别/ 为/ 11/ ×/ 11/ 、/ 43/ ×/ 43/ 、/ 171/ ×/ 171/ 、/ 683/ ×/ 683/ ,/ 其中/ 规模/ 超过/ 16/ ×/ 16/ 的/ 交叉开关/ 分别/ 有/ 0/ 个/ 、/ 4/ 个/ 、/ 16/ 个/ 和/ 64/ 个/ ./ 模式/ D/ 方式/ 下/ 在/ 8/ ×/ 8/ 及其/ 以上/ 规模/ 网络/ 中均/ 有/ 为数不少/ 的/ 交叉开关/ 过于/ 复杂/ ,/ 因此/ 不予考虑/ ;/ 而/ 模式/ B/ 和/ 模式/ C/ 方式/ 下/ 只有/ 16/ ×/ 16/ 和/ 32/ ×/ 32/ 网络/ 中有/ 极少数/ 比较复杂/ 的/ 交叉开关/ ,/ 其所/ 占/ 的/ 比例/ 较/ 小/ ,/ 可以/ 考虑/ ./ 后面/ 的/ 实验/ 数据/ 表明/ ,/ 模式/ C/ 方式/ 下/ 网络/ 性能/ 基本/ 满足需要/ ,/ 可以/ 不/ 考虑/ 更/ 复杂/ 的/ 设置/ 方法/ ./ 表/ 1/ 分别/ 给出/ 了/ α/ =/ 4/ 时/ 分级/ 环/ 互连/ 以及/ 其它/ Page5/ 互连/ 结构/ 的/ 部分/ 静态/ 性能/ ./ 显然/ ,/ 在/ 较/ 复杂/ 的/ 交叉开关/ 处/ 的/ 寻径/ 与/ 数据/ 传送/ 时间/ 将/ 有所/ 延长/ ,/ 但是/ 可以/ 表/ 1/ 分级/ 环/ 互连/ (/ α/ =/ 4/ 时/ )/ 部分/ 静态/ 网络/ 特性/ 与/ 其它/ 互连/ 方式/ 的/ 比较/ 规模/ 结构/ 等/ 分/ 带宽/ 网络/ 直径/ // 4/ ×/ 4H/ -/ ring/ (/ s/ )/ 26/ // 2.932/ ./ 5/ // 4202082430424304H/ -/ ring/ (/ d/ )/ 44/ // 2.333/ // 42427232464324648/ ×/ 8H/ -/ ring/ (/ s/ )/ 210/ // 4.762/ ./ 56/ // 68492810816961121920H/ -/ ring/ (/ d/ )/ 46/ // 3.733/ ./ 25/ // 610412801522816160326416/ ×/ 16H/ -/ ring/ (/ s/ )/ 214/ // 6.702/ ./ 66/ // 83403840448787248010624H/ -/ ring/ (/ d/ )/ 48/ // 5.443/ ./ 31/ // 84245376640134407041894432/ ×/ 32H/ -/ ring/ (/ s/ )/ 218/ // 8.682/ ./ 66/ // 10136415520176033568184054528H/ -/ ring/ (/ d/ )/ 410/ // 7.183/ ./ 33/ // 10170421824249657920265699840/ 数据/ 显示/ ,/ 分级/ 环/ 互连/ 方式/ 的/ 等/ 分/ 带宽/ 较/ 小/ ,/ 而且/ 等/ 分/ 带宽/ 与/ 网络/ 规模/ 无关/ ,/ 这/ 表明/ 分级/ 环/ 互连/ 方式/ 的/ 性能/ 瓶颈/ 在/ 级联/ 链路/ 上/ ,/ 而且/ 网络/ 规模/ 越大/ ,/ 瓶颈/ 作用/ 越/ 明显/ ./ 4/ ×/ 4/ 网络/ 中/ ,/ 分级/ 环/ 互连/ 方式/ 的/ 网络/ 直径/ 和/ 平均/ 寻径/ 距离/ 与/ Mesh/ 方式/ 相当/ ,/ 但是/ 随着/ 网络/ 规模/ 的/ 增加/ ,/ 分级/ 环/ 互连/ 方式/ 的/ 网络/ 直径/ 和/ 平均/ 寻径/ 距离/ 相/ 比较/ 其它/ 几种/ 结构/ 越来越/ 小/ ,/ 在/ 32/ ×/ 32/ 网络/ 中/ 甚至/ 低于/ 三角形/ 网眼/ 环网/ ,/ 这/ 表明/ ,/ 分级/ 环/ 互连/ 方式/ 更/ 适合/ 较/ 大规模/ 网络/ ./ 和/ Mesh/ 网/ 相似/ ,/ 随着/ 网络/ 规模/ 的/ 增加/ ,/ 分级/ 环/ 互连/ 方式/ 的/ 平均/ 结点/ 度/ 逐渐/ 上升/ ,/ 但是/ 与/ Mesh/ 网中/ 最大/ 结点/ 度/ 保持/ 不变/ 不同/ ,/ 分级/ 环/ 互连/ 方式/ 的/ 最大/ 结点/ 度/ 也/ 不断/ 增加/ ,/ 但是/ 即使/ 在/ 32/ ×/ 32/ 网络/ 中/ 分级/ 环/ 互连/ 方式/ 的/ 平均/ 结点/ 也/ 低于/ Mesh/ 方式/ ,/ 这/ 表明/ 分级/ 环/ 互连/ 方式/ 中/ 不同/ 结点/ 的/ 度/ 差异/ 更大/ ./ 在/ 各种/ 规模/ 网络/ 中/ ,/ 无论/ 联结/ 链路/ 结点/ 的/ 链路/ 和/ 缓冲区/ 按照/ 上述/ 何种/ 方式/ 设置/ ,/ 单环/ 分级/ 互连/ 方式/ 所/ 需/ 的/ 链路/ 和/ 缓冲区/ 数都/ 不/ 多于/ Mesh/ 方式/ 、/ 双环/ 互连/ 方式/ 则/ 不/ 多于/ 三角形/ 网眼/ 环网/ 方式/ ,/ 表明/ 分级/ 环/ 互连/ 方式/ 在/ 链路/ 和/ 缓冲区/ 上/ 所/ 需/ 的/ 成本/ 低于/ 对应/ 的/ 互连/ 结构/ ,/ 这/ 就/ 使得/ 分级/ 环/ 互连/ 方式/ 的/ 布局/ 布线/ 复杂度/ 较/ 低/ ,/ 而且/ 系统/ 功耗/ 较/ 低/ 、/ 网络/ 传送速度/ 较快/ ./ 另一方面/ ,/ 在/ 网络/ 规模较/ 小时/ 分级/ 环/ 互连/ 方式/ 用于/ 交叉开关/ 的/ 总成本/ 不/ 高于/ 对应/ 的/ 互连/ 结构/ ,/ 但是/ 采取/ 某些/ 方法/ 使得/ 仍然/ 比/ 结点/ 间/ 的/ 延迟/ 相比/ 小得多/ [/ 13/ ]/ ,/ 为/ 简便/ 计/ 暂时/ 不/ 考虑/ ./ 每层/ 一个/ 随着/ 网络/ 规模/ 的/ 增加/ ,/ 当/ 使用/ 等/ 差/ 或/ 等/ 比/ 序列/ 模式/ 设置/ 级联/ 链路/ 有/ 结点/ 链路/ // 缓冲区/ 时/ ,/ 分级/ 环/ 中/ 用于/ 交叉开关/ 的/ 总成本/ 逐渐/ 超过/ 对应/ 的/ 互连/ 结构/ ,/ 这/ 主要/ 是因为/ 随着/ 规模/ 的/ 增加/ ,/ 较/ 高层/ 联结/ 链路/ 所/ 需/ 交叉开关/ 过于/ 复杂/ 的/ 缘故/ ,/ 而/ 那/ 少数几个/ 特别/ 复杂/ 的/ 交叉开关/ 花费/ 了/ 交叉开关/ 总成本/ 的/ 相当/ 部分/ ,/ 当然/ 这个/ 问题/ 也/ 可以/ 通过/ 某些/ 技术/ 予以/ 解决/ [/ 13/ ]/ ./ 值得注意/ 的/ 是/ ,/ 双环/ 互连/ 方式/ 相比/ 单环/ 方式/ 虽然/ 多/ 了/ 一套/ 级联/ 链路/ ,/ 但是/ 其/ 平均/ 寻径/ 距离/ 的/ 优势/ 并/ 不/ 明显/ ,/ 而且/ 该/ 优势/ 在/ 所有/ 规模/ 网络/ 下/ 几乎/ 保持/ 不变/ ,/ 而/ 其/ 所/ 需/ 的/ 链路/ 数/ // 缓冲区/ 数/ 与/ 用于/ 交叉开关/ 的/ 总/ 硬件/ 成本/ 却/ 远大于/ 单环/ 方式/ ,/ 这/ 表明/ ,/ 整体/ 相对而言/ 双环/ 方式/ 并/ 不/ 优于/ 单环/ 方式/ ./ 综上/ 对/ 网络/ 静态/ 特性/ 的/ 分析/ 可知/ ,/ 通过/ 合理/ 分配/ 级联/ 链路/ 宽度/ 和/ 缓冲区/ 数量/ ,/ 在/ 较/ 大规模/ 网络/ 中/ 分级/ 环/ 互连/ 方式/ 特别/ 是/ 单环/ 分级/ 互连/ 方式/ 将/ 获得/ 更/ 小/ 的/ 网络/ 延迟/ 、/ 更少/ 的/ 互连/ 链路/ 与/ 更/ 低/ 的/ 网络/ 布局/ 布线/ 复杂度/ 、/ 更/ 低/ 的/ 功耗/ ,/ 而/ 这些/ 是/ 以/ 局部/ 更/ 复杂/ 的/ 交叉开关/ 和/ 整体/ 更/ 高/ 的/ 交叉开关/ 成本/ 作为/ 代价/ 的/ ./ 3.2/ 基于/ 卡诺图/ 编码/ 的/ 分级/ 环寻径/ 方法/ 多级/ 环/ 互连/ 仍/ 使用/ 同/ 文献/ [/ 3/ -/ 4/ ]/ 一样/ 的/ 通信协议/ ,/ 寻径/ 操作/ 由/ 寻径/ 逻辑/ 根据/ 包头/ 中/ 目标/ 地址/ 自动/ 完成/ ./ 寻径/ 逻辑/ 在/ 进行/ 寻径/ 操作/ 时/ ,/ 总是/ 根据/ 当前/ 包头/ 结点/ 的/ 位置/ 和/ 目的/ 结点/ 的/ 位置/ 来/ 确定/ 下/ 一条/ 的/ 位置/ ./ 进行/ 卡诺图/ 编码/ 后/ ,/ 若/ 两个/ 结点/ 的/ 横坐标/ 、/ 纵/ 坐/ Page6/ 标的/ 最高/ 位/ 分别/ 相等/ ,/ 则/ 两个/ 结点/ 同/ 属于/ 一个/ 1/ // 4/ 区域/ ,/ 若/ 两个/ 结点/ 的/ 横坐标/ 、/ 纵坐标/ 的/ 次/ 高位/ 也/ 分别/ 相等/ ,/ 则/ 两个/ 结点/ 同/ 属于/ 上述/ 1/ // 4/ 区域/ 中/ 的/ 一个/ 小/ 1/ // 4/ 区域/ ,/ 以此类推/ ./ 当/ 两个/ 结点/ 同/ 属于/ 一个/ 1/ // 4/ 区域/ 时/ ,/ 只/ 需要/ 在/ 该/ 1/ // 4/ 区域/ 内寻径/ 即可/ ,/ 相当于/ 寻径/ 时/ 将/ 那些/ 分别/ 相等/ 的/ 较/ 高位/ 地址/ 舍弃/ ,/ 从而/ 降低/ 了/ 寻径/ 的/ 维度/ ./ 若/ 两个/ 结点/ 的/ 横坐标/ 或/ 纵坐标/ 的/ 最高/ 位/ 不/ 相等/ ,/ 则/ 两个/ 结点/ 不/ 属于/ 一个/ 1/ // 4/ 区域/ ,/ 此时/ 需要/ 判断/ 在/ 当前/ 结点/ 所在/ 的/ 1/ // 4/ 区域/ 内/ 实现/ 两个/ 1/ // 4/ 区域/ 级/ 图/ 4/ 基于/ 卡诺图/ 编码/ 的/ 分级/ 环寻径/ 图/ 4/ 分别/ 给出/ 了/ 单环/ 和/ 双环/ 分级/ 互连/ 中/ 使用/ 上述/ 寻径/ 方法/ 的/ 一条/ 寻径/ 线路/ ./ 需要/ 注意/ 的/ 是/ ,/ 双环/ 分级/ 中/ 实现/ 不同/ 1/ // 4/ 区域/ 级联/ 的/ 点/ 有/ 两个/ ,/ 分别/ 位于/ 内环/ 和/ 外环/ 上/ ,/ 因此/ 在/ 寻径/ 的/ 时候/ 需要/ 根据/ 源/ 和/ 目的/ 的/ 位置/ 关系/ 做出/ 选择/ ./ 4/ 分级/ 环/ 互连/ 网络/ 特性/ 本文/ 同/ 文献/ [/ 3/ -/ 4/ ]/ 一样/ ,/ 通过/ 对/ 同一/ 通信/ 请求/ 序列/ 在/ 不同/ 结构/ 网络/ 中/ 的/ 模拟/ 传输/ 比较/ 分级/ 环/ 互连/ 结构/ 与/ 其它/ 互连/ 结构/ 的/ 网络/ 性能/ ./ 另外/ 的/ 实验/ 结果表明/ ,/ 全局/ 均匀/ 随机/ 通信/ 模式/ 是/ 局部/ 均匀/ 随机/ 通信/ 模式/ 的/ 特例/ ,/ 全局/ 均匀/ 随机/ 通信/ 模式/ 下/ 不同/ 结构/ 网络图/ 5/ 网络/ 冲突/ 总数/ 联/ 的/ 路由/ 结点/ 的/ 位置/ ./ 若/ 此时/ 的/ 结点/ 恰好/ 是/ 那个/ 级/ 联结/ 点/ ,/ 只/ 需要/ 将/ 当前/ 的/ (/ 也/ 即/ “/ 舍弃/ 了/ ”/ 部分/ 高位/ 码字/ 的/ )/ 纵横/ 坐标/ 中/ 最高/ 位/ 与/ 目的/ 结点/ 最高/ 位/ 不同/ 的/ 那/ 一个/ (/ 如果/ 两个/ 都/ 不/ 相同/ ,/ 任取/ 其一/ )/ 取反/ 然后/ 拼接/ 上/ 前面/ “/ 舍弃/ ”/ 的/ 部分/ 高位/ 码字/ 即/ 得到/ 了/ 下/ 一/ 跳/ 的/ 坐标/ ;/ 若/ 此时/ 的/ 结点/ 不是/ 那个/ 需要/ 的/ 级/ 联结/ 点/ ,/ 则/ 将/ 那个/ 需要/ 的/ 级/ 联结/ 点/ 作为/ 暂时/ 的/ 目的/ 结点/ ,/ 重新/ 进行/ 网络/ 寻径/ 操作/ ,/ 直到/ 找到/ 下/ 一/ 跳/ 的/ 坐标/ ./ 效/ 而且/ 控制/ 逻辑/ 简单/ ,/ 很/ 容易/ 在/ 片/ 上/ 实现/ ./ 这种/ 基于/ 卡诺图/ 编码/ 的/ 路由/ 寻径/ 方法/ 快速/ 、/ 有/ 性能/ 之间/ 的/ 相互/ 关系/ 能够/ 完全/ 代表/ 局部/ 均匀/ 随机/ 通信/ 模式/ 下/ 的/ 相互/ 关系/ ,/ 因此/ ,/ 下面/ 的/ 实验/ 中/ 主要/ 讨论/ 全局/ 均匀/ 随机/ 通信/ 模式/ 下/ 的/ 网络/ 性能/ ./ 另外/ ,/ 文献/ [/ 3/ -/ 4/ ]/ 的/ 实验/ 数据/ 显示/ ,/ 相/ 比较/ 六边形/ 网眼/ Mesh/ 及其/ 变形/ 结构/ 、/ 多环/ 相切/ 及其/ 回绕/ 结构/ 而言/ ,/ 四边形/ 、/ 三角形/ 网眼/ Mesh/ 网络/ 及其/ 变形/ 结构/ 具有/ 更好/ 的/ 规模/ 扩展性/ 和/ 网络/ 负载/ 能力/ ,/ 同时/ 网络/ 综合性/ 能/ 也/ 较/ 好/ ,/ 而/ Torus/ 结构/ 和/ Illiac/ 结构/ 的/ 网络/ 性能/ 非常/ 近似/ ,/ 因此/ ,/ 下面/ 的/ 实验/ 主要/ 将/ 分级/ 环/ 互连/ 结构/ 与/ Mesh/ 、/ Illiac/ 和/ 三角形/ 网眼/ Mesh/ 结构/ 做/ 比较/ ./ 4.1/ 网络/ 冲突/ 与/ 通信/ 平均/ 延迟/ 图/ 5/ 和/ 图/ 6/ 分别/ 给出/ 了/ 不同/ 规模/ 各种/ 结构/ 的/ 网络/ 冲突/ 总数/ 和/ 网络通信/ 平均/ 延迟/ ./ 实验/ 数据/ 显示/ ,/ 当/ Page7/ 图/ 6/ 网络通信/ 平均/ 延迟/ 网络/ 规模较/ 小/ (/ 包括/ 8/ ×/ 8/ )/ 时/ ,/ 单环/ 分级/ 互连/ 方式/ 下/ 网络/ 的/ 冲突/ 总数/ 不/ 低于/ Illiac/ 方式/ ,/ 而/ 双环/ 分级/ 互连/ 方式/ 不/ 低于/ 三角形/ 网眼/ 环网/ 方式/ ,/ 对应/ 地/ ,/ 它们/ 的/ 网络通信/ 平均/ 延迟/ 也/ 分别/ 不/ 低于/ 其它/ 两种/ 方式/ ;/ 但是/ 当/ 网络/ 规模/ 增大/ 时/ ,/ 分级/ 环/ 互连/ 方式/ 下/ 的/ 网络/ 冲突/ 总数/ 变得/ 比/ 三角形/ 网眼/ 环网/ 方式/ 还要/ 少/ ,/ 相应/ 地/ ,/ 其/ 网络通信/ 平均/ 延迟/ 也/ 最小/ ./ 这/ 表明/ ,/ 相对而言/ ,/ 分级/ 环/ 互连/ 方式/ 更/ 适合/ 于/ 较/ 大规模/ 网络/ 的/ 连接/ 与/ 通信/ ./ 两种/ 分级/ 环/ 互连/ 方式/ 中/ ,/ 单/ 环比/ 双环/ 方式/ 网络/ 冲突/ 总数/ 多/ 而/ 网络通信/ 平均/ 延迟/ 高/ ,/ 这/ 显然/ 是因为/ 单环/ 分级/ 方式/ 的/ 链路/ 数较/ 少/ 的/ 原因/ ./ 但是/ ,/ 在/ 较/ 低/ 网图/ 7/ 网络通信/ 传送/ 完成率/ 能力/ ./ 如/ 文献/ [/ 3/ -/ 4/ ]/ 一样/ ,/ 本文/ 使用/ 平均/ 每一/ 时刻/ 网络/ 中/ 允许/ 的/ 新/ 通信/ 请求/ 的/ 最大值/ 来/ 表示/ 网络/ 负载/ ,/ 并/ 定义/ 网络通信/ 传送/ 完成率/ 不/ 低于/ 95/ %/ 时/ 网络/ 所/ 能/ 承受/ 的/ 最大/ 负载/ 为/ 网络/ 的/ 理想/ 负载/ ,/ 它/ 同时/ 也/ 是/ 平均/ 延迟/ 随着/ 网络/ 负载/ 增加/ 而/ 增加率/ 最大/ 时/ 的/ 网络/ 负载/ ;/ 定义/ 使/ 网络通信/ 传送/ 完成率/ 不/ 低于/ 80/ %/ 时/ 网络/ 所/ 能/ 承受/ 的/ 最大/ 负载/ 为/ 网络/ 的/ 有效/ 负载/ ,/ 它/ 同时/ 也/ 是/ 网络通信/ 传送/ 完成率/ 随着/ 网络/ 负载/ 增加/ 而/ 降低/ 率/ 最大/ 时/ 的/ 网络/ 负载/ ./ 图/ 8/ 给出/ 了/ 各/ 结构/ 的/ 理想/ 负载/ 络/ 负载/ 下/ 二者/ 性能/ 相差/ 不大/ ./ 4.2/ 网络通信/ 传送/ 完成率/ 与/ 负载/ 能力/ 图/ 7/ 所示/ 的/ 是/ 不同/ 规模/ 各种/ 结构/ 网络通信/ 传送/ 完成率/ 的/ 情况/ ./ 数据/ 显示/ ,/ 单环/ 分级/ 互连/ 方式/ 的/ 通信/ 传送/ 完成率/ 低于/ 双环/ 方式/ ,/ 但是/ 在/ 较/ 小规模/ 下/ 相差/ 不大/ ./ 在/ 较/ 小规模/ 中/ ,/ 单环/ 分级/ 互连/ 方式/ 的/ 通信/ 传送/ 完成率/ 最低/ ,/ 但/ 随着/ 网络/ 规模/ 的/ 增加/ ,/ 其/ 通信/ 传送/ 完成率/ 逐渐/ 变得/ 与/ Mesh/ 结构/ 的/ 相当/ ;/ 而/ 双环/ 互连/ 方式/ 下/ 的/ 通信/ 传送/ 完成率/ 则/ 从/ 低于/ 三角形/ 网眼/ 环网/ 方式/ 到/ 超过/ 三角形/ 网眼/ 环网/ 方式/ ./ 这/ 同样/ 表明/ 分级/ 环/ 互连/ 方式/ 更/ 适合/ 于/ 较/ 大规模/ 网络/ ./ 数据/ 显示/ ,/ 当/ 网络/ 规模/ 逐渐/ 增加/ 时/ ,/ 单环/ 分级/ 互连/ 方式/ 的/ 理想/ 负载/ 逐渐/ 从/ 低于/ Mesh/ 方式/ 增加/ 到/ 高于/ Mesh/ 方式/ ,/ 但/ 总体/ 上/ 都/ 与/ Mesh/ 方式/ 相当/ ,/ 而/ 双环/ 方式/ 的/ 则/ 逐渐/ 从远/ 低于/ 三角形/ 网眼/ 环网/ 方式/ 增加/ 到/ 高于/ 三角形/ 网眼/ 环网/ 方式/ ,/ 这/ 表明/ ,/ 分级/ 环/ 互连/ 方式/ 更/ 适合/ 较/ 大规模/ 网络/ ,/ 而且/ 其/ 负载/ 能力/ 的/ 规模/ 扩展性/ 要/ 好/ 于/ 其它/ 结构/ ./ 另外/ ,/ 单环/ 方式/ 的/ 负载/ 能力/ 低于/ 双环/ 方式/ ,/ 而且/ 随着/ 网络/ 规模/ 的/ 增加/ ,/ 二者/ 负载/ 能/ Page8/ 力/ 的/ 差别/ 越来越/ 大/ ,/ 这/ 表明/ ,/ 相对而言/ 双环/ 方式/ 更/ 适合/ 于/ 高/ 通信/ 负载/ 网络/ 的/ 互连/ ./ 图/ 9/ 给出/ 的/ 是/ 各种/ 规模/ 下/ 所有/ 网络/ 均/ 工作/ 在/ Mesh/ 网/ 的/ 理想/ 负载/ 下时/ 网络/ 平均/ 延迟/ 的/ 情况/ ./ 图中/ 显示/ ,/ 在/ 较/ 小规模/ 网络/ 中/ ,/ 单环/ 分级/ 互连/ 方式/ 的/ 平均/ 延迟/ 大于/ Mesh/ 方式/ 而/ 双环/ 方式/ 则/ 稍/ 大于/ 三角形/ 网眼/ 环网/ 方式/ ,/ 但是/ 在/ 较/ 大规模/ 网络/ 中/ ,/ 它们/ 分别/ 低于/ 对应/ 的/ 互连/ 结构/ ,/ 而且/ 网络/ 规模/ 越大/ ,/ 其/ 差距/ 越大/ ,/ 这/ 进一步/ 表明/ 分级/ 环/ 互连/ 方式/ 相/ 比较而言/ 更/ 适于/ 较/ 大规模/ 网络/ 的/ 互连/ ,/ 而且/ 网络/ 规模/ 越大/ ,/ 其/ 相对/ 性能/ 提升/ 越多/ ./ 图/ 9/ 工作/ 在/ Mesh/ 理想/ 负载/ 下/ 的/ 网络/ 平均/ 延迟/ 5/ 结论/ 和/ 下/ 一步/ 的/ 工作/ 本文/ 设计/ 了/ 基于/ 二维/ 区域/ 划分/ 的/ 分级/ 环片/ 上/ 网络/ 互连/ 结构/ 和/ 基于/ 卡诺图/ 编码/ 的/ 分级/ 环路/ 由/ 结构/ 与/ 寻径/ 方法/ ,/ 面向/ 全局/ 均匀/ 随机/ 通信/ 模式/ 详细分析/ 了/ 分级/ 环/ 互连/ 的/ 网络/ 特性/ ./ 与/ Mesh/ 等/ 通过/ 二维/ 平面/ 方式/ 进行/ 互连/ 不同/ ,/ 分级/ 环/ 通过/ 级联/ 方式/ 将/ 网络/ 中/ 的/ 结点/ 按/ 区域/ 逐层/ 连结起来/ ,/ 不仅/ 节省/ 了/ 链路/ ,/ 而且/ 降低/ 了/ 网络/ 直径/ 和/ 平均/ 寻径/ 距离/ ./ 在/ 分级/ 环/ 互连/ 中/ ,/ 级联/ 链路/ 成为/ 影响/ 网络/ 性能/ 的/ 主要/ 因素/ ,/ 实验/ 数据/ 表明/ ,/ 只/ 需/ 按照/ 等/ 比/ 序列/ 设置/ 各层/ 路由/ 结点/ 中/ 的/ 缓冲区/ 数量/ 即/ 可以/ 获得/ 较/ 好/ 的/ 网络/ 性能/ ./ 由于/ 增加/ 的/ 链路/ 和/ 缓冲区/ 较/ 少/ ,/ 分级/ 环/ 方式/ 互连/ 成本/ 仍然/ 较/ 低/ ./ 由于/ 网络/ 规模较/ 小时/ 与/ Mesh/ 等/ 二维/ 互连/ 方式/ 相比/ 分级/ 环/ 互连/ 方式/ 节省/ 的/ 互连/ 成本/ 有限/ 、/ 网络/ 直径/ 以及/ 平均/ 寻径/ 距离/ 的/ 减少/ 有限/ ,/ 而/ 级联/ 方式/ 又/ 一定/ 程度/ 上/ 增加/ 了/ 网络/ 冲突/ 产生/ 的/ 可能/ ,/ 因此/ 在/ 较/ 小规模/ 下/ 分级/ 环/ 方式/ 的/ 互连/ 性能/ 较差/ ;/ 随着/ 网络/ 规模/ 的/ 增加/ ,/ 分级/ 环/ 互连/ 方式/ 下/ 网络/ 直径/ 和/ 平均/ 寻径/ 距离/ 的/ 减小/ 越来越/ 明显/ ,/ 逐渐/ 抵消/ 了/ 由于/ 级联/ 而/ 导致/ 的/ 网络/ 冲突/ 增加/ 的/ 因素/ ,/ 从而/ 使得/ 分级/ 环/ 方式/ 的/ 互连/ 性能/ 越来越/ 好/ ,/ 这/ 表明/ ,/ 分级/ 环/ 互连/ 方式/ 更/ 适合/ 大规模/ 超大规模/ 片上/ 网络/ ./ 特别/ 指出/ 的/ 是/ ,/ 以上/ 结果/ 是/ 基于/ 全局/ 均匀/ 通信/ 模式分析/ 得到/ 的/ ,/ 基于/ 局部/ 均匀/ 通信/ 模式/ 的/ 实验/ 数据/ 表明/ ,/ 局部/ 通信/ 概率/ 越高/ ,/ 分级/ 环/ 互连/ 方式/ 的/ 相对/ 性能/ 越好/ ./ 与/ 单环/ 分级/ 互连/ 相比/ ,/ 双环/ 分级/ 互连/ 具有/ 更大/ 的/ 网络/ 负载/ 能力/ 和/ 更/ 低/ 的/ 单位/ 延迟/ 负载/ 能力/ ,/ 因此/ 当/ 网络/ 负载/ 较大/ 时/ ,/ 双环/ 方式/ 的/ 综合性/ 能会/ 更好/ ;/ 但是/ ,/ 在/ 较/ 低/ 的/ 网络/ 负载/ 下/ ,/ 双环/ 方式/ 各/ 方面/ 的/ 性能/ 与/ 单环/ 方式/ 差别/ 不/ 大/ ,/ 而/ 双环/ 方式/ 所/ 需/ 的/ 缓冲区/ 数量/ 远/ 多于/ 单环/ 方式/ 、/ 其/ 布局/ 布线/ 复杂度/ 也/ 远高于/ 单环/ 方式/ ,/ 因此/ ,/ 在/ 网络/ 负载/ 较/ 低时/ ,/ 单环/ 方式/ 是/ 更好/ 的/ 选择/ ./ 以上/ 的/ 分析/ 都/ 是/ 假设/ 限定/ 区域/ 内/ 的/ 通信/ 分布/ 是/ 均匀/ 随机/ 的/ ,/ 它/ 能够/ 分析/ 某/ 一类/ 网络应用/ 在/ 特定/ 互连/ 结构/ 中/ 的/ 平均/ 性能/ ./ 为了/ 分析/ 具体/ 应用/ 在/ 相关/ 互连/ 结构/ 下/ 的/ 性能/ ,/ 下/ 一步/ 将/ 使用/ 真实/ 的/ 片/ 上/ 网络通信/ 分析/ 、/ 验证/ 网络/ 性能/ ./ 

