Page1NodeRank/ :/ 一种/ 高效/ 软硬件/ 划分算法/ 陈志/ 武继刚/ 宋国治/ 陈金亮/ (/ 天津工业大学/ 计算机科学/ 与/ 软件/ 学院/ 天津/ 300387/ )/ 摘要/ 软硬件/ 协同/ 设计/ 是/ 现代/ 嵌入式/ 系统/ 开发/ 的/ 核心技术/ ,/ 如何/ 将/ 系统/ 功能/ 划分/ 到/ 软件/ 和/ 硬件/ 部分/ 上/ 是/ 软硬件/ 协同/ 设计/ 的/ 关键环节/ ./ 文中/ 将/ 软硬件/ 划分/ 问题/ 看作/ 带有/ 动态/ 通信/ 代价/ 的/ 变异/ 0/ -/ 1/ 背包/ 问题/ ,/ 提出/ 一种/ 基于/ 迭代/ 排序/ 思想/ 的/ NodeRank/ 算法/ ./ 该/ 算法/ 通过/ 迭代/ 排序/ 计算/ 结点/ 通信/ 代价/ 的/ 期望值/ ,/ 进而/ 求解/ 背包/ 问题/ ,/ 构造/ 出/ 软硬件/ 划分/ 问题/ 的/ 优质/ 启发/ 解/ ./ 实验/ 结果/ 证明/ ,/ 在/ 计算/ -/ 通信/ 代价/ 均衡/ ,/ 弱/ 实时性/ 约束条件/ 下/ ,/ NodeRank/ 对边/ 点/ 比/ 大于/ 等于/ 2/ 的/ 任务/ 图/ 的/ 处理结果/ 与/ 目前/ 已知/ 效果/ 最好/ 的/ 禁忌/ 搜索/ 方法/ 的/ 平均/ 性能/ 差距/ 不/ 超过/ 1.2/ %/ ,/ 而/ 平均/ 时间/ 开销/ 可以/ 节约/ 95/ %/ ./ 在/ 通信/ 代价/ 较/ 高/ 的/ 条件/ 下/ ,/ NodeRank/ 与/ 禁忌/ 搜索/ 相比/ ,/ 可/ 提升/ 性能/ 达/ 3.5/ %/ ,/ 并/ 节约/ 时间/ 超过/ 75/ %/ ./ 关键词/ 软硬件/ 划分/ ;/ 启发式/ 算法/ ;/ 0/ -/ 1/ 背包/ 问题/ ;/ 迭代/ 排序/ 1/ 引言/ 件/ 部分/ 具有/ 执行/ 速度/ 快/ 、/ 功耗/ 低等/ 优点/ ,/ 但/ 成本/ 较/ 高/ ;/ 软件/ 部分/ 执行/ 速度慢/ ,/ 但/ 成本低/ ,/ 配置/ 相对/ 灵活/ ./ 软件/ 和/ 硬件/ 实现/ 方案/ 具有/ 互补/ 特性/ ,/ 需要/ 根据/ 系统/ 现代/ 嵌入式/ 系统/ 通常/ 由/ 软硬件/ 两/ 部分/ 组成/ ./ 硬/ 需求/ 进行/ 协同/ 设计/ ./ 软硬件/ 划分/ 是/ 软硬件/ 协同/ 设计/ Page2/ 的/ 关键环节/ ,/ 它/ 决定/ 系统/ 中/ 哪些/ 组件/ 由/ 软件/ 实现/ ,/ 哪些/ 由/ 硬件/ 实现/ ,/ 对系统/ 性能/ 有/ 重要/ 影响/ ./ 软硬件/ 划分/ 问题/ 是/ 一个/ NP/ 完全/ 问题/ [/ 1/ ]/ ,/ 目前/ 已有/ 的/ 解决/ 方法/ 主要/ 分为/ 精确/ 算法/ 和/ 启发式/ 算法/ 两类/ ./ 精确/ 算法/ 包括/ 动态/ 规划/ 算法/ [/ 2/ -/ 3/ ]/ 、/ 整数/ 线性规划/ 算法/ [/ 4/ -/ 5/ ]/ 和/ 分支/ 限界/ 法/ [/ 6/ ]/ 等/ ,/ 一般/ 用于/ 较/ 小规模/ 的/ 划分/ 问题/ ./ 对于/ 规模/ 较大/ 的/ 问题/ ,/ 只能/ 使用/ 启发式/ 算法/ ./ 处理/ 软硬件/ 划分/ 问题/ 的/ 启发式/ 算法/ 主要/ 分为/ 专用/ 启发式/ 算法/ 和/ 通用/ 启发式/ 算法/ 两大类/ ./ 专用/ 启发式/ 算法/ 包括/ 硬件/ 约束/ 优先/ [/ 7/ ]/ 、/ 软件/ 约束/ 优先/ [/ 8/ ]/ 和/ 软硬件/ 约束/ 结合/ [/ 9/ ]/ 3/ 个子/ 类/ ./ 目前/ ,/ 面向/ 可/ 重构/ 硬件/ 环境/ 的/ 专用/ 启发式/ 算法/ [/ 10/ -/ 11/ ]/ 逐渐/ 发展/ 为/ 新/ 的/ 研究/ 热点/ ./ 在/ 通用/ 启发式/ 算法/ 方面/ 包括/ 遗传算法/ [/ 12/ -/ 13/ ]/ 、/ 模拟退火/ 算法/ [/ 14/ ]/ 、/ 粒子/ 群/ 算法/ [/ 15/ ]/ 等/ 基本/ 智能/ 搜索/ 方法/ ./ 也/ 有/ 学者/ 提出/ 复合型/ 搜索算法/ ,/ 例如/ ,/ 文献/ [/ 16/ ]/ 将/ 遗传算法/ 中/ 的/ 交叉/ 和/ 变异/ 思想/ 引入/ 粒子/ 群/ 优化/ 算法/ ,/ 提出/ 一种/ 遗传/ 粒子/ 群/ 优化/ (/ GPSO/ )/ 算法/ ./ 文献/ [/ 17/ ]/ 提出/ 将/ 遗传算法/ 与/ 禁忌/ 搜寻/ 相结合/ (/ GATS/ )/ 的/ 启发式/ 算法/ ./ 文献/ [/ 18/ ]/ 提出/ 一种/ 将/ 遗传算法/ 与/ 蚂蚁/ 算法/ 进行/ 动态/ 融合/ 的/ 软硬件/ 划分/ 方法/ ./ 本文/ 利用/ 文献/ [/ 19/ ]/ 提出/ 的/ 模型/ 将/ 硬件/ 划分/ 问题/ 转化/ 为/ 带有/ 动态/ 通信/ 代价/ 的/ 变异/ 0/ -/ 1/ 背包/ 问题/ ,/ 借鉴/ 用于/ 网页/ 排名/ 的/ PageRank/ 算法/ 思想/ ,/ 对/ 结点/ 的/ 通信/ 代价/ 期望值/ 和/ 排名/ 进行/ 迭代/ 计算/ ,/ 根据/ 背包/ 问题/ 贪心/ 解/ 策略/ 构造/ 并/ 调整/ 得到/ 软硬件/ 划分/ 问题/ 的/ 优质/ 启发/ 解/ ./ 本文/ 第/ 2/ 节对/ 使用/ 的/ 计算/ 模型/ 进行/ 描述/ ,/ 并/ 对/ 前期/ 基础/ 工作/ 进行/ 介绍/ ;/ 第/ 3/ 节/ 讨论/ NodeRank/ 算法/ 设计/ ,/ 进行/ 复杂性/ 分析/ ;/ 第/ 4/ 节/ 介绍/ 实验/ 方法/ ,/ 展示/ 并/ 分析/ 实验/ 结果/ ;/ 最后/ 总结/ 全文/ 并/ 对/ 下/ 一步/ 工作/ 进行/ 展望/ ./ 2/ 问题/ 模型/ 与/ 前期工作/ 根据/ 文献/ [/ 19/ ]/ 提出/ 的/ 计算/ 模型/ ,/ 利用/ 无向/ 图/ G/ =/ (/ V/ ,/ E/ )/ 描述/ 系统/ 任务/ 图/ ,/ 如图/ 1/ 所示/ ,/ 其中/ V/ 和/ E/ 分别/ 是/ 结点/ 和/ 边/ 的/ 集合/ ./ 每个/ 结点/ i/ 包括/ 软硬件/ 执行/ 代价/ si/ 和/ hi/ ,/ 边上/ 的/ 权值/ 表示/ 结点/ 间通信/ 代价/ ,/ 记为/ cij/ ,/ 图/ 1/ 中/ 实线/ 代表/ 划分/ 方案/ 的/ 实际/ 通信/ 代价/ ./ 软硬件/ 划分/ 问题/ P/ 可/ 等价/ 表示/ 为/ 问题/ Q/ ./ 问题/ P/ 的/ 具体/ 定义/ 和/ 变换/ 过程/ 请/ 参考文献/ [/ 19/ ]/ ./ Q/ 其中/ 狓/ =/ (/ x1/ ,/ x2/ ,/ …/ ,/ xn/ )/ 表示/ 一个/ 划分/ 结果/ ,/ xi/ =/ 1/ 表示/ 结点/ i/ 由/ 软件/ 实现/ ,/ xi/ =/ 0/ 表示/ 由/ 硬件/ 实现/ ,/ R/ 为/ 软件/ 代价/ 和/ 通信/ 代价/ 的/ 约束/ ,/ C/ (/ 狓/ )/ =/ ∑/ n/ 为/ 总/ 的/ 通信/ 代价/ ./ 问题/ Q/ 与/ 式/ (/ 2/ )/ 所示/ 的/ 经典/ 0/ -/ 1/ 背包/ 问题/ 非常/ 相似/ :/ hi/ ,/ si/ ,/ R/ 分别/ 对应/ bi/ ,/ wi/ ,/ K/ ,/ 区别/ 在于/ 问题/ Q/ 存在/ 非线性/ 的/ 通信/ 代价/ C/ ./ 0/ -/ 1KP/ 由于/ 0/ -/ 1/ 背包/ 问题/ 存在/ 简单/ 且/ 有效/ 的/ 启发式/ 算法/ :/ 根据/ 物品/ 的/ 价值/ b/ 与/ 重量/ w/ 的/ 比值/ 由大到/ 小/ 依次/ 放入/ 背包/ ,/ 直到/ 满足/ 约束条件/ ./ 因此/ ,/ 在/ 前述/ 的/ 问题/ 模型/ 基础/ 上/ ,/ 求解/ 软硬件/ 划分/ 问题/ 的/ 基本思路/ 是/ 首先/ 构造/ 对应/ 变异/ 0/ -/ 1/ 背包/ 问题/ 的/ 启发/ 解/ ,/ 然后/ 再/ 调整/ 为/ 问题/ Q/ 的/ 可行/ 解/ ./ 根据/ 这一/ 思路/ ,/ 我们/ 在/ 文献/ [/ 19/ ]/ 中/ 提出/ 了/ 一种/ 一维/ 搜索算法/ ./ 它/ 对/ 非线性/ 的/ 通信/ 代价/ C/ 在/ 取值/ 范围/ [/ 0/ ,/ R/ ]/ 内/ 依据/ 步长/ 参数/ dx/ 进行/ 一维/ 搜索/ ,/ 针对/ 不同/ 的/ C/ 值/ ,/ 构建/ 不同/ 约束条件/ 的/ 背包/ 问题/ ,/ 并/ 通过/ 求解/ 一系列/ 背包/ 问题/ 找出/ 针对/ 问题/ Q/ 的/ 较优/ 可行/ 解/ ./ 该/ 算法/ 大幅/ 缩减/ 了/ 搜索/ 空间/ ,/ 具有/ 较/ 低/ 的/ 时间/ 复杂度/ O/ (/ nlogn/ +/ d/ ·/ (/ n/ +/ m/ )/ )/ ,/ 其中/ d/ 是/ 算法/ 在/ 一维/ 搜索/ 空间/ 内/ 的/ 搜索/ 频次/ ./ 文献/ [/ 9/ ]/ 中/ 提出/ 的/ 启发式/ 算法/ 首先/ 忽略/ 通信/ 代价/ C/ ,/ 将/ 问题/ Q/ 直接/ 简化/ 为/ 经典/ 0/ -/ 1/ 背包/ 问题/ 进行/ 求解/ ,/ 然后/ 通过/ 对/ 软硬件/ 划分/ 结果/ 集合/ 中/ 的/ 结点/ 进行/ 双向/ 移动/ 调整/ ,/ 提高/ 启发/ 解/ 的/ 质量/ ./ 该/ 算法/ 的/ 时间/ 复杂度/ 是/ O/ (/ nlogn/ +/ k/ ·/ (/ n/ +/ m/ )/ )/ ,/ 其中/ k/ 是/ 需要/ 进行/ 调整/ 的/ 节点/ 数量/ ./ 此外/ ,/ 文献/ [/ 9/ ]/ 还/ 利用/ 禁忌/ 搜索/ 技术/ 对/ 该/ 启发式/ 算法/ 得到/ 的/ 解/ 进行/ 改进/ ,/ 该/ 方法/ 得/ Page3/ 到/ 的/ 解是/ 目前/ 对/ 这/ 一类/ 软硬件/ 划分/ 问题/ 已知/ 取得/ 的/ 最好/ 结果/ ./ 3NodeRank/ 算法/ 3.1/ 算法/ 思想/ 与/ 文献/ [/ 9/ ,/ 19/ ]/ 相似/ ,/ NodeRank/ 算法/ 的/ 基本思路/ 也/ 是/ 要/ 利用/ 0/ -/ 1/ 背包/ 问题/ 的/ 贪心/ 策略/ 来/ 近似/ 求解/ 问题/ Q/ ./ 但/ 对于/ 问题/ Q/ 来说/ ,/ 有效/ 的/ 排序/ 策略/ 必须/ 考虑/ 通信/ 代价/ C/ 的/ 影响/ ./ 分析/ 发现/ ,/ 一条/ 边/ 的/ 两个/ 结点/ 分属/ 不同/ 子集/ (/ 硬件/ 集合/ VH/ 和/ 软件/ 集合/ VS/ )/ 的/ 可能性/ 越大/ ,/ 则/ 该/ 边/ 所/ 产生/ 的/ 通信/ 代价/ 计入/ 总/ 代价/ 的/ 可能性/ 就/ 越/ 大/ ,/ 即/ 该/ 边/ 所/ 产生/ 的/ 通信/ 代价/ 的/ 期望值/ 就/ 越/ 大/ ./ 从/ 结点/ 角度看/ ,/ 结点/ 的/ 通信/ 代价/ 与/ 相邻/ 结点/ 的/ 划分/ 情况/ (/ 即/ 排序/ )/ 有关/ ,/ 而/ 相邻/ 结点/ 的/ 划分/ 又/ 与其/ 通信/ 代价/ 有关/ ,/ 进而/ 与/ 本/ 结点/ 划分/ (/ 即/ 排序/ )/ 有关/ ./ 为/ 解决/ 这一/ 矛盾/ ,/ 本文/ 借鉴/ 了/ 网页/ 排名/ 算法/ PageRank/ [/ 20/ ]/ 的/ 设计/ 思想/ ,/ 设计/ 了/ 一种/ NodeRank/ 算法/ ./ PageRank/ 算法/ 的/ 基本/ 思想/ 是/ :/ 要/ 确定/ 一个/ 网页/ Wi/ 的/ 相对/ 排序/ ,/ 不仅/ 要/ 知道/ 有/ 多少/ 网页/ 链接/ 了/ 它/ ,/ 而且/ 还要/ 知道/ 那些/ 网页/ 各自/ 的/ 排序/ —/ —/ —/ 因为/ 排序/ 靠/ 前/ 的/ 网页/ 质量/ 更高/ ,/ 建立/ 的/ 链接/ 更/ 有/ “/ 价值/ ”/ ./ PageRank/ 算法/ 将/ 这/ 一/ 问题/ 描述/ 为式/ (/ 3/ )/ ,/ 通过/ 迭代/ 方式/ 计算/ 出/ 所有/ 网页/ 的/ 排名/ ./ i/ 表示/ 第/ n/ 次/ 迭代/ 后/ 页面/ Wi/ 的/ 排名/ ,/ j/ →/ i/ 表/ 其中/ Rn/ 示/ Wj/ 包含/ 一条/ 到/ Wi/ 的/ 链接/ ,/ Nj/ 表示/ 页面/ Wj/ 的/ 链接/ 总数/ ./ 本文/ 假设/ 初始/ 时/ 结点/ 都/ 属于/ VH/ ,/ 对/ 问题/ Q/ 的/ 求解/ 过程/ 即/ 为/ 找出/ 排序/ 靠/ 前/ 的/ 结点/ 加入/ VS/ ./ 为了/ 更/ 准确/ 地/ 对/ 结点/ 进行/ 排序/ ,/ 定义/ 结点/ i/ 加入/ VS/ 带来/ 的/ 通信/ 代价/ 期望/ E/ (/ ci/ )/ ,/ 结点/ i/ 属于/ VS/ 的/ 概率/ 为/ PS/ (/ i/ )/ ,/ 结点/ i/ 属于/ VH/ 的/ 概率/ PH/ (/ i/ )/ =/ 1/ -/ PS/ (/ i/ )/ ./ 且/ 规定/ E/ (/ c/ )/ 的/ 初始值/ 为/ 0/ ./ NodeRank/ 算法/ 利用/ 图/ 2/ 所示/ 的/ 迭代/ 流程/ 进行/ 近似/ 求解/ ,/ 计算/ 0/ -/ 1/ 背包/ 问题/ 贪心/ 解时/ 采用/ 的/ 排序/ 依据/ 为/ Rank/ (/ i/ )/ =/ hisi/ +/ E/ (/ ci/ )/ ./ 因为/ 估算/ 的/ 通信/ 代价/ 与/ 实际/ 情况/ 存在/ 偏差/ ,/ 得到/ 的/ 解/ 可能/ 不是/ 可行/ 解/ ,/ 必须/ 对/ 它/ 进行/ 判断/ 与/ 调整/ ./ 调整/ 的/ 基本思路/ 与/ 文献/ [/ 9/ ]/ 提出/ 的/ 启发/ 解/ 调整/ 思路/ 相同/ ,/ 具体方法/ 在/ 3.2/ 节中/ 详细/ 介绍/ ./ 3.2/ 算法/ 描述/ 与/ 分析/ 算法/ 1/ 是/ 对/ 图/ 2/ 所示/ NodeRank/ 算法/ 框架/ 的/ 伪/ 代码/ 实现/ ,/ 迭代/ iter/ _/ num/ 次后/ 自动/ 结束/ ./ 特别/ 当/ iter/ _/ num/ =/ 0/ 时/ ,/ NodeRank/ 将/ 退化/ 为/ 文献/ [/ 9/ ]/ 所/ 提出/ 的/ 启发式/ 算法/ ./ 算法/ 1/ ./ NodeRank/ ./ 输入/ :/ 任务/ 图/ G/ 、/ 约束条件/ R/ 和/ 迭代/ 次数/ iter/ _/ num/ 输出/ :/ 迭代/ 过程/ 中/ 的/ 最佳/ 划分/ 方案/ 狓/ best/ =/ (/ x1/ ,/ x2/ ,/ …/ ,/ xn/ )/ 1/ ./ 狓/ =/ (/ 0/ ,/ 0/ ,/ …/ ,/ 0/ )/ ;/ 狓/ best/ =/ (/ 0/ ,/ 0/ ,/ …/ ,/ 0/ )/ ;/ max/ _/ sum/ _/ hixi/ =/ 2/ ./ REPEAT3/ ./ Rank/ (/ i/ )/ =/ hisi/ +/ E/ (/ ci/ )/ ,/ 按照/ Rank/ (/ 1/ )/ / Rank/ (/ 2/ )/ / …/ 4/ ./ i/ =/ 1/ ,/ rec/ =/ R5/ ./ REPEAT6/ ./ IFsi/ / recTHEN7/ ./ rec/ =/ rec/ -/ si/ ,/ xi/ =/ 1andi/ =/ i/ +/ 18/ ./ ENDIF9/ ./ UNTIL/ (/ (/ rec/ / 0/ )/ or/ (/ i/ >/ n/ )/ )/ 10/ ./ IF/ (/ S/ (/ 狓/ )/ +/ C/ (/ 狓/ )/ >/ R/ )/ THEN11/ ./ 狓/ =/ Adjust/ _/ Out/ (/ 狓/ )/ 12/ ./ ENDIF13/ ./ 狓/ =/ Adjust/ _/ In/ (/ 狓/ )/ 14/ ./ IFmax/ _/ sum/ _/ hixi/ </ H/ (/ 狓/ )/ THEN15/ ./ max/ _/ sum/ _/ hixi/ =/ H/ (/ 狓/ )/ 16/ ./ 狓/ best/ =/ 狓/ 17/ ./ ENDIF18/ ./ 对于/ 每个/ 节点/ i/ ,/ 19/ ./ 对于/ 每个/ 节点/ i/ ,/ 20/ ./ k/ =/ k/ +/ 121/ ./ UNTIL/ (/ k/ >/ iter/ _/ num/ )/ 第/ 3/ ~/ 9/ 行/ 完成/ 带有/ 通信/ 代价/ 的/ 0/ -/ 1/ 背包/ 排序/ 求解/ 过程/ ./ 这是/ 一个/ 贪心/ 过程/ ,/ 并/ 不能/ 保证/ 所得/ 结果/ 为/ 可行/ 解/ ./ 第/ 10/ ~/ 17/ 行/ 利用/ 算法/ 2/ 和/ 算法/ 3/ 将/ 其/ 调整/ 为/ 较/ 好/ 的/ 可行/ 解/ ,/ 其中/ S/ (/ x/ )/ 和/ H/ (/ x/ )/ 分别/ 表示/ 软硬件/ 的/ 总/ 代价/ ./ 第/ 18/ 行对/ 第/ k/ 次/ 迭代/ 后/ 的/ 结点/ i/ 属于/ VS/ 的/ 概率/ PS/ (/ i/ )/ 进行/ 更新/ ,/ 其中/ PS/ 和/ PH/ 分别/ 表示/ 当前/ 划分/ 结果/ 为/ 软件/ 或硬件/ 对/ PS/ (/ i/ )/ 的/ 更新/ 分量/ ,/ 这/ 也/ 是/ PS/ (/ i/ )/ 的/ 初始值/ ,/ α/ 表示/ 概率/ PS/ (/ i/ )/ 历史/ 情况/ 所/ 占/ 的/ 权重/ ,/ 这些/ 都/ 是/ 算法/ 的/ 全局/ 参数/ ./ 第/ 19/ 行/ 根据/ 更新/ 后/ 的/ PS/ (/ i/ )/ 重新/ 计算/ 每个/ 结点/ 的/ 通信/ 代/ Page4/ 价/ 期望值/ ./ 算法/ 2/ 和/ 算法/ 3/ 共同完成/ 可行/ 解/ 调整/ 工作/ ./ 首先/ ,/ 按照/ 式/ (/ 4/ )/ 计算/ 每/ 一个/ 结点/ i/ 移动/ 后/ 通信/ 代价/ 的/ 变化/ 情况/ Δ/ ci/ :/ 然后/ ,/ 按照/ 硬件/ 代价/ 与/ 软件/ 代价/ 和/ 通信/ 代价/ 变化/ 之/ 和/ 的/ 比值/ 最小化/ 原则/ 移出/ 结点/ ,/ 按照/ 硬件/ 代价/ 与/ 软件/ 代价/ 和/ 通信/ 代价/ 变化/ 之/ 和/ 的/ 比值/ 最大化/ 原则/ 移入/ 结点/ ,/ 并/ 保证/ 调整/ 结果/ 为/ 可行/ 解/ ./ 算法/ 2/ ./ Adjust/ _/ Out/ ./ 输入/ :/ 任务/ 图/ G/ ,/ 约束条件/ R/ 和/ 当前/ 划分/ 方案/ 狓/ =/ 输出/ :/ 移出/ 部分/ 结点/ 后/ 的/ 划分/ 方案/ 狓/ =/ (/ x1/ ,/ x2/ ,/ …/ ,/ xn/ )/ 1/ ./ REPEAT2/ ./ 对于/ 每个/ xi/ =/ 1/ 的/ 结点/ i3/ ./ k/ =/ argmini4/ ./ 更新/ S/ (/ 狓/ )/ ,/ C/ (/ 狓/ )/ 和/ H/ (/ 狓/ )/ 5/ ./ UNTIL/ (/ S/ (/ 狓/ )/ +/ C/ (/ 狓/ )/ / R/ )/ 算法/ 3/ ./ Adjust/ _/ In/ ./ 输入/ :/ 任务/ 图/ G/ ,/ 约束条件/ R/ 和/ 当前/ 划分/ 方案/ 狓/ =/ 输出/ :/ 移入/ 部分/ 结点/ 后/ 的/ 划分/ 方案/ 狓/ =/ (/ x1/ ,/ x2/ ,/ …/ ,/ xn/ )/ 1/ ./ rec/ =/ R/ -/ (/ S/ (/ 狓/ )/ +/ C/ (/ 狓/ )/ )/ 2/ ./ REPEAT3/ ./ 对于/ 每个/ xi/ =/ 0/ 的/ 结点/ i4/ ./ k/ =/ argmaxi5/ ./ rec/ =/ rec/ -/ (/ sk/ +/ Δ/ ck/ )/ 6/ ./ 更新/ S/ (/ 狓/ )/ ,/ C/ (/ 狓/ )/ 和/ H/ (/ 狓/ )/ 7/ ./ UNTIL/ (/ S/ (/ 狓/ )/ +/ C/ (/ 狓/ )/ / R/ )/ 定理/ 1/ ./ NodeRank/ 算法/ 的/ 时间/ 复杂度/ 为/ O/ (/ N/ ·/ (/ m/ +/ n/ )/ logn/ )/ ,/ 其中/ N/ 为/ 迭代/ 次数/ ,/ n/ 和/ m/ 分别/ 表示/ 任务/ 图中/ 的/ 结点/ 数和边/ 数/ ./ 证明/ ./ NodeRank/ 算法/ (/ 算法/ 1/ )/ 会/ 通过/ 迭代/ 方式/ 调用/ 算法/ 2/ 和/ 算法/ 3/ ,/ 这三/ 部分/ 共同/ 决定/ 了/ 整个/ 算法/ 的/ 时间/ 复杂度/ ./ 对/ 每次/ 迭代/ 过程/ ,/ 算法/ 1/ 第/ 3/ 行在/ O/ (/ nlogn/ )/ 内/ 完成/ 排序/ ,/ 随后/ 的/ 第/ 5/ ~/ 9/ 行/ 可以/ 在/ O/ (/ n/ )/ 时间/ 内/ 完成/ ./ 第/ 18/ 行对/ 每个/ 结点/ 计算/ 新一轮/ 被/ 选入/ 软件/ 集合/ 的/ 概率/ ,/ 所/ 需/ 时间/ 为/ O/ (/ n/ )/ ,/ 第/ 19/ 行/ 等价/ 于/ 对/ 图/ 中/ 每/ 条边/ 的/ 2/ 个/ 顶点/ 进行/ 计算/ ,/ 所以/ 时间/ 复杂度/ 为/ O/ (/ m/ )/ ./ 算法/ 2/ 和/ 算法/ 3/ 的/ 执行/ 过程/ 类似/ ,/ 这里/ 作为/ 一个/ 整体/ 进行/ 分析/ ./ 在/ 一次/ 迭代/ 过程/ 中/ ,/ 算法/ 2/ 和/ 算法/ 3/ 移动/ 的/ 结点/ 总数/ 必然/ 小于/ 等于/ n/ ./ 每次/ 将/ 一个/ 结点/ k/ 移出/ 或/ 移入/ 软件/ 或硬件/ 集合/ 后/ ,/ 只/ 需要/ 计算/ 任务/ 图中/ 与/ 结点/ k/ 直接/ 相连/ 的/ 结点/ 的/ 通信/ 代价/ 的/ 变化/ 值/ Δ/ c/ ./ 用/ mi/ 表示/ 和/ 结点/ i/ 关联/ 的/ 边数/ ,/ 则/ 更新/ 总/ 次数/ 必/ 小于/ 等于/ ∑/ n/ 新/ Δ/ c/ 的/ 执行/ 时间/ 为/ O/ (/ m/ )/ ./ 由于/ 算法/ 2/ 和/ 算法/ 3/ 中要/ 多次/ 选择/ hisi/ +/ Δ/ ci/ 行/ 排序/ 处理/ ,/ 所/ 需/ 时间/ 为/ O/ (/ nlogn/ )/ ./ 通过/ 前面/ 分析/ 可知/ hisi/ +/ Δ/ ci/ 看作/ 向/ 有序/ 数据/ 中/ 进行/ 插入/ 操作/ ,/ 开销/ 为/ O/ (/ logn/ )/ ./ 因此/ ,/ 算法/ 2/ 和/ 算法/ 3/ 中/ 选择/ 移动/ 结点/ 的/ 执行/ 时间/ 可以/ 控制/ 在/ O/ (/ mlogn/ +/ nlogn/ )/ ./ 结合/ 以上/ 分析/ ,/ NodeRank/ 算法/ 的/ 时间/ 复杂度/ 为/ O/ (/ N/ ·/ (/ m/ +/ n/ )/ logn/ )/ ./ 4/ 算法/ 性能/ 测试/ 4.1/ 实验/ 环境/ 为/ 验证/ NodeRank/ 算法/ 的/ 性能/ ,/ 本文/ 实验/ 部分/ 采用/ 了/ 文献/ [/ 19/ ]/ 的/ 基础/ 设置/ 环境/ ./ 根据/ 通信/ 代价/ 与/ 软件/ 计算/ 代价/ 之/ 比/ (/ CCR/ )/ 定义/ 了/ 3/ 种/ 不同/ 类型/ 的/ 任务/ 图/ :/ 计算/ 密集型/ 、/ 计算/ -/ 通信/ 均衡/ 型/ 和/ 通信/ 密集型/ ,/ 对应/ CCR/ 取值/ 分别/ 为/ 0.1/ ,/ 1/ 与/ 10/ ./ 考虑/ 2/ 种/ 不同/ 约束条件/ R/ :/ 强/ 实时/ 约束/ R/ 值较/ 小/ ,/ 记为/ R/ =/ low/ ;/ 弱/ 实时/ 约束/ R/ 值/ 较大/ ,/ 记为/ R/ =/ high/ ./ 表/ 1/ 给出/ 文献/ [/ 19/ ]/ 中/ 使用/ 的/ 全部/ 基准/ 任务/ ,/ 所有/ 任务/ 的/ 边数/ 与/ 结点/ 数/ 的/ 比值/ (/ 简称/ 边点/ 比/ )/ 范围/ 为/ [/ 1/ ,/ 3/ ]/ ./ 任务/ 名称/ 结点/ 数/ n/ 边数/ m/ 规模/ (/ 2n/ +/ 3m/ )/ 规模/ 序号/ m/ // ncrc32253415211/ ./ 4patricia215019222/ ./ 4dijkstra267126532/ ./ 7clustering150333129942/ ./ 2rc6329448200251/ ./ 4random110001000500061/ ./ 0random210002000800082/ ./ 0random31000300011000103/ ./ 0random415001500750071/ ./ 0random51500300012000112/ ./ 0random61500450016500133/ ./ 0random7200020001000091/ ./ 0random82000400016000122/ ./ 0random92000600022000143/ ./ 0/ 在/ 本文/ 中/ ,/ 文献/ [/ 19/ ]/ 提出/ 的/ 一维/ 搜索算法/ 记作/ Base/ ,/ 文献/ [/ 9/ ]/ 提出/ 的/ 启发式/ 算法/ 记作/ Adjust/ ,/ 基于/ Page5/ 禁忌/ 搜索/ 的/ 改进/ 算法/ 记作/ Adjust/ +/ Tabu/ (/ 在/ 表/ 2/ ~/ 4/ 中/ 简称/ Tabu/ )/ ./ 实验/ 硬件/ 环境/ 为/ 曙光/ 小型机/ :/ AMDOpteron6234CPU/ (/ 主频/ 2.4/ GHz/ )/ 、/ 512GB/ 内存/ ./ 操作系统/ 平台/ 为/ Windows2008Server/ ./ 实验/ 使用/ 了/ 文献/ [/ 19/ ]/ 和/ 文献/ [/ 9/ ]/ 的/ 算法/ 源代码/ 进行/ 算法/ 性能/ 比较/ ,/ 并/ 对/ 文献/ [/ 9/ ]/ 中/ 禁忌/ 搜索/ 过程/ 的/ 参数/ 进行/ 了/ 优化/ ./ NodeRank/ 的/ 全局/ 参数值/ 设定/ 为/ α/ =/ 0.7/ ,/ PS/ =/ 0.9/ ,/ PH/ =/ 0.1/ ./ 每组/ 实验/ 结果/ 均/ 为/ 随机/ 运行/ 50/ 次/ 得到/ 的/ 平均值/ ./ 利用/ 下/ 式/ 计算/ 算法/ A/ 对/ 算法/ B/ 的/ 改进/ 情况/ ./ 改进/ 程度/ =/ 1/ -/ 算法/ A/ 的/ 硬件/ 代价/ 4.2/ 实验/ 结果/ 与/ 分析/ 图/ 3/ 给出/ 对/ Size/ =/ 2002/ 的/ 任务/ 使用/ 不同/ 迭代/ 次数/ 时/ ,/ NodeRank/ 与/ Adjust/ 结果/ 相比/ 的/ 改进/ 情况/ ./ 其中/ 第/ 1/ 次/ 迭代/ 的/ 改进/ 效果/ 最/ 明显/ ,/ 第/ 4/ 次/ 迭代/ 图/ 4/ 各/ 算法/ 与/ Base/ 相比/ 的/ 改进/ 情况/ 之后/ 的/ 改进/ 幅度/ 变小/ ./ 综合/ 考虑/ 算法/ 的/ 性能/ 与/ 开销/ 等/ 情况/ ,/ 后续/ 实验/ 中/ NodeRank/ 的/ 迭代/ 次数/ 设为/ 4/ ./ 图/ 4/ (/ a/ )/ ~/ 图/ 4/ (/ f/ )/ 是/ 对/ 不同/ 算法/ 求得/ 的/ 解/ 的/ 质图/ 3NodeRank/ 算法/ 迭代/ 次数/ 选取/ ,/ Size/ =/ 2002Page6/ 量/ 的/ 比较/ ,/ 横坐标/ 是/ 任务/ 规模/ 序号/ (/ 对应/ 任务/ 情况/ 参见/ 表/ 1/ )/ ,/ 纵坐标/ 为/ 相对/ Base/ 的/ 改进/ 情况/ ./ 图/ 4/ (/ a/ )/ 、/ (/ c/ )/ 和/ (/ e/ )/ 表明/ 在/ R/ =/ low/ 情况/ 下/ ,/ 各种/ 算法/ 改进/ 幅度/ 相差/ 不大/ ./ 图/ 4/ (/ d/ )/ 表明/ ,/ 在/ CCR/ =/ 1/ ,/ R/ =/ high/ 情况/ 下/ ,/ 实验/ 结果/ 明显/ 分为/ 两种/ 情况/ ./ 对/ 规模/ 序号/ 为/ 5/ 、/ 6/ 、/ 7/ 和/ 9/ 的/ 任务/ 实例/ ,/ NodeRank/ 所得/ 结果/ 与/ Adjust/ 差别/ 不/ 大/ ,/ 与/ Adjust/ +/ Tabu/ 的/ 结果/ 有/ 一定/ 差距/ ./ 这类/ 任务/ 实例/ 的/ 共同/ 特征/ 是/ 边点/ 比值/ 约/ 为/ 11/ ,/ 即/ 任务/ 图中/ 结点/ 间通信/ 情况/ 较少/ ./ 因此/ ,/ 表/ 2/ 在/ 比较/ NodeRank/ 和/ Adjust/ +/ Tabu/ 所/ 求得/ 解/ 的/ 质量/ 时/ 将/ 测试/ 任务/ 按照/ 边点/ 比分/ 为/ 两组/ :/ [/ 1/ ,/ 2/ )/ 和/ [/ 2/ ,/ 3/ ]/ ./ 前/ 一组/ 包括/ 规模/ 序号/ 为/ 1/ 、/ 5/ 、/ 6/ 、/ 7/ 和/ 9/ 的/ 任务/ ,/ 其余/ 任务/ 属于/ 第/ 2/ 组/ ./ 对/ 第/ 2/ 组/ 的/ 任务/ 来说/ ,/ NodeRank/ 与/ Adjust/ +/ Tabu/ 的/ 平均/ 差距/ 只有/ 1.2/ %/ ,/ 最大/ 差距/ 不/ 超过/ 3.4/ %/ ./ 从图/ 4/ (/ e/ )/ 、/ (/ f/ )/ 和表/ 2/ 中/ 可以/ 看出/ ,/ 在/ CCR/ =/ 10/ 时/ ,/ NodeRank/ (/ 表/ 2/ 中/ 简记/ 为/ Rank/ )/ 在/ 总体/ 上/ 具有/ 一定/ 性能/ 优势/ ,/ 最好/ 的/ 情况/ 比/ Adjust/ +/ Tabu/ 性能/ 提升/ 3.5/ %/ ./ 对表/ 2/ 中/ 第/ 2/ 组/ 任务/ 来说/ ,/ NodeRank/ 比/ Adjust/ +/ Tabu/ 具有/ 1.5/ %/ 的/ 平均/ 性能/ 提升/ ./ 图/ 5/ 分析/ 了/ 对/ size/ =/ 8000/ 的/ 任务/ ,/ 各/ 算法/ 相对/ Base/ 的/ 改进/ 幅度/ 的/ 分布/ 情况/ ./ 横坐标/ 是/ 改进/ 幅度/ ,/ 范围/ 是/ [/ 0/ %/ ,/ 5/ %/ ,/ 10/ %/ ,/ …/ ,/ 80/ %/ ]/ ,/ 每个/ 点/ 间隔/ 是/ 5/ %/ ,/ 如果/ 一次/ 实验/ 的/ 改进/ 幅度/ 落/ 在/ 区间/ (/ a/ ,/ b/ ]/ 内/ ,/ 则/ 计入/ b/ %/ 所在/ 的/ 点/ ./ 纵坐标/ 是/ 50/ 次/ 随机/ 实验/ 中/ 改图/ 5/ 各/ 算法/ 与/ Base/ 相比/ 改进/ 情况/ 的/ 分布/ ,/ size/ =/ 8000/ 表/ 2NodeRank/ 与/ Adjust/ +/ Tabu/ 比较/ (/ 数值/ 为/ 硬件/ 代价/ )/ m/ // n/ 任务/ [/ 1/ ,/ 2/ )/ [/ 2/ ,/ 3/ ]/ 注/ :/ ①/ Tabu/ 算法/ 相对/ NodeRank/ 算法/ 的/ 改进/ ;/ ②/ NodeRank/ 算法/ 相对/ Tabu/ 算法/ 的/ 改进/ ./ 进/ 程度/ 落/ 在/ b/ %/ 点/ 所/ 代表/ 的/ 区间/ 的/ 次数/ ./ 图/ 5/ 的/ 总体/ 情况/ 与/ 图/ 4/ 的/ 分析/ 结论/ 基本一致/ ./ 在/ CCR/ =/ 1/ ,/ R/ =/ high/ 情况/ 下/ ,/ NodeRank/ 的/ 效果/ 与/ Adjust/ +/ Tabu/ 相差/ 很小/ ,/ 都/ 明显/ 优于/ Adjust/ ./ 在/ CCR/ =/ 10/ ,/ R/ =/ high/ 情况/ 下/ ,/ NodeRank/ 具有/ 明显/ 优势/ ./ 表/ 3/ 和表/ 4/ 分别/ 给出/ 了/ CCR/ =/ 1/ ,/ R/ =/ high/ 和/ CCR/ =/ 10/ ,/ R/ =/ high/ 两种/ 情况/ 下/ 各/ 算法/ 的/ 运算/ 时间/ ,/ 以/ Adjust/ +/ Tabu/ 的/ 运行/ 时间/ 为/ 基准/ (/ 即/ 100/ %/ )/ 进行/ 了/ 换算/ ./ 在/ CCR/ =/ 1/ ,/ R/ =/ high/ 条件/ 下/ ,/ NodeRankPage7/ 与/ Adjust/ +/ Tabu/ 相比/ ,/ 平均/ 时间/ 开销/ 节约/ 高达/ 95/ %/ 以上/ ,/ 但/ 性能/ 相差/ 不/ 大/ ,/ 因此/ 具有/ 很/ 高/ 的/ 效率/ ./ NodeRank/ 的/ 运行/ 时间/ 约/ 为/ Adjust/ 的/ 3/ ~/ 4/ 倍/ ,/ 这/ 与/ 本文/ 实验/ 所用/ 迭代/ 次数/ 为/ 4/ 的/ 设置/ 一致/ ,/ 说明/ NodeRank/ 的/ 时间/ 开销/ 与/ 迭代/ 次数/ 基本/ 呈/ 线性关系/ ,/ 因此/ 可以/ 利用/ NodeRank/ 的/ 迭代/ 次数/ 调节/ 性能/ 和/ 时间/ 成本/ 的/ 关系/ ./ 任务/ 规模/ 1520.10/ ./ 00.00/ ./ 00.20/ ./ 0485.91920/ ./ 10.00/ ./ 10.00/ ./ 20.0536/ ./ 02650.10/ ./ 00.00/ ./ 00.30/ ./ 0582.212990/ ./ 80.11/ ./ 40.14/ ./ 40.31715/ ./ 520022.00/ ./ 15.40/ ./ 220.80/ ./ 73117.3500012/ ./ 90.241/ ./ 00.5202/ ./ 52.48523/ ./ 7750027.90/ ./ 296.50/ ./ 8473.53/ ./ 812332.6800014/ ./ 70.268/ ./ 00.7199/ ./ 12.19409/ ./ 71000049.50/ ./ 3187.31/ ./ 1889.45/ ./ 316865.71100016/ ./ 30.283/ ./ 41.1197/ ./ 92.67503/ ./ 41200031.10/ ./ 2162.41/ ./ 2462.63/ ./ 513392.11600054/ ./ 10.3290/ ./ 31.6839/ ./ 64.618180/ ./ 11650033.80/ ./ 3195.81/ ./ 7459.03/ ./ 911682.62200057/ ./ 70.3393/ ./ 52.3881/ ./ 45.117168/ ./ 2/ 任务/ 规模/ 1520.10/ ./ 00.10/ ./ 00.20/ ./ 0941.71920/ ./ 10.00/ ./ 00.00/ ./ 20.0364/ ./ 52650.20/ ./ 00.00/ ./ 00.20/ ./ 0403.512990/ ./ 80.11/ ./ 40.23/ ./ 60.6648/ ./ 420022.00/ ./ 26.60/ ./ 616.61/ ./ 61030.1500013/ ./ 20.262/ ./ 30.9159/ ./ 62.36927/ ./ 8750028.60/ ./ 3156.51/ ./ 7378.04/ ./ 29110.4800015/ ./ 11.172/ ./ 45.3161/ ./ 911.71378/ ./ 61000050.10/ ./ 4276.62/ ./ 2674.65/ ./ 312703.11100016/ ./ 31.081/ ./ 15.0166/ ./ 610.21627/ ./ 11200031.01/ ./ 5166.58/ ./ 0361.717/ ./ 42073.81600053/ ./ 82.3332/ ./ 714.3690/ ./ 429.72323/ ./ 91650033.61/ ./ 6220.410/ ./ 6416.020/ ./ 12071.22200057/ ./ 72.1382/ ./ 413.6719/ ./ 025.62810/ ./ 9/ 在/ CCR/ =/ 10/ ,/ R/ =/ high/ 条件/ 下/ ,/ NodeRank/ 与/ Tabu/ 相比/ ,/ 平均/ 节约/ 时间/ 在/ 75/ %/ 以上/ ./ 由于/ 任务/ 规模/ 较大/ 时/ ,/ Tabu/ 无法/ 找到/ 更好/ 的/ 解/ ,/ 使得/ 算法/ 总体/ 运行/ 时间/ 减少/ ,/ 导致/ 时间/ 节约/ 比例/ 上升/ ./ 此时/ ,/ NodeRank/ 的/ 运行/ 时间/ 约/ 为/ Adjust/ 的/ 2/ ~/ 3/ 倍/ ,/ 进一步/ 提升/ 了/ 算法/ 改进/ 的/ 时间/ 效率/ ./ 5/ 结语/ 利用/ 解决/ 0/ -/ 1/ 背包/ 问题/ 的/ 思路/ ,/ 借鉴/ 网页/ 排序/ 问题/ 的/ 经典/ PageRank/ 算法/ ,/ 本文/ 提出/ 一个/ 基于/ 迭代/ 排序/ 思想/ 的/ 高效/ 软硬件/ 划分算法/ NodeRank/ ./ 实验/ 结果/ 证明/ ,/ 在/ CCR/ =/ 1/ ,/ R/ =/ high/ 情况/ 下/ ,/ NodeR/ -/ ank/ 对边/ 点/ 比/ 大于/ 等于/ 2/ 的/ 任务/ 图/ 的/ 处理结果/ 与/ 目前/ 已知/ 效果/ 最好/ 的/ 禁忌/ 搜索/ 方法/ 的/ 平均/ 性能/ 差距/ 不/ 超过/ 1.2/ %/ ,/ 最大/ 差距/ 不/ 超过/ 3.4/ %/ ,/ 而/ 平均/ 时间/ 开销/ 可以/ 节约/ 95/ %/ 以上/ ./ 在/ CCR/ =/ 10/ ,/ R/ =/ high/ 情况/ 下/ ,/ NodeRank/ 与/ 禁忌/ 搜索/ 相比/ ,/ 最多/ 可/ 提升/ 性能/ 3.5/ %/ ,/ 节约/ 时间/ 超过/ 75/ %/ ./ 下/ 一步/ 将/ 对/ 边点/ 比约/ 为/ 11/ 的/ 任务/ (/ 对应/ 规模/ 序号/ 为/ 5/ 、/ 6/ 、/ 7/ 和/ 9/ 的/ 任务/ 实例/ )/ 进行/ 分析/ 与/ 优化/ 处理/ ./ 此外/ ,/ 还/ 将/ 研究/ 如何/ 利用/ NodeRank/ 得到/ 的/ 启发/ 解/ 和/ 结点/ Rank/ 值/ ,/ 结合/ 禁忌/ 搜索/ 等/ 智能/ 搜索算法/ ,/ 以期/ 得到/ 更好/ 的/ 解/ ./ 致谢/ 匿名/ 审稿人/ 对/ 本文/ 提出/ 了/ 宝贵/ 修改意见/ ,/ 在/ 此/ 表示感谢/ !/ 

