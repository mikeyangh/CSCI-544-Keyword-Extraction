Page1/ 一种/ 层次化/ 网络/ 距离/ 预测/ 机制/ 邢长友/ 陈鸣/ (/ 解放军理工大学/ 指挥/ 自动化/ 学院/ 南京/ 210007/ )/ 摘要/ 网络/ 坐标/ 系统/ 向/ 分布式应用/ 提供/ 了/ 一种/ 高效/ 的/ 网络/ 距离/ 信息/ 获取/ 机制/ ,/ 但/ 现有/ 基于/ 单一/ 度量/ 空间/ 嵌入/ 的/ 距离/ 预测/ 机制/ 难以/ 精确/ 描述/ 因特网/ 复杂/ 的/ 层次结构/ 特征/ ,/ 进而/ 导致/ 较大/ 的/ 距离/ 预测/ 误差/ ./ 文章/ 提出/ 了/ 一种/ 分域/ 的/ 层次化/ 网络/ 距离/ 预测/ 机制/ NetPharos/ ,/ 该/ 机制/ 根据/ 因特网/ 结构/ 以及/ 性能/ 特征/ 将/ 其/ 划分/ 为/ 相互/ 独立/ 的/ 核心/ 预测/ 域/ 和/ 边缘/ 预测/ 域/ ,/ 通过/ 相关/ 边缘/ 预测/ 域/ 和/ 核心/ 预测/ 域/ 内/ 预测值/ 迭加/ 获取/ 节点/ 间/ 距离/ 信息/ ./ 理论/ 分析/ 和/ 仿真/ 实验/ 显示/ ,/ NetPharos/ 能够/ 有效/ 解决/ 预测/ 过程/ 中/ 短距离/ 和/ 长距离/ 的/ 相互/ 干扰/ 问题/ ,/ 提高/ 预测/ 精度/ ./ 关键词/ 网络/ 坐标/ 系统/ ;/ 距离/ 预测/ ;/ 层次化/ 结构/ ;/ 预测/ 域/ ;/ 空间/ 嵌入/ 1/ 引言/ 因特网/ 服务/ 被/ 定义/ 为/ 尽力而为/ 的/ 分组/ 交付/ 服务/ ,/ 它/ 并/ 不/ 向/ 上层/ 应用/ 提供/ 不同/ 路径/ 的/ 性能/ 信息/ ./ 然/ Page2/ 多播/ 树/ [/ 2/ ]/ ;/ 基于/ CDN/ 的/ 流媒体/ 服务/ ,/ 可以/ 根据/ 网络/ 性能/ 状况/ 选择/ 最优/ 服务器/ 为/ 用户/ 提供/ 服务/ [/ 3/ ]/ ;/ 在/ Skype/ 等/ 需要/ 使用/ 中继/ 节点/ 桥接/ 位于/ NAT/ // 防火墙/ 后/ 主机/ 节点/ 的/ VoIP/ 系统/ 中/ ,/ 性能/ 信息/ 能够/ 帮助/ 选择/ 具有/ 最优性/ 能/ 的/ 节点/ 作为/ 桥接/ 节点/ ,/ 从而/ 为/ 用户/ 提供/ 最佳/ 通话质量/ [/ 4/ ]/ ./ 最后/ ,/ ISP/ 本身/ 也/ 可以/ 通过/ 性能/ 信息/ 分析/ 因特网/ 可达性/ 、/ 选路/ 不稳定性/ 以及/ 检测/ DDoS/ 攻击/ 等/ ./ 为了/ 获取/ 所/ 需/ 性能/ 信息/ ,/ 目前/ 不少/ 应用/ 都/ 设计/ 了/ 相应/ 的/ 测量/ 机制/ ./ 然而/ ,/ 这种/ 解决方案/ 会/ 造成/ 诸多/ 问题/ :/ 一方面/ 测量/ 需要/ 花费/ 一定/ 的/ 时间/ ,/ 导致系统/ 无法/ 及时/ 响应/ 用户/ 的/ 性能/ 信息/ 查询/ 请求/ ;/ 另一方面/ 如果/ 大量/ 用户/ 都/ 采用/ 该/ 方式/ 将会/ 严重/ 侵扰/ 网络/ ./ 在/ 各种/ 网络/ 性能指标/ 中/ ,/ 网络/ 距离/ (/ 往返/ 时延/ )/ 是/ 一个/ 非常/ 重要/ 而/ 又/ 相对/ 容易/ 获取/ 的/ 参数/ ,/ 因此/ ,/ 设计/ 一个/ 合适/ 模型/ 实现/ 对/ 网络/ 距离/ 的/ 有效/ 预测/ 具有/ 重要/ 的/ 现实意义/ ./ 根据/ 网络/ 坐标/ 系统/ 的/ 基本/ 理念/ ,/ 本文/ 中/ 我们/ 提出/ 了/ 一种/ 层次化/ 的/ 网络/ 距离/ 预测/ 机制/ NetPharos/ ,/ 从而/ 能够/ 基于/ 部分/ 距离/ 测量/ 信息/ ,/ 通过/ 坐标/ 空间/ 嵌入/ 机制/ 实现/ 网络/ 中/ 任意/ 两个/ 节点/ 之间/ 的/ 时延/ 预测/ ,/ 为/ 向/ 因特网/ 中/ 各种/ 应用/ 提供/ 网络/ 距离/ 信息/ 给出/ 了/ 一种/ 解决/ 思路/ ./ 本文/ 第/ 2/ 节/ 概述/ 网络/ 距离/ 预测/ 相关/ 研究/ 工作/ ;/ 然后/ 第/ 3/ 节/ 总结/ 网络/ 坐标/ 系统/ 的/ 基本概念/ ,/ 分析/ 因特网/ 的/ 层次结构/ ,/ 提出/ 并/ 详细描述/ 层次化/ 的/ 距离/ 预测/ 机制/ NetPharos/ ;/ 随后/ 第/ 4/ 节/ 基于/ 多个/ 性能指标/ 对/ NetPharos/ 进行/ 理论/ 和/ 仿真/ 分析/ ;/ 最后/ 第/ 5/ 节/ 总结/ 全文/ ./ 2/ 相关/ 研究/ 工作/ Ng/ 最先/ 提出/ 了/ 一种/ 通过/ 虚拟/ 坐标/ 嵌入/ 实现/ 网络/ 距离/ 预测/ 的/ 机制/ GNP/ (/ GlobalNetworkPositio/ -/ ning/ )/ [/ 5/ ]/ ./ 在/ 该/ 机制/ 中/ ,/ 将/ 因特网/ 建模/ 为/ 一个/ 欧氏/ 空间/ ,/ 根据/ 测量/ 得到/ 的/ 距离/ 关系/ 为/ 网络/ 中/ 每个/ 节点/ 分配/ 一个/ 坐标值/ ,/ 不同/ 节点/ 间/ 距离/ 基于/ 坐标值/ 采用/ 欧氏/ 空间/ 距离/ 公式/ 计算/ 得出/ ./ BBS/ (/ Big/ -/ BangSimula/ -/ tion/ )/ 将/ 网络/ 节点/ 建模/ 为/ 势能/ 作用/ 下/ 根据/ 牛顿/ 力学/ 在/ 欧氏/ 空间/ 中/ 运动/ 的/ 粒子/ ,/ 并且/ 其/ 势能/ 由/ 节点/ 间/ 全部/ 的/ 嵌入/ 误差/ 组成/ ,/ 算法/ 最终/ 在/ 总/ 嵌入/ 误差/ 降到/ 最低/ 时/ 终止/ ,/ BBS/ 克服/ 了/ GNP/ 算法/ 收敛/ 速度慢/ 等/ 问题/ [/ 6/ ]/ ./ PIC/ 允许/ 在/ 构建/ 节点/ 坐标值/ 的/ 过程/ 中/ 动态/ 选择/ 基准/ 节点/ ,/ 相对/ 于/ 使用/ 固定/ 基准/ 节点/ 的/ GNP/ 而言/ 扩展性/ 更好/ [/ 7/ ]/ ./ Vivaldi/ 通过/ 完全/ 分布式/ 的/ 结构/ 实现/ 坐标/ 嵌入/ ,/ 简化/ 了/ 网络/ 坐标/ 系统/ 的/ 部署/ [/ 8/ ]/ ./ Shavitt/ 等/ 研究/ 了/ 因特网/ 距离/ 空间/ 的/ 曲率/ 特征/ ,/ 提出/ 负/ 曲率/ 度量/ 空间/ 更/ 适合/ 描述/ 因特网/ 距离/ ,/ 并/ 据此/ 构造/ 了/ 一种/ 基于/ 双曲/ 空间/ 的/ 距离/ 预测/ 机制/ [/ 9/ ]/ ./ ICS/ (/ InternetCoordinateSystem/ )/ [/ 10/ ]/ 虽然/ 同样/ 是/ 基于/ 虚拟/ 坐标/ 的/ 距离/ 预测/ 机制/ ,/ 但是/ 它/ 使用/ Lipschitz/ 空间/ 嵌入/ ,/ 同时/ 使用/ 主/ 成分/ 分析法/ 提取/ 网络拓扑/ 信息/ ,/ 达到/ 降低/ 嵌入/ 空间/ 维数/ 的/ 目的/ ./ Zhang/ 等/ 人/ 提出/ 了/ 一种/ 分层/ 的/ 因特网/ 距离/ 预测/ 机制/ ,/ 每个/ 节点/ 维护/ 多个/ 坐标值/ ,/ 分别/ 用于/ 预测/ 不同/ 范围/ 的/ 距离/ [/ 11/ ]/ ./ 然而/ ,/ 该/ 模型/ 一方面/ 难以/ 对/ 距离/ 范围/ 进行/ 有效/ 划分/ ,/ 另一方面/ 在/ 描述/ 因特网/ 实际/ 结构/ 时/ 仍/ 显得/ 较为/ 粗糙/ ./ 3/ 层次化/ 网络/ 距离/ 预测/ 机制/ 3.1/ 网络/ 坐标/ 系统/ 基本概念/ 度量/ 空间/ 嵌入/ (/ metricspaceembedding/ )/ 是/ 数学/ 中/ 的/ 一个/ 重要/ 研究/ 内容/ ,/ 它/ 主要/ 关注/ 于/ 在/ 较/ 低/ 扭曲/ 度下/ 实现/ 高维/ 、/ 复杂/ 度量/ 空间/ 到/ 低维/ 度量/ 空间/ 的/ 嵌入/ ./ 网络/ 坐标/ 系统/ (/ networkcoordinatesystem/ )/ 借鉴/ 了/ 度量/ 空间/ 嵌入/ 的/ 基本/ 思想/ ,/ 通过/ 坐标/ 空间/ 嵌入/ 方式/ 将/ 网络/ 距离/ 空间/ 映射/ 到/ 一个/ 几何/ 空间/ 中/ ,/ 每个/ 网络/ 节点/ 在/ 该/ 几何/ 空间/ 中/ 分配/ 一个/ 坐标值/ ,/ 节点/ 间/ 距离/ 可以/ 根据/ 其/ 坐标值/ 通过/ 距离/ 公式/ 计算/ 得出/ ./ 对于/ 一个/ 具有/ N/ 个/ 节点/ H/ =/ {/ H1/ ,/ H2/ ,/ H3/ ,/ …/ ,/ HN/ }/ 的/ 网络/ ,/ 令/ Dij/ 代表/ 节点/ Hi/ 到/ 节点/ Hj/ 的/ 距离/ ,/ 并/ 约定/ 节点/ 到/ 自身/ 的/ 距离/ 为/ 0/ ,/ 则/ Hi/ 到/ 网络/ 中/ 所有/ 节点/ 的/ 距离/ 组成/ 一个/ N/ 维/ 距离/ 向量/ (/ Di1/ ,/ Di2/ ,/ …/ ,/ DiN/ )/ ./ 因此/ ,/ 所有/ 节点/ 间/ 的/ 距离/ 就/ 构成/ 一个/ N/ ×/ N/ 的/ 非负/ 距离/ 矩阵/ 犇/ 网络/ 坐标/ 系统/ 就是/ 设计/ 一个/ M/ 维/ 的/ 虚拟/ 坐标/ 空间/ ,/ 从而/ 能够/ 将/ 上述/ 距离/ 矩阵/ 中/ 每/ 一行/ N/ 维/ 距离/ 向量/ 均/ 嵌入/ 到/ M/ 维空间/ 中/ ,/ 同时/ 使得/ 嵌入/ 后/ 根据/ 坐标值/ 计算/ 得出/ 的/ 距离/ 与/ 实际/ 测量/ 得到/ 的/ 距离/ 误差值/ 最小/ ./ 即/ 构造/ 一个/ 网络/ 节点/ 到/ M/ 维/ 向量/ 的/ 映射/ f/ :/ H/ →/ RM/ ,/ 为/ 网络/ 中/ 每个/ 节点/ 分配/ 一个/ 虚拟/ 坐标值/ ./ 这样/ ,/ 任意/ 两个/ 网络/ 节点/ Hi/ 与/ Hj/ 之间/ 距离/ 则/ 表示/ 为/ 从/ M/ 维/ 向量/ 到/ 非负/ 实数/ 的/ 映射/ g/ :/ RM/ →/ R/ ./ Dij/ ≈/ ^/ Dij/ =/ ‖/ f/ (/ Hi/ )/ -/ f/ (/ Hj/ )/ ‖/ ,/ / i/ ,/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ NPage3/ 是/ 一个/ M/ 维/ 的/ 向量/ ,/ 代表/ 节点/ Hi/ 经过/ 映射/ 后/ 在/ 嵌入/ 空间/ 内/ 的/ 虚拟/ 坐标/ ./ 例如/ ,/ 在/ 欧氏/ 空间/ 中/ ,/ 我们/ 有/ 距离/ 预测值/ ^/ Dij/ =/ ‖/ f/ (/ Hi/ )/ -/ f/ (/ Hj/ )/ ‖/ =/ ∑/ M/ 图/ 1/ 描述/ 了/ 将/ 一个/ 网络/ 嵌入/ 到/ 三维/ 欧氏/ 空间/ 的/ 示意/ ,/ 每个/ 节点/ 维护/ 自己/ 在/ 嵌入/ 空间/ 内/ 的/ 坐标/ ./ 根据/ 节点/ 坐标/ 可以/ 计算/ 得出/ 网络/ 中/ 任意/ 两个/ 节点/ 间/ 距离/ ,/ 避免/ 了/ 直接/ 测量/ 对/ 网络/ 的/ 侵扰/ ,/ 同时/ 相对/ 于/ 原来/ 通过/ N/ ×/ N/ 矩阵/ 描述/ 节点/ 间/ 距离/ ,/ 网络/ 坐标/ 系统/ 也/ 简化/ 了/ 距离/ 描述/ 方式/ ./ 3.2/ 因特网/ 层次结构/ 总体/ 上/ 说/ ,/ 因特网/ 层次结构/ 可以/ 分为/ 国际/ 连接/ 、/ 国家/ 主干/ 、/ 区域/ 网络/ 和/ 本地网/ ./ 区域/ 网内/ 的/ 节点/ 彼此/ 密切/ 连接/ ,/ 使得/ 网络/ 内部/ 具有/ 很/ 高/ 的/ 聚合/ 系数/ ,/ 而/ 这些/ 高度/ 聚合/ 的/ 区域/ 网域/ 由/ 国际/ 主干/ 和/ 国家/ 主干/ 相互/ 联系/ 起来/ [/ 12/ ]/ ./ 这样/ ,/ 核心/ 网络/ 是/ 由/ 一些/ 大型/ 路由器/ 通过/ 高速/ 链路/ 连接/ 所/ 组成/ 的/ 网状结构/ ,/ 而/ 边缘/ 网络/ 则/ 由/ 具有/ 高/ 连通/ 度/ 、/ 类似/ 树型/ 结构/ 的/ 区域/ 网络/ (/ 称之为/ 接入网/ )/ 组成/ ,/ 边缘/ 网络/ 通过/ 较/ 低/ 速率/ 的/ 链路/ 接入/ 核心/ 网络/ ./ 在/ 因特网/ 中/ ,/ 位于/ 网络/ 边缘/ 的/ 接入/ 网络/ 通过/ 分层/ 的/ ISP/ (/ 因特网/ 服务提供商/ )/ 等级/ 结构/ 与/ 因特网/ 其它/ 部分/ 相连/ ./ 如图/ 2/ 所示/ ,/ 在/ 该/ 等级/ 结构/ 的/ 最/ 顶层/ 是/ 数量/ 相对/ 较少/ 的/ 第一层/ ISP/ ,/ 其/ 链路/ 速率/ 经常/ 是/ 10Gbps/ 或/ 更/ 高/ ,/ 并且/ 通常/ 覆盖/ 国际/ 区域/ ./ 第/ 2/ 层/ ISP/ 通常/ 具有/ 区域性/ 或/ 国家/ 性/ 覆盖/ 规模/ ,/ 并且/ 仅/ 与/ 少数/ 第/ 1/ 层/ ISP/ 相连接/ ,/ 它们/ 的/ 主要/ 功能/ 就是/ 引导/ 流量/ 通过/ 它/ 所/ 连接/ 的/ 第/ 1/ 层/ ISP/ ,/ 同时/ 不同/ 第/ 2/ 层/ ISP/ 之间/ 也/ 会/ 具有/ 一些/ 对/ 等/ 连接/ ./ 在/ 第/ 2/ 层/ ISP/ 之下/ 是/ 较/ 低层/ 的/ ISP/ ,/ 这些/ ISP/ 经过/ 一个/ 或/ 多个/ 第/ 2/ 层/ ISP/ 与/ 更/ 大/ 的/ 因特网/ 相连/ ./ 在/ 该/ 等级/ 结构/ 的/ 底部/ 是/ 接入/ ISP/ ,/ 它们/ 通过/ 住宅/ 接入/ 、/ 公司/ 接入/ 和/ 无线/ 接入/ 等/ 方式/ 与/ 本地网/ 相连/ ./ 可见/ ,/ 因特网/ 具有/ 典型/ 的/ 层次化/ 结构/ ,/ 并且/ 各层次/ 的/ 性能/ 具有/ 不/ 均匀/ 特性/ ./ 3.3/ 层次化/ 网络/ 距离/ 预测/ 机制/ NetPharos/ 因特网/ 的/ 层次化/ 结构/ 导致/ 网络/ 性能/ 分/ 区域/ 的/ 不/ 均匀/ ,/ 进而/ 影响/ 其时/ 延/ 分布模式/ ./ 在/ 核心/ 网络/ 中/ ,/ 高速/ 路由器/ 通过/ 专用/ 高速/ 链路/ 相连/ ,/ 所以/ 网络/ 时延/ 状况/ 相对/ 稳定/ ;/ 而/ 在/ 边缘/ 网络/ ,/ 由于/ 节点/ 数量/ 很多/ ,/ 网络带宽/ 往往/ 受限/ ,/ 因此/ 网络/ 时延/ 变化/ 范围/ 较大/ 、/ 变化/ 速率/ 较快/ ./ 例如/ ,/ 目前/ 广泛/ 使用/ 的/ DSL/ 以及/ Cable/ 因特网/ 接入/ 方式/ 性能/ 特征/ 与/ 核心/ 网络/ 性能/ 特征/ 有/ 很大/ 区别/ ,/ 其中/ 由于/ 排队/ 等/ 因素/ 使得/ 网络/ 节点/ 间/ 时延/ 变化/ 范围/ 具有/ 近/ 4/ 个/ 数量级/ 的/ 差别/ [/ 13/ ]/ ./ 并且/ 这种/ 层次化/ 网络结构/ 也/ 导致/ 因特网/ 选路/ 的/ 层次性/ ,/ 例如/ ,/ 当前/ 存在/ 不同/ 的/ 域间/ 以及/ 域/ 内/ 选路/ 协议/ ,/ 使得/ 因特网/ 端到/ 端/ 路径/ 并非/ 时延/ 意义/ 上/ 的/ 最优/ 路径/ ,/ 因此/ 节点/ 间/ 距离/ 会/ 违反/ 三角形/ 不等式/ 的/ 约束/ [/ 14/ ]/ ,/ 导致/ 无法/ 通过/ 任何/ 一种/ 度量/ 空间/ 对/ 其/ 进行/ 精确/ 描述/ ./ 现有/ 的/ 网络/ 距离/ 预测/ 机制/ 都/ 试图/ 通过/ 诸如/ 欧氏/ 空间/ 这/ 类/ 单一/ 度量/ 空间/ 刻画/ 层次化/ 的/ 网络结构/ ,/ 导致/ 在/ 坐标/ 空间/ 嵌入/ 过程/ 中/ 损失/ 了/ 很多/ 状态/ 信息/ ,/ 造成/ 较大/ 的/ 距离/ 预测/ 误差/ ./ 另一方面/ ,/ 许多/ 单一/ 空间/ 的/ 距离/ 预测/ 机制/ 都/ 需要/ 使用/ 全网/ 统一/ 的/ 基准/ 节点/ ,/ 又/ 影响/ 了/ 算法/ 的/ 扩展性/ ,/ 而且/ 跨域/ 的/ 性能/ 测量/ 对/ 网络/ 造成/ 的/ 侵扰/ 也/ 较大/ ./ 为此/ ,/ 我们/ 设计/ 实现/ 一种/ 分域/ 的/ 层次化/ 网络/ 距离/ 预测/ 机制/ NetPharos/ ,/ 根据/ 结构/ 以及/ 性能/ 特征/ 将/ 因特网/ 划分/ 为/ 多个/ 相互/ 独立/ 的/ 预测/ Page4/ 域/ ,/ 不同/ 预测/ 域/ 在/ 进行/ 坐标/ 空间/ 嵌入/ 过程/ 中/ 不/ 存在/ 干扰/ ./ 通过/ 这样/ 一种/ 结构/ ,/ 既/ 能够/ 更加/ 精确/ 地/ 描述/ 因特网/ 结构特征/ ,/ 又/ 消除/ 了/ 不同/ ISP/ 所属/ 预测/ 域/ 之间/ 的/ 影响/ ,/ 有效/ 解决/ 网络/ 坐标/ 系统/ 在/ 大规模/ 网络/ 中/ 的/ 部署/ 问题/ ./ 3.3/ ./ 1NetPharos/ 定义/ 在/ NetPharos/ 中/ ,/ 根据/ 因特网/ 的/ 结构/ 以及/ 性能/ 特征/ ,/ 将/ 整个/ 因特网/ 划分/ 为/ 边缘/ 网络/ 与/ 核心/ 网络/ 两/ 部分/ ,/ 核心/ 网络/ 作为/ 一个/ 整体/ 构建/ 坐标/ 嵌入/ 空间/ ,/ 边缘/ 网络/ 按照/ 网络/ 距离/ 、/ 所属/ 关系/ 等/ 限制/ 分/ 区域/ 构建/ 独立/ 的/ 坐标/ 空间/ ,/ 不同/ 空间/ 内/ 网络/ 节点/ 坐标值/ 之间/ 相互/ 独立/ ./ 同时/ ,/ 可以/ 根据/ 网络/ 距离/ 特征/ ,/ 独立/ 地为/ 每个/ 预测/ 域/ 选择/ 最佳/ 嵌入/ 空间/ 以及/ 预测/ 结果/ 更新/ 频率/ 等/ ./ 例如/ ,/ 由于/ 核心/ 网络/ 距离/ 相对/ 稳定/ ,/ 同时/ 节点/ 距离/ 违反/ 三角形/ 不等式/ 等/ 情况/ 很少/ 见/ ,/ 因此/ 欧氏/ 空间/ 就/ 能够/ 很/ 好/ 地/ 实现/ 嵌入/ ./ 而/ 考虑/ 到/ 边缘/ 网络/ 通常/ 具有/ 的/ 类树型/ 拓扑/ ,/ 树型/ 空间/ 可能/ 更加/ 适合/ 边缘/ 网络/ 等/ ./ 在/ 距离/ 预测/ 过程/ 中/ ,/ 通过/ “/ 边缘/ -/ 核心/ -/ 边缘/ ”/ 度量/ 空间/ 内/ 距离/ 迭加/ 获得/ 网络/ 节点/ 间/ 距离/ ./ 为了/ 对/ 该/ 算法/ 进行/ 描述/ ,/ 我们/ 首先/ 给出/ 如下/ 一些/ 基本/ 定义/ ./ 定义/ 1/ ./ 预测/ 域/ Region/ 指/ 一个/ 或/ 多个/ AS/ 所/ 覆盖/ 的/ 并/ 能/ 进行/ 虚拟/ 坐标/ 空间/ 嵌入/ 的/ 区域/ ,/ 该/ 区域/ 能/ 独立/ 地/ 嵌入/ 到/ 一个/ 自定义/ 的/ 虚拟/ 坐标/ 空间/ 中/ ./ 定义/ 2/ ./ 核心/ 预测/ 域/ Core/ 指第/ 1/ 层/ 和/ 第/ 2/ 层/ ISP/ 的/ AS/ 所/ 组成/ 的/ 预测/ 域/ ,/ 该域/ 通常/ 位于/ 网络/ 的/ 核心/ ./ 在/ NetPharos/ 中/ ,/ 核心/ 预测/ 域/ 只有/ 1/ 个/ ./ 定义/ 3/ ./ 边缘/ 预测/ 域/ Edge/ 指第/ 3/ 层/ 和/ 接入/ ISP/ 的/ AS/ 所/ 组成/ 的/ 预测/ 域/ ,/ 该域/ 通常/ 位于/ 网络/ 的/ 边缘/ ./ 不同/ 边缘/ 预测/ 域/ 之间/ 没有/ 交集/ ,/ 每个/ 边缘/ 预测/ 域/ 与/ 核心/ 预测/ 域/ 之间/ 根据/ 接入/ 关系/ 有/ 一个/ 或/ 多个/ 相交/ 节点/ ./ 定义/ 4/ ./ 双栈/ 节点/ ./ 边缘/ 预测/ 域/ 与/ 核心/ 预测/ 域/ 的/ 相交/ 节点/ ,/ 它们/ 同时/ 参与/ 两个/ 预测/ 域/ 的/ 坐标/ 空间/ 嵌入/ 、/ 具有/ 两个/ 坐标/ 空间/ 的/ 坐标值/ ./ NetPharos/ =/ {/ Region/ ,/ RS/ }/ ;/ Region/ =/ {/ Core/ ,/ Edgei/ |/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ m/ }/ ;/ Edge/ =/ ∪/ mDual/ =/ {/ Hi/ |/ Hi/ ∈/ Edge/ ∧/ Hi/ ∈/ Core/ ,/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ n/ }/ ;/ NE/ =/ {/ Hi/ |/ Hi/ ∈/ Edge/ ∧/ Hi/ / Dual/ ,/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ n/ }/ ;/ SRS/ =/ {/ 〈/ Hi/ ,/ Hj/ 〉/ |/ / Hi/ ∈/ Edgek/ ,/ / Hj/ ∈/ Edgek/ }/ ;/ MRS/ =/ {/ 〈/ Hi/ ,/ Hj/ 〉/ |/ / Hi/ ∈/ Edgek/ ,/ / Hj/ ∈/ Edges/ ,/ k/ ≠/ s/ }/ ;/ NDRS/ =/ {/ 〈/ Ni/ ,/ Nj/ 〉/ |/ / Ni/ ∈/ NE/ ,/ / Nj/ ∈/ Dual/ }/ ;/ 定义/ 5/ ./ NetPharos/ 中/ 逻辑/ 约束/ 关系/ :/ DNRS/ =/ {/ 〈/ Hi/ ,/ Hj/ 〉/ |/ / Hi/ ∈/ Dual/ ,/ / Hj/ ∈/ NE/ }/ ;/ RS/ =/ SRS/ ∪/ MRS/ ./ 其中/ ,/ Hi/ 表示/ 系统/ 中/ 第/ i/ 个/ 节点/ ;/ Edgei/ 代表/ 网络/ 中/ 第/ i/ 个/ 边缘/ 预测/ 域/ ;/ Dual/ 代表/ 双栈/ 节点/ 集合/ ;/ NE/ 代表/ 边缘/ 预测/ 域/ 中/ 普通/ 非双栈/ 节点/ 集合/ ;/ RS/ 是/ 节点/ 间/ 关系/ 集合/ ,/ SRS/ 是/ 同一个/ 预测/ 域/ 内/ 节点/ 间/ 关系/ 集合/ ,/ MRS/ 是/ 不同/ 预测/ 域/ 内/ 节点/ 间/ 关系/ 集合/ ;/ NDRS/ 和/ DNRS/ 是/ 普通/ 节点/ 与/ 双栈/ 节点/ 之间/ 的/ 关系/ 集合/ ./ 定义/ 6/ ./ 节点/ 逻辑/ 约束/ 关系/ :/ SESj/ =/ ranNDRSj/ (/ NDRSj/ / NDRS/ ,/ SDSj/ =/ ranDNRSj/ (/ DNRSj/ / DNRS/ ,/ SESj/ 是/ 普通/ 节点/ Hj/ 的/ 双栈/ 节点/ 集合/ ./ SDSj/ 是/ 双栈/ 节点/ Dj/ 所/ 覆盖/ 的/ 普通/ 节点/ 集合/ ./ NetPharos/ 的/ 工作/ 原理/ 可/ 参见/ 图/ 3/ 中/ 一个/ 简单/ 的/ 网络结构/ 示例/ ./ 其中/ 按照/ 拓扑/ 连接/ 关系/ 可/ 将/ 其/ 划分/ 为/ 5/ 个/ 预测/ 域/ ,/ 中间/ 一个/ 独立/ 网络结构/ 以及/ 周边/ 双栈/ 节点/ 被/ 定义/ 为/ 核心/ 预测/ 域/ ,/ 每个/ 边缘/ 网络/ 以及/ 该/ 网络/ 相关/ 的/ 双栈/ 节点/ 组成/ 一个/ 独立/ 的/ 边缘/ 预测/ 域/ ./ 每个/ 边缘/ 预测/ 域/ 与/ 核心/ 预测/ 域/ 之间/ 存在/ 一个/ 或/ 多个/ 双栈/ 节点/ ./ 各个/ 预测/ 域/ 在/ 经过/ 坐标/ 嵌入/ 确定/ 域/ 内/ 所有/ 节点/ 坐标值/ 后/ ,/ 在/ 进行/ 距离/ 预测/ 时/ ,/ 同一个/ 预测/ 域/ 内/ 的/ 节点/ 间/ 距离/ 直接/ 根据/ 节点/ 坐标值/ 计算/ 得出/ ,/ 不同/ 预测/ 域/ 内/ 节点/ 间/ 的/ 距离/ 通过/ 两个/ 节点/ 到/ 各自/ 双栈/ 节点/ 间/ 的/ 距离/ 以及/ 双栈/ 节点/ 之间/ 的/ 距离/ 迭加/ 获得/ ./ if/ (/ SESi/ ∩/ SESj/ =/ =/ NULL/ )/ D/ (/ Hi/ ,/ Hj/ )/ =/ D/ (/ Hi/ ,/ SESi/ )/ +/ D/ (/ SESi/ ,/ SESj/ )/ +/ elsecomputedistancedirectlyusingnodecoordinate/ ;/ 实际/ 部署/ 时/ ,/ 如果/ 某个/ 边缘/ 网络/ 的/ 双栈/ 节点/ 不止/ 一个/ ,/ 即/ 对/ 节点/ Hj/ 而言/ ,/ 若/ |/ SESj/ |/ >/ 1/ ,/ 那么/ 在/ 距离/ 迭加/ 过程/ 中/ 必须/ 为端/ 节点/ 选择/ 最佳/ 双栈/ 节点/ ./ 例/ Page5/ 如/ ,/ 在/ 图/ 4/ 中/ |/ SESa/ |/ =/ |/ SESb/ |/ =/ 3/ ,/ |/ SESc/ |/ =/ |/ SESd/ |/ =/ 2/ ,/ 并且/ 节点/ a0/ 在/ 与/ 节点/ c0/ 和/ 节点/ d0/ 通信/ 时/ 分别/ 使用/ 了/ 双栈/ 节点/ a3/ 和/ a5/ ,/ 故而/ 不能/ 采用/ 一个双/ 栈/ 节点/ 代表/ 所有/ 情况/ ,/ 能否/ 正确/ 选择/ 双栈/ 节点/ 直接/ 影响/ 迭加/ 后/ 距离/ 预测/ 的/ 精度/ ./ 对此/ 可以/ 采用/ 两种/ 处理/ 策略/ :/ (/ 1/ )/ 对/ 所有/ 可能/ 结果/ 进行/ 计算/ ,/ 并/ 选择/ 其中/ 最小值/ 作为/ 节点/ 间/ 距离/ 预测值/ ./ 这一/ 策略/ 的/ 优点/ 是/ 计算/ 比较简单/ ,/ 但/ 由于/ 因特网/ 选路/ 过程/ 中/ 并非/ 采用/ 最/ 短距离/ 作为/ 唯一标准/ ,/ 因此/ 会/ 导致/ 一定/ 的/ 预测/ 误差/ ./ (/ 2/ )/ 利用/ SourceSinkTree/ 选择/ 最佳/ 双栈/ 节点/ [/ 15/ ]/ ./ SourceSinkTree/ 是/ Hu/ 等/ 人/ 提出/ 的/ 一种/ 网络/ 抽象/ 结构/ ,/ 其/ 基本/ 思想/ 是/ 在/ 网络/ 中/ 部署/ 一些/ 用于/ 测量/ 的/ 基准/ 节点/ ,/ 每个/ 普通/ 节点/ 通过/ 向/ 基准/ 节点/ 发起/ traceroute/ 测量/ 获得/ 自己/ 的/ AS/ 树/ ./ 不同/ 节点/ 之间/ 通过/ 判断/ 规则/ 基于/ AS/ 树/ 获得/ 共有/ AS/ ,/ 从而/ 确定/ 通信/ 过程/ 中/ 使用/ 的/ 双栈/ 节点/ ./ SourceSinkTree/ 能够/ 保证/ 选择/ 的/ 双栈/ 节点/ 更/ 符合/ 因特网/ 实际/ 选路/ 中/ 由/ 边缘/ 网络/ 到/ 核心/ 网络/ 的/ 接入/ 节点/ ,/ 因此/ 预测/ 结果/ 优于/ 简单/ 选择/ 距离/ 最近/ 节点/ 作为/ 双栈/ 节点/ ,/ 但/ 其/ 需要/ 额外/ 耗费/ 进行/ 基准/ 节点/ 部署/ 以及/ 路由/ 信息/ 测量/ ./ 然而/ ,/ 由于/ 因特网/ 路由/ 的/ 相对/ 稳定性/ ,/ 节点/ 进行/ 上述/ 测量/ 的/ 频率/ 可以/ 设置/ 为/ 很/ 低/ ,/ 因此/ 利用/ 该/ 机制/ 进行/ 双栈/ 节点/ 选择/ 仍/ 具有/ 很/ 高/ 的/ 应用/ 价值/ ./ 3.3/ ./ 2NetPharos/ 算法/ 描述/ 测算/ 法/ NetPharos/ 如下/ ./ 根据/ 前述/ 讨论/ ,/ 我们/ 给出/ 层次化/ 的/ 网络/ 距离/ 预/ 1/ ./ 初始化/ :/ a/ )/ 根据/ 网络拓扑/ 结构/ ,/ 划分/ 核心/ 预测/ 域/ Core/ 、/ 边缘/ 预测/ 域/ Edge/ ./ Dual/ ./ b/ )/ 边缘/ 网络/ 在/ 其/ 到/ 核心/ 网络/ 的/ 入口处/ 部署/ 双栈/ 节点/ c/ )/ 在/ 每/ 一个/ 预测/ 域/ 中/ 随机/ 选择/ 部分/ 节点/ 作为/ 基准/ 节点/ ./ 2/ ./ 计算/ 虚拟/ 坐标/ :/ a/ )/ 每个/ 预测/ 域/ 内/ 的/ 基准/ 节点/ 互相/ 测量/ 到达/ 彼此/ 的/ 距离/ d/ ,/ 构造/ 在/ 虚拟/ 坐标/ 空间/ 中/ 的/ 坐标值/ (/ x/ ,/ y/ ,/ …/ ,/ u/ )/ ,/ 通过/ 最小化/ 距离/ 测量/ 值/ 与/ 预测值/ 之间/ 的/ 误差/ 确定/ x/ ,/ y/ ,/ …/ ,/ u/ 的/ 值/ ./ b/ )/ 预测/ 域/ 中/ 用户/ 节点/ 测量/ 自己/ 到/ 本/ 预测/ 域/ 内/ 基准/ 节点/ 的/ 距离/ ,/ 然后/ 采用/ 类似/ 机制/ 确定/ 节点/ 坐标值/ ./ 双栈/ 节点/ 由于/ 同时/ 位于/ 两个/ 预测/ 域/ 中/ ,/ 因此/ 具有/ 两个/ 坐标值/ ./ c/ )/ 用户/ 节点/ Hj/ 在/ 本地/ 记录/ 其双栈/ 节点/ SESj/ 的/ 坐标值/ ,/ 如果/ 双栈/ 节点/ 坐标/ 发生/ 改变/ ,/ 则/ 通知/ 本域/ 内/ 所有/ 节点/ 进行/ 更新/ ./ 对/ 一种/ 特定/ 网络/ 坐标/ 系统/ ,/ 我们/ 可以/ 从/ 下述/ 典/ 3/ ./ 距离/ 预测/ :/ 节点/ 间/ 关系/ 分为/ SRS/ 和/ MRS/ 两类/ ,/ 对于/ SRS/ ,/ 距离/ 直接/ 根据/ 节点/ 坐标值/ 计算/ 得出/ ,/ 否则/ 通过/ 两个/ 节点/ 到/ 各自/ 双栈/ 节点/ 间/ 的/ 距离/ 以及/ 双栈/ 节点/ 之间/ 的/ 距离/ 迭加/ 构造/ ./ 具体/ 的/ 迭加/ 策略/ 在/ 前面/ 已经/ 进行/ 了/ 详细/ 讨论/ ./ 4NetPharos/ 预测/ 精度/ 分析/ 4.1/ 理论/ 分析/ 型/ 指标/ 对/ 其/ 距离/ 预测/ 性能/ 进行/ 评价/ ./ 相对误差/ :/ 它/ 描述/ 了/ 距离/ 预测值/ 与/ 实际/ 测量/ 值/ 之间/ 的/ 相对/ 差异/ 情况/ ,/ 是/ 评价/ 一种/ 预测/ 机制/ 优劣/ 的/ 最/ 基本/ 指标/ ./ 相对误差/ 包括/ 单向/ 相对误差/ URE/ (/ UnidirectionalRelativeError/ )/ 和/ 双向/ 相对误差/ BRE/ (/ BidirectionalRelativeError/ )/ 两种/ ,/ 其/ 定义/ 分别/ 如式/ (/ 5/ )/ 和/ 式/ (/ 6/ )/ 所示/ ./ URE/ 越小/ 代表/ 预测/ 误差/ 越小/ ,/ 而/ BRE/ >/ 0/ 表明/ 预测值/ 偏高/ ,/ 否则/ 表明/ 预测值/ 偏低/ ./ 最近/ 节点/ 误判/ 误差/ CNLS/ (/ ClosestNodeLossSig/ -/ nificance/ )/ ./ 进行/ 距离/ 预测/ 的/ 一个/ 重要/ 目标/ 就是/ 帮助/ 网络应用/ 寻找/ 满足/ 某一/ 条件/ 的/ 距离/ 最近/ 节点/ ,/ 因此/ ,/ 对/ 任意/ 一个/ 节点/ Hi/ 而言/ ,/ 我们/ 希望/ 基于/ 距离/ 预测/ 结果/ 选择/ 得到/ 的/ 最近/ 节点/ 与/ 实际/ 网络/ 中/ 的/ 最近/ 节点/ 为/ 同一/ 节点/ ,/ 或者/ 至少/ 两者/ 到/ Hi/ 的/ 距离/ 要/ 尽可能/ 接近/ ./ 最近/ 节点/ 误判/ 误差/ 即/ 是/ 对/ 这/ 一/ 要求/ 进行/ 评价/ 的/ 指标/ ,/ 针对/ 网络/ 中/ 任意/ 一个/ 节点/ Hi/ ,/ 其/ 最近/ 节点/ 误判/ 误差/ 定义/ 为/ [/ 16/ ]/ CNLS/ (/ Hi/ )/ =/ D/ (/ Hi/ ,/ Hj/ )/ -/ D/ (/ Hi/ ,/ Hk/ )/ 其中/ Hj/ 是/ 实际/ 网络/ 中/ 与/ Hi/ 最近/ 的/ 节点/ ,/ Hk/ 是/ 预测/ 算法/ 得到/ 的/ 到/ Hi/ 的/ 最近/ 节点/ ./ D/ (/ Hi/ ,/ Hj/ )/ ,/ D/ (/ Hi/ ,/ Hk/ )/ 分别/ 代表/ 相应/ 节点/ 间/ 的/ 测量/ 距离/ ./ Page6/ 距离/ 预测/ 的/ 相对误差/ ./ 定理/ ./ 不同/ 预测/ 域/ 距离/ 信息/ 的/ 迭加/ 不会/ 增加/ 证明/ ./ 对于/ 任意/ 两个/ 预测/ 域/ 中/ 两个/ 节点/ HA/ 和/ HB/ ,/ 其/ 对应/ 双栈/ 节点/ 分别/ 为/ DA/ 和/ DB/ ,/ 设/ D/ (/ Hi/ ,/ Hj/ )/ 代表/ 节点/ Hi/ 和/ Hj/ 之间/ 的/ 距离/ 测量/ 值/ ,/ ^/ D/ (/ Hi/ ,/ Hj/ )/ 代表/ 节点/ Hi/ 和/ Hj/ 之间/ 的/ 距离/ 预测值/ ,/ 根据/ 关系式/ / a/ ,/ b/ ,/ c/ ,/ da/ ,/ b/ ,/ c/ ,/ d/ >/ 0/ →/ c/ +/ d/ 可知/ 同理/ ,/ 因此/ ,/ 由式/ (/ 8/ )/ 和/ (/ 9/ )/ 可/ 得/ ^/ D/ (/ HA/ ,/ DA/ )/ +/ ^/ D/ (/ DA/ ,/ DB/ )/ +/ ^/ D/ (/ HA/ ,/ DA/ )/ D/ (/ HA/ ,/ DA/ )/ +/ D/ (/ DA/ ,/ DB/ )/ +/ D/ (/ HB/ ,/ DB/ )/ / max/ ^/ D/ (/ HA/ ,/ DA/ )/ 也就是说/ ,/ 在/ NetPharos/ 中/ ,/ 不同/ 预测/ 域/ 内/ 预测/ 结果/ 迭加/ 后/ 的/ 预测/ 精度/ 不会/ 低于/ 单域/ 最差/ 预测/ 精度/ ,/ 而/ 通过/ 划分/ 预测/ 域/ ,/ 一定/ 程度/ 上/ 避免/ 了/ 长距离/ 和/ 短距离/ 的/ 相互/ 干扰/ ,/ 提高/ 了/ 单域/ 内/ 预测/ 精度/ ,/ 从而/ 实现/ 最终/ 距离/ 预测/ 精度/ 的/ 提高/ ./ 4.2/ 仿真/ 分析/ 为了/ 对比/ 分析/ NetPharos/ 与/ 单域/ 预测/ 机制/ GNP/ 之间/ 的/ 预测/ 精度/ ,/ 我们/ 使用/ BRITE/ [/ 17/ ]/ 以/ Wax/ -/ 图/ 5/ 不同/ 距离/ 范围/ 预测/ 相对误差/ 累积/ 分布图/ man/ 随机/ 拓扑/ 生成/ 算法/ 生成/ 一个/ 两/ 层次/ 网络拓扑/ ,/ 其中/ 核心/ 网络/ 具有/ 50/ 个/ 节点/ ,/ 节点/ 间/ 链路/ 带宽/ 10Gbps/ ;/ 50/ 个/ 边缘/ 网络/ 中/ 每个/ 具有/ 100/ 个/ 节点/ ,/ 链路/ 带宽/ 100Mbps/ ;/ 边缘/ 网络/ 到/ 核心/ 网络/ 的/ 接入/ 带宽/ 设置/ 为/ 10Mbps/ ./ 由于/ 我们/ 的/ 研究/ 目标/ 是/ 对比/ Net/ -/ Pharos/ 与/ GNP/ 针对/ 静态/ 时延/ 的/ 预测/ 精度/ ,/ 因此/ 采用/ 随机/ 分布/ 方式/ 为/ 不同/ 链路/ 分配/ 时延/ 值/ [/ 7/ ,/ 9/ ]/ ./ 定义/ 核心/ 网络/ 每条/ 链路/ 时延/ 在/ 0.5/ ms/ 到/ 2.5/ ms/ 之间/ 均匀分布/ ,/ 边缘/ 网络/ 每条/ 链路/ 时延/ 在/ 2.5/ ms/ 到/ 6.5/ ms/ 之间/ 均匀分布/ ,/ 边缘/ 网络/ 到/ 核心/ 网络/ 的/ 接入/ 链路/ 时延/ 在/ 20ms/ 到/ 30ms/ 之间/ 均匀分布/ ./ 以该/ 网络拓扑/ 为/ 基础/ 获取/ 全部/ 节点/ 间/ 的/ 距离/ 矩阵/ ,/ 分别/ 采用/ Net/ -/ Pharos/ 和/ GNP/ 机制/ 对/ 其/ 进行/ 距离/ 预测/ ./ 预测/ 过程/ 中/ 每次/ 构造/ 坐标/ 系统/ 均/ 随机/ 选择/ 10/ 个/ 节点/ 作为/ 基准/ 节点/ ,/ 同时/ 所有/ 预测/ 域/ 均/ 采用/ 5/ 维/ 欧氏/ 空间/ 作为/ 嵌入/ 空间/ ./ 基于/ 距离/ 预测/ 结果/ ,/ 通过/ 式/ (/ 5/ )/ 计算/ 两种/ 距离/ 预测/ 机制/ 的/ 单向/ 相对误差/ ,/ 图/ 5/ 分别/ 描述/ 了/ GNP/ 和/ NetPharos/ 针对/ 不同/ 距离/ 范围/ 的/ 距离/ 预测/ 单向/ 相对误差/ 累积/ 分布图/ ,/ 由图/ 5/ (/ a/ )/ 可以/ 看出/ ,/ 对/ GNP/ 而言/ ,/ 短距离/ (/ delay/ </ 20ms/ )/ 的/ 预测/ 精度/ 远远/ 低于/ 长距离/ (/ delay/ >/ 20ms/ )/ 的/ 预测/ 精度/ ,/ 说明/ 在/ GNP/ 中/ ,/ 由于/ 采用/ 了/ 单一/ 度量/ 空间/ 嵌入/ ,/ 无法/ 有效/ 反映/ 网络结构/ 特征/ ,/ 从而/ 导致/ 短距离/ 与/ 长距离/ 之间/ 较大/ 的/ 预测/ 精度/ 差异/ ./ 在/ 图/ 5/ (/ b/ )/ 中/ ,/ 不同/ 范围/ 的/ 距离/ 预测/ 精度/ 差异/ 不/ 大/ ,/ 说明/ 经过/ 分层/ 处理/ ,/ NetPharos/ 能够/ 很/ 好/ 地/ 反应/ 网络结构/ 特征/ ,/ 避免/ 了/ 不同/ 范围/ 距离/ 之间/ 的/ 相互影响/ ./ 同时/ ,/ 由图/ 5/ 也/ 可以/ 看出/ ,/ 不论/ 哪个/ 范围/ 内/ 的/ 距离/ 值/ ,/ NetPharos/ 预测/ 精度/ 均/ 优于/ GNP/ ,/ 从而/ 进一步/ 验证/ 了/ 分层/ 处理/ 的/ 有效性/ ./ Page7/ 为了/ 深入分析/ NetPharos/ 与/ GNP/ 对/ 不同/ 距离/ 范围/ 的/ 处理/ 情况/ ,/ 图/ 6/ 描述/ 了/ 以/ 1ms/ 为/ 间隔/ 计算/ 得到/ 的/ 全部/ 距离/ 范围/ 内/ 预测/ 相对误差/ 均值/ ./ 由该/ 图/ 可以/ 看出/ ,/ GNP/ 预测/ 相对误差/ 受/ 距离/ 值/ 的/ 影响/ 很大/ ,/ 如/ 相对误差/ 最大值/ 达到/ 5.1/ 左右/ ,/ 而/ 最小值/ 则/ 接近/ 0.1/ ./ 短距离/ 与/ 长距离/ 的/ 预测/ 相对误差/ 之间/ 差别/ 非常明显/ ,/ 且/ 网络/ 距离/ 越小/ ,/ 预测/ 相对误差/ 越大/ ./ 而/ Net/ -/ Pharos/ 预测/ 结果/ 中则/ 没有/ 上述/ 特征/ ,/ 无论/ 短距离/ 或者/ 长距离/ 其/ 预测/ 相对误差/ 平均值/ 全部/ 小于/ 1/ ,/ 表明/ 通过/ 分层/ 迭加/ 机制/ ,/ NetPharos/ 有效/ 消除/ 了/ 短距离/ 预测/ 误差/ 较大/ 的/ 问题/ ./ 考虑/ 到/ 网络/ 坐标/ 系统/ 的/ 一个/ 重要/ 作用/ 就是/ 帮助/ 寻找/ 邻居/ 节点/ ,/ 提高/ 短距离/ 的/ 预测/ 精度/ 更加/ 有/ 意义/ ./ 图/ 7/ 描绘/ 了/ 两种/ 距离/ 预测/ 机制/ 中/ 预测/ 相对误差/ 的/ 累积/ 分布图/ ,/ 其中/ 实线/ 代表/ NetPharos/ ,/ 虚线/ 代表/ GNP/ ./ 由图/ 7/ 可以/ 看出/ ,/ 对于/ NetPharos/ ,/ 距离/ 预测/ 相对/ 误差值/ 小于/ 0.2/ 的/ 节点/ 所/ 占/ 比例/ 接近/ 100/ %/ ,/ 而/ GNP/ 中/ 满足/ 这一/ 条件/ 的/ 节点/ 只/ 占/ 40/ %/ 左右/ ,/ 可见/ NetPharos/ 机制/ 在/ 相对/ 预测/ 误差/ 方面/ 明显/ 优于/ GNP/ ./ 一个/ 可能/ 导致/ 这种/ 状况/ 的/ 原因/ 就是/ 在/ GNP/ 中/ ,/ 为了/ 保证/ 达到/ 全局/ 的/ 最优/ ,/ 必须/ 在/ 全局/ 范围/ 内/ 做出/ 优化/ ,/ 这/ 在/ 一定/ 程度/ 上/ 牺牲/ 了/ 局部/ 最优/ 值/ ,/ 而/ NetPharos/ 内/ 各个/ 预测/ 域/ 相互/ 独立/ ,/ 在/ 确定/ 节点/ 坐标值/ 时/ 只/ 需要/ 满足/ 本/ 预测/ 域/ 内/ 最优/ 即可/ ,/ 同时/ 不同/ 域/ 内/ 预测/ 结果/ 迭加/ 后/ 又/ 不会/ 降低/ 预测/ 精度/ ,/ 因此/ 能够/ 使/ 预测/ 结果/ 更加/ 接近/ 实际/ 值/ ./ 而且/ 根据/ 两者/ 的/ 原理/ 我们/ 可以/ 推断/ ,/ 随着/ 网络/ 规模/ 的/ 扩大/ ,/ 这种/ 差别/ 将会/ 越来越/ 明显/ ./ 图/ 8/ 描述/ 了/ 两者/ 的/ 最近/ 节点/ 误判/ 误差/ 对比/ 情况/ ,/ 根据/ 定义/ ,/ 某一/ 节点/ 的/ CNLS/ 为/ 0/ 代表/ 其/ 最近/ 节点/ 在/ 嵌入/ 空间/ 中/ 仍然/ 得到/ 保留/ ,/ 其它/ 数值/ 则/ 表示/ 根据/ 预测值/ 选择/ 的/ 最近/ 节点/ 与/ 实际/ 最近/ 节点/ 之间/ 距离/ 相对/ 误差值/ ./ 由图/ 8/ 可见/ ,/ 对于/ NetPharos/ 而言/ ,/ CNLS/ 为/ 0/ 的/ 节点/ 比例/ 约/ 为/ 20/ %/ ,/ 而/ GNP/ 中该/ 指标/ 数值/ 低于/ 10/ %/ ,/ 说明/ 在/ NetPharos/ 中/ 更/ 多/ 节点/ 的/ 最近/ 节点/ 在/ 嵌入/ 后/ 得到/ 了/ 保留/ ./ 同时/ ,/ 对于/ CNLS/ >/ 0/ 的/ 情况/ ,/ 基于/ NetPharos/ 预测/ 结果/ 得到/ 的/ 相对误差/ 统计/ 值/ 同样/ 小于/ GNP/ ,/ 证明/ 其/ 预测/ 结果/ 优于/ GNP/ ./ 综合/ 前述/ 分析/ 结果/ 可以/ 看出/ ,/ 在/ 距离/ 预测/ 典型/ 评价/ 指标/ 方面/ ,/ NetPharos/ 性能/ 均/ 优于/ GNP/ ,/ 表明/ GNP/ 中/ 采用/ 单一/ 层次/ 的/ 空间/ 嵌入/ 模式/ 无法/ 对/ 网络/ 进行/ 精确/ 描述/ ,/ 从而/ 损失/ 了/ 大量/ 可用/ 信息/ ,/ 导致/ 距离/ 预测值/ 无法/ 充分反映/ 真实/ 网络/ 状况/ ./ 而/ NetPharos/ 中/ ,/ 由于/ 采用/ 了/ 分域/ 的/ 层次化/ 结构/ 模式/ ,/ 能够/ 尽可能/ 多地/ 保留/ 域/ 内/ 信息/ ,/ 有效/ 提高/ 了/ 距离/ 预测/ 的/ 精度/ ./ 5/ 结束语/ 根据/ 因特网/ 层次化/ 结构/ 导致/ 其/ 性能/ 的/ 不/ 均匀/ 性/ ,/ 进而/ 难以/ 嵌入/ 到/ 一个/ 均匀/ 空间/ 中/ 这/ 一/ 状况/ ,/ 本文/ 提出/ 了/ 一种/ 层次化/ 的/ 网络/ 距离/ 预测/ 机制/ NetPha/ -/ ros/ ./ 该/ 机制/ 将/ 网络/ 划分/ 为/ 核心/ 预测/ 域/ 和/ 多个/ 边缘/ 预测/ 域/ ,/ 可以/ 对/ 其/ 分别/ 采用/ 独立/ 的/ 预测/ 模型/ 处理/ ,/ 既/ 提/ Page8/ 供/ 了/ 一种/ 让/ ISP/ 参与/ 网络/ 坐标/ 系统/ 构建/ 的/ 思路/ ,/ 又/ 避免/ 了/ 预测/ 域间/ 的/ 相互/ 干扰/ 以及/ 传统/ 预测/ 方式/ 中/ 短距离/ 和/ 长距离/ 之间/ 的/ 相互影响/ ,/ 提高/ 了/ 距离/ 预测/ 的/ 精度/ ./ 分析/ 与/ 仿真/ 结果表明/ ,/ NetPharos/ 能够/ 有效/ 提高/ 距离/ 预测/ 精度/ ./ 但是/ ,/ 用于/ 构建/ 嵌入/ 空间/ 的/ 基准/ 节点/ 在/ 算法/ 初始化/ 过程/ 中/ 已经/ 选定/ ,/ 这样/ 随着/ 时间推移/ ,/ 可能/ 会/ 出现/ 部分/ 基准/ 节点/ 失效/ 而/ 导致/ 预测/ 精度/ 下降/ 的/ 现象/ ./ 在/ 下/ 一步/ 的/ 工作/ 中/ ,/ 需要/ 研究/ 将/ P2P/ 机制/ 引入/ 基准/ 节点/ 选择/ 过程/ 中/ ,/ 设计/ 一种/ 基准/ 节点/ 随/ 网络/ 状况/ 变化/ 的/ 动态/ 选择/ 机制/ ,/ 避免/ 因为/ 部分/ 基准/ 节点/ 失效/ 而/ 导致/ 的/ 预测/ 精度/ 降低/ 甚至/ 失效/ 的/ 情况/ 发生/ ,/ 进一步提高/ NetPharos/ 的/ 稳定性/ 以及/ 实用性/ ./ 另一方面/ ,/ 基于/ NetPharos/ 构建/ 完善/ 的/ 网络/ 距离/ 预测/ 系统/ 也/ 是/ 我们/ 下/ 一步/ 工作/ 的/ 重点/ ./ 

