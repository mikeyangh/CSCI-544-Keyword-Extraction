Page1/ 一位/ 可/ 重构/ 三值/ 光学/ 处理器/ 的/ 设计/ 和/ 实现/ 王宏健/ 金翊/ 欧阳山/ (/ 上海大学/ 计算机/ 工程/ 与/ 科学/ 学院/ 上海/ 200072/ )/ 摘要/ 文中/ 对/ 可/ 重构/ 三值/ 光学/ 处理器/ 的/ 原理/ 和/ 基本/ 结构/ 进行/ 了/ 详细/ 的/ 实验/ 研究/ ,/ 证明/ 了/ 这种/ 处理器/ 的/ 可/ 重构/ 性/ 和/ 重构/ 电路/ 的/ 有效性/ ./ 本次/ 研究/ 设计/ 了/ 实用/ 的/ 重构/ 电路/ ,/ 使用/ 小规模/ FPGA/ 芯片/ 、/ 笔段/ 式/ 液晶/ 显示器/ 和/ 高速/ 光强/ 传感器/ 等/ 元件/ ,/ 成功/ 构造/ 了/ 一个/ 像素/ 位/ 的/ 可/ 重构/ 三值/ 光学/ 处理器/ ./ 在/ 实现/ 的/ 实验/ 系统/ 上/ ,/ 通过/ 精心/ 选择/ 的/ 50/ 个/ 实验/ 用例/ ,/ 对三值/ 光学/ 处理器/ 的/ 全部/ 42/ 个/ 基元/ 和/ 28/ 个/ 代表性/ 逻辑/ 运算器/ 进行/ 了/ 研究/ ./ 50/ 个/ 实验/ 用例/ 覆盖/ 了/ 所有/ 可能/ 的/ 输入/ 状态/ 和/ 各种/ 基元/ 组合/ 情况/ ./ 该文/ 是/ 对/ 降值/ 设计/ 理论/ 的/ 第一次/ 全面/ 实践/ ,/ 为/ 可/ 重构/ 三值/ 光学/ 处理器/ 从/ 理论/ 到/ 实际/ 应用/ 提供/ 了/ 实验/ 基础/ 和/ 技术支持/ ./ 关键词/ 三值/ 光学/ 处理器/ ;/ 降值/ 设计/ 理论/ ;/ 基元/ ;/ 可/ 重构/ ;/ 重构/ 电路/ ;/ 实验/ 1/ 引言/ 三值/ 光学/ 计算机/ 是/ 利用光/ 的/ 强度/ 和/ 两个/ 正交/ 的/ Page2/ 计算机/ 研究/ 进入/ 实际/ 制作/ 和/ 可/ 应用/ 阶段/ [/ 6/ -/ 12/ ]/ ./ 2010/ 年/ ,/ 本文/ 作者/ 设计/ 了/ 实现/ 三值/ 光学/ 处理器/ 自动/ 重构/ 性/ 的/ 技术/ 架构/ [/ 13/ ]/ ,/ 为/ 制作/ 实用型/ 千位/ 并行/ 三值/ 光学/ 计算机/ 奠定/ 了/ 技术/ 基础/ ./ 然而/ ,/ 这个/ 技术/ 的/ 有效性/ 和/ 可用性/ 必须/ 通过/ 严格/ 的/ 实验/ 研究/ 才能/ 被/ 肯定/ ,/ 同时/ 也/ 只有/ 通过/ 详尽/ 的/ 实验/ 研究/ 才能/ 完善/ 这项/ 基础/ 技术/ ./ 本文/ 报道/ 在/ 三值/ 光学/ 处理器/ 可/ 重构/ 性/ 实验/ 研究/ 方面/ 的/ 成果/ ./ 2/ 三值/ 光学/ 处理器/ 可/ 重构/ 性/ 理论/ 2.1/ 降值/ 设计/ 理论/ 简介/ 参考文献/ [/ 2/ ]/ 在/ 理论/ 上/ 深入研究/ 了/ 无进/ (/ 借/ )/ 位/ 两路/ 输入/ n/ 值/ 运算器/ 的/ 构造/ 问题/ ,/ 建立/ 了/ 多值逻辑/ 运算器/ 的/ 降值/ 设计/ 理论/ ,/ 揭示/ 了/ 逻辑/ 运算器/ 的/ 硬件/ 可/ 重构/ 性/ ./ 这个/ 理论/ 的/ 结论/ 可以/ 概括/ 为/ :/ 任意/ 的/ n/ 值/ 逻辑/ 运算器/ 可以/ 通过/ 组合/ 不/ 超过/ n/ ×/ (/ n/ -/ 1/ )/ 种仅/ 有二值/ 输出/ 状态/ 的/ 最简/ 基元/ 而成/ ./ 由于/ 最简/ 基元/ 的/ 输出/ 状态/ 只有/ 两个/ ,/ 所以/ 它们/ 的/ 结构/ 非常简单/ ./ 根据/ 这个/ 结论/ ,/ 任何/ 一个/ 复杂/ 的/ n/ 值/ 逻辑/ 运算器/ 都/ 可以/ 用/ 几个/ 输出/ 仅/ 有/ 二值/ 、/ 结构/ 简单/ 的/ 最简/ 基元/ 组合而成/ ./ 图/ 1/ 可/ 重构/ 三值/ 光学/ 处理器/ 整体/ 结构/ 对于/ 三值/ 逻辑/ ,/ 共有/ 19683/ (/ 33/ ×/ 3/ )/ 种/ 逻辑/ 运算器/ 和/ 18/ 种/ 最简/ 基元/ ,/ 只/ 需/ 组合/ 不/ 超过/ 6/ 种/ 最简/ 基元/ 就/ 可以/ 构成/ 任意/ 一个/ 三值/ 逻辑/ 运算器/ ./ 依据/ 降值/ 设计/ 理论/ [/ 2/ ,/ 14/ ]/ ,/ 在/ 多值/ 计算机/ 中/ 只/ 需/ 准备/ 好/ 各种/ 最简/ 基元/ ,/ 即可/ 按/ 以下/ 步骤/ 随时/ 生成/ 某种/ 具体/ 的/ 逻辑/ 运算器/ :/ (/ 1/ )/ 根据/ 运算器/ 选择/ 最简/ 基元/ ;/ (/ 2/ )/ 给/ 选定/ 的/ 最简/ 基元/ 同时/ 送入/ 同一个/ 输入/ 值/ ,/ 并/ 使/ 其/ 同步/ 工作/ ;/ (/ 3/ )/ 将/ 选定/ 基元/ 的/ 输出/ 状态/ 进行/ 物理/ 叠加/ ,/ 得到/ 运算器/ 的/ 输出/ 状态/ —/ —/ —/ 运算/ 结果/ ./ 当/ 一个/ 逻辑/ 运算器/ 工作/ 结束/ 后/ ,/ 其/ 占用/ 的/ 最简/ 基元/ 又/ 可以/ 用于/ 构造/ 其他/ 的/ 逻辑/ 运算器/ ./ 因此/ ,/ 多值/ 计算机/ 中/ 的/ 逻辑/ 处理部件/ 只是/ 各种/ 最简/ 基元/ 的/ 汇聚/ 体/ ,/ 而/ 具体/ 的/ 逻辑/ 运算器/ 是/ 由/ 逻辑/ 处理部件/ 中/ 的/ 一部分/ 最简/ 基元/ 组成/ 的/ 临时/ 协作/ 体/ ./ 这种/ 构造/ 各种/ 逻辑/ 运算器/ 的/ 思想/ 和/ 技术/ 使得/ n/ 值/ 逻辑/ 处理部件/ (/ 逻辑/ 处理器/ )/ 表现/ 出/ 明显/ 的/ 可/ 重构/ 性/ ./ 2.2/ 可/ 重构/ 三值/ 光学/ 处理器/ 原理/ 依据/ 降值/ 设计/ 理论/ 构造/ 三值/ 光学/ 计算机/ 的/ 逻辑/ 处理部件/ 时/ 发现/ ,/ 三值/ 逻辑/ 光学/ 处理器/ 的/ 18/ 种/ 最简/ 基元/ 都/ 具有/ 相同/ 的/ 抽象/ 结构/ ,/ 如图/ 1/ 所示/ ./ 其中/ :/ 主光路/ (/ a/ )/ 由/ 编码器/ 和/ 两个/ 偏振片/ 夹/ 一个/ 液晶/ 的/ “/ 三明治/ ”/ Page3/ 结构/ 组成/ ;/ 控制/ 光/ 路/ (/ b/ )/ 由/ 偏振片/ 后/ 放置/ 一个/ 感光/ 管/ 组成/ ./ 由于/ 这个/ 结构/ 中/ 所用/ 偏振片/ 的/ 偏振/ 方向/ 不能/ 随时/ 改变/ ,/ 因此/ ,/ 图/ 1/ 中将/ 偏振片/ 的/ 偏振/ 方向/ 相同/ 的/ 最简/ 基元/ 放置/ 在/ 一起/ ,/ 主光路/ 就/ 自然/ 地/ 形成/ 了/ HH/ 、/ VH/ 、/ HV/ 和/ VV4/ 个/ 区域/ ,/ 控制/ 光/ 路/ 形成/ 了/ V/ 和/ H/ 两个/ 区域/ ./ 这里/ V/ 表示/ 偏振/ 方向/ 置于/ 垂直/ 方位/ 的/ 偏振片/ ,/ H/ 表示/ 偏振/ 方向/ 置于/ 水平/ 方位/ 的/ 偏振片/ ,/ 前/ 一个/ 字母/ 表示/ 光入/ 侧/ 偏振片/ 的/ 偏振/ 方向/ ,/ 后/ 一个/ 字母/ 表示/ 光出/ 侧/ 偏振片/ 的/ 偏振/ 方向/ ./ 将/ 图/ 1/ 中/ 的/ 主光路/ 和/ 控制/ 光/ 路/ 构成/ 一个/ 最简/ 基元/ 的/ 过程/ ,/ 是/ 将/ 控制/ 光路/ 中/ 一个/ 区域/ 的/ 像素/ 用于/ 控制/ 主光路/ 某个/ 区域/ 中/ 一个/ 像素/ 的/ 配置/ 过程/ ,/ 图/ 1/ 中/ 设计/ 的/ 重构/ 电路/ 模块/ 承担/ 这项/ 配置/ 工作/ ./ 图/ 1/ 中/ 还/ 在/ 每个/ 液晶/ 像素/ 的/ 控制/ 信号/ 输入/ 端/ 设计/ 了/ 一个/ 异或门/ ,/ 用于/ 改变/ 液晶/ 像素/ 控制/ 端/ 信号/ 的/ 有效/ 状态/ ./ 图/ 1/ 中/ 的/ 4/ 个锁/ 存器/ Rhh/ 、/ Rvh/ 、/ Rhv/ 和/ Rvv/ 分别/ 用于/ 保存/ 对主光路/ 4/ 个/ 分区/ 的/ 重构/ 命令/ ,/ 以/ 实现/ 通过/ 程序控制/ 光学/ 处理器/ 的/ 重构/ 操作/ ./ 在/ 图/ 1/ 表示/ 的/ 三值/ 逻辑/ 光学/ 处理器/ 中/ ,/ 由/ 光学/ 元件/ 组成/ 的/ 区域/ 共有/ 6/ 个/ ,/ 主光路/ 的/ HH/ 、/ VH/ 、/ HV/ 和/ VV/ 区域/ 与/ 控制/ 光路/ 的/ V/ 和/ H/ 区域/ ./ 为了/ 构造/ 上/ 的/ 便利/ ,/ 三值/ 光学/ 计算机/ 中将/ 这/ 6/ 个/ 区域/ 的/ 像素/ 排列成/ 完全相同/ 的/ 阵列/ ,/ 并/ 将/ 位于/ 各/ 区域/ 上/ 行列/ 坐标/ 相同/ 的/ 像素/ 作为/ 一个/ 整体/ 看待/ ,/ 称/ 这/ 6/ 个/ 像素/ 为/ 一个/ 像素/ 位/ ./ 进一步/ 研究/ 发现/ ,/ 在/ 同一个/ 主光路/ 分区/ 上/ 的/ 2/ 个/ 或/ 3/ 个/ 最简/ 基元/ 可以/ 合并/ 在/ 该/ 主光路/ 的/ 一个/ 像素/ 上/ 实现/ ,/ 称/ 它们/ 为/ 复合/ 基元/ [/ 14/ -/ 15/ ]/ ./ 复合/ 基元/ 共有/ 24/ 种/ ,/ 它们/ 的/ 使用/ 方法/ 与/ 最简/ 基元/ 一样/ ,/ 利用/ 它们/ 可以/ 减少/ 某些/ 逻辑/ 运算器/ 中/ 使用/ 像素/ 位/ 的/ 数量/ ./ 于是/ ,/ 三值/ 逻辑/ 运算器/ 有/ 42/ 种/ 基元/ ,/ 其中/ 18/ 种/ 最简/ 基元/ ,/ 24/ 种/ 复合/ 基元/ ./ 三值/ 光学/ 处理器/ 的/ 重构/ 需要/ 两个/ 过程/ :/ 第/ 1/ 个/ 过程/ 是/ 基元/ 重构/ ,/ 即/ 由/ 基元/ 抽象/ 结构/ 重构/ 出/ 具体/ 的/ 基元/ ,/ 其/ 核心/ 操作/ 是/ 为主/ 光/ 路/ 搭配/ 控制/ 光/ 路/ ,/ 由/ 重构/ 指令/ 指挥/ 基元/ 重构/ 电路/ 完成/ ;/ 第/ 2/ 个/ 过程/ 是/ 处理器/ 重构/ ,/ 即/ 组合/ 各/ 基元/ 生成/ 具体/ 的/ 三值/ 逻辑/ 运算器/ ,/ 其/ 核心/ 操作/ 是/ 指派/ 重构/ 好/ 的/ 基元/ ,/ 由/ 重构/ 例程/ 完成/ [/ 13/ ]/ ./ 3/ 可/ 重构/ 三值/ 光学/ 处理器/ 的/ 整体/ 设计/ 可/ 重构/ 三值/ 光学/ 处理器/ 整体/ 结构/ 如图/ 1/ 所示/ ./ 图中/ 实线/ 表示/ 光/ 信号/ 传输线/ ,/ 虚线/ 表示/ 电信号/ 传输线/ ,/ 这个/ 结构/ 包含/ 电/ 控制/ 的/ 原因/ 是/ 目前/ 未/ 在/ 市场/ 上/ 购得/ 光控/ 液晶/ ,/ 所以/ ,/ 控制/ 信号/ 只能/ 使用/ 电信号/ ,/ 这个/ 做法/ 与/ 三值/ 光学/ 计算机/ “/ 光/ 处理/ ,/ 电/ 控制/ ”/ 的/ 原则/ 相一致/ ./ 图中/ 主光路/ (/ a/ )/ 由/ 光源/ 、/ 四层/ 偏振片/ 、/ 三层/ 液晶/ 和/ 一个/ 感光/ 管/ 构成/ ./ 其中/ 靠近/ 光源/ 的/ 两层/ 垂直/ 偏振片/ (/ V/ )/ 和/ 两层/ 液晶/ 为主/ 光/ 路/ 编码器/ [/ 8/ -/ 9/ ]/ ,/ 负责/ 将二值/ 的/ 电信号/ 转化成/ 三值/ 的/ 光/ 信号/ ./ 剩余/ 的/ 两层/ 偏振片/ 和/ 一层/ 液晶/ 为/ 基元/ 的/ “/ 三明治/ ”/ 结构/ ./ 控制/ 光/ 路/ (/ b/ )/ 由/ 光源/ 、/ 一层/ 偏振片/ 和/ 一个/ 感光/ 管/ 构成/ ,/ 外加/ 一个/ V/ 区域/ 和/ H/ 区域/ 输出/ 信号/ 相/ “/ 或/ ”/ 的/ 类型/ ./ 主光路/ 计算结果/ 的/ 光/ 信号/ 通过/ 图中/ 最/ 右侧/ 的/ 感光/ 管/ 转化成/ 电信号/ ,/ 四路/ 电信号/ 再/ 通过/ 两个/ 或门/ Yh/ 和/ Yv/ 生成/ 最终/ 的/ 计算结果/ (/ c/ )/ 并/ 输出/ ./ 每/ 一个/ 主光路/ 类型/ 都/ 配备/ 一个/ 重构/ 模块/ ,/ 这个/ 模块/ 由/ 3/ 个/ 异或门/ (/ X1/ ,/ X2/ ,/ X3/ )/ 、/ 一套/ 重构/ 电路/ 和/ 一个/ 6/ 位/ 重构/ 命令/ 锁/ 存器/ (/ Rhh/ 或/ Rvh/ 或/ Rhv/ 或/ Rvv/ )/ 组成/ ./ 4/ 个/ 重构/ 模块/ 连接/ 到/ 同一个/ 像素/ 位/ 的/ V/ 型/ 控制/ 光/ 路/ 、/ H/ 型/ 控制/ 光路/ 和/ 二者/ 的/ “/ 或/ ”/ ./ 图中/ 左边/ 的/ 主光路/ 编码器/ 输入/ 寄存器/ 用于/ 存放/ 主光路/ 输入/ 光/ 信号/ 的/ 编码/ 命令/ ,/ 这些/ 命令/ 信号/ 通过/ 重构/ 模块/ 的/ 调制/ 最终/ 用于/ 控制/ 主光路/ 编码器/ 两层/ 液晶/ 的/ 旋光性/ ./ 控制/ 光/ 路/ 编码器/ 输入/ 寄存器/ 用于/ 存放/ 控制/ 光/ 路/ 输入/ 光/ 信号/ 的/ 编码/ 命令/ ,/ 这些/ 命令/ 信号/ 直接/ 控制/ V/ 、/ H/ 两种/ 类型/ 控制/ 光/ 路/ 光源/ 的/ 开和关/ ./ 4/ 一/ 像素/ 位/ 可/ 重构/ 三值/ 光学/ 处理器/ 的/ 实现/ 4.1/ 器件/ 选择/ 搭建/ 一/ 像素/ 位/ 的/ 可/ 重构/ 三值/ 光学/ 处理器/ 所/ 需要/ 的/ 器件/ 主要/ 有/ 光源/ 、/ 偏振片/ 、/ 光/ 状态/ 调制器/ (/ 液晶/ )/ 、/ 感光/ 管/ 和/ 数字电路/ 系统/ ./ 考虑/ 到/ 设备/ 的/ 简单/ 性/ 、/ 可靠性/ 和/ 控制/ 实验/ 过程/ 的/ 方便性/ ,/ 本次/ 实验/ 中/ 选用/ DICE/ -/ SEM/ Ⅱ/ 型/ 数字模拟/ 综合/ 实验/ 箱/ 做主/ 实验/ 箱/ ,/ 选用/ 荧光灯/ 做/ 光源/ ,/ 选用/ 笔段/ 面积/ 较大/ 的/ 液晶/ 数码/ 显示器/ 做光/ 状态/ 调制器/ ,/ 选用/ 将/ 输入/ 光强/ 转化成/ 输出/ 电压/ 的/ TSL14s/ 高速/ 光强/ 传感器/ 做/ 感光/ 管/ ./ 实验/ 中/ ,/ 在/ 主/ 实验/ 箱上/ 的/ 小规模/ FPGA/ 芯片/ (/ ACEX1K/ )/ 中/ 搭建/ 重构/ 电路/ 、/ 主光路/ 编码器/ 输入/ 寄存器/ 、/ 控制/ 光/ 路/ 编码器/ 输入/ 寄存器/ 及其/ 它/ 电子/ 元器件/ ,/ 用主/ 实验/ 箱上/ 的/ 拨动/ 电键/ 对/ 各个/ 锁/ 存器/ 和/ 寄存器/ 输入/ 命令字/ 或/ 数据字/ ,/ 用主/ 实验/ 箱上/ 的/ 两个/ 发光/ 二极管/ (/ LED/ )/ 作为/ V/ 型/ 和/ H/ 型/ 控制/ 光路/ 的/ 光源/ ./ 4.2/ 电路设计/ 结合/ 主/ 实验/ 箱上/ FPGA/ 模块/ 电路设计/ 软件/ Page4MAX/ +/ PLUSII/ 完成/ 的/ 实验/ 电路图/ 如图/ 2/ 所示/ ./ 其中/ :/ 6/ 位/ 的/ 重构/ 命令/ 寄存器/ Rhh/ 、/ Rvh/ 、/ Rhv/ 和/ Rvv/ 分别/ 用/ 4/ 个/ 八/ D/ 锁/ 存器/ (/ 74LS377/ )/ 实现/ ,/ 并/ 将/ 这图/ 2/ 重构/ 实验/ 电路图/ 4/ 个锁存/ 器用/ 一个/ 2/ -/ 4/ 译码器/ (/ 74LS139/ )/ 寻址/ ,/ 于是/ 基元/ 重构/ 命令/ 增长/ 到/ 8/ 位/ ,/ 增加/ 的/ 两位/ 称为/ “/ 址/ 码/ ”/ [/ 15/ ]/ ,/ 保存/ 8/ 位/ 基元/ 重构/ 命令/ 的/ 锁/ 存器/ (/ Rcg/ )/ 用/ 一个/ 74LS377/ 来/ 实现/ ./ Page5/ 重构/ 模块/ 的/ 内部/ 电路/ 示于/ 图/ 2/ 中/ CGDL/ 虚线/ 框内/ ,/ 它/ 的/ 输入/ 信号/ K3/ 、/ K4/ 、/ K5/ 取反/ 后/ 通过/ 一个/ 三/ 输入/ 与/ 门/ 接到/ 一个/ 三态/ 门/ (/ Z/ )/ 的/ 控制/ 端/ ;/ Z/ 的/ 输入/ 端/ 接地/ ,/ 输出/ 端/ 接到/ 重构/ 电路/ 模块/ 的/ 输出/ 信号/ 端/ Y/ ,/ 这个/ 设计/ 代替/ 图/ 1/ 中/ 的/ 接地/ 电阻/ r/ ./ 主光路/ 编码器/ 输入/ 寄存器/ (/ Rzb/ )/ 和/ 控制/ 光/ 路/ 编码器/ 输入/ 寄存器/ (/ Rcb/ )/ 分别/ 用/ 两个/ 双/ D/ 触发器/ (/ 74LS74/ )/ 来/ 实现/ ./ 液晶/ 需要/ 用/ 交变/ 电压/ 驱动/ ,/ 而/ 实验/ 箱/ 的/ 输出/ 信号/ 都/ 是/ 直流电/ 压/ ,/ 因此/ 实验/ 电路/ 中/ 给/ 12/ 个/ 液晶/ 控制/ 端/ 各/ 设计/ 了/ 一个/ 异或门/ (/ Y1/ ~/ Y12/ )/ ,/ 并/ 将/ 这/ 12/ 个/ 异或门/ 的/ 各个/ 输入/ 端接/ 100Hz/ 的/ 方波/ 电压/ CLK/ [/ 16/ ]/ ./ 4/ 个/ 感光/ 管/ (/ gvv/ ,/ gvh/ ,/ ghh/ ,/ ghv/ )/ 分别/ 采集/ 主光路/ 液晶模块/ 4/ 个/ 分区/ 输出/ 的/ 计算结果/ 光/ 信号/ ,/ 感光/ 管/ 的/ 输出/ 信号/ 送入/ 解码/ 电路/ (/ 见/ 虚/ 线框/ JMDL/ )/ ;/ 解码/ 电路/ 由/ 两个/ 异或门/ (/ Yv/ 和/ Yh/ )/ 、/ 两个/ 非/ 门/ (/ f1/ 和/ f2/ )/ 和/ 一个/ 与/ 门/ (/ f3/ )/ 组成/ ,/ 它/ 将/ 4/ 个/ 感光/ 管/ 的/ 输出/ 信号/ 转换成/ 3/ 个/ 电信号/ cw/ 、/ cv/ 、/ ch/ ./ 当/ 计算结果/ 为/ 无光态/ 时/ cw/ 为/ 高电平/ ,/ 当/ 计算结果/ 为/ 垂直/ 偏振光/ 态时/ cv/ 为/ 高电平/ ,/ 当/ 计算结果/ 为/ 水平/ 偏振光/ 态时/ ch/ 为/ 高电平/ ./ 控制/ 光路/ 用/ 两个/ 发光管/ (/ L1/ 和/ L2/ )/ 实现/ ;/ 控制/ 光路/ 的/ 输出/ 由/ 两个/ 感光/ 管/ (/ gv/ 和/ gh/ )/ 采集/ ./ 4.3/ 电子线路/ 连接/ 实验/ 箱/ 中部/ 的/ 可编程/ 逻辑电路/ (/ EP1K30TC144/ -/ 1/ )/ 中/ 构造/ 了/ 图/ 2/ 中/ 给出/ 的/ 各/ 芯片/ 和/ 电路/ ,/ 该/ 芯片/ 有/ 96/ 个/ 输入/ // 输出管/ 脚/ 和/ 1728/ 个/ 逻辑/ 单元/ ,/ 实验/ 电路/ 总共/ 用/ 了/ 49/ 个/ 输入/ // 输出管/ 脚/ 和/ 76/ 个/ 逻辑/ 单元/ ,/ 管脚/ 占用率/ 和/ 逻辑/ 单元/ 占用率/ 分别/ 为/ 51/ %/ 和/ 4/ %/ ./ 实验/ 箱/ 底部/ 的/ 拨动/ 电键/ K1/ ~/ K8/ 分别/ 连接/ 图/ 2/ 中/ 的/ d0/ ~/ d7/ ,/ 用作/ 在/ 数据总线/ 上/ 生成/ 重构/ 命令/ ;/ K9/ 连接/ CLK/ -/ 1/ ,/ 实现/ 地址总线/ 对/ 重构/ 命令/ 寄存器/ 的/ 寻址/ ,/ 起到/ 设置/ 重构/ 命令/ 的/ 作用/ ;/ K10/ 和/ K11/ 连接/ a2/ 和/ a1/ ,/ 用作/ 生成/ 主光路/ 编码器/ 的/ 输入/ 数据/ ;/ K13/ 和/ K14/ 连接/ LED/ 灯/ L2/ 和/ L1/ 的/ 控制/ 端/ ,/ 用作/ 生成/ 控图/ 4TN/ 型/ 笔段/ 式/ 液晶/ 规格/ (/ 单位/ 为/ mm/ )/ 制光路/ 编码器/ 的/ 输入/ 数据/ ;/ K12/ 连接/ CLK/ -/ 2/ ,/ 用作/ 两个/ 编码器/ 的/ 输出/ 使能/ 信号/ ,/ 生成/ 运算器/ 的/ 工作/ 命令/ 信号/ ./ 位于/ 拨动/ 电键/ 左边/ 的/ 12/ 对/ 红绿/ LED/ 灯/ 分别/ 连接/ 图/ 2/ 中/ 的/ 输出/ 信号/ vv/ -/ y1/ 、/ vv/ -/ y2/ 、/ vv/ -/ y3/ 、/ hv/ -/ y1/ 、/ hv/ -/ y2/ 、/ hv/ -/ y3/ 、/ vh/ -/ y1/ 、/ vh/ -/ y2/ 、/ vh/ -/ y3/ 、/ hh/ -/ y1/ 、/ hh/ -/ y2/ 、/ hh/ -/ y3/ ,/ 用于/ 监视/ 4/ 个/ 分区/ 重构/ 电路/ 的/ 实际/ 输出/ 状态/ ,/ 以便/ 记录/ 和/ 分析/ 实验/ 现象/ ./ 在/ 实验/ 箱/ 左下角/ 的/ 红色/ LED/ 灯/ L1/ 和/ L2/ 上/ 各/ 密封/ 了/ 一个/ 感光/ 管/ (/ gv/ 和/ gh/ )/ ,/ 用于/ 实现/ 控制/ 光路/ 的/ 功能/ ,/ L1/ 和/ L2/ 的/ 发光/ 状态/ 由/ K14/ 和/ K13/ 控制/ ,/ gv/ 和/ gh/ 的/ 输出/ 信号/ 连接/ 到/ 图/ 2/ 的/ 输入/ 信号/ bv/ 和/ bh/ 上/ ,/ 同时/ 连接/ 到/ 实验/ 箱/ 左上角/ 的/ 数码管/ LED1/ 和/ LED2/ ,/ 这/ 两个/ 数码管/ 用于/ 实时/ 监视/ gv/ 和/ gh/ 的/ 实际/ 输出/ 信号/ ./ 图/ 2/ 中/ 的/ CLK/ 连接/ 实验/ 箱上/ 的/ 100Hz/ 方波/ 电压/ ./ 实验/ 箱/ 上端/ 中部/ 的/ 3/ 个/ 数码管/ LED4/ 、/ LED5/ 、/ LED6/ 分别/ 连接/ cw/ 、/ cv/ 、/ ch/ 信号/ ,/ 用于/ 显示/ 计算结果/ ./ 各/ 部件/ 连接/ 和/ 调试/ 完毕/ 的/ 一位/ 可/ 重构/ 三值/ 光学/ 处理器/ 实验/ 平台/ 如图/ 3/ 所示/ ./ 4.4/ 光学/ 元件/ 制作/ 对于/ 一个/ 像素/ 位/ 的/ 可/ 重构/ 三值/ 光学/ 处理器/ ,/ 其主光路/ 每个/ 分区/ 只有/ 一个/ 像素/ ,/ 因此/ 本/ 实验/ 系统/ 的/ 主光路/ 共有/ 4/ 个/ 像素/ ,/ 为了/ 方便/ 制作/ ,/ 我们/ 将/ 这/ 4/ 个/ 像素/ 集中/ 在/ 一块/ 液晶屏/ 上/ ,/ 即/ 实验/ 系统/ 主光路/ 的/ 4/ 个/ 分区/ 在/ 一个/ 液晶模块/ 上/ 实现/ ./ 用于/ 制作/ 主光路/ 的/ 液晶模块/ 如图/ 4/ 所示/ ,/ 共有/ Page6/ 两个/ 半/ 的/ 八字/ 显示/ 笔段/ ./ 为了/ 使/ 制作/ 好/ 的/ 光学/ 处理器/ 的/ 每/ 一个/ 像素/ 既/ 方便/ 于/ 人眼/ 观察/ 和/ 拍照/ 记录/ ,/ 又/ 方便/ 于/ 感光/ 管/ 采光/ ,/ 给/ 每种/ 分区/ 分配/ 两个/ 相邻/ 笔段/ ,/ 并/ 将/ 这/ 两个/ 笔段/ 视为/ 一个/ 像素/ ./ 具体/ 分配/ 为/ :/ 2A/ 和/ 2F/ 分配/ 给/ VV/ 分区/ 、/ 2D/ 和/ 2E/ 分配/ 给/ VH/ 分区/ 、/ 3A/ 和/ 3B/ 分配/ 给/ HV/ 分区/ 、/ 3C/ 和/ 3D/ 分配/ 给/ HH/ 分区/ ./ 4/ 个/ 感光/ 管/ 分别/ 贴到/ 4/ 个/ 分区/ 的/ 一个/ 显示/ 笔段/ 上/ ./ 5/ 实验/ 用例/ 设计/ 在/ 所有/ 的/ 两/ 输入/ 三值/ 逻辑/ 运算器/ 中/ ,/ 有/ 一部分/ 运算器/ 需要/ 分别/ 将/ 3/ 种/ 输入/ 光/ 状态/ (/ 即/ 无光态/ 、/ 水平/ 偏振光/ 态/ 和/ 垂直/ 偏振光/ 态/ )/ 转换成/ 同/ 一种/ 有光态/ 输出/ 的/ 基元/ ,/ 但是/ 一个/ 像素/ 位/ 的/ 主光路/ 中/ 只有/ 两个/ 液晶/ 像素/ 可以/ 输出/ 相同/ 的/ 光/ 状态/ ,/ 于是/ 就/ 需要/ 用/ 两个/ 像素/ 位来/ 实现/ 这部分/ 运算器/ ,/ 但/ 这/ 两个/ 像素/ 位上/ 的/ 基元/ 仍然/ 都/ 是/ 42/ 个/ 基元/ 之一/ ./ 所以/ 这部分/ 运算器/ 除了/ 会/ 给/ 像素/ 位/ 指派/ 软件/ 带来/ 一点/ 麻烦/ 之外/ ,/ 在/ 基元/ 和/ 运算器/ 的/ 硬件/ 重构/ 结构/ 和/ 控制/ 方面/ 并/ 没有/ 增加/ 内容/ ./ 因此/ ,/ 本文/ 设计/ 制作/ 的/ 处理器/ 主光路/ 只/ 为/ 每个/ 分区/ 各/ 做出/ 一个/ 液晶/ 像素/ ,/ 即仅/ 构造/ 出/ 一个/ 像素/ 位/ 的/ 实验/ 系统/ ./ 同理/ ,/ 在/ 制作/ 千位/ 三值/ 光学/ 处理器/ 时/ ,/ 主光路/ 仅/ 需要/ 4/ 个/ 分区/ 即可/ ./ 5.1/ 基元/ 测试/ 例/ 为了/ 证实/ 重构/ 电路/ 的/ 功能/ ,/ 需要/ 在/ 一位/ 可/ 重构/ 三值/ 光学/ 处理器/ 上/ 对/ 基元/ 和/ 运算器/ 进行/ 实验/ 测试/ ./ 对/ 基元/ 的/ 测试/ 旨在/ 验证/ 三值/ 光学/ 处理器/ 所有/ 重构/ 命令/ 的/ 正确性/ ,/ 需要/ 将/ 42/ 个/ 基元/ 依次/ 进行/ 实验/ ./ 为了/ 简化/ 实验/ 过程/ ,/ 把/ 42/ 个/ 基元/ 中/ 重构/ 码/ (/ 重构/ 命令/ 中/ 除址/ 码外/ 的/ 其他/ 6/ 位/ )/ 相同/ 的/ 基元/ 同时/ 测试/ ,/ 形成/ 22/ 个/ 实验/ 用例/ ./ 5.2/ 运算器/ 测试/ 例对/ 运算器/ 的/ 测试/ 旨在/ 验证/ 三值/ 光学/ 处理器/ 重构/ 过程/ 的/ 正确性/ ./ 为/ 使/ 实验/ 内容/ 涵盖/ 所有/ 的/ 理论/ 要点/ 和/ 各类/ 重构/ 状态/ ,/ 按/ 下述/ 原则/ 选择/ 了/ 28/ 个/ 运算器/ 作为/ 实验/ 用例/ :/ (/ 1/ )/ 选择/ 包含/ 4/ 个/ 基元/ 的/ 运算器/ 14/ 个/ ,/ 对应/ 表/ 1/ 中/ 的/ 前/ 4/ 列/ ,/ 其中/ 用/ X/ 表示/ 基元/ ,/ 等价/ 地/ 表示/ 对应/ 的/ 重构/ 码/ ./ X/ 的/ 位置/ 分别/ 对应/ 于/ HV/ 、/ HH/ 、/ VV/ 和/ VH/ 分区/ ,/ 当/ 两个/ 分区/ 的/ 基元/ (/ 重构/ 码/ )/ 相同/ 时/ ,/ 给/ X/ 附以/ 相同/ 的/ 下标/ ,/ 当/ 基元/ 互不/ 相同/ 时/ ,/ 给/ X/ 附以/ 不同/ 的/ 下标/ ,/ 例如/ ,/ “/ X1X1X2X3/ ”/ 表示/ HV/ 和/ HH/ 分区/ 相同/ 的/ 基元/ (/ 都/ 用/ X1/ 表示/ )/ ,/ VV/ 和/ VH/ 分区/ 各有/ 不同于/ 其他/ 3/ 个/ 分区/ 的/ 基元/ ./ 第/ 1/ 列/ 的/ 特征/ 是/ 4/ 个/ 分区/ 的/ 基元/ 相同/ ;/ 第/ 2/ 列/ 的/ 特征/ 是/ 4/ 个/ 分区/ 的/ 基元/ 有/ 两种/ ;/ 第/ 3/ 列/ 的/ 特征/ 是/ 4/ 个/ 分区/ 的/ 基元/ 有/ 3/ 种/ ;/ 第/ 4/ 列/ 的/ 特征/ 是/ 4/ 个/ 分区/ 的/ 基元/ 各不相同/ ./ (/ 2/ )/ 选择/ 包含/ 3/ 个/ 相同/ 基元/ 的/ 运算器/ 4/ 个/ ,/ 对应/ 于表/ 1/ 中/ 的/ 第/ 5/ 列/ ./ 其中/ 0/ 称为/ 关码/ ,/ 作用/ 是/ 关闭/ 所在位置/ 对应/ 的/ 主光路/ 分区/ ./ (/ 3/ )/ 选择/ 包含/ 两个/ 相同/ 基元/ 的/ 运算器/ 6/ 个/ ,/ 对应/ 于表/ 1/ 中/ 的/ 第/ 6/ 列/ ./ (/ 4/ )/ 选择/ 包含/ 一个/ 基元/ 的/ 运算器/ 4/ 个/ ,/ 对应/ 于表/ 1/ 中/ 的/ 第/ 7/ 列/ ./ XXXXX1X1X1X2X1X1X2X3X1X2X3X40XXX00XX000X/ 合并/ 基元/ 测试/ 例/ 和/ 运算器/ 测试/ 例/ 得到/ 本次/ 实验/ 5.3/ 实验/ 用例/ 的/ 实验/ 用例/ 共计/ 50/ 例/ ./ 6/ 实验/ 过程/ 及/ 结果/ 分析/ 为了/ 规范/ 实验/ 操作步骤/ 和/ 准确/ 记录/ 实验/ 结果/ ,/ 我们/ 为/ 每/ 一个/ 实验/ 用例/ 制作/ 了/ 一张/ 纸质/ 的/ 基元/ 说明/ 页/ ,/ 总共/ 50/ 张/ ,/ 其中/ 基元/ 测试/ 页/ 22/ 张/ ,/ 运算器/ 测试/ 页/ 28/ 张/ ./ 每张/ 说明/ 页/ 中/ 包含/ 各个/ 分区/ 上/ 基元/ 的/ 编号/ 、/ 标识/ 、/ 重构/ 命令/ (/ 未/ 使用/ 分区/ 的/ 重构/ 命令/ 为/ 关码/ )/ 、/ 光/ 状态/ 变化/ 表/ 和/ 一个/ 像素/ 位/ 运算器/ 的/ 整体/ 状态/ 变化/ 表/ ./ 另一方面/ ,/ 要/ 对/ 状态/ 变化/ 表中/ 的/ 每种/ 输入/ 组合/ 依次/ 进行/ 实验/ ,/ 因此/ 还/ 制作/ 了/ 9/ 张/ 实验/ 步骤/ 指示/ 纸质/ 页/ ,/ 用于/ 指示/ 当前/ 实验/ 操作/ 的/ 输入/ 值/ (/ a1/ ,/ a2/ ,/ bv/ ,/ bh/ )/ 和/ 对应/ 的/ 输入/ 光/ 状态/ (/ 如/ ab/ =/ WH/ )/ ./ 实验/ 时/ ,/ 首先/ 根据/ 基元/ 说明/ 页/ 设置/ 好/ 每个/ 分区/ 的/ 重构/ 命令/ 或者/ 关码/ ,/ 完成/ 一位/ 可/ 重构/ 三值/ 光学/ 处理器/ 的/ 重构/ 过程/ ;/ 然后/ 根据/ 实验/ 步骤/ 指示/ 页/ 依次/ 完成/ 9/ 步/ 实验/ 操作/ 并/ 记录/ 实验/ 结果/ ./ 重复/ 上述/ 步骤/ ,/ 直至/ 50/ 个/ 实验/ 用例/ 全部/ 被/ 执行/ ./ 图/ 5/ 是/ 针对/ 17H/ 号/ 基元/ 测试/ 的/ 实验/ 结果/ 之一/ ,/ 右/ 上/ 部分/ 为主/ 光/ 路/ 光学/ 模块/ 的/ 局部/ 放大/ 图/ ,/ 该/ 实验/ 用例/ 只/ 在/ HH/ 分区/ 构建/ 有/ 17H/ 号/ 基元/ ,/ 其他/ 3/ 个/ 分区/ 为/ 关码/ ,/ 其/ 实验/ 步骤/ 指示/ 页/ 标示/ 这次/ 操作/ 是/ 执行/ 第/ ④/ 步/ ,/ 即/ a/ 端/ 输入/ 无光态/ (/ W/ )/ ,/ b/ 端/ 输入/ 水平/ 偏振光/ 态/ (/ H/ )/ ./ 根据/ 基元/ 说明/ 页/ ,/ 第/ ④/ 步/ 操作/ 时/ 理论/ 预测/ 输出/ (/ C/ )/ 为/ 水平/ 偏振光/ ,/ 从主光路/ 光学/ 模块/ 上/ 很容/ Page7/ 易/ 看到/ HH/ 分区/ 中有/ 亮点/ ,/ 其他/ 3/ 个/ 分区/ 均/ 无亮点/ ,/ 即/ 目测/ 运算/ 结果/ 为/ 水平/ 偏振光/ ,/ 实验/ 箱上/ 运算/ 结果/ 输出/ 数码管/ 的/ H/ 位为/ 1/ ,/ W/ 和/ V/ 位为/ 0/ ,/ 也/ 表明/ 运算/ 结果/ 是/ 水平/ 偏振光/ ,/ 故/ 实验/ 结果/ 与/ 理论/ 结论/ 一致/ ,/ 于是/ 得到/ 成功/ 的/ 手势/ ./ 图/ 6/ 是/ 针对/ “/ X1X2X3X4/ ”/ 型/ 运算器/ 测试/ 的/ 实验/ 结果/ 之一/ ,/ 构成/ 该/ 运算器/ 的/ 基元/ 分别/ 是/ :/ HV/ 分区/ 中/ 重构/ 码为/ 4cH/ 的/ 基元/ 、/ HH/ 分区/ 中/ 重构/ 码为/ 0bH/ 的/ 基元/ 、/ VV/ 分区/ 中/ 重构/ 码为/ d5H/ 的/ 基元/ 、/ VH/ 分区/ 中/ 重构/ 码为/ 90H/ 的/ 基元/ ./ 当前/ 实验/ 步骤/ 是/ 第/ ④/ 步/ ,/ 根据/ 基元/ 说明/ 页/ 的/ 理论/ 预测/ ,/ 输出/ (/ C/ )/ 为/ 垂直/ 偏振光/ ,/ 从主光路/ 光学/ 模块/ 上/ 很/ 容易/ 看到/ VV/ 分区/ 中有/ 亮点/ ,/ 其他/ 3/ 个/ 分区/ 均/ 无亮点/ ,/ 即/ 目测/ 运算/ 结果/ 为/ 垂直/ 偏振光/ ,/ 实验/ 箱上/ 运算/ 结果/ 输出/ 数码管/ 的/ V/ 位为/ 1/ ,/ W/ 和/ H/ 位为/ 0/ ,/ 也/ 表明/ 运算/ 结果/ 是/ 垂直/ 偏振光/ ,/ 故/ 实验/ 结果/ 与/ 理论/ 结论/ 一致/ ,/ 于是/ 得到/ 成功/ 的/ 手势/ ./ 对/ 50/ 个/ 实验/ 用例/ 各/ 进行/ 9/ 步/ 实验/ 操作/ ,/ 得到/ 450/ 张/ 实验/ 结果/ 记录/ 照片/ ,/ 实验/ 结果/ 全部/ 与/ 理论/ 预测/ 一致/ ,/ 证明/ 了/ 可/ 重构/ 三值/ 光学/ 处理器/ 重构/ 理论/ 的/ 正确性/ 和/ 重构/ 电路/ 的/ 有效性/ ./ 7/ 结束语/ 本文/ 给出/ 了/ 基于/ FPGA/ 芯片/ 的/ 三值/ 光学/ 处理器/ 重构/ 电路/ 具体/ 设计/ ,/ 成功/ 研制/ 了/ 一个/ 像素/ 位/ 的/ 可/ 重构/ 三值/ 光学/ 处理器/ ,/ 在/ 其/ 上/ 通过/ 50/ 个/ 实验/ 用例/ ,/ 对/ 全部/ 42/ 个/ 基元/ 和/ 28/ 个/ 代表性/ 逻辑/ 运算器/ 进行/ 了/ 实验/ 研究/ ./ 实验/ 结果/ 证明/ 了/ 可/ 重构/ 三值/ 光学/ 处理器/ 理论/ 的/ 正确性/ 和/ 重构/ 电路/ 的/ 有效性/ ./ 本文/ 所述/ 实验/ 系统/ 亦/ 是/ 降值/ 设计/ 理论/ 的/ 全面/ 实践/ ,/ 以本/ 实验/ 为/ 基础/ 的/ 1024/ 位/ 可/ 重构/ 三值/ 光学/ 处理器/ 样品/ 已于/ 2012/ 年/ 10/ 月/ 建成/ ,/ 而/ 以此/ 样品/ 为/ 蓝本/ 构建/ 的/ 千位/ 三值/ 光学/ 计算机/ 应用/ 研究/ 系统/ —/ —/ —/ SD11/ 已/ 进入/ 装配/ 阶段/ ./ 

