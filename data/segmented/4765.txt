Page1/ 一种/ 基于/ 自/ 适应/ 结构/ 概要/ 的/ 有/ 向/ 标签/ 图子/ 图/ 匹配/ 查询/ 算法/ 张海威/ 1/ )/ ,/ 2/ )/ 解晓芳/ 1/ )/ 段媛媛/ 1/ )/ 温延龙/ 1/ )/ ,/ 2/ )/ 张莹/ 1/ )/ ,/ 2/ )/ 袁晓洁/ 1/ )/ ,/ 2/ )/ 1/ )/ (/ 南开大学/ 计算机/ 与/ 控制/ 工程学院/ 天津/ 300071/ )/ 2/ )/ (/ 南开大学/ 软件/ 学院/ 天津/ 300071/ )/ 摘要/ 有/ 向/ 标签/ 图/ 作为/ 重要/ 的/ 数据表示/ 模型/ ,/ 广泛应用/ 于/ 社交/ 网络/ 、/ 语义/ 网/ 分析/ 等/ 信息技术/ 相关/ 的/ 研究/ 领域/ ,/ 子图/ 匹配/ 查询/ 是/ 图/ 数据管理/ 的/ 重要/ 研究/ 问题/ ,/ 引起/ 了/ 研究者/ 的/ 广泛/ 关注/ ./ 有/ 向/ 标签/ 图/ 的/ 子/ 图同构/ 和子/ 图/ 模拟/ 匹配/ 查询/ 由于/ 代价/ 极高/ ,/ 不适/ 用于/ 大规模/ 图/ 数据/ 的/ 查询处理/ ./ 本文/ 针对/ 有/ 向/ 标签/ 图/ ,/ 研究/ 基于/ 自/ 适应/ 结构/ 概要/ 的/ 子/ 图/ 匹配/ 查询/ 算法/ ./ 首先/ 基于/ 图/ 压缩/ 的/ 思想/ ,/ 提出/ 一种/ 满足/ 顶点/ “/ 局部/ 双拟/ ”/ 关系/ 且/ 具有/ 自/ 适应/ 更新/ 特性/ 的/ 有/ 向/ 标签/ 图/ 结构/ 概要/ 模型/ ,/ 在/ 缩小/ 数据/ 图/ 规模/ 的/ 基础/ 上/ ,/ 适应/ 查询/ 图/ 的/ 结构/ ;/ 然后/ 采用/ 图/ 模拟/ 方式/ ,/ 提出/ 基于/ 自/ 适应/ 结构/ 概要/ 模型/ 的/ 子/ 图/ 匹配/ 查询/ 算法/ ,/ 根据/ 查询/ 图/ 顶点/ 的/ 标签/ ,/ 对/ 与其/ 匹配/ 的/ 结构/ 概要/ 顶点/ 按照/ 其中/ 包含/ 数据/ 图/ 顶点/ 的/ 数量/ 由小到大/ 排序/ ,/ 根据/ 查询/ 图/ 顶点/ 之间/ 的/ rank/ 差值/ 在/ 结构/ 概要/ 模型/ 中/ 实现/ 顶点/ 匹配/ ;/ 最后/ 在/ 真实/ 数据/ 集/ 和/ 模拟/ 数据/ 集上/ 进行/ 实验/ ,/ 结果表明/ :/ (/ 1/ )/ 自/ 适应/ 结构/ 概要/ 模型/ 可/ 根据/ 查询/ 图/ 结构/ ,/ 实现/ 对/ 数据/ 图/ 的/ 最大/ 压缩/ ;/ (/ 2/ )/ 可/ 在/ O/ (/ |/ E/ |/ log/ |/ V/ |/ )/ 的/ 总体/ 时间/ 复杂度/ 内/ 实现/ 结构/ 概要/ 的/ 自/ 适应/ 更新/ 以及/ 基于/ 图/ 模拟/ 方式/ 的/ 子/ 图/ 匹配/ 查询/ ./ 关键词/ 有/ 向/ 标签/ 图/ ;/ 局部/ 双拟/ ;/ 结构/ 概要/ ;/ 自/ 适应/ 更新/ ;/ 子图/ 匹配/ 查询/ 1/ 引言/ 图是/ 一类/ 重要/ 的/ 数据结构/ ,/ 广泛应用/ 于/ 描述/ 社交/ 网络/ 、/ 语义/ 网等/ 数据模型/ ./ 目前/ ,/ 随着/ 互联网/ 技术/ 的/ 发展/ 和/ 普及/ ,/ 上述/ 领域/ 的/ 数据/ 规模/ 呈/ 爆炸式/ 增长/ 的/ 趋势/ ,/ 如何/ 高效/ 管理/ 大规模/ 图/ 数据/ ,/ 成为/ 了/ 数据管理/ 领域/ 的/ 热点/ 研究/ 问题/ ,/ 其中/ ,/ 子图/ 匹配/ 查询/ 问题/ ,/ 由于/ 其/ 应用/ 的/ 广泛性/ 而/ 备受/ 关注/ [/ 1/ ]/ ./ 本文/ 研究/ 的/ 有/ 向/ 标签/ 图/ G/ ,/ 可以/ 定义/ 为/ 三元组/ G/ =/ (/ V/ ,/ E/ ,/ L/ )/ ,/ 其中/ :/ (/ 1/ )/ V/ 是/ 顶点/ 集合/ ;/ (/ 2/ )/ E/ / V/ ×/ V/ 为边/ 集合/ ,/ (/ v/ ,/ u/ )/ ∈/ E/ 表示/ 从/ 顶点/ v/ 到/ 顶点/ u/ 的/ 一条/ 有/ 向/ 边/ ;/ (/ 3/ )/ L/ 为/ 顶点/ 标签/ 函数/ ,/ L/ (/ v/ )/ 则/ 表示/ 顶点/ v/ 的/ 标签/ ./ 本文/ 提出/ 的/ 子/ 图/ 匹配/ 查询/ 的/ 相关/ 方法/ ,/ 亦可/ 通过/ 简单/ 修改/ 用于/ 边/ 带有/ 标签/ 的/ 有向图/ ./ 有/ 向/ 标签/ 图是/ 描述/ 社交/ 网络/ 、/ 互联网/ 页面/ 链接/ 结构/ 、/ 语义/ 网等/ 复杂/ 数据/ 最/ 基本/ 的/ 表示/ 模型/ 并/ 得到/ 了/ 广泛/ 的/ 应用/ ./ 有/ 向/ 标签/ 图/ G/ (/ 后文/ 亦/ 称为/ 数据/ 图/ )/ 的/ 子/ 图/ 匹配/ 查询/ 问题/ ,/ 通常/ 是/ 指/ 给定/ 查询/ 图/ Gq/ ,/ 在/ G/ 中/ 查找/ 与/ Gq/ 结构/ 相同/ 或/ 相近/ 的/ 子/ 图/ ./ 子图/ 匹配/ 查询/ 通常/ 应用/ 于/ 社交/ 网络/ 、/ 生物/ 信息/ 等/ 领域/ ,/ 如/ 社团/ 查询/ 、/ 蛋白质/ 结构/ 查询/ 分析/ 等/ 问题/ ,/ 通常/ 可以/ 使用/ 子图/ 匹配/ 的/ 相关/ 方法/ 予以/ 解决/ [/ 2/ ]/ ./ 目前/ ,/ 子图/ 匹配/ 查询方法/ 主要/ 分为/ 3/ 类/ :/ 同构/ 匹配/ (/ IsomorphismMatching/ )/ [/ 3/ -/ 4/ ]/ 、/ 近似/ 匹配/ (/ Approx/ -/ imationMatching/ )/ [/ 5/ -/ 13/ ]/ 和/ 模拟/ 匹配/ (/ SimulationMatching/ )/ [/ 14/ -/ 20/ ]/ ./ 同构/ 匹配/ 是/ 指/ 在/ 数据/ 图中/ ,/ 找到/ 与/ 查询/ 图/ 结构/ 完全一致/ 的/ 子/ 图/ 集合/ ,/ 该/ 过程/ 已/ 被/ 证明/ 是/ NP/ 完全/ 问题/ [/ 21/ ]/ ;/ 近似/ 匹配/ 是/ 相对/ 于/ 基于/ 同构/ 的/ 精确/ 匹配/ 而/ 提出/ 的/ 降低/ 匹配/ 条件/ 的/ 查询/ ,/ 通常/ 将/ 图/ 模型/ 转换/ 为/ 查询/ 代价/ 较/ 低/ 的/ 其它/ 模型/ ,/ 并/ 利用/ 专用/ 的/ 查询/ 算法/ 实现/ 查询/ ,/ 而后/ 再/ 将/ 查询/ 结果/ 进一步/ 构建/ 为/ 与/ 查询/ 图/ 匹配/ 的/ 子/ 图/ ,/ 查询/ 过程/ 一般/ 可/ 在/ 较/ 低/ 的/ 时间/ 复杂度/ 内/ 完成/ ;/ 模拟/ 匹配/ 是/ 将子/ 图/ 匹配/ 查询/ 问题/ 模拟/ 为/ 顶点/ 之间/ 匹配/ 关系/ 的/ 查询/ 问题/ ,/ 该/ 过程/ 的/ 时间/ 复杂度/ 为/ 多项式/ 级/ ,/ 但/ 由于/ 模拟/ 匹配/ 的/ 结果/ 集/ 一般/ 无需/ 还原/ 为/ 匹配/ 子图/ ,/ 匹配/ 结果/ 通常/ 与/ 查询/ 图/ 在/ 结构/ 方面/ 差异/ 较大/ ./ 上述/ 3/ 类子/ 图/ 匹配/ 查询方法/ ,/ 在/ 处理/ 大规模/ 数据/ 图/ 的/ 子/ 图/ 匹配/ 查询/ 时/ ,/ 都/ 会/ 遇到/ 效率/ 瓶颈/ ./ 为了/ 提高/ 大规模/ 数据/ 图/ 的/ 子/ 图/ 匹配/ 查询/ 效率/ ,/ 研究者/ 主要/ 采用/ 3/ 类/ 方法/ :/ (/ 1/ )/ 引入/ 索引/ ,/ 提高/ 数据/ 访问/ 效率/ ./ 为/ 数据/ 图/ 构建/ 索引/ 是/ 加速/ 查询/ 的/ 重要/ 手段/ 之一/ ./ 文献/ [/ 22/ ]/ 对图/ 索引/ 进行/ 了/ 分类/ :/ 基于/ 邻接/ 顶点/ 的/ 索引/ ,/ 边/ 索引/ ,/ 路径/ 索引/ 以及/ 频繁/ 子结构/ 索引/ ./ 然而/ ,/ 构建/ 以上/ 几类/ 索引/ 的/ 时间/ 复杂度/ 极高/ ,/ 至多/ 可/ 达到/ O/ (/ |/ V/ |/ 4/ )/ 级别/ ,/ 空间/ 复杂度/ 通常/ 也/ 会/ 超出/ 内存/ 的/ 限制/ ./ 文献/ [/ 23/ ]/ 构建/ 了/ 图/ 数据/ 索引/ 框架/ iGraph/ ,/ 在/ 图集/ 数据库/ 中/ 实现/ 了/ 常见/ 的/ 图/ 索引/ ./ (/ 2/ )/ 压缩/ 数据/ 图/ ,/ 减少/ 查询/ 对象/ 的/ 规模/ ./ 图/ 压缩/ 技术/ 一般/ 可/ 用于/ 图/ 模型/ 计算/ 、/ Web/ 和/ 社交/ 网络/ 信息检索/ 与/ 挖掘/ 、/ 图/ 数据/ 查询/ 等/ 问题/ [/ 24/ ]/ ./ 文献/ [/ 25/ ]/ 提出/ 了/ 一种/ 面向/ 子图/ 匹配/ 查询/ 的/ 压缩/ 图/ 模式/ ,/ 能够/ 覆盖/ 全部/ 可能/ 的/ 子/ 图/ 匹配/ 查询/ ,/ 但/ 由于/ 不/ 具有/ 查询/ 自适应性/ 导致/ 压缩/ 图/ 的/ 规模/ 较之/ 数据/ 图/ 没有/ 显著/ 的/ 降低/ ;/ 基于/ 图/ 压缩/ 技术/ ,/ 文献/ [/ 8/ ]/ 提出/ 数据/ 图/ 的/ 本体/ 索引/ ,/ 引入/ 了/ 本体/ 库/ 导致/ 数据/ 预处理/ 的/ 过程/ 更加/ 复杂/ ./ (/ 3/ )/ 将/ 图/ 数据/ 映射/ 为/ 可/ 在/ 线性/ 时间/ 复杂度/ 内/ 实现/ 数据/ 查询/ 的/ 模型/ ,/ 如/ 关系/ 模型/ [/ 6/ ]/ 、/ XML/ 模型/ [/ 11/ ]/ 、/ 邻接/ 点/ 模型/ [/ 7/ ,/ 9/ ]/ ,/ 而后/ 再/ 将/ 查询/ 结果/ 还原/ 为子/ 图/ 集合/ ./ 基于/ 模式/ 映射/ 的/ 方法/ ,/ 在/ 数据处理/ 时/ ,/ 需要/ 将/ 图/ 模型/ 转换/ 为/ 其它/ 数据模型/ ,/ 数据/ 预处理/ 比较/ 困难/ ,/ 而且/ 查询/ 时/ 涉及/ 到/ 大量/ 的/ 数据/ 连接/ 操作/ ./ 综上所述/ ,/ 目前/ 关于/ 子图/ 匹配/ 查询/ 的/ 方法/ ,/ 主要/ Page3/ 存在/ 如下/ 问题/ :/ (/ 1/ )/ 同构/ 匹配/ 查询/ 方式/ 由于/ 其/ 固有/ 的/ 复杂度/ 因而/ 不适/ 用于/ 对/ 大规模/ 图/ 数据/ 进行/ 子图/ 匹配/ 查询/ ;/ (/ 2/ )/ 近似/ 匹配/ 查询/ 可以/ 通过/ 放宽/ 匹配/ 条件/ ,/ 用/ 较/ 低/ 的/ 时间/ 代价/ 实现/ 匹配/ 查询/ ,/ 但是/ 通常/ 需要/ 将/ 图/ 数据/ 转换/ 为/ 其它/ 模型/ ,/ 数据/ 预处理/ 以及/ 结果/ 集/ 连接/ 的/ 代价/ 很/ 高/ ;/ (/ 3/ )/ 模拟/ 匹配/ 查询/ 方式/ 将子/ 图/ 匹配/ 问题/ 转换/ 为/ 求取/ 查询/ 图/ 顶点/ 集/ 与/ 数据/ 图/ 顶点/ 集/ 之间/ 的/ 二元关系/ 问题/ ./ 图/ 模拟/ [/ 26/ ]/ 忽略/ 了/ 子/ 图/ 在/ 边/ 匹配/ 方面/ 的/ 问题/ ,/ 通过/ 该/ 方法/ 匹配/ 的/ 子/ 图/ 在/ 结构/ 方面/ ,/ 通常/ 与/ 查询/ 图/ 差异/ 较大/ ;/ 边界/ 模拟/ [/ 19/ ]/ 和/ 强/ 模拟/ [/ 18/ ]/ 分别/ 通过/ 增加/ 边界/ 约束条件/ 以及/ 限制/ 查询/ 范围/ ,/ 提高/ 模拟/ 匹配/ 在/ 结构/ 方面/ 的/ 准确度/ ,/ 但是/ 子图/ 匹配/ 查询/ 的/ 整体/ 代价/ 达到/ 了/ O/ (/ |/ V/ |/ 3/ )/ ,/ 同样/ 不适/ 用于/ 大规模/ 图/ 数据/ 查询/ ./ 本文/ 将/ 针对/ 有/ 向/ 标签/ 图/ 的/ 子/ 图/ 匹配/ 查询/ 问题/ 展开/ 研究/ ,/ 提出/ 一种/ 基于/ 自/ 适应/ 结构/ 概要/ 的/ 子/ 图/ 匹配/ 查询/ 算法/ ,/ 无需/ 高/ 代价/ 的/ 数据/ 预处理/ 过程/ 和/ 查询/ 结果/ 连接/ 过程/ ,/ 兼顾/ 查询/ 匹配/ 的/ 效率/ 与/ 查询/ 子图/ 结构/ 的/ 相似性/ ,/ 论文/ 的/ 主要/ 贡献/ 包括/ :/ (/ 1/ )/ 基于/ 图/ 压缩/ 技术/ ,/ 提出/ 有/ 向/ 标签/ 图/ 的/ 结构/ 概要/ 模型/ ,/ 在/ 保持/ 图/ 结构/ 的/ 基础/ 上/ ,/ 实现/ 对图/ 数据/ 的/ 最大/ 程度/ 压缩/ ;/ (/ 2/ )/ 提出/ 基于/ 局部/ 双拟/ 关系/ 的/ 结构/ 概要/ 自/ 适应/ 更新/ 算法/ ,/ 使/ 结构/ 概要/ 适应/ 当前/ 的/ 查询/ 需求/ ;/ (/ 3/ )/ 提出/ 基于/ 自/ 适应/ 结构/ 概要/ 的/ 有/ 向/ 标签/ 图子/ 图/ 匹配/ 查询/ 算法/ ,/ 实现/ 对/ 查询/ 图/ 的/ 子/ 图/ 匹配/ 查询/ ./ 2/ 相关/ 工作/ 目前/ ,/ 子图/ 查询方法/ 根据/ 匹配/ 方式/ 分为/ 同构/ 查询/ 、/ 模拟/ 查询/ 和/ 近似/ 查询/ ,/ 同构/ 查询/ 被/ 认为/ 是/ NP/ 完全/ 问题/ ,/ 模拟/ 查询/ 可/ 在/ 多项式/ 级/ 时间/ 复杂度/ 内/ 实现/ [/ 25/ ]/ ,/ 而/ 近似/ 查询/ 亦/ 被/ 认为/ 是/ 类/ 同构/ 查询/ ,/ 因此/ 也/ 属于/ NP/ 完全/ 问题/ ,/ 但是/ 可以/ 通过/ 放宽/ 相似/ 条件/ 降低/ 时间/ 复杂度/ ./ 基于/ 图/ 模拟/ 的/ 子/ 图/ 匹配/ 查询/ 策略/ 的/ 主要/ 问题/ 在于/ 匹配/ 子图/ 与/ 查询/ 图/ 之间/ 的/ 结构/ 差异/ 较大/ ,/ 而且/ 此类/ 方法/ 全部/ 用于/ 有向图/ 的/ 查询处理/ ./ 英国/ 爱丁堡大学/ Fan/ 教授/ 的/ 研究/ 团队/ 长期以来/ 一直/ 致力于/ 子图/ 模拟/ 匹配/ 方法/ 的/ 研究/ ,/ 取得/ 了/ 一系列/ 丰富/ 的/ 成果/ ./ 文献/ [/ 19/ ]/ 在/ 图/ 模拟/ 的/ 原始/ 定义/ [/ 26/ ]/ 基础/ 上/ ,/ 进行/ 了/ 扩展/ ,/ 提出/ 了/ 边界/ 模拟/ 的/ 概念/ ,/ 并/ 重新/ 定义/ 了/ 带有/ 边/ 权重/ 的/ 查询/ 图/ ,/ 支持/ 满足/ 一定/ 语义/ 相似性/ 和/ 路径/ 长度/ 约束/ 的/ 子/ 图/ 匹配/ ./ 由于/ 匹配/ 条件/ 较之/ 图/ 模拟/ 更加/ 严格/ ,/ 匹配/ 代价/ 也/ 高于/ 图/ 模拟/ ./ Ma/ 等/ 人/ [/ 18/ ]/ 对/ 边界/ 模拟/ 进行/ 了/ 改进/ ,/ 提出/ 了/ “/ 强/ 模拟/ ”/ 的/ 概念/ ,/ 通过/ 设置/ 子图/ 匹配/ 半径/ ,/ 对/ 候选/ 集/ 进行/ 剪枝/ ,/ 提高/ 了/ 边界/ 模拟/ 匹配/ 的/ 效率/ 且/ 提高/ 了/ 匹配/ 子图/ 与/ 查询/ 图/ 在/ 结构/ 方面/ 的/ 相似性/ ./ Fan/ 等/ 人/ [/ 15/ ]/ 在/ 文献/ [/ 25/ ]/ 图/ 压缩/ 的/ 基础/ 上/ 提出/ 了/ 基于/ 图片/ 段/ 的/ 强/ 模拟/ 匹配/ 方法/ ./ 其/ 基本/ 思想/ 是/ 将/ 大规模/ 图/ 数据/ 转换/ 为/ 与/ 查询/ 有关/ 的/ 图片/ 段/ (/ fraction/ )/ ,/ 将/ 图/ 的/ 片段/ 作为/ 对象/ (/ boundedresource/ )/ 进行/ 子图/ 匹配/ 查询/ ./ 近几年/ ,/ 该/ 研究/ 团队/ 将/ top/ -/ k/ 策略/ 融入/ 到子/ 图/ 模拟/ 匹配/ 算法/ 的/ 研究/ 中/ ./ Fan/ 等/ 人/ [/ 16/ ]/ 将子/ 图/ 模拟/ 匹配/ 问题/ 进行/ 了/ 扩展/ 定义/ ,/ 引入/ 查询/ 图/ 的/ 特征/ 顶点/ u0/ ,/ 将子/ 图/ 匹配/ 问题/ 转换/ 为/ 特征/ 顶点/ 匹配/ ,/ 缩减/ 了/ 候选/ 集/ 的/ 规模/ ./ 在/ 匹配/ 过程/ 中/ ,/ 结合/ 顶点/ 之间/ 的/ 相似/ 度/ 和/ 相异/ 度/ ,/ 计算/ 顶点/ 匹配/ 值/ ./ 另外/ ,/ Fan/ 等/ 人/ [/ 13/ ]/ 对/ 边界/ 模拟/ 匹配/ 方法/ 进行/ 了/ 改进/ ,/ 提出/ 了/ 基于/ 视图/ (/ View/ )/ 的/ 子/ 图/ 匹配/ 查询方法/ ./ 视图/ 是/ 根据/ 不同/ 查询/ 目的/ 构建/ 的/ 图/ 数据/ 的/ 子结构/ 模式/ ,/ 当/ 查询/ 图/ 与/ 某个/ 视图/ 等价/ 时/ ,/ 可以/ 提高/ 模拟/ 匹配/ 查询/ 的/ 效率/ ./ 除了/ 子图/ 模拟/ 匹配/ 之外/ ,/ 研究者/ 在子/ 图同构/ 匹配/ 和/ 近似/ 匹配/ 查询/ 问题/ 的/ 研究/ 中/ 同样/ 取得/ 了/ 丰富/ 的/ 成果/ ,/ 尤其/ 是/ 近/ 3/ 年/ 的/ 研究/ 主要/ 集中/ 在/ top/ -/ k/ 子图/ 匹配/ 查询/ ./ 与/ 图/ 模拟/ 方式/ 不同之处/ 在于/ ,/ 近似/ 匹配/ 查询/ 保证/ 了/ 匹配/ 子图/ 与/ 查询/ 图/ 在结构上/ 的/ 相似性/ (/ 因此/ 也/ 被/ 认为/ 是/ 类/ 同构/ 查询/ )/ ./ 另外/ ,/ 为了/ 提高/ 子图/ 匹配/ 效率/ ,/ 近似/ 匹配/ 放宽/ 了/ 对于/ 子图/ 匹配/ 条件/ 的/ 限制/ ,/ 多数/ 情况/ 下/ 通过/ 模型/ 映射/ 的/ 方式/ ,/ 将/ 图/ 模型/ 转换/ 为/ 可用/ 较/ 低/ 时间/ 代价/ 实现/ 查询/ 的/ 模型/ ,/ 而后/ 利用/ 专用/ 的/ 算法/ 实现/ 查询/ ./ Zhao/ 等/ 人/ [/ 10/ ]/ 将子/ 图/ 匹配/ 转换/ 为/ 顶点/ 匹配/ ,/ 根据/ SPath/ 索引/ ,/ 将/ 查询/ 图/ 与/ 数据/ 图中/ 顶点/ 的/ k/ -/ hop/ 邻接/ 点/ 模型/ 进行/ 匹配/ ,/ 由于/ 邻接/ 点/ 模型/ 基于/ 最短/ 路径/ 构建/ ,/ 实际上/ 是/ 对/ 相关/ 顶点/ 的/ 最/ 短/ 路径/ 进行/ 匹配/ ./ Khan/ 等/ 人/ [/ 7/ ,/ 9/ ]/ 提出/ 了/ 基于/ 信息/ 传递/ 的/ 邻接/ 点/ 模型/ ,/ 以/ 邻接/ 点/ 的/ 特征/ 构建/ 相似/ 度/ 匹配/ 模型/ ,/ 计算/ 顶点/ 的/ 相似/ 度/ ,/ 以/ 顶点/ 相似/ 描述/ 子图/ 相似/ ./ Wu/ 等/ 人/ [/ 8/ ]/ 通过/ 对/ 有向图/ 数据/ 进行/ 压缩/ ,/ 构建/ 可/ 支持/ 全部/ 可能/ 子图/ 匹配/ 查询/ 的/ 本体/ 索引/ ,/ 在/ 本体/ 索引/ 的/ 基础/ 上/ 提出/ 了/ top/ -/ k/ 子图/ 匹配/ 算法/ kMatch/ ./ kMatch/ 算法/ 在/ 计算/ 匹配/ 子图/ 的/ 过程/ 中/ ,/ 利用/ 堆/ 结构/ 实现/ 匹配/ 子图/ 的/ 相似性/ 的/ 排序/ ,/ 进而/ 得到/ top/ -/ k/ 匹配/ 子图/ 集合/ ./ Gupta/ 等/ 人/ [/ 3/ ]/ 研究/ 边/ 带有/ 权重/ 的/ 图/ 数据/ 的/ 子/ 图/ 匹配/ 问题/ ,/ 分别/ 利用/ 图/ 拓扑/ 索引/ 、/ 最大/ 元/ 路径/ 权重/ 索引/ 和/ 有序/ 边/ Page4/ 列表/ ,/ 按照/ 路径/ 扩展/ 的/ 方式/ 进行/ 顶点/ 标签/ 、/ 边/ 的/ 匹配/ ,/ 实现/ 子图/ 查询/ ,/ 同时/ ,/ 估算/ 匹配/ 度/ 上界/ ,/ 在/ top/ -/ k/ 堆/ 结构/ 中/ 进行/ 剪枝/ ,/ 得到/ top/ -/ k/ 匹配/ 子图/ ./ Yang/ 等/ 人/ [/ 13/ ]/ 对子/ 图/ 匹配/ 查询/ 问题/ 进行/ 了/ 扩展/ ,/ 提出/ 了/ 无/ 模式/ 和/ 无/ 结构/ (/ schemalessandstrcutureless/ )/ 的/ 图/ 查询/ 解决方案/ SLQ/ ,/ 将/ 图/ 数据/ 查询/ 问题/ 表示/ 为/ 概率模型/ ,/ 估计/ 顶点/ 和/ 边/ 的/ 匹配/ 度/ 代价/ ,/ 并/ 通过/ 消息传递/ 机制/ 和/ 迭代/ 策略/ ,/ 实现/ top/ -/ k/ 子图/ 匹配/ ./ 该/ 方法/ 将/ 机器/ 学习/ 思想/ 融入/ 到/ 图/ 查询/ 中/ ,/ 亦可/ 支持/ 实体/ 匹配/ 查询/ 和/ 语义/ 近似/ 查询/ ./ Cheng/ 等/ 人/ [/ 6/ ]/ 将/ 数据/ 图/ 转换/ 为/ 基础/ 表/ R/ (/ A/ ,/ D/ )/ ,/ 将/ 查询/ 图/ 转换/ 为/ 基于/ t/ -/ query/ 树/ 模型/ 的/ 多维/ 查询/ 空间/ ,/ 将子/ 图/ 查询/ 问题/ 转换/ 为/ 基于/ R/ (/ A/ ,/ D/ )/ 表/ 的/ 结构/ 连接/ 查询/ ,/ 然后/ 利用/ 小枝/ 模式匹配/ 的/ 思想/ 处理/ 树/ 模型/ 的/ 查询/ ,/ 匹配/ 过程中将/ top/ -/ k/ 函数/ 融入/ 基础/ 表/ 的/ 连接/ 查询/ 过程/ ./ Zou/ 等/ 人/ [/ 12/ ]/ 提出/ 了/ 一种/ 基于/ 距离/ 连接/ 的/ 子/ 图/ 匹配/ 查询方法/ ,/ 将子/ 图/ 匹配/ 查询/ 转换/ 为/ “/ 边/ ”/ 的/ 查询/ ,/ 利用/ 顶点/ 之间/ 的/ 距离/ 与/ 边/ 进行/ 匹配/ ,/ 同时/ ,/ 利用/ 连接/ 代价/ 估计/ ,/ 对/ 查询/ 过程/ 进行/ 相关/ 优化/ ,/ 得到/ 与/ 查询/ 图/ 匹配/ 的/ 全部/ 子图/ 集合/ ./ 文献/ [/ 24/ ]/ 将/ 目前/ 的/ 图/ 压缩/ 技术/ 归纳/ 为/ 4/ 类/ :/ 一是/ 根据/ 数据/ 图/ 的/ 邻接矩阵/ 或/ 邻接/ 表等/ 存储/ 结构/ 的/ 特征/ 进行/ 压缩/ 的/ 技术/ [/ 27/ ]/ ,/ 主要/ 应用/ 于/ 查询/ 邻接/ 点/ 等/ 简单/ 的/ 图/ 计算/ ;/ 二是/ 针对/ 表示/ 互联网/ 结构/ 的/ 图/ 数据/ ,/ 基于/ 网页/ 特征/ ,/ 采用/ 合并/ 相似/ 项/ 的/ 方式/ 进行/ 压缩/ 的/ 技术/ [/ 28/ ]/ ,/ 主要/ 应用/ 于/ Web/ 搜索/ 与/ 挖掘/ ;/ 三是/ 针对/ 社交/ 网络图/ 数据/ ,/ 基于/ 节点/ 特征/ 选取/ 、/ 计算/ 、/ 排序/ 的/ 策略/ 进行/ 压缩/ 的/ 技术/ [/ 29/ ]/ ,/ 主要/ 应用/ 于/ 社交/ 网络/ 信息/ 搜索/ ;/ 四是/ 针对/ 特定/ 的/ 查询/ 需求/ ,/ 如/ 内外/ 邻/ 查询/ [/ 30/ ]/ 、/ 可/ 达/ 查询/ [/ 25/ ]/ 、/ 子图/ 匹配/ 查询/ [/ 25/ ]/ 、/ 特定/ 结构/ 查询/ 等/ 的/ 压缩/ 技术/ [/ 31/ ]/ ./ Fan/ 等/ 人/ [/ 25/ ]/ 针对/ 图/ 的/ 可达/ 查询/ 和/ 模拟/ 查询/ 提出/ 了/ 保持/ 查询/ 结构/ 的/ 图/ 压缩/ 方法/ ,/ 其/ 基本/ 思想/ 是/ 将/ 数据/ 图/ 的/ 全部/ 顶点/ ,/ 按照/ 双拟/ 关系/ 合并/ 为/ 压缩/ 图/ 的/ 一个/ 顶点/ ,/ 从而/ 在/ 保持/ 图/ 结构/ 的/ 前提/ 下/ ,/ 减少/ 数据/ 图/ 的/ 规模/ ,/ 同时/ 保证/ 可/ 达/ 查询/ 和/ 图/ 模拟/ 查询/ 的/ 正确性/ ./ 关于/ 图/ 数据/ 的/ 自/ 适应/ 结构/ 概要/ ,/ 目前/ 的/ 研究成果/ 主要/ 应用/ 于/ XML/ 数据/ 查询/ ./ Chung/ 等/ 人/ [/ 32/ ]/ 为/ 半/ 结构化/ 数据/ XML/ 设计/ 能够/ 随着/ 查询/ 负载/ 进行/ 自/ 适应/ 维护/ 的/ 路径/ 索引/ 模型/ APEX/ ,/ 首次/ 提出/ 了/ 自/ 适应/ 索引/ (/ AdaptiveIndex/ )/ 的/ 概念/ ./ Chen/ 等/ 人/ [/ 33/ ]/ 引入/ APEX/ 索引/ 的/ 思想/ ,/ 提出/ 了/ 自/ 适应/ 结构/ 概要/ D/ (/ k/ )/ -/ Index/ ,/ 为/ 每个/ XML/ 节点/ 建立/ 路径/ 长度/ 不/ 大于/ k/ 的/ 路径/ 索引/ ,/ 能够/ 根据/ 查询/ 负载/ 的/ 变化/ 进行/ 相应/ 的/ 更新/ ./ 自/ 适应/ 结构/ 概要/ 只/ 能够/ 对/ 带有/ 根/ 节点/ 的/ 数据/ 进行/ 路径/ 查询/ ,/ 无法/ 直接/ 应用/ 于/ 一般/ 图/ 数据/ 查询/ ./ 但是/ ,/ 自/ 适应/ 结构/ 概要/ 的/ 提出/ ,/ 在/ 压缩/ 查询/ 对象/ 规模/ 并/ 实现/ 高效/ 查询处理/ 方面/ ,/ 具有/ 重要/ 的/ 理论/ 价值/ ./ 本文/ 基于/ 图/ 压缩/ 技术/ ,/ 提出/ 有/ 向/ 标签/ 图/ 的/ 结构/ 概要/ 模型/ 以及/ 针对/ 不同/ 查询/ 图/ 的/ 自/ 适应/ 更新/ 算法/ 、/ 子图/ 匹配/ 查询/ 算法/ ./ 与/ 已有/ 工作/ 的/ 区别/ 在于/ 实现/ 了/ 对/ 数据/ 图/ 的/ 最大/ 程度/ 压缩/ ,/ 同时/ ,/ 结构/ 概要/ 具有/ 查询/ 自适应性/ ,/ 能够/ 以较/ 低/ 的/ 代价/ 动态/ 更新/ 以/ 满足/ 当前/ 查询/ 需要/ ,/ 并/ 能够/ 高效/ 地/ 实现/ 子图/ 匹配/ 查询/ ./ 3/ 有/ 向/ 标签/ 图/ 的/ 结构/ 概要/ 模型/ 结构/ 概要/ 是/ 重要/ 的/ 数据压缩/ 模型/ ,/ 最早/ 是/ 针对/ XML/ 数据/ 提出/ 的/ [/ 34/ ]/ ,/ 旨在/ 约简/ 描述/ XML/ 文档/ 的/ 树型/ 结构/ ./ XML/ 的/ 结构/ 概要/ 也/ 是/ 树型/ 结构/ ,/ 其中/ 不/ 存在/ 路径/ 相同/ 且/ 标签/ 相同/ 的/ 顶点/ ./ 图/ 结构/ 较之/ XML/ 文档/ 树型/ 结构/ 更为/ 复杂/ ,/ 而且/ 没有/ 与/ 之/ 匹配/ 的/ 数据/ 模式/ ,/ 因此/ 构建/ 图/ 的/ 结构/ 概要/ 非常/ 困难/ ./ 论文/ 将/ 基于/ 图/ 压缩/ 技术/ ,/ 研究/ 有/ 向/ 标签/ 图/ 的/ 结构/ 概要/ 模型/ 的/ 构建/ 以及/ 自/ 适应/ 更新/ 问题/ ,/ 进而/ 研究/ 基于/ 自/ 适应/ 结构/ 概要/ 的/ 子/ 图/ 匹配/ 查询/ 算法/ ./ 本节/ 将/ 利用/ 顶点/ 等价/ 类/ 的/ 概念/ 进行/ 图/ 顶点/ 的/ 划分/ ,/ 而后/ 提出/ 有/ 向/ 标签/ 图/ 的/ 结构/ 概要/ 模型/ 构建/ 算法/ 并/ 进行/ 相应/ 的/ 分析/ ./ 3.1/ 图/ 顶点/ 等价/ 类/ 的/ 粗糙/ 划分/ 构建/ 结构/ 概要/ 模型/ 的/ 基本/ 思想/ 是/ 根据/ 等价关系/ 对/ 数据/ 图/ 顶点/ 进行/ 划分/ ,/ 判断/ 数据/ 图/ 顶点/ 是否/ 等价/ 的/ 依据/ 是/ 顶点/ 的/ 标签/ 与/ 结构特征/ ./ 显然/ ,/ 描述/ 顶点/ 的/ 结构特征/ 并/ 由此/ 判定/ 顶点/ 等价/ 较之/ 标签/ 更加/ 困难/ ./ 与/ XML/ 树形/ 结构/ 相比/ ,/ 图/ 结构/ 更为/ 复杂/ ,/ 因此/ 无法/ 借助/ 顶点/ 编码/ 等/ 自顶向下/ 的/ 策略/ 描述/ 图/ 顶点/ 的/ 结构特征/ ,/ 针对/ 本文/ 研究/ 的/ 有/ 向/ 标签/ 图/ ,/ 可/ 采用/ 自/ 底向上/ 的/ 策略/ ,/ 从/ 数据/ 图/ 的/ 叶/ 节点/ ,/ 逐层/ 向上/ 计算/ 顶点/ 的/ 结构特征/ ./ 采用/ 这种/ 策略/ ,/ 需要/ 保证数据/ 图是/ 具有/ 叶/ 节点/ 的/ 无/ 环图/ ,/ 但是/ ,/ 描述/ 社交/ 网络/ 、/ 网页/ 链接/ 等/ 真实/ 数据/ 的/ 有向图/ ,/ 通常/ 是/ 循环/ 图/ ,/ 因此/ ,/ 当/ 处理/ 对象/ 为/ 有/ 向/ 循环/ 图时/ ,/ 需要/ 利用/ 强/ 连通/ 分量/ 将/ 其/ 转换/ 为/ 无/ 环图/ ./ 将/ 有/ 向/ 循环/ 图/ 转换/ 为/ 无/ 环图/ 的/ 方法/ 为/ :/ 给定/ 一个/ 有/ 向/ 循环/ 标签/ 图/ G/ =/ (/ V/ ,/ E/ ,/ L/ )/ 及/ G/ 的/ 强/ 连通/ 分量/ 集合/ C/ =/ {/ c1/ ,/ c2/ ,/ …/ ,/ cm/ }/ ,/ 用/ 函数/ c/ (/ v/ )/ =/ ci/ 描述/ 顶点/ v/ 属于/ 某个/ 强/ 连通/ 分量/ ci/ ,/ 可/ 将/ G/ 转换/ 为/ 有/ 向/ 无环/ 标签/ 图/ Gscc/ =/ (/ Vscc/ ,/ Escc/ ,/ Lscc/ )/ ,/ 其中/ :/ (/ 1/ )/ Vscc/ 是/ 顶点/ 的/ 集合/ ,/ 满足/ :/ Page5/ 即/ Vscc/ 中/ 的/ 顶点/ ,/ 或者/ 来自/ 于/ V/ 中/ 不/ 属于/ 任何/ 强/ 连通/ 分量/ 的/ 顶点/ ,/ 或者/ 来自/ 于强/ 连通/ 分量/ 中/ 的/ 顶点/ 合并/ 而成/ 的/ 新/ 顶点/ ./ (/ 2/ )/ Escc/ 是/ 边/ 的/ 集合/ ,/ 满足/ :/ 不是/ ;/ 即/ Escc/ 中/ 的/ 边/ ,/ 其/ 顶点/ v1/ ,/ v2/ 满足/ 如下/ 条件/ 之一/ :/ ①/ v1/ ,/ v2/ 都/ 不是/ 强/ 连通/ 分量/ 中/ 的/ 顶点/ ;/ ②/ v1/ ,/ v2/ 有/ 一个/ 是/ 强/ 连通/ 分量/ 中/ 的/ 顶点/ ,/ 另/ 一个/ ③/ v1/ ,/ v2/ 属于/ 不同/ 的/ 强/ 连通/ 分量/ ./ (/ 3/ )/ Lscc/ 是/ 顶点/ 标签/ 的/ 集合/ ,/ 对于/ Gscc/ 中/ 由/ G/ 的/ 强/ 连通/ 分量/ 构成/ 的/ 顶点/ ,/ 其/ 标签/ 值为/ 特殊/ 的/ 标记/ “/ Ψ/ ”/ ./ 由/ 上述/ 分析/ 可知/ ,/ 一个/ 有/ 向/ 无环/ 标签/ 图/ ,/ 其/ 相应/ 的/ Gscc/ 即/ 为/ 该/ 图/ 本身/ ./ 本文/ 采用/ Tarjan/ 算法/ [/ 35/ ]/ ,/ 经/ 一次/ 遍历/ 即可/ 求得/ 数据/ 图/ 的/ Gscc/ ./ Gscc/ 即为/ 适用/ 于/ 本文/ 所述/ 相关/ 方法/ 的/ 有/ 向/ 无/ 环图/ ./ 而后/ ,/ 根据/ Gscc/ 顶点/ 的/ 可达子/ 图/ ,/ 计算/ 顶点/ 的/ 结构特征/ rank/ ,/ 作为/ 划分/ 顶点/ 等价/ 类/ 的/ 重要依据/ ./ 给定/ 一个/ 有/ 向/ 标签/ 图/ G/ =/ (/ V/ ,/ E/ ,/ L/ )/ ,/ 对于/ 某个/ 顶点/ v/ ∈/ V/ ,/ 其可达子/ 图/ gv/ =/ (/ N/ (/ v/ )/ ,/ E/ ,/ L/ (/ v/ )/ )/ 表示/ 包括/ v/ 在内/ ,/ 从/ v/ 出发/ 所有/ 的/ 可达/ 顶点/ 构成/ 的/ G/ 的/ 子/ 图/ ./ 若/ 该子/ 图无环/ ,/ 则/ 顶点/ v/ 属于/ 良构/ 顶点/ 集合/ WF/ (/ G/ )/ ,/ 即/ WF/ (/ G/ )/ =/ {/ v/ |/ v/ ∈/ V/ ,/ gv/ 无环/ }/ ./ 无环图/ Gscc/ 保证/ 了/ 其中/ 每/ 一个/ 非叶/ 节点/ 顶点/ 可以/ 用/ 其/ 与/ 叶/ 节点/ 之间/ 的/ 距离/ 值/ rank/ 来/ 描述/ 其/ 结构特征/ ,/ 由于/ 非叶/ 节点/ 到达/ 叶/ 节点/ 的/ 路径/ 不/ 唯一/ ,/ 因此/ ,/ 计算/ rank/ 值/ 的/ 过程/ 较/ 复杂/ ,/ 可/ 借鉴/ 文献/ [/ 16/ ]/ 中/ 的/ 方法/ 进行/ rank/ 值/ 的/ 计算/ :/ 如果/ v/ 是/ G/ 的/ 叶/ 节点/ 则/ rank/ (/ v/ )/ =/ 0/ ;/ 如果/ v/ 不是/ G/ 的/ 叶/ 节点/ 但/ c/ (/ v/ )/ 是/ Gscc/ 的/ 叶/ 节点/ 则/ :/ rank/ (/ v/ )/ =/ -/ ,/ 否则/ :/ rank/ (/ v/ )/ =/ max/ {/ (/ 1/ +/ rank/ (/ v/ )/ )/ |/ (/ c/ (/ v/ )/ ,/ c/ (/ v/ )/ )/ ∈/ Escc/ }/ ./ 通过/ 顶点/ 的/ 标签/ 以及/ rank/ 值/ ,/ 可以/ 定义数据/ 图/ 顶点/ 的/ 等价/ 类/ ./ 定义/ 1/ ./ 顶点/ 等价/ 类/ ./ 顶点/ 等价/ 类/ 是/ 指/ 数据/ 图中/ ,/ 具有/ 相同/ 标签/ 和/ 由/ 上述/ 定义/ ,/ 可/ 将/ 有/ 向/ 标签/ 图/ G/ 中/ 的/ 顶点/ 集合/ rank/ 值/ 的/ 顶点/ 集合/ ./ V/ 表示/ 为/ 若干/ 等价/ 类/ 的/ 集合/ :/ 其中/ ,/ 属于/ 同一个/ 等价/ 类/ Pi/ 的/ 任意/ 两个/ 顶点/ v/ 和/ u/ 之间/ 满足/ :/ (/ 1/ )/ L/ (/ v/ )/ =/ L/ (/ u/ )/ ;/ (/ 2/ )/ rank/ (/ v/ )/ =/ rank/ (/ u/ )/ ./ 根据/ 该/ 条件/ ,/ 可/ 对/ 数据/ 图/ 进行/ 粗糙/ 的/ 等价/ 类/ 划分/ ./ 上述/ 顶点/ 等价/ 类/ 的/ 定义/ 以及/ 划分/ 方法/ ,/ 是/ 最/ 基本/ 的/ 等价/ 类/ 划分/ 方法/ ,/ 也/ 是/ 表示/ 顶点/ 的/ 标签/ 和/ 结构特征/ 的/ 基本/ 方法/ ,/ 旨在/ 实现/ 对/ 数据/ 图/ 的/ 最大/ 程度/ 压缩/ ./ 不同/ 的/ 等价/ 类/ 定义方法/ ,/ 会/ 使/ 划分/ 类别/ 发生变化/ ,/ 必要/ 的/ 情况/ 下/ ,/ 可以/ 根据/ 不同/ 的/ 查询/ 目标/ 制定/ 顶点/ 划分/ 的/ 条件/ ,/ 实现/ 不同/ 策略/ 的/ 划分/ ./ 图/ 1/ 给出/ 了/ 图/ 顶点/ 等价/ 类/ 的/ 划分/ 示例/ :/ 根据/ rank/ 值/ 的/ 计算方法/ ,/ 可/ 得到/ :/ rank/ (/ C1/ )/ =/ rank/ (/ C2/ )/ =/ rank/ (/ C3/ )/ =/ 0/ ,/ 因此/ 顶点/ C1/ ,/ C2/ ,/ C3/ 被/ 划分/ 为/ 一个/ 等价/ 类/ ;/ 同理/ ,/ rank/ (/ A1/ )/ =/ rank/ (/ A2/ )/ =/ rank/ (/ A3/ )/ =/ 2/ ,/ 顶点/ A1/ ,/ A2/ ,/ A3/ 也/ 被/ 划分/ 为/ 同一/ 等价/ 类/ ./ 算法/ 1/ 展示/ 了/ 划分/ 顶点/ 等价/ 类/ 的/ 具体/ 过程/ :/ 首先/ 利用/ Tarjan/ 算法/ (/ 步/ 1/ )/ 进行/ 一次/ 深度/ 优先/ 遍历/ (/ DFS/ )/ ,/ 计算/ 出/ 所有/ 强/ 连通/ 分量/ ;/ 接着/ 再/ 进行/ 一次/ DFS/ ,/ 根据/ Gscc/ 计算/ 出/ 各/ 顶点/ 的/ rank/ 值/ (/ 步/ 2/ ~/ 步/ 5/ )/ ;/ 最后/ 根据/ 顶点/ 标签/ 和/ rank/ 值/ ,/ 将/ 原始/ 图/ 数据/ 划分/ 为/ 不同/ 的/ 等价/ 类/ (/ 步/ 6/ ~/ 步/ 9/ )/ ./ 显然/ ,/ 算法/ 1/ 需要/ 对图/ 数据/ 进行/ 两次/ 深度/ 优先/ 遍历/ ,/ 总体/ 时间/ 复杂度/ 为/ 两次/ DFS/ 的/ 时间/ 复杂度/ ,/ 即为/ O/ (/ |/ V/ |/ +/ |/ E/ |/ )/ ./ 算法/ 1/ ./ 顶点/ 等价/ 类/ 的/ 粗糙/ 划分/ ./ 输入/ :/ 有/ 向/ 标签/ 图/ G/ =/ (/ V/ ,/ E/ ,/ L/ )/ 输出/ :/ 顶点/ 等价/ 类/ 集合/ Par1/ ./ 使用/ Tarjan/ 算法/ 计算/ G/ 的/ 强/ 连通/ 分量/ 2/ ./ BEGINDFSprocedure3/ ./ Computingrank/ (/ v/ )/ 4/ ./ r/ =/ max/ {/ rank/ (/ v/ )/ ,/ v/ ∈/ V/ }/ 5/ ./ ENDDFSprocedurePage66/ ./ Par/ =/ {/ Pi/ |/ i/ =/ -/ ,/ 0/ ,/ 1/ ,/ …/ ,/ r/ }/ 7/ ./ FORALLPi/ ∈/ Par8/ ./ 根据/ 标签/ 进一步/ 划分/ Pi9/ ./ ENDFOR10/ ./ RETURNPar/ 对图/ 顶点/ 进行/ 等价/ 类/ 划分/ ,/ 是/ 为/ 数据/ 图/ G/ 构建/ 结构/ 概要/ 的/ 基础/ ./ 等价/ 类中/ 的/ 图/ 顶点/ ,/ 具有/ 相同/ 的/ 标签/ 和/ 结构特征/ (/ 由/ rank/ 值/ 表示/ )/ ,/ 但是/ ,/ 从/ 顶点/ rank/ 值/ 的/ 定义/ 容易/ 推断出/ ,/ 顶点/ rank/ 值/ 描述/ 的/ 是/ 图/ 中/ 顶点/ 与/ 叶/ 节点/ (/ 出度/ 为/ 0/ 的/ 顶点/ )/ 之间/ 的/ 距离/ 最大值/ ,/ 而/ 无法/ 描述/ 顶点/ 连接/ 关系/ (/ 即/ 前驱/ 后继/ 顶点/ )/ 方面/ 的/ 特征/ ./ 因此/ ,/ 顶点/ 的/ rank/ 值/ 并/ 不能/ 全面/ 反映/ 顶点/ 的/ 结构特征/ ,/ 即/ 顶点/ 的/ 值/ 粗略/ 刻画/ 顶点/ 的/ 结构特征/ ./ 基于/ 上述/ 方法/ 对/ 数据/ 图/ 顶点/ 进行/ 划分/ ,/ 属于/ 粗糙/ 划分/ ,/ 旨在/ 最大/ 程度/ 地/ 压缩/ 数据/ 图/ ./ 而/ 基于/ 顶点/ 粗糙/ 划分/ 构建/ 的/ 结构/ 概要/ 模型/ ,/ 执行/ 子图/ 匹配/ 查询/ 时/ 需要/ 根据/ 查询/ 图/ 进行/ 进一步/ 的/ 细化/ ,/ 使/ 其/ 能够/ 更/ 精确/ 地/ 描述/ 图/ 顶点/ 的/ 等价关系/ ./ 3.2/ 结构/ 概要/ 模型/ 构建/ 概要/ 模型/ ./ 基于/ 顶点/ 等价/ 类/ ,/ 可定义/ 有/ 向/ 标签/ 图/ G/ 的/ 结构/ 定义/ 2/ ./ 结构/ 概要/ 模型/ ./ 有/ 向/ 标签/ 图/ G/ 的/ 结构/ 概要/ 模型/ 可以/ 表示/ 为/ 四元组/ :/ GS/ =/ (/ VS/ ,/ ES/ ,/ LS/ ,/ RS/ )/ ,/ 其中/ :/ (/ 1/ )/ VS/ =/ {/ vs1/ ,/ vs2/ ,/ …/ }/ 是/ 结构/ 概要/ 中/ 顶点/ 的/ 集合/ ,/ 每/ 一个/ 顶点/ vsi/ 对应/ 图/ G/ 中/ 的/ 一个/ 顶点/ 等价/ 类/ ,/ 即/ 存在/ 图/ G/ 中/ 顶点/ v/ 到/ GS/ 的/ 映射函数/ S/ ,/ / v/ ∈/ V/ ,/ S/ (/ v/ )/ =/ vsi/ ;/ (/ 2/ )/ ES/ 是/ 结构/ 概要/ 中边/ 的/ 集合/ ,/ 设/ 顶点/ vsi/ ,/ vsj/ ∈/ Vs/ ,/ 在/ 图/ G/ 中/ 存在/ 一条/ 边/ (/ v/ ,/ u/ )/ ∈/ E/ 且/ S/ (/ v/ )/ =/ vsi/ ,/ S/ (/ u/ )/ =/ vsj/ ,/ 则/ 在/ GS/ 中/ 存在/ 边/ (/ vsi/ ,/ vsj/ )/ ∈/ Es/ ;/ (/ 3/ )/ LS/ 是/ 结构/ 概要/ 中/ 顶点/ 标签/ 的/ 映射函数/ 集合/ L/ (/ vsi/ )/ =/ li/ ;/ (/ 4/ )/ RS/ 是/ 结构/ 概要/ 中/ 顶点/ 的/ rank/ 值/ 映射函数/ 集合/ R/ (/ vsi/ )/ =/ ri/ ./ 由/ 上述/ 结构/ 概要/ 的/ 定义/ 可知/ ,/ 为/ 有/ 向/ 标签/ 图/ 构建/ 结构/ 概要/ 模型/ 的/ 核心/ 是/ 划分/ 数据/ 图/ 顶点/ 的/ 等价/ 类/ ,/ 一方面/ ,/ 同一/ 等价/ 类/ 的/ 顶点/ 压缩/ 为/ 结构/ 概要/ 中/ 的/ 一个/ 顶点/ ;/ 另一方面/ ,/ 结构/ 概要/ 中/ 的/ 标签/ 映射函数/ 集/ 和/ rank/ 值/ 映射函数/ 集/ 也/ 由/ 顶点/ 等价/ 类/ 的/ 相关/ 属性/ 获取/ ,/ 同时/ ,/ 也/ 需要/ 遍历/ 数据/ 图/ ,/ 为/ 结构/ 概要/ 添加/ 符合/ 相关/ 定义/ 的/ 边/ ./ 图/ 1/ (/ b/ )/ 是/ 根据/ 顶点/ 等价/ 类/ 的/ 粗糙/ 划分/ 构建/ 的/ 结构/ 概要/ 模型/ ./ 结构/ 概要/ 的/ 构建/ 过程/ 如/ 算法/ 2/ 所述/ ./ 算法/ 2/ ./ 结构/ 概要/ 模型/ 的/ 构建/ ./ 输入/ :/ 有/ 向/ 标签/ 图/ G/ =/ (/ V/ ,/ E/ ,/ L/ )/ ,/ 顶点/ 等价/ 类/ 集合/ Par/ 输出/ :/ 结构/ 概要/ Gs1/ ./ Vs/ =/ / ,/ Es/ =/ / ,/ Ls/ =/ / ,/ Rs/ =/ / 2/ ./ FORALLPi/ ∈/ Par3/ ./ vsi/ =/ Pi/ ,/ Vs/ =/ Vs/ ∪/ vsi4/ ./ Ls/ =/ Ls/ ∪/ L/ (/ v/ )/ ,/ v/ ∈/ Pi5/ ./ Rs/ =/ Rs/ ∪/ rank/ (/ v/ )/ ,/ v/ ∈/ Pi6/ ./ ENDFOR7/ ./ FORALL/ (/ v/ ,/ u/ )/ ∈/ E8/ ./ IFv/ ∈/ vsi/ ∩/ u/ ∈/ vsj9/ ./ Es/ =/ Es/ ∪/ (/ vsi/ ,/ vsj/ )/ 10/ ./ ENDIF11/ ./ ENDFOR12/ ./ RETURNGs/ =/ (/ VS/ ,/ ES/ ,/ LS/ ,/ RS/ )/ 由/ 算法/ 2/ 可知/ ,/ 结构/ 概要/ 构建/ 分为/ 两个/ 过程/ :/ 一是/ 根据/ 顶点/ 等价/ 类/ 构建/ 结构/ 概要/ 中/ 的/ 顶点/ 集合/ 、/ 标签/ 映射函数/ 集合/ 以及/ rank/ 值/ 映射函数/ 集合/ (/ 步/ 2/ ~/ 步/ 6/ )/ ;/ 二是/ 通过/ 对图/ G/ 的/ 边/ 集合/ E/ 进行/ 遍历/ ,/ 将/ 符合条件/ 的/ 边/ 添加/ 到/ 结构/ 概要/ 的/ 边/ 集合/ ,/ 并/ 最终/ 完成/ 结构/ 概要/ 的/ 构建/ (/ 步/ 7/ ~/ 步/ 12/ )/ ./ 其中/ ,/ 第/ 1/ 个/ 过程/ 的/ 时间/ 复杂度/ 为/ O/ (/ |/ Par/ |/ )/ ,/ 即/ 与/ 图/ G/ 顶点/ 等价/ 类/ 的/ 数量/ 线性相关/ ;/ 第/ 2/ 个/ 过程/ 在/ 遍历/ 图/ G/ 顶点/ 的/ 过程/ 中/ ,/ 每次/ 访问/ 一条/ 边时/ ,/ 还/ 需要/ 判断/ 起止/ 顶点/ 所属/ 的/ 等价/ 类/ ,/ 因此/ 时间/ 复杂度/ 为/ O/ (/ |/ E/ |/ ·/ |/ V/ |/ )/ ,/ 对于/ 大规模/ 数据/ 而言/ 是/ 无法/ 承受/ 的/ ,/ 因此/ ,/ 该/ 过程/ 需要/ 进一步/ 优化/ ./ 可/ 将/ 对于/ 结构/ 概要/ 中边/ 的/ 处理过程/ 纳入/ 到/ 对/ 图/ G/ 的/ 深度/ 优先/ 遍历/ 过程/ ./ 由/ 等价/ 类/ 划分/ 的/ 过程/ ,/ 可知/ 图/ G/ 中/ 每个/ 顶点/ 所属/ 的/ 等价/ 类/ ,/ 因此/ ,/ 可/ 在/ 对/ 图/ G/ 的/ 再次/ 遍历/ 过程/ 中/ ,/ 每/ 访问/ 到/ 一条/ 边时/ ,/ 直接/ 获取/ 起止/ 顶点/ 所属/ 的/ 等价/ 类/ 信息/ ,/ 进而/ 完善/ 结构/ 概要/ 的/ 边/ 集合/ ./ 这样/ ,/ 该/ 过程/ 的/ 时间/ 复杂度/ 可/ 降低/ 至/ O/ (/ |/ E/ |/ +/ |/ V/ |/ )/ ,/ 因而/ 构建/ 结构/ 概要/ 的/ 总体/ 时间/ 复杂度/ 为/ O/ (/ |/ Par/ |/ +/ |/ E/ |/ +/ |/ V/ |/ )/ ≈/ O/ (/ |/ E/ |/ +/ |/ V/ |/ )/ ./ 由/ 结构/ 概要/ 的/ 定义/ 可知/ ,/ 它/ 是/ 保留/ 数据/ 图/ 基本/ 结构/ 的/ 一种/ 数据压缩/ 模式/ ./ 性质/ 1/ ./ 结构/ 概要/ 是/ 数据/ 图/ 的/ 最大/ 程度/ 压缩/ ./ 证明/ ./ 根据/ 顶点/ 等价/ 类/ 的/ 定义/ 可知/ ,/ 结构/ 概要/ 模型/ 中/ 的/ 顶点/ ,/ 由/ 数据/ 图中/ 的/ 属于/ 同一个/ 等价/ 类/ 的/ 顶点/ 构成/ ,/ 如果/ 存在/ 更/ 大程度/ 的/ 压缩/ ,/ 势必会/ 将/ 不同/ 等价/ 类/ 合并/ 为/ 一个/ 顶点/ ,/ 显然/ 与/ 结构/ 概要/ 模型/ 的/ 定义/ 不/ 相符/ ;/ 另外/ ,/ 根据/ 结构/ 概要/ 模型/ 的/ 定义/ 可知/ ,/ 数据/ 图中/ 属于/ 两个/ 等价/ 类/ 顶点/ 的/ 边/ ,/ 在/ 结构/ 概要/ 中/ 合并/ 为/ 一条/ ,/ 显然/ 也/ 是/ 对于/ 数据/ 图边/ 集合/ 的/ 最大/ 程度/ 压缩/ ./ 由/ 性质/ 1/ 可以/ 分析/ ,/ 结构/ 概要/ 实现/ 了/ 对/ 数据/ 图/ 顶点/ 和/ 边/ 的/ 压缩/ ,/ 一方面/ ,/ 结构/ 概要/ 可/ 将/ 标签/ 和/ rank/ 值/ 都/ 相同/ 的/ 图/ 顶点/ 压缩/ 为/ 一个/ 顶点/ ;/ 另一方/ Page7/ 面/ ,/ 可/ 将/ 图/ 中/ 起止/ 顶点/ 分别/ 属于/ 相同/ 等价/ 类/ 的/ 边/ 压缩/ 为/ 一条/ 边/ ./ 因此/ ,/ 结构/ 概要/ 在/ 图/ 数据管理/ 中/ 具有/ 重要/ 的/ 意义/ ,/ 例如/ ,/ 可为/ 图/ 数据/ 构建/ 结构/ 概要/ 索引/ ,/ 提高/ 对图/ 数据/ 的/ 处理/ 效率/ ./ 下/ 一节/ ,/ 将/ 讨论/ 如何/ 利用/ 结构/ 概要/ 进行/ 子图/ 匹配/ 查询处理/ ./ 4/ 基于/ 自/ 适应/ 结构/ 概要/ 的/ 子/ 图/ 匹配/ 查询/ 算法/ 结构/ 概要/ 已经/ 被/ 证明/ 是/ 数据/ 图/ 的/ 最大/ 压缩/ 模式/ ,/ 结构/ 概要/ 基于/ 数据/ 图/ 的/ 顶点/ 等价/ 类/ 构建/ ,/ 通过/ 结构/ 概要/ 能够/ 访问/ 到/ 数据/ 图中/ 的/ 全部/ 顶点/ ,/ 因此/ ,/ 结构/ 概要/ 为子/ 图/ 匹配/ 查询/ 提供/ 便利/ ,/ 本节/ 将/ 提出/ 一种/ 基于/ 结构/ 概要/ 模型/ 的/ 子/ 图/ 匹配/ 查询/ 算法/ ,/ 首先/ ,/ 通过/ 讨论/ 结构/ 概要/ 与子/ 图/ 匹配/ 查询/ 之间/ 的/ 关系/ ,/ 提出/ 基于/ 局部/ “/ 双拟/ ”/ 关系/ 的/ 结构/ 概要/ 自/ 适应/ 更新/ 策略/ (/ 4.1/ 节/ 和/ 4.2/ 节/ )/ ;/ 然后/ ,/ 提出/ 基于/ 自/ 适应/ 结构/ 概要/ 实现/ 子图/ 匹配/ 查询/ 的/ 算法/ 并/ 进行/ 相关/ 的/ 分析/ (/ 4.3/ 节/ )/ ./ 4.1/ 结构/ 概要/ 顶点/ 的/ 局部/ 双拟/ 关系/ 结构/ 概要/ 模型/ 根据/ 数据/ 图/ 顶点/ 的/ 等价/ 类/ 进行/ 构建/ ,/ 但是/ ,/ 根据/ 前文/ 对/ 顶点/ 等价/ 类/ 划分/ 的/ 过程/ 可知/ ,/ 结构/ 概要/ 模型/ 对/ 数据/ 图/ 实现/ 了/ 最大/ 程度/ 的/ 压缩/ ,/ 是/ 根据/ 顶点/ 标签/ 和/ rank/ 值/ 进行/ 的/ 粗糙/ 划分/ ,/ 顶点/ 之间/ 的/ 连接/ 关系/ (/ 前驱/ 与/ 后继/ 顶点/ )/ 在/ 结构/ 概要/ 中/ 无法/ 得到/ 正确/ 的/ 体现/ ,/ 仅仅/ 通过/ 结构/ 概要/ 模型/ 无法/ 实现/ 子图/ 匹配/ 查询/ ./ 因此/ ,/ 根据/ 算法/ 2/ 构建/ 的/ 结构/ 概要/ 模型/ 称为/ 粗糙/ 模型/ (/ rawmodel/ )/ ,/ 要/ 实现/ 子图/ 匹配/ 查询/ ,/ 必须/ 保证/ 结构/ 概要/ 模型/ 中/ 与/ 查询/ 图/ 可能/ 匹配/ 的/ 顶点/ 之间/ 具有/ 正确/ 的/ 连接/ 关系/ ,/ 因此/ ,/ 需要/ 对/ 原有/ 的/ 顶点/ 等价/ 类/ 进行/ 细化/ ,/ 也/ 就是/ 结构/ 概要/ 模型/ 的/ 更新过程/ ./ 该/ 过程/ 依赖于/ 查询/ 图/ 的/ 结构/ ,/ 属于/ 自/ 适应/ 更新/ ./ 通过/ 自/ 适应/ 更新/ ,/ 针对/ 不同/ 查询/ 图可/ 得到/ 结构/ 概要/ 的/ 细化/ 模型/ ,/ 用于/ 对/ 不同/ 的/ 查询/ 图/ 进行/ 子图/ 匹配/ 查询/ ./ 本文/ 将/ 基于/ 双拟/ 关系/ (/ bisimulationrelation/ )/ [/ 36/ ]/ ,/ 研究/ 子图/ 匹配/ 问题/ ./ 双拟/ 关系/ 是/ 描述/ 半/ 结构化/ 数据/ 节点/ 相似性/ 的/ 重要/ 标准/ ,/ 广泛应用/ 于/ XML/ 数据/ 查询/ 与/ 图/ 数据/ 查询/ ./ 双拟/ 关系/ 是/ 指图/ 数据/ G/ =/ (/ V/ ,/ E/ ,/ L/ )/ 上/ 的/ 一个/ 二元关系/ B/ =/ V/ ×/ V/ ,/ 定义/ 如下/ :/ (/ 1/ )/ 对于/ 任意/ (/ u/ ,/ v/ )/ ∈/ B/ ,/ L/ (/ u/ )/ =/ L/ (/ v/ )/ ;/ (/ 2/ )/ 对于/ 任意/ 的/ (/ u/ ,/ u/ )/ ∈/ E/ ,/ 存在/ (/ v/ ,/ v/ )/ ∈/ E/ ,/ 使得/ (/ u/ ,/ v/ )/ ∈/ B/ ;/ (/ 3/ )/ 对于/ 任意/ 的/ (/ v/ ,/ v/ )/ ∈/ E/ ,/ 存在/ (/ u/ ,/ u/ )/ ∈/ E/ ,/ 使得/ (/ v/ ,/ u/ )/ ∈/ B/ ./ 满足/ 双拟/ 关系/ 的/ 顶点/ u/ 和/ v/ 记作/ :/ u/ ≈/ v/ ./ 具体来说/ ,/ (/ u/ ,/ v/ )/ ∈/ B/ 成立/ ,/ 当且/ 仅/ 当/ 对于/ u/ 的/ 每/ 一个/ 邻接/ 点/ u/ ,/ 存在/ 一个/ v/ 的/ 邻接/ 点/ v/ ,/ 并且/ (/ u/ ,/ v/ )/ ∈/ B/ ;/ 反之亦然/ ./ 根据/ 双拟/ 关系/ 的/ 定义/ ,/ 对于/ 给定/ 的/ 查询/ 图/ Gq/ =/ (/ Vq/ ,/ Eq/ ,/ Lq/ )/ ,/ 局部/ 双拟/ 关系/ 是/ 指/ 数据/ 图上/ 的/ 一个/ 二元关系/ S/ / B/ ,/ / (/ m/ ,/ n/ )/ ∈/ S/ ,/ m/ ≈/ n/ 且/ L/ (/ m/ )/ ,/ L/ (/ n/ )/ ∈/ Lq/ ./ Fan/ 等/ 人/ [/ 25/ ]/ 已/ 证明/ 了/ 双拟/ 关系/ 适用/ 于图/ 模拟/ 匹配/ 查询/ ,/ 局部/ 双拟/ 关系/ 是/ 在/ 结构/ 概要/ 模型/ 的/ 基础/ 上/ ,/ 将/ 与/ 查询/ 图/ 标签/ 相匹配/ 的/ 顶点/ 提取/ 出来/ 并/ 使/ 其/ 满足/ 双拟/ 关系/ ,/ 而/ 无需/ 对/ 数据/ 图/ 全部/ 顶点/ 进行/ 双拟/ 关系/ 的/ 判断/ 以及/ 划分/ ./ 根据/ 局部/ 双拟/ 关系/ ,/ 细化/ 数据/ 图/ 的/ 顶点/ 等价/ 类/ ,/ 实现/ 结构/ 概要/ 模型/ 的/ 更新/ ./ 结构/ 概要/ 的/ 构建/ 是/ 根据/ 顶点/ 标签/ 、/ 层次/ 信息/ 对/ 数据/ 图/ 顶点/ 的/ 粗糙/ 划分/ ,/ 为了/ 使/ 结构/ 概要/ 模型/ 满足/ 子图/ 匹配/ 查询/ 的/ 需求/ ,/ 需在/ 粗糙/ 划分/ 的/ 基础/ 上/ ,/ 对/ 结构/ 概要/ 中/ 与/ 查询/ 图/ 标签/ 匹配/ 的/ 顶点/ 进行/ 细化/ ,/ 细化/ 后/ 的/ 结构/ 概要/ 顶点/ 中/ 所/ 包含/ 的/ 数据/ 图/ 顶点/ 之间/ 全部/ 满足/ 双拟/ 关系/ ,/ 这样/ ,/ 可/ 从/ 细化/ 后/ 的/ 结构/ 概要/ 中/ 找到/ 与/ 查询/ 图/ 顶点/ 匹配/ 的/ 数据/ 图/ 顶点/ 集/ ,/ 进而/ 实现/ 子图/ 查询/ ./ 图/ 1/ (/ b/ )/ 所示/ 的/ 结构/ 概要/ 粗糙/ 模型/ 中/ ,/ 顶点/ A/ 由/ 数据/ 图/ 的/ 3/ 个/ 顶点/ A1/ ,/ A2/ 和/ A3/ 压缩/ 而成/ ,/ 这/ 3/ 个/ 顶点/ 的/ 标签/ 都/ 为/ “/ A/ ”/ ,/ rank/ 值/ 都/ 为/ 2/ ,/ 但/ 由于/ 它们/ 的/ 后继/ 关系/ 不同/ (/ A1/ 的/ 邻接/ 点/ B/ 和/ C/ ,/ A2/ 的/ 邻接/ 点为/ B/ ,/ C/ ,/ D/ ,/ A3/ 的/ 邻接/ 点/ B/ 和/ D/ )/ ,/ 因此/ 不/ 满足/ 双拟/ 关系/ ,/ 如果/ 执行/ 如图/ 2/ (/ a/ )/ 中/ 的/ 查询/ 图/ Q2/ 时会/ 产生/ 错误/ 的/ 匹配/ 子图/ ,/ 因此/ 应该/ 根据/ 查询/ 图/ 将/ 结构/ 概要/ 的/ 粗糙/ 模型/ 细化/ 为/ 图/ 2/ (/ b/ )/ 所示/ 的/ 结构/ 以/ 保证/ 子图/ 匹配/ 查询/ 的/ 准确性/ ./ 另外/ ,/ 当/ 执行/ 图/ 2/ (/ a/ )/ 中/ 的/ 查询/ 图/ Q1/ 时/ ,/ 由于/ 查询/ 图/ 可能/ 匹配/ 的/ 顶点/ B/ 包含/ 了/ 数据/ 图/ 顶点/ B1/ ,/ B2/ 和/ B3/ 满足/ 双拟/ 关系/ (/ 邻接/ 点/ 都/ 为/ C/ 和/ D/ )/ ,/ 因此/ 无需/ 细化/ 结构/ 概要/ 粗糙/ 模型/ ,/ 即可/ 得到/ 正确/ 的/ 匹配/ 子图/ ./ 因此/ ,/ 在/ 执行/ 查询/ 图/ Q1/ 时/ ,/ 只/ 需/ 结构/ 概要/ 的/ 局部/ 顶点/ B/ ,/ C/ 和/ D/ 满足/ 双拟/ 关系/ 即可/ ,/ 而/ 顶点/ A/ 无需/ 满足/ 双拟/ 关系/ ./ 结构/ 概要/ 顶点/ 细化/ 的/ 过程/ ,/ 是/ 根据/ 查询/ 图/ 的/ 自/ 适应/ 更新过程/ ,/ 将/ 在/ 下/ 一节/ 讨论/ 结构/ 概要/ 自/ 适应/ 更/ Page8/ 新/ 的/ 算法/ ./ 4.2/ 结构/ 概要/ 的/ 自/ 适应/ 更新/ 由/ 结构/ 概要/ 的/ 构建/ 过程/ 可知/ ,/ 直接/ 利用/ 结构/ 概要/ 的/ 粗糙/ 模型/ 进行/ 子图/ 匹配/ 查询/ 可能/ 无法/ 得到/ 精确/ 的/ 匹配/ 子图/ 集合/ ./ 因此/ ,/ 进行/ 子图/ 匹配/ 查询/ 时/ ,/ 需要/ 对/ 结构/ 概要/ 模型/ 顶点/ 进行/ 细化/ ,/ 保证/ 与/ 查询/ 图/ 相关/ 的/ 子结构/ 准确/ 地/ 反映/ 到/ 结构/ 概要/ 中/ ./ 图/ 2/ (/ b/ )/ 所示/ 的/ 结构/ 概要/ 即/ 根据/ 查询/ 图/ Q2/ 对图/ 1/ (/ b/ )/ 的/ 结构/ 概要/ 进行/ 的/ 细化/ ./ 另外/ ,/ 结构/ 概要/ 顶点/ 包含/ 的/ 数据/ 图/ 顶点/ 之间/ ,/ 通常/ 会/ 有/ 边/ 相连/ ,/ 结构/ 概要/ 顶点/ 的/ 细化/ 划分/ 通常/ 会/ 产生/ 新/ 的/ 循环/ 结构/ ,/ 因此/ ,/ 对/ 结构/ 概要/ 顶点/ 的/ 细化/ 时/ 需要/ 保持/ 该/ 顶点/ 的/ 稳定性/ (/ stability/ )/ [/ 34/ ]/ ./ 结构/ 概要/ 的/ 细化/ 过程/ 可以/ 认为/ 是/ 依赖于/ 查询/ 图/ 结构/ 的/ 自/ 适应/ 更新过程/ ./ 定义/ 3/ ./ 结构/ 概要/ 模型/ 的/ 自/ 适应/ 更新/ ./ 给定/ 数据/ 图/ G/ 的/ 结构/ 概要/ 模型/ Gs/ =/ (/ Vs/ ,/ Es/ ,/ Ls/ ,/ Rs/ )/ ,/ Gs/ 可/ 根据/ 查询/ 图/ Gq/ =/ (/ Vq/ ,/ Eq/ ,/ Lq/ )/ 进行/ 自/ 适应/ 更新/ 得到/ 细化/ 后/ 的/ 结构/ 概要/ 模型/ Gsq/ =/ (/ Vsq/ ,/ Esq/ ,/ Lsq/ ,/ Rsq/ )/ ,/ 其中/ :/ (/ 1/ )/ Vsq/ =/ Vnr/ ∪/ Vr/ ,/ Vnr/ / Vs/ 表示/ 未/ 细化/ 的/ 等价/ 类/ 构成/ 的/ 结构/ 概要/ 顶点/ ,/ Vr/ 表示/ 经过/ 细化/ 后/ 的/ 等价/ 类/ 构成/ 的/ 结构/ 概要/ 顶点/ ;/ (/ 2/ )/ Esq/ =/ Enr/ ∪/ Er/ ,/ Enr/ / Es/ 表示/ 未/ 细化/ 的/ 等价/ 类/ 构成/ 的/ 结构/ 概要/ 顶点/ 之间/ 的/ 边/ ,/ Er/ 表示/ 经过/ 细化/ 后/ 的/ 等价/ 类/ 构成/ 的/ 结构/ 概要/ 顶点/ 之间/ 的/ 边/ ;/ (/ 3/ )/ Lsq/ =/ Ls/ ;/ (/ 4/ )/ Rsq/ =/ Rs/ ./ 由/ 上述/ 分析/ 以及/ 定义/ 6/ 可知/ ,/ 结构/ 概要/ 模型/ 的/ 自/ 适应/ 更新过程/ ,/ 是/ 数据/ 图/ 顶点/ 等价/ 类/ 的/ 细化/ 过程/ ,/ 包括/ 两个/ 步骤/ :/ (/ 1/ )/ 根据/ 查询/ 图/ 结构/ ,/ 对/ 结构/ 概要/ 中/ 与/ 查询/ 图/ 顶点/ 标签/ 匹配/ 的/ 顶点/ 根据/ 连接/ 关系/ 进行/ 内部/ 分裂/ ,/ 使该/ 顶点/ 内部/ 达到/ 某个/ 稳定/ 的/ 状态/ ;/ (/ 2/ )/ 由于/ 内部/ 分裂/ 导致/ 结构/ 概要/ 的/ 其它/ 相关/ 顶点/ 进行/ 分裂/ (/ 外部/ 分裂/ )/ ,/ 保证/ 分裂/ 后/ 的/ 每个/ 分块/ 包含/ 的/ 数据/ 图/ 顶点/ 具有/ 相同/ 的/ 前驱/ 后继/ 关系/ (/ 即/ 前驱/ 后继/ 顶点/ 对应/ 的/ 标签/ 相同/ )/ ./ 数据/ 图/ 等价/ 类/ 的/ 细化/ 是/ 非常复杂/ 的/ 过程/ ./ 图/ 2/ (/ b/ )/ 所示/ 的/ 结构/ 概要/ ,/ 将/ 标签/ 为/ A/ 的/ 顶点/ 等价/ 类/ 细化/ 为/ {/ A1/ }/ ,/ {/ A2/ }/ 和/ {/ A3/ }/ ./ 但/ 由于/ 数据/ 图/ 及其/ 结构/ 概要/ 的/ 结构/ 通常/ 比较复杂/ ,/ 结构/ 概要/ 的/ 某/ 一个/ 顶点/ 细化/ 后/ ,/ 通常/ 会/ 导致/ 该/ 顶点/ 的/ 前驱/ 或/ 后继/ 顶点/ 不再/ 满足/ 双拟/ 关系/ ,/ 从而/ 需要/ 进行/ 反复/ 的/ 细化/ ,/ 使得/ 结构/ 概要/ 模型/ 的/ 结构/ 不断/ 地/ 发生变化/ ./ 为/ 解决/ 该/ 问题/ ,/ 需要/ 确定/ 顶点/ 等价/ 类/ 细化/ 的/ 标准/ ,/ 保证/ 内部/ 分裂/ 达到/ 稳定/ 状态/ ,/ 从而/ 不会/ 影响/ 到/ 其/ 前驱/ 及/ 后继/ 节点/ 的/ 双拟/ 特性/ ./ 细化/ 的/ 标准/ 来自/ 于/ 集合/ 划分/ 的/ 稳定性/ 理论/ ,/ 文献/ [/ 34/ ]/ 对/ 稳定/ 划分/ 进行/ 了/ 定义/ :/ 对于/ 两个/ 数据/ 图/ 顶点/ 集合/ X/ 和/ Y/ ,/ 如果/ X/ 是/ Y/ 的/ 后继/ 顶点/ 集合/ 的/ 子集/ ,/ 或者/ X/ 与/ Y/ 的/ 后继/ 顶点/ 集合/ 不/ 相交/ ,/ 则/ X/ 相对/ 于/ Y/ 是/ 稳定/ 的/ ./ Paige/ 等/ 人/ 在/ 文献/ [/ 37/ ]/ 中/ 指出/ ,/ 对于/ 给定/ 的/ 基于/ 关系/ E/ 的/ 集合/ U/ 以及/ U/ 上/ 的/ 一个/ 初始/ 划分/ P/ ,/ 存在/ 唯一/ 的/ P/ 的/ 细化/ 划分/ Q/ ,/ 使得/ Q/ 中所/ 包含/ 的/ 块/ 数/ 最少/ ,/ 并且/ 划分/ Q/ 是/ 稳定/ 的/ ./ 根据/ 该/ 结论/ ,/ 结构/ 概要/ 在/ 初始化/ 构建/ 后/ ,/ rank/ 值/ 大于/ 负/ 无穷的/ 每个/ 等价/ 类即/ 为/ 集合/ U/ ;/ 该/ 等价/ 类中/ 的/ 边/ 关系/ 即/ 为/ 关系/ E/ ;/ 在/ 初始化/ 构建/ 时/ ,/ 由/ 外部/ 分裂/ 所/ 引起/ 的/ 划分/ 即/ 为/ 初始/ 划分/ P/ ;/ 如果/ 在/ 首次/ 外部/ 分裂/ 中/ ,/ 原/ 等价/ 类/ 没有/ 分裂/ ,/ 则/ P/ 即/ 为/ 该/ 等价/ 类/ 本身/ ./ 因此/ ,/ 可以/ 对/ 每个/ 涉及/ 到/ 查询/ 的/ 等价/ 类/ 计算/ 一个/ 细化/ 划分/ Q/ ,/ 使得/ Q/ 中所/ 包含/ 的/ 块/ 数/ 最少/ ,/ 并且/ 是/ 稳定/ 的/ ./ 进行/ 子图/ 匹配/ 查询/ 时/ ,/ 首先/ 根据/ 查询/ 图/ 的/ 顶点/ 标签/ 寻找/ 结构/ 概要/ 中/ 相关/ 的/ 顶点/ ,/ 然后/ 再/ 根据/ 数据/ 图/ 顶点/ 的/ 连接/ 关系/ (/ 边/ )/ 进行/ 分裂/ ,/ 直到/ 达到/ 稳定/ 状态/ 即/ 完成/ 结构/ 概要/ 的/ 一次/ 更新/ ./ 对于/ 新/ 的/ 查询/ ,/ 需要/ 重复/ 上述/ 更新过程/ ,/ 使得/ 结构/ 概要/ 能够/ 覆盖/ 新/ 查询/ 图/ 可能/ 的/ 匹配/ 子图/ ./ 从/ 结构/ 概要/ 的/ 更新过程/ 可以/ 分析/ ,/ 结构/ 概要/ 的/ 更新/ 是/ 一个/ 使/ 其/ 规模/ 不断/ 增长/ 的/ 过程/ ,/ 以/ 覆盖/ 多样化/ 的/ 子/ 图/ 匹配/ 查询/ ./ 当/ 对于/ 数据/ 图/ 的/ 查询/ ,/ 涉及/ 到/ 该/ 图/ 的/ 全部/ 子图/ 时/ ,/ 结构/ 概要/ 的/ 规模/ 达到/ 最大/ ,/ 因此/ ,/ 基于/ 自/ 适应/ 结构/ 概要/ 进行/ 子图/ 匹配/ 查询/ 的/ 意义/ 在于/ :/ 对于/ 频繁/ 的/ 子/ 图/ 匹配/ 查询/ ,/ 结构/ 概要/ 更新/ 的/ 程度/ 最小/ 甚至/ 无需/ 进行/ 自/ 适应/ 更新/ ,/ 在/ 一定/ 程度/ 上/ ,/ 缩小/ 了/ 查询/ 对象/ 规模/ ,/ 从而/ 提高/ 了/ 查询/ 效率/ ./ 算法/ 3/ 展示/ 了/ 面向/ 查询/ 图/ 的/ 结构/ 概要/ 模型/ 自/ 适应/ 更新过程/ ./ 首先/ 构建/ 查询/ 图/ 的/ 顶点/ 标签/ 集合/ LabelSet/ (/ 步/ 1/ )/ 并/ 将/ 结构/ 概要/ 中/ 顶点/ 表示/ 为/ 数据/ 图/ 顶点/ 等价/ 类/ 的/ 集合/ (/ 步/ 2/ )/ ,/ 然后/ 从/ 结构/ 概要/ Gs/ 中/ 选择/ 与/ 查询/ 图/ 某个/ 标签/ 匹配/ 的/ 顶点/ ,/ 调用/ PT/ _/ Split/ 算法/ [/ 37/ ]/ 对/ 顶点/ 集合/ Bi/ 进行/ 内部/ 分裂/ (/ 步/ 5/ )/ ,/ 达到/ 某个/ 稳定/ 的/ 状态/ 后/ ,/ 合并/ 相关/ 分块/ 并/ 通过/ 外部/ 分裂/ 得到/ 顶点/ 等价/ 类/ 的/ 细化/ 划分/ (/ 步/ 6/ ~/ 步/ 13/ )/ ,/ 进而/ 调整结构/ 概要/ (/ 步/ 14/ )/ ./ 算法/ 3/ ./ 结构/ 概要/ 的/ 自/ 适应/ 更新/ ./ 输入/ :/ 结构/ 概要/ Gs/ =/ (/ Vs/ ,/ Es/ ,/ Ls/ ,/ Rs/ )/ ,/ 查询/ 图/ Gq/ =/ 输出/ :/ 更新/ 后/ 的/ 结构/ 概要/ Gsq1/ ./ LabelSet/ =/ {/ Lq/ (/ v/ )/ |/ v/ ∈/ Vq/ }/ 2/ ./ Par/ =/ {/ Bi/ |/ Bi/ / Vs/ ,/ / vsi/ ∈/ Bi/ ,/ rank/ (/ vsi/ )/ =/ i/ ,/ Page93/ ./ FORALLi/ =/ 0/ ,/ 1/ ,/ …/ ,/ ρ/ 4/ ./ IFLs/ (/ Bi/ )/ ∈/ LabelSet5/ ./ PT/ _/ Split/ (/ Bi/ )/ 6/ ./ CollapsetheblocksSplitfromBi7/ ./ FORALLn/ ∈/ Bi8/ ./ FORALLC/ ∈/ Par/ ∩/ {/ ∪/ ρ/ j/ =/ i/ +/ 1Bj/ }/ 9/ ./ Par/ =/ (/ Par/ \/ C/ )/ ∪/ 10/ ./ ENDFOR11/ ./ ENDFOR12/ ./ ENDIF13/ ./ ENDFOR14/ ./ UpdateVs/ ,/ EsbyParandfurtherconstructGsq15/ ./ RETURNGsq/ 文献/ [/ 37/ ]/ 已经/ 证明/ 了/ 算法/ PT/ _/ Split/ 的/ 时间/ 复杂度/ 为/ O/ (/ |/ E/ / Bi/ |/ log/ |/ Bi/ |/ )/ ,/ 其中/ |/ E/ / Bi/ |/ 表示/ 数据/ 图中/ 与/ 顶点/ 分块/ Bi/ 相关/ 的/ 边/ 的/ 数量/ ./ 算法/ 3/ 包含/ 了/ 若干次/ 内部/ 分裂/ 和/ 外部/ 分裂/ 的/ 过程/ ,/ 其/ 关键步骤/ 在于/ 待处理/ 的/ 顶点/ 集合/ Bi/ 的/ 数量/ ./ 假设/ 结构/ 概要/ 模型/ Gs/ 中/ ,/ 有/ n/ 个/ 顶点/ 与/ 查询/ 图/ 包含/ 的/ 顶点/ 匹配/ ,/ 则/ 算法/ 3/ 的/ 总体/ 时间/ 复杂度/ 约/ 为/ 当/ Gs/ 中/ 每个/ 顶点/ 都/ 需要/ 进行/ 处理/ 时/ ,/ 达到/ 最差/ 时间/ 复杂度/ ,/ 约/ 为/ O/ (/ |/ E/ |/ log/ |/ V/ |/ )/ ./ 在/ 根据/ 查询/ 图对/ 结构/ 概要/ 进行/ 自/ 适应/ 更新/ 时/ ,/ 每次/ 匹配/ 一个/ 新/ 的/ 查询/ 图/ ,/ 都/ 会/ 根据/ 当前/ 查询/ 图/ 的/ 顶点/ 标签/ ,/ 选择/ 结构/ 概要/ 中/ 相关/ 的/ 顶点/ 进行/ 细化/ ,/ 并/ 在/ 结构/ 概要/ 中/ 保留/ 这种/ 细化/ ,/ 因此/ ,/ 无需/ 恢复/ 结构/ 概要/ 的/ 原始/ 状态/ ./ 如果/ 新/ 的/ 查询/ 图中/ ,/ 包含/ 已/ 匹配/ 过/ 的/ 查询/ 图/ 涉及/ 到/ 的/ 顶点/ 标签/ ,/ 且/ 已经/ 完成/ 了/ 这些/ 顶点/ 的/ 细化/ ,/ 则/ 无需/ 重新/ 细化/ ,/ 从而/ 减少/ 新/ 查询/ 图对/ 结构/ 概要/ 的/ 更新/ 代价/ ;/ 如果/ 新/ 的/ 查询/ 图中/ ,/ 不/ 包含/ 任何/ 已/ 细化/ 过/ 的/ 顶点/ 标签/ ,/ 则/ 需要/ 在/ 结构/ 概要/ 中/ 细化/ 相关/ 的/ 顶点/ ./ 因此/ ,/ 论文/ 提出/ 的/ 策略/ ,/ 对于/ 匹配/ 频繁/ 查询/ 的/ 子/ 图/ 更/ 具有/ 意义/ ./ 性质/ 2/ ./ 基于/ 图/ 压缩/ 的/ 结构/ 概要/ 模型/ ,/ 如果/ 其/ 顶点/ 包含/ 的/ 数据/ 图/ 顶点/ 之间/ 满足/ 双拟/ 关系/ ,/ 则/ 能够/ 保证/ 以图/ 模拟/ 方式/ 进行/ 正确/ 的/ 子/ 图/ 匹配/ 查询/ ./ 证明/ ./ 根据/ 定义/ 可知/ ,/ 基于/ 结构/ 概要/ 模型/ ,/ 按照/ 图/ 模拟/ 方式/ 的/ 进行/ 子图/ 匹配/ 查询/ ,/ 是/ 求取/ 一个/ 二元关系/ B/ / Vq/ ×/ VS/ ,/ / (/ u/ ,/ v/ )/ ∈/ B/ ,/ u/ ∈/ Vq/ ,/ v/ ∈/ VS/ ,/ 满足/ 以下/ 两个/ 条件/ 即可/ 认为/ 是/ 正确/ 的/ 查询/ :/ (/ 1/ )/ 顶点/ 的/ u/ ,/ v/ 具有/ 双拟/ 关系/ ,/ 即/ Vq/ 与/ VS/ 具有/ 相同/ 的/ 标签/ 和/ 结构特征/ ./ 由于/ 构建/ 结构/ 概要/ 和/ 自/ 适应/ 更新/ 结构/ 概要/ 的/ 过程/ 中/ ,/ 都/ 保证/ 结构/ 概要/ 顶点/ 所/ 包含/ 的/ 数据/ 图/ 顶点/ 具有/ 双拟/ 关系/ ,/ 显然/ 查询/ 图/ 的/ 顶点/ u/ 能够/ 与/ 数据/ 图中/ 的/ 顶点/ 进行/ 正确/ 的/ 匹配/ ;/ (/ 2/ )/ 顶点/ 之间/ 的/ 连接/ 关系/ 匹配/ ./ / (/ u/ ,/ u/ )/ ∈/ Eq/ ,/ 如果/ 存在/ u/ ,/ v/ ∈/ VS/ ,/ 满足/ u/ ≈/ v/ ,/ u/ ≈/ v/ ,/ 且/ (/ u/ ,/ v/ )/ ∈/ ES/ ./ 根据/ 结构/ 概要/ 模型/ 的/ 定义/ 能够/ 证明/ ,/ 数据/ 图中/ 至少/ 存在/ uG/ ∈/ u/ 和/ vG/ ∈/ v/ ,/ 且/ (/ uG/ ,/ vG/ )/ ∈/ E/ ,/ 因此/ ,/ 顶点/ 之间/ 的/ 连接/ 关系/ 通过/ 边/ 匹配/ 方式/ 得到/ 证明/ ./ 证毕/ ./ 由/ 性质/ 2/ 可知/ ,/ 只要/ 保证/ 结构/ 概要/ 中/ 与/ 查询/ 图/ 相关/ 的/ 顶点/ 所/ 包含/ 的/ 数据/ 图/ 顶点/ 全部/ 满足/ 双拟/ 关系/ ,/ 即/ 可以/ 保证/ 基于/ 图/ 模拟/ 方式/ 进行/ 子图/ 匹配/ 查询/ 的/ 正确性/ ./ 结构/ 概要/ 模型/ 基于/ 图/ 压缩/ 技术/ 构建/ ,/ 为了/ 保证/ 结构/ 概要/ 模型/ 具有/ 较/ 低/ 的/ 压缩率/ ,/ 必然/ 造成/ 图/ 结构/ 信息/ 的/ 损失/ ./ 但是/ ,/ 结构/ 概要/ 的/ 自/ 适应/ 更新过程/ ,/ 能够/ 保证/ 与/ 查询/ 图/ 相关/ 的/ 顶点/ 满足/ 双拟/ 关系/ ,/ 由/ 上述/ 分析/ 可知/ ,/ 这种/ 策略/ 能够/ 保证/ 子图/ 匹配/ 查询/ 的/ 正确性/ ./ 4.3/ 子图/ 匹配/ 查询/ 算法/ 义/ 基于/ 结构/ 概要/ 的/ 子/ 图/ 匹配/ 查询/ ./ 根据/ 顶点/ 的/ 双拟/ 关系/ ,/ 可/ 按照/ 图/ 模拟/ 的/ 方式/ 定/ 定义/ 4/ ./ 基于/ 结构/ 概要/ 的/ 子/ 图/ 匹配/ ./ 给定/ 数据/ 图/ G/ =/ (/ V/ ,/ E/ ,/ L/ )/ 及其/ 结构/ 概要/ Gsq/ =/ (/ Vsq/ ,/ Esq/ ,/ Lsq/ ,/ Rsq/ )/ 、/ 查询/ 图/ Gq/ =/ (/ Vq/ ,/ Eq/ ,/ Lq/ )/ ,/ 基于/ 结构/ 概要/ 的/ 子/ 图/ 匹配/ 是/ 指/ 一个/ 二元关系/ S/ =/ Vq/ ×/ Vsq/ ,/ / (/ u/ ,/ v/ )/ ∈/ S/ :/ (/ 1/ )/ u/ ∈/ Vq/ ,/ v/ ∈/ Vsq/ ,/ 且/ L/ (/ u/ )/ =/ L/ (/ v/ )/ ;/ (/ 2/ )/ / (/ u/ ,/ u/ )/ ∈/ Eq/ ,/ 存在/ (/ v/ ,/ v/ )/ ∈/ Esq/ ,/ 且/ (/ u/ ,/ v/ )/ ∈/ S/ ./ 针对/ 当前/ 查询/ 图/ 进行/ 自/ 适应/ 更新/ 后/ 的/ 结构/ 概要/ ,/ 可/ 用于/ 在/ 数据/ 图中/ 对/ 该/ 查询/ 图/ 进行/ 子图/ 匹配/ 查询/ ./ 基于/ 自/ 适应/ 结构/ 概要/ 的/ 子/ 图/ 匹配/ 查询/ 算法/ ,/ 首先/ 对/ 查询/ 图/ 进行/ 处理/ ,/ 对于/ 每/ 一个/ 顶点/ ,/ 在/ 结构/ 概要/ 中/ 找到/ 标签/ 一致/ 的/ 匹配/ 顶点/ ,/ 构建/ 候选/ 匹配/ 顶点/ 集合/ ;/ 然后/ ,/ 根据/ 顶点/ 的/ rank/ 值/ ,/ 对/ 候选/ 集/ 进行/ 修剪/ ,/ 具体/ 过程/ 为/ :/ (/ 1/ )/ 计算/ 查询/ 图/ 的/ 顶点/ rank/ 值/ ;/ (/ 2/ )/ 对/ 包含/ 于/ 候选/ 集/ 顶点/ 的/ 数据/ 图/ 顶点/ 进行/ 遍历/ ,/ 记录/ 该/ 顶点/ 与其/ 邻居/ 顶点/ 的/ rank/ 差值/ ,/ 若该/ 差值/ 等于/ 查询/ 图中/ 相匹配/ 的/ 顶点/ 与其/ 邻居/ 的/ rank/ 差值/ ,/ 则/ 匹配/ 成功/ ;/ 否则/ 将/ 该/ 候选/ 顶点/ 移出/ 候选/ 集/ ./ 直至/ 所有/ 查询/ 顶点/ 匹配/ 完成/ ,/ 算法/ 结束/ ./ 算法/ 4/ ./ 子图/ 匹配/ 查询/ 算法/ ./ 输入/ :/ 查询/ 图/ Gq/ =/ (/ Vq/ ,/ Eq/ ,/ Lq/ )/ 及其/ 相应/ 的/ 结构/ 概要/ 输出/ :/ 子图/ 匹配/ 查询/ 结果/ 集/ Mq1/ ./ 对/ 查询/ 图/ 进行/ DFS/ 并/ 计算/ rank/ (/ vq/ )/ Page102/ ./ 根据/ 标签/ 计算/ Gsq/ 中/ 与/ vq/ ∈/ Vq/ 匹配/ 的/ 顶点/ 数量/ 并/ 对/ vq/ ∈/ Vq/ 按/ 匹配/ 数据/ 图/ 顶点/ 的/ 数量/ 进行/ 升序/ 排序/ 3/ ./ Mq/ =/ / 4/ ./ FORALLu/ ∈/ Vq5/ ./ FORALLv/ ∈/ Vq/ ,/ v/ ∈/ u/ ./ neighbor/ ,/ u/ ./ neighbor/ =/ 6/ ./ v/ ./ MS/ =/ / // // v/ ./ MS/ 是/ Vsq/ 中/ 与/ v/ 匹配/ 的/ 顶点/ 集合/ 7/ ./ IFv/ 完成/ 匹配/ ,/ v/ ./ MS/ =/ {/ m/ ∈/ V/ ,/ (/ m/ ,/ v/ )/ ∈/ S/ }/ 8/ ./ FORALLm/ ∈/ v/ ./ MS9/ ./ FORALLn/ ∈/ V/ ,/ n/ ∈/ m/ ./ neighbor10/ ./ IF/ (/ |/ R/ (/ v/ )/ -/ R/ (/ u/ )/ |/ =/ =/ |/ R/ (/ m/ )/ -/ R/ (/ n/ )/ |/ &&/ 11/ ./ u/ ./ MS/ =/ u/ ./ MS/ ∪/ n12/ ./ ENDIF13/ ./ ENDFOR14/ ./ ENDFOR15/ ./ ENDIF16/ ./ IFu/ ./ neighbor/ ./ MS/ =/ / 17/ ./ FORALLv/ ∈/ V18/ ./ IFL/ (/ v/ )/ =/ =/ L/ (/ u/ )/ 19/ ./ u/ ./ MS/ =/ u/ ./ MS/ ∪/ v20/ ./ ENDIF21/ ./ ENDFOR22/ ./ ENDIF23/ ./ ENDFOR24/ ./ Mq/ =/ Mq/ ∪/ u/ ./ MS25/ ./ ENDFOR26/ ./ RETURNMq/ 算法/ 4/ 展示/ 了/ 匹配/ 算法/ 的/ 具体/ 过程/ ./ 算法/ 步/ 1/ 计算/ 查询/ 顶点/ 的/ rank/ 值/ ,/ 首先/ 调用/ Tarjan/ 算法/ 求/ 出/ 查询/ 图/ Gq/ 的/ 全部/ 强/ 连通/ 分量/ ,/ 之后/ 根据/ rank/ 值/ 的/ 定义/ 求出/ Gq/ 中/ 顶点/ 的/ rank/ 值/ ./ 从步/ 4/ 开始/ ,/ 是/ 匹配/ 算法/ 的/ 执行/ 过程/ ,/ 该/ 过程/ 会/ 对/ Gq/ 中/ 的/ 所有/ 顶点/ 进行/ 扫描/ ,/ 来/ 计算/ 每个/ 顶点/ 的/ 匹配/ 顶点/ 集合/ ./ 在/ 计算/ 匹配/ 顶点/ 集合/ 时/ ,/ 对于/ 每/ 一个/ u/ ∈/ Vq/ 来说/ ,/ 又/ 分为/ 以下/ 两种/ 情况/ :/ (/ 1/ )/ 顶点/ u/ 的/ 任意/ 邻接/ 点/ 已经/ 完成/ 匹配/ :/ 步/ 7/ ~/ 步/ 15/ 显示/ 了/ 这/ 一/ 过程/ ./ 如果/ 当前/ 顶点/ u/ 的/ 任意/ 邻居/ 顶点/ v/ 已经/ 完成/ 匹配/ 顶点/ 集合/ v/ ./ MS/ 的/ 计算/ ,/ 则/ 查询/ 顶点/ u/ 的/ 候选/ 集会/ 根据/ v/ ./ MS/ 进行/ 剪枝/ ./ 其/ 过程/ 为/ :/ 遍历/ v/ ./ MS/ ,/ 对/ 其中/ 的/ 任意/ 顶点/ n/ ,/ 计算/ 其/ 与/ 邻居/ 顶点/ m/ 的/ rank/ 值/ 的/ 差值/ ,/ 如果/ |/ rank/ (/ m/ )/ -/ ramk/ (/ n/ )/ |/ =/ |/ rank/ (/ v/ )/ -/ rank/ (/ u/ )/ |/ ,/ 并且/ 顶点/ n/ 与/ 顶点/ u/ 的/ 标签/ 一致/ ,/ 则/ 顶点/ n/ 与/ 顶点/ u/ 匹配/ 成功/ ./ (/ 2/ )/ 顶点/ u/ 的/ 所有/ 邻接/ 点/ 都/ 未/ 完成/ 匹配/ :/ 步/ 16/ ~/ 步/ 22/ 显示/ 了/ 这/ 一/ 过程/ ./ 如果/ 当前/ 顶点/ u/ 的/ 所有/ 邻居/ 顶点/ 都/ 未/ 完成/ 匹配/ 顶点/ 集合/ 的/ 计算/ ,/ 则/ 在/ Gsq/ 中/ ,/ 所有/ 与/ u/ 标签/ 一致/ 的/ 顶点/ 都/ 被/ 加入/ 到/ 顶点/ u/ 的/ 匹配/ 候选/ 集合/ 中/ ./ 根据/ 以上/ 匹配/ 过程/ 可以/ 看出/ ,/ 若/ 当前/ 查询/ 顶点/ u/ 的/ 邻居/ 顶点/ 已经/ 匹配/ 完成/ ,/ 则/ 其/ 邻居/ 顶点/ 的/ 匹配/ 集/ 能够/ 帮助/ 顶点/ u/ 快速/ 定位/ 其/ 匹配/ 候选/ 集/ ,/ 从而/ 显著/ 提高/ 匹配/ 效率/ ./ 因此/ ,/ 第/ 1/ 个/ 查询/ 顶点/ 候选/ 集/ 的/ 大小/ 影响/ 到/ 整个/ 算法/ 的/ 时间/ 效率/ ./ 对此/ ,/ 本文/ 已/ 对/ 搜索/ 匹配/ 算法/ 做出/ 了/ 优化/ ./ 前文/ 已经/ 提到/ ,/ 所有/ 顶点/ 在/ 初次/ 匹配/ 时/ ,/ 其/ 匹配/ 集合/ 即/ 为/ 结构/ 概要/ 中/ ,/ 与/ u/ 标签/ 一致/ 的/ 顶点/ ./ 因此/ ,/ 在步/ 2/ ,/ 对/ 构成/ 结构/ 概要/ 顶点/ 的/ 所有/ 等价/ 类/ ,/ 按照/ 其/ 内部/ 顶点/ 数目/ 由小到大/ 进行/ 排序/ ./ 在/ 查询/ 时/ 优先/ 选取/ 顶点/ 规模/ 最小/ 的/ 等价/ 类/ 进行/ 匹配/ ./ 如/ 算法/ 4/ 所示/ ,/ 计算/ Gq/ 顶点/ rank/ 值/ 的/ 过程/ 可/ 在/ O/ (/ |/ Vq/ |/ +/ |/ Eq/ |/ )/ 时间/ 复杂度/ 内/ 完成/ ,/ 步/ 5/ ~/ 步/ 16/ 为/ 匹配/ 算法/ 的/ 核心/ 部分/ ./ 其中/ 步/ 5/ ~/ 步/ 24/ 根据/ 查询/ 顶点/ 的/ 邻居/ 顶点/ 进行/ 匹配/ ./ 对于/ 一个/ 查询/ 顶点/ Vq/ ,/ 其/ 邻居/ 顶点/ 数量/ 约/ 为/ |/ Eq/ |/ // |/ Vq/ |/ ;/ 同理/ 对于/ 图/ 数据/ 中/ 的/ 一个/ 顶点/ ,/ 其/ 邻居/ 顶点/ 的/ 个数/ 约/ 为/ |/ E/ |/ // |/ V/ |/ ,/ 因此/ ,/ 该/ 过程/ 的/ 时间/ 复杂度/ 约/ 为/ O/ (/ |/ Vq/ |/ ·/ (/ |/ Eq/ |/ // |/ Vq/ |/ )/ ·/ |/ V/ |/ ·/ (/ |/ E/ |/ // |/ V/ |/ )/ )/ =/ O/ (/ |/ Eq/ |/ ·/ |/ E/ |/ )/ ./ 若/ 查询/ 顶点/ 的/ 邻居/ 顶点/ 尚未/ 匹配/ ,/ 则/ 执行/ 步/ 16/ ~/ 步/ 19/ ,/ 该/ 过程/ 的/ 时间/ 复杂度/ 为/ O/ (/ (/ |/ Eq/ |/ // |/ Vq/ |/ +/ |/ V/ |/ // |/ L/ |/ )/ ·/ |/ Vq/ |/ )/ =/ O/ (/ |/ Eq/ |/ +/ |/ V/ |/ ·/ |/ Vq/ |/ // |/ L/ |/ )/ ./ 算法/ 4/ 实现/ 子图/ 匹配/ 查询/ 的/ 整体/ 时间/ 复杂度/ 为/ 当/ 查询/ 图/ 包含/ 的/ 顶点/ 和/ 边/ 的/ 数量/ 接近/ 于/ 常数/ 时/ ,/ 该/ 算法/ 的/ 时间/ 复杂度/ 约/ 为/ O/ (/ |/ E/ |/ +/ |/ V/ |/ )/ ./ 5/ 实验/ 结果/ 与/ 分析/ 本/ 节/ 设计/ 相关/ 实验/ ,/ 验证/ 论文/ 提出/ 的/ 子/ 图/ 匹配/ 查询/ 相关/ 算法/ 的/ 有效性/ ./ 实验/ 分别/ 使用/ 真实/ 数据/ 集/ 和/ 模拟/ 数据/ 集对/ 自/ 适应/ 结构/ 概要/ 和子/ 图/ 匹配/ 查询/ 算法/ 的/ 性能/ 进行/ 评价/ ./ 为了/ 便于/ 与/ 已有/ 工作/ 进行/ 比较/ ,/ 论文/ 采用/ 的/ 真实/ 数据/ 集/ 包括/ California/ [/ 25/ ]/ 、/ Internet/ [/ 25/ ]/ 和/ Citation/ [/ 38/ ]/ ,/ 另外/ ,/ 使用/ 图/ 生成/ 工具/ ,/ 构建/ 了/ 模拟/ 数据/ 集/ Synthetic/ ./ 论文/ 的/ 所有/ 算法/ 用/ V/ C++/ ./ Net2013/ 编写/ ,/ 在/ 配置/ 为/ Inteli5/ ,/ 3.1/ GHz/ 处理器/ ,/ 4GB/ 内存/ 的/ PC机/ 上/ 运行/ ./ Page115/ ./ 1/ 结构/ 概要/ 模型/ 的/ 压缩率/ 论文/ 提出/ 的/ 自/ 适应/ 结构/ 概要/ 模型/ ASSG/ (/ Adap/ -/ tiveStructuralSummaryofGraphdata/ ,/ ASSG/ )/ ,/ 是/ 基于/ 图/ 压缩/ 技术/ 构建/ 的/ ,/ 与/ 文献/ [/ 25/ ]/ 提出/ 的/ 图/ 压缩/ 模式/ Gr/ 不同之处/ 在于/ Gr/ 面向/ 全部/ 可能/ 的/ 子/ 图/ 匹配/ 查询/ 构建/ ,/ 而/ ASSG/ 只/ 针对/ 当前/ 的/ 查询/ 图/ 构建/ ,/ 其/ 初始状态/ 为/ 最大/ 图/ 压缩/ 模式/ ./ 本/ 部分/ 实验/ 将/ 压缩率/ 作为/ 评价/ 指标/ ,/ 比较/ ASSG/ 与/ Gr/ 对于/ 数据/ 图/ 的/ 压缩率/ ./ 测试/ 结构/ 概要/ 模型/ 对/ 数据/ 图/ 的/ 压缩率/ 的/ 意义/ 在于/ :/ 一方面/ ,/ 验证/ 结构/ 概要/ 模型/ 较之/ 已有/ 方法/ Gr/ 具有/ 更/ 低/ 的/ 压缩率/ ;/ 另一方面/ ,/ 分析/ 影响/ 结构/ 概要/ 模型/ 压缩率/ 的/ 主要/ 因素/ 以及/ 结构/ 概要/ 模型/ 与/ Gr/ 在/ 压缩率/ 方面/ 的/ 关系/ ./ 由于/ 数据/ 图/ 通常/ 被/ 表示/ 为/ 顶点/ 和/ 边/ 的/ 集合/ ,/ 因此/ ,/ 需要/ 从/ 顶点/ 和/ 边/ 两个/ 方面/ 的/ 压缩率/ 评价/ 图/ 压缩/ 的/ 效果/ ./ 将/ 结构/ 概要/ 的/ 顶点/ 和/ 边/ 压缩率/ 定义/ 为/ CVr/ =/ |/ Vs/ |/ // |/ V/ |/ 和/ CEr/ =/ |/ Es/ |/ // |/ E/ |/ ,/ 即/ CVr/ 和/ CEr/ 分别/ 为/ 结构/ 概要/ 的/ 顶点/ 和/ 边/ 数量/ 与/ 数据/ 图/ 顶点/ 和/ 边/ 的/ 数量/ 之间/ 的/ 比值/ ,/ 且/ 压缩率/ 越小/ ,/ 压缩/ 效果/ 越好/ ./ 由/ 前文/ 的/ 分析/ 可知/ ,/ 无论是/ 构建/ 压缩/ 图/ Gr/ 还是/ 结构/ 概要/ ASSG/ ,/ 都/ 与/ 数据/ 图中/ 顶点/ 标签/ 的/ 数量/ 有关/ ,/ 因此/ ,/ 在/ 实验/ 中/ ,/ 构造/ 一个/ 包含/ 20/ %/ 数据/ 图/ 标签/ 的/ 查询/ 图/ ,/ 用来/ 更新/ 初始/ 的/ 结构/ 概要/ Gs/ ,/ 即/ |/ Lq/ |/ =/ 20/ %/ ·/ |/ L/ |/ ./ 自/ 适应/ 结构/ 概要/ ASSG/ 与/ 压缩/ 图/ Gr/ 对图/ 3/ 查询/ 图/ 包含/ 不同/ 比例/ 标签/ 时/ ASSG/ 的/ 压缩率/ 于/ 数据/ 图/ 的/ 压缩率/ 如表/ 1/ 所示/ ./ 表/ 1/ 中/ 的/ 压缩率/ 是/ 特定/ 实验/ 条件/ 下/ ,/ 得到/ 的/ 实验/ 结果/ ,/ 即/ 针对/ 表中/ 的/ 每/ 一个/ 数据/ 集/ ,/ 在/ 相同/ 的/ 实验/ 环境/ 中/ 分别/ 运行/ 压缩/ 程序/ ,/ 得到/ 相应/ 的/ 顶点/ 和/ 边/ 的/ 压缩率/ ./ 表/ 1/ 自/ 适应/ 结构/ 概要/ 与/ 图/ 压缩/ 模式/ 的/ 压缩率/ 对比/ 数据/ 集/ |/ V/ |/ |/ E/ |/ |/ L/ |/ ASSG/ // %/ California154632969433/ ./ 2544.4049/ ./ 2266.32/ Internet10878399945017/ ./ 8058.0042/ ./ 4178.37/ Citation2152448529675/ ./ 8315.2031/ ./ 7151.65/ Synthetic100000547666602/ ./ 369.8926/ ./ 8953.44/ 从表/ 1/ 可以/ 看出/ ,/ ASSG/ 平均/ 可/ 将/ 数据/ 图/ 的/ 顶点/ 规模/ 压缩/ 至原/ 规模/ 的/ 15/ %/ ,/ 将边/ 压缩/ 至原/ 规模/ 的/ 32/ %/ ./ 在/ 对于/ 数据/ 图/ 的/ 压缩率/ 方面/ ,/ 由于/ ASSG/ 只/ 覆盖/ 当前/ 查询/ 图/ ,/ 其/ 顶点/ 和/ 边/ 的/ 压缩率/ 优于/ Gr/ ./ 如果/ 增加/ 查询/ 图/ 涉及/ 到/ 的/ 标签/ 数量/ ,/ 由/ 结构/ 概要/ 的/ 定义/ 以及/ 自/ 适应/ 更新/ 算法/ 的/ 过程/ 可以/ 分析/ 出/ ,/ 更新/ 后/ 的/ 结构/ 概要/ 对/ 数据/ 图/ 的/ 压缩率/ 会/ 随着/ 查询/ 图/ 标签/ 数量/ 的/ 增加/ 而/ 增长/ ,/ 直到/ 达到/ Gr/ 的/ 压缩率/ ./ 图/ 3/ 分别/ 展示/ 了/ 查询/ 图/ 数量/ 分别/ 为/ 1/ 、/ 2/ 、/ 5/ 、/ 10/ 的/ 情况/ 下/ ,/ 当/ 查询/ 图/ 一共/ 涉及/ 到/ 数据/ 图/ 标签/ 的/ 比例/ 由/ 10/ %/ 增加/ 到/ 100/ %/ 时/ ,/ ASSG/ 压缩率/ 的/ 变化/ 情况/ ./ 图中/ 横坐标/ 表示/ 所有/ 查询/ 图中/ 包含/ 的/ 标签/ 数量/ 占/ 数据/ 图/ 标签/ 总数/ 的/ 百分比/ ,/ 即/ |/ Lq/ |/ // |/ L/ |/ ./ 为了/ 使得/ 实验/ 数据/ 具有/ 可比性/ ,/ 假设/ |/ Lq/ |/ // |/ L/ |/ 一定/ 时/ ,/ 不同/ 数量/ 的/ 查/ Page12/ 询图/ 所/ 包含/ 的/ 标签/ 一致/ ,/ 即/ 查询/ 图/ 数量/ 分别/ 为/ 1/ 、/ 2/ 、/ 5/ 、/ 10/ 时/ ,/ 这/ 几组/ 查询/ 图/ 具有/ 相同/ 的/ 标签集/ ./ 通过/ 图/ 3/ 可以/ 得出/ 以下/ 结论/ :/ (/ 1/ )/ 当/ |/ Lq/ |/ // |/ L/ |/ 一定/ 时/ ,/ 在/ 查询/ 图/ 的/ 数量/ 不同/ 但/ 标签集/ 一致/ 的/ 情况/ 下/ ,/ ASSG/ 的/ 压缩率/ 相同/ ,/ 因此/ ASSG/ 的/ 压缩率/ 主要/ 取决于/ |/ Lq/ |/ ;/ (/ 2/ )/ |/ Lq/ |/ // |/ L/ |/ 越高/ ,/ 压缩率/ 越大/ ,/ 即/ ASSG/ 的/ 压缩率/ 与/ |/ Lq/ |/ // |/ L/ |/ 呈/ 线性/ 正/ 相关/ ,/ 当/ |/ Lq/ |/ // |/ L/ |/ =/ 1/ 时/ ,/ 压缩率/ 最大/ ,/ 且/ 与/ Gr/ 的/ 压缩率/ 相同/ ,/ 这是/ 由于/ 此时/ 的/ ASSG/ 与/ Gr/ 一样/ 覆盖/ 了/ 所有/ 可能/ 的/ 子/ 图/ 匹配/ 查询/ ./ 5.2/ 结构/ 概要/ 模型/ 的/ 构建/ 效率/ 本/ 部分/ 实验/ ,/ 通过/ 图/ 数据/ 工具/ 生成/ 一组/ 模拟/ 数据/ 集/ ,/ 验证/ 不同/ 规模/ 数据/ 图/ 的/ 自/ 适应/ 结构/ 概要/ 模型/ 构建/ 的/ 时间/ 效率/ ./ 数据/ 集如表/ 2/ 所示/ ,/ 实验/ 使用/ 的/ 数据/ 图/ 在/ 顶点/ 规模/ 与/ 边/ 规模/ 上/ 进行/ 递增/ ,/ 而/ 标签/ 数量/ 保持/ 不变/ ./ 图/ 4/ 展示/ 了/ 结构/ 概要/ 模型/ 在/ 该组/ Synthetic/ 数据/ 集上/ 的/ 构建/ 时间/ ,/ 呈/ 线性/ 时间/ 复杂度/ ./ 通过/ 3.2/ 节/ 数据/ 集/ 顶点/ 数/ |/ V/ |/ 边数/ |/ E/ |/ 标签/ 数/ |/ L/ |/ S1S2S3S4S5S6S7S8/ 图/ 5/ 包含/ 不同/ 数量/ 重复/ 标签/ 的/ 查询/ 图/ 更新/ ASSG/ 的/ 时间/ 对/ 算法/ 2/ 的/ 分析/ 可知/ ,/ 构建/ 结构/ 概要/ 模型/ 的/ 时间/ 代价/ 与/ 数据/ 图/ 的/ 顶点/ 数和边/ 数/ 线性相关/ ,/ 图/ 4/ 证明/ 了/ 该/ 结论/ 的/ 正确性/ ./ 图/ 4/ 不同/ 规模/ 的/ 模拟/ 数据/ 集/ 构建/ 结构/ 概要/ 的/ 时间/ 5.3/ 结构/ 概要/ 模型/ 的/ 自/ 适应/ 更新/ 既然/ ASSG/ 只/ 对/ 当前/ 查询/ 图/ 有效/ ,/ 为了/ 进行/ 更/ 多/ 的/ 子/ 图/ 匹配/ 查询/ ,/ ASSG/ 需要/ 具备/ 针对/ 不同/ 查询/ 图/ 的/ 自/ 适应/ 更新/ 功能/ ./ 为/ 验证/ 算法/ 3/ 的/ 有效性/ ,/ 本/ 部分/ 的/ 实验/ 将/ 验证/ 结构/ 概要/ 模型/ 的/ 自/ 适应/ 更新/ 性能/ ./ 5.3/ ./ 1/ 自/ 适应/ 更新/ 性能/ 的/ 影响/ 因素/ 分析/ 实验/ 将/ 设计/ 4/ 组/ 、/ 每组/ 两个/ 包含/ 不同/ 标签/ 的/ 查询/ 图/ ,/ 每个/ 查询/ 图均/ 包含/ 数据/ 图中/ 20/ %/ 的/ 标签/ ./ 4/ 组/ 查询/ 图中/ ,/ 每组/ 的/ 两个/ 查询/ 图/ 分别/ 包含/ 0/ 个/ 、/ 1/ 个/ 、/ 2/ 个/ 和/ 5/ 个/ 重复/ 的/ 标签/ ,/ 根据/ 这/ 两个/ 查询/ 图/ 在/ 结构/ 概要/ 粗糙/ 模型/ 上/ 进行/ 两次/ 更新/ ./ 图/ 5/ 展示/ 了/ 结构/ 概/ Page13/ 要/ 针对/ 上述/ 4/ 组/ 查询/ 图/ 的/ 自/ 适应/ 更新/ 性能/ ,/ 当/ 不同/ 的/ 查询/ 图/ 包含/ 越/ 多/ 重复/ 标签/ 的/ 时候/ ,/ 结构/ 概要/ 自/ 适应/ 更新/ 的/ 效率/ 越高/ ./ 图/ 5/ (/ b/ )/ 的/ 两个/ 查询/ 图/ 只/ 包含/ 1/ 个/ 重复/ 标签/ ,/ 结构/ 概要/ 自/ 适应/ 更新/ 以/ 满足/ 第/ 2/ 个/ 查询/ 图/ 的/ 时间/ 代价/ 接近/ 于/ 根据/ 第/ 1/ 个/ 查询/ 图对/ 结构/ 概要/ 的/ 自/ 适应/ 更新/ ;/ 图/ 5/ (/ d/ )/ 所示/ 的/ 两个/ 查询/ 图/ 包含/ 了/ 5/ 个/ 重复/ 标签/ ,/ 根据/ 第/ 2/ 个/ 查询/ 图/ 更新/ 结构/ 概要/ 的/ 时间/ 代价/ 明显/ 低于/ 第/ 1/ 次/ 更新/ ./ 由此/ 可以/ 得到/ 的/ 结论/ 是/ ,/ 当子/ 图/ 查询/ 趋于稳定/ 时/ ,/ 即/ 结构/ 概要/ 模型/ 已经/ 能够/ 应对/ 绝大部分/ 子图/ 匹配/ 查询/ 要求/ 时/ ,/ 结构/ 概要/ 进行/ 更新/ 的/ 可能性/ 越小/ ./ 因此/ ,/ 自/ 适应/ 结构/ 概要/ 针对/ 以下/ 两类/ 子图/ 匹配/ 查询/ 的/ 处理/ 效率/ 较/ 高/ :/ 一是/ 子图/ 匹配/ 查询/ 集中/ 于/ 数据/ 图/ 的/ 少部分/ 顶点/ ;/ 二是/ 频繁/ 查询/ 的/ 子/ 图/ ./ 即使/ 查询/ 图新/ 引入/ 的/ 标签/ 种类/ 在/ 数量/ 上/ 一致/ ,/ 而/ 新/ 引入/ 的/ 标签/ 种类/ 不/ 一致/ 时/ ,/ ASSG/ 更新/ 的/ 时间/ 以及/ 压缩率/ 仍然/ 可能/ 不同/ ./ 表/ 3/ 给出/ 了/ 在/ California/ 数据/ 集上/ ,/ 一个/ 查询/ 图新/ 引入/ 的/ 标签/ 种类/ 逐渐/ 递增/ 时/ ,/ ASSG/ 更新/ 的/ 时间/ 与/ 压缩率/ ./ 新/ 引入/ 标签/ 种类/ ASSG/ 更新/ 时间/ // sASSG/ 更新/ 后/ 的/ 压缩率/ // %/ 10153050/ 对比/ 表/ 3/ 第/ 1/ 行/ 与/ 第/ 2/ 行/ ,/ 不难/ 得出/ 更新/ 时/ 引入/ 了/ 5/ 种新/ 的/ 标签/ ,/ ASSG/ 细化/ 这/ 5/ 个/ 标签/ 相关/ 等价/ 类/ 所/ 需/ 时间/ 为/ 0.32/ s/ (/ 1.66/ s/ -/ 1.34/ s/ )/ ,/ 其/ 更新/ 后/ 的/ 压缩率/ 提高/ 了/ 1.17/ %/ (/ 22.06/ %/ -/ 20.89/ %/ )/ ;/ 而/ 对比/ 第/ 2/ 行/ 与/ 第/ 3/ 行/ ,/ ASSG/ 细化/ 这/ 5/ 个/ 标签/ 所/ 需/ 时间/ 为/ 2.65/ s/ (/ 4.31/ s/ -/ 1.66/ s/ )/ ,/ 其/ 更新/ 后/ 的/ 压缩率/ 提高/ 了/ 11.19/ %/ (/ 33.25/ %/ -/ 22.06/ %/ )/ ./ 同样/ 在/ 查询/ 时/ 引入/ 5/ 个/ 新/ 的/ 标签/ ,/ 但/ ASSG/ 的/ 更新/ 效率/ 以及/ 压缩率/ 却/ 有/ 较大/ 差别/ ./ 从/ 理论/ 角度/ 分析/ ,/ ASSG/ 的/ 这/ 一/ 特性/ 不难理解/ ./ 因为/ 带有/ 不同/ 标签/ 的/ 顶点/ 在数目上/ 可能/ 有/ 较大/ 差异/ ,/ 因此/ 在/ 相关/ 等价/ 类/ 被/ 细化/ 时/ ,/ 所/ 需要/ 的/ 时间/ 与/ 空间/ 复杂度/ 也/ 会/ 相差/ 较/ 多/ ./ 本文/ 同样/ 在/ 其它/ 数据/ 集上/ 进行/ 了/ 类似/ 实验/ ,/ 实验/ 结果/ 与表/ 3/ 给出/ 的/ 结果/ 相一致/ ./ 综上所述/ ,/ ASSG/ 更新/ 的/ 时间/ 性能/ 与/ 更新/ 后/ 的/ 压缩率/ 不仅/ 与/ 新/ 引入/ 标签/ 的/ 数量/ 有关/ ,/ 还/ 与/ 包含/ 新/ 引入/ 标签/ 的/ 顶点/ 数量/ 有关/ ./ 5.3/ ./ 2/ 自/ 适应/ 更新/ 的/ 性能/ 分析/ 本/ 实验/ 采用/ Synthetic/ 数据/ 集/ ,/ 其/ 统计/ 信息/ 已经/ 在/ 表/ 2/ 中/ 给出/ ./ 首先/ ,/ 选取/ 4/ 组/ (/ S3/ ~/ S6/ )/ 顶点/ 规模/ 较大/ 、/ 但/ 顶点/ 平均/ 出度/ 较/ 小/ 的/ 数据/ 集/ 作为/ 测试数据/ ,/ 即/ 顶点/ 规模/ 为/ 10000/ ~/ 100000/ ,/ 每个/ 顶点/ 的/ 平均/ 出度/ 约/ 为/ 5/ ./ 构造/ 6/ 个/ 查询/ 图/ Q1/ ~/ Q6/ ,/ 如表/ 4/ 所示/ ,/ 每个/ 查询/ 图均/ 包含/ 60/ 个/ 顶点/ 和/ 229/ 条边/ ,/ 标签/ 数量/ 分别/ 为/ 5/ ,/ 10/ ,/ 15/ ,/ 30/ ,/ 45/ 和/ 60/ ./ 对于/ 每/ 一个/ 查询/ ,/ 皆/ 在/ 表/ 2/ 所示/ 的/ Synthetic/ 数据/ 集/ S3/ ~/ S6/ 上/ 进行/ 测试/ ,/ 用以/ 验证/ ASSG/ 在/ 不同/ 数据/ 规模/ 下/ 的/ 更新/ 性能/ ./ 查询/ 图/ Q1Q2Q3Q4Q5Q6/ 标签/ 比例/ // %/ 1015255075100/ 图/ 6/ 展示/ 了/ 实验/ 的/ 整体/ 测试/ 结果/ ./ 其/ 横坐标/ 已经/ 进行/ 过/ 处理/ ,/ 即/ 为/ |/ E/ |/ log/ |/ V/ |/ ,/ 纵坐标/ 为/ 引入/ 查询/ 图时/ ASSG/ 的/ 更新/ 时间/ ./ 其中/ ,/ Q1/ ~/ Q6/ 为表/ 4/ 所示/ 的/ 查询/ 图/ ./ 从图/ 6/ 中/ 可以/ 明显/ 看出/ ,/ 以/ ASSG/ 的/ 更新/ 时间/ 为/ 纵坐标/ ,/ 以/ 数据/ 图/ 的/ |/ E/ |/ log/ |/ V/ |/ 为/ 横坐标/ 的/ 顶点/ 连线/ 为/ 一条/ 直线/ ,/ 这/ 表明/ ASSG/ 的/ 更新/ 时间/ 与/ 数据/ 图/ 的/ |/ E/ |/ log/ |/ V/ |/ 正/ 相关/ ,/ 从而/ 验证/ 了/ ASSG/ 的/ 更新/ 时间/ 复杂度/ 为/ O/ (/ |/ E/ |/ log/ |/ V/ |/ )/ ./ 然后/ ,/ 在/ 高密度/ 图上/ 进行/ 测试/ ,/ 从表/ 2/ 中/ 选取/ 3/ 组/ (/ S6/ ~/ S8/ )/ 数据/ 集/ ,/ 每个/ 数据/ 集/ 顶点/ 规模/ 均/ 为/ 100000/ 个/ ,/ 顶点/ 的/ 平均/ 出/ 度/ 分别/ 为/ 5/ ,/ 20/ ,/ 50/ ./ 构造/ 与/ 上/ 一组/ 测试/ 相同/ 的/ 6/ 个/ 查询/ 图/ ,/ 验证/ ASSG/ 在/ 不同/ 密度/ 数据/ 图中/ 的/ 更新/ 性能/ ./ 测试/ 结果/ 如图/ 7/ 所示/ ,/ 虽然/ 高密度/ 图/ 每个/ 顶点/ 平均/ 出/ 度/ 较大/ ,/ 结构/ 更加/ 复杂/ ,/ 但是/ 结构/ 概要/ 的/ 自/ 适应/ 更新/ 时间/ 仍然/ 与/ |/ E/ |/ log/ |/ V/ |/ 线性/ 正/ 相关/ ./ 5.4/ 子图/ 匹配/ 查询/ 算法/ 本文/ 基于/ 双拟/ 关系/ ,/ 按照/ 图/ 模拟/ 的/ 思想/ 对子/ 图/ 匹配/ 查询/ 问题/ 进行/ 了/ 定义/ ./ 本/ 部分/ 实验/ 将/ 验证/ 论文/ 提出/ 的/ 基于/ 自/ 适应/ 结构/ 概要/ 的/ 子/ 图/ 匹配/ 查询/ 算法/ 的/ 总体/ 性能/ ./ 子图/ 匹配/ 查询/ 由/ 两个/ 过程/ 构成/ :/ 一是/ 结构/ 概要/ 根据/ 查询/ 图/ 进行/ 自/ 适应/ 更新/ 的/ 过程/ ;/ 二是/ 基于/ Page14/ 更新/ 后/ 的/ 结构/ 概要/ 进行/ 子图/ 匹配/ 查询/ 的/ 过程/ ./ 因此/ ,/ 将/ 设计/ 3/ 个/ 实验/ :/ 一是/ 在/ 不同/ 规模/ 数据/ 集上/ ,/ 处理/ 少量/ 包含/ 相同/ 比例/ 标签/ 的/ 查询/ 图时/ ,/ 验证/ 结构/ 概要/ 的/ 自/ 适应/ 更新/ 性能/ 以及/ 相应/ 的/ 子/ 图/ 匹配/ 查询/ 性能/ ;/ 二是/ 在/ 不同/ 规模/ 数据/ 集上/ ,/ 处理/ 大量/ 随机/ 生成/ 的/ 查询/ 图时/ ,/ 验证/ 结构/ 概要/ 的/ 自/ 适应/ 更新/ 性能/ 以及/ 相应/ 的/ 子/ 图/ 匹配/ 查询/ 性能/ ;/ 三是/ 将/ 论文/ 提出/ 的/ 算法/ (/ ASSG/ 算法/ )/ 与/ 已有/ 的/ 关于/ 子图/ 模拟/ 匹配/ 的/ 强/ 模拟/ 算法/ (/ StrongSimulation/ ,/ SS/ )/ [/ 18/ ]/ 进行/ 比较/ ./ 5.4/ ./ 1/ 针对/ 少量/ 查询/ 图/ 的/ 总体/ 性能/ 验证/ 在/ 表/ 2/ 所示/ 的/ 不同/ 规模/ Synthetic/ 数据/ 集/ S1/ ~/ S6/ 上/ ,/ 对/ 包含/ 不同/ 比例/ 标签/ 的/ 查询/ 图/ Q1/ ~/ Q6/ (/ 如表/ 4/ 所示/ )/ ,/ 验证/ 在/ 数据/ 图中/ 进行/ 子图/ 匹配/ 查询/ 时/ ,/ 结构/ 概要/ 模型/ 的/ 更新/ 效率/ 和子/ 图/ 匹配/ 查询/ 的/ 效率/ ./ 图/ 8/ 展示/ 了/ 在/ 不同/ 规模/ 数据/ 集上/ 进行/ 子图/ 匹配/ 查询/ 时/ ,/ 结构/ 概要/ 自/ 适应/ 更新/ 的/ 运行/ 时间/ ./ 由图/ 8/ 可知/ ,/ 在/ 不同/ 规模/ 数据/ 集上/ ,/ 对/ 相同/ 的/ 查询/ 图/ 执行/ 查询/ 时/ ,/ 相应/ 结构/ 概要/ 的/ 自/ 适应/ 更新/ 代价/ 与/ |/ E/ |/ log/ |/ V/ |/ 线性/ 正/ 相关/ ;/ 而/ 在/ 相同/ 规模/ 数据/ 集上/ ,/ 执行/ 包含/ 不同/ 比例/ 标签/ 的/ 查询/ 图时/ ,/ 结构/ 概要/ 的/ 更新/ 时间/ 也/ 有/ 区别/ ,/ 这/ 与/ 查询/ 图/ 包含/ 的/ 标签/ 数量/ 有关/ (/ 见/ 5.3/ ./ 1/ 节/ 的/ 相关/ 分析/ )/ ./ 图/ 9/ 展示/ 了/ 在/ 更新/ 后/ 的/ 结构/ 概要/ 上/ 进行/ 子图/ 匹配/ 查询/ 的/ 时间/ 效率/ ./ 在/ 不同/ 规模/ 数据/ 集上/ ,/ 对图/ 8/ 包含/ 不同/ 数量/ 标签/ 的/ 查询/ 图/ 更新/ ASSG/ 的/ 时间/ 相同/ 的/ 查询/ 图/ 执行/ 子图/ 匹配/ 查询/ 的/ 代价/ 接近/ 于/ 线性/ 时间/ 复杂度/ ;/ 而/ 在/ 相同/ 规模/ 数据/ 集上/ ,/ 对/ 包含/ 不同/ 比例/ 标签/ 的/ 查询/ 图/ 进行/ 子图/ 匹配/ 查询/ 的/ 时间/ 效率/ 几乎/ 相同/ ,/ 这/ 表明/ ,/ 子图/ 匹配/ 查询/ 算法/ (/ 算法/ 4/ )/ 只/ 依赖于/ 数据/ 图/ 的/ 规模/ (/ O/ (/ |/ E/ |/ +/ |/ V/ |/ )/ )/ ,/ 而/ 与/ 查询/ 图/ 包含/ 的/ 标签/ 数量/ 无关/ ,/ 从而/ 验证/ 了/ 4.3/ 节/ 对子/ 图/ 匹配/ 算法/ 时间/ 复杂度/ 的/ 分析/ ./ 5.4/ ./ 2/ 针对/ 大量/ 查询/ 图/ 的/ 总体/ 性能/ 验证/ 本/ 部分/ 实验/ ,/ 在/ 表/ 1/ 所示/ 的/ 4/ 组/ 数据/ 集上/ ,/ 验证/ 论文/ 提出/ 的/ 方法/ 在/ 处理/ 大量/ 查询/ 图时/ ,/ 在/ 结构/ 概要/ 自/ 适应/ 更新/ 和子/ 图/ 匹配/ 查询/ 方面/ 的/ 性能/ ./ (/ 1/ )/ 在/ 不/ 限制/ 查询/ 图/ 顶点/ 标签/ 范围/ 的/ 情况/ 下/ ,/ 根据/ 数据/ 图/ 的/ 顶点/ 标签/ 随机/ 生成/ 150/ 个/ 包含/ 10/ 个/ 顶点/ 和/ 30/ 条边/ 的/ 查询/ 图/ ./ 由于/ 顶点/ 标签/ 的/ 分配/ 具有/ 随机性/ ,/ 因此/ ,/ 从图/ 10/ 中/ 可以/ 看到/ ,/ 顶点/ 更新/ 的/ 时间/ 代价/ 也/ 具有/ 随机性/ ,/ 但是/ ,/ 当/ 生成/ 一定/ 数量/ 的/ 查询/ 图时/ ,/ 这些/ 查询/ 图/ 已经/ 覆盖/ 了/ 数据/ 图/ 的/ 全部/ 顶点/ 标签/ ,/ 再/ 处理/ 后续/ 的/ 查询/ 图时/ ,/ 无需/ 进行/ 结构/ 概要/ 的/ 更新/ (/ 更新/ 时间/ 为/ 0/ )/ ,/ 而/ 此时/ 的/ 结构/ 概要/ 模型/ 的/ 压缩率/ 达到/ 最大值/ ,/ 接近/ 于/ Gr/ (/ 参见/ 5.1/ 节/ 对于/ 图/ 3/ 的/ 分析/ )/ ./ 在/ 更新/ 后/ 的/ 结构/ 概要/ 中/ ,/ 对/ 这/ 150/ 个/ 查询/ 图/ 进行/ 子图/ 匹配/ 查询处理/ 的/ 时间/ 代价/ (/ 如图/ 11/ 所示/ )/ 具有/ 随机性/ ,/ 但/ 都/ 比较/ 接近/ ,/ 这/ 是因为/ 子图/ 匹配/ 查询/ 算法/ 只/ 与/ 数据/ 图/ 的/ 顶点/ 和/ 边数/ 有关/ ./ (/ 2/ )/ 选取/ 数据/ 图/ 顶点/ 标签/ 集合/ 中/ 20/ %/ 的/ 标签/ ,/ 随机/ 构建/ 100/ 个/ 包含/ 10/ 个/ 顶点/ 和/ 30/ 条边/ 的/ 查询/ 图/ ,/ 以/ 模拟/ “/ 子图/ 匹配/ 查询/ 集中/ 于/ 20/ %/ 的/ 标签/ ”/ 或者/ “/ 有/ 20/ %/ 的/ 标签/ 被/ 频繁/ 地/ 查询/ ”/ 的/ 情况/ ./ 从图/ 12/ 中/ 可以/ 看出/ ,/ 当/ 处理/ 到/ 8/ 个/ 左右/ 的/ 查询/ 图时/ ,/ 结构/ 概要/ 已经/ 覆盖/ 了/ 指定/ 的/ 20/ %/ 数据/ 图/ 顶点/ 标签/ ,/ 再/ 处理/ 后续/ 的/ 查询/ 图时/ ,/ 无需/ 进行/ 结构/ 概要/ 更新/ ,/ 而/ 此时/ 的/ 结构/ 概要/ 模型/ 的/ 压缩率/ ,/ 小于/ Gr/ (/ 参见/ 5.1/ 节/ 对于/ 图/ 3/ 的/ 分析/ )/ ./ 图/ 13/ 展示/ 了/ 对于/ 每个/ 查/ Page15/ 图/ 10/ 不/ 限定/ 标签/ 范围/ ,/ 处理/ 150/ 个/ 随机/ 查询/ 图时/ 自/ 适应/ 结构/ 概要/ 的/ 自/ 适应/ 更新/ 代价/ 图/ 11/ 不/ 限定/ 标签/ 范围/ ,/ 处理/ 150/ 个/ 随机/ 查询/ 图时/ 的/ 子/ 图/ 匹配/ 查询/ 时间/ 代价/ Page16/ 图/ 12/ 限定/ 标签/ 范围/ ,/ 处理/ 100/ 个/ 随机/ 查询/ 图时/ 自/ 适应/ 结构/ 概要/ 的/ 自/ 适应/ 更新/ 代价/ 图/ 13/ 限定/ 标签/ 范围/ ,/ 处理/ 100/ 个/ 随机/ 查询/ 图时/ 的/ 子/ 图/ 匹配/ 查询/ 时间/ 代价/ Page17/ 询图/ 进行/ 子图/ 匹配/ 的/ 时间/ 代价/ ,/ 仍然/ 具有/ 随机性/ ,/ 且/ 比较/ 接近/ ./ 通过/ 实验/ 及其/ 分析/ 可知/ ,/ 论文/ 提出/ 的/ 方法/ ,/ 在/ 处理/ 频繁/ 查询/ 的/ 标签/ 时/ ,/ 具有/ 较/ 低/ 的/ 压缩率/ 和/ 较/ 高/ 的/ 子/ 图/ 匹配/ 查询处理/ 效率/ ./ 5.4/ ./ 3ASSG/ 算法/ 与/ 强/ 模拟/ 算法/ 的/ 对比/ 实验/ 图/ 14/ 和/ 图/ 15/ 是/ 论文/ 提出/ 的/ 基于/ 自/ 适应/ 结构/ 概要/ 进行/ 子图/ 匹配/ 查询/ 的/ 算法/ ASSG/ 与/ 强/ 模拟/ 算法/ SS/ 的/ 运行/ 效率/ 对比/ ./ 由于/ 强/ 模拟/ 匹配/ 算法/ 是/ 一个/ 包含/ 数据/ 预处理/ 的/ 完整/ 过程/ ,/ 因此/ ,/ 实验/ 过程/ 中/ 使用/ 包图/ 14/ 真实/ 数据/ 集上/ 包含/ 不同/ 数量/ 标签/ 的/ 查询/ 图/ 的/ 总体/ 查询/ 时间/ 图/ 15/ 展示/ 了/ 在/ 模拟/ 数据/ 集/ (/ 表/ 2/ 中/ 的/ 模拟/ 数据/ 集/ S1/ ~/ S5/ )/ 上/ 运行/ ASSG/ 算法/ 和/ SS/ 算法/ 的/ 时间/ ./ 对于/ 一般/ 的/ 子/ 图/ 匹配/ 查询/ ,/ 查询/ 图/ 涉及/ 到/ 的/ 标签/ 数量/ 不/ 多/ ,/ 因此/ 本/ 实验/ 构建/ 的/ 查询/ 图/ 包含/ 的/ 标签/ 数/ 固定/ 为/ 5/ ./ 由图/ 15/ 可知/ ,/ ASSG/ 算法/ 的/ 总体/ 运行/ 效率/ 远高于/ SS/ 算法/ ./ 一方面/ ,/ ASSG/ 算法/ 将/ 数据/ 图/ 进行/ 了/ 压缩/ ,/ 构建/ 结构/ 概要/ 模型/ ,/ 使得/ 查询/ 对象/ 的/ 规模/ 减小/ ;/ 另一方面/ ,/ 就子/ 图/ 匹配/ 查询/ 的/ 过程/ 而言/ ,/ ASSG/ 算法/ 的/ 总体/ 时间/ 代价/ 约/ 为/ O/ (/ |/ E/ |/ log/ |/ V/ |/ )/ ;/ 而/ SS/ 算法/ 的/ 时间/ 代价/ 约/ 为/ O/ (/ |/ V/ |/ 2/ (/ |/ V/ |/ +/ |/ E/ |/ )/ )/ ,/ 为/ 多项式/ 级/ 时间/ 复杂度/ ,/ 当/ 数据/ 集/ 规模/ 达到/ 一定/ 程度/ 时/ ,/ 算法/ 运行图/ 15/ 模拟/ 数据/ 集上/ 对/ 不同/ 规模/ 数据/ 图/ 的/ 总体/ 查询/ 时间/ 含/ 结构/ 概要/ 构建/ 、/ 自/ 适应/ 更新/ 以及/ 查询/ 3/ 个/ 过程/ 的/ 总体/ 时间/ 进行/ 对比/ ./ 仍然/ 使用/ 表/ 4/ 所示/ 的/ 查询/ 图/ 进行/ 实验/ ./ 图/ 14/ 是/ 在/ 真实/ 数据/ 集上/ ,/ 当/ 查询/ 图/ 的/ 标签/ 数量/ 分别/ 为/ 5/ 、/ 10/ 和/ 15/ 的/ 情况/ 下/ ,/ ASSG/ 算法/ 和/ SS/ 算法/ 运行/ 时间/ 的/ 比较/ ./ 从图/ 14/ 中/ 可知/ ,/ ASSG/ 算法/ 的/ 总体/ 时间/ 效率/ 远远/ 高于/ SS/ 算法/ ,/ 这是/ 由于/ ASSG/ 算法/ 运行/ 的/ 基础/ 是/ 结构/ 概要/ 模型/ ,/ 只/ 需/ 根据/ 查询/ 图/ 进行/ 相应/ 顶点/ 等价/ 类/ 的/ 细化/ 更新/ 而后/ 即可/ 进行/ 查询/ ;/ 而/ SS/ 算法/ 每次/ 运行/ 都/ 需要/ 从/ 数据/ 图中/ 直接/ 进行/ 模拟/ 匹配/ ./ Page18/ 非常/ 困难/ ,/ 论文/ 使用/ 的/ 实验/ 环境/ 下/ 无法/ 得出/ 子图/ 匹配/ 查询/ 结果/ ./ 6/ 结论/ 结构/ 概要/ 是/ 一类/ 压缩/ 图/ 结构/ ,/ 在子/ 图/ 匹配/ 查询/ 中/ 具有/ 重要/ 的/ 作用/ ./ 论文/ 首先/ 基于/ 图/ 压缩/ 技术/ ,/ 提出/ 了/ 以/ 顶点/ 等价/ 类为/ 核心/ 的/ 有/ 向/ 标签/ 图/ 结构/ 概要/ 模型/ ,/ 该/ 模型/ 能够/ 根据/ 当前/ 查询/ 图/ 的/ 结构/ 自/ 适应/ 更新/ ,/ 通过/ 顶点/ 细化/ 分裂/ 的/ 方式/ ,/ 使/ 更新/ 后/ 的/ 结构/ 概要/ 覆盖/ 当前/ 查询/ 图/ 在/ 数据/ 图中/ 的/ 全部/ 匹配/ 子图/ ;/ 然后/ ,/ 提出/ 基于/ 自/ 适应/ 结构/ 概要/ 的/ 子/ 图/ 匹配/ 查询/ 算法/ ,/ 可/ 高效/ 地/ 实现/ 基于/ 图/ 模拟/ 方式/ 的/ 子/ 图/ 匹配/ 查询/ ;/ 最后/ ,/ 通过/ 设计/ 实验/ ,/ 验证/ 论文/ 提出/ 方法/ 的/ 运行/ 效率/ 和/ 有效性/ ,/ 结果表明/ ,/ 自/ 适应/ 结构/ 概要/ 较之/ 经典/ 的/ 图/ 压缩算法/ 得到/ 更/ 低/ 的/ 压缩率/ ,/ 可/ 在/ O/ (/ |/ E/ |/ log/ |/ V/ |/ )/ 时间/ 复杂度/ 内/ 实现/ 结构/ 概要/ 的/ 自/ 适应/ 更新/ 以及/ 子图/ 匹配/ 查询/ ./ 未来/ 仍/ 有/ 很多/ 挑战性/ 的/ 工作/ :/ (/ 1/ )/ 论文/ 选用/ 的/ 实验/ 数据/ ,/ 无论是/ 图/ 数据/ 自身/ ,/ 还是/ 构建/ 的/ 结构/ 概要/ 模型/ 都/ 能够/ 在/ 内存/ 中/ 存储/ ,/ 但是/ 存在/ 着/ 更/ 大规模/ 的/ 数据/ ,/ 需要/ 进行/ 更为/ 复杂/ 的/ 处理/ ;/ (/ 2/ )/ 论文/ 的/ 工作/ 针对/ 有/ 向/ 标签/ 图/ ,/ 相关/ 思想/ 如何/ 应用/ 于/ 无/ 向/ 图/ 甚至/ 更加/ 复杂/ 的/ 图/ 数据/ ,/ 需要/ 进一步/ 的/ 研究/ ./ 

