Page1/ 一种/ 基于/ 环/ 切割/ 的/ 约束/ 满足/ 问题/ 求解/ 算法/ 李占山/ 李/ 宏博/ 张永刚/ 王孜文/ (/ 吉林大学/ 符号计算/ 与/ 知识/ 工程/ 教育部/ 重点/ 实验室/ 长春/ 130012/ )/ (/ 吉林大学/ 计算机科学/ 与/ 技术/ 学院/ 长春/ 130012/ )/ 摘要/ 该文/ 首先/ 给出/ 一种/ 无环/ 约束/ 满足/ 问题/ 的/ 无/ 回溯/ 搜索算法/ Tree/ _/ Search/ ,/ 然后/ 将/ 环/ 切割/ 思想/ 嵌入/ 到/ 目前/ 最/ 流行/ 的/ MAC3rm/ 算法/ 中/ ,/ 给出/ 一种/ 新/ 算法/ CCS/ ./ CCS/ 将/ 原/ 回溯/ 搜索/ 过程/ 分为/ 两/ 部分/ :/ 第/ 1/ 部分/ 通过/ 回溯/ 搜索/ 求解/ 环/ 切割/ 集中/ 变量/ ,/ 将/ 原/ 问题/ 化简/ 成/ 一个/ 满足/ 弧/ 相容/ 的/ 无环/ 问题/ ;/ 第/ 2/ 部分/ 通过/ 无/ 回溯/ 的/ Tree/ _/ Search/ 算法/ 求解/ 化简/ 后/ 的/ 无环/ 问题/ ,/ 改进/ 了/ MAC3rm/ 算法/ ./ 证明/ 了/ MAC3rm/ 算法/ 在/ 环/ 切割/ 集上/ 求得/ 的/ 局部/ 解/ 一定/ 可以/ 扩展/ 为/ 一个/ 全局/ 解/ ,/ 并且/ 如果/ 原/ 问题/ 无/ 解/ ,/ 则/ MAC3rm/ 算法/ 在/ 环/ 切割/ 集上/ 找/ 不到/ 局部/ 解/ ./ 实验/ 结果显示/ ,/ CCS/ 的/ 效率/ 在/ 大多数/ 情况/ 下/ 高于/ MAC3rm/ ./ 在/ 求解/ 随机/ 问题/ 相变/ 阶段/ 的/ 测试用例/ 时/ ,/ CCS/ 的/ 效率/ 最高/ 可以/ 达到/ MAC3rm/ 的/ 140/ 倍/ ./ Benchmark/ 中/ 几组/ 问题/ 的/ 测试/ 结果显示/ ,/ CCS/ 在/ 整体/ 上/ 效率/ 高于/ MAC/ ,/ 最高/ 可以/ 达到/ MAC3rm/ 的/ 100/ 倍/ 以上/ ./ 关键词/ 弧/ 相容/ ;/ 无/ 回溯/ 搜索/ ;/ 环/ 切割/ ;/ MAC3rm1/ 引言/ 约束/ 满足/ 问题/ (/ ConstraintSatisfactionProblem/ ,/ CSP/ )/ [/ 1/ ]/ 在/ 人工智能/ 领域/ 有着/ 广泛/ 的/ 应用/ ,/ 许多/ 实际/ 应用/ 问题/ 都/ 可以/ 用/ CSP/ 进行/ 建模/ ,/ 如/ 调度/ 问题/ 、/ 配置/ 问题/ 、/ 图/ 着色/ 问题/ 等等/ ./ 约束/ 满足/ 问题/ 求解/ 一直/ 是/ 约束/ 程序/ 研究/ 领域/ 的/ 难点/ ,/ 寻找/ 一个/ CSP/ 问题/ 的/ 解是/ 一个/ NP/ 完全/ 问题/ ./ 深度/ 优先/ 的/ 回溯/ 搜索算法/ (/ Backtracking/ ,/ BT/ 算法/ )/ [/ 2/ ]/ 是/ CSP/ 求解/ 的/ 一个/ 完备/ 的/ 核心/ 算法/ ./ 为了/ 提高/ 求解/ 效率/ ,/ 通常/ 在/ 求解/ 前/ 和/ 求解/ 过程/ 中/ 使用/ 约束/ 关系/ 删除/ 变量/ 值域/ 中/ 一些/ 不/ 参与/ 解的值/ ,/ 这个/ 过程/ 称为/ 约束/ 传播/ [/ 3/ ]/ 或者/ 相容性/ 技术/ ./ 常见/ 的/ 完备/ 求解/ 算法/ 都/ 是/ 在/ BT/ 算法/ 搜索/ 过程/ 中/ 加入/ 约束/ 传播/ 技术/ ,/ 如/ 向前/ 检查/ 算法/ (/ ForwardChec/ -/ king/ ,/ FC/ )/ [/ 4/ ]/ 、/ 维持/ 弧/ 相容/ 算法/ (/ MaintainingArcConsistency/ ,/ MAC/ )/ [/ 5/ ]/ ./ 其中/ MAC/ 算法/ 是/ 应用/ 的/ 最广/ 的/ ,/ 并且/ 在/ 求解/ 大规模/ 难解/ 问题/ 时/ 有着/ 明显/ 的/ 优势/ ./ MAC/ 算法/ 是/ 在/ BT/ 算法/ 中/ 嵌入/ 弧/ 相容/ 算法/ (/ ArcConsistency/ ,/ AC/ )/ [/ 6/ ]/ ,/ 通过/ 弧/ 相容/ 算法/ 进行/ 约束/ 传播/ ,/ 达到/ 高效/ 的/ 剪枝/ 目的/ ./ MAC/ 算法/ 的/ 求解/ 效率/ 主要/ 受/ 两/ 方面/ 因素/ 的/ 影响/ ,/ 一是/ 在/ 求解/ 过程/ 中/ 使用/ 的/ AC/ 算法/ 本身/ 的/ 效率/ ,/ 另外/ 一个/ 因素/ 是/ AC/ 算法/ 使用/ 的/ 数据结构/ 的/ 复杂程度/ ,/ 因为/ 在/ 求解/ 过程/ 中/ 需要/ 维护/ 一部分/ 数据结构/ ,/ 数据结构/ 较/ 复杂/ 时/ ,/ 维持/ 这些/ 数据结构/ 要/ 消耗/ 更/ 多/ 的/ 时间/ ./ AC3/ [/ 6/ ]/ 是/ 早/ 在/ 1977/ 年/ 被/ 提出/ 的/ ,/ 它/ 是/ 最/ 简单/ 、/ 最/ 基本/ 的/ AC/ 算法/ ,/ 也/ 是/ 在/ 求解/ 中/ 应用/ 最/ 广泛/ 的/ ./ 在/ AC3/ 的/ 基础/ 上/ ,/ 一些/ 改进/ 算法/ 被/ 提出/ ,/ 如/ AC4/ [/ 7/ ]/ 、/ AC6/ [/ 8/ ]/ 、/ AC7/ [/ 9/ ]/ 、/ AC2001/ [/ 10/ ]/ 等/ ./ 这些/ 算法/ 虽然/ 有着/ 较优/ 的/ 最坏/ 时间/ 复杂度/ ,/ 但/ 由于/ 其/ 本身/ 数据结构/ 复杂/ ,/ 因此/ 在/ 求解/ 中/ 的/ 应用/ 效果/ 并/ 不是/ 很/ 理想/ ./ 2007/ 年/ Lecoutre/ 等/ 人/ [/ 11/ ]/ 提出/ 了/ AC3rm/ ,/ AC3rm/ 使用/ 和/ AC3/ ./ 1/ 类似/ 的/ 数据结构/ ,/ 但是/ 在/ 求解/ 过程/ 中/ 只/ 维护/ 和/ AC3/ 相同/ 的/ 最/ 简单/ 的/ 数据结构/ ,/ 是/ 目前/ 普遍认为/ 在/ MAC/ 算法/ 中/ 应用/ 效果/ 最好/ 的/ AC/ 算法/ ./ 除/ AC/ 算法/ 以外/ ,/ 其它/ 的/ 约束/ 传播/ 技术/ 如/ SingletonArcConsistency/ [/ 12/ -/ 13/ ]/ 、/ k/ -/ consistency/ [/ 3/ ]/ 等/ ,/ 都/ 可以/ 实现/ 比/ AC/ 算法/ 更/ 高效/ 的/ 剪枝/ ,/ 但/ 它们/ 都/ 比/ AC/ 算法/ 有着/ 更/ 高/ 的/ 时间/ 复杂度/ 和/ 更/ 复杂/ 的/ 数据结构/ ,/ 因此/ 在/ 求解/ 中/ 很少/ 被/ 应用/ ./ 除此以外/ ,/ 我国/ 学者/ 孙吉贵/ 等/ 人/ [/ 14/ ]/ 曾于/ 2008/ 年/ 在/ MAC/ 算法/ 基础/ 上/ 提出/ 了/ 一种/ 基于/ 预处理/ 技术/ 的/ 约束/ 满足/ 问题/ 求解/ 算法/ BT/ +/ MPAC/ ./ 该/ 方法/ 虽然/ 没有/ AC/ 算法/ 剪枝/ 效果/ 好/ ,/ 但是/ 本身/ 的/ 时间/ 复杂度/ 低于/ AC/ ,/ 并且/ 求解/ 过程/ 中/ 维持/ 的/ 数据结构/ 也/ 很/ 简单/ ,/ 在/ 一些/ 测试用例/ 中/ ,/ BT/ +/ MPAC/ 比/ MAC/ 算法/ 效率/ 更高/ ,/ 其/ 主要/ 缺点/ 在于/ 需要/ 在/ 求解/ 前/ 执行/ 预处理/ ./ Freuder/ [/ 15/ ]/ 于/ 1982/ 年/ 提出/ 无/ 回溯/ 搜索/ 的/ 充分条件/ 以后/ ,/ 一些/ 关于/ 无/ 回溯/ 搜索/ 的/ 思想/ 相继/ 出现/ ./ 如/ 文献/ [/ 16/ -/ 17/ ]/ ,/ 但/ 这些/ 无/ 回溯/ 搜索算法/ 主要/ 是/ 针对/ 特定/ 类型/ 的/ 问题/ ,/ 如/ 树形/ 结构/ 、/ 配置/ 问题/ 等/ ./ 普通/ 约束/ 满足/ 问题/ 的/ 无/ 回溯/ 搜索/ 需要/ 在/ 求解/ 过程/ 中/ 维持/ 高阶/ 相容/ [/ 15/ ]/ ,/ 但是/ 维持/ 高阶/ 相容/ 本身/ 要/ 消耗/ 大量/ 时间/ ,/ 因此/ 很少/ 被/ 采用/ ./ 除了/ 无/ 回溯/ 思想/ 以外/ ,/ 基于/ 将/ 问题/ 分解/ 进而/ 提高/ 求解/ 效率/ 的/ 方法/ 也/ 相继/ 被/ 提出/ [/ 18/ -/ 19/ ]/ ,/ 其中/ Dechter/ [/ 20/ ]/ 于/ 1990/ 年/ 提出/ 了/ 环/ 切割/ 集/ 的/ 概念/ ,/ 但是/ Dechter/ 关于/ 环/ 切割/ 的/ 方法/ ,/ 在/ 为/ 环/ 切割/ 集中/ 变量/ 找到/ 局部/ 解后/ ,/ 不能/ 保证/ 这个/ 局部/ 解/ 一定/ 可以/ 扩展/ 成/ 一个/ 全局/ 解/ ./ 本文/ 首先/ 给出/ 一种/ Tree/ _/ Search/ 搜索算法/ ,/ 它/ 应用/ 于/ 约束/ 图是/ 树形/ 结构/ 的/ 并且/ 满足/ 弧/ 相容/ 的/ 二元/ 问题/ 上/ 可以/ 实现/ 无/ 回溯/ 搜索/ ,/ 然后/ 将/ 环/ 切割/ 集/ 的/ 思想/ 与/ 目前/ 最/ 流行/ 的/ 求解/ 算法/ MAC3rm/ [/ 11/ ]/ 相结合/ ,/ 给出/ 一种/ 新/ 的/ 搜索算法/ (/ Cycle/ _/ Cut/ _/ Search/ ,/ 简称/ CCS/ 算法/ )/ ./ 我们/ 还/ 提出/ 了/ 环/ 切割/ 化简/ 定理/ ,/ 证明/ 了/ 通过/ MAC3rm/ 算法/ 寻找/ 到/ 的/ 环/ 切割/ 集上/ 的/ 局部/ 解/ ,/ 一定/ 可以/ 扩展/ 成/ 一个/ 全局/ 解/ ,/ 并且/ 如果/ 原/ 问题/ 无/ 解/ ,/ 则/ MAC3rm/ 算法/ 无法/ 找到/ 环/ 切割/ 集上/ 的/ 局部/ 解/ ./ 基于/ 环/ 切割/ 化简/ 定理/ ,/ CCS/ 算法/ 将/ 原/ MAC3rm/ 算法/ 的/ 全局/ 回溯/ 搜索/ 过程/ 分为/ 两/ 部分/ :/ 第/ 1/ 部分/ 在/ 环/ 切割/ 集上/ 用/ MAC3rm/ 算法/ 回溯/ 搜索/ 局部/ 解/ ;/ 第/ 2/ 部分/ 通过/ Tree/ _/ Search/ 无/ 回溯/ 搜索算法/ 将/ 局部/ 解/ 扩展/ 为/ 全局/ 解/ ./ 通过/ 环/ 切割/ 化简/ 的/ 方式/ 改进/ 了/ MAC3rm/ 算法/ ./ 我们/ 的/ 实验/ 结果显示/ ,/ CCS/ 的/ 效率/ 在/ 大多数/ 情况/ 下/ 高于/ MAC3rm/ ./ 在/ 求解/ 随机/ 问题/ 相变/ 阶段/ 的/ 测试用例/ 时/ ,/ CCS/ 的/ 效率/ 最高/ 可以/ 达到/ MAC3rm/ 的/ 140/ 倍/ ./ Benchmark/ 中/ 几组/ 问题/ 的/ 测试/ 结果显示/ ,/ CCS/ 在/ 整体/ 上/ 效率/ 高于/ MAC/ ,/ 最高/ 可以/ 达到/ MAC3rm/ 的/ 100/ 倍/ 以上/ ./ 2/ 相关/ 知识/ 介绍/ 定义/ 1/ ./ 约束/ 满足/ 问题/ [/ 1/ ]/ ./ 一个/ 约束/ 满足/ 问题/ P/ 由/ 3/ 个/ 部分/ 组成/ :/ P/ =/ 〈/ X/ ,/ D/ ,/ C/ 〉/ ,/ 其中/ X/ =/ {/ x1/ ,/ x2/ ,/ …/ ,/ xn/ }/ 是/ 一个/ 有限/ 的/ 变量/ 集合/ ;/ D/ =/ {/ D1/ ,/ D2/ ,/ …/ ,/ Dn/ }/ ,/ 其中/ Di/ ∈/ D/ 对应/ xi/ ∈/ X/ ,/ 是/ 变量/ xi/ 的/ 有限/ 值域/ ,/ C/ =/ {/ c1/ ,/ c2/ ,/ …/ ,/ ck/ }/ 是/ 一个/ 有限/ 约束/ 集合/ ,/ 其中/ 任意/ cj/ ∈/ C/ 表示/ 变量/ 取值/ 之间/ 的/ 制约/ 关系/ ./ 如果/ C/ 中/ 所有/ 约束/ 包含/ 的/ 变量/ 个数/ 都/ 小于/ 等于/ 2/ ,/ 则/ 称/ P/ 为/ 二元/ 约束/ 满足/ 问题/ ./ 一个/ 约束/ 满足/ 问题/ 的/ 解/ Page3/ 是/ 为/ 每个/ 变量/ 在/ 其/ 值域/ 中/ 选择/ 一个/ 值/ 构成/ 集合/ S/ ,/ 使得/ S/ 中/ 的/ 所有/ 变量/ 取值/ 满足/ C/ 中/ 所有/ 约束/ ./ 本文/ 中用/ P/ 表示/ 一个/ 约束/ 满足/ 问题/ ,/ S/ 表示/ P/ 的/ 一个/ 解/ ,/ P/ / X/ 表示/ P/ 的/ 变量/ 集/ ,/ P/ / C/ 表示/ P/ 的/ 约束/ 集/ ,/ (/ x/ ,/ a/ )/ 表示/ x/ 的/ 取值/ 为/ a/ ,/ n/ 表示/ P/ 中/ 包含/ 的/ 变量/ 个数/ ,/ d/ 表示/ P/ 中/ 最大/ 的/ 变量/ 值域/ 的/ 大小/ ./ 定义/ 2/ ./ 局部/ 解/ ./ 给定/ 一个/ 约束/ 满足/ 问题/ P/ =/ 〈/ X/ ,/ D/ ,/ C/ 〉/ ,/ X/ 是/ X/ 的/ 一个/ 子集/ ,/ 如果/ 对于/ X/ 中/ 所有/ 变量/ ,/ 都/ 能/ 找到/ 对应/ 的/ 赋值/ ,/ 使/ 这些/ 赋值/ 构成/ 集合/ S/ ,/ 使得/ S/ 满足/ X/ 中/ 所有/ 变量/ 相关/ 的/ 所有/ 约束/ ,/ 则/ 称/ S/ 为/ P/ 在/ X/ 上/ 的/ 局部/ 解/ ./ 在/ 二元/ 约束/ 满足/ 问题/ 中/ ,/ 如果/ 存在/ 一条/ 约束/ cxy/ ,/ 则/ (/ x/ ,/ cxy/ )/ 叫做/ 一条/ 弧/ ,/ 表示/ 的/ 是/ 约束/ cxy/ 对/ x/ 取值/ 的/ 制约/ ./ 在/ 二元/ CSP/ 中/ ,/ 一条/ 约束/ 可以/ 表示/ 两条/ 弧/ ./ 定义/ 3/ ./ 弧/ 相容/ (/ ArcConsistency/ ,/ AC/ )/ [/ 6/ ]/ ./ 给定/ 一个二元/ 约束/ 满足/ 问题/ P/ ,/ 对于/ P/ 中/ 的/ 某/ 一条/ 弧/ (/ x/ ,/ cxy/ )/ ,/ 如果/ x/ 值域/ 中/ 能/ 满足/ x/ 上/ 一元/ 约束/ 的/ 每/ 一个/ 值/ a/ ,/ 都/ 能/ 在/ y/ 的/ 值域/ 中/ 找到/ 一个/ 值/ b/ 满足/ y/ 上/ 一元/ 约束/ ,/ 并且/ (/ a/ ,/ b/ )/ 满足/ cxy/ ,/ 那么/ 称/ 它/ 是/ 弧/ 相容/ 的/ ./ 一个/ CSP/ 是/ 弧/ 相容/ 的/ ,/ 当且/ 仅/ 当/ 它/ 的/ 每/ 一条/ 弧/ 都/ 是/ 弧/ 相容/ 的/ ./ 对于/ 问题/ P/ 在/ 进行/ 弧/ 相容/ 检查/ 时/ ,/ 如果/ 检查/ 过程中将/ 某一/ 变量/ 的/ 值域/ 删空/ ,/ 则/ 此/ 问题/ P/ 无解/ ,/ 记为/ AC/ (/ P/ )/ =/ ⊥/ ./ 定义/ 4/ ./ Singleton/ 弧/ 相容/ (/ SingletonArcConsistency/ ,/ SAC/ )/ [/ 12/ ]/ ./ 给定/ 一个/ 约束/ 满足/ 问题/ P/ ,/ 其中/ 一个/ 变量/ xi/ ,/ a/ 为/ Di/ 中/ 一个/ 值/ ,/ 如果/ 用/ 单独/ 的/ {/ a/ }/ 替换/ 原/ 问题/ P/ 中/ xi/ 的/ 值域/ Di/ 后/ 得到/ 的/ P/ |/ xi/ =/ a/ 是/ 弧/ 相容/ 的/ ,/ 即/ AC/ (/ P/ |/ xi/ =/ a/ )/ ≠/ ⊥/ ,/ 则/ 称/ (/ xi/ ,/ a/ )/ 是/ singleton/ 弧/ 相容/ 的/ ./ 如果/ / xj/ ∈/ X/ ,/ / b/ ∈/ Dj/ ,/ 都/ 有/ (/ xj/ ,/ b/ )/ 是/ singleton/ 弧/ 相容/ 的/ ,/ 则/ 称/ P/ 是/ singleton/ 弧/ 相容/ 的/ ./ 本文/ 主要/ 使用/ 单个/ 值/ 的/ singleton/ 弧/ 相容/ ./ 目前/ 较/ 流行/ 的/ 实现/ 全局/ singleton/ 弧/ 相容/ 的/ 算法/ 是/ SAC/ -/ SDS/ [/ 13/ ]/ ./ 维持/ 弧/ 相容/ 算法/ (/ MaintainingArcConsistency/ ,/ MAC/ )/ [/ 5/ ]/ 是/ 一种/ 高效/ 的/ 求解/ CSP/ 问题/ 的/ 回溯/ 搜索算法/ ./ MAC/ 算法/ 是/ 在/ BT/ 算法/ 框架/ 下/ 嵌入/ AC/ 算法/ ,/ 在/ 搜索/ 过程/ 中/ 维持/ 弧/ 相容/ 的/ 状态/ ,/ 每次/ 变量/ 赋值/ 后/ 利用/ AC/ 算法/ 进行/ 约束/ 传播/ ,/ 如果/ 得到/ 一个/ 弧/ 相容/ 的/ 状态/ ,/ 则/ 赋值/ 成功/ ,/ 否则/ 赋值/ 失败/ ,/ 选择/ 下/ 一个/ 赋值/ 或者/ 发生/ 回溯/ ./ 目前/ 最/ 流行/ 的/ MAC/ 算法/ 是/ Lecoutre/ 于/ 2007/ 年/ 提出/ 的/ MAC3rm/ 算法/ ,/ 即/ 在/ MAC/ 算法/ 中/ 通过/ AC3rm/ 执行/ 弧/ 相容/ ,/ MAC3rm/ 在/ 求解/ 效率/ 上/ 比/ 其它/ MAC/ 算法/ 有着/ 明显/ 的/ 优势/ ./ 由于/ 篇幅/ 有限/ ,/ 这里/ 不/ 介绍/ MAC3rm/ 的/ 算法/ 描述/ ,/ 关于/ MAC3rm/ 的/ 一些/ 细节/ 可以/ 参考文献/ [/ 11/ ]/ ./ 给定/ 一个二元/ CSP/ ,/ 如果/ 将/ 其中/ 的/ 变量/ 当成/ 节点/ ,/ 其中/ 的/ 约束/ 当做/ 边/ ,/ 则/ 可以/ 得到/ 一个/ 无向/ 图/ G/ ,/ 我们/ 称/ G/ 为/ 这个/ CSP/ 的/ 约束/ 图/ ./ 我们/ 称/ 约束/ 图中/ 没有/ 回路/ 的/ 二元/ CSP/ 为/ 无环/ 约束/ 满足/ 问题/ 或/ 树形/ 约束/ 满足/ 问题/ ,/ 约束/ 图中/ 有/ 回路/ 的/ 称为/ 有环/ 约束/ 满足/ 问题/ ./ 定义/ 5/ ./ 环/ 切割/ 集/ (/ cycle/ -/ cutset/ )/ [/ 20/ ]/ ./ 一个/ 约束/ 图/ G/ 的/ 环/ 切割/ 集/ M/ 是/ 该/ 约束/ 图中/ 变量/ 集/ 的/ 一个/ 子集/ ,/ M/ 满足/ 如下/ 条件/ :/ 将/ M/ 中/ 的/ 变量/ 从/ 约束/ 图/ G/ 中/ 移除/ 后/ ,/ G/ 中/ 不/ 存在/ 环/ ./ 后面/ 程序/ 伪/ 代码/ 中/ 的/ X/ (/ c/ )/ 返回/ 约束/ c/ 相关/ 的/ 变量/ 集合/ ./ 本文/ 所/ 讨论/ 的/ 都/ 是/ 二元/ 约束/ 满足/ 问题/ ,/ 因此/ X/ (/ c/ )/ 得到/ 的/ 只是/ 一个/ 约束/ 相关/ 的/ 两个/ 变量/ ./ 3Tree/ _/ Search/ 搜索算法/ Freuder/ [/ 15/ ]/ 在/ 1982/ 年/ 提出/ 无/ 回溯/ 搜索/ 的/ 充分条件/ ,/ 指出/ 满足/ 弧/ 相容/ 的/ 无环/ CSP/ 在/ 宽度/ 为/ 1/ 的/ 搜索/ 序列/ 下/ 可以/ 实现/ 无/ 回溯/ 搜索/ ,/ 关于/ 搜索/ 序列/ 宽度/ 的/ 更/ 多/ 细节/ ,/ 可以/ 参考文献/ [/ 15/ ]/ ./ 我们/ 给出/ 无/ 回溯/ 搜索/ 充分条件/ 在/ 树形/ 问题/ 上/ 的/ 具体/ 描述/ ./ 定理/ 1/ ./ 给定/ 一个/ 无环/ 约束/ 满足/ 问题/ P/ ,/ 如果/ P/ 满足/ 弧/ 相容/ ,/ 则/ P/ 一定/ 有解/ ,/ 并且/ 可以/ 用/ 一种/ 无/ 回溯/ 的/ 算法/ 求解/ ./ 树/ 的/ 深度/ 优先/ 遍历/ 序列/ 和/ 宽度/ 优先/ 遍历/ 序列/ 都/ 可以/ 满足/ 宽度/ 为/ 1/ ,/ 我们/ 给出/ 一种/ 基于/ 深度/ 优先/ 顺序/ 的/ 无/ 回溯/ 搜索算法/ ./ 算法/ 1/ ./ Tree/ _/ Search/ (/ TS/ )/ 无/ 回溯/ 求解/ 算法/ ,/ P/ 为/ 一个/ 满足/ 弧/ 相容/ 的/ 无环/ 约束/ 满足/ 问题/ ./ Tree/ _/ Search/ (/ P/ )/ Begin1/ ./ Q/ =/ P/ / X/ ;/ 2/ ./ whileQisnotemptydo3/ ./ selectaxifromQ/ ;/ 4/ ./ Depth/ _/ First/ _/ Search/ (/ xi/ )/ ;/ EndDepth/ _/ First/ _/ Search/ (/ xi/ )/ // // 深度/ 优先/ 遍历/ 赋值/ Begin1/ ./ selectanavailablevaluevforxi/ ;/ 2/ ./ xi/ =/ v/ ;/ 3/ ./ removexifromQ/ ;/ 4/ ./ whilethereisanotherconstraintcinvolvexiand5/ ./ xj/ =/ X/ (/ c/ )/ -/ xi/ ;/ 6/ ./ c/ / dealed/ =/ true/ ;/ 7/ ./ Depth/ _/ First/ _/ Search/ (/ xj/ )/ ;/ EndPage4/ 定理/ 2/ ./ 算法/ Tree/ _/ Search/ 的/ 最坏/ 时间/ 复杂度/ 为/ O/ (/ nd/ )/ ./ 证明/ ./ 在/ 深度/ 优先/ 搜索/ 过程/ 中/ ,/ 搜索/ 到/ 任意/ 变量/ xi/ 时/ ,/ 若/ xi/ 为根/ 节点/ ,/ 可/ 直接/ 在/ Di/ 中/ 找到/ 一个/ 未/ 删除/ 的/ 值/ 为/ xi/ 赋值/ ./ 若/ xi/ 不是/ 根/ 节点/ ,/ 则/ 只有/ 它/ 的/ 父亲/ 节点/ xj/ 已经/ 被/ 赋值/ (/ xj/ ,/ b/ )/ ,/ 因此/ 只/ 需/ 在/ Di/ 中/ 找到/ 一个/ 值/ a/ 支持/ (/ xj/ ,/ b/ )/ 即可/ ,/ 由于/ P/ 是/ 弧/ 相容/ 的/ ,/ 所以/ 一定/ 能/ 找到/ 一个/ (/ xi/ ,/ a/ )/ 使得/ (/ a/ ,/ b/ )/ 满足/ cxy/ ./ 为/ 每个/ 变量/ 寻找/ 当前/ 可用/ 的/ 赋值/ ,/ 最/ 多/ 寻找/ d/ 个值/ ,/ 问题/ 中/ 一共/ 有/ n/ 个/ 节点/ ,/ 所以/ 算法/ Tree/ _/ Search/ 的/ 最坏/ 时间/ 复杂度/ 为/ O/ (/ nd/ )/ ./ 4/ 环/ 切割/ 化简/ 由于/ 约束/ 满足/ 问题/ 的/ 众多/ 求解/ 算法/ 都/ 是/ 建立/ 在/ 回溯/ 搜索/ 的/ 基础/ 上/ ,/ 而/ Tree/ _/ Search/ 算法/ 在/ 处理/ 无环/ 约束/ 满足/ 问题/ 时/ 效率/ 通常/ 高于/ 回溯/ 搜索算法/ ,/ 所以/ 如果/ 能够/ 将/ 普通/ 约束/ 满足/ 问题/ 转化成/ 一个/ 满足/ 弧/ 相容/ 的/ 无环/ 约束/ 满足/ 问题/ 后/ 应用/ Tree/ _/ Search/ 算法/ 进行/ 求解/ ,/ 那么/ 就/ 会/ 提高/ 问题/ 求解/ 效率/ ./ 我们/ 的/ 环/ 切割/ 思想/ 借鉴/ 了/ 单个/ 值/ singleton/ 弧/ 相容/ 的/ 定义/ ,/ 下面/ 举例说明/ :/ 一个/ 约束/ 满足/ 问题/ P/ =/ 〈/ X/ ,/ D/ ,/ C/ 〉/ ,/ X/ =/ {/ x1/ ,/ x2/ ,/ x3/ }/ ,/ Di/ =/ {/ 1/ ,/ 2/ ,/ 3/ ,/ 4/ }/ (/ i/ =/ 1/ ,/ 2/ ,/ 3/ )/ ,/ C/ =/ {/ C12/ :/ x1/ +/ x2/ >/ 2/ ,/ C23/ :/ x2/ </ x3/ ,/ C31/ :/ x3/ ≠/ x1/ }/ ,/ P/ 的/ 约束/ 图中/ 存在/ 环/ ./ 如果/ AC/ (/ P/ |/ x1/ =/ 1/ )/ ≠/ ⊥/ 后/ 得到/ 新/ 问题/ P1/ ./ 则/ P1/ / D1/ =/ {/ 1/ }/ ,/ P1/ / D2/ =/ {/ 2/ ,/ 3/ }/ ,/ P1/ / D3/ =/ {/ 3/ ,/ 4/ }/ ,/ 此时/ P1/ / D2/ 和/ P1/ / D3/ 中/ 的/ 所有/ 值/ 都/ 支持/ (/ x1/ ,/ 1/ )/ ,/ 以后/ 的/ 求解/ 过程/ 中/ ,/ 无论/ x2/ 赋值/ 为/ P1/ / D2/ 中/ 的/ 哪个/ 值/ ,/ 约束/ C12/ 都/ 一定/ 不会/ 被/ 违反/ ,/ 同理/ x3/ 的/ 赋值/ 也/ 不会/ 违反/ C31/ ,/ 因此/ 以后/ 的/ 求解/ 中/ 可以/ 不再/ 考虑/ x1/ ,/ C12/ ,/ C31/ ,/ 这样/ 就/ 可以/ 暂时/ 将/ x1/ ,/ C12/ ,/ C31/ 从/ P1/ 中/ 移除/ 后/ 得到/ P2/ ,/ 此时/ P2/ 的/ 约束/ 图中/ 只/ 含有/ x2/ ,/ x3/ ,/ C23/ ,/ 然后/ 可以/ 对/ P2/ 继续/ 求解/ ./ 定义/ 6/ ./ 给定/ 两个/ CSP/ ,/ P1/ 和/ P2/ ,/ 如果/ P1/ / X/ 和/ P2/ / X/ 相同/ ,/ 并且/ P1/ 和/ P2/ 的/ 解/ 相同/ ,/ 则/ 称/ P1/ 和/ P2/ 是/ 等价/ 的/ ./ 定理/ 3/ ./ 对于/ 一个/ 约束/ 满足/ 问题/ P/ ,/ 如果/ AC/ (/ P/ |/ xi/ =/ a/ )/ ≠/ ⊥/ 后/ 得到/ P1/ ,/ 则/ 在/ P1/ 中/ 暂时/ 将/ xi/ 及/ 所有/ 和/ xi/ 相关/ 的/ 约束/ 移除/ 后/ 得到/ 化简/ 后/ 的/ 问题/ P2/ 和/ P1/ 是/ 等价/ 的/ ./ 证明/ ./ AC/ (/ P/ |/ xi/ =/ a/ )/ ≠/ ⊥/ 得到/ P1/ 后/ ,/ 对于/ P1/ 中/ 任意/ 一个/ 和/ xi/ 之间/ 有/ 约束/ 关系/ 的/ 变量/ xj/ ,/ 当前/ P1/ / Dj/ 中/ 的/ 所有/ 值/ 都/ 一定/ 支持/ (/ xi/ ,/ a/ )/ ,/ 并且/ (/ xi/ ,/ a/ )/ 也/ 一定/ 支持/ P1/ / Dj/ 中/ 的/ 所有/ 值/ ./ 因此/ 求解/ P1/ 时/ 可以/ 不再/ 考虑/ 这些/ Cij/ ,/ 而/ P1/ / Di/ 中/ 只/ 包含/ (/ xi/ ,/ a/ )/ 一个/ 值/ ,/ 因此/ 在/ P1/ 和/ P2/ 的/ 所有/ 解中/ ,/ xi/ 的/ 取值/ 一定/ 是/ a/ ./ 因此/ 将/ 它们/ 移除/ 后/ 得到/ 的/ 新/ 问题/ P2/ 和/ P1/ 是/ 等价/ 的/ ./ 值得注意/ 的/ 是/ 定理/ 3/ 中/ 提到/ 的/ 等价/ 是/ 指/ P1/ 和/ P2/ 等价/ ,/ 并/ 不是/ 和/ 原/ 问题/ P/ 等价/ ./ 以下/ 所/ 提到/ 的/ “/ 化简/ ”/ 都/ 是/ 根据/ 定理/ 3/ 的/ 思想/ ,/ 通过/ 为/ 变量/ 赋值/ 后/ 执行/ 弧/ 相容/ 算法/ 来/ 判断/ 化简/ 是否/ 成功/ ./ 当/ AC/ (/ P/ |/ xi/ =/ a/ )/ ≠/ ⊥/ 时/ ,/ 这/ 一步/ 化简/ 成功/ ,/ 否则/ 化简/ 失败/ ./ 根据/ 定理/ 3/ ,/ 我们/ 可以/ 在/ 求解/ 过程/ 中/ 逐步/ 将/ 原/ 问题/ 化简/ ,/ 但/ 在/ 化简/ 过程/ 中/ 难免/ 遇到/ AC/ (/ P/ |/ xi/ =/ a/ )/ =/ ⊥/ 的/ 情况/ ,/ 针对/ 这一/ 问题/ ,/ 我们/ 可以/ 将/ 化简/ 过程/ 嵌入/ 到/ BT/ 算法/ 中/ ,/ 每次/ 化简/ 失败/ 时/ 启动/ 回溯/ 机制/ ./ 由于/ 我们/ 的/ 化简/ 是/ 以/ 弧/ 相容/ 执行/ 结果/ 判断/ 是否/ 化简/ 成功/ ,/ 这/ 和/ MAC3rm/ 算法/ 赋值/ 后/ 约束/ 传播/ 过程/ 接近/ ,/ 因此/ 我们/ 可以/ 将/ 环/ 切割/ 化简/ 的/ 方法/ 结合/ MAC3rm/ 算法/ ./ 定理/ 4/ ./ 环/ 切割/ 化简/ 定理/ ./ 给定/ 一个/ 有环/ 约束/ 满足/ 问题/ P/ ,/ 在/ MAC3rm/ 求解/ 过程/ 中/ 优先/ 为/ 环/ 切割/ 集中/ 变量/ 赋值/ ,/ 如果/ P/ 有解/ ,/ 那么/ 一定/ 能/ 将/ 原/ 问题/ 化简/ 成/ 一个/ 无环/ 的/ 问题/ P1/ ,/ 并且/ 由环/ 切割/ 集上/ 的/ 局部/ 解/ 一定/ 可以/ 扩展/ 出/ 一个/ 解/ ;/ 如果/ P/ 无解/ ,/ 那么/ MAC3rm/ 算法/ 无法/ 为/ 环/ 切割/ 集中/ 变量/ 找到/ 局部/ 解/ ./ 证明/ ./ 如果/ P/ 有/ 一个/ 解/ S/ ,/ 由于/ MAC3rm/ 算法/ 是/ 完备/ 的/ ,/ 则/ MAC3rm/ 算法/ 至少/ 能/ 找到/ S/ 在/ 环/ 切割/ 集上/ 的/ 局部/ 解/ ,/ 由于/ MAC3rm/ 算法/ 在/ 执行/ 过程/ 中/ 维持/ 弧/ 相容/ 的/ 状态/ ,/ 在/ 每次/ 赋值/ 后要/ 执行/ 弧/ 相容/ 算法/ ,/ MAC3rm/ 算法/ 每次/ 为/ 变量/ 赋值/ 相当于/ 一次/ 化简/ ./ 因此/ 在/ 找到/ 环/ 切割/ 集上/ 的/ 局部/ 解后/ ,/ 问题/ 仍/ 是/ 一个/ 弧/ 相容/ 的/ 状态/ ,/ 并且/ 环/ 切割/ 集中/ 的/ 变量/ 都/ 已经/ 化简/ 成功/ ,/ 将/ 环/ 切割/ 集中/ 变量/ 和/ 相关/ 约束/ 全部/ 删除/ 后/ ,/ P/ 化简/ 成无环/ 问题/ P1/ ./ 并且/ P1/ 满足/ 定理/ 1/ 中/ 条件/ ,/ 因此/ P1/ 一定/ 有解/ ./ 由于/ 在/ P1/ 中/ ,/ 环/ 切割/ 集中/ 变量/ 都/ 已经/ 找到/ 局部/ 解/ ,/ 因此/ P1/ 的/ 解/ 就是/ 原/ 问题/ P/ 的/ 解/ ./ 如果/ P/ 无解/ ,/ 假设/ 化简/ 环/ 切割/ 集中/ 所有/ 变量/ 成功/ 后/ 得到/ 新/ 问题/ P2/ ./ 由/ 定理/ 3/ 可知/ ,/ P2/ 的/ 约束/ 图中/ 无环/ ,/ 并且/ 由于/ 化简/ 过程/ 是/ 维持/ 弧/ 相容/ 的/ ,/ 则/ P2/ 满足/ 弧/ 相容/ ,/ 由/ 定理/ 1/ 可知/ ,/ P2/ 一定/ 有解/ ,/ 这/ 与/ 前提/ P/ 无解/ 矛盾/ ,/ 因此/ 如果/ P/ 无解/ ,/ 则/ 化简/ 一定/ 失败/ ./ 证毕/ ./ 计算/ 最小/ 环/ 切割/ 集是/ 一个/ NP/ 问题/ [/ 18/ ]/ ,/ 通常/ 只能/ 通过/ 启发式/ 算法/ 计算/ 一个/ 近似/ 最小/ 的/ 环/ 切割/ 集/ ./ 下面/ 给出/ 一种/ 计算/ 环/ 切割/ 集/ 的/ 算法/ Compute/ _/ CutSet/ ./ 其中/ get/ _/ a/ _/ cycle/ (/ )/ 是/ 基于/ 深度/ 优先/ 遍历/ 搜索/ P/ 的/ 约束/ 图/ ,/ 如果/ 找到/ 一个/ 环/ ,/ 记录/ 这个/ 环/ 中/ 所有/ 变量/ 并/ Page5/ 返回/ true/ ,/ 否则/ 返回/ false/ ./ Compute/ _/ CutSet/ (/ inP/ :/ csp/ )/ Begin1/ ./ cut/ _/ set/ =/ {/ }/ ;/ 2/ ./ whileget/ _/ a/ _/ cycle/ (/ P/ )/ do3/ ./ selectaxivariablefromthecycle/ ;/ 4/ ./ cut/ _/ set/ =/ cut/ _/ set/ ∪/ {/ xi/ }/ ;/ 5/ ./ removexiandalltheconstraintsinvolvexifromP/ ;/ 6/ ./ returncut/ _/ set/ ;/ End/ 定理/ 5/ ./ 算法/ Compute/ _/ CutSet/ 最坏/ 时间/ 复杂度/ 为/ O/ (/ n2/ )/ ./ 证明/ ./ 每次/ get/ _/ a/ _/ cycle/ 基于/ 深度/ 优先/ 遍历/ 约束/ 图/ ,/ 最坏/ 要/ 遍历/ k/ 个/ 节点/ 才能/ 找到/ 环/ (/ k/ 为/ 当前/ 约束/ 图中/ 的/ 变量/ 个数/ )/ ,/ 因此/ 寻找/ 一个/ 环/ 需要/ 最坏/ 时间/ 复杂度/ 为/ k/ ,/ 最坏/ 情况/ 是/ 问题/ P/ 的/ 约束/ 图是/ 一个/ 完全/ 图/ 的/ 情况/ ,/ 此时/ 任意/ 3/ 个/ 变量/ 都/ 构成/ 环/ ,/ 因此/ 要/ 将/ n/ -/ 2/ 个/ 变量/ 加入/ 环/ 切割/ 集/ ,/ 因此/ 需要/ 寻找/ n/ -/ 2/ 个/ 环/ ,/ 每次/ 找到/ 一个/ 环后/ 将/ 一个/ 变量/ 从/ 约束/ 图中/ 删除/ ,/ k/ 递减/ 1/ ,/ 所以/ 最坏/ 情况/ 下要/ 访问/ ∑/ n2/ -/ 3/ 个/ 变量/ ,/ 所以/ 最坏/ 时间/ 复杂度/ 为/ O/ (/ n2/ )/ ./ 证毕/ ./ 下面/ 给出/ 基于/ 环/ 切割/ 化简/ 的/ 约束/ 满足/ 问题/ 求解/ 算法/ Cycle/ _/ Cut/ _/ Search/ (/ CCS/ )/ ./ Cycle/ _/ Cut/ _/ Search/ (/ inP/ :/ csp/ )/ Begin1/ ./ ifCycle/ _/ Cut/ _/ MAC3rm/ (/ P/ )/ then2/ ./ Tree/ _/ Search/ (/ P/ )/ ;/ else3/ ./ returnnosloution/ ;/ EndCycle/ _/ Cut/ _/ MAC3rm/ (/ inP/ :/ csp/ )/ :/ BooleanBegin1/ ./ cut/ _/ set/ =/ Compute/ _/ CutSet/ (/ P/ )/ ;/ 2/ ./ ifMAC3rm/ (/ P/ ,/ cut/ _/ set/ )/ then/ // // MAC3rmonlyassign3/ ./ foreachxiincut/ _/ setdo4/ ./ RemovexiandalltheconstraintsinvolvexifromP/ ;/ 5/ ./ returntrue/ ;/ else6/ ./ returnfalse/ ;/ End/ 定理/ 6/ ./ 当/ 问题/ P/ 的/ 约束/ 图是/ 完全/ 图时/ ,/ 算法/ Cycle/ _/ Cut/ _/ Search/ 退化/ 为/ MAC3rm/ 算法/ ./ 证明/ ./ 当/ 问题/ P/ 的/ 约束/ 图是/ 完全/ 图时/ ,/ 任意/ 3/ 个/ 变量/ 都/ 构成/ 一个/ 环/ ,/ 每次/ 化简/ 一个/ 变量/ xi/ 后/ 只能/ 将/ xi/ 所在/ 的/ 所有/ 环/ 删除/ ,/ 其他/ 未/ 化简/ 变量/ 仍/ 在/ 环中/ ,/ 因此/ 需要/ 化简/ (/ n/ -/ 2/ )/ 个/ 变量/ 才/ 可以/ 将/ 问题/ 化简/ 为/ 一个/ 无环/ 约束/ 满足/ 问题/ ./ 此时/ 有/ (/ n/ -/ 2/ )/ 个/ 变量/ 要/ 通过/ MAC3rm/ 算法/ 求解/ ,/ 因此/ 算法/ Cycle/ _/ Cut/ _/ Search/ 退化/ 为/ MAC3rm/ 算法/ ./ Dechter/ [/ 20/ ]/ 的/ 方法/ 中/ 只是/ 通过/ 为/ 变量/ 赋值/ 进行/ 切割/ ,/ 但是/ 并/ 没有/ 用/ 弧/ 相容/ 算法/ 进行/ 约束/ 传播/ ,/ 因而/ 不能/ 保证/ 环/ 切割/ 集上/ 找到/ 的/ 局部/ 解/ 一定/ 能/ 扩展/ 成/ 全局/ 解/ ./ 除此以外/ ,/ Sabin/ 等/ 人/ [/ 21/ ]/ 在/ 1997/ 年/ 曾/ 提出/ 一种/ 和/ CCS/ 接近/ 的/ 算法/ MACE/ ,/ 两者/ 主要/ 区别/ 在于/ ,/ MACE/ 是/ 建立/ 在/ MAC/ -/ 7ps/ 基础/ 上/ 的/ ,/ 而/ CCS/ 是/ 建立/ 在/ MAC3rm/ 基础/ 上/ 的/ ,/ 并且/ MACE/ 在/ 求解/ 过程/ 中/ 不断/ 地/ 将/ 不/ 在/ 环中/ 的/ 变量/ 加入/ 到/ 另/ 一个/ 变量/ 集合/ 中/ ,/ 在/ 求解/ 过程/ 中/ 变量/ 所属/ 的/ 集合/ 是/ 动态变化/ 的/ ./ 而/ CCS/ 在/ MAC3rm/ 开始/ 求解/ 前/ 已经/ 将/ 变量/ 所属/ 集合/ 确定/ ,/ 在/ 求解/ 过程/ 中/ 不再/ 改变/ ./ MAC/ E通/ 过/ 约束/ 检查/ 次数/ 来/ 衡量/ 算法/ 效率/ ,/ 虽然/ 约束/ 检查/ 次数/ 是/ 一个/ 不随/ 编程/ 环境/ 改变/ 的/ 硬性/ 指标/ ,/ 但是/ 文献/ [/ 9/ ,/ 22/ ]/ 都/ 指出/ 了/ 减少/ 约束/ 检查/ 次数/ 并不一定/ 提高/ 求解/ 效率/ ./ 5/ 实验/ 结果/ MAC3rm/ 算法/ 是/ 目前/ 最/ 流行/ 的/ 二元/ 约束/ 满足/ 问题/ 求解/ 算法/ ,/ 我们/ 将/ CCS/ 算法/ 和/ MAC3rm/ 进行/ 比较/ ./ 我们/ 的/ 一些/ 实验/ 细节/ 如下/ :/ 二元/ 约束/ 通过/ 二维/ 数组/ 表示/ ,/ 这样/ 的/ 约束/ 检查/ 代价/ 最小/ ./ CCS/ 算法/ 计算/ 环/ 切割/ 集时/ 选择/ 当前/ 环/ 中/ 连接/ 约束/ 最多/ 的/ 变量/ 加入/ 环/ 切割/ 集/ ./ 每次/ 测试/ 以一/ 小时/ 为/ 界限/ ,/ 超时/ 则/ 停止/ 测试/ ,/ 记/ 为/ —/ ./ 测试环境/ 为/ :/ IntelCore/ (/ TM/ )/ 2DuoCPUT6570/ ,/ 双核/ 2.10/ GHz/ ,/ 3GBDDR800/ 内存/ ,/ WindowsXPSP3/ ,/ JDK1/ ./ 5.0/ ./ 5.1/ 随机/ 问题/ 测试/ 我们/ 选择/ 二元/ 随机/ 约束/ 满足/ 问题/ 经典/ 模型/ ModelB/ [/ 24/ ]/ 对/ 算法/ Cycle/ _/ Cut/ _/ Search/ 进行/ 测试/ ./ 使用/ Dom/ // Ddeg/ [/ 23/ ]/ 作为/ 变量/ 赋值/ 顺序/ 的/ 启发式/ 策略/ ./ ModelB/ 问题/ 模型/ 由/ 4/ 个/ 参数/ 控制/ ,/ 〈/ n/ ,/ m/ ,/ p1/ ,/ p2/ 〉/ 其中/ n/ 是/ 问题/ 中/ 变量/ 个数/ ,/ m/ 是/ 每个/ 变量/ 的/ 值域/ 大小/ ,/ 其中/ 每个/ 变量/ 的/ 值域/ 大小/ 都/ 是/ 相同/ 的/ ,/ p1/ 表示/ 约束/ 图中/ 约束/ 的/ 密度/ ,/ 即/ 在/ 约束/ 图/ G/ 中/ 均匀/ 选择/ p1/ ×/ n/ ×/ (/ n/ -/ 1/ )/ // 2/ 条/ 约束/ ,/ p2/ 表示/ 约束/ 的/ 松紧度/ ,/ 是/ 用来/ 描述/ 约束/ 中/ 存在/ 冲突/ 值/ 对/ 多少/ 的/ 参数/ ,/ 对于/ 每条/ 约束/ 均匀/ 地选/ p2/ ×/ m/ ×/ m/ 个值/ 对/ 作为/ 存在/ 冲突/ 的/ 值/ 对/ ./ 我们/ 选取/ n/ =/ 50/ ,/ m/ =/ 30/ ,/ d/ =/ 0.1/ 的/ 问题/ 进行/ 测试/ ,/ p2/ 在/ 0.1/ ~/ 0.9/ ,/ 每组/ 连续/ 测试/ 50/ 次求/ 平均值/ ,/ Page6/ 其中/ p2/ 在/ 0.1/ ~/ 0.69/ 和/ p2/ 在/ 0.78/ ~/ 0.9/ 的/ 随机/ 问题/ ,/ 都/ 是/ 容易/ 解/ 的/ 问题/ ,/ 耗时/ 均/ 在/ 几十/ 毫秒/ 左右/ ,/ 并且/ 两者/ 差异/ 不/ 大/ ,/ 这里/ 并/ 没有/ 给出/ 这/ 两个/ 区间/ 的/ 测试/ 结果/ ,/ 只/ 给出/ 了/ 处于/ 相变/ 阶段/ [/ 24/ ]/ 的/ 难解/ 问题/ 即/ p2/ 在/ 0.69/ ~/ 0.78/ 区间/ 内/ 两者/ 耗时/ 比较/ ,/ 统计/ 后/ 结果/ 如下/ ./ 图/ 1/ 中/ x/ 轴/ 表示/ p2/ 在/ 0.69/ ~/ 0.78/ ,/ 每个/ 数据/ 点/ 的/ p2/ 递增/ 0.002/ ./ 由图/ 1/ 中/ 数据/ 可知/ ,/ 在/ 求解/ 随机/ 问题/ n/ =/ 50/ ,/ m/ =/ 30/ ,/ d/ =/ 0.1/ 时/ ,/ CCS/ 的/ 效率/ 明显/ 高于/ MAC3rm/ ,/ 我们/ 的/ 测试数据/ 显示/ ,/ CCS/ 的/ 效率/ 最/ 多/ 可以/ 达到/ MAC3rm/ 的/ 140/ 倍/ ./ 5.2/ benchmark/ 测试/ Benchmark/ 测试用例/ 是/ 用来/ 测试/ CSP/ 求解/ 算法/ 各/ 方面/ 性能/ 的/ 一个/ 标准/ ,/ 本文/ 采用/ 的/ benchmark/ 用例/ 全部/ 来自/ 2005/ 年/ 国际/ 约束/ 程序/ 竞赛/ ./ 我们/ 选择/ 其中/ 的/ 几组/ 问题/ 对/ CCS/ 进行/ 测试/ ,/ 分别/ 是/ rlfap/ 、/ bqwh15/ _/ 106/ 、/ frb35/ -/ 17/ 、/ frb40/ -/ 19/ 、/ Domino/ 、/ composed/ -/ 25/ -/ 10/ -/ 20/ ./ 测试/ 结果/ 见表/ 1/ ~/ 5/ ./ rlfapbqwh15/ _/ 106/ 表/ 1/ 中/ 给出/ 了/ rlfap/ 问题/ 中/ 约束/ 较/ 稀疏/ 的/ 几个/ 子/ 问题/ 的/ 测试/ 结果/ ./ bqwh15/ _/ 106/ 这组/ 问题/ 中共/ 100/ 个子/ 问题/ ,/ 我们/ 测试/ 了/ 全部/ 100/ 个子/ 问题/ ,/ 将/ 其中/ 两者/ 耗时/ 都/ 在/ 1s/ 以上/ 的/ 子/ 问题/ 测试/ 结果显示/ 在/ 表/ 2/ 中/ ./ 表/ 3/ 中/ 列出/ 了/ 这/ 两组/ frb/ 问题/ 的/ 全部/ 10/ 个子/ 问题/ 测试/ 结果/ ,/ frb/ 问题/ 的/ 约束/ 相对/ 比较/ 稠密/ ,/ 因此/ 环/ 切割/ 化简/ 的/ 优势/ 并/ 不/ 明显/ ./ Domino/ 问题/ 的/ 特点/ 是/ 约束/ 稀疏/ 且/ 每条/ 约束/ 都/ 非常/ 紧/ ,/ 表/ 4/ 中/ 列出/ 了/ Domino/ 问题/ 的/ 测试/ 结果/ ./ 表/ 5/ 中/ 列出/ 了/ composed25/ -/ 10/ -/ 20/ 的/ 测试/ 结果/ ,/ 从表/ 5/ 中/ 数据/ 可知/ ,/ 部分/ 子/ 问题/ 中/ ,/ MAC3rm/ 超时/ ,/ 但是/ CCS/ 可以/ 在/ 有效/ 时间/ 内/ 求解/ ./ 子/ 问题/ 时间/ // sfrb35/ -/ 17Dominocomposed/ -/ 25/ -/ 10/ -/ 205.3/ 实验/ 结果/ 分析/ 由于/ 变量/ 赋值/ 顺序/ 对/ 算法/ 的/ 效率/ 有/ 影响/ ,/ 因此/ 我们/ 的/ 测试/ 结果/ 在/ 个别情况/ 下/ CCS/ 效率/ 低于/ MAC3rm/ ,/ 这/ 可能/ 是/ 由于/ Dom/ // Ddeg/ 启发式/ 策略/ 在/ 全局变量/ 中/ 寻找/ 到/ 一个/ 比/ 优先/ 赋值/ 环/ 切割/ 集/ 更/ 高效/ 的/ 变量/ 赋值/ 顺序/ ./ 我们/ 的/ 实验/ 结果显示/ ,/ CCS/ 在/ 绝大多数/ 情况/ 下/ 效率/ 高于/ MAC3rm/ ,/ 在/ 随机/ 问题/ 相变/ 阶段/ ,/ 最高/ 可以/ 达到/ MAC3rm/ 效率/ 的/ 140/ 倍/ ,/ 在/ 我/ Page7/ 们/ 选择/ 的/ benchmark/ 测试用例/ 中/ ,/ CCS/ 的/ 效率/ 可以/ 达到/ MAC3rm/ 的/ 100/ 倍/ 以上/ ./ 6/ 结论/ 本文/ 首先/ 给出/ 一种/ 无环/ 约束/ 满足/ 问题/ 的/ 无/ 回溯/ 搜索算法/ Tree/ _/ Search/ ,/ 然后/ 将/ 环/ 切割/ 集/ 的/ 思想/ 与/ 目前/ 最/ 流行/ 的/ 求解/ 算法/ MAC3rm/ 相结合/ ,/ 给出/ 一种/ 新/ 算法/ Cycle/ _/ Cut/ _/ Search/ ./ CCS/ 将/ 问题/ 中/ 变量/ 集/ 分为/ 两/ 部分/ :/ 环/ 切割/ 集中/ 的/ 变量/ 和/ 环/ 切割/ 集/ 以外/ 的/ 变量/ ,/ 通过/ MAC3rm/ 算法/ 为/ 环/ 切割/ 集中/ 变量/ 赋值/ ./ 给出/ 了/ 环/ 切割/ 化简/ 定理/ 和/ 证明/ ,/ 根据/ 环/ 切割/ 化简/ 定理/ ,/ CCS/ 算法/ 通过/ MAC3rm/ 算法/ 在/ 环/ 切割/ 集上/ 找到/ 局部/ 解后/ ,/ 可/ 将/ 原本/ 有环/ 约束/ 满足/ 问题/ 化简/ 成/ 满足/ 弧/ 相容/ 的/ 无环/ 约束/ 满足/ 问题/ ,/ 然后/ 用/ Tree/ _/ Search/ 算法/ 执行/ 无/ 回溯/ 求解/ ,/ 改进/ 了/ MAC3rm/ 算法/ 的/ 求解/ 效率/ ./ 我们/ 实验/ 结果显示/ ,/ CCS/ 的/ 效率/ 在/ 大多数/ 情况/ 下/ 高于/ MAC3rm/ ./ 在/ 求解/ 随机/ 问题/ 相变/ 阶段/ 的/ 测试用例/ 时/ ,/ CCS/ 的/ 效率/ 最高/ 可以/ 达到/ MAC3rm/ 的/ 140/ 倍/ ./ Benchmark/ 中/ 几组/ 问题/ 的/ 测试/ 结果显示/ ,/ CCS/ 在/ 整体/ 上/ 效率/ 高于/ MAC/ ,/ 最高/ 可以/ 达到/ MAC3rm/ 的/ 100/ 倍/ 以上/ ./ 

