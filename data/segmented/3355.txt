Page1/ 计算机辅助/ 乱针/ 绣/ 制作/ 技术/ 研究/ 陈圣国/ 1/ )/ ,/ 2/ )/ 孙/ 正兴/ 1/ )/ 项/ 建华/ 1/ )/ ,/ 3/ )/ 张岩/ 1/ )/ 1/ )/ (/ 南京大学/ 计算机软件/ 新/ 技术/ 国家/ 重点/ 实验室/ 南京/ 210093/ )/ 2/ )/ (/ 金陵/ 科技/ 学院/ 信息技术/ 学院/ 南京/ 211169/ )/ 3/ )/ (/ 常州/ 纺织/ 服装/ 职业/ 技术/ 学院/ 创意/ 学院/ 江苏/ 常州/ 213164/ )/ 摘要/ 乱针/ 绣/ 是/ 一种/ 极具/ 艺术/ 和/ 文化/ 价值/ 的/ 工艺/ 产品/ ,/ 计算机辅助/ 乱针/ 绣/ 制作/ 对/ 这/ 一/ 文化遗产/ 的/ 传承/ 和/ 发展/ 具有/ 重要/ 意义/ ./ 文中/ 将/ 计算机辅助/ 乱针/ 绣/ 制作/ 技术/ 归结为/ 绣线/ 颜色/ 子集/ 选择/ 和/ 交叉/ 针迹/ 参数/ 计算/ 两大/ 关键技术/ 问题/ ./ 首先/ ,/ 提出/ 了/ 基于/ 遗传算法/ 的/ 绣/ 线/ 颜色/ 子集/ 优化/ 选择/ 方法/ ,/ 通过/ 对/ 标准/ 交叉/ 算子/ 和/ 变异/ 算子/ 的/ 改进/ 实现/ 了/ 绣/ 机绣/ 线/ 颜色/ 种类/ 与/ 绣品/ 视觉效果/ 间/ 的/ 有效/ 折衷/ ./ 其次/ ,/ 设计/ 了/ 计算机辅助/ 乱针/ 绣/ 制作/ 铺色/ 和/ 精绣/ 两/ 阶段/ 针迹/ 生成/ 策略/ ,/ 并/ 分别/ 提出/ 了/ 一种/ 基于/ 图像/ 亮度/ 梯度/ 的/ 铺色/ 交叉/ 针迹/ 参数/ 算法/ 及/ 一种/ 基于/ 试探/ 和/ 混色/ 原理/ 的/ 精绣/ 交叉/ 针迹/ 参数/ 计算方法/ ,/ 降低/ 了/ 机绣/ 少量/ 颜色/ 而/ 造成/ 绣品/ 与/ 原/ 图像/ 间/ 的/ 色差/ ./ 最后/ ,/ 给出/ 了/ 一个/ 完整/ 的/ 计算机辅助/ 乱针/ 绣/ 制作/ 处理/ 流程/ ,/ 并/ 以/ 实验/ 验证/ 了/ 文中/ 提出/ 方法/ 的/ 有效性/ ,/ 为/ 计算机辅助/ 乱针/ 绣/ 制作/ 技术/ 的/ 进一步/ 研究/ 奠定/ 了/ 基础/ ./ 关键词/ 计算机辅助/ 刺绣/ ;/ 乱针/ 绣/ ;/ 交叉/ 针迹/ 计算/ ;/ 遗传算法/ 1/ 引言/ 乱针/ 绣/ 创立/ 于/ 20/ 世纪/ 30/ 年代/ ,/ 是/ 中国/ 刺绣/ 在/ 现代/ 文化背景/ 下/ 的/ 崭新/ 发展/ ,/ 它/ 摆脱/ 了/ 我国/ 几千年/ 传统/ 刺绣/ “/ 排比/ 其针/ ,/ 密接/ 其线/ ”/ 绣法/ 的/ 拘束/ ,/ 形成/ 了/ 独特/ 的/ “/ 长短/ 参差/ ,/ 斜线/ 交叉/ ,/ 分层/ 搀色/ ”/ 乱针/ 技艺/ ,/ 利于/ 艺人/ 自由/ 表达思想/ 情感/ ,/ 实现/ “/ 画理/ ”/ 与/ “/ 绣理/ ”/ 的/ 有机/ 结合/ ;/ 乱针/ 绣/ 长于/ 绣制/ 油画/ 、/ 摄影/ 和/ 素描/ 等/ 稿本/ ,/ 绣品/ 具有/ 针法/ 活泼/ 、/ 线条/ 流畅/ 、/ 色彩/ 丰富/ 、/ 层次感/ 强/ 、/ 风格/ 独特/ 等/ 特点/ ,/ 其/ 作品/ 蕴含着/ 精美/ 的/ 艺术/ 价值/ 和/ 深厚/ 的/ 文化/ 价值/ [/ 1/ ]/ ./ 但是/ ,/ 乱针/ 绣/ 工艺/ 技术难度/ 较大/ ,/ 制作/ 周期/ 较长/ ,/ 一幅/ 40cm/ ×/ 50cm/ 规格/ 的/ 人/ 像/ 绣品/ 工期/ 达/ 3/ 个/ 多月/ ,/ 有些/ 精品/ 甚至/ 需要/ 近/ 一年/ 的/ 时间/ 才能/ 完成/ ,/ 使得/ 乱针/ 绣/ 的/ 从业/ 人/ 数量/ 较/ 少/ ,/ 作品/ 价格昂贵/ ./ 因此/ ,/ 采用/ 计算机辅助/ 技术/ 对乱针/ 绣/ 工艺/ 的/ 保护/ 和/ 进一步/ 发展/ 具有/ 十分/ 重要/ 的/ 意义/ ./ 已有/ 的/ 计算机辅助/ 刺绣/ 系统/ 研究/ 解决/ 了/ 传统/ 刺绣/ 工艺/ 的/ 计算机化/ 问题/ [/ 2/ -/ 5/ ]/ ,/ 通常/ ,/ 它们/ 通过/ 对/ 输入/ 数字图像/ 进行/ 边缘/ 检测/ [/ 6/ ]/ 或/ 色彩/ 聚类/ [/ 7/ ]/ :/ 首先/ 将/ 图像/ 分割/ 为/ 互不/ 交叉/ 的/ 若干/ 闭合/ 区域/ ,/ 再/ 采用/ 平面/ 针法/ 如平/ 包针/ 、/ 席纹/ 、/ 平针/ [/ 8/ ]/ 或/ 随机/ 针迹/ [/ 9/ ]/ 对/ 每个/ 区域/ 分别/ 进行/ 填充/ 而/ 自动/ 生成/ 针迹/ ./ 但是/ ,/ 这种/ 方法/ 将/ 同一/ 区域/ 内/ 的/ 针迹/ 首尾/ 顺次/ 相连/ ,/ 且/ 针迹/ 间/ 需要/ 尽量避免/ 产生/ 交叉/ ,/ 所/ 生成/ 绣品/ 的/ 区域间/ 缺乏/ 颜色/ 过渡/ ,/ 色彩/ 层次/ 单一/ ,/ 难以/ 满足/ 乱针/ 绣/ 制作/ 的/ 需要/ ./ 事实上/ ,/ 使用/ 计算机辅助/ 制作/ 乱针/ 绣/ ,/ 必须/ 解决/ 几个/ 关键技术/ 问题/ :/ (/ 1/ )/ 选择/ 颜色/ 子集/ ./ 在/ 手工/ 绣制/ 过程/ 中/ 可/ 使用/ 的/ 绣/ 线/ 颜色/ 较为/ 丰富/ ,/ 例如/ 绣线/ 生产/ 厂商/ DMC/ 的/ 绣/ 线/ 颜色/ 表/ 包含/ 454/ 种颜色/ ,/ 而/ 机器/ 绣制/ 时/ 由于/ 电脑/ 绣花机/ 硬件/ 条件/ 的/ 限制/ 不/ 可能/ 在/ 同/ 一幅/ 作品/ 中/ 使用/ 绣线/ 颜色/ 表中/ 所有/ 颜色/ ,/ 常见/ 的/ 电脑/ 绣花机/ 可以/ 同时/ 使用/ 的/ 颜色/ 数/ 只有/ 6/ 、/ 9/ 或/ 12/ 种/ ,/ 如果/ 使用/ 的/ 绣/ 线/ 颜色/ 数较/ 多/ ,/ 绣制/ 时/ 需要/ 频繁/ 地/ 停机/ 换线/ ,/ 影响/ 机器/ 绣制/ 的/ 速度/ ./ 因此/ ,/ 需要/ 根据/ 输入/ 图像/ 的/ 色彩/ 分布/ 特征/ 从绣线/ 颜色/ 表中/ 选择/ 一个/ 子集/ ,/ 使用/ 少量/ 的/ 颜色/ 来/ 重建/ 输入/ 图像/ ./ (/ 2/ )/ 针迹/ 生成/ 策略/ ./ 参照/ 人工/ 绣制/ 过程/ ,/ 针迹/ 生成/ 可以/ 分为/ 铺色/ 和/ 精绣/ 两个/ 阶段/ ./ 铺色/ 阶段/ 将/ 绣制/ 图像/ 划分/ 为/ 大/ 的/ 色块/ 然后/ 采用/ 交叉/ 针迹/ 填充/ ./ 由于/ 色块/ 之间/ 没有/ 交叉/ ,/ 同一/ 色块/ 中/ 的/ 针迹/ 使用/ 相同/ 的/ 颜色/ ,/ 因此/ 针迹/ 生成/ 的/ 顺序/ 对/ 绣品/ 的/ 视觉效果/ 几乎/ 没有/ 影响/ ,/ 针迹/ 生成/ 策略/ 较为简单/ ./ 精绣/ 阶段/ 针迹/ 数量/ 庞大/ ,/ 针迹/ 覆盖/ 区域/ 相互/ 交叉/ ,/ 针迹/ 按/ 不同/ 的/ 顺序/ 绣制/ 生成/ 的/ 绣品/ 视觉效果/ 也/ 不/ 相同/ ,/ 如果/ 针迹/ 生成/ 策略/ 选择/ 不当/ 将会/ 带来/ 巨大/ 的/ 计算/ 量/ ./ (/ 3/ )/ 针迹/ 参数/ 的/ 计算方法/ ./ 铺色/ 阶段/ 需要/ 计算/ 的/ 针迹/ 参数/ 主要/ 是/ 每个/ 色块/ 交叉/ 针迹/ 的/ 方向/ ,/ 填充/ 时/ 采用/ 不同/ 的/ 针迹/ 方向/ 会/ 影响/ 最终/ 绣品/ 的/ 视觉效果/ ./ 而/ 精绣/ 阶段/ 需要/ 确定/ 每一/ 针迹/ 的/ 起点/ 和/ 终点/ 以及/ 每一/ 针迹/ 的/ 颜色/ ./ 乱针/ 绣/ 利用/ 色彩/ 的/ 空间/ 混合/ 现象/ [/ 10/ ]/ ,/ 采用/ 分层/ 加色/ ,/ 由于/ 空间/ 距离/ 和/ 视觉/ 生理/ 的/ 限制/ ,/ 眼睛/ 辨别/ 不/ 出过/ 小/ 或/ 过/ 远/ 物象/ 的/ 细节/ ,/ 把/ 各种/ 不同/ 的/ 色块/ 感受/ 成/ 一个/ 新/ 的/ 色彩/ ,/ 远/ 看时/ 产生/ 十分/ 逼真/ 的/ 视觉效果/ ,/ 因此/ ,/ 在/ 生成/ 针迹/ 时/ 颜色/ 的/ 选择/ 必须/ 考虑/ 颜色/ 的/ 空间/ 混合/ 效果/ ./ 采用/ 较/ 少/ 数量/ 的/ 颜色/ 来/ 重建/ 具有/ 丰富/ 色彩/ 的/ 图像/ 是/ 数字图像处理/ 基本/ 技术/ 色彩/ 量化/ [/ 11/ ]/ 的/ 主要/ 研究/ 内容/ ,/ 目前/ 已有/ 多种/ 算法/ ,/ 比较/ 传统/ 的/ 算法/ 有/ 统一/ 量化/ 法/ 、/ 频度/ 序列/ 法/ 、/ 中位/ 切割/ 法/ 、/ 中/ 值/ 分裂法/ 、/ 八叉树法/ 和/ 聚类/ 法/ 等/ ./ 近年来/ ,/ 部分/ 研究者/ 又/ 提出/ 了/ 一些/ 新/ 的/ 方法/ 或/ 改进/ 方法/ 以/ 改善/ 重建/ 图像/ 的/ 视觉效果/ ,/ 例如/ 使用/ 加权/ 积/ 色彩/ 量化/ 算法/ CoQuWeiP/ [/ 11/ ]/ 、/ 基于/ 蚁/ 群聚/ 类/ 的/ 色彩/ 量化/ 算法/ [/ 12/ ]/ 、/ 结合/ 色彩/ 抖动/ 的/ 色彩/ 量化/ [/ 13/ -/ 14/ ]/ 、/ 改进/ 八叉树/ [/ 15/ ]/ 等/ ,/ 这些/ 方法/ 应用/ 于乱针/ 绣/ 颜色/ 子集/ 选择/ 时/ 存在/ 一个/ 共同/ 的/ 问题/ ,/ 即/ 它们/ 选择/ 出/ 的/ 颜色/ 集/ 并/ 不是/ 从/ 可选/ 的/ 绣/ 线/ 颜色/ 集中/ 选出/ 的/ ,/ 这些/ 算法/ 按照/ 某种/ 优化/ 条件/ 求解/ 得到/ 全局/ 和/ 局部/ 最优/ 解/ ,/ 如果/ 从绣线/ 颜色/ 表/ 寻找/ 相似/ 颜色/ 来/ 替代/ 这些/ 算法/ 的/ 全局/ 最优/ 或/ 局部/ 最优/ 解/ ,/ 则/ 得到/ 的/ 解/ 可能/ 与/ 最优/ 解/ 相差/ 很大/ ./ 本文/ 第/ 2/ 节中/ 我们/ 建立/ 了/ 一个/ 简单/ 的/ 模型/ ,/ 然后/ 采用/ 二进制/ 串/ 编码表示/ 解/ 个体/ ,/ 使用/ 遗传算法/ 来/ 解决/ 这个/ 问题/ ./ 遗传算法/ 是/ 模拟/ 自然界/ 生物进化/ 过程/ 与/ 机制/ 求解/ 极值/ 问题/ 的/ 一类/ 自/ 组织/ 、/ 自/ 适应/ 人工智能/ 技术/ [/ 16/ ]/ ,/ 首先/ 对/ 问题/ 空间/ 编码/ ,/ 将/ 其/ 映射/ 到/ 搜索/ 空间/ ,/ 用/ 适应度/ 评价/ 每个/ 个体/ 的/ 优良/ 程度/ ,/ 然后/ 以/ 一定/ 概率/ 进行/ 选择/ 操作/ 、/ 交叉/ 操作/ 、/ 变异/ 操作/ ,/ 使/ 平均/ 适应度/ 高/ 的/ 模式/ 在/ 每/ 一代/ 保留/ 下来/ ,/ 经/ 逐次/ 迭代/ ,/ 找到/ 最大/ 适应度/ 的/ 个体/ ,/ 达到/ 优化/ 的/ 目的/ ./ 虽然/ 遗传算法/ 在/ 许多/ 领域/ 中/ 都/ 有/ 成功/ 的/ 应用/ ,/ 但/ 其/ 自身/ 也/ 存在/ 不/ Page3/ 足/ [/ 17/ ]/ ,/ 如/ 局部/ 搜索/ 能力差/ 、/ 存在/ 早熟/ 收敛/ 等/ 现象/ ./ 算法/ 一旦/ 出现/ 早熟/ 收敛/ ,/ 将/ 无法/ 得到/ 问题/ 的/ 最优/ 解/ ./ 遗传算法/ 中/ 变异/ 算子/ 的/ 主要/ 目的/ 之一/ 就是/ 要/ 维持/ 群体/ 的/ 多样性/ ,/ 防止出现/ 早熟/ 现象/ [/ 18/ ]/ ./ 目前/ 常用/ 的/ 变异/ 算子/ 包括/ 基本/ 位/ 变异/ 、/ 均匀/ 变异/ 、/ 边界/ 变异/ 、/ 非/ 均匀/ 变异/ 、/ 高斯/ 变异/ 、/ 二元/ 变异/ 等/ [/ 17/ -/ 18/ ]/ ./ 基本/ 位/ 变异/ 是/ 最/ 简单/ 的/ 变异/ 算子/ ,/ 对/ 个体/ 编码/ 串中以/ 变异/ 概率/ pm/ 随机/ 指定/ 的/ 某/ 一位/ 或/ 某/ 几位/ 基因/ 位上/ 的/ 基因/ 值作/ 变异/ 运算/ ,/ 改变/ 的/ 只是/ 个体/ 编码/ 串中/ 的/ 个别/ 几个/ 基因/ 位上/ 的/ 基因/ 值/ ,/ 且/ 变异/ 发生/ 的/ 概率/ 较/ 小/ ,/ 因此/ 其/ 发挥作用/ 比较慢/ ,/ 效果/ 不/ 明显/ ./ 均匀/ 变异/ 以/ 某/ 一较/ 小/ 的/ 概率/ 来/ 替换/ 个体/ 编码/ 串中/ 各个/ 基因/ 位上/ 的/ 原有/ 基因/ 值/ ,/ 它/ 使得/ 搜索/ 点/ 可以/ 在/ 整个/ 搜索/ 空间/ 内/ 自由/ 地/ 移动/ ,/ 从而/ 可以/ 增加/ 群体/ 的/ 多样性/ ,/ 使/ 算法/ 处理/ 更/ 多/ 的/ 模式/ ,/ 适合/ 应用/ 于/ 遗传算法/ 的/ 初期/ 运行/ 阶段/ ./ 边界/ 变异/ 是/ 均匀/ 变异/ 的/ 一个/ 变形/ ,/ 随机/ 地取/ 基因/ 位/ 的/ 二个/ 对应/ 边界/ 基因/ 值/ 之一/ 去/ 替代/ 原有/ 基因/ 值/ ,/ 如果/ 个体/ 采用/ 二进制/ 编码/ ,/ 每个/ 基因/ 位/ 取值/ 为/ 0/ 或/ 1/ 则/ 与/ 均匀/ 变异/ 相同/ ./ 非/ 均匀/ 变异/ 对/ 原有/ 基因/ 值作/ 一/ 随机/ 扰动/ ,/ 以/ 扰动/ 后/ 的/ 结果/ 作为/ 变异/ 后/ 的/ 新/ 基因/ 值/ ,/ 适宜/ 点/ 搜索/ 原/ 个体/ 附近/ 的/ 微小/ 区域/ ./ 高斯/ 变异/ 是/ 改进/ 遗传算法/ 对/ 重点/ 搜索/ 区域/ 的/ 局部/ 搜索/ 性能/ 的/ 另/ 一种/ 变异/ 操作方法/ ,/ 用/ 均值/ 为/ μ/ 、/ 方差/ 为/ σ/ 2/ 的/ 正态分布/ 的/ 一个/ 随机数/ 来/ 替换/ 原有/ 基因/ 值/ ,/ 也/ 是/ 重点/ 搜索/ 原/ 个体/ 附近/ 的/ 某个/ 局部/ 区域/ ./ 显然/ ,/ 非/ 均匀/ 变异/ 和/ 高斯/ 变异/ 不/ 适合/ 个体/ 采用/ 二进制/ 串/ 编码/ 的/ 情况/ ./ 二元/ 变异/ [/ 19/ ]/ 需要/ 两条/ 染色体/ 参与/ ,/ 通过/ 二元/ 变异/ 操作/ 后/ 生成/ 两条/ 新/ 个体/ 中/ 的/ 各个/ 基因/ 分别/ 取原/ 染色体/ 对应/ 基因/ 值/ 的/ 同/ 或/ // 异或/ ./ 由于/ 绣线/ 颜色/ 子集/ 选择/ 问题/ 对/ 个体/ 编码/ 有效性/ 的/ 特殊要求/ ,/ 二元/ 变异/ 生成/ 的/ 二进制/ 串/ 不能/ 保证/ 是/ 有效/ 的/ 个体/ ,/ 因此/ 无法/ 用于/ 绣线/ 颜色/ 子集/ 选择/ 问题/ 的/ 求解/ ./ 考虑/ 到/ 绣/ 线/ 颜色/ 子集/ 选择/ 问题/ 的/ 特点/ ,/ 本文/ 提出/ 一种/ 根据/ 问题/ 的/ 启发式/ 信息/ 自/ 适应/ 地/ 确定/ 变异/ 概率/ 的/ 变异/ 算子/ ,/ 变异/ 前/ 根据/ 启发式/ 信息/ 确定/ 每个/ 基因/ 位/ 变异/ 的/ 概率/ ,/ 实验/ 表明/ 所/ 求得/ 解/ 的/ 适应度/ 值/ 明显提高/ ,/ 早熟/ 现象/ 得到/ 了/ 一定/ 程度/ 的/ 抑制/ ./ 本文/ 第/ 2/ 节/ 首先/ 介绍/ 乱针/ 绣/ 绣/ 线/ 颜色/ 子集/ 选择/ 的/ 优化/ 模型/ 和/ 使用/ 遗传算法/ 求解/ 该/ 问题/ 的/ 个体/ 编码方式/ 及/ 适应度/ 函数/ 定义/ ,/ 然后/ 介绍/ 了/ 计算/ 变异/ 概率/ 的/ 方法/ ./ 针迹/ 生成/ 策略/ 可/ 借鉴/ 基于/ 笔划/ 绘制/ 方法/ 的/ 思想/ ,/ 将/ 乱/ 针/ 绣/ 的/ 每/ 一个/ 针迹/ 看成/ 是/ 一个/ 笔划/ ,/ 则/ 绣制/ 过程/ 可以/ 看成/ 是/ 基于/ 笔划/ 的/ 绘制/ 过程/ ./ 基于/ 笔划/ 的/ 绘制/ 方法/ (/ SBR/ )/ 是非/ 真实感/ 绘制/ 的/ 主要/ 技术/ 之一/ [/ 20/ ]/ ,/ 通过/ 绘制/ 离散/ 的/ 元素/ (/ 如/ 绘画/ 的/ 笔触/ 或/ 圆点/ )/ 来/ 自动/ 生成/ 非/ 真实感图形/ [/ 21/ ]/ ,/ 许多/ 学者/ 提出/ 了/ 不同/ 绘画/ 风格/ 的/ 算法/ [/ 22/ ]/ ,/ 如/ 油画/ 、/ 水粉画/ 、/ 钢笔画/ 等/ ./ 不同/ 风格/ 作品/ 的/ 基于/ 笔划/ 绘制/ 算法/ 存在/ 很大/ 差异/ ,/ Hertzmann/ [/ 21/ ]/ 总结/ 了/ 各种/ 算法/ 的/ 设计/ 思想/ ,/ 将/ 其/ 分为/ 优化/ 算法/ 和/ 贪婪/ 算法/ ./ 优化/ 算法/ 包括/ Voronoi/ 算法/ 和/ 反复/ 试验/ 算法/ ,/ Voronoi/ 算法/ 不能/ 处理/ 颜色/ 信息/ 及/ 笔划/ 重叠/ 问题/ ,/ 反复/ 试验/ 算法/ 需要/ 较/ 多/ 计算/ 时间/ ;/ 贪婪/ 算法/ 采用/ 谨慎/ 而/ 有/ 启发/ 的/ 方法/ 设计/ 笔划/ 绘制/ 步骤/ ,/ 按照/ 单一/ 途径/ 将/ 笔划/ 添加/ 到/ 图像/ 结构/ 中/ ,/ 并且/ 笔划/ 生成/ 后/ 就/ 不再/ 修改/ ,/ 能/ 很快/ 生成/ 高质量/ 的/ 结果/ ./ 乱针/ 绣/ 多层/ 绣制/ 的/ 特点/ 不/ 允许/ 采用/ Voronoi/ 算法/ ,/ 而且/ 一副/ 完整/ 的/ 绣品/ 针迹/ 数量/ 巨大/ ,/ 也/ 不/ 适宜/ 采用/ 反复/ 试验/ 法/ 进行/ 优化/ 计算/ ,/ 因此/ ,/ 本文/ 的/ 工作/ 采用/ 贪婪/ 法/ 的/ 思想/ ,/ 每一/ 针迹/ 生成/ 后/ 不再/ 进行/ 修改/ ./ 乱针/ 绣/ 铺色/ 阶段/ 的/ 主要/ 工作/ 是/ 确定/ 针迹/ 方向/ 参数/ ,/ 由于/ 传统/ 刺绣/ 采用/ 平面/ 绣法/ 对/ 针迹/ 的/ 方向/ 没有/ 特定/ 的/ 要求/ ,/ 已有/ 刺绣/ 辅助/ 系统/ 在/ 填充/ 时/ 一般/ 不/ 考虑/ 针迹/ 方向/ ,/ 乱针/ 绣/ 无法/ 借鉴/ 这些/ 系统/ 的/ 针迹/ 填充/ 方法/ ./ 为此/ ,/ 我们/ 根据/ 乱针/ 绣/ 的/ 特点/ 给出/ 了/ 一个/ 根据/ 图像/ 亮度/ 梯度/ 特征/ 计算/ 针迹/ 方向/ 参数/ 的/ 方法/ (/ 第/ 3/ 节/ )/ ./ 由于/ 乱针/ 绣/ 针迹/ 的/ 特点/ ,/ 目前/ 基于/ 笔划/ 的/ 绘制/ 方法/ 无法/ 直接/ 用于/ 乱针/ 绣/ 精绣/ 阶段/ 的/ 针迹/ 生成/ ,/ 主要/ 表现/ 在/ 几个/ 方面/ :/ (/ 1/ )/ 乱针/ 绣/ 不/ 允许/ 生成/ 曲线/ 笔划/ ,/ 只能/ 是/ 直线/ 笔划/ ;/ (/ 2/ )/ 大部分/ 基于/ 笔划/ 绘制/ 的/ 研究/ 工作/ 在/ 生成/ 油画/ 等/ 时/ 允许/ 多层/ 绘制/ 的/ 作品/ 时均/ 使用/ 了/ 多/ 分辨率/ 技术/ [/ 23/ -/ 25/ ]/ ,/ 生成/ 多种/ 宽度/ 的/ 笔划/ ,/ 而/ 电脑/ 绣花机/ 使用/ 的/ 绣/ 线/ 规格/ 不/ 可能/ 太多/ ./ 本文/ 的/ 研究/ 工作/ 假设/ 采用/ 统一/ 规格/ 的/ 绣/ 线/ 进行/ 绣制/ ,/ 也就是说/ 笔划/ 的/ 宽度/ 是/ 统一/ 的/ ,/ 因此/ ,/ 在/ 生成/ 针迹/ 时/ 不能/ 采用/ 多/ 分辨率/ 技术/ 改变/ 针迹/ 的/ 宽度/ ;/ (/ 3/ )/ 目前/ 已有/ 的/ 笔画/ 生成/ 方法/ 一般/ 不/ 考虑/ 空间/ 颜色混合/ 效果/ ./ 据此/ ,/ 本文/ 3.2/ 节/ 给出/ 了/ 一种/ 用/ 反复/ 试验/ 法/ 生成/ 确定/ 单个/ 针迹/ 起始/ 点/ 的/ 算法/ ,/ 并/ 根据/ 颜色/ 的/ 空间/ 混合/ 原理/ 给出/ 了/ 一种/ 选择/ 针迹/ 颜色/ 的/ 算法/ ./ 此外/ ,/ 本文/ 给出/ 了/ 完整/ 的/ 计算机辅助/ 乱针/ 绣/ 流程/ 和/ 部分/ 实验/ 结果/ (/ 第/ 4/ 节/ )/ ,/ 最后/ 对/ 目前/ 算法/ 存在/ 的/ 问题/ 和/ 进一步/ 研究/ 需要/ 解决/ 的/ 问题/ 进行/ 了/ 探讨/ ./ 2/ 基于/ 遗传算法/ 的/ 绣/ 线/ 颜色/ 子集/ 选择/ 2.1/ 乱针/ 绣/ 绣/ 线/ 颜色/ 子集/ 选择/ 的/ 优化/ 模型/ 由于/ 硬件/ 条件/ 的/ 限制/ ,/ 使用/ 刺绣/ 机制/ 作乱/ 针绣/ 只能/ 使用/ 少量/ 种类/ 的/ 绣/ 线/ ,/ 需要/ 从/ 所有/ 可用/ 的/ 绣/ 线/ Page4/ 颜色/ 中/ 选择/ 一个/ 子集/ ./ 假设/ 完整/ 的/ 绣/ 线/ 颜色/ 集/ T/ =/ {/ t1/ ,/ t2/ ,/ …/ ,/ tn/ }/ 中共/ 有/ n/ 种绣线/ ,/ 需要/ 从中/ 选取/ 一个/ k/ 个/ 元素/ 的/ 子集/ S/ =/ {/ s1/ ,/ s2/ ,/ …/ ,/ sk/ }/ ,/ 其中/ si/ ∈/ T/ ,/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ k/ ,/ k/ 为/ 刺绣/ 机/ 允许/ 使用/ 的/ 颜色/ 数/ ,/ 可用/ 式/ (/ 1/ )/ 来/ 表示/ 使用/ 颜色/ 子/ 集中/ 的/ 颜色/ 重建/ 的/ 图像/ 与/ 原/ 图像/ 之间/ 的/ 色差/ ,/ 我们/ 需要/ 求得/ 一个/ 颜色/ 子集/ S/ ,/ 使得/ 该式/ 的/ 值/ 最小/ ,/ 用/ 这个/ 子/ 集中/ 颜色/ 重建/ 的/ 图像/ 与/ 原/ 图像/ 的/ 色彩/ 相似/ 度/ 最高/ ./ 式/ 中/ :/ p/ 、/ q/ 分别/ 为/ 输入/ 图像/ 的/ 宽度/ 和/ 高度/ ;/ cij/ 表示/ 输入/ 图像/ 像素/ (/ i/ ,/ j/ )/ 的/ 颜色/ 值/ ;/ D/ (/ cij/ ,/ sl/ )/ 表示/ 颜色/ cij/ 与/ sl/ 的/ 距离/ ./ 如果/ 采用/ 三维/ 向量/ 表示/ RGB/ 色彩/ 空间/ 中/ 一个/ 颜色/ 值/ ,/ 犆/ =/ (/ r/ ,/ g/ ,/ b/ )/ ,/ 两个/ 不同/ 颜色/ 值/ 犆/ 1/ 、/ 犆/ 2/ 之间/ 的/ 距离/ 通常/ 可/ 采用/ 欧氏/ 距离/ 来/ 表示/ ,/ 考虑/ 到/ 人眼/ 对/ 亮度/ 信号/ 更为/ 敏感/ ,/ 而/ RGB/ 三/ 分量/ 对/ 亮度/ 信号/ 的/ 贡献/ 不同/ ,/ 对/ RGB/ 三/ 分量/ 差值/ 赋予/ 不同/ 的/ 权值/ ,/ 对/ 颜色/ 的/ 色彩/ 距离/ 计算公式/ 进行/ 调整/ ,/ 可以/ 使/ 计算/ 出/ 的/ 距离/ 差异/ 更/ 符合/ 人眼/ 的/ 视觉/ 特点/ ,/ 例如/ 陈兆乾/ 等/ [/ 7/ ]/ 在/ 刺绣/ 打版/ 系统/ 中/ 使用/ 的/ 距离/ 计算方法/ 为式/ (/ 2/ )/ ./ D/ (/ 犆/ 1/ ,/ 犆/ 2/ )/ =/ (/ 犆/ 1/ -/ 犆/ 2/ )/ 2.2/ 用/ 遗传算法/ 求解/ 绣线/ 颜色/ 子集/ 选择/ 问题/ 程/ ,/ 基本/ 步骤/ 如下/ ./ 使用/ 遗传算法/ 求解/ 问题/ 是/ 一个/ 演化/ 迭代/ 的/ 过/ 1/ ./ 初始化/ 参数/ ,/ 随机/ 生成/ 初始/ 群体/ ;/ 2/ ./ 个体/ 评价/ ./ 计算/ 群体/ 中/ 各个/ 个体/ 的/ 适应度/ ;/ 3/ ./ 选择/ 运算/ ./ 将/ 选择/ 算子/ 作用/ 于/ 群体/ ,/ 适应度/ 高/ 的/ 个体/ 以/ 较大/ 的/ 概率/ 被/ 选择/ ,/ 适应度/ 低/ 的/ 个体/ 较/ 较/ 小/ 的/ 概率/ 被/ 选择/ ,/ 选择/ 运算/ 的/ 目的/ 是/ 把/ 优化/ 的/ 个体/ 直接/ 遗传/ 到/ 下一代/ 或/ 通过/ 配对/ 交叉/ 产生/ 新/ 的/ 个体/ 再/ 遗传/ 到/ 下一代/ ;/ 串/ 的/ 某些/ 基因座/ 上/ 的/ 基因/ 值作/ 变动/ ;/ 体/ 的/ 部分/ 结构/ 加以/ 替换/ 重组/ 而/ 生成/ 新/ 个体/ 的/ 操作/ ;/ 4/ ./ 交叉/ 运算/ ./ 将/ 交叉/ 算子/ 作用/ 于/ 群体/ ,/ 指/ 把/ 两个/ 父代/ 个/ 5/ ./ 变异/ 运算/ ./ 将/ 变异/ 算子/ 作用/ 于/ 群体/ ,/ 对/ 群体/ 中/ 的/ 个体/ 6/ ./ 群体/ 经过/ 选择/ 、/ 交叉/ 、/ 变异/ 运算/ 之后/ 得到/ 下一代/ 群体/ 后/ ,/ 判断/ 是否/ 终止/ 条件/ ,/ 若/ 满足/ 则/ 终止/ 输出/ 群体/ 中/ 最优/ 个体/ ,/ 算法/ 终止/ ,/ 否则/ 转步/ 2/ ./ 实现/ 遗传算法/ 首先/ 需要/ 确定/ 基因/ 的/ 表示/ 方法/ 、/ 个体/ 适应度/ 函数/ 以及/ 相关/ 参数/ ./ 本文/ 工作/ 中/ 我们/ 采用/ 二进制/ 串/ 表示/ 每个/ 个体/ 对应/ 的/ 基因/ ,/ 对/ 可用/ 绣线/ 集中/ 的/ 每种/ 绣线/ 定义/ 一个/ 基因/ 位/ ,/ 值为/ 1/ 表示/ 该/ 颜色/ 的/ 绣/ 线/ 被/ 选中/ ,/ 若值/ 为/ 0/ 则/ 表示/ 该/ 绣/ 线/ 未/ 被/ 选中/ ,/ 则/ 可用/ 长度/ 为/ n/ 的/ 二进制/ 串/ 表示/ 一个/ 个体/ ,/ 记/ G/ =/ (/ g1/ ,/ g2/ ,/ …/ ,/ gn/ )/ ,/ 其中/ gi/ 取值/ 为/ 0/ 或/ 1/ ,/ 且/ 满足/ 式/ (/ 3/ )/ 的/ 条件/ ./ 选择/ 操作前/ 必须/ 计算/ 当前/ 群体/ 中/ 每个/ 个体/ 的/ 适应度/ ,/ 适应度/ 值越/ 大/ 的/ 个体/ 对应/ 的/ 解越/ 优/ ./ 2.1/ 节/ 的/ 模型/ 表明/ 式/ (/ 1/ )/ 的/ 值/ 越/ 小/ ,/ 则/ 说明/ 个体/ 的/ 性能/ 越/ 好/ ,/ 越/ 接近/ 最优/ 解/ ,/ 个体/ 适应度/ 定义/ 为/ 遗传算法/ 的/ 主要参数/ 包括/ 种群/ 大小/ 、/ 最大/ 遗传/ 代数/ 以及/ 执行/ 交叉/ 算子/ 的/ 概率/ Pc/ 和/ 变异/ 的/ 概率/ Pm/ ./ 当/ n/ 较大/ 时/ 如果/ 种群/ 数太/ 大会/ 使得/ 算法/ 执行/ 时间/ 很长/ ,/ 我们/ 的/ 实验/ 中/ 选择/ DMC/ 的/ 绣/ 线集/ ,/ 随机/ 生成/ 初始/ 种群/ ,/ 选择/ 种群/ 大小/ 为/ 100/ ,/ 最大/ 遗传/ 代数/ 1000/ ,/ Pc/ 、/ Pm/ 为/ 一般/ 文献/ 推荐/ 范围/ 内/ 的/ 值/ ,/ 采用/ 精英/ 选择/ 遗传算法/ [/ 26/ ]/ ,/ 每次/ 遗传/ 保留/ 上/ 一代/ 的/ 最优/ 解/ ,/ 如果/ 连续/ 若干代/ 遗传/ 最优/ 解/ 保持/ 不变/ ,/ 则/ 终止/ 算法/ ,/ 否则/ 当/ 遗传/ 代数/ 超过/ 最大/ 代/ 次数/ 时/ 终止/ ./ 2.3/ 交叉/ 算子/ 遗传算法/ 标准/ 的/ 交叉/ 算子/ 不能/ 保证/ 交叉/ 生成/ 的/ 新/ 个体/ 满足条件/ (/ 3/ )/ ,/ 无法/ 直接/ 应用/ 于本/ 问题/ ./ 图/ 1/ 为/ n/ =/ 16/ ,/ k/ =/ 6/ 的/ 两个/ 个体/ 采用/ 标准/ 的/ 单点/ 交叉/ 算子/ 的/ 例子/ ,/ 可以/ 看出/ 生成/ 的/ 两个/ 新/ 个体/ 均/ 不/ 满足/ 式/ (/ 3/ )/ ./ 为了/ 避免/ 上述/ 问题/ ,/ 我们/ 对/ 标准/ 的/ 单点/ 交叉/ 算子/ 进行/ 了/ 改进/ ,/ 记/ p1/ 、/ p2/ 为/ 两个/ 父母/ 个体/ ,/ c1/ 、/ c2/ 为/ 交叉/ 生成/ 的/ 新/ 个体/ ,/ 交叉/ 过程/ 如下/ :/ ①/ 初始化/ c1/ 、/ c2/ 所有/ 基因/ 位为/ 0/ ./ ②/ 对/ 所有/ 基因/ 位/ ,/ 若/ p1/ 、/ p2/ 该/ 位置/ 基因/ 值均/ 为/ 1/ ,/ 则/ 将/ p1/ 、/ p2/ 该/ 位置/ 值置/ 为/ 0/ ,/ 将/ c1/ 、/ c2/ 该/ 位置/ 值置/ 为/ 1/ ./ 记/ 满足/ 该/ 条件/ 的/ 基因/ 位/ 个数/ 为/ s/ ,/ 记/ d/ =/ k/ -/ s/ ./ 图/ 2/ (/ a/ )/ 为/ 图/ 1/ 中/ 两个/ 父母/ 个体/ 取出/ 均/ 为/ 1/ 的/ 基因/ Page5/ 位后/ 的/ 情况/ ,/ 图/ 2/ (/ b/ )/ 为/ 待/ 生成/ 的/ 2/ 个体/ 对应/ 的/ 基因/ 位置/ 为/ 1/ 后/ 的/ 情况/ ./ ③/ 生成/ 一个/ [/ 1/ ,/ d/ -/ 1/ ]/ 之间/ 的/ 随机/ 整数/ ,/ 记为/ cp/ ./ 将/ p1/ 中前/ cp/ 个值/ 为/ 1/ 的/ 基因/ 位/ 复制到/ c1/ 对应/ 的/ 基因/ 位置/ ,/ 剩余/ 的/ d/ -/ cp/ 个值/ 为/ 1/ 的/ 基因/ 位/ 复制到/ c2/ 对应/ 的/ 基因/ 位置/ ./ 将/ p2/ 中前/ cp/ 个值/ 为/ 1/ 的/ 基因/ 位/ 复制到/ c2/ 对应/ 的/ 基因/ 位置/ ,/ 剩余/ 的/ d/ -/ cp/ 个值/ 为/ 1/ 的/ 基因/ 位/ 复制到/ c1/ 对应/ 的/ 基因/ 位置/ ./ 图/ 3/ 为/ 图/ 2/ 中/ 的/ 例子/ 取/ cp/ =/ 2/ 得到/ 的/ 两个/ 新/ 个体/ ,/ 可以/ 看出/ 新/ 个体/ 是/ 符合/ 式/ (/ 3/ )/ 的/ ./ 2.4/ 变异/ 算子/ 与/ 交叉/ 算子/ 类似/ ,/ 标准/ 的/ 变异/ 算子/ 也/ 存在/ 同样/ 的/ 问题/ ,/ 当选/ 中/ 某个/ 值为/ 1/ 的/ 基因/ 位/ ,/ 将/ 其值/ 变为/ 0/ ,/ 则/ 会/ 使/ 个体/ 中值/ 为/ 1/ 的/ 基因/ 位/ 数量/ 减少/ ,/ 反之/ 则/ 会/ 使/ 个体/ 中值/ 为/ 1/ 的/ 基因/ 位/ 数量/ 增加/ ./ 对/ 这个/ 问题/ ,/ 我们/ 采用/ 了/ 一种/ 简单/ 的/ 方法/ 来/ 解决/ :/ 当/ 某个/ 值为/ 1/ 的/ 基因/ 位/ 被/ 选中/ 发生/ 变异/ 时/ ,/ 随机/ 选择/ 一个/ 值为/ 0/ 的/ 基因/ 位/ 同时/ 发生/ 变异/ ;/ 而/ 当/ 某个/ 值为/ 0/ 的/ 基因/ 位/ 发生/ 变异/ 时/ ,/ 随机/ 选择/ 一个/ 值为/ 1/ 的/ 基因/ 位/ 同时/ 进行/ 变异/ ./ 在/ 变异/ 时/ 可以/ 只/ 考虑/ 对/ 基因/ 值为/ 1/ 的/ 基因/ 位/ 进行/ 处理/ ,/ 若/ 采用/ 均匀/ 变异/ 则/ 仅/ 对/ 其中/ 值为/ 1/ 的/ 基因/ 位以/ 相同/ 的/ 概率/ 决定/ 该/ 基因/ 位/ 是否/ 进行/ 变异/ ./ 大量/ 实验/ 表明/ :/ 均匀/ 变异/ 存在/ 较/ 明显/ 的/ 早熟/ 现象/ ,/ 难以/ 收敛/ 到/ 全局/ 最优/ 解/ ./ 为此/ 我们/ 提出/ 了/ 一种/ 自/ 适应/ 确定/ 基因/ 位/ 的/ 变异/ 概率/ 的/ 方法/ ./ 对于/ 2.1/ 节/ 描述/ 的/ 优化/ 问题/ ,/ 任意/ 一个/ 个体/ 对应/ 的/ 解/ S/ =/ {/ s1/ ,/ s2/ ,/ …/ ,/ sk/ }/ ,/ 原/ 图像/ 中/ 的/ 像素/ 可/ 按照/ 其/ 颜色/ 分为/ k/ 个/ 集合/ A1/ 、/ A2/ 、/ …/ 、/ Ak/ ,/ 任一/ 集合/ Ai/ 中/ 的/ 像素/ 与/ si/ 中/ 的/ 同一个/ 元素/ 颜色/ 距离/ 最近/ ,/ 定义/ :/ Vl/ =/ ∑/ pij/ ∈/ Al/ 其中/ :/ pij/ 为/ 图像/ 中/ 坐标/ 为/ (/ i/ ,/ j/ )/ 的/ 像素/ ;/ cij/ 为/ 其/ 颜色/ 值/ ./ 则/ 式/ (/ 1/ )/ 可/ 改写/ 为/ Vl/ 表示/ 像素/ 集合/ Al/ 中/ 像素/ 与/ 颜色/ sl/ 的/ 距离/ 和/ ./ 如果/ sl/ 远离/ 图像/ 中/ 像素/ 颜色/ 分布/ 的/ 区域/ ,/ 则/ 可能/ 没有/ 像素/ 被/ 加入/ 像素/ 集合/ Al/ ,/ 淘汰/ 该绣线/ 颜色/ 用/ 接近/ 图像/ 像素/ 颜色/ 分布/ 区域/ 的/ 绣/ 线/ 颜色/ 替换/ 将/ 使/ 得到/ 的/ 解/ 更优/ ,/ 如果/ 我们/ 以/ 较大/ 概率/ 进行/ 变异/ 操作/ ,/ 则/ 可能/ 会/ 促使/ 个体/ 更快/ 地/ 向/ 最优/ 解/ 靠近/ ;/ 如果/ 某绣线/ 颜色/ sl/ 对应/ 的/ 像素/ 集合/ Al/ 中/ 像素/ 很多/ ,/ 则/ 该/ 绣/ 线/ 颜色/ 可能/ 是/ 最优/ 解/ 或/ 距离/ 最优/ 解中/ 某/ 一绣线/ 颜色/ 距离/ 较近/ ,/ 在/ 变异/ 中/ 我们/ 更/ 倾向/ 于/ 保留/ 这样/ 的/ 绣/ 线/ 颜色/ 希望/ 以较/ 小/ 的/ 概率/ 进行/ 变异/ 操作/ ;/ 如果/ S/ 中/ 多个/ 元素/ 集中/ 分布/ 在/ 颜色/ 空间/ 的/ 某/ 一/ 局部/ 区域/ ,/ 此时/ 如果/ 淘汰/ 位于/ 局部/ 区域/ 中心/ 的/ 绣/ 线/ 颜色/ ,/ 则/ 可能/ 是/ 解中/ 绣/ 线/ 颜色/ 的/ 分布/ 更/ 均衡/ ,/ 也就是说/ ,/ 对/ 位于/ 局部/ 区域/ 中心/ 的/ 绣/ 线/ 颜色/ 我们/ 希望/ 赋以/ 更/ 大/ 的/ 变异/ 概率/ ,/ 而/ 这样/ 的/ 绣/ 线/ 颜色/ 由于/ 其/ 对应/ 的/ 像素/ 集合/ 元素/ 少且/ 与/ 该/ 绣/ 线/ 颜色/ 的/ 距离/ 近/ ,/ 因此/ ,/ 对应/ 的/ Vl/ 值/ 也/ 相对/ 较/ 小/ ./ 因位/ ,/ 采用/ 式/ (/ 7/ )/ 确定/ 其/ 变异/ 概率/ ./ 综合/ 以上/ 讨论/ 的/ 几种/ 情况/ ,/ 对/ 所有/ 值为/ 1/ 的/ 基若/ Vl/ =/ 0/ 则/ 可能/ 该/ 位/ 对应/ 的/ 绣/ 线/ 颜色/ 远离/ 图像/ 像素/ 颜色/ 分布/ 的/ 区域/ ,/ 变异/ 概率/ 为/ 1/ ;/ 若/ Vl/ =/ maxiVi/ ,/ 则/ 该位/ 对应/ 的/ 绣/ 线/ 颜色/ 可能/ 为/ 当前/ 解/ 对应/ 的/ 绣/ 线/ 颜色/ 集中/ 最好/ 的/ ,/ 变异/ 概率/ 为/ 0/ ,/ 不/ 变异/ ;/ 否则/ ,/ Vl/ 越大/ 变异/ 概率/ 越小/ ./ 3/ 乱针/ 绣/ 交叉/ 针迹/ 参数/ 计算/ 乱针/ 绣/ 作品/ 在/ 绣制/ 时/ 首先/ 按照/ 刺绣/ 图稿/ 的/ 轮廓/ 和/ 色块/ 进行/ 铺色/ ,/ 采用/ 较为/ 规则/ 、/ 稀疏/ 的/ 交叉/ 针/ 绣制/ ,/ 然后/ 再/ 进行/ 精绣/ ,/ 随着/ 层次/ 的/ 增加/ ,/ 针迹/ 越来越/ 密/ ,/ 使/ 整幅/ 作品/ 呈现出/ 整体/ 和谐/ 的/ 光感/ 与/ 色调/ 感/ ./ 参照/ 人工/ 绣制/ 的/ 过程/ ,/ 我们/ 将/ 乱/ 针/ 绣/ 针迹/ 生成/ 过程/ 分为/ 铺色/ 和/ 精绣/ 两个/ 阶段/ ,/ 铺色/ 阶段/ 将/ 输入/ 图像/ 分割/ 成/ 若干/ 大/ 色块/ 区域/ ,/ 采用/ 交叉/ 针迹/ 分别/ 填充/ 这些/ 区域/ ;/ 精绣/ 阶段/ 根据/ 输入/ 图像/ 的/ 局部/ 色彩/ 分布/ 寻找/ 符合/ 一定/ 条件/ 的/ 针迹/ ,/ 使得/ 针迹/ 密度/ 逐步/ 增加/ ./ 确定/ 一个/ 针迹/ 需要/ 确定/ 其/ 位置/ 和/ 绣/ 线/ 颜色/ ,/ 对/ 铺色/ 阶段/ 针迹/ 的/ 颜色/ 为/ 所/ 需/ 填充/ 的/ 色块/ 的/ 颜色/ ,/ 根据/ 图像/ 分割/ 的/ 结果/ 即可/ 得到/ ,/ 填充/ 时/ 起点/ 位置/ 可以/ 根据/ 用户/ 对/ 填充/ 针迹/ 的/ 密度/ 要求/ 平均/ 分布/ ,/ 因此/ 铺色/ 阶段/ 针迹/ 参数/ 计算/ 主要/ 的/ 问题/ 是/ 确定/ 针迹/ 的/ 方向/ 和/ 交叉/ 的/ 角度/ ;/ 而/ 在/ 精绣/ 阶段/ ,/ 不仅/ 需要/ 确定/ 针迹/ 的/ 位置/ ,/ 还/ 需要/ 根据/ 已/ 绣制/ 的/ 图像/ 与/ 原/ 图像/ 之间/ 的/ 差异/ 选择/ 绣线/ 的/ 颜色/ ,/ 以/ 减小/ 绣制/ 图像/ 与/ 原/ 图像/ 之间/ 的/ 差别/ ./ 3.1/ 乱针/ 绣/ 铺色/ 交叉/ 针迹/ 参数/ 的/ 计算/ 铺色/ 阶段/ 采用/ 相对/ 规则/ 的/ 交叉/ 针迹/ 填充/ 大/ 色块/ ,/ 人工/ 绣制/ 时/ 针迹/ 方向/ 完全/ 由绣工/ 按照/ 各自/ 的/ 经验/ 决定/ ,/ 不同/ 的/ 绣工/ 处理/ 方式/ 不/ 完全相同/ ./ 交叉/ 针迹/ Page6/ 的/ 参数/ 包括/ 方向/ 和/ 交叉/ 角度/ ,/ 如图/ 4/ 所示/ ,/ 其中/ AB/ 、/ CD/ 为/ 针迹/ ,/ EF/ 为/ 两/ 交叉/ 针迹/ 的/ 角/ 平分线/ ,/ 两条/ 针迹/ 的/ 方向/ 由/ 参数/ θ/ 和/ β/ 确定/ ,/ 其/ 与/ x/ 轴/ 的/ 夹角/ 分别/ 为/ θ/ +/ β/ 和/ θ/ -/ β/ ./ 经过/ 对/ 一些/ 乱针/ 绣/ 作品/ 观察/ 总结/ ,/ 我们/ 认为/ 参数/ θ/ 可以/ 看成/ 是/ 图像/ 局部/ 纹理/ 的/ 方向/ ,/ 而/ β/ 的/ 取决于/ 色彩/ 分布/ 的/ 状况/ ,/ 如果/ 色彩/ 在/ 各个/ 方向/ 上/ 变化/ 均/ 比较/ 均匀/ ,/ 则/ 针迹/ 交叉/ 的/ 角度/ 接近/ 垂直/ ,/ 即/ β/ 在/ 45/ °/ 左右/ ,/ 而/ 如果/ 在/ 某/ 一/ 方向/ 上/ 变化/ 较/ 平缓/ ,/ 而/ 其它/ 方向/ 变化/ 较大/ ,/ 则/ β/ 的/ 值/ 较/ 小/ ./ 参照/ 一些/ 研究者/ 在/ 指纹/ 分析/ [/ 27/ ]/ 和/ 虚拟/ 木刻/ 研究/ [/ 28/ ]/ 中/ 确定/ 局部/ 平均/ 方向/ 的/ 方法/ ,/ 我们/ 采用/ 如下/ 的/ 步骤/ 来/ 确定/ θ/ 的/ 值/ ./ 首先/ 求得/ 输入/ 图像/ 的/ 亮度/ 图像/ I/ (/ x/ ,/ y/ )/ ,/ 然后/ 根据/ 亮度/ 图像/ 来/ 计算/ 某一/ 区域/ 的/ 局部/ 方向/ ./ 用式/ (/ 8/ )/ 表示/ 亮度/ 图像/ 的/ 梯度/ ,/ 其中/ Gx/ 、/ Gy/ 分别/ 为/ 对/ 亮度/ 图像/ 使用/ Sobel/ 算子/ 得到/ 的/ x/ 和/ y/ 方向/ 的/ 差/ 分值/ ,/ 用式/ (/ 9/ )/ 计算/ 出/ θ/ 的/ 值/ ./ 其中/ 这里/ W/ 为/ 区域/ 内像素/ 的/ 集合/ ./ 方向/ 亮度/ 变化/ 的/ 情况/ 采用/ 式/ (/ 12/ )/ 来/ 确定/ β/ 的/ 值/ ./ 我们/ 通过/ 比较/ x/ 方向/ 亮度/ 变化/ 情况/ 和/ y3/ ./ 2/ 乱针/ 绣/ 精绣/ 的/ 交叉/ 针迹/ 参数/ 选择/ 精绣/ 阶段/ 在/ 铺色/ 的/ 基础/ 上/ 根据/ 图像/ 的/ 局部/ 颜色/ 特征/ 寻找/ 合适/ 的/ 针迹/ ,/ 我们/ 通过/ 一个/ 正方形/ 的/ 滑动/ 窗口/ 遍历/ 输入/ 图像/ ,/ 在/ 滑动/ 窗口/ 中/ 寻找/ 交叉/ 针迹/ ,/ 逐步/ 加大/ 针迹/ 的/ 密度/ ./ 寻找/ 交叉/ 针迹/ 时/ 需要/ 确定/ 交叉/ 针迹/ 的/ 位置/ 和/ 颜色/ ,/ 在/ 滑动/ 窗口/ 中/ 选定/ 某一/ 针迹/ 起点/ 后/ ,/ 需要/ 寻找/ 针迹/ 的/ 终点/ 位置/ 使得/ 针迹/ 经过/ 的/ 路径/ 在/ 原/ 图像/ 中/ 具有/ 相似/ 的/ 颜色/ ,/ 针迹/ 颜色/ 的/ 选择/ 方法/ 与/ 铺色/ 阶段/ 不同/ ,/ 需要/ 综合/ 考虑/ 已/ 绣制/ 的/ 针迹/ 对/ 绣品/ 的/ 覆盖/ 情况/ 和/ 原/ 图像/ 对应/ 像素/ 的/ 颜色/ ,/ 从绣线/ 颜色/ 子/ 集中/ 选择/ 一种/ 颜色/ 使得/ 新/ 针迹/ 的/ 颜色/ 与/ 已/ 绣制/ 针迹/ 的/ 颜色混合/ ,/ 远/ 看时/ 产生/ 与/ 原/ 图像/ 更/ 接近/ 的/ 颜色/ ./ (/ 1/ )/ 交叉/ 针迹/ 位置/ 的/ 选择/ 交叉/ 针迹/ 位置/ 的/ 起点/ 可/ 分别/ 在/ 正方形/ 滑动/ 窗口/ 中/ 左上角/ 和/ 左下角/ 随机/ 选择/ 两个/ 点/ ,/ 在/ 选定/ 起点/ 后/ 针迹/ 经过/ 的/ 路径/ 上/ 的/ 所有/ 点/ 颜色/ 应该/ 相似/ ,/ 具有/ 较/ 小/ 的/ 色差/ ,/ 但/ 如果/ 直接/ 使用/ 梯度/ 一类/ 的/ 特征/ 来/ 确定/ ,/ 在/ 某些/ 区域/ 无法/ 找到/ 合适/ 长度/ 的/ 路径/ 或/ 在/ 相邻/ 区域/ 内/ 找到/ 十分/ 规则/ 的/ 路径/ ./ 在/ 本文/ 的/ 工作/ 中/ ,/ 我们/ 采用/ 试探法/ ,/ 使用/ 不同/ 的/ 斜率/ 进行/ 试探/ 寻找/ 符合条件/ 的/ 直线/ ./ 对/ 某/ 一/ 给定/ 斜率/ ,/ 首先/ 计算/ 该/ 直线/ 上/ 的/ 下/ 一个/ 像素点/ 颜色/ 与/ 起点/ 颜色/ 的/ 距离/ ./ 如果/ 该/ 距离/ 值/ 小于/ 指定/ 的/ 阈值/ ,/ 则/ 认为/ 颜色/ 相似/ ,/ 继续/ 对/ 该/ 直线/ 下/ 一点/ 进行/ 处理/ ;/ 如果/ 该/ 距离/ 值/ 大于/ 指定/ 的/ 阈值/ 则/ 终止/ 处理/ ,/ 判断/ 已/ 找到/ 的/ 线段/ 的/ 长度/ 是否/ 符合要求/ ,/ 如果/ 长度/ 太短/ 则/ 放弃/ 该/ 线段/ ,/ 选择/ 另/ 一/ 斜率/ 值/ 进行/ 试探/ ./ 当/ 找到/ 的/ 直线/ 段长度/ 超出/ 该/ 阈值/ 时/ 直接/ 返回/ ,/ 以/ 防止/ 在/ 某些/ 颜色/ 变化/ 平缓/ 的/ 区域/ 内/ 产生/ 过长/ 的/ 针迹/ ./ 试探/ 过程/ 中/ 一个/ 十分/ 重要/ 的/ 参数/ 是/ 颜色/ 距离/ 的/ 阈值/ ,/ 如果/ 该/ 阈值/ 过小则/ 在/ 某些/ 区域/ 可能/ 一直/ 无法/ 找到/ 符合条件/ 的/ 直线/ 段/ ,/ 如果/ 该值/ 过大则/ 会/ 使/ 大量/ 像素点/ 的/ 绣/ 线/ 颜色/ 与/ 输入/ 图像/ 中/ 对应/ 的/ 像素点/ 颜色/ 差异/ 太/ 大/ 影响/ 绣制/ 的/ 效果/ ./ 根据/ 窗口/ 区域/ 内/ 图像/ 颜色/ 分布/ 的/ 特点/ ,/ 可/ 将/ 其/ 分为/ 3/ 种/ 类型/ ,/ 如图/ 5/ 所示/ ./ 这/ 3/ 种/ 类型/ 分别/ 具有/ 如下/ 特点/ :/ (/ a/ )/ 窗口/ 内/ 所有/ 像素/ 的/ 颜色/ 近似/ ,/ 变化/ 平缓/ ;/ (/ b/ )/ 窗口/ 内/ 相邻/ 像素/ 颜色/ 差异/ 较大/ ,/ 但/ 总体/ 色调/ 类似/ ,/ 呈现/ 相似/ 的/ 纹理/ ;/ (/ c/ )/ 窗口/ 位于/ 两个/ 或/ 多个/ 物体/ 交界处/ ,/ 颜色/ 分布/ 范围/ 很大/ ./ 对于/ 第/ 1/ 种/ 类型/ ,/ 窗口/ 内/ 的/ 像素点/ 可用/ 同/ 一种/ 绣/ 线或/ 两种/ 颜色/ 很/ 接近/ 的/ 绣/ 线/ 来/ 代替/ ,/ 因此/ 只/ 需/ 设置/ 一个/ 很小/ 的/ 阈值/ 即可/ 找到/ 符合条件/ 的/ 直线/ 段/ ./ 对/ 第/ 2/ 种/ 类型/ ,/ 如果/ 设置/ 一个/ 较/ 小/ 的/ 阈值/ 有/ 可能/ 找到/ 符合条件/ 的/ 直线/ 段/ ,/ 但/ 也/ 有/ 可能/ 会/ 由于/ 相邻/ 像素/ 的/ 颜色/ 存在/ 较大/ 差异/ 而/ 无法/ 找到/ 合适/ 的/ 直线/ 段/ ./ 为了/ 能够/ 尽量/ 找出/ 颜色/ 变化/ 较/ 小/ 的/ 直线/ 段/ ,/ 我们/ 首先/ 使用/ 一个/ 较/ 小/ 的/ 阈值/ 进行/ 试探/ ,/ 如果/ 找/ 不到/ 符合条件/ 的/ 直线/ 段/ ,/ 则/ 加大/ 阈值/ 重复/ 进行/ 试探/ ,/ 如果/ 阈值/ 超过/ 最大/ 阈值/ ,/ 则/ 终止/ 试探/ 过程/ ./ 最大/ 阈值/ 可/ 根据/ 该/ 正方形/ 区域/ 内/ 颜色/ 的/ 分布/ 情况/ 来/ Page7/ 确定/ ./ 正方形/ 区域/ 内/ 颜色/ 的/ 分布/ 情况/ 可以/ 使用/ 颜色/ 粗糙度/ 的/ 概念/ 来/ 描述/ [/ 29/ ]/ ,/ 粗糙度/ 越大/ 说明/ 该/ 区域/ 颜色/ 变化/ 越/ 剧烈/ ./ 边长/ 为/ n/ 的/ 正方形/ 区域/ 颜色/ 粗糙度/ 计算方法/ 如式/ (/ 13/ )/ ,/ (/ 14/ )/ 所示/ ,/ 首先/ 计算/ 该/ 区域/ 内/ 颜色/ 的/ 平均值/ Cav/ ,/ 这里/ Cij/ 表示/ i/ 行/ j/ 列/ 的/ 颜色/ 向/ 量值/ ,/ 式/ (/ 14/ )/ 的/ S/ 即为/ 颜色/ 粗糙度/ ,/ 其中/ 的/ D/ (/ Cij/ ,/ Cav/ )/ 按式/ (/ 2/ )/ 的/ 平方/ 值/ 计算/ ./ 第/ 2/ 种/ 类型/ 的/ 窗口/ 区域/ 内/ 的/ 颜色/ 分布/ 可以/ 用/ 3/ 维单/ 高斯/ 模型/ 来/ 描述/ ,/ 我们/ 可以/ 认为/ 围绕/ 颜色/ 均值/ 点/ 的/ 大部分/ 颜色/ 都/ 是/ 相似/ 的/ ./ 粗糙度/ 的/ 平方/ S2/ 为/ 该/ 区域/ 内/ 所有/ 像素/ 颜色/ 到/ 颜色/ 均值/ 点/ 距离/ 平方/ 的/ 均值/ ,/ 对于/ 1/ 维/ 高斯分布/ 类似/ 的/ 计算结果/ 我们/ 可以/ 作为/ 方差/ 的/ 估计值/ ,/ 因此/ 本文/ 借鉴/ 1/ 维/ 高斯分布/ 的/ 3/ δ/ 原则/ ,/ 根据/ 实验/ 结果/ 将式/ (/ 2/ )/ 所/ 定义/ 的/ 距离/ 值/ 平方/ 的/ 最大/ 阈值/ 选定/ 为/ 18S2/ ./ 对于/ 第/ 3/ 种/ 类型/ ,/ 使用/ 较/ 小/ 的/ 阈值/ 能否/ 寻找/ 到/ 符合条件/ 的/ 直线/ 段/ ,/ 取决于/ 该/ 区域/ 内/ 物体/ 的/ 颜色/ 分布/ 情况/ 及/ 物体/ 的/ 大小/ ./ 例如/ 图/ 5/ (/ c/ )/ 的/ 例子/ 中/ 左上/ 和/ 右/ 下/ 部分/ 颜色/ 分布/ 较/ 均匀/ ,/ 则/ 在/ 这/ 一部分/ 用/ 较/ 小/ 的/ 距离/ 阈值/ 也/ 能/ 寻找/ 到/ 符合条件/ 的/ 直线/ 段/ ./ 如果/ 构成/ 该/ 区域/ 的/ 物体/ 颜色/ 差异/ 很大/ ,/ 即使/ 使用/ 一个/ 较大/ 的/ 距离/ 阈值/ ,/ 如/ 第/ 2/ 种/ 类型/ 中/ 计算/ 得到/ 的/ 18S2/ 也/ 无法/ 找到/ 符合条件/ 的/ 直线/ 段/ ./ 这种/ 类型/ 的/ 窗口/ ,/ 当/ 我们/ 逐步/ 减小/ 窗口/ 尺寸/ 时/ ,/ 将/ 转化/ 为/ 第/ 1/ 种/ 类型/ 或/ 第/ 2/ 种/ 类型/ ,/ 可以/ 用/ 较/ 短/ 的/ 针迹/ 去/ 绣制/ 该/ 区域/ ./ 根据/ 上面/ 的/ 分析/ ,/ 我们/ 给出/ 了/ 在/ 宽度/ 为/ iWindowWidth/ 的/ 正方形/ 区域/ 内/ 寻找/ 交叉/ 针迹/ 的/ 算法/ ,/ 其中/ 的/ flag1/ 、/ flag2/ 分别/ 表示/ 是否/ 已/ 找到/ 从/ 左上/ 到/ 右/ 下/ 和/ 从/ 左下/ 到/ 右上方/ 向/ 的/ 针迹/ ,/ 每次/ 寻找/ 的/ 针迹/ 最短/ 长度/ 为/ iWindowWidth/ ,/ 最长/ 不/ 超过/ iWindowWidth/ 的/ 1.5/ 倍/ ./ 算法/ 描述/ 如下/ :/ 1/ ./ 初始化/ flag1/ 、/ flag2/ 为/ false/ ;/ 2/ ./ 计算/ Cav/ 和/ S2/ ;/ 3/ ./ 颜色/ 距离/ 阈值/ =/ 1000/ ;/ 4/ ./ 在/ 正方形/ 区域/ 的/ 左上角/ 的/ 1/ // 4/ 区域/ 内/ 随机/ 选定/ 一点/ (/ startx/ ,/ starty/ )/ ;/ 5/ ./ for/ (/ intk/ =/ iWindowWidth/ ;/ k/ >/ =/ 0/ ;/ k/ -/ -/ )/ {/ 5.1/ ./ 判断/ 起点/ 为/ (/ startx/ ,/ starty/ )/ 斜率/ 为/ k/ // iWindow/ -/ Width/ 的/ 方向/ 上/ 的/ 像素/ 颜色/ 最/ 相近/ 的/ 绣/ 线/ 颜色/ 是否/ 与/ 起点/ 相同/ 或/ 与/ 起点/ 的/ 颜色/ 距离/ 是否/ 小于/ 颜色/ 距离/ 与值/ ,/ 若/ 是/ 将/ 其/ 作为/ 线段/ 终点/ ,/ 继续/ 循环/ 判断/ 下/ 一/ 像素/ ,/ 当/ 线段/ 长度/ 大于/ 1.5/ ×/ iWindowWidth/ 或/ 遇到/ 某/ 像素点/ 与/ 起点/ 颜色/ 距离/ 大于/ 颜色/ 距离/ 值时/ 返回/ 已/ 求得/ 的/ 线段/ 终点/ ;/ 5.2/ ./ 若/ 找到/ 的/ 线段/ 长度/ 大于/ 等于/ iWindowWidth/ ,/ 将/ 该/ 线段/ 加入/ 针迹/ 表/ ,/ 置/ flag1/ =/ true/ ,/ 在/ 已/ 绣制/ 图像/ 上/ 绘制/ 该/ 线段/ ,/ 退出/ 当前/ 循环/ ,/ 转步/ 7/ ;/ 6/ ./ for/ (/ intk/ =/ iWindowWidth/ ;/ k/ >/ =/ 1/ ;/ k/ -/ -/ )/ {/ 6.1/ ./ 功能/ 与步/ 5.1/ 相同/ ,/ 直线/ 段/ 斜率/ 改为/ 为/ iWindow/ -/ Width/ // k/ ;/ 6.2/ ./ 同步/ 5.2/ ;/ 7/ ./ 在/ 正方形/ 区域/ 的/ 左下角/ 的/ 1/ // 4/ 区域/ 内/ 随机/ 选定/ 一点/ (/ startx/ ,/ starty/ )/ ;/ 8/ ./ for/ (/ intk/ =/ rand/ (/ )/ %/ iWindowWidth/ ;/ k/ >/ =/ 1/ ;/ k/ -/ -/ )/ {/ 8.1/ ./ 功能/ 同步/ 5.1/ ,/ 直线/ 段/ 斜率/ 为/ -/ k/ // iWindowWidth/ ;/ 8.2/ ./ 若/ 找到/ 的/ 线段/ 长度/ 大于/ 等于/ iWindowWidth/ ,/ 将/ 该/ 线段/ 加入/ 针迹/ 表/ ,/ 置/ flag2/ =/ true/ ,/ 在/ 已/ 绣制/ 图像/ 上/ 绘制/ 该/ 线段/ ,/ 退出/ 当前/ 循环/ ,/ 转步/ 10/ ;/ 9/ ./ for/ (/ intk/ =/ rand/ (/ )/ %/ iWindowWidth/ ;/ k/ >/ =/ 1/ ;/ k/ -/ -/ )/ {/ 9.1/ ./ 功能/ 同步/ 8.1/ ,/ 直线/ 段/ 斜率/ 为/ -/ iWindowWidth/ // k/ ;/ 9.2/ ./ 功能/ 同步/ 8.2/ ;/ 10/ ./ 如果/ (/ !/ flag1/ &&/ !/ flag2/ )/ 则/ 增加/ 颜色/ 距离/ 阈值/ ;/ 否则/ ,/ 算法/ 终止/ ;/ 11/ ./ 如果/ 颜色/ 距离/ 阈值/ 大于/ 18S2/ ,/ 算法/ 终止/ ;/ 12/ ./ 转步/ 4/ ./ 在/ 窗口/ 内/ 找到/ 符合条件/ 的/ 直线/ 段/ 后/ ,/ 在/ 该/ 直线/ 段/ 的/ 起点/ 或/ 终点/ 在/ 目标/ 图像/ 中/ 对应/ 的/ 区域/ 中/ 随机/ 选取/ 一个/ 未/ 被/ 绣/ 线/ 覆盖/ 的/ 点/ 作为/ 针迹/ 起点/ 或/ 终点/ ./ (/ 2/ )/ 交叉/ 针迹/ 颜色/ 选择/ 由于/ 机器/ 绣制/ 只能/ 使用/ 少量/ 颜色/ ,/ 输入/ 图像/ 中/ 大部分/ 区域/ 的/ 颜色/ 与/ 所/ 选择/ 的/ 颜色/ 子/ 集中/ 的/ 颜色/ 存在/ 色差/ ,/ 如果/ 在/ 一个/ 区域/ 中/ 反复/ 使用/ 同/ 一种/ 颜色/ 的/ 绣/ 线/ 进行/ 绣制/ ,/ 则/ 作品/ 的/ 视觉效果/ 与/ 原图/ 会/ 有/ 很大/ 差异/ ./ 根据/ 混色/ 原理/ [/ 10/ ]/ ,/ 不同/ 颜色/ 的/ 邻近/ 点远/ 看时/ 混合/ 产生/ 新/ 的/ 颜色/ ,/ 因此/ ,/ 我们/ 通过/ 在/ 邻近/ 点/ 使用/ 前面/ 选择/ 的/ 颜色/ 子/ 集中/ 少量/ 颜色/ 进行/ 混合/ ,/ 远/ 看时/ 产生/ 与/ 原/ 图像/ 更/ 接近/ 的/ 颜色/ ./ 我们/ 的/ 算法/ 中/ 输入/ 图像/ 中/ 的/ 一个/ 像素/ 在/ 绣品/ 中/ 对应/ 一个/ 正方形/ 区域/ ,/ 采用/ 该/ 正方形/ 区域/ 中/ 各/ 像素点/ 的/ RGB/ 平均值/ 作为/ 混合/ 产生/ 的/ 新/ 颜色/ ./ 在/ 选定/ 针迹/ 的/ 起点/ 和/ 终点/ 后/ ,/ 根据/ 直线/ 段/ 起点/ 在/ 目标/ 图像/ 中/ 所/ 对应/ 正方形/ 区域/ 的/ 覆盖/ 情况/ 来/ 确定/ 针迹/ 的/ 颜色/ ./ 如果/ 该/ 正方形/ 区域/ 已/ 覆盖/ 的/ 像素/ 比例/ 小于/ 20/ %/ ,/ 直/ Page8/ 接/ 根据/ 输入/ 图像/ 中/ 对应/ 像素点/ 的/ 颜色/ 选择/ 一个/ 颜色/ 最/ 接近/ 的/ 绣/ 线/ 颜色/ ;/ 如果/ 该/ 正方形/ 区域/ 已/ 覆盖/ 的/ 像素/ 比例/ 大于/ 20/ %/ ,/ 则/ 按/ 下面/ 的/ 步骤/ 来/ 计算/ 针迹/ 的/ 颜色/ ,/ 其中/ iScale/ 表示/ 正方形/ 区域/ 的/ 边长/ :/ 1/ ./ 求出/ 该/ 正方形/ 区域/ 内/ 所有/ 点/ 的/ 颜色/ 和/ ,/ 未/ 被/ 覆盖/ 的/ 部分/ 求和/ 时用/ 输入/ 图像/ 中/ 对应/ 像素点/ 颜色/ 最/ 相近/ 的/ 绣/ 线/ 颜色/ 替代/ ,/ 记该/ 值/ 为/ Csum/ ./ 2/ ./ 计算/ 输入/ 图像/ 对应点/ 的/ 颜色/ 与/ Csum/ 的/ 差/ Cdiff/ ,/ 如式/ (/ 15/ )/ 所示/ ,/ 其中/ Corg/ 为/ 输入/ 图像/ 中/ 对应/ 像素点/ 的/ 颜色/ ./ 3/ ./ 根据/ 式/ (/ 16/ )/ 计算/ 得到/ 的/ Crep/ 在/ 绣/ 线/ 集中/ 寻找/ 最/ 相似/ 的/ 颜色/ 作为/ 针迹/ 颜色/ ,/ 其中/ 参数/ α/ ∈/ (/ 0/ ,/ 1/ ]/ 为/ 颜色/ 调节/ 因子/ ,/ 用于/ 调节/ 针迹/ 使用/ 的/ 绣/ 线/ 颜色/ 与/ 输入/ 图像/ 中/ 对应/ 像素/ 颜色/ 的/ 相似/ 程度/ ./ α/ 取/ 较大/ 值时/ 目标/ 图像/ 远看/ 色彩/ 更/ 接近/ 输入/ 图像/ ;/ α/ 较小则/ 所选/ 颜色/ 与/ 输入/ 图像/ 中/ 对应/ 像素/ 颜色/ 更/ 接近/ ,/ 但远/ 看时/ 视觉效果/ 不及/ α/ 取/ 较大/ 值/ 的/ 情况/ ./ 我们/ 的/ 实验/ 中/ α/ 取/ 0.5/ 对/ 大部分/ 图像/ 效果/ 较/ 好/ ./ 4/ 计算机辅助/ 乱针/ 绣/ 制作/ 流程/ 及/ 实验/ 结果/ 分析/ 4.1/ 计算机辅助/ 乱针/ 绣/ 制作/ 流程/ 计算机辅助/ 乱针/ 绣/ 制作/ 的/ 完整/ 过程/ 包含/ 4/ 个/ 大/ 的/ 步骤/ :/ 绣线/ 颜色/ 子集/ 选择/ 、/ 铺色/ 、/ 精绣/ 和/ 针迹/ 优化/ ./ 绣线/ 颜色/ 子集/ 选择/ 算法/ 已/ 在/ 第/ 2/ 节/ 描述/ ,/ 这里/ 不再/ 赘述/ ./ 针迹/ 优化/ 阶段/ 根据/ 针迹/ 的/ 颜色/ 对/ 前面/ 阶段/ 生成/ 的/ 针迹/ 在/ 不/ 改变/ 颜色/ 不同/ 的/ 针迹/ 之间/ 覆盖/ 关系/ 的/ 前提/ 下/ 重新/ 排序/ ,/ 将/ 相同/ 颜色/ 的/ 针迹/ 尽量/ 集中/ ,/ 减少/ 机绣/ 时换色/ 的/ 次数/ ,/ 提高/ 绣制/ 效率/ ./ 针迹/ 优化/ 目前/ 只是/ 比较简单/ 的/ 按/ 颜色/ 重新排列/ 针迹/ ,/ 算法/ 较为简单/ ,/ 本文/ 不/ 详细/ 介绍/ ./ 下面/ 主要/ 描述/ 铺色/ 和/ 精绣/ 阶段/ 的/ 完整/ 流程/ ./ 铺色/ 阶段/ 需要/ 根据/ 第一阶段/ 求出/ 的/ 绣/ 线/ 颜色/ 集/ 进行/ 区域分割/ ,/ 将/ 输入/ 图像/ 划分/ 为/ 若干/ 大/ 的/ 色块/ ,/ 然后/ 进行/ 填充/ ./ 如果/ 直接/ 根据/ 输入/ 图像/ 的/ 颜色/ 分布/ 进行/ 划分/ ,/ 往往/ 会/ 出现/ 大量/ 面积/ 很小/ 的/ 区域/ ,/ 在/ 分割/ 前/ 对/ 输入/ 图像/ 进行/ 平滑/ ,/ 去除/ 一些/ 细节/ 特征/ ,/ 可以/ 避免/ 这种/ 情况/ ./ 因此/ ,/ 我们/ 将/ 铺色/ 阶段/ 分为/ 3/ 个/ 步骤/ :/ 平滑/ 输入/ 图像/ 、/ 分割/ 平滑/ 后/ 的/ 图像/ 、/ 分别/ 填充/ 分割/ 得到/ 的/ 区域/ ./ 图像/ 的/ 平滑/ 可以/ 采用/ 图像去噪/ 算法/ 来/ 完成/ ,/ 将/ 图像/ 中/ 的/ 一些/ 细节/ 特征/ 看成/ 是/ 噪音/ ,/ 通过/ 去/ 噪/ 算法/ 去除/ 这些/ 细节/ ,/ 保留/ 大/ 色块/ 的/ 轮廓/ 特征/ ./ 但/ 一些/ 传统/ 的/ 算法/ 在/ 去/ 噪/ 的/ 同时/ 往往/ 会/ 使/ 图像/ 的/ 边缘/ 变得/ 模糊/ ,/ Rudin/ 、/ Osher/ 和/ Fatemi/ [/ 30/ ]/ 提出/ 了/ 一种/ 基于/ 全变分/ (/ TotalVariation/ ,/ TV/ )/ 模型/ 的/ 去/ 噪/ 方法/ ,/ 该/ 方法/ 各向异性/ 扩散/ ,/ 能/ 在/ 去/ 噪/ 的/ 同时/ 很/ 好/ 地/ 保持/ 图像/ 的/ 边缘/ ,/ Chambolle/ 等/ 人/ [/ 31/ ]/ 研究/ 改进/ 该/ 方法/ 用于/ 图像/ 的/ 复原/ 取得/ 了/ 较/ 好/ 的/ 效果/ ,/ 我们/ 的/ 实验/ 直接/ 使用/ 了/ Chambolle/ 等/ 人/ 的/ 算法/ ./ 对/ 平滑/ 后/ 的/ 图像/ 的/ 所有/ 像素点/ 使用/ 第一阶段/ 选出/ 的/ 绣/ 线/ 颜色/ 中/ 最/ 相似/ 的/ 颜色/ 替换/ ,/ 则/ 图像/ 被/ 自动/ 分割/ 成/ 若干/ 区域/ ,/ 最后/ 对/ 每个/ 区域/ 采用/ 选定/ 的/ 颜色/ 采用/ 交叉/ 针迹/ 进行/ 填充/ ./ 填充/ 前/ 需要/ 确定/ 相关/ 参数/ ,/ 包括/ 每个/ 区域/ 针迹/ 的/ 方向/ 和/ 针迹/ 密度/ ,/ 表示/ 针迹/ 方向/ 的/ 参数/ θ/ 和/ β/ 分别/ 由式/ (/ 9/ )/ 和/ (/ 12/ )/ 确定/ ,/ 针迹/ 的/ 密度/ 可/ 手工/ 设定/ ,/ 如果/ 密度/ 高/ ,/ 则/ 后期/ 加工/ 的/ 余地/ 较/ 小/ ,/ 如果/ 密度/ 过低/ ,/ 则/ 作品/ 需要/ 人工/ 再/ 加工/ 的/ 工作量/ 就/ 会/ 很大/ ,/ 我们/ 采用/ 针迹/ 覆盖/ 目标/ 图像/ 面积/ 的/ 比例/ 来/ 衡量/ 针迹/ 密度/ ./ 精绣/ 阶段/ 在/ 铺色/ 的/ 基础/ 上/ 根据/ 图像/ 的/ 局部/ 颜色/ 特征/ 寻找/ 合适/ 的/ 针迹/ ,/ 逐步/ 加大/ 针迹/ 的/ 密度/ ./ 设定/ 一个/ 小/ 的/ 正方形/ 窗口/ ,/ 在/ 输入/ 图像/ 上/ 从/ 左/ 至/ 右/ 从/ 上/ 至/ 下/ 移动/ 该/ 窗口/ ,/ 每次/ 在/ 该/ 窗口/ 内/ 通过/ 试探法/ 寻找/ 左上/ 至/ 右/ 下/ 和/ 左下/ 至/ 右/ 上/ 的/ 直线/ 段/ 使得/ 该/ 直线/ 段/ 上/ 所有/ 像素/ 的/ 颜色/ 差/ 满足/ 指定/ 的/ 条件/ ,/ 然后/ 以/ 找到/ 的/ 直线/ 段/ 结合/ 已有/ 针迹/ 的/ 覆盖/ 情况/ 生成/ 针迹/ 位置/ ,/ 根据/ 3.2/ 节/ 描述/ 的/ 针迹/ 颜色/ 选择/ 算法/ 计算/ 出/ 针迹/ 颜色/ ,/ 试探/ 过程/ 已/ 在/ 第/ 3.2/ 节/ 详细描述/ ./ 我们/ 将/ 窗口/ 的/ 尺寸/ 及/ 移动/ 的/ 步幅/ 从大到/ 小/ 进行/ 变化/ ,/ 多次/ 遍历/ 输入/ 图像/ 以/ 生成/ 不同/ 长度/ 的/ 针迹/ ,/ 这个/ 过程/ 可以/ 描述/ 如下/ ./ 的/ 最小/ 阈值/ ;/ 1/ ./ 设定/ 初始/ 移动/ 窗口/ 尺寸/ 和/ 移动/ 的/ 步幅/ 以及/ 窗口/ 尺寸/ 2/ ./ 设定/ 当前/ 窗口/ 尺寸/ 允许/ 的/ 最/ 短/ 针迹/ 长度/ 和/ 最长/ 针迹/ 3/ ./ 对原/ 图像/ 从/ 左/ 至/ 右/ 从上到下/ ,/ 移动/ 窗口/ ,/ 对/ 每/ 一个/ 窗口/ :/ 3.1/ ./ 计算/ 已/ 绣制/ 的/ 图像/ 中/ 对应/ 当前/ 窗口/ 的/ 部分/ 已/ 被覆/ 3.2/ ./ 如果/ 被/ 覆盖/ 的/ 比例/ 大于/ 90/ %/ ,/ 跳/ 过步/ 3.3/ 和/ 3.4/ ,/ 长度/ ;/ 盖/ 的/ 比例/ ;/ 处理/ 下/ 一/ 窗口/ ;/ 3.3/ ./ 在/ 窗口/ 左/ 上部/ 选择/ 一点/ 作为/ 起点/ ,/ 采用/ 试探法/ 向/ 右下方/ 向/ 寻找/ 长度/ 在/ 最/ 短/ 针迹/ 长度/ 和/ 最长/ 针迹/ 长度/ 之间/ 且/ 像素/ 颜色/ 相近/ 的/ 直线/ ./ 如果/ 找到/ ,/ 则/ 根据/ 该/ 直线/ 的/ 起点/ 和/ 终点/ 位置/ 生成/ 一个/ 针迹/ ;/ 3.4/ ./ 在/ 窗口/ 左/ 下部/ 选择/ 一点/ 作为/ 起点/ ,/ 采用/ 试探法/ 向/ 右上方/ 向/ 寻找/ 长度/ 在/ 最/ 短/ 针迹/ 长度/ 和/ 最长/ 针迹/ 长度/ 之间/ 且/ 像素/ 颜色/ 相近/ 的/ 直线/ ./ 如果/ 找到/ ,/ 则/ 根据/ 该/ 直线/ 的/ 起点/ 和/ 终点/ 位置/ 生成/ 一个/ 针迹/ ;/ 4/ ./ 减小/ 窗口/ 尺寸/ 和/ 窗口/ 移动/ 的/ 步幅/ ;/ Page95/ ./ 如果/ 窗口/ 尺寸/ 大于/ 预先/ 设定/ 的/ 阈值/ ,/ 转步/ 2/ ;/ 否则/ 算法/ 终止/ ./ 4.2/ 实验/ 结果/ 及/ 分析/ 根据/ 上面/ 的/ 算法/ ,/ 我们/ 用/ 多幅/ 图像/ 进行/ 了/ 实验/ ,/ 通过/ 针迹/ 模拟/ 显示/ 观察/ 其/ 效果/ ,/ 并/ 选择/ 了/ 部分/ 图像/ 实际/ 进行/ 绣制/ ./ 实验/ 选用/ DMC/ 的/ 绣/ 线/ 颜色/ 集/ ,/ 共有/ 454/ 种颜色/ ,/ 种群/ 大小/ 设定/ 为/ 100/ ,/ 交叉/ 概率/ 为/ 0.8/ ,/ 采用/ 精英/ 选/ 保留/ 策略/ ,/ 每次/ 保留/ 上/ 一代/ 的/ 最优/ 解/ ,/ 如果/ 连续/ 100/ 次/ 迭代/ 最优/ 解/ 适应度/ 保持/ 不变/ ,/ 则/ 终止/ 算法/ ,/ 否则/ 当/ 迭代/ 次数/ 超过/ 1000/ 时/ 终止/ ./ 图/ 6/ (/ a/ )/ 是/ 实验/ 使用/ 的/ 一幅/ 输入/ 图像/ ./ 首先/ 我们/ 分别/ 使用/ 均匀/ 变异/ 与/ 本文/ 提出/ 的/ 自/ 适应/ 确定/ 变异/ 概率/ 的/ 方法/ 进行/ 绣线/ 颜色/ 子集/ 选择/ 的/ 对比/ 实验/ ./ 表/ 1/ 为/ 图/ 6/ (/ a/ )/ 采用/ 均匀/ 变异/ 取/ pm/ =/ 0.15/ 的/ 10/ 次/ 实验/ 结果/ 的/ 数据/ ,/ 表/ 2/ 为/ 采用/ 改进/ 后/ 的/ 变异/ 方法/ 得到/ 的/ 10/ 次/ 实验/ 结果/ ./ 比较/ 表/ 1/ 、/ 表/ 2/ 的/ 数据/ 可以/ 发现/ 使用/ 改进/ 的/ 变异/ 算子/ 后/ :/ (/ 1/ )/ 终止/ 迭代/ 的/ 次数/ 增加/ ;/ (/ 2/ )/ 最终/ 群体/ 最优/ 个体/ 的/ 适应度/ 值/ 大幅提高/ ./ 以上/ 两点/ 表明/ 早熟/ 收敛/ 现象/ 得到/ 了/ 一定/ 程度/ 的/ 抑制/ ./ 图/ 6/ (/ a/ )/ 进行/ 平滑/ 得到/ 图/ 6/ (/ b/ )/ ./ 绣线/ 选择/ 完成/ 后/ 采用/ Chambolle/ 等/ 人/ 的/ 算法/ 对/ 初始/ 群体/ 最优/ 个体/ 适应度/ 0.0001392860/ ./ 0001835171680.0001856200/ ./ 0001253080.0001647833000/ ./ 0001868440.0001468530/ ./ 0001787102070.00018723900/ ./ 0001596350.0001681871830/ ./ 0001727090.0001303410/ ./ 0001926671190.0001926670/ ./ 0001141450.0001711272170/ ./ 0001797520.0001315020/ ./ 0001758601080.00017586000/ ./ 0001366150.0001753311140/ ./ 0001753310.0001317990/ ./ 0001781441660.0001925190/ ./ 0001460790.0001686582180/ ./ 000198348/ 初始/ 群体/ 最优/ 个体/ 适应度/ 0.0001436360/ ./ 0001935224790.0002824730/ ./ 0001772470.0001845214710/ ./ 0002882680.0001421450/ ./ 000209374270.0002761450/ ./ 0001299440.0001838294150/ ./ 0002824870.0001663070/ ./ 0001719583270.0002665770/ ./ 0001386160.0002048794120/ ./ 0002823510.0001337140/ ./ 0002264374920.0002830310/ ./ 0001373050.0001878823830/ ./ 0002700160.0001331360/ ./ 0002027023540.0002797340/ ./ 0001320860.0001758954280/ ./ 000267907/ 图/ 7/ 是/ 图/ 6/ (/ a/ )/ 中/ 的/ 荷花/ 图/ iScale/ 为/ 5/ 、/ 覆盖/ 比例/ 为/ 20/ %/ 的/ 12/ 色/ 铺色/ 结果/ ./ iScale/ 取较/ 小值/ 时/ ,/ 算法/ 生成/ 的/ 针迹/ 较/ 短/ ,/ 密度/ 较大/ ,/ 不利于/ 人工/ 进一步/ 加工/ ;/ iScale/ 较大/ 则/ 生成/ 针迹/ 较长/ ,/ 密度/ 较稀/ ,/ 机器/ 直接/ 生成/ 的/ 绣品/ 视觉效果/ 较差/ ,/ 留给/ 人工/ 更大/ 的/ 空间/ 对/ 作品/ 进行/ 完善/ ./ 图/ 8/ 为/ 图/ 6/ (/ a/ )/ 作为/ 输入/ 图像/ ,/ 使用/ 12/ 色绣线/ ,/ Page10/ 滑动/ 窗口/ 大小/ 分别/ 取/ 8/ 、/ 4/ 、/ 2/ 三次/ 遍历/ 输入/ 图像/ 得到/ 的/ 结果/ ./ 图/ 9/ 为/ 针迹/ 模拟/ 显示/ 的/ 局部/ ,/ 从中/ 可以/ 看出/ 每条/ 针迹/ 的/ 方向/ 和/ 颜色/ ,/ 完整/ 的/ 图像/ 幅面/ 太/ 大/ ,/ 这里/ 不再/ 给出/ ./ 图/ 10/ 为/ 图/ 6/ (/ a/ )/ 采用/ 6/ 色绣线/ 的/ 绣制/ 现场/ 和/ 绣品/ 照片/ ,/ 我们/ 使用/ 了/ 日本/ Brother/ 公司/ 生产/ 的/ PR600II/ 单头/ 6/ 针/ 绣花机/ ,/ 由于/ 实验/ 条件/ 的/ 不足/ ,/ 实际/ 使用/ 的/ 绣/ 线/ 与/ 算法/ 选择/ 的/ 绣/ 线/ 颜色/ 存在/ 一定/ 差异/ ,/ 对/ 绣品/ 的/ 最终/ 效果/ 有/ 一定/ 影响/ ./ 该/ 绣品/ 的/ 实际/ 尺寸/ 为/ 193.6/ mm/ ×/ 149.6/ mm/ ,/ 绣制/ 时间/ 3h20min/ ./ 由于/ 在/ 针迹/ 生成/ 过程/ 中/ 引入/ 了/ 某些/ 随机因素/ ,/ 因此/ 对同/ 一幅/ 输入/ 图像/ 每次/ 运行/ 结果/ 并不相同/ 图/ 11/ (/ a/ )/ ,/ (/ b/ )/ ,/ (/ c/ )/ 是/ 对/ 图/ 6/ (/ a/ )/ 三次/ 处理/ 得到/ 的/ 针迹/ 模拟/ 显示图/ 缩/ 放到/ 原图/ 尺寸/ 的/ 图像/ ,/ 总体/ 视觉效果/ 相似/ ,/ 但/ 可以/ 看出/ 实际/ 选用/ 的/ 绣/ 线集/ 不/ 完全相同/ ,/ 存在/ 一定/ 色差/ ./ 从/ 上面/ 的/ 实验/ 结果/ 可以/ 看出/ ,/ 本文/ 给出/ 的/ 方法/ 可以/ 显著/ 提高/ 乱针/ 绣/ 的/ 制作/ 效率/ ,/ 降低生产/ 成本/ ,/ 但/ 算法/ 还有/ 待/ 进一步/ 改进/ ./ 5/ 结束语/ 乱针/ 绣/ 是/ 中华民族/ 刺绣/ 艺术/ 的/ 瑰宝/ ,/ 乱针/ 绣/ 计算机辅助/ 技术/ 的/ 研究/ 对/ 这/ 一/ 宝贵/ 的/ 非/ 物质/ 文化遗产/ 的/ 保护/ 具有/ 重要/ 的/ 意义/ ./ 本文/ 将/ 计算机辅助/ 乱针/ 绣/ 制作/ 技术/ 归结为/ 绣线/ 颜色/ 子集/ 选择/ 和/ 交叉/ 针迹/ 参数/ 计算/ 两大/ 关键技术/ 问题/ ,/ 主要/ 研究成果/ 表现/ 在/ 以下/ 几个/ 方面/ :/ (/ 1/ )/ 由于/ 刺绣/ 机/ 硬件/ 条件/ 的/ 限制/ ,/ 只能/ 使用/ 少量/ 颜色/ 的/ 绣/ 线/ 进行/ 绣制/ ,/ 因此/ 必须/ 根据/ 图像/ 特征/ 从/ 所有/ 可用/ 的/ 绣/ 线/ 颜色/ 中/ 根据/ 刺绣/ 机/ 可以/ 使用/ 的/ 颜色/ 数量/ 选择/ 出/ 一个/ 颜色/ 子集/ ,/ 使得/ 绣品/ 最终/ 的/ 视觉效果/ 与/ 原/ 图像/ 的/ 差别/ 最小/ ./ 本文/ 通过/ 对/ 标准/ 交叉/ 算子/ 和/ 变异/ 算子/ 的/ 改进/ 实现/ 了/ 基于/ 遗传算法/ 的/ 绣/ 线/ 颜色/ 子集/ 选择/ ./ 提出/ 了/ 一种/ 根据/ 启发/ 信息/ 自/ 适应/ 确定/ 遗传算法/ 变异/ 概率/ 的/ 方法/ ,/ 将/ 其/ 应用/ 于乱针/ 绣/ 辅助/ 制作/ 过程/ 中/ 关键步骤/ 绣线/ 颜色/ 子集/ 选择/ ,/ 实验/ 证明/ 该/ 方法/ 与/ 传统/ 的/ 均匀/ 变异/ 相比/ ,/ 能够/ 较/ 好/ 地/ 抑制/ 遗传算法/ 的/ 早熟/ 现象/ ,/ 使/ 算法/ 收敛/ 到/ 更优/ 的/ 解/ ./ 该/ 方法/ 可/ 用于/ 其它/ 采用/ 类似/ 个体/ 编码方式/ 的/ 问题/ 求解/ ,/ 例如/ k/ -/ medoid/ 聚类/ 问题/ ./ (/ 2/ )/ 根据/ 乱针/ 绣/ 工艺/ 的/ 特点/ ,/ 我们/ 将/ 乱/ 针/ 绣/ 针迹/ 生成/ 分为/ 铺色/ 和/ 精绣/ 两个/ 阶段/ ,/ 并/ 根据/ 各自/ 的/ 特点/ ,/ 我们/ 分别/ 提出/ 了/ 一种/ 基于/ 图像/ 亮度/ 梯度/ 的/ 铺色/ 交叉/ 针迹/ 角度/ 及/ 交叉/ 角度/ 算法/ 和/ 一种/ 基于/ 试探法/ 的/ Page11/ 精绣/ 交叉/ 针迹/ 参数/ 计算方法/ ,/ 并/ 对/ 试探/ 过程/ 中/ 判断/ 颜色/ 相似性/ 的/ 颜色/ 距离/ 阈值/ 的/ 选择/ 进行/ 了/ 讨论/ ,/ 并/ 进而/ 提出/ 了/ 基于/ 混色/ 原理/ 的/ 精绣/ 针迹/ 颜色/ 选择/ 方法/ ,/ 实现/ 了/ 在/ 同一/ 区域/ 只/ 使用/ 少量/ 颜色混合/ 而/ 产生/ 出/ 更/ 接近/ 原/ 图像/ 的/ 颜色/ ,/ 避免/ 了/ 由于/ 机器/ 绣制/ 只能/ 采用/ 少量/ 颜色/ 而/ 造成/ 绣品/ 与/ 原/ 图像/ 产生/ 较大/ 的/ 色差/ ./ (/ 3/ )/ 给出/ 了/ 一个/ 完整/ 的/ 计算机辅助/ 乱针/ 绣/ 流程/ ,/ 并/ 通过/ 实验/ 证明/ 了/ 其/ 可行性/ :/ 铺色/ 阶段/ 大部分/ 区域/ 交叉/ 针迹/ 方向/ 和/ 夹角/ 方法/ 计算/ 的/ 结果/ 接近/ 人工/ 绣制/ 的/ 习惯/ ,/ 精绣/ 阶段/ 对/ 图像/ 局部/ 颜色/ 分布/ 的/ 3/ 种/ 情况/ 生成/ 的/ 路径/ 基本/ 符合/ 乱针/ 绣/ 工艺/ 要求/ ./ 由于/ 乱针/ 绣/ 人工/ 工艺/ 十分复杂/ ,/ 计算机辅助/ 乱针/ 绣/ 工作/ 国内外/ 尚未/ 见/ 报道/ ,/ 本文/ 仅/ 完成/ 了/ 开创性/ 探索/ 工作/ ./ 要/ 进一步/ 改善/ 绣品/ 的/ 效果/ ,/ 需要/ 继续/ 开展/ 以下/ 几个/ 方面/ 的/ 工作/ :/ ①/ 寻找/ 适合/ 绣线/ 色差/ 计算/ 的/ 色彩/ 空间/ 表示/ 和/ 算法/ ,/ 目前/ 我们/ 采用/ 的/ RGB/ 色彩/ 空间/ ,/ 虽然/ 计算/ 比较简单/ ,/ 但/ RGB/ 色彩/ 空间/ 中/ 色彩/ 距离/ 相等/ 的/ 不同/ 颜色/ 在/ 人眼/ 视觉/ 感觉/ 中/ 的/ 差别/ 可能/ 较大/ ./ ②/ 改进/ 绣线/ 颜色/ 子集/ 选择/ 算法/ ./ 目前/ 采用/ 的/ 遗传算法/ ,/ 稳定性/ 不够/ 好/ ,/ 随机/ 选择/ 的/ 初始/ 群体/ 对/ 最终/ 结果/ 影响/ 较大/ ./ ③/ 选择/ 更好/ 的/ 图像/ 特征参数/ 和/ 图像/ 分割/ 方法/ 决定/ 铺色/ 阶段/ 的/ 针迹/ 方向/ ./ 目前/ 方法/ 决定/ 的/ 针迹/ 方向/ 在/ 某些/ 大/ 区域/ 的/ 局部/ 不能/ 很/ 好/ 地/ 表现/ 原图/ 的/ 纹理/ 方向/ 特征/ ./ ④/ 寻找/ 合适/ 的/ 图像/ 分解/ 方法/ ,/ 目前/ 细/ 加工/ 阶段/ 采用/ 反复/ 试探法/ 运行/ 效率/ 较/ 低/ ,/ 且/ 在/ 某些/ 区域/ 仍然/ 存在/ 针迹/ 分布/ 不均/ 的/ 情形/ ,/ 影响/ 了/ 绣品/ 的/ 总体/ 视觉效果/ ./ 致谢/ 本/ 工作/ 得到/ 常州/ 狄静乱/ 针/ 绣/ 工作室/ 狄静/ 老师/ 和/ 常州/ 孙燕云乱/ 针/ 绣/ 艺术创作/ 中心/ 孙燕云/ 老师/ 的/ 悉心/ 指点/ 和/ 热情帮助/ ,/ 在/ 此/ 表示/ 衷心感谢/ !/ 

