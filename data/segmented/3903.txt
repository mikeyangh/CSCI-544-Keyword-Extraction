Page1/ 基于/ 对象/ 异常/ 频度/ 的/ 数据流/ 阈值/ 查询/ 张敬伟/ 1/ )/ ,/ 2/ )/ 金澈/ 清/ 1/ )/ 林煜明/ 1/ )/ ,/ 2/ )/ 周傲/ 英/ 1/ )/ 1/ )/ (/ 华东师范大学/ 软件/ 学院/ 上海市/ 高/ 可信计算/ 重点/ 实验室/ 上海/ 200062/ )/ 2/ )/ (/ 桂林/ 电子科技/ 大学/ 广西/ 可信/ 软件/ 重点/ 实验室/ 广西/ 桂林/ 541004/ )/ 摘要/ 数据流/ 查询/ 与/ 处理/ 技术/ 广泛应用/ 在/ 金融/ 系统/ 等/ 诸多/ 领域/ 中/ ,/ 银行卡/ 交易系统/ 中/ 存在/ 的/ 由/ 终端/ 复用/ 所/ 导致/ 的/ 不/ 规范/ 交易/ 即/ 是/ 一个/ 典型/ 案例/ ./ 此类/ 不/ 规范/ 交易/ 存在/ 两个/ 特点/ :/ (/ 1/ )/ 对象/ 频繁/ 出现/ ;/ (/ 2/ )/ 对象/ 的/ 值/ 序列/ 频繁/ 波动/ ./ 然而/ ,/ 现有/ 的/ 频繁/ 项/ 挖掘/ 算法/ 仅/ 考虑/ 第一个/ 特点/ ,/ 无法/ 有效/ 解决问题/ ,/ 亟需/ 开发新/ 技术/ 进行/ 检测/ ./ 文中/ 首先/ 形式化/ 地/ 定义/ 了/ 这类/ 不/ 规范/ 交易/ 查询/ ,/ 再/ 设计/ 了/ 多个/ 创新/ 算法/ 进行/ 处理/ ./ 此外/ ,/ 文中/ 还/ 将/ 工作/ 扩展/ 到/ 滑动/ 窗口/ 模型/ 以/ 处理/ 数据流/ 演化/ 问题/ ./ 理论/ 分析/ 与/ 实验/ 结果/ 均/ 表明/ 所提/ 方法/ 具有/ 较佳/ 性能/ ,/ 空间/ 复杂度/ 与/ 时间/ 复杂度/ 都/ 较/ 低/ ./ 关键词/ 数据流/ 查询/ ;/ 元素/ 对/ 采样/ ;/ 异常/ 频度/ ;/ 滑动/ 窗口/ 1/ 引言/ 数据流/ 是/ 一个/ 实时/ 、/ 有序/ 的/ 数据/ 序列/ ,/ 在/ InternetPage2/ 据流/ 进行/ 连续/ 查询/ ,/ 且/ 仅/ 耗费/ 少量/ 物理/ 资源/ ./ 随着/ 银行卡/ 的/ 普及/ ,/ 越来越/ 多/ 的/ 消费者/ 习惯于/ 刷卡/ 消费/ ./ 持卡/ 者/ 通过/ 分布式/ 部署/ 的/ 各个/ 终端/ (/ 例如/ ATM/ 、/ POS/ 机等/ )/ 进行/ 交易/ ,/ 大量/ 的/ 终端/ 将/ 增加/ 持卡/ 者/ 使用/ 的/ 便捷性/ ./ 商业银行/ 为/ 每个/ 终端/ 赋予/ 一个/ 唯一/ 标识/ ,/ 商户/ 每/ 部署/ 一个/ 终端/ 都/ 需要/ 申请/ 一个/ 新/ 逻辑/ ID/ ,/ 银行/ 可以/ 识别/ 、/ 监测/ 在/ 该/ 终端/ 上/ 发生/ 的/ 交易/ ./ 换言之/ ,/ 物理/ 终端/ 与/ 逻辑/ ID/ 之间/ 保持/ 一对一/ 映射/ 关系/ ./ 但是/ ,/ 一些/ 商户/ 为了/ 规避/ 申请/ 成本/ ,/ 购置/ 多个/ 物理/ 终端/ 却/ 仅/ 申请/ 一个/ 逻辑/ ID/ ,/ 并/ 让/ 这些/ 物理/ 设备/ 共享/ 该/ 逻辑/ ID/ ./ 银行/ 系统/ 会/ 将/ 共享/ 逻辑/ ID/ 的/ 多个/ 物理/ 终端/ 上/ 产生/ 的/ 交易/ 误认为/ 同一个/ 物理/ 终端/ 送来/ 的/ ,/ 客观/ 上/ 降低/ 了/ 金融/ 安全性/ ./ 鉴于/ 此/ ,/ 多/ 物理/ 终端/ 共享/ 一个/ 逻辑/ ID/ 属于/ 一种/ 不/ 规范/ 的/ 物理/ 终端/ 使用/ 模式/ ,/ 其/ 导致/ 了/ 不/ 规范/ 的/ 交易/ 模式/ ,/ 需要/ 有效/ 检测/ 出来/ ./ 监控/ 各/ 终端/ 产生/ 的/ 交易/ 流水号/ 变化/ 曲线/ 是/ 一种/ 检测/ 不/ 规范/ 交易/ 模式/ 的/ 有效/ 手段/ ./ 各个/ 物理/ 终端/ 会为/ 每笔/ 交易/ 自动/ 生成/ 一个/ 交易/ 流水号/ ,/ 该/ 流水号/ 随图/ 1/ 交易/ 模式/ 示意图/ 金融/ 应用/ 中/ 的/ 日/ 交易量/ 非常/ 庞大/ ./ 受限于/ 物理/ 资源/ ,/ 传统/ 的/ 数据库/ 管理/ 技术/ 无法/ 有效/ 发现/ 频繁/ 的/ 不/ 规范/ 交易/ 模式/ ./ 频繁/ 项/ 挖掘/ 技术/ 可/ 在/ 数据流/ 中/ 找出/ 频繁/ 程度/ 超过/ 指定/ 阈值/ 的/ 对象/ ,/ 而/ 本文/ 需要/ 管理/ 的/ 是/ 频繁/ 的/ 不/ 规范/ 模式/ ,/ 需要/ 监控/ 对象/ 值/ 的/ 异动/ ,/ 考察/ 单位/ 不是/ 单一/ 的/ 数据流/ 元素/ ,/ 而是/ 元素/ 对/ ,/ 因此/ 传统/ 的/ 数据流/ 上/ 的/ 频繁/ 元素/ 检测/ 算法/ 无法/ 应用/ 到/ 本例/ 之中/ ./ 鉴于/ 此/ ,/ 必须/ 设计/ 新/ 技术/ 来/ 解决/ 这个/ 问题/ ./ 此外/ ,/ 基于/ 对象/ 值/ 变化/ 的/ 数据流/ 阈值/ 查询/ 可以/ 应用/ 到/ 诸如/ 软件/ 错误/ 修复/ 质量/ 评测/ 、/ 股票/ 稳定性/ 和/ 风险/ 实时/ 监测/ 、/ 广告/ 影响力/ 和/ 用户/ 购物/ 模式分析/ 等/ 方面/ ./ 例如/ ,/ 大型/ 软件系统/ 的/ 每/ 一次/ 错误/ 修复/ 后/ 都/ 可能/ 引入/ 新/ 的/ 错误/ ,/ 可以/ 将/ 不同/ 软件/ 模块/ 在/ 不同/ 时间段/ 的/ 错误/ 数量/ 建模/ 成/ 数据流/ ,/ 根据/ 错误/ 数量/ 的/ 变化/ 情况/ 来/ 着/ 时间/ 单调/ 增加/ ,/ 不同/ 物理/ 终端/ 的/ 流水号/ 相互/ 独立/ ./ 若/ 某/ 终端/ 的/ 使用/ 情况/ 非常/ 规范/ (/ 如图/ 1/ (/ a/ )/ )/ ,/ 则/ 在/ 一段时间/ 内所/ 生成/ 的/ 流水号/ 序列/ v/ (/ 1/ )/ ,/ v/ (/ 2/ )/ ,/ v/ (/ 3/ )/ ,/ …/ ,/ 满足/ v/ (/ 1/ )/ </ v/ (/ 2/ )/ </ v/ (/ 3/ )/ </ …/ ;/ 若/ 某/ 终端/ 被/ 不/ 规范/ 地/ 使用/ (/ 如图/ 1/ (/ b/ )/ )/ ,/ 流水号/ 序列/ 由/ 多个/ 物理/ 终端/ 独立/ 生成/ ,/ 则/ 总/ 可/ 找到/ 两个/ 相邻/ 的/ 流水号/ v/ (/ i/ )/ 和/ v/ (/ i/ +/ 1/ )/ ,/ 满足/ v/ (/ i/ )/ / v/ (/ i/ +/ 1/ )/ ./ 图/ 1/ (/ c/ )/ 中/ ,/ 物理/ 终端/ T1/ 规范/ 使用/ 逻辑/ IDID/ (/ o1/ )/ ,/ 其/ 在/ 时间/ 点/ 1/ 、/ 5/ 、/ 7/ 和/ 11/ 生成/ 的/ 流水号/ 随/ 时间/ 单调/ 增加/ ;/ 物理/ 终端/ T2/ 和/ T3/ 不/ 规范/ 使用/ ID/ (/ o2/ )/ ,/ 生成/ 了/ 流水号/ 序列/ 5/ ,/ 1/ ,/ 7/ ,/ 9/ ,/ 3/ ,/ 12/ ,/ 4/ ,/ 15/ ,/ 分别/ 在/ 3/ 、/ 8/ 和/ 10/ 这/ 3/ 个/ 时间/ 点/ 出现/ 了/ 流水号/ 值/ 变化/ 异常/ 的/ 情况/ ./ 针对/ 交易/ 数据流/ ,/ 流水号/ 的/ 异动/ 能够/ 帮助/ 发现/ 不/ 规范/ 的/ 交易/ 模式/ 及其/ 频繁/ 程度/ ,/ 采用/ 在线/ 监控/ 模式/ 找出/ 频繁/ 的/ 不/ 规范/ 交易/ ,/ 能够/ 有效/ 提升/ 金融/ 系统/ 的/ 交易/ 规范/ 程度/ ,/ 保证/ 资金/ 安全性/ ;/ 在线/ 查询/ 模式/ 也/ 避免/ 了/ 离线/ 全量/ 处理/ 海量/ 交易/ 数据/ ,/ 提升/ 了/ 处理/ 效率/ ;/ 在/ 现实/ 应用/ 中/ ,/ 交易/ 数据流/ 的/ 最新/ 数据/ 通常/ 是/ 监测/ 重点/ ,/ 使用/ 滑动/ 窗口/ 模型/ 能/ 更/ 贴近/ 应用/ 需求/ ./ 分析/ 软件/ 修复/ 质量/ ;/ 将/ 不同/ 股票/ 在/ 不同/ 时间/ 点/ 的/ 价格/ 建模/ 成/ 数据流/ ,/ 通过/ 数据流/ 阈值/ 查询/ 可以/ 找出/ 股票价格/ 波动/ 大/ 的/ 股票/ ,/ 对/ 具有/ 潜在/ 风险/ 的/ 股票/ 进行/ 实时/ 监控/ ;/ 将/ 用户/ 对/ 商品/ (/ 或/ 广告/ )/ 在/ 不同/ 时间段/ 内/ 的/ 点击/ 和/ 购买/ 行为/ 建模/ 成/ 数据流/ ,/ 通过/ 数据流/ 阈值/ 查询/ 找出/ 点击/ 和/ 购买/ 行为/ 频繁/ 的/ 用户/ ,/ 既/ 能/ 实时/ 地为/ 在线/ 广告/ 提供/ 决策/ 支持/ ,/ 又/ 能/ 辅助/ 对/ 广告/ 影响力/ 以及/ 用户/ 购物/ 模式/ 等/ 进行/ 分析/ ./ 本文/ 的/ 主要/ 贡献/ 包括/ 以下/ 3/ 个/ 方面/ :/ 提出/ 了/ 基于/ 对象/ 自身/ 异常/ 频度/ 的/ 数据流/ 阈值/ 查询/ 问题/ ;/ 改进/ 了/ 水库/ 采样/ 和/ 基于/ 滑动/ 窗口/ 的/ 均匀/ 采样/ ,/ 使/ 其/ 支持/ 元素/ 对/ 采样/ ,/ 并/ 分别/ 设计/ 实现/ 了/ 数据流/ 异常/ 频度/ 阈值/ 概率/ 查询/ 和/ 阈值/ 确定性/ 查询/ 、/ 异常/ 状态/ 阈值/ 查询/ 以及/ 滑动/ 窗口/ 模型/ 下/ 的/ 异常/ 频度/ 阈值/ 查询/ 算法/ ,/ 理/ Page3/ 论/ 证明/ 了/ 这些/ 算法/ 具有/ 较/ 低/ 的/ 空间/ 复杂度/ ;/ 通过/ 大量/ 实验/ 验证/ 了/ 方法/ 的/ 有效性/ 和/ 高效性/ ./ 本文/ 第/ 2/ 节/ 详细/ 定义/ 数据流/ 及/ 各/ 阈值/ 查询/ ;/ 第/ 3/ 节/ 基于/ 对象/ 值/ 的/ 连续/ 监控/ 需求/ 分别/ 给出/ 异常/ 频度/ 阈值/ 查询/ 的/ 概率/ 算法/ 和/ 确定性/ 算法/ ;/ 第/ 4/ 节/ 研究/ 并/ 实现/ 基于/ 元素/ 对/ 的/ 均匀/ 采样/ 算法/ 和/ 异常/ 状态/ 阈值/ 查询/ 算法/ ;/ 第/ 5/ 节/ 给出/ 支持/ 滑动/ 窗口/ 模型/ 的/ 异常/ 频度/ 阈值/ 查询/ 算法/ ;/ 第/ 6/ 节/ 通过/ 充分/ 的/ 实验/ 验证/ 新/ 算法/ 的/ 有效性/ 和/ 高效性/ ;/ 最后/ ,/ 回顾/ 相关/ 工作/ 、/ 总结/ 全文/ 并/ 展望/ 后续/ 的/ 研究/ 工作/ ./ 2/ 问题/ 定义/ 2.1/ 数据流/ 定义/ 定义/ 1/ (/ 数据流/ )/ ./ 令/ O/ 表示/ 对象/ 集合/ {/ o1/ ,/ o2/ ,/ …/ }/ ,/ 数据流/ S/ 是/ 一个/ 序列/ {/ e/ (/ 1/ )/ ,/ e/ (/ 2/ )/ ,/ …/ }/ ,/ 其任/ 一项/ e/ (/ i/ )/ 表示/ 为/ (/ o/ (/ i/ )/ ,/ v/ (/ i/ )/ )/ ,/ 且/ o/ (/ i/ )/ ∈/ O/ ,/ v/ (/ i/ )/ 是/ 正整数/ ./ 假定/ 某/ 一个/ 对象/ o/ 所/ 对应/ 的/ 值/ 序列/ 标记/ 为/ {/ v1/ ,/ v2/ ,/ …/ }/ ./ 在/ 规范/ 模式/ 下/ ,/ 该值/ 序列/ 单调/ 递增/ ,/ 即/ v1/ </ v2/ </ …/ ;/ 而/ 在/ 不/ 规范/ 模式/ 下/ ,/ 不/ 具备/ 单调/ 性/ ,/ 即/ 存在/ k/ / 1/ ,/ 使得/ vk/ / vk/ +/ 1/ ,/ 相关/ 定义/ 如下/ ./ 定义/ 2/ (/ 异常/ 状态/ )/ ./ 设/ (/ o/ ,/ v/ (/ i/ )/ )/ 和/ (/ o/ ,/ v/ (/ j/ )/ )/ 表示/ 对象/ o/ 在/ S/ 中/ 的/ 两次/ 出现/ ,/ i/ </ j/ ./ 若/ v/ (/ i/ )/ / v/ (/ j/ )/ ,/ 且/ / // y/ ,/ i/ </ y/ </ j/ ∧/ (/ o/ ,/ v/ (/ y/ )/ )/ ∈/ S/ ,/ 称/ o/ 在/ 时间/ 点/ j/ 处于/ 异常/ 状态/ ./ sta/ (/ o/ ,/ j/ )/ 定义/ 为/ 对象/ o/ 在/ 时间/ 点/ j/ 的/ 状态/ 函数/ ,/ stao/ ,/ (/ )/ j/ =/ 1/ ,/ o/ 在/ j/ 点/ 处于/ 异常/ 状态/ 如图/ 1/ (/ c/ )/ 所示/ ,/ o2/ 在/ 时间/ 点/ 2/ 和/ 3/ 有/ v/ (/ 2/ )/ >/ v/ (/ 3/ )/ ,/ 则/ o2/ 在/ 时间/ 点/ 3/ 处于/ 异常/ 状态/ ,/ sta/ (/ o2/ ,/ 3/ )/ =/ 1/ ;/ 同时/ ,/ 由于/ v/ (/ 3/ )/ </ v/ (/ 4/ )/ ,/ 则/ sta/ (/ o2/ ,/ 4/ )/ =/ 0/ ./ 定义/ 3/ (/ 对象/ 异常/ 频数/ )/ ./ 给定/ 数据流/ S/ ,/ 对象/ o/ 的/ 异常/ 频数/ 定义/ 为/ o/ 在/ S/ 中/ 发生/ 异常/ 状态/ 的/ 总/ 次数/ ,/ 表示/ 为/ f/ -/ (/ o/ )/ =/ |/ {/ e/ (/ i/ )/ |/ / i/ ,/ sta/ (/ o/ ,/ i/ )/ =/ 1/ }/ |/ ./ 定义/ 4/ (/ 对象/ 异常/ 频度/ )/ ./ 对象/ o/ 在/ 数据流/ S/ 中/ 的/ 异常/ 频度/ 定义/ 为/ o/ 的/ 异常/ 频数/ 与/ o/ 的/ 总/ 出现/ 次数/ 的/ 比值/ ,/ 表示/ 为/ r/ -/ (/ o/ )/ =/ f/ -/ (/ o/ )/ // |/ {/ e/ (/ i/ )/ |/ / i/ ,/ o/ (/ i/ )/ =/ o/ }/ |/ ./ 同理/ ,/ 使用/ f/ (/ o/ )/ =/ |/ {/ e/ (/ i/ )/ |/ / i/ ,/ o/ (/ i/ )/ =/ o/ }/ |/ 表示/ 对象/ o/ 的/ 频数/ ,/ r/ (/ o/ )/ =/ f/ (/ o/ )/ // |/ S/ |/ 表示/ 对象/ o/ 相对/ 于/ 整个/ 数据流/ S/ 的/ 频度/ ,/ 分别/ 称为/ 对象/ 频数/ 和/ 对象/ 频度/ ./ 例/ 1/ ./ 如图/ 1/ (/ c/ )/ 所示/ ,/ 对象/ o1/ 和/ o2/ 共/ 进行/ 了/ 12/ 笔/ 交易/ ,/ 对应/ 的/ 异常/ 频数/ 和/ 异常/ 频度/ 如表/ 1/ 所示/ ./ 对象/ 总/ 出现/ 次数/ f/ -/ (/ o/ )/ r/ -/ (/ o/ )/ o1o22/ ./ 2/ 数据流/ 查询/ 定义/ 数据流/ 中/ 各个/ 对象/ 的/ 异常/ 频度/ 反映/ 了/ 对象/ 的/ 异常/ 程度/ ,/ 异常/ 频数/ 反映/ 了/ 对象/ 对/ 整个/ 数据流/ 异常/ 的/ 影响/ 程度/ ./ 本文/ 分别/ 针对/ 对象/ 异常/ 频度/ 和/ 异常/ 状态/ 定义/ 阈值/ 查询/ (/ 定义/ 5/ 和/ 定义/ 6/ )/ ,/ 从而/ 发现异常/ 对象/ ./ 在/ 实时/ 监控/ 应用/ 中/ ,/ 最近/ 出现/ 的/ 数据流/ 元素/ 通常/ 是/ 最/ 值得/ 关注/ 的/ ,/ 定义/ 7/ 给出/ 了/ 滑动/ 窗口/ 模型/ 下/ 的/ 异常/ 频度/ 阈值/ 查询/ ./ 定义/ 5/ (/ 异常/ 频度/ 阈值/ 查询/ )/ ./ 给定/ 数据流/ S/ 、/ 异常/ 频度/ 阈值/ τ/ 以及/ 对象/ 频度/ 阈值/ λ/ ,/ 异常/ 频度/ 阈值/ 查询/ FTQ/ (/ S/ ,/ τ/ ,/ λ/ )/ 返回/ S/ 中/ 异常/ 频度/ 大于/ 等于/ τ/ 且/ 对象/ 频度/ 阈值/ 大于/ 等于/ λ/ 的/ 所有/ 对象/ ,/ 即/ FTQ/ (/ S/ ,/ τ/ ,/ λ/ )/ =/ {/ o/ |/ r/ -/ (/ o/ )/ / τ/ ∧/ r/ (/ o/ )/ / λ/ }/ ./ 定义/ 6/ (/ 异常/ 状态/ 阈值/ 查询/ )/ ./ 给定/ 数据流/ S/ 和/ 异常/ 频数/ 阈值/ f/ τ/ ,/ 异常/ 状态/ 阈值/ 查询/ NTQ/ (/ S/ ,/ f/ τ/ )/ 返回/ S/ 中/ 异常/ 频数/ 大于/ 等于/ f/ τ/ 的/ 所有/ 对象/ ,/ 即/ NTQ/ (/ S/ ,/ f/ τ/ )/ =/ {/ o/ |/ f/ -/ (/ o/ )/ / f/ τ/ }/ ./ 定义/ 7/ (/ 滑动/ 窗口/ 异常/ 频度/ 阈值/ 查询/ )/ ./ 给定/ 数据流/ S/ ,/ 窗口/ 大小/ W/ ,/ 异常/ 频度/ 阈值/ τ/ 和/ 对象/ 频度/ 阈值/ λ/ ,/ 查询/ WFTQ/ (/ S/ ,/ W/ ,/ τ/ ,/ λ/ )/ 返回/ 最近/ 的/ W/ 个/ 元素/ 中/ 异常/ 频度/ 大于/ 等于/ τ/ 且/ 对象/ 频度/ 阈值/ 大于/ 等于/ λ/ 的/ 所有/ 对象/ ,/ 即/ WFTQ/ (/ S/ ,/ W/ ,/ τ/ ,/ λ/ )/ =/ {/ o/ |/ r/ -/ W/ (/ o/ )/ / τ/ ∧/ rW/ (/ o/ )/ / λ/ }/ ./ 其中/ ,/ r/ -/ W/ (/ o/ )/ 和/ rW/ (/ o/ )/ 分别/ 表示/ 在/ 最近/ W/ 个/ 元素/ 的/ 集合/ 条件/ 下/ ,/ 对象/ o/ 的/ 异常/ 频度/ 和/ 对象/ 频度/ ./ 例/ 2/ ./ 对图/ 1/ 中/ 的/ 数据流/ ,/ 给定/ 异常/ 频度/ 阈值/ τ/ =/ 30/ %/ ,/ 对象/ 频度/ 阈值/ λ/ =/ 10/ %/ ,/ 异常/ 状态/ 阈值/ f/ τ/ =/ 3/ ,/ 滑动/ 窗口/ 大小/ 为/ 6/ ,/ 则/ 各/ 查询/ 在/ 时间/ 点/ 9/ 和/ 12/ 的/ 查询/ 结果/ 如表/ 2/ 所示/ ./ FTQ/ (/ S/ ,/ τ/ ,/ λ/ )/ {/ (/ o2/ ,/ τ/ =/ 33.3/ %/ ,/ NTQ/ (/ S/ ,/ f/ τ/ )/ WFTQ/ (/ S/ ,/ W/ ,/ τ/ ,/ λ/ )/ -/ 为了/ 便于/ 后续/ 阅读/ ,/ 表/ 3/ 简要/ 介绍/ 了/ 本文/ 所/ 涉及/ 的/ 符号/ ./ Page43/ 异常/ 频度/ 阈值/ 查询/ 本/ 节/ 针对/ 数据流/ 中/ 对象/ 值/ 相关性/ 和/ 自身/ 异常/ 频度/ 计算/ 需求/ ,/ 基于/ 定义/ 5/ 进行/ 异常/ 频度/ 阈值/ 查询/ 算法/ 设计/ ,/ 分别/ 提出/ 支持/ 阈值/ 查询/ 的/ 概率/ 算法/ 和/ 确定性/ 算法/ ,/ 并/ 分析/ 各/ 查询/ 算法/ ./ 3.1/ 阈值/ 概率/ 查询/ 算法/ 为/ 应对/ 数据流/ 的/ 庞大/ 数据量/ ,/ 常/ 使用/ 采样/ 技术/ 提高/ 数据流/ 查询/ 的/ 时空/ 性能/ ./ 文献/ [/ 1/ ]/ 运用/ 采样/ 技术/ 实现/ 了/ 数据流/ 上/ 的/ 频繁/ 项/ 计数/ ,/ 以/ 至少/ 1/ -/ δ/ 概率/ 确保/ 对象/ 的/ 频率/ 值/ 误差/ 小于/ ε/ ,/ 并/ 输出/ 所有/ 出现/ 次数/ 占/ 数据流/ 长度/ 的/ 比率/ 大于/ 等于/ τ/ -/ ε/ 的/ 对象/ (/ τ/ 、/ ε/ 和/ δ/ 为/ 用户/ 指定/ 参数/ )/ ./ 但/ 文献/ [/ 1/ ]/ 没有/ 关注/ 对象/ 值/ 的/ 变化/ 情况/ ,/ 而且/ 频度/ 阈值/ 针对/ 于/ 整个/ 流/ 长度/ 而/ 不是/ 对象/ 自身/ 出现/ 次数/ ,/ 无法/ 满足/ 异常/ 频度/ 阈值/ 查询/ 的/ 需求/ ,/ 需要/ 改进/ 算法/ 以/ 支持/ 对象/ 值/ 的/ 变化/ 侦测/ 和/ 对象/ 异常/ 频度/ 计算/ ./ 阈值/ 概率/ 查询/ 算法/ 以/ τ/ 、/ ε/ 、/ δ/ 和/ λ/ 作为/ 用户/ 输入/ 参数/ ,/ 分别/ 表示/ 异常/ 频度/ 查询/ 阈值/ 、/ 允许/ 的/ 异常/ 频度/ 查询/ 误差/ 、/ 查询/ 错误/ 概率/ 和/ 对象/ 频度/ 阈值/ ,/ 只有/ 异常/ 频度/ 值/ 大于/ 等于/ τ/ -/ ε/ 并且/ 对象/ 频度/ 大于/ 等于/ λ/ 的/ 对象/ 被/ 输出/ ./ 阈值/ 概率/ 查询/ 算法/ 使用/ 一个/ 周期性/ 变化/ 的/ 采样率/ r/ 对/ 数据流/ 元素/ 进行/ 采样/ ,/ 对于/ 保存/ 在/ 样本/ 集合/ 中/ 的/ 对象/ 则/ 需/ 持续/ 监测/ 其值/ 变化/ ,/ 维护/ 摘要/ 信息/ ./ 当/ 采样率/ 变化/ 时/ ,/ 需对/ 样本/ 集合/ 进行/ 剪枝/ ,/ 降低/ 内存/ 开销/ ,/ 算法/ 内容/ 如下/ ./ (/ 1/ )/ 摘要/ 结构/ ./ 阈值/ 概率/ 查询/ 算法/ 将/ 采样/ 到/ 的/ 对象/ 及其/ 摘要/ 信息/ 写入/ 样本/ 集合/ R/ 中/ ./ 摘要/ 信息结构/ 为/ 〈/ o/ ,/ v/ ,/ f/ ,/ f/ -/ ,/ g/ 〉/ ,/ o/ 表示/ 被/ 采样/ 的/ 对象/ ,/ v/ 表示/ o/ 的/ 当前/ 值/ ,/ f/ 、/ f/ -/ 、/ g/ 分别/ 表示/ o/ 的/ 总/ 频数/ 、/ 异常/ 频数/ 和/ 被/ 修剪/ 次数/ ./ (/ 2/ )/ 单个/ 元素/ 处理/ 规则/ ./ 数据流/ 中/ 的/ 一个/ 元素/ e/ (/ i/ )/ 是否/ 被/ 处理/ 由/ 两个/ 因素/ 决定/ :/ o/ (/ i/ )/ 是否/ 已/ 被/ 采样/ 和/ 当前/ 的/ 采样率/ ./ 若/ o/ (/ i/ )/ 未/ 被/ 采样/ ,/ 以/ 采样率/ r/ 对/ e/ (/ i/ )/ 进行/ 采样/ ,/ 如果/ 采样/ 成功/ ,/ 则/ 将/ 〈/ o/ (/ i/ )/ ,/ v/ (/ i/ )/ ,/ 1/ ,/ 0/ ,/ 0/ 〉/ 插入/ R/ 中/ ;/ 若/ o/ (/ i/ )/ 已/ 被/ 采样/ ,/ 即/ R/ 中/ 存在/ 元素/ 〈/ o/ (/ i/ )/ ,/ v/ ,/ f/ ,/ f/ -/ ,/ g/ 〉/ ,/ 则/ 将/ f/ 值增/ 1/ ,/ f/ -/ 值/ 是否/ 增/ 1/ 取决于/ v/ (/ i/ )/ 与/ v/ 的/ 比较/ 结果/ ./ 算法/ 1/ 中/ 的/ process/ (/ R/ ,/ e/ (/ i/ )/ ,/ r/ )/ 函数/ 即/ 应用/ 了/ 本/ 规则/ ./ (/ 3/ )/ 采样率/ r/ 的/ 变化/ 规则/ ./ 设置/ 数据流/ 基本/ 窗口/ 大小/ T/ =/ 1/ +/ ε/ 率/ r/ =/ 1/ ,/ 后续/ 的/ 2T/ 个/ 元素/ 的/ 采样率/ r/ =/ 1/ 的/ 4T/ 个/ 元素/ 的/ 采样率/ r/ =/ 1/ [/ 2i/ ×/ T/ +/ 1/ ,/ 2i/ +/ 1/ ×/ T/ ]/ 区间/ 的/ 元素/ 使用/ 采样率/ r/ =/ 1/ (/ 4/ )/ 对象/ 修剪/ 规则/ ./ 当/ 采样率/ 变化/ 时/ ,/ 对/ 样本/ 集合/ R/ 中/ 元素/ 进行/ 剪枝/ ./ 对/ R/ 中/ 的/ 每一项/ ,/ 通过/ 一个/ 服从/ 几何/ 分布/ 的/ 连续/ 抛/ 硬币/ 操作/ 来/ 决定/ 其/ 是否/ 被/ 移除/ ,/ 即/ 对/ item/ =/ 〈/ o/ ,/ v/ ,/ f/ ,/ f/ -/ ,/ g/ 〉/ ∈/ R/ ,/ 重复/ 执行/ 抛/ 硬币/ 操作/ ,/ 直至/ 硬币/ 出现/ 正面/ 为止/ ;/ 对/ 每/ 一次/ 硬币/ 出现/ 反面/ ,/ 将/ g/ 值加/ 1/ ;/ 当/ g/ 等于/ f/ 时/ ,/ 将/ item/ 从/ R/ 中/ 删除/ ,/ 反之/ ,/ 则/ 保留/ 该/ 元素/ ./ 算法/ 1/ 中/ 的/ prune/ (/ R/ )/ 函数/ 即/ 应用/ 了/ 本/ 规则/ ./ 算法/ 1/ 描述/ 了/ 阈值/ 概率/ 查询/ 算法/ 的/ 维护/ 过程/ ./ 算法/ 2/ 输出/ 异常/ 频度/ 大于/ 等于/ τ/ -/ ε/ 且/ 对象/ 频度/ 大于/ 等于/ λ/ 的/ 对象/ ,/ 同时/ 以/ 概率/ 1/ -/ δ/ 保证/ 对象/ 的/ 异常/ 频度/ 误差/ 不/ 超过/ ε/ ./ 算法/ 1/ ./ 概率/ 查询/ 算法/ 的/ 信息/ 维护阶段/ ./ 输入/ :/ 数据流/ S/ ,/ 误差/ ε/ ,/ 概率/ δ/ ,/ 对象/ 频度/ λ/ 输出/ :/ 样本/ 集合/ R1/ ./ r/ ·/ ·/ =/ 1/ ;/ T/ ·/ ·/ =/ 1/ +/ ε/ 2/ ./ DO/ {/ 3/ ./ 读取/ S/ 中/ 的/ 第/ i/ 项/ ,/ e/ (/ i/ )/ ;/ 4/ ./ processR/ ,/ e/ (/ i/ )/ ,/ (/ )/ r/ ;/ // // 参见/ “/ 单个/ 元素/ 处理/ 规则/ ”/ 5/ ./ IF/ (/ i/ =/ wEnd/ )/ THEN/ {/ 6/ ./ prune/ (/ R/ )/ ;/ // // 参见/ “/ 对象/ 修剪/ 规则/ ”/ 7/ ./ r/ ·/ ·/ =/ r/ // 2/ ;/ 8/ ./ wEnd/ ·/ ·/ =/ wEnd/ +/ T/ // r/ ;/ }/ 9/ ./ i/ ·/ ·/ =/ i/ +/ 1/ ;/ 10/ ./ }/ WHILE/ (/ i/ </ |/ S/ |/ )/ 11/ ./ RETURNR/ ./ 算法/ 2/ ./ 异常/ 频度/ 阈值/ 概率/ 查询/ 算法/ ./ 输入/ :/ 样本/ 集合/ R/ ,/ 异常/ 频度/ 阈值/ τ/ ,/ 误差/ ε/ ,/ 对象/ 频度/ 阈/ 输出/ :/ 异常/ 频度/ 大于/ 等于/ τ/ -/ ε/ 且/ 对象/ 频度/ 大于/ 等于/ 1/ ./ FOReach/ 〈/ o/ ,/ v/ ,/ f/ ,/ f/ -/ ,/ g/ 〉/ ∈/ R2/ ./ IFf/ -/ 3/ ./ O/ ·/ ·/ =/ O/ ∪/ {/ o/ }/ ;/ 4/ ./ RETURNO/ ./ 定理/ 1/ ./ 算法/ 2/ 仅/ 消耗/ O1/ +/ ε/ 存储空间/ ,/ 查询/ 数据流/ 中/ 异常/ 频度/ 大于/ 等于/ τ/ 且/ 对象/ 频度/ 大于/ 等于/ λ/ 的/ 对象/ ,/ 同时/ 以/ 1/ -/ δ/ 概率/ 保证/ 异常/ 频度/ 误差/ 不/ 超过/ ε/ ./ Page5/ 为了/ 保证/ f/ -/ 和/ f/ 的/ 绝对误差/ 均/ 在/ ε/ N/ 之内/ ,/ 同/ 证明/ ./ 由/ 文献/ [/ 1/ ]/ 中/ 定理/ 4.1/ 知/ :/ 维护/ 1/ ε/ log/ (/ s/ -/ 1/ δ/ -/ 1/ )/ 大小/ 的/ 样本空间/ ,/ 可以/ 1/ -/ δ/ 概率/ 确保/ 找出/ 所有/ 频数/ 高于/ sN/ 的/ 元素/ ,/ 且/ 对于/ 每个/ 高频/ 元素/ ,/ 其/ 绝对误差/ 不/ 超过/ ε/ N/ (/ N/ 表示/ 数据流/ 长度/ )/ ./ 令/ f/ -/ 和/ f/ 分别/ 表示/ 某/ 对象/ 的/ 异常/ 频数/ 和/ 总/ 频数/ ,/ 则/ 其/ 绝对误差/ 均/ 不/ 超过/ ε/ N/ ./ 频度/ 误差/ f/ -/ ε/ Nf/ -/ ε/ N/ / ε/ 时/ 频度/ 大于/ 等于/ s/ 的/ 元素/ 至多/ 有/ 1/ 护/ 2s/ 个/ 绝对误差/ 值/ ./ 将/ 上述/ 结论/ 代入/ 复杂度/ 公式/ 有/ 1/ +/ xsxlog/ (/ 2s/ -/ 1/ δ/ -/ 1/ )/ ./ 令/ ε/ 表示/ 异常/ 频度/ 相对误差/ ,/ λ/ 表示/ 对象/ 频数/ 阈值/ ,/ 则/ 需要/ 维护/ 的/ 样本空间/ 大小/ 为/ 1/ +/ ε/ λ/ ε/ log/ (/ 2/ λ/ -/ 1/ δ/ -/ 1/ )/ ./ 3.2/ 阈值/ 确定性/ 查询/ 算法/ 异常/ 频度/ 阈值/ 概率/ 查询/ 算法/ 的/ 查询/ 结果/ 具有/ 错误/ 概率/ δ/ ,/ 本/ 节/ 通过/ 将/ 数据流/ 划分/ 成/ 固定/ 大小/ 的/ 窗口/ ,/ 以/ 采样率/ r/ =/ 1/ 对/ 窗口/ 中/ 的/ 每个/ 元素/ 进行/ 处理/ ,/ 给出/ 一种/ 阈值/ 确定性/ 查询/ 算法/ ./ 异常/ 频度/ 阈值/ 确定性/ 查询/ 算法/ 基于/ 用户/ 指定/ 的/ 查询/ 误差/ ε/ 和/ 对象/ 频度/ 阈值/ λ/ 将/ 数据流/ 划分/ 成/ 1/ +/ ε/ λ/ ε/ 大小/ 的/ 窗口/ ,/ 对/ 每/ 一/ 窗口/ 中/ 的/ 元素/ 逐个/ 处理/ ,/ 并/ 在/ 窗口/ 边界/ 处/ 对/ 样本/ 集合/ 进行/ 剪枝/ ,/ 降低/ 空间/ 复杂度/ ,/ 算法/ 内容/ 如下/ :/ (/ 1/ )/ 摘要/ 结构/ ./ 使用/ 数据结构/ 〈/ o/ ,/ v/ ,/ f/ ,/ f/ -/ ,/ f/ Δ/ 〉/ 存储/ 对象/ 摘要/ 信息/ ,/ o/ 、/ v/ 、/ f/ 、/ f/ -/ 含义/ 同/ 3.1/ 节/ ,/ f/ Δ/ 表示/ 剪枝/ 操作/ 可能/ 造成/ 的/ 最大/ 误差/ ./ R/ 是/ 样本/ 集合/ ,/ 存放/ 对象/ 摘要/ 信息/ ./ (/ 2/ )/ 单个/ 元素/ 处理/ 规则/ ./ 对/ 第/ i/ 个/ 元素/ e/ (/ i/ )/ ,/ 若/ o/ (/ i/ )/ 在/ R/ 中/ ,/ 即/ 〈/ o/ (/ i/ )/ ,/ v/ ,/ f/ ,/ f/ -/ ,/ f/ Δ/ 〉/ ∈/ R/ ,/ 将/ f/ 值增/ 1/ ;/ 同时/ 如果/ v/ (/ i/ )/ / v/ ,/ f/ -/ 值/ 也/ 增/ 1/ ./ 若/ o/ (/ i/ )/ 不/ 在/ R/ 中/ ,/ 则/ 将/ 〈/ o/ (/ i/ )/ ,/ v/ (/ i/ )/ ,/ 1/ ,/ 0/ ,/ f/ Δ/ 〉/ 插入/ R/ 中/ ,/ 并令/ f/ Δ/ =/ WNo/ -/ 1/ ,/ 表示/ 当前/ 对象/ 异常/ 频数/ 的/ 最大/ 可能/ 修剪/ 值/ (/ WNo/ 为/ 当前/ 窗口/ 编号/ ,/ 窗口/ 从/ 1/ 开始/ 递增/ 编号/ )/ ./ 算法/ 3/ 中/ 的/ processR/ ,/ e/ (/ i/ )/ ,/ (/ )/ 1/ 函数/ 即/ 应用/ 了/ 本/ 规则/ ./ (/ 3/ )/ 对象/ 修剪/ 规则/ ./ 当/ 处理/ 下/ 一个/ 窗口/ 中/ 的/ 元素/ 时/ ,/ 对/ R/ 中/ 元素/ 进行/ 剪枝/ ,/ 从/ R/ 中/ 删除/ 满足/ f/ -/ +/ f/ Δ/ </ WNo/ 的/ 元素/ ./ 算法/ 3/ 中/ 的/ p/ (/ )/ runeR/ 函数/ 即/ 应用/ 了/ 本/ 规则/ ./ 算法/ 3/ 描述/ 了/ 异常/ 频度/ 阈值/ 确定性/ 查询/ 算法/ 的/ 信息/ 维护/ 过程/ ./ 不同于/ 3.1/ 节/ ,/ process/ 函数/ 对/ 数据流/ 元素/ 的/ 采样率/ 始终保持/ 1/ ,/ 即/ 对/ 所有/ 数据流/ 元素/ 进行/ 处理/ ,/ 且/ o/ (/ i/ )/ 被/ 采样/ 加入/ R/ 中时/ ,/ 采用/ f/ Δ/ =/ WNo/ -/ 1/ 近似/ 修正/ o/ (/ i/ )/ 可能/ 被/ 修剪/ 的/ 异常/ 频数/ ./ 异常/ 频度/ 阈值/ 确定性/ 查询/ 算法/ 输出/ 异常/ 频度/ 大于/ 等于/ (/ τ/ -/ ε/ )/ 且/ 对象/ 频度/ 大于/ 等于/ λ/ 的/ 对象/ ,/ 查询/ 过程/ 同/ 算法/ 2/ ./ 算法/ 3/ ./ 确定性/ 查询/ 算法/ 的/ 信息/ 维护阶段/ ./ 输入/ :/ 数据流/ S/ ,/ 误差/ ε/ ,/ 对象/ 频度/ 阈值/ λ/ 输出/ :/ 样本/ 集合/ R1/ ./ WNo/ ·/ ·/ =/ 1/ ;/ T/ ·/ ·/ =/ 1/ +/ ε/ 2/ ./ FOReache/ (/ i/ )/ ∈/ S/ {/ 3/ ./ process/ (/ R/ ,/ e/ (/ i/ )/ ,/ 1/ )/ ;/ 4/ ./ IF/ (/ iMODT/ =/ 0/ )/ THEN/ {/ 5/ ./ prune/ (/ R/ )/ ;/ WNo/ ++/ ;/ }/ }/ 6/ ./ RETURNR/ ./ 定理/ 2/ ./ 异常/ 频度/ 阈值/ 确定性/ 查询/ 算法/ 的/ 空间/ 复杂度/ 为/ O1/ +/ ε/ 象/ 频度/ ,/ ε/ 为/ 允许/ 的/ 异常/ 频度/ 查询/ 误差/ ,/ N/ 表示/ 数据流/ 长度/ ./ 证明/ ./ 由/ 文献/ [/ 1/ ]/ 中/ 定理/ 4.2/ 知/ :/ 维护/ 1/ ε/ log/ (/ ε/ N/ )/ 大小/ 的/ 样本空间/ ,/ 可以/ 确保/ 找出/ 所有/ 频数/ 高于/ sN/ 的/ 元素/ ,/ 且/ 对于/ 每个/ 高频/ 元素/ ,/ 其/ 绝对误差/ 不/ 超过/ ε/ N/ ./ 令/ f/ -/ 和/ f/ 分别/ 表示/ 某/ 对象/ 的/ 异常/ 频数/ 和/ 总/ 频数/ ,/ 则/ 其/ 绝对误差/ 均/ 不/ 超过/ ε/ N/ ./ 频度/ 误差/ f/ -/ f/ -/ ±/ ε/ Nf/ -/ 度/ 误差/ )/ ,/ 即/ ε/ =/ sx/ 为了/ 保证/ f/ -/ 和/ f/ 的/ 绝对误差/ 均/ 在/ ε/ N/ 之内/ ,/ 同时/ 频度/ 大于/ 等于/ s/ 的/ 元素/ 至多/ 有/ 1/ 护/ 2s/ 个/ 绝对误差/ 值/ ./ 将/ 上述/ 结论/ 代入/ 复杂度/ 公式/ 有/ sxlog1/ +/ x1/ +/ x/ 表示/ 对象/ 频数/ 阈值/ ,/ 则/ 需要/ 维护/ 的/ 样本空间/ 大小/ 为/ 1/ +/ ε/ λ/ ε/ log/ λ/ ε/ 异常/ 频度/ 阈值/ 确定性/ 查询/ 算法/ 在/ 修剪/ 过程/ 中/ ,/ 总是/ 修剪/ 当前/ 异常/ 频度/ 低/ 的/ 对象/ ,/ 而且/ 在/ 对象/ 进入/ 数据流/ 摘要/ 中/ 时/ 使用/ 最大/ 可能/ 异常/ 频次/ 修正/ f/ Δ/ ,/ 因此/ 算法/ 存在/ 假/ 阳性/ ./ 虽然/ 都/ 使用/ 了/ 基于/ 窗口/ 的/ 采样/ Page6/ 技术/ ,/ 但/ 与/ 3.1/ 节/ 的/ 概率/ 查询/ 算法/ 相比/ ,/ 确定性/ 查询/ 算法/ 主要/ 在/ 窗口/ 划分/ 策略/ 、/ 采样率/ 、/ 算法/ 确定性/ 和/ 对象/ 插入/ 数据流/ 概要/ 的/ 处理/ 机制/ 4/ 个/ 方面/ 存在/ 不同/ ./ 4/ 异常/ 状态/ 阈值/ 查询/ 异常/ 频度/ 阈值/ 查询/ 主要/ 关注/ 对象/ 的/ 异常/ 频度/ 、/ 非/ 异常/ 频数/ ./ 在/ 实际/ 应用/ 中/ ,/ 一些/ 对象/ 尽管/ 异常/ 频度/ 较/ 低/ ,/ 但/ 由于/ 异常/ 频数/ 较/ 高/ ,/ 这些/ 对象/ 仍然/ 需要/ 被/ 检测/ 出来/ ./ 例如/ ,/ 某/ 对象/ 在/ 数据流/ 中/ 出现/ 106/ 次/ ,/ 其中/ 有/ 5000/ 次/ 处于/ 异常/ 状态/ ,/ 尽管/ 该/ 对象/ 异常/ 频度/ 较/ 低/ ,/ 但/ 异常/ 频数/ 却/ 比较/ 大/ ,/ 很/ 可能/ 也/ 是/ 异常/ 对象/ ./ 本节/ 设计/ 概率/ 查询/ 算法/ 来/ 维护/ 数据流/ 摘要/ 信息/ ,/ 以/ 估计/ 对象/ 的/ 异常/ 频数/ ./ 水库/ 采样/ [/ 2/ ]/ 通过/ 维护/ 一个/ 样本/ 集合/ (/ 水库/ )/ 支持/ 数据流/ 的/ 均匀/ 采样/ ,/ 但/ 采样/ 单位/ 为/ 单一/ 数据流/ 元素/ ,/ 不能/ 满足/ 以/ 对象/ 值/ 变化/ 为/ 考察/ 对象/ (/ 也/ 称为/ 元素/ 对/ )/ 的/ 异常/ 状态/ 阈值/ 查询/ ./ 本节/ 改进/ 水库/ 采样/ ,/ 以/ 支持/ 元素/ 对/ 采样/ ,/ 实现/ 异常/ 状态/ 阈值/ 概率/ 查询/ ./ 在/ 元素/ 对/ 采样/ 中/ ,/ 每次/ 采样/ 的/ 基本/ 单位/ 为/ 同一/ 对象/ 的/ 两次/ 相继/ 出现/ ,/ 采样/ 样本/ 的/ 基本/ 结构/ 为/ 元素/ 对/ (/ o/ ,/ 〈/ v/ (/ i/ )/ ,/ v/ (/ j/ )/ 〉/ )/ ,/ o/ 是/ 被/ 采样/ 对象/ ,/ v/ (/ i/ )/ 和/ v/ (/ j/ )/ 是/ o/ 的/ 两次/ 连续/ 出现/ 对应/ 的/ 值/ ./ 即/ 在/ 处理过程/ 中/ ,/ 如果/ 元素/ e/ (/ i/ )/ =/ (/ o/ (/ i/ )/ ,/ v/ (/ i/ )/ )/ 被/ 采样/ ,/ 则/ 对象/ o/ (/ i/ )/ 的/ 下/ 一次/ 出现/ e/ (/ j/ )/ =/ (/ o/ (/ j/ )/ ,/ v/ (/ j/ )/ )/ 将/ 和/ e/ (/ i/ )/ 一起/ 形成/ 采样/ 样本/ (/ o/ ,/ 〈/ v/ (/ i/ )/ ,/ v/ (/ j/ )/ 〉/ )/ (/ 注/ :/ o/ (/ i/ )/ 和/ o/ (/ j/ )/ 相同/ ,/ 标记/ 为/ o/ )/ ,/ 且/ (/ i/ </ j/ )/ ∧/ / // x/ (/ i/ </ x/ </ j/ ∧/ (/ o/ ,/ v/ (/ x/ )/ )/ ∈/ S/ )/ ./ 令/ ε/ 表示/ 误差/ 参数/ ,/ δ/ 为/ 概率/ 参数/ ,/ 我们/ 设计/ 了/ 一个/ 基于/ 元素/ 对/ 的/ 数据流/ 均匀/ 采样/ 算法/ (/ 算法/ 4/ )/ ,/ 负责/ 在/ 内存/ 中/ 维护/ 一个/ 样本/ 集合/ R/ ;/ 同时/ 设计/ 一个/ 异常/ 状态/ 阈值/ 查询/ 算法/ (/ 算法/ 5/ )/ ,/ 其/ 根据/ 该/ R/ 输出/ 最终/ 结果/ ./ 在/ 此/ ,/ 样本/ 集合/ R/ 仅/ 需/ 维护/ c/ =/ 2/ λ/ 个/ 样本/ ,/ 即/ 可以/ 1/ -/ δ/ 的/ 概率/ 保证/ 各个/ 结果/ 元素/ 的/ 误差/ 不/ 超过/ ε/ N/ ,/ 其中/ λ/ 表示/ 对象/ 频度/ 阈值/ ,/ N/ 表示/ 数据流/ 长度/ ./ 算法/ 4/ 维护/ 数据流/ 的/ 一个/ 元素/ 对/ 均匀/ 采样/ 样本/ 集合/ R/ ./ 首先/ ,/ 扫描/ 数据流/ ,/ 设/ 当前/ 处理/ 的/ 数据流/ 元素/ 为/ e/ (/ k/ )/ =/ (/ o/ (/ k/ )/ ,/ v/ (/ k/ )/ )/ ,/ 若/ 对象/ o/ (/ k/ )/ 在/ R/ 中/ 存在/ 采样/ 未/ 完成/ 样本/ ,/ 则/ 使用/ v/ (/ k/ )/ 填充/ 该/ 采样/ 样本/ ,/ 即/ 若/ 有/ (/ o/ ,/ 〈/ v/ (/ p/ )/ ,/ null/ 〉/ )/ ∈/ R/ ∧/ o/ =/ o/ (/ k/ )/ ,/ 则/ 将/ 其/ 更新/ 成/ (/ o/ ,/ 〈/ v/ (/ p/ )/ ,/ v/ (/ k/ )/ 〉/ )/ ;/ 若/ R/ 中/ 元素/ 未/ 达到/ 2/ λ/ 将/ 对象/ o/ (/ k/ )/ 的/ 元素/ 对/ (/ o/ (/ k/ )/ ,/ 〈/ v/ (/ k/ )/ ,/ null/ 〉/ )/ 加入/ 到/ R/ 中/ ;/ 若/ R/ 中/ 元素/ 已/ 达到/ 2/ λ/ 进行/ 采样/ ,/ 若/ e/ (/ k/ )/ 采样/ 成功/ ,/ 形成/ 元素/ 对/ (/ o/ (/ k/ )/ ,/ 〈/ v/ (/ k/ )/ ,/ null/ 〉/ )/ ,/ 并/ 以/ 1/ 算法/ 4/ ./ 基于/ 元素/ 对/ 的/ 数据流/ 均匀/ 采样/ 算法/ ./ 输入/ :/ 数据流/ S/ ,/ 误差/ 参数/ ε/ ,/ 概率/ 参数/ δ/ ,/ 对象/ 频度/ 阈值/ 输出/ :/ 样本/ 集合/ R1/ ./ 初始化/ c/ ·/ ·/ =/ 2/ λ/ 2/ ./ FOReache/ (/ k/ )/ ∈/ S3/ ./ IF/ (/ (/ o/ (/ k/ )/ ,/ 〈/ v/ (/ p/ )/ ,/ null/ 〉/ )/ ∈/ R/ )/ THEN4/ ./ (/ o/ (/ k/ )/ ,/ 〈/ v/ (/ p/ )/ ,/ null/ 〉/ )/ →/ (/ o/ (/ k/ )/ ,/ 〈/ v/ (/ p/ )/ ,/ v/ (/ k/ )/ 〉/ )/ ;/ 5/ ./ ELSE6/ ./ IF/ (/ R/ 中/ 元素/ 不足/ c/ 个/ )/ THEN7/ ./ 往/ R/ 中/ 插入/ (/ o/ (/ k/ )/ ,/ 〈/ v/ (/ k/ )/ ,/ null/ 〉/ )/ ;/ 8/ ./ ELSE9/ ./ order/ ·/ ·/ =/ k/ ×/ rand/ (/ )/ ;/ 10/ ./ IF/ (/ order/ </ c/ )/ THEN11/ ./ R/ [/ order/ ]/ ·/ ·/ =/ (/ o/ (/ k/ )/ ,/ 〈/ v/ (/ k/ )/ ,/ null/ 〉/ )/ ;/ 12/ ./ RETURNR/ ./ 算法/ 5/ 基于/ 算法/ 4/ 维护/ 的/ 样本/ 集合/ R/ 进行/ 异常/ 状态/ 阈值/ 查询/ ./ 首先/ ,/ 调用/ processSample/ (/ R/ )/ 函数/ ,/ 扫描/ 样本/ 集合/ R/ 中/ 所有/ 样本/ ,/ 并/ 将/ 各/ 对象/ 的/ 异常/ 频次/ 统计/ 结果/ 写入/ 集合/ K/ 中/ ./ K/ 中/ 的/ 每个/ 元素/ 表示/ 为/ 二元/ 组/ 〈/ o/ ,/ f/ -/ 〉/ ,/ o/ ,/ f/ -/ 含义/ 同/ 3.1/ 节/ ./ 算法/ 5/ 输出/ 总/ 异常/ 频次/ 大于/ 等于/ 指定/ 阈值/ (/ λ/ -/ ε/ )/ N/ 的/ 对象/ ./ 算法/ 5/ ./ 异常/ 状态/ 阈值/ 查询/ 算法/ ./ 输入/ :/ 样本/ 集合/ R/ ,/ 频次/ 阈值/ λ/ ,/ 误差/ ε/ ,/ 样本/ 集合/ 大小/ c/ 输出/ :/ 对象/ 频度/ 大于/ 等于/ λ/ -/ ε/ 的/ 对象/ 集合/ O1/ ./ K/ ·/ ·/ =/ processSample/ (/ R/ )/ ;/ 2/ ./ FOReach/ 〈/ o/ ,/ f/ -/ 〉/ ∈/ K3/ ./ IFf/ -/ 4/ ./ O/ ·/ ·/ =/ O/ ∪/ {/ o/ }/ ;/ 5/ ./ RETURNO/ ./ 定理/ 3/ ./ 若/ 对/ 长度/ 为/ N/ 的/ 数据流/ 维护/ 大小/ 为/ ε/ 2ln2c/ =/ 2/ λ/ 概率/ 支持/ 异常/ 频数/ 阈值/ 为/ λ/ N/ 且/ 误差/ 不/ 超过/ ε/ N/ 的/ 异常/ 状态/ 阈值/ 查询/ ./ 证明/ ./ 令/ α/ 表示/ 某/ 对象/ 的/ 对象/ 频度/ ,/ 且/ 0/ </ λ/ / α/ / 1/ ./ 若/ 样本/ 集合/ 的/ 大小/ 为/ c/ ,/ X/ 表示/ 一套/ 完整/ 采样/ 之后/ 样本/ 集合/ 中该/ 对象/ 的/ 频数/ ,/ 则/ E/ [/ X/ ]/ =/ c/ ·/ α/ ./ 根据/ Chernoff/ 不等式/ :/ Pr/ [/ |/ X/ -/ [/ ]/ EX/ |/ / ε/ ·/ Page7c/ ]/ / 2e/ -/ c/ ε/ 2/ 个/ ,/ 因而/ 2e/ -/ c/ ε/ 2c/ =/ 2/ λ/ ε/ 2ln25/ 滑动/ 窗口/ 异常/ 频度/ 阈值/ 查询/ 数据流/ 应用/ 中/ 的/ 数据/ 规模宏大/ ,/ 跨度/ 很长/ ./ 特定/ 的/ 异常/ 侦测/ 场景/ 中/ 往往/ 需要/ 连续/ 跟踪/ 最近/ 一段时间/ 内/ 的/ 情况/ ,/ 无需/ 处理/ 整个/ 数据流/ ,/ 因此/ 本/ 节/ 考虑/ 如何/ 设计/ 滑动/ 窗口/ 模型/ 下/ 的/ 异常/ 频度/ 阈值/ 查询/ 算法/ ./ 本节/ 采用/ 类似/ 文献/ [/ 3/ ]/ 中/ 提出/ 的/ 链式/ 采样/ 策略/ ,/ 以/ 维护/ 滑动/ 窗口/ 的/ 摘要/ 信息/ ,/ 从而/ 在/ 窗口/ 不断/ 移动/ 时/ 支持/ 异常/ 频度/ 阈值/ 查询/ ./ 令/ W/ 表示/ 滑动/ 窗口/ 的/ 大小/ ,/ 异常/ 频度/ 阈值/ 查询/ 总是/ 基于/ 最新/ 的/ W/ 个/ 元素/ 进行/ 查询/ ./ 滑动/ 窗口/ 异常/ 频度/ 阈值/ 查询/ 首先/ 按照/ 预定/ 概率/ 对/ 新/ 的/ 元素/ 进行/ 采样/ ,/ 若该/ 元素/ 被/ 成功/ 采样/ ,/ 则/ 同时/ 被/ 定义/ 为/ 一个/ 候选/ 元素/ ./ 当/ 元素/ 移出/ 滑动/ 窗口/ 时/ ,/ 及时/ 用/ 候选/ 元素/ 替换/ 该/ 元素/ ./ 最后/ ,/ 基于/ 采样/ 结果/ 进行/ 阈值/ 查询/ ./ 采样/ 成功/ 的/ 元素/ 及其/ 候选/ 元素/ 均/ 以/ 元素/ 对/ 形式/ 存在/ ,/ 形成/ 元素/ 对/ 链表/ ,/ 基本/ 数据结构/ 为/ (/ o/ ,/ 〈/ v/ (/ i/ )/ ,/ v/ (/ j/ )/ 〉/ )/ ./ 令/ R/ 表示/ 样本/ 集合/ ,/ 当/ 第/ i/ 个/ 元素/ e/ (/ i/ )/ 到达/ 时/ ,/ 首先/ 查看/ R/ 中/ 是否/ 存在/ 对象/ o/ (/ i/ )/ 的/ 不/ 完整/ 采样/ ,/ 即/ 是否/ 存在/ (/ o/ (/ i/ )/ ,/ 〈/ v/ (/ x/ )/ ,/ null/ 〉/ )/ ./ 若/ 存在/ ,/ 则/ 将/ 图/ 2/ 滑动/ 窗口/ 元素/ 对/ 均匀/ 采样/ 示意图/ 算法/ 6/ 维护/ 滑动/ 窗口/ 模式/ 下/ 的/ 数据流/ 元素/ 对/ 均匀/ 采样/ 样本/ 集合/ ,/ 其中/ 函数/ samplee/ (/ i/ )/ ,/ 1/ 表示/ 以/ 1/ 回/ true/ ;/ 函数/ dealCandidatee/ (/ i/ (/ )/ )/ 负责/ 为/ e/ (/ i/ )/ 定义/ 候选/ 元素/ 并/ 插入/ 到/ R/ 中/ ./ 异常/ 频度/ 阈值/ 查询/ 扫描/ R/ 中/ 所有/ 样本/ 元素/ ,/ 根据/ 每个/ 样本/ 元素/ 中/ 记录/ 的/ 对象/ 值其/ 更新/ 为/ (/ o/ (/ i/ )/ ,/ 〈/ v/ (/ x/ )/ ,/ v/ (/ i/ )/ 〉/ )/ ;/ 然后/ 再以/ 1/ 率/ 对/ e/ (/ i/ )/ 进行/ 采样/ ,/ 若/ 采样/ 成功/ ,/ 将/ (/ o/ (/ i/ )/ ,/ 〈/ v/ (/ i/ )/ ,/ null/ 〉/ )/ 插入/ R/ 中/ ;/ 对/ 每个/ 采样/ 成功/ 的/ 元素/ e/ (/ i/ )/ ,/ 同时/ 从/ e/ (/ i/ +/ 1/ )/ ,/ …/ ,/ e/ (/ i/ +/ W/ )/ 中/ 随机/ 选择/ 一个/ 元素/ 做/ 为/ e/ (/ i/ )/ 的/ 候选/ 元素/ ;/ 当/ e/ (/ i/ )/ 失效/ 时/ ,/ 则/ 用/ 候选/ 元素/ 替换/ e/ (/ i/ )/ ./ 候选/ 元素/ 到达/ 后/ ,/ 也/ 使用/ 该/ 规则/ 为/ 其/ 定义/ 候选/ 元素/ ./ 图/ 2/ 描述/ 了/ 滑动/ 窗口/ 元素/ 对/ 均匀/ 采样/ 流程/ ./ 图/ 2/ (/ a/ )/ 列举/ 了/ 某/ 数据流/ 的/ 前/ 10/ 个/ 元素/ ./ 假设/ 滑动/ 窗口/ 大小/ W/ =/ 6/ ,/ 各/ 元素/ 采样率/ 在/ 第/ 3/ 行列/ 出/ ./ 图/ 2/ (/ b/ )/ ~/ (/ e/ )/ 分别/ 给出/ 在/ 时间/ 点/ 2/ 、/ 3/ 、/ 8/ 和/ 10/ 处/ 的/ 样本/ 集合/ 状态/ ,/ 每个/ 样本/ 元素/ 和/ 候选/ 元素/ 使用/ 其/ 第一个/ 元素/ 在/ 数据流/ 中/ 的/ 编号/ 标识/ ./ 在/ 时间/ 点/ 2/ ,/ 数据流/ 元素/ 1/ 和/ 2/ 采样/ 成功/ ,/ 并且/ 随机/ 生成/ 对应/ 的/ 候选/ 元素/ :/ 时间/ 点/ 3/ 和/ 7/ 处/ 开始/ 的/ 元素/ 对/ ./ 由于/ 对象/ o1/ 和/ o2/ 均/ 是/ 首次/ 出现/ ,/ 因此/ 样本/ 元素/ 并/ 不/ 完整/ ./ 同时/ ,/ 元素/ 3/ 和/ 7/ 还/ 未/ 到达/ ,/ 还/ 无法/ 真正/ 填入/ 候选/ 元素/ ./ 在/ 时间/ 点/ 3/ ,/ 元素/ 3/ 到达/ ,/ 则/ 先用/ 该/ 元素/ 完善/ 对象/ o2/ 的/ 不/ 完整/ 采样/ ./ 元素/ 3/ 又/ 是/ 样本/ 元素/ 1/ 的/ 候选/ 样本/ ,/ 因此/ 在/ 样本/ 1/ 的/ 候选/ 样本/ 链表/ 中/ 插入/ 元素/ 3/ 的/ 不/ 完整/ 采样/ ,/ 并/ 定义/ 其/ 候选/ 样本/ 为/ 时间/ 点/ 6/ 处/ 开始/ 的/ 元素/ 对/ ./ 在/ 时间/ 点/ 8/ ,/ 样本/ 元素/ 1/ 和/ 2/ 不/ 在/ 滑动/ 窗口/ 范围/ 内/ ,/ 因此/ 被/ 移出/ 样本/ 集合/ ,/ 并/ 使用/ 它们/ 的/ 候选/ 元素/ 3/ 和/ 7/ 进行/ 替换/ ./ 图/ 2/ (/ e/ )/ 给出/ 在/ 时间/ 点/ 10/ 时/ 的/ 样本/ 集合/ 的/ 概况/ ./ 大小/ 关系/ ,/ 将/ 各/ 对象/ 统计/ 结果/ 写入/ 三元组/ 〈/ o/ ,/ f/ ,/ f/ -/ 〉/ 中/ ,/ o/ 、/ f/ 、/ f/ -/ 含义/ 同/ 3.1/ 节/ ,/ 并/ 输出/ 所有/ 满足/ f/ -/ 的/ 对象/ 集合/ ./ 算法/ 6/ ./ 滑动/ 窗口/ 元素/ 对/ 均匀/ 采样/ 算法/ ./ 输入/ :/ 数据流/ S/ ,/ 滑动/ 窗口/ 大小/ W/ 输出/ :/ 元素/ 对/ 样本空间/ R1/ ./ FOReache/ (/ i/ )/ ∈/ S/ {/ Page82/ ./ IF/ (/ (/ o/ (/ i/ )/ ,/ 〈/ v/ (/ x/ )/ ,/ null/ 〉/ )/ ∈/ R/ )/ THEN3/ ./ 更新/ (/ o/ (/ i/ )/ ,/ 〈/ v/ (/ x/ )/ ,/ null/ 〉/ )/ 为/ (/ o/ (/ i/ )/ ,/ 〈/ v/ (/ x/ )/ ,/ v/ (/ i/ )/ 〉/ )/ ;/ 4/ ./ IFsamplee/ (/ i/ )/ ,/ 15/ ./ R/ =/ R/ ∪/ (/ o/ (/ i/ )/ ,/ 〈/ v/ (/ i/ )/ ,/ null/ 〉/ )/ ;/ 6/ ./ dealCandidate/ (/ e/ (/ i/ )/ )/ ;/ }/ }/ 7/ ./ RETURNR/ ./ 定理/ 4/ ./ 若/ 算法/ 6/ 维护/ 大小/ 为/ c/ =/ 2/ (/ 1/ +/ ε/ )/ 2ln2/ (/ )/ λ/ δ/ 的/ 元素/ 对/ 样本/ 集合/ ,/ 则/ 其/ 支持/ 滑动/ 窗口/ W/ 下/ 的/ 异常/ 频度/ 阈值/ 查询/ ,/ 能够/ 查询/ W/ 中/ 异常/ 频度/ 大于/ 等于/ τ/ 且/ 对象/ 频度/ 大于/ 等于/ λ/ 的/ 对象/ ,/ 且/ 以/ 1/ -/ δ/ 概率/ 保证/ 异常/ 频度/ 误差/ 不/ 超过/ ε/ ;/ 同时/ 空间/ 复杂度/ 仅为/ O/ (/ clogW/ )/ ./ 证明/ ./ 根据/ 文献/ [/ 3/ ]/ 提供/ 的/ 结论/ 可知/ ,/ 若/ 限定/ 样本空间/ 大小/ 为/ c/ ,/ 则/ 每个/ 样本/ 候选/ 链表/ 的/ 长度/ 为/ l/ 的/ 概率/ P/ (/ l/ )/ =/ W/ (/ )/ lc/ -/ l/ / e/ (/ )/ lP/ (/ l/ )/ / W/ -/ t/ ,/ t/ 为/ 常量/ ;/ 对/ c/ 个/ 候选/ 链表/ 的/ 空间/ 复杂度/ 为/ O/ (/ clogW/ )/ ./ 令/ f/ -/ 和/ f/ 分别/ 表示/ 当前/ 窗口/ 中/ 某/ 对象/ 的/ 异常/ 频数/ 和/ 总/ 频数/ ,/ 则/ 其/ 绝对误差/ 均/ 不/ 超过/ σ/ W/ ./ 频度/ 误差/ f/ -/ f/ -/ ±/ σ/ Wf/ -/ 令/ α/ 表示/ 某/ 对象/ 的/ 对象/ 频度/ ,/ 且/ 0/ </ λ/ / α/ / 1/ ./ 令/ X/ 表示/ 一套/ 完整/ 采样/ 之后/ 样本/ 集合/ 中该/ 对象/ 的/ 频数/ ,/ 则/ [/ ]/ EX/ =/ c/ ·/ α/ ./ 根据/ Chernoff/ 不等式/ :/ Pr/ [/ |/ X/ -/ [/ ]/ EX/ |/ / σ/ ·/ c/ ]/ / 2e/ -/ c/ σ/ 21/ λ/ 个/ ,/ 因而/ 2e/ -/ c/ σ/ 2/ 此有/ c/ =/ 2/ (/ 1/ +/ ε/ )/ 26/ 实验/ 6.1/ 实验/ 数据/ 集本节/ 基于/ 某/ 金融机构/ 的/ 终端/ 交易/ 数据/ 集对/ 数据流/ 阈值/ 查询/ 算法/ 进行/ 实验/ 验证/ ,/ 实验/ 平台/ 为/ Windows/ 操作系统/ 、/ 2.67/ GHzCPU/ 和/ 2GB/ 内存/ ,/ 使用/ Java/ 实现/ 所有/ 算法/ 代码/ ./ 数据/ 集/ 收集/ 了/ 金融机构/ 某/ 交易平台/ 2011/ 年/ 7/ 月份/ 共/ 31/ 天/ 的/ 交易/ 数据/ ,/ 日/ 交易量/ 在/ 88/ 万到/ 160/ 万/ 之间/ ,/ 总计/ 约/ 3755/ 万条/ 交易/ 记录/ ,/ 涉及/ 128466/ 个/ 逻辑/ ID/ ,/ 有/ 27713/ 个/ 逻辑/ ID/ 产生/ 异常/ ,/ 占/ 比/ 为/ 21.57/ %/ ./ 图/ 3/ 展示/ 了/ 各/ 异常/ 交易量/ 下/ 参与/ 交易/ 的/ 终端/ 数目/ 的/ 分布/ 情况/ ./ 数据/ 集中/ 的/ 每笔/ 交易/ 均/ 由/ 数据/ 预处理/ 转换成/ 一个二元/ 组/ 格式/ 的/ 数据流/ 元素/ ,/ 即/ (/ 对象/ ID/ 、/ 流水号/ )/ ./ 6.2/ 评价/ 标准/ 实验/ 评测/ 指标/ 包括/ 算法/ 准确度/ 和/ 时空/ 复杂度/ ./ 其中/ ,/ 准确度/ 评测/ 采用/ 准确率/ (/ Precision/ )/ 、/ 召回/ 率/ (/ Recall/ )/ 和/ F/ -/ measure/ ./ 令/ 样本空间/ 为/ R/ ,/ 查询/ 结果/ 数目/ 为/ P/ ,/ 查询/ 正确/ 数目/ 为/ Q/ ,/ 则/ 有/ Precision/ =/ QRecall/ =/ Q/ 法/ 的/ 时间/ 复杂度/ 即/ 为/ 单个/ 元素/ 的/ 平均/ 处理/ 时间/ ,/ 空间/ 复杂度/ 为/ 使用/ 内存大小/ ./ 本/ 实验/ 同时/ 采用/ 扫描/ 统计/ 的/ 方法/ 对/ 数据流/ 进行/ 阈值/ 查询/ ,/ 查询/ 的/ 时空/ 开销/ 作为/ 基准值/ ,/ 与/ 各/ 阈值/ 查询/ 算法/ 的/ 时空/ 复杂度/ 进行/ 对比/ 分析/ ./ 为/ 简化/ 表达/ ,/ 各/ 查询/ 算法/ 采用/ 表/ 4/ 中/ 的/ 命名/ 约定/ ./ 滑动/ 窗口/ 异常/ 频度/ 阈值/ 查询/ 6.3/ 实验/ 结果/ 与/ 分析/ 6.3/ ./ 1/ 异常/ 频度/ 阈值/ 概率/ 查询/ 实验/ 设定/ 不同/ 的/ 异常/ 频度/ 阈值/ τ/ 和/ 误差/ ε/ ,/ 通过/ 非/ 均匀/ 采样/ 对/ 数据流/ 进行/ 采样/ 并/ 维护/ 数据流/ 摘要/ 信息/ ,/ 然后/ 进行/ 异常/ 频度/ 阈值/ 查询/ ,/ 分别/ 验证/ 查询/ 算法/ 的/ 有效性/ 和/ 性能/ ./ 设计/ 一组/ 实验/ 验证/ 算法/ 的/ 有效性/ ,/ 让/ τ/ 分别/ 取值/ 0.01/ 、/ 0.02/ 、/ 0.03/ 和/ 0.04/ ,/ ε/ 分别/ 取值/ 0.001/ 、/ 0.002/ 、/ 0.003/ 、/ 0.004/ 和/ 0.005/ ,/ δ/ 统一/ 取值/ 为/ Page910/ -/ 3/ ,/ 对象/ 频数/ 阈值/ 取值/ 5000/ ,/ 对/ τ/ 和/ ε/ 两个/ 参数/ 进行/ 组合/ 实验/ ,/ 实验/ 结果/ 如图/ 4/ 所示/ ./ 图/ 4/ (/ a/ )/ 展示/ 了/ 不同/ 异常/ 频度/ 阈值/ 和/ 误差/ 下/ 的/ 准确率/ ,/ 由于/ 阈值/ 概率/ 查询/ 对/ 采样/ 到/ 的/ 对象/ 进行/ 连续/ 监控/ ,/ 因此/ 在/ 各/ 阈值/ 下/ ,/ 查询/ 准确率/ 保持/ 了/ 较/ 高/ 的/ 值/ ;/ 随着/ ε/ 的/ 增大/ ,/ 图/ 4/ 概率/ 查询/ 有效性/ 图/ 5/ 展现/ 了/ 阈值/ 概率/ 查询/ 与/ 扫描/ 统计/ 查询/ 的/ 时空/ 性能/ 对比/ ./ 图/ 5/ (/ a/ )/ 表明/ 阈值/ 概率/ 查询/ 具有/ 较/ 低/ 的/ 空间/ 复杂度/ ,/ 随着/ 查询/ 误差/ ε/ 增大/ ,/ 查询/ 需求/ 的/ 存储空间/ 减少/ ;/ 阈值/ 概率/ 查询/ 的/ 空间/ 需求/ 不/ 受/ 异常/ 频度/ 阈值/ τ/ 的/ 影响/ ,/ 实验/ 结果/ 与/ 定理/ 1/ 的/ 结论/ 保持一致/ ./ 阈值/ 概率/ 查询/ 的/ 时间/ 消耗/ 主要/ 包括/ 每个/ 元素/ 的/ 采样/ 图/ 5/ 概率/ 查询/ 时空/ 性能/ 6.3/ ./ 2/ 异常/ 频度/ 阈值/ 确定性/ 查询/ 实验/ 通过/ 设定/ 不同/ 大小/ 的/ 窗口/ 进行/ 阈值/ 查询/ 实验/ ,/ 对/ 数据流/ 生成/ 摘要/ 信息/ ,/ 并/ 依据/ 摘要/ 信息/ 进行/ 异常/ 频度/ 阈值/ 查询/ ./ 令/ 异常/ 频度/ 阈值/ τ/ 分别/ 取值/ 0.01/ 、/ 0.02/ 、/ 0.03/ 和/ 0.04/ ,/ ε/ 分别/ 取值/ 0.001/ 、/ 0.002/ 、/ 0.003/ 、/ 0.004/ 和/ 0.005/ ,/ 在/ 不同/ 大小/ 的/ 窗口/ 下/ 进行/ 查询/ 实验/ ,/ 以/ 异常/ 频数/ 大于/ 等于/ 5000/ 的/ 对象/ 集合/ 作为/ 考察/ 范围/ ,/ 图/ 6/ 给出/ 了/ 准确率/ 、/ 召回/ 率/ 和/ F/ -/ measure/ 的/ 实验/ 结果/ ./ 图/ 6/ (/ a/ )/ 给出/ 了/ 不同/ 异常/ 频度/ 阈值/ 在/ 不同/ 误差/ (/ 即/ 窗口/ 大小/ )/ 下/ 的/ 准确率/ ,/ 从/ 实验/ 结果/ 看/ 各/ 查询/ 均/ 保持/ 了/ 较/ 高/ 的/ 准确率/ ./ 随着/ 误差值/ 减少/ ,/ 窗口/ 变/ 大/ 、/ 修剪/ 次数/ 减少/ 、/ 准确率/ 稍微/ 上升/ ;/ 由于/ 对/ 所有/ 查询/ 的/ 准确率/ 稍微/ 下降/ ;/ 同时/ 随着/ 阈值/ 的/ 增大/ ,/ 查询/ 的/ 准确率/ 也/ 升高/ ./ 图/ 4/ (/ b/ )/ 和/ (/ c/ )/ 分别/ 展示/ 了/ 各/ 查询/ 的/ 召回/ 率/ 和/ F/ -/ measure/ ,/ 各/ 参数/ 条件/ 下/ 的/ 阈值/ 查询/ 均/ 保持/ 了/ 高/ 的/ 召回/ 率/ ./ 时间/ 、/ 数据流/ 摘要/ 信息/ 维护/ 时间/ 、/ 对象/ 修剪/ 时间/ 和/ 阈值/ 查询/ 时间/ 四/ 部分/ ,/ 尽管/ 扫描/ 统计/ 查询/ 的/ 时间/ 成本/ 只有/ 数据流/ 摘要/ 信息/ 维护/ 时间/ 和/ 阈值/ 查询/ 时间/ 两/ 部分/ ,/ 但/ 由于/ 采样/ 和/ 修剪/ 操作/ 使得/ 处理/ 的/ 对象/ 数目/ 减少/ ,/ 从而/ 保证/ 了/ 概率/ 查询/ 的/ 时间/ 复杂度/ 仍/ 低于/ 扫描/ 统计/ 查询/ (/ 如图/ 5/ (/ b/ )/ )/ ./ 数据流/ 元素/ 进行/ 了/ 处理/ ,/ 根据/ 修剪/ 策略/ ,/ 相同/ 对象/ 频数/ 情况/ 下/ 异常/ 频度/ 较大/ 的/ 对象/ 不/ 容易/ 被/ 修剪/ 掉/ ,/ 因此/ 对应/ 的/ 查询/ 准确率/ 也/ 稍/ 高/ ./ 由于/ 对/ 所有/ 对象/ 进行/ 了/ 连续/ 监控/ ,/ 因此/ 确定性/ 查询/ 也/ 保持/ 了/ 高/ 的/ 召回/ 率/ (/ 如图/ 6/ (/ b/ )/ )/ ;/ 同时/ ,/ F/ -/ measure/ 也/ 保持/ 了/ 较/ 高/ 的/ 值/ (/ 如图/ 6/ (/ c/ )/ )/ ./ 图/ 7/ 给出/ 了/ 确定性/ 查询/ 算法/ 与/ 扫描/ 统计/ 查询/ 算法/ 的/ 时空/ 性能/ 对比/ ./ 图/ 7/ (/ a/ )/ 表明/ 在/ 不同/ 误差/ (/ 即/ 窗口/ 大小/ )/ 下/ ,/ 确定性/ 查询/ 的/ 空间/ 需求/ 均/ 小于/ 扫描/ 统计/ 查询/ 需求/ 的/ 存储空间/ ,/ 而且/ 几乎/ 不/ 受/ 查询/ 阈值/ 的/ 影响/ ,/ 尽管/ 该/ 算法/ 空间/ 复杂度/ 的/ 理论/ 边界值/ 较大/ ,/ 但/ 实验/ 的/ 实际效果/ 很/ 好/ ./ 图/ 7/ (/ b/ )/ 给出/ 了/ 时间/ 成本/ 对比/ ,/ Page10/ 不同于/ 扫描/ 统计/ 查询/ 维护/ 所有/ 对象/ 集合/ ,/ 确定性/ 查询/ 由于/ 采用/ 了/ 修剪/ 策略/ ,/ 定期/ 移除/ 不/ 满足条件/ 的/ 对象/ ,/ 从而/ 只/ 需要/ 维护/ 当前/ 满足条件/ 的/ 对象/ 结合/ ,/ 使得/ 对象/ 集合/ 的/ 维护/ 时间/ 减少/ ,/ 呈现/ 了/ 很/ 好/ 的/ 时间/ 性能/ ./ 图/ 6/ 确定性/ 查询/ 有效性/ 图/ 7/ 确定性/ 查询/ 时空/ 性能/ 6.3/ ./ 3/ 异常/ 状态/ 阈值/ 查询/ 实验/ 通过/ 设定/ 不同/ 的/ 样本空间/ ,/ 设计/ 实验/ 验证/ 异常/ 状态/ 阈值/ 查询/ 算法/ 的/ 有效性/ 和/ 性能/ ./ 针对/ 不同/ 的/ 异常/ 状态/ 查询/ 阈值/ (/ AFT/ ,/ 分别/ 取值/ 5000/ 、/ 15000/ 、/ 25000/ 和/ 35000/ )/ ,/ 让/ 其/ 在/ 不同/ 的/ 样本空间/ (/ 10/ 、/ 20/ 、/ 30/ 、/ 40/ 和/ 50/ ,/ 单位/ :/ 103/ )/ 下/ 进行/ 查询/ 实验/ ./ 图/ 8/ 展示/ 了/ 不同/ 异常/ 状态/ 查询/ 阈值/ 在/ 不同/ 样本空间/ 下/ 的/ 查询/ 图/ 8/ 异常/ 状态/ 阈值/ 查询/ 有效性/ 相对/ 于/ 概率/ 查询/ ,/ 确定性/ 查询/ 对/ 异常/ 频数/ 较少/ 的/ 对象/ 也/ 具有/ 很/ 好/ 的/ 查询/ 效果/ ;/ 但/ 主要/ 缺陷/ 是/ 该/ 方法/ 的/ 空间/ 复杂度/ 对/ 实际/ 数据/ 比较/ 敏感/ ,/ 当/ 数据流/ 持续/ 增大/ 和/ 对象/ 增多/ 时/ ,/ 其/ 空间/ 复杂度/ 会/ 持续/ 增大/ ./ 准确率/ 、/ 召回/ 率/ 和/ F/ -/ measure/ ,/ 随着/ 样本空间/ 增大/ ,/ 采样/ 的/ 对象/ 数目/ 增多/ ,/ 查询/ 的/ 准确率/ 和/ 召回/ 率均/ 升高/ ,/ 这/ 符合/ 均匀/ 采样/ 的/ 基本/ 性质/ ;/ 在/ 同样/ 的/ 样本空间/ 下/ ,/ 异常/ 频数/ 越高/ ,/ 其/ 被/ 采样/ 的/ 概率/ 增大/ ,/ 查询/ 准确率/ 和/ 召回/ 率/ 也/ 越/ 高/ (/ 如图/ 8/ (/ a/ )/ 和/ (/ b/ )/ )/ ;/ 图/ 8/ (/ c/ )/ 的/ F/ -/ measure/ 也/ 呈现/ 了/ 同样/ 趋势/ ./ 图/ 9/ 给出/ 了/ 异常/ 状态/ 阈值/ 查询/ 与/ 扫描/ 统计/ 查询/ Page11/ 的/ 时空/ 性能/ 比较/ (/ 注/ :/ 异常/ 状态/ 阈值/ 查询/ 的/ 基准值/ 和/ 异常/ 频度/ 阈值/ 查询/ 的/ 基准值/ 由于/ 查询/ 需求/ 不同/ ,/ 因此/ 对/ 同一个/ 数据流/ ,/ 基准值/ 存在/ 差异/ )/ ./ 图/ 9/ (/ a/ )/ 给出/ 了/ 查询/ 的/ 空间/ 成本/ ,/ 异常/ 状态/ 阈值/ 查询/ 的/ 时空/ 开销/ 主要/ 取决于/ 样本空间/ 的/ 大小/ ,/ 相对/ 于/ 扫描/ 统计/ 查询/ ,/ 异常/ 状态/ 阈值/ 查询/ 在/ 保证/ 很/ 好/ 准确度/ 的/ 情况/ 下/ ,/ 存储空间/ 开销/ 仍/ 保持/ 低/ 的/ 需求/ ;/ 而且/ 在/ 样本空间/ 确定/ 的/ 情况/ 下/ ,/ 空间/ 开销/ 几乎/ 不/ 受/ 数据流/ 大小/ 影响/ ./ 图/ 9/ (/ b/ )/ 图/ 9/ 异常/ 状态/ 阈值/ 查询/ 时空/ 性能/ 6.3/ ./ 4/ 滑动/ 窗口/ 异常/ 频度/ 阈值/ 查询/ 实验/ 滑动/ 窗口/ 异常/ 频度/ 阈值/ 查询/ 的/ 关注/ 对象/ 为/ 数据流/ 的/ 最新/ 数据/ ,/ 设计/ 实验/ 验证/ 查询/ 算法/ 的/ 有效性/ 和/ 性能/ ,/ 让/ 滑动/ 窗口/ 大小/ W/ 分别/ 取值/ 8000/ 、/ 12000/ 、/ 16000/ 和/ 24000/ ,/ 使用/ 不同/ 频度/ 阈值/ τ/ 进行/ 查询/ 实验/ ./ 图/ 10/ 展示/ 了/ 滑动/ 窗口/ 异常/ 频度/ 阈值/ 查询/ 的/ 有效性/ ,/ 图/ 10/ (/ a/ )/ 表明/ 各/ 查询/ 具有/ 很/ 高/ 的/ 准确率/ ,/ 对/ 同样/ 长度/ 的/ 数据流/ ,/ 当/ 滑动/ 窗口/ 尺寸/ 变/ 小时/ ,/ 由于/ 采样率/ 图/ 10/ 滑动/ 窗口/ 阈值/ 查询/ 有效性/ 图/ 11/ 展示/ 了/ 滑动/ 窗口/ 异常/ 频度/ 阈值/ 查询/ 与/ 扫描/ 统计/ 查询/ 的/ 时空/ 性能/ 比较/ ./ 相对/ 于/ 扫描/ 统计/ 查询/ ,/ 滑动/ 窗口/ 阈值/ 查询/ 的/ 空间/ 需求/ 仍/ 较/ 小/ ,/ 而且/ 随着/ 窗口/ 增大/ ,/ 采样率/ 降低/ ,/ 需要/ 维护/ 的/ 元素/ 数目/ 减少/ ,/ 空间/ 需求/ 和/ 时间/ 消耗/ 减少/ ,/ 查询/ 的/ 空间/ 性能/ 不/ 受/ 查询/ 阈值/ 影响/ (/ 如图/ 11/ (/ a/ )/ 所示/ )/ ./ 滑动/ 窗口/ 下/ 的/ 查询/ 时/ 展现/ 了/ 查询/ 的/ 时间/ 开销/ ,/ 异常/ 状态/ 阈值/ 查询/ 的/ 时间/ 复杂度/ 由/ 采样/ 开销/ 和/ 样本空间/ 查询/ 开销/ 决定/ ,/ 相对/ 于/ 扫描/ 统计/ 查询/ 需要/ 对/ 每个/ 对象/ 进行/ 摘要/ 信息/ 维护/ ,/ 异常/ 状态/ 阈值/ 查询/ 只/ 需要/ 对/ 每个/ 元素/ 进行/ 采样/ 测试/ ,/ 最后/ 完成/ 对/ 样本空间/ 的/ 查询/ ,/ 因此/ 异常/ 状态/ 阈值/ 查询/ 具有/ 较/ 低/ 的/ 单一/ 元素/ 处理/ 时间/ 开销/ ./ 随着/ 样本空间/ 的/ 增大/ ,/ 不同/ 样本空间/ 的/ 采样/ 时间/ 开销/ 是/ 一致/ 的/ ,/ 但/ 样本空间/ 查询/ 时间/ 会/ 稍微/ 增大/ ./ 增大/ ,/ 样本空间/ 的/ 元素/ 增多/ ,/ 因此/ 查询/ 的/ 准确率/ 升高/ ;/ 对/ τ/ =/ 0.2/ 的/ 各/ 查询/ ,/ 由于/ 在/ 对应/ 窗口/ 中/ 满足条件/ 的/ 对象/ 数目/ 变/ 少/ ,/ 单一/ 对象/ 的/ 查询/ 失败/ 导致/ 准确率/ 下降/ 较/ 快/ ,/ 因此/ 准确率/ 偏低/ ./ 在/ 同一个/ 数据流/ 下/ ,/ 图/ 10/ (/ b/ )/ 的/ 召回/ 率/ 也/ 随着/ 窗口/ 的/ 增大/ 而/ 呈/ 下降/ 趋势/ ,/ 也/ 主要/ 归因于/ 采样率/ 降低/ ,/ 样本数/ 减少/ ;/ 但/ 对/ τ/ =/ 0.2/ 的/ 各/ 查询/ ,/ 其/ 召回/ 率受/ 窗口/ 大小/ 变化/ 的/ 影响/ 相对/ 较弱/ ;/ 图/ 10/ (/ c/ )/ 的/ F/ -/ measure/ 呈现/ 了/ 相同/ 趋势/ ./ 间/ 成本/ 主要/ 由/ 采样/ 成本/ 和/ 候选/ 元素/ 维护/ 成本/ 构成/ ,/ 由于/ 对/ 每/ 一个/ 有效/ 采样/ 均/ 维护/ 一个/ 候选/ 链表/ ,/ 当/ 维护/ 的/ 链表/ 数目/ 较多时/ ,/ 查询/ 时间/ 会/ 稍高于/ 扫描/ 统计/ 查询/ ;/ 但/ 随着/ 窗口/ 变/ 大/ ,/ 采样率/ 变小/ ,/ 需要/ 维护/ 的/ 候选/ 链表/ 数目/ 变小/ ,/ 对应/ 的/ 查询/ 时间/ 减少/ (/ 如图/ 11/ (/ b/ )/ 所示/ )/ ./ Page12/ 图/ 11/ 滑动/ 窗口/ 阈值/ 查询/ 时空/ 性能/ 7/ 相关/ 工作/ 数据流/ 在/ 许多/ 应用/ 中/ 广泛/ 存在/ ,/ 例如/ 网络/ 数据流/ 监控/ 、/ 股票交易/ 等/ ./ 数据流/ 到达/ 速度/ 快/ 、/ 数据量/ 大/ ,/ 针对/ 不同/ 的/ 应用/ 需求/ ,/ 需要/ 设计/ 有效/ 的/ 算法/ 和/ 系统/ ./ 文献/ [/ 4/ ]/ 提出/ 了/ 一个/ 对/ 多数据流/ 进行/ 连续/ 查询/ 的/ 流/ 数据/ 管理系统/ 原型/ (/ STREAM/ )/ ,/ 其/ 设计/ 了/ 类/ SQL/ 的/ 描述性/ 查询语言/ ,/ 支持/ 在/ 物理/ 资源/ 受限/ 的/ 情况/ 下为/ 高/ 数据/ 到达/ 率/ 和/ 高/ 查询/ 负载/ 的/ 任务/ 提供/ 近似/ 查询/ 服务/ ;/ 文献/ [/ 5/ ]/ 设计/ 了/ 一个/ 为/ IBMSystemS/ 服务/ 的/ 描述/ 数据流/ 处理/ 引擎/ (/ SPADE/ )/ ,/ 其/ 通过/ 一个/ 中间/ 语言/ 来/ 描述/ 并行/ 和/ 分布式/ 的/ 数据流/ 图/ ,/ 支持/ 流/ 处理/ 运算符/ ,/ 并且/ 采用/ 流/ 适配器/ 来/ 与/ 外界/ 进行/ 数据/ 交互/ ;/ 文献/ [/ 6/ ]/ 提供/ 了/ 一个/ 概率/ 数据流/ 系统/ ,/ 通过/ 高斯/ 混合/ 模型/ 对/ 不/ 确定/ 数据流/ 中/ 的/ 连续/ 随机变量/ 进行/ 建模/ ,/ 支持/ 不/ 确定/ 数据流/ 的/ 聚集/ 、/ 连接/ 等/ 关系/ 操作/ ./ 针对/ 不同/ 形态/ 的/ 数据流/ ,/ 文献/ [/ 7/ -/ 8/ ]/ 研究/ 了/ 只/ 支持/ 追加/ 操作/ 数据流/ 的/ 查询/ 问题/ ;/ 文献/ [/ 9/ ]/ 研究/ 了/ 支持/ 插入/ 和/ 删除/ 操作/ 数据流/ 的/ 查询/ 问题/ ;/ 文献/ [/ 10/ -/ 11/ ]/ 研究/ 了/ 不/ 确定/ 数据流/ 的/ 查询/ 问题/ ./ 本文/ 研究/ 面向/ 不/ 规范/ 使用/ 物理/ 终端/ 而/ 导致/ 的/ 不/ 规范/ 交易/ 模式/ 的/ 侦测/ 问题/ ./ 典型/ 的/ 数据流/ 查询处理/ 技术/ 包括/ 采样/ 、/ 散列/ 、/ 直方图/ 等/ ,/ 设计/ 近似算法/ 以较/ 低/ 时空/ 复杂度/ 支持/ 各种/ 查询/ 操作/ ./ 文献/ [/ 9/ ]/ 提出/ 了/ 支持/ 插入/ 和/ 删除/ 操作/ 的/ 数据流/ 频繁/ 计数/ 方法/ (/ hCount/ )/ ;/ 文献/ [/ 12/ ]/ 为/ top/ -/ k/ 查询/ 引入/ 几何/ 表达/ 模型/ ,/ 对/ 数据流/ 增量/ 维护/ 一个/ 几何/ 排列/ 数据/ 集/ ,/ 设计/ 算法/ 支持/ 数据流/ 上/ 的/ 即席/ top/ -/ k/ 查询/ ;/ 文献/ [/ 10/ -/ 11/ ,/ 13/ -/ 14/ ]/ 分别/ 对/ 不/ 确定/ 数据流/ 进行/ 了/ top/ -/ k/ 查询/ 、/ 聚簇/ 、/ 频繁/ 项集/ 挖掘/ 等/ 研究/ ./ 文献/ [/ 15/ ]/ 提供/ 了/ 一个/ 数据流/ 频繁/ 项/ 挖掘/ 的/ 综述/ ,/ 从/ 数据流/ 模型/ 、/ 频繁/ 项/ 挖掘/ 算法/ 的/ 处理/ 技术/ 和/ 数据/ 概要/ 结构/ 3/ 个/ 方面/ 对/ 频繁/ 项/ 挖掘/ 的/ 相关/ 方法/ 进行/ 比较/ 分析/ ;/ 文献/ [/ 16/ -/ 17/ ]/ 分别/ 对/ 典型/ 的/ 数据流/ 频繁/ 项/ 挖掘/ 算法/ 设计/ 了/ 一个/ 统一/ 的/ 框架/ ,/ 并/ 通过/ 实验/ 对/ 各/ 方法/ 进行/ 了/ 性能/ 比较/ ./ 本文/ 的/ 研究/ 工作/ 与/ 频繁/ 项/ 查询/ 问题/ 接近/ ,/ 但/ 不同于/ 传统/ 的/ 问题/ 定义/ ,/ 其/ 研究/ 的/ 出发点/ 基于/ 对象/ 值/ 相关性/ 和/ 对象/ 自身/ 的/ 异常/ 频度/ ,/ 而/ 不仅/ 是/ 相对/ 于/ 整个/ 流/ 长度/ 的/ 频度/ ./ 数据流/ 查询处理/ 的/ 基本模式/ 分为/ 基于/ 整个/ 流/ 的/ 查询/ 和/ 基于/ 滑动/ 窗口/ 的/ 查询/ 两种/ 类型/ ./ 基于/ 滑动/ 窗口/ 的/ 观点/ 认为/ 数据/ 会/ 过期/ ,/ 连续/ 查询/ 数据流/ 的/ 最近/ 内容/ 更/ 有/ 价值/ 而/ 得到/ 了/ 广泛/ 的/ 研究/ ./ 文献/ [/ 18/ ]/ 研究/ 了/ 固定/ 尺寸/ 滑动/ 窗口/ 上/ 的/ 数据流/ top/ -/ k/ 查询/ ,/ 窗口/ 的/ 固定/ 尺寸/ 可以/ 从/ 元素/ 个数/ 或者/ 时间段/ 两个/ 不同/ 的/ 角度/ 来/ 进行/ 限定/ ,/ 其/ 通过/ 网格/ 索引/ 结构/ 和/ 预计/ 算/ 技术/ ,/ 以/ 空间/ 换/ 时间/ 的/ 方式/ 来/ 快速/ 获取/ 查询/ 结果/ ;/ 文献/ [/ 19/ ]/ 通过/ 滑动/ 窗口/ 来/ 查询/ 数据流/ 中/ 最近/ 的/ 频繁/ 项/ ;/ 文献/ [/ 20/ ]/ 综合/ 基于/ 图/ 和/ 基于/ 网格/ 的/ 摘要/ 方法/ ,/ 提出/ 了/ 基于/ 密度/ 聚簇/ 的/ 新/ 的/ 摘要/ 方法/ ,/ 其/ 能够/ 有效/ 描述/ 原始/ 聚簇/ 的/ 所有/ 特征/ 并/ 保证/ 了/ 表达/ 的/ 简洁性/ ,/ 从而/ 支持/ 滑动/ 窗口/ 模式/ 下/ 的/ 连续/ 聚簇/ 抽取/ 查询/ 和/ 聚簇/ 匹配/ 查询/ ;/ 文献/ [/ 21/ ]/ 将/ top/ -/ k/ 查询/ 和/ 频繁/ 项/ 挖掘/ 问题/ 相结合/ ,/ 设计/ 了/ 滑动/ 窗口/ 模式/ 下/ 的/ top/ -/ k/ 频繁/ 项/ 查询/ 算法/ ./ 本文/ 的/ 研究/ 工作/ 基于/ 对象/ 的/ 异常/ 频度/ 阈值/ 同时/ 兼顾/ 了/ 基于/ 整个/ 数据流/ 的/ 查询/ 和/ 支持/ 滑动/ 窗口/ 模型/ 的/ 查询/ ./ 数据流/ 的/ 研究/ 工作/ 取得/ 了/ 很大/ 进展/ 并/ 不断涌现/ 出新/ 的/ 工作/ ./ 文献/ [/ 22/ -/ 23/ ]/ 提供/ 了/ 系统/ 的/ 数据流/ 研究/ 工作/ 综述/ ,/ 分别/ 对/ 数据流/ 研究/ 的/ 理论/ 基础/ 、/ 挖掘/ 技术/ 、/ 系统/ 和/ 研究/ 观点/ 等/ 方面/ 进行/ 了/ 归纳/ 总结/ ;/ 文献/ [/ 24/ ]/ 对/ 海量/ 数据流/ 面临/ 的/ 新/ 问题/ 和/ 新/ 应用/ 所/ 带来/ 的/ 挑战/ 进行/ 了/ 展望/ ./ 新/ 的/ 问题/ 和/ 挑战/ 让/ 数据流/ 的/ 研究/ 工作/ 不断/ 得到/ 进展/ ,/ 文献/ [/ 25/ ]/ 将/ 基于/ 数据项/ 出现/ 频次/ 的/ 查询/ 变换/ 为/ 出现/ 相同/ 频次/ 的/ 数据项/ 数目/ 查/ Page13/ 询/ ,/ 提出/ 了/ 一种/ 新/ 的/ 数据流/ 视角/ ;/ 文献/ [/ 26/ ]/ 研究/ 了/ 对/ 图/ 数据流/ 的/ 查询/ 问题/ ,/ 其/ 提出/ 了/ gSketch/ 方法/ 来/ 生成/ 图/ 摘要/ ,/ 支持/ 图/ 数据流/ 的/ 快速/ 查询/ ,/ 将/ 数据流/ 的/ 考察/ 对象/ 变换/ 到/ 图/ 结构/ 上/ ;/ 文献/ [/ 27/ ]/ 针对/ 社交/ 网络/ 提供/ 的/ 丰富/ 信息流/ ,/ 采用/ 密度/ 子图/ 建模/ 现实/ 世界/ 中紧/ 耦合/ 的/ 实体/ ,/ 从/ 用户/ 生成/ 内容/ 流中/ 获取/ 并/ 维护/ 实体/ 之间/ 联系/ (/ 边/ )/ 的/ 相关/ 信息/ ,/ 实时/ 地/ 从/ 社交/ 网络/ 中/ 发现/ 流行/ 事件/ ;/ 文献/ [/ 28/ ]/ 融合/ MapReduce/ 技术/ 和/ 流/ 数据处理/ 技术/ ,/ 设计/ 了/ 概率/ 算法/ ,/ 实现/ 了/ 图/ 数据流/ 的/ 最大/ 密度/ 子图/ 挖掘/ ./ 本文/ 的/ 研究/ 对象/ 较/ 以往/ 数据流/ 问题/ 也/ 存在/ 不同/ ,/ 其/ 针对/ 传统/ 的/ 频繁/ 项/ 问题/ 融合/ 了/ 对象/ 值/ 相关性/ 和/ 对象/ 自身/ 异常/ 频度/ 的/ 考量/ ./ 8/ 结论/ 为了/ 解决/ 银行卡/ 交易/ 中/ 不/ 规范/ 交易/ 的/ 侦测/ 问题/ ,/ 本文/ 引入/ 数据流/ 对象/ 异常/ 概念/ ,/ 设计/ 基于/ 元素/ 对/ 的/ 采样/ 技术/ 来/ 支持/ 对象/ 值/ 的/ 变化/ 监测/ ,/ 分别/ 设计/ 并/ 实现/ 了/ 阈值/ 查询/ 算法/ 支持/ 整个/ 数据流/ 的/ 对象/ 异常/ 频度/ 查询/ 和/ 异常/ 状态/ 查询/ ,/ 以及/ 滑动/ 窗口/ 模型/ 下/ 的/ 异常/ 频度/ 阈值/ 查询/ ./ 理论/ 分析/ 和/ 实验报告/ 表明/ 各/ 算法/ 具有/ 较佳/ 性能/ ,/ 能以/ 低/ 时空/ 开销/ 支持/ 大规模/ 数据流/ ./ 针对/ 银行卡/ 交易/ 等/ 数据流/ ,/ 当前/ 只能/ 根据/ 对象/ 异常/ 频度/ 和/ 异常/ 频次/ 来/ 查询/ 异常/ 程度/ ,/ 如何/ 结合/ 具体/ 时间/ 信息/ 以及/ 交易/ 频度/ 信息/ ,/ 深度/ 挖掘/ 不/ 规范/ 交易/ 模式/ 的/ 信息/ ,/ 例如/ 发现/ 不/ 规范/ 交易/ 模式/ 的/ 周期/ ,/ 将/ 更/ 有助于/ 问题/ 的/ 准确/ 定位/ 和/ 解决/ ./ 

