Page1/ 一种/ 软件测试/ 需求/ 建模/ 及/ 测试用例/ 生成/ 方法/ 杨波/ 1/ )/ 吴际/ 1/ )/ 徐珞/ 1/ )/ ,/ 2/ )/ 毕考/ 1/ )/ 刘超/ 1/ )/ 1/ )/ (/ 北京航空航天大学/ 计算机/ 学院/ 北京/ 100191/ )/ 2/ )/ (/ 华北/ 计算机/ 研究所/ 北京/ 100083/ )/ 摘要/ 测试/ 在/ 需求/ 分析阶段/ 就/ 开始/ 介入/ ,/ 不仅/ 能/ 帮助/ 开发人员/ 更/ 有效/ 地/ 完善/ 需求/ ,/ 也/ 能/ 让/ 测试人员/ 设计/ 出/ 更/ 贴近/ 需求/ 的/ 测试/ ./ 同时/ 当/ 需求/ 进行/ 了/ 更改/ 之后/ ,/ 测试人员/ 也/ 能/ 及时/ 和/ 准确/ 地/ 了解/ 需求/ 的/ 变化/ 、/ 更改/ 测试/ 需求/ ./ 利用/ 模型/ 驱动/ 的/ 思想/ ,/ 对/ 测试/ 需求/ 的/ 概念/ 进行/ 阐述/ ./ 定义/ 了/ 一种/ 测试/ 需求/ 的/ 元/ 模型/ 和/ 测试/ 需求/ 建模/ 方法/ ,/ 利用/ 测试/ 需求/ 建模/ 方法/ ,/ 可以/ 得到/ 测试/ 需求/ 模型/ ,/ 从而/ 得到/ 相应/ 的/ 测试/ 目标/ ,/ 生成/ 所/ 对应/ 的/ 测试用例/ ./ 并/ 给出/ 了/ 对/ SIP/ 协议/ 进行/ 测试/ 的/ 实验/ 分析/ ,/ 在/ 其中/ 体现/ 了/ 利用/ 测试/ 需求/ 建模/ 得出/ 的/ 测试/ 需求/ 模型/ 的/ 作用/ ./ 关键词/ 需求/ 工程/ ;/ 软件/ 需求/ ;/ 软件测试/ ;/ 测试/ 需求/ ;/ 模型/ ;/ 测试用例/ 1/ 引言/ 长时间/ 以来/ ,/ 需求/ 和/ 测试/ 被/ 认为/ 存在/ 先后/ 的/ 顺序/ 关系/ ./ 在/ 进行/ 软件/ 需求/ 分析阶段/ ,/ 测试/ 被/ 认为/ 还/ 没有/ 开始/ ./ 随着/ 软件/ 规模/ 的/ 扩大/ ,/ 这个/ 观点/ 得到/ 了/ 纠正/ ./ 软件/ 的/ 需求/ 与/ 测试/ 之间/ 存在/ 很/ 紧密/ 的/ 联系/ ,/ 很/ Dorothy/ [/ 1/ ]/ 指出/ ,/ 在/ 软件/ 的/ 需求/ 分析阶段/ ,/ 测试/ 就/ 开/ Page2/ 始/ 介入/ 的话/ ,/ 能够/ 使得/ 软件/ 的/ 需求/ 分析/ 更加/ 详尽/ ./ 软件系统/ 的/ 需求/ 是/ 软件系统/ 设计/ 与/ 实现/ 的/ 基础/ ,/ 需求/ 质量/ 会/ 影响/ 架构师/ 设计/ 出/ 的/ 架构/ 、/ 程序员/ 写出/ 代码/ ,/ 并且/ 也/ 会/ 影响/ 测试人员/ 进行/ 测试/ ./ 随着/ 软件系统/ 规模/ 和/ 复杂性/ 的/ 增加/ ,/ 软件测试/ 的/ 任务/ 也/ 变得/ 越来越/ 复杂/ 与/ 繁重/ ./ 为了/ 减少/ 测试/ 过程/ 的/ 盲目性/ ,/ 提高/ 测试/ 过程/ 的/ 效率/ ,/ 在/ 需求/ 分析/ 的/ 开始/ 阶段/ ,/ 就/ 对/ 测试/ 任务/ 进行/ 明确/ 的/ 分析/ ,/ 对/ 测试/ 目标/ 进行/ 有效/ 的/ 组织/ ,/ 并/ 进行/ 准确/ 的/ 记录/ 显得/ 尤为重要/ ./ 正如/ 需求/ 分析/ 是/ 软件系统/ 设计/ 与/ 实现/ 的/ 基础/ ,/ 软件测试/ 也/ 应该/ 以/ 准确/ 而/ 详尽/ 的/ 测试/ 需求/ 分析/ 为/ 基础/ ./ 有/ 以下/ 几个/ 特点/ :/ 在/ 尽可能/ 早/ 的/ 时候/ 就/ 开始/ 进行/ 的/ 软件测试/ 行为/ (/ 1/ )/ 软件/ 的/ 测试/ 在/ 被/ 测系统/ 的/ 需求/ 分析/ 之/ 时/ ,/ 就/ 应该/ 开始/ 进行/ ,/ 在/ 开发者/ 与/ 用户/ 进行/ 沟通/ 之后/ ,/ 双方/ 根据/ 系统/ 的/ 需要/ ,/ 以及/ 测试/ 的/ 需要/ ,/ 制定/ 出/ 相关/ 的/ 需求/ 之后/ ,/ 测试/ 的/ 需求/ 就/ 可以/ 通过/ 被/ 测系统/ 规格/ 说明/ 或/ 被/ 测系统/ 模型/ 建立/ ./ 这样/ 在/ 软件系统/ 生命周期/ 的/ 早期/ ,/ 测试人员/ 便/ 可/ 着手/ 设计/ 系统/ 的/ 测试计划/ 、/ 分析/ 系统/ 测试/ 任务/ 的/ 规模/ 并/ 对/ 合适/ 的/ 资源/ 进行/ 安排/ ./ 整个/ 从/ 需求/ 开始/ 阶段/ 就/ 进行/ 的/ 测试/ ,/ 不仅/ 对于/ 完善/ 需求/ 有/ 很大/ 的/ 帮助/ ,/ 同时/ 对/ 整个/ 测试/ 过程/ 来说/ 也/ 有着/ 十分/ 重要/ 的/ 意义/ ./ (/ 2/ )/ 在/ 理解/ 清楚/ 软件/ 需求/ 的/ 基础/ 之下/ ,/ 能够/ 对/ 软件/ 的/ 测试/ 规划/ 产生/ 积极/ 的/ 影响/ [/ 2/ ]/ ./ 如果/ 对/ 软件/ 的/ 需求/ 理解/ 有误/ ,/ 那么/ 将会/ 导致/ 对/ 测试/ 的/ 需求/ 理解/ 错误/ ,/ 使/ 测试/ 过程/ 产生/ 偏差/ ,/ 要/ 修正/ 测试/ 并/ 重新/ 实施/ 可能/ 会/ 造成/ 大量/ 的/ 人力/ 、/ 时间/ 与/ 资金/ 的/ 浪费/ ./ (/ 3/ )/ 软件/ 的/ 需求/ 有时/ 会/ 发生变化/ ,/ 这/ 在/ 很多/ 软件/ 项目/ 当中/ 非常/ 常见/ ,/ 而/ 往往/ 需求/ 的/ 变化/ 会/ 带来/ 测试/ 的/ 变化/ ,/ 从/ 软件/ 的/ 需求/ 分析阶段/ 就/ 开始/ 进行/ 软件测试/ 的/ 规划/ 与/ 设计/ ,/ 能够/ 在/ 需求/ 变化/ 时/ ,/ 准确/ 地/ 找到/ 测试/ 当中/ 可能/ 变化/ 的/ 内容/ ,/ 从而/ 快速/ 地/ 进行/ 相应/ 的/ 补充/ 或者/ 调整/ ./ (/ 4/ )/ 软件/ 的/ 需求/ 和/ 软件/ 的/ 测试/ 之间/ 没有/ 明显/ 的/ 先后/ 之分/ ,/ 需求/ 工程师/ 和/ 测试/ 工程师/ 之间/ 可以/ 相互合作/ ,/ 共同/ 完善/ 需求/ ,/ 这/ 对于/ 需求/ 很/ 重要/ ,/ 对/ 测试/ 也/ 很/ 重要/ ./ (/ 5/ )/ 在/ 软件开发/ 过程/ 中/ ,/ 软件缺陷/ 越早/ 被/ 发现/ ,/ 改正/ 它/ 的/ 代价/ 就/ 越/ 小/ ./ 根据/ 美国/ 国家标准/ 技术/ 研究所/ (/ NIST/ )/ 估计/ ,/ 在/ 发布/ 后/ 修正/ 缺陷/ 的/ 代价/ 是/ 在/ 单元测试/ 阶段/ 修正/ 的/ 30/ 倍/ ./ 而/ IBM/ 的/ 估计/ 更是/ 高达/ 上/ 百倍/ ./ 因此/ ,/ 遵循/ 尽早/ 开展/ 测试/ 的/ 原则/ ,/ 不仅/ 可以/ 提高/ 软件/ 质量/ ,/ 同时/ 也/ 能够/ 降低/ 开发成本/ ./ (/ 6/ )/ “/ 重用/ ”/ 是/ 软件开发/ 中/ 的/ 一个/ 重要/ 问题/ [/ 3/ -/ 5/ ]/ ./ 这种/ “/ 重用/ ”/ 的/ 思想/ 对/ 测试/ 也/ 产生/ 了/ 影响/ ./ 一方面/ ,/ 由于/ 被/ 测系统/ 中/ 存在/ 着/ 重用/ 的/ 功能模块/ ,/ 因此/ 势必/ 引发/ 了/ 对/ 重用/ 相应/ 的/ 测试用例/ 的/ 诉求/ ;/ 另一方面/ ,/ 大量/ 的/ 已有/ 测试/ 制品/ (/ 如/ 测试/ 设计/ 、/ 代码/ 、/ 自动化/ 工具/ 等/ )/ 对于/ 测试/ 系统/ 开发/ 而言/ 也/ 是/ 一笔/ 宝贵/ 的/ 财富/ ,/ 重用/ 这些/ 制品/ 势必/ 可以/ 提高/ 新/ 系统/ 的/ 开发/ 效率/ ./ 因此/ 在/ 测试/ 活动/ 变得/ 越来越/ 复杂/ 的/ 今天/ ,/ 需要/ 测试/ 需求/ 作为/ 测试/ 活动/ 的/ 基础/ ,/ 用于/ 描述/ 测试/ 目标/ ,/ 精确/ 定义/ 需要/ 测试/ 的/ 内容/ ,/ 并/ 指导/ 整个/ 测试/ 过程/ 的/ 进行/ ./ 在/ 不同/ 的/ 文献/ 与/ 测试工具/ 中/ ,/ 对于/ 测试/ 需求/ 有/ 不同/ 的/ 理解/ 和/ 描述/ 方式/ ./ IBM/ 公司/ RationalRobot/ ①/ 利用/ 自然语言/ 来/ 描述/ 测试/ 需求/ ,/ 并/ 以/ 层次结构/ 的/ 方式/ 进行/ 组织/ ,/ 以/ 作为/ 整个/ 测试/ 过程/ 的/ 基础/ ./ 欧洲/ 电信/ 标准化/ 协会/ (/ ETSI/ )/ 对/ 一致性/ 测试/ 过程/ 定义/ 了/ 一套/ 方法学/ [/ 6/ ]/ :/ 测试人员/ 首先/ 基于/ 被/ 测系统/ 需求/ 规格/ 说明/ 或/ 协议/ 标准/ 文档/ 等/ 设计/ 测试/ 套/ 结构/ (/ TestSuiteStructure/ ,/ TSS/ )/ 与/ 测试/ 目标/ (/ TestPurposes/ ,/ TP/ )/ ,/ 然后/ 通过/ 测试/ 目标/ TP/ 得到/ 抽象/ 测试用例/ (/ AbstractTestCases/ ,/ ATC/ )/ ,/ 通过/ 测试/ 套/ 结构/ 与/ 测试/ 目标/ (/ TSS/ &/ TP/ )/ 得到/ 抽象/ 测试/ 套/ (/ AbstractTestSuite/ ,/ ATS/ )/ ,/ 最后/ 通过/ 抽象/ 测试用例/ ATC/ 得到/ 可/ 执行/ 测试用例/ ,/ 通过/ 抽象/ 测试/ 套/ ATS/ 得到/ 可/ 执行/ 测试/ 套/ ./ 其中/ 测试/ 套/ 结构/ 与/ 测试/ 目标/ (/ TSS/ &/ TP/ )/ 起到/ 测试/ 需求/ 的/ 作用/ ,/ 对/ 测试/ 目标/ 进行/ 分组/ 并/ 描述/ ,/ 作为/ 后续/ 测试/ 活动/ 的/ 前提/ 与/ 基础/ ./ 测试/ 目标/ 的/ 概念/ 在/ 一致性/ 测试/ 领域/ 得到/ 了/ 广泛/ 的/ 接受/ ,/ 除了/ 欧洲/ 电信/ 标准化/ 协会/ 定义/ 了/ TPLan/ 语言/ [/ 7/ ]/ ,/ 用来/ 对/ 测试/ 目标/ 进行/ 半/ 形式化/ 的/ 描述/ 之外/ ./ Jard/ 等/ 人/ [/ 8/ ]/ 将/ TP/ 定义/ 为/ 一种/ 包含/ 接受/ 和/ 拒绝/ 两个/ 特殊/ 状态/ 的/ 输入输出/ 的/ 标记/ 迁移/ 系统/ ,/ 并且/ 通过/ 形式化/ 测试/ 目标/ ,/ 来/ 指导/ 测试用例/ 自动/ 生成/ ./ Tretmans/ 等/ 人/ [/ 9/ ]/ 也/ 研究/ 了/ 测试/ 目标/ 描述/ 和/ 自动测试/ 生成/ 问题/ ./ 另外/ ,/ conformiq/ ②/ 使用/ 模型/ 标注/ 的/ 方式/ 来/ 表达/ 测试/ 需求/ ,/ 在/ 利用/ conformiq/ 来/ 进行/ 测试/ 设计/ 时/ ,/ 需要/ 先/ 使用/ UML2/ ./ 0/ 的/ 状态机/ 模型/ 对/ SUT/ 进行/ 描述/ ,/ 接着/ 再/ 利用/ 专门/ 的/ 语言/ 来/ 对/ 状态机/ 模型/ 进行/ 标注/ ,/ 标记/ 出/ 那些/ 必须/ 要/ 覆盖/ 的/ 状态/ 和/ 迁移/ ./ 这些/ 标注/ 都/ 在/ 此后/ 的/ 测试/ 生成/ 阶段/ ,/ 成为/ 一个个/ 对应/ 的/ 测试/ 目标/ ,/ 这样/ 在/ 生成/ 测试用例/ 的/ 过程/ 当中/ ,/ conformiq/ ①/ ②/ Page3/ 可以/ 找到/ 相应/ 的/ 测试用例/ 来/ 覆盖/ 这些/ 目标/ ./ 考虑/ 到/ 测试/ 需求/ 在/ 不同/ 的/ 文献/ 和/ 工具/ 当中/ 的/ 理解/ 和/ 定义/ 并不相同/ ,/ 对/ 测试/ 的/ 需求/ 的/ 描述/ 方式/ 也/ 不/ 一样/ ./ 而/ 测试/ 的/ 需求/ 在/ 整个/ 测试/ 过程/ 当中/ 相当/ 重要/ ,/ 为此/ 提出/ 一种/ 测试/ 需求/ 模型/ ,/ 来/ 指导/ 测试人员/ 开展/ 后续/ 测试/ 活动/ 、/ 方便/ 测试人员/ 与/ 设计/ 人员/ 之间/ 的/ 沟通/ ,/ 还/ 可/ 在/ 之后/ 介绍/ 的/ 模型/ 驱动/ 测试/ 的/ 过程/ 中/ 对/ 测试/ 系统/ 模型/ 的/ 生成/ 提供/ 必要/ 信息/ ./ 模型/ 驱动/ 测试/ 使用/ 测试/ 模型表示/ 测试/ 架构/ 和/ 测试/ 行为/ ,/ 使用/ 图形化/ 的/ 方式/ 创建/ 测试/ 模型/ ./ 图形化/ 的/ 测试/ 模型/ 便于/ 测试人员/ 理解/ 和/ 修改/ ./ 这样/ 将/ 对/ 基于/ 特定/ 语言/ 的/ 难于/ 理解/ 的/ 测试/ 脚本/ 的/ 维护/ 转化成/ 对/ 通用/ 直观/ 的/ 测试用例/ 模型/ 的/ 维护/ ,/ 从而/ 降低/ 了/ 测试人员/ 的/ 工作量/ ,/ 提高/ 了/ 工作效率/ ./ 模型/ 驱动/ 测试/ 可以/ 实现/ 从/ 模型/ 到/ 测试/ 脚本/ 的/ 自动/ 转化/ ,/ 从而/ 保持/ 模型/ 和/ 测试/ 脚本/ 的/ 同步/ ./ 当/ 应用程序/ 发生/ 变动/ 时/ ,/ 测试人员/ 只/ 需要/ 对/ 测试/ 模型/ 进行/ 修改/ ,/ 并/ 通过/ 测试/ 模型/ 自动/ 生成/ 测试/ 脚本/ ./ 模型/ 驱动/ 测试/ 可以/ 有效/ 地/ 减少/ 测试/ 这一/ 软件开发/ 过程/ 中/ 初始/ 阶段/ 的/ 工作量/ ,/ 并/ 提高/ 测试/ 的/ 覆盖率/ [/ 10/ -/ 11/ ]/ ./ 目前/ ,/ 测试/ 占据/ 软件开发/ 项目/ 的/ 30/ %/ ~/ 70/ %/ 时间/ 和/ 资源/ 的/ 花费/ ./ 模型/ 驱动/ 测试/ 的/ 这种/ 新/ 的/ 方法/ 和/ 相关/ 的/ 工具集/ 将/ 提高/ 软件/ 开发者/ 和/ 测试者/ 工作效率/ ,/ 并且/ 在/ 保持/ 软件/ 质量/ 高标准/ 的/ 同时/ ,/ 减少/ 产品/ 投入/ 市场/ 的/ 时间/ ./ 测试/ 需求/ 模型/ 的/ 引入/ 是/ 模型/ 驱动/ 测试方法/ 学/ 的/ 完善/ 和/ 补充/ ,/ 在/ 系统/ 设计/ 模型/ 向/ 测试/ 设计/ 模型/ 的/ 转换/ 过程/ 中/ ,/ 测试/ 需求/ 模型/ 提供/ 必要/ 的/ 信息/ ,/ 对/ 转换/ 过程/ 起/ 指导作用/ ;/ 同时/ ,/ 通过/ 测试/ 目标/ 生成/ 测试用例/ ,/ 避免/ 了/ 基于/ 测试/ 过程/ 中/ 通过/ 某种/ 覆盖/ 准则/ 生成/ 测试用例/ 的/ 盲目性/ ,/ 实现/ 了/ 生成/ 的/ 测试用例/ 向/ 相应/ 的/ 被/ 测系统/ 需求/ 的/ 向上/ 追溯/ ,/ 使得/ 测试人员/ 更好/ 的/ 对/ 整个/ 测试/ 过程/ 进行/ 评估/ ./ 测试/ 需求/ 模型/ 的/ 应用/ 场景/ 如图/ 1/ 所示/ ./ 首先/ 通过/ 测试/ 需求/ 元/ 模型/ 及其/ 相关/ 约束/ 定义/ 测试/ 需求/ 建模语言/ ,/ 这是/ 整个/ 测试/ 需求/ 模型/ 的/ 基础/ ;/ 然后/ 基于/ 测试/ 需求/ 建模语言/ 的/ 定义/ 构造/ 可视化/ 的/ 建模/ 环境/ ,/ 用以/ 对/ 测试/ 需求/ 进行/ 建模/ 以及/ 对/ 测试/ 需求/ 模型/ 语义/ 正确性/ 的/ 自动化/ 验证/ ;/ 同时/ ,/ 定义/ 测试/ 需求/ 描述语言/ ,/ 可以/ 实现/ 由/ 测试/ 需求/ 模型/ 到/ 测试/ 需求/ 描述/ 脚本/ 的/ 自动/ 转换/ ;/ 最后/ ,/ 由/ 测试/ 需求/ 模型/ 可以/ 自动/ 生成/ 抽象/ 测试用例/ ./ 针对/ 软件/ 的/ 需求/ 和/ 软件/ 的/ 测试/ 之间/ 存在/ 的/ 关系/ ,/ 提出/ 了/ 一种/ 软件测试/ 需求/ 的/ 定义/ ,/ 并且/ 给出/ 了/ 测试/ 需求/ 建模/ 的/ 方法/ ,/ 利用/ 模型/ 驱动/ 的/ 思想/ ,/ 对/ 软件/ 的/ 测试/ 进行/ 设计/ ./ 第/ 2/ 节/ 提出/ 了/ 测试/ 需求/ 的/ 定义/ 和/ 测试/ 需求/ 模型/ ,/ 并且/ 给予/ 详细描述/ ;/ 第/ 3/ 节/ 主要/ 讲述/ 如何/ 从/ 测试/ 需求/ 模型/ 当中/ 的/ 描述/ 模型/ 生成/ 测试用例/ ;/ 第/ 4/ 节/ 给出/ 使用/ 本文/ 方法/ 进行/ 的/ 实验/ ,/ 并/ 对/ 实验/ 结果/ 进行/ 分析/ ;/ 第/ 5/ 节/ 给出/ 相关/ 工作/ 的/ 介绍/ ;/ 最后/ 在/ 第/ 6/ 节对/ 本文/ 工作/ 进行/ 总结/ 和/ 展望/ ./ 2/ 测试/ 需求/ 2.1/ 测试/ 需求/ 定义/ 件/ 工程/ 术语表/ [/ 12/ ]/ 中/ 对/ 软件/ 需求/ 的/ 定义/ ./ 本文/ 提出/ 的/ 测试/ 需求/ 的/ 定义/ ,/ 参考/ 了/ IEEE/ 软/ 测试/ 需求/ 的/ 定义/ 如下/ ./ (/ 1/ )/ 为了/ 达到/ 用户/ 的/ 测试/ 目标/ ,/ 测试/ 系统/ 需要/ 满足/ 的/ 条件/ 或/ 能力/ ./ (/ 2/ )/ 为了/ 满足/ 合同/ 、/ 测试/ 标准/ 、/ 规范/ 或/ 其他/ 强制性/ 要求/ ,/ 测试/ 系统/ 需要/ 具备/ 的/ 条件/ 和/ 能力/ ./ (/ 3/ )/ 对于/ (/ 1/ )/ 或/ (/ 2/ )/ 中/ 条件/ 或/ 能力/ 的/ 清晰/ 的/ 、/ 无/ 二义性/ 的/ 表述/ ./ 测试/ 需求/ 的/ 好坏/ 与/ 整个/ 测试/ 过程/ 紧密/ 相关/ ,/ 对于/ 一个/ 良好/ 的/ 测试/ 需求/ ,/ 我们/ 希望/ 它/ 能够/ 具备/ 以下/ 6/ 个/ 特征/ :/ (/ 1/ )/ 完整性/ ./ 测试/ 需求/ 当中/ 的/ 每一项/ 内容/ 都/ 必须/ 是/ 描述/ 清楚/ 的/ ,/ 以便/ 测试人员/ 在/ 测试/ 时/ 获得/ 所/ 需要/ 的/ 必要/ 的/ 信息/ ./ (/ 2/ )/ 正确性/ ./ 正确/ 反应/ 了/ 测试/ 任务/ 和/ 用户/ 的/ 要求/ ./ (/ 3/ )/ 可追溯/ 性/ ./ 从/ 测试/ 需求/ 可/ 向上/ 回溯到/ 系统/ 需求/ 和/ 设计/ ,/ 向下/ 追踪/ 到/ 测试用例/ ./ (/ 4/ )/ 清晰性/ ./ 测试/ 需求/ 描述/ 是/ 清晰/ 的/ 、/ 无/ 二义性/ 的/ ,/ 为了/ 保证/ 测试/ 需求/ 的/ 清晰性/ ,/ 测试/ 需求/ 建模语言/ Page4/ (/ 6/ )/ 可行性/ ./ 每一项/ 测试/ 需求/ 在/ 已有/ 的/ 条件/ 下/ 必须/ 具备/ 尽可能/ 严格/ 的/ 语法/ 和/ 语义/ 定义/ ./ (/ 5/ )/ 一致性/ ./ 测试/ 需求/ 中/ 各/ 部分/ 内容/ 的/ 描述/ 是/ 一致/ 的/ ,/ 不/ 存在/ 相互/ 矛盾/ 的/ 地方/ ,/ 在/ 建模/ 元素/ 之间/ 的/ 关联/ 关系/ 和/ 约束/ 关系/ 要/ 进行/ 明确/ 的/ 定义/ ./ 都/ 是/ 可以/ 测试/ 、/ 可以/ 实施/ 的/ ./ 2.2/ 测试/ 需求/ 模型/ 随着/ 软件系统/ 的/ 复杂程度/ 越来越/ 高/ ,/ 如何/ 有效/ 地/ 对/ 软件系统/ 进行/ 测试/ 成为/ 了/ 重点/ 关注/ 的/ 问题/ ./ 模型/ 驱动/ 测试/ [/ 8/ ]/ 是/ 一种/ 新颖/ 而/ 具有/ 发展前景/ 的/ 自动化/ 测试方法/ ,/ 它/ 为/ 测试人员/ 提供/ 了/ 简便/ 有效/ 的/ 方式/ ,/ 从而/ 来/ 实现/ 高效/ 自动化/ 的/ 测试/ ./ 这种/ 新/ 的/ 方法/ 及其/ 工具集/ 不仅/ 能够/ 提高/ 测试人员/ 的/ 工作效率/ ,/ 并且/ 能够/ 减少/ 产品/ 投入/ 市场/ 的/ 时间/ ./ 测试/ 需求/ 模型/ 需要/ 能够/ 对/ 测试/ 需求/ 进行/ 可视化/ 、/ 无/ 二义性/ 的/ 描述/ ,/ 因此/ 该/ 模型/ 需要/ 描述/ 哪些方面/ 是/ 需要/ 被/ 测试/ 的/ :/ 模型/ 需要/ 具备/ 严格/ 的/ 语法/ 和/ 语义/ ,/ 将/ 测试/ 需求/ 和/ 被/ 测系统/ 的/ 功能/ 以及/ 性能需求/ 对应/ ;/ 该/ 模型/ 还/ 需要/ 是/ 能够/ 保证/ 测试/ 是/ 完整/ 的/ ,/ 这样/ 可以/ 通过/ 模型/ 检查/ 的/ 技术/ ,/ 来/ 保证/ 模型/ 各/ 部分/ 具有/ 一致性/ ;/ 测试/ 需求/ 模型/ 能够/ 指导/ 测试/ 的/ 设计/ 与/ 测试用例/ 图/ 2/ 测试/ 需求/ 元/ 模型/ 测试/ 需求/ 元/ 模型/ 主要/ 分为/ 4/ 个/ 部分/ :/ 测试/ 特征/ 元/ 模型/ (/ 图/ 2/ 中/ 的/ TestCharacteristicDiagram/ )/ 、/ 基于/ 被/ 测系统/ 用例/ 的/ 测试/ 需求/ 描述/ 元/ 模型/ (/ 图/ 2/ 中/ 的/ UseCaseDiagram/ )/ 、/ 基于/ 被/ 测系统/ 构件/ 的/ 测试/ 需求/ 描述/ 元/ 模型/ (/ 图/ 2/ 中/ 的/ SUTArchitecture/ )/ 以及/ 测试/ 目标/ 分组/ 及/ 描述/ 元/ 模型/ (/ 图/ 2/ 中/ TestPurpose/ -/ GroupDiagram/ )/ ./ 它们/ 分别/ 从/ 不同/ 的/ 方面/ 对/ 测试/ 需求/ 进行/ 描述/ ./ 这/ 4/ 个/ 部分/ 相对/ 独立/ 但/ 又/ 相互/ 关联/ ,/ 对于/ 完整/ 的/ 测试/ 需求/ 模型/ 而言/ 缺一不可/ ./ 的/ 生成/ ,/ 这样/ 使得/ 测试/ 需求/ 具有/ 可行性/ ;/ 测试/ 需求/ 模型/ 还/ 能/ 建立/ 起/ 被/ 测系统/ 需求/ 到/ 测试/ 设计/ 的/ 可追溯/ 的/ 关系/ ./ 在/ 接下来/ ,/ 将/ 用/ 测试/ 需求/ 的/ 元/ 模型/ 对/ 测试/ 需求/ 模型/ 进行/ 详细/ 的/ 描述/ ./ 2.2/ ./ 1/ 测试/ 需求/ 元/ 模型/ 随着/ UML/ 与/ MDA/ 的/ 兴起/ 和/ 流行/ ,/ 模型/ 已经/ 成为/ 软件开发/ 的/ 核心/ 制品/ ,/ 而/ 模型/ 重要性/ 的/ 提升/ 使得/ 建模语言/ 以及/ 定义/ 建模语言/ 的/ 元/ 模型/ 逐渐/ 成为/ 软件开发/ 中/ 的/ 一个/ 核心/ 要素/ ./ 软件开发/ 往往/ 涉及/ 多个/ 领域/ ,/ 而/ 不同/ 的/ 领域/ 往往/ 需要/ 不同/ 的/ 建模语言/ 及/ 建模/ 工具/ ./ 但是/ ,/ 手工/ 地为/ 不同/ 的/ 建模语言/ 开发/ 建模/ 工具/ 代价/ 高昂/ ./ 元/ 建模/ 技术/ [/ 13/ ]/ 是/ 解决/ 这个/ 问题/ 的/ 方法/ 之一/ ,/ 通过/ 元/ 建模/ ,/ 可以/ 根据/ 领域/ 需要/ 定制/ 合适/ 的/ 元/ 模型/ 以/ 定义/ 领域建模/ 语言/ ,/ 进而/ 自动/ 生成/ 支持/ 该/ 建模语言/ 的/ 建模/ 工具/ ./ 大量/ 的/ 工程/ 实践/ 表明/ ,/ 与/ 领域建模/ 以及/ MDA/ 相结合/ ,/ 元/ 建模/ 可以/ 大幅度/ 地/ 提高/ 软件开发/ 效率/ ./ 测试/ 需求/ 元/ 模型/ 作为/ 测试/ 需求/ 建模/ 的/ 基础/ ,/ 定义/ 了/ 测试/ 需求/ 模型/ 中/ 的/ 各种/ 核心/ 概念/ 以及/ 核心/ 概念/ 之间/ 的/ 关系/ 与/ 依赖/ ./ 本文/ 提出/ 的/ 测试/ 需求/ 模型/ 的/ 元/ 模型/ 如图/ 2/ 所示/ ./ 2.2/ ./ 2/ 测试/ 特征/ 元/ 模型/ 测试/ 特征/ 的/ 概念/ 参考/ 了/ OMG/ 对/ 服务质量/ 特征/ 的/ 定义/ ./ 测试/ 特征/ ①/ (/ 图/ 3/ 中/ 的/ TestCharacteristic/ )/ 是/ 一组/ 可/ 定量/ 表达/ 的/ 特性/ ,/ 独立/ 于/ 其/ 所/ 度量/ 的/ 具体/ 元素/ ./ 测试/ 特征/ 可以/ 是/ 对/ 测试/ 过程/ 中/ 被/ 测系统/ 行为/ 特征/ 的/ 描述/ ,/ 如/ 响应/ 时间/ 等/ ,/ 也/ 可以/ 用于/ 描述/ 测试/ 系统/ 自身/ 的/ 特征/ ,/ 如/ 测试/ 系统/ 需/ 模拟/ 并发/ 用户/ 的/ 数目/ 以及/ 测试数据/ 选择/ 策略/ 等/ ./ 测试/ 需求/ 建模语言/ 的/ 设计/ 使得/ 建模/ 人员/ 可以/ 将/ 测试/ 特征/ 针对/ 领域/ 进行/ 扩/ Page5/ 展/ ,/ 使得/ 测试/ 特征/ 的/ 核心内容/ 不至于/ 过于/ 庞大/ ,/ 同时/ 也/ 可/ 满足/ 不同/ 领域/ 测试人员/ 的/ 需要/ ./ 测试/ 特征/ 的/ 维度/ (/ 图/ 3/ 中/ 的/ Dimension/ )/ 是/ 对/ 测试/ 特征描述/ 进行/ 量化/ 表达/ 的/ 视角/ 与/ 方法/ ./ 如当/ 测试/ 特征/ 为/ 某/ 一/ 系统/ 函数/ 的/ 响应/ 时间/ 时/ ,/ 测试人员/ 选择/ 的/ 度量/ 方式/ 可以/ 是/ 函数/ 一次/ 执行/ 的/ 延迟/ 、/ 所有/ 执行/ 的/ 平均/ 延迟/ 或是/ 延迟时间/ 的/ 方差/ ./ 测试/ 特征/ 可能/ 需图/ 3/ 测试/ 特征/ 元/ 模型/ 2.2/ ./ 3/ 测试/ 目标/ 分组/ 及/ 描述/ 元/ 模型/ 测试/ 目标/ 的/ 规格/ 说明/ 需要/ 具有/ 一定/ 的/ 逻辑/ 结构/ [/ 7/ ]/ ./ 在/ 本文/ 中/ 采用/ 分组/ 的/ 方式/ 对/ 测试/ 目标/ 进行/ 组织/ ./ 如/ 可以/ 通过/ 区分/ 测试/ 目标/ (/ 图/ 4/ 中/ 的/ TestPurpose/ )/ 为/ 功能性/ 测试/ 还/ 是非/ 功能性/ 测试/ 、/ 测试/ 目标/ 涉及/ 哪个/ 功能模块/ 等/ 方式/ 将/ 测试/ 目标/ 进行/ 分组/ ./ 对/ 测试/ 分组/ (/ 图/ 4/ 中/ 的/ TestGroup/ )/ 的/ 划分/ 可以/ 有/ 不同/ 的/ 粒度/ ,/ 每个/ 分组/ 可以/ 有/ 自己/ 的/ 子/ 分组/ ,/ 直至/ 具体/ 到/ 相应/ 的/ 测试/ 目标/ ./ 对于/ 每/ 一个/ 测试/ 目标/ ,/ 都/ 需要/ 对/ 其/ 进行/ 相应/ 的/ 描述/ ./ 测试/ 目标/ 是从/ 执行/ 某一/ 特定/ 的/ 测试/ 场景/ 或者/ 路径/ ,/ 或是/ 验证/ 特定/ 需求/ 的/ 特性/ 角度/ 对/ 测试用例/ 的/ 一个/ 精确/ 目标/ 的/ 描述/ ./ 测试/ 目标/ 比/ 测试用例/ 更加/ 抽象/ ,/ 更加/ 简洁/ ,/ 更加/ 清晰/ 并/ 独立/ 于/ 被/ 测系统/ 的/ 设计/ 与/ 实现/ ./ 本文/ 对/ 测试/ 目标/ 描述/ 的/ 定义/ 参考/ 了/ UML/ 顺序/ 图/ ,/ 采用/ 类/ 顺序/ 图/ 的/ 形式/ 来/ 实现/ 对/ 测试/ 目标/ 的/ 描述/ ./ 在/ 本文/ 中/ ,/ 测试/ 目标/ 实际上/ 是/ 测试人员/ 所/ 关注/ 的/ 测试/ 系统/ 与/ 被/ 测系统/ 交互/ 的/ 消息/ 序列/ ,/ 测试/ 需求/ 描要/ 若干/ 不同/ 维度/ 的/ 量化/ 值/ ,/ 如/ 被/ 测/ 系统可靠性/ 这一/ 测试/ 特征/ ,/ 需要/ 修复/ 时间/ 、/ 失效/ 时间/ 等/ 度量/ 方式/ ./ 单一/ 的/ 量化/ 值/ 无法/ 全面/ 的/ 对/ 测试/ 特征/ 进行/ 描述/ ./ 因此/ 测试/ 特征/ 维度/ 的/ 引入/ 是/ 十分必要/ 的/ ./ 另外/ 一个/ 与/ 测试/ 特征/ 密切相关/ 的/ 概念/ 是/ 测试/ 约束/ ./ 测试/ 约束/ 在/ 测试/ 目标/ 分组/ 与/ 描述/ 模型/ 中/ 用于/ 对/ 相应/ 的/ 测试/ 目标/ 进行/ 约束/ ./ 述/ 中/ 的/ 发送/ 消息/ (/ 图/ 4/ 中/ 的/ SendMessage/ )/ 与/ 接收/ 消息/ (/ 图/ 4/ 中/ 的/ ReceiveMessage/ )/ 表示/ 测试人员/ 在/ 本/ 测试/ 目标/ 中/ 所/ 关注/ 的/ 消息/ 序列/ ,/ 希望/ 测试用例/ 可以/ 对/ 其/ 进行/ 覆盖/ ./ 而/ 拒绝/ 消息/ (/ 图/ 4/ 中/ 的/ RefuseRe/ -/ ceiveMessage/ )/ 表示/ 测试人员/ 所/ 不/ 关心/ 的/ 消息/ ,/ 即/ 不/ 希望/ 测试用例/ 执行/ 时/ 测试/ 系统/ 会/ 与/ 被/ 测系统/ 就此/ 消息/ 进行/ 交互/ ./ 同时/ ,/ 在/ 测试/ 需求/ 描述/ 中/ 可以/ 引入/ 测试/ 约束/ 模型/ 元素/ 用于/ 对/ 测试/ 目标/ 进行/ 约束/ ./ 测试/ 约束/ 对/ 与/ 之/ 相关联/ 的/ 测试/ 特征/ (/ 图/ 3/ 中/ 的/ TestCharacteristic/ )/ 的/ 取值/ 进行/ 了/ 约束/ ./ 测试/ 约束/ 有/ 两种/ 类型/ (/ 图/ 4/ 中/ 的/ ConstraintConnectionType/ )/ ,/ 其中/ OFFERED/ 类型/ 为/ 测试/ 系统/ 自身/ 需要/ 满足/ 的/ 约束/ ,/ 测试/ 系统/ 需/ 满足/ 此/ 约束条件/ 才能/ 正确/ 完成/ 测试/ 工作/ ,/ 如/ 测试/ 系统模拟/ 的/ 并发/ 用户/ 数目/ 必须/ 达到/ 某一值/ ,/ 或/ 测试/ 系统/ 提供/ 的/ 数据/ 必须/ 约束/ 在/ 某/ 一/ 特定/ 区间/ 之内/ ./ 而/ REQUIRED/ 类型/ 的/ 测试/ 约束/ 为/ 被/ 测系统/ 的/ 行为/ 需/ 满足/ 的/ 约束/ ,/ 如/ 被/ 测系统/ 响应/ 时间/ 需/ 小于/ 某一/ 确定/ 值/ ./ Page6/ 图/ 4/ 测试/ 目标/ 分组/ 及/ 描述/ 元/ 模型/ 2.2/ ./ 4/ 基于/ 被/ 测系统/ 构件/ 的/ 测试/ 需求/ 描述/ 元/ 模型/ 基于/ 被/ 测系统/ 构件/ 的/ 测试/ 需求/ 描述/ 模型/ 通过/ 对/ 被/ 测系统/ 相应/ 的/ 构件/ 图/ 进行/ 标注/ ,/ 来/ 描述/ 测试/ 需求/ 中/ 的/ 被/ 测/ 软件/ 实体/ EUT/ 与/ 测试/ 端口/ ./ 对/ 测试人员/ 关注/ 的/ 构件/ (/ 图/ 5/ 中/ Component/ )/ 进行/ 标注/ (/ 图/ 5/ 中/ TestObjectEUT/ )/ 表示/ 此/ 构件/ 为/ 被/ 测/ 软件/ 实体/ ,/ 在/ 后续/ 的/ 测试/ 过程/ 中/ 需要/ 对/ 其/ 进行/ 相应/ 测试/ ;/ 定义/ 测试/ 系统/ 的/ 端口/ (/ 图/ 5/ 中/ TestObjectPort/ )/ 用于/ 标注/ 相应/ 图/ 5/ 基于/ 被/ 测系统/ 构件/ 的/ 测试/ 需求/ 描述/ 元/ 模型/ 的/ 被/ 测系统/ 接口/ (/ 图/ 5/ 中/ Interface/ )/ ,/ 并/ 定义/ 允许/ 的/ 输入/ 消息/ 类型/ 与/ 输出/ 消息/ 类型/ ./ 2.2/ ./ 5/ 基于/ 被/ 测系统/ 用例/ 的/ 测试/ 需求/ 描述/ 元/ 模型/ 用例/ 图/ 是/ 一种/ 基于/ 场景/ 的/ 可视化/ 表示/ 方法/ ,/ 用来/ 描述/ 和/ 论证/ 系统/ 大/ 粒度/ 的/ 行为/ 模式/ 及其/ 连接/ 方式/ ,/ 它/ 为/ 高级/ 的/ 体系结构/ 设计/ 提供/ 了/ 系统/ 行为/ 框架/ 并/ 从/ 体系结构/ 的/ 角度/ 给/ 系统/ 行为/ 赋予/ 了/ 一定/ 的/ 特征/ ,/ 测试人员/ 利用/ 它/ 可以/ 从/ 较/ 高/ 的/ 抽象层次/ 来/ 理解/ Page7/ 系统/ 的/ 行为/ ./ 从/ 用户/ 的/ 观点/ 出发/ 对系统/ 建立/ 模型/ 是/ 用/ 例要/ 完成/ 的/ 任务/ ,/ 一组/ 用例/ 就/ 是从/ 用户/ 的/ 角度/ 出发/ 对/ 如何/ 使用/ 系统/ 的/ 描述/ ./ 因此/ 用例/ 为/ 测试/ 提供/ 了/ 良好/ 的/ 基础/ ./ 基于/ 被/ 测系统/ 用例/ 的/ 测试/ 需求/ 描述/ 模型/ 以/ 被/ 测系统/ 的/ 用/ 例图/ 为/ 基础/ ,/ 如图/ 6/ 所示/ ./ 根据/ 测试/ 目标/ 分组/ 及/ 描述/ 模型/ 中/ 定义/ 的/ 测试/ 目标/ 对/ 相应/ 的/ 用例/ (/ 图/ 6/ 中/ 的/ UseCase/ )/ 进行/ 标注/ (/ 图/ 6/ 中/ 的/ TestPur/ -/ poseForUseCase/ )/ ,/ 向/ 测试人员/ 指明/ 对此/ 用例/ 的/ 测试/ 对应/ 于/ 哪/ 一/ 测试/ 目标/ ./ 通过/ 测试/ 目标/ 生成/ 相应/ 的/ 测试用例/ 集/ 之后/ ,/ 测试人员/ 便/ 可/ 使用/ 此/ 测试用例/ 集对/ 用例/ 进行/ 相应/ 测试/ ./ 图/ 6/ 基于/ 被/ 测系统/ 用例/ 的/ 测试/ 需求/ 描述/ 元/ 模型/ 表/ 1/ 基于/ 用例/ 的/ 测试/ 需求/ 描述/ 元/ 模型/ 的/ 约束/ 与/ 测试/ 特征/ 元/ 模型/ 的/ 约束/ 约束/ 1/ :/ 对/ 用例/ 进行/ 标注/ 的/ 测试/ 目标/ 必须/ 在/ 测试/ 目标/ 分组/ 及/ 描述/ 模型/ 中/ 已/ 定义/ 约束/ 2/ :/ 用例/ 参与者/ 需/ 与/ 相应/ 用例/ 相关联/ 约束/ 3/ :/ 用例/ 不能/ 重名/ 约束/ 4/ :/ 测试/ 目标/ 标注/ 必须/ 对/ 相应/ 用例/ 进行/ 标注/ 约束/ 5/ :/ 测试/ 特征/ 不能/ 重名/ contextTestCharacteristics2/ ./ 4/ 模型/ 验证/ 虽然/ 模型/ 的/ 语法/ 符合要求/ ,/ 但/ 可能/ 会/ 因为/ 测试/ 2.3/ 元/ 模型/ OCL/ 约束/ 对/ 测试/ 需求/ 元/ 模型/ 进行/ 定义/ 之后/ ,/ 还/ 需要/ 使用/ OCL/ [/ 14/ -/ 15/ ]/ 对/ 测试/ 需求/ 元/ 模型/ 进行/ 相应/ 约束/ ,/ 以/ 保证/ 测试人员/ 建立/ 的/ 测试/ 需求/ 模型/ 在/ 语义上/ 的/ 正确性/ ./ 对/ 测试/ 需求/ 元/ 模型/ 的/ 约束/ 按/ 模型/ 元素/ 所在/ 的/ 不同/ 组成部分/ 进行/ 了/ 分类/ ,/ 以/ 基于/ 用例/ 的/ 测试/ 需求/ 描述/ 元/ 模型/ 与/ 测试/ 特征/ 元/ 模型/ 的/ OCL/ 约束/ 为例/ ./ 该/ 约束/ 如表/ 1/ 所示/ ./ 表/ 1/ 为/ 基于/ 用例/ 的/ 测试/ 需求/ 描述/ 元/ 模型/ 与/ 测试/ 特征/ 元/ 模型/ 的/ OCL/ 约束/ ,/ 主要/ 包括/ 对/ 用例/ 的/ 测试/ 需求/ 标注/ 的/ 相应/ 约束/ (/ 约束/ 1/ )/ 以及/ 对用/ 例及/ 参与者/ 的/ 相应/ 约束/ (/ 约束/ 2/ 、/ 3/ )/ ./ 人员/ 的/ 疏忽/ 或/ 测试/ 需求/ 分析/ 本身/ 的/ 错误/ ,/ 导致/ 模型/ 在/ 语义上/ 存在/ 错误/ ./ 例如/ 用于/ 标注/ 某个/ 用例/ 的/ 测试/ Page8/ 目标/ 未/ 在/ 测试/ 目标/ 分组/ 与/ 描述/ 模型/ 中/ 定义/ ,/ 或是/ 不同/ 的/ 测试/ 目标/ 拥有/ 相同/ 的/ ID/ 等/ ./ 如果/ 存在/ 这些/ 错误/ ,/ 测试人员/ 很难/ 人工/ 的/ 去/ 对/ 测试/ 需求/ 模型/ 元素/ 进行/ 逐个/ 检查/ ,/ 这样/ 不仅/ 时间/ 代价/ 过大/ ,/ 效果/ 也/ 极/ 不/ 理想/ ./ 因此/ ,/ 测试/ 需求/ 模型/ 语义/ 检查/ 的/ 自动化/ 是/ 十分必要/ 的/ ./ 通过/ 设置/ 测试/ 需求/ 模型/ 的/ 语义/ 约束/ 规则/ ./ 当/ 使用/ OCL/ 进行/ 约束/ 时/ ,/ 以元/ 模型/ 中/ 的/ 元类/ 为/ 上下文/ (/ context/ )/ 的/ 每个/ 不变式/ (/ invariant/ )/ 在/ 这个/ 元类/ 的/ 实例/ 的/ 整个/ 生命周期/ 中/ 必须/ 为/ 真/ ,/ 这些/ 不变式/ 是/ 模型/ 中/ 模型/ 元素/ 必须/ 满足/ 的/ 约束/ ./ OCL/ 语言/ 给出/ 了/ 对/ 测试/ 需求/ 元/ 模型/ 的/ 无/ 二义性/ 的/ 约束/ ,/ 其/ 每/ 一/ 约束/ 都/ 对应/ 于/ 对/ 测试/ 需求/ 模型/ 的/ 一条/ 约束/ 规则/ ./ 通过/ 这样/ 约束/ 的/ 规则/ ,/ 可以/ 对模型/ 进行/ 验证/ ./ 2.5/ 测试/ 需求/ 描述/ 脚本/ 测试/ 需求/ 描述/ 脚本/ 以/ 简练/ 的/ 形式/ 描述/ 并/ 保存/ 了/ 对/ 测试/ 需求/ 的/ 描述/ ,/ 测试/ 需求/ 建模/ 方法/ 可/ 通过/ 测试/ 需求/ 模型/ 自动/ 生成/ 测试/ 需求/ 描述/ 脚本/ ./ 在/ 需要/ 的/ 情况/ 下/ ,/ 测试人员/ 可/ 基于/ 被/ 测系统/ 模型/ 通过/ 测试/ 需求/ 描述/ 脚本/ 还原/ 测试/ 需求/ 模型/ ./ 为了/ 规范/ 生成/ 测试/ 需求/ 描述/ 脚本/ ,/ 定义/ 了/ 一种/ 测试/ 需求/ 描述语言/ ,/ 用于/ 测试人员/ 编写/ 测试/ 需求/ 描述/ 脚本/ ,/ 作为/ 对/ 测试/ 需求/ 的/ 文本/ 描述/ 形式/ ./ 相较/ 于/ 测试/ 需求/ 模型/ ,/ 测试/ 需求/ 描述/ 脚本/ 剥离/ 了/ 被/ 测系统/ 模型/ 中/ 与/ 测试/ 需求/ 无关/ 的/ 部分/ ,/ 如/ 被/ 测系统/ 各个/ 不/ 需要/ 被/ 测试/ 的/ 构件/ 与/ 接口/ 的/ 关系/ 、/ 各用例/ 与/ 参与者/ 之间/ 的/ 关系/ 等/ ./ 测试/ 需求/ 描述/ 脚本/ 以/ 简练/ 的/ 形式/ 描述/ 并/ 保存/ 了/ 对/ 测试/ 需求/ 的/ 描述/ ,/ 测试/ 需求/ 建模/ 平台/ 可/ 通过/ 测试/ 需求/ 模型/ 自动/ 生成/ 测试/ 需求/ 描述/ 脚本/ ./ 在/ 需要/ 的/ 情况/ 下/ ,/ 测试人员/ 可/ 基于/ 被/ 测系统/ 模型/ 通过/ 测试/ 需求/ 描述/ 脚本/ 还原/ 测试/ 需求/ 模型/ ./ 3/ 基于/ 测试/ 需求/ 模型/ 的/ 测试用例/ 生成/ 测试/ 需求/ 模型/ 对/ 测试/ 需求/ 进行/ 了/ 直观/ 且/ 无/ 二义性/ 的/ 描述/ ,/ 作为/ 整个/ 测试/ 活动/ 的/ 基础/ ,/ 能/ 对/ 后续/ 测试/ 过程/ 进行/ 有效/ 的/ 指导/ ./ 通过/ 测试/ 需求/ 模型/ 与/ 被/ 测系统/ 模型/ 生成/ 测试用例/ ,/ 所/ 生成/ 的/ 测试用例/ 对应/ 于/ 测试/ 需求/ 模型/ 中/ 相应/ 的/ 测试/ 目标/ ,/ 通过/ 此/ 测试/ 目标/ 可/ 进一步/ 追溯到/ 作为/ 测试/ 目标/ 设计/ 依据/ 的/ 被/ 测系统/ 需求/ ,/ 从而/ 实现/ 了/ 从/ 系统/ 需求/ 到/ 测试用例/ 的/ 向下/ 追踪/ 与/ 从/ 测试用例/ 向/ 系统/ 需求/ 的/ 向上/ 回溯/ ./ 3.1/ 输入输出/ 的/ 标记/ 迁移/ 系统/ 测试用例/ 通过/ 被/ 测系统/ 模型/ 与/ 测试/ 需求/ 模型/ 中/ 的/ 测试/ 目标/ 描述/ 模型/ 生成/ ./ 首先/ 需将/ 被/ 测系统/ 的/ 状态图/ 模型/ (/ 在/ 经过/ 需求/ 分析阶段/ ,/ 经过/ 多次/ 的/ 与/ 用户/ 沟通/ ,/ 可以/ 借助/ 相关/ 的/ 建模/ 工具/ 得到/ )/ ./ 转换/ 为/ 标记/ 迁移/ 系统/ ./ 标记/ 迁移/ 系统/ 是/ 一种/ 在/ 计算机辅助/ 设计/ 和/ 验证/ 中/ 得到/ 广泛/ 使用/ 的/ 形式/ 模型/ ,/ 其/ 结点/ 代表/ 系统/ 的/ 状态/ 或/ 配置/ ,/ 边/ 代表/ 在/ 行为/ 发生/ 时/ 状态/ 或/ 配置/ 之间/ 的/ 转移/ ./ 本文/ 对/ 标记/ 迁移/ 系统/ 进行/ 适当/ 的/ 扩展/ ,/ 以/ 区分/ 输入/ 行为/ 与/ 输出/ 行为/ ,/ 称其为/ 输入输出/ 标记/ 迁移/ 系统/ ./ 它/ 是/ 一个/ 四元组/ ,/ 定义/ 如下/ :/ 其中/ ,/ QM/ 是/ 状态/ 的/ 有/ 穷/ 非/ 空集合/ ,/ qM0/ / QM/ 是/ 初始状态/ ./ AM/ 是/ 行为/ 字母表/ ,/ 它/ 被/ 划分/ 为/ 两个/ 子/ :/ AM/ =/ AMI/ ∪/ AMO/ ./ 其中/ AMI/ 是/ 输入/ 字母表/ ,/ AMO/ 是/ 输出/ 字母表/ ./ →/ M/ / QM/ ×/ AM/ ×/ QM/ 为/ 状态/ 转移/ 函数/ ./ 为/ 方便/ 描述/ ,/ 以/ 字符/ ?/ 开头/ 的/ 行为/ 表示/ 输入/ 行为/ ,/ 以/ 字符/ !/ 开头/ 的/ 行为/ 表示/ 输出/ 行为/ ,/ 如/ ?/ a/ 表示/ 输入/ 行为/ a/ ,/ 即/ a/ / AMO/ ;/ !/ b/ 表示/ 输出/ 行为/ b/ ,/ 即/ b/ / AMO/ ./ 3.2/ 测试用例/ 生成/ 为了/ 得到/ 测试用例/ ,/ 需要/ 将/ 被/ 测系统/ 的/ 状态图/ 模型/ 转换/ 为/ 标记/ 迁移/ 系统/ S/ (/ Specification/ )/ :/ S/ =/ (/ QS/ ,/ AS/ ,/ →/ S/ ,/ qS0/ )/ ./ 其/ 行为/ 字母表/ AS/ =/ ASI/ ∪/ ASO/ ,/ ASI/ 与/ ASO/ 分别/ 为/ 被/ 测系统/ 的/ 输入/ 与/ 输出/ ./ 根据/ 测试/ 系统/ 的/ 状态图/ ,/ 利用/ 标记/ 迁移/ 系统/ S/ 生成/ 算法/ ,/ 可以/ 得到/ 对应/ 的/ 标记/ 迁移/ 系统/ ,/ 在/ 标记/ 迁移/ 系统/ S/ 生成/ 算法/ 中/ ,/ 首先/ 通过/ ConstructFrom/ (/ SpecificationNodenode/ )/ 方法/ 以/ 被/ 测系统/ 状态图/ 模型/ 的/ 开始/ 状态/ 为/ 起点/ 对/ 状态图/ 模型/ 进行/ 遍历/ ,/ 将/ 其/ 结构/ 信息/ 保存/ 在/ 标记/ 迁移/ 系统/ 中/ ,/ 然后/ 将/ 标记/ 迁移/ 系统/ 中/ 同时/ 拥有/ 输入输出/ 消息/ 的/ 转移/ 进行/ 分裂/ ,/ 并/ 插入/ 新/ 建立/ 的/ 中间状态/ 节点/ ./ 生成/ 算法/ 如下/ 所示/ ./ 于/ 输入/ 消息/ 与/ 输出/ 消息/ ,/ 设置/ 算法/ 1/ ./ 标记/ 迁移/ 系统/ S/ 生成/ ./ 输入/ :/ 被/ 测系统/ 状态图/ Statechart/ 输出/ :/ 元素/ 类型/ 为/ SpecificationNode/ 的/ 顺序/ 容器/ SListBEGIN/ 得到/ Statechart/ 的/ BeginState/ 状态/ ;/ 构造/ BeginState/ 的/ 相应/ SpecificationNode/ 对象/ 调用/ 方法/ ConstructFrom/ (/ BeginSN/ )/ ;/ FORSList/ 中/ 的/ 每个/ 元素/ 的/ 每个/ 转移/ 信息/ (/ Specifi/ -/ IF/ 转移/ 信息/ 对应/ 的/ Statechart/ 中/ 的/ Transition/ 同/ THEN/ 将/ 此/ 转移/ 信息/ 分裂/ 为/ 两条/ 转移/ ,/ 分别/ 对应/ cationNodeAndEdge/ 对象/ )/ 时/ 拥有/ 输入/ 与/ 输出/ 消息/ BeginSN/ 并/ 添加/ 到/ 容器/ SList/ ;/ Page9/ 创建/ 新/ 的/ SpecificationNode/ 它们/ 的/ message/ 属性/ 与/ messageType/ 属性/ ,/ 并/ 作为/ 这/ 两个/ 转移/ 的/ 中间/ 节点/ ;/ ELSE/ 设置/ 相应/ message/ 属性/ 与/ messageType/ 属性/ ;/ ENDIFENDFOREND/ 例如/ :/ 图/ 7/ 显示/ 了/ 某/ 被/ 测系统/ 的/ 状态图/ 与/ 标记/ 迁移/ 系统/ S/ ./ 测试/ 需求/ 模型/ 中/ 的/ 测试/ 目标/ 描述/ 模型/ 同样/ 需要/ 转化/ 为/ 相应/ 的/ 标记/ 迁移/ 系统/ TP/ (/ TestPurpose/ )/ ,/ 以/ 作为/ 测试/ 选择/ 的/ 指导/ 规则/ ,/ 标记/ 迁移/ 系统/ TP/ 的/ 定义/ 如下/ :/ 其/ 拥有/ 两种/ 结束/ 状态/ :/ AcceptTP/ / QTP/ ,/ RefuseTP/ / QTP/ ./ 它/ 的/ 行为/ 字母表/ 与/ 标记/ 迁移/ 系统/ S/ 的/ 行为/ 字母表/ 相同/ ,/ 即/ ATP/ =/ AS/ ./ AcceptTP/ 表示/ 状态/ 被/ 测试/ 目标/ 所/ 接受/ ,/ 如果/ 达到/ 此/ 状态/ ,/ 则/ 测试/ 判定/ 成功/ ,/ 测试通过/ ;/ RefuseTP/ 表示/ 状态/ 在/ 此/ 测试/ 目标/ 下/ 不/ 被/ 关注/ ,/ 测试/ 判定/ 未定义/ ./ 例如/ :/ 图/ 8/ 左侧/ 为/ 图/ 7/ 所示/ 的/ 测试/ 需求/ 模型/ 中/ 的/ 测试/ 需求/ 描述/ 模型/ 视图/ ./ 在/ 测试/ 需求/ 描述/ 中/ ,/ 由/ 被/ 测系统/ 向/ 测试/ 系统/ 反馈/ 的/ 消息/ 若/ 使用/ 虚线/ 图符/ ,/ 表示/ 此/ 测试/ 目标/ 拒绝/ 此/ 消息/ ,/ 即此/ 测试/ 目标/ 不/ 关注/ 到达/ 此/ 消息/ 的/ 消息/ 序列/ ./ 图/ 8/ 中/ 右边/ 的/ 图形/ 为/ 左侧/ 模型/ 生成/ 的/ 测试/ 目标/ TP/ ,/ 需要/ 强调/ 的/ 是/ ,/ 在/ 测试/ 目标/ 中/ 定义/ 的/ 消息/ 序列/ 仅仅/ 限定/ 了/ 它们/ 的/ 先后/ 次序/ ,/ 并/ 不/ 要求/ 它们/ 是/ 连续/ 的/ ,/ 在/ 系统/ 的/ 实际/ 行为/ 中/ 它们/ 之间/ 可/ 存在/ 其它/ 消息/ 或/ 消息/ 序列/ ,/ 由此/ 也/ 体现/ 了/ 测试/ 目标/ 的/ 抽象性/ ./ 从图/ 8/ 中/ 可以/ 看出/ ,/ 当/ 测试/ 需求/ 描述/ 中/ 的/ 测试/ 系统/ 向/ 被/ 测系统/ 发送/ 输入/ 消息/ ,/ 如果/ 得到/ 的/ 输出/ 是/ 消息/ H/ ,/ 测试/ 目标/ 则/ 会/ 拒绝/ 此/ 消息/ ./ 如果/ 在/ 一定/ 的/ 时限/ 之内/ 没有/ 收到/ 消息/ 为/ H/ 的/ 输出/ ,/ 测试/ 系统/ 将会/ 向/ 被/ 测系统/ 发送/ 输入/ 0/ ,/ 如果/ 在/ 之后/ 收到/ 被/ 测系统/ 的/ 输出/ 消息/ 为/ P/ ,/ 测试/ 目标/ 则/ 会/ 接受/ 此/ 消息/ ./ 在/ 分别/ 生成/ 标记/ 迁移/ 系统/ S/ 与/ 标记/ 迁移/ 系统/ TP/ 后/ ,/ 需要/ 将/ 它们/ 进行/ 同步/ 为/ 新/ 的/ 标记/ 迁移/ 系统/ ,/ 以/ 得到/ 标记/ 迁移/ 系统/ S/ 中/ 被/ 标记/ 迁移/ 系统/ TP/ 所/ 接受/ 的/ 行为/ 以及/ 被/ 标记/ 迁移/ 系统/ TP/ 所/ 拒绝/ 的/ 行为/ ./ 标记/ 迁移/ 系统/ S/ 与/ 测试/ 目标/ 的/ TP/ 的/ 同步/ S/ ×/ TP/ 是/ 一个/ 输入输出/ 标记/ 迁移/ 系统/ SP/ =/ (/ QSP/ ,/ ASP/ ,/ →/ SP/ ,/ qSP0/ )/ ,/ SP/ 有/ 两个/ 不/ 相交/ 的/ 状态/ 集合/ :/ AcceptSP/ / QSP/ ,/ RefuseSP/ / QSP/ ./ 标记/ 迁移/ 系统/ SP/ 标识/ 出/ 了/ 标记/ 迁移/ 系统/ S/ 中/ 被/ 标记/ 迁移/ 系统/ TP/ 接受/ 的/ 行为/ (/ 如果/ 被/ 测系统/ 行为/ 这些/ 行为/ 序列/ 一致/ ,/ 则/ 测试通过/ )/ 与/ 被/ 标记/ 迁移/ 系统/ TP/ 拒绝/ 的/ 行为/ (/ 表示/ 测试/ 目标/ 不/ 关心/ 被/ 测系统/ 的/ 这些/ 行为/ )/ ./ 接下来/ 需要/ 通过/ 选择/ 标记/ 迁移/ 系统/ SP/ 中/ 被/ 测试/ 目标/ 接受/ 的/ 行为/ 来/ 得到/ 相应/ 的/ 测试用例/ ./ 一个/ 测试/ 目标/ 可能/ 对应/ 很多/ 个/ 测试用例/ ,/ 首先/ 通过/ 标记/ 迁移/ 系统/ SP/ 生成/ 包含/ 对应/ 测试/ 目标/ 所有/ 测试用例/ 信息/ 的/ 标记/ 迁移/ 系统/ ATC/ (/ AllTestCases/ )/ ,/ ATC/ =/ (/ QATC/ ,/ AATC/ ,/ →/ ATC/ ,/ qATC0/ )/ ,/ ATC/ 拥有/ 两个/ 结束/ 状态/ :/ Pass/ / QATC/ ,/ Fail/ / QATC/ ,/ 它们/ 分别/ 代表/ 对/ 测试/ 的/ 不同/ 判定/ ./ 由图/ 7/ 的/ 标记/ 迁移/ 系统/ S/ 与/ 图/ 8/ 的/ 标记/ 迁移/ 系统/ TP/ ,/ 可以/ 得到/ 标记/ 迁移/ 系统/ SP/ 和/ ATC/ ,/ 如图/ 9Page10/ 所示/ ./ 图/ 9/ 左侧/ 的/ 标记/ 迁移/ 系统/ SP/ 由图/ 7/ 中/ 的/ 标记/ 图/ 9/ 标记/ 迁移/ 系统/ SP/ 与/ ATC/ 算法/ 2/ ./ 标记/ 迁移/ 系统/ SP/ 生成/ ./ 输入/ :/ 标记/ 迁移/ 系统/ S/ ,/ 标记/ 迁移/ 系统/ TP/ 输出/ :/ 元素/ 类型/ 为/ SPNode/ 的/ 顺序/ 容器/ SPListBEGIN/ 由/ 标记/ 迁移/ 系统/ S/ 与/ 标记/ 迁移/ 系统/ TP/ 的/ 初始/ 节点/ 创建/ SPNode/ 类型/ 的/ 对象/ init/ ;/ 为/ SPList/ 添加/ 对象/ init/ ,/ 置/ init/ 的/ 相应/ tag/ 值为/ 0/ ,/ 表示/ 未/ 被/ 处理/ ;/ FORSPList/ 中/ 每个/ tag/ 为/ 0/ 的/ 元素/ element/ 通过/ element/ 的/ S/ _/ id/ 得到/ 标记/ 迁移/ 系统/ S/ 中/ 相应/ 状态/ 节点/ Snode/ ;/ 相应/ 状态/ 节点/ TPnode/ ;/ 通过/ element/ 的/ TP/ _/ id/ 得到/ 标记/ 迁移/ 系统/ TP/ 中/ FORSnode/ 的/ 每个/ 后继/ 转移/ Sne/ 创建/ SPNode/ 类型/ 的/ 对象/ child/ ;/ IFTPnode/ 有/ 后继/ 转移/ TPne/ ,/ 且/ 其/ 消息/ 与/ Sne/ 上/ 的/ 消息/ 相同/ THEN/ 由/ TPne/ 对应/ 的/ 后继/ 状态/ 的/ id/ 与/ Sne/ 对应/ 的/ 后继/ 状态/ 的/ id/ 初始化/ SPNode/ 类型/ 的/ 对象/ child/ ;/ ELSE/ 由/ TPne/ 对应/ 的/ 后继/ 状态/ 的/ id/ 与/ element/ 的/ ENDIF/ 在/ element/ 的/ children/ 容器/ 中中/ 加入/ SPNode/ 对/ 迁移/ 系统/ S/ 与/ 图/ 8/ 中/ 的/ 标记/ 迁移/ 系统/ TP/ 生成/ ./ 下面/ 给出/ 标记/ 迁移/ 系统/ SP/ 的/ 生成/ 算法/ ./ 置/ child/ 的/ verdict/ 值/ 与/ TP/ 中/ 相应/ 状态/ 节点/ IFSPList/ 中/ 没有/ childTHEN/ 将/ child/ 加入/ SPList/ ;/ 置/ child/ 相应/ tag/ 为/ 1/ ;/ ENDIFENDFORENDFOR/ 从/ SPList/ 中/ 的/ Accept/ 状态/ 节点/ 开始/ ,/ 对/ 标记/ 迁移/ 系/ END/ 最后/ ,/ 通过/ ATC/ 生成/ 相应/ 的/ 测试用例/ 集/ ./ 首先/ 生成/ 标记/ 迁移/ 系统/ 形式/ 的/ 测试用例/ TC/ :/ TC/ =/ (/ QTC/ ,/ ATC/ ,/ →/ TC/ ,/ qTC0/ )/ ./ 其/ 拥有/ 两种/ 结束/ 状态/ :/ Pass/ / QTC/ ,/ Fail/ / QTC/ ,/ 它们/ 分别/ 代表/ 对/ 测试/ 结果/ 的/ 不同/ 判定/ ./ 行为/ 字母表/ ATC/ =/ ATC/ 试用/ 例/ 的/ 输出/ 必须/ 为/ 被/ 测系统/ 的/ 允许/ 输入/ ;/ ATCO/ ,/ 即/ 测试用例/ 的/ 输入/ 只能/ 为/ 被/ 测系统/ 的/ 输出/ ./ AS/ 图/ 10/ 展示/ 了/ 通过/ 图/ 9/ 中/ 的/ ATC/ 所/ 生成/ 的/ 测试用例/ 集/ ./ 以/ 初始/ 节点/ 为/ 起点/ ,/ 搜索/ 可/ 到达/ Pass/ 状态/ 节点/ 的/ 所有/ 路径/ ,/ 其中/ 每一/ 路径/ 与/ 路径/ 中/ 状态/ 节点/ 到/ 节点/ 的/ 转移/ 为/ 一个/ 测试用例/ ,/ 由此/ 得到/ 此/ 测试/ 目标/ 对应/ 的/ 测试用例/ 集/ ./ Page114/ 实验/ 分析/ 4.1/ 实验/ 方案设计/ 目前/ 人们/ 使用/ 的/ 网络/ 主要/ 有/ 两种/ ,/ 一种/ 是/ 语音网络/ ,/ 一种/ 是/ 数据网络/ ./ 语音/ 网/ (/ 例如/ PSTN/ )/ 使用/ 电路/ 交换/ ,/ 质量/ 和/ 流量/ 控制/ 等/ 被/ 嵌入/ 网络/ 中/ ./ PSTN/ 网/ 可以/ 保证/ 语音/ 质量/ ,/ 但/ 不能/ 有效/ 地/ 使用/ 网络资源/ ,/ 同时/ 也/ 很/ 难/ 扩展/ 新/ 的/ 业务/ ./ 数据网/ (/ 例如/ Internet/ )/ 使用/ 分组/ 交换/ ,/ 质量/ 和/ 流量/ 控制/ 等/ 则/ 在/ 终端/ 系统/ 中/ 实现/ ,/ 因而/ 更加/ 灵活/ ,/ 更加/ 容易/ 扩展/ ,/ 也/ 更/ 容易/ 实现/ 新/ 的/ 业务/ ./ 近年来/ 由于/ 数据网/ 的/ 快速/ 发展/ ,/ 出现/ 了/ IP电话/ ./ IP电话/ 有/ 两套/ 独立/ 的/ 协议/ ,/ H/ ./ 323/ 以及/ SIP/ ./ H/ ./ 323/ 协议/ 是/ 由/ ITU/ 提出/ 的/ ,/ 同时/ 也/ 是/ 实现/ 最多/ 的/ 协议/ ,/ 被/ 众多/ 产品/ 支持/ ./ SIP/ 协议/ 是/ 由/ IETF/ 提出/ 的/ ,/ 提出/ 时间/ 相对/ 晚/ 一些/ ,/ 然而/ 由于/ 它/ 具有/ 很/ 好/ 的/ 可扩展性/ ,/ 互操作性/ ,/ 协议/ 本身/ 也/ 更/ 简单/ 一些/ ,/ SIP/ 正/ 变得/ 更加/ 流行/ ./ 个/ 简单/ 流程/ ,/ 这个/ 流程/ 如下/ ./ 含有/ 会话/ 请求/ 的/ INVITE/ 消息/ ;/ 实验/ 选取/ 了/ SIP/ 协议/ 建立/ 会话/ 并/ 进行/ 释放/ 的/ 一/ 1/ ./ 用户/ 代理/ A/ 通过/ 代理服务器/ 向/ 用户/ 代理/ B/ 发送/ 包/ 2/ ./ 用户/ 代理/ B/ 根据/ INVITE/ 消息/ 中/ 携带/ 的/ 会/ 话/ 描述符/ 信息/ ,/ 通过/ 代理服务器/ 向/ 用户/ 代理/ A/ 回送/ 一个/ “/ 180/ 振铃/ ”/ 作为/ 应答/ ;/ 3/ ./ 若/ 用户/ 代理/ B/ 的/ 用户/ 接受/ 呼叫/ ,/ 则/ 用户/ 代理/ B/ 返回/ 一个/ “/ 200OK/ ”/ 应答/ ;/ 4/ ./ 用户/ 代理/ A/ 收到/ “/ 200OK/ ”/ 应答/ 后/ 发出/ 一个/ ACK/ 请求/ ,/ 完成/ 一个/ 三次/ 握手/ 过程/ ,/ 会话/ 开始/ ;/ 5/ ./ 当/ 用户/ 代理/ A/ 的/ 用户/ 希望/ 结束/ 会话/ 时/ ,/ 通过/ 用户/ 代理/ A/ 直接/ 向/ 用户/ 代理/ B/ 发送/ 一个/ 请求/ ;/ BYE/ 请求/ 返回/ 一个/ “/ 200OK/ ”/ 应答/ ./ 6/ ./ 用户/ 代理/ B/ 收到/ BYE/ 请求/ 后/ 结束/ 会话/ ,/ 并/ 为/ 这个/ 通过/ SIP/ 的/ 这个/ 工作/ 流程/ ,/ 进行/ 如下/ 实验/ :/ 1/ ./ 建立/ 被/ 测系统/ 的/ 测试/ 需求/ 模型/ ;/ 2/ ./ 在/ 测试/ 需求/ 模型/ 中/ 人为/ 插入/ 语义/ 故障/ ,/ 模型/ 验证/ 对模型/ 进行/ 自动/ 语义/ 验证/ 并/ 报告/ 相应/ 错误/ ;/ 3/ ./ 通过/ 测试/ 需求/ 模型/ 生成/ 相应/ 测试/ 需求/ 描述/ 脚本/ ;/ 4/ ./ 生成/ 相应/ 测试/ 目标/ 描述/ 对应/ 的/ 测试用例/ ./ 4.2/ 实验/ 结果/ 以及/ 分析/ 本文/ 基于/ Eclipse3/ ./ 5/ 、/ GMF2/ ./ 2/ 版本/ 开发/ 了/ 测试/ 需求/ 模型/ 可视化/ 系统/ ./ 型/ 编辑器/ 包括/ 菜单/ 视图/ 、/ 导航/ 视图/ 、/ 属性/ 视图/ 、/ 编辑器/ 视图/ 和/ 工具栏/ ./ 基于/ GMF/ 开发/ 的/ 模型/ 编辑器/ 的/ 编辑器/ 视图/ 中/ 的/ 图形/ 显示/ 对应/ 两个/ xml/ 格式文件/ ,/ 提供/ 了/ 对模型/ 元素/ 语义/ 和/ 模型/ 元素/ 图形化/ 表示/ 的/ 存储/ 功能/ ./ 1/ ./ 测试/ 需求/ 建模/ 实验/ 根据/ SIP/ 协议/ 标准/ [/ 16/ ]/ 建立/ 相应/ 的/ 测试/ 需求/ 模型/ ./ 测试/ 特征/ 分为/ 通用/ 测试/ 特征/ (/ generalchar/ -/ acteristics/ )/ 与/ 测试人员/ 为/ 对/ SIP/ 测试/ 所/ 特化/ 的/ 测试/ 特征/ (/ SIPspecifiedcharacteristics/ )/ ./ 通用/ 测试/ 特征/ Sequence/ 的/ 维度/ consecutive/ 用于/ 表示/ 在/ 测试/ 目标/ 中/ 定义/ 的/ 消息/ 序列/ 是否/ 需要/ 在/ 其/ 相应/ 的/ 测试用例/ 中/ 连续/ 出现/ ;/ 通用/ 测试/ 特征/ Load/ 的/ 维度/ concurrency/ 用于/ 表示/ 测试/ 中/ 的/ 并发/ 数/ ;/ 通用/ 测试/ 特征/ Response/ -/ Time/ 的/ 维度/ duration/ 表示/ 相应/ 的/ 时间/ 间隔/ ,/ 而/ 测试/ 特征/ SIP/ _/ ResponseTime/ 特化/ 了/ ResponseTime/ ,/ 表示/ 测试/ 中/ 相应/ 的/ 时间/ 间隔/ (/ 维度/ duration/ )/ 以/ 毫秒/ (/ ms/ )/ 为/ 单位/ ./ 根据/ 上面/ 的/ 流程/ ,/ 可以/ 得到/ 测试/ 特征/ 模型/ 视图/ ./ 如图/ 11/ 所示/ ./ 利用/ 测试/ 需求/ 模型/ 可视化/ 系统/ ,/ 建立/ 测试/ 目标/ 分组/ 及/ 描述/ 模型/ 视图/ ./ 此/ 视图/ 以/ 树形/ 结构/ 展示/ 测试/ 目标/ 分组/ ./ 与/ 根/ 节点/ 相关联/ 的/ 矩形/ 内为/ 对/ 相应/ 测试/ 分组/ 的/ 描述/ ./ 对于/ 测试/ 分组/ 节点/ 与/ 测试/ 目标/ 节点/ 可/ 进行/ 相应/ 的/ 测试/ 约束/ 标注/ ,/ 如图/ 中/ 的/ 测试/ 约束/ 上下文/ 为/ Load/ ,/ 表示/ 此/ 测试/ 约束/ 对应/ 的/ 测试/ 特征/ 的/ 名字/ ;/ 测试/ 约束/ 项/ 限定/ 了/ 对应/ 测试/ 特征/ 维度/ 的/ 取值/ ,/ 要/ Page12/ 求/ 测试/ 系统/ 的/ 并发/ 数在/ 190/ 与/ 200/ 之间/ ,/ 由于/ 是/ 对/ 测试/ 系统/ 的/ 约束/ ,/ 因此/ 约束/ 类型/ 为/ OFFERED/ ./ 测试/ 图/ 12/ 测试/ 目标/ 分组/ 及/ 描述/ 模型/ 视图/ 图/ 13/ 为/ 测试/ 目标/ 节点/ TP/ -/ 2/ 对应/ 的/ 测试/ 目标/ 描述/ 模型/ 视图/ ,/ 用于/ 描述/ 在/ 此/ 测试/ 目标/ 中/ 所/ 关注/ 的/ 测试/ 消息/ 序列/ ,/ 作为/ 指导/ 测试人员/ 设计/ 测试用例/ 或是/ 自动/ 生成/ 测试用例/ 的/ 基础/ ./ 此/ 测试/ 目标/ 主要/ 关注/ SIP/ 协议/ 中/ 通话/ 结束/ 后/ 的/ 释放/ 过程/ :/ 期望/ 测试/ 系统模拟/ 远端/ 用户/ 代理/ 通过/ SIP/ 端口/ 向/ 被/ 测系统/ (/ 本地用户/ 代理/ )/ 发送/ 消息/ BYE/ ,/ 若/ 被/ 测系统/ 通过/ SIP/ 端口/ 返回/ 消息/ 200/ _/ for/ _/ BYE/ 则/ 测试通过/ ,/ 在/ 这/ 两条/ 消息/ 中/ 可以/ 存在/ 其他/ 的/ 消息/ 序列/ ,/ 并/ 不/ 要求/ 它们/ 是/ 连续/ 的/ ./ 在/ 图/ 13/ 中/ 对/ 发送/ 消息/ BYE/ 与/ 返回/ 消息/ 200/ _/ for/ _/ BYE/ 进行/ 了/ 相应/ 的/ 测试/ 约束/ 标注/ ,/ 测试/ 约束/ 对应/ 于/ 测试/ 特征/ 模型/ 中/ 的/ 测试/ 特征/ SIP/ _/ Response/ -/ Time/ ,/ 约束/ 项对/ 测试/ 特征/ 的/ 维度/ duration/ 的/ 取值/ 进行/ 了/ 约束/ ,/ 表示/ 这/ 两条/ 消息/ 之间/ 的/ 时间/ 间隔/ 需/ 小于/ 500ms/ ,/ 这/ 是/ 对/ 被/ 测系统/ 响应/ 时间/ 的/ 要求/ ,/ 因此/ 测试/ 约束/ 类型/ 为/ REQUIRED/ ./ 基于/ 用例/ 的/ 测试/ 需求/ 描述/ 模型/ 如图/ 14/ 所示/ ./ 参与者/ 分别/ 为/ 客户/ 代理/ (/ UserAgent/ )/ 与/ 代理服务器/ 目标/ 分组/ 树以/ 测试/ 目标/ 节点/ 为叶/ 节点/ ./ 测试/ 目标/ 节点/ TP/ -/ 2/ 所/ 显示/ 的/ 测试/ 目标/ 描述/ 模型/ 如图/ 12/ 所示/ ./ (/ SIPProxyServer/ )/ ./ 用例/ 图中/ 只/ 对/ 3/ 个/ 用例/ 进行/ 了/ 建模/ ,/ 其中/ 用例/ CallAsCaller/ 表示/ 本地用户/ 代理/ 通过/ 代理服务器/ 向/ 远端/ 用户/ 代理/ 发起/ 对话/ ,/ 与其/ 关联/ 的/ 矩形/ 为/ 测试/ 需求/ 标注/ ,/ 表示/ 此用例/ 对应/ 的/ 测试/ 目标/ 为/ TP/ -/ 1/ ;/ 用例/ RemoteHangUp/ 表示/ 远端/ 用户/ 代理/ 主动/ 结束/ 对话/ ,/ 对应/ 测试/ 目标/ 为/ TP/ -/ 2/ ;/ 用例/ User/ -/ HangUp/ 表示/ 发起/ 对话/ 的/ 本地用户/ 代理/ 结束/ 对话/ ,/ 对应/ 测试/ 目标/ 为/ TP/ -/ 3/ ./ 对/ SIP/ 协议/ 建立/ 的/ 测试/ 需求/ 模型/ 中/ 基于/ 被/ 测系统/ 构件/ 的/ 测试/ 需求/ 描述/ 模型/ 视图/ 如图/ 15/ 所示/ ./ 构造型/ 为/ 〈/ 〈/ Component/ 〉/ 〉/ 的/ 矩形/ 为/ 被/ 测系统/ 构件/ ,/ 构造型/ 为/ 〈/ 〈/ interface/ 〉/ 〉/ 的/ 矩形/ 为/ 被/ 测系统/ 接口/ ./ 对/ 被/ 测系统/ 构件/ 的/ 标注/ 表示/ 此/ 构件/ 为/ 被/ 测/ 软件/ 实体/ EUT/ ,/ 下图/ 表示/ 仅/ 需/ 对/ Main/ _/ Control/ 构件/ (/ 对应/ 于/ 客户/ 代理/ )/ 与/ SIP/ _/ Protocol/ 构件/ (/ 对应/ 于/ SIP/ 协议/ 的/ 具体/ Page13/ 实现/ )/ 进行/ 测试/ ,/ 而/ 并/ 不/ 关注/ SIP/ 协议/ 所/ 处理/ 的/ 具体/ 多媒体/ 会话/ 及/ 相应/ 的/ 实时/ 传输/ 协议/ (/ RTP/ )/ ,/ 因此/ Media/ _/ Manager/ 构件/ 与/ RTP/ _/ Protocol/ 构件/ 未/ 被/ 标注/ ./ 对/ 被/ 测系统/ 接口/ 的/ 标注/ 表示/ 测试/ 系统/ 通过/ 相应/ 的/ 端口/ 与/ 此/ 接口/ 通信/ ,/ 并/ 定义/ 了/ 端口/ 允许/ 通过/ 的/ 消息/ 类型/ ./ 下图/ 中/ GUI/ 接口/ 允许/ 的/ 输入/ 消息/ 类型/ 为/ 用户/ 操作/ UserOp/ 类型/ ,/ 允许/ 的/ 输出/ 类型/ 为/ 显示/ 消息/ PromptMsg/ 类型/ ;/ SIP/ 接口/ 允许/ 的/ 输入/ 、/ 输出/ 消息/ 类型/ 均/ 为/ SIP/ 消息/ 类型/ SipMsg/ ./ 图/ 15/ 基于/ 被/ 测系统/ 构件/ 的/ 测试/ 需求/ 描述/ 模型/ 视图/ 2/ ./ 在/ 测试/ 需求/ 模型/ 中/ 人为/ 插入/ 语义/ 故障/ ,/ 模型/ 验证/ 对模型/ 进行/ 自动/ 语义/ 验证/ 并/ 报告/ 相应/ 错误/ ./ 测试/ 需求/ 模型/ 中/ 人为/ 插入/ 若干/ 有/ 代表性/ 的/ 语义/ 故障/ 以/ 检测/ 测试/ 验证/ 能否/ 自动识别/ ./ 为此/ ,/ 对/ 所/ 建立/ 的/ 测试/ 需求/ 模型/ 元素/ 进行/ 了/ 如下/ 更改/ 以/ 插入/ 故障/ :/ (/ 1/ )/ 删除/ 测试/ 目标/ 分组/ 及/ 描述/ 模型/ 中/ 的/ TP/ -/ 3/ 测试/ 目标/ 节点/ ;/ 使/ 测试/ 需求/ 模型/ 不/ 满足/ 测试/ 目标/ 分组/ 与/ 描述/ 元/ 模型/ 的/ 约束/ 集合/ 中/ 的/ 约束/ 1/ 以及/ 表/ 1/ 中/ 的/ 约束/ 1/ ;/ (/ 2/ )/ 将/ 基于/ 被/ 测系统/ 构件/ 的/ 测试/ 需求/ 描述/ 模型/ 中/ 的/ TP/ -/ 2/ 测试/ 目标/ 节点/ 的/ 测试/ 目标/ 描述/ 模型/ 中/ SIP/ _/ ResponseTime/ 约束/ 的/ duration/ 维度/ 的/ Dimen/ -/ sionName/ 属性/ 更/ 改为/ “/ delaying/ ”/ ;/ 使/ 测试/ 需求/ 模型/ 不/ 满足/ 描述/ 元/ 模型/ 的/ 约束/ 集合/ 中/ 约束/ 8/ ;/ (/ 3/ )/ 将/ 测试/ 特征/ 模型/ 中/ 测试/ 特征/ Load/ 的/ name/ 属性/ 更/ 改为/ “/ Sequence/ ”/ ,/ 与/ 测试/ 特征/ Sequence/ 的/ name/ 属性/ 相同/ ;/ 使/ 测试/ 需求/ 模型/ 不/ 满足/ 描述/ 元/ 模型/ 的/ 约束/ 集合/ 中/ 的/ 约束/ 7/ 与表/ 1/ 中/ 的/ 约束/ 5/ ;/ (/ 4/ )/ 删除/ 基于/ 被/ 测系统/ 构件/ 的/ 测试/ 需求/ 描述/ 模型/ 中/ 的/ Main/ _/ Control/ 组件/ 的/ 测试/ 需求/ 标注/ ;/ 使/ 测试/ 需求/ 模型/ 不/ 满足/ 基于/ 用例/ 的/ 测试/ 需求/ 描述/ 元/ 模型/ 的/ 约束/ 与/ 测试/ 特征/ 元/ 模型/ 的/ 约束/ 集合/ 中/ 的/ 约束/ 6/ ;/ (/ 5/ )/ 删除/ 基于/ 被/ 测系统/ 构件/ 的/ 测试/ 需求/ 描述/ 模型/ 中/ 的/ GUI/ 接口/ 的/ 测试/ 需求/ 标注/ 中/ 的/ PortOut/ ;/ 使/ 测试/ 需求/ 模型/ 不/ 满足/ 基于/ 用例/ 的/ 测试/ 需求/ 描述/ 元/ 模型/ 的/ 约束/ 与/ 测试/ 特征/ 元/ 模型/ 的/ 约束/ 集合/ 中/ 的/ 约束/ 1/ ;/ (/ 6/ )/ 更改/ 基于/ 被/ 测系统/ 构件/ 的/ 测试/ 需求/ 描述/ 模型/ 中/ 的/ SIP/ 接口/ name/ 属性/ 为/ “/ NetPort/ ”/ ;/ 使/ 测试/ 需求/ 模型/ 不/ 满足/ 测试/ 目标/ 分组/ 与/ 描述/ 元/ 模型/ 的/ 约束/ 集合/ 中/ 的/ 约束/ 6/ ;/ 插入/ 上述/ 典型/ 的/ 语义/ 故障/ 之后/ ,/ 在/ 测试/ 需求/ 模型/ 可视化/ 系统对/ 测试/ 需求/ 模型/ 进行/ 自动/ 验证/ ,/ 显示/ 的/ 错误信息/ 图/ 16/ 所示/ 的/ ./ 其中/ error1/ 由/ 上面/ 的/ 更改/ 3/ 引起/ ;/ error2/ 由/ 更改/ 5/ 引起/ ;/ error3/ 与/ error8/ 由/ 更改/ 4/ 引起/ ;/ error4/ 与/ error5/ 由/ 更改/ 6/ 引起/ ;/ error6/ 由/ 更改/ 2/ 引起/ ;/ error7/ 与/ error9/ 由/ 更改/ 1/ 引起/ ./ 脚本/ ./ 3/ ./ 通过/ 测试/ 需求/ 模型/ 生成/ 相应/ 测试/ 需求/ 描述/ 4/ ./ 生成/ 相应/ 测试/ 目标/ 描述/ 对应/ 的/ 测试用例/ ./ 选取/ 建立/ 的/ 测试/ 需求/ 模型/ 内/ 的/ 测试/ 目标/ TP/ -/ 2/ 来/ 生成/ 其/ 相应/ 的/ 测试用例/ 集/ ./ 图/ 17/ 为/ 通过/ 测试/ 需求/ 模型/ 可视化/ 系统/ 建立/ 的/ SIP/ 状态图/ 模型/ ,/ 表示/ 客户/ 代理/ 的/ 状态/ 转移/ 过程/ ,/ 作为/ 生成/ 测试用例/ 所/ 需/ 的/ 被/ 测系统/ 模型/ ./ 图中/ 除了/ 会话/ 建立/ 与/ 释放/ 的/ 过程/ ,/ 还/ 包括/ 取消/ (/ CANCEL/ )/ 会话/ 的/ 过程/ ,/ 如/ 状态图/ 中/ 的/ 转移/ T7/ 、/ T12/ 、/ T13/ 以及/ T14/ ./ 被/ 测系统/ 状态图/ 模型/ 中/ 转移/ 的/ 描述/ 对应/ 着/ 相应/ 转移/ 的/ 触发/ 消息/ 以及/ 在/ 转移/ 过程/ 中/ 被/ 测系统/ 的/ 反馈/ 消息/ ./ 如图/ 17/ 所示/ ,/ SIP/ 从/ “/ Init/ ”/ 状态/ 到/ “/ Calling/ ”/ 状态/ 的/ 转移/ 所/ 对应/ 的/ 描述/ 为/ “/ T1GUI/ :/ invite/ // SIP/ :/ INVITE/ ”/ ,/ 其中/ “/ T1/ ”/ 表示/ 此/ 转移/ 对应/ 的/ 序号/ 为/ 1/ ;/ “/ GUI/ :/ invite/ ”/ 为此/ 转移/ 的/ 触发/ 消息/ ,/ 冒号/ 前/ 的/ GUI/ 表示/ 被/ 测系统/ 接收/ 消息/ 的/ 接口/ ,/ 冒号/ 之后/ 的/ invite/ 表示/ 触发/ 消息/ 的/ 具体内容/ ;/ 斜杠/ “/ // ”/ 之后/ 的/ 内容/ 为/ 被/ 测系统/ 在/ 此/ 转移/ 过程/ 中/ 的/ 反馈/ 消息/ ,/ 冒号/ 前/ 的/ SIP/ 表示/ 被/ 测系统/ 反馈/ 消息/ 的/ 接口/ ,/ 冒号/ 后/ 的/ INVITE/ 为/ 客户/ 代理/ 发送/ 消息/ 的/ 具体内容/ ./ 当/ 本地/ 客户/ 代理/ 向/ 目标/ 地址/ 发送/ INVITE/ 请求/ 之后/ ,/ 由/ Init/ 状态/ 进入/ Calling/ 状态/ ,/ 这时/ 若/ 对/ 端/ Page14/ 直接/ 返回/ 200/ _/ for/ _/ INVITE/ (/ SIP/ 应答/ ,/ 状态/ 码/ 200/ ,/ 表示/ 成功/ )/ ,/ 则/ 客户/ 代理/ 进入/ Ready/ 状态/ 会话/ 开始/ ;/ 若/ 对/ 端/ 返回/ 183/ _/ for/ _/ INVITE/ (/ SIP/ 应答/ ,/ 状态/ 码/ 183/ ,/ 表示/ 振铃/ )/ ,/ 则/ 客户/ 代理/ 进入/ Ringing/ 状态/ 并/ 等待/ 对/ 端的/ 同意/ 消息/ ,/ 直至/ 收到/ 200/ _/ for/ _/ INVITE/ ,/ 则/ 进入/ Ready/ 状态/ 开始/ 会话/ ./ 如果/ 希望/ 会话/ 结束/ ,/ 会/ 出现/ 两种/ 情况/ :/ 一种/ 是/ 本地/ 客户/ 代理/ 请求/ 结束/ 会话/ ,/ 另/ 一种/ 是/ 对/ 端/ 客户/ 代理/ 请求/ 结束/ 会话/ ./ 而/ 测试/ 目标/ TP/ -/ 2/ 所/ 关注/ 的/ 是/ 对/ 端/ 客户/ 代理/ 请求/ 结束/ 对话/ 的/ 情况/ ./ 在/ 测试/ 需求/ 模型/ 可视化/ 系统/ 上/ TP/ -/ 2/ 对应/ 的/ 测试/ 目标/ 描述/ 模型/ 界面/ ,/ 并/ 选择/ 图/ 17/ 中/ 的/ 状态图/ 作为/ 被/ 测系统/ 模型/ ,/ 进行/ 此/ 测试/ 目标/ 对应/ 的/ 测试用例/ 集/ 的/ 自动/ 生成/ ./ 通过/ 测试/ 目标/ TP/ -/ 2/ 生成/ 的/ 测试用例/ 集/ 可以/ 在/ 测试/ 需求/ 模型/ 可视化/ 系统/ 上/ 直接/ 展示/ ,/ 如图/ 18/ 所示/ ./ 测试/ 目标/ TP/ -/ 2/ 关注/ 远端/ 客户/ 代理/ 请求/ 释放/ 对话/ 的/ 过程/ ./ 此/ 测试/ 目标/ 生成/ 了/ 两个/ 测试用例/ (/ 见/ 附录/ 3/ )/ :/ TestCase1/ 对应/ 于图/ 16/ 中/ SIP/ 状态图/ 的/ 状态/ 转移/ 序列/ BeginState/ →/ / / T0Init/ →/ / / T1Calling/ →/ / / T5Ready/ →/ / / T11EndState/ ;/ TestCase2/ 对应/ 于/ SIP/ 状态图/ 的/ 状态/ 转移/ 序列/ BeginState/ →/ / / T0Init/ →/ / / T1Calling/ →/ / / T3Ringing/ →/ / / T6Ready/ →/ / / T11EndState/ ./ 这/ 两个/ 测试用例/ 均/ 用于/ 测试/ TP/ -/ 2/ 所/ 关注/ 的/ 会/ 话/ 释放/ 过程/ ./ 而/ 测试/ 目标/ TP/ -/ 2/ 的/ 设计/ 基于/ 被/ 测系统/ 的/ 需求/ 规格/ 说明/ 中/ 的/ 相应/ 需求/ ,/ 从而/ 实现/ 了/ 从/ 系统/ 需求/ 到/ 测试用例/ 的/ 向下/ 追踪/ 与/ 从/ 测试用例/ 向/ 系统/ 需求/ 的/ 向上/ 回溯/ ,/ 当/ 测试/ 活动/ 中/ 某/ 一/ 测试用例/ 判定/ 不/ 通过/ 时/ ,/ 可/ 明确/ 的/ 向/ 测试人员/ 指出/ 系统/ 实现/ 与/ 规格/ 说明/ 中/ 不/ 一致/ 的/ 具体/ 需求/ ./ 生成/ 测试用例/ 过程/ 的/ 中间/ 形式/ ,/ 包括/ 测试/ 目标/ 描述/ 模型/ 生成/ 的/ 标记/ 迁移/ 系统/ TP/ 、/ 被/ 测系统/ 模型/ 生成/ 的/ 标记/ 迁移/ 系统/ S/ 以及/ 标记/ 迁移/ 系统/ SP/ 、/ ATC/ 以及/ 存储/ 测试用例/ 信息/ 的/ 标记/ 迁移/ 系统/ TC/ ,/ 它们/ 的/ 具体/ 信息/ 在/ 生成/ 之后/ 被/ 打印/ 出来/ ,/ 通过/ 这些/ 信息/ 可以/ 完全/ 还原/ 相应/ 的/ 标记/ 迁移/ 系统/ ./ 5/ 相关/ 工作/ 讨论/ 5.1/ 模型/ 驱动/ 测试/ 模型/ 驱动/ 架构/ (/ MDA/ )/ 是/ OMG/ 提出/ 的/ 方法学/ ,/ MDA/ 强调/ 整个/ 系统/ 开发/ 过程/ 由/ 对/ 软件系统/ 的/ 建模/ 行为/ 驱动/ ,/ 完成/ 系统/ 需求/ 分析/ 、/ 架构设计/ 、/ 构建/ 、/ 测试/ 、/ 部署/ 运行/ 和/ 维护/ 工作/ ./ 模型/ 驱动/ 架构/ 不仅/ 可以/ 应用/ 到/ 平台/ 相关/ 系统/ 、/ 平台/ 独立/ 系统/ 和/ 系统/ 代码生成/ 这些/ 抽象层次/ 的/ 系统/ 建模/ ,/ 而且/ 也/ 可以/ 用到/ 测试/ 建模/ ./ MDA/ 基于/ UML/ 以及/ 其它/ 工业/ 标准/ ,/ 支持软件/ 设计/ 和/ 模型/ 的/ 可视化/ 、/ 存储/ 和/ 交换/ [/ 17/ ,/ 21/ ]/ ./ 和/ 传统/ UML/ 模型/ 相比/ ,/ MDA/ 能够/ 创建/ 出/ 机器/ 可读/ 和/ 高度/ 抽象/ 的/ 模型/ ,/ 这种/ 模型/ 通过/ 转换/ (/ Transformation/ )/ 技术/ 可/ 自动/ 转换/ 为/ 代码/ 、/ 脚本/ 、/ 数据库/ 定义/ 以及/ 各种/ 平台/ 部署/ 描述/ ,/ 使/ 建模语言/ 不仅仅/ 用作/ 分析/ 设计/ 语言/ ,/ 更/ 可用/ 作为/ 一种/ 高级/ 编程语言/ ./ 模型/ 驱动/ 测试/ 是/ 一种/ 新颖/ 而/ 具有/ 发展前景/ 的/ 自动化/ 测试方法/ ,/ 它/ 为/ 测试人员/ 提供/ 了/ 简便/ 有效/ 的/ 方/ Page15/ 式/ ,/ 从而/ 来/ 实现/ 高效/ 自动化/ 的/ 测试/ ./ 这种/ 新/ 的/ 方法/ 及其/ 工具集/ 不仅/ 能够/ 提高/ 测试人员/ 的/ 工作效率/ ,/ 并且/ 能够/ 减少/ 产品/ 投入/ 市场/ 的/ 时间/ [/ 27/ -/ 28/ ]/ ./ Dai/ 等/ 人/ [/ 18/ -/ 19/ ]/ 提出/ 了/ 一种/ 模型/ 驱动/ 的/ 测试方法/ ./ 该/ 方法/ 以/ U2TP/ ①/ 测试/ 建模语言/ 为/ 基础/ ,/ 提出/ 了/ 一个/ 模型/ 驱动/ 的/ 测试/ 过程/ (/ 如图/ 19/ 所示/ )/ ./ 其中/ ,/ 包括/ 多种/ 模型/ 之间/ 的/ 转化/ ,/ 涉及/ 平台/ 无关/ 系统/ 设计/ 模型/ (/ PIM/ )/ 、/ 平台/ 相关/ 系统/ 设计/ 模型/ (/ PSM/ )/ 、/ 平台/ 无关/ 测试/ 设计/ 模型/ (/ PIT/ )/ 、/ 平台/ 相关/ 测试/ 设计/ 模型/ (/ PST/ )/ 、/ 系统/ 代码/ 、/ 测试代码/ 等/ ./ Baker/ 等/ 人/ [/ 20/ ]/ 在/ 传统/ 的/ V/ 模型/ [/ 22/ ]/ 的/ 基础/ 上/ 提出/ 模型/ 驱动/ 测试/ 模型/ ./ 在/ 该/ 模型/ 中/ ,/ 单元测试/ 、/ 集成/ 测试/ 、/ 系统/ 测试/ 等/ 各个/ 测试阶段/ 都/ 有/ 一个/ 对应/ 的/ 建模/ 活动/ ,/ 所/ 建立/ 的/ 模型/ 可/ 转换/ 为/ TTCN/ -/ 3/ 或/ JUnit/ 代码/ ,/ 进而/ 得以/ 自动化/ 执行/ ./ 在/ 平台/ 独立/ 测试/ 设计/ 模型/ 向/ 测试代码/ 转换/ 的/ 过程/ 的/ 研究/ 中/ [/ 23/ ]/ ,/ 主要/ 是/ 在/ 参考/ U2TP/ 标准/ 定义/ 测试/ 系统/ 元/ 模型/ 以/ 用于/ 对/ 测试/ 系统/ 进行/ 建模/ [/ 16/ ,/ 24/ -/ 25/ ]/ ,/ Bi/ 等/ 人/ [/ 25/ ]/ 并/ 基于/ eclipse/ 上/ 的/ GMF/ (/ GraphicalModelingFramework/ ,/ 图形/ 建模/ 框架/ )/ 框架/ 构造/ 了/ 可视化/ 的/ 测试/ 系统/ 建模/ 工具/ ,/ 然后/ 以/ 测试/ 系统/ 元/ 模型/ 与/ TTCN/ -/ 3/ 元/ 模型/ 的/ 映射/ 关系/ 为/ 基础/ ,/ 实现/ 了/ 测试/ 系统/ 模型/ 向/ TTCN/ -/ 3/ 代码/ 的/ 转换/ ./ 本文/ 的/ 工作/ 是/ 在/ Bi/ 等/ 人/ [/ 25/ ]/ 的/ 基础/ 上来/ 进行/ 的/ ,/ 和/ 之前/ 的/ 工作/ 一样/ ,/ 本文/ 的/ 工作/ 也/ 参考/ 了/ U2TP/ 规范/ 定义/ ./ 5.2/ 基于/ 模型/ 的/ 测试/ 基于/ 模型/ 的/ 软件测试/ 属于/ 基于/ 规范/ 的/ 软件测试/ 范畴/ ,/ 其/ 特点/ 是/ :/ 在/ 产生/ 测试/ 例/ 和/ 进行/ 测试/ 结果/ 评价/ 时/ ,/ 都/ 是/ 根据/ 被/ 测系统/ 的/ 模型/ 及其/ 派生/ 模型/ 进行/ 的/ ./ 基于/ 模型/ 的/ 测试/ 最初/ 应用/ 于/ 硬件/ 测试/ ,/ 广泛应用/ 于/ 电信/ 交换/ 系统/ 测试/ ,/ 目前/ 在/ 软件测试/ 中/ 得到/ 了/ 一定/ 应用/ ,/ 并/ 在/ 学术界/ 和/ 工业界/ 得到/ 了/ 越来越/ 多/ 的/ 重视/ ./ 基于/ 模型/ 的/ 测试/ 实践/ 为/ 模型/ 驱动/ 的/ 软件测试/ 方法/ 奠定/ 了/ 基础/ ./ 基于/ 模型/ 的/ 软件测试/ 可以/ 根据/ 软件/ 行为/ 模型/ 和/ 结构/ 模型/ 生成/ 测试用例/ [/ 26/ -/ 27/ ]/ ,/ 当前/ 软件/ 规模/ 庞大/ 也/ 使/ 基于/ 程序/ 的/ 测试/ 十分困难/ ,/ 而/ 基于/ 模型/ 的/ 软件测试/ 方法/ 不仅/ 可以/ 有效/ 地/ 提高/ 测试/ 效率/ ,/ 提高/ 测试/ 例/ 生成/ 的/ 自动化/ 程度/ ,/ 也/ 有利于/ 评价/ 测试/ 结果/ ./ 在/ 基于/ 模型/ 的/ 测试/ 中/ ,/ 采用/ 某种/ 覆盖/ 准则/ 来/ 指导/ 测试用例/ 的/ 生成/ ,/ 并/ 决定/ 何时/ 来/ 终止/ 测试/ ./ 覆盖/ 准则/ 是/ 指/ 测试/ 需要/ 满足/ 或/ 覆盖/ 软件/ 的/ 哪些/ 具体/ 元素/ ./ 对于/ 基于/ 模型/ 的/ 测试/ 目前/ 从/ 设计/ 模型/ 到/ 测试/ 模型/ 自动/ 转换/ 的/ 研究成果/ 不/ 多/ ,/ 更/ 多/ 的/ 研究/ 集中/ 在/ 通过/ 设计/ 模型/ 直接/ 生成/ 测试用例/ 或/ 测试代码/ ./ 其/ 优势/ 在于/ 快速/ 生成/ 测试代码/ ;/ 不足之处/ 在于/ 缺少/ 对/ 测试/ 的/ 描述/ ,/ 很难/ 复用/ 、/ 演化/ 以及/ 根据/ 用户/ 需求/ 定制/ 测试代码/ ./ 5.3/ 基于/ 测试/ 系统/ 模型/ 的/ TTCN/ -/ 3/ 代码生成/ 本文/ 的/ 工作/ 是/ 在/ Bi/ 等/ 人/ [/ 25/ ]/ 的/ 基础/ 上来/ 进行/ 的/ ,/ 和/ 之前/ 的/ 工作/ 一样/ ,/ 本文/ 的/ 工作/ 也/ 参考/ 了/ U2TP/ 规范/ 定义/ ./ Bi/ 等/ 人/ 在/ 参考/ U2TP/ 标准/ 定义/ 测试/ 系统/ 元/ 模型/ ,/ 提出/ 了/ 测试/ 系统/ 元/ 模型/ ,/ 以/ 作为/ 对/ 测试/ 系统/ 进行/ 建模/ 的/ 基础/ ./ 然后/ 基于/ 测试/ 系统/ 元/ 模型/ 采用/ eclipse/ 平台/ 上/ 的/ GMF/ 框架/ 构建/ 了/ 可视化/ 的/ 测试/ 系统/ 模型/ 编辑器/ ./ 为/ 实现/ 测试/ 系统/ 模型/ 向/ TTCN/ -/ 3/ 代码/ 的/ 转换/ ,/ 并且/ 参考/ 了/ TTCN/ -/ 3/ 元/ 模型/ [/ 28/ ]/ ,/ 定义出/ 测试/ 系统/ 元/ 模型/ 向/ TTCN/ -/ 3/ 元/ 模型/ 的/ 映射/ 关系/ ./ Bi/ 等/ 人/ 的/ 研究/ 主要/ 是/ 关注/ 测试/ 模型/ 向/ 测试代码/ 的/ 转换/ ./ 我们/ 提出/ 的/ 是/ 基于/ 被/ 测系统/ 模型/ 来/ 指导/ 生成/ 测试/ 需求/ 模型/ ,/ 将/ 测试/ 需求/ 和/ 被/ 测系统/ 的/ 功能/ 以及/ 性能需求/ 对应/ ,/ 这样/ 以/ 指导/ 测试人员/ 开展/ 后续/ 测试/ 活动/ 、/ 方便/ 测试人员/ 与/ 设计/ 人员/ 之间/ 的/ 沟通/ ,/ 还/ 可/ 在/ 模型/ 驱动/ 测试/ 的/ 过程/ 中/ 对/ 测试/ 系统/ 模型/ 的/ 生成/ 提供/ 必要/ 信息/ ,/ 具有/ 重要/ 指导意义/ ./ 6/ 总结/ 与/ 展望/ 本文/ 参考模型/ 驱动/ 测试/ 的/ 思想/ ,/ 定义/ 了/ 一种/ 用于/ 描述/ 测试/ 需求/ 的/ 可视化/ 建模语言/ ,/ 用以/ 对/ 测试/ 需求/ 进行/ 直观/ 且/ 无/ 二义性/ 的/ 描述/ ,/ 作为/ 测试/ 活动/ 的/ 基础/ ,/ 对/ 指导/ 后续/ 测试/ 活动/ 的/ 开展/ 具有/ 重要/ 意义/ ./ 同时/ ①/ www/ ./ omg/ ./ org/ // technology/ // documents/ // modeling/ _/ spec/ _/ cat/ -/ Page16/ 本文/ 开发/ 了/ 相应/ 的/ 测试/ 需求/ 建模/ 可视化/ 系统/ ,/ 使得/ 测试人员/ 可/ 对/ 测试/ 需求/ 进行/ 建模/ 、/ 分析/ 与/ 验证/ ;/ 并/ 通过/ 被/ 测系统/ 模型/ 与/ 测试/ 需求/ 模型/ 中/ 相应/ 测试/ 目标/ 生成/ 测试用例/ ,/ 展现/ 了/ 测试/ 需求/ 模型/ 以及/ 测试/ 需求/ 建模/ 方法/ 在/ 模型/ 驱动/ 测试方法/ 学中/ 的/ 意义/ ./ 本文/ 对/ 测试/ 需求/ 的/ 概念/ 以及/ 测试/ 需求/ 模型/ 描述/ 的/ 内容/ 进行/ 了/ 分析/ ,/ 并/ 为/ 系统/ 设计/ 模型/ 向/ 测试/ 系统/ 模型/ 的/ 转换/ 提供/ 信息/ ./ 本文/ 考虑/ 到/ 通用性/ ,/ 对于/ 各个/ 不同/ 特定/ 领域/ 的/ 测试/ 需求/ 描述/ 可能/ 不够/ 完整/ ,/ 仍/ 有/ 自己/ 的/ 局限性/ ./ 另外/ ,/ 本文/ 对/ 测试/ 需求/ 的/ 研究/ 工作/ 还/ 没有/ 在/ 工业化/ 的/ 软件系统/ 的/ 开发/ 过程/ 中/ 得到/ 应用/ 与/ 实践/ ,/ 因此/ 未来/ 也/ 需要/ 在/ 这个/ 方向/ 进行/ 努力/ ./ 致谢/ 北京航空航天大学/ 软件工程/ 研究所/ 模型/ 驱动/ 测试/ 小组/ 成员/ 之前/ 所/ 做/ 了/ 大量/ 工作/ ,/ 特别/ 是/ 已经/ 毕业/ 了/ 的/ 陈/ 辛夷/ 等/ 同学/ 付出/ 了/ 许多/ 劳动/ ,/ 在/ 此/ 表示感谢/ ./ 最后/ 要/ 感谢/ 百忙之中/ 评阅/ 论文/ 的/ 各位/ 专家/ !/ 

