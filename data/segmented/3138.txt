Page1/ 一种/ 障碍/ 空间/ 中/ 不/ 确定/ 对象/ 的/ 连续/ 最近/ 邻/ 查询方法/ 李传/ 文谷/ 峪/ 李芳芳/ 于戈/ (/ 东北大学/ 信息科学/ 与/ 工程学院/ 计算机软件/ 与/ 理论/ 研究所/ 沈阳/ 110004/ )/ (/ 医学影像/ 计算/ 教育部/ 重点/ 实验室/ (/ 东北大学/ )/ 沈阳/ 110004/ )/ 摘要/ 近年来/ ,/ 基于/ 位置/ 的/ 服务/ 获得/ 了/ 越来越/ 广泛/ 的/ 关注/ ,/ 其中/ 最近/ 邻/ 查询/ 是/ 最/ 常用/ 的/ 一种/ 查询/ 方式/ ./ 测量/ 手段/ 的/ 不/ 准确性/ 以及/ 数据/ 本身/ 的/ 性质/ 导致/ 不确定性/ 在/ 位置/ 数据/ 中/ 普遍存在/ ,/ 这种/ 不确定性/ 会/ 对/ 最近/ 邻/ 查询/ 结果/ 产生/ 影响/ ./ 空间/ 中/ 障碍物/ 的/ 存在/ 也/ 给/ 空间数据/ 查询/ 带来/ 了/ 挑战/ ./ 文中/ 研究/ 存在/ 障碍物/ 的/ 空间/ 中/ 不/ 确定/ 对象/ 连续/ 最近/ 邻/ 查询/ 的/ 处理/ 方法/ ,/ 设计/ 了/ 一种/ 剪枝/ 策略/ 大幅/ 降低/ 需要/ 计算/ 的/ 不/ 确定/ 对象/ 数目/ ,/ 并/ 进一步/ 提出/ 了/ 障碍/ 空间/ 中/ 不/ 确定/ 对象/ 最近/ 邻/ 查询/ 安全/ 区域/ 的/ 概念/ 及/ 安全/ 区域/ 生成/ 算法/ ./ 设计/ 了/ 安全/ 区域/ 的/ 索引/ 存储/ 方法/ ./ 实验/ 结果表明/ ,/ 文章/ 所/ 提出/ 的/ 方法/ 具有/ 良好/ 的/ 效率/ 和/ 可扩展性/ ./ 关键词/ 最近/ 邻/ ;/ 不/ 确定/ ;/ 障碍/ 空间/ ;/ 基于/ 位置/ 的/ 服务/ 1/ 引言/ ices/ ,/ LBS/ )/ 获得/ 了/ 越来越/ 多/ 的/ 关注/ ,/ 并/ 越来越/ 广泛/ 地/ 应用/ 到/ 生产/ 生活/ 当中/ ./ LBS/ 以/ 查询/ 为/ 基础/ ,/ 根据/ 用户/ 的/ 当前/ 位置/ 信息/ 为/ 用户/ 提供/ 各种/ 有用/ 的/ 信息/ ,/ 例/ 近年来/ ,/ 基于/ 位置/ 的/ 服务/ (/ LocationBasedServ/ -/ 如/ ,/ 最近/ 的/ 自动/ 提款机/ 在/ 哪/ ,/ 附近/ 有/ 哪些/ 饭店/ 等等/ ./ Page2LBS/ 包括/ 多种/ 查询/ 类型/ 及/ 处理/ 方法/ ,/ 如/ 最近/ 邻/ 、/ KNN/ 、/ Skyline/ 、/ 反/ KNN/ 等/ ./ 在/ 这些/ 查询/ 中/ ,/ 最近/ 邻/ 查询/ 是/ 最/ 常用/ 的/ 一种/ 查询/ 方式/ ./ 现已/ 提出/ 若干/ 最近/ 邻/ 查询处理/ 方法/ [/ 1/ -/ 4/ ]/ ./ 这些/ 方法/ 大部分/ 针对/ 确定/ 数据/ (/ 即/ 完整/ 且/ 精确/ 的/ 位置/ 数据/ )/ 并且/ 全都/ 假设/ 空间/ 中/ 不/ 存在/ 障碍物/ (/ 即/ 任意/ 两点/ 之间/ 可以/ 直线/ 连接/ )/ ./ 然而/ ,/ 在/ 许多/ 实际/ 应用/ 中/ 还/ 存在/ 大量/ 的/ 不/ 确定/ 数据/ 以及/ 障碍物/ 的/ 情况/ ./ 例如/ ,/ 卫星/ 图像/ 或/ GPS/ 定位/ ,/ 由于/ 设备/ 本身/ 的/ 硬件/ 条件/ 限制/ 或/ 数据传输/ 过程/ 中/ 产生/ 的/ 噪声/ 都/ 会/ 使/ 数据/ 中/ 的/ 位置/ 信息/ 具有/ 不确定性/ ./ 而且/ ,/ 地面/ 上/ 移动/ 的/ 物体/ 一般/ 都/ 会/ 受到/ 地理/ 条件/ 的/ 限制/ (/ 例如/ 建筑/ 、/ 湖泊/ 等/ )/ ,/ 两/ 物体/ 之间/ 的/ 最/ 短距离/ 必须/ 考虑/ 障碍物/ 的/ 因素/ ./ 本文/ 提出/ 障碍/ 空间/ 内/ 不/ 确定/ 对象/ 连续/ 最近/ 邻/ 查询/ 的/ 处理/ 方法/ ./ 与/ 精确/ 对象/ 不同/ ,/ 不/ 确定/ 对象/ 的/ 位置/ 不是/ 一个/ 确定/ 点/ ,/ 而是/ 一个/ 范围/ ,/ 在/ 这个/ 范围/ 内该/ 对象/ 服从/ 某种/ 概率分布/ 函数/ ./ 在/ 障碍/ 空间/ 中/ ,/ 两个/ 点/ 之间/ 的/ 距离/ 由/ 他们/ 绕过/ 障碍物/ 的/ 最/ 短距离/ 决定/ ./ 例如/ 一辆/ 汽车/ 在/ 行驶/ 的/ 过程/ 中/ 不断/ 地/ 查询/ 距离/ 自己/ 最近/ 的/ 加油站/ 的/ 位置/ ./ 由于/ 地图/ 数据/ 不/ 精确/ 以及/ GPS/ 测量误差/ 等/ 因素/ ,/ 汽车/ 自身/ 的/ 位置/ 以及/ 加油站/ 的/ 位置/ 都/ 不是/ 绝对/ 准确/ 的/ ,/ 它们/ 都/ 归属于/ 某个/ 不/ 确定/ 区域/ ./ 同时/ ,/ 由于/ 自然/ 地形/ 或/ 建筑物/ 的/ 阻挡/ ,/ 汽车/ 和/ 加油站/ 之间/ 的/ 距离/ 也/ 不仅仅/ 是/ 它们/ 之间/ 的/ 欧氏/ 距离/ ./ 文献/ [/ 5/ ]/ 给出/ 了/ 两点/ 之间/ 障碍/ 距离/ 的/ 计算方法/ ./ 然而/ ,/ 当/ 障碍/ 空间/ 中/ 的/ 对象/ 为/ 不/ 确定/ 对象/ 时/ ,/ 现有/ 的/ 计算方法/ 不再/ 适用/ ,/ 这/ 是因为/ 两对/ 不/ 确定/ 对象/ 之间/ 距离/ 远近/ 的/ 比较/ 结果/ 不/ 确定/ ./ 本文/ 对/ 最近/ 邻/ 的/ 概念/ 进行/ 了/ 扩展/ ,/ 将/ 最近/ 邻/ 查询/ 的/ 结果/ 从/ 某个/ 确定/ 的/ 对象/ 扩展/ 到/ 一个/ 对象/ 集合/ ,/ 其中/ 包含/ 所有/ 可能/ 成为/ 最近/ 邻/ 的/ 不/ 确定/ 对象/ ./ 本文/ 考虑/ 不/ 确定/ 对象/ 的/ 概率分布/ ,/ 用/ 不/ 确定/ 对象/ 的/ 分布/ 半径/ 作为/ 参数/ ,/ 提出/ 了/ 一种/ 处理/ 方法/ 计算/ 最近/ 邻/ 可能/ 对象/ 的/ 集合/ ,/ 并/ 在/ 该/ 算法/ 中/ 设计/ 了/ 一种/ 剪枝/ 策略/ ,/ 通过/ 不断更新/ 剪枝/ 条件/ ,/ 大幅/ 减少/ 需要/ 计算/ 的/ 不/ 确定/ 对象/ 数目/ ./ 本文/ 进一步/ 提出/ 了/ 障碍/ 空间/ 中/ 不/ 确定/ 对象/ 最近/ 邻/ 查询/ 安全/ 区域/ 的/ 概念/ 及/ 安全/ 区域/ 生成/ 算法/ ./ 文献/ [/ 6/ ]/ 提出/ 了/ 欧氏/ 空间/ 中/ 确定/ 对象/ 的/ 安全/ 区域/ 概念/ ,/ 所谓/ 安全/ 区域/ 即/ 空间/ 中/ 某些/ 点/ 的/ 集合/ ,/ 这些/ 点/ 具有/ 相同/ 的/ 最近/ 邻/ 查询/ (/ 或/ 其它/ LBS/ 查询/ ,/ 如/ K/ 近邻/ )/ 结果/ 集/ ./ 当/ 查询/ 点/ 在/ 某个/ 结果/ 集/ 的/ 安全/ 区域/ 内/ 移动/ 时/ ,/ 不再/ 需要/ 重复/ 查询/ ,/ 因而/ 事先/ 生成/ 安全/ 区域/ 可以/ 节省/ 大量/ 的/ 实时/ 计算/ 开销/ ./ 提出/ 了/ 一种/ 基于/ 四分/ 树/ 的/ 索引/ 方法/ 对/ 安全/ 区域/ 进行/ 存储/ ,/ 该/ 方法/ 具有/ 较优/ 的/ 查询/ 性能/ ./ 最近/ 几年/ ,/ 对于/ 不/ 确定/ 数据/ 的/ 研究/ 工作/ 取得/ 了/ 广泛/ 的/ 成果/ [/ 7/ -/ 8/ ]/ ./ 在/ 不/ 确定/ 数据/ 查询/ 领域/ ,/ 研究者/ 已/ 提出/ 了/ 多种类型/ 的/ 查询/ 及其/ 处理/ 方法/ ,/ 如/ 一般/ 的/ 关系/ 查询/ 、/ top/ -/ k/ 查询/ 、/ kNN/ 查询/ 、/ 概率/ Skyline/ 查询/ 等/ ./ 文献/ [/ 9/ ]/ 提出/ 了/ 不/ 确定/ Voronoi/ 图/ 的/ 概念/ ,/ 文献/ [/ 10/ -/ 11/ ]/ 也/ 针对/ 特定/ 的/ 不/ 确定/ 查询/ 提出/ 了/ 相应/ 的/ 方法/ ./ 然而/ ,/ 据/ 我们/ 所知/ ,/ 目前/ 尚无/ 对/ 障碍/ 空间/ 中/ 的/ 不/ 确定/ 数据/ 进行/ 有效/ 最近/ 邻/ 查询/ 的/ 方法/ ./ 目前/ 对/ 障碍/ 空间数据/ 查询/ 的/ 研究/ 主要/ 集中/ 在/ 可视/ kNN/ 及/ 反/ kNN/ 查询/ [/ 12/ -/ 14/ ]/ (/ 即/ 只/ 考虑/ 直线/ 可达/ 而/ 不/ 考虑/ 绕过/ 障碍物/ 的/ 情况/ )/ ./ 文献/ [/ 15/ ]/ 提出/ 了/ 障碍/ 空间/ 中/ 连续/ kNN/ 查询/ 的/ 解决/ 方法/ ./ 综上所述/ ,/ 对/ 障碍/ 空间/ 中/ 的/ 不/ 确定/ 数据/ 进行/ 最近/ 邻/ 查询/ 的/ 研究/ 具有/ 现实意义/ 和/ 理论/ 价值/ ./ 本文/ 研究/ 的/ 主要/ 内容/ 如下/ :/ (/ 1/ )/ 基于/ 空间/ 障碍物/ 及/ 不/ 确定/ 对象/ 的/ 数据模型/ ,/ 提出/ 障碍/ 空间/ 中/ 不/ 确定/ 对象/ 最近/ 邻/ 查询/ 问题/ ./ (/ 2/ )/ 设计/ 一种/ 高效/ 的/ 基于/ 障碍/ 空间/ 距离/ 的/ 算法/ 来/ 进行/ 查询处理/ ./ 运用/ 了/ 一种/ 剪枝/ 技术/ 来/ 提高/ 性能/ ./ (/ 3/ )/ 提出/ 不/ 确定/ 对象/ 分割/ 区域/ 的/ 概念/ ,/ 并/ 以/ 之/ 为/ 基础/ 设计/ 一种/ 有效/ 的/ 安全/ 区域/ 生成/ 方法/ ./ (/ 4/ )/ 提出/ 一种/ 高效/ 的/ 索引/ 方法/ ,/ 对/ 安全/ 区域/ 进行/ 存储/ ./ 该/ 方法/ 比/ 传统/ 的/ R/ -/ tree/ 索引/ 方法/ 需要/ 的/ 存储/ 代价/ 低/ 并且/ 查询/ 速度/ 较快/ ./ (/ 5/ )/ 通过/ 实验/ 考察/ 并/ 证实/ 了/ 本文/ 提出/ 的/ 方法/ 具有/ 良好/ 的/ 效率/ 和/ 可扩展性/ ./ 本文/ 第/ 2/ 节/ 介绍/ 相关/ 术语/ 并/ 给出/ 数据模型/ 和/ 问题/ 定义/ ;/ 第/ 3/ 节/ 给出/ 障碍/ 空间/ 中/ 不/ 确定/ 对象/ 最近/ 邻/ 查询/ 的/ 计算方法/ ,/ 提出/ 对象/ 分割/ 区域/ 的/ 概念/ 、/ 安全/ 区域/ 生成/ 算法/ 以及/ 索引/ 存储/ 方法/ ;/ 第/ 4/ 节/ 给出/ 实验/ 结果/ 和/ 分析/ ;/ 第/ 5/ 节/ 总结/ 全文/ ./ 2/ 问题/ 定义/ 2.1/ 数据模型/ 本文/ 考虑/ 具有/ n/ 个/ 查询/ 对象/ 的/ 集合/ P/ =/ {/ p1/ ,/ p2/ ,/ …/ ,/ pn/ }/ ,/ pi/ ∈/ / O2/ ,/ …/ ,/ On/ }/ 以及/ 一个/ 不/ 确定/ 查询/ 点/ q/ ./ 集合/ P/ 为/ 查询/ 对象/ 集/ ,/ 其中/ / 其中/ 障碍物/ 具有/ 确定/ 的/ 边界/ 且/ 相互/ 不/ 重叠/ ,/ 查询/ 对象/ 具有/ 不确定性/ 且/ 都/ 在/ 障碍物/ 之外/ ./ 为/ 描述/ 方便/ ,/ 本文/ 假定/ 障碍物/ 都/ 是/ 凸多边形/ (/ 如果/ 有/ 障碍物/ 为/ 凹/ 多边形/ ,/ 可/ 将/ 其/ 分解/ 为/ 几个/ 凸多边形/ 的/ 组合/ )/ ./ 查询/ 点/ q/ 及/ 集合/ P/ 中/ 每个/ 查询/ 对象/ pi/ 均/ 具有/ 一个/ “/ 不/ 确定/ 区域/ ”/ (/ Uq/ 或/ Upi/ )/ 以及/ 对应/ 的/ 概率分布/ Page3/ 函数/ (/ ProbabilityDistributionFunction/ ,/ PDF/ )/ ./ 不/ 确定/ 区域/ 包含/ 该/ 对象/ 所有/ 可能/ 出现/ 的/ 位置/ ,/ 对象/ 在/ 该/ 区域/ 某点/ 的/ 概率/ 由/ 概率分布/ 函数/ 确定/ ./ 不/ 确定/ 区域/ 可以/ 为/ 任意/ 形状/ ,/ 概率分布/ 函数/ 也/ 可以/ 是/ 任意/ 分布/ (/ 如/ 均匀分布/ 、/ 高斯分布/ 等/ )/ ./ 若/ 无/ 特别/ 说明/ ,/ 后/ 文中/ 不/ 确定/ 区域/ 均/ 是/ 指/ 圆形/ 分布/ ,/ 定义/ p/ ·/ 心/ ,/ rpi/ 为/ Upi/ 的/ 半径/ ,/ 对/ 不规则/ 区域/ 的/ 讨论/ 将/ 在/ 3.3/ 节/ 给出/ ./ 令/ VIS/ (/ p/ )/ 为点/ p/ ·/ 中/ 任意/ 一点/ 与/ 点/ p/ ·/ 域/ S/ =/ / 置/ 的/ 点/ pi/ ,/ pj/ 之间/ 的/ 最/ 短距离/ d/ (/ pi/ ,/ pj/ )/ 为/ d/ (/ pi/ ,/ pj/ )/ =/ 定义/ 1/ ./ 障碍/ 空间/ S/ =/ / min/ ∑/ m/ -/ 1/ 其中/ 点/ xk/ ,/ xk/ +/ 1/ 为/ 任意/ 两/ 可见/ 点/ ,/ m/ 为/ 可见/ 点/ 总数/ ,/ 即/ 直线/ 段/ xkxk/ +/ 1/ 不/ 与/ O/ 中/ 任何/ 障碍物/ 相交/ ,/ |/ xk/ ,/ xk/ +/ 1/ |/ 表示/ 线段/ xkxk/ +/ 1/ 的/ 长度/ ./ 例/ 1/ ./ 图/ 1/ 示例/ 了/ 一个/ 具有/ 两个/ 障碍物/ 的/ 空间/ ,/ 竖条/ 阴影/ 部分/ (/ △/ abc/ 及/ △/ def/ )/ 表示/ 障碍物/ ,/ 点/ p1/ ,/ p2/ ,/ p3/ 周围/ 的/ 圆形/ 阴影/ 表示/ 不/ 确定/ 对象/ p1/ ,/ p2/ ,/ p3/ 的/ 不/ 确定/ 区域/ ,/ q/ 表示/ 查询/ 点/ ./ 其中/ p1/ ,/ p2/ 圆心/ 的/ 最/ 短距离/ 由/ 连线/ 段/ p1c/ →/ cd/ →/ dp2/ 组成/ (/ 即图/ 中/ 黑色/ 粗/ 线段/ )/ ./ 这条/ 连线/ 段/ 比/ 其它/ 所有/ 连线/ 段/ (/ 如/ p1b/ →/ bd/ →/ dp2/ 或/ p1c/ →/ cf/ →/ fe/ →/ ep2/ 等/ )/ 短/ ./ 基于/ 确定/ 点/ 之间/ 最/ 短距离/ 的/ 定义/ ,/ 本文/ 提出/ 障碍/ 空间/ 中/ 不/ 确定/ 对象/ 的/ 最近/ 邻/ 查询/ 如下/ 定义/ ./ 最近/ 邻/ 定义/ 为/ 一个/ 集合/ N/ =/ {/ n1/ ,/ n2/ ,/ …/ ,/ nm/ }/ ,/ 其/ 满足/ 定义/ 2/ ./ 查询/ 点/ q/ 在/ 障碍/ 空间/ S/ =/ / (/ 1/ )/ ni/ ∈/ P/ (/ 1/ / m/ )/ ;/ (/ 2/ )/ dmin/ (/ q/ ,/ ni/ )/ >/ / dmax/ (/ q/ ,/ nj/ )/ ,/ j/ ≠/ i/ ,/ nj/ ∈/ P/ ./ 其中/ dmin/ (/ q/ ,/ n/ )/ 与/ dmax/ (/ q/ ,/ n/ )/ 分别/ 代表/ 点/ q/ 与/ 区域/ n/ 之间/ 的/ 最/ 短/ 与/ 最/ 长距离/ ./ 障碍/ 空间/ 中/ 不/ 确定/ 对象/ 的/ 最近/ 邻/ 查询/ 结果/ 为/ 一个/ 集合/ ,/ 包含/ 所有/ 可能/ 成为/ 查询/ 点/ 最近/ 邻/ 的/ 不/ 确定/ 对象/ ./ 例/ 2/ ./ 对图/ 1/ 中/ 查询/ 点/ q/ 求其/ 最近/ 邻/ ,/ 查询/ 点/ q/ 到/ 查询/ 对象/ p1/ ,/ p2/ ,/ p3/ 的/ 距离/ 分别/ 属于/ 区间/ Rangeq/ ,/ p1/ =/ [/ d/ (/ q/ ·/ ,/ p/ ·/ rp1/ ]/ ,/ Rangeq/ ,/ p2/ =/ [/ d/ (/ q/ ·/ ,/ p/ ·/ rq/ +/ rp2/ ]/ ,/ Rangeq/ ,/ p3/ =/ [/ d/ (/ q/ ·/ ,/ p/ ·/ 3/ )/ +/ rq/ +/ rp3/ ]/ ./ 通过观察/ 可知/ ,/ 两/ 区间/ Rangeq/ ,/ p1/ ,/ p/ ·/ Rangeq/ ,/ p2/ 存在/ 交集/ 且/ 都/ 小于/ Rangeq/ ,/ p3/ ,/ 因此/ 查询/ 对象/ p1/ 和/ p2/ 都/ 有/ 可能/ 成为/ 查询/ 点/ q/ 的/ 最近/ 邻/ ,/ p3/ 不/ 可能/ 成为/ 查询/ 点/ q/ 的/ 最近/ 邻/ ,/ 故/ 查询/ 结果/ 为/ Pn/ =/ {/ p1/ ,/ p2/ }/ ./ 2.2/ 问题/ 描述/ 本文/ 假设/ 空间/ 中/ 查询/ 对象/ 和/ 障碍物/ 的/ 信息/ 保存/ 在/ 某种/ 常用/ 空间/ 索引/ 当中/ (/ 如/ R/ -/ tree/ 等/ )/ ,/ 且/ 不/ 存在/ 特殊/ 的/ 空间/ 数据结构/ (/ 如/ Voronoi/ 图/ 或/ k/ 阶/ Voronoi/ 图/ 等/ )/ ./ 这/ 是因为/ 特殊/ 的/ 空间/ 数据结构/ 维护/ 代价/ 大/ ,/ 并且/ 应用/ 范围/ 较窄/ ./ 例如/ Voronoi/ 图/ 或/ k/ 阶/ Voronoi/ 图/ 只/ 适用/ 于/ 查询/ 对象/ 和/ 障碍物/ 固定/ 情况/ 下/ 的/ 最近/ 邻/ 或/ k/ 近邻/ 查询/ ,/ 当/ k/ 变化/ 或/ 空间信息/ 变化/ 时/ 这些/ 数据结构/ 的/ 更新/ 操作/ 需要/ 高昂/ 的/ 代价/ ./ 障碍/ 空间/ 中/ 不/ 确定/ 对象/ 的/ 最近/ 邻/ 查询/ 与/ 传统/ 的/ 最近/ 邻/ 查询/ 主要/ 区别/ 在/ 两点/ :/ 首先/ ,/ 空间/ 中/ 两点/ 之间/ 的/ 距离/ 不是/ 直线/ 距离/ ,/ 而是/ 绕过/ 障碍物/ 的/ 最/ 短距离/ ;/ 其次/ ,/ 两点/ 间/ 的/ 最/ 短距离/ 不是/ 一个/ 确定/ 的/ 值/ ,/ 而是/ 一个/ 范围/ ./ 基于/ 上述/ 特点/ ,/ 障碍/ 空间/ 中/ 对/ 不/ 确定/ 对象/ 的/ 最近/ 邻/ 查询/ 可以/ 分为/ 3/ 步/ :/ (/ 1/ )/ 找到/ 可能/ 成为/ 查询/ 点/ 最近/ 邻/ 的/ 所有/ 可能/ 结果/ 的/ 集合/ ;/ (/ 2/ )/ 找到/ 该/ 集合/ 的/ 安全/ 区域/ ,/ 所谓/ 安全/ 区域/ 即/ 与/ 查询/ 点有/ 相同/ 的/ 查询/ 结果/ 的/ 点/ 的/ 集合/ ;/ (/ 3/ )/ 将/ 查询/ 结果/ 和/ 安全/ 区域/ 的/ 信息/ 返回/ 给/ 查询/ 点/ ./ 下节/ 主要/ 讨论/ 不/ 确定/ 对象/ 连续/ 最近/ 邻/ 查询/ 的/ 前/ 两步/ ./ 3/ 障碍/ 空间/ 中/ 不/ 确定/ 对象/ 最近/ 邻/ 查询/ 3.1/ 不/ 确定/ 对象/ 最近/ 邻/ 查询/ 本/ 节/ 假定/ 查询/ 点/ 具有/ 确定/ 位置/ ,/ 查询/ 点为/ 不/ 确定/ 区域/ 的/ 情况/ 将/ 在/ 3.3/ 节/ 讨论/ ./ 下面/ 提出/ 计算/ 距离/ 某/ 确定/ 点/ 最近/ 的/ 不/ 确定/ 对象/ 集/ 的/ 算法/ ,/ 其中/ 采用/ 文献/ [/ 15/ ]/ 提出/ 的/ 算法/ 计算/ 障碍/ 空间/ 中/ 两/ 确定/ 点/ 之间/ 最/ 短距离/ d/ (/ p1/ ,/ p2/ )/ ./ Page4/ 算法/ 1/ ./ 不/ 确定/ 对象/ 最近/ 邻/ 生成/ ./ 输入/ :/ 查询/ 点/ q/ ,/ 查询/ 对象/ 集/ P/ 输出/ :/ 最近/ 邻/ 结果/ 集/ Pn1/ ./ bound/ ←/ ,/ PS/ ←/ / ,/ PU/ ←/ P2/ ./ lmax/ ←/ 0/ ,/ Pn/ ←/ / 3/ ./ 根据/ O/ 构建/ 可见/ 图/ G/ (/ V/ ,/ E/ )/ 4/ ./ While/ (/ PU/ ≠/ / )/ 5/ ./ pn/ ←/ 从/ PU/ 中/ 取出/ q/ 欧氏/ 距离/ 最近/ 邻/ 6/ ./ If/ (/ d/ (/ pn/ ,/ q/ )/ -/ rpn/ >/ bound/ )/ 7/ ./ Return8/ ./ If/ (/ d/ (/ pn/ ,/ q/ )/ -/ rpn/ </ lmax/ )/ 9/ ./ Pn/ ←/ Pn/ +/ pn10/ ./ lmax/ ←/ d/ (/ pn/ ,/ q/ )/ -/ rpn11/ ./ RefreshCandidates/ (/ pn/ )/ 12/ ./ PS/ ←/ PS/ +/ pn/ ,/ PU/ ←/ PU/ -/ pn13/ ./ bound/ ←/ min/ (/ bound/ ,/ d/ (/ pn/ ,/ q/ )/ +/ rpn/ )/ 14/ ./ Return/ 算法/ 1/ 的/ 工作/ 过程/ 如下/ :/ 首先/ 构造/ 区域/ S/ 的/ 可见/ 图/ G/ (/ V/ ,/ E/ )/ ,/ 其中/ E/ 包含/ O/ 中/ 障碍物/ 的/ 所有/ 顶点/ 及/ P/ 中/ 所有/ 不/ 确定/ 对象/ 的/ 圆心/ ,/ V/ 包含/ E/ 中/ 所有/ 顶点/ 之间/ 的/ 可见/ 线段/ ./ 图/ 1/ 中/ 示例/ 了/ 一个/ 可见/ 图/ G/ (/ V/ ,/ E/ )/ ,/ 其中/ E/ 包括/ 障碍物/ 顶点/ a/ ,/ b/ ,/ c/ 及/ 不/ 确定/ 对象/ p/ ·/ 2/ ,/ p/ ·/ 3/ 等/ ,/ V/ 包括/ 图中/ 所有/ 实/ 线段/ (/ p2d/ ,/ dc/ ,/ fc/ 等/ )/ ./ p/ ·/ 集合/ PS/ ,/ PU/ 分别/ 保存/ 已/ 查询/ 点/ 和/ 未/ 查询/ 点/ ,/ 每次/ 循环/ 从/ PU/ 当中/ 选择/ 一个/ 离/ q/ 欧氏/ 距离/ 最近/ 的/ 点/ pn/ ./ 因为/ 查询/ 对象/ 已经/ 保存/ 在/ 某种/ 空间/ 索引/ 中/ ,/ 所以/ 选择/ 点/ pn/ 只/ 需要/ 很小/ 的/ 运行/ 开销/ (/ 例如/ ,/ R/ -/ tree/ 索引/ 查找/ 最近/ 点/ pn/ 需要/ 的/ 查询/ 复杂度/ 接近/ 常数/ )/ ./ 算法/ 1/ 第/ 8/ ~/ 10/ 行/ 检查/ 是否/ 将点/ pn/ 加入/ 到/ 结果/ 集/ Pn/ 中/ ./ lmax/ 保存/ 结果/ 集/ Pn/ 的/ 上界/ ,/ 如果/ pn/ 到/ q/ 的/ 最小值/ 大于/ lmax/ ,/ 则/ pn/ 不/ 可能/ 是/ q/ 的/ 最近/ 邻/ ,/ 否则/ pn/ 属于/ 结果/ 集/ Pn/ ./ 如果/ pn/ 是/ 结果/ 之一/ ,/ 则/ 需要/ 更新/ lmax/ 并且/ 调用/ 子/ 算法/ RefreshCandidates/ 将/ 结果/ 集中/ 不/ 满足条件/ 的/ 结果/ 去掉/ ./ 算法/ 2/ ./ 候选/ 集/ 刷新/ (/ RefreshCandidates/ )/ ./ 输入/ :/ 新/ 加入/ 查询/ 对象/ pn/ 输出/ :/ 最近/ 邻/ 结果/ 集/ Pn1/ ./ max/ ←/ d/ (/ pn/ ,/ q/ )/ -/ rpn2/ ./ Foreach/ (/ p/ ∈/ Pn/ )/ 3/ ./ If/ (/ d/ (/ p/ ,/ q/ )/ -/ rp/ >/ max/ )/ 4/ ./ Pn/ ←/ Pn/ -/ p/ 为/ 提高/ 性能/ ,/ 算法/ 1/ 采用/ 边界/ 量/ bound/ 对象/ 的/ 计算/ 条件/ ./ 第/ 13/ 行对/ bound/ 赋值/ ,/ 第/ 6/ 、/ 7/ 行/ 采用/ bound/ 对/ 查询/ 对象/ 进行/ 剪枝/ ./ 因为/ 如果/ 查询/ 对象/ p1/ 到/ 查询/ 点/ 的/ 最近/ 距离/ 比/ 另/ 一/ 查询/ 对象/ p2/ 到/ 查询/ 点/ 的/ 最/ 远距离/ 还/ 大/ ,/ 那么/ p1/ 绝不/ 可能/ 成为/ 查询/ 点/ 的/ 最近/ 邻/ ,/ 所以/ 查询/ 对象/ p1/ 可以/ 被/ 安全/ 剪枝/ ./ 当/ PU/ 未/ 被/ 剪枝/ 掉/ 的/ 查询/ 对象/ 都/ 被/ 检查/ 过/ 之后/ ,/ Pn/ 包含/ 的/ 即/ 是/ 所有/ 可能/ 成为/ 查询/ 点/ 最近/ 邻/ 的/ 查询/ 的/ 集合/ ./ 3.2/ 最近/ 邻/ 查询/ 结果/ 的/ 安全/ 区域/ 3.2/ ./ 1/ 不/ 确定/ 对象/ 的/ 区域分割/ 首先/ ,/ 本文/ 将/ 欧氏/ 空间/ 中/ 两点/ 之间/ 平分线/ 的/ 概念/ 在/ 障碍/ 空间/ 中/ 进行/ 推广/ ,/ 提出/ 两/ 不/ 确定/ 对象/ 之间/ 区域分割/ 的/ 概念/ ./ 为/ Up1/ 及/ Up2/ )/ 将/ 障碍/ 空间/ S/ =/ / 域/ :/ Bp/ -/ 1/ ,/ p2/ 、/ Bp1/ ,/ p2/ 及/ Bp/ -/ 2/ ,/ p1/ ,/ 其/ 满足/ 定义/ 3/ ./ 两/ 不/ 确定/ 对象/ p1/ ,/ p2/ (/ 其/ 不/ 确定/ 区域/ (/ 1/ )/ Bp/ -/ 1/ ,/ p2/ ∪/ Bp1/ ,/ p2/ ∪/ Bp/ -/ 2/ ,/ p1/ =/ S/ ;/ (/ 2/ )/ dmax/ (/ x/ ,/ pi/ )/ </ dmin/ (/ x/ ,/ pj/ )/ ,/ x/ ∈/ Bp/ -/ i/ ,/ pj/ ;/ (/ 3/ )/ dmax/ (/ x/ ,/ pi/ )/ >/ dmin/ (/ x/ ,/ pj/ )/ 例/ 3/ ./ 图/ 2/ 示例/ 了/ 障碍/ 空间/ 中/ 两/ 不/ 确定/ 对象/ p1/ 和/ p2/ 的/ 分割/ 区域/ ./ 其中/ 上方/ 横线/ 阴影/ 部分/ 为/ Bp/ -/ 2/ ,/ p1/ ,/ 该/ 区域/ 内/ 所有/ 点到/ 不/ 确定/ 对象/ p2/ 的/ 距离/ 肯定/ 大于/ 到/ 不/ 确定/ 对象/ p1/ 的/ 距离/ ./ 下方/ 阴影/ 部分/ 为/ Bp/ -/ 1/ ,/ p2/ ,/ 该/ 区域/ 内/ 所有/ 点到/ 不/ 确定/ 对象/ p1/ 的/ 距离/ 肯定/ 大于/ 到/ 不/ 确定/ 对象/ p2/ 的/ 距离/ ./ 而/ 中间/ 未标/ 阴影/ 的/ 部分/ 为/ Bp1/ ,/ p2/ ,/ p1/ 和/ p2/ 都/ 有/ 可能/ 成为/ 距离/ 该/ 区域/ 内/ 的/ 点/ 最近/ 的/ 不/ 确定/ 对象/ ./ 下面/ 给出/ 分割/ 区域/ 的/ 部分/ 性质/ 及/ 构造方法/ ./ 首先/ 考虑/ 构造/ Bp/ -/ 1/ ,/ p2/ 、/ Bp1/ ,/ p2/ 及/ Bp/ -/ 2/ ,/ p1/ 的/ 边界/ ./ 由/ 定义/ 3/ 知/ ,/ x/ ∈/ Bp/ -/ i/ ,/ pj/ 的/ 条件/ 为/ 其中/ dmax/ 和/ dmin/ 分为/ 代表/ 两点/ 之间/ 的/ 最大/ 距离/ 和/ 最小/ 距离/ ./ 则/ 式/ (/ 1/ )/ 可以/ 表示/ 为/ 即/ Bp/ -/ i/ ,/ pj/ 和/ Bpi/ ,/ pj/ 之间/ 的/ 边界/ 可以/ 表示/ 为/ lpi/ ,/ pj/ =/ {/ x/ |/ d/ (/ x/ ,/ p/ ·/ Page5/ 以图/ 2/ 为例/ 对/ 定义/ 3/ 描述/ 的/ 分割/ 区域/ 的/ 性质/ 进行/ 分析/ ./ 基于/ lp1/ ,/ p2/ 与/ lp2/ ,/ p1/ 在/ 构造/ 方式/ 上/ 的/ 对称性/ ,/ 只/ 需/ 对/ 边/ lp1/ ,/ p2/ 的/ 性质/ 进行/ 讨论/ ./ 观察/ 图/ 2/ 可知/ ,/ 边/ lp1/ ,/ p2/ 由/ 一系列/ 曲线/ 构成/ ,/ 其中/ 一部分/ 位于/ 点/ p/ ·/ 2/ 共同/ 的/ 可见/ 区域/ VIS/ (/ p/ ·/ p/ ·/ 分则/ 与/ 点/ p/ ·/ 种/ 情况/ 分别/ 进行/ 讨论/ ./ (/ 1/ )/ 在/ 点/ p/ ·/ 2/ )/ 内/ ,/ 边/ lp1/ ,/ p2/ 可定义/ 为/ VIS/ (/ p/ ·/ lp1/ ,/ p2/ ∩/ VIS/ (/ p/ ·/ {/ x/ |/ x/ ,/ p/ ·/ VIS/ (/ p/ ·/ 令点/ p/ ·/ y2/ )/ ,/ 并/ 采用/ 文献/ [/ 9/ ]/ 提出/ 的/ 不/ 确定/ 对象/ 之间/ 距离/ 的/ 分析方法/ ,/ 令则式/ |/ x/ ,/ p/ ·/ 其中/ α/ =/ (/ rpi/ +/ rpj/ )/ // 2/ ,/ β/ =/ |/ p/ ·/ x/ θ/ =/ x/ -/ x1/ +/ x2/ (/ )/ 2cos/ θ/ +/ y/ -/ y1/ +/ y2/ (/ )/ 2sin/ θ/ ;/ y/ θ/ =/ x1/ +/ x22/ -/ (/ )/ xsin/ θ/ +/ y/ -/ y1/ +/ y2/ (/ )/ 2cos/ θ/ ./ 式/ (/ 6/ )/ 指出/ ,/ lp1/ ,/ p2/ 中/ 满足/ 式/ (/ 4/ )/ 的/ 部分/ 由/ 双曲线/ 1/ )/ ∩/ VIS/ (/ D/ )/ ,/ 因此/ b2b3/ 由点/ D/ 和/ 点/ p/ ·/ 的/ 一段/ 构成/ ./ 图/ 2/ 中/ VIS/ (/ p/ ·/ b1b2/ 所在/ 的/ 阴影/ 区域/ ,/ 而/ 曲线/ 段/ b1b2/ 则/ 是/ lp1/ ,/ p2/ 满足/ 式/ (/ 6/ )/ 的/ 部分/ ./ (/ 2/ )/ 在/ 点/ p/ ·/ 少/ 一个点/ 不/ 可见/ )/ ,/ lp1/ ,/ p2/ 由/ 那些/ 在/ 该/ 位置/ 可见/ 的/ 点/ v/ (/ v/ ∈/ E/ )/ 决定/ ./ 例如/ ,/ 图/ 2/ 中/ 曲线/ 段/ b2b3/ 位于/ VIS/ (/ p/ ·/ 曲线/ 段/ b3b4/ 位于/ VIS/ (/ B/ )/ ∩/ VIS/ (/ D/ )/ ,/ 因此/ b2b3/ 由点/ D/ 和/ 点/ B/ 决定/ ./ 以/ b3b4/ 为例/ ,/ 在/ VIS/ (/ B/ )/ ∩/ VIS/ (/ D/ )/ 中/ ,/ 边/ lp1/ ,/ p2/ 可定义/ 为/ lp1/ ,/ p2/ ∩/ VIS/ (/ B/ )/ ∩/ VIS/ (/ D/ )/ =/ {/ x/ |/ x/ ,/ B/ |/ +/ rp1/ -/ |/ p/ ·/ VIS/ (/ B/ )/ ∩/ VIS/ (/ D/ )/ 对比/ 式/ (/ 7/ )/ 和/ 式/ (/ 4/ )/ 可知/ ,/ 式/ (/ 7/ )/ 也/ 可/ 转换/ 为/ 双曲线/ 的/ 形式/ ,/ 即将/ 点/ B/ 和/ 点/ D/ 的/ 坐标/ 分别/ 记/ 为/ (/ x1/ ,/ y1/ )/ 和/ (/ x2/ ,/ y2/ )/ ,/ 且/ 将/ 式/ (/ 6/ )/ 中/ α/ 和/ β/ 分别/ 替换/ 为/ 2/ 的/ 非/ 可见/ 区域/ VIS/ (/ B/ )/ ∩/ VIS/ (/ D/ )/ 也/ 是/ 由/ 双曲线/ p/ ·/ 构成/ ./ 根据/ 双曲线/ 的/ 性质/ 知/ ,/ 点/ D/ 和/ 点/ B/ 分别/ 是/ 该/ 双曲线/ 的/ 两个/ 焦点/ ./ 定义/ 4/ ./ 作为/ 双曲线/ 焦点/ 决定/ 分割线/ 部分/ 曲线/ 段/ 形状/ 的/ 两点/ 称为/ 该/ 曲线/ 段/ 的/ 两个/ 决定/ 点/ ./ 如图/ 2/ 中/ 曲线/ 段/ b3b4/ 的/ 决定/ 点为/ 点/ D/ 和/ 点/ B/ ./ 综合/ 上述/ 讨论/ ,/ 得到/ 两/ 不/ 确定/ 对象/ p1/ ,/ p2/ 在/ 障碍/ 空间/ S/ =/ / 定理/ 1/ ./ 两/ 相邻/ 分割/ 区域/ 的/ 分割/ 边/ lpi/ ,/ pj/ 由/ 一系列/ 曲线/ 段/ lpi/ ,/ pj/ =/ c1/ 一条/ 曲线/ 段/ 都/ 是/ 某/ 双曲线/ 的/ 一部分/ ./ 证明/ ./ 略/ (/ 参考/ 上文/ 相关/ 讨论/ )/ ./ 观察/ 图/ 2/ 可知/ ,/ 组成/ 每条/ 分割/ 边/ 的/ 曲线/ 段/ 是/ 部分/ 相邻/ 的/ ,/ 即/ 某些/ 曲线/ 段/ 邻接/ 在/ 一起/ 而/ 与/ 另外/ 的/ 曲线/ 段/ 之间/ 被/ 障碍物/ 分隔/ ./ 其中/ 相邻/ 的/ 曲线/ 段/ 有/ 如下/ 性质/ ./ 定理/ 2/ ./ 相邻/ 曲线/ 段/ ck/ 同/ 的/ 决定/ 点/ ./ 令/ M/ 为/ 曲线/ 段/ ck/ 定点/ ,/ Nk/ 及/ Nk/ +/ 1/ 为/ 二者/ 各自/ 的/ 另/ 一/ 决定/ 点/ ,/ 则/ 式/ pi/ ,/ pj/ ∈/ VIS/ (/ Nk/ +/ 1/ )/ 与/ ck/ +/ 1ck/ 个/ 成立/ ./ 令未/ 成立/ 的/ 决定/ 点为/ Nk/ ,/ 则/ 曲线/ 段/ ckpi/ ,/ pj/ 之间/ 的/ 交点/ 位于/ VIS/ (/ M/ )/ 中/ VIS/ (/ Nk/ )/ 的/ 边/ ck/ +/ 1/ 界处/ ./ 定点/ ,/ 设/ 曲线/ 段/ ckNk/ ,/ 2/ ,/ Nk/ +/ 1/ ,/ 1/ 和/ Nk/ +/ 1/ ,/ 2/ ,/ 则/ ckVIS/ (/ Nk/ ,/ 2/ )/ ,/ ck/ +/ 1/ 为/ 曲线/ 段/ ckVIS/ (/ Nk/ ,/ 2/ )/ 与/ VIS/ (/ Nk/ +/ 1/ ,/ 1/ )/ ∩/ VIS/ (/ Nk/ +/ 1/ ,/ 2/ )/ 相交/ ,/ 这/ 与/ Nk/ ,/ 1/ ,/ Nk/ ,/ 2/ ,/ Nk/ +/ 1/ ,/ 1/ ,/ Nk/ +/ 1/ ,/ 2/ 四点/ 互异/ 相/ 矛盾/ ./ 所以/ 相邻/ 线段/ ck/ 证明/ ./ 假设/ 曲线/ 段/ ck/ 将式/ (/ 8/ )/ 代入/ 式/ (/ 6/ )/ 可知/ ,/ 边/ lp1/ ,/ p2/ 在/ 点/ p/ ·/ 假设/ 式/ ck/ 都/ 成立/ ,/ 因为/ ck/ 是/ 隐含/ 成立/ 的/ ./ 所以/ 曲线/ 段/ ckVIS/ (/ M/ )/ ∩/ VIS/ (/ Nk/ )/ ∩/ VIS/ (/ Nk/ +/ 1/ )/ ./ 这/ 显然/ 是/ 不/ 可能/ 的/ ./ 都/ 不/ 成立/ ,/ 说明/ VIS/ (/ Nk/ )/ 和/ VIS/ (/ Nk/ +/ 1/ )/ 恰好/ 相切/ ,/ 且/ 切线/ 通过/ 曲线/ 段/ ck/ 的/ 前提条件/ 相/ 矛盾/ ./ 假设/ 式/ ckPage6/ 算法/ 3/ ./ 分割/ 边/ 生成/ ./ 输入/ :/ 查询/ 对象/ p1/ ,/ p2/ ,/ 可见/ 图/ G/ (/ V/ ,/ E/ )/ 输出/ :/ 分割/ 边/ lp1/ ,/ p21/ ./ P1/ ←/ p/ ·/ 2/ ./ While/ (/ P1/ ≠/ / )/ 3/ ./ n1/ ←/ min/ {/ p/ |/ d/ (/ p/ ,/ p1/ )/ ,/ p/ ∈/ P1/ }/ 4/ ./ While/ (/ P2/ ≠/ / )/ 5/ ./ n2/ ←/ min/ {/ p/ |/ d/ (/ p/ ,/ p2/ )/ ,/ p/ ∈/ P2/ }/ 6/ ./ If/ (/ VIS/ (/ n1/ )/ ∩/ VIS/ (/ n2/ )/ ≠/ / )/ 7/ ./ segn1/ ,/ n2/ ←/ 根据/ 式/ (/ 6/ )/ 及/ (/ 8/ )/ 计算/ 双曲线/ 方程/ 8/ ./ lp1/ ,/ p2/ ←/ lp1/ ,/ p2/ ∪/ segn1/ ,/ n29/ ./ P2/ ←/ P2/ -/ n2/ +/ vis/ (/ n2/ )/ 10/ ./ P1/ ←/ P1/ -/ n1/ +/ vis/ (/ n1/ )/ 例/ 4/ ./ 以图/ 2/ 为例/ 说明/ 定理/ 1/ 和/ 定理/ 2/ ./ 两/ 不/ 确定/ 对象/ p1/ 和/ p2/ 之间/ 分割/ 区域/ Bp/ -/ 1/ ,/ p2/ 和/ Bp1/ ,/ p2/ ,/ 一条/ 分割/ 边/ 由/ 曲线/ 段/ b1b2/ ,/ b2b3/ ,/ b3b4/ ,/ b5b6/ ,/ b6b7/ 和/ b7b8/ 组成/ ,/ 它们/ 的/ 决定/ 点/ 分别/ 为/ {/ p/ ·/ d/ }/ ,/ {/ c/ ,/ d/ }/ ,/ {/ c/ ,/ e/ }/ 和/ {/ p/ ·/ 点/ 依次/ 为/ p/ ·/ VIS/ (/ b/ )/ ,/ b6b7/ ∈/ VIS/ (/ d/ )/ 以及/ b7b8/ ∈/ VIS/ (/ c/ )/ ./ 基于/ 定理/ 1/ 和/ 定理/ 2/ ,/ 给出/ 障碍/ 空间/ 中/ 两/ 不/ 确定/ 对象/ 之间/ 分割/ 边/ 的/ 生成/ 算法/ ./ 由于/ 分割/ 区域/ 是/ 由/ 分割/ 边/ 直接/ 产生/ 的/ ,/ 所以/ 该/ 算法/ 即/ 是/ 障碍/ 空间/ 中/ 两/ 不/ 确定/ 对象/ 的/ 分割/ 区域/ 的/ 产生/ 算法/ ./ 算法/ 3/ 中/ P1/ 和/ P2/ 集合/ 中/ 分别/ 保存/ 了/ 从/ p1/ 方向/ 和/ p2/ 方向/ 开始查找/ 的/ 点集/ ,/ 并/ 将/ 两/ 集合/ 中/ 的/ 元素/ 按/ 距离/ 各自/ 起始/ 点由近/ 到/ 远/ 的/ 顺序/ 依次/ 配对/ ./ 第/ 6/ ~/ 8/ 行中/ 如果/ 两点/ 的/ 可视/ 区域/ 有/ 交集/ 的话/ ,/ 则/ 计算/ 该/ 区域/ 内以/ 两点/ 为/ 决定/ 点/ (/ 即/ 双曲线/ 焦点/ )/ 的/ 双曲线/ ,/ 并/ 将/ 其/ 加入/ 到/ 边/ 集中/ ./ 每/ 一组/ 配对/ 计算/ 结束/ 后/ ,/ 第/ 9/ 、/ 10/ 行/ 分别/ 对/ P1/ 和/ P2/ 集合/ 进行/ 刷新/ ,/ 将/ n2/ 和/ n1/ 查询/ 对象/ 从/ P1/ 和/ P2/ 集合/ 中/ 除去/ ,/ 并/ 将/ 它们/ 的/ 可见/ 点/ 加入/ 到/ P1/ 和/ P2/ 集合/ 中/ ./ 其中/ vis/ (/ n/ )/ 代表/ 在/ 点/ n/ ·/ 可见/ 并且/ 从未/ 被/ 加入/ 到/ 集合/ 中/ 的/ 节点/ v/ (/ v/ ∈/ E/ )/ ./ 3.2/ ./ 2/ 安全/ 区域/ 生成/ 令/ q/ 为/ 查询/ 点/ ,/ 查询/ 对象/ 集/ Pn/ 为/ q/ 的/ 可能/ 最近/ 邻集/ ,/ p/ 为/ Pn/ 中/ 任意/ 对象/ ./ 通过观察/ 图/ 2/ 知/ ,/ 任意/ 查询/ 对象/ p/ 附近/ 存在/ 一个/ 区域/ ,/ 在/ 这个/ 区域/ 内/ p/ 始终/ 属于/ 查询/ 点/ q/ 的/ 可能/ 最近/ 邻集/ ./ 定理/ 3/ ./ 在/ 查询/ 对象/ p/ 附近/ 存在/ 一个/ 区域/ ,/ 当/ 查询/ 点/ q/ 处于/ 该/ 区域/ 内时/ ,/ p/ 属于/ q/ 的/ 可能/ 最近/ 邻集/ Pn/ ./ 该/ 区域/ 称为/ 查询/ 对象/ p/ 的/ 支配/ 区域/ ,/ 记为/ Dom/ (/ p/ )/ ./ 证明/ ./ 假设/ 不/ 存在/ 该/ 区域/ ./ 令/ p/ 为/ Pn/ 中/ 任意/ 对象/ ,/ 当/ q/ 无限/ 接近/ p/ 时/ ,/ 均/ 存在/ d/ (/ p/ ·/ ,/ q/ )/ +/ rp/ </ d/ (/ p/ ·/ ,/ q/ )/ -/ rp/ ,/ 因此/ p/ 无限/ 接近/ p/ ./ 这/ 意味着/ Pn/ 中/ 的/ 所有/ 对象/ 都/ 与/ p/ 重合/ ,/ 显然/ 这/ 是/ 不/ 成立/ 的/ ./ 所以/ 对/ 任意/ p/ ,/ 必然/ 存在/ 区域/ Dom/ (/ p/ )/ ./ 证毕/ ./ 算法/ 4/ ./ 支配/ 区域/ 生成/ ./ 输入/ :/ 查询/ 对象/ p/ ,/ 查询/ 对象/ 集/ P/ ,/ 障碍/ 区域/ S/ 输出/ :/ 支配/ 区域/ Dom/ (/ p/ )/ 1/ ./ Dom/ (/ p/ )/ ←/ S/ ,/ bound/ ←/ 2/ ./ Foreach/ (/ p/ ∈/ P/ ,/ p/ ≠/ p/ )/ 3/ ./ If/ (/ bound/ </ d/ (/ p/ ,/ p/ )/ -/ rp/ )/ 4/ ./ Return5/ ./ 生成/ p/ 针对/ p/ 的/ 近/ 分割/ 边/ bp/ ,/ p6/ ./ 将/ Dom/ (/ p/ )/ 中/ 位于/ bp/ ,/ p/ 外/ 的/ 部分/ 去掉/ 7/ ./ bound/ ←/ dp/ ,/ p/ +/ rp/ 对/ 任意/ 对象/ p/ ,/ 定理/ 3/ 指出/ 的/ Dom/ (/ p/ )/ 具有/ 如/ Dom/ (/ p/ )/ =/ {/ x/ |/ d/ (/ p/ ·/ ,/ x/ )/ -/ rp/ >/ d/ (/ p/ ·/ ,/ x/ )/ +/ rp/ }/ 下/ 性质/ 即/ 对/ Dom/ (/ p/ )/ 中/ 的/ 任何/ 一点/ x/ 及/ P/ 中/ 其他/ 任何/ 对象/ p/ ,/ 点/ p/ ·/ 到/ x/ 的/ 距离/ 的/ 最大值/ 小于/ p/ ·/ 到/ x/ 距离/ 的/ 最小值/ ./ 结合/ 3.2/ ./ 1/ 节/ 的/ 讨论/ 可知/ ,/ Dom/ (/ p/ )/ 的/ 边界/ 由/ 对象/ p/ 和/ 其它/ 对象/ 之间/ 的/ 分割/ 边/ 构成/ ./ 且/ 该/ 分割/ 边为/ p/ 与/ 其它/ 对象/ p/ 每/ 一对/ 分割/ 边/ 中距离/ 对象/ p/ 较近/ 的/ 一条/ ,/ 下文/ 将/ 这种/ 距离/ p/ 较近/ 的/ 分割/ 边/ 称为/ p/ 针对/ p/ 的/ 近/ 分割/ 边/ ./ Dom/ (/ p/ )/ 生成/ 算法/ 中/ p/ 针对/ 其它/ 对象/ 的/ 近/ 分割/ 边/ 的/ 计算/ 需/ 调用/ 算法/ 3/ ./ 算法/ 4/ 中/ bound/ 的/ 作用/ 与/ 算法/ 1/ 作用/ 相同/ ,/ 用于/ 对/ 不必要/ 计算/ 的/ 对象/ 进行/ 剪枝/ ./ 算法/ 第/ 5/ 行对/ P/ 中/ 每个/ 未/ 被/ 剪枝/ 的/ 对象/ 调用/ 算法/ 3/ 生成/ 分割/ 边/ 并用/ 该/ 分割/ 边/ 对/ Dom/ (/ p/ )/ 切割/ ,/ 逐渐/ 逼近/ Dom/ (/ p/ )/ 结果/ ./ 当/ 所有/ 对/ p/ 有/ 作用/ 的/ 对象/ p/ 都/ 计算/ 过后/ ,/ Dom/ (/ p/ )/ 取得/ 最终/ 结果/ ./ 将/ 查询/ 点/ q/ 的/ 可能/ 最近/ 邻/ 结果/ 集/ Pn/ 中/ 每个/ 对象/ p/ 的/ 支配/ 区域/ Dom/ (/ p/ )/ 取/ 交集/ 则/ Dom/ (/ P/ )/ 即/ 为/ 查询/ 点/ q/ 的/ 安全/ 区域/ ,/ q/ 在/ 此/ 区域/ 内/ 运动/ 时/ ,/ 其/ 最近/ 邻/ 结果/ 集/ Pn/ 保持/ 不变/ ./ 3.2/ ./ 3/ 安全/ 区域/ 索引/ 采用/ 四分/ 树/ 的/ 方式/ 对/ 安全/ 区域/ 进行/ 索引/ 保存/ ./ 四分/ 树/ 每个/ 内部/ 结点/ 都/ 有/ 4/ 个子/ 结点/ ,/ 每个/ 内部/ 结点/ 将/ 当前/ 空间/ 均等/ 的/ 分为/ 4/ 个/ 区域/ ./ 设/ T/ θ/ 为/ 结点/ 对应/ 索引/ 区域/ 内/ 安全/ 区域/ 所/ 占/ 面积/ 比/ 的/ 阈值/ ,/ 即/ 如果/ 该/ 索引/ 区域/ 内/ 某/ 安全/ 区域/ 所/ 占/ 面积/ 比/ 超过/ T/ θ/ ,/ 即可/ 近似/ 认为/ 该/ 索引/ 区域/ 全部都是/ 该/ 安全/ 区域/ ./ 如果/ 某/ 区域/ 包含/ 的/ 任何/ 安全/ 区域/ 所/ 占/ 比例/ 都/ 小于/ T/ θ/ ,/ 那么/ 就/ 把/ 该/ 区域/ 继续/ 均等/ 的/ 划分/ 为/ 4/ 个/ 区域/ ,/ 依此类推/ ,/ Page7/ 直到/ 每个/ 区域/ 都/ 包含/ 一个/ 所/ 占/ 比例/ 大于/ T/ θ/ 的/ 安全/ 区域/ 数/ 为止/ ./ 四分/ 树/ 每个/ 叶子/ 节点/ 上/ 都/ 存储/ 了/ 该/ 节点/ 对应/ 的/ 安全/ 区域/ 的/ 最近/ 邻/ 结果/ 集/ ./ 查询/ 时/ 只/ 需/ 根据/ 查询/ 点/ 的/ 位置/ 到/ 四分/ 树/ 进行/ 遍历/ ,/ 即/ 可以/ O/ (/ logn/ )/ 的/ 复杂度/ 取得/ 最近/ 邻/ 结果/ 集/ ./ 3.3/ 不规则/ 不/ 确定/ 区域/ 及/ 不/ 确定/ 查询/ 点当/ 查询/ 对象/ p/ 的/ 不/ 确定/ 区域/ Up/ 不规则/ 时/ ,/ 可以/ 通过/ 构造/ 圆形/ 区域/ Cp/ ,/ 使/ 其/ 满足/ Up/ / Cp/ 并且/ r/ (/ Cp/ )/ / / r/ (/ Cp/ )/ ,/ Up/ / Cp/ ,/ 其中/ r/ (/ Cp/ )/ 代表/ 圆/ Cp/ 的/ 半径/ ./ 即/ Cp/ 为/ 包含/ 不/ 确定/ 区域/ Up/ 的/ 最小/ 圆形/ 区域/ ./ 在/ 计算/ 时/ ,/ 以/ Cp/ 代替/ Up/ 进行/ 最近/ 邻/ 查询/ 及/ 安全/ 区域/ 生成/ ./ 这种/ 采用/ 最小/ 包含/ 圆形/ 区域/ 替换/ 的/ 方法/ 会/ 对/ 最终/ 查询/ 结果/ 引入/ 误差/ ,/ 即/ 可能/ 将/ 本来/ 没有/ 可能/ 成为/ 查询/ 点/ q/ 最近/ 邻/ 的/ 结果/ 包括/ 到/ 结果/ 集内/ ./ 因此/ 结果/ 集/ Pn/ 生成/ 后/ 需要/ 对/ Pn/ 中/ 的/ 结果/ 采用/ 真实/ 不/ 确定/ 区域/ 进行/ 复查/ ./ 以/ 行驶/ 的/ 汽车/ 为例/ ,/ 由于/ GPS/ 定位/ 误差/ ,/ 它/ 作为/ 查询/ 点/ 的/ 位置/ 是/ 不/ 精确/ 的/ ./ 当/ 查询/ 点/ q/ 位置/ 不/ 确定/ 时/ ,/ 设/ 区域/ Uq/ 为/ q/ 的/ 不/ 确定/ 区域/ ./ 观察/ 算法/ 1/ 知/ ,/ 该/ 算法/ 支持/ 对/ 不/ 确定/ 查询/ 点/ 的/ 计算/ ,/ 即以/ 区域/ Uq/ (/ Uq/ 为/ 圆形/ )/ 或/ 包含/ Uq/ 的/ 最小/ 外接圆/ (/ Uq/ 为/ 其它/ 非/ 规则/ 区域/ )/ 的/ 圆心/ q/ ·/ 和/ 半径/ cq/ 代入/ 算法/ 1/ ,/ 即可/ 解出/ q/ 的/ 最近/ 邻/ ./ 在/ 对/ 不/ 确定/ 查询/ 点/ q/ 进行/ 安全/ 区域/ 检测/ 时/ ,/ 将/ 与/ Uq/ 存在/ 重合/ 部分/ 的/ 安全/ 区域/ 的/ 最近/ 邻/ 结果/ 集取/ 并/ 集/ ,/ 所得/ 结果/ 即/ 为/ 对/ 不/ 确定/ 查询/ 点/ q/ 的/ 最近/ 邻/ 结果/ 集/ ./ 综上/ ,/ 本文/ 提出/ 的/ 障碍/ 空间/ 中/ 不/ 确定/ 对象/ 的/ 最近/ 邻/ 查询方法/ 可以/ 应用/ 到/ 不规则/ 不/ 确定/ 区域/ 及/ 不/ 确定/ 查询/ 点/ 的/ 情况/ ./ 4/ 实验/ 结果/ 与/ 分析/ 实验/ 主要/ 考察/ 提出/ 方法/ 的/ 预处理/ 性能/ 和/ 查询处理/ 效率/ ./ 实验/ 运行/ 环境/ 为/ XeonE5580/ ×/ 2CPU/ 、/ 32GB/ 内存/ 和/ 运行/ 64/ 位/ WindowsXP/ 系统/ 的/ HPZ800/ 工作站/ ./ 本文/ 方法/ 采用/ C++/ 语言/ 实现/ ,/ VisualStudio2008/ 编译/ (/ // GL/ ,/ // O2/ 优化/ )/ ./ 实验/ 空间/ 设定/ 为/ 20000/ ×/ 20000/ 单位/ 的/ 平面/ ./ 采用/ R/ / -/ tree/ 作为/ 平面/ 内/ 不/ 确定/ 对象/ 的/ 存储/ 结构/ ./ 采用/ 两个/ 真实/ 数据/ 集/ Rivers/ 和/ Lakes/ ①/ 作为/ 障碍物/ 集/ (/ 见图/ 3/ 和/ 图/ 4/ )/ ./ 用/ R/ -/ treePortal/ 提供/ 的/ 数据/ 生成/ 软件/ ②/ 生成/ 不/ 确定/ 对象/ 数据/ 集/ ,/ 每个/ 对象/ 具有/ 一个/ 圆形/ 不/ 确定/ 区域/ ,/ 并/ 在/ 该/ 区域/ 内/ 服从/ 高斯分布/ ./ 这些/ 对象/ 采用/ 均匀分布/ 和/ Zipf/ 分布/ 两种/ 形式/ 分布/ 在/ 实验/ 空间/ 中/ ,/ 其中/ Zipf/ 分布/ 的/ 斜/ 相关系数/ 设/ 为/ α/ =/ 0.85/ ./ 查询/ 点/ 移动/ 路径/ 分为/ 直线/ 路径/ 和/ 随机/ 路径/ 两种/ ./ 直线/ 路径/ 当/ 查询/ 点接触/ 障碍物/ 后/ 按/ 镜面反射/ 角度/ 继续/ 直线/ 前进/ ;/ 随机/ 路径/ 每/ 前进/ 50/ 单位/ 距离/ 后/ 随机/ 变换/ 前进方向/ ./ 实验/ 通过/ 变化/ 障碍物/ 个数/ |/ O/ |/ (/ 从/ 数据/ 集/ Rivers/ 和/ Lakes/ 中/ 随机/ 选择/ )/ 、/ 查询/ 对象/ 与/ 障碍物/ 比例/ |/ P/ |/ // |/ O/ |/ 、/ 不/ 确定/ 区域/ 大小/ radius/ 等/ 变量/ ,/ 考察/ 了/ 提出/ 方法/ 的/ I/ // O/ 代价/ 、/ 预处理/ (/ 即/ 生成/ 安全/ 区域/ )/ 时间/ 、/ 运行/ 时间/ 、/ 通信/ 代价/ 等/ ./ 为/ 保证/ 实验/ 结果/ 的/ 准确/ ,/ 每组/ 实验/ 令/ 对象/ 采用/ 两种/ 分布/ 查询/ 点/ 和/ 两种/ 移动/ 路径/ 产生/ 4/ 种/ 组合/ 并取/ 其/ 平均值/ ./ 图/ 5/ 给出/ 了/ 不同/ 障碍物/ 个数/ |/ O/ |/ 的/ I/ // O/ 代价/ 的/ 实验/ 结果/ ./ I/ // O/ 代价/ 随/ 障碍物/ 个数/ |/ O/ |/ 的/ 增大/ 逐渐/ 增大/ ,/ 并且/ Quad/ -/ tree/ 实现/ 方式/ 效率/ 明显/ 好于/ ①/ ②/ Page8R/ -/ tree/ 实现/ ./ 这是/ 由于/ Quad/ -/ tree/ 对点/ 在/ 区域/ 内/ 的/ 检测/ 方式/ 优于/ R/ -/ tree/ ./ 图/ 6/ 给出/ 了/ 不同/ 障碍物/ 个数/ |/ O/ |/ 的/ 查询/ 时间/ 的/ 实验/ 结果/ ./ 与/ I/ // O/ 代价/ 类似/ ,/ 查询/ 时间/ 随/ 障碍物/ 个数/ |/ O/ |/ 的/ 增大/ 逐渐/ 增大/ ,/ 并且/ Quad/ -/ tree/ 实现/ 方式/ 效率/ 明显/ 好于/ R/ -/ tree/ 实现/ ./ 图/ 7/ 给出/ 了/ 不同/ 的/ 对象/ 障碍物/ 比/ |/ P/ |/ // |/ O/ |/ 的/ 预处理/ 时间/ 的/ 实验/ 结果/ ./ 查询/ 时间/ 随/ |/ P/ |/ // |/ O/ |/ 的/ 变化/ 先/ 减少/ 后/ 增加/ ,/ 这/ 是因为/ 当/ |/ P/ |/ 相对/ 较大/ 时/ ,/ 安全/ 区域/ 划分/ 就/ 相对/ 较/ 小/ ,/ 安全/ 区域/ 个数/ 相对/ 较大/ ,/ 因此/ 需要/ 较长/ 的/ 计算/ 时间/ ./ 而/ 当/ |/ O/ |/ 较大/ 时/ ,/ 安全/ 区域/ 的/ 边界/ 受/ 障碍物/ 的/ 影响/ 较大/ ,/ 因而/ 计算/ 边界/ 的/ 代价/ 较大/ ,/ 因此/ 也/ 需要/ 较长/ 的/ 计算/ 时间/ ./ 图/ 8/ 给出/ 了/ 不同/ 的/ 对象/ 障碍物/ 比/ |/ P/ |/ // |/ O/ |/ 的/ 查询/ 通信/ 代价/ 的/ 实验/ 结果/ ./ 查询/ 通信/ 代价/ 随/ |/ P/ |/ // |/ O/ |/ 的/ 变化/ 不/ 明显/ ,/ 并且/ Lakes/ 数据/ 集/ 的/ 结果/ 明显/ 优于/ Rivers/ 数据/ 集/ 的/ 结果/ ./ 这是/ 由于/ Lakes/ 数据/ 集中/ 障碍物/ 的/ 数量/ 少于/ Rivers/ 数据/ 集/ ,/ 从而/ 导致/ Lakes/ 数据/ 集中/ 安全/ 区域/ 较大/ ,/ 查询/ 点/ 移动/ 时/ 穿过/ 安全/ 区域/ 边界/ (/ 需要/ 与/ 服务器/ 通信/ )/ 的/ 次数/ 较少/ ./ 图/ 9/ 给出/ 了/ 不同/ 不/ 确定/ 对象/ 半径/ 的/ 预处理/ 时间/ 代价/ 实验/ 结果/ ./ 预处理/ 时间/ 随着/ 不/ 确定/ 对象/ 的/ 半径/ 增长/ ,/ 预处理/ 时间/ 也/ 不断/ 增长/ ./ 这是/ 由于/ 不/ 确定/ 对象/ 半径/ 增加/ 造成/ 对象/ 之间/ 可能/ 长度/ 的/ 计算/ 复杂程度/ 增加/ ,/ 进而/ 造成/ 整体/ 预处理/ 时间/ 的/ 增长/ ./ Lakes/ 数据/ 集/ 的/ 结果/ 明显/ 优于/ Rivers/ 数据/ 集/ 的/ 结果/ ,/ 是因为/ 对/ 该/ 数据/ 集/ 的/ 处理/ 数量/ 明显/ 小于/ 后者/ ./ 图/ 10/ 给出/ 了/ 不同/ 不/ 确定/ 对象/ 半径/ 和/ 通信/ 代价/ 实验/ 结果/ ./ 从图/ 中/ 可以/ 看出/ ,/ 由于/ 通信/ 代价/ 与/ 不/ 确定/ 半径/ 无关/ ,/ 不同/ 半径/ 对/ 通信/ 代价/ 几乎/ 没有/ 影响/ ./ Page9/ 图/ 11/ 给出/ 了/ 本文/ 方法/ 与/ 传统/ 的/ 非/ 基于/ 安全/ 区域/ 的/ 最近/ 邻/ 查询方法/ 的/ 执行/ 时间/ 对比/ ./ 本文/ 方法/ 在/ 执行/ 时间/ 上/ 优于/ 传统/ 方法/ ,/ 并且/ 在/ 障碍物/ 增多/ 时/ 远远/ 优于/ 传统/ 方法/ ./ 这/ 是因为/ 本文/ 提出/ 的/ 方法/ 节省/ 了/ 很/ 多次/ 查询/ 操作/ ,/ 当/ 查询/ 点/ 没有/ 移出/ 安全/ 区域/ 时/ ,/ 本文/ 方法/ 可以/ 直接/ 返回/ 结果/ ,/ 而/ 不/ 需要/ 与/ 服务器/ 通信/ ./ 只有/ 当/ 查询/ 点/ 越过/ 安全/ 区域/ 边界/ 时/ ,/ 本文/ 方法/ 才/ 需要/ 向/ 服务器/ 请求/ 新/ 的/ 查询/ ./ 图/ 12/ 给出/ 了/ 本文/ 方法/ 与/ 传统/ 的/ 非/ 基于/ 安全/ 区域/ 的/ 最近/ 邻/ 查询方法/ 的/ 通信/ 代价/ 对比/ ./ 本文/ 方法/ 在/ 通信/ 代价/ 上/ 远远/ 优于/ 传统/ 方法/ ,/ 原因/ 同上/ ./ 5/ 结论/ 本文/ 研究/ 障碍/ 空间/ 中/ 不/ 确定/ 对象/ 连续/ 最近/ 邻/ 查询/ 的/ 处理/ 方法/ ./ 基于/ 空间/ 障碍物/ 及/ 不/ 确定/ 对象/ 的/ 数据模型/ ,/ 形式化/ 地/ 提出/ 障碍/ 空间/ 中/ 不/ 确定/ 对象/ 最近/ 邻/ 查询/ 问题/ ,/ 并/ 设计/ 了/ 一种/ 高效/ 的/ 基于/ 障碍/ 空间/ 距离/ 的/ 算法/ 来/ 进行/ 查询处理/ ,/ 其中/ 运用/ 了/ 一种/ 剪枝/ 技术/ 来/ 提高/ 性能/ ./ 本文/ 提出/ 了/ 不/ 确定/ 对象/ 分割/ 区域/ 的/ 概念/ ,/ 并/ 以/ 之/ 为/ 基础/ 设计/ 一种/ 有效/ 的/ 安全/ 区域/ 生成/ 方法/ ./ 实验/ 结果表明/ ,/ 本文/ 所/ 提出/ 的/ 方法/ 具有/ 良好/ 的/ 效率/ 和/ 可扩展性/ ./ 

