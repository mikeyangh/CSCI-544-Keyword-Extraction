Page1/ 输入/ 队列/ 交换机/ 中/ 嵌套/ 周期/ 流/ 优化/ 调度/ 问题/ 的/ 复杂性/ 分析/ 吴俊/ 李斌/ (/ 扬州/ 大学/ 信息/ 工程学院/ 江苏/ 扬州/ 225009/ )/ 摘要/ 许多/ 网络应用/ 需要/ 网络/ 交换/ 节点/ 能/ 保证/ 分组/ 转发/ 的/ 时延/ ,/ 周期/ 流量/ 的/ 调度/ 是/ 提供/ 这一/ 保证/ 的/ 重要/ 手段/ ./ 在/ 流量/ 负荷/ 过载/ 的/ 情况/ 下/ ,/ 如何/ 进行/ 优化/ 调度/ 是/ 该/ 领域/ 的/ 重要/ 课题/ ./ 文中/ 首先/ 依据/ 交换机/ 吞吐/ 率和呼/ 损率/ 两个/ 性能指标/ ,/ 分别/ 定义/ 了/ 两种/ 交换机/ 周期/ 流量/ 调度/ 的/ 最优化/ 问题/ ./ 为了/ 分析/ 这些/ 优化/ 调度/ 问题/ 的/ 复杂性/ ,/ 文中/ 定义/ 了/ 一种/ 受限/ 的/ Max2Sat/ 问题/ ,/ 并/ 证明/ 该/ Max2Sat/ 问题/ 是/ NP/ 完全/ 的/ ./ 然后/ ,/ 通过/ 将/ 该/ 问题/ 多项式/ 归约/ 到/ 交换机/ 周期/ 流/ 优化/ 调度/ 问题/ ,/ 证明/ 了/ 仅/ 有/ 1/ 和/ 2/ 嵌套/ 周期/ 流/ 的/ 交换机/ 优化/ 调度/ 问题/ 是/ 强/ NP/ 完全/ 问题/ ./ 并/ 进一步/ 利用/ 该/ 结果/ 证明/ 了/ 任意/ 嵌套/ 周期/ 的/ 优化/ 调度/ 问题/ 也/ 是/ NP/ 难/ 的/ ./ 关键词/ 输入/ 队列/ ;/ 交换机/ ;/ 分组/ 调度/ ;/ 周期/ 流/ ;/ 硬/ 实时/ ;/ NP/ 完全/ 1/ 引言/ 由于/ 输出/ 队列/ 结构/ 的/ 交换/ 机制/ 存在/ 严重/ 的/ 可扩展性/ 问题/ ,/ 目前/ 大量/ 的/ 高速/ 交换/ 节点/ 采用/ 了/ 输入/ 队列/ 结构/ [/ 1/ -/ 5/ ]/ 或/ Broadcast/ -/ and/ -/ Select/ 光纤/ 交换/ 机制/ [/ 6/ -/ 10/ ]/ ./ 这类/ 交换/ 节点/ 在/ 分组/ 转发/ 时/ 有着/ 共同/ 的/ 限制/ :/ 同一/ 时刻/ 任意/ 两个/ 被/ 转发/ 的/ 分组/ 不能/ 涉及/ 同一个/ 输入/ 或/ 输出/ 端口/ (/ 或/ 收发器/ )/ ,/ 否则/ 将/ 产生/ 冲突/ ./ 因此/ 在/ 作/ 分组/ 调度/ 决策/ 时/ 不仅/ 要/ 考虑/ 分组/ 调度/ 的/ 目标/ Page2/ 还要/ 考虑/ 冲突/ 的/ 解析/ ./ 另一方面/ ,/ 随着/ 多媒体信息/ 的/ 广泛/ 使用/ ,/ 网络/ 中/ 实时/ 流量/ 所/ 占/ 比重/ 日益/ 增多/ ./ 这类/ 实时/ 流量/ 一般/ 要求/ 分组/ 在/ 被/ 转发/ 到/ 目的地/ 时/ 满足/ 一定/ 的/ 时限/ 要求/ ./ 这/ 要求/ 网络/ 的/ 交换/ 节点/ 在/ 作/ 资源分配/ 决策/ 时/ 能够/ 考虑/ 到/ 流量/ 的/ 这种/ 需求/ ,/ 即/ 提供/ 一种/ QoS/ 保证/ 的/ 转发/ 服务/ ./ 支持/ QoS/ 的/ 交换机/ 调度/ 问题/ 与/ 网络/ 的/ 性能/ 及/ 服务/ 能力/ 密切相关/ ,/ 因而/ 得到/ 了/ 广泛/ 而/ 深入/ 的/ 研究/ ./ 解决/ 这一/ 问题/ 的/ 思路/ 大致/ 可以/ 分为/ 3/ 种/ :/ 区分/ 服务/ 方式/ 、/ 软/ 实时/ 调度/ 和/ 硬/ 实时/ 调度/ ./ 区分/ 服务/ 方式/ 只能/ 提供/ 统计/ 意义/ 上/ 的/ 质量保证/ ,/ 一般/ 不能/ 提供/ 刚性/ 的/ 时延/ 保证/ ./ 文献/ [/ 3/ ]/ 提出/ 了/ 一种/ 基于/ 博弈/ 的/ 帧/ 调度/ 算法/ ,/ 该/ 算法/ 在/ 输入/ 流量/ 不过/ 载/ 的/ 情况/ 下/ 可以/ 达到/ 100/ %/ 的/ 吞吐/ 率且/ 能够/ 对/ 不同/ 的/ 流/ 提供/ 不同/ 带宽/ 的/ 服务/ ./ 文献/ [/ 8/ ]/ 中/ 给出/ WDM/ 光纤网络/ 的/ 一种/ 自/ 适应/ 调度/ 算法/ MLF/ -/ TTS/ ,/ 该/ 算法/ 兼顾/ 了/ 对/ 实时/ 流量/ 的/ 响应/ 和/ 非/ 实时/ 流量/ 的/ 性能/ ./ 但/ 由于/ 这/ 类/ 算法/ 难以/ 提供/ 刚性/ 的/ 服务质量/ 保证/ ,/ 不能/ 满足/ 对/ 时延/ 、/ 带宽/ 等/ 有着/ 严格要求/ 的/ 应用/ ./ 软/ 实时/ 调度/ 算法/ 一般/ 通过/ 对/ 服务/ 带宽/ 的/ 确保/ 来/ 提供/ 时延/ 的/ 保证/ ./ 这种/ 带宽/ 的/ 保证/ 可以/ 通过/ 将/ PGPS/ (/ Packet/ -/ by/ -/ PacketGeneralizedProcessorSharing/ )/ 方法/ 引入/ 到/ 交换机/ 调度/ 中/ 加以解决/ ./ 文献/ [/ 2/ ]/ 将/ PGPS/ 与/ 稳定/ 婚姻/ 匹配/ 算法/ 相结合/ ,/ 为/ 每条/ 虚/ 电路/ 提供/ 了/ 服务/ 带宽/ 的/ 保证/ ./ 文献/ [/ 5/ ]/ 采用/ Birk/ -/ hoff/ -/ vonNeumann/ 算法/ 将/ 流量/ 矩阵/ 分解/ 再/ 结合/ PGPS/ 来/ 提供/ 每条/ 分组/ 流/ 的/ 带宽/ 保证/ ./ PGPS/ 本质/ 上/ 属于/ fluid/ -/ track/ 方法/ ,/ 文献/ [/ 4/ ,/ 11/ ]/ 进一步/ 深入/ 地/ 研究/ 了/ 交换机/ 调度/ 中/ 的/ fluid/ -/ track/ 方法/ ./ 文献/ [/ 4/ ]/ 的/ 结果表明/ 采用/ fluid/ -/ track/ 类/ 的/ 调度/ 算法/ ,/ 交换机/ 滞留/ (/ backlogged/ )/ 的/ 分组/ 数是/ O/ (/ N2/ )/ ./ 文献/ [/ 11/ ]/ 显示/ 最优/ 的/ fluid/ -/ track/ 策略/ 只/ 存在/ 于/ 2/ ×/ 2/ 交换机/ ./ 这/ 表明/ ,/ 交换机/ 软/ 实时/ 调度/ 算法/ 只能/ 提供/ 较松/ 的/ 时延/ 界/ 保证/ ./ 硬/ 实时/ 调度/ 是/ 交换机/ 调度/ 的/ 一个/ 重要/ 课题/ ,/ 这/ 不仅/ 因为/ 它/ 可以/ 同时/ 提供/ 时延/ 和/ 带宽/ 的/ 保证/ ,/ 而且/ 目前/ 的/ 光纤/ 交换/ 节点/ 没有/ 大量/ 的/ 光/ 存储器/ ,/ 而软/ 实时/ 调度/ 却/ 需要/ 较大/ 的/ 分组/ 缓存/ 队列/ ./ 文献/ [/ 6/ ]/ 讨论/ 了/ 逐/ 分组/ 时限/ 保证/ 可/ 调度/ 问题/ 的/ 复杂性/ ,/ 通过/ 将/ TTD/ 问题/ [/ 12/ ]/ (/ TimeTableDesign/ )/ 归约/ 到/ 该/ 问题/ ,/ 证明/ 了/ 仅/ 有/ 3/ 个/ 时限/ 类硬/ 实时/ 分组/ 可/ 调度/ 问题/ 是/ NP/ 完全/ 的/ ./ 文献/ [/ 1/ ]/ 研究/ 了/ 逐/ 分组/ 时限/ 保证/ 的/ 分组/ 最优/ 调度/ 问题/ ,/ 证明/ 了/ 当仅/ 有/ 两个/ 时限/ 类且/ 第/ 1/ 个类/ 及/ 总和/ 流量/ 不过/ 载/ 的/ 情况/ 下/ ,/ 这种/ 硬/ 实时/ 调度/ 问题/ 是/ 多项式/ 可解/ 的/ ,/ 并/ 基于/ 两个/ 类/ 的/ 调度/ 算法/ 设计/ 了/ 解决/ 多个/ 时限/ 类/ 的/ 启发式/ 算法/ ./ 文献/ [/ 13/ ]/ 进一步/ 证明/ 了/ 两个/ 时限/ 类时/ ,/ 若/ 第/ 1/ 个类/ 和/ 总和/ 的/ 流量/ 过载/ 的/ 最优/ 调度/ 问题/ 仍然/ 是/ NP/ 难/ 的/ ./ 文献/ [/ 6/ -/ 7/ ]/ 给出/ 了/ EDD/ (/ EarliestDueDate/ )/ 、/ MLF/ (/ MinimumLaxityFirst/ )/ 等/ 启发式/ 算法/ 得到/ 可行/ 解/ 的/ 负载/ 条件/ ./ 文献/ [/ 14/ ]/ 研究/ 了/ 周期/ 流/ 的/ 交换机/ 硬/ 实时/ 调度/ 问题/ ,/ 提出/ 的/ NPS/ (/ NestedPeriodScheduling/ )/ 算法/ 能/ 解决/ 嵌套/ 周期/ 的/ 可/ 调度/ 问题/ ,/ 并/ 给出/ 了/ NPS/ 用于/ 非/ 嵌套/ 周期/ 时/ 的/ 性能/ 界/ ./ 本文/ 着重/ 讨论/ 交换机/ 嵌套/ 周期/ 流/ 优化/ 调度/ 问题/ 的/ 复杂性/ ./ 首先/ 我们/ 定义/ 了/ 两种/ 交换机/ 的/ 优化/ 调度/ 问题/ ,/ 通过/ 将/ 一种/ 受限/ 的/ Max2Sat/ 问题/ 多项式/ 归约/ 到/ 这/ 两个/ 优化/ 问题/ ,/ 证明/ 了/ 即使/ 是/ 只有/ 1/ 和/ 2/ 两种/ 周期/ 的/ 情况/ 下/ ,/ 这/ 类/ 优化/ 调度/ 问题/ 也/ 是/ 强/ NP/ 完全/ 的/ ./ 且/ 1/ 和/ 2/ 周期/ 优化/ 调度/ 问题/ 的/ NPC/ 证明/ 方法/ 可以/ 推广/ 至/ 1/ 和/ k/ 周期/ 的/ 情况/ (/ k/ 为/ 任意/ 大于/ 1/ 的/ 整数/ )/ ./ 最后/ 我们/ 将/ 1/ 和/ k/ 周期/ 的/ 最优/ 调度/ 问题/ 多项式/ 规约/ 到/ 任意/ 嵌套/ 周期/ 的/ 情况/ ,/ 从而/ 证明/ 任意/ 嵌套/ 周期/ 流/ 的/ 最优/ 调度/ 问题/ 是/ NP/ 难/ 的/ ./ 2/ 问题/ 描述/ 无/ 阻塞/ 交换机/ 的/ 规模/ 是/ N/ ×/ N/ ,/ 链路/ 和/ 交换机/ 的/ 工作/ 时间/ 被/ 分成/ 大小/ 相等/ 的/ 时间/ 片/ ,/ 称为/ 时隙/ (/ timeslot/ )/ ./ 传输/ 的/ 分组/ 是/ 等/ 长/ 的/ ,/ 每个/ 时隙/ 传输/ 一个/ 分组/ ./ 交换机/ 是/ 同步/ 工作/ 的/ ,/ 即/ 每个/ 分组/ 的/ 传输/ 均/ 起/ 始于/ 一个/ 时隙/ 的/ 开始/ ./ 交换机/ 在/ 转发/ 分组/ 时/ ,/ 每个/ 时隙/ 需要/ 有/ 一个/ 配置/ 矩阵/ 用以/ 刻画/ 转发/ 决策/ ,/ 本文/ 将/ 这种/ 配置/ 矩阵/ 称为/ 调度/ s/ ./ 显然/ s/ 作为/ 一个/ 调度/ 必须/ 满足/ ∑/ N/ 本文/ 主要/ 讨论/ 一种/ 上述/ 交换机/ 中/ 分组/ 流/ 的/ 硬/ 实时/ (/ hardreal/ -/ time/ )/ 调度/ 问题/ ./ 这里/ 一条/ 分组/ 流指/ 的/ 是/ 一个/ 分组/ 序列/ ,/ 该/ 序列/ 中/ 的/ 分组/ 来自/ 同一个/ 输入/ 端口/ 且/ 去往/ 同一个/ 输出/ 端口/ ./ 这种/ 分组/ 流/ 有着/ 恒定/ 速率/ ,/ 即/ 每隔/ P/ 个/ 时隙/ 有/ 一个/ 分组/ ,/ 我们/ 将/ P/ 称为/ 该/ 分组/ 流/ 的/ 周期/ ./ 如果/ 所有/ 的/ 流/ 有着/ 相同/ 的/ 相位/ ,/ 称为/ 是/ 周期/ 同步/ 的/ ,/ 下文/ 所/ 提及/ 之/ 周期/ 流均/ 为/ 周期/ 同步/ 的/ ./ 硬/ 实时/ 调度/ 要求/ 每个/ 分组/ 必须/ 在/ 该/ 流中下/ 一个/ 分组/ 产生/ 以前/ 被/ 调度/ ,/ 即该/ 分组/ 流中/ 分组/ 调度/ 的/ 时限/ (/ deadline/ )/ 为/ P/ ./ 我们/ 以/ 流量/ 矩阵/ 犉/ k/ 来/ 表示/ 所有/ 周期/ 为/ Pk/ 的/ 流/ ,/ 其中/ 矩阵/ 的/ 项/ 犉/ k/ (/ i/ ,/ j/ )/ 表示/ 来自/ 输入/ 端/ i/ 去往/ 输出/ 端/ j/ 的/ 周期/ 为/ Pk/ 的/ 流/ 数量/ ./ 当给/ Page3/ 定/ 一组/ 周期/ 分别/ 为/ P1/ ,/ P2/ ,/ …/ ,/ Pk/ ,/ 流量/ 矩阵/ 为/ 犉/ 1/ ,/ 犉/ 2/ ,/ …/ ,/ 犉/ k/ 的/ 流/ 集合/ ,/ 我们/ 用/ m/ 表示/ 所有/ 周期/ 的/ 最小/ 公倍数/ ,/ 即/ m/ =/ lcm/ (/ P1/ ,/ P2/ ,/ …/ ,/ Pk/ )/ ./ 周期/ 流/ 调度/ 的/ 任务/ 就是/ 给出/ 交换机/ 的/ 一组/ 调度/ S/ =/ {/ s1/ ,/ s2/ ,/ …/ ,/ sm/ }/ 来/ 确定/ 分组/ 的/ 转发/ ./ 如果/ 给定/ 的/ 周期/ 满足/ / i/ </ j/ :/ lcm/ (/ Pi/ ,/ Pj/ )/ =/ Pj/ ,/ 则/ 称/ 这类/ 周期/ 流为/ 嵌套/ (/ nested/ )/ 周期/ 流/ ./ MP/ -/ TSA/ 问题/ (/ Multiple/ -/ PeriodTimeSlotAssignment/ )/ 指当/ 交换机/ 不过/ 载时/ (/ 即/ 任何时刻/ 交换机/ 的/ 归一化/ 负荷/ 小于/ 1/ )/ ,/ 寻找/ 一组/ 调度/ 使得/ 每个/ 分组/ 能够/ 在/ 时限/ 过期/ 前/ 得到/ 转发/ ./ 当/ 讨论/ 这/ 类/ 调度/ 问题/ 的/ 复杂性/ 时/ ,/ 本文/ 以/ 交换机/ 的/ 规模/ 作为/ 问题/ 的/ 度量/ ,/ 因此/ 我们/ 仅/ 考虑/ m/ / p/ (/ N/ )/ 的/ 情况/ (/ m/ >/ p/ (/ N/ )/ 必然/ 没有/ 有效/ 算法/ )/ ,/ p/ (/ ·/ )/ 为/ 一/ 多项式/ 函数/ ./ 目前/ ,/ 嵌套/ 周期/ 流/ MP/ -/ TSA/ 问题/ 已/ 被/ 证明/ 是/ 可以/ 在/ 多项式/ 时间/ 内/ 可/ 调度/ 的/ [/ 14/ ]/ ./ 我们/ 这里/ 考虑/ 比/ MP/ -/ TSA/ 问题/ 更/ 一般/ 的/ 情况/ ,/ 即/ 交换机/ 面临/ 的/ 流量/ 是/ 过载/ 的/ ,/ 这是/ 网络/ 控制/ 中比/ MP/ -/ TSA/ 更为/ 现实/ 的/ 问题/ ./ 交换机/ 的/ 输入/ 流量/ 可能/ 是/ 过载/ 的/ ,/ 导致/ 一些/ 分组/ 在/ 调度/ 时/ 必须/ 丢弃/ ./ 由于/ 是/ 硬/ 实时/ 调度/ ,/ 因此/ 同/ 一条/ 流中/ 的/ 分组/ 或者/ 全部/ 被/ 丢弃/ 或者/ 全部/ 被/ 转发/ ./ 在/ 调度/ 时/ ,/ 必须/ 给定/ 决策/ 的/ 优化/ 目标/ ./ 一个/ 自然/ 的/ 优化/ 目标/ 是/ 使得/ 交换机/ 的/ 吞吐/ 率/ 最大化/ ./ 为此/ ,/ 我们/ 定义/ 了/ TMP/ -/ TSA/ (/ Throughput/ -/ optimalMP/ -/ TSA/ )/ 问题/ ./ 定义/ 1/ (/ TMP/ -/ TSA/ )/ ./ 实例/ :/ 设/ TMP/ =/ (/ P/ ,/ F/ ,/ R/ )/ ,/ 其中/ P/ =/ {/ P1/ ,/ P2/ ,/ …/ ,/ Pk/ }/ ,/ 犉/ =/ {/ 犉/ 1/ ,/ 犉/ 2/ ,/ …/ ,/ 犉/ k/ }/ ,/ R/ 为/ 一/ 正整数/ ,/ 设/ m/ =/ lcm/ (/ P1/ ,/ P2/ ,/ …/ ,/ Pk/ )/ ./ 问题/ :/ 是否/ 存在/ 调度/ S/ 使得/ ∑/ f/ ∈/ S/ 其中/ f/ ∈/ S/ 表示/ 流/ f/ 被/ S/ 调度/ ,/ P/ (/ f/ )/ 表示/ 流/ f/ 的/ 周期/ ?/ 上述/ 定义/ 是/ 根据/ 各个/ 流对/ 吞吐/ 率/ 的/ 贡献/ 来/ 确定/ 调度/ 优化/ 目标/ 的/ ,/ 另/ 一种/ 直观/ 的/ 优化/ 目标/ 是/ 交换机/ 用户/ 的/ 满意度/ ,/ 即/ 交换机/ 服务/ 的/ 呼/ 损率/ 最小化/ ,/ 这/ 相当于/ 调度/ 尽可能/ 多/ 的/ 流/ ,/ 可以/ 用/ 被/ 调度/ 流/ 的/ 数量/ 作为/ 度量/ ,/ 本文/ 将/ 此/ 优化/ 目标/ 的/ 调度/ 问题/ 称作/ SMP/ -/ TSA/ (/ Satisfaction/ -/ optimalMP/ -/ TSA/ )/ 问题/ ./ 定义/ 2/ (/ SMP/ -/ TSA/ )/ ./ 实例/ :/ 设/ SMP/ =/ (/ P/ ,/ F/ ,/ R/ )/ ,/ 其中/ P/ =/ {/ P1/ ,/ P2/ ,/ …/ ,/ Pk/ }/ ,/ 犉/ =/ {/ 犉/ 1/ ,/ 犉/ 2/ ,/ …/ ,/ 犉/ k/ }/ ,/ R/ 为/ 一/ 正整数/ ./ 问题/ :/ 是否/ 存在/ 调度/ S/ 使得/ ‖/ S/ ‖/ / R/ ,/ 其中/ ‖/ S/ ‖/ 表示/ 被/ S/ 调度/ 的/ 流/ 的/ 数量/ ?/ 犉/ 1/ =/ 犉/ 2/ =/ 010/ [/ ]/ 000/ (/ a/ )/ 一个/ (/ 1/ ,/ 3/ )/ 周期/ 流/ 的/ 流量/ 矩阵/ 图/ 1/ 给出/ 了/ 周期/ 流/ 优化/ 调度/ 的/ 一个/ 简单/ 例子/ ,/ 共有/ (/ 1/ ,/ 3/ )/ 两类/ 周期/ ./ 从图/ 1/ (/ a/ )/ 的/ 流量/ 矩阵/ 显示/ ,/ 1/ 周期/ 的/ 流/ 只有/ 〈/ 3/ ,/ 2/ 〉/ 一条/ ,/ 3/ 周期/ 的/ 流有/ 〈/ 1/ ,/ 2/ 〉/ 和/ 〈/ 2/ ,/ 2/ 〉/ 两条/ ,/ 输出/ 端口/ 2/ 共/ 需要/ 5/ 个/ 时隙/ 才能/ 调度/ 所有/ 的/ 分组/ ,/ 而/ m/ =/ 3/ ,/ 因此/ 输出/ 端口/ 2/ 过载/ ./ 该例/ 的/ 调度/ 方案/ 共有/ 两种/ ,/ 图/ 1/ (/ b/ )/ 的/ 调度/ 方案/ S/ 丢弃/ 了/ 3/ 周期/ 的/ 流/ ,/ 图/ 1/ (/ c/ )/ 的/ 调度/ 方案/ S/ 丢弃/ 了/ 1/ 周期/ 的/ 流/ ./ ∑/ f/ ∈/ S/ 的/ TMP/ -/ TSA/ 问题/ 的/ 解/ ./ 然而/ ,/ ‖/ S/ ‖/ =/ 1/ ,/ ‖/ S/ ‖/ =/ 2/ ,/ 该例/ SMP/ -/ TSA/ 问题/ 的/ 解/ 却是/ S/ ./ 3NMV/ -/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ 问题/ 及其/ m/ // P/ (/ f/ )/ =/ 3/ ,/ ∑/ f/ ∈/ SNP/ 完全性/ Max2Sat/ 问题/ 是/ NP/ 完全/ 理论/ 中/ 的/ 一个/ 重要/ 问题/ ,/ 该/ 问题/ 与/ 许多/ 组合/ 优化/ 问题/ 的/ 复杂性/ 分析/ 有关/ ./ Max2Sat/ 问题/ 的/ 一些/ 受限/ 版本/ 仍然/ 是/ NP/ 难/ 的/ ,/ 寻找/ 这/ 类/ 受限/ 的/ Max2Sat/ 问题/ 一直/ 是/ 该/ 领域/ 的/ 一个/ 研究/ 方向/ [/ 15/ ]/ ./ 本文/ 为了/ 分析/ 周期/ 流/ 优化/ 调度/ 问题/ ,/ 定义/ 了/ 如下/ 受限/ 的/ Max2Sat/ 问题/ ./ 定义/ 3/ (/ NMV/ -/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ )/ ./ 实例/ :/ 设/ E/ =/ (/ C/ ,/ X/ ,/ R/ )/ ,/ 其中/ C/ =/ {/ c1/ ,/ c2/ ,/ …/ ,/ cK/ }/ 为/ 子句/ 集/ ,/ X/ =/ {/ x1/ ,/ x2/ ,/ …/ ,/ xN/ }/ 是/ 变量/ 集/ ,/ R/ 为/ 正整数/ ./ E/ 满足/ 如下/ 限制/ :/ (/ 1/ )/ 任一/ 变量/ 最/ 多/ 出现/ 3/ 次/ ;/ (/ 2/ )/ 任一/ 字/ 最/ 多/ 出现/ 两次/ ./ 问题/ :/ 是否/ 存在/ 变量/ X/ 的/ 真值/ 指派/ 使得/ C/ 中有/ R/ 个/ 以上/ 的/ 子句/ 被/ 满足/ ./ 在/ 上面/ 的/ 定义/ 中/ 如果/ 没有/ 任一/ 字/ 最/ 多/ 出现/ 两次/ 的/ 限制/ 称作/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ 问题/ ,/ 文献/ [/ 15/ ]/ 证明/ 了/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ 问题/ 是/ NPC/ 问题/ ./ 下面/ 我们/ 证明/ NMV/ -/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ 问题/ 也/ 是/ NP/ 完全/ 的/ ./ 引理/ 1/ ./ NMV/ -/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ 问题/ 是/ NP/ 完/ 证明/ ./ MaxSat/ 属于/ NP/ 类/ ,/ 显然/ 其子/ 问题/ 全/ 的/ ./ NMV/ -/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ 也/ 是/ NP/ 问题/ ./ Page4/ 令/ E/ =/ (/ C/ ,/ X/ ,/ R/ )/ 为/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ 问题/ 的/ 实例/ ,/ 其中/ C/ =/ {/ c1/ ,/ c2/ ,/ …/ ,/ cK/ }/ 为/ 子句/ 集/ ,/ X/ =/ {/ x1/ ,/ x2/ ,/ …/ ,/ xN/ }/ 是/ 变量/ 集/ ,/ R/ 为/ 正整数/ ./ 为了/ 证明/ NMV/ -/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ 是/ NP/ 难/ 的/ ,/ 我们/ 将/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ 多项式/ 归约/ 到/ NMV/ -/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ ./ 设/ 集合/ Y/ =/ y/ ∈/ X/ ∑/ Kci/ ∩/ 珔/ y/ =/ }/ 3/ ./ 对/ / y/ ∈/ Y/ 作/ 如下/ 变换/ ./ 增加/ 变/ ∑/ K/ 量/ y1/ ,/ y2/ ,/ y3/ ,/ 将/ 变量/ y/ 的/ 3/ 次/ 出现/ 分别/ 替换/ 为/ y1/ ,/ y2/ ,/ y3/ ,/ 记/ 变量/ y/ 出现/ 的/ 3/ 个子/ 句/ 的/ 集合/ 为/ Cy/ ,/ 替换/ 后/ 的/ 子句/ 集为/ Cy/ ./ 再/ 增加/ 变量/ u1/ ,/ u2/ ,/ u3/ ,/ u4/ ,/ u5/ ,/ u6/ ,/ 并/ 增加/ 子句/ 集/ Zy/ :/ i/ =/ 1Zy/ =/ 每个/ ui/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ 6/ )/ 将/ 仅/ 在/ Zy/ 中/ 出现/ 两次/ ./ 而/ yi/ (/ i/ =/ 1/ ,/ 2/ ,/ 3/ )/ 还/ 将/ 在/ 被/ 替换/ 的/ 子句/ 中/ 出现/ 一次/ ,/ 共/ 出现/ 3/ 次/ ,/ 但/ 都/ 以/ 两种/ 字/ 的/ 形式/ 出现/ ./ 因此/ 变换/ 后/ 的/ 实例/ 属于/ NMV/ -/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ :/ E/ =/ (/ ∪/ y/ ∈/ Y/ (/ Cy/ ∪/ Zy/ )/ ∪/ C/ \/ ∪/ y/ ∈/ YCy/ ,/ 其中/ U/ 为/ 新/ 增加/ 的/ 变量/ 集/ ./ 这一/ 变换/ 将/ 增加/ 9/ |/ Y/ |/ 个/ 变量/ 和/ 9/ |/ Y/ |/ 个子/ 句/ ,/ 显然/ 该/ 变换/ 是/ 多项式/ 的/ ./ 下面/ 我们/ 证明/ 若/ 存在/ 真值/ 指派/ 使得/ E/ 有解/ ,/ 当且/ 仅/ 当/ 存在/ 真值/ 指派/ 使得/ E/ 有解/ ./ 如果/ 存在/ 真值/ 指派/ 使得/ E/ 有/ R/ 个子/ 句/ 被/ 满足/ ,/ 则/ 只要/ 将/ 与/ 每个/ y/ ∈/ Y/ 所/ 对应/ 的/ y1/ ,/ y2/ ,/ y3/ ,/ u4/ ,/ u5/ ,/ u6/ 指派/ 成同/ y/ 一样/ 的/ 值/ ,/ u1/ ,/ u2/ ,/ u3/ 指派/ 成/ 与/ y/ 相反/ 的/ 值/ ,/ 其它/ X/ 中/ 变量/ 的/ 赋值/ 保持/ 不变/ ,/ 则/ 这/ 使得/ E/ 中/ 与/ E/ 中/ 对应/ 的/ 子句/ 正好/ 有/ R/ 个/ 被/ 满足/ ,/ 同时/ 每个/ Zy/ 中/ 的/ 子句/ 也/ 将/ 被/ 满足/ ,/ 因此/ E/ 在/ 这种/ 指派/ 下/ 将/ 有/ R/ +/ 9/ |/ Y/ |/ 个子/ 句/ 被/ 满足/ ./ 反之/ ,/ 如果/ 存在/ 真值/ 指派/ 使得/ E/ 有/ R/ +/ 9/ |/ Y/ |/ 个子/ 句/ 被/ 满足/ ./ 图/ 2/ 考察/ 了/ Zy/ 在/ 给定/ y1/ ,/ y2/ ,/ y3/ 值/ 的/ 同时/ ,/ 并/ 确保/ 前/ 6/ 个子/ 句/ 被/ 满足/ 情况/ 下/ ,/ Zy/ 中/ 不能/ 被/ 满足/ 的/ 子句/ ./ 从图/ 2/ 可以/ 看出/ ,/ 只有/ 将/ y1/ ,/ y2/ ,/ y3/ 指派/ 成/ 相同/ 值/ 才能/ 使得/ Zy/ 的/ 9/ 个子/ 句/ 全部/ 被/ 满足/ ,/ 其它/ 的/ 指派/ 将/ 至少/ 有/ 一个/ 子句/ 不能/ 满足/ ./ 因此/ ,/ 如果/ 与/ y/ ∈/ Y/ 所/ 对应/ 的/ y1/ ,/ y2/ ,/ y3/ 在/ E/ 中/ 被/ 指派/ 了/ 不同/ 值/ ,/ 我们/ 可以/ 做/ 如下/ 变换/ :/ 若有/ 两个/ 变量/ 被/ 指派/ 成/ 了/ 0/ ,/ 则/ 将/ 与/ y/ 对应/ 的/ 9/ 个/ 变量/ 的/ 值/ 改为/ 图/ 2/ 中/ 第/ 1/ 种/ 指派/ ,/ 否则/ 改成/ 图/ 2/ 中/ 的/ 第/ 8/ 种/ 指派/ ./ 由于/ 这种/ 变换/ 只/ 改变/ 了/ yi/ (/ i/ =/ 1/ ,/ 2/ ,/ 3/ )/ 中/ 一个/ 变量/ 的/ 值/ ,/ 最/ 多只/ 影响/ Cy/ 中/ 一个/ 子句/ 的/ 满足/ 性/ ,/ 而/ Zy/ 却/ 全部/ 得到/ 了/ 满足/ ./ 因此/ 变换/ 后/ 的/ 指派/ 仍然/ 是/ E/ 的/ 一个/ 解/ ,/ 且/ 与/ y/ ∈/ Y/ 所/ 对应/ 的/ y1/ ,/ y2/ ,/ y3/ 被/ 指派/ 成/ 了/ 相同/ 值/ ./ 利用/ E/ 的/ 这个/ 真值/ 指派/ 可以/ 构造/ E/ 的/ 指派/ :/ 若/ x/ ∈/ X/ // Y/ ,/ x/ 的/ 赋值/ 与/ E/ 中/ 的/ 相同/ ,/ 否则/ 将/ x/ 赋值/ 成/ 与其/ 对应/ 变量/ y1/ 的/ 值/ ./ 由于/ E/ 中/ 至少/ 有/ R/ +/ 9/ |/ Y/ |/ 个子/ 句/ 得到/ 了/ 满足/ ,/ 而/ E/ 仅/ 比/ E/ 多/ 了/ 9/ |/ Y/ |/ 个子/ 句/ ,/ 因此/ E/ 在/ 此/ 赋值/ 下/ 将/ 至少/ 有/ R/ 个子/ 句/ 被/ 满足/ ./ 123456u111000noney100y000y001u11/ —/ —/ —/ 1y010u1/ —/ 1/ —/ 1/ —/ (/ 珔/ u1/ ,/ 珔/ u5/ )/ y110y011u1/ —/ —/ —/ 11/ 图/ 2/ 变量/ y1/ ,/ y2/ ,/ y3/ 的/ 赋值/ 及/ 不能/ 被/ 满足/ 的/ 子句/ 4/ 嵌套/ 周期/ 流/ 优化/ 调度/ 问题/ 的/ 复杂性/ 在/ 周期/ 流/ 调度/ 问题/ 中/ ,/ 可以/ 根据/ 各种/ 不同/ 周期/ 的/ 组合/ 来/ 划分/ 周期/ 流/ 调度/ 问题/ 的/ 子/ 问题/ ,/ 如上节/ 定义/ 的/ 嵌套/ 周期/ 流/ ./ 在/ 嵌套/ 周期/ 流/ 的/ 最优/ 调度/ 问题/ 中/ ,/ 限定/ 周期/ 只有/ 1/ 和/ 2/ 两种/ 的/ 子/ 问题/ 记/ 作/ (/ 1/ ,/ 2/ )/ -/ TMP/ -/ TSA/ 和/ (/ 1/ ,/ 2/ )/ -/ SMP/ -/ TSA/ ./ 利用/ NMV/ -/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ 问题/ 的/ NP/ 完全性/ 可以/ 证明/ (/ 1/ ,/ 2/ )/ -/ SMP/ -/ TSA/ 和/ (/ 1/ ,/ 2/ )/ -/ TMP/ -/ TSA/ 问题/ 也/ 是/ NP/ 难/ 的/ ./ 定理/ 1/ ./ (/ 1/ ,/ 2/ )/ -/ SMP/ -/ TSA/ 问题/ 是/ NP/ 完全/ 的/ ./ 证明/ ./ 对于/ N/ ×/ N/ 交换机/ ,/ 给定/ (/ 1/ ,/ 2/ )/ -/ SMP/ -/ TSA/ 实例/ 的/ 解/ ,/ 验证/ 解/ 的/ 正确性/ 需要/ 验证/ 调度/ 的/ 合法性/ 、/ 1/ 周期/ 的/ 流/ 在/ 2/ 个/ 调度/ 中/ 是否/ 有/ 相同/ 的/ 子集/ 和/ 丢弃/ 流/ 的/ 数量/ 是否/ 满足/ 问题/ 的/ 需求/ ./ 显然/ 这些/ 验证/ 的/ 时间/ 复杂度/ 都/ 与/ 流/ 的/ 种类/ 成正比/ ,/ N/ ×/ N/ 的/ 交换机/ 最多/ 有/ O/ (/ N2/ )/ 种流/ ,/ 因此/ 验证/ 算法/ 的/ 复杂度/ 是/ O/ (/ N2/ )/ ,/ 这/ 表明/ (/ 1/ ,/ 2/ )/ -/ SMP/ -/ TSA/ 问题/ 是/ NP/ 类/ 的/ ./ 下面/ 我们/ 将/ NMV/ -/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ 问题/ 多项式/ 归约/ 到/ (/ 1/ ,/ 2/ )/ -/ SMP/ -/ TSA/ 问题/ ./ 令/ E/ =/ (/ C/ ,/ X/ ,/ R/ )/ 为/ NMV/ -/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ 问题/ 的/ 实例/ ,/ 其中/ C/ =/ {/ c1/ ,/ c2/ ,/ …/ ,/ cK/ }/ 为/ 子句/ 集/ ,/ X/ =/ {/ x1/ ,/ x2/ ,/ …/ ,/ xN/ }/ 是/ 变量/ 集/ ,/ R/ 为/ 正整数/ ./ 首先/ ,/ 为/ 变量/ 集/ X/ 创建/ 第/ 1/ 类/ 周期/ 的/ 流/ ,/ 如图/ 3Page5/ (/ a/ )/ 所示/ ,/ 每个/ 变量/ x/ ∈/ X/ 对应/ 一个/ 输入/ 端口/ x/ 、/ 两个/ 输出/ 端口/ (/ x/ 和/ 珚/ x/ )/ 和/ 两条/ 流/ (/ 〈/ x/ ,/ x/ 〉/ 和/ 〈/ x/ ,/ 珚/ x/ 〉/ )/ ,/ 图/ 3/ (/ b/ )/ 给出/ 了/ 相应/ 的/ 流量/ 矩阵/ 犉/ X1/ ./ 由于/ 第/ 1/ 类流/ 的/ 周期/ 是/ 1/ ,/ 即/ 只有/ 一个/ 调度/ ,/ 而/ 每个/ 输入/ 端口/ 关联/ 犉/ X1/ =/ 图/ 3/ 第/ 1/ 类/ 周期/ 流/ 构造/ 示意图/ 然后/ ,/ 为/ 每个/ 子句/ c/ ∈/ C/ 增加/ 一个/ 输入/ 端口/ c/ 和/ 一个/ 输出/ 端口/ c/ ;/ 增加/ 第/ 2/ 类/ 周期/ 流/ 〈/ c/ ,/ c/ 〉/ ,/ 同时/ 若字/ l/ ∈/ c/ 则/ 增加/ 第/ 2/ 类/ 周期/ 流/ 〈/ c/ ,/ l/ 〉/ ./ 如/ 子句/ c/ =/ 〈/ x/ ,/ 珔/ y/ 〉/ 将/ 对应/ 〈/ c/ ,/ c/ 〉/ ,/ 〈/ c/ ,/ x/ 〉/ 和/ 〈/ c/ ,/ 珔/ y/ 〉/ 等/ 3/ 条/ 第/ 2/ 类/ 周期/ 的/ 流/ ./ 由于/ 输出/ 端口/ c/ 是/ 无/ 冲突/ 的/ ,/ 我们/ 将/ c/ 称为/ 哑/ 端口/ ,/ 与/ 哑/ 端口/ 关联/ 的/ 流/ 称为/ 哑流/ ./ 所有/ 哑流/ 的/ 流量/ 矩阵/ 是/ |/ 犆/ |/ 维/ 单位/ 方阵/ ,/ 记/ 作/ 犐/ |/ C/ |/ ./ 其它/ 第/ 2/ 类流/ 对应/ 流量/ 矩阵/ 是/ |/ 犆/ |/ ×/ 2/ |/ 犡/ |/ 矩阵/ ,/ 记作/ 犉/ C/ 这样/ ,/ 我们/ 就/ 将/ NMV/ -/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ 归约/ 到/ 了/ 交换机/ 周期/ 流量/ 调度/ 问题/ ,/ 流量/ 矩阵/ 如图/ 4/ 所示/ ,/ 虽然/ 这里/ 的/ 流量/ 矩阵/ 不是/ N/ ×/ N/ 型/ ,/ 但/ 只/ 需/ 加上/ |/ 犡/ |/ 个/ 空白/ 输入/ 端口/ 即可/ ,/ 文中/ 不再/ 赘述/ ./ 与/ E/ 相应/ 的/ (/ 1/ ,/ 2/ )/ -/ SMP/ -/ TSA/ 问题/ 的/ 实例/ 为/ SMP/ =/ (/ {/ 1/ ,/ 2/ }/ ,/ {/ 犉/ 1/ ,/ 犉/ 2/ }/ ,/ R/ )/ ,/ 其中/ R/ =/ R/ +/ |/ C/ |/ +/ |/ X/ |/ ./ 下面/ 我们/ 将/ 证明/ :/ 存在/ 真值/ 指派/ 使得/ E/ 有/ R/ 个/ 以上/ 的/ 子句/ 被/ 满足/ 当且/ 仅/ 当/ SMP/ 存在/ 调度/ S/ 满足/ ‖/ S/ ‖/ / R/ ./ 若/ 存在/ 真值/ 指派/ 使得/ E/ 有/ R/ 个子/ 句/ 被/ 满足/ ,/ 则/ 构造/ SMP/ 的/ 调度/ 如下/ :/ (/ 1/ )/ 设/ 1/ 周期/ 类中/ 被/ 调度/ 的/ 流/ 集合/ 为/ FS1/ ./ 对/ / c/ ∈/ C/ ,/ 如果/ x/ =/ 1/ ,/ 则/ 令流/ 〈/ x/ ,/ 珚/ x/ 〉/ ∈/ FS1/ ,/ 否则/ 令流/ 〈/ x/ ,/ x/ 〉/ ∈/ FS/ (/ 2/ )/ 设/ 2/ 周期/ 类中/ 被/ 调度/ 的/ 流/ 集合/ 为/ FS2/ ./ 对/ / c/ ∈/ C/ ,/ 任选/ 一/ 使得/ c/ 成/ 真的/ 字/ l/ ,/ 令/ 〈/ c/ ,/ l/ 〉/ ∈/ FS2/ 和/ 〈/ c/ ,/ c/ 〉/ ∈/ FS2/ ,/ 另/ 一条/ 与/ c/ 相关/ 的/ 流/ 丢弃/ ./ 由于/ 与/ 任一/ 成/ 真的/ 字/ l/ 相关/ 的/ 1/ 周期/ 流/ 被/ 丢弃/ ,/ 又/ 因为/ NMV/ -/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ 问题/ 的/ 实例/ 中/ 与/ 每个/ 字/ 相关/ 的/ 子句/ 数目/ 不/ 超过/ 2/ 个/ ,/ 因此/ l/ 相应/ 的/ 输出/ 端口/ 的/ 归一化/ 负荷/ / 1/ ./ 同时/ ,/ 容易/ 验证/ 其它/ 端口/ 也/ 不过/ 载/ ./ 这样/ FS1/ 和/ FS2/ 就/ 构成/ 一个/ 负荷/ 不过/ 载且/ 着/ 两条/ 流/ ,/ 因此/ 这/ 两条/ 流中/ 至少/ 将/ 有/ 一条/ 被/ 丢弃/ ./ 如果/ 与/ 每个/ 变量/ 对应/ 的/ 两条/ 流都/ 正好/ 丢弃/ 一条/ ,/ 那么/ 每个/ 变量/ 将/ 有/ 一个/ 相应/ 的/ 输出/ 端口/ 空闲/ ,/ 这些/ 空闲/ 的/ 输出/ 端口/ 将/ 构成/ 一个/ 真值/ 指派/ ./ x1/ 珚/ x1x2/ 珚/ x3/ …/ xN/ 珚/ xN1100/ …/ 000011/ …/ 00/ / / / / / / 0000/ …/ 11x1x2/ / xN/ (/ b/ )/ 与/ X/ 对应/ 的/ 第/ 1/ 类/ 周期/ 流/ 最大/ 周期/ 为/ 2/ 的/ 嵌套/ 周期/ 流/ ,/ 即/ 存在/ 调度/ S/ 使得/ FS1/ 和/ FS2/ 中/ 的/ 流/ 在/ 时限/ 超时/ 前/ 被/ 调度/ ./ 在/ 上述/ 调度/ 构造/ 的/ 第/ 1/ 步/ 共有/ |/ X/ |/ 条流/ 被/ 调度/ ,/ 第/ 2/ 步/ 共有/ |/ C/ |/ +/ |/ R/ |/ 条流/ 被/ 调度/ ,/ 因此/ ‖/ S/ ‖/ =/ R/ ./ 反之/ ,/ 若/ SMP/ 存在/ 调度/ S/ 使得/ ‖/ S/ ‖/ / R/ ./ 首先/ 我们/ 将/ S/ 改造/ 成/ S/ 使得/ ‖/ S/ ‖/ / ‖/ S/ ‖/ 且/ 任意/ 输入/ 端口/ x/ 在/ S/ 中/ 的/ 负荷/ 为/ 1/ ./ 不妨/ 设/ 输入/ 端口/ x/ 在/ 调度/ S/ 中/ 的/ 负荷/ 为/ 0/ ./ 由于/ 此/ SMP/ 是/ 由/ NMV/ -/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ 实例/ 变换/ 而/ 来/ ,/ 因此/ 与/ 输出/ 端口/ x/ 和/ 珚/ x/ 关联/ 的/ 2/ 周期/ 流/ 最/ 多/ 3/ 条/ ,/ 故而/ 必有/ 一个/ 输出/ 端口/ o/ ∈/ {/ x/ ,/ 珚/ x/ }/ 在/ 调度/ S/ 中/ 关联/ 的/ 流/ 不/ 超过/ 一条/ ./ 我们/ 将/ 1/ 周期/ 流/ 〈/ x/ ,/ o/ 〉/ 替换/ S/ 中/ 关联/ 于/ o/ 的/ 流/ 得到/ 调度/ S/ ,/ 显然/ ‖/ S/ ‖/ / ‖/ S/ ‖/ 且/ 输入/ 端口/ x/ 在/ 调度/ S/ 中/ 的/ 负荷/ 为/ 1/ ./ 这样/ ,/ 在/ S/ 中/ 与/ 每个/ 输入/ 端/ x/ 关联/ 的/ 两条/ 流中/ 丢且/ 仅/ 被/ 丢弃/ 了/ 一条/ ,/ 即/ 1/ 周期/ 流在/ S/ 中/ 被/ 调度/ 了/ |/ X/ |/ 条/ ./ 根据/ R/ 的/ 定义/ ,/ 至少/ 有/ |/ C/ |/ +/ |/ R/ |/ 条/ 2/ 周期/ 流/ 得到/ 了/ 调度/ ,/ 又/ 由于/ 与/ 每个/ 子句/ 对应/ 的/ 哑流/ 只有/ 1/ 条/ ,/ 故/ 至少/ 有/ R/ 个子/ 句/ 的/ 非/ 哑流/ 被/ 调度/ ./ 因此/ 如果/ 用/ 1/ 周期/ 丢弃/ 流所/ 关联/ 的/ 输出/ 端口/ 作为/ E/ 的/ 真值/ 指派/ ,/ 将/ 至少/ 有/ R/ 个子/ 句/ 被/ 满足/ ./ 证毕/ ./ 对于/ (/ 1/ ,/ 2/ )/ -/ TMP/ -/ TSA/ 问题/ ,/ 我们/ 可以/ 采用/ 定理/ 1/ 中/ 类似/ 的/ 方法/ 将/ NMV/ -/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ 的/ 实例/ 多项式/ 归约/ 到/ (/ 1/ ,/ 2/ )/ -/ TMP/ -/ TSA/ 的/ 实例/ ./ 因此/ 有/ 如下/ 定理/ ./ 定理/ 2/ ./ (/ 1/ ,/ 2/ )/ -/ TMP/ -/ TSA/ 问题/ 是/ NP/ 完全/ 的/ ./ 证明/ ./ 给定/ E/ =/ (/ C/ ,/ X/ ,/ R/ )/ 为/ NMV/ -/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ 问题/ 的/ 实例/ ,/ 按照/ 定理/ 中/ 的/ 步骤/ 构造/ 如图/ 3/ 和/ 图/ 4/ 所示/ 的/ 周期/ 流量/ ./ 所/ 构造/ 的/ TMP/ 实例/ 与/ 定理/ 1/ 中/ 的/ 区别/ 在于/ R/ 的/ 值/ ,/ 此时/ 我们/ 令/ R/ =/ R/ +/ |/ C/ |/ +/ 2/ |/ X/ |/ ./ 下面/ 我们/ 证明/ NMV/ -/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ 问题/ 的/ 实例/ 有解/ 当且/ 仅/ 当/ 如/ 上/ 构造/ 的/ TMP/ 实例/ 有解/ ./ 若/ NMV/ -/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ 问题/ 的/ 实例/ 有解/ ,/ 我们/ 可以/ 采用/ 与/ 定理/ 1/ 中/ 相同/ 的/ 方法/ 从/ NMV/ -/ (/ 2/ ,/ 3/ )/ -/ Page6MaxSat/ 实例/ E/ 的/ 真值/ 指派/ 构造/ TMP/ 的/ 调度/ S/ ./ 显然/ 在/ 调度/ S/ 中有/ 对应/ 变量/ 指派/ 的/ |/ X/ |/ 条/ 1/ 周期/ 流/ 被/ 调度/ ,/ R/ 条/ 以上/ 与/ 被/ 满足/ 子句/ 对应/ 的/ 2/ 周期/ 流/ 和/ |/ C/ |/ 条哑流/ (/ 2/ 周期/ 流/ )/ 被/ 调度/ ,/ 因此/ ∑/ f/ ∈/ S2/ |/ X/ |/ +/ R/ +/ |/ C/ |/ / R/ ./ 另一方面/ ,/ 如果/ 存在/ TMP/ 的/ 调度/ S/ 使得/ R/ 被/ 满足/ ,/ 同/ 定理/ 1/ 先/ 将/ 调度/ S/ 改造/ 成/ 调度/ S/ ,/ 根据/ 调度/ 的/ 必要条件/ ,/ 有/ |/ X/ |/ 条/ 1/ 周期/ 流/ 被/ 调度/ ,/ 这/ 将/ 对应/ 着/ 变量/ 的/ 真值/ 指派/ ,/ 且/ 2/ 周期/ 的/ 哑流/ 只有/ |/ C/ |/ 条/ ,/ 因此/ 至少/ 有/ 与/ 子句/ 对应/ 的/ R/ 条/ 2/ 周期/ 流在/ S/ 中/ 被/ 调度/ ,/ 故/ 在/ 此/ 真值/ 指派/ 下/ 必定/ 存在/ R/ 以上/ 的/ 子句/ 被/ 满足/ ./ 定理/ 1/ 和/ 定理/ 2/ 的/ 证明/ 可以/ 推广/ 至/ 周期/ 是/ (/ 1/ ,/ k/ )/ 的/ 情况/ ./ 只/ 需/ 将/ 上述/ 证明/ 中/ 变换/ 时/ 添加/ 的/ 哑/ 流变/ 为/ (/ k/ -/ 1/ )/ 犐/ |/ C/ |/ 即可/ ./ 推论/ ./ (/ 1/ ,/ k/ )/ -/ TMP/ -/ TSA/ 问题/ 和/ (/ 1/ ,/ k/ )/ -/ SMP/ -/ TSA/ 问题/ 是/ NP/ 难/ 的/ ./ 证明/ ./ 这里/ 我们/ 仅/ 给出/ (/ 1/ ,/ k/ )/ -/ SMP/ -/ TSA/ 的/ 证明/ ,/ (/ 1/ ,/ k/ )/ -/ TMP/ -/ TSA/ 与其/ 类似/ ,/ 不再/ 赘述/ ./ 给定/ E/ =/ (/ C/ ,/ X/ ,/ R/ )/ 为/ NMV/ -/ (/ 2/ ,/ 3/ )/ -/ MaxSat/ 问题/ 的/ 实例/ ,/ 如图/ 5/ 构造/ (/ 1/ ,/ k/ )/ -/ SMP/ -/ TSA/ 实例/ 的/ 流量/ ./ 犉/ 1/ =/ 犉/ X10X/ ×/ C1/ 和/ 犉/ C/ 其中/ 犉/ X/ 类中/ 为/ 每个/ 子句/ c/ 添加/ 了/ (/ k/ -/ 1/ )/ 条哑流/ 〈/ c/ ,/ c/ 〉/ ./ (/ 1/ ,/ k/ )/ 周期/ 流/ 的/ 调度/ 中有/ k/ 个/ 配置/ 矩阵/ ,/ 由于/ 哑流/ 不/ 与/ 其它/ 子句/ 的/ 流/ 冲突/ ,/ 所以/ (/ k/ -/ 1/ )/ 条哑流/ 保证/ 了/ 哑流/ 可以/ 调度/ 在/ (/ k/ -/ 1/ )/ 个/ 配置/ 矩阵/ 中/ ,/ 从而/ 保证/ 了/ 只要/ 子句/ c/ 中字/ 对应/ 的/ 两条/ 第/ 2/ 类/ 周期/ 流若/ 都/ 被/ 调度/ ,/ 则/ 可以/ 在/ 被/ 调度/ 流/ 总数/ 不变/ 的/ 情况/ 下/ 由/ 哑流/ 替换/ 其中/ 一条/ ./ 这样/ ,/ 余下/ 的/ 讨论/ 类似/ 定理/ 1/ ,/ 这里/ 从略/ ./ 嵌套/ 周期/ 流/ 调度/ 问题/ 按/ 周期/ 的/ 组合/ 可以/ 分成/ 若干/ 种子/ 问题/ ,/ 如/ 周期/ 是/ (/ 1/ ,/ 2/ )/ ,/ (/ 1/ ,/ 2/ ,/ 4/ )/ ,/ (/ 3/ ,/ 6/ ,/ 12/ )/ ,/ …/ ./ 并且/ 这些/ 子/ 问题/ 之间/ 并/ 没有/ 包含/ 关系/ ,/ 因此/ ,/ (/ 1/ ,/ 2/ )/ 周期/ 流/ 优化/ 调度/ 问题/ 的/ NP/ 完全性/ 并/ 不/ 意味/ 其它/ 子/ 问题/ 也/ 是/ NP/ 难/ 的/ ./ 然而/ ,/ 直觉/ 上/ (/ 1/ ,/ k/ )/ 周期/ 的/ 子/ 问题/ 应该/ 是/ 所有/ 这些/ 子/ 问题/ 中/ 最/ 简单/ 的/ ,/ 事实/ 也/ 是/ 如此/ ,/ 我们/ 可以/ 把/ (/ 1/ ,/ k/ )/ 周期/ 流/ 的/ 调度/ 问题/ 多项式/ 归约/ 至/ 任意/ 嵌套/ 周期/ 流/ 的/ 情况/ ./ 定理/ 3/ ./ 任意/ 嵌套/ 周期/ 流/ TMP/ -/ TSA/ 问题/ 是/ NP/ 难/ 的/ ./ 证明/ ./ 设/ 任意/ 嵌套/ 周期/ P/ =/ {/ P1/ ,/ P2/ ,/ …/ ,/ Pn/ }/ ,/ 其中/ P2/ // P1/ =/ k/ ./ 令/ N/ ×/ N/ 交换机/ 的/ (/ 1/ ,/ k/ )/ -/ TMP/ -/ TSA/ 问题/ 的/ 实例/ TMP/ =/ (/ {/ 1/ ,/ k/ }/ ,/ {/ 犉/ 1/ ,/ 犉/ 2/ }/ ,/ R/ )/ ,/ 任意/ 的/ 嵌套/ 周期/ ./ 我们/ 通过/ 将/ TMP/ 嵌入/ 到/ 一个/ 2N/ ×/ 2N/ 交换机/ 嵌套/ 周期/ 为/ P/ 的/ 实例/ PTMP/ =/ (/ P/ ,/ {/ F1/ ,/ F2/ ,/ …/ ,/ Fn/ }/ ,/ R/ )/ ,/ 来/ 证明/ 任意/ 嵌套/ 周期/ 流/ 调度/ 问题/ 的/ 难解/ 性/ ./ 在/ 变换/ 时/ 首先/ 增加/ N/ 个/ 输入/ 端口/ 和/ N/ 个/ 输出/ 端口/ ,/ 将/ PTMP/ 中/ 流量/ 矩阵/ 犉/ 3/ ,/ 犉/ 4/ ,/ …/ ,/ 犉/ k/ 置/ 为/ 0/ ,/ 然后/ 将/ TMP/ 的/ 流量/ 矩阵/ 分别/ 嵌入/ 到/ 犉/ 1/ 和/ 犉/ 2/ ,/ 并/ 为/ 第/ 1/ 类/ 周期/ 流中/ 每个/ 新/ 增加/ 端口/ 增加/ P1/ -/ 1/ 条流/ ,/ 具体/ 流量/ 矩阵/ 如图/ 6/ 所示/ ,/ 其中/ 犐/ N/ 为/ N/ 维/ 单位矩阵/ ./ 最后/ 令/ R/ =/ (/ R/ +/ 2kN/ (/ P1/ -/ 1/ )/ )/ Pn/ // P2/ ,/ 显然/ 这一/ 变换/ 是/ 多项式/ 时间/ 的/ ./ 一方面/ ,/ 若/ TMP/ 存在/ 调度/ S/ =/ {/ s1/ ,/ s2/ ,/ …/ ,/ sk/ }/ 满足/ R/ ,/ 按图/ 7/ 构造/ PTMP/ 的/ 调度/ S/ (/ 由于/ 只有/ 第/ 1/ 、/ 2/ 类/ 周期/ 流不为/ 0/ ,/ 因此/ PTMP/ 的/ 调度/ 只/ 需/ 给出/ P2/ =/ kP1/ 个/ 配置/ 矩阵/ 即可/ )/ ./ 不妨/ 设/ 1/ 、/ 2/ 周期/ 流/ 分别/ 有/ u/ 、/ v/ 条/ 被/ S/ 调度/ ,/ 这样/ PTMP/ 中/ 第/ 1/ 类/ 周期/ 流/ 中共/ 有/ 2N/ (/ P1/ -/ 1/ )/ +/ u/ 条/ 周期/ 流/ 被/ 调度/ ,/ 第/ 2/ 类/ 周期/ 中有/ v/ 条/ 周期/ 流/ 被/ 调度/ ./ 因此/ S/ 的/ 目标/ 函数/ 值为/ 另一方面/ ,/ 若/ PTMP/ 存在/ 调度/ S/ 使得/ R/ 满足/ ,/ 由于/ 在/ 变换/ 中/ 每条/ 新/ 加入/ 的/ 流/ 与/ 犉/ 1/ 或/ 犉/ 2/ 中/ 的/ 流/ 只有/ 一个/ 端口/ 的/ 冲突/ 且/ 新/ 增加/ 的/ 端口/ 出/ 没有/ 冲突/ ,/ 因此/ 不难/ 在/ 保持/ 目标/ 函数/ 值/ 不变/ 的/ 情况/ 下/ 将/ S/ 改造/ 成/ 类似/ 图/ 7/ 的/ 调度/ ,/ 这样/ 即/ 可以/ 从中/ 得到/ TMP/ 的/ 调度/ ,/ 显然/ 这个/ 调度/ 满足/ R/ ./ Page7/ 定理/ 4/ ./ 任意/ 嵌套/ 周期/ 流/ SMP/ -/ TSA/ 问题/ 是/ NP/ 难/ 的/ ./ 证明/ ./ 与/ 定理/ 3/ 的/ 证明/ 类似/ ,/ 我们/ 可以/ 把/ (/ 1/ ,/ k/ )/ -/ SMP/ -/ TSA/ 问题/ 的/ 实例/ 按图/ 8/ 所示/ 嵌入/ 到/ 任意/ 嵌套/ 周期/ 的/ 实例/ ./ 接下来/ 的/ 讨论/ 类似/ 于/ 定理/ 3/ ,/ 此处/ 从略/ ./ 5/ 结束语/ 本文/ 以/ 吞吐/ 和/ 呼损/ 为/ 优化/ 目标/ 定义/ 了/ 两种/ 交换机/ 周期/ 流/ 的/ 优化/ 调度/ 问题/ ,/ 并/ 对/ 其中/ 一类/ 子/ 问题/ —/ —/ —/ 嵌套/ 周期/ 流/ 优化/ 调度/ 的/ 复杂性/ 进行/ 了/ 研究/ ./ 我们/ 首先/ 证明/ 了/ 一种/ 特殊/ Max2Sat/ 问题/ 的/ NP/ 完全性/ ,/ 以该/ 问题/ 为/ 基础/ 证明/ 了/ (/ 1/ ,/ 2/ )/ 周期/ 流/ 优化/ 调度/ 问题/ 是/ NPC/ 问题/ ./ 然后/ 利用/ 该/ 结果显示/ 任意/ 嵌套/ 周期/ 流/ 的/ 优化/ 调度/ 问题/ 都/ 是/ NP/ 难/ 的/ ./ 实际上/ ,/ 定理/ 1/ 和/ 2/ 的/ 证明/ 所/ 涉及/ 的/ (/ 1/ ,/ 2/ )/ 周期/ 流/ 优化/ 调度/ 问题/ 的/ 实例/ 中/ 没有/ 任何/ 数值/ 小于/ 交换机/ 规模/ N/ 的/ 某个/ 线性/ 函数/ ,/ 因此/ ,/ 根据/ 文献/ [/ 16/ ]/ 中/ 的/ 定义/ ,/ (/ 1/ ,/ 2/ )/ 周期/ 流/ 优化/ 调度/ 问题/ 是/ 强/ NPC/ 的/ ./ 这/ 表明/ 对于/ 任意/ 嵌套/ 周期/ 流/ 优化/ 调度/ 问题/ 不/ 存在/ 伪/ 多项式/ 算法/ ./ 本文/ 未/ 讨论/ 的/ 非/ 嵌套/ 周期/ 流/ 优化/ 调度/ 问题/ 的/ 复杂性/ ,/ 经典/ 的/ 启发式/ 算法/ EDD/ 、/ MLF/ 等/ 在/ 周期/ 流/ 优化/ 调度/ 问题/ 下/ 的/ 性能/ 界/ 以及/ 高性能/ 的/ 近似算法/ 设计/ 等/ 将/ 作为/ 我们/ 进一步/ 研究/ 的/ 方向/ ./ 

