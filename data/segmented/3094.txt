Page1/ 面向/ 服务/ 的/ 可信/ 软件体系结构/ 代数/ 模型/ 赵会/ 群孙晶/ (/ 北方工业大学/ 计算机系/ 北京/ 100144/ )/ 摘要/ 针对/ 面向/ 服务/ 体系结构/ (/ ServiceOrientedArchitecture/ ,/ SOA/ )/ 在/ 形式化/ 和/ 可信/ 属性/ 建模/ 方面/ 的/ 不足/ ,/ 用/ 代数学/ 方法/ 对/ 服务/ 、/ 服务/ 组合/ 以及/ 服务/ 体系结构/ 的/ 属性/ 和/ 行为/ 特征/ 进行/ 抽象/ ,/ 把/ 服务/ 组合/ 解释/ 成/ 组件/ “/ 运算/ ”/ 实现/ ,/ 并/ 结合/ 进程/ 代数/ 中/ 算子/ 概念/ ,/ 定义/ 了/ 多种/ 服务/ 组合/ 运算/ ,/ 从而/ 建立/ SOA/ 的/ 代数/ 模型/ ./ 在/ 代数/ 模型/ 基础/ 上/ ,/ 进一步/ 对/ SOA/ 可信/ 属性/ 建模/ ,/ 提出/ 多种/ SOA/ 可信/ 范式/ ,/ 为/ 可信/ SOA/ 软件设计/ 提供/ 理论/ 支持/ ./ 最后/ 介绍/ 了/ 一个/ 应用/ 案例/ ./ 关键词/ 服务/ ;/ 服务/ 组合/ ;/ 服务/ 体系结构/ ;/ 抽象代数/ ;/ 进程/ 代数/ 1/ 引言/ 可信/ 软件/ 是/ 指/ 正确/ 、/ 安全/ 和/ 可靠/ 的/ 软件/ [/ 1/ ]/ ./ 目前/ 软件/ 的/ 可靠性/ 和/ 安全性/ 不能/ 令人满意/ ./ 软件设计/ 缺陷/ 、/ 软件系统/ 被/ 恶意/ 攻击/ 都/ 给/ 计算机系统/ 的/ 正常/ 运/ Page2/ 用/ 框架/ ,/ 该/ 模式/ 需要/ 具有/ 灵活/ 、/ 安全/ 和/ 无逢/ 地/ 处理/ 异构/ 、/ 异质/ 的/ 内/ 、/ 外/ 资源/ 的/ 能力/ ①/ ./ IBM/ 、/ Microsoft/ 、/ Gartner/ 等/ IT/ 领军/ 企业/ ,/ 先后/ 提出/ 了/ 自己/ 的/ SOA/ 解决方案/ ②/ ③/ ④/ ,/ OASIS/ (/ OrganizationfortheAd/ -/ vancementofStructuredInformationStandards/ ,/ OASIS/ )/ 提出/ 了/ SOA/ 参考模型/ 1.0/ [/ 2/ ]/ ,/ OSOA/ (/ OpenServiceOrientedArchitecture/ )/ 给出/ 了/ SOA/ 编程/ 模型/ SCA/ (/ ServiceComponentArchitecture/ ,/ SCA/ )/ 等/ ⑤/ ./ SOA/ 研究/ 已经/ 成为/ 热点问题/ ./ 最/ 能够/ 体现/ 软件/ 服务质量/ 的/ 指标/ 之一/ 就是/ 可信/ ./ 而/ 有关/ 可信/ SOA/ 的/ 基础理论/ 和/ 相关/ 技术/ 研究/ 还有/ 较大/ 的/ 研究/ 空间/ ,/ 表现/ 在/ 以下/ 几个/ 方面/ :/ (/ 1/ )/ 可信/ SOA/ 建模/ 目前/ 仍/ 处在/ 经验/ 阶段/ ./ OASIS/ 的/ 参考模型/ 给出/ 与/ 服务/ 相关/ 的/ 概念/ 以及/ 服务/ 过程/ 中/ 与/ 用户/ 的/ 交互/ 描述/ [/ 2/ ]/ ./ 主要/ 的/ 贡献/ 是/ 明确/ 了/ SOA/ 中/ 的/ 基本概念/ 以及/ 概念/ 间/ 的/ 相互/ 关系/ ./ OSOA/ 给出/ 的/ SCA/ 模型/ ,/ 对/ 软件体系结构/ 中/ 组件/ 和/ 连接器/ 概念/ 进行/ 了/ 扩展/ ,/ 提出/ 组件/ 不仅/ 是/ 一个/ 计算/ 逻辑/ ,/ 也/ 包括/ 计算/ 逻辑/ 的/ 开发/ 与/ 支撑/ 环境/ ;/ 连接器/ 不仅/ 是/ 对/ 组件/ 连接/ 的/ 参数传递/ ,/ 同时/ 也/ 包括/ 通过/ 网络/ 交互/ 的/ 协议/ 等/ ./ SCA/ 的/ 贡献/ 是/ 给出/ 了/ SOA/ 软件/ 的/ 实现/ 范例/ ./ 文献/ ①/ ②/ ③/ 也/ 提出/ 了/ 自己/ 的/ SOA/ 参考模型/ ,/ 对/ SOA/ 建模/ 理论/ 研究/ 有所/ 贡献/ ./ 但/ 上述/ 研究/ 并/ 没有/ 深入/ 讨论/ 可信/ 问题/ ,/ 没有/ 对/ 服务/ 、/ 交互/ 和/ 行为/ 属性/ 进一步/ 分类/ ,/ 没有/ 给出/ 形式化/ 描述/ ,/ 没有/ 建立/ 严格/ 的/ 理论体系/ ,/ 这/ 对/ 可信/ SOA/ 研究/ 的/ 指导意义/ 不/ 明显/ ./ 文献/ [/ 5/ ]/ 用/ 进程/ 代数/ 对/ Web/ 服务/ 的/ 合成/ 与/ 替换/ 建模/ ,/ 并/ 提出/ 替换/ 一致性/ 检测/ 算法/ ;/ 文献/ [/ 6/ ]/ 采用/ 进程/ 代数/ 对/ Web/ 服务/ 建模/ ,/ 并/ 导出/ 性能/ 模型/ ./ 上述/ 研究/ 虽然/ 都/ 采用/ 进程/ 代数/ 作为/ 建模/ 工具/ ,/ 但/ 都/ 没有/ 结合/ SOA/ 特性/ 对/ 进程/ 代数/ 进行/ 扩展/ ./ 另外/ ,/ 上述/ 研究/ 是/ 针对/ Web/ 服务/ 的/ 建模/ ,/ 而/ Web/ 服务/ 仅/ 是/ SOA/ 的/ 一种/ 表现形式/ ,/ 所以/ 可信/ SOA/ 的/ 建/ 模型/ 问题/ 还/ 没有/ 很/ 好地解决/ ./ (/ 2/ )/ 可信/ 软件体系结构/ 建模/ 研究/ 有待/ 深入/ ./ SOA/ 作为/ 软件体系结构/ (/ SoftwareArchitecture/ ,/ SA/ )/ 的/ 特例/ ,/ 其/ 可信/ 属性/ 建模/ 应/ 属于/ SA/ 建模/ 范畴/ ./ 文献/ [/ 7/ ]/ 综述/ 了/ 10/ 年来/ SA/ 的/ 研究进展/ ,/ 从/ 软件/ 生命周期/ 各个/ 阶段/ 诠释/ 了/ SA/ 的/ 作用/ ./ 不仅如此/ ,/ 还/ 指出/ :/ “/ 随着/ 网构/ 软件/ 的/ 复杂程度/ 增加/ ,/ 进一步/ 加大/ 了/ 对/ 网构/ 软件结构/ 的/ 理解/ 、/ 分析/ 和/ 开发/ 的/ 难度/ ;/ 如何/ 界定/ SA/ 在/ 网构/ 软件/ 整个/ 生命周期/ 中/ 的/ 角色/ ,/ 将/ 是/ 一个/ 值得/ 关注/ 和/ 研究/ 的/ 课题/ ;/ 其中/ 主要/ 研究/ 点/ 包括/ :/ 对/ 网构/ SA/ 描述/ 与/ 分析/ 的/ 方法/ 、/ 基于/ 体系结构/ 的/ 网构/ 软件/ 的/ 质量/ 属性/ 保障机制/ 等/ ”/ ./ 目前/ ,/ 对/ SA/ 建模/ 方法/ 的/ 研究/ 还是/ 集中/ 在/ 软件体系结构/ 描述语言/ (/ ArchitectureDescriptionLan/ -/ guage/ ,/ ADL/ )/ 方面/ ./ 较/ 著名/ 的/ ADL/ 有/ ACME/ 、/ C2/ 、/ Darwin/ 、/ Rapide/ 和/ Wright/ 等/ [/ 8/ ]/ ./ UML/ (/ UnionModelLanguage/ ,/ UML/ )/ 是/ 广泛/ 使用/ 的/ 软件系统/ 建模语言/ ,/ 虽然/ 对/ SA/ 的/ 描述/ 能力/ 不足/ ,/ 经过/ 改进/ 后/ 可以/ 作为/ 一种/ ADL/ [/ 9/ ]/ ./ Taylor/ 提出/ 了/ 一种/ 可信/ SA/ 描述语言/ xADL/ ,/ 通过/ 明确/ 主题/ 、/ 资源/ 、/ 特权/ 、/ 安保/ 和/ 策略/ 等/ 相关/ 概念/ ,/ 描述/ 访问控制/ 等/ 安全/ 事务/ [/ 10/ ]/ ./ ADLs/ 采用/ 形式化/ 的/ 方法/ 描述/ SA/ ,/ 但/ 并未/ 对/ 组件/ 、/ 连接器/ 和/ SA/ 的/ 属性/ 和/ 行为/ 给出/ 一致/ 的/ 定义/ 和/ 描述/ ./ 文献/ [/ 8/ ]/ 提出/ 一个/ 具有/ 普遍意义/ 的/ SA/ 框架/ ,/ 但/ 未/ 对/ 框架/ 中/ 的/ 组件/ 、/ 连接器/ 以及/ SA/ 的/ 属性/ 和/ 动态/ 行为/ 给出/ 抽象化/ 的/ 描述/ ,/ 未/ 对/ 不同/ 的/ 连接/ 方式/ 进行/ 分类/ ,/ 未/ 讨论/ 各类/ SA/ 间/ 的/ 相互/ 关系/ ./ 从/ 系统分析/ 角度/ ,/ SA/ 建模/ 方法/ 还/ 应该/ 提供/ 对/ 质量/ 属性/ 的/ 描述/ 能力/ ,/ 而/ 上述/ ADLs/ 不/ 具备/ 这些/ 功能/ ./ Taylor/ 提出/ 的/ xADL/ 虽然/ 对/ 可信/ 软件/ 建模/ 有/ 指导意义/ ,/ 但/ 并/ 没有/ 涉及/ SOA/ 的/ 概念/ ,/ 也/ 存在/ 着/ 形式化/ 描述/ 不够/ 、/ 对/ 组件/ 连接/ 方式/ 分类/ 不/ 明确/ 等/ 问题/ ./ 为此/ ,/ 用/ 数学/ 理论/ 建立/ 完备/ 的/ 可信/ SOA/ 模型/ ,/ 并/ 在/ 此基础/ 上/ 研究/ 可信/ SOA/ 的/ 描述/ 、/ 检测/ 和/ 评价/ 等/ 问题/ ,/ 还有/ 较大/ 的/ 研究/ 空间/ ./ 本文/ 从/ 软件体系结构/ 建模/ 入手/ ,/ 用/ 进程/ 代数/ 对/ 可信/ SOA/ 的/ 建模/ 方法/ 进行/ 研究/ ,/ 通过/ 对/ 传统/ 的/ 进程/ 代数/ 扩展/ ,/ 提出/ 多种/ 服务/ 组合/ 运算/ ,/ 建立/ SOA/ 的/ 代数/ 模型/ ,/ 并/ 在/ 此基础/ 上/ 研究/ SOA/ 的/ 可信/ 设计/ 问题/ ,/ 为/ 可信/ SOA/ 设计/ 提供/ 理论/ 支持/ ./ 2SOA/ 代数/ 模型/ 下面/ 用/ 进程/ 代数/ 解释/ 服务/ 组件/ 、/ 服务/ 组合/ 以及/ 服务/ 体系结构/ 等/ 概念/ ,/ 最后/ 给出/ SOA/ 代数/ 模型/ ./ ①/ tionIssue/ -/ Service/ -/ OrientedArchitecture/ ./ http/ :/ // // www/ ./ zd/ -/ ②/ ice/ -/ OrientedArchitecture/ ,/ CBDIForum/ ./ http/ :/ // // www/ ./ mi/ -/ ③/ ④/ ⑤/ Page32/ ./ 1/ 服务/ 组件/ 把/ 服务/ 解释/ 成/ :/ “/ 一个/ 具有/ 服务/ 能力/ 的/ 、/ 可/ 按照/ 一定/ 的/ 策略/ 和/ 特性/ (/ 如/ 可信性/ )/ 组合/ 的/ 组件/ 集合/ ,/ 这些/ 组件/ 可以/ 是/ 一个/ 正在/ 执行/ 的/ 程序代码/ 段/ 、/ 也/ 可以/ 是/ 程序运行/ 的/ 系统/ 环境/ ./ ”/ 下面/ 分别/ 给出/ 服务/ 组件/ 、/ 服务/ 组合/ 和/ 服务/ 体系结构/ 的/ 形式化/ 描述/ 以及/ 服务/ 同态/ 、/ 同构/ 概念/ ./ 定义/ 1/ ./ 服务/ 组件/ (/ 简称/ 组件/ )/ 可以/ 是/ 一段/ 程序代码/ ,/ 可以/ 是/ 实现/ 程序代码/ 的/ 语言/ ,/ 可以/ 是/ 语言/ 的/ 运行/ 环境/ 等/ 计算/ 单元/ ,/ 也/ 可以/ 是/ 数据/ 、/ 数据/ 的/ 处理结果/ 的/ 数据/ 单元/ ./ 它/ 由/ 组件/ 接口/ 和/ 组件/ 实现/ 模块/ 组成/ ./ 组件/ 接口/ 是/ 组件/ 与/ 外部/ 接触点/ 的/ 集合/ ,/ 即/ 〈/ Port1/ ,/ Port2/ ,/ …/ ,/ Portn/ 〉/ ,/ 而/ 每/ 一个/ 接触点/ Porti/ 是/ 一个/ 八元/ 组/ 〈/ ID/ ,/ Publi/ ,/ Extni/ ,/ Privi/ ,/ Behai/ ,/ Msgsi/ ,/ Consi/ ,/ Non/ -/ Funci/ 〉/ ./ 其中/ :/ ID/ 是/ 组件/ 的/ 标识/ ;/ Publi/ 是/ 第/ i/ 个/ 接触点/ 提供/ 给/ 环境/ 或/ 其它/ 组件/ 标示/ 构成/ ;/ 达式/ 构成/ ;/ 的/ 功能/ (/ 活动/ )/ 集合/ ,/ 活动/ 执行/ 记为/ x/ ;/ 下同/ ./ 件/ 的/ 功能/ (/ 活动/ )/ 集合/ ;/ Extni/ 是/ 第/ i/ 个/ 接触点/ 运行/ 所/ 需/ 环境/ 或/ 其它/ 组/ Privi/ 是/ 第/ i/ 个/ 接触点/ 私有/ 功能/ (/ 活动/ )/ 集合/ ;/ Behai/ 是/ 第/ i/ 个/ 接触点/ 行为/ 语义/ 描述/ ,/ 由/ 谓词/ 表/ Msgsi/ 是/ 第/ i/ 个/ 接触点/ 所有/ 消息/ 的/ 集合/ ,/ 由/ 事件/ Consi/ 是/ 对/ 第/ i/ 个/ 接触点/ 行为/ 约束/ ,/ 它/ 通常/ 包括/ 组件/ 运行/ 的/ 初始条件/ 、/ 前置条件/ 和/ 后置/ 条件/ ,/ 有时/ 为了/ 明确/ 表示/ 这/ 3/ 个/ 条件/ 可/ 把/ 它/ 写成/ Cons/ (/ init/ ,/ pre/ -/ cond/ ,/ post/ -/ cond/ )/ ,/ init/ 、/ pre/ -/ cond/ 和/ post/ -/ cond/ 分别/ 表示/ 初始条件/ 、/ 前置条件/ 和/ 后置/ 条件/ 的/ 集合/ ;/ Non/ -/ Funci/ 是/ 组件/ 第/ i/ 个/ 接触点/ 非/ 功能/ 说明/ ,/ 包括/ 组件/ 的/ 服务/ 策略/ 、/ 合同/ 、/ 安全性/ 、/ 可靠性/ 说明/ 等/ ./ 下面/ 给出/ 组件/ 相等/ 和/ 组件/ 进化/ 概念/ ./ 定义/ 2/ ./ 设/ A/ 、/ B/ 是/ 论域/ Dom/ (/ U/ )/ 中/ 的/ 两个/ 组件/ ,/ U/ 为/ 组件/ 集合/ ,/ 下同/ ./ 如果/ A/ 、/ B/ 满足/ 下列/ 条件/ 烄/ 烅/ 烆/ 则/ 称/ A/ 、/ B/ 相等/ ,/ 记作/ A/ =/ B/ ./ ‘/ / ’/ 为/ 逻辑/ 等价/ ,/ ‘/ / ’/ 为永真/ 蕴涵/ ,/ 下同/ ./ 定义/ 3/ ./ 设/ A/ 和/ B/ 是/ 论域/ Dom/ (/ U/ )/ 中/ 的/ 两个/ 服务/ 组件/ ,/ 如果/ A/ 和/ B/ 满足/ 下列/ 条件/ ,/ 则/ 称/ B/ 是/ A/ 的/ 一个/ 进化/ ,/ 记为/ Evolve/ (/ B/ ,/ A/ )/ ./ (/ 1/ )/ Dom/ (/ A/ )/ =/ Dom/ (/ B/ )/ 烄/ (/ 2/ )/ Publ/ (/ B/ )/ / Publ/ (/ A/ )/ (/ 3/ )/ Extn/ (/ B/ )/ / Extn/ (/ A/ )/ (/ 4/ )/ Priv/ (/ B/ )/ / Priv/ (/ A/ )/ (/ 5/ )/ Beha/ (/ B/ )/ / Beha/ (/ A/ )/ 烅/ (/ 6/ )/ Msgs/ (/ B/ )/ =/ Msgs/ (/ A/ )/ (/ 7/ )/ (/ Cons/ (/ B/ )/ =/ Cons/ (/ A/ )/ )/ or/ (/ Cons/ (/ B/ )/ / Cons/ (/ A/ )/ )/ (/ 8/ )/ (/ Non/ -/ Func/ (/ B/ )/ =/ Non/ -/ Func/ (/ A/ )/ )/ or/ (/ Non/ -/ Func/ (/ B/ )/ / Non/ -/ Func/ (/ A/ 烆/ 2.2/ 服务/ 组合/ 下面/ 结合/ 服务/ 软件/ 特点/ ,/ 对/ 进程/ 代数/ 中/ 的/ 算子/ 进行/ 扩展/ ,/ 把/ 服务/ 组合/ 解释/ 成/ 服务/ 组件/ 连接/ 运算/ 的/ 实现/ ./ 件/ ,/ 若/ / x/ ∈/ Extn/ (/ A/ )/ ∧/ / y/ ∈/ Publ/ (/ B/ )/ 使得/ 定义/ 4/ ./ 设/ A/ 、/ B/ 是/ 论域/ Dom/ (/ U/ )/ 中/ 的/ 两个/ 组/ [/ pre/ -/ cons/ (/ A/ )/ ∧/ pre/ -/ cons/ (/ B/ )/ ∧/ (/ x/ / y/ )/ ]/ ∧/ [/ Msgs/ (/ x/ )/ →/ Msgs/ (/ y/ )/ ]/ ,/ 即/ 组件/ A/ 通过/ 发送/ 一个/ 消息/ “/ 激发/ ”/ 组件/ B/ 中/ 的/ Publ/ (/ B/ )/ 来/ 实现/ 功能/ 需求/ ,/ 就/ 称/ 组件/ A/ ,/ B/ 进行/ 了/ 一次/ “/ 激发/ ”/ 运算/ ,/ 记作/ A/ / B/ ./ 特别/ 地/ 把/ A/ / B/ 记为/ x/ / y/ ./ A/ / B/ 仍然/ 是/ 一个/ 组件/ ,/ 它/ 满足/ 下列/ 性质/ :/ (/ 1/ )/ Dom/ (/ A/ / B/ )/ =/ Dom/ (/ A/ )/ ∪/ Dom/ (/ B/ )/ 烄/ (/ 2/ )/ Publ/ (/ A/ / B/ )/ =/ Publ/ (/ A/ )/ ∪/ Publ/ (/ B/ )/ (/ 3/ )/ Extn/ (/ A/ / B/ )/ =/ Extn/ (/ A/ )/ ∪/ Extn/ (/ B/ )/ (/ 4/ )/ Priv/ (/ A/ / B/ )/ =/ Priv/ (/ A/ )/ ∪/ Priv/ (/ B/ )/ (/ 5/ )/ Beha/ (/ A/ / B/ )/ / Beha/ (/ A/ )/ ∧/ Beha/ (/ B/ )/ 烅/ (/ 6/ )/ Msgs/ (/ A/ / B/ )/ =/ (/ Msgs/ (/ A/ )/ ∪/ Msgs/ (/ B/ )/ )/ (/ 7/ )/ Cons/ (/ A/ / B/ )/ / Cons/ (/ A/ )/ ∧/ Cons/ (/ B/ )/ (/ 8/ )/ Non/ -/ Func/ (/ A/ / B/ )/ / Non/ -/ Func/ (/ A/ )/ ∧/ Non/ -/ Func/ (/ B/ 烆/ 定义/ 5/ ./ 设/ A/ 、/ B/ 是/ 论域/ Dom/ (/ U/ )/ 中/ 的/ 两个/ 组件/ ,/ 若/ / x/ ∈/ Extn/ (/ A/ )/ ∧/ / y/ ∈/ Publ/ (/ B/ )/ 使得/ [/ pre/ -/ cond/ (/ A/ )/ ∧/ pre/ -/ cond/ (/ B/ )/ ∧/ (/ x/ / y/ )/ ]/ ∧/ [/ y/ ∈/ Priv/ (/ A/ )/ ]/ ,/ 即/ 组件/ A/ 通过/ “/ 使用/ ”/ 组件/ B/ 中/ 的/ Publ/ (/ B/ )/ 来/ 实现/ 功能/ 需求/ ,/ 就/ 称/ 组件/ A/ ,/ B/ 进行/ 了/ 一次/ “/ 使用/ ”/ 运算/ ,/ 记作/ A/ / B/ ./ 特别/ 地/ 把/ A/ / B/ 记为/ x/ / y/ ./ A/ / B/ 仍然/ 是/ 一个/ 组件/ ,/ 它/ 满足/ 下列/ 性质/ :/ Page4/ (/ 1/ )/ Dom/ (/ A/ / B/ )/ =/ Dom/ (/ A/ )/ ∪/ Dom/ (/ B/ )/ 烄/ (/ 2/ )/ Publ/ (/ A/ / B/ )/ / Publ/ (/ A/ )/ ∪/ Publ/ (/ B/ )/ (/ 3/ )/ Extn/ (/ A/ / B/ )/ / Extn/ (/ A/ )/ ∪/ Extn/ (/ B/ )/ (/ 4/ )/ Priv/ (/ A/ / B/ )/ =/ Priv/ (/ A/ )/ ∪/ Priv/ (/ B/ )/ (/ 5/ )/ Beha/ (/ A/ / B/ )/ / Beha/ (/ A/ )/ ∧/ Beha/ (/ B/ )/ 烅/ (/ 6/ )/ Msgs/ (/ A/ / B/ )/ =/ (/ Msgs/ (/ A/ )/ ∪/ Msgs/ (/ B/ )/ )/ (/ 7/ )/ Cons/ (/ A/ / B/ )/ / Cons/ (/ A/ )/ ∧/ Cons/ (/ B/ )/ (/ 8/ )/ Non/ -/ Func/ (/ A/ / B/ )/ / Non/ -/ Func/ (/ A/ )/ ∧/ Non/ -/ Func/ (/ B/ )/ 烆/ “/ 使用/ ”/ 和/ “/ 激发/ ”/ 运算/ 是/ 最/ 基本/ 的/ 服务/ 组合/ 运算/ ./ 在/ 不/ 需要/ 区分/ 二者/ 的/ 环境/ 下/ ,/ 可以/ 把/ 二者/ 统称/ 为/ “/ 调用/ ”/ 运算/ ,/ 记为/ A/ / B/ ./ 可以/ 证明/ “/ 调用/ ”/ 运算/ 满足/ 结合/ 率/ [/ 13/ ]/ ./ 定义/ 6/ ./ 设/ A/ 、/ B/ 是/ 论域/ U/ 中/ 的/ 两个/ 组件/ ,/ 若/ / x/ ∈/ Extn/ (/ A/ )/ ,/ 对/ / y/ ∈/ Publ/ (/ B/ )/ ,/ 若/ [/ (/ x/ / y/ )/ ∧/ (/ (/ pre/ -/ cond/ (/ A/ )/ ∧/ pre/ -/ cond/ (/ B/ )/ )/ ]/ ∧/ [/ Msgs/ (/ y/ )/ ∈/ Msgs/ (/ A/ )/ ]/ ,/ 则/ 称/ A/ 与/ B/ 进行/ 一次/ 带有/ “/ 反馈/ ”/ 的/ 调用/ 运算/ ./ 显然/ ,/ 反馈/ 运算/ 依赖/ “/ 使用/ ”/ 或/ “/ 激发/ ”/ 运算/ ,/ 所以/ 反馈/ 本身/ 一定/ 与/ 这/ 两种/ 运算/ 一起/ 构成/ 表达式/ ./ 如/ A/ 激发/ B/ 后/ 把/ 结果/ 反馈/ 给/ A/ ./ 把/ 反馈/ 运算/ 记为/ A/ / B/ ↑/ ,/ 特别/ 地/ 把/ A/ / B/ ↑/ 记为/ x/ / y/ ↑/ ./ 定义/ 7/ ./ 设/ A/ 、/ B/ 是/ 论域/ U/ 中/ 的/ 两个/ 组件/ ,/ 若/ / x/ ∈/ Publ/ (/ A/ )/ ,/ / y/ ∈/ Extn/ (/ B/ )/ 使得/ [/ (/ pre/ -/ cond/ (/ B/ )/ )/ ∧/ (/ y/ )/ / (/ (/ pre/ -/ cond/ (/ A/ )/ )/ ∧/ (/ x/ )/ ]/ ,/ 反之/ / x/ ∈/ Extn/ (/ A/ )/ ,/ / y/ ∈/ Publ/ (/ B/ )/ 使得/ [/ (/ pre/ -/ cond/ (/ A/ )/ )/ ∧/ (/ x/ )/ / (/ (/ pre/ -/ cond/ (/ B/ )/ )/ ∧/ (/ y/ )/ ]/ ./ 则/ 称/ 组件/ B/ 与/ 组件/ A/ 协同/ 运算/ ,/ 记作/ A/ Θ/ B/ ./ H/ =/ pre/ -/ cond/ (/ A/ )/ ∩/ pre/ -/ cond/ (/ B/ )/ 称为/ 协同/ 条件/ 集/ ./ 特别/ 地/ 把/ A/ Θ/ B/ 记为/ x/ Θ/ y/ ./ 显然/ ,/ “/ 协同/ ”/ 运算/ 满足/ 交换/ 率/ ./ 这里/ x/ / y/ 并/ 没有/ 限定/ 协同/ 运算/ 的/ 交互方式/ ,/ 所以/ 协同/ 运算/ 依赖于/ “/ 使用/ ”/ 或/ “/ 激发/ ”/ 运算/ ./ 定义/ 8/ ./ 设/ A/ 、/ B/ 是/ 论域/ U/ 中/ 的/ 两个/ 组件/ ,/ 若/ / x/ ∈/ Publ/ (/ A/ )/ ,/ / y/ ∈/ Extn/ (/ B/ )/ 可以/ 有/ [/ (/ pre/ -/ cond/ (/ B/ )/ )/ ∧/ (/ y/ )/ / (/ (/ pre/ -/ cond/ (/ A/ )/ )/ ∧/ (/ x/ )/ ]/ 成立/ ,/ 反之/ / x/ ∈/ Extn/ (/ A/ )/ ,/ / y/ ∈/ Publ/ (/ B/ )/ 可以/ 有/ [/ (/ pre/ -/ cond/ (/ A/ )/ )/ ∧/ (/ x/ )/ / (/ (/ pre/ -/ cond/ (/ B/ )/ )/ ∧/ (/ y/ )/ ]/ 成立/ ,/ 但/ 服务/ 过程/ 中/ pre/ -/ cond/ (/ A/ )/ ∩/ pre/ -/ cond/ (/ B/ )/ =/ / ,/ 则/ 称/ 组件/ A/ 与/ 组件/ B/ 并行/ ,/ 记作/ A/ ‖/ B/ ./ 特别/ 地/ 把/ A/ ‖/ B/ 记为/ x/ ‖/ y/ ./ 显然/ ,/ 并行/ 运算/ 是/ 协同/ 运算/ 的/ 特例/ ,/ 并/ 都/ 满足/ 交换/ 率/ ./ 定义/ 9/ ./ 设/ A/ 、/ B/ 是/ 论域/ U/ 中/ 的/ 两个/ 组件/ ,/ / x1/ ∈/ Publ/ (/ A/ )/ ,/ / y1/ ∈/ Extn/ (/ A/ )/ ,/ / x2/ ∈/ Publ/ (/ B/ )/ ,/ / y2/ ∈/ Extn/ (/ B/ )/ ,/ 若/ [/ (/ post/ -/ cond/ (/ A/ )/ ∧/ pre/ -/ cond/ (/ B/ )/ )/ ∧/ (/ y1/ / x2/ )/ ]/ / [/ (/ post/ -/ cond/ (/ B/ )/ ∧/ pre/ -/ cond/ (/ A/ )/ )/ ∧/ (/ y2/ / x1/ )/ ]/ ,/ 则/ 称/ A/ 与/ B/ 重复/ ,/ 记为/ A/ ·/ B/ ./ 特别/ 地/ ,/ 当/ A/ =/ B/ 时/ ,/ 称/ A/ 重复/ 执行/ ,/ 记为/ x1/ ·/ A/ ,/ 简记/ :/ ·/ A/ ./ “/ 反馈/ ”/ 与/ “/ 重复/ ”/ 的/ 区别/ 在于/ ,/ “/ 反馈/ ”/ 只是/ 结果/ 的/ 返回/ ,/ 而/ “/ 重复/ ”/ 需要/ 重复/ 执行/ 原/ 组件/ 方法/ x/ ./ 显然/ ,/ “/ 反馈/ ”/ 与/ “/ 重复/ ”/ 都/ 依赖/ “/ 使用/ ”/ 或/ “/ 激发/ ”/ 两种/ 运算/ ./ 可以/ 证明/ “/ 重复/ ”/ 满足/ 交换/ 率/ ./ 定义/ 10/ ./ 设/ A/ 、/ B/ 是/ 论域/ U/ 中/ 的/ 两个/ 组件/ ,/ 若/ / x/ ∈/ Publ/ (/ A/ )/ ,/ / y/ ∈/ Publ/ (/ B/ )/ 使得/ [/ pre/ -/ cond/ (/ A/ )/ ∧/ (/ x/ )/ ]/ ∨/ [/ pre/ -/ cond/ (/ B/ )/ ∧/ (/ y/ )/ ]/ ,/ 则/ 称/ 组件/ A/ 与/ 组件/ B/ 选择/ 执行/ ,/ 记为/ A/ +/ B/ ./ 特别/ 地/ 把/ A/ +/ B/ 记为/ x/ +/ y/ ./ 定义/ 6/ ~/ 10/ 中/ 的/ 运算/ 也/ 有/ 与/ 式/ (/ 3/ / )/ 类似/ 的/ 性质/ ./ 这里/ 略/ ./ 可以/ 证明/ “/ 选择/ ”/ 运算/ 满足/ 交换/ 率/ ./ “/ 反馈/ ”/ 、/ “/ 重复/ ”/ 、/ “/ 激发/ ”/ 与/ “/ 使用/ ”/ 、/ “/ 协同/ ”/ 与/ “/ 并行/ ”/ 运算/ 对/ “/ 选择/ ”/ 运算/ 满足/ 分配率/ ./ 下面/ 仅/ 就/ “/ 重复/ ”/ 对/ “/ 选择/ ”/ 的/ 分配律/ 加以/ 证明/ ,/ 其它/ 证明/ 略/ ./ 定理/ 1/ ./ “/ 重复/ ”/ 运算/ 对/ “/ 选择/ ”/ 运算/ 满足/ 分配律/ ,/ 即/ 证明/ ./ 要/ 证明/ 式/ (/ 1/ )/ 成立/ ,/ 只要/ 证明/ 等式/ 的/ 左边/ 和/ 等式/ 右边/ 满足/ 定义/ 2/ 中/ 的/ 8/ 个/ 条件/ 即可/ ./ 为此/ ,/ 我们/ 有/ 代表性/ 的/ 证明/ 第/ 2/ 个/ 和/ 第/ 5/ 个/ 条件/ 成立/ ,/ 其它/ 证明/ 同理/ ./ 首先/ ,/ 对/ ·/ 和/ +/ 运算/ ,/ 都/ 有/ Publ/ (/ AOPiB/ )/ =/ Publ/ (/ A/ )/ ∪/ Publ/ (/ B/ )/ 性质/ ,/ 所以/ 对/ / x/ ∈/ Publ/ (/ (/ A/ +/ B/ )/ ·/ C/ )/ ,/ 有/ x/ ∈/ Publ/ (/ A/ )/ ∨/ x/ ∈/ Publ/ (/ B/ )/ ∨/ x/ ∈/ Publ/ (/ C/ )/ ,/ 可得/ x/ ∈/ Publ/ (/ A/ ·/ C/ +/ B/ ·/ C/ )/ ./ 同理/ ,/ 对/ / y/ ∈/ Publ/ (/ A/ ·/ C/ +/ B/ ·/ C/ )/ 有/ y/ ∈/ Publ/ (/ (/ A/ +/ B/ )/ ·/ C/ )/ ./ 因此/ ,/ 有/ Publ/ (/ (/ A/ +/ B/ )/ ·/ C/ )/ =/ Publ/ (/ A/ ·/ C/ +/ B/ ·/ C/ )/ ,/ 定义/ 2/ 的/ 性质/ (/ 2/ )/ 成立/ ./ 首先/ ,/ 对/ ·/ 运算/ ,/ 有/ Beha/ (/ A/ ·/ B/ )/ / Beha/ (/ A/ )/ ∧/ Beha/ (/ B/ )/ 性质/ ;/ 而/ 对/ +/ 运算/ ,/ 有/ Beha/ (/ A/ +/ B/ )/ / Beha/ (/ A/ )/ ∨/ Beha/ (/ B/ )/ 性质/ ./ 由/ Beha/ (/ (/ A/ +/ B/ )/ ·/ C/ )/ / (/ Beha/ (/ A/ +/ B/ )/ )/ ∧/ Beha/ (/ C/ )/ / (/ Beha/ (/ A/ )/ ∨/ Beha/ (/ B/ )/ )/ ∧/ Beha/ (/ C/ )/ / (/ Beha/ (/ A/ )/ ∧/ (/ Beha/ (/ C/ )/ )/ ∨/ (/ Beha/ (/ B/ )/ ∧/ (/ Beha/ (/ C/ )/ )/ / Beha/ (/ A/ ·/ C/ +/ B/ ·/ C/ )/ ,/ 则/ Beha/ (/ (/ A/ +/ B/ )/ ·/ C/ )/ / Beha/ (/ A/ ·/ C/ +/ B/ ·/ C/ )/ )/ ./ 定义/ 2/ 的/ 性质/ (/ 5/ )/ 成立/ ./ 以上/ 借鉴/ 进程/ 代数/ 中/ 算子/ 概念/ ,/ 对/ 组合/ 进行/ 分类/ ,/ 下面/ 进一步/ 讨论/ 服务/ 组合/ 相关/ 的/ 概念/ ./ 定义/ 11/ ./ 服务/ 组合/ 是/ 组件/ 运算/ 的/ 实现/ ./ 它/ 是/ Page5/ 集合/ ./ 一个/ 六元/ 组/ 〈/ ID/ ,/ Role/ ,/ Beha/ ,/ Msgs/ ,/ Cons/ ,/ Non/ -/ Func/ 〉/ ./ 其中/ :/ ID/ 是/ 组合/ 的/ 标识/ ./ Role/ 为/ 服务/ 组合/ 与/ 组件/ 的/ 交互/ 点/ 的/ 集合/ ,/ 每个/ Role/ =/ 〈/ Id/ ,/ Action/ ,/ Event/ ,/ LConstrains/ 〉/ 组成/ ./ 其中/ :/ Id/ 是/ Role/ 的/ 标识/ ;/ Action/ 是/ Role/ 活动/ 的/ 集合/ ,/ 每个/ 活动/ 由/ 事件/ 的/ 连接/ (/ 谓词/ )/ 组成/ ;/ Event/ 是/ Role/ 产生/ 的/ 事件/ 集合/ ;/ LConstrains/ 是/ Role/ 的/ 约束/ 集合/ ./ 我们/ 把/ Role/ 从/ 组合/ 的/ 其它/ 属性/ 分开/ 来/ 描述/ 的/ 目的/ 是/ 突出/ 组合/ 的/ 多态性/ ,/ 即/ 一个/ 组合/ 可/ 同时/ 与/ 多个/ 组件/ 组合/ ./ Msgs/ 是/ 组合/ 中/ 各/ Role/ 中/ 事件/ 产生/ 的/ 消息/ 的/ Beha/ 是/ 组合/ 行为/ 的/ 语义/ 描述/ ./ Cons/ 是/ 组合/ 约束/ 的/ 集合/ ,/ 它/ 包括/ 组合/ 的/ 初始条件/ 、/ 前置条件/ 和/ 后置/ 条件/ ,/ 有时/ 为了/ 明确/ 表示/ 这/ 3/ 个/ 条件/ 可/ 把/ 它/ 写成/ Cons/ (/ init/ ,/ pre/ -/ cond/ ,/ post/ -/ cond/ )/ ,/ init/ ,/ 、/ pre/ -/ cond/ 和/ post/ -/ cond/ 分别/ 表示/ 初始条件/ 、/ 前置条件/ 和/ 后置/ 条件/ 的/ 集合/ ./ Non/ -/ Func/ 是/ 组合/ 的/ 非/ 功能/ 说明/ ,/ 包括/ 按/ 何种/ 策略/ 、/ 合同/ 、/ 安全性/ 和/ 可靠性/ 组合/ 等/ ./ 2.3/ 服务/ 体系结构/ 代数/ 模型/ 下面/ 给出/ 服务/ 体系结构/ 的/ 定义/ ./ 定义/ 12/ ./ 设/ 论域/ 为/ U/ ,/ (/ 1/ )/ 组件/ 是/ 一个/ 服务/ 体系结构/ ;/ (/ 2/ )/ 组合/ 是/ 一个/ 服务/ 体系结构/ ;/ (/ 3/ )/ 由/ 组件/ 经/ 有限/ 次/ 组合/ (/ 组件/ 运算/ )/ 后/ 是/ 服务/ 体系结构/ ./ 服务/ 体系结构/ ,/ 记为/ S/ =/ 〈/ C/ ,/ O/ 〉/ ,/ 简称/ 服务/ ./ 其中/ C/ 表示/ 组成/ 服务/ 的/ 组件/ 集合/ ,/ O/ 表示/ 组件/ 运算/ 的/ 集合/ ./ 与/ 服务/ 组合/ 后/ 仍/ 是/ 一个/ 服务/ ./ 由/ 定义/ 12/ 可得/ 服务/ 体系结构/ 的/ 性质/ 如下/ :/ (/ 1/ )/ 封闭性/ ./ 即/ 组件/ 与/ 组件/ 、/ 组件/ 与/ 服务/ 、/ 服务/ (/ 2/ )/ 层次性/ ./ 即/ 服务/ 可/ 由/ 组件/ 组合而成/ ,/ 而/ 服务/ (/ 3/ )/ 可扩充性/ ./ 即/ 一个/ 满足条件/ 的/ 新/ 组件/ 可以/ 从/ 组合/ 是/ 组件/ 运算/ 实现/ 角度/ ,/ 可以/ 进一步/ 证明/ 又/ 可以/ 再/ 经过/ 组合/ 组成/ 新/ 的/ 更/ 大/ 的/ 服务/ ./ 通过/ 组合/ 加入/ 到/ 服务/ 中/ ./ SOA/ 对/ 任意/ 一个/ 运算/ 构成/ 代数/ 系统/ ./ 每/ 一个/ 组合/ 运算/ 都/ 构成/ 代数/ 系统/ ./ 定理/ 2/ ./ 设/ S/ =/ 〈/ C/ ,/ O/ 〉/ 是/ 服务/ ,/ 则/ S/ 对/ O/ 中/ 的/ 证明/ ./ 由/ 服务/ 组合/ 运算/ 的/ 封闭性/ 可/ 得/ 定理/ 2/ 的/ 正确性/ ./ 为此/ ,/ 把/ S/ =/ 〈/ C/ ,/ O/ 〉/ 称为/ SOA/ 的/ 代数/ 模型/ ,/ 也/ 称/ SOA/ 的/ 代数/ 表达式/ ./ 在/ SOA/ 代数/ 模型/ 定义/ 基础/ 上/ ,/ 可以/ 进一步/ 利用/ 代数学/ 方法/ 挖掘/ SOA/ 的/ 代数/ 性质/ ,/ 为/ SOA/ 基础理论/ 研究/ 奠定/ 基础/ ./ 定义/ 13/ ./ 设/ S1/ =/ 〈/ C1/ ,/ O1/ 〉/ ,/ S2/ =/ 〈/ C2/ ,/ O2/ 〉/ 是/ 两个/ 不同/ 服务/ ,/ 若/ / x/ ∈/ C1/ 总有/ / y/ ∈/ C2/ ,/ 使得/ y/ 与/ x/ 对应/ ,/ 则/ 称/ S1/ 与/ S2/ 之间/ 存在/ 着/ 一个/ 映射/ ,/ 记为/ f/ :/ S1/ →/ S2/ ,/ 或/ y/ =/ f/ (/ x/ )/ ./ 若/ 映射/ 是/ 满射/ ,/ 则/ 称/ 服务/ 间/ 映射/ 为/ 满射/ ;/ 若/ 映射/ 是/ 一对一/ 的/ ,/ 则/ 称/ 服务/ 间/ 为/ 一一/ 映射/ ./ 定义/ 14/ ./ 设/ S1/ =/ 〈/ C1/ ,/ O1/ 〉/ ,/ S2/ =/ 〈/ C2/ ,/ O2/ 〉/ 是/ 两个/ 服务/ ,/ f/ 是/ S1/ 到/ S2/ 的/ 一个/ 映射/ ,/ 若/ 对/ / x/ ∈/ C1/ 和/ / y/ ∈/ C1/ 有/ f/ (/ xOPiy/ )/ =/ f/ (/ x/ )/ OPjf/ (/ y/ )/ ,/ 其中/ OPi/ ∈/ O1/ 、/ OPj/ ∈/ O2/ ./ 则/ 称/ f/ 为/ 从/ S1/ 到/ S2/ 的/ 同态/ ,/ 也/ 称/ S1/ 与/ S2/ 同态/ ;/ 若/ f/ 是/ 单射/ ,/ 则/ 称/ f/ 是从/ S1/ 到/ S2/ 的/ 单一/ 同态/ ;/ 若/ f/ 是/ 一一/ 映射/ ,/ 则/ 称/ f/ 是从/ S1/ 到/ S2/ 的/ 同构/ ,/ 也/ 称/ S1/ 与/ S2/ 同构/ ./ 用/ 同态/ 与/ 同构/ 概念/ 可以/ 进一步/ 描述/ 基于/ SOA/ 软件/ 的/ 进化/ 性/ 、/ 服务/ 之间/ 的/ 关系/ 等/ 概念/ ,/ 这里/ 仅/ 给出/ 后者/ ./ 定义/ 15/ ./ 给定/ 两个/ 服务/ S1/ =/ 〈/ C1/ ,/ O1/ 〉/ 、/ S2/ =/ 〈/ C2/ ,/ O2/ 〉/ ,/ 构造/ 一个/ 新/ 的/ 服务/ S1/ ×/ S2/ =/ 〈/ C1/ ×/ C2/ ,/ OPk/ 〉/ ./ 其中/ C1/ ×/ C2/ 是/ 组件/ 集合/ 的/ 笛卡尔/ 乘积/ ,/ 而/ OPk/ 定义/ 成/ 对/ / x1/ ,/ x2/ ∈/ C1/ 和/ / y1/ ,/ y2/ ∈/ C2/ 有/ 〈/ x1/ ,/ y1/ 〉/ OPk/ 〈/ x2/ ,/ y2/ 〉/ =/ 〈/ x1OPix2/ ,/ y1OPjy2/ 〉/ ,/ OPi/ ∈/ O1/ ,/ OPj/ ∈/ O2/ ./ 称/ S1/ ×/ S2/ 是/ S1/ 到/ S2/ 的/ 积/ 结构/ ,/ 而/ S1/ 和/ S2/ 是/ S1/ ×/ S2/ 的/ 因子/ ,/ 这里/ 的/ OPi/ 、/ OPj/ 和/ OPk/ 运算/ 是/ 任意/ 组件/ 连接/ 运算/ ./ 在/ 定义/ 15/ 的/ 基础/ 上/ 可以/ 定义/ 服务/ 间/ 的/ 关系/ ./ 定义/ 16/ ./ 对/ / x1/ ,/ x2/ ∈/ C1/ 和/ / y1/ ,/ y2/ ∈/ C2/ ,/ 在/ 定义/ 15/ 中/ ,/ 所有/ 满足/ 〈/ x1OPix2/ 〉/ 的/ (/ x1/ ,/ x2/ )/ 的/ 任意/ 一个/ 子集合/ 称为/ 运算/ OPi/ 的/ 一个/ 关系/ ;/ 所有/ 满足/ 〈/ y1OPjy2/ 〉/ 的/ (/ y1/ ,/ y2/ )/ 的/ 任意/ 一个/ 子集合/ 称为/ 运算/ OPj/ 的/ 一个/ 关系/ ./ 3SOA/ 可信/ 属性/ 建模/ 可信/ 是/ 评价/ 软件/ 服务质量/ 重要/ 的/ 指标/ 之一/ ./ 基于/ SOA/ 代数/ 模型/ ,/ 讨论/ 如何/ 通过/ 建立/ SOA/ 的/ 可信/ 范式/ 对/ SOA/ 可信/ 属性/ 建模/ ./ 3.1/ 可信性/ 模型/ 定义/ 17/ ./ 设/ S/ =/ 〈/ C/ ,/ O/ 〉/ 是/ 一个/ 服务/ ,/ 若/ / Y/ ∈/ C/ ;/ / X/ ∈/ C/ 都/ 有/ XOpiY/ ,/ 则/ 称/ Y/ 为/ 服务/ S/ 的/ 候选/ 核/ (/ CandidateCore/ )/ ,/ 若/ 候选/ 核/ 多于/ 一个/ 时/ ,/ 可/ 选定/ 其/ Page6/ 中/ 一个/ 作为/ 主核/ (/ PrimaryCore/ )/ ./ 其中/ ,/ Opi/ 为/ 组合/ 运算/ ./ 定义/ 18/ ./ 设/ S/ =/ 〈/ C/ ,/ O/ 〉/ 是/ 一个/ 服务/ ,/ 若/ 任意/ 一个/ 组件/ 在/ 执行/ 时/ ,/ 都/ 至少/ 与/ 另/ 一个/ 组件/ 发生/ 组合/ ,/ 则/ 称/ A/ 满足/ 第一/ 范式/ ,/ 记为/ 1NF/ ./ 循环/ 结构/ 来/ 编码/ [/ 11/ ]/ ./ 引理/ 1/ ./ 任何/ 一个/ 程序/ 可以/ 只用/ 顺序/ 、/ 分支/ 和/ 定理/ 5/ ./ 任意/ 一个/ S/ =/ 〈/ C/ ,/ O/ 〉/ 的/ 代数/ 表达式/ 都/ 显然/ ,/ 1NF/ 是/ SOA/ 软件设计/ 的/ 最/ 基本/ 的/ 要求/ ./ 定义/ 19/ ./ 设/ S/ =/ 〈/ C/ ,/ O/ 〉/ 是/ 一个/ 服务/ ,/ 若/ A/ 中/ 结合/ 组合/ 运算/ 定义/ 可以/ 证明/ ,/ “/ 使用/ ”/ 运算/ 组合/ 存在/ 核/ ,/ 则/ 称/ A/ 满足/ 第二/ 范式/ ./ 记为/ 2NF/ ./ 是/ 可信性/ 最低/ 的/ 一种/ 组合/ ./ 定理/ 3/ ./ 设/ S/ =/ 〈/ C/ ,/ O/ 〉/ 是/ 一个/ 服务/ ,/ 若/ 对/ / X/ ,/ Y/ ∈/ C/ 有/ XOpiY/ ,/ Opi/ 是/ “/ 使用/ ”/ 组合/ ,/ 则/ XOpiY/ 的/ 可信性/ 依赖/ 组件/ Y/ 的/ 可信性/ ,/ 进一步/ 有/ X/ 的/ 可信性/ 依赖/ Y/ ./ 证明/ ./ 根据/ “/ 使用/ ”/ 组合/ 运算/ 定义/ ,/ 有/ / x/ ∈/ Extn/ (/ X/ )/ ∧/ / y/ ∈/ Publ/ (/ Y/ )/ 使得/ (/ x/ / y/ )/ ∧/ (/ pre/ -/ cond/ (/ X/ )/ ∧/ pre/ -/ cond/ (/ Y/ )/ )/ ∧/ (/ Beha/ (/ X/ )/ / Beha/ (/ Y/ )/ )/ 成立/ ;/ 若/ y/ 失效/ ,/ 即/ Beha/ (/ Y/ )/ 为/ 假/ ,/ 则/ Beha/ (/ X/ )/ / Beha/ (/ Y/ )/ 为/ 假/ ,/ Beha/ (/ X/ )/ 为/ 假/ ,/ XOpiY/ 组合/ 失效/ ./ 因此/ ,/ XOpiY/ 和/ X/ 的/ 可信性/ 依赖/ 组件/ Y/ 的/ 可信性/ ./ 这里/ 的/ y/ 失效/ 是/ 指/ 被/ 恶意/ 攻击/ 或/ 软件/ 故障/ ./ 证毕/ ./ 定义/ 20/ ./ 设/ S/ =/ 〈/ C/ ,/ O/ 〉/ 是/ 一个/ 服务/ ,/ 若/ A/ 满足/ 第一/ 范式/ 或/ 第二/ 范式/ ,/ 并且/ A/ 中/ 的/ 组合/ 运算/ 均/ 为/ “/ 激发/ ”/ 组合/ ,/ 则/ 称/ A/ 满足/ 可信/ 基础/ 范式/ ,/ 记为/ RNF/ ./ 第一/ 范式/ 是/ 典型/ 的/ 分布式/ 软件结构/ ,/ 而/ 第二/ 范式/ 是/ 典型/ 的/ 集中式/ 结构/ ./ 这/ 两种/ 范式/ 的/ 可信性/ 有所不同/ ,/ 可以/ 证明/ 在/ 非/ “/ 使用/ ”/ 组合/ 下/ ,/ 第一/ 范式/ 比/ 第二/ 范式/ 的/ 可信性/ 要/ 高/ ./ 定理/ 4/ ./ 设/ S/ =/ 〈/ C/ ,/ O/ 〉/ 是/ 一个/ 服务/ ,/ 若/ S/ 中有/ 核/ Y/ ,/ 则/ S/ 的/ 可信性/ 依赖/ Y/ 的/ 可信性/ ./ 证明/ ./ 设/ S/ =/ 〈/ C/ ,/ O/ 〉/ 是/ 一个/ 服务/ ./ 根据/ 核/ 的/ 定义/ ,/ / Y/ ∈/ C/ ,/ / X/ ∈/ C/ 都/ 有/ XOpiY/ ./ 若/ y/ 失效/ ,/ 则/ XOpiY/ 失败/ ./ 因此/ ,/ XOpiY/ 的/ 可信性/ 依赖/ 组件/ Y/ 的/ 可信性/ ./ 定义/ 21/ ./ 设/ S/ =/ 〈/ C/ ,/ O/ 〉/ 是/ 一个/ 服务/ ,/ 若/ S/ 满足/ 第一/ 范式/ 和/ RNF/ 范式/ ,/ 则/ 称/ S/ 满足/ 可信/ 一型/ 范式/ ,/ 记为/ R1NF/ ;/ 若/ S/ 满足/ 第二/ 范式/ 和/ RNF/ 范式/ ,/ 则/ 称/ S/ 满足/ 可信/ 二型/ 范式/ ,/ 记为/ R2NF/ ./ 下面/ 讨论/ 基于/ “/ 协同/ ”/ 和/ “/ 并行/ ”/ 运算/ 的/ 可信/ 范式/ 模型/ ./ 可以/ 写成/ 下面/ 的/ 标准型/ ./ S/ =/ a1/ / C1/ ↑/ +/ a2/ / C2/ ↑/ +/ …/ +/ ak/ / Cm/ ↑/ (/ 2/ )/ 或/ 简写/ 成/ 其中/ ai/ ∈/ Cj/ ;/ Cj/ ∈/ C/ ,/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ K/ ,/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ M/ ,/ i/ ,/ j/ 可能/ 不/ 等/ ,/ / 是/ “/ 使用/ ”/ 或/ “/ 激发/ ”/ 运算/ ./ 证明/ ./ 用/ 归纳法/ 证明/ ./ 假设/ k/ =/ 0/ 时/ 成立/ ,/ 此时/ S/ 只有/ 一个/ 组件/ 构成/ ,/ S/ =/ a1C1/ ↑/ 表示/ 该/ 组件/ 的/ 启动/ 、/ 运行/ 与/ 反馈/ 的/ 状态/ 转换/ ./ 现/ 假设/ K/ =/ n/ -/ 1/ 时/ 成立/ ,/ 去/ 证明/ K/ =/ n/ 时/ 成立/ ./ 即/ S/ =/ a1C1/ ↑/ +/ a2C2/ ↑/ +/ …/ +/ an/ -/ 1Cn/ -/ 1/ ↑/ (/ ai/ ∈/ Cj/ ;/ Cj/ ∈/ C/ ,/ 即/ i/ ,/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ K/ ,/ i/ 、/ j/ 可能/ 不/ 等/ )/ 成立/ ,/ 去/ 证明/ S/ =/ a1C1/ ↑/ +/ a2C2/ ↑/ +/ …/ +/ an/ -/ 1Cn/ -/ 1/ +/ anCn/ ↑/ ./ (/ 1/ )/ “/ 选择/ ”/ 运算/ 时/ 显然/ 成立/ ./ S/ =/ a1C1/ ↑/ +/ a2C2/ ↑/ +/ …/ +/ an/ -/ 1Cn/ -/ 1/ ↑/ +/ anCn/ ↑/ (/ 2/ )/ 证明/ “/ 重复/ ”/ 运算/ 成立/ ./ 设/ an/ ∈/ C/ ,/ 有/ S/ =/ (/ a1C1/ ↑/ +/ a2C2/ ↑/ +/ …/ +/ an/ -/ 1Cn/ -/ 1/ ↑/ )/ ·/ anCn/ ↑/ ;/ 由/ ↑/ 满足/ 对/ +/ 和/ ·/ 的/ 分配律/ 得/ ,/ S/ =/ (/ (/ a1C1/ +/ a2C2/ +/ …/ +/ an/ -/ 1Cn/ -/ 1/ )/ ·/ anCn/ )/ ↑/ ;/ 又/ 由于/ 由/ ·/ 满足/ 对/ +/ 的/ 分配率/ ,/ 则/ S/ =/ (/ a1C1/ ·/ anCn/ +/ a2C2/ ·/ anCn/ +/ …/ +/ an/ -/ 1Cn/ -/ 1/ ·/ anCn/ )/ ↑/ ;/ 设/ xi/ ∈/ Publ/ (/ Ci/ )/ ,/ 则/ S/ =/ (/ a1x1/ ·/ anCn/ +/ a2x2/ ·/ anCn/ +/ …/ +/ an/ -/ 1xn/ -/ 1/ ·/ anCn/ +/ C/ )/ ↑/ ;/ 构造/ bi/ =/ aixi/ ·/ an/ ,/ bnCn/ =/ C/ (/ 一个/ 空调/ 用/ )/ ,/ 则/ S/ =/ b1C1/ ↑/ +/ b2C2/ ↑/ +/ …/ +/ bn/ -/ 1Cn/ -/ 1/ ↑/ +/ bnCn/ ↑/ ,/ 即/ 定理/ 在/ “/ 重复/ ”/ 运算/ 下/ 成立/ ./ (/ 3/ )/ 证明/ “/ 顺序/ ”/ 运算/ 成立/ ./ 设/ an/ ∈/ C/ ,/ Cn/ ∈/ C/ ,/ / 为/ / 或/ / 运算/ ,/ 有/ S/ =/ (/ a1C1/ ↑/ +/ a2C2/ ↑/ +/ …/ +/ an/ -/ 1Cn/ -/ 1/ ↑/ )/ / anCn/ ↑/ ;/ 由/ ↑/ 满足/ 对/ / 的/ 分配律/ 得/ ,/ S/ =/ (/ (/ a1C1/ +/ a2C2/ +/ …/ +/ an/ -/ 1Cn/ -/ 1/ )/ / anCn/ )/ ↑/ ;/ 由/ / 对/ +/ 运算/ 满足/ 分配率/ ,/ 有/ S/ =/ (/ a1C1/ / anCn/ +/ a2C2/ / anCn/ +/ …/ +/ an/ -/ 1Cn/ -/ 1/ / anCn/ )/ ↑/ ;/ 设/ xi/ ∈/ Publ/ (/ Ci/ )/ ,/ 则/ S/ =/ (/ a1x1/ / anCn/ +/ a2x2/ / anCn/ +/ …/ +/ an/ -/ 1xn/ -/ 1/ / anCn/ +/ C/ )/ ↑/ ;/ 构造/ bi/ =/ aixi/ / an/ 、/ bnCn/ =/ C/ (/ 一个/ 空调/ 用/ )/ ,/ 则/ S/ =/ b1C1/ ↑/ +/ b2C2/ ↑/ +/ …/ +/ bn/ -/ 1Cn/ -/ 1/ ↑/ +/ bnCn/ ↑/ ,/ 即/ 定理/ 在/ “/ 顺序/ ”/ 运算/ 下/ 成立/ ./ 根据/ 引理/ 1/ 得/ 定理/ 5/ 成立/ ./ 推论/ 1/ ./ 在/ 只/ 考虑/ 服务/ 组件/ 内部/ 行为/ 过程/ 时/ ,/ 任意/ 一个/ S/ =/ 〈/ C/ ,/ O/ 〉/ 的/ 代数/ 表达式/ 都/ 可以/ 写成/ 下面/ 的/ 标准型/ ./ 或/ 简写/ 成/ Page7/ 其中/ ,/ ai/ ∈/ Ci/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ K/ )/ ./ 证明/ ./ 与/ 定理/ 5/ 的/ 证明/ 过程/ 相似/ ,/ 略/ ./ 在/ 只/ 考虑/ 服务/ 组件/ 内部/ 活动/ 时/ ,/ 有/ ai/ ∈/ Ci/ ,/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ K/ ,/ “/ / ”/ 运算/ 条件/ 均/ 满足/ “/ ·/ ”/ 运算/ 条件/ ,/ 所以/ ai/ / Ci/ ↑/ 可以/ 通过/ ai/ ·/ Ci/ ↑/ 实现/ ,/ 即/ ai/ / Ci/ ↑/ =/ ai/ ·/ Ci/ ↑/ ;/ 又/ 由于/ 只/ 在/ 组件/ 内部/ 活动/ ,/ 所以/ ai/ ·/ Ci/ ↑/ =/ ai/ ·/ Ci/ ./ 因此/ ,/ 推论/ 1/ 成立/ ./ 标准型/ (/ 4/ )/ 的/ 物理/ 意义/ 为/ :/ ai/ 是/ 行为/ 明确/ 的/ 活动/ ,/ 如/ 安全性/ 确认/ 等/ 可信/ 活动/ 等/ ,/ 所以/ 可以/ 把/ ai/ 看成/ 是/ 常量/ ;/ 而/ Ci/ 为/ 服务/ 功能/ 组件/ ,/ 可以/ 看成/ 是/ 变量/ ./ 从/ 可信/ 角度/ ,/ 如果/ ai/ 是/ 为了/ 实现/ 可信性/ 保证/ 的/ 活动/ ,/ 则/ 标准型/ (/ 4/ )/ 可以/ 看成/ 是/ 一种/ 可信/ 范式/ ./ 把/ 标准型/ (/ 4/ )/ 称为/ 第三/ 可信/ 范式/ ,/ 记为/ 3NF/ ./ 定义/ 22/ ./ 设/ S/ =/ 〈/ C/ ,/ O/ 〉/ ,/ S/ =/ a1/ ·/ C1/ +/ a2/ ·/ C2/ +/ …/ +/ ak/ ·/ Ck/ ./ 其中/ ai/ ∈/ Ci/ ;/ Ci/ ∈/ C/ ./ 如果/ ai/ 是/ 明确/ 的/ ,/ 为了/ 实现/ 可信性/ 保证/ 的/ 活动/ ,/ 则/ 称/ S/ =/ a1/ ·/ C1/ +/ a2/ ·/ C2/ +/ …/ +/ ak/ ·/ Ck/ 为/ 第三/ 可信/ 范式/ ,/ 记为/ 3NF/ ;/ ai/ 称为/ 可信/ 常量/ ./ 下面/ 讨论/ “/ 协同/ ”/ 组合/ 的/ 可信/ 范式/ ./ 根据/ CCS/ 中/ 组合/ 算子/ 的/ 扩展/ 规则/ 和/ 隐藏/ 内部/ 活动/ 规则/ [/ 12/ ]/ 以及/ 提出/ 的/ 协同/ 运算/ 定义/ 有/ 以下/ 规则/ ./ 并行/ 组合/ 运算/ 扩展/ 规则/ ./ 设/ F/ =/ a1/ ·/ f1/ +/ a2/ ·/ f2/ +/ …/ +/ ak/ ·/ fk/ ;/ G/ =/ b1/ ·/ g1/ +/ b2/ ·/ g2/ +/ …/ +/ bk/ ·/ gk/ 是/ 两个/ 服务/ 组件/ ,/ 那么/ F/ Θ/ G/ =/ (/ a1f1/ Θ/ G/ )/ +/ …/ +/ (/ amfm/ Θ/ G/ )/ +/ 其中/ ai/ 、/ bj/ 为/ 协同/ 常量/ 对/ ,/ ai/ Θ/ bj/ 记为/ ε/ ;/ ai/ ·/ fi/ 简写/ 为/ aifi/ ;/ Σ/ (/ ai/ Θ/ bj/ )/ ·/ fk/ Θ/ gk/ 表示/ 多项/ 选择/ ./ 上述/ 规则/ 表明/ ,/ 两个/ 协同/ 的/ 服务/ 可以/ 通过/ 代数/ 表达式/ 描述/ ./ 下面/ 进一步/ 给出/ 协同/ 表达式/ 的/ 化简/ 规则/ ./ 协同/ 常量/ ai/ Θ/ bj/ 为/ 明确/ 的/ 服务/ 可信/ 保障/ 行为/ ,/ 所以/ 在/ 分析/ 服务/ 软件/ 的/ 可信性/ 时/ 可以/ 忽略/ 协同/ 可信/ 常量/ ,/ 把/ 分析/ 重点/ 放在/ 没有/ 实现/ 可信/ 保障/ 的/ 行为/ 中/ ,/ 为此/ 有/ 下面/ 隐藏/ 规则/ ./ 隐藏/ 内部/ 协同/ 常量/ 规则/ ε/ Θ/ F/ =/ F/ ;/ a/ Θ/ ε/ Θ/ F/ =/ a/ Θ/ F/ ./ 在/ 服务/ 代数/ 模型/ 表达式/ 中/ ,/ 有些/ 项/ 可能/ 与/ 所/ 讨论/ 的/ 问题/ 无关/ 或/ 对/ 讨论/ 的/ 问题/ 不/ 产生/ 干扰/ ,/ 所以/ 可以/ 把/ 这些/ 项消/ 去/ ,/ 为此/ 有/ 限制/ 规则/ ./ 限制/ 规则/ ./ 在/ 式/ (/ 6/ )/ 中/ ,/ 如果/ 把/ 常量/ ai/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ m/ )/ 或/ bj/ (/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ n/ )/ 列入/ 限制/ 范围/ ,/ 那么/ 式/ (/ 6/ )/ 的/ 扩展/ 式/ 中/ aifi/ Θ/ G/ 和/ F/ Θ/ bjgj/ 可以/ 消去/ ./ 个/ 递归/ 表达式/ ./ 那么/ ,/ 哪些/ 项/ 可以/ 被/ 列入/ 限制/ 范围/ 呢/ ?/ 要/ 根据/ 问题/ 域来/ 确定/ ./ 本文/ 把/ 内部/ 协同/ 的/ 可信/ 常量/ 对/ 列入/ 限制/ 范围/ ./ 下面/ 给出/ 定理/ 6/ ./ 定理/ 6/ ./ 设/ ai/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ m/ )/ 和/ bj/ (/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ m/ )/ 是/ 可信/ 协同/ 常量/ 对/ ,/ 则/ 在/ 式/ (/ 6/ )/ 中/ aifi/ Θ/ G/ 和/ F/ Θ/ bjgj/ 可以/ 消去/ ./ 证明/ ./ 先对/ aifi/ Θ/ G/ 证明/ ./ 设/ G/ =/ b1g1/ +/ b2g2/ +/ …/ +/ bkgk/ ,/ 由/ “/ Θ/ ”/ 运算/ 定义/ ,/ 则/ 一定/ 存在/ 一个/ 常量/ bj/ 是/ ai/ 的/ 可信/ 协同/ 常量/ 伴侣/ ,/ 使得/ aifi/ Θ/ G/ =/ aifi/ Θ/ bjgj/ =/ (/ ai/ Θ/ bj/ )/ ·/ fi/ Θ/ gj/ ,/ 该项/ 已经/ 在/ 式/ (/ 6/ )/ 中/ 的/ 多项/ 选择/ 中/ 出现/ ,/ 所以/ 该项/ 在/ 式/ (/ 6/ )/ 中/ 可以/ 消去/ ./ 同理可证/ F/ Θ/ bjgj/ 也/ 可以/ 消去/ ./ 为了/ 分析/ 服务/ 系统/ 的/ 可信性/ ,/ 下面/ 给出/ 两个/ 相关/ 概念/ —/ —/ —/ 死锁/ 与/ 活锁/ ./ 组件/ 功能/ ,/ 则/ 称/ 系统/ 出现/ “/ 活琐/ ”/ ./ 定义/ 23/ ./ 如果/ 一个/ 服务/ 无限/ 循环/ 执行/ 某/ 几个/ “/ 活锁/ ”/ 表现/ 为/ 服务/ 代数/ 表达式/ 中/ 包括/ 递归/ ./ 定理/ 7/ ./ “/ 活锁/ ”/ 表现/ 为/ 服务/ 代数/ 表达式/ 是/ 一/ 证明/ ./ 定理/ 显然/ 成立/ ./ 定义/ 24/ ./ 对/ 一个/ 服务/ 软件系统/ ,/ 如果/ 服务/ 总能/ 到达/ ,/ 那么/ 称该/ 服务/ 系统/ 有/ 活动性/ ;/ 如果/ 一个/ 服务/ 调用/ 在/ 执行/ 某个/ 组合/ 运算/ 后/ 非法/ 终止/ ,/ 则/ 称/ 该/ 服务/ 系统/ 出现/ “/ 死锁/ ”/ ,/ 记为/ #./ “/ 终止/ ”/ 动作/ #/ 是/ 一种/ 正常/ 的/ 组件/ 行为/ ,/ 但/ #/ 出现/ 在/ 需要/ 继续执行/ 的/ 调用/ 行为/ 中/ 时/ ,/ 就/ 会/ 引起/ “/ 死锁/ ”/ ./ 根据/ 定义/ 24/ ,/ 显然/ 有/ 定理/ 8/ 成立/ ./ 定理/ 8/ ./ 在/ 有/ “/ 终止/ ”/ 动作/ #/ 的/ 服务/ 软件系统/ 中/ ,/ 其/ 服务/ 表达式/ 中/ 某项/ 的/ 常量/ 只有/ #./ 证明/ ./ 反证法/ ./ 假设/ 服务/ 表达式/ S/ =/ a1C1/ +/ a2C2/ +/ …/ +/ akCk/ ,/ 其中/ ai/ 为/ #/ ,/ 记有/ S/ =/ a1C1/ +/ a2C2/ +/ …/ +#/ Ci/ +/ …/ +/ akCk/ ./ 根据/ #/ 的/ 定义/ ,/ 一定/ 不/ 存在/ x/ ∈/ Ci/ 与/ #/ 发生/ 调用/ 运算/ 和/ 反馈/ 运算/ ,/ 所以/ #/ Ci/ =/ #/ ,/ 定理/ 成立/ ./ 例/ 1/ ./ F/ =/ aG/ +/ bF/ ;/ G/ =/ cG/ +/ dG/ ./ G/ 无限/ 自/ 循环/ ,/ 系统/ 出现/ 活琐/ ./ X/ =/ aY/ +/ bX/ ;/ Y/ =/ cY/ +/ dX/ +#./ 如果/ 网络/ Y/ 执行/ 常量/ #/ ,/ 那么/ 系统/ 进入/ 终止/ 状态/ ./ 定义/ 25/ ./ 如果/ 一个/ 服务/ 代数/ 表达式/ 中/ 没有/ 出现/ “/ 活锁/ ”/ 和/ “/ 死锁/ ”/ ,/ 则/ 称/ 该/ 服务/ 是/ 可信/ 服务/ ,/ 所/ 形成/ 的/ 代数/ 表达式/ 称为/ 协同/ 可信/ 范式/ ./ 4/ 应用/ 研究/ 提出/ 的/ SOA/ 代数/ 模型/ 和/ 可信/ 范式/ 理论/ 可以/ 直/ Page8/ 接/ 应用/ 到/ 以下/ 领域/ :/ (/ 1/ )/ SOA/ 的/ 形式化/ 描述/ ;/ (/ 2/ )/ SOA/ 软件体系结构/ 设计/ ;/ (/ 3/ )/ SOA/ 可信/ 属性/ 分析/ 等/ ./ 由于/ 篇幅/ 有限/ ,/ 这里/ 仅/ 介绍/ 在/ SOA/ 可信/ 属性/ 分析/ 图/ 1/ 可信/ 协同/ 组合/ S1/ 行为/ 描述/ :/ 服务/ 组件/ S1/ 向/ 服务/ 组件/ S2/ 发送/ 可信/ 协商/ 报文/ (/ 记为/ A1/ )/ ,/ 并/ 启动/ 时钟/ (/ 记为/ T/ )/ ;/ 如果/ 在/ 指定/ 时间/ 内/ 没有/ 得到/ 可信/ 确认/ 报文/ (/ 记为/ B1/ )/ ,/ 则/ 重发/ 可信/ 协商/ 报文/ (/ 仍记/ 为/ A1/ )/ ,/ 此/ 过程/ 重复/ 多次/ ,/ 直到/ 得到/ 可信/ 确认/ 报文/ ./ S1/ 的/ SOA/ 代数/ 模型/ 如下/ :/ 其中/ S11/ 是/ 一个/ 临时/ 服务/ 组件/ ./ S2/ 行为/ 描述/ :/ 服务/ 组件/ S2/ 接收/ 可信/ 协商/ 报文/ (/ 该/ 活动/ 记为/ A2/ )/ ;/ 如果/ 该报/ 文是/ 正确/ 的/ 报文/ ,/ 则/ 向/ 服务/ 组件/ S1/ 发送/ 可信/ 确认/ 报文/ (/ 记为/ B2/ )/ ;/ 如果/ 报文/ 有/ 错/ ,/ 则/ 丢弃/ 协商/ 报文/ (/ 记为/ D/ )/ ./ S2/ 的/ SOA/ 代数/ 模型/ 如下/ :/ 在/ 上述/ 描述/ 中/ ,/ A1/ 与/ A2/ 、/ B1/ 与/ B2/ 为/ 两对/ 可信/ 确认/ 活动/ 对/ ,/ 而/ D/ 和/ T/ 是/ 为了/ 完成/ 可信/ 确认/ 的/ 辅助/ 活动/ ,/ 所以/ 均/ 可/ 认为/ 是/ 明确/ 的/ 可信/ 活动/ ./ 基于/ 第三/ 可信/ 范式/ 的/ 可信/ 设计/ 验证/ 过程/ 如下/ :/ S/ =/ S1/ Θ/ S2/ =/ (/ A1/ ·/ S11/ )/ Θ/ (/ A2/ ·/ (/ D/ ·/ S2/ +/ B2/ ·/ S2/ )/ )/ =/ A1/ ·/ (/ S11/ Θ/ (/ A2/ ·/ (/ D/ ·/ S2/ +/ B2/ ·/ S2/ )/ )/ +/ A2/ ·/ (/ A1/ ·/ S11/ Θ/ (/ D/ ·/ S2/ +/ B2/ ·/ S2/ )/ )/ +/ ε/ ·/ (/ S11/ Θ/ (/ D/ ·/ S2/ +/ B2/ ·/ S2/ )/ )/ 图/ 2/ 非/ 可信/ 协同/ 进程/ 中/ 的/ 应用/ ./ “/ ?/ ”/ 表示/ 需要/ 对/ 接收/ 的/ 报文/ 进行/ 可信/ 验证/ ./ 案例/ 分析/ 1/ ./ 一个/ 可信/ 服务/ 协同/ 组合/ 过程/ 如图/ 1/ 所示/ ./ // // ε/ =/ (/ A1/ ·/ A2/ )/ ,/ (/ A1/ ·/ A2/ )/ 是/ 内部/ 协同/ 可信/ 活动/ ,/ 列入/ 有限/ ./ 根据/ 限制/ 规则/ ,/ 第一/ 、/ 二项/ 可以/ 削去/ ./ 下同/ ./ =/ S11/ Θ/ (/ D/ ·/ S2/ +/ B2/ ·/ S2/ )/ // // 根据/ 式/ (/ 8/ )/ ,/ 把/ S11/ 代入/ 上式/ ./ =/ (/ T/ ·/ A1/ ·/ S11/ +/ B1/ ·/ S1/ )/ Θ/ (/ D/ ·/ S2/ +/ B2/ ·/ S2/ )/ =/ T/ ·/ A1/ ·/ S11/ Θ/ (/ D/ ·/ S2/ +/ B2/ ·/ S2/ )/ +/ B1/ ·/ (/ S1/ Θ/ (/ D/ ·/ S2/ +/ B2/ ·/ S2/ )/ )/ +/ D/ ·/ (/ (/ T/ ·/ A1/ ·/ S11/ +/ B1/ ·/ S1/ )/ Θ/ S2/ )/ +/ B2/ ·/ (/ (/ T/ ·/ A1/ ·/ S11/ +/ B1/ ·/ S1/ )/ Θ/ S2/ )/ +/ (/ B1/ Θ/ B2/ )/ ·/ (/ S1/ Θ/ S2/ )/ 入/ 有限/ ./ // // ε/ =/ (/ B1/ ·/ B2/ )/ ,/ (/ B1/ ·/ B2/ )/ 是/ 内部/ 协同/ 可信/ 活动/ ,/ 列/ =/ [/ T/ ·/ A1/ ·/ (/ S11/ Θ/ (/ D/ ·/ S2/ +/ B2/ ·/ S2/ )/ )/ ]/ +/ [/ D/ ·/ (/ (/ T/ ·/ A1/ ·/ S11/ +/ B1/ ·/ S1/ )/ Θ/ S2/ )/ ]/ +/ [/ ε/ ·/ (/ S1/ Θ/ S2/ )/ ]/ 根据/ S1/ 和/ S2/ 描述/ 中/ 对/ 活动/ 的/ 定义/ ,/ 上述/ SOA/ 表达式/ 中/ 的/ T/ ·/ A1/ 、/ D/ 、/ ε/ 均/ 为/ 可信/ 活动/ ,/ 所以/ 式/ (/ 10/ )/ 满足/ 第三/ 可信/ 范式/ 的/ 定义/ ,/ 是/ 可信/ 设计/ ./ 案例/ 分析/ 2/ ./ 一个/ 非/ 可信/ 服务/ 协同/ 组合/ 过程/ 如图/ 2/ 所示/ ./ Page9/ 在/ 案例/ 1/ 基础/ 上/ ,/ 如果/ 对/ S2/ 错误/ 地/ 设计/ 成/ 如下/ 行为/ 过程/ :/ “/ 不/ 进行/ 确认/ 检测/ (/ 在/ 图/ 2/ 中用/ √/ 表示/ )/ ,/ 直接/ 返回/ 可信/ 确认/ 报文/ ”/ ,/ 其它/ 描述/ 不变/ ,/ 则/ 行为/ 描述/ 如下/ :/ 下面/ 给出/ 基于/ 第三/ 可信/ 范式/ 的/ 非/ 可信/ 设计/ 验证/ 过程/ :/ S/ =/ S1/ Θ/ S2/ =/ (/ A1/ ·/ S11/ )/ Θ/ (/ A2/ ·/ B2/ ·/ (/ D/ ·/ S2/ +/ S2/ )/ )/ =/ A1/ ·/ (/ S11/ Θ/ (/ A2/ ·/ B2/ ·/ (/ D/ ·/ S2/ +/ S2/ )/ )/ +/ A2/ ·/ (/ A1/ ·/ S11/ Θ/ B2/ ·/ (/ D/ ·/ S2/ +/ S2/ )/ )/ +/ ε/ ·/ (/ S11/ Θ/ B2/ ·/ (/ D/ ·/ S2/ +/ S2/ )/ )/ // // ε/ =/ (/ A1/ ·/ A2/ )/ ,/ (/ A1/ ·/ A2/ )/ 是/ 内部/ 协同/ 可信/ 活动/ ,/ 列入/ 有限/ =/ S11/ Θ/ B2/ ·/ (/ D/ ·/ S2/ +/ S2/ )/ // // 根据/ 式/ (/ 8/ )/ ,/ 把/ S11/ 代入/ ./ =/ (/ T/ ·/ A1/ ·/ S11/ +/ B1/ ·/ S1/ )/ Θ/ B2/ ·/ (/ D/ ·/ S2/ +/ S2/ )/ =/ T/ ·/ A1/ ·/ S11/ Θ/ (/ B2/ ·/ (/ D/ ·/ S2/ +/ S2/ )/ )/ +/ B1/ ·/ (/ B2/ ·/ (/ S1/ Θ/ (/ D/ ·/ S2/ +/ S2/ )/ )/ +/ D/ ·/ (/ (/ T/ ·/ A1/ ·/ S11/ +/ B1/ ·/ S1/ )/ Θ/ S2/ )/ +/ (/ (/ T/ ·/ A1/ ·/ S11/ +/ B1/ ·/ S1/ )/ Θ/ S2/ )/ +/ (/ B1/ Θ/ B2/ )/ ·/ (/ S1/ Θ/ S2/ )/ // // ε/ =/ (/ B1/ ·/ B2/ )/ ,/ (/ B1/ ·/ B2/ )/ 是/ 内部/ 协同/ 可信/ 活动/ 对/ ,/ 列入/ 有限/ ./ =/ [/ T/ ·/ A1/ ·/ (/ S11/ Θ/ (/ B2/ ·/ (/ D/ ·/ S2/ +/ S2/ )/ )/ ]/ +/ [/ D/ ·/ (/ (/ T/ ·/ A1/ ·/ S11/ +/ B1/ ·/ S1/ )/ Θ/ S2/ )/ ]/ +/ [/ (/ T/ ·/ A1/ ·/ S11/ +/ B1/ ·/ S1/ )/ Θ/ S2/ ]/ +/ [/ ε/ ·/ (/ S1/ Θ/ S2/ )/ ]/ =/ [/ T/ ·/ A1/ ·/ (/ S11/ Θ/ (/ B2/ ·/ (/ D/ ·/ S2/ +/ S2/ )/ )/ ]/ +/ [/ D/ ·/ (/ S11/ Θ/ S2/ )/ ]/ +/ [/ S11/ Θ/ S2/ ]/ +/ [/ ε/ ·/ (/ S1/ Θ/ S2/ )/ ]/ // // 利用/ 式/ (/ 8/ )/ 把/ T/ ·/ A1/ ·/ S11/ +/ B1/ ·/ S1/ 还原成/ S11/ ./ 其中/ 第/ 3/ 项/ [/ S11/ Θ/ S2/ ]/ 没有/ 进行/ 可信/ 活动/ 就/ 进入/ 协同/ 过程/ ,/ 所以/ 不满/ 第三/ 可信/ 范式/ ./ 因此/ ,/ 是/ 一种/ 不可/ 信/ 的/ SOA/ 设计/ ./ 5/ 相关/ 研究/ 比较/ 及/ 结论/ 以上/ 用/ 代数/ 方法/ 对/ 面向/ 服务/ 的/ 可信/ 软件体系结构/ 进行/ 了/ 讨论/ ,/ 给出/ 服务/ 组件/ 、/ 服务/ 组合/ 和/ 服务/ 体系结构/ 的/ 形式化/ 定义/ ,/ 提出/ 了/ SOA/ 的/ 代数/ 模型/ ./ 在/ 该/ 模型/ 基础/ 上/ ,/ 给出/ 了/ 可信/ 范式/ 概念/ ,/ 并/ 提出/ 多种/ 可信/ SOA/ 范式/ ,/ 为/ 基于/ SOA/ 的/ 可信/ 软件开发/ 提供/ 理论/ 支持/ ./ 上述/ 研究/ 中/ 一个/ 重要/ 观点/ 是/ 把/ 服务/ 组合/ 解释/ 成/ 服务/ 运算/ 的/ 实现/ ,/ 由此/ 可以/ 用/ 进程/ 代数/ 进一步/ 讨论/ 可信/ SOA/ 的/ 建模/ 问题/ ./ 上述/ 研究/ 与/ 文献/ [/ 5/ -/ 6/ ]/ 的/ 不同/ 在于/ ,/ 本文/ 对/ 进程/ 代数/ 中/ 的/ 算子/ 进行/ 了/ 扩展/ ,/ 并/ 结合/ 面向/ 服务/ 的/ 软件/ 特性/ 对/ 算子/ 的/ 物理/ 意义/ 加以/ 解释/ ./ 利用/ 进程/ 代数/ 讨论/ 软件体系结构/ 中/ 的/ 行为/ 描述/ 问题/ ,/ 作者/ 在/ 文献/ [/ 13/ ]/ 中/ 曾经/ 采用/ 过/ ,/ 并/ 取得/ 较/ 好/ 的/ 研究/ 效果/ ./ 本文/ 的/ 研究/ 思路/ 与/ 文献/ [/ 18/ ]/ 相似/ ,/ 但/ 有/ 较大/ 改进/ ,/ 主要/ 表现/ 在/ :/ 增加/ 了/ “/ 选择/ ”/ 、/ “/ 协同/ ”/ 、/ “/ 并行/ ”/ 、/ “/ 重复/ ”/ 和/ “/ 反馈/ ”/ 运算/ ,/ 并/ 进一步/ 明确/ 了/ 上述/ 运算/ 与/ “/ 使用/ ”/ 和/ “/ 激发/ ”/ 运算/ 的/ 关系/ ./ 不仅如此/ ,/ 在/ 代数/ 模型/ 基础/ 上/ ,/ 还/ 讨论/ 了/ SOA/ 的/ 可信/ 属性/ 建模/ 问题/ ;/ 而/ 文献/ [/ 13/ ]/ 仅/ 讨论/ 了/ “/ 使用/ ”/ 和/ “/ 激发/ ”/ 两种/ 运算/ 的/ 情况/ ,/ 而且/ 没有/ 讨论/ SOA/ 相关/ 内容/ ./ 可信/ SOA/ 代数/ 模型/ 为/ 进一步/ 研究/ SOA/ 的/ 可信/ 问题/ 奠定/ 了/ 基础/ ./ 然而/ ,/ 可信/ 软件系统/ 是/ 一个/ 复杂/ 的/ 系统/ ,/ 仅凭/ 一个/ 模型/ 无法/ 描述/ 所有/ 的/ 特征/ ,/ 我们/ 将/ 继续/ 研究/ 其它/ 形式/ 的/ 建模/ 方法/ ./ 另外/ ,/ 可信性/ 测试/ 也/ 是/ 可信性/ 保证/ 的/ 重要/ 研究/ 内容/ 之一/ ./ 由于/ 篇幅/ 有限/ ,/ 本文/ 仅/ 介绍/ 了/ 可信/ SOA/ 的/ 建模/ 方法/ ,/ 并/ 没有/ 给出/ 该/ 模型/ 的/ 应用/ ,/ 我们/ 将/ 在/ 以后/ 的/ 研究/ 中/ ,/ 进一步/ 表现/ 该/ 模型/ 的/ 应用/ 价值/ ./ 

