Page1/ 多/ 宿主/ 连接/ 环境/ 下/ 隧道/ 传输/ 网络/ 的/ 一体化/ 路由/ 模型/ 陈/ 文龙/ 1/ )/ 肖融/ 2/ )/ 徐明伟/ 3/ )/ 徐恪/ 3/ )/ 1/ )/ (/ 首都师范大学/ 信息/ 工程学院/ 北京/ 100048/ )/ 2/ )/ (/ 北京师范大学/ 信息科学/ 与/ 技术/ 学院/ 北京/ 100875/ )/ 3/ )/ (/ 清华大学/ 计算机科学/ 与/ 技术/ 系/ 北京/ 100084/ )/ 摘要/ 现有/ 隧道/ 传输/ 只/ 考虑/ 异构/ 网络/ 基本/ 连通性/ ,/ 是/ 一种/ 分段/ 独立/ 实施/ 路由/ 选择/ 的/ 路由/ 模型/ ,/ 没能/ 对/ 端/ 到/ 端/ 跨越/ 异构/ 网络/ 的/ 传输/ 路径/ 进行/ 一体化/ 考虑/ ./ 针对/ 边缘/ 网到/ 支撑网/ 的/ 多/ 宿主/ 连接/ 网络/ 环境/ ,/ 提出/ 了/ 一种/ 跨/ 异构/ 网络/ 的/ 一体化/ 路由/ 模型/ URM/ (/ UnifiedRoutingModel/ )/ ./ URM/ 模型/ 采用/ 参考/ 度量/ 实现/ 对/ 异构/ 网络/ 路由/ 优劣/ 的/ 统一/ 描述/ ,/ 利用/ BGP/ 协议/ 扩展/ 实现/ 参考/ 度量/ 的/ 传递/ ,/ 并/ 设计/ 了/ 参考/ 度量/ 与/ 传统/ 度量/ 的/ 转换方法/ ./ URM/ 模型/ 实施/ 时/ 影响/ 范围/ 很小/ ,/ 只/ 需/ 对/ 隧道/ 网关/ 进行/ 简单/ 改造/ 即可/ 完成/ ,/ 最终/ 的/ 一体化/ 路由/ 机制/ 也/ 是/ 透明/ 地/ 利用/ 现有/ 路由/ 机制/ 完成/ ./ URM/ 模型/ 会/ 给/ 异构/ 网关/ 和/ 边缘/ 网/ 路由器/ 带来/ 更/ 多/ 的/ 信息/ 存储/ ,/ 但/ 其/ 优势/ 却/ 非常明显/ ,/ 在/ 实现/ 端到/ 端/ 一体化/ 最优/ 路由/ 选择/ 的/ 同时/ ,/ 增加/ 了/ 隧道/ 传输/ 的/ 可用/ 路径/ 并/ 提高/ 了/ 隧道/ 传输/ 可靠性/ ./ 仿真/ 实验/ 及/ 真实/ 设备/ 组网/ 实验/ 验证/ 了/ URM/ 模型/ 的/ 一体化/ 路由/ 选择/ 能力/ 及/ 路由/ 收敛/ 能力/ ./ 关键词/ 隧道/ ;/ 一体化/ 路由/ ;/ 参考/ 度量/ ;/ 映射/ 1/ 引言/ 随着/ 互联网/ 规模/ 、/ 服务/ 和/ 应用/ 的/ 全面/ 发展/ ,/ 大量/ 新型/ 网络/ 模型/ 不断涌现/ ./ 隧道/ 传输/ [/ 1/ -/ 2/ ]/ 因为/ 其/ 诸多/ 优点/ ,/ 已/ 被/ 广泛应用/ 于/ 多种/ 新型/ 网络/ 模型/ ./ 隧道/ 传输/ 通过/ 数据/ 封装/ 实现/ 一种/ 网络/ 标识/ 数据/ 基于/ 另/ 一种/ 网络/ 的/ 透明/ 传输/ ./ 例如/ ,/ IPv4/ // IPv6/ 过渡/ 方案/ 中/ 的/ 自动/ 隧道/ 机制/ Softwire/ [/ 3/ ]/ ,/ 实现/ 了/ 不同/ IPv4/ 边缘/ 网/ 跨越/ IPv6/ 核心网/ 的/ 通信/ ./ 同样/ ,/ 为/ 解决/ 互联网/ 快速增长/ 带来/ 的/ 路由/ 可/ 扩展/ 问题/ ,/ 研究者/ 提出/ 的/ 标识/ 空间/ 分离/ 方案/ [/ 4/ -/ 5/ ]/ ,/ 也/ 是/ 通过/ 隧道/ 来/ 实现/ ./ 本文/ 定义/ 了/ 隧道/ 传输/ 涉及/ 的/ 两种/ 网络/ 角色/ :/ 支撑/ 网络/ SNET/ (/ SustainingNetwork/ )/ ,/ 即/ 通过/ 分组/ 封装/ 提供/ 异构/ 网络/ 透传/ 的/ 底层/ 网络/ ;/ 边缘/ 网络/ ENET/ (/ EdgeNetwork/ )/ ,/ 即/ 利用/ 分组/ 封装/ 并/ 基于/ 支撑/ 网络/ 完成/ 跨/ 异构/ 网络/ 的/ 分组/ 传输/ ./ 现有/ 隧道/ 传输/ 网络/ 通常/ 只/ 提供/ 异构/ 网络/ 的/ 基本/ 连通性/ ,/ 没能/ 对/ 端/ 到/ 端/ 跨越/ 异构/ 网络/ 的/ 传输/ 路径/ 进行/ 一体化/ 考虑/ ,/ 是/ 一种/ 孤立/ 的/ 路由/ 模型/ IRM/ (/ Inde/ -/ pendentRoutingModel/ )/ ./ 边缘/ 网络/ 把/ 支撑/ 网络/ 当作/ 转发/ 路径/ 中/ 的/ 一条/ 链路/ ,/ 支撑/ 网络/ 不/ 关心/ 分组/ 在/ 边缘/ 网络/ 的/ 传输/ 情况/ ./ 这种/ 简单/ 、/ 独立/ 的/ 转发/ 过程/ ,/ 失去/ 了/ 对/ 网络/ 传输服务/ 的/ 全局/ 把握/ ,/ 无法/ 为/ 用户/ 数据/ 提供/ 高效/ 的/ 一体化/ 路由/ 服务/ ./ 图/ 1/ 描述/ 了/ 现有/ 隧道/ 传输/ 网络/ 路由/ 机制/ 的/ 不足/ ,/ 包括/ 以下/ 方面/ :/ (/ 1/ )/ 路由/ 度量/ 信息/ 丢失/ ./ 支撑/ 网络/ 和/ 边缘/ 网络/ 有/ 各自/ 的/ 路由/ 体系/ 和/ 度量/ 参数/ ,/ 标识/ 映射/ 项/ 不/ 存储/ 相应/ 的/ 度量/ 参数/ ./ 因而/ ,/ 标识/ 映射/ 作为/ 边缘/ 网/ 和/ 支撑网/ 路由/ 体系/ 的/ 纽带/ ,/ 丢失/ 了/ 异构/ 网络/ 路由/ 度量/ 的/ 描述/ ;/ (/ 2/ )/ 异构/ 网络/ 状态/ 互不/ 感知/ ./ 同构/ 网络/ 的/ 网络/ 状态/ 变化/ (/ 如/ 节点/ 或/ 链路/ 故障/ )/ ,/ 都/ 会/ 通过/ 路由/ 等/ 方式/ 被/ 其他/ 节点/ 所/ 感知/ ./ 然而/ ,/ 标识/ 映射/ 系统/ 却/ 没有/ 相应/ 机制/ 完成/ 异构/ 网络/ 状态/ 变化/ 的/ 学习/ ;/ (/ 3/ )/ 不/ 支持/ 异构/ 网络/ 多/ 宿主/ 连接/ ./ 现有/ 标识/ 映射/ 系统/ 基本/ 不/ 支持/ 一个/ 边缘/ 网络/ 通过/ 多个/ 异构/ 网关/ 连接/ 到/ 支撑/ 网络/ ,/ 无法/ 为/ 封装/ 分组/ 提供/ 灵活/ 、/ 可靠/ 的/ 网络/ 转发/ 服务/ ./ 本文/ 面向/ 异构/ 网络/ 多/ 宿主/ 连接/ 环境/ [/ 6/ ]/ ,/ 提出/ 了/ 隧道/ 传输/ 网络/ 的/ 一体化/ 路由/ 模型/ URM/ (/ UnifiedRoutingModelforTunnelingTransmissionNetwork/ )/ ,/ URM/ 围绕/ 隧道/ 传输/ 网络/ 端到/ 端/ 最优/ 路径/ 选择/ 这个/ 核心/ 问题/ 展开/ 研究/ ./ 针对/ 不同/ 的/ 路由/ 体系/ ,/ 引入/ 参考/ 度量/ 来/ 统一/ 描述/ 异构/ 网络/ 的/ 路由/ 优劣/ ,/ 并/ 设计/ 了/ 边缘/ 网络/ 传统/ 度量/ 、/ 支撑网/ 传统/ 度量/ 和/ 参考/ 度量/ 间/ 的/ 转换方法/ ./ 本文/ 还/ 针对/ 目前/ 最为/ 典型/ 的/ 隧道/ 传输/ 网络/ —/ —/ —/ 面向/ IPv4/ // IPv6/ 过渡/ 的/ 4over6/ 网络/ ,/ 给出/ 了/ 支持/ URM/ 模型/ 的/ 异构/ 网关/ 具体/ 设计/ ,/ 并/ 基于/ Bit/ -/ EngineNetwire4600/ 过渡/ 设备/ ①/ 完成/ 了/ 异构/ 网关/ 原型/ 系统/ 实现/ ./ URM/ 模型/ 考虑/ 了/ 对/ 现有/ 路由/ 体系/ 的/ 兼容/ ,/ 所/ 设计/ 的/ 参考/ 度量/ 只是/ 充当/ 传统/ 路由/ 度量/ 在/ 异构/ 网络/ 传递/ 的/ 载体/ ,/ 单个/ 网络/ 中/ 的/ 路由/ 方法/ 仍然/ 按照/ 各自/ 的/ 传统/ 路由/ 机制/ 实施/ ./ 此外/ ,/ 本文/ 从/ 多个/ 方面/ 分析/ 了/ URM/ 模型/ 的/ 性能/ 优劣/ ,/ 基于/ 原型/ 系统/ 的/ 真实/ 组网/ 实验/ 则/ 进一步/ 验证/ 了/ 其/ 一体化/ 路由/ 能力/ ./ 本文/ 第/ 2/ 节/ 介绍/ 隧道/ 传输/ 、/ 多/ 宿主/ 连接/ 及/ 互联网/ 路由/ 的/ 相关/ 研究/ ;/ 第/ 3/ 节/ 分析/ 现有/ 隧道/ 传输/ 过程/ ,/ 以及/ 异构/ 网络/ 多/ 宿主/ 连接/ 环境/ 下/ 隧道/ 传输/ 面临/ 的/ 路由/ 问题/ ,/ 并/ 提出/ 了/ 本文/ 的/ 工作/ 目标/ ;/ 第/ 4/ 节/ 给出/ 基于/ 参考/ 度量/ 转换/ 及/ 传递/ 的/ 隧道/ 传输/ 网络/ 一体化/ 路由/ 模型/ ;/ 第/ 5/ 节对/ URM/ 模型/ 的/ 路由/ // 映射/ 信息/ 存储/ 、/ 隧道/ 传输/ 路径/ 及/ 传输/ 可靠性/ 等/ 重要/ 网络/ 性能/ 进行/ 分析/ ;/ 第/ 6/ 节/ 介绍/ 面向/ 本文/ URM/ 模型/ 的/ 异构/ 网关/ 设计/ ;/ 第/ 7/ 节/ 描述/ 仿真/ 实验/ 、/ 真实/ 组网/ 实验/ 及/ 相关/ 性能/ 分析/ ;/ 第/ 8/ 节对/ 全文/ 工作/ 进行/ 总结/ ./ 2/ 相关/ 研究/ 隧道/ 传输技术/ 被/ 广泛应用/ 于/ 各种/ 新型/ 互联网/ 模型/ 中/ ,/ 如/ 面向/ 下一代/ IPv6/ 互联网/ 过渡/ 的/ 隧道/ 传输/ 网络/ 模型/ 、/ 面向/ 互联网/ 路由/ 可/ 扩展/ 问题/ 的/ 标识/ 空间/ 分离/ 网络/ 模型/ 、/ 虚拟/ 网络/ 模型/ 等等/ ./ 文献/ [/ 3/ ,/ 7/ ]/ 是/ IETF/ 工作组/ 提出/ 的/ 软线/ 式/ 网状/ 架构/ :/ Softwire/ ,/ 它/ 利用/ 地址映射/ 解决/ IPv4/ 与/ IPv6/ 之间/ 的/ 过渡/ 问题/ ,/ IPv4/ 报文/ 封装/ 在/ IPv6/ 报文/ 里/ 传输/ ./ 每个/ IPv4/ // IPv6/ 网关/ AFBR/ (/ AddressFamilyBorderRouter/ )/ 存储/ 全网/ 的/ 映射/ 信息/ ,/ 映射/ 信息/ 通过/ 扩展/ 的/ BGP/ 协议/ [/ 8/ ]/ 进行/ 通告/ ./ 源/ 端系统/ 将/ IPv4/ 报文/ 发送到/ 所属/ 的/ AFBR/ 进行/ 封装/ ,/ 并经/ IPv6/ 网络/ 发送到/ 目的/ 端/ AFBR/ ,/ 由/ AFBR/ 进行/ 解/ 封装/ ,/ 将/ 载荷/ (/ 原始/ 的/ IPv4/ 报文/ )/ 还原/ 出来/ ,/ 根据/ 其/ 目的/ IPv4/ 地址/ 继续/ 向/ 目的/ 端/ 转发/ ./ Softwire/ 技术/ 实现/ 了/ ①/ http/ :/ // // www/ ./ bit/ -/ way/ ./ com/ // Page3/ 面向/ 大规模/ IPv4/ // IPv6/ 过渡/ 的/ 无/ 状态/ 自动/ 隧道/ 技术/ ,/ 通过/ 扩展/ 互联网/ 核心/ 协议/ MP/ -/ BGP/ [/ 8/ ]/ ,/ 提供/ 了/ 跨越/ IPv4/ // IPv6/ 异构/ 网络/ 的/ 路由/ 寻址/ 方法/ ./ 文献/ [/ 9/ ]/ 还/ 基于/ IPv6/ 隧道/ 实现/ 了/ 现有/ IPv4NAT/ 终端用户/ 的/ IPv6/ 地址/ 分配/ 及/ 用户/ 到/ IPv6/ 网络/ 的/ 访问/ ./ 隧道/ 传输技术/ 也/ 用于/ 解决/ 互联网/ 可/ 扩展/ 路由/ 问题/ ,/ 主要/ 实施/ 在/ 地址/ 空间/ 分离/ 解决方案/ 中/ ./ 该/ 方案/ 将/ 用户/ 位置/ 标识/ 和/ 路由/ 标识/ 分离/ ,/ 基于/ 隧道/ 技术/ 完成/ 端到/ 端/ 数据包/ 在/ 核心网/ 的/ 传输/ ./ 通常/ ,/ 称/ 用户/ 位置/ 标识/ 为/ “/ 边缘/ 网/ 地址/ ”/ ,/ 用户/ 路由/ 标识/ 为/ “/ 核心网/ 地址/ ”/ ,/ 代表/ 技术/ 有/ LISP/ [/ 4/ ]/ 、/ APT/ [/ 5/ ]/ 等/ ./ LISP/ 协议/ 将/ Internet/ 地址/ 分离/ 为/ 终点/ 标识符/ (/ EID/ )/ 和/ 路由/ 定位/ 符/ (/ RLOC/ )/ ,/ 通过/ 隧道/ 封装/ 及/ 地址映射/ 的/ 方式/ 将/ 核心/ 网络/ 和/ 边缘/ 网络/ 分离/ 来/ 实现/ 位置/ 分离/ ./ 为了/ 完成/ 从/ EID/ 到/ RLOC/ 的/ 标识/ 映射/ ,/ LISP/ 利用/ LISP/ +/ ALT/ 通过/ 层叠/ 网来/ 完成/ 映射/ 服务/ [/ 10/ ]/ ./ LISP/ +/ ALT/ 使用/ 树形/ 结构/ 提供/ 映射/ 服务/ ,/ 叶子/ 节点/ 存储/ 实际/ 的/ 映射/ 信息/ ,/ 通过/ BGP/ 和/ GRE/ 隧道/ 建立/ 了/ 一个/ 可/ 完成/ 数据/ 探针/ 包/ 、/ 映射/ 请求/ 包/ 和/ 映射/ 应答/ 包/ 传递/ 的/ 逻辑/ 拓扑/ ./ 文献/ [/ 5/ ]/ 提出/ 了/ 一种/ 能/ 真正/ 在/ 互联网/ 部署/ 的/ 地址/ 空间/ 分离/ 模型/ APT/ (/ APracticalTunnelingArchitecture/ )/ ./ 该/ 技术/ 的/ 信息/ 传递/ 是/ 通过/ 将/ 不可/ 被/ 全局/ 路由/ 的/ 地址/ 封装/ 在/ 可/ 全局/ 路由/ 的/ 地址/ 中/ ,/ 由/ 入口/ 隧道/ 路由器/ 进行/ 封装/ ,/ 出口/ 隧道/ 路由器/ 进行/ 解/ 封装/ 来/ 实现/ 的/ ./ APT/ 定义/ 了/ 默认/ 映射器/ DM/ 来/ 存储/ 全部/ 映射/ 信息/ ,/ APT/ 模型/ 的/ 映射/ 信息/ 获取/ 是/ 一种/ PULL/ // PUSH/ 混合/ 模式/ ,/ DM/ 之间/ 通过/ DM/ -/ BGP/ 交换/ 映射/ 信息/ ,/ 边缘/ 路由器/ 通过/ cache/ 存储/ 映射/ 信息/ ./ 然而/ ,/ cache/ 的/ 维护/ 非常/ 麻烦/ ,/ 易受攻击/ ,/ 默认/ 映射器/ DM/ 也/ 需要/ 很/ 高/ 的/ 性能/ 来/ 支持/ 报文/ 快速/ 转发/ 和/ 映射/ 关系/ 的/ 交互/ 及/ 维护/ 工作/ ./ 隧道/ 技术/ 还/ 广泛应用/ 于/ 各种/ 虚拟/ 网络/ 技术/ 中/ ./ 文献/ [/ 11/ ]/ 设计/ 了/ VegaNet/ (/ VirtualGigabitNetwork/ )/ ,/ 它/ 是/ 一种/ 为/ 网络/ 研究/ 提供/ 真实/ 实验/ 环境/ 以及/ 对/ 核心/ 网络/ 进行/ 模拟/ 分析/ 的/ 高性能/ 虚拟/ 网络/ ./ VegaNet/ 中/ 各种/ 功能/ 特性/ 的/ 实现/ 基础/ ,/ 就是/ 异构/ 网络/ 间/ 的/ 隧道/ 封装/ 技术/ ./ 多/ 宿主/ (/ Multihoming/ )/ 技术/ 是/ 当前/ 各/ 机构/ 或/ 终端设备/ 接入/ 互联网/ 的/ 常用/ 方法/ ,/ 文献/ [/ 12/ ]/ 对/ 现有/ 的/ 多/ 宿主/ 连接/ 方法/ 进行/ 了/ 分类/ 与/ 比较/ ,/ 总结/ 了/ 其/ 在/ 网络/ 可靠性/ 、/ 负载/ 均衡/ 等/ 方面/ 的/ 重要/ 意义/ ,/ 学者/ 还/ 通过/ 数学方法/ 分析/ 出/ 最/ 有效/ 的/ 多径/ 部署/ 方法/ [/ 13/ ]/ ./ Shim6/ 工作组/ 提出/ 了/ 基于/ IPv6/ 的/ 站点/ Multi/ -/ homing/ 的/ 解决方案/ [/ 14/ -/ 15/ ]/ ./ 它/ 能够/ 使得/ Multi/ -/ homing/ 主机/ 使用/ 的/ IP/ 在/ 一个/ IP地址/ 前缀/ 的/ 集合/ 中/ 切换/ ,/ 而/ 不/ 影响/ 传输层/ 和/ 应用层/ ./ Shim6/ 架构/ 不仅/ 支持/ 站点/ 的/ 多/ 宿主/ 连接/ ,/ 还/ 通过/ 身份/ // 位置/ 分离/ 技术/ 解决/ 了/ 互联网/ 路由/ 可/ 扩展/ 问题/ ./ 多径/ 连接/ 环境/ 下/ ,/ 移动/ 终端/ 所/ 面临/ 的/ 传输/ 问题/ 广为/ 学者/ 关注/ ,/ 文献/ [/ 16/ ]/ 通过/ 对/ 发送/ 端/ 分组/ 调度/ 来/ 提高/ 多径/ 传输/ 效率/ ,/ 文献/ [/ 17/ ]/ 希望/ 基于/ 位置/ ID/ 和/ 节点/ ID/ 的/ 概念/ 来/ 解决/ 复杂/ 环境/ 下/ 的/ 多径/ 通信/ 问题/ ./ RFC6182/ [/ 18/ ]/ 针对/ 互联网/ 主要/ 的/ 传输层/ 协议/ TCP/ ,/ 设计/ 多径/ 传输/ 架构/ 来/ 提高/ 用户/ 网络/ 体验/ ./ LISA/ -/ Recovery/ [/ 19/ ]/ 针对/ 站点/ 多/ 宿主/ 环境/ ,/ 根据/ 路径/ 状态/ 监测/ ,/ 控制数据/ 在/ 多个/ 传输/ 路径/ 间/ 的/ 选择/ 和/ 切换/ ,/ 提高/ 了/ 网络/ 容错/ 能力/ ./ 此外/ ,/ 多/ 宿主/ 路由/ 控制技术/ 也/ 在/ 商业/ 设备/ 中/ 应用/ 多年/ ,/ 但是/ 路径/ 切换/ 功能/ 却/ 存在/ 导致/ 路由/ 振荡/ 的/ 可能/ ,/ Liu/ 等/ 人/ [/ 20/ ]/ 针对/ 此/ 问题/ 提出/ 了/ 用户/ 最优/ 路由/ 来/ 规避/ 路由/ 振荡/ 并/ 提高/ 路由/ 性能/ ./ 当前/ 互联网/ 几种/ 典型/ 的/ 路由/ 协议/ 都/ 有/ 各自/ 的/ 路由/ 度量/ 方法/ ./ RIP/ [/ 21/ ]/ 协议/ 是/ 一种/ 经典/ 路由/ 协议/ ,/ 它/ 工作/ 简单/ ,/ 常/ 被/ 应用/ 于/ 小型/ 域/ 内/ 路由/ 体系/ 中/ ./ RIP/ 协议/ 以/ 路由/ 跳数/ 为/ 路由/ 度量/ 参数/ ./ OSPF/ [/ 22/ ]/ 是/ 目前/ 应用/ 最/ 广泛/ 的/ 域/ 内/ 路由/ 协议/ ,/ 它/ 根据/ SPF/ 算法/ 进行/ 路径/ 选择/ ./ OSPF/ 协议/ 以/ 链路/ cost/ 值/ 作为/ 其/ 路由/ 度量/ 参数/ ./ 然而/ ,/ 链路/ cost/ 值/ 是/ 一个/ 抽象/ 的/ 度量/ 参数/ ,/ 管理员/ 可/ 根据/ 具体情况/ 确定/ 不同/ 的/ 设定/ 依据/ ,/ 如/ 链路/ 带宽/ 、/ 链路/ 距离/ 、/ 链路/ 可靠性/ 等等/ ./ BGP/ 协议/ [/ 23/ ]/ 是/ 互联网/ 普遍/ 使用/ 的/ 唯一/ 的/ 域间/ 路由/ 协议/ ,/ 它/ 利用/ 多个/ BGP/ 属性/ 完成/ 路由/ 决策/ 和/ 控制/ ,/ 其中/ BGP/ 属性/ 包括/ 路由/ 信息/ 来源/ (/ Origin/ )/ 、/ AS/ 路径/ (/ AutonomousSystemPath/ )/ 、/ 下/ 一/ 跳/ IP地址/ (/ Next/ -/ hop/ )/ 等等/ ./ 现有/ 路由/ 体系/ 及其/ 路由/ 度量/ 方法/ ,/ 只/ 为/ 单一/ 标识/ 网络服务/ ,/ 并/ 不/ 面向/ 隧道/ 传输/ 这种/ 异构/ 网络/ 提供/ 一体化/ 度量/ 方法/ 及/ 一体化/ 路由/ 机制/ ./ 上述/ 各种/ 隧道/ 传输/ 网络/ 及/ 路由/ 体系/ 的/ 研究/ 分析/ ,/ 表明/ 当前/ 的/ 隧道/ 传输/ 模型/ 存在/ 着/ 一些/ 共性/ 问题/ :/ 隧道/ 传输/ 涉及/ 的/ 异构/ 网络/ 度量/ 信息/ 不/ 关联/ ,/ 在/ 状态/ 变化/ 时/ 的/ 互不/ 感知/ ,/ 无法/ 提供/ 端到/ 端/ 传输/ 的/ 快速/ 收敛/ ;/ 大部分/ 模型/ 不/ 支持/ 多/ 宿主/ 异构/ 网络连接/ ,/ 无法/ 提供/ 灵活/ 、/ 可靠/ 的/ 异构/ 网络连接/ ;/ 不/ 支持/ 跨/ 异构/ 网络/ 的/ 一体化/ 路由/ 传输/ 体系/ ,/ 无法/ 实现/ 跨/ 异构/ 网络/ 的/ 最优/ 传输/ 路径/ 决策/ 机制/ ./ 3/ 隧道/ 传输/ 网络/ 的/ 路由/ 分析/ 首先/ 给出/ 隧道/ 传输/ 网络/ 的/ 主要/ 符号/ 定义/ ./ 除了/ 前文/ 已/ 定义/ 的/ 支撑/ 网络/ SNET/ 和/ 边缘/ 网络/ ENET/ ,/ 定义/ 支撑网/ 节点/ 标识/ 为/ S/ _/ ID/ ,/ 边缘/ 网/ 节点/ 标识/ 为/ Page4E/ _/ ID/ ./ 另外/ ,/ 定义/ 边缘/ 网/ 和/ 支撑网/ 的/ 路由/ 连接/ 设备/ 为/ 异构/ 网关/ H/ _/ GW/ (/ HeterogeneousGateWay/ )/ ./ 隧道/ 传输/ 的/ 基本/ 过程/ 如图/ 2/ 所示/ ./ 源/ 端系统/ 发出/ 原始/ 报文/ ,/ 经/ 边缘/ 网/ 到达/ 源端/ 异构/ 网关/ ;/ 源端/ 异构/ 网络/ 根据/ 原始/ 报文/ 的/ 边缘/ 网/ 目的/ 标识/ 查询/ 对应/ 的/ 支撑网/ 标识/ ,/ 并/ 将/ 报文/ 封装/ 发送至/ 目的/ 端/ 异构/ 网关/ ./ 目的/ 端/ 异构/ 网关/ 解/ 封装/ 得到/ 原始/ 报文/ ,/ 并/ 根据/ 目的/ 端/ 边缘/ 网路/ 由/ 发送到/ 最终/ 的/ 目的/ 端系统/ ./ 隧道/ 传输/ 总是/ 与/ 标识/ 映射/ 密切/ 关联/ ,/ 传统/ 标识/ 映射/ 关系/ 中/ ,/ 某个/ 边缘/ 网络/ 标识/ 只会/ 被/ 1/ 个/ 支撑/ 网络/ 标识/ 所/ 代表/ ./ 本文/ 提出/ 的/ 多/ 宿主/ 连接结构/ ,/ 1/ 个/ 边缘/ 网络/ 标识/ 将/ 对应/ 1/ 个/ 或/ 多个/ 支撑/ 网络/ 标识/ ./ 标识/ 映射/ 关系/ 也/ 可/ 理解/ 为/ 一种/ 代表/ 关系/ ,/ 即/ 1/ 个/ 边缘/ 网络/ 标识/ 被/ 1/ 个/ 或/ 多个/ 支撑/ 网络/ 标识/ 所/ 代表/ ./ 如图/ 3/ 所示/ ,/ 边缘/ 网/ 通过/ 多个/ 通道/ 接入/ 支撑/ 网络/ (/ 多/ 宿主/ 连接/ )/ ,/ 这/ 将/ 提高/ 边缘/ 网到/ 支撑网/ 的/ 连通/ 可靠性/ 及/ 连接/ 带宽/ ./ 此时/ ,/ 跨/ 异构/ 网络/ 的/ 端/ 到/ 端/ 传输/ 路径/ 也/ 变得/ 多样化/ ,/ 图/ 3/ 中/ 主机/ H1/ 到/ H2/ 的/ 通信/ 有/ 多种/ 可能/ 的/ 传输/ 路径/ ./ 由于/ 主机/ 到/ 末端/ 路由器/ ER/ (/ EndRouter/ )/ 的/ 一/ 跳/ 传输/ 路径/ 是/ 确定/ 的/ ,/ 所以/ 本文/ 只/ 分析/ 路由/ 设备/ 间/ 的/ 传输/ 路径/ ./ H1/ 到/ H2/ 有/ 4/ 条/ 传输/ 路径/ :/ {/ ER1/ ,/ H/ _/ GW1/ ,/ H/ _/ GW3/ ,/ ER2/ }/ ,/ {/ ER1/ ,/ H/ _/ GW1/ ,/ H/ _/ GW4/ ,/ ER2/ }/ ,/ {/ ER1/ ,/ H/ _/ GW2/ ,/ H/ _/ GW3/ ,/ ER2/ }/ ,/ {/ ER1/ ,/ H/ _/ GW2/ ,/ H/ _/ GW4/ ,/ ER2/ }/ ./ 所以/ ,/ 需要/ 为/ 异构/ 网络/ 传输/ 寻找/ 最为/ 合适/ 的/ 传输/ 路径/ ./ 同时/ ,/ 由于/ 多条/ 传输/ 路径/ 的/ 存在/ ,/ 应该/ 支持/ 网络/ 状态/ 变化/ 时/ 的/ 异构/ 网络/ 传输/ 路径/ 的/ 快速/ 切换/ ./ 当然/ ,/ 异构/ 网络/ 一体化/ 路由/ 的/ 前提/ 是/ 各个/ 异构/ 网络/ 的/ 路由/ 度量/ 能/ 相互/ 传递/ 并/ 实现/ 一体化/ 评价/ ,/ 即/ 统一/ 异构/ 网络/ 的/ 路由/ 度量/ ./ 所以/ ,/ 多/ 宿主/ 连接/ 环境/ 下/ 隧道/ 传输/ 网络/ 的/ 一体化/ 路由/ 模型/ 面临/ 3/ 个/ 主要/ 问题/ :/ (/ 1/ )/ 如何/ 统一/ 隧道/ 传输/ 网络/ 中/ 不同/ 路由/ 体系/ 的/ 度量/ 标准/ ,/ 并/ 实现/ 路由/ 度量/ 在/ 异构/ 网络/ 间/ 的/ 传递/ ;/ (/ 2/ )/ 基于/ 统一/ 的/ 路由/ 度量/ ,/ 如何/ 实现/ 跨/ 异构/ 网络/ 的/ 端/ 到/ 端/ 一体化/ 最优/ 路径/ 决策/ ;/ (/ 3/ )/ 面向/ 一体化/ 路由/ 模型/ 的/ 异构/ 网关/ 设备设计/ ./ 本文/ 工作/ 正是/ 围绕/ 上述/ 问题/ 展开/ ./ 4/ 一体化/ 路由/ 模型/ 令图/ 3/ 中/ 末端/ 路由器/ ER1/ ~/ 2/ 的/ 所/ 辖/ 边缘/ 网/ 标识/ 段/ 为/ E/ _/ ID1/ ~/ 2/ ,/ H1/ 和/ H2/ 主机/ 标识/ 分别/ 属于/ 标识/ 段/ E/ _/ ID1/ 和/ E/ _/ ID2/ ,/ 异构/ 网关/ H/ _/ GW1/ ~/ 4/ 的/ 支撑网/ 标识/ 分别/ 为/ S/ _/ ID1/ ~/ 4/ ./ 隧道/ 传输/ 网络/ 中/ ,/ 异构/ 网络/ 都/ 有/ 各自/ 的/ 路由/ 体系/ ,/ 并/ 根据/ 不同/ 的/ 网络/ 状态/ 设置/ 路由/ 度量/ ./ 然而/ ,/ 跨/ 异构/ 网络/ 的/ 一体化/ 路由/ 必须/ 将/ 不同/ 的/ 路由/ 度量/ 相互/ 关联/ ,/ 本文/ 通过/ 参考/ 度量/ 实现/ 这一/ 目标/ ./ 定义/ 1/ ./ 参考/ 度量/ ./ 针对/ 异构/ 网络/ 中/ 不同/ 路由/ 体系/ 路由/ 优劣/ 的/ 统一/ 数值/ 化/ 表示/ ,/ 记作/ RM/ (/ Refer/ -/ encedMetric/ )/ ./ 参考/ 度量/ 可以/ 表示/ 跨/ 异构/ 网络/ 路径/ 的/ 优劣/ ./ 假设/ 异构/ 网络/ 中有/ 两条/ 传输/ 路径/ PATH1/ 和/ PATH2/ ,/ 它们/ 对应/ 的/ 参考/ 度量/ 分别/ 为/ RM1/ 和/ RM2/ ,/ 若/ RM1/ </ RM2/ ,/ 则/ 称/ PATH1/ 优于/ PATH2/ ./ 同时/ ,/ 将/ 传统/ 路由/ 度量/ 定义/ 为/ CM/ (/ ConventionalMetric/ )/ ./ 考虑/ 对/ 现有/ 网络/ 的/ 兼容性/ ,/ 参考/ 度量/ 只是/ 用作/ 传统/ 路由/ 度量/ 在/ 异构/ 网络/ 传递/ 的/ 载体/ ,/ 单个/ 网络/ 中/ 的/ 路由/ 方法/ 仍然/ 按照/ 各自/ 的/ 传统/ 路由/ 度量/ 实施/ ./ 所以/ ,/ 一体化/ 路由/ 模型/ 需要/ 实现/ 参考/ 度量/ 与/ 传统/ 度量/ 的/ 互转/ ,/ 以及/ 参考/ 度量/ 的/ 传递/ ./ 定义/ 2/ ./ 标识/ 映射/ ./ 定义/ 标识/ 映射/ 为/ 边缘/ 网/ 标识/ E/ _/ ID/ 到/ 支撑网/ 标识/ S/ _/ ID/ 的/ 映射/ ,/ 表示/ 为/ 〈/ E/ _/ ID/ ,/ S/ _/ ID/ ,/ RM/ 〉/ ./ 映射/ 项中/ 的/ 参考/ 度量/ RM/ 是/ 专门/ 为/ 异构/ 网络/ 一体化/ 路由/ 而/ 设计/ 的/ ,/ 现有/ 隧道/ 网络/ 中/ 的/ 映射/ 项/ 并/ 无/ 此参数/ ./ 由于/ 边缘/ 网以/ 多/ 宿主/ 方式/ 接入/ 支撑网/ ,/ 一个/ 边缘/ 网/ 标识/ 可能/ 对应/ 多个/ 支撑网/ 标识/ ,/ 并/ 有/ 各自/ 的/ 参考/ 度量/ ./ 标识/ 映射/ 的/ 产生/ 、/ 存储/ 及/ 传播/ 过程/ 都/ 与/ 参考/ 度量/ 密切/ 关联/ ./ 异构/ 网关/ 生成/ 新/ 的/ 标识/ 映射/ 时/ ,/ 将/ 异构/ 网关/ 到/ 边缘/ 网/ 标识/ 的/ 路由/ 度量/ 转换/ 为/ 参考/ 度量/ ,/ 存储/ 于/ 标识/ 映射/ 中/ ./ 标识/ 映射/ 携带/ 参考/ 度量/ 在/ 支撑/ 网络/ 中/ 传播/ ,/ 但/ 最终/ 会/ 将/ 参考/ 度量/ 转换成/ 传统/ 度量/ ,/ 为/ 路由/ 决策/ 提供/ 依据/ ./ 定义/ 3/ ./ 度量/ 转换/ ./ 定义/ 度量/ 转换/ 函数/ 为/ F/ :/ Page5CM/ / RM/ ,/ 实现/ 参考/ 度量/ 与/ 传统/ 路由/ 度量/ 的/ 互转/ ./ 传统/ 度量/ 转换/ 为/ 参考/ 度量/ ,/ 是/ 为了/ 统一/ 描述/ 异构/ 网络/ 传输/ 路径/ 的/ 优劣/ ./ 而/ 参考/ 度量/ 转换/ 为/ 传统/ 度量/ ,/ 是/ 为了/ 将/ 参考/ 度量/ 对/ 路由/ 寻径/ 的/ 影响/ ,/ 无缝/ 融入/ 到/ 现有/ 路由/ 机制/ 中/ ./ URM/ 模型/ 包括/ 3/ 个/ 度量/ 转换/ 函数/ F1/ ~/ 3/ ./ 边缘/ 网/ 传统/ 路由/ 度量/ 到/ 参考/ 度量/ 的/ 转换/ 函数/ F1/ ./ F1/ (/ CMe/ ,/ Vcm/ ,/ {/ P1/ ,/ V1/ ,/ P2/ ,/ V2/ ,/ …/ ,/ Pn/ ,/ Vn/ }/ ,/ SMout/ )/ =/ Vcm/ ×/ CMe/ +/ ∑/ n/ 烄/ 烅/ SMout/ ,/ 烆/ 其中/ ,/ 变量/ V/ 对应/ 不同/ 参数/ 的/ 权重/ ,/ 有/ Vcm/ +/ ∑/ n/ 该/ 度量/ 转换/ 有/ 3/ 个/ 参考/ 因素/ :/ (/ 1/ )/ 边缘/ 网/ 传统/ 度量/ CMe/ ,/ 它/ 是/ F1/ 最/ 主要/ 的/ 转换/ 依据/ ;/ (/ 2/ )/ 异构/ 网关/ 到/ 端系统/ 的/ 各种/ 网络/ 状态参数/ Pi/ ,/ 常见/ 参数/ 包括/ 路由/ 跳数/ 、/ 物理/ 距离/ 、/ 链路/ 带宽/ 、/ 链路/ 稳定性/ 、/ 网络/ 拥塞/ 状况/ 等/ ,/ Pi/ 可/ 由/ 异构/ 网关/ 实时/ 学习/ 获取/ ,/ 或者/ 由/ 管理员/ 配置/ ;/ (/ 3/ )/ 标识/ 映射/ 发布/ 策略/ SMout/ ,/ 网络/ 运营者/ 可/ 直接/ 对外/ 发布/ 某/ 标识/ 映射/ 的/ 参考/ 度量/ ./ 发布/ 策略/ 可以/ 对/ 非常规/ 信息/ 进行/ 描述/ ,/ 主要/ 考虑/ 计费/ 、/ 负载/ 均衡/ 、/ 安全/ 等/ 因素/ ,/ 由/ 管理员/ 配置/ ./ 例如/ ,/ 通过/ 访问控制/ 列表/ ACL/ (/ AccessControlList/ )/ ,/ 指定/ 特定/ 边缘/ 网/ 标识/ E/ _/ ID/ 的/ 参考/ 度量/ 值/ ./ F1/ 在/ 异构/ 网关/ 生成/ 标识/ 映射/ 信息/ 时/ 实施/ ./ 例如/ ,/ 图/ 3/ 中/ H/ _/ GW1/ 生成/ E/ _/ ID1/ 的/ 标识/ 映射/ 项时/ ,/ 将/ 异构/ 网关/ (/ H/ _/ GW1/ )/ 到/ 边缘/ 网/ 目的/ 网络/ (/ E/ _/ ID1/ )/ 的/ 传统/ 度量/ 转换/ 为/ “/ 参考/ 度量/ 1/ ”/ ,/ 并/ 存储/ 于/ 异构/ 网关/ H/ _/ GW1/ 中/ E/ _/ ID1/ 的/ 标识/ 映射/ 项里/ ./ 支撑网/ 传统/ 路由/ 度量/ 到/ 参考/ 度量/ 的/ 转换/ 函数/ F2/ ./ F2/ (/ CMs/ ,/ Vcm/ ,/ {/ P1/ ,/ V1/ ,/ P2/ ,/ V2/ ,/ …/ ,/ Pn/ ,/ Vn/ }/ )/ =/ Vcm/ ×/ CMs/ +/ ∑/ n/ 变量/ V/ 对应/ 不同/ 参数/ 的/ 权重/ ,/ 有/ Vcm/ +/ ∑/ n1/ ./ 该/ 度量/ 转换/ 有/ 2/ 个/ 参考/ 因素/ :/ (/ 1/ )/ 支撑网/ 传统/ 路由/ 度量/ CMs/ ,/ 是/ 主要/ 的/ 转换/ 依据/ ;/ (/ 2/ )/ 异构/ 网关/ 到/ 端系统/ 的/ 各种/ 网络/ 状态参数/ Pi/ ,/ 与/ 转换/ 函数/ F1/ 的/ 描述/ 相同/ ./ F2/ 在/ 异构/ 网关/ 学习/ 到/ 标识/ 映射/ 信息/ 时/ 实施/ ./ 例如/ ,/ 图/ 3/ 中/ H/ _/ GW3/ 学习/ 到/ E/ _/ ID1/ 的/ 标识/ 映射/ 项时/ ,/ 会/ 将/ H/ _/ GW3/ 到/ H/ _/ GW1/ 的/ 传统/ 度量/ 转换/ 为/ “/ 参考/ 度量/ 2/ ”/ ,/ 该/ 参考/ 度量/ 用于/ 描述/ 两个/ 异构/ 网关/ (/ H/ _/ GW1/ 和/ H/ _/ GW3/ )/ 传输/ 路径/ 的/ 优劣/ ,/ 但/ “/ 参考/ 度量/ 2/ ”/ 不会/ 被/ 直接/ 存储/ ./ 异构/ 网关/ H/ _/ GW3/ 将/ “/ 参考/ 度量/ 1/ ”/ 和/ “/ 参考/ 度量/ 2/ ”/ 相加/ 得到/ “/ 参考/ 度量/ 3/ ”/ ,/ 并/ 将/ 其/ 存储/ 于/ E/ _/ ID1/ 的/ 标识/ 映射/ 项中/ ./ “/ 参考/ 度量/ 3/ ”/ 涵盖/ 了/ 2/ 段/ 异构/ 网络/ 传输/ 路径/ 的/ 优劣/ ./ 参考/ 度量/ 到/ 边缘/ 网/ 传统/ 度量/ 的/ 转换/ 函数/ F3/ ./ 该/ 度量/ 转换/ 有/ 2/ 个/ 参考/ 因素/ :/ (/ 1/ )/ 标识/ 映射/ 对应/ 的/ 参考/ 度量/ ;/ (/ 2/ )/ 网络/ 运营者/ 的/ 标识/ 映射/ 引入/ 策略/ SMin/ ./ F3/ 在/ 异构/ 网关/ 将/ 标识/ 映射/ 信息/ 转变/ 为/ 路由/ 项向/ 边缘/ 网络/ 发布/ 时/ 实施/ ./ 例如/ ,/ 图/ 3/ 中/ H/ _/ GW3/ 到/ 向/ ENET2/ 发布/ E/ _/ ID1/ 的/ 路由/ 时/ ,/ 会/ 将/ H/ _/ GW3/ →/ H/ _/ GW1/ →/ ER1/ 路径/ 的/ 参考/ 度量/ 转换/ 为/ ENET2/ 的/ 传统/ 度量/ ,/ 该/ 传统/ 度量/ 将/ 在/ 现有/ 边缘/ 网路/ 由/ 体系/ 中/ 影响/ 数据/ 的/ 路由/ 转发/ ./ 图/ 4/ 描述/ 了/ 3/ 个/ 转换/ 函数/ 的/ 使用/ 方法/ 以及/ 它们/ 之间/ 的/ 关系/ ./ 其中/ ,/ 网络/ 状态参数/ 以及/ 标识/ 映射/ 发布/ // 引入/ 策略/ 的/ 配置/ 与/ 一体化/ 路由/ 模型/ 的/ 具体实施/ 密切相关/ ./ 本文/ 后续/ 描述/ 中/ ,/ 度量/ 转换/ 主要/ 根据/ 传统/ 路由/ 度量/ 完成/ ,/ 以/ 最/ 直接/ 的/ 路由/ 跳数/ 作为/ 传统/ 路由/ 度量/ 的/ 唯一/ 参数/ ,/ 并/ 与/ 参考/ 度量/ 实施/ 等值/ 转换/ ./ 度量/ 转换/ 、/ 参考/ 度量/ 存储/ 及/ 参考/ 度量/ 传递/ 等/ 事件/ ,/ 都/ 是/ 在/ 隧道/ 传输/ 网络/ 标识/ 映射/ 的/ 生成/ 和/ 传递/ 过程/ 中/ 发生/ ./ 以图/ 3/ 中/ ER1/ 所辖/ 标识/ 段/ E/ _/ ID1/ 为例/ ,/ 分析/ 其/ 映射/ 项及/ 路由/ 度量/ 在/ 异构/ 网络/ 中/ 的/ 传播/ 过程/ ./ 假设/ 双向/ 路由/ 度量/ 等值/ ,/ 即/ 网络/ 中/ 任意/ 一条/ 路径/ 的/ 往/ 、/ 返/ 路由/ 度量/ 总是/ 相等/ ./ 主要/ 步骤/ 如下/ ./ 步骤/ 1/ ./ 各个/ 同构/ 网络/ 完成/ 传统/ 路由/ 学习/ ,/ 各/ 相关/ 路径/ 的/ 路由/ 度量/ 如图/ 5/ 所示/ ./ 步骤/ 2/ ./ H/ _/ GW1/ 学习/ 到/ 路由/ 〈/ E/ _/ ID1/ ,/ CM1/ 〉/ ,/ 生成/ 标识/ 映射/ 项/ 〈/ E/ _/ ID1/ ,/ S/ _/ ID1/ ,/ RM1/ 〉/ ,/ 其中/ RM1/ =/ F1/ (/ CM1/ )/ ,/ 并/ 利用/ SNET/ 路由/ 协议/ 扩展/ 在/ SNET/ 各/ Page6F2/ (/ CM5/ )/ ;/ F2/ (/ CM7/ )/ ./ F2/ (/ CM6/ )/ ;/ F2/ (/ CM8/ )/ ./ 〈/ E/ _/ ID1/ ,/ S/ _/ ID2/ ,/ RM4/ 〉/ ,/ 满足/ RM4/ =/ RM2/ +/ H/ _/ GW4/ 存储/ 的/ 标识/ 映射/ 项为/ 〈/ E/ _/ ID1/ ,/ S/ _/ ID2/ ,/ RM5/ 〉/ ,/ 满足/ RM5/ =/ RM1/ +/ 〈/ E/ _/ ID1/ ,/ S/ _/ ID2/ ,/ RM6/ 〉/ ,/ 满足/ RM6/ =/ RM2/ +/ 异构/ 网关/ 中/ 传播/ ,/ 即/ 各/ 异构/ 网关/ 都/ 能/ 学习/ 到/ 此/ 标识/ 映射/ (/ 关于/ 标识/ 映射/ 在/ 支撑/ 网络/ 的/ 传播/ 、/ 学习/ 方法/ 可/ 参见/ 本文/ 前期工作/ [/ 24/ ]/ )/ ./ 同理/ ,/ H/ _/ GW2/ 学习/ 到/ 路由/ 〈/ E/ _/ ID1/ ,/ CM2/ 〉/ ,/ 生成/ 标识/ 映射/ 项/ 〈/ E/ _/ ID1/ ,/ S/ _/ ID2/ ,/ RM2/ 〉/ ,/ 并/ 传播/ 到/ 各/ 异构/ 网关/ ,/ 其中/ RM2/ =/ F1/ (/ CM2/ )/ ./ 步骤/ 3/ ./ H/ _/ GW3/ 和/ H/ _/ GW4/ 分别/ 学习/ 到/ 2/ 条/ 针对/ E/ _/ ID1/ 的/ 映射/ 项/ ,/ 并/ 结合/ 支撑网/ 传输/ 路径/ 的/ 路由/ 度量/ ,/ 更新/ 映射/ 项/ 的/ 参考/ 度量/ ./ H/ _/ GW3/ 存储/ 的/ 标识/ 映射/ 项为/ 〈/ E/ _/ ID1/ ,/ S/ _/ ID1/ ,/ RM3/ 〉/ ,/ 满足/ RM3/ =/ RM1/ +/ 步骤/ 4/ ./ H/ _/ GW3/ 根据/ 映射/ 项/ 生成/ 新/ 的/ ENET2/ 路由/ 项/ :/ 〈/ E/ _/ ID1/ ,/ CM9/ 〉/ ,/ 并/ 向/ 边缘/ 网/ ENET2/ 发布/ ;/ 其中/ ,/ CM9/ =/ min/ (/ F3/ (/ RM3/ )/ ,/ F3/ (/ RM4/ )/ )/ ./ 同理/ ,/ H/ _/ GW4/ 生成/ 新/ 的/ ENET/ 路由/ 项/ :/ 〈/ E/ _/ ID1/ ,/ CM10/ 〉/ ,/ 并/ 向/ ENET2/ 发布/ ,/ 其中/ ,/ CM10/ =/ min/ (/ F3/ (/ RM5/ )/ ,/ F3/ (/ RM6/ )/ )/ ./ 步骤/ 5/ ./ ER2/ 学习/ 到/ 2/ 条/ 目的/ 标识/ 为/ E/ _/ ID1/ 的/ 路由/ :/ 〈/ E/ _/ ID1/ ,/ CM11/ 〉/ ,/ 满足/ CM11/ =/ CM9/ +/ CM3/ ;/ 〈/ E/ _/ ID1/ ,/ CM12/ 〉/ ,/ 满足/ CM12/ =/ CM10/ +/ CM4/ ./ 图/ 5/ 中/ 各/ 路由器/ 针对/ E/ _/ ID1/ 的/ 路由/ 项/ 或/ 标识/ 映射/ 项如表/ 1/ 所示/ ,/ 各/ 表项/ 度量/ 值/ 都/ 能/ 体现/ 路由/ 设备/ 到/ 目的/ 标识/ 的/ 跨/ 异构/ 网络/ 的/ 路径/ 优劣/ ./ 由于/ 本文/ 主要/ 关注/ 路由/ 或/ 映射/ 项/ 的/ 度量/ 值/ ,/ 所以/ 各/ 表项/ 的/ 其他/ 字/ 段/ 并未/ 描述/ ./ 例如/ ,/ ER2/ 的/ 两条路/ 由项/ 具有/ 不同/ 的/ “/ 下/ 一/ 跳/ (/ nexthop/ )/ ”/ ;/ 而/ H/ _/ GW3/ 的/ 两条/ 映射/ 项/ 蕴涵着/ 不同/ 的/ 封装/ 对端/ ,/ 也/ 对应/ 着/ 不同/ 的/ 封装/ 报文/ 传输/ 的/ “/ 下/ 一/ 跳/ ”/ ,/ 这些/ 都/ 不/ 做/ 详述/ ./ 表/ 1/ 路由/ 项/ // 映射/ 项/ 及其/ 度量/ 描述/ (/ 图/ 5/ 示例/ )/ ER1E/ _/ ID1/ 直连/ 路由/ H/ _/ GW1/ 〈/ E/ _/ ID1/ ,/ CM1/ 〉/ 〈/ E/ _/ ID1/ ,/ S/ _/ ID1/ ,/ RM1/ 〉/ H/ _/ GW2/ 〈/ E/ _/ ID1/ ,/ CM2/ 〉/ 〈/ E/ _/ ID1/ ,/ S/ _/ ID2/ ,/ RM2/ 〉/ H/ _/ GW3H/ _/ GW4ER2/ 上述/ 控制/ 层/ 处理/ 完成/ 后/ ,/ 各路/ 由/ 设备/ 就/ 可/ 根据/ 自身/ 存储/ 的/ 路由/ 项/ 或/ 标识/ 映射/ 项/ 实现/ 异构/ 网络/ 的/ 报文/ 传输/ ./ 以图/ 5/ 为例/ ,/ 分析/ 从/ ER2/ 发送/ 目的/ 标识/ 为/ E/ _/ ID1/ 报文/ 的/ 数据/ 转发/ 过程/ ./ (/ 1/ )/ 路由器/ ER2/ 收到/ 源/ 端系统/ 发来/ 的/ 报文/ ,/ 根据/ 传统/ 路由/ 选择/ 路径/ ./ ER2/ 比较/ 传统/ 度量/ CM11/ 和/ CM12/ ,/ 选择/ 度量/ 较/ 小/ 的/ 路由/ 实施/ 转发/ ,/ 该/ 传统/ 度量/ 值/ 是/ ENET2/ 、/ SNET/ 、/ ENET1/ 三段/ 传输/ 路径/ 的/ 路由/ 度量/ 汇总/ ./ 选择/ 度量/ 值/ CM11/ 表示/ 通过/ 异构/ 网关/ H/ _/ GW3/ 进行/ 隧道/ 封装/ 发出/ ,/ CM12/ 则/ 对应/ 异构/ 网关/ H/ _/ GW4/ ./ 假设/ CM11/ 小于/ CM12/ ,/ 则/ ER2/ 将/ 报文/ 发送到/ 异构/ 网关/ H/ _/ GW3/ ./ (/ 2/ )/ 发送/ 端/ 异构/ 网关/ H/ _/ GW3/ 收到/ 边缘/ 网/ 发来/ 的/ 报文/ 后/ ,/ 查找/ 标识/ 映射/ 表/ 确认/ 其/ 需要/ 封装/ ,/ 并/ 根据/ 映射/ 项/ 的/ 参考/ 度量/ 选择/ 对端/ 异构/ 网关/ ,/ 实施/ 报文/ 封装/ 及/ 发送/ ./ 即/ H/ _/ GW3/ 比较/ 标识/ 映射/ 项/ 的/ 参考/ 度量/ RM3/ 和/ RM4/ ,/ 选择/ 度量/ 较/ 小/ 的/ 标识/ 映射/ 进行/ 封装/ 发送/ ./ RM3/ 对应/ 的/ 封装/ 终点/ 为/ H/ _/ GW1/ ,/ RM4/ 对应/ 的/ 封装/ 终点/ 为/ H/ _/ GW2/ ./ 假设/ RM3/ 小于/ RM4/ ,/ 则/ 隧道/ 传输/ 对端/ 为/ H/ _/ GW1/ ./ (/ 3/ )/ 接收端/ 异构/ 网关/ H/ _/ GW1/ 收到/ 支撑网/ 发来/ 的/ 封装/ 报文/ 后/ ,/ 进行/ 解/ 封装/ ,/ 并/ 根据/ 传统/ 路由/ 转发/ 原始/ 报文/ ./ 如/ H/ _/ GW1/ 解/ 封装/ 后/ 将/ 报文/ 发送至/ ER1/ ./ (/ 4/ )/ 接收端/ 路由器/ ER1/ 收到/ 报文/ 后/ 转发给/ 直连/ 目的/ 端系统/ ./ 5/ 性能/ 分析/ 便于/ 分析/ ,/ 有表/ 2/ 所示/ 符号/ 定义/ ./ 符号/ E/ 边缘/ 网/ 数量/ Hi/ // Ha/ (/ ENETi/ // 平均/ 每/ 边缘/ 网/ )/ 异构/ 网关/ 数/ Ri/ // Ra/ (/ ENETi/ // 平均/ 每/ 边缘/ 网/ )/ 路由/ 前缀/ 数量/ Ba/ 平均/ 单个/ 异构/ 网关/ 接入/ 支撑网/ 带宽/ MCs/ // MCm/ (/ 单点/ 连接/ // 多/ 宿主/ 连接/ )/ 环境/ 下/ 异构/ 网关/ 控制/ 层/ MDs/ // MDm/ (/ 单点/ 连接/ // 多/ 宿主/ 连接/ )/ 环境/ 下/ 异构/ 网关/ 数据/ 层/ REs/ // REm/ (/ 单点/ 连接/ // 多/ 宿主/ 连接/ )/ 环境/ 下/ 边缘/ 网/ 路由器/ 路/ FEs/ // FEm/ (/ 单点/ 连接/ // 多/ 宿主/ 连接/ )/ 环境/ 下/ 边缘/ 网/ 路由器/ 转/ 5.1/ 映射/ 项/ 存储/ 多/ 宿主/ 连接/ 环境/ 中/ ,/ 一个/ 边缘/ 网/ 通过/ 多个/ 异构/ 网关/ 接入/ 支撑网/ ,/ 每个/ 异构/ 网关/ 都/ 会/ 针对/ 所/ 辖/ 边缘/ Page7/ 网/ 同一/ 地址/ 前缀/ 发布/ 标识/ 映射/ ./ 对于/ 任一/ 边缘/ 网/ ENETi/ ,/ 有/ Hi/ 个/ 异构/ 网关/ 及/ Ri/ 个/ 边缘/ 网/ 前缀/ ,/ 则/ 该/ 边缘/ 网向外/ 发布/ (/ Hi/ ×/ Ri/ )/ 个/ 标识/ 映射/ 项/ ./ 对于/ 边缘/ 网/ ENETk/ 的/ 异构/ 网关/ ,/ 它/ 将/ 从/ 支撑网/ 学习/ 到/ 远端/ 边缘/ 网/ 的/ 映射/ 信息/ ,/ 数量/ 为/ ∑/ k/ -/ 1/ 此外/ ,/ 异构/ 网关/ 自己/ 也/ 会/ 产生/ Rk/ 个/ 标识/ 映射/ ,/ 所以/ 该/ 异构/ 网关/ 总共/ 存储/ 的/ 映射/ 项/ 数量/ 为/ ∑/ k/ -/ 1/ ∑/ E/ (/ Hi/ ×/ Ri/ )/ +/ Rk/ ./ 为/ 便于/ 分析/ ,/ 对/ 边缘/ 网/ 的/ 异构/ i/ =/ k/ +/ 1/ 网关/ 数及/ 边缘/ 网路/ 由/ 前缀/ 数取/ 平均值/ ,/ 则/ 任一/ 异构/ 网关/ 控制/ 层/ 存储/ 的/ 映射/ 项/ 数量/ MCm/ 满足/ MCm/ =/ ∑/ k/ -/ 1/ (/ Ha/ ×/ Ra/ )/ +/ ∑/ Ei/ =/ 1/ 明/ ,/ 同一个/ 边缘/ 网/ 的/ 不同/ 异构/ 网关/ 之间/ 不会/ 建立/ BGP/ 连接/ ,/ 也/ 不会/ 交互/ 映射/ 信息/ ./ 互联网/ 路由/ 设备/ 中/ ,/ 路由/ 引擎/ 通过/ 路由/ 协议/ 学习/ 各种/ 路由/ 信息/ ,/ 并/ 针对/ 每个/ 目的/ 前缀/ 选择/ 一条/ 最优/ 路由/ 存储/ 到/ 数据/ 转发/ 层/ ./ 由于/ 报文/ 高速/ 处理/ 时/ 主要/ 在/ 数据/ 层/ 完成/ ,/ 数据/ 层/ 的/ 表项/ 容量/ 直接/ 影响/ 着/ 转发/ 速度/ 以及/ 昂贵/ 的/ 硬件资源/ ,/ 现有/ 研究/ 主要/ 关注/ 数据/ 转发/ 层/ 的/ 表项/ 存储/ ./ 面对/ 多/ 宿主/ 连接/ 网络/ ,/ 异构/ 网关/ 可能/ 会/ 学习/ 到/ 针对/ 同一/ 边缘/ 网/ 前缀/ 的/ 多个/ 标识/ 映射/ 项/ ,/ 但/ 只会/ 选择/ 一条/ 参考/ 度量/ 最优/ 的/ 映射/ 项/ 存储/ 于/ 数据/ 转发/ 层/ ./ 而且/ ,/ 异构/ 网关/ 的/ 数据/ 层/ 无需/ 存储/ 自身/ 产生/ 的/ 映射/ 项/ ./ 所以/ ,/ 对于/ 边缘/ 网/ ENETk/ 的/ 异构/ 网关/ ,/ 它/ 的/ 数据/ 转发/ 层/ 存储/ 的/ 映射/ 项/ 数量/ 为/ ∑/ k/ -/ 1/ 样/ ,/ 取/ 平均值/ 分析/ ,/ 则/ 异构/ 网关/ 数据/ 层/ 映射/ 项/ 存储/ 数量/ MDm/ 满足/ 式/ (/ 2/ )/ ./ 现有/ 隧道/ 传输/ 网络/ 中/ 边缘/ 网/ 通过/ 单个/ 异构/ 网关/ 连入/ 支撑网/ ,/ 此时/ Hi/ 为/ 1/ ,/ 边缘/ 网/ ENETk/ 的/ 异构/ 网关/ 控制/ 层/ 的/ 映射/ 项/ 数量/ 为/ ∑/ E/ 为/ ∑/ k/ -/ 1i/ =/ 1/ 下/ 异构/ 网关/ 控制/ 层/ 映射/ 项/ 数量/ MCs/ 及/ 数据/ 层/ 映射/ 项/ 数量/ 分别/ 满足/ 式/ (/ 3/ )/ 和/ 式/ (/ 4/ )/ ./ Ri/ +/ ∑/ E5/ ./ 2/ 路由/ 存储/ 支撑/ 网络/ 中/ 的/ 普通/ 路由器/ (/ 非/ 异构/ 网关/ )/ ,/ 只/ 需/ 实施/ 普通/ 的/ 支撑网/ 路由/ 转发/ ,/ 不/ 关心/ 边缘/ 网/ 的/ 多/ 宿主/ 连接/ ,/ 这些/ 路由器/ 的/ 控制/ 层/ 路由/ 项/ 和/ 数据/ 层/ 转发/ 项/ 也/ 不受/ 影响/ ./ 单点/ 连接/ 环境/ 中/ ,/ 每个/ 边缘/ 网/ 路由器/ 只/ 需/ 存储/ 所在/ 边缘/ 网/ 的/ 路由/ ,/ 对于/ 目的/ 端/ 在/ 其他/ 边缘/ 网/ 报文/ ,/ 可/ 简单/ 通过/ 默认/ 路由/ 到达/ 异构/ 网关/ ./ 所以/ ,/ 边缘/ 网/ ENETk/ 中/ 路由器/ 的/ 路由表/ 容量/ 为/ (/ Rk/ +/ 1/ )/ ,/ 数据/ 层/ 的/ 转发/ 项/ 数量/ 也/ 为/ (/ Rk/ +/ 1/ )/ ./ 取/ 平均值/ 分析/ ,/ 则/ 边缘/ 网/ 路由器/ 控制/ 层/ 路由表/ 容量/ REs/ 和/ 数据/ 层/ 转发/ 项/ 数量/ FEs/ 满足/ 式/ (/ 5/ )/ ./ 多/ 宿主/ 连接/ 环境/ 中/ ,/ 边缘/ 网/ ENETk/ 的/ 多个/ 异构/ 网关/ 会/ 向/ 边缘/ 网/ 路由器/ 发布/ 远/ 端的/ 同一/ 前缀/ 的/ 路由/ 信息/ ,/ 加上/ ENETk/ 自身/ 的/ 路由/ 信息/ ,/ ENETk/ 中/ 路由器/ 的/ 路由表/ 容量/ 为/ ∑/ k/ -/ 1/ 取/ 平均值/ 分析/ ,/ 边缘/ 网/ 路由器/ 路由/ 项/ 数量/ REm/ 满足/ 式/ (/ 6/ )/ ./ 由于/ 数据/ 层/ 只会/ 选择/ 最优/ 路由/ 存储/ ,/ 所以/ ENETk/ 中/ 路由器/ 的/ 数据/ 层/ 转发/ 项/ 数量/ 为/ ∑/ k/ -/ 1/ 取/ 平均值/ 分析/ ,/ 则/ 多/ 宿主/ 连接/ 环境/ 下/ 边缘/ 网/ 路由器/ 转发/ 项/ 数量/ FEm/ 满足/ 式/ (/ 7/ )/ ./ 5.3/ 隧道/ 连接/ 带宽/ 及/ 可靠性/ 边缘/ 网/ 单点/ 连接/ 环境/ 中/ ,/ 每个/ 边缘/ 网到/ 支撑网/ 的/ 连接/ 带宽/ 为/ Ba/ ./ 而且/ ,/ 单点/ 连接/ 还/ 导致/ 隧道/ 传输/ 的/ 可靠性/ 较/ 低/ ,/ 对于/ 任意/ 两个/ 不同/ 边缘/ 网/ 的/ 端系统/ 间/ 的/ 隧道/ 传输/ 路径/ 数量/ 都/ 为/ 1/ ./ 多/ 宿主/ 连接/ 环境/ 中/ ,/ 第/ i/ 个/ 边缘/ 网到/ 支撑网/ 的/ 连接/ 带宽/ 为/ (/ Hi/ ×/ Ba/ )/ ,/ 取/ 平均值/ 则/ 为/ (/ Ha/ ×/ Ba/ )/ ./ 对于/ 任意/ 两个/ 不同/ 边缘/ 网/ 的/ 端系统/ 间/ 的/ 隧道/ 传输/ ,/ 假设/ 源端/ 为/ ENETi/ ,/ 目的/ 端为/ ENETj/ ,/ 则/ 共有/ (/ Hi/ ×/ Hj/ )/ 条可选/ 路径/ ,/ 取/ 平均值/ 则/ 可选/ 路径/ 数为/ (/ Ha/ )/ 2/ ./ 显然/ ,/ 多/ 宿主/ 连接/ 将/ 导致/ 隧道/ 传输/ 的/ 可靠性/ 显著/ 提高/ ./ 5.4/ 综合/ 分析/ 两种/ 模型/ 的/ 性能/ 分析/ 比较/ 如表/ 3/ 所述/ ./ 与/ 现有/ IRM/ 模型/ 相比/ ,/ URM/ 模型/ 对/ 支撑网/ 普通/ 路由/ 设备/ 没有/ 任何/ 影响/ ./ 然而/ ,/ 它会/ 使/ 异构/ 网关/ 存储/ 更/ 多/ 的/ 地址映射/ 信息/ ,/ 以及/ 边缘/ 网路/ 由/ 设备/ 存储/ 更/ 多/ 的/ 路由/ 项/ // 转发/ 项/ ./ 针对/ 同一/ 目的/ 前缀/ 的/ 多个/ 映射/ 项/ 或/ 路由/ 项/ 的/ 合并/ 存储/ ,/ 可/ 确保/ 两种/ 模型/ 的/ 表项/ 存储/ 链接/ 结/ Page8/ 构/ 完全一致/ ,/ 这/ 也/ 使得/ 路由/ 系统控制/ 层/ 计算/ 复杂度/ 基本/ 一样/ ./ 作者/ 的/ 前期工作/ 还/ 针对/ 异构/ 网关/ 映射/ 项/ 存储/ 进行/ 了/ 优化/ 研究/ [/ 24/ ]/ ./ 当然/ ,/ URM/ 模型/ 带来/ 的/ 优表/ 3/ 多/ 宿主/ 连接/ 网络/ 与/ 单点/ 连接/ 网络/ 的/ 性能/ 比较/ 映射/ 项/ 数量/ E/ ×/ Ra/ (/ E/ -/ 1/ )/ ×/ Ha/ ×/ Ra/ +/ RaURM/ 多/ 宿主/ 连接/ 环境/ 使/ 控制/ 层/ 映射/ 项/ 数量/ 随/ “/ 每/ 边缘/ 网/ 异构/ 网/ 异构/ 网关/ 控制/ 层/ 异构/ 网关/ 数据/ 层/ 映射/ 项/ 数量/ (/ E/ -/ 1/ )/ ×/ Ra/ (/ E/ -/ 1/ )/ ×/ RaURM/ 模型/ 不会/ 带来/ 数据/ 层/ 存储容量/ 的/ 增加/ 路由/ 项/ // 转发/ 项/ 边缘/ 网路/ 由/ 数量/ Ra/ +/ 1/ (/ E/ -/ 1/ )/ ×/ Ra/ ×/ Ha/ +/ RaURM/ 模型/ 中/ ,/ 边缘/ 网/ 路由器/ 需/ 存储/ 各/ 边缘/ 网路/ 由/ 信息/ ,/ 并/ 随/ “/ 单个/ 边缘/ 网/ 异构/ 网关/ 数/ ”/ 倍数/ 增长/ ,/ 但/ 可/ 合并/ 同一/ 前缀/ 的/ 多个/ 路由/ 项/ URM/ 模型/ 中/ ,/ 边缘/ 网/ 路由器/ 存储/ 的/ 转发/ 项数/ 为/ 各/ 边缘/ 网/ 前缀/ 数/ 边缘/ 网/ 转发/ 项/ 数量/ Ra/ +/ 1/ 量/ 之/ 和/ URM/ 模型/ 使/ 边缘/ 网到/ 支撑网/ 的/ 可用/ 带宽/ 随/ “/ 每/ 边缘/ 网/ 异构/ 网关/ 边缘/ 网到/ 支撑网/ 数/ ”/ 倍数/ 增长/ URM/ 模型/ 隧道/ 传输/ 的/ 可靠性/ 大大增加/ 隧道/ 传输/ 路径/ 数量/ 路由/ 选择/ 特点/ 分段/ 选择/ 6/ 异构/ 网关/ 设计/ 4over6/ 过渡/ 技术/ ,/ 是/ 典型/ 的/ 隧道/ 传输/ 网络应用/ ,/ 已/ 在/ 我国/ CERNET2/ 网络/ 中/ 的/ 百所/ 高校/ 部署/ ./ 本文/ 以/ 4over6/ 为例/ ,/ 研究/ 多/ 宿主/ 连接/ 隧道/ 网络/ 中/ 异构/ 网关/ 的/ 功能设计/ ,/ 称该/ 设备/ 为/ “/ 过渡/ 网关/ ”/ ,/ 该/ 设计/ 也/ 可为/ 其他/ 类型/ 的/ 隧道/ 网络/ 提供/ 参考/ ./ 4over6/ 网络/ 中/ 的/ 映射/ 信息/ 描述/ 为/ 〈/ PFX4/ ,/ ADDR6/ ,/ RM/ 〉/ ,/ 分别/ 对应/ 了/ IPv4/ 前缀/ 、/ IPv6/ 地址/ 和/ 参考/ 度量/ ./ 过渡/ 网关/ 基于/ IPv4/ // v6/ 双栈/ 路由器/ 设计/ ,/ 支持/ 多/ 宿主/ 连接/ 环境/ 的/ 一体化/ 路由/ 机制/ 及/ 报文/ 转发/ ./ 过渡/ 网关/ 主要/ 涉及/ 图/ 6/ 所示/ 的/ 3/ 个/ 功能/ 层次/ ./ (/ 1/ )/ 路由/ 协议/ 及/ 配置/ 层/ IPv4/ 路由/ 协议/ 功能模块/ 没有/ 任何/ 变化/ ,/ 完成/ IPv4/ 路由/ 的/ 学习/ 及/ 发布/ ./ IPv6/ 路由/ 协议/ 中/ ,/ 根据/ RFC2858/ [/ 8/ ]/ 进行/ BGP/ 协议/ 的/ 扩展/ ,/ 实现/ “/ IPv4/ 地址/ 前缀/ / IPv6/ 地址/ ”/ 映射/ 信息/ 的/ 发布/ 及/ 学习/ ./ 而且/ ,/ 针图/ 6/ 面向/ 4over6/ 隧道/ 的/ 异构/ 网关/ 功能/ 结构/ 势/ 非常明显/ ,/ 在/ 实现/ 端到/ 端/ 一体化/ 最优/ 路由/ 选择/ 的/ 同时/ ,/ 增加/ 了/ 隧道/ 传输/ 可/ 选/ 路径/ 数量/ ,/ 提高/ 了/ 隧道/ 传输/ 的/ 可靠性/ ./ 关数/ ”/ 倍数/ 增长/ ,/ 但/ 可/ 合并/ 同一/ 前缀/ 的/ 多个/ 映射/ 项/ 两种/ 模型/ 与/ 支撑网/ 的/ 路由/ // 转发/ 存储/ 性能/ 无/ 关联/ 对/ 一体化/ 路由/ 模型/ ,/ 每条/ 映射/ 信息/ 的/ 发布/ 都/ 需/ 配置/ 相应/ 的/ 参考/ 度量/ 值/ ./ 扩展/ BGP/ 协议/ 向外/ 发布/ 的/ 地址映射/ 信息/ ,/ 由/ 下层/ 的/ 地址映射/ 管理/ 模块/ 生成/ ./ 相应/ 的/ ,/ 过渡/ 网关/ 通过/ BGP/ 协议/ 学习/ 获得/ 的/ 地址映射/ 信息/ ,/ 也/ 通告/ 地址映射/ 管理/ 模块/ 完成/ 后续/ 处理/ ./ 此外/ ,/ 地址映射/ 配置/ 模块/ 用于/ 实现/ 管理员/ 对/ 地址映射/ 信息/ 的/ 静态/ 配置/ ,/ 如/ 有/ 需要/ 可/ 根据/ 网络/ 运营/ 需要/ 直接/ 配置/ 指定/ 映射/ 信息/ 的/ 参考/ 度量/ ./ (/ 2/ )/ 路由/ 管理/ 及/ 地址映射/ 管理层/ 该层/ 为了/ 实现/ 4over6/ 隧道/ 传输/ ,/ 在/ 现有/ 双栈/ 路由/ 管理/ 基础/ 上/ 引入/ 了/ 地址映射/ 管理/ 模块/ ,/ 包括/ 如下/ 子/ 模块/ ./ 映射/ 表/ 维护/ ./ 实现/ 映射/ 信息/ 的/ 增加/ 和/ 删除/ ./ 一方面/ ,/ 从/ IPv4/ 路由/ 管理/ 获得/ 本/ 边缘/ 网/ 的/ IPv4/ 前缀/ ,/ 它们/ 都/ 与/ 过渡/ 网关/ 的/ IPv6/ 地址/ 对应/ ,/ 产生/ 本地/ 映射/ 信息/ “/ IPv4/ 地址/ 前缀/ / IPv6/ 地址/ ”/ ./ 该/ 映射/ 信息/ 将/ 通过/ BGP/ 协议/ 向外/ 发布/ ./ 另一方面/ ,/ 它/ 通过/ 上层/ BGP/ 协议/ 学习/ 远端/ 地址映射/ 信息/ ./ Page9/ 度量/ 转换/ ./ 根据/ 前/ 文/ 所述/ 的/ 度量/ 转换/ 函数/ F1/ ~/ 3/ 进行/ 实施/ ./ 当/ 本地/ 产生/ 映射/ 信息/ 时/ ,/ 将/ IPv4/ 路由/ 度量/ 转换/ 为/ 参考/ 度量/ (/ 即/ F1/ )/ ,/ 该/ 度量/ 随/ 地址映射/ 向外/ 发布/ ./ 当/ 从/ 上层/ BGP/ 学得/ 远端/ 地址映射/ 信息/ 〈/ PFX4/ ,/ ADDR6/ ,/ RM/ 〉/ 时/ ,/ 根据/ ADDR6/ 查询/ 本地/ IPv6/ 路由表/ ,/ 获得/ 对应/ 的/ IPv6/ 路由/ 度量/ ,/ 并/ 将/ 该/ 传统/ 度量/ 转换/ 为/ 参考/ 度量/ RM/ (/ 即/ F2/ )/ ./ 最后/ ,/ 该/ 映射/ 项/ 对应/ 的/ 参考/ 度量/ 为/ (/ RM/ +/ RM/ )/ ./ IPv4/ 路由/ 转换/ ./ 过渡/ 网关/ 通过/ BGP/ 协议/ 从/ 远端/ 学得/ 映射/ 信息/ 后/ ,/ 根据/ 映射/ 信息/ 中/ 的/ IPv4/ 前缀/ 生成/ IPv4/ 路由/ 通告/ 给/ IPv4/ 路由/ 管理/ ./ 需要/ 强调/ ,/ 过渡/ 网关/ 可能/ 学到/ 多条/ 针对/ 同一/ IPv4/ 前缀/ 的/ 映射/ 项/ ,/ 过渡/ 网关/ 只会/ 生成/ 一条/ IPv4/ 路由/ ,/ 并/ 选择/ 最优/ 的/ 参考/ 度量/ 转换/ 为/ IPv4/ 传统/ 度量/ (/ 即/ F3/ )/ ,/ 随/ IPv4/ 路由/ 项向/ 边缘/ 网/ 发布/ ./ IPv4/ // IPv6/ 路由/ 及/ 度量/ 监测/ ./ 监测/ IPv4/ 路由表/ 项/ 的/ 增删/ ,/ 并/ 对/ 本地/ 产生/ 的/ 地址映射/ 项/ 实施/ 增删/ ./ 如果/ IPv4/ 路由/ 度量/ 发生变化/ ,/ 也/ 需/ 更新/ 地址映射/ 项/ 的/ 参考/ 度量/ 并/ 向/ 外/ 发布/ ./ 另外/ ,/ 对于/ 学习/ 到/ 的/ 远端/ 映射/ 项/ ,/ 需要/ 监测/ 映射/ 项/ IPv6/ 地址/ 对应/ IPv6/ 路由/ 项/ 的/ 路由/ 度量/ ,/ 它们/ 的/ 变化/ 将/ 导致/ 映射/ 项/ 参考/ 度量/ 的/ 重新/ 计算/ ./ (/ 3/ )/ 数据/ 转发/ 层/ IPv4/ 转发/ 引擎/ ./ IPv4/ // IPv6/ 地址映射/ 信息/ 将/ 与/ IPv4/ 转/ 发表/ 融合/ 存储/ ,/ 即/ 某个/ 转发/ 项/ 可能/ 用于/ 传统/ IPv4/ 转发/ ,/ 也/ 可能/ 用于/ IPv6/ 隧道/ 封装/ ./ 针对/ 同一/ IPv4/ 前缀/ 的/ 多条/ 映射/ 项/ ,/ 只会/ 选择/ 参考/ 度量/ 最优/ 的/ 映射/ 项/ 存储/ ,/ 同时/ 存储/ 映射/ 项/ 的/ IPv6/ 地址/ 用于/ 报文/ 封装/ ./ 对于/ 接收/ 的/ IPv4/ 报文/ ,/ 取其/ 目的/ IP地址/ 进行/ 图/ 8/ 两种/ 路由/ 模型/ 路由/ 选择/ 能力/ 分析/ IPv4/ 最长/ 前缀/ 匹配/ ./ 匹配/ 结果/ 可能/ 是/ 普通/ IPv4/ 转发/ ,/ 也/ 可能/ 是/ IPv6/ 封装/ 处理/ ./ IPv6/ 转发/ 引擎/ ./ 除了/ 传统/ 的/ IPv6/ 转发/ ,/ 还/ 需/ 对/ 目的/ IPv6/ 地址/ 为/ 本机/ 的/ 封装/ 报文/ 提交/ 至/ “/ 封装/ // 解/ 封装/ ”/ 模块/ 实施/ 解/ 封装/ 处理/ ./ 封装/ // 解/ 封装/ 处理/ ./ 对于/ IPv4/ 转发/ 引擎/ 转交/ 而来/ 的/ 报文/ ,/ 根据/ 匹配/ 结果/ 进行/ “/ IPv4inIPv6/ ”/ 封装/ ,/ 并/ 交至/ IPv6/ 转发/ 引擎/ 实施/ IPv6/ 转发/ ./ 对于/ IPv6/ 转发/ 引擎/ 转交/ 而来/ 的/ 报文/ ,/ 进行/ 解/ 封装/ 并/ 交至/ IPv4/ 转发/ 引擎/ 实施/ IPv4/ 转发/ ./ 7/ 实验/ 分析/ 首先/ 分析/ URM/ 一体化/ 路由/ 模型/ 的/ 端/ 到/ 端/ 路由/ 选择/ 能力/ ./ 实验/ 针对/ 的/ 目标/ 网络/ 如图/ 7/ 所示/ ,/ 两个/ 边缘/ 网络/ ENET1/ 和/ ENET2/ 分别/ 通过/ i/ 个/ 异构/ 网关/ 接入/ 支撑/ 网络/ ,/ 令/ URM/ 及/ IRM/ 两种/ 路由/ 模型/ 都/ 基于/ 路由/ 跳数/ 最/ 短/ 进行/ 路由/ 选择/ ./ 实验/ 中/ ,/ 随机/ 生成/ 末端/ 路由器/ ER1/ ~/ 2/ 到/ 各自/ 边缘/ 网/ 不同/ 异构/ 网关/ 的/ 路由/ 跳数/ ,/ 并/ 随机/ 生成/ ENET1/ 任一/ 异构/ 网关/ 到/ ENET2/ 每个/ 异构/ 网关/ 的/ 支撑网/ 路由/ 跳数/ ,/ 假设/ 上述/ 每/ 段/ 路径/ 的/ 路由/ 跳数/ 取值/ 范围/ 为/ 1/ ~/ 10/ ./ 实验/ 针对/ 单个/ 边缘/ 网/ 异构/ 网关/ 数量/ i/ 的/ 不同/ 取值/ 进行/ ,/ 实验/ 结果/ 如图/ 8Page10/ 所示/ ./ 当/ i/ =/ 1/ 时/ ,/ 即/ 各/ 边缘/ 网/ 都/ 是/ 单点/ 连接/ 支撑/ 网络/ ,/ 此时/ URM/ 与/ IRM/ 的/ 路由/ 选择/ 完全/ 一样/ ,/ 并/ 无/ 优势/ ./ 但/ 当/ i/ =/ 2/ 时/ ,/ URM/ 模型/ 明显/ 优于/ IRM/ 模型/ ,/ 多数/ 情况/ 下/ URM/ 选择/ 的/ 路由/ 跳数会/ 优于/ IRM/ 模型/ ./ 当/ i/ =/ 3/ 或/ 4/ 时/ ,/ URM/ 模型/ 的/ 优势/ 更为/ 明显/ ./ 本文/ 基于/ Bit/ -/ EngineNetwire4600/ 系列/ 过渡/ 设备/ ,/ 按照/ 第/ 6/ 节/ 完成/ 了/ 异构/ 网关/ 的/ 原型/ 系统/ 设计/ ,/ 它/ 可/ 支持/ IPv4/ // IPv6/ 异构/ 网络/ 的/ 一体化/ 路由/ ./ 首先/ 对/ 异构/ 网关/ 的/ 隧道/ 转发/ 性能/ 进行/ 测试/ ./ 将/ IXIA/ 测试仪/ 的/ 两个/ 千兆/ 接口/ 分别/ 连接/ 异构/ 网关/ 的/ 两个/ 千兆/ 接口/ ,/ 分别/ 测试/ 普通/ IPv4/ 报文/ 转发/ 性能/ 及/ 4over6/ 封装/ 转发/ 性能/ ./ 实验/ 针对/ 不同/ 大小/ 报文/ 进行/ 转发/ 性能/ 测试/ ,/ 最小/ 报文/ 为/ 64/ 字节/ ,/ 最大/ 报文/ 为/ 1478/ 字节/ (/ 由于/ 4over6/ 封装/ 需/ 增加/ 40/ 字节/ 的/ IPv6/ 头部/ )/ ,/ 实验/ 结果/ 如图/ 9/ 所示/ ./ 对于/ 普通/ IPv4/ 报文/ 转发/ ,/ 64/ 字节/ 报文/ 转发/ 能力/ 将近/ 900Mbps/ ,/ 长度/ 超过/ 200/ 字节/ 的/ 报文/ 都/ 能/ 达到/ 千兆/ 线速/ 转发/ ./ 对于/ 4over6/ 转发/ ,/ 64/ 字节/ 报文/ 转发/ 性能/ 为/ 520Mbps/ ,/ 随着/ 报文/ 长度/ 增加/ 转发/ 性能/ 提升/ ,/ 长度/ 超过/ 700/ 字节/ 的/ 报文/ 转发/ 性能/ 稳定/ 在/ 900Mbps/ 左右/ ./ 由于/ 4over6/ 转发/ 过程/ 中/ ,/ 异构/ 网关/ 会/ 增加/ 40/ 字节/ 的/ IPv6/ 头/ ,/ 而/ 实验/ 中/ 转发/ 性能/ 统计/ 是/ 针对/ 入/ 接口/ IPv4/ 流量/ 进行/ ,/ 所以/ 可/ 认为/ 4over6/ 转发/ 也/ 基本/ 达到/ 了/ 线速/ 处理/ ./ 利用/ IXIA/ 测试仪/ ,/ 实施/ 异构/ 网关/ 的/ 报文/ 转发/ 时延/ 测试/ ,/ 实验/ 结果/ 如图/ 10/ 所示/ ./ URM/ 模型/ 中/ 4over6/ 处理/ 的/ 设备/ 转发/ 时延/ ,/ 相对/ 于/ 普通/ 4over6/ 转发/ 模型/ 相差无几/ ./ 这/ 是因为/ URM/ 模型/ 在/ 异构/ 网关/ 的/ 数据处理/ 过程/ ,/ 相对/ 于/ 普通/ 4over6/ 转发/ ,/ 没有/ 增加/ 任何/ 额外/ 处理/ 步骤/ ./ 利用/ 异构/ 网关/ 搭建/ 隧道/ 传输/ 网络/ ,/ 测试/ URM/ 模型/ 的/ 整体/ 路由/ 收敛/ 能力/ ,/ 网络拓扑/ 如图/ 11/ 所示/ ./ 其中/ ,/ R2/ 、/ R3/ 、/ R6/ 、/ R9/ 是/ 根据/ 本文/ 思想/ 设计/ 的/ 异构/ 网关/ ,/ 其他/ 路由器/ 为/ 普通/ 的/ IPv4/ 路由器/ 或/ IPv6/ 路由器/ ./ 为了/ 描述/ 方便/ ,/ 定义/ 图/ 11/ 下部/ 路径/ (/ R1/ -/ R2/ -/ R3/ -/ R4/ -/ R5/ )/ 为/ PATH1/ ,/ 上部/ 路径/ (/ R1/ -/ R9/ -/ R8/ -/ R7/ -/ R6/ -/ R5/ )/ 为/ PATH2/ ./ 两端/ 是/ IPv4/ 边缘/ 网/ ,/ 分别/ 运行/ 各自/ 的/ OSPFv2/ 路由/ 协议/ ,/ 各条/ 链路/ cost/ 值/ 全部/ 设置/ 为/ 1/ ,/ 异构/ 网关/ 将/ 边缘/ 网/ 路径/ cost/ 值设/ 为/ 参考/ 度量/ 随/ IPv4/ -/ IPv6/ 地址映射/ 信息/ 传递/ ./ 中间/ 是/ IPv6/ 支撑网/ ,/ 运行/ OSPFv3/ 协议/ ,/ 也/ 将/ 链路/ cost/ 值/ 设置/ 为/ 1/ ./ 另外/ ,/ 支撑网/ 中/ R2/ -/ R3/ 、/ R9/ -/ R6/ 间/ 建立/ iBGP/ 连接/ ,/ 运行/ 扩展/ 的/ iBGP/ 路由/ 协议/ ./ 上述/ 机制/ 使得/ 整个/ 隧道/ 传输/ 网络/ 将/ 以/ 物理/ 跳数/ 作为/ 基本/ 度量/ ,/ 选择/ 端到/ 端/ 最优/ 转发/ 路径/ ./ 通过/ 主机/ H1/ 和/ H2/ 之间/ 的/ 端/ 到/ 端/ 通信/ ,/ 测试/ 异构/ 网络/ 隧道/ 传输/ 体系/ 的/ 一体化/ 路由/ 机制/ ./ 为了/ 突出/ 实验/ 效果/ ,/ 实验/ 中/ 在/ R6/ -/ R7/ -/ R8/ -/ R9/ 路径/ 上/ 注入/ 100Mbps/ 的/ 背景/ 流量/ ./ 图/ 11/ 隧道/ 传输/ 网络/ 一体化/ 路由/ 实验/ 网络拓扑/ 实验/ 1/ ./ 利用/ hrPING/ (/ 一个/ 高精度/ 的/ PING/ 工具/ )/ 测试/ H1/ 到/ H2/ 的/ RTT/ 值/ ,/ 以及/ 网络/ 状态/ 变化/ 对/ RTT/ 的/ 影响/ ./ 待/ 各路/ 由/ 协议/ 稳定/ 运行/ 后/ ,/ 开始/ 测试/ RTT/ 值/ ,/ 第/ 30/ 秒/ 断开/ 链路/ link1/ ,/ 第/ 60/ 秒/ link1/ 恢复正常/ 连接/ ./ 实验/ 结果/ 如图/ 12/ (/ a/ )/ 所示/ ./ 网络/ 初始/ 稳定/ 时/ ,/ hrPING/ 显示/ 转发/ 跳数/ 为/ 5/ 跳且/ RTT/ 为/ 图/ 12/ (/ a/ )/ 第/ 1/ 段/ 连线/ ,/ 此时/ 传输/ 路径/ 为/ PATH1/ ./ 当/ 第/ 30/ 秒/ link1/ 断开/ 后/ ,/ 图/ 12/ (/ a/ )/ 显示/ 发生/ 了/ 明显/ 的/ 丢/ 包/ ,/ 之后/ 其/ RTT/ 值有/ 了/ 明显/ 的/ 增加/ 且/ hrPING/ 显示/ 转发/ 跳数/ 为/ 6/ 跳/ ,/ 显然/ 传输/ 路径/ 切换/ 为/ PATH2/ ./ 第/ 60/ 秒/ 恢复/ link1/ 连接/ 后/ ,/ 从图/ 12/ (/ a/ )/ 可以/ 看出/ 传输/ 路径/ 在/ 第/ 170/ 多/ 秒/ 才/ 开始/ 切换/ 回/ PATH1/ 传输/ 路径/ ,/ 这/ 是因为/ 端到/ 端/ 传输/ 路径/ 经历/ 了/ 两次/ OSPFv2/ 收敛/ (/ 中间/ 支撑网/ 的/ OSPFv3/ 并/ 不受/ 影响/ )/ 及/ 一次/ BGP/ 收敛/ ./ 实验/ 2/ ./ 利用/ Iperf/ 工具/ 测试/ H1/ 到/ H2/ 的/ TCP/ 传输/ 带宽/ ./ 实验/ 过程/ 的/ 网络/ 状态/ 变化/ 和/ 实验/ 1/ 相同/ ,/ 实验/ 结果/ 为/ 图/ 12/ (/ b/ )/ ./ TCP/ 带宽/ 也/ 在/ 第/ 30/ 秒/ 后/ 出现/ 短暂/ 几秒/ 的/ 0/ 值/ ,/ 之后/ 因为/ 路径/ 切换/ 导致/ 带宽/ 较/ 低/ Page11/ 并/ 在/ 第/ 170/ 多/ 秒/ 恢复/ 高带宽/ 传输/ ./ 为了/ 更/ 清楚/ 地/ 分析/ 网络/ 状态/ 变化/ 对/ 单向/ 传输/ 路径/ 的/ 变化/ 影响/ ,/ 继续/ 利用/ Iperf/ 工具/ 测试/ H1/ 和/ H2/ 间/ 的/ 单向/ UDP/ 传输/ 带宽/ ./ 实验/ 3/ ./ 基于/ 链路/ link1/ 的/ 断/ 连/ 及/ 恢复/ 过程/ ,/ 分析/ H1/ →/ H2/ 的/ 单向/ 传输/ 路径/ 及/ UDP/ 带宽/ ,/ 实验/ 过程/ 和/ 实验/ 1/ 相同/ ,/ 实验/ 结果/ 为/ 图/ 12/ (/ c/ )/ ./ 可以/ 看出/ ,/ H1/ →/ H2/ 的/ 单向/ UDP/ 带宽/ 的/ 变化/ ,/ 和/ 实验/ 1/ 、/ 实验/ 2/ 基本/ 类似/ ./ 然而/ ,/ 接下来/ 的/ 实验/ 4/ 却/ 有/ 与/ 前/ 3/ 次/ 实验/ 不/ 一样/ 的/ 结果/ ./ 实验/ 4/ ./ 基于/ 链路/ link2/ 的/ 断/ 连/ 及/ 恢复/ ,/ 分析/ 图/ 12/ 隧道/ 传输/ 网络/ 一体化/ 路由/ 实验/ 各项/ 性能/ 分析/ 继续/ 分析/ 异构/ 网关/ 及/ 边缘/ 网路/ 由/ 系统/ 的/ 存储/ 代价/ ./ 在/ R4/ 中/ 配置/ 不同/ 数量/ 的/ IPv4/ 静态/ 路由/ ,/ 并/ 重定向/ 至/ 边缘/ 网/ OSPF/ 协议/ 中/ ,/ 这些/ 路由/ 将/ 转化/ 为/ 映射/ 项/ 或/ 路由/ 项/ 在/ 全网/ 传播/ ./ IRM/ 模型/ 实验/ 拓扑/ 如图/ 13/ 所示/ ,/ 两个/ 边缘/ 网/ 分别/ 只/ 配置/ 一个/ 异构/ 网关/ :/ R6/ 和/ R9/ ./ URM/ 模型/ 的/ 实验/ 仍/ 在/ 图/ 11/ 拓扑/ 中/ 完成/ ./ 分析/ 异构/ 网关/ R9/ 和/ 边缘/ 网/ R1/ 路由器/ 的/ 控制/ 层/ 存储/ 和/ 数据/ 层/ 硬件/ 转发/ 存储/ 差异/ ,/ 如图/ 14/ 所示/ ./ 针对/ 同一/ IPv4/ 前缀/ ,/ URM/ 模型/ 下/ 的/ 异构/ 网关/ R9/ 要/ 存储/ 2/ 份/ 去往/ 不同/ 异构/ 网关/ 的/ 的/ 映射/ 信息/ ./ 但/ 通过/ 同一/ IPv4/ 前缀/ 映射/ 信息/ 合并/ 存储/ ,/ URM/ 模型/ 较/ IRM/ 模型/ 会/ 耗用/ 略/ 多/ 的/ 控制/ 层/ 内存/ ,/ 如图/ 14/ (/ a/ )/ ./ 对于/ 数据/ 层/ 核心/ 转发/ 资源/ 三元/ 内容/ 可/ 寻址/ 存储器/ TCAM/ (/ TernaryContentAddressableMemory/ )/ ,/ 总是/ 以/ 72bits/ 为/ 一个/ 单元/ 分配/ 使用/ ./ 两种/ 模型/ 下/ 异构/ 网关/ 对/ TCAM/ 资/ H2/ →/ H1/ (/ 注意/ 实验/ 4/ 与/ 前/ 3/ 次/ 实验/ 的/ 数据传输/ 方向不同/ )/ 的/ 单向/ 传输/ 路径/ 及/ 带宽/ ./ 实验/ 过程/ 和/ 实验/ 1/ 类似/ ,/ 只是/ 将/ 针对/ 链路/ link1/ 的/ 操作/ ,/ 替换/ 为/ 针对/ 链路/ link2/ 的/ 操作/ ./ 实验/ 结果/ 为/ 图/ 12/ (/ d/ )/ ,/ 与/ 前/ 3/ 次/ 实验/ 不同/ 的/ 是/ ,/ link2/ 断/ 连/ 并/ 恢复正常/ 后/ 导致/ 的/ 路径/ 切换/ 发生/ 在/ 第/ 120/ 多/ 秒/ ,/ 而/ 不是/ 前/ 3/ 次/ 实验/ 的/ 第/ 170/ 多/ 秒/ ./ 分析/ 可以/ 发现/ ,/ link2/ 的/ 状态/ 变化/ 在/ H2/ →/ H1/ 的/ 单向/ 传输/ 路径/ 中/ ,/ 只会/ 对/ H2/ 所属/ 的/ IPv4/ 边缘/ 网选路/ 产生/ 影响/ ./ 也就是说/ ,/ link2/ 恢复/ 连接/ 时/ ,/ 只/ 需/ 经过/ 一次/ OSPFv2/ 收敛/ 即可/ 促成/ H2/ →/ H1/ 的/ 单向/ 传输/ 路径/ 切换/ ./ 源/ 的/ 耗用/ 没有/ 差异/ ,/ 如图/ 14/ (/ b/ )/ ,/ 都/ 只/ 存储/ 最好/ 的/ 一条/ 转发/ 项/ ./ 此外/ ,/ 边缘/ 网/ 路由器/ R1/ 在/ URM/ 模型/ 中要/ 耗用/ 更/ 多/ 的/ 控制/ 层/ 和/ 数据/ 层/ 存储资源/ ,/ 如图/ 14/ (/ c/ )/ 和/ 图/ 14/ (/ d/ )/ ./ IRM/ 模型/ 因为/ 只有/ 一个/ 异构/ 网关/ ,/ 边缘/ 网可/ 通过/ 一条/ 默认/ 路由/ // 转发/ 项/ 实现/ 到/ 边缘/ 网/ 外部/ 的/ 访问/ ./ 然而/ ,/ URM/ 模型/ 要/ 针对/ 每个/ 外部/ 目的/ 前缀/ 明确/ 指定/ 异构/ 网关/ ,/ 这/ 也/ 是/ 多/ 出口/ 网络/ 模型/ 必须/ 面对/ 的/ 存储/ 代价/ ./ Page12/ 图/ 14/ 隧道/ 传输/ 存储/ 代价/ 分析/ 综合/ 上述/ 实验/ 及/ 分析/ ,/ 证明/ 本文/ 提出/ 的/ 异构/ 网络/ 一体化/ 路由/ 模型/ 能/ 与/ 现有/ OSPF/ 、/ BGP/ 等/ 路由/ 协议/ 友好/ 兼容/ ,/ 并/ 具有/ 良好/ 的/ 异构/ 网络/ 端到/ 端/ 一体化/ 路由/ 收敛/ 能力/ ,/ 完全符合/ 路由/ 协议/ 收敛/ 原理/ ./ 而且/ ,/ 一体化/ 路由/ 模型/ 在/ 控制/ 层/ 和/ 数据/ 层/ 的/ 计算/ 复杂度/ 都/ 基本/ 没有/ 增加/ ./ 它/ 的/ 主要/ 代价/ 包括/ 边缘/ 网路/ 由/ 系统控制/ 层/ // 数据/ 层/ 的/ 存储/ 有/ 较/ 明显/ 的/ 增加/ 、/ 异构/ 网关/ 的/ 控制/ 层/ 存储/ 略有/ 增加/ ./ 8/ 总结/ 现有/ 隧道/ 传输/ 机制/ 只/ 考虑/ 基本/ 的/ 单点/ 可/ 连通性/ ,/ 没能/ 对/ 端/ 到/ 端/ 跨越/ 异构/ 网络/ 的/ 传输/ 路径/ 进行/ 一体化/ 考虑/ ,/ 是/ 一种/ 分段/ 实施/ 路由/ 选择/ 的/ 孤立/ 路由/ 模型/ ./ 本文/ 针对/ 边缘/ 网到/ 支撑网/ 的/ 多/ 宿主/ 连接/ 环境/ ,/ 提出/ 了/ 一种/ 跨/ 异构/ 网络/ 的/ 一体化/ 路由/ 模型/ —/ —/ —/ URM/ ./ URM/ 模型/ 通过/ 参考/ 度量/ 对/ 异构/ 网络/ 的/ 路由/ 优劣/ 进行/ 统一/ 描述/ ,/ 并/ 设计/ 了/ 参考/ 度量/ 与/ 传统/ 度量/ 的/ 转换方法/ ,/ 从而/ 实现/ 隧道/ 传输/ 网络/ 的/ 端/ 到/ 端/ 一体化/ 路由/ 选择/ 机制/ ./ URM/ 模型/ 实施/ 简单/ ,/ 通过/ BGP/ 扩展/ 协议/ 实现/ 参考/ 度量/ 的/ 传递/ ,/ 最终/ 的/ 一体化/ 路由/ 机制/ 也/ 是/ 透明/ 地/ 通过/ 现有/ 路由/ 体系/ 完成/ ./ URM/ 模型/ 的/ 实施/ 只/ 需/ 对/ 异构/ 网关/ 进行/ 简单/ 改造/ 即可/ 完成/ ,/ 影响/ 范围/ 较/ 小/ ./ 论文/ 对/ URM/ // IRM/ 两种/ 模型/ 的/ 路由/ 性能/ 进行/ 了/ 分析/ 比较/ ./ 相对/ 现有/ IRM/ 模型/ ,/ URM/ 模型/ 会/ 使/ 异构/ 网关/ 存储/ 更/ 多/ 的/ 地址映射/ 项/ ,/ 边缘/ 网路/ 由/ 设备/ 存储/ 更/ 多/ 的/ 路由/ 项/ // 转发/ 项/ ,/ 但/ 对/ 支撑网/ 普通/ 路由/ 设备/ 没有/ 任何/ 影响/ ,/ 作者/ 的/ 相关/ 工作/ 还/ 针对/ 这些/ 问题/ 进行/ 了/ 优化/ 研究/ [/ 24/ ]/ ./ 然而/ ,/ URM/ 模型/ 带来/ 的/ 优势/ 却/ 非常明显/ ,/ 在/ 实现/ 端到/ 端/ 一体化/ 最优/ 路由/ 选择/ 的/ 同时/ ,/ 增加/ 了/ 隧道/ 传输/ 路径/ 数量/ 并/ 提高/ 了/ 隧道/ 传输/ 的/ 可靠性/ ./ 实验/ 验证/ 了/ 在/ 边缘/ 网到/ 支撑网/ 的/ 多/ 宿主/ 连接/ 环境/ 中/ ,/ URM/ 相对/ 于/ IRM/ 能/ 选择/ 出/ 更好/ 的/ 跨/ 异构/ 网络/ 端到/ 端/ 传输/ 路径/ ./ 此外/ ,/ 本文/ 基于/ Bit/ -/ EngineNetwire4600/ 过渡/ 设备设计/ 了/ 异构/ 网关/ 原型/ 系统/ ,/ 并/ 对/ 异构/ 网关/ 进行/ 了/ 隧道/ 传输/ 的/ 性能/ 测试/ ,/ 验证/ 了/ 该/ 设备/ 较/ 高/ 的/ 数据/ 转发/ 带宽/ ./ 继而/ ,/ 基于/ 异构/ 网关/ 原型/ 系统/ ,/ 完成/ 了/ 真实/ 设备/ 组网/ 实验/ ./ 实验/ 再次/ 验证/ 了/ URM/ 模型/ 的/ 一体化/ 路由/ 机制/ 对端/ 到/ 端/ 最优/ 路径/ 的/ 选择/ 能力/ ./ 并且/ ,/ 还/ 验证/ 了/ URM/ 模型/ 在/ 网络/ 状态/ 变化/ 情况/ 下/ 的/ 跨/ 异构/ 网络/ 一体化/ 路由/ 收敛/ 能力/ ./ 本文/ 工作/ 可/ 给/ 未来/ 隧道/ 传输/ 网络/ 的/ 研究/ 及/ 实施/ 提供/ 参考/ ./ 致谢/ 本/ 论文/ 工作/ 在/ 清华大学/ 完成/ ,/ 感谢/ 清华大学/ 网络/ 所/ 提供/ 的/ 研究/ 支持/ !/ Page13/ 

