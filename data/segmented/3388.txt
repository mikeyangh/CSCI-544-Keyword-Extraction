Page1/ 一种/ 面向/ 测试/ 需求/ 部分/ 覆盖/ 的/ 测试用例/ 集约/ 简/ 技术/ 顾庆/ 1/ )/ 唐宝/ 2/ )/ 陈道/ 蓄/ 1/ )/ 1/ )/ (/ 南京大学/ 软件/ 新/ 技术/ 国家/ 重点/ 实验室/ 南京/ 210093/ )/ 2/ )/ (/ 西门子/ IT/ 解决方案/ 与/ 服务/ 集团/ 南京/ 211100/ )/ 摘要/ 软件系统/ 开发/ 中/ 频繁/ 面对/ 局部/ 更新/ 和/ 部分/ 缺陷/ 修改/ ,/ 此时/ 需要/ 选择性/ 回归/ 测试/ ;/ 为/ 降低/ 其/ 测试/ 工作量/ 需要/ 解决/ 部分/ 覆盖/ 用例/ 集约/ 简/ 问题/ ./ 文中/ 基于/ 选择性/ 回归/ 测试/ 形式化/ 定义/ 多/ 目标/ 用例/ 集约/ 简/ ,/ 并/ 设计/ HATS/ 算法/ 解决/ 该/ 问题/ ./ HATS/ 算法/ 遵循/ 启发式/ 贪婪/ 搜索/ 框架/ ,/ 定义/ 权重/ 因子/ α/ 平衡/ 两/ 方面/ 目标/ :/ 其一/ 是/ 减少/ 用/ 例集/ 规模/ ;/ 其二/ 是/ 避免/ 对/ 无关/ 需求/ 的/ 覆盖/ ./ 实验/ 结果表明/ :/ 同/ 现有/ 约简/ 技术/ 和/ 算法/ 相/ 比较/ ,/ 通过/ 适当/ 设置/ 因子/ α/ ,/ HATS/ 算法/ 能够/ 降低/ 用/ 例集/ 规模/ 、/ 减少/ 对/ 无关/ 需求/ 的/ 覆盖/ 、/ 同时/ 缓解/ 对/ 缺陷/ 检测/ 能力/ 的/ 影响/ ./ 文中/ 的/ 创新/ 贡献/ 在/ 两/ 方面/ :/ 其一/ 根据/ 选择性/ 回归/ 测试/ 定义/ 多/ 目标/ 用例/ 集约/ 简/ 问题/ ;/ 其二/ 是/ 设计/ HATS/ 算法/ 以/ 更/ 少/ 的/ 测试用例/ 数量/ 维持/ 缺陷/ 检测/ 效果/ ./ 关键词/ 软件测试/ ;/ 测试用例/ 约简/ ;/ 回归/ 测试/ ;/ 测试/ 需求/ 集/ ;/ 部分/ 覆盖/ 1/ 引言/ 在/ 软件系统/ 发生/ 变更/ 后/ 或/ 发布/ 新/ 版本/ 前/ 通常/ 需要/ 对/ 软件程序/ 进行/ 回归/ 测试/ ,/ 以/ 确保/ 已有/ 功能/ 或/ 模块/ 没有/ 受到/ 当前/ 变更/ 的/ 负面影响/ ./ 目前/ 软件系统/ 通常/ 采用/ 迭代/ 式/ 开发/ ,/ 软件/ 升级换代/ 成为/ 惯例/ ,/ 且/ 升级换代/ 的/ 速度/ 不断/ 加快/ ./ 这/ 使得/ 回归/ 测试/ 成本/ 不断/ 提升/ ./ 如何/ 在/ 保证/ 检错/ 能力/ 的/ 前提/ 下/ 有效/ 降低/ 回归/ 测试/ 工作量/ 是/ 需要/ 解决/ 的/ 问题/ ./ 在/ 软件系统/ 迭代/ 开发/ 过程/ 中/ ,/ 测试用例/ 不断/ 被/ 设计/ 、/ 修改/ 和/ 执行/ ,/ 构成/ 回归/ 测试/ 的/ 备选/ 用例/ 集合/ ./ 在/ 回归/ 测试/ 中/ ,/ 软件程序/ 被/ 视为/ 测试/ 需求/ 的/ 集合/ ./ 例如/ 从/ 结构/ 角度/ 可以/ 把/ 程序/ 中/ 的/ 语句/ 视为/ 测试/ 需求/ ,/ 回归/ 测试/ 要求/ 达到/ 和/ 备选/ 用/ 例集/ 相同/ 的/ 语句/ 覆盖率/ ./ 在/ 通常/ 情况/ 下/ ,/ 对/ 给定/ 的/ 测试/ 需求/ 覆盖/ 要求/ ,/ 备选/ 用例/ 集会/ 存在/ 较大/ 的/ 冗余/ [/ 1/ ]/ ./ 测试用例/ 集约/ 简/ 技术/ 用于/ 从/ 备选/ 用例/ 集中/ 选择/ 较/ 少/ 数量/ 的/ 测试用例/ 构成/ 约简/ 集/ ,/ 同时/ 达到/ 测试/ 需求/ 覆盖/ ./ 目前/ 研究者/ 提出/ 多种/ 用例/ 集约/ 简/ 技术/ ,/ 这些/ 技术/ 大致/ 可归为/ 3/ 类/ :/ 启发式/ 贪婪/ 搜索/ [/ 1/ -/ 3/ ]/ 、/ 元/ 启发/ 概率/ 优化/ [/ 4/ ]/ 以及/ 二进制/ 整数/ 线性规划/ [/ 5/ -/ 6/ ]/ ./ 根据/ 软件系统/ 的/ 更新/ 程度/ 和/ 范围/ ,/ 回归/ 测试/ 可以/ 有/ 两种/ 形式/ :/ 选择性/ 回归/ 测试/ 和/ 全面/ 回归/ 测试/ ./ 前者/ 在/ 软件/ 更新/ 范围/ 有限/ 或/ 缺陷/ 尚未/ 全部/ 修正/ 时/ 执行/ ;/ 而/ 后者/ 通常/ 在/ 新/ 版本/ 发布/ 或/ 更新/ 范围/ 较大/ 且/ 全部/ 缺陷/ 修正/ 后/ 执行/ ./ 相较/ 于/ 后者/ ,/ 选择性/ 回归/ 测试/ 的/ 执行/ 频度/ 更高/ ,/ 更/ 需要/ 控制/ 测试/ 成本/ ./ 在/ 选择性/ 回归/ 测试/ 中/ ,/ 测试/ 需求/ 集合/ 可/ 分割/ 为/ 两/ 部分/ :/ 关注/ 需求/ 集/ 和/ 无关/ 需求/ 集/ ./ 其中/ 关注/ 需求/ 集/ 需要/ 被/ 回归/ 测试用例/ 覆盖/ ;/ 而/ 无关/ 需求/ 集/ 正相反/ ,/ 需要/ 在/ 选择/ 测试用例/ 时/ 避免/ 覆盖/ 以/ 减少/ 测试/ 执行/ 和/ 分析/ 的/ 工作量/ ./ 现有/ 的/ 测试用例/ 集约/ 简/ 技术/ 尚未/ 考虑/ 这一/ 问题/ ./ 本文/ 针对/ 选择性/ 回归/ 测试/ 中/ 测试/ 需求/ 集/ 部分/ 覆盖/ 要求/ ,/ 提出/ 多/ 目标/ 部分/ 覆盖/ 测试用例/ 集约/ 简/ 问题/ ./ 给出/ 解决/ 该/ 问题/ 的/ 一个/ 启发式/ 贪婪/ 搜索算法/ —/ —/ —/ HATS/ (/ HeuristicsearchAlgorithmwithThreeStrategies/ )/ ./ 基于/ 开源/ 软件系统/ 设计/ 的/ 实验/ 结果表明/ :/ 同全/ 覆盖/ 测试用例/ 集约/ 简/ 技术/ 相比/ ,/ HATS/ 算法/ 能够/ 进一步/ 较大/ 程度/ 地/ 减少/ 回归/ 测试用例/ 数量/ ,/ 降低/ 对/ 无关/ 测试/ 需求/ 集/ 的/ 覆盖/ 比率/ ,/ 同时/ 基本/ 保证/ 针对/ 关注/ 需求/ 集/ 的/ 缺陷/ 检测/ 能力/ ./ 2/ 测试用例/ 集约/ 简/ 2.1/ 基本概念/ 描述/ 测试用例/ 集约/ 简/ 问题/ 需要/ 以下/ 基本概念/ ./ 定义/ 1/ ./ 备选/ 测试用例/ 集/ ./ 备选/ 测试用例/ 集/ T/ (/ T/ =/ {/ t1/ ,/ t2/ ,/ …/ ,/ tm/ }/ )/ 是/ 针对/ 目标/ 软件系统/ 设计/ 完成/ 的/ 一组/ 测试用例/ 集合/ ./ 集合/ 中/ 的/ 用例/ 已/ 执行/ 并/ 构成/ 回归/ 测试/ 的/ 备选/ 用/ 例集/ ./ 定义/ 2/ ./ 测试/ 需求/ 集/ ./ 测试/ 需求/ 集/ R/ (/ R/ =/ {/ r1/ ,/ r2/ ,/ …/ ,/ rn/ }/ )/ 是/ 测试/ 目标/ 软件系统/ 要求/ 覆盖/ 的/ 测试/ 需求/ 集合/ ./ 测试/ 需求/ 反应/ 软件系统/ 的/ 基本/ 覆盖/ 单元/ ./ 如/ 从/ 结构/ 角度/ 一个/ 测试/ 需求/ 可以/ 是/ 一条/ 语句/ 或/ 一个/ 函数/ (/ 过程/ 或/ 方法/ )/ ;/ 从/ 功能/ 角度/ 一个/ 测试/ 需求/ 可以/ 是/ 一个/ 功能/ 项/ 或/ 一个/ 被测/ 特征/ ./ 定义/ 3/ ./ 测试/ 覆盖/ 矩阵/ ./ 测试/ 覆盖/ 矩阵/ Δ/ (/ R/ ,/ T/ )/ 是/ 一个/ |/ R/ |/ ×/ |/ T/ |/ 二进制/ 矩阵/ ,/ 定义/ 用/ 例集/ T/ 到/ 需求/ 集/ R/ 的/ 覆盖/ 关系/ ./ 矩阵/ 元素/ 由式/ (/ 1/ )/ 定义/ :/ 为/ 简便/ 起/ 见/ ,/ 我们/ 用/ δ/ ij/ 表示/ δ/ (/ ri/ ,/ tj/ )/ ,/ 在/ 不/ 引起/ 歧义/ 情况/ 下/ Δ/ (/ R/ ,/ T/ )/ 简化/ 表示/ 为/ Δ/ ./ 定义/ 4/ ./ 测试用例/ 的/ 覆盖/ 需求/ 集/ ./ 测试用例/ tj/ 的/ 覆盖/ 需求/ 集/ R/ (/ tj/ )/ (/ R/ (/ tj/ )/ / R/ )/ 是/ 一个/ 测试/ 需求/ 集合/ ,/ 其中/ 包含/ 用例/ tj/ 覆盖/ 的/ 需求/ 集/ R/ 中/ 所有/ 测试/ 需求/ ./ 定义/ 5/ ./ 测试/ 需求/ 的/ 执行/ 用/ 例集/ ./ 测试/ 需求/ ri/ 的/ 执行/ 用/ 例集/ T/ (/ ri/ )/ (/ T/ (/ ri/ )/ / T/ )/ 是/ 一个/ 测试用例/ 集合/ ,/ 其中/ 包含/ 覆盖/ (/ 执行/ )/ 需求/ ri/ 的/ 用/ 例集/ T/ 中/ 所有/ 测试用例/ ./ 定义/ 6/ ./ 需求/ 集/ R/ 的/ 代表/ 用/ 例集/ ./ 需求/ 集/ R/ 的/ 代表/ 用/ 例集/ γ/ (/ R/ )/ (/ γ/ (/ R/ )/ / T/ )/ 是/ 一个/ 测试用例/ 集合/ ,/ 其所/ 包含/ 测试用例/ 的/ 覆盖/ 需求/ 集/ 的/ 并/ 集/ 等于/ (/ 包含/ )/ R/ ,/ 即/ Ut/ ∈/ γ/ (/ R/ )/ R/ (/ t/ )/ / R/ ./ 本文/ 中用例/ tj/ 的/ 覆盖/ 需求/ 集/ R/ (/ tj/ )/ 简化/ 表示/ 为/ Rj/ ,/ 对应/ 覆盖/ 矩阵/ Δ/ 的/ 第/ j/ 列/ ;/ 需求/ ri/ 的/ 执行/ 用/ 例集/ T/ (/ ri/ )/ 简化/ 为/ Ti/ ,/ 对应/ 矩阵/ Δ/ 的/ 第/ i/ 行/ ;/ 不/ 引起/ 歧义/ 的/ 情况/ 下/ γ/ (/ R/ )/ 简化/ 为/ γ/ ./ 根据上述/ 定义/ ,/ 一个/ 全/ 覆盖/ 测试用例/ 集约/ 简/ 问题/ 可以/ 形式化/ 描述/ 如下/ :/ 给定/ 备选/ 用/ 例集/ T/ 和/ 测试/ 需求/ 集/ R/ ,/ 给定/ 需求/ 覆盖/ 矩阵/ Δ/ (/ R/ ,/ T/ )/ ,/ 令/ / tj/ ∈/ T/ ./ Rj/ ≠/ / 且/ / ri/ ∈/ R/ ./ Ti/ ≠/ / ./ 要求/ 寻找/ 最优/ 代表/ 用/ 例集/ γ/ (/ γ/ / T/ )/ ,/ 使得/ γ/ 所/ 包含/ 的/ 测试用例/ 数量/ 最少/ ./ 该/ 问题/ 等价/ 于/ 最小/ 覆盖/ 集/ 问题/ ,/ 是/ 一个/ NP/ 完全/ 问题/ [/ 7/ ]/ ./ 2.2/ 测试用例/ 集约/ 简/ 技术/ 研究者/ 已经/ 提出/ 多种/ 解决/ 全/ 覆盖/ 测试用例/ 集约/ 简/ 问题/ 的/ 近似算法/ ./ 这些/ 算法/ 大致/ 可归为/ 3/ 个/ 类别/ :/ 启发式/ 贪婪/ 搜索/ 、/ 元/ 启发/ 概率/ 优化/ 以及/ 二进制/ 整数/ 线性规划/ ./ 启发式/ 贪婪/ 搜索/ 技术/ 一般/ 一次/ 选择/ 一个/ (/ 或/ 多/ Page3/ 个/ )/ 局部/ 最佳/ (/ 如/ 覆盖/ 最大/ 数量/ 的/ 测试/ 需求/ )/ 的/ 测试用例/ ,/ 排除/ 已经/ 覆盖/ 的/ 测试/ 需求/ ,/ 循环/ 直至/ 所有/ 需求/ 都/ 被/ 覆盖/ ./ 这类/ 算法/ 中/ 典型/ 的/ 有/ Harrold/ 等/ 人/ 提出/ 的/ HGS/ 算法/ [/ 1/ ]/ 以及/ Chen/ 等/ 人/ 提出/ 的/ GRE/ [/ 2/ -/ 3/ ]/ 算法/ ./ 元/ 启发/ 概率/ 优化/ 技术/ 从/ 一个/ 初始/ 的/ 代表/ 用/ 例集/ (/ 如备/ 选集/ T/ )/ 出发/ ,/ 应用/ 全局/ 概率/ 优化/ 算法/ 推算/ 最优/ 的/ 代表/ 用/ 例集/ ./ 这类/ 算法/ 中/ 典型/ 的/ 是/ Mansour/ 等/ 人/ [/ 4/ ]/ 提出/ 的/ 模拟退火/ 算法/ 和/ 混合/ 遗传算法/ ./ 二进制/ 整数/ 线性规划/ BIP/ (/ BinaryIntegerlinearProgramming/ )/ 技术/ [/ 5/ -/ 6/ ]/ 将/ 用例/ 集约/ 简/ 目标/ 形式化/ 描述/ 为/ 一个/ 成本/ 函数/ ./ 优化/ 目标/ 是/ 成本/ 值/ 最小/ ,/ 约束条件/ 是/ 所有/ 测试/ 需求/ 都/ 被/ 覆盖/ ./ Black/ 等/ 人/ [/ 5/ ]/ 应用/ BIP/ 技术/ 解决/ 一个多/ 目标/ 测试用例/ 集约/ 简/ 问题/ :/ 最小化/ 选择/ 的/ 测试用例/ 数量/ ,/ 同时/ 保留/ 最/ 多/ 数量/ 的/ 曾/ 检测/ 出/ 缺陷/ 的/ 测试用例/ ./ 解决/ BIP/ 本身/ 也/ 是/ 一个/ NP/ 完全/ 问题/ [/ 8/ ]/ ./ 研究者/ 对/ 不同/ 约简/ 技术/ 的/ 性能/ 做/ 了/ 比较/ [/ 2/ ,/ 9/ ]/ ./ 其/ 结果/ 是/ 不同/ 类别/ 算法/ 得到/ 的/ 约简/ 集/ 规模/ 基本/ 相当/ ,/ 没有/ 哪个/ 算法/ 能够/ 在/ 所有/ 情况/ 下/ 优于/ 其它/ 算法/ ./ 其他/ 研究者/ [/ 10/ -/ 13/ ]/ 提出/ 针对/ 不同/ 需求/ 类型/ 的/ 特定/ 的/ 约简/ 算法/ ,/ 并同/ HGS/ 算法/ 等/ 做/ 了/ 比较/ ,/ 也/ 得到/ 类似/ 的/ 结论/ ./ 3/ 测试/ 需求/ 集/ 部分/ 覆盖/ 3.1/ 问题/ 定义/ 面对/ 局部/ 范围/ 的/ 软件/ 改动/ 或/ 部分/ 缺陷/ 的/ 修正/ ,/ 选择性/ 回归/ 测试/ 是/ 理想/ 选择/ ./ 在/ 选择性/ 回归/ 测试/ 下/ ,/ 测试/ 需求/ 集/ 被/ 分割/ 为/ 关注/ 需求/ 集/ 和/ 无关/ 需求/ 集/ ./ 有/ 如下/ 定义/ ./ 定义/ 7/ ./ 关注/ 需求/ 集/ ./ 关注/ 需求/ 集/ CR/ (/ CR/ / R/ )/ 包含/ 本次/ 选择性/ 回归/ 测试/ 中/ 必须/ 覆盖/ 的/ 测试/ 需求/ ,/ 同/ 最近/ 的/ 软件/ 改动/ 和/ 修正/ 相关/ ./ 定义/ 8/ ./ 无关/ 需求/ 集/ ./ 无关/ 需求/ 集/ 包含/ 本次/ 选择性/ 回归/ 测试/ 不/ 需要/ 覆盖/ 的/ 测试/ 需求/ ,/ 同/ 最近/ 的/ 软件/ 改动/ 和/ 修正/ 无关/ ./ 无关/ 需求/ 集可/ 标记/ 为/ R/ -/ CR/ ./ 其中/ “/ -/ ”/ 操作/ 的/ 定义/ 是/ :/ 给定/ 集合/ A/ 和/ B/ ,/ A/ -/ B/ =/ {/ x/ |/ x/ ∈/ A/ ∧/ x/ / B/ }/ ./ 根据上述/ 定义/ ,/ 针对/ 测试/ 需求/ 集/ 部分/ 覆盖/ 问题/ 可以/ 形式化/ 定义/ 一个多/ 目标/ 测试用例/ 集约/ 简/ 问题/ ,/ 表述/ 如下/ :/ 给定/ 备选/ 用/ 例集/ T/ 、/ 测试/ 需求/ 集/ R/ 和/ 关注/ 需求/ 集/ CR/ ,/ 给定/ 需求/ 覆盖/ 矩阵/ Δ/ ,/ 令/ / tj/ ∈/ T/ ./ Rj/ ≠/ / 且/ / ri/ ∈/ R/ ./ Ti/ ≠/ / ./ 要求/ 寻找/ 关注/ 需求/ 集/ 的/ 最优/ 代表/ 用/ 例集/ γ/ C/ ,/ 满足/ 目标/ 1/ ./ γ/ C/ 中/ 测试用例/ 数量/ 最少/ ,/ 即/ min/ (/ |/ γ/ C/ |/ )/ ;/ 目标/ 2/ ./ 无关/ 需求/ 的/ 覆盖/ 数量/ 最少/ ,/ 即/ mini/ ,/ j/ (/ |/ {/ ri/ |/ ri/ ∈/ R/ -/ CR/ ∧/ (/ / tj/ ∈/ γ/ C/ ./ δ/ ij/ =/ =/ 1/ )/ }/ |/ )/ ./ 3.2/ 问题/ 阐述/ Chen/ 等/ 人/ 在/ 介绍/ 其/ TestTube/ 工具/ [/ 14/ ]/ 时/ 提出/ 类似/ 关注/ 需求/ 集/ 的/ 概念/ ,/ 他们/ 的/ 设计/ 是/ 在/ 修正/ 软件缺陷/ 时/ 确定/ 同该/ 缺陷/ 相关/ 的/ 测试/ 覆盖/ 单元/ 集合/ (/ 即/ 本文/ 的/ 关注/ 需求/ 集/ )/ ,/ 然后/ 根据/ 确定/ 的/ 需求/ 集/ 寻找/ 合适/ 的/ 测试用例/ ./ 他们/ 没有/ 考虑/ 测试用例/ 集约/ 简/ 问题/ ./ 在/ 测试/ 需求/ 集/ 部分/ 覆盖/ 问题/ 中/ ,/ 测试/ 需求/ 集/ 分割/ 为/ 关注/ 需求/ 集/ 和/ 无关/ 需求/ 集/ ./ 选择/ 测试用例/ 时/ 要求/ 覆盖/ 关注/ 需求/ 集/ ,/ 同时/ 要求/ 避免/ 覆盖/ 无关/ 需求/ 集/ ./ 这个/ 约简/ 策略/ 基于/ 以下/ 三/ 方面/ 考虑/ :/ 其一/ 选择/ 测试用例/ 时/ 只/ 要求/ 覆盖/ 部分/ 测试/ 需求/ ,/ 约简/ 集/ 规模/ 相对/ 于全/ 覆盖/ 可以/ 进一步/ 减少/ ,/ 从而/ 降低/ 回归/ 测试/ 工作量/ 和/ 成本/ ./ 其二/ 避免/ 覆盖/ 无关/ 的/ 测试/ 需求/ 可以/ 有效/ 减少/ 测试/ 分析/ 的/ 工作量/ ,/ 因为/ 没有/ 涉及/ 无关/ 的/ 测试/ 需求/ 和/ 代码/ ;/ 另一方面/ 一些/ 状态/ 为/ “/ 挂/ 起/ ”/ 的/ 缺陷/ 没有/ 立刻/ 修复/ ,/ 避免/ 覆盖/ 相关/ 需求/ 可以/ 减少/ 额外/ 的/ 用于/ “/ 关闭/ ”/ 这些/ 缺陷/ 的/ 代码/ ./ 其三/ 选择性/ 回归/ 测试/ 增加/ 了/ 软件系统/ 的/ 可/ 测试/ 性/ ,/ 尤其/ 是/ 在/ 软件开发/ 的/ 前期/ ,/ 部分/ 组件/ 尚未/ 完成/ ;/ 如果/ 能够/ 避免/ 覆盖/ 和/ 这些/ 组件/ 相关/ 的/ 测试/ 需求/ ,/ 则/ 只/ 需/ 补充/ 简单/ 的/ 测试/ “/ 桩/ ”/ 就/ 可以/ 实施/ 已/ 完成/ 组件/ 的/ 回归/ 测试/ ./ 上述/ 思想/ 在/ 西门子公司/ 内部/ 软件开发/ 项目/ 测试/ 中/ 已/ 得到/ 了/ 验证/ ./ 4HATS/ 算法/ 4.1/ 启发式/ 贪婪/ 搜索/ 框架/ 多/ 目标/ 测试用例/ 集约/ 简/ 问题/ 仍然/ 是/ 一个/ NP/ 完全/ 问题/ ./ 解决/ 该/ 问题/ 可/ 采用/ 如下/ 的/ 启发式/ 贪婪/ 搜索/ 框架/ :/ 1/ ./ 采用/ 一种/ 策略/ 从/ 当前/ 备选/ 用/ 例集/ T/ 中/ 选择/ 最合适/ 的/ 一个/ 或/ 多个/ 测试用例/ ;/ 2/ ./ 将/ 所/ 选用/ 例从/ T/ 中/ 移出/ 并/ 置入/ 输出/ (/ 约简/ )/ 集/ ;/ 3/ ./ 从/ 关注/ 需求/ 集/ CR/ 中/ 移除/ 已/ 覆盖/ 的/ 测试/ 需求/ ;/ 4/ ./ 重复/ 上述/ 步骤/ 直至/ CR/ 为/ 空集/ ./ 步/ 1/ 中/ 可/ 采用/ 以下/ 3/ 种/ 策略/ 之一/ :/ 贪婪/ 策略/ 、/ 必/ 针对/ 多/ 目标/ 测试用例/ 集约/ 简/ ,/ 一个/ 简单/ 的/ 贪婪/ 选/ 策略/ 和/ 替代/ 策略/ ./ 4.2/ 贪婪/ 策略/ 策略/ 可以/ 描述/ 如下/ ./ 策略/ 1/ ./ 选择/ 当前/ 最/ “/ 合适/ ”/ 的/ 测试用例/ tj/ (/ tj/ ∈/ T/ ∧/ tj/ / γ/ C/ )/ ,/ 覆盖/ “/ 尽可能/ ”/ 多/ 的/ 关注/ 测试/ 需求/ ,/ 同时/ 覆盖/ “/ 尽可能/ ”/ 少/ 的/ 无关/ 测试/ 需求/ ./ Page4/ 这里/ 的/ 折中/ 问题/ 是/ 覆盖/ 较/ 多/ 关注/ 需求/ 的/ 测试用例/ 通常/ 也/ 会/ 覆盖/ 较/ 多/ 的/ 无关/ 需求/ ./ 这/ 引出/ 以下/ 两个/ 指标/ 定义/ 不同/ 方面/ 的/ 覆盖/ 情况/ ./ 定义/ 9/ ./ 贡献/ 指标/ ./ 令/ 当前/ 尚未/ 覆盖/ 的/ 关注/ 需求/ 集合/ 为/ cur/ _/ CR/ ,/ 测试用例/ tj/ 的/ 贡献/ 指标/ (/ 标记/ 为/ / j/ )/ 定义/ 为/ tj/ 所/ 覆盖/ 的/ 关注/ 需求/ 占/ cur/ _/ CR/ 的/ 比例/ ./ 用式/ (/ 2/ )/ 表示/ :/ 定义/ 10/ ./ 损益/ 指标/ ./ 给定/ 无关/ 需求/ 集/ R/ -/ CR/ ,/ 测试用例/ tj/ 的/ 损益/ 指标/ (/ 标记/ 为/ υ/ j/ )/ 定义/ 为/ tj/ 未/ 覆盖/ 的/ 无关/ 需求/ 占/ R/ -/ CR/ 的/ 比例/ ./ 用式/ (/ 3/ )/ 表示/ :/ 贡献/ 指标/ 反映/ 给定/ 测试用例/ 对/ 关注/ 需求/ 的/ 覆盖/ 情况/ ,/ 而/ 损益/ 指标/ 反映/ 该/ 测试用例/ 对/ 无关/ 需求/ 的/ 避免/ 情况/ ./ 一个/ 理想/ 的/ 测试用例/ 应该/ 同时/ 具有/ 较/ 高/ 的/ 贡献/ 指标/ 和/ 损益/ 指标/ ,/ 但/ 通常/ 难以/ 兼得/ ./ 为/ 反映/ 两个/ 指标/ 的/ 权衡/ ,/ 我们/ 定义/ 权重/ 因子/ α/ (/ 0/ / α/ / 1/ )/ ,/ 通过/ 加权/ 平均/ 定义/ 以下/ 指标/ ./ 定义/ 11/ ./ 效用/ 指标/ ./ 给定/ 权重/ 因子/ α/ ,/ 测试用例/ tj/ 的/ 效用/ 指标/ (/ 标记/ 为/ ω/ j/ )/ 定义/ 为/ 其/ 贡献/ 指标/ / j/ 和/ 损益/ 指标/ υ/ j/ 的/ 加权/ 平均/ ./ 用式/ (/ 4/ )/ 表示/ :/ 通过/ 对/ α/ 的/ 不同/ 设定/ 可/ 调整/ 对/ 不同/ 目标/ 的/ 偏重/ ./ 基于/ 效用/ 指标/ ,/ 贪婪/ 策略/ 可/ 描述/ 如下/ ./ 策略/ 2/ ./ 对/ 当前/ 备选/ 集中/ 所有/ 测试用例/ ,/ 计算/ 其/ 效用/ 指标/ ./ 从中/ 选择/ 具有/ 最大/ 效用/ 指标/ 的/ 测试用例/ tj/ ./ 4.3/ 必选/ 策略/ 和/ 替代/ 策略/ 为/ 描述/ 这/ 两个/ 策略/ ,/ 我们/ 有/ 以下/ 定义/ ./ 定义/ 12/ ./ 必选/ 测试用例/ ./ 给定/ 当前/ 的/ 备选/ 用/ 例集/ T/ ,/ 测试用例/ tj/ 是/ 测试/ 需求/ ri/ 的/ 必选/ 测试用例/ (/ 标记/ 为/ essi/ )/ 当且/ 仅/ 当/ tj/ 是/ T/ 中/ 唯一/ 覆盖/ ri/ 的/ 测试用例/ ./ 定义/ 13/ ./ 替代/ 集/ ./ 给定/ 当前/ 的/ 关注/ 需求/ 集/ cur/ _/ CR/ 和/ 初始/ 关注/ 集/ CR/ ,/ 测试用例/ tj/ 存在/ 替代/ 集/ (/ 标记/ 为/ SUPj/ )/ 当且/ 仅/ 当/ 对/ 任意/ tk/ ∈/ SUPj/ ,/ 其/ 覆盖/ 需求/ 集/ 满足/ Rj/ ∩/ cur/ _/ CR/ / Rk/ ∩/ cur/ _/ CR/ 并且/ Rj/ ∩/ (/ R/ -/ CR/ )/ / Rk/ ∩/ (/ R/ -/ CR/ )/ ./ 给定/ 关注/ 需求/ ri/ ,/ 其/ 必选/ 测试用例/ essi/ (/ 如果/ 存在/ )/ 是/ 当前/ 唯一/ 覆盖/ ri/ 的/ 测试用例/ ,/ 据此/ 可以/ 描述/ 必选/ 策略/ 如下/ :/ (/ 1/ )/ 对/ 当前/ 尚未/ 覆盖/ 的/ 一个/ 关注/ 需求/ ,/ 若/ 其存/ 给定/ 备选/ 测试用例/ tj/ ,/ 若/ tj/ 存在/ 替代/ 集/ ,/ 表示/ 存在/ 必选/ 测试用例/ ,/ 则/ 该/ 用例/ 被/ 选择/ ./ 在/ 备选/ 测试用例/ tk/ ,/ tk/ 覆盖/ 的/ 关注/ 需求/ 包含/ tj/ 覆盖/ 的/ 关注/ 需求/ ,/ 而/ tk/ 覆盖/ 的/ 无关/ 需求/ 又/ 被/ tj/ 覆盖/ 的/ 无关/ 需求/ 所/ 包含/ ./ 这/ 说明/ tk/ 可以/ 替代/ tj/ ,/ 据此/ 描述/ 替代/ 策略/ 如下/ :/ (/ 2/ )/ 对/ 当前/ 一个/ 备选/ 测试用例/ ,/ 若/ 其/ 存在/ 替代/ 集/ ,/ 则/ 该/ 测试用例/ 可以/ 从/ 备选/ 用例/ 集中/ 删除/ ./ 上述/ 策略/ 同/ GRE/ 算法/ 中/ 的/ 用例/ 筛选/ 策略/ 类似/ ,/ 但/ 可/ 用于/ 多/ 目标/ 测试用例/ 集约/ 简/ 技术/ 中/ ./ 针对/ 必选/ 策略/ 和/ 替代/ 策略/ 不难/ 证明/ 有/ 以下/ 定理/ ./ 定理/ 1/ ./ 在/ 启发式/ 贪婪/ 搜索/ 框架/ 下/ ,/ 给定/ 尚未/ 覆盖/ 的/ 测试/ 需求/ ri/ (/ 即/ ri/ ∈/ cur/ _/ CR/ )/ ,/ 若/ ri/ 存在/ 必选/ 测试用例/ essi/ ,/ 则/ essi/ 必/ 被/ 选入/ 约简/ 集/ γ/ C/ ./ 证明/ ./ 因为/ essi/ 是/ 当前/ 备选/ 集中/ 唯一/ 覆盖/ 关注/ 需求/ ri/ 的/ 用例/ ;/ 而/ 关注/ 集中/ 的/ 所有/ 需求/ 必须/ 被/ 约简/ 集/ γ/ C/ 中/ 的/ 某个/ 测试用例/ 覆盖/ ;/ 所以/ 有/ essi/ ∈/ γ/ C/ ./ 定理/ 得证/ ./ 引理/ 1/ ./ 在/ 启发式/ 贪婪/ 搜索/ 框架/ 下/ ,/ 给定/ 当前/ 尚未/ 覆盖/ 的/ 关注/ 需求/ 集/ cur/ _/ CR/ ,/ 若/ 备选/ 集中/ 测试用例/ tj/ 存在/ 替代/ 集/ ,/ 则/ 不/ 选择/ tj/ 而是/ 选择/ 其/ 替代/ 用例/ (/ 如/ tk/ )/ 进入/ 约简/ 集/ γ/ C/ 将/ 使得/ 新/ 约简/ 集/ 相对/ 于/ 部分/ 覆盖/ 约简/ 目标/ 等同/ 或/ 更优/ ./ 证明/ ./ tj/ 已/ 被/ 选入/ γ/ C/ ,/ 分/ 两种/ 情况/ :/ (/ 1/ )/ 如果/ tj/ 和/ tk/ 同时/ 被/ 选入/ γ/ C/ ,/ 那么/ tj/ 属于/ 冗余/ ,/ 直接/ 删除/ tj/ 会/ 减少/ |/ γ/ C/ |/ ,/ 从而/ 使/ 新/ 的/ γ/ C/ 相对/ 于/ 目标/ 1/ 更优/ ;/ (/ 2/ )/ 如果/ tk/ 没有/ 被/ 选入/ γ/ C/ ,/ 那么/ 将/ tj/ 替换/ 为/ tk/ 仍然/ 满足/ 对/ CR/ 中/ 所有/ 需求/ 的/ 覆盖/ ,/ 同时/ 对/ 无关/ 需求/ 的/ 覆盖/ 程度/ 相等/ 或/ 更/ 小/ ,/ 因此/ 新/ 的/ γ/ C/ 相对/ 于/ 目标/ 2/ 等同/ 或/ 更优/ ./ 引理/ 得证/ ./ 定理/ 2/ ./ 如果/ 采用/ 启发式/ 贪婪/ 搜索/ 框架/ ,/ 仅/ 使用/ 必选/ 策略/ 和/ 替代/ 策略/ 就/ 可以/ 得到/ 约简/ 集/ γ/ C/ ,/ 那么/ 所/ 得到/ 的/ γ/ C/ 相对/ 于/ 部分/ 覆盖/ 约简/ 目标/ 最优/ ./ 证明/ ./ 反证法/ ./ 假设/ 存在/ γ/ C/ 比/ γ/ C/ 更优/ ,/ 那么/ 有/ |/ γ/ C/ |/ / |/ γ/ C/ |/ ./ 按/ 启发式/ 搜索/ 框架/ ,/ 可/ 将/ γ/ C/ 中/ 的/ 测试用例/ 按/ 选择/ 顺序/ 排序/ ./ 不失/ 一般性/ ,/ 令/ γ/ C/ =/ {/ t1/ ,/ t2/ ,/ …/ ,/ t/ |/ γ/ C/ |/ }/ ,/ 其中/ 测试用例/ tj/ 或者/ 是/ 唯一/ 一个/ 覆盖/ 某/ 关注/ 需求/ 的/ 用例/ ;/ 或者/ 经过/ 替代/ 策略/ 筛选/ 后/ 成为/ 某/ 关注/ 需求/ 的/ 必/ 选用/ 例/ ./ 将/ γ/ C/ 中用例/ tj/ 同/ γ/ C/ 中用例/ tj/ 匹配/ ,/ 匹配/ 原则/ 是/ :/ 或者/ tj/ ≡/ tj/ ,/ 或者/ tj/ 覆盖/ tj/ 唯一/ 覆盖/ 的/ 需求/ ,/ 直至/ γ/ C/ 为空/ ./ 匹配/ 后/ 寻找/ 第一个/ 不/ 相同/ 的/ 测试用例/ ./ 存在/ 3/ 种/ 情况/ :/ (/ 1/ )/ 第一个/ 用例/ 不/ 相同/ ,/ 即/ t1/ ≠/ t1/ ./ 此时/ t1/ 必然/ 是/ t1/ 的/ 替代/ 用例/ ;/ 根据/ 引理/ 1/ ,/ 用/ t1/ 替代/ t1/ 所得/ 约简/ 集/ 仍然/ 最优/ ;/ (/ 2/ )/ 第/ j/ (/ j/ >/ 1/ )/ 个/ 用例/ 不/ 相同/ ,/ 即/ tj/ ≠/ tj/ ./ 在/ 选定/ Page5/ {/ t1/ ,/ …/ ,/ tj/ -/ 1/ }/ 后/ ,/ 尚未/ 覆盖/ 的/ 关注/ 需求/ 集/ 构成/ cur/ _/ CR/ ,/ 其中/ 的/ 关注/ 需求/ 不/ 可能/ 为/ {/ t1/ ,/ …/ ,/ tj/ -/ 1/ }/ 所/ 能够/ 替代/ 的/ 测试用例/ 覆盖/ ./ 因此/ tj/ 依然/ 是/ (/ 或/ 成为/ )/ tj/ 的/ 替代/ 用例/ ;/ 根据/ 引理/ 1/ ,/ 用/ tj/ 替代/ tj/ 所得/ 约简/ 集/ 仍然/ 最优/ ;/ (/ 3/ )/ 第/ j/ 个/ 用例/ 不能/ 匹配/ ./ 表明/ 存在/ tk/ (/ tk/ ∈/ γ/ C/ ∧/ k/ </ j/ )/ 覆盖/ 了/ tj/ 唯一/ 覆盖/ 的/ 关注/ 需求/ ./ 这/ 说明/ tk/ 相对/ 于/ tk/ 覆盖/ 了/ 更/ 多/ 的/ 关注/ 需求/ ,/ tk/ 不能/ 成为/ tk/ 的/ 替代/ 用例/ ,/ 从而/ 也/ 不能/ 成为/ 相应/ 需求/ 的/ 必/ 选用/ 例/ ./ 这同/ γ/ C/ 的/ 构成/ 原则/ 矛盾/ ./ 由于/ 第/ (/ 3/ )/ 种/ 情况/ 不能/ 成立/ ,/ 按/ 第/ (/ 1/ )/ 和/ (/ 2/ )/ 两种/ 情况/ 得出/ γ/ C/ 至少/ 和/ γ/ C/ 相对/ 于/ 部分/ 覆盖/ 约简/ 目标/ 等同/ ,/ 这同/ 假设/ 矛盾/ ./ 定理/ 得证/ ./ 实际/ 的/ 约简/ 过程/ 可能/ 无法/ 达到/ 理想/ 状态/ ,/ 即/ 在/ 约简/ 过程/ 中/ 存在/ 必选/ 策略/ 无法/ 应用/ 的/ 情况/ ./ 此时/ 需要/ 使用/ 贪婪/ 策略/ 选择/ 当前/ 效用/ 指标/ 最高/ 的/ 测试用例/ ,/ 所/ 得到/ 的/ 约简/ 集/ 不再/ 是/ 最优/ ./ 4.4/ 算法/ 描述/ HATS/ 算法/ 遵循/ 启发式/ 贪婪/ 搜索/ 框架/ ,/ 应用/ 必选/ 策略/ 、/ 替代/ 策略/ 和/ 贪婪/ 策略/ 完成/ 部分/ 覆盖/ 测试用例/ 集约/ 简/ ./ 算法/ 描述/ 如图/ 1/ 所示/ ./ 算法/ HATS/ 输入/ :/ R/ :/ 测试/ 需求/ 集/ T/ :/ 备选/ 测试用例/ 集/ CR/ :/ 关注/ 测试/ 需求/ 集/ Δ/ :/ |/ R/ |/ ×/ |/ T/ |/ 二进制/ 覆盖/ 矩阵/ α/ :/ 权重/ 因子/ 输出/ :/ γ/ C/ :/ 约简/ 集/ 变量/ :/ cur/ _/ CR/ :/ 当前/ 尚未/ 覆盖/ 的/ 关注/ 需求/ 集/ cur/ _/ T/ :/ 当前/ 备选/ 测试用例/ 集/ cur/ _/ Select/ :/ 本次/ 选择/ 的/ 测试用例/ 集/ Rj/ :/ 用例/ tj/ 的/ 覆盖/ 需求/ 集/ begin/ // / 初始化/ / // γ/ C/ =/ / ;/ cur/ _/ CR/ =/ CR/ ;/ cur/ _/ T/ =/ T/ ;/ while/ (/ cur/ _/ CR/ ≠/ / )/ // / 替代/ 策略/ / // foreach/ (/ tj/ ∈/ cur/ _/ T/ )/ 基于/ cur/ _/ T/ 计算/ SUPj/ ;/ if/ (/ SUPj/ ≠/ / )/ cur/ _/ T/ =/ cur/ _/ T/ -/ {/ tj/ }/ ;/ endifendforcur/ _/ Select/ =/ / ;/ // / 必选/ 策略/ / // foreach/ (/ ri/ ∈/ cur/ _/ CR/ )/ 查找/ essi/ ;/ if/ (/ essi/ ≠/ null/ )/ cur/ _/ Select/ =/ cur/ _/ Select/ ∪/ {/ essi/ }/ ;/ endifendforif/ (/ cur/ _/ Select/ =/ =/ / )/ // / 贪婪/ 策略/ / // foreach/ (/ tj/ ∈/ cur/ _/ T/ )/ 计算/ 其/ 效用/ 值/ ω/ j/ ;/ cur/ _/ Select/ =/ {/ 具有/ max/ (/ ω/ j/ )/ 的/ 第/ 1/ 个/ tj/ }/ ;/ endif/ // / 后续/ 处理/ / // foreach/ (/ tj/ ∈/ cur/ _/ Select/ )/ cur/ _/ CR/ =/ cur/ _/ CR/ -/ Rj/ ;/ endforcur/ _/ T/ =/ cur/ _/ T/ -/ cur/ _/ Select/ ;/ γ/ C/ =/ γ/ C/ ∪/ cur/ _/ Select/ ;/ endwhile/ 在/ 每/ 一次/ 外层/ 循环/ (/ while/ 循环/ )/ 中/ ,/ 首先/ 应用/ 替代/ 策略/ 筛除/ 当前/ 备/ 选集/ (/ cur/ _/ T/ )/ 中/ 可以/ 被/ 替代/ 的/ 测试用例/ ./ 然后/ 针对/ 当前/ 关注/ 需求/ 集/ (/ cur/ _/ CR/ )/ 中/ 的/ 每/ 一个/ (/ 未/ 覆盖/ )/ 测试/ 需求/ ri/ ,/ 检查/ 其/ 是否/ 存在/ essi/ ,/ 即/ 是否/ 可以/ 应用/ 必选/ 策略/ ;/ 所/ 选择/ 的/ 必选/ 测试用例/ 构成/ cur/ _/ Select/ ./ 如果/ 必选/ 策略/ 不能/ 应用/ ,/ 则/ 应用/ 贪婪/ 策略/ 选择/ 具有/ 最高/ 效用/ 值/ (/ ω/ j/ )/ 的/ 测试用例/ tj/ 构成/ cur/ _/ Select/ ./ 最后/ 将/ cur/ _/ Select/ 从/ cur/ _/ T/ 中/ 移出/ 并入/ 约简/ 集/ γ/ C/ ,/ 从/ cur/ _/ CR/ 中/ 删除/ 已经/ 覆盖/ 的/ 关注/ 需求/ ./ 重复/ 外层/ 循环/ 直至/ cur/ _/ CR/ 为空/ ./ 考虑/ 算法/ 的/ 性能/ ,/ 根据/ 必选/ 策略/ 和/ 贪婪/ 策略/ ,/ 每次/ 循环/ 至少/ 选择/ 备/ 选集/ T/ 中/ 一个/ 测试用例/ ,/ 该/ 用例/ 至少/ 覆盖/ 并/ 移除/ 关注/ 需求/ 集/ CR/ 中/ 的/ 一个/ 需求/ ./ 初始/ 情况/ 下/ 有/ |/ T/ |/ 个/ 备选/ 用例/ 和/ |/ CR/ |/ 个/ 关注/ 需求/ ,/ 因此/ 外层/ 循环/ 的/ 次数/ 最多为/ min/ (/ |/ T/ |/ ,/ |/ CR/ |/ )/ ./ 循环体/ 包括/ 4/ 个/ 部分/ :/ 替代/ 策略/ 部分/ 复杂度/ 为/ O/ (/ |/ R/ |/ ×/ |/ T/ |/ 2/ )/ ./ 必选/ 策略/ 部分/ 、/ 贪婪/ 策略/ 部分/ 以及/ 后续/ 处理/ 部分/ 的/ 复杂度/ 均/ 为/ O/ (/ |/ R/ |/ ×/ |/ T/ |/ )/ ./ 累计/ 这/ 4/ 个/ 部分/ 的/ 时间/ 复杂度/ 得出/ 外层/ 循环体/ 的/ 时间/ 复杂度/ 为/ O/ (/ |/ R/ |/ ×/ |/ T/ |/ 2/ )/ ./ 按/ 以上/ 分析/ ,/ 令备/ 选集/ T/ 的/ 用例/ 数量/ 为/ m/ ,/ 需求/ 集/ R/ 的/ 需求/ 数量/ 为/ n/ ,/ HATS/ 算法/ 的/ 时间/ 复杂度/ 应为/ O/ (/ min/ (/ m/ ,/ n/ )/ (/ nm2/ )/ )/ ./ 这个/ 复杂度/ 虽然/ 达到/ 了/ n4/ 或/ m4/ 量级/ ,/ 和/ HGS/ 及/ GRE/ 算法/ 相当/ ./ 但/ HATS/ 算法/ 的/ 实际/ 性能/ 不至于/ 此/ ./ 我们/ 在实践中/ 应用/ HATS/ 算法/ 约简/ 104/ 级别/ 的/ 需求/ 集/ 和/ 102/ 级别/ 的/ 用/ 例集/ ,/ 所/ 需/ 执行/ 时间/ 不/ 超过/ 10s/ ./ 这个/ 时间/ 相对/ 于长/ 达数/ 小时/ 至/ 数天/ 的/ 回归/ 测试/ 时段/ 可以/ 忽略/ ./ 5/ 实例/ 分析/ 本文/ 的/ 创新性/ 贡献/ 包括/ 两个/ 方面/ :/ 一是/ 提出/ 部分/ 覆盖/ 用例/ 集约/ 简/ 概念/ ,/ 形式化/ 定义/ 多/ 目标/ 用例/ 集约/ 简/ 问题/ ,/ 在/ 选择性/ 回归/ 测试/ 中/ 进一步/ 减少/ 测试/ 工作量/ 和/ 成本/ ;/ 二是/ 提出/ HATS/ 算法/ 解决/ 该/ 问题/ ,/ 在/ 减少/ 约简/ 集/ 规模/ 的/ 同时/ 避免/ 对/ 无关/ 需求/ 的/ 覆盖/ ./ 为/ 验证/ 本文/ 所提/ 概念/ 和/ 技术/ 的/ 有效性/ ,/ 我们/ 设计/ 实验/ 解答/ 以下/ 问题/ ./ 分/ 覆盖/ 约简/ 技术/ 能否/ 进一步/ 减少/ 约简/ 集/ 的/ 规模/ ?/ 问题/ 1/ ./ 同全/ 覆盖/ 用例/ 集约/ 简/ 技术/ 相/ 比较/ ,/ 部/ 问题/ 2/ ./ 对于/ 部分/ 覆盖/ 用例/ 集约/ 简/ ,/ HATS/ 算法/ 能否/ 在/ 减少/ 约简/ 集/ 规模/ 的/ 同时/ 有效/ 降低/ 对/ 无关/ 需求/ 集/ 的/ 覆盖/ 比率/ ?/ 问题/ 3/ ./ 对于/ 部分/ 覆盖/ 用例/ 集约/ 简/ ,/ 约简/ 技术/ Page6/ 对/ 关注/ 需求/ 集/ 的/ 缺陷/ 检测/ 率/ 负面影响/ 程度/ 如何/ ?/ HATS/ 算法/ 能否/ 降低/ 对/ 缺陷/ 检测/ 率/ 的/ 负面影响/ ?/ 对/ 部分/ 覆盖/ 用例/ 集约/ 简/ 问题/ 的/ 两个/ 目标/ 影响/ 如何/ ?/ 5.1/ 实验设计/ 问题/ 4/ ./ HATS/ 算法/ 中/ 权重/ 因子/ α/ 的/ 不同/ 设置/ 为/ 回答/ 上述/ 问题/ ,/ 我们/ 选择/ 了/ 3/ 个/ 中等/ 规模/ 的/ 表/ 13/ 个/ 实验/ 对象/ 的/ 信息/ 标识/ N03NanoXMLv3N05NanoXMLv5J08JTopasr0/ ./ 815/ 我们/ 定义/ 语句/ 块/ 为/ 测试/ 需求/ ./ Java/ 语句/ 块/ 是/ 一串/ 没有/ 跳转/ 的/ 语句/ 或/ 表达式/ 集合/ ,/ 视为/ 测试/ 覆盖/ 的/ 基本/ 单元/ ./ 这/ 3/ 个/ 程序/ 的/ 初始/ 用/ 例集/ 都/ 未能/ 达到/ 100/ %/ 语句/ 块/ 覆盖率/ ,/ 这/ 在/ 业界/ 软件系统/ 测试/ 中是/ 一个/ 普遍现象/ ./ 即使/ 对/ 一个/ 相对/ 简单/ 的/ 软件程序/ ,/ 达到/ 100/ %/ 语句/ (/ 块/ )/ 覆盖率/ 也/ 需要/ 较大/ 的/ 成本/ [/ 15/ ]/ ./ 未/ 覆盖/ 的/ 测试/ 需求/ 在/ 实验/ 中/ 被/ 忽略/ ./ 在/ 每/ 一个/ 设计/ 的/ 实验/ 中/ ,/ 我们/ 选择/ 一个/ 类中/ 所/ 包含/ 的/ 测试/ 需求/ (/ 语句/ 块/ )/ 作为/ 该/ 实验/ 的/ 关注/ 需求/ 集/ ./ 这种/ 设计/ 对应/ 的/ 设想/ 是/ 这个/ 类/ 最近/ 被/ 更新/ 或/ 修复/ 了/ 缺陷/ ,/ 是/ 本次/ 选择性/ 回归/ 测试/ 关注/ 的/ 对象/ ./ 该/ 设计/ 可以/ 容易/ 地/ 扩展/ 到/ 多个/ 类/ 被/ 同时/ 修改/ 的/ 情况/ ./ N03/ 有/ 4/ 个类/ 包含/ 人工/ 植入/ 的/ 缺陷/ ,/ N06/ 有/ 6/ 个类/ 包含/ 植入/ 缺陷/ ,/ 据此/ 我们/ 设定/ 10/ 个/ 对应/ 实验/ ;/ 对于/ J08/ 我们/ 选择/ 8/ 个/ 具有/ 高/ 语句/ 块/ 覆盖率/ 的/ 类/ 并/ 设定/ 8/ 个/ 对应/ 实验/ ./ 表/ 2/ 列举/ 了/ 这/ 18/ 个/ 实验/ 的/ 相关/ 信息/ ./ 其中/ CRcovered/ 表示/ 关注/ 需求/ 集中/ 被/ 初始/ 用/ 例集/ 覆盖/ 的/ 关注/ 需求/ 集合/ ./ 实验/ 标识/ N03N05N03/ -/ 1StdXMLBuilder3632N03/ -/ 2StdXMLParser10886N03/ -/ 3XMLElement206118N03/ -/ 4XMLException2711N05/ -/ 1ContentReader3424N05/ -/ 2NonValidator9862N05/ -/ 3StdXMLParser11995N05/ -/ 4StdXMLReader10454N05/ -/ 5XMLEntityResolver1917N05/ -/ 6XMLUtilJ08/ -/ 1J08/ -/ 2StandardTokenizer3332J08/ -/ 3TokenizerProperty6652J08/ -/ 4StandardTokenizerProperties234181J08/ -/ 5PatternMatcher2822J08/ -/ 6SequenceStore8375J08/ -/ 7TokenizerException1513J08/ -/ 8CharArraySource1616J08/ 开源/ Java/ 软件程序/ ./ 第/ 1/ 、/ 2/ 个/ 为/ NanoXML/ 的/ 不同/ 版本/ (/ 下载/ 于/ http/ :/ // // sir/ ./ unl/ ./ edu/ )/ ,/ 我们/ 选择/ NanoXML/ 第/ 3/ 和/ 第/ 5/ 版/ 作为/ 实验/ 对象/ ./ 第/ 3/ 个/ 是/ JTopas/ (/ 下载/ 于/ Sourceforge/ )/ ,/ 我们/ 选择/ 其/ 最新/ 版本/ 和/ 相应/ 的/ 用/ 例集/ 作为/ 实验/ 对象/ ./ 表/ 1/ 列举/ 了/ 这/ 3/ 个/ Java/ 程序/ 的/ 相关/ 信息/ ./ 2142314785.2/ 约简/ 集/ 规模/ 首先/ 需要/ 考虑/ 的/ 问题/ 是/ 部分/ 覆盖/ 用例/ 集约/ 简/ 是否/ 能够/ 进一步/ 减少/ 约简/ 集/ 的/ 规模/ 以及/ HATS/ 算法/ 在/ 这方面/ 的/ 性能/ 如何/ ./ 我们/ 采用/ Matlab/ (/ http/ :/ // // www/ ./ mathworks/ ./ com/ // )/ 分别/ 实现/ 了/ HGS/ [/ 1/ ]/ 算法/ 、/ GRE/ [/ 2/ ]/ 算法/ 、/ BIP/ [/ 6/ ]/ 算法/ 和/ 本文/ 提出/ 的/ HATS/ 算法/ ,/ 其中/ HGS/ 、/ GRE/ 和/ BIP/ 算法/ 可以/ 采用/ 需求/ 集/ R/ 和/ 初始/ (/ 备选/ )/ 用/ 例集/ T/ 为/ 输入/ (/ 分别/ 标记/ 为/ HGST/ 、/ GRET/ 和/ BIPT/ )/ ,/ 以/ 代表/ 全/ 覆盖/ 用例/ 集约/ 简/ ;/ 也/ 可/ 采用/ 关注/ 需求/ 集/ CR/ 和备/ 选集/ T/ 为/ 输入/ (/ 标记/ 为/ HGSS/ 、/ GRES/ 和/ BIPS/ )/ ,/ 以/ 代表/ 单/ 目标/ 部分/ 覆盖/ 用例/ 集约/ 简/ ./ HATS/ 算法/ 通过/ 对/ 权重/ 因子/ α/ 的/ 不同/ 设置/ 运行/ 多个/ 实例/ ,/ 如/ HATS0/ ./ 5/ 表示/ 该/ 实例/ 中/ 因子/ α/ 设置/ 为/ 0.5/ ./ 图/ 2/ 用箱/ 形图/ (/ box/ -/ plot/ )/ 描述/ 了/ 不同/ 算法/ 实例/ 在/ 18/ 个/ 实验/ 中/ 运行/ 得到/ 的/ 约简/ 集/ 规模/ 分布/ ./ 为/ 便于/ 在/ 不同/ 程序/ 间/ 比较/ ,/ 初始/ 用/ 例集/ 规模/ 被/ 归一化/ 为/ 100/ ,/ 算法/ 执行/ 得到/ 的/ 约简/ 集/ 规模/ 表示/ 为/ 相应/ 初始/ 集/ 规模/ 的/ 百分比/ 值/ ./ 根据/ 图/ 2/ 不难看出/ ,/ 同全/ 覆盖/ 用例/ 集约/ 简/ 相比/ ,/ 部分/ 覆盖/ 用例/ 集约/ 简/ 技术/ 能够/ 进一步/ 较/ 大幅度/ 减少/ 约简/ 集/ γ/ C/ 的/ 规模/ ./ 在/ 一些/ 实验/ 中/ 的/ 降低/ 幅度/ 很/ 可/ Page7/ 观/ ,/ 如/ 在/ N05/ -/ 1/ 和/ J08/ -/ 2/ 中/ ,/ 部分/ 覆盖/ 约简/ 所/ 得到/ 的/ 最小/ γ/ C/ 只/ 包含/ 1/ 个/ 测试用例/ ,/ 其/ 原因/ 是/ 相应/ 的/ 关注/ 需求/ 集/ CR/ 在/ 需求/ 集/ R/ 中所/ 占/ 的/ 比例/ 较/ 小/ ./ 在/ 所有/ 18/ 个/ 实验/ 中/ ,/ HGS/ 、/ GRE/ 和/ BIP/ 算法/ 得到/ 的/ 约简/ 集/ 规模/ |/ γ/ C/ |/ 基本相同/ ,/ 不管/ 输入/ 是/ 需求/ 集/ R/ 还是/ 关注/ 需求/ 集/ CR/ 皆/ 如此/ ;/ 唯一/ 的/ 差异/ 出现/ 在/ J08/ -/ 4/ ,/ 在/ 以/ CR/ 为/ 输入/ 时/ ,/ HGSS/ 得到/ 的/ 约简/ 集比/ 其它/ 两个/ 算法/ 多/ 1/ 个/ 用例/ ./ 算法/ HATS/ 中/ HATS1/ 得到/ 的/ |/ γ/ C/ |/ 和/ 其它/ 3/ 个/ 全/ 覆盖/ 约简/ 算法/ 以/ CR/ 为/ 输入/ 时/ 得到/ 的/ 值/ 相同/ ,/ 唯一/ 的/ 区别/ 出现/ 在/ N05/ -/ 6/ ,/ 此时/ HATS1/ 多选/ 了/ 1/ 个/ 用例/ ./ 在/ 部分/ 覆盖/ 约简/ 算法/ 和/ 实例/ 中/ ,/ HATS0/ 得到/ 的/ |/ γ/ C/ |/ 总是/ 最大/ ,/ 但/ 仍然/ 远/ 小于/ 全/ 覆盖/ 约简/ 算法/ 的/ 结果/ ./ HATS0/ ./ 5/ 得到/ 的/ |/ γ/ C/ |/ 同/ HATS1/ 相差/ 不/ 大/ ,/ 在/ 所有/ 的/ 实验/ 中/ 最/ 多/ 不/ 超过/ 1/ 个/ 测试用例/ ./ 5.3/ 无关/ 需求/ 集/ 的/ 覆盖率/ 第/ 2/ 个/ 考虑/ 的/ 问题/ 是/ 同单/ 目标/ 部分/ 覆盖/ 约简/ 技术/ 相比/ ,/ HATS/ 算法/ 能否/ 进一步/ 降低/ 对/ 无关/ 需求/ 集/ 的/ 覆盖率/ ./ 我们/ 以/ 关注/ 需求/ 集/ CR/ 为/ 输入/ 运行/ HGS/ 、/ GRE/ 和/ BIP/ 算法/ ,/ 并/ 通过/ α/ 的/ 不同/ 设置/ 运行/ HATS/ 的/ 多个/ 实例/ ./ 在/ 各/ 实验/ 中/ 我们/ 测量/ 算法/ 所得/ 约简/ 集对/ 无关/ 需求/ 集/ 的/ 覆盖/ 百分比/ 值/ (/ 标记/ 为/ Cov/ |/ R/ -/ CR/ |/ )/ ,/ 其中/ 初始/ 用例/ 集未/ 覆盖/ 的/ 无关/ 需求/ 被/ 忽略/ ./ 图/ 3/ 用箱/ 形图/ 描述/ 了/ 各个/ 算法/ 在/ 18/ 个/ 实验/ 中/ 所得/ 约简/ 集/ 的/ Cov/ |/ R/ -/ CR/ |/ 分布/ ./ 可以/ 看出/ ,/ 部分/ 覆盖/ 约简/ 技术/ 可以/ 减少/ 对/ 无关/ 需求/ 的/ 覆盖/ ./ 各个/ 算法/ 的/ Cov/ |/ R/ -/ CR/ |/ 均值/ 大约/ 在/ 60/ %/ 上下/ ,/ 这/ 意味着/ 在/ 平均/ 情况/ 下约/ 有/ 40/ %/ 的/ 无关/ 需求/ 可以/ 避免/ ,/ 从而/ 减少/ 回归/ 测试/ 执行/ 和/ 分析/ 的/ 工作量/ ./ 图/ 3/ 不同/ 算法/ 所得/ 约简/ 集对/ 无关/ 需求/ 的/ 覆盖/ 百分比/ 值/ 各/ 算法/ 得到/ 的/ Cov/ |/ R/ -/ CR/ |/ 偏差/ 范围/ 普遍/ 较大/ ./ 以/ CR/ 为/ 输入/ 的/ 3/ 个/ 全/ 覆盖/ 约简/ 算法/ 虽然/ 得到/ 的/ 约简/ 集/ 规模/ 相当/ ,/ 但/ 由于/ 选定/ 的/ 测试用例/ 各不相同/ ,/ 其/ Cov/ |/ R/ -/ CR/ |/ 有/ 一定/ 差异/ ./ 其中/ BIPS/ 所得/ 偏差/ 范围/ 相对/ 较/ 小/ ,/ 但/ 在/ 多个/ 实验/ 中/ BIPS/ 得到/ 最差/ 的/ Cov/ |/ R/ -/ CR/ |/ 值/ ./ 对于/ HATS/ 算法/ ,/ HATS1/ 得到/ 的/ Cov/ |/ R/ -/ CR/ |/ 值/ 和/ 3/ 个/ 算法/ 相当/ ,/ 但/ 具有/ 最小/ 的/ 偏差/ 范围/ ./ HATS0/ 虽然/ 以/ 避免/ 对/ 无关/ 需求/ 的/ 覆盖/ 为/ 唯一/ 目标/ ,/ 但/ 由于/ 选择/ 了/ 较/ 多/ 的/ 测试用例/ ,/ 所得/ 的/ Cov/ |/ R/ -/ CR/ |/ 值/ 常常/ 较差/ ./ 在/ 绝大多数/ 实验/ 中/ ,/ HATS0/ ./ 5/ (/ 平衡/ 考虑/ 减少/ 约简/ 集/ 规模/ 和/ 避免/ 无关/ 需求/ 覆盖/ )/ 得到/ 了/ 最小/ 的/ Cov/ |/ R/ -/ CR/ |/ 值/ ;/ 两个/ 例外/ 是/ N05/ -/ 4/ 和/ N08/ -/ 4/ ,/ 其/ 最小值/ 都/ 来自/ HATS1/ ./ 综上所述/ ,/ 在/ 部分/ 覆盖/ 约简/ 技术/ 中/ ,/ 只要/ 权重/ 因子/ α/ 的/ 设置/ 适当/ ,/ HATS/ 算法/ 能够/ 进一步/ 减少/ 对/ 无关/ 需求/ 的/ 覆盖/ 比率/ ./ 5.4/ 缺陷/ 检测/ 能力/ 第/ 3/ 个/ 考虑/ 的/ 问题/ 是/ 部分/ 覆盖/ 约简/ 技术/ 对/ 关注/ 需求/ 集/ 相关/ 缺陷/ 检测/ 能力/ 的/ 负面影响/ 以及/ HATS/ 算法/ 能否/ 缓解/ 负面影响/ ./ 在/ 18/ 个/ 实验/ 中/ ,/ 我们/ 首先/ 测量/ 初始/ 用/ 例集/ 能够/ 达到/ 的/ 针对/ 关注/ 需求/ 集/ 的/ 缺陷/ 检测/ 率/ ./ 然后/ 分别/ 运行/ HGS/ 、/ GRE/ 、/ BIP/ 和/ HATS/ 算法/ ,/ 前/ 3/ 个/ 算法/ 包括/ 全/ 覆盖/ 实例/ 和/ 部分/ 覆盖/ 实例/ ,/ HATS/ 算法/ 包括/ α/ 的/ 不同/ 设置/ ./ 所得/ 约简/ 集/ 的/ 缺陷/ 检测/ 能力/ 反映/ 为/ 相对/ 初始/ 集/ 缺陷/ 检测/ 率/ 的/ 百分比/ 值/ (/ 标记/ 为/ Ψ/ CR/ )/ ./ 如此/ 处理/ 的/ 原因/ 一方面/ 是/ 由于/ 初始/ 用例/ 集未/ 达到/ 100/ %/ 语句/ (/ 块/ )/ 覆盖率/ ,/ 从而/ 也/ 不能/ 达到/ 100/ %/ 缺陷/ 检测/ 率/ ;/ 另一方面/ 是/ 便于/ 在/ 不同/ 实验/ 不同/ 关注/ 需求/ 集/ 之间/ 的/ 比较/ ./ 我们/ 采用/ 抗/ 变异/ 值/ (/ mutationscore/ )/ 反映/ 对/ 关注/ 需求/ 集/ CR/ 的/ 缺陷/ 检测/ 率/ ./ 抗/ 变异/ 值/ 指用/ 例集/ 能够/ 检测/ 出/ 变异/ (/ mutant/ )/ 的/ 百分比/ ./ 由于/ 实验/ 对象/ 程序/ 由/ Java/ 编写/ ,/ 因此/ 可/ 采用/ Jumble/ 工具/ (/ http/ :/ // // jumble/ ./ sourceforge/ ./ net/ // )/ 来/ 测量/ 用/ 例集/ 针对/ 给定/ Java/ 类/ (/ 关注/ 需求/ 集/ )/ 的/ 抗/ 变异/ 值/ ./ 图/ 4/ 用箱/ 形图/ 描述/ 了/ 18/ 个/ 实验/ 中/ 各个/ 算法/ 所得/ 约简/ 集/ 针对/ 关注/ 需图/ 4/ 不同/ 算法/ 所得/ 约简/ 集/ 针对/ 关注/ 需求/ 集/ 的/ 缺陷/ 检测/ 能力/ Page8/ 求集/ CR/ 的/ 抗/ 变异/ 值/ 相对/ 初始/ 用例/ 集抗/ 变异/ 值/ 的/ 百分比/ 值/ Ψ/ CR/ ./ 由于/ 约简/ 技术/ 减少/ 了/ 测试用例/ 数量/ ,/ 必然/ 会/ 降低/ 针对/ CR/ 的/ 缺陷/ 检测/ 能力/ ./ 在/ 我们/ 的/ 实验/ 中/ ,/ 全/ 覆盖/ 用例/ 集约/ 简/ 技术/ 对/ 缺陷/ 检测/ 能力/ 的/ 影响/ 不/ 大/ ;/ 其中/ HGST/ 在/ 多数/ 情况/ 下/ 表现/ 最好/ ,/ 只/ 在/ 4/ 个/ 实验/ 中/ Ψ/ CR/ 低于/ 100/ %/ ,/ 但/ 都/ 在/ 95/ %/ 以上/ ;/ 而/ BIPT/ 则/ 表现/ 出/ 较大/ 的/ 偏差/ 范围/ ./ 采用/ 部分/ 覆盖/ 约简/ ,/ 由于/ 测试用例/ 数量/ 进一步/ 减少/ ,/ 所/ 得到/ 的/ Ψ/ CR/ 明显降低/ ;/ 其中/ 实验/ N05/ -/ 1/ 、/ N05/ -/ 5/ 和/ N08/ -/ 3/ 中/ 降低/ 幅度/ 达到/ 40/ %/ ./ 此时/ HGSS/ 和/ GRES/ 的/ 结果/ 好于/ BIPS/ ,/ 但/ 3/ 个/ 算法/ 中/ 没有/ 哪个/ 算法/ 能/ 在/ 所有/ 实验/ 中/ 保持/ 优势/ ./ 对于/ HATS/ 算法/ ,/ HATS1/ 的/ Ψ/ CR/ 值同/ HGSS/ 和/ GRES/ 基本相同/ ./ HATS0/ ./ 5/ 虽然/ 在/ 约简/ 集/ 规模/ 和/ 无关/ 需求/ 覆盖/ 方面/ 表现/ 较/ 好/ ,/ 但/ 在/ 缺陷/ 检测/ 能力/ 方面/ 较差/ ,/ 所/ 得到/ 的/ Ψ/ CR/ 值/ 在/ 所有/ 实验/ 中/ 和/ HATS1/ 相同/ 或/ 优势/ 很小/ (/ / 5/ %/ )/ ./ HATS0/ 在/ 所有/ 部分/ 覆盖/ 约简/ 算法/ 和/ 实例/ 中/ 的/ 缺陷/ 检测/ 能力/ 最好/ ,/ 一方面/ 在/ 除/ J08/ -/ 8/ 之外/ 的/ 所有/ 实验/ 中/ 得到/ 了/ 最大/ 的/ Ψ/ CR/ 值/ ;/ 另一方面/ 其/ 偏差/ 范围/ 在/ 这些/ 算法/ 中/ 也/ 最小/ ;/ 值得/ 提出/ 的/ 是/ 在/ 图/ 5HATS/ 算法/ 中/ 权重/ 因子/ α/ 对/ 约简/ 集/ 规模/ 和/ 无关/ 需求/ 覆盖率/ 的/ 影响/ 趋势/ 考查/ Cov/ |/ R/ -/ CR/ |/ ,/ Cov/ |/ R/ -/ CR/ |/ 随/ α/ 增大/ 变化/ 比较复杂/ ./ 在/ 大多数/ 实验/ 中/ Cov/ |/ R/ -/ CR/ |/ 随/ α/ 的/ 趋势/ 线/ 呈现/ 盆形/ ,/ 即/ 开始/ 阶段/ Cov/ |/ R/ -/ CR/ |/ 随/ α/ 增大/ 而/ 下降/ ;/ 中间/ 阶段/ 达到/ 最小值/ ,/ 此时/ 多数/ 实验/ 中/ Cov/ |/ R/ -/ CR/ |/ 在/ 较大/ 的/ α/ 取值/ 范围/ 内/ 保持/ 不变/ 或/ 变化/ 很小/ ;/ 部分/ 实验/ 中/ Cov/ |/ R/ -/ CR/ |/ 存在/ 多个/ 最小值/ 阶段/ ;/ 过/ 了/ 盆底/ 阶段/ 后/ ,/ Cov/ |/ R/ -/ CR/ |/ 随/ α/ 增大/ 缓慢/ 增大/ ;/ 当/ α/ 从/ 0.95/ 乃至/ 0.99/ 变为/ 1/ 时/ ,/ Cov/ |/ R/ -/ CR/ |/ 通常/ 突然/ 增大/ ,/ 例外情况/ 存在/ 于/ N05/ -/ 4/ 和/ N08/ -/ 4/ ,/ 当/ α/ 变为/ 1/ 时/ Cov/ |/ R/ -/ CR/ |/ 反而/ 下降/ ./ 在/ N03/ -/ 3/ 和/ N03/ -/ 4/ 中/ ,/ Cov/ |/ R/ -/ CR/ |/ 没有/ 变化/ ,/ 其/ 原因/ 是/ 在/ α/ 从/ 0/ 到/ 1/ 增大/ 的/ 过程/ 中/ ,/ 所得/ 约简/ 集/ γ/ C/ 的/ 组成/ 没有/ 变化/ ./ N05/ -/ 3/ 和/ N05/ -/ 6/ 中/ ,/ 其/ Ψ/ CR/ 值/ 甚至/ 超过/ 了/ 3/ 个/ 全/ 覆盖/ 约简/ 算法/ ./ 综上所述/ ,/ HATS/ 算法/ 能够/ 在/ 一定/ 程度/ 上/ 缓解/ 部分/ 覆盖/ 用例/ 集约/ 简对/ 缺陷/ 检测/ 能力/ 的/ 负面影响/ ./ 5.5/ 权重/ 因子/ α/ 第/ 4/ 个/ 考虑/ 的/ 问题/ 是/ HATS/ 算法/ 中/ 权重/ 因子/ α/ 对/ 部分/ 覆盖/ 约简/ 问题/ 的/ 两个/ 目标/ 影响/ 如何/ ,/ 包括/ 约简/ 集/ 规模/ 和/ 无关/ 需求/ 覆盖/ 比率/ ./ 同/ 前述/ 相同/ ,/ 这/ 两个/ 指标/ 分别/ 反映/ 为/ 约简/ 集/ 规模/ |/ γ/ C/ |/ 占/ 初始/ 用/ 例集/ 规模/ |/ T/ |/ 百分比/ 值及/ 约简/ 集/ γ/ C/ 覆盖/ 无关/ 需求/ 占/ 无关/ 需求/ 总数/ |/ R/ -/ CR/ |/ 的/ 百分比/ 值/ Cov/ |/ R/ -/ CR/ |/ ./ 图/ 5/ 用箱/ 形图/ 描述/ 了/ |/ γ/ C/ |/ 百分比/ 值/ 和/ Cov/ |/ R/ -/ CR/ |/ 随/ α/ 取值/ 的/ 变化趋势/ ./ 其中/ α/ 取/ 0/ 到/ 1/ ,/ 间隔/ 为/ 0.05/ ;/ 各点/ 的/ 期望值/ 用/ 虚线/ 连接/ ./ 考查/ |/ γ/ C/ |/ 百分比/ 值/ ,/ 不难/ 发现/ |/ γ/ C/ |/ 随/ α/ 增大/ 而/ 单调/ 下降/ ./ 当/ α/ 取值/ 小于/ 0.15/ 时/ ,/ |/ γ/ C/ |/ 取值/ 相对/ 较/ 高/ ;/ 此时/ 当/ α/ 增大/ 时/ ,/ |/ γ/ C/ |/ 下降/ 较/ 快/ ;/ 在/ 大多数/ 实验/ 中当/ α/ 等于/ 0.55/ 时/ ,/ |/ γ/ C/ |/ 已/ 达到/ 最小值/ ;/ 当/ α/ 再/ 增大/ ,/ |/ γ/ C/ |/ 基本/ 不变/ 或/ 变化/ 很小/ ./ 在/ 部分/ 实验/ 中/ ,/ 如/ N03/ -/ 3/ 和/ J08/ -/ 7/ ,/ |/ γ/ C/ |/ 保持/ 不变/ ,/ 与/ α/ 取值/ 无关/ ./ 5.6/ 讨论/ 根据/ 实验/ 结果/ 数据/ ,/ 同全/ 覆盖/ 用例/ 集约/ 简/ 相比/ ,/ 部分/ 覆盖/ 约简/ 技术/ 能够/ 进一步/ 降低/ 约简/ 集/ 的/ 规模/ ./ 通过/ 设置/ 合适/ 的/ 权重/ 因子/ α/ ,/ HATS/ 算法/ 能够/ 在/ 同时/ 减少/ 对/ 无关/ 需求/ 的/ 覆盖/ ./ 这/ 可以/ 较大/ 程度/ 降低/ 选择性/ 回归/ 测试/ 的/ 成本/ 和/ 工作量/ ,/ 且/ 后者/ 在/ 软件系统/ 开发/ 过程/ 中/ 需要/ 频繁/ 应用/ ,/ 从而/ 能够/ 降低/ 软件开发/ 成本/ ./ 由于/ 部分/ 覆盖/ 约简/ 进一步/ 减少/ 了/ 测试用例/ 数量/ ,/ 缺陷/ 检测/ 能力/ 受到/ 负面影响/ ./ 按照/ 实验/ 数据/ ,/ HATS0/ 能够/ 有效/ 缓解/ 这一/ 影响/ ,/ 在/ 部分/ 实验/ 中/ 针对/ 关注/ 需求/ 集/ 的/ 缺陷/ 检测/ 能力/ 甚至/ 超过/ 了/ 全/ 覆盖/ 约简/ ./ 但/ 也/ 存在/ 部分/ 实验/ ,/ 同/ 初始/ 用/ 例集/ 相比/ ,/ HATS0Page9/ 所能/ 达到/ 的/ 缺陷/ 检测/ 能力/ 仍/ 有/ 较大/ 差距/ ./ 这/ 说明/ 非/ 关注/ 需求/ 也/ 需要/ 区别对待/ ,/ 如何/ 识别/ 重要/ 的/ 非/ 关注/ 需求/ 将/ 是/ 我们/ 下/ 一步/ 的/ 工作/ 之一/ ./ 我们/ 以/ 3/ 个/ 中等/ 规模/ 的/ 开源/ Java/ 软件系统/ 为/ 实验/ 对象/ ,/ 测试/ 需求/ 定义/ 为/ Java/ 的/ 语句/ 块/ ./ 可以/ 考虑/ 的/ 扩展/ 是/ 添加/ C/ // C++/ 等/ 不同/ 语言/ 编写/ 的/ 软件系统/ 为/ 分析/ 对象/ ,/ 将/ 测试/ 需求/ 定义/ 为/ 其它/ 类型/ 覆盖/ 单元/ 如/ 分支/ 或/ 谓词/ 组合/ 等/ ,/ 以/ 增加/ 实验/ 结果/ 的/ 代表性/ ./ 另/ 一个/ 需要/ 考虑/ 的/ 问题/ 是/ 实验/ 软件系统/ 的/ 初始/ (/ 备选/ )/ 用/ 例集/ 未能/ 达到/ 100/ %/ 需求/ 覆盖率/ ,/ 有/ 必要/ 补充/ 新/ 的/ 测试用例/ ;/ 尽管/ 在/ 实践/ 软件/ 项目/ 开发/ 中/ 由于/ 时间/ 和/ 成本/ 的/ 限制/ ,/ 100/ %/ 测试/ 需求/ 覆盖/ 是/ 难以/ 达成/ 的/ 目标/ ./ 6/ 结论/ 选择性/ 回归/ 测试/ 主要/ 用于/ 软件系统/ 局部/ 更新/ 和/ 部分/ 缺陷/ 修正/ ,/ 在/ 当今/ 软件系统/ 开发/ 中/ 需要/ 频繁/ 应用/ ,/ 如何/ 有效/ 完成/ 部分/ 需求/ 覆盖/ 用例/ 集约/ 简/ 从而/ 控制/ 其/ 成本/ 是/ 一个/ 需要/ 考虑/ 的/ 问题/ ./ 针对/ 该/ 问题/ 的/ 测试/ 需求/ 集/ 被/ 分成/ 两/ 部分/ :/ 关注/ 需求/ 集/ 和/ 无关/ 需求/ 集/ ./ 据此/ 本文/ 定义/ (/ 部分/ 覆盖/ )/ 多/ 目标/ 测试用例/ 集约/ 简/ 问题/ :/ 一方面/ 在/ 覆盖/ 关注/ 集/ 的/ 要求/ 下/ 尽量减少/ 约简/ 集/ 规模/ ;/ 另一方面/ 避免/ 对/ 无关/ 集/ 的/ 覆盖/ ,/ 从而/ 减少/ 测试/ 执行/ 和/ 分析/ 的/ 工作量/ ./ 本文/ 提出/ HATS/ 算法/ 解决/ 多/ 目标/ 用例/ 集约/ 简/ 问题/ ./ HATS/ 算法/ 遵循/ 启发式/ 贪婪/ 搜索/ 框架/ ,/ 应用/ 3/ 个/ 策略/ :/ 必选/ 策略/ 、/ 替代/ 策略/ 和/ 贪婪/ 策略/ ,/ 以/ 选择/ 当前/ 最合适/ 的/ 测试用例/ ./ 定义/ 权重/ 因子/ α/ 平衡/ 两/ 方面/ 目标/ :/ 减少/ 约简/ 集/ 规模/ 同时/ 避免/ 无关/ 需求/ 的/ 覆盖/ ./ 实验/ 数据/ 表明/ ,/ 同/ 现有/ 约简/ 算法/ 相/ 比较/ ,/ HATS/ 算法/ 能够/ 较/ 大幅度/ 减少/ 约简/ 集/ 规模/ ,/ 降低/ 对/ 无关/ 需求/ 的/ 覆盖/ 比率/ ,/ 同时/ 缓解/ 对/ 缺陷/ 检测/ 能力/ 的/ 负面影响/ ./ 下/ 一步/ 工作/ 包含/ 两个/ 方面/ :/ 一方面/ 考虑/ 关注/ 集/ 和/ 无关/ 集/ 的/ 分割/ 准则/ ,/ 提高/ 部分/ 覆盖/ 约简/ 技术/ 针对/ 关注/ 集/ 的/ 缺陷/ 检测/ 能力/ ./ 另一方面/ 推动/ HATS/ 算法/ 的/ 实践/ 应用/ ,/ 通过/ 更/ 多/ 的/ 软件系统/ 实例/ 验证/ 其/ 有效性/ ,/ 包括/ 面向/ 不同/ 的/ 编程语言/ 、/ 定义新/ 的/ 测试/ 需求/ 类型/ 、/ 提升/ 备选/ 用例/ 集对/ 测试/ 需求/ 的/ 覆盖率/ 等/ ./ 

