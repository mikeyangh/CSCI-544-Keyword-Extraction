Page1/ 基于/ 相变/ 存储器/ 的/ 存储技术/ 研究/ 综述/ 冒伟/ 刘/ 景宁/ 童薇/ 冯丹/ 李铮/ 周文张/ 双武/ (/ 华中科技大学/ 武汉/ 光电/ 国家/ 实验室/ // 计算机科学/ 与/ 技术/ 学院/ 武汉/ 430074/ )/ 摘要/ 以/ 数据/ 为/ 中心/ 的/ 大/ 数据/ 技术/ 给/ 计算机/ 存储系统/ 带来/ 了/ 机遇/ 和/ 挑战/ ./ 传统/ 的/ 基于/ 动态随机/ 存储器/ (/ DRAM/ )/ 器件/ 的/ 内存/ 面临/ 工艺/ 尺寸/ 缩小/ 至/ 2Xnm/ 及/ 以下/ 所/ 带来/ 的/ 系统/ 稳定性/ 、/ 数据/ 可靠性/ 等/ 问题/ ;/ 相变/ 存储器/ (/ PCM/ )/ 具有/ 非易/ 失性/ 、/ 存储密度/ 高/ 、/ 功耗/ 低/ 、/ 抗辐射/ 干扰/ 等/ 优点/ ,/ 且/ 读写/ 性能/ 接近/ DRAM/ ,/ 是/ 未来/ 最有/ 可能/ 取代/ DRAM/ 的/ 非易失/ 存储器/ ,/ 它/ 为/ 存储系统/ 的/ 研究/ 和/ 设计/ 提供/ 了/ 新/ 的/ 解决方案/ ./ 文中/ 在/ 归纳/ 相变/ 存储器/ 器件/ 发展/ 和/ 研究/ 现状/ 的/ 基础/ 上/ ,/ 对/ 相变/ 存储器/ 在/ 系统/ 级/ 的/ 应用/ 方式/ 和/ 面临/ 的/ 问题/ 进行/ 了/ 比较/ 和/ 分析/ ,/ 研究/ 了/ 基于/ 相变/ 存储器/ 的/ 内存/ 技术/ 和/ 外存/ 技术/ ,/ 分析/ 了/ 当前/ 在/ PCM/ 的/ 寿命/ 、/ 写/ 性能/ 、/ 延迟/ 、/ 功耗/ 等/ 方面/ 所/ 提出/ 的/ 解决方案/ ,/ 指出/ 了/ 现有/ 方案/ 的/ 优势/ 和/ 面临/ 的/ 缺陷/ ,/ 并/ 探讨/ 了/ 未来/ 的/ 研究/ 方向/ ,/ 为/ 该/ 领域/ 在/ 今后/ 的/ 发展/ 提供/ 了/ 一定/ 的/ 参考/ ./ 关键词/ 相变/ 存储器/ ;/ 非易失/ 存储器/ ;/ 存储技术/ ;/ 计算机/ 体系结构/ 1/ 引言/ 信息技术/ 的/ 高速/ 发展/ 将/ 人类/ 社会/ 带入/ 数字/ 时代/ ,/ 人们/ 创造/ 、/ 捕获/ 和/ 复制/ 的/ 信息/ 无处不在/ ,/ 构成/ 规模/ 巨大/ 且/ 不断/ 扩张/ 的/ “/ 数字/ 宇宙/ ”/ ,/ 其/ 规模/ 在/ 2012/ 年/ 为/ 2.8/ ZB/ ,/ 预计/ 2020/ 年/ 将/ 达到/ 40ZB/ ./ 计算机领域/ 已经/ 进入/ 一个/ 以/ 数据/ 为/ 中心/ 的/ 大/ 数据/ 时代/ ,/ 数据/ 的/ 快速增长/ 和/ 以/ 数据/ 为/ 中心/ 的/ 发展趋势/ 给/ 现有/ 的/ 计算机/ 存储系统/ 带来/ 了/ 机遇/ 和/ 挑战/ ./ 大/ 数据/ 所/ 催生/ 的/ 内存/ 计算/ 和/ 拥有/ 越来越/ 多/ 核心/ 的/ 处理器/ 对/ 内存/ 的/ 速度/ 、/ 容量/ 、/ 功耗/ 和/ 可靠性/ 提出/ 了/ 极/ 高/ 的/ 需求/ ,/ 在/ 过去/ 的/ 十年/ 里/ ,/ 内存/ 技术/ 已/ 由/ DDR2/ (/ DoubleDataRate2/ )/ 发展/ 至/ 现在/ 的/ DDR4/ (/ DoubleDataRate4/ )/ ./ 然而/ 内存/ 技术/ 的/ 发展/ 已/ 遇到/ 瓶颈/ :/ 现有/ 的/ DRAM/ (/ DynamicRandomAccessMemory/ ,/ 动态随机/ 存储器/ )/ 尺寸/ 已经/ 到达/ 其/ 制造/ 工艺/ 的/ 极/ 参数/ 现有/ 芯片/ 表/ 1/ 存储技术/ 参数/ (/ 典型值/ )/ 对比/ (/ 耐久性/ )/ DRAM/ ~/ 16Gb/ ~/ 20nm6/ ~/ 10F2/ </ 10ns/ </ 10ns/ >/ 1015/ 刷新/ ~/ 0.1/ nJ/ // b/ 高易失/ 破坏性/ NAND/ ~/ 1Tb/ ~/ 16nm4/ ~/ 11F210/ ~/ 50/ μ/ s0/ ./ 1/ ~/ 1ms104/ ~/ 10610/ 年/ 0.1/ ~/ 1nJ/ // b/ 低非易/ 失非/ 破坏/ 寿命/ // 性能/ 有限/ ,/ STT/ -/ RAM/ ~/ 64Mb/ ~/ 32nm16/ ~/ 60F22/ ~/ 20ns5/ ~/ 35ns1012/ ~/ 1015/ >/ 10/ 年/ 1.6/ ~/ 5nJ/ // b/ 低非易/ 失非/ 破坏/ 容量/ 小/ ,/ 写/ 功耗/ RRAM/ ~/ 1TB/ ~/ 11nm4/ ~/ 14F210/ ~/ 50ns10/ ~/ 50ns108/ ~/ 101010/ 年/ ~/ 0.1/ nJ/ // b/ 低非易/ 失非/ 破坏/ 材料/ 级/ 存储/ 机/ FeRAM/ ~/ 64MB/ ~/ 65nm15/ ~/ 34F220/ ~/ 80ns5/ ~/ 10ns1012/ ~/ 101410/ 年/ </ 1nJ/ // b/ 低/ 非易失/ 破坏性/ PCM/ ~/ 8Gb/ ~/ 5nm4/ ~/ 8F210/ ~/ 100ns20/ ~/ 120ns108/ ~/ 1012/ >/ 10/ 年/ </ 1nJ/ // b/ 低非易/ 失非/ 破坏/ 从表/ 1/ 中/ 可以/ 看出/ ,/ 与/ DRAM/ 相比/ PCM/ 具有/ 非易/ 失性/ ,/ 可以/ 长期/ 保留/ 数据/ ,/ 工艺/ 制程/ 低/ ,/ 存储/ 规模/ 可扩展性/ 强/ ,/ 不/ 需要/ 刷新/ ,/ 静态/ 功耗/ 低/ ,/ 这些/ 使/ 其/ 在/ 未来/ 内存/ 环境/ 中/ 的/ 应用/ 拥有/ 一定/ 的/ 优势/ ;/ 同时/ 也/ 有/ 不足/ ,/ 如/ PCM/ 具有/ 相对/ 较大/ 的/ 延迟/ ,/ 写/ 速率/ 无法/ 和/ DRAM/ 比拟/ ,/ 寿命/ 也/ 相对/ 有限/ ./ 与/ NANDFlash/ 相比/ ,/ PCM/ 写/ 性能/ 优秀/ 、/ 寿命长/ 、/ 具有/ 位/ 修改/ 特性/ ,/ 这使/ 其/ 在/ 系统/ 中/ 可以/ 保持/ 高速运行/ 状态/ 而/ 不/ 发生/ 掉速/ 现象/ ,/ 同时/ 可/ 降低/ 存储/ 控制器/ 及/ 缓存/ 开销/ ,/ 相对/ 于/ NANDFlash/ 而言/ 更加/ 适合/ 外存/ 的/ 应用环境/ ;/ 当然/ 就/ 目前/ 而言/ ,/ PCM/ 的/ 产品/ 容量/ 和/ 存储密度/ 还/ 没有/ NANDFlash/ 大/ ,/ 还/ 无法/ 完全/ 替代/ NANDFlash/ 在/ 外存/ 系统/ 中/ 的/ 地位/ ./ 与/ 其他/ 新型/ NVM/ 介质/ 相比/ ,/ 限/ ,/ 同时/ 数据/ 刷新/ 所/ 产生/ 的/ 功耗/ 问题/ 随着/ 其/ 容量/ 扩大/ 日益严重/ ,/ 随着/ 内存/ 技术/ 继续/ 发展/ ,/ 工艺/ 尺寸/ 进一步/ 降低/ ,/ 电子/ 的/ 微观/ 特性/ 将/ 越来越/ 明显/ ,/ 加上/ 器件/ 本身/ 的/ 物理/ 特性/ 制约/ 等/ 因素/ ,/ 传统/ 的/ DRAM/ 介质/ 在/ 系统/ 稳定性/ 、/ 数据/ 可靠性/ 等/ 问题/ 上将/ 面临/ 困境/ ./ 新型/ 的/ 非易失/ 存储器/ (/ Non/ -/ VolatileMemory/ ,/ NVM/ )/ 的/ 出现/ ,/ 为/ 扩展/ 计算机/ 内存/ 提供/ 了/ 新/ 的/ 途径/ ,/ 同时/ 推动/ 了/ 计算机系统/ 结构/ 的/ 改变/ ./ 现有/ 的/ NVM/ 有/ PCM/ (/ PhaseChangeMemory/ ,/ 相变/ 存储器/ )/ ,/ STT/ -/ RAM/ (/ SpinTransferTorqueRandomAccessMemory/ ,/ 自旋/ 转移/ 矩磁/ 随机/ 存储器/ )/ ,/ MRAM/ (/ Mag/ -/ neticRandomAccessMemory/ ,/ 磁性/ 随机/ 存储器/ )/ ,/ FeRAM/ (/ FerroelectricRandomAccessMemory/ ,/ 铁电/ 随机/ 存储器/ )/ ,/ RRAM/ (/ ResistiveRandomAccessMemory/ ,/ 阻变/ 随机/ 存储器/ )/ 等/ ,/ 表/ 1/ 从/ 产品/ 容量/ 、/ 工艺/ 尺寸/ 、/ 读写/ 性能/ 、/ 寿命/ 、/ 功耗/ 及/ 当前/ 技术/ 瓶颈/ 等/ 多个/ 方面/ 展示/ 、/ 对比/ 了/ 各/ 存储技术/ 的/ 特点/ ./ 寿命/ 数据/ 保持/ 力/ PCM/ 在/ 持久性/ 、/ 功耗/ 或者/ 容量/ 等/ 方面/ 更为/ 优秀/ ,/ 研究/ 相对/ 更加/ 成熟/ ,/ 产业化/ 程度/ 更高/ ,/ 作为/ 各类/ 新型/ 非易失/ 存储器/ 的/ 竞争者/ 具有/ 明显/ 的/ 优势/ ,/ 在/ 45nm/ 工艺/ 制程/ 下/ 已经/ 有/ Gb/ 级别/ 产品/ 问世/ ,/ 且/ 部分/ 产品/ 已经/ 成熟/ 应用/ 于/ 智能/ 电表/ 、/ 移动/ 终端/ 等/ 设备/ 中/ ./ 相变/ 存储器/ 是/ 一种/ 由/ 硫族/ 化合物/ 材料/ 构成/ 的/ 新型/ 非易失/ 存储器/ ,/ 它/ 利用/ 材料/ 可/ 逆转/ 的/ 物理/ 状态/ 变化/ 来/ 存储/ 信息/ ,/ 具有/ 非易/ 失性/ 、/ 工艺/ 尺寸/ 小/ 、/ 存储密度/ 高/ 、/ 循环/ 寿命长/ 、/ 读写/ 速度/ 快/ 、/ 功耗/ 低/ 、/ 抗辐射/ 干扰/ 等/ 优点/ ./ 相变/ 存储器/ 介质/ 材料/ 在/ 一定/ 条件/ 下会/ 在/ 非晶体/ 状态/ 和/ 晶体/ 状态/ 之间/ 发生/ 转变/ ,/ 在/ 此/ 过程/ 中/ 的/ 非晶体/ 状态/ 和/ 晶体/ 状态/ 呈现出/ 不同/ 的/ 电阻/ 特性/ 和/ 光学/ 特性/ ,/ 因此/ ,/ 可以/ 利用/ “/ 0/ ”/ 和/ “/ 1/ ”/ 分别/ 表示/ 非晶态/ 和/ Page3/ 晶态/ 来/ 存储/ 数据/ [/ 1/ ]/ ./ PCM/ 写/ “/ 1/ ”/ 是/ 一个/ 中温/ 结晶/ 的/ 过程/ ,/ 即/ 对/ 硫族/ 化合物/ 施加/ 一个/ 时间/ 较长/ 、/ 强度/ 中等/ 的/ 电脉冲/ 进行/ 加热/ ,/ 使/ 其/ 温度/ 上升/ 到/ 结晶/ 温度/ 以上/ 、/ 溶化/ 温度/ 以下/ ,/ 从而/ 导致/ 结晶/ ,/ 这一/ 过程/ 也/ 被/ 称之为/ SET/ 过程/ ;/ PCM/ 写/ “/ 0/ ”/ 是/ 一个/ 高温/ 淬火/ 的/ 过程/ ,/ 即/ 使用/ 一个/ 强度/ 很/ 高/ 但/ 作用/ 时间/ 很/ 短/ 的/ 电脉冲/ ,/ 使得/ 硫族/ 化合物/ 材料/ 在/ 温度/ 上升/ 到/ 熔点/ 之上/ 后/ 迅速/ 经历/ 一个/ 淬火/ (/ 热量/ 快速/ 释放/ ,/ 降温/ 速率/ 大于/ 109K/ // s/ )/ 过程/ ,/ 材料/ 将/ 由/ 熔融/ 状态/ 进入/ 非晶态/ ,/ 这个/ 过程/ 被/ 称之为/ RESET/ 过程/ [/ 3/ ]/ ./ 综上/ 可以/ 看出/ PCM/ 写/ “/ 1/ ”/ 和/ 写/ “/ 0/ ”/ 是/ 不/ 对称/ 的/ ,/ 写/ “/ 1/ ”/ 变化/ 慢/ ,/ 需要/ 的/ 电流/ 小/ ,/ 写/ “/ 0/ ”/ 变化/ 快/ ,/ 需要/ 的/ 电流/ 大/ ,/ 如图/ 1/ 所示/ (/ 图中/ 坐标/ 为/ 参考值/ )/ ./ 由于/ PCM/ 特性/ 优良/ ,/ 是/ 未来/ 最有/ 可能/ 取代/ DRAM/ 的/ 非易失/ 存储器/ 之一/ ,/ 目前/ 国内外/ 已有/ 许多/ 厂商/ 和/ 科研机构/ 进行/ 相关/ 研究/ ,/ 这些/ 研究/ 可/ 分为/ 以下/ 几类/ :/ (/ 1/ )/ 研究/ PCM/ 作为/ 计算机系统/ 内存/ :/ 相对/ 于/ DRAM/ 而言/ ,/ PCM/ 写/ 延迟/ 约/ 高/ 10/ 倍/ ,/ 但/ 它/ 具有/ 非易/ 失性/ ,/ 存储密度/ 和/ 功耗/ 也/ 具有/ 一定/ 优势/ ,/ 这/ 使得/ 它/ 可以/ 在/ 需求/ 大容量/ 、/ 低功耗/ 和/ 非易失/ 内存/ 等/ 特性/ 的/ 应用/ 场景/ 中/ 替代/ DRAM/ [/ 4/ -/ 9/ ]/ ;/ (/ 2/ )/ 研究/ PCM/ 作为/ 计算机系统/ 外存/ :/ PCM/ 在/ 速度/ 、/ 寿命/ 和/ 功耗/ 上均/ 超过/ 了/ Flash/ 技术/ ,/ 可以/ 作为/ 外存/ 使用/ ;/ 同时/ PCM/ 工艺/ 尺寸/ 较/ 低/ ,/ 这些/ 使得/ 它/ 能够/ 满足/ 海量/ 存储系统/ 中/ 高速率/ 、/ 低功耗/ 、/ 大容量/ 的/ 需求/ [/ 10/ -/ 11/ ]/ ;/ (/ 3/ )/ 研究/ PCM/ 在/ 新/ 环境/ 下/ 的/ 存储/ 应用/ ,/ 如/ 利用/ PCM/ 的/ 非易/ 失性/ 和/ 良好/ 的/ 读写/ 性能/ 而/ 将/ 其/ 应用/ 到/ 检查点/ (/ Checkpoint/ )/ 信息/ [/ 12/ ]/ 、/ 数据库/ 应用环境/ 中/ 的/ 数据恢复/ [/ 13/ -/ 14/ ]/ 等/ ;/ (/ 4/ )/ 研究/ PCM/ 应用/ 于/ 特殊/ 环境/ 的/ 嵌入式/ 系统/ ,/ 如/ 智能/ 电表/ 、/ 音频/ 存储/ [/ 15/ ]/ 等/ ,/ 且/ 由于/ 其/ 优良/ 的/ 抗辐射/ 性能/ 而/ 在/ 航天航空/ 电子/ 领域/ 亦/ 有/ 应用/ [/ 11/ ]/ ;/ (/ 5/ )/ 研究/ PCM/ 在/ 移动/ 智能/ 终端/ 领域/ 的/ 应用/ :/ 美/ 光/ 公司/ 生产/ 的/ 45nm/ 制程/ LPDDR2/ (/ LowPowerDDR2/ )/ 接口/ 的/ PCM/ 芯片/ 已经/ 应用/ 在/ 手机/ 上/ ,/ 2013/ 年/ 诺基亚/ 将/ 美光/ 1Gb/ +/ 512Mb/ 的/ PCM/ 芯片/ 用于/ Asha/ 系列/ 手机/ 中/ ;/ 三星/ GT/ -/ E2550GSM/ 手机/ 也/ 已经/ 部署/ 了/ 自己/ 的/ PCM/ 芯片/ ./ 2PCM/ 在/ 计算机系统/ 应用/ 中/ 的/ 问题/ 和/ 挑战/ 随着/ 相变/ 存储器/ 技术/ 的/ 发展/ ,/ 针对/ 相变/ 存储器/ 器件/ 本身/ 的/ 研究/ 和/ 其/ 在/ 计算机/ 存储系统/ 中/ 的/ 应用/ 研究/ 已经/ 在/ 产业界/ 与/ 学术界/ 陆续/ 展开/ ,/ 从而/ 解决/ PCM/ 所/ 面临/ 的/ 问题/ 和/ 挑战/ ./ 2.1/ PCM/ 器件/ 级/ 国内外/ 研究/ 现状/ 针对/ PCM/ 器件/ 本身/ 的/ 研究/ ,/ 国内外/ 具有/ 一定/ 的/ 差距/ ,/ 国外/ 发展/ 迅速/ ,/ 国内/ 起步/ 较晚/ ;/ 同时/ 立足于/ 产业界/ 、/ 学术界/ 的/ 研究/ 也/ 一直/ 在/ 跟进/ ./ (/ 1/ )/ 国外/ 研究/ 20/ 世纪末/ ,/ 半导体/ 工艺技术/ 发展/ 到/ 纳米/ 量级/ ,/ 给/ 相变/ 存储器/ 的/ 技术/ 特点/ 和/ 优势/ 提供/ 了/ 发挥/ 的/ 空间/ ,/ 国外/ 很多/ 半导体/ 行业/ 公司/ 以及/ 研究/ 机构/ 都/ 相继/ 投入/ 了/ 大量/ 的/ 人力/ 、/ 物力/ 和/ 财力/ ,/ 加入/ 了/ 相变/ 存储器/ 的/ 研究/ 阵营/ [/ 16/ ]/ ,/ 其/ 技术/ 日趋/ 成熟/ ./ 2000/ 年/ 2/ 月/ ,/ Intel/ (/ 英特尔/ )/ 和/ Ovonyx/ 发布/ 合作/ 和/ 许可/ 协议/ ,/ 开启/ 了/ PCM/ 产品/ 的/ 研发/ ;/ 同年/ 12/ 月/ ,/ ST/ (/ 意法/ 半导体/ )/ 与/ Ovonyx/ 开始/ 合作/ ./ 2007/ 年/ ST/ 和/ Intel/ 宣布/ 成立/ Numonyx/ (/ 恒忆/ ,/ 现已/ 被/ 美光/ 收购/ )/ ,/ 专门/ 致力于/ PCM/ 的/ 研发/ ,/ PCM/ 进入/ 了/ 快速/ 发展期/ ./ 2007/ 年/ Hynix/ (/ 海力士/ ,/ 现/ 更名/ 为/ SKHynix/ )/ 成功/ 开发/ 出/ 40nm/ 工艺/ 1Gb/ 容量/ 的/ PCM/ 芯片/ ,/ 但/ 由于/ 成本/ 和/ 市场/ 接受度/ 等/ 众多/ 原因/ ,/ 该/ 芯片/ 未能/ 进入/ 量产/ ./ 2009/ 年/ 12/ 月/ ,/ 恒忆/ 宣布/ 量产/ 1Gb/ 的/ 相变/ 存储器/ 产品/ ;/ 2010/ 年恒忆/ 发布/ 全新/ 系列/ 相变/ 存储器/ 产品/ ,/ 该/ 系列产品/ 具有/ 更/ 高/ 的/ 写/ 性能/ 、/ 写/ 寿命/ 和/ 设计/ 简易/ 性/ ,/ 适用/ 于/ 无线通信/ 设备/ 、/ 消费/ 电子/ 和/ 其他/ 嵌入式应用/ 设备/ ./ 2011/ 年/ 6/ 月/ IBM/ 攻克/ 了/ 相变/ 存储/ 的/ 一大/ 难题/ :/ 多位/ 封装/ ,/ 采用/ 90nmCMOS/ 工艺/ 制造/ ,/ 实现/ 了/ 每/ 单元/ 存储/ 多位/ 数据/ ,/ 写入/ 和/ 检索/ 数据/ 速度/ 比/ NANDFlash/ 存储器/ 快/ 100/ 倍/ ,/ 并/ 可/ 持续/ 使用/ 一/ 千万次/ ./ 2012/ 年/ 6/ 月/ ,/ IBM/ 和/ SKHynix/ 宣布/ 联合/ 打造/ 新一代/ 相变/ 存储器/ ./ 在/ 市场/ 上/ ,/ Samsung/ (/ 三星/ )/ 与/ Micron/ (/ 美/ 光/ )/ 是/ 目前/ 在/ PCM/ 技术/ 方面/ 较为/ 领先/ 的/ 两家/ 公司/ ,/ 其中/ 三星/ 开发/ 出/ 的/ 65nm/ 制程/ 、/ 512Mb/ 容量/ 的/ PCM/ 芯片/ 已/ 投入量/ 产并/ 应用/ 在/ 三星/ 的/ 手机/ 存储卡/ 中/ ;/ 同时/ 三星/ 已经/ 推出/ 了/ 20nm/ 制程/ 、/ 8Gb/ 容量/ 的/ 相变/ 内存/ 颗粒/ ./ 美光/ 则/ 是/ 通过/ 收购/ Numonyx/ 而/ 得到/ 了/ 这家/ Page4/ 公司/ 开发/ 出/ 的/ 90nm/ 制程/ 、/ 128Mb/ 容量/ 的/ PCM/ 技术/ ,/ 并/ 成功/ 研制/ 了/ 面向/ 移动/ 设备/ 领域/ 的/ 45nm/ 制程/ 、/ 1Gb/ 容量/ 的/ LPDDR2/ 接口/ 的/ PCM/ 芯片/ 产品/ ,/ 于/ 2012/ 年/ 7/ 月/ 宣布/ 量产/ 该/ 系列/ 芯片/ ./ 如今/ ,/ Samsung/ 、/ Micron/ 、/ Intel/ 、/ IBM/ 等/ 多家/ 知名/ 半导体/ 公司/ 投巨资/ 来/ 推进/ PCM/ 的/ 产业化/ 发展/ ,/ 同时/ 斯坦福大学/ 、/ 卡内基/ 梅隆/ 大学/ 、/ 加州大学/ 圣地亚哥/ 分校/ 、/ 惠普/ 实验室/ 、/ 微软/ 研究院/ 等/ 学术研究/ 机构/ 也/ 针对/ PCM/ 从/ 器件/ 到/ 应用/ 展开/ 了/ 广泛/ 研究/ ,/ 推动/ 了/ PCM/ 芯片/ 在/ 存储系统/ 的/ 应用/ ,/ PCM/ 的/ 发展/ 速度/ 前所未有/ ./ (/ 2/ )/ 国内/ 研究/ 与/ 国外/ 相比/ ,/ 国内/ 因/ 工艺/ 条件/ 的/ 限制/ 对/ PCM/ 的/ 研究/ 相对/ 少/ 一些/ ./ 国内/ 目前/ 对/ PCM/ 技术/ 的/ 研究/ 机构/ 主要/ 有/ 中国科学院/ 上海/ 微/ 系统/ 与/ 信息技术/ 研究所/ 、/ 华中科技大学/ 、/ 中芯/ 国际/ 、/ 北京/ 时代/ 全芯/ 科技/ 等/ ./ 中国科学院/ 上海/ 微/ 系统/ 与/ 信息技术/ 研究所/ 对/ 相变/ 材料/ 体系/ 有/ 比较/ 系统/ 的/ 研究/ ,/ 包括/ 相变/ 材料/ 、/ 相变/ 机理/ 、/ 高速/ CMOS/ 衬底/ 材料/ 、/ 纳米/ 加工/ 工艺/ 集成/ 、/ PCM/ 芯片/ 设计/ 与/ 制作/ 技术/ 等/ ,/ 其/ 与/ 中/ 芯/ 国际/ 联合/ 搭建/ 了/ 130nm/ 和/ 45nm/ 的/ PCM/ 芯片/ 工艺/ 平台/ [/ 1/ ]/ ,/ 并/ 已经/ 着手/ 开展/ 40nm/ 工艺/ 上/ 的/ 进程/ ,/ 同时/ 也/ 和/ 美国/ SST/ 公司/ 联合/ 研发/ PCM/ 技术/ ./ 2011/ 年/ 4/ 月/ ,/ 中国科学院/ 上海/ 微/ 系统/ 与/ 信息技术/ 研究所/ 成功/ 开发/ 出/ 中国/ 第一款/ 具有/ 自主/ 知识产权/ 的/ 相变/ 存储器/ 芯片/ ,/ 这款/ PCM/ 芯片/ 的/ 存储容量/ 为/ 8Mb/ ,/ 具有/ 读/ 、/ 写/ 、/ 擦/ 功能/ ./ 华中科技大学/ 自/ 2007/ 年/ 开始/ 研究/ 高密度/ 低功耗/ 电阻/ 式/ 相变/ 存储器/ 、/ 相变/ 存储器/ 功能/ 芯片/ 、/ 相变/ 存储器/ 芯片/ 的/ 关键/ 材料/ 以及/ 相关/ 专用/ 测试/ 设备/ 等/ ,/ 已经/ 自主/ 研制/ 出/ 具有/ 简单/ 读/ 、/ 擦/ 、/ 写/ 功能/ 的/ 相变/ 存储器/ 功能/ 芯片/ ./ 2011/ 年/ 9/ 月/ ,/ 北京/ 时代/ 全芯/ 科技/ 公司/ 在/ 与/ 美国/ 全芯/ 科技/ 公司/ 及其/ 合作方/ IBM/ 团队/ 的/ 共同努力/ 下/ ,/ 设计/ 完成/ 第一批/ 基于/ 相变/ 存储器/ 的/ 产品/ 芯片/ ,/ 成为/ 我国/ 第一家/ 生产/ 高密度/ 相变/ 存储器/ 芯片/ 的/ 公司/ ./ 该/ 公司/ 已经/ 成功/ 设计/ 了/ 256Mb/ 的/ LPDDR2/ 接口/ PCM/ 芯片/ 和/ 32Mb/ 的/ SPI/ (/ SerialPeripheralInterface/ )/ 接口/ 芯片/ ,/ 并/ 设计/ 了/ 一个/ 16Mb/ 的/ 嵌入式/ 相变/ 存储器/ 宏/ 模块/ ./ 2013/ 年/ 1/ 月/ ,/ 北京/ 时代/ 全芯/ 科技/ 公司/ 投资/ 47.5/ 亿美元/ 在/ 宁波/ 开建/ 我国/ 首个/ 拥有/ 自主/ 知识产权/ 的/ 存储芯片/ 产业化/ 应用/ 项目/ ,/ 2014/ 年/ 3/ 月/ 宁波/ PCM/ 芯片/ 建设项目/ 奠基/ ,/ 6/ 月/ 与/ IBM/ 签订/ 技术/ 合作/ 协议/ ,/ 双方/ 将/ 在/ PCM/ 芯片/ 生产/ 领域/ 展开/ 合作/ ,/ 目标/ 指向/ PCM/ 系列产品/ 的/ 产业化/ ./ 在/ 国内/ ,/ 随着/ 相变/ 存储器/ 器件/ 的/ 研究/ 逐步/ 展开/ 的/ 同时/ ,/ 该/ 领域/ 发明专利/ 申请/ 的/ 数量/ 也/ 保持/ 了/ 逐年/ 增长/ 的/ 态势/ ,/ 根据/ 文献/ [/ 17/ ]/ 的/ 数据/ 统计/ ,/ 截至/ 2012/ 年/ 11/ 月/ 28/ 日/ ,/ 我国/ 共有/ 556/ 件/ 发明专利/ 申请/ ,/ 其中/ 申请人/ 为/ 国内/ 的/ 发明专利/ 有/ 396/ 件/ ,/ 专利/ 数目/ 在/ 不断/ 增多/ ,/ 关注点/ 也/ 在/ 逐渐/ 扩大/ ,/ 可见/ ,/ 国内/ 对/ PCM/ 领域/ 的/ 研究/ 已经/ 愈发/ 关注/ ./ 综上/ ,/ 在/ 国内/ 对于/ 相变/ 存储器/ 的/ 研究/ 已经/ 开始/ ,/ 中芯/ 国际/ 、/ 全芯/ 科技/ 等/ 国外/ 研究/ 机构/ 与/ 国内/ 研究/ 机构/ 和/ 部分/ 高校/ 一同/ 合作/ ,/ 在/ PCM/ 的/ 介质/ 材料/ 、/ 存储/ 机理/ 和/ 器件/ 原型/ 等/ 方面/ 展开/ 了/ 深入研究/ ,/ 取得/ 了/ 令人瞩目/ 的/ 进展/ ./ 2.2/ PCM/ 自身/ 的/ 缺陷/ 及其/ 相关/ 研究/ PCM/ 具有/ 的/ 优势/ 为/ 其/ 在/ 存储/ 领域/ 的/ 应用/ 奠定/ 了/ 基础/ ,/ 但/ 其/ 自身/ 也/ 存在/ 一些/ 缺陷/ ,/ 特别/ 是/ 写/ 性能/ 、/ 写/ 功耗/ 和/ 写/ 寿命/ 问题/ ,/ 成为/ 了/ 它/ 应用/ 于/ 计算机系统/ 的/ 难题/ ,/ 这/ 促使/ 研究/ 人员/ 提出/ 各种/ 方案/ 和/ 途径/ 以/ 弥补/ PCM/ 的/ 自身/ 缺陷/ ./ 根据/ 目前/ 已有/ 的/ 研究/ [/ 4/ -/ 9/ ]/ ,/ PCM/ 的/ 读/ 延迟/ 与/ DRAM/ 在/ 同一/ 数量级/ ,/ 但/ 写/ 延迟/ 约/ 为/ DRAM/ 的/ 10/ 倍/ ;/ 同时/ 由于/ PCM/ 写/ 操作/ 需要/ 密集/ 的/ 电流/ 注入/ ,/ 会/ 带来/ 相对/ DRAM/ 较大/ 的/ 写/ 功耗/ ;/ 且/ 由于/ 电流/ 注入/ 时/ 的/ 热应力/ 等/ 问题/ ,/ PCM/ 的/ 写入/ 次数/ 有限/ ,/ 其/ 存储单元/ 只能/ 承受/ 上百万/ 次/ 的/ 写/ 操作/ ./ 针对/ 上述/ 问题/ ,/ 学术界/ 已/ 展开/ 很多/ 研究/ 工作/ ,/ 主要/ 包括/ 通过/ 改变/ PCM/ 写/ 操作/ 的/ 流程/ 、/ 减少/ 写/ 操作/ 次数/ 和/ 写/ 数据量/ 、/ 磨损/ 均衡/ 等/ 策略/ 来/ 降低/ 写/ 功耗/ ,/ 提升/ 其/ 性能/ 和/ 寿命/ ./ (/ 1/ )/ 改变/ 写/ 操作/ 的/ 执行/ 过程/ Qureshi/ 等/ 人/ [/ 18/ ]/ 针对/ PCM/ 的/ 读写/ 请求/ 延迟/ 不/ 均衡/ 的/ 特点/ ,/ 提出/ 采用/ 写/ 取消/ 及/ 写/ 暂停/ 策略/ 来/ 提升/ PCM/ 的/ 读/ 性能/ ./ 当/ 一个/ 读/ 请求/ 到达/ PCM/ 并/ 等待/ 处理/ 时/ ,/ 如果/ 此时/ 正在/ 响应/ 的/ 写/ 请求/ 还/ 没有/ 开始/ ,/ 就/ 取消/ 该/ 写/ 请求/ ,/ 先/ 执行/ 读/ 请求/ ;/ 如果/ 写/ 请求/ 执行/ 到/ 一半/ ,/ 就/ 在/ 某/ 一个/ 写/ 操作/ 的/ 迭代/ 结束/ 后/ 暂停/ 写/ ,/ 先/ 执行/ 读/ 请求/ ./ 这种/ 策略/ 利用/ PCM/ 读写/ 请求/ 时间/ 不/ 均衡/ 的/ 特点/ ,/ 提高/ 了/ 系统/ 的/ 读/ 性能/ ./ 写/ 暂停/ 的/ 方法/ 虽然/ 某种程度/ 上/ 提高/ 了/ 读/ 性能/ ,/ 但是/ 受限于/ 请求/ 间/ 的/ 数据/ 相关性/ ,/ 会/ 导致/ 一定/ 的/ 读写/ 数据/ 错误/ ,/ 同时/ 会/ 导致/ 写/ 操作/ 的/ 延迟/ 更长/ ./ 针对/ MLC/ (/ Multi/ -/ LevelCell/ ,/ 多层/ 单元/ )/ 型/ PCM/ 的/ Program/ // Verification/ (/ 简称/ P/ // V/ 操作/ )/ 两/ 阶段/ 反复/ 迭代/ 写/ 操作过程/ ,/ Jiang/ 等/ 人/ [/ 19/ ]/ 提出/ 了/ 一种/ 写/ 截断/ (/ WriteTruncation/ )/ 策略/ ./ 由于/ 将/ 数据/ 写入/ 到/ Page5PCM/ 的/ 不同/ 单元/ 所/ 需要/ 的/ P/ // V/ 操作/ 的/ 迭代/ 次数/ 是/ 不同/ 的/ ,/ 为了/ 保证/ 所有/ 数据/ 能/ 正确/ 写入/ ,/ 当前/ 的/ 写/ 策略/ 是/ 使用/ 最大/ P/ // V/ 操作/ 迭代/ 次数/ 来/ 完成/ 写/ 操作/ ./ 写/ 截断/ 策略/ 则/ 通过/ 在/ P/ // V/ 操作/ 进行/ 过程/ 中/ 实时/ 检测/ 存储单元/ 阻值/ ,/ 并/ 与/ 目标/ 状态/ 对应/ 的/ 阻值/ 进行/ 比/ 对/ ,/ 动态/ 判断/ 并/ 识别/ 每次/ 写/ 操作/ 需要/ 的/ 迭代/ 次数/ ,/ 在/ 尽量/ 不/ 影响/ 数据/ 正确性/ 的/ 前提/ 下/ ,/ 将/ 写/ 过程/ 的/ 最后/ 几个/ 迭代/ 操作/ 截断/ ,/ 从而/ 减少/ PCM/ 的/ 写/ 迭代/ 次数/ ;/ 同时/ 采用/ 容错/ 能力/ 更强/ 的/ ECC/ (/ ErrorCorrectingCode/ )/ 校验/ 来/ 保证数据/ 的/ 可靠性/ ./ 该/ 策略/ 减少/ 了/ 写/ 延迟/ ,/ 并/ 在/ 一定/ 程度/ 上/ 降低/ 了/ PCM/ 的/ 写/ 功耗/ ,/ 但是/ 不得不/ 面对/ 因/ 动态/ 识别/ 的/ 准确性/ 而/ 带来/ 的/ 数据/ 可靠性/ 的/ 问题/ ,/ 同时/ ECC/ 也/ 具有/ 一定/ 的/ 开销/ ./ Qureshi/ 等/ 人/ [/ 20/ ]/ 随后/ 提出/ 一种/ 将/ PCM/ 应用/ 于/ 内存/ 的/ 新策略/ PreSET/ 来/ 提升/ PCM/ 的/ 写/ 性能/ ./ 该/ 策略/ 利用/ 了/ PCM/ 写/ “/ 0/ ”/ (/ RESET/ )/ 与/ 写/ “/ 1/ ”/ (/ SET/ )/ 的/ 不/ 对称/ 特性/ ,/ 即/ 在/ PCM/ 中写/ “/ 0/ ”/ 的/ 时间/ 很/ 短/ ,/ 而/ 写/ “/ 1/ ”/ 的/ 时间/ 几乎/ 是/ 写/ “/ 0/ ”/ 时间/ 的/ 8/ 倍/ ./ 作者/ 提出/ 当/ PCM/ 内存/ 某/ 一个/ line/ 变脏/ 后/ ,/ 则/ 对/ 该/ PCMline/ 进行/ SET/ 操作/ (/ 即该/ line/ 此时/ 全部/ 置/ “/ 1/ ”/ )/ ,/ 当/ 后续/ 对/ 该/ line/ 再/ 进行/ 写/ 操作/ 时/ 只/ 需要/ 执行/ 写/ “/ 0/ ”/ 的/ 部分/ ,/ 减少/ 了/ 延迟/ ,/ 从而/ 提升/ 写/ 操作/ 的/ 性能/ ./ PreSET/ 技术/ 比/ 之前/ 提出/ 的/ 写/ 取消/ 技术/ 延迟/ 要/ 小/ ,/ 效果/ 更好/ ,/ 但是/ 它/ 自身/ 有/ 一个/ 时间/ 开销/ 问题/ ,/ 即/ 在/ 进行/ PreSET/ 操作/ 时/ ,/ 系统/ 必须/ 要/ 分配/ 一个/ 较长/ 的/ 时间/ 窗口/ 来/ 完成/ SET/ 操作/ ./ Yue/ 等/ 人/ [/ 21/ ]/ 提出/ 的/ 两/ 阶段/ 写/ 策略/ 同样/ 利用/ 了/ PCM/ 写/ “/ 0/ ”/ 和/ 写/ “/ 1/ ”/ 位/ 之间/ 的/ 速度/ 和/ 功耗/ 差异/ ,/ 该/ 策略/ 将/ 写/ 过程/ 分为/ 两个/ 阶段/ :/ 写/ “/ 0/ ”/ 阶段/ 和/ 写/ “/ 1/ ”/ 阶段/ ./ 前者/ 利用/ 写/ 0/ 更快/ 的/ 特性/ 用/ 较/ 短时间/ 完成/ 所有/ 写/ “/ 0/ ”/ 操作/ ,/ 而/ 后者/ 在/ 不/ 违反/ 功耗/ 限制/ 的/ 前提/ 下/ 并行执行/ 多个/ 单元/ 的/ 写/ “/ 1/ ”/ 操作/ ,/ 从而/ 提升/ 总体/ 性能/ ./ 与此同时/ ,/ 作者/ 提出/ 了/ 一种/ 新/ 的/ 编码方案/ ,/ 统计/ 目标/ 写/ 单元/ 中/ 写入/ bit/ 位/ “/ 1/ ”/ 和/ “/ 0/ ”/ 的/ 数目/ ,/ 当/ “/ 1/ ”/ 位比/ “/ 0/ ”/ 位多/ 的/ 情况/ 下/ ,/ 进行/ 位/ 翻转/ ,/ 即/ 写/ “/ 0/ ”/ 而/ 非/ 写/ “/ 1/ ”/ ,/ 并用/ 一个/ 标记/ 位/ 记录/ 位/ 反转/ ,/ 以此/ 通过/ 更快/ 的/ 写/ “/ 0/ ”/ 操作/ 来/ 进一步/ 加快/ 写/ “/ 1/ ”/ 阶段/ 的/ 速度/ ./ 该/ 方法/ 虽然/ 对/ 写/ 性能/ 有所提高/ ,/ 但是/ 带来/ 了/ 功耗/ 上/ 的/ 问题/ 和/ 对/ PCM/ 寿命/ 的/ 影响/ ./ 随后/ 该/ 作者/ 又/ 在/ 文献/ [/ 22/ ]/ 中/ 提出/ 新/ 的/ 机制/ 即/ PASAK/ 策略/ ,/ 通过/ 开发/ bank/ 内部/ 子/ 阵列/ 级别/ 的/ 并行性/ ,/ 在/ 不/ 违反/ 功耗/ 限制/ 的/ 前提/ 下/ ,/ 当对/ PCM/ 的/ 一个/ bank/ 进行/ 写/ 操作/ 的/ 同时/ 可以/ 并行/ 地/ 进行/ 多个/ 读/ 操作/ ;/ 该/ 机制/ 利用/ 了/ 写/ “/ 0/ ”/ 和/ 写/ “/ 1/ ”/ 的/ 电流/ 不/ 对称/ 特性/ ,/ 提出/ 一个/ 电流/ 预/ 分配机制/ ,/ 即/ 根据/ 在/ 一个/ 数据/ 块/ 中/ 写/ “/ 0/ ”/ 和/ 写/ “/ 1/ ”/ 的/ 数目/ 获取/ 精确/ 的/ 电流/ 需求/ ,/ 并/ 以此/ 根据/ 电流/ 分配/ 的/ 盈余/ 来/ 服务/ 在/ 该/ bank/ 中/ 没有/ 子/ 阵列/ 冲突/ 下/ 的/ 其他/ 读/ 请求/ ,/ 这/ 可以/ 在/ 没有/ 额外/ 功耗/ 开销/ 的/ 前提/ 下/ 提升/ PCM/ 的/ 并行性/ ./ 当然/ 该/ 策略/ 并/ 没有/ 考虑/ 如何/ 降低/ bank/ 冲突/ 率/ 和/ 当/ bank/ 冲突/ 发生/ 时/ 如何/ 最大/ 限度/ 地/ 降低/ 性能/ 损耗/ ,/ 且/ 当/ 大量/ bank/ 冲突/ 发生/ 时该/ 策略/ 的/ 适用性/ 也/ 有待/ 考验/ ./ (/ 2/ )/ 减少/ 写/ 次数/ 或/ 写入/ 数据量/ Joo/ 等/ 人/ [/ 23/ ]/ 提出/ 了/ 把/ PCM/ 作为/ cache/ 的/ 设计方案/ ,/ 该/ 方案/ 采用/ “/ 写前/ 读/ ”/ 策略/ ,/ 即/ 在/ 写/ 之前/ 进行/ 读/ 操作/ ,/ 以/ 防止出现/ 冗余/ 的/ 数据/ 更改/ ;/ 在/ 此基础/ 上/ 作者/ 部署/ 了/ 数据位/ 翻转/ 策略/ ,/ 即/ 在/ 写/ 之前/ 计算/ 当前/ 值/ 和/ 写入/ 值/ 的/ 海明/ 距离/ ,/ 并/ 据此/ 确定/ 是否/ 进行/ 数据位/ 翻转/ 以/ 进一步/ 减少/ 位写/ 操作/ ;/ 同时/ 采用/ 磨损/ 均衡/ 策略/ ,/ 利用/ Bit/ -/ Line/ 偏移/ ,/ 当某/ 一/ line/ 的/ 写/ 次数/ 到达/ 阈值/ 之后/ ,/ 就/ 更改/ 当前/ 写/ 的/ 偏移/ 值/ ,/ 把/ 写/ 的/ 数据/ 移/ 向/ 其他/ line/ ./ 该/ 方案/ 既/ 发挥/ 了/ PCM/ 高密度/ 、/ 非易/ 失性/ 的/ 优势/ ,/ 又/ 在/ 性能/ 开销/ 不大/ 的/ 情况/ 下/ ,/ 节省/ 了/ 系统/ 功耗/ ,/ 提升/ 了/ 系统/ 的/ 寿命/ [/ 23/ ]/ ./ 但是/ 在/ 上述/ 机制/ 中/ ,/ 不得不/ 考虑/ 如何/ 降低/ 各个/ 策略/ 本身/ 的/ 开销/ 对/ 性能/ 带来/ 的/ 影响/ ,/ 如/ Bit/ -/ Line/ 偏移/ 所/ 需要/ 的/ 标记/ 位/ 、/ 海明/ 距离/ 的/ 计算/ 等/ 额外/ 开销/ 及其/ 移位/ 后/ 对/ 读写/ 性能/ 的/ 影响/ ./ 针对/ PCM/ 写/ 操作/ 的/ 去/ 冗余/ 方法/ ,/ Cho/ 等/ 人/ [/ 24/ ]/ 在/ 现有/ 研究/ 的/ 基础/ 上/ 进行/ 了/ 改进/ ,/ 实现/ 了/ 每次/ 写/ 操作/ 实际/ 写入/ 的/ 数据量/ 不/ 超过/ 要/ 写入/ 数据量/ 的/ 1/ // 2/ ./ 具体/ 过程/ 为/ 在/ 每次/ 写/ 操作/ 时/ ,/ 比较/ 要/ 写入/ 的/ 数据/ 与/ 要/ 写入/ 单元/ 上/ 的/ 原始数据/ 的/ 差异/ ,/ 如果/ 两者/ 差异/ 数据量/ 小于/ 原始数据/ 的/ 1/ // 2/ ,/ 直接/ 将/ 差异/ 数据/ 写入/ ,/ 如果/ 大于/ 1/ // 2/ ,/ 则/ 将要/ 写入/ 的/ 数据/ 全部/ 取反/ ,/ 同时/ 在/ 写/ 操作/ 进行/ 的/ cacheline/ 上/ 增加/ 一个/ flip/ 标记/ 位以/ 表示/ 数据位/ 被/ 取反/ ,/ 从而/ 在/ 后续/ 的/ 读/ 操作/ 中/ 能够/ 有所/ 识别/ ./ 这种/ 方法/ 大大减少/ 了/ 写/ 次数/ ,/ 减少/ 了/ 延迟/ ,/ 降低/ 了/ 功耗/ ,/ 延长/ 了/ 寿命/ ./ 然而/ ,/ 该/ 策略/ 引入/ 了/ 额外/ 的/ 读数据/ 、/ 比较/ 数据/ 和/ 数据/ 取反/ 的/ 开销/ ,/ 增加/ 了/ 读写/ 硬件/ 的/ 复杂度/ 和/ 读写/ 延迟/ ./ Lee/ 等/ 人/ [/ 4/ ]/ 提出/ 了/ 缓冲区/ 重组/ (/ BufferReor/ -/ ganization/ )/ 和/ 部分/ 写/ 策略/ ./ 对于/ 前者/ ,/ 多个/ 缓冲区/ 行/ 利用/ 局部性/ 原理/ 来/ 合并/ 写/ 操作/ ,/ 从而/ 隐藏/ 了/ PCM/ 的/ 延迟/ ,/ 降低/ 了/ 功耗/ ;/ 对于/ 后者/ ,/ 跟踪/ 数据/ 的/ 修改/ ,/ 写入/ 数据/ 时/ 和/ 原始数据/ 进行/ 比较/ ,/ 只/ 将/ 有/ 修改/ 的/ cacheline/ 或者/ word/ 写入/ 到/ PCM/ 阵列/ ,/ 由此/ 大大减少/ 写/ 操作/ 次数/ 和/ 写入/ 数据量/ ,/ 提高/ PCM/ 的/ 寿命/ ./ 上述/ 方案/ 能够/ 隐藏/ PCM/ 的/ 写/ 延迟/ ,/ 降低功耗/ 并/ 能够/ 提升/ 寿命/ ,/ 但/ 方案/ 中/ 合并/ 写/ 、/ 数据/ 比较/ 等/ 机制/ 本身/ 的/ 开销/ Page6/ 无法/ 忽略/ ./ (/ 3/ )/ 通过/ 磨损/ 均衡/ 提升/ 寿命/ Zhou/ 等/ 人/ [/ 5/ -/ 6/ ]/ 提出/ 了/ 3/ 种/ 提高/ PCM/ 寿命/ 的/ 机制/ :/ ①/ 消除/ 冗余/ 位/ 写入/ ./ 在/ PCM/ 单元/ 的/ 写/ 操作/ 路径/ 中/ 加上/ 一个/ XNOR/ 逻辑/ 门/ ,/ 通过/ 此/ 判断/ 要/ 写/ 数据/ 的/ 冗余/ 位/ 信息/ ,/ 然后/ 只/ 写入/ 有/ 修改/ 的/ 位/ ,/ 这样/ 减少/ 了/ 写/ 数目/ ,/ 降低/ 了/ 写/ 功耗/ ,/ 延长/ 了/ PCM/ 的/ 使用寿命/ ;/ ②/ 行/ 移位/ ./ 当/ 采用/ 消除/ 冗余/ 位/ 写入/ 后/ ,/ 增加/ 了/ 位/ 更改/ 的/ 局部性/ ,/ 因此/ 通过/ 增加/ 一个/ 偏移/ 器/ ,/ 在/ 一个/ 行中/ 应用/ 一个/ 移位/ 机制/ ,/ 使得/ 每次/ 写入/ 的/ 部分/ 依次/ 偏移/ 定值/ 以/ 避免/ 对/ 某些/ 数据位/ 频繁/ 写入/ ;/ ③/ 段/ 交换/ ./ 在/ 一个/ 更大/ 的/ 粒度/ —/ —/ —/ 段/ 上/ 进行/ 移位/ ,/ 在/ 写入/ 过程/ 中/ ,/ 定期/ 互换/ 内存/ 段/ 的/ 高部/ 与/ 低部/ ,/ 以/ 进一步/ 达到/ 磨损/ 均衡/ ,/ 提高/ PCM/ 寿命/ ./ 上述/ 3/ 种/ 机制/ 综合/ 提升/ 了/ PCM/ 的/ 寿命/ ,/ 但是/ 都/ 带来/ 了/ 各自/ 的/ 开销/ ,/ 特别/ 是/ 行/ 移位/ 和/ 段/ 交换/ 需要/ 在/ 硬件/ 电路/ 上/ 增加/ 移位/ 寄存器/ 和/ 偏移/ 器/ ./ Yun/ 等/ 人/ [/ 25/ ]/ 针对/ PCM/ 本身/ 提出/ 一种/ 动态/ 磨损/ 均衡/ 机制/ ,/ 进一步提高/ PCM/ 的/ 寿命/ ./ 作者/ 提出/ 基于/ 布隆/ 过滤器/ (/ BloomFilter/ )/ 的/ 磨损/ 均衡/ 策略/ ,/ 即/ 采用/ 多重/ 布隆/ 过滤器/ 进行/ 冷热/ 数据/ 的/ 识别/ ,/ 方案/ 中/ 维持/ 一个/ 冷/ 数据表/ 和/ 一个/ 热/ 数据表/ ;/ 当/ 一个/ 请求/ 到达/ 时/ ,/ 首先/ 在/ 冷热/ 数据表/ 中/ 寻找/ ,/ 如果/ 命中/ 则/ 进行/ 冷热/ 数据/ 的/ 交换/ ,/ 否则/ 就/ 直接/ 访问/ 请求/ 本身/ 的/ 地址/ ,/ 并/ 更新/ 过滤器/ 计数器/ 值/ ./ 同时/ 作者/ 还/ 提出/ 了/ 一个/ 动态/ 更新/ 热/ 数据/ 阈值/ 的/ 思想/ ,/ 实时/ 更新/ 冷热/ 数据/ 的/ 判断/ 依据/ ./ 为了/ 避免/ 因/ 冷热/ 数据/ 判定/ 错误/ 而/ 带来/ 额外/ 的/ 开销/ ,/ 该/ 策略/ 为/ 冷热/ 数据/ 识别/ 维持/ 了/ 一个/ 三级/ 队列/ 结构/ L3/ -/ L1/ ,/ 每/ 一个/ 队列/ 都/ 采用/ FIFO/ (/ FirstInFirstOut/ )/ 策略/ ,/ 且/ 热/ 数据/ 的/ “/ 热/ ”/ 性质/ 依次/ 增加/ ,/ 新/ 判定/ 的/ 热/ 数据/ 首先/ 存放/ 在/ L3/ 中/ ,/ 随着/ 其/ 访问/ 频率/ 的/ 递增/ ,/ 会/ 从/ L3/ 升级/ 到/ L2/ ,/ 直至/ L1/ ./ 该/ 磨损/ 均衡/ 策略/ ,/ 提高/ 了/ PCM/ 的/ 寿命/ ./ 另外/ ,/ 该/ 机制/ 实际上/ 是/ 借鉴/ 了/ NANDFlash/ 的/ 磨损/ 均衡/ 思想/ ,/ 但/ 策略/ 中/ 的/ 三级/ 队列/ 结构/ 需要/ 占用/ 存储空间/ ,/ 同时/ 冷热/ 数据/ 识别/ 、/ 迁移/ 等/ 机制/ 的/ 进行/ 会/ 影响/ 系统/ 的/ 读写/ 性能/ ,/ 带来/ 一定/ 的/ 延迟/ ./ Ferreira/ 提出/ 3/ 个/ 策略/ 以/ 提升/ PCM/ 存储系统/ 的/ 寿命/ :/ ①/ 写回/ 最小化/ 的/ 缓存/ 替换/ 策略/ ./ 在/ 选择/ 替换/ 块/ 时/ 优先选择/ 一个/ 没有/ 修改/ 过/ 的/ 块/ 进行/ 替换/ ,/ 以/ 减小/ 因/ 替换/ 操作/ 带来/ 的/ 写/ 回/ 操作/ 发生/ 的/ 几率/ ,/ 同时/ 尽量/ 让/ 频繁/ 修改/ 的/ 条目/ 处在/ cache/ 中以/ 增加/ 可/ 合并/ 写/ 的/ 几率/ ;/ ②/ 避免/ 不必要/ 的/ 写/ 机制/ ./ 采用/ 页面/ 分区/ 机制/ ,/ 即将/ 页面/ 分为/ 若干/ 子/ 页面/ ,/ 只有/ 当子/ 页面/ 有脏位/ 时/ 才/ 将/ 该子/ 页面/ 写回/ ,/ 同时/ 联合/ RWR/ (/ Read/ -/ Write/ -/ Read/ )/ 机制/ ,/ 即/ 在/ 要/ 写/ 回到/ PCM/ 中时/ 读取/ 原始/ 页面/ 的/ 数据/ 并/ 进行/ 比/ 对/ ,/ 不/ 一致/ 时/ 再/ 真正/ 写回/ ,/ 以/ 避免/ 不必要/ 的/ 写/ 发生/ ;/ ③/ 磨损/ 均衡/ 算法/ ./ 通过/ 映射/ 表/ 和/ 页面/ 写/ 操作/ 计数器/ ,/ 在/ 写/ 回/ 操作/ 时/ 修改/ 映射/ 关系/ 以/ 将/ 写/ 操作/ 频繁/ 的/ 页面/ 转移/ 到/ 不/ 频繁/ 的/ 页面/ ,/ 以此/ 提高/ PCM/ 内存/ 系统/ 的/ 寿命/ [/ 9/ ]/ ./ 上述/ 方案/ 中子/ 页面/ 的/ 粒度/ 选取/ 将/ 直接/ 影响/ 到/ 系统/ 的/ 性能/ 和/ 空间/ 开销/ 的/ 大小/ ,/ 同时/ 选择/ 替换/ 块/ 、/ 分割/ 子/ 页面/ 和/ 统计/ 写/ 操作/ 频率/ 亦/ 会/ 对系统/ 性能/ 造成/ 影响/ ./ (/ 4/ )/ 降低/ PCM/ 写/ 功耗/ Xu/ 等/ 人/ 在/ 文献/ [/ 26/ ]/ 中/ 提出/ 通过/ 优化/ 数据处理/ 流程/ 来/ 降低/ PCM/ 的/ 写/ 功耗/ ./ 由于/ PCM/ 的/ 读/ 功耗/ 远/ 小于/ 写/ 功耗/ ,/ 且/ 对/ 一个/ PCM/ 存储单元/ 写/ 不同/ 的/ 值/ 所/ 需/ 的/ 功耗/ 具有/ 显著/ 差异/ ,/ 该/ 方案/ 为/ 每/ 一个/ 存储/ 在/ PCM/ 单元/ 中/ 的/ word/ 额外/ 设置/ 一个/ XOR/ (/ 异或/ 逻辑/ )/ word/ ,/ 在/ 进行/ 读写操作/ 时/ 可以/ 利用/ 该/ XORword/ 进行/ 相应/ 的/ 异或/ 操作/ ,/ 一旦/ 欲/ 写入/ 的/ word/ 和/ 与/ 新/ 的/ XORword/ 异或/ 的/ 结果/ 等于/ 读/ 操作/ 的/ 结果/ 时/ ,/ 则/ 放弃/ 这次/ 写/ ./ 以此/ 为/ 基准/ ,/ 当/ 需要/ 进行/ 写/ 操作/ 时先/ 读取/ 写/ 地址/ 内容/ ,/ 并/ 通过/ selective/ -/ XOR/ 寻找/ 一个/ 能/ 使得/ 本次/ 写/ 操作/ 数据量/ 最优/ 的/ 新/ XORword/ ,/ 从而/ 获得/ 最低/ 的/ 写/ 能耗/ ./ 该/ 方案/ 的/ 缺陷/ 是/ :/ ①/ 带来/ 了/ 额外/ 的/ XOR/ 存储/ 开销/ ;/ ②/ 额外/ 的/ 读/ 操作/ 会/ 有/ 一定/ 的/ 能耗/ 开销/ ;/ ③/ 寻找/ 最优/ 的/ XORword/ 会/ 带来/ 开销/ ./ Hay/ 等/ 人/ 在/ 文献/ [/ 27/ ]/ 中/ 提出/ 一种/ “/ 功耗/ 令牌/ ”/ (/ powertoken/ )/ 技术/ 来/ 减少/ PCM/ 的/ 写/ 功耗/ ./ 该/ 技术/ 根据/ PCM/ 芯片/ 电源/ 引脚/ 所/ 能/ 提供/ 的/ 最大/ 功耗/ 和/ 每个/ bit/ 位写/ 所/ 需/ 的/ 功耗/ 计算/ 出/ 一个/ PCM/ 芯片/ 所/ 能/ 支持/ 的/ 最大/ 写/ 操作/ 数目/ ,/ 从而/ 以该/ 数目/ 控制/ “/ 功耗/ 令牌/ ”/ 的/ 数量/ ,/ 每次/ 写/ 操作/ 进行/ 时/ 需要/ 先读/ 原始/ 内容/ ,/ 通过/ 比/ 对/ 来/ 决定/ 令牌/ 的/ 发放/ ,/ 当/ 一个/ bit/ 位/ 拥有/ “/ 功耗/ 令牌/ ”/ 时才/ 能够/ 被/ 写/ ,/ 从而/ 避免/ 很多/ 无用/ 的/ 写/ 操作/ 发生/ ./ 该/ 方案/ 实现/ 了/ 在/ 不/ 超过/ 功率/ 预算/ 的/ 前提/ 下/ 降低/ 写/ 操作/ 次数/ ,/ 从而/ 减少/ 功耗/ ./ 当然/ ,/ 方案/ 的/ 实现/ 必须/ 得到/ 内存/ 控制器/ 的/ 支持/ ,/ 同时/ 令牌/ 本身/ 带来/ 的/ 开销/ 也/ 不容忽视/ ./ Bock/ 等/ 人/ 在/ 文献/ [/ 28/ ]/ 中/ 提出/ 通过/ 避免/ 无用/ 的/ 写/ 回/ 操作/ 来/ 降低/ PCM/ 的/ 功耗/ ./ 在/ 该/ 方案/ 中/ ,/ 当/ 一个/ 写回/ 操作/ 的/ 数据/ 不再/ 被/ 系统/ 所/ 使用/ 时/ ,/ 则/ 定义/ 此时/ 向/ 低/ 级别/ cache/ 的/ 写/ 回/ 操作/ 是/ 无效/ 的/ ./ 例如/ ,/ 当/ 一个/ 属于/ 无效/ 内存/ 区域/ 的/ 脏块/ 从/ cache/ 中/ 被/ 驱逐/ 时/ 就/ 会/ 产生/ 一个/ 无效/ 写回/ ./ 一旦/ 某/ 一个/ 写/ 回/ 被/ 判定/ 为/ 无效/ 写回/ ,/ 就/ 直接/ 放弃/ 该/ 写/ 回/ 操作/ ,/ 从而/ 避免/ 了/ 对/ PCMPage7/ 物理/ 芯片/ 的/ 无效/ 写/ 操作/ ./ 该/ 策略/ 可以/ 在/ 降低功耗/ 的/ 同时/ 提升/ PCM/ 的/ 寿命/ ,/ 并/ 对/ 性能/ 没有/ 显著/ 的/ 影响/ ,/ 不过/ 具有/ 无效/ 写回/ 操作/ 的/ 判定/ 开销/ ./ 除此之外/ ,/ 前述/ (/ 1/ )/ ~/ (/ 3/ )/ 中/ 很多/ 研究/ 在/ 提升/ 性能/ 或/ 寿命/ 的/ 同时/ ,/ 也/ 潜在地/ 降低/ 了/ PCM/ 的/ 写/ 功耗/ ,/ 如/ 缓冲区/ 重组/ 策略/ [/ 4/ ]/ 、/ 冗余/ 位/ 消除/ 策略/ [/ 5/ -/ 6/ ]/ 、/ RWR/ 机制/ [/ 9/ ]/ 、/ 写/ 截断/ 策略/ [/ 19/ ]/ 、/ 写前/ 读/ 策略/ [/ 23/ ]/ 和/ 写/ 操作/ 去/ 冗余/ 策略/ [/ 24/ ]/ 等/ ./ 综上/ 而言/ ,/ 优化/ 写/ 操作/ ,/ 减少/ 写/ 操作/ 次数/ 、/ 写入/ 数据量/ 或/ 写/ 操作/ 本身/ 所/ 需/ 的/ 迭代/ 数目/ ,/ 为/ 同时/ 优化/ PCM/ 的/ 功耗/ 和/ 寿命/ 提供/ 了/ 一条/ 有/ 价值/ 的/ 研究/ 路线/ ./ 2.3/ PCM/ 在/ 系统/ 中/ 的/ 应用/ 层次/ 及/ 引发/ 的/ 变革/ 当前/ 的/ 计算机系统/ 架构/ ,/ 采用/ 传统/ 的/ DRAM/ 作为/ 内存/ ,/ Disk/ 作为/ 外存/ ./ 随着/ NVM/ 的/ 出现/ ,/ 传统/ 架构/ 正/ 发生/ 着/ 变化/ ,/ 它/ 已经/ 开始/ 部分/ 或者/ 全部/ 替代/ 内存/ 或/ 外存/ :/ 在/ 作/ 外存/ 时/ ,/ NVM/ 可以/ 完全/ 替代/ Disk/ 或/ 与/ 之/ 构成/ 混合/ 外存/ ;/ 在/ 作/ 内存/ 时/ ,/ NVM/ 可以/ 和/ DRAM/ 联合/ 使用/ 构成/ 混合/ 内存/ ,/ 同时/ 也/ 可以/ 考虑/ 完全/ 替代/ DRAM/ 来作/ 内存/ 使用/ ./ 图/ 2/ 展示/ 了/ NVM/ 的/ 出现/ 对/ 计算机系统/ 结构/ 产生/ 的/ 影响/ ./ 随着/ 器件/ 研究/ 的/ 推进/ ,/ PCM/ 在/ 系统/ 中/ 的/ 应用/ 逐渐/ 起步/ ,/ 已经/ 给/ 现有/ 的/ 存储系统/ 带来/ 了/ 新/ 的/ 机遇/ 和/ 变革/ ./ PCM/ 在/ 计算机/ 存储系统/ 领域/ 的/ 研究/ ,/ 主要/ 方向/ 有/ 两个/ :/ 一是/ 作为/ 外存/ 设备/ 使用/ ,/ 二是/ 作为/ 内存/ 介质/ 使用/ ./ 在/ 内存/ 领域/ 的/ 应用/ ,/ 又/ 集中/ 在/ 两个/ 方面/ ,/ 一个/ 是/ 直接/ 采用/ PCM/ 取代/ DRAM/ 作为/ 内存/ (/ MainMemory/ )/ ,/ 另/ 一个/ 是/ 采用/ PCM/ 和/ DRAM/ 作为/ 混合/ 内存/ (/ HybridMemory/ )/ ./ 由于/ 目前/ PCM/ 仍/ 存在/ 一些/ 缺陷/ ,/ 用作/ 外存/ 的/ 可行性/ 相对/ 较/ 高/ ./ Ranganathan/ 和/ Chang/ 在/ 文献/ [/ 29/ ]/ 中/ 提出/ ,/ 当前/ 计算机/ 存储系统/ 架构/ 正在/ 经历/ 从/ 使用/ 机械/ 硬盘/ 到/ 使用/ 固态/ 硬盘/ 作为/ 非易失/ 存储设备/ 的/ 演变/ ,/ 未来/ 将/ 由/ 存储/ 级/ 内存/ (/ StorageClassMemory/ ,/ SCM/ )/ 实现/ 统一/ 内外/ 存/ 系统/ ./ 作者/ 分析/ 了/ 当前/ 计算机/ 应用环境/ 的/ 变化/ :/ 一方面/ ,/ 收集/ 和/ 处理/ 大规模/ 数据/ 的/ 需求/ 增加/ ,/ 实时/ 商务/ 分析/ 等/ 诸多/ 基于/ 数据中心/ 的/ 应用/ 不断/ 地/ 出现/ 在生活中/ ;/ 另一方面/ ,/ 数据/ 的/ 产生/ 速度/ 已经/ 超过/ 了/ 存储介质/ 的/ 密度/ 、/ 价格/ 等/ 方面/ 的/ 发展/ ,/ 处理/ 数据/ 的/ 能力/ 明显/ 滞后/ 于/ 采集/ 和/ 存储/ 数据/ 的/ 能力/ ./ 同时/ 论述/ 了/ 在/ 面对/ 上述/ 需求/ 和/ 矛盾/ 时/ ,/ 当前/ 系统/ 架构/ 和/ 软硬件/ 方面/ 的/ 设计方案/ 和/ 设计/ 思想/ ,/ 包括/ 硬件/ 架构/ 、/ 软件系统/ 、/ 上层/ 算法/ 、/ 以/ 数据/ 为/ 中心/ 的/ 数据/ 计算/ 等/ ,/ 认为/ 在/ 未来/ 传统/ 的/ 内存/ 和/ 存储/ 体系结构/ 之间/ 的/ 区别/ 将会/ 变得/ 含糊/ ,/ 数据/ 计算/ 将会/ 在/ 以/ 数据/ 为/ 中心/ 的/ 数据/ 存储/ 和/ 通信/ 中/ 变得/ 普遍/ ,/ 且/ 传统/ 的/ 服务/ 类/ 进程/ 将/ 拥有/ 更/ 多/ 专业/ 的/ 计算/ 模式/ ;/ 在/ 将来/ 会/ 有/ 新/ 的/ 软件/ 栈/ 诞生/ ,/ 它会/ 避免/ 现有/ 解决方案/ 的/ 缺陷/ ,/ 拥有/ 可/ 字节/ 寻址/ 的/ 持久/ 存储/ 特点/ ,/ 也/ 会/ 有/ 新/ 的/ 算法/ 来/ 匹配/ 这种/ 新/ 的/ 软件/ 硬件/ 的/ 架构设计/ 等/ ./ 因此/ 该/ 领域/ 不得不/ 重新考虑/ 利用/ 技术革新/ 如/ 采用/ 非易失/ 存储器/ 、/ 光通信/ 、/ 多核/ 、/ 异构计算/ 等/ 技术/ 为/ 数据中心/ 系统/ 提供/ 新/ 的/ 解决方案/ ,/ 以/ 最大/ 限度/ 地/ 适应/ 技术/ 的/ 发展/ ,/ 适配/ 于/ 新/ 的/ 应用/ 场景/ ./ 在/ 传统/ 的/ 块/ I/ // O/ 路径/ 上/ ,/ 操作系统/ 几乎/ 通过/ 中断/ 完成/ 所有/ 的/ 异步/ I/ // O/ ./ Yang/ 等/ 人/ [/ 30/ ]/ 的/ 研究/ 针对/ PCM/ 读取/ 速度/ 快/ 的/ 优点/ ,/ 提出/ 将/ 目前/ I/ // O/ 路径/ 中/ 的/ 异步/ I/ // O/ 访问/ 模式/ 改变/ 为/ 同步/ I/ // O/ 访问/ 模式/ ,/ 即/ 采用/ 轮询/ 方式/ 取代/ 中断/ ,/ 与/ PCM/ 设备/ 通信/ ./ 作者/ 通过/ 实验/ 证明/ 同步/ 完成/ 模式/ 是/ 安全/ 可行/ 的/ ,/ 并/ 认为/ 未来/ 将/ 新一代/ NVM/ 介质/ 引入/ 同步/ 完成/ 模型/ ,/ 将/ 具有/ 显著/ 的/ 性能/ 优势/ ,/ 这为/ 今后/ 计算机系统/ 的/ 设计/ 提供/ 了/ 一种/ 新/ 的/ 思路/ ./ 但是/ 该/ 思想/ 没有/ 考虑/ PCM/ 的/ 写/ 性能/ 问题/ ,/ 也/ 不得不/ 面对/ 同步/ 模式/ 下/ 不可/ 忽略/ 的/ I/ // O/ 开销/ 以及/ 在/ 内核/ 中因/ 应用程序/ 的/ 复杂性/ 而来/ 的/ 技术/ 瓶颈/ ./ Coburn/ 等/ 人/ [/ 31/ ]/ 提出/ 了/ 一个/ 轻量级/ 的/ 面向/ 持久/ 对象/ 的/ 系统/ —/ —/ —/ NV/ -/ Heaps/ ,/ 该/ 系统/ 基于/ PCM/ 实现/ ,/ 允许/ 程序开发/ 者/ 将/ 系统/ 重要/ 的/ 数据结构/ 信息/ 存储/ 在/ 非易失/ 存储器/ 中/ ,/ 并/ 将/ 其/ 物理地址/ 直接/ 映射/ 到/ 应用程序/ 的/ 地址/ 空间/ ,/ 利用/ PCM/ 可以/ 本地/ 覆盖/ 写/ 的/ 特性/ 实现/ 就/ 地/ 更新/ ./ NV/ -/ Heaps/ 通过/ 三种/ 机制/ 实现/ 了/ 当/ 系统/ 发生/ 掉电/ 等/ 意外/ 时/ 能够/ 恢复/ 到/ 与/ 之前/ 一致/ 的/ 状态/ ./ 首先/ 采用/ 有/ 选择/ 的/ 进行/ 系统/ 恢复/ 的/ 思想/ ,/ 即/ 在/ 持久/ 堆/ (/ persistentheap/ )/ 失败/ 时/ 恢复/ ,/ 而/ 在/ 易失/ 的/ 堆/ 对象/ 、/ 栈/ 对象/ 以及/ 线程/ 上下文/ 发生意外/ 时/ 不/ 进行/ 恢复/ ;/ 其次/ 采用/ flush/ -/ on/ -/ commit/ 更新/ 策略/ 和/ 事务/ 日志/ 策略/ 以/ 确保/ 掉电/ 后/ 系统/ 的/ 更新/ 不会/ 丢失/ ;/ 最后/ 使用/ 软件/ 事务性/ 内存/ (/ SoftwareTransactionalMemory/ ,/ STM/ )/ 来/ 隔离线/ 程和/ 持久/ 堆/ 之间/ 的/ 一致/ Page8/ 性/ ./ NV/ -/ Heaps/ 提供/ 了/ 一个/ 轻量级/ 、/ 高性能/ 、/ 面向/ 持久/ 对象/ 的/ 系统/ ,/ 但是/ 其/ 无法/ 确保/ 所有/ 的/ 应用程序/ 能够/ 得到/ 恢复/ ,/ 同时/ flush/ -/ on/ -/ commit/ 会/ 带来/ 很/ 高/ 的/ 运行/ 时/ 开销/ ,/ 而/ STM/ 应用/ 价值/ 也/ 具有/ 局限性/ ,/ 并/ 不是/ 所有/ 的/ 应用程序/ 都/ 会/ 使用/ 到/ ./ Moneta/ -/ D/ 是/ 一个/ 新颖/ 的/ 存储/ 体系结构/ [/ 32/ ]/ ,/ 其/ 采用/ 实际/ 的/ PCM/ 作为/ 存储设备/ ./ 该/ 体系结构/ 为/ 每个/ 访问/ 提供/ 一个/ 私有/ 的/ 、/ 虚拟化/ 的/ 接口/ ,/ 并/ 由/ 硬件/ 完成/ 文件系统/ 保护/ 检查/ ,/ 使得/ 应用程序/ 可以/ 在/ 没有/ 操作系统/ 的/ 干预/ 下/ 访问/ 文件/ 数据/ ,/ 从而/ 消除/ 操作系统/ 和/ 文件系统/ 的/ 开销/ ;/ 同时/ 该/ 结构/ 仅仅/ 需要/ 文件系统/ 做/ 很小/ 的/ 改变/ 就/ 能够/ 支持/ 新/ 的/ 访问/ 模型/ ,/ 而/ 不/ 需要/ 修改/ 现有/ 的/ 应用/ 程序接口/ ./ 虽然/ Moneta/ -/ D/ 降低/ 了/ 执行/ 文件系统/ 权限/ 检查/ 的/ 开销/ ,/ 但/ 还是/ 带来/ 了/ 因/ 权限/ 管理/ 、/ 访问/ 等/ 其他/ 操作/ 所/ 导致/ 的/ 系统/ 额外/ 延迟/ ./ 针对/ 目前/ 数据库/ 数据/ 和/ 键值/ (/ key/ -/ value/ )/ 存放/ 在/ 内存/ 中需/ 考虑/ 的/ 因/ 意外/ 掉电/ 或/ 操作/ 失败/ 所/ 面临/ 的/ 数据恢复/ 问题/ ,/ Narayanan/ 等/ 人/ [/ 13/ ]/ 提出/ 一种/ WSP/ (/ Whole/ -/ SystemPersistence/ )/ 方法/ ,/ 利用/ PCM/ 实现/ 非易失/ 内存/ ,/ 这样/ 因/ 断电/ 或者/ 操作/ 失败/ 而/ 导致/ 的/ 数据恢复/ 就/ 能/ 在/ 本地/ 快速/ 进行/ ,/ 该/ 方案/ 不同于/ NV/ -/ Heaps/ 的/ flush/ -/ on/ -/ commit/ ,/ 而是/ 采用/ 了/ flush/ -/ on/ -/ fail/ 的/ 思想/ ,/ 其/ 具体/ 实现/ 包括/ 一个/ 保护/ 和/ 恢复程序/ ,/ 设备/ 重启/ 程序/ ,/ 并/ 使用/ 可编程/ 单片机/ 部署/ 了/ 一个/ 功耗/ 监控器/ ,/ 在/ 硬件/ 实现/ 方案/ 中/ 添加/ 了/ 一个/ Power/ -/ GEM/ 模块/ ,/ 即/ 一个/ 采用/ 超大/ 电容/ 的/ 供/ 电子系统/ ,/ 当/ 系统/ 掉电/ 时/ ,/ 该/ 模块/ 将/ 服务/ 于/ 保护/ 和/ 恢复程序/ 保存/ 和/ 恢复/ 应用程序/ 和/ 操作系统/ 的/ 状态/ ./ 该/ 方案/ 利用/ PCM/ 提供/ 了/ 一个/ 具有/ 非易/ 失性/ 的/ 内存/ 原型/ ,/ 但/ 其本质/ 上/ 只是/ 在/ 系统/ 掉电/ 或/ 操作/ 失败/ 时/ 利用/ PCM/ 的/ 非易/ 失性/ ,/ 并/ 没有/ 将/ PCM/ 的/ 其他/ 优势/ 如/ 功耗/ 、/ 密度/ 、/ 性能/ 等/ 充分/ 开发/ 并/ 应用/ 于/ 内存/ 系统/ ./ 3PCM/ 内存/ 技术/ 研究/ 综述/ 采用/ PCM/ 部分/ 或者/ 完全/ 取代/ 现有/ 的/ DRAM/ 内存/ 需/ 探索/ 新/ 的/ 内存/ 管理/ 方法/ ,/ 研究/ 新/ 的/ 内存/ 控制器/ 硬件/ 和/ 新/ 的/ 内存/ 管理软件/ ./ 这些/ 研究/ 假定/ PCM/ 和/ DRAM/ 一样/ ,/ 提供/ DDR/ 的/ 接口/ ,/ CPU/ 直接/ 通过/ DDR/ 内存/ 控制器/ 访问/ PCM/ ./ 3.1/ 基于/ PCM/ 的/ 直接/ 内存/ 技术/ 研究/ Qureshi/ 等/ 人/ [/ 7/ ]/ 针对/ MLC/ 结构/ 的/ PCM/ 在/ 容量/ 倍增/ 时所/ 面对/ 的/ 性能/ 降低/ 问题/ ,/ 提出/ 一个/ MMS/ (/ MorphableMemorySystem/ )/ 思想/ ,/ MMS/ 能够/ 在/ 内存/ 应用/ 中/ 有效/ 地/ 整合/ MLC/ 型/ 的/ PCM/ 设备/ ,/ 其/ 通过/ 检测/ 负载/ 对/ 存储资源/ 需求/ 的/ 变化/ 来/ 分配/ 内存容量/ :/ 当某/ 一/ 阶段/ 负载/ 对/ 内存容量/ 需求/ 不高时/ ,/ 一些/ MLC/ 单元/ 将/ 按照/ SLC/ (/ Single/ -/ LevelCell/ ,/ 单层/ 单元/ )/ 单元/ 使用/ ,/ 从而/ 降低/ 延迟/ ,/ 提高/ 读写/ 速度/ ;/ 当/ 工作/ 负载/ 对/ 容量/ 要求/ 很/ 高时/ ,/ MMS/ 将/ 上述/ SLC/ 存储单元/ 恢复/ 到/ 高密度/ 的/ MLC/ 模式/ 使用/ ,/ 从而/ 满足/ 负载/ 对/ 容量/ 的/ 需求/ ./ 该/ 方案/ 能够/ 在/ PCM/ 容量/ 与/ 性能/ 之间/ 寻求/ 一种/ 平衡/ ,/ 但/ 其/ 需要/ 比较复杂/ 的/ 内存/ 硬件/ 控制器/ 和/ 管理软件/ 支撑/ ,/ 特别/ 是/ 当/ 负载/ 需求/ 变化/ 时/ ,/ MLC/ 和/ SLC/ 之间/ 必须/ 进行/ 数据/ 的/ 迁移/ 和/ 映射/ 信息/ 等/ 方面/ 的/ 改变/ ./ 在/ 内存/ 应用环境/ 中/ ,/ 当/ PCM/ 页面/ 发生/ 错误/ 后/ ,/ 传统/ 策略/ 是/ 直接/ 丢弃/ 该/ 页面/ ./ 针对/ 此/ 问题/ Chen/ 等/ 人/ [/ 8/ ]/ 提出/ 一个/ PCM/ 内存/ 系统/ —/ —/ —/ rPRAM/ (/ redun/ -/ dancyPRAM/ )/ ,/ 以/ 通过/ 重新/ 利用/ 含有/ 错误/ 比特/ 的/ PCM/ 页面/ 来/ 增加/ PCM/ 的/ 页面/ 利用率/ ,/ 提升/ PCM/ 的/ 寿命/ ./ 在/ 该/ 方案/ 中/ ,/ 当/ 多个/ 页面/ 发生/ 错误/ 的/ bit/ 位/ 位置/ 不/ 同时/ ,/ 可以/ 进行/ 错误/ 兼容/ ,/ 即/ 这/ 几个/ 错误/ 页面/ 可以/ 与/ 一个/ DRAM/ 共同/ 构成/ 一个/ RAID4/ ,/ 从而/ 继续/ 存储/ 数据/ ./ 方案/ 中/ 设定/ 当/ 一个/ 页面/ 发生/ 了/ 大于/ 160bit/ 位/ 的/ 错误/ 时/ ,/ 就/ 放弃/ 该/ 页面/ ./ 该/ 方案/ 最大/ 的/ 挑战/ 和/ 局限性/ 在于/ 随着/ 错误/ 的/ 逐渐/ 增加/ ,/ 寻找/ 能够/ 进行/ 错误/ 兼容/ 的/ 页面/ 会/ 越来越/ 困难/ ,/ 从而/ 导致/ 页面/ 的/ 重新/ 利用率/ 越来越/ 差/ ,/ 且/ 开销/ 也/ 会/ 逐渐/ 增大/ ./ PCM/ 是非/ 易失/ 存储器/ 件/ ,/ 当其/ 用作/ 内存/ 时/ ,/ 在/ 掉电/ 后/ 仍/ 将/ 保留/ 数据/ ,/ 这种/ 非易/ 失性/ 会/ 使得/ 系统/ 具有/ 快速/ 启动/ 和/ 休眠/ 恢复/ 的/ 能力/ ,/ 但/ 也/ 带来/ 了/ 数据/ 安全性/ 的/ 问题/ ./ 对此/ Kong/ 等/ 人/ [/ 33/ ]/ 提出/ 了/ 基于/ PCM/ 内存/ 系统/ 的/ 硬件/ 加密/ 方案/ —/ —/ —/ 计数器/ 加密/ 模式/ ,/ 该/ 方案/ 的/ 思想/ 是/ 为/ 每个/ cacheline/ 设计/ 一个/ 计数器/ ,/ 同时/ 还/ 设计/ 多个/ block/ 级别/ 的/ 计数器/ ,/ 对/ 每/ 一个/ 数据/ 块/ 的/ 加密/ 操作/ 是/ 联合/ cacheline/ 级别/ 和/ block/ 级别/ 的/ 计数器/ 共同完成/ 的/ ,/ 当某/ cacheline/ 写回/ 或者/ 其他/ 操作/ 发生/ 时/ ,/ 必须/ 通过/ 该/ cacheline/ 的/ 计数器/ 和/ 拥有/ 该/ cacheline/ 的/ 所有/ block/ 计数器/ 共同/ 控制/ 才能/ 完成/ ,/ 从而/ 确保/ 数据/ 操作/ 的/ 安全性/ ./ 在/ 该/ 加密/ 方案/ 的/ 基础/ 之上/ ,/ 利用/ 上述/ 计数器/ 统计/ 发生/ 在/ PCM/ 存储单元/ 的/ 写/ 操作/ 次数/ ,/ 从而/ 据此/ 进行/ 磨损/ 均衡/ 策略/ 的/ 实施/ ,/ 以/ 尽可能/ 地/ 降低/ 加密/ 机制/ 对/ PCM/ 寿命/ 的/ 影响/ ./ 当然/ 这种/ 加密算法/ 在/ 提高/ 安全/ 的/ 同时/ ,/ 带来/ 了/ 较大/ 的/ 开销/ ,/ 且/ 加密算法/ 的/ 复杂度/ 也/ 不容忽视/ ./ Chhabra/ 等/ 人/ [/ 34/ ]/ 提出/ 了/ 一种/ 针对/ 非易失/ 内存/ Page9/ 的/ 增量/ 式/ 数据/ 加密/ 方法/ —/ —/ —/ i/ -/ NVMM/ ./ 在/ 内存/ 环境/ 中/ ,/ 一个/ 应用程序/ 的/ 工作/ 数据/ 集合/ 往往/ 小于/ 常驻/ 内存/ 的/ 数据/ 集合/ ,/ 因此/ i/ -/ NVMM/ 的/ 思想/ 即/ 为/ 通过/ 一个/ 预测/ 机制/ ,/ 利用/ 局部性/ 原理/ 来/ 判断/ 数据/ 页/ 对/ 处理器/ 而言/ 是否/ 还会/ 有用/ ,/ 从而/ 确定/ 该/ 数据/ 被/ 加密/ 的/ 时刻/ ,/ 即/ 方案/ 采用/ 逐步/ 加密/ 策略/ ,/ 先仅/ 对/ 内存/ 中/ 暂时/ 不会/ 使用/ 的/ 数据/ 进行/ 加密/ ,/ 对于/ 正在/ 使用/ 的/ 数据/ 则/ 暂时/ 不/ 进行/ 加密/ ,/ 并/ 对/ 其/ 进行/ 监视/ ,/ 直到/ 符合/ 预测/ 条件/ 时/ 再/ 快速/ 完成/ 加密/ ,/ 以此/ 来/ 降低/ 加密/ 过程/ 对/ 运行/ 时/ 性能/ 的/ 影响/ ./ 该/ 方案/ 需要/ 精确/ 地/ 预测/ 处理器/ 将会/ 使用/ 的/ 数据/ 集/ ,/ 因此/ 预测/ 的/ 精确度/ 和/ 预测/ 带来/ 的/ 开销/ 对/ 该/ 方案/ 的/ 效果/ 有/ 很大/ 影响/ ,/ 同时/ 加密/ 会/ 带来/ 较大/ 的/ 延迟/ ./ 3.2/ 基于/ PCM/ 的/ 混合/ 内存/ 技术/ 研究/ 混合/ 内存/ 系统/ 设计/ 思想/ 的/ 出现/ ,/ 为/ PCM/ 在/ 内存/ 领域/ 提供/ 了/ 一个/ 新/ 的/ 应用/ 途径/ ./ 当前/ 绝大多数/ 基于/ PCM/ 的/ 内存/ 研究/ 都/ 是/ 采用/ 软件/ 模拟器/ 的/ 方式/ 进行/ ,/ 对此/ Kwon/ 等/ 人/ [/ 35/ ]/ 研究/ 了/ 把/ PCM/ 作为/ 真正/ 的/ 内存/ 的/ 可行性/ 以及/ 所/ 面临/ 的/ 问题/ ./ 作者/ 首先/ 采用/ Samsung/ 公司/ 1Gb/ 的/ PCM/ 芯片/ 进行/ 了/ 一系列/ 性能/ 测试/ ,/ 以此/ 为/ 依据/ 探索/ 了/ 在/ 真正/ 的/ 原型/ 系统/ 中/ PCM/ 作为/ 内存/ 的/ 关键技术/ 以及/ 需要/ 体现/ 的/ 优势/ ,/ 主要/ 研究/ 了/ PCM/ 写/ 延迟/ (/ 存储单元/ 写/ 延迟/ +/ R/ 漂移/ 延迟/ )/ 与/ 写/ 数据/ 大小/ 之间/ 的/ 关系/ ,/ 量化/ 了/ 在/ 基于/ PCM/ 的/ 内存/ 子系统/ 中/ PCM/ 延迟/ 对/ 性能/ 的/ 影响/ ,/ 作者/ 通过/ 实验/ 结果/ 得出结论/ —/ —/ —/ 为了/ 服务/ 一个/ 读/ 请求/ 而/ 暂停/ 一个/ 正在/ 进行/ 的/ 写/ 操作/ ,/ 至少/ 需要/ 25/ μ/ s/ 的/ 时间/ 开销/ ,/ 并/ 证明/ PCM/ 的/ 写/ 功耗/ 限制/ 了/ 内部/ 写/ 操作/ 的/ 数据/ 宽度/ ,/ 如果/ 想/ 增大/ 数据/ 带宽/ ,/ 就/ 一定/ 会/ 增加/ 写/ 延迟/ ./ 最后/ 作者/ 通过/ 混合/ 内存/ 模拟器/ 的/ 方案/ 展示/ 了/ 一个/ PCM/ 和/ DRAM/ 的/ 混合/ 内存/ 系统/ 性能/ 要/ 优于/ 一个/ 纯粹/ 的/ PCM/ 内存/ 系统/ ;/ 同时/ 混合/ 内存/ 系统/ 中/ DRAM/ 的/ 容量/ 大小/ 会/ 对系统/ 性能/ 产生/ 很大/ 影响/ ./ Qureshi/ 等/ 人/ [/ 36/ ]/ 探讨/ 了/ 一个/ 由/ PCM/ 存储器/ 和/ 小/ 容量/ 的/ DRAM/ 缓冲区/ 构成/ 的/ 混合/ 内存/ 系统/ 架构/ 及/ 该/ 架构/ 中/ 两种/ 介质/ 的/ 容量/ 配比/ 问题/ ./ 在/ 该/ 架构/ 中/ 操作系统/ 使用/ 一个/ 页表/ 管理/ PCM/ 介质/ ,/ 同时/ 采用/ Lazy/ -/ WriteOrganization/ 、/ Line/ -/ LevelWrites/ 、/ Fine/ -/ GrainedWear/ -/ Leveling/ 等/ 基于/ 该/ 页表/ 的/ 策略/ 来/ 减少/ PCM/ 的/ 写/ 操作/ ,/ 提高/ PCM/ 使用寿命/ ./ 其中/ Lazy/ -/ WriteOrganization/ 的/ 思想/ 为/ 当/ 发生/ 缺页/ 时/ ,/ 从/ 磁盘/ 中/ 读取数据/ 并/ 直接/ 写到/ DRAM/ 中/ ,/ 而/ 当/ 页面/ 被/ 逐出/ DRAM/ 且/ 该页/ 被/ 修改/ 过时/ 才/ 写入/ PCM/ 中/ ;/ Line/ -/ LevelWrites/ 则/ 指/ 在/ DRAMtag/ 中为/ 每个/ cacheline/ 设置/ 一个/ dirty/ 标记/ 位/ ,/ 以/ 确保/ 只/ 向/ PCM/ 写回/ 那些/ 修改/ 过/ 的/ 行/ ;/ Fine/ -/ GrainedWear/ -/ Leveling/ 则/ 利用/ 逻辑/ 扇区/ 到/ 物理/ 扇区/ 之间/ 的/ 细粒度/ 映射/ 进行/ 磨损/ 均衡/ ./ 实验/ 证明/ 在/ 该/ 架构/ 中当/ DRAM/ 缓冲区/ 容量/ 占/ PCM/ 存储设备/ 容量/ 的/ 3/ %/ 左右/ 时/ ,/ 几乎/ 可以/ 隐藏/ DRAM/ 和/ PCM/ 之间/ 延迟/ 的/ 差距/ ./ 当然/ ,/ 上述/ 机制/ 的/ 缺陷/ 也/ 很/ 明显/ ,/ 特别/ 是/ 细粒度/ 映射/ 表/ 的/ 巨大/ 空间/ 开销/ 以及/ 脏位/ 的/ 判断/ 、/ 比较/ 操作/ 带来/ 的/ 性能/ 延迟/ 等/ ./ Dhiman/ 等/ 人/ [/ 37/ ]/ 提出/ 一个/ 与/ 上述/ 实施方案/ 不同/ 的/ 混合/ 内存/ 系统/ —/ —/ —/ PDRAM/ ,/ 在/ PDRAM/ 系统/ 的/ 开发/ 过程/ 中/ ,/ 为了/ 保障/ 该/ 系统/ 的/ 可靠性/ ,/ 作者/ 提出/ 一个/ 具有/ 成本/ 效益/ 的/ 记账/ (/ bookkeeping/ )/ 硬件/ 技术/ ,/ 用于/ 存储/ PCM/ 在/ 页/ 级别/ 的/ 写/ 操作/ 频率/ ;/ 同时/ 在/ 软件/ 方面/ ,/ 系统/ 内存/ 控制器/ 为/ PCM/ 维护/ 了/ 一个/ 写访问/ 次数/ 的/ map/ 表/ (/ 以/ page/ 为/ 粒度/ )/ ,/ 通过/ 利用/ 由/ 硬件/ 提供/ 的/ 写/ 频率/ 信息/ ,/ 实时/ 监控/ 页面/ 的/ 写/ 操作/ 次数/ ,/ 当其/ 到达某/ 一/ 既定/ 阈值/ 时/ ,/ 则/ 发起/ 中断/ 来/ 执行/ 磨损/ 均衡/ 策略/ ./ 该/ 方案/ 中/ 硬件/ 可以/ 在/ 很小/ 的/ 开销/ 下/ 维持/ 和/ 追踪/ 页/ 层/ 的/ 访问/ ,/ 而/ 软件/ 的/ 管理策略/ 可以/ 提高/ PCM/ 寿命/ ./ 该/ 方案/ 中/ 利用/ 页面/ 写/ 操作/ 次数/ 来/ 发起/ 中断/ 进行/ 磨损/ 均衡/ 的/ 方式/ ,/ 是/ 以/ 牺牲/ 性能/ 为/ 代价/ 来/ 提高/ PCM/ 寿命/ 的/ ./ Zhang/ 等/ 人/ [/ 38/ ]/ 给出/ 了/ 另/ 一种/ 基于/ PCM/ 的/ 混合系统/ 思想/ ,/ 将/ DRAM/ 和/ PCM/ 放在/ 同一个/ 平面/ 地址/ 空间/ 内/ ,/ 其/ 基本/ 思想/ 是/ 将/ 很少/ 修改/ 的/ 页/ 放入/ PCM/ 而/ 把/ 修改/ 频繁/ 的/ 页面/ 放在/ DRAM/ ./ 在/ 最初/ 所有/ 页面/ 存储/ 在/ PCM/ 中/ ,/ DRAM/ 则/ 作为/ 操作系统/ 的/ 一个/ 写入/ 分区/ ,/ 在/ 运行/ 过程/ 中/ ,/ 通过/ MQ/ (/ Multi/ -/ Queue/ )/ 算法/ 把/ 修改/ 频繁/ 的/ 页/ 迁移/ 到/ DRAM/ 中/ ./ 方案/ 中/ MQ/ 算法/ 的/ 实现/ 依靠/ 16/ 个/ LRU/ 队列/ ,/ 每/ 一个/ 页/ 为/ 一个/ 队列/ 元素/ ,/ 对页/ 的/ 写访问/ 进行/ 计数/ ,/ 当/ 计数/ 达到/ 一定/ 阈值/ 时/ ,/ 则/ 认为/ 该页/ 属于/ 频繁/ 修改/ 的/ 页/ ,/ 从而/ 进行/ 迁移/ 操作/ ;/ 同时/ 把/ 那些/ 之前/ 在/ DRAM/ 中/ 但/ 具有/ 较/ 少/ 写入/ 的/ 页面/ 迁移/ 回到/ PCM/ 中/ ./ 该/ 方案/ 通过/ 页面/ 布局/ 来/ 充分发挥/ PCM/ 和/ DRAM/ 的/ 读写/ 优势/ ,/ 但/ MQ/ 的/ 队列/ 开销/ 很大/ ,/ 页面/ 的/ 迁移/ 操作/ 也/ 将/ 影响/ 到/ 系统/ 的/ 性能/ ./ Ramos/ 等/ 人/ [/ 39/ ]/ 描述/ 了/ 一个/ 基于/ PCM/ 的/ 混合/ 存储系统/ 的/ 页面/ 管理策略/ ,/ 设计方案/ 包含/ 了/ 一个/ 复杂/ 的/ 内存/ 控制器/ 来/ 部署/ 一个/ 称之为/ “/ 基于/ 等级/ 的/ 页面/ 放置/ RaPP/ (/ Rank/ -/ basedPagePlacement/ )/ ”/ 机制/ ,/ 其/ 主要/ 思想/ 为/ :/ 将/ 频繁/ 写入/ 的/ 页/ 放入/ 到/ DRAM/ 中/ ,/ Page10/ 将/ 含有/ 非关键/ 数据/ 的/ 页/ 和/ 写/ 频率/ 低/ 的/ 页/ 放在/ PCM/ 中/ ;/ 同时/ 根据/ 页面/ 的/ 写/ 操作/ 频率/ 以及/ 写/ 密集度/ 对/ 页面/ 进行/ 动态/ 排序/ ,/ 并/ 将/ 排/ 在/ 队列/ 最前/ 的/ 页面/ (/ Top/ -/ RankedPages/ )/ 从/ PCM/ 中/ 迁移/ 到/ DRAM/ 中/ ./ 方案/ 采用/ 一个/ 改进/ 的/ MQ/ 算法/ 进行/ 元素/ 的/ 升降级/ :/ 当/ 队列/ 中/ 的/ 引用/ 计数器/ 达到/ 迁移/ 阈值/ 时/ ,/ RaPP/ 就/ 将/ 存储/ 在/ PCM/ 队列/ 中/ 的/ 页面/ 迁移/ 到/ DRAM/ 中/ ./ 虽然/ 通过/ 上述/ 策略/ 能够/ 发挥/ 混合/ 存储介质/ 的/ 优势/ ,/ 但/ 仍/ 要/ 面临/ 与/ 文献/ [/ 38/ ]/ 同样/ 的/ 问题/ ./ Mladenov/ [/ 40/ ]/ 提出/ 了/ 一种/ 基于/ 大容量/ PCM/ 阵列/ 和/ 小/ 容量/ DRAM/ 缓冲区/ 的/ 混合/ 内存/ 系统/ ,/ 该/ 系统/ 由/ 内存/ 管理器/ 和/ 内存/ 控制器/ 组成/ ,/ 内存/ 管理器/ 通过/ InternalMemorybus/ 与/ 内存/ 控制器/ 互连/ ./ CPU/ 请求/ 通过/ Memorybus/ 到达/ 内存/ 管理器/ 中/ 的/ 请求/ 控制器/ ,/ 然后/ 进入/ 先进先出/ 的/ 读写/ 队列/ ,/ 当/ 请求/ 开始/ 执行/ 时/ 首先/ 查找/ DRAMbuffer/ ,/ 对于/ 读/ 请求/ 如果/ 命中/ 则/ 直接/ 从/ DRAMbuffer/ 中/ 取出/ 数据/ ,/ 否则/ 将/ 读/ 请求/ 发送至/ PCMRequestProcessing/ 模块/ ,/ 并/ 从/ PCM/ 阵列/ 中读/ 取出/ 数据/ 返回/ 至/ DRAMbuffer/ 中/ ;/ 对于/ 写/ 请求/ ,/ 若/ DRAMbuffer/ 有/ 空间/ 则/ 直接/ 写/ 至/ DRAM/ 中/ ,/ 若/ 被/ 填满/ ,/ 则/ 先/ 将/ DRAM/ 中/ 最早/ 处理/ 过/ 的/ 请求/ 的/ 数据/ 写回/ PCM/ 中/ ,/ 再/ 将/ 数据/ 写入/ DRAM/ ./ 系统/ 会/ 定期/ 地/ 检查/ DRAM/ ,/ 当/ 内存/ 空闲/ 时则/ 使用/ 基于/ LRU/ 的/ 替换算法/ ,/ 将/ DRAM/ 中/ 的/ 一部分/ 数据/ 写回/ PCM/ 中/ ,/ 为/ 今后/ 的/ 写/ 请求/ 预留/ 空间/ ./ 该/ 混合/ 存储系统/ 中/ DRAM/ 缓冲区/ 利用/ 程序/ 的/ 空间/ 局部性/ 响应/ CPU/ 的/ 部分/ 请求/ ,/ 可以/ 有效/ 弥补/ PCM/ 速度/ 的/ 不足/ ./ 除此以外/ ,/ 该/ 混合/ 内存/ 系统/ 还/ 在/ PCM/ 阵列/ 中/ 部署/ 了/ “/ start/ -/ gap/ ”/ 磨损/ 均衡/ 策略/ ,/ 以此/ 提升/ PCM/ 的/ 寿命/ ./ Baek/ 等/ 人/ [/ 41/ ]/ 则/ 将/ 双/ 阶段/ 压缩/ 策略/ 引入/ PCM/ 和/ DRAM/ 的/ 混合系统/ ./ 该/ 策略/ 分为/ 两个/ 阶段/ :/ 第/ 1/ 阶段/ 通过/ 一个/ 简单/ 的/ 、/ 低/ 延迟/ 的/ 、/ 字/ (/ word/ )/ 粒度/ 的/ 压缩算法/ 减少/ PCM/ 的/ 访问/ 次数/ ,/ 从而/ 增加/ 了/ 有效/ 存储容量/ ;/ 第/ 2/ 阶段/ 采用/ bit/ 粒度/ 的/ 压缩算法/ ,/ 进一步/ 降低/ PCM/ 访问/ 次数/ ,/ 增加/ PCM/ 的/ 寿命/ ./ 同时/ 该/ 策略/ 利用/ 压缩/ 后/ 剩余/ 的/ 内存空间/ 部署/ 一个/ 低/ 开销/ 磨损/ 均衡/ 技术/ ,/ 提升/ 了/ PCM/ 寿命/ ./ 双/ 阶段/ 压缩算法/ 本身/ 的/ 实现/ 复杂性/ 不容忽视/ ,/ 且/ 由此/ 带来/ 的/ 延迟/ 等/ 一系列/ 问题/ 会/ 对/ 性能/ 有所/ 影响/ ./ Park/ 等/ 人/ [/ 42/ ]/ 提出/ 3/ 个/ 策略/ 来/ 降低/ 混合/ 内存/ 系统/ 的/ 功耗/ :/ (/ 1/ )/ 运行/ 时自/ 适应/ 的/ DRAM/ 功耗/ 递减/ 策略/ ./ 在/ DRAM/ 的/ 每/ 一个/ row/ 内/ 维持/ 一个/ 时间/ 变量/ ,/ 当该/ row/ 写入/ 数据/ 后该/ 时间/ 变量值/ 会/ 定期/ 衰减/ ,/ 当/ 减少/ 到/ 0/ 后/ 就/ 将/ 该/ row/ 中/ 的/ 数据/ 驱逐/ ,/ 且/ 该/ row/ 不再/ 刷新/ ,/ 以此/ 减少/ DRAM/ 的/ 刷新/ 功耗/ ;/ (/ 2/ )/ 绕开/ DRAM/ 策略/ ./ 在/ 该/ 混合/ 内存/ 系统/ 中/ DRAM/ 充当/ PCM/ 的/ cache/ ,/ 当/ 第一次/ 对/ 混合/ 存储系统/ 进行/ 读时/ 则/ 绕开/ DRAM/ ,/ 从/ PCM/ 中/ 读出/ 数据/ ,/ 当/ 再次/ 访问/ 该/ 数据/ 时/ ,/ 则/ 标记/ 该/ 数据/ 为/ 热/ 数据/ ,/ 此时/ 才/ 将/ 该/ 数据/ 从/ PCM/ 拷贝到/ DRAM/ 中/ ,/ 通过/ 减少/ 因热/ 数据/ 而/ 引起/ 的/ DRAM/ 刷新/ 操作/ 来/ 降低功耗/ ;/ (/ 3/ )/ 保持/ 脏/ 数据/ 策略/ ./ 作者/ 认为/ 脏/ 数据/ 往往/ 在/ 未来/ 有/ 更/ 多/ 的/ 被/ 写/ 机会/ ,/ 因此/ 提出/ 让/ 脏/ 数据/ 在/ DRAM/ 中/ 停留/ 更长/ 的/ 时间/ ,/ 降低/ DRAM/ 写/ 回/ 的/ 开销/ ,/ 同时/ 采用/ 写/ 合并/ 策略/ ,/ 减少/ PCM/ 的/ 写/ 次数/ ,/ 进一步/ 降低/ 系统/ 功耗/ ./ 此/ 方案/ 从/ 降低/ 混合系统/ 功耗/ 出发/ ,/ 但/ 忽略/ 了/ 策略/ 实现/ 的/ 复杂度/ ./ Hu/ 等/ 人/ [/ 43/ ]/ 提出/ 了/ 一种/ 在/ 嵌入式/ 系统/ 中/ 的/ 混合/ 内存/ 系统/ ,/ 提出/ 软件/ 磨损/ 均衡/ 策略/ SWL/ (/ SoftwareWear/ -/ Leveling/ )/ ,/ 该/ 策略/ 首先/ 使用/ 数据/ 最优/ 分配/ 算法/ ODA/ (/ OptimalDataAllocation/ )/ 为/ 每/ 一个/ 存储/ 区域/ 进行/ 数据/ 分配/ ,/ 并/ 给/ PCM/ 的/ 每个/ 存储/ 区域/ 地址/ 分配/ 计数器/ 变量/ ,/ 以/ 数组/ 方式/ 来/ 记录/ 每个/ 存储/ 区域/ 地址/ 的/ 写/ 操作/ 次数/ ;/ 然后/ 利用/ 该/ 数组/ ,/ 将/ 写/ 请求/ 分配/ 到/ 写/ 操作/ 次数/ 最小/ 的/ 那个/ 区域/ 地址/ ,/ 最后/ 该/ 区域/ 计数器/ 加上/ 此次/ 发生/ 的/ 写/ 操作/ 频数/ 以/ 更新/ 该/ 变量值/ ./ 该/ 策略/ 实现/ 了/ PCM/ 中写/ 操作/ 的/ 均匀分布/ ,/ 同时/ 方案/ 中/ 增加/ 了/ 硬件/ 级/ 优化/ ,/ 提升/ 了/ 嵌入式/ 系统/ 中/ PCM/ 的/ 寿命/ ./ 然而/ ,/ 该/ 策略/ 中/ 使用/ ODA/ 算法/ 作为/ 预处理/ 会/ 给/ 系统/ 带来/ 延迟/ ,/ 同时/ 大量/ 计数器/ 的/ 查找/ 、/ 更新/ 等/ 操作/ 和/ 方案/ 中/ 的/ 硬件/ 优化/ 都/ 具有/ 一定/ 的/ 开销/ ./ 4PCM/ 外存/ 技术/ 研究/ 综述/ 除/ 内存/ 以外/ ,/ PCM/ 还/ 应用/ 于/ 外存/ 系统/ 中/ ,/ 将/ PCM/ 与/ 现有/ 的/ 外存/ 系统/ 融合/ ,/ 成为/ 了/ 它/ 在/ 外存/ 中/ 的/ 一大/ 应用/ 热点/ ./ 4.1/ 基于/ PCM/ 的/ 外存/ 技术/ 研究/ 在/ PCM/ 应用/ 于/ 外存/ 的/ 技术/ 中/ ,/ 大多数/ 研究/ 是/ 针对/ 其/ 与/ NANDFlash/ 的/ 混合/ 外存/ 策略/ ./ Kim/ 等/ 人/ [/ 14/ ]/ 提出/ 采用/ PCM/ 存放/ 页/ 内/ 日志/ 的/ IPL/ -/ P/ (/ In/ -/ PageLoggingwithPCM/ )/ 方法/ ,/ 它/ 利用/ PCM/ 在/ 读写/ 速度/ 上/ 的/ 优势/ 和/ 字节/ 可/ 寻址/ 的/ 能力/ ,/ 将/ 数据库/ 应用环境/ 中/ 频繁/ 读写/ 的/ 日志/ 文件/ 存放/ 在/ PCM/ 中/ ,/ 以/ 提高/ 基于/ 闪存/ 的/ 数据库系统/ 的/ 性能/ ./ 该/ 方法/ 虽然/ 利用/ 了/ PCM/ 相对/ 于/ 闪存/ 的/ 性能/ 优势/ ,/ 却/ 忽略/ 了/ PCM/ 的/ 寿命/ 问题/ ,/ 其/ 本身/ 对/ PCM/ 的/ 寿命/ 是/ Page11/ 一种/ 极大/ 的/ 考验/ ./ Sun/ 等/ 人/ [/ 44/ ]/ 受到/ IPL/ -/ P/ 策略/ 的/ 启发/ ,/ 在/ PCM/ 和/ NANDFlash/ 混合/ 外存/ 架构/ 中/ ,/ 提出/ 用/ NANDFlash/ 来/ 存储/ 数据/ 页/ 而/ PCM/ 存储/ 日志/ 页/ ,/ 利用/ PCM/ 支持/ 本地/ 更新/ 的/ 特性/ ,/ 避免/ 了/ 因/ 日志/ 页/ 频繁/ 更新/ 而/ 造成/ 存储空间/ 的/ 浪费/ ,/ 同时/ 因为/ PCM/ 的/ 性能/ 优于/ Flash/ ,/ 从而/ 缓解/ 了/ 日志/ 页/ 的/ 读/ 拥塞/ 问题/ ,/ 且/ 对/ NANDFlash/ 的/ 寿命/ 也/ 有/ 积极意义/ ./ 但/ 方案/ 完全/ 忽视/ 了/ PCM/ 的/ 寿命/ 问题/ ,/ 并/ 没有/ 采用/ 相应/ 的/ 策略/ 来/ 缓解/ 因/ 方案/ 本身/ 对/ PCM/ 寿命/ 造成/ 的/ 威胁/ ./ Liu/ 等/ 人/ [/ 45/ ]/ 提出/ 了/ 用于/ 混合/ 外存/ 系统/ 的/ 块/ 映射/ 算法/ —/ —/ —/ WAB/ _/ FTL/ ,/ 该/ 方案/ 利用/ PCM/ 存储/ 映射/ 表/ ,/ 通过/ 两种/ 机制/ 尽力/ 对/ 映射/ 表中/ 的/ 位/ 进行/ 保护/ 而/ 不/ 被/ 频繁/ 地/ 修改/ ,/ 从而/ 提升/ PCM/ 的/ 寿命/ ,/ 此/ 两种/ 机制/ 分别/ 为/ (/ 1/ )/ Lazy/ -/ Merge/ ./ 可/ 延迟/ 映射/ 表条/ 目的/ 更新/ 操作/ ;/ (/ 2/ )/ Cooling/ -/ Pool/ ./ 可/ 减少/ 映射/ 表条/ 目的/ 更新/ 操作/ ./ 对于/ 前者/ ,/ 当/ 替换/ 块/ 被/ 擦除/ 后/ ,/ 将/ 旧/ 替换/ 块/ 的/ 所有/ 有效/ 页/ 复制到/ 一个/ 新块/ 中/ ,/ 再/ 把/ 旧/ 替换/ 块/ 中/ 相应/ 一致/ 的/ 映射/ 表/ 记录/ 更新/ 到/ 新/ 替换/ 块/ 中/ ;/ 对于/ 后者/ ,/ 采用/ 缓冲/ 池/ 缓存/ 频繁/ 更新/ 的/ 映射/ 表/ 记录/ ,/ 以/ 减少/ 对/ PCM/ 的/ 擦写/ 操作/ ./ 方案/ 中/ Lazy/ -/ Merge/ 策略/ 具有/ 一定/ 的/ 实现/ 代价/ ,/ 且/ Cooling/ -/ Pool/ 需要/ 额外/ 的/ 空间/ 开销/ ./ 除了/ 与/ NANDFlash/ 联合/ 做/ 混合/ 外存/ 以外/ ,/ PCM/ 替代/ NANDFlash/ 的/ 研究/ 也/ 已/ 展开/ ./ Akel/ 等/ 人/ 在/ 文献/ [/ 46/ ]/ 中/ 提出/ 了/ 一个/ 基于/ PCM/ 的/ 真实/ 的/ 高性能/ 固态/ 存储系统/ Onyx/ ,/ 该/ 系统/ 部署/ 在/ BEE3FPGA/ 原型/ 系统/ 之上/ ,/ 采用/ 美/ 光/ 公司/ 的/ P8P/ 系列/ 芯片/ ,/ 存储容量/ 为/ 10GB/ ,/ PCM/ 阵列/ 通过/ PCIe/ 总线/ 和/ 主/ 系统/ 连接/ ,/ 具体/ 的/ 读写操作/ 控制/ 通过/ 相变/ 存储器/ DIMM/ 控制器/ 完成/ ,/ 同时/ 在/ 该/ 原型/ 系统/ 中/ 真正/ 实现/ 了/ start/ -/ gap/ 磨损/ 均衡/ 机制/ ./ 测试/ 结果表明/ 对于/ 小/ 的/ 写/ 请求/ (/ </ 2KB/ )/ 和/ 任意/ 大小/ 的/ 读/ 请求/ ,/ 该/ 系统/ 的/ 性能/ 和/ 基于/ Flash/ 的/ SSD/ 相当/ 甚至/ 更优/ ./ 但/ 对于/ 更大/ 的/ 写/ 请求/ ,/ 该/ 系统/ 的/ 性能/ 较差/ ./ Moneta/ 是/ 一个/ 基于/ 模拟/ PCM/ 设备/ 的/ PCIe/ 存储阵列/ 原型/ [/ 47/ ]/ ,/ 它/ 提供/ 了/ 一个/ 精心设计/ 的/ 软件/ 、/ 硬件/ 接口/ ,/ 使得/ 任务/ 分发/ 以及/ 完成/ 操作/ 原子化/ ./ 该/ 接口/ 由/ 硬件/ 调度/ 优化/ 表及/ 一个/ 存储/ 堆栈/ 组成/ ,/ 硬件/ 调度/ 优化/ 表/ 接收/ 访问/ 请求/ ,/ 根据/ 请求/ 的/ 大小/ 将/ 其/ 分割/ 成子/ 请求/ ,/ 然后/ 通过/ DMA/ (/ DirectMemoryAccess/ )/ 快速/ 向/ 主机/ 传输/ ,/ 当/ 调度/ 程序/ 完成/ 所有/ 传输/ 请求/ 时/ ,/ 发出/ 一个/ 中断/ 并且/ 设置/ 一个/ 标记/ 状态/ ,/ 操作系统/ 接受/ 中断/ ,/ 完成/ 请求/ ./ 同时/ ,/ 由于/ 主机/ 端/ 发生/ 中断/ 时/ 进程/ 唤醒/ 需要/ 较大/ 的/ 上下文/ 切换/ 时间/ ,/ 因此/ 该/ 方案/ 采用/ 进程/ 不断/ 循环/ 等待/ 的/ 策略/ 而/ 不是/ 简单/ 的/ 挂/ 起/ ,/ 以此/ 来/ 减少/ 开销/ ./ 通过/ 上述/ 一系列/ 机制/ ,/ Moneta/ 极大/ 地/ 提升/ 了/ 小/ 的/ 随机/ 访问/ 请求/ 的/ 性能/ ./ 但/ Moneta/ 不可避免/ 的/ 问题/ 是/ 在/ 较/ 小/ 请求/ 的/ 情况/ 下/ ,/ 如/ 4KB/ 请求/ 大小/ ,/ 软件/ 开销/ 会/ 极大/ 的/ 限制/ 系统/ 的/ 整体/ 性能/ ,/ 核态/ 与/ 用户/ 态/ 的/ 切换/ 、/ 文件系统/ 的/ 检查/ 等/ 都/ 会/ 造成/ 很大/ 的/ 延迟/ ./ Shao/ 等/ 人/ 借鉴/ 了/ NANDFlash/ 中/ 闪存/ 转换/ 层/ (/ FlashTranslationLayer/ ,/ FTL/ )/ 的/ 概念/ ,/ 在/ 文献/ [/ 48/ ]/ 中/ 提出/ 了/ 一个/ 对/ 等/ 的/ 相变/ 存储/ 转换/ 层/ PTL/ 策略/ ./ PTL/ 立足于/ PCM/ 自身/ 的/ 特性/ 诸如/ 支持/ 本地/ 更新/ 、/ 支持/ 以/ 字节/ 为/ 单位/ 的/ 读写操作/ 、/ 写/ 操作/ 之前/ 不/ 需要/ 擦除/ 操作/ 等/ ,/ 包含/ 读写/ 请求/ 管理/ 模块/ 、/ 磨损/ 平衡/ 模块/ 、/ 可靠性/ 模块/ 、/ 地址映射/ 模块/ ,/ 能/ 有效/ 地/ 隐藏/ PCM/ 的/ 物理/ 特性/ ,/ 同时/ 作者/ 提出/ 了/ 一种/ 针对/ 嵌入式/ 系统/ 中/ PCM/ 的/ 简单/ 有效/ 的/ 磨损/ 平衡/ 方法/ AWL/ (/ Appli/ -/ cation/ -/ specificWearLeveling/ )/ ,/ 该/ 算法/ 通过/ 识别/ PCM/ 中/ 的/ 热/ 数据/ 区域/ 和/ 冷/ 数据/ 区域/ ,/ 把/ 热/ 数据/ 上/ 的/ 写/ 操作/ 均匀/ 地/ 分配/ 到/ 其他/ 地方/ ,/ 以此/ 达到/ 磨损/ 均衡/ ,/ 提高/ PCM/ 的/ 使用寿命/ ./ 除此之外/ ,/ 作者/ 还/ 采用/ 了/ 地址映射/ 算法/ ,/ 解决/ 了/ 由于/ 磨损/ 均衡/ 导致/ 的/ 逻辑/ 地址/ 和/ 物理地址/ 不/ 对应/ 的/ 问题/ ./ PTL/ 是/ 一种/ 适用/ 于/ 嵌入式/ 环境/ 中/ 透明/ 的/ 、/ 有效/ 管理/ PCM/ 的/ 系统/ 级/ 框架/ ./ PTL/ 没有/ 很/ 好/ 地/ 管理/ PCM/ 的/ 写/ 操作/ ,/ 也/ 没有/ 采用/ 任何/ 方法/ 来/ 减少/ PCM/ 的/ 功耗/ ,/ 这/ 是/ 它/ 后期/ 要/ 解决/ 的/ 问题/ ./ Lee/ 等/ 人/ [/ 12/ ]/ 则/ 立足于/ NVM/ 的/ 优势/ ,/ 提出/ 一个/ 基于/ PCM/ 的/ 文件系统/ Shortcut/ -/ JFS/ ./ 由于/ 文件系统/ 运行/ 时/ 需要/ 记录/ 大量/ 的/ 日志/ 信息/ ,/ 并/ 需要/ 快速访问/ 日志/ 信息/ ,/ 作者/ 提出/ 了/ 两个/ 策略/ 来/ 实现/ 系统/ 写/ 操作/ 的/ 优化/ 和/ 检查点/ (/ checkpoint/ )/ 信息/ 的/ 改善/ :/ (/ 1/ )/ 差异/ 更新/ 策略/ ./ 利用/ PCM/ 按位/ 更改/ 的/ 特性/ ,/ 在/ 文件系统/ 记录/ 日志/ 时/ ,/ Shortcut/ -/ JFS/ 仅仅/ 更改/ 日志/ 中/ 变更/ 的/ 字节/ ,/ 但/ 当/ 需要/ 更新/ 的/ 数据/ 大小/ 大于/ 块/ 大小/ 的/ 一半/ 时/ ,/ 则/ 更改/ 整块/ 日志/ 数据/ 而/ 不/ 使用/ 差异/ 更新/ 策略/ ;/ (/ 2/ )/ 本地/ 更新/ 策略/ ./ 在/ 文件系统/ 中当要/ 通过/ 检查点/ 对/ 文件系统/ 数据/ 进行/ 还原/ 时/ ,/ 采用/ 本地/ 更新/ 策略/ ,/ 即/ 如果/ 要/ 更新/ 的/ 数据/ 已经/ 凑满/ 一个/ 完整/ 的/ 数据/ 块/ ,/ 则/ 利用/ 一个/ 指针/ 指向/ 该/ 日志/ 数据/ 块/ 而/ 不再/ 写回/ 文件系统/ ,/ 如果/ 不满/ 一个/ 块/ ,/ 则/ 利用/ PCM/ 优于/ Flash/ 的/ 本地/ 更新/ 特性/ 直接/ 写入/ 要/ 更新/ 的/ 部分/ ,/ 而/ 不再/ 需要/ 另/ 开辟/ 空间/ 写/ 整个/ 数据/ 块/ ,/ 这/ 大大减少/ 了/ 写/ 操作/ 次数/ ,/ 同时/ 节省/ 了/ 存储空间/ 开销/ ./ 该/ 方案/ 中/ 的/ 差异/ 更新/ 思想/ 已/ 不/ 鲜见/ ,/ 且/ Shortcut/ -/ JFS/ 忽略/ 了/ 针对/ PCM/ 介质/ 的/ 磨损/ 均衡/ 问题/ 和/ 写/ 性能/ 问题/ ./ Page124/ ./ 2/ 基于/ PCM/ 的/ SCM/ 技术/ 研究/ 存储/ 级/ 内存/ SCM/ 是/ 一种/ 采用/ 非易失/ 存储介质/ 实现/ 的/ 新型/ 存储技术/ ,/ 支持/ 位/ 访问/ ,/ 性能/ 可以/ 和/ SRAM/ 、/ DRAM/ 相比/ ,/ 存储密度/ 高/ ,/ 容量/ 大/ ,/ 功耗/ 低/ ,/ 具有/ 非易/ 失性/ ./ 与/ 传统/ 的/ 磁盘/ 不同/ ,/ SCM/ 可以/ 被/ 内存/ 中/ 的/ 硬件/ 机制/ 所/ 保护/ ,/ 也/ 不/ 需要/ 复杂/ 的/ 调度/ 机制/ ,/ 且/ 速度/ 与/ DRAM/ 相当/ ,/ 不/ 需要/ cache/ ,/ 作为/ 内存/ 使用/ 时/ 还/ 可以/ 起到/ 断电/ 保护/ 的/ 作用/ ,/ 成为/ 存储系统/ 发展/ 的/ 一个/ 新/ 路径/ ,/ 采用/ SCM/ 作为/ 统一/ 内外/ 存/ 使用/ 还/ 可能/ 会/ 带来/ 整个/ 计算机/ 结构/ 的/ 变化/ ./ 因此/ 有/ 不少/ 学者/ 认为/ 采用/ NVM/ 实现/ 统一/ 内外/ 存将/ 是/ 未来/ 的/ 发展趋势/ 之一/ ./ Lam/ 在/ 文献/ [/ 49/ ]/ 中/ 论述/ 了/ 适用/ 于/ SCM/ 技术/ 的/ 各种/ 存储介质/ ,/ 包括/ PCM/ ,/ STTRAM/ ,/ MRAM/ ,/ FeRAM/ 等/ ./ 在/ 这些/ 新型/ 存储器/ 中/ ,/ 作者/ 认为/ PCM/ 具有/ 明显/ 的/ 优势/ ,/ 并/ 论述/ 了/ SCM/ 在/ 计算机/ 存储/ 层次结构/ 中/ 的/ 地位/ :/ 既/ 可以/ 作为/ 内存/ 的/ 下/ 一级/ 外存/ 的/ Cache/ 使用/ ,/ 也/ 可以/ 直接/ 作为/ 外存/ 使用/ ./ 当/ SCM/ 作为/ 内存/ 使用/ 时/ ,/ 它/ 可以/ 直接/ 与/ CPU/ 连接/ ,/ 通过/ 内存/ 控制器/ 硬件/ 管理/ ,/ CPU/ 可/ 直接/ 通过/ Load/ // Store/ 命令/ 操作/ SCM/ 中/ 的/ 存储单元/ ,/ 降低/ 访问/ 延迟/ ,/ 扩展/ 内存/ 的/ 容量/ ;/ 当/ 作为/ 外存/ I/ // O/ 设备/ 使用/ 时/ ,/ 系统/ 可以/ 通过/ I/ // O/ 控制器/ ,/ 采用/ 文件系统/ 等/ 软件/ 方式/ 来/ 管理/ SCM/ ,/ 即使/ 这种/ 方式/ 访问/ 延迟/ 高/ ,/ 但/ 与/ 传统/ 的/ 磁盘/ 相比/ 仍然/ 具有/ 巨大/ 的/ 优势/ ./ 除此之外/ ,/ 作者/ 在/ 文中/ 从/ 硬件/ 到/ 软件/ 、/ 从/ 上层/ 到/ 下层/ 依次/ 论述/ 了/ SCM/ 在/ 系统/ 中/ 发挥/ 自身/ 优势/ 所/ 面临/ 的/ 技术/ 挑战/ ,/ 如/ 采用/ SCM/ 作为/ I/ // O/ 设备/ 时/ ,/ 应该/ 考虑/ SCM/ 提供/ 什么样/ 的/ 上层/ 接口/ 等/ ,/ 启发/ 研究/ 人员/ 思考/ SCM/ 应该/ 作为/ 什么样/ 的/ 设备/ 使用/ 才能/ 最大/ 地/ 发挥/ 它/ 的/ 性能/ ./ Condit/ 等/ 人/ 在/ 文献/ [/ 50/ ]/ 中/ 提出/ 了/ 基于/ 可/ 字节/ 寻址/ 的/ 持久/ RAM/ (/ Byte/ -/ addressable/ ,/ PersistentRAM/ ,/ 简称/ BPRAM/ )/ 的/ 文件系统/ :/ BPFS/ (/ aFileSystemforBPRAM/ )/ ./ 在/ 整体/ 方案/ 中/ 使用/ 短/ 电路/ 影子/ 分页/ (/ Short/ -/ CircuitShadowPaging/ )/ 技术/ 为/ BPFS/ 的/ 可靠性/ 提供/ 保证/ ,/ 并/ 以此/ 提供/ 比/ 传统/ 文件系统/ 更好/ 的/ 性能/ ./ 短/ 电路/ 影子/ 分页/ 技术/ 通过/ 原地/ 更新/ (/ In/ -/ placeupdate/ )/ 、/ 原地/ 附加/ (/ in/ -/ placeappend/ )/ 、/ 部分/ 写时/ 复制/ (/ partialcopy/ -/ on/ -/ write/ )/ 3/ 个/ 机制/ 来/ 支持/ 基于/ 字节/ 寻址/ 的/ 操作/ ,/ 保证/ 了/ BPRAM/ 本地/ 更新/ 的/ 特性/ ,/ 可以/ 使/ 系统/ 在/ 文件系统/ 树/ 的/ 任何/ 位置/ 更新/ ,/ 避免/ 对/ root/ 文件系统/ 的/ 传播/ 拷贝/ 开销/ ,/ 实现/ 小/ 单元/ 的/ 原地/ 更新/ 操作/ ,/ 不用/ 考虑/ 额外/ 的/ 拷贝/ 操作/ ,/ 甚至/ 当/ 进行/ 大/ 的/ 写/ 操作/ 时/ ,/ 更新/ 操作/ 也/ 会/ 被/ 限制/ 在/ 一个/ 小/ 的/ 子树/ 文件系统/ 上/ ,/ 仅/ 对/ 那些/ 没有/ 变化/ 的/ 数据/ 进行/ 拷贝/ ;/ 同时/ 作者/ 提出/ 一个/ 基于/ BPRAM/ 的/ 硬件/ 架构/ ,/ 让/ BPRAM/ 直接/ 与/ 内存/ 总线/ 连接/ ,/ 并/ 与/ DRAM/ 平行/ ,/ 这样/ 将易/ 失和/ 非易失/ 内存/ 的/ 地址/ 空间/ 分开/ ,/ CPU/ 可以/ 直接/ 通过/ load/ 和/ store/ 操作/ 来/ 访问/ BPRAM/ ,/ 满足/ BPFS/ 要求/ 的/ 原子/ 性及/ 执行/ 的/ 顺序/ 性/ ,/ 为/ BPFS/ 提供/ 可靠性/ 保护/ ./ Wu/ 等/ 人/ [/ 51/ ]/ 随后/ 提出/ 了/ SCMFS/ ,/ 一个/ 专门/ 针对/ SCM/ 的/ 文件系统/ ./ SCMFS/ 文件系统/ 沿用/ 了/ 常规/ 文件系统/ 的/ 接口/ ,/ 可以/ 支持/ 现有/ 的/ 应用/ ./ 它/ 建立/ 在/ 虚拟地址/ 空间/ 上/ ,/ 通过/ 内存/ 管理/ 单元/ MMU/ (/ MemoryManagementUnit/ )/ 完成/ 虚拟地址/ 到/ 物理地址/ 的/ 转换/ ./ SCMFS/ 布局/ 相对/ 于/ 现有/ 的/ 文件系统/ 来说/ 非常简单/ ,/ 主要/ 包含/ 3/ 个/ 部分/ :/ 第/ 1/ 部分/ 是/ 超级/ 块/ (/ superblock/ )/ ,/ 包含/ 了/ 整个/ 文件系统/ 的/ 所有/ 信息/ ,/ 如/ 文件系统/ 的/ 块/ 大小/ 、/ 索引/ 节点/ inode/ 等/ 信息/ ;/ 第/ 2/ 部分/ 是/ inode/ 表/ ,/ 包含/ 了/ 每个/ 文件/ 或者/ 目录/ 的/ 基本/ 信息/ ,/ 如/ 文件/ 模式/ 、/ 文件名/ 、/ 文件大小/ 、/ 文件/ 数据/ 的/ 起始/ 地址/ 等/ 信息/ ;/ 第/ 3/ 部分/ 则/ 为/ 具体/ 的/ 文件/ 内容/ ./ 需要/ 指出/ 的/ 是/ ,/ SCMFS/ 的/ 垃圾/ 回收/ 策略/ 在/ 后台/ 进程/ 运行/ ,/ 在/ 垃圾/ 回收/ 时/ ,/ 首先/ 检查/ 空/ 文件/ (/ nullfile/ )/ 的/ 个数/ ,/ 如果/ 超过/ 阈值/ 就/ 释放/ 部分/ 空/ 文件/ ,/ 如果/ 用户/ 需要/ 更/ 多/ 的/ 空闲/ 空间/ ,/ 就/ 会/ 首先/ 考虑/ 释放/ “/ 冷/ ”/ 文件/ ,/ 如果/ 在/ 系统/ 中/ 的/ 空/ 文件/ 太/ 少/ ,/ 该/ 机制/ 就/ 会/ 直接/ 创建/ 空/ 文件/ ./ 5PCM/ 未来/ 系统/ 级/ 研究/ 方向/ 探讨/ 随着/ 大/ 数据/ 时代/ 的/ 到来/ 以及/ 多核/ 处理器/ 、/ 虚拟化/ 、/ 内存/ 计算/ 等/ 技术/ 的/ 不断/ 发展/ ,/ 应用/ 场景/ 对/ 存储系统/ 的/ 要求/ 越来越/ 高/ ,/ 相变/ 存储器/ 的/ 出现/ 为/ 存储系统/ 的/ 发展/ 提供/ 了/ 新/ 的/ 路径/ ./ 在/ 未来/ ,/ 以/ PCM/ 为/ 代表/ 的/ NVM/ ,/ 将/ 进一步/ 在/ 计算机/ 存储系统/ 中/ 崭露头角/ ,/ 而/ 针对/ 它们/ 在/ 系统/ 级/ 的/ 应用/ 仍/ 有/ 很多/ 挑战性/ 的/ 问题/ 需要/ 深入研究/ ,/ 这些/ 研究/ 将/ 可能/ 从/ 以下/ 几个/ 方面/ 展开/ :/ (/ 1/ )/ 基于/ PCM/ 的/ 存储系统/ 的/ 组织/ 结构/ 方法/ 研究/ :/ 当前/ 存储系统/ 的/ 组织/ 结构/ 是/ 专为/ 易失/ 、/ 读写/ 差异/ 小/ 、/ 几乎/ 无/ 寿命/ 问题/ 的/ DRAM/ 以及/ 传统/ 的/ 硬盘/ 、/ 固态/ 盘/ 等/ 存储介质/ 而/ 设计/ 的/ ,/ 这种/ 系统/ 组织/ 结构/ 对于/ 新型/ 非易失/ 存储器/ 而言/ 是/ 不/ 适用/ 的/ ,/ 无论是/ 当前/ 的/ 内存/ 管理/ 方法/ 、/ 访问/ 接口/ 设计/ ,/ 还是/ I/ // O/ 请求/ 调度/ 等/ 都/ 没有/ 充分考虑/ PCM/ 的/ 寿命/ 、/ 性能/ 、/ 读写/ 不/ 均衡/ 等/ 问题/ ,/ 导致/ 了/ 非易失/ 存储器/ 的/ 特性/ 不/ 能够/ 得到/ 充分发挥/ ,/ 同时/ 还/ 可能/ 会/ 将/ PCM/ 的/ 弱点/ 放大/ ,/ 不利于/ 构建/ 面向未来/ 大/ 数据/ 和/ 内存/ 计算环境/ 的/ 高性能/ 、/ Page13/ 低功耗/ 、/ 大容量/ 的/ 存储系统/ ./ 如上所述/ ,/ 从/ PCM/ 、/ DRAM/ 、/ NANDFlash/ 等/ 多种/ 介质/ 的/ 优缺点/ 出发/ ,/ 研究/ 以/ PCM/ 为/ 代表/ 的/ NVM/ 在/ 异构/ 混合/ 存储系统/ 中/ 的/ 组织/ 方法/ ,/ 合理/ 组合/ 多种/ 存储介质/ ,/ 构建/ 多/ 介质/ 的/ 异构/ 混合/ 存储/ 环境/ ,/ 建立/ 可以/ 充分发挥/ 各/ 存储介质/ 特性/ 的/ 体系结构/ ,/ 解决/ 多/ 介质/ 异构/ 混合/ 存储/ 时/ 的/ 系统优化/ 设计/ 问题/ ,/ 实现/ 新型/ 非易失/ 存储器/ 与/ 现有/ 存储技术/ 和/ 系统/ 的/ 完美/ 融合/ ./ (/ 2/ )/ 基于/ PCM/ 的/ 存储系统/ 的/ 访问/ 方法/ 研究/ :/ 传统/ 存储系统/ 中/ 的/ 访问/ 方法/ 是/ 立足于/ DRAM/ 、/ Flash/ 等/ 设计/ 的/ ,/ 它/ 将/ 不再/ 适用/ 于/ 具有/ 可/ 字节/ 编址/ 和/ 位/ 修改/ 等/ 特性/ 的/ PCM/ ./ 和/ DRAM/ 不同/ ,/ PCM/ 的/ 读写/ 不/ 对称/ 使/ 其/ 难以/ 按/ 流水线/ 方式/ 执行/ 读写/ 混合/ I/ // O/ 请求/ ,/ 当前/ PCM/ 与/ 现有/ 内存/ 系统/ 在/ 访问/ 特性/ 上/ 有/ 显著/ 差异/ ,/ 与此同时/ PCM/ 支持/ 本地/ 修改/ 等/ 异于/ Flash/ 的/ 特性/ 也/ 使得/ 当前/ 外存/ 领域/ 的/ 访问/ 方式/ 需要/ 优化/ 和/ 改进/ ./ 研究/ 基于/ PCM/ 存储系统/ 的/ 多/ 接口/ 适配/ 的/ 访问/ 方法/ ,/ 以/ 匹配/ 新型/ 非易失/ 存储器/ 的/ 特性/ ,/ 从而/ 隐藏/ 多/ 介质/ 在/ 访问/ 粒度/ 、/ 延迟/ 、/ 带宽/ 及/ 寿命/ 等/ 方面/ 的/ 差距/ ,/ 提升/ 存储系统/ 的/ 性能/ ./ 未来/ 研究/ 将/ 可能/ 包括/ :/ ①/ 研究/ PCM/ 在/ 内存/ 环境/ 中/ 字节/ 粒度/ 寻址/ 的/ 读写访问/ 方法/ ,/ 充分/ 挖掘/ PCM/ 通道/ 间/ 、/ 芯/ 之间/ 以及/ 芯片/ 内部/ 的/ 多层次/ 访问/ 并行性/ ;/ ②/ 研究/ 在/ 外存/ 环境/ 中块/ 粒度/ 寻址/ 的/ 高效/ 读写访问/ 方法/ ,/ 并/ 遵循/ 业界/ 针对/ 非易失/ 存储器/ 的/ 接口标准/ (/ 如/ NVMe/ 协议/ )/ ;/ ③/ 优化/ 访问/ 路径/ ,/ 减少/ 系统/ I/ // O/ 调用/ 给/ 性能/ 带来/ 的/ 影响/ ;/ ④/ 利用/ PCM/ 的/ 读写/ 特点/ 来/ 优化/ 读写操作/ 和/ 流程/ ,/ 以此/ 减少/ 访问/ 延迟/ ;/ ⑤/ 立足/ PCM/ 特性/ 优化/ 系统/ 中/ 的/ 数据结构/ ,/ 减少/ 对/ PCM/ 无用/ 的/ 写/ 操作/ 和/ 写入/ 数据量/ ,/ 以/ 提升/ 系统/ 性能/ 和/ 寿命/ ./ (/ 3/ )/ 基于/ PCM/ 的/ 存储系统/ 数据/ 可靠性/ 研究/ :/ 随着/ 工艺/ 制程/ 的/ 降低/ ,/ 非易失/ 存储器/ 的/ 存储单元/ 不断/ 变小/ ,/ 当/ PCM/ 采用/ 更/ 小/ 制程/ 、/ 提供/ 更高/ 存储密度/ 和/ 更/ 大容量/ 时/ ,/ 其/ 存储单元/ 的/ 错误率/ 随之/ 升高/ ./ 同时/ ,/ PCM/ 存储单元/ 的/ 可/ 擦写/ 次数/ 有限/ (/ 108/ ~/ 1012/ )/ ,/ 频繁/ 的/ 擦写/ 会/ 导致/ 芯片/ 单元/ 很快/ 到达/ 寿命/ 极限/ ./ 这些/ 将/ 使/ 存储系统/ 面临/ 数据/ 发生/ 错误/ 、/ 损坏/ 以及/ 丢失/ 的/ 风险/ ,/ 对/ 数据/ 可靠性/ 造成/ 了/ 极大/ 的/ 威胁/ ./ 未来/ 的/ 研究/ 将/ 立足于/ PCM/ 的/ 特性/ ,/ 通过/ 多种/ 途径/ 来/ 保障/ 数据/ 的/ 可靠性/ ,/ 研究/ 将/ 可能/ 在/ 以下/ 几个/ 方面/ 展开/ :/ ①/ 研究/ 降低/ 当前/ 已有/ 的/ 纠错/ 机制/ (/ 软硬件/ )/ 所/ 需/ 的/ 开销/ ;/ ②/ 研究/ 可/ 配置/ 、/ 适应/ 数据/ 集/ 属性/ 的/ 组合/ 校验/ 算法/ ,/ 即/ 区别/ 不同/ 属性/ 的/ 数据/ 集/ ,/ 根据/ 其所/ 需/ 的/ 可靠性/ 需求/ 采用/ 不同/ 纠错/ 能力/ 和/ 开销/ 的/ 校验/ 算法/ ,/ 以/ 平衡/ 其/ 纠错/ 强度/ 和校验/ 开销/ ;/ ③/ 研究/ 新/ 的/ 通过/ 减少/ 写/ 操作/ 次数/ 、/ 写入/ 数据量/ 来/ 提升/ PCM/ 的/ 寿命/ 的/ 策略/ ;/ ④/ 研究/ 新颖/ 、/ 可用/ 范围广/ 的/ 磨损/ 均衡/ 策略/ ,/ 在/ 现有/ 磨损/ 均衡/ 基础/ 上/ 进行/ 创新/ 、/ 优化/ ,/ 设计/ 出/ 可/ 应用/ 于/ 不同/ 需求/ 环境/ 下/ 的/ 磨损/ 均衡/ 策略/ ,/ 提升/ PCM/ 寿命/ ;/ ⑤/ 研究/ 基于/ PCM/ 的/ 坏块/ 复用/ 和/ 数据/ 容错/ 机制/ ,/ 进一步/ 增加/ PCM/ 的/ 使用寿命/ ,/ 提高/ 数据/ 可靠性/ ;/ ⑥/ 研究/ 数据/ 一致性/ 的/ 保障/ 和/ 维护/ ,/ 根据/ 存储系统/ 数据/ 一致性/ 需求/ 、/ 访问/ 接口/ 粒度/ 等/ 因素/ ,/ 设计/ 低/ 开销/ 、/ 多路径/ 的/ 数据/ 更新/ 策略/ 和/ 数据/ 一致性/ 维护/ 方法/ ./ (/ 4/ )/ 基于/ PCM/ 的/ 存储系统/ 数据/ 安全性/ 保障/ 研究/ :/ 由于/ PCM/ 具有/ 非易/ 失性/ ,/ 即当/ 系统/ 断电/ 时/ ,/ PCM/ 存储/ 的/ 数据/ 并/ 不会/ 消失/ ,/ 从而/ 通过/ 恶意/ 修改/ 数据/ 所/ 导致/ 的/ 执行/ 状态/ 可能/ 是/ 持久/ 的/ ,/ 即使/ 设备/ 断电/ ,/ 系统/ 也/ 会/ 存在/ 冷启动/ 攻击/ 的/ 风险/ ./ 因此/ 非易失/ 特性/ 会/ 使/ 系统/ 被/ 入侵/ 和/ 数据/ 被/ 盗窃/ 的/ 风险/ 增大/ ./ 所以/ 当/ 采用/ PCM/ 构建/ 内存/ 子系统/ 时/ ,/ 需要/ 考虑/ 数据/ 的/ 安全性/ 保障机制/ ./ 对此/ ,/ 未来/ 该/ 领域/ 还/ 需要/ 研究/ 针对/ 操作系统/ 的/ 加密/ 机制/ ,/ 通过/ 加密/ 模块/ 对/ 写入/ PCM/ 的/ 数据/ 进行/ 加密/ ,/ 防止/ 存储/ 数据/ 被/ 窃取/ 或/ 泄密/ 的/ 情况/ 发生/ ;/ 研究/ 利用/ 访问/ 权限/ 控制/ 等/ 策略/ 来/ 保证数据/ 的/ 访问/ 安全性/ ;/ 特别/ 针对/ PCM/ 中/ 的/ 系统/ 关键/ 数据/ ,/ 需/ 采用/ 强度/ 更/ 高/ 的/ 加密/ 、/ 上锁/ 等/ 算法/ ,/ 防止/ 恶意/ 的/ 入侵/ 修改/ 所/ 引起/ 的/ 系统安全/ 问题/ ,/ 保障/ 基于/ PCM/ 的/ 存储系统/ 的/ 数据/ 安全性/ ./ (/ 5/ )/ 基于/ PCM/ 的/ 存储系统/ 软件/ 优化/ 研究/ :/ 由于/ PCM/ 异于/ 传统/ 存储介质/ 的/ 特性/ ,/ 使得/ PCM/ 存储技术/ 不能/ 良好/ 地/ 兼容/ 当前/ 存储系统/ 的/ 内存/ 管理/ 、/ 文件系统/ 等/ 软件架构/ ./ 基于/ PCM/ 的/ 存储系统/ ,/ 在/ 软件/ 层/ 仍然/ 需要/ 改进/ ,/ 以/ 进一步/ 优化/ 和/ 提升/ 存储系统/ 的/ 性能/ ./ 未来/ 基于/ PCM/ 的/ 存储系统/ 软件/ 优化/ 研究/ 将/ 可能/ 包括/ :/ ①/ 结合/ 各/ 存储介质/ 的/ 特性/ ,/ 基于/ PCM/ 存储管理/ 架构/ ,/ 研究/ 冷热/ 数据/ 识别/ 算法/ 和/ 数据/ 热度/ 分级管理/ 等/ 软件/ 策略/ ,/ 降低/ 存储系统/ 中/ 的/ 读写操作/ 开销/ ,/ 实现/ 负载/ 均衡/ ;/ ②/ 立足于/ PCM/ 在/ 存储系统/ 中/ 的/ 应用/ 场景/ (/ 如/ 统一/ 内外/ 存/ )/ ,/ 针对/ PCM/ 支持/ 本地/ 修改/ 、/ 位/ 修改/ 和/ 可/ 字节/ 编址/ 等/ 特性/ ,/ 研究/ 适应/ 于/ PCM/ 的/ 文件系统/ ,/ 从而/ 提升/ 文件系统/ 乃至/ 存储系统/ 的/ 性能/ ;/ ③/ 研究/ 基于/ PCM/ 的/ 内存/ 分配机制/ 及其/ 优化/ 策略/ ,/ 从/ 操作系统/ 层/ 入手/ 面向/ 文件系统/ 、/ 虚拟内存/ 等/ 进行/ 优化/ ,/ 降低/ 页面/ 分配/ 等/ 多种/ 内存/ 管理/ 开销/ ,/ 充分/ 地利/ Page14/ 用/ PCM/ 的/ 非易/ 失性/ 提高/ 系统/ 性能/ ;/ ④/ 研究/ 设计/ 新/ 的/ 软件/ 调度/ 算法/ ,/ 通过/ 调度/ 策略/ 的/ 设计/ 和/ 优化/ ,/ 达到/ 系统/ 性能/ 的/ 提升/ ./ (/ 6/ )/ 基于/ PCM/ 的/ 真实/ 存储/ 原型/ 系统/ 的/ 研究/ :/ 现有/ 的/ 研究/ 还/ 面临/ 着/ 几乎/ 没有/ 可用/ 的/ 基于/ PCM/ 的/ 真实/ 硬件/ 原型/ 平台/ 的/ 尴尬/ 局面/ ,/ 绝大多数/ 研究/ 均/ 是/ 在/ 软件/ 模拟器/ 上/ 进行/ 的/ ,/ 表/ 2/ 展示/ 了/ 上述/ 部分/ 研究/ 采用/ 的/ 模拟器/ 平台/ ,/ 当前/ 比较/ 成熟/ 的/ 模拟器/ 有/ PCRAMsim/ [/ 52/ ]/ 、/ Simics/ [/ 53/ ]/ 、/ M5/ [/ 54/ ]/ 和/ DRAMsim/ [/ 55/ ]/ 以及/ 近些年/ 备受/ 学者/ 青睐/ 的/ 全/ 系统/ 模拟器/ GEM5/ ①/ ./ 由于/ PCM/ 技术/ 研究/ 还/ 处于/ 起步/ 阶段/ ,/ 其/ 应用/ 场景/ 和/ 价值/ 尚未/ 完全/ 开发/ 实现/ ;/ 而且/ 目前/ 市面上/ 的/ 主流/ 存储器/ 仍然/ 不是/ PCM/ ,/ 适合/ 于/ 当前/ 存储/ 环境/ 的/ 大容量/ 、/ 高性能/ 的/ PCM/ 物理/ 芯片/ 稀贵/ ,/ 这些/ 都/ 导致/ 当前/ 系统/ 级/ 的/ 研究/ 几乎/ 全都/ 是/ 基于/ 软件/ 模拟器/ 进行/ 的/ ,/ 从而/ 无法/ 获取/ 最/ 真实/ 的/ 实验/ 数据/ 以/ 进行/ 更加/ 专业/ 、/ 深入/ 的/ 研究/ ./ 表/ 2/ 基于/ PCM/ 的/ 混合/ 存储/ 研究/ -/ 模拟器/ 一览/ 文献/ 模拟器/ 平台/ 文献/ 模拟器/ 平台/ [/ 6/ ]/ CACTI/ -/ D/ [/ 9/ ]/ Simics/ [/ 23/ ]/ PCMsim/ [/ 21/ ]/ 1/ ./ M5Simulator/ [/ 36/ ]/ In/ -/ housesystem/ [/ 39/ ]/ 1/ ./ M5Simulator/ [/ 43/ ]/ 1/ ./ Simplescalar/ 利用/ 相变/ 存储器/ 物理/ 芯片/ ,/ 实现/ 真实/ 的/ 存储/ 硬件/ 原型/ 系统/ ,/ 包括/ 基于/ PCM/ 的/ 内存/ 原型/ 系统/ 和/ 外存/ 原型/ 系统/ ,/ 解决目前/ 相关/ 研究/ 没有/ 原型/ 平台/ 的/ 尴尬/ 局面/ ,/ 通过/ 在/ 平台/ 上/ 获得/ 最/ 真实/ 的/ 数据/ ,/ 展开/ 更/ 有/ 说服力/ 、/ 有/ 数据/ 依据/ 的/ 相关/ 研究/ ,/ 将/ 对/ 当前/ 内/ // 外/ 存储系统/ 架构/ 的/ 研究/ 工作/ 起到/ 积极/ 作用/ ./ 综上所述/ ,/ 面对/ 新/ 应用环境/ 的/ 需求/ ,/ 思考/ 如何/ 在/ 存储系统/ 领域/ 的/ 设计/ 中/ 充分利用/ PCM/ 等/ NVM/ 的/ 优势/ ,/ 并/ 通过/ 新/ 的/ 机制/ 和/ 策略/ 来/ 克服/ 它们/ 的/ 劣势/ ,/ 与/ 现有/ 存储系统/ 融合/ 并/ 获得/ 更加/ 优秀/ 的/ 性能/ ,/ 从而/ 最大/ 限度/ 地/ 匹配/ 以/ 数据/ 为/ 中心/ 的/ 发展趋势/ ,/ 将/ 是/ 未来/ 的/ 主要/ 工作/ 之一/ ./ 6/ 结束语/ 本文/ 总结/ 了/ 基于/ 相变/ 存储器/ 的/ 存储技术/ 研究/ ,/ 分析/ 了/ 当前/ PCM/ 应用/ 于/ 存储系统/ 的/ 相关/ 技术/ 的/ 优势/ 和/ 缺陷/ ,/ 并/ 探讨/ 了/ 该/ 领域/ 未来/ 的/ 研究/ 和/ 发展/ 方向/ ./ 基于/ PCM/ 的/ 内存/ 研究/ ,/ 为/ 内存/ 技术/ 的/ 扩展/ 提供/ 了/ 新/ 的/ 思路/ ,/ 基于/ PCM/ 的/ 混合/ 内存/ 研究/ ,/ 使/ 其/ 可以/ 和/ 传统/ 的/ DRAM/ 系统/ 竞争/ ,/ 同时/ 其/ 优于/ Flash/ 和/ 传统/ 硬盘/ 的/ 特性/ ,/ 将/ 进一步/ 加快/ 它/ 在/ 外存/ 领域/ 的/ 应用/ 和/ 发展/ ./ 在/ 国际/ 半导体/ 工业协会/ 对/ 新型/ 存储技术/ 的/ 规划/ 中/ ,/ 已/ 将/ 相变/ 存储器/ 列入/ 优先/ 实现/ 产业化/ 的/ 名录/ ./ 作为/ 已/ 进入/ 产业化/ 前期/ 的/ 新型/ 存储技术/ ,/ 相变/ 存储器/ 是/ 近几年/ 发展/ 最为/ 迅速/ 、/ 距离/ 产业化/ 最近/ 、/ 商业化/ 前景/ 最为/ 广泛/ 的/ 新型/ 存储介质/ 之一/ ./ 面对/ 以/ PCM/ 为/ 代表/ 的/ NVM/ 的/ 快速/ 发展/ 的/ 趋势/ ,/ 其/ 相关/ 研究/ 也/ 已经/ 如火如荼/ 地/ 展开/ ./ 随着/ Samsung/ 、/ Micron/ 、/ IBM/ 等/ 大/ 公司/ 接连/ 进行/ 实验/ 级别/ 芯片/ 的/ 研究/ ,/ 并/ 开始/ 量产/ 面向/ 移动/ 设备/ 的/ PCM/ 芯片/ ,/ 利用/ 相变/ 存储器/ 改变传统/ 计算机/ 存储系统/ 的/ 时机/ 已经/ 到来/ !/ 相信/ 对/ PCM/ 的/ 一系列/ 研究/ ,/ 也/ 将/ 成为/ 今后/ 对/ 其他/ 新型/ NVM/ 研究/ 的/ 重要途径/ 和/ 切入点/ ,/ 并/ 以此/ 为/ 契机/ ,/ 加快步伐/ 研究/ NVM/ 对/ 整个/ 计算机系统/ 带来/ 的/ 变革/ !/ 

