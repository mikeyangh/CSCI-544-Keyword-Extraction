Page1/ ε/ -/ 近似/ 和/ 加权/ 公平性/ 保证/ 的/ 无线/ 传感器/ 网络/ 拥塞/ 控制算法/ 李国华/ 李建中/ 高宏/ (/ 哈尔滨工业大学/ 计算机科学/ 与/ 技术/ 学院/ 哈尔滨/ 150001/ )/ 摘要/ 针对/ 现有/ 的/ 无线/ 传感器/ 网络/ 拥塞/ 控制算法/ 中/ 很少/ 考虑/ 数据压缩/ 和/ 加权/ 公平性/ 的/ 问题/ ,/ 提出/ 了/ 一种/ ε/ 近似/ 和/ 加权/ 公平性/ 保证/ 的/ 拥塞/ 控制算法/ ./ 首先/ ,/ 我们/ 对/ 传感器/ 节点/ 产生/ 的/ 时间/ 序列/ 采用/ 贪心/ 分段/ 常值/ ε/ 近似/ (/ GreedyPiecewiseConstant/ ε/ -/ Approximation/ ,/ GPCA/ )/ 的/ 策略/ ,/ 极大/ 地/ 减少/ 了/ 数据通信/ 量/ ./ 其次/ ,/ 我们/ 给出/ 了/ 具有/ 加权/ 公平性/ 保证/ 的/ 拥塞/ 控制算法/ (/ WeightedFairnessGuaranteedCongestionControlAlgorithm/ ,/ WFCC/ )/ ,/ 并/ 首次/ 给出/ 了/ 公平性/ 度量/ 的/ 下界/ 1/ -/ (/ 10c/ // 9/ )/ 2/ ,/ 其中/ c/ 为/ 常数/ 且/ 0/ </ c/ </ 0.2/ ./ 实验/ 结果表明/ ,/ GPCA/ 具有/ 很/ 好/ 的/ 压缩/ 性能/ ,/ WFCC/ 达到/ 了/ 较/ 高/ 的/ 吞吐量/ 和/ 加权/ 公平性/ (/ 95/ %/ 以上/ )/ ./ 关键词/ 无线/ 传感器/ 网络/ ;/ 拥塞/ 控制/ ;/ ε/ -/ 近似/ ;/ 加权/ 公平性/ ;/ 拥塞/ 度量/ 1/ 引言/ 无线通信/ 技术/ 、/ 微电子/ 技术/ 及/ 嵌入式/ 计算技术/ 的/ 快速/ 发展/ 使得/ 无线/ 传感器/ 网络/ 被/ 广泛应用/ 于/ 环境监测/ 、/ 健康/ 监护/ 、/ 智能家居/ 及/ 战场/ 监控/ 等/ 领域/ ./ 无线/ 传感器/ 网络/ 由/ 许多/ 分布/ 于/ 特定/ 区域/ 且/ 具有/ 一定/ 计算/ 、/ 存储/ 和/ 通信/ 能力/ 的/ 传感器/ 节点/ 组成/ ./ 每个/ 节点/ 只能/ 与/ 附近/ 几跳/ 的/ 节点/ 通信/ ,/ 数据/ 通过/ 多/ 跳/ 转发/ 才能/ 到达/ sink/ 节点/ ./ 当/ 传感器/ 节点/ 接收/ 数据包/ 的/ 速率/ 大于/ 其/ 转发/ 或/ 调度/ 速率/ 时/ ,/ 需对/ 过剩/ 的/ 数据包/ 进行/ 缓存/ ;/ 当/ 缓存/ 的/ 数据包/ 队列/ 满时/ ,/ 过剩/ 的/ 数据包/ 就/ 会/ 被/ 丢弃/ ,/ 即/ 引发/ 无线/ 传感器/ 网络/ 中/ 的/ 拥塞/ 问题/ ./ 拥塞/ 不仅/ 增加/ 包/ 的/ 延迟/ ,/ 降低/ 网络/ 吞吐量/ 且/ 浪费/ 能量/ ./ 因此/ 如何/ 有效/ 地/ 减缓/ 拥塞/ 是/ 无线/ 传感器/ 网络/ 技术/ 研究/ 的/ 一个/ 重要/ 方面/ ./ 目前/ ,/ 几乎/ 所有/ 的/ 拥塞/ 控制算法/ 都/ 没有/ 考虑/ 对/ 数据/ 进行/ 预处理/ 后/ 再/ 进行/ 传输/ 的/ 问题/ ./ 在/ 无线/ 传感器/ 网络应用/ 中/ ,/ 连续/ 稠密/ 采样/ 能/ 极大地提高/ 对/ 现实/ 世界/ 的/ 感知/ 程度/ ,/ 然而/ 如果/ 不/ 加/ 处理/ 将/ 采集/ 的/ 原始数据/ 存储/ 再/ 转发/ 将/ 带来/ 很大/ 的/ 存储/ 和/ 通信/ 开销/ ./ 为了/ 从/ 源头/ 上/ 减少/ 数据/ 的/ 传输/ 量/ ,/ 我们/ 对/ 传感器/ 节点/ 产生/ 的/ 时间/ 序列/ 采取/ 贪心/ 分段/ 常值/ ε/ 近似/ (/ GreedyPiecewiseConstant/ ε/ -/ Approximation/ ,/ GPCA/ )/ 的/ 策略/ ,/ 使得/ 一个/ 连续/ 的/ 子/ 序列/ 仅/ 需要/ 一个/ 常值/ 来/ 近似/ 且/ 保证/ 其/ 与/ 真实/ 值/ 的/ 误差/ 不/ 大于/ ε/ ./ 这样/ 既/ 没有/ 严重/ 损害/ 数据/ 的/ 保真度/ ,/ 还/ 减少/ 了/ 数据传输/ 的/ 通信/ 开销/ ,/ 从而/ 延长/ 了/ 网络/ 的/ 生命周期/ ./ 节点/ 在/ 得到/ 时间/ 序列/ 的/ 常值/ 近似/ 后/ ,/ 将/ 相应/ 的/ 常值/ 及/ 近似/ 的/ 起止/ 时间/ 存入/ 缓冲/ 队列/ ,/ 等待/ 调度/ 传输/ ./ 衡量/ 拥塞/ 控制算法/ 有效性/ 主要/ 有/ 两个/ 指标/ :/ 一是/ 服务质量/ ,/ 包括/ 吞吐量/ 、/ 时延/ ;/ 二是/ 加权/ 公平性/ [/ 1/ -/ 2/ ]/ ./ 目前/ 的/ 大多数/ 拥塞/ 控制算法/ 主要/ 考虑/ 了/ 服务质量/ ,/ 而/ 很少/ 考虑/ 如何/ 保证/ 数据传输/ 的/ 加权/ 公平性/ 问题/ ,/ 即/ 如何/ 保证/ sink/ 节点/ 接收/ 到/ 不同/ 传感器/ 节点/ 产生/ 的/ 数据包/ 数目/ 与/ 传感器/ 节点/ 的/ 重要性/ 成正比/ ./ 保证/ 加权/ 公平性/ 可以/ 使/ sink/ 节点/ 从/ 重要/ 的/ 数据源/ 获得/ 更/ 多/ 的/ 数据包/ ./ 然而/ ,/ 现有/ 的/ 拥塞/ 控制算法/ 均/ 没有/ 全面/ 地/ 从/ 服务质量/ 和/ 加权/ 公平性/ 这/ 两个/ 方面/ 进行/ 考虑/ ./ 文献/ [/ 3/ -/ 4/ ]/ 主要/ 考虑/ 了/ 如何/ 提高/ 数据传输/ 的/ 效率/ ,/ 即/ 服务质量/ ,/ 而/ 未/ 涉及/ 加权/ 公平性/ ./ 文献/ [/ 5/ -/ 6/ ]/ 不仅/ 考虑/ 了/ 服务质量/ ,/ 还/ 考虑/ 了/ 公平性/ ,/ 但/ 只是/ 简单/ 的/ 公平性/ ,/ 即/ 保证/ sink/ 节点/ 在/ 某/ 段时间/ 内/ 接收/ 每个/ 节点/ 的/ 数据包/ 一样/ 多/ ./ 文献/ [/ 1/ -/ 2/ ]/ 考虑/ 了/ 服务质量/ 和/ 加权/ 公平性/ ,/ 但/ 只是/ 启发式/ 方法/ ,/ 没有/ 具体/ 的/ 加权/ 公平性/ 度量/ 和/ 理论/ 结果/ 保证/ ./ 针对/ 上述/ 不足/ ,/ 我们/ 提出/ 了/ 一个/ 新/ 的/ 拥塞/ 控制算法/ ,/ 不仅/ 考虑/ 了/ 数据传输/ 的/ 服务质量/ ,/ 还/ 首次/ 给出/ 了/ 一个/ 加权/ 公平性/ 度量/ ,/ 并/ 在/ 理论/ 上/ 给出/ 了/ 其/ 的/ 一个/ 下界/ ./ 由于/ 不同/ 的/ 节点/ 可能/ 装有/ 不同/ 的/ 传感器/ ,/ 所/ 产生/ 的/ 数据/ 的/ 重要性/ 不/ 一样/ ./ 故/ 一个/ 好/ 的/ 拥塞/ 控制算法/ 应该/ 使/ sink/ 从/ 重要/ 的/ 传感器/ 节点/ 接收/ 较/ 多/ 的/ 数据包/ ./ 我们/ 给/ 每个/ 节点/ i/ 赋予/ 一个/ 权值/ wi/ ,/ wi/ 越大/ 表示/ 节点/ i/ 产生/ 的/ 数据/ 越/ 重要/ ./ 我们/ 采用/ 下面/ 的/ 公式/ [/ 7/ ]/ 作为/ 公平性/ 度量/ ./ 这里/ ,/ Pi/ ,/ t/ 表示/ sink/ 节点/ 在/ 时间段/ [/ 0/ ,/ t/ ]/ 接收/ 来自/ 节点/ i/ 的/ 数据包/ 数量/ ,/ N/ 表示/ 节点/ 总数/ ./ 当/ Pi/ ,/ t/ // wi/ =/ Pj/ ,/ t/ // wj/ (/ j/ ∈/ [/ 1/ ,/ N/ ]/ ,/ j/ ≠/ i/ )/ 成立/ 时/ ,/ ft/ =/ 1/ ,/ 此时/ 达到/ 了/ 最大/ 的/ 公平性/ ./ 当/ Pi/ ,/ t/ // wi/ 为/ 正数/ 而/ Pj/ ,/ t/ // wj/ =/ 0/ (/ j/ ∈/ [/ 1/ ,/ N/ ]/ ,/ j/ ≠/ i/ )/ 时/ ,/ ft/ =/ 1/ // N/ ,/ 此时/ 达到/ 了/ 最小/ 的/ 公平性/ ./ 我们/ 在/ 理论/ 上/ 严格/ 证明/ 了/ ft/ / 1/ -/ (/ 10c/ // 9/ )/ 2/ ,/ 其中/ c/ 为/ 常数/ 且/ 0/ </ c/ </ 0.2/ ./ 综上所述/ ,/ 目前/ 的/ 拥塞/ 控制算法/ 各有/ 其/ 针对性/ 和/ 局限性/ ,/ 均/ 是/ 对/ 原始数据/ 进行/ 操作/ ,/ 且/ 没有/ 给出/ 加权/ 公平性/ 一个/ 量化/ 表达式/ ./ 基于/ 此/ ,/ 本文/ 联合/ 考虑/ 了/ 数据压缩/ 和/ 拥塞/ 控制技术/ ,/ 提出/ 了/ 一个/ ε/ -/ 近似/ 和/ 加权/ 公平性/ 保证/ 的/ 拥塞/ 控制算法/ ,/ 其/ 由/ 两个/ 子/ 算法/ 组成/ :/ on/ -/ line/ 的/ 贪心/ 分段/ 常值/ ε/ 近似算法/ (/ GPCA/ )/ [/ 8/ ]/ 和/ 加权/ 公平性/ 保证/ 的/ 拥塞/ 控制算法/ (/ WeightedFairnessGuaranteedCongestionControlAlgorithm/ ,/ WFCC/ )/ ./ GPCA/ 分布式/ 地/ 运行/ 在/ 每个/ 非/ sink/ 节点/ ,/ 对/ 节点/ 产生/ 的/ 时间/ 序列/ 进行/ 贪心/ 分段/ 近似/ ,/ 使得/ 每/ 一个/ 连续/ 子/ 序列/ 仅/ 需要/ 一个/ 常值/ 来/ 描述/ ,/ 这样/ 不仅/ 减少/ 了/ 存储/ 开销/ ,/ 更/ 重要/ 的/ 是/ 减少/ 了/ 通信/ 开销/ ./ 我们/ 证明/ 了/ 在/ 常值/ ε/ 近似算法/ 中/ ,/ GPCA/ 是/ 最优/ 的/ ./ WFCC/ 以/ 进入/ 节点/ 的/ 平均/ 数据包/ 速率/ 除以/ 流出/ 节点/ 的/ 平均/ 数据包/ 速率/ 作为/ 拥塞/ 度量/ ,/ 对/ 进入/ 节点/ 的/ 数据包/ 速率/ 进行/ 调节/ ,/ 使得/ 单位/ 时间/ 收到/ 孩子/ 节点/ 传输/ 的/ 数据包/ 的/ 数量/ 与其/ 权值/ 大小/ 成正比/ ./ 我们/ 随后/ 分析/ 说明/ 通过/ 这种/ 局部/ 公平/ 调速/ ,/ 可以/ 达到/ 全局/ 的/ 公平性/ ,/ 并/ 给出/ 了/ 理论/ 证明/ ./ 综上/ ,/ 本文/ 的/ 主要/ 贡献/ 总结/ 如下/ :/ (/ 1/ )/ 本文/ 设计/ 了/ 一个/ 贪心/ 分段/ 常值/ ε/ 近似算法/ ,/ 并/ 证明/ 其/ 在/ 所有/ 满足/ ε/ 近似/ 的/ 分段/ 常值/ 近似/ 中是/ 最优/ 的/ ./ (/ 2/ )/ 本文/ 首次/ 给出/ 了/ 无线/ 传感器/ 网络/ 中/ 加权/ 公平性/ 度量/ 的/ 定义/ ./ Page3/ (/ 3/ )/ 本文/ 提出/ 了/ 一个/ 分布式/ 的/ 加权/ 公平性/ 保证/ 的/ 拥塞/ 控制算法/ ,/ 并/ 首次/ 给出/ 了/ 加权/ 公平性/ 的/ 一个/ 下界/ 1/ -/ (/ 10c/ // 9/ )/ 2/ ,/ 其中/ c/ 为/ 常数/ 且/ 0/ </ c/ </ 0.2/ ,/ 且/ 给出/ 了/ 其/ 严格/ 的/ 理论/ 推导/ ./ (/ 4/ )/ 本文/ 进行/ 了/ 广泛/ 的/ 实验/ 来/ 评估/ 算法/ 性能/ ,/ 实验/ 结果表明/ 本文/ 提出/ 的/ 拥塞/ 控制算法/ 不仅/ 达到/ 了/ 较/ 高/ 的/ 吞吐量/ ,/ 且/ 其/ 加权/ 公平性/ 平均/ 达到/ 了/ 95/ %/ ,/ 验证/ 了/ 我们/ 的/ 理论/ 分析/ ./ 本文/ 第/ 2/ 节/ 讨论/ 相关/ 工作/ ;/ 第/ 3/ 节/ 介绍/ 算法/ GPCA/ ;/ 第/ 4/ 节/ 给出/ 算法/ WFCC/ ;/ 第/ 5/ 节对/ WFCC/ 的/ 加权/ 公平性/ 进行/ 分析/ ;/ 第/ 6/ 节是/ 实验/ 和/ 分析/ ;/ 第/ 7/ 节是/ 本文/ 结论/ 部分/ ./ 2/ 相关/ 工作/ ε/ 时间/ 序列/ 近似/ [/ 8/ -/ 10/ ]/ 是/ 时间/ 已/ 久/ 一种/ 有损/ 数据压缩/ 方法/ ,/ 虽然/ 丢失/ 了/ 一些/ 数据/ 精度/ ,/ 但/ 仍/ 可以/ 满足/ 查询/ 用户/ 的/ 需求/ 且/ 减少/ 数据/ 的/ 存储/ 、/ 计算/ 和/ 通信/ 开销/ ./ 文献/ [/ 8/ ]/ 考虑/ 在/ 数据流/ 模型/ 中/ ,/ 给出/ 了/ 两个/ 空间/ 有效/ 的/ 且/ 有/ 质量保证/ 的/ L/ 柱状/ 近似算法/ ./ 文献/ [/ 9/ ]/ 考虑/ 如何/ 动态/ 地/ 融合/ 多个/ 传感器/ 节点/ 的/ 数据/ ,/ 进行/ 数据压缩/ 以/ 减少/ 通信/ 开销/ ./ 文献/ [/ 10/ ]/ 给出/ 了/ 一个/ 能以/ 任意/ 精度/ 近似/ 原始/ 时间/ 序列/ 的/ 算法/ EAQ/ ,/ 其能/ 支持/ 多种不同/ 的/ 查询/ ./ 文献/ [/ 8/ ]/ 虽/ 给出/ 了/ 贪心/ 分段/ 常值/ ε/ 近似/ ,/ 但/ 并/ 没有/ 给出/ 其/ 方法/ 最优性/ 的/ 严格/ 的/ 数学/ 证明/ ,/ 我们/ 在/ 本文/ 给出/ 了/ 其/ 最优性/ 的/ 严格/ 证明/ ./ 文献/ [/ 9/ -/ 10/ ]/ 的/ 方法/ 适用/ 于/ 对/ 数据/ 延迟/ 不/ 敏感/ 的/ 传感器/ 网络应用/ ./ 而/ 对/ 数据/ 延迟/ 敏感/ 的/ 应用/ 一般/ 使用/ on/ -/ line/ 近似/ 时间/ 序列/ 方法/ ,/ 因为/ 它/ 可以/ 极大/ 地/ 减少/ 数据/ 的/ 延迟/ ./ 本文/ 的/ ε/ 近似/ 时间/ 序列/ 方法/ 为/ on/ -/ line/ 近似/ 时间/ 序列/ 方法/ ./ 早期/ 研究/ 拥塞/ 问题/ 的/ 主要/ 文献/ 有/ CODA/ [/ 8/ ]/ 、/ Fu/ -/ sion/ [/ 9/ ]/ 、/ CCF/ [/ 11/ ]/ 、/ IFRC/ [/ 6/ ]/ 和/ 文献/ [/ 12/ ]/ ./ 文献/ [/ 8/ ]/ 给出/ 了/ 最早/ 的/ 被动/ 拥塞/ 控制/ 机制/ CODA/ ,/ 它/ 通过/ 检测/ 传感器/ 节点/ 缓冲区/ 队列/ 的/ 长度/ 或/ 信道/ 利用率/ 来/ 侦测/ 网络/ 中/ 是否/ 发生/ 拥塞/ ./ 如果/ 发生/ 了/ 拥塞/ ,/ 则/ 通过/ 局部/ 地/ 降低/ 上/ 一/ 跳/ 节点/ 的/ 发送/ 速率/ 来/ 缓解/ 局部/ 拥塞/ ,/ 同时/ 采用/ 闭环/ 多源/ 调节/ 机制/ 来/ 缓解/ 大/ 范围/ 拥塞/ 和/ 长期/ 拥塞/ ./ 文献/ [/ 9/ ]/ 给出/ 的/ Fusion/ 拥塞/ 控制/ 机制/ 综合利用/ 3/ 种/ 技术/ 来/ 进行/ 拥塞/ 控制/ :/ 一是/ 在/ 拥塞/ 发生/ 时逐/ 跳/ 地向源/ 节点/ 发/ 反馈/ 信息/ ,/ 以/ 减少/ 数据包/ 的/ 丢失/ 和/ 避免/ 能量/ 浪费/ ;/ 二是/ 限制/ 源/ 节点/ 的/ 发包/ 速率/ ;/ 三是/ 用/ 带/ 优先权/ 控制/ 的/ MAC/ 协议/ 给/ 缓冲区/ 占有率/ 高/ 的/ 节点/ 以/ 更/ 高/ 的/ 通信/ 信道/ 访问/ 权/ ./ Fusion/ 机制/ 能/ 有效/ 地/ 缓解/ 拥塞/ 现象/ ,/ 但/ 没有/ 给出/ 保证/ 事件/ 公平性/ 的/ 措施/ ./ CCF/ [/ 11/ ]/ 和/ IFRC/ [/ 12/ ]/ 能/ 达到/ 非常/ 好/ 的/ 简单/ 的/ 公平性/ ,/ 但是/ 未/ 考虑/ 加权/ 公平性/ ./ 文献/ [/ 12/ ]/ 提出/ 了/ 一种/ 拥塞/ 避免/ 的/ 方法/ ,/ 即/ 发送者/ 只有/ 在/ 接收者/ 通知/ 其/ 缓冲区/ 未满/ 时/ 的/ 条件/ 下才/ 发送/ 数据包/ ./ 文中/ 还/ 考虑/ 了/ 可能/ 由于/ 隐/ 终端/ 问题/ 而/ 引起/ 的/ 拥塞/ ,/ 并/ 给出/ 了/ 一种/ 通过/ 广播/ 1/ // k/ 剩余/ 缓冲区/ 的/ 方法/ 来/ 避免/ 由于/ 隐/ 终端/ 问题/ 引起/ 的/ 拥塞/ ./ 尽管/ 该/ 方法/ 能/ 有效/ 地/ 避免/ 拥塞/ ,/ 但/ 由于/ 每个/ 包都/ 得/ 携带/ 关于/ 剩余/ 缓冲区/ 大小/ 的/ 信息/ ,/ 所以/ 通信/ 消耗/ 的/ 能量/ 开销/ 较大/ ./ 最近/ 的/ 关于/ 拥塞/ 问题/ 的/ 文献/ 主要/ 有/ PCCP/ [/ 1/ ]/ 、/ RCRT/ [/ 13/ ]/ 和/ RCCAP/ [/ 14/ ]/ ./ 文献/ [/ 1/ ]/ 以/ 数据包/ 的/ 平均/ 服务/ 时间/ 与/ 数据包/ 的/ 平均/ 到达/ 时间/ 的/ 比值/ 作为/ 拥塞/ 度量/ ,/ 每个/ 节点/ 每/ 接收/ 到/ 一定/ 数目/ 包/ ,/ 就/ 通过/ 广播/ 将/ 自己/ 的/ 拥塞/ 度/ 告知/ 给子/ 节点/ ,/ 子/ 节点/ 根据/ 父亲/ 节点/ 的/ 拥塞/ 度量/ 值/ 相应/ 地/ 调节/ 自己/ 的/ 发送/ 速率/ 和/ 采样/ 速率/ ./ 文献/ [/ 13/ ]/ 以/ RTT/ (/ Round/ -/ TripTime/ )/ 的/ 整数倍/ 作为/ 拥塞/ 度量/ ,/ 端/ 对/ 端/ 地/ 通过/ 对/ 节点/ 的/ 传输速率/ 进行/ AIMD/ (/ AdditiveIncrease/ // MultiplicativeDecrease/ )/ 的/ 方法/ 来/ 缓解/ 拥塞/ ./ 文献/ [/ 14/ ]/ 通过/ 单/ 神经元/ 和/ PID/ 控制/ 结合/ 的/ 方法/ 减缓/ 拥塞/ ./ 在/ 上述/ 拥塞/ 控制/ 的/ 相关/ 研究/ 中/ ,/ 均/ 没有/ 考虑/ 数据压缩/ 或/ 近似/ 技术/ ,/ 且/ 或者/ 没有/ 考虑/ 公平性/ ,/ 或者/ 只/ 考虑/ 简单/ 的/ 公平性/ 和/ 加权/ 公平性/ ,/ 没有/ 理论/ 上/ 的/ 分析/ 和/ 证明/ ./ 基于/ 此/ ,/ 本文/ 联合/ 考虑/ 数据压缩/ 技术/ 和/ 拥塞/ 控制技术/ ,/ 提出/ 一种/ 保证/ ε/ 近似/ 和/ 加权/ 公平性/ 的/ 拥塞/ 控制算法/ ./ ε/ 近似/ 减少/ 了/ 数据/ 的/ 存储/ 和/ 通信/ 开销/ ,/ 加权/ 公平性/ 的/ 保证/ 提高/ 了/ 传感器/ 网络/ 的/ 负载平衡/ 能力/ ,/ 从而/ 延长/ 网络/ 的/ 生命周期/ ;/ 且/ 我们/ 证明/ 了/ GPCA/ 的/ 最优性/ ,/ 并/ 首次/ 给出/ 了/ 拥塞/ 控制算法/ 中/ 加权/ 公平性/ 度量/ 的/ 下界/ ,/ 1/ -/ (/ 10c/ // 9/ )/ 2/ ,/ 其中/ c/ 为/ 常数/ 且/ 0/ </ c/ </ 0.2/ ./ 3/ 拥塞/ 控制算法/ 概述/ 在/ 无线/ 传感器/ 网络/ 中/ ,/ 节点/ 通信/ 所/ 消耗/ 的/ 能量/ 远远/ 大于/ 计算所/ 消耗/ 的/ 能量/ [/ 1/ ]/ ,/ 所以/ 减少/ 数据/ 的/ 通信量/ 可以/ 极大/ 地/ 减少/ 能量/ 的/ 消耗/ ,/ 而且/ 还/ 可以/ 减缓/ 拥塞/ ./ 基于/ 此/ ,/ 我们/ 提出/ 了/ 一个/ 对/ 数据/ 先/ 进行/ 压缩/ 然后/ 再/ 传输/ 的/ 拥塞/ 控制算法/ ./ 其/ 基本/ 思想/ 是/ :/ (/ 1/ )/ 先对/ 每个/ 节点/ 的/ 原始/ 采样/ 数据/ 进行/ 压缩/ ,/ 使得/ 多个/ 连续/ 的/ 采样/ 数据/ 可/ 被/ 一个/ 常值/ c/ 近似/ 且/ 保证/ 近似值/ 与/ 原始/ 采样/ 值/ 之间/ 的/ 误差/ 小于/ ε/ ,/ 然后/ 将/ 三元组/ 〈/ c/ ,/ [/ ta/ ,/ tb/ ]/ 〉/ 压入/ 队列/ ,/ 等待/ 调度/ 传输/ ./ (/ 2/ )/ 由于/ 有/ 一些/ 传感器/ 产生/ 的/ 数据/ 比较/ 重要/ ,/ 因此/ 需要/ 更/ 高/ 的/ 数据/ 传输速率/ (/ 带宽/ )/ ./ 我们/ 首先/ 量化/ 了/ 每种/ 传感器/ 节点/ 产生/ 的/ 数/ Page4/ 据/ 的/ 重要性/ ,/ 赋予/ 每种/ 传感器/ 一个/ 权值/ ,/ 然后/ 在/ 进行/ 数据/ 的/ 调度/ 传输/ 时/ ,/ 不仅/ 保证/ 重要/ 的/ 数据源/ 获得/ 的/ 带宽/ 比较/ 高/ ,/ 且/ 尽量/ 使得/ 每个/ 数据源/ 获得/ 的/ 带宽/ 与其/ 权值/ 成正比/ ./ 据/ 我们/ 所知/ ,/ 本文/ 是/ 第一篇/ 不仅/ 保证/ 了/ 对/ 原始数据/ 的/ ε/ 近似/ ,/ 且/ 首次/ 给出/ 了/ 加权/ 公平性/ 的/ 一个/ 下界/ 的/ 论文/ ./ 下面/ 分/ 两个/ 小节/ 对/ 算法/ 的/ 基本/ 思想/ 进行/ 详细/ 的/ 说明/ ./ 其中/ 第/ 4/ 节/ 的/ 贪心/ 分段/ 常值/ ε/ 近似算法/ GPCA/ 对应/ 基本/ 思想/ 中/ 的/ (/ 1/ )/ ;/ 第/ 5/ 节/ 的/ 加权/ 公平性/ 保证/ 的/ 拥塞/ 控制算法/ WFCC/ 对应/ 基本/ 思想/ 中/ 的/ (/ 2/ )/ ./ 4/ 贪心/ 分段/ 常值/ ε/ 近似算法/ 4.1/ 预备/ 知识/ 假设/ S/ (/ n/ )/ =/ 〈/ x/ [/ t1/ ]/ ,/ x/ [/ t2/ ]/ ,/ …/ ,/ x/ [/ tn/ ]/ 〉/ 为/ 一个/ 传感器/ 节点/ 产生/ 的/ 时间/ 序列/ ,/ 其中/ th/ (/ 1/ / h/ / N/ )/ 为/ 节点/ 采样/ 的/ 时刻/ ;/ x/ [/ th/ ]/ (/ 1/ / h/ / N/ )/ 为/ 节点/ 采样/ 得到/ 的/ 属性/ 值/ ./ S/ [/ ta/ :/ tb/ ]/ =/ 〈/ x/ [/ ta/ ]/ ,/ x/ [/ ta/ +/ 1/ ]/ ,/ …/ ,/ x/ [/ tb/ ]/ 〉/ 表示/ S/ (/ n/ )/ 的/ 一个/ 连续/ 子/ 序列/ ./ 我们/ 使用/ 贪心/ 分段/ 常值/ 近似/ 的/ 方法/ 近似/ S/ (/ n/ )/ ,/ 使得/ 每/ 一段/ 的/ 子/ 序列/ 仅/ 需要/ 一个/ 常值/ 来/ 描述/ ./ 这样/ 我们/ 对/ 每/ 一个/ 子/ 序列/ 只/ 需/ 记录/ 常值/ 及子/ 序列/ 的/ 开始/ 时间/ 和/ 结束/ 时间/ ./ 从而/ 大大减少/ 了/ 记录/ 整个/ 时间/ 序列/ 的/ 开销/ ./ 假设/ 最后/ 将/ 产生/ H/ 个/ 常值/ (/ c1/ ,/ c2/ ,/ …/ ,/ cH/ )/ 近似/ 序列/ S/ (/ n/ )/ ,/ 其中/ c1/ 近似/ 子/ 序列/ 〈/ x/ [/ t1/ ]/ ,/ x/ [/ t2/ ]/ ,/ …/ ,/ x/ [/ tj1/ ]/ 〉/ ,/ ch/ (/ 2/ / h/ / H/ )/ 近似/ 子/ 序列/ 〈/ x/ [/ tjh/ -/ 1/ +/ 1/ ]/ ,/ x/ [/ tjh/ -/ 1/ +/ 2/ ]/ ,/ …/ ,/ x/ [/ tjh/ ]/ 〉/ ,/ 其中/ jH/ =/ n/ ./ 假设/ S/ ^/ (/ n/ )/ =/ 〈/ x/ ^/ [/ t1/ ]/ ,/ x/ ^/ [/ t2/ ]/ ,/ …/ ,/ x/ ^/ [/ tn/ ]/ 〉/ 为/ (/ c1/ ,/ c2/ ,/ …/ ,/ cH/ )/ 近似/ S/ (/ n/ )/ 得到/ 的/ 时间/ 序列/ ,/ 我们/ 用/ 下面/ 的/ E/ 范数/ 来/ 量化/ 两个/ 序列/ 的/ 误差/ ./ 其/ 表达式/ 为/ E/ (/ S/ (/ n/ )/ ,/ S/ ^/ (/ n/ )/ )/ =/ max1/ / p/ / n/ |/ x/ [/ tp/ ]/ -/ x/ ^/ [/ tp/ ]/ |/ ./ 我们/ 的/ 优化/ 问题/ 是/ :/ 对于/ 给定/ 的/ 时间/ 序列/ S/ (/ n/ )/ =/ 〈/ x/ [/ t1/ ]/ ,/ x/ [/ t2/ ]/ ,/ …/ ,/ x/ [/ tn/ ]/ 〉/ ,/ 误差/ 界/ ε/ 和/ 误差/ 函数/ E/ (/ )/ ,/ 找到/ 最小/ 长度/ 的/ 常值/ 序列/ (/ c1/ ,/ c2/ ,/ …/ ,/ cH/ )/ ,/ 使得/ E/ (/ S/ (/ n/ )/ ,/ S/ ^/ (/ n/ )/ )/ / ε/ ./ 4.2/ 贪心/ 分段/ 常值/ ε/ 近似算法/ 贪心/ 分段/ 常值/ ε/ 近似算法/ (/ GPCA/ )/ 的/ 主要/ 思想/ 描述/ 如下/ ./ 对子/ 序列/ S/ [/ ta/ :/ tb/ ]/ 中/ 的/ 最大值/ 和/ 最小值/ 我们/ 分别/ 用/ maxa/ / p/ / bx/ [/ tp/ ]/ 和/ mina/ / q/ / bx/ [/ tq/ ]/ 表示/ ,/ 当/ maxa/ / p/ / bx/ [/ tp/ ]/ -/ mina/ / q/ / bx/ [/ tq/ ]/ / 2/ ε/ 时/ ,/ 我们/ 用/ c/ =/ (/ maxa/ / p/ / bx/ [/ tp/ ]/ +/ mina/ / q/ / bx/ [/ tq/ ]/ )/ // 2/ 来/ 近似/ 子/ 序列/ S/ [/ ta/ :/ tb/ ]/ ./ 此时/ ,/ 易得/ 对/ / a/ / m/ / b/ ,/ |/ c/ -/ x/ [/ tm/ ]/ |/ / max/ {/ |/ c/ -/ mina/ / q/ / bx/ [/ tq/ ]/ |/ ,/ 当新来/ 数据/ 点/ (/ tb/ +/ 1/ ,/ x/ [/ tb/ +/ 1/ ]/ )/ 时/ ,/ (/ 1/ )/ 若/ maxa/ / p/ / b/ +/ 1x/ [/ tp/ ]/ -/ mina/ / q/ / b/ +/ 1x/ [/ tq/ ]/ / 2/ ε/ 时/ ,/ 我们/ 用/ c0/ =/ (/ maxa/ / p/ / b/ +/ 1x/ [/ tp/ ]/ +/ mina/ / q/ / b/ +/ 1x/ [/ tq/ ]/ )/ // 2/ 来/ 近似/ 子/ 序列/ S/ [/ ta/ :/ tb/ +/ 1/ ]/ ./ (/ 2/ )/ 否则/ ,/ 若/ maxa/ / p/ / b/ +/ 1x/ [/ tp/ ]/ -/ mina/ / q/ / b/ +/ 1x/ [/ tq/ ]/ >/ 2/ ε/ ,/ 则/ 子/ 序列/ S/ [/ ta/ :/ tb/ +/ 1/ ]/ 不能/ 被/ 一个/ 常数/ c/ 近似/ 且/ 保证/ 误差/ 不/ 大于/ ε/ ./ 因为/ |/ maxa/ / p/ / bx/ [/ tp/ ]/ -/ c/ |/ +/ |/ c/ -/ mina/ / q/ / b/ +/ 1x/ [/ tq/ ]/ |/ >/ 2/ ε/ ,/ 所以/ |/ maxa/ / p/ / bx/ [/ tp/ ]/ -/ c/ |/ 与/ |/ c/ -/ mina/ / q/ / b/ +/ 1x/ [/ tq/ ]/ |/ 两者/ 必有/ 一个/ 的/ 值/ 大于/ ε/ ./ 故/ 我们/ 用/ c1/ =/ (/ maxa/ / p/ / bx/ [/ tp/ ]/ +/ mina/ / q/ / bx/ [/ tq/ ]/ )/ // 2/ 近似/ 子/ 序列/ S/ [/ ta/ :/ tb/ ]/ ,/ 且/ 在/ 时间/ tb/ +/ 1/ 开始/ 一个/ 新/ 的/ 子/ 序列/ 的/ 近似/ ./ 为了/ 证明/ 贪心/ 常值/ ε/ 近似/ 的/ 最优性/ ,/ 我们/ 先/ 证明/ 下面/ 的/ 引理/ ./ 引理/ 1/ ./ 给定/ 任意/ 时间/ 序列/ S/ [/ ta/ :/ tb/ ]/ =/ 〈/ x/ [/ ta/ ]/ ,/ x/ [/ ta/ +/ 1/ ]/ ,/ …/ ,/ x/ [/ tb/ ]/ 〉/ ,/ 误差/ 界/ ε/ 和/ 误差/ 函数/ E/ (/ )/ ./ (/ 1/ )/ 若/ S/ [/ ta/ :/ tb/ ]/ 可用/ 一个/ 常数/ 近似/ 且/ 保证/ 误差/ 小于/ 等于/ ε/ ./ 则/ 对/ / a1/ ,/ b1/ ,/ a/ / a1/ </ b1/ / b/ ,/ S/ [/ ta1/ :/ tb1/ ]/ 可用/ 常数/ 近似/ 且/ 保证/ 误差/ 小于/ 等于/ ε/ ./ (/ 2/ )/ 若/ S/ [/ ta/ :/ tb/ ]/ 不能/ 被/ 一个/ 常数/ 近似/ 且/ 保证/ 误差/ 小于/ 等于/ ε/ ./ 则/ 对/ / a2/ ,/ b2/ ,/ a2/ / a/ </ b/ / b2/ ,/ S/ [/ ta2/ :/ tb2/ ]/ 也/ 不能/ 被/ 一个/ 常数/ 近似/ 且/ 保证/ 误差/ 小于/ 等于/ ε/ ./ 证明/ ./ (/ 1/ )/ 设/ maxab/ 和/ minab/ 分别/ 为/ S/ [/ ta/ :/ tb/ ]/ 的/ 最大值/ 和/ 最小值/ ,/ maxa1b1/ 和/ mina1b1/ 分别/ 为/ S/ [/ ta1/ :/ tb1/ ]/ 的/ 最大值/ 和/ 最小值/ ./ 则/ 有/ 从而/ 得到/ 由/ 算法/ 描述/ 可知/ ,/ 我们/ 可用/ c/ =/ (/ maxa1/ / p/ / b1x/ [/ tp/ ]/ +/ mina1/ / q/ / b1x/ [/ tq/ ]/ )/ // 2/ 来/ 近似/ 子/ 序列/ S/ [/ ta1/ :/ tb1/ ]/ 保证/ 其/ 误差/ 小于/ 等于/ ε/ ./ (/ 2/ )/ 假设/ S/ [/ ta2/ :/ tb2/ ]/ 能/ 被/ 一个/ 常数/ 近似/ 且/ 保证/ 误差/ 小于/ 等于/ ε/ ,/ 因为/ a2/ / a/ </ b/ / b2/ ,/ 则/ 由/ (/ 1/ )/ 可知/ ,/ S/ [/ ta/ :/ tb/ ]/ 也/ 能/ 被/ 一个/ 常数/ 近似/ 且/ 保证/ 误差/ 小于/ 等于/ ε/ ./ 得出/ 矛盾/ ./ 故/ S/ [/ ta2/ :/ tb2/ ]/ 也/ 不能/ 被/ 一个/ 常数/ 近似/ 且/ 保证/ 误差/ 小于/ 等于/ ε/ ./ 定理/ 1/ (/ 最优性/ 证明/ )/ ./ 给定/ 时间/ 序列/ S/ (/ n/ )/ =/ 〈/ x/ [/ t1/ ]/ ,/ x/ [/ t2/ ]/ ,/ …/ ,/ x/ [/ tn/ ]/ 〉/ ,/ 误差/ 界/ ε/ 和/ 误差/ 函数/ Page5E/ (/ )/ ./ 在/ 所有/ 满足/ E/ (/ S/ (/ n/ )/ ,/ S/ ^/ (/ n/ )/ )/ / ε/ 的/ 分段/ 常值/ ε/ 近似/ 中/ ,/ 贪心/ 分段/ 常值/ 近似算法/ 产生/ 最小/ 长度/ 的/ 常值/ 序列/ (/ c1/ ,/ c2/ ,/ …/ ,/ cH/ )/ ./ 证明/ ./ 反证法/ ./ 假设/ 有/ 一个/ 更/ 小/ 长度/ 的/ 常值/ 序列/ (/ d1/ ,/ d2/ ,/ …/ ,/ dH/ )/ (/ H/ </ H/ )/ 近似/ S/ (/ n/ )/ 且/ 满足/ E/ (/ S/ (/ n/ )/ ,/ S/ ^/ (/ n/ )/ )/ / ε/ ,/ 其中/ ,/ S/ ^/ (/ n/ )/ 为/ (/ d1/ ,/ d2/ ,/ …/ ,/ dH/ )/ 近似/ S/ (/ n/ )/ 得到/ 的/ 时间/ 序列/ ./ 假设/ c1/ 近似/ 子/ 序列/ 〈/ x/ [/ t1/ ]/ ,/ x/ [/ t2/ ]/ ,/ …/ ,/ x/ [/ tj1/ ]/ 〉/ ,/ ch/ (/ 2/ / h/ / H/ )/ 近似/ 子/ 序列/ 〈/ x/ [/ tjh/ -/ 1/ +/ 1/ ]/ ,/ x/ [/ tjh/ -/ 2/ +/ 1/ ]/ ,/ …/ ,/ x/ [/ tjh/ ]/ 〉/ ,/ 其中/ jH/ =/ n/ ./ d1/ 近似/ 子/ 序列/ 〈/ x/ [/ t1/ ]/ ,/ x/ [/ t2/ ]/ ,/ …/ ,/ x/ [/ tl1/ ]/ 〉/ ./ dh/ (/ 2/ / h/ / H/ )/ 近似/ 子/ 序列/ 〈/ x/ [/ tlh/ -/ 1/ +/ 1/ ]/ ,/ x/ [/ tlh/ -/ 1/ +/ 2/ ]/ ,/ …/ ,/ x/ [/ tlh/ ]/ 〉/ ,/ lH/ =/ n/ ./ 下面/ 我们/ 用/ 数学/ 归纳法/ 证明/ 对/ / 1/ / m/ / H/ -/ 1/ ,/ lH/ -/ m/ >/ jH/ -/ (/ m/ +/ 1/ )/ 成立/ ./ (/ 1/ )/ 当/ m/ =/ 1/ 时/ ,/ lH/ -/ 1/ >/ jH/ -/ 2/ 成立/ ./ 否则/ ,/ 如果/ lH/ -/ 1/ / jH/ -/ 2/ ,/ 则/ 子/ 序列/ S/ [/ tjH/ -/ 2/ :/ tjH/ ]/ / S/ [/ tlH/ -/ 1/ :/ tlH/ ]/ ,/ 故由/ 引理/ 1/ 可知/ 子/ 序列/ S/ [/ tjH/ -/ 2/ :/ tjH/ ]/ 可用/ dH/ 近似/ 且/ 误差/ 不/ 大于/ ε/ ./ 但是/ 由/ 算法/ 可知/ S/ [/ tjH/ -/ 2/ :/ tjH/ -/ 1/ +/ 1/ ]/ (/ / S/ [/ tjH/ -/ 2/ :/ tjH/ ]/ )/ 不能/ 被/ 一个/ 常数/ 近似/ 且/ 保证/ 误差/ 小于/ 等于/ ε/ ./ 故由/ 引理/ 1/ 可知/ S/ [/ tjH/ -/ 2/ :/ tjH/ ]/ 也/ 不能/ 被/ 一个/ 常数/ 近似/ 保证/ 误差/ 小于/ 等于/ ε/ ./ 得出/ 矛盾/ ,/ 故/ m/ =/ 1/ 时/ ,/ lH/ -/ 1/ >/ jH/ -/ 2/ 成立/ ./ (/ 2/ )/ 假设/ m/ =/ k/ </ H/ 时/ ,/ lH/ -/ k/ >/ jH/ -/ (/ k/ +/ 1/ )/ 成立/ ./ 则/ lH/ -/ (/ k/ +/ 1/ )/ >/ jH/ -/ (/ k/ +/ 2/ )/ 成立/ ./ 否则/ ,/ 若/ lH/ -/ (/ k/ +/ 1/ )/ / jH/ -/ (/ k/ +/ 2/ )/ 成立/ ,/ 则/ 由/ 归纳/ 假设/ 知/ lH/ -/ (/ k/ +/ 1/ )/ / jH/ -/ (/ k/ +/ 2/ )/ </ jH/ -/ (/ k/ +/ 1/ )/ </ lH/ -/ k/ ,/ 从而/ S/ [/ tjH/ -/ (/ k/ +/ 2/ )/ :/ tjH/ -/ (/ k/ +/ 1/ )/ +/ 1/ ]/ / S/ [/ tlH/ -/ (/ k/ +/ 1/ )/ :/ tlH/ -/ k/ ]/ ,/ 由/ 引理/ 1/ 可知/ ,/ S/ [/ tjH/ -/ (/ k/ +/ 2/ )/ :/ tjH/ -/ (/ k/ +/ 1/ )/ +/ 1/ ]/ 可用/ dH/ -/ k/ 近似/ 且/ 误差/ 小于/ 等于/ ε/ ./ 但是/ 由/ 算法/ 可知/ S/ [/ tjH/ -/ (/ k/ +/ 2/ )/ :/ tjH/ -/ (/ k/ +/ 1/ )/ +/ 1/ ]/ 不能/ 被/ 一个/ 常数/ 近似/ 且/ 保证/ 误差/ 小于/ 等于/ ε/ ./ 得出/ 矛盾/ ,/ 故/ lH/ -/ (/ k/ +/ 1/ )/ >/ jH/ -/ (/ k/ +/ 2/ )/ 成立/ ./ 由/ (/ 1/ )/ 、/ (/ 2/ )/ 可知/ 对/ / 1/ / m/ / H/ -/ 1/ ,/ lH/ -/ m/ >/ jH/ -/ (/ m/ +/ 1/ )/ 成立/ ./ 特殊/ 地/ ,/ 当/ m/ =/ H/ -/ 1/ ,/ l1/ >/ jH/ -/ H/ 成立/ ,/ 从而/ 有/ S/ [/ t1/ :/ tjH/ -/ H/ +/ 1/ ]/ / S/ [/ t1/ :/ tl1/ ]/ ,/ 由/ 引理/ 1/ 可知/ ,/ S/ [/ t1/ :/ tjH/ -/ H/ +/ 1/ ]/ 可/ 被/ d1/ 近似/ 且/ 误差/ 小于/ 等于/ ε/ ./ 而/ H/ -/ H/ / 1/ ,/ 从而/ 有/ S/ [/ t1/ :/ tj1/ +/ 1/ ]/ / S/ [/ t1/ :/ tjH/ -/ H/ +/ 1/ ]/ ,/ 故由/ 引理/ 1/ 可知/ S/ [/ t1/ :/ tj1/ +/ 1/ ]/ 可/ 被/ d1/ 近似/ 且/ 误差/ 小于/ 等于/ ε/ ./ 但是/ 由/ 算法/ 可知/ S/ [/ t1/ :/ tj1/ +/ 1/ ]/ 不能/ 被/ 一个/ 常数/ 近似/ 且/ 保证/ 误差/ 小于/ 等于/ ε/ ./ 从而/ 得出/ 矛盾/ ./ 故/ 不/ 存在/ 长度/ 小于/ H/ 的/ 常值/ 序列/ 近似/ S/ (/ n/ )/ 且/ 满足/ E/ (/ S/ (/ n/ )/ ,/ S/ ^/ (/ n/ )/ )/ / ε/ ./ 4.3/ 时间/ 和/ 空间/ 复杂性/ 分析/ 由于/ GPCA/ 是/ 一个/ on/ -/ line/ 算法/ ,/ 每当/ 一个/ 新/ 的/ 采样/ 到达/ ,/ 只/ 需要/ O/ (/ 1/ )/ 的/ 空间/ 和/ O/ (/ 1/ )/ 的/ 计算/ 时间/ ,/ 因为/ 新/ 采样/ 值/ 只/ 需/ 与/ 之前/ 未/ 结束/ 的/ 子/ 序列/ 的/ 最大值/ 与/ 最小值/ 比较/ 大小/ ./ 故/ GPCA/ 的/ 时间/ 复杂度/ 为/ O/ (/ n/ )/ ,/ 空间/ 复杂度/ 为/ O/ (/ 1/ )/ ,/ 其中/ n/ 为/ 时间/ 序列/ S/ (/ n/ )/ 的/ 长度/ ./ 5/ 加权/ 公平性/ 保证/ 的/ 拥塞/ 控制算法/ WFCC5/ ./ 1/ 节点/ 模型/ 和/ 术语/ 假设/ 传感器/ 节点/ 连续/ 地/ 采集/ 数据/ ,/ 中间/ 节点/ 不仅/ 采集/ 数据/ 还/ 转发/ 来自/ 其他/ 节点/ 的/ 数据/ ./ 每个/ 节点/ 在/ 其/ 应用层/ 维护/ 一个/ 最大/ 长度/ 为/ L/ 的/ 循环/ 队列/ 作为/ 缓存/ 自身/ 采样/ 得到/ 的/ 和/ 来自/ 子孙/ 节点/ 的/ 数据包/ 的/ 缓冲区/ ,/ 每个/ 数据包/ 的/ payload/ 域/ 由/ GPCA/ 算法/ 得到/ 的/ 〈/ ts/ ,/ te/ ,/ c/ 〉/ 三元组/ 组成/ ,/ 其中/ c/ 为/ [/ ts/ ,/ te/ ]/ 时间段/ 内/ 子/ 序列/ 的/ 近似值/ ;/ 每个/ 节点/ 有/ 一个/ 唯一/ 的/ 编号/ ./ 并且/ ,/ 由于/ 传感器/ 节点/ 所/ 监测/ 区域/ 的/ 重要性/ 不同/ 以及/ 可能/ 不同/ 的/ 节点/ 所装/ 传感器/ 不/ 一样/ ,/ 每个/ 节点/ 被/ 分配/ 给/ 一个/ 反映/ 其/ 重要性/ 的/ 正/ 权值/ [/ 1/ -/ 2/ ]/ ./ 传感器/ 节点/ 间/ 的/ 数据传输/ 通过/ 单/ 路径/ 的/ 树状/ 拓扑/ 结构/ / 来/ 实现/ ./ 在/ 路由/ 结构/ / 中/ ,/ 如图/ 1/ 所示/ ,/ 根/ 节点/ 为/ sink/ 节点/ ,/ 其/ 编号/ 为/ 0/ ;/ 编号/ 为/ i/ 的/ 节点/ 关联/ 一个二元/ 组/ 〈/ wi/ ,/ swi/ 〉/ ,/ 其中/ ,/ wi/ 是/ 节点/ i/ 的/ 权值/ ,/ swi/ 是/ / 的/ 以/ 节点/ i/ 为根/ 的/ 子树/ / i/ 中/ 所有/ 节点/ 的/ 权值/ 和/ ,/ 即/ swi/ =/ ∑/ j/ ∈/ / iwj/ ./ swi/ 的/ 计算/ 在/ 路由/ 构造/ 过程/ 中/ 完成/ ./ WFCC/ 算法/ 将/ 利用/ 二元/ 组/ 〈/ wi/ ,/ swi/ 〉/ 来/ 分配/ 流入/ 节点/ 的/ 总/ 速率/ 以/ 满足/ 拥塞/ 控制/ 过程/ 中/ 的/ 加权/ 公平性/ ./ 我们/ 用/ O/ (/ i/ )/ 表示/ 节点/ i/ 的/ 子孙/ 节点/ 总数/ ,/ 将/ 直接/ 传输数据/ 包/ 给/ 节点/ i/ 的/ 节点/ j/ 称为/ 节点/ i/ 的/ 孩子/ 节点/ ,/ 相应/ 地称/ 节点/ i/ 为/ 节点/ j/ 的/ 父亲/ 节点/ ./ r/ (/ i/ )/ send/ 分别/ 表示/ 节点/ i/ 的/ 采样/ 速率/ 和/ 发送/ 速率/ ./ r/ (/ i/ )/ r/ (/ i/ )/ 示/ 进入/ 节点/ 的/ 总/ 速率/ ,/ 且/ 有/ r/ (/ i/ )/ 其中/ child/ (/ i/ )/ 为/ 节点/ i/ 的/ 孩子/ 节点/ 编号/ 集合/ ./ 5.2/ 拥塞/ 度量/ 的/ 计算/ 我们/ 使用/ 文献/ [/ 8/ ]/ 中/ 的/ 拥塞/ 度量/ 来/ 测量/ 每个/ 节点/ 的/ 局部/ 拥塞/ 情况/ ,/ 与/ 文献/ [/ 8/ ]/ 中/ 不同/ 的/ 是/ ,/ 我们/ 将/ Page6t/ -/ (/ i/ )/ 流入/ 的/ 数据包/ 速率/ 公平/ 地/ 分配/ 给/ 孩子/ 节点/ 和/ 自身/ 节点/ 分别/ 作为/ 其/ 在/ 下/ 一个/ 时间段/ 的/ 发送/ 速率/ 和/ 采样/ 速率/ 来/ 实现/ 加权/ 公平性/ ./ 最后/ ,/ 我们/ 从/ 理论/ 上/ 证明/ 了/ 通过/ 这种/ 局部/ 的/ 公平/ 速率/ 分配/ 策略/ 可以/ 达到/ 很/ 好/ 的/ 全局/ 公平性/ ,/ 并/ 给出/ 了/ 一个/ 下界/ ./ 下面/ 我们/ 先/ 给出/ 几个/ 定义/ ,/ 然后/ 给出/ 拥塞/ 度量/ 的/ 表达式/ ./ 定义/ 1/ (/ 数据包/ 的/ 服务/ 时间/ )/ ./ 数据包/ 的/ 服务/ 时间/ ts/ 是/ 指/ 从/ 数据包/ 到达/ MAC/ 层/ 的/ 时间/ 到/ 数据包/ 的/ 最后/ 一个/ 比特/ 成功/ 发送/ 的/ 时间/ 间隔/ ./ 定义/ 2/ (/ 数据包/ 的/ 间隔/ 到达/ 时间/ )/ ./ 数据包/ 的/ 间隔/ 到达/ 时间/ ta/ 是/ 指/ 两个/ 连续/ 到达/ 节点/ 网络层/ 的/ 数据包/ 之间/ 的/ 间隔时间/ ./ 单个/ 的/ ts/ 和/ ta/ 只/ 反映/ 短时间/ 内/ 的/ 包/ 的/ 服务/ 时间/ 和/ 间隔/ 到达/ 时间/ ,/ 为了/ 更/ 长时间/ 更/ 准确/ 反映/ 包/ 的/ 平均/ 服务/ 时间/ 和/ 平均/ 到达/ 时间/ ,/ 每/ 发送/ 一个/ 数据包/ ,/ 我们/ 使用/ 指数/ 加权/ 移动/ 平均/ 方法/ 更新/ 节点/ i/ 的/ 数据包/ 平均/ 服务/ 时间/ t/ -/ (/ i/ )/ 其中/ ,/ 0/ </ qs/ </ 1/ (/ 实验/ 中/ qs/ =/ 0.1/ )/ 是/ 一个/ 加权/ 常数/ ,/ tnew/ 是/ 第/ h/ +/ 1/ 个/ 数据包/ 的/ 服务/ 时间/ ./ 类似/ 地/ ,/ 每/ 收到/ 一个/ 数据包/ ,/ 我们/ 使用/ 指数/ 移动/ 加权/ 平均/ 方法/ 更新/ 数据包/ 平均/ 到达/ 时间/ t/ -/ (/ i/ )/ 其中/ ,/ 0/ </ qa/ </ 1/ (/ 实验/ 中/ qa/ =/ 0.1/ )/ ,/ tnew/ 是/ 第/ m/ 个/ 与/ 第/ m/ +/ 1/ 个/ 数据包/ 到达/ 的/ 间隔时间/ ./ 定义/ 3/ (/ 拥塞/ 度量/ )/ ./ 节点/ 的/ 拥塞/ 度量/ 值/ 是/ 指/ 数据包/ 的/ 平均/ 服务/ 时间/ 与/ 数据包/ 的/ 平均/ 到达/ 时间/ 之间/ 的/ 比值/ ./ 其/ 具体/ 计算/ 式/ 如下/ :/ 从/ 其/ 表达式/ 易/ 见/ ,/ 当/ 数据包/ 的/ 平均/ 到达/ 时间/ 小于/ 平均/ 服务/ 时间/ 时/ ,/ d/ (/ i/ )/ >/ 1/ ,/ 即/ 流入/ 的/ 速率/ 大于/ 流出/ 的/ 速率/ ,/ 说明/ 节点/ 拥塞/ 程度/ 较/ 严重/ ./ 反之/ ,/ d/ (/ i/ )/ </ 1/ ,/ 即/ 流入/ 的/ 速率/ 小于/ 流出/ 的/ 速率/ ,/ 说明/ 节点/ 拥塞/ 程度/ 较轻/ ./ d/ (/ i/ )/ 能/ 根据/ 网络/ 的/ 变化/ 情况/ 自/ 适应/ 地/ 进行/ 调节/ ,/ 为/ 实现/ 拥塞/ 控制/ 提供/ 了/ 动态/ 指示/ 信息/ ./ 下面/ ,/ 我们/ 描述/ 如何/ 利用/ 拥塞/ 度量/ 来/ 进行/ 速率/ 的/ 公平/ 分配/ ./ 5.3/ 速率/ 的/ 公平/ 分配/ WFCC/ 算法/ 是/ 一个/ 分布式/ 算法/ ,/ 在/ 每/ 一个/ 节点/ 上/ 周期/ 地/ 运行/ ./ 时间轴/ 被/ 划分/ 成/ 长度/ 为/ T/ 的/ 周期/ 序列/ ./ 第/ k/ 个/ 周期/ 是/ 指/ (/ k/ -/ 1/ )/ T/ 到/ kT/ 这个/ 时间段/ ./ sam/ (/ k/ )/ 表示/ 节点/ i/ 在/ 第/ k/ 个/ 周期/ 的/ 采样/ 速率/ ./ r/ (/ i/ )/ r/ (/ i/ )/ 表示/ 节点/ i/ 在/ 第/ k/ 个/ 周期/ 的/ 发送/ 速率/ ./ r/ (/ i/ )/ 在/ 第/ k/ 个/ 周期/ 流入/ 节点/ 的/ 数据包/ 总/ 速率/ ./ 其值/ 等于/ 在/ 第/ k/ 个/ 周期/ 自身/ 采样/ 速率/ 和/ 孩子/ 节点/ 的/ 发送/ 速率/ 之/ 和/ ,/ 即/ t/ -/ (/ i/ )/ 下面/ 我们/ 分/ sink/ 节点/ 和/ 非/ sink/ 节点/ 描述/ WFCC/ 算法/ 在/ 一个/ 周期/ 内/ 的/ 运行/ 情况/ ./ 首先/ 我们/ 对/ 算法/ 在/ 非/ sink/ 节点/ 上/ 的/ 运行/ 过程/ 进行/ 描述/ ./ (/ 1/ )/ 非/ sink/ 节点/ i/ 的/ 初始/ 采样/ 速率/ 和/ 发送/ 速率/ 分别/ 设置/ 为/ r/ (/ i/ )/ 中/ r0/ 为/ 初始/ 设定/ 的/ 基准/ 速率/ ./ 下面/ 我们/ 以/ 一个/ 周期/ 为例/ ,/ 来/ 说明/ 节点/ 的/ 行为/ ./ 我们/ 将/ 节点/ 分成/ 两类/ 来/ 描述/ :/ 一类/ 是/ 有/ 孩子/ 节点/ ;/ 另一类/ 是/ 没有/ 孩子/ 节点/ ./ 先/ 讨论/ WFCC/ 算法/ 在/ 第/ 1/ 类/ 节点/ (/ 有/ 孩子/ 节点/ )/ 上/ 运行/ 时/ 的/ 行为/ ./ ①/ 在/ kT/ 时刻/ ,/ 即/ 第/ k/ +/ 1/ 个/ 周期/ 的/ 开始/ 时间/ ,/ 节点/ i/ 比较/ 拥塞/ 度/ d/ (/ i/ )/ 与/ 1/ 的/ 大小/ ./ 若/ d/ (/ i/ )/ >/ 1/ ,/ 则/ 更新/ 其中/ ,/ 0.9/ / Factor1/ </ 1/ (/ 实验/ 中/ Factor1/ =/ 0.9/ )/ 为/ 减速/ 因子/ ./ 若/ d/ (/ i/ )/ / 1/ ,/ 则/ 更新/ 其中/ ,/ 1/ </ Factor2/ / 1.1/ (/ 实验/ 中/ Factor2/ =/ 1.1/ )/ 为/ 增速/ 因子/ ./ 得到/ r/ (/ i/ )/ 配给/ 节点/ i/ 及其/ 孩子/ 节点/ 分别/ 作为/ 其/ 在/ 下/ 一个/ 周期/ 的/ 采样/ 速率/ 和/ 发送/ 速率/ ./ 具体/ 计算/ 式/ 如下/ :/ send/ (/ k/ +/ 1/ )/ ./ 这里/ 我们/ 没有/ 传/ r/ (/ i/ )/ 其中/ 节点/ j/ 为/ 节点/ i/ 的/ 孩子/ 节点/ 且/ swi/ =/ wi/ +/ ∑/ j/ ∈/ child/ (/ i/ )/ swj/ ./ r/ (/ i/ )/ send/ (/ k/ +/ 1/ )/ 的/ 计算/ 实现/ 是/ 通过/ 将/ 二元/ 组/ 〈/ swi/ ,/ 1000/ // r/ (/ j/ )/ in/ (/ k/ +/ 1/ )/ 〉/ 捎带/ 在/ 数据包/ 的/ 头部/ ,/ 节点/ i/ 在/ 广播/ 这个/ r/ (/ i/ )/ 数据包/ 的/ 同时/ ,/ 其/ 孩子/ 节点/ j/ 收到/ 这个/ 包后/ ,/ 就/ 可以/ 计算/ r/ (/ j/ )/ 1000/ // r/ (/ i/ )/ 中/ ,/ 包只/ 存/ 整数/ 形/ 数据/ ./ 这样/ 对/ 节点/ i/ 来说/ ,/ 流入/ 的/ 数据包/ 速率/ 被/ 公平/ 地/ 分配/ 给/ 自身/ 和/ 其/ 孩子/ 节点/ 分别/ 作为/ 其/ 在/ 下/ 一个/ 周期/ 的/ 采样/ 速率/ 和/ 发送/ 速率/ ./ ②/ 若/ 节点/ i/ 属于/ 第/ 2/ 类/ 节点/ ,/ 即/ 没有/ 孩子/ 节点/ 的/ 节点/ ./ 只/ 需/ sam/ (/ k/ +/ 1/ )/ =/ r/ (/ i/ )/ 计算/ r/ (/ i/ )/ 如/ ①/ 所述/ 是/ 在/ 收到/ 其/ 父亲/ 节点/ 的/ 广播/ 包后/ 进行/ 的/ ./ (/ 2/ )/ sink/ 节点/ 0/ 采用/ AIMD/ (/ AdditiveIncrease/ // Muliti/ -/ plicativeDecrease/ )/ 的/ 方法/ 来/ 调节/ 流入/ 的/ 数据包/ 总/ 速率/ ./ 其/ 具体/ 调节/ 过程/ 如下/ :/ 在/ kT/ 时刻/ ,/ 比较/ in/ (/ k/ )/ 与/ ∑/ 1/ / j/ / Nr/ (/ 0/ )/ 为/ 提高/ 链路/ 的/ 利用率/ ,/ 对/ r/ (/ 0/ )/ 节/ ,/ 其/ 计算/ 式/ 如下/ :/ Page7/ 其中/ ,/ AddFactor/ >/ 0/ (/ 实验/ 中视/ 网络/ 大小/ 而定/ ,/ 一般/ 在/ [/ 2r0/ ,/ 5r0/ ]/ )/ 为/ 加性/ 增/ 因子/ ./ 若/ r/ (/ 0/ )/ 为/ 减缓/ 拥塞/ ,/ 对/ r/ (/ 0/ )/ 式/ 如下/ :/ 其中/ ,/ 0/ </ MulFactor/ </ 1/ (/ 实验/ 中/ 一般/ 在/ [/ 0.9/ ,/ 0.98/ ]/ 中/ 取值/ )/ 为/ 乘性/ 减/ 因子/ ./ 得到/ r/ (/ 0/ )/ 们/ 将/ 其/ 公平/ 地/ 分配/ 给/ 节点/ 0/ 的/ 孩子/ 节点/ 分别/ 作为/ 其/ 在/ 下/ 一个/ 周期/ 的/ 发送/ 速率/ ./ 具体/ 计算/ 式/ 如下/ :/ send/ (/ k/ +/ 1/ )/ =/ r/ (/ 0/ )/ r/ (/ j/ )/ 其中/ ,/ ∑/ j/ ∈/ child/ (/ 0/ )/ swj/ =/ ∑/ 1/ / j/ / N/ 节点/ ./ 其/ 具体/ 实现/ 同/ (/ 1/ )/ 一样/ ./ 的/ 运行/ 伪/ 代码/ ./ 下面/ 我们/ 给出/ WFCC/ 算法/ 在/ 第/ k/ +/ 1/ 个/ 周期/ 内/ 算法/ 1/ ./ 加权/ 公平性/ 保证/ 的/ 拥塞/ 控制算法/ ./ 输入/ :/ wi/ ,/ swi/ (/ 1/ / i/ / N/ )/ ,/ r/ (/ 0/ )/ 输出/ :/ r/ (/ i/ )/ // / N/ 表示/ 节点/ 总数/ ,/ NumOfChild/ (/ i/ )/ 表示/ 节点/ i/ 的/ 孩/ 1/ ./ if/ (/ NodeID/ !/ =/ 0/ )/ 2/ ./ if/ (/ NumOfChild/ (/ i/ )/ !/ =/ 0/ )/ 3/ ./ if/ (/ d/ (/ i/ )/ >/ 1/ )/ 4/ ./ r/ (/ i/ )/ 5/ ./ else6/ ./ r/ (/ i/ )/ 7/ ./ end/ ;/ 8/ ./ r/ (/ i/ )/ 9/ ./ forj/ ∈/ child/ (/ i/ )/ 10/ ./ r/ (/ j/ )/ 11/ ./ end/ ;/ 12/ ./ else13/ ./ r/ (/ j/ )/ 14/ ./ end/ ;/ 15/ ./ else16/ ./ if/ (/ r/ (/ 0/ )/ 17/ ./ r/ (/ 0/ )/ 18/ ./ else19/ ./ r/ (/ 0/ )/ 20/ ./ end/ ;/ 21/ ./ forj/ ∈/ child/ (/ 0/ )/ 22/ ./ r/ (/ j/ )/ 23/ ./ end/ ;/ 24/ ./ Outputr/ (/ i/ )/ 在/ WFCC/ 算法/ 中/ ,/ 每/ 一个/ 周期/ 内/ 流入/ 节点/ i/ 的/ 数据包/ 速率/ 被/ 完全/ 公平/ 地/ 分配/ 给/ 自身/ 及其/ 孩子/ 节点/ j/ 分别/ 作为/ 其/ 在/ 本/ 周期/ 的/ 采样/ 速率/ 和/ 发送/ 速率/ ,/ 且/ 有/ sam/ (/ k/ +/ 1/ )/ // wi/ =/ r/ (/ i/ )/ r/ (/ i/ )/ 样/ 带宽/ 按/ 节点/ i/ 的/ 权值/ 及/ 以/ 其/ 孩子/ 节点/ j/ 为根/ 的/ 子树/ 的/ 权值/ 比例/ 公平/ 地/ 分配/ 给/ 它们/ ./ 这种/ 局部/ 公平/ 的/ 速率/ 分配/ 方案/ 间隔/ 地/ 保证/ 了/ 全局/ 的/ 加权/ 公平性/ ./ 我们/ 将/ 在/ 之后/ 的/ 加权/ 公平性/ 分析/ 中/ 严格/ 证明/ ./ 下面/ 我们/ 先/ 分析/ 算法/ 的/ 复杂性/ ,/ 之后/ 再/ 进行/ 加权/ 公平性/ 分析/ ./ 5.4/ WFCC/ 算法/ 复杂性/ 分析/ 我们/ 分析/ WFCC/ 算法/ 在/ 一个/ 周期/ 内/ 的/ 计算/ 、/ 存储/ 和/ 通信/ 复杂性/ ./ 从/ 上面/ 的/ 算法/ 描述/ 可知/ ,/ 在/ 一个/ 周期/ 内/ ,/ WFCC/ 算法/ 在/ 每个/ 节点/ 只/ 需/ 执行/ α/ T/ // r0/ 次/ 的/ 四则运算/ 操作/ ,/ 其中/ α/ / 8/ =/ 6/ +/ 2/ ,/ 6/ 是/ 指/ 更新/ 一次/ s/ (/ h/ +/ 1/ )/ 和/ t/ -/ (/ i/ )/ t/ -/ (/ i/ )/ 指/ 计算/ tnew/ 和/ tnew/ 所/ 各/ 需/ 的/ 2/ 次/ 减法/ 操作/ ;/ T/ // r0/ 一般/ 小于/ 1000/ ./ 在/ 无线/ 传感器/ 网络/ 中/ ,/ 传感器/ 节点/ 用/ 无线/ 方式/ 传播/ 1bit/ 到/ 100m/ 远所/ 消耗/ 的/ 能量/ 可供执行/ 3000/ 条/ 左右/ 加法/ 指令/ [/ 15/ ]/ ./ 故/ 相比/ 于/ 缓冲区/ 溢出/ 引起/ 重传/ 数据包/ 的/ 浪费/ 的/ 能量/ ,/ 运行/ WFCC/ 算法/ 的/ 计算/ 开销/ 是/ 值得/ 的/ ./ 除了/ 正常/ 的/ 数据/ 存储/ 外/ ,/ 额外/ 的/ 所/ 需/ 的/ 变量/ 个数/ 不/ 超过/ 15/ 个/ ,/ 其/ 存储/ 开销/ 小于/ 60/ 字节/ ./ 对/ 一般/ 的/ 传感器/ 节点/ (/ 如/ Telosb/ 节点/ 的/ 扩展/ 内存/ 有/ 1/ 兆/ 字节/ )/ ,/ 是/ 可以/ 承受/ 的/ ./ 我们/ 重点/ 关注/ 的/ 是/ 算法/ 的/ 通信/ 复杂性/ ,/ 为/ 降低/ 通信/ 代价/ ,/ 我们/ 采用/ 隐式/ 的/ 拥塞/ 通知/ 方法/ :/ 即将/ 拥塞/ 信息/ (/ swi/ ,/ 1000/ // r/ (/ i/ )/ 捎带/ 在/ 数据包/ 的/ 头部/ ,/ 利用/ 无线/ 信道/ 的/ 广播/ 特性/ ,/ 孩子/ 节点/ 也/ 能/ 接收/ 到/ 这个/ 数据包/ ,/ 之后/ 就/ 可以/ 对包/ 进行/ 解析/ 和/ 计算/ ./ 隐式/ 的/ 拥塞/ 通知/ 方法/ 并/ 没有/ 影响/ 正常/ 的/ 数据传输/ ,/ 只/ 需要/ 将/ 必要/ 的/ 拥塞/ 信息/ 捎带/ 在/ 数据包/ 的/ 头部/ 即可/ ./ 故/ WFCC/ 算法/ 所/ 需/ 的/ 额外/ 通信/ 较/ 低/ ./ 6/ 加权/ 公平性/ 分析/ 6.1/ 加权/ 公平性/ 度量/ 如前所述/ ,/ 由于/ 传感器/ 节点/ 所/ 监测/ 区域/ 的/ 重要性/ 不同/ 以及/ 可能/ 不同/ 的/ 节点/ 所装/ 传感器/ 不/ 一样/ ,/ 每个/ 节点/ 被/ 分配/ 给/ 一个/ 反映/ 其/ 重要性/ 的/ 正/ 权值/ ./ 我们/ 以/ wi/ 表示/ 节点/ i/ 的/ 正/ 权值/ ./ 直观/ 地/ ,/ 如果/ wi/ >/ wj/ ,/ 我们/ 希望/ 单位/ 时间/ 内/ sink/ 节点/ 接收/ 来自/ 节点/ i/ 的/ 包/ 的/ 数目/ Pi/ 大于/ 来自/ 节点/ j/ 的/ 包/ 的/ 数目/ Pj/ ,/ 最/ 理想/ 的/ 情况/ (/ 也/ 是/ 最/ 公平/ 的/ 情况/ )/ 是/ wi/ // wj/ =/ Pi/ // Pj/ ./ 为了/ 量化/ 这种/ 加权/ 公平性/ ,/ 我们/ 使用/ 和/ 文献/ [/ 5/ ]/ 一样/ 的/ 公平性/ 度量/ ,/ 其/ 表达式/ 如下/ :/ f/ (/ y1/ ,/ y2/ ,/ …/ ,/ yN/ )/ =/ ∑/ NPage8/ 其中/ ,/ N/ 表示/ 传感器/ 网络/ 中/ 节点/ 总数/ ./ 这里/ 的/ yp/ 不是/ 文献/ [/ 5/ ]/ 中/ 的/ 数据包/ 速率/ ,/ 而是/ TPp/ 与/ wp/ 的/ 比值/ ./ 这里/ TPp/ 表示/ 在/ 前/ M/ 个/ 周期/ sink/ 节点/ 接收/ 来自/ 节点/ p/ 的/ 数据包/ 总数/ ./ 当/ TPp/ // wp/ =/ TPj/ // wj/ (/ 1/ / j/ / N/ ,/ j/ ≠/ p/ )/ 成立/ 时/ ,/ 式/ (/ 8/ )/ 的/ 值/ 等于/ 最大值/ 1/ ,/ 此时/ 达到/ 了/ 最好/ 的/ 加权/ 公平性/ ./ 当/ TPp/ // wp/ >/ 0/ ,/ 而/ TPj/ // wj/ =/ 0/ (/ 1/ / j/ / N/ ,/ j/ ≠/ p/ )/ 时/ ,/ 式/ (/ 8/ )/ 的/ 值/ 等于/ 最小值/ 1/ // N/ ./ 此时/ 的/ 加权/ 公平性/ 最差/ ./ 基于/ 式/ (/ 8/ )/ ,/ 我们/ 定义/ 在/ 前/ M/ 个/ 周期/ 内/ 的/ 加权/ 公平性/ 度量/ 如下/ :/ (/ fM/ =/ f/ ∑/ Mw/ (/ =/ ∑/ Np/ =/ 1/ ∑/ MN/ ∑/ Np/ =/ 1/ ∑/ M6/ ./ 2/ 加权/ 公平性/ 分析/ 下面/ 我们/ 先/ 给出/ 几个/ 重要/ 的/ 引理/ 及其/ 证明/ ,/ 然后/ 基于/ 这些/ 引理/ ,/ 证明/ fM/ / 1/ -/ (/ 10c/ // 9/ )/ 2/ ./ 点/ ,/ 则/ 有/ 引理/ 2/ ./ 节点/ i/ 和/ j/ 为/ 路由/ 树中/ 的/ 任意/ 2/ 个节/ k/ =/ 1y/ (/ )/ jyp/ +/ ∑/ j/ ≠/ py/ (/ )/ j/ [/ p/ +/ ∑/ j/ ≠/ pp/ +/ b2/ )/ -/ (/ yp/ +/ b1/ )/ 2/ [/ (/ yp/ +/ Δ/ yp/ )/ 2/ +/ b2/ ]/ 由于/ b2/ -/ b21/ -/ 2b1yp/ =/ (/ b2/ +/ y22b1yp/ )/ =/ ∑/ Nb1/ >/ 0/ ,/ 又/ b1/ >/ 0/ 和/ N/ (/ y2/ 故/ Δ/ f/ </ 0/ 当且/ 仅/ 当/ 下面/ 3/ 个/ 条件/ 之一/ 成立/ ./ (/ 1/ )/ Δ/ yp/ >/ 0/ 且/ yp/ >/ y0/ ./ (/ 2/ )/ Δ/ yp/ </ 0/ 且/ 0/ / yp/ </ y0/ ./ (/ 3/ )/ yp/ =/ y0/ 且/ ∑/ N/ 其中/ ,/ y0/ =/ b2/ // b1/ ./ 其中/ ,/ c/ =/ |/ Factor1/ -/ Factor2/ |/ ./ 证明/ ./ 由式/ (/ 4/ )/ 、/ (/ 5/ )/ 和/ 式/ (/ 6/ )/ 可知/ sam/ (/ k/ )/ =/ r/ (/ i/ )/ r/ (/ i/ )/ 其中/ ,/ m/ ∈/ {/ 1/ ,/ 2/ }/ ./ 则/ 由/ 上式/ 易知/ sam/ (/ k/ )/ r/ (/ i/ )/ wi/ -/ r/ (/ j/ )/ 其中/ ,/ c/ =/ |/ Factor1/ -/ Factor2/ |/ ./ 引理/ 3/ ./ 关于/ 式/ (/ 8/ )/ ,/ 如果/ 只/ 改变/ yp/ 为/ yp/ +/ Δ/ yp/ ,/ 而/ 不/ 改变/ yj/ (/ j/ ≠/ p/ ,/ 1/ / j/ / N/ )/ ,/ 则/ f/ (/ y1/ ,/ y2/ ,/ …/ ,/ yp/ -/ 1/ ,/ yp/ +/ Δ/ yp/ ,/ yp/ +/ 1/ ,/ …/ ,/ yN/ )/ </ f/ (/ y1/ ,/ y2/ ,/ …/ ,/ yp/ -/ 1/ ,/ yp/ ,/ yp/ +/ 1/ ,/ …/ ,/ yN/ )/ 成立/ 当且/ 仅/ 当/ 下面/ 3/ 个/ 条件/ 之一/ 成立/ ./ (/ 1/ )/ Δ/ yp/ >/ 0/ 且/ yp/ >/ y0/ ./ (/ 2/ )/ Δ/ yp/ </ 0/ 且/ 0/ / yp/ </ y0/ ./ (/ 3/ )/ yp/ =/ y0/ 且/ ∑/ N/ 其中/ ,/ y0/ =/ b2/ // b1/ ,/ b2/ =/ ∑/ j/ ≠/ p/ 证明/ ./ 由式/ (/ 8/ )/ 可知/ 2/ ]/ 2/ =/ [/ (/ yp/ +/ Δ/ yp/ )/ +/ b1/ ]/ 2/ 推论/ 1/ ./ 若/ 0/ </ ymin/ / yp/ / ymax/ (/ 1/ / p/ / N/ )/ ,/ 则/ 式/ (/ 8/ )/ 中/ 的/ f/ 取/ 最小值/ fmin/ 时/ ,/ yp/ =/ ymin/ 或/ yp/ =/ ymax/ 两者/ 必/ 成立/ 一个/ ./ 证明/ ./ 因为/ b2/ =/ ∑/ j/ ≠/ p/ 若/ b1/ =/ 0/ ./ 则/ yj/ =/ 0/ (/ j/ ≠/ p/ ,/ 1/ / j/ / N/ )/ ./ 此时/ yp/ >/ 0/ 且/ yp/ =/ ymin/ =/ ymax/ ,/ 命题/ 成立/ ./ 若/ b1/ ≠/ 0/ ,/ 由/ 表达式/ 易知/ yminb1/ / b2/ / ymaxb1/ ,/ 即/ ymin/ / y0/ / ymax/ ./ 下面/ 分/ 两种/ 情况/ 分析/ :/ (/ 1/ )/ 若/ ymin/ </ y0/ </ ymax/ ,/ 则/ 由/ 引理/ 3/ 可知/ ,/ 对/ / y0/ </ yp/ </ ymax/ ,/ 我们/ 可以/ 减少/ f/ 的/ 值/ 通过/ 增加/ ypPage9/ 直到/ yp/ =/ ymax/ ;/ 对/ / y0/ </ yp/ </ ymax/ ,/ 我们/ 可以/ 减少/ f/ 的/ 值/ 通过/ 减少/ yp/ 直到/ yp/ =/ ymin/ ;/ 对/ / yp/ =/ y0/ ,/ 我们/ 可以/ 减少/ f/ 的/ 值/ 通过/ 增加/ 或/ 减少/ yp/ 直到/ yp/ =/ ymin/ 或/ yp/ =/ ymax/ ./ (/ 2/ )/ 若/ y0/ =/ ymin/ 或/ y0/ =/ ymax/ ,/ 则/ y1/ =/ y2/ =/ …/ =/ yN/ =/ ymin/ =/ ymax/ ./ 如若不然/ ,/ 当/ y0/ =/ ymin/ 成立/ 时/ ,/ 如果/ / p0/ ∈/ [/ 1/ ,/ N/ ]/ ,/ 使得/ yp0/ >/ ymin/ ,/ 则/ 有/ y2p/ / yminyp/ (/ p/ ∈/ [/ 1/ ,/ N/ ]/ 且/ p/ ≠/ j/ ,/ p0/ )/ ,/ 可/ 得/ ∑/ p/ ≠/ jy2y/ (/ )/ pymin/ ,/ 即/ y0/ >/ ymin/ ,/ 与/ y0/ =/ ymin/ 矛盾/ ,/ 故/ y1/ =/ ∑/ p/ ≠/ jy2/ =/ …/ =/ yN/ =/ ymin/ =/ ymax/ ./ 同理可知/ ,/ 当/ y0/ =/ ymax/ 成立/ 时/ ,/ y1/ =/ y2/ =/ …/ =/ yN/ =/ ymin/ =/ ymax/ ./ 证毕/ ./ 基于/ 推论/ 1/ ,/ 我们/ 来/ 分析/ 式/ (/ 8/ )/ 中/ 的/ f/ 的/ 下界/ ,/ 得到/ 如下/ 的/ 引理/ ./ 引理/ 4/ ./ 如果/ 0/ </ ymin/ / yp/ / ymax/ (/ 1/ / p/ / N/ )/ ,/ 则/ 式/ (/ 8/ )/ 中/ 的/ f/ 有/ 下界/ 4K/ // (/ 1/ +/ K/ )/ 2/ ,/ 即/ f/ / 4K/ // (/ 1/ +/ K/ )/ 2/ ./ 其中/ K/ =/ ymax/ // ymin/ ./ 证明/ ./ 由/ 推论/ 1/ 可知/ ,/ 当/ f/ 取/ 最小值/ fmin/ 时/ ,/ 对/ / p/ ,/ 1/ / p/ / N/ 或者/ yp/ =/ ymin/ 或者/ yp/ =/ ymax/ ./ 假设/ f/ =/ fmin/ 时/ ,/ ymin/ 和/ ymax/ 的/ 个数/ 分别/ 为/ m0/ 和/ N/ -/ m0/ ./ 为/ 方便/ 分析/ ,/ 我们/ 令/ m0/ =/ λ/ N/ (/ 0/ </ λ/ </ 1/ )/ ,/ K/ =/ ymax/ // ymin/ ./ 则/ fmin/ =/ [/ m0ymin/ +/ (/ N/ -/ m0/ )/ ymax/ ]/ 2N/ [/ m0y2min/ +/ (/ N/ -/ m0/ )/ y2max/ ]/ =/ [/ λ/ +/ (/ 1/ -/ λ/ )/ K/ ]/ 2/ (/ 1/ -/ K/ )/ 2/ λ/ +/ K/ =/ (/ 1/ -/ K2/ )/ λ/ +/ K2/ 令/ t/ =/ λ/ -/ K2fmin/ =/ 其中/ ,/ 等/ 号/ 成立/ 条件/ 是/ t/ =/ tmin/ =/ -/ KK2/ (/ -/ K2K2/ -/ 1/ ,/ -/ 1/ 时/ ,/ f/ 取/ 最小值/ 4K/ 基于/ 上面/ 的/ 引理/ 和/ 推论/ ,/ 我们/ 得到/ 下面/ 的/ 定理/ ./ 定理/ 2/ ./ 如果/ 我们/ 以式/ (/ 9/ )/ 中/ fM/ 作为/ 网络/ 在/ 前/ M/ 个/ 周期/ 的/ 加权/ 公平性/ 度量/ ,/ 则/ 其中/ ,/ c/ =/ |/ Factor1/ -/ Factor2/ |/ / 0.2/ ./ Factor1/ 和/ Factor2/ 分别/ 为式/ (/ 4/ )/ 和/ (/ 5/ )/ 中/ 的/ 减速/ 因子/ 和/ 增速/ 因子/ ./ 证明/ ./ 令/ Sp/ (/ M/ )/ =/ ∑/ M/ 由式/ (/ 9/ )/ 可知/ fM/ 可/ 重写/ 为/ 如下/ 表达式/ 由/ 引理/ 2/ 可得/ |/ Sp/ (/ M/ )/ -/ SN/ (/ M/ )/ |/ / ∑/ M/ 令/ Smin/ (/ M/ )/ =/ SN/ (/ M/ )/ -/ cMr0/ ,/ Smax/ (/ M/ )/ =/ SN/ (/ M/ )/ +/ cMr0/ ,/ 则/ 对/ / p/ ,/ 1/ / p/ / N/ ,/ 有/ 又/ SN/ (/ M/ )/ =/ ∑/ Mr0/ ,/ 故/ Smin/ (/ M/ )/ / 0.7/ Mr0/ ,/ 故对/ / p/ ,/ 1/ / p/ / N/ ,/ 有令/ KM/ =/ Smax/ (/ M/ )/ 理/ 4/ 可得/ 因为/ KM/ =/ Smax/ (/ M/ )/ fM/ / 4/ 又/ SN/ (/ M/ )/ / 0.9/ M/ ·/ r0/ ,/ 故/ fM/ / 1/ -/ (/ 10c/ // 9/ )/ 2/ ./ 注/ ./ 由于/ 在/ 证明/ 下界/ 时/ ,/ 对于/ |/ Sp/ (/ M/ )/ -/ SN/ (/ M/ )/ |/ / sam/ (/ k/ )/ r/ (/ p/ )/ ∑/ M/ 而/ 实际/ 运行/ 中/ Sp/ (/ M/ )/ ≈/ SN/ (/ M/ )/ ,/ 故/ 实际/ 运行/ 时/ fMk/ =/ 1Page10/ 的/ 值/ 非常/ 接近/ 1/ ./ 其/ 具体/ 接近/ 程度/ 在/ 接下来/ 的/ 实验/ 中/ 可以/ 看到/ ./ 7/ 实验/ 和/ 分析/ 下面/ 我们/ 通过/ 实验/ 评价/ 算法/ GPCA/ 和/ 算法/ WFCC/ 的/ 性能/ ./ 其中/ ,/ 我们/ 使用/ IntelLabData/ ①/ 来/ 检验/ 算法/ GPCA/ 的/ 压缩/ 效率/ ;/ 在/ TOSSIM/ 模拟/ 平台/ 下/ ,/ 通过/ 与/ 目前/ 最好/ 的/ 基于/ 速率/ 的/ 拥塞/ 控制算法/ PCCP/ [/ 1/ ]/ 进行/ 对比/ 实验/ 来/ 检验/ 算法/ WFCC/ 的/ 性能/ ./ 7.1/ 算法/ GPCA/ 性能/ 评价/ 为了/ 衡量/ 算法/ GPCA/ 的/ 压缩/ 性能/ ,/ 我们/ 给出/ 两个/ 性能指标/ ,/ 其/ 定义/ 如下/ ./ 压缩率/ ./ 其值/ 等于/ n/ // H/ ,/ 其中/ n/ 为/ 原始/ 时间/ 序列/ S/ (/ n/ )/ 的/ 长度/ ,/ H/ 为/ 近似/ S/ (/ n/ )/ 的/ 常值/ 序列/ 的/ 长度/ ./ 平均/ 绝对值/ 误差/ ./ SumOfAbsoError/ (/ n/ )/ // n/ ,/ 其中/ SumOfAbsoError/ (/ n/ )/ 为/ 原始数据/ 与/ 近似/ 数据/ 的/ 绝对值/ 之差/ 的/ 累积/ 和/ ,/ n/ 为/ 原始/ 序列/ 长度/ ./ 下面/ ,/ 分/ 两组/ 实验/ 来/ 检验/ 算法/ GPCA/ 的/ 性能/ ./ 第/ 1/ 组/ :/ 在/ ε/ 不/ 固定/ 情况/ 下/ ,/ 检验/ 算法/ GPCA/ 在/ 单源/ 数据/ 上/ 的/ 运行/ 性能/ ;/ 第/ 2/ 组/ :/ 在/ ε/ 固定/ 情况/ 下/ ,/ 检验/ 算法/ GPCA/ 在/ 单源/ 数据/ 上/ 的/ 运行/ 性能/ ./ 图/ 2/ 为/ 算法/ GPCA/ 在/ 节点/ 1/ 上/ 运行/ 时其/ 压缩比/ 和/ 平均/ 绝对值/ 误差/ 随/ 误差/ 界/ ε/ 变化/ 的/ 情况/ ./ 这里/ 我们/ 使用/ 的/ 数据/ 为/ IntelLabData/ 中/ 节点/ 1/ 采集/ 的/ 前/ 10000/ 个/ 温度/ 数据/ ./ 图/ 2/ (/ a/ )/ 为/ 误差/ 界/ ε/ 从/ 0.05/ 递增/ 到/ 0.1/ 时/ ,/ 压缩比/ 的/ 变化/ 情况/ ./ 易见/ ,/ 随着/ 误差/ 界/ ε/ 的/ 放宽/ (/ 即/ ε/ 增大/ )/ ,/ 压缩比/ 逐渐/ 增大/ ./ 当/ ε/ =/ 0.1/ 时/ ,/ 其/ 压缩比/ 等于/ 7.5301/ ,/ 大大减少/ 了/ 数据/ 的/ 存储/ 和/ 通信/ 开销/ ./ 图/ 2/ (/ b/ )/ 为/ 误差/ 界/ ε/ 从/ 0.05/ 递增/ 到/ 0.1/ 时/ ,/ 平均/ 绝对值/ 误差/ 的/ 变化/ 情况/ ./ 当/ 误差/ 界/ ε/ 从/ 0.05/ 递增/ 到/ 0.10/ 时/ ,/ 平均/ 绝对值/ 误差/ 从/ 0.01253/ 递增/ 到/ 0.02515/ ./ 由此可见/ 平均/ 绝对值/ 误差/ 与/ 最大/ 误差/ 之/ 比/ 接近/ 于/ 1/ // 4/ ./ 图/ 3/ 为/ 在/ ε/ =/ 0.05/ 的/ 条件/ 下/ ,/ 算法/ GPCA/ 在/ 多个/ 节点/ 上/ 的/ 温度/ 数据/ 上/ 运行/ 时/ 的/ 性能/ ./ 这里/ 我们/ 使用/ 的/ 数据/ 为/ IntelLabData/ 中/ 节点/ 1/ ~/ 10/ (/ 节点/ 5/ 除外/ ,/ 因为/ 其/ 温度传感器/ 故障/ )/ 各自/ 采集/ 的/ 前/ 10000/ 个/ 数据/ ./ 图/ 3/ (/ a/ )/ 为/ 在/ ε/ =/ 0.05/ 的/ 条件/ 下/ ,/ 算法/ GPCA/ 在/ 各个/ 节点/ 上/ 运行/ 所/ 达到/ 的/ 压缩比/ ./ 其中/ GPCA/ 在/ 节点/ 7/ 上/ 压缩比/ 最大/ ,/ 为/ 7.7101/ ;/ 在/ 节点/ 1/ 上/ 的/ 压缩比/ 最小/ ,/ 为/ 4.3535/ ./ 由此可见/ 节点/ 7/ 所/ 监测/ 区域/ 的/ 温度/ 变化/ 比/ 节点/ 1/ 所/ 监测/ 区域/ 缓慢/ ./ 图/ 3/ (/ b/ )/ 为/ 在/ ε/ =/ 0.05/ 的/ 条件/ 下/ ,/ 算法/ GPCA/ 在/ 各个/ 节点/ 上/ 运行/ 产生/ 的/ 平均/ 绝对值/ 误差/ ./ 节点/ 2/ 的/ 平均/ 绝对值/ 误差/ 最小/ ,/ 为/ 0.01221/ ;/ 节点/ 4/ 的/ 平均/ 绝对值/ 误差/ 最大/ ,/ 为/ 0.01349/ ./ 由/ 图易/ 见/ ,/ 所有/ 节点/ 的/ 平均/ 绝对值/ 误差/ 基本/ 维持/ 在/ ε/ // 4/ ,/ 即/ 0.0125/ 左右/ 变化/ ./ 由图/ 2/ 和/ 图/ 3/ 可知/ ,/ 算法/ 不仅/ 达到/ 了/ 很/ 好/ 的/ 压缩/ 效率/ ,/ 且/ 其/ 平均/ 绝对值/ 误差/ 远/ 低于/ 最大值/ 误差/ ε/ ./ ①/ http/ :/ // // db/ ./ csail/ ./ mit/ ./ edu/ // labdata/ // labdata/ ./ htmlPage117/ ./ 2/ 算法/ WFCC/ 评价/ 我们/ 用/ TOSSIM/ 来/ 进行/ 模拟实验/ 来/ 检验/ 算法/ WFCC/ 性能/ ./ 其中/ ,/ TOSSIM/ (/ TinyOSsimulator/ )/ 是/ TinyOS/ (/ UCBerkeley/ 开发/ 的/ 开放/ 源代码/ 操作系统/ ,/ 专/ 为/ 嵌入式/ 无线/ 传感/ 网络/ 设计/ )/ 自带/ 的/ 一个/ 仿真/ 工具/ ,/ 可以/ 支持/ 大规模/ 的/ 网络/ 仿真/ ./ 由于/ TOSSIM/ 运行/ 和/ 传感器/ 硬件/ 相同/ 的/ 代码/ ,/ 所以/ 仿真/ 编译器/ 能/ 直接/ 从/ TinyOS/ 应用/ 的/ 组件/ 表/ 编译/ 仿真/ 程序/ ./ 7.2/ ./ 1WFCC/ 和/ PCCP/ 的/ 对比/ 实验/ 为了/ 研究/ 算法/ WFCC/ 的/ 性能/ ,/ 我们/ 和/ 目前/ 最好/ 的/ 基于/ 速率/ 控制/ 的/ 拥塞/ 控制协议/ PCCP/ [/ 1/ ]/ 进行/ 基于/ TOSSIM/ 平台/ 的/ 模拟/ 对比/ 实验/ ./ 下面/ 我们/ 简要/ 介绍/ PCCP/ 的/ 核心思想/ ./ PCCP/ 的/ 拥塞/ 度量/ 和/ 本文/ 一样/ ,/ 为/ d/ (/ i/ )/ =/ t/ -/ (/ i/ )/ 每/ 收到/ Np/ (/ =/ 50/ ,/ 实验/ 中/ )/ 个/ 数据包/ 进行/ 一次/ 更新/ ,/ s/ (/ h/ +/ 1/ )/ 是/ 每/ 发送/ 完/ 一个/ 数据包/ 更新/ 一次/ ./ 节点/ it/ -/ (/ i/ )/ 触发/ 拥塞/ 控制/ 的/ 条件/ 是/ :/ (/ 1/ )/ 收到/ 数据包/ 数目/ 为/ O/ (/ i/ )/ ·/ Np/ ,/ 其中/ O/ (/ i/ )/ 为/ 节点/ 子孙/ 节点/ 总数/ ;/ (/ 2/ )/ 收到/ 父亲/ 节点/ 发来/ 的/ 包含/ 拥塞/ 信息/ 的/ 数据包/ ./ 在/ 条件/ (/ 1/ )/ 下/ ,/ 节点/ 更新/ 拥塞/ 度量/ 为/ dnew/ (/ i/ )/ 并/ 把/ 更新/ 前/ 的/ 拥塞/ 度量/ 保存/ 为/ dold/ (/ i/ )/ ./ 若/ dnew/ (/ i/ )/ / dold/ (/ i/ )/ ,/ 则/ 节点/ i/ 通过/ 广播/ 包含/ 拥塞/ 信息/ 的/ 数据包/ 的/ 方法/ 将/ 其/ 孩子/ 节点/ j/ 的/ 发送/ 速率/ 更新/ 为/ r/ (/ j/ )/ 更新/ 为/ r/ (/ j/ )/ 孩子/ 节点/ 发送/ 速率/ 限制/ 为/ r/ (/ j/ )/ 在/ 条件/ (/ 2/ )/ 下/ ,/ 节点/ 收到/ 父亲/ 的/ 广播/ 包/ ,/ 进行/ 条件/ (/ 1/ )/ 中/ 的/ 相应/ 发送/ 速率/ 和/ 采样/ 速率/ 的/ 更新/ ./ 在/ 下面/ 的/ 实验/ 中/ ,/ 我们/ 采用/ 的/ 路由/ 拓扑/ 如图/ 4/ 所示/ ,/ 其中/ w3/ =/ w5/ =/ w18/ =/ 2/ ,/ wi/ =/ 1/ (/ 1/ / i/ / 21/ ,/ i/ ≠/ 3/ ,/ 5/ ,/ 18/ )/ ./ 我们/ 进行/ 4/ 组/ 比较/ 实验/ ,/ 实验/ 参数/ 如表/ 1/ 和表/ 2/ 所示/ ,/ 其中/ 表/ 1/ 中/ 4/ 个/ 参数/ 两/ 算法/ 都/ 有/ ,/ 表/ 2/ 中/ 4/ 个/ 参数/ 中/ Np/ 为/ 算法/ PCCP/ 中/ 参数/ ,/ T/ ,/ Factor1/ 和/ Factor2/ 为/ 算法/ WFCC/ 中/ 参数/ ./ WFCC/ (/ r0/ =/ 0.25/ pkts/ // s/ )/ 1.50/ ./ 970.10/ ./ 1PCCP/ (/ r0/ =/ 0.25/ pkts/ // s/ )/ 1.50/ ./ 970.10/ ./ 1WFCC/ (/ r0/ =/ 0.30/ pkts/ // s/ )/ 1.80/ ./ 970.10/ ./ 1PCCP/ (/ r0/ =/ 0.30/ pkts/ // s/ )/ 1.80/ ./ 970.10/ ./ 1WFCC/ (/ r0/ =/ 0.35/ pkts/ // s/ )/ 2.00/ ./ 960.10/ ./ 1PCCP/ (/ r0/ =/ 0.35/ pkts/ // s/ )/ 2.00/ ./ 960.10/ ./ 1WFCC/ (/ r0/ =/ 0.40/ pkts/ // s/ )/ 2.30/ ./ 960.10/ ./ 1PCCP/ (/ r0/ =/ 0.45/ pkts/ // s/ )/ 2.30/ ./ 960.10/ ./ 1WFCC/ (/ r0/ =/ 0.25/ pkts/ // s/ )/ 200/ // 0.91/ ./ 1PCCP/ (/ r0/ =/ 0.25/ pkts/ // s/ )/ // 50/ // // WFCC/ (/ r0/ =/ 0.30/ pkts/ // s/ )/ 200/ // 0.91/ ./ 1PCCP/ (/ r0/ =/ 0.30/ pkts/ // s/ )/ // 50/ // // WFCC/ (/ r0/ =/ 0.35/ pkts/ // s/ )/ 200/ // 0.91/ ./ 1PCCP/ (/ r0/ =/ 0.35/ pkts/ // s/ )/ // 50/ // // WFCC/ (/ r0/ =/ 0.40/ pkts/ // s/ )/ 200/ // 0.91/ ./ 1PCCP/ (/ r0/ =/ 0.45/ pkts/ // s/ )/ // 50/ // // 实验/ 中/ 我们/ 主要/ 考察/ 2/ 个/ 性能指标/ :/ sink/ 节点/ 的/ 吞吐量/ ;/ 加权/ 公平性/ ./ 在/ 后面/ 的/ 对比/ 实验/ 中将/ 比较/ 这/ 2/ 个/ 性能指标/ ./ sink/ 节点/ 的/ 吞吐量/ 是/ 指/ sink/ 节点/ 单位/ 时间/ 内/ 接收/ 来自/ 所有/ 节点/ 的/ 数据包/ 总数/ ./ 加权/ 公平性/ 用式/ (/ 9/ )/ 中/ 的/ fM/ 来/ 表示/ ./ fM/ =/ fmax/ =/ 1/ 时/ ,/ 加权/ 公平性/ 最好/ ;/ fM/ =/ fmin/ =/ 1/ // N/ 时/ ,/ 加权/ 公平性/ 最差/ ./ 图/ 5/ 给出/ 了/ 在/ 初始/ 基准/ 速率/ r0/ =/ 0.25/ (/ pkts/ // s/ )/ 条件/ 下/ ,/ 本文/ 算法/ WFCC/ 与/ 算法/ PCCP/ 的/ 吞吐量/ 和/ 加权/ 公平性/ 随/ 实验/ 时间/ 变化/ 的/ 对比/ 情况/ ./ 其中/ 节点/ i/ 的/ 初始/ 采样/ 速率/ 和/ 发送/ 速率/ 分别/ 为/ r0/ ·/ wi/ =/ 0.25/ wi/ (/ pkts/ // s/ )/ 和/ r0/ ·/ swi/ =/ 0.25/ swi/ (/ pkts/ // s/ )/ ./ WFCC/ 和/ PCCP/ 均/ 有/ 的/ 参数/ 加性/ 增/ 因子/ AddFactor/ 和/ 乘性/ 减/ 因子/ MulFactor/ 分别/ 设为/ 1.5/ (/ pkts/ // s/ )/ 和/ 0.97/ ./ 其余/ 参数设置/ 如表/ 1/ 和表/ 2/ 所示/ ./ 数据/ 为/ 每隔/ 50s/ 统计/ 得到/ ./ 从图/ 5/ (/ a/ )/ 中/ 可以/ 看到/ :/ (/ 1/ )/ 随着/ 时间/ 的/ 增加/ ,/ WFCC/ 的/ 吞吐量/ 基本/ 维持/ 在/ 4.35/ 到/ 4.5/ (/ pkts/ // s/ )/ ,/ 变化/ 不是/ 很大/ ./ 体现/ 了/ WFCC/ 在/ 吞吐量/ 上/ 的/ 保障/ ;/ (/ 2/ )/ 在/ 与/ PCCP/ 的/ 吞吐量/ 的/ 对比/ 中/ ,/ 可以/ 看到/ 随着/ 时间/ 的/ 增加/ ,/ PCCP/ 吞吐量/ 逐渐/ 在/ 下降/ ./ 这是/ 由于/ PCCP/ 中子/ 节点/ 得知/ 父/ 节点/ 拥塞/ 度/ 增大/ 时/ ,/ 进行/ 了/ 限速/ 措施/ ./ 从而/ 子/ 节点/ 流出/ 速率/ 减少/ ,/ 逐渐/ 拥塞/ ,/ 进一步/ 影响/ 其子/ 节点/ 的/ 采样/ 速率/ 和/ 发送/ 速率/ ,/ 故/ 如此/ 逐层/ 限速/ ,/ 最后/ 使得/ 整个/ 网络/ 吞吐量/ 逐渐/ 下降/ ./ 从图/ 5/ (/ b/ )/ 中/ 可以/ 看到/ :/ (/ 1/ )/ WFCC/ 的/ 加权/ 公平性/ 基本/ 维持/ 在/ 0.96/ 以上/ ,/ 与/ 我们/ 的/ 理论/ 分析/ 相符/ ;/ (/ 2/ )/ 而/ PCCP/ 的/ 加权/ 公平性/ 由/ 第/ 2/ 个/ 50s/ 时/ 的/ 0.966/ 逐渐/ 下降/ 至/ 第/ 10/ 个/ 50s/ 时/ 的/ 0.836/ ./ 这/ 是/ 由/ Page12/ 于/ WFCC/ 在/ 计算/ 得到/ 流入/ 总/ 速率/ 后/ 严格/ 按权值/ 大小/ 比例/ 将/ 此/ 速率/ 分配/ 给/ 自身/ 和/ 孩子/ 节点/ ;/ 而/ PCCP/ 没有/ 保障/ 流入/ 速率/ 的/ 公平/ 分配/ ./ 图/ 5/ 初始条件/ r/ (/ i/ )/ 图/ 6/ ~/ 图/ 8/ 分别/ 给出/ 了/ 在/ 初始/ 基准/ 速率/ r0/ =/ 0.30/ (/ pkts/ // s/ )/ 、/ 0.35/ (/ pkts/ // s/ )/ 和/ 0.40/ (/ pkts/ // s/ )/ 条件/ 下/ ,/ 本文/ 算法/ WFCC/ 与/ 算法/ PCCP/ 的/ 吞吐量/ 和/ 加权/ 公平性/ 随/ 实验/ 时间/ 变化/ 的/ 对比/ 情况/ ./ 其中/ 对比/ 实验/ 参数设置/ 如表/ 1/ 和表/ 2/ 所示/ ,/ 实验/ 时间/ 均/ 为/ 500s/ ./ 从/ 3/ 个/ 图/ 的/ 图/ (/ a/ )/ 可以/ 看到/ WFCC/ 的/ 吞吐量/ 变化/ 比较慢/ 且/ 平稳/ ,/ 且/ 高于/ PCCP/ 的/ 吞吐量/ ;/ 而/ PCCP/ 的/ 吞吐量/ 变化/ 则/ 比较/ 快/ ,/ 随着/ 时间/ 增加/ 逐渐/ 下降/ ,/ 这是/ 由于/ PCCP/ 的/ 限速/ 所致/ ./ 从/ 3/ 个/ 图/ 的/ 图/ (/ b/ )/ 可以/ 看到/ WFCC/ 的/ 加权/ 公平性/ 基本/ 维持/ 在/ 0.95/ 以上/ ,/ 验证/ 了/ 我们/ 的/ 理论/ 分析/ ;/ 而/ PCCP/ 的/ 加权/ 公平性/ 仅/ 在/ 前/ 100s/ 内/ 维持/ 在/ 0.9/ 以上/ ,/ 之后/ 随/ 时间/ 增加/ 逐渐/ 减少/ ,/ 最低/ 时其值/ 小于/ 0.8/ ./ 7.2/ ./ 2WFCC/ 的/ 参数/ 变化/ 对/ 性能/ 的/ 影响/ 为了/ 进一步/ 检验/ 算法/ WFCC/ 的/ 性能/ ,/ 我们/ 研究/ 了/ 两个/ 重要/ 参数/ 周期/ T/ 和/ 初始/ 基准/ 速率/ r0/ 对/ 算法/ WFCC/ 性能/ 的/ 影响/ ./ 具体方法/ 是/ :/ 在/ 其中/ 一个/ 参数值/ 固定/ 另/ 一个/ 参数值/ 变化/ 的/ 条件/ 下/ ,/ 研究/ WFCC/ 吞吐量/ 和/ 加权/ 公平性/ 的/ 变化/ 情况/ ./ 图/ 9/ 给出/ 了/ 在/ 周期/ T/ =/ 200s/ ,/ WFCC/ 的/ 吞吐量/ 和/ 加权/ 公平性/ 随/ 初始/ 基准/ 速率/ r0/ 变化/ 的/ 情况/ ./ 其中/ 实验/ 时间/ 为/ 500s/ ./ 从图/ 9/ (/ a/ )/ 可以/ 看出/ 吞吐量/ 随着/ 初始/ 基准/ 速率/ 增加/ 逐渐/ 增大/ ,/ 且/ 吞吐量/ 与/ 初始/ 速率/ 比图/ 6/ 初始条件/ r/ (/ i/ )/ 图/ 7/ 初始条件/ r/ (/ i/ )/ 例/ 接近/ 正比/ 关系/ ;/ 从图/ 9/ (/ b/ )/ 可以/ 看出/ 加权/ 公平性/ 基本/ 维持/ 在/ 0.95/ 以上/ ,/ 符合/ 我们/ 的/ 理论/ 分析/ ./ 因此/ 在/ 周期/ T/ 固定/ ,/ 初始/ 基准/ 速率/ r0/ 变化/ 条件/ 下/ ,/ WFCC/ 的/ 各/ 方面/ 性能/ 表现/ 良好/ ./ 图/ 10/ 给出/ 了/ 在/ 初始/ 基准/ 速率/ r0/ =/ 0.4/ pkts/ // s/ ,/ WFCC/ 的/ 吞吐量/ 和/ 加权/ 公平性/ 随/ 周期/ T/ 变化/ 的/ 情/ Page13/ 图/ 8/ 初始条件/ r/ (/ i/ )/ 况/ ./ 其中/ 实验/ 时间/ 为/ 500s/ ./ 从图/ 10/ (/ a/ )/ 可以/ 看出/ 吞吐量/ 随/ 周期/ 增大/ 逐渐/ 增加/ ,/ 其/ 原因/ 在于/ 短/ 周期/ 的/ 频繁/ 调速/ 降低/ 了/ 部分/ 节点/ 的/ 采样/ 速率/ 和/ 发送/ 速率/ ;/ 从图/ 10/ (/ b/ )/ 可以/ 看出/ 加权/ 公平性/ 随/ 周期/ 增加/ 逐渐/ 增大/ ,/ 且/ 维持/ 在/ 0.95/ 左右/ ./ 因此/ 在/ 进行/ 参数设置/ 时/ ,/ 周期/ T/ 不宜/ 太小/ 且/ 不宜/ 太/ 大/ ,/ 一般/ 设置/ 在/ 200s/ 比较/ 合适/ ./ 8/ 结论/ 本文/ 针对/ 无线/ 传感器/ 网络/ 的/ 拥塞/ 问题/ 提出/ 了/ 一个/ ε/ 近似/ 和/ 加权/ 公平性/ 保证/ 的/ 拥塞/ 控制算法/ ,/ 其/ 由/ 两个/ 子/ 算法/ 组成/ :/ 算法/ GPCA/ 和/ 算法/ WFCC/ ./ GPCA/ 采取/ 贪心/ 分段/ 常值/ ε/ 近似/ 的/ 策略/ ,/ 使得/ 一个/ 连续/ 的/ 子/ 序列/ 仅/ 需要/ 一个/ 常值/ 来/ 近似/ 且/ 保证/ 其/ 与/ 真实/ 值/ 的/ 误差/ 不/ 大于/ ε/ ,/ 这样/ 不仅/ 减少/ 传感器/ 网络/ 的/ 数据传输/ 量/ ,/ 而且/ 保证数据/ 的/ 精确度/ ./ 最后/ ,/ 我们/ 在/ 理论/ 上/ 证明/ 了/ 这种/ 常值/ 近似/ 的/ 最优性/ ./ WFCC/ 以/ 进入/ 节点/ 的/ 平均/ 数据包/ 速率/ 除以/ 流出/ 节点/ 的/ 平均/ 数据包/ 速率/ 作为/ 拥塞/ 度量/ ,/ 将/ 流入/ 的/ 数据包/ 速率/ 公平/ 地/ 分配/ 给/ 孩子/ 节点/ 和/ 自身/ 节点/ 分别/ 作为/ 其/ 在/ 下/ 一个/ 周期/ 的/ 发送/ 速率/ 和/ 采样/ 速率/ 来/ 实现/ 加权/ 公平性/ ./ 最后/ ,/ 我们/ 从/ 理论/ 上/ 证明/ 了/ 通过/ 这种/ 局部/ 的/ 公平/ 速率/ 分配/ 策略/ 可以/ 达到/ 很/ 好/ 的/ 全局/ 公平性/ 且/ 得到/ 了/ 一个/ 理论/ 上/ 的/ 下界/ ./ 实验/ 结果表明/ ,/ GPCA/ 具有/ 良好/ 的/ 压缩/ 性能/ ;/ WFCC/ 不仅/ 达到/ 了/ 较/ 高/ 的/ 吞吐量/ ,/ 且/ 其/ 加权/ 公平性/ 基本/ 维持/ 在/ 0.95/ 以上/ ,/ 验证/ 了/ 我们/ 的/ 理论/ 分析/ ./ 

