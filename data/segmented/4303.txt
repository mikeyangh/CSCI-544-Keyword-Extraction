Page1/ 一种/ 基于/ 点割/ 的/ 电路/ 划分算法/ 张恩利/ 高琳/ (/ 西安电子科技大学/ 计算机/ 学院/ 西安/ 710071/ )/ 摘要/ 文中/ 提出/ 了/ 一种/ 基于/ IG/ 图/ (/ IntersectionGraph/ )/ 点割/ 的/ 电路/ 划分算法/ ,/ 引入/ IG/ 图/ 模型/ ,/ 根据/ 电路/ 中/ 信号/ 网络/ 间/ 的/ 交互/ 关系/ 构建/ IG/ 图/ ,/ 直接/ 对/ 电路/ 信号/ 网络/ IG/ 图/ 进行/ 最小/ 点割/ 划分/ ,/ 从而/ 实现/ 对/ 电路/ 单元/ (/ 模块/ )/ 的/ 划分/ ./ 该/ 算法/ 既/ 有效/ 地/ 解决/ 了/ 电路/ 超图/ 与/ 图/ 之间/ 转换/ 的/ 一致性/ 问题/ ,/ 又/ 实现/ 了/ 点/ 割/ 目标值/ 与/ 直接/ 电路/ 划分/ 目标值/ 的/ 一致性/ ,/ IG/ 图点/ 割集/ 的/ 大小/ 即/ 为/ 真实/ 电路/ 划分/ 的/ 目标值/ ./ 此外/ ,/ 通过/ 给/ 每个/ 电路/ 网络/ 赋/ 权重/ 的/ 方式/ 构建/ 带/ 权重/ 网络/ 交互/ 图/ ,/ 实现/ 对/ 电路/ 网络/ 划分/ 的/ 面积/ 平衡/ 进行/ 近似/ 控制/ ,/ 满足/ 电路/ 划分/ 对/ 面积/ 平衡/ 的/ 特殊要求/ ./ 采用/ MCNC/ 提供/ 的/ 标准/ 电路/ 测试数据/ 进行/ 测试/ ,/ 实验/ 结果表明/ ,/ 基于/ IG/ 图点/ 割/ 的/ 电路/ 划分算法/ 较/ 基于/ 网络/ 超图/ HDN/ 划分/ 的/ K/ -/ DualFM/ 算法/ 平均/ 有/ 3/ %/ ~/ 7.8/ %/ 的/ 提高/ ;/ 同时/ ,/ 基于/ IG/ 图点/ 割/ 的/ 随机/ 优化/ 算法/ ROP/ 比/ 基于/ 超图/ 划分/ 的/ FM/ 优化/ 算法/ 具有/ 更强/ 的/ 全局/ 优化/ 能力/ ,/ 划分/ 结果/ 提高/ 18/ %/ ,/ 比/ 基于/ 二部/ 图/ 匹配/ 的/ 点/ 割/ 优化/ 算法/ 提高/ 36/ %/ ,/ 对/ 较/ 大规模/ 数据/ 划分/ 优化/ 效果/ 更好/ ./ 关键词/ 电路/ 划分/ ;/ IG/ 图/ ;/ 点割/ ;/ 集成电路/ 1/ 引言/ 电路/ 划分/ 是/ 电路/ 物理/ 设计阶段/ 的/ 关键技术/ 之一/ ,/ 是/ 解决/ 日益/ 复杂/ 的/ 电路设计/ 问题/ 的/ 一种/ 有效途径/ ,/ 从/ 设计/ 分装/ 、/ 逻辑/ 综合/ 、/ 布局/ 布线/ 到/ 模拟/ 测试/ [/ 1/ ]/ ,/ 都/ 需要/ 使用/ 电路/ 划分/ 技术/ 把/ 大规模/ 电路设计/ 问题/ 划分/ 成/ 若干/ 较/ 小/ 的/ 部分/ 逐个/ 地/ 进行/ 处理/ ./ 依据/ 摩尔/ 法则/ ,/ 集成电路/ 规模/ 每/ 18/ 个/ 月/ 就/ 会/ 翻一番/ ①/ ,/ 目前/ ,/ 超/ 百万/ 门级/ 的/ 设计/ 已经/ 非常/ 普遍/ ,/ 随着/ 纳米/ 工艺技术/ 逐渐/ 成熟/ ,/ T/ 级/ 规模/ 的/ 电路/ 已经/ 出现/ ,/ 如此/ 大规模/ 的/ 集成电路/ 对/ 当前/ 的/ EDA/ (/ ElectronicDesignAutomation/ )/ 设计/ 工具/ 提出/ 了/ 挑战/ ,/ 电路/ 划分/ 已经/ 成为/ EDA/ 工具/ 急需解决/ 的/ 一个/ 关键/ 技术难题/ ./ 电路/ 划分/ 是/ 把/ 整个/ 电路/ 划分/ 成/ 若干个/ 较/ 小/ 的/ 部分/ ,/ 要求/ 各/ 部分/ 电路/ 单元/ (/ 模块/ )/ 的/ 总面积/ 基本相同/ ,/ 并/ 使/ 各/ 部分/ 之间/ 的/ 连接/ 信号/ 数量/ 最少/ ./ 电路/ 划分/ 是/ 一个/ NP/ 完全/ 问题/ [/ 2/ ]/ ,/ 通常/ 用/ 启发式/ 算法/ 寻求/ 近似/ 解/ ./ 目前/ ,/ 国际/ 上/ 对/ 电路/ 划分算法/ 的/ 研究/ 已经/ 有近/ 40/ 年/ 的/ 历史/ ,/ 已有/ 的/ 启发式/ 划分算法/ 非常/ 多/ ,/ 这些/ 算法/ 从/ 划分/ 策略/ 上/ 大致/ 可以/ 分为/ 两类/ ./ 一类/ 是/ 基于/ 组/ 迁移/ 技术/ 的/ 划分算法/ [/ 3/ -/ 8/ ]/ ,/ 这/ 类/ 算法/ 的/ 显著特点/ 是/ 通过/ 移动/ 和/ 交换/ 顶点/ 的/ 方式/ 来/ 优化/ 目标/ 割值/ ./ KL/ 算法/ 是/ 最早/ 被/ Kernighan/ 和/ Lin/ [/ 3/ ]/ 提出/ 的/ 基于/ 移动/ 策略/ 的/ 划分算法/ ,/ 该/ 算法/ 应用/ 在/ 电路/ 划分/ 中/ 取得/ 了/ 较/ 好/ 的/ 效果/ ,/ 之后/ 的/ 许多/ 算法/ 都/ 是/ 对/ 这种/ 算法/ 的/ 改进/ ./ 其中/ ,/ 以/ Fiduccia/ 和/ Mattheyses/ [/ 4/ ]/ 提出/ 的/ FM/ 算法/ 最为/ 著名/ ,/ 该/ 算法/ 对/ 移动/ 策略/ 和/ 数据结构/ 进行/ 了/ 改进/ ,/ 使/ 其/ 具有/ 实现/ 简单/ 和/ 时间/ 复杂度/ 低等/ 特点/ ,/ 从而/ 得到/ 了/ 更为/ 广泛/ 的/ 应用/ ./ 但/ FM/ 算法/ 的/ 全局/ 搜索/ 能力/ 仍/ 较差/ ,/ 易/ 陷入/ 局部/ 最小/ ,/ 针对/ 其/ 搜索/ 能力/ 的/ 缺陷/ ,/ 之后/ 出现/ 的/ LA/ 算法/ [/ 5/ ]/ 、/ CLIP/ // CDIP/ 算法/ [/ 6/ ]/ 、/ LSR/ 算法/ [/ 7/ ]/ 、/ PROP/ 算法/ [/ 8/ -/ 9/ ]/ 等/ 均/ 对/ FM/ 算法/ 中/ 移动/ 顶点/ 的/ 选择/ 策略/ 进行/ 了/ 相应/ 改进/ 并/ 取得/ 了/ 一定/ 成效/ ./ 新近/ 发展/ 的/ 多层/ 电路/ 划分算法/ [/ 10/ -/ 12/ ]/ 通过/ 把/ 聚类/ 技术/ 与/ FM/ 算法/ 相结合/ 的/ 方式/ 显著/ 地/ 增强/ 了/ 算法/ 的/ 全局/ 搜索/ 能力/ 和/ 超大规模/ 数据处理/ 能力/ ,/ 使/ 电路/ 划分/ 质量/ 有/ 了/ 质/ 的/ 提高/ ./ 另一类/ 则/ 是/ 基于/ 传统/ 组合/ 优化/ 方法/ 的/ 划分算法/ ./ 如/ 基于/ 遗传算法/ (/ GeneticAlgo/ -/ rithm/ )/ [/ 13/ ]/ 、/ 模拟退火/ 算法/ (/ SimulatedAnneal/ )/ [/ 14/ -/ 18/ ]/ 、/ 禁忌/ 搜索/ (/ TabuSearch/ )/ [/ 19/ -/ 20/ ]/ 、/ 蚁群/ 算法/ (/ AntColonyAlgorithm/ )/ [/ 21/ ]/ 等/ 方法/ 的/ 划分算法/ ,/ 这/ 类/ 算法/ 具有/ 较/ 好/ 的/ 全局/ 搜索/ 能力/ ,/ 可/ 在/ 全局/ 范围/ 内/ 随机/ 搜索/ 最优/ 解/ ,/ 在/ 足够/ 长/ 的/ 时间/ 内/ 可能/ 找到/ 全局/ 最优/ 解/ ,/ 但/ 这类/ 算法/ 因为/ 其/ 收敛/ 速度/ 太慢/ 而/ 在实践中/ 很少/ 被/ 应用/ ./ 此外/ ,/ 也/ 有/ 基于/ 网络/ 最大/ 流/ 最小/ 割/ 算法/ (/ Maxflow/ -/ Mincut/ )/ 、/ 谱/ 划分算法/ 等/ 进行/ 电路/ 划分/ 的/ [/ 1/ ]/ ./ 电路/ 通常/ 采用/ 超图/ 来/ 表示/ ,/ 超图/ 中/ 的/ 顶点/ 代表/ 电路/ 中/ 的/ 电路/ 单元/ (/ 模块/ )/ ,/ 超边/ 代表/ 电路/ 中/ 的/ 电路/ 信号/ 网络/ ./ 在/ 超图/ 模式/ 下/ ,/ 通常/ 超边/ 是/ 与/ 多个/ 顶点/ 相连接/ ,/ 这/ 导致/ 基于/ 组/ 迁移/ 策略/ 的/ 划分算法/ 在/ 优化/ 过程/ 中/ 很/ 难/ 优化/ 骑/ 跨/ 在/ 不同/ 分区/ 上/ 的/ 较大/ 超边/ ,/ 致使/ 这/ 类/ 算法/ 存在/ 易/ 陷入/ 局部/ 最小/ 的/ 不足/ ./ 为/ 克服/ 超边/ 的/ 这种/ 不利/ 影响/ ,/ 现有/ 的/ 许多/ 算法/ 直接/ 对/ 超边/ 进行/ 优化/ ,/ 如/ LSR/ [/ 7/ ]/ 、/ PROP/ [/ 8/ ]/ 、/ hMetis/ [/ 10/ ]/ 等/ ./ 这些/ 算法/ 把/ 被/ 割/ 超边/ 作为/ 一个/ 整体/ 进行/ 移动/ ,/ 从而/ 增大/ 了/ 移除/ 超大/ 超边/ 的/ 概率/ ,/ 提高/ 了/ 划分算法/ 跳出/ 局部/ 最小/ 的/ 能力/ ./ 另一类/ 方法/ 则/ 把/ 超图/ 转化成/ 图/ ,/ 直接/ 用图/ 划分/ 的/ 方法/ 解决/ 超图/ 划分/ 问题/ ./ 常用/ 的/ 转化/ 方式/ 有/ 两种/ :/ 一种/ 是/ 基于/ 有权/ 图/ 模式/ 的/ 谱/ 划分算法/ ./ 该/ 算法/ 通过/ 用团/ 代替/ 超边/ ,/ 并/ 给/ 团中/ 每/ 一条/ 边/ 赋以/ 权值/ 1/ // (/ |/ e/ |/ -/ 1/ )/ 方式/ 把/ 超图/ 转化成/ 有权/ 图/ ,/ 然后/ 采用/ 谱/ 划分/ 方法/ 对/ 转化/ 后/ 的/ 有权/ 图/ 进行/ 划分/ ./ 根据/ 顶点/ 间/ 的/ 边/ 权重/ 构建/ Laplace/ 矩阵/ ,/ 通过/ 第二/ 小/ 特征值/ 对应/ 的/ 特征向量/ 对/ 电路/ 进行/ 划分/ ,/ 其/ 划分/ 目标值/ 为/ 最小/ 代价/ 边割值/ ./ 谱/ 划分算法/ 虽/ 具有/ 良好/ 的/ 全局/ 特性/ ,/ 能/ 找到/ 较/ 自然/ 的/ 划分/ 边界/ ,/ 但/ 这种/ 算法/ 宜/ 适用/ 于/ 比例/ 划分/ ,/ 一般/ 很难/ 满足/ 各/ 部分/ 面积/ 平衡/ 的/ 要求/ ./ 此外/ ,/ 这种/ 用团/ 来/ 代替/ 超边/ 把/ 超图/ 转化成/ 有权/ 图/ 的/ 算法/ 还/ 存在/ 最小/ 代价/ 边割/ 目标值/ 与/ 超图/ 划分/ 的/ 割边/ 目标值/ 不/ 一致/ 的/ 问题/ [/ 10/ ]/ ;/ 另/ 一种/ 是/ 基于/ 网络/ 交互/ 图/ (/ IntersectionGraph/ ,/ IG/ )/ 模式/ 的/ 网络/ 划分算法/ [/ 22/ -/ 24/ ]/ ./ 这种/ 划分算法/ 首先/ 根据/ 电路/ 超图/ 构建/ 出/ 网络/ IG/ 图/ ,/ 然后/ 用图/ 划分/ 方法/ 对/ IG/ 图中/ 的/ 信号/ 网络/ 进行/ 划分/ ,/ 最后/ 根据/ 信号/ 网络/ 的/ 划分/ 结果/ 导出/ 电路/ 单元/ 的/ 划分/ ./ Kahng/ [/ 22/ ]/ 和/ Cong/ 等/ 人/ [/ 23/ ]/ 早先/ 提出/ 了/ 基于/ 网络/ 划分/ 的/ EIG1/ 和/ IG/ -/ Match/ 电路/ 划分算法/ ,/ 它们/ 利用/ 谱/ 划分/ 的/ 方法/ 对/ IG/ 图/ 进行/ 划分/ ,/ 并/ 根据/ 网络/ 划分/ 导出/ 划分/ 界/ 顶点/ 二部/ 图/ ,/ 再用/ 最小/ 顶点/ 覆盖/ 的/ 方法/ 确定/ 最佳/ 网络/ 划分/ ./ Cong/ 等/ 人/ [/ 24/ ]/ 还/ 提出/ 了/ 基于/ 网络/ 划分/ 的/ 多路/ 划分算法/ K/ -/ DualFM/ ,/ 该/ 算法/ 直接/ 利用/ K/ -/ FM/ 算法/ 对/ 混合/ 超图/ HDN/ (/ HybridDualHypergraph/ ,/ 一种/ IG/ 图/ 与/ 对偶网络/ 超图/ DNHG/ 的/ 混合/ 网络/ 超图/ )/ 进行/ 划分/ ,/ 把/ 原/ 超图/ 划分/ 问题/ 转化/ 为/ 另/ 一种/ 超图/ 的/ 划分/ 问题/ ,/ 其/ 划分/ 目标/ 是/ 使/ HDN/ 图中/ 各/ 部分/ 网络/ 之间/ 超边/ 割值/ 最小/ ,/ 并/ 应用/ MinCost/ -/ MaxFlow/ 方法/ 解决/ 多路/ 网路/ 划分/ 中/ 电路/ 单元/ 的/ 分配/ ①/ Internationaltechnologyroadmapforsemiconductors/ ./ Page3/ 问题/ (/ K/ -/ wayModuleContentionproblem/ ,/ K/ -/ MC/ )/ ./ 这种/ 基于/ 网络/ 划分/ 的/ 算法/ 既/ 有效/ 地/ 解决/ 了/ 超图/ 与/ 图/ 之间/ 转换/ 一致性/ 问题/ ,/ 又/ 避免/ 了/ 超边/ 对组/ 迁移/ 划分/ 优化/ 算法/ 的/ 不利/ 影响/ ,/ 具有/ 较/ 好/ 的/ 应用/ 价值/ ./ 但/ 这/ 几种/ 基于/ 网络/ 划分/ 的/ 电路/ 划分算法/ 都/ 是/ 基于/ IG/ 图/ 的/ 最小/ 边割/ 划分/ ,/ 其/ 划分/ 的/ 直接/ 目标值/ 与/ 电路/ 划分/ 问题/ 的/ 目标值/ 并非/ 一致/ ,/ 即图/ 划分/ 问题/ 中/ 的/ 边/ 割集/ 与/ 点/ 割集/ 不/ 一致/ 问题/ ,/ 图/ 的/ 最优/ 边割/ 划分/ 与/ 最/ 优点/ 割/ 划分/ 无/ 直接/ 对应/ 关系/ ./ 事实上/ ,/ 基于/ 网络/ 划分/ 的/ 电路/ 划分/ 问题/ 完全/ 可以/ 转化/ 为/ 基于/ IG/ 图/ 的/ 最小/ 点割/ 划分/ 问题/ (/ VertexSeparatorProblem/ ,/ VSP/ )/ ,/ 直接/ 运用/ 点割/ 划分算法/ 对/ 电路/ 网络/ 进行/ 划分/ ,/ 这/ 正是/ 本文/ 提出/ 直接/ 点割/ 算法/ 进行/ 电路/ 划分/ 的/ 原因/ ,/ 同时/ 简化/ 了/ 后续/ 电路/ 单元/ 的/ 分配/ 问题/ ./ 本文/ 提出/ 了/ 一种/ 基于/ IG/ 图点/ 割/ 的/ 电路/ 划分算法/ ./ 该/ 算法/ 通过/ 划分/ 电路/ 中/ 的/ 信号/ 网络/ 来/ 划分/ 电路/ 单元/ ,/ 首先/ 根据/ 电路/ 中/ 信号/ 网络/ 间/ 的/ 交互/ 关系/ 构建/ 网络/ 交互/ 图/ ,/ 直接/ 对/ 网络/ IG/ 图/ 进行/ 最小/ 点割/ 划分/ ,/ 并/ 根据/ 网络/ 划分/ 结果/ 导出/ 相应/ 的/ 电路/ 单元/ 划分/ ./ 该/ 方法/ 通过/ 把/ 电路/ 划分/ 问题/ 转化成/ IG/ 图/ 的/ 点/ 割/ 划分/ 问题/ ,/ 既/ 有效/ 地/ 解决/ 了/ 电路/ 超图/ 与/ 图/ 之间/ 转换/ 的/ 一致性/ 问题/ ,/ 又/ 实现/ 了/ 点/ 割/ 目标值/ 与/ 直接/ 电路/ 划分/ 目标值/ 的/ 一致性/ ,/ 使/ IG/ 图点/ 割集/ 的/ 大小/ 直接/ 对应/ 真实/ 电路/ 划分/ 的/ 目标值/ ./ 但/ 由于/ 求解/ 图/ 的/ 最小/ 点割集/ 问题/ 也/ 是/ 一个/ NP/ -/ Hard/ 问题/ [/ 25/ ]/ ,/ 本文/ 提出/ 了/ 一种/ 基于/ 组/ 迁移/ 策略/ 的/ 启发式/ 点割/ 划分算法/ 对/ 网络/ IG/ 图/ 进行/ 划分/ ./ 首先/ 采用/ 一种/ 基于/ 割点/ 前移/ 的/ 贪婪/ 算法/ 对/ IG/ 图/ 进行/ 初始/ 划分/ ,/ 再/ 运用/ 基于/ 组/ 迁移/ 策略/ 的/ 随机/ 点割/ 优化/ 算法/ 对点/ 割/ 划分/ 进行/ 优化/ ,/ 近/ 一步/ 提高/ 划分/ 质量/ ./ 在/ 优化/ 过程/ 中/ ,/ 单个/ 网络/ 顶点/ 的/ 移动/ 相当于/ 超图/ 划分/ 中/ 一组/ 电路/ 单元/ 的/ 同时/ 移动/ ,/ 从而/ 有效/ 地/ 提高/ 了/ 算法/ 的/ 全局/ 搜索/ 能力/ ./ 此外/ ,/ 为/ 满足/ 电路/ 划分/ 对/ 面积/ 平衡/ 的/ 特殊要求/ ,/ 通过/ 给/ 每个/ 电路/ 网络/ 赋以/ 权重/ 的/ 方式/ 构建/ 带/ 权重/ 网络/ 交互/ 图/ (/ WeightedIntersectionGraph/ ,/ WIG/ )/ ,/ 实现/ 网络/ 划分/ 过程/ 中/ 对/ 各/ 部分/ 电路/ 的/ 面积/ 进行/ 近似/ 平衡/ 控制/ ./ 图/ 1/ 电路/ 示例/ 图/ 2/ 问题/ 描述/ 2.1/ 超图/ 模型/ 电路/ 网表/ 的/ 连接/ 关系/ 常用/ 超图/ H/ =/ (/ Vh/ ,/ Eh/ )/ 来/ 描述/ [/ 26/ ]/ ,/ 其中/ 顶点/ Vh/ 表示/ 电路/ 中/ 的/ 单元/ 或/ 模块/ ,/ 超边/ Eh/ 表示/ 电路/ 中/ 的/ 信号/ 网络/ ./ 在/ 超图/ 模型/ 中/ ,/ 电路/ 二分/ 划分/ 就是/ 将/ 超图/ H/ 划分/ 成/ 两个/ 不/ 相交/ 的/ 部分/ V1/ 和/ V2/ ,/ V1/ ∪/ V2/ =/ V/ ,/ V1/ ∩/ V2/ =/ / ./ 同时/ 满足/ 面积/ 平衡/ 约束条件/ ,/ 假定/ 面积/ 平衡/ 约束/ 的/ 容忍/ 因子/ 是/ ε/ ,/ 那么/ ,/ 各个/ 划分/ 部分/ 的/ 面积/ 平衡/ 约束条件/ 可以/ 表示/ 成/ 如下/ 形式/ :/ (/ 1/ -/ ε/ )/ AH/ // 2/ / Ai/ / (/ 1/ +/ ε/ )/ AH/ // 2/ ,/ i/ =/ 1/ ,/ 2/ (/ 1/ )/ 其中/ ,/ Ai/ 指/ 划分/ 中/ Vi/ 顶点/ 子/ 集中/ 所有/ 顶点/ 权重/ 之/ 和/ ,/ 即/ 电路/ 划分/ 中/ 第/ i/ 部分/ 电路/ 单元/ 和/ 模块/ 的/ 面积/ 之/ 和/ ,/ AH/ 表示/ 超图/ H/ 的/ 所有/ 顶点/ 的/ 点/ 权重/ 之/ 和/ ./ 电路/ 划分/ 问题/ 是/ 一个/ 约束/ 极值/ 问题/ ,/ 即/ 在/ 面积/ 平衡/ 约束/ 的/ 条件/ 下/ ,/ 寻找/ 单元/ 分配/ 的/ 最优/ 解/ ,/ 使/ 超边/ 割值/ 目标/ 函数/ (/ 2/ )/ 达到/ 最小/ ./ min/ |/ {/ ej/ |/ ej/ ∈/ E/ ,/ ej/ ∩/ Vi/ ≠/ / ,/ j/ =/ 1/ …/ n/ ,/ i/ =/ 1/ ,/ 2/ }/ |/ 2.2/ IG/ 图/ 模型/ 在/ 超图/ 模型/ 中/ ,/ 电路/ 划分/ 问题/ 对应/ 着/ 超图/ 顶点/ 的/ 分配/ 问题/ ,/ 在/ 把/ 顶点/ 分成/ 若干/ 基本/ 相等/ 部分/ 的/ 同时/ ,/ 并/ 使/ 骑/ 跨/ 在/ 不同/ 部分/ 间/ 的/ 超边/ 最少/ ,/ 即/ 割值/ 最小/ ./ 但/ 从/ 超边/ 的/ 分配/ 角度/ 来看/ ,/ 在/ 超图/ 的/ 一个/ 划分/ P/ 中/ ,/ 除/ 被/ 割/ 的/ 超边/ 外/ (/ 定义/ 为/ 割/ 边集/ C/ )/ ,/ 其它/ 超边/ 也/ 被/ 分成/ K/ 个/ 互不/ 相邻/ 的/ 部分/ Ehi/ (/ i/ =/ 1/ ,/ …/ ,/ K/ ,/ 代表/ 不同/ 超边/ 的/ 集合/ )/ ,/ 而/ 划分/ 的/ 目标值/ 即/ 为/ 割/ 边集/ C/ 的/ 大小/ ,/ 这/ 完全/ 等同于/ 电路/ 的/ 网络/ 划分/ ,/ 电路/ 的/ 网络/ IG/ 图/ [/ 22/ ]/ 可以/ 很/ 好/ 地/ 表示/ 出/ 信号/ 网络/ 的/ 这种/ 划分/ 关系/ ./ 在/ IG/ 图中/ ,/ 顶点/ 代表/ 着/ 超图/ 中/ 的/ 超边/ ,/ 边/ 代表/ 着/ 超图/ 中超边/ 之间/ 的/ 交互/ 关系/ ,/ 每/ 一条/ 边/ 都/ 代表/ 着/ 与其/ 相连/ 的/ 两个/ 顶点/ 所/ 对应/ 的/ 超边/ 存在/ 着/ 交互/ 关系/ ,/ 即/ 至少/ 有/ 一个/ 公共/ 顶点/ ./ IG/ 图/ 的/ 构建/ 方法/ 如图/ 1/ 所示/ ,/ 给定/ 一个/ 无向/ 图/ G/ =/ (/ V/ ,/ E/ )/ ,/ 顶点/ 集/ V/ 中/ Page4/ 每/ 一个/ 顶点/ 对应/ 着/ 超图/ 中/ 的/ 一条/ 超边/ ,/ 边集/ E/ 则/ 对应/ 着/ 超边/ 在/ 超图/ 中/ 的/ 交互/ 关系/ ,/ 如果/ 在/ 超图/ 中/ ,/ 两条/ 超边/ 存在/ 交互/ 关系/ ,/ 则/ 在/ 图/ G/ 中/ ,/ 这/ 两条/ 超边/ 所/ 对应/ 的/ 顶点/ 就/ 有/ 一条/ 边/ 相连/ ./ 在/ IG/ 图中/ ,/ 由于/ 超边/ 的/ 交互/ 关系/ 被/ 完整/ 地/ 保留/ ,/ 而/ 超图/ 中/ 顶点/ 的/ 相关/ 信息/ 被/ 略去/ ,/ 所以/ 这种/ 转换/ 是/ 不/ 可逆/ 的/ ,/ 一个/ 超图/ 唯一/ 对应/ 着/ 一个/ IG/ 图/ ;/ 反之/ ,/ 与/ IG/ 图/ 对应/ 的/ 超图/ 则/ 不/ 唯一/ ./ 在/ IG/ 图/ 模式/ 下/ ,/ IG/ 图/ 的/ 一个点/ 割/ 划分/ 代表/ 着/ 超图/ 中超边/ 的/ 一个/ 划分/ ./ 同样/ ,/ 超图/ 划分/ 中/ 的/ 超边/ 划分/ P/ 也/ 对应/ 着/ IG/ 图/ 的/ 一个/ 顶点/ 划分/ P/ ,/ 割边/ 集/ C/ 对应/ 的/ 顶点/ C/ 把/ 其余/ 顶点/ 分割/ 成/ K/ 个/ 互不/ 连接/ 的/ 子/ 图/ Gi/ =/ (/ Vi/ ,/ Ei/ )/ ,/ 顶点/ 子集/ Vi/ 对应/ 着/ 超图/ 划分/ 中/ 的/ 超边/ 集/ Ehi/ ,/ 顶点/ 子集/ C/ 即为/ IG/ 图/ 的/ 一个点/ 割/ ,/ 超图/ 中超边/ 的/ 划分/ 被/ 转换成/ IG/ 图/ 的/ 点/ 割/ 划分/ 问题/ ./ 事实上/ ,/ 超图/ 的/ 超边/ 划分/ 问题/ 与/ IG/ 图/ 的/ 点/ 割/ 划分/ 问题/ 是/ 等价/ 的/ ,/ IG/ 图/ 的/ 点/ 割/ 划分/ 与/ 超图/ 的/ 超边/ 划分/ 一一对应/ ./ 通过/ 把/ 电路/ 超图/ 转化成/ IG/ 图/ ,/ 超图/ 的/ 超边/ 划分/ 问题/ (/ 即/ 电路/ 的/ 信号/ 网络/ 划分/ 问题/ )/ 被/ 转化/ 为/ IG/ 图/ 的/ 点/ 割/ 划分/ 问题/ ,/ 因此/ 可用/ 直接/ 点割/ 划分算法/ 对/ 网络/ IG/ 图/ 进行/ 划分/ ,/ 从而/ 实现/ 电路/ 网络/ 和/ 单元/ 的/ 划分/ ./ 在/ 对/ IG/ 图/ 进行/ 点割/ 划分/ 的/ 过程/ 中/ ,/ 为/ 满足/ 电路/ 划分/ 对/ 面积/ 平衡/ 的/ 特殊要求/ ,/ 通过/ 给/ 电路/ 网络/ 中/ 的/ 每/ 一个/ 信号/ 赋/ 权重/ 的/ 方式/ 构建/ 电路/ 网络/ 的/ 带权/ 交互/ 图/ WIG/ ,/ 即/ 对/ IG/ 图中/ 的/ 每个/ 顶点/ 赋以/ 网络/ 平均/ 面积/ 权重/ Wi/ ,/ 并/ 对/ WIG/ 图点/ 割/ 划分/ 的/ 各/ 部分/ 顶点/ 进行/ 面积/ 平衡/ 控制/ ,/ 实现/ 对/ 电路/ 划分/ 的/ 面积/ 平衡/ 进行/ 近似/ 控制/ ,/ 并/ 在/ 最终/ 的/ 电路/ 单元/ 分配/ 中/ 进行/ 精确/ 地/ 面积/ 计算/ 和/ 局部/ 面积/ 平衡/ 修正/ ./ 实践/ 证实/ ,/ 这一/ 近似/ 面积/ 平衡/ 控制/ 方式/ 非常/ 有效/ ,/ 只有/ 当/ 电路/ 单元/ 面积/ 变化/ 非常/ 大/ 或/ 面积/ 平衡/ 要求/ 非常/ 高时/ 才/ 难以/ 满足要求/ ./ 下面/ 给出/ 两个/ 与/ 本文/ 算法/ 有关/ 的/ 定义/ ./ 定义/ 1/ ./ 邻接/ 点集/ 定义/ 为/ 无/ 向/ 图/ G/ =/ (/ V/ ,/ E/ )/ 中/ ,/ 顶点/ 子集/ Y/ 中/ 所有/ 与/ 顶点/ 子集/ X/ 中/ 的/ 顶点/ 相邻/ 的/ 顶点/ 所/ 构成/ 的/ 集合/ ,/ 记为/ NG/ (/ X/ ,/ Y/ )/ ./ 表达式/ 为/ NG/ (/ X/ ,/ Y/ )/ =/ {/ vj/ |/ vi/ ∈/ X/ ,/ vj/ ∈/ Y/ ,/ 〈/ vi/ ,/ vj/ 〉/ ∈/ E/ ,/ i/ ,/ j/ =/ 1/ ,/ …/ ,/ n/ }/ ./ 单个/ 顶点/ xi/ 的/ 邻接/ 点集/ 等于/ 顶点/ 集/ {/ xi/ }/ 的/ 邻接/ 点集/ ,/ 记为/ NG/ (/ xi/ ,/ Y/ )/ ./ 如果/ 无/ 特殊/ 情况/ ,/ 对/ 特定/ 无向/ 图/ G/ ,/ 则/ 简记/ 为/ N/ (/ X/ ,/ Y/ )/ 和/ N/ (/ xi/ ,/ Y/ )/ ./ 定义/ 2/ ./ 带权/ 交互/ 图/ WIG/ 中/ 网络/ 平均/ 面积/ 权重/ 定义/ 为/ 顶点/ i/ 所/ 对应/ 的/ 实际/ 电路/ 信号/ 网络/ 上/ 所有/ 引脚/ 平均/ 占有/ 电路/ 单元/ 或/ 模块/ 的/ 面积/ 之/ 和/ ,/ 记为/ Wi/ ./ 其/ 表达式/ 为/ 其中/ ,/ vH/ 顶点/ vj/ 的/ 点/ 权重/ (/ 电路/ 单元/ 的/ 面积/ )/ ,/ D/ (/ vH/ 中/ 顶点/ vj/ 的/ 度/ ./ 3/ 算法/ 设计/ 本文/ 提出/ 的/ 基于/ IG/ 图点/ 割/ 的/ 电路/ 划分算法/ 主要/ 有/ 4/ 个/ 部分/ 组成/ ,/ 其/ 核心/ 是/ 基于/ 组/ 迁移/ 策略/ 的/ 点/ 割/ 优化/ 算法/ ./ 首先/ 根据/ 电路/ 超图/ 构建/ 网络/ IG/ 图/ ,/ 需对/ 超图/ 中/ 所有/ 顶点/ 进行/ 一次/ 遍历/ ,/ 并/ 把/ 与/ 同一/ 顶点/ 相连接/ 的/ 所有/ 超边/ 作为/ 一个团/ 添加/ 到/ IG/ 图中/ ./ 其次/ 是/ 对/ IG/ 图/ 进行/ 初始/ 划分/ ,/ 并/ 利用/ 点割/ 优化/ 算法/ 对/ 初始/ 划分/ 结果/ 进行/ 优化/ ,/ 进一步提高/ 划分/ 质量/ ./ 最后/ ,/ 根据/ IG/ 图/ 的/ 网络/ 划分/ 结果/ 对/ 电路/ 单元/ 进行/ 分配/ ./ 可先/ 根据/ 电路/ 网络/ 的/ 分区/ 把/ 网络/ 中/ 的/ (/ 不/ 包括/ 点割/ 集中/ 的/ 网络/ )/ 所有/ 电路/ 单元/ 分配/ 到/ 对应/ 分区/ ,/ 再/ 将/ 剩余/ 的/ 未/ 分配/ 的/ 中性/ 单元/ 分配/ 给/ 面积/ 较/ 小/ 的/ 就近/ 分区/ ./ 因为/ 这些/ 中性/ 电路/ 单元/ 只/ 属于/ 割边/ 集/ ,/ 它们/ 的/ 分配/ 不/ 影响/ 电路/ 划分/ 的/ 割值/ ,/ 且/ 通常/ 只有/ 非常/ 小/ 的/ 一部分/ (/ 对于/ 二路/ 划分/ ,/ 不足/ 总面积/ 的/ 1/ %/ )/ ,/ 分配/ 给/ 面积/ 较/ 小/ 分区/ 可/ 对/ 分区/ 面积/ 进行/ 细微/ 修正/ ./ 3.1/ 初始/ 划分算法/ 本文/ 采用/ 一种/ 简单/ 的/ 贪婪/ 算法/ 进行/ 初始/ 划分/ ,/ 可/ 在/ 线性/ 时间/ 内/ 完成/ 初始/ 划分/ ./ 该/ 贪婪/ 算法/ 采用/ 最小/ 外度/ 顶点/ 优先/ 的/ 方式/ ,/ 每次/ 从/ 当前/ 点割/ 中/ 选择/ 一个/ 外/ 邻接/ 点/ 个数/ 最少/ 的/ 割点/ ,/ 划/ 为/ 内部/ 点/ ,/ 把/ 割点/ 向前/ 推移/ ,/ 使/ 与其/ 邻接/ 的/ 外部/ 顶点/ 成为/ 新/ 的/ 割点/ ./ 该/ 算法/ 每次/ 移动/ 顶点/ 时/ ,/ 把/ 不/ 在/ 割/ 集中/ 的/ 邻接/ 顶点/ 添加/ 到/ 割/ 集中/ ,/ 作为/ 新/ 的/ 割点/ ,/ 同时/ 更新/ 与/ 当前/ 顶点/ 相邻/ 接/ 的/ 割点/ 的/ 度/ ,/ 邻接/ 顶点/ 的/ 更新/ 时间/ 只/ 与/ 顶点/ 的/ 平均/ 度/ 的/ 大小/ 有关/ ,/ 与/ 数据/ 规模/ 无关/ ./ 在/ 划分/ 的/ 过程/ 中/ ,/ 为/ 选取/ 最佳/ 划分/ 点/ ,/ 需/ 把/ 割点/ 前移/ 至/ 内部/ 顶点/ 子集/ 达到/ 面积/ 允许/ 上限/ 为止/ ,/ 记录/ 此/ 过程/ 中/ 面积/ 在/ 允许/ 的/ 上/ 、/ 下限/ 范围/ 内/ 的/ 割值/ 最小/ 的/ 划分/ 点/ ,/ 并/ 选择/ 作为/ 最佳/ 划分/ 点/ ./ 该/ 算法/ 描述/ 如下/ ./ 算法/ 1/ ./ 基于/ 割点/ 前移/ 的/ 初始/ 划分算法/ (/ PCVS/ )/ ./ 输入/ :/ 网络/ 交互/ 图/ G/ 和/ 平衡/ 容忍/ 因子/ ε/ 输出/ :/ 图/ G/ 的/ 一个点/ 割/ C1/ ./ 初始化/ 一个/ 内部/ 顶点/ 子集/ S/ =/ / 和/ 一个/ 割/ 点子/ 集/ C/ =/ / ;/ 2/ ./ 随机/ 从图/ 中/ 选取/ 一个/ 顶点/ 作为/ 种子/ 顶点/ ,/ 把/ 它/ 加入/ 到/ 顶点/ 子集/ S/ ,/ 把/ 其/ 邻接/ 点集/ N/ (/ S/ ,/ G/ -/ S/ )/ 中/ 的/ 顶点/ 加入/ 到/ C/ ,/ C/ 就/ 构成/ 了/ 图/ G/ 关于/ S/ 与/ G/ -/ S/ -/ C/ 的/ 一个点/ 割/ ;/ Page53/ ./ 在/ C/ 中/ 选取/ 一个/ 外度/ 最小/ 的/ 顶点/ vi/ ,/ 即/ 邻接/ 点集/ N/ (/ vi/ ,/ G/ -/ S/ -/ C/ )/ 最小/ 的/ ,/ 把/ 顶点/ vi/ 加入/ 到/ S/ 中去/ ,/ 同时/ 把/ vi/ 的/ 外/ 邻接/ 点/ N/ (/ vi/ ,/ G/ -/ S/ -/ C/ )/ 加入/ 到/ C/ 中去/ ,/ 实现/ 割点/ 前移/ ;/ 4/ ./ 判断/ 点集/ S/ 中/ 的/ 内部/ 顶点/ 是否/ 达到/ 面积/ 平衡/ 要求/ ,/ 如果/ 大于/ 上限/ 则/ 终止/ 循环/ ,/ 输出/ 合法/ 的/ 最小/ 划分/ 结果/ ;/ 否则/ 记录/ 合法/ 的/ 最小/ 划分/ ,/ 并/ 继续执行/ 步/ 3.3/ ./ 2/ 基于/ IG/ 图/ 的/ 点/ 割/ 优化/ 算法/ 常用/ 的/ 基于/ 二部/ 图/ 匹配/ 的/ 点/ 割/ 优化/ 算法/ (/ BMP/ )/ 是/ Liu/ [/ 27/ ]/ 提出/ 的/ ,/ 这种/ 优化/ 算法/ 具有/ 很强/ 的/ 局部/ 搜索/ 能力/ ,/ 可以/ 在/ 较/ 短/ 的/ 时间/ 内/ 找到/ 局部/ 最优/ 解/ ./ 设/ C/ 是/ 图/ G/ 关于/ R/ 和/ L/ 的/ 一个点/ 割/ ,/ 该/ 优化/ 算法/ 通过/ 不断/ 的/ 寻找/ 点割/ C/ 中/ 的/ 一个顶/ 子集/ Y/ ,/ 使/ |/ Y/ |/ >/ |/ N/ (/ Y/ ,/ R/ )/ |/ (/ R/ 与/ L/ 是/ 对/ 等/ 的/ ,/ 以下/ 均/ 只/ 考虑/ R/ 情况/ )/ ,/ 用/ N/ (/ Y/ ,/ R/ )/ 替换/ Y/ ,/ 新/ 产生/ 的/ 点/ 割/ C/ =/ (/ C/ -/ Y/ )/ ∪/ N/ (/ Y/ ,/ R/ )/ 的/ 割值/ 比/ 原点/ 割/ C/ 的/ 割值/ 小/ ,/ 从而/ 使点/ 割/ 得到/ 优化/ ./ 但/ 这种/ 基于/ 二部/ 图/ 匹配/ 的/ 点/ 割/ 优化/ 算法/ 全局/ 搜索/ 能力/ 较差/ ,/ 具有/ 单调/ 递减性/ ,/ 只能/ 单调/ 搜索/ 点割/ 的/ 邻接/ 顶点/ 集中/ 的/ 可/ 优化/ 顶点/ 子集/ ,/ 易/ 陷入/ 局部/ 最小/ ./ 为了/ 克服/ 上述/ 算法/ 的/ 全局/ 搜索/ 能力/ 的/ 不足/ ,/ 本文/ 提出/ 了/ 一种/ 基于/ 组/ 迁移/ 策略/ 的/ 直接/ 点割/ 优化/ 算法/ ./ 该/ 算法/ 随机/ 选取/ 割线/ 附近/ 的/ 一个/ 顶点/ 子集/ U/ ,/ 如果/ |/ N/ (/ U/ ,/ C/ )/ |/ >/ |/ N/ (/ U/ ,/ R/ -/ U/ )/ |/ ,/ 那么/ ,/ 移动/ 顶点/ 子集/ U/ 就/ 有/ 可能/ 使/ 目标值/ 得到/ 优化/ ./ 这种/ 方法/ 扩大/ 了/ 优化/ 算法/ 的/ 搜索/ 范围/ ,/ 增强/ 了/ 算法/ 的/ 全局/ 搜索/ 能力/ ./ 如图/ 2/ 所示/ ,/ 基于/ 二部/ 图/ 匹配/ 的/ 优化/ 算法/ 易于/ 找到/ 子集/ Y/ 及其/ 邻接/ 顶点/ 子集/ X/ ,/ 用/ X/ 替换/ Y/ 使/ 割值/ 减/ 1/ ,/ 却/ 无法/ 找到/ 子集/ U/ 及/ Y/ ,/ X/ ,/ 但/ 移动/ U/ ,/ 用/ X/ 替代/ Y/ ,/ 割值/ 同样/ 减/ 1/ ./ 图/ 3/ 点割/ 优化/ 算法/ 过程/ 示例/ 在/ 优化/ 过程/ 中/ ,/ 初始/ 随机/ 选取/ 的/ 顶点/ 通常/ 很少/ 会/ 带来/ 目标值/ 的/ 减少/ ,/ 只有/ 当/ 一系列/ 关联/ 紧密/ 的/ 顶点/ 移动/ 之后/ 才/ 会/ 带来/ 目标值/ 的/ 减少/ ,/ 称之为/ “/ 爬山/ ”/ 效应/ ./ 为/ 避免/ 过量/ 无效/ 的/ 移动/ 操作/ ,/ 需/ 设定/ 一个/ 阈值/ 对/ 无效/ 的/ 顶点/ 移动/ 进行/ 限制/ ,/ 当/ 移动/ 的/ 顶点/ 数目/ 超过/ 阈值/ 还/ 没/ 带来/ 目标值/ 的/ 减少/ 时/ ,/ 提前/ 终止/ 本轮/ 优对/ 关联/ 子集/ U/ 的/ 选择/ ,/ 采用/ 局部/ 随机/ 搜索/ 进行/ 选取/ ,/ 并/ 运用/ 关联/ 激励机制/ 进行/ 顶点/ 更新/ ./ 该/ 方法/ 对/ 所有/ 邻接/ 顶点/ 设定/ Score/ 值项/ ,/ 每次/ 移动/ 顶点/ 时/ 对/ 相关联/ 顶点/ 进行/ 更新/ 和/ 加分/ 激励/ ,/ 使/ 与/ 当前/ 移动/ 顶点/ 关联/ 紧密/ 的/ 顶点/ 被/ 赋予/ 较/ 高/ 的/ Score/ 值/ ,/ 关联/ 最/ 紧密/ 的/ 顶点/ 具有/ 最大/ 的/ Score/ 值/ ,/ 将/ 作为/ 下/ 一次/ 移动/ 的/ 目标/ ,/ 这种/ 方法/ 有效/ 地/ 激励/ 连接/ 比较/ 紧密/ 的/ 顶点/ 相继/ 被/ 移动/ ./ Score/ 值/ 的/ 更新/ 方法/ 如下/ :/ 设/ 顶点/ s/ 被/ 选中/ 并/ 被/ 移动/ 到/ 点/ 割/ C/ 中/ ,/ s/ 在/ 割/ 集中/ 的/ 邻接/ 顶点/ 集为/ Z/ =/ N/ (/ s/ ,/ C/ )/ ,/ 那么/ R/ 中/ 与/ Z/ 直接/ 相邻/ 的/ 顶点/ 都/ 需要/ 被/ 更新/ ./ 对/ Z/ 中/ 的/ 每/ 一个/ 顶点/ 以及/ s/ 点/ ,/ 找出/ 其/ 在/ R/ -/ {/ s/ }/ 中/ 的/ 邻接/ 顶点/ ,/ 这些/ 顶点/ 的/ Score/ 值/ 分别/ 增加/ / ./ 如果/ 顶点/ 与/ Z/ 中/ 的/ 顶点/ 连接/ 关系/ 比较/ 紧密/ ,/ 即/ 与/ Z/ 中/ 的/ 多个/ 顶点/ 相邻/ 接/ ,/ Score/ 值/ 相应/ 地/ 增加/ 多次/ ,/ 就/ 有/ 可能/ 成为/ 下次/ 移动/ 的/ 目标/ ./ 如图/ 3/ 所示/ ,/ 开始/ 从/ P/ 中/ 选取/ 一个/ 顶点/ 进行/ 移动/ ,/ 每次/ 更新/ 时/ Score/ 值/ 增加/ 1/ ,/ 经/ 6/ 次/ 移动/ 和/ 更新/ 操作/ ,/ U/ 和/ X/ 中/ 的/ 顶点/ 相继/ 被/ 移动/ ,/ Y/ 被/ X/ 所/ 替代/ ./ 化/ ./ 通常/ ,/ 该/ 阈值/ 的/ 大小/ 需要/ 根据/ 数据/ 规模/ 的/ 大小/ 来/ 设定/ ,/ 一般/ 取/ 顶点/ 数量/ 的/ 0.5/ %/ ~/ 5/ %/ ,/ 并/ 采用/ 变/ 限值/ 的/ 方法/ ,/ 扩大/ 优化/ 算法/ 的/ 搜索/ 效率/ ./ 在/ 优化/ 过程/ 刚/ 开始/ 的/ 时候/ 设定/ 较大/ 的/ 限值/ ,/ 使/ 较大/ 的/ 顶点/ 子集/ 能够/ 被/ 移动/ ,/ 提高/ 算法/ 的/ “/ 爬山/ ”/ 能力/ ;/ 当割值/ 变化/ 较/ 小时/ 再/ 调整/ 为/ 较/ 小/ 的/ 限值/ ,/ 限制/ 大规模/ 顶点/ 的/ 移动/ ,/ 增/ Page6/ 强/ 局部/ 搜索/ 能力/ ./ (/ ROP/ )/ ./ 算法/ 2/ ./ 基于/ 组/ 迁移/ 策略/ 的/ 点/ 割/ 优化/ 算法/ 输入/ :/ 网络/ 交互/ 图/ G/ 的/ 一个点/ 割/ 划分/ P/ 、/ 面积/ 平衡/ 容忍/ 输出/ :/ 网络/ 交互/ 图/ G/ 优化/ 后/ 的/ 点/ 割/ 划分/ P1/ ./ 根据/ 分区/ 面积/ 大小/ ,/ 选择/ 优化/ 时/ 顶点/ 移动/ 方向/ ,/ 假定/ AR/ >/ AL/ ,/ 选定/ R/ ;/ 2/ ./ 初始化/ 割点集/ C/ 及/ 邻接/ 顶点/ 队列/ ,/ 把/ N/ (/ C/ ,/ R/ )/ 中/ 的/ 所有/ 顶点/ 都/ 放入/ 该/ 队列/ ,/ 并/ 初始化/ 所有/ 顶点/ Score/ 值为/ 0/ ;/ 3/ ./ 随机/ 在/ 邻接/ 顶点/ 队列/ 中/ 选取/ 一个/ 顶点/ s/ 作为/ 种子/ 顶点/ ,/ 移动/ 顶点/ s/ ,/ 把/ s/ 加入/ 到/ 点/ 割/ C/ 中/ ,/ 更新/ N/ (/ s/ ,/ C/ )/ 中/ 的/ 割点/ 的/ 状态/ ,/ 把/ N/ (/ s/ ,/ R/ )/ 中/ 不/ 在/ 邻接/ 顶点/ 队列/ 中/ 的/ 顶点/ 加入/ 到/ 队列/ 中/ ,/ 并置/ Score/ 初值/ 为/ 0/ ,/ 更新/ N/ (/ s/ ,/ C/ )/ 中/ 每/ 一个/ 割点/ 和/ s/ 点/ 在/ R/ -/ {/ s/ }/ 中/ 的/ 所有/ 邻接/ 顶点/ 的/ Score/ 值/ ;/ 4/ ./ 在/ 邻接/ 顶点/ 队列/ 中/ 选择/ Score/ 值/ 最大/ 顶点/ ,/ 移动/ 该点/ ,/ 更新/ C/ 及/ 邻接/ 顶点/ 队列/ ,/ 更新/ 关联/ 顶点/ Score/ 值/ ;/ 5/ ./ 如果/ 割值/ 变小/ ,/ 且/ 面积/ 满足/ 平衡/ 要求/ ,/ 无效/ 顶点/ 计数/ 清零/ ,/ 继续执行/ 步/ 4/ ;/ 否则/ ,/ 如果/ 无效/ 移动/ 次数/ 超过/ 阈值/ ,/ 则/ 回退/ 无效/ 移动/ ,/ 并/ 标记/ 该/ 顶点/ ,/ 以后/ 不许/ 再选/ 作/ 初始/ 种子/ 顶点/ ;/ 6/ ./ 如果/ 结果/ 有/ 提高/ 或/ 小于/ 限制/ 次数/ ,/ 则/ 继续/ 步/ 1/ ~/ 5/ 操作/ ;/ 否则/ 终止/ ,/ 输出/ 优化/ 结果/ ./ 4/ 实验/ 结果/ 及/ 分析/ 为/ 比较/ 算法/ 的/ 性能/ ,/ 本文/ 采用/ V/ C++/ 编程语言/ 实现/ 了/ FM/ 划分/ 优化/ 算法/ 、/ 基于/ 最小/ 度/ 序列/ 的/ 划分算法/ (/ MinimumDegree/ ,/ MD/ )/ [/ 27/ ]/ 、/ 割点/ 前移/ 的/ 初始/ 划分算法/ (/ PCVS/ )/ 、/ 基于/ 二部/ 图/ 匹配/ 的/ 点/ 割/ 优化/ 算法/ (/ BMP/ )/ 以及/ 本文/ 提出/ 的/ 随机/ 点割/ 优化/ 算法/ (/ ROP/ )/ 等/ 算法/ ,/ 并/ 采用/ MCNCbenchmark/ ①/ 和/ ISPD98benchmark/ [/ 28/ ]/ 标准/ 电路/ 测试数据/ 对/ 算法/ 进行/ 性能/ 测试/ ,/ 所有/ 测试/ 在/ CPU/ 主频/ 为/ 1.4/ GHz/ 、/ 内存/ 1GB/ 、/ 操作系统/ 为/ WindowsXP/ 的/ HP/ 台式机/ 上/ 完成/ ./ 表/ 1/ 列出/ 了/ MCNCbenchmark/ 标准/ 电路/ 测试/ 表/ 1MCNCbenchmark/ 标准/ 电路/ 测试数据/ 集/ 特征参数/ 电路/ 名称/ 单元/ 数/ 信号线/ 数引/ 脚数/ 器件/ 面积/ ami33331233881156449ami494940891235445424fract125163454225504g21993779259596023primary18331266327226607000struct1888192054072850352industry12271247980254403352primary2301438171200753457000biomed641770522225313062992industry212150134194765710404768industry3150592196665610360933376/ 数据/ 集/ 的/ 相关/ 参数/ ,/ 本文/ 对/ 实验/ 数据/ 进行/ 了/ 预处理/ ,/ 对/ 电路/ 中/ 的/ PAD/ 进行/ 了/ 删除/ ,/ 但/ 对/ 实验/ 结果/ 无/ 影响/ ./ 为了/ 比较/ 本文/ 提出/ 的/ 基于/ IG/ 图/ 模式/ 点割/ 的/ 电路/ 划分算法/ 的/ 性能/ ,/ 将/ 划分/ 结果/ 分别/ 与/ 基于/ 超图/ 模式/ 的/ FM/ 优化/ 算法/ 和/ 多层/ 电路/ 划分算法/ hMetis/ [/ 10/ ]/ 以及/ 基于/ 网络/ 划分/ 的/ 电路/ 划分算法/ K/ -/ DualFM/ 进行/ 了/ 比较/ ,/ 表/ 2/ 给出/ 了/ 电路/ 划分/ 的/ 结果/ ./ 初始/ 划分/ 方法/ 分别/ 采用/ 了/ MD/ 和/ PCVS/ 两种/ 划分算法/ ,/ PCVS/ 采用/ 30/ 次/ 划分/ ,/ 取/ 最佳/ 划分/ 结果/ ./ 为/ 公平/ 比较/ FM/ 优化/ 算法/ 、/ BMP/ 及/ 本文/ 的/ ROP/ 优化/ 算法/ 的/ 优化/ 性能/ ,/ 实验/ 均/ 采用/ PCVS/ 作为/ 初始/ 划分算法/ ,/ 取/ 30/ 次/ 运行/ 产生/ 的/ 最小/ 划分/ 为/ 初始/ 初分/ ./ hMetis/ 算法/ 的/ 划分/ 结果/ 是/ 按/ 要求/ 输入/ 超图/ 数据/ ,/ 参数/ 设定/ 为/ Nparts/ =/ 2/ ,/ Nruns/ =/ 30/ ,/ CType/ =/ 1/ ,/ RType/ =/ 1/ ,/ Vcycle/ =/ 3/ ,/ UBfactor/ =/ 5/ ,/ Reconst/ =/ 0/ ,/ 选取/ 30/ 次/ 运行/ 中/ 最佳/ 划分/ 结果/ ./ K/ -/ DualFM/ 算法/ 的/ 参数/ K/ 设为/ 2/ ,/ 超图/ HDN/ 的/ 超边/ 团化/ 参数/ CF/ 设为/ 3/ ~/ 8/ ,/ 划分算法/ 为/ 多层/ 超图/ 划分算法/ hMetis/ ,/ 参数/ 同/ 上/ ,/ 同样/ 选取/ 30/ 次/ 运行/ 中/ 最佳/ 划分/ ./ 所有/ 测试/ 均/ 采用/ 真实/ 电路/ 单元/ 面积/ ,/ 并/ 设定/ 面积/ 平衡/ 容忍/ 因子/ 为/ 10/ %/ ,/ 即/ 各/ 分区/ 面积/ 应/ 保持/ 在/ 45/ %/ ~/ 55/ %/ 以内/ ./ 比较/ 结果显示/ ,/ 基于/ 割点/ 前移/ 的/ 初始/ 划分算法/ PCVS/ 的/ 划分/ 质量/ 和/ 效率/ 都/ 较/ 基于/ 最小/ 度/ 序列/ 的/ 点/ 割/ 划分/ MD/ 算法/ 要/ 好/ ,/ 最终/ 优化/ 结果/ 平均/ 比/ MD/ 算法/ 提高/ 了/ 35/ %/ ./ 从/ 算法/ 效率/ 上/ 来看/ ,/ MD/ 算法/ 每次/ 在/ 删除/ 顶点/ 时/ 都/ 要/ 对/ 该/ 顶点/ 的/ 所有/ 邻接/ 顶点/ 进行/ 更新/ ,/ 通过/ 添加/ 边/ 使/ 其/ 所有/ 邻接/ 顶点/ 构成/ 一个团/ ,/ 团化/ 使/ 顶点/ 度/ 不断/ 增加/ ,/ 后期/ 团化/ 时间/ 复杂度/ 接近/ O/ (/ N2/ )/ ,/ 算法/ 总/ 的/ 时间/ 复杂度/ 达到/ O/ (/ N3/ )/ ,/ 很难/ 用于/ 较/ 大规模/ 的/ 数据/ ,/ 而/ PCVS/ 算法/ 则/ 能/ 在/ 近似/ 线性/ 时间/ 完成/ 划分/ ./ 在/ 优化/ 算法/ 的/ 性能/ 上/ ,/ ROP/ 算法/ 较/ FM/ 及/ BMP/ 算法/ 的/ 搜索/ 能力/ 都/ 要强/ ,/ 划分/ 优化/ 结果/ 分别/ 提高/ 了/ 18/ %/ 和/ 36/ %/ ./ 当/ 数据/ 规模较/ 小时/ ,/ FM/ 算法/ 和/ ROP/ 算法/ 的/ 具有/ 同样/ 的/ 优化/ 性能/ ,/ 但/ 随着/ 数据/ 规模/ 的/ 不断扩大/ ,/ FM/ 算法/ 的/ 搜索/ 能力/ 明显/ 下降/ ,/ 而/ ROP/ 算法/ 逐渐/ 显示/ 出较/ 强/ 的/ 优化/ 能力/ ./ 与/ BMP/ 算法/ 相比/ ,/ ROP/ 算法/ 具有/ 较强/ 的/ “/ 爬山/ ”/ 能力/ ,/ 能够/ 有效/ 的/ 跳出/ 局部/ 最小/ ,/ 可以/ 在/ 更/ 大/ 的/ 范围/ 内/ 寻找/ 最优/ 解/ ./ 但/ BMP/ 优化/ 算法/ 具有/ 更强/ 的/ 局部/ 搜索/ 能力/ ,/ 只/ ①/ TheMCNCstandardcircuittestingbenchmark/ ./ http/ :/ // // Page7/ 表/ 2/ 电路/ 划分/ 结果/ 比较/ (/ 所有/ 单元/ 或/ 模块/ 采用/ 真实/ 面积/ ,/ 面积/ 平衡/ 容忍/ 因子/ 为/ 10/ %/ )/ 电路/ 名称/ ami33121010101010/ ./ 00101010101099.9/ ami49995231313447/ ./ 9032313133313131.0/ fract161211111429/ ./ 1012121111121111.0/ g2523834344143/ ./ 3036292931292828.2/ primary1937260608289/ ./ 8072656052685462.0/ struct696152524756/ ./ 8036333338333333.2/ industry1514026264460/ ./ 0337202028262021.7/ primary2318275238238226288/ ./ 70206172172182183161166.4/ biomed124118112110118127/ ./ 40928886107858387.2/ industry2653422367344473594/ ./ 90351188182188264174231.3/ industry3995554243201500621/ ./ 83242189187209226188236.8/ Ratio3/ ./ 002.001/ ./ 431.351/ ./ 922.381/ ./ 361.021/ ./ 001.071/ ./ 180.961/ ./ 11/ 量/ 有/ 较大/ 下降/ ./ 主要/ 有/ 两个/ 方面/ 的/ 原因/ :/ (/ 1/ )/ 初始/ 划分算法/ PCVS/ 规模/ 处理/ 能力/ 较弱/ ./ 虽然/ 该/ 算法/ 可以/ 在/ 线性/ 时间/ 内/ 完成/ 初始/ 划分/ 任务/ ,/ 但/ 随着/ 测试数据/ 规模/ 的/ 增加/ ,/ 初始/ 划分/ 的/ 质量/ 迅速/ 下降/ ,/ 初始/ 划分/ 的/ 全局性/ 变差/ ,/ 导致/ 最终/ 划分/ 的/ 质量/ 变差/ ;/ (/ 2/ )/ 多层/ 电路/ 划分/ 方法/ 利用/ 聚类/ 粗化/ 技术/ 有效/ 降低/ 了/ 数据/ 规模/ ,/ 显著/ 提高/ 了/ 优化/ 算法/ 的/ 优化/ 性能/ ./ 多层/ 电路/ 划分算法/ 通过/ 聚类/ 方式/ 把/ 原/ 电路/ 中/ 连接/ 比较/ 紧密/ 的/ 模块/ 合并/ 在/ 一起/ ,/ 当作/ 一个/ 顶点/ 来/ 处理/ ,/ 从而/ 使原/ 电路/ 粗/ 化成/ 一序列/ 规模/ 更/ 小/ 的/ 粗化/ 超图/ ./ 首先/ 对/ 顶层/ 最小/ 的/ 粗化/ 超图/ 进行/ 划分/ 和/ 优化/ ,/ 并/ 作为/ 下层/ 粗化/ 超图/ 的/ 初始/ 划分/ ,/ 然后/ 再/ 逐层/ 恢复/ 优化/ ,/ 直到/ 最后/ 还原/ 至/ 原图/ ./ 由于/ 粗化/ 后/ 的/ 超图/ 规模较/ 小/ ,/ 且/ 粗化/ 超图/ 中/ 的/ 单个/ 顶点/ 的/ 移动/ 相当于/ 原图/ 中/ 一组/ 顶点/ 的/ 移动/ ,/ 因此/ ,/ 多层/ 电路/ 划分算法/ 可/ 显著/ 提高/ 优化/ 算法/ 的/ 搜索/ 能力/ ./ 因/ 本文/ 的/ 划分算法/ 是/ 一种/ 单层/ (/ Flat/ )/ 划分算法/ ,/ 属于/ 基本/ 划分算法/ ,/ 直接/ 在/ IG/ 原图/ 上/ 进行/ 划分/ 表/ 3ISPD98benchmark/ 标准/ 电路/ 测试数据/ 集/ 特征参数/ 电路/ 名称/ 单元/ 数/ 信号线/ 数引/ 脚数/ 器件/ 面积/ ibm011275214111505664230016ibm021960119584811998458336ibm032313627401935739842880ibm0427507319701058599294944ibm0529347284461263084471520ibm0632498348261281828577791ibm07459264811717563911829856ibm08513095051320489013449888ibm09533956090222208817529312ibm10694297519629756747534336ibm11705588145428078621237408ibm12710767724031776036974848ibm13841999966635707525061568ibm1414760515277254681628727296ibm1516157018660871582336534944ibm1618348419004877882352592704ibm1718549518958186003642187712ibm1821061320192081969733686560/ 要/ 算法/ 爬/ 过/ “/ 山峰/ ”/ ,/ 该/ 算法/ 就/ 能/ 找到/ 局部/ 的/ 最优/ 解/ ./ 从/ 实验/ 的/ 结果/ 可以/ 看出/ ,/ BMP/ 优化/ 算法/ 会/ 很早/ 收敛/ 于/ 局部/ 最小/ ,/ 而/ ROP/ 算法/ 则/ 可以/ 得到/ 更好/ 的/ 全局/ 解/ ,/ 这/ 两种/ 算法/ 的/ 互补/ 结合/ 可以/ 使/ 划分/ 质量/ 进一步提高/ ./ 与/ 基于/ HDN/ 网络/ 划分/ 的/ 电路/ 划分算法/ K/ -/ DualFM/ 相比/ ,/ 基于/ IG/ 图点/ 割/ 的/ 电路/ 划分算法/ 也/ 具有/ 更/ 稳定/ 的/ 性能/ 表现/ ./ 虽然/ 基于/ HDN/ 网络/ 划分/ 的/ 算法/ 也/ 能够/ 产生/ 部分/ 较优/ 的/ 划分/ 方案/ (/ 甚至/ 最好/ 的/ 方案/ )/ ,/ 但/ 由于/ 其/ 划分/ 目标/ 与/ 原/ 超图/ 划分/ 目标/ 不/ 完全一致/ ,/ 即/ 超图/ HDN/ 最优/ 边割/ 划分/ 并不一定/ 导出/ 最优/ 电路/ 划分/ ,/ 从而/ 导致/ 部分/ 划分/ 结果/ 质量/ 较差/ ./ 此外/ ,/ 在/ HDN/ 图/ 的/ 转换/ 上/ ,/ 分别/ 测试/ 了/ CF/ 值为/ 3/ ~/ 8/ 的/ 所有/ 结果/ ,/ 测试/ 结果表明/ ,/ CF/ 值会/ 对/ 网络/ 及/ 电路/ 划分/ 影响/ 较大/ ,/ 但/ CF/ 最优/ 值/ 不/ 固定/ ,/ 也/ 说明/ 边割/ 划分/ 的/ 不稳定性/ ./ 与/ 多层/ 电路/ 划分算法/ hMetis/ 比较/ 发现/ ,/ 当/ 数据/ 规模/ 不是/ 很大/ 时/ ,/ 基于/ IG/ 图点/ 割/ 的/ 电路/ 划分算法/ 同样/ 能/ 产生/ 较/ 高质量/ 的/ 划分/ 结果/ ./ 为/ 进一步/ 测试/ 算法/ 的/ 规模/ 处理/ 能力/ ,/ 我们/ 采用/ ISPD98benchmark/ 的/ 大规模/ 数据/ 集对/ 算法/ 进行/ 了/ 测试/ ,/ 测试方法/ 及/ 参数/ 同/ 前/ ,/ 表/ 3/ 和表/ 4/ 分别/ 列出/ 了/ 测试数据/ 集/ 的/ 特征参数/ 和/ 结果/ 比较/ 数据/ ./ 从表/ 3/ 可以/ 看出/ ,/ ISPD98/ 的/ 测试数据/ 具有/ 更大/ 的/ 规模/ ,/ 数据/ 规模/ 从/ 12000/ ~/ 210000/ ./ 从表/ 4/ 测试/ 结果/ 来看/ ,/ 随着/ 数据/ 规模/ 的/ 变大/ ,/ 基于/ IG/ 图/ 模式/ 的/ ROP/ 优化/ 算法/ 显现出/ 较强/ 的/ 优化/ 性能/ ,/ 如果/ 初始/ 划分/ 具有/ 较/ 好/ 的/ 全局性/ ,/ 即使/ 初始/ 划分/ 的/ 质量/ 较差/ ,/ 该/ 算法/ 还是/ 能够/ 找到/ 较/ 好/ 的/ 解/ ;/ 相反/ ,/ FM/ 优化/ 算法/ 和/ BMP/ 优化/ 算法/ 的/ 搜索/ 能力/ 随着/ 数据/ 规模/ 的/ 变大/ 迅速/ 下降/ ,/ 极易/ 陷入/ 局部/ 最小/ ./ 但/ 与/ hMetis/ 相比/ 算法/ ,/ 本文/ 基于/ IG/ 图点/ 割/ 的/ 电路/ 划分算法/ 的/ 规模/ 处理/ 能力/ 相对/ 较弱/ ./ 当/ 数据/ 规模/ 在/ 20000/ 点/ 以下/ 时/ ,/ 划分/ 结果/ 与/ hMetis/ 算法/ 的/ 结果/ 相当/ ,/ 但/ 随着/ 数据/ 规模/ 的/ 扩大/ ,/ 划分/ 的/ 质/ Page8/ 表/ 4/ 电路/ 划分/ 结果/ 比较/ (/ 所有/ 单元/ 或/ 模块/ 采用/ 单元/ 面积/ ,/ 面积/ 平衡/ 容忍/ 因子/ 为/ 10/ %/ )/ 电路/ 名称/ PCVS/ (/ 30/ )/ ibm01240482/ ./ 4202216182181274181230.7/ ibm02494807/ ./ 6461293264264351262280.9/ ibm0319372692/ ./ 9112514811069100510929561017.6/ ibm0416582518/ ./ 413751321653634576537567.7/ ibm0529522775/ ./ 82382193518821831188917261749.5/ ibm0614552053/ ./ 1127411589699651039888985.1/ ibm0722663012/ ./ 9153315731051984874852902.6/ ibm0813822096/ ./ 21302127612241183119211421155.7/ ibm0940064563/ ./ 433792682733709717628701.2/ ibm1027213752/ ./ 32613190515241517162312691549.5/ ibm1150186442/ ./ 2477834141225120911069621126.0/ ibm1253487532/ ./ 12991244122472219217118912185.2/ ibm1346705649/ ./ 722792303107510251083851940.9/ ibm1468558231/ ./ 45072504726552490217119202025.4/ ibm151118413287/ ./ 66115642335043436317226472911.6/ ibm1655749434/ ./ 84081417724342383278217632222.4/ ibm17716412624/ ./ 54728483933753319263822142308.8/ ibm1847166614/ ./ 02826290526562549156115262001.7/ Ratio2/ ./ 513.421/ ./ 861.681/ ./ 031.000/ ./ 940.850/ ./ 95/ 与/ 优化/ ,/ 所以/ 这/ 需要/ 优化/ 算法/ 具有/ 更强/ 的/ 全局/ 搜索/ 能力/ ./ 该/ 算法/ 也/ 可/ 与/ 多层/ 划分算法/ 相接/ 合/ ,/ 可/ 进一步提高/ 多层/ 划分算法/ 的/ 性能/ ./ 从/ K/ -/ DualFM/ 算法/ 的/ 划分/ 结果/ 来看/ ,/ 尽管/ 采用/ 了/ 多层/ 超图/ 划分算法/ hMetis/ 对/ HDN/ 进行/ 初始/ 划分/ ,/ 使/ 算法/ 具有/ 较/ 好/ 的/ 全局性/ ,/ 但/ K/ -/ DualFM/ 算法/ 仍然/ 无法/ 产生/ 高质量/ 的/ 划分/ 结果/ ,/ 与/ hMetis/ 算法/ 直接/ 基于/ 超图/ 划分/ 的/ 结果/ 还是/ 有/ 较大/ 差距/ ,/ 这/ 表明/ 随着/ 数据/ 规模/ 的/ 变大/ ,/ 边割/ 与/ 点/ 割/ 划分/ 的/ 差异/ 更加/ 明显/ ./ 而/ 基于/ IG/ 图点/ 割/ 的/ 电路/ 划分算法/ 在/ 中等/ 数据/ 规模/ 时/ 依然/ 具有/ 较/ 稳定/ 的/ 性能/ 表现/ ,/ 能够/ 产生/ 比/ K/ -/ DualFM/ 算法/ 更好/ 的/ 划分/ 结果/ ,/ 当/ 数据/ 规模/ 非常/ 大/ 的/ 时候/ ,/ 受/ 初始/ 划分/ 质量/ 和/ 全局性/ 降低/ 的/ 影响/ ,/ 算法/ 整体/ 性能/ 有/ 较大/ 下降/ ./ 5/ 总结/ 针对/ 电路/ 划分/ 问题/ ,/ 本文/ 提出/ 了/ 基于/ IG/ 图点/ 割/ 的/ 电路/ 划分算法/ ,/ 通过/ 构建/ 网络/ IG/ 图/ ,/ 把/ 传统/ 的/ 电路/ 划分/ 问题/ 转化成/ 电路/ 信号/ 网络/ IG/ 图/ 的/ 点/ 割/ 划分/ 问题/ ,/ 并/ 运用/ 点割/ 算法/ 对/ 网络/ IG/ 进行/ 划分/ ./ 采用/ MCNCbenchmark/ 和/ ISPD98benchmark/ 的/ 标准/ 电路/ 测试数据/ 进行/ 测试/ ,/ 实验/ 结果表明/ ,/ 基于/ IG/ 图点/ 割/ 的/ 电路/ 划分算法/ 比/ 基于/ 超图/ 的/ FM/ 划分算法/ 具有/ 更强/ 的/ 全局/ 搜索/ 能力/ ,/ 尤其/ 对/ 较/ 大规模/ 数据/ 优化/ 效果/ 更/ 明显/ ,/ 其/ 划分/ 质量/ 接近/ 多层/ 电路/ 划分算法/ hMetis/ ,/ 体现/ 了/ 直接/ 点割/ 划分/ 优化/ 的/ 优越性/ ./ 本文/ 基于/ 点割/ 的/ 电路/ 划分算法/ 属于/ 一种/ 单层/ (/ Flat/ )/ 的/ 电路/ 划分算法/ ,/ 虽/ 具有/ 较/ 好/ 的/ 全局/ 搜索/ 能力/ ,/ 但/ 规模/ 处理/ 能力/ 还是/ 相对/ 不足/ ./ 目前/ ,/ 多层/ (/ Multilevel/ ,/ ML/ )/ 电路/ 划分算法/ 通过/ 把/ 聚类/ 技术/ 与/ 普通/ 划分算法/ 相结合/ ,/ 利用/ 聚类/ 的/ 方法/ 把/ 一些/ 连接/ 比较/ 紧密/ 的/ 单元/ 或/ 模块/ 合并/ 成/ 一个/ 软/ 模块/ ,/ 当成/ 一个/ 顶点/ 来/ 对待/ ,/ 有效/ 地/ 降低/ 了/ 数据/ 规模/ ,/ 提高/ 了/ 划分算法/ 的/ 全局/ 搜索/ 能力/ 和/ 划分/ 的/ 质量/ ./ 下/ 一步/ 的/ 研究/ 工作/ 可以/ 进行/ 基于/ IG/ 图聚类/ 算法/ 研究/ ,/ 结合/ ML/ 划分/ 技术/ ,/ 降低/ 数据/ 规模/ ,/ 进一步/ 增强/ 该/ 算法/ 的/ 规模/ 处理/ 能力/ 和/ 全局/ 搜索/ 能力/ ,/ 提高/ 算法/ 的/ 整体/ 性能/ ,/ 扩大/ 算法/ 的/ 适用范围/ ./ 

