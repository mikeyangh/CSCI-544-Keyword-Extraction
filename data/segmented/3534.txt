Page1/ 基于/ 频繁/ 闭/ 情节/ 及其/ 生成/ 子/ 的/ 无/ 冗余/ 情节/ 规则/ 抽取/ 朱辉生/ 1/ )/ ,/ 2/ )/ 汪卫/ 2/ )/ 施/ 伯乐/ 2/ )/ 1/ )/ (/ 泰州/ 师范/ 高等/ 专科学校/ 江苏/ 泰州/ 225300/ )/ 2/ )/ (/ 复旦大学/ 计算机/ 科学技术/ 学院/ 上海/ 200433/ )/ 摘要/ 情节/ 规则/ 挖掘/ 旨在/ 发现/ 频繁/ 情节/ 之间/ 的/ 因果/ 关联/ ,/ 已/ 广泛应用/ 于/ 传感器/ 数据处理/ 、/ 网络安全/ 监控/ 、/ 金融证券/ 管理/ 、/ 事务/ 日志/ 分析/ 等/ 众多/ 领域/ ./ 针对/ 一个/ 事件/ 序列/ 上/ 的/ 无/ 冗余/ 情节/ 规则/ 挖掘/ ,/ 提出/ 了/ 算法/ Extractor/ ./ 该/ 算法/ 采用/ 最小/ 且/ 非/ 重叠/ 发生/ 的/ 支持/ 度/ 定义/ 和/ 深度/ 优先/ 的/ 搜索/ 策略/ 来/ 发现/ 频繁/ 闭/ 情节/ 及其/ 生成/ 子/ ,/ 保证/ 了/ 频繁/ 闭/ 情节/ 及其/ 生成/ 子/ 的/ 挖掘/ 质量/ 和/ 挖掘/ 效率/ ;/ 利用/ 非/ 生成/ 子/ 情节/ 的/ Apriori/ 性质/ ,/ 避免/ 了/ 冗余/ 的/ 情节/ 生成/ 子/ 判断/ ;/ 直接/ 由/ 频繁/ 闭/ 情节/ 及其/ 生成/ 子/ 产生/ 无/ 冗余/ 情节/ 规则/ ,/ 提高/ 了/ 情节/ 规则/ 的/ 生成/ 质量/ 和/ 生成/ 效率/ ./ 所/ 进行/ 的/ 实验/ 证实/ 了/ 该/ 情节/ 规则/ 抽取/ 算法/ 的/ 有效性/ ./ 关键词/ 事件/ 序列/ ;/ 频繁/ 闭/ 情节/ ;/ 情节/ 生成/ 子/ ;/ 情节/ 规则/ 1/ 引言/ 情节/ 刻画/ 了/ 事件/ 类型/ 之间/ 的/ 紧随/ 关系/ ,/ 而/ 情节/ 规则/ 描述/ 了/ 频繁/ 情节/ 的/ 因果/ 关联/ ./ 自/ Mannila/ 等/ 人/ [/ 1/ ]/ 引入/ 情节/ 规则/ 的/ 概念/ 以来/ ,/ 情节/ 规则/ 挖掘/ 的/ 问题/ 一直/ 是/ 数据挖掘/ 领域/ 研究/ 的/ 热点/ 之一/ ,/ 许多/ 学者/ 对此/ 展开/ 了/ 深入研究/ ,/ 提出/ 了/ TASA/ [/ 2/ ]/ 、/ WinMiner/ [/ 3/ ]/ 等经/ Page2/ 典/ 算法/ ,/ 并/ 将/ 它们/ 应用/ 于/ 传感器/ 数据处理/ [/ 4/ ]/ 、/ 网络安全/ 监控/ [/ 5/ ]/ 、/ 金融证券/ 管理/ [/ 6/ ]/ 、/ 软件/ 规范/ 挖掘/ [/ 7/ ]/ 、/ 事务/ 日志/ 分析/ [/ 8/ ]/ 等/ 众多/ 领域/ ./ 然而/ ,/ 现有/ 的/ 情节/ 规则/ 挖掘/ 算法/ 存在/ 以下/ 不足/ :/ (/ 1/ )/ 基于/ 滑动/ 窗口/ 或/ 最小/ 发生/ 来/ 计算/ 一个/ 情节/ 的/ 支持/ 度/ ,/ 致使/ 频繁/ 情节/ 的/ 挖掘/ 质量/ 不高/ ;/ (/ 2/ )/ 直接/ 由/ 频繁/ 情节/ 集/ 产生/ 所有/ 的/ 情节/ 规则/ ,/ 导致/ 规则/ 数量/ 过于/ 庞大/ 且/ 存在/ 冗余/ ;/ (/ 3/ )/ 尽管/ 利用/ 一些/ 修剪/ 技术/ 来/ 筛选/ 冗余/ 的/ 情节/ 规则/ ,/ 但/ 这种/ 后期/ 的/ 修剪/ 处理/ 增加/ 了/ 算法/ 的/ 时间/ 代价/ ./ 那么/ ,/ 直接/ 由/ 频繁/ 闭/ 情节/ 集来/ 抽取/ 情节/ 规则/ ,/ 是否/ 可以/ 避免/ 产生/ 冗余/ 规则/ 呢/ ?/ 不幸/ 的/ 是/ ,/ 冗余/ 问题/ 依然/ 存在/ ./ 例如/ ,/ 假设/ 事件/ 序列/ ES1/ =/ 〈/ (/ A/ ,/ 1/ )/ ,/ (/ A/ ,/ 2/ )/ ,/ (/ B/ ,/ 3/ )/ ,/ (/ D/ ,/ 4/ )/ ,/ (/ A/ ,/ 5/ )/ ,/ (/ C/ ,/ 6/ )/ ,/ (/ B/ ,/ 7/ )/ ,/ (/ B/ ,/ 8/ )/ ,/ (/ E/ ,/ 9/ )/ ,/ (/ A/ ,/ 10/ )/ ,/ (/ B/ ,/ 11/ )/ ,/ (/ A/ ,/ 12/ )/ ,/ (/ C/ ,/ 13/ )/ ,/ (/ E/ ,/ 14/ )/ ,/ (/ F/ ,/ 15/ )/ 〉/ 是/ 某/ 图书馆/ Web/ 服务器/ 上/ 记载/ 的/ 一个/ 涉及/ 多个/ 读者/ 对/ 多个/ 文档/ 的/ 阅读/ 序列/ ,/ 其中/ 字母/ 符号/ 表示/ 该/ 图书馆/ 提供/ 的/ 某个/ 文档/ ,/ 数字/ 表示/ 某/ 读者/ 对/ 相应/ 文档/ 的/ 开始/ 阅读/ 时间/ ./ 若/ 使用/ 最小/ 且/ 非/ 重叠/ 发生/ 的/ 情节/ 支持/ 度/ 定义/ ,/ 则/ 在/ 支持/ 度/ 阈值/ min/ _/ sup/ =/ 2/ 时/ ,/ ES1/ 上/ 所有/ 的/ 频繁/ 情节/ 和/ 频繁/ 闭/ 情节/ 分别/ 如表/ 1/ 和表/ 2/ 所示/ ,/ 这些/ 情节/ 刻画/ 了/ 读者/ 们/ 的/ 阅读/ 行为/ ,/ 从而/ 有助于/ 图书馆/ 人员/ 发现/ 文献/ 之间/ 的/ 关联/ 并/ 向/ 读者/ 提供/ 个性化/ 的/ 推荐/ 服务/ ./ 尽管/ 频繁/ 闭/ 情节/ 的/ 个数/ 远远/ 少于/ 频繁/ 情节/ 的/ 个数/ ,/ 但/ 直接/ 由/ 频繁/ 闭/ 情节/ 集/ 仍/ 能/ 产生/ 如表/ 3/ 所示/ 的/ 50/ 个/ 情节/ 规则/ ,/ 其中/ 存在/ 许多/ 冗余/ 规则/ ./ 情节/ 支持/ 度/ 情节/ 支持/ 度/ 情节/ 支持/ 度/ 〈/ A/ 〉/ 5/ 〈/ ABAE/ 〉/ 2/ 〈/ BAC/ 〉/ 2/ 〈/ AA/ 〉/ 2/ 〈/ ABC/ 〉/ 2/ 〈/ BACE/ 〉/ 2/ 〈/ AAB/ 〉/ 2/ 〈/ ABCE/ 〉/ 2/ 〈/ BAE/ 〉/ 2/ 〈/ AAC/ 〉/ 2/ 〈/ ABE/ 〉/ 2/ 〈/ BB/ 〉/ 2/ 〈/ AACE/ 〉/ 2/ 〈/ AC/ 〉/ 2/ 〈/ BC/ 〉/ 2/ 〈/ AAE/ 〉/ 2/ 〈/ ACE/ 〉/ 2/ 〈/ BCE/ 〉/ 2/ 〈/ AB/ 〉/ 3/ 〈/ AE/ 〉/ 2/ 〈/ BE/ 〉/ 2/ 〈/ ABA/ 〉/ 2/ 〈/ B/ 〉/ 2/ 〈/ C/ 〉/ 2/ 〈/ ABAC/ 〉/ 2/ 〈/ BA/ 〉/ 2/ 〈/ CE/ 〉/ 2/ 〈/ ABACE/ 〉/ 2/ 〈/ BAB/ 〉/ 2/ 〈/ E/ 〉/ 2/ 情节/ 支持/ 度/ 情节/ 支持/ 度/ 情节/ 支持/ 度/ 〈/ A/ 〉/ 5/ 〈/ ABACE/ 〉/ 2/ 〈/ BAB/ 〉/ 2/ 〈/ AAB/ 〉/ 2/ 〈/ B/ 〉/ 〈/ AB/ 〉/ 3/ 〈/ BA/ 〉/ 3/ 情节/ 规则/ 支持/ 度/ 置信度/ // %/ 情节/ 规则/ 支持/ 度/ 置信度/ // %/ 〈/ A/ 〉/ →/ 〈/ A/ 〉/ 240/ 〈/ AB/ 〉/ →/ 〈/ A/ 〉/ 267/ 〈/ A/ 〉/ →/ 〈/ B/ 〉/ 360/ 〈/ AB/ 〉/ →/ 〈/ C/ 〉/ 267/ 〈/ A/ 〉/ →/ 〈/ AB/ 〉/ 240/ 〈/ AB/ 〉/ →/ 〈/ E/ 〉/ 267/ 〈/ AA/ 〉/ →/ 〈/ B/ 〉/ 2100/ 〈/ AB/ 〉/ →/ 〈/ AC/ 〉/ 267/ 〈/ A/ 〉/ →/ 〈/ C/ 〉/ 240/ 〈/ AB/ 〉/ →/ 〈/ AE/ 〉/ 267/ 〈/ A/ 〉/ →/ 〈/ E/ 〉/ 240/ 〈/ AB/ 〉/ →/ 〈/ CE/ 〉/ 267/ 〈/ A/ 〉/ →/ 〈/ BA/ 〉/ 240/ 〈/ AB/ 〉/ →/ 〈/ ACE/ 〉/ 267/ 〈/ A/ 〉/ →/ 〈/ BC/ 〉/ 240/ 〈/ AA/ 〉/ →/ 〈/ C/ 〉/ 2100/ 〈/ A/ 〉/ →/ 〈/ BE/ 〉/ 240/ 〈/ AA/ 〉/ →/ 〈/ E/ 〉/ 2100/ 〈/ A/ 〉/ →/ 〈/ AC/ 〉/ 240/ 〈/ AA/ 〉/ →/ 〈/ CE/ 〉/ 2100/ 〈/ A/ 〉/ →/ 〈/ AE/ 〉/ 240/ 〈/ AC/ 〉/ →/ 〈/ E/ 〉/ 2100/ 〈/ A/ 〉/ →/ 〈/ CE/ 〉/ 240/ 〈/ BA/ 〉/ →/ 〈/ C/ 〉/ 267/ 〈/ A/ 〉/ →/ 〈/ BAC/ 〉/ 240/ 〈/ BA/ 〉/ →/ 〈/ E/ 〉/ 267/ 〈/ A/ 〉/ →/ 〈/ BAE/ 〉/ 240/ 〈/ BA/ 〉/ →/ 〈/ CE/ 〉/ 267/ 〈/ A/ 〉/ →/ 〈/ BCE/ 〉/ 240/ 〈/ BC/ 〉/ →/ 〈/ E/ 〉/ 2100/ 〈/ A/ 〉/ →/ 〈/ ACE/ 〉/ 240/ 〈/ ABA/ 〉/ →/ 〈/ C/ 〉/ 2100/ 〈/ A/ 〉/ →/ 〈/ BACE/ 〉/ 240/ 〈/ ABA/ 〉/ →/ 〈/ E/ 〉/ 2100/ 〈/ B/ 〉/ →/ 〈/ A/ 〉/ 375/ 〈/ ABA/ 〉/ →/ 〈/ CE/ 〉/ 2100/ 〈/ B/ 〉/ →/ 〈/ C/ 〉/ 250/ 〈/ ABC/ 〉/ →/ 〈/ E/ 〉/ 2100/ 〈/ B/ 〉/ →/ 〈/ E/ 〉/ 250/ 〈/ AAC/ 〉/ →/ 〈/ E/ 〉/ 2100/ 〈/ B/ 〉/ →/ 〈/ AC/ 〉/ 250/ 〈/ BAC/ 〉/ →/ 〈/ E/ 〉/ 2100/ 〈/ B/ 〉/ →/ 〈/ AE/ 〉/ 250/ 〈/ ABAC/ 〉/ →/ 〈/ E/ 〉/ 2100/ 〈/ B/ 〉/ →/ 〈/ CE/ 〉/ 250/ 〈/ B/ 〉/ →/ 〈/ B/ 〉/ 250/ 〈/ B/ 〉/ →/ 〈/ ACE/ 〉/ 250/ 〈/ B/ 〉/ →/ 〈/ AB/ 〉/ 250/ 〈/ C/ 〉/ →/ 〈/ E/ 〉/ 2100/ 〈/ BA/ 〉/ →/ 〈/ B/ 〉/ 2671999/ 年/ ,/ Pasquier/ 等/ 人/ [/ 9/ ]/ 引入/ 了/ 项集/ 生成/ 子/ 的/ 概念/ :/ 一个/ 项集/ 称为/ 生成/ 子/ ,/ 当且/ 仅/ 当/ 该项/ 集/ 不/ 存在/ 与其/ 支持/ 度/ 相同/ 的/ 任何/ 一个/ 真/ 子集/ ./ 在/ 一个/ 交易/ 数据库/ 中/ ,/ 包含/ 在/ 相同/ 交易/ 集/ 的/ 项集/ 的/ 集合/ 称为/ 一个/ 等价/ 类/ [/ 10/ ]/ ,/ 生成/ 子和闭/ 项集/ 可以/ 将/ 交易/ 数据库/ 中/ 所有/ 项/ 集合/ 的/ 幂集/ 划分/ 为/ 不同/ 的/ 等价/ 类/ ,/ 在/ 每个/ 这样/ 的/ 等价/ 类中/ ,/ 项集/ 生成/ 子/ 是/ 最小/ 的/ 元素/ ,/ 而/ 闭项/ 集则/ 是/ 最大/ 的/ 元素/ ./ 根据/ 最小/ 描述/ 长度/ MDL/ 原理/ ,/ Li/ 等/ 人/ [/ 11/ ]/ 证明/ 了/ 项集/ 生成/ 子/ 对于/ 其/ 所属/ 的/ 等价/ 类/ 具有/ 最小/ 的/ 描述/ 长度/ ,/ 可以/ 避免/ 对/ 训练/ 数据/ 集/ 的/ “/ 过/ 拟合/ ”/ 和/ 抗/ 噪音/ 能力差/ 等/ 问题/ ,/ 因此/ ,/ 项集/ 生成/ 子/ 比/ 频繁/ 闭项/ 集/ 更/ 适于/ 分类/ 应用/ ./ 基于/ 频繁/ 闭项/ 集/ 及其/ 生成/ 子/ 可以/ 直接/ 产生/ 具有/ 最小/ 前件/ 和/ 最大/ 后件/ 的/ 无/ 冗余/ 关联/ 规则/ 基/ ,/ 典型/ 算法/ 有/ Gen/ [/ 12/ ]/ 、/ DPMiner/ [/ 13/ ]/ 等/ ./ 依据/ 交易/ 数据库/ 等价/ 类/ 和/ 项集/ 生成/ 子/ 的/ 定义/ ,/ Lo/ 等/ 人/ [/ 14/ ]/ 引入/ 了/ 序列/ 数据库/ 等价/ 类/ 和/ 序列/ 模式/ 生成/ 子/ 的/ 概念/ :/ 一个/ 序列/ 数据库/ 中/ 包含/ 在/ 相同/ 序列/ 集/ 的/ 序列/ 模式/ 的/ 集合/ 称为/ 一个/ 等价/ 类/ ;/ 一个/ 序列/ 模式/ 称为/ 生成/ 子/ ,/ 当且/ 仅/ 当该/ 序列/ 模式/ 不/ 存在/ 与其/ 支持/ 度/ 相同/ 的/ 任何/ 一个/ 真子/ 序列/ 模式/ ./ 基于/ MDL/ 原理/ ,/ 他们/ 同样/ 证明/ 了/ 序列/ 模式/ 生成/ 子比闭/ 序列/ 模式/ 更/ 适于/ 解决/ 分类/ 问题/ ,/ 并且/ 提出/ 了/ 由/ 搜索/ 空间/ 压缩/ 、/ 发现/ 生成/ 子/ 超集/ 、/ 筛选/ 非/ 生成/ 子/ 3/ 个/ 步骤/ 组成/ 的/ 序列/ 模式/ 生成/ 子/ 挖掘/ 算法/ GenMiner/ ./ Page3/ 然而/ ,/ 关联/ 规则/ 和/ 序列/ 模式/ 的/ 挖掘/ 是/ 针对/ 一个/ 交易/ 数据库/ 或/ 序列/ 数据库/ ,/ 相关/ 的/ 算法/ 并/ 不能/ 直接/ 应用/ 于/ 针对/ 一个/ 事件/ 序列/ 的/ 情节/ 规则/ 挖掘/ ./ 目前/ 尚无/ 文献/ 报道/ 利用/ 情节/ 生成/ 子来/ 抽取/ 无/ 冗余/ 情节/ 规则/ 的/ 相关/ 研究/ ./ 能否/ 结合/ 项集/ 生成/ 子及/ 序列/ 模式/ 生成/ 子/ 的/ 概念/ 来/ 定义/ 情节/ 生成/ 子/ ?/ 情节/ 生成/ 子/ 是否/ 具有/ 与/ 项集/ 生成/ 子/ 一样/ 的/ Apriori/ 性质/ ?/ 能否/ 借鉴/ 无/ 冗余/ 关联/ 规则/ 基的/ 挖掘/ 方法/ 来/ 抽取/ 无/ 冗余/ 情节/ 规则/ ?/ 这些/ 正是/ 本文/ 研究/ 的/ 主要/ 动机/ ./ 为此/ ,/ 我们/ 引入/ 了/ 情节/ 生成/ 子/ 的/ 概念/ 和/ 非/ 生成/ 子/ 情节/ 的/ Apriori/ 性质/ ,/ 并/ 提出/ 了/ 一个/ 情节/ 规则/ 的/ 抽取/ 算法/ Extractor/ ./ 该/ 算法/ 采用/ 最小/ 且/ 非/ 重叠/ 发生/ 的/ 支持/ 度/ 定义/ 和/ 深度/ 优先/ 的/ 搜索/ 策略/ 来/ 发现/ 频繁/ 闭/ 情节/ 及其/ 生成/ 子/ ,/ 保证/ 了/ 频繁/ 闭/ 情节/ 及其/ 生成/ 子/ 的/ 挖掘/ 质量/ 和/ 挖掘/ 效率/ ;/ 利用/ 非/ 生成/ 子/ 情节/ 的/ Apriori/ 性质/ ,/ 避免/ 了/ 冗余/ 的/ 情节/ 生成/ 子/ 判断/ ;/ 直接/ 由/ 频繁/ 闭/ 情节/ 及其/ 生成/ 子/ 产生/ 无/ 冗余/ 情节/ 规则/ ,/ 提高/ 了/ 情节/ 规则/ 的/ 生成/ 质量/ 和/ 生成/ 效率/ ./ 理论/ 分析/ 和/ 实验/ 评估/ 证明/ 该/ 算法/ 能/ 有效/ 地/ 抽取/ 给定/ 事件/ 序列/ 上/ 的/ 所有/ 无/ 冗余/ 情节/ 规则/ ./ 2/ 相关/ 工作/ 关联/ 规则/ 的/ 挖掘/ 研究/ 由来已久/ ,/ 针对/ 如何/ 控制/ 由/ 频繁/ 项集/ 产生/ 的/ 关联/ 规则/ 数量/ 问题/ ,/ Pasquier/ 等/ 人/ [/ 9/ ]/ 引入/ 了/ 项集/ 生成/ 子/ 的/ 概念/ :/ 不/ 存在/ 与其/ 支持/ 度/ 相同/ 的/ 任何/ 一个/ 真/ 子集/ 的/ 项集/ ,/ 并/ 提出/ 了/ 频繁/ 闭项/ 集/ 的/ 挖掘/ 算法/ A/ -/ Close/ ;/ Bastide/ 等/ 人/ [/ 12/ ]/ 根据/ Galois/ 连接/ 的/ 闭包/ 定义/ 了/ 两种/ 关联/ 规则/ 基/ :/ 具有/ 最小/ 前件/ 和/ 最大/ 后件/ 的/ 精确/ 关联/ 规则/ (/ 置信度/ 等于/ 100/ %/ 的/ 关联/ 规则/ )/ 组成/ 的/ 无/ 冗余/ 精确/ 关联/ 规则/ 基/ 、/ 具有/ 最小/ 前件/ 和/ 最大/ 后件/ 的/ 近似/ 关联/ 规则/ (/ 置信度/ 小于/ 100/ %/ 的/ 关联/ 规则/ )/ 组成/ 的/ 无/ 冗余/ 近似/ 关联/ 规则/ 基/ ,/ 并/ 提出/ 了/ 直接/ 由/ 频繁/ 闭项/ 集/ 及其/ 生成/ 子来/ 产生/ 无/ 冗余/ 关联/ 规则/ 基的/ 算法/ Gen/ ./ 与/ Gen/ 算法/ 中/ 的/ 广度/ 优先/ 搜索/ 策略/ 不同/ ,/ Li/ 等/ 人/ [/ 13/ ]/ 提出/ 的/ 算法/ DPMiner/ 采用/ 了/ 深度/ 优先/ 的/ 搜索/ 策略/ ,/ 利用/ 倒置/ 的/ FP/ 树来/ 发现/ 频繁/ 闭项/ 集/ 及其/ 生成/ 子/ ,/ 进而/ 产生/ 交易/ 数据库/ 中/ 具有/ δ/ 差异/ 的/ 等价/ 类/ ./ 为了/ 拓展/ 生成/ 子/ 在/ 序列/ 模式/ 挖掘/ 中/ 的/ 应用/ ,/ Lo/ 等/ 人/ [/ 14/ ]/ 引入/ 了/ 序列/ 数据库/ 等价/ 类/ 和/ 序列/ 模式/ 生成/ 子/ 的/ 概念/ ,/ 并/ 结合/ 序列/ 数据库/ 等价/ 类/ 的/ 特性/ ,/ 提出/ 了/ 序列/ 模式/ 生成/ 子/ 的/ 挖掘/ 算法/ GenMiner/ ./ 该/ 算法/ 首先/ 采用/ 深度/ 优先/ 的/ 搜索/ 策略/ 来/ 创建/ 存储/ 了/ 所有/ 序列/ 模式/ 的/ 前缀/ 搜索/ 树/ PSL/ ,/ 然后/ 通过/ 遍历/ PSL/ 得到/ 包含/ 所有/ 序列/ 模式/ 生成/ 子/ 的/ 超集/ Gen/ -/ S/ ,/ 最后/ 根据/ 比较/ Gen/ -/ S/ 中/ 2/ 个/ 序列/ 模式/ 的/ 支持/ 度来/ 筛选/ 非/ 生成/ 子/ 的/ 序列/ 模式/ ./ 然而/ ,/ 情节/ 规则/ 的/ 挖掘/ 有别于/ 关联/ 规则/ 与/ 序列/ 模式/ 的/ 挖掘/ ,/ 前者/ 挖掘/ 的/ 对象/ 是/ 一个/ 事件/ 序列/ ,/ 并非/ 是/ 一个/ 事务/ 数据库/ 和/ 序列/ 数据库/ ./ Mannila/ 等/ 人/ [/ 1/ ]/ 首先/ 引入/ 了/ 情节/ 规则/ 的/ 概念/ :/ 带有/ 两个/ 时间/ 约束/ 的/ 情节/ 规则/ 可以/ 表示/ 为/ β/ [/ win1/ ]/ →/ α/ [/ win2/ ]/ ,/ 其中/ β/ / α/ ,/ 即/ β/ 是/ α/ 的/ 子/ 情节/ ,/ win1/ 、/ win2/ 分别/ 是/ 两个/ 时间/ 窗口/ ./ 该/ 规则/ 的/ 语义/ 是/ 若/ 情节/ β/ 在/ 一个/ 不/ 超过/ win1/ 的/ 最小/ 区间/ [/ ts/ ,/ te/ ]/ 上/ 发生/ ,/ 则/ 情节/ α/ 将会/ 在/ 不/ 超过/ win2/ 的/ 最小/ 区间/ [/ ts/ ,/ te/ ]/ 上/ 发生/ ./ 随后/ ,/ Hatonen/ 等/ 人/ [/ 2/ ]/ 基于/ 通信/ 故障诊断/ 的/ 应用/ 背景/ ,/ 提出/ 了/ 挖掘/ 给定/ 事件/ 序列/ 上/ 所有/ 情节/ 规则/ 的/ 算法/ TASA/ ,/ 该/ 算法/ 分为/ 3/ 个/ 步骤/ :/ 首先/ ,/ 基于/ 广度/ 优先/ 的/ 搜索/ 策略/ 和/ 滑动/ 窗口/ 的/ 情节/ 支持/ 度/ 定义/ ,/ 通过/ 多遍/ 扫描/ 事件/ 序列/ ,/ 以/ 候选/ 、/ 剪枝/ 再/ 测试/ 的/ 处理/ 方式/ 发现/ 频繁/ 情节/ ;/ 其次/ ,/ 由/ 频繁/ 情节/ 集/ 产生/ 情节/ 规则/ 集/ ;/ 最后/ ,/ 使用/ Pruning/ 、/ Ordering/ 、/ Grouping/ 等/ 技术/ 来/ 筛选/ 冗余/ 的/ 情节/ 规则/ ./ 为了/ 在/ 产生/ 情节/ 规则/ 的/ 同时/ ,/ 能够/ 发现/ 使/ 情节/ 规则/ 具有/ 最大/ 置信度/ 的/ 最小/ 时间/ 窗口/ ,/ Meger/ 等/ 人/ [/ 3/ ]/ 于/ 2004/ 年/ 提出/ 了/ 算法/ WinMiner/ ,/ 该/ 算法/ 采用/ 了/ 深度/ 优先/ 的/ 搜索/ 策略/ 和/ 最小/ 发生/ 的/ 情节/ 支持/ 度/ 定义/ ,/ 只/ 需/ 单遍/ 扫描/ 事件/ 序列/ ,/ 且/ 不会/ 产生/ 任何/ 候选/ 情节/ ,/ 但/ 其/ 情节/ 规则/ 集/ 的/ 产生/ 也/ 是/ 直接/ 基于/ 频繁/ 情节/ 集/ ./ 近年来/ ,/ 流/ 数据/ 的/ 日益/ 普及/ 使得/ 上述/ 情节/ 规则/ 挖掘/ 方法/ 得到/ 了/ 广泛/ 的/ 应用/ ,/ 如/ 基于/ 传感器/ 网络/ 的/ 大规模/ 数据管理/ [/ 4/ ]/ 、/ 集/ 误用/ 检测/ 和/ 异常/ 检测/ 于/ 一体/ 的/ 网络安全/ 监控/ [/ 5/ ]/ 、/ 金融/ 事件/ 关联/ 与/ 股票价格/ 趋势/ 的/ 分析/ [/ 6/ ]/ 、/ 基于/ 程序验证/ 与/ 缺陷/ 发现/ 的/ 软件/ 规范/ 挖掘/ [/ 7/ ]/ 、/ 动态/ 系统/ 中/ 事件/ 日志/ 的/ 概要/ 分析/ [/ 8/ ]/ 等/ ./ 针对/ 现有/ 情节/ 规则/ 挖掘/ 算法/ 存在/ 的/ 不足/ ,/ 本文/ 提出/ 了/ 一个/ 基于/ 事件/ 序列/ 上/ 的/ 频繁/ 闭/ 情节/ 及其/ 生成/ 子来/ 抽取/ 所有/ 无/ 冗余/ 情节/ 规则/ 的/ 算法/ Extractor/ ./ 表/ 4/ 列出/ 了/ 本文/ 提出/ 的/ 算法/ Extractor/ 与/ 现有/ 相关/ 算法/ 的/ 主要/ 区别/ ./ 算法/ 搜索/ 策略/ 情节/ 的/ 支持/ 度/ 计算方法/ 挖掘/ 结果/ TASA/ [/ 2/ ]/ 广度/ 优先/ 滑动/ 窗口/ (/ 可能/ 重叠/ )/ 所有/ 情节/ 规则/ WinMiner/ [/ 3/ ]/ 深度/ 优先/ 最小/ 发生/ (/ 可能/ 重叠/ )/ 所有/ 情节/ 规则/ Gen/ [/ 12/ ]/ 广度/ 优先/ DPMiner/ [/ 13/ ]/ 深度/ 优先/ GenMiner/ [/ 14/ ]/ 深度/ 优先/ Extractor/ (/ 本文/ )/ 深度/ 优先/ 最小/ 且/ 非/ 重叠/ 发生/ 无/ 冗余/ 情节/ Page43/ 预备/ 知识/ 3.1/ 基本概念/ 定义/ 1/ (/ 事件/ ,/ 事件/ 序列/ ,/ 子/ 序列/ )/ ./ 给定/ 一个/ 事件/ 类型/ 集/ ε/ =/ {/ E1/ ,/ E2/ ,/ …/ ,/ En/ }/ ,/ 一个/ 事件/ 就是/ 一个二元/ 组/ (/ E/ ,/ t/ )/ ,/ 其中/ ,/ E/ ∈/ ε/ ,/ t/ 表示/ 该/ 事件/ 的/ 发生/ 时间/ ./ 定义/ 在/ ε/ 上/ 的/ 一个/ 事件/ 序列/ ES/ 是/ 由/ 若干/ 事件/ 按/ 发生/ 时间/ 先后/ 排列/ 的/ 序列/ ,/ 表示/ 为/ ES/ =/ 〈/ (/ E1/ ,/ t1/ )/ ,/ (/ E2/ ,/ t2/ )/ ,/ …/ ,/ (/ Es/ ,/ ts/ )/ 〉/ ,/ 其中/ ti/ </ tj/ (/ 1/ / i/ </ j/ / s/ )/ ./ 给定/ 两个/ 序列/ ES/ 和/ ES/ ,/ 若/ ES/ =/ ES/ 或/ ES/ 是/ 由/ ES/ 删除/ 某些/ 事件/ 后/ 得到/ 的/ 剩余/ 序列/ ,/ 则/ 称/ ES/ 是/ ES/ 的/ 子/ 序列/ ./ 定义/ 2/ (/ 情节/ ,/ 子/ 情节/ )/ ./ 一个/ 情节/ α/ 是/ 由/ 若干/ 事件/ 类型/ 组成/ 的/ 序列/ ,/ 表示/ 为/ α/ =/ 〈/ E1E2/ …/ Ek/ 〉/ ,/ 其中/ 元素/ Ei/ (/ 1/ / i/ / k/ )/ ∈/ ε/ 且/ 对于/ 所有/ 的/ i/ 和/ j/ (/ 1/ / i/ </ j/ / k/ )/ 满足/ Ei/ 总是/ 排列/ 在/ Ej/ 之前/ ./ 情节/ α/ 中/ 的/ 元素/ 个数/ 称为/ α/ 的/ 长度/ ,/ 记/ 为/ |/ α/ |/ ./ 长度/ 为/ k/ 的/ 情节/ 也/ 称为/ k/ -/ 情节/ ./ 给定/ 情节/ α/ =/ 〈/ E1E2/ …/ Em/ 〉/ 和/ β/ =/ 〈/ E1E2/ …/ Ek/ 〉/ ,/ 若/ 至少/ 存在/ 一个/ 整数/ 序列/ 1/ / l1/ </ l2/ </ …/ / lk/ ,/ 满足/ Ei/ =/ Eli/ (/ 1/ / i/ / k/ )/ ,/ 则/ 称/ β/ 是/ α/ 的/ 一个/ 子/ 情节/ ,/ 或/ α/ 是/ β/ 的/ 一个/ 超/ 情节/ ,/ 记/ 为/ β/ / α/ 或/ α/ / β/ ./ 若/ β/ / α/ 且/ β/ ≠/ α/ ,/ 则/ 称/ β/ 是/ α/ 的/ 一个/ 真子/ 情节/ ,/ 或/ α/ 是/ β/ 的/ 一个/ 真超/ 情节/ ,/ 记/ 为/ β/ / α/ 或/ α/ / β/ ./ 定义/ 3/ (/ 前缀/ ,/ 后缀/ ,/ 串接/ ,/ 投影/ )/ ./ 给定/ 情节/ α/ =/ 〈/ E1E2/ …/ En/ 〉/ ,/ 若/ 对于/ 所有/ 的/ i/ (/ 1/ / i/ / m/ </ n/ )/ ,/ 满足/ Ei/ =/ Ei/ ,/ 则/ 称/ 情节/ β/ =/ 〈/ E1E2/ …/ Em/ 〉/ 是/ α/ 的/ m/ -/ 前缀/ ,/ 记为/ prefix/ (/ α/ ,/ m/ )/ ./ 给定/ 情节/ α/ =/ 〈/ E1E2/ …/ Ek/ 〉/ (/ k/ >/ 1/ )/ ,/ 称/ 情节/ 〈/ EiEi/ +/ 1/ …/ Ek/ 〉/ (/ 2/ / i/ / k/ )/ 是/ α/ 的/ i/ -/ 后缀/ ,/ 记为/ suffix/ (/ α/ ,/ i/ )/ ./ 给定/ 情节/ α/ =/ 〈/ E1E2/ …/ Em/ 〉/ 和/ β/ =/ 〈/ E1E2/ …/ Ek/ 〉/ ,/ 则/ 〈/ E1E2/ …/ EmE1E2/ …/ Ek/ 〉/ 称为/ α/ 和/ β/ 的/ 串接/ ,/ 记为/ concat/ (/ α/ ,/ β/ )/ ./ 设/ β/ / α/ ,/ j/ 是/ β/ 在/ α/ 中/ 首次/ 出现/ 的/ 结束/ 位置/ ,/ 则/ 从/ α/ 中/ 删除/ 第/ 1/ 至/ 第/ j/ 个/ 事件/ 类型/ 后/ 剩余/ 的/ 情节/ 称为/ β/ 在/ α/ 上/ 的/ 投影/ ,/ 记为/ project/ (/ α/ ,/ β/ )/ ./ 定义/ 4/ (/ 前向/ 扩展/ ,/ 后/ 向/ 扩展/ ,/ 中间/ 扩展/ )/ ./ 设/ k/ -/ 情节/ α/ =/ 〈/ E1E2/ …/ Ek/ 〉/ ,/ e/ 为/ 1/ -/ 情节/ ,/ 则/ 〈/ E1E2/ …/ Eke/ 〉/ 、/ 〈/ eE1E2/ …/ Ek/ 〉/ 和/ 〈/ E1/ …/ EieEi/ +/ 1/ …/ Ek/ 〉/ 分别/ 称为/ α/ 的/ 前/ 向/ 扩展/ 、/ 后/ 向/ 扩展/ 和/ 中间/ 扩展/ ./ 实际上/ ,/ α/ 的/ 前/ 向/ 扩展/ 也/ 是/ 以/ α/ 为/ 前缀/ 、/ e/ 为/ 后缀/ 进行/ 情节/ 增长/ 后/ 得到/ 的/ 情节/ concat/ (/ α/ ,/ e/ )/ ./ 定义/ 5/ (/ 发生/ )/ ./ 给定/ 事件/ 序列/ ES/ 和/ 情节/ α/ =/ 〈/ E1E2/ …/ Ek/ 〉/ ,/ 若/ 至少/ 存在/ ES/ 的/ 一个/ 子/ 序列/ ES/ =/ 〈/ (/ E1/ ,/ t1/ )/ ,/ (/ E2/ ,/ t2/ )/ ,/ …/ ,/ (/ Ek/ ,/ tk/ )/ 〉/ ,/ 满足/ ti/ </ ti/ +/ 1/ (/ 1/ / i/ / k/ -/ 1/ )/ ,/ 则/ 称/ ES/ 上/ 发生/ (/ 或/ 出现/ )/ 了/ 情节/ α/ ,/ 区间/ [/ t1/ ,/ tk/ ]/ 称为/ α/ 在/ ES/ 上/ 的/ 一次/ 发生/ ,/ 其中/ t1/ 和/ tk/ 分别/ 称为/ 该/ 发生/ 的/ 起始/ 时间/ 和/ 终止/ 时间/ ./ 定义/ 6/ (/ 最小/ 发生/ )/ ./ 设/ [/ ts/ ,/ te/ ]/ 是/ 情节/ α/ 在/ 事件/ 序列/ ES/ 上/ 的/ 一次/ 发生/ ,/ 若/ 在/ ES/ 上/ 不/ 存在/ α/ 的/ 另/ 一次/ 发生/ [/ ts/ ,/ te/ ]/ ,/ 使得/ ts/ </ ts/ 且/ te/ / te/ ,/ 或/ ts/ / ts/ 且/ te/ </ te/ ,/ 即/ [/ ts/ ,/ te/ ]/ / [/ ts/ ,/ te/ ]/ ,/ 则/ 称/ [/ ts/ ,/ te/ ]/ 是/ α/ 在/ ES/ 上/ 的/ 一次/ 最小/ 发生/ ./ 定义/ 7/ (/ 最小/ 且/ 非/ 重叠/ 发生/ )/ ./ 设/ [/ ts/ ,/ te/ ]/ 和/ [/ ts/ ,/ te/ ]/ 是/ 情节/ α/ 在/ 事件/ 序列/ ES/ 上/ 的/ 两次/ 发生/ ,/ 若/ (/ 1/ )/ te/ </ ts/ 或/ te/ </ ts/ ;/ 且/ (/ 2/ )/ [/ ts/ ,/ te/ ]/ 和/ [/ ts/ ,/ te/ ]/ 都/ 是/ α/ 的/ 最小/ 发生/ ,/ 则/ [/ ts/ ,/ te/ ]/ 和/ [/ ts/ ,/ te/ ]/ 是/ α/ 在/ ES/ 上/ 的/ 最小/ 且/ 非/ 重叠/ 发生/ ./ 定义/ 8/ (/ 支持/ 度/ )/ ./ 情节/ α/ 在/ 事件/ 序列/ ES/ 上/ 所有/ 最小/ 且/ 非/ 重叠/ 发生/ 组成/ 的/ 最大/ 集合/ 的/ 基数/ 称为/ α/ 的/ 支持/ 度/ ,/ 记/ 为/ α/ ./ sup/ ./ 定义/ 9/ (/ 频繁/ 情节/ ,/ 频繁/ 闭/ 情节/ ,/ 情节/ 生成/ 子/ )/ ./ 给定/ 支持/ 度/ 阈值/ min/ _/ sup/ ,/ 若/ 情节/ α/ 的/ 支持/ 度/ 大于/ 等于/ min/ _/ sup/ ,/ 则/ α/ 是/ 一个/ 频繁/ 情节/ ./ 若/ 情节/ α/ 是/ 频繁/ 的/ ,/ 且/ α/ 的/ 任何/ 一个/ 真超/ 情节/ 的/ 支持/ 度均/ 不/ 等于/ α/ 的/ 支持/ 度/ ,/ 则/ α/ 是/ 一个/ 频繁/ 闭/ 情节/ ./ 设/ f/ 是/ 一个/ 闭/ 情节/ ,/ g/ / f/ ,/ 若/ g/ 的/ 支持/ 度/ 等于/ f/ 的/ 支持/ 度/ ,/ 且/ g/ 不/ 存在/ 与其/ 支持/ 度/ 相同/ 的/ 任何/ 一个/ 真子/ 情节/ ,/ 则/ g/ 称为/ 闭/ 情节/ f/ 的/ 一个/ 情节/ 生成/ 子/ ./ 定义/ 10/ (/ 情节/ 规则/ )/ ./ 一个/ 情节/ 规则/ γ/ 是/ 一个/ 五元/ 组/ (/ l/ ,/ r/ ,/ s/ ,/ c/ ,/ w/ )/ ./ 其中/ ,/ l/ 、/ r/ 、/ s/ 、/ c/ 、/ w/ 分别/ 称为/ γ/ 的/ 前件/ 、/ 后/ 件/ 、/ 支持/ 度/ 、/ 置信度/ 和/ 窗口/ 宽度/ ./ 情节/ 规则/ γ/ 的/ 支持/ 度/ 用于/ 衡量/ 该/ 规则/ 在/ 事件/ 序列/ 上/ 的/ 统计/ 特性/ ,/ 它/ 等于/ 情节/ concat/ (/ γ/ ./ l/ ,/ γ/ ./ r/ )/ 的/ 支持/ 度/ ;/ 情节/ 规则/ γ/ 的/ 置信度/ 用于/ 衡量/ 该/ 规则/ 的/ 可信/ 程度/ ,/ 它/ 等于/ 情节/ concat/ (/ γ/ ./ l/ ,/ γ/ ./ r/ )/ 的/ 支持/ 度/ 与/ 情节/ γ/ ./ l/ 的/ 支持/ 度/ 比值/ ./ 情节/ 规则/ γ/ 的/ 窗口/ 宽度/ 用于/ 约束/ 该/ 规则/ 的/ 前件/ 和/ 后件/ 必须/ 在/ 这个/ 指定/ 的/ 时间/ 区间/ 内/ 先后/ 发生/ ,/ 它/ 等于/ 情节/ concat/ (/ γ/ ./ l/ ,/ γ/ ./ r/ )/ 的/ 所有/ 最小/ 且/ 非/ 重叠/ 发生/ 的/ 平均/ 时间/ ./ 定义/ 11/ (/ 无/ 冗余/ 情节/ 规则/ )/ ./ 给定/ 情节/ 规则/ γ/ (/ l/ ,/ r/ ,/ s/ ,/ c/ ,/ w/ )/ ,/ 若/ 不/ 存在/ 情节/ 规则/ γ/ (/ l/ ,/ r/ ,/ s/ ,/ c/ ,/ w/ )/ ,/ 使得/ γ/ ./ s/ =/ γ/ ./ s/ ,/ γ/ ./ c/ =/ γ/ ./ c/ ,/ γ/ ./ l/ / γ/ ./ l/ ,/ γ/ ./ r/ / γ/ ./ r/ ,/ 则/ 称/ γ/ 是/ 一个/ 无/ 冗余/ 情节/ 规则/ ,/ 否则/ 是/ 一个/ 冗余/ 情节/ 规则/ ./ 在/ 所有/ 支持/ 度/ 相同/ 且/ 置信度/ 相同/ 的/ 情节/ 规则/ 中/ ,/ 无/ 冗余/ 情节/ 规则/ 同时/ 具有/ 最小/ 的/ 前件/ 和/ 最大/ 的/ 后件/ ./ 3.2/ 问题/ 描述/ 给定/ 事件/ 序列/ ES/ 、/ 支持/ 度/ 阈值/ min/ _/ sup/ 和/ 置/ Page5/ 信度/ 阈值/ min/ _/ conf/ ,/ 则/ 问题/ 可以/ 描述/ 为/ :/ 设计/ 一个/ 能够/ 抽取/ ES/ 上/ 所有/ 无/ 冗余/ 情节/ 规则/ 的/ 算法/ ,/ 要求/ :/ (/ 1/ )/ 单遍/ 扫描/ ES/ ,/ 发现/ 频繁/ 情节/ 的/ 过程/ 中/ 不/ 产生/ 候选/ 情节/ ;/ (/ 2/ )/ 直接/ 由/ 发现/ 的/ 频繁/ 闭/ 情节/ 及其/ 生成/ 子/ 产生/ 无/ 冗余/ 情节/ 规则/ ./ 4/ 无/ 冗余/ 情节/ 规则/ 抽取/ 算法/ Extractor4/ ./ 1/ 算法/ 描述/ 文献/ [/ 15/ ]/ 提出/ 了/ 算法/ MANEPI/ 以/ 发现/ 给定/ 事件/ 序列/ 上/ 的/ 频繁/ 情节/ ,/ 该/ 算法/ 采用/ 深度/ 优先/ 的/ 搜索/ 策略/ 和/ 最小/ 且/ 非/ 重叠/ 发生/ 的/ 支持/ 度/ 定义/ ,/ 只/ 需/ 单遍/ 扫描/ 事件/ 序列/ ,/ 且/ 挖掘/ 过程/ 避免/ 了/ 候选/ 情节/ 的/ 产生/ 和/ 情节/ 发生/ 的/ “/ 过/ 计数/ ”/ 问题/ ,/ 具有/ 较/ 高/ 的/ 挖掘/ 效率/ 和/ 挖掘/ 质量/ ./ 为此/ ,/ 本文/ 提出/ 的/ 算法/ Extractor/ 采用/ 了/ 与/ MANEPI/ 一样/ 的/ 搜索/ 策略/ 和/ 支持/ 度/ 定义/ ,/ 但/ 与/ MANEPI/ 不同/ 的/ 是/ ,/ 算法/ Extractor/ 旨在/ 发现/ 频繁/ 闭/ 情节/ 及其/ 生成/ 子/ ,/ 并/ 进而/ 直接/ 由/ 频繁/ 闭/ 情节/ 及其/ 生成/ 子/ 产生/ 无/ 冗余/ 情节/ 规则/ ./ 下面/ 是/ Extractor/ 的/ 伪/ 代码/ ./ Extractor/ (/ ES/ ,/ min/ _/ sup/ ,/ min/ _/ conf/ )/ ./ Input/ :/ ES/ :/ aneventsequence/ =/ 〈/ (/ E1/ ,/ t1/ )/ ,/ (/ E2/ ,/ t2/ )/ ,/ …/ ,/ Output/ :/ R/ :/ asetofallnon/ -/ redundantepisoderules1/ ./ LetFE/ =/ / 2/ ./ ScanESoncetofindallfrequent1/ -/ episodesand3/ ./ Foreachfrequent1/ -/ episodeedo4/ ./ MineGrow/ (/ e/ )/ 5/ ./ Foreach/ α/ ∈/ FEdo6/ ./ CheckClosure/ (/ α/ )/ 7/ ./ CheckGenerator/ (/ α/ )/ 8/ ./ FormRule/ (/ FE/ ,/ min/ _/ conf/ ,/ R/ )/ 9/ ./ ReturnRProcedureMineGrow/ (/ α/ )/ Input/ :/ α/ :/ anepisodetobegrownObjective/ :/ growtheexistingfrequentepisode/ α/ 1/ ./ Foreachfrequent1/ -/ episodeedo2/ ./ Let/ β/ =/ concat/ (/ α/ ,/ e/ )/ 3/ ./ If/ β/ ./ s/ / min/ _/ sup4/ ./ Let/ β/ ./ clo/ =/ β/ ./ gen/ =/ 05/ ./ LetFE/ =/ FE/ ∪/ β/ 6/ ./ If/ β/ ./ s/ =/ α/ ./ s7/ ./ Let/ β/ ./ gen/ =/ -/ 18/ ./ If/ α/ ./ clo/ =/ 09/ ./ Let/ α/ ./ clo/ =/ -/ 110/ ./ MineGrow/ (/ β/ )/ 4.2/ 生成/ 子/ 检查/ 算法/ Extractor/ 的/ 关键步骤/ 之一/ 是/ 如何/ 确定/ 一个/ 情节/ 是否/ 为/ 生成/ 子/ ./ 项集/ 生成/ 子/ 具有/ 如下/ Apriori/ 性质/ [/ 14/ ]/ :/ “/ 若/ 一个/ 项集/ 是/ 一个/ 频繁/ 闭项/ 集/ 的/ 生成/ 子/ ,/ 则/ 该/ 生成/ 子/ 的/ 真/ 子集/ 也/ 是/ 这个/ 频繁/ 闭项/ 集/ 的/ 生成/ 子/ ”/ ,/ 这个/ 性质/ 可以/ 用来/ 加快/ 项集/ 生成/ 子/ 的/ 挖掘/ ./ 那么/ ,/ 情节/ 生成/ 子/ 是否/ 也/ 具有/ 类似/ 的/ Apriori/ 性质/ :/ 若/ 一个/ 情节/ 是/ 一个/ 频繁/ 闭/ 情节/ 的/ 生成/ 子/ ,/ 则/ 该/ 生成/ 子/ 的/ 真子/ 情节/ 也/ 是/ 这个/ 频繁/ 闭/ 情节/ 的/ 生成/ 子/ ?/ 以表/ 1/ 和表/ 2/ 为例/ ,/ 情节/ 〈/ AA/ 〉/ 是/ 频繁/ 闭/ 情节/ 〈/ ABACE/ 〉/ 的/ 一个/ 生成/ 子/ ,/ 因为/ 〈/ AA/ 〉/ 的/ 支持/ 度/ 等于/ 〈/ ABACE/ 〉/ 的/ 支持/ 度/ ,/ 且/ 〈/ AA/ 〉/ 不/ 存在/ 与其/ 具有/ 相同/ 支持/ 度/ 的/ 任何/ 真子/ 情节/ ./ 然而/ ,/ 〈/ AA/ 〉/ 的/ 一个/ 真子/ 情节/ 〈/ A/ 〉/ 却/ 不是/ 〈/ ABACE/ 〉/ 的/ 生成/ 子/ ,/ 这/ 是因为/ 〈/ A/ 〉/ 的/ 支持/ 度/ 并不等于/ 〈/ ABACE/ 〉/ 的/ 支持/ 度/ ./ 尽管/ 情节/ 生成/ 子/ 不/ 具有/ Apriori/ 性质/ ,/ 但是/ 一些/ 非/ 生成/ 子/ 情节/ 却/ 具有/ 引理/ 1/ 所示/ 的/ Apriori/ 性质/ ,/ 它/ 可以/ 用来/ 加快/ 情节/ 生成/ 子/ 的/ 发现/ ./ 引理/ 1/ ./ 给定/ 一个/ 情节/ α/ ,/ 如果/ 存在/ α/ 的/ 一个/ 真子/ 情节/ β/ ,/ 使得/ β/ ./ mano/ =/ α/ ./ mano/ ,/ 则/ 情节/ α/ 及/ 以/ 其/ 为/ 前缀/ 的/ 其它/ 任何/ 情节/ 都/ 是非/ 生成/ 子/ 情节/ ./ 证明/ ./ (/ 1/ )/ 根据/ 定义/ 9/ 可知/ ,/ 情节/ α/ 是/ 一个/ 非/ 生成/ 子/ 情节/ ;/ (/ 2/ )/ 因/ α/ ./ mano/ =/ β/ ./ mano/ ,/ 故/ 对于/ 已知/ 事件/ 序列/ 上/ 的/ 任何/ 一个/ 频繁/ 1/ -/ 情节/ e/ 而言/ ,/ 只要/ 能以/ α/ 为/ 前缀/ 、/ e/ 为/ 后缀/ 进行/ 情节/ 增长/ 得到/ concat/ (/ α/ ,/ e/ )/ ,/ 也/ 就/ 能/ 以/ β/ 为/ 前缀/ 、/ e/ 为/ 后缀/ 进行/ 情节/ 增长/ 而/ 得到/ concat/ (/ β/ ,/ e/ )/ ,/ 并/ 使得/ concat/ (/ β/ ,/ e/ )/ ./ mano/ =/ concat/ (/ α/ ,/ e/ )/ ./ mano/ ,/ 即/ concat/ (/ β/ ,/ e/ )/ 的/ 支持/ 度/ 等于/ concat/ (/ α/ ,/ e/ )/ 的/ 支持/ 度/ ./ 又/ 因为/ β/ 是/ α/ 的/ 真子/ 情节/ ,/ 所以/ concat/ (/ β/ ,/ e/ )/ 也/ 是/ concat/ (/ α/ ,/ e/ )/ 的/ 真子/ 情节/ ,/ 从而/ 根据/ 定义/ 9/ 可知/ ,/ 以/ α/ 为/ 前缀/ 的/ concat/ (/ α/ ,/ e/ )/ 不是/ 生成/ 子/ 情节/ ./ 证毕/ ./ 以表/ 2/ 为例/ ,/ 因为/ 〈/ ABA/ 〉/ ./ mano/ =/ 〈/ AA/ 〉/ ./ mano/ 且/ 〈/ ABA/ 〉/ / 〈/ AA/ 〉/ ,/ 所以/ 情节/ 〈/ ABA/ 〉/ 及/ 以/ 其/ 为/ 前缀/ 的/ 任何/ 其它/ 情节/ (/ 如/ 〈/ ABACE/ 〉/ )/ 都/ 是非/ 生成/ 子/ 情节/ ./ 由于/ 算法/ Extractor/ 在/ 过程/ MineGrow/ 中/ 已/ 通过/ 比较/ 频繁/ 情节/ α/ 与其/ 前向/ 扩展/ 的/ 支持/ 度来/ 检查/ α/ 的/ 当前/ 前向/ 扩展/ 是否/ 为/ 生成/ 子/ ,/ 所以/ 在/ 得到/ 频繁/ 情节/ 集/ FE/ 后/ ,/ 针对/ 尚未/ 确定/ 为/ 生成/ 子/ 的/ 频繁/ 情节/ β/ 而言/ ,/ 我们/ 只要/ 通过/ 比较/ β/ 与/ β/ 的/ 其它/ 真子/ 情节/ 的/ 支持/ 度/ 就/ 可以/ 确定/ β/ 是否/ 为/ 生成/ 子/ ./ 下面/ 是/ 生成/ 子/ Page6/ 检查/ 的/ 伪/ 代码/ ./ ProcedureCheckGenerator/ (/ α/ )/ Input/ :/ α/ :/ afrequentepisodeObjective/ :/ checkwhetherepisode/ α/ isagenerator1/ ./ If/ α/ ./ gen/ =/ -/ 12/ ./ If/ / β/ s/ ./ t/ ./ β/ ./ mano/ =/ α/ ./ manoand/ β/ / α/ 3/ ./ Setthegeneratorsof/ α/ andanyepisodewith/ α/ 根据/ 置信度/ 的/ 不同/ ,/ 无/ 冗余/ 情节/ 规则/ 可以/ 分为/ 4/ ./ Else5/ ./ Fori/ =/ 1to/ |/ α/ |/ -/ 1do6/ ./ Let/ β/ =/ 〈/ E1/ …/ Ei/ -/ 1Ei/ +/ 1/ …/ E/ |/ α/ |/ 〉/ 7/ ./ If/ β/ ∈/ FEand/ β/ ./ s/ =/ α/ ./ s8/ ./ Let/ α/ ./ gen/ =/ -/ 19/ ./ Break10/ ./ Return4/ ./ 3/ 规则/ 产生/ 如下/ 两个/ 类别/ ./ 类别/ 1/ ./ 无/ 冗余/ 精确/ 情节/ 规则/ ,/ 即/ 置信度/ 等于/ 100/ %/ 的/ 无/ 冗余/ 情节/ 规则/ ./ 设/ C/ 为/ 频繁/ 闭/ 情节/ 集/ ,/ Gf/ 为/ C/ 中/ 频繁/ 闭/ 情节/ f/ 的/ 所有/ 情节/ 生成/ 子/ 组成/ 的/ 集合/ ,/ 则/ 所有/ 的/ 无/ 冗余/ 精确/ 情节/ 规则/ 可以/ 表示/ 为/ 集合/ :/ RE/ =/ {/ (/ l/ ,/ r/ ,/ s/ ,/ c/ ,/ w/ )/ |/ l/ ∈/ Gf/ ∧/ r/ =/ project/ (/ f/ ,/ l/ )/ ∧/ f/ ∈/ C/ ∧/ l/ ≠/ f/ }/ ,/ 式/ 中/ :/ l/ 是/ 频繁/ 闭/ 情节/ f/ 的/ 一个/ 情节/ 生成/ 子/ ,/ 约束条件/ l/ ≠/ f/ 保证/ 了/ 一个/ 情节/ 规则/ 的/ 前件/ 不能/ 为空/ ./ 定理/ 1/ ./ 无/ 冗余/ 精确/ 情节/ 规则/ 集/ 蕴含/ 了/ 所有/ 精确/ 情节/ 规则/ 的/ 信息/ ./ 证明/ ./ 设/ γ/ 是/ 一个/ 由/ 频繁/ 闭/ 情节/ f/ 得到/ 的/ 精确/ 情节/ 规则/ ,/ 因为/ γ/ ./ c/ =/ 100/ %/ ,/ 所以/ γ/ ./ s/ =/ concat/ (/ γ/ ./ l/ ,/ γ/ ./ r/ )/ ./ s/ =/ (/ γ/ ./ l/ )/ ./ s/ ./ 对于/ f/ 而言/ ,/ 必然/ 存在/ 一个/ 无/ 冗余/ 精确/ 情节/ 规则/ γ/ ,/ 满足/ γ/ ./ l/ 是/ f/ 的/ 情节/ 生成/ 子/ ,/ γ/ ./ s/ =/ concat/ (/ γ/ ./ l/ ,/ γ/ ./ r/ )/ ./ s/ =/ (/ γ/ ./ l/ )/ ./ s/ =/ f/ ./ s/ ,/ 且/ γ/ ./ l/ / γ/ ./ l/ / concat/ (/ γ/ ./ l/ ,/ γ/ ./ r/ )/ / f/ ,/ 即/ 表示/ γ/ 的/ 前件/ 和/ 后件/ 可/ 由/ γ/ 得到/ ./ 因为/ γ/ ./ l/ / γ/ ./ l/ / concat/ (/ γ/ ./ l/ ,/ γ/ ./ r/ )/ / f/ ,/ 所以/ f/ ./ s/ / concat/ (/ γ/ ./ l/ ,/ γ/ ./ r/ )/ ./ s/ / (/ γ/ ./ l/ )/ ./ s/ / (/ γ/ ./ l/ )/ ./ s/ ./ 由于/ f/ ./ s/ =/ (/ γ/ ./ l/ )/ ./ s/ =/ γ/ ./ s/ ,/ 所以/ γ/ ./ s/ =/ concat/ (/ γ/ ./ l/ ,/ γ/ ./ r/ )/ ./ s/ =/ γ/ ./ s/ ,/ 即/ 表示/ γ/ 的/ 支持/ 度/ 可以/ 由/ γ/ 得到/ ./ 由于/ γ/ ./ l/ / γ/ ./ l/ ,/ γ/ ./ r/ / γ/ ./ r/ ,/ 且/ 情节/ 规则/ 主要/ 用于/ 在/ 前件/ 发生/ 时/ 预测/ 后件/ 的/ 发生/ 情况/ ,/ 所以/ γ/ 的/ 窗口/ 宽度/ 蕴含/ 了/ γ/ 的/ 窗口/ 宽度/ ./ 类别/ 2/ ./ 无/ 冗余/ 近似/ 情节/ 规则/ ,/ 即/ 置信度/ 小于/ 100/ %/ 的/ 无/ 冗余/ 情节/ 规则/ ./ 设/ C/ 、/ G/ 分别/ 为/ 频繁/ 闭/ 情节/ 集/ 和/ 情节/ 生成/ 子集/ ,/ δ/ (/ α/ )/ 表示/ 一个/ 与/ 频繁/ 情节/ α/ 具有/ 相同/ 支持/ 度/ 的/ 频繁/ 闭/ 情节/ ,/ 则/ 所有/ 的/ 无/ 冗余/ 近似/ 情节/ 规则/ 可以/ 表示/ 为/ 集合/ :/ RA/ =/ {/ (/ l/ ,/ r/ ,/ s/ ,/ c/ ,/ w/ )/ |/ l/ ∈/ G/ ∧/ r/ =/ project/ (/ f/ ,/ l/ )/ ∧/ f/ ∈/ C/ ∧/ δ/ (/ l/ )/ / f/ }/ ,/ 式/ 中/ :/ l/ 是/ 频繁/ 闭/ 情节/ δ/ (/ l/ )/ 的/ 情节/ 生成/ 子/ ,/ δ/ (/ l/ )/ 是/ 另/ 一个/ 频繁/ 闭/ 情节/ f/ 的/ 真子/ 情节/ ./ 定理/ 2/ ./ 无/ 冗余/ 近似/ 情节/ 规则/ 集/ 蕴含/ 了/ 所有/ 近似/ 情节/ 规则/ 的/ 信息/ ./ 证明/ ./ 设/ γ/ 是/ 一个/ 近似/ 情节/ 规则/ ,/ 因为/ γ/ ./ c/ </ 100/ %/ ,/ 所以/ δ/ (/ γ/ ./ l/ )/ / δ/ (/ concat/ (/ γ/ ./ l/ ,/ γ/ ./ r/ )/ )/ ./ 对于/ γ/ ./ l/ 和/ concat/ (/ γ/ ./ l/ ,/ γ/ ./ r/ )/ 而言/ ,/ 存在/ 两个/ 情节/ 生成/ 子/ g1/ 和/ g2/ ,/ 满足/ g1/ / γ/ ./ l/ / δ/ (/ γ/ ./ l/ )/ =/ δ/ (/ g1/ )/ ,/ g2/ / concat/ (/ γ/ ./ l/ ,/ γ/ ./ r/ )/ / δ/ (/ concat/ (/ γ/ ./ l/ ,/ γ/ ./ r/ )/ )/ =/ δ/ (/ g2/ )/ ./ 因为/ γ/ ./ l/ / concat/ (/ γ/ ./ l/ ,/ γ/ ./ r/ )/ ,/ 所以/ γ/ ./ l/ / δ/ (/ g1/ )/ / concat/ (/ γ/ ./ l/ ,/ γ/ ./ r/ )/ / δ/ (/ g2/ )/ ,/ 这/ 说明/ 必然/ 存在/ 一个/ 无/ 冗余/ 近似/ 情节/ 规则/ γ/ 满足/ γ/ ./ l/ =/ g1/ ,/ γ/ ./ r/ =/ project/ (/ δ/ (/ g2/ )/ ,/ g1/ )/ ./ 因为/ g1/ / γ/ ./ l/ / δ/ (/ g1/ )/ / concat/ (/ γ/ ./ l/ ,/ γ/ ./ r/ )/ / δ/ (/ g2/ )/ ,/ 所以/ γ/ 的/ 前件/ 和/ 后件/ 可/ 由/ γ/ 得到/ ./ 由于/ γ/ ./ s/ =/ concat/ (/ γ/ ./ l/ ,/ γ/ ./ r/ )/ ./ s/ =/ δ/ (/ g2/ )/ ./ s/ =/ γ/ ./ s/ ,/ 所以/ γ/ 的/ 支持/ 度/ 可/ 由/ γ/ 得到/ ./ 因/ g1/ / γ/ ./ l/ / δ/ (/ g1/ )/ ,/ 故/ (/ g1/ )/ ./ s/ =/ (/ γ/ ./ l/ )/ ./ s/ =/ δ/ (/ g1/ )/ ./ s/ ,/ γ/ ./ c/ =/ concat/ (/ γ/ ./ l/ ,/ γ/ ./ r/ )/ ./ s/ // (/ γ/ ./ l/ )/ ./ s/ =/ δ/ (/ g2/ )/ ./ s/ // δ/ (/ g1/ )/ ./ s/ =/ concat/ (/ γ/ ./ l/ ,/ γ/ ./ r/ )/ ./ s/ // (/ γ/ ./ l/ )/ ./ s/ =/ γ/ ./ c/ ,/ 表示/ γ/ 的/ 置信度/ 可/ 由/ γ/ 得到/ ./ 下面/ 是/ 规则/ 产生/ 的/ 伪/ 代码/ ./ PrecedureFormRule/ (/ FE/ ,/ min/ _/ conf/ ,/ R/ )/ Input/ :/ FE/ :/ asetoffrequentepisodesaftercheckingObjective/ :/ generateallnon/ -/ redundantepisoderules1/ ./ LetR/ =/ / 2/ ./ Foreachf/ ∈/ FEwithf/ ./ clo/ =/ 0do3/ ./ Foreachg/ ∈/ FEwithg/ ./ gen/ =/ 0do4/ ./ Ifg/ / f5/ ./ Letr/ =/ project/ (/ f/ ,/ g/ )/ 6/ ./ Let/ α/ =/ concat/ (/ g/ ,/ r/ )/ 7/ ./ If/ α/ ./ s/ // g/ ./ s/ / min/ _/ conf8/ ./ LetR/ =/ R/ ∪/ (/ g/ ,/ r/ ,/ α/ ./ s/ ,/ α/ ./ s/ // g/ ./ s/ ,/ α/ ./ w/ )/ 4.4/ 运行/ 实例/ 设/ 给定/ 的/ 事件/ 序列/ 为/ ES1/ ,/ min/ _/ sup/ =/ 2/ ,/ min/ _/ conf/ =/ 0/ ,/ 现/ 使用/ 算法/ Extractor/ 发现/ ES1/ 上/ 所有/ 的/ 无/ 冗余/ 情节/ 规则/ ./ 挖掘/ 时/ 得到/ 的/ 情节/ 生成/ 子/ 和/ 无/ 冗余/ 情节/ 规则/ 分别/ 如表/ 5/ 和表/ 6/ 所示/ ./ 情节/ 生成/ 子/ 支持/ 度/ 情节/ 生成/ 子/ 支持/ 度/ 〈/ A/ 〉/ 〈/ B/ 〉/ 〈/ C/ 〉/ 〈/ E/ 〉/ Page7/ 前件/ 后件/ 支持/ 度/ 置信度/ // %/ 窗口/ 宽度/ 〈/ AA/ 〉/ 〈/ B/ 〉/ 〈/ AA/ 〉/ 〈/ CE/ 〉/ 2100/ 〈/ C/ 〉/ 〈/ E/ 〉/ 〈/ A/ 〉/ 〈/ AB/ 〉/ 2/ 〈/ A/ 〉/ 〈/ B/ 〉/ 〈/ A/ 〉/ 〈/ BACE/ 〉/ 2/ 〈/ B/ 〉/ 〈/ ACE/ 〉/ 2/ 〈/ AB/ 〉/ 〈/ ACE/ 〉/ 2/ 〈/ BA/ 〉/ 〈/ CE/ 〉/ 2/ 〈/ B/ 〉/ 〈/ A/ 〉/ 3/ 〈/ B/ 〉/ 〈/ AB/ 〉/ 2/ 〈/ BA/ 〉/ 〈/ B/ 〉/ 由表/ 3/ 和表/ 6/ 可以/ 看出/ ,/ 相对/ 于/ 所有/ 情节/ 规则/ ,/ 算法/ Extractor/ 抽取/ 的/ 无/ 冗余/ 情节/ 规则/ 不仅/ 在/ 数据量/ 上/ 大大减少/ ,/ 而且/ 没有/ 丢失/ 其它/ 情节/ 规则/ 的/ 信息/ ./ 4.5/ 算法/ 复杂度/ 分析/ 设/ L/ 为/ 事件/ 序列/ 为/ ES/ 的/ 长度/ ,/ ε/ 为/ ES/ 中/ 的/ 事件/ 类型/ 集/ ,/ FE/ 为/ ES/ 上/ 所有/ 频繁/ 情节/ 组成/ 的/ 集合/ ,/ 则/ 算法/ Extractor/ 的/ 复杂度/ 分析/ 如下/ ./ 定理/ 3/ ./ Extractor/ 的/ 时间/ 复杂度/ 为/ Ο/ (/ |/ FE/ |/ ·/ |/ ε/ |/ ·/ L/ )/ ./ 证明/ ./ 情节/ 增长/ 、/ 闭合性/ 检查/ 、/ 生成/ 子/ 检查/ 、/ 规则/ 产生/ 是/ Extractor/ 的/ 主要/ 时间/ 代价/ ./ (/ 1/ )/ 完成/ 一次/ 以/ 已/ 存在/ 的/ 频繁/ 情节/ α/ 为/ 前缀/ 、/ 频繁/ 1/ -/ 情节/ e/ 为/ 后缀/ 的/ 情节/ 增长/ 操作/ ,/ 只/ 需/ 单遍/ 扫描/ mo/ (/ α/ )/ 和/ mo/ (/ e/ )/ ,/ 其/ 时间/ 复杂度/ 为/ Ο/ (/ L/ )/ ./ 而/ Extractor/ 只/ 需以/ FE/ 中/ 的/ 每个/ 情节/ 为/ 前缀/ 进行/ 情节/ 增长/ ,/ 增长/ 的/ 次数/ 至多/ 为/ 频繁/ 1/ -/ 情节/ 的/ 个数/ ,/ 其上界/ 为/ |/ ε/ |/ ,/ 因此/ ,/ Extractor/ 为/ 完成/ 全部/ 的/ 情节/ 增长/ 操作/ 所/ 需/ 的/ 时间/ 复杂度/ 为/ Ο/ (/ |/ FE/ |/ ·/ |/ ε/ |/ ·/ L/ )/ ./ (/ 2/ )/ 在/ 闭合性/ 检查/ 之前/ ,/ 由/ 所有/ 频繁/ 情节/ 组成/ 的/ 集合/ FE/ 中/ 至多/ 存在/ |/ FE/ |/ 个/ 闭合性/ 待定/ 的/ 频繁/ 情节/ ,/ 对于/ 每/ 一个/ 这样/ 的/ 情节/ α/ 而言/ ,/ 确定/ 其/ 闭合性/ 在/ 最坏/ 的/ 情况/ 下/ 需要/ 比较/ α/ 的/ 支持/ 度/ 与其/ 2/ |/ ε/ |/ (/ |/ ε/ |/ 为/ 频繁/ 1/ -/ 情节/ 个数/ 的/ 上界/ )/ 个/ 中间/ 扩展/ 及后/ 向/ 扩展/ 的/ 支持/ 度/ ,/ 而/ 每/ 一个/ 这样/ 的/ 扩展/ 又/ 至多/ 出现/ 在/ 情节/ α/ 中/ 的/ 任一/ 位置/ 上/ ,/ 所以/ 完成/ 所有/ 闭合性/ 检查/ 的/ 最坏/ 时间/ 复杂度/ 为/ Ο/ (/ |/ FE/ |/ ·/ |/ ε/ |/ ·/ |/ α/ |/ )/ / Ο/ (/ |/ FE/ |/ ·/ |/ ε/ |/ ·/ L/ )/ ./ (/ 3/ )/ 生成/ 子/ 检查/ 的/ 时间/ 消耗/ 与/ 闭合性/ 检查/ 相同/ ,/ 其/ 最坏/ 时间/ 复杂度/ 也/ 为/ Ο/ (/ |/ FE/ |/ ·/ |/ ε/ |/ ·/ L/ )/ ./ (/ 4/ )/ 频繁/ 闭/ 情节/ 的/ 个数/ 上界/ 为/ |/ FE/ |/ ,/ 所以/ 规则/ 产生/ 过程/ 所/ 需/ 的/ 最坏/ 时间/ 复杂度/ 为/ Ο/ (/ |/ FE/ |/ ·/ |/ FE/ |/ )/ / Ο/ (/ |/ FE/ |/ ·/ |/ ε/ |/ ·/ L/ )/ ./ 综上/ ,/ 算法/ 的/ 时间/ 复杂度/ 为/ Ο/ (/ |/ FE/ |/ ·/ |/ ε/ |/ ·/ L/ )/ ./ 定理/ 4/ ./ Extractor/ 的/ 空间/ 复杂度/ 为/ Ο/ (/ |/ FE/ |/ 2/ )/ ./ 证明/ ./ 算法/ 需要/ 维护/ 所有/ 频繁/ 闭/ 情节/ 及/ 情节/ 规则/ ,/ 所以/ 空间/ 复杂度/ 为/ Ο/ (/ |/ FE/ |/ 2/ )/ ./ 5/ 实验/ 评估/ 我们/ 通过/ 9/ 组/ 实验/ 对比/ 了/ 算法/ Extractor/ 、/ TASA/ [/ 2/ ]/ 和/ WinMiner/ [/ 3/ ]/ 的/ 时空/ 性能/ 和/ 挖掘/ 质量/ ./ 为了/ 能够/ 客观/ 地/ 评价/ 3/ 个/ 算法/ ,/ 我们/ 对/ TASA/ 和/ WinMiner/ 进行/ 了/ 适当/ 调整/ ,/ 即均/ 使用/ 与/ Extractor/ 一样/ 的/ 最小/ 且/ 非/ 重叠/ 发生/ 的/ 情节/ 支持/ 度/ 定义/ ,/ 修改/ 后/ 的/ TASA/ 和/ WinMiner/ 分别/ 表示/ 为/ TASA/ _/ mano/ 和/ WinMiner/ _/ mano/ ./ 实验/ 采用/ 的/ 硬件/ 环境/ 为/ 2GHzIntel/ (/ R/ )/ Core/ (/ TM/ )/ 2DuoCPU/ ,/ 内存/ 2GB/ ,/ 操作系统/ 为/ WindowsXP/ ,/ 程序/ 采用/ Java/ 实现/ ./ 5.1/ 数据/ 集/ 对于/ 合成/ 数据/ 集/ ,/ 我们/ 首先/ 使用/ IBM/ 合成/ 数据/ 生成器/ QuestMarket/ -/ Basket/ 的/ 修改版/ 生成/ 了/ 每个/ 交易/ 为/ 单个/ 项/ 的/ 交易/ 序列/ ,/ 通过/ 设置/ D/ =/ 0.001/ ,/ C/ =/ 300000/ ,/ N/ =/ 20/ ,/ S/ =/ 300000/ ,/ 其中/ 参数/ D/ 表示/ 交易/ 序列/ 的/ 个数/ (/ 单位/ 为/ 1000/ )/ ,/ C/ 表示/ 每个/ 交易/ 序列/ 中/ 交易/ 的/ 平均/ 个数/ ,/ N/ 表示/ 所有/ 交易/ 项/ 的/ 类型/ 种数/ (/ 单位/ 为/ 1000/ )/ ,/ S/ 为/ 最长/ 交易/ 序列/ 中/ 交易/ 的/ 平均/ 个数/ ,/ 这样/ 就/ 得到/ 了/ 一个/ 20000/ 种/ 交易/ 项/ 类型/ 上/ 的/ 由/ 300000/ 个/ 交易/ 组成/ 的/ 交易/ 序列/ ./ 然后/ ,/ 为/ 该/ 交易/ 序列/ 中/ 的/ 每个/ 交易/ 依次/ 赋上/ 一个/ 连续/ 的/ 正整数/ 以/ 作为/ 每个/ 交易/ 发生/ 的/ 时间/ 戳/ ,/ 这样/ ,/ 我们/ 就/ 构造/ 了/ 一个/ 20K/ 种/ 事件/ 类型/ 上/ 的/ 由/ 300K/ 个/ 事件/ 组成/ 的/ 事件/ 序列/ ./ 对于/ 真实/ 数据/ 集/ ,/ 考虑/ 到/ 作为/ 国内/ 最具/ 影响力/ 的/ 知识/ 传播/ 与/ 数字化/ 学习/ 平台/ ,/ 中国/ 知网/ CNKI/ ①/ 为/ 全/ 社会/ 提供/ 了/ 最/ 丰富/ 、/ 最/ 全面/ 的/ 文献/ 资源/ ,/ 为了/ 能够/ 发现/ CNKI/ 中/ 相关/ 文献/ 之间/ 的/ 引用/ 关系/ ,/ 并/ 为/ 广大/ 学者/ 展开/ 相关/ 研究/ 提供/ 个性化/ 的/ 推荐/ 服务/ ,/ 我们/ 选用/ 了/ CNKI/ 的/ 一个/ Web/ 服务器/ 上/ 从/ 2010/ 年/ 11/ 月/ 1/ 日至/ 2010/ 年/ 11/ 月/ 30/ 日/ 的/ 日志/ 数据/ ,/ 该/ 日志/ 数据/ 包括/ 了/ 相关/ 读者/ 对/ 132885/ 种/ 不同/ 文献/ 的/ 211665/ 个/ 阅读/ 序列/ ./ 5.2/ 实验/ 结果/ 实验/ 1/ ./ 运行/ 时间/ 与/ 支持/ 度/ 阈值/ 的/ 关系/ ./ 选择/ 300K/ 合成/ 数据/ 集/ 和/ 30/ 天/ 真实/ 数据/ 集/ ,/ 在/ 设定/ 置信度/ 阈值/ 为/ 60/ %/ 的/ 前提/ 下/ ,/ 通过/ 改变/ 支持/ 度/ 阈值/ ,/ 得/ ①/ http/ :/ // // www/ ./ cnki/ ./ netPage8/ 到/ 了/ 如图/ 1/ 所示/ 的/ 3/ 个/ 算法/ 在/ 两个/ 数据/ 集上/ 的/ 运行/ 时间/ (/ 以/ ms/ 为/ 单位/ )/ ./ 可以/ 看出/ ,/ 随着/ 支持/ 度/ 阈值/ 的/ 减小/ ,/ 3/ 个/ 算法/ 的/ 运行/ 时间/ 都/ 线性/ 增加/ ,/ 但/ Extractor/ 要/ 优于/ TASA/ _/ mano/ 和/ WinMiner/ _/ mano/ ,/ 且/ 它们/ 的/ 运行/ 时间/ 之差/ 随着/ 支持/ 度/ 阈值/ 的/ 减小/ 而/ 不断/ 增加/ ,/ 导致/ 上述事实/ 的/ 主要/ 原因/ 是/ :/ TASA/ _/ mano/ 和/ WinMiner/ _/ mano/ 旨在/ 发现/ 所有/ 的/ 情节/ 规则/ ,/ 并/ 分别/ 采用/ 了/ 广度/ 优先/ 和/ 深度/ 优先/ 的/ 搜索/ 策略/ ,/ 而/ Extractor/ 基于/ 深度/ 优先/ 的/ 搜索/ 策略/ ,/ 并/ 内嵌/ 了/ 一个/ 优化/ 技术/ ,/ 旨在/ 发现/ 无/ 冗余/ 的/ 情节/ 规则/ ./ 实验/ 2/ ./ 运行/ 时间/ 与/ 置信度/ 阈值/ 的/ 关系/ ./ 选择/ 300K/ 合成/ 数据/ 集/ 和/ 30/ 天/ 真实/ 数据/ 集/ ,/ 在/ 设定/ 这/ 两个/ 数据/ 集/ 的/ 支持/ 度/ 阈值/ 分别/ 为/ 800/ 和/ 7/ 的/ 前提/ 下/ ,/ 通过/ 改变/ 置信度/ 阈值/ ,/ 得到/ 了/ 如图/ 2/ 所示/ 的/ 3/ 个/ 算法/ 在/ 两个/ 数据/ 集上/ 的/ 运行/ 时间/ (/ 以/ ms/ 为/ 单位/ )/ ./ 可以/ 看出/ ,/ 随着/ 置信度/ 阈值/ 的/ 减小/ ,/ 3/ 个/ 算法/ 的/ 运行/ 时间/ 也/ 在/ 线性/ 增加/ ,/ 但/ Extractor/ 要/ 优于/ TASA/ _/ mano/ 和/ WinMiner/ _/ mano/ ,/ 原因/ 同/ 实验/ 1/ 的/ 解释/ ./ 我们/ 同时/ 还/ 观察/ 到/ :/ 相对/ 于/ 支持/ 度/ 而言/ ,/ 置信度/ 对/ 3/ 个/ 算法/ 运行/ 时间/ 的/ 影响/ 要/ 相对/ 平稳/ ,/ 这/ 是因为/ 3/ 个/ 算法/ 均/ 是/ 首先/ 基于/ 支持/ 度/ 阈值/ 发现/ 频繁/ 情节/ ,/ 然后/ 再/ 基于/ 置信度/ 阈值/ 来/ 产生/ 情节/ 规则/ ./ 实验/ 3/ ./ 运行/ 时间/ 与/ 序列/ 长度/ 的/ 关系/ ./ 首先/ 从/ 300K/ 合成/ 数据/ 集中/ 选择/ 前/ 100K/ 、/ 前/ 150K/ 、/ 前/ 200K/ 、/ 前/ 250K/ 个/ 事件/ 作为/ 4/ 个/ 合成/ 子/ 序列/ ;/ 再/ 从/ 30/ 天/ 真实/ 数据/ 集中/ 选择/ 前/ 6/ 天/ 、/ 前/ 12/ 天/ 、/ 前/ 18/ 天/ 、/ 前/ 24/ 天/ 的/ 事件/ 作为/ 4/ 个/ 真实/ 子/ 序列/ ;/ 然后/ 通过/ 设定/ 合成/ 数据/ 集/ 和/ 真实/ 数据/ 集/ 的/ 支持/ 度/ 阈值/ 分别/ 为/ 800/ 和/ 7/ ,/ 置信度/ 阈值/ 均/ 为/ 60/ %/ ,/ 得到/ 了/ 如图/ 3/ 所示/ 的/ 序列/ 长度/ 对/ 算法/ 时间/ 性能/ 的/ 影响/ ./ 可以/ 看出/ ,/ 3/ 个/ 算法/ 的/ 运行/ 时间/ 都/ 随着/ 序列/ 长/ Page9/ 度/ 的/ 增加/ 而/ 线性/ 增加/ ,/ 且/ 3/ 个/ 算法/ 的/ 时间/ 性能/ 对比/ 同/ 实验/ 1/ ,/ 产生/ 这些/ 现象/ 的/ 原因/ 与/ 实验/ 1/ 的/ 解释/ 相同/ ./ 实验/ 4/ ./ 内存/ 开销/ 与/ 支持/ 度/ 阈值/ 的/ 关系/ ./ 选择/ 300K/ 合成/ 数据/ 集/ 和/ 30/ 天/ 真实/ 数据/ 集/ ,/ 在/ 设定/ 置信度/ 阈值/ 为/ 60/ %/ 的/ 前提/ 下/ ,/ 通过/ 改变/ 支持/ 度/ 阈值/ ,/ 得到/ 了/ 得到/ 了/ 如图/ 4/ 所示/ 的/ 3/ 个/ 算法/ 在/ 两个/ 数据/ 集上/ 的/ 内存/ 开销/ (/ 以/ KB/ 为/ 单位/ )/ ./ 可以/ 看出/ ,/ 随着/ 支持/ 度/ 阈值/ 的/ 减小/ ,/ 3/ 个/ 算法/ 的/ 内存/ 开销/ 都/ 在/ 线性/ 增加/ ,/ 但/ Extractor/ 要/ 优于/ TASA/ _/ mano/ 和/ WinMiner/ _/ mano/ ,/ 原因/ 与/ 实验/ 1/ 的/ 解释/ 相同/ ./ 实验/ 5/ ./ 内存/ 开销/ 与/ 置信度/ 阈值/ 的/ 关系/ ./ 选择/ 300K/ 合成/ 数据/ 集/ 和/ 30/ 天/ 真实/ 数据/ 集/ ,/ 在/ 设定/ 它们/ 的/ 支持/ 度/ 阈值/ 分别/ 为/ 800/ 和/ 7/ 的/ 前提/ 下/ ,/ 通过/ 改变/ 置信度/ 阈值/ ,/ 得到/ 了/ 如图/ 5/ 所示/ 的/ 算法/ 在/ 两个/ 数据/ 集上/ 的/ 内存/ 开销/ (/ 以/ KB/ 为/ 单位/ )/ ./ 可以/ 看出/ ,/ 随着/ 置信度/ 阈值/ 的/ 减小/ ,/ 算法/ 的/ 内存/ 开销/ 都/ 在/ 线性/ 增加/ ,/ 但/ Extractor/ 要/ 优于/ TASA/ _/ mano/ 和/ WinMiner/ _/ mano/ ,/ 原因/ 与/ 实验/ 1/ 的/ 解释/ 相同/ ./ 实验/ 6/ ./ 内存/ 开销/ 与/ 序列/ 长度/ 的/ 关系/ ./ 通过/ 设定/ 合成/ 数据/ 集/ 和/ 真实/ 数据/ 集/ 的/ 支持/ 度/ 阈值/ 分别/ 为/ 800/ 和/ 7/ ,/ 置信度/ 阈值/ 均/ 为/ 60/ %/ ,/ 得到/ 了/ 如图/ 6/ 所示/ 的/ 序列/ 长度/ 对/ 3/ 个/ 算法/ 内存/ 开销/ 的/ 影响/ ./ 可以/ 看出/ ,/ 3/ 个/ 算法/ 的/ 内存/ 开销/ 都/ 随着/ 序列/ 长度/ 的/ 增加/ 而/ 线性/ 增加/ ,/ 但/ Extractor/ 要/ 优于/ TASA/ _/ mano/ 和/ WinMiner/ _/ mano/ ,/ 原因/ 与/ 实验/ 1/ 的/ 解释/ 相同/ ./ 实验/ 7/ ./ 规则/ 个数/ 与/ 支持/ 度/ 阈值/ 的/ 关系/ ./ 选择/ 300K/ 合成/ 数据/ 集/ 和/ 30/ 天/ 真实/ 数据/ 集/ ,/ 在/ 设定/ 置信度/ 阈值/ 为/ 60/ %/ 的/ 前提/ 下/ ,/ 通过/ 改变/ 支持/ 度/ 阈值/ ,/ 得/ Page10/ 到/ 了/ 如图/ 7/ 所示/ 的/ 3/ 个/ 算法/ 在/ 两个/ 数据/ 集上/ 发现/ 的/ 情节/ 规则/ 个数/ ./ 可以/ 看出/ ,/ 随着/ 支持/ 度/ 阈值/ 的/ 减小/ ,/ 3/ 个/ 算法/ 均/ 发现/ 了/ 更/ 多/ 的/ 情节/ 规则/ ,/ 这/ 是因为/ 支持/ 度/ 阈值/ 越小/ ,/ 基于/ 越多/ 的/ 频繁/ 闭/ 情节/ 和/ 情节/ 生成/ 子/ 产生/ 的/ 情节/ 规则/ 也/ 就/ 更/ 多/ ./ 我们/ 同时/ 还/ 观察/ 到/ :/ Extractor/ 发现/ 的/ 规则/ 个数/ 远/ 少于/ TASA/ _/ mano/ 和/ WinMiner/ _/ mano/ ,/ 这/ 是因为/ Extractor/ 产生/ 的/ 是/ 无/ 冗余/ 情节/ 规则/ ,/ 而/ TASA/ _/ mano/ 和/ WinMiner/ _/ mano/ 产生/ 的/ 是/ 所有/ 情节/ 规则/ ./ 实验/ 8/ ./ 规则/ 个数/ 与/ 置信度/ 阈值/ 的/ 关系/ ./ 选择/ 300K/ 合成/ 数据/ 集/ 和/ 30/ 天/ 真实/ 数据/ 集/ ,/ 在/ 设定/ 这/ 两个/ 数据/ 集/ 的/ 支持/ 度/ 阈值/ 分别/ 为/ 800/ 和/ 7/ 的/ 前提/ 下/ ,/ 通过/ 改变/ 置信度/ 阈值/ ,/ 得到/ 了/ 如图/ 8/ 所示/ 的/ 算法/ 在/ 两个/ 数据/ 集上/ 发现/ 的/ 情节/ 规则/ 个数/ ./ 可以/ 看出/ ,/ 随着/ 置信度/ 阈值/ 的/ 减小/ ,/ 3/ 个/ 算法/ 均/ 发现/ 了/ 更/ 多/ 的/ 情节/ 规则/ ,/ 但/ Extractor/ 的/ 规则/ 个数/ 远/ 少于/ TASA/ _/ mano/ 和/ WinMiner/ _/ mano/ ,/ 原因/ 与/ 实验/ 7/ 的/ 解释/ 相同/ ./ 实验/ 9/ ./ 规则/ 个数/ 与/ 序列/ 长度/ 的/ 关系/ ./ 通过/ 设定/ 合成/ 数据/ 集/ 和/ 真实/ 数据/ 集/ 的/ 支持/ 度/ 阈值/ 分别/ 为/ 800/ 和/ 7/ ,/ 置信度/ 阈值/ 均/ 为/ 60/ %/ ,/ 得到/ 了/ 如图/ 9/ 所示/ 的/ 序列/ 长度/ 对/ 算法/ 所/ 发现/ 情节/ 规则/ 个数/ 的/ 影响/ ./ 可以/ 看出/ ,/ 随着/ 序列/ 长度/ 的/ 增加/ ,/ 3/ 个/ 算法/ 均/ 发现/ 了/ 更/ 多/ 的/ 情节/ 规则/ ,/ 但/ Extractor/ 的/ 规则/ 个数/ 远/ 少于/ TASA/ _/ mano/ 和/ WinMiner/ _/ mano/ ,/ 原因/ 与/ 实验/ 7/ 的/ 解释/ 相同/ ./ 6/ 结论/ 现有/ 的/ 情节/ 规则/ 挖掘/ 算法/ 存在/ 挖掘/ 质量/ 不高/ 、/ 挖掘/ 效率/ 较/ 低等/ 不足/ ./ 本文/ 提出/ 的/ 情节/ 规则/ 挖掘/ 算法/ Extractor/ 基于/ 最小/ 且/ 非/ 重叠/ 发生/ 来/ 计算/ 一个/ 情/ Page11/ 节/ 的/ 支持/ 度/ ,/ 避免/ 了/ 情节/ 发生/ 的/ “/ 过/ 计数/ ”/ 问题/ ,/ 保证/ 了/ 频繁/ 闭/ 情节/ 及其/ 生成/ 子/ 的/ 挖掘/ 质量/ ;/ 采用/ 深度/ 优先/ 的/ 搜索/ 策略/ 并/ 结合/ 非/ 生成/ 子/ 情节/ 的/ Apriori/ 性质/ ,/ 加快/ 了/ 频繁/ 闭/ 情节/ 及其/ 生成/ 子/ 的/ 挖掘/ 过程/ ;/ 直接/ 由/ 频繁/ 闭/ 情节/ 及其/ 生成/ 子/ 产生/ 无/ 冗余/ 情节/ 规则/ ,/ 提高/ 了/ 情节/ 规则/ 的/ 生成/ 质量/ 和/ 生成/ 效率/ ./ 理论/ 分析/ 和/ 实验/ 评估/ 证明/ 算法/ Extractor/ 能够/ 有效/ 地/ 抽取/ 给定/ 事件/ 序列/ 上/ 的/ 所有/ 无/ 冗余/ 情节/ 规则/ ./ 

