Page1/ 基于/ 动作/ 空间/ 的/ 三维/ 装箱/ 问题/ 的/ 确定性/ 高效率/ 求解/ 算法/ 何琨/ 黄文奇/ (/ 华中科技大学/ 计算机科学/ 与/ 技术/ 学院/ 武汉/ 430074/ )/ 摘要/ 三维/ 装箱/ 问题/ 要求/ 将/ 有限/ 个/ 三维/ 矩形/ 物体/ 尽可能/ 多地/ 装入/ 到/ 一个三维/ 矩形/ 箱子/ 中/ ,/ 使得/ 箱子/ 的/ 填充/ 率/ 即/ 体积/ 利用率/ 最大/ ./ 在/ 求解/ 三维/ 装箱/ 问题/ 的/ 穴度/ 算法/ 的/ 基础/ 之上/ ,/ 进一步/ 做/ 了/ 以下/ 改进/ :/ (/ 1/ )/ 将/ 当前/ 剩余/ 空间/ 中/ 可能/ 放入/ 的/ 每个/ 体积/ 最大/ 的/ 三维/ 矩形/ 虚拟/ 物体/ 所/ 对应/ 的/ 空间/ 定义/ 为/ 动作/ 空间/ ,/ 在/ 动作/ 空间/ 内/ 放入/ 物体/ 并/ 使/ 穴度/ 的/ 定义/ 体现/ 放入/ 物体/ 与/ 动作/ 空间/ 的/ 吻合/ 程度/ ;/ (/ 2/ )/ 在/ 物体/ 放入/ 位置/ 的/ 选择/ 上/ 直接/ 体现/ “/ 金角银/ 边草/ 肚皮/ ”/ 的/ 思想/ ,/ 每/ 一步/ 只/ 选择/ 最靠近/ 箱子/ 边缘/ 的/ 一个/ 动作/ 空间/ 来/ 装载/ 物体/ ;/ (/ 3/ )/ 结合/ 捆绑/ 策略/ ,/ 将/ 形状/ 大小/ 相同/ 的/ 物体/ 捆绑/ 为/ 一个/ 较大/ 的/ 矩形/ 块/ 进行/ 放入/ ,/ 对/ 捆绑/ 块/ 形状/ 大小/ 的/ 选择/ 为/ 在/ 不/ 超出/ 动作/ 空间/ 的/ 前提/ 下/ 尽量/ 用/ 物体/ 填满/ 该/ 空间/ 的/ 两至/ 三个/ 维度/ ./ 实验/ 结果表明/ ,/ 改进/ 后/ 的/ 穴度/ 算法/ 在/ 付出/ 很少/ 的/ 开销/ 代价/ 的/ 情况/ 下/ 显著/ 地/ 提高/ 了/ 箱子/ 的/ 填充/ 率/ ./ 关键词/ 三维/ 布局/ ;/ 装箱/ ;/ 启发式/ ;/ 动作/ 空间/ ;/ 穴度/ 1/ 引言/ Packing/ 问题/ (/ 布局/ 问题/ )/ 是/ 高/ 复杂度/ 的/ 典型/ 的/ NP/ 难度/ 问题/ ,/ 在/ 现实生活/ 中/ 有着/ 广泛/ 的/ 应用/ ./ 本文/ 研究/ 三维/ 欧氏/ 空间/ 中/ 一种/ 典型/ 的/ Packing/ 问题/ —/ —/ —/ 装箱/ 问题/ (/ containerloadingproblem/ )/ ,/ 即/ 已知/ 一个/ 形状/ 大小/ 任意/ 给定/ 的/ 长方体/ 形/ 的/ 箱子/ 和/ 有限/ 个/ 形状/ 大小/ 分别/ 任意/ 给定/ 的/ 长方体/ 形/ 的/ 物体/ ,/ 要求/ 确定/ 一个/ 可行/ 的/ 装箱/ 方案/ ,/ 使得/ 箱子/ 的/ 填充/ 率/ 即/ {/ (/ ∑/ 放入/ 物体/ 的/ 体积/ )/ // 箱子/ 的/ 体积/ ×/ 100/ %/ }/ 最大/ ./ 物体/ 的/ 放置/ 要求/ 满足/ 以下/ 约束/ :/ 放入/ 的/ 物体/ 完全/ 被/ 包含/ 在/ 箱子/ 内/ ,/ 棱/ 平行/ 于/ 箱子/ 的/ 棱/ ,/ 且/ 任意/ 两/ 物体/ 均/ 无/ 重叠/ ./ 在/ 实际/ 应用/ 中/ ,/ 特定/ 的/ 装箱/ 问题/ 还/ 需要/ 考虑/ 一些/ 其他/ 的/ 约束/ ,/ 例如/ 方向/ 约束/ 和/ 稳定性/ 约束/ ./ 本文/ 考虑/ 方向/ 约束/ ,/ 即/ 物体/ 的/ 某些/ 放置/ 方向/ 被/ 禁止/ 使用/ ./ 在/ 现实生活/ 中/ ,/ 当待放/ 物体/ 内为/ 装满/ 液体/ 的/ 瓶子/ 时会/ 有/ 此类/ 约束/ ./ 本文/ 不/ 考虑/ 稳定性/ 约束/ ,/ 其/ 原因/ 在于/ :/ (/ 1/ )/ 国内外/ 文献/ 中/ 对/ 稳定性/ 约束/ 的/ 定义/ 并/ 不/ 一致/ ,/ 有/ 的/ 要求/ 每个/ 物体/ 必须/ 得到/ 其他/ 物体/ 或/ 箱子/ 底部/ 的/ 完全/ 支撑/ ,/ 有/ 的/ 要求/ 被/ 支撑/ 的/ 底/ 面积/ 达到/ 一定/ 的/ 比率/ ,/ 有/ 的/ 则/ 仅/ 要求/ 物体/ 的/ 几何/ 重心/ 得到/ 支撑/ 即可/ ;/ (/ 2/ )/ 当/ 箱子/ 的/ 填充/ 率/ 很/ 高时/ ,/ 稳定性/ 会/ 成为/ 高密度/ 放置/ 的/ 一种/ 自然/ 的/ 结果/ ;/ (/ 3/ )/ 可以/ 在/ 少量/ 的/ 空隙/ 中/ 填入/ 海绵/ 、/ 橡胶/ 或/ 其他/ 填充物/ 以/ 保证/ 整个/ 装载/ 的/ 稳定/ ./ 从/ 国内外/ 的/ 相关/ 研究/ 中/ 可/ 看出/ ,/ 启发式/ 方法/ 已/ 成为/ 求解/ 三维/ 装箱/ 这一/ NP/ 难度/ 问题/ 的/ 有效/ 方法/ ./ 目前/ 国内外/ 研究者/ 多/ 采用/ 构造型/ 启发式/ 算法/ 与/ 邻域/ 搜索算法/ 相结合/ 的/ 方式/ 来/ 求解/ 此/ 问题/ ./ 其中/ 构造型/ 算法/ 多/ 借助/ 人类/ 在/ 砌砖/ 、/ 砌墙/ 、/ 货物/ 堆放/ 及/ 下围棋/ 等/ 方面/ 的/ 实践经验/ ,/ 求解/ 方法/ 主要/ 包括/ 砌墙/ 法/ [/ 1/ -/ 9/ ]/ 、/ 块/ 排列/ 法/ [/ 10/ -/ 12/ ]/ 、/ 极大/ 空间/ 法/ [/ 13/ -/ 14/ ]/ 、/ 堆/ 构造/ 法/ [/ 15/ ]/ 、/ 穴度法/ [/ 16/ ]/ 等/ ./ 在/ 此基础/ 上/ ,/ 可/ 进一步/ 结合/ 遗传/ [/ 3/ -/ 4/ ,/ 15/ ]/ 、/ 退火/ [/ 5/ ,/ 9/ ,/ 11/ ]/ 、/ 禁忌/ [/ 5/ ,/ 10/ ,/ 12/ ]/ 、/ 树/ 搜索/ [/ 6/ ,/ 16/ ]/ 、/ 随机/ 搜索/ [/ 7/ -/ 8/ ,/ 13/ ]/ 、/ 变/ 结构/ 邻域/ 搜索/ [/ 14/ ]/ 等/ 算法/ 以/ 进行/ 邻域/ 搜索/ ./ 基于/ 拟人/ 途径/ ,/ 在/ 求解/ 二维/ 矩形/ Packing/ 问题/ 的/ 穴度/ 算法/ 的/ 基础/ 之上/ [/ 17/ ]/ ,/ 我们/ 提出/ 了/ 求解/ 三维/ 装箱/ 问题/ 的/ 穴度/ 算法/ [/ 16/ ]/ ,/ 通过/ “/ 穴度/ ”/ 来/ 统一/ 评价/ 当前/ 物体/ 与/ 其他/ 已/ 放入/ 物体/ 及/ 箱子/ 的/ 紧密/ 程度/ ,/ 并/ 取得/ 了/ 很/ 好/ 的/ 计算结果/ ./ 然而/ ,/ 穴度/ 算法/ 的/ 计算/ 时间/ 较长/ ./ 例如/ ,/ 对于/ 有/ 100/ 个/ 形状/ 大小/ 不同/ 的/ 待/ 放/ 物体/ 的/ 装箱/ 实例/ ,/ 其/ 计算/ 时间/ 约/ 为/ 2h/ ~/ 3h/ ./ 这/ 使得/ 沿原/ 方案/ 进一步/ 改进/ 算法/ 的/ 性能/ 变得/ 比较/ 困难/ ./ 另外/ ,/ 穴度/ 算法/ 尚未/ 利用/ 形状/ 大小/ 有/ 较/ 多/ 相同/ 的/ 弱/ 异构/ 型算例/ 的/ 特点/ ,/ 因此/ 对弱/ 异构/ 型算例/ 的/ 求解/ 质量/ 不够/ 高/ ./ 本文/ 受/ 极大/ 空间/ 法/ 的/ 启发/ [/ 13/ -/ 14/ ]/ ,/ 将/ 当前/ 剩余/ 空间/ 中/ 每个/ 体积/ 最大/ 的/ 三维/ 矩形/ 空间/ 定义/ 为/ 动作/ 空间/ ,/ 给出/ 了/ 动作/ 空间/ 的/ 明确/ 定义/ ,/ 并/ 改进/ 穴度/ 的/ 定义/ 使/ 之/ 体现/ 放入/ 物体/ 与/ 动作/ 空间/ 的/ 吻合/ 程度/ ./ 然后/ ,/ 进一步/ 结合/ 捆绑/ 策略/ 以/ 利用/ 弱/ 异构/ 型算例/ 的/ 特点/ ,/ 从而/ 得到/ 了/ 基于/ 动作/ 空间/ 的/ 改进型/ 穴度/ 算法/ ICDA/ (/ ImprovedCavingDegreeAlgorithm/ )/ ./ 对于/ 7/ 组共/ 700/ 个/ 著名/ 的/ 装箱/ 实例/ [/ 1/ ]/ 的/ 计算/ 结果表明/ ,/ 改进/ 后/ 的/ 穴度/ 算法/ 同时/ 具有/ 求解/ 质量/ 高/ 和/ 计算/ 时间/ 短/ 的/ 优点/ ./ 特别/ 是/ 对于/ 其中/ 的/ 2/ 组共/ 200/ 个算例/ ,/ 新/ 算法/ 得到/ 了/ 高于/ 前人/ 的/ 平均/ 填充/ 率/ ,/ 将/ Parreo/ 等/ 人于/ 2010/ 年/ 最新/ 发布/ 的/ 最好/ 纪录/ 分别/ 提高/ 了/ 0.12/ 和/ 0.10/ 个/ 百分点/ ./ 2/ 基于/ 动作/ 空间/ 的/ 改进型/ 穴度/ 算法/ 改进/ 的/ 穴度/ 算法/ 包括/ 构造型/ 算法/ 和/ 邻域/ 搜索算法/ 两/ 部分/ ./ 其中/ 构造型/ 算法/ 每/ 一步/ 将/ 形状/ 大小/ 相同/ 的/ 长方体/ 捆绑/ 成/ 一个/ 大/ 的/ 长方体/ 块/ ,/ 并/ 挑选/ 一个/ 靠近/ 箱子/ 边缘/ 的/ 体积/ 较大/ 的/ 动作/ 空间/ 来/ 放入/ 该/ 捆绑/ 块/ ./ 而/ 邻域/ 搜索算法/ 则/ 是/ 在/ 构造型/ 算法/ 的/ 基础/ 上/ 加以/ 回溯/ 处理/ ./ 下面/ 依次/ 给出/ 动作/ 空间/ 的/ 定义/ 、/ 动作/ 空间/ 待放角区/ 的/ 选择/ 方法/ 、/ 动作/ 空间/ 的/ 选择/ 方法/ 以及/ 放入/ 到/ 动作/ 空间/ 中/ 的/ 捆绑/ 块/ 的/ 生成/ 和/ 选择/ 方法/ ,/ 最后/ 给出/ 求解/ 三维/ 装箱/ 问题/ 的/ 构造型/ 算法/ 和/ 邻域/ 搜索算法/ ./ 2.1/ 动作/ 空间/ 设在/ 当前/ 格局/ 下/ ,/ 箱子/ 中/ 已经/ 放入/ 了/ 0/ 至/ 多个/ 长方体/ ./ 我们/ 用/ 若干个/ 动作/ 空间/ 来/ 描述/ 当前/ 格局/ 下/ 剩余/ 的/ 空闲/ 空间/ ./ 定义/ 1/ ./ 动作/ 空间/ ./ 在/ 当前/ 格局/ 下/ ,/ 若往/ 箱子/ 中/ 合法/ 地/ 放入/ 一个/ 虚拟/ 的/ 长方体/ ,/ 该/ 长方体/ 的/ 上/ 、/ 下/ 、/ 左/ 、/ 右/ 、/ 前/ 、/ 后/ 6/ 个面/ 均/ 与/ 已/ 放入/ 的/ 物体/ 或/ 箱子/ 的/ 壁/ 相贴/ (/ 即/ 重合/ 的/ 面积/ 大于/ 0/ )/ ,/ 则/ 该/ 虚拟/ 长方体/ 所/ 占/ 的/ 空间/ 称为/ 当前/ 格局/ 下/ 的/ 一个/ 动作/ 空间/ ./ 图/ 1/ 所示/ 为/ 在/ 箱子/ 的/ 左下/ 后角/ 放入/ 一个/ 物体/ 后/ 当前/ 格局/ 下/ 的/ 3/ 个/ 动作/ 空间/ ,/ 它们/ 分别/ 在/ 该/ 物体/ 的/ 右方/ 、/ 前方/ 和/ 上方/ ./ Page3/ 图/ 1/ 动作/ 空间/ 可见/ ,/ 动作/ 空间/ 代表/ 了/ 当前/ 剩余/ 空间/ 中/ 可能/ 放入/ 的/ 每个/ 最大/ 长方体/ 的/ 形状/ 和/ 位置/ ./ 动作/ 空间/ 之间/ 可以/ 有/ 重叠/ ./ 而且/ ,/ 在/ 动作/ 空间/ 中/ 放入/ 物体/ ,/ 只要/ 不/ 超出/ 该/ 空间/ ,/ 就/ 可以/ 保证/ 该/ 物体/ 不会/ 与/ 其他/ 已/ 放入/ 的/ 物体/ 或/ 箱子/ 的/ 壁/ 重叠/ ./ 2.2/ 动作/ 空间/ 的/ 待/ 放角区/ 每个/ 动作/ 空间/ 均/ 为/ 三维/ 的/ 矩形/ 空间/ ,/ 因此/ 有/ 8/ 个角区/ ./ 将/ 捆绑/ 块/ 放入/ 到/ 一个/ 动作/ 空间/ 时/ ,/ 我们/ 选择/ 8/ 个角区/ 中/ 最靠近/ 箱子/ 边缘/ 的/ 一个角/ 区来/ 放入/ 该块/ ./ 具体做法/ 是/ :/ 动作/ 空间/ 的/ 每个/ 角区/ 与/ 箱子/ 有/ 一个/ 对应/ 角/ ,/ 如图/ 2/ 所示/ ./ 分别/ 计算/ 动作/ 空间/ 的/ 每个/ 角区/ 与/ 箱子/ 对应/ 角/ 在/ x/ 、/ y/ 、/ z/ 方向/ 的/ 距离/ ,/ 并/ 从小到大/ 排列/ 为/ 三元组/ ,/ 称为/ 该角区/ 的/ 角/ 距离/ ./ 然后/ 依/ 字典/ 序/ 比较/ 不同/ 角区角/ 距离/ 的/ 大小/ ,/ 并/ 选择/ 角/ 距离/ 最小/ 的/ 一个角/ 区/ 作为/ 该/ 空间/ 的/ 待/ 放角区/ ./ 算法/ 对/ 动作/ 空间/ 的/ 8/ 个角区/ 编号/ ,/ 并/ 依次/ 考查/ 每/ 一个角/ 区/ ./ 下面/ 给出/ 选择/ 动作/ 空间/ 待放角区/ 的/ 子/ 算法/ ./ 算法/ 1/ ./ SELECT/ _/ CANDIDATE/ _/ CORNER/ ./ 输入/ :/ 动作/ 空间/ space/ 输出/ :/ 该/ 空间/ 的/ candidateCorner1/ ./ Begin2/ ./ 待放角区/ candidateC/ ←/ NULL/ (/ 初值/ 为空/ )/ ;/ 3/ ./ FORi/ =/ 1to8/ :/ 4/ ./ 对/ 动作/ 空间/ space/ 的/ 每/ 一个角/ 区/ Ci/ :/ 5/ ./ 计算/ 该角区/ 的/ 角/ 距离/ ;/ 6/ ./ IFcandidateC/ =/ null/ ,/ THEN7/ ./ candidateC/ ←/ Ci/ ;/ 8/ ./ ELSE9/ ./ 依/ 字典/ 序/ 比较/ candidateC/ 与/ Ci/ 的/ 角/ 距离/ ;/ 10/ ./ IFCi/ 的/ 角/ 距离/ 较/ 小/ ,/ THEN11/ ./ candidateC/ ←/ Ci/ ;/ 12/ ./ ENDIF13/ ./ ENDIF14/ ./ ENDFOR15/ ./ space/ ./ candidateCorner/ ←/ candidateC/ ;/ 16/ ./ ENDSELECT/ _/ CANDIDATE/ _/ CORNER/ ./ 2.3/ 动作/ 空间/ 的/ 选择/ 每个/ 动作/ 空间/ 都/ 有/ 一个/ 待放角区/ ./ 当/ 动作/ 空间/ 选定/ 后/ ,/ 物体/ 待放/ 的/ 角区/ 也/ 就/ 随之/ 而定/ ./ 我们/ 总是/ 选择/ 待放角区/ 最靠近/ 箱子/ 边缘/ 的/ 一个/ 动作/ 空间/ 来/ 放入/ 物体/ ./ 下面/ 给出/ 挑选/ 动作/ 空间/ 的/ 子/ 算法/ ,/ 其中/ 传入/ 参数/ 为/ 当前/ 格局/ 下/ 的/ 动作/ 空间/ 列表/ ./ 算法/ 2/ ./ SELECT/ _/ ACTION/ _/ SPACE/ ./ 输入/ :/ ListactionSpaces/ 输出/ :/ candidateS1/ ./ Begin2/ ./ 候选/ 空间/ candidateS/ ←/ NULL/ (/ 初值/ 为空/ )/ ;/ 3/ ./ FORi/ =/ 1toactionSpaces/ ./ size/ :/ 4/ ./ 对/ actionSpaces/ 中/ 的/ 每/ 一个/ 动作/ 空间/ Si/ :/ 5/ ./ IFcandidateS/ =/ NULL/ ,/ THEN6/ ./ candidateS/ ←/ Si/ ;/ 7/ ./ ELSE/ 依/ 字典/ 序/ 比较/ candidateS/ 与/ Si/ 的/ 以下/ 参数/ :/ 8/ ./ IFSi/ 优于/ candidateS/ ,/ THEN9/ ./ candidateS/ ←/ Si/ ;/ 10/ ./ ENDIF11/ ./ ENDIF12/ ./ ENDFOR13/ ./ RETURNcandidateS/ ;/ 14/ ./ ENDSELECT/ _/ ACTION/ _/ SPACE/ ./ 2.4/ 捆绑/ 块/ 的/ 生成/ 对于/ 给定/ 的/ 一个/ 动作/ 空间/ ,/ 可/ 根据/ 当前/ 格局/ 下/ 箱子/ 外/ 剩余/ 长方体/ 的/ 尺寸/ 、/ 数量/ 和/ 可行/ 的/ 放置/ 方向/ ,/ 由/ 程序/ 自动/ 捆绑/ 生成/ 各种/ 不/ 超出/ 该/ 动作/ 空间/ 的/ 长方体/ 块/ 并/ 放入/ 到/ 其待/ 放角区/ ./ 将/ 一个/ 捆绑/ 块/ 放入/ 到动/ Page4/ 作/ 空间/ 待放角区/ 的/ 动作/ 称为/ 一个/ 占角/ 动作/ ./ 捆绑/ 块/ 的/ 具体/ 生成/ 方法/ 是/ :/ 对于/ 形状/ 大小/ 不同/ 的/ 每类/ 长方体/ 和/ 该类/ 长方体/ 的/ 每种/ 可行/ 的/ 放置/ 方向/ ,/ 按/ xyz/ 、/ yxz/ 、/ xzy/ 、/ zxy/ 、/ yzx/ 和/ zyx/ 这/ 6/ 种/ 方式/ 生成/ 大/ 的/ 长方体/ 块/ ./ 其中/ xyz/ 是/ 指/ 按/ 当前/ 的/ 放置/ 方向/ 放入/ 长方体/ ,/ 首先/ 尽量/ 填满/ x/ 方向/ ,/ 再/ 尽量/ 填满/ y/ 方向/ ,/ 然后/ z/ 方向/ 放/ 一层/ 得到/ 一个/ 长方体/ 块/ 、/ z/ 方向/ 放/ 二层/ 得到/ 一个/ 长方体/ 块/ 、/ …/ 、/ 最后/ z/ 方向/ 尽量/ 填满/ 得到/ 一个/ 长方体/ 块/ ;/ 即/ 根据/ 此类/ 长方体/ 的/ 数量/ ,/ 在/ x/ 、/ y/ 方向/ 尽量/ 填满/ ,/ 然后/ z/ 方向/ 填入/ 一层/ 至/ 多层/ 以/ 得到/ 不同/ 的/ 捆绑/ 块/ ./ 其他/ 捆绑/ 方案/ 依此类推/ ./ 图/ 3/ 捆绑/ 块/ 的/ 生成/ 2.5/ 捆绑/ 块/ 的/ 选择/ 由于/ 构成/ 捆绑/ 块/ 的/ 长方体/ 类型/ 、/ 放置/ 方向/ 和/ 捆绑/ 方式/ 的/ 不同/ ,/ 在/ 当前/ 格局/ 下/ 可能/ 有/ 多个/ 不同/ 的/ 放入/ 动作/ ./ 我们/ 定义/ 穴度/ 来/ 评价/ 不同/ 的/ 放入/ 动作/ 的/ 优劣/ ,/ 并/ 从中/ 选择/ 一个/ 穴度/ 最大/ 的/ 放入/ 动作/ 来/ 做/ ./ 穴/ 度越/ 大/ ,/ 说明/ 捆绑/ 块/ 与/ 当前/ 的/ 动作/ 空间/ 吻合/ 得/ 越/ 好/ ./ 本文/ 将/ 整个/ 捆绑/ 块/ 视为/ 一个/ 物体/ ,/ 给出/ 了/ 3/ 种穴度/ 的/ 定义/ ./ 定义/ 2/ ./ 贴面/ 数/ ki/ ./ 捆绑/ 块/ 有/ 多少/ 个面/ 与/ 动作/ 空间/ 相贴/ 即/ 重合/ 的/ 面积/ 大于/ 0/ ./ 定义/ 3/ ./ 贴面/ 率/ ri/ ./ 捆绑/ 块/ 与/ 动作/ 空间/ 相贴/ 的/ 定义/ 4/ ./ 它/ 贴面/ 数/ pi/ ./ 其他/ 已/ 放入/ 的/ 块/ 及/ 箱子/ 定义/ 5/ ./ 邻近/ 度/ ad1/ 面积/ 与/ 捆绑/ 块/ 的/ 总/ 表面积/ 之比/ ./ 的/ 壁/ 有/ 多少/ 个面/ 与/ 捆绑/ 块/ 相贴/ ./ 间/ 体积/ 的/ 比率/ 以及/ 组成/ 块/ 的/ 小/ 长方体/ 的/ 数目/ 即/ 捆绑/ 数/ ni/ 决定/ :/ ad1i/ =/ 13n/ 槡/ i/ 其中/ Li/ 、/ Wi/ 、/ Hi/ 为/ 捆绑/ 块/ 的/ 三边/ 边长/ ,/ LD/ 、/ WD/ 、/ HD/ 为/ 动作/ 空间/ 的/ 三边/ 边长/ ./ 动作/ 空间/ 的/ 体积/ 利用率/ 越大/ ,/ ad1i/ 为/ 动作/ 空间/ 的/ 平均/ 填充/ 率/ ./ ad1i/ 越大/ ;/ 组成/ 块/ 的/ 捆绑/ 数越/ 小/ ,/ ad1/ 定义/ 6/ ./ 邻近/ 度/ ad2/ 贴面/ 的/ 最小/ 距离/ di/ 和/ 捆绑/ 块/ 三边/ 边长/ 的/ 几何/ 平均值/ 决定/ :/ ad2/ 图/ 3/ 所示/ 分别/ 为/ 在/ 当前/ 动作/ 空间/ 中/ 放入/ 的/ 3/ 个/ 捆绑/ 块/ ./ 设/ 当前/ 选定/ 了/ 箱子/ 左/ 半部/ 的/ 动作/ 空间/ 且/ 其待/ 放角为/ 左后/ 下角/ ,/ 又/ 设/ 形状/ 大小/ 相同/ 的/ 某类/ 待放/ 长方体/ 有/ 25/ 个/ ./ 若以/ 竖立/ 的/ 方向/ 放入/ 到/ 此/ 动作/ 空间/ 中/ ,/ 按照/ xzy/ 的/ 捆绑/ 方式/ ,/ 则/ 可以/ 在/ x/ 方向/ 捆绑/ 4/ 个/ 、/ z/ 方向/ 捆绑/ 2/ 个/ 形成/ 一个/ 长方体/ 组件/ ,/ 然后/ 将/ 此/ 组件/ 在/ y/ 方向/ 分别/ 捆绑/ 1/ 层/ 、/ 2/ 层/ 或/ 3/ 层/ 得到/ 3/ 个/ 不同/ 的/ 捆绑/ 块/ ./ 虽然/ 在/ y/ 方向/ 可以/ 放入/ 4/ 层/ ,/ 但/ 由于/ 此类/ 长方体/ 只有/ 25/ 个/ ,/ 而/ 放入/ 3/ 层后/ 已经/ 使用/ 了/ 24/ 个/ ,/ 所以/ 无法/ 在/ y/ 方向/ 放入/ 4/ 层以/ 构成/ 新/ 的/ 捆绑/ 块/ ./ 定义/ 7/ ./ 邻近/ 度/ ad3i/ ./ 由/ 捆绑/ 块/ 与/ 动作/ 空间/ 未/ 贴面/ 的/ 最小/ 距离/ di/ 和/ 捆绑/ 块/ 三边/ 边长/ 的/ 算术/ 平均值/ 决定/ :/ ad3i/ =/ exp/ 定义/ 8/ ./ 穴度/ Ck/ 数/ 、/ 邻近/ 度/ 和/ 贴面/ 率/ 决定/ ./ 根据/ 不同/ 的/ 邻近/ 度/ 定义/ ,/ 相应/ 地有/ 三种/ 穴度/ 的/ 定义/ ./ 穴度/ 的/ 比较/ 即/ 依/ 字典/ 序/ 比较/ 此穴度/ 四元组/ 的/ 大小/ ./ 穴/ 度越/ 大/ ,/ 说明/ 放入/ 块/ 与/ 动作/ 空间/ 相贴/ 的/ 面越/ 多/ ,/ 贴住/ 的/ 其他/ 放入/ 块/ 或/ 箱子/ 的/ 壁/ 越/ 多/ ,/ 对/ 动作/ 空间/ 占满/ 的/ 程度/ 越大/ ,/ 被/ 贴/ 的/ 面积/ 比率/ 越大/ ,/ 从而/ 与/ 动作/ 空间/ 的/ 吻合/ 程度/ 越好/ ./ 下面/ 给出/ 捆绑/ 块/ 的/ 选择/ 子/ 算法/ ./ 根据/ 不同/ 的/ 穴度/ 定义/ ,/ 分别/ 有/ 3/ 个子/ 算法/ SELECT/ _/ BLOCKk/ (/ k/ ∈/ {/ 1/ ,/ 2/ ,/ 3/ }/ )/ ./ 其中/ 的/ 传入/ 参数/ 为/ 待/ 放/ 的/ 动作/ 空间/ 和/ 当前/ 格局/ 下/ 箱子/ 外/ 剩余/ 的/ 不同/ 类型/ 长方体/ 的/ 尺寸/ 和/ 数量/ ./ 算法/ 3/ ./ SELECT/ _/ BLOCKk/ ./ 输入/ :/ ActionSpaceS/ ,/ ListitemSets/ 输出/ :/ candidateB1/ ./ Begin2/ ./ 捆绑/ 块/ 列表/ blockList/ ←/ null/ ;/ 3/ ./ FORitemSets/ 中/ 的/ 每种/ 长方体/ 类型/ 和/ 数量/ :/ 4/ ./ FOR/ 此类/ 长方体/ 的/ 每种/ 合法/ 的/ 放置/ 方向/ :/ 5/ ./ 按/ xyz/ 、/ yxz/ 、/ xzy/ 、/ zxy/ 、/ yzx/ 和/ zyx/ 这/ 6/ 种/ 捆绑/ Page56/ ./ ENDFOR7/ ./ ENDFOR8/ ./ 去掉/ blockList/ 中/ 形状/ 大小/ 完全相同/ 的/ 捆绑/ 块/ ;/ 9/ ./ 选择/ 的/ 捆绑/ 块/ candidateB/ ←/ NULL/ ;/ 10/ ./ FORblockList/ 中/ 的/ 每个/ 捆绑/ 块/ Bi/ :/ 11/ ./ IFcandidateB/ =/ NULL/ ,/ THEN12/ ./ candidateB/ ←/ Bi/ ;/ 13/ ./ ELSE/ 依/ 字典/ 序/ 比较/ candidateB/ 与/ Bi/ 的/ 以下/ 参数/ :/ 14/ ./ IFBi/ 优于/ candidateB/ ,/ THEN15/ ./ candidateB/ ←/ Bi/ ;/ 16/ ./ ENDIF17/ ./ ENDIF18/ ./ ENDFOR19/ ./ RETURNcandidateB/ ;/ 20/ ./ ENDSELECT/ _/ BLOCKk/ ./ 2.6/ 基于/ 动作/ 空间/ 的/ 构造型/ 穴度/ 算法/ 在/ 当前/ 格局/ 下/ ,/ 每/ 一步/ 选择/ 一个/ 最靠近/ 箱子/ 边缘/ 的/ 动作/ 空间/ (/ 待放角区/ 随之/ 而定/ )/ ,/ 再/ 选择/ 一个/ 与/ 当前/ 空间/ 吻合/ 程度/ 最好/ 的/ 捆绑/ 块/ 放入/ ,/ 然后/ 更新/ 动作/ 空间/ 列表/ ,/ 包括/ 去掉/ 已用/ 的/ 动作/ 空间/ ,/ 加入/ 新/ 生成/ 的/ 动作/ 空间/ 以及/ 更新/ 与/ 放入/ 块/ 有/ 重叠/ 的/ 动作/ 空间/ ,/ 从而/ 得到/ 一个/ 新/ 的/ 格局/ ./ 如此/ 不断/ 迭代/ ,/ 直至/ 终止/ 格局/ ./ 根据/ 3/ 种穴度/ 的/ 定义/ ,/ 相应/ 地有/ 3/ 种/ 构造型/ 算法/ CONSTRUCT/ _/ SOLUTIONk/ (/ k/ ∈/ {/ 1/ ,/ 2/ ,/ 3/ }/ )/ ,/ 其/ 传入/ 参数/ 为/ 当前/ 格局/ 下/ 的/ 动作/ 空间/ 列表/ 和/ 箱子/ 外/ 剩余/ 的/ 不种/ 类型/ 长方体/ 的/ 尺寸/ 和/ 数量/ ./ 算法/ 4/ ./ CONSTRUCT/ _/ SOLUTIONk/ ./ 输入/ :/ ListactionSpaces/ ,/ ListitemSets/ 输出/ :/ 箱子/ 的/ 填充/ 率/ 1/ ./ 当前/ 动作/ 空间/ S/ ←/ NULL/ ;/ 2/ ./ WHILEactionSpaces/ 不为/ NULL3/ ./ 选择/ 一个/ 动作/ 空间/ :/ 4/ ./ 为/ 空间/ S/ 选择/ 一个/ 捆绑/ 块/ :/ 5/ ./ IFcandidateB/ =/ NULL/ ,/ THEN6/ ./ ELSE7/ ./ 将/ candidateB/ 放入/ S/ 的/ 待/ 放角区/ ;/ 8/ ./ 更新/ actionSpaces/ 并/ 计算/ 更新/ 空间/ 的/ 候选/ 角/ ;/ 9/ ./ 更新/ 箱子/ 外/ 的/ 剩余/ 长方体/ 集/ itemSets/ ;/ 10/ ./ ENDIF11/ ./ ENDWHILE12/ ./ 计算/ 并/ 返回/ 箱子/ 的/ 填充/ 率/ ;/ 13/ ./ ENDCONSTRUCT/ _/ SOLUTIONk/ ./ 2.7/ 基于/ 动作/ 空间/ 的/ 树/ 搜索算法/ 在/ 构造型/ 算法/ 的/ 基础/ 上/ ,/ 加入/ 带/ 回溯/ 的/ 树/ 搜索/ 方法/ ,/ 从而/ 得到/ 最终/ 的/ 确定性/ 求解/ 算法/ ./ 下面/ 首先/ 给出/ 动作/ 的/ 价值/ 度/ 定义/ ./ 定义/ 9/ ./ 价值/ 度/ Vk/ 角/ 动作/ ,/ 得到/ 一个/ 新/ 的/ 格局/ ./ 从/ 新格局/ 开始/ ,/ 执行/ 构造型/ 算法/ CONSTRUCT/ _/ SOLUTIONk/ ,/ 算法/ 终止/ 时/ 箱子/ 的/ 填充/ 率/ 称为/ 该/ 动作/ 的/ 价值/ 度/ ./ 本文/ 分别/ 用/ 3/ 种/ 构造型/ 算法/ 进行/ 回溯/ ,/ 从而/ 得到/ 3/ 种穴度/ 定义/ 下/ 箱子/ 的/ 填充/ 率/ ,/ 然后/ 从中/ 选择/ 填充/ 率/ 最高/ 的/ 一个/ 布局/ 作为/ 最终/ 的/ 结果/ 输出/ ./ 算法/ 5/ ./ TREE/ _/ SEARCH/ ./ 输入/ :/ Containerc/ ,/ ListitemSets/ 输出/ :/ 最终/ 布局/ 1/ ./ Begin2/ ./ 初始化/ :/ 生成/ 唯一/ 的/ 一个/ 动作/ 空间/ S0/ 并/ 选定/ 其/ 候选/ 角/ ;/ 3/ ./ 空间/ 列表/ actionSpaces/ ←/ S0/ ;/ 4/ ./ FORk/ =/ 1to3/ :/ 5/ ./ actionSpacesk/ ←/ 复制/ actionSpaces/ ;/ 6/ ./ itemSetsk/ ←/ 复制/ itemSets/ ;/ 7/ ./ WHILEactionSpacesk/ 不为/ NULL/ :/ 8/ ./ 选择/ 一个/ 动作/ 空间/ :/ 9/ ./ 生成/ 此/ 空间/ 可/ 放入/ 的/ 各种/ 捆绑/ 块/ blockListk/ ;/ 10/ ./ 计算/ 这些/ 捆绑/ 块/ 放入/ 后/ 的/ 穴度/ Ck11/ ./ 记/ 当前/ 格局/ 为/ Fk/ ;/ 12/ ./ 价值/ 度/ Vbest/ ←/ 0/ ;/ 13/ ./ FORblockListk/ 中/ 的/ 每/ 一个/ 捆绑/ 块/ Bk/ :/ 14/ ./ 从/ 格局/ Fk/ 开始/ ,/ 将/ Bk/ 放入/ Sk/ 的/ 候选/ 角区/ ,/ 15/ ./ IFVk16/ ./ ENDFOR17/ ./ 在/ 格局/ Fk/ 下/ 将/ Vbest/ 对应/ 的/ 块/ 放入/ Sk/ 的/ 候选/ 角区/ ;/ 18/ ./ 更新/ actionSpacesk/ 并/ 计算/ 更新/ 空间/ 的/ 候选/ 角区/ ;/ 19/ ./ 更新/ 箱子/ 外/ 的/ 剩余/ 长方体/ 集/ itemSetsk/ ;/ 20/ ./ Fk/ ←/ 新格局/ ;/ 21/ ./ ENDWHILE22/ ./ resultk/ ←/ 按/ 价值/ 度/ Vk23/ ./ ENDFOR24/ ./ 从/ 3/ 个/ 最终/ 布局/ 中/ 选择/ 填充/ 率/ 最大/ 的/ 一个/ 输出/ ;/ 25/ ./ ENDTREE/ _/ SEARCH/ ./ Page6/ 树/ 搜索算法/ 的/ 执行/ 过程/ 如图/ 4/ 所示/ ./ 其中/ 图/ 4/ (/ a/ )/ 所示/ 为/ 内层/ 循环/ 中/ 在/ 当前/ 格局/ 下用/ 回溯/ 的/ 方式/ 计算/ 价值/ 度/ Vk/ 图/ 4/ 树/ 搜索算法/ 3/ 实验/ 计算/ 我们/ 将/ 基于/ 动作/ 空间/ 的/ 改进型/ 穴度/ 算法/ ICDA/ 用/ Java/ 语言/ 实现/ ,/ 在/ Intel/ (/ R/ )/ Xeon/ (/ R/ )/ CPU2/ ./ 33GHz/ 的/ 计算机/ 上/ 进行/ 了/ 实验/ 计算/ ,/ 并/ 与/ 国内外/ 代表性/ 求解/ 算法/ 的/ 计算结果/ 进行/ 了/ 比较/ ./ 3.1/ 测试/ 算例/ 实验/ 采用/ 的/ 测试数据/ 为/ Bischoff/ 和/ Ratcliff/ 于/ 1995/ 年/ 提出/ 的/ 7/ 组共/ 700/ 个弱/ 异构/ 型算例/ [/ 1/ ]/ ,/ 依次/ 称为/ BR1/ ,/ BR2/ ,/ …/ ,/ BR7/ ./ 这/ 7/ 组/ 测试数据/ 为/ 国内外/ 引用/ 得/ 最/ 多/ 的/ 算/ 例集/ ./ 其中/ 每个/ 算例/ 待/ 放/ 长方体/ 的/ 数目/ 约/ 为/ 130/ 个/ ,/ 不同/ 尺寸/ 的/ 长方体/ 类型/ 从/ 3/ 种表/ 1/ 不同/ 算法/ 的/ 计算精度/ 比较/ 算例/ 集/ (/ 类型/ 数/ )/ H/ _/ BR/ (/ 1995/ )/ 83.3783/ ./ 5783.5984/ ./ 1683.8982/ ./ 9282.1483/ ./ 37H/ _/ B/ _/ al/ (/ 1995/ )/ 81.7681/ ./ 7082.9882/ ./ 6082.7681/ ./ 5080.5181/ ./ 97GA/ _/ GB/ (/ 1997/ )/ 86.7788/ ./ 1288.8788/ ./ 6888.7888/ ./ 5388.3688/ ./ 30TS/ _/ BG/ (/ 1998/ )/ 92.6392/ ./ 7092.3191/ ./ 6290.8690/ ./ 0488.6391/ ./ 26HGA/ _/ BG/ (/ 2001/ )/ 87.8189/ ./ 4090.4890/ ./ 6390.7390/ ./ 7290.6590/ ./ 06PGA/ _/ GB/ (/ 2002/ )/ 88.1089/ ./ 5690.7791/ ./ 0391.2391/ ./ 2891.0490/ ./ 43PTS/ _/ B/ _/ al/ (/ 2003/ )/ 93.5293/ ./ 7793.5893/ ./ 0592.3491/ ./ 7290.5592/ ./ 65PH/ _/ M/ _/ al/ (/ 2004/ )/ 93.70/ (/ 3/ )/ 94.30/ (/ 3/ )/ 94.54/ (/ 2/ )/ 94.27/ (/ 3/ )/ 93.83/ (/ 3/ )/ 93.34/ (/ 3/ )/ 92.50/ (/ 2/ )/ 93.78/ (/ 3/ )/ MFBGRASP/ (/ 2005/ )/ 89.0790/ ./ 4390.8690/ ./ 4289.5789/ ./ 7188.0589/ ./ 73H/ _/ BCHGRASP/ (/ 2009/ )/ 93.2793/ ./ 3893.3993/ ./ 1692.8992/ ./ 6291.8692/ ./ 94HSAVNSICDA/ 示为/ 外层/ 循环/ 中用/ 3/ 种/ 价值/ 度/ 分别/ 计算/ 得到/ 不同/ 的/ 最终/ 格局/ ,/ 并/ 从中/ 选择/ 填充/ 率/ 最高/ 的/ 作为/ 最终/ 的/ 计算结果/ 输出/ ./ (/ BR1/ )/ 到/ 20/ 种/ (/ BR7/ )/ 不/ 等/ ,/ 待放/ 长方体/ 的/ 总/ 体积/ 接近/ 于/ 箱子/ 的/ 体积/ ,/ 其/ 最优/ 解/ 未知/ ./ 3.2/ 计算结果/ 对/ 这/ 700/ 个/ 著名/ 的/ 三维/ 装箱/ 算例/ ,/ 国内外/ 许多/ 的/ 研究者/ 进行/ 了/ 实验/ 计算/ ./ 作为/ 比较/ ,/ 本文/ 包括/ 了/ 其中/ 代表性/ 的/ 算法/ H/ _/ BR/ [/ 1/ ]/ 、/ H/ _/ B/ _/ al/ [/ 2/ ]/ 、/ GA/ _/ GB/ [/ 15/ ]/ 、/ TS/ _/ BG/ [/ 10/ ]/ 、/ HGA/ _/ BG/ [/ 3/ ]/ 、/ PGA/ _/ GB/ [/ 4/ ]/ 、/ PTS/ _/ B/ _/ al/ [/ 12/ ]/ 、/ PH/ _/ M/ _/ al/ [/ 5/ ]/ 、/ MFB/ [/ 6/ ]/ 、/ GRASP/ [/ 7/ ]/ 、/ H/ _/ B/ [/ 8/ ]/ 、/ CH/ [/ 9/ ]/ 、/ GRASP/ [/ 13/ ]/ 、/ HSA/ [/ 11/ ]/ 和/ VNS/ [/ 14/ ]/ ./ 表/ 1/ 给出/ 了/ 这些/ 算法/ 与/ 改进型/ 穴度/ 算法/ ICDA/ 的/ 计算结果/ ./ 其中/ 包括/ 每组/ 算例/ 的/ 平均/ 填充/ 率/ (/ %/ )/ 以及/ 全体/ 算例/ 的/ 平均/ 填充/ 率/ (/ %/ )/ ./ 表中/ 标出/ 了/ 每组/ 平均/ 填充/ 率/ 最高/ 的/ 前/ 3/ 个/ 数据/ ,/ 且/ 平均/ 填充/ 率/ 最高/ 的/ 数据/ 用/ 粗体/ 显示/ ./ Page7/ 可见/ ,/ 在/ 这/ 16/ 个/ 算法/ 中/ ,/ 平均/ 填充/ 率/ 最高/ 的/ 前/ 3/ 个/ 算法/ 依次/ 为/ Parreo/ 等/ 人于/ 2010/ 年/ 最新/ 发布/ 的/ VNS/ 算法/ 、/ 我们/ 的/ ICDA/ 算法/ 和/ Mack/ 等/ 人于/ 2004/ 年/ 提出/ 的/ PH/ _/ M/ _/ al/ 算法/ ./ 其中/ ICDA/ 算法/ 对/ 每组/ 算例/ 的/ 平均/ 填充/ 率/ 的/ 排名/ 依次/ 为/ 2/ 、/ 2/ 、/ 3/ 、/ 2/ 、/ 2/ 、/ 1/ 和/ 1/ ,/ 且/ 在/ BR6/ 和/ BR7/ 这/ 两组/ 算例/ 上/ 的/ 填充/ 率要/ 高于/ 目前/ 已见/ 发表/ 的/ 最好/ 结果/ ./ 一般而言/ ,/ 随着/ 算例/ 异构/ 性/ 的/ 增强/ ,/ 即/ 长方体/ 的/ 类型/ 越来越/ 多/ ,/ 同类/ 长方体/ 的/ 数量/ 越来越/ 少时/ ,/ 由于/ 长方体/ 对齐/ 的/ 难度/ 增加/ 而/ 不可避免/ 地/ 产生/ 各种/ 空隙/ ,/ 因此/ 算法/ 求解/ 的/ 优度/ 呈/ 下降/ 的/ 趋势/ ./ 对于/ ICDA/ 算法/ ,/ 在/ 待/ 放/ 长方体/ 的/ 类型/ 较/ 多/ 同时/ 每/ 类/ 长方体/ 的/ 数目/ 也/ 较/ 多/ 的/ 情况/ 下/ ,/ 可/ 生成/ 的/ 不同/ 捆绑/ 块/ 的/ 种类/ 较/ 多/ ,/ 从而/ 有/ 可能/ 找到/ 与/ 当前/ 动作/ 空间/ 吻合/ 程度/ 高/ 的/ 块/ 放入/ ,/ 因此/ 在/ 一定/ 程度/ 上/ 缓解/ 了/ 算例/ 异构/ 性/ 增强/ 带来/ 的/ 不利/ 影响/ ./ 从表/ 1/ 中/ 可/ 看出/ ,/ VNS/ 算法/ 在/ 最好/ 结果/ 与/ 最坏/ 结果/ 之间/ 的/ 差距/ 为/ 1.66/ ,/ 而/ ICDA/ 算法/ 的/ 仅/ 为/ 0.96/ ./ 这/ 使得/ ICDA/ 算法/ 在/ BR6/ 和/ BR7/ 这/ 两组/ 算例/ 上/ 得到/ 了/ 好/ 于/ VNS/ 的/ 结果/ ./ 表/ 2/ 给出/ 了/ 其中/ 的/ 若干个/ 算法/ 实验/ 计算/ 时/ 所用/ 的/ 机器配置/ 和/ 运行/ 的/ 时间/ ./ ICDA/ 算法/ 在/ 全体/ 算例/ 上/ 的/ 平均/ 计算/ 时间/ 为/ 53.90/ s/ ./ 可见/ ,/ ICDA/ 算法/ 的/ 计算精度/ 较/ 高/ ,/ 同时/ 计算/ 的/ 时间/ 很/ 短/ ,/ 是/ 一个/ 高效率/ 的/ 确定性/ 快速/ 求解/ 算法/ ./ 算法/ PGA/ _/ GBPTS/ _/ B/ _/ al4/ ×/ 2.0/ PH/ _/ M/ _/ al4/ ×/ 2.0/ GRASPCHGRASPHSAVNSICDA4/ 结论/ 本文/ 基于/ 当前/ 可能/ 放入/ 的/ 最大/ 虚拟/ 长方体/ 所/ 对应/ 的/ 动作/ 空间/ 重新/ 定义/ 了/ 穴度/ ,/ 并/ 在/ 放入/ 位置/ 的/ 选择/ 上/ 直接/ 体现/ “/ 金角银/ 边草/ 肚皮/ ”/ 的/ 思想/ ,/ 使/ 新/ 算法/ 克服/ 了/ 原有/ 穴度/ 算法/ 计算/ 时间/ 较长/ 的/ 弱点/ ./ 对/ 700/ 个/ BR/ 算例/ 的/ 计算/ 结果表明/ ,/ 新/ 算法/ 的/ 空间/ 填充/ 率/ 很/ 高/ ,/ 同时/ 计算/ 的/ 速度/ 很快/ ./ 由于/ NP/ 难度/ 问题/ 不/ 存在/ 多项式/ 时间/ 的/ 确定性/ 精确/ 求解/ 算法/ ,/ 除非/ P/ =/ NP/ ./ 因此/ ,/ 本文/ 提出/ 的/ 求解/ 三维/ 装箱/ 这一/ NP/ 难度/ 问题/ 的/ 快速/ 高效/ 的/ 确定性/ 算法/ 具有/ 较/ 高/ 的/ 理论/ 与/ 实际/ 价值/ ./ 

