Page1/ 支持/ 偏好/ 调控/ 的/ 路网/ 隐私/ 保护/ 犽/ 近邻/ 查询方法/ 倪巍伟/ 陈萧马/ 中希/ (/ 东南大学/ 计算机科学/ 与/ 工程学院/ 南京/ 211189/ )/ (/ 东南大学/ 计算机网络/ 和/ 信息/ 集成/ 教育部/ 重点/ 实验室/ 南京/ 211189/ )/ 摘要/ 随着/ 人们/ 对/ 个体/ 隐私/ 的/ 日益/ 关注/ ,/ 位置服务/ 中/ 的/ 隐私/ 保护/ 问题/ 成为/ 数据库/ 领域/ 新兴/ 的/ 研究/ 热点/ ./ 针对/ 面向/ 路网/ 的/ 隐私/ 保护/ k/ 近邻/ 查询/ 中/ ,/ 保护/ 位置/ 隐私/ 引发/ 的/ 难以/ 兼顾/ 查询/ 质量/ 问题/ 及/ 查询/ 者/ 对/ 查询/ 效率/ 与/ 准确性/ 间/ 偏好/ 调控/ 需求/ 问题/ ,/ 引入/ PoI/ (/ PointsofInterest/ )/ 概率分布/ 概念/ ,/ 通过/ 分析/ 服务器端/ PoI/ 邻接/ 关系/ ,/ 生成/ PoI/ 概率分布/ ./ 将/ 服务器端/ 查找/ k/ 近邻/ PoI/ 过程/ 分解/ 为/ 路网/ 扩张/ 查询/ 阶段/ 和/ 迭代/ 替换/ 阶段/ ,/ 为/ 迭代/ 替换/ 阶段/ 构建/ 基于/ PoI/ 概率分布/ 的/ 可/ 替换/ PoI/ 概率/ 预测/ 机制/ ./ 基于/ 所/ 构建/ 概率/ 预测/ 机制/ ,/ 提出/ 支持/ 用户/ 偏好/ 调控/ 的/ 保护/ 位置/ 隐私/ k/ 近邻/ 查询方法/ AdPriQuery/ (/ AdjustablePrivacy/ -/ preservingknearestneighborQuery/ )/ ,/ 查询/ 者/ 通过/ 调节/ 筛选/ 概率/ 阈值/ ,/ 在/ 兼顾/ 位置/ 隐私/ 安全/ 的/ 同时/ ,/ 实现/ 对/ 查询/ 效率/ 与/ 准确性/ 的/ 偏好/ 调控/ ./ 所提/ 调控/ 机制/ 对/ 已有/ 的/ 基于/ 空间/ 混淆/ 的/ 路网/ 环境保护/ 位置/ 隐私/ 近邻/ 查询方法/ 具有/ 良好/ 的/ 兼容性/ ./ 理论/ 分析/ 和/ 实验/ 结果表明/ ,/ 所提/ 方法/ 在/ 兼顾/ 保护/ 位置/ 隐私/ 的/ 同时/ ,/ 能/ 有效/ 提高/ 服务器端/ 查询/ 效率/ ,/ 同时/ 支持/ 查询/ 结果/ 准确性/ 与/ 查询/ 效率/ 的/ 偏好/ 调控/ 要求/ ./ 关键词/ 位置/ 隐私/ 保护/ ;/ k/ 近邻/ 查询/ ;/ 路网/ ;/ PoI/ 概率分布/ ;/ 偏好/ 调控/ 1/ 引言/ 移动/ 通信/ 与/ 空间/ 定位/ 技术/ 的/ 快速/ 发展/ 促进/ 了/ 基于/ 位置服务/ (/ LocationBasedServices/ ,/ LBS/ )/ 的/ 兴起/ ,/ k/ 近邻/ 查询/ 是/ 位置服务/ 中/ 常见/ 的/ 查询/ 模式/ ,/ 指/ 查找/ 距/ 查询/ 者/ 当前/ 位置/ 最近/ 的/ k/ 个/ 目标/ PoI/ (/ PointsofInterest/ )/ ,/ 例如/ 查找/ 距/ 查询/ 者/ 最近/ 的/ k/ 个/ 餐厅/ 或/ 加油站/ 等/ ./ 从/ 查询/ 者/ 运动/ 模式/ 角度/ ,/ 可/ 分为/ 无约束/ 环境/ 下/ 近邻/ 查询/ 和/ 路网/ 环境/ 下/ 近邻/ 查询/ ,/ 前者/ 假设/ 查询/ 者/ 可以/ 向/ 任何/ 方向/ 运动/ ,/ 后者/ 要求/ 查询/ 者/ 的/ 运动/ 必须/ 受/ 实际/ 路网/ 约束/ ./ 该/ 服务/ 需要/ 查询/ 者/ 向/ 服务/ 提供/ 方/ 提供/ 自身/ 准确/ 位置/ 以/ 获取/ 查询/ 结果/ ,/ 实时/ 位置/ 信息/ 蕴含/ 用户/ 行为/ 模式/ ,/ 随着/ 人们/ 对/ 个体/ 信息安全/ 的/ 日益/ 关注/ ,/ 用户/ 的/ 位置/ 安全/ 日益/ 受到重视/ ,/ 如何/ 在/ 不/ 泄漏/ 个体/ 位置/ 隐私/ 的/ 同时/ 实现/ k/ 近邻/ 查询/ 成为/ 数据库/ 领域/ 隐私/ 敏感/ 位置服务/ 研究/ 的/ 一个/ 热点/ ./ 近年来/ ,/ 研究者/ 提出/ 了/ 一系列/ 保护/ 位置/ 隐私/ 查询/ 的/ 方法/ ,/ 基本/ 思想/ 是/ 通过/ 隐匿/ 机制/ ,/ 将/ 隐藏/ 后/ 查询/ 者/ 位置/ 及/ 查询/ 请求/ 提交/ 服务器/ ,/ 服务器返回/ 候选/ 结果/ ,/ 由/ 可信/ 第三方/ 或/ 查询/ 者/ 从中/ 甄选/ 出/ 查询/ 结果/ ./ 从/ 隐藏/ 技术/ 角度/ ,/ 这些/ 方法/ 可/ 分为/ 三类/ [/ 1/ -/ 5/ ]/ :/ 位置/ 干扰/ (/ LocationObstruction/ )/ 、/ 空间/ 变换/ (/ SpaceTransfor/ -/ mation/ )/ 和/ 空间/ 混淆/ (/ SpatialCloaking/ )/ ./ 已有/ 研究/ 多数/ 以/ 维持/ 查询/ 准确性/ 为/ 前提/ ,/ 在/ 查询/ 效率/ 与/ 查询/ 者/ 位置/ 隐私/ 安全/ 间/ 寻求/ 折衷/ ./ 然而/ ,/ 查询处理/ 中/ 对/ 位置/ 隐私/ 的/ 保护/ 引发/ 了/ 一些/ 新/ 问题/ :/ (/ 1/ )/ 保护/ 位置/ 隐私/ 导致/ 难以/ 兼顾/ 查询/ 质量/ 相对/ 于/ 不/ 考虑/ 查询/ 者/ 位置/ 隐私/ 的/ k/ 近邻/ 查询/ ,/ 保护/ 查询/ 者/ 位置/ 隐私/ 的/ 约束/ 不可避免/ 地/ 导致/ 查询/ 效率/ 降低/ ./ 尽管/ 已有/ 一些/ 研究/ 致力于/ 提高/ 隐私/ 保护/ k/ 近邻/ 查询/ 的/ 效率/ ,/ 但/ 从/ 隐私/ 保护/ 查询/ 内在/ 制约/ 机理/ 角度/ 分析/ ,/ 查询/ 效率/ 、/ 准确性/ 与/ 位置/ 安全/ 是/ 对立/ 的/ ./ 在/ 保证/ 位置/ 隐私/ 安全/ 的/ 前提/ 下/ ,/ 对/ 提高/ 查询/ 效率/ 的/ 无限/ 追求/ ,/ 最终/ 不可避免/ 需要/ 牺牲/ 查询/ 的/ 准确性/ ./ (/ 2/ )/ 保护/ 位置/ 隐私/ 引起/ 查询/ 者/ 偏好/ 调控/ 需求/ 不/ 考虑/ 位置/ 隐私/ 的/ 情况/ 下/ ,/ 查询/ 者/ 只/ 需/ 解决/ 查询/ 效率/ 和/ 查询/ 准确性/ 二元关系/ ,/ 相对/ 于/ 保护/ 位置/ 隐私/ 查询/ ,/ 其/ 查询/ 机理/ 相对/ 简单/ ,/ 使得/ 查询/ 者/ 能够/ 兼顾/ 效率/ 与/ 准确性/ ./ 保护/ 位置/ 隐私/ 查询/ 中/ ,/ 查询/ 者/ 面对/ 位置/ 安全性/ 、/ 查询/ 准确性/ 、/ 查询/ 效率/ 三元/ 关系/ ,/ 其/ 查询/ 机理/ 的/ 复杂/ ,/ 使得/ 查询/ 者/ 需要/ 在/ 查询/ 效率/ 、/ 准确性/ 与/ 位置/ 安全/ 间/ 进行/ 取舍/ ,/ 出现/ 偏好/ 调控/ 需求/ ./ 例如/ ,/ 对/ 最近/ 邻/ 查询/ ,/ 准确性/ 要求/ 通常/ 高于/ 位置/ 安全/ 和/ 查询/ 效率/ 要求/ ;/ 而/ 对/ k/ 近邻/ 查询/ ,/ 其/ 处理/ 较/ 最近/ 邻/ 查询/ 更为/ 复杂/ ,/ 在/ 保证/ 查询/ 者/ 位置/ 安全/ 前提/ 下/ ,/ 查询/ 者/ 通常/ 能够/ 接受/ 牺牲/ 查询/ 准确性/ 以/ 换取/ 查询/ 效率/ 的/ 提升/ ./ 如图/ 1/ 所示/ 路网/ ,/ n1/ ~/ n12/ 对应/ 公路/ 交点/ ,/ p1/ ~/ p9/ 为/ 分布/ 在/ 公路/ 附近/ 的/ PoI/ (/ 如/ 加油站/ )/ ,/ 查询/ 者/ 在/ 图示/ 位置/ 发起/ 距其/ 最近/ 3/ 个/ 加油站/ 的/ 查询/ ,/ 根据/ 路网/ 扩张/ 搜索/ 方法/ (/ 具体/ 见/ 3.1/ 节/ )/ ,/ 服务器/ 需要/ 遍历/ n8n5/ 、/ n8n2/ 、/ n8n9/ 、/ n9n7/ 、/ n9n10/ 这/ 5/ 条边/ 才能/ 确定/ 距其/ 最近/ 的/ 3/ 个/ 加油站/ p1/ ,/ p2/ ,/ p3/ ./ 这一/ 过程/ 中/ ,/ 查找/ 第/ 1/ 、/ 2/ 近邻/ ,/ 仅/ 需/ 遍历/ 查询/ 者/ 所在/ 边/ n8n9/ ,/ 确定/ 第/ 3/ 近邻/ p3/ 时/ ,/ 则/ 需/ 遍历/ 其余/ 4/ 条边/ ,/ 若/ 查询/ 者/ 愿意/ 接受/ 所/ 查找/ 到/ 的/ 第/ 3/ 近邻/ 可能/ 不/ 准确/ (/ 取决于/ 选取/ 4/ 条边/ 的/ 哪条/ 边/ 遍历/ )/ ,/ 即/ 若/ 选择/ n8n2/ ,/ p5/ 将/ 被/ 认为/ 是/ 第/ 3/ 近邻/ 反馈/ 给/ 查询/ 者/ ,/ 从而/ 节省/ 60/ %/ 遍历/ 时间/ ./ 面向/ 路网/ 的/ 隐私/ 敏感/ 查询/ 中/ ,/ 通常/ 采用/ 空间/ 混淆/ 技术/ 将/ 查询/ 者/ 位置/ 泛化/ 为/ 混淆/ 区域/ (/ 公路/ 子网/ )/ 提交/ 服务器/ 处理/ ,/ 服务器端/ 通过/ 扩大/ 搜索/ 空间/ 返回/ 候/ Page3/ 选解集/ 实现/ 对/ 查询/ 者/ 位置/ 隐私/ 的/ 保护/ ,/ 搜索/ 空间/ 的/ 扩大/ 和/ 复杂/ 路网/ 结构限制/ ,/ 更是/ 加大/ 了/ 查询处理/ 开销/ ,/ 查询/ 准确性/ 与/ 效率/ 间/ 的/ 调控/ 机制/ 更显/ 重要/ ./ 考虑/ 位置服务/ 中/ ,/ 查询/ 者/ 对/ 位置/ 隐私/ 安全/ 关注度/ 日益/ 提高/ ,/ 本文/ 针对/ 面向/ 路网/ 的/ 隐私/ 敏感/ k/ 近邻/ 查询/ 存在/ 的/ 上述/ 问题/ ,/ 提出/ 一种/ 查询/ 者/ 可/ 根据/ 自身/ 偏好/ 要求/ ,/ 在/ 不/ 影响/ 查询/ 者/ 位置/ 安全/ 前提/ 下/ ,/ 动态/ 调控/ 查询/ 准确性/ 与/ 查询/ 效率/ 的/ 面向/ 路网/ 隐私/ 保护/ k/ 近邻/ 查询/ 方案/ ./ 论文/ 主要/ 贡献/ 包括/ :/ (/ 1/ )/ 针对/ 保护/ 查询/ 者/ 位置/ 隐私/ 约束/ ,/ 片面/ 提高/ 查询/ 效率/ 存在/ 的/ 局限性/ ,/ 采用/ 牺牲/ 准确性/ 换/ 效率/ 策略/ ,/ 缓解/ 满足/ 隐私/ 需求/ 约束/ 下/ 查询/ 效率/ 与/ 准确性/ 间/ 的/ 根本/ 对立/ 关系/ ;/ (/ 2/ )/ 关注/ 查询/ 者/ 偏好/ 调控/ 需求/ ,/ 在/ 满足/ 查询/ 者/ 保护/ 位置/ 隐私/ 约束/ 前提/ 下/ ,/ 构建/ 查询/ 准确性/ 与/ 查询/ 效率/ 间/ 的/ 偏好/ 调控/ 机制/ ;/ (/ 3/ )/ 提出/ 用户/ 可/ 调控/ 的/ 路网/ 环境保护/ 位置/ 隐私/ k/ 近邻/ 查询方法/ AdPriQuery/ (/ AdjustablePrivacy/ -/ preservingknearestneighborQuery/ )/ ,/ 查询/ 者/ 可/ 通过/ 调节/ 筛选/ 概率/ 阈值/ ,/ 在/ 保证/ 位置/ 安全/ 的/ 同时/ 调控/ 查询/ 准确性/ 与/ 效率/ ,/ 并/ 通过/ 理论/ 分析/ 和/ 实验/ 验证/ 所提/ 方法/ 的/ 有效性/ ./ 本文/ 第/ 1/ 节/ 介绍/ 保护/ 位置/ 隐私/ 近邻/ 查询/ 研究/ 现状/ ;/ 第/ 2/ 节对/ 相关/ 工作/ 进行/ 概述/ ;/ 第/ 3/ 节对/ 问题/ 进行/ 描述/ ,/ 提出/ 解决/ 思路/ 并/ 引入/ PoI/ 概率分布/ 概念/ ;/ 第/ 4/ 节/ 提出/ PoI/ 概率分布/ 生成/ 方法/ ;/ 第/ 5/ 节/ 构建/ 基于/ PoI/ 概率分布/ 的/ 可/ 替换/ PoI/ 概率/ 预测/ 机制/ ,/ 并/ 提出/ 查询/ 者/ 可/ 调节/ 查询/ 准确性/ 与/ 效率/ 的/ 保护/ 位置/ 隐私/ k/ 近邻/ 查询方法/ ;/ 第/ 6/ 节对/ 所/ 提/ 方法/ 的/ 有效性/ 进行/ 实验/ 分析/ 和/ 验证/ ;/ 最后/ ,/ 总结/ 全文/ 并/ 展望/ 后续/ 工作/ ./ 2/ 相关/ 工作/ 近年来/ ,/ 保护/ 位置/ 隐私/ 近邻/ 查询/ 得到/ 了/ 研究者/ 的/ 持续/ 关注/ ,/ 采用/ 的/ 主要/ 技术/ 包括/ :/ (/ 1/ )/ 位置/ 干扰/ (/ LocationObstruction/ )/ ./ 查询/ 者/ 持续/ 向/ LBS/ 服务器/ 提交/ 关于/ 特定/ 假/ 位置/ 的/ 查询/ 请求/ ,/ 直到/ 返回/ 满足/ 其/ 查询/ 准确性/ 与/ 隐私/ 安全/ 要求/ 的/ 结果/ ;/ (/ 2/ )/ 空间/ 变换/ (/ SpaceTransformation/ )/ ./ 设计/ 保持数据/ 空间/ 关系/ 的/ 数据/ 变换/ 方法/ 将/ 原始/ 位置/ 和/ 查询/ 转换/ 到/ 新/ 的/ 数据/ 空间/ 执行/ 以/ 保证/ 查询/ 者/ 位置/ 隐私/ 与/ 查询/ 准确性/ ;/ (/ 3/ )/ 空间/ 混淆/ (/ SpatialCloaking/ )/ ./ 将/ 查询/ 者/ 位置/ 扩展/ 为/ 包含/ 该/ 位置/ 的/ 泛化/ 区域/ 并/ 提交/ 至/ LBS/ 服务器/ ,/ 由/ 查询/ 者/ 或/ 可信/ 第三方/ 从/ 返回/ 候选/ 解中/ 甄别/ 出/ 查询/ 结果/ ./ 研究者/ 在/ 面向/ 非/ 路网/ 环境保护/ 位置/ 隐私/ 近邻/ 查询/ 领域/ 开展/ 了/ 大量/ 工作/ [/ 1/ ,/ 6/ -/ 11/ ]/ ,/ 文献/ [/ 1/ ]/ 利用/ 空间/ 混淆/ 技术/ ,/ 由/ 可信/ 第三方/ 将/ 查询/ 者/ 位置/ 泛化/ 为/ 包含/ 该/ 位置/ 且/ 满足/ 隐私/ 模型/ 约束/ 的/ 矩形/ 区域/ ,/ 并/ 发送至/ LBS/ 服务器/ ,/ LBS/ 服务器/ 查找/ 出/ 泛化/ 区域/ 内/ 所有/ 可能/ 位置/ 的/ 近邻/ PoI/ 作为/ 候选/ 解/ 返回/ 可信/ 第三方/ ,/ 可信/ 第三方/ 从/ 候选/ 解中/ 筛选/ 出/ 目标/ 结果/ 返回/ 查询/ 者/ ;/ 文献/ [/ 7/ ]/ 采用/ 空间/ 变换/ 思想/ ,/ 首先/ 将/ LBS/ 服务器端/ 存储/ 的/ PoI/ 位置/ 坐标/ 转换/ 为/ Hilbert/ 编码/ ,/ 查询/ 者/ 通过/ 内置/ Hilbert/ 编码/ 转换器/ 将/ 自身/ 位置/ 转换/ 为/ Hilbert/ 编码/ 并/ 提交/ 给/ LBS/ 服务器/ ,/ LBS/ 服务器/ 利用/ Hilbert/ 编码/ 连续/ 相邻/ 特性/ ,/ 将/ 查询/ 者/ 位置/ 编码/ 的/ 邻近/ PoI/ 编码/ 返回/ 查询/ 者/ ,/ 查询/ 者/ 解码/ 获取/ 返回/ Hilbert/ 编码/ 对应/ 的/ PoI/ 信息/ ;/ 文献/ [/ 8/ ]/ 提出/ 基于/ 位置/ 干扰/ 的/ SpaceTwist/ 查询方法/ ,/ 查询/ 者/ 生成/ 假/ 位置/ 坐标/ ,/ 并/ 向/ LBS/ 服务器/ 提交/ 关于/ 假/ 位置/ 的/ 近邻/ 查询/ 请求/ ,/ LBS/ 服务器/ 向/ 查询/ 者/ 返回/ 相应/ 假/ 位置/ 的/ 近邻/ PoI/ ,/ 查询/ 者/ 根据/ 返回/ PoI/ 判断/ 已/ 搜索/ 区域/ 和/ 待/ 搜索/ 区域/ 内切/ 这/ 一/ 临界/ 条件/ 是否/ 满足/ ,/ 若/ 满足/ 则/ 返回/ 的/ PoI/ 即为/ 查询/ 者/ 真实/ 位置/ 的/ 近邻/ PoI/ ;/ 否则/ 继续/ 生成/ 新/ 的/ 假/ 位置/ ,/ 重复/ 这一/ 过程/ ./ 多数/ 方法/ 不/ 支持/ 查询/ 准确性/ 与/ 查询/ 效率/ 的/ 可/ 调控/ 性/ ./ 尽管/ 基于/ 位置/ 干扰/ 的/ SpaceTwist/ 方法/ 可以/ 在/ 不/ 满足/ 临界/ 条件/ 情况/ 结束/ 查询/ ,/ 实现/ 牺牲/ 查询/ 准确性/ ,/ 换取/ 查询/ 效率/ 提升/ ./ 然而/ 基于/ 假/ 位置/ 干扰/ 的/ 查询处理/ 中/ ,/ 查询/ 者/ 对/ 其/ 与/ LBS/ 服务器/ 间/ 迭代/ 轮次/ 的/ 未知/ ,/ 使得/ 查询/ 者/ 难以/ 对/ 查询/ 准确性/ 与/ 查询/ 效率/ 进行/ 可控/ 的/ 动态/ 调节/ ./ 目前/ ,/ 面向/ 路网/ 的/ 隐私/ 保护/ 近邻/ 查询/ 主要/ 通过/ 空间/ 混淆/ 技术/ 实现/ [/ 12/ -/ 16/ ]/ ,/ 即/ 由/ 查询/ 者/ 或/ 可信/ 第三方/ 将/ 查询/ 者/ 位置/ 匿名/ 为/ 覆盖/ 该/ 位置/ 且/ 满足/ 特定/ 隐私/ 约束/ 的/ 混淆/ 区域/ ,/ 将/ 生成/ 的/ 混淆/ 区域/ 及/ 查询/ 请求/ 发送给/ 服务器/ ,/ 服务器/ 根据/ 混淆/ 区域/ 完成/ 相应/ 查询/ 并/ 返回/ 候选/ 解/ ,/ 由/ 查询/ 者/ 或/ 可信/ 第三方/ 筛选/ 出/ 目标/ 结果/ ./ 文献/ [/ 12/ ]/ 采用/ 空间/ 混淆/ 技术/ ,/ 由/ 可信/ 第三方/ 生成/ 星/ 状子/ 网/ ,/ 进一步/ 通过/ 合并/ 星/ 状子/ 网/ 生成/ 满足/ 查询/ 者/ 位置/ 匿名/ 需求/ 的/ 混淆/ 区域/ 提交/ 至/ LBS/ 服务器/ ,/ LBS/ 服务器/ 对/ 混淆/ 区域/ 进行/ 路网/ 扩张/ 查询/ 获取/ 候选/ 解集/ 并/ 返回/ 可信/ 第三方/ ,/ 由/ 可信/ 第三方/ 筛选/ 出/ 查询/ 结果/ ;/ 文献/ [/ 13/ ]/ 通过/ 可信/ 第三方/ 对/ 路网/ 进行/ 层次/ 划分/ ,/ 选取/ 不同/ 层次/ 的/ 路网/ 构成/ 满足/ 查询/ 者/ 隐私/ 保护/ 需求/ 的/ Page4/ 混淆/ 区域/ 并/ 提交/ 至/ LBS/ 服务器/ 完成/ 后续/ 路网/ 扩张/ 查询/ 与/ 反馈/ 过程/ ;/ 文献/ [/ 14/ ]/ 通过/ 可信/ 第三方/ 对/ 路网/ 进行/ Hilbert/ 编码/ ,/ 利用/ Hilbert/ 编码/ 生成/ 匿名/ 区域/ ./ 路网/ 的/ 复杂/ 结构/ 加大/ 查询处理/ 难度/ ,/ 不可避免/ 的/ 导致/ 服务器/ 处理/ 代价/ 激增/ ./ 已有/ 研究/ 多数/ 侧重于/ 可信/ 第三方/ 混淆/ 区域/ 生成/ 策略/ 及/ LBS/ 服务器/ 处理/ 效率/ 的/ 提升/ ,/ 提升/ 效果/ 最终/ 受制于/ 保护/ 位置/ 隐私/ 和/ 查询/ 准确性/ 约束/ ,/ 缺少/ 对/ 查询/ 准确性/ 与/ 查询/ 效率/ 间/ 偏好/ 调控/ 问题/ 的/ 关注/ ./ 3/ 问题/ 描述/ 与/ 相关/ 概念/ 3.1/ 问题/ 描述/ 面向/ 路网/ 的/ 保护/ 位置/ 隐私/ k/ 近邻/ 查询/ 常见/ 模式/ 如下/ :/ LBS/ 服务器/ 存储/ 查询/ 者/ 感兴趣/ 的/ PoI/ 对象/ (/ 例如/ 加油站/ 、/ 宾馆/ 等/ )/ ,/ 查询/ 者/ 将/ 其/ 当前/ 位置/ 及/ 查询/ 请求/ (/ 查询/ 内容/ 及/ 位置/ 隐私/ 要求/ )/ 提交/ 可信/ 第三方/ ,/ 由/ 可信/ 第三方/ 将/ 其/ 位置/ 坐标/ 泛化/ 为/ 满足/ 保护/ 位置/ 隐私/ 约束/ 的/ 混淆/ 区域/ 提交/ 至/ LBS/ 服务器/ ,/ LBS/ 服务器/ 分析/ 混淆/ 区域/ 与/ 路网/ 的/ 所有/ 交点/ ,/ 并/ 查找/ 这些/ 交点/ 的/ k/ 近邻/ PoI/ ,/ 将/ 所有/ 交点/ 的/ k/ 近邻/ PoI/ 及/ 混淆/ 区域/ 所/ 包含/ PoI/ 组成/ 候选/ 解集/ 返回/ 可信/ 第三方/ ,/ 可信/ 第三方/ 从中/ 筛选/ 出/ 目标/ 结果/ 并/ 发送给/ 查询/ 者/ ./ 文献/ [/ 17/ ]/ 给出/ 了/ 证明/ :/ 上述/ 候选/ 解/ 集中/ 的/ PoI/ 必定/ 覆盖/ 查询/ 者/ 真实/ 位置/ 的/ k/ 近邻/ PoI/ ./ 本文/ 要/ 解决/ 的/ 问题/ 是/ 如何/ 在/ 兼顾/ 查询/ 者/ 位置/ 隐私/ 保护/ 需求/ 前提/ 下/ ,/ 支持/ 查询/ 者/ 对/ 查询/ 准确性/ 与/ 查询/ 效率/ 的/ 动态/ 调控/ ./ 路网/ 环境保护/ 位置/ 隐私/ 查询/ 领域/ ,/ 查询/ 者/ 位置/ 隐私/ 保护/ 需求/ 主要/ 通过/ 引入/ 位置/ 隐私/ 模型/ 实现/ ./ 目前/ 常用/ 位置/ 隐私/ 模型/ 是/ 基于/ 空间/ 混淆/ 的/ 匿名/ 隐私/ 模型/ ,/ 诸如/ K/ -/ 匿名/ 位置/ 隐私/ 模型/ 、/ (/ K/ ,/ l/ )/ 位置/ 隐私/ 模型/ [/ 16/ ]/ 等/ ,/ K/ -/ 匿名/ 位置/ 隐私/ 模型/ 要求/ 混淆/ 区域/ 至少/ 包含/ K/ -/ 1/ 个/ 其他/ 同类/ 移动用户/ ;/ (/ K/ ,/ l/ )/ 位置/ 隐私/ 模型/ 要求/ 混淆/ 区域/ 至少/ 包含/ K/ -/ 1/ 个/ 其他/ 同类/ 移动用户/ ,/ 且/ 这些/ 用户/ 分散/ 在/ 至少/ l/ 条/ 公路/ 边上/ ./ 查询/ 者/ 向/ 可信/ 第三方/ 发送/ 自身/ 位置/ 及/ 所/ 指定/ 位置/ 隐私/ 模型/ 约束/ ,/ 可信/ 第三方/ 生成/ 包含/ 查询/ 者/ 位置/ 且/ 满足/ 位置/ 隐私/ 模型/ 的/ 混淆/ 区域/ 代替/ 查询/ 者/ 准确/ 位置/ 提交/ 至/ LBS/ 服务器进行/ 查询处理/ ,/ 以/ 实现/ 对/ 查询/ 者/ 位置/ 隐私/ 安全/ 的/ 保护/ ./ 目前/ ,/ 路网/ 环境/ 近邻/ 查询/ 中/ ,/ 查询/ 者/ 位置/ 隐私/ 保护/ 需求/ 主要/ 由/ 可信/ 第三方/ 实现/ ./ 前/ 已/ 述及/ ,/ 保护/ 位置/ 隐私/ 查询/ 中/ ,/ 查询/ 者/ 位置/ 隐私/ 安全性/ 、/ 查询/ 准确性/ 、/ 查询/ 效率/ 间/ 存在/ 复杂/ 的/ 三元/ (/ 2/ )/ 调控/ 机制/ 支持/ 常见/ 有/ 基于/ 空间/ 混淆/ 的/ 路网/ 匿名/ 隐私/ 模型/ ,/ 保证/ 调控/ 机制/ 对/ 已有/ 的/ 基于/ 空间/ 混淆/ 的/ 路网/ 环境/ 隐私/ 保护/ 近邻/ 查询方法/ 有/ 较/ 好/ 的/ 适用性/ ./ 下/ 一节/ ,/ 对/ LBS/ 服务器端/ 查询处理/ 过程/ 进行/ 分析/ ,/ 提出/ 解决问题/ 的/ 基本思路/ ./ 3.2/ 基本思路/ 路网/ 环境保护/ 位置/ 隐私/ 查询/ 中/ ,/ LBS/ 服务器/ 获取/ 可信/ 第三方/ 提交/ 的/ 混淆/ 区域/ 后/ ,/ 处理/ 主要/ 由/ 对/ 混淆/ 区域/ 与/ 路网/ 交点/ 的/ k/ 近邻/ 查询/ 组成/ ,/ 对/ 每个/ 交点/ 的/ k/ 近邻/ 查询/ 可/ 分为/ 以下/ 两/ 阶段/ :/ (/ 1/ )/ 路网/ 扩张/ 查询/ 阶段/ ./ 从/ 查询/ 起点/ 出发/ ,/ 每/ 搜索/ 到/ 一个/ 新/ 的/ 节点/ ,/ 将/ 与其/ 连接/ 且/ 还/ 未/ 搜索/ 过/ 的/ 公路/ 边/ 加入/ 待/ 搜索/ 队列/ ,/ 按照/ 公路/ 边/ 的/ 中点/ 距/ 搜索/ 出发点/ 的/ 距离/ 排序/ 依次/ 遍历/ ,/ 找到/ k/ 个/ PoI/ ./ 关系/ ,/ 要/ 实现/ 查询/ 者/ 对/ 查询/ 准确性/ 与/ 查询/ 效率/ 动态/ 调控/ 的/ 同时/ 不/ 影响/ 查询/ 者/ 位置/ 隐私/ 保护/ 要求/ ,/ 调控/ 机制/ 应/ 独立/ 于/ 可信/ 第三方/ ,/ 不/ 影响/ 可信/ 第三方/ 根据/ 查询/ 者/ 位置/ 及/ 查询/ 者/ 隐私/ 保护/ 约束/ 生成/ 混淆/ 区域/ ./ 因此/ ,/ 路网/ 环境/ 兼顾/ 查询/ 者/ 位置/ 隐私/ 保护/ 需求/ 的/ 查询/ 准确性/ 与/ 查询/ 效率/ 动态/ 调控/ 机制/ 需/ 满足/ 以下/ 要求/ :/ (/ 1/ )/ 调控/ 机制/ 独立/ 于/ 可信/ 第三方/ ,/ 仅/ 通过/ 对/ LBS/ 服务器端/ 处理/ 流程/ 的/ 调控/ 实现/ ,/ 以/ 保证/ 查询/ 者/ 位置/ 隐私/ 安全/ 不/ 受/ 调控/ 机制/ 影响/ ;/ (/ 2/ )/ 迭代/ 替换/ 阶段/ ./ 将/ k/ 个/ PoI/ 按其距/ 查询/ 位置/ 距离/ 由近/ 到/ 远/ 排序/ ,/ 寻找/ 第/ k/ 近邻/ PoI/ 可能/ 存在/ 的/ 替换/ PoI/ ,/ 对/ 替换/ 后/ 的/ k/ 个/ PoI/ 按其距/ 查询/ 位置/ 距离/ 由近/ 到/ 远/ 重新/ 排序/ ;/ 重复/ 这一/ 过程/ ,/ 直到/ 找/ 不到/ 第/ k/ 个/ 近邻/ PoI/ 的/ 替换/ 点/ 为止/ ./ 最终/ 保留/ 的/ k/ 个/ PoI/ 即为/ 交点/ 位置/ 的/ k/ 近邻/ PoI/ ./ 分析/ 易知/ ,/ 服务器端/ 处理/ 开销/ 主要/ 集中/ 于/ 迭代/ 替换/ 阶段/ 反复/ 寻找/ 第/ k/ 近邻/ PoI/ 的/ 可/ 替换/ 点/ 过程/ ,/ 特别/ 当/ k/ 值/ 较大/ 时/ ,/ 处理/ 效率/ 低下/ ,/ 查找/ 最后/ 几个/ PoI/ 点/ 耗费/ 的/ 时间/ 甚至/ 可能/ 超过/ 查找/ 前面/ 所有/ 点/ 所/ 耗费/ 时间/ ./ 如图/ 1/ 所示/ ,/ 需要/ 查找/ 查询/ 者/ 的/ 3/ 近邻/ PoI/ ,/ 从/ 查询/ 位置/ 出发/ ,/ 处理/ 了/ 查询/ 者/ 所在/ 边/ 的/ PoI/ 点/ p1/ 、/ p2/ 后/ ,/ 只/ 处理/ 了/ 1/ 条边/ ;/ 继续/ 查找/ 第/ 3/ 近邻/ PoI/ ,/ 需要/ 检验/ n8n5/ 、/ n8n2/ 、/ n9n7/ 、/ n9n10/ 这/ 4/ 条/ 边上/ 的/ PoI/ ./ 可见/ ,/ k/ 越大/ ,/ 服务器端/ 查找/ k/ 近邻/ PoI/ 的/ 开销/ 越大/ ,/ 并且/ 大量/ 时间/ 消耗/ 在/ 确定/ 距/ 查询/ 位置/ 较远/ 的/ PoI/ 是否/ 为/ 相应/ 近邻/ PoI/ 的/ 处理/ 上/ ./ 容易/ 证明/ 迭代/ 替换/ 阶段/ 寻找/ 替换/ PoI/ 的/ 计算/ 复杂度/ 与/ k/ 呈/ 近似/ 线/ Page5/ 性关系/ (/ 证明/ 见/ 附录/ A/ )/ ./ 鉴于/ 现实/ 世界/ 查询/ 者/ 在/ 查询/ 准确性/ 与/ 查询/ 效率/ 间/ 存在/ 不同/ 的/ 偏好/ 取舍/ ,/ 在/ 迭代/ 替换/ 阶段/ 查询处理/ 中若能/ 预/ 判断/ 当前/ PoI/ 邻近/ 区域/ 存在/ 距/ 查询/ 位置/ 更近/ PoI/ 的/ 概率/ ,/ 以便/ 对/ 是否/ 继续/ 查找/ 可/ 替换/ PoI/ 进行/ 预/ 判断/ ,/ 将/ 能/ 有效/ 提高/ 服务器端/ 处理/ 效率/ ,/ 同时/ 兼顾/ 查询/ 者/ 对/ 查询/ 准确性/ 与/ 查询/ 效率/ 的/ 偏好/ 要求/ ./ 因此/ ,/ 考虑/ 从/ 概率论/ 角度/ 建立/ k/ 近邻/ 查询/ 准确性/ 与/ 查询/ 效率/ 间/ 的/ 调控/ 机制/ ,/ 让/ 查询/ 者/ 能够/ 通过/ 适当/ 降低/ k/ 近邻/ 查询/ 准确性/ ,/ 换取/ 查询/ 效率/ 的/ 提升/ ./ 为/ 叙述/ 方便/ 起/ 见/ ,/ 表/ 1/ 列出/ 下文/ 出现/ 的/ 主要/ 变量/ 符号/ 含义/ ./ 符号/ GT/ 搜索/ 生成/ 树/ p/ ,/ q/ 平面/ 点/ 或/ PoImaxnum/ 最大/ 容忍/ 搜索/ 边数/ x/ 路网/ 距离/ Prob/ (/ )/ 概率函数/ k/ 查询/ 对象/ 数/ ei3/ ./ 3/ 相关/ 概念/ 尽管/ 服务器端/ 可以/ 分析/ 得到/ 所有/ PoI/ 对象/ 关于/ 某个/ 位置/ 点/ 的/ 准确/ 位置/ 分布/ 信息/ ,/ 但/ 对/ 查询/ 中/ 的/ 每个/ 当前/ PoI/ 点/ ,/ 实时/ 地/ 分析/ 该点/ 邻近/ 区域/ 是否/ 存在/ 距/ 查询/ 位置/ 更近/ 的/ PoI/ ,/ 将/ 带来/ 额外/ 的/ 计算/ 开销/ :/ 若/ 分析/ 获知/ 该/ PoI/ 无可/ 替换/ PoI/ ,/ 则/ 无需/ 继续/ 查询/ ;/ 否则/ ,/ 继续/ 查询/ 直至/ 找到/ 可/ 替换/ 的/ PoI/ ./ 即便/ 通过/ 构建/ PoI/ 索引/ 结构/ 可以/ 一定/ 程度/ 提高效率/ ,/ 也/ 需要/ 对/ 索引/ 表/ 进行/ 额外/ 的/ 查询处理/ ,/ 不管/ 分析/ 结果/ 如何/ ,/ 分析/ 过程/ 本身/ 都/ 需要/ 对/ PoI/ 点集/ (/ 或/ 索引/ 表/ )/ 进行/ 至少/ 一轮/ 遍历/ ./ 在/ 现实生活/ 中/ 可以/ 发现/ ,/ 某种/ 类型/ 的/ PoI/ 有/ 其/ 自身/ 分布/ 规律/ ,/ 例如/ 餐厅/ 的/ 分布/ 通常/ 比较/ 稠密/ ,/ 从/ 一家/ 餐厅/ 出发/ 在/ 较/ 近/ 的/ 距离/ 内能/ 以/ 较大/ 概率/ 找到/ 另一家/ 餐厅/ ;/ 而/ 加油站/ 的/ 分布/ 比较/ 稀疏/ ,/ 从/ 一个/ 加油站/ 出发/ 找/ 另/ 一个/ 加油站/ ,/ 在/ 较/ 近/ 的/ 距离/ 内/ 找到/ 的/ 概率/ 比较/ 低/ ./ 因此/ ,/ 考虑/ 利用/ PoI/ 分布/ 的/ 潜在/ 规律/ ,/ 生成/ 服务器端/ PoI/ 概率分布/ ,/ 实现/ 对/ 是否/ 查询/ 可/ 替换/ PoI/ 的/ 高效/ 预/ 判断/ ./ 引入/ 路网/ 距离/ 与/ PoI/ 概率分布/ 定义/ 如下/ ./ 定义/ 1/ ./ 路网/ ./ 采用/ 无向/ 图/ G/ =/ (/ VG/ ,/ EG/ )/ 描述/ 路网/ ,/ 其中/ VG/ 代表/ 路网/ 中/ 公路/ 交点/ 的/ 集合/ ,/ EG/ 代表/ 路网/ 中/ 各个/ 公路/ 边/ 组成/ 的/ 集合/ ./ 现实/ 世界/ PoI/ 位置/ 不/ 可能/ 在/ 公路/ 上/ ,/ 只是/ 邻近/ 公路/ ,/ 为/ 叙述/ 方便/ 起/ 见/ ,/ 下文/ 用/ PoI/ 属于/ 某条/ 公路/ 表示/ PoI/ 距该/ 公路/ 最近/ ./ 定义/ 2/ ./ 路网/ 距离/ ./ 假设/ p/ ,/ q/ 坐标/ 点/ 位于/ 路网/ G/ 所在/ 平面/ ,/ p/ 与/ q/ 的/ 路网/ 距离/ 指/ 通过/ G/ 中/ 的/ 边/ ,/ 由/ p/ 到达/ q/ 的/ 最/ 短/ 路径/ 距离/ ./ 定义/ 3/ ./ PoI/ 概率分布/ ./ 对/ 任意/ p/ ∈/ D/ ,/ 路网/ 距离/ x/ 为/ 正/ 实数/ ,/ PoI/ 概率分布/ 指/ p/ 的/ 路网/ 距离/ x/ 范围/ 内/ 存在/ PoI/ 的/ 概率/ ,/ PoI/ 概率分布/ 用/ Prob/ (/ p/ ,/ x/ )/ 表示/ ./ 如前所述/ ,/ 隐私/ 敏感/ k/ 近邻/ 查询/ 中/ ,/ LBS/ 服务器/ 对/ 混淆/ 区域/ 处理/ 的/ 基本操作/ 是/ 对/ 混淆/ 区域/ 与/ 路网/ 的/ 交点/ 进行/ k/ 近邻/ 查询/ ,/ 查询/ 中/ 消耗/ 大量/ 时间/ 判断/ 当前/ PoI/ 是否/ 为/ 相应/ 近邻/ ./ 在/ 此/ 过程/ 中/ ,/ 可以/ 借助/ PoI/ 概率分布/ 信息/ ,/ 预/ 判断/ 存在/ 距/ 查询/ 位置/ 较/ 当前/ 所/ 处理/ PoI/ 更近/ PoI/ 的/ 概率/ ,/ 根据/ 概率/ 值/ 选择/ 继续/ 查找/ 可/ 替换/ PoI/ 或/ 停止/ 查找/ ,/ 实现/ 对/ 查询处理/ 效率/ 的/ 调控/ ./ 下/ 一节/ ,/ 介绍/ LBS/ 服务器端/ PoI/ 概率分布/ 的/ 构建/ 方法/ ./ 4PoI/ 概率分布/ LBS/ 服务器端/ 存储/ 了/ 路网/ 及/ 所有/ PoI/ 对象/ 的/ 位置/ 信息/ ,/ 容易/ 计算/ 出/ 给定/ PoI/ 到/ 其余/ PoI/ 的/ 路网/ 距离/ ,/ 考虑/ 通过/ 获取/ 某个/ PoI/ 到/ 其余部分/ PoI/ 的/ 路网/ 距离/ ,/ 分析/ 距该/ PoI/ 特定/ 路网/ 距离/ 范围/ 内/ 存在/ PoI/ 的/ 概率/ ./ 引入/ 邻接/ PoI/ 定义/ 如下/ ./ 定义/ 4/ ./ 邻接/ PoI/ ./ 对/ p/ ,/ q/ ∈/ D/ ,/ 若/ 存在/ e1/ ,/ …/ ,/ em/ ∈/ EG/ ,/ e1/ ,/ …/ ,/ em/ 构成/ 一条/ 路经/ ,/ 满足/ p/ ∈/ e1/ ,/ q/ ∈/ em/ ,/ 且/ 满足/ 任意/ r/ ∈/ D/ ,/ r/ / ei/ (/ i/ =/ 2/ ,/ …/ ,/ m/ -/ 1/ )/ ,/ 称/ p/ ,/ q/ 为/ 邻接/ PoI/ ./ 对/ p/ ∈/ D/ ,/ 计算/ p/ 到/ 其/ 所有/ 邻接/ PoI/ 的/ 路网/ 距离/ :/ 从/ p/ 出发/ 进行/ 路网/ 扩张/ 搜索/ ,/ 获取/ 其/ 所有/ 邻接/ PoI/ ,/ 记录/ 所有/ 邻接/ PoI/ 与/ p/ 的/ 路网/ 距离/ ./ 当/ PoI/ 分布/ 较/ 稀疏/ 时/ ,/ 分析/ p/ 的/ 邻接/ PoI/ 可能/ 需/ 遍历/ 整个/ 路网/ ,/ 因此/ 考虑/ 设置/ 搜索/ 终止/ 条件/ 以/ 避免/ 这种/ 极端/ 情况/ 的/ 发生/ ./ 终止/ 条件/ 为/ 已/ 遍历/ 边/ 的/ 数目/ 超过/ 阈值/ a/ ,/ 且/ 查找/ 到/ 的/ 邻接/ PoI/ 数目/ 亦/ 大于/ 阈值/ b/ ,/ 其中/ a/ ,/ b/ 为/ 正整数/ ./ 在/ 此基础/ 上/ ,/ 给出/ 查找/ 给定/ PoI/ 邻接/ PoI/ 过程/ 所/ 访问/ 路径/ 的/ 搜索/ 生成/ 树/ 定义/ ./ 定义/ 5/ ./ 搜索/ 生成/ 树/ ./ 以/ 给定/ PoI/ 为/ 生成/ 树根/ 节点/ ,/ 生成/ 树/ 第/ 2/ 层/ 节点/ 为/ 该/ PoI/ 所在/ 公路/ 边/ 的/ 两端/ 节点/ ,/ 按照/ 路网/ 扩张/ 查询方法/ ,/ 每/ 搜索/ 到/ 一个/ 新/ 节点/ v/ ,/ 将/ v/ 及/ 搜索/ v/ 经过/ 的/ 边/ (/ u/ ,/ v/ )/ 加入/ 生成/ 树/ ./ 如图/ 2/ 所示/ 路网/ ,/ 外围/ 3/ 条/ 公路/ 边/ 长度/ 为/ 3/ ,/ 内部/ 3/ 条边/ 长度/ 为/ 2/ ,/ p0/ ,/ p1/ ,/ p2/ ,/ p4/ 位于/ 1/ // 3/ 处/ ,/ p3/ 位于/ 所在/ 道路/ 中间/ (/ 注/ :/ 图/ 2/ 仅作/ 示意/ ,/ 图中/ 的/ 边/ 非直/ Page6/ 线/ )/ ./ 假设/ 搜索/ 终止/ 条件/ 阈值/ a/ 设置/ 为/ 6/ ,/ b/ 设置/ 为/ 2/ ,/ p0/ 的/ 搜索/ 生成/ 树如图/ 3/ 所示/ ./ 由于/ 设置/ 了/ 终止/ 条件/ ,/ 需要/ 记录/ 没有/ 找到/ 邻接/ PoI/ 的/ 路径/ 数量/ 以及/ 找到/ 邻接/ PoI/ 的/ 路径/ 数量/ ./ 这些/ 路径/ 被/ 选中/ 的/ 概率/ 是/ 不/ 一样/ 的/ ./ 因此/ 定义/ 边/ 的/ 权重/ 以便/ 计算/ 某条/ 边/ 被/ 选中/ 的/ 概率/ ,/ 一条/ 边/ 被/ 选中/ 的/ 概率/ 与/ 这/ 条边/ 的/ 权重/ 成正比/ ./ 定义/ 6/ ./ 生成/ 树边/ 的/ 权重/ ./ 给定/ 生成/ 树/ T/ ,/ e/ 为/ T/ 中/ 一条/ 边/ ,/ e/ 为/ e/ 的/ 父亲/ 边/ ,/ e/ 具有/ cp/ 条/ 子女/ 边/ ,/ 假设/ 生成/ 树/ 第/ 1/ 层边/ 的/ 权重/ 设置/ 为/ 1/ ,/ e/ 的/ 权重/ 为/ w/ (/ e/ )/ ,/ 则/ e/ 的/ 权重/ w/ (/ e/ )/ =/ w/ (/ e/ )/ // cp/ ./ 叶子/ 边/ 代表/ 一条/ 从/ 生成/ 树根/ 节点/ 到/ 叶/ 节点/ 的/ 唯一/ 路径/ ,/ 因此/ 叶子/ 边/ 被/ 选中/ 的/ 概率/ 也/ 能够/ 代表/ 这/ 条/ 路径/ 被/ 选中/ 的/ 概率/ ./ 在/ 其/ 邻接/ PoI/ 的/ 概率/ 为/ 性质/ 1/ ./ 对/ p/ ∈/ D/ ,/ p/ 的/ 路网/ 距离/ x/ 范围/ 内存/ Prob/ (/ p/ ,/ x/ )/ =/ 其中/ :/ dist/ _/ sum/ (/ p/ ,/ x/ )/ 表示/ 距离/ p/ 路网/ 距离/ 不/ 大于/ x/ 的/ 邻接/ PoI/ 数量/ ;/ dist/ _/ sum/ (/ p/ )/ 表示/ p/ 的/ 所有/ 邻接/ PoI/ 数量/ ;/ sum/ (/ p/ )/ 表示/ 当前/ 生成/ 树中/ 各/ 邻接/ PoI/ 所在/ 路径/ 对应/ 叶子/ 边/ 的/ 权重/ 之/ 和/ ./ 证明/ ./ 考虑/ 最/ 基本/ 情况/ ,/ 所有/ 方向/ 都/ 能/ 找到/ 邻接/ PoI/ ,/ 从/ p/ 点/ 出发/ 在/ 路网/ 距离/ x/ 范围/ 内/ 存在/ 其/ 邻接/ PoI/ 的/ 概率/ 为/ dist/ _/ sum/ (/ p/ ,/ x/ )/ // dist/ _/ sum/ (/ p/ )/ ;/ 一般/ 情况/ 下/ ,/ 并非/ 所有/ 方向/ 都/ 能/ 找到/ 邻接/ PoI/ ,/ 因此/ 上述/ 概率/ 为/ Prob/ (/ A/ )/ ×/ dist/ _/ sum/ (/ p/ ,/ x/ )/ // dist/ _/ sum/ (/ p/ )/ ,/ 事件/ A/ 表示/ 在/ 某个/ 路径/ 上/ 能够/ 找到/ 邻接/ PoI/ ./ 首先/ 查询/ p/ 所在/ 边/ ,/ 从/ p/ 向/ 所在/ 边/ 两端/ 进行/ 搜索/ ,/ p/ 的/ 生成/ 树/ 第/ 1/ 层/ 具有/ 两条/ 边/ ,/ 设置/ 这/ 两条/ 边/ 的/ 权重/ 为/ 1/ ,/ 由/ 生成/ 树边/ 的/ 权重/ 定义/ 可知/ ,/ 父亲/ 边/ 的/ 权重/ 为/ 其/ 所有/ 子边/ 权重/ 之/ 和/ ,/ 因此/ 生成/ 树/ 所有/ 叶/ 节点/ 所/ 连接/ 边/ 的/ 总/ 权重/ 等于/ 第/ 1/ 层边/ 的/ 总/ 权重/ 2/ ./ 对/ 任意/ 一条/ 边/ e/ ,/ 其/ 父亲/ 边为/ e/ ,/ e/ 有/ cp/ 条/ 子女/ 边/ ,/ Prob/ (/ 选取/ e/ )/ =/ Prob/ (/ 选取/ e/ )/ // cp/ ,/ Prob/ (/ 选取/ e/ )/ // Prob/ (/ 选取/ e/ )/ =/ 1/ // cp/ =/ w/ (/ e/ )/ // w/ (/ e/ )/ ./ 选择/ 到/ 第/ 1/ 层/ 的/ 任意/ 一条/ 边/ 的/ 概率/ 为/ 1/ // 2/ ,/ 即/ 第/ 1/ 层边/ 的/ 权重/ // 生成/ 树叶子/ 边/ 总/ 权重/ ./ 递推/ 易得/ ,/ Prob/ (/ 选取/ e/ )/ =/ w/ (/ e/ )/ // 2/ ./ 每个/ 叶子/ 边/ 代表/ 一条/ 路径/ ,/ 事件/ B/ 表示/ 在/ 当前/ 生成/ 树中/ 沿/ 某条/ 路径/ 能/ 找到/ 邻接/ PoI/ ,/ 因此/ Prob/ (/ B/ )/ =/ sum/ (/ p/ )/ // 2/ ./ 在/ 生成/ 树中/ p/ 的/ 路网/ 距离/ x/ 范围/ 内/ 存在/ 其/ 邻接/ PoI/ 的/ 概率/ 为/ Prob/ (/ B/ )/ ×/ dist/ _/ sum/ (/ p/ ,/ x/ )/ // dist/ _/ sum/ (/ p/ )/ ./ 服务器端/ 有/ |/ D/ |/ 个/ PoI/ ,/ 对应/ |/ D/ |/ 棵/ 生成/ 树/ ,/ Prob/ (/ A/ )/ =/ 1/ 其中/ Bi/ 表示/ 在/ 每个/ PoI/ 对应/ 生成/ 树中/ 沿/ 某条/ 路径/ 能/ 找到/ 邻接/ PoI/ ./ 故/ 路网/ 距离/ x/ 范围/ 存在/ p/ 的/ 邻接/ PoI/ 的/ 概率/ 为/ Prob/ (/ p/ ,/ x/ )/ =/ Prob/ (/ A/ )/ ×/ dist/ _/ sum/ (/ p/ ,/ x/ )/ // dist/ _/ sum/ (/ p/ )/ 设置/ 递增/ x/ 值/ 序列/ (/ 增幅/ 结合/ 路网/ 度量/ 规模/ 设置/ )/ ,/ 根据/ 性质/ 1/ ,/ 容易/ 生成/ 服务器端/ 距/ 任意/ PoI/ 路网/ 距离/ x/ 范围/ 内/ 存在/ 其/ 邻接/ PoI/ 的/ 概率/ ,/ 进一步/ 结合/ 所/ 生成/ 概率/ 序列/ ,/ 汇总/ 形成/ PoI/ 概率分布/ ./ 仍/ 以图/ 2/ 所/ 描述/ 路网/ 为例/ ,/ 由图/ 3/ 可得/ p0/ 距其/ 两个/ 邻接/ PoI/ 的/ 距离/ 分别/ 为/ 1/ 、/ 3/ ,/ 对/ 其余/ PoI/ 进行/ 类似/ 处理/ ,/ 各/ PoI/ 的/ 邻接/ PoI/ 、/ 距/ 邻接/ PoI/ 距离/ 、/ 权重/ 等/ 信息/ 见表/ 2/ ./ 若/ 设置/ 递增/ x/ 序列/ 为/ 1/ ,/ 2/ ,/ 3/ ,/ 4/ ,/ 根据/ 性质/ 1/ ,/ 容易/ 得到/ 相应/ (/ 路网/ 距离/ 、/ 概率/ )/ 序列/ 为/ (/ 1/ ,/ 0.2/ )/ ,/ (/ 2/ ,/ 0.4/ )/ ,/ (/ 3/ ,/ 0.65/ )/ ,/ (/ 4/ ,/ 0.775/ )/ ./ 各/ PoI/ 的/ 邻接/ PoI/ 点/ 及其/ 路网/ 距离/ 生成/ 算法/ 见/ 算法/ 1/ ./ PoI/ 邻接/ PoI/ 距离/ PoI/ 所在/ 边/ 权重/ 不含/ PoI/ 边/ 权重/ p0p1/ ,/ p21/ ,/ 31/ ,/ 1/ // 2p1p0/ ,/ p3/ ,/ p41/ ,/ 2/ ,/ 31/ ,/ 1/ // 2/ ,/ 1/ // 2p2p4/ ,/ p0/ ,/ p32/ ,/ 3/ ,/ 41/ ,/ 1/ // 2/ ,/ 1/ // 41/ // 4p3p1/ ,/ p42/ ,/ 31/ // 2/ ,/ 1/ // 21/ // 2/ ,/ 1/ // 2p4p2/ ,/ p1/ ,/ p32/ ,/ 3/ ,/ 31/ // 2/ ,/ 1/ // 2/ ,/ 1/ // 21/ // 2/ 算法/ 1/ ./ NeighborPoI/ (/ a/ ,/ b/ )/ ./ 输入/ :/ 终止/ 条件/ 参数/ a/ ,/ b/ 输出/ :/ 各/ PoI/ 的/ 邻接/ PoI/ 距离/ Page71/ ./ Qset/ =/ NULL/ ;/ // // Qset/ 记录/ 各/ PoI/ 距其/ 邻接/ 点/ 距离/ 2/ ./ FOReachpinD/ // // 服务器端/ 每个/ PoI/ 点/ 3/ ./ Lset/ =/ NULL/ ;/ // // 初始化/ 待/ 搜索/ 边/ 集合/ 4/ ./ Num/ =/ 0/ ;/ // // 已/ 查找/ 到/ 的/ 邻接/ PoI/ 数目/ 5/ ./ M/ =/ 0/ ;/ // // 已/ 搜索/ 边数/ 6/ ./ lp/ =/ theedgecontainingp7/ ./ IF/ (/ lpcontainstwoneighborsofp/ )/ 8/ ./ Calculatetheirdistancesl1/ ,/ l2top/ ;/ 9/ ./ Qset/ ./ add/ (/ l1/ ,/ l2/ )/ ;/ // // 把/ 距离/ l1/ ,/ l2/ 加入/ 集合/ 10/ ./ BREAK/ ;/ 11/ ./ ENDIF/ ;/ 12/ ./ Lset/ ./ add/ (/ lp/ ./ link/ _/ edges/ )/ ;/ // // 把/ lp/ 的/ 邻接/ 边/ 加入/ 队列/ 13/ ./ FOReachleinLset/ :/ 14/ ./ IFlehasPoI15/ ./ Qset/ ./ add/ (/ le/ ./ PoI/ ./ distance/ )/ ;/ 16/ ./ Num/ +/ =/ 1/ ;/ 17/ ./ ELSE18/ ./ Lset/ ./ add/ (/ le/ ./ link/ _/ edges/ )/ ;/ 19/ ./ ENDIF/ ;/ 20/ ./ M/ +/ =/ 1/ ;/ 21/ ./ IF/ (/ M/ / aandNum/ / b/ )/ BERAK/ ;/ 22/ ./ ENDFOR/ ;/ 23/ ./ RETURNQset/ ;/ 对/ 服务器端/ PoI/ 集合/ ,/ 可以/ 设置/ 适当/ 的/ 距离/ 增幅/ ,/ 离线/ 计算/ 一组/ PoI/ 概率分布/ 序列/ 并/ 存储/ 为/ PoI/ 概率分布/ 表/ ,/ 或/ 基于/ 所/ 生成/ PoI/ 概率分布/ 序列/ ,/ 拟合/ PoI/ 概率分布/ 函数/ ,/ 生成/ 服务器端/ 所/ 存储/ PoI/ 的/ 概率分布/ ,/ 为/ 后续/ 查询处理/ 提供/ 预测/ 支持/ ./ PoI/ 概率分布/ 机制/ 具有/ 如下/ 优点/ :/ (/ 1/ )/ 采用/ 离线/ 处理/ 方式/ 产生/ ,/ 不/ 占用/ 服务器端/ 在线/ 处理/ 时间/ ,/ 实现/ 对/ 路网/ 中/ 给定/ 位置/ 任意/ 路网/ 距离/ 存在/ 邻接/ PoI/ 概率/ 的/ 计算/ ;/ (/ 2/ )/ 生成/ PoI/ 点集/ 的/ 全局/ 概率分布/ 序列/ 或/ 概率分布/ 函数/ ,/ 无需/ 存储/ 具体/ PoI/ 索引/ 信息/ ./ 较之/ 构建/ PoI/ 索引/ 结构/ ,/ 不仅/ 节省/ 存储空间/ ,/ 也/ 能够/ 更/ 大程度/ 的/ 提升/ 查询/ 和/ 判断/ 效率/ ./ 5/ 查询处理/ 方法/ AdPriQuery/ 本节/ 介绍/ 路网/ 环境/ 支持/ 查询/ 者/ 偏好/ 调控/ 的/ 隐私/ 保护/ k/ 近邻/ 查询方法/ AdPriQuery/ ./ 算法/ 思路/ 如下/ :/ 查询/ 者/ 将/ 自身/ 位置/ 提交/ 至/ 可信/ 第三方/ 生成/ 满足/ 隐私/ 安全/ 要求/ 的/ 混淆/ 区域/ ,/ 可信/ 第三方/ 将/ 混淆/ 区域/ 及/ 查询/ 请求/ 提交/ 给/ LBS/ 服务器/ ,/ LBS/ 服务器/ 计算/ 混淆/ 区域/ 与/ 服务器端/ 路网/ 的/ 所有/ 交点/ ,/ 并/ 利用/ 基于/ PoI/ 概率分布/ 的/ 可/ 调控/ 筛选/ 替换/ 机制/ ,/ 查找/ 这些/ 交点/ 的/ k/ 近邻/ PoI/ ,/ 最终/ 向/ 可信/ 第三方/ 返回/ 所有/ 交点/ 的/ k/ 近邻/ PoI/ 集合/ 及/ 将/ 混淆/ 区域/ 内所/ 包含/ PoI/ 作为/ 候选/ 解集/ ,/ 可信/ 第三方/ 从中/ 筛选/ 出/ 目标/ 结果/ 并/ 反馈/ 给/ 查询/ 者/ ./ 5.1/ 客户端/ 处理/ AdPriQuery/ 方法/ 客户端/ 处理/ 流程/ 与/ 已有/ 的/ 多数/ 面向/ 路网/ 隐私/ 保护/ k/ 近邻/ 查询方法/ 相同/ ./ 采用/ 查询/ 客户端/ 、/ 可信/ 第三方/ 与/ LBS/ 服务器/ 三方/ 架构/ ,/ 主要/ 采用/ 空间/ 混淆/ 技术/ 实现/ 查询/ 者/ 位置/ 隐藏/ 处理/ ./ 具体/ 包括/ 以下/ 步骤/ :/ (/ 1/ )/ 查询/ 者/ 将/ 自身/ 位置/ 、/ 查询/ 请求/ (/ 包括/ 查询/ 对象/ 数/ k/ 、/ 隐私/ 安全/ 要求/ ①/ )/ 及/ 概率/ 阈值/ Pu/ 提交/ 给/ 可信/ 第三方/ ;/ (/ 2/ )/ 可信/ 第三方/ 对/ 接收/ 的/ 查询/ 请求/ 进行/ 处理/ ,/ 将/ 查询/ 者/ 提交/ 的/ 当前/ 位置/ 点/ 泛化/ 为/ 覆盖/ 该点且/ 满足/ 查询/ 者/ 隐私/ 安全/ 要求/ 的/ 混淆/ 区域/ ;/ (/ 3/ )/ 可信/ 第三方/ 将/ 查询/ 对象/ 数/ k/ 、/ 概率/ 阈值/ Pu/ 及/ 混淆/ 区域/ 提交/ 给/ LBS/ 服务器/ ,/ 并/ 等待/ LBS/ 服务器返回/ 候选/ 查询/ 结果/ 集/ ;/ (/ 4/ )/ 可信/ 第三方/ 结合/ 查询/ 者/ 真实/ 位置/ 点/ 信息/ ,/ 从/ 返回/ 的/ 候选/ 解/ 集中/ 筛选/ 出/ 查询/ 者/ 的/ k/ 近邻/ PoI/ 并/ 将/ 结果/ 反馈/ 给/ 查询/ 者/ ./ 5.2/ 服务器端/ 查询处理/ LBS/ 服务器/ 接收/ 可信/ 第三方/ 提交/ 的/ 混淆/ 区域/ 后/ ,/ 首先/ 计算/ 出/ 混淆/ 区域/ 与/ 服务器端/ 路网/ 的/ 所有/ 交点/ ,/ 随后/ 对/ 这些/ 交点/ 逐个/ 进行/ 路网/ 扩张/ 查询/ ,/ 生成/ 各/ 交点/ 的/ k/ 近邻/ PoI/ ./ 设计/ 最小/ 堆/ Hr/ 和/ 最大/ 堆/ Hp/ ,/ 最小/ 堆/ Hr/ 记录/ 查询/ 过程/ 中/ 遇到/ 的/ 新边/ ,/ 将/ 所/ 记录/ 的/ 边/ 按/ 其/ 与/ 查询/ 位置/ 点/ (/ 交点/ )/ 的/ 距离/ 排序/ ,/ 每次/ 从/ 最小/ 堆/ Hr/ 顶部/ 寻找/ 距/ 查询/ 位置/ 最近/ 的/ 边/ 进行/ 搜索/ ,/ 搜索/ 完成/ 后/ 将/ 该/ 边/ 的/ 邻接/ 边/ 加入/ 堆/ 并/ 将/ 该/ 边/ 从/ 堆/ 中/ 删除/ ;/ 同时/ ,/ 将/ 每次/ 搜索/ 到/ 的/ PoI/ 点/ 添加/ 到/ 最大/ 堆/ Hp/ 中/ ,/ 这样/ 搜索/ 到/ k/ 个/ PoI/ 后/ ,/ 只/ 需要/ 对/ 最大/ 堆/ Hp/ 顶部/ 的/ PoI/ 点/ 进行/ 替换/ 分析/ 处理/ ./ 最小/ 堆/ 结构/ 如图/ 4/ 所示/ ,/ 堆中/ 每个/ 节点/ 存储/ 本条/ 边/ 起始/ 点到/ 查询/ 位置/ 的/ 距离/ d1/ 以及/ 上/ 一个/ PoI/ 点距/ 该/ 边/ 起始/ 点/ 的/ 距离/ d2/ ,/ 以便/ 计算/ 该边/ 存在/ PoI/ 的/ 概率/ ./ 算法/ 主要/ 思想/ 是/ 在/ 隐私/ 保护/ k/ 近邻/ 查询/ 服务器端/ 处理过程/ 中/ 根据/ 用户/ 需求/ ,/ 通过/ 牺牲/ 所/ 获取/ 较/ 远/ ①/ 隐私/ 安全/ 约束/ 并非/ 本文/ 主要/ 关注点/ ,/ 基于/ 空间/ 混淆/ 技术/ 的/ Page8k/ 近邻/ 对象/ 的/ 准确性/ 换取/ 服务器端/ 处理/ 效率/ 的/ 提升/ ./ 因此/ 引入/ 服务器端/ k/ 近邻/ 查询/ 过程/ 各/ PoI/ 重要/ 程度/ 系数/ 定义/ :/ 定义/ 7/ ./ PoI/ 重要/ 程度/ 系数/ ./ 给定/ 参数/ s/ (/ 0/ </ s/ </ 1/ )/ ,/ LBS/ 服务器/ 查找/ 位置/ 点/ p/ 的/ k/ 近邻/ PoI/ 过程/ 中/ ,/ 其/ 第/ k/ 近邻/ PoI/ 的/ 重要/ 程度/ 系数/ 定义/ 为/ Ik/ =/ sk/ -/ 1/ ./ 重要/ 程度/ 系数/ 体现/ 了/ p/ 的/ k/ 个/ 近邻/ PoI/ 中/ 第/ k/ 近邻/ PoI/ 的/ 重要/ 程度/ ,/ 重要/ 程度/ 值域/ 为/ (/ 0/ ,/ 1/ )/ ,/ s/ 为/ 指数/ 系数/ ,/ k/ 值越/ 大/ ,/ 重要/ 程度/ 越低/ ./ 定义/ 8/ ./ 最大/ 容忍/ 搜索/ 边数/ ./ 给定/ 重要/ 程度/ 系数/ Ik/ 和/ 查询/ 前/ k/ -/ 1/ 个/ PoI/ 已/ 搜索/ 边数/ m/ ,/ 最大/ 容忍/ 搜索/ 边数/ maxnum/ =/ (/ Ik/ ×/ m/ )/ // (/ 1/ -/ Ik/ )/ ./ 假设/ 查找/ 位置/ p/ 的/ k/ 近邻/ 过程/ 时间/ 耗费/ 为/ O/ ,/ 按照/ 近邻/ 点/ 搜索/ 时间/ 与其/ 重要/ 程度/ 一致/ 原则/ ,/ 第/ k/ 近邻/ PoI/ 的/ 搜索/ 容忍/ 时间/ Tk/ 应/ 满足/ Tk/ / O/ ×/ Ik/ ,/ 查询/ 过程/ 主要/ 时间/ 消耗/ 是/ 对/ 边/ 的/ 遍历/ ./ 查询/ 第/ k/ 近邻/ PoI/ 过程/ ,/ 最大/ 容忍/ 搜索/ 边数/ maxnum/ 应/ 满足/ maxnum/ // (/ maxnum/ +/ m/ )/ / Ik/ ,/ 由/ 定义/ 7/ 知/ maxnum/ / (/ Ik/ ×/ m/ )/ // (/ 1/ -/ Ik/ )/ ./ 如果/ 继续/ 查找/ maxnum/ 条边/ 仍/ 未能/ 结束/ 查询/ ,/ 则/ 认为/ 查找/ 第/ k/ 近邻/ PoI/ 耗费/ 的/ 查询处理/ 时间/ 不可/ 接受/ ./ 重要/ 程度/ 系数/ 中/ 参数/ s/ 需/ 根据/ 服务器端/ 路网/ 信息/ ,/ 结合/ 路网/ PoI/ 密度/ ρ/ 和/ 具体/ 需求/ 设置/ ./ 由/ m/ =/ (/ k/ -/ 1/ )/ // ρ/ 有/ maxnum/ =/ sk/ -/ 1/ (/ k/ -/ 1/ )/ k/ -/ 1maxnum/ ×/ ρ/ // (/ maxnum/ ×/ ρ/ +/ k/ -/ 1/ 槡/ 调控/ 思想/ ./ 采用/ 路网/ 扩张/ 搜索/ 方法/ 获取/ 查询/ 位置/ 的/ k/ 个/ 近邻/ PoI/ 后/ ,/ 按照/ 距离/ 查询/ 位置/ 远近/ 由近/ 到/ 远/ 排序/ ,/ 如果/ 存在/ 距离/ 查询/ 位置/ 更近/ 的/ PoI/ 点/ ,/ 第一个/ 需要/ 替代/ 的/ 点/ 必然/ 是/ 已/ 获取/ 的/ k/ 个/ PoI/ 中排/ 在/ 第/ k/ 位/ 的/ PoI/ 点/ ./ 若/ 分析/ 得出/ 在/ 第/ k/ 近邻/ PoI/ 的/ 容忍/ 搜索/ 边数/ 约束/ 下/ 存在/ 替代/ PoI/ 的/ 概率/ 大于/ 所/ 设置/ 概率/ 阈值/ Pu/ ,/ 继续/ 查找/ ;/ 否则/ ,/ 认为/ 查找/ 到/ 替代/ PoI/ 点/ 的/ 期望/ 太低/ 、/ 时耗/ 过/ 高/ ,/ 停止/ 查找/ ,/ 并/ 返回/ 当前/ 的/ k/ 个/ PoI/ 作为/ 查询/ 结果/ ./ 具体/ 流程/ 如下/ :/ (/ 1/ )/ 计算/ 当前/ 第/ k/ 近邻/ PoI/ 的/ 最大/ 容忍/ 搜索/ 边/ 证明/ ./ 在/ 第/ i/ 条边/ 查找/ 到/ 替代/ PoI/ 的/ 概率/ 为数/ maxnum/ ;/ (/ 2/ )/ 分析/ 最小/ 堆/ Hr/ 的/ 前/ maxnum/ 条边/ 中/ 出现/ 当前/ 第/ k/ 近邻/ PoI/ 替代/ 点/ 的/ 概率/ Pk/ ,/ 若/ Pk/ 小于/ 设定/ 的/ 概率/ 阈值/ Pu/ ,/ 终止/ 搜索/ ,/ 返回/ 当前/ k/ 个/ PoI/ 作为/ 结果/ ;/ (/ 3/ )/ 否则/ ,/ 继续/ 搜索/ 当前/ 第/ k/ 近邻/ PoI/ 点/ 的/ 替代/ 点/ ,/ 若/ 未能/ 搜索/ 到/ 替代/ PoI/ 点/ ,/ 终止/ 整个/ 搜索/ 过程/ ;/ (/ 4/ )/ 若/ 搜索/ 到/ 替代/ 点/ ,/ 则/ 用/ 替代/ 点/ 替换/ 当前/ 第/ k/ 近邻/ PoI/ ,/ 调整/ 最大/ 堆/ Hp/ ,/ 重复/ 这一/ 过程/ ./ 性质/ 2/ 给出/ 在/ PoI/ 最大/ 容忍/ 搜索/ 边数/ 约束/ 下/ ,/ 计算/ 当前/ 第/ k/ 近邻/ 存在/ 替换/ PoI/ 概率/ 的/ 方法/ ./ 性质/ 2/ ./ 假设/ 最小/ 堆/ Hr/ 中/ 第/ i/ 条/ 边上/ 存在/ 当前/ 第/ k/ 近邻/ PoI/ 的/ 替代/ PoI/ 的/ 概率/ 为/ Pi/ ,/ 在/ 只能/ 遍历/ maxnum/ 条边/ 的/ 约束/ 下/ ,/ 找到/ 当前/ 第/ k/ 近邻/ PoI/ 替代/ PoI/ 的/ 概率/ 为/ Pk/ =/ 1/ -/ ∏/ maxnumPi/ ,/ 则/ 前/ maxnum/ 条边/ 搜索/ 失败/ 的/ 概率/ 为/ ∏/ maxnumPi/ )/ ,/ 存在/ 替代/ 点/ 的/ 概率/ 为/ 1/ -/ ∏/ maxnum/ 由/ 性质/ 1/ 、/ 2/ 及/ 生成/ 的/ PoI/ 概率分布/ ,/ 结合/ 最小/ 生成/ 堆/ Hr/ 中/ 记录/ 的/ 边/ 信息/ ,/ 容易/ 计算/ 出/ Pi/ 以及/ 最大/ 查找/ 边数/ 约束/ 下/ 存在/ 的/ 当前/ 第/ k/ 近邻/ PoI/ 替代/ 点/ 的/ 概率/ Pk/ ./ 用户/ 设定/ 的/ 概率/ 阈值/ Pu/ 在/ 0/ ~/ 1/ 之间/ ,/ 设置/ 为/ 0/ 表示/ 查询/ 者/ 要求/ 准确/ 查询/ 结果/ ,/ 即/ 不/ 进行/ 查询/ 优化/ ;/ 设置/ 为/ 1/ 表示/ 每次/ 都/ 省略/ 最后/ 替换/ 查询/ 过程/ ,/ 即/ 完全/ 省略/ 服务器端/ 迭代/ 替换/ 阶段/ 查询处理/ ,/ 以/ 换取/ 服务器端/ 的/ 高/ 处理/ 效率/ ,/ 代价/ 是/ 承受/ 可能/ 存在/ 的/ 最大/ 查询/ 准确性/ 损失/ ./ 5.3/ 算法/ 描述/ 概率/ 阈值/ Pu/ 可以/ 调节/ 查询/ 者/ 对/ 查询/ 准确性/ 和/ 查询/ 效率/ 的/ 偏好/ 要求/ ,/ 阈值/ Pu/ 设置/ 的/ 越/ 小/ ,/ 查询/ 准确性/ 越高/ ,/ 服务器端/ 查询/ 性能/ 的/ 提升/ 越小/ ,/ 对应/ 较之/ 查询/ 效率/ ,/ 查询/ 者/ 更/ 关注/ 查询/ 结果/ 的/ 准确性/ ;/ 反之/ ,/ 阈值/ Pu/ 设置/ 的/ 越/ 大/ ,/ 查询/ 准确性/ 越低/ ,/ LBS/ 服务器端/ 查询/ 效率/ 的/ 提升/ 越大/ ,/ 对应/ 查询/ 者/ 更/ 关注/ 查询/ 效率/ 情况/ ./ 筛选/ 替换/ 方法/ 如/ 算法/ 2/ 所示/ ./ 算法/ 2/ ./ Filter/ (/ Pu/ ,/ max/ _/ distance/ ,/ maxnum/ )/ ./ 输入/ :/ 概率/ 阈值/ Pu/ ,/ 最远/ PoI/ 的/ 距离/ max/ _/ distance/ ,/ 最/ 输出/ :/ True/ // False/ ,/ 是否/ 应/ 继续/ 查找/ 替换/ PoI1/ ./ result/ =/ 1/ ;/ // // 初始/ 概率/ 设置/ 为/ 12/ ./ FORi/ =/ 1tomaxnum/ :/ 3/ ./ cur/ _/ distance/ =/ Hr/ ./ top/ (/ i/ )/ ./ last/ _/ distance/ ;/ Page94/ ./ cur/ _/ distance/ +/ =/ max/ _/ distance/ -/ Hr/ ./ top/ (/ i/ )/ ./ distance5/ ./ result/ =/ result/ ×/ (/ 1/ -/ Prob/ (/ cur/ _/ distance/ )/ )/ ;/ 6/ ./ ENDFOR7/ ./ IF/ (/ 1/ -/ result/ / Pu/ )/ RETURNfalse/ ;/ // // 停止/ 搜索/ 8/ ./ RETURNtrue/ ;/ // // 继续/ 搜索/ LBS/ 服务器端/ 对/ 匿名/ 区域/ 与/ 路网/ 各个/ 交点/ 的/ k/ 近邻/ PoI/ 查询/ 算法/ 如/ 算法/ 3/ 所示/ ./ 算法/ 3/ ./ PoIQuery/ (/ k/ ,/ j/ ,/ Pu/ )/ ./ 输入/ :/ k/ ,/ 混淆/ 区域/ 和/ 路网/ 的/ 交点/ j/ ,/ 概率/ 阈值/ Pu/ 输出/ :/ k/ 个/ 近邻/ PoI1/ ./ Hp/ =/ NULL/ ;/ // // 初始化/ 最大/ 堆/ Hp2/ ./ Hr/ =/ NULL/ ;/ // // 初始化/ 最小/ 堆/ Hr3/ ./ L/ _/ num/ =/ 0/ ;/ // // 初始化/ 已/ 搜索/ 边数/ L/ _/ num4/ ./ Hr/ ./ add/ (/ e/ (/ j/ )/ )/ ;/ // // 把/ 包含/ j/ 点/ 的/ 边/ e/ (/ j/ )/ 加入/ Hr5/ ./ FOReachlinHr/ // // 遍历/ 堆中/ 的/ 待/ 搜索/ 边/ 6/ ./ L/ _/ num/ ++/ ;/ 7/ ./ FOReachpinl/ // // 遍历/ 边上/ 的/ 每/ 一个/ PoI8/ ./ Hp/ ./ add/ (/ p/ )/ ;/ // // 把/ PoI/ 加入/ 到/ 最大/ 堆/ Hp/ 中/ 9/ ./ IF/ (/ Hp/ ./ num/ >/ k/ )/ :/ 10/ ./ Hp/ ./ pop/ (/ )/ ;/ 11/ ./ ENDIF/ ;/ 12/ ./ IF/ (/ Hp/ ./ num/ =/ k/ )/ max/ _/ distance/ =/ p/ ./ distance/ ;/ 13/ ./ maxnum/ =/ (/ Ik/ ×/ L/ _/ num/ )/ // (/ 1/ -/ Ik/ )/ ;/ 14/ ./ IF/ (/ Filter/ (/ Pu/ ,/ max/ _/ distance/ ,/ maxnum/ )/ )/ 15/ ./ testend/ =/ true/ ;/ 16/ ./ ENDIF/ ;/ 17/ ./ BREAK/ ;/ 18/ ./ ENDIF/ ;/ 19/ ./ ENDFOR/ ;/ 20/ ./ IF/ (/ testend/ )/ BREAK/ ;/ // // 停止/ 搜索/ 21/ ./ IF/ (/ (/ Hp/ ./ num/ =/ kandl/ ./ distance/ </ max/ _/ distance/ )/ 22/ ./ ENDIF/ ;/ 23/ ./ ENDFOR/ ;/ 24/ ./ RETURNHp/ 中前/ k/ 个/ PoI/ ;/ LBS/ 服务器/ 完成/ 路网/ 与/ 混淆/ 区域/ 所有/ 交点/ 的/ k/ 近邻/ 查询/ 后/ ,/ 合并/ PoI/ 点集/ ,/ 进一步/ 查找/ 混淆/ 区域/ 包含/ 的/ PoI/ 点/ (/ 简单/ 范围/ 查询/ 即可/ 获取/ )/ ./ 将/ 所得/ PoI/ 点集/ 作为/ 候选/ 解集/ 返回/ 可信/ 第三方/ ,/ 可信/ 第三方/ 根据/ 查询/ 者/ 位置/ 从/ 候选/ 解/ 集中/ 选出/ 最近/ 的/ k/ 个/ PoI/ 返回/ 查询/ 者/ ./ LBS/ 服务器端/ 处理/ 描述/ 如/ 算法/ 4/ 所示/ ./ 算法/ 4/ ./ AdPriQuery/ (/ R/ ,/ k/ ,/ Pu/ )/ ./ 输入/ :/ 混淆/ 区域/ R/ ,/ 查询/ 对象/ 数/ k/ ,/ 概率/ 阈值/ Pu/ 输出/ :/ 候选/ PoI/ 集合/ 1/ ./ S/ =/ intersect/ (/ R/ )/ ;/ // // 生成/ R/ 与/ 服务器端/ 路网/ 交点/ 集合/ 2/ ./ CandSet/ =/ cover/ (/ R/ )/ ;/ 3/ ./ FOReachpinS4/ ./ CandSet/ =/ CandSet/ ∪/ PoIQuery/ (/ k/ ,/ p/ ,/ Pu/ )/ ;/ 5/ ./ ENDFOR/ ;/ 6/ ./ RETURNCandSet/ ;/ 分析/ 算法/ 调控/ 机理/ 及/ 流程/ 可知/ ,/ AdPriQuery/ 算法/ 能够/ 实现/ 3.1/ 节/ 的/ 目标/ :/ (/ 1/ )/ 查询/ 者/ 能够/ 通过/ 调整/ 概率/ 阈值/ Pu/ 对/ LBS/ 服务器端/ 基于/ 可信/ 第三方/ 所/ 提交/ 混淆/ 区域/ 的/ 路网/ 扩张/ 查询/ 过程/ 进行/ 调控/ ,/ 实现/ 对/ 查询/ 准确性/ 和/ 查询/ 效率/ 的/ 偏好/ 调控/ 目的/ ;/ (/ 2/ )/ 由/ 算法/ 流程/ 可知/ ,/ 调控/ 处理/ 发生/ 在/ 可信/ 第三方/ 生成/ 混淆/ 区域/ 并/ 提交/ LBS/ 服务器/ 后/ ,/ 调控/ 过程/ 亦/ 未/ 与/ 可信/ 第三方/ 或/ 查询/ 者/ 进行/ 通信/ (/ 除了/ 调控/ 过程/ 结束/ 将/ 候选/ 解集/ 返回/ 可信/ 第三方/ )/ ./ 因此/ ,/ AdPriQuery/ 算法/ 满足/ 预期/ 的/ 调控/ 机制/ 独立/ 于/ 可信/ 第三方/ 要求/ ,/ 能够/ 保证/ 查询/ 者/ 位置/ 隐私/ 安全/ 不/ 受/ 调控/ 机制/ 影响/ ;/ (/ 3/ )/ AdPriQuery/ 调控/ 算法/ 布署/ 于/ LBS/ 服务器端/ ,/ 算法/ 的/ 处理/ 对象/ 是/ 混淆/ 区域/ ,/ 本/ 算法/ 适用/ 于/ 服务器端/ 满足/ 以下/ 处理/ 模式/ 的/ 路网/ 环境保护/ 位置/ 隐私/ 近邻/ 查询方法/ :/ LBS/ 服务器/ 接收/ 包含/ 查询/ 者/ 位置/ 的/ 混淆/ 区域/ 进行/ 路网/ 扩张/ 查询/ 以/ 获取/ 候选/ 解集/ ,/ 并/ 将/ 候选/ 解集/ 返回/ 查询/ 者/ 或/ 可信/ 第三方/ ./ 该/ 模式/ 是/ 目前/ 基于/ 空间/ 混淆/ 的/ 路网/ 环境保护/ 位置/ 隐私/ 近邻/ 查询/ 服务器端/ 的/ 基本/ 处理/ 模式/ ,/ 因此/ ,/ 所提/ 调控/ 机制/ 对/ 已有/ 的/ 多数/ 基于/ 空间/ 混淆/ 的/ 路网/ 环境保护/ 位置/ 隐私/ 近邻/ 查询方法/ 具有/ 良好/ 的/ 兼容性/ ./ 6/ 实验/ 结果/ 本节/ 对/ AdPriQuery/ 算法/ 的/ 有效性/ 进行/ 实验/ 分析/ ./ 首先/ 验证/ 参数/ 对/ 算法/ 效率/ 和/ 结果/ 的/ 影响/ ,/ 随后/ 将/ AdPriQuery/ 算法/ 与/ 已有/ 的/ 基于/ 空间/ 混淆/ 技术/ 的/ 隐私/ 敏感/ k/ 近邻/ 查询/ 算法/ 进行/ 分析/ 比较/ ./ 所用/ 路网/ 数据/ 来源于/ 美国/ 奥尔登堡/ 市/ 真实/ 路网/ 系统/ (/ http/ :/ // // www/ ./ datatang/ ./ com/ // data/ // 13531/ )/ ,/ 该/ 路网/ 包括/ 6104/ 个/ 公路/ 交汇点/ 及/ 7034/ 条/ 公路/ ,/ 7000/ 个/ PoI/ 点/ 随机/ 产生/ 并/ 分布/ 在/ 道路/ 网络/ 中/ ./ 实验/ 平台/ 硬件/ 配置/ 如下/ :/ Intel/ (/ R/ )/ Core/ (/ TM/ )/ 2CPU1/ ./ 80GHz/ ,/ Page102GB/ 内存/ ./ 根据/ 第/ 4/ 节所/ 设计/ 的/ PoI/ 概率分布/ 生成/ 方法/ ,/ 生成/ 实验/ 数据/ PoI/ 概率分布/ 如图/ 5/ 所示/ ./ 6.1/ AdPriQuery/ 算法/ 参数/ 实验/ 分析/ 本/ 节/ 测试/ 查询/ 对象/ 数/ k/ 与/ 概率/ 阈值/ Pu/ 对/ 算法/ 效率/ 与/ 查询/ 准确性/ 的/ 影响/ ./ 参数/ s/ 设置/ 为/ 0.975/ (/ 实验/ 数据/ 集/ ρ/ 为/ 1/ ,/ k/ 的/ 上限/ 取/ 100/ ,/ 最大/ 搜索/ 边数/ maxnum/ 设置/ 为/ 10/ ,/ 结合/ 定义/ 8/ 及其/ 推论/ 可/ 得/ )/ ,/ 阈值/ a/ 与/ b/ 分别/ 设置/ 为/ 2/ 和/ 6/ ./ 图/ 6/ 对应/ k/ 值取/ 10/ 时/ ,/ 随着/ 概率/ 阈值/ 由/ 0.1/ 递增/ 至/ 0.9/ ,/ 算法/ AdPriQuery/ 服务器端/ 处理/ 时间/ 及/ 查询/ 准确性/ 的/ 变化趋势/ ./ 如图/ 6/ 所示/ ,/ 用户/ 设置/ 不同/ 概率/ 阈值/ Pu/ ,/ 服务器端/ 查询处理/ 时间/ 随着/ Pu/ 的/ 增加/ 呈/ 减小/ 趋势/ ,/ 这是/ 由于/ Pu/ 取值/ 越大/ ,/ 服务器端/ 执行/ AdPriQuery/ 算法/ 时/ ,/ 需要/ 进行/ 的/ 查找/ 第/ k/ 近邻/ 潜在/ 替换/ 点/ 的/ 处理/ 越/ 少/ ,/ 图/ 6/ 的/ 实验/ 结果/ 与/ 5.2/ 节/ 的/ 理论/ 分析/ 吻合/ ;/ 相应/ 的/ Pu/ 取值/ 越大/ ,/ 查找/ 第/ k/ 近邻/ 替代/ 点/ 的/ 操作/ 被/ 省略/ 的/ 也/ 越/ 多/ ,/ 而/ 这/ 当中/ 出现/ 的/ 当前/ 第/ k/ 近邻/ PoI/ 并非/ 真实/ 第/ k/ 近邻/ PoI/ 的/ 可能性/ 越大/ ,/ 其/ 查询/ 的/ 准确率/ 亦/ 越/ 低/ ,/ 图/ 6/ 的/ 实验/ 结果/ 印证/ 了/ 这/ 一/ 结论/ ./ 图/ 7/ 对应/ 随着/ k/ 的/ 增加/ ,/ Pu/ 取/ 递增/ 阈值/ (/ 0.3/ ,/ 0.5/ ,/ 0.7/ )/ 时/ ,/ AdPriQuery/ 算法/ 服务器端/ 时间/ 消耗/ 变化趋势/ ,/ 由/ 实验/ 结果/ 可/ 得出/ 如下/ 结论/ :/ 查询/ 对象/ 数/ k/ 越大/ ,/ 服务器端/ 查询/ 时耗/ 越大/ ;/ 但/ 随着/ Pu/ 的/ 增加/ ,/ 时耗/ 呈/ 减小/ 趋势/ ./ 可见/ ,/ 对/ 不同/ 查询/ 对象/ 数/ k/ ,/ AdPriQuery/ 算法/ 通过/ 调节/ 概率/ 阈值/ 参数/ Pu/ ,/ 能够/ 有效/ 的/ 实现/ 查询/ 者/ 关于/ 查询/ 准确性/ 与/ 查询/ 时耗/ 的/ 偏好/ 调控/ 需求/ ./ 图/ 8/ 对应/ 概率/ 阈值/ Pu/ 及/ 查询/ 对象/ 数/ k/ 对/ 算法/ 查询/ 准确性/ 的/ 影响/ ,/ 如图所示/ ,/ 随着/ Pu/ 的/ 增加/ ,/ AdPriQuery/ 算法/ 查询/ 准确性/ 呈/ 降低/ 趋势/ ,/ 但/ 随着/ k/ 的/ 增加/ ,/ 这种/ 降低/ 趋势/ 显著/ 变/ 缓慢/ ,/ 这是/ 由于/ 查询/ 对象/ 数越/ 多/ ,/ AdPriQuery/ 算法/ 筛选/ 判断/ 错误/ 的/ 近邻/ PoI/ 占/ 查询/ PoI/ 数/ 的/ 比值/ 下降/ ./ 图/ 8/ 查询/ 准确性/ 与/ 查询/ 规模/ k/ 与/ 概率/ 阈值/ Pu6/ ./ 2AdPriQuery/ 算法/ 与/ 传统/ 算法/ 对比/ 实验/ 本节/ 将/ AdPriQuery/ 算法/ 与/ 传统/ 不/ 具备/ 查询/ 准确性/ 与/ 效率/ 调节/ 功能/ 的/ 路网/ 环境/ 隐私/ 保护/ k/ 近邻/ 查询方法/ (/ 叙述/ 方便/ 起/ 见/ ,/ 将/ 该类/ 算法/ 命名/ 为/ Gen/ -/ PriQuery/ ,/ 以/ 文献/ [/ 16/ ]/ 算法/ 为/ 代表/ )/ 进行/ 实验/ 对比/ ./ AdPriQuery/ 算法/ 与/ GenPriQuery/ 算法/ 客户端/ 处理/ 流程/ 相同/ ,/ 区别/ 在于/ 服务器/ 收到/ 关于/ 查询/ 位置/ 的/ 混淆/ 区域/ 后/ ,/ GenPriQuery/ 算法/ 进行/ 常规/ 精确/ k/ 近邻/ PoI/ 查询/ ,/ 查询/ 者/ 缺少/ 对/ 处理过程/ 的/ 调控/ 能力/ ./ 因此/ ,/ 只/ 比较/ 两/ 算法/ 的/ 服务器端/ 处理/ ./ 图/ 9/ 为/ 查询/ 对象/ 数/ k/ 为/ 10/ 时/ ,/ 两/ 算法/ 服务器端/ Page11/ 时间/ 消耗/ 对比/ 图/ ,/ 当/ Pu/ 取/ 0/ 时/ ,/ AdPriQuery/ 的/ 时间/ 消耗/ 与/ GenPriQuery/ 持平/ ,/ 对应/ 概率/ 阈值/ 的/ 筛选/ 调节/ 功能/ 未/ 执行/ 情况/ ./ 随着/ Pu/ 增加/ ,/ AdPriQuery/ 算法/ 的/ 调节/ 功效/ 日趋/ 显著/ ,/ 其/ 服务器端/ 时间/ 消耗/ 也/ 越来越/ 小/ ;/ 相应/ 的/ 查询/ 准确性/ 对比/ 见图/ 10/ ,/ Pu/ 取/ 0/ 时/ ,/ 概率/ 阈值/ 的/ 筛选/ 调节/ 功能/ 未/ 执行/ ,/ 其/ 查询/ 准确性/ 与/ GenPriQuery/ 相同/ ,/ 查询/ 结果/ 均/ 为/ 准确/ k/ 近邻/ ,/ 随着/ Pu/ 的/ 增加/ ,/ AdPriQuery/ 算法/ 的/ 准确性/ 呈/ 逐渐/ 降低/ 趋势/ ./ 图/ 9AdPriQuery/ 与/ GenPriQuery/ 时间/ 消耗/ 对比/ (/ k/ =/ 10/ )/ 图/ 10AdPriQuery/ 与/ GenPriQuery/ 准确性/ 对比/ (/ k/ =/ 10/ )/ 图/ 11/ 描述/ 了/ AdPriQuery/ 算法/ 在/ 概率/ 阈值/ 固定/ (/ Pu/ =/ 0.5/ )/ 时/ ,/ 目标/ 查询/ 对象/ 数/ k/ 对/ AdPriQuery/ 算法/ 和/ GenPriQuery/ 算法/ 查询/ 性能/ 的/ 影响/ ./ 如图所示/ ,/ 算法/ GenPriQuery/ 服务器端/ 执行/ 时间/ 明显/ 长于/ 算法/ AdPriQuery/ 服务器端/ 执行/ 时间/ ,/ 随着/ k/ 的/ 增加/ ,/ 两/ 算法/ 运行/ 时间/ 均/ 呈/ 增长/ 趋势/ ,/ 但/ AdPriQuery/ 时间/ 消耗/ 的/ 增长幅度/ 较/ GenPriQuery/ 算法/ 明显/ 趋于/ 缓慢/ ,/ 这/ 与/ 前文/ 指出/ 的/ 已有/ 诸如/ GenPriQuery/ 方法/ 存在/ 服务器端/ 计算/ 开销/ 大/ ,/ 特别/ 是/ k/ 较大/ 时/ ,/ 查询/ 搜索/ 规模/ 激增/ 的/ 分析/ 吻合/ ./ 就/ 查询/ 准确性/ 而言/ ,/ 如图/ 11/ 所示/ ,/ 随着/ k/ 的/ 增加/ ,/ AdPriQuery/ 算法/ 查询/ 准确性/ 逐渐/ 提高/ ./ 图/ 11/ 查询/ 对象/ 数/ k/ 对/ 算法/ 查询/ 效果/ 的/ 影响/ (/ Pu/ =/ 0.5/ )/ 7/ 总结/ 与/ 展望/ 针对/ 面向/ 路网/ 的/ 隐私/ 保护/ k/ 近邻/ 查询/ 中/ ,/ 保护/ 位置/ 隐私/ 需求/ 引起/ 服务器端/ 处理/ 代价/ 激增/ ,/ 导致/ 保护/ 位置/ 隐私/ 前提/ 下/ 查询/ 效率/ 与/ 查询/ 准确性/ 绝对/ 对立/ 问题/ ,/ 提出/ 支持/ 查询/ 者/ 对/ 查询/ 准确性/ 与/ 查询/ 效率/ 进行/ 偏好/ 调控/ 思想/ ,/ 实现/ 位置/ 查询/ 服务/ 的/ 安全/ 化/ 和/ 个性化/ ./ 通过/ 引入/ PoI/ 概率分布/ 概念/ ,/ 对/ 服务器端/ PoI/ 邻接/ 关系/ 进行/ 分析/ ,/ 提出/ PoI/ 概率分布/ 生成/ 方法/ 及/ 查找/ 替换/ PoI/ 的/ 概率/ 预测/ 机制/ ./ 在/ 此基础/ 上/ ,/ 提出/ 查询/ 者/ 可/ 调控/ 的/ 隐私/ 敏感/ k/ 近邻/ 查询方法/ AdPriQuery/ ,/ 查询/ 者/ 可/ 通过/ 调节/ 筛选/ 概率/ 阈值/ ,/ 有效/ 调控/ 查询/ 准确性/ 与/ 查询/ 效率/ ./ 理论/ 和/ 实验/ 分析/ 验证/ 了/ 所/ 提/ 方法/ 的/ 有效性/ ./ AdPriQuery/ 方法/ 依赖/ 可信/ 第三方/ ,/ 然而/ 现实/ 应用/ 中/ ,/ 可信/ 第三方/ 容易/ 成为/ 系统安全/ 及/ 性能/ 的/ 瓶颈/ ;/ 另一方面/ ,/ 现实/ 世界/ 路网/ 存在/ 单行线/ 等/ 路段/ 约束/ ./ 下一阶段/ 将/ 进一步/ 开展/ 以下/ 研究/ :/ (/ 1/ )/ 不/ 依赖/ 可信/ 第三方/ 的/ 路网/ 环境/ 支持/ 隐私/ 偏好/ 的/ k/ 近邻/ 查询方法/ ;/ (/ 2/ )/ 结合实际/ 路网/ 存在/ 的/ 单行道/ 、/ 限行/ 道/ 等/ 问题/ ,/ 研究/ 带/ 约束/ 有向图/ 模拟/ 路网/ 环境/ 隐私/ 保护/ k/ 近邻/ 查询/ 中/ 的/ 偏好/ 调控/ 问题/ ./ 

