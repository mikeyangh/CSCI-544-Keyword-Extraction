Page1/ 绿色/ 数据中心/ 的/ 热量/ 管理/ 方法/ 研究/ 李翔/ 姜晓红/ 吴/ 朝晖/ 叶可江/ (/ 浙江大学/ 计算机科学/ 与/ 技术/ 学院/ 杭州/ 310027/ )/ 摘要/ 数据中心/ 的/ 高能耗/ 是/ 一个/ 亟待解决/ 的/ 问题/ ./ 尤其/ 是/ 随着/ 云/ 计算/ 的/ 发展/ ,/ 更/ 多/ 的/ 资源/ 集中/ 到/ 云端/ ./ 构建/ 绿色/ 数据中心/ 、/ 实现/ 节能/ 减排/ 成为/ 了/ 近年来/ 业界/ 关注/ 的/ 热点/ ./ 数据中心/ 的/ 能耗/ 主要/ 由/ 计算/ 能耗/ 和/ 制冷/ 能耗/ 两/ 部分/ 组成/ ./ 数据中心/ 的/ 热量/ 管理/ 主要/ 从/ 减少/ 制冷/ 能耗/ 的/ 角度/ 出发/ ,/ 为/ 实现/ 绿色/ 计算/ 提供/ 了/ 新/ 的/ 思路/ ./ 该文/ 从/ 绿色/ 数据中心/ 的/ 状态/ 监控/ 、/ 热量/ 建模/ 、/ 热量/ 管理策略/ 以及/ 热量/ 管理/ 评价/ 4/ 个/ 方面/ 综述/ 了/ 近年来/ 数据中心/ 热量/ 管理/ 方面/ 的/ 研究/ 工作/ ./ 该文/ 提出/ 了/ 绿色/ 数据中心/ 热量/ 管理/ 的/ 总体/ 架构/ ,/ 总结/ 了/ 其/ 分布式/ 监控/ 系统/ 的/ 一般/ 框架/ ;/ 对/ 现有/ 的/ 热量/ 管理/ 方法/ 按/ 面向/ 单/ 节点/ // 面向/ 多/ 节点/ 进行/ 分类/ ,/ 并且/ 从/ 复杂度/ 、/ 灵活/ 度/ 、/ 实施/ 效果/ 等/ 多方面/ 进行/ 了/ 比较/ ,/ 分析/ 了/ 各种/ 方法/ 的/ 优势/ 和/ 局限性/ ./ 文中/ 提出/ 了/ 数据中心/ 全局/ 能耗/ 评价/ 、/ 制冷系统/ 效率/ 评价/ 、/ 热量/ 及/ 温度/ 评价/ 的/ 分类/ 方法/ ,/ 对/ 现有/ 的/ 评价/ 方法/ 进行/ 总结/ ./ 最后/ 论文/ 列出/ 了/ 未来/ 需要/ 进一步/ 研究/ 的/ 十个/ 方向/ ./ 关键词/ 绿色/ 计算/ ;/ 绿色/ 数据中心/ ;/ 热量/ 管理/ ;/ 能耗/ 管理/ ;/ 制冷/ ;/ 云/ 计算/ 1/ 引言/ 随着/ 大规模/ 数据中心/ 在/ 全球/ 范围/ 内/ 的/ 广泛/ 部署/ ,/ 其/ 高能耗/ 、/ 高/ 费用/ 、/ 高污染/ 等/ 问题/ 日益突出/ [/ 1/ ]/ ./ 以/ Google/ 公司/ 为例/ :/ 在/ 过去/ 的/ 十年/ 时间/ 里/ ,/ 其/ 数据中心/ 耗电量/ 增加/ 了/ 20/ 倍/ 之/ 多/ [/ 2/ ]/ ./ 随着/ 处理器/ 制造/ 工艺/ 的/ 不断进步/ ,/ Intel/ 的/ Itanium2/ 处理器/ 集成/ 的/ 晶体管/ 数量/ 达/ 10/ 亿个/ [/ 3/ ]/ ./ 2010/ 年/ 数据中心/ 的/ 功耗/ 密度/ (/ PowerDensity/ )/ 也/ 达到/ 60Kw/ // m2/ [/ 4/ ]/ ./ 数据中心/ 的/ 高能耗/ 也/ 导致/ 了/ 许多/ 环境/ 问题/ ./ 据统计/ ,/ 2007/ 年/ 全世界/ 的/ 数据中心/ 的/ 二氧化碳/ 排放量/ 几乎/ 和/ 整个/ 阿根廷/ 接近/ ,/ 并/ 保持/ 高达/ 11/ %/ 的/ 年增长率/ [/ 5/ ]/ ./ 特别/ 是/ 随着/ 云/ 计算/ 的/ 到来/ ,/ 更/ 多/ 的/ 资源/ 集中/ 到/ 云端/ ,/ 给/ 能耗/ 的/ 高效/ 管理/ 带来/ 了/ 更/ 大/ 挑战/ [/ 1/ ]/ ./ 如何/ 降低/ 绿色/ 数据中心/ 能耗/ ,/ 构建/ 绿色/ 数据中心/ (/ GreenDataCenter/ )/ 受到/ 越来越/ 广泛/ 的/ 关注/ [/ 6/ ]/ ./ 传统/ 的/ 节能/ 方式/ 一般/ 是/ 减少/ 节点/ 的/ 计算/ 能耗/ ./ 例如/ 采用/ 处理器/ 电压/ 频率/ 调整/ (/ DynamicVoltageandFrequencyScaling/ ,/ DVFS/ )/ 等/ 底层/ 节能/ 技术/ ;/ 对/ 任务/ 负载/ 进行/ 调度/ ,/ 将/ 任务/ 进行/ 集中化/ ;/ 或/ 采用/ 虚拟化/ 技术/ ,/ 通过/ 服务器/ 整合/ 把/ 多个/ 虚拟机/ 整合/ 到/ 同一个/ 物理/ 机上/ ,/ 关闭/ 空闲/ 的/ 物理/ 机/ ,/ 达到/ 节能/ 目的/ ./ 这些/ 方法/ 对/ 节能/ 起到/ 了/ 巨大/ 的/ 推动/ 作用/ ,/ 但是/ 都/ 没有/ 考虑/ 到/ 制冷/ 设备/ 的/ 能耗/ 问题/ ./ 实际上/ ,/ 数据中心/ 的/ 能耗/ 不仅仅/ 来源于/ 服务器/ 的/ 计算/ 能耗/ (/ 包括/ 处理器/ 、/ 磁盘/ 、/ 网络设备/ 等/ 的/ 能量消耗/ )/ ,/ 还/ 包括/ 制冷/ 能耗/ ./ 其中/ 制冷/ 开销/ 是/ 最为/ 主要/ 的/ 部分/ [/ 2/ ,/ 7/ ]/ ,/ 接近/ 所有/ 能耗/ 开销/ 的/ 50/ %/ [/ 8/ ]/ ./ 我们/ 把/ 将/ 数据中心/ 高/ 制冷/ 能耗/ 的/ 原因/ 总结/ 如下/ :/ 图/ 1/ 绿色/ 数据中心/ 热量/ 管理/ 架构/ (/ 1/ )/ 制冷/ 设备/ 需要/ 将/ 数据中心/ 的/ 温度/ 严格控制/ 在/ 合理/ 范围/ 内/ ./ 首先/ ,/ 数据中心/ 温度/ 过高会/ 严重/ 影响/ 设备/ 的/ 可靠性/ ./ LittleBluePenguinCluster/ 的/ 经验/ 数据/ 表明/ [/ 9/ ]/ ,/ 温度/ 每/ 升高/ 大约/ 10/ 度/ ,/ 设备/ 的/ 故障率/ 就/ 会/ 翻倍/ ./ 为/ 保证/ 设备/ 工作/ 在/ 正常/ 温度/ 下/ ,/ 往往/ 需要/ 消耗/ 大量/ 的/ 制冷/ 能耗/ ./ 其次/ ,/ 数据中心/ 内部/ 的/ 计算/ 设备/ 能耗/ 高/ ,/ 转化/ 并/ 耗散/ 了/ 大量/ 内能/ ./ 这/ 给/ 温度控制/ 带来/ 了/ 巨大/ 挑战/ ./ 以/ TACC/ ’/ sRanger/ 和/ IBMBlue/ -/ Gene/ // L/ 为例/ ,/ 其/ 冷却/ 率/ 分别/ 为/ 11.5/ (/ 即/ 每/ 消耗/ 1.5/ W/ 计算/ 功率/ ,/ 需要/ 额外/ 1W/ 功率/ 进行/ 冷却/ )/ 和/ 12.5/ [/ 4/ ]/ ./ (/ 2/ )/ 数据中心/ 温度/ 分布/ 不/ 均匀/ ./ 从/ 空间/ 角度/ 来看/ :/ 由于/ 硬件/ 布局/ 、/ 负载/ 分布/ 等/ 原因/ ,/ 会/ 造成/ 数据中心/ 的/ 温度/ 在/ 不同/ 节点/ 、/ 不同/ 位置/ 分布/ 不/ 均衡/ ;/ 从/ 时间/ 角度/ 分析/ :/ 数据中心/ 所处/ 的/ 外部环境/ 会/ 因为/ 自然/ 现象/ 周期性地/ 改变/ ,/ 其/ 内部/ 的/ 计算资源/ 利用率/ 会/ 随着/ 用户/ 任务/ 负载/ 的/ 变化/ 而/ 变化/ ./ 因此/ ,/ 数据中心/ 节点/ 温度/ 的/ 波动/ 要求/ 制冷/ 设备/ 进行/ 过量/ 冷却/ ,/ 即/ 需要/ 确保/ 在/ 最易/ 出现/ 危险/ 的/ 情况/ 下/ 设备/ 也/ 是/ 可靠/ 和/ 安全/ 的/ ./ (/ 3/ )/ 数据中心/ 的/ 热量/ 管理/ (/ ThermalManage/ -/ ment/ )/ 方法/ 存在/ 不足/ ,/ 降低/ 了/ 制冷/ 设备/ 的/ 运行/ 效率/ ./ 数据中心/ 的/ 热量/ 管理/ 包括/ 对/ 温度/ 、/ 气流/ 等/ 物理/ 参数/ 进行/ 管控/ 的/ 一系列/ 软硬件/ 方法/ ./ 其/ 主要/ 目的/ 是/ :/ ①/ 合理/ 控制/ 温度/ ,/ 提高/ 设备/ 的/ 可靠性/ ;/ ②/ 优化/ 数据中心/ 的/ 热力学/ 特性/ ,/ 尽量减少/ 热点/ (/ HotSpot/ )/ 的/ 产生/ ./ 由于/ 最小化/ 峰值/ 温度/ 与/ 最小化/ 制冷/ 能耗/ 之间/ 具有/ 等价/ 性/ [/ 10/ ]/ ,/ 因此/ 减少/ 热点/ 有助于/ 提高/ 制冷/ 效率/ ,/ 降低/ 制冷/ 能耗/ ./ 绿色/ 数据中心/ 的/ 热量/ 管理/ 架构/ 如图/ 1/ 所示/ ,/ 主要/ 包括/ 管理系统/ 和/ 评价/ 体系/ 两/ 部分/ ./ 调度/ 系统/ 作为/ 管理系统/ 的/ 核心/ ,/ 以/ 用户/ 任务/ 、/ 离线/ 参数/ Page3/ 和/ 实时/ 参数/ 作为/ 输入/ ,/ 对/ 数据中心/ 进行/ 控制/ ./ 其中/ ,/ 离线/ 参数/ 包括/ 数据中心/ 的/ 设备/ 布局/ 和/ 热力学/ 参数/ 等/ ;/ 实时/ 参数/ 指/ 数据中心/ 的/ 温度/ 分布/ 、/ 负载/ 分布/ 、/ 系统资源/ 利用率/ 等/ ./ 如果/ 采用/ 基于/ 预测/ 的/ 管理策略/ ,/ 管理系统/ 需要/ 经过/ 模型/ 匹配/ 和/ 状态/ 预测/ 两个/ 步骤/ ./ 不同/ 的/ 管理策略/ 和/ 配置/ 会/ 导致/ 不同/ 的/ 数据中心/ 状态/ ./ 监控/ 系统/ 负责/ 对/ 状态/ 进行/ 实时/ 监控/ ,/ 更新/ 实时/ 参数/ 和/ 用户/ 任务/ 队列/ ,/ 并/ 进入/ 下/ 一个/ 控制/ 循环/ ./ 评价/ 体系/ 致力于/ 对/ 不同/ 热量/ 管理系统/ 的/ 效果/ 和/ 作用/ 进行/ 评价/ ./ 评价/ 参数/ 可/ 分为/ 全局/ 能耗/ 评价/ 、/ 制冷系统/ 效率/ 评价/ 、/ 热量/ 及/ 温度/ 评价/ 3/ 个/ 部分/ ./ 本文/ 从/ 状态/ 监控/ 、/ 热量/ 建模/ 、/ 热量/ 管理策略/ 以及/ 热量/ 管理/ 评价/ 4/ 个/ 方面/ ,/ 对/ 近年来/ 绿色/ 数据中心/ 热量/ 管理/ 领域/ 的/ 研究进展/ 和/ 最新/ 成果/ 进行/ 全面/ 地/ 综述/ ./ 本文/ 第/ 2/ 节/ 介绍/ 绿色/ 数据中心/ 的/ 监控/ 框架/ 和/ 具体/ 实现/ ;/ 第/ 3/ 节/ 分析/ 数据中心/ 的/ 建模/ ,/ 并/ 重点/ 综述/ 数据中心/ 的/ 常用/ 数学模型/ 及/ 热力学/ 模型/ ;/ 第/ 4/ 节/ 根据/ 面向/ 单/ 节点/ 和/ 面向/ 多/ 节点/ 的/ 分类/ 对/ 现有/ 的/ 热量/ 管理策略/ 进行/ 总结/ ;/ 在/ 第/ 5/ 节中/ ,/ 综述/ 管理策略/ 的/ 性能指标/ 和/ 评估/ 方法/ ;/ 最后/ 对/ 全文/ 进行/ 总结/ ,/ 并/ 指出/ 值得/ 进一步/ 研究/ 的/ 方向/ ./ 2/ 数据中心/ 监控/ 框架/ 及/ 实现/ 实时/ 地/ 监控/ 数据中心/ 的/ 各类/ 数据/ 是/ 智能/ 制冷/ 、/ 热量/ 管理/ 、/ 负载/ 迁移/ 等/ 的/ 先决条件/ [/ 11/ ]/ ./ 现代/ 数据中心/ 存在/ 大量/ 的/ 网络设备/ 和/ 分布式计算/ 节点/ ,/ 具有/ 耦合/ 性低/ 、/ 可靠性/ 差/ 、/ 经常/ 需要/ 扩展/ 或/ 升级/ 的/ 特点/ ./ 为了/ 使得/ 数据中心/ 监控/ 系统/ 的/ 设计/ 和/ 实现/ 具有/ 一定/ 的/ 挑战性/ ,/ 需要/ 满足/ 以下/ 特性/ :/ (/ 1/ )/ 可伸缩性/ ./ 监控/ 系统/ 必须/ 能够/ 应对/ 节点/ 数目/ 的/ 动态变化/ ,/ 具有/ 可伸缩性/ ;/ (/ 2/ )/ 健壮性/ ./ 即使/ 部分/ 节点/ 产生/ 故障/ ,/ 仍然/ 可以/ 提供/ 有效/ 服务/ ,/ 具有/ 高度/ 的/ 容错性/ ;/ (/ 3/ )/ 可扩展性/ ./ 监控/ 的/ 数据类型/ 具有/ 可扩展性/ ,/ 即/ 允许/ 用户/ 添加/ 新/ 的/ 监控/ 数据类型/ ;/ (/ 4/ )/ 易管理性/ ./ 对/ 监控/ 系统/ 的/ 管理/ 开销/ 不能/ 随着/ 节点/ 数目/ 的/ 增加/ 而/ 线性/ 增加/ ,/ 尽量减少/ 手动/ 配置/ 的/ 内容/ ;/ (/ 5/ )/ 可移植性/ ./ 能够/ 被/ 移植/ 到/ 不同/ 操作系统/ 或/ 芯片/ 架构/ 上/ ;/ (/ 6/ )/ 系统/ 开销/ 低/ ./ 为了/ 避免/ 与/ 用户程序/ 发生/ 资源/ 争用/ ,/ 监控/ 程序/ 不能/ 消耗/ 过多/ 系统资源/ [/ 12/ ]/ ;/ (/ 7/ )/ 可编程/ ./ 监控/ 设备/ 符合/ 统一/ 规范/ ,/ 具有/ 标准接口/ 监控/ 程序/ 可以/ 快速/ 、/ 及时/ 、/ 准确/ 地/ 获取/ 设备/ 的/ 测量/ 数据/ ;/ (/ 8/ )/ 自动化/ ./ 在/ 无/ 人工干预/ 的/ 情况/ 下/ 自动/ 收集/ 测量/ 数据/ ;/ (/ 9/ )/ 高可靠性/ ./ 设备/ 可/ 进行/ 7/ ×/ 24h/ 无人/ 值守/ 的/ 监控/ ,/ 在/ 长时间/ 不间断/ 工作/ 的/ 情况/ 下/ 保证/ 设备/ 的/ 正常/ 测量/ ,/ 并/ 提供/ 必要/ 的/ 预警/ 、/ 报警/ 等/ 应急/ 功能/ ./ 本文/ 所/ 讲/ 的/ 监控/ 主要/ 针对/ 两个/ 方面/ :/ 首先/ 是/ 环境/ 监控/ ,/ 即/ 对/ 数据中心/ 的/ 自然环境/ 和/ 辅助/ 设备/ 进行/ 监控/ ,/ 包括/ 对/ 内部/ 空气/ 的/ 温度/ 、/ 湿度/ 、/ 气流/ 速度/ 等/ 数据/ 的/ 测量/ 与/ 收集/ ;/ 其次/ 是/ 资源/ 监控/ ,/ 即/ 对/ 服务器/ 集群/ 、/ 网络设备/ 等/ 资源/ 的/ 物理/ 参数/ 和/ 使用/ 状态/ 等/ 进行/ 监控/ ./ 在/ 环境/ 数据/ 的/ 监控/ 方面/ ,/ 主要/ 方法/ 是/ 通过/ 一定/ 的/ 硬件/ 设备/ 来/ 获得/ 各项/ 环境参数/ ./ 例如/ ,/ 可/ 使用/ 温度计/ 、/ 湿度计/ 、/ 流量计/ 、/ 气流/ 监控器/ 等/ 设备/ 对/ 服务器/ 节点/ 以及/ 数据中心/ 内部/ 气流/ 的/ 各种/ 物理/ 参数/ 进行/ 测量/ ./ 例如/ Shen/ 等/ 人/ [/ 13/ ]/ 提出/ 的/ 基于/ 阵列/ 传感器/ 的/ 数据中心/ 温度场/ 可视化/ 系统/ ,/ 利用/ 分布/ 于/ 数据中心/ 各个/ 位置/ 的/ 传感器/ 所/ 测量/ 的/ 温度/ 作为/ 边界条件/ ./ 再/ 利用/ 计算/ 流体力学/ 软件/ 进行/ 分析/ ,/ 得到/ 整个/ 数据中心/ 的/ 温度场/ 分布/ ./ 与/ 环境/ 监控/ 不同/ ,/ 资源/ 监控/ 指对云/ 计算资源/ 设备/ 的/ 状态参数/ 和/ 运行/ 情况/ 进行/ 监控/ ./ 我们/ 将/ 其/ 分为/ 3/ 种/ 不同/ 的/ 情况/ :/ (/ 1/ )/ 通过/ 计算机设备/ 或/ 操作系统/ 的/ 接口/ 直接/ 获得/ ,/ 例如/ CPU/ 利用率/ 、/ 内存/ 或/ 网络带宽/ 的/ 使用/ 情况/ 等/ ;/ (/ 2/ )/ 对于/ 部分/ 参数/ ,/ 计算机/ 和/ 操作系统/ 都/ 未/ 提供/ 相应/ 的/ 测量/ 接口/ ,/ 需要/ 通过/ 软硬件/ 结合/ 的/ 方法/ 或/ 间接/ 计算/ 得到/ ./ 例如/ CPU/ 功耗/ ,/ 文献/ [/ 14/ ]/ 提出/ 了/ 一种/ 不/ 依赖/ 电学/ 测量/ 仪器/ ,/ 而是/ 通过/ CPU/ 工作频率/ 和/ 利用率/ 进行/ 推算/ 的/ 方法/ ;/ (/ 3/ )/ 依赖/ 集成/ 在/ 计算机/ 主板/ 、/ 芯片/ 上/ 的/ 传感器/ 进行/ 监控/ ./ 以/ 温度/ 测量/ 为例/ ,/ 目前/ 大部分/ 的/ 处理器/ 芯片/ 内部/ 、/ 部分/ 计算机/ 主板/ 上/ 都/ 集成/ 了/ 温度传感器/ ./ 这个/ 传感器/ 将/ 测量/ 的/ 温度/ 数值/ 大多/ 存放/ 在/ CPU/ 寄存器/ 中/ ,/ 通过/ 驱动程序/ 可以/ 进行/ 读取/ ./ Moore/ 等/ 人/ [/ 15/ ]/ 开发/ 的/ 自动/ 收集/ 和/ 分析/ 数据/ 的/ 系统/ ,/ 可以/ 看成/ 是/ 数据中心/ 监控/ 系统/ 的/ 一个/ 典型/ ./ 该/ 系统/ 主要/ 包括/ 监控/ 、/ 过滤/ 、/ 分析/ 3/ 个/ 部分/ :/ 监控/ 部分/ 的/ 设计/ 必须/ 具有/ 高度/ 的/ 可扩展性/ ,/ 以/ 满足/ 数据中心/ 的/ 动态变化/ 以及/ 对/ 测量/ 要求/ 的/ 不断/ 调整/ ;/ 过滤/ 部分/ 使用/ 的/ 基本/ 过滤/ 方法/ 包括/ 去/ 重/ 以及/ 过滤/ 变化/ 不大/ 的/ 数据/ ;/ 分析/ 部分/ 对/ 数据/ 的/ 行为/ 特征/ 、/ 参数/ 间/ 的/ 相互影响/ 关系/ ,/ 为/ 调度/ 策略/ 的/ 制定/ 提供/ 参考/ 依据/ ./ 这种/ 分布式/ 的/ 监控/ 模式/ 是/ 最为/ 常见/ 的/ 一个/ 典型/ ,/ 文献/ [/ 16/ -/ 18/ ]/ 也/ 使用/ 了/ 类似/ 的/ 监控/ 模式/ ./ Page4/ 通过/ 对/ 诸如/ Ganglia/ [/ 12/ ]/ ,/ Zabbix/ ①/ ,/ Nagios/ ②/ 等/ 大量/ 监控/ 系统/ 的/ 研究/ ,/ 并/ 结合/ 现代/ 绿色/ 数据中心/ 的/ 特殊性/ ,/ 我们/ 抽象/ 出如图/ 2/ 所示/ 的/ 分布式/ 监控/ 系统/ 框架/ ./ 一般/ 通过/ 特定/ 的/ 测量/ 设备/ 完成/ 环境/ 监控/ ,/ 并/ 在/ 每个/ 服务器/ 上/ 运行/ 监控/ 程序/ (/ 例如/ 可以/ 是/ 一个/ 守护/ 进程/ )/ 进行/ 资源/ 监控/ ./ 这些/ 设备/ 和/ 进程/ 通过/ 一定/ 的/ 标准规范/ 与/ 主/ 节点/ 进行/ 通信/ ,/ 传输/ 收集/ 的/ 数据/ ./ 主/ 节点/ 对/ 数据/ 进行/ 分析/ 、/ 处理/ 、/ 筛选/ 、/ 存储/ 等/ 操作/ ,/ 必要/ 时/ 还/ 会/ 以/ 某种/ 方式/ 进行/ 报警/ 、/ 通知/ 管理员/ 或/ 采取/ 应急/ 措施/ 等/ ./ 最后/ 通过/ 可视化/ 工具/ (/ 可/ 选/ )/ 对/ 监控/ 数据/ 进行/ 呈现/ ./ 3/ 数据中心/ 热量/ 及/ 温度/ 建模/ 3.1/ 数据中心/ 基本/ 温控/ 结构/ 热量/ 与/ 温度/ 存在/ 直接/ 关系/ ./ 不同/ 绿色/ 数据中心/ 的/ 规模/ 、/ 结构/ 、/ 布局/ 、/ 制冷/ 设施/ 各不相同/ ,/ 但/ 温度/ 变化/ 的/ 根源/ 都/ 来自/ 于/ 热量/ 的/ 变化/ ./ 如式/ (/ 1/ )/ 所示/ :/ 其中/ :/ Δ/ T/ 是/ 温度/ 的/ 变化/ 值/ ;/ c/ ,/ m/ 分别/ 是/ 部件/ 的/ 比热容/ 与/ 质量/ ;/ Δ/ Q/ 是/ 物体/ 的/ 热量/ 变化/ 值/ ./ 具体/ 到/ 数据中心/ 的/ 部件/ 可/ 分为/ 两类/ :/ (/ 1/ )/ 本身/ 会/ 消耗/ 电能/ 的/ 部件/ ./ 例如/ 计算机/ 、/ 网络/ 、/ 空调/ 等/ ;/ 该类/ 部件/ 的/ 热量/ 变化/ 源自/ 于/ 本身/ 消耗/ 的/ 电能/ 转化/ 而成/ 的/ 热量/ ;/ 另/ 一部分/ 源自/ 于/ 与/ 周围/ 接触/ 物体/ (/ 如/ 散热片/ 、/ 空气/ )/ 的/ 热/ 传递/ ;/ (/ 2/ )/ 其他/ 部件/ ./ 热量/ 变化/ 完全/ 取决于/ 周围环境/ 的/ 热交换/ ./ 如果/ 把/ 数据中心/ 看作/ 一个/ 整体/ ,/ 一段时间/ 内/ 平均温度/ 的/ 改变/ 则/ 取决于/ 其/ 产生/ 的/ 热量/ 与/ 制冷/ 设备/ 移除/ 的/ 热量/ [/ 19/ ]/ ./ 其中/ :/ Mroom/ 和/ Cp/ 表示/ 数据中心/ 内部/ 总/ 质量/ 和/ 比热容/ ;/ Hroom/ 表示/ 整个/ 数据中心/ 的/ 产/ 热量/ ;/ Qroom/ 表示/ 制冷系统/ 抽取/ 的/ 热量/ ,/ 两者/ 的/ 差值/ 直接/ 决定/ 室内/ 平均温度/ 的/ 变化/ ./ 数据中心/ 有/ 多种/ 供冷/ 回流/ 模式/ (/ SupplyandReturnScheme/ )/ [/ 19/ -/ 20/ ]/ ./ 不失/ 一般性/ ,/ 我们/ 以/ “/ 地板/ 送风/ ,/ 水平/ 回流/ ”/ 的/ 模式/ 为例/ ,/ 描述/ 绿色/ 数据中心/ 的/ 整体/ 温控/ 结构/ ./ 数据中心/ 下部/ 是/ 地板/ 空层/ (/ RaisedFloorPlenum/ )/ ,/ 数据中心/ 空调设备/ (/ ComputerRoomAirConditioningUnit/ ,/ CRAC/ )/ 的/ 低温/ 气流/ 通过/ 该/ 空层/ 并/ 经由/ 通风/ 地板/ (/ VentTile/ )/ 进行/ 送风/ ./ 服务器/ 以/ 行为/ 单位/ 放置/ ./ 地板/ 送风/ 系统/ 的/ 制冷/ 气流/ 从/ 两行/ 机架/ (/ Rack/ )/ 间/ 送/ 出/ ,/ 从/ 机架/ 的/ 前方/ 入口/ 流经/ 机架/ ,/ 带走/ 将/ 服务器/ 耗散/ 的/ 内能/ 之后/ 变成/ 高温/ 气流/ 从/ 机架/ 后方/ 出口/ 排出/ ./ 一般而言/ ,/ 每个/ 节点/ 内部/ 都/ 安装/ 了/ 各种类型/ 的/ 风扇/ 及/ 冷却/ 组件/ ,/ 如/ 机箱/ 风扇/ 、/ CPU/ 风扇/ 等/ ./ 从/ 机架/ 后部/ 排出/ 气流/ 的/ 密度/ 由于/ 温度/ 升高/ 而/ 降低/ ,/ 受到/ 浮力/ 的/ 作用/ 自然/ 上升/ 并/ 接近/ 水平/ 地/ 返回/ CRAC/ ./ 每/ 两行/ 机架/ 之间/ ,/ 如果/ 直接/ 受到/ 地板/ 送风/ 气流/ 的/ 制冷/ 效果/ 影响/ ,/ 温度/ 便会/ 较/ 其他/ 区域/ 低/ ,/ 形成/ “/ 冷道/ ”/ (/ ColdAisle/ )/ ,/ 反之/ 在/ 机架/ 的/ 后部/ ,/ 由于/ 热/ 气流/ 的/ 汇聚/ ,/ 温度/ 升高/ ,/ 形成/ “/ 热道/ ”/ (/ HotAisle/ )/ ./ 在/ 数据中心/ 的/ 整个/ 制冷系统/ 中/ ,/ CRAC/ 扮演着/ 心脏/ 的/ 作用/ ./ 它/ 不断/ 吸收/ 受热/ 后/ 的/ 气流/ ,/ 并/ 送/ 出/ 低温/ 制冷/ 气流/ ,/ 即/ 不断/ 地/ 将/ 数据中心/ 内部/ 产生/ 的/ 内能/ “/ 搬运/ ”/ 到/ 外部/ ,/ 同时/ 这个/ 过程/ 也/ 需要/ 消耗/ 一定/ 的/ 能量/ ,/ 也/ 就是/ 制冷/ 能耗/ ./ 在/ 不同/ 条件/ 下/ ,/ 搬运/ 同样/ 内能/ 所/ 消耗/ 的/ 制冷/ 能耗/ 会/ 有所/ 差异/ ,/ 具体/ 体现/ 为/ CRAC/ 的/ 工作效率/ ,/ 使用/ CoP/ (/ CoefficientofPerformance/ )/ 参数/ 进行/ 表征/ [/ 8/ ,/ 21/ ]/ ./ 其/ 定义/ 如下/ :/ 其中/ :/ Q/ 表示/ 移除/ 的/ 能量/ ;/ W/ 表示/ CRAC/ 本身/ 消耗/ 的/ 能量/ ./ CoP/ 越高/ 代表/ 制冷/ 设备/ 的/ 制冷/ 效率/ 越高/ ,/ 即/ 移除/ 相等/ 的/ 热量/ 所/ 消耗/ 的/ 电能/ 越少/ ./ 同一个/ CRAC/ 的/ CoP/ 值/ 也/ 并/ 不/ 固定/ ,/ 它会/ 随着/ 工作温度/ 变化/ 而/ 变化/ ./ 一般而言/ ,/ CRAC/ 送出/ 的/ 气流/ 温度/ 越低/ ,/ CoP/ 值/ 也/ 越/ 低/ ,/ 其/ 制冷/ 效率/ 下降/ ./ 来自/ 惠普/ 实验室/ 数据中心/ 的/ 数据/ 表明/ ,/ 其/ 水冷/ CRAC/ 的/ CoP/ 值/ 可以/ 总结/ 为/ 经验/ 公式/ (/ 4/ )/ [/ 10/ ]/ ./ 其中/ ,/ T/ 是/ CRAC/ 的/ 供冷/ 温度/ 设定值/ ./ CoP/ =/ (/ 0.0068/ T2/ +/ 0.008/ T/ +/ 0.458/ )/ (/ 4/ )/ ①/ ②/ Page5/ 同时/ ,/ 数据中心/ 内部/ 设备/ 由于/ 可靠性/ 的/ 要求/ ,/ 需/ 满足/ 如下/ 限制/ 条件/ [/ 8/ ]/ :/ 犜/ inlet/ 和/ 犜/ red/ 是/ n/ 维/ 向量/ ,/ 表示/ 各/ 机架/ 的/ 入口/ 温度/ 和/ 最高/ 临界温度/ ,/ n/ 为/ 机架/ 数量/ ./ 即/ 对/ 任何/ 机架/ 而言/ ,/ 进入/ 机架/ 的/ 冷却/ 气流/ 温度/ 不能/ 超过/ 一定/ 值/ ./ 由于/ 数据中心/ 节点/ 温度/ 分布/ 的/ 非/ 均衡性/ ,/ 需要/ 将/ CRAC/ 的/ 工作温度/ 设定/ 在/ 较/ 低/ 的/ 范围/ 内以/ 保证/ 内部/ 设备/ 的/ 可靠性/ ./ CoP/ 值会/ 由于/ 较/ 低/ 的/ CRAC/ 工作温度/ 设定/ 而/ 消耗/ 更/ 多/ 的/ 制冷/ 能耗/ ./ 如何/ 在/ 保证/ 设备/ 可靠性/ 的/ 前提/ 下/ ,/ 尽量/ 提高/ 空调/ 设定/ 温度/ 是/ 建立/ 绿色/ 数据中心/ 热量/ 管理体系/ 最/ 主要/ 的/ 目标/ 之一/ ./ 3.2/ 数据中心/ 总体/ 热量/ 及/ 温度/ 建模/ 数据中心/ 往往/ 结构复杂/ ,/ 造价/ 昂贵/ ,/ 对/ 服务/ 可靠性/ 要求/ 高/ ,/ 因此/ 很多/ 研究/ 和/ 实验/ 没有/ 条件/ 运行/ 在/ 真正/ 的/ 数据中心/ 环境/ 下/ ,/ 而/ 需要/ 采用/ 仿真/ 的/ 办法/ [/ 20/ ]/ ./ 此外/ ,/ 很多/ 热量/ 管理策略/ (/ 详见/ 第/ 4/ 节/ )/ 都/ 需要/ 对/ 温度/ 进行/ 预估/ ,/ 即/ 预测/ 节点/ 在/ 之后/ 某一/ 时刻/ 的/ 温度/ ./ 实际上/ ,/ 仿真/ 和/ 预测/ 都/ 依赖于/ 数据中心/ 温度/ 模型/ 的/ 建立/ ./ 在/ 绿色/ 数据中心/ 的/ 热量/ 管理/ 领域/ ,/ 总体/ 建模/ 是/ 把/ 数据中心/ 整体/ 当成/ 建模/ 对象/ ,/ 需要/ 考虑/ 整体/ 的/ 热力学/ 规律/ 和/ 数学/ 表达/ ./ 总体/ 建模/ 是/ 面向/ 多/ 节点/ 热量/ 管理策略/ 的/ 基础/ ,/ 主要/ 对/ 数据中心/ 的/ 热学/ 特征/ 、/ 热量/ 、/ 气流/ 循环/ 等/ 问题/ 进行/ 研究/ ./ 其/ 主要/ 方法/ 是/ 借助/ 机器/ 学习/ 、/ 神经网络/ 、/ 流体力学/ 定律/ 等/ 对/ 数据中心/ 进行/ 不同/ 程度/ 的/ 抽象/ 和/ 概括/ ./ 计算/ 流体力学/ (/ ComputationalFluidDynamics/ ,/ CFD/ )/ 是/ 广泛/ 使用/ 的/ 一种/ 建模/ 方法/ ./ 它/ 使用/ 数值/ 方法/ 在/ 计算机/ 中/ 对/ 流体力学/ 的/ 控制/ 方程/ 进行/ 求解/ ,/ 从而/ 预测/ 流体/ 的/ 状态/ [/ 20/ ]/ ./ CFD/ 的/ 基本/ 思想/ 是/ 把/ 现实/ 条件/ 下/ 连续/ 的/ 流体/ 划分/ 为/ 离散/ 的/ 格点/ ,/ 用/ 离散/ 的/ 方式/ 使用/ 计算机/ 进行/ 处理/ ./ 根据/ 需要/ ,/ 可以/ 选择/ 不同/ 的/ 方程/ 对/ 流体/ 进行/ 描述/ :/ 使用/ 欧拉/ 方程/ 描述/ 粘滞/ 流体/ ,/ 使用/ 纳维/ -/ 斯托克斯/ 方程/ 描述/ 零/ 粘滞/ 的/ 理想流体/ ./ 目前/ ,/ 有/ 许多/ 软件/ 可以/ 帮助/ 进行/ 流体/ 建模/ 并/ 求解/ ,/ 如/ TileFlow/ ①/ 、/ FloVENT/ ②/ 、/ Flotherm/ ③/ 、/ Fluent/ ④/ 等/ ./ 文献/ [/ 22/ ]/ 是/ 最早/ 提出/ 使用/ CFD/ 对/ 数据中心/ 进行/ 建模/ 的/ 工作/ 之一/ ./ 随后/ ,/ 围绕/ 使用/ CFD/ 和/ 热传导/ (/ HeatTransfer/ )/ 进行/ 模拟/ 并/ 研究/ 数据中心/ 热力学/ 规律/ 这一/ 课题/ 出现/ 了/ 大量/ 的/ 研究/ 工作/ ./ 文献/ [/ 20/ ]/ 对/ 这些/ 工作/ 进行/ 了/ 总结/ ,/ 并/ 将/ CFD/ // HT/ 的/ 建模/ 和/ 研究/ 工作/ 分为/ 6/ 种/ 类型/ :/ (/ 1/ )/ 对/ 地板/ 送风/ 制冷系统/ 的/ 气流/ 进行/ 模拟/ 并/ 对/ 通风/ 地板/ 的/ 气流/ 速率/ 进行/ 预测/ ;/ (/ 2/ )/ 研究/ 数据中心/ 硬件/ 设备/ 布局/ 对/ 温度/ 分布/ 和/ 制冷/ 效果/ 的/ 影响/ ;/ (/ 3/ )/ 探讨/ 不同/ 供冷/ 回流/ 模式/ 的/ 气流/ 和/ 温度/ 特点/ ;/ (/ 4/ )/ 能耗/ 使用/ 效率/ 及/ 制冷/ 效率/ 的/ 评估/ ;/ (/ 5/ )/ 单个/ 机架/ 的/ 温度/ 分析/ ;/ (/ 6/ )/ 考虑/ 服务器/ 负载/ 或/ CRAC/ 制冷/ 负载/ 动态变化/ 时/ 数据中心/ 的/ 控制/ 和/ 生命周期/ 管理/ ./ 使用/ CFD/ 的/ 方式/ 进行/ 仿真/ 具有/ 较/ 高/ 的/ 准确性/ ,/ 但/ 一般而言/ ,/ 需要/ 花费/ 相当/ 长/ 的/ 时间/ (/ 小规模/ 的/ 数据中心/ 需要/ 约/ 一个/ 小时/ 才能/ 获得/ 收敛/ 的/ 结果/ ,/ 对于/ 大规模/ 的/ 或者/ 切分/ 格点/ 更/ 多/ 的/ 数据中心/ 而言/ ,/ 所/ 需/ 时间/ 将/ 大大增加/ [/ 23/ ]/ )/ ./ 因此/ ,/ CFD/ 仅/ 适用/ 于/ 离线/ 情况/ ,/ 而/ 对/ 一些/ 需要/ 即时/ 模拟/ ,/ 快速反应/ 或者/ 在线/ 使用/ 的/ 场景/ 则/ 并/ 不/ 适用/ ./ 基于/ 此/ ,/ Tang/ 等/ 人/ [/ 23/ ]/ 将/ 模型/ 进一步/ 抽象化/ 和/ 简单化/ ,/ 牺牲/ 一定/ 的/ 准确性/ 来/ 获取/ 更快/ 的/ 模拟/ 速度/ ./ 该/ 方法/ 最大/ 的/ 特点/ 是/ 考虑/ 了/ 节点/ 之间/ 的/ 热量/ 交叉/ 影响/ ,/ 并/ 把/ 该/ 影响/ 的/ 强弱/ 抽象/ 为/ 一个/ n/ 阶/ 矩阵/ 犃/ (/ n/ 为/ 数据中心/ 的/ 节点/ 数目/ )/ ./ 该/ 方法/ 首先/ 通过/ 对/ 不同/ 位置/ 的/ 气流/ 参数/ 及/ 服务器/ 功率/ 进行/ 测量/ 并/ 求解/ 出/ 矩阵/ 犃/ ./ 实际上/ 该/ 矩阵/ 记录/ 了/ 数据中心/ 的/ 热学/ 特征/ ./ 之后/ ,/ 在/ 获得/ 数据中心/ 实时/ 信息/ 的/ 基础/ 上/ ,/ 根据/ 其/ 构建/ 的/ 模型/ 和/ 计算方法/ 便/ 可/ 预测/ 数据中心/ 的/ 温度/ 分布/ ./ 但/ 该/ 方法/ 具有/ 以下/ 两点/ 局限性/ :/ (/ 1/ )/ 该/ 方法/ 没有/ 考虑/ 时间/ 因素/ ,/ 即/ 预测/ 数据中心/ 在/ 足够/ 长时间/ 之后/ 的/ 一种/ 相对/ 稳定/ 的/ 状态/ ;/ (/ 2/ )/ 该/ 方法/ 假定/ 冷却/ 气流/ 能够/ 完全/ 并/ 及时/ 地/ 带走/ 服务器/ 耗散/ 在/ 周围/ 空气/ 中/ 的/ 全部/ 热量/ ,/ 而/ 实际/ 并非如此/ ./ 这两点/ 在/ 一定/ 程度/ 上/ 影响/ 预测/ 的/ 准确性/ ./ 与/ 此/ 类似/ ,/ Heath/ 等/ 人/ [/ 24/ ]/ 在/ 考虑/ 整个/ 数据中心/ 时/ ,/ 用/ 图论/ 的/ 方法/ 将/ 其/ 简化/ :/ 以/ 顶点/ 代表/ 数据中心/ 的/ 元素/ 实体/ (/ 如/ 服务器/ 、/ CRAC/ 等/ )/ ;/ 边/ 代表/ 元素/ 之间/ 的/ 气体/ 流动/ 或/ 热量/ 传输/ ./ 相对/ 于/ Tang/ 等/ 人/ 的/ 工作/ ,/ 该/ 文献/ 在/ 热量/ 传输/ 和/ 温度/ 变化/ 方面/ 考虑/ 了/ 时间/ 的/ 因素/ ./ 数据中心/ 的/ 内部结构/ 与/ 神经网络/ 存在/ 很多/ 相似之处/ [/ 17/ ]/ ./ 例如/ :/ 制冷/ 气流/ 从/ CRAC/ 流经/ 节点/ ,/ 再/ 回流/ 到/ 通风口/ ,/ 类似/ 于/ 在/ 神经网络/ 中/ 输入/ 值到/ 输出/ 值/ 的/ 计算/ 过程/ ;/ 数据中心/ 节点/ 相互之间/ 存在/ 影响/ ,/ 并且/ 强弱/ 不/ 一/ ,/ 类似/ 于/ 神经网络/ 的/ 节点/ 之间/ 的/ 连接/ ./ Moore/ 等/ 人/ 使用/ 神经网络/ 对/ 数据中心/ 进行/ 建模/ ./ 对/ 初始化/ ①/ ②/ ③/ ④/ Page6/ 后/ 的/ 神经网络/ ,/ 利用/ 实际/ 监控/ 所/ 获得/ 的/ 数据/ 进行/ 训练/ ,/ 每/ 对/ 数据/ 包括/ 节点/ 功率/ 值/ (/ 输入/ )/ 和/ 温度/ 分布/ (/ 输出/ )/ ./ 与/ 文献/ [/ 23/ ]/ 类似/ ,/ 由于/ 不能/ 考虑/ 时间/ 这一/ 关键因素/ ,/ 这种/ 基于/ 神经网络/ 的/ 方法/ 具有/ 一定/ 局限性/ ,/ 只能/ 针对/ 稳定/ 的/ 状态/ 进行/ 预测/ ./ 3.3/ 数据中心/ 组件/ 热量/ 及/ 温度/ 建模/ 数据中心/ 的/ 组件/ 建模/ 主要/ 研究/ 内部单位/ (/ 包括/ 服务器/ 、/ 机架/ 、/ CRAC/ 设备/ 等/ )/ 的/ 热学/ 模型/ ,/ 是/ 在/ 总体/ 建模/ 基础/ 上/ 的/ 进一步/ 细化/ ./ 本文/ 将/ 其/ 分为/ 功耗/ 模型/ 与/ 温度/ 模型/ 两/ 部分/ 进行/ 综述/ ./ 3.3/ ./ 1/ 组件/ 功耗/ 模型/ 对于/ 一个/ 典型/ 的/ 服务器/ ,/ 热量/ 来源/ 不仅/ 包括/ CPU/ 、/ 还/ 包括/ I/ // O/ 设备/ 、/ 内存/ 、/ 磁盘/ 和/ 网卡/ [/ 19/ ]/ ./ 每/ 一部分/ 的/ 产/ 热量/ 与/ 消耗/ 的/ 功率/ 呈/ 正/ 相关/ ./ 一般而言/ ,/ 消耗/ 的/ 功率/ 并/ 不会/ 严格/ 等于/ 产/ 热量/ (/ 例如/ 对于/ 磁盘/ ,/ 部分/ 功率/ 的/ 消耗/ 转化/ 为/ 磁盘/ 转动/ 的/ 机械能/ )/ ./ 节点/ 单位/ 时间/ 内/ 的/ 产/ 热量/ 可/ 表示/ 为/ h/ =/ pcpu/ α/ cpu/ +/ pIO/ α/ IO/ +/ pmem/ ,/ stgm/ α/ mem/ ,/ stgm/ +/ pNIC/ α/ NIC/ α/ cpu/ ,/ α/ IO/ ,/ α/ mem/ ,/ stgm/ ,/ α/ NIC/ 表示/ 功率/ 到/ 热量/ 的/ 转化/ 系数/ ./ 其中/ ,/ CPU/ 功耗/ 可/ 看作/ 动态/ 功耗/ 、/ 静态/ 功耗/ 和/ 常开/ 单元/ 功耗/ (/ Always/ -/ onPowerConsumption/ )/ 的/ 总和/ [/ 25/ ]/ ./ 随着/ 云/ 计算/ 的/ 兴起/ ,/ 虚拟化/ 技术/ 被/ 广泛/ 采用/ 以/ 实现/ 不同/ 用户/ 对/ 硬件/ 的/ 共享/ ./ 对于/ 物理/ 机/ 而言/ ,/ 功率/ 可以/ 通过/ 仪器/ 直接/ 进行/ 测量/ ./ 而/ 虚拟机/ 的/ 能耗/ 却/ 无法/ 直接/ 进行/ 测量/ ./ 文献/ [/ 26/ ]/ 对/ 虚拟机/ 的/ 能耗/ 进行/ 了/ 建模/ 分析/ ,/ 指出/ 虚拟机/ 的/ 能耗/ 可以/ 通过/ 监控/ 物理/ 服务器/ 底层/ 性能/ 计数器/ 的/ 方式/ 来/ 间接/ 获得/ ./ 一个/ 典型/ 的/ 虚拟机/ 系统/ 的/ 整体/ 功耗/ 可以/ 表示/ 为/ 其中/ :/ Ptotal/ 表示/ 总体/ 功耗/ ;/ Pbaseline/ 表示/ 空闲/ 时/ 的/ 功耗/ ;/ Pdomain/ (/ k/ )/ 表示/ 第/ k/ 个/ 虚拟机/ 的/ 功耗/ ./ Pdomain/ (/ k/ )/ 又/ 可/ 表示/ 为/ 各个/ 虚拟机/ 部件/ 的/ 功耗/ 之/ 和/ ,/ 而/ 各个/ 虚拟机/ 部件/ 的/ 功耗/ 则/ 通过/ 硬件/ 性能/ 计数器/ 间接/ 计算/ 得到/ ./ 此外/ ,/ Liu/ 等/ 人/ [/ 27/ ]/ 对/ 虚拟机/ 动态/ 活动/ (/ 如/ 在线/ 迁移/ )/ 的/ 功耗/ 进行/ 了/ 建模/ ./ 除了/ 对/ 服务器/ 节点/ 进行/ 热学/ 建模/ 以外/ ,/ 文献/ [/ 19/ ]/ 给出/ 了/ 制冷/ 设备/ 的/ 功耗/ 模型/ ./ CRAC/ 的/ 能耗/ 可以/ 看成/ 是/ 压缩机/ 和/ 风扇/ 两/ 部分/ 的/ 总和/ :/ 前者/ 与/ CoP/ 值/ 直接/ 相关/ ;/ 后者/ 如式/ (/ 9/ )/ 所示/ ,/ 与/ 风扇/ 转速/ 的/ 立方/ 成正比/ ./ 其中/ ,/ pref/ 和/ ω/ ref/ 是/ 选取/ 的/ 功率/ 和/ 转速/ 的/ 参考值/ ./ 3.3/ ./ 2/ 组件/ 温度/ 模型/ 对于/ 单个/ 计算/ 节点/ (/ 如图/ 3/ 所示/ )/ ,/ 冷却/ 气流/ 从/ 入口/ 进入/ (/ 温度/ 为/ Tsup/ )/ ,/ 流经/ 节点/ 并/ 对/ 其/ 冷却/ ,/ 最后/ 从/ 出口/ 排出/ 并/ 返回/ CRAC/ (/ 温度/ 为/ Tcrac/ ,/ in/ )/ ./ 图中/ 箭头/ 代表/ 气体/ 的/ 流动/ ./ 可以/ 看到/ ,/ 从/ 节点/ 排出/ 的/ 热气/ 一部分/ 会/ 再/ 一次/ 重新/ 渗入/ 到/ 本/ 节点/ 和/ 其他/ 节点/ 内部/ (/ HeatRecirculation/ )/ ./ 类似/ 地/ ,/ 冷却/ 过/ 其他/ 节点/ 的/ 部分/ 热气/ 也/ 会/ 影响/ 该/ 节点/ ,/ 形成/ 交叉/ 影响/ ./ 另一方面/ ,/ 从/ 供冷/ 处吹出/ 的/ 部分/ 冷气/ 未/ 经过/ 任何/ 节点/ 直接/ 返回/ CRAC/ (/ ShortCircuiting/ ,/ 也/ 叫/ By/ -/ Passing/ )/ [/ 28/ ]/ ./ 这/ 两种/ 现象/ 在/ 很大/ 程度/ 上/ 影响/ 着/ CoP/ 值/ ./ 很多/ 工作/ 都/ 致力于/ 减少/ 两者/ 的/ 强度/ ,/ 从而/ 提高/ 制冷/ 效率/ [/ 2/ ,/ 8/ ,/ 10/ ,/ 21/ ]/ ./ 一般/ 地/ ,/ 节点/ 入口处/ 的/ 冷却/ 气流/ 温度/ 会/ 受到/ 数据中心/ 内/ 所有/ CRAC/ 的/ 运行/ 状态/ (/ 包括/ Tsup/ 和/ CRAC/ 送风/ 风扇/ 的/ 转速/ )/ 和/ 热/ 回流/ 强度/ 两者/ 的/ 影响/ ./ 文献/ [/ 29/ ]/ 给出/ 了/ 节点/ 入口/ 温度/ 离散/ 化/ 的/ 量化/ 表达/ :/ 犜/ i/ (/ k/ +/ 1/ )/ i/ =/ 犜/ i/ (/ k/ )/ +/ 犉/ i/ +/ 犆/ i/ 烄/ 烅/ 犉/ i/ =/ ∑/ 烆/ 其中/ ,/ 犜/ i/ (/ k/ +/ 1/ )/ 和/ 犜/ i/ (/ k/ )/ 分别/ 是/ 时刻/ k/ +/ 1/ 和/ 时刻/ k/ 时/ 的/ 入口/ 温度/ ./ 犉/ i/ 和/ 犆/ i/ 分别/ 代表/ 空调/ 和/ 热/ 回流/ 对/ 温度/ 的/ 影响/ ./ 犉/ i/ 是/ 所有/ 空调/ 运行/ 状态参数/ 的/ 加权/ 和/ ./ 上述/ 公式/ 给出/ 了/ 节点/ 入口/ 温度/ 的/ 一般/ 形式/ ./ 对于/ 节点/ 本身/ 的/ 温度/ ,/ RC/ 模型/ 是/ 进行/ 精确/ 预测/ 的/ 常用/ 方法/ ./ 在/ 很多/ 物理/ 场景/ 中/ ,/ 热力学/ 的/ 变量/ 与/ 电学/ 变量/ 存在/ 一一对应/ 的/ 关系/ ./ 这种/ 对应/ 并/ 不是/ 变量/ 本质/ 上/ 的/ 一致性/ ,/ 而是/ 在/ 模型/ 与/ 计算/ 上/ 存在/ 相似性/ ./ 例如/ :/ 热量/ 的/ 传递/ 与/ 电流/ 、/ 温度/ 的/ 差值/ 与/ 电压/ ,/ 热阻/ 与/ 电阻/ 、/ 热容/ 与/ 电容/ 等/ ./ 数据中心/ 的/ 内部/ 服务器/ 的/ 热学/ 模型/ 可以/ 使用/ 电学/ 中/ 的/ 动态/ 电路/ 模型/ 加以解决/ ./ RCPage7/ 电路/ (/ Resistor/ -/ CapacitorCircuit/ )/ 模型/ 就是/ 把/ 服务器/ 内外/ 看成/ 是/ 具有/ 一定/ 温度差/ 和/ 热阻/ 的/ 热量/ 传输/ 体系/ ./ 如图/ 4/ 所示/ :/ T/ 代表/ 服务器/ 内部/ 温度/ ,/ Tamb/ 代表/ 服务器/ 外部/ 温度/ ,/ P/ 是/ 服务器/ 功率/ ,/ R/ 为/ 服务器/ 热阻/ ,/ C/ 是/ 服务器/ 比热容/ ./ 我们/ 考虑/ 一段/ 很/ 短/ 的/ 时间/ [/ 0/ ,/ t/ ]/ ,/ 把/ 功率/ P/ 看成/ 是/ 固定值/ ,/ 根据/ 基尔霍夫/ 定律/ 和/ 欧姆定律/ 求得/ t/ 时间/ 后/ 服务器/ 的/ 温度/ :/ T/ =/ PR/ +/ Tamb/ +/ T0/ -/ PR/ -/ T/ 可以/ 看到/ ,/ 服务器/ 的/ 内部/ 温度/ 随着/ 时间/ 呈/ 指数/ 型/ 变化/ ./ 如果/ 满足/ T0/ </ PR/ +/ Tamb/ ,/ 则/ 内部/ 温度/ 将/ 逐渐/ 上升/ ,/ 反之亦然/ ./ RC/ 模型/ 将/ 节点/ 功率/ 、/ 节点/ 内外/ 温度/ 变化/ 联系/ 起来/ ,/ 建立/ 起定量/ 关系/ ./ 这/ 对/ 温度/ 预测/ 而言/ ,/ 具有/ 非常/ 重要/ 的/ 意义/ ./ 文献/ [/ 27/ ,/ 30/ -/ 32/ ]/ 的/ 工作/ 都/ 采用/ 了/ RC/ 传热/ 模型/ ,/ 并且/ 都/ 做/ 了/ 功率/ p/ 与/ Tamb/ 在/ [/ 0/ ,/ t/ ]/ 内/ 恒定/ 的/ 假设/ ./ 这些/ 假设/ 简化/ 了/ 微分方程/ 的/ 求解/ ,/ 所以/ 都/ 在/ 不同/ 程度/ 上/ 牺牲/ 了/ 预测/ 的/ 准确性/ ./ 实际上/ ,/ 如果/ 去除/ 该/ 限定/ ,/ 即/ 假设/ p/ 和/ Tamb/ 是/ 时间/ 的/ 函数/ ,/ 会/ 增加/ 求解/ 的/ 难度/ ./ 同时/ ,/ 由于/ 功率/ 以及/ 外部/ 温度/ 随/ 时间/ 变化/ 的/ 函数/ 是/ 难以/ 预计/ 的/ ,/ 因此/ 使用/ 该/ 假定/ 相当/ 的/ 困难/ ./ 对于/ 数据中心/ 内部/ 的/ 计算机/ 节点/ ,/ 功率/ 是/ 其/ 利用率/ 的/ 函数/ ,/ 即为/ p/ (/ Utilization/ )/ ./ 该/ 节点/ 与/ 周围/ 接触/ 物体/ 会/ 进行/ 持续/ 的/ 热/ 传递/ ,/ 从而/ 导致/ 温度/ 的/ 变化/ ./ 具体/ 通过/ 如下/ 方程组/ 描述/ :/ Qgained/ =/ Qtransfer/ +/ QcomponentQtransfer/ ,/ 1/ →/ 2/ =/ k/ ×/ (/ T1/ -/ T2/ )/ ×/ timeQcomponent/ =/ p/ (/ Utilization/ )/ ×/ timep/ (/ Utilization/ )/ =/ pbase/ +/ Utilization/ ×/ (/ pmax/ -/ pbase/ )/ Δ/ T/ =/ 上述/ 方程组/ 的/ 详细/ 解释/ 见/ 附录/ 1/ ./ 与/ RC/ 模型/ 类似/ ,/ 该/ 方程组/ 同样/ 定量/ 地/ 描述/ 了/ 节点/ 与/ 周围环境/ 热/ 传递/ 的/ 规律/ ,/ 并/ 将/ 这些/ 物理量/ 与/ 温度/ 建立/ 了/ 联系/ ./ 文献/ [/ 18/ ,/ 24/ ]/ 的/ 工作/ 采用/ 该/ 方法/ 进行/ 温度/ 预测/ ,/ 但是/ 未/ 给出/ 具体/ 的/ 计算/ 过程/ ./ 实际上/ ,/ 我们/ 将/ 其/ 应用/ 到/ 节点/ 和/ 节点/ 周围环境/ 的/ 场景/ 当中/ 时/ ,/ 经过/ 计算/ ,/ 最终/ 得到/ 和/ 式/ (/ 11/ )/ 形式/ 完全/ 统一/ 的/ 结果/ (/ 见/ 附录/ 1/ )/ ./ 以上/ 几种/ 温度/ 建模/ 方式/ 都/ 是/ 根据/ 数据中心/ 的/ 热学/ 现象/ 进行/ 简化/ 和/ 抽象/ ,/ 进而/ 对/ 温度/ 进行/ 预测/ ,/ 是/ 先验/ 的/ 理论/ 方式/ ./ 而/ 文献/ [/ 33/ ]/ 则/ 从/ 经验总结/ 的/ 角度/ 出发/ ,/ 观察/ 不同/ 的/ 任务/ 在/ 服务器/ 上/ 执行/ 时/ 产生/ 的/ 热量/ 以及/ 引起/ 的/ 温度/ 变化/ ,/ 具体/ 是/ 在/ 单台/ 服务器/ 上/ 执行/ SPEC/ 的/ 基准/ 程序/ ,/ 并/ 总结/ 不同/ 类型/ 任务/ 对/ 服务器/ 温度/ 变化/ 影响/ 的/ 规律/ ./ 4/ 数据中心/ 热量/ 管理策略/ 绿色/ 数据中心/ 的/ 热量/ 管理策略/ 是/ 在/ 满足/ 一定/ 的/ 约束条件/ (/ 例如/ 设备/ 温度/ 不能/ 超过/ 一定/ 阈值/ )/ 下/ ,/ 寻找/ 最优/ 解/ (/ 任务/ 的/ 调度/ 方案/ ,/ 制冷/ 设备/ 的/ 配置/ 等/ )/ 的/ 过程/ ./ 在/ 不同/ 的/ 应用/ 场景/ 下/ ,/ 其/ 目标/ 有所/ 差异/ ./ 所以/ 对/ 该/ 优化/ 问题/ 的/ 定义/ 也/ 有所不同/ ./ 根据/ 约束条件/ 的/ 不同/ ,/ 大致/ 可以/ 将/ 热量/ 管理/ 的/ 问题/ 分为/ 两类/ :/ (/ 1/ )/ 在/ 所有/ 设备/ 的/ 温度/ 不高过/ 其/ 温度/ 阈值/ 的/ 前提/ 下/ ,/ 减少/ 能耗/ 或/ 增加/ 计算/ 吞吐量/ ;/ (/ 2/ )/ 在/ 满足用户/ QoS/ (/ QualityofService/ )/ 的/ 前提/ 下/ ,/ 最小化/ 系统/ 能耗/ ./ 对于/ 第/ 1/ 类/ 问题/ :/ 防止/ 设备/ 温度/ 过高/ 是/ 基于/ 硬件/ 的/ 可靠性/ 提出/ 的/ ,/ 在/ 此基础/ 上/ 进一步/ 提出/ 节能/ 和/ 提高/ 计算/ 性能/ 的/ 要求/ ./ 例如/ 将/ 热量/ 管理/ 问题/ 定义/ 为/ :/ 通过/ 一定/ 的/ 热量/ 管理/ 方法/ ,/ 保证/ 硬件/ 设备/ 温度/ 不/ 超过/ 预定/ 值/ ,/ 并且/ 最小化/ 制冷/ 能耗/ [/ 19/ ]/ 或/ 最大化/ 系统/ 计算/ 性能/ [/ 33/ -/ 34/ ]/ ./ 第/ 2/ 类/ 问题/ 则/ 出现/ 在/ 对/ 任务/ 完成/ 时间/ 要求/ 严格/ 的/ 场景/ 下/ ,/ 此时/ 往往/ 把/ 任务/ 的/ 周转/ 时间/ 和/ 截止/ 时间/ 放在首位/ ,/ 在/ 此基础/ 上/ 最小化/ 数据中心/ 能耗/ [/ 8/ ]/ ./ 绿色/ 数据中心/ 的/ 热量/ 管理策略/ 多种多样/ ,/ 根据/ 不同/ 的/ 划分/ 标准/ 可/ 进行/ 不同/ 的/ 分类/ ./ 例如/ 根据/ 面向/ 的/ 物理/ 机/ 数目/ 分/ :/ 有/ 针对/ 单/ 节点/ 温度控制/ 的/ 硬件/ 技术/ 和/ 调度/ 方法/ ;/ 有/ 针对/ 数据中心/ 全局/ 的/ 设施/ 布局/ 和/ 调度/ 方法/ ./ 按照/ 灵活/ 度/ 可/ 分为/ 动态/ 自/ 适应/ 的/ (/ 这里/ 的/ 动态/ 自/ 适应/ 指/ 的/ 是/ 可以/ 根据/ 当前/ 环境/ 或者/ 历史记录/ 动态/ 调整/ 管理策略/ 或/ 参数/ ,/ 从而/ 具有/ 更好/ 的/ 适应性/ )/ 和/ 非自/ 适应/ 的/ 等等/ ./ 图/ 5/ 给出/ 了/ 具体/ 的/ 分类/ 方法/ 和/ 相应/ 类别/ ./ 本节/ 首先/ 引出/ 绿色/ 数据中心/ 热量/ 管理/ 问题/ 的/ 定义/ ,/ 再/ 对/ 其中/ 具有/ 代表性/ 的/ 管理/ 方法/ 按照/ 面向/ 单/ 节点/ 和/ 面向/ 多/ 节点/ 进行/ 分类/ 介绍/ ,/ 并/ 详细/ 地/ 对/ 各种/ 热量/ 管理策略/ 进行/ 了/ 综合/ 对比/ (/ 详见/ 表/ 1/ )/ ./ Page8/ 图/ 5/ 热量/ 管理策略/ 分类/ 表/ 1/ 热量/ 管理策略/ 的/ 综合/ 比较/ 策略/ 名称/ // DVFS/ [/ 35/ -/ 36/ ]/ Refrint/ [/ 37/ ]/ Skinflint/ [/ 38/ ]/ 作者/ :/ Shin/ 等/ [/ 25/ ]/ NADTM/ [/ 39/ ]/ FPTAS/ [/ 27/ ]/ ThreshHot/ [/ 40/ ]/ GSA/ [/ 13/ ]/ 作者/ :/ Zhou/ 等/ 人/ [/ 41/ ]/ UW/ [/ 21/ ]/ CI/ [/ 21/ ]/ OnePassAnalog/ [/ 21/ ]/ ZBD/ [/ 21/ ]/ UOP/ [/ 2/ ,/ 42/ ]/ MCE/ [/ 2/ ,/ 42/ ]/ UT/ [/ 2/ ,/ 42/ ]/ MinHR/ [/ 17/ ,/ 21/ ]/ MinHR/ -/ m/ [/ 2/ ]/ 作者/ :/ Bash/ 等/ 人/ [/ 43/ ]/ XIntPTS/ [/ 33/ ]/ C/ -/ Oracle/ [/ 18/ ]/ ThermalTopologyBasedApproach/ [/ 17/ ]/ TASA/ [/ 34/ ,/ 44/ ]/ TASA/ -/ B/ [/ 44/ ]/ ProactiveThermalManagement/ [/ 19/ ]/ HTS/ [/ 8/ ]/ 实现/ 方法/ 处理器/ 电压/ 、/ 频率/ 变化/ 优化/ 刷新/ 策略/ 优化/ 内存/ 写/ 操作/ 机制/ 和/ CPU/ 电压/ 处理器/ 电压/ 、/ 频率/ 变化/ 处理器/ 工作/ 状态/ 调整/ 任务调度/ 任务调度/ 开闭/ 状态/ 节点/ 功率/ 调节/ 节点/ 功率/ 调节/ 节点/ 功率/ 调节/ 节点/ 功率/ 调节/ 任务调度/ 任务调度/ 任务调度/ 节点/ 功率/ 调整/ 任务调度/ 任务调度/ 、/ 节点/ 运行/ 状态/ 调整/ 任务调度/ 任务调度/ 、/ 迁移/ 负载/ 均衡/ 负载/ 均衡/ 、/ 处理器/ 调整/ 任务调度/ 任务调度/ 动态/ 调整/ Page94/ ./ 1/ 面向/ 单/ 节点/ 的/ 热量/ 管理/ 通过/ RC/ 模型/ 可以/ 看到/ :/ 对于/ 单个/ 节点/ ,/ 设备/ 的/ 功率/ 和/ 温度/ 存在/ 直接/ 联系/ ;/ 另外/ ,/ 单/ 节点/ 不/ 存在/ 温度/ 均衡/ 等/ 优化/ 方法/ ./ 因此/ ,/ 单/ 节点/ 的/ 热量/ 管理/ 问题/ 在/ 某种程度/ 上/ 可以/ 看成/ 是/ 能耗/ 的/ 管理/ 问题/ ./ 传统/ 的/ 面向/ 单个/ 节点/ 的/ 热量/ 管理/ 方法/ 主要/ 是/ 考虑/ 对/ 硬件/ 的/ 优化/ ,/ 或者/ 根据/ 节点/ 的/ 能耗/ 及/ 温度/ 进行/ 动态/ 地/ 调整/ ./ 例如/ 优化/ 处理器/ 架构/ 进行/ 温度控制/ ,/ 比如/ :/ 对/ CPU/ 指令寄存器/ 进行/ 限制/ [/ 46/ ]/ ,/ 使用/ 时钟/ 门控/ (/ ClockGating/ )/ 技术/ ,/ 控制/ CPU/ 流水线/ 的/ 预测/ 分支/ [/ 47/ ]/ 等/ ./ DVFS/ [/ 35/ -/ 36/ ]/ 是/ 常用/ 的/ CPU/ 温度控制/ 技术/ ./ 通过/ 动态/ 调节/ CPU/ 时钟/ 频率/ 和/ 供电/ 电压/ ,/ 可以/ 有效/ 地/ 调整/ CPU/ 功率/ ,/ 改变/ 其/ 能量消耗/ ./ Blem/ 等/ 人/ [/ 48/ ]/ 讨论/ 了/ CPU/ 设计/ 时/ 在/ RISC/ 和/ CISC/ 指令集/ 的/ 选择/ 上/ 对/ 能耗/ 的/ 影响/ ./ Agrawal/ 等/ 人/ [/ 37/ ]/ 提出/ 了/ Refrint/ 方法/ 用以/ 优化/ Cache/ 的/ 刷新/ 机制/ ,/ 从而/ 减少/ 能耗/ ./ 另外/ 也/ 有/ 大量/ 的/ 针对/ 内存/ 系统/ 的/ 能耗/ 优化/ 工作/ ,/ 例如/ Lee/ 等/ 人/ [/ 38/ ]/ 针对/ DRAM/ 内存/ 提出/ 了/ Skinflint/ 内存/ 系统/ ,/ 通过/ 尽量减少/ 写/ 次数/ 来/ 降低/ 内存/ 能耗/ 等/ ./ 动态/ 热量/ 管理/ (/ DynamicThermalManagement/ ,/ DTM/ )/ [/ 47/ ]/ 是/ 基于/ 一系列/ 面向/ 单/ 节点/ 的/ 温度控制/ 技术/ 的/ 总结/ 提出/ 的/ ,/ 是/ 指/ 计算机/ 在/ 运行/ 时/ 、/ 根据/ 部件/ 的/ 实时/ 温度/ 进行/ 动态控制/ 的/ 技术/ ./ DTM/ 的/ 一般/ 运行机制/ 为/ :/ 当/ 系统/ 的/ 状态/ 达到/ 某个/ 预设/ 条件/ 时/ (/ 如/ 温度/ 超过/ 阈值/ )/ ,/ 便会/ 触发/ 一定/ 的/ 调节/ 措施/ ;/ 在/ 进行/ 调节/ 的/ 同时/ ,/ 系统/ 会/ 持续/ 监控/ 节点/ 状态/ ,/ 在/ 合适/ 的/ 时候/ 停止/ 调节/ 措施/ ,/ 返回/ 正常/ 运行/ 状态/ ./ 一个/ 高效/ 的/ DTM/ 系统/ 应/ 满足/ 触发/ 机制/ 简单/ 、/ 调节/ 措施/ 有效/ 、/ 调节/ 策略/ 设计/ 合理/ 等/ 特点/ ./ 动态/ 功率/ 管理/ (/ DynamicPowerManagement/ ,/ DPM/ )/ 是/ 单/ 节点/ 节能/ 的/ 有效/ 技术/ ./ 它/ 通过/ 动态/ 地/ 对系统/ 组件/ 进行/ 配置/ ,/ 例如/ 关闭/ 空闲/ 组件/ 、/ 降低/ 组件/ 的/ 运行/ 效率/ 、/ 改变/ 系统/ 运行/ 模式/ 等/ 方法/ ,/ 只/ 提供/ 满足要求/ 的/ 最低/ 运行/ 性能/ ,/ 从而/ 达到/ 节省/ 计算/ 能耗/ 的/ 目的/ ./ 文献/ [/ 49/ ]/ 对/ 该/ 领域/ 的/ 工作/ 进行/ 了/ 总结/ ,/ 并/ 将/ 其/ 划分/ 为/ 基于/ 预测/ 的/ DPM/ 方法/ 和/ 基于/ 随机/ 控制/ (/ StochasticControl/ )/ 的/ DPM/ 方法/ ./ 温度/ 反过来/ 会/ 对/ 电子元件/ 功耗/ 产生/ 影响/ ;/ 同时/ ,/ 制冷/ 风扇/ 的/ 工作/ 情况/ 会/ 改变/ 节点/ 的/ 热阻/ ,/ 从而/ 影响/ 节点/ 的/ 散热/ 效率/ 和/ 温度/ 变化/ [/ 25/ ]/ ./ 在/ 综合/ 考虑/ 制冷/ 能耗/ 与/ 计算/ 能耗/ 情况/ 下/ ,/ 文献/ [/ 25/ ]/ 提出/ 了/ 一种/ 动态/ 配置/ 制冷/ 设备/ 及/ CPU/ 工作频率/ 的/ 能耗/ 优化/ 策略/ ./ 对于/ 多核/ 节点/ 的/ 场景/ ,/ 文献/ [/ 39/ ]/ 则/ 提出/ 了/ 一种/ 基于/ 预测/ 的/ 热量/ 管理/ 方法/ NADTM/ (/ Neighbor/ -/ AwareDynamicThermalManagement/ )/ ./ 该/ 方法/ 考虑/ 了/ 节点/ 内/ 各个/ 核/ 之间/ 的/ 温度/ 影响/ ,/ 利用/ 核/ 之间/ 的/ 任务/ 迁移/ 和/ DVFS/ 技术/ ,/ 在/ 保证/ 不/ 超过/ 温度/ 阈值/ 的/ 同时/ ,/ 最大化/ 节点/ 计算/ 性能/ ./ CPU/ 的/ 运行/ 可以/ 划分/ 为/ 几个/ 离散/ 的/ 状态/ (/ 包括/ 不同/ 的/ 运行/ 状态/ 以及/ 睡眠/ 状态/ )/ ,/ 分别/ 对应/ 不同/ 的/ 功耗/ ./ 对于/ 一个/ 固定/ 的/ 任务/ 序列/ ,/ 系统/ 应该/ 如何/ 为/ 每个/ 任务/ 选择/ 相应/ 的/ CPU/ 运行/ 状态/ ,/ 才/ 能够/ 在/ 温度/ 不/ 超过/ 阈值/ 的/ 前提/ 下/ ,/ 最小化/ 任务/ 的/ 完成/ 时间/ ./ 文献/ [/ 27/ ]/ 指出/ 寻找/ 该/ 问题/ 的/ 最优化/ 调度/ 方式/ 是/ 一个/ NP/ 问题/ ,/ 并/ 提出/ 了/ 一种/ 在/ 多项式/ 时间/ 内/ 的/ 近似算法/ (/ FullyPolynomialTimeApproximationScheme/ ,/ FPTAS/ )/ ./ 该/ 优化/ 算法/ 可以/ 在/ 一定/ 的/ 误差/ 范围/ 内/ ,/ 以/ 多项式/ 时间/ 给出/ 优化/ 解答/ ./ 相对/ 于/ 硬件/ 层面/ 的/ DTM/ 技术/ ,/ 软件/ 层面/ 的/ 任务调度/ 方法/ 将/ 带来/ 更少/ 的/ 性能/ 损失/ ,/ 达到/ 更好/ 的/ 热量/ 管理/ 效果/ ./ 文献/ [/ 40/ ]/ 提出/ 了/ 操作系统/ 级别/ 的/ 动态/ 热量/ 管理/ 方法/ ./ 文章/ 指出/ ,/ 在/ 一个/ 节点/ 上/ ,/ 对于/ 同样/ 的/ 任务/ 序列/ ,/ 不同/ 的/ 调度/ 顺序/ 会/ 引起/ 不同/ 的/ 温度/ 变化/ ./ 例如/ :/ 对于/ 两个/ 任务/ ,/ 更/ “/ 热/ ”/ (/ 即/ 引起/ 更/ 高/ 的/ 温度/ 上升/ )/ 的/ 任务/ 在/ 更/ “/ 冷/ ”/ 的/ 任务/ 之前/ 调度/ 执行/ 时/ ,/ 最终/ 的/ 温度/ 会/ 更/ 低/ ./ 基于/ 此/ ,/ 文章/ 提出/ ThreshHot/ 算法/ ,/ 通过/ 修改/ Linux/ 内核/ ,/ 在/ 操作系统/ 级别/ 实现/ 其/ 调度/ 策略/ ,/ 即/ 每次/ 选择/ 最/ “/ 热/ ”/ 的/ 任务/ 执行/ ./ 但/ ThreshHot/ 算法/ 针对/ 单个/ CPU/ 核/ ,/ 对于/ 单/ 物理/ 机/ 的/ 多/ 核/ 情况/ ,/ Qu/ 等/ 人/ [/ 50/ ]/ 提出/ 了/ 针对/ 多核/ 的/ 优化/ 算法/ GSA/ (/ GreedySchedulingAlgorithm/ )/ ./ 4.2/ 面向/ 多/ 节点/ 的/ 热量/ 管理/ 对于/ 单个/ 节点/ 而言/ ,/ 能耗/ 和/ 温度/ 直接/ 相关/ ,/ 对于/ 多/ 节点/ 而言/ 却/ 未必/ ./ 也就是说/ ,/ 如果/ 采取/ 合适/ 的/ 热量/ 管理策略/ ,/ 更/ 多/ 的/ 计算/ 能耗/ 可能/ 带来/ 更/ 小/ 的/ 峰值/ 温度/ ./ 因此/ ,/ 合适/ 的/ 热量/ 管理策略/ 对/ 绿色/ 数据中心/ 而言/ 尤为重要/ ./ 对于/ 具体/ 的/ 管理系统/ 和/ 管理策略/ ,/ 我们/ 将/ 其/ 分为/ 基于/ 设备/ 布局/ 的/ 热量/ 管理策略/ 、/ 基于/ 任务调度/ 的/ 热量/ 管理策略/ 和/ 基于/ 综合/ 控制/ 的/ 热量/ 管理策略/ ./ 4.2/ ./ 1/ 基于/ 设备/ 布局/ 的/ 热量/ 管理策略/ 对/ 数据中心/ 设备/ 不同/ 布局/ 进行/ 研究/ 是/ 进行/ 热量/ 管理/ 、/ 提高/ 制冷/ 效率/ 最早/ 使用/ 的/ 方法/ 之一/ ./ 该/ 领域/ 的/ 工作/ 主要/ 围绕/ 设备/ 的/ 布局/ 、/ 供冷/ 回流/ 模式/ 、/ 制冷/ 动态/ 配置/ 等/ 方面/ 进行/ ./ 使用/ CFD/ 对/ 数据中心/ 进行/ 仿真/ 分析/ 的/ 结果显示/ :/ 即使/ 非常/ 微小/ 的/ 布局/ 改变/ ,/ 也/ 会/ 对/ 数据中心/ 的/ 温/ Page10/ 度/ 分布/ 产生/ 巨大/ 影响/ ,/ 从而/ 影响/ 制冷/ 能耗/ [/ 11/ ]/ ./ 如果/ 以/ 机架/ 入口/ 温度/ 作为/ 温度/ 基准/ ,/ 一般而言/ ,/ 以下/ 因素/ 会/ 对/ 其/ 造成/ 影响/ [/ 51/ ]/ :/ (/ 1/ )/ 通风/ 地板/ 与/ CRAC/ 的/ 距离/ ,/ 离/ CRAC/ 近/ 的/ 通风/ 地板/ 比远/ 的/ 通风/ 地板/ 出口/ 气流/ 速度/ 更/ 小/ (/ 由于/ 较近/ 的/ 通风/ 地板/ 附近/ 气流/ 速度/ 快/ ,/ 而/ 流体/ 压强/ 会/ 随着/ 速度/ 增加/ 而/ 降低/ ,/ 从而/ 导致/ 通风/ 地板/ 上下/ 侧/ 压强/ 差/ 变小/ )/ ;/ (/ 2/ )/ 数据中心/ 底部/ 空层/ 的/ 高度/ ,/ 这会/ 影响/ 内部/ 气体/ 的/ 流动/ 状态/ ,/ 进一步/ 影响/ 通过/ 通风/ 地板/ 的/ 气流/ 速度/ 与/ 机架/ 入口/ 温度/ ;/ (/ 3/ )/ 数据中心/ 的/ 高度/ ,/ 这会/ 影响/ 机架/ 后方/ 排出/ 热气/ 的/ 回流/ 情况/ ,/ 从而/ 影响/ 机架/ 顶部/ (/ 由于/ 热气/ 密度/ 较/ 低/ ,/ 会/ 浮于/ 数据中心/ 较/ 高处/ )/ 的/ 服务器/ 温度/ ;/ (/ 4/ )/ 不同/ 的/ 冷热/ 道/ 位置/ ,/ 这/ 不仅/ 会/ 影响/ 底部/ 送风/ 的/ 速度/ ,/ 还会/ 影响/ 本身/ 道/ 内/ 空气/ 的/ 静态/ 压强/ ,/ 从而/ 影响/ 热/ 回流/ 的/ 程度/ ./ 文献/ [/ 51/ ]/ 对/ 以上/ 因素/ 分布/ 使用/ CFD/ 模拟/ 进行/ 了/ 研究/ ,/ 试图/ 寻找/ 最佳/ 的/ 数据中心/ 设备/ 摆放/ 和/ 硬件/ 布局/ 方法/ ./ 文献/ [/ 52/ ]/ 则/ 着重/ 研究/ 了/ 制冷/ 设备/ 的/ 摆放/ 位置/ 和/ 不同/ 的/ CRAC/ 气流/ 速度/ 对/ 热量/ 管理/ 的/ 影响/ ./ 除了/ 数据中心/ 的/ 设备/ 布局/ 以外/ ,/ 制冷/ 效率/ 很大/ 程度/ 上/ 还/ 取决于/ 供冷/ 回流/ 模式/ 的/ 选择/ [/ 53/ ]/ ./ 文献/ [/ 53/ ]/ 对/ 7/ 种/ 常用/ 的/ 供冷/ 回流/ 模式/ 进行/ 了/ 比较/ ,/ 从/ CFD/ 的/ 模拟/ 数据/ 来看/ ,/ 表现/ 最佳/ 和/ 最差/ 的/ 两种/ 模式/ 分别/ 是/ “/ 底部/ 送风/ 、/ 顶部/ 回流/ ”/ 和/ “/ 顶部/ 送风/ 、/ 底部/ 回流/ ”/ ./ 前者/ 是/ 由于/ 热气/ 密度/ 较/ 低/ ,/ 顶部/ 回流/ 的/ 方式/ 使/ 其/ 热阻/ 降低/ ,/ 从而/ 使/ 散热/ 更/ 有效/ ;/ 后者/ 则/ 极易/ 发生/ 冷气/ 未/ 经过/ 任何/ 节点/ 直接/ 返回/ CRAC/ 以及/ 冷热/ 气流/ 混合/ 的/ 情况/ ./ 设备/ 布局/ 和/ 供冷/ 回流/ 模式/ 的/ 研究/ 往往/ 是/ 静态/ 的/ ,/ 即/ 不/ 需要/ 动态/ 、/ 在线/ 、/ 快速/ 地/ 建立/ 模型/ 和/ 反馈/ 信息/ ,/ 因此/ 往往/ 使用/ CFD/ 进行/ 模拟/ 研究/ ./ 文献/ [/ 20/ ]/ 则/ 对/ 数据中心/ 的/ CFD/ 建模/ 工作/ 进行/ 了/ 系统化/ 的/ 总结/ ./ 研究/ 表明/ ,/ 动态/ 的/ CRAC/ 制冷/ 配置/ 可以/ 有效/ 的/ 降低/ 制冷/ 能耗/ [/ 2/ ,/ 11/ ,/ 41/ ,/ 54/ ]/ ./ 一般而言/ ,/ 动态/ 制冷/ 配置/ 系统/ 包括/ 以下/ 3/ 个/ 部分/ [/ 54/ ]/ :/ (/ 1/ )/ 用以/ 收集/ 当前/ 数据中心/ 制冷/ 状态/ 的/ 传感器/ 网络/ ;/ (/ 2/ )/ 可/ 动态/ 调节/ 参数/ 的/ 制冷/ 设备/ ;/ (/ 3/ )/ 获得/ 制冷/ 参数/ 对/ 制冷/ 效果/ 的/ 影响/ ./ 仿真/ 分析/ [/ 11/ ]/ 及/ 实际/ 真实/ 测量/ [/ 41/ ,/ 54/ ]/ 的/ 结果/ 都/ 表明/ :/ 拥有/ 动态/ 制冷/ 调节/ 能力/ 的/ 数据中心/ ,/ 其/ 制冷/ 能耗/ 可以/ 大大降低/ ./ 文献/ [/ 54/ ]/ 研究/ 了/ CRAC/ 制冷/ 温度/ 设定/ 、/ CRAC/ 风扇/ 转速/ 、/ 底部/ 送风/ 地板/ 的/ 开闭/ 状态/ 对/ 制冷/ 效果/ 的/ 影响/ ./ 文献/ [/ 41/ ]/ 则/ 通过/ 动态控制/ 底部/ 送风/ 地板/ 的/ 开合/ 状态/ ,/ 降低/ 制冷/ 能耗/ 约/ 20/ %/ ./ 此外/ ,/ 使用/ AirEconomizer/ (/ 根据/ 环境/ 变化/ ,/ 利用/ 数据中心/ 周围/ 空气/ 制冷/ 的/ 设备/ )/ 、/ WaterEconomizer/ 等/ 动态/ 控制技术/ 也/ 可以/ 有效/ 地/ 降低/ 制冷/ 能耗/ [/ 55/ ]/ ./ 4.2/ ./ 2/ 基于/ 任务调度/ 的/ 热量/ 管理策略/ 温度/ 感知/ 的/ 任务调度/ 是/ 数据中心/ 热量/ 管理/ 的/ 重要/ 研究/ 对象/ ./ 在/ 绿色/ 数据中心/ 的/ 场景/ 下/ ,/ 任务/ 需要/ 进行/ 实时/ 地/ 调度/ ,/ 调度/ 决策/ 时间/ 十分/ 有限/ ./ 所以/ CFD/ 等/ 耗时/ 长/ 的/ 建模/ 方式/ 往往/ 不/ 适于/ 此/ ,/ 取而代之/ 的/ 是/ 其他/ 更/ 简单/ ,/ 计算/ 复杂度/ 更/ 低/ 的/ 建模/ 方式/ ./ 与/ 基于/ 设备/ 布局/ 的/ 热量/ 管理策略/ 不/ 一样/ ,/ 该类/ 管理策略/ 通过/ 任务调度/ 的/ 方式/ ,/ 在/ 软件/ 层面/ 防止/ 热点/ 产生/ 、/ 减少/ 热/ 回流/ ,/ 从而/ 提高/ 制冷/ 效率/ ./ 一般而言/ ,/ 基于/ 任务调度/ 的/ 热量/ 管理/ 框架/ 可以/ 概括/ 一个/ MAPE/ 控制/ 环/ [/ 15/ ]/ :/ (/ 1/ )/ Monitor/ ,/ 监控/ 数据中心/ 的/ 各种/ 环境/ 指数/ 以及/ 运行/ 状态/ ;/ (/ 2/ )/ Analyze/ ,/ 分析/ Monitor/ 所/ 搜集/ 的/ 数据/ ,/ 提取/ 行为/ 特征/ ;/ (/ 3/ )/ Plan/ ,/ 制订/ 资源/ 调度/ 分配/ 的/ 策略/ ;/ (/ 4/ )/ Execute/ ,/ 执行/ 调度/ ./ MAPE/ 环/ 体现/ 了/ 热量/ 管理/ 的/ 一般/ 生命周期/ ./ 该/ 领域/ 的/ 大量/ 研究/ 都/ 采用/ 了/ 该/ 框架/ 或/ 其/ 类似/ 框架/ [/ 44/ ,/ 56/ ]/ ./ 如图/ 6/ 所示/ ,/ 传感器/ 负责/ 收集/ 数据/ ,/ 系统/ 根据/ 所/ 收集/ 的/ 数据/ 进行/ 分析/ 并/ 制订/ 相应/ 的/ 调度/ 策略/ ,/ 最终/ 由/ 调度/ 系统调度/ 数据中心/ 的/ 任务/ 请求/ ./ 其中/ ,/ 任务/ 负载/ 代表/ 对/ 数据中心/ 的/ 请求/ 任务/ ,/ 可以/ 是/ Web/ 请求/ ,/ 高性能/ 计算/ 等/ 应用程序/ ./ 文献/ [/ 21/ ,/ 42/ ]/ 提出/ 了/ 6/ 种/ 基本/ 的/ 温度/ 感知/ 负载/ 调度/ 策略/ :/ 其/ 思路/ 基本/ 都/ 是/ 均衡/ 各/ 服务器/ 的/ 温度/ ,/ 防止/ 热点/ 的/ 出现/ ,/ 从而/ 降低/ 对/ CRAC/ 的/ 制冷/ 要求/ ,/ 达到/ 节约/ 制冷/ 能耗/ 的/ 目的/ ./ (/ 1/ )/ 均衡/ 负载/ (/ UniformWorkload/ ,/ UW/ )/ [/ 21/ ]/ ./ 调度/ 系统/ 将/ 负载/ 平均/ 的/ 分配/ 到/ 每个/ 节点/ 上/ ./ 这是/ 最为/ 基本/ 也/ 是/ 最为/ 直观/ 的/ 一种/ 调度/ 方法/ ./ (/ 2/ )/ 最低/ 入口/ 温度/ 调度/ (/ CoolestInlets/ ,/ CI/ )/ [/ 21/ ]/ ./ 系统对/ 所有/ 服务器进行/ 监控/ ,/ 每次/ 都/ 将/ 负载/ 分配/ 至/ 节点/ 入口/ 温度/ 最低/ 的/ 服务器/ ./ 该/ 方法/ 需要/ 部署/ 温度/ 测量/ 设备/ 对/ 服务器/ 外围/ 环境/ 进行/ 实时/ 监控/ ./ (/ 3/ )/ OnePassAnalogPage11/ 率/ 预算/ (/ PowerBudget/ )/ 的/ 概念/ ./ 它/ 表示/ 调度/ 系统/ 在/ 进行/ 调度/ 时/ ,/ 对/ 某/ 服务器/ 而言/ ,/ 所/ 期望/ 达到/ 的/ 目标/ 功率/ ./ 调度/ 系统/ 首先/ 根据/ 某种/ 策略/ 计算/ 各/ 服务器/ 的/ 功率/ 预算/ ,/ 然后/ 在/ 负载/ 调度/ 的/ 时候/ 根据/ 该/ 预算/ 进行/ 分配/ ./ 在/ 具体/ 实现/ 中/ ,/ 调度/ 系统/ 根据/ 下/ 式/ 得出/ 节点/ 的/ 功率/ 预算/ :/ 其中/ ,/ Tout/ 据/ 中心/ 的/ 平均值/ )/ ,/ 犜/ out/ 以/ 看到/ ,/ 每个/ 节点/ 的/ 功率/ 预算/ 与/ 节点/ 的/ 出口/ 温度/ 成反比/ ./ 直观/ 上/ 来说/ ,/ 调度/ 系统/ 希望/ 在/ 高温/ 的/ 节点/ 上/ 分配/ 较/ 低/ 负载/ ,/ 在/ 低温/ 的/ 节点/ 上/ 分配/ 更/ 高/ 的/ 负载/ ,/ 从而/ 均衡/ 节点/ 的/ 温度/ ./ 然而/ ,/ 由于/ Tout/ 节点/ 的/ 功率/ 预算/ 值/ 也/ 将/ 是/ 连续/ 的/ ,/ 即/ 可能/ 取/ 一定/ 范围/ 内/ 的/ 任意/ 值/ ./ 而/ 实际上/ ,/ 要/ 达到/ 并/ 保持/ 一个/ 任意/ 值/ 是/ 非常/ 困难/ 的/ ./ 若/ 将/ CPU/ 的/ 利用率/ 划分/ 为/ 几个/ 分立/ 的/ 状态/ :/ {/ P1/ ,/ P2/ ,/ …/ ,/ PN/ }/ ./ 其中/ ,/ 犘/ i/ 表示/ 节点/ 有/ i/ 个/ 核/ 满负荷/ 工作/ ./ 可以/ 看到/ ,/ 这些/ 离散/ 的/ 取值/ 难以/ 和/ OnePassAnalog/ 的/ 连续/ 取值/ 相吻合/ ./ 文献/ [/ 21/ ]/ 对/ OnePassAnalog/ 方法/ 进行/ 了/ 改进/ ,/ 提出/ 了/ 一种/ 基于/ 区域/ 的/ 离散/ 化/ 方法/ (/ Zone/ -/ BasedDiscretization/ ,/ ZBD/ )/ ./ 该/ 方法/ 主要/ 考虑/ 计算/ 密集型/ 的/ 任务/ ,/ 在/ One/ -/ PassAnalog/ 的/ 功率/ 预算/ 基础/ 上/ ,/ 进一步/ 以/ 区域/ 为/ 目标/ 进行/ 调整/ ,/ 这种/ 更大/ 粒度/ 的/ 功率/ 调整/ 既保证/ 了/ 与/ OnePassAnalog/ 算法/ 的/ 计算/ 值/ 接近/ ,/ 又/ 增强/ 了/ 节点/ 功率/ 的/ 可控性/ ./ (/ 4/ )/ 均衡/ 出口/ 温度/ (/ UniformOutletProfile/ ,/ UOP/ )/ [/ 42/ ]/ ./ UOP/ 以/ 均衡/ 所有/ 节点/ 的/ 出口/ 温度/ 为/ 出发点/ ./ 该/ 方法/ 首先/ 获得/ 节点/ 入口/ 温度/ 的/ 实时/ 测量/ 数据/ ./ 在/ 假设/ 节点/ 功率/ 与/ 任务/ 的/ 分配/ 具有/ 简单/ 线性关系/ 的/ 基础/ 上/ ,/ 计算/ 出/ 任务/ 的/ 具体/ 调度/ 方法/ ./ (/ 5/ )/ 最小化/ 计算/ 能耗/ (/ MinimalComputingEnergy/ ,/ MCE/ )/ [/ 42/ ]/ ./ 该/ 方法/ 尽量减少/ 工作/ 的/ 节点/ 数目/ ,/ 将/ 任务/ 尽量/ 集中地/ 分配/ 在/ 少数几个/ 节点/ 运行/ ./ 为了/ 减少/ 峰值/ 温度/ ,/ 算法/ 在/ 选择/ 分配/ 时/ 将/ 任务分配/ 到/ 最低/ 入口/ 温度/ 的/ 节点/ ./ 这种/ 方法/ 着眼于/ 减少/ 计算/ 能耗/ ,/ 而/ 对/ 温度/ 的/ 均衡/ ,/ 制冷/ 能耗/ 的/ 降低/ 没有/ 充分考虑/ ./ (/ 6/ )/ 任务/ 均衡/ (/ UniformTask/ ,/ UT/ )/ [/ 42/ ]/ ,/ 该/ 方法/ 与/ 上述/ 的/ UniformWorkload/ 类似/ ./ 但是/ 仍然/ 存在/ 区别/ :/ UniformTask/ 是/ 基于/ 数据中心/ 任务调度/ 实现/ 的/ ;/ 后者/ 则/ 是/ 基于/ 节点/ 功率/ 的/ 调整/ (/ 即/ 功率/ 预算/ 的/ 概念/ )/ ./ 以上/ 6/ 种/ 温度/ 感知/ 的/ 负载/ 调度/ 策略/ ,/ 或者/ 从/ 最小化/ 制冷/ 能耗/ 出发/ ,/ 或者/ 从/ 最小化/ 计算/ 能耗/ 角度/ 出发/ 进行/ 任务调度/ ./ 这些/ 方法/ 具有/ 直观/ 、/ 简单/ 的/ 优点/ ,/ 但/ 同时/ 过于/ 片面/ ,/ 缺乏/ 对/ 影响/ 数据中心/ 制冷/ 效率/ 的/ 深层/ 原因/ 进行/ 分析/ ./ 对/ 基于/ 任务调度/ 的/ 热量/ 管理策略/ 而言/ ,/ 增加/ 在/ 制冷/ 效率高/ 的/ 节点/ 上/ 的/ 负载/ ,/ 减少/ 制冷/ 效率/ 低/ 的/ 节点/ 上/ 的/ 负载/ ,/ 是/ 减少/ 热点/ 、/ 提高/ 制冷/ 效率/ 的/ 一个/ 重要/ 思想/ ./ 因此/ 在/ 进行/ 任务分配/ 之前/ ,/ 需要/ 特定/ 的/ 参数/ 对/ 节点/ 的/ 制冷/ 效率/ 进行/ 评价/ ./ 例如/ ,/ 可用/ HRF/ [/ 21/ ]/ 和/ LWPI/ [/ 43/ ]/ 值/ (/ 详见/ 5.3/ 节/ )/ 表征/ 某/ 节点/ 的/ 制冷/ 效率/ ./ HRF/ 是/ 节点/ 产生/ 热/ 回流/ 效果/ 强弱/ 的/ 一个/ 指标/ ./ 由于/ 热/ 回流/ 是/ 导致/ 冷却/ 效率/ 降低/ 的/ 一个/ 重要/ 原因/ [/ 21/ ,/ 23/ ,/ 28/ ]/ ,/ 因此/ HRF/ 值/ 间接/ 地/ 表征/ 了/ 节点/ 的/ 制冷/ 能力/ 强弱/ ./ 基于/ 此/ ,/ 文献/ [/ 21/ ]/ 提出/ 了/ 一种/ 最小化/ 热/ 回流/ 的/ 方法/ (/ MinimizingHeatRecirculation/ ,/ MinHR/ )/ ./ 其/ 基本/ 思想/ 是/ 尽量/ 降低/ HRF/ 值较/ 低/ 的/ 节点/ (/ 也/ 就是/ 产生/ 热/ 回流/ 效果/ 强/ 的/ 节点/ )/ 的/ 功率/ ,/ 增加/ HRF/ 值高/ 的/ 节点/ 的/ 功率/ ./ MinHR/ 方法/ 针对/ 功率/ 进行/ 调节/ 而/ 未/ 对/ 任务/ 的/ 具体/ 调度/ 策略/ 进行/ 阐述/ ,/ 文献/ [/ 4/ ]/ 进行/ 了/ 改进/ 并/ 提出/ MinHR/ -/ m/ (/ ModifiedMinHR/ )/ 算法/ ./ LWPI/ 则/ 兼顾/ 考虑/ 了/ 节点/ 的/ 热/ 回流/ 效应/ 和/ 空调/ 的/ 制冷/ 能力/ ,/ 用以/ 综合/ 评测/ 空调/ 对/ 某/ 节点/ 的/ 制冷/ 效率/ ./ 实验/ 表明/ ,/ 基于/ LWPI/ 参数/ 所/ 进行/ 任务调度/ 可以/ 在/ 不/ 超过/ 最高/ 临界温度/ 的/ 情况/ 下/ ,/ 节约/ 总/ 能耗/ 的/ 30/ %/ ./ HRF/ 和/ LWPI/ 值/ 实际上/ 是/ 为了/ 描述/ 节点/ 的/ 热学/ 特性/ ,/ 根据/ 该/ 特性/ 进行/ 负载/ 调度/ 避免/ 了/ CFD/ 的/ 复杂/ 分析/ ./ 与/ 此/ 类似/ ,/ 文献/ [/ 10/ ]/ 提出/ 了/ 基于/ 节点/ 交叉/ 热/ 影响/ 模型/ (/ 见/ 3.3/ ./ 2/ 节/ )/ 的/ XInt/ 算法/ ./ 该/ 模型/ 指出/ 功率/ 消耗/ 的/ 分布/ 情况/ 直接/ 影响/ 到/ 数据中心/ 的/ 气流/ 状态/ ,/ 从而/ 影响/ 温度/ 分布/ ./ 文献/ 结合/ 任务分配/ 与/ 节点/ 功率/ 的/ 关系/ ,/ 推导/ 出/ 节点/ 温度/ 分布/ 与/ 任务分配/ 的/ 关系/ 并/ 指出/ 不同/ 的/ 分配/ 方案/ 会/ 导致/ 不同/ 的/ 温度/ 分布/ ./ XInt/ 通过/ 遗传算法/ 求/ 出/ 近似/ 最优/ 解/ (/ 任务调度/ 方案/ )/ ,/ 以/ 保证/ 节点/ 最高/ 温度/ 不会/ 太高/ (/ 或/ 最小化/ 最高/ 温度/ )/ ./ 文献/ [/ 4/ ]/ 将/ 该/ 算法/ 重新命名/ 为/ XInt/ -/ GA/ 并/ 给出/ 了/ 算法/ 的/ 核心/ 伪/ 代码/ ./ 除了/ 使用/ 遗传算法/ 以外/ ,/ 该/ 文献/ 还/ 提出/ 了/ XInt/ -/ SQP/ 方法/ ,/ 该/ 方法/ 采用/ 序列/ 二次/ 规划/ (/ SequentialQuadraticProgramming/ ,/ SQP/ )/ 解决/ 该/ 非线性/ 规划/ 问题/ ,/ 而/ SQP/ 算法/ 得出/ 的/ 则/ 是/ 实数/ 域/ 内/ 的/ 解答/ ./ 因此/ ,/ 该/ 方法/ 还/ 需要/ 对/ 得到/ 的/ 解答/ 进行/ 离散/ 化/ 处理/ ./ Page12/ 上述/ 方法/ (/ XInt/ -/ GA/ 和/ XInt/ -/ SQP/ )/ 所/ 采用/ 的/ 节点/ 交叉/ 热/ 影响/ 模型/ 的/ 最/ 主要/ 贡献/ 是/ 量化/ 了/ 节点/ 之间/ 的/ 相互影响/ ,/ 同时/ 也/ 考虑/ 了/ 节点/ 排出/ 的/ 热气/ 对/ 节点/ 自身/ 的/ 影响/ ,/ 并/ 将/ 这些/ 影响/ 抽象/ 为/ 一个/ 影响/ 因素/ 的/ 矩阵/ ./ 由于/ 该/ 模型/ 基于/ 以下/ 两个/ 近似/ 假设/ :/ (/ 1/ )/ 节点/ 消耗/ 的/ 功率/ 等于/ 产生/ 的/ 热量/ ;/ (/ 2/ )/ 冷却/ 气流/ 可以/ 及时/ 地/ 带走/ 所有/ 产生/ 的/ 热量/ ./ 如果/ 节点/ 处于/ 不/ 稳定/ 的/ 状态/ (/ 例如/ 服务器/ 的/ 功率/ 出现/ 大幅/ 波动/ )/ ,/ 该/ 模型/ 的/ 仿真/ 能力/ 便会/ 下降/ ./ 另外/ ,/ 该/ 模型/ 重点/ 强调/ 了/ 服务器/ 节点/ 的/ 入口/ 和/ 出口/ 温度/ ,/ 但是/ 忽略/ 了/ 服务器/ 内部/ 温度/ 过高/ 才/ 是/ 导致/ 数据中心/ 可靠性/ 下降/ 的/ 事实/ ./ 最后/ 需要/ 指出/ 的/ 是/ ,/ 在/ 对/ 任务分配/ 与/ 功率/ 的/ 关系/ 建模/ 中/ ,/ 文献/ 只/ 考虑/ 了/ 单一/ 的/ 任务/ 类型/ ,/ 具有/ 一定/ 的/ 局限性/ ./ 而/ 文献/ [/ 33/ ]/ 则/ 进一步/ 对/ 不同/ 类型/ 任务/ 的/ 执行/ 和/ 功耗/ 关系/ 进行/ 了/ 探讨/ ,/ 提出/ 了/ Profile/ -/ basedTemperature/ -/ awareScheduler/ (/ PTS/ )/ 方法/ ./ 该/ 方法/ 面向/ 大规模/ 集群/ 的/ 任务调度/ ,/ 对/ 每种/ 类型/ 任务/ 的/ 温度/ 上升/ 曲线/ 进行/ 记录/ ,/ 并/ 以此/ 作为/ 调度/ 的/ 参考模型/ ./ 在/ 具体/ 实现/ 的/ 时候/ ,/ 会/ 对/ 任务/ 的/ 元/ 数据/ 和/ 历史数据/ 进行/ 比/ 对/ ,/ 如果/ 被/ 判断/ 为/ 与/ 历史记录/ 相近/ ,/ 则/ 会/ 使用/ 该/ 历史记录/ 的/ 温度/ 模型/ 作为/ 参考/ 进行/ 调度/ ./ 如果/ 没有/ 找到/ 相似/ 历史/ 任务/ ,/ 则/ 会/ 重新/ 建立/ 该/ 任务/ 的/ 温度/ 模型/ ,/ 为/ 后续/ 类似/ 任务/ 的/ 调度/ 提供/ 参考/ ./ 文献/ [/ 18/ ]/ 着重/ 对/ 提供/ Web/ 服务/ 的/ 节点/ 进行/ 热量/ 管理/ ,/ 开发/ 了/ C/ -/ Oracle/ ./ 该软件/ 侧重于/ 对/ 不同/ 的/ 应急/ 措施/ 进行/ 分析/ 和/ 预测/ ./ 这里/ 的/ “/ 应急/ 措施/ ”/ 指/ 的/ 是/ 服务器/ 温度/ 超过/ 或/ 即将/ 超过/ 阈值/ 等/ 危险/ 状态/ 时所/ 采取/ 的/ 措施/ ,/ 比如/ Web/ 请求/ 的/ 重定向/ 、/ DVFS/ 等/ ./ 该/ 系统/ 支持/ 在线/ 预测/ 并/ 对/ 负载/ 进行/ 调度/ ./ 对/ 数据中心/ 温度/ 分布/ 的/ 研究/ 表明/ :/ 数据中心/ 的/ 温度/ 分布/ 是/ 负载/ 分布/ (/ W/ )/ 、/ CRAC/ 运行/ 状态/ (/ C/ )/ 和/ 数据中心/ 布局/ 的/ 函数/ (/ P/ )/ [/ 17/ ]/ ,/ 即/ Weatherman/ 是/ 一种/ 实时/ 的/ 温度/ 预测/ 方法/ [/ 17/ ]/ ,/ 使用/ 神经网络/ 的/ 方法/ 对/ 数据中心/ 的/ 功率/ 和/ 温度/ 分布/ 进行/ 研究/ ./ 该/ 方法/ 具体/ 包括/ 数据/ 采集/ 、/ 模型/ 训练/ 和/ 预测/ 3/ 个/ 步骤/ ./ 其中/ ,/ 前/ 两个/ 步骤/ 是/ 线下/ 完成/ 的/ ,/ 也/ 就/ 是非/ 实时/ 的/ ./ 在/ 构建/ 了/ 神经网络/ 的/ 模型/ 之后/ ,/ 再/ 部署/ 到/ 系统/ 中/ 进行/ 实时/ 的/ 预测/ ,/ 帮助/ 调度/ 系统/ 进行/ 任务调度/ 决策/ ./ 作者/ 进而/ 基于/ Weatherman/ 提出/ 了/ ThermalTopology/ -/ Based/ 调度/ 算法/ ./ 不同于/ 上述/ 方法/ 中/ ,/ 将/ 整个/ 数据中心/ 看作/ 一个/ 整体/ 并/ 考虑/ 节点/ 间/ 气流/ 的/ 相互影响/ ,/ Wang/ 等/ 人/ 提出/ 的/ 基于/ 实时/ 预测/ 和/ 任务调度/ 的/ TASA/ (/ ThermalAwareSchedulingAlgorithm/ )/ 、/ TASA/ -/ B/ (/ ThermalAwareSchedulingAlgorithmwithBackfilling/ )/ 算法/ [/ 34/ ,/ 44/ ]/ 更为/ 关注/ 单个/ 节点/ 的/ 建模/ ./ 算法/ 在/ 进行/ 调度/ 时/ ,/ 总是/ 选择/ 最冷/ 的/ 节点/ 执行/ 任务/ ,/ 并/ 尽量/ 先/ 调度/ “/ 热/ ”/ 的/ 任务/ ,/ 再/ 调度/ “/ 冷/ ”/ 的/ 任务/ (/ 见/ 4.1/ 节/ )/ ./ 为了/ 最大化/ 数据中心/ 的/ 吞吐量/ ,/ 作者/ 在/ 该/ 调度/ 策略/ 的/ 基础/ 上/ 进一步/ 提出/ 了/ 带有/ 回填/ 机制/ 的/ 温度/ 感知/ 调度/ 算法/ (/ TASA/ -/ B/ )/ ./ 某些/ 任务/ 具有/ 多个/ 子/ 任务/ ,/ 需要/ 在/ 多个/ 节点/ 上/ 共同完成/ ,/ 这些/ 子/ 任务/ 一般/ 需要/ 同时/ 开始运行/ ./ 这/ 可能/ 造成/ 子/ 任务/ 之间/ 的/ 等待/ ,/ 从而/ 导致/ 资源/ 空闲/ 浪费/ ./ 所谓/ 回填/ 机制/ ,/ 就是/ 调度/ 系统/ 将/ 任务/ 及时/ 的/ 调度/ 到/ 空闲/ 的/ 节点/ 上/ ,/ 进一步/ 提供/ 数据中心/ 性能/ ./ 4.2/ ./ 3/ 基于/ 综合/ 控制/ 的/ 热量/ 管理策略/ 基于/ 综合/ 控制/ 的/ 热量/ 管理策略/ 往往/ 结合/ 布局/ 优化/ 、/ 制冷/ 动态/ 配置/ 、/ 任务调度/ 以及/ 面向/ 单/ 节点/ 的/ 热量/ 管理/ 方法/ ,/ 具有/ 管理/ 全面/ ,/ 节能/ 效果/ 好/ ,/ 实现/ 难度/ 大/ 等/ 特点/ ./ 基于/ 数据中心/ 综合/ 控制/ 的/ 热量/ 管理/ 方法/ 可/ 分为/ Proactive/ 和/ Reactive/ 两类/ [/ 19/ ]/ ./ 前者/ 需要/ 在线/ 下/ 构建/ 一定/ 的/ 模型/ 进行/ 实时/ 评估/ ./ 后者/ 则/ 基于/ 系统/ 的/ 反馈/ 信息/ 进行/ 控制/ ./ 例如/ 节点/ 温度/ 高于/ 某/ 一个/ 阈值/ 时/ ,/ 系统/ 便/ 立即/ 进行/ 处理/ ./ 这种/ 根据/ 反馈/ 信息/ 实时处理/ 的/ 方法/ 相对/ 于/ Proactive/ 方法/ 而言/ ,/ 具有/ 实现/ 简单/ ,/ 反应/ 快速/ 的/ 优势/ ./ 但是/ Reactive/ 方法/ 也/ 具有/ 阈值/ 难以确定/ 、/ 可靠性/ 低/ 、/ 冷却/ 效率/ 低等/ 缺点/ ./ 文献/ [/ 19/ ]/ 从/ 构建/ 制冷/ 及/ 负载/ 模型/ 的/ 角度/ 出发/ ,/ 提出/ 一种/ 基于/ 动态/ 制冷/ 的/ 热量/ 管理策略/ ./ 该/ 控制系统/ 通过/ 对/ 数据中心/ 进行/ 热学/ 和/ 流体力学/ 建模/ ,/ 得到/ 制冷/ 设备/ 的/ 不同/ 配置/ (/ 即/ 工作/ 在/ 不同/ 状态/ )/ 和/ 制冷/ 能力/ 之间/ 的/ 关系/ ./ 再/ 根据/ 实时/ 信息/ 对/ 数据中心/ 的/ 产/ 热量/ 进行/ 预估/ ./ 控制系统/ 在/ 保证/ 设备/ 温度/ 在/ 安全/ 范围/ 内/ 的/ 同时/ ,/ 寻找/ 最佳/ 的/ 制冷/ 配置/ ./ HTS/ (/ HighestThermostatSetting/ )/ 算法/ 综合/ 考虑/ 任务调度/ 与/ 制冷/ 设备/ 的/ 动态控制/ ,/ 是/ 通过/ 综合/ 控制/ 进行/ 热量/ 管理/ 的/ 典型/ [/ 8/ ]/ ./ 为了/ 确保/ 节点/ 的/ 温度/ 不/ 超过/ 临界温度/ (/ 犜/ red/ )/ ,/ 需要/ 将/ CRAC/ 的/ 温度/ 设定/ 在/ 一定/ 范围/ 内/ ./ 而/ 不同/ 的/ 节点/ 由于/ 其/ 物理/ 特征/ 不/ 一样/ ,/ 使得/ 对/ CRAC/ 的/ 温度/ 设定/ (/ CRACThermostatSetting/ )/ 要求/ 不/ 一样/ ./ 该/ 方法/ 首先/ 根据/ CRACThermostat/ 要求/ 对/ 节点/ 排序/ ,/ 并/ 尽量/ 将/ 任务分配/ 到/ CRACThermostat/ 要求/ 较/ 高/ (/ 对/ CRAC/ 要求/ 不/ 苛刻/ )/ 的/ 节点/ ,/ 同时/ 动态/ 调节/ CRAC/ ./ Page135/ 数据中心/ 热量/ 管理/ 评价/ 对于/ 不同/ 的/ 绿色/ 数据中心/ 热量/ 管理策略/ 而言/ ,/ 具体/ 的/ 效果/ 和/ 作用/ 需要/ 通过/ 一系列/ 指标/ 进行/ 评定/ ./ 同时/ ,/ 评价/ 和/ 系统优化/ 有着/ 密切/ 的/ 联系/ :/ 优化/ 是/ 评价/ 的/ 目的/ ,/ 而/ 评价/ 为/ 优化/ 提供/ 了/ 基础/ [/ 57/ ]/ ./ 一般而言/ ,/ 对于/ 数据中心/ 的/ 评价/ 是/ 通过/ 测量/ 设备/ 对系统/ 各项/ 指标/ 直接/ 进行/ 测量/ 或/ 间接/ 计算/ 进行/ 的/ ./ 绿色/ 数据中心/ 的/ 评价/ 指标/ 必须/ 考虑/ 以下/ 两个/ 因素/ [/ 58/ ]/ :/ (/ 1/ )/ 经济/ 因素/ ./ 表/ 2/ 热量/ 管理/ 评价/ 总结/ 与/ 比较/ 分类/ 全局/ 能耗/ 评价/ 制冷系统/ 效率/ 评价/ 热量/ 及/ 温度/ 评价/ Effectiveness/ [/ 58/ ,/ 62/ ]/ RCI/ [/ 63/ ]/ RCIHI/ =/ RCILO/ =/ 5.1/ 全局/ 能耗/ 评价/ 对/ 数据中心/ 的/ 温度/ 进行/ 合理/ 控制/ 可以/ 间接/ 的/ 减少/ 制冷/ 能耗/ ,/ 从而/ 降低/ 数据中心/ 的/ 运行/ 成本/ ./ 全局/ 的/ 能耗/ 评价/ 是/ 将/ 数据中心/ 看作/ 一个/ 整体/ ,/ 从/ 全局/ 的/ 角度/ 度量/ 数据中心/ 的/ 能量/ 使用/ 效率/ ./ 这类/ 指标/ 可以/ 总结/ 为/ 数据中心/ 生产率/ (/ DatacenterProductivity/ ,/ 节省/ 数据中心/ 的/ 总/ 运行/ 成本/ (/ TotalCostofOwner/ -/ ship/ ,/ TCO/ [/ 59/ ]/ )/ 往往/ 是/ 最/ 主要/ 的/ 关注/ 对象/ ;/ (/ 2/ )/ 环境因素/ ./ 绿色/ 数据中心/ 的/ 主要/ 目标/ 之一/ 是从/ 节能/ 的/ 角度/ 出发/ ,/ 减少/ 对/ 环境/ 的/ 危害/ ./ 本节/ 主要/ 针对/ 绿色/ 数据中心/ 热量/ 管理/ 领域/ 具有/ 代表性/ 的/ 评价/ 指标/ 和/ 评价/ 方法/ 进行/ 综述/ ./ 我们/ 将/ 绿色/ 数据中心/ 热量/ 管理/ 的/ 评价/ 分为/ 3/ 个/ 方面/ :/ (/ 1/ )/ 全局/ 的/ 能耗/ 评价/ ;/ (/ 2/ )/ 制冷/ 设备/ 的/ 效率/ 评价/ ;/ (/ 3/ )/ 数据中心/ 的/ 热量/ 及/ 温度/ 评价/ ./ 我们/ 对/ 这/ 3/ 类/ 评价/ 进行/ 阐述/ 的/ 同时/ ,/ 以/ 表格/ 的/ 形式/ 展现/ 了/ 这些/ 评价/ 的/ 综合/ 比较/ (/ 见表/ 2/ )/ ./ TotalQuantityofaResourceConsumedPUE/ =/ TotalFacilityPowerITEquipmentPower/ (/ ITEquipmentUtilization/ ×/ ITEquipEnergyConsumedbyCRACAverageCoolingSystemPowerUsageAverageCoolingSystemPowerUsage/ [/ 1/ -/ [/ 1/ -/ GeneratedHeatRecirculation/ (/ ThermalManagementMargin/ )/ +/ (/ ACMargin/ )/ TotalHeatExtractionbytheCRACUnitsTotalEnthalpyRiseattheRackExhaustEnthalpyRiseduetoInfiltrationinColdAisleTotalEnthalpyRiseattheRackExhaustReturnAirTemperature/ -/ SupplyAirTemperatureDCP/ )/ [/ 60/ ]/ ,/ 即将/ 数据中心/ 看作/ 一个/ 黑盒/ ,/ 只/ 考虑/ 能耗/ 的/ 输入/ 和/ 有效/ 的/ 产出/ ./ 该/ 指标/ 表示/ 的/ 是/ 数据中心/ 有效/ 能耗/ 占/ 总/ 能耗/ 的/ 比例/ :/ DCP/ =/ Page14DCP/ 是/ 一个/ 理论/ 层面/ 的/ 概括/ ,/ 其/ 计算/ 往往/ 十分复杂/ [/ 60/ ]/ ./ 具体/ 到/ 能耗/ 的/ 生产率/ (/ DatacenterEnergyProductivity/ ,/ DCeP/ )/ ,/ 用式/ (/ 20/ )/ 表示/ :/ 以/ 数据中心/ 完成/ 任务/ 数为例/ ,/ 在/ 一段时间/ 内/ (/ AssessmentWindow/ )/ 产出/ 的/ 有用/ 工作/ (/ UsefulWorkProduced/ )/ 为/ UsefulWorkProduced/ =/ ∑/ 其中/ :/ M/ 是/ 该/ 时间段/ 内/ 初始化/ 的/ 任务/ 总数/ ;/ 犞/ i/ 是/ 一个/ 归一化/ 因子/ ,/ 代表/ 不同/ 任务/ 的/ 权重/ ./ 如果/ 在/ 该/ 时间段/ 内/ 任务/ 完成/ ,/ 犜/ i/ 为/ 1/ ,/ 否则/ 为/ 0/ ./ 犝/ i/ (/ t/ ,/ T/ )/ 是/ 一个/ 基于/ 时间/ 的/ 效应/ 函数/ ./ 该/ 函数/ 表示/ 随着/ 时间/ 的/ 推移/ ,/ 完成/ 某个/ 任务/ 的/ 价值/ ./ 文献/ [/ 60/ ]/ 在/ 数据中心/ 生产率/ 的/ 度量/ 标准/ 上/ 进一步/ 细化/ ./ 不仅/ 局限于/ 数据中心/ 任务/ 完成/ 数目/ 这个/ 单一/ 指标/ ,/ 而是/ 将/ 其/ 扩展/ 到/ 如/ 网络流量/ 、/ CPU/ 利用率/ 、/ 服务器/ 计算能力/ 等/ 多维度/ 的/ 度量/ 中/ ./ 与/ 能耗/ 生产率/ 类似/ ,/ GreenGrid/ ①/ 提出/ 了/ PUE/ (/ PowerUsageEffectiveness/ )/ 和/ DCiE/ (/ DatacenterInfrastructureEfficiency/ )/ 用来/ 表征/ 数据中心/ 的/ 功耗/ 使用/ 效率/ [/ 61/ ]/ ./ 具体/ 而言/ ,/ 指/ 的/ 是/ IT/ 设备/ (/ 包括/ 服务器/ 、/ 存储设备/ 、/ 网络设备/ 、/ 监控/ 节点/ 等/ )/ 功耗/ 和/ 数据中心/ 总/ 功耗/ 之间/ 的/ 关系/ ./ 定义/ 为式/ (/ 22/ )/ :/ DCiE/ 是/ PUE/ 的/ 倒数/ ,/ 即/ DCiE/ =/ 文献/ [/ 62/ ]/ 进一步/ 对式/ (/ 22/ )/ 的/ 分子/ 进行/ 细化/ ,/ 给出/ 了/ 相对/ 具体/ 的/ 计算方法/ ./ 如果/ 将/ 数据中心/ IT/ 设备/ 的/ 能耗/ 看作/ 有效/ 能耗/ ;/ 则/ PUE/ 、/ DCiE/ 反应/ 了/ 数据中心/ 有效/ 能耗/ 占/ 总/ 能耗/ 的/ 比例/ 大小/ ./ 例如/ :/ PUE/ 为/ 2/ (/ DCiE/ 为/ 50/ %/ )/ 的/ 数据中心/ 意味着/ 有效/ 能耗/ 占/ 数据中心/ 总/ 能耗/ 的/ 50/ %/ ./ 据/ 报道/ ,/ 百度/ 南京/ 数据中心/ 的/ PUE/ 均值/ 约/ 为/ 1.37/ ./ PUE/ 和/ DCiE/ 考虑/ 了/ IT/ 设备/ 的/ 能耗/ ,/ 但/ 没有/ 考虑/ 到/ 有/ 的/ 设备/ 在/ 消耗/ 能量/ 的/ 同时/ 未必/ 会/ 输出/ 有用/ 的/ 工作/ ./ 例如/ ,/ 两台/ 服务器/ 消耗/ 相近/ 的/ 功率/ ,/ CPU/ 的/ 使用率/ 可能/ 相差/ 很大/ ./ 基于/ 这个/ 原因/ ,/ 文献/ [/ 60/ ]/ 进一步/ 对/ 其/ 进行/ 了/ 补充/ ,/ 提出/ 一项/ 改进/ 指标/ CPE/ (/ ComputePowerEfficiency/ )/ ./ 不同/ 的/ 调度/ 算法/ 会/ 产生/ 不同/ 的/ 任务分配/ 和/ 功率/ 变化/ ,/ 由此/ 产生/ 不同/ 的/ 制冷/ 需求/ ./ SP/ -/ EIR/ (/ EnergyInefficiencyRatioofSpatialScheduling/ )/ 指标/ [/ 8/ ]/ 定义/ 为/ 某/ 算法/ 产生/ 的/ 制冷/ 需求/ 与/ 最佳/ 算法/ 的/ 制冷/ 需求/ 的/ 比值/ ,/ 用以/ 对/ 不同/ 任务调度/ 算法/ 所/ 需/ 的/ 制冷/ 能耗/ 进行/ 评价/ ./ 5.2/ 制冷系统/ 效率/ 评价/ 数据中心/ 制冷系统/ 效率/ (/ CoolingSystemEffi/ -/ ciency/ ,/ CSE/ )/ 是/ 制冷系统/ 耗电量/ 与/ 制冷/ 负载/ 的/ 比值/ ,/ 体现/ 了/ 制冷系统/ 运行/ 时/ 的/ 总体/ 效率/ ./ CSE/ =/ 其中/ :/ 分子/ 是/ 制冷系统/ 消耗/ 的/ 功率/ ;/ 分母/ 是/ 制冷系统/ 的/ 负载/ (/ 单位/ 是/ 冷吨/ ,/ 1/ 冷吨/ 表示/ 1/ 吨/ 0/ 的/ 水/ 在/ 24h/ 冷冻/ 到/ 0/ 的/ 冰/ 所/ 需要/ 的/ 制冷量/ )/ ./ 因此/ ,/ 所谓/ 制冷/ 负载/ ,/ 就是指/ 制冷系统/ 单位/ 时间/ 内/ 运送/ 热量/ 的/ 能力/ ./ 根据/ 劳伦斯伯克利/ 国家/ 实验室/ 数据中心/ 的/ 实践/ 表明/ [/ 62/ ]/ ,/ CSE/ 小于/ 0.8/ Kw/ // ton/ 是/ 一个/ 较/ 好/ 的/ 标准/ ./ HVAC/ 系统/ 效率/ (/ Heating/ ,/ Ventilation/ ,/ andAirConditioningSystemEffectiveness/ )/ [/ 62/ ]/ 与/ PUE/ 、/ DCiE/ 类似/ ,/ 是/ 基于/ 数据中心/ 不同/ 组件/ 的/ 能耗/ 比例/ 而言/ 的/ ,/ 它/ 表示/ IT/ 设备/ 能耗/ 与/ HVAC/ 系统/ 能耗/ 的/ 比值/ :/ HVACSystemEffectiveness/ =/ HVAC/ +/ Fuel/ +/ Steam/ +/ 其中/ ,/ 分子/ 和/ 分母/ 分别/ 是/ IT/ 设备/ 的/ 耗电量/ (/ Kwh/ )/ 和/ HVAC/ 系统/ 消耗/ 的/ 能量/ (/ 包括/ 电能/ 和/ 其他/ 形式/ 能量/ )/ ./ HVAC/ 系统/ 效率/ 值越/ 大/ ,/ 代表/ 制冷系统/ 的/ 效率/ 越高/ ./ 当然/ ,/ 由于/ 这是/ 两者/ 的/ 比值/ ,/ 不能/ 单单/ 依据/ 该值/ 的/ 大小/ 断定/ 数据中心/ 的/ HVAC/ 系统/ 的/ 效率/ 或者/ 在/ 不同/ 数据中心/ 间/ 进行/ 比较/ ,/ 而/ 应该/ 进行/ 全面/ 地/ 综合/ 分析/ ./ 为了/ 保证/ 数据中心/ 的/ 安全性/ 和/ 可靠性/ ,/ 制冷系统/ 的/ 最高/ 冷却/ 能力/ 不能/ 小于/ 峰值/ 情况/ 下/ 所/ 需/ 的/ 冷却/ 负载/ ./ CSS/ (/ CoolingSystemSizingFactor/ )/ 是/ 数据中心/ 冷却系统/ 的/ 总/ 冷却/ 能力/ 与/ 峰值/ 冷却/ 负载/ 的/ 比值/ ./ ①/ http/ :/ // // www/ ./ thegreengrid/ ./ orgPage15/ 它/ 反映/ 了/ 制冷系统/ 的/ 硬件/ 能力/ 和/ 冷却/ 需求/ 的/ 关系/ ./ CSS/ 过高/ 无疑/ 会/ 增加/ 数据中心/ 的/ TCO/ ;/ 而/ 过/ 低/ 则/ 可能/ 导致/ 冷却/ 能力/ 不足/ ./ 为了/ 避免/ 温度/ 超过/ 设备/ 的/ 承受/ 范围/ ,/ InstalledChillerCapacity/ 会/ 适当/ 的/ 大于/ PeakChillerLoad/ ./ 根据/ 不同/ 的/ 数据中心/ 布局/ 、/ 热量/ 管理策略/ 、/ 冷却系统/ 的/ 冗余/ 策略/ 等/ ,/ CSS/ 的/ 值/ 可能/ 变化很大/ ./ 但/ 理论/ 上/ ,/ 我们/ 应该/ 尽量/ 降低/ CSS/ 值/ ./ 5.3/ 热量/ 及/ 温度/ 评价/ 热量/ 和/ 温度/ 状态/ 是/ 绿色/ 数据中心/ 热量/ 管理/ 的/ 最终/ 落脚点/ ./ 本节/ 主要/ 总结/ 了/ 数据中心/ 常用/ 的/ 热量/ 和/ 温度/ 评测/ 指标/ ,/ 这些/ 指标/ 从/ 不同/ 层次/ 和/ 角度/ 描述/ 了/ 数据中心/ 热量/ 管理/ 的/ 健康/ 程度/ ./ 针对/ 单个/ 机架/ 的/ 制冷/ 评价/ ,/ 文献/ [/ 63/ ]/ 提出/ 了/ RCI/ (/ RackCoolingIndex/ )/ 指标/ ./ 由于/ 数据中心/ 冷却系统/ 布局/ 以及/ 冷热/ 气体/ 密度/ 不/ 一致/ 等/ 原因/ ,/ 机架/ 不同/ 高度/ 的/ 温度/ 分布/ (/ 仅/ 考虑/ 入口/ 温度/ )/ 呈现出/ 不/ 均匀/ 性/ ./ 若/ 考虑/ 4/ 个/ 温度/ 标准/ :/ 最大/ 允许/ 温度/ (/ MaxAllowableTemperature/ ,/ Tmax/ -/ all/ )/ 、/ 最大/ 推荐/ 温度/ (/ MaxRecommendedTemperature/ ,/ Tmax/ -/ rec/ )/ 、/ 最小/ 允许/ 温度/ (/ MinAllowableTemperature/ ,/ Tmin/ -/ all/ )/ 、/ 最小/ 推荐/ 温度/ (/ MinRecommendedTemperature/ ,/ Tmin/ -/ rec/ )/ ./ 一般而言/ ,/ 满足/ 如下/ 关系/ :/ 如果/ 入口/ 温度/ 高于/ Tmax/ -/ rec/ ,/ 代表/ 制冷/ 不足/ ;/ 低于/ Tmin/ -/ rec/ 则/ 表示/ 制冷/ 过剩/ ./ RCI/ 参数/ 分别/ 考虑/ 了/ 这/ 两种/ 情况/ ,/ 分为/ RCIHI/ 和/ RCILO/ ./ RCIHI/ =/ 1/ -/ 将/ 机架/ 从/ 上/ 至/ 下/ 按/ 高度/ 等/ 分地/ 测量/ n/ 个/ 温度/ 样本/ ,/ Tini/ 是/ 第/ i/ 个/ 高度/ 处/ 的/ 机架/ 入口/ 温度/ ./ 可以/ 看到/ ,/ 如果/ 入口/ 温度/ 的/ 测量/ 位置/ (/ 以/ 机架/ 高度/ 计算/ )/ 近似/ 成/ 连续/ 的/ ,/ 则/ 式/ (/ 28/ )/ 第二/ 部分/ 的/ 分子/ 是/ 温度/ 超过/ Tmax/ -/ rec/ 位置/ 处/ ,/ 温度/ 的/ 对/ 高度/ 的/ 积分/ ./ 对于/ 某个/ 机架/ 而言/ ,/ 分母/ 是/ 一个/ 常数/ ./ 理想/ 状态/ 下/ ,/ RCI/ 值为/ 100/ %/ ,/ 即/ 没有/ 任何/ 高度/ 位置/ 的/ 温度/ 高于/ Tmax/ -/ rec/ 值/ ./ 与/ 此/ 类似/ :/ RCILO/ =/ 1/ -/ RCI/ 反应/ 了/ 单个/ 机架/ 的/ 制冷/ 效果/ ,/ 并/ 通过/ 两个/ 值/ 表征/ 了/ 制冷/ 过剩/ 与/ 制冷/ 不足/ 的/ 总体/ 程度/ ,/ 帮助/ 了解/ 机架/ 的/ 制冷/ 和/ 健康/ 状态/ ./ 文献/ [/ 63/ ]/ 在/ 不同/ 制冷/ 模式/ 和/ 功耗/ 密度/ 的/ 情况/ 下/ 对/ RCI/ 值/ 进行/ 了/ 研究/ ;/ 文献/ [/ 65/ ]/ 则/ 对/ 数据中心/ 不同/ 的/ 冷热/ 道/ 封闭/ 模式/ (/ 包括/ 非/ 封闭/ 、/ 半封闭/ 和/ 全封闭/ 3/ 种/ 模式/ )/ 对/ RCI/ 值/ 的/ 影响/ 进行/ 了/ 探讨/ ./ 如/ 3.3/ 节/ 所述/ ,/ 影响/ 数据中心/ 制冷/ 效率/ 的/ 两个/ 重要/ 原因/ 是/ HeatRecirculation/ 和/ ShortCircuiting/ ./ 两种/ 情况/ 都/ 违反/ 了/ 正常/ 冷却/ 气流/ 的/ 运行/ 方向/ ,/ 严重/ 影响/ 数据中心/ 制冷系统/ 的/ 工作效率/ ./ HRF/ (/ HeatRecirculationFactor/ )/ 参数/ 对/ 单台/ 服务器/ 产生/ 的/ 热/ 回流/ 效应/ 进行/ 了/ 定量/ 地/ 分析/ ./ 首先/ ,/ 给出/ 热/ 回流/ 效应/ 的/ 计算/ :/ 其中/ ,/ n/ 是/ 节点/ 总数/ ./ cp/ 、/ 犿/ i/ 、/ 犜/ in/ 、/ Tsup/ 分别/ 是/ 气体/ 比热/ 、/ 流经/ 节点/ 的/ 冷却/ 气流/ 速度/ 、/ 节点/ 入口/ 气流/ 温度/ 、/ 供冷/ 气流/ 温度/ (/ 为/ 简化/ 问题/ ,/ 假定/ 所有/ CRAC/ 的/ 供冷/ 气流/ 温度/ 一样/ )/ ./ 热/ 回流/ 的/ 根源/ 在于/ 该/ 节点/ 运行/ 时/ 产生/ 了/ 热量/ ./ 一般而言/ ,/ 产生/ 的/ 热量/ 越/ 多/ ,/ 产生/ 的/ 热/ 回流/ 效应/ 越/ 明显/ ./ HRF/ 刻画/ 了/ 节点/ 产生/ 热/ 回流/ 效应/ 的/ 能力/ 强弱/ ./ 选取/ 数据中心/ 的/ 某个/ 基准/ 状态/ 二元/ 组/ :/ 〈/ Qref/ ,/ δ/ Qref/ 〉/ ./ 其中/ ,/ 前者/ 是/ 数据中心/ 的/ 总产/ 热量/ ,/ 后者/ 是/ 数据中心/ 总热/ 回流/ 效应/ ./ 然后/ 加大/ 某/ 服务器/ 的/ 功率/ ,/ 并/ 重新/ 测量/ 该/ 二元/ 组的值/ :/ 〈/ Q/ ,/ δ/ Q/ 〉/ ./ HRF/ 定义/ 为/ HRFj/ =/ 分子/ 是/ 该/ 节点/ 处于/ 两个/ 状态/ 时/ 是/ 产生/ 热量/ 的/ 差值/ ,/ 分母/ 是/ 产生/ 热/ 回流/ 效应/ 的/ 差值/ ./ 相较/ 于/ HRF/ 值/ ,/ LWPI/ (/ LocalWorkloadPlace/ -/ mentIndex/ )/ 则/ 兼顾/ 综合/ 考虑/ 了/ 节点/ 的/ 热/ 回流/ 效应/ 和/ 空调/ 的/ 制冷/ 能力/ [/ 43/ ]/ ./ 该/ 参数/ 定义/ 如下/ :/ LWPIi/ =/ (/ ThermalManagementMargin/ )/ i/ +/ (/ ACMargin/ )/ i/ (/ Tset/ -/ Tin/ )/ i/ +/ ∑/ j/ 其中/ ,/ Tset/ 和/ Tin/ 分别/ 是/ 节点/ 入口处/ 的/ 温度/ 设定值/ (/ 例如/ 为/ 最高/ 临界值/ )/ 和/ 当前/ 温度/ 值/ ;/ TSAT/ 和/ TSAT/ ,/ min/ 分/ Page16/ 别是/ 空调/ 供给/ 冷气/ 的/ 当前/ 温度/ 和/ 最低温度/ ./ TCIi/ 是/ 空调/ j/ 对/ 节点/ i/ 的/ 制冷/ 关联系数/ [/ 43/ ]/ ./ 分母/ TSAT/ ,/ i/ 是/ 临近/ 节点/ i/ 的/ 通风/ 地板/ 处/ 的/ 温度/ ./ 该/ 参数/ 用以/ 综合/ 评价/ 单个/ 节点/ 的/ 制冷/ 效率/ 和/ 制冷/ “/ 潜力/ ”/ ./ 区别/ 于/ RCI/ ,/ HRF/ 和/ LWPI/ 参数/ 表征/ 单/ 节点/ 的/ 热/ 回流/ 效果/ ,/ 无量/ 纲/ 参数/ SHI/ (/ SupplyHeatIndex/ )/ 和/ RHI/ (/ ReturnHeatIndex/ )/ 代表/ 了/ 整个/ 数据中心/ 热/ 回流/ 效应/ 的/ 强度/ [/ 28/ ]/ ./ 这/ 两个/ 参数/ 从/ 某种程度/ 上/ 可以/ 看成/ 是/ 数据中心/ 热量/ 管理/ 健康/ 状态/ 的/ 指标/ ./ 用/ Tini/ 表示/ 空气/ 经由/ 某/ 节点/ 前后/ 的/ 温度/ ,/ 数据中心/ 和/ Tout/ 共有/ n/ 个/ 节点/ 和/ k/ 个/ CRAC/ ./ 如果/ 整个/ 热/ 循环系统/ 处于/ 稳定/ 状态/ ,/ 则/ 机架/ 散失/ 的/ 热量/ 将/ 等于/ CRAC/ 的/ 制冷量/ ,/ 即/ Qgenerated/ =/ Qremoved/ =/ ∑/ 可以/ 看到/ ,/ 通过/ 空调/ 的/ 进出/ 温度/ Tin/ 以/ 直接/ 计算/ 整个/ 数据中心/ 的/ 制冷量/ ./ 两者/ 的/ 差值/ 称作/ RT/ (/ TemperatureRange/ )/ [/ 62/ ]/ ./ 再/ 根据/ 式/ (/ 30/ )/ ,/ 将/ SHI/ 和/ RHI/ 定义/ 如式/ (/ 34/ )/ 、/ (/ 36/ )/ 所示/ ./ SHI/ 表示/ 了/ 由于/ 热/ 回流/ 导致/ 的/ 能量/ 增加/ 与/ 冷却/ 气体/ 能量/ 增加/ 总值/ 的/ 关系/ ;/ RHI/ 则/ 表示/ CRAC/ 吸取/ 的/ 热量/ 与/ 冷却/ 气体/ 能量/ 增加/ 总值/ 的/ 关系/ ./ SHI/ 和/ RHI/ 都/ 间接/ 的/ 表征/ 了/ 数据中心/ 热/ 回流/ 效应/ 的/ 强弱/ ./ 如果/ SHI/ 越高/ 或者/ RHI/ 越低/ ,/ 代表/ 热气/ 回流/ 的/ 现象/ 越/ 严重/ ,/ 反之亦然/ ./ SHI/ =/ =/ =/ RHI/ =/ =/ =/ RHI/ =/ 1/ -/ SHI/ 文献/ [/ 64/ ]/ 提出/ 了/ RTI/ (/ ReturnTemperatureIndex/ )/ 参数/ ,/ 该/ 参数/ 将/ 气流/ 的/ HeatRecirculation/ 和/ ShortCircuiting/ 的/ 两个/ 现象/ 进行/ 了/ 综合/ ./ 具体/ 为/ i/ )/ mean/ 和/ (/ Tin/ (/ Tout/ 均值/ ./ 理想/ 情况/ 下/ ,/ 应该/ 满足/ 如下/ 关系/ :/ 也就是说/ ,/ 理想/ 状态/ 下/ ,/ RTI/ 的/ 值/ 是/ 100/ %/ ./ 如果/ RTI/ 的/ 值/ 大于/ 100/ %/ ,/ 代表/ 热/ 回流/ 效应/ 过/ 强/ ,/ 反之/ ShortCircuiting/ 效应/ 过强/ ./ 文献/ [/ 64/ ]/ 对/ 不同/ 数据中心/ 结构/ 和/ 不同/ 功耗/ 密度/ 情况/ 下/ RTI/ 值/ 进行/ 了/ 研究/ ./ 结果表明/ 将/ 数据中心/ 的/ “/ 冷道/ ”/ 和/ “/ 热道/ ”/ 进行/ 隔离/ ,/ 是/ 减少/ 热/ 回流/ 的/ 有效/ 方法/ ./ 为了/ 避免出现/ 单个/ 节点/ 或/ 少数/ 节点/ 过热/ 的/ 现象/ ,/ 往往/ 需要/ 对/ 节点/ 的/ 温度/ 进行/ 均衡/ ./ 数据中心/ 不同/ 位置/ 的/ 温度/ 方差/ CoV/ (/ CoefficientofVariance/ )/ 是/ 衡量/ 温度/ 均衡/ 程度/ 的/ 常用/ 指标/ [/ 21/ ,/ 42/ ]/ ./ 如果/ 数据中心/ 不同/ 节点/ 的/ 温度/ 相差/ 很大/ ,/ 会/ 导致/ 温度/ 在/ 空间/ 上/ 有/ 较大/ 范围/ 的/ 波动/ ./ 该/ 参数/ 也/ 会/ 随之/ 增大/ ./ 6/ 总结/ 与/ 展望/ 本文/ 从/ 绿色/ 数据中心/ 的/ 环境/ 与/ 资源/ 监控/ 、/ 热量/ 及/ 温度/ 建模/ 、/ 热量/ 管理策略/ 、/ 热量/ 管理/ 评价/ 四个/ 方面/ 对/ 数据中心/ 的/ 热量/ 管理/ 研究/ 工作/ 进行/ 了/ 综述/ ./ 文章/ 着重/ 对/ 数据中心/ 的/ 热量/ 管理策略/ 进行/ 了/ 分析/ 总结/ ,/ 从/ 面向/ 单/ 节点/ // 多/ 节点/ 、/ 实现/ 方法/ 、/ 复杂度/ 、/ 灵活/ 度/ 等/ 多个/ 维度/ 对/ 现有/ 热量/ 管理策略/ 进行/ 了/ 归类/ 、/ 比较/ 和/ 分析/ ,/ 并/ 阐述/ 了/ 各种/ 方法/ 的/ 优势/ 和/ 局限性/ ,/ 提出/ 了/ 面向/ 多/ 节点/ 的/ 热量/ 管理机制/ 的/ 理论/ 框架/ ,/ 为/ 绿色/ 数据中心/ 热量/ 管理/ 的/ 后续/ 研究/ 奠定/ 了/ 基础/ ./ 最后/ ,/ 本文/ 将/ 绿色/ 数据中心/ 的/ 热量/ 管理/ 评价/ 及/ 指标/ 分为/ 全局/ 能耗/ 评价/ 、/ 制冷系统/ 效率/ 评价/ 、/ 热量/ 及/ 温度/ 评价/ 三类/ 进行/ 归类/ 分析/ 和/ 总结/ ./ 数据中心/ 的/ 热量/ 管理/ 虽然/ 可以/ 追溯到/ 本世纪初/ ,/ 但是/ 全面/ 的/ 、/ 多/ 节点/ 的/ 综合/ 热量/ 管理策略/ 和/ 方法/ 并/ 不/ 成熟/ ./ 特别/ 是/ 由于/ 云/ 计算/ 的/ 兴起/ ,/ 基于/ 云/ 计算/ 平台/ 的/ 设备/ 规模/ 大/ 、/ 可扩展性/ 高/ 、/ 功耗/ 密度/ 大/ 、/ 可靠性/ 要求/ 高等/ 特点/ ,/ 数据中心/ 的/ 热量/ 管理/ 面临/ 着/ 新/ 的/ 挑战/ ./ 我们/ 通过/ 对/ 已有/ 工作/ 的/ 总结/ ,/ 并/ 结合/ 自己/ 的/ 理解/ ,/ 给出/ 未来/ 绿色/ 数据中心/ 的/ 热量/ 管理/ 需要/ 进一步/ 研究/ 的/ 问题/ ./ (/ 1/ )/ 建立/ 统一/ 的/ 物理/ 机/ 温度/ 监控/ 规范/ ./ 在/ 数据/ Page17/ 中心/ 的/ 环境/ 下/ ,/ 存在/ 大量/ 异构/ 的/ 物理/ 节点/ ./ 其/ 内部/ 的/ 温度/ 检测/ 主要/ 依赖于/ 集成/ 在/ 主板/ 和/ 芯片/ 内部/ 的/ 传感器/ ,/ 这些/ 传感器/ 的/ 位置/ 、/ 精度/ 、/ 对应/ 的/ 标准/ 会/ 极大/ 的/ 影响/ 监控/ 系统/ 读数/ 的/ 获取/ ./ 而/ 该/ 问题/ 的/ 解决/ 需要/ 依靠/ 统一/ 监控/ 标准/ 和/ 规范/ 的/ 建立/ ./ (/ 2/ )/ 考虑/ 监控/ 软件/ 本身/ 的/ 开销/ 和/ 对/ 温度/ 的/ 影响/ ./ 绿色/ 数据中心/ 的/ 热量/ 管理/ 需要/ 收集/ 监控/ 数据/ ,/ 其中/ 大部分/ 依赖于/ 节点/ 上/ 配置/ 的/ 硬件/ 和/ 软件/ ./ 软件/ 的/ 运行/ 本身/ 就/ 占用/ 一定/ 开销/ ,/ 同时/ 也/ 会/ 对/ 温度/ 造成/ 影响/ ,/ 而/ 很多/ 前人/ 的/ 工作/ 都/ 忽略/ 了/ 这/ 一点/ ./ 该/ 问题/ 同时/ 也/ 对/ 轻量级/ 的/ 在线/ 监控/ 技术/ 提出/ 了/ 要求/ ./ (/ 3/ )/ 热量/ 管理/ 与/ 计算/ 能耗/ 的/ 综合/ 考虑/ 与/ 权衡/ ./ 现有/ 的/ 热量/ 管理/ 方法/ 往往/ 通过/ 负载/ 均衡/ 实现/ 数据中心/ 温度/ 的/ 均匀分布/ 以/ 降低/ 制冷/ 能耗/ ;/ 而/ 从/ 减少/ 计算/ 能耗/ 的/ 角度/ 来看/ ,/ 又/ 往往/ 需要/ 将/ 负载/ 集中化/ ./ 因此/ 有/ 必要/ 研究/ 如何/ 综合/ 权衡/ 计算/ 能耗/ 与/ 制冷/ 能耗/ ,/ 从而/ 达到最佳/ 的/ 节能/ 效果/ ./ (/ 4/ )/ 针对/ 虚拟化/ 主机/ 的/ 温度/ 建模/ ./ 随着/ 云/ 计算/ 的/ 兴起/ ,/ 通过/ 虚拟机/ 迁移/ 实现/ 服务器/ 整合/ 以及/ 节能/ 管理/ 将/ 成为/ 未来/ 的/ 主流/ ,/ 因此/ 对/ 虚拟机/ 的/ 温度/ 建模/ 显得/ 尤为重要/ ./ 以往/ 的/ 温度/ 建模/ 大多/ 停留/ 在/ 对/ 任务/ 、/ 负载/ 及/ 服务器/ 功率/ 的/ 分配/ 和/ 调节/ 上/ ,/ 而/ 缺少/ 面向/ 虚拟机/ 的/ 温度/ 建模/ ./ 由于/ 虚拟机/ 运行/ 在/ 物理/ 机上/ 时/ ,/ 对于/ 资源/ 的/ 利用率/ (/ 如/ CPU/ 利用率/ )/ 并/ 没有/ 一个/ 简单/ 的/ 线性关系/ ./ 因此/ ,/ 以/ 虚拟机/ 为/ 粒度/ 进行/ 温度/ 建模/ ,/ 并/ 综合/ 考虑/ 虚拟机/ 上/ 不同/ 工作/ 负载/ 的/ 特征/ ,/ 如/ CPU/ 密集/ 、/ 存储/ 密集/ 、/ I/ // O/ 密集/ 等等/ ,/ 是/ 非常/ 必要/ 的/ ,/ 对/ 绿色/ 数据中心/ 节能/ 管理/ 具有/ 重要/ 意义/ ./ (/ 5/ )/ 面向/ 虚拟机/ 的/ 热量/ 管理机制/ 研究/ ./ 虚拟化/ 技术/ 因/ 具有/ 高可用性/ 、/ 灵活/ 部署/ 、/ 低/ 管理/ 开销/ 等/ 诸多方面/ 的/ 优点/ ,/ 成为/ 绿色/ 数据中心/ 的/ 重要/ 技术/ ./ 数据中心/ 的/ 任务调度/ 和/ 迁移/ 大多/ 采用/ 虚拟化/ 技术/ 进行/ ,/ 因此/ ,/ 非常/ 有/ 必要/ 对/ 面向/ 虚拟机/ 的/ 热量/ 管理机制/ 进行/ 研究/ ./ (/ 6/ )/ 建立/ 针对/ 云/ 环境/ 下/ 任务/ 特征/ 的/ 温度/ 模型/ ./ 不同/ 的/ 任务/ 类型/ 在/ 运行/ 时/ 对/ 温度/ 的/ 影响/ 各不相同/ ./ 例如/ 网站/ 服务/ 、/ 搜索引擎/ 、/ 数据检索/ 的/ 任务/ 往往/ 时间/ 较/ 短/ ,/ 频率/ 较/ 高/ ;/ 而/ 高性能/ 计算/ 往往/ 时间/ 较长/ 、/ 资源/ 利用率/ 高/ ./ 在/ 此基础/ 上/ ,/ 结合/ 云/ 计算环境/ 下/ 的/ 虚拟化/ 场景/ ,/ 建立/ 任务/ 的/ 温度/ 模型/ ,/ 是/ 很/ 有意思/ 的/ 问题/ ./ (/ 7/ )/ 考虑/ 异构/ 环境/ 的/ 多/ 节点/ 热量/ 管理策略/ 研究/ ./ 大多数/ 面向/ 多/ 节点/ 的/ 热量/ 管理策略/ 为/ 将/ 问题/ 简化/ ,/ 只/ 考虑/ 同构/ 的/ 数据中心/ ,/ 即/ 各/ 物理/ 节点/ 结构/ 一致/ ./ 随着/ 高/ 扩展性/ 、/ 动态/ 、/ 异构/ 成为/ 主要/ 绿色/ 数据中心/ 的/ 新/ 趋势/ ,/ 这些/ 方法/ 很大/ 程度/ 还有/ 继续/ 研究/ 和/ 提升/ 的/ 空间/ ./ (/ 8/ )/ 多维度/ 的/ 热量/ 管理策略/ 研究/ ./ 目前/ 的/ 工作/ 一般/ 只/ 考虑/ 服务器/ 的/ 能耗/ 和/ 制冷/ 能耗/ 两个/ 部分/ ./ 单/ 就/ 服务器/ 而言/ ,/ 在/ 大多数/ 情况/ 下/ ,/ 也/ 仅仅/ 是/ 考虑/ 到/ CPU/ 的/ 能耗/ ./ 在/ 接下来/ 的/ 热量/ 管理/ 研究/ 发展/ 中/ ,/ 强调/ 更加/ 全面/ 地/ 综合/ 管理/ ,/ 会/ 取得/ 更好/ 的/ 效果/ ./ (/ 9/ )/ 将/ 云/ 计算环境/ 下/ 的/ 应用/ 场景/ 与/ 传统/ 的/ CFD/ 建模/ 技术相结合/ ./ 传统/ 的/ CFD/ 建模/ 主要/ 考虑/ 静态/ 的/ 情况/ ,/ 即/ 数据中心/ 的/ 布局/ 、/ 功率/ 保持/ 相对/ 稳定/ ./ 这/ 已/ 不再/ 直接/ 适用/ 于/ 绿色/ 数据中心/ 现状/ ./ 在/ CFD/ 建模/ 时/ 考虑/ 绿色/ 数据中心/ 的/ 多/ 租户/ 、/ 多任务/ 、/ 动态性/ 是/ 非常/ 有/ 意义/ 的/ 研究/ ./ (/ 10/ )/ 建立/ 适用性/ 强/ 、/ 多维度/ 的/ 评价/ 体系/ ./ 目前/ 数据中心/ 的/ 能耗/ 及/ 温度/ 评价/ 方法/ 和/ 机制/ 大多/ 相对/ 片面/ 或仅/ 考虑/ 数据中心/ 的/ 某个/ 单独/ 方面/ ./ 有/ 必要/ 建立/ 整套/ 的/ 体系化/ 的/ 评价/ 方法/ ,/ 用于/ 不同/ 数据中心/ 的/ 综合/ 评定/ 和/ 比较/ ./ 

