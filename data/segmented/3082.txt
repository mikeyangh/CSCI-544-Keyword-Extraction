Page1/ 基于/ 复用/ 计算/ 的/ 大/ 纹理/ 实时/ 合成/ 陈昕/ 1/ )/ ,/ 2/ )/ 王文成/ 1/ )/ 1/ )/ (/ 中国科学院/ 软件/ 研究所/ 计算机科学/ 国家/ 重点/ 实验室/ 北京/ 100190/ )/ 2/ )/ (/ 中国科学院/ 研究生院/ 北京/ 100039/ )/ 摘要/ 文中/ 提出/ 一种/ 基于/ 复用/ 计算/ 的/ 纹理/ 合成/ 方法/ ,/ 逐步/ 地/ 利用/ 已/ 合成/ 的/ 部分/ 纹理/ 来/ 生成/ 更大/ 的/ 纹理/ 块/ ,/ 以/ 进行/ 后续/ 的/ 纹理/ 合成/ 计算/ ./ 由此/ ,/ 该/ 方法/ 可/ 节省/ 大量/ 耗时/ 的/ 纹理/ 块/ 选择/ 及/ 缝合/ 计算/ ,/ 提高/ 了/ 合成/ 效率/ ./ 实验/ 表明/ ,/ 新/ 方法/ 可/ 实时/ 合成/ 2048/ ×/ 2048/ 像素/ 的/ 大/ 纹理/ ,/ 而已/ 有/ 工作/ 至多/ 只能/ 以/ 交互/ 的/ 速度/ 进行/ 这样/ 的/ 合成/ ./ 关键词/ 纹理/ 合成/ ;/ 复用/ 计算/ ;/ 实时/ 合成/ ;/ 大/ 纹理/ ;/ 块/ 合成/ 方法/ 1/ 引言/ 纹理/ 合成/ 旨在/ 由/ 输入/ 的/ 小块/ 样本/ 纹理/ 生成/ 视觉/ 上/ 相似/ 的/ 大块/ 纹理/ ,/ 以/ 有效/ 重用/ 光照/ 信息/ ,/ 提高/ 绘制/ 效率/ ./ 尽管/ 已有/ 的/ 方法/ 已/ 能够/ 实时/ 地/ 生成/ 中等/ 尺寸/ 的/ 纹理/ ,/ 但/ 对于/ 一些/ 需要/ 使用/ 大规模/ 纹理/ 的/ 场景/ 以及/ 某些/ 对/ 速度/ 要求/ 更为/ 严格/ 的/ 应用/ ,/ 已有/ 工作/ 的/ 合成/ 速度/ 仍/ 难以达到/ 要求/ ,/ 制约/ 了/ 纹理/ 合成/ 技术/ 的/ 推广应用/ ./ 因此/ ,/ 尽可能/ 提高/ 纹理/ 合成/ 速度/ ,/ 始终/ 是/ 国际/ 上/ 探讨/ 的/ 热点问题/ ./ 目前/ ,/ 大多数/ 的/ 纹理/ 合成/ 方法/ 都/ 遵循/ Markov/ 概率模型/ ,/ 即/ 纹理/ 中/ 任一/ 位置/ 的/ 色彩/ 只/ 由/ 其/ 局部/ 有限/ 邻域/ 的/ 情况/ 决定/ ./ 因此/ ,/ 根据/ 邻域/ 情况/ 就/ 能/ 逐步/ 地/ 扩展/ ,/ 完成/ 目标/ 纹理/ 的/ 生成/ ./ 而/ 邻域/ 搜索/ 的/ 效率/ 就/ 成为/ 决定/ 纹理/ 合成/ 效率/ 的/ 一个/ 关键因素/ ./ 为此/ ,/ 人们/ 提出/ 了/ 大量/ 加速/ 搜索/ 技术/ ,/ 如用/ 树结构/ 组织/ 纹理/ 的/ 邻域/ 空间/ [/ 1/ ]/ 、/ 用/ K/ -/ coherence/ 来/ 限定/ 每次/ 只/ 搜索/ 最/ 相关/ 的/ 少量/ 数据/ [/ 2/ ]/ 等/ ./ 这些/ 早期/ 的/ 纹理/ 合成/ 技术/ ,/ 每次/ 只是/ 根据/ 邻域/ 生成/ 一个/ 新/ 像素/ 的/ 色彩/ ,/ 能/ 较/ 好/ 地/ 反映/ 纹理/ 变化/ 的/ 丰富性/ ,/ 但/ 对于/ 纹理/ 结构化/ 信息/ 的/ 保持/ 以及/ 快速/ 计算/ 是/ 不利/ 的/ ./ 为此/ ,/ 2000/ 年/ 以后/ ,/ 基于/ 块/ 的/ 纹理/ 合成/ 方法/ 逐渐/ 发展/ 起来/ ./ 块/ 合成/ 方法/ 每次/ 可/ 根据/ 邻域/ 的/ 情况/ 生成/ 一个/ 包含/ 很多/ 像素/ 的/ 纹理/ 块/ ,/ 这能/ 很/ 好/ 地/ 加快/ 合成/ 速度/ ,/ 并/ 有利于/ 保持/ 纹理/ 块/ 内部/ 的/ 结构化/ 信息/ [/ 3/ -/ 4/ ]/ ./ 2003/ 年/ 提出/ 的/ WangTiles/ 方法/ [/ 5/ ]/ ,/ 事先/ 对/ 纹理/ 块/ 之间/ 的/ 可/ 拼接/ 性/ 组合/ 进行/ 预处理/ ,/ 使得/ 合成/ 计算/ 时/ 不/ 进行/ 邻域/ 搜索/ 的/ 计算/ ,/ 由此/ 能/ 进一步提高/ 合成/ 速度/ ,/ 但/ 该/ 方法/ 可/ 处理/ 的/ 纹理/ 种类/ 不/ 多/ ,/ 且/ 合成/ 质量/ 不是/ 很/ 高/ ./ 近年来/ ,/ 随着/ 图形/ 加速/ 硬件/ 的/ 快速/ 发展/ ,/ 相继/ 提出/ 了/ 一些/ 并行/ 化/ 的/ 纹理/ 合成/ 方法/ ,/ 以/ 利用/ GPU/ 的/ 并行计算/ 能力/ ./ 2005/ 年/ 提出/ 的/ 并行/ 可控/ 纹理/ 合成/ 技术/ [/ 6/ ]/ ,/ 将/ 串行/ 的/ 约束/ 关系/ 转换/ 为/ 图像/ 金字塔/ 各层间/ 的/ 约束/ 关系/ ,/ 由此/ 可/ 逐步求精/ 地/ 利用/ GPU/ 并行/ 地/ 计算/ ,/ 以/ 获得/ 很/ 高/ 的/ 速度/ ,/ 这是/ 目前/ 已知/ 的/ 合成/ 速度/ 最快/ 的/ 方法/ 之一/ ./ 最近/ ,/ 文献/ [/ 7/ ]/ 采用/ 了/ 一种/ 新/ 的/ 邻域/ 约束/ 计算/ 方式/ ,/ 可/ 在/ GPU/ 上/ 并行/ 地/ 实现/ 块/ 纹理/ 合成/ ,/ 取得/ 了/ 比/ 文献/ [/ 6/ ]/ 的/ 方法/ 更/ 高/ 的/ 合成/ 速度/ ,/ 但/ 对于/ 2048/ ×/ 2048/ 这样/ 的/ 大/ 纹理/ 也/ 只能/ 以/ 交互/ 速度/ 生成/ ./ 本文/ 提出/ 一种/ 新/ 的/ 合成/ 方法/ ,/ 以/ 有效/ 复用/ 已/ 合成/ 的/ 部分/ 纹理/ 来/ 加快/ 合成/ 计算/ ./ 其/ 基本/ 步骤/ 是/ :/ 先/ 利用/ 文献/ [/ 7/ ]/ 的/ 方法/ 生成/ 目标/ 纹理/ 上/ 的/ 一小块/ 纹理/ ,/ 然后/ 迭代/ 地/ 根据/ 已/ 生成/ 的/ 纹理/ 获取/ 尺寸/ 更大/ 的/ 纹理/ 块/ ,/ 以/ 进行/ 目标/ 纹理/ 余下/ 部分/ 的/ 合成/ ./ 在/ 此/ 过程/ 中/ ,/ 为/ 保证/ 纹理/ 块/ 生成/ 和/ 复用/ 的/ 有效/ 进行/ ,/ 我们/ 运用/ 文献/ [/ 8/ ]/ 的/ 工作/ 对/ 样本/ 纹理/ 进行/ 周期性/ 分析/ ,/ 以使/ 所/ 生成/ 的/ 纹理/ 块/ 尺寸/ 能/ 高效/ 地/ 反映/ 纹理/ 特征/ 变化/ 的/ 周期性/ ,/ 由此/ 提高/ 纹理/ 合成/ 的/ 质量/ ./ 同时/ ,/ 我们/ 还/ 引入/ 扰动/ 及/ 带有/ 约束/ 的/ 随机/ 选块/ 计算/ ,/ 以/ 增加/ 纹理/ 合成/ 的/ 多样性/ ,/ 进一步/ 改善/ 质量/ ./ 由于/ 大量/ 纹理/ 块/ 的/ 选择/ 计算/ 和/ 缝合/ 计算/ 的/ 结果/ 可/ 被/ 重复使用/ ,/ 因此/ ,/ 新/ 方法/ 的/ 速度/ 很快/ ./ 实验/ 表明/ ,/ 新/ 方法/ 合成/ 速度/ 很快/ ,/ 能/ 实时/ 地/ 合成/ 2048/ ×/ 2048/ 像素/ 的/ 大/ 纹理/ ,/ 并/ 具有/ 很/ 高/ 的/ 质量/ ./ 本文/ 在/ 第/ 2/ 节对/ 相关/ 工作/ 进行/ 对比/ 讨论/ ,/ 在/ 第/ 3/ 节对/ 新/ 方法/ 进行/ 详细/ 的/ 介绍/ ,/ 然后/ ,/ 在/ 第/ 4/ 节对/ 实验/ 结果/ 进行/ 分析/ ,/ 并/ 在/ 第/ 5/ 节/ 进行/ 总结/ ./ 2/ 相关/ 工作/ 根据/ 处理/ 对象/ 的/ 不同/ ,/ 纹理/ 合成/ 方法/ 可/ 分为/ 两类/ :/ 点/ 合成/ 方法/ [/ 1/ -/ 2/ ,/ 6/ ,/ 9/ ]/ 和/ 块/ 合成/ 方法/ [/ 3/ -/ 5/ ,/ 10/ ]/ ./ 点/ 合成/ 方法/ 每次/ 生成/ 一个/ 像素点/ 的/ 色彩/ ,/ 而块/ 合成/ 方法/ 则/ 是/ 每次/ 生成/ 一个/ 包含/ 许多/ 像素/ 的/ 纹理/ 块/ ./ 一般而言/ ,/ 点/ 合成/ 方法/ 便于/ 反映/ 纹理/ 变化/ 的/ 多样性/ ,/ 但/ 不利于/ 保持/ 纹理/ 的/ 结构化/ 信息/ ,/ 且/ 合成/ 速度/ 相对/ 较慢/ ;/ 而块/ 合成/ 方法/ 的/ 速度/ 较/ 快/ ,/ 能/ 较/ 好/ 地/ 保持/ 块/ 内/ 的/ 纹理/ 特征/ 信息/ ,/ 但块/ 之间/ 的/ 色彩/ 过渡/ 可能/ 不/ 很/ 平滑/ ,/ 会/ 引起/ 合成/ 质量/ 的/ 下降/ ./ 本文/ 提出/ 的/ 方法/ 是/ 一个/ 基于/ 块/ 的/ 合成/ 方法/ ,/ 它/ 与/ 相关/ 工作/ 的/ 比较/ ,/ 在/ 下面/ 分别/ 讨论/ ./ 块/ 纹理/ 合成/ 方法/ 有/ 很多/ ,/ 其中/ 文献/ [/ 3/ ]/ 的/ 方法/ 和/ 文献/ [/ 4/ ]/ 的/ 方法/ 是/ 最早/ 提出/ 的/ 两种/ 基于/ 邻域/ 搜索/ 的/ 块/ 合成/ 方法/ ./ 其中/ ,/ 文献/ [/ 3/ ]/ 的/ 方法/ 通过/ 寻找/ 相邻/ 块/ 在/ 重叠/ 区域/ 的/ 最小/ 误差/ 接缝/ 进行/ 块/ 的/ 缝合/ ,/ 而/ 文献/ [/ 4/ ]/ 的/ 方法/ 则/ 对/ 重叠/ 区域/ 进行/ “/ 羽化/ ”/ (/ feathering/ )/ 的/ 色彩/ 融合/ 计算/ ./ 2003/ 年/ ,/ 文献/ [/ 10/ ]/ 提出/ 的/ 基于/ GraphCut/ 的/ 方法/ ,/ 将/ 重叠/ 区域/ 的/ 缝合/ 当作/ 最大/ 流/ // 最小/ 割/ 问题/ 进行/ 处理/ ,/ 进一步/ 改善/ 了/ 质量/ ./ 同年/ 提出/ 的/ WangTiles/ 方法/ [/ 5/ ]/ ,/ 则/ 在/ 预计/ 算时/ 求出/ 纹理/ 块/ 之间/ 可/ 组合/ 拼接/ 的/ 模式/ ,/ 以便/ 在/ 合成/ 计算/ 时/ 节省/ 邻域/ 搜索/ 的/ 开销/ ,/ 取得/ 了/ 很/ 高/ 的/ 合成/ 速度/ ,/ 但/ 由于/ 其所/ 生成/ 的/ 可/ 组合/ 拼接/ 的/ 纹理/ 块/ 集合/ 一般/ 不/ 大/ ,/ 合成/ 结果/ 缺乏/ 多样性/ 且/ 可/ 适用/ 的/ 纹理/ 类型/ 不多/ ./ 以上/ 这些/ 方法/ 合成/ 时均/ 采用/ 固定/ 的/ 块/ 尺寸/ ,/ 并/ 逐块/ 地/ 进行/ 匹配/ 搜索/ ./ 而/ 本文/ 方法/ 在/ 合成/ 过程/ 中/ 不断扩大/ 纹理/ 块/ 的/ 尺寸/ ,/ 有利于/ 减少/ 合成/ 过程/ 需要/ 计算/ 的/ 纹理/ 块/ 数目/ ,/ 以/ 更好/ 地/ 加速/ ,/ 并/ 对/ 大多数/ 纹理/ 有效/ ./ Page3/ 邻域/ 搜索/ 是/ 合成/ 计算/ 中/ 开销/ 最大/ 的/ 部分/ ,/ 是/ 加速/ 方法/ 研究/ 的/ 重点/ 内容/ ./ 文献/ [/ 1/ ]/ 提出/ 固定/ 邻域/ 尺寸/ 的/ 大小/ ,/ 以便/ 于/ 建立/ 树结构/ 进行/ 管理/ ,/ 从而/ 提高/ 邻域/ 检索/ 的/ 效率/ 的/ 思想/ ./ K/ -/ coherence/ 方法/ 虽然/ 最先/ 在/ 点/ 合成/ 方法/ 中/ 提出/ [/ 2/ ]/ ,/ 但/ 也/ 可/ 在/ 块/ 合成/ 方法/ 中/ 得到/ 应用/ ./ 该/ 方法/ 预先/ 为/ 每个/ 纹理/ 块/ 计算/ 出/ 可/ 拼接/ 的/ K/ 个/ 最/ 相似/ 纹理/ 块/ ,/ 合成/ 计算/ 时/ 只/ 在/ 该/ 集合/ 中/ 寻找/ 合适/ 的/ 纹理/ 块/ ,/ 以/ 降低/ 搜索/ 空间/ ./ JumpMap/ 方法/ [/ 11/ ]/ 则/ 是/ 为/ 每个/ 纹理/ 块/ 记录/ 可/ 与其/ 拼接/ 的/ 下/ 一个/ 纹理/ 块/ 的/ 可能/ 的/ 位置/ 集合/ ,/ 以便/ 合成/ 计算/ 时/ 随机/ 选用/ ,/ 而/ 不/ 进行/ 邻域/ 匹配/ 的/ 计算/ ./ 文献/ [/ 7/ ]/ 为/ 每个/ 纹理/ 块/ 预先/ 建立/ 可/ 拼接/ 的/ 纹理/ 块/ 集合/ ,/ 将/ 搜索/ 计算/ 简化/ 为求/ 交/ 计算/ ,/ 能/ 进一步提高/ 邻域/ 搜索/ 的/ 效率/ ,/ 且/ 可/ 并行/ 实现/ ,/ 但/ 需要/ 逐块/ 的/ 执行/ 邻域/ 匹配/ 计算/ ./ 本文/ 工作/ 在/ 生成/ 目标/ 纹理/ 的/ 初始/ 区域/ 时/ 采用/ 文献/ [/ 7/ ]/ 的/ 邻域/ 搜索/ 方法/ ,/ 但/ 在/ 其它/ 区域/ 合成/ 时/ 是/ 基于/ 复用/ 计算/ 的/ ,/ 可/ 节省/ 大量/ 的/ 纹理/ 块/ 搜索/ 计算/ ,/ 具有/ 更快/ 的/ 合成/ 速度/ ./ 随着/ 图形/ 硬件/ 的/ 发展/ ,/ 利用/ GPU/ 加速/ 合成/ 的/ 方法/ 得到/ 越来越/ 多/ 的/ 关注/ ./ 2004/ 年/ ,/ 文献/ [/ 12/ ]/ 将/ WangTiles/ 方法/ 并行/ 化以/ 在/ 图形/ 硬件/ 上/ 高速/ 实现/ ,/ 但/ 其/ 所/ 适用/ 的/ 纹理/ 种类/ 非常/ 有限/ ./ 2005/ 年/ ,/ Lefebvre/ 等/ 人/ 提出/ 并行/ 可控/ 纹理/ 合成/ 方法/ [/ 6/ ]/ ,/ 建立/ 高斯/ 图像/ 堆栈/ 对/ 纹理/ 进行/ 逐步求精/ 的/ 计算/ ,/ 能/ 很/ 好/ 地/ 利用/ GPU/ 进行/ 并行计算/ ,/ 这是/ 目前/ 所知/ 的/ 最快/ 的/ 纹理/ 合成/ 方法/ 之一/ ./ 为/ 提高/ 其/ 合成/ 质量/ ,/ 文献/ [/ 9/ ]/ 将/ 邻域/ 信息/ 也/ 记录/ 并/ 参与/ 合成/ 计算/ 中/ ,/ 尽管/ 引入/ 了/ 多种/ 加速/ 策略/ ,/ 但/ 也/ 只能/ 以/ 交互/ 的/ 速度/ 合成/ 512/ ×/ 512/ 像素/ 的/ 纹理/ ./ 2008/ 年/ 提出/ 的/ 多/ 尺度/ 纹理/ 合成/ 方法/ [/ 13/ ]/ ,/ 以/ 文献/ [/ 6/ ]/ 的/ 工作/ 为/ 基础/ ,/ 可/ 实现/ 多/ 尺度/ 纹理/ 的/ 合成/ ,/ 但/ 其/ 合成/ 质量/ 受/ 文献/ [/ 6/ ]/ 的/ 方法/ 的/ 影响/ ,/ 并/ 不是/ 很/ 高/ ./ 这些/ 并行/ 化/ 的/ 方法/ 大都/ 采用/ 了/ 多/ 分辨率/ 的/ 合成/ 模式/ ,/ 每层/ 内/ 也/ 需要/ 多次/ 迭代/ ,/ 限制/ 了/ 合成/ 速度/ 的/ 进一步提高/ ./ 本文/ 的/ 新/ 方法/ 对/ 所有/ 像素/ 只/ 需/ 处理/ 一遍/ ,/ 且/ 合成/ 过程/ 许多/ 步骤/ 也/ 可/ 并行/ 化/ 实现/ ,/ 因此/ 将/ 具有/ 更/ 高/ 的/ 合成/ 速度/ ./ 除/ 加速/ 技术/ 外/ ,/ 还有/ 许多/ 工作/ 着眼于/ 提高/ 纹理/ 合成/ 的/ 质量/ ./ 其中/ 基于/ 全局/ 优化/ 的/ 方法/ [/ 14/ ]/ 是/ 目前/ 合成/ 质量/ 最好/ 的/ 方法/ 之一/ ./ 该/ 方法/ 采用/ 全局/ 的/ 相似性/ 计算/ ,/ 降低/ 全局/ 误差/ ,/ 取得/ 了/ 很/ 好/ 的/ 合成/ 质量/ ,/ 但/ 合成/ 速度/ 很慢/ ./ 文献/ [/ 15/ ]/ 的/ 方法/ 通过/ 引入/ K/ -/ coher/ -/ ence/ 以及/ PCA/ 等/ 技术/ 使得/ 文献/ [/ 14/ ]/ 的/ 方法/ 可/ 在/ GPU/ 上/ 高速/ 实现/ ,/ 但/ 其/ 执行/ 仍/ 需要/ 多层/ 迭代/ ,/ 对/ 较大/ 尺寸/ 的/ 纹理/ 只能/ 以/ 交互/ 速度/ 合成/ ./ 新/ 方法/ 采用/ 了/ 复用/ 的/ 思想/ ,/ 能够/ 有效/ 地/ 利用/ 已有/ 的/ 合成/ 结果/ ,/ 减少/ 选块/ 以及/ 缝合/ 的/ 时间/ 开销/ ;/ 同时/ ,/ 新/ 方法/ 充分考虑/ 了/ 纹理/ 的/ 周期性/ 特征/ ,/ 能/ 很/ 好/ 地/ 保持/ 纹理/ 的/ 全局性/ 特征/ ,/ 以/ 生成/ 高质量/ 的/ 纹理/ ./ 此外/ ,/ 一些/ 纹理/ 分析方法/ 也/ 可/ 很/ 好/ 地/ 提高/ 纹理/ 合成/ 的/ 效率/ ./ 其中/ ,/ 文献/ [/ 8/ ]/ 提出/ 了/ 一种/ 优化/ 块/ 合成/ 参数/ 的/ 方法/ ,/ 选择/ 能够/ 较/ 好/ 地/ 反映/ 样本/ 纹理/ 中/ 的/ 特征/ 分布/ 情况/ ,/ 有效/ 地/ 提高/ 了/ 纹理/ 合成/ 的/ 效率/ ./ 本文/ 也/ 采用/ 了/ 类似/ 文献/ [/ 8/ ]/ 的/ 参数/ 优化/ 方法/ ,/ 以/ 改善/ 合成/ ./ 3/ 基于/ 复用/ 的/ 块/ 纹理/ 合成/ 方法/ 纹理/ 是/ 具有/ 一定/ 重复/ 模式/ 的/ 图像/ ,/ 往往/ 含有/ 某种/ 周期性/ 特征/ ./ 因此/ ,/ 合成/ 过程/ 中/ 很多/ 信息/ 也/ 会/ 呈/ 一定/ 周期性地/ 出现/ ,/ 可/ 加以/ 重复/ 利用/ ,/ 以/ 提高/ 合成/ 效率/ ./ 为此/ ,/ 本文/ 提出/ 一种/ 计算/ 方式/ ,/ 以/ 有效/ 地/ 复用/ 纹理/ 合成/ 过程/ 中/ 已/ 合成/ 的/ 部分/ 纹理/ 结果/ ,/ 促进/ 合成/ 效率/ 的/ 进一步提高/ ./ 3.1/ 方法/ 概述/ 新/ 方法/ 的/ 工作/ 步骤/ 是/ :/ 先/ 在/ 目标/ 纹理/ 上/ 按照/ 邻域/ 匹配/ 搜索/ 的/ 方式/ 合成/ 一个/ 小/ 的/ 初始/ 区域/ ,/ 然后/ ,/ 对/ 其余部分/ 则/ 重复/ 利用/ 已有/ 的/ 合成/ 结果/ ,/ 从/ 已/ 合成/ 部分/ 中/ 选择/ 更大/ 的/ 纹理/ 块/ 进行/ 填充/ ,/ 其/ 工作/ 流程/ 如图/ 1/ 所示/ ./ 图中/ 左上/ 的/ 蓝色/ 区域/ 为/ 初始/ 合成/ 的/ 纹理/ 区域/ ,/ 而/ 红/ 、/ 黄/ 、/ 蓝/ 3/ 色/ 的/ 虚/ 线框/ 则/ 表示/ 复用/ 计算/ 时/ ,/ 从/ 已/ 合成/ 纹理/ 中/ 选取/ 的/ 新/ 的/ 大/ 纹理/ 块/ ./ 这些/ 新/ 选取/ 的/ 纹理/ 块/ ,/ 将/ 被/ 填入/ 到/ 未/ 合成/ 区域/ 中/ ,/ 形成/ 一个/ 扩大/ 的/ 连续/ 的/ 已/ 合成/ 的/ 纹理/ 区域/ ,/ 以/ 完成/ 1/ 次/ 复用/ 计算/ ./ 这样/ 的/ 复用/ 计算/ 可/ 迭代/ 地/ 从/ 已/ 合成/ 部分/ 生成/ 更大/ 的/ 纹理/ 块/ ,/ 去/ 合成/ 待/ 合成/ 的/ 区域/ ./ 合成/ 初始/ 区域/ 时/ ,/ 我们/ 采用/ 了/ 类似/ 文献/ [/ 7/ ]/ 中/ 的/ 方法/ ./ 根据/ 优化/ 的/ 纹理/ 块/ 参数/ 选取/ 纹理/ 块/ ,/ 并/ 按照/ 相位/ 以及/ 样本/ 的/ 相似性/ 对/ 纹理/ 块/ 进行/ 组织/ ./ 这里/ 所说/ 的/ 纹理/ 相位/ 是/ 仿照/ 周期函数/ 的/ 描述/ ,/ 对/ 样本/ 纹理/ 进行/ 一次/ 按块/ 大小/ 的/ 均匀/ 划分/ 所得/ 的/ 纹理/ 块/ ,/ 就是/ 同一/ 相位/ 的/ 纹理/ 块/ ;/ 不同/ 位置/ 的/ 划分/ ,/ 就/ 产生/ 不同/ 相位/ 的/ 纹理/ 块/ ./ 此外/ ,/ 相似/ 的/ 纹理/ 块/ 也/ 被/ 认为/ 是/ 同一/ 相位/ 的/ ./ 合成/ 时/ ,/ 随机/ 选择/ 一个/ 纹理/ 块/ ,/ 并/ 随机/ 抽取/ 与其/ 相位/ 相近/ 的/ 纹理/ 块/ 在/ 该/ 区域/ 均匀/ 地/ 间隔/ 地布块/ ,/ 然后/ 再/ 对/ 空白/ 区域/ 进行/ 填充/ ./ 在/ 对/ 空白/ 区域/ 填充/ 时/ ,/ 各个/ 空白/ 区域/ 可/ 独立/ 地/ 根据/ 其/ 周围/ 已/ 分布/ 纹理/ 情况/ 进行/ 匹配/ 性/ 计算/ 来/ 找到/ 合适/ 的/ 纹理/ 块/ 进行/ 填充/ ./ 显然/ ,/ 间隔/ 布块/ 和/ 空白/ 区域/ 的/ 填充/ 这/ 两步/ 计算/ 都/ 是/ 可/ 并行/ 进行/ 的/ ./ Page4/ 图/ 1/ 基于/ 复用/ 的/ 一次/ 合成/ 计算/ 关于/ 初始/ 纹理/ 的/ 生成/ 以及/ 基于/ 复用/ 的/ 合成/ 将/ 分别/ 在/ 3.3/ 和/ 3.4/ 节中/ 详细/ 介绍/ ./ 在此之前/ ,/ 我们/ 在/ 3.2/ 节先/ 介绍/ 纹理/ 块/ 参数/ 的/ 优化/ 选择/ ./ 3.2/ 纹理/ 块/ 参数/ 的/ 优化/ 纹理/ 块/ 的/ 大小/ 尺寸/ 和/ 相邻/ 块/ 之间/ 的/ 重叠/ 区域/ 宽度/ 等/ 参数/ 对块/ 合成/ 方法/ 的/ 合成/ 效率/ 有/ 很大/ 影响/ ./ 对此/ ,/ 文献/ [/ 8/ ]/ 进行/ 了/ 深入/ 的/ 探讨/ ,/ 并/ 提出/ 了/ 一种/ 参数/ 优化/ 的/ 算法/ ,/ 可以/ 获得/ 能/ 很/ 好/ 反映/ 纹理/ 特征/ 周期性/ 变化/ 的/ 块/ 尺寸/ 大小/ 和/ 有效/ 约束/ 搜索/ 的/ 重叠/ 区域/ 的/ 宽度/ ./ 本文/ 采用/ 了/ 类似/ 文献/ [/ 8/ ]/ 的/ 参数/ 优化/ 方法/ ,/ 并/ 略作/ 调整/ ./ 该/ 方法/ 主要/ 是/ 探测/ 不同/ 尺寸/ 和/ 矩形/ 形状/ 的/ 纹理/ 块/ 划分/ 对/ 样本/ 纹理/ 周期性/ 全局/ 特征/ 的/ 反映/ 程度/ ,/ 以此/ 来/ 决定/ 纹理/ 块/ 的/ 划分/ ./ 具体/ 地/ ,/ 要/ 进行/ 两种/ 度量/ :/ 纹理/ 块/ 的/ 信息/ 包容性/ 度量/ 和/ 纹理/ 块/ 的/ 周期性/ 度量/ ,/ 并/ 以/ 这/ 两种/ 度量/ 的/ 结果/ 都/ 比较/ 好/ 的/ 纹理/ 块/ 大小/ 作为/ 优化/ 的/ 纹理/ 块/ 尺寸/ ./ 一般/ 地/ ,/ 我们/ 可以/ 找到/ 多个/ 符合条件/ 的/ 块/ 尺寸/ ./ 从/ 合成/ 速度/ 方面/ 考虑/ ,/ 文献/ [/ 8/ ]/ 倾向/ 于/ 选择/ 较大/ 的/ 块/ 尺寸/ ./ 但是/ ,/ 过大/ 的/ 块/ 尺寸/ ,/ 会/ 减少/ 纹理/ 块/ 的/ 数目/ ,/ 降低/ 合成/ 纹理/ 的/ 多样性/ ,/ 并/ 降低/ 邻接/ 块/ 之间/ 缝合/ 的/ 效率/ ./ 因此/ ,/ 实现/ 新/ 方法/ 时/ ,/ 我们/ 通常/ 选择/ 样本/ 纹理/ 尺寸/ 大小/ 在/ 1/ // 4/ 至/ 1/ // 2/ 之间/ 的/ 那些/ 符合条件/ 的/ 块/ 尺寸/ ,/ 作为/ 纹理/ 块/ 划分/ 的/ 尺寸/ ./ 关于/ 重叠/ 区域/ 宽度/ 的/ 尺寸/ ,/ 文献/ [/ 8/ ]/ 的/ 方法/ 是/ 考察/ 每种/ 宽度/ 下/ 的/ 重叠/ 区域/ 对/ 纹理/ 块/ 进行/ 区分/ 的/ 效率/ ,/ 并/ 选用/ 高效/ 的/ 宽度/ 作为/ 重叠/ 区域/ 的/ 宽度/ ./ 对于/ 一种/ 宽度/ 而言/ ,/ 如果/ 该/ 宽度/ 下/ 的/ 重叠/ 区域/ 相似/ ,/ 则/ 它们/ 对应/ 的/ 纹理/ 块/ 也/ 相似/ ,/ 反之/ ,/ 则/ 不是/ ,/ 那么/ 这样/ 的/ 宽度/ 就是/ 高效/ 的/ ./ 文献/ [/ 8/ ]/ 对/ 纹理/ 块/ 的/ 重叠/ 区域/ 分为/ 左/ 边界/ 、/ 上/ 边界/ 和/ 左上/ 边界/ ,/ 分别/ 计算/ ./ 但/ 为/ 简化/ 缝合/ 计算/ 的/ 复杂性/ ,/ 本文/ 则/ 进行/ 统一/ 的/ 一种/ 宽度/ 的/ 计算/ ,/ 经/ 实验/ 表明/ ,/ 对/ 合成/ 质量/ 影响/ 不大/ ./ 3.3/ 初始/ 纹理/ 区域/ 的/ 合成/ 新/ 方法/ 首先/ 合成/ 一个/ 较/ 小/ 的/ 纹理/ 区域/ ,/ 而/ 其余部分/ 则/ 根据/ 已/ 合成/ 结果/ 进行/ 复/ 用来/ 合成/ ./ 这里/ ,/ 我们/ 采用/ 类似/ 文献/ [/ 7/ ]/ 的/ 邻域/ 约束/ 方式/ ,/ 以/ 进行/ 初始/ 区域/ 的/ 纹理/ 合成/ ./ 首先/ ,/ 在/ 该/ 区域/ 上/ 分布/ 一些/ 纹理/ 块/ ,/ 使得/ 水平/ 方向/ 以及/ 垂直/ 方向/ 的/ 纹理/ 块/ 之间/ 均/ 间隔/ 一个/ 块/ 大小/ 的/ 空白/ 区域/ ;/ 再/ 根据/ 周围/ 已/ 填入/ 的/ 块/ 的/ 情况/ ,/ 选取/ 合适/ 的/ 块/ 填入/ 空白/ 区域/ ,/ 以/ 完成/ 合成/ ./ 在/ 初始/ 布块/ 时/ ,/ 我们/ 选取/ 相位/ 相近/ 的/ 纹理/ 块/ 进行/ 布块/ ;/ 在/ 空白/ 区域/ 填充/ 时/ ,/ 为/ 样本/ 中/ 的/ 每个/ 纹理/ 块/ 预计/ 算出/ 可/ 与其/ 邻接/ 匹配/ 的/ 样本/ 块/ 的/ 集合/ (/ 称为/ 相容性/ 集合/ )/ ,/ 而/ 在/ 合成/ 时/ ,/ 就/ 根据/ 周围/ 已有/ 的/ 纹理/ 块/ ,/ 从/ 它们/ 各自/ 的/ 相容性/ 集合/ 的/ 交/ 集中/ 随机/ 选取/ 一块/ 即可/ ./ 对于/ 交集/ 为空/ 的/ 情况/ ,/ 则/ 选取/ 在/ 各/ 集合/ 中/ 出现/ 次数/ 最多/ 的/ 纹理/ 块/ ./ 实验/ 证明/ ,/ 这样/ 的/ 操作/ 对/ 合成/ 结果/ 的/ 质量/ 影响/ 不大/ ./ 此外/ ,/ 考虑/ 到/ 纹理/ 的/ 随机性/ ,/ 我们/ 引入/ 了/ 一个/ 类似/ 文献/ [/ 6/ ]/ 方法/ 中/ 的/ 随机性/ 算子/ Γ/ ,/ 先/ 如前所述/ 选出/ 一个/ 备选/ 块/ ,/ 再/ 在/ 这个/ 块/ 的/ 基础/ 上/ 在/ 其/ 距离/ Γ/ 范围/ 内/ 随机/ 选择/ 一个/ 块/ 作为/ 实际/ 填入/ 的/ 块/ ./ 而/ Γ/ 的/ 取值/ 可/ 根据/ 样本/ 的/ 不同/ 而/ 进行/ 调整/ ./ 这样/ 保证/ 了/ 合成/ 结果/ 既/ 能够/ 反映/ 样本/ 的/ 周期性/ 特征/ 又/ 能/ 体现/ 出其/ 随机性/ ./ 文献/ [/ 6/ ]/ 的/ 方法/ 及/ 本文/ 的/ 实验/ 结果/ 均/ 证实/ 了/ 其/ 有效性/ ./ 选定/ 了/ 纹理/ 块/ 后/ ,/ 需要/ 将/ 它们/ 写入/ 并/ 缝合/ 至/ 目标/ 纹理/ 中/ ./ 这里/ ,/ 我们/ 采用/ 了/ ”/ 羽化/ (/ featuring/ )/ ”/ 的/ 缝合/ 方法/ [/ 4/ ]/ ,/ 即/ 对/ 重叠/ 位置/ 的/ 像素/ 根据/ 其到/ 边界/ 的/ 距离/ 进行/ 色彩/ 的/ 线性插值/ 计算/ ./ 该/ 方法/ 计算/ 快捷/ ,/ 尽管/ 对于/ 一些/ 结构化/ 特征/ 较/ 强烈/ 的/ 纹理/ 缝合/ 结果/ 不够/ 理想/ ,/ 但/ 从/ 结果/ 来看/ ,/ 基本上/ 可以/ 保证/ 合成/ 结果/ 的/ 质量/ ./ 在/ 以上/ 的/ 合成/ 过程/ 中/ ,/ 布块/ 操作/ 和/ 空白/ 区域/ 填充/ 操作/ 中/ 各个/ 局部/ 之间/ 的/ 的/ 计算/ 相关性/ 很小/ ,/ 可/ 分别/ 并行计算/ ./ 为此/ ,/ 文献/ [/ 7/ ]/ 的/ 方法/ 将/ 其/ 在/ GPU/ 中/ Page5/ 实现/ ,/ 以/ 有效/ 利用/ GPU/ 的/ 并行计算/ 能力/ ./ 但是/ 在/ 块/ 的/ 写入/ 缝合/ 过程/ 中/ ,/ 具有/ 大量/ 的/ 连续/ 存储空间/ 的/ 读取/ ,/ 而/ GPU/ 的/ 逐/ 像素/ 处理/ 方式/ 使/ 其/ 无法/ 利用/ 这一/ 连续性/ ./ 为此/ ,/ 本文/ 方法/ 在/ 实现/ 时/ ,/ 充分考虑/ 这一/ 连续/ 存储/ 关系/ ,/ 并/ 在/ CPU/ 中/ 借助/ 多线程/ 等/ 并行/ 手段/ ,/ 对/ 这/ 一/ 合成/ 过程/ 进行/ 加速/ ./ 在/ 不/ 考虑/ 复用/ 的/ 情况/ 下/ ,/ 亦可/ 取得/ 较/ 文献/ [/ 7/ ]/ 的/ 方法/ 更/ 高/ 的/ 合成/ 速度/ ./ 3.4/ 基于/ 复用/ 计算/ 的/ 纹理/ 合成/ 新/ 方法/ 在/ 合成/ 过程/ 中/ ,/ 逐步/ 利用/ 已/ 合成/ 的/ 计算结果/ 来/ 生成/ 更大/ 的/ 纹理/ 块/ ,/ 以/ 完成/ 整个/ 纹理/ 的/ 合成/ ./ 图/ 1/ 是/ 一次/ 复用/ 计算/ 的/ 简单/ 示意图/ ./ 图中/ 左上/ 的/ 蓝色/ 区域/ 是/ 已/ 合成/ 的/ 纹理/ 区域/ ,/ 它/ 是/ 由/ 若干/ 小/ 纹理/ 块/ 缝合/ 拼接/ 而成/ 的/ ./ 为了/ 完成/ 余下/ 白色/ 区域/ 的/ 合成/ ,/ 我们/ 计算/ 新/ 的/ 纹理/ 块/ 尺寸/ ,/ 并/ 从/ 已/ 合成/ 的/ 蓝色/ 区域/ 中/ 选取/ 纹理/ 块/ 以/ 填充/ ./ 图中/ 蓝色/ 区域/ 上/ 的/ 红/ 、/ 黄/ 、/ 蓝三色/ 的/ 虚/ 线框/ 所/ 包含/ 的/ 区域/ 分别/ 代表/ 3/ 个/ 新/ 尺寸/ 的/ 纹理/ 块/ ,/ 选取/ 之后/ ,/ 分别/ 填入/ 未/ 合成/ 区域/ 的/ 对应/ 位置/ ./ 这里/ ,/ 新/ 的/ 纹理/ 块/ 尺寸/ 除去/ 重叠/ 区域/ 宽度/ e/ 的/ 因素/ ,/ 应/ 完整/ 地/ 包含/ 整数/ 个/ 初始/ 纹理/ 块/ ,/ 即/ 若/ 初始/ 合成/ 区域/ 合成/ 阶段/ 采用/ 的/ 块/ 尺寸/ 为/ (/ w/ ,/ h/ )/ ,/ 则/ 新/ 的/ 块/ 尺寸/ (/ w/ ,/ h/ )/ 应/ 满足/ w/ =/ a/ ×/ (/ w/ -/ e/ )/ +/ e/ ,/ h/ =/ b/ ×/ (/ w/ -/ e/ )/ +/ e/ ,/ a/ 和/ b/ 均/ 为/ 正整数/ ,/ 且/ a/ 、/ b/ 的/ 取值/ 随着/ 已/ 合成/ 区域/ 尺寸/ 的/ 增长/ 而/ 增大/ ,/ 增长/ 方式/ 可/ 根据/ 区域/ 增长/ 的/ 大小/ 进行/ 调整/ ,/ 本文/ 多/ 采用/ 成倍增长/ 的/ 方式/ ./ 这种/ 采用/ 大/ 纹理/ 块/ 的/ 方式/ ,/ 既/ 可以/ 减少/ 合成/ 中/ 需要/ 处理/ 的/ 纹理/ 块/ 的/ 数目/ ,/ 又/ 可以/ 有效/ 地/ 利用/ 已有/ 的/ 选块/ 和/ 缝合/ 结果/ ,/ 对/ 提高/ 纹理/ 合成/ 效率/ 非常/ 有利/ ./ 实现/ 中/ ,/ 我们/ 将/ 新块/ 的/ 尺寸/ 设为/ 已/ 合成/ 区域/ 长宽/ 的/ 各/ 一半/ ,/ 当已/ 合成/ 区域/ 的/ 长宽/ 各/ 扩大/ 一倍/ 后/ ,/ 我们/ 将/ 该/ 区域/ 作为/ 新/ 的/ 已/ 合成/ 区域/ ,/ 开始/ 下/ 一次/ 的/ 复用/ 计算/ ,/ 即/ 重新/ 计算/ 纹理/ 块/ 尺寸/ ,/ 并/ 选块/ 进行/ 下/ 一步/ 的/ 合成/ ./ 需要/ 说明/ 的/ 是/ ,/ 复用/ 阶段/ 选块/ 时/ ,/ 我们/ 只/ 需/ 按照/ 相位/ 的/ 标准/ 计算/ 一个/ 随机/ 的/ 块/ 位置/ 即可/ ,/ 而/ 无需/ 邻域/ 搜索/ 计算/ ./ 这是/ 得益于/ 以下/ 两/ 方面/ 的/ 工作/ :/ (/ 1/ )/ 预计/ 算时/ 我们/ 参照/ 文献/ [/ 8/ ]/ 的/ 方法/ 对块/ 参数/ 进行/ 了/ 优化/ 计算/ ,/ 使得/ 优化/ 后/ 的/ 块/ 尺寸/ 能够/ 很/ 好/ 地/ 反映/ 样本/ 整体/ 的/ 周期性/ 分布/ 情况/ ;/ (/ 2/ )/ 初始/ 区域/ 合成/ 时/ ,/ 我们/ 按照/ 相位/ 相近/ 的/ 原则/ 分布/ 纹理/ 块/ ,/ 使得/ 已/ 合成/ 区域/ 的/ 结果/ 也/ 符合/ 这一/ 分布/ 特征/ ./ 因此/ ,/ 复用/ 阶段/ ,/ 只要/ 满足/ 这一/ 相位/ 约束/ ,/ 即可/ 保证/ 所选/ 的/ 纹理/ 块/ 符合/ 样本/ 的/ 周期性/ 特征/ ,/ 且/ 可以/ 和/ 相邻/ 位置/ 的/ 块/ 较/ 好/ 地/ 拼接/ ./ 具体/ 地/ ,/ 复用/ 计算/ 时/ ,/ 块/ 的/ 坐标/ 为/ (/ s/ ×/ (/ w/ -/ e/ )/ ,/ t/ ×/ (/ h/ -/ e/ )/ )/ ,/ s/ 和/ t/ 均/ 为/ 正整数/ ,/ 在/ 不/ 越界/ 的/ 前提/ 下/ 可/ 随机/ 选取/ ,/ 这样/ 也/ 有利于/ 破坏/ 纹理/ 的/ 重复性/ ,/ 增强/ 合成/ 结果/ 多样性/ ./ 综上/ ,/ 新/ 方法/ 只/ 在/ 合成/ 初始/ 纹理/ 区域/ 时/ ,/ 需要/ 采用/ 集合/ 求交/ 计算/ 进行/ 块/ 的/ 搜索/ ;/ 而/ 在/ 复用/ 阶段/ ,/ 只/ 需/ 几次/ 简单/ 的/ 四则运算/ 以及/ 求/ 随机/ 值/ 即可/ 完成/ 选块/ 操作/ ./ 由于/ 块/ 尺寸/ 相同/ 的/ 各块间/ 的/ 关联性/ 很小/ ,/ 因此/ 新/ 方法/ 可/ 利用/ 多线程/ 等/ 手段/ 进行/ 并行计算/ 以/ 进一步/ 加速/ ./ 总之/ ,/ 新/ 方法/ 能/ 大幅/ 减少/ 需要/ 处理/ 的/ 纹理/ 块/ 数目/ ,/ 并/ 无需/ 多层/ 迭代/ 就/ 能/ 进行/ 并行计算/ ,/ 因此/ 能/ 很/ 好/ 地/ 加速/ 合成/ 计算/ ./ 4/ 实验/ 结果/ 及/ 分析/ 4.1/ 合成/ 速度/ 的/ 分析/ 我们/ 用/ Visual/ C++/ 2005/ 实现/ 了/ 本文/ 的/ 新/ 方法/ ,/ 并/ 在/ 一台/ DellOptiplex755/ 的/ PC/ 上/ 进行/ 了/ 实验/ ./ 这台/ 微机/ 配有/ 一个/ Intel/ ?/ CoreTM2DuoE65502/ ./ 33GHz/ 的/ CPU/ ,/ 2GB/ 内存/ ./ 通过/ 测试/ 多种不同/ 样本/ 纹理/ 合成/ 的/ 情况/ ,/ 表/ 1/ 列出/ 了/ 新/ 方法/ 合成/ 不同/ 尺寸/ 目标/ 纹理/ 的/ 平均/ 时间/ 开销/ 以及/ 同/ 其它/ 一些/ 先进/ 方法/ 的/ 合成/ 时间/ 的/ 对比/ ./ 其中/ ,/ 非/ 复用/ 方法/ 是/ 指/ 采用/ 本文/ 初始/ 区域/ 合成/ 阶段/ 的/ 合成/ 策略/ ,/ 而/ 不/ 使用/ 复用/ 计算/ 的/ 合成/ 方式/ ;/ 文献/ [/ 7/ ]/ 的/ 合成/ 时间/ 来自/ 其/ 文章/ 中/ 的/ 数据/ ;/ 文献/ [/ 6/ ]/ 是/ 一个/ 基于/ GPU/ 的/ 算法/ ,/ 考虑/ 到/ 近年来/ 硬件/ 性能/ 的/ 快速/ 发展/ ,/ 为了/ 不失/ 公平性/ ,/ 这里/ 采用/ 的/ 是/ SIGGRAPH/ ’/ 2008/ 上/ 发表/ 的/ 论文/ [/ 13/ ]/ 中/ 测试/ 得到/ 的/ 文献/ [/ 6/ ]/ 的/ 合成/ 速度/ ,/ 在/ 配置/ 有/ 一个/ GeForce8800GTX/ 的/ GPU/ 的/ 机器/ 上/ 的/ 处理/ 效率/ 是/ 15.3/ M/ 像素/ // 秒/ ,/ 根据/ 该/ 数据/ 换算/ 得到/ 合成/ 各种/ 尺寸/ 纹理/ 所/ 需/ 的/ 时间/ ./ 从/ 这些/ 数据/ 可知/ ,/ 新/ 方法/ 很/ 好/ 地/ 加速/ 了/ 合成/ 计算/ ,/ 能/ 对/ 2048/ ×/ 2048/ 像素/ 的/ 大/ 纹理/ 进行/ 实时/ 合成/ ./ 表/ 1/ 新/ 方法/ 的/ 合成/ 计算/ 效率/ (/ 时间/ 单位/ :/ ms/ )/ 纹理/ 尺寸/ (/ 像素/ )/ 256/ ×/ 2560.680/ ./ 6710.234/ ./ 08512/ ×/ 5121.392/ ./ 6512.4116/ ./ 341024/ ×/ 10243.8110/ ./ 8221.7865/ ./ 362048/ ×/ 204813.4745/ ./ 7958.93261/ ./ 44/ 为/ 考察/ 复用/ 计算/ 对/ 合成/ 效率/ 的/ 影响/ ,/ 图/ 2/ 列出/ 了/ 新/ 方法/ 及/ 未/ 采用/ 复用/ 计算/ 的/ 合成/ 效率/ ,/ 以/ 平均/ 合成/ 每兆/ (/ M/ )/ 像素/ 所/ 需/ 的/ 合成/ 时间/ 进行/ 度量/ ./ 从图/ 2/ 中/ 可以/ 看出/ ,/ 除了/ 在/ 合成/ 256/ ×/ 256/ 的/ 纹理/ 时/ ,/ 新/ 方法/ 比非/ 复用/ 方法/ 略/ 慢外/ ,/ 其它/ 情况/ 下/ ,/ 新/ 方法/ 的/ 合成/ Page6/ 速度/ 是/ 快/ 的/ ./ 因为/ ,/ 在/ 合成/ 256/ ×/ 256/ 大小/ 的/ 纹理/ 时/ ,/ 新/ 方法/ 复用/ 的/ 策略/ 没有/ 得到/ 应用/ ,/ 两种/ 方法/ 的/ 合成/ 方式/ 也/ 就/ 近似/ 相同/ ./ 当/ 合成/ 纹理/ 的/ 尺寸/ 逐渐/ 增大/ 时/ ,/ 非/ 复用/ 方法/ 的/ 平均/ 合成/ 时间/ 几乎/ 不变/ ,/ 而/ 新/ 方法/ 的/ 平均/ 合成/ 时间/ 逐渐/ 降低/ ,/ 当/ 合成/ 尺寸/ 大于/ 1280/ ×/ 1280/ 时/ ,/ 下降/ 幅度/ 逐渐/ 变小/ ,/ 趋于平稳/ ./ 对此/ ,/ 我们/ 的/ 分析/ 如下/ :/ 新/ 方法/ 的/ 合成/ 时间/ 由/ 初始/ 纹理/ 区域/ 的/ 合成/ 时间/ T0/ 、/ 复用/ 阶段/ 的/ 选块/ 时间/ Tpatch/ 、/ 缝合/ 重叠/ 区域/ 的/ 时间/ Tfeturing/ 以及/ 复制/ 像素/ 的/ 时间/ Tcopy/ 这/ 4/ 部分/ 组成/ ,/ 对于/ 大/ 尺寸/ 纹理/ 的/ 合成/ 来说/ ,/ T0/ 相当于/ 一个/ 常量/ ;/ 复用/ 计算/ 的/ 选块/ 操作/ 计算/ 量/ 也/ 是/ 固定/ 的/ ,/ 当/ 每层/ 复用/ 选块/ 个数/ 相同/ 时/ ,/ Tpatch/ 也/ 可/ 认为/ 是/ 一个/ 常量/ ;/ 而/ 当/ 复用/ 计算/ 的/ 块/ 尺寸/ 逐渐/ 增大/ 时/ ,/ 重叠/ 区域/ 相对/ 于/ 其它/ 区域/ 所/ 占/ 的/ 比例/ 逐渐/ 减少/ ,/ 因此/ ,/ 纹理/ 合成/ 的/ 时间/ 会/ 随着/ 尺寸/ 的/ 增大/ 越来越/ 接近/ 于/ 直接/ 进行/ 像/ 图/ 3/ 新/ 方法/ 、/ 文献/ [/ 7/ ]/ 中/ 的/ 方法/ 、/ 全局/ 优化/ 方法/ [/ 14/ ]/ 和/ 并行/ 可控/ 纹理/ 合成/ 方法/ [/ 6/ ]/ 所/ 生成/ 纹理/ 的/ 对比/ 素/ 复制/ 的/ 时间/ ,/ 这/ 已经/ 是/ 一个/ 纹理/ 合成/ 过程/ 最/ 基本/ 的/ 操作/ 了/ ./ 因此/ ,/ 新/ 方法/ 基于/ 复用/ 可/ 极大/ 地/ 降低/ 合成/ 计算/ 的/ 开销/ ,/ 非常/ 有利于/ 合成/ 大/ 尺寸/ 纹理/ ./ 4.2/ 新/ 方法/ 的/ 合成/ 质量/ 由于/ 新/ 方法/ 采用/ 了/ 优化/ 的/ 纹理/ 块/ 尺寸/ ,/ 有效/ 地/ 反映/ 了/ 样本/ 纹理/ 特征/ 的/ 周期性/ ,/ 所/ 划分/ 的/ 纹理/ 块/ 对/ 纹理/ 特征/ 的/ 周期性/ 变化/ 有/ 很/ 好/ 的/ 反映/ ,/ 因此/ ,/ 它/ 能/ 高效/ 地/ 处理/ 纹理/ 合成/ 过程/ 中/ 的/ 特征/ 变化/ ,/ 生成/ 高质量/ 的/ 纹理/ ./ 图/ 3/ 中/ 列出/ 了/ 新/ 方法/ 、/ 文献/ [/ 7/ ]/ 的/ 方法/ 、/ 全局/ 优化/ 合成/ 方法/ [/ 14/ ]/ 和/ 并行/ 可控/ 纹理/ 合成/ 方法/ [/ 6/ ]/ 生成/ 的/ 一些/ 对比/ 纹理/ ,/ 其中/ ,/ 对比/ 的/ 纹理/ 是从/ 这些/ 文献/ 及其/ 相关/ 网页/ 中/ 下载/ 的/ ./ 从图/ 中/ 可见/ ,/ 新/ 方法/ 生成/ 的/ 纹理/ 质量/ 要/ 优于/ 并行/ 可控/ 纹理/ 合成/ 方法/ ,/ 与/ 全局/ 优化/ 方法/ 相当/ ,/ 甚至/ 某些/ 结果/ 还要/ 优于/ 全局/ 优化/ 方法/ ,/ 如图/ 3/ (/ b/ )/ 中/ 关于/ 纹理/ 结构化/ 信息/ 的/ 保持/ ./ 图/ 4/ 中/ 还/ 列出/ 了/ 新/ 方法/ 生成/ 的/ 其它/ 许多/ 纹理/ ,/ 由于/ 页面/ 有限/ ,/ 无法/ 列出/ 较大/ 尺寸/ 的/ 纹理/ ,/ 这里/ 给出/ 的/ 都/ 是/ 512/ ×/ 512/ 像素/ 的/ ,/ 这些/ 结果/ 都/ 有/ 很/ 高/ 的/ 质量/ 且/ 合成/ 速度/ 很快/ ./ 作为/ 参考/ ,/ 图/ 2/ 中/ 还/ 给出/ 了/ 相应/ 的/ 合成/ 参数/ ./ 从/ 这些/ 实验/ 结果/ 可知/ ,/ 新/ 方法/ 具有/ 很/ 高/ 的/ 工作效率/ ,/ 能/ 生成/ 高质量/ 的/ 纹理/ ./ 但/ 由于/ 新/ 方法/ 采用/ “/ 羽化/ ”/ 的/ 方法/ 进行/ 邻接/ 纹理/ 块/ 的/ 缝合/ ,/ 所以/ ,/ 它/ 还/ 难以/ 高质量/ 地/ 处理/ 结构化/ 信息/ 比较/ 强烈/ 的/ 纹理/ ,/ 比如/ 图/ 3/ (/ c/ )/ 中/ 左边/ 的/ 纹理/ ./ 总的来说/ ,/ 新/ 方法/ 可如/ 大多数/ 先进/ 方法/ 一样/ ,/ 进行/ 高质量/ 的/ 纹理/ 合成/ ./ Page7/ 图/ 4/ 新/ 方法/ 所/ 生成/ 的/ 多种/ 纹理/ (/ 512/ ×/ 512/ )/ (/ 这里/ ,/ 样本/ 纹理/ 位于/ 左侧/ ,/ 合成/ 结果/ 在/ 右侧/ )/ 5/ 结语/ 本文/ 提出/ 了/ 一种/ 新/ 的/ 纹理/ 合成/ 方法/ ,/ 只/ 需/ 基于/ 邻域/ 搜索/ 合成/ 一个/ 较/ 小/ 的/ 初始/ 目标/ 纹理/ ,/ 即可/ 基于/ 复用/ 的/ 方式/ 利用/ 已/ 合成/ 结果/ 逐步/ 生成/ 更大/ 的/ 纹理/ 块/ ,/ 以/ 高速/ 完成/ 目标/ 纹理/ 的/ 合成/ ./ 这种/ 复用/ 的/ 合成/ 方式/ ,/ 大大减少/ 了/ 邻域/ 搜索/ 以及/ 缝合/ 计算/ 的/ 计算/ 量/ ,/ 非常适合/ 于/ 大/ 尺寸/ 纹理/ 的/ 合成/ ./ 实验/ 表明/ ,/ 与/ 已有/ 工作/ 相比/ ,/ 新/ 方法/ 极大地提高/ 了/ 合成/ 速度/ ,/ 生成/ 一个/ 2048/ ×/ 2048/ 像素/ 的/ 纹理/ ,/ 只/ 需/ 十几/ 毫秒/ ,/ 而已/ 有/ 工作/ 最/ 多/ 只能/ 以/ 交互/ 的/ 速度/ 合成/ 这样/ 大/ 的/ 纹理/ ./ 由于/ 新/ 方法/ 采用/ “/ 羽化/ ”/ 的/ 方式/ 进行/ 邻接/ 纹理/ 块/ 的/ 缝合/ ,/ 难以/ 高质量/ 地/ 处理/ 结构化/ 特征/ 较强/ 的/ 纹理/ ./ 这/ 也/ 是/ 纹理/ 合成/ 技术/ 中长期/ 探讨/ 的/ 的/ 一个/ 难点/ 问题/ ./ 为/ 促进/ 纹理/ 合成/ 技术/ 的/ 推广应用/ ,/ 我们/ 将/ 进一步/ 探索/ 合成/ 高质量/ 纹理/ 的/ 方法/ ./ 

