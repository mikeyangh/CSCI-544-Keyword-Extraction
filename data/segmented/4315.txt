Page1Tableau/ 算法/ 的/ 优化/ 及/ 模型/ 规约/ 技术/ 刘大有/ 赖永王/ 生生/ (/ 吉林大学/ 计算机科学/ 与/ 技术/ 学院/ 长春/ 130012/ )/ (/ 吉林大学/ 符号计算/ 与/ 知识/ 工程/ 教育部/ 重点/ 实验室/ 长春/ 130012/ )/ 摘要/ 为了/ 近/ 一步/ 提高/ 模态逻辑/ 推理机/ 的/ 效率/ ,/ 提出/ 了/ 两种/ Tableau/ 算法/ 优化/ 技术/ —/ —/ —/ 冲突/ 技术/ 和/ 矛盾/ 学习/ 技术/ ,/ 并/ 结合/ 这/ 两种/ 技术/ 实现/ 了/ 针对/ 模态逻辑/ S4/ 的/ 推理机/ S4P/ ./ 在/ 此基础/ 上/ ,/ 为了/ 从/ Tableau/ 算法/ 生成/ 的/ 模型/ 图中/ 构造/ 一个/ 规模较/ 小/ 的/ 模型/ ,/ 又/ 提出/ 通用/ 模型/ 的/ 概念/ ,/ 然后/ 给出/ 通用/ 模型/ 的/ 规约/ 技术/ 并/ 证明/ 该/ 技术/ 对于/ 任意/ 依赖于/ 公理/ D/ 、/ T/ 、/ B/ 、/ 4/ 和/ 5/ 中/ 部分/ 或/ 全部/ 公理/ 的/ 正规/ 模态逻辑/ 的/ 正确性/ ./ 最后/ ,/ 使用/ 逻辑/ 工作台/ 测试用例/ 对/ S4P/ 的/ 效率/ 进行/ 测试/ ,/ 实验/ 结果表明/ S4P/ 的/ 效率/ 优于/ RACER/ 和/ FaCT/ ++/ ;/ 同时/ ,/ 对/ S4P/ 生成/ 的/ 测试用例/ 中非/ 有效/ 公式/ 的/ 否定/ 对应/ 的/ 通用/ 模型/ 进行/ 规约/ ,/ 实验/ 结果表明/ 通过/ 模型/ 规约/ 能/ 明显/ 地/ 缩减/ 模型/ 的/ 规模/ ./ 关键词/ 模态逻辑/ ;/ Tableau/ 算法/ ;/ 优化/ ;/ 模型/ 规约/ 1/ 引言/ 在/ 过去/ 二十年/ 多年/ 中/ ,/ 模态逻辑/ 已/ 被/ 广泛应用/ Page2/ 中/ ,/ Tableau/ 方法/ [/ 1/ ]/ 是/ 使用/ 最广/ 的/ 方法/ 之一/ ./ 到/ 目前为止/ ,/ 研究/ 人员/ 提出/ 了/ 多种/ 优化/ 技术/ [/ 6/ -/ 8/ ]/ 大大提高/ 了/ Tableau/ 算法/ 的/ 求解/ 效率/ ,/ 著名/ 的/ 推理机/ 例如/ RAC/ -/ ER/ [/ 6/ ]/ 和/ FaCT/ ++/ [/ 7/ -/ 8/ ]/ 等/ 都/ 是/ 在/ 这些/ 优化/ 技术/ 的/ 基础/ 上/ 实现/ 的/ ①/ ./ 在/ 国内/ ,/ 刘全/ 和/ 孙吉贵/ 等/ 人/ [/ 9/ -/ 10/ ]/ 对/ Tableau/ 方法/ 中/ 推理/ 规则/ 进行/ 了/ 改进/ ,/ 提高/ 了/ 推理/ 效率/ ;/ 常亮/ 和/ 史忠植/ 等/ 人/ [/ 11/ ]/ 提出/ 了/ 一种/ 动态/ 描述/ 逻辑/ 的/ Tableau/ 判定/ 算法/ ./ 模态逻辑/ 根据/ 其/ 依赖/ 公理/ 的/ 不同/ 而/ 分为/ K/ 、/ KT/ 、/ KD/ 、/ S4/ 和/ S5/ 等/ 多种不同/ 逻辑/ ,/ 其中/ ,/ S4/ 是/ 使用/ 最广/ 的/ 逻辑/ 之一/ ,/ 尤其/ 在/ 时空/ 推理/ 领域/ 应用/ 广泛/ [/ 3/ -/ 4/ ,/ 12/ ]/ ./ 迄今为止/ ,/ 特别/ 针对/ S4/ 的/ 模态/ 推理机/ 尚未/ 见/ 报道/ ,/ 因此/ 在/ 多数/ 实验/ 和/ 应用/ 中/ 通常/ 使用/ 兼容/ S4/ 的/ 推理机/ ,/ 例如/ ,/ RACER/ 、/ FaCT/ ++/ 等/ ./ 尽管/ 目前/ 兼容/ S4/ 的/ 推理机/ 已/ 表现/ 出/ 很/ 高/ 的/ 推理/ 效率/ [/ 13/ -/ 14/ ]/ ,/ 且/ 随着/ 新/ 优化/ 技术/ 的/ 使用/ 其/ 效率/ 也/ 在/ 逐步提高/ [/ 15/ ]/ ,/ 但/ 从/ 技术/ 角度/ 来说/ ,/ 设计/ 特别/ 针对/ S4/ 的/ 推理机/ 仍/ 有/ 很大/ 的/ 效率/ 提升/ 空间/ ./ 在/ 本文/ 中/ ,/ 为了/ 进一步提高/ Tableau/ 算法/ 的/ 求解/ 效率/ ,/ 提出/ 了/ 两种/ 新/ 优化/ 技术/ —/ —/ —/ 冲突/ 技术/ 和/ 矛盾/ 学习/ 技术/ ,/ 并/ 结合/ 二者/ 开发/ 了/ 针对/ S4/ 的/ 推理机/ S4P/ ./ 我们/ 在/ 逻辑/ 工作台/ 测试用例/ [/ 12/ -/ 13/ ]/ 上/ 对/ S4P/ 的/ 效率/ 进行/ 了/ 测试/ ,/ 实验/ 结果表明/ S4P/ 的/ 效率/ 优于/ RACER/ 和/ FaCT/ ++./ 在/ 实际/ 应用/ 中/ ,/ 在/ 判定/ 出/ 任意/ 可/ 满足/ 的/ 模态/ 公式/ 的/ 可/ 满足/ 性后/ ,/ 有时/ 还/ 需/ 给出/ 满足/ 该/ 公式/ 的/ 模型/ ,/ 然后/ 利用/ 此/ 模型/ 进行/ 查询/ 或/ 生成/ 拓扑/ [/ 3/ -/ 4/ ,/ 16/ ]/ ./ 由于/ 模型/ 的/ 规模/ 直接/ 影响/ 其/ 使用/ 效率/ ,/ 因此/ 对模型/ 进行/ 简化/ 具有/ 重要/ 意义/ ./ 例如/ ,/ 对/ 最小/ 模型/ (/ leastmodel/ )/ 进行/ 简化/ 能/ 提高/ 查询/ 效率/ [/ 16/ ]/ ,/ 对/ 满足/ 描述/ 拓扑/ 关系/ 的/ S4/ 公式/ 的/ 模型/ 进行/ 简化/ 能/ 缩减/ 生成/ 的/ 拓扑/ 的/ 规模/ [/ 3/ -/ 4/ ]/ ./ 本文/ 对模型/ 的/ 概念/ 进行/ 泛化/ ,/ 定义/ 了/ 通用/ 模型/ ,/ 并/ 给出/ 了/ 通用/ 模型/ 的/ 规约/ 技术/ ./ 由于/ Tableau/ 算法/ 生成/ 的/ 任意/ 模型/ 图/ (/ modelgraph/ )/ [/ 1/ ]/ 都/ 对应/ 一个/ 通用/ 模型/ ,/ 因此/ 通过/ 对/ 通用/ 模型/ 的/ 规约/ 可/ 从/ 模型/ 图中/ 提取/ 出/ 一个/ 规模较/ 小/ 的/ 模型/ ./ 本文/ 证明/ 了/ 通用/ 模型/ 的/ 规约/ 技术/ 对于/ 所有/ 依赖于/ 公理/ D/ 、/ T/ 、/ B/ 、/ 4/ 和/ 5/ 的/ 任意/ 组合/ 的/ 正规/ 模态逻辑/ 的/ 正确性/ ./ 最后/ ,/ 本文/ 对/ 由/ S4P/ 生成/ 的/ 测试用例/ 中非/ 有效/ 公式/ 的/ 否定/ (/ 即可/ 满足/ 的/ 公式/ )/ 对应/ 的/ 通用/ 模型/ 进行/ 了/ 规约/ ,/ 实验/ 结果表明/ 了/ 规约/ 规则/ 的/ 有效性/ ./ 本文/ 第/ 2/ 节/ 给出/ 关于/ 模态逻辑/ 和/ Tableau/ 算法/ 的/ 预备/ 知识/ ;/ 第/ 3/ 节/ 介绍/ S4P/ 中/ 使用/ 的/ 预处理/ 技术/ ;/ 第/ 4/ 节/ 给出/ S4P/ 中/ 使用/ 的/ 优化/ 技术/ ;/ 第/ 5/ 节/ 介绍/ 如何/ 从/ Tableau/ 算法/ 生成/ 的/ 模型/ 图中/ 构造/ 一个/ 规模较/ 小/ 的/ 模型/ ;/ 第/ 6/ 节/ 给出/ 实验/ 结果/ 并/ 进行/ 分析/ ;/ 最后/ 我们/ 对/ 本文/ 进行/ 总结/ ./ 2/ 预备/ 知识/ 2.1/ 模态逻辑/ 模态/ 公式/ (/ 本文/ 简称/ 为/ 公式/ )/ 是/ 通过/ 使用/ 如下/ 规则/ 得到/ 的/ 有限/ 序列/ :/ 任意/ 原子/ 命题/ (/ 简称/ 为/ 命题/ )/ 是/ 公式/ ,/ ⊥/ 是/ 公式/ ,/ 如果/ / 和/ φ/ 是/ 公式/ ,/ 则/ / / 、/ / ∧/ φ/ 、/ / ∨/ φ/ 、/ / →/ φ/ 、/ □/ / 、/ ◇/ / 是/ 公式/ ./ 本文/ 约定/ p/ 和/ q/ 表示/ 命题/ ,/ / 、/ φ/ 和/ ζ/ 表示/ 公式/ ,/ / 表示/ 所有/ 原子/ 的/ 集合/ ,/ X/ 和/ Y/ 表示/ 公式/ 集/ ./ Kripke/ 框架/ (/ 简称/ 为/ 框架/ )/ 是/ 一个二元/ 组/ =/ 〈/ W/ ,/ R/ 〉/ ,/ 其中/ W/ 是/ 一个/ 非空/ 状态/ 集/ ,/ R/ 是/ W/ 上/ 的/ 二元关系/ ./ 本文/ 将/ (/ w/ ,/ v/ )/ ∈/ R/ 记为/ wRv/ ,/ 并称/ w/ 是/ v/ 的/ 前驱/ ,/ v/ 是/ w/ 的/ 后继/ ./ Kripke/ 模型/ (/ 简称/ 为/ 模型/ )/ 是/ 一个二元/ 组/ =/ 〈/ ,/ V/ 〉/ ,/ 其中/ 是/ 一个/ 框架/ ,/ V/ 是/ 一个/ 将/ 命题/ 集合/ / 中/ 命题/ p/ 赋值/ 为/ W/ 的/ 一个/ 子集/ V/ (/ P/ )/ 的/ 函数/ ,/ 形式化/ 地记/ 为/ V/ :/ / / 2W/ ,/ 即/ V/ (/ p/ )/ 为/ 模型/ 中/ p/ 为/ 真的/ 状态/ 集合/ ./ 对于/ 给定/ 的/ 模型/ =/ 〈/ ,/ V/ 〉/ ,/ 称/ 基于/ 框架/ ,/ 的/ 规模/ 表示/ 为/ 的/ 状态/ 数/ ./ 模型/ =/ 〈/ W/ ,/ R/ ,/ V/ 〉/ 中/ 状态/ w/ 满足/ 公式/ / 按/ 如下/ 方式/ 进行/ 递归/ 定义/ :/ ◇/ / 且/ wRv/ ;/ v/ 都/ 有/ ,/ v/ / / ./ 如果/ 不/ 对模型/ 进行/ 限制/ ,/ 则/ 得到/ 一种/ 正规/ 模态逻辑/ (/ normalmodallogic/ )/ ,/ 按照/ 标准/ 的/ 希尔伯特/ 式/ 公理化/ 表示/ 称为/ 正规/ 模态逻辑/ K/ (/ 本文/ 中/ 提到/ 的/ 模态逻辑/ 都/ 默认/ 为/ 正规/ 模态逻辑/ )/ ,/ 其他/ 模态逻辑/ 可/ 通过/ 向/ K/ 中/ 增加/ 一些/ 公理/ (/ axiom/ )/ 得到/ ./ 常见/ 的/ 公理/ 如表/ 1/ 所示/ ./ 模态逻辑/ S4/ 是/ 在/ K/ 的/ 基础/ 上/ 增加/ T/ 公理/ 和/ 4/ 公理/ 得到/ ,/ 任意/ 公式/ / 在/ S4/ 下/ 可/ 满足/ 当且/ ①/ 严格/ 地说/ FaCT/ ++/ (/ http/ :/ // // code/ ./ google/ ./ com/ // p/ // factplus/ -/ Page3/ 仅当/ 存在/ 自/ 反/ 传递/ 的/ 模型/ =/ 〈/ W/ ,/ R/ ,/ V/ 〉/ 和/ 状态/ w/ ∈/ W/ 使得/ ,/ w/ / / ./ 公理/ (/ □/ / →/ □/ φ/ )/ 无/ (/ K/ )/ □/ (/ / →/ φ/ )/ →/ (/ D/ )/ □/ / →/ ◇/ / 连续性/ (/ serial/ )/ :/ / w/ / v/ (/ wRv/ )/ (/ T/ )/ □/ / →/ / 自反性/ (/ reflexive/ )/ :/ / w/ (/ wRw/ )/ (/ B/ )/ / →/ □/ ◇/ / 对称性/ (/ symmetric/ )/ :/ / w/ / v/ (/ wRv/ →/ vRw/ )/ (/ 4/ )/ □/ / →/ □/ □/ / 传递性/ (/ transitive/ )/ :/ / w/ / v/ / u/ (/ wRv/ ∧/ (/ 5/ )/ ◇/ / →/ □/ ◇/ / 欧几里得/ 性/ (/ Euclidean/ )/ :/ / w/ / v/ / u/ (/ wRv/ ∧/ 2.2/ Tableau/ 算法/ Tableau/ 规则/ ρ/ 由/ 分子/ / 和/ 有限/ 多个/ 分母/ / 1/ ,/ …/ ,/ / k/ 组成/ ,/ 表示/ 为/ 如下/ 形式/ :/ 任意/ 规则/ ρ/ 可/ 应用/ 于/ 某个/ 公式/ 集/ X/ ,/ 当且/ 仅/ 当/ X/ 是/ ρ/ 的/ 分子/ 的/ 实例/ 化/ ./ 一个/ Tableau/ 演算/ 由/ 有限/ 多个/ Tableau/ 规则/ 组成/ ./ 例如/ ,/ 模态逻辑/ S4/ 的/ Tableau/ 演算/ / S4/ 由/ 如下/ 7/ 个/ Tableau/ -/ 规则/ 组成/ :/ X/ ∪/ {/ / ,/ φ/ }/ ,/ (/ ⊥/ )/ {/ / ,/ / / }/ (/ ∧/ )/ X/ ∪/ {/ / ∧/ φ/ }/ X/ ∪/ {/ / }/ |/ X/ ∪/ {/ φ/ }/ ,/ (/ / )/ X/ ∪/ {/ / / / }/ (/ ∨/ )/ X/ ∪/ {/ / ∨/ φ/ }/ X/ ∪/ {/ □/ / ,/ / }/ ,/ (/ S4/ )/ {/ □/ / 1/ ,/ …/ ,/ □/ / n/ ,/ ◇/ φ/ }/ (/ T/ )/ X/ ∪/ {/ □/ / }/ 公式/ / 对应/ 的/ Tableau/ 是/ 一棵/ 通过/ 如下/ 方式/ 得到/ 的/ 节点/ 为/ 公式/ 集/ 的/ 有限/ 树/ :/ 首先/ ,/ 树仅/ 包含/ 一个/ 标记/ 为/ {/ / }/ 的/ 根/ 节点/ ,/ 若/ / =/ ⊥/ ,/ 则/ 称根/ 节点/ 为/ 终止/ 节点/ ,/ 否则/ 称根/ 节点/ 为/ 非/ 终止/ 节点/ ;/ 然后/ ,/ 按照/ 如下/ 步骤/ 扩展/ 树/ 直到/ 所有/ 叶/ 节点/ 都/ 为/ 终止/ 节点/ :/ (/ 1/ )/ 选择/ 一个/ 标记/ 为/ X/ 的/ 非/ 终止/ 叶/ 节点/ 和/ 能/ 在/ X/ 上/ 应用/ 的/ 规则/ ρ/ ;/ (/ 2/ )/ 为/ ρ/ 的/ 每个/ 分母/ 创建/ 一个/ 节点/ 作为/ 原叶/ 节点/ 的/ 子/ 节点/ ,/ 并/ 将/ 这些/ 子/ 节点/ 标记/ 为/ 对应/ 的/ 分母/ 实例/ 化后/ 所/ 得到/ 的/ 公式/ 集/ ;/ (/ 3/ )/ 对于/ 得到/ 的/ 新叶/ 节点/ ,/ 如果/ 其上/ 标记/ 的/ 公式/ 集/ 为/ {/ ⊥/ }/ 或/ 该/ 节点/ 标记/ 的/ 公式/ 已/ 出现/ 在/ 其/ 祖先/ 节点/ 上/ ,/ 则/ 称/ 该/ 叶/ 节点/ 为/ 终止/ 节点/ ,/ 否则/ 称其为/ 非/ 终止/ 节点/ ./ 若/ Tableau/ 的/ 一个/ 分支/ 的/ 所有/ 终止/ 节点/ 都/ 为/ {/ ⊥/ }/ ,/ 则/ 称/ 该/ 分支/ 是/ 封闭/ (/ closed/ )/ ,/ 否则/ 称其非/ 封闭/ ;/ 若/ Tableau/ 的/ 所有/ 分支/ 都/ 封闭/ ,/ 则/ 称/ 该/ Tableau/ 封闭/ ,/ 否则/ 称其非/ 封闭/ ./ 对于/ Tableau/ 演算/ / L/ ,/ 公式/ / 是/ / L/ -/ 一致/ 的/ 当且/ 仅/ 当/ 不/ 存在/ 封闭/ 的/ / L/ -/ Tableau/ 与/ 之/ 对应/ ,/ 否则/ 称/ / 为/ / L/ -/ 不/ 一致/ ./ 公式/ / 是/ / S4/ -/ 一致/ 的/ 当且/ 仅/ 当/ 其/ 在/ S4/ 下/ 可/ 满足/ ,/ 且/ 任意/ 公式/ / 对应/ 的/ 非/ 封闭/ Tableau/ 都/ 对应/ 一个/ 模型/ 图/ ,/ 可/ 从/ 该/ 模型/ 图中/ 构造/ 一个/ 满足/ / 的/ 模型/ [/ 1/ ]/ ./ 3/ 预处理/ 技术/ 本/ 节/ 介绍/ 我们/ 开发/ 的/ S4/ 推理机/ S4P/ 中/ 使用/ 的/ 预处理/ 技术/ ./ 由/ 第/ 6/ 节/ 的/ 实验/ 结果/ 可知/ ,/ RACER/ 和/ FaCT/ ++/ 没有/ 使用/ 或者/ 没有/ 完全/ 使用/ 本节/ 所/ 提到/ 的/ 预处理/ 技术/ ,/ 同样/ 的/ 问题/ 存在/ 于/ 文献/ [/ 13/ ]/ 中/ 分析/ 的/ 其他/ 推理机/ 中/ ./ 首先/ ,/ 假设/ 需要/ 判定/ 可/ 满足/ 性/ 的/ 公式/ 为/ / 0/ ,/ S4P/ 中/ 采用/ 如下/ 步骤/ 对/ 其/ 进行/ 预处理/ :/ (/ negationnormalform/ )/ / 1/ :/ (/ 1/ )/ 按/ 如下/ 方式/ 递归/ 地/ 将/ / 0/ 转化/ 为/ 否定/ 范式/ nnf/ (/ ⊥/ )/ ·/ ·/ =/ ⊥/ ,/ nnf/ (/ / ⊥/ )/ ·/ ·/ =/ / ⊥/ ,/ nnf/ (/ p/ )/ ·/ ·/ =/ p/ ,/ nnf/ (/ / p/ )/ ·/ ·/ =/ / p/ ,/ nnf/ (/ / ∧/ φ/ )/ ·/ ·/ =/ nnf/ (/ / )/ ∧/ nnf/ (/ φ/ )/ ,/ nnf/ (/ / ∨/ φ/ )/ ·/ ·/ =/ nnf/ (/ / )/ ∨/ nnf/ (/ φ/ )/ ,/ nnf/ (/ / →/ φ/ )/ ·/ ·/ =/ nnf/ (/ / / ∨/ φ/ )/ ,/ nnf/ (/ □/ / )/ ·/ ·/ =/ □/ nnf/ (/ / )/ ,/ nnf/ (/ ◇/ / )/ ·/ ·/ =/ ◇/ nnf/ (/ / )/ ,/ nnf/ (/ / (/ / ∧/ φ/ )/ )/ ·/ ·/ =/ nnf/ (/ / / ∨/ / φ/ )/ ,/ nnf/ (/ / (/ / ∨/ φ/ )/ )/ ·/ ·/ =/ nnf/ (/ / / ∧/ / φ/ )/ ,/ nnf/ (/ / (/ / →/ φ/ )/ )/ ·/ ·/ =/ nnf/ (/ / ∧/ / φ/ )/ ,/ nnf/ (/ / □/ / )/ ·/ ·/ =/ nnf/ (/ ◇/ / / )/ ,/ nnf/ (/ / ◇/ / )/ ·/ ·/ =/ nnf/ (/ □/ / / )/ ,/ nnf/ (/ / / / )/ ·/ ·/ =/ nnf/ (/ / )/ ./ 否定/ 范式/ φ/ 的/ 规模/ size/ (/ φ/ )/ 递归/ 定义/ 如下/ :/ size/ (/ ⊥/ )/ ·/ ·/ =/ 1/ ,/ size/ (/ / ⊥/ )/ ·/ ·/ =/ 1/ ,/ size/ (/ p/ )/ ·/ ·/ =/ 1/ ,/ size/ (/ / p/ )/ ·/ ·/ =/ 1/ ,/ size/ (/ / ∨/ φ/ )/ ·/ ·/ =/ size/ (/ / )/ +/ size/ (/ φ/ )/ +/ 1/ ,/ size/ (/ / ∧/ φ/ )/ ·/ ·/ =/ size/ (/ / )/ +/ size/ (/ φ/ )/ +/ 1/ ,/ size/ (/ □/ / )/ ·/ ·/ =/ size/ (/ / )/ +/ 1/ ,/ size/ (/ ◇/ / )/ ·/ ·/ =/ size/ (/ / )/ +/ 1/ ./ (/ 2/ )/ 执行/ 完/ 步骤/ (/ 1/ )/ 后/ 我们/ 循坏/ 执行/ 以下/ 3/ 个/ 步骤/ 直到/ 公式/ 不能/ 再/ 化简/ 为止/ :/ (/ 2.1/ )/ 因为/ 在/ S4/ 下有/ □/ φ/ ≡/ □/ □/ φ/ ,/ ◇/ φ/ ≡/ ◇/ ◇/ φ/ ,/ □/ ◇/ φ/ ≡/ □/ ◇/ □/ ◇/ φ/ 和/ ◇/ □/ φ/ ≡/ ◇/ □/ ◇/ □/ φ/ 成立/ ,/ 因此/ S4P/ 将/ 任意/ 出现/ 在/ / 2/ 中/ 的/ 形如/ “/ ≡/ ”/ 右边/ 的/ 子/ 公式/ 都/ 转化/ 为/ 左边/ 的/ 形式/ 从而/ 得到/ 公式/ / 2/ ./ Page4/ (/ 2.2/ )/ 将/ 所有/ 在/ / 2/ 中仅/ 以/ “/ p/ ”/ 的/ 形式/ 出现/ 的/ 命题/ 用/ / ⊥/ 替换/ ,/ 仅以/ “/ / p/ ”/ 形式/ 出现/ 的/ 命题/ 用/ ⊥/ 替换/ ./ 替换/ 后/ 得到/ 的/ 公式/ 称为/ / 3/ ./ (/ 2.3/ )/ 将/ / 3/ 中/ 所有/ φ/ ∧/ ⊥/ 替换/ 为/ ⊥/ ,/ φ/ ∧/ / ⊥/ 替换/ 为/ φ/ ,/ φ/ ∨/ ⊥/ 替换/ 为/ φ/ ,/ φ/ ∨/ / ⊥/ 替换/ 为/ / ⊥/ ,/ □/ ⊥/ 替换/ 为/ ⊥/ ,/ □/ / ⊥/ 替换/ 为/ / ⊥/ ,/ ◇/ ⊥/ 替换/ 为/ ⊥/ ,/ ◇/ / ⊥/ 替换/ 为/ / ⊥/ ①/ ,/ 直到/ 公式/ 中/ 不/ 出现/ ⊥/ 或/ 整个/ 公式/ 被/ 替换/ 为/ ⊥/ 或/ / ⊥/ 为止/ ./ 显然/ ,/ ⊥/ 为/ 不可/ 满足/ 的/ ,/ / ⊥/ 为/ 可/ 满足/ 的/ ./ 如果/ / 3/ 被/ 替换/ 为/ ⊥/ 或/ / ⊥/ ,/ 说明/ 仅仅/ 需要/ 通过/ 预处理/ 即可/ 判定/ 出/ / 0/ 的/ 可/ 满足/ 性/ ./ 4/ 优化/ 技术/ 本/ 节/ 介绍/ S4P/ 中/ 使用/ 的/ 优化/ 技术/ ./ 4.1/ 小节/ 为/ S4P/ 从/ 其他/ 基于/ Tableau/ 算法/ 的/ 非/ 经典/ 逻辑推理/ 机中/ 借鉴/ 的/ 优化/ 技术/ [/ 6/ -/ 8/ ]/ ,/ 4.2/ 小节/ 为/ S4P/ 中新/ 引入/ 的/ 优化/ 技术/ ./ 本节/ 所/ 提到/ 的/ 否定/ 范式/ 都/ 默认/ 不/ 出现/ ⊥/ ,/ 因为/ 通过/ 第/ 3/ 节/ 的/ 预处理/ 后/ 得到/ 的/ 公式/ ,/ 如果/ 仍/ 需要/ 进一步/ 判定/ 可/ 满足/ 性/ 说明/ 其中/ 必然/ 不/ 出现/ ⊥/ ./ 4.1/ 已有/ 的/ 优化/ 技术/ (/ 1/ )/ 编码/ 技术/ 给定/ 否定/ 范式/ / ,/ 对/ 其中/ 出现/ 的/ 每个/ 子/ 公式/ 进行/ 编码/ ,/ 因此/ 当/ 需要/ 判定/ 两个/ 公式/ 是否/ 相同/ 时/ ,/ 只/ 需/ 判断/ 它们/ 的/ 编码/ 是否/ 相同/ ./ 编码方法/ 如下/ :/ / =/ φ/ ∧/ ζ/ :/ 对/ φ/ 和/ ζ/ 进行/ 编码/ ,/ 如果/ φ/ 和/ ζ/ 的/ 编码/ 相同/ ,/ 则/ 直接/ 返回/ φ/ 的/ 编码/ ,/ 否则/ 如果/ 存在/ / ∈/ X/ 使得/ / =/ φ/ ∧/ ζ/ 或/ / =/ ζ/ ∧/ φ/ ,/ 直接/ 返回/ / 的/ 编码/ ;/ 否则/ ,/ 对/ / 和/ nnf/ (/ / / )/ 赋值/ 不同于/ X/ 中/ 所有/ 公式/ 的/ 编码/ ,/ 并/ 将/ 二者/ 加入/ 到/ X/ 中/ ;/ / =/ φ/ ∨/ ζ/ :/ 与/ / =/ φ/ ∧/ ζ/ 的/ 情形/ 对偶/ ;/ / =/ □/ φ/ (/ 或/ / =/ ◇/ φ/ )/ :/ 对/ φ/ 进行/ 编码/ ,/ 如果/ 存在/ / ∈/ X/ 使得/ / =/ □/ φ/ (/ 或/ / =/ ◇/ φ/ )/ ,/ 直接/ 返回/ / 的/ 编码/ ;/ 否则/ ,/ 对/ / 和/ nnf/ (/ / / )/ 赋值/ 不同于/ X/ 中/ 所有/ 公式/ 的/ 编码/ ,/ 并/ 将/ 二者/ 加入/ 到/ X/ 中/ ;/ / =/ p/ (/ 或/ / =/ / p/ )/ :/ 如果/ p/ ∈/ X/ ,/ 直接/ 返回/ p/ (/ 或/ / p/ )/ 的/ 编码/ ;/ 否则/ ,/ 对/ p/ 和/ / p/ 赋值/ 不同于/ X/ 中/ 所有/ 公式/ 的/ 编码/ ,/ 并/ 将/ 二者/ 加入/ 到/ X/ 中/ ./ 最后/ 得到/ 的/ X/ 称为/ / 的/ 子/ 公式/ 集/ ,/ 记为/ Sub/ (/ / )/ ./ 显然/ ,/ 在/ S4P/ 判定/ / 的/ 可/ 满足/ 性/ 的/ 过程/ 中/ ,/ 所有/ 使用/ Tableau/ 规则/ 生成/ 的/ 公式/ 必然/ 属于/ Sub/ (/ / )/ ./ (/ 2/ )/ 语义/ 分支/ 技术标准/ 的/ Tableau/ 算法/ 使用/ 语法/ 分支/ 搜索/ (/ 对应/ ∨/ -/ 规则/ )/ ,/ 其/ 不能/ 预防/ 不同/ 分支/ 上/ 产生/ 相同/ 的/ 不可/ 满足/ 析取/ 项/ [/ 7/ ]/ ,/ 导致/ 推理/ 效率/ 不高/ ./ 与/ RACER/ 和/ FaCT/ ++/ 相同/ ,/ S4P/ 采用/ 语义/ 分支/ 搜索/ ,/ 即/ (/ 3/ )/ 二元/ 约束/ 传播/ 技术/ 在/ S4P/ 中/ ,/ 每次/ 使用/ ∨/ -/ 规则/ 之前/ ,/ 首先/ 使用/ 二元/ 约束/ 传播/ (/ BooleanConstraintPropagation/ ,/ BCP/ )/ 技术/ 进行/ 约束/ 传播/ 以/ 减少/ 不必要/ 的/ ∨/ -/ 规则/ 使用/ ./ 在/ 4.2/ 节中/ ,/ 我们/ 将会/ 看到/ 当/ 引入/ 冲突/ 概念/ 后/ 更/ 能/ 发挥/ BCP/ 的/ 作用/ ./ BCP/ 描述/ 为/ 如下/ 的/ 推理/ 规则/ :/ 4.2/ 新/ 引入/ 的/ 优化/ 技术/ (/ 1/ )/ 冲突/ 技术/ 首先/ ,/ 我们/ 给出/ 两个/ 否定/ 范式/ 互相冲突/ 的/ 概念/ 以及/ 互相冲突/ 的/ 两个/ 性质/ ./ 定义/ 1/ ./ 原子/ p/ 与其/ 否定/ / p/ 冲突/ ;/ 对于/ 给定/ 否定/ 范式/ / 、/ φ/ 和/ ζ/ ,/ φ/ ∧/ φ/ 与/ ζ/ 冲突/ 当且/ 仅/ 当/ / 与/ ζ/ 冲突/ 或/ φ/ 与/ ζ/ 冲突/ ;/ φ/ ∨/ φ/ 与/ ζ/ 冲突/ 当且/ 仅/ 当/ / 与/ ζ/ 冲突/ 且/ φ/ 与/ ζ/ ;/ □/ / 与/ 公式/ ζ/ 冲突/ ,/ 若/ ζ/ =/ ◇/ φ/ ,/ 则/ 当且/ 仅/ 当/ / 与/ φ/ 冲突/ ,/ 否则/ 若/ ζ/ =/ □/ φ/ ,/ 则/ 当且/ 仅/ 当/ / 与/ ζ/ 冲突/ 或/ □/ / 与/ φ/ 冲突/ ,/ 否则/ 当且/ 仅/ 当/ / 与/ ζ/ 冲突/ ./ 根据上述/ 定义/ ,/ 读者/ 可验证/ □/ ◇/ □/ p/ ∨/ / q/ 与/ □/ ◇/ / p/ ∧/ q/ 冲突/ ./ 命题/ 1/ ./ 所有/ 否定/ 范式/ / 都/ 与/ nnf/ (/ / / )/ 冲突/ ./ 证明/ ./ 用/ 归纳法/ 很/ 容易/ 证明/ ,/ 在/ 此/ 不/ 赘述/ ./ 定理/ 1/ ./ 给定/ 否定/ 范式/ / 和/ φ/ ,/ 若/ 二者/ 相互/ 冲突/ ,/ 则/ 任意/ 包含/ / 和/ φ/ 的/ 公式/ 集/ 必然/ / S4/ -/ 不/ 一致/ ./ 证明/ ./ 首先/ 使用/ 归纳法/ 证明/ 存在/ 一个/ 封闭/ 的/ Tableau/ 与/ {/ / ,/ φ/ }/ 对应/ :/ 当/ size/ (/ / )/ +/ size/ (/ φ/ )/ =/ 2/ 时/ ,/ 若/ / 和/ φ/ 冲突/ ,/ 则/ 必然/ 存在/ 命题/ p/ 使得/ {/ / ,/ φ/ }/ =/ {/ p/ ,/ / p/ }/ ,/ 显然/ 有/ 则/ 存在/ 一个/ 封闭/ 的/ Tableau/ 与/ {/ / ,/ φ/ }/ 对应/ ./ 况/ 进行/ 讨论/ :/ 假设/ 对于/ 任意/ / 和/ φ/ ,/ 若/ size/ (/ / )/ +/ size/ (/ φ/ )/ / n/ ,/ 当/ size/ (/ / )/ +/ size/ (/ φ/ )/ =/ n/ +/ 1/ 时/ ,/ 分/ 如下/ 5/ 种情/ / =/ / ∧/ / :/ 根据/ 定义/ ,/ 不妨/ 设/ / 与/ φ/ 冲突/ ,/ 根据/ 归纳/ 假设/ ,/ 存在/ 一个/ 封闭/ 的/ Tableau/ 与/ {/ / ,/ φ/ }/ 对应/ ,/ 因为/ 有/ ①/ 模态逻辑/ S4/ 保证/ 了/ 这些/ 替换/ 的/ 正确性/ ./ Page5/ 将/ {/ / ,/ φ/ }/ 对应/ 的/ 封闭/ 的/ Tableau/ 连接/ 到/ 上述/ Tableau/ 的/ 后面/ 即可/ 得到/ 一个/ 与/ {/ / ,/ φ/ }/ 对应/ 的/ 封闭/ Tableau/ (/ 下述/ 4/ 种/ 情况/ 中/ 也/ 将/ 进行/ 同样/ 的/ 操作/ ,/ 省略/ )/ ./ 因此/ ,/ 结论/ 成立/ ;/ / =/ / ∨/ / :/ 根据/ 定义/ ,/ / 和/ / 都/ 与/ φ/ 冲突/ ,/ 因为/ 有/ 根据/ 归纳/ 假设/ ,/ 结论/ 成立/ ;/ / =/ □/ / ,/ φ/ =/ ◇/ φ/ :/ 根据/ 定义/ 有/ ,/ / 与/ φ/ 冲突/ ,/ 因为/ 有/ 因此/ ,/ 结论/ 成立/ ./ 为/ 有/ / =/ □/ / ,/ φ/ =/ □/ φ/ :/ 根据/ 定义/ 有/ ,/ / 与/ φ/ 冲突/ ,/ 因/ {/ □/ / ,/ □/ φ/ }/ 因此/ ,/ 结论/ 成立/ ./ 义有/ ,/ / 与/ φ/ 冲突/ ,/ 因为/ 有/ / =/ □/ / ,/ φ/ 不能/ 表示/ 为/ □/ φ/ 和/ ◇/ φ/ 形式/ :/ 根据/ 定/ 因此/ 结论/ 成立/ ./ 归纳/ 完毕/ ./ 对于/ 任意/ 包含/ / 和/ φ/ 的/ 公式/ 集/ X/ 都/ 能/ 使用/ θ/ 规则/ 得到/ 公式/ 集/ {/ / ,/ φ/ }/ ,/ 也/ 即/ 存在/ 一个/ 封闭/ 的/ Tableau/ 与/ X/ 对应/ ,/ 因此/ X/ 是/ / S4/ -/ 不/ 一致/ 的/ ./ 定理/ 1/ 保证/ 了/ 任意/ 公式/ 集中/ 若/ 出现/ 了/ 互相冲突/ 的/ 公式/ ,/ 我们/ 能够/ 提前/ 判定/ 其/ 在/ S4/ 下为/ 不可/ 满足/ ,/ 因此/ 能够/ 节省/ 求解/ 时间/ ./ 在/ BCP/ 过程/ 中/ ,/ 如果/ 发现/ 公式/ 集中/ 出现/ 否定/ 范式/ / 和/ φ/ ∨/ ζ/ ,/ 且/ / 与/ φ/ 相互/ 冲突/ ,/ 则/ 在/ 公式/ 集上/ 使用/ 如下/ 规则/ :/ 同时/ ,/ 命题/ 1/ 保证/ 了/ 我们/ 无需/ 再/ 使用/ 4.1/ 节中/ 所述/ 的/ BCP/ -/ 规则/ ./ 另外/ ,/ 如果/ 发现/ 公式/ 集中/ 出现/ 否定/ 范式/ / 和/ nnf/ (/ / φ/ )/ ∨/ ζ/ ,/ 且/ / 和/ φ/ 相互/ 冲突/ ,/ 则/ 在/ 公式/ 集上/ 使用/ 如下/ 规则/ :/ 显然/ ,/ BCP/ -/ 规则/ 和/ / -/ 规则/ 的/ 使用/ ,/ 能/ 减少/ ∨/ -/ 规则/ 的/ 使用/ 次数/ ,/ 故能/ 提高/ 求解/ 效率/ ./ 每次/ 需要/ 判断/ 两个/ 公式/ 是否/ 相互/ 冲突/ 时/ 临时/ 进行/ 计算/ 是/ 不/ 可取/ 的/ ,/ 在/ S4P/ 中/ 首先/ 为/ 待/ 证明/ 的/ 公式/ / 的/ 子/ 公式/ 集/ Sub/ (/ / )/ 计算/ 一个/ 冲突/ 关系/ 矩阵/ 用来/ 保存/ 其中/ 元素/ 之间/ 的/ 相互/ 冲突/ 关系/ (/ 显然/ ,/ 这一/ 过程/ 能/ 在/ 多项式/ 时间/ 内/ 完成/ )/ ,/ 当/ 需要/ 知道/ 两个/ 公式/ 是否/ 相互/ 冲突/ 时/ ,/ 仅/ 需/ 查找/ 对应/ 的/ 矩阵/ 入口/ 即可/ ./ (/ 2/ )/ 矛盾/ 学习/ 技术/ 对于/ Tableau/ 中/ 对/ ◇/ / 使用/ S4/ -/ 规则/ 所/ 得到/ 的/ 节点/ ,/ 如果/ 其/ 标记/ 的/ 公式/ 集非/ / S4/ -/ 一致/ ,/ 则/ 说明/ {/ ◇/ / }/ ∪/ {/ □/ φ/ |/ □/ φ/ ∈/ X/ }/ 非/ / S4/ -/ 一致/ ,/ 其中/ ,/ X/ 为/ 该/ 节点/ 的/ 父亲/ 节点/ 标记/ 的/ 公式/ 集/ ./ 为了/ 确保/ 同样/ 的/ 矛盾/ 不/ 在/ ◇/ / 第一次/ 出现/ 的/ 节点/ 的/ 后继/ 节点/ 中/ 再次出现/ ,/ S4P/ 为/ Tableau/ 中/ 的/ 所有/ 节点/ 增加/ 一个/ 公式/ 集簇/ ,/ 称为/ 矛盾/ 原因/ 集/ ,/ 并/ 将/ 公式/ ∨/ □/ φ/ ∈/ Xnnf/ (/ / □/ φ/ )/ 加入/ 到/ 公式/ ◇/ / 第一次/ 出现/ 的/ 节点/ 的/ 后继/ 节点/ 的/ 矛盾/ 原因/ 集中/ ,/ 然后/ 确保/ 每个/ 节点/ 的/ 矛盾/ 原因/ 集中/ 任意/ 公式/ 都/ 至少/ 有/ 一个/ 析取/ 项/ 在/ 该/ 节点/ 标记/ 的/ 公式/ 集中/ 不/ 存在/ 与/ 之/ 冲突/ 的/ 公式/ ,/ 不能/ 满足/ 此/ 要求/ 的/ 节点/ 直接/ 标记/ 为/ / S4/ -/ 不/ 一致/ ./ 对于/ ∨/ -/ 规则/ 作用/ 的/ 节点/ ,/ 首先/ 继承/ 其父/ 节点/ 中/ 所有/ 矛盾/ 原因/ ,/ 然后/ 每次/ 从子/ 节点/ 返回/ 时/ 都/ 会/ 回收/ 新/ 的/ 矛盾/ 原因/ ,/ 并/ 在/ 返回/ 时/ 传给/ 自己/ 的/ 父/ 节点/ ./ 每个/ 封闭/ 的/ S4/ -/ 规则/ 节点/ 都/ 能/ 学习/ 到/ 一个/ 新/ 的/ 矛盾/ 原因/ ./ 图/ 1/ 是/ 一个/ 矛盾/ 学习/ 的/ 简单/ 例子/ ./ Page65/ 模型/ 提取/ 技术/ 本/ 节/ 我们/ 分两/ 小节/ 进行/ 叙述/ ,/ 其中/ 在/ 5.2/ 节/ 中将/ 用到/ 5.1/ 节中/ 的/ 结论/ ./ 首先/ ,/ 我们/ 将/ 给出/ 模型/ 规约/ 的/ 定义/ ,/ 并/ 给出/ 规约/ 的/ 正确性/ 证明/ ./ 其次/ ,/ 我们/ 将/ 讨论/ 如何/ 从/ 模型/ 图中/ 提取/ 一个/ 规模/ 尽可能/ 小/ 的/ 模型/ ,/ 为此/ 我们/ 将/ 提出/ 通用/ 模型/ 的/ 概念/ 并/ 给出/ 通用/ 模型/ 的/ 规约/ 技术/ 及其/ 正确性/ 证明/ ./ 5.1/ 模型/ 规约/ 定义/ 2/ ./ 对于/ 模型/ =/ 〈/ W/ ,/ R/ ,/ V/ 〉/ 中/ 的/ 两个/ 状态/ w/ 和/ v/ ,/ 如果/ 满足/ 如下/ 条件/ ,/ 则/ 称/ 二者/ 是/ 可/ 规约/ 的/ :/ (/ 1/ )/ w/ 和/ v/ 满足/ 相同/ 的/ 命题/ ,/ 即/ {/ p/ ∈/ / |/ w/ ∈/ V/ (/ p/ )/ }/ =/ {/ p/ ∈/ / |/ v/ ∈/ V/ (/ p/ )/ }/ ;/ (/ 2/ )/ 若/ wRw/ 或/ wRv/ ,/ 令/ W1/ =/ {/ w/ ,/ v/ }/ ,/ 否则/ 令/ W1/ =/ / ;/ 若/ vRw/ 或/ vRv/ ,/ 令/ W2/ =/ {/ w/ ,/ v/ }/ ,/ 否则/ 令/ W2/ =/ / ;/ 我们/ 有/ W1/ ∪/ {/ u/ |/ wRu/ }/ =/ W2/ ∪/ {/ u/ |/ vRu/ }/ ./ 对/ w/ 和/ v/ 进行/ 规约/ 后/ 得到/ 模型/ =/ 〈/ W/ ,/ R/ ,/ V/ 〉/ ,/ 其中/ ,/ W/ =/ W/ \/ {/ v/ }/ ,/ R/ =/ {/ (/ u/ ,/ u/ )/ |/ uRu/ }/ ∪/ {/ (/ u/ ,/ w/ )/ |/ uRv/ }/ ,/ 对于/ 任意/ 命题/ p/ 有/ V/ (/ p/ )/ =/ V/ (/ p/ )/ \/ {/ v/ }/ ./ 例/ 1/ ./ 给定/ 模型/ =/ 〈/ ,/ V/ 〉/ ,/ 其中/ 如图/ 2/ (/ 左/ )/ 所示/ ,/ 且/ 对于/ 任意/ 命题/ p/ 有/ V/ (/ p/ )/ =/ / ./ w/ 和/ v/ 可/ 规约/ ,/ 对/ 二者/ 规约/ 后/ 的/ 模型/ 为/ =/ 〈/ ,/ V/ 〉/ ,/ 其中/ ,/ 如图/ 2/ (/ 中/ )/ 所示/ ,/ 且/ 对于/ 任意/ 命题/ p/ 有/ V/ (/ p/ )/ =/ / ./ 继续/ 对/ 中/ u/ 和/ w/ 进行/ 规约/ 得到/ 的/ 模型/ 为/ =/ 〈/ ,/ V/ 〉/ ,/ 其中/ 如图/ 2/ (/ 右/ )/ 所示/ 且/ 对于/ 任意/ 命题/ p/ 有/ V/ (/ p/ )/ =/ / ./ 最后/ ,/ 中/ u/ 与/ u/ 是/ 不可/ 规约/ 的/ ./ 型/ ./ 下面/ 说明/ 模型/ 规约/ 的/ 正确性/ ./ 由例/ 1/ 可知/ ,/ 对模型/ 进行/ 规约/ 后能/ 明显/ 简化/ 模/ 引理/ 1/ ./ 对于/ 给定/ 的/ 模型/ =/ 〈/ W/ ,/ R/ ,/ V/ 〉/ ,/ 若/ 其/ 满足/ 表/ 1/ 中/ 连续/ 、/ 自/ 反/ 、/ 对称/ 、/ 传递/ 、/ 欧几里得/ 中/ 任意/ 属性/ ,/ 经过/ 规约/ 后/ 的/ 模型/ 仍然/ 满足/ 该/ 属性/ ./ 证明/ ./ 假设/ 规约/ 模型/ =/ 〈/ W/ ,/ R/ ,/ V/ 〉/ 中/ 的/ 状态/ w/ 和/ v/ 后/ 得到/ 模型/ 为/ =/ 〈/ W/ ,/ R/ ,/ V/ 〉/ ./ 连续/ ./ 给定/ u/ ∈/ W/ ,/ 因为/ R/ 是/ 连续/ 的/ ,/ 于是/ 存在/ u/ 使得/ uRu/ ,/ 若/ u/ =/ w/ ,/ 有/ (/ w/ ,/ u/ )/ ∈/ {/ (/ w/ ,/ u/ )/ |/ wRu/ }/ / R/ ;/ 若/ u/ ≠/ w/ 且/ u/ =/ w/ ,/ 有/ (/ u/ ,/ w/ )/ ∈/ {/ (/ u/ ,/ w/ )/ |/ uRw/ 或/ uRv/ }/ / R/ ;/ 否则/ 有/ (/ u/ ,/ u/ )/ ∈/ {/ (/ u/ ,/ u/ )/ |/ uRu/ ,/ u/ ≠/ w/ ,/ u/ ≠/ w/ }/ / R/ ./ 自反/ ./ 给定/ u/ ∈/ W/ ,/ 若/ u/ =/ w/ ,/ 因为/ R/ 是/ 自反/ 的/ ,/ 有/ (/ w/ ,/ w/ )/ ∈/ {/ (/ w/ ,/ u/ )/ |/ wRu/ }/ / R/ ;/ 否则/ u/ ≠/ w/ ,/ 有/ (/ u/ ,/ u/ )/ ∈/ {/ (/ u/ ,/ u/ )/ |/ uRu/ ,/ u/ ≠/ w/ ,/ u/ ≠/ w/ }/ / R/ ./ 对称/ ./ 给定/ u/ ,/ u/ ∈/ W/ 且/ uRu/ ,/ 若/ u/ ≠/ w/ 且/ u/ ≠/ w/ ,/ 有/ (/ u/ ,/ u/ )/ ∈/ {/ (/ u/ ,/ u/ )/ |/ uRu/ ,/ u/ ≠/ w/ ,/ w/ ≠/ v/ }/ ,/ 即/ uRu/ ,/ 因为/ R/ 是/ 对称/ 的/ ,/ 于是/ uRu/ ,/ 因此/ (/ u/ ,/ u/ )/ ∈/ {/ (/ u/ ,/ u/ )/ |/ uRu/ ,/ u/ ≠/ w/ ,/ w/ ≠/ v/ }/ / R/ ;/ 若/ u/ =/ w/ 且/ u/ ≠/ w/ ,/ 有/ (/ w/ ,/ u/ )/ ∈/ {/ (/ w/ ,/ u/ )/ |/ wRu/ }/ ,/ 即/ wRu/ ,/ 因为/ R/ 是/ 对称/ 的/ ,/ 于是/ uRw/ ,/ 因此/ (/ u/ ,/ w/ )/ ∈/ {/ (/ u/ ,/ w/ )/ |/ uRw/ 或/ uRv/ }/ / R/ ;/ 若/ u/ ≠/ w/ 且/ u/ =/ w/ ,/ 有/ uRw/ 或/ uRv/ ,/ 若/ uRv/ ,/ 可/ 规约/ 的/ 条件/ (/ 2/ )/ 保证/ 了/ 必然/ 有/ uRw/ ,/ 于是/ 有/ wRu/ ,/ 因此/ (/ w/ ,/ u/ )/ ∈/ {/ (/ w/ ,/ u/ )/ |/ wRu/ }/ / R/ ;/ 若/ u/ =/ u/ =/ w/ ,/ 则/ (/ w/ ,/ w/ )/ ∈/ {/ (/ u/ ,/ w/ )/ |/ uRw/ 或/ uRv/ }/ 或/ (/ w/ ,/ w/ )/ ∈/ {/ (/ w/ ,/ u/ )/ |/ wRu/ }/ ,/ 于是/ wRw/ 或/ wRv/ ,/ (/ w/ ,/ w/ )/ ∈/ {/ (/ u/ ,/ w/ )/ |/ uRw/ 或/ uRv/ }/ / R/ ./ 传递/ ./ 给定/ u/ ,/ u/ ,/ u/ ∈/ W/ ,/ 且/ uRu/ 和/ uRu/ ,/ 若/ u/ =/ u/ 或/ u/ =/ u/ ,/ 显然/ 成立/ ;/ 若/ u/ =/ u/ =/ w/ 且/ u/ ≠/ w/ ,/ 类似/ 于/ 对称性/ 的/ 证明/ ;/ 若/ u/ ≠/ w/ ,/ u/ =/ w/ 且/ u/ ≠/ w/ ,/ 于是/ (/ u/ ,/ w/ )/ ∈/ {/ (/ u/ ,/ w/ )/ |/ uRw/ 或/ uRv/ }/ 且/ (/ u/ ,/ w/ )/ ∈/ {/ (/ w/ ,/ u/ )/ |/ wRu/ }/ ,/ 即/ uRw/ 且/ wRu/ ,/ 因为/ R/ 是/ 传递/ 的/ ,/ 于是/ uRu/ ,/ 即/ (/ u/ ,/ u/ )/ ∈/ {/ (/ u/ ,/ u/ )/ |/ uRu/ ,/ u/ ≠/ w/ ,/ w/ ≠/ v/ }/ / R/ ;/ 若/ u/ ≠/ w/ ,/ u/ ≠/ w/ ,/ 且/ u/ ≠/ w/ ,/ 于是/ (/ u/ ,/ w/ )/ ∈/ {/ (/ u/ ,/ u/ )/ |/ uRu/ ,/ u/ ≠/ w/ ,/ w/ ≠/ v/ }/ 且/ (/ w/ ,/ u/ )/ ∈/ {/ (/ u/ ,/ u/ )/ |/ uRu/ ,/ u/ ≠/ w/ ,/ w/ ≠/ v/ }/ ,/ 即/ uRw/ 且/ wRu/ ,/ 因为/ R/ 是/ 传递/ 的/ ,/ 于是/ (/ u/ ,/ u/ )/ ∈/ {/ (/ u/ ,/ u/ )/ |/ uRu/ ,/ u/ ≠/ w/ ,/ w/ ≠/ v/ }/ / R/ ./ 欧几里得/ ./ 给定/ u/ ,/ u/ ,/ u/ ∈/ W/ ,/ 且/ uRu/ 和/ uRu/ ,/ 若/ u/ =/ u/ ,/ 显然/ 成立/ ;/ 若/ u/ =/ u/ =/ w/ 且/ u/ ≠/ w/ ,/ 类似/ 于/ 对称性/ 的/ 证明/ ;/ 若/ u/ =/ w/ ,/ u/ ≠/ w/ 且/ u/ ≠/ w/ ,/ 有/ (/ w/ ,/ u/ )/ ∈/ {/ (/ w/ ,/ u/ )/ |/ wRu/ }/ 且/ (/ w/ ,/ u/ )/ ∈/ {/ (/ w/ ,/ u/ )/ |/ wRu/ }/ ,/ 于是/ wRu/ 且/ wRu/ ,/ 由于/ R/ 是/ 欧几里得/ 式/ 的/ ,/ 有/ uRu/ ,/ 因此/ (/ u/ ,/ u/ )/ ∈/ {/ (/ u/ ,/ u/ )/ |/ uRu/ ,/ u/ ≠/ w/ ,/ w/ ≠/ v/ }/ / R/ ;/ 若/ u/ ≠/ w/ ,/ u/ =/ u/ =/ w/ ,/ 于是/ uRw/ 或/ uRv/ ,/ 由于/ R/ 是/ 欧几里得/ 式/ 的/ ,/ 有/ wRw/ 或/ vRv/ ,/ 若/ vRv/ ,/ 可/ 规约/ 的/ 条件/ (/ 2/ )/ 保证/ 了/ 必然/ 有/ wRv/ 或/ wRw/ ,/ 即/ wRw/ 或/ vRv/ 等价/ 于/ wRw/ 或/ wRv/ ,/ 因此/ (/ w/ ,/ w/ )/ ∈/ {/ (/ u/ ,/ w/ )/ |/ uRw/ 或/ uRv/ }/ / R/ ;/ 若/ u/ ≠/ w/ ,/ u/ =/ u/ ≠/ w/ ,/ 类似/ 于/ 对称性/ 的/ 证明/ ;/ 若/ u/ ≠/ w/ ,/ u/ ≠/ w/ 且/ u/ =/ w/ ,/ 有/ uRu/ ,/ 及/ uRw/ 或/ uRv/ ,/ 由于/ R/ 是/ 欧几里得/ 式/ 的/ ,/ 有/ uRw/ 或/ uRv/ ,/ 因此/ (/ u/ ,/ w/ )/ ∈/ {/ (/ u/ ,/ w/ )/ |/ uRw/ 或/ uRv/ }/ / R/ ;/ 若/ u/ ≠/ w/ ,/ u/ ≠/ w/ 且/ u/ ≠/ w/ ,/ 于是/ uRu/ 且/ uRu/ ,/ 因为/ R/ 是/ 欧几里得/ 式/ 的/ ,/ 于是/ (/ u/ ,/ u/ )/ ∈/ {/ (/ u/ ,/ u/ )/ |/ uRu/ ,/ u/ ≠/ w/ ,/ w/ ≠/ v/ }/ / R/ ./ 定义/ 3/ [/ 17/ ]/ ./ 给定/ 模型/ =/ 〈/ W/ ,/ R/ ,/ V/ 〉/ 和/ =/ Page7/ 〈/ W/ ,/ R/ ,/ V/ 〉/ ,/ 满足/ 下述/ 条件/ 的/ 非空/ 的/ 二元关系/ Z/ / W/ ×/ W/ 称为/ 和/ 的/ 互/ 模拟/ (/ bisimulation/ )/ :/ (/ 1/ )/ 若/ wZw/ ,/ 则/ w/ 和/ w/ 满足/ 相同/ 的/ 命题/ ,/ 即/ {/ p/ ∈/ / |/ w/ ∈/ V/ (/ p/ )/ }/ =/ {/ p/ ∈/ / |/ w/ ∈/ V/ (/ p/ )/ }/ ;/ (/ 2/ )/ 若/ wZw/ 且/ wRv/ ,/ 则/ 中/ 存在/ v/ 使得/ vZv/ 且/ wRv/ ;/ (/ 3/ )/ 若/ wZw/ 且/ wRv/ ,/ 则/ 中/ 存在/ v/ 使得/ vZv/ 且/ wRv/ ./ 引理/ 2/ [/ 17/ ]/ ./ 若/ 模型/ 和/ 之间/ 存在/ 互/ 模拟/ Z/ ,/ 则/ 对于/ 任意/ wZw/ 和/ 任意/ 公式/ / 都/ 有/ ,/ ,/ w/ / / 当且/ 仅/ 当/ ,/ w/ / / ./ 引理/ 3/ ./ 对于/ 给定/ 模型/ 及其/ 上/ 可/ 规约/ 的/ 两个/ 状态/ w/ 和/ v/ ,/ 假设/ 对/ w/ 和/ v/ 规约/ 后/ 得到/ 的/ 模型/ 为/ ,/ 则/ 二元关系/ Z/ =/ {/ (/ u/ ,/ u/ )/ |/ u/ ≠/ w/ ,/ u/ ≠/ v/ }/ ∪/ {/ (/ w/ ,/ w/ )/ ,/ (/ v/ ,/ w/ )/ }/ 是/ 和/ 之间/ 的/ 互/ 模拟/ ./ 证明/ ./ 定义/ 3/ 中/ 条件/ (/ 1/ )/ 显然/ 能/ 被/ 满足/ ./ 条件/ (/ 2/ )/ ./ 假设/ wZw/ 且/ wRv/ ,/ 证明/ 中/ 存在/ v/ 使得/ vZv/ 且/ wRv/ ./ 若/ v/ =/ w/ 或/ v/ =/ v/ ,/ 令/ v/ =/ w/ 即可/ 满足要求/ ;/ 否则/ ,/ 令/ v/ =/ v/ 能够/ 满足要求/ ./ 条件/ (/ 3/ )/ ./ 假设/ wZw/ 且/ wRv/ ,/ 证明/ 中/ 存在/ v/ 使得/ vZv/ 且/ wRv/ ./ 若/ w/ =/ w/ 且/ v/ =/ w/ 因此/ 有/ wRw/ 或/ wRv/ 成立/ ,/ 显然/ 满足要求/ ;/ 若/ w/ =/ w/ 且/ v/ ≠/ w/ ,/ 令/ v/ =/ v/ 即可/ 满足要求/ ;/ 若/ w/ ≠/ w/ ,/ 根据/ Z/ 的/ 定义/ 必然/ 有/ w/ =/ v/ 且/ w/ =/ w/ ,/ 若/ v/ =/ w/ ,/ 因此/ 有/ wRw/ 或/ wRv/ 成立/ ,/ 根据/ 可/ 规约/ 的/ 条件/ (/ 2/ )/ ,/ 必然/ 有/ vRw/ 或/ vRv/ 成立/ ,/ 满足要求/ ,/ 否则/ v/ ≠/ w/ ,/ 于是/ 有/ wRv/ ,/ 根据/ 可/ 规约/ 的/ 条件/ (/ 2/ )/ ,/ 必然/ 有/ vRv/ ,/ 满足要求/ ./ 由/ 引理/ 1/ ~/ 3/ 可知/ ,/ 有如/ 下结论/ 成立/ ./ 定理/ 2/ ./ 对于/ 任意/ 依赖于/ 表/ 1/ 中/ 公理/ 组合/ 的/ 模态逻辑/ L/ 以及/ 满足/ L/ 的/ 限制/ 条件/ 的/ 模型/ ,/ 经过/ 若干次/ 规约/ 后/ 得到/ 的/ 模型/ 仍然/ 满足/ L/ 的/ 限制/ ,/ 同时/ 对于/ 任意/ 模态/ 公式/ / ,/ 若中/ 存在/ 状态/ w/ 使得/ ,/ w/ / / ,/ 则/ 中/ 必然/ 存在/ 状态/ w/ 使得/ ,/ w/ / / ./ 5.2/ 模型/ 提取/ 根据/ 文献/ [/ 1/ ]/ 的/ 思想/ ,/ Tableau/ 算法/ 会为/ 可/ 满足/ 的/ 公式/ 建立/ 一个/ 模型/ 图/ ./ 这一/ 小节/ 介绍/ 如何/ 从/ 模型/ 图中/ 得到/ 一个/ 规模/ 尽可能/ 小/ 的/ 模型/ ./ 为了/ 更好/ 地/ 形式化/ ,/ 首先/ 给出/ 通用/ 模型/ 的/ 概念/ ./ 定义/ 4/ ./ 通用/ 模型/ 是/ 一个/ 三元组/ =/ 〈/ W/ ,/ R/ ,/ V/ +/ ,/ V/ -/ 〉/ ,/ 其中/ 〈/ W/ ,/ R/ 〉/ 是/ 一个/ 框架/ ,/ V/ +/ 和/ V/ -/ 都/ 是/ 将/ 命题/ 集合/ / 中/ 命题/ p/ 映射/ 为/ W/ 的/ 一个/ 子集/ V/ +/ (/ p/ )/ 和/ V/ -/ (/ p/ )/ 的/ 函数/ ,/ V/ +/ (/ p/ )/ 为/ 通用/ 模型/ 中/ 使得/ p/ 为/ 真的/ 状态/ 集合/ ,/ V/ -/ (/ p/ )/ 为/ 通用/ 模型/ 中/ 使得/ p/ 为/ 假/ 的/ 状态/ 集合/ ,/ 形式化/ 表示/ 为/ V/ +/ :/ / / 2W/ ,/ V/ -/ :/ / / 2W/ ,/ 且/ 对于/ 任意/ 命题/ p/ ∈/ / 都/ 满足/ V/ +/ (/ p/ )/ ∩/ V/ -/ (/ p/ )/ =/ / ./ 给定/ 命题/ p/ 和/ 状态/ w/ ,/ 若/ w/ / V/ +/ (/ p/ )/ ∪/ V/ -/ (/ p/ )/ ,/ w/ 没有/ 约束/ 命题/ p/ ,/ 否则/ 若/ w/ ∈/ V/ +/ (/ p/ )/ ,/ 则/ 称/ w/ 正/ 约束/ 命题/ p/ ,/ 若/ w/ ∈/ V/ -/ (/ p/ )/ ,/ 则/ 称/ w/ 负/ 约束/ 命题/ p/ ./ 对于/ 模型/ =/ 〈/ W/ ,/ R/ ,/ V/ 〉/ ,/ 若/ 对于/ 任意/ 命题/ p/ 都/ 有/ V/ +/ (/ p/ )/ / V/ (/ p/ )/ 和/ V/ -/ (/ p/ )/ ∩/ V/ (/ p/ )/ =/ / ,/ 则/ 称/ 基于/ ./ 显然/ ,/ 通用/ 模型/ 可/ 作为/ 框架/ 和/ 模型/ 的/ 统一/ 表示/ ,/ 对于/ 给定/ =/ 〈/ W/ ,/ R/ ,/ V/ +/ ,/ V/ -/ 〉/ ,/ 如果/ 对于/ 任意/ 命题/ p/ 都/ 有/ V/ +/ (/ p/ )/ ∪/ V/ -/ (/ p/ )/ ,/ 则/ 可/ 视为/ 模型/ ,/ 如果/ 对于/ 任意/ 命题/ p/ 都/ 有/ V/ +/ (/ p/ )/ =/ V/ -/ (/ p/ )/ =/ / ,/ 则/ 可/ 视为/ 框架/ ./ 下面/ 给出/ 通用/ 模型/ 满足/ 公式/ 的/ 定义/ ./ 定义/ 5/ ./ 通用/ 模型/ 中/ 状态/ w/ 满足/ 公式/ / (/ 记/ 为/ ,/ w/ / / )/ 当且/ 仅/ 当/ 对于/ 任意/ 基于/ 的/ 模型/ 有/ ,/ w/ / / ./ 根据/ 文献/ [/ 1/ ]/ 的/ 思想/ ,/ 实际上/ Tableau/ 算法/ 建立/ 的/ 模型/ 图/ 都/ 对应/ 一个/ 通用/ 模型/ (/ 将/ 模型/ 图/ 作为/ 框架/ ,/ 然后/ 对/ 每个/ 状态/ 上/ 标记/ 的/ 命题/ 施加/ 正/ 约束/ ,/ 对/ 命题/ 的/ 否定/ 施加/ 负/ 约束/ )/ ,/ 同时/ ,/ 中/ 与/ 模型/ 图中/ 第一个/ 被/ 建立/ 的/ 节点/ 对应/ 的/ 状态/ 满足/ 公式/ ./ 例如/ ,/ 给定/ / =/ □/ ◇/ (/ p/ ∧/ q/ )/ ∧/ □/ ◇/ (/ p/ ∧/ / q/ )/ ∧/ □/ ◇/ (/ / p/ ∧/ q/ )/ ,/ Tableau/ 演算/ / S4/ 为/ 其/ 建立/ 的/ 模型/ 图/ 对应/ 的/ 通用/ 模型/ =/ 〈/ W/ ,/ R/ ,/ V/ +/ ,/ V/ -/ 〉/ 如图/ 3/ (/ a/ )/ 所示/ ,/ 其中/ R/ 为/ 图/ 中/ 关系/ 的/ 自反/ 传递/ 闭包/ ,/ 节点/ 标记/ 的/ 正/ 文字/ 为/ 该/ 节点/ 附加/ 的/ 正/ 约束/ ,/ 节点/ 标记/ 的/ 负/ 文字/ 为/ 节点/ 附加/ 的/ 负/ 约束/ ./ 显然/ ,/ w0/ / / ./ 一个/ 直观/ 的/ 从/ 通用/ 模型/ 中/ 提取/ 模型/ 的/ 方法/ 是/ 将/ 任一/ 基于/ 该/ 通用/ 模型/ 的/ 模型/ 作为/ 初始模型/ (/ 也/ 即/ 对/ 通用/ 模型/ 中/ 所有/ 未/ 约束/ 命题/ 进行/ 约束/ )/ ,/ 然后/ 对/ 进行/ 规约/ 得到/ 规模/ 更/ 小/ 的/ 模型/ ./ 但是/ ,/ 初始模型/ 的/ 不同/ 将/ 导致/ 最后/ 规约/ 得到/ 的/ 模型/ 的/ 不同/ ./ 下面/ 以为/ 例/ 进行/ 说明/ ./ 例/ 2/ ./ 我们/ 使用/ 两种/ 不同/ 方案/ 从图/ 3/ (/ a/ )/ 所示/ 的/ 通用/ 模型/ 中/ 提取/ 模型/ ./ 第/ 1/ 种/ 方案/ ①/ 是/ 对/ 未/ 约束/ p/ 或/ q/ 的/ 状态/ 都/ 附加/ 负/ 约束/ ,/ 最后/ 得到/ 的/ 模型/ 为/ =/ 〈/ W/ ,/ R/ ,/ V/ 〉/ ,/ V/ (/ p/ )/ =/ V/ +/ (/ p/ )/ ,/ V/ (/ q/ )/ =/ V/ +/ (/ q/ )/ ./ 对/ 进行/ 规约/ 后/ 得到/ 的/ 模型/ =/ 〈/ W/ ,/ R/ ,/ V/ 〉/ 如图/ 3/ (/ b/ )/ 所示/ ,/ 其中/ R/ 为/ 图/ 中/ 关系/ 的/ 自反/ 传递/ 闭包/ ,/ V/ (/ p/ )/ =/ {/ w1/ ,/ w4/ }/ ,/ V/ (/ q/ )/ =/ {/ w1/ ,/ w7/ }/ ./ 第/ 2/ 种/ 方案/ 是/ 对/ 未/ 约束/ p/ 或/ q/ 的/ 状态/ 都/ 附加/ 正/ 约束/ ,/ 则/ 得到/ 的/ 模型/ 为/ =/ 〈/ W/ ,/ R/ ,/ V/ 〉/ ,/ V/ (/ p/ )/ =/ V/ +/ (/ p/ )/ ∪/ {/ w0/ }/ ,/ V/ (/ q/ )/ =/ V/ +/ (/ q/ )/ ∪/ {/ w0/ }/ ,/ 对/ 进行/ 规约/ ,/ 得到/ 的/ 模型/ / =/ 〈/ W/ / ,/ R/ / ,/ V/ / 〉/ 如图/ 3/ (/ b/ )/ 所示/ ,/ 其中/ R/ / 为/ 图/ 中/ ①/ 实际上/ 这/ 也/ 是/ 文献/ [/ 1/ ,/ 6/ ]/ 从/ 模型/ 图上/ 构建/ 模型/ 的/ 思想/ ,/ 但是/ Page8/ 关系/ 的/ 自反/ 传递/ 闭包/ ,/ V/ / (/ p/ )/ =/ {/ w1/ ,/ w4/ }/ ,/ V/ / (/ q/ )/ =/ {/ w1/ ,/ w7/ }/ ./ / 显然/ 比少/ 了/ 一个/ 状态/ ,/ 事实上/ ,/ / 在/ 所有/ 满足/ / 的/ 自反/ 传递/ 模型/ 规模/ 最小/ ./ 由例/ 2/ 可知/ ,/ 给定/ 满足/ / 的/ 通用/ 模型/ ,/ 若中/ 状态/ w/ 未/ 约束/ 命题/ p/ ,/ 对/ 其/ 附加/ 约束/ 的/ 不同/ 将/ 直接/ 影响/ 到/ 最后/ 生成/ 的/ 模型/ 的/ 规模/ ./ 由于/ 事先/ 无法/ 预知/ 附加/ 哪/ 种/ 约束/ 更/ 有利于/ 生成/ 规模/ 更/ 小/ 的/ 模型/ ,/ 因此/ 一次性/ 将/ 通用/ 模型/ 转化/ 为/ 模型/ 再/ 进行/ 规约/ 不是/ 明智/ 的/ 做法/ ,/ 我们/ 采取/ 的/ 方法/ 是/ 直接/ 对/ 通用/ 模型/ 进行/ 规约/ 直到/ 不能/ 规约/ 为止/ ,/ 再/ 将/ 最后/ 得到/ 的/ 通用/ 模型/ 附加/ 约束/ 转化成/ 模型/ ./ 下面/ 给出/ 通用/ 模型/ 中/ 规约/ 的/ 定义/ ./ 定义/ 6/ ./ 对于/ 通用/ 模型/ =/ 〈/ W/ ,/ R/ ,/ V/ +/ ,/ V/ -/ 〉/ 中/ 的/ 两个/ 状态/ w/ 和/ v/ ,/ 如果/ 满足/ 如下/ 的/ 条件/ ,/ 则/ 称/ 二者/ 是/ 可/ 规约/ 的/ :/ (/ 1/ )/ w/ 和/ v/ 对/ 任意/ 相同/ 命题/ 未/ 施加/ 不同/ 约束/ ,/ 即/ {/ p/ ∈/ / |/ w/ ∈/ V/ +/ (/ p/ )/ ,/ v/ ∈/ V/ -/ (/ p/ )/ }/ =/ {/ p/ ∈/ / |/ w/ ∈/ V/ -/ (/ p/ )/ ,/ v/ ∈/ V/ +/ (/ p/ )/ }/ =/ / ./ (/ 2/ )/ 若/ wRw/ 或/ wRv/ ,/ 令/ W1/ =/ {/ w/ ,/ v/ }/ ,/ 否则/ 令/ W1/ =/ / ;/ 若/ vRw/ 或/ vRv/ ,/ 令/ W2/ =/ {/ w/ ,/ v/ }/ ,/ 否则/ 令/ W2/ =/ / ;/ 我们/ 有/ W1/ ∪/ {/ u/ |/ wRu/ }/ =/ W2/ ∪/ {/ u/ |/ vRu/ }/ ./ 对/ w/ 和/ v/ 进行/ 规约/ 后/ 得到/ 的/ 模型/ =/ 〈/ W/ ,/ R/ ,/ V/ +/ ,/ V/ -/ 〉/ ,/ 其中/ ,/ W/ =/ W/ \/ {/ v/ }/ ,/ R/ =/ {/ (/ u/ ,/ u/ )/ |/ uRu/ }/ ∪/ {/ (/ u/ ,/ w/ )/ |/ uRv/ }/ ,/ 对于/ 任意/ 命题/ p/ ,/ 若/ v/ ∈/ V/ +/ (/ p/ )/ ,/ 则/ V/ +/ (/ p/ )/ =/ (/ V/ +/ (/ p/ )/ \/ {/ v/ }/ )/ ∪/ {/ w/ }/ ,/ 否则/ ,/ V/ +/ (/ p/ )/ =/ V/ +/ (/ p/ )/ ;/ 若/ v/ ∈/ V/ -/ (/ p/ )/ ,/ 则/ V/ -/ (/ p/ )/ =/ (/ V/ -/ (/ p/ )/ \/ {/ v/ }/ )/ ∪/ {/ w/ }/ ,/ 否则/ ,/ V/ -/ (/ p/ )/ =/ V/ -/ (/ p/ )/ ./ 命题/ 2/ ./ 通用/ 模型/ 中/ 的/ 两个/ 状态/ 可/ 规约/ 当且/ 仅/ 当/ 任意/ 基于/ 其/ 的/ 模型/ 中/ 对应状态/ 可/ 规约/ ./ 证明/ ./ 由/ 定义/ 1/ 和/ 定义/ 3/ 可知/ 结论/ 显然/ 成立/ ./ 下面/ 说明/ 通用/ 模型/ 规约/ 的/ 正确性/ ./ 定理/ 3/ ./ 任意/ 依赖于/ 表/ 1/ 中/ 公理/ 组合/ 的/ 模态逻辑/ L/ ,/ 以及/ 满足/ L/ 的/ 限制/ 条件/ 的/ 通用/ 模型/ ,/ 经过/ 若干次/ 规约/ 后/ 的/ 通用/ 模型/ 仍然/ 满足/ L/ 的/ 限制/ ,/ 同时/ 对于/ 任意/ 公式/ / ,/ 若中/ 存在/ 状态/ w/ 使得/ ,/ w/ / / ,/ 则/ 中/ 必然/ 存在/ 状态/ w/ 使得/ ,/ w/ / / ./ 证明/ ./ 任意/ 基于/ 的/ 模型/ ,/ 必然/ 存在/ 一个/ 基于/ 的/ 模型/ 使得/ 对/ 使用/ 从/ 到/ 相同/ 的/ 规约/ 顺序/ 能够/ 得到/ ,/ 因为/ ,/ w/ / / ,/ 有/ ,/ w/ / / ,/ 根据/ 定理/ 2/ ,/ 同时/ 必然/ 存在/ 某个/ 状态/ w/ 使得/ ,/ w/ / / ,/ 因为/ 的/ 任意性/ 且/ 从/ 到/ 的/ 规约/ 顺序/ 与/ 从/ 到/ 的/ 规约/ 顺序/ 相同/ ,/ 有/ ,/ w/ / / ./ 证毕/ ./ 对于/ 同一个/ 状态/ ,/ 可能/ 存在/ 多个/ 能/ 与/ 之/ 进行/ 规约/ 的/ 其他/ 状态/ ./ 为了/ 选择/ 合适/ 的/ 状态/ 进行/ 规约/ ,/ 我们/ 给出/ 算法/ GReduce/ (/ 如/ 算法/ 1/ 所示/ )/ 引导/ 规约/ 过程/ ./ 对/ GReduce/ 算法/ 说明/ 如下/ :/ 算法/ 第/ 2/ 行/ 保证/ 了/ 每次/ 选择/ 进行/ 规约/ 的/ 两个/ 状态/ 中/ 至少/ 有/ 一个/ 状态/ w/ 满足/ 不/ 存在/ 其他/ 可/ 规约/ 的/ 状态/ v/ 使得/ v/ 上/ 施加/ 的/ 正/ 约束/ 和/ 负/ 约束/ 都/ 是/ w/ 施加/ 的/ 正/ 约束/ 和/ 负/ 约束/ 的/ 子集/ ;/ 第/ 4/ ~/ 8/ 行/ 的/ 作用/ 是/ 为/ 能/ 与/ w/ 进行/ 规约/ 的/ 每个/ 状态/ v/ 都/ 计算/ 一个/ 启发/ 值/ h/ (/ v/ )/ ,/ 然后/ 在/ 第/ 9/ 行/ 选择/ 一个/ 启发/ 值/ 最小/ 的/ 状态/ 与/ w/ 进行/ 规约/ ,/ 这种/ 做法/ 保证/ 了/ 若/ 存在/ 某个/ 状态/ v/ 使得/ / 1/ / / 2/ ,/ 必然/ 有/ h/ (/ v/ )/ =/ 0/ ,/ 因此/ 最后/ 被/ 选中/ 与/ w/ 进行/ 规约/ 的/ 状态/ v/ ①/ 必然/ 满足/ {/ p/ ∈/ / |/ w/ ∈/ V/ +/ (/ p/ )/ }/ / {/ p/ ∈/ / |/ v/ ∈/ V/ +/ (/ p/ )/ }/ 和/ {/ p/ ∈/ / |/ w/ ∈/ V/ -/ (/ p/ )/ }/ / {/ p/ ∈/ / |/ v/ ∈/ V/ -/ (/ p/ )/ }/ ,/ 也/ 即/ 对/ w/ 和/ v/ 进行/ 规约/ 得到/ 的/ 通用/ 模型/ 就/ 相当于/ 直接/ 从原/ 通用/ 模型/ 中/ 抹/ 去/ 了/ v/ 同时/ 没有/ 对/ w/ 施加/ 更/ 多/ 的/ 约束/ ,/ 直观/ 看来/ 这是/ 一个/ 好/ 的/ 选择/ ./ 显然/ ,/ 对于/ 状态/ 有限/ 且/ 每个/ 状态/ 上/ 施加/ 的/ 约束/ 有限/ 的/ 通用/ 模型/ ,/ GReduce/ 能/ 在/ 多项式/ 时间/ 内/ 终止/ ./ 读者/ 可以/ 验证/ ,/ 对图/ 3/ (/ a/ )/ 中/ 的/ 通用/ 模型/ 使用/ GReduce/ 算法/ 后能/ 将/ 其/ 规约/ 至/ 最简/ ./ 算法/ 1/ ./ GReduce/ (/ )/ ./ // // 对/ 通用/ 模型/ =/ 〈/ W/ ,/ R/ ,/ V/ +/ ,/ V/ -/ 〉/ 进行/ 规约/ 1/ ./ whilethereexiststwostatesincanbereduceddo2/ ./ Letwbeastatesuchthattheredoesnotexist/ ①/ 因为/ 可能/ 存在/ 多个/ 启发/ 值/ 相同/ 的/ 状态/ ,/ 因而/ v/ 和/ v/ 不/ 一定/ Page93/ ./ W/ ·/ ·/ =/ {/ v/ |/ v/ ∈/ W/ ,/ visreduciblewithw/ }/ 4/ ./ foreachv/ ∈/ Wdo5/ ./ / 1/ ·/ ·/ =/ {/ p/ |/ w/ ∈/ V/ +/ (/ p/ )/ orw/ ∈/ V/ -/ (/ p/ )/ }/ 6/ ./ / 2/ ·/ ·/ =/ {/ p/ |/ v/ ∈/ V/ +/ (/ p/ )/ orv/ ∈/ V/ -/ (/ p/ )/ }/ 7/ ./ h/ (/ v/ )/ ·/ ·/ =/ |/ / 2/ \/ / 1/ |/ ×/ |/ / 1/ \/ / 2/ |/ 8/ ./ end/ -/ for9/ ./ Letvbethestatesuchthath/ (/ v/ )/ istheleastvalue10/ ./ Reducewandv11/ ./ end/ -/ while/ 由/ 命题/ 2/ 可知/ ,/ 一个/ 通用/ 模型/ 中/ 的/ 两个/ 状态/ 如果/ 不可/ 规约/ ,/ 则/ 任意/ 基于/ 其/ 的/ 模型/ 中/ 对应/ 的/ 状态/ 都/ 是/ 不可/ 规约/ 的/ ./ 对于/ 任意/ 公式/ / ,/ 假设/ Tableau/ 算法/ 得到/ 的/ 模型/ 图/ 对应/ 的/ 通用/ 模型/ 为/ ,/ 对/ 调用/ GReduce/ 算法/ 进行/ 规约/ 后/ 得到/ 的/ 通用/ 模型/ 假设/ 为/ ,/ 由于/ 中/ 不/ 存在/ 可/ 规约/ 的/ 状态/ ,/ 因此/ 任意/ 基于/ 的/ 模型/ 中/ 的/ 也/ 不/ 存在/ 可/ 规约/ 的/ 状态/ ./ 由/ 定义/ 3/ 和/ 定理/ 3/ 可知/ ,/ 任取/ 一个/ 基于/ 的/ 模型/ 必然/ 存在/ 某个/ 状态/ w/ 使得/ ,/ w/ / / ,/ 同时/ 无需/ 再/ 对/ 进行/ 规约/ ./ 到/ 此时/ 为止/ ,/ 我们/ 完成/ 了/ 模型/ 的/ 提取/ 任务/ ./ 6/ 实验/ 结果/ 在/ 这/ 一节/ 中/ ,/ 我们/ 给出/ S4P/ 的/ 实验/ 结果/ ,/ 并/ 与/ RACER/ 和/ FaCT/ ++/ 进行/ 了/ 比较/ ./ 实验/ 的/ 硬件/ 设施/ 如下/ :/ CPUP4/ -/ 2.8/ GHz/ ,/ 内存/ 480MB/ ./ 开发/ 环境/ 为/ MicrosoftVisual/ C++/ 6.0/ ./ S4P/ 和/ RACER/ 在/ 表/ 2S4P/ 与/ RACER/ 和/ FaCT/ ++/ 的/ 比较/ 结果/ 测试用例/ s4/ _/ 45/ _/ ps4/ _/ 45/ _/ ns4/ _/ branch/ _/ p17/ -/ -/ </ 0.01210/ ./ 031988.35213/ ./ 98s4/ _/ branch/ _/ n65536655356553542/ ./ 661548.861382/ ./ 23632.26/ s4/ _/ grz/ _/ ps4/ _/ grz/ _/ ns4/ _/ ipc/ _/ ps4/ _/ ipc/ _/ ns4/ _/ md/ _/ ps4/ _/ md/ _/ ns4/ _/ path/ _/ p364/ -/ -/ </ 0.01210/ ./ 05894.192113/ ./ 62s4/ _/ path/ _/ ns4/ _/ ph/ _/ p42371/ -/ -/ 3.04717/ ./ 05872.36634/ ./ 16s4/ _/ ph/ _/ ns4/ _/ s5/ _/ ps4/ _/ s5/ _/ n21303714216/ ./ 68217.692091/ ./ 241780.61/ s4/ _/ t4p/ _/ ps4/ _/ t4p/ _/ n/ 实验/ 结果表明/ ,/ 对于/ 除/ s4/ _/ branch/ _/ n/ 外/ 的/ 其他/ 测试用例/ ,/ 通过/ 模型/ 规约/ 都/ 能/ 明显/ 缩减/ 模型/ 的/ 规模/ ;/ 对于/ s4/ _/ 45/ _/ p/ 、/ s4/ _/ branch/ _/ p/ 、/ s4/ _/ branch/ _/ n/ 、/ s4/ _/ ipc/ _/ p/ 、/ WindowsXP/ 下/ 运行/ ,/ FaCT/ ++/ 在/ Ubuntu8/ ./ 04/ 下/ 运行/ ./ 测试用例/ 为/ 逻辑/ 工作台/ (/ LogicWorkBench/ ,/ LWB/ )/ 测试/ 集中/ 9/ 类/ S4/ 公式/ ,/ 每/ 类/ 公式/ 中/ 都/ 分为/ 有效/ 的/ (/ valid/ )/ 和/ 非/ 有效/ 的/ (/ invalid/ )/ 两组/ ,/ 每组/ 包含/ 21/ 个/ 从/ 简单/ 到/ 复杂/ 的/ 公式/ ./ 我们/ 调用/ 推理机/ 判定/ 公式/ 的/ 否定/ 的/ 可/ 满足/ 性/ ,/ 若/ 公式/ 的/ 否定/ 可/ 满足/ ,/ 则/ 原/ 公式/ 非/ 有效/ ,/ 否则/ 原/ 公式/ 有效/ ./ 标准/ 的/ 测试方法/ 是/ 让/ 推理机/ 按照/ 公式/ 的/ 求解/ 难度/ 递增/ 顺序/ 对/ 公式/ 逐个/ 进行/ 求解/ ,/ 到/ 100s/ 为止/ ,/ 测试/ 推理机/ 能/ 求解/ 出/ 多少/ 公式/ 的/ 可/ 满足/ 性/ ./ 在/ 我们/ 的/ 实验/ 中/ ,/ 为了/ 分析/ S4P/ 对于/ 具体/ 公式/ 产生/ 的/ Tableau/ 的/ 规模/ 和/ 进行/ BCP/ 的/ 时间/ 以及/ 模型/ 规约/ 的/ 效果/ ,/ 采用/ 了/ 如下/ 不同/ 的/ 测试/ 方案/ :/ 按照/ 公式/ 的/ 求解/ 难度/ 递增/ 顺序/ 对/ 公式/ 进行/ 排序/ ,/ 对/ 每个/ 公式/ 限定/ 100s/ 的/ 测试/ 时间/ ,/ 最后/ 给出/ 100s/ 内能/ 求解/ 出/ 的/ 最难/ 公式/ 的/ 编号/ ;/ 对于/ 非/ 有效/ 的/ 公式/ ,/ 其/ 否定/ 是/ 可/ 满足/ 的/ ,/ 我们/ 对/ 满足/ 其/ 否定/ 的/ 模型/ 进行/ 规约/ ./ 实验/ 数据/ 如表/ 2/ 所示/ ./ 其中/ ,/ max/ 为/ 100s/ 内能/ 求解/ 的/ 最难/ 公式/ 的/ 编号/ ,/ total/ 为/ 该/ 公式/ 的/ 总/ 的/ 求解/ 时间/ ,/ Tableau/ 为/ S4P/ 求解/ 对应/ 公式/ 时/ 建立/ 的/ Tableau/ 的/ 规模/ ,/ BCP/ 为/ 进行/ 二元/ 约束/ 传播/ 需要/ 的/ 时间/ ,/ model/ 为/ 与/ 模型/ 图/ 对应/ 的/ 模型/ 的/ 规模/ ,/ model/ 为/ 规约/ 后/ 的/ 模型/ 的/ 规模/ ./ 所有/ 的/ 测试/ 时间/ 都/ 精确/ 到/ 0.01/ s/ ./ 在/ 表中/ ,/ 若/ Tableau/ 为/ 0/ ,/ 说明/ 对应/ 公式/ 经过/ 第/ 3/ 节/ 的/ 预处理/ 后/ 已/ 被/ 替换成/ 了/ ⊥/ 或/ / ⊥/ ,/ 显然/ ,/ 此时/ 对应/ 的/ total/ 仅为/ 预处理/ 的/ 时间/ ./ s4/ _/ md/ _/ p/ 、/ s4/ _/ md/ _/ n/ 、/ s4/ _/ path/ _/ p/ 、/ s4/ _/ path/ _/ n/ 、/ s4/ _/ ph/ _/ n/ 、/ s4/ _/ t4p/ _/ p/ 和/ s4/ _/ t4p/ _/ n/ ,/ S4P/ 的/ 求解/ 效率/ 明显/ 优于/ RACER/ ,/ 对于/ s4/ _/ ph/ _/ p/ ,/ S4P/ 的/ 求解/ 效率/ 低于/ Page10RACER/ ;/ 对于/ s4/ _/ branch/ _/ p/ 、/ s4/ _/ branch/ _/ n/ 、/ s4/ _/ ipc/ _/ p/ 、/ s4/ _/ ipc/ _/ n/ 、/ s4/ _/ md/ _/ p/ 、/ s4/ _/ md/ _/ n/ 、/ s4/ _/ path/ _/ p/ 、/ s4/ _/ path/ _/ n/ 、/ s4/ _/ ph/ _/ p/ 、/ s4/ _/ ph/ _/ n/ 、/ s4/ _/ s5/ _/ p/ 和/ s4/ _/ s5/ _/ n/ ,/ S4P/ 的/ 求解/ 效率/ 明显/ 优于/ FaCT/ ++/ ;/ 对于/ s4/ _/ ipc/ _/ n/ 和/ s4/ _/ path/ _/ n/ ,/ S4P/ 仅/ 需要/ 通过/ 预处理/ 即可/ 判定/ 出/ 对应/ 公式/ 的/ 可/ 满足/ 性/ ,/ 而/ RACER/ 求解/ s4/ _/ path/ _/ n/ 比较/ 困难/ ,/ FaCT/ ++/ 求解/ s4/ _/ ipc/ _/ n/ 比较/ 困难/ ,/ 说明/ RACER/ 和/ FaCT/ ++/ 中未/ 使用/ 或者/ 未/ 完全/ 使用/ S4P/ 中/ 的/ 预处理/ 技术/ ;/ S4P/ 求解/ 效率/ 相对/ 偏低/ 的/ 公式/ 包括/ s4/ _/ branch/ _/ n/ 、/ s4/ _/ md/ _/ p/ 、/ s4/ _/ ph/ _/ p/ 、/ s4/ _/ ph/ _/ n/ 、/ s4/ _/ s5/ _/ n/ ,/ 除/ 问题/ s4/ _/ md/ _/ p/ 外/ ①/ ,/ S4P/ 在/ 求解/ 其他/ 4/ 类/ 公式/ 时所/ 生成/ 的/ Tableau/ 的/ 规模/ 非常/ 大/ ,/ 同时/ 进行/ 二元/ 约束/ 传播/ 的/ 时间/ 占/ 总/ 求解/ 时间/ 中/ 的/ 比例/ 非常/ 大/ ./ 为了/ 减/ 小S/ 4P/ 求解/ 问题/ 时/ 产生/ 的/ Tableau/ 的/ 规模/ ,/ 设计/ 启发式/ 函数/ 引导/ 搜索/ 是/ 非常/ 必要/ 的/ ,/ 我们/ 在/ 设计/ S4P/ 也/ 曾/ 尝试/ 其他/ 推理机/ 中/ 使用/ 的/ 启发式/ 函数/ ,/ 但是/ 效果/ 不/ 明显/ ,/ 这/ 依然/ 是/ 我们/ 将来/ 工作/ 的/ 重点/ ./ 为了/ 减少/ 二元/ 约束/ 传播/ 的/ 时间/ ,/ 在/ S4P/ 中/ 已经/ 使用/ 了/ 著名/ 的/ SAT/ 求解/ 器/ zChaff/ 中/ 使用/ 的/ twowatchedliterals/ 技术/ [/ 18/ ]/ ,/ 同时/ ,/ 我们/ 将/ 继续/ 关注/ SAT/ 求解/ 领域/ 中/ 提出/ 的/ 最新/ BCP/ 技术/ ./ 最后/ ,/ 本文/ 利用/ 文献/ [/ 19/ ]/ 中/ 已有/ 的/ 实验/ 结果/ 对/ S4P/ 和/ 最新/ 模态/ 推理机/ InKreSAT/ 以及/ 基于/ Tableau/ 算法/ 的/ 混合/ 逻辑推理/ 机/ Spartacus/ 进行/ 了/ 间接/ 对比/ ./ 文献/ [/ 19/ ]/ 中/ 实验/ 平台/ 的/ CPU/ 为/ Pentium4/ -/ 2.8/ GHz/ ,/ 内存/ 为/ 1GB/ ,/ 其/ 使用/ 的/ 测试用例/ 也/ 为/ LWB/ 测试/ 集中/ 18/ 组/ S4/ 公式/ ,/ 在/ 测试/ 过程/ 中其为/ 每类/ 公式/ 中/ 单一/ 公式/ 设定/ 最大/ 求解/ 时间/ 60s/ ./ 由/ 文献/ [/ 19/ ]/ 中/ 实验/ 结果/ 可知/ ,/ InKreSAT/ 和/ Spartacus/ 在/ 规定/ 的/ 时间/ 内能/ 完整/ 求解/ 可/ 满足/ 性/ 的/ 公式/ 的/ 组数/ 分别/ 为/ 10/ 组和/ 13/ 组/ ,/ 而由表/ 2/ 中/ 实验/ 结果/ 可知/ 若/ 将/ 单一/ 问题/ 的/ 最大/ 求解/ 时间/ 同样/ 设定/ 为/ 60s/ ,/ S4P/ 能/ 在/ 一个/ 具有/ 相同/ CPU/ 但/ 更/ 小/ 内存/ 的/ 系统/ 上/ 完整/ 求解/ 出/ 15/ 组/ 问题/ 的/ 可/ 满足/ 性/ ,/ 优于/ InKreSAT/ 和/ Spartacus/ ./ 7/ 结语/ 本文/ 提出/ 了/ 两种/ Tableau/ 算法/ 优化/ 技术/ —/ —/ —/ 冲突/ 技术/ 和/ 矛盾/ 学习/ 技术/ ,/ 然后/ 结合/ 这/ 两种/ 新/ 技术/ 和/ 三种/ 已/ 在/ 其他/ 推理机/ 中/ 使用/ 的/ 技术/ 实现/ 了/ 模态逻辑/ S4/ 的/ 推理机/ S4P/ ./ 本文/ 在/ 逻辑/ 工作台/ 测试用例/ 上/ 对/ S4P/ 的/ 效率/ 进行/ 了/ 测试/ ,/ 并/ 与/ 著名/ 的/ 描述/ 逻辑推理/ 机/ RACER/ 和/ FaCT/ ++/ 进行/ 了/ 比较/ ,/ 实验/ 结果表明/ ,/ S4P/ 的/ 推理/ 效率/ 优于/ 二者/ ./ 最后/ ,/ 本文/ 给出/ 了/ 从/ Tableau/ 算法/ 生成/ 的/ 模型/ 图中/ 构造/ 一个/ 规模较/ 小/ 的/ 模型/ 的/ 方法/ ,/ 并/ 给出/ 了/ 该/ 方法/ 对于/ 所有/ 依赖于/ 公理/ D/ 、/ T/ 、/ B/ 、/ 4/ 、/ 5/ 的/ 模态逻辑/ (/ 即/ K/ 、/ KT/ 、/ KD/ 、/ K4/ 、/ K5/ 、/ KB/ 、/ KDB/ 、/ B/ 、/ KD4/ 、/ K45/ 、/ KD5/ 、/ KD45/ 、/ S4/ 、/ KB4/ 和/ S5/ )/ 的/ 正确性/ 证明/ ./ 本文/ 对/ 测试用例/ 中非/ 有效/ 公式/ 的/ 否定/ 对应/ 的/ 模型/ 进行/ 规约/ ./ 实验/ 结果表明/ ,/ 本文/ 提出/ 的/ 规约/ 方法/ 能/ 明显/ 缩减/ 模型/ 的/ 规模/ ./ 本文/ 未来/ 工作/ 将/ 从/ 如下/ 两点/ 上/ 继续/ 提高/ S4P/ 的/ 推理/ 效率/ :/ 设计/ 一个/ 优秀/ 的/ 启发式/ 函数/ 引导/ 搜索/ ;/ 进一步/ 降低/ BCP/ 时间/ ./ 致谢/ 感谢/ DmitryTsarkov/ ,/ 他/ 告诉/ 了/ 我们/ 使用/ FaCT/ ++/ 判定/ 模态/ 公式/ 可/ 满足/ 性/ 的/ 方法/ !/ 

