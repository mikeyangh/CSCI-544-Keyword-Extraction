Page1/ 自动/ 获取/ 派生/ 谓词/ 规划/ 领域/ 的/ 通用/ 规划/ 蒋志华/ 1/ )/ 饶/ 东宁/ 2/ )/ 姜云飞/ 3/ )/ 杨天奇/ 1/ )/ 1/ )/ (/ 暨南大学/ 信息科学/ 与/ 技术/ 学院/ 计算机科学/ 系/ 广州/ 510632/ )/ 3/ )/ (/ 中山大学/ 信息科学/ 与/ 技术/ 学院/ 软件/ 研究所/ 广州/ 510275/ )/ 2/ )/ (/ 广东/ 工业/ 大学/ 计算机/ 学院/ 广州/ 510090/ )/ 摘要/ 通用/ 规划/ (/ 解/ )/ 是/ 针对/ 某个/ 领域/ 的/ 像/ 算法/ 一样/ 的/ 规划/ 解/ ,/ 通过/ 对/ 其/ 的/ 解释/ 可以/ 直接/ 得出/ 具体/ 问题/ 的/ 规划/ 解/ ,/ 而/ 不/ 需要/ 调用/ 任何/ 规划系统/ ./ 但是/ 目前/ 通用/ 规划/ 的/ 提取/ 只能/ 在/ 一些/ 简单/ 或者/ 特殊/ 的/ 领域/ 中/ 进行/ ,/ 没有/ 推广/ 到/ 复杂/ 或者/ 一般/ 的/ 规划/ 领域/ ./ 该文/ 提出/ 在/ 包含/ 派生/ 谓词/ 的/ 规划/ 领域/ 自动/ 获取/ 通用/ 规划/ 的/ 方法/ ./ 与/ 已有/ 获取/ 方法/ 不同/ 的/ 是/ :/ 首先/ ,/ 基于/ 派生/ 谓词/ 规则/ ,/ 文中/ 方法/ 明确指出/ 派生/ 谓词/ 目标/ 与/ 动作/ 效果/ 之间/ 的/ 依赖/ 关系/ ,/ 用以/ 完善/ 通用/ 规划/ 中/ 动作/ 应用/ 的/ 目的/ ;/ 其次/ ,/ 在/ 提取/ 过程/ 中/ 借助/ 角色/ 来/ 帮助/ 识别/ 规划/ 解中/ 的/ 循环/ 结构/ ./ 实验/ 结果表明/ ,/ 文中/ 方法/ 不仅/ 容易/ 在/ 派生/ 谓词/ 规划/ 领域/ 中/ 获取/ 通用/ 规划/ ,/ 而且/ 还/ 能够/ 以较/ 好/ 的/ 性能/ 求解/ 一类/ 以/ 派生/ 谓词/ 为/ 主要/ 目标/ 的/ 规划/ “/ 难/ ”/ 题/ ./ 该文/ 是/ 在/ 派生/ 谓词/ 规划/ 领域/ 中/ 提取/ 通用/ 规划/ 的/ 首创/ 性/ 工作/ ./ 关键词/ 人工智能/ ;/ 智能/ 规划/ ;/ 派生/ 谓词/ 规划/ 领域/ ;/ 通用/ 规划/ 解/ 1/ 引言/ 近年来/ ,/ 通用/ 规划/ (/ generalizedplans/ )/ [/ 1/ -/ 8/ ]/ 问题/ 成为/ 智能/ 规划/ (/ automatedplanning/ )/ 领域/ 的/ 一个/ 广为/ 关注/ 的/ 热点/ ./ 与/ 传统/ 规划/ 不同/ ,/ 通用/ 规划/ 针对/ 规划/ 领域/ 制定/ 规划/ 解/ ,/ 而/ 不是/ 局限于/ 某个/ 具体/ 规划/ 问题/ ./ 研究/ 通用/ 规划/ 的/ 初衷/ 主要/ 是/ 为了/ 避开/ 代价/ 高昂/ 的/ 搜索/ 空间/ ./ 有/ 了/ 通用/ 规划/ ,/ 就/ 可以/ 以较/ 小/ 的/ 计算/ 代价/ 来/ 求解/ 规模/ 大/ 的/ 规划/ 问题/ ./ 对于/ 某些/ 特殊/ 领域/ 的/ 大规模/ 问题/ ,/ 通用/ 规划/ 的/ 求解/ 优势/ 非常明显/ ./ 例如/ ,/ Winner/ [/ 9/ ]/ 在/ 其/ 2008/ 年/ 的/ 博士论文/ 中/ 报告/ 了/ 所/ 开发/ 的/ 通用/ 规划/ 程序/ DsPlanner/ 和/ 规划系统/ FF/ 以及/ MIPS/ 在/ 经典/ 规划/ 领域/ 中/ 的/ 求解/ 能力/ 比较/ (/ 如图/ 1/ 所示/ )/ ./ 可以/ 看到/ ,/ 在/ 领域/ 对象/ 数/ 超过/ 1000/ 的/ 大规模/ Rocket/ 问题/ 中/ ,/ 即使/ 是/ 采用/ 了/ 爬山/ 法/ 这样/ 快捷/ 的/ 局部/ 启发式/ 搜索/ 的/ FF/ 也/ 因/ 搜索/ 空间/ 过大而/ 无法/ 求解/ ,/ 而/ DsPlanner/ 在/ 领域/ 对象/ 数/ 达到/ 60000/ 时/ ,/ 依然/ 可以/ 在/ 40s/ 以内/ 找到/ 问题/ 的/ 解/ ./ 而且/ ,/ 学习/ 这样/ 的/ 一个/ DsPlanner/ 程序/ 所/ 花/ 时间/ 不到/ 一秒/ ./ 这/ 表明/ 在/ 某些/ 特殊/ 领域/ 通用/ 规划/ 具有/ 较强/ 的/ 求解/ 大规模/ 问题/ 的/ 能力/ ./ 图/ 1DsPlanner/ 、/ FF/ 和/ MIPS/ 在/ Rocket/ 领域/ 的/ 求解/ 时间/ 比较/ 虽然/ 通用/ 规划/ 的/ 研究/ 取得/ 了/ 一定/ 的/ 成果/ ,/ 但是/ 目前/ 其/ 研究/ 方面/ 非常/ 有限/ ./ 通用/ 规划/ 受到/ 指责/ 的/ 方面/ 主要/ 在于/ 其/ 描述/ 形式/ 不/ 统一/ ,/ 适用/ 领域/ 少/ ,/ 缺少/ 正确性/ 和/ 完备/ 性/ 证明/ 以及/ 不/ 保证/ 最优/ 解/ 等等/ ./ 例如/ ,/ 就/ 适用/ 领域/ 而言/ ,/ 目前/ 仅/ 可以/ 在/ 少数/ 十几个/ 简单/ 或/ 特别/ 构造/ 的/ 规划/ 领域/ 上/ 提取/ 通用/ 规划/ (/ 如表/ 1/ 所示/ )/ ./ 它们/ 都/ 是/ STRIPS/ [/ 10/ ]/ 风格/ 加上/ 简单/ 的/ 感知/ 动作/ ,/ 并且/ 要求/ 训练/ 例/ 包含/ 明显/ 的/ 循环/ 结构/ ./ 然而/ ,/ 在/ 遇到/ 非/ 经典/ 的/ 规划/ 情景/ 时/ ,/ 例如/ 需/ 处理/ 不/ 确定/ 动作/ 效果/ (/ non/ -/ deterministicactioneffects/ )/ 、/ 时态/ 约束/ (/ temporalconstraints/ )/ 、/ 观测/ 变量/ (/ observablevari/ -/ ables/ )/ 或者/ 公理/ (/ axioms/ )/ 时/ ,/ 通用/ 规划/ 从/ 描述/ 方式/ 到/ 提取/ 方法/ 都/ 会/ 变得/ 非常/ 困难/ ./ 因此/ ,/ 通用/ 规划/ 还有/ 很长/ 的/ 路/ 要/ 走/ ./ 不过/ ,/ 近年来/ ,/ 规划/ 社区/ 给予/ 通用/ 规划/ 极大/ 的/ 关注/ ./ 在/ 2009/ 年/ 的/ ICAPS/ ①/ 和/ 2011/ 年/ 的/ AAAI/ ②/ 上/ 分别/ 举行/ 了/ 以/ 其/ 为/ 主题/ 的/ workshop/ ,/ 一些/ 有/ 影响力/ 的/ 文章/ 也/ 分别/ 在/ AI/ [/ 11/ ]/ 、/ IJCAI/ [/ 7/ ,/ 12/ ]/ 、/ AAAI/ [/ 5/ ]/ 和/ ICAPS/ [/ 2/ ,/ 13/ -/ 14/ ]/ 上/ 登出/ ./ 领域/ Accumulator/ [/ 7/ ]/ 两个/ 加法器/ 和/ 整数/ N/ ,/ 使得/ UnitDelivery/ [/ 5/ ]/ 运输/ 货物/ 到/ 目的地/ GreenBlock/ [/ 13/ ]/ 找到/ 木块/ 塔中/ 的/ 第一个/ 绿色/ NGoodEggs/ [/ 7/ ]/ 打蛋/ 直到/ 盘中/ 有/ 连续/ N/ 个/ Recycling/ [/ 2/ ]/ 分类/ 纸质/ 物品/ 和/ 玻璃/ 物品/ STRIPS/ ;/ 感知/ 动作/ StripedTower/ [/ 5/ ]/ 蓝色/ 木块/ 和/ 红色/ 木块/ 交替/ 放/ Y/ -/ Transport/ [/ 5/ ]/ 所有/ 物品/ 运送/ 到/ 某地/ Corner/ [/ 13/ ]/ agent/ 从/ 西南角/ 走/ 到/ 东北角/ STRIPSDiagonalReturn/ [/ 4/ ]/ agent/ 先/ 走/ 到/ 东北角/ ,/ 然后/ 再/ 在/ 通用/ 规划/ 的/ 众多/ 困境/ 中/ ,/ 我们/ 认为/ 首要任务/ 是/ 推广/ 其/ 适用/ 领域/ ,/ 这样/ 才能/ 吸引/ 更/ 多/ 的/ 研究/ 学者/ 来/ 解决/ 它/ 其它/ 方面/ 的/ 不足/ ./ 基于/ 本文/ 作者/ 的/ 前期工作/ [/ 15/ -/ 19/ ]/ ,/ 我们/ 在/ 此文/ 中/ 提出/ 在/ 包含/ 派生/ 谓词/ 的/ 规划/ 领域/ 中/ 提取/ 通用/ 规划/ 的/ 一般/ 方法/ ./ 派生/ 谓词/ (/ derivedpredicates/ )/ 描述/ 动作/ 的/ 非/ 直接/ 效果/ ,/ 其/ 定义/ 规则/ 是/ 规划/ 领域/ 描述语言/ (/ PlanningDomainDescriptionLanguage/ ,/ PDDL/ )/ 中/ 领域/ 公理/ (/ axioms/ )/ 的/ 标准/ 形式/ [/ 20/ ]/ ./ 已有/ 研究/ 证明/ [/ 21/ ]/ ,/ 在/ 限定/ 领域/ 描述/ 长度/ 以及/ 最优/ 解/ 长度/ 为/ 多项式/ 级别/ 的/ 前提/ 下/ ,/ 派生/ 谓词/ 是/ PDDL/ 中/ 不可/ 替代/ 的/ 基本/ 语言/ 要素/ ./ 在/ 包含/ 派生/ 谓词/ 的/ 规划/ 领域/ 中/ ,/ 往往/ 需要/ 推理/ 技术/ 和/ 搜索/ 技术/ 巧妙/ 地/ 结合/ 在/ 一起/ ,/ 这/ 增加/ 了/ 求解/ 的/ 难度/ ./ 而/ 当/ 问题/ 所/ 包含/ 的/ 对象/ 数多/ 或者/ 规则/ 集/ 庞大/ 时/ ,/ 求解/ 过程/ 更是/ 异常/ 复杂/ ./ 因此/ ,/ 如果/ 能够/ 自动/ 获取/ 派生/ 谓词/ 规划/ 领域/ 的/ 通用/ 规划/ ,/ 将/ 为/ 避开/ 搜索/ 求解/ 过程/ 的/ 复杂性/ 和/ 难度/ 提供/ 很/ 好/ 的/ 途径/ ./ 为此/ ,/ 本文/ 在/ 获取/ 通用/ 规划/ 的/ 一般/ 方法/ 上/ 进行/ 了/ 改进/ ,/ 主要/ 特色/ 如下/ :/ 利用/ 派生/ 谓词/ 规则/ 刻画/ 动作/ 效果/ 与/ 派生/ 谓词/ 目标/ 之间/ 的/ ①/ ②/ Page3/ 依赖/ 关系/ ,/ 用以/ 完善/ 动作/ 应用/ 目的/ ;/ 利用/ 角色/ 特征/ 来/ 帮助/ 识别/ 循环/ 结构/ ./ 相比/ 已有/ 方法/ ,/ 本文/ 方法/ 突破/ 了/ 通用/ 规划/ 适用/ 领域/ 的/ 局限/ ,/ 并且/ 以/ 良好/ 的/ 性能/ 来/ 求解/ 该/ 领域/ 的/ 规划/ 问题/ ./ 本文/ 第/ 2/ 节/ 介绍/ 研究/ 背景/ ;/ 第/ 3/ 节/ 介绍/ 在/ 派生/ 谓词/ 规划/ 领域/ 获取/ 通用/ 规划/ 的/ 方法/ ,/ 包括/ 确定/ 通用/ 规划/ 的/ 描述/ 形式/ 以及/ 具体/ 的/ 提取/ 步骤/ ;/ 第/ 4/ 节/ 给出/ 相关/ 的/ 实验/ 与/ 分析/ ;/ 最后/ 是/ 结语/ 和/ 未来/ 工作/ 展望/ ./ 2/ 派生/ 谓词/ 规划/ 领域/ 派生/ 谓词/ 规则/ 是/ PDDL/ 中/ 的/ 公理/ ,/ 用来/ 描述/ 事物/ 间/ 的/ 因果/ 联系/ ./ 它/ 对/ 状态/ 进行/ 推理/ 以/ 包含/ 各种/ 动作/ 的/ 衍生/ 效果/ (/ ramificationeffects/ )/ [/ 22/ ]/ ./ 早期/ 对/ 领域/ 公理/ 处理/ 的/ 方法/ 主要/ 将/ 其/ 转换/ 为/ 别的/ 语言/ 要素/ ./ 例如/ ,/ Gazen/ 等/ 人/ [/ 23/ ]/ 最先/ 提出/ 将/ 公理/ 转化/ 为/ 新/ 的/ 动作/ ,/ 公理/ 的/ 条件/ 对应/ 动作/ 的/ 前提/ ,/ 公理/ 的/ 结论/ 对应/ 动作/ 的/ 效果/ ./ 但是/ 这种/ 转换/ 忽略/ 了/ 以上/ 所说/ 的/ 二者/ 语义/ 差别/ ./ Garagnani/ [/ 24/ ]/ 在/ 上述/ 方法/ 的/ 基础/ 上/ 增加/ 了/ “/ 推导/ 事实/ ”/ (/ deductionfacts/ )/ 来/ 跟踪/ 公理/ 的/ 应用/ ,/ 以/ 消除/ 语义/ 差别/ ./ Davidson/ 等/ 人/ [/ 25/ ]/ 把/ 新/ 增加/ 的/ 谓词/ 不断/ 地/ 和/ 公理/ 进行/ 合一/ ,/ 使得/ 规则/ 所有/ 可能/ 产生/ 的/ 影响/ 都/ 编码/ 成/ 领域/ 动作/ 的/ 条件/ 效果/ ./ 以上/ 3/ 种/ 方法/ 都/ 称为/ 编译/ 方法/ ./ 但/ 已/ 证明/ 了/ 编译/ 方法/ 的/ 低效/ 性/ [/ 21/ ]/ ,/ 因此/ 只/ 适合/ 求解/ 小规模/ 问题/ ./ 自/ 2004/ 年/ 的/ 国际/ 规划/ 大赛/ (/ InternationalPlanningCompetition/ ,/ IPC/ )/ 以后/ ,/ 有/ 少数几个/ 优秀/ 的/ 规划系统/ 支持/ 派生/ 谓词/ ,/ 例如/ LPG/ -/ td/ [/ 26/ ]/ 、/ SGPlan/ [/ 27/ ]/ 、/ FastDownward/ [/ 28/ ]/ 和/ Marvin/ [/ 29/ ]/ 等/ ,/ 因此/ 形成/ 了/ 目前/ 处理/ 派生/ 谓词/ 的/ 主要/ 方法/ ./ LPG/ -/ td/ 不/ 改变/ 已有/ 动作/ 模型/ ,/ 在/ 求解/ 过程/ 中/ 建立/ 规则/ 图/ ,/ 并/ 计算/ 派生/ 谓词/ 实例/ 的/ 激活/ 集/ (/ 亦/ 称为/ 激活/ 集法/ )/ ,/ 以/ 替代/ 其/ 在/ 动作/ 图中/ 的/ 出现/ ./ SGPlan/ 不/ 直接/ 处理/ 派生/ 谓词/ ,/ 但是/ 它/ 在/ 问题/ 分解/ 后/ 调用/ LPG/ -/ td/ 作为/ 底层/ 规划/ 器来/ 处理/ 包含/ 派生/ 谓词/ 的/ 子/ 问题/ ./ FastDownward/ 和/ Marvin/ 采用/ 的/ 方法/ 相同/ :/ 每/ 应用/ 一个/ 领域/ 动作/ 后/ ,/ 需/ 删除/ 所有/ 原来/ 成立/ 的/ 派生/ 谓词/ 实例/ ,/ 然后/ 再/ 由/ 规则/ 重新/ 推导/ 出新/ 实例/ 直至/ 到达/ 状态/ 的/ 不动点/ ./ 采用/ 激活/ 集法/ 的/ LPG/ -/ td/ 在/ IPC2004/ 上/ 性能/ 最为/ 优良/ ,/ 但是/ 其/ 主要/ 缺点/ 也/ 很/ 明显/ :/ 采用/ 与/ 状态/ 有关/ 的/ 激活/ 集/ 导致/ 重复/ 计算/ ;/ 激活/ 集/ 的/ 估值/ 困难/ ;/ 难以/ 处理/ 大规模/ 问题/ 等/ ./ 后来/ 蒋志华/ 等/ [/ 15/ -/ 16/ ]/ 定义/ 了/ 与/ 状态/ 无关/ 的/ 激活/ 集来/ 避免/ 重复/ 计算/ ,/ 并/ 通过/ 规则/ 集约/ 简来/ 加速/ 激活/ 集/ 的/ 查找/ ./ FastDownward/ 和/ Marvin/ 采用/ 的/ 是/ 逻辑推理/ 方法/ ,/ 特殊/ 的/ 删除/ 机制/ 保证/ 后继/ 状态/ 扩充/ 的/ 正确性/ ./ 但是/ 当/ 规则/ 的/ 数量/ 众多/ 时/ ,/ 其/ 推理/ 的/ 复杂性/ 大大/ 增强/ ./ 一个/ 包含/ 派生/ 谓词/ 的/ 规划/ 领域/ 称为/ 派生/ 谓词/ 规划/ 领域/ (/ planningdomainswithderivedpredicates/ )/ ./ 定义/ 1/ ./ 派生/ 谓词/ 规划/ 领域/ [/ 30/ ]/ ./ 设/ L/ =/ {/ p1/ ,/ …/ ,/ pn/ }/ 是/ 有限/ 的/ 谓词/ 符号/ 集合/ ,/ 派生/ 谓词/ 规划/ 领域/ 是/ 一个/ 六元/ 组/ Σ/ =/ 〈/ S/ ,/ A/ ,/ X/ ,/ B/ ,/ D/ ,/ R/ 〉/ :/ (/ 1/ )/ S/ 是/ 状态/ 集合/ ,/ S/ / 2L/ ;/ (/ 2/ )/ A/ 是/ 动作/ 集合/ ,/ A/ =/ {/ a/ |/ a/ =/ 〈/ pre/ (/ a/ )/ ,/ add/ (/ a/ )/ ,/ del/ (/ a/ )/ 〉/ }/ ./ pre/ (/ a/ )/ 、/ add/ (/ a/ )/ 、/ del/ (/ a/ )/ / 2L/ ,/ pre/ (/ a/ )/ 是/ 动作/ a/ 的/ 前提/ 集合/ ,/ add/ (/ a/ )/ 是/ 动作/ a/ 的/ 增加/ 效果/ 集合/ ,/ del/ (/ a/ )/ 是/ 动作/ a/ 的/ 删除/ 效果/ 集合/ ;/ (/ 3/ )/ X/ 是/ 转换/ 函数/ ,/ X/ (/ s/ ,/ a/ )/ =/ / (/ (/ (/ s/ -/ del/ (/ a/ )/ )/ ∪/ add/ (/ a/ )/ )/ \/ R/ (/ s/ )/ )/ ,/ 当/ 原子/ 动作/ a/ 在/ s/ 中是/ 可/ 应用/ 的/ ;/ (/ 4/ )/ B/ 是/ 基本/ 谓词/ 符号/ 集合/ ;/ (/ 5/ )/ D/ 是/ 派生/ 谓词/ 符号/ 集合/ ,/ 且/ B/ ∩/ D/ =/ / ;/ (/ 6/ )/ R/ 是/ 派生/ 谓词/ 规则/ 集合/ ,/ R/ =/ {/ r/ |/ r/ =/ (/ derived/ (/ d/ ?/ 狓/ )/ (/ f/ ?/ 狓/ )/ )/ }/ ./ 在/ 定义/ 1/ 中/ ,/ 函数/ / 将/ 状态/ s/ 映射/ 为/ 在/ 规则/ 集/ R/ 下/ 的/ 扩充/ 状态/ ,/ 即/ / (/ s/ )/ =/ s/ ∪/ R/ (/ s/ )/ ,/ 其中/ R/ (/ s/ )/ 表示/ 在/ 状态/ s/ 下/ 应用/ 规则/ 集/ R/ 所/ 推导/ 出/ 的/ 派生/ 谓词/ 实例/ 集合/ ./ 原子/ 动作/ a/ 在/ 状态/ s/ 中是/ 可/ 应用/ 的/ ,/ 当且/ 仅/ 当/ pre/ (/ a/ )/ / / (/ s/ )/ ./ 在/ 派生/ 谓词/ 规则/ r/ =/ (/ derived/ (/ d/ ?/ 狓/ )/ (/ f/ ?/ 狓/ )/ )/ 中/ ,/ (/ d/ ?/ 狓/ )/ 是/ 单个/ 派生/ 谓词/ ,/ (/ f/ ?/ 狓/ )/ 是/ 由/ 基本/ 谓词/ 和/ 派生/ 谓词/ 组成/ 的/ 逻辑/ 公式/ ./ 一个/ 派生/ 谓词/ 规划/ 问题/ 是/ 派生/ 谓词/ 规划/ 领域/ 的/ 实例/ ,/ 其/ 可定义/ 为/ 三元组/ ∏/ =/ 〈/ Σ/ ,/ I/ ,/ G/ 〉/ ,/ 其中/ Σ/ 是/ 规划/ 领域/ 描述/ ,/ I/ 是/ 初始状态/ ,/ G/ 是/ 目标/ 条件/ ./ 定义/ 2/ ./ 规划/ 解/ [/ 30/ ]/ ./ 派生/ 谓词/ 规划/ 问题/ ∏/ =/ 〈/ Σ/ ,/ I/ ,/ G/ 〉/ 的/ 解是/ 一个/ 原子/ 动作/ 序列/ π/ =/ 〈/ a1/ ,/ a2/ ,/ …/ ,/ an/ 〉/ ,/ 该/ 动作/ 序列/ 产生/ 一个/ 状态/ 变换/ 序列/ 〈/ s0/ ,/ s1/ ,/ s2/ ,/ …/ ,/ sn/ 〉/ ,/ 使得/ (/ 1/ )/ s0/ =/ / (/ I/ )/ ;/ (/ 2/ )/ pre/ (/ ai/ )/ / / (/ si/ -/ 1/ )/ ,/ si/ =/ X/ (/ si/ -/ 1/ ,/ ai/ )/ ,/ 1/ / i/ / n/ ;/ (/ 3/ )/ G/ / sn/ ./ 与/ 经典/ 规划/ 问题/ 一样/ ,/ 派生/ 谓词/ 规划/ 问题/ 的/ 解/ 仍/ 是/ 一个/ 动作/ 序列/ ,/ 通过/ 应用/ 它/ 使得/ 初始状态/ 转换/ 到/ 目标/ 状态/ ./ 只不过/ 在/ 每次/ 应用/ 完/ 一个/ 动作/ 之后/ ,/ 要/ 对/ 新/ 产生/ 的/ 状态/ 进行/ 规则/ 集下/ 的/ 闭包运算/ ,/ 使得/ 后继/ 动作/ 的/ 派生/ 谓词/ 前提/ 能够/ 包含/ 在/ 新/ 状态/ 中/ ./ Page43/ 通用/ 规划/ 提取/ 方法/ 3.1/ 描述/ 形式/ PDDL/ 目前/ 还/ 没有/ 扩展/ 对/ 通用/ 规划/ 的/ 描述/ ./ 本文/ 参照/ Winner/ 等/ 人/ [/ 6/ ,/ 8/ ]/ 所/ 使用/ 的/ 通用/ 规划/ 形式/ ,/ 提出/ 基于/ PDDL3/ ./ 0/ 的/ BNF/ 描述/ 的/ 通用/ 规划/ (/ 如图/ 2/ 所示/ )/ ./ 〈/ genelizedplan/ 〉/ ·/ ·/ ·/ ·/ =/ PROGRAM/ (/ DOMAIN/ 〈/ name/ 〉/ )/ BEGIN/ 〈/ statements/ 〉/ END/ 〈/ statements/ 〉/ ·/ ·/ ·/ ·/ =/ (/ 〈/ actions/ 〉/ )/ 〈/ statements/ 〉/ ·/ ·/ ·/ ·/ =/ (/ WHILE/ 〈/ conditions/ 〉/ DO/ 〈/ statements/ 〉/ ENDWHILE/ )/ 〈/ statements/ 〉/ ·/ ·/ ·/ ·/ =/ (/ IF/ 〈/ conditions/ 〉/ THEN/ 〈/ statements/ 〉/ ENDIF/ )/ 〈/ actions/ 〉/ ·/ ·/ ·/ ·/ =/ (/ 〈/ action/ 〉/ / )/ 〈/ action/ 〉/ ·/ ·/ ·/ ·/ =/ (/ 〈/ action/ -/ symbol/ 〉/ 〈/ typedlist/ (/ variable/ )/ 〉/ )/ 〈/ action/ -/ symbol/ 〉/ ·/ ·/ ·/ ·/ =/ 〈/ name/ 〉/ 〈/ conditions/ 〉/ ·/ ·/ ·/ ·/ =/ (/ and/ 〈/ in/ -/ predicate/ 〉/ / )/ 〈/ in/ -/ predicate/ 〉/ ·/ ·/ ·/ ·/ =/ (/ inCurState/ 〈/ predicate/ 〉/ )/ 〈/ in/ -/ predicate/ 〉/ ·/ ·/ ·/ ·/ =/ (/ inGoalState/ 〈/ predicate/ 〉/ )/ 〈/ predicate/ 〉/ ·/ ·/ ·/ ·/ =/ (/ 〈/ predicate/ -/ symbol/ 〉/ 〈/ typedlist/ (/ variable/ )/ 〉/ )/ 〈/ predicate/ -/ symbol/ 〉/ ·/ ·/ ·/ ·/ =/ 〈/ name/ 〉/ 〈/ variable/ 〉/ ·/ ·/ ·/ ·/ =/ ?/ 〈/ name/ 〉/ 简单/ 来说/ ,/ 用/ IF/ -/ THEN/ 来/ 表示/ 选择/ 结构/ ,/ 用/ WHILE/ -/ DO/ 来/ 表示/ 循环/ 结构/ ,/ 两个/ 特殊/ 谓词/ inCurState/ (/ P/ )/ 和/ inGoalState/ (/ P/ )/ 分别/ 表示/ P/ 在/ 当前/ 状态/ 下/ 是否/ 成立/ 和/ P/ 在/ 目标/ 状态/ 下/ 是否/ 成立/ ./ 例/ 1/ ./ 在/ BlockWorld/ 领域/ 的/ 基础/ 上/ ,/ 构造/ 一个/ ColorBlockTower/ 领域/ (/ 如图/ 3/ 所示/ )/ ./ 该/ 领域/ 中/ 每个/ 木块/ 或者/ 是/ 红色/ (/ 斜/ 条纹/ 方块/ 表示/ )/ 或者/ 是/ 蓝色/ (/ 竖/ 条纹/ 方块/ 表示/ )/ ./ 有/ 一个/ 特殊/ 的/ 蓝色/ 木块/ 是/ 底/ 木块/ (/ 一直/ 放在/ 桌面上/ ,/ 不能/ 移动/ )/ ./ 初始状态/ 中/ 蓝色/ 木块/ 和/ 红色/ 木块/ 随意/ 放置/ ,/ 目标/ 状态/ 中/ 要求/ 所有/ 红色/ 木块/ 均/ 放在/ 蓝色/ 木块/ 的/ 上方/ 并/ 保持/ 塔/ 结构/ ./ Color/ -/ BlockTower/ 领域/ 描述/ 见/ 附录/ 1/ ,/ 该/ 领域/ 包含/ 动作/ pickup/ 、/ pickuptable/ 、/ putdown/ 和/ putdowntable/ ,/ 分别/ 表示/ 从/ 一个/ 木块/ 的/ 顶部/ 拾起/ 另/ 一/ 木块/ 、/ 从/ 桌上/ 拾/ 由于/ ColorBlockTower/ 领域/ 的/ 目标/ 只/ 要求/ 所有/ 红色/ 木块/ 在/ 蓝色/ 木块/ 的/ 上方/ ,/ 并/ 没有/ 具体/ 要求/ 哪些/ 木块/ 一定/ 要/ 放在/ 哪些/ 木块/ 的/ 上面/ ,/ 因此/ 其/ 目标/ 状态/ 不是/ 某个/ 具体/ 状态/ ,/ 而是/ 由/ 多个/ 具体/ 状态/ 构成/ 的/ 集合/ ./ 该/ 领域/ 目标/ 可以/ 用/ 下列/ 逻辑/ 公式/ (/ 1/ )/ 来/ 描述/ :/ / x/ / y/ (/ color/ (/ xblue/ )/ ∧/ color/ (/ yred/ )/ →/ above/ (/ yx/ )/ )/ and/ / x/ / y/ (/ (/ notbottom/ (/ x/ )/ )/ ∧/ bottom/ (/ y/ )/ →/ above/ (/ xy/ )/ )/ 满足/ 式/ (/ 1/ )/ 的/ 任一/ 状态/ 即/ 为/ 目标/ 状态/ ./ 由于/ 领域/ 描述/ 中/ 包含/ 派生/ 谓词/ 规则/ ,/ 因此/ ColorBlockTower/ 是/ 一个/ 派生/ 谓词/ 规划/ 领域/ ./ 对于/ 基于/ 搜索/ 的/ 规划系统/ 来说/ ,/ 由于/ ColorBlockTower/ 问题/ 的/ 目标/ 状态/ 不/ 唯一/ (/ 实际上/ 数量/ 非常/ 多/ )/ ,/ 导致/ 其/ 估值/ 困难/ ,/ 搜索/ 空间/ 庞大/ ,/ 因此/ 是/ 一类/ 非常/ 难/ 求解/ 的/ 问题/ (/ 不像/ Rocket/ 问题/ ,/ 其/ 目标/ 状态/ 唯一/ )/ ./ 详细情况/ 请/ 参看/ 第/ 4/ 节/ 实验/ 分析/ 部分/ 的/ 表/ 5/ 和表/ 6/ ./ 起/ 木块/ 、/ 把/ 一个/ 木块/ 放在/ 另/ 一/ 木块/ 的/ 上面/ 和/ 把/ 木块/ 放在/ 桌上/ ./ 该/ 领域/ 包含/ 派生/ 谓词/ above/ ,/ 表示/ 一/ 木块/ 在/ 另/ 一/ 木块/ 的/ 上方/ ,/ 但/ 不/ 一定/ 相邻/ ./ 此外/ ,/ 用/ 谓词/ color/ 表示/ 木块/ 的/ 颜色/ ,/ 用/ 谓词/ bottom/ 来/ 标识/ 底/ 木块/ ./ 例/ 2/ ./ 针对/ 上述/ ColorBlockTower/ 领域/ ,/ 按照/ 图/ 2/ 列出/ 的/ 规范/ ,/ 一个/ 手工/ 编写/ 的/ 通用/ 规划/ 如下/ :/ PROGRAM/ (/ DOMAINColorBlockTower/ )/ BEGIN/ (/ 1/ )/ WHILEinCurState/ (/ empty/ )/ andinCurState/ (/ on/ (/ ?/ x/ -/ BLOCK/ ?/ y/ -/ BLOCK/ )/ )/ andinCurState/ (/ clear/ (/ ?/ x/ -/ BLOCK/ )/ )/ DO/ (/ 2/ )/ pickup/ (/ ?/ x/ ?/ y/ )/ (/ 3/ )/ putdowntable/ (/ ?/ x/ )/ (/ 4/ )/ ENDWHILE/ (/ 5/ )/ IFinCurState/ (/ empty/ )/ andinCurState/ (/ ontable/ (/ ?/ x/ -/ BLOCK/ )/ )/ andinCurState/ (/ color/ (/ ?/ x/ -/ BLOCKblue/ -/ COLOR/ )/ )/ andinCurState/ (/ clear/ (/ ?/ x/ -/ BLOCK/ )/ )/ andinCurState/ (/ bottom/ (/ ?/ z/ -/ BLOCK/ )/ )/ andinCurState/ (/ clear/ (/ ?/ z/ -/ BLOCK/ )/ )/ andinGoalState/ (/ above/ (/ ?/ x/ -/ BLOCK/ ,/ ?/ z/ -/ BLOCK/ )/ )/ THEN/ (/ 6/ )/ pickuptable/ (/ ?/ x/ )/ (/ 7/ )/ putdown/ (/ ?/ x/ ?/ z/ )/ (/ 8/ )/ ENDIF/ (/ 9/ )/ WHILEinCurState/ (/ empty/ )/ andinCurState/ (/ ontable/ (/ ?/ x/ -/ BLOCK/ )/ )/ andinCurState/ (/ color/ (/ ?/ x/ -/ BLOCKblue/ -/ COLOR/ )/ )/ andinCurState/ (/ clear/ (/ ?/ x/ -/ BLOCK/ )/ )/ DO/ (/ 10/ )/ IFinCurState/ (/ color/ (/ ?/ y/ -/ BLOCKblue/ -/ COLOR/ )/ )/ andinCurState/ (/ clear/ (/ ?/ y/ -/ BLOCK/ )/ )/ andinCurState/ (/ bottom/ (/ ?/ z/ -/ BLOCK/ )/ )/ andinCurState/ (/ above/ (/ ?/ y/ -/ BLOCK/ ?/ z/ -/ BLOCK/ )/ )/ Page5andinGoalState/ (/ above/ (/ ?/ x/ -/ BLOCK/ ,/ ?/ z/ -/ BLOCK/ )/ )/ THEN/ (/ 11/ )/ pickuptable/ (/ ?/ x/ )/ (/ 12/ )/ putdown/ (/ ?/ x/ ?/ y/ )/ (/ 13/ )/ ENDIF/ (/ 14/ )/ ENDWHILE/ (/ 15/ )/ WHILEinCurState/ (/ empty/ )/ andinCurState/ (/ ontable/ (/ ?/ x/ -/ BLOCK/ )/ )/ andinCurState/ (/ color/ (/ ?/ x/ -/ BLOCKred/ -/ COLOR/ )/ )/ andinCurState/ (/ clear/ (/ ?/ x/ -/ BLOCK/ )/ )/ DO/ (/ 16/ )/ IFinCurState/ (/ bottom/ (/ ?/ z/ -/ BLOCK/ )/ )/ andinCurState/ (/ clear/ (/ ?/ y/ -/ BLOCK/ )/ )/ andinCurState/ (/ above/ (/ ?/ y/ -/ BLOCK/ ?/ z/ -/ BLOCK/ )/ )/ andinGoalState/ (/ above/ (/ ?/ x/ -/ BLOCK/ ,/ ?/ z/ -/ BLOCK/ )/ )/ THEN/ (/ 17/ )/ pickuptable/ (/ ?/ x/ )/ (/ 18/ )/ putdown/ (/ ?/ x/ ?/ y/ )/ (/ 19/ )/ ENDIF/ (/ 20/ )/ ENDWHILEEND/ 例/ 2/ 所示/ 的/ 通用/ 规划/ 表明/ ,/ 形成/ 图/ 3/ 中/ 目标/ 状态/ 的/ 步骤/ 如下/ :/ 第/ 1/ ~/ 4/ 步/ 将/ 所有/ 非底/ 木块/ 放在/ 桌上/ ;/ 第/ 5/ ~/ 8/ 步/ 选择/ 一个/ 蓝色/ 木块/ 放在/ 底/ 木块/ 上/ ;/ 第/ 9/ ~/ 14/ 步/ 将/ 剩余/ 的/ 蓝色/ 木块/ 依次/ 放在/ 木块/ 塔/ 的/ 顶部/ ;/ 第/ 15/ ~/ 20/ 步/ 将/ 所有/ 红色/ 木块/ 依次/ 放在/ 木块/ 塔/ 的/ 顶部/ ./ 该/ 通用/ 规划/ 在/ 红色/ 木块/ 数/ #/ RED/ / 1/ 且/ 蓝色/ 木块/ 数/ #/ BLUE/ / 2/ 的/ 条件/ 下/ 可以/ 求解/ ColorBlock/ -/ Tower/ 领域/ 的/ 所有/ 问题/ ./ 3.2/ 提取/ 方法/ 与/ 动作/ 模型/ 的/ 学习/ [/ 17/ -/ 18/ ]/ 一样/ ,/ 人工/ 编写/ 通用/ 规划/ 往往/ 需要/ 大量/ 的/ 专家/ 知识/ ,/ 并且/ 容易/ 出错/ ./ 因此/ ,/ 本/ 节/ 提出/ 自动/ 获取/ 派生/ 谓词/ 规划/ 领域/ 的/ 通用/ 规划/ 的/ 具体方法/ ./ 实际上/ ,/ 适合/ 提取/ 通用/ 规划/ 的/ 规划/ 领域/ 往往/ 具有/ 两个/ 主要/ 特征/ :/ 一是/ 问题/ 的/ 规划/ 解/ 包含/ 反复/ 出现/ 的/ 动作/ 子/ 序列/ ;/ 二是/ 问题/ 所/ 包含/ 的/ 对象/ 可以/ 划分/ 类别/ (/ class/ )/ 或者/ 角色/ (/ role/ )/ ./ 这/ 两个/ 特征/ 提供/ 了/ 形成/ 通用/ 规划/ 中/ 的/ 循环/ 结构/ 的/ 可能性/ ./ 提取/ 方法/ 总体/ 思路/ 如下/ ./ 如前所述/ 的/ 主要/ 提取/ 方法/ [/ 2/ -/ 8/ ,/ 11/ ]/ 中均/ 有/ 值得/ 借鉴/ 和/ 不/ 可取/ 的/ 地方/ ./ 例如/ ,/ “/ 条件/ 语句/ 合成/ 法/ ”/ [/ 6/ ,/ 8/ ]/ 将/ 规划/ 解/ 转换/ 为/ 条件/ 语句/ ,/ 然后/ 通过/ 因果/ 链来/ 识别/ 并行/ 子/ 规划/ ,/ 是/ 非常/ 直观/ 地/ 从/ 具体/ 解/ 的/ 结构/ 来/ 分析/ 通用/ 解/ 的/ 构成/ ./ 但是/ 该/ 方法/ 的/ 主要/ 缺点/ 在于/ 规划/ 解/ 的/ 参数均/ 为/ 变量/ ,/ 这/ 使得/ 识别/ 循环/ 的/ 过程/ (/ 需要/ 大量/ 的/ 变量/ 匹配/ )/ 非常复杂/ ./ 而/ “/ 抽象/ 状态/ 计数法/ ”/ [/ 2/ ,/ 4/ -/ 5/ ,/ 11/ ]/ 将/ 对象/ 转换/ 为/ 角色/ ,/ 通过/ 对/ 角色/ 成员/ 的/ 计数/ 来/ 帮助/ 形成/ 循环/ 结构/ ./ 不过/ 它/ 的/ 主要/ 问题/ 在于/ ,/ 通用/ 解/ 的/ 构成/ 不是/ 来自/ 于/ 具体/ 解/ 的/ 结构/ 分析/ ,/ 而是/ 来自/ 于/ 具体/ 解在/ 抽象/ 状态/ 空间/ 中/ 应用/ 的/ 轨迹/ 搜索/ ./ 因此/ ,/ 提取/ 通用/ 解/ 的/ 主要/ 时间/ 花/ 在/ 轨迹/ 搜索/ 上/ ,/ 并且/ 在/ 他们/ 自己/ 的/ 文章/ 中/ [/ 11/ ]/ 也/ 承认/ 通用/ 解/ 结构/ 可读性/ 差/ ,/ 需要/ 后期/ 的/ 调整/ 和/ 修改/ ./ 因此/ ,/ 本文/ 取长补短/ ,/ 结合/ 以上/ 两种/ 方法/ 的/ 优点/ ,/ 既/ 采用/ 角色/ 的/ 概念/ 帮助/ 识别/ 循环/ 又/ 采用/ 条件/ 语句/ 的/ 形式/ 进行/ 直观/ 分析/ ,/ 同时/ 加上/ 派生/ 谓词/ 规则/ 所/ 蕴含/ 的/ 特殊/ 谓词/ 依赖/ 关系/ ,/ 从而/ 提出/ 派生/ 谓词/ 规划/ 领域/ 的/ 的/ 通用/ 规划/ 获取/ 方法/ ./ 获取/ 过程/ 如图/ 4/ 所示/ ./ 共/ 分成/ 3/ 个/ 阶段/ :/ 第一/ 是/ 产生/ 条件/ 语句/ 阶段/ ./ 该/ 阶段/ 将/ 基于/ 具体/ 规划/ 解/ 建立/ 规则/ 规划图/ (/ ruleplangraphs/ )/ ,/ 当然/ 需要/ 在/ 具体/ 问题/ 描述/ 已知/ 的/ 前提/ 下/ ./ 然后/ ,/ 基于/ 规则/ 规划图/ 将/ 每层/ 动作/ 转化/ 为/ 条件/ 语句/ ./ 第二/ 是/ 识别/ 循环/ 阶段/ ./ 该/ 阶段/ 将/ 对象/ 常量/ 转化/ 为/ 其/ 所属/ 的/ 角色/ ,/ 然后/ 将/ 重复/ 出现/ 的/ 条件/ 语句/ 用/ 循环/ 结构/ 来/ 替换/ ./ 第三/ 是/ 调整/ 阶段/ ./ 该/ 阶段/ 将/ 前面/ 获取/ 结果/ 中/ 的/ 角色/ 转化/ 为/ 对象/ 变量/ ,/ 从而/ 形成/ 标准/ 描述/ 下/ 的/ 通用/ 规划/ ./ 3.2/ ./ 1/ 产生/ 条件/ 语句/ 之间/ 的/ 联系/ ,/ 本文/ 提出/ 规则/ 规划图/ ./ 其/ 定义/ 如下/ :/ 为/ 刻画/ 规划/ 解中/ 动作/ 直接/ 效果/ 与/ 派生/ 谓词/ 目标/ 定义/ 3/ ./ 规则/ 规划图/ ./ 给定/ 一个/ 派生/ 谓词/ 规划/ 问题/ ∏/ =/ 〈/ Σ/ ,/ I/ ,/ G/ 〉/ 和/ 其解/ π/ =/ 〈/ a1/ ,/ a2/ ,/ …/ ,/ an/ 〉/ ,/ 可/ 产生/ 一个/ 状态/ 转换/ 序列/ S/ π/ =/ 〈/ s0/ ,/ s1/ ,/ s2/ ,/ …/ ,/ sn/ 〉/ ./ 基于/ π/ 和/ S/ π/ ,/ 可/ 构造/ 一个/ 具有/ n/ 个/ 动作/ 层/ 和/ n/ +/ 1/ 个/ 命题/ 层/ 的/ 规则/ 规划图/ ,/ 使得/ 第/ i/ 层/ 动作/ 层/ 只/ 包含/ 动作/ ai/ (/ 1/ / i/ / n/ )/ ,/ 第/ j/ 层/ 命题/ 层为/ sj/ (/ 0/ / j/ / n/ )/ ,/ 并且/ 对于/ 第/ i/ -/ 1/ 层/ 命题/ 层中/ 所有/ p/ ∈/ pre/ (/ ai/ )/ 对应/ 的/ 节点/ 引/ 实线/ 边/ 指向/ ai/ ,/ 从/ ai/ 引/ 实线/ 边/ 指向/ 第/ i/ 层/ 命题/ 层中/ 所有/ p/ ∈/ add/ (/ ai/ )/ 对应/ 的/ 节点/ ./ 对于/ 任意/ 在/ 第/ i/ 层/ 命题/ 层/ (/ 0/ / i/ / n/ )/ 可/ 应用/ 的/ 派生/ 谓词/ 规则/ r/ =/ (/ derived/ (/ d/ )/ (/ f1andf2and/ …/ andfk/ )/ )/ ,/ 其中/ d/ 是/ 派生/ 谓词/ 实例/ ,/ fj/ (/ 1/ / j/ / k/ )/ 是/ 基本/ 谓词/ 或/ 派生/ 谓词/ 实例/ ,/ 均/ 有/ 规则/ 边/ 从/ fj/ 对应/ 的/ 节点/ 指向/ d/ 对应/ 的/ 节点/ ./ 规则/ 规划图/ 结合/ 了/ 规划图/ [/ 31/ ]/ (/ plangraphs/ )/ 和/ 规则/ 动作/ 图/ (/ ruleactiongraph/ )/ [/ 26/ ]/ 的/ 特点/ ,/ 三者/ 更/ 细微/ 的/ 区别/ 请见表/ 2/ ./ 在/ 定义/ 3/ 中/ ,/ 状态/ 转换/ 序列/ S/ π/ =/ 〈/ s0/ ,/ s1/ ,/ s2/ ,/ …/ ,/ sn/ 〉/ 的/ 产生/ 如/ 定义/ 2/ 所示/ ,/ 均/ 为/ 动作/ 应用/ 之后/ 的/ 扩充/ 状态/ ./ 为了/ 有效/ 地/ 识别/ 规则/ 推导/ 链/ ,/ 命/ Page6/ 题层/ 中/ 不再/ 表示/ 动作/ 的/ 删除/ 效果/ ,/ 是/ 一个/ 完整/ 状态/ 而/ 不是/ 状态/ 的/ 超集/ ./ 规则/ 规划图/ 的/ 一个/ 例子/ 如例/ 3/ 所示/ ./ 表/ 2/ 规则/ 规划图/ 、/ 规划图/ 和/ 规则/ 动作/ 图/ 之间/ 的/ 区别/ 动作/ 层/ 只有/ 一个/ 动作/ 多个/ 动作/ 只有/ 一个/ 动作/ 命题/ 层/ 单个/ 扩充/ 状态/ 状态/ 超集/ 动作/ 前提/ 集合/ 层数/ 规划/ 解/ 步骤/ 数/ 扩展/ 至/ 不动点/ 规划/ 解/ 步骤/ 数/ 规则/ 边有/ 用途/ 描述/ 规划/ 解/ 状态/ 空间/ 搜索/ 规划/ 空间/ 搜索/ 例/ 3/ ./ 一个/ ColorBlockTower/ 问题/ 及其/ 规划/ 解如图/ 5/ 所示/ ./ 其中/ B4/ 是/ 底/ 木块/ ./ 图/ 5/ 表明/ 左边/ 的/ 初始状态/ 经过/ 应用/ 中间/ 的/ 动作/ 序列/ 可以/ 转化/ 为/ 右边/ 的/ 目标/ 状态/ (/ 满足/ 式/ (/ 1/ )/ )/ ./ 基于/ 附录/ 1/ 给出/ 的/ 动作/ 模型/ ,/ 该/ 规划/ 解/ 对应/ 的/ 规则/ 规划图/ 如图/ 6/ 所示/ ./ 图/ 6/ 规则/ 规划图/ (/ 细/ 实线/ 箭头/ 表示/ 前提/ 或/ 增加/ 效果/ ,/ 粗/ 实线/ 箭头/ 表示/ 规则/ 边/ ,/ 带/ 下划线/ 的/ 斜体/ 命题/ 表示/ 目标/ )/ 产生/ 条件/ 语句/ 的/ 具体/ 过程/ 如/ 算法/ 1/ 所示/ ./ 算法/ 1/ ./ 产生/ 条件/ 语句/ ./ 输入/ :/ 规划/ 问题/ ∏/ =/ 〈/ Σ/ ,/ I/ ,/ G/ 〉/ 及其/ 规划/ 解/ π/ =/ 〈/ a1/ ,/ …/ ,/ an/ 〉/ 输出/ :/ 条件/ 语句/ 集合/ IFS/ =/ 〈/ IFS1/ ,/ …/ ,/ IFSn/ 〉/ 1/ ./ RAG/ =/ build/ -/ rule/ -/ plan/ -/ graph/ (/ ∏/ ,/ π/ )/ 2/ ./ FORi/ =/ 1TOnDO3/ ./ IFSi/ _/ C/ =/ pre/ (/ ai/ )/ ,/ IFSi/ _/ G/ =/ / 4/ ./ FOReachb/ ∈/ add/ (/ ai/ )/ inRAGDO5/ ./ IFbholdsinGTHENIFSi/ _/ G/ =/ IFSi/ _/ G/ ∪/ {/ b/ }/ 6/ ./ FOReachdisaderivedpredicatefactand7/ ./ IFexistsarule/ -/ edgelinkrfrombtodin8/ ./ IFSi/ _/ G/ =/ IFSi/ _/ G/ ∪/ {/ d/ }/ 9/ ./ IFSi/ =/ “/ IFinCurState/ (/ IFSi/ _/ C/ )/ andinGoalState10/ ./ THENai11/ ./ ENDIF/ ”/ 12/ ./ RETURNIFS/ =/ 〈/ IFS1/ ,/ …/ ,/ IFSn/ 〉/ 算法/ 1/ 的/ 第/ 1/ 步/ 从/ 问题/ 描述/ ∏/ 和/ 规划/ 解/ π/ 中/ 生成/ 规则/ 规划图/ RAG/ (/ 如/ 定义/ 3/ 所示/ )/ ,/ 第/ 2/ ~/ 11/ 步/ 基于/ RAG/ 提取/ 动作/ ai/ 对应/ 的/ 条件/ 语句/ IFSi/ ./ 如图/ 2/ 所示/ ,/ 条件/ 语句/ 的/ 条件/ 部分/ 是/ 由/ 谓词/ inCurState/ 或/ inGoalState/ 所/ 构成/ 的/ 逻辑/ 公式/ ,/ 结论/ 部分/ 是/ 通用/ 规划/ 语句/ ./ 由于/ 一个/ 动作/ 对应/ 一个/ 条件/ 语句/ ,/ 因此/ 算法/ 1/ 所/ 产生/ 的/ 条件/ 语句/ 是/ 不/ 嵌套/ 的/ ./ 总的来说/ ,/ 动作/ 的/ 全部/ 前提/ 加入/ 到/ inCurState/ 中/ (/ 第/ 3/ 步/ )/ ,/ 作为/ 目标/ 出现/ 的/ 动作/ 直接/ 效果/ (/ 第/ 5/ 步/ )/ 或/ 直接/ 效果/ 所/ 推导/ 出/ 的/ 派生/ 谓词/ 目标/ (/ 第/ 6/ ~/ 8/ 步/ )/ 加入/ 到/ inGoalState/ 中/ ./ 最后/ ,/ 算法/ 的/ 第/ 9/ ~/ 11/ 步/ 形成/ 以/ 动作/ 为/ 结论/ 的/ 条件/ 语句/ ./ 定理/ 1/ ./ 算法/ 1/ 的/ 时间/ 复杂性/ 为/ O/ (/ n/ ×/ Maxadd/ ×/ Page7Nderived/ _/ goal/ )/ ,/ 其中/ n/ 为/ 规划/ 解中/ 动作/ 个数/ ,/ Maxadd/ 为/ 动作/ 增加/ 效果/ 数/ 的/ 最大值/ ,/ Nderived/ _/ goal/ 为/ 目标/ 状态/ sn/ 中/ 派生/ 谓词/ 目标/ 的/ 个数/ ./ 证明/ ./ 设/ 规划/ 解为/ π/ =/ 〈/ a1/ ,/ …/ ,/ an/ 〉/ ,/ Maxadd/ =/ max/ {/ m/ |/ m/ =/ |/ add/ (/ ai/ )/ |/ ,/ 1/ / i/ / n/ }/ ,/ 则/ 在/ 为/ 每个/ 动作/ 生成/ 条件/ 语句/ 时/ ,/ 判断/ 其/ 增加/ 效果/ 是否/ 为/ 目标/ 需要/ O/ (/ Maxadd/ )/ 时间/ ,/ 判断/ 增加/ 效果/ 与/ 派生/ 谓词/ 目标/ 之间/ 是否/ 存在/ 规则/ 链/ 需要/ O/ (/ Maxadd/ ×/ Nderived/ _/ goal/ )/ 时间/ ,/ 因此/ 算法/ 1/ 所/ 需/ 的/ 时间/ 为/ O/ (/ n/ ×/ (/ O/ (/ Maxadd/ )/ +/ O/ (/ Maxadd/ ×/ Nderived/ _/ goal/ )/ )/ )/ ,/ 即/ O/ (/ n/ ×/ Maxadd/ ×/ Nderived/ _/ goal/ )/ ./ 下面/ 具体/ 说明/ inCurState/ 和/ inGoalState/ 的/ 构成/ ./ 关于/ inCurState/ 的/ 构成/ ,/ 由于/ 动作/ 可/ 应用/ 的/ 充要条件/ 是/ 其/ 前提/ 在/ 状态/ 中均/ 成立/ ,/ 因此/ 至少/ 应/ 将/ 动作/ 前提/ 全部/ 加入/ 到/ inCurState/ 中/ ./ 其它/ 可能/ 需要/ 的/ 条件/ 在/ 后面/ 的/ 调整/ 阶段/ 补充/ ./ 关于/ inGoalState/ 的/ 构成/ ./ 由于/ 动作/ 的/ 直接/ 效果/ 只能/ 是/ 基本/ 谓词/ ,/ 因此/ 根据/ 其/ 与/ 目标/ 的/ 联系/ 可以/ 分为/ 以下/ 4/ 种/ 类型/ :/ (/ 1/ )/ 被/ 动作/ 删除/ 的/ 效果/ ,/ 实质/ 上/ 是/ 某个/ 被/ 删除/ 的/ 前提/ ,/ 如图/ 6/ 中/ 第/ 0/ 层/ 命题/ 层/ 的/ on/ (/ R1/ ,/ B1/ )/ ;/ (/ 2/ )/ 动作/ 的/ 增加/ 效果/ ,/ 正好/ 是/ 原/ 问题/ 的/ 目标/ ,/ 并且/ 没有/ 被/ 任何/ 后继/ 动作/ 删除/ 且/ 一直/ 保持/ 到/ 目标/ 状态/ ;/ (/ 3/ )/ 动作/ 的/ 增加/ 效果/ ,/ 没有/ 被/ 任何/ 后继/ 动作/ 删除/ 且/ 一直/ 保持/ 到/ 目标/ 状态/ ,/ 与/ 目标/ 状态/ 中/ 的/ 其他/ 命题/ 推导/ 出/ 派生/ 谓词/ 目标/ ,/ 如图/ 6/ 中/ 第/ 24/ 层/ 命题/ 层/ 的/ on/ (/ R1/ ,/ R2/ )/ ,/ 与/ 命题/ above/ (/ R2/ ,/ B1/ )/ 推导/ 出/ 派生/ 谓词/ 目标/ above/ (/ R1/ ,/ B1/ )/ ;/ (/ 4/ )/ 动作/ 的/ 增加/ 效果/ ,/ 只是/ 为/ 后续/ 动作/ 提供/ 因果/ 链/ 支持/ ,/ 如图/ 6/ 中/ 第/ 1/ 层/ 命题/ 层/ 的/ holding/ (/ R1/ )/ 是/ 第/ 2/ 层/ 动作/ putdowntable/ (/ R1/ )/ 的/ 前提/ ./ 因此/ ,/ 根据/ 以上/ 分类/ ,/ 应/ 将/ 第/ 2/ 种/ 动作/ 效果/ 以及/ 第/ 3/ 种/ 动作/ 效果/ 所/ 推导/ 的/ 派生/ 谓词/ 目标/ 加入/ 到/ inGoalState/ 中/ ./ inCurState/ 表示/ 动作/ 应用/ 条件/ ,/ inGoalState/ 表示/ 动作/ 应用/ 目的/ ,/ 它们/ 的/ 合取/ 构成/ 完整/ 的/ 条件/ 部分/ ./ 例/ 4/ ./ 图/ 6/ 中/ 动作/ a1/ =/ pickup/ (/ R1/ ,/ B1/ )/ 对应/ 的/ 条件/ 语句/ IFS1/ 如下/ :/ IFS1/ :/ IFinCurState/ (/ empty/ )/ andinCurState/ (/ clear/ (/ R1/ )/ )/ andinCurState/ (/ on/ (/ R1/ ,/ B1/ )/ )/ THENpickup/ (/ R1/ ,/ B1/ )/ ENDIF/ 动作/ a24/ =/ putdown/ (/ R1/ ,/ R2/ )/ 对应/ 的/ 条件/ 语句/ IFS24/ 如下/ :/ IFS24/ :/ IFinCurState/ (/ holding/ (/ R1/ )/ )/ andinCurState/ (/ clear/ (/ R2/ )/ )/ andinGoalState/ (/ above/ (/ R1/ ,/ B4/ )/ )/ andinGoal/ -/ State/ (/ above/ (/ R1/ ,/ B3/ )/ )/ andinGoalState/ (/ above/ (/ R1/ ,/ B2/ )/ )/ andinGoalState/ (/ above/ (/ R1/ ,/ B1/ )/ )/ THENputdown/ (/ R1/ ,/ R2/ )/ ENDIF/ 以上/ 条件/ 语句/ 的/ 构成/ 虽然/ 与/ “/ 条件/ 语句/ 合成/ 法/ ”/ (/ 以下/ 简称/ “/ 合成/ 法/ ”/ )/ 中/ 的/ 相似/ ,/ 但是/ 产生/ 过程/ 明显/ 不同/ ./ 算法/ 1/ 为/ 规划/ 解中/ 的/ 每个/ 动作/ 生成/ 相应/ 的/ 条件/ 语句/ ,/ 而/ “/ 合成/ 法/ ”/ 将/ 整个/ 规划/ 解/ 转换/ 为/ 一个/ 条件/ 语句/ ./ 此外/ ,/ 算法/ 1/ 将/ 动作/ 前提/ 全部/ 加入/ 到/ inCurState/ 中/ ,/ 而/ “/ 合成/ 法/ ”/ 只/ 将/ 前后/ 动作/ 的/ 因果/ 链所/ 支持/ 的/ 命题/ 加入/ 到/ inCurState/ 中/ ,/ 形成/ 了/ 某些/ 情况/ 下/ 动作/ 应用/ 条件/ 的/ 丢失/ ./ 3.2/ ./ 2/ 识别/ 循环/ 为了/ 方便/ 识别/ 循环/ ,/ 需/ 将/ 条件/ 语句/ 中/ 的/ 对象/ 转化/ 为/ 角色/ ./ 原则上/ 属于/ 同一/ 角色/ 的/ 对象/ 没有/ 差异/ ,/ 即先/ 处理/ 谁/ 或/ 后处理/ 谁/ 没有/ 本质/ 分别/ ,/ 存在/ 着/ 一定/ 的/ 可/ 替换/ 性/ ./ 在/ Srivastava/ 等/ 人/ [/ 11/ ]/ 的/ 工作/ 中/ ,/ 将/ 角色/ 定义/ 成由/ 单目/ 谓词/ (/ unarypredicates/ )/ 所/ 构成/ 的/ 抽象/ 谓词/ (/ abstractpredicates/ )/ 集合/ ./ 在/ 本文/ 中/ ,/ 由于/ 考虑/ 到/ 领域/ 常量/ 的/ 存在/ ,/ 我们/ 将/ 抽象/ 谓词/ 的/ 概念/ 扩展/ 到/ 多目/ 谓词/ 上/ ./ 定义/ 4/ ./ 抽象/ 谓词/ ./ 对/ 一个/ 规划/ 领域/ 而言/ ,/ 抽象/ 谓词/ 指/ 的/ 是/ 领域/ 描述/ 中/ 的/ 单目/ 谓词/ ,/ 或者/ 是/ 只/ 包含/ 一个/ 变量/ 而/ 其他/ 变量/ 均/ 为/ 领域/ 常量/ 的/ 多目/ 谓词/ ./ 定义/ 5/ ./ 角色/ [/ 11/ ]/ ./ 对/ 一个/ 规划/ 领域/ 而言/ ,/ 角色/ 指/ 的/ 是/ 对象/ 所/ 满足/ 的/ 抽象/ 谓词/ 集合/ ./ 抽象/ 谓词/ 也/ 称为/ 角色/ 的/ 特征/ ./ 定义/ 6/ ./ 角色/ 成员/ [/ 11/ ]/ ./ 对/ 一个/ 规划/ 问题/ 而言/ ,/ 角色/ 成员/ 指/ 的/ 是/ 满足/ 角色/ 特征/ 的/ 对象/ 集合/ ./ 一般/ 地/ ,/ 角色/ role/ 的/ 成员/ 集合/ 用/ 函数/ member/ (/ role/ )/ 来/ 表示/ ./ 在/ 角色/ 定义/ 的/ 基础/ 上/ ,/ 首先/ ,/ 为了/ 最大/ 程度/ 地/ 反映/ 角色/ 的/ 差别/ ,/ 约定/ 所有/ 对象/ 都/ 满足/ 的/ 抽象/ 谓词/ 不/ 属于/ 任意/ 角色/ 的/ 特征/ ./ 其次/ ,/ 可以/ 证明/ 角色/ 将/ 问题/ 中/ 所/ 包含/ 的/ 对象/ 进行/ 了/ 划分/ ./ 每个/ 对象/ 只能/ 属于/ 一个/ 角色/ ,/ 对象/ 和/ 角色/ 之间/ 是/ 多/ 对/ 一/ 的/ 关系/ ./ 引理/ 1/ ./ 如果/ 一个/ 对象/ 属于/ 多个/ 角色/ ,/ 那么/ 总/ 可以/ 创建/ 新/ 的/ 角色/ 使得/ 这个/ 对象/ 唯一/ 地/ 属于/ 该/ 新/ 角色/ ./ 证明/ ./ 先/ 讨论/ 对象/ 同时/ 属于/ 两个/ 角色/ 的/ 情况/ ./ 设在/ 规划/ 问题/ ∏/ =/ 〈/ Σ/ ,/ I/ ,/ G/ 〉/ 中/ ,/ 对象/ o/ ∈/ member/ (/ role1/ )/ 且/ o/ ∈/ member/ (/ role2/ )/ (/ role1/ ≠/ role2/ )/ ,/ 其中/ 角色/ role1/ =/ {/ p1/ ,/ …/ ,/ pk1/ }/ ,/ 角色/ role2/ =/ {/ p1/ ,/ …/ ,/ pk2/ }/ ,/ p1/ ,/ …/ ,/ pk1/ 和/ p1/ ,/ …/ ,/ pk2/ 均/ 为/ 抽象/ 谓词/ ./ 由于/ o/ 分别/ 满足/ 抽象/ 谓词/ 集合/ {/ p1/ ,/ …/ ,/ pk1/ }/ 和/ {/ p1/ ,/ …/ ,/ pk2/ }/ ,/ 因此/ 有/ o/ 同时/ 满足/ 抽象/ 谓词/ 集合/ {/ p1/ ,/ …/ ,/ pk1/ }/ ∪/ {/ p1/ ,/ …/ ,/ pk2/ }/ ./ 创建/ 新/ 角色/ role12/ ,/ 使/ 其/ role12/ =/ {/ p1/ ,/ …/ ,/ pk1/ }/ ∪/ {/ p1/ ,/ …/ ,/ pk2/ }/ ,/ 则/ 有/ o/ ∈/ member/ (/ role12/ )/ ./ 又/ 因为/ role1/ ≠/ Page8role2/ ,/ 因此/ 有/ role12/ ≠/ role1/ 且/ role12/ ≠/ role2/ ./ 从/ member/ (/ role1/ )/ 和/ member/ (/ role2/ )/ 中/ 分别/ 删除/ o/ ,/ 使得/ o/ 唯一/ 地/ 属于/ 角色/ role12/ ./ 当/ 对象/ 同时/ 属于/ 多个/ 角色/ 时/ ,/ 总/ 可以/ 通过/ 以上/ 两/ 两/ 抽象/ 谓词/ 集合/ 合并/ 的/ 过程/ 来/ 产生/ 新/ 角色/ ,/ 使得/ 对象/ 唯一/ 地/ 属于/ 最后/ 创建/ 的/ 新/ 角色/ ./ 证毕/ ./ 例/ 5/ ./ 如/ 附录/ 1/ 所示/ ,/ ColorBlockTower/ 领域/ 的/ 谓词/ 集合/ 为/ {/ on/ (/ ?/ x/ -/ BLOCK/ ,/ ?/ y/ -/ BLOCK/ )/ ,/ ontable/ (/ ?/ x/ -/ BLOCK/ )/ ,/ clear/ (/ ?/ x/ -/ BLOCK/ )/ ,/ empty/ ,/ holding/ (/ ?/ x/ -/ BLOCK/ )/ ,/ above/ (/ ?/ x/ -/ BLOCK/ ,/ ?/ y/ -/ BLOCK/ )/ ,/ bottom/ (/ ?/ x/ -/ BLOCK/ )/ ,/ color/ (/ ?/ x/ -/ BLOCK/ ,/ ?/ y/ -/ COLOR/ )/ }/ ,/ 其中/ 关于/ COLOR/ 类型/ 的/ 领域/ 常量/ 为/ {/ blue/ ,/ red/ }/ ./ 该/ 领域/ 包含/ 3/ 种/ 角色/ :/ BLUE/ _/ BOTTOM/ =/ {/ bottom/ (/ ?/ x/ )/ ,/ color/ (/ ?/ xblue/ )/ }/ BLUE/ =/ {/ color/ (/ ?/ xblue/ )/ }/ 图/ 7/ 例/ 3/ 的/ 角色/ 成员/ 图/ (/ 椭圆/ 框里/ 是/ 角色/ 名/ 及其/ 抽象/ 谓词/ 集合/ ,/ 椭圆/ 框/ 下面/ 是/ 角色/ 成员/ 集合/ )/ 通过/ 引理/ 1/ ,/ 可以/ 很/ 容易/ 得到/ 以下/ 定理/ ./ 定理/ 2/ ./ 在/ 一个/ 规划/ 问题/ 中/ ,/ 每个/ 对象/ 只能/ 属于/ 除去/ OBJECT/ 之外/ 的/ 唯一/ 角色/ ./ 为了/ 识别/ 循环/ ,/ 需要/ 定义/ 规划/ 解中/ 的/ 子/ 规划/ (/ subplans/ )/ ./ 规划/ 解中/ 的/ 每个/ 动作/ 称为/ 一个/ 规划/ 步/ (/ planstep/ )/ ./ 子/ 规划/ 是/ 由/ 连续/ 的/ 规划/ 步/ 序列/ 组成/ ./ 重复/ 出现/ 的/ 子/ 规划/ 可以/ 形成/ 循环/ 结构/ ./ 为此/ ,/ 定义/ 子/ 规划/ 所/ 覆盖/ 的/ 条件/ 语句/ 序列/ 集合/ 如下/ ./ 定义/ 7/ ./ 子/ 规划/ 所/ 覆盖/ 的/ 条件/ 语句/ 序列/ 集合/ ./ 设/ 规划/ 解/ π/ =/ 〈/ a1/ ,/ …/ ,/ an/ 〉/ 对应/ 的/ 条件/ 语句/ 集合/ 为/ IFS/ =/ 〈/ IFS1/ ,/ …/ ,/ IFSn/ 〉/ ,/ 子/ 规划/ π/ sub/ =/ 〈/ ai/ ,/ …/ ,/ aj/ 〉/ ,/ 其中/ 1/ / i/ </ j/ / n/ ,/ 其所/ 覆盖/ 的/ 条件/ 语句/ 序列/ 集合/ 定义/ 为/ IFSSequenceSet/ (/ π/ sub/ )/ =/ {/ IFS/ _/ s1/ ,/ …/ ,/ IFS/ _/ sm/ }/ ,/ 1/ / m/ / n/ // (/ j/ -/ i/ +/ 1/ )/ ,/ 其中/ IFS/ _/ sk/ =/ 〈/ IFSki/ ,/ …/ ,/ IFSkj/ 〉/ (/ 1/ / k/ / m/ )/ ,/ 且/ IFSkl/ 包含/ 动作/ al/ (/ i/ / l/ / j/ )/ ./ RED/ =/ {/ color/ (/ ?/ xred/ )/ }/ 对于/ 例/ 3/ 所示/ 的/ 规划/ 问题/ ,/ 其/ 对象/ 集合/ 为/ {/ R1/ ,/ R2/ ,/ R3/ ,/ B1/ ,/ B2/ ,/ B3/ ,/ B4/ }/ ,/ 则/ 有/ member/ (/ BLUE/ _/ BOTTOM/ )/ =/ {/ B4/ }/ ,/ member/ (/ BLUE/ )/ =/ {/ B1/ ,/ B2/ ,/ B3/ }/ ,/ member/ (/ RED/ )/ =/ {/ R1/ ,/ R2/ ,/ R3/ }/ ./ 事实上/ ,/ 还/ 可以/ 定义/ 一个/ 最/ 顶层/ 角色/ OBJECT/ ,/ 其/ 抽象/ 谓词/ 集合/ 为空/ ,/ 它/ 包含/ 一个/ 规划/ 问题/ 的/ 所有/ 对象/ ./ OBJECT/ 可以/ 在/ 无/ 语义/ 歧义/ 的/ 情况/ 下/ 帮助/ 调整/ 循环/ 结构/ (/ 见/ 第/ 3.2/ ./ 3/ 节/ )/ ./ 通过/ 最/ 顶层/ 角色/ 和/ 领域/ 角色/ ,/ 可以/ 形成/ 一个/ 规划/ 问题/ 的/ 角色/ 成员/ 图/ (/ 如图/ 7/ 所示/ )/ ./ 该图/ 是/ 一个/ 有/ 向/ 无/ 环图/ ./ 沿着/ 箭头/ 方向/ ,/ 下层/ 角色/ 的/ 特征/ 包含/ 上层/ 角色/ 的/ 特征/ ,/ 下层/ 角色/ 的/ 成员/ 集合/ 包含/ 于/ 上层/ 角色/ 的/ 成员/ 集合/ ./ 图/ 7/ 显示/ 了/ 例/ 3/ 中/ 规划/ 问题/ 对象/ 的/ 初始/ 角色/ 关系/ (/ 图/ 7/ (/ a/ )/ )/ 和/ 利用/ 引理/ 1/ 调整/ 后/ 的/ 最终/ 角色/ 关系/ (/ 图/ 7/ (/ b/ )/ )/ ./ 另/ |/ IFSSequenceSet/ (/ π/ sub/ )/ |/ 表示/ π/ sub/ 所/ 覆盖/ 序列/ 的/ 个数/ ./ 在/ 定义/ 7/ 中/ ,/ 条件/ 语句/ 包含/ 某个/ 动作/ ,/ 指/ 的/ 是/ 条件/ 语句/ 中/ 动作/ 与/ 所/ 包含/ 的/ 动作/ 属于/ 同一/ 动作/ 模型/ ,/ 但/ 不/ 一定/ 是/ 同一个/ 动作/ 实例/ ,/ 即/ 对象/ 常量/ 可以/ 不同/ ./ 例/ 6/ ./ 在/ 图/ 5/ 所示/ 的/ 规划/ 解/ π/ =/ 〈/ a1/ ,/ …/ ,/ a24/ 〉/ 中/ ,/ 设其/ 对应/ 的/ 条件/ 语句/ 集合/ 为/ IFS/ =/ 〈/ IFS1/ ,/ …/ ,/ IFS24/ 〉/ ,/ 则/ 其中/ 重复/ 出现/ 的/ 子/ 规划/ 为/ π/ sub1/ =/ 〈/ pickup/ ,/ putdowntable/ 〉/ ,/ π/ sub2/ =/ 〈/ pickuptable/ ,/ putdown/ 〉/ ,/ 它们/ 覆盖/ 的/ 条件/ 语句/ 序列/ 集合/ 分别/ 为/ IFSSequenceSet/ (/ π/ sub1/ )/ =/ {/ 〈/ IFS1/ ,/ IFS2/ 〉/ ,/ 〈/ IFS3/ ,/ IFS4/ 〉/ ,/ 〈/ IFS5/ ,/ IFS6/ 〉/ ,/ 〈/ IFS7/ ,/ IFS8/ 〉/ ,/ 〈/ IFS9/ ,/ IFS10/ 〉/ ,/ 〈/ IFS11/ ,/ IFS12/ 〉/ }/ ,/ IFSSequenceSet/ (/ π/ sub2/ )/ =/ {/ 〈/ IFS13/ ,/ IFS14/ 〉/ ,/ 〈/ IFS15/ ,/ IFS16/ 〉/ ,/ 〈/ IFS17/ ,/ IFS18/ 〉/ ,/ 〈/ IFS19/ ,/ IFS20/ 〉/ ,/ 〈/ IFS21/ ,/ IFS22/ 〉/ ,/ 〈/ IFS23/ ,/ IFS24/ 〉/ }/ ./ Page9/ 识别/ 循环/ 的/ 具体/ 过程/ 如/ 算法/ 2/ 所示/ ./ 算法/ 2/ ./ 识别/ 循环/ ./ 输入/ :/ 条件/ 语句/ 集合/ IFS/ =/ 〈/ IFS1/ ,/ …/ ,/ IFSn/ 〉/ ,/ 角色/ 集/ 输出/ :/ 通用/ 规划/ GP1/ ./ FORj/ =/ 1TOkDON/ _/ role/ [/ j/ ]/ =/ 02/ ./ FORi/ =/ 1TOnDO3/ ./ FOReachobjectowhichstillappearsinIFSiDO4/ ./ IFexistssomerolejsuchthato/ ∈/ member/ (/ rolej/ )/ 5/ ./ N/ _/ role/ [/ j/ ]/ =/ N/ _/ role/ [/ j/ ]/ +/ 16/ ./ letrolej/ (/ N/ _/ role/ [/ j/ ]/ )/ replacealltheoccurrences7/ ./ FOReachsub/ -/ plan/ π/ subinIFSDO8/ ./ IF/ |/ IFSSequenceSet/ (/ π/ sub/ )/ |/ / 2THEN9/ ./ index/ =/ 110/ ./ WHILEindex/ 〈/ |/ IFSSequenceSet/ (/ π/ sub/ )/ |/ DO11/ ./ findthemaximalsequence/ 〈/ IFS/ _/ sindex/ ,/ …/ ,/ 12/ ./ IFindex/ =/ index13/ ./ THENindex/ =/ index/ +/ 114/ ./ ELSE15/ ./ make/ _/ loop/ (/ 〈/ IFS/ _/ sindex/ ,/ …/ ,/ IFS/ _/ sindex/ 〉/ )/ 16/ ./ remove/ 〈/ IFS/ _/ sindex/ ,/ …/ ,/ IFS/ _/ sindex/ 〉/ from17/ ./ index/ =/ index/ +/ 118/ ./ GP/ ←/ IFS19/ ./ RETURNGP/ 过程/ 1/ ./ make/ _/ loop/ (/ 〈/ IFS/ _/ si/ ,/ …/ ,/ IFS/ _/ sj/ 〉/ )/ ./ (/ 1/ )/ AssumethatIFS/ _/ si/ =/ 〈/ IFSi1/ ,/ …/ ,/ IFSik/ 〉/ ,/ whereIFSi1/ ,/ …/ ,/ IFSik/ ∈/ IFS/ ,/ andIFSi1/ =/ “/ IFinCurState/ (/ IFSi1/ _/ C/ )/ andinGoalState/ (/ IFSi1/ _/ G/ )/ THENai1ENDIF/ ”/ (/ 2/ )/ LetWSij/ =/ “/ WHILEinCurState/ (/ IFSi1/ _/ C/ )/ andinGoalState/ (/ IFSi1/ _/ G/ )/ DOai1IFS/ _/ s/ (/ i/ +/ 1/ )/ IFS/ _/ sjENDWHILE/ ”/ (/ 3/ )/ MakeWSijtaketheplaceof/ 〈/ IFS/ _/ si/ ,/ …/ ,/ IFS/ _/ sj/ 〉/ inIFS/ 算法/ 2/ 的/ 第/ 1/ ~/ 6/ 步/ 将/ 条件/ 语句/ 中/ 的/ 对象/ 转换/ 为/ 角色/ ./ 由于/ 多个/ 对象/ 可以/ 属于/ 同一/ 角色/ ,/ 为了/ 保证/ 对象/ 标识/ 的/ 一致性/ ,/ 角色/ 用/ 数字/ 进行/ 编号/ 以/ 标识/ 不同/ 的/ 对象/ ./ 要/ 注意/ 的/ 是/ ,/ 角色/ 替换/ 的/ 范围/ 是/ 整个/ 规划/ 解/ IFS/ ,/ 而/ 不是/ 单个/ 条件/ 语句/ IFSi/ ./ 算法/ 2/ 的/ 第/ 7/ ~/ 17/ 步/ 将/ 重复/ 出现/ 的/ 子/ 规划/ 序列/ 转换/ 为/ 循环/ 结构/ ./ 在子/ 规划/ 所/ 覆盖/ 的/ 条件/ 语句/ 序列/ 集合/ 中/ ,/ 从/ 第一个/ 序列/ 开始/ (/ 第/ 9/ 步/ )/ ,/ 找/ 最长/ 的/ 可/ 合一/ 的/ 序列/ 子集/ (/ 第/ 10/ 步/ )/ ./ 合一/ 指/ 的/ 是/ 通过/ 对应/ 角色/ 的/ 替换/ ,/ 使得/ 条件/ 语句/ 完全相同/ ./ 而/ 角色/ 替换/ 的/ 前提/ 是/ 角色/ 相同/ ,/ 但是/ 编号/ 不同/ ,/ 不同/ 角色/ 不能/ 替换/ ./ 如果/ 不/ 存在/ 可/ 合一/ 的/ 序列/ ,/ 则/ 从/ 下/ 一个/ 序列/ 开始/ 找/ 最大/ 合一/ 的/ 过程/ (/ 第/ 13/ 步/ )/ ./ 如果/ 存在/ 可/ 合一/ 的/ 序列/ ,/ 则/ 将/ 这些/ 序列/ 转换/ 为/ 循环/ 语句/ (/ 第/ 15/ 步/ )/ ,/ 并/ 替换/ 该/ 序列/ 子集/ 出现/ 在/ 条件/ 语句/ 集合/ IFS/ 中/ ,/ 然后/ 从/ 该/ 序列/ 子集/ 的/ 下/ 一序列/ 继续/ 开始/ 找/ 最大/ 合一/ 的/ 过程/ (/ 第/ 17/ 步/ )/ ./ 其中/ 循环/ 语句/ 的/ 形成/ 如/ 过程/ make/ _/ loop/ 所示/ :/ 用子/ 规划/ 序列/ 中/ 第一个/ 条件/ 语句/ 的/ 条件/ 部分/ (/ 包括/ inCurState/ 和/ inGoalState/ )/ 作为/ 循环/ 语句/ 的/ 条件/ ,/ 用/ 其/ 包含/ 的/ 动作/ 以及/ 剩余/ 的/ 条件/ 语句/ 作为/ 循环/ 语句/ 的/ 语句/ 体/ ./ 定理/ 3/ ./ 算法/ 2/ 的/ 时间/ 复杂性/ 为/ O/ (/ Nobject/ ×/ Nrole/ +/ Nobject/ ×/ n/ +/ Npredicate/ ×/ n2/ )/ ,/ 其中/ Nobject/ 为/ 规划/ 问题/ 所/ 包含/ 的/ 对象/ 数/ ,/ Nrole/ 为/ 领域/ 的/ 角色/ 数/ ,/ Npredicate/ 为/ 规划/ 领域/ 的/ 谓词/ 集合/ 大小/ ,/ n/ 为/ 条件/ 语句/ 集合/ 的/ 大小/ ./ 证明/ ./ 设/ 条件/ 语句/ 集合/ IFS/ =/ 〈/ IFS1/ ,/ …/ ,/ IFSn/ 〉/ ,/ 对于/ 每个/ 对象/ ,/ 找到/ 其/ 所属/ 的/ 角色/ 需要/ O/ (/ Nrole/ )/ 时间/ ,/ 在/ IFS/ 中/ 完成/ 替换/ 需要/ O/ (/ n/ )/ 时间/ ,/ 因此/ 算法/ 的/ 第/ 1/ ~/ 6/ 步所花/ 的/ 时间/ 为/ O/ (/ Nobject/ ×/ Nrole/ +/ Nobject/ ×/ n/ )/ ./ 算法/ 的/ 第/ 7/ ~/ 8/ 步需/ 确定/ 子/ 规划/ ,/ 每/ 找到/ 一个/ 子/ 规划/ 需在/ IFS/ 中/ 扫描/ 找/ 其/ 所/ 覆盖/ 的/ 条件/ 语句/ 序列/ 集合/ ,/ 因此/ 总共/ 花/ 的/ 时间/ 为/ O/ (/ n2/ )/ ./ 由于/ 条件/ 语句/ 所/ 包含/ 的/ 谓词/ 数不超/ Npredicate/ 的/ 常数/ 倍/ ,/ 因此/ 判断/ 两个/ 条件/ 语句/ 是否/ 合一/ 需花/ O/ (/ Npredicate/ )/ 时间/ ./ 判断/ 两个/ 条件/ 语句/ 序列/ 对应/ 位置/ 是否/ 合一/ 需花/ O/ (/ Npredicate/ ×/ n/ )/ 时间/ ./ 因此/ ,/ 算法/ 的/ 第/ 11/ 步找/ 最长/ 可/ 合一/ 序列/ 子集/ 需花/ O/ (/ Npredicate/ ×/ n2/ )/ 时间/ ./ 算法/ 的/ 第/ 16/ 步/ 形成/ 循环/ 语句/ 需花/ O/ (/ n/ )/ 时间/ ./ 因此/ ,/ 算法/ 2/ 的/ 时间/ 复杂性/ 为/ O/ (/ Nobject/ ×/ Nrole/ +/ Nobject/ ×/ n/ +/ Npredicate/ ×/ n2/ )/ ./ 证毕/ ./ 例/ 7/ (/ 续例/ 3/ ~/ 6/ )/ ./ 将/ 图/ 5/ 的/ 规划/ 解所/ 生成/ 的/ 条件/ 语句/ 的/ 对象/ 用/ 角色/ 来/ 替代/ (/ 经过/ 算法/ 2/ 的/ 第/ 1/ ~/ 6/ 步/ )/ ,/ 结果/ 如下/ :/ IFS1/ :/ IFinCurState/ (/ empty/ )/ andinCurState/ (/ clear/ (/ RED1/ )/ )/ andinCurState/ (/ on/ (/ RED1/ ,/ BLUE1/ )/ )/ THENpickup/ (/ RED1/ ,/ BLUE1/ )/ ENDIFIFS2/ :/ IFinCurState/ (/ holding/ (/ RED1/ )/ )/ THENputdowntable/ (/ RED1/ )/ ENDIFIFS3/ :/ IFinCurState/ (/ empty/ )/ andinCurState/ (/ clear/ (/ BLUE1/ )/ )/ andinCurState/ (/ on/ (/ BLUE1/ ,/ BLUE2/ )/ )/ THENpickup/ (/ BLUE1/ ,/ BLUE2/ )/ ENDIFIFS4/ :/ IFinCurState/ (/ holding/ (/ BLUE1/ )/ )/ THENputdown/ -/ Page10table/ (/ BLUE3/ )/ ENDIFtable/ (/ BLUE1/ )/ ENDIFIFS5/ :/ IFinCurState/ (/ empty/ )/ andinCurState/ (/ clear/ (/ BLUE2/ )/ )/ andinCurState/ (/ on/ (/ BLUE2/ ,/ RED2/ )/ )/ THENpickup/ (/ BLUE2/ ,/ RED2/ )/ ENDIFIFS6/ :/ IFinCurState/ (/ holding/ (/ BLUE2/ )/ )/ THENputdown/ -/ table/ (/ BLUE2/ )/ ENDIFIFS7/ :/ IFinCurState/ (/ empty/ )/ andinCurState/ (/ clear/ (/ RED2/ )/ )/ andinCurState/ (/ on/ (/ RED2/ ,/ BLUE3/ )/ )/ THENpickup/ (/ RED2/ ,/ BLUE3/ )/ ENDIFIFS8/ :/ IFinCurState/ (/ holding/ (/ RED2/ )/ )/ THENputdowntable/ (/ RED2/ )/ ENDIFIFS9/ :/ IFinCurState/ (/ empty/ )/ andinCurState/ (/ clear/ (/ BLUE3/ )/ )/ andinCurState/ (/ on/ (/ BLUE3/ ,/ RED3/ )/ )/ THENpickup/ (/ BLUE3/ ,/ RED3/ )/ ENDIFIFS10/ :/ IFinCurState/ (/ holding/ (/ BLUE3/ )/ )/ THENputdown/ -/ IFS11/ :/ IFinCurState/ (/ empty/ )/ andinCurState/ (/ clear/ (/ RED3/ )/ )/ andinCurState/ (/ on/ (/ RED3/ ,/ BLUE/ _/ BOTTOM1/ )/ )/ THENpickup/ (/ RED3/ ,/ BLUE/ _/ BOTTOM1/ )/ ENDIFIFS12/ :/ IFinCurState/ (/ holding/ (/ RED3/ )/ )/ THENputdowntable/ (/ RED3/ )/ ENDIFIFS13/ :/ IFinCurState/ (/ clear/ (/ BLUE3/ )/ )/ andinCurState/ (/ on/ -/ table/ (/ BLUE3/ )/ )/ andinCurState/ (/ empty/ )/ THENpick/ -/ uptable/ (/ BLUE3/ )/ ENDIFIFS14/ :/ IFinCurState/ (/ holding/ (/ BLUE3/ )/ )/ andinCurState/ (/ clear/ (/ BLUE/ _/ BOTTOM1/ )/ )/ andinGoalState/ (/ above/ (/ BLUE3/ ,/ BLUE/ _/ BOTTOM1/ )/ )/ THENputdown/ (/ BLUE3/ ,/ BLUE/ _/ BOTTOM1/ )/ ENDIFIFS15/ :/ IFinCurState/ (/ clear/ (/ BLUE2/ )/ )/ andinCurState/ (/ ont/ -/ able/ (/ BLUE2/ )/ )/ andinCurState/ (/ empty/ )/ THENpick/ -/ uptable/ (/ BLUE2/ )/ ENDIFIFS16/ :/ IFinCurState/ (/ holding/ (/ BLUE2/ )/ )/ andinCurState/ (/ clear/ (/ BLUE3/ )/ )/ andinGoalState/ (/ above/ (/ BLUE2/ ,/ BLUE/ _/ BOTTOM1/ )/ )/ THENputdown/ (/ BLUE2/ ,/ BLUE3/ )/ ENDIFIFS17/ :/ IFinCurState/ (/ clear/ (/ BLUE1/ )/ )/ andinCurState/ (/ on/ -/ table/ (/ BLUE1/ )/ )/ andinCurState/ (/ empty/ )/ THENpick/ -/ uptable/ (/ BLUE1/ )/ ENDIFIFS18/ :/ IFinCurState/ (/ holding/ (/ BLUE1/ )/ )/ andinCurState/ (/ clear/ (/ BLUE2/ )/ )/ andinGoalState/ (/ above/ (/ BLUE1/ ,/ BLUE/ _/ BOTTOM1/ )/ )/ THENputdown/ (/ BLUE1/ ,/ BLUE2/ )/ ENDIFIFS19/ :/ IFinCurState/ (/ clear/ (/ RED3/ )/ )/ andinCurState/ (/ ontable/ (/ RED3/ )/ )/ andinCurState/ (/ empty/ )/ THENpickuptable/ (/ RED3/ )/ ENDIFIFS20/ :/ IFinCurState/ (/ holding/ (/ RED3/ )/ )/ andinCurState/ (/ clear/ (/ BLUE1/ )/ )/ andinGoalState/ (/ above/ (/ RED3/ ,/ BLUE/ _/ BOTTOM1/ )/ )/ andinGoalState/ (/ above/ (/ RED3/ ,/ BLUE3/ )/ )/ andinGoalState/ (/ above/ (/ RED3/ ,/ BLUE2/ )/ )/ andinGoalState/ (/ above/ (/ RED3/ ,/ BLUE1/ )/ )/ THENputdown/ (/ RED3/ ,/ BLUE1/ )/ ENDIFIFS21/ :/ IFinCurState/ (/ clear/ (/ RED2/ )/ )/ andinCurState/ (/ ontable/ (/ RED2/ )/ )/ andinCurState/ (/ empty/ )/ THENpickuptable/ (/ RED2/ )/ ENDIFIFS22/ :/ IFinCurState/ (/ holding/ (/ RED2/ )/ )/ andinCurState/ (/ clear/ (/ RED3/ )/ )/ andinGoalState/ (/ above/ (/ RED2/ ,/ BLUE/ _/ BOTTOM1/ )/ )/ andinGoalState/ (/ above/ (/ RED2/ ,/ BLUE3/ )/ )/ andinGoalState/ (/ above/ (/ RED2/ ,/ BLUE2/ )/ )/ andinGoalState/ (/ above/ (/ RED2/ ,/ BLUE1/ )/ )/ THENputdown/ (/ RED2/ ,/ RED3/ )/ ENDIFIFS23/ :/ IFinCurState/ (/ clear/ (/ RED1/ )/ )/ andinCurState/ (/ ontable/ (/ RED1/ )/ )/ andinCurState/ (/ empty/ )/ THENpickuptable/ (/ RED1/ )/ ENDIFIFS24/ :/ IFinCurState/ (/ holding/ (/ RED1/ )/ )/ andinCurState/ (/ clear/ (/ RED2/ )/ )/ andinGoalState/ (/ above/ (/ RED1/ ,/ BLUE/ _/ BOTTOM1/ )/ )/ andinGoalState/ (/ above/ (/ RED1/ ,/ BLUE3/ )/ )/ andinGoalState/ (/ above/ (/ RED1/ ,/ BLUE2/ )/ )/ andinGoalState/ (/ above/ (/ RED1/ ,/ BLUE1/ )/ )/ THENputdown/ (/ RED1/ ,/ RED2/ )/ ENDIF/ 在子/ 规划/ π/ sub1/ =/ 〈/ pickup/ ,/ putdowntable/ 〉/ 所/ 覆盖/ 的/ 条件/ 语句/ 序列/ 集合/ 中/ ,/ 没有/ 序列/ 是/ 合一/ 的/ ,/ 因而/ 不/ 形成/ 循环/ 结构/ ./ 而/ 在/ π/ sub2/ =/ 〈/ pickuptable/ ,/ put/ -/ down/ 〉/ 所/ 覆盖/ 的/ 条件/ 语句/ 序列/ 集合/ 中/ ,/ 〈/ IFS15/ ,/ IFS16/ 〉/ 和/ 〈/ IFS17/ ,/ IFS18/ 〉/ 通过/ 替换/ {/ BLUE1/ // BLUE2/ ,/ BLUE2/ // BLUE3/ }/ ①/ ,/ 形成/ 最长/ 合一/ 序列/ ,/ 因此/ 可/ 形成/ 循环/ 结构/ (/ 经/ 算法/ 2/ 的/ 第/ 11/ ~/ 15/ 步/ )/ :/ WS15/ -/ 18/ :/ WHILEinCurState/ (/ clear/ (/ BLUE2/ )/ )/ andinCurState/ (/ ontable/ (/ BLUE2/ )/ )/ andinCurState/ (/ empty/ )/ DOpickuptable/ (/ BLUE2/ )/ IFinCurState/ (/ holding/ (/ BLUE2/ )/ )/ andinCurState/ (/ clear/ (/ BLUE3/ )/ )/ andinGoalState/ (/ above/ (/ BLUE2/ ,/ BLUE/ _/ BOTTOM1/ )/ )/ THENputdown/ (/ BLUE2/ ,/ BLUE3/ )/ ENDIFENDWHILE/ 类似/ 地/ ,/ 〈/ IFS21/ ,/ IFS22/ 〉/ 和/ 〈/ IFS23/ ,/ IFS24/ 〉/ 通过/ 替换/ {/ RED1/ // RED2/ ,/ RED2/ // RED3/ }/ ,/ 形成/ 最长/ 合一/ 序列/ ,/ 因此/ 也/ 可以/ 形成/ 循环/ 结构/ :/ WS21/ -/ 24/ :/ WHILEinCurState/ (/ clear/ (/ RED2/ )/ )/ andinCurState/ (/ ontablepickuptable/ (/ RED2/ )/ IFinCurState/ (/ holding/ (/ RED2/ )/ )/ andinCurState/ (/ clear/ (/ RED3/ )/ )/ andinGoalState/ (/ above/ (/ RED2/ ,/ BLUE/ _/ BOTTOM1/ )/ )/ andinGoalState/ (/ above/ (/ RED2/ ,/ BLUE3/ )/ )/ andinGoalState/ (/ above/ (/ RED2/ ,/ BLUE2/ )/ )/ ①/ 在/ 〈/ IFS17/ ,/ IFS18/ 〉/ 中/ ,/ 用/ BLUE2/ 来/ 替换/ BLUE1/ ,/ 用/ BLUE3Page11andinGoalState/ (/ above/ (/ RED2/ ,/ BLUE1/ )/ )/ THENputdown/ (/ RED2/ ,/ RED3/ )/ ENDIFENDWHILE3/ ./ 2.3/ 调整/ 上述/ 阶段/ 通过/ 同类/ 角色/ 的/ 替换/ 来/ 识别/ 循环/ ,/ 有时候/ 效果/ 是/ 非常/ 有限/ 的/ ./ 例如/ ,/ 子/ 规划/ π/ sub1/ =/ 〈/ pick/ -/ up/ ,/ putdowntable/ 〉/ 所/ 覆盖/ 的/ 条件/ 语句/ 序列/ 结构/ 非常/ 相似/ ,/ 但是/ 由于/ 涉及/ 的/ 角色/ 不同/ ,/ 因此/ 不能/ 合一/ ./ 为了/ 尽可能/ 识别/ 循环/ ,/ 在/ 进入/ 调整/ 阶段/ (/ 或称/ 后处理/ 阶段/ )/ ,/ 需/ 根据/ 问题/ 特征/ ,/ 对/ 已/ 产生/ 的/ 结果/ 进行/ 半自动化/ 或/ 自动化/ 的/ 调整/ ./ 首先/ 进行/ 人工/ 参与/ 的/ 半自动化/ 调整/ 过程/ ./ 在/ 例/ 7/ 所示/ 的/ 子/ 规划/ π/ sub1/ 所/ 覆盖/ 的/ 条件/ 语句/ 序列/ 集合/ {/ 〈/ IFS1/ ,/ IFS2/ 〉/ ,/ 〈/ IFS3/ ,/ IFS4/ 〉/ ,/ 〈/ IFS5/ ,/ IFS6/ 〉/ ,/ 〈/ IFS7/ ,/ IFS8/ 〉/ ,/ 〈/ IFS9/ ,/ IFS10/ 〉/ ,/ 〈/ IFS11/ ,/ IFS12/ 〉/ }/ 中/ ,/ 我们/ 发现/ 这些/ 语句/ 中/ 都/ 没有/ 出现/ inGoalState/ 谓词/ ,/ 即/ 它们/ 所/ 包含/ 的/ 动作/ 与/ 目标/ 没有/ 直接/ 关联/ ,/ 即/ 应用/ 这些/ 动作/ 只是/ 为/ 产生/ 目标/ 创造/ 中间/ 条件/ ./ 而/ 上述/ 条件/ 语句/ 序列/ 因为/ 角色/ 不同/ 而/ 不能/ 形成/ 循环/ 语句/ ,/ 因此/ 在/ 没有/ 与/ 目标/ 直接/ 关联/ 的/ 情况/ 下/ ,/ 我们/ 可以/ 认为/ 不同/ 角色/ 可能/ 不/ 存在/ 差异/ ./ 这样/ 的/ 调整/ 是/ 试探性/ 和/ 经验性/ 的/ ,/ 精确/ 的/ 理论/ 证明/ 费时费力/ ,/ 其/ 代价/ 是/ 值得/ 商榷/ 的/ ./ 观察/ 图/ 7/ ,/ 发现/ 这些/ 条件/ 语句/ 中/ 所/ 涉及/ 的/ 角色/ BLUE/ 、/ RED/ 和/ BLUE/ _/ BOTTOM/ 具有/ 共同/ 的/ 上层/ 角色/ OBJECT/ ,/ 因此/ 考虑/ 以下/ 替换/ :/ 〈/ IFS1/ ,/ IFS2/ 〉/ :/ {/ RED1/ // OBJECT1/ ,/ BLUE1/ // OBJECT2/ }/ 〈/ IFS3/ ,/ IFS4/ 〉/ :/ {/ BLUE1/ // OBJECT1/ ,/ BLUE2/ // OBJECT2/ }/ 〈/ IFS5/ ,/ IFS6/ 〉/ :/ {/ BLUE2/ // OBJECT1/ ,/ RED2/ // OBJECT2/ }/ 〈/ IFS7/ ,/ IFS8/ 〉/ :/ {/ RED2/ // OBJECT1/ ,/ BLUE3/ // OBJECT2/ }/ 〈/ IFS9/ ,/ IFS10/ 〉/ :/ {/ BLUE3/ // OBJECT1/ ,/ RED3/ // OBJECT2/ }/ 〈/ IFS11/ ,/ IFS12/ 〉/ :/ {/ RED3/ // OBJECT1/ ,/ BLUE/ _/ BOTTOM1/ // 可以/ 使得/ {/ 〈/ IFS1/ ,/ IFS2/ 〉/ ,/ 〈/ IFS3/ ,/ IFS4/ 〉/ ,/ 〈/ IFS5/ ,/ IFS6/ 〉/ ,/ 〈/ IFS7/ ,/ IFS8/ 〉/ ,/ 〈/ IFS9/ ,/ IFS10/ 〉/ ,/ 〈/ IFS11/ ,/ IFS12/ 〉/ }/ 形成/ 最长/ 合一/ 序列/ ,/ 因此/ 经过/ 算法/ 2/ 的/ make/ _/ loop/ 过程/ 可以/ 形成/ 如下/ 循环/ 结构/ :/ WS1/ -/ 12/ :/ WHILEinCurState/ (/ empty/ )/ andinCurState/ (/ clear/ (/ OBJECT1/ )/ )/ andinCurState/ (/ on/ (/ OBJECT1/ ,/ OBJECT2/ )/ )/ DOpickup/ (/ OBJECT1/ ,/ OBJECT2/ )/ IFinCurState/ (/ holding/ (/ OBJECT1/ )/ )/ THENputdowntable/ (/ OBJECT1/ )/ ENDIFENDWHILE/ 其次/ 进行/ 自动化/ 调整/ ./ 这个/ 步骤/ 主要/ 完成/ 两个/ 方面/ 的/ 工作/ :/ 一是/ 简化/ 条件/ 语句/ ,/ 如果/ 同一/ 语句/ 中/ 前后/ 两个/ 动作/ 存在/ 着/ 因果/ 链/ 关系/ ,/ 则/ 因果/ 链所/ 支持/ 的/ 前提/ 在/ 前/ 一个/ 动作/ 完成/ 的/ 状态/ 中/ 必然/ 成立/ ,/ 因此/ 可以/ 在/ 后/ 一个/ 动作/ 的/ 条件/ 语句/ 中/ 删除/ ;/ 二是/ 将/ 角色/ 转换/ 为/ 对象/ 变量/ ,/ 使用/ 角色/ 是/ 为了/ 方便/ 识别/ 循环/ ,/ 而/ 在/ 解析/ 通用/ 规划/ 程序/ 时需/ 还原/ 为/ 谓词/ 的/ 参数/ ,/ 因此/ 在/ 条件/ 语句/ 中/ 添加/ 角色/ 的/ 特征/ 谓词/ ,/ 即可/ 将/ 角色/ 转换/ 为/ 变量/ ./ 具体/ 过程/ 见/ 算法/ 3/ ./ 算法/ 3/ ./ 后处理/ 算法/ ./ 输入/ :/ 通用/ 规划/ GP/ 输出/ :/ 经过/ 调整/ 的/ 通用/ 规划/ GP1/ ./ FORanytwoactionsaiandai/ +/ 1insomesamestate/ -/ 2/ ./ IFthereexistsacausallinkai/ →/ / / pai/ +/ 1THENremovespfromthepredicateinCurStateoftheconditionstatementwhichcontainsai/ +/ 1inGPmentofGPDO3/ ./ FOReachroleinGPDO4/ ./ replacerolewithsomevariable/ ,/ andatthesametimeaddtheabstractpredicatesetofroleintothepredicateinCurState/ 定理/ 4/ ./ 算法/ 3/ 的/ 时间/ 复杂性/ 为/ O/ (/ n/ )/ ,/ 其中/ n/ 是/ 规划/ 解/ 的/ 长度/ ./ 定理/ 4/ 的/ 证明/ 相对/ 简单/ ./ 完成/ 算法/ 3/ 所述/ 的/ 两/ 方面/ 工作/ ,/ 需/ 两遍/ 扫描/ 通用/ 规划/ GP/ ,/ 因此/ 时间/ 复杂性/ 是/ O/ (/ n/ )/ ./ 例/ 8/ ./ 例/ 7/ 中/ 的/ 通用/ 规划/ 解/ 经过/ 调整/ 阶段/ 后/ ,/ 结果/ 如下/ :/ WS1/ -/ 12/ :/ WHILEinCurState/ (/ empty/ )/ andinCurState/ (/ clear/ (/ ?/ x/ )/ )/ andinCurState/ (/ on/ (/ ?/ x/ ,/ ?/ y/ )/ )/ DOpickup/ (/ ?/ x/ ,/ ?/ y/ )/ putdowntable/ (/ ?/ x/ )/ ENDWHILEIFS13/ :/ IFinCurState/ (/ clear/ (/ ?/ x/ )/ )/ andinCurState/ (/ ontable/ (/ ?/ x/ )/ )/ andinCurState/ (/ empty/ )/ andinCurState/ (/ color/ (/ ?/ x/ ,/ blue/ )/ )/ THENpickuptable/ (/ ?/ x/ )/ ENDIFIFS14/ :/ IFinCurState/ (/ holding/ (/ ?/ x/ )/ )/ andinCurState/ (/ color/ (/ ?/ x/ ,/ blue/ )/ )/ andinCurState/ (/ color/ (/ ?/ y/ ,/ blue/ )/ )/ andinCurState/ (/ bot/ -/ tom/ (/ ?/ y/ )/ )/ andinCurState/ (/ clear/ (/ ?/ y/ )/ )/ andinGoalState/ (/ above/ (/ ?/ x/ ,/ ?/ y/ )/ )/ THENputdown/ (/ ?/ x/ ,/ ?/ y/ )/ ENDIFWS15/ -/ 18/ :/ WHILEinCurState/ (/ clear/ (/ ?/ x/ )/ )/ andinCurState/ (/ ontablePage12/ (/ ?/ x/ )/ )/ andinCurState/ (/ empty/ )/ andinCurState/ (/ color/ (/ ?/ x/ ,/ blue/ )/ )/ DOpickuptable/ (/ ?/ x/ )/ IFinCurState/ (/ clear/ (/ ?/ y/ )/ )/ andinCurState/ (/ color/ (/ ?/ y/ ,/ blue/ )/ )/ andinCurState/ (/ above/ (/ ?/ y/ ,/ ?/ z/ )/ )/ andinCurState/ (/ color/ (/ ?/ z/ ,/ blue/ )/ )/ andinCurState/ (/ bottom/ (/ ?/ z/ )/ )/ andinGoalState/ (/ above/ (/ ?/ x/ ,/ ?/ z/ )/ )/ THENputdown/ (/ ?/ x/ ,/ ?/ y/ )/ ENDIFENDWHILEIFS19/ :/ IFinCurState/ (/ clear/ (/ ?/ x/ )/ )/ andinCurState/ (/ ontable/ (/ ?/ x/ )/ )/ andinCurState/ (/ empty/ )/ andinCurState/ (/ color/ (/ ?/ x/ ,/ red/ )/ )/ THENpickuptable/ (/ ?/ x/ )/ ENDIFIFS20/ :/ IFinCurState/ (/ clear/ (/ ?/ y/ )/ )/ andinCurState/ (/ color/ (/ ?/ y/ ,/ blue/ )/ )/ andinCurState/ (/ above/ (/ ?/ y/ ,/ ?/ z/ )/ )/ andinCurState/ (/ color/ (/ ?/ z/ ,/ blue/ )/ )/ andinCurState/ (/ bottom/ (/ ?/ z/ )/ )/ andinGoalState/ (/ above/ (/ ?/ x/ ,/ ?/ z/ )/ )/ andinGoalState/ (/ / t/ (/ color/ (/ ?/ tblue/ )/ →/ above/ (/ ?/ x/ ,/ ?/ t/ )/ )/ )/ THENputdown/ (/ ?/ x/ ,/ ?/ y/ )/ ENDIFWS21/ -/ 24/ :/ WHILEinCurState/ (/ clear/ (/ ?/ x/ )/ )/ andinCurState/ (/ color/ (/ ?/ x/ ,/ red/ )/ )/ andinCurState/ (/ ontable/ (/ ?/ x/ )/ )/ andinCurState/ (/ empty/ )/ DOpickuptable/ (/ ?/ x/ )/ IFinCurState/ (/ clear/ (/ ?/ y/ )/ )/ andinCurState/ (/ color/ (/ ?/ y/ ,/ red/ )/ )/ andinCurState/ (/ color/ (/ ?/ z/ ,/ blue/ )/ )/ andinCurState/ (/ bottom/ (/ ?/ z/ )/ )/ andinCurState/ (/ above/ (/ ?/ y/ ,/ ?/ z/ )/ )/ andinGoalState/ (/ above/ (/ ?/ x/ ,/ ?/ z/ )/ )/ andinGoalState/ (/ / t/ (/ color/ (/ ?/ tblue/ )/ →/ above/ (/ ?/ x/ ,/ ?/ t/ )/ )/ )/ THENputdown/ (/ ?/ x/ ,/ ?/ y/ )/ ENDIFENDWHILE/ 在/ 例/ 8/ 中/ ,/ 首先/ 要/ 注意/ 的/ 是/ 在/ 同一个/ 语句/ (/ 不管/ 是/ IFS/ 或/ WS/ )/ 中/ ,/ 相同/ 的/ 变量名/ 代表/ 同一/ 变量/ ,/ 不同/ 的/ 变量名/ 代表/ 不同/ 变量/ ./ 其次/ ,/ 在/ WS1/ -/ 12/ 中/ ,/ 由于/ 存在/ 着/ 因果/ 链/ pickup/ (/ ?/ x/ ,/ ?/ y/ )/ holding/ (/ ?/ x/ →/ / / / / / )/ putdowntable/ (/ ?/ x/ )/ ,/ 因此/ 条件/ 得到/ 约简/ ./ 类似/ 的/ 情况/ 也/ 发生/ 在/ WS15/ -/ 18/ 和/ WS21/ -/ 24/ 中/ ./ 最后/ ,/ 根据/ 原有/ 目标/ 描述/ / x/ / y/ (/ color/ (/ xblue/ )/ ∧/ color/ (/ yred/ )/ →/ above/ (/ yx/ )/ )/ 以及/ 已/ 得到/ 的/ 通用/ 规划/ 语句/ 中/ 已经/ 包括/ 所有/ 对象/ 的/ 事实/ ,/ 在/ WS21/ -/ 24/ 中/ 增加/ 全称/ 量词/ (/ IFS20/ 也/ 是/ 类似/ 的/ 处理/ )/ ,/ 使得/ inCurState/ (/ color/ (/ ?/ t1/ ,/ blue/ )/ )/ andinCurState/ (/ color/ (/ ?/ t2/ ,/ blue/ )/ )/ andinCurState/ (/ color/ (/ ?/ t3/ ,/ blue/ )/ )/ andinGoalState/ (/ above/ (/ ?/ x/ ,/ ?/ t1/ )/ )/ andinGoalState/ (/ above/ (/ ?/ x/ ,/ ?/ t2/ )/ )/ andinGoalState/ (/ above/ (/ ?/ x/ ,/ ?/ t3/ )/ )/ 改写/ 为/ inGoalState/ (/ / t/ (/ color/ (/ ?/ tblue/ )/ →/ above/ (/ ?/ x/ ,/ ?/ t/ )/ )/ )/ 这样/ 改写/ 之后/ 的/ 通用/ 规划/ 语句/ 不仅/ 摆脱/ 了/ 学习/ 用例/ 对/ 其/ 形式/ 的/ 束缚/ ,/ 而且/ 还/ 增强/ 了/ 可读性/ ./ 最后/ ,/ 要/ 说明/ 的/ 是/ ,/ 对于/ ColorBlockTower/ 领域/ 而言/ ,/ 例/ 8/ 中/ 的/ 通用/ 规划/ 解/ 实际上/ 包含/ 以下/ 几个/ 步骤/ :/ 第/ 1/ 步/ (/ WS1/ -/ 12/ )/ :/ 将/ 不是/ 底/ 木块/ 的/ 所有/ 木块/ 均/ 放在/ 桌上/ ;/ 在/ 底/ 木块/ 上/ ;/ 木块/ 塔上/ ;/ 木块/ 塔上/ ./ 4/ 实验/ 分析/ 第/ 2/ 步/ (/ IFS13/ ~/ IFS14/ )/ :/ 选择/ 一个/ 蓝色/ 木块/ 放/ 第/ 3/ 步/ (/ WS15/ -/ 18/ )/ :/ 将/ 剩余/ 的/ 蓝色/ 木块/ 依次/ 放在/ 第/ 4/ 步/ (/ IFS19/ ~/ IFS20/ )/ :/ 选择/ 一个/ 红色/ 木块/ 放在/ 塔顶/ 的/ 蓝色/ 木块/ 上/ ;/ 第/ 5/ 步/ (/ WS21/ -/ 24/ )/ :/ 将/ 剩余/ 的/ 红色/ 木块/ 依次/ 放在/ 本/ 实验/ 部分/ 开发/ 一个/ 系统/ GPLANNERDP/ ,/ 用以/ 验证/ 以上/ 算法/ (/ 算法/ 1/ ~/ 3/ )/ 的/ 可行性/ 以及/ 评估/ 通用/ 规划/ 的/ 质量/ ./ 整个/ 系统/ GPLANNERDP/ 用/ EclipsePlatform/ (/ Version3/ ./ 3.2/ )/ 开发/ ,/ 由/ 三/ 部分/ 组成/ :/ Gp/ _/ learn/ ./ c/ 、/ Gp/ _/ instance/ ./ c/ 和/ Gp/ _/ testdata/ ./ c/ (/ 如图/ 8/ 所示/ )/ ./ Gp/ _/ learn/ ./ c/ 实现/ 算法/ 1/ ~/ 3/ ,/ 用于/ 提取/ 通用/ 规划/ ./ 它/ 需要/ 从/ 具体/ 规划/ 解/ 文件/ Solution/ ./ txt/ 中/ 获取/ 动作/ 序列/ ,/ 从/ 领域/ 描述/ 文件/ Domain/ ./ PDDL/ 中/ 读取/ 动作/ 模型/ 、/ 派生/ 谓词/ 规则/ 以及/ 领域/ 类型信息/ 等/ ,/ 从/ 具体/ 问题/ 描述/ 文件/ Problem/ ./ PDDL/ 中/ 读取/ 初始状态/ 、/ 目标/ 状态/ 、/ 问题/ 对象/ 以及/ 角色/ 信息/ 等/ ,/ 而/ 产生/ 的/ 通用/ 规划/ 解/ 保存/ 在/ 文件/ GP/ ./ txt/ 中/ ./ Gp/ _/ testdata/ ./ c/ 用于/ 从/ 给定/ 的/ 参数/ 随机/ 生成/ 测试/ 问题/ (/ 存放/ 于/ 文件/ Test/ _/ Problem/ ./ PDDL/ 中/ )/ ./ Gp/ _/ instance/ ./ c/ 是/ 一个/ 通用/ 规划/ 的/ 解释程序/ ,/ 基于/ 测试/ 问题/ 的/ 信息/ ,/ 执行/ 通用/ 规划/ 所/ 表示/ 的/ 程序/ ,/ 从而/ 得到/ 具体/ 问题/ 的/ 解/ (/ 存放/ 于/ 文件/ Test/ _/ Solution/ ./ txt/ 中/ )/ ./ Page13/ 系统/ GPLANNERDP/ 三个/ 部分/ 的/ 具体/ 实现/ 步骤/ 见表/ 3/ ./ 其中/ 需/ 特别/ 说明/ 的/ 是/ Gp/ _/ instance/ ./ c/ 的/ 第/ 4/ 个/ 步骤/ ./ 通用/ 规划/ 的/ 执行/ 像/ 程序/ 一样/ ,/ 顺序/ 地/ 从/ 第一个/ 语句/ 开始/ ,/ 直到/ 最后/ 一个/ 语句/ ./ 如果/ 待/ 执行/ 的/ 是/ 条件/ 语句/ ,/ 只/ 需/ 执行/ 一次/ ,/ 即/ 在/ 当前/ 状态/ 下/ 找到/ 一组/ 满足/ 应用/ 条件/ 的/ 对象/ 实例/ ,/ 执行/ 动作/ 并/ 扩充/ 状态/ ,/ 即可/ 执行/ 下/ 一条/ 语句/ ./ 然而/ ,/ 如果/ 待/ 执行/ 的/ 是/ 循环/ 语句/ ,/ 则/ 可能/ 会/ 执行/ 多次/ ,/ 直到/ 不/ 存在/ 满足/ 应用/ 条件/ 的/ 对象/ 实例/ 为止/ ./ 当/ 执行/ 完整/ 个/ 通用/ 规划/ 程序/ 后/ ,/ 如果/ 所/ 产生/ 的/ 终止/ 状态/ 满足/ 目标/ 条件/ ,/ 则/ 宣告/ 成功/ 求解/ ,/ 否则/ 宣告/ 失败/ ./ 在/ 执行/ 过程/ 中/ ,/ 每/ 执行/ 完/ 一个/ 动作/ ,/ 需用/ 实例/ 化/ 规则/ 对/ 当前/ 状态/ 进行/ 推导/ 使/ 其/ 包含/ 所有/ 应该/ 成立/ 的/ 派生/ 谓词/ 实例/ ./ 本/ 实验/ 主要/ 评估/ 提取/ 通用/ 规划/ 的/ 复杂性/ 和/ 规划/ 实例/ 化/ 的/ 复杂性/ ./ 前者/ 是/ 指/ 从/ 具体/ 规划/ 解中/ 提取/ 通用/ 规划/ 解所花/ 的/ 时间/ ./ 后者/ 是/ 指/ 从/ 通用/ 规划/ 解中/ 获取/ 实例/ 规划/ 解所花/ 的/ 时间/ ./ 机器/ 环境/ 为/ CPU/ (/ Celeron2/ ./ 66GHz/ )/ +/ RAM/ (/ 1GB/ )/ +/ Windows2008/ +/ gcc4/ ./ 3.0/ ,/ 开发/ 平台/ 为/ EclipsePlatform/ (/ Version3/ ./ 3.2/ )/ ./ 实验/ 领域/ 及/ 结果/ 如表/ 3/ ./ 表/ 3/ 系统/ GPLANNERDP/ 各/ 部分/ 的/ 具体/ 实现/ 步骤/ 程序/ Gp/ _/ learn/ ./ cGp/ _/ instance/ ./ cGp/ _/ testdata/ ./ c4/ ./ 1ColorBlockTower/ 领域/ 该/ 领域/ 是/ 本文/ 学习/ 通用/ 规划/ 的/ 例子/ 领域/ ,/ 完整/ 领域/ 描述/ 见/ 附录/ 1/ ./ 它/ 改编/ 于/ 经典/ 的/ BlockWorld/ 领域/ ,/ 要求/ 把/ 所有/ 红色/ 木块/ 放在/ 蓝色/ 木块/ 的/ 上方/ ./ 学习/ 到/ 的/ 一个/ 通用/ 规划/ 解如例/ 8/ 所示/ ./ 表/ 4/ 给出/ 了/ 在/ 不同/ 规模/ 的/ 训练/ 例下/ 提取/ 通用/ 规划/ 所花/ 的/ 时间/ ./ 提取/ 的/ 结果/ 为/ :/ 当/ 红色/ 木块/ 数/ #/ RED/ / 2/ 且/ 蓝色/ 木块/ 数/ #/ BLUE/ / 3/ 时/ ,/ 学习/ 到/ 的/ 通用/ 规划/ 均/ 如例/ 8/ 所示/ ./ 表/ 4/ 提取/ ColorBlockTower/ 领域/ 通用/ 规划/ 所花/ 的/ 时间/ 问题/ 参数/ #/ RED/ =/ 3/ #/ BLUE/ =/ 40.0280/ ./ 0100.0000/ ./ 038/ #/ RED/ =/ 6/ #/ BLUE/ =/ 80.0840/ ./ 0080.0000/ ./ 092/ #/ RED/ =/ 7/ #/ BLUE/ =/ 90.1120/ ./ 0090.0010/ ./ 122/ #/ RED/ =/ 7/ #/ BLUE/ =/ 100.1300/ ./ 0100.0010/ ./ 141/ #/ RED/ =/ 8/ #/ BLUE/ =/ 100.1520/ ./ 0090.0010/ ./ 162/ #/ RED/ =/ 9/ #/ BLUE/ =/ 100.1880/ ./ 0080.0010/ ./ 197/ #/ RED/ =/ 10/ #/ BLUE/ =/ 100.2010/ ./ 0100.0010/ ./ 212/ 在/ 表/ 4/ 中/ ,/ T1/ ,/ T2/ 和/ T3/ 分别/ 表示/ 实现/ 算法/ 1/ 、/ 2/ 和/ 3/ 所花/ 的/ 时间/ ,/ T/ 表示/ 提取/ 通用/ 规划/ (/ 运行/ Gp/ _/ learn/ ./ c/ )/ 所花/ 的/ 总/ 时间/ ./ 从表/ 4/ 中/ 可以/ 看到/ :/ (/ 1/ )/ T/ 一般/ 很小/ ,/ 不/ 超过/ 1s/ ;/ (/ 2/ )/ T2/ 和/ T3/ 不受/ 问题/ 规模/ 的/ 影响/ ,/ 比较稳定/ ;/ (/ 3/ )/ T1/ 随着/ 问题/ 规模/ 的/ 增大/ 而/ 逐步/ 增加/ ,/ 因为/ 其/ 包含/ 的/ 步骤/ 如/ 规划图/ 的/ 建立/ 和/ 为/ 扩充/ 状态/ 而/ 进行/ 的/ 规则/ 实例/ 化/ 都/ 与/ 问题/ 规模/ 有关/ ./ 表/ 5/ 给出/ GPLANNERDP/ 用/ 学习/ 到/ 的/ 通用/ 规划/ 来/ 求解/ 规划/ 问题/ 实例/ 的/ 时间/ 开销/ ,/ 同时/ 与/ 另外/ 一个/ 能够/ 求解/ 派生/ 谓词/ 规划/ 问题/ 的/ 规划系统/ LPG/ -/ td/ [/ 26/ ]/ 进行/ 比较/ ./ LPG/ -/ td/ 在/ 规划/ 空间/ 进行/ 局部/ 搜索/ ,/ 为/ 处理/ 派生/ 谓词/ 建立/ 规则/ 图/ ,/ 并/ 使用/ 激活/ 集来/ 替换/ 动作/ 图中/ 的/ 派生/ 谓词/ 实例/ ./ LPG/ -/ td/ 在/ IPC/ -/ 4/ (/ 唯一/ 引入/ 派生/ 谓词/ 规划/ 领域/ 的/ 国际/ 规划/ 竞赛/ )/ 上/ 表现/ 优异/ ,/ 而/ 其它/ 具有/ 相似/ 能力/ 的/ 规划系统/ 不仅/ 性能/ 不佳/ 而且/ 还/ 存在/ 一些/ 严重/ 的/ 局限/ ./ 例如/ Marvin/ 不能/ 直接/ 处理/ ADL/ 风格/ 的/ 派生/ 谓词/ 规划/ 问题/ ,/ 只能/ 先/ 将/ 其/ 编译成/ STRIPS/ 风格/ 然后/ 再/ 进行/ 求解/ ,/ 因此/ 不/ 适宜/ 用于/ 性能/ 比较/ (/ 本文/ 的/ 测试/ 问题/ 均/ 为/ ADL/ 风格/ )/ ./ 测试/ 问题/ 用/ Gp/ _/ testdata/ ./ c/ 来/ 生成/ ,/ 即/ 输入/ 问题/ 参数/ #/ RED/ 和/ #/ BLUE/ (/ 其中/ 一个/ 蓝色/ 木块/ 作为/ 底/ 木块/ )/ ,/ 随机/ 产生/ 木块/ 的/ 初始/ 位置/ (/ 即/ 每个/ 木块/ 可/ 选择/ 放在/ 桌上/ 或者/ 其它/ 木块/ 之上/ )/ ./ 对于/ 相同/ 的/ 一组/ 问题/ 参数/ ,/ 随机/ 生成/ 3/ 个/ 问题/ (/ 初始状态/ 不同/ ,/ 目标/ 状态/ 相同/ )/ ,/ 来/ 测试/ 该/ 问题/ 规模/ 下/ 的/ 求解/ 时间/ ,/ 结果/ 如表/ 5/ 所示/ ./ Page14/ 表/ 5/ 使用/ 通用/ 规划/ 求解/ ColorBlockTower/ 问题/ 并/ 与/ LPG/ -/ td/ 进行/ 比较/ #/ RED/ =/ 2/ #/ BLUE/ =/ 3/ #/ RED/ =/ 3/ #/ BLUE/ =/ 4/ #/ RED/ =/ 5/ #/ BLUE/ =/ 6/ #/ RED/ =/ 6/ #/ BLUE/ =/ 8/ #/ RED/ =/ 7/ #/ BLUE/ =/ 9/ #/ RED/ =/ 7/ #/ BLUE/ =/ 10/ #/ RED/ =/ 8/ #/ BLUE/ =/ 10/ #/ RED/ =/ 9/ #/ BLUE/ =/ 10/ #/ RED/ =/ 10/ #/ BLUE/ =/ 10/ 在/ 表/ 5/ 中/ ,/ #/ RED/ 和/ #/ BLUE/ 是/ 问题/ 规模/ 的/ 参数/ ,/ 分别/ 表示/ 红色/ 木块/ 和/ 蓝色/ 木块/ 的/ 个数/ ./ No/ 表示/ 问题/ 编号/ .#/ I/ 表示/ 初始状态/ 的/ 命题/ 数/ ,/ #/ G/ 表示/ 满足/ 目标/ 条件/ 的/ 命题/ 数/ ./ 由于/ 同组/ 的/ 规划/ 问题/ 随机/ 生成/ ,/ 因此/ #/ I/ 可能/ 不/ 相同/ ,/ 但是/ #/ G/ 相同/ ./ 在/ GPLANNERDP/ 的/ 实验/ 数据/ 中/ ,/ #/ instance/ 表示/ 尝试/ 满足/ 语句/ 应用/ 条件/ 的/ 对象/ 实例/ 的/ 总和/ ./ 实际上/ ,/ 在/ 应用/ 通用/ 规划/ 时/ ,/ 也/ 存在/ 着/ 搜索/ 空间/ ,/ 只不过/ 其中/ 的/ 结点/ 是/ 对象/ 实例/ ,/ 而/ 不是/ 状态/ .#/ instance/ 反应/ 了/ 此/ 搜索/ 空间/ 的/ 大小/ ,/ 也/ 解释/ 了/ 为什么/ 在/ 问题/ 规模/ 变大时/ ,/ 应用/ 通用/ 规划/ 求解/ 也/ 需花/ 较长/ 的/ 时间/ ./ 运行/ LPG/ -/ td/ 时/ 采用/ “/ -/ n2/ ”/ 模式/ ,/ 即/ 每次/ 返回/ 两个/ 解/ ,/ 第/ 2/ 个解/ 在/ 第/ 1/ 个解/ 的/ 基础/ 上/ 改进/ 质量/ ,/ 是/ “/ -/ speed/ ”/ 模式/ 和/ “/ -/ quality/ ”/ 模式/ 的/ 一种/ 折衷/ ./ 为了/ 比较/ GPLANNERDP/ 和/ LPG/ -/ td/ 的/ 性能/ ,/ 参照/ 近似算法/ 的/ 性能/ 测试法/ ,/ 定义/ 性能比/ η/ 如下/ ./ 定义/ 8/ ./ 性能比/ ./ 定义/ 性能比/ η/ {/ =/ maxCGPlanCLPGCLPGC/ }/ GPlan999202018363436444640525248585652626460645864666268/ 标/ ,/ CLPG/ 表示/ LPG/ -/ td/ 的/ 性能指标/ ./ (/ 3/ )/ 在/ 相同/ 的/ 问题/ 参数/ 下/ ,/ GPLANNERDP/ 求解/ 同组/ 问题/ 所/ 需/ 时间/ 近似/ ,/ 因此/ 尽管/ 规划/ 问题/ 随机/ 生成/ ,/ 但是/ 问题/ 参数/ 足以/ 说明/ 问题/ 求解/ 难度/ ./ 由于/ 规划/ 问题/ 是/ 极小/ 化/ 问题/ (/ 需/ 时间/ 最少/ 或/ 动作/ 最少/ )/ ,/ 性能比/ 越大/ ,/ 表示/ 两个/ 算法/ 的/ 差距/ 越大/ ,/ 而且/ 性能指标/ 小/ 的/ 一方/ 越/ 优越/ ./ 从表/ 5/ 中/ 可以/ 看到/ :/ (/ 1/ )/ LPG/ -/ td/ 对于/ 参数/ #/ RED/ / 5/ 且/ #/ BLUE/ / 6/ 的/ 问题/ 无法/ 求解/ (/ 在/ 进行/ 一段时间/ 后/ ,/ 自动/ 退出/ )/ ,/ 而/ GPLANNERDP/ 均/ 可以/ 求解/ 这些/ ,/ 尽管/ 对于/ 规模/ 较大/ 的/ 问题/ (/ 例如/ #/ RED/ =/ 10/ 且/ #/ BLUE/ =/ 10/ )/ ,/ 其/ 需要/ 较长/ 的/ 时间/ (/ 因为/ 需/ 尝试/ 的/ 实例/ 多/ )/ ;/ (/ 2/ )/ 根据/ 性能比/ ,/ 相/ 比较/ LPG/ -/ td/ 而言/ ,/ GPLANNERDP/ 在/ 更/ 短/ 的/ 时间/ 内/ 返回/ 更好/ 的/ 解/ ,/ 并且/ 性能比/ 的/ 值/ 都/ 比较/ 大/ (/ 例如/ #/ RED/ =/ 3/ 且/ #/ BLUE/ =/ 4/ 时/ )/ ,/ 表明/ GPLANNERDP/ 在/ 求解/ ColorBlockTower/ 问题/ 时比/ LPG/ -/ td/ 要/ 优越/ 得/ 多/ ;/ Page15/ 还/ 需要/ 补充/ 说明/ 的/ 是/ :/ 第一/ ,/ LPG/ -/ td/ 难以/ 求解/ 的/ 主要/ 原因/ 是因为/ 该类/ 问题/ 目标/ 状态/ 不/ 唯一/ (/ 实际上/ 数量/ 非常/ 多/ )/ ,/ 造成/ 估值/ 困难/ ,/ 搜索/ 空间/ 异常/ 庞大/ ;/ 第二/ ,/ 不像/ Rocket/ 问题/ (/ 如图/ 1/ 所示/ )/ ,/ 其/ 目标/ 状态/ 唯一/ ,/ 因此/ 在/ 领域/ 对象/ 较多时/ ,/ 不管/ 是/ 规划系统/ 还是/ 通用/ 规划/ 程序/ 都/ 能/ 在/ 一定/ 程度/ 上/ 求解/ ,/ 而/ 对于/ ColorBlockTower/ 问题/ 而言/ ,/ 在/ 其/ 领域/ 对象/ 不多时/ ,/ 由于/ 目标/ 状态/ 的/ 多样性/ 问题/ 本身/ 就/ 难以/ 求解/ 了/ ,/ 因此/ 通用/ 规划/ 程序/ 在/ 两个/ 领域/ 的/ 求解/ 时间/ 不/ 具有/ 可比性/ ./ 此外/ ,/ 只要/ 给定/ 充足/ 的/ 时间/ 和/ 计算资源/ ,/ 例/ 8/ 所示/ 的/ 通用/ 规划/ 可以/ 求解/ 问题/ 参数/ #/ RED/ / 2/ 且/ #/ BLUE/ / 3/ 的/ 任意/ ColorBlockTower/ 问题/ ./ 4.2/ 只有/ above/ 目标/ 的/ BlockWorld/ 领域/ 该/ 领域/ 在/ BlockWorld/ 的/ 基础/ 上/ 增加/ 了/ 派生/ 谓词/ 规则/ ,/ 其/ 完整/ 领域/ 描述/ 见/ 附录/ 2/ ./ 为了/ 增加/ 难度/ ,/ 本文/ 对/ 该/ 领域/ 的/ 测试/ 问题/ 做/ 了/ 特殊/ 的/ 约束/ ,/ 即/ 目标/ 条件/ 全部/ 由/ above/ 谓词/ 组成/ ./ 该/ 领域/ 的/ 问题/ 参数/ 为/ #/ BLOCK/ ,/ 表示/ 木块/ 的/ 个数/ ./ 为了/ 得到/ 求解/ 率高/ 的/ 通用/ 规划/ 解/ ,/ 需在/ 领域/ 中/ 增加/ 额外/ 的/ 派生/ 谓词/ 及其/ 规则/ ./ 增加/ 的/ 派生/ 谓词/ 包括/ good/ -/ position/ (/ ?/ x/ -/ block/ )/ 和/ link/ (/ _/ ?/ x/ -/ block/ ?/ y/ -/ block/ _/ )/ ,/ 前者/ 表示/ 木块/ ?/ x/ 处于/ 适宜/ 的/ 位置/ ,/ 无需/ 再/ 挪动/ ,/ 后者/ 表示/ 木块/ ?/ x/ 与/ 木块/ ?/ y/ 之间/ 有/ 链接/ 关系/ ._/ 是/ 参照/ 逻辑/ 程序设计/ 的/ 匿名/ 变量/ 标记/ ,/ 表示/ 0/ 个/ 或者/ 多个/ 参数/ ./ 它们/ 的/ 推导/ 规则/ 如下/ :/ R1/ :/ (/ :/ derived/ (/ link/ ?/ x/ ?/ y/ )/ (/ above/ ?/ x/ ?/ y/ )/ )/ R2/ :/ (/ :/ derived/ (/ link/ ?/ x/ ?/ y/ ?/ z/ )/ (/ or/ (/ and/ (/ above/ ?/ x/ ?/ y/ )/ (/ above/ ?/ y/ ?/ z/ )/ )/ (/ and/ (/ above/ ?/ x/ ?/ y/ )/ (/ above/ ?/ x/ ?/ z/ )/ )/ (/ and/ (/ above/ ?/ x/ ?/ z/ )/ (/ above/ ?/ y/ ?/ z/ )/ )/ )/ )/ R3/ :/ (/ :/ derived/ (/ link/ _/ ?/ x/ _/ )/ (/ and/ (/ link/ _/ ?/ x/ )/ (/ link/ ?/ x/ _/ )/ )/ )/ R4/ :/ (/ :/ derived/ (/ good/ -/ position/ ?/ x/ )/ (/ or/ (/ exists/ (/ ?/ y/ -/ block/ )/ (/ and/ (/ link/ _/ ?/ x/ ?/ y/ _/ )/ (/ on/ ?/ x/ ?/ y/ )/ )/ )/ (/ not/ (/ exists/ (/ ?/ y/ -/ block/ )/ (/ and/ (/ link/ _/ ?/ x/ ?/ y/ _/ )/ 对/ 上述/ 谓词/ 和/ 规则/ 的/ 解释/ 如下/ ./ link/ 是/ 一个/ 带有/ 可变/ 参数/ 的/ 谓词/ ,/ 表示/ 多个/ 木块/ 之间/ 有/ 从/ 上/ 往/ 下/ 的/ 相对/ 位置/ 关系/ ./ 它/ 突破/ 了/ above/ 的/ 限制/ ,/ 因为/ 后者/ 只/ 表示/ 两个/ 木块/ 间/ 的/ 上下/ 相对/ 位置/ 关系/ ./ link/ 由/ above/ 进行/ 直接/ 或/ 间接/ 推导/ ,/ 对于/ 不/ 确定/ 的/ 位置/ 关系/ 进行/ 明确/ 约束/ ,/ 例如/ 规则/ R2/ ,/ 这种/ 约束/ 显然/ 不是/ 唯一/ 的/ ,/ 但是/ 只要/ 满足/ 原始/ 目标/ 的/ 含义/ 即可/ ./ 规则/ R3/ 对于/ 首尾/ 变量/ 相同/ 的/ 链接/ 关系/ 进行/ 连接/ ,/ 期望/ 以长/ 的/ 链接/ 来/ 取代/ 短/ 的/ 子/ 链/ ,/ 以/ 减少/ 匹配/ 的/ 候选/ ./ 规则/ R2/ 和/ 规则/ R3/ 还/ 保证/ 了/ 木块/ 处于/ 唯一/ 的/ 链接/ 关系/ 中/ ./ 规则/ R4/ 定义/ 处于/ 适宜/ 位置/ 的/ 木块/ ,/ 或者/ 为/ 按照/ 链接/ 关系/ 已放好/ 的/ 木块/ ,/ 或者/ 为/ 没有/ 跟/ 其它/ 木块/ 有/ 任何/ 链接/ 关系/ 而/ 放在/ 桌上/ 的/ 木块/ ./ 在/ 增加/ 了/ 这些/ 谓词/ 和/ 规则/ 后/ ,/ 原/ 问题/ 的/ 目标/ 条件/ 变为/ / x/ (/ good/ -/ position/ (/ ?/ x/ )/ )/ ./ 学习/ 到/ 的/ 一个/ 通用/ 规划/ 如下/ ./ 实际上/ ,/ 对于/ #/ BLOCK/ / 2/ 的/ 训练/ 例/ 学习/ 到/ 的/ 通用/ 规划/ 均/ 相同/ ./ WS1/ :/ WHILEinCurState/ (/ empty/ )/ andinCurState/ (/ clear/ (/ ?/ x/ )/ )/ andinCurState/ (/ on/ (/ ?/ x/ ,/ ?/ y/ )/ )/ DOpickup/ (/ ?/ x/ ,/ ?/ y/ )/ putdowntable/ (/ ?/ x/ )/ ENDWHILEWS2/ :/ WHILEinCurState/ (/ empty/ )/ andinCurState/ (/ clear/ (/ ?/ x/ )/ )/ andinCurState/ (/ ontable/ (/ ?/ x/ )/ )/ andinCurState/ (/ not/ (/ good/ -/ posi/ -/ tion/ (/ ?/ x/ )/ )/ )/ DOpickuptable/ (/ ?/ x/ )/ IFinCurState/ (/ clear/ (/ ?/ y/ )/ )/ andinCurState/ (/ good/ -/ position/ (/ ?/ y/ )/ )/ andinCurState/ (/ link/ (/ _/ ?/ x/ ?/ y/ _/ )/ )/ andinGoalState/ (/ good/ -/ position/ (/ ?/ x/ )/ )/ THENputdown/ (/ ?/ x/ ,/ ?/ y/ )/ ENDIFENDWHILE/ 该/ 通用/ 规划/ 由/ 两个/ while/ 语句/ 组成/ ./ WS1/ 负责/ 把/ 所有/ 木块/ 放在/ 桌上/ ,/ 而/ WS2/ 则/ 把/ 原/ above/ 目标/ 中/ 涉及/ 的/ 木块/ 按照/ 链接/ 关系/ 放置/ 好/ ,/ 而/ 没有/ 链接/ 关系/ 的/ 木块/ 仍然/ 留在/ 桌上/ ./ 上述/ 通用/ 规划/ 给出/ 了/ 满足/ 目标/ 条件/ 的/ 一种/ 特定/ 形式/ 的/ 解/ ,/ 而/ 非/ 问题/ 的/ 所有/ 可能/ 解/ ,/ 这/ 是因为/ 目前/ 找/ 包含/ 所有/ 解/ 的/ 通用/ 规划/ 与/ 找/ 可/ 满足/ 问题/ 的/ 所有/ 解/ 一样/ 困难/ ./ 上述/ 通用/ 规划/ 的/ 获取/ 时间/ 与/ ColorBlockTower/ 领域/ 的/ 实验/ 结果/ 非常/ 类似/ (/ 一般/ 不/ 超过/ 1s/ )/ ,/ 这里/ 不再/ 赘述/ ./ 测试/ 问题/ 用/ Gp/ _/ testdata/ ./ c/ 来/ 生成/ ./ 输入/ 问题/ 参数/ #/ BLOCK/ ,/ 随机/ 产生/ 木块/ 的/ 初始/ 位置/ ./ above/ 目标/ 同样/ 随机/ 生成/ ,/ 但是/ 其/ 个数/ 控制/ 在/ #/ BLOCK/ // 3/ ~/ #/ BLOCK/ 的/ 范围/ 之间/ ./ 对/ 每组/ 问题/ 参数/ 随机/ 生成/ 2/ 个/ 问题/ 来/ 测试/ ,/ 结果/ 如表/ 6/ 所示/ ./ LPG/ -/ td/ 同样/ 运行/ 在/ “/ -/ n2/ ”/ 模式/ 下/ ./ 从表/ 6/ 中/ 可以/ 看到/ :/ (/ 1/ )/ LPG/ -/ td/ 无法/ 求解/ 参数/ #/ BLOCK/ / 9/ 的/ 问题/ ,/ 而/ GPLANNERDP/ 均/ 可以/ 求解/ ,/ 尽管/ 对于/ 规模/ 较大/ 的/ 问题/ (/ 例如/ #/ BLOCK/ =/ 15/ )/ ,/ GPLANNERDP/ 可/ Page16/ 表/ 6/ 使用/ 通用/ 规划/ 求解/ 只有/ above/ 目标/ 的/ BlockWorld/ 问题/ 并/ 与/ LPG/ -/ td/ 进行/ 比较/ #/ BLOCK/ =/ 4/ #/ BLOCK/ =/ 6/ #/ BLOCK/ =/ 7/ #/ BLOCK/ =/ 8111621020.155/ #/ BLOCK/ =/ 911469410825.118/ #/ BLOCK/ =/ 101158138766133.702/ #/ BLOCK/ =/ 1211855420.121/ #/ BLOCK/ =/ 1512288223937.288/ 能/ 需要/ 较长/ 的/ 时间/ ;/ (/ 2/ )/ 根据/ 性能比/ ,/ 相/ 比较/ LPG/ -/ td/ 而言/ ,/ GPLANNERDP/ 在/ 更/ 短/ 的/ 时间/ 内/ 返回/ 更好/ 的/ 解/ ,/ 并且/ 性能比/ 的/ 值/ 都/ 比较/ 大/ (/ 例如/ 当/ #/ BLOCK/ / 7/ 时/ )/ ,/ 表明/ GPLANNERDP/ 在/ 求解/ 只有/ above/ 目标/ 的/ BlockWorld/ 问题/ 时比/ LPG/ -/ td/ 要/ 优越/ 得/ 多/ ;/ (/ 3/ )/ 尽管/ 问题/ 参数/ 相同/ ,/ 但是/ 由于/ 随机/ 生成/ 的/ 规划/ 问题/ 的/ 个体差异/ (/ 主要/ 是/ 目标/ 状态/ 不同/ )/ ,/ GPLANNERDP/ 的/ 求解/ 时间/ 有时/ 大相径庭/ (/ 例如/ #/ BLOCK/ =/ 15/ )/ ./ 因此/ 在/ 该/ 领域/ 中/ 问题/ 参数/ 不足以/ 说明/ 问题/ 的/ 求解/ 难度/ ./ 5/ 结束语/ 本文/ 提出/ 在/ 派生/ 谓词/ 规划/ 领域/ 提取/ 通用/ 规划/ 的/ 一般/ 方法/ ./ 该/ 方法/ 扩展/ 了/ 现有/ 通用/ 规划/ 研究/ 的/ 适用/ 领域/ ,/ 还/ 能/ 用来/ 求解/ 一类/ 特别/ “/ 难/ ”/ 的/ 派生/ 谓词/ 规划/ 问题/ ./ 这类/ 问题/ 由于/ 目标/ 状态/ 不/ 唯一/ ,/ 导致/ 基于/ 搜索/ 的/ 规划系统/ 难以/ 求解/ ./ 而/ 通用/ 规划/ 之所以/ 能够/ 求解/ ,/ 是因为/ 其/ 通过/ 描述/ 动作/ 应用/ 的/ 条件/ 和/ 目的/ ,/ 可以/ 在/ 相对/ 简单/ 的/ 实例/ 空间/ 内/ 进行/ 搜索/ 从而/ 避开/ 庞大/ 的/ 状态/ 或者/ 规划/ 空间/ ./ 与/ 以往/ 通用/ 规划/ 的/ 研究/ 不同/ ,/ 本文/ 将/ 集中/ 在/ STRIPS/ 领域/ 的/ 提取/ 方法/ 推广/ 到/ 派生/ 谓词/ 规划/ 领域/ ./ 具体/ 提取/ 过程/ 分为/ 3/ 个/ 步骤/ :/ 根据/ 实际/ 规划/ 解/ 构造/ 规则/ 规划图/ 从而/ 产生/ 包含/ 动作/ 应用/ 条件/ 和/ 8101414141824182624302226303640/ 目的/ 的/ 条件/ 语句/ ;/ 将/ 条件/ 语句/ 中/ 的/ 对象/ 角色/ 化/ 从而/ 识别/ 循环/ 结构/ ;/ 将/ 角色/ 参数/ 化/ 从而/ 得出/ 算法/ 形式/ 的/ 通用/ 规划/ 解/ ./ 本文/ 实现/ 了/ 一个/ 产生/ 和/ 应用/ 派生/ 谓词/ 规划/ 领域/ 通用/ 规划/ 的/ 系统/ GPLANNERDP/ ,/ 在/ 一些/ 实验/ 领域/ 上/ 的/ 结果表明/ 根据/ 以上/ 步骤/ 提取/ 的/ 通用/ 规划/ 不仅/ 容易/ 获取/ ,/ 而且/ 求解/ 性能/ 也/ 颇佳/ ./ 本文/ 的/ 工作/ 尽管/ 取得/ 了/ 初步/ 的/ 成果/ ,/ 但是/ 未来/ 还有/ 许多/ 工作/ 需/ 继续/ 进行/ ./ 这/ 主要/ 体现/ 在/ 以下/ 三个/ 方面/ ./ 首先/ ,/ 用/ 通用/ 规划/ 来/ 求解/ 问题/ 实例/ 的/ 时间/ 应/ 进一步/ 减少/ ,/ 即/ 在/ 应用/ 语句/ 时/ 不是/ 盲目/ 地/ 搜索/ 实例/ ,/ 而/ 可以/ 考虑/ 有/ 启发性/ 地/ 选择/ 实例/ ./ 这/ 可以/ 借助于/ 主动/ 学习/ (/ activelearning/ )/ [/ 32/ -/ 33/ ]/ 技术/ 来/ 进行/ ./ 主动/ 学习/ 指/ 的/ 是/ 选择性/ 地/ 使用/ 实例/ 来/ 进行/ 学习/ ./ 其/ 目标/ 是/ 尽可能/ 地用/ 最少/ 的/ 实例/ 来/ 学习/ 到/ 精确/ 的/ 规则/ 或者/ 模型/ ,/ 这样/ 可以/ 加快/ 学习/ 的/ 速度/ ./ 在/ 主动/ 学习/ 中/ ,/ 一般/ 通过/ 询问/ 来/ 选择/ 实例/ ,/ 询问/ 可以/ 是/ 关于/ 实例/ 或者/ 关于/ 实例/ 的/ 特征/ ./ 借助于/ 主动/ 学习/ ,/ 在/ 通用/ 规划/ 应用/ 的/ 实例/ 空间/ 中/ ,/ 我们/ 可以/ 优先选择/ 与/ 当前/ 状态/ 有/ 关联/ 的/ 实例/ 来/ 产生/ 具体/ 动作/ ./ 关联性/ 可/ 体现/ 在/ 具有/ 相同/ 的/ 对象/ 或者/ 参数/ 等/ 方面/ ./ 这样/ 通过/ 启发式/ 地/ 选择/ 实例/ ,/ 加快/ 通用/ 规划/ 求解/ 问题/ 实例/ 的/ 过程/ ./ 其次/ ,/ 应/ 给出/ 本文/ 方法/ 在/ 正确性/ 方面/ 的/ 初步/ 证明/ ./ 这里/ 正确性/ 指/ 的/ 是/ 在/ 什么/ 情况/ 下/ 一定/ 可以/ 从/ 通用/ 解中/ 找出/ 具体/ 问题/ 的/ 具体/ 解/ ,/ 也/ 称为/ 通用/ 规划/ 的/ Page17/ 适用/ 条件/ ./ 从/ 通用/ 规划/ 的/ 研究/ 历史/ 可以/ 看到/ ,/ 提出/ 提取/ 方法/ 是/ 相对/ 简单/ 的/ ,/ 而/ 要/ 证明/ 方法/ 的/ 正确性/ 却是/ 比较/ 困难/ 的/ ./ 一些/ 方法/ 借助/ 逻辑程序/ 理论/ 来/ 保证/ 其/ 正确性/ [/ 3/ ,/ 7/ ]/ ,/ 而/ 另/ 一些/ 方法/ 在/ 非常/ 严格/ 的/ 限制/ 条件/ 下/ 给出/ 可/ 适用/ 的/ 条件/ [/ 11/ ,/ 34/ ]/ ./ 本文/ 提出/ 了/ 在/ 非/ 经典/ 规划/ 领域/ 下/ 的/ 通用/ 规划/ 的/ 提取/ 方法/ ,/ 解决/ 如何/ 处理/ 派生/ 谓词/ 以及/ 如何/ 增加/ 语义/ 关联/ 等/ 问题/ ,/ 并且/ 通过/ 实验/ 来/ 证明/ 方法/ 的/ 可行性/ 和/ 优越性/ ./ 但是/ ,/ 在/ 正确性/ 证明/ 方面/ ,/ 本文/ 缺乏/ 深入/ 的/ 探讨/ ./ 因此/ 进一步/ 的/ 研究/ 工作/ 可以/ 考虑/ 利用/ 逻辑程序/ 或者/ 增加/ 限制/ 条件/ 来/ 证明/ 通用/ 规划/ 的/ 正确性/ ./ 再有/ ,/ 将/ 本文/ 方法/ 推广/ 到/ 其它/ 的/ 规划/ 领域/ ./ 这些/ 规划/ 领域/ 或者/ 具有/ 复杂/ 的/ 动作/ 模型/ ,/ 或者/ 具有/ 多元化/ 的/ 规划/ 目标/ ./ 如果/ 动作/ 模型/ 具有/ 不确定性/ 、/ 时态/ 或者/ 数值/ 等/ 复杂/ 特征/ ,/ 那么/ 对于/ 通用/ 规划/ 的/ 提取/ 方法/ 来说/ 无疑/ 是/ 非常/ 大/ 的/ 难题/ ./ 这/ 可以/ 作为/ 通用/ 规划/ 研究/ 的/ 一个/ 长期/ 目标/ ./ 但是/ 在/ 多元化/ 的/ 规划/ 目标/ 中/ ,/ 能/ 保证/ 最优/ 解/ 的/ 通用/ 规划/ 是/ 非常/ 有/ 意义/ 的/ ./ 目前/ 也/ 有/ 一些/ 研究/ 提出/ 学习/ 最优/ 规划/ 的/ 方法/ [/ 35/ -/ 36/ ]/ ./ 通用/ 规划/ 的/ 最优性/ 需要/ 严格/ 的/ 形式化/ 方面/ 的/ 证明/ ,/ 在/ 目前/ 的/ 研究/ 状况/ 来看/ ,/ 这/ 一方面/ 还/ 很/ 欠缺/ ./ 因此/ 通用/ 规划/ 的/ 最优性/ 也/ 是/ 未来/ 的/ 主要/ 研究/ 方向/ 之一/ ./ 

