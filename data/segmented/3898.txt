Page1/ 面向/ 核心网/ 的/ 多层/ 网络/ 能耗/ 优化/ 方法/ 伍元/ 胜/ 1/ )/ 郭兵/ 1/ )/ 沈艳/ 2/ )/ 王继禾/ 1/ )/ 刘云本/ 1/ )/ ,/ 2/ )/ 刘啸滨/ 1/ )/ 1/ )/ (/ 四川大学/ 计算机/ 学院/ 成都/ 610065/ )/ 2/ )/ (/ 成都/ 信息/ 工程学院/ 控制/ 工程学院/ 成都/ 610225/ )/ 摘要/ 随着/ 网络/ 规模/ 和/ 流量/ 的/ 迅速/ 增长/ ,/ Internet/ 的/ 能耗/ 问题/ 变得/ 日益严重/ ./ 文中/ 研究/ IP/ (/ InternetProtocol/ )/ overTDMoverWDM/ 核心网/ 的/ 能耗/ 问题/ ,/ 首先/ 对/ 多层/ 网络/ 的/ 节能/ 机制/ 进行/ 了/ 分析/ ,/ 在/ 此基础/ 上/ ,/ 提出/ 了/ 一种/ 多层/ 网络/ 能耗/ 优化/ 的/ ITO/ 模型/ ,/ 充分考虑/ 多层/ 网络/ 的/ 体系结构/ 和/ 网络设备/ 的/ 模块化/ 特性/ ,/ 协同/ 使用/ 网络/ 业务/ 流控制/ 和/ 网络资源/ 配置/ 与/ 管理/ 的/ 方法/ ,/ 实现/ 业务/ 流在/ 多个/ 网络层/ 合理/ 的/ 分配/ 和/ 路由/ 以及/ 网络设备/ 的/ 多/ 粒度/ 模块/ 睡眠/ ,/ 以/ 达到/ 降低/ 网络/ 能耗/ 的/ 目的/ ./ 实验/ 结果表明/ ,/ ITO/ 模型/ 能/ 有效/ 降低/ 网络/ 的/ 能耗/ ,/ 在/ 网络/ 业务量/ 较/ 低时/ ,/ 可/ 将/ 网络/ 功耗/ 降到/ 业务/ 高峰期/ 时/ 的/ 24/ %/ ~/ 38/ %/ ./ 此外/ ,/ 该文/ 还/ 通过/ 实验/ 探讨/ 了/ 业务/ 的/ 疏导/ 和/ 旁通/ 、/ 不同/ 的/ 网络层/ 组合/ 、/ 网络设备/ 的/ 动态/ 功耗/ 以及/ 网络设备/ 的/ 模块化/ 结构/ 对/ 网络/ 能耗/ 优化/ 的/ 影响/ ,/ 为/ 构建/ 节能/ 高效/ 的/ 绿色/ 网络/ 提供/ 了/ 参考/ ./ 关键词/ 绿色/ 网络/ ;/ 能耗/ 优化/ ;/ 核心网/ ;/ 多层/ 网络/ ;/ IPoverTDMoverWDM/ ;/ 绿色/ 计算/ 1/ 引言/ ICT/ (/ InformationCommunicationTechnology/ )/ 行业/ 作为/ 全球/ 增长/ 最快/ 的/ 行业/ 之一/ ,/ 其碳/ 排放/ 也/ 不断/ 增长/ ./ 根据/ Gartner/ 公司/ 2007/ 年/ 一份/ 名为/ 《/ 绿色/ IT/ :/ 新一波/ 产业/ 冲击/ 》/ 的/ 报告/ ,/ 计算机/ 和/ 电信/ 设备/ 每年/ 的/ 碳/ 排放量/ 约/ 占/ 全球/ 碳/ 排放/ 总量/ 的/ 2/ %/ ,/ 而/ 这/ 一/ 比例/ 到/ 2020/ 年/ 将/ 翻番/ ,/ 节能/ 减排/ 已/ 成为/ ICT/ 领域/ 必须/ 面对/ 的/ 紧迫/ 课题/ ./ 随着/ 互联网/ 的/ 快速/ 发展/ ,/ 视频/ 和/ 语音/ 等/ 业务/ 大量/ 涌现/ ,/ 人们/ 对/ 网络带宽/ 的/ 需求/ 呈/ 指数/ 级/ 增长/ ,/ 这/ 导致/ 了/ 互联网/ 流量/ 的/ 迅猛/ 增加/ ./ 美国/ 互联网/ 流量/ 监测/ 机构/ Telegeography/ 提供/ 的/ 数据/ 显示/ ,/ 2008/ ~/ 2012/ 年/ 全球/ 互联网/ 的/ 流量/ 和/ 带宽/ 以/ 超过/ 50/ %/ 的/ 年/ 平均/ 增长率/ 强劲/ 增长/ ①/ ./ 为了/ 满足/ 不断/ 增长/ 的/ 带宽/ 需求/ ,/ 网络/ 运营商/ 必须/ 不断/ 投入/ 更/ 多/ 、/ 性能/ 更强/ 的/ 网络设施/ ,/ 结果/ 导致/ 了/ 互联网/ 能耗/ ②/ 的/ 高速/ 增长/ ./ 按照/ 目前/ 的/ 增长/ 趋势/ ,/ 2050/ 年/ 网络/ 领域/ 的/ 能耗/ 将/ 达到/ 2006/ 年/ 水平/ 的/ 13/ 倍/ [/ 1/ ]/ ,/ 其中/ 核心网/ 的/ 能耗/ 增长/ 最快/ ,/ 未来/ 将/ 超过/ 接入网/ 成为/ 互联网/ 能耗/ 的/ 主体/ [/ 2/ ]/ ,/ 因此/ ,/ 对/ 核心网/ 的/ 节能/ 研究/ 变得/ 十分必要/ ./ 波长/ 交换/ 技术/ 的/ 应用/ 使/ 传统/ 点到点/ 光纤/ 链路/ 逐步/ 演变/ 为/ 具有/ 组网/ 能力/ 的/ 光/ 网络层/ ./ 核心网/ 由/ 原来/ 的/ IPoverTDM/ (/ TimeDivisionMultiplexing/ )/ (/ 如/ IPoverSDH/ // SONET/ )/ 发展/ 到/ IPoverTDMoverWDM/ (/ WavelengthDivisionMultiplexing/ )/ (/ 如/ IPoverOTNoverWDM/ )/ 和/ IPoverWDM/ ,/ 演变成/ 一个/ 多层/ 网络/ ,/ 其中/ ,/ IPoverTDMoverWDM/ 技术/ 近年来/ 为/ 越来越/ 多/ 的/ 运营商/ 所/ 采用/ ./ 此外/ ,/ 出于/ 可扩展性/ 、/ 兼容性/ 和/ 灵活性/ 等/ 方面/ 的/ 考虑/ ,/ 核心网/ 的/ 网络设备/ 通常/ 采用/ 模块化/ 体系结构/ ./ 网络/ 的/ 多层/ 结构/ 和/ 网络设备/ 的/ 模块化/ 为/ 网络/ 的/ 节能/ 研究/ 提供/ 了/ 新机遇/ ./ 本文/ 着眼于/ 核心/ 网络/ 的/ 能耗/ 优化/ 问题/ ,/ 研究/ IPoverTDMoverWDM/ 网络/ 的/ 能耗/ 优化/ 技术/ ./ 第/ 2/ 节/ 介绍/ 目前/ 网络/ 节能/ 方面/ 的/ 相关/ 工作/ ;/ 第/ 3/ 节/ 讨论/ 多层/ 网络/ 模型/ 、/ 节能/ 机制/ 以及/ 功耗/ 模型/ ,/ 在/ 此基础/ 上/ ,/ 第/ 4/ 节/ 建立/ 一个/ 多层/ 网络/ 能耗/ 优化/ 模型/ —/ —/ —/ ITO/ 模型/ ;/ 第/ 5/ 节/ 讨论/ 各个/ 网络层/ 、/ 业务/ 疏导/ 和/ 旁通/ 、/ 网络设备/ 的/ 动态/ 功耗/ 以及/ 网络设备/ 的/ 模块化/ 结构/ 对/ 多层/ 网络/ 能耗/ 优化/ 的/ 影响/ ,/ 对/ ITO/ 模型/ 的/ 有效性/ 进行/ 验证/ ;/ 最后/ 是/ 对/ 全文/ 的/ 总结/ 和/ 未来/ 工作/ 的/ 展望/ ./ 2/ 相关/ 工作/ 有线/ 网络/ 的/ 能耗/ 问题/ 直到/ Gupta/ 和/ Singh/ [/ 3/ ]/ 的/ 工作/ 才/ 开始/ 被/ 人们/ 重视/ ,/ 此后/ ,/ 出现/ 了/ 大量/ 关于/ 有线/ 网络/ 的/ 节能/ 研究/ ./ 文献/ [/ 4/ ]/ 对/ 近年来/ 有线/ 网络/ 的/ 节能/ 研究/ 工作/ 进行/ 了/ 综述/ ,/ 本文/ 仅/ 介绍/ 核心网/ 节能/ 研究/ 方面/ 的/ 最新/ 相关/ 工作/ ./ 核心网/ 由/ 多个/ 网络层/ 组成/ ,/ 核心网/ 的/ 节能/ 研究/ 也/ 可以/ 分为/ 针对/ 单个/ 网络层/ 的/ 节能/ 研究/ 和/ 针对/ 多个/ 网络层/ 的/ 节能/ 研究/ ./ 核心网/ 的/ 功耗/ 主要/ 来自/ IP/ 层/ ,/ 因此/ ,/ 大量/ 工作/ [/ 5/ -/ 8/ ]/ 致力于/ 降低/ IP/ 层/ 的/ 功耗/ ./ IP/ 层/ 的/ 节能/ 方法/ 主要/ 包括/ 流量/ 合并/ 和/ 流量/ 分配/ 两类/ ./ 流量/ 合并/ 方法/ 的/ 主要/ 思路/ 是/ :/ 通过/ 对/ 业务/ 路由/ 的/ 调节/ ,/ 对/ 网络/ 中/ 的/ 流量/ 进行/ 汇聚/ ,/ 让/ 尽量/ 多/ 的/ 链路/ 或/ 结点/ 空闲/ ,/ 并/ 使/ 空闲/ 的/ 链路/ 或/ 结点/ 进入/ 睡眠/ 状态/ (/ 或/ 低功耗/ 状态/ )/ 以/ 降低/ 能耗/ ./ 流量/ 合并/ 问题/ 可/ 形式化/ 建模/ 为/ 一个/ 数学/ 规划/ 问题/ ,/ 如/ 混合/ 整数/ 线性规划/ (/ MixedIntegerLinearProgramming/ ,/ MILP/ )/ 问题/ [/ 5/ ]/ 和/ 整数/ 线性规划/ (/ IntegerLinearProgramming/ ,/ ILP/ )/ 问题/ [/ 6/ ]/ ./ 这些/ 问题/ 通常/ 是/ NP/ 难/ 问题/ ,/ 因此/ 需要/ 设计/ 相应/ 的/ 启发式/ 算法/ 求解/ ,/ 如/ 文献/ [/ 5/ ]/ 的/ 分布式/ 算法/ 和/ 文献/ [/ 6/ ]/ 的/ LR/ &/ HS/ 算法/ ./ 流量/ 分配/ 方法/ 的/ 主要/ 思想/ 是/ :/ 假设/ 链路/ 有/ 多种/ 工作/ 速率/ 并/ 对应/ 多种/ 功率/ ,/ 利用业务/ 路由/ 为/ 每条/ 链路/ 分配/ 流量/ ,/ 使/ 链路/ 工作/ 在/ 最佳/ 的/ 速率/ 模式/ ,/ 从而/ 使/ 网络/ 的/ 功耗/ 最小/ ./ 文献/ [/ 7/ ]/ 将/ 此/ 问题/ 形式化/ 为/ 一个/ MILP/ 问题/ ,/ 并/ 设计/ 贪婪/ 算法/ 求解/ ./ 此外/ ,/ ①/ ②/ Page3/ 由于/ 核心网/ 汇聚/ 了/ 边缘/ 网络/ 的/ 流量/ ,/ 结点/ 很难/ 完全/ 空闲/ ,/ 文献/ [/ 8/ ]/ 基于/ Floyd/ -/ Warshall/ 算法/ 提出/ 一种/ 路由/ Standby/ 算法/ ,/ 为/ 路由器/ 引入/ Standby/ 模式/ ,/ 通过/ 调节/ 业务/ 路由/ 将/ 路由器/ 转入/ Standby/ 状态/ 节能/ ./ 多层/ 网络/ 方面/ 的/ 节能/ 研究/ [/ 9/ -/ 12/ ]/ 主要/ 针对/ IPoverWDM/ 网络/ ,/ 主要/ 思路/ 是/ 利用光/ 交换/ 传输技术/ 的/ 高/ 能效/ 优势/ ,/ 通过/ 业务/ 疏导/ 和/ 旁通/ 技术/ 使/ 流量/ 尽量/ 由/ 下层/ 的/ WDM/ 交换/ 传输/ ,/ 减少/ IP/ 层/ 的/ 流量/ 以/ 降低/ 网络/ 能耗/ ./ 对/ IPoverWDM/ 网络/ 的/ 高/ 能效/ 设计/ 或/ 能耗/ 优化/ 涉及/ IP/ 层/ 的/ 路由/ 和/ 虚拟/ 拓扑/ 设计/ 问题/ 、/ WDM/ 层/ 的/ 路由/ 和/ 波长/ 分配/ 问题/ 以及/ WDM/ 层/ 的/ 物理/ 拓扑/ 设计/ 和/ 再生/ 器/ 放置/ 问题/ ./ 这些/ 问题/ 可/ 形式化/ 建模/ 为/ MILP/ 问题/ [/ 9/ -/ 10/ ]/ 或/ ILP/ [/ 11/ -/ 12/ ]/ 问题/ ,/ 并/ 以/ 最小化/ 网络/ 的/ 功耗/ 为/ 目标/ 函数/ ./ TDM/ 技术/ 具有/ WDM/ 技术/ 所/ 无法比拟/ 的/ 运管/ 维/ 能力/ ,/ 在/ 当前/ 的/ 核心网/ 中/ ,/ SONET/ // SDH/ 和/ OTN/ 等/ TDM/ 技术/ 仍然/ 被/ 大量/ 使用/ ,/ 但是/ 对/ IPoverTDMoverWDM/ 网络/ 节能/ 研究/ 却/ 较/ 少/ ./ 文献/ [/ 13/ ]/ 使用/ 基于/ 流/ 的/ 形式化/ 和/ 基于/ 接口/ 的/ 形式化/ 两种/ 方法/ 分别/ 对/ IPoverTDMoverWDM/ 网络/ 的/ 结点/ 进行/ 功耗/ 建模/ ,/ 但/ 其/ 实验/ 案例/ 网络/ 则/ 是/ 一个/ 静态/ 网络/ ,/ IP/ 层/ 和/ TDM/ 层/ 的/ 拓扑/ 都/ 预先/ 配置/ 不能/ 变动/ ,/ 这/ 与/ 单层/ IP/ 网络/ 路由/ 问题/ 相似/ ./ 文献/ [/ 14/ ]/ 的/ 工作/ 与/ 我们/ 的/ 工作/ 相似/ ,/ 作者/ 针对/ IP/ // MPLSoverOTN/ // WDM/ 网络/ 建立/ 了/ 一个/ 网络/ 功耗/ 优化/ 模型/ ,/ 并/ 使用/ 候选/ 路径/ 分别/ 实现/ IP/ // MPLS/ 层/ 、/ OTN/ 层/ 和/ WDM/ 层/ 的/ 路由/ ,/ 但/ 缺乏/ 实验/ 对模型/ 的/ 验证/ ./ 本文/ 主要/ 探讨/ 具有/ IP/ 层/ 、/ TDM/ 层/ 和/ 光层/ 的/ 多层/ 网络/ 能耗/ 优化/ 问题/ ,/ 提出/ 了/ 一种/ 多层/ 网络/ 能耗/ 优化/ 的/ ITO/ 模型/ ,/ 通过/ 对/ 网络/ 业务/ 流/ 进行/ 合理/ 的/ 控制/ 和/ 对/ 网络资源/ 进行/ 合理/ 的/ 配置/ 与/ 管理/ 来/ 实现/ 对/ 多层/ 网络/ 能耗/ 的/ 优化/ ./ 我们/ 通过/ 实验/ 对/ ITO/ 模型/ 的/ 有效性/ 进行/ 了/ 验证/ ,/ 并/ 讨论/ 了/ 网络层/ 、/ 动态/ 功耗/ 和/ 网络设备/ 的/ 模块化/ 结构/ 对/ 网络/ 能耗/ 优化/ 的/ 影响/ ./ 3/ 多层/ 网络/ 模型/ 及/ 节能/ 机制/ 3.1/ 网络/ 模型/ 本文/ 的/ 多层/ 网络/ 模型/ 由/ IP/ 层/ 、/ TDM/ 层/ 和/ 光层/ 3/ 个/ 网络层/ 组成/ (/ 如图/ 1/ 所示/ )/ ,/ 该/ 模型/ 的/ 实例/ 包括/ IPoverSONET/ // SDHoverWDM/ 和/ IPoverOTNoverWDM/ 网络/ ./ 多层/ 网络/ 的/ 每个/ 结点/ 通常/ 由/ 一组/ 网络设备/ 构成/ ,/ 包括/ IP/ 设备/ 、/ TDM/ 设备/ 和/ 光/ 网络设备/ (/ 见图/ 2/ )/ ,/ 结点/ 间/ 通过/ 光纤/ 链路/ 相连/ ,/ 结点/ 处/ 的/ 网络设备/ 通过/ 物理/ 线路/ 相连/ (/ 图/ 1/ 中以/ 实线/ 表示/ )/ ./ TDM/ 层/ 和/ IP/ 层/ 的/ 网络/ 结点/ 间/ 没有/ 直接/ 的/ 物理/ 链路/ ,/ 使用/ 下层/ 网络/ 提供/ 的/ 虚拟/ 通路/ (/ 如光层/ 提供/ 的/ 光/ 通路/ 和/ TDM/ 层/ 提供/ 的/ 电路/ )/ 建立/ 自己/ 的/ 逻辑/ 链路/ (/ 图/ 1/ 中以/ 虚线/ 表示/ )/ ./ 各个/ 网络层/ 的/ 链路/ 集合/ 通常/ 不同/ (/ 如图/ 1/ 所示/ )/ ,/ 各个/ 网络层/ 的/ 网络/ 结点/ 集合/ 也/ 不必/ 相同/ ,/ 上层/ 网络/ 的/ 结点/ 集合/ 是/ 下层/ 网络/ 结点/ 集合/ 的/ 子集/ ./ 目前/ ,/ 核心网/ 的/ 网络设备/ 通常/ 采用/ 模块化/ 结构/ ,/ 网络设备/ 被/ 设计/ 成由/ 机框/ 和/ 模块/ 卡/ 两/ 部分/ 组成/ ./ 根据/ 实际/ 的/ 组网/ 需求/ ,/ 可/ 通过/ 向/ 机框/ 添加/ 相应/ 的/ 模块/ 卡/ 组建/ 所/ 需/ 的/ 网络设备/ ./ 模块化/ 设计/ 使/ 网络设备/ 的/ 灵活性/ 和/ 扩展性/ 得以/ 增强/ ,/ 可/ 通过/ 增加/ 或/ 替换/ 模块/ 卡/ 实现/ 对/ 单个/ 网络设备/ 的/ 扩容/ 升级/ ./ 此外/ ,/ 还/ 可以/ 通过/ 多框/ 集群/ 的/ 方式/ 突破/ 单个/ 设备/ 的/ 容量/ 限制/ ,/ 满足/ 海量/ 业务/ 的/ 处理/ 需求/ ./ 本文/ 着眼于/ 网络设备/ 的/ 模块化/ 特性/ ,/ 根据/ 业务/ 负载/ 与/ 模块/ 的/ 关系/ 以及/ 模块/ 间/ 的/ 层次/ 关系/ ,/ 可/ 将/ 网络设备/ 分为/ 机框/ 、/ 线卡/ 和/ 接口/ 3/ 类/ 模块/ ./ 接口/ 包括/ 网络设备/ 的/ 物理/ 端口/ 以及/ 与/ 物理/ 端口/ 一同/ 处于/ 工作/ 和/ 空闲/ 状态/ 的/ 相关/ 组件/ ;/ 线卡/ 是/ 网络设备/ 的/ 众多/ 模块/ 的/ 一类/ ,/ 它/ 由/ 一组/ 接口/ 所/ 共享/ ,/ 能够/ 与/ 这组/ 接口/ 一同/ Page4/ 处于/ 工作/ 和/ 空闲/ 状态/ ;/ 除/ 接口/ 和/ 线卡/ 以外/ 的/ 部分/ 都/ 属于/ 机框/ 的/ 范畴/ ./ 因此/ ,/ 本文/ 的/ 接口/ 、/ 线卡/ 和/ 机框/ 是/ 一种/ 更/ 抽象/ 的/ 概念/ ,/ 不/ 一定/ 与/ 实际/ 网络设备/ 的/ 接口/ 、/ 线卡/ 和/ 机框/ 一一对应/ ./ 如图/ 2/ 所示/ ,/ 网络设备/ 的/ 接口/ 分为/ 线路/ 接口/ 和/ 支路/ 接口/ 两类/ ,/ 在/ 多层/ 网络/ 中上层/ 网络设备/ 的/ 线路/ 接口/ 与/ 下层/ 网络设备/ 的/ 支路/ 接口相连/ ./ 3.2/ 节能/ 机制/ 在/ 多层/ 网络/ 中/ ,/ 根据/ 网络/ 的/ 多层/ 结构/ 和/ 网络设备/ 的/ 模块化/ 结构/ ,/ 可以/ 通过/ 以下/ 4/ 种/ 节能/ 机制/ 实现/ 网络/ 功耗/ 与/ 网络/ 业务/ 负载/ 相适应/ ,/ 达到/ 降低/ 网络/ 能耗/ 的/ 目的/ ./ (/ 1/ )/ 多/ 粒度/ 的/ 模块/ 睡眠/ ./ 根据/ 前文/ 的/ 模块/ 划分/ ,/ 可/ 从/ 接口/ 、/ 线卡/ 和/ 机框/ 3/ 个/ 层次/ 使/ 空闲/ 模块/ 睡眠/ ,/ 即当/ 接口/ 空闲/ 时/ ,/ 则/ 接口/ 睡眠/ ;/ 当/ 线卡/ 的/ 所有/ 接口/ 都/ 空闲/ 时/ ,/ 则/ 线卡/ 睡眠/ ;/ 当/ 机框/ 的/ 所有/ 线卡/ 都/ 空闲/ 时/ ,/ 则/ 机框/ 睡眠/ ./ 当/ 网络/ 从/ 业务/ 高峰期/ 转入/ 业务/ 低峰/ 期时/ ,/ 通过/ 合理/ 的/ 业务/ 路由/ 可/ 使/ 大量/ 的/ 接口/ 、/ 线卡/ 和/ 机框/ 都/ 处于/ 空闲/ 状态/ ,/ 让/ 这些/ 空闲/ 模块/ 睡眠/ ,/ 将/ 有效/ 降低/ 网络/ 的/ 能耗/ ./ (/ 2/ )/ 业务/ 到/ 接口/ // 线卡/ 的/ 动态/ 映射/ ./ 在/ 网络/ 的/ 运行/ 过程/ 中/ ,/ 业务/ 的/ 时变/ 特性/ 将/ 导致/ 网络设备/ 的/ 活跃/ 接口/ 零散/ 地/ 分布/ 于/ 多个/ 线卡/ 、/ 活跃/ 的/ 线卡/ 零散/ 地/ 分布/ 于/ 多个/ 机框/ ./ 通过/ 将/ 所有/ 的/ 活跃/ 接口/ 聚集/ 到/ 单个/ 线卡/ 和/ 将/ 所有/ 的/ 活跃/ 线卡/ 聚集/ 到/ 单个/ 机框/ 可以/ 降低功耗/ [/ 7/ ]/ ./ 对于/ 多层/ 网络/ 结点/ 处/ 互联/ 的/ 多个/ 网络设备/ ,/ 可/ 通过/ 设备/ 间/ 的/ 密切配合/ ,/ 解除/ 业务/ 负载/ 与/ 接口/ 的/ 耦合/ 关系/ ,/ 实现/ 业务/ 到/ 线卡/ // 接口/ 的/ 动态/ 映射/ ,/ 以/ 解决/ 业务/ 变动/ 导致/ 的/ 接口/ 和/ 线卡/ 的/ 零散/ 分布/ 问题/ ,/ 降低/ 网络/ 的/ 能耗/ ./ (/ 3/ )/ 业务/ 的/ 多级/ 疏导/ 与/ 旁通/ ./ 如果/ 多个/ 低速/ 业务/ 流/ ①/ 的/ 传输/ 路径/ 具有/ 公共/ 重叠/ 的/ 部分/ ,/ 可/ 将/ 这些/ 低速/ 的/ 业务/ 流/ 汇聚/ 复用/ 到/ 高速/ 的/ 传输/ 通路/ ,/ 从而/ 提高/ 传输/ 通路/ 的/ 利用率/ ,/ 这种/ 将/ 多个/ 低速/ 的/ 业务/ 流/ 汇聚/ 复用/ 到/ 高速/ 的/ 传输/ 通路/ 的/ 过程/ 称为/ 业务/ 疏导/ ./ 业务/ 疏导/ 是/ 由/ 业务/ 路由/ 实现/ 的/ ,/ 业务/ 路由/ 决定/ 业务/ 流/ 的/ 传输/ 路径/ 和/ 业务/ 流/ 到/ 传输/ 通道/ 的/ 汇聚/ 和/ 复用/ ./ 通常/ ,/ 业务/ 流/ 传输/ 路径/ 的/ 跳/ 数越/ 多/ ,/ 业务/ 流/ 的/ 汇聚/ 复用/ 能力/ 越强/ ,/ 即/ 业务/ 疏导/ 能力/ 越强/ ,/ 单跳/ 路由/ 和/ 多/ 跳/ 路由/ 对应/ 的/ 业务/ 疏导/ 分别/ 称为/ 单跳/ 疏导/ 和/ 多/ 跳/ 疏导/ ./ 在/ 图/ 1/ 的/ 多层/ 网络/ 中/ ,/ IP/ 层/ 和/ TDM/ 层/ 都/ 具有/ 业务/ 疏导/ 能力/ ,/ 能够/ 在/ 分组/ 和/ 电路/ 层面/ 对/ 业务/ 进行/ 两级/ 疏导/ ,/ 提高/ 链路/ 带宽/ 利用率/ ,/ 从而/ 使/ 更/ 多/ 的/ 链路/ 空闲/ ,/ 有利于/ 降低/ 网络/ 的/ 能耗/ ./ 业务/ 旁通/ 是/ 指/ 多层/ 网络/ 中/ 的/ 业务/ 流由/ 下层/ 网络设备/ 处理/ 和/ 交换/ 而/ 不/ 经过/ (/ 即/ “/ 穿通/ ”/ )/ 上层/ 网络设备/ 的/ 过程/ ./ 业务/ 旁通/ 可/ 降低/ 上面/ 网络层/ 的/ 业务/ 负载/ ./ 在/ 相同/ 容量/ 下/ ,/ 更/ 上层/ 的/ 网络设备/ 通常/ 具有/ 更/ 高/ 的/ 功耗/ ,/ 因此/ 利用光/ 层/ 和/ TDM/ 层/ 都/ 具有/ 的/ 业务/ 旁通/ 能力/ ,/ 实现/ 业务/ 的/ 两级/ 旁通/ ,/ 减少/ TDM/ 层/ 和/ IP/ 层/ 的/ 业务/ 负载/ ,/ 可/ 降低/ 网络/ 的/ 能耗/ ./ (/ 4/ )/ 能量/ 感知/ 的/ 路由/ ./ 业务/ 的/ 旁通/ 和/ 疏导/ 以及/ 多/ 粒度/ 模块/ 睡眠/ 等/ 节能/ 机制/ 间/ 存在/ 复杂/ 关系/ ,/ 如/ 业务/ 的/ 旁通/ 可以/ 减少/ 上层/ 网络设备/ 的/ 业务/ 负载/ ,/ 减少/ 上层/ 网络设备/ 的/ 接口/ 、/ 线卡/ 等/ 模块/ 使用量/ ,/ 能够/ 降低功耗/ ;/ 同时/ ,/ 上层/ 网络设备/ 的/ 业务/ 处理/ 也/ 包括/ 业务/ 疏导/ ,/ 业务/ 疏导/ 的/ 减少/ ,/ 使得/ 下层/ 网络/ 链路/ 的/ 利用率/ 降低/ ,/ 这/ 意味着/ 相同/ 的/ 业务量/ 需要/ 更/ 多/ 的/ 链路/ 传输/ ,/ 使用/ 更/ 多/ 的/ 接口/ 、/ 线卡/ 等/ 模块/ ,/ 增加/ 了/ 网络/ 的/ 功耗/ ./ 能量/ 感知/ 的/ 路由/ 以/ 网络/ 能耗/ 的/ 最小化/ 为/ 目标/ ,/ 在/ 多个/ 结点/ 和/ 多个/ 网络层/ 合理/ 的/ 分配/ 业务/ 流/ ,/ 协调/ 旁通/ 与/ 疏导/ 、/ 静态/ 功耗/ 与/ 动态/ 功耗/ 等/ 诸多/ 因素/ ,/ 计算/ 满足/ 业务/ 需求/ 的/ 最优/ 路径/ 和/ 网络资源/ 配置/ ./ 3.3/ 功耗/ 模型/ 网络设备/ 的/ 功耗/ pd/ 可以/ 分为/ 静态/ 功耗/ 和/ 动态/ 功耗/ 两/ 部分/ ,/ 动态/ 功耗/ pt/ (/ t/ )/ 与/ 网络设备/ 的/ 实际/ 业务/ 负载/ t/ 相关/ ,/ 静态/ 功耗/ ps/ 为/ 独立/ 于/ 业务/ 负载/ 的/ 常量/ ./ 对于/ 模块化/ 的/ 网络设备/ ,/ 静态/ 功耗/ 又/ 分为/ 机框/ 功耗/ pc/ 、/ 线卡/ 功耗/ pl/ 和/ 接口/ 功耗/ pp3/ 部分/ ,/ 即/ 网络/ 结点/ 功耗/ pn/ 等于/ 结点/ 处/ 的/ 所有/ 网络设备/ 的/ 功耗/ 之/ 和/ ,/ 即/ pd/ =/ ps/ +/ pt/ (/ t/ )/ =/ pc/ +/ pl/ +/ pp/ +/ pt/ (/ t/ )/ ;/ 整个/ 网络层/ 的/ 功耗/ ②/ pnl/ 等于/ 所有/ 网络/ 结点/ 功耗/ 之/ 和/ ,/ 即/ 多层/ 网络/ 的/ 功耗/ P/ 等于/ 每个/ 网络层/ 功耗/ 之/ 和/ :/ 4/ 多层/ 网络/ 能耗/ 优化/ 的/ 建模/ 如果/ 将/ 能量/ 看成/ 一种/ 系统资源/ ,/ 则/ 对/ 能耗/ 的/ 管理/ 和/ 控制/ 可/ 归结为/ 资源/ 的/ 配置/ 和/ 管理/ 问题/ ,/ 而/ 对/ 资源/ 的/ 配置/ 则/ 需要/ 以/ 业务/ 需求/ 为/ 依据/ ./ 因此/ ,/ 在/ 网络/ 环/ ①/ ②/ Page5/ 境下/ ,/ 可以/ 通过/ 网络/ 业务/ 流/ 的/ 控制/ 和/ 网络资源/ 的/ 配置/ 与/ 管理/ 的/ 方法/ 降低/ 网络/ 的/ 能耗/ ./ 下面/ 我们/ 对/ IP/ 层/ 、/ TDM/ 层/ 和/ 光层/ 组成/ 的/ 多层/ 网络/ 的/ 能耗/ 优化/ 问题/ 进行/ 建模/ ,/ 并/ 将/ 该/ 优化/ 模型/ 命名/ 为/ ITO/ (/ IP/ -/ TDM/ -/ Optical/ )/ 模型/ ./ ITO/ 模型/ 实现/ 了/ 网络/ 业务/ 流控制/ 与/ 网络资源/ 配置/ 与/ 管理/ 的/ 协同/ ,/ 通过/ 路由/ 的/ 方法/ 在/ 多个/ 网络层/ 之间/ 和/ 网络层/ 内部/ 合理/ 分配/ 业务/ 流/ ,/ 网络设备/ 根据/ 到达/ 的/ 业务/ 负载/ 对/ 网络资源/ 进行/ 合理/ 的/ 配置/ 和/ 管理/ ,/ 将/ 空闲/ 的/ 模块/ 转入/ 睡眠/ 模式/ ,/ 以/ 达到/ 降低/ 网络/ 能耗/ 的/ 目的/ ./ ITO/ 模型/ 以/ 网络/ 流/ 规划/ 理论/ 为/ 基础/ ,/ 加入/ 对/ 核心/ 网络/ 的/ 多层/ 结构/ 和/ 网络设备/ 的/ 模块化/ 特性/ 的/ 考虑/ ,/ 进而/ 转化/ 为/ 一个/ 线性/ 多/ 品种/ 流/ 规划/ 问题/ ,/ 最终/ 形式/ 化成/ 一个/ MILP/ 问题/ ./ 假设/ 多层/ 网络/ 的/ 所有/ IP/ 设备/ 、/ TDM/ 设备/ 和/ 光/ 网络设备/ 具有/ 相同/ 的/ 类型/ ,/ 并/ 采用/ 多框/ 集群/ 技术/ 满足/ 网络/ 业务/ 的/ 大容量/ 传输/ 需求/ ./ IP/ 设备/ 具有/ 多种类型/ 的/ 线路/ 接口/ ,/ 下层/ 的/ TDM/ 设备/ 为/ 每个/ IP/ 设备/ 的/ 线路/ 接口/ 建立/ 相应/ 的/ 电路/ ,/ 因此/ ,/ IP/ 层/ 设备/ 的/ 线卡/ // 接口类型/ 也/ 称作/ 电路/ 类型/ ./ 由于/ 多层/ 网络/ 能耗/ 优化/ 不/ 影响/ IP/ 层/ 的/ 支路/ 接口/ 的/ 工作/ 状态/ ,/ 因此/ 形式化/ 过程/ 中/ 不/ 考虑/ IP/ 设备/ 的/ 支路/ 接口/ ./ TDM/ 设备/ 通过/ 单种/ 类型/ 的/ 线路/ 接口/ 与/ 底层/ 的/ 光/ 网络设备/ 相连/ ,/ 底层/ 光/ 网络/ 也/ 使用/ 单种/ 类型/ 的/ 光纤/ 链路/ ./ 底层/ 光/ 网络/ 具有/ 波长/ 转换/ 能力/ ,/ 光/ 网络/ 结点/ 可以/ 自由/ 的/ 分配/ 波长/ ./ 由于/ 多层/ 网络/ 按照/ 峰值/ 业务/ 需求/ 供应/ 资源/ ,/ 本文/ 假设/ 网络/ 结点/ 配备/ 足够/ 的/ 机框/ 和/ 线卡/ 等/ 模块/ ./ 4.1/ 符号/ 定义/ N3/ / N2/ ./ 和/ 业务/ 需求/ 集合/ ./ (/ 1/ )/ 索引/ 和/ 集合/ x/ ,/ y/ ∈/ N1/ :/ 光层/ 的/ 结点/ 和/ 结点/ 集合/ ./ u/ ,/ v/ ∈/ N2/ :/ TDM/ 层/ 的/ 结点/ 和/ 结点/ 集合/ ,/ N2/ / N1/ ./ i/ ,/ j/ ,/ ii/ ,/ jj/ ∈/ N3/ :/ IP/ 层/ 的/ 结点/ 和/ 结点/ 集合/ ,/ e1/ (/ x/ ,/ y/ )/ ∈/ E1/ :/ 光层/ 的/ 链路/ (/ 有/ 向/ 弧/ )/ 和/ 链路/ 集合/ ./ d/ (/ ii/ ,/ jj/ )/ ∈/ D/ :/ IP/ 层/ 的/ 结点/ ii/ 到/ jj/ 的/ 业务/ 需求/ r/ ∈/ R/ :/ IP/ 设备/ 的/ 线卡/ // 接口类型/ 和/ 类型/ 集合/ ./ (/ 2/ )/ 参数/ cp/ (/ r/ )/ :/ IP/ 设备/ 的/ r/ 类型/ 线路/ 接口/ 的/ 容量/ ,/ r/ ∈/ R/ ./ 3/ (/ r/ )/ :/ IP/ 设备/ 的/ r/ 类型/ 线卡/ 具有/ 的/ 接口/ 数/ ./ mp3/ (/ r/ )/ :/ IP/ 设备/ 的/ r/ 类型/ 线卡/ 的/ 功耗/ ./ pl3/ (/ r/ )/ :/ IP/ 设备/ 的/ r/ 类型/ 线路/ 接口/ 的/ 功耗/ ./ pp2/ (/ r/ )/ :/ TDM/ 设备/ 的/ r/ 类型/ 支路/ 接口/ 的/ 功耗/ ./ pbpmw/ :/ 光层/ 的/ 每条/ 物理/ 链路/ 的/ 波长/ 数/ ./ c/ :/ 光层/ 每个/ 波长/ 的/ 容量/ ./ n3/ (/ i/ ,/ j/ ,/ r/ )/ ∈/ Z/ +/ f21/ (/ u/ ,/ v/ ,/ x/ ,/ y/ )/ ∈/ Z/ +/ 电路/ 的/ 数目/ ./ 层/ 的/ 业务/ 需求/ )/ 所/ 使用/ 的/ 光层/ 链路/ (/ x/ ,/ y/ )/ 提供/ 的/ 光/ 通路/ 数目/ ,/ 即光层/ 的/ 业务/ 流/ ./ f32/ (/ i/ ,/ j/ ,/ r/ ,/ u/ ,/ v/ )/ ∈/ Z/ +/ TDM/ 层/ 的/ 业务/ 需求/ )/ 所/ 使用/ 的/ TDM/ 链路/ (/ u/ ,/ v/ )/ 提供/ 的/ r/ 类型/ 电路/ 数目/ ,/ 即/ TDM/ 层/ 的/ 业务/ 流/ ./ 需求/ 流经/ IP/ 层/ 链路/ (/ i/ ,/ j/ )/ 的/ 流量/ ,/ 即/ IP/ 层/ 的/ 业务/ 流/ ./ 其中/ R/ +/ f/ (/ ii/ ,/ jj/ ,/ i/ ,/ j/ )/ ∈/ R/ +/ 2/ :/ TDM/ 层/ 每个/ 机框/ 具有/ 的/ 线卡/ 数/ ./ ml2/ :/ TDM/ 层/ 每个/ 线卡/ 具有/ 的/ 接口/ 数/ ./ mp3/ :/ IP/ 层/ 每个/ 机框/ 具有/ 的/ 线卡/ 数/ ./ ml2/ :/ TDM/ 层/ 每个/ 机框/ 的/ 功耗/ ./ pc2/ :/ TDM/ 层/ 每个/ 线卡/ 的/ 功耗/ ./ pl2/ :/ TDM/ 层/ 每个/ 线路/ 接口/ 的/ 功耗/ ./ pp1/ :/ 光层/ 每个/ 支路/ 接口/ 的/ 功耗/ ./ pbp2/ :/ TDM/ 层/ 单位/ 业务/ 的/ 功耗/ ,/ 用于/ 计算/ 动态/ 功/ pt3/ :/ IP/ 层/ 每个/ 机框/ 的/ 功耗/ ./ pc3/ :/ IP/ 层/ 单位/ 业务/ 的/ 功耗/ ,/ 用于/ 计算/ 动态/ 功耗/ ,/ pt/ 单位/ 为/ W/ // Gbps/ ./ (/ 3/ )/ 决策/ 变量/ n2/ (/ u/ ,/ v/ )/ ∈/ Z/ +/ 路/ 数目/ ,/ 其中/ Z/ +/ 耗/ ,/ 单位/ 为/ W/ // Gbps/ ./ 线卡/ 数/ ./ 2/ (/ u/ )/ ∈/ Z/ +/ nc2/ (/ u/ )/ ∈/ Z/ +/ nl2/ (/ u/ )/ ∈/ Z/ +/ npt2/ (/ u/ )/ ∈/ R/ +/ 3/ (/ i/ )/ ∈/ Z/ +/ nc3/ (/ i/ ,/ r/ )/ ∈/ Z/ +/ nl3/ (/ i/ ,/ r/ )/ ∈/ Z/ +/ np/ 接口/ 数/ ./ t3/ (/ i/ )/ ∈/ R/ +/ 4.2/ 目标/ 函数/ 在/ ITO/ 模型/ 中/ ,/ 多层/ 网络/ 能耗/ 优化/ 的/ 目标/ 是/ 最小化/ 多层/ 网络/ 的/ 功耗/ ,/ 即/ Pmin/ ./ TDM/ 设备/ 和/ 光/ 网络设备/ 的/ 支路/ 接口/ 直接/ 与/ 上层/ 设备/ 的/ 线路/ 接口相连/ ,/ 支/ 路线/ 卡/ 无法/ 自由/ 分配/ 支路/ 接口/ ,/ 因此/ ,/ 支/ 路线/ 卡/ 被/ 纳入/ 机框/ 功耗/ 考虑/ ,/ 支路/ 接口/ 功耗/ 与/ 上层/ 的/ 线路/ 接口/ 的/ 功耗/ 一并/ 计算/ ./ 由于/ 相同/ 容量/ 的/ 光/ 网络设备/ 的/ 功耗/ Page6/ 远比/ TDM/ 和/ IP/ 设备/ 的/ 小/ ,/ 而/ 光/ 收发器/ 是/ 光/ 网络设备/ 的/ 主要/ 耗能/ 组件/ ,/ 因此/ ,/ 我们/ 只/ 考虑/ 光/ 网络设备/ 支路/ 接口/ (/ 即光/ 收发器/ )/ 的/ 功耗/ ./ 用/ 线性/ 函数/ 近似/ 网络设备/ 动态/ 功耗/ 与/ 业务/ 负载/ 的/ 关系/ [/ 15/ ]/ ,/ 则/ 目标/ 函数/ 为/ Pmin/ =/ min/ ∑/ u/ ∈/ N2/ ∑/ i/ ∈/ N3/ ∑/ r/ ∈/ R/ 其中/ TDM/ 层/ 和/ IP/ 层/ 的/ 功耗/ 等于/ 该层/ 所有/ 网络/ 结点/ 功耗/ 之/ 和/ ,/ 因此/ 分别/ 对/ u/ ∈/ N2/ 和/ i/ ∈/ N3/ 求和/ ,/ 网络设备/ 的/ 功耗/ 包括/ :/ (/ 1/ )/ 机框/ 功耗/ ,/ 分别/ 为/ nc/ (/ 2/ )/ 线卡/ 功耗/ ,/ 分别/ 为/ nl/ (/ 3/ )/ 接口/ 功耗/ 由本/ 网络层/ 的/ 线路/ 接口/ 和/ 下面/ 网/ 3/ (/ r/ )/ ;/ pl/ 络层/ 的/ 支路/ 接口/ 功耗/ 两/ 部分/ 组成/ ,/ 分别/ 为/ np/ (/ pp2/ +/ pbp/ (/ 4/ )/ 动态/ 功耗/ ,/ 分别/ 为/ t2/ (/ u/ )/ ·/ pt/ 由于/ IP/ 层/ 的/ 线卡/ 和/ 接口/ 有/ 多种类型/ ,/ 因此/ 计算/ 功耗/ 时/ 需要/ 对/ 类型/ r/ ∈/ R/ 求和/ ./ 光层/ 只/ 考虑/ 支路/ 接口/ 功耗/ 并/ 与/ TDM/ 层/ 的/ 线路/ 接口/ 功耗/ 一并/ 计算/ ,/ 即/ 2/ (/ u/ )/ ·/ (/ ppnp4/ ./ 3/ 约束条件/ 在/ ITO/ 模型/ 中/ ,/ 每个/ 网络层/ 都/ 有/ 相应/ 的/ 约束条件/ ,/ 包括/ 业务/ 路由/ 约束/ 、/ 链路/ 容量/ 约束/ 和/ 资源分配/ 约束/ ./ 相邻/ 网络层/ 并/ 不是/ 独立/ 的/ ,/ 上层/ 网络/ 的/ 逻辑/ 链路/ 即/ 为/ 下层/ 网络/ 的/ 业务/ 需求/ ./ 下面/ 介绍/ 每个/ 网络层/ 的/ 约束条件/ :/ (/ 1/ )/ IP/ 层/ 约束/ ∑/ j/ ∈/ N3/ -/ {/ i/ }/ f/ (/ ii/ ,/ jj/ ,/ i/ ,/ j/ )/ -/ ∑/ j/ ∈/ N3/ -/ {/ i/ }/ f/ (/ ii/ ,/ jj/ ,/ j/ ,/ i/ )/ =/ t3/ (/ i/ )/ =/ ∑/ ii/ ,/ jj/ ,/ j/ ∈/ N3/ :/ d/ (/ ii/ ,/ jj/ )/ >/ 0/ ∧/ j/ ≠/ i/ ∑/ ii/ ,/ jj/ ∈/ N3/ :/ d/ (/ ii/ ,/ jj/ )/ >/ 0/ ∑/ j/ ∈/ N3/ -/ {/ i/ }/ n3/ (/ i/ ,/ j/ ,/ r/ )/ / np/ ∑/ j/ ∈/ N3/ -/ {/ i/ }/ n3/ (/ j/ ,/ i/ ,/ r/ )/ / np3/ (/ i/ ,/ r/ )/ / mpnp/ 等式/ (/ 2/ )/ 为/ IP/ 层/ 的/ 业务/ 路由/ 约束/ ,/ 将/ 每个/ 业务/ 需求/ 看作/ 一种/ 商品/ ,/ 则/ 路由/ 约束/ 即/ 为/ 多/ 品种/ 流量/ 守恒/ 约束/ ./ 对于/ IP/ 层/ 的/ 每个/ 结点/ i/ 和/ 每个/ 业务/ 需求/ d/ (/ ii/ ,/ jj/ )/ :/ ①/ 如果/ 结点/ i/ 是/ 业务/ 需求/ 的/ 源/ 结点/ ,/ 即/ i/ =/ ii/ ,/ 当/ 网络/ 中/ 不/ 存在/ 环路/ 时/ ,/ 从/ 结点/ ii/ 流出/ 的/ 所有/ 业务/ 流/ 之/ 和/ 应该/ 等于/ 业务/ 需求/ d/ (/ ii/ ,/ jj/ )/ ,/ 而/ 流入/ 该/ 结点/ 的/ 所有/ 业务/ 需求/ 之/ 和/ 应该/ 为/ 0/ ,/ 即/ ②/ 如果/ 结点/ i/ 是/ 业务/ 需求/ 的/ 目的/ 结点/ ,/ 即/ i/ =/ jj/ ,/ 当/ 网络/ 中/ 不/ 存在/ 环路/ 时/ ,/ 流入/ 该/ 结点/ 的/ 所有/ 业务/ 流/ 之/ 和/ 应该/ 等于/ 业务/ 需求/ d/ (/ ii/ ,/ jj/ )/ ,/ 流出/ 该/ 结点/ 的/ 所有/ 业务/ 流/ 之/ 和/ 应该/ 为/ 0/ ,/ 即/ ③/ 如果/ 结点/ i/ 为/ 其它/ 结点/ ,/ 即/ i/ ≠/ ii/ ∧/ i/ ≠/ jj/ ,/ 此时/ ,/ 流入/ 该/ 结点/ 的/ 业务/ 流/ 之/ 和/ 应该/ 等于/ 流出/ 该/ 结点/ 的/ 业务/ 流/ 之/ 和/ ,/ 即/ ∑/ j/ ∈/ N3/ -/ {/ i/ }/ f/ (/ ii/ ,/ jj/ ,/ j/ ,/ i/ )/ =/ ∑/ j/ ∈/ N3/ -/ {/ i/ }/ f/ (/ ii/ ,/ jj/ ,/ i/ ,/ j/ )/ ./ 以上/ 3/ 种/ 情况/ 可/ 统一/ 由/ 等式/ (/ 2/ )/ 表示/ ,/ 而且/ 与/ 网络/ 中/ 是否/ 有/ 路由/ 环路/ 无关/ ,/ 该/ 约束/ 实现/ 了/ IP/ 层/ 业务/ 需求/ 在/ IP/ 层/ 链路/ 上/ 的/ 路由/ ./ 等式/ (/ 3/ )/ 为/ 网络/ 结点/ 的/ 转发/ 流量/ 等式/ ,/ 近似/ 等于/ 所有/ 流入/ 该/ 结点/ 的/ 业务/ 流/ 之/ 和/ ./ 等式/ (/ 4/ )/ 为/ 链路/ 容量/ 约束/ ,/ 对于/ 网络/ 中/ 的/ 每条/ 链路/ (/ i/ ,/ j/ )/ ,/ 所有/ 流经/ 该/ 链路/ 的/ 业务/ 需求/ 的/ 业务/ 流/ 之/ 和/ (/ 即该/ 链路/ 的/ 总流量/ )/ 不能/ 超过/ 链路/ 的/ 容量/ ./ 等式/ 的/ 右边/ 为/ 链路/ 的/ 容量/ ,/ 注意/ 此/ 链路/ 为/ IP/ 层/ 的/ 逻辑/ 链路/ ,/ 由/ TDM/ 层/ 的/ 电路/ 组成/ ,/ 因此/ ,/ 等式/ (/ 4/ )/ 中/ 直接/ 用/ TDM/ 层/ 的/ 电路/ 请求/ n3/ (/ i/ ,/ j/ ,/ r/ )/ 表示/ 逻辑/ 链路/ ./ 由于/ 存在/ 多种类型/ 的/ 电路/ ,/ 故需/ 对/ 电路/ 类型/ r/ ∈/ R/ 求和/ ./ 等式/ (/ 4/ )/ 在/ 实现/ 链路/ 容量/ 约束/ 的/ 同时/ ,/ 还/ 将/ IP/ 层/ 的/ 逻辑/ 链路/ 转换/ 为/ TDM/ 层/ 的/ 电路/ 请求/ (/ 即/ TDM/ 层/ 的/ 业务/ 需求/ )/ ,/ 从而/ 隐含/ 实现/ 了/ IP/ 层/ 和/ TDM/ 层/ 的/ 层间/ 约束/ ./ Page7/ 等式/ (/ 5/ )/ ~/ (/ 8/ )/ 为/ 资源分配/ 约束/ ./ 其中/ :/ 等式/ (/ 5/ )/ 和/ (/ 6/ )/ 表示/ 网络设备/ 为/ 链路/ 分配/ 足够/ 的/ 活跃/ 接口/ ,/ 一个/ 接口/ 既/ 是/ 正向/ 链路/ 的/ 发送/ 端/ ,/ 又/ 是/ 逆向/ 链路/ 的/ 接收端/ ,/ 因此/ 分配/ 的/ 活跃/ 接口/ 数量/ 不/ 应该/ 小于/ 正向/ 或/ 逆向/ 链路/ 的/ 数量/ ;/ 等式/ (/ 7/ )/ 为/ 接口/ 分配/ 足够/ 的/ 活跃/ 线卡/ ,/ 等式/ (/ 8/ )/ 为/ 线卡/ 分配/ 足够/ 的/ 活跃/ 机框/ ./ ∑/ v/ ∈/ N2/ -/ {/ u/ }/ f32/ (/ i/ ,/ j/ ,/ r/ ,/ u/ ,/ v/ )/ -/ ∑/ v/ ∈/ N2/ -/ {/ u/ }/ f32/ (/ i/ ,/ j/ ,/ r/ ,/ v/ ,/ u/ )/ =/ (/ 2/ )/ TDM/ 层/ 约束/ / i/ ,/ j/ ∈/ N3/ ,/ r/ ∈/ R/ ,/ u/ ∈/ N2/ :/ i/ ≠/ j/ (/ 9/ )/ t2/ (/ u/ )/ =/ ∑/ i/ ,/ j/ ∈/ N3/ ,/ r/ ∈/ R/ ,/ v/ ∈/ N2/ :/ i/ ≠/ j/ ∧/ v/ ≠/ u/ / u/ ∈/ N2/ ∑/ i/ ,/ j/ ∈/ N3/ ,/ r/ ∈/ R/ :/ i/ ≠/ j/ / u/ ,/ v/ ∈/ N2/ :/ u/ ≠/ v/ (/ 11/ )/ ∑/ v/ ∈/ N2/ -/ {/ u/ }/ n2/ (/ v/ ,/ u/ )/ / np/ ∑/ v/ ∈/ N2/ -/ {/ u/ }/ n2/ (/ u/ ,/ v/ )/ / np2/ (/ u/ )/ / mpnp2/ (/ u/ )/ / mlnlTDM/ 层/ 的/ 业务/ 需求/ 为/ IP/ 层/ 建立/ 逻辑/ 链路/ 所/ 产生/ 的/ 电路/ 请求/ ./ TDM/ 层/ 业务/ 的/ 基本/ 单位/ 为/ 电路/ ,/ 而/ IP/ 层/ 业务/ 的/ 基本/ 单位/ 为/ 分组/ ,/ 除此之外/ ,/ TDM/ 层/ 的/ 约束条件/ 与/ IP/ 层/ 的/ 是/ 类似/ 的/ ./ 等式/ (/ 9/ )/ 为/ TDM/ 层/ 的/ 业务/ 路由/ 约束/ ,/ 经过/ 每个/ 结点/ 的/ 每种/ 类型/ 的/ 电路/ 数/ 守恒/ ./ TDM/ 层/ 的/ 电路/ 有/ 多种类型/ ,/ 因此/ 每种/ 电路/ 类型/ r/ ∈/ R/ 都/ 应该/ 满足/ 业务/ 路由/ 约束/ ./ 等式/ (/ 9/ )/ 实现/ 了/ IP/ 层/ 的/ 电路/ 请求/ 在/ TDM/ 层/ 链路/ 上/ 的/ 路由/ ./ 等式/ (/ 10/ )/ 为/ TDM/ 层/ 结点/ 的/ 转发/ 流量/ 等式/ ,/ TDM/ 层/ 的/ 转发/ 流量/ 与/ IP/ 层/ 的/ 转发/ 流量/ 具有/ 相同/ 的/ 单位/ ,/ 因此/ 需/ 乘以/ 电路/ 容量/ 将/ 电路/ 数/ 转化/ 为/ 流量/ ./ 等式/ (/ 11/ )/ 为/ TDM/ 层/ 的/ 链路/ 容量/ 约束/ ,/ 与/ IP/ 层/ 相似/ ,/ 用光/ 层/ 的/ 光/ 通路/ 请求/ 表示/ TDM/ 层/ 的/ 逻辑/ 链路/ ,/ 实现/ TDM/ 层/ 与/ 光层/ 的/ 层间/ 约束/ ./ 等式/ (/ 12/ )/ ~/ (/ 15/ )/ 为/ 资源分配/ 约束/ ,/ 其中/ 等式/ (/ 12/ )/ 和/ (/ 13/ )/ 为/ TDM/ 层/ 链路/ 分配/ 充足/ 的/ 活跃/ 接口/ ,/ 等式/ (/ 14/ )/ ~/ (/ 15/ )/ 分别/ 为/ TDM/ 层/ 结点/ 的/ 接口/ 分配/ 充足/ 的/ 活跃/ 线卡/ 、/ 线卡/ 分配/ 充足/ 的/ 活跃/ 机框/ ./ (/ 3/ )/ 光层/ 约束/ ∑/ y/ ∈/ N1/ :/ e/ (/ x/ ,/ y/ )/ ∈/ E1/ ∑/ u/ ,/ v/ ∈/ N2/ :/ u/ ≠/ v/ 光层/ 只/ 考虑/ 支路/ 接口/ 的/ 功耗/ ,/ 因此/ 不/ 需要/ 资源分配/ 约束/ ./ 光层/ 的/ 业务/ 需求/ 为/ TDM/ 层/ 建立/ 逻辑/ 链路/ 所/ 产生/ 的/ 光/ 通路/ 请求/ ,/ 业务/ 的/ 基本/ 单位/ 为光/ 通路/ ,/ 约束条件/ 与/ TDM/ 层/ 的/ 类似/ ./ 等式/ (/ 16/ )/ 为/ 光层/ 的/ 业务/ 路由/ 约束/ ,/ 实现/ TDM/ 层/ 的/ 光/ 通路/ 请求/ 在/ 光纤/ 链路/ 上/ 的/ 路由/ ,/ 由于/ 光层/ 网络/ 结点/ 具有/ 波长/ 转换/ 能力/ ,/ 故/ 不用/ 考虑/ 波长/ 一致性/ 约束/ ./ 等式/ (/ 17/ )/ 为/ 光层/ 网络/ 的/ 链路/ 容量/ 约束/ ,/ 确保/ 链路/ 使用/ 的/ 波长/ 数/ 小于/ 链路/ 的/ 总/ 波长/ 数/ ./ 4.4/ ITO/ 模型/ 复杂性/ 分析/ ITO/ 模型/ 所/ 描述/ 的/ 3/ 层/ 网络/ 能耗/ 优化/ 问题/ 是/ 一个/ MILP/ 问题/ ,/ 比/ 单层/ 和/ 两层/ 网络/ 的/ 能耗/ 优化/ 模型/ [/ 5/ ,/ 6/ -/ 8/ ]/ 的/ 复杂性/ 更高/ ./ ITO/ 模型/ 的/ 解/ 空间/ 随着/ 整数/ 变量/ 数量/ 组合/ 增长/ ,/ 因此/ 可用/ 整数/ 变量/ 的/ 数量/ 刻画/ ITO/ 模型/ 的/ 复杂性/ ./ 的/ 整数/ 变量/ 数量/ 根据/ 4.1/ 节/ 变量/ 的/ 定义/ ,/ 容易/ 计算/ 出/ ITO/ 模型/ Ψ/ =/ (/ 1/ +/ |/ E1/ |/ )/ ·/ A2/ 其中/ ,/ 排列/ A2/ 数量/ ./ 根据/ 4.1/ 节/ ,/ 有/ 以下/ 关系/ 成立/ :/ |/ N3/ |/ / |/ N2/ |/ / |/ N1/ |/ =/ n/ ,/ |/ E1/ |/ / A2/ Ψ/ / (/ |/ R/ |/ +/ 1/ )/ ·/ n4/ -/ (/ 2/ ·/ |/ R/ |/ +/ 2/ )/ ·/ n3/ +/ 因此/ ,/ Ψ/ 的/ 渐进/ 上界/ 为/ O/ (/ |/ R/ |/ ·/ n4/ )/ ./ 第/ 5/ 节/ 的/ 模拟实验/ 使用/ 6/ 个/ 结点/ 16/ 条有/ 向/ 链路/ 的/ 网络/ ,/ |/ R/ |/ 为/ 3/ ,/ 共有/ 3660/ 个/ 整数/ 变量/ ,/ 在/ 最坏/ 情况/ 下/ ,/ 进行/ 一次/ 网络/ 能耗/ 优化/ 的/ 求解/ 时间/ 超过/ 1h/ ,/ 内存/ 消耗/ 超过/ 2GB/ ,/ 这/ 在/ 一定/ 程度/ 上/ 体现/ 了/ ITO/ 模型/ 的/ 复杂性/ ./ 5/ 实验/ 结果/ 分析/ 5.1/ 实验/ 环境/ 本/ 模拟实验/ 使用/ 数学/ 工具/ GAMS/ // CPLEX/ 求/ Page8/ 解/ ./ CPLEX/ 是/ 一种/ 高性能/ 的/ MILP/ 求解/ 器/ ,/ 采用/ 较/ 高/ 执行/ 效率/ 的/ 分枝/ 定界/ 算法/ ,/ 通过/ 计算/ 一系列/ 的/ 线性规划/ 子/ 问题/ 求解/ ITO/ 模型/ ./ 实验/ 参数设置/ 如下/ ./ (/ 1/ )/ 网络拓扑/ 和/ 业务/ 需求/ ./ 由于/ MILP/ 问题/ 是/ NP/ 难/ 的/ ,/ 因此/ 实验/ 使用/ 6/ 个/ 结点/ 16/ 条有/ 向/ 链路/ 的/ 多层/ 网络/ (/ 如图/ 3/ 所示/ )/ ./ 每个/ 结点/ 对/ (/ ii/ ,/ jj/ )/ 的/ 业务/ 需求/ d/ (/ ii/ ,/ jj/ )/ 为/ [/ 0/ ,/ 2/ ·/ Davg/ ]/ 区间/ 内/ 均匀分布/ 的/ 随机数/ ,/ 其/ 平均值/ 为/ Davg/ ,/ 调节/ 参数/ Davg/ 的/ 值/ 为/ 10Gbps/ ,/ 20Gbps/ ,/ …/ ,/ 100Gbps/ ,/ 可/ 获得/ 不同/ 大小/ 的/ 业务/ 需求/ ./ (/ 2/ )/ IP/ 层/ 参数/ ./ IP/ 层/ 设备/ 以/ 思科/ CRS3/ -/ 4/ // S/ 路由器/ 的/ 规格/ 参数/ 为/ 参考/ ,/ 最大/ 功耗/ 为/ 3080W/ ,/ 转发/ 容量/ 为/ 560Gbps/ ,/ 机框/ 的/ 功耗/ 为/ 696W/ ,/ 每个/ 机框/ 可/ 容纳/ 4/ 个/ 线卡/ ,/ 每个/ 线卡/ 的/ 功耗/ 为/ 446W/ ./ 线卡/ 有/ 3/ 种/ 类型/ :/ 14/ 个/ 10Gb/ // s/ 的/ 以太网/ 接口/ 的/ 线卡/ ,/ 每个/ 接口/ 的/ 功耗/ 为/ 10W/ ;/ 单个/ 100Gb/ // s/ 的/ 以太网/ 接口/ 的/ 线卡/ ,/ 接口/ 功耗/ 为/ 100W/ ;/ 单个/ 40Gb/ // s/ 的/ POS/ 接口/ 的/ 线卡/ ,/ 接口/ 功耗/ 为/ 80W/ ./ (/ 3/ )/ TDM/ 和/ 光层/ 参数/ ./ TDM/ 层/ 设备/ 以/ 华为/ OptiXOSN8800/ 的/ 规格/ 参数/ 为/ 参考/ ,/ 最大/ 功耗/ 为/ 2052W/ ,/ 转发/ 容量/ 为/ 640Gbps/ ,/ 机框/ 的/ 功耗/ 为/ 750W/ ,/ 每个/ 机框/ 可/ 配备/ 6/ 个/ 线卡/ ./ 每个/ 线卡/ 的/ 功耗/ 为/ 80W/ ,/ 每个/ 线卡/ 仅/ 有/ 1/ 个/ 容量/ 为/ 100Gbps/ 的/ 线路/ 接口/ ,/ 接口/ 的/ 功耗/ 为/ 70W/ ./ TDM/ 层/ 设备/ 的/ 支路/ 接口/ 的/ 功耗/ 为/ 与/ 之/ 相连/ 的/ 上层/ IP/ 设备/ 接口/ 功耗/ 的/ 2/ // 3/ ,/ 光层/ 设备/ 的/ 支路/ 接口/ 的/ 功耗/ 与/ 上层/ TDM/ 层/ 设备/ 的/ 线路/ 接口/ 的/ 功耗/ 相同/ ./ 光层/ 网络/ 的/ 光纤/ 链路/ 的/ 波长/ 数为/ 40/ ,/ 每个/ 波长/ 的/ 带宽/ 为/ 100Gbps/ ./ (/ 4/ )/ 动态/ 功耗/ 参数/ ./ 动态/ 功耗/ 参数/ η/ 表示/ 网络设备/ 动态/ 功耗/ 占/ 最大/ 功耗/ 的/ 百分比/ ,/ 即/ 根据/ 网络设备/ 的/ 动态/ 功耗/ 和/ 转发/ 容量/ 可/ 得到/ IP/ 层/ 和/ TDM/ 层/ 的/ 单位/ 业务/ 功耗/ 分别/ 为/ 3080/ η/ // 560/ (/ W/ // Gbps/ )/ 、/ 2052/ η/ // 640/ (/ W/ // Gbps/ )/ ./ 前面/ 的/ 机框/ 、/ 线卡/ 和/ 接口/ 的/ 功耗/ 值/ 包括/ 动态/ 功耗/ ,/ 需/ 乘以/ 系数/ (/ 1/ -/ η/ )/ 转化/ 为/ 静态/ 功耗/ ./ 5.2/ 网络层/ 与/ 多层/ 网络/ 功耗/ 通过/ 为/ 多层/ 网络/ 的/ 每个/ 网络层/ 添加/ 新/ 的/ 路由/ 约束/ ,/ 禁用/ 网络层/ 的/ 交换/ 能力/ ,/ 从而/ 研究/ 各个/ 网络层/ 以及/ 网络层/ 组合/ 在/ 网络/ 能耗/ 优化/ 中/ 的/ 作用/ ./ 此外/ ,/ 禁用/ 网络层/ 的/ 交换/ 能力/ 可使/ 该/ 网络层/ 的/ 业务/ 需求/ 经单/ 跳/ 路径/ 传输/ ,/ 降低/ 该/ 网络层/ 业务/ 疏导/ 能力/ (/ 即/ 由/ 多/ 跳/ 疏导/ 变成/ 单跳/ 疏导/ )/ ,/ 使/ 业务/ 在/ 下面/ 的/ 网络层/ 旁通/ ,/ 达到/ 研究/ 业务/ 疏导/ 和/ 业务/ 旁通/ 对/ 网络/ 能耗/ 优化/ 影响/ 的/ 目的/ ./ 在/ 4.4/ 小节/ 的/ 基础/ 上/ 分别/ 为/ 光层/ 、/ TDM/ 层/ 和/ IP/ 层/ 添加/ 以下/ 路由/ 约束/ (/ 见式/ (/ 18/ )/ ~/ (/ 20/ )/ )/ ,/ 并/ 使用/ 网络层/ 参数/ ω/ (/ 一个/ 3/ 位/ 的/ 二进制/ 数/ )/ 表示/ 是否/ 启用/ 这/ 3/ 个/ 路由/ 约束/ ,/ 则/ 可/ 得到/ 7/ 种有/ 意义/ 的/ 组合/ ,/ 每种/ 组合/ 的/ 意义/ 如表/ 1/ 所示/ ./ 本次/ 实验/ 参数/ η/ 取值/ 为/ 20/ %/ ,/ 分别/ 对/ 以上/ 7/ 种/ 组合/ 进行/ 模拟实验/ ,/ 结果/ 如图/ 4/ 所示/ ./ f21/ (/ u/ ,/ v/ ,/ x/ ,/ y/ )/ =/ 0/ ,/ / u/ ,/ v/ ∈/ N2/ ,/ x/ ,/ y/ ∈/ N1/ :/ u/ ≠/ v/ ∧/ (/ x/ ≠/ u/ ∨/ y/ ≠/ v/ )/ (/ 18/ )/ f32/ (/ i/ ,/ j/ ,/ r/ ,/ u/ ,/ v/ )/ =/ 0/ ,/ / i/ ,/ j/ ∈/ N3/ ,/ r/ ∈/ R/ ,/ u/ ,/ v/ ∈/ N2/ :/ i/ ≠/ j/ ∧/ (/ u/ ≠/ i/ ∨/ v/ ≠/ j/ )/ (/ 19/ )/ f/ (/ ii/ ,/ jj/ ,/ i/ ,/ j/ )/ =/ 0/ ,/ / ii/ ,/ jj/ ,/ i/ ,/ j/ ∈/ N3/ :/ d/ (/ ii/ ,/ jj/ )/ >/ 0/ ∧/ (/ i/ ≠/ ii/ ∨/ j/ ≠/ jj/ )/ 参数/ ω/ 的/ 值/ 0/ (/ 000/ )/ 3/ 个/ 网络层/ 都/ 具有/ 业务/ 交换/ 能力/ ,/ 即/ IPoverTDM4/ (/ 100/ )/ 禁用/ 光层/ 的/ 交换/ 能力/ ,/ 即/ IPoverTDM/ 网络/ 2/ (/ 010/ )/ 禁用/ TDM/ 层/ 的/ 交换/ 能力/ ,/ 即/ IPoverWDM/ 网络/ 1/ (/ 001/ )/ 禁用/ IP/ 层/ 的/ 交换/ 能力/ ,/ 即/ TDMoverWDM/ 网络/ 3/ (/ 011/ )/ 只有/ 光层/ 具有/ 交换/ 能力/ ,/ 即光/ 网络/ 5/ (/ 101/ )/ 只有/ TDM/ 层/ 具有/ 交换/ 能力/ ,/ 即/ TDM/ 网络/ 6/ (/ 110/ )/ 只有/ IP/ 层/ 具有/ 交换/ 能力/ ,/ 即/ IP/ 网络/ (/ 1/ )/ 业务/ 疏导/ 与/ 旁通/ 对/ 能耗/ 优化/ 的/ 影响/ ./ 当/ 网络/ 业务量/ 低时/ ,/ 业务/ 疏导/ 可/ 将/ 业务/ 汇聚/ 到/ 少数/ 的/ 链路/ 传输/ ,/ 减少/ 活跃/ 的/ 接口/ 、/ 线卡/ 和/ 机框/ 数量/ ,/ 因此/ ,/ 业务/ 疏导/ 对/ 网络/ 的/ 能耗/ 优化/ 起/ 主导作用/ ./ 但是/ 由于/ 光/ Page9/ 层/ 的/ 功耗/ 远/ 小于/ IP/ 层/ 和/ WDM/ 层/ ,/ 对光/ 层/ 而言/ 业务/ 疏导/ 的/ 节能/ 效果/ 非常/ 有限/ ,/ 所以/ ,/ 电/ 交换/ 网络/ (/ ω/ =/ 5/ ,/ 6/ )/ 的/ 能耗/ 优化/ 效果/ 比光/ 网络/ (/ ω/ =/ 3/ )/ 好/ ,/ 纯电/ 交换/ 的/ 两层/ 网络/ (/ ω/ =/ 4/ )/ 比/ 光电/ 混合/ 网络/ (/ ω/ =/ 1/ ,/ 2/ )/ 的/ 效果/ 好/ ./ 当/ 业务量/ 较/ 高时/ ,/ 业务/ 疏导/ 在/ 能耗/ 优化/ 的/ 作用/ 减小/ ,/ 业务/ 旁通/ 起/ 主导作用/ ,/ 由于/ 光/ 网络/ 能够/ 实现/ 业务/ 在/ 光域/ 的/ 波长/ 交换/ ,/ 具有/ 比电/ 交换/ 低得/ 多/ 的/ 功耗/ ,/ 因此/ 光/ 网络/ (/ ω/ =/ 3/ )/ 的/ 效果/ 比电/ 交换/ 网络/ (/ ω/ =/ 5/ ,/ 6/ )/ 的/ 效果/ 好/ ,/ 光电/ 混合/ 的/ 两层/ 网络/ (/ ω/ =/ 1/ ,/ 2/ )/ 比纯电/ 交换/ 的/ 两层/ 网络/ (/ ω/ =/ 4/ )/ 的/ 效果/ 好/ ./ (/ 2/ )/ 网络层/ 对/ 能耗/ 优化/ 的/ 影响/ ./ 不同/ 的/ 网络层/ 组合/ 的/ 能耗/ 优化/ 效果/ 是/ 不同/ 的/ ./ 如图/ 4/ 所示/ ,/ 3/ 层/ 网络/ (/ ω/ =/ 0/ )/ 好于/ 两层/ 网络/ (/ ω/ =/ 1/ ,/ 2/ ,/ 4/ )/ ,/ 两层/ 网络/ 好于/ 单层/ 网络/ (/ ω/ =/ 3/ ,/ 5/ ,/ 6/ )/ ,/ 不同/ 网络层/ 组合/ 的/ 网络/ 能耗/ 差异/ 最大/ 达/ 30/ %/ ./ 3/ 层/ 网络/ 的/ 能耗/ 优化/ 效果/ 与/ 两层/ 网络/ (/ ω/ =/ 1/ ,/ 2/ )/ 相比/ 优势/ 并/ 不/ 明显/ ,/ 光电/ 混合/ 的/ 两层/ 网络/ (/ 如/ IPoverWDM/ )/ 能够/ 很/ 好/ 地/ 发挥/ 电/ 交换/ 网络/ 的/ 疏导/ 作用/ 和/ 光/ 交换/ 网络/ 的/ 旁通/ 作用/ ,/ 增加/ 额外/ 的/ TDM/ 层/ 对/ 网络/ 能耗/ 优化/ 几乎/ 没有/ 提升/ ,/ 而且/ 3/ 层/ 网络/ 能耗/ 优化/ 的/ 求解/ 时间/ 比/ 2/ 层/ 网络/ 的/ 长得/ 多/ ./ 因此/ ,/ 从/ 网络/ 能耗/ 优化/ 效果/ 和/ 求解/ 时间/ 两/ 方面/ 考虑/ ,/ IPoverWDM/ 网络/ 是/ 比较/ 理想/ 的/ 核心/ 网络/ 技术/ ./ 5.3/ 动态/ 功耗/ 与/ 多层/ 网络/ 功耗/ 我们/ 使用/ 3/ 层/ 网络/ (/ 即/ ω/ =/ 0/ )/ ,/ 分别/ 对/ 动态/ 功耗/ 参数/ η/ 的/ 不同/ 取值/ (/ 取值/ 分别/ 为/ 0/ %/ ,/ 20/ %/ ,/ 40/ %/ ,/ …/ ,/ 100/ %/ )/ 进行/ 模拟实验/ ,/ 实验/ 结果/ 如图/ 5/ 、/ 图/ 6/ 所示/ ./ 结果表明/ ,/ 网络设备/ 的/ 动态/ 功耗/ 越大/ ,/ 网络/ 的/ 能耗/ 优化/ 效果/ 越/ 好/ ,/ 具体表现/ 在/ 以下/ 两个/ 方面/ ./ 首先/ ,/ 当/ 业务量/ 不变/ 时/ ,/ 动态/ 功耗/ 越大/ ,/ 网络/ 的/ 功耗/ 就/ 越/ 低/ ,/ 当/ 动态/ 功耗/ 由/ 0/ %/ 增长/ 到/ 100/ %/ 时/ ,/ 网络/ 功耗/ 平均/ 减少/ 了/ 10118W/ (/ 见图/ 5/ )/ ./ 其次/ ,/ 网络设备/ 的/ 动态/ 功耗/ 越大/ ,/ 业务/ 低峰/ 期时/ 的/ 网络/ 功耗/ 占/ 网络/ 最大/ 功耗/ 的/ 比例/ 越小/ (/ 见图/ 6/ )/ ./ 图/ 6/ 网络设备/ 动态/ 功耗/ 对/ 业务/ 低峰/ 期时/ 网络/ 功耗/ 的/ 影响/ 5.4/ 模块化/ 结构/ 与/ 网络/ 功耗/ 网络设备/ 的/ 模块化/ 设计/ 会/ 对/ 网络/ 的/ 功耗/ 优化/ 产生/ 影响/ ./ 不同/ 的/ 网络设备/ 设计/ ,/ 功能/ 在线/ 卡/ 和/ 机框/ 间/ 的/ 划分/ 是/ 不同/ 的/ ,/ 结果/ 导致/ 机框/ 功耗/ 与/ 线卡/ 功耗/ 的/ 比例/ 也/ 不/ 相同/ ./ 在/ 5.1/ 节/ 的/ 基础/ 上/ ,/ 用/ 模块化/ 参数/ ζ/ 表示/ 机框/ 功耗/ pc/ 占/ 机框/ 和/ 线卡/ 功耗/ pc/ +/ pl/ 的/ 百分比/ ,/ 即/ ζ/ =/ pc/ // (/ pc/ +/ pl/ )/ ./ 动态/ 功耗/ 参数/ η/ 的/ 值/ 为/ 20/ %/ ,/ 参数/ ζ/ 分别/ 取值/ 0/ %/ ,/ 20/ %/ ,/ …/ ,/ 100/ %/ ,/ 模拟实验/ 结果/ 如图/ 7/ 所示/ ./ 图/ 7/ 网络设备/ 模块化/ 结构/ 对/ 能耗/ 优化/ 的/ 影响/ 结果表明/ ,/ 机框/ 功耗/ 所/ 占/ 比例/ 越小/ ,/ 网络/ 的/ 能耗/ 优化/ 效果/ 越/ 好/ ,/ 网络/ 功耗/ 就/ 越/ 小/ ./ 当/ 网络/ 的/ 业务/ 需求/ 较/ 小时/ ,/ 网络设备/ 的/ 模块化/ 结构/ 对/ 网络/ 能耗/ 优化/ 的/ 影响/ 较大/ (/ 最大/ 达/ 13461W/ )/ ./ 随着/ 业务/ 需求/ 的/ 增大/ ,/ 这种/ 影响/ 逐渐/ 变小/ ,/ 并/ 存在/ 某些/ 业务/ 需求/ 值/ (/ 如/ Davg/ =/ 80Gbps/ )/ ,/ 使得/ 这种/ 影响/ 达到/ 极小值/ (/ 影响/ 不/ 超过/ 2399W/ )/ ./ 分析/ 最优/ 解/ 可以/ 发现/ 这种/ 影响/ 达到/ 极小/ 所/ 满足/ 的/ 条件/ 是/ :/ 网络/ 各/ 结点/ 的/ 接口/ 和/ 线卡/ 的/ 使用量/ (/ 即/ 处于/ 活跃/ 状态/ 的/ 数量/ )/ 与/ 活跃/ 状态/ 的/ 机框/ 上/ 的/ 接口/ 和/ 线卡/ 总量/ (/ 即/ 配备/ 的/ 数量/ )/ 非常/ 接近/ ./ Page10/ 容易/ 理解/ ,/ 当/ 业务量/ 低时/ ,/ 少量/ 的/ 接口/ 和/ 线卡/ 分担/ 机框/ 的/ 功耗/ ,/ 当/ 机框/ 的/ 功耗/ 所/ 占/ 比例/ 降低/ 时/ ,/ 原有/ 的/ 部分/ 机框/ 功耗/ 转移/ 到/ 线卡/ ,/ 而/ 大量/ 的/ 线卡/ 处于/ 睡眠/ ,/ 因而/ 网络/ 的/ 功耗/ 得以/ 降低/ ./ 当/ 前面/ 的/ 极小值/ 条件/ 满足/ 时/ ,/ 活跃/ 的/ 机框/ 的/ 所有/ 线卡/ 和/ 接口/ 几乎/ 都/ 在/ 工作/ ,/ 因而/ 机框/ 的/ 功耗/ 比例/ 对/ 网络/ 的/ 功耗/ 影响/ 也/ 达到/ 极小/ ./ 目前/ 核心网/ 的/ 平均/ 链路/ 利用率/ 很/ 低/ ,/ 优良/ 的/ 模块化/ 设计/ 的/ 网络设备/ 将/ 有助于/ 网络/ 的/ 功耗/ 优化/ ,/ 减低/ 网络/ 的/ 能耗/ ./ 以上/ 3/ 个/ 实验/ 比较/ 全面/ 地/ 验证/ 了/ ITO/ 模型/ 的/ 有效性/ ./ 在/ 图/ 4/ 中/ ,/ ω/ 的/ 7/ 种/ 取值/ 下/ 的/ 网络/ 功耗/ 都/ 随/ 业务/ 需求/ 的/ 减小/ 逐渐/ 降低/ ,/ 在/ 业务/ 需求/ 低峰/ 期时/ (/ Davg/ =/ 10Gbps/ )/ 网络/ 功耗/ 可/ 减小/ 到/ 业务/ 高峰期/ (/ Davg/ =/ 100Gbps/ )/ 时/ 功耗/ 时/ 的/ 24/ %/ ~/ 38/ %/ ./ 在/ 图/ 5/ 和/ 图/ 7/ 中/ ,/ 无论/ 网络设备/ 的/ 动态/ 功耗/ 和/ 模块化/ 结构/ 如何/ 变动/ ,/ 网络/ 的/ 功耗/ 随/ 业务/ 需求/ 减小/ 而/ 降低/ 这一/ 结论/ 始终/ 保存/ 一致/ ./ 6/ 结束语/ 本文/ 对/ 多层/ 网络/ 的/ 能耗/ 优化/ 问题/ 进行/ 了/ 研究/ ,/ 讨论/ 了/ 多/ 粒度/ 的/ 模块/ 睡眠/ 、/ 业务/ 的/ 多级/ 疏导/ 与/ 旁通/ 和/ 能量/ 感知/ 的/ 路由/ 等/ 多种/ 节能/ 机制/ ,/ 建立/ 了/ 具有/ IP/ 层/ 、/ TDM/ 层/ 和/ 光层/ 3/ 层/ 结构/ 的/ 多层/ 网络/ 的/ 能耗/ 优化/ 模型/ (/ 即/ ITO/ 模型/ )/ ./ 依据/ 实际/ 网络设备/ 的/ 规格/ 参数/ ,/ 我们/ 通过/ 相应/ 的/ 实验/ 探讨/ 不同/ 的/ 网络层/ 组合/ 、/ 网络设备/ 的/ 动态/ 功耗/ 和/ 网络设备/ 的/ 模块化/ 结构/ 对/ 多层/ 网络/ 能耗/ 优化/ 的/ 影响/ ./ 实验/ 结果表明/ ITO/ 模型/ 能够/ 有效/ 降低/ 网络/ 的/ 功耗/ ,/ 可/ 将/ 业务/ 低峰/ 期/ 的/ 网络/ 功耗/ 降低/ 到/ 业务/ 高峰期/ 时/ 的/ 24/ %/ ~/ 38/ %/ ./ 本文/ 的/ 多/ 粒度/ 模块/ 睡眠/ 属于/ 网络/ 级/ 睡眠/ ,/ 出于/ 简化/ 问题/ 的/ 目的/ ,/ 本文/ 的/ 优化/ 模型/ 没有/ 考虑/ 结点/ 级/ 节能/ 机制/ ,/ 因此/ 得出/ 的/ 优化/ 结果/ 实际上/ 是/ 一个/ 上/ 限值/ ./ 接下来/ 的/ 工作/ 可/ 考虑/ 业务量/ 随/ 时间/ 变化/ 的/ 网络/ 能耗/ 优化/ 技术/ ,/ 对/ 网络/ 的/ 功耗/ 进行/ 更/ 精准/ 的/ 建模/ ,/ 开发/ 求解/ 该/ 模型/ 的/ 启发式/ 算法/ ,/ 在/ 大型/ 网络/ 环境/ 中/ 研究/ 多层/ 网络/ 的/ 能耗/ 优化/ 以及/ 研究/ 网络/ 能耗/ 优化/ 与/ 可靠性/ 、/ 拥塞/ 和/ 服务质量/ 等/ 因素/ 的/ 关系/ ./ 

