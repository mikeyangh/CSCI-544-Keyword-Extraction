Page1/ 资源/ 受限/ 的/ 机会/ 网络/ 节点/ 激励/ 策略/ 研究/ 李云/ 1/ )/ ,/ 2/ )/ 于/ 季弘/ 1/ )/ 尤肖虎/ 2/ )/ 1/ )/ (/ 重庆/ 邮电大学/ 移动/ 通信/ 技术/ 重庆市/ 重点/ 实验室/ 重庆/ 400065/ )/ 2/ )/ (/ 东南大学/ 移动/ 通信/ 国家/ 重点/ 实验室/ 南京/ 210096/ )/ 摘要/ 针对/ 机会/ 网络/ 中/ 节点/ 自私/ 性/ 问题/ ,/ 结合/ 资源/ 受限/ 的/ 机会/ 网络/ 特性/ ,/ 提出/ 了/ 一种/ 基于/ 买卖/ 模型/ 的/ 节点/ 激励/ 策略/ —/ —/ —/ BIP/ ./ BIP/ 策略/ 采用/ 货币/ 支付/ 模式/ ,/ 综合/ 考虑/ 节点/ 自身/ 资源/ 、/ 拥有/ 的/ 虚拟/ 货币/ 以及/ 消息/ 属性/ 对/ 消息/ 进行/ 定价/ ,/ 从而/ 激励/ 自私/ 节点/ 合作/ ,/ 同时/ 有效/ 地/ 解决/ 节点/ 盲目/ 合作/ 带来/ 的/ 网络/ 性能/ 退化/ 问题/ ./ 博弈论/ 分析/ 证明/ ,/ 节点/ 达成/ 交易/ 后/ ,/ BIP/ 策略/ 可以/ 有效/ 地/ 约束/ 节点/ 参与/ 消息/ 转发/ ./ 通过/ 仿真/ 实验/ 进一步/ 验证/ BIP/ 策略/ 的/ 有效性/ 和/ 实用性/ ,/ 结果表明/ BIP/ 策略/ 降低/ 了/ 能量消耗/ ,/ 减小/ 了/ 时延/ ,/ 提高/ 了/ 交付/ 率/ ./ 关键词/ 机会/ 网络/ ;/ 自私/ 节点/ ;/ 买卖/ 模型/ ;/ 激励/ 策略/ 1/ 引言/ 机会/ 网络/ (/ opportunisticnetworks/ )/ 被/ 广泛应用/ 于/ 车载/ 通信/ [/ 1/ ]/ 、/ 深空/ 通信/ [/ 2/ ]/ 、/ 环境监测/ [/ 3/ -/ 4/ ]/ 等/ 网络/ 场景/ ./ 不同于/ 传统/ 网络/ ,/ 在/ 机会/ 网络/ 中/ ,/ 消息/ 的/ 源/ 节点/ 和/ 目的/ 节点/ 之间/ 不/ 存在/ 可靠/ 的/ 端/ 到/ 端/ 路径/ ./ 机会/ 网络/ 的/ 路由/ 机制/ 主要/ 依靠/ 移动/ 节点/ 合作/ ,/ 以/ “/ 存储/ -/ 携带/ -/ 转发/ ”/ 的/ 模式/ 工作/ ./ 然而/ ,/ 由于/ 机会/ 网络/ 中/ 节点/ 的/ 资源/ (/ 包括/ 能量/ 和/ 缓存/ )/ 有限/ ,/ 为了/ 节约资源/ ,/ 节点/ 会/ Page2/ 拒绝/ 帮助/ 其它/ 节点/ 转发/ 消息/ ./ 这种/ 自私/ 行为/ 使得/ 现有/ 的/ 路由/ 机制/ 无法/ 正常/ 工作/ ,/ 从而/ 导致/ 网络/ 性能/ 退化/ [/ 5/ ]/ ./ 因此/ 机会/ 网络/ 中/ 的/ 节点/ 自私/ 问题/ 是/ 一个/ 迫切需要/ 解决/ 的/ 问题/ ./ 目前/ ,/ 解决/ 节点/ 自私/ 问题/ 的/ 研究/ 工作/ 主要/ 集中/ 于/ 设计/ 节点/ 的/ 激励/ 策略/ ./ 已有/ 的/ 节点/ 激励/ 策略/ 主要/ 可以/ 分为/ 三类/ :/ 基于/ Reputation/ 的/ 策略/ [/ 6/ ]/ 、/ 基于/ tit/ -/ for/ -/ tit/ (/ TFT/ )/ 的/ 策略/ [/ 7/ ]/ 和/ 基于/ Credit/ 的/ 策略/ [/ 8/ ]/ ./ 基于/ Reputation/ [/ 6/ ]/ 的/ 策略/ 的/ 主要/ 思想/ 是/ 根据/ 节点/ 的/ 行为/ 来/ 评价/ 节点/ 是否/ 可以/ 被/ 信任/ ./ 每个/ 节点/ 都/ 维护/ 一个/ 信誉/ 表/ ,/ 里面/ 存放/ 其它/ 节点/ 的/ 信誉/ 值/ ./ 在/ 转发/ 数据/ 时/ ,/ 选择/ 信誉/ 值/ 较大/ 的/ 节点/ 作为/ 下/ 一/ 跳/ 节点/ ./ 基于/ TFT/ [/ 7/ ]/ 的/ 策略/ 主要/ 是/ 根据/ 互惠/ 原则/ ,/ 一个/ 节点/ 帮助/ 其它/ 节点/ 转发/ 的/ 数据量/ 与/ 其它/ 节点/ 帮助/ 此/ 节点/ 转发/ 的/ 数据量/ 相同/ ./ 基于/ Credit/ [/ 8/ ]/ 的/ 策略/ 主要/ 是/ 把/ 数据/ 转发/ 过程/ 模型/ 化为/ 一种/ 可以/ 定价/ 的/ 交易/ ./ 并且/ 引入/ 了/ 虚拟/ 货币/ 用以/ 在/ 交易/ 中/ 进行/ 支付/ ./ 消息/ 投递/ 成功/ 后/ ,/ 作为/ 回报/ ,/ 消息/ 的/ 源/ 节点/ 要/ 向/ 帮助/ 转发/ 的/ 中继/ 节点/ 支付/ 虚拟/ 货币/ ./ 然而/ 以上/ 激励/ 策略/ 存在/ 很多/ 不足/ :/ 由于/ 机会/ 网络/ 的/ 网络/ 环境/ 复杂多变/ ,/ 基于/ Reputation/ 的/ 策略/ [/ 6/ ]/ ,/ 很难/ 有效/ 地/ 监听/ 节点/ 的/ 行为/ ,/ 并且/ 不能/ 有效/ 地/ 刺激/ 低/ 信誉/ 节点/ 合作/ ./ 而/ 在/ 基于/ TFT/ 的/ 策略/ [/ 7/ ]/ 中/ ,/ 节点/ 间/ 只能/ 实现/ 相同/ 业务量/ 的/ 传输/ ,/ 因此/ 该/ 策略/ 只/ 适用/ 于/ 业务/ 完全/ 对称/ 的/ 网络/ ./ 但是/ 在/ 现实/ 应用/ 中/ ,/ 大部分/ 业务/ 都/ 是/ 非对称/ 业务/ ,/ 该/ 策略/ 难以实现/ 较/ 好/ 的/ 网络/ 性能/ ./ 在/ 基于/ Credit/ 的/ 策略/ [/ 8/ ]/ 中/ ,/ 网络拓扑/ 是/ 一种/ 从/ 节点/ 移动/ 轨迹/ 中/ 提取/ 生成/ 的/ 接触/ 图/ ,/ 并且/ 假设/ 节点/ 具有/ 全局知识/ ./ 该/ 策略/ 应用/ 在/ 机会/ 网络/ 中/ ,/ 显然/ 具有/ 一定/ 的/ 局限性/ ./ 同时/ ,/ 上述/ 激励/ 策略/ 只是/ 一味/ 地/ 追求/ 激励/ 节点/ 合作/ ,/ 并/ 没有/ 深入/ 考虑/ 节点/ 的/ 自身/ 状态/ (/ 资源/ 和/ 拥有/ 的/ 虚拟/ 货币/ )/ 对/ 节点/ 行为/ 的/ 影响/ ,/ 具有/ 一定/ 的/ 盲目性/ ./ 这/ 反映/ 在/ 当/ 节点/ 的/ 资源/ 匮乏/ 时/ ,/ 上述/ 的/ 激励/ 策略/ 不仅/ 不能/ 提升/ 网络/ 性能/ ,/ 还会/ 因/ 资源/ 的/ 过度/ 使用/ ,/ 造成/ 节点/ 因/ 能量/ 耗尽/ 而/ 无法/ 实现/ 正常/ 通信/ 或/ 因/ 发生/ 拥塞/ 而/ 造成/ 丢包/ ,/ 从而/ 导致/ 网络/ 性能/ 退化/ ./ 因此/ ,/ 本文/ 综合/ 考虑/ 机会/ 网络/ 中/ 节点/ 自身/ 状态/ 及/ 消息/ 属性/ 等/ 因素/ 的/ 影响/ ,/ 设计/ 一种/ 合理/ 的/ 节点/ 激励/ 策略/ ./ 2/ 网络/ 模型/ 和/ 设计/ 目标/ 2.1/ 网络/ 模型/ 从/ 机会/ 网络/ 的/ 本质特征/ 出发/ ,/ 本文/ 考虑/ 一般化/ 的/ 机会/ 网络/ 作为/ 网络/ 模型/ ./ 网络/ 被/ 抽象/ 为/ 一个/ 非/ 连通/ 有向图/ G/ =/ (/ v/ ,/ e/ )/ ,/ 其中/ 顶点/ v/ 表示/ 网络/ 中/ 的/ 节点/ ,/ 而边/ e/ 则/ 代表/ 节点/ 间/ 的/ 接触/ ./ 机会/ 网络/ 中/ 的/ 节点/ 拥有/ 有限/ 的/ 能量/ 和/ 缓存/ ,/ 且/ 能量/ 是/ 不可/ 再生/ 的/ ./ 一旦/ 节点/ 的/ 能量/ 耗尽/ ,/ 那么/ 节点/ 将/ 无法/ 继续/ 通信/ ./ 为了/ 保证/ 正常/ 工作/ ,/ 节点/ 会/ 节约/ 自身/ 资源/ ,/ 从而/ 表现/ 出/ 自私/ 性/ ./ 由于/ 不/ 存在/ 端到/ 端的/ 持续/ 连接/ ,/ 源/ 节点/ Sou/ 通过/ 中间/ 节点/ 的/ 移动/ 与/ 合作/ ,/ 并/ 按照/ 设定/ 的/ 路由/ 机制/ 将/ 消息/ 交付/ 到/ 目的/ 节点/ Des/ ./ 在/ 机会/ 网络/ 中/ ,/ 路由/ 算法/ 按照/ 网络/ 中/ 消息/ 的/ 副本/ 数/ ,/ 可以/ 分为/ 两类/ :/ 单/ 副本/ 路由/ 算法/ 和/ 多/ 副本/ 路由/ 算法/ ./ 由于/ 多/ 副本/ 路由/ 算法/ 需要/ 消耗/ 、/ 占用/ 大量/ 的/ 网络资源/ ,/ 本文/ 将/ 采用/ 单/ 副本/ 路由/ 算法/ 来/ 诠释/ 提出/ 的/ 节点/ 激励/ 策略/ ./ 本文/ 基于/ 如下/ 假设/ 展开/ 理论/ 分析/ :/ (/ 1/ )/ 如果/ 一个/ 节点/ 是/ 自私/ 节点/ ,/ 那么/ 此/ 节点/ 不会/ 接收/ 其它/ 节点/ 的/ 消息/ ,/ 除非/ 它/ 是/ 此/ 消息/ 的/ 目的/ 节点/ ./ (/ 2/ )/ 自私/ 节点/ 是/ 有限/ 理性/ 的/ ,/ 即/ 节点/ 在/ 自身/ 状态/ 允许/ 时/ ,/ 追求/ 自身/ 利益/ 的/ 最大化/ ;/ 同时/ 节点/ 只/ 考虑/ 现在/ 接收/ 消息/ 时/ 是否/ 受益/ ,/ 而/ 不/ 考虑/ 之后/ 将/ 消息/ 卖出/ 时/ ,/ 是否/ 会/ 入不敷出/ ./ (/ 3/ )/ 自私/ 节点/ 并/ 不是/ 恶意/ 节点/ ./ 节点/ 不会/ 故意/ 删除/ 消息/ ,/ 而是/ 同等/ 地/ 对待/ 缓存/ 中/ 的/ 所有/ 消息/ ./ 同时/ 根据/ 自身/ 状态/ ,/ 按照/ 定价/ 机制/ 真实/ 地/ 定价/ 、/ 报价/ ./ 2.2/ 设计/ 目标/ 本文/ 提出/ 的/ 策略/ 要/ 达到/ 以下/ 两个/ 设计/ 目标/ :/ (/ 1/ )/ 有效性/ ./ 提出/ 的/ 激励/ 策略/ 必须/ 可以/ 有效/ 地/ 刺激/ 自私/ 节点/ 合作/ 并/ 参与/ 消息/ 的/ 转发/ ,/ 从而/ 提高/ 消息/ 的/ 交付/ 率/ ./ (/ 2/ )/ 实用性/ ./ 当/ 网络/ 中/ 的/ 资源/ 受限/ 或者/ 负载/ 较多时/ ,/ 提出/ 的/ 策略/ 仍然/ 可以/ 实现/ 较/ 好/ 的/ 网络/ 性能/ ./ 3/ 基于/ 买卖/ 模型/ 的/ 节点/ 激励/ 策略/ 本文/ 提出/ 一种/ 基于/ 买卖/ 模型/ 的/ 节点/ 激励/ 策略/ (/ BargainingbasedIncentiveProtocol/ ,/ BIP/ )/ ./ BIP/ 策略/ 是/ 一种/ 基于/ Credit/ 的/ 策略/ ,/ 与/ 已有/ 工作/ 不同/ ,/ BIP/ 策略/ 重点/ 研究/ 节点/ 自身/ 状态/ 及/ 消息/ 属性/ 对/ 节点/ 定价/ 的/ 影响/ ./ BIP/ 策略/ 不/ 需要/ 受/ 信任/ 的/ 第三方/ 来/ 管理/ 交易/ ,/ 而是/ 节点/ 各自/ 管理/ 自己/ 的/ 虚拟/ 货币/ ,/ 并/ 在/ 每次/ 交易/ 完成/ 后/ ,/ 立刻/ 为/ 其/ 发送/ 的/ 消息/ 进行/ 货币/ 支付/ ,/ 而/ 不/ 考虑/ 此/ 消息/ 的/ 来源/ ./ BIP/ 策略/ 主要/ 利用/ 买卖/ 模型/ ,/ 通过/ 设计/ 定价/ 机制/ ,/ 合理/ 地/ 激励/ 自私/ 节点/ 合作/ ,/ 同时/ 有/ Page3/ 效地/ 解决/ 合作/ 的/ 盲目性/ 问题/ ,/ 进而/ 提高/ 消息/ 的/ 交付/ 率/ ,/ 减少/ 能量消耗/ ./ BIP/ 策略/ 主要/ 由/ 三/ 部分/ 组成/ ,/ 分别/ 是/ :/ 环境/ 属性/ 、/ 买卖/ 模型/ 和/ 消息/ 转发/ ./ 环境/ 属性/ 主要/ 是/ 影响/ 节点/ 定价/ 的/ 因素/ ,/ 买卖/ 模型/ 是/ 节点/ 交易/ 的/ 规则/ ,/ 消息/ 转发/ 则/ 是/ 消息/ 的/ 传递/ 过程/ ./ 3.1/ 环境/ 属性/ 在/ 机会/ 网络/ 中/ ,/ 很多/ 因素/ 会/ 影响/ 节点/ 的/ 合作/ 意愿/ ,/ 进而/ 影响/ 节点/ 对/ 消息/ 的/ 定价/ ./ 因此/ BIP/ 策略/ 主要/ 考虑/ 比较/ 重要/ 的/ 环境/ 属性/ ,/ 包括/ 节点/ 的/ 剩余/ 资源/ 、/ 节点/ 的/ 财富/ 以及/ 消息/ 属性/ ./ 3.1/ ./ 1/ 节点/ 的/ 剩余/ 资源/ 节点/ 的/ 剩余/ 资源/ 是/ 当前/ 时刻/ 节点/ 所/ 拥有/ 的/ 资源/ ,/ 主要/ 包括/ 节点/ 的/ 空闲/ 缓存/ 空间/ 和/ 剩余/ 能量/ ./ 其中/ 前者/ 用/ 剩余/ 空间/ 百分比/ 表示/ ,/ 后者/ 用/ 剩余/ 能量/ 百分比/ 表示/ ./ 剩余/ 空间/ 百分比/ 是/ 当前/ 时刻/ 节点/ 的/ 空闲/ 缓存/ 空间/ 大小/ 与/ 初始/ 缓存/ 空间/ 大小/ 之/ 比/ ,/ 表示/ 节点/ 存储/ 消息/ 的/ 能力/ ./ 节点/ i/ 的/ 剩余/ 空间/ 百分比/ 定义/ 为/ 其中/ ,/ Bi/ 表示/ 节点/ i/ 的/ 剩余/ 空间/ 百分比/ ,/ 而/ Bfi/ 和/ Bmaxi/ 分别/ 是/ 节点/ i/ 当前/ 时刻/ 的/ 空闲/ 缓存/ 空间/ 和/ 初始/ 缓存/ 空间/ ./ 节点/ i/ 的/ 剩余/ 空闲/ 百分比/ 越大/ ,/ 表示/ 节点/ 存储/ 能力/ 越强/ ,/ 此时/ 节点/ 越/ 愿意/ 合作/ ,/ 越/ 愿意/ 接收/ 其它/ 节点/ 将要/ 发送/ 的/ 消息/ ./ 剩余/ 能量/ 百分比/ 是/ 当前/ 时刻/ 节点/ 的/ 剩余/ 能量/ 值/ 与/ 节点/ 的/ 初始/ 能量/ 值/ 之/ 比/ ,/ 表示/ 节点/ 转发/ 消息/ 的/ 能力/ ./ 节点/ i/ 的/ 剩余/ 能量/ 百分比/ 定义/ 为/ 其中/ ,/ Ei/ 表示/ 节点/ i/ 的/ 剩余/ 能量/ 百分比/ ,/ 而/ ECi/ 和/ Emaxi/ 分别/ 是/ 节点/ i/ 当前/ 时刻/ 的/ 剩余/ 能量/ 和/ 初始/ 能量/ ./ 节点/ i/ 的/ 剩余/ 能量/ 百分比/ 越大/ ,/ 表示/ 节点/ 可以/ 发送/ 的/ 消息/ 越/ 多/ ,/ 此时/ 节点/ 合作/ 意愿/ 越/ 强烈/ ,/ 越/ 愿意/ 帮助/ 其它/ 节点/ 转发/ 消息/ ./ 3.1/ ./ 2/ 节点/ 的/ 财富/ 节点/ 的/ 财富/ 与/ 当前/ 时刻/ 节点/ 所/ 拥有/ 的/ 虚拟/ 货币/ 值/ 有关/ ./ 因为/ 节点/ 具有/ 不同/ 的/ 财富/ 时会/ 表现/ 出/ 不同/ 的/ 转发/ 意愿/ ,/ 所以/ 根据/ 节点/ 现有/ 的/ 虚拟/ 货币/ 值/ ,/ 将/ 节点/ 经济/ 情况/ 分为/ 三种/ 状态/ :/ 富裕/ 状态/ 、/ 中等/ 状态/ 和/ 贫困/ 状态/ ./ 令/ V/ (/ 0/ )/ 为/ 节点/ 的/ 初始/ 货币/ 值/ ,/ Vi/ (/ t/ )/ 为/ 时刻/ t/ 节点/ i/ 所/ 拥有/ 的/ 虚拟/ 货币/ ./ V1/ 同/ 的/ 门/ 限值/ ,/ 并且/ 满足/ 前者/ 大于/ 后者/ ./ 如果/ Vi/ (/ t/ )/ >/ TH/ ,/ 则/ 表示/ 节点/ 处于/ 富裕/ 状态/ ;/ 如果/ Vi/ (/ t/ )/ </ V2V1/ 则/ 表示/ 节点/ 处于/ 贫困/ 状态/ ;/ 否则/ 表示/ 节点/ 处于/ 中等/ 状态/ ./ 将/ 节点/ 的/ 财富/ 表示/ 为/ 3.1/ ./ 3/ 消息/ 属性/ 消息/ 属性/ 主要/ 包括/ 消息/ 的/ 大小/ 和/ 消息/ 的/ 剩余/ 生存/ 时间/ ./ 在/ 相同/ 业务/ 功能/ 的/ 节点/ 上/ ,/ 能量消耗/ 与其/ 收发/ 的/ 消息/ 大小/ 和/ 消息/ 数量/ 有关/ ./ 消息/ 越大/ ,/ 发送/ 所/ 需/ 的/ 时间/ 越长/ ,/ 消耗/ 的/ 能量/ 越多/ ./ 消息/ 的/ 剩余/ 生存/ 时间/ 是/ 指/ 从/ 当前/ 时刻/ 直到/ 消息/ 过期/ 这/ 段时间/ 长度/ ./ 消息/ 的/ 剩余/ 生存/ 时间/ 反映/ 了/ 消息/ 的/ 紧急/ 程度/ ./ 剩余/ 生存/ 时间/ 越短/ ,/ 表示/ 消息/ 越/ 紧急/ ,/ 越/ 应该/ 尽快/ 转发/ 到/ 目的/ 节点/ ./ 3.2/ 买卖/ 模型/ BIP/ 策略/ 将/ 消息/ 转发/ 过程/ 转化/ 为/ 两人/ 单轮/ 买卖/ 过程/ ./ 当/ 相遇/ 的/ 两个/ 节点/ 中/ 存在/ 自私/ 节点/ 时/ ,/ 每个/ 消息/ 的/ 转发/ 都/ 需要/ 通过/ 买卖/ 来/ 实现/ ./ 其中/ ,/ 发送/ 消息/ 节点/ 作为/ 买方/ ,/ 接收/ 消息/ 节点/ 作为/ 卖方/ ./ 在/ 买卖/ 过程/ 中/ ,/ 买方/ 通过/ 支付/ 货币/ 的/ 方式/ 购买/ 卖方/ 的/ 转发/ 服务/ ./ 其中/ ,/ 转发/ 服务/ 的/ 价格/ 为/ 每/ 字节/ 数据量/ 一/ 单位/ 虚拟/ 货币/ ./ 在/ 买卖/ 过程/ 中/ ,/ 双方/ 知道/ 对方/ 的/ 价格/ ,/ 但/ 并/ 不/ 了解/ 买卖双方/ 各自/ 的/ 资源/ 和/ 财富/ 状况/ ./ 3.2/ ./ 1/ 买卖/ 规则/ 买卖/ 的/ 初始/ 阶段/ ,/ 买方/ 和/ 卖方/ 根据/ 定价/ 机制/ 定价/ ,/ 然后/ 分别/ 出价/ ,/ 假设/ 出价/ 分别/ 为/ b/ 和/ s/ ./ 如果/ b/ / s/ ,/ 则/ 买卖双方/ 达成/ 交易/ ,/ 交易/ 的/ 价格/ 为/ p/ =/ 0.5/ (/ b/ +/ s/ )/ ;/ 如果/ b/ </ s/ ,/ 则/ 双方/ 交易/ 失败/ ./ 当/ 以上/ 任意/ 一种/ 情况/ 出现/ 时/ ,/ 本次/ 交易/ 结束/ ./ 买卖双方/ 继续/ 尝试/ 交易/ 下/ 一个/ 消息/ ./ 3.2/ ./ 2/ 买方/ 出价/ 函数/ 当/ 发送/ 消息/ 时/ ,/ 作为/ 买方/ ,/ 发送/ 节点/ S/ 对/ 消息/ 的/ 定价/ ,/ 主要/ 考虑/ 自身/ 的/ 空闲/ 缓存/ 空间/ 、/ 自身/ 的/ 财富/ 情况/ 以及/ 此/ 消息/ 的/ 消息/ 属性/ ./ 节点/ 的/ 空闲/ 缓存/ 空间/ 越小/ ,/ 为了/ 减缓/ 缓存/ 压力/ ,/ 节点/ 发送/ 消息/ 的/ 意愿/ 就/ 越/ 强烈/ ./ 而/ 消息/ 的/ 剩余/ 生存/ 时间/ 越小/ ,/ 消息/ 越/ 紧急/ ,/ 节点/ 应该/ 尽快/ 将/ 其/ 转发/ ./ 同时/ ,/ 如果/ 一个/ 节点/ 处于/ 富裕/ 状态/ ,/ 那么/ 节点/ 愿意/ 以/ 一个/ 相对/ 高/ 的/ 价格/ 转发/ 消息/ ./ 因此/ ,/ 出价/ 函数/ 可以/ 定义/ 为/ Page4/ 其中/ ,/ l/ 是/ 消息/ 的/ 大小/ ,/ BS/ 是/ 发送/ 节点/ S/ 的/ 剩余/ 空间/ 百分比/ ,/ Tres/ 和/ TTTL/ 分别/ 是/ 消息/ 的/ 剩余/ 生存/ 时间/ 和/ 生存/ 时间/ ./ 而/ ε/ 和/ ω/ 是/ 两个/ 权重/ 值/ ,/ 表示/ 节点/ 对于/ 自身/ 缓存/ 空间/ 和/ 消息/ 剩余/ 生存/ 时间/ 的/ 偏好/ ,/ 且/ 满足/ ε/ +/ ω/ =/ 1/ ./ WS/ =/ WS/ ,/ 富裕/ 状态/ 由式/ (/ 4/ )/ 可知/ ,/ 节点/ 会/ 尽快/ 且/ 诚实/ 地/ 转发/ 消息/ ,/ 因为/ 随着/ 消息/ 在/ 节点/ 处/ 停滞/ 的/ 时间/ 变/ 长/ ,/ 消息/ 的/ 剩余/ 生存/ 时间/ 变小/ ,/ 此时/ 节点/ 要/ 发送/ 消息/ ,/ 所/ 支付/ 的/ 报酬/ 会/ 较/ 高/ ./ 同时/ 消息/ 长时间/ 占用/ 节点/ 的/ 缓存/ 空间/ ,/ 使得/ 节点/ 的/ 空闲/ 缓存/ 空间/ 变小/ ,/ 导致/ 节点/ 在/ 转发/ 其它/ 消息/ 时/ ,/ 也/ 需要/ 支付/ 较/ 高/ 的/ 报酬/ ./ 相反/ ,/ 如果/ 节点/ 尽快/ 转发/ 其它/ 节点/ 的/ 消息/ ,/ 那么/ 空闲/ 缓存/ 空间/ 会/ 变大/ ,/ 此时/ 节点/ 可以/ 以/ 相对/ 低/ 的/ 价格/ 实现/ 其它/ 消息/ 的/ 转发/ ./ 3.2/ ./ 3/ 卖方/ 的/ 要价/ 函数/ 作为/ 卖方/ ,/ 接收/ 节点/ R/ 在/ 为/ 其/ 转发/ 服务/ 定价/ 时/ ,/ 主要/ 考虑/ R/ 自身/ 的/ 资源/ 和/ 财富/ ./ 作为/ 一个/ 理性/ 实体/ ,/ 当/ 节点/ R/ 自身/ 资源/ 短缺/ 时/ ,/ 为了/ 节省/ 资源/ ,/ 其/ 转发/ 意愿/ 会/ 降低/ ./ 但是/ ,/ 当/ 节点/ 处于/ 贫困/ 状态/ 时/ ,/ 节点/ 需要/ 通过/ 转发/ 其它/ 节点/ 的/ 消息/ 来/ 获得/ 虚拟/ 货币/ ,/ 以便/ 保证/ 自身/ 消息/ 的/ 转发/ ,/ 所以/ 相对/ 于/ 节点/ 处于/ 其它/ 状态/ ,/ 在/ 相同/ 的/ 资源/ 情况/ 下/ ,/ 节点/ 处于/ 贫困/ 时/ 的/ 合作/ 意愿/ 相对/ 比较/ 强烈/ ./ 因此/ ,/ 节点/ 处于/ 贫困/ 时/ ,/ 会/ 综合/ 考虑/ 自身/ 资源/ 和/ 财富/ 进行/ 定价/ ;/ 否则/ ,/ 仅/ 考虑/ 节点/ 自身/ 资源/ 的/ 影响/ ./ 于是/ 卖方/ 的/ 要价/ 函数/ 定义/ 为/ 其中/ ,/ l/ 是/ 消息/ 的/ 大小/ ,/ WR/ =/ WR/ ,/ 贫困/ 状态/ 是/ 节点/ R/ 的/ 财富/ ./ 同时/ RR/ 表示/ 节点/ R/ 当前/ 的/ 剩余/ 资源/ 对/ 定价/ 的/ 影响/ ,/ 可以/ 表示/ 为/ 其中/ BR/ ,/ ER/ 分别/ 是/ 节点/ R/ 的/ 剩余/ 空间/ 百分比/ 和/ 剩余/ 能量/ 百分比/ ./ α/ ,/ β/ 是/ 两个/ 加权/ 值/ ./ 由于/ 节点/ 的/ 剩余/ 缓存/ 空间/ 的/ 变化/ 是/ 可逆/ 的/ ,/ 而/ 能量/ 是/ 严格/ 递减/ 的/ ,/ 并且/ 只要/ 二者/ 之一/ 变小/ ,/ 节点/ 的/ 合作/ 意愿/ 就/ 会/ 降低/ ,/ 所以/ 可以/ 采用/ 自/ 适应/ 加权/ ./ 当/ 剩余/ 空间/ 百分比/ 小于/ 剩余/ 能量/ 百分比/ 时/ ,/ 前者/ 对/ 价格/ 的/ 影响/ 较大/ ;/ 反之亦然/ ./ 这/ 两个/ 加权/ 值/ 的/ 定义/ 式/ 如下/ :/ 由/ 要价/ 函数/ 可知/ ,/ 节点/ 在/ 自身/ 资源/ 允许/ 的/ 情况/ 下/ ,/ 会/ 尽量/ 接收/ 其它/ 节点/ 的/ 消息/ ./ 原因/ 是/ ,/ 如果/ 节点/ 自私/ 地仅/ 转发/ 自己/ 的/ 消息/ 而/ 不/ 帮助/ 其它/ 节点/ 转发/ 消息/ ,/ 那么/ 节点/ 的/ 虚拟/ 货币/ 会/ 快速/ 地/ 消耗/ ,/ 同时/ 由于/ 自身/ 消息/ 的/ 持续/ 转发/ ,/ 节点/ 的/ 空闲/ 缓存/ 空间/ 会/ 变大/ ,/ 导致/ 节点/ 的/ 要价/ 变/ 低/ ,/ 反而/ 可以/ 促进/ 交易/ 的/ 成功/ ./ 而/ 当/ 节点/ 的/ 资源/ 严重不足/ 时/ ,/ 节点/ 的/ 要价/ 会/ 很/ 高/ ,/ 可能/ 导致/ 交易/ 失败/ ,/ 但是/ 却/ 可以/ 减缓/ 资源/ 的/ 压力/ ,/ 有助于/ 避免/ 拥塞/ ,/ 同时/ 促进/ 利用/ 资源/ 相对/ 较/ 多/ 的/ 节点/ 转发/ 消息/ ./ 3.3/ 消息/ 转发/ 在/ 消息/ 转发/ 过程/ 中/ ,/ 节点/ 按照/ 单/ 副本/ 概率/ 路由/ 算法/ 转发/ 消息/ ./ 这种/ 单/ 副本/ 概率/ 路由/ 采用/ 与/ PROPHET/ [/ 9/ ]/ 相同/ 的/ 相遇/ 概率/ 预测/ 作为/ 转发/ 度量/ ./ 图/ 1/ 描述/ 了/ 消息/ 转发/ 的/ 一般/ 过程/ ./ 具体/ 的/ 转发/ 过程/ 描述/ 如下/ :/ (/ 1/ )/ 准备/ 阶段/ ./ 假设/ M/ 是/ 节点/ S/ 缓存/ 中/ 的/ 消息/ ,/ 当/ 节点/ S/ 与/ 节点/ R/ 相遇/ 时/ ,/ 如果/ 节点/ R/ 与/ 消息/ M/ 的/ 目的/ 节点/ 的/ 相遇/ 概率/ 大于/ 节点/ S/ ,/ 那么/ 节点/ S/ 根据/ 式/ (/ 4/ )/ 计算/ 消息/ M/ 的/ 价格/ b/ ,/ 并/ 准备/ 将/ 消息/ M/ 转发给/ 节点/ R/ ./ (/ 2/ )/ 服务/ 请求/ ./ 节点/ S/ 首先/ 发起/ 会话/ ,/ 然后/ 发送/ 请求/ 信息/ 到/ 节点/ R/ ,/ 请求/ 信息/ 包括/ 的/ 内容/ 有/ 消息/ M/ 的/ id/ (/ 身份/ 识别码/ )/ 、/ 目的/ 节点/ 、/ 消息/ 大小/ 和/ 节点/ S/ 的/ 出价/ b/ ./ (/ 3/ )/ 服务/ 确认/ ./ 节点/ R/ 收到/ 请求/ 信息/ 后/ ,/ 如果/ 节点/ R/ 确认/ 第一次/ 收到/ 消息/ M/ 并且/ 不是/ 消息/ M/ 的/ 目的/ 节点/ ,/ 那么/ 节点/ R/ 将/ 按照/ 式/ (/ 5/ )/ 计算/ 要价/ s/ ./ 如果/ 节点/ R/ 的/ 要价/ 小于/ 节点/ S/ 的/ 出价/ ,/ 那么/ 节点/ R/ 将/ 反馈/ 给/ 节点/ S/ 确认/ 信息/ ,/ 包括/ 消息/ 的/ id/ 和/ 成交/ 的/ 价格/ ,/ 表示/ 节点/ R/ 愿意/ 接收/ 消息/ M/ ./ (/ 4/ )/ 发送/ 消息/ ./ 节点/ S/ 收到/ 服务/ 确认/ 后/ ,/ 开始/ 发送/ 消息/ M/ ./ (/ 5/ )/ 更新/ ./ 在/ 完成/ 消息/ M/ 的/ 转发/ 后/ ,/ 节点/ S/ 扣除/ 0.5/ (/ b/ +/ s/ )/ 单位/ 虚拟/ 货币/ ,/ 同时/ 节点/ R/ 增加/ 0.5/ (/ b/ +/ s/ )/ 单位/ 虚拟/ 货币/ ,/ 然后/ 节点/ S/ 在/ 自己/ 的/ 缓存/ 中/ 删除/ 消息/ M/ ./ Page54/ 博弈/ 分析/ 上面/ 详细/ 地/ 介绍/ 了/ BIP/ 策略/ ,/ 但是/ 在/ 买卖/ 过程/ 中/ ,/ 当/ 交易/ 成功/ ,/ 即/ b/ / s/ 时/ ,/ 会/ 存在/ 一个/ 疑问/ :/ 如何/ 能够/ 保证/ 发送/ 节点/ S/ 会/ 转发/ 消息/ ,/ 同时/ 接收/ 节点/ R/ 愿意/ 接收/ 消息/ ./ 为了/ 解决/ 这个/ 问题/ ,/ 本文/ 将/ 消息/ 转发/ 过程/ 中/ ,/ S/ 和/ R/ 对/ 消息/ 的/ 处理过程/ 抽象/ 为/ 一个/ 信息/ 非对称/ 的/ 动态/ 博弈/ ,/ 并/ 通过/ 博弈/ 分析/ 证明/ BIP/ 策略/ 可以/ 约束/ 节点/ 行为/ ,/ 即/ 节点均/ 会/ 诚实/ 地/ 按照/ BIP/ 策略/ 参与/ 消息/ 的/ 转发/ ./ 4.1/ 消息/ 转发/ 博弈/ 分析/ 本文/ 将/ 消息/ 转发/ 过程/ 转化/ 为/ 一个/ 两/ 阶段/ 动态/ 博弈/ 模型/ ,/ 称为/ 消息/ 转发/ 博弈/ ./ 图/ 2/ 表示/ 此/ 消息/ 转发/ 博弈/ 的/ 扩展/ 形/ ./ 图中/ 以树/ 表示/ 博弈/ 过程/ ,/ 树/ 的/ 每个/ 分支/ (/ 实线/ )/ 表示/ 博弈/ 方/ 的/ 策略/ ,/ 而树/ 的/ 每个/ 叶子/ (/ 黑色/ 实心/ 圆/ )/ 表示/ 博弈/ 方/ 的/ 收益/ ./ 4.1/ ./ 1/ 博弈/ 方/ 及其/ 策略/ 空间/ 消息/ 转发/ 博弈/ 包括/ 两个/ 博弈/ 方/ :/ 发送/ 节点/ S/ 和/ 接收/ 节点/ R/ ./ 发送/ 节点/ S/ 的/ 策略/ 空间/ 包含/ 两种/ 策略/ :/ “/ 转发/ ”/ 与/ “/ 不/ 转发/ ”/ ./ 接收/ 节点/ R/ 的/ 策略/ 空间/ 也/ 包含/ 两种/ 策略/ :/ “/ 接收/ ”/ 与/ “/ 不/ 接收/ ”/ ./ S/ 和/ R/ 将会/ 根据/ 各自/ 能够/ 获得/ 的/ 收益/ 在/ 策略/ 空间/ 中/ 选择/ 其/ 行为/ 策略/ ./ 本文/ 定义/ 一个二元/ 组/ (/ ·/ ,/ ·/ )/ ,/ 表示/ 两个/ 博弈/ 方/ 的/ 策略/ 组合/ ./ 例如/ ,/ 图/ 2/ 中/ ,/ S/ 和/ R/ 选择/ 的/ 一个/ 策略/ 组合/ 可以/ 表示/ 为/ (/ 转发/ ,/ 接收/ )/ ./ 4.1/ ./ 2/ 博弈/ 方/ 收益/ 博弈/ 方/ 收益/ 是/ 指/ 在/ 每/ 一组/ 可能/ 的/ 博弈/ 方/ 策略/ 组合/ 下/ ,/ 各/ 博弈/ 方/ 的/ 所得/ 或/ 所失/ ./ 本文/ 以图/ 2/ 中/ 的/ 叶子/ (/ S/ 的/ 收益/ ,/ R/ 的/ 收益/ )/ 来/ 表示/ 博弈/ 方/ 的/ 收益/ ./ 在/ 图/ 2/ 中/ ,/ pS/ 是/ S/ 通过/ 转发/ 消息/ M/ 得到/ 的/ 收益/ ,/ pR/ 是/ R/ 通过/ 接收/ 消息/ M/ 得到/ 的/ 收益/ ,/ cS/ 是/ S/ 拒绝/ 转发/ 消息/ M/ 所/ 得到/ 的/ 收益/ ,/ 代表/ 此时/ S/ 要/ 付出/ 的/ 代价/ ./ 如果/ S/ 和/ R/ 的/ 策略/ 组合/ 是/ (/ 转发/ ,/ 接收/ )/ ,/ 那么/ 两个/ 博弈/ 方/ 的/ 收益/ 为/ (/ pS/ ,/ pR/ )/ ./ 在/ 买卖/ 过程/ 中/ ,/ S/ 的/ 出价/ 为/ b/ ,/ R/ 的/ 出价/ 为/ s/ ,/ 成交价/ 为/ p/ =/ 0.5/ (/ b/ +/ s/ )/ ./ 由于/ S/ 愿意/ 以/ 价格/ b/ 购买/ R/ 的/ 转发/ 服务/ ,/ 而/ R/ 愿意/ 以/ 价格/ s/ 出售/ 自身/ 的/ 转发/ 服务/ ,/ 所以/ 成交/ 后/ ,/ S/ 的/ 效用/ 和/ R/ 的/ 收益/ 分别/ 为/ 其中/ ,/ pS/ 和/ pR/ 的/ 物理/ 意义/ 分别/ 是/ :/ S/ 相对/ 于/ 自身/ 期望/ 价/ 节省/ 的/ 虚拟/ 货币/ 与/ R/ 相对/ 于/ 自身/ 期望/ 价多/ 赚/ 到/ 的/ 虚拟/ 货币/ ./ 不妨/ 将/ 网络/ 中/ 节点/ 的/ 行为/ 转化/ 为/ 一系列/ 离散/ 事件/ ./ 假设/ 当前/ 时刻/ 为/ t/ ,/ 当/ b/ / s/ 时/ ,/ 如果/ S/ 选择/ 不/ 转发/ 消息/ M/ ,/ 那么/ 下/ 一/ 时刻/ t/ +/ 1/ ,/ S/ 决定/ 转发/ 消息/ 时/ 可以/ 从/ 两个/ 方面/ 考虑/ S/ 所要/ 付出/ 的/ 代价/ ./ (/ 1/ )/ S/ 要/ 转发/ 消息/ M/ ./ 由于/ M/ 的/ 剩余/ 生存/ 时间/ 是/ 严格/ 递减/ 的/ ,/ 所以/ 在/ 节点/ 自身/ 状态/ 相同/ 时/ ,/ S/ 将会/ 支付/ 更/ 高/ 的/ 报酬/ ,/ 因此/ 这部分/ 机会成本/ c1/ 可以/ 表示/ 为/ 其中/ ,/ lM/ 表示/ 消息/ M/ 的/ 大小/ ,/ Ttres/ 和/ Tt/ +/ 1res/ 分别/ 是/ 两个/ 时刻/ 下/ M/ 的/ 剩余/ 生存/ 时间/ ./ 其余/ 各个/ 变量/ 的/ 物理/ 意义/ 与/ 式/ (/ 4/ )/ 中/ 相同/ ./ (/ 2/ )/ S/ 要/ 转发/ 其它/ 消息/ ./ 由于/ 在/ 时刻/ t/ ,/ S/ 有/ 机会/ 将/ M/ 转发/ ,/ 从而/ 增大/ 空闲/ 缓存/ 空间/ ,/ 但是/ S/ 选择/ 了/ 不/ 转发/ M/ ,/ 所以/ 在/ 时刻/ t/ +/ 1/ ,/ 转发/ 其它/ 消息/ 时所要/ 付出/ 的/ 机会成本/ 为/ 其中/ ,/ lM/ 表示/ 消息/ M/ 的/ 大小/ ,/ 其余/ 各个/ 变量/ 的/ 物理/ 意义/ 与/ 式/ (/ 4/ )/ 中/ 相同/ ./ 因此/ S/ 选择/ “/ 不/ 转发/ ”/ 时/ 付出/ 的/ 代价/ 至少/ 为/ 消息/ 转发/ 博弈/ 唯一/ 的/ 子/ 博弈/ 完美/ 纳什/ 均衡/ ./ 4.1/ ./ 3/ 均衡/ 分析/ 因为/ 节点/ 是/ 自私/ 且/ 理性/ 的/ ,/ 所以/ 节点/ 完全/ 根据/ 自身/ 可以/ 获得/ 的/ 收益/ 来/ 选择/ 行为/ 策略/ ./ 下面/ 将/ 分析/ 消息/ 转发/ 博弈/ 的/ 子/ 博弈/ 完美/ 纳什/ 均衡/ [/ 10/ ]/ ./ 定理/ 1/ ./ 当/ b/ / s/ 时/ ,/ 策略/ 组合/ (/ 转发/ ,/ 接收/ )/ 是/ 证明/ ./ 由/ 逆/ 推/ 归纳法/ 可知/ ,/ 可以/ 将/ 消息/ 转发/ 博/ (/ 1/ )/ 分析/ 消息/ 转发/ 博弈/ 的/ 第/ 2/ 阶段/ ,/ 即图/ 2/ 中/ 虚线/ 框内/ 的/ 部分/ ./ 首先/ 分析/ 在/ 第/ 2/ 阶段/ 节点/ R/ 的/ 策略/ ,/ 即/ 是否/ 接收/ 消息/ ./ 由于/ pR/ >/ 0/ ,/ 表示/ R/ 选择/ “/ 接收/ ”/ 的/ 收益/ 大于/ 选择/ “/ 不/ 接收/ ”/ 的/ 收益/ ,/ 所以/ R/ 必然/ 会/ 选择/ “/ 接收/ ”/ ./ 因此/ 一旦/ 博弈/ 进行/ 到/ 这个/ 阶段/ ,/ 结果/ 弈/ 分为/ 两步/ 进行/ 分析/ ./ Page6/ 必然/ 是/ R/ 选择/ “/ 接收/ ”/ ,/ 双方/ 收益/ 为/ (/ pS/ ,/ pR/ )/ ./ 此时/ ,/ 两/ 阶段/ 的/ 消息/ 转发/ 博弈/ 与/ 图/ 3/ 中/ 的/ 单/ 阶段/ 博弈/ 完全/ 等价/ ./ (/ 2/ )/ 分析/ 与/ 此/ 消息/ 转发/ 博弈/ 等价/ 的/ 单/ 阶段/ 博弈/ ./ 由图/ 3/ 可知/ ,/ S/ 必然/ 会/ 选择/ 策略/ “/ 转发/ ”/ ./ 因为/ 有/ pS/ >/ 0/ >/ -/ cS/ ,/ 所以/ S/ 选择/ “/ 转发/ ”/ 的/ 收益/ 大于/ 选择/ “/ 不/ 转发/ ”/ 的/ 收益/ ./ 因此/ ,/ 通过/ 以上/ 两步/ 分析/ 可知/ :/ S/ 在/ 第/ 1/ 阶段/ 选择/ “/ 转发/ ”/ ,/ R/ 在/ 第/ 2/ 阶段/ 选择/ “/ 接收/ ”/ ,/ 就是/ 运用/ 逆/ 推/ 归纳法/ 得出/ 的/ 策略/ 组合/ ,/ 也/ 就是/ 消息/ 转发/ 博弈/ 唯一/ 的/ 子/ 博弈/ 完美/ 纳什/ 均衡/ ./ 通过/ 以上/ 均衡/ 分析/ 可知/ ,/ R/ 在/ 成为/ M/ 的/ 携带者/ 后/ ,/ 也/ 会/ 诚实/ 地/ 转发/ M/ ./ 因此/ ,/ BIP/ 策略/ 可以/ 严格/ 地/ 约束/ 买卖双方/ 的/ 行为/ ,/ 进而/ 刺激/ 节点/ 合作/ ./ 5/ 性能/ 评估/ 本文/ 采用/ 由/ 芬兰/ 赫尔辛基/ 科技/ 大学/ 开发/ 的/ ONE/ (/ OpportunisticNetworkingEnvironment/ )/ [/ 11/ ]/ 作为/ 仿真/ 平台/ ,/ 以单/ 副本/ 概率/ 路由/ 为/ 路由/ 机制/ ,/ 验证/ BIP/ 策略/ 的/ 有效性/ 和/ 实用性/ ./ 在/ 仿真/ 中/ ,/ 将/ 主要/ 分析/ 对比/ 以下/ 3/ 种/ 方案/ 的/ 网络/ 性能/ ./ (/ 1/ )/ AC/ 方案/ ./ 网络/ 中/ 的/ 节点/ 都/ 是/ 合作/ 节点/ ,/ 即/ 所有/ 节点均/ 无偿/ 地/ 转发/ 其它/ 节点/ 的/ 消息/ ./ (/ 2/ )/ AS/ 方案/ ./ 网络/ 中/ 的/ 节点/ 都/ 是/ 自私/ 节点/ ./ 此时/ ,/ 消息/ 仅由源/ 节点/ 携带/ ,/ 直到/ 与/ 目的/ 节点/ 相遇/ ,/ 源/ 节点/ 才/ 将/ 消息/ 转发给/ 目的/ 节点/ ./ (/ 3/ )/ AS/ +/ BIP/ 方案/ ./ 网络/ 中/ 的/ 节点/ 都/ 是/ 自私/ 节点/ ,/ 均/ 不/ 帮助/ 其它/ 节点/ 转发/ 消息/ ,/ 但是/ 每个/ 节点/ 都/ 按照/ BIP/ 策略/ 转发/ 消息/ ./ 同时/ 利用/ 以下/ 3/ 个/ 性能参数/ 对/ 上面/ 3/ 种/ 方案/ 的/ 网络/ 性能/ 进行/ 评估/ ./ (/ 1/ )/ 交付/ 率/ ,/ 即/ 成功/ 交付/ 的/ 消息/ 数在/ 产生/ 的/ 原始/ 消息/ 总数/ 中所/ 占/ 的/ 百分比/ ./ 交付/ 率/ 是/ 机会/ 网络/ 中/ 最/ 重要/ 的/ 性能参数/ ./ (/ 2/ )/ 平均/ 相对/ 剩余/ 能量/ ,/ 即/ 交付/ 相同/ 数量/ 的/ 消息/ 时/ ,/ 节点/ 的/ 平均/ 剩余/ 能量/ ,/ 反映/ 消息/ 转发/ 过程/ 中/ 的/ 能量消耗/ 情况/ ./ (/ 3/ )/ 平均/ 相对/ 时延/ ,/ 即/ 交付/ 相同/ 数量/ 的/ 消息/ 时/ ,/ 所/ 需要/ 的/ 平均/ 时间/ ./ 5.1/ 仿真/ 场景/ 1/ 在/ 仿真/ 场景/ 1/ 中/ ,/ 利用/ 芬兰/ 首都/ 赫尔辛基/ 的/ 城市公交/ 路线图/ ,/ 模拟/ 一个/ 稀疏/ 的/ 车载/ 机会/ 网络/ ,/ 区域/ 大小/ 为/ 10000m/ ×/ 15000m/ ,/ 如图/ 4/ 所示/ ./ 网络/ 中共/ 有/ 40/ 个/ 节点/ ,/ 节点/ 随机/ 均匀/ 地/ 分布/ 在/ 8/ 条/ 公交车/ 路线/ 上/ ,/ 并/ 按照/ MapRouteMovement/ 移动/ 模型/ 匀速/ 移动/ ,/ 当/ 节点/ 运动/ 到/ 一个/ 站点/ (/ waypoint/ )/ 时/ ,/ 停止/ 并/ 等待/ 2min/ ,/ 然后/ 朝向/ 路线/ 上/ 的/ 下/ 一个/ 站点/ 匀速/ 移动/ ./ 在/ 仿真/ 开始/ 时/ ,/ 对/ 节点/ 进行/ 初始化/ ,/ 并/ 假设/ 节点/ 只有/ 在/ 发送/ 消息/ 时才/ 会/ 消耗/ 能量/ ./ 仿真/ 默认/ 的/ 参数设置/ 如下/ :/ 节点/ 移动/ 速度/ 为/ 40km/ // h/ ,/ 通信/ 半径/ 为/ 100m/ ./ 节点/ 的/ 初始/ 能量/ 为/ 2000J/ ,/ 发送/ 功率/ 为/ 1W/ ,/ 缓存/ 空间/ 为/ 30MB/ ./ 在/ 网络/ 中/ ,/ 每/ 小时/ 随机/ 均匀/ 地/ 产生/ 60/ 个/ 大小/ 服从/ [/ 0.5/ ,/ 1/ ]/ MB/ 均匀分布/ 的/ 消息/ ,/ 消息/ 的/ 生存/ 时间/ 为/ 5h/ ./ 仿真/ 持续时间/ 为/ 15h/ ,/ 其中/ 最初/ 的/ 1000s/ 是/ 热身/ 时间/ ./ 主要/ 变量/ 为/ 自私/ 比例/ 、/ 缓存/ 空间/ 、/ 初始/ 能量/ 和/ 发包/ 速率/ ./ 仿真/ 结果/ 与/ 分析/ (/ 1/ )/ 不同/ 自私/ 比例/ 对/ 交付/ 率/ 的/ 影响/ ./ 自私/ 比例/ 是/ 网络/ 中/ 自私/ 节点/ 在/ 全部/ 节点/ 中所/ 占/ 的/ 比率/ ./ 图/ 5/ 显示/ ,/ 随/ 自私/ 比例/ 的/ 增加/ ,/ 网络/ 性能/ 会/ 严重/ 退化/ ./ 尤其/ 是/ ,/ 当/ 自私/ 比例/ 由/ 0/ 变化/ 到/ 1/ 时/ ,/ 交图/ 5/ 不同/ 自私/ 比例/ 下/ 采用/ BIP/ 策略/ 与/ 不/ 采用/ BIPPage7/ 付率/ 由/ 61.43/ %/ 降至/ 35.07/ %/ ./ 然而/ ,/ 当/ 采用/ BIP/ 策略/ 时/ ,/ 自私/ 比例/ 的/ 增加/ 对/ 交付/ 率/ 几乎/ 没有/ 影响/ ./ 这/ 是因为/ 采用/ BIP/ 策略/ 时/ ,/ 节点/ 在/ 考虑/ 自身/ 状态/ 允许/ 时/ ,/ 为/ 赚取/ 货币/ 保证/ 自己/ 消息/ 的/ 转发/ ,/ 积极参与/ 到/ 消息/ 转发/ 过程/ 中/ ./ 由此可见/ ,/ BIP/ 策略/ 可以/ 有效/ 地/ 激励/ 节点/ 合作/ ./ (/ 2/ )/ 不同/ 缓存/ 空间/ 、/ 初始/ 能量/ 和/ 发包/ 速率/ 对/ 交由/ 图/ 6/ ~/ 图/ 8/ 可见/ ,/ AS/ +/ BIP/ 、/ AS/ 和/ AC/ 的/ 交付/ 付率/ 的/ 影响/ ./ 率均/ 随/ 缓存/ 空间/ 、/ 初始/ 能量/ 的/ 增加/ 而/ 增大/ ,/ 随/ 发包/ 速率/ 的/ 增加/ 而/ 减小/ ,/ 并且/ BIP/ 策略/ 能够/ 有效/ 地/ 激励/ 节点/ 合作/ ./ 同时/ ,/ 当/ 缓存/ 空间/ 、/ 初始/ 能量/ 分别/ 受限/ 时/ 以及/ 当/ 发包/ 速率/ 增加/ 时/ ,/ AS/ +/ BIP/ 均/ 可/ 实现/ 最高/ 的/ 交付/ 率/ ./ 除此之外/ ,/ 当/ 资源/ 较/ 少时/ (/ 缓存/ 空间/ 、/ 初始/ 能量/ )/ 或/ 负载/ 过重/ 时/ ,/ AC/ 的/ 交付/ 率/ 低于/ AS/ 的/ 交付/ 率/ ,/ 或/ 几乎/ 与/ AS/ 的/ 交付/ 率/ 相同/ ./ 原因/ 是/ :/ 对于/ AC/ ,/ 节点/ 只是/ 一味/ 盲目/ 地/ 进行/ 合作/ ,/ 致使/ 消息/ 的/ 传输/ 次数/ 较/ 多/ ,/ 使得/ 节点/ 缓存/ 容易/ 变满/ ,/ 造成/ 丢包/ ,/ 或/ 消耗/ 了/ 大量/ 的/ 能量/ ,/ 使/ 节点/ 无法/ 正常/ 工作/ ./ 对于/ AS/ ,/ 由于/ 缺少/ 其它/ 节点/ 的/ 合作/ ,/ 消息/ 的/ 交付/ 完全/ 依靠/ 源/ 节点/ 与/ 目的/ 节点/ 接触/ ,/ 从而/ 导致/ 较/ 低/ 的/ 交付/ 率/ ./ 然而/ ,/ 对于/ AS/ +/ BIP/ ,/ 采用/ BIP/ 策略/ ,/ 通过/ 买卖/ 过程/ ,/ 在/ 资源/ 允许/ 时/ ,/ 激励/ 节点/ 保持/ 合作/ ;/ 在/ 资源/ 紧张/ 时/ ,/ 允许/ 节点/ 拒绝/ 合作/ ,/ 以/ 节约资源/ 来/ 保证/ 正常/ 工作/ ,/ 从而/ 实现/ 较/ 高/ 的/ 交付/ 率/ ./ 通过/ 上面/ 分析/ 可知/ ,/ 无论是/ 节点/ 资源/ 受限/ 还是/ 网络/ 中负载/ 过重/ ,/ BIP/ 策略/ 都/ 可以/ 实现/ 较/ 高/ 的/ 交付/ 率/ ,/ 表现/ 了/ 较/ 好/ 的/ 适应能力/ ,/ 具有/ 较强/ 的/ 实用性/ ./ (/ 3/ )/ 不同/ 缓存/ 空间/ 、/ 初始/ 能量/ 和/ 发包/ 速率/ 对/ 平均/ 相对/ 剩余/ 能量/ 的/ 影响/ ./ 图/ 9/ 显示/ ,/ 在/ AC/ 和/ AS/ +/ BIP/ 中/ ,/ 二者/ 的/ 剩余/ 能量/ 随/ 缓存/ 空间/ 的/ 增加/ 而/ 出现/ 下降/ 趋势/ ,/ 对于/ AS/ ,/ 剩余/ 能量/ 几乎/ 无/ 变化/ ./ 在/ 图/ 10/ 中/ ,/ 剩余/ 能量/ 均/ 随/ 节点/ 初始/ 能量/ 的/ 增加/ 而/ 增加/ ./ 图/ 11/ 表明/ ,/ 随着/ 发包/ 速率/ 的/ 增加/ ,/ 三者/ 的/ 剩余/ 能量/ 明显/ 减少/ ./ 在/ 3/ 个/ 变量/ 下/ ,/ AS/ +/ BIP/ 的/ 剩余/ 能量/ 均/ 大于/ AC/ 的/ 剩余/ 能量/ ./ 原因/ 是/ :/ 在/ AS/ 中/ ,/ 每个/ 消息/ 最多/ 被/ 发送/ 一次/ ,/ 因此/ 能耗/ 很少/ ;/ 而/ 在/ AC/ 中/ ,/ 消息/ 无条件/ 地被/ 转发/ ,/ 因此/ 能耗/ 较/ 高/ ;/ 当/ 采用/ BIP/ 策略/ 时/ ,/ 当/ 节点/ 的/ 空闲/ 缓存/ 空间/ 过/ 小/ 或/ 剩余/ 能量/ 过/ 少时/ ,/ 要价/ 较/ 高/ ,/ 可能/ 导致/ 交易/ 失败/ ,/ 减少/ 了/ 转发/ 次数/ ,/ 降低/ 了/ 能量消耗/ ./ Page8/ 图/ 10/ 平均/ 相对/ 剩余/ 能量/ 随/ 初始/ 能量/ 的/ 变化/ 图/ 11/ 平均/ 相对/ 剩余/ 能量/ 随/ 发包/ 速率/ 的/ 变化/ (/ 4/ )/ 不同/ 缓存/ 空间/ 、/ 初始/ 能量/ 和/ 发包/ 速率/ 对/ 平均/ 相对/ 时延/ 的/ 影响/ ./ 由图/ 12/ 、/ 图/ 13/ 可见/ ,/ AC/ 和/ AS/ +/ BIP/ 的/ 平均/ 相对/ 时延/ 随/ 缓存/ 空间/ 和/ 初始/ 能量/ 的/ 增加/ 而/ 降低/ ,/ 而/ 对于/ AS/ ,/ 趋势/ 恰好相反/ ./ 由图/ 14/ 可见/ ,/ 三者/ 的/ 平均/ 时延/ 随/ 发包/ 速率/ 的/ 增加/ 而/ 增加/ ./ 在/ 3/ 个/ 图/ 中/ ,/ AS/ 的/ 时延/ 最大/ ;/ AS/ +/ BIP/ 的/ 时延/ 最小/ ./ 原因/ 是/ :/ AS/ 中/ 消息/ 的/ 交付/ 仅/ 依靠/ 源/ 节点/ 的/ 携带/ ,/ 这/ 在/ 稀疏/ 的/ 机会/ 网络/ 中/ ,/ 需要/ 很长/ 的/ 时间/ ,/ 导致/ 交付/ 的/ 时延/ 很大/ ./ 而/ 对于/ AC/ ,/ 发送/ 节点/ 遇到/ 合适/ 的/ 下/ 一/ 跳/ 节点/ 时/ ,/ 消息/ 无条件/ 地被/ 转发/ ,/ 如果/ 接收/ 节点/ 的/ 空闲/ 缓存/ 空间/ 较/ 小/ ,/ 那么/ 由于/ 缓存/ 限制/ ,/ 接收/ 节点/ 难以/ 接收/ 所有/ 消息/ ,/ 于是/ 发送/ 节点/ 处/ 剩余/ 的/ 消息/ 只能/ 等待/ ,/ 直到/ 与/ 下/ 一个/ 合适/ 的/ 节点/ 相遇/ ,/ 这/ 明显增加/ 了/ 消息/ 在/ 节点/ 处/ 的/ 等待时间/ ./ 在/ AS/ +/ BIP/ 方案/ 中/ ,/ 采用/ BIP/ 策略/ ,/ 节点/ 可以/ 选择/ 剩余/ 缓存/ 空间/ 较大/ 的/ 节点/ 作为/ 消息/ 的/ 下/ 一/ 跳/ 节点/ ,/ 与/ AC/ 相比/ ,/ 在/ 一定/ 程度/ 上/ 降低/ 了/ 消息/ 在/ 节点/ 处/ 的/ 等待时间/ ./ 因此/ ,/ 在/ 交付/ 相同/ 数量/ 的/ 消息/ 时/ ,/ AS/ +/ BIP/ 的/ 时延/ 最小/ ./ 5.2/ 仿真/ 场景/ 2/ 在/ 仿真/ 场景/ 2/ 中/ ,/ 利用/ haggle/ 项目/ 通过/ 国际/ 会议/ Infocom2006/ [/ 12/ ]/ 收集整理/ 得到/ 的/ trace/ 文件/ ,/ 进行/ 真实/ 场景/ 仿真/ ./ 此/ 项目/ 采用/ 蓝牙/ 接口/ 的/ iMote/ 作为/ 实验/ 设备/ ,/ 统计数据/ 的/ 持续时间/ 为/ 3/ 天/ ./ 仿真/ 默认/ 的/ 参数设置/ 如下/ :/ 节点/ 的/ 初始/ 能量/ 为/ 6000J/ ,/ 发送/ 功率/ 为/ 1W/ ,/ 缓存/ 空间/ 为/ 30MB/ ./ 在/ 网络/ 中/ ,/ 每/ 小时/ 随机/ 均匀/ 地/ 产生/ 60/ 个/ 大小/ 服从/ Page9/ [/ 0.5/ ,/ 1/ ]/ MB/ 均匀分布/ 的/ 消息/ ,/ 消息/ 的/ 生存/ 时间/ 为/ 10h/ ./ 仿真/ 最初/ 的/ 3/ 个/ 小时/ 是/ 热身/ 时间/ ./ 主要/ 变量/ 为/ 自私/ 比例/ 和/ 发包/ 速率/ ,/ 评估/ 的/ 网络/ 性能/ 主要/ 是/ 交付/ 率/ 和/ 平均/ 相对/ 剩余/ 能量/ ./ 仿真/ 结果/ 与/ 分析/ (/ 1/ )/ 不同/ 自私/ 比例/ 对/ 交付/ 率/ 的/ 影响/ ./ 由图/ 15/ 可见/ ,/ 当/ 自私/ 比例/ 由/ 0/ 变化/ 到/ 1/ 时/ ,/ 交付/ 率/ 由/ 45.72/ %/ 降至/ 24.69/ %/ ./ 然而/ ,/ 当/ 采用/ BIP/ 策略/ 时/ ,/ 自私/ 比例/ 的/ 增加/ 对/ 交付/ 率/ 几乎/ 没有/ 影响/ ./ 从而/ 验证/ 了/ BIP/ 策略/ 的/ 有效性/ ./ 图/ 15/ 不同/ 自私/ 比例/ 下/ 采用/ BIP/ 策略/ 与/ 不/ 采用/ BIP/ (/ 2/ )/ 不同/ 发包/ 速率/ 对/ 交付/ 率/ 与/ 平均/ 相对/ 剩余/ 能量/ 的/ 影响/ ./ 如图/ 16/ 所示/ ,/ AC/ 、/ AS/ +/ BIP/ 的/ 交付/ 率均/ 随/ 发包/ 速率/ 的/ 加快/ 而/ 显著/ 降低/ ,/ 而/ AS/ 的/ 交付/ 率/ 无/ 明显/ 变化/ ./ 但是/ ,/ AS/ +/ BIP/ 与/ AC/ 相比/ ,/ 能够/ 实现/ 较/ 好/ 的/ 交付/ 率/ ./ 从而/ 验证/ 了/ BIP/ 策略/ 的/ 实用性/ ./ 发包/ 速率/ 越大/ ,/ 网络/ 中/ 的/ 负载/ 越重/ ,/ 节点/ 的/ 能量消耗/ 越大/ ./ 因此/ ,/ 如图/ 17/ 所示/ ,/ 3/ 种/ 方案/ 下/ 平均/ 剩余/ 能量/ 均/ 随/ 发包/ 速率/ 的/ 增加/ 而/ 减少/ ./ 其中/ ,/ 由于/ AS/ 方案/ 下/ ,/ 消息/ 最/ 多/ 转发/ 一次/ ,/ 因此/ 能耗/ 最小/ ./ 对于/ AC/ 和/ AS/ +/ BIP/ ,/ 后者/ 的/ 剩余/ 能量/ 明显/ 大于/ 前者/ ./ 图/ 17/ 平均/ 相对/ 剩余/ 能量/ 随/ 发包/ 速率/ 的/ 变化/ 6/ 结束语/ 与/ 进一步/ 的/ 研究/ 工作/ 本文/ 针对/ 资源/ 有限/ 的/ 机会/ 网络/ 提出/ 了/ 一种/ 结合/ 机会/ 网络/ 特征/ 的/ 节点/ 激励/ 策略/ BIP/ ./ BIP/ 策略/ 引入/ 买卖/ 模型/ ,/ 考虑/ 网络/ 中/ 的/ 环境/ 属性/ 对/ 节点/ 定价/ 的/ 影响/ ,/ 并/ 通过/ 货币/ 支付/ 模式/ ,/ 合理/ 地/ 激励/ 节点/ 合作/ ./ 理论/ 分析/ 和/ 仿真/ 结果表明/ ,/ BIP/ 策略/ 可以/ 有效/ 地/ 刺激/ 节点/ 合作/ ./ 并且/ 在/ 资源/ 受限/ 时/ ,/ BIP/ 策略/ 具有/ 相对/ 较优/ 的/ 交付/ 率/ 和/ 时延/ ,/ 同时/ 能量消耗/ 也/ 较/ 低/ ./ 而/ 当/ 网络/ 中/ 业务量/ 较多时/ ,/ BIP/ 策略/ 能够/ 表现/ 出/ 更/ 强/ 的/ 适应能力/ ./ 虽然/ BIP/ 策略/ 是/ 一种/ 有效/ 、/ 实用/ 的/ 节点/ 激励/ 策略/ ,/ 但/ 文中/ 并/ 没有/ 考虑/ 节点/ 可能/ 出现/ 虚假/ 报价/ 的/ 情况/ ./ 因此/ ,/ 进一步/ 的/ 研究/ 工作/ 将要/ 重点/ 分析/ 节点/ 虚假/ 报价/ 对/ 网络/ 性能/ 的/ 影响/ ,/ 并/ 设计/ 合理/ 的/ 机制/ 约束/ 节点/ 真实/ 报价/ ./ 

