Page1/ 基于/ 非主/ 属性/ 值/ 的/ 实体/ 匹配/ 杨强/ 1/ )/ 1/ )/ (/ 苏州大学/ 计算机科学/ 与/ 技术/ 学院/ 江苏/ 苏州/ 215006/ )/ 2/ )/ (/ 昆士兰/ 大学/ 信息技术/ 与/ 电子/ 工程学院/ 布里斯班/ 澳大利亚/ 4067/ )/ 摘要/ 实体/ 匹配/ 旨在/ 找出/ 不同/ 数据源/ 中/ 指代/ 同一/ 实体/ 的/ 实例/ ./ 已有/ 的/ 实体/ 匹配/ 方法/ 大都/ 基于/ 实体/ 主/ 属性/ 值/ 的/ 相似/ 度/ 进行/ 匹配/ ,/ 而/ 很少/ 有/ 工作/ 考虑/ 到/ 使用/ 实体/ 的/ 非主/ 属性/ 值来/ 辅助/ 实体/ 匹配/ ./ 然而/ ,/ 当/ 两条/ 指代/ 同一/ 实体/ 的/ 主/ 属性/ 值/ 差异/ 较大/ 的/ 时候/ ,/ 这/ 两个/ 实体/ 可能/ 不会/ 被/ 认为/ 是/ 匹配/ 的/ 实体/ ./ 另一方面/ ,/ 这/ 两个/ 实体/ 很/ 可能/ 共享/ 一些/ 特别/ 的/ 非主/ 属性/ 值/ ,/ 而/ 这些/ 非主/ 属性/ 值/ 恰好/ 可以/ 反映/ 出/ 两个/ 实体/ 的/ 匹配/ 关系/ ./ 基于/ 这种/ 思想/ ,/ 文中/ 提出/ 了/ 一种/ 新颖/ 的/ 基于/ 非主/ 属性/ 值/ 的/ 实体/ 匹配/ 算法/ ./ 该/ 算法/ 以/ 类似/ 于/ 决策树/ 的/ 结构/ 为/ 基础/ ,/ 通过/ 使用/ 这种/ 结构/ ,/ 不仅/ 可以/ 解决/ 噪声/ 值/ 和/ 空缺/ 值/ 带来/ 的/ 问题/ ,/ 而且/ 可以/ 极大地提高/ 发现/ 匹配/ 记录/ 以及/ 尽可能/ 早地/ 排除/ 不/ 匹配/ 记录/ 的/ 效率/ ./ 多个/ 数据/ 集上/ 的/ 实验/ 结果表明/ 我们/ 的/ 方法/ 比/ 现有/ 的/ 实体/ 匹配/ 方法/ 具有/ 更/ 高/ 的/ 准确率/ 和/ 召回/ 率/ ./ 此外/ ,/ 使用/ 我们/ 提出/ 的/ 基于/ 决策树/ 的/ 匹配/ 算法/ 等/ 有关/ 技术/ 较/ Baseline/ 匹配/ 算法/ 在/ 匹配/ 效率/ 上/ 高出/ 10/ 倍/ 多/ ./ 关键词/ 实体/ 匹配/ ;/ 非主/ 属性/ ;/ 数据/ 质量/ ;/ 性能/ ;/ 算法/ 1/ 引言/ 随着/ 信息时代/ 数据/ 量级/ 的/ 剧增/ ,/ 数据/ 之间/ 的/ 不/ 一致/ 和/ 冲突/ 问题/ 日益/ 凸显/ [/ 1/ ]/ ./ 为了/ 将/ 不同/ 来源/ 的/ 不/ 一致/ 数据/ 进行/ 融合/ ,/ 前人/ 在/ “/ 实体/ 匹配/ ”/ 方面/ 做/ 了/ 大量/ 研究/ 工作/ ,/ 旨在/ 发现/ 不同/ 数据库/ 中/ 表示/ 同一/ 实体/ 的/ 实例/ [/ 2/ ]/ ./ 目前/ ,/ 大多数/ 的/ 实体/ 匹配/ 方法/ 都/ 是/ 借助/ 前缀/ 过滤/ 或/ Q/ -/ gram/ 等/ 方法/ 通过/ 度量/ 各/ 实例/ 主/ 属性/ 值/ 之间/ 的/ 字符串/ 相似/ 度/ ,/ 从而/ 根据/ 预定/ 义/ 的/ 相似/ 度/ 阈值/ 做出/ 是否/ 匹配/ 的/ 决策/ [/ 3/ -/ 4/ ]/ ./ 然而/ ,/ 含义/ 相同/ 的/ 主/ 属性/ 值/ 形式/ 上/ 可能/ 千差万别/ ,/ 含义/ 不同/ 的/ 主/ 属性/ 值/ 也/ 可能/ 表示/ 同一/ 实体/ ./ 因此/ ,/ 没有/ 任何/ 一种/ 相似/ 度/ 度量/ 方法/ 可以/ 准确/ 度量/ 所有主/ 属性/ 值/ 之间/ 的/ 相似/ 度/ ,/ 且/ 一个/ t1t2t3t4t5t6t7t8t9t10s1s2s3s4s5s6s7s8s9/ 表/ 1/ 从天/ 猫/ 网站/ 收集/ 的/ 在/ 售/ 手机/ 信息/ 512MB512MB512MB/ 表/ 2/ 从/ 中关村/ 在线/ 网站/ 收集/ 的/ 在/ 售/ 手机/ 信息/ 2.0/ GB512MB512MB/ 然而/ ,/ 使用/ 非主/ 属性/ 进行/ 实体/ 匹配/ 并非易事/ ./ 与/ 主/ 属性/ 相比/ ,/ 非主/ 属性/ 中/ 会/ 存在/ 更/ 多/ 的/ 噪声/ 值/ ,/ 而且/ 数据/ 间/ 的/ 不/ 一致/ 问题/ 更为严重/ ./ 此外/ ,/ 通常/ 情况/ 下/ 数据表/ 中非/ 主/ 属性/ 个数/ 比主/ 属性/ 个数/ 多/ ,/ 因此/ 基于/ 非/ 统一/ 给定/ 的/ 相似/ 度/ 阈值/ 也/ 会/ 极大/ 影响/ 实体/ 匹配/ 的/ 准确率/ 和/ 召回/ 率/ ./ 虽然/ 有时/ 匹配/ 实体/ 之间/ 没有/ 相似/ 的/ 主/ 属性/ 值/ ,/ 但是/ 它们/ 的/ 部分/ 非主/ 属性/ 值/ 却/ 可能/ 很/ 相似/ ./ 例如/ ,/ 表/ 1/ 中/ 的/ 实体/ AscendM2/ 和表/ 2/ 的/ 实体/ Mate2/ ,/ 两者/ 没有/ 很/ 高/ 的/ 主/ 属性/ 相似/ 度/ ,/ 但是/ 它们/ 具有/ 一些/ 相同/ 的/ 非主/ 属性/ 值/ ,/ 如/ Huawei/ ,/ Bar/ ,/ Android4/ ./ 3/ ,/ 且/ 具有/ 相同/ 的/ 发布/ 时间/ 2014.03/ ,/ 从中/ 我们/ 可以/ 发现/ 两者/ 很/ 有/ 可能/ 表示/ 同一/ 实体/ ./ 换句话说/ ,/ 非主/ 属性/ 值/ 也/ 可以/ 帮助/ 我们/ 识别/ 实体/ 之间/ 的/ 关系/ ./ 基于/ 上述/ 观察/ ,/ 本文/ 提出/ 一种/ 基于/ 非主/ 属性/ 实现/ 实体/ 匹配/ 的/ 方法/ ./ 我们/ 的/ 方法/ 是/ 对/ 目前/ 已有/ 的/ 基于/ 主/ 属性/ 的/ 实体/ 匹配/ 方法/ 的/ 补充/ ./ 与/ 仅/ 使用/ 主/ 属性/ 的/ 方法/ 相比/ ,/ 我们/ 主要/ 关注/ 如何/ 使用/ 非主/ 属性/ 以/ 提高/ 实体/ 匹配/ 的/ 准确率/ 和/ 召回/ 率/ ./ RAM1GB1GB2GB1GB2GB2GB1GBRAM1GB/ —/ 3GB1GB2GB1GB/ 主/ 属性/ 的/ 实体/ 匹配/ 中/ 存在/ 着/ 严重/ 的/ 效率/ 问题/ ./ 使用/ 非主/ 属性/ 进行/ 实体/ 匹配/ 至少/ 面临/ 以下/ 3/ 个/ 挑战/ :/ (/ 1/ )/ 属性/ 选择/ ./ 面对/ 诸多/ 的/ 非主/ 属性/ ,/ 如何/ 评估/ 每/ 一个/ 非主/ 属性/ 识别/ 匹配/ 实体/ 的/ 能力/ ,/ 从而/ 做出/ 较/ 优选/ Page3/ 择/ 进行/ 匹配/ ;/ (/ 2/ )/ 噪声/ 数据/ 和/ 丢失/ 数据/ ./ 非主/ 属性/ 中/ 可能/ 存在/ 噪声/ 数据/ 和/ 丢失/ 数据/ ./ 在/ 实体/ 匹配/ 过程/ 中/ 噪声/ 数据/ 和/ 丢失/ 数据/ 会/ 影响/ 匹配/ 的/ 效果/ ,/ 因此/ 处理/ 噪声/ 数据/ 和/ 丢失/ 数据/ 也/ 是/ 一个/ 很大/ 的/ 挑战/ ;/ (/ 3/ )/ 效率/ 问题/ ./ 基于/ 非主/ 属性/ 的/ 实体/ 匹配/ 方法/ 与/ 只/ 使用/ 主/ 属性/ 的/ 实体/ 匹配/ 方法/ 相比/ 前者/ 时间/ 开销/ 要/ 多出/ 很多/ 倍/ ,/ 因为/ 前者/ 需要/ 对/ 实例/ 之间/ 更/ 多/ 的/ 属性/ 值/ 进行/ 比较/ ./ 针对/ 上述/ 三/ 方面/ 的/ 挑战/ ,/ 我们/ 提出/ 了/ 一种/ 基于/ 非主/ 属性/ 值/ 的/ 实体/ 匹配/ 方法/ ./ 具体来说/ ,/ 我们/ 首先/ 考察/ 并/ 衡量/ 每/ 一个/ 非主/ 属性/ 识别/ 匹配/ 实体/ 的/ 能力/ 和/ 过滤/ 不/ 匹配/ 实体/ 的/ 能力/ ./ 并/ 基于/ 考察/ 结果/ 以及/ 非主/ 属性/ 之间/ 的/ 关联/ 关系/ ,/ 我们/ 动态/ 建立/ 一种/ 特别/ 的/ 基于/ 规则/ 的/ 概率/ 决策树/ (/ ProbabilisticRule/ -/ basedDecisionTree/ ,/ PRTree/ )/ ./ 通过/ 该/ 概率/ 决策树/ ,/ 我们/ 能够/ 尽早/ 发现/ 匹配/ 实例/ 对/ 或/ 尽早/ 排除/ 不/ 匹配/ 实例/ 对/ ./ 与/ 我们/ 将要/ 在/ 文中/ 描述/ 的/ Baseline/ 算法/ 相比/ ,/ 基于/ PRTree/ 的/ 实体/ 匹配/ 方法/ 极大地提高/ 了/ 实体/ 匹配/ 效率/ ,/ 且/ 不易/ 受到/ 噪声/ 数据/ 和/ 丢失/ 数据/ 的/ 影响/ ./ 此外/ ,/ 在/ 文章/ 的/ 第/ 3/ 节/ ,/ 我们/ 将/ 对/ 结合/ 使用/ 主/ 属性/ 和/ 非主/ 属性/ 进行/ 实体/ 匹配/ 的/ 方法/ 进行/ 探讨/ ./ 我们/ 在/ 本文/ 中/ 的/ 贡献/ 如下/ :/ (/ 1/ )/ 不同于/ 以往/ 基于/ 主/ 属性/ 的/ 实体/ 匹配/ 方法/ ,/ 我们/ 创造性地/ 提出/ 使用/ 非主/ 属性/ 进行/ 实体/ 匹配/ ./ (/ 2/ )/ 通过考察/ 各非主/ 属性/ 对于/ 实体/ 匹配/ 的/ 相关/ 特性/ 及/ 它们/ 之间/ 的/ 关联/ 关系/ ,/ 我们/ 动态/ 建立/ 了/ 一棵/ 基于/ 规则/ 的/ 概率/ 决策树/ ,/ 并/ 基于/ 此树/ 设计/ 实现/ 了/ 高效/ 准确/ 的/ 实体/ 匹配/ 算法/ ./ 我们/ 在/ 3/ 个/ 数据/ 集上/ 对/ 我们/ 的/ 算法/ 进行/ 了/ 验证/ ./ 结果表明/ 我们/ 提出/ 的/ 基于/ 规则/ 的/ 概率/ 决策树/ 算法/ 不仅/ 能/ 达到/ 较/ 好/ 的/ 匹配/ 准确率/ 和/ 召回/ 率/ ,/ 且/ 节省/ 了/ 超过/ 80/ %/ 的/ 匹配/ 开销/ ./ 2/ 问题/ 定义/ 给定/ 两个/ 关系/ 表/ T1/ =/ {/ t1/ ,/ t2/ ,/ …/ ,/ tn/ }/ 和/ T2/ =/ {/ s1/ ,/ s2/ ,/ …/ ,/ sm/ }/ ,/ T1/ 中/ 的/ 每/ 一个/ 实例/ ti/ ∈/ T1/ (/ 1/ / i/ / n/ )/ ,/ T2/ 中/ 的/ 每/ 一个/ 实例/ sj/ ∈/ T2/ (/ 1/ / j/ / m/ )/ ,/ 实体/ 匹配/ 旨在/ 发现/ 存在/ 于/ 两个/ 表间/ 表示/ 同一/ 实体/ 的/ 实例/ 对/ (/ ti/ ,/ sj/ )/ ./ 以往/ 的/ 实体/ 匹配/ 方法/ 主要/ 是/ 使用/ 主/ 属性/ 值/ ,/ 依赖于/ 一些/ 字符串/ 相似/ 度/ 函数/ ,/ 如/ 编辑/ 距离/ (/ Editdistance/ )/ 以及/ 一个/ 相似/ 度/ 阈值/ 决定/ 两个/ 表中/ 的/ 实体/ 是否/ 匹配/ ./ 其/ 形式化/ 表示/ 如下/ :/ 设定/ A0/ 是/ 表/ T1/ 和表/ T2/ 的/ 主/ 属性/ ,/ 给定/ 一个/ 字符串/ 相似/ 度/ 函数/ sim/ (/ ·/ ,/ ·/ )/ 以及/ 一个/ 相似/ 度/ 阈值/ θ/ ,/ 对于/ 实例/ 对/ (/ ti/ ,/ sj/ )/ ,/ 如果/ 满足/ sim/ (/ ti/ [/ A0/ ]/ ,/ sj/ [/ A0/ ]/ )/ / θ/ ,/ 则/ ti/ ,/ sj/ 为/ 同一/ 实体/ ,/ 其中/ ti/ ∈/ T1/ (/ 1/ / i/ / n/ )/ ,/ sj/ ∈/ T2/ (/ 1/ / j/ / m/ )/ ./ 然而/ ,/ 仅仅/ 使用/ 主/ 属性/ 值/ 判定/ 实例/ 对/ 是否/ 匹配/ 是/ 不够/ 的/ ,/ 因为/ 主/ 属性/ 值/ 通常/ 具有/ 多种/ 表现形式/ ,/ 如/ LiHua/ 和/ HuaLi/ 实则/ 表示/ 同一个/ 人/ ./ 又/ 或是/ 主/ 属性/ 值/ 直接/ 无法/ 使用/ ,/ 如/ 丢失/ 数据/ 和/ 噪声/ 数据/ ./ 本文/ 中/ ,/ 我们/ 使用/ 非主/ 属性/ 值/ 进行/ 实体/ 匹配/ ./ 形式化/ 表示/ 如下/ ,/ 假定/ 表/ T1/ 和表/ T2/ 具有/ 相同/ 的/ 非主/ 属性/ 集合/ SNK/ =/ {/ A1/ ,/ A2/ ,/ …/ ,/ Ap/ }/ ,/ 使用/ 非主/ 属性/ 进行/ 实体/ 匹配/ 的/ 定义/ 如下/ ./ 定义/ 1/ ./ 非主/ 属性/ 的/ 实体/ 匹配/ (/ RMwithNon/ -/ KeyAttributes/ ,/ NokeaRM/ )/ ./ 给定/ 两个/ 数据表/ T1/ =/ {/ t1/ ,/ t2/ ,/ …/ ,/ tn/ }/ 和/ T2/ =/ {/ s1/ ,/ s2/ ,/ …/ ,/ sm/ }/ ,/ 两者/ 具有/ 相同/ 的/ 非主/ 属性/ 集合/ SNK/ =/ {/ A1/ ,/ A2/ ,/ …/ ,/ Ap/ }/ ,/ NokeaRM/ 问题/ 旨在/ 找到/ 一个/ 基于/ SNK/ 的/ 函数/ F/ (/ ti/ ,/ sj/ )/ 和/ 一个/ 相似/ 度/ 阈值/ τ/ ,/ 使得/ / ti/ ∈/ T1/ (/ 1/ / i/ / n/ )/ ,/ / sj/ ∈/ T2/ (/ 1/ / j/ / m/ )/ ,/ (/ ti/ ,/ sj/ )/ 为/ 指向/ 同一/ 实体/ 的/ 实例/ ,/ 当且/ 仅/ 当/ 它们/ 满足/ (/ 1/ )/ F/ (/ ti/ ,/ sj/ )/ / τ/ ;/ (/ 2/ )/ / sk/ ∈/ T2/ ,/ F/ (/ ti/ ,/ sj/ )/ / F/ (/ ti/ ,/ sk/ )/ ./ 3/ 使用/ 非主/ 属性/ 进行/ 实体/ 匹配/ 我们/ 首先/ 在/ 3.1/ 节/ 展示/ 一个/ Baseline/ 算法/ ,/ 接下来/ 在/ 3.2/ 节/ 介绍/ 基于/ 规则/ 的/ 概率/ 决策树/ 的/ 算法/ ./ 3.1/ Baseline/ :/ 基于/ DifScore/ 的/ 实体/ 匹配/ 算法/ Baseline/ 算法/ 主要/ 使用/ 非主/ 属性/ 区分/ 某一/ 实体/ 不同于/ 其他/ 实体/ 的/ 能力/ 进行/ 实体/ 匹配/ ,/ 这一/ 能力/ 被/ 定义/ 为/ 属性/ 的/ 区分度/ 得分/ (/ DifferentiationDegreeScore/ ,/ difScore/ )/ ./ 属性/ 的/ difScore/ 大致/ 上/ 反应/ 了/ 该/ 属性/ 下/ 属性/ 值/ 分布/ 情况/ ./ 例如/ ,/ 在/ 没有/ 重复记录/ 的/ 情形/ 下/ 数据表/ 中/ 所有/ 的/ 主/ 属性/ 值/ 都/ 是/ 不同/ 的/ ,/ 因此/ 主/ 属性/ 具有/ 最高/ 的/ difScore/ 也/ 即/ 是/ 1.0/ ./ 在/ 表/ 1/ 中/ 属性/ “/ Size/ ”/ 也/ 具有/ 较/ 高/ 的/ difScore/ ,/ 因为/ 其值/ 的/ 分布/ 比较/ 多样/ ,/ 而/ 属性/ “/ Type/ ”/ 则/ 具有/ 一个/ 相对/ 较/ 低/ 的/ difScore/ ./ 其/ 具体/ 形式/ 如下/ 所示/ :/ 在/ 关系/ 表/ T/ 中/ ,/ 在/ 所有/ 的/ 实例/ 当中/ 假定/ 属性/ Ai/ (/ 1/ / i/ / p/ )/ 有/ distinct/ (/ Ai/ ,/ T/ )/ 个/ 不同/ 的/ 属性/ 值/ ,/ 则/ 属性/ Ai/ 的/ difScore/ 计算方法/ 为/ Page4/ 其中/ :/ |/ T/ |/ 表示/ 关系/ 表中/ 实体/ 的/ 总/ 数目/ ;/ distinct/ (/ Ai/ ,/ T/ )/ 表示/ 属性/ Ai/ 下/ 属性/ 值/ 不同/ 的/ 个数/ ./ 在/ 获得/ 关系/ 表中/ 每个/ 属性/ 的/ difScore/ 的/ 基础/ 上/ ,/ 我们/ 计算/ 实例/ t/ ∈/ T1/ 和/ s/ ∈/ T2/ 之间/ 的/ 相似/ 度/ ,/ 其/ 计算公式/ 如式/ (/ 2/ )/ 所示/ :/ Fbaseline/ (/ t/ ,/ s/ )/ =/ 其中/ :/ t/ [/ A/ ]/ ,/ s/ [/ A/ ]/ 分别/ 表示/ 实体/ t/ 和/ s/ 在/ 属性/ A/ 下/ 的/ 属性/ 值/ ;/ sim/ (/ t/ [/ A/ ]/ ,/ s/ [/ A/ ]/ )/ 表示/ 属性/ 值/ t/ [/ A/ ]/ ,/ s/ [/ A/ ]/ 之间/ 的/ 相似/ 度/ ;/ SNK/ 表示/ 两表中/ 共同/ 的/ 非主/ 属性/ 集合/ ./ 然而/ 通过/ 实验/ 发现/ ,/ Baseline/ 算法/ 只能/ 识别/ 出/ 一半左右/ 的/ 匹配/ 实体/ (/ 大约/ 45/ %/ ~/ 55/ %/ 的/ 召回/ 率/ )/ ,/ 准确率/ 也/ 只/ 达到/ 80/ %/ 左右/ ./ 其/ 原因/ 在于/ :/ (/ 1/ )/ difScore/ 并/ 不能/ 完全/ 反应/ 属性/ 的/ 区分度/ ,/ 因为/ 其/ 并未/ 考虑/ 属性/ 之间/ 的/ 组合/ 关系/ ;/ (/ 2/ )/ 丢失/ 数据/ 干扰/ 实例/ 对/ 相似/ 度/ 的/ 计算/ ./ 更为重要/ 的/ 一方面/ 是/ Baseline/ 算法/ 的/ 复杂度/ 为/ O/ (/ pnm/ )/ ,/ 其中/ |/ T1/ |/ =/ n/ ,/ |/ T2/ |/ =/ m/ ,/ |/ SNK/ |/ =/ p/ ./ 3.2/ 基于/ 规则/ 的/ 概率/ 决策树/ 算法/ 我们/ 提出/ 了/ 一个/ 更为/ 可靠/ 的/ NokeaRM/ 算法/ ,/ 该/ 算法/ 通过/ 使用/ 非主/ 属性/ 建立/ 的/ 基于/ 规则/ 的/ 概率/ 决策树/ 进行/ 实体/ 匹配/ ./ 众所周知/ ,/ 决策树/ 是/ 一种/ 提高效率/ 的/ 方法/ ,/ 因为/ 树中/ 的/ 每/ 一个/ 节点/ 都/ 有/ 机会/ 对/ 输入/ 的/ 数据/ 做出/ 最终/ 的/ 决策/ ./ 因而/ ,/ 通过/ 使用/ 决策树/ 这种/ 结构/ 可以/ 在/ 尽可能/ 短/ 的/ 时间/ 内/ 获取/ 匹配/ 实例/ 对/ 或者/ 排除/ 不/ 匹配/ 实例/ 对/ ./ 此外/ ,/ 我们/ 提出/ 了/ 一种/ 特殊/ 的/ 决策树/ 可以/ 克服/ Baseline/ 算法/ 的/ 两个/ 缺陷/ ,/ 既/ 考虑/ 到/ 了/ 属性/ 之间/ 的/ 组合/ 关系/ ,/ 又/ 不易/ 受/ 缺失/ 值/ 的/ 影响/ ./ 接下来/ ,/ 我们/ 首先/ 给出/ 该/ 算法/ 的/ 基本思路/ ,/ 然后/ 介绍/ 如何/ 建立/ 基于/ 规则/ 的/ 概率/ 决策树/ ,/ 最后/ 我们/ 将/ 展示/ 基于/ 此/ 决策树/ 的/ NokeaRM/ 算法/ ./ 3.2/ ./ 1/ 算法/ 基本思路/ 首先/ ,/ 给定/ 的/ 实体/ 对/ ti/ ∈/ T1/ ,/ sj/ ∈/ T2/ (/ 1/ / i/ / n/ ,/ 1/ / j/ / m/ )/ 匹配/ 与否/ 是/ 由/ 其/ 各个/ 属性/ 下/ 的/ 值/ 匹配/ 与否/ 所/ 决定/ 的/ ./ 然而/ ,/ 鉴于/ 不同/ 的/ 属性/ 在/ 唯一/ 确定/ 实体/ 的/ 能力/ 上/ 有所不同/ ,/ 我们/ 选择/ 一组/ 最/ 具有/ 决策/ 能力/ 的/ 属性/ 集/ 进行/ 匹配/ ;/ 然而/ ,/ 为了/ 尽可能/ 地/ 减少/ 决策/ 的/ 开销/ ,/ 我们/ 期望/ 尽早/ 发现/ 匹配/ 实体/ 对/ 或/ 尽早/ 排除/ 不/ 匹配/ 实体/ 对/ ,/ 因此/ 我们/ 决定/ 使用/ 类似/ 于/ 决策树/ 的/ 结构/ 进行/ 实体/ 匹配/ ,/ 即将/ 各个/ 属性/ 放入/ 决策树/ 中/ 对/ 实例/ 对/ 是否/ 匹配/ 进行/ 逐层/ 联合/ 判定/ ;/ 此外/ ,/ 属性/ 集中/ 的/ 各个/ 属性/ 在/ 决策/ 实体/ 匹配/ 时/ 并/ 不是/ 相互/ 独立/ 的/ 而是/ 相互依赖/ 共同/ 作用/ 的/ ,/ 因而/ 建树/ 过程/ 以及/ 通过/ 树/ 做/ 匹配/ 计算/ 时/ ,/ 还/ 需要/ 考虑/ 各/ 属性/ 间/ 的/ 相互/ 依赖度/ ./ 如图/ 1/ 所示/ ,/ 实体/ 对/ 的/ 匹配/ 结果/ R/ 是/ 由/ 属性/ 集/ S/ =/ {/ A1/ ,/ A2/ ,/ …/ ,/ A5/ }/ 决定/ 的/ ,/ 以/ 路线/ 1/ 为例/ ,/ A2/ 的/ 结果/ 是/ 在/ A1/ 的/ 条件/ 下/ 得到/ 的/ ,/ 而/ A4/ 的/ 结果/ 是/ 在/ A2/ 的/ 条件/ 下/ 得到/ 的/ ,/ 以此类推/ ,/ 最终/ 的/ 结果/ 是/ 由/ 以上/ 各步/ 的/ 结果/ 综合/ 作用/ 得到/ 的/ ./ 实体/ ti/ 与/ sj/ 其/ 匹配/ 结果/ 可/ 形式化/ 表示/ 为/ 另外/ ,/ 我们/ 从属性/ 的/ 角度/ 上/ 考虑/ 匹配/ 结果/ ,/ 用/ Mk/ 代表/ 实体/ 所在/ 属性/ 组合/ 下/ 的/ 第/ k/ 个/ 属性/ 对于/ R/ 的/ 一个/ 贡献/ ,/ 如果/ 两者/ 值/ 相等/ 则/ 是/ 一个/ 正/ 的/ 贡献/ ,/ 否则/ 是/ 一个/ 负/ 的/ 贡献/ ./ 具体/ 如下/ :/ Mk/ =/ 对于/ 关系/ 表中/ 的/ 非主/ 属性/ 的/ 集合/ SNK/ =/ {/ A1/ ,/ A2/ ,/ …/ ,/ Ap/ }/ ,/ 实体/ 间/ 的/ 匹配/ 结果/ 可/ 通过/ 条件/ 概率/ 进行/ 量化/ ,/ 其/ 概率/ 可/ 通过/ 贝叶斯/ 条件/ 概率/ 进行/ 评估/ ,/ 其/ 公式/ 如式/ (/ 5/ )/ 所示/ :/ p/ (/ SNK/ )/ =/ Pr/ {/ R/ =/ 1/ |/ SNK/ }/ =/ Pr/ {/ SNK/ |/ R/ =/ 1/ }/ Pr/ {/ R/ =/ 1/ }/ +/ Pr/ {/ SNK/ |/ R/ =/ 0/ }/ Pr/ {/ R/ =/ 0/ }/ 3.2/ ./ 2/ 建立/ 基于/ 规则/ 的/ 概率/ 决策树/ 基于/ 上/ 一/ 小节/ 的/ 分析/ ,/ 我们/ 考虑/ 使用/ 非主/ 属性/ 建立/ 基于/ 规则/ 的/ 概率/ 决策树/ (/ ProbabilisticRule/ -/ baseddecisionTree/ ,/ PRTree/ )/ ./ PRTree/ 的/ 理论依据/ 如下/ :/ (/ 1/ )/ 决策树/ 有利于/ 减少/ 实体/ 匹配/ 的/ 时间/ 开销/ ;/ (/ 2/ )/ 贝叶斯/ 概率/ 决策树/ 有助于/ 反应/ 具有/ 一定/ 决策/ 能力/ 的/ 属性/ 之间/ 的/ 依赖/ 关系/ ;/ (/ 3/ )/ 不同/ 的/ 属性/ 具有/ 不同/ 的/ 决策/ 能力/ ,/ 具体表现/ 为/ 属性/ 的/ 两个/ 重要/ 性质/ ,/ 即/ 决策/ 匹配/ 的/ 充分性/ (/ Sufficiency/ )/ 和/ 决策/ 匹配/ 的/ 必要性/ (/ Necessity/ )/ ,/ 其/ 定义/ 如下/ ./ 定义/ 2/ ./ 决策/ 匹配/ 的/ 充分性/ 和/ 必要性/ (/ Suffi/ -/ ciencyandNecessity/ )/ ./ 对于/ 给定/ 的/ 两个/ 关系/ 表/ T1/ =/ Page5/ {/ t1/ ,/ t2/ ,/ …/ ,/ tn/ }/ 和/ T2/ =/ {/ s1/ ,/ s2/ ,/ …/ ,/ sm/ }/ ,/ 假设/ 两者/ 具有/ 相同/ 的/ 属性/ 集合/ S/ ,/ 属性/ Ak/ ∈/ S/ (/ 1/ / k/ / p/ )/ 的/ 充分性/ 概率/ 是/ 指当/ 满足/ ti/ [/ Ak/ ]/ =/ sj/ [/ Ak/ ]/ 时/ ,/ 实体/ ti/ ∈/ T1/ (/ 1/ / i/ / n/ )/ 和/ sj/ ∈/ T2/ (/ 1/ / j/ / m/ )/ 为/ 同一/ 实体/ 的/ 概率/ ,/ 而/ 属性/ Ak/ 的/ 必要性/ 概率/ 是/ 指当/ ti/ 和/ sj/ 为/ 同一/ 实体/ 时/ ,/ 也/ 即/ 当/ ti/ =/ sj/ 时/ ,/ ti/ [/ Ak/ ]/ =/ sj/ [/ Ak/ ]/ 的/ 概率/ ./ 属性/ 的/ 充分性/ 特性/ 和/ 必要性/ 特性/ 在/ 决定/ PRTree/ 的/ 结构/ 上起/ 着/ 重要/ 作用/ ./ 其中/ 属性/ 的/ 充分性/ 反应/ 了/ 属性/ 识别/ 匹配/ 实体/ 的/ 能力/ ,/ 即当/ 属性/ 的/ 值/ 相同/ 时/ ,/ 能够/ 在/ 多/ 大/ 概率/ 上/ 反应/ 其所/ 对应/ 的/ 实体/ 为/ 同一/ 实体/ ;/ 而/ 属性/ 的/ 必要性/ 反应/ 了/ 属性/ 排除/ 不/ 匹配/ 实体/ 的/ 能力/ ,/ 即当/ 实例/ 对/ 表示/ 为/ 同一/ 实体/ 时/ ,/ 其/ 在/ 某/ 一/ 属性/ 上/ 也/ 具备/ 相同/ 属性/ 值/ 的/ 概率/ ./ 根据/ 定义/ 2/ ,/ 属性/ 的/ 充分性/ 概率/ 和/ 必要性/ 概率/ 可/ 通过/ 训练/ 得到/ ,/ 其中/ 训练/ 集中/ 已知/ 两个/ 数据表/ 中/ 匹配/ 的/ 实例/ 对/ ,/ 其/ 定义/ 为/ (/ 犜/ 狉/ 1/ ,/ 犜/ 狉/ 2/ )/ ./ 假定/ 训练/ 集中/ 的/ 数据分布/ 接近/ 于/ 实体/ 匹配/ 的/ 两个/ 真实/ 数据表/ ,/ 则/ 我们/ 可以/ 得到/ 其/ 计算公式/ 如式/ (/ 6/ )/ 和/ (/ 7/ )/ :/ suf/ (/ Ak/ )/ =/ ∑/ {/ (/ ti/ (/ B/ (/ ti/ =/ sj/ |/ ti/ [/ A/ ]/ =/ sj/ [/ A/ ]/ )/ +/ B/ (/ ti/ ≠/ sj/ |/ ti/ [/ A/ ]/ =/ sj/ [/ A/ ]/ )/ )/ nec/ (/ Ak/ )/ =/ ∑/ {/ (/ ti/ (/ B/ (/ ti/ [/ A/ ]/ =/ sj/ [/ A/ ]/ |/ ti/ =/ sj/ )/ +/ B/ (/ ti/ [/ A/ ]/ ≠/ sj/ [/ A/ ]/ |/ ti/ =/ sj/ )/ )/ 其中/ ,/ B/ (/ bool1/ |/ bool2/ )/ 为/ 布尔/ 函数/ ,/ 其/ 表示/ 如式/ (/ 8/ )/ :/ B/ (/ bool1/ |/ bool2/ )/ =/ 1/ ,/ 如果/ bool2/ =/ TRUE/ 并且/ bool1/ =/ TRUE/ 烄/ 1/ ,/ 如果/ bool2/ =/ TRUE/ 并且/ bool1/ =/ FALSE/ 烅/ 0/ ,/ 如果/ bool/ 烆/ 其中/ ,/ 犜/ 狉/ c/ 是/ 一个/ 在/ 建树/ 不同/ 阶段/ 中/ 动态/ 改变/ 的/ 限制/ 集/ ,/ 初始化/ 为/ 犜/ 狉/ c/ =/ {/ (/ ti/ ,/ sj/ )/ |/ ti/ ∈/ 犜/ 狉/ 1/ ,/ sj/ ∈/ 犜/ 狉/ 2/ }/ ./ 下面/ 我们/ 讨论/ 如何/ 建立/ PRTree/ 决策树/ ./ 鉴于/ 实例/ 对间/ 的/ 匹配/ 度/ 计算/ 需要/ 考虑/ 属性/ 间/ 的/ 相互依赖/ 关系/ ,/ 我们/ 并/ 不是/ 一次/ 找出/ top/ -/ k/ 个/ 具有/ 较大/ difScore/ 的/ 属性/ 元素/ 作为/ 概率/ 决策/ 树上/ 的/ 属性/ 节点/ ,/ 而是/ 采用/ 贪心/ 算法/ ,/ 每次/ 只/ 在/ 上/ 一步/ 的/ 决策/ 结果/ 的/ 条件/ 之下/ 计算/ 出未/ 使用/ 属性/ 的/ 条件/ 充分性/ 概率/ 和/ 必要性/ 概率/ ,/ 从而/ 选择/ 出/ 当前/ 条件/ 最/ 具有/ 决策/ 力/ 的/ 属性/ 放入/ 树中/ 的/ 对应/ 位置/ ./ 此/ 建树/ 过程/ 将/ 迭代/ 进行/ 直到/ 达到/ 一定/ 的/ 停止/ 条件/ ./ 基于/ 上述/ 思路/ ,/ 接下来/ 我们/ 将/ 从/ 两/ 方面/ 介绍/ 如何/ 建立/ PRTree/ :/ 其一/ 为/ 属性/ 的/ 选择/ ;/ 其二/ 为/ 停止/ 条件/ ./ (/ 1/ )/ 属性/ 选择/ ./ 根据/ 当前/ 待选/ 节点/ 的/ 类别/ (/ 包括/ 根/ 节点/ 、/ 非叶/ 节点/ 和/ 叶/ 节点/ )/ ,/ 在/ 已经/ 确定/ 的/ 候选/ 节点/ 集/ 的/ 基础/ 上/ ,/ 每次/ 选择/ 具有/ 最大/ 充分性/ 或/ 必要性/ 的/ 节点/ 作为/ 当前/ 节点/ ,/ 并/ 加入/ 到/ 候选/ 节点/ 集中/ ./ 通过/ 每次/ 选择/ 具有/ 最大/ 充分性/ 概率/ 或/ 最大/ 必要性/ 概率/ 的/ 属性/ ,/ 可以/ 尽可能/ 早地/ 发现/ 匹配/ 实体/ ,/ 并且/ 排除/ 不/ 匹配/ 实体/ ./ 具有/ 较大/ 充分性/ 概率/ 的/ 属性/ 说明/ 其/ 识别/ 实例/ 对/ 匹配/ 的/ 能力/ 较强/ ;/ 具有/ 较大/ 必要性/ 概率/ 的/ 属性/ 表明/ 其/ 在/ 排除/ 实例/ 对/ 为/ 不/ 匹配/ 实体/ 的/ 能力/ 较强/ ./ (/ 2/ )/ 停止/ 条件/ ./ 当/ 所有/ 待/ 考察/ 属性/ 在/ 当前/ 位置/ 的/ 条件/ 充分性/ 概率/ 或/ 条件/ 必要性/ 概率/ 都/ 低于/ 某一值/ (/ τ/ stop/ )/ 时/ ,/ 此时/ 应/ 停止/ 创建/ 更/ 多/ 的/ 节点/ ,/ 将/ 上/ 一次/ 刚/ 加入/ 候选/ 节点/ 集/ 的/ 属性/ 作为/ 叶子/ 节点/ ./ 我们/ 在/ 算法/ 1/ 中/ 给出/ 了/ 建立/ PRTree/ 的/ 流程/ ,/ 具体/ 描述/ 如下/ :/ (/ 1/ )/ 根/ 节点/ (/ RootNode/ )/ ./ 在/ 计算/ 出/ 每个/ 属性/ 的/ 充分性/ 和/ 必要性/ 后/ ,/ 我们/ 选择/ 充分性/ 和/ 必要性/ 得分/ 最大/ 的/ 属性/ 作为/ 根/ 节点/ ./ 而根/ 节点/ 有/ 3/ 个/ 分支/ ,/ 分别/ 是/ 匹配/ (/ Matched/ (/ Y/ )/ )/ ,/ 不/ 匹配/ (/ Unmatched/ (/ N/ )/ )/ 和/ 无效/ (/ Invalid/ (/ Null/ )/ )/ ./ 如果/ 根/ 节点/ 是/ 具有/ 最高/ 充分性/ 得分/ 的/ 属性/ ,/ 则/ 节点/ 的/ 匹配/ 分支/ 是/ 叶/ 节点/ 并/ 将/ 以/ 一定/ 的/ 置信度/ 输出/ “/ Matched/ ”/ ,/ 而/ 不/ 匹配/ 分支/ 和/ 无效/ 分支/ 则/ 是非/ 叶/ 节点/ ./ 相反/ 地/ ,/ 如果/ 根/ 节点/ 为/ 最大/ 的/ 必要性/ 得分/ 的/ 属性/ ,/ 节点/ 的/ 不/ 匹配/ 分支/ 则/ 成为/ 叶/ 节点/ 并/ 以/ 一定/ 的/ 置信度/ 输出/ “/ Unmatched/ ”/ ,/ 而/ 匹配/ 分支/ 和/ 无效/ 分支/ 都/ 应/ 是非/ 叶/ 节点/ ./ 根/ 节点/ 的/ 计算/ 如式/ (/ 9/ )/ 所示/ :/ (/ 2/ )/ 非叶/ 节点/ (/ Non/ -/ LeafNode/ )/ ./ PRTree/ 中/ 的/ 非叶/ 节点/ 代表/ 了/ 该/ 节点/ 的/ 充分性/ 概率/ 或/ 必要性/ 概率/ 不能/ 直接判断/ 出/ 匹配/ 的/ 结果/ ,/ 需要/ 结合/ 其他/ 属性/ ,/ 直至/ 能够/ 做出/ 判断/ ,/ 也/ 即/ 是/ 到达/ PRTree/ 的/ 叶/ 节点/ ./ 我们/ 以/ 目前/ 已/ 确定/ 的/ 候选/ 节点/ 集/ 为/ 基础/ ,/ 当/ 计算/ 余下/ 的/ 其他/ 属性/ 的/ 充分性/ 得分/ 和/ 必要性/ 得分/ 时/ ,/ 必须/ 在/ 满足/ 候选/ 节点/ 集中/ 所有/ 元素/ 的/ 条件/ 下/ 进行/ ./ 为了/ 构建/ PRTree/ 的/ 非叶/ 节点/ ,/ 我们/ 在/ 目前/ 已有/ 的/ 所有/ 祖先/ 节点/ 集/ 的/ 条件/ 下/ ,/ 计算/ 余下/ 属性/ 的/ 充分性/ 和/ 必要性/ ,/ 选择/ 具有/ 最大/ 条件/ 充分性/ 或/ 条件/ 必要性/ 得分/ 的/ 属性/ 作为/ 当前/ 节点/ ./ 具体/ 地/ ,/ 属性/ 的/ 条件/ 充分性/ 和/ 条件/ 必要性/ 可/ 通过/ 式/ (/ 6/ )/ 和/ (/ 7/ )/ 并/ 将/ 犜/ 狉/ c/ 改变/ 为/ 一个/ 更/ 小/ 的/ 训练/ 集结/ Page6/ 合/ 计算/ 而/ 得到/ ,/ 其中/ 所有/ 的/ 实例/ 都/ 应/ 满足/ 祖先/ 节点/ 的/ 条件/ ./ 非叶/ 节点/ 的/ 计算方法/ 如式/ (/ 10/ )/ 所示/ :/ Pnonleaf/ =/ PA/ |/ Candit/ (/ PRTree/ )/ 其中/ Candit/ (/ PRTree/ )/ 为/ 已/ 选中/ 的/ 祖先/ 节点/ 构成/ 的/ 集合/ ./ (/ 3/ )/ 叶/ 节点/ (/ LeafNode/ )/ ./ PRTree/ 的/ 叶/ 节点/ 表明/ 了/ 从/ 根/ 节点/ 到/ 当前/ 节点/ 构成/ 的/ 属性/ 集合/ 可以/ 判断/ 给定/ 的/ 实例/ 对/ 的/ 匹配/ 结果/ 或者/ 目前/ 已有/ 的/ 数据/ 无法/ 给出/ 较为/ 明确/ 的/ 匹配/ 结果/ ./ PRTree/ 的/ 每个/ 叶/ 节点/ 都/ 会/ 输出/ “/ Matched/ ”/ 或/ “/ Unmatched/ ”/ ,/ 通过/ 输出/ 结果/ 可以/ 判断/ 实例/ 对/ 是否/ 匹配/ ./ 当/ 属性/ 的/ suf/ (/ A/ )/ 和/ nec/ (/ A/ )/ 一直/ 很/ 低/ 的/ 时候/ ,/ 也/ 即/ 低于/ 一个/ 合理/ 的/ 阈值/ τ/ stop/ 时/ ,/ 我们/ 将/ 停止/ 获取/ 更/ 多/ 的/ 属性/ 用以/ 创建/ PRTree/ 的/ 节点/ ./ 然后/ ,/ 我们/ 会/ 创建/ 一个/ “/ Exit/ (/ NotDecided/ )/ ”/ 节点/ 作为/ 最后/ 的/ 节点/ ,/ 其/ 表明/ 我们/ 无法/ 判断/ 实例/ 对/ 是否/ 匹配/ ./ 叶/ 节点/ 的/ 计算/ 如式/ (/ 11/ )/ 所示/ :/ Pleaf/ =/ A/ ∈/ (/ SNK/ -/ Candit/ (/ PRTree/ )/ )/ ,/ suf/ (/ A/ )/ ≈/ τ/ stop/ 根据/ 算法/ 1/ ,/ 通过/ 对表/ 1/ 和表/ 2/ 所在/ 的/ 大量/ 训练/ 数据/ 的/ 训练/ ,/ 我们/ 建立/ 了/ 基于/ 非主/ 属性/ 的/ PRTree/ ,/ 如图/ 2/ (/ a/ )/ 所示/ ./ 在/ 接下来/ 的/ 部分/ 中/ ,/ 我们/ 将/ 介绍/ 如何/ 使用/ PRTree/ 进行/ 实体/ 匹配/ ./ 算法/ 1/ ./ 建立/ PRTree/ ./ 输入/ :/ 具有/ 属性/ 集/ S/ 的/ 训练/ 表/ 犜/ 狉/ 1/ 和/ 犜/ 狉/ 2/ ,/ 充分性/ 阈值/ 输出/ :/ PRTree/ 的/ 根/ 节点/ 的/ 引用/ rootWHILES/ ≠/ / DOFORALLA/ ∈/ SDO/ 根据/ 式/ (/ 6/ )/ 和/ (/ 7/ )/ 计算/ 或/ 更新/ suf/ (/ A/ |/ AncsCond/ )/ 和/ IFA/ ./ suf/ </ τ/ sTHENA/ ./ suf/ =/ 0/ ;/ ELSEIFA/ ./ nec/ </ τ/ nTHENA/ ./ nec/ =/ 0/ ;/ ENDIFENDIFENDFOR/ 在/ 所有/ 的/ 非主/ 属性/ 中将/ 具有/ 最大值/ 的/ suf/ (/ A/ |/ AncsCond/ )/ cur/ ./ conf/ =/ Max/ (/ suf/ (/ A/ |/ AncsCond/ )/ ,/ nec/ (/ A/ |/ AncsCond/ )/ )/ ;/ IFcur/ ./ conf/ </ τ/ stopTHENcur/ =/ “/ Exit/ (/ NotDecided/ )/ ”/ BreaksENDIFcur/ ./ NullChild/ =/ BuildPRTree/ (/ 犜/ 狉/ 1/ ,/ 犜/ 狉/ 2/ ,/ S/ =/ S/ -/ {/ A/ }/ ,/ IFcur/ ./ conf/ =/ suf/ (/ A/ |/ AncsCond/ )/ THENcur/ ./ YChild/ =/ “/ Matched/ ”/ AncsCond/ =/ AncdCond/ +/ {/ (/ A/ ,/ unmatched/ ,/ cur/ ./ suf/ )/ }/ cur/ =/ cur/ ./ NChildELSEcur/ ./ NChild/ =/ “/ Unmatched/ ”/ AncsCond/ =/ AncdCond/ +/ {/ (/ A/ ,/ matched/ ,/ cur/ ./ nec/ )/ }/ cur/ =/ cur/ ./ YChildENDIFENDWHILERERUTNroot3/ ./ 2.3/ 基于/ PRTree/ 的/ NokeaRM/ 算法/ 通过/ 在/ 训练/ 集上/ 不断/ 地/ 筛选/ 符合/ 上述/ 要求/ 的/ 属性/ ,/ 创建/ 了/ 如图/ 2/ (/ a/ )/ 所示/ 的/ PRTree/ ./ 我们/ 在/ 算法/ 2/ 中/ 给出/ 如何/ 借助/ PRTree/ 执行/ NokeaRM/ 算法/ ./ 对于/ 测试/ 集/ 数据表/ 中/ 的/ 每/ 一个/ 实例/ 对/ (/ t/ ,/ s/ )/ ,/ 从/ PRTree/ 的/ 根/ 节点/ 开始/ 访问/ ,/ 并/ 在/ 到达/ 叶子/ 节点/ 时/ 停止/ 访问/ ./ 每次/ 当/ 实例/ 对/ (/ t/ ,/ s/ )/ 到达/ 属性/ Ak/ 这个/ 节点/ 时/ ,/ 我们/ 检查/ 实例/ 对/ 在/ 当前/ 节点/ 是否/ 具有/ 相同/ 的/ 属性/ 值/ ./ 如果/ 相同/ ,/ 则/ 访问/ 当前/ 节点/ 的/ “/ Matched/ ”/ 子/ 节点/ ,/ 否则/ 访问/ 当前/ 节点/ 的/ “/ Unmatched/ ”/ 子/ 节点/ ./ 但是/ ,/ 如果/ 实例/ 对/ 在/ 当前/ 节点/ 的/ 属性/ 值为/ 空时/ ,/ 则/ 应/ 访问/ 该/ PRTree/ 的/ “/ Invalid/ ”/ 子/ 节点/ ,/ 表明/ 待/ 比较/ 的/ 实例/ 对/ 在/ 该/ 属性/ 下/ 出现/ 缺失/ 值/ ./ 当/ 实例/ 对/ 访问/ 叶/ 节点/ 时/ ,/ 我们/ 会/ 根据/ 叶/ 节点/ 的/ 性质/ 从而/ 决定/ 输出/ “/ Matched/ ”/ 或者/ “/ Unmatched/ ”/ ./ 决策/ 的/ 置信度/ 是/ 由/ 实例/ 对/ 所/ 经过/ 的/ 从/ 根/ 节点/ 到/ 当前/ 节点/ 组成/ 的/ 所有/ 节点/ 共同/ 决定/ 的/ ,/ Page7/ 除根/ 节点/ 外/ ,/ 每/ 一个/ 节点/ 结果/ 的/ 计算/ 并/ 不是/ 独立/ 于/ 其他/ 节点/ 而/ 得到/ 的/ ,/ 而是/ 在/ 满足/ 该/ 节点/ 所/ 经历/ 祖先/ 节点/ 的/ 条件/ 下/ 所得/ ./ 此外/ ,/ PRTree/ 中/ 处于/ 不同/ 高度/ 的/ 节点/ ,/ 在/ 计算/ 置信度/ 时应/ 给予/ 不同/ 的/ 权重/ 分配/ ,/ 因为/ 越是/ 靠近/ 根/ 节点/ 的/ 属性/ ,/ 其受/ 其他/ 属性/ 的/ 影响/ 越小/ ,/ 而/ 越是/ 远离/ 根/ 节点/ 的/ 属性/ ,/ 其受/ 其他/ 属性/ 的/ 影响/ 越大/ ./ 因而/ ,/ 我们/ 采取/ 了/ 一定/ 的/ 手段/ 保证/ 属性/ 权重/ 的/ 合理/ 分配/ ./ 综合/ 以上/ 的/ 考虑/ 我们/ 采用/ 如式/ (/ 12/ )/ 计算/ 实例/ 对/ 之间/ 的/ 相似/ 度/ FPRTree/ (/ t/ ,/ s/ )/ =/ ∏/ 1/ / i/ / H/ (/ A/ )/ 其中/ ,/ H/ (/ A/ )/ 代表/ 当前/ 节点/ 在/ PRTree/ 中/ 的/ 高度/ ./ 我们/ 使用/ (/ ·/ )/ 1/ // i/ 调整/ 第/ i/ 个/ 节点/ 的/ 影响/ ,/ 因为/ 越/ 接近/ 当前/ 节点/ 的/ 节点/ ,/ 对/ 当前/ 节点/ 所/ 做出/ 的/ 决策/ 影响/ 越大/ ./ 当/ 节点/ 所处/ 的/ 层次/ 越低/ ,/ 其/ 削弱/ 的/ 力度/ 越大/ ;/ 当/ 节点/ 所处/ 的/ 层次/ 越高/ ,/ 其/ 削弱/ 的/ 力度/ 越小/ ./ 因为/ 高层次/ 的/ 节点/ 是/ 在/ 低层次/ 节点/ 的/ 基础/ 上/ 建立/ 的/ ,/ 也/ 即/ 高层次/ 的/ 节点/ 依赖于/ 低层次/ 的/ 节点/ ,/ 其/ 对/ 整棵树/ 的/ 影响/ 较/ 低层次/ 的/ 节点/ 影响/ 小/ ,/ 故应/ 给予/ 较/ 低/ 的/ 削弱/ 力度/ ;/ 对于/ 高层次/ 的/ 节点/ 其/ 原理/ 类似/ ./ 我们/ 使用/ Conf/ (/ Ai/ )/ 表示/ 沿着/ 路径/ 节点/ Ai/ 的/ 置信度/ ,/ 其/ 计算方法/ 如式/ (/ 13/ )/ 所示/ :/ Conf/ (/ Ai/ )/ =/ suf/ (/ Ai/ )/ ,/ 如果/ Ai/ 为/ “/ Matched/ ”/ 节点/ 烄/ 1/ -/ nec/ (/ Ai/ )/ ,/ 如果/ Ai/ 为/ “/ Unmatched/ ”/ 节点/ 烅/ 1/ ,/ 烆/ 算法/ 2/ ./ 使用/ PRTree/ 实现/ 实例/ 对/ 的/ NokeaRM/ 算法/ ./ 输入/ :/ PRTree/ 的/ 根/ 节点/ root/ ,/ 实例/ 对/ (/ t/ ,/ s/ )/ 输出/ :/ 实例/ 对/ (/ t/ ,/ s/ )/ 的/ 相似/ 度/ :/ FPRTree/ (/ t/ ,/ s/ )/ cur/ =/ root/ ;/ level/ =/ 1/ ;/ sim/ =/ 1/ ;/ WHILETRUEDOIFcur/ ./ output/ =/ “/ Exit/ ”/ THENRETURN/ -/ 1ENDIFIFcurisaleafNodeTHENRETURNsimENDIFIFt/ [/ cur/ ]/ =/ NULLORs/ [/ cur/ ]/ =/ NULLTHENcur/ =/ cur/ ./ NullChildELSEsim/ =/ sim/ ×/ (/ cur/ ./ conf/ ×/ sim/ (/ t/ [/ cur/ ]/ ,/ s/ [/ cur/ ]/ )/ )/ 1/ // iENDIFIFt/ [/ cur/ ]/ =/ s/ [/ cur/ ]/ THENcur/ =/ cur/ ./ YChildELSEcur/ =/ cur/ ./ NChildENDIFlevel/ ++/ ENDWHILERETURNsim/ 通过/ 上述/ 的/ 步骤/ 结合/ 式/ (/ 6/ )/ ~/ (/ 13/ )/ 可以/ 计算/ 出/ 给定/ 实例/ 对/ 的/ 相似性/ ,/ 并/ 通过/ 与/ 相似/ 度/ 阈值/ 的/ 比较/ 判断/ 给定/ 的/ 实例/ 对/ 是否/ 表示/ 为/ 同一/ 实体/ ./ 例/ 1/ ./ 我们/ 以表/ 1/ 中/ 实体/ t1/ 和表/ 2/ 中/ 的/ 实体/ s1/ 为例/ 介绍/ 如何/ 使用/ 基于/ PRTree/ 的/ NokeaRM/ 进行/ 实体/ 的/ 匹配/ ./ (/ 1/ )/ Step1/ ./ 我们/ 在/ 训练/ 集中/ 根据/ 式/ (/ 6/ )/ ~/ (/ 13/ )/ 通过/ 不断/ 地/ 迭代/ 运算/ 找出/ 每/ 一次/ 迭代/ 过程/ 中/ 符合要求/ 的/ 候选/ 属性/ ./ 从图/ 中/ 可以/ 看出/ Manufacturer/ 具有/ 较大/ 的/ 必要性/ 概率/ ,/ 也/ 即/ 对于/ 手机/ 而言/ 当/ Manufacturer/ 不/ 同时/ ,/ 两个/ 手机/ 实体/ 为/ 同一/ 实体/ 的/ 概率/ 基本/ 为/ 0/ ;/ 又/ 如当/ Manufacturer/ 和/ Release/ 一样/ 时/ ,/ OS/ 具有/ 较大/ 的/ 充分性/ 概率/ ./ 如果/ OS/ 一样/ ,/ 则/ 可/ 判定/ 这/ 两个/ 手机/ 实体/ 为/ 同一/ 实体/ ,/ 如果/ OS/ 不/ 一样/ 则/ 需要/ 从/ OS/ 的/ “/ N/ ”/ 分支/ 继续/ 寻找/ 符合要求/ 的/ 其他/ 属性/ ./ 最终/ ,/ 我们/ 得到/ 了/ 如图/ 2/ (/ a/ )/ 所示/ 的/ PRTree/ ./ (/ 2/ )/ Step2/ ./ 在/ Step1/ 完成/ 之后/ ,/ 根据/ Step1/ 计算/ 所得/ 结果/ ,/ 我们/ 得到/ 了/ 图/ 2/ (/ a/ )/ 中/ 节点/ 的/ Conf/ 值/ ,/ 如表/ 3/ 所示/ ./ NodeConfidence/ (/ 3/ )/ Step3/ ./ 对于/ 给定/ 的/ 表/ 1/ 中/ 的/ 实体/ t1/ 和表/ 2/ 中/ 的/ 实体/ s1/ ,/ 我们/ 根据/ 算法/ 2/ 中/ 介绍/ 如何/ 使用/ 图/ 2/ (/ a/ )/ 中/ 的/ PRTree/ 进行/ 实体/ 的/ 匹配/ ,/ 设定/ 属性/ 值/ 的/ 编辑/ 距离/ 相似/ 度/ 阈值/ 为/ 0.7/ ,/ 实体/ 相似/ 度/ 阈值/ 为/ 0.55/ ./ 我们/ 首先/ 从根/ 节点/ “/ Manufacturer/ ”/ 开始/ 遍历/ ,/ 由于/ sim/ (/ t1/ [/ Manuf/ ./ ]/ ,/ s1/ [/ Manuf/ ./ ]/ )/ =/ 1/ >/ 0.7/ ,/ 所以/ 我们/ 遍历/ “/ Manufacturer/ ”/ 的/ “/ Matched/ ”/ 子/ 节点/ “/ Release/ ”/ ;/ 因为/ sim/ (/ t1/ [/ Release/ ]/ ,/ s1/ [/ Release/ ]/ )/ =/ 0.86/ >/ 0.7/ ,/ 所以/ 我们/ 遍历/ “/ Release/ ”/ 的/ 子/ 节点/ “/ OS/ ”/ ;/ 接下来/ 我们/ 继续/ 计算/ sim/ (/ t1/ [/ OS/ ]/ ,/ s1/ [/ OS/ ]/ )/ =/ 0.86/ >/ 0.7/ ,/ 所以/ 我们/ 到达/ “/ OS/ ”/ 的/ “/ YES/ ”/ 节点/ 也/ 即/ 是/ 叶子/ 节点/ ;/ 最终/ ,/ 通过/ 式/ (/ 12/ )/ 结合/ 表/ 3/ 中/ 各/ 节点/ 的/ Conf/ 值/ ,/ 得到/ 表/ 1/ 中/ 的/ 实体/ t1/ 和表/ 2/ 中/ 的/ 实体/ s1/ 的/ 相似/ 度/ FPRTree/ (/ t1/ ,/ s1/ )/ =/ 1/ ×/ 0.940/ ./ 55/ ,/ 所以/ 表/ 1/ 中/ 的/ 实体/ t1/ 和表/ 2/ 中/ 的/ 实体/ s1/ 两者/ 是/ 匹配/ 的/ ,/ 也/ 即/ t1/ 和/ s1/ 为/ 同一/ 实体/ ./ Page83/ ./ 2.4/ 基于/ PRTree/ 的/ NokeaRM/ 算法/ 复杂度/ 分析/ 基于/ PRTree/ 的/ NokeaRM/ 算法/ 较/ Baseline/ 算法/ 而言/ 极大/ 地/ 减少/ 了/ 时间/ 上/ 的/ 开销/ ,/ 具体/ 体现/ 在/ 实例/ 对/ 之间/ 属性/ 的/ 比较/ 次数/ 的/ 减少/ ,/ 因为/ 前者/ 使用/ 尽可能少/ 的/ 属性/ 做出/ 最终/ 的/ 决策/ ,/ 而/ 后者/ 使用/ 全部/ 的/ 属性/ 才能/ 做出/ 决策/ ./ 算法/ 2/ 的/ 时间/ 复杂度/ 为/ O/ (/ qnm/ )/ ,/ 其中/ q/ 是/ 在/ 匹配/ 过程/ 中/ 每个/ 实例/ 对/ 所/ 到达/ 的/ 平均/ 高度/ ./ 注意/ 到/ q/ / p/ ,/ 因为/ 我们/ 可以/ 排除/ 一大部分/ 不/ 匹配/ 的/ 实例/ 对/ ,/ 并/ 在/ 尽可能/ 短/ 的/ 时间/ 内/ 找到/ 匹配/ 的/ 实例/ 对/ ./ 鉴于/ 主/ 属性/ 在/ 实体/ 识别/ 上/ 的/ 功效/ (/ 唯一/ 标识/ 某一/ 实体/ )/ ,/ 其/ 能够/ 在/ 一定/ 程度/ 上/ 辅助/ 非主/ 属性/ 进行/ 实体/ 匹配/ ,/ 因而/ 我们/ 在/ 本/ 小节/ 讨论/ 如何/ 将/ 基于/ PRTree/ 的/ NokeaRM/ 算法/ 与/ 基于/ 主/ 属性/ 的/ 实体/ 匹配/ 方法/ (/ keyRM/ )/ 相结合/ ./ 一种/ 可能/ 的/ 方式/ 就是/ 分别/ 从/ keyRM/ 和/ NokeaRM/ 中/ 获取/ 实例/ 对/ 的/ 相似/ 度/ 权重/ 之/ 和/ ,/ 但是/ 此/ 方式/ 的/ 问题/ 是/ 没有/ 一个/ 合适/ 的/ 权重/ 能够/ 满足/ 所有/ 的/ 情形/ ./ 另外/ 一种/ 方式/ 是/ 先/ 执行/ KeyRM/ 或者/ NokeaRM/ 并/ 限定/ 一个/ 严格/ 的/ 准确率/ 阈值/ ,/ 接下来/ 执行/ 另外/ 一种/ RM/ 算法/ 用以/ 提高/ 召回/ 率/ ./ 然而/ ,/ 通过/ 我们/ 的/ 观察/ 发现/ ,/ 这种/ 方式/ 也/ 不能/ 达到/ 一个/ 较/ 高/ 的/ 准确率/ 和/ 召回/ 率/ ./ 最终/ ,/ 我们/ 发现/ 在/ 建立/ PRTree/ 的/ 过程/ 中/ 使主/ 属性/ 参与/ 进去/ ,/ 这种/ 结合/ 方式/ 可以/ 达到/ 最好/ 的/ 性能/ ./ 如图/ 2/ (/ b/ )/ 中/ 所示/ ,/ 新/ 的/ PRTree/ 将主/ 属性/ “/ Product/ ”/ 作为/ 其/ 一个/ 节点/ 存在/ ./ 我们/ 在/ 接下来/ 的/ 实验/ 部分/ 对/ 这种/ 结合/ 方式/ 的/ 效果/ 加以/ 评估/ ./ 4/ 实验/ 部分/ 我们/ 在/ 两个/ 真实/ 数据/ 集/ 和/ 一个/ 合成/ 数据/ 集上/ 验证/ 了/ 我们/ 的/ 方法/ ./ 手机/ 数据/ 集/ (/ Mobile/ )/ ./ 我们/ 分别/ 从天/ 猫/ 网/ (/ Tmall/ )/ 和/ 太平洋/ 电脑网/ (/ PConline/ )/ 搜集/ 了/ 在/ 售/ 的/ 手机/ 信息/ ./ Tmall/ 数据表/ 中/ 含有/ 4k/ 个/ 元组/ ,/ 53/ 个/ 属性/ ,/ PConline/ 数据表/ 中/ 含有/ 5.6/ k/ 个/ 元组/ ,/ 46/ 个/ 属性/ ./ 这/ 两个/ 数据表/ 共有/ 的/ 实例/ 个数/ 为/ 3.8/ k/ ,/ 共有/ 的/ 属性/ 个数/ 为/ 38/ ,/ 其中/ 共有/ 的/ 属性/ 如/ ReleaseDate/ ,/ OperationSystem/ ,/ RAM/ ,/ ScreenSize/ ,/ Type/ 等/ ./ 相机/ 数据/ 集/ (/ Camera/ )/ ./ 我们/ 分别/ 从/ 天极网/ (/ Yesky/ )/ 和/ 太平洋/ 电脑网/ (/ PConline/ )/ 搜集/ 了/ 在/ 售/ 的/ 数码相机/ 的/ 信息/ ./ Yesky/ 数据表/ 中/ 含有/ 2.5/ k/ 个/ 元组/ ,/ 50/ 个/ 属性/ ,/ PConline/ 数据表/ 中/ 含有/ 3.4/ k/ 个/ 元组/ ,/ 44/ 个/ 属性/ ./ 这/ 两个/ 数据表/ 共有/ 的/ 实例/ 个数/ 为/ 2.5/ k/ ,/ 共有/ 的/ 属性/ 个数/ 为/ 31/ ,/ 其中/ 共有/ 的/ 属性/ 如/ Type/ ,/ Pixels/ ,/ Panel/ ,/ Wifi/ ,/ Manufacturer/ 等/ ./ 仿真/ 数据/ 集/ (/ Synthetic/ )/ ./ 我们/ 生成/ 了/ 两个/ 仿真/ 数据表/ ,/ 具有/ 100k/ 个/ 元组/ ,/ 60/ 个/ 共有/ 属性/ ./ 我们/ 使用/ 了/ 一定/ 的/ 规则/ 使得/ 数据/ 的/ 分布/ 近似于/ 真实/ 数据/ 集/ ./ 例如/ ,/ 匹配/ 实体/ 的/ 属性/ 值/ 相似/ 度/ 统一/ 地/ 分布/ 在/ 0/ 和/ 1/ 之间/ ./ 注意/ 到/ 真实/ 数据/ 集上/ 有/ 一些/ 缺失/ 的/ 属性/ 值/ ,/ 我们/ 在/ 生成/ 合成/ 数据/ 集时/ 对/ 非主/ 属性/ 也/ 随机/ 产生/ 一定/ 数目/ 的/ 缺失/ 值/ ./ 我们/ 大致/ 上/ 使用/ 3/ 个/ 度量/ 标准/ 评估/ 方法/ 的/ 效果/ ./ 准确率/ (/ Precision/ )/ :/ 所有/ 匹配/ 的/ 实体/ 中/ 正确/ 匹配/ 的/ 实例/ 所/ 占/ 的/ 比例/ ;/ 召回/ 率/ (/ Recall/ )/ :/ 所有/ 应该/ 匹配/ 的/ 实体/ 中/ 正确/ 匹配/ 的/ 实体/ 所/ 占/ 的/ 比例/ ;/ F1Score/ :/ 对/ 准确率/ 和/ 召回/ 率/ 的/ 综合/ 考虑/ ,/ 计算方法/ 如下/ 所示/ :/ 2/ ×/ precision/ ×/ recallF1/ =/ 销/ 评估/ 方法/ 的/ 效率/ ./ 4.1/ 参数/ 设定/ 在/ 我们/ 的/ 算法/ 当中/ 有/ 一些/ 重要/ 的/ 参数/ 需要/ 设定/ ,/ 这些/ 参数/ 共同/ 影响/ 着/ 算法/ 的/ 效果/ 和/ 效率/ ./ 在/ 评估/ 我们/ 提出/ 的/ 方法/ 之前/ ,/ 先对/ 使用/ 到/ 的/ 参数/ 加以/ 说明/ :/ (/ 1/ )/ 创建/ PRTree/ 的/ 阈值/ (/ ThresholdsforBuildingtheTree/ )/ :/ 图/ 3/ 展示/ 了/ F1Score/ 随着/ 两个/ 阈值/ τ/ s/ 和/ τ/ n/ 在/ 0/ 和/ 1/ 之间/ 变动/ 时/ 发生/ 的/ 改变/ ./ 通过观察/ 发现/ ,/ 当/ τ/ s/ =/ 0.8/ ,/ τ/ n/ =/ 1/ 时/ ,/ F1Score/ 达到/ 最大值/ ./ 同时/ 我们/ 也/ 使用/ 一个/ 阈值/ τ/ stop/ 控制/ 树/ 的/ 高度/ 以及/ 质量/ ,/ 观察/ 发现/ 当/ τ/ stop/ ≈/ 0.6/ 时/ ,/ 树/ 的/ 效果/ 达到/ 最好/ ./ 注意/ 到/ 在/ 图/ 3/ (/ a/ )/ 中/ 由于/ τ/ s/ 的/ 值太高/ ,/ 一些/ 比较/ 重要/ 的/ 属性/ 被/ 排除/ 而/ 不能/ 用于/ 创建/ PRTree/ ,/ 导致/ 了/ F1Score/ 的/ 急剧下降/ ;/ (/ 2/ )/ 字符串/ 相似/ 度/ 阈值/ (/ ThresholdforStringSimilarity/ )/ :/ 通过/ 对/ 3/ 个/ 数据/ 集/ 的/ 实验/ 发现/ 最佳/ 的/ 字符串/ 相似/ 度/ 阈值/ 取值/ 大约/ 为/ 0.7/ ;/ (/ 3/ )/ 匹配/ 实例/ 的/ 阈值/ (/ ThresholdforMatchingInstances/ )/ :/ 我们/ 也/ 需要/ 一个/ 用于/ 判定/ 实例/ 对/ 匹配/ 结果/ 的/ 阈值/ τ/ matched/ ./ 通过/ 对/ 3/ 个/ 数据/ 集上/ 的/ 实验/ 发现/ τ/ matched/ =/ 0.55/ 为/ 一个/ 比较/ 合适/ 的/ 取值/ ./ Page94/ ./ 2/ 和/ 以往/ 方法/ 的/ 比较/ 我们/ 将/ 本文/ 中/ 提出/ 的/ 实体/ 匹配/ 方法/ (/ Baseline/ 算法/ 和/ PRTree/ (/ Nokey/ )/ -/ based/ 算法/ )/ 与/ 现有/ 的/ 多种/ 技术/ 合成/ 的/ 最/ 先进/ 的/ Key/ -/ based/ 实体/ 匹配/ 方法/ 以及/ 最/ 先进/ 的/ 使用/ 非主/ 属性/ 进行/ 实体/ 匹配/ 的/ 方法/ Matchingtree/ -/ based/ [/ 5/ ]/ 比较/ 各自/ 的/ 准确率/ 和/ 召回/ 率/ ./ 在/ 我们/ 算法/ 中/ 使用/ 的/ 字符串/ 相似/ 度/ 函数/ 统一/ 选择/ Editdistance/ ./ (/ 1/ )/ Key/ -/ based/ ./ 该/ 方法/ 合成/ 了/ 在/ 多篇/ 文章/ 中/ 提及/ 的/ 几种/ 基于/ 键值/ 匹配/ 的/ 最新/ 技术/ ./ 我们/ 首先/ 创建/ 基于/ Q/ -/ gram/ 的/ 后缀/ 数组/ ,/ 并/ 将/ 可能/ 匹配/ 的/ 实体/ 根据/ 已知/ 的/ 可靠/ 匹配/ 实体/ 中/ 提取/ 的/ “/ 分块/ 主键/ ”/ 对/ 实体/ 进行/ 分块/ 操作/ [/ 6/ ]/ ,/ 此外/ ,/ 我们/ 融入/ 了/ prefix/ -/ basedfiltering/ 术/ 进行/ 块/ 内/ 实体/ 间/ 的/ 相似性/ 计算/ ,/ 此/ 方法/ 提升/ 了/ 实体/ 匹配/ 的/ 效率/ ./ (/ 2/ )/ Matchingtree/ -/ based/ ./ 基于/ 非主/ 属性/ 的/ 匹配/ 算法/ 目前/ 唯有/ Dey/ 等/ 人/ 在/ 文献/ [/ 5/ ]/ 中/ 提出/ 的/ 另外/ 一种/ 基于/ 0/ -/ 1/ 分支/ 决策树/ 的/ 匹配/ 树/ 算法/ Matchingtree/ -/ based/ ./ 简而言之/ ,/ 此/ 方法/ 在/ 筛选/ 匹配/ 树/ 的/ 节点/ 时/ ,/ 根据/ 属性/ 的/ 匹配/ 概率/ 选择/ 具有/ 最大/ 熵/ 的/ 属性/ ,/ 只是/ 简单/ 地/ 根据/ 属性/ 值/ 是否/ 一致/ 将/ 其/ 分为/ 0/ -/ 1/ 分支/ 从而/ 建立/ matchingtree/ ./ 我们/ 除了/ 将/ 上述/ 两种/ 方法/ 与/ 本文/ 中/ 提出/ 的/ Baseline/ 方法/ 和/ 无主/ 属性/ 的/ 基于/ PRTree/ 的/ NokeaRM/ 方法/ 作/ 比较/ 之外/ ,/ 也/ 考虑/ 了/ 将/ 基于/ PRTree/ 的/ 方法/ 和/ Key/ -/ based/ 的/ 方法/ 结合/ 的/ 方法/ ,/ 通过/ 在/ 3/ 个/ 数据/ 集上/ 的/ 实验/ 结果/ 发现/ 将主/ 属性/ 也/ 用于/ 创建/ PRTree/ 时/ 匹配/ 效果/ 达到/ 最优/ ./ 因此/ ,/ 我们/ 也/ 使用/ 了/ PRTree/ (/ Key/ )/ -/ based/ 参与/ 比较/ ./ 首先/ ,/ 我们/ 将/ 上述/ 5/ 种/ 实体/ 匹配/ 方法/ 在/ 准确率/ 图/ 4/ 在/ 准确率/ 和/ 召回/ 率/ 方面/ 与/ 以往/ 方法/ 的/ 对比/ 图/ 5/ 在/ 准确率/ 和/ 召回/ 率/ 方面/ 与/ Matchingtree/ -/ based/ 方法/ 的/ 对比/ 和/ 召回/ 率/ 方面/ 做出/ 评估/ ,/ 实验/ 结果/ 如图/ 4/ 所示/ ,/ 上述/ 5/ 种/ 方法/ 随着/ 召回/ 率地/ 不断/ 增大/ ,/ 其/ 准确率/ 整体/ 上/ 呈/ 下降/ 趋势/ ./ 不同/ 的/ 方法/ 在/ 下降/ 的/ 平稳/ 程度/ 上/ 有所不同/ ./ 我们/ 发现/ Key/ -/ based/ 方法/ 与/ 我们/ 提出/ 的/ 方法/ 相比/ 在/ 准确率/ 和/ 召回/ 率/ 方面/ 具有/ 最差/ 的/ 效果/ ,/ 而/ Baseline/ 方法/ 效果/ 优于/ Key/ -/ based/ 方法/ ,/ 低于/ Matchingtree/ -/ based/ 方法/ ,/ 而/ Matchingtree/ -/ based/ 方法/ 较/ PRTree/ 方法/ 相比/ 效果/ 略差/ ,/ 使用/ 了/ 主/ 属性/ 和/ 非主/ 属性/ 的/ PRTree/ 方法/ 在/ 准确率/ 和/ 召回/ 率/ 方面/ 达到/ 最优/ 的/ 效果/ ./ 没有/ 使用/ 主/ 属性/ 的/ PRTree/ 方法/ 也/ 达到/ 一个/ 比较/ 好/ 的/ 效果/ ,/ 之所以/ 这种/ 方法/ 比/ 使用/ 主/ 属性/ 的/ PRTree/ 方法/ 效果/ 略差/ 是因为/ 缺少/ 了/ 主/ 属性/ 的/ 提供/ 的/ 信息/ ./ 我们/ 对/ 上述/ 各种/ 方法/ 所/ 达到/ 的/ 效果/ 做出/ 如下/ 分析/ :/ Key/ -/ based/ 方法/ 整体/ 上/ 波动/ 较大/ ,/ 因为/ 此/ 方法/ 易受/ 数据/ 的/ 影响/ ,/ 当/ 数据/ 在/ 表达方式/ 上/ 相差/ 较大/ 时/ ,/ 其/ 准确率/ 和/ 召回/ 率会/ 受到/ 极大/ 的/ 影响/ ,/ 导致/ 本/ 应该/ 匹配/ 的/ 实体/ 无法/ 正确/ 的/ 匹配/ ./ 如图/ 4/ (/ b/ )/ 所示/ ,/ 当/ Key/ -/ based/ 方法/ 的/ 召回/ 率/ 超过/ 0.75/ 后/ ,/ 其/ 准确率/ 急剧下降/ ./ Baseline/ 方法/ 在/ 稳定性/ 上/ 优于/ key/ -/ based/ 方法/ ,/ 因为/ Baseline/ 方法/ 使用/ 了/ 非主/ 属性/ ,/ 受/ 数据/ 表达方式/ 的/ 影响/ 较/ 小/ ./ 如图/ 5/ 所示/ ,/ Matchingtree/ -/ based/ 方法/ 和/ 基于/ PRTree/ 的/ 方法/ 的/ 准确率/ 随/ 召回/ 率/ 稳定/ 变化/ ,/ 但/ Matchingtree/ -/ based/ 方法/ 的/ 变化率/ 比/ 使用/ 主/ 属性/ 的/ PRTree/ 方法/ 大/ ./ 因为/ 一方面/ 在/ 数据/ 集中/ 有/ 缺失/ 值/ 的/ 存在/ ,/ Matchingtree/ -/ based/ 方法/ 易/ 受到/ 缺失/ 值/ 的/ 影响/ ,/ 而/ 使用/ 主/ 属性/ 的/ PRTree/ 方法/ 考虑/ 了/ 缺失/ 值/ 的/ 情况/ ;/ 另一方面/ ,/ Matchingtree/ -/ based/ 方法/ 忽略/ 了/ 不同/ 层次/ 的/ 节点/ 对/ 匹配/ 结果/ 的/ 影响/ ,/ 而/ 使用/ 主/ 属性/ 的/ PRTree/ 方法/ 考虑/ 了/ 不同/ 层次/ 节点/ 的/ 影响/ ./ 使用/ 主/ 属性/ 的/ PRTree/ 方法/ 效果/ 优于/ 不/ 使用/ 属性/ 的/ PRTree/ 方法/ ,/ 原因/ 在于/ 使用/ 主/ 属性/ Page10/ 的/ PRTree/ 方法/ 通过/ 使用/ 主/ 属性/ 获取/ 了/ 匹配/ 所/ 需/ 的/ 重要/ 信息/ ,/ 在/ 一定/ 程度/ 上/ 较/ 少/ 了/ 影响/ 的/ 力度/ ./ 大体上/ ,/ 在/ 3/ 个/ 数据/ 集上/ 的/ 实验/ 结果表明/ ,/ 我们/ 的/ 方法/ 在/ 准确率/ 方面/ 提升/ 了/ 近/ 15/ %/ ,/ 召回/ 率/ 方面/ 提升/ 了/ 20/ %/ 左右/ ./ 其次/ ,/ 我们/ 对/ 上述/ 5/ 种/ 方法/ 在/ 效率/ 方面/ 做出/ 了/ 对比/ ,/ 比较/ 了/ 这些/ 方法/ 在/ 3/ 个/ 数据/ 集上/ 各自/ 的/ 时间/ 开销/ ./ 如图/ 6/ 所示/ ,/ Key/ -/ based/ 方法/ 的/ 时间/ 开销/ 最少/ ,/ 因为/ 此/ 方法/ 只/ 使用/ 了/ 主/ 属性/ 进行/ 实体/ 匹配/ ,/ 而且/ 使用/ 了/ block/ 、/ prefixfiltering/ 和/ invertedindices/ 等/ 技术/ 减少/ 匹配/ 的/ 开销/ ;/ Baseline/ 方法/ 的/ 平均/ 时间/ 开销/ 是/ Key/ -/ based/ 方法/ 的/ 30/ 倍/ 左右/ ,/ 因为/ Baseline/ 方图/ 6/ 在/ 效率/ 方面/ 与/ 以往/ 方法/ 的/ 对比/ 图/ 7/ 在/ 效率/ 方面/ 与/ Matchingtree/ -/ based/ 方法/ 的/ 对比/ 4.3/ 可扩展性/ 评估/ 如图/ 8/ 所示/ ,/ 我们/ 在/ 仿真/ 数据/ 集上/ 对/ PRTree/ 方法/ 的/ 可扩展性/ 做出/ 了/ 评估/ ./ 从图/ 8/ (/ a/ )/ 中/ 可以/ 看出/ ,/ 随着/ 记录/ 数目/ 从/ 100/ 变化/ 至/ 10W/ ,/ 其/ 时间/ 开销/ 以/ 一种/ 近似于/ 指数/ 增长/ 的/ 方式/ 缓慢/ 地/ 增加/ ,/ 也/ 从/ 另一方面/ 证明/ 了/ PRTree/ 可以/ 高效/ 地/ 减少/ 比较/ 时间/ ./ 图/ 8/ 不同/ 数目/ 的/ 记录/ 数/ 和/ 属性/ 数对/ PRTree/ 在/ 效法/ 使用/ 了/ 所有/ 的/ 属性/ 进行/ 匹配/ ,/ 而/ 基于/ PRTree/ 的/ 方法/ 其/ 时间/ 开销/ 比/ Baseline/ 算法/ 少/ 10/ 倍/ 多/ ,/ 因为/ 基于/ PRTree/ 的/ 方法/ 筛选/ 了/ 充分性/ 或/ 必要性/ 概率/ 最大/ 属性/ ,/ 并/ 结合/ 合理/ 的/ 停止/ 建树/ 阈值/ 剔除/ 一些/ 影响/ 因子/ 小/ 的/ 属性/ ,/ 这样/ 能够/ 尽可能/ 早/ 的/ 做出/ 决策/ ,/ 极大/ 地/ 减少/ 属性/ 值/ 的/ 比较/ 次数/ ,/ 从而/ 提高/ 匹配/ 效率/ ./ 从图/ 7/ 中/ 可以/ 看出/ ,/ 基于/ PRTree/ 的/ 方法/ 在/ 效率/ 上/ 与/ Matchingtree/ -/ based/ 方法/ 相差/ 不/ 大/ ,/ 但/ 在/ 平均/ 效率/ 上/ 看/ ,/ Matchingtree/ -/ based/ 方法/ 稍低/ 一些/ ,/ 主要/ 因为/ Matchingtree/ -/ based/ 方法/ 在/ 创建/ matchingtree/ 时/ 在/ 属性/ 的/ 选择/ 上/ 开销/ 较大/ ,/ 特别/ 是/ 在/ 假/ 阳性/ 错误/ 出现/ 的/ 时候/ ./ 从图/ 8/ (/ b/ )/ 中/ 得出/ ,/ 随着/ 属性/ 数目/ 从/ 10/ 增加/ 至/ 60/ ,/ 其/ 时间/ 开销/ 以/ 近似于/ 线性/ 方式/ 增加/ ./ 5/ 相关/ 工作/ 实体/ 匹配/ 近年来/ 一直/ 被/ 广泛/ 地/ 研究/ [/ 9/ -/ 11/ ]/ ,/ 其/ 应用领域/ 涉及/ 到/ 医疗卫生/ [/ 12/ -/ 13/ ]/ 、/ 国际/ 安全/ [/ 14/ ]/ 、/ 信息检索/ [/ 15/ -/ 16/ ]/ 、/ 商业/ 数据管理/ [/ 17/ ]/ 等/ ./ 之前/ 各种/ 字符串/ 相似性/ 度量/ 方法/ 被/ 提出/ ,/ 如/ 基于/ 字符/ 的/ 算法/ (/ 如/ editdistance/ [/ 18/ ]/ 、/ Jarodistance/ [/ 9/ ]/ 、/ Q/ -/ gram/ [/ 19/ ]/ )/ 和/ 基于/ 符号/ 的/ 算法/ (/ 如/ atomicstring/ 些/ 混合/ 的/ 方法/ 被/ 提出/ [/ 22/ -/ 23/ ]/ ,/ 这些/ 方法/ 或是/ 直接/ 用于/ 实体/ 匹配/ 或是/ 间接/ 辅助/ 进行/ 实体/ 匹配/ ,/ 有/ 的/ 方法/ 注重/ 于/ 匹配/ 效率/ 的/ 提升/ ,/ 如/ Q/ -/ gram/ 算法/ ,/ 而/ 有/ 的/ 方法/ 注重/ 于/ 提高/ 匹配/ 的/ 质量/ ,/ 如/ WHIRL/ ./ 此外/ ,/ 文献/ [/ 24/ ]/ 提出/ 了/ 两种/ 可/ 学习/ 的/ 文本/ 字符串/ 相似/ 度/ 度量/ 方法/ ,/ 包括/ 可/ 学习/ 的/ 字符串/ 编辑/ 距离/ 算法/ 和/ 使用/ SVM/ 的/ 向量/ 空间/ 度量/ 算法/ ,/ 针对/ 数据表/ 不同/ 的/ 字/ 段/ 使用/ 不/ Page11/ 同/ 的/ 方法/ ,/ 在/ 实体/ 匹配/ 过程/ 中该/ 方法/ 具有/ 较/ 好/ 匹配/ 准确性/ ./ 近/ 几十年/ 来/ ,/ 一些/ 基于/ 分类/ [/ 25/ ]/ 和/ 语义/ 网络/ [/ 26/ ]/ 的/ 方法/ 也/ 有/ 被/ 提出/ ,/ 然而/ 存在/ 灵活性/ 差/ ,/ 时间/ 开销/ 大/ 等/ 问题/ ./ 实体/ 匹配/ 的/ 一个/ 重大/ 问题/ 是/ 算法/ 的/ 时间/ 复杂度/ ./ 为了/ 减少/ 实例/ 对/ 的/ 比较/ 次数/ ,/ 近年来/ 有/ 许多/ 高效/ 的/ 方法/ 被/ 提出/ ./ 例如/ ,/ 一些/ 工作/ 将/ Q/ -/ Gram/ 算法/ 和/ 倒排/ 索引/ 算法/ (/ InvertedIndices/ )/ [/ 27/ ]/ 结合/ ,/ 通过/ 这/ 两种/ 方法/ 可以/ 提高/ 匹配/ 效率/ ,/ 以/ 尽可能少/ 的/ 时间/ 开销/ 为/ 目的/ 进行/ 实体/ 匹配/ ,/ 但/ 此类/ 方法/ 的/ 适用性/ 存在/ 一定/ 的/ 问题/ ,/ 如当/ 参与/ 匹配/ 的/ 实体/ 存在/ 缺失/ 值/ ,/ 此类/ 方法/ 将/ 不再/ 适用/ ./ 通过/ 使用/ 一些/ 提高效率/ 的/ 算法/ 利用/ 主/ 属性/ 进行/ 实体/ 匹配/ 的/ 方法/ [/ 6/ -/ 8/ ]/ 在/ 进行/ 实体/ 匹配/ 过程/ 中易/ 受/ 数据/ 的/ 影响/ ,/ 如/ 缺失/ 值/ 、/ 错误/ 值/ 等/ ,/ 而且/ 在/ 数据/ 表达方式/ 不/ 同时/ 其/ 匹配/ 的/ 结果/ 也/ 会/ 受到/ 严重/ 的/ 影响/ ./ 此外/ ,/ 还有/ 一些/ 基于/ 前缀/ 修剪/ (/ prefix/ -/ basedpruning/ )/ 的/ 方法/ [/ 28/ ]/ 、/ 基于/ top/ -/ kmode/ [/ 29/ ]/ 的/ 方法/ 以及/ 基于/ 批量/ 匹配/ (/ batch/ -/ based/ )/ 的/ 方法/ [/ 30/ ]/ ,/ 通过/ 这些/ 方法/ 过滤/ 那些/ “/ 明显/ ”/ 不/ 匹配/ 的/ 实例/ 对/ ,/ 减少/ 匹配/ 过程/ 中/ 的/ 比较/ 次数/ ./ 文献/ [/ 31/ ]/ 提出/ 了/ 一种/ 使用/ 正例/ 和/ 反例/ 的/ 方式/ 结合/ 相似/ 度/ 连接/ (/ similarityjoin/ )/ 和/ 结合/ (/ similarityunions/ )/ 以及/ 用户/ 指定/ 的/ 相似/ 度/ 函数/ 构建/ SJU/ 操作/ 树/ ,/ 查询/ 某种/ 适用/ 于/ 待/ 匹配/ 实体/ 属性/ 的/ 相似性/ 度量/ 算法/ ,/ 达到/ 每个/ 属性/ 以/ 最合适/ 的/ 相似性/ 算法/ 进行/ 匹配/ 的/ 目的/ ,/ 该/ 方法/ 不仅/ 适用/ 于/ 小/ 中型/ 数据/ ,/ 而且/ 在/ 大型/ 数据库/ 上/ 也/ 适用/ ./ 此外/ ,/ 也/ 有/ 一些/ 方法/ [/ 32/ ]/ 将/ 属性/ 值/ 映射/ 到/ 多维/ 欧几里得/ 空间/ ,/ 根据/ 给定/ 的/ 合并/ 规则/ 结合/ 属性/ 的/ 相似性/ 选择/ 一个/ 属性/ 的/ 集合/ ,/ 应用/ 多维/ 相似性/ 连接/ 用以/ 判断/ 实例/ 对/ 的/ 相似性/ ./ 文献/ [/ 7/ ]/ 中/ 提出/ 了/ 一种/ 使用/ 非主/ 属性/ 进行/ 实体/ 匹配/ 的/ 方法/ ,/ 该/ 方法/ 通过/ 利用/ 非主/ 属性/ 创建/ 一棵/ 类似/ 于/ 决策树/ 的/ Matchingtree/ 进行/ 匹配/ ./ 该文/ 提出/ 的/ Matchingtree/ 是/ 一种/ 0/ -/ 1/ 结构/ 的/ 二分/ 树/ ,/ 通过/ 一定/ 的/ 概率/ 计算/ 方式/ 选择/ 属性/ 作为/ Matchingtree/ 的/ 节点/ ,/ 然后/ 从根/ 节点/ 到/ 叶/ 节点/ 遍历/ 进行/ 匹配/ ./ 但是/ 这种/ 方法/ 存在/ 适用性/ 问题/ ,/ 当/ 属性/ 值/ 出现/ 缺失/ 时/ ,/ 匹配/ 过程/ 便/ 无法/ 进行/ ./ 而/ 本文/ 提出/ 的/ PRTree/ 却/ 能/ 很/ 好/ 地/ 处理/ 该/ 问题/ ,/ 当遍/ 历时/ 出现/ 缺失/ 值/ PRTree/ 能够/ 产生/ 独立/ 的/ 分支/ ,/ 即/ 属性/ 值为/ 空时/ 遍历/ 该/ 属性/ 下/ 的/ 其它/ 节点/ ,/ 进行/ 后续/ 的/ 匹配/ 过程/ ./ 此外/ ,/ Matchingtree/ -/ based/ 方法/ 没有/ 考虑/ Matchingtree/ 中/ 不同/ 层次/ 的/ 属性/ 对/ 匹配/ 结果/ 的/ 影响/ 度/ ,/ 粗糙/ 地/ 将/ 靠近/ 根/ 节点/ 的/ 属性/ 给予/ 匹配/ 结果/ 较大/ 的/ 影响/ ,/ 将/ 靠近/ 叶子/ 节点/ 的/ 属性/ 给予/ 匹配/ 结果/ 较/ 小/ 的/ 影响/ ,/ 而/ 实际上/ 应该/ 根据/ 节点/ 所在/ 的/ 层次/ 给予/ 合适/ 的/ 权重/ 分配/ ,/ 而/ 基于/ PRTree/ 的/ 方法/ 使用/ 了/ 平衡/ 函数/ 合理/ 地/ 分配/ 权重/ ./ 6/ 总结/ 以及/ 未来/ 的/ 工作/ 在/ 本文/ 中/ ,/ 我们/ 研究/ 了/ 基于/ 非主/ 属性/ 的/ 实体/ 匹配/ 问题/ 即/ NokeaRM/ 问题/ ./ 我们/ 首先/ 提出/ 了/ 一种/ 使用/ 所有/ 属性/ 进行/ 实体/ 匹配/ 的/ Baseline/ 方法/ ,/ 该/ 方法/ 使用/ 属性/ 区分/ 某一/ 实体/ 不同于/ 其他/ 实体/ 的/ 能力/ ,/ 综合/ 考虑/ 所有/ 属性/ 值/ 的/ 相似/ 度/ 对/ 实例/ 对/ 进行/ 实体/ 匹配/ 计算/ ./ 然而/ Baseline/ 方法/ 因为/ 要/ 比较/ 很多/ 的/ 非主/ 属性/ 值/ 对/ 因而/ 效率/ 很差/ ./ 因此/ 我们/ 又/ 提出/ 了/ 一个/ 高效/ 的/ 基于/ 概率/ 决策树/ 的/ NokeaRM/ 方法/ ./ 其/ 思想/ 为/ 在/ 实体/ 匹配/ 的/ 过程/ 中/ ,/ 能够/ 尽可能/ 早地/ 发现/ 匹配/ 的/ 实体/ 以及/ 尽可能/ 早地/ 排除/ 不/ 匹配/ 的/ 实体/ ,/ 从而/ 减少/ 实体/ 之间/ 比较/ 的/ 时间/ 开销/ ,/ 大大提高/ 了/ 基于/ 众多/ 非主/ 属性/ 值/ 进行/ 实体/ 匹配/ 的/ 效率/ ./ 通过/ 与/ 现有/ 的/ 实体/ 匹配/ 方法/ 相比/ ,/ 可以/ 看出/ 我们/ 的/ 方法/ 达到/ 了/ 更/ 高/ 的/ 准确率/ 和/ 召回/ 率/ ./ 此外/ ,/ 我们/ 扩展/ 了/ 基于/ 非主/ 属性/ 的/ PRTree/ 方法/ ,/ 将主/ 属性/ 也/ 用于/ 概率/ 决策树/ 的/ 创建/ 之中/ ,/ 进一步/ 改善/ 了/ 实体/ 匹配/ 的/ 精确度/ ./ 基于/ PRTree/ 的/ 方法/ 也/ 有/ 需要/ 改善/ 的/ 地方/ ./ 在/ 未来/ 的/ 工作/ 中/ ,/ 我们/ 会/ 考虑/ 如何/ 更/ 好地解决/ 错误/ 属性/ 值/ 对/ 匹配/ 的/ 影响/ ./ 我们/ 可能/ 考虑/ 将/ 数据/ 纠错/ 和/ 实体/ 匹配/ 相结合/ ,/ 实现/ 两者之间/ 的/ 交互/ ,/ 使/ 两者/ 相互促进/ ./ 更/ 多/ 匹配/ 的/ 实体/ 有利于/ 纠正/ 更/ 多/ 的/ 错误/ 值/ ,/ 而/ 更/ 多/ 错误/ 值/ 的/ 纠正/ 有利于/ 发现/ 更/ 多/ 匹配/ 的/ 实体/ ./ 此外/ ,/ 我们/ 还/ 考虑/ 将/ 众包/ 技术/ (/ Crowdsourcing/ )/ 融入/ 到/ 我们/ 的/ 方法/ 之中/ ,/ 将/ 一些/ 机器/ 无法/ 做出/ 的/ 判断/ 交给/ 众包/ 平台/ ,/ 从而/ 进一步/ 提升/ 匹配/ 精准度/ ./ 

