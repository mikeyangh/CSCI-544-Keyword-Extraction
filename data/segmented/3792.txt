Page1XML/ 空间/ 频繁/ 变化/ 结构/ 挖掘/ 方法/ 李巍/ 李/ 雄飞/ 郭建芳/ (/ 吉林大学/ 计算机科学/ 与/ 技术/ 学院/ 长春/ 130012/ )/ (/ 符号计算/ 与/ 知识/ 工程/ 教育部/ 重点/ 实验室/ 长春/ 130012/ )/ 摘要/ XML/ 数据/ 在/ 实际/ 使用/ 过程/ 中/ 不断/ 发生/ 改变/ ,/ 针对/ XML/ 数据/ 动态/ 可变/ 的/ 特点/ ,/ 提出/ 一种/ 根据/ XML/ 数据/ 变化/ 过程/ 挖掘/ XML/ 空间/ 频繁/ 变化/ 结构/ SFCS/ (/ SpatialFrequentlyChangingStructure/ )/ 的/ 方法/ ,/ 首先/ 提出/ XML/ 子结构/ 空间/ 度量/ 方法/ ,/ 通过/ 结构/ 空间/ 变化/ 度/ SSCD/ 、/ 版本/ 空间/ 变化/ 度/ VSCD/ 和/ 空间/ 变化/ 程度/ SCD/ 这/ 3/ 个/ 度量/ 值/ 衡量/ XML/ 子结构/ 的/ 空间/ 变化/ 频繁/ 性/ 并/ 提出/ SFCS/ 定义/ ./ 进一步/ ,/ 提出/ 一种/ 用于/ 保存/ XML/ 空间/ 变化/ 信息/ 和/ 发现/ SFCS/ 的/ 数据模型/ SC/ -/ DOM/ ,/ 论证/ 了/ XML/ 编辑/ 操作/ 对/ 子结构/ 空间/ 的/ 影响/ 并/ 据此/ 提出/ SC/ -/ DOM/ 状态/ 动态/ 迁移/ 方式/ ,/ 最后/ 提出/ 根据/ SC/ -/ DOM/ 发现/ SFCS/ 的/ 算法/ 并/ 讨论/ 算法/ 复杂度/ ./ 实验/ 结果表明/ SFCS/ 是/ 频繁/ 变化/ 的/ 结构/ ,/ 使用/ SC/ -/ DOM/ 模型/ 进行/ SFCS/ 挖掘/ 是/ 有效/ 且/ 可/ 扩展/ 的/ ./ 关键词/ 数据挖掘/ ;/ XML/ ;/ 频繁/ 模式/ ;/ 空间/ 频繁/ 变化/ 结构/ ;/ SC/ -/ DOM1/ 引言/ 文档/ 、/ XML/ 文档/ 、/ EmailMessage/ 等/ )/ 已经/ 广泛应用/ 于/ 互联网/ 信息/ 存储/ 与/ 信息/ 交换/ 领域/ ./ 1998/ 年/ ,/ W3C/ 制定/ XML/ (/ eXtensibleMarketLanguage/ )/ 标准/ 格式/ 随着/ 互联网/ 的/ 发展/ ,/ 半/ 结构化/ 数据/ (/ 如/ HTML/ (/ XML1/ ./ 0/ )/ ./ XML/ 文档/ 是/ 典型/ 的/ 半/ 结构化/ 数据/ ,/ 具/ Page2/ 有/ 层次性/ 、/ 自述/ 性/ 、/ 动态/ 可变性/ 等/ 特点/ ,/ 已经/ 成为/ Web/ 数据管理/ 标准/ 格式/ [/ 1/ ]/ ./ 另外/ ,/ 一些/ 非/ 互联网/ 的/ 应用/ 也/ 使用/ 半/ 结构化/ 数据格式/ 存储/ 信息/ (/ 例如/ ,/ OpenXML/ 是/ MicrosoftOffice/ 文档/ 的/ 存储/ 格式/ 、/ OpenDocument/ 是/ OpenOffice/ 文档/ 的/ 存储/ 格式/ )/ ./ 半/ 结构化/ 数据编码/ 方式/ 与/ 结构化/ 数据/ (/ 如/ 关系/ 型/ 数据库/ 中/ 的/ 数据/ 、/ Excel/ 数据/ 等/ )/ 不同/ ,/ 所以/ 传统/ 的/ 结构化/ 数据处理/ 技术/ 并/ 不适/ 用于/ 半/ 结构化/ 数据/ ./ XML/ 频繁/ 子结构/ 挖掘/ 是/ 半/ 结构化/ 数据挖掘/ 的/ 重要/ 研究课题/ 之一/ ,/ 其/ 主要/ 思想/ 是/ 在/ 给定/ XML/ 文档/ 集中/ 提取/ 具有/ 指定/ 频繁/ 特征/ 的/ 子结构/ 集/ ,/ 可/ 分为/ 静态/ XML/ 频繁/ 结构/ 挖掘/ 和/ 动态/ XML/ 频繁/ 结构/ 挖掘/ ./ Han/ 等/ 人/ [/ 2/ -/ 3/ ]/ 指出/ 频繁/ 模式/ 挖掘/ 的/ 一些/ 方法/ 及其/ 在/ Web/ 挖掘/ 领域/ 的/ 应用/ ./ TreeMiner/ [/ 4/ ]/ 、/ gSpan/ [/ 5/ ]/ 、/ PathJoin/ 、/ PCITMiner/ [/ 6/ ]/ 、/ CMTreeMiner/ [/ 7/ ]/ 、/ EXiT/ -/ B/ [/ 8/ ]/ 、/ DryadeParent/ [/ 9/ ]/ 、/ TreeNat/ [/ 10/ ]/ 、/ BuXMiner/ [/ 11/ ]/ 和/ IncTreeNat/ [/ 12/ -/ 13/ ]/ 是/ 典型/ XML/ 频繁/ 结构/ 挖掘/ 方法/ ,/ 这些/ 方法/ 的/ 主要/ 工作/ 是/ 在/ 给定/ 静态/ 文档/ 数据/ 集中/ 挖掘/ 频繁/ 出现/ 的/ 子结构/ ./ 然而/ 在/ 实际/ 应用/ 中/ ,/ 一些/ XML/ 文档/ 随/ 时间推移/ 而/ 动态变化/ ,/ 如图/ 1/ 所示/ ./ 学者/ 们/ 开始/ 研究/ 在/ 动态/ XML/ 文档/ 集中/ 挖掘/ 频繁/ 结构/ 的/ 方法/ ./ Rusu/ 等/ 人/ [/ 14/ ]/ 图/ 1XML/ 文档/ 动态变化/ 过程/ 频繁/ 子结构/ 挖掘/ 技术/ 已经/ 应用/ 到/ 生物/ 信息/ [/ 20/ ]/ 、/ XML/ 数据/ 查询/ 、/ XML/ 文档/ 分类/ [/ 21/ ]/ 和/ XML/ 文档/ 聚类/ [/ 22/ -/ 23/ ]/ 等/ 领域/ ./ 目前/ 还/ 没有/ 根据/ XML/ 子结构/ 空间/ 变化/ 情况/ 挖掘/ 频繁/ 变化/ 结构/ 方法/ ,/ 而/ 研究/ XML/ 空间/ 频繁/ 变化/ 结构/ 挖掘/ 方法/ 是/ 有/ 意义/ 的/ ,/ 例如/ 下面/ 关于/ 民族/ 图案/ 半/ 结构化/ 数据模型/ 的/ 例子/ ./ 民族/ 图案/ 及其/ 图案/ 基因/ ①/ 可用/ 半/ 结构化/ 数据模型/ 存储/ [/ 24/ ]/ ,/ 其/ 优点/ 是/ 可/ 表示/ 图案/ 历史/ 变化/ 且/ 便于/ 对/ 民族/ 图案/ 文件/ 进行/ 数据挖掘/ 和/ 知识/ 发现/ ./ 图/ 2/ 为/ 某/ 民族/ 家庭/ 在/ 60/ 年间/ 手工/ 编/ 提出/ 了/ 在/ 动态/ XML/ 文档/ 集中/ 挖掘/ 关联/ 规则/ 的/ 方法/ ,/ Bifet/ 等/ 人/ [/ 12/ -/ 13/ ]/ 提出/ 了/ 在/ 动态/ 树形/ 数据流/ 中/ 挖掘/ 频繁/ 子树/ 的/ 方法/ IncTreeNat/ ./ Zhao/ 等/ 人/ 提出/ H/ -/ DOM/ 模型/ 并/ 提出/ 了/ 基于/ H/ -/ DOM/ 模型/ 挖掘/ 频繁/ 变化/ 结构/ FCS/ 的/ 方法/ [/ 15/ ]/ 和/ 挖掘/ 频繁/ 变化/ 语义/ 结构/ FASST/ 的/ 方法/ [/ 16/ ]/ ./ Zhao/ 等/ 人/ [/ 17/ ]/ 还/ 提出/ 了/ 一些/ 针对/ XML/ 增量/ 可/ 挖掘/ 的/ 新/ 知识/ ,/ 包括/ 频繁/ 变化/ 结构/ FCS/ 、/ 冰冻/ 结构/ FS/ 、/ 关联/ 规则/ 和/ 变化/ 模式/ 等/ ,/ 并/ 介绍/ 了/ XML/ 增量/ 挖掘/ 的/ 相关/ 应用领域/ ./ 频繁/ 变化/ 结构/ FCS/ 挖掘/ 是/ 指/ 在/ XML/ 文档/ 历史/ 变化/ 过程/ 中/ 挖掘/ 频繁/ 且/ 显著/ 变化/ 的/ 子结构/ ,/ 但/ FCS/ 挖掘/ 没有/ 约束/ XML/ 变化/ 类型/ 和/ 变化趋势/ ,/ 在/ 高/ 动态数据/ 集中/ 挖掘/ FCS/ ,/ 挖掘/ 结果/ 包含/ 大量/ 子结构/ ,/ 不/ 方便/ 用户/ 使用/ 和/ 分析/ ./ Chen/ 等/ 人/ 提出/ 了/ 挖掘/ 最大/ 频繁/ 变化/ 子结构/ FCSP/ [/ 18/ ]/ 的/ 方法/ ,/ 并/ 在/ 此基础/ 上/ 提出/ 了/ 挖掘/ 频繁/ 一致/ 变化/ 子结构/ FRACTURE/ [/ 19/ ]/ 的/ 方法/ ./ 频繁/ 一致/ 变化/ 子结构/ FRACTURE/ 是/ 指/ 在/ XML/ 文档/ 历史/ 变化/ 版本/ 序列/ 中/ 同时/ 发生/ 频繁/ 改变/ 的/ 频繁/ 变化/ 结构/ 集/ ,/ 是/ FCS/ 子集/ ./ Chen/ 等/ 人/ 分别/ 基于/ Apriori/ 算法/ 和/ FP/ 增长/ 算法/ 实现/ 了/ FRACTURE/ 挖掘/ 方法/ ./ Chen/ 等/ 人/ 还/ 提出/ 了/ MaximalFRACTURE/ 概念/ 用于/ 消除/ FRACTURE/ 挖掘/ 结果/ 的/ 大量/ 冗余/ ./ 织/ 的/ 4/ 张/ 地毯/ 图案/ ,/ 表现/ 了/ 同/ 风格/ 地毯/ 的/ 历史/ 变化/ 情况/ ./ ①/ 国家/ “/ 九七/ 三/ ”/ 重点/ 基础/ 研究/ 发展/ 规划/ 前期/ 研究/ 专项/ 课题/ Page3/ 图/ 2/ 中/ 的/ 地毯/ 图案/ 由/ 5/ 种/ 民族/ 图案/ 基因/ 组成/ ,/ 如图/ 3/ 所示/ ./ 在/ 民族/ 图案/ 半/ 结构化/ 数据模型/ 中/ ,/ 每种/ 图案/ 基因/ 是/ 民族/ 图案/ 的/ 一个/ 子结构/ ./ 对/ 给定/ 半/ 结构化/ 民族/ 图案/ 数据/ 集/ 进行/ 频繁/ 变化/ 结构/ FCS/ 挖掘/ ,/ 可以/ 发现/ 在/ 图案/ 历史/ 变化/ 过程/ 中/ 频繁/ 发生/ 改变/ 的/ 图案/ 基因/ ./ 如图/ 2/ 所示/ 地毯/ 图案/ 集/ ,/ 其/ 频繁/ 变化/ 结构/ 为巴旦/ 木/ 、/ 维族/ 方砖/ 、/ 葡萄/ 和/ 植物/ 叶子/ ./ 然而/ 在/ 实际/ 应用/ 中/ ,/ 往往/ 不/ 只是/ 关心/ 图案/ 基因/ 变化/ 是否/ 频繁/ ,/ 而/ 更加/ 关注/ 图案/ 基因/ 的/ 空间/ 发展趋势/ ,/ 因为/ 这些/ 图案/ 基因/ 的/ 空间/ 发展趋势/ 代表/ 了/ 民族/ 文化/ 的/ 发展/ 情况/ ,/ 而/ FCS/ 却/ 不/ 具备/ 发现/ 子结构/ 空间/ 发展趋势/ 的/ 能力/ ./ 针对/ FCS/ 存在/ 的/ 问题/ ,/ 我们/ 提出/ 空间/ 频繁/ 变化/ 结构/ SFCS/ (/ SpatialFrequentlyChangingStructure/ )/ ./ SFCS/ 是/ 指/ 时间/ 维/ 满足/ 频繁/ 变化/ 条件/ 且/ 空间/ 维/ 变化趋势/ 达到/ 用户/ 关注/ 期望/ 的/ XML/ 文档/ 子结构/ ,/ 如图/ 1/ 所示/ ,/ 以/ c/ 为根/ 节点/ 的/ 子树/ 就是/ SFCS/ ./ 在/ 图/ 2/ 所示/ 的/ 民族/ 图案/ 半/ 结构化/ 数据/ 集中/ ,/ 满足/ SFCS/ 条件/ 的/ 子结构/ 为巴旦/ 木/ 和/ 植物/ 叶子/ ,/ 在/ 地毯/ 图案/ 历史/ 变化/ 过程/ 中/ ,/ SFCS/ 表示/ 子结构/ 可能/ 是/ 逐渐/ 被/ 废弃/ 的/ 图案/ 基因/ (/ 如巴旦/ 木/ )/ 或/ 逐渐/ 被/ 使用/ 的/ 图案/ 基因/ (/ 如/ 植物/ 叶子/ )/ ./ 因此/ SFCS/ 挖掘/ ,/ 可/ 发现/ 随/ 时间/ 演变/ 使用/ 程度/ 兴衰/ 变化/ 的/ 图案/ 基因/ ,/ 其/ 结果/ 可/ 用于/ 文化遗产/ 数字化/ 修复/ 与/ 数字化/ 传承/ 等/ 领域/ 研究/ ./ SFCS/ 挖掘/ 还/ 具有/ 另外/ 一些/ 应用/ 价值/ ,/ 如/ 电子商务/ 站点/ ,/ 针对/ 交易/ 记录/ Web/ 数据/ 进行/ SFCS/ 挖掘/ ,/ 可/ 发现/ 横向/ 空间/ 频繁/ 变化/ 结构/ ,/ 这些/ 结构/ 表示/ 动态/ 热销/ 商品/ ./ 本文/ 第/ 2/ 节/ 介绍/ 空间/ 频繁/ 变化/ 结构/ 相关/ 定义/ ;/ 第/ 3/ 节/ 介绍/ 空间/ 变化/ DOM/ 模型/ SC/ -/ DOM/ 的/ 定义/ 、/ 工作/ 原理/ 及/ 性能/ 评估/ ;/ 第/ 4/ 节/ 介绍/ 实验/ 结果/ 并/ 对/ 结果/ 进行/ 分析/ ;/ 最后/ 总结/ 全文/ 并/ 展望/ 下/ 一步/ 工作/ ./ 2/ 空间/ 频繁/ 变化/ 结构/ 文档/ 对象/ 模型/ (/ DocumentObjectModel/ ,/ DOM/ )/ 以/ 一种/ 独立/ 于/ 平台/ 和/ 语言/ 的/ 方式/ 访问/ 和/ 修改/ 一个/ 文档/ 的/ 内容/ 和/ 结构/ ,/ 是/ 表示/ 和/ 处理/ HTML/ 或/ XML/ 文档/ 的/ 常用/ 方法/ ./ 根据/ DOM/ 规范/ ,/ 可以/ 将/ 一篇/ XML/ 文档/ 建模/ 成/ 有序/ 标签/ 树结构/ ./ 2.1/ 有序/ 标签/ 树/ 基本/ 定义/ 与/ 符号/ 表示/ 本文/ 使用/ 符号/ “/ T/ ”/ 表示/ 一篇/ XML/ 文档/ 对应/ 的/ 有序/ 标签/ 树/ ,/ “/ layer/ (/ node/ )/ ”/ 定义/ 为树/ T/ 节点/ node/ 的/ 层数/ 即/ 路径/ 长度/ (/ 规定/ 根/ 节点/ 层数/ 为/ 0/ )/ ,/ “/ n/ _/ num/ (/ T/ ,/ l/ )/ ”/ 为树/ T/ 的/ 第/ l/ 层/ 的/ 节点/ 数/ ,/ “/ child/ (/ v/ )/ ”/ 为/ 节点/ v/ 的/ 直接/ 孩子/ 数/ ,/ 即/ 节点/ v/ 的/ 出度/ ./ 使用/ 符号/ “/ depth/ (/ T/ )/ ”/ 和/ “/ width/ (/ T/ )/ ”/ 分别/ 表示/ 树/ T/ 的/ 深度/ 和/ 宽度/ ,/ 树/ 的/ 深度/ 定义/ 为/ 最大/ 叶/ 节点/ 路径/ 长度/ ,/ depth/ (/ T/ )/ =/ max/ {/ layer/ (/ leafi/ )/ |/ leafi/ 为树/ T/ 叶/ 节点/ }/ ,/ 树/ 宽度/ 定义/ 为/ 各层/ 节点/ 树/ 最大值/ ,/ width/ (/ T/ )/ =/ max/ {/ n/ _/ num/ (/ T/ ,/ i/ )/ |/ 0/ </ i/ / depth/ (/ T/ )/ }/ ./ 有序/ 标签/ 树/ T1/ 与/ T2/ 的/ “/ 合并/ 结构/ ”/ [/ 17/ ]/ 用/ 符号/ “/ T1/ ∪/ T2/ ”/ 表示/ ,/ T1/ ∪/ T2/ 的/ 节点/ 集为/ T1/ 与/ T2/ 节点/ 集/ 的/ 并/ 集/ ,/ T1/ ∪/ T2/ 的/ 边/ 集为/ T1/ 与/ T2/ 边集/ 的/ 并/ 集/ ,/ 如图/ 4/ 所示/ ./ 2.2/ 空间/ 编辑/ 操作/ XML/ 文档/ 的/ 有序/ 标签/ 树/ 模型/ 提供/ 插入/ 叶子/ 、/ 删除/ 叶子/ 、/ 内部/ 插入/ 、/ 内部/ 删除/ 、/ 更新/ 、/ 移动/ 、/ 插入/ 子树/ 和/ 删除/ 子树/ 8/ 种/ 编辑/ 操作/ ./ 其中/ 前/ 5/ 种/ 操作/ 为/ 基本/ 编辑/ 操作/ ,/ 后/ 3/ 种/ 操作/ 为/ 复合/ 编辑/ 操作/ ./ 复合/ 编辑/ 操作/ 由/ 多次/ 基本/ 编辑/ 操作/ 组成/ ./ 因为/ ①/ 更新/ 操作/ 不/ 改变/ 树/ 的/ 深度/ 或树/ 的/ 宽度/ ;/ ②/ 移动/ 操作/ 、/ 插入/ 子树/ 操作/ 、/ 删除/ 子树/ 操作/ 、/ 树/ 内部/ 插入/ 或/ 删除/ 操作/ 可以/ 分解/ 为/ 多次/ 插入/ 叶子/ 和/ 删除/ 叶子/ 操作/ ,/ 所以/ 本文/ 规定/ 能够/ 改变/ 有序/ 标签/ 树/ 空间/ 大小/ 的/ 空间/ 编辑/ 操作/ 类型/ 包含/ 插入/ 叶子/ 操作/ 与/ 删除/ 叶子/ 操作/ ./ 2.3/ 空间/ 属性/ 定义/ 定义/ 1/ ./ 空间/ 纵度/ ./ 树/ T/ 的/ 空间/ 纵度/ VD/ (/ T/ )/ 用于/ 综合/ 表示/ 树/ 的/ 垂直/ 纵深/ 程度/ ./ 设树/ T/ 的/ 叶/ 节点/ 集合/ 为/ {/ leaf1/ ,/ leaf2/ ,/ …/ ,/ leafn/ }/ ,/ 树/ T/ 的/ 空间/ 纵度/ VD/ (/ T/ )/ 定义/ 为/ VD/ (/ T/ )/ =/ 1/ 由/ 定义/ 1/ 可知/ ,/ VD/ (/ T/ )/ 由/ 两/ 部分/ 之积/ 组成/ ,/ n/ ×/ ∑/ n1i/ =/ 1Page4/ 与/ 树/ 深度/ 的/ 贴近/ 程度/ ,/ 长度/ 与/ depth/ (/ T/ )/ 接近/ 的/ 树枝/ 数量/ 越/ 多/ ,/ 树/ T/ 的/ 空间/ 纵/ 度越/ 大/ ./ 由于/ 这部分/ 没有/ 体现/ 树/ 深度/ depth/ (/ T/ )/ 本身/ 对/ 空间/ 纵度/ 的/ 影响/ ,/ 会/ 出现/ 以下/ 情况/ :/ 设/ T1/ 与/ T2/ 是/ 两篇/ XML/ 文档/ 对应/ 的/ 有序/ 标签/ 树/ 模型/ ,/ 如图/ 4/ 所示/ ./ 树/ T1/ 具有/ 两个/ 叶/ 节点/ ,/ 其/ 路径/ 长度/ 都/ 为/ 2/ ,/ 树/ T2/ 也/ 具有/ 两个/ 叶/ 节点/ ,/ 其/ 路径/ 长度/ 都/ 为/ 3/ ,/ 则/ 树/ T1/ 与/ 树/ T2/ 空间/ 纵度/ 第一部/ 分值/ 为树/ T1/ 空间/ 纵度/ 第一部/ 分值/ :/ 1/ 树/ T2/ 空间/ 纵度/ 第一部/ 分值/ :/ 1/ 为/ 体现/ 树/ 深度/ 对树/ 空间/ 纵度/ 的/ 影响/ ,/ 在/ VD/ (/ T/ )/ 定义/ 中/ 引入/ 与/ 树/ 深度/ 成正比/ 的/ 系数/ Δ/ ,/ 即/ Δ/ (/ depth/ (/ T/ )/ )/ ./ Δ/ 应/ 满足/ 以下/ 两个/ 条件/ :/ 条件/ 1.0/ </ Δ/ (/ depth/ (/ T/ )/ )/ </ 1/ ;/ 条件/ 2/ ./ f/ :/ depth/ (/ T/ )/ →/ Δ/ (/ depth/ (/ T/ )/ )/ 单调/ 递增/ ./ 根据/ 对数函数/ 单调/ 递增/ 性质/ ,/ 将/ 系数/ Δ/ 定义/ 为/ Δ/ (/ depth/ (/ T/ )/ )/ =/ ln/ (/ depth/ (/ T/ )/ +/ 1/ )/ 定义/ 2/ ./ 空间/ 广度/ ./ 树/ T/ 的/ 空间/ 广度/ HD/ (/ T/ )/ 用于/ 综合/ 表示/ 树/ 的/ 水平/ 延展/ 程度/ ./ 树/ T/ 的/ 空间/ 广度/ 定义/ 为/ HD/ (/ T/ )/ =/ 1/ 空间/ 广度/ 的/ 系数/ Δ/ 定义/ 为/ 定义/ 3/ ./ 空间/ 变化/ 结构/ ./ 设/ S/ 为/ XML/ 文档/ 有序/ 标签/ 树/ 模型/ 中/ 一个/ 子结构/ ,/ Si/ 与/ Si/ +/ 1/ 为/ XML/ 变化/ 过程/ 中子/ 结构/ S/ 的/ 两个/ 相邻/ 版本/ ./ Δ/ VDi/ (/ S/ )/ =/ |/ VD/ (/ Si/ +/ 1/ )/ -/ VD/ (/ Si/ )/ |/ 为/ 子结构/ S/ 的/ 纵度/ 增量/ ,/ Δ/ HDi/ (/ S/ )/ =/ HD/ (/ Si/ +/ 1/ )/ -/ HD/ (/ Si/ )/ 为/ 子结构/ S/ 的/ 广度/ 增量/ ./ 如果/ Δ/ VD/ (/ Si/ )/ ≠/ 0/ 或/ Δ/ HD/ (/ Si/ )/ ≠/ 0/ ,/ 则/ 称/ 子结构/ S/ 为/ 空间/ 变化/ 结构/ ./ 定义/ 4/ ./ 结构/ 空间/ 变化/ 度/ ./ 结构/ 空间/ 变化/ 度/ (/ StructuralSpatialChangingDegree/ ,/ SSCD/ )/ 表示/ 相邻/ 版本/ 间/ 子结构/ S/ 的/ 空间/ 纵度/ 和/ 空间/ 广度/ 上/ 变化/ 情况/ ./ 子结构/ S/ 的/ 结构/ 空间/ 变化/ 度/ 定义/ 如下/ :/ SSCDi/ (/ S/ )/ =/ |/ Δ/ VDi/ (/ S/ )/ |/ ×/ λ/ +/ |/ Δ/ HDi/ (/ S/ )/ |/ ×/ (/ 1/ -/ λ/ )/ ,/ 其中/ ,/ λ/ 为/ 空间/ 变化/ 关注度/ ,/ 是/ 用户/ 输入/ 的/ 参数/ ;/ λ/ ∈/ [/ 0/ ,/ 1/ ]/ ,/ 用于/ 设置/ 对/ 子结构/ 纵度/ 变化/ 或/ 广度/ 变化/ 的/ 关注/ 程度/ ./ 定义/ 5/ ./ 版本/ 空间/ 变化/ 度/ ./ 版本/ 空间/ 变化/ 度/ (/ VersionSpatialChangingDegree/ ,/ VSCD/ )/ 从/ 时间/ 角度/ 衡量/ 子结构/ S/ 在/ 历史/ 变化/ 过程/ 中/ 的/ 空间/ 变化/ 频率/ ,/ 即/ 表示/ 在/ XML/ 文档/ 的/ n/ 版本/ 中/ ,/ 子结构/ S/ 发生/ 空间/ 变化/ 的/ 比例/ ./ 版本/ 变化/ 度/ 定义/ 如下/ :/ 定义/ 6/ ./ 空间/ 变化/ 度/ ./ 空间/ 变化/ 度/ (/ SpatialChangingDegree/ ,/ SCD/ )/ 表示/ 在/ XML/ 变化/ 过程/ 中/ ,/ 子结构/ S/ 的/ SSCD/ 达到/ 用户/ 关注/ 的/ 次数/ 所/ 占/ S/ 空间/ 变化/ 次数/ 的/ 比例/ ./ 空间/ 变化/ 度/ 定义/ 如下/ :/ 其中/ ,/ α/ 为/ 用户/ 输入/ 参数/ ,/ 用于/ 指定/ 用户/ 对/ 子结构/ S/ 在/ 相邻/ 两个/ 版本/ 间/ 空间/ 变化/ 的/ 关注/ 程度/ ./ 定义/ 7/ ./ 空间/ 频繁/ 变化/ 结构/ ./ 空间/ 频繁/ 变化/ 结构/ (/ SpatialFrequentlyChangingStructure/ ,/ SFCS/ )/ 是/ 在/ XML/ 文档/ 历史/ 变化/ 过程/ 中/ ,/ 相邻/ 版本/ 间/ 空间/ 变化/ 程度/ 及/ 所有/ 版本/ 空间/ 变化率/ 都/ 达到/ 用户/ 关注/ 程度/ 的/ 子结构/ ./ 设/ (/ X1/ ,/ X2/ ,/ …/ ,/ Xn/ )/ 为/ XML/ 文档/ 在/ 历史/ 变化/ 过程/ 中/ 的/ n/ 个/ 版本/ ,/ (/ X1/ ,/ X2/ ,/ …/ ,/ Xn/ )/ 对应/ 的/ 有序/ 标签/ 树结构/ 为/ (/ T1/ ,/ T2/ ,/ …/ ,/ Tn/ )/ ./ 设/ S/ 为/ 一/ 子结构/ S/ ∈/ ∪/ n/ 间/ 变化/ 度/ ”/ 、/ “/ 版本/ 空间/ 变化/ 度/ ”/ 、/ “/ 空间/ 变化/ 度/ ”/ 阈值/ 分别/ 为/ α/ 、/ β/ 、/ γ/ ./ 称/ 子结构/ S/ 是/ 空间/ 频繁/ 变化/ 结构/ SFCS/ ,/ 当且/ 仅/ 当/ 子结构/ S/ 满足/ 以下/ 两个/ 条件/ :/ (/ 1/ )/ VSCD/ (/ S/ )/ / β/ ./ (/ 2/ )/ SCD/ (/ S/ ,/ α/ )/ / γ/ ./ 3/ 空间/ 变化/ DOM/ 模型/ SC/ -/ DOM3/ ./ 1SC/ -/ DOM/ 定义/ 空间/ 变化/ DOM/ 模型/ (/ SpatialChangingDOM/ ,/ SC/ -/ DOM/ )/ 是/ 带有/ 树/ 水平/ 广度/ 和/ 垂直/ 纵度/ 信息/ 的/ 树形/ 模型/ ,/ 是/ DOM/ 模型/ 的/ 扩展/ ./ SC/ -/ DOM/ 能够/ 记录/ XML/ 空间/ 动态变化/ 过程/ ,/ 可以/ 避免/ 高/ 费用/ 的/ XML/ 文档/ 差异/ 比较/ 过程/ 并/ 方便/ 发现/ 空间/ 变化/ 结构/ SFCS/ ./ SC/ -/ DOM/ 定义/ 如下/ ./ 定义/ 8/ ./ SC/ -/ DOM/ ./ SC/ -/ DOM/ 是/ 一个/ 五元/ 组/ Page5/ (/ V/ ,/ E/ ,/ SISs/ ,/ f/ ,/ r/ )/ ./ 其中/ :/ V/ 是/ 树/ 节点/ 集合/ ;/ E/ 是/ 边/ 的/ 集合/ ,/ E/ =/ {/ (/ x/ ,/ y/ )/ |/ x/ ,/ y/ ∈/ V/ }/ ,/ 表示/ x/ 是/ y/ 的/ 父亲/ 节点/ ;/ SISs/ 是/ 空间信息/ 结构/ 体/ (/ SpatialInformationStructure/ ,/ SIS/ )/ 的/ 集合/ ,/ 每个/ 空间信息/ 结构/ 体/ SIS/ (/ v/ )/ 都/ 保存/ 以/ v/ 为根/ 的/ 子树/ 的/ 宽度/ 与/ 深度/ 信息/ ;/ f/ 是/ 节点/ v/ 到/ SIS/ (/ v/ )/ 的/ 映射/ f/ :/ v/ →/ SIS/ (/ v/ )/ ,/ 其中/ v/ ∈/ V/ ,/ SIS/ (/ v/ )/ ∈/ SISs/ ;/ r/ 表示/ 树根/ 节点/ ./ 空间信息/ 结构/ 体/ SIS/ (/ v/ )/ 保存/ 以/ v/ 为根/ 节点/ 的/ 子树/ 在/ 发生变化/ 时树/ 深度/ 和/ 树/ 宽度/ 信息/ ,/ SIS/ (/ v/ )/ 定义/ 为/ 六元/ 组/ :/ (/ V/ ,/ N/ ,/ P/ ,/ PL/ ,/ D/ ,/ W/ )/ ,/ 其中/ ,/ V/ 是/ 版本号/ ;/ N/ 是子/ 树/ 的/ 节点/ 总数/ (/ 不/ 包含/ 根/ 节点/ )/ ;/ P/ 是子/ 树/ 的/ 路径/ 数/ ,/ 即子/ 树/ 的/ 叶/ 节点/ 数/ ;/ PL/ 是/ 子树/ 各个/ 路径/ 的/ 路径/ 长度/ 之/ 和/ ,/ PL/ =/ ∑/ P/ 树/ 的/ 深度/ ;/ W/ 是子/ 树/ 的/ 宽度/ ./ 本文/ 以图/ 1/ 所示/ 的/ XML/ 动态变化/ 过程/ 为例/ 演示/ SC/ -/ DOM/ 工作/ 过程/ ./ 图/ 5/ 是/ 根据/ 图/ 1/ 初始/ 版本/ version/ =/ 1/ 的/ XML/ 文档/ 构建/ 的/ SC/ -/ DOM/ 模型/ ./ 3.2/ SC/ -/ DOM/ 模型/ 动态/ 维护/ 由/ XML/ 初始/ 版本/ 构建/ SC/ -/ DOM/ 模型/ 之后/ ,/ SC/ -/ DOM/ 模型/ 会/ 根据/ XML/ 空间/ 编辑/ 操作/ 动态/ 维护/ 自身/ ,/ 保存/ XML/ 各个/ 子结构/ 的/ 纵度/ 和/ 广度/ 变化/ 信息/ ,/ 从而/ 达到/ 在/ 避免/ XML/ 差异/ 比较/ 的/ 情况/ 下/ 完成/ 空间/ 频繁/ 变化/ 结构/ SFCS/ 挖掘/ ./ 性质/ 1/ ./ 在/ 非叶/ 节点/ n/ 下/ 插入/ 新/ 节点/ nins/ ,/ 包含/ nins/ 节点/ 的/ 所有/ 子树/ 都/ 有/ :/ ①/ 路径/ 数/ 增加/ 1/ ;/ ②/ 深度/ 不变/ ;/ ③/ 空间/ 纵度/ 不增/ ;/ ④/ 空间/ 广度/ 不减/ ./ 证明/ ./ 设/ 节点/ n/ 是非/ 叶/ 节点/ ,/ 以/ n/ 为根/ 的/ 子树/ 路径/ 数为/ l/ ,/ 树/ 深度/ 为/ d/ ./ 由于/ n/ 是非/ 叶/ 节点/ ,/ 所以/ 在/ 节点/ n/ 下/ 插入/ 新叶/ 节点/ nins/ 后/ ,/ 以/ n/ 为根/ 的/ 子/ 树叶/ 节点/ 数/ 增加/ 1/ ./ 由于/ 树/ 的/ 叶/ 节点/ 数/ 等于/ 树/ 的/ 路径/ 数/ ,/ 节点/ ,/ 包含/ 节点/ n/ 的/ 所有/ 子树/ 都/ 有/ :/ 所以/ 插入/ 后/ nins/ 以/ n/ 为根/ 的/ 子树/ 的/ 路径/ 数为/ l/ +/ 1/ ,/ 故/ 所有/ 包含/ n/ 的/ 子树/ 的/ 路径/ 数/ 增加/ 1/ (/ ①/ )/ ./ 由于/ n/ 是非/ 叶/ 节点/ ,/ 所以/ 以/ n/ 为根/ 的/ 子树/ 的/ 深度/ d/ / 1/ ./ 故新/ 插入/ 节点/ nins/ 在/ 以/ n/ 为/ 根子/ 树/ 的/ 第/ 1/ 层/ ./ 新/ 插入/ 节点/ nins/ 的/ 路径/ 长度/ 小于/ 等于/ d/ ./ 包含/ nins/ 节点/ 所有/ 子树/ 深度/ 不/ 发生/ 改变/ (/ ②/ )/ ./ 包含/ nins/ 节点/ 所有/ 子树/ 空间/ 纵度/ 不增/ (/ ③/ )/ ./ 因为/ ①/ 得证/ ,/ 因此/ 包含/ nins/ 节点/ 所有/ 子树/ 宽度/ 不减/ ,/ 故/ 包含/ nins/ 节点/ 所有/ 子树/ 空间/ 广度/ 不减/ (/ ④/ )/ ./ 性质/ 2/ ./ 在/ 路径/ 数/ 大于/ 1/ 的/ 节点/ n/ 下/ 删除/ 叶/ ①/ 路径/ 数/ 减少/ 1/ ;/ ②/ 子树/ 深度/ 不变/ ;/ ③/ 空间/ 纵度/ 不减/ ;/ ④/ 空间/ 广度/ 不增/ ./ 证明/ ./ 略/ ./ 性质/ 3/ ./ 在/ 叶/ 节点/ n/ 下/ 插入/ 一个/ 新叶/ 节点/ nins/ ,/ 包含/ nins/ 节点/ 的/ 所有/ 子树/ 路径/ 长度/ 总和/ 增加/ 1/ ./ 证明/ ./ 设/ n/ 的/ 祖先/ 节点/ 集合/ 为/ P/ =/ {/ p/ |/ n/ 是/ p/ 的/ 子孙/ 节点/ }/ ./ / p/ ∈/ P/ ,/ 由于/ n/ 是/ p/ 的/ 子孙/ 节点/ ,/ n/ 是/ 叶/ 节点/ ,/ 因此/ 以/ p/ 为根/ 的/ 子树/ 含有/ 一条/ 从/ p/ 到/ n/ 的/ 路径/ Pathp/ →/ n/ ./ 故以/ p/ 为根/ 的/ 子树/ 的/ 路径/ 长度/ 之/ 和/ 是/ p/ 到/ n/ 的/ 路径/ 长度/ 加上/ 其它/ 路径/ 长度/ ,/ PL/ (/ p/ )/ =/ ∑/ PL/ 其它/ +/ PLp/ →/ n/ ./ 由于/ 在/ n/ 下/ 插入/ 新叶/ 节点/ nins/ ,/ 因此/ 新/ 路径/ 长度/ PLp/ →/ nins/ =/ PLp/ →/ n/ +/ 1/ ./ 故以/ p/ 为根/ 的/ 子树/ 的/ 新/ 路径/ 长度/ 之/ 和/ 即/ 包含/ nins/ 节点/ 的/ 所有/ 子树/ 的/ 树/ 路径/ 长度/ 总和/ 增加/ 1/ ./ 性质/ 4/ ./ 在/ 路径/ 数/ 等于/ 1/ 的/ 节点/ n/ 下/ 删除/ 叶/ 节点/ ndel/ ,/ 包含/ ndel/ 节点/ 的/ 所有/ 子树/ 路径/ 长度/ 总和/ 减少/ 1/ ./ 证明/ ./ 略/ ./ SC/ -/ DOM/ 采用/ 自/ 底向上/ 策略/ 进行/ 动态/ 维护/ ,/ 从/ Page6/ 发生变化/ 的/ 叶/ 节点/ 至/ 树根/ 节点/ 上传/ 变化/ 信息/ ,/ 迁移/ 相应/ SIS/ 状态/ ./ 设在/ 版本/ i/ 时/ ,/ 空间/ 编辑/ 操作/ 为/ 节点/ n/ 下/ 插入/ 或/ 删除/ 叶/ 节点/ n/ ./ 根据/ SIS/ 定义/ ,/ 新/ 插入/ 节点/ n/ 对应/ 的/ SIS/ 状态/ 为/ SIS/ (/ n/ )/ =/ [/ i/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ]/ ,/ 新/ 删除/ 节点/ n/ 对应/ 的/ SIS/ 状态/ 为/ SIS/ (/ n/ )/ =/ [/ i/ ,/ -/ 1/ ,/ -/ 1/ ,/ 0/ ,/ -/ 1/ ,/ -/ 1/ ]/ ./ 在/ 上传/ 过程/ 中/ ,/ 设/ 需要/ 更新/ 的/ 节点/ 为/ np/ ,/ np/ 的/ 前/ 一次/ 变化/ 版本/ 为/ i/ ./ 设/ 孩子/ 节点/ 向父/ 节点/ 传递/ 值为/ v/ ./ 根据/ 性质/ 1/ 至/ 性质/ 4/ ,/ 动态/ 信息/ 上传/ 策略/ 和/ SIS/ 状态/ 迁移/ 规则/ 如表/ 1/ (/ 插入/ 叶子/ 操作/ )/ 和表/ 2/ (/ 删除/ 叶子/ 操作/ )/ 所示/ ./ 在/ 表/ 1/ 和表/ 2/ 中/ ,/ Label/ (/ i/ )/ 为取/ 版本/ i/ 时/ Label/ 值/ 的/ 操作/ ,/ 例如/ N/ (/ 1/ )/ 表示/ 是/ 取/ 版本/ 1/ 时/ 节点/ 总数/ N/ 的/ 值/ ./ 表/ 1/ 节点/ 狀/ 狆/ 的/ 犛/ 犐/ 犛/ 状态/ 迁移/ 规则/ (/ 插入/ 操作/ )/ SIS/ 字段/ 情况/ 说明/ 上传/ 值/ SIS/ 字/ 段值/ 更新/ 版本/ V/ -/ i/ 节点/ 总数/ N/ -/ 路径/ 数/ P/ 路径/ 长度/ 和/ PL/ 深度/ Dchild/ (/ n/ )/ ≠/ 0/ -/ 宽度/ W/ 表/ 2/ 节点/ 狀/ 狆/ 的/ 犛/ 犐/ 犛/ 状态/ 迁移/ 规则/ (/ 删除/ 操作/ )/ SIS/ 字段/ 情况/ 说明/ 上传/ 值/ SIS/ 字/ 段值/ 更新/ 版本/ V/ -/ i/ 节点/ 总数/ N/ -/ 路径/ 数/ Pchild/ (/ n/ )/ =/ 1/ -/ 0/ ,/ if/ (/ n/ =/ np/ )/ 路径/ 长度/ 和/ PL/ 深度/ Dchild/ (/ n/ )/ =/ 1vmin/ {/ v/ +/ 1/ ,/ D/ (/ i/ )/ }/ 宽度/ Wchild/ (/ n/ )/ =/ 1/ -/ 0/ ,/ if/ (/ n/ =/ np/ )/ 在/ 图/ 1/ 所示/ 的/ XML/ 文档/ 动态变化/ 过程/ 中/ ,/ 版本/ 1/ 至/ 版本/ 2/ 的/ 空间/ 编辑/ 操作/ 为/ insleaf/ (/ c/ ,/ h/ ,/ 2/ )/ ,/ SC/ -/ DOM/ 采用/ 自/ 底向上/ 策略/ 上传/ 动态/ 信息/ ,/ 即/ 动态/ 信息/ 由/ 节点/ h/ 上/ 传到/ 节点/ c/ 再/ 上/ 传到/ 节点/ a/ ./ 根据/ SIS/ 定义/ 和/ SIS/ 状态/ 迁移/ 规则/ ,/ 节点/ h/ 、/ c/ 、/ a/ 的/ SIS/ 状态/ 迁移/ 方法/ 如下/ :/ ①/ 节点/ h/ 是/ 新/ 插入/ 节点/ ,/ 因此/ SIS/ (/ h/ )/ =/ [/ 2/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ]/ ./ ②/ 节点/ c/ 在/ 初始/ SIS/ 后/ 新建/ 一/ SIS/ ,/ 新/ SIS/ 的/ 版本号/ V/ =/ 2/ ,/ 节点/ 总数/ N/ (/ 2/ )/ =/ N/ (/ 1/ )/ +/ 1/ =/ 3/ ,/ 因为/ child/ (/ c/ )/ ≠/ 0/ ,/ 所以/ 路径/ 数/ P/ (/ 2/ )/ =/ P/ (/ 1/ )/ +/ 1/ =/ 3/ ,/ 所以/ 路径/ 长度/ 和/ PL/ (/ 2/ )/ =/ PL/ (/ 1/ )/ +/ 0/ +/ 1/ =/ 3/ ,/ 所以/ 深度/ D/ (/ 2/ )/ =/ D/ (/ 1/ )/ =/ 1/ ;/ 所以/ 宽度/ D/ (/ 2/ )/ =/ D/ (/ 1/ )/ =/ 1/ ./ 最后/ ,/ 节点/ c/ 的/ SIS/ 为/ SIS/ (/ c/ )/ =/ [/ 1/ ,/ 2/ ,/ 2/ ,/ 2/ ,/ 1/ ,/ 2/ ]/ →/ [/ 2/ ,/ 3/ ,/ 3/ ,/ 3/ ,/ 1/ ,/ 3/ ]/ ./ ③/ 与/ 节点/ c/ 的/ SIS/ 状态/ 迁移/ 过程/ 类似/ ,/ 迁移/ 后/ 节点/ a/ 的/ SIS/ 状态/ 为/ SIS/ (/ a/ )/ =/ [/ 1/ ,/ 6/ ,/ 4/ ,/ 8/ ,/ 2/ ,/ 4/ ]/ →/ [/ 2/ ,/ 7/ ,/ 5/ ,/ 10/ ,/ 2/ ,/ 5/ ]/ ./ 图/ 6/ 刻画/ 了/ 图/ 1/ 中/ XML/ 文档/ 变化/ 过程/ ,/ 在/ 图/ 5/ 所示/ 的/ SC/ -/ DOM/ 初始模型/ 基础/ 上/ ,/ 依据/ 表/ 1/ 与表/ 2/ 的/ SIS/ 状态/ 迁移/ 策略/ ,/ 得到/ 迁移/ 后/ 的/ SC/ -/ DOM/ 模型/ ./ 3.3/ 基于/ SC/ -/ DOM/ 的/ SFCS/ 发现/ 算法/ 从/ SC/ -/ DOM/ 可以/ 直接/ 计算/ 以/ 任意/ 节点/ v/ 为根/ 的/ 子树/ Tv/ 的/ 空间/ 纵度/ VD/ (/ Tv/ )/ 和/ 空间/ 广度/ HD/ (/ Tv/ )/ ,/ 按照/ 定义/ 7/ 计算/ Tv/ 是否/ 为/ SFCS/ ./ 基于/ SC/ -/ DOM/ 的/ SFCS/ 发现/ 算法/ 遍历/ XML/ 有序/ 标签/ 树/ 模型/ 一次/ ,/ 算法/ 复杂度/ 为/ O/ (/ |/ T/ |/ )/ ,/ 算法/ 如下/ (/ C++/ 描述/ )/ :/ voidSFCSMining/ (/ λ/ ,/ α/ ,/ β/ ,/ γ/ )/ {/ 1/ ./ for/ (/ XML/ 有序/ 标签/ 树/ 所有/ 节点/ v/ )/ {/ 2/ ./ intSCDCnt/ =/ 0/ ;/ 3/ ./ doubleVSCD/ =/ 0/ ;/ 4/ ./ for/ (/ inti/ =/ 1/ ;/ i/ </ n/ ;/ ++/ i/ )/ {/ 5/ ./ doubleVDi1/ =/ PLi/ // (/ Di/ ×/ Pi/ )/ +/ Δ/ (/ Di/ )/ ;/ 6/ ./ doubleHDi1/ =/ Ni/ // (/ Di/ ×/ Wi/ )/ +/ Δ/ (/ Wi/ )/ ;/ 7/ ./ doubleVDi2/ =/ PLi/ +/ 1/ // (/ Di/ +/ 1/ ×/ Pi/ +/ 1/ )/ +/ Δ/ (/ Di/ +/ 1/ )/ ;/ 8/ ./ doubleHDi2/ =/ Ni/ +/ 1/ // (/ Di/ +/ 1/ ×/ Wi/ +/ 1/ )/ +/ Δ/ (/ Wi/ +/ 1/ )/ ;/ 9/ ./ doubleDeltaVD/ =/ VDi2/ -/ VDi1/ ;/ 10/ ./ doubleDeltaHD/ =/ HDi2/ -/ HDi1/ ;/ 11/ ./ if/ (/ DeltaVD/ >/ 0/ ‖/ DeltaHD/ >/ 0/ )/ 12/ ./ VSCD/ +/ =/ 1/ // (/ n/ -/ 1/ )/ ;/ 13/ ./ if/ (/ (/ DeltaVD/ / λ/ +/ DeltaHD/ / (/ 1/ -/ λ/ )/ )/ >/ =/ α/ )/ 14/ ./ SCDCnt/ ++/ ;/ Page715/ ./ }/ 16/ ./ if/ (/ VSCD/ >/ =/ β/ SCDCnt/ // (/ (/ n/ -/ 1/ )/ / VSCD/ )/ 17/ ./ 以/ v/ 为根/ 的/ 子树为/ SFCS/ ./ 18/ ./ }/ 19/ ./ }/ }/ 以图/ 6/ 所示/ 的/ SC/ -/ DOM/ 为例/ ,/ 设/ 阈值/ λ/ =/ 0.5/ ,/ α/ =/ 0.05/ ,/ β/ =/ 0.05/ ,/ γ/ =/ 0.6/ (/ 阈值/ 设置/ 方法/ 参考/ 4.1/ 节/ )/ ,/ 基于/ SC/ -/ DOM/ 的/ SFCS/ 挖掘/ 过程/ 如下/ :/ 首先/ 遍历/ SC/ -/ DOM/ 每个/ 节点/ 并/ 迭代/ n/ -/ 1/ 次/ (/ 算法/ 第/ 4/ 行/ )/ ,/ 本文/ 以/ 节点/ a/ 和/ 节点/ c/ 为例/ ,/ 然后/ 求/ 每个/ 节点/ 各/ 版本/ 空间/ 纵度/ VD/ 与/ 空间/ 广度/ HD/ 及/ 相应/ 的/ 纵度/ 增量/ Δ/ VD/ 和/ 广度/ 增量/ Δ/ HD/ ./ 根据/ 算法/ SFCSMining/ 第/ 5/ ~/ 10/ 行/ ,/ 节点/ a/ 和/ c/ 的/ 空间/ 纵度/ 及/ 增量/ 、/ 空间/ 广度/ 及/ 增量/ 如表/ 3/ 所示/ ./ 节点/ c/ 节点/ a/ 迭代/ VD1VD2HD1HD2/ Δ/ VD/ Δ/ HD10/ ./ 52350.52350/ ./ 43570.431700/ ./ 004020.52350/ ./ 42600.43170/ ./ 32890.09750/ ./ 102830.42600/ ./ 52350.32890/ ./ 43170.09750/ ./ 102840.52350/ ./ 52350.43170/ ./ 435700.004010/ ./ 40940.40940/ ./ 40940.523500/ ./ 114120.40940/ ./ 66670.52350/ ./ 34900.25730/ ./ 174530.66670/ ./ 40940.34900/ ./ 52350.25730/ ./ 174540.40940/ ./ 40940.52350/ ./ 409400.1141/ 由/ 算法/ 第/ 10/ 、/ 11/ 行/ 可知/ ,/ 节点/ a/ 和/ c/ 的/ 版本/ 空间/ 变化/ 度/ VSCD/ 都/ 为/ 4/ ×/ 1/ // 4/ =/ 1/ ,/ 说明/ 以/ a/ 为根/ 的/ 子树/ 和/ 以/ c/ 为根/ 的/ 子树/ 在/ 各个/ 版本/ 都/ 发生/ 改变/ ./ 由/ 算法/ 第/ 13/ 、/ 14/ 行/ 可知/ ,/ 节点/ a/ 的/ 结构/ 空间/ 变化/ 度/ 计数/ SCDCnt/ 值为/ 2/ 而/ 节点/ c/ 的/ 结构/ 空间/ 变化/ 度/ 计数/ SCDCnt/ 值为/ 4/ ,/ 说明/ 以/ 节点/ c/ 为根/ 的/ 子树/ 空间/ 变化/ 程度/ 达到/ 用户/ 关注/ 程度/ (/ 阈值/ α/ )/ 的/ 次数/ 较/ 多/ ./ 由/ 算法/ 第/ 16/ 、/ 17/ 行/ 可知/ ,/ 以/ c/ 为根/ 的/ 子树/ 是/ SFCS/ 而/ 以/ a/ 为根/ 的/ 子树/ 不是/ SFCS/ ,/ 因为/ 以/ a/ 为根/ 的/ 子树/ 的/ 空间/ 变化/ 度/ SCD/ =/ SCDCnt/ // (/ (/ n/ -/ 1/ )/ ×/ VSCD/ )/ =/ 2/ // 4/ =/ 0.5/ ,/ 小于/ 设定/ 的/ 阈值/ γ/ =/ 0.6/ ./ 可见/ ,/ 虽然/ 以/ a/ 为根/ 的/ 子树/ 和/ 以/ c/ 为根/ 的/ 子树/ 都/ 发生/ 同样/ 的/ 变化/ ,/ 但/ 以/ a/ 为根/ 的/ 子树/ 左半/ 部分/ 不/ 发生/ 改变/ ,/ 所以/ 以/ a/ 为根/ 的/ 子树/ 空间/ 变化/ 没有/ 以/ c/ 为根/ 的/ 子树/ 剧烈/ ,/ 所以/ 以/ a/ 为根/ 的/ 子树/ 不是/ SFCS/ 而/ 以/ c/ 为根/ 的/ 子树/ 是/ SF/ -/ CS/ ./ 当/ 阈值/ 降低/ 到/ 某种程度/ 后/ (/ 如/ γ/ =/ 0.5/ )/ ,/ 以/ a/ 为根/ 的/ 子树/ 就/ 成为/ SFCS/ ./ 3.4/ 性能/ 分析/ 情况/ 1/ ./ 使用/ XML/ 差异/ 比较/ 算法/ 挖掘/ SFCS/ ./ 在/ 不/ 使用/ SC/ -/ DOM/ ,/ 而/ 直接/ 使用/ XML/ 文档/ 差异/ 比较/ 算法/ (/ 以/ XDiff/ [/ 25/ ]/ 为例/ )/ 的/ 情况/ 下/ ,/ SFCS/ 挖掘/ 可/ 分为/ 两个/ 过程/ :/ ①/ XML/ 相邻/ 版本/ 间/ 差异/ 比较/ 过程/ ;/ ②/ SFCS/ 挖掘/ 过程/ ./ 设/ XML/ 文档/ 相邻/ 两个/ 版本/ Xi/ 与/ Xi/ +/ 1/ 的/ 有序/ 标签/ 树/ 表示/ 为/ Ti/ 和/ Ti/ +/ 1/ ,/ |/ T/ |/ 表示/ 树/ T/ 的/ 节点/ 数/ ,/ deg/ (/ T/ )/ 表示/ 树根/ 节点/ 的/ 出度/ ,/ 则/ Xi/ 与/ Xi/ +/ 1/ 差异/ 比较/ 的/ 复杂度/ 为/ O/ (/ (/ |/ Ti/ |/ ×/ |/ Ti/ +/ 1/ |/ )/ ×/ max/ {/ deg/ (/ Ti/ )/ ,/ deg/ (/ Ti/ +/ 1/ )/ }/ ×/ log2/ (/ max/ {/ deg/ (/ Ti/ )/ ,/ deg/ (/ Ti/ +/ 1/ )/ }/ )/ )/ [/ 24/ ]/ ./ 对于/ n/ 个/ 版本/ 的/ XML/ 文档/ ,/ 共/ 需要/ 进行/ 差异/ 比较/ 的/ 次数/ 为/ n/ -/ 1/ 次/ ,/ 所以/ 阶段/ ①/ 的/ 综合/ 时间/ 复杂度/ 为/ O/ (/ (/ n/ -/ 1/ )/ ×/ (/ |/ Ti/ |/ ×/ |/ Ti/ +/ 1/ |/ )/ ×/ max/ {/ deg/ (/ Ti/ )/ ,/ deg/ (/ Ti/ +/ 1/ )/ }/ ×/ log2/ (/ max/ {/ deg/ (/ Ti/ )/ ,/ deg/ (/ Ti/ +/ 1/ )/ }/ )/ )/ ,/ 其中/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ n/ -/ 1/ ./ 第/ ②/ 阶段/ 使用/ 第/ ①/ 阶段/ 的/ 结果/ 遍历/ 各个/ 版本/ 的/ 有序/ 标签/ 树/ 一次/ ,/ 所以/ 阶段/ ②/ 的/ 复杂度/ 为/ O/ (/ max/ {/ |/ Ti/ |/ }/ )/ ,/ 其中/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ n/ -/ 1/ ./ 所以/ 情况/ 1/ 的/ 综合/ 时间/ 复杂度/ 为/ O/ (/ (/ n/ -/ 1/ )/ ×/ (/ |/ Ti/ |/ ×/ |/ Ti/ +/ 1/ |/ )/ ×/ max/ {/ deg/ (/ Ti/ )/ ,/ deg/ (/ Ti/ +/ 1/ )/ }/ ×/ log2/ (/ max/ {/ deg/ (/ Ti/ )/ ,/ deg/ (/ Ti/ +/ 1/ )/ }/ )/ )/ ./ 情况/ 2/ ./ 使用/ SC/ -/ DOM/ ./ 使用/ SC/ -/ DOM/ 模型/ ,/ SFCS/ 挖掘/ 过程/ 可/ 分为/ 3/ 个子/ 过程/ :/ ①/ SC/ -/ DOM/ 模型/ 构建/ ;/ ②/ SC/ -/ DOM/ 状态/ 迁移/ 维护/ ;/ ③/ SFCS/ 计算/ 过程/ ./ 阶段/ ①/ 遍历/ 有序/ 标签/ 树/ 1/ 次/ ,/ 所以/ 该/ 阶段/ 的/ 复杂度/ 为/ O/ (/ max/ {/ |/ Ti/ |/ }/ )/ ./ 阶段/ ②/ 动态/ 维护/ SC/ -/ DOM/ ,/ 设/ XML/ 文档/ 相邻/ 版本/ 间/ 的/ 平均/ 变化/ 次数/ 为/ CR/ ,/ 则/ 第/ ②/ 阶段/ 的/ 复杂度/ 为/ O/ (/ (/ n/ -/ 1/ )/ ×/ CR/ )/ ./ 阶段/ ③/ 需要/ 遍历/ 维护/ 后/ 的/ SC/ -/ DOM/ 模型/ 一次/ ,/ 此时/ 的/ SC/ -/ DOM/ 模型/ 节点/ 数是/ 各个/ 版本/ 有序/ 标签/ 树/ 的/ 合并/ 结构/ ,/ 所以/ 阶段/ ③/ 的/ 复杂度/ 为/ O/ (/ |/ ∪/ n/ 其中/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ n/ ./ 因为/ |/ ∪/ n/ 以/ 情况/ 2/ 的/ 综合/ 时间/ 复杂度/ 为/ O/ (/ max/ {/ (/ n/ -/ 1/ )/ ×/ CR/ ,/ |/ ∪/ n/ 的/ 复杂度/ ,/ 证明/ 略/ ./ 4/ 实验/ 结果/ 与/ 分析/ 4.1/ 实验/ 环境/ 与/ 数据/ 来源/ 实验/ 在/ IntelCore2QuadQ95503/ ./ 83GHz/ (/ 4cores/ )/ CPU/ ,/ 2048MBRAM/ ,/ Windows7/ 操作系统/ 的/ PC/ 上/ 完成/ ,/ 在/ Eclipse/ 集成/ 开发/ 环境/ 下/ 使用/ Java/ 语言/ 实现/ ,/ 实验/ 中/ 使用/ Dom4J/ 开源/ API/ 库/ 进行/ XML/ 文档/ 解析/ 与/ DOM/ 建立/ ./ Page8/ 实验/ 数据/ 来源于/ 人工/ 生成/ 的/ XML/ 数据/ 集/ ./ 首先/ 人工/ 编辑/ 一个/ 规范/ 的/ DTD/ 文档/ ,/ 在/ 该/ DTD/ 文档/ 中/ 包含/ 可/ 重复/ 元素/ (/ “/ +/ ”/ 元素/ ,/ “/ / ”/ 元素/ ,/ “/ ?/ ”/ 元素/ )/ ,/ 使得/ 根据/ 这个/ DTD/ 生成/ 的/ XML/ 文档/ 的/ 某些/ 子结构/ 的/ 空间/ 大小/ 可以/ 发生变化/ ./ 然后/ 使用/ IBMXMLGenerator/ 验证/ DTD/ 的/ 正确性/ 并/ 根据/ 该/ DTD/ 文档/ 生成/ 若干个/ 初始/ XML/ 文档/ ./ 最后/ 根据/ 不同/ 的/ 实验/ 目的/ 使用/ 人工/ 编写/ 的/ XML/ 版本/ 生成器/ XMLFileGen/ 生成/ 若干/ 版本/ (/ XMLFileGen/ 根据/ 特定/ 的/ DTD/ 文档/ 对/ XML/ 文档/ 中/ 可/ 变化/ 元素/ 进行/ 随机/ 改变/ )/ ./ 实验/ 实现/ 了/ H/ -/ DOM/ 模型/ [/ 15/ ]/ 和/ SC/ -/ DOM/ 模型/ 并/ 实现/ 了/ 基于/ H/ -/ DOM/ 的/ FCS/ 挖掘/ 算法/ 和/ 基于/ SC/ -/ DOM/ 的/ SFCS/ 挖掘/ 算法/ ./ 因为/ H/ -/ DOM/ 模型/ 和/ SC/ -/ DOM/ 模型/ 都/ 是/ 内存/ 模型/ ,/ 当/ XML/ 数据/ 集/ 超过/ 一定/ 规模/ (/ 本/ 实验/ 环境/ 数据/ 集/ 规模/ 上限/ 约/ 为/ 50000/ 篇/ XML/ 文档/ )/ 后/ ,/ 不能/ 将/ 所有/ XML/ 文档/ 在/ 内存/ 中/ 建立/ 模型/ ./ 为/ 测试/ 模型/ 的/ 可扩展性/ ,/ 实验/ 在/ 外部/ 存储器/ 上/ 保存/ H/ -/ DOM/ 和/ SC/ -/ DOM/ 部分/ 数据/ ./ 图/ 7/ 是/ 以/ XML/ 格式/ 保存/ H/ -/ DOM/ 数据/ 示例/ ./ 在/ 实验/ 数据/ 随机/ 生成/ 、/ FCS/ 挖掘/ 和/ SFCS/ 挖掘/ 过程/ 中/ ,/ 需要/ 用户/ 设定/ 一些/ 阈值/ 或/ 参数/ ,/ 这些/ 阈值/ 或/ 参数/ 的/ 符号/ 表示/ 见表/ 4/ ./ 符号/ 相应/ 参数/ λ/ 空间/ 变化/ 关注度/ α/ 结构/ 空间/ 变化/ 度/ 阈值/ NV/ 文档/ 变化/ 版本/ 数/ β/ 版本/ 空间/ 变化/ 度/ 阈值/ CR/ 文档/ 每次/ 最大/ 变化/ 节点/ 数/ γ/ 动/ 空间/ 变化/ 度/ 阈值/ 说明/ :/ 实际/ 使用/ 中/ ,/ 用户/ 需要/ 设置/ 阈值/ α/ 、/ β/ 和/ γ/ ./ 经对/ 阈值/ 物理/ 意义/ 分析/ 和/ 实验/ 经验总结/ ,/ 现为/ 用户/ 提供/ 阈值/ 设置/ 建议/ :/ 阈值/ α/ 和/ β/ 可/ 设置/ 较小值/ ,/ 使得/ 只要/ 空间/ 发生变化/ 的/ 子结构/ 都/ 能够/ 被/ 考虑/ 是否是/ SFCS/ ,/ 阈值/ γ/ 可/ 根据/ 实际/ 需求/ 进行/ 设置/ ,/ 控制/ 挖掘/ 的/ SFCS/ 空间/ 变化/ 程度/ 满足用户/ 关注/ 程度/ ./ 经/ 实验/ 证明/ ,/ 阈值/ 大小/ 不会/ 影响/ SFCS/ 挖掘/ 时间/ ./ 4.2/ 实验/ 结果/ 在/ 文档/ 变化/ 版本/ 数/ NV/ =/ 5/ 不变/ 且/ 阈值/ α/ 、/ β/ 和/ γ/ 的/ 取值/ 均/ 为/ 0.1/ 时/ ,/ 相邻/ 版本/ 间/ 变化/ 节点/ 数目/ 变化/ 情况/ 下/ 的/ 性能/ 分析/ 如图/ 8/ 所示/ ./ 图/ 8/ 相邻/ 版本/ 间/ 节点/ 变化/ 数目/ 对/ SC/ -/ DOM/ 的/ 影响/ 随着/ CR/ 增大/ ,/ SC/ -/ DOM/ 模型/ 生成/ 时间/ 增加/ ,/ SFCS/ 结构/ 挖掘/ 时间/ 也/ 相应/ 的/ 增加/ ./ 即/ SC/ -/ DOM/ 模型/ 建立/ 和/ 维护/ 、/ SFCS/ 挖掘/ 的/ 计算/ 规模/ 与/ XML/ 变化/ 程度/ 成正比/ ./ 当/ CR/ 增大/ 时/ ,/ 模型/ 的/ 规模/ 在/ 不断/ 上升/ ,/ 遍历/ 模型/ 时间/ 增加/ ./ 随着/ CR/ 增加/ ,/ SFCS/ 挖掘/ 时间/ 占/ 总/ 执行/ 时间/ 比重/ 增加/ ./ 如/ CR/ =/ 10000/ 时/ ,/ SFCS/ 挖掘/ 时间/ 约/ 占/ 总/ 执行/ 时间/ 的/ 1/ // 3/ ,/ CR/ =/ 30000/ 时/ ,/ SFCS/ 挖掘/ 时间/ 与/ 模型/ 建立/ 与/ 维护/ 时间/ 基本/ 相等/ ,/ 即/ 占/ 总/ 执行/ 时间/ 的/ 1/ // 2/ ./ 版本/ 数/ NV/ =/ 5/ 不变/ ,/ 相邻/ 版本/ 间/ 变化/ 节点/ 数/ CR/ =/ 100/ 不变/ 情况/ 下/ ,/ 结构/ 空间/ 变化/ 度/ 阈值/ α/ 、/ 版本/ 空间/ 变化/ 度/ 阈值/ β/ 和/ 空间/ 变化/ 度/ 阈值/ γ/ 与/ SFCS/ 挖掘/ 数目/ 之间/ 关系/ 如图/ 9/ 所示/ ./ 图/ 93/ 个/ 变化/ 度/ 阈值/ 与/ 所/ 挖掘/ SFCS/ 数目/ 之间/ 的/ 关系/ 可知/ ,/ 当/ β/ =/ 0.1/ ,/ γ/ =/ 0.1/ ,/ 结构/ 空间/ 变化/ 度/ α/ 取/ 不同/ 值时/ ,/ 挖掘/ 空间/ 频繁/ 变化/ 结构/ SFCS/ 数量/ 与/ 阈值/ α/ 成反比/ ,/ 当/ α/ =/ 0.7/ 时/ ,/ 挖掘/ SFCS/ 数量/ 为/ 0/ ./ 当/ α/ =/ 0.1/ ,/ γ/ =/ 0.1/ 时/ ,/ 挖掘/ SFCS/ 数量/ 与/ 阈值/ β/ 成反比/ ,/ SFCS/ 挖掘/ 数量/ 随/ 阈值/ β/ 增大/ 而/ 减少/ ./ 当/ α/ =/ 0.1/ ,/ β/ =/ 0.1/ 时/ ,/ SFCS/ 挖掘/ 数量/ 与/ 阈值/ γ/ 成反比/ ,/ 说明/ SFCS/ 挖掘/ 数量/ 结果/ 与/ 3/ 个/ 阈值/ α/ 、/ β/ 和/ γ/ 成反比/ ,/ 因此/ 在/ 实际/ 应用/ 中/ ,/ 用户/ 需要/ 实际/ 情况/ 在/ SFCS/ 挖掘/ 数量/ 与/ 阈值/ α/ 、/ β/ 和/ γ/ 选取/ 做/ 折衷/ 选择/ ./ 上述/ 实验/ 均/ 在/ 时间/ 区间/ [/ 141ms/ ,/ 172ms/ ]/ 内/ 完成/ ,/ 说明/ 阈值/ α/ 、/ β/ 和/ γ/ 值/ 的/ 变化/ 不/ 影响/ SC/ -/ DOM/ 模型/ 建立/ 维护/ 和/ SFCS/ 挖掘/ 的/ 运行/ 时间/ ./ Page9/ 当/ 阈值/ α/ 、/ β/ 和/ γ/ 分别/ 为/ 0.17/ 、/ 0.17/ 和/ 0.2/ 时/ ,/ 基于/ H/ -/ DOM/ 的/ FCS/ 挖掘/ 和/ 基于/ SC/ -/ DOM/ 的/ SFCS/ 挖掘/ 实验/ 结果/ 如表/ 5/ 所示/ ./ NVCR/ // %/ 文档/ 数/ FCS/ 数/ FCS/ 挖掘/ 102550001956385621021180611025750030131174691606417474102510000398143970318812395231025125005015864109248816548210251500061254986563120110015210251750069514154530358411475721025200007912422540640530265249SFCS/ 挖掘/ 时间/ 与/ 数据/ 集/ 规模/ 成正比/ ,/ 与/ FCS/ 挖掘/ 时间/ 基本相同/ ,/ 所以/ SC/ -/ DOM/ 与/ H/ -/ DOM/ 一样/ 具有/ 良好/ 扩展性/ ./ 对于/ 相同/ 数据/ 集/ ,/ 挖掘/ SFCS/ 数量/ 少于/ FCS/ 数量/ ,/ 且集/ SFCS/ 是/ 集/ FCS/ 的/ 真/ 子集/ ,/ 说明/ SFCS/ 本身/ 就是/ FCS/ ,/ 我们/ 的/ 定义/ 没有/ 改变/ SFCS/ 是/ 频繁/ 变化/ 结构/ 的/ 特性/ ./ 综上/ 可知/ ,/ SC/ -/ DOM/ 建立/ 维护费用/ 和/ SFCS/ 挖掘/ 费用/ 与/ XML/ 文档/ 规模/ 及/ XML/ 文档/ 相邻/ 版本/ 变化/ 节点/ 数/ 成正比/ ./ 阈值/ α/ 、/ β/ 和/ γ/ 影响/ SFCS/ 挖掘/ 数量/ ,/ 具体/ 关系/ 为/ 挖掘/ 的/ SFCS/ 数/ 与/ 阈值/ α/ 、/ β/ 和/ γ/ 成反比/ ./ 各/ 阈值/ 改变/ 不/ 影响/ SFCS/ 挖掘/ 时间/ ./ 算法/ 具有/ 良好/ 的/ 可扩展性/ 并/ 保持/ 挖掘/ 结果/ 的/ 频繁/ 性/ ./ 5/ 结论/ 本文/ 提出/ 在/ 一系列/ XML/ 文档/ 动态变化/ 版本/ 中/ 挖掘/ XML/ 文档/ 中/ 空间/ 频繁/ 活跃/ 改变/ 的/ 子结构/ (/ SFCS/ )/ 的/ 方法/ ./ SFCS/ 即/ 在/ 时间/ 角度/ 保持/ 了/ 版本/ 变化/ 频繁/ 性/ ,/ 又/ 在/ 空间/ 角度/ 保持/ 了/ 纵度/ 广度/ 变化/ 频繁/ 性/ ./ SFCS/ 挖掘/ 解决/ 了/ FCS/ 无法/ 表示/ 子结构/ 空间/ 变化/ 程度/ 的/ 问题/ ,/ 可以/ 应用/ 在/ 关注/ 半/ 结构化/ 数据/ 子结构/ 空间/ 频繁/ 变化/ 的/ 应用领域/ ,/ 如/ 民族/ 图案/ 保护/ 、/ 维护/ 和/ 传承/ ./ 本文/ 还/ 提出/ 用于/ 发现/ SFCS/ 的/ SC/ -/ DOM/ 模型/ ,/ 通过/ SC/ -/ DOM/ 模型/ 可以/ 在/ 避免/ XML/ 版本/ 差异/ 比较/ 的/ 前提/ 下/ 进行/ SFCS/ 发现/ ./ 实验/ 验证/ 了/ 方法/ 的/ 可行性/ 和/ 不同/ 参数设置/ 对/ SC/ -/ DOM/ 模型/ 性能/ 及/ SFCS/ 挖掘/ 结果/ 的/ 影响/ ./ 下/ 一步/ 工作/ 可/ 研究/ XML/ 文档/ 变化/ 版本/ 数/ 控制策略/ (/ 似流/ 挖掘/ 的/ 窗口/ 策略/ )/ 和/ 使用/ SFCS/ 为/ 特征/ 的/ 分类/ 与/ 聚类/ 问题/ ./ 

