Page1/ 基于/ 实例/ 数据分析/ 的/ 多/ 精度/ 网格/ 布料/ 动画/ 毛天露/ 2/ )/ 1/ )/ (/ 华北电力大学/ 控制/ 与/ 计算机/ 工程学院/ 北京/ 102206/ )/ 2/ )/ (/ 中国科学院计算技术研究所/ 北京/ 100190/ )/ 摘要/ 在/ 布料/ 动画/ 领域/ ,/ 细节/ 变形/ 褶皱/ 的/ 快速/ 逼真/ 模拟/ 是/ 一个/ 具有/ 挑战性/ 的/ 问题/ ./ 多/ 精度/ 网格/ 布料/ 动画/ 技术/ ,/ 在/ 不同/ 变形/ 区域/ 采用/ 不同/ 密度/ 的/ 网格/ ,/ 由此/ 保证/ 布料/ 运动/ 的/ 丰富/ 细节/ 和/ 更/ 高/ 的/ 动画/ 合成/ 效率/ ./ 已有/ 的/ 研究/ 工作/ ,/ 主要/ 针对/ 多/ 精度/ 网格/ 布料/ 动画/ 的/ 可/ 计算/ 问题/ ,/ 即/ 在/ 动画/ 过程/ 中/ 动态/ 获取/ 顶点/ 或/ 面片/ 曲率/ ,/ 依据/ 手工/ 设定/ 的/ 阈值/ 进行/ 动态/ 迭代/ 精化/ ,/ 而/ 对于/ 有效性/ 问题/ ,/ 即/ 如何/ 预测/ 布料/ 运动/ 趋势/ 并/ 据此/ 合理/ 修改/ 网格/ 精度/ ,/ 未/ 深入研究/ ./ 针对/ 该/ 问题/ ,/ 在/ 对/ 布料/ 运动/ 过程/ 中/ 弯曲/ 变形/ 特征/ 进行/ 分析/ 的/ 基础/ 上/ ,/ 提出/ 一种/ 基于/ 实例/ 数据分析/ 的/ 多/ 精度/ 网格/ 布料/ 动画/ 方法/ ./ 首先/ ,/ 选取/ 一段/ 持续/ 的/ 高精度/ 布料/ 动画/ 作为/ 实例/ 数据/ ,/ 分析/ 并/ 提取/ 弯曲/ 变形/ 模式/ ;/ 其次/ ,/ 以/ 弯曲/ 变形/ 模式/ 作为/ 启发/ 信息/ ,/ 结合/ 有效/ 的/ 精化/ 策略/ 以及/ 精化/ 原则/ ,/ 对/ 相应/ 低/ 精度/ 布料/ 模型/ 进行/ 逐层/ 精化/ ,/ 从而/ 构建/ 多/ 精度/ 网格/ 布料/ 几何/ 模型/ ;/ 最后/ ,/ 建立/ 多/ 精度/ 网格/ 各层/ 质点/ 的/ 受力/ 关系/ ,/ 并/ 通过/ 增加/ 边界/ 约束/ 和/ 质量/ 约束/ ,/ 构建/ 可/ 适用/ 于/ 多/ 精度/ 网格/ 的/ 布料/ 动画/ 模型/ ./ 实验/ 结果显示/ ,/ 文中/ 预/ 构建/ 的/ 多/ 精度/ 网格/ 模型/ 可/ 用于/ 同类/ 相似/ 运动/ 驱动/ 下/ 的/ 布料/ 动画/ 计算/ ,/ 能够/ 在/ 保持/ 较/ 多/ 细节/ 变形/ 的/ 前提/ 下/ ,/ 有效/ 提高/ 计算/ 效率/ ./ 关键词/ 布料/ ;/ 布料/ 动画/ ;/ 多/ 精度/ 网格/ ;/ 动力学/ ;/ 实例/ 数据/ 1/ 引言/ 布料/ 是/ 一种/ 可/ 变形/ 柔性/ 材质/ ,/ 极易/ 发生/ 弯曲/ 继而/ 生成/ 丰富/ 多样/ 的/ 褶皱/ ,/ 这些/ 褶皱/ 是/ 其/ 运动/ 过程/ 中/ 最为/ 明显/ 的/ 动态/ 变形/ 特征/ ./ 真实/ 地/ 模拟/ 这些/ 褶皱/ 的/ 出现/ 、/ 变化/ 与/ 消失/ ,/ 是/ 影响/ 布料/ 动画/ 视觉效果/ 的/ 关键因素/ ./ 为了/ 获得/ 细腻/ 、/ 富有/ 动感/ 的/ 布料/ 动画/ 效果/ ,/ 通常/ 需要/ 对/ 布料/ 进行/ 高精度/ 建模/ ,/ 但/ 高精度/ 布料/ 模型/ 通常/ 包含/ 近/ 万个/ 图/ 元/ ,/ 相应/ 地/ ,/ 在/ 动画/ 计算/ 过程/ 中/ 需要/ 进行/ 大量/ 的/ 碰撞检测/ ,/ 并/ 求解/ 大规模/ 动力学/ 方程组/ ,/ 如此/ 高昂/ 的/ 计算/ 代价/ 限制/ 了/ 高精度/ 模型/ 的/ 广泛应用/ ./ 多/ 精度/ 布料/ 模型/ [/ 1/ -/ 3/ ]/ ,/ 在/ 变形/ 比较/ 平滑/ 的/ 区域/ 采用/ 低密度/ 网格/ ,/ 保证/ 动画/ 的/ 计算/ 效率/ ;/ 在/ 变形/ 程度/ 比较/ 大/ 、/ 褶皱/ 丰富/ 的/ 区域/ 采用/ 高密度/ 网格/ ,/ 以/ 模拟/ 变形/ 的/ 细节/ 信息/ ,/ 从而/ 保证/ 快速/ 逼真/ 地/ 生成/ 动画/ ./ 构建/ 多/ 精度/ 布料/ 模型/ ,/ 需要/ 估算/ 布料/ 或/ 服装/ 上/ 可能/ 出现/ 的/ 高/ 变形/ 区域/ ,/ 并/ 对/ 该/ 区域/ 网格/ 进行/ 精化/ ,/ 即/ 解决/ 多/ 精度/ 网格/ 布料/ 模型/ 的/ 自/ 适应/ 问题/ ,/ 以/ 实现/ 计算资源/ 的/ 合理/ 有效/ 利用/ ./ 已有/ 的/ 研究/ 工作/ [/ 1/ -/ 2/ ]/ ,/ 主要/ 针对/ 多/ 精度/ 网格/ 布料/ 动画/ 的/ 可/ 计算/ 问题/ ,/ 即/ 在/ 动画/ 过程/ 中/ 动态/ 获取/ 顶点/ 或/ 面片/ 曲率/ ,/ 依据/ 手工/ 设定/ 的/ 阈值/ 进行/ 动态/ 迭代/ 精化/ ./ 其/ 不足之处/ 在于/ 网格/ 的/ 精化/ 程度/ 主要/ 取决于/ 当前/ 时刻/ 的/ 布料/ 变形/ 状态/ ,/ 较/ 少/ 考虑/ 布料/ 的/ 变形/ 趋势/ 以及/ 变形/ 的/ 连续性/ ;/ 此外/ ,/ 动画/ 过程/ 中/ 不仅/ 需要/ 动态/ 更新/ 网格/ 的/ 拓扑/ 结构/ ,/ 同时/ 还/ 需要/ 动态/ 修改/ 质点/ 之间/ 的/ 受力/ 关系/ ,/ 操作/ 复杂/ 且/ 容易/ 增加/ 计算/ 开销/ ./ 本文/ 的/ 想法/ 是/ 在/ 对/ 一段/ 高精度/ 布料/ 运动/ 进行/ 分析/ 的/ 基础/ 上/ ,/ 从中/ 提取/ 弯曲/ 变形/ 特征/ 以及/ 变形/ 模式/ ,/ 进而/ 预测/ 布料/ 运动/ 趋势/ ./ 据此/ ,/ 对/ 相应/ 低/ 精度/ 模型/ 的/ 高/ 变形/ 区域/ 进行/ 网格/ 精化/ ,/ 并/ 构建/ 多/ 精度/ 网格/ 受力/ 模型/ ,/ 以/ 实现/ 多/ 精度/ 网格/ 布料/ 动画/ 模拟/ ./ 2/ 相关/ 工作/ 基于/ 物理/ 方法/ 的/ 布料/ 动画/ 技术/ ,/ 是/ 展现/ 布料/ 真实/ 运动/ 行为/ 的/ 最为/ 有效/ 的/ 手段/ ./ 已有/ 大量/ 经典/ 文献/ 对此/ 进行/ 了/ 研究/ [/ 4/ -/ 6/ ]/ ./ 这些/ 方法/ 大部分/ 采用/ 均匀/ 网格/ 模型/ ,/ 为了/ 模拟/ 布料/ 细节/ 褶皱/ ,/ 则/ 需要/ 构建/ 高精度/ 模型/ ,/ 而/ 高精度/ 模型/ 所/ 包含/ 的/ 大量/ 图元/ 将/ 会/ 导致/ 求解/ 规模/ 增大/ ,/ 动画/ 计算/ 效率/ 降低/ ./ 为此/ ,/ 一些/ 研究/ 工作/ [/ 7/ -/ 8/ ]/ 将/ 并行计算/ 技术/ 引入/ 高精度/ 布料/ 动画/ 系统/ ,/ 以/ 提高/ 计算/ 效率/ ./ 将/ 多/ 精度/ 网格/ 技术/ 引入/ 布料/ 动画/ ,/ 可以/ 获取/ 动画/ 效果/ 和/ 动画/ 效率/ 的/ 折中/ ./ 为了/ 保证/ 多/ 精度/ 网格/ 模型/ 的/ 自适应性/ ,/ 通常/ 采用/ 的/ 方法/ 是/ 动态/ 计算/ 顶点/ 或/ 面片/ 的/ 曲率/ ,/ 依据/ 手工/ 设定/ 的/ 阈值/ ,/ 调节/ 不同/ 区域/ 网格/ 当前/ 所/ 需/ 的/ 精化/ 程度/ ,/ 并/ 进行/ 迭代/ 精化/ ./ Hutchinson/ 等/ 人/ [/ 1/ ]/ 首次/ 提出/ 了/ 一种/ 基于/ 矩形网格/ 的/ 分层/ 精化/ 模型/ ,/ 即当/ 相邻/ 弹簧/ 的/ 弯曲/ 角度/ 超过/ 指定/ 阈值/ 时/ 进行/ 精化/ ,/ 并/ 通过/ 增加/ 约束/ 保证/ 精化/ 过程/ 中/ 布料/ 属性/ 的/ 稳定/ ./ Villard/ 等/ 人/ [/ 2/ ]/ 提出/ 一种/ 基于/ 四边形/ 网格/ 的/ 精化/ 模型/ ./ 该/ 方法/ 通过/ 计算/ 局部/ 布料/ 面/ 与其/ 切/ 平面/ 之间/ 的/ 偏差/ 估计/ 布料/ 面/ 变形/ 曲率/ ,/ 当/ 曲率/ 超过/ 阈值/ 时/ ,/ 进行/ 连续/ 的/ 三步/ 精化/ ./ 在/ 物理/ 受力/ 方面/ ,/ 采用/ Provot/ 模型/ 计算/ 质点/ 结构/ 力/ 和/ 剪切力/ ,/ 基于/ 梁/ 的/ 变形/ 理论/ 计算/ 质点/ 的/ 弯曲/ 力/ ,/ 并/ 根据/ 精化/ 层次/ 修正/ 拉伸/ 和/ 剪切/ 刚度/ 系数/ ./ Volkov/ 等/ 人/ [/ 9/ ]/ 采用/ 槡/ 3/ 方法/ 对/ 三角形/ 网格/ 进行/ 精化/ ,/ 并/ 基于/ Baraff/ 模型模拟/ 了/ 服装/ 动画/ 效果/ ./ 刘宁/ [/ 10/ ]/ 采用/ 类似/ 的/ 方法/ ,/ 通过/ 动态/ 自/ 适应/ 细分/ 网格/ 模拟/ 了/ 柔性/ 织物/ 的/ 动画/ 效果/ ./ 一种/ 比较/ 新颖/ 的/ 方法/ 是/ 基于/ 逆向/ 简化/ 思想/ 构建/ 多/ 精度/ 网格/ 模型/ [/ 3/ ]/ ,/ 首先/ 对/ 降维/ 的/ 布料/ 系统/ 进行/ 求解/ ,/ 再/ 通过/ 线性插值/ 重构/ 系统/ 原始/ 解/ ./ 该/ 方法/ 用于/ LOOP/ 曲面/ 细分/ 构造/ 的/ 初始/ 高精度/ 模型/ ,/ 能够/ 较/ 准确/ 地/ 保持/ 动画/ 过程/ 中/ 的/ 细节/ 信息/ ,/ 当选/ 用边/ 分解/ 精化/ 策略/ 构造/ 初始模型/ 时/ ,/ 产生/ 的/ 低频/ 误差/ 不易/ 消除/ ./ 3/ 本文/ 算法/ 思想/ 现实/ 中/ 的/ 布料/ 弯曲/ 变形/ 具有/ 如下/ 特性/ :/ 一方面/ ,/ 布料/ 弯曲/ 变形/ 的/ 分布/ 、/ 变形/ 的/ 趋势/ 很大/ 程度/ 上/ 取决于/ 运动/ 模式/ ,/ 同/ 一种/ 运动/ 下/ 的/ 布料/ 变形/ 分布/ 具有/ 一致性/ ./ 比如/ ,/ 人体/ 在/ 转动/ 上半身/ 时/ ,/ 后背/ 到/ 腰部/ 的/ 服装/ 变形/ 程度/ 明显/ 高于/ 服装/ 其他/ 区域/ 的/ 变形/ ./ 另一方面/ ,/ 布料/ 在/ 稳定/ 外力/ 的/ 作用/ 下/ (/ 即/ 没有/ 瞬时/ 大/ 外力/ )/ ,/ 其/ 弯曲/ 变形/ 的/ 产生/ 及/ 变化/ 都/ 相对/ 稳定/ ./ 比如/ ,/ 人体/ 转动/ 上身/ 时/ ,/ 后背/ 到/ 腰部/ 的/ 变形/ 会/ 逐渐/ 产生/ ,/ 持续/ 一段时间/ 后/ ,/ 再/ 慢慢/ 消失/ ;/ 而/ 肘关节/ 运动/ 时/ ,/ 其/ 周围/ 区域/ 的/ 弯曲/ 变形/ 程度/ 也/ 将/ 会/ 逐渐/ 变化/ ./ 基于/ 此/ 分析/ ,/ 本文/ 通过/ 对/ 一小/ 段/ 持续/ 稳定/ 的/ 高精度/ 布料/ 动画/ 数据/ 进行/ 分析/ ,/ 提取/ 运动/ 中/ 弯曲/ 变形/ 特征/ 并/ 分析/ 其/ 变形/ 模式/ ,/ 以此/ 变形/ 模式/ 作为/ 启发/ 信息/ ,/ 对/ 相应/ 低/ 精度/ 布料/ 的/ 各/ 区域/ 作/ 网格/ 精化/ ,/ 构建/ 可/ 适应/ 于/ 相似/ 运动/ 的/ 多/ 精度/ 网格/ 几何/ 模型/ ,/ 并/ 进一步/ 构建/ 多/ 精度/ 网格/ 布料/ 动画/ 系统/ ./ 基于/ 实例/ 数据/ 的/ 多/ 精度/ 网格/ 布料/ 动画/ 方法/ 的/ 总体/ 框架/ 如图/ 1/ 所示/ ./ Page3/ 图/ 1/ 算法/ 总体/ 框架/ 4/ 弯曲/ 变形/ 模式/ 提取/ 4.1/ 动画/ 实例/ 数据/ 获取/ 布料/ 运动/ 中/ 产生/ 的/ 细节/ 褶皱/ 虽然/ 持续/ 变化/ 且/ 丰富/ 多样/ ,/ 但/ 同类/ 运动/ 驱动/ 下/ ,/ 其/ 变形/ 趋势/ 及/ 变形/ 分布/ 具有/ 很大/ 程度/ 的/ 相似性/ ./ 基于/ 这一/ 事实/ ,/ 首先/ 计算/ 一小/ 段/ 特定/ 运动/ 下/ 的/ 布料/ 变形/ ,/ 以此/ 变形/ 数据/ 作为/ 实例/ 进行/ 分析/ ,/ 从中/ 提取/ 弯曲/ 变形/ 特征/ 并/ 进行/ 分类/ ,/ 从而/ 获取/ 变形/ 模式/ ./ 在/ 此基础/ 上/ ,/ 预测/ 布料/ 各/ 区域/ 的/ 变形/ 程度/ ./ 考虑/ 到/ 实例/ 数据/ 典型性/ 等/ 相关/ 因素/ ,/ 本文/ 选取/ 一小/ 段时间/ 内/ 一个/ 标准/ 身高/ 女模/ 行走/ 生成/ 的/ 裤装/ 与/ 裙装/ 动画/ 作为/ 实例/ 数据/ ./ 其中/ ,/ 动画/ 计算/ 时/ ,/ 采用/ 基于/ 四边形/ 网格/ 的/ 动力学/ 系统/ [/ 11/ ]/ ,/ 而/ 计算/ 过程/ 中所/ 需/ 的/ 高精度/ 模型/ ,/ 则/ 通过/ 初始/ 粗/ 网格/ 模型/ 的/ 多次/ 连续/ 加精/ 获得/ (/ 如/ 本文/ 5.1/ 节/ 所述/ )/ ./ 4.2/ 弯曲/ 变形/ 特征分析/ 布料/ 运动/ 中/ ,/ 最/ 典型/ 的/ 特征/ 是/ 弯曲/ 褶皱/ ,/ 弯曲/ 形变/ 越/ 明显/ ,/ 曲率/ 值越/ 大/ ./ 本文/ 基于/ 四边形/ 网格/ 构建/ 布料/ 模型/ ,/ 其/ 弯曲/ 结构/ 如图/ 2/ 所示/ ./ 设/ 顶点/ Pj/ 是/ 顶点/ Pi/ 的/ 一个/ 交错/ 邻接/ 顶点/ ,/ Pi/ 到/ Pj/ 的/ 弯曲/ 形变/ 可/ 近似/ 为/ 一段/ 圆弧/ ./ 假定/ 两点/ 之间/ 的/ 弧长/ 与其/ 初始/ 直线/ 距离/ 近似/ 相等/ ,/ 则/ 可/ 据此/ 求/ 出/ 圆弧/ 的/ 曲率/ ./ 设/ Pi/ 与/ Pj/ 的/ 初始/ 直线/ 距离/ 为/ 2L/ ,/ 弯曲/ 后/ 的/ 圆弧/ 中心角/ 为/ 2/ θ/ ,/ 圆弧/ 半径/ 为/ ρ/ ,/ Pi/ 的/ 曲率/ 为/ K/ ./ 由于/ 弯曲/ 后/ 的/ 弧长/ 近似/ 为/ 2L/ ,/ 则/ 可/ 得/ 又/ 根据/ ρ/ =/ 即可/ 进一步/ 得到/ 曲率/ 上述/ 曲率/ 值/ K/ 表示/ 顶点/ Pi/ 在/ 犘/ i/ 犘/ j/ 方向/ 上/ 的/ 弯曲/ 程度/ ./ 在/ 四边形/ 结构/ 中/ ,/ 顶点/ Pi/ 通常/ 具有/ 8/ 个/ 交错/ 相邻/ 顶点/ [/ 9/ ]/ ,/ 将/ 与/ 之/ 相邻/ 的/ 8/ 段/ 圆弧/ 的/ 曲率/ 平均值/ 近似/ 为/ 顶点/ 的/ 曲率/ 值/ ,/ 它/ 决定/ 布料/ 在/ 顶点/ Pi/ 的/ 弯曲/ 程度/ ./ 4.3/ 数据/ 片段/ 分割/ 与/ 聚类/ 由/ 前述/ 分析/ 可知/ ,/ 一段/ 稳定/ 运动/ 驱动/ 下/ 的/ 布料/ 动画/ ,/ 各/ 区域/ 内/ 的/ 曲率/ 变化/ 特征/ 具有/ 相似性/ ,/ 而且/ 变形/ 的/ 产生/ 或/ 消失/ 是/ 较为/ 稳定/ 的/ ./ 据此/ ,/ 本文/ 将/ 连续/ 的/ 动画/ 数据流/ 进行/ 逐帧/ 分割/ ,/ 形成/ 帧/ 序列/ ;/ 然后/ 求/ 各/ 顶点/ 在/ 时间轴/ 上/ 的/ 曲率/ 均值/ 及/ 均/ 方差/ ./ 设/ 布料/ 模型/ 上/ 第/ i/ 个/ 顶点/ 在/ ti/ 时刻/ 的/ 曲率/ 表示/ 为/ kit/ (/ )/ j/ ,/ 则/ 该/ 顶点/ 在/ 时间轴/ 上/ 的/ 曲率/ 均值/ 为/ ki/ =/ Page4Nkit/ (/ )/ j/ ∑/ j/ =/ 0N/ 表示/ 动画/ 序列/ 的/ 帧/ 数/ ./ 那么/ ,/ 顶点/ i/ 的/ 特征/ 即可/ 表示/ 为/ Xi/ =/ ki/ ,/ d/ (/ )/ i/ ,/ 所有/ 顶点/ 特征/ 构成/ 的/ 集合/ 表示/ 为/ X/ =/ k1/ ,/ d/ (/ 布料/ 包含/ 的/ 顶点/ 数/ ./ {/ 将/ 上述/ 得到/ 的/ 数据/ 集/ X/ 进行/ 聚类/ ,/ 即/ 可以/ 获取/ 该/ 运动/ 下/ 的/ 布料/ 弯曲/ 变形/ 模式/ ./ 本文/ 选择/ 经典/ 的/ k/ -/ 均值/ 算法/ 进行/ 聚类/ [/ 12/ ]/ ./ 基本/ 思想/ 是/ 首先/ 从/ 包含/ M/ 个/ 样本/ 数据/ 的/ 数据/ 集中/ 选择/ 若干个/ 值/ 作为/ 初始/ 聚类/ 中心/ ,/ 然后/ 以/ 距离/ 作为/ 相似性/ 评价/ 指标/ ,/ 计算/ 数据/ 集中/ 其他/ 数据/ Xi/ 与/ 聚类/ 中心/ 的/ 距离/ ,/ 并/ 将/ 其/ 分配/ 到/ 最/ 相似/ 的/ 类/ 中/ ,/ 重复/ 这一/ 过程/ 直到/ 距离/ 测度/ 函数/ 收敛/ 为止/ ./ 虽然/ 布料/ 运动/ 中/ 的/ 弯曲/ 变形/ 模式/ 在/ 细节/ 上/ 可能/ 会/ 受到/ 多种/ 因素/ 的/ 影响/ (/ 比如/ 材质/ )/ ,/ 但/ 变形/ 的/ 分布/ 与/ 变化趋势/ 主要/ 受到/ 运动/ 模式/ 的/ 影响/ ./ 为了/ 获取/ 泛化/ 的/ 变形/ 特征/ ,/ 可以/ 首先/ 将/ 变形/ 特征/ 数据/ 进行/ 归一化/ 处理/ ,/ 然后/ 再/ 进行/ 聚类/ ,/ 提取/ 变形/ 模式/ ./ 4.4/ 各/ 区域/ 顶点/ 的/ 变形/ 模式/ 基于/ 4.3/ 节/ 的/ 算法/ 进行/ 聚类/ ,/ 可以/ 得到/ 高精度/ 网格/ 模型/ 各/ 区域/ 顶点/ 的/ 变形/ 模式/ ./ 假设/ 聚类/ 得到/ 的/ 弯曲/ 变形/ 模式/ 有/ h/ 类/ ,/ 表示/ 为/ 集合/ D/ =/ {/ j/ |/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ h/ }/ ./ 其中/ j/ 值越/ 大/ ,/ 表示/ 变形/ 程度/ 越高/ ./ 变形/ 程度/ 越高/ 的/ 区域/ ,/ 其/ 网格/ 密度/ 也/ 应/ 设置/ 越高/ ./ 根据/ 本文/ 算法/ ,/ 下/ 一步/ 将/ 以/ 该/ 变形/ 模式/ 作为/ 启发/ 信息/ ,/ 对/ 相应/ 低/ 精度/ 网格/ 模型/ 的/ 各/ 区域/ 进行/ 不同/ 的/ 加精/ 操作/ ,/ 构建/ 多/ 精度/ 网格/ 模型/ ./ 为此/ ,/ 需要/ 寻找/ 高精度/ 模型/ 与/ 对应/ 低/ 精度/ 模型/ 的/ 顶点/ 对应/ 关系/ ,/ 然后/ 将/ 获取/ 的/ 变形/ 模式/ 映射/ 到/ 低/ 精度/ 模型/ 上/ ./ 设/ 初始/ 低/ 精度/ 模型/ 的/ 顶点/ 集合/ VL/ =/ {/ pL1/ ,/ …/ ,/ N/ -/ 1/ }/ ,/ 高精度/ 模型/ 的/ 顶点/ 集合/ VH/ =/ {/ pH0/ ,/ 1/ ,/ …/ ,/ N/ -/ 1/ ,/ N/ ,/ N/ +/ 1/ ,/ …/ ,/ M/ -/ 1/ }/ ,/ 其中/ ,/ N/ 是/ 初始/ 低/ 精度/ 模型/ 包含/ 的/ 顶点/ 数/ ,/ M/ 是/ 高精度/ 模型/ 的/ 顶点/ 数/ ./ 由于/ 高精度/ 网格/ 模型/ 是/ 基于/ 低/ 精度/ 网格/ 模型/ 进行/ 连续/ 加精/ 生成/ ,/ 因此/ ,/ 低/ 精度/ 模型/ 上/ 的/ 顶点/ pL/ (/ i/ =/ 0/ ,/ 1/ ,/ …/ ,/ N/ -/ 1/ )/ 直接/ 对应/ 于/ 高精度/ 模型/ 上/ 的/ 顶/ i/ (/ i/ =/ 0/ ,/ 1/ ,/ …/ ,/ N/ -/ 1/ )/ ,/ 而/ 高精度/ 模型/ 顶点/ 子集/ 点/ pHVCH/ =/ {/ pH/ 映射/ 到/ 低/ 精度/ 模型/ 的/ 对应/ 顶点/ 上/ ./ 图/ 3/ 给出/ 了/ 全部/ 网格/ 加精/ 2/ 次/ 的/ 情形/ ./ 在/ 通过/ 映射/ 获取/ 了/ 低/ 精度/ 模型/ 各/ 顶点/ 的/ 变形/ 模式/ 之后/ ,/ 即/ 可以/ 估计/ 低/ 精度/ 模型/ 各/ 区域/ 网格/ 需要/ 的/ 精度/ 级别/ ,/ 从而/ 进行/ 相应/ 的/ 加精/ 操作/ (/ 5.2/ 节将/ 对此/ 进行/ 详述/ )/ ./ 5/ 多/ 精度/ 网格/ 模型/ 构建/ 5.1/ 网格/ 精化/ 策略/ 对于/ 四边形/ 网格/ 布料/ 模型/ ,/ 经典/ “/ 边/ 分裂/ ”/ 操作/ 可以/ 快速/ 地/ 将/ 网格/ 从/ 第/ Li/ 层/ 精度/ 细化/ 为/ 第/ Li/ +/ 1/ 层/ 精度/ ,/ 如图/ 4/ 所示/ ./ 一次/ 精化/ 操作/ 增加/ 了/ 5/ 个/ 新/ 结点/ 与/ 4/ 个/ 新/ 的/ 活动/ 子/ 网格/ ,/ 原/ 网格/ 被/ 重置/ 为/ 非/ 活动/ 网格/ ./ 设/ 四边形/ 网格/ Q/ 的/ 4/ 个/ 顶点/ 为/ pi/ (/ i/ =/ 0/ ,/ 1/ ,/ 2/ ,/ 3/ )/ ,/ 网格/ 对应/ 的/ 精度/ 层为/ L1/ ,/ 则/ 精化/ 四边形/ 网格/ 的/ 具体/ 算法/ 如下/ ./ 算法/ 1/ ./ 四边形/ 网格/ 精化/ 算法/ ./ 1/ ./ 输入/ 四边形/ 网格/ Q/ 以及/ 其/ 对应/ 的/ 精度/ 层/ L1/ ;/ 2/ ./ 如果/ Q/ 为/ 非/ 活动/ 网格/ ,/ 则/ 转步/ 7/ ;/ 否则/ 转步/ 3/ ;/ 3/ ./ 求/ 网格/ 的/ 中心点/ vc/ 以及/ 每条/ 边/ 的/ 中点/ vk/ (/ k/ =/ 0/ ,/ 1/ ,/ 2/ ,/ 3/ )/ ;/ 4/ ./ 用/ 5/ 个/ 新增/ 结点/ 将/ 网格/ 分割/ 为/ 4/ 个/ 均匀/ 的/ 子/ 网格/ SQi/ (/ i/ =/ 0/ ,/ 1/ ,/ 2/ ,/ 3/ )/ ,/ 原/ 网格/ 记为/ 父/ 网格/ ;/ 5/ ./ 将/ 4/ 个子/ 网格/ 的/ 精度/ 层设/ 为/ L2/ ,/ L2/ =/ L1/ +/ 1/ ;/ 6/ ./ 将/ 新增/ 的/ 4/ 个子/ 网格/ SQi/ 置/ 为/ “/ 活动/ 网格/ ”/ ,/ 父/ 网格/ Q/ 置/ 为/ “/ 非/ 活动/ 网格/ ”/ ;/ 7/ ./ 结束/ ./ 5.2/ 布料/ 模型/ 的/ 精化/ 本文/ 第/ 4/ 节/ 获取/ 了/ 低/ 精度/ 模型/ 顶点/ 所属/ 的/ 变形/ 模式/ ,/ 而/ 5.1/ 节中/ 精化/ 操作/ 的/ 基本/ 单位/ 是/ 四边形/ 网格/ ,/ 因此/ 需要/ 根据/ 顶点/ 的/ 变形/ 模式/ 确定/ 该/ 顶点/ 周围/ 区域/ 是否/ 需要/ 加精/ ./ 设/ 四边形/ 网格/ Q/ 的/ 4/ 个/ 顶点/ 为/ pi/ (/ i/ =/ 0/ ,/ 1/ ,/ 2/ ,/ 3/ )/ ,/ 对应/ 的/ 变形/ 模式/ 为/ jpi/ 对应/ 区域/ 的/ 最终/ 精度/ 级/ 由/ 构成/ 网格/ 的/ 4/ 个/ 顶点/ 的/ 变形/ 模式/ jpi/ 曲/ 变形/ 程度/ 较/ 低/ ,/ 网格/ 只/ 需/ 保持/ 较/ 低/ 的/ 初始/ 精度/ ;/ 否/ Page5/ 则/ ,/ 如果/ ∑/ 高/ ,/ 需要/ 对/ 网格/ 进行/ 一次/ 或/ 多次/ 精化/ ,/ 使/ 之/ 具有/ 较/ 高/ 的/ 精度/ ./ 本文/ 将/ 基于/ 上述/ 精化/ 原则/ ,/ 进行/ 逐层/ 连续/ 精化/ ./ 设/ 布料/ 模型表示/ 为/ MC/ =/ (/ V/ ,/ F/ ,/ Nv/ ,/ Nf/ )/ ,/ 其中/ ,/ V/ 是/ 顶点/ 集/ ,/ F/ 是/ 网格/ 集/ ,/ Nv/ 是/ 顶点/ 数/ ,/ Nf/ 是/ 网格/ 数/ ;/ 初始/ 低/ 精度/ 模型/ 各/ 顶点/ 变形/ 模式/ 构成/ 的/ 集合/ 表示/ 为/ LD/ =/ {/ jpi/ |/ i/ =/ 0/ ,/ 1/ ,/ 2/ ,/ …/ ,/ N/ -/ 1/ }/ ,/ LD/ / D/ ,/ 其中/ ,/ N/ 为/ 布料/ 顶点/ 个数/ ./ 此外/ ,/ 设/ 一个/ 辅助/ 集合/ R/ =/ {/ rpi/ |/ i/ =/ 0/ ,/ 1/ ,/ 2/ ,/ …/ ,/ Nv/ }/ ,/ 其/ 初值/ 与/ LD/ 相同/ ./ 对/ 布料/ 模型/ 进行/ 一遍/ 精化/ 操作/ 之后/ ,/ 集合/ R/ 也/ 需/ 进行/ 相应/ 的/ 修正/ ,/ 以/ 确定/ 是否/ 还/ 需/ 继续/ 下/ 一遍/ 精化/ ./ 算法/ 2/ ./ 布料/ 模型/ 精化/ 算法/ ./ 1/ ./ 输入/ 初始/ 低/ 精度/ 布料/ 模型/ MC/ ,/ 各/ 顶点/ 变形/ 模式/ 构成/ 的/ 集合/ LD/ ;/ 2/ ./ 初始化/ 设置/ R/ =/ LD/ ;/ 3/ ./ 置/ refineFlag/ 为/ False/ ;/ 4/ ./ 设/ k/ =/ 0/ ;/ 5/ ./ 获取/ 四边形/ 网格/ fk/ 的/ 4/ 个/ 顶点/ pi/ (/ i/ =/ 0/ ,/ 1/ ,/ 2/ ,/ 3/ )/ 及其/ 对应/ rpi6/ ./ 求/ ∑/ 7/ ./ 如果/ ∑/ 图/ 5/ 层次/ 存储/ 结构/ 6/ 多/ 精度/ 动力学/ 系统/ 构建/ 6.1/ 受力/ 关系/ 分析/ 本文/ 采用/ 文献/ [/ 11/ ]/ 的/ 受力/ 模型/ ,/ 即/ 质点/ 之间/ 具有/ 3/ 种/ 受力/ 关系/ :/ 直接/ 相邻/ 质点/ 之间/ 构成/ 结构/ 受力/ 或/ 剪切/ 受力/ ;/ 间接/ 相邻/ 质点/ 之间/ 构成/ 弯曲/ 受力/ ./ refineFlag/ =/ True/ ;/ 8/ ./ k/ =/ k/ +/ 1/ ;/ 9/ ./ 如果/ k/ </ Nf/ ,/ 转步/ 5/ ;/ 否则/ ,/ 转步/ 10/ ;/ 10/ ./ 修正/ 集合/ R/ ;/ 11/ ./ 如果/ refineFlag/ =/ True/ ,/ 则/ 转步/ 3/ ;/ 否则/ ,/ 转步/ 12/ ;/ 12/ ./ 精化/ 完成/ ,/ 输出/ 多/ 精度/ 网格/ 模型/ ./ 算法/ 3/ ./ 集合/ R/ 修正/ 算法/ ./ FOR/ (/ 精化/ 前/ 的/ 顶点/ i/ )/ ENDFORFOR/ (/ 精化/ 增加/ 的/ 新/ 顶点/ i/ )/ IF/ (/ i/ 是/ 中心点/ )/ ELSEENDFOR5/ ./ 3/ 层次/ 数据结构/ 本文/ 选用/ 经典/ 四叉/ 树结构/ 存储/ 面/ 的/ 信息/ ,/ 每个/ 网格/ 面/ 需要/ 记录/ 的/ 信息/ 包括/ :/ 面/ 索引/ 、/ 精化/ 层级/ 、/ 是否/ 活动/ 面/ 标识/ 、/ 父面/ 指针/ 及/ 4/ 个/ 孩子/ 面/ 指针/ ./ 图/ 5/ 给出/ 了/ 3/ 次/ 精化/ 产生/ 的/ 模型/ 以及/ 对应/ 层次/ 存储/ 结构/ ./ 其中/ ,/ 初始/ 网格/ A0/ 的/ 精度/ 层为/ 1/ ,/ 每/ 进行/ 一次/ 精化/ ,/ 网格/ 的/ 精度/ 增加/ 1/ ./ 最后/ 一层/ 精化/ 产生/ 的/ 网格/ 为/ 活动/ 网格/ ,/ 其他/ 网格/ 都/ 被/ 置/ 为/ 非/ 活动/ 网格/ ./ 在/ 均匀/ 网格/ 模型/ 中/ ,/ 质点/ 分布/ 基本/ 均匀/ ,/ 因此/ 刚度/ 系数/ 对于/ 各/ 质点/ 受力/ 可以/ 近似/ 为/ 相同/ ./ 执行/ 一次/ 精化/ 操作/ 之后/ ,/ 新增/ 了/ 一组/ 顶点/ ,/ 同时/ 也/ 新增/ 了/ 一组/ 精度/ 更/ 高/ 的/ 网格/ ./ 新增/ 顶点/ 和/ 网格/ 改变/ 了/ 原有/ 模型/ 的/ 拓扑/ 结构/ ,/ 并/ 将/ 其/ 划分/ 为/ 3/ 类/ 区域/ ,/ 如图/ 6/ 所示/ ./ 通过/ 分析/ 不同/ 区域/ 质点/ 之间/ 的/ 相邻/ 关系/ ,/ 即可/ 重构/ 多/ 精度/ 网格/ 的/ 力学/ 模型/ ./ Page6/ 图/ 6/ 多层/ 网格/ 的/ 受力/ 关系/ 变化/ (/ 1/ )/ 精化/ 区域/ ./ 以/ 初始/ 网格/ 模型/ 中/ 的/ 顶点/ p1/ 的/ 邻接/ 关系/ 为例/ 进行/ 说明/ :/ 原来/ 与/ p1/ 直接/ 相邻/ 的/ 内层/ 质点/ pi/ (/ i/ =/ 2/ ,/ …/ ,/ 9/ )/ 都/ 转变/ 为/ 外层/ 相邻/ 质点/ ,/ 相应/ 的/ 结构/ 受力/ 转变/ 为/ 弯曲/ 受力/ ;/ 增加/ 了/ 新/ 的/ 内层/ 邻接/ 质点/ vi/ (/ i/ =/ 1/ ,/ …/ ,/ 8/ )/ ./ 此外/ ,/ 由于/ 新/ 网格/ 边长/ 减小/ ,/ 密度/ 增大/ ,/ 为了/ 保证/ 布料/ 机械系统/ 的/ 连贯性/ 和/ 一致性/ ,/ 本文/ 将/ 受力/ 模型/ 中/ 拉伸/ 和/ 剪切/ 刚度/ 系数/ 进行/ 如下/ 调节/ :/ 其中/ ,/ α/ 是/ 可控/ 参数/ ,/ i/ 是/ 对应/ 的/ 精化/ 层/ ./ 当/ α/ 取上界/ 时/ ,/ 刚度/ 系数/ 将/ 随着/ 网格/ 加精/ 而/ 快速/ 增大/ ./ 也/ 可/ 通过/ 参数/ α/ 的/ 调节/ 适度/ 调整/ 布料/ 的/ 刚度/ ./ (/ 2/ )/ 非/ 精化/ 区域/ ./ 其/ 网格/ 结构/ 与/ 初始模型/ 保持一致/ ,/ 没有/ 新/ 网格/ 增加/ ,/ 质点/ 邻接/ 关系/ 保持/ 不变/ ,/ 因此/ ,/ 相应/ 的/ 受力/ 关系/ 以及/ 模型/ 参数/ 保持/ 初始状态/ ./ (/ 3/ )/ 边界/ 区域/ ./ 以/ p6/ 的/ 邻接/ 关系/ 为例/ 进行/ 分析/ :/ p6/ 增加/ 了/ 3/ 个/ 直接/ 相邻/ 内层/ 质点/ v5/ 、/ v8/ 与/ v9/ ,/ 原来/ 的/ 3/ 个/ 直接/ 相邻/ 关系/ 变为/ 外层/ 相邻/ 关系/ ,/ 其他/ 邻接/ 关系/ 保持/ 不变/ ./ 设/ 一次/ 精化/ 后/ 的/ 布料/ 模型/ 为/ MC/ =/ (/ V/ ,/ F/ ,/ Nv/ ,/ Nf/ )/ ,/ 其中/ V/ =/ V1/ ∪/ V2/ ,/ V1/ 是/ 精化/ 前/ 布料/ 顶点/ 集/ ,/ V2/ 是/ 精化/ 后/ 新/ 增加/ 顶点/ 构成/ 的/ 集合/ ,/ F/ 是/ 布料/ 网格/ 集/ ./ 则/ 根据上述/ 受力/ 关系/ 变化/ 分析/ ,/ 给出/ 重构/ 力学系统/ 的/ 算法/ ./ 算法/ 4/ ./ 多/ 精度/ 布料/ 力学系统/ 重构/ ./ 输入/ 布料/ 网格/ 模型/ MC/ ;/ FOR/ (/ V1/ 中/ 的/ 顶点/ )/ 将/ 该/ 顶点/ 的/ 所有/ 非/ 活动/ 邻接/ 网格/ 替换/ 为/ 活动/ 邻接/ 网格/ ;/ 修正/ 其/ 相应/ 的/ 内/ 外层/ 邻接/ 关系/ ;/ 重构/ 其/ 受力/ 模型/ ;/ ENDFORFOR/ (/ V2/ 中/ 的/ 顶点/ )/ 将/ 该/ 顶点/ 的/ 所有/ 非/ 活动/ 邻接/ 网格/ 替换/ 为/ 活动/ 邻接/ 网格/ ;/ 增加/ 其内/ 外层/ 邻接/ 关系/ ;/ 构建/ 对应/ 的/ 受力/ 模型/ ;/ ENDFORFOR/ (/ V/ 中/ 的/ 顶点/ )/ 按照/ 精化/ 后/ 的/ 受力/ 模型/ ,/ 计算/ 系统/ 受力/ ;/ ENDFOR6/ ./ 2/ 约束/ 分析/ 在/ 多/ 精度/ 布料/ 模型/ 中/ ,/ 由于/ 各/ 区域/ 对应/ 的/ 网格/ 精度/ 不同/ ,/ 将会/ 导致/ 相邻/ 区域/ 的/ 边界/ 产生/ 一些/ T/ -/ 结点/ ,/ 如图/ 7/ 所示/ ./ 为了/ 避免/ “/ T/ -/ 结点/ ”/ 在/ 服装/ 动画/ 过程/ 中/ “/ 裂开/ ”/ ,/ 本文/ 对/ T/ 结点/ 施加/ 约束/ ./ 此外/ ,/ 精化/ 操作/ 后/ ,/ 不同/ 区域/ 的/ 质点/ 分布/ 并/ 不/ 均匀/ ,/ 为了/ 保证系统/ 质量/ 恒定/ ,/ 本文/ 对/ 新增/ 质点/ 的/ 质量/ 进行/ 相应/ 约束/ ./ (/ 1/ )/ T/ -/ 结点/ 约束/ 如图/ 7/ 所示/ ,/ P/ 为/ 精化/ 过程/ 中/ 产生/ 的/ “/ T/ -/ 结点/ ”/ ,/ F1/ 和/ F2/ 为/ 其父/ 结点/ ./ 在/ 动画/ 计算/ 中/ ,/ P/ 点/ 的/ 运动/ 状态/ 并/ 不是/ 通过/ 动力学/ 计算/ 求得/ ,/ 而是/ 通过/ 其父/ 结点/ 位置/ 的/ 线性插值/ 来/ 确定/ ,/ 以/ 保持/ P/ 点落/ 在/ F1/ 和/ F2/ 确定/ 的/ 线段/ 上/ ,/ 避免/ 布料/ 的/ 分裂/ 现象/ ./ (/ 2/ )/ 质量/ 约束/ 布料/ 一旦/ 确定/ ,/ 其/ 质量/ 应该/ 是/ 恒定/ 的/ ./ 多/ 精度/ 布料/ 模型/ 的/ 质点/ 分布/ 不/ 均匀/ ,/ 如果/ 每一/ 质点/ 赋予/ 相同/ 的/ 质量/ ,/ 将会/ 破坏/ 质量守恒/ 和/ 动量/ 守恒/ 原则/ ,/ 进一步/ 导致/ 布料/ 动画/ 过程/ 中/ 变形/ 失真/ ./ Page7/ 本文/ 给出/ 一种/ 非等质/ 的/ 质点/ 质量/ 计算方法/ ./ 将/ 布料/ 网格/ 面/ 看作/ 连续/ 面片/ 离散/ 化/ 的/ 结果/ ,/ 网格/ 面/ 质量/ 密度/ 分布/ 均匀/ ,/ 质心/ 在/ 面/ 的/ 中心/ ,/ 每一/ 网格/ 面对/ 该/ 面上/ 每个/ 顶点/ 的/ 质量/ 贡献/ 为/ 1/ 图/ 8/ 所示/ ./ 如果/ 布料/ 网格/ 划分/ 均匀/ ,/ 且/ 每/ 一/ 网格/ 面/ 质量/ 为/ m/ ,/ 对于/ 只有/ 1/ 个/ 邻接面/ 的/ 质点/ ,/ 该/ 质点/ 质量/ 为/ m/ ./ 对于/ 具有/ n/ 个/ 邻接面/ 的/ 质点/ ,/ 所有/ 邻接/ 网格/ 面/ 14/ 的/ 质量/ 贡献/ 和/ 1/ 出/ ,/ 该/ 方法/ 确定/ 的/ 边界点/ 质量/ 小于/ 中心点/ 质量/ ,/ 这/ 非常/ 符合实际/ 布料/ 动画/ 中/ 边界/ 更/ 容易/ 发生/ 形变/ 的/ 现象/ ./ 对于/ 非/ 均匀/ 的/ 多层/ 精化/ 模型/ ,/ 精化/ 网格/ 面/ 质量/ 为/ 上/ 一层/ 网格/ 面/ 质量/ 的/ 1/ 为/ m/ ,/ 那么/ 第/ k/ 次/ 精化/ 之后/ 的/ 网格/ 面/ 质量/ 为/ m/ 前述/ 质点/ 质量/ 的/ 计算方法/ ,/ 对于/ 具有/ n/ 个/ 邻接面/ 的/ 质图/ 9/ 特征/ 数据分布/ 及/ 变形/ 模式/ 提取/ 点/ ,/ 布料/ 面上/ 每个/ 质点/ 的/ 质量/ 为/ Mi/ =/ ∑/ level/ (/ j/ )/ 表示/ 第/ j/ 个/ 邻接/ 网格/ 面/ 的/ 精度/ 层/ ./ 7/ 实验/ 结果/ 与/ 分析/ 本文/ 采用/ 一个/ 标准/ 身高/ 女模/ 穿着/ 裤装/ 与/ 裙装/ 进行/ 动画/ 实验/ ./ 首先/ 选取/ 一段/ 行走/ 运动/ ,/ 计算/ 其/ 驱动/ 产生/ 的/ 高精度/ 服装/ 动画/ 作为/ 实例/ 数据/ ,/ 从中/ 提取/ 弯曲/ 变形/ 模式/ ,/ 并/ 构建/ 多/ 精度/ 网格/ 几何/ 模型/ ;/ 其次/ ,/ 计算/ 一段/ 相似/ 的/ 新/ 运动/ 驱动/ 下/ 的/ 服装/ 变形/ ,/ 通过/ 对照/ 不同/ 精度/ 网格/ 模型/ 的/ 动画/ 效果/ 及/ 效率/ ,/ 对/ 方法/ 的/ 性能/ 进行/ 定性/ 及/ 量化/ 分析/ ./ 其中/ ,/ 动画/ 模拟/ 中/ 的/ 数值/ 计算/ 以及/ 碰撞检测/ 分别/ 采用/ 文献/ [/ 13/ ]/ 和/ 文献/ [/ 14/ ]/ 提出/ 的/ 方法/ ./ 所有/ 实验/ 环境/ 均/ 为/ IntelCore2DuoE8400/ ,/ 3GHzCPU/ ,/ 4GB/ 内存/ ,/ NVIDIAGeForce9800GTSGPU/ ./ 7.1/ 基于/ 变形/ 模式/ 生成/ 多/ 精度/ 网格/ 模型/ 实验/ 中/ 使用/ 裙子/ 以及/ 长裤/ 两种/ 模型/ ,/ 首先/ 在/ 3DMAX/ 中/ 构建/ 低/ 精度/ 网格/ 模型/ ,/ 然后/ 基于/ 本文/ 加精/ 算法/ 对模型/ 包含/ 的/ 全部/ 网格/ 进行/ 两次/ 加精/ ,/ 生成/ 各自/ 对应/ 的/ 高精度/ 网格/ 模型/ ./ 获取/ 高精度/ 模型/ 动画/ 实例/ 数据/ ,/ 提取/ 特征/ 并/ 进行/ 聚类/ ,/ 得到/ 3/ 类/ 变形/ 模式/ ./ 表/ 1/ 给出/ 了/ 各/ 实例/ 动画/ 包含/ 的/ 帧/ 数/ 以及/ 计算/ 时间/ ,/ 相应/ 的/ 图示/ 效果/ 如图/ 9/ 所示/ ./ 其中/ ,/ 图/ 9/ (/ a/ )/ 表示/ Page8/ 服装/ 模型/ 裙子/ 长裤/ 实例/ 动画/ 效果/ ,/ 图/ 9/ (/ b/ )/ 表示/ 对应/ 的/ 特征/ 数据/ 分布图/ ,/ 图/ 10/ 两种/ 顶点/ 数/ 不同/ 的/ 多/ 精度/ 网格/ 裙装/ 模型/ 图/ 11/ 两种/ 顶点/ 数/ 不同/ 的/ 多/ 精度/ 网格/ 裤装/ 模型/ 由/ 上/ 可知/ ,/ 本文/ 方法/ 能够/ 提取/ 动画/ 过程/ 中/ 的/ 高/ 变形/ 区域/ ,/ 在/ 结合/ 变形/ 模式/ 与/ 各/ 区域/ 细节/ 变形/ 程度/ 的/ 综合/ 需求/ 前提/ 下/ ,/ 可以/ 预/ 构建/ 规模/ 不同/ 的/ 多/ 精度/ 网格/ 模型/ ;/ 网格/ 的/ 分布/ 与/ 所/ 获取/ 的/ 变形/ 模式/ 具有/ 一致性/ ./ 7.2/ 算法/ 分析/ 首先/ ,/ 为了/ 得到/ 更/ 多/ 的/ 变形/ 细节/ 信息/ ,/ 需要/ 基于/ 高精度/ 服装/ 模型/ 进行/ 动画/ 实例/ 数据/ 获取/ ,/ 这/ 是/ 本/ 方法/ 主要/ 的/ 时间/ 耗费/ ./ 其次/ ,/ 对/ 布料/ 模型/ 进行/ 加精/ 时/ ,/ 需要/ 执行/ 多次/ 循环/ 遍历/ 操作/ ,/ 精化/ 的/ 次数/ 越/ 多/ ,/ 时间/ 消耗/ 越多/ ./ 表/ 2/ 给出/ 了/ 本文/ 方法/ 与/ 动态/ 精化/ 方法/ 的/ 精化/ 时间/ 对照/ ./ 表中/ 数据/ 显示/ ,/ 本文/ 方法/ 在/ 获取/ 动画/ 实例/ 数据/ 阶段/ 会/ 耗费/ 较长/ 的/ 时间/ ./ 但/ 由于/ 该/ 计算/ 以及/ 精化/ 操作/ 都/ 只/ 需要/ 在/ 预处理/ 时/ 进行/ 一次/ ,/ 因此/ 对/ 多/ 精度/ 动画/ 系统/ 的/ 整体/ 性能/ 影响/ 较/ 小/ ./ 与/ 之/ 相比/ ,/ 动态/ 迭代/ 精化/ 算法/ 需要/ 根据/ 每帧/ 的/ 变形/ 程度/ 进行/ 相应/ 的/ 遍历/ 精化/ 操作/ ,/ 增加/ 了/ 每/ 帧/ 动画/ 时间/ 开销/ ./ 当/ 运动/ 不同/ 颜色/ 表示/ 变形/ 程度/ 不同/ ./ 将/ 数据/ 相近/ 的/ 聚/ 在/ 同/ 一类/ 中/ ,/ 得到/ 对应/ 的/ 变形/ 模式/ ,/ 并/ 进而/ 将/ 模型/ 划分/ 为/ 多个/ 区域/ ./ 以/ 获取/ 的/ 变形/ 模式/ 作为/ 启发/ 信息/ ,/ 并/ 结合/ 对/ 各/ 区域/ 变形/ 细节/ 程度/ 的/ 不同/ 需求/ ,/ 本文/ 分别/ 构建/ 了/ 多/ 精度/ 网格/ 裙装/ 模型/ 与/ 裤装/ 模型/ ,/ 如图/ 10/ 和/ 图/ 11/ 所示/ ./ 持续时间/ 很长/ 时/ ,/ 本文/ 方法/ 的/ 计算/ 效率/ 将/ 优于/ 动态/ 迭代/ 精化/ 方法/ ./ 表/ 2/ 本文/ 方法/ 与/ 动态/ 精化/ 方法/ 的/ 精化/ 时间/ 对照/ 服装/ 模型/ 精化/ 方法/ 裙装/ 裤装/ 7.3/ 动画/ 效果/ 及/ 效率/ 对照/ (/ 1/ )/ 动画/ 效果/ 对照/ 首先/ ,/ 本文/ 选用/ 一段/ 新/ 的/ 行走/ 运动/ 进行/ 服装/ 动画/ 计算/ ./ 对/ 新/ 运动/ 驱动/ 下/ 的/ 低/ 精度/ 均匀/ 网格/ 模型/ 、/ 高精度/ 均匀/ 网格/ 模型/ 以及/ 多/ 精度/ 网格/ 模型/ 的/ 动画/ 效果/ 进行/ 分析/ ./ 由/ 动画/ 结果/ 图/ 12/ 和/ 图/ 13/ 可知/ ,/ 低/ 精度/ 动画/ 丢失/ 了/ 大量/ 细节/ 信息/ ,/ 整个/ 服装/ 具有/ 较少/ 的/ 褶皱/ ,/ 视觉/ 上/ 表现/ 出/ 很/ 强/ 的/ 刚性/ ;/ 裙装/ 多/ 精度/ 网格/ 模型/ 的/ Page9/ 顶点/ 数比/ 高精度/ 均匀/ 网格/ 模型/ 减少/ 约/ 2/ // 3/ ,/ 但/ 两者/ 整体/ 动画/ 效果/ 比较/ 接近/ ;/ 裤装/ 动画/ 中/ 的/ 高/ 变形/ 区域/ 主要/ 分布/ 在/ 后/ 膝部/ 区域/ ,/ 相应/ 的/ 该/ 区域/ 的/ 网格/ 密度/ 也/ 设置/ 更高/ ,/ 因此/ 可以/ 表现/ 出/ 与/ 高精度/ 模型/ 基本/ 接图/ 12/ 不同/ 精度/ 的/ 裙装/ 动画/ 对照/ 图/ 13/ 不同/ 精度/ 的/ 裤装/ 动画/ 对照/ 图/ 14/ 近似/ 规模/ 的/ 均匀/ 网格/ 与/ 多/ 精度/ 网格/ 动画/ 对照/ 近/ 的/ 动画/ 效果/ ./ 其次/ ,/ 在/ 新/ 运动/ 驱动/ 下/ ,/ 将/ 顶点/ 数/ 接近/ 的/ 均匀/ 网格/ 模型/ 与/ 多/ 精度/ 网格/ 模型/ 进行/ 动画/ 效果/ 对照/ ,/ 实验/ 结果/ 如图/ 14/ 所示/ ./ 对照/ 动画/ 效果/ 可以/ 看出/ ,/ 多/ 精度/ 网格/ Page10/ 动画/ 中/ ,/ 服装/ 的/ 下摆/ 区域/ 呈现出/ 相对/ 更/ 明显/ 的/ 弯曲/ 形变/ ,/ 而/ 裤装/ 在/ 裤脚/ 部位/ 的/ 细节/ 变形/ 更为/ 明显/ 一些/ ./ 由此可知/ ,/ 在/ 占用/ 大致相同/ 计算资源/ 的/ 前提/ 下/ ,/ 本文/ 的/ 多/ 精度/ 网格/ 动画/ 可以/ 表现/ 出/ 更/ 多/ 的/ 局部/ 细节/ 变形/ ./ 由此可知/ ,/ 基于/ 实例/ 数据/ 预/ 构建/ 的/ 多/ 精度/ 网格/ 模型/ 用于/ 同类/ 相似/ 运动/ 驱动/ 下/ 的/ 布料/ 动画/ 计算/ ,/ 能够/ 较/ 好/ 地/ 保持/ 高/ 变形/ 区域/ 的/ 细节/ 褶皱/ ./ (/ 2/ )/ 计算/ 效率/ 分析/ 分别/ 将/ 高精度/ 均匀/ 网格/ 模型/ 、/ 多/ 精度/ 网格/ 模型/ 、/ 低/ 精度/ 均匀/ 网格/ 模型/ 进行/ 动画/ 模拟/ ,/ 对/ 动力学/ 计算/ 时间/ 、/ 碰撞检测/ 时间/ 等/ 关键/ 效率/ 指标/ 进行/ 量化/ 对比/ 分析/ ,/ 实验/ 结果/ 如表/ 3/ 所示/ ./ 服装/ 模型/ 裙装/ 裤装/ 多/ 精度/ 非/ 均匀/ 多/ 精度/ 非/ 均匀/ 从表/ 3/ 可知/ ,/ 低/ 精度/ 均匀/ 网格/ 裙装/ 动画/ 中/ ,/ 每帧/ 计算/ 量/ 小/ ,/ 仅/ 需/ 187ms/ ,/ 效率/ 很/ 高/ ,/ 但/ 结合/ 图/ 12/ (/ a/ )/ 可知/ ,/ 低/ 精度/ 网格/ 动画/ 难以/ 表现/ 服装/ 的/ 细节/ 变形/ ./ 高精度/ 网格/ 裙装/ 模型/ 包含/ 上万个/ 顶点/ ,/ 碰撞检测/ 非常/ 耗时/ ,/ 约/ 需要/ 2984ms/ ,/ 每帧/ 总/ 的/ 动画/ 时间/ 约/ 需要/ 3031ms/ ,/ 效率/ 很/ 低/ ./ 与/ 之/ 相比/ ,/ 多/ 精度/ 网格/ 裙装/ 模型/ 的/ 顶点/ 数量/ 降低/ 约/ 2/ // 3/ ,/ 每帧/ 动画/ 效率/ 提高/ 近/ 70/ %/ ./ 另外/ 一组/ 数据/ 是/ 裤装/ 动画/ 计算/ 效率/ 对照/ ./ 高精度/ 均匀/ 网格/ 裤装/ 模型/ 包含/ 9355/ 个/ 顶点/ ,/ 每帧/ 动画/ 约/ 为/ 2331ms/ ./ 与/ 之/ 相比/ ,/ 包含/ 2228/ 个/ 顶点/ 的/ 多/ 精度/ 裤装/ 动画/ 效率/ 提高/ 非常明显/ ,/ 超过/ 70/ %/ ./ 由此/ 可以/ 看出/ ,/ 本文/ 构建/ 的/ 多/ 精度/ 网格/ 动画/ 系统/ ,/ 能够/ 获取/ 模拟/ 效率/ 与/ 效果/ 的/ 折中/ ,/ 在/ 保持/ 动画/ 逼真性/ 的/ 同时/ ,/ 提高/ 了/ 计算/ 效率/ ./ 8/ 小结/ 本文/ 提出/ 一种/ 基于/ 实例/ 数据/ 的/ 多/ 精度/ 网格/ 布料/ 动画/ 方法/ ./ 通过/ 对/ 一个/ 小/ 时间段/ 布料/ 动画/ 的/ 弯曲/ 变形/ 特征/ 进行/ 分析/ ,/ 提取/ 变形/ 模式/ 并/ 估算/ 不同/ 区域/ 的/ 变形/ 程度/ ,/ 进而/ 对/ 各/ 区域/ 做/ 相适应/ 层级/ 的/ 网格/ 精化/ ,/ 构建/ 可/ 适应/ 于/ 相似/ 运动/ 的/ 多/ 精度/ 网格/ 布料/ 模型/ ,/ 并/ 结合/ 边界/ 约束/ 和/ 质量/ 约束/ ,/ 构建/ 可/ 适用/ 于/ 多/ 精度/ 网格/ 的/ 动画/ 系统/ ./ 其/ 优点/ 在于/ :/ (/ 1/ )/ 在/ 初始化/ 阶段/ 构建/ 多/ 精度/ 布料/ 几何/ 模型/ 及/ 动力学/ 系统/ ,/ 整个/ 动画/ 过程/ 中/ 无需/ 进行/ 网格/ 结构/ 以及/ 受力/ 系统/ 的/ 更新/ ,/ 操作/ 方便/ ,/ 效率高/ ;/ (/ 2/ )/ 基于/ 实例/ 数据/ 提取/ 弯曲/ 变形/ 模式/ ,/ 隐含/ 了/ 布料/ 弯曲/ 变形/ 程度/ 与/ 运动/ 方式/ 之间/ 的/ 关系/ ,/ 能够/ 保证/ 预/ 构建/ 的/ 多/ 精度/ 网格/ 模型/ 的/ 适用性/ ;/ (/ 3/ )/ 结合/ 弯曲/ 变形/ 模式/ 与/ 细节/ 变形/ 程度/ 的/ 需求/ ,/ 可以/ 灵活/ 控制/ 不同/ 区域/ 的/ 网格/ 精度/ ,/ 支持/ 实现/ 各/ 局部/ 区域/ 细节/ 程度/ 不同/ 的/ 动画/ 模拟/ ./ 本文/ 方法/ 在/ 以下/ 方面/ 具有/ 局限性/ :/ (/ 1/ )/ 需要/ 一定/ 的/ 预处理/ 时间/ 以/ 获取/ 实例/ 数据/ ,/ 当/ 服装/ 网格/ 密度/ 非常/ 大时/ ,/ 预处理/ 时间/ 将会/ 增大/ ;/ (/ 2/ )/ 不/ 支持/ 动态/ 网格/ 简化/ ,/ 整个/ 运动/ 过程/ 中/ 都/ 需要/ 保持/ 预/ 构建/ 生成/ 的/ 多/ 精度/ 网格/ 模型/ 的/ 存储/ 区/ ;/ (/ 3/ )/ 目标/ 人体/ 动画/ 的/ 动作/ 与/ 学习/ 用/ 的/ 人体/ 动作/ 存在/ 较大/ 差异/ 时/ ,/ 该/ 方法/ 不再/ 有效/ (/ 比如/ 基于/ 行走/ 运动/ 构建/ 的/ 多/ 精度/ 网格/ 裙装/ 模型/ 并/ 不/ 适合/ 于/ 下/ 蹲/ 运动/ 驱动/ 产生/ 的/ 服装/ 动画/ 计算/ )/ ./ 下/ 一步/ 工作/ 将/ 从/ 服装/ 弯曲/ 变形/ 与/ 人体/ 运动/ 的/ 相关性/ 入手/ 进行/ 分析/ ./ 由于/ 现实生活/ 中/ 的/ 服装/ 褶皱/ 主要/ 由/ 肢体/ 运动/ 所/ 驱动/ ,/ 服装/ 变形/ 的/ 分布/ 和/ 变形/ 的/ 趋势/ 与/ 人体/ 运动/ 之间/ 存在/ 较强/ 的/ 相关性/ ,/ 不同/ 关节/ 的/ 运动/ 只/ 对/ 其/ 周围/ 区域/ 的/ 服装/ 变形/ 产生/ 较大/ 的/ 影响/ ./ 为此/ ,/ 在/ 预计/ 算/ 阶段/ ,/ 通过/ 多样化/ 的/ 人体模型/ 和/ 人体/ 运动/ 样本/ 数据/ ,/ 生成/ 服装/ 动画/ 实例/ 数据/ ,/ 从中/ 学习/ 服装/ 弯曲/ 变形/ 与/ 人体/ 运动/ 之间/ 的/ 泛化/ 关系/ ;/ 而/ 在/ 服装/ 动画/ 计算/ 阶段/ ,/ 对/ 新/ 输入/ 的/ 人体/ 运动/ 进行/ 分析/ ,/ 以此/ 为/ 启发/ 准确/ 预测/ 可能/ 产生/ 弯曲/ 变形/ 的/ 服装/ 区域/ ,/ 对/ 该/ 区域/ 网格/ 进行/ 精化/ ,/ 模拟/ 服装/ 运动/ 过程/ 中/ 丰富/ 的/ 褶皱/ 细节/ ./ 

