Page1/ 信息/ 物理/ 融合/ 系统/ 的/ 软件/ 需求/ 分析/ 1/ )/ (/ 河南大学/ 计算机/ 与/ 信息/ 工程学院/ 河南/ 开封/ 475001/ )/ 2/ )/ (/ 高/ 可信/ 软件技术/ 教育部/ 重点/ 实验室/ (/ 北京大学/ )/ 北京/ 100871/ )/ 3/ )/ (/ 北京大学/ 信息科学/ 与/ 技术/ 学院/ 软件/ 研究所/ 北京/ 100871/ )/ 摘要/ 计算/ 过程/ 与/ 物理/ 过程/ 的/ 融合/ 使得/ 信息/ 物理/ 融合/ 系统/ (/ Cyber/ -/ PhysicalSystems/ ,/ CPS/ )/ 的/ 软件/ 需求/ 分析/ 成为/ 一个/ 具有/ 挑战性/ 的/ 任务/ ./ 首先/ ,/ 分析/ 人员/ 需要/ 从/ 用户/ 所/ 期望/ 实现/ 的/ 物理/ 实体/ 变化/ 出发/ ,/ 基于/ 对/ 物理/ 实体/ 性质/ 的/ 认识/ 来/ 推理/ 分析/ 软件/ 需求/ ;/ 其次/ 分析/ 人员/ 已/ 不能/ 将/ CPS/ 中/ 的/ 软件/ 看成/ 一个/ 整体/ 去/ 描述/ 它/ 的/ 外部/ 行为/ ,/ 而/ 需要/ 分析/ CPS/ 所应/ 包含/ 的/ 各个/ 软件/ 实体/ 和/ 物理/ 实体/ ,/ 描述/ 每个/ 物理/ 实体/ 的/ 性质/ 和/ 软件/ 实体/ 应/ 具有/ 的/ 行为/ ;/ 还有/ 计算/ 过程/ 与/ 物理/ 过程/ 的/ 融合/ 也/ 使得/ 分析/ 人员/ 必须/ 采取/ 一种/ 统一/ 的/ 方式/ 来/ 描述/ 物理/ 实体/ 的/ 性质/ 和/ 软件/ 实体/ 的/ 行为/ ,/ 以/ 方便/ 用户/ 需求/ 的/ 满足/ 性/ 验证/ ./ 基于/ 问题/ 框架/ 方法/ 和/ 面向/ 目标/ 方法/ ,/ 作者/ 提出/ 了/ 一种/ 适合/ 于/ CPS/ 的/ 软件/ 需求/ 分析方法/ ./ 该/ 方法/ 采用/ 现象/ 间/ 的/ 因果关系/ 式/ 这/ 一/ 具体/ 形式/ 来/ 统一/ 描述/ CPS/ 中/ 物理/ 实体/ 的/ 性质/ 和/ 软件/ 实体/ 的/ 需求/ ,/ 然后/ 从/ 用户/ 所/ 期望/ 的/ 物理现象/ 出发/ ,/ 遵循/ 面向/ 目标/ 的/ 方法/ ,/ 将/ CPS/ 软件/ 需求/ 的/ 分析/ 过程/ 转化/ 为/ 建立/ 满足用户/ 需求/ 的/ 现象/ 间/ 因果关系/ 链/ 的/ 过程/ ,/ 最后/ 通过/ 基于/ Alloy/ 的/ 目标/ 现象/ 可达性/ 验证/ 来/ 检验/ 用户/ 需求/ 的/ 可/ 满足/ 性/ ;/ 并且/ 用/ 一个/ 自/ 适应/ 巡航/ 控制系统/ 的/ 案例/ 来/ 说明/ 所提/ 方法/ 的/ 可行性/ ./ 关键词/ 信息/ 物理/ 融合/ 系统/ ;/ 软件/ 需求/ ;/ 面向/ 目标/ 的/ 方法/ ;/ 问题/ 框架/ 方法/ 1/ 引言/ 信息/ 物理/ 融合/ 系统/ (/ Cyber/ -/ PhysicalSystems/ ,/ CPS/ )/ 是/ 一个/ 既/ 包含/ 物理/ 实体/ 又/ 包含/ 软件/ 实体/ ,/ 并/ 将/ 计算/ 过程/ 和/ 物理/ 过程/ 融合/ 在/ 一起/ 的/ 混合系统/ [/ 1/ -/ 2/ ]/ ./ 它/ 一般/ 由/ 多个/ 嵌入式/ 系统/ 通过/ 网络连接/ 起来/ ,/ 与/ 传统/ 的/ 软件系统/ 和/ 嵌入式/ 系统/ 有/ 很大/ 不同/ ./ 首先/ ,/ CPS/ 中/ 的/ 软件/ 实体/ 主要/ 用来/ 感知/ 和/ 控制/ 物理/ 实体/ ,/ 因此/ 软件/ 的/ 需求/ 更/ 多/ 的/ 体现/ 为/ 用户/ 所/ 期望/ 实现/ 的/ 物理/ 实体/ 变化/ ,/ 比如/ 汽车/ 速度/ 的/ 控制/ 或者/ 火灾/ 的/ 及时/ 报警/ ,/ 而/ 不是/ 传统/ 软件/ 需求/ 所/ 关注/ 的/ 软件/ 行为/ 的/ 变化/ ./ 其次/ ,/ CPS/ 一般/ 会/ 包含/ 多个/ 互联/ 的/ 软件/ 实体/ ,/ 而/ 不是/ 仅仅/ 由/ 一个/ 软件/ 实体/ 来/ 实现/ 所有/ 的/ 控制/ 逻辑/ ,/ 这些/ 软件/ 实体/ 在/ 系统/ 运行/ 过程/ 中/ 又/ 感知/ 和/ 控制/ 了/ 更/ 多/ 的/ 物理/ 实体/ ,/ 因此/ CPS/ 比/ 传统/ 封闭/ 的/ 嵌入式/ 系统/ 更为/ 复杂/ ./ 在/ 这种/ 情况/ 下/ ,/ CPS/ 的/ 软件/ 需求/ 分析/ 就/ 成为/ 一个/ 具有/ 挑战性/ 的/ 任务/ ./ 一方面/ ,/ CPS/ 的/ 软件/ 需求/ 需要/ 从/ 用户/ 所/ 期望/ 实现/ 的/ 物理/ 实体/ 变化/ 出发/ ,/ 基于/ 对/ 物理/ 实体/ 性质/ 的/ 认识/ 来/ 进行/ 推理/ 才能/ 得到/ ;/ 另一方面/ ,/ CPS/ 的/ 软件/ 需求/ 分析/ 已/ 不能/ 将/ CPS/ 中/ 的/ 软件/ 看成/ 一个/ 整体/ 去/ 描述/ 它/ 的/ 外部/ 行为/ ,/ 而是/ 需要/ 分析/ CPS/ 应该/ 包含/ 哪些/ 软件/ 实体/ 和/ 物理/ 实体/ ,/ 为什么/ 需要/ 这些/ 实体/ ,/ 它们/ 之间/ 的/ 关系/ 是/ 什么/ 以及/ 每个/ 物理/ 实体/ 所/ 具有/ 的/ 性质/ 和/ 软件/ 实体/ 应/ 具有/ 的/ 行为/ ./ 还有/ ,/ 物理/ 过程/ 与/ 计算/ 过程/ 的/ 融合/ 使得/ 如何/ 采取/ 一种/ 统一/ 的/ 方式/ 来/ 描述/ 物理/ 实体/ 的/ 性质/ 和/ 软件/ 实体/ 的/ 行为/ 以/ 方便/ 用户/ 需求/ 的/ 满足/ 性/ 验证/ ,/ 也/ 成为/ 必须/ 要/ 考虑/ 的/ 问题/ ./ 当前/ ,/ 问题/ 框架/ 方法/ [/ 3/ ]/ 将/ 一个/ 软件开发/ 问题/ 分为/ 三/ 部分/ :/ 软件/ 、/ 现实/ 世界/ 和/ 用户/ 需求/ ,/ 主张/ 从/ 用户/ 需求/ 出发/ ,/ 基于/ 对/ 现实/ 世界/ 的/ 认识/ 来/ 推理/ 分析/ 软件/ 需求/ ,/ 通过/ 将/ CPS/ 的/ 物理/ 实体/ 看作/ 问题/ 框架/ 方法/ 中/ 的/ 现实/ 世界/ ,/ 问题/ 框架/ 方法/ 可以/ 为/ CPS/ 的/ 软件/ 需求/ 推理/ 提供/ 一种/ 分析/ 框架/ ./ 它/ 告知/ 了/ 分析/ 人员/ 应该/ 从/ 哪里/ 开始/ 进行/ 分析/ 以及/ 如何/ 处理/ 物理/ 实体/ 在/ 软件/ 需求/ 分析/ 中/ 的/ 作用/ ./ 但是/ ,/ 该/ 方法/ 缺乏/ 由/ 用户/ 需求/ 推理/ 分析/ 软件/ 需求/ 的/ 有效/ 方法/ ./ 而/ 面向/ 目标/ 的/ 方法/ [/ 4/ ]/ 以/ 目标/ 来/ 表达/ 用户/ 需求/ ,/ 以/ 与/ // 或/ 分解/ 来/ 将/ 抽象/ 的/ 用户/ 需求/ 操作/ 化为/ 具体/ 的/ 软件/ 需求/ ,/ 因此/ 可以/ 为/ 从/ 用户/ 需求/ 出发/ 推理/ 分析/ CPS/ 的/ 软件/ 需求/ 提供/ 一种/ 结构化/ 的/ 方法/ ./ 但是/ ,/ 对于/ 从/ 哪里/ 开始/ 目标/ 分解/ 和/ 如何/ 进行/ 目标/ 分解/ ,/ 该/ 方法/ 却/ 具有/ 一定/ 随意性/ ./ 本文/ 基于/ 问题/ 框架/ 方法/ 与/ 面向/ 目标/ 方法/ ,/ 提出/ 一种/ 适合/ 于/ CPS/ 的/ 软件/ 需求/ 分析方法/ ./ 该/ 方法/ 融合/ 问题/ 框架/ 方法/ 和/ 面向/ 目标/ 方法/ 的/ 优点/ ,/ 并/ 根据/ CPS/ 的/ 特点/ 进行/ 相应/ 的/ 扩展/ 来/ 分析/ CPS/ 的/ 软件/ 需求/ ./ 一方面/ ,/ 该/ 方法/ 从/ 用户/ 期望/ 的/ 各种/ 物理现象/ 出发/ ,/ 将/ 用户/ 需求/ 作为/ 高层/ 的/ 目标/ ,/ 然后/ 按照/ 面向/ 目标/ 的/ 方式/ 来/ 推理/ 软件/ 需求/ ,/ 分析/ 构成/ CPS/ 的/ 软件/ 实体/ 、/ 物理/ 实体/ 以及/ 物理/ 实体/ 的/ 性质/ 、/ 软件/ 实体/ 的/ 需求/ 和/ 各个/ 实体/ 之间/ 的/ 关系/ ;/ 另一方面/ ,/ 以/ 现象/ 间/ 的/ 因果关系/ 式/ 这/ 一/ 形式/ 来/ 统一/ 描述/ 物理/ 实体/ 的/ 性质/ 和/ 软件/ 实体/ 的/ 需求/ ,/ 将/ 面向/ 目标/ 的/ 需求/ 分析/ 过程/ 转化/ 为/ 建立/ 满足用户/ 需求/ 的/ 现象/ 间/ 因果关系/ 链/ 的/ 过程/ ,/ 展现/ 物理/ 过程/ 与/ 计算/ 过程/ 的/ 融合/ ./ 最后/ ,/ 为了/ 验证/ 用户/ 的/ 需求/ 的/ 可/ 满足/ 性/ ,/ 该/ 方法/ 利用/ Alloy/ 性质/ 和/ 软件/ 实体/ 的/ 行为/ 需求/ ,/ 通过/ 验证/ 目标/ 现象/ 的/ 可达性/ 来/ 检测/ 用户/ 需求/ 的/ 可/ 满足/ 性/ ./ 本文/ 利用/ 一个/ 自/ 适应/ 巡航/ 控制系统/ 展示/ 了/ 该/ 方法/ 的/ 可行性/ ./ 本文/ 第/ 2/ 节是/ 对/ 本文/ 所/ 使用/ 的/ 自/ 适应/ 巡航/ 控制系统/ 这一/ 案例/ 、/ 问题/ 框架/ 方法/ 、/ 面向/ 目标/ 方法/ 和/ Alloy/ 语言/ 等/ 背景/ 知识/ 的/ 介绍/ ;/ 第/ 3/ 节/ 从/ 概念/ 框架/ 和/ 基本/ 过程/ 两个/ 方面/ 概述/ 本文/ 方法/ ;/ 第/ 4/ 节/ 结合/ 案例/ 来/ 详细/ 说明/ 本文/ 方法/ 的/ 具体/ 过程/ ;/ 最后/ 是/ 相关/ 研究/ 工作/ 介绍/ 以及/ 对/ 本文/ 的/ 总结/ ./ Page32/ 背景/ 知识/ 2.1/ 案例/ :/ 自/ 适应/ 巡航/ 控制系统/ 对/ 驾驶员/ 来说/ ,/ 如果/ 在/ 驾驶/ 过程/ 中/ 长时间/ 地/ 集中/ 注意力/ ,/ 将会/ 很/ 疲劳/ ,/ 因此/ 他们/ 希望/ 有/ 一个/ 系统/ 可以/ 帮助/ 他们/ 自动/ 地/ 维持/ 车辆/ 的/ 速度/ ,/ 尤其/ 是/ 在/ 高速公路/ 上/ ./ 当前/ 方/ 没有/ 车辆/ 时/ ,/ 控制/ 车辆/ 以/ 巡航速度/ 行驶/ ;/ 当前/ 方有/ 车辆/ 时/ ,/ 采用/ 跟踪/ 模式/ ,/ 控制/ 车辆/ 与/ 前方/ 车辆/ 保持/ 安全/ 距离/ (/ 安全/ 距离/ 一般/ 指/ 的/ 是/ 汽车/ 紧急/ 刹车/ 时/ 从/ 刹车/ 到/ 停止/ 所/ 需要/ 的/ 一个/ 最/ 短时间/ T/ ,/ 因此/ 保持/ 安全/ 距离/ 可以/ 认为/ 是/ 保持/ 比率/ d/ // v/ 小于/ 等于/ T/ ,/ 其中/ d/ 为/ 在/ 前车/ 存在/ 的/ 情况/ 下/ 两车/ 的/ 间距/ ,/ v/ 为/ 被控/ 车辆/ 的/ 行驶/ 速度/ )/ ①/ ./ 以上/ 就是/ 用户/ 对于/ 自/ 适应/ 巡航/ 控制系统/ 的/ 需求/ ./ 为了/ 实现/ 该/ 需求/ ,/ 整个/ 自/ 适应/ 巡航/ 控制系统/ 需要/ 一系列/ 诸如/ 巡航/ 控制器/ 、/ 测速器/ 等/ 软件/ 实体/ 以及/ 刹车/ 、/ 引擎/ 等/ 物理/ 实体/ ./ 因此/ ,/ 自/ 适应/ 巡航/ 控制系统/ 是/ 一个/ 典型/ 的/ 信息/ 物理/ 融合/ 系统/ ./ 本文/ 将/ 以/ 该/ 系统/ 为/ 案例/ 来/ 详细/ 说明/ 本文/ 所/ 提出/ 的/ 方法/ ./ 2.2/ 问题/ 框架/ 方法/ 问题/ 框架/ 方法/ 由/ Jackson/ 于/ 20/ 世纪/ 90/ 年代/ 提出/ [/ 3/ ]/ ./ 该/ 方法/ 认为/ 用户/ 对/ 软件/ 的/ 需求/ 存在/ 于/ 软件/ 的/ 运行/ 环境/ 之中/ ,/ 表达/ 的/ 是/ 用户/ 期望/ 的/ 环境/ 现象/ ,/ 而/ 最终/ 所/ 建立/ 的/ 软件系统/ 必须/ 通过/ 影响/ 环境/ 来/ 满足用户/ 的/ 需求/ ./ 因此/ ,/ 该/ 方法/ 认为/ 一个/ 软件/ 问题/ 包含/ 三/ 部分/ :/ 软件/ S/ 、/ 现实/ 世界/ W/ 、/ 用户/ 需求/ R/ ,/ 三者/ 满足/ 如下/ 的/ 关系/ :/ 其中/ 软件/ S/ 是/ 用户/ 想要/ 开发/ 的/ 软件系统/ ,/ 现实/ 世界/ W/ 是/ 已/ 存在/ 的/ 软件/ 运行/ 环境/ ,/ 由/ 一组/ 领域/ 实体/ 构成/ ,/ ├/ 表达/ 的/ 是/ 当/ 软件/ S/ 安装/ 于/ 现实/ 世界/ W/ 之后/ 能够/ 使得/ 用户/ 需求/ R/ 得到/ 满足/ ./ 基于/ 上述/ 认识/ ,/ 问题/ 框架/ 方法/ 强调/ 基于/ 对/ 现实/ 世界/ 性质/ 的/ 刻画来/ 由/ 用户/ 需求/ 推理/ 分析/ 软件/ 的/ 需求/ ./ 实际/ 中/ ,/ 分析/ 人员/ 可以/ 使用/ 任何/ 语言/ 来/ 描述/ 一个/ 软件/ 问题/ (/ 描述/ W/ 、/ S/ 、/ R/ )/ ./ 通常/ ,/ 问题/ 框架/ 方法/ 使用/ 图/ 1/ 所示/ 的/ 问题/ 图来/ 展示/ 一个/ 软件/ 问题/ (/ 该/ 问题/ 图以/ 本文/ 案例/ 为例/ ,/ 并且/ 假设/ 雷达/ 、/ ECS/ 等/ 软件/ 实体/ 是/ 已/ 存在/ 于/ 现实/ 世界/ 中/ 的/ 领域/ 实体/ ,/ 所/ 要/ 开发/ 的/ 软件/ 只是/ 巡航/ 控制器/ )/ ./ 如图/ 1/ 所示/ ,/ 问题/ 图/ 展现/ 了/ 用户/ 需求/ 、/ 用户/ 需求/ 所/ 引用/ 的/ 环境/ 现象/ 、/ 构成/ 软件/ 运行/ 环境/ 的/ 领域/ 实体/ 、/ 软件/ 与/ 领域/ 实体/ 以及/ 领域/ 实体/ 与/ 领域/ 实体/ 之间/ 的/ 关系/ ./ 实体/ (/ 包括/ 软件/ 与/ 领域/ 实体/ )/ 间/ 的/ 连接线/ 表示/ 共享/ 现象/ (/ 连接线/ 上/ 的/ 大括号/ )/ ,/ 一个/ 共享/ 现象/ 可以/ 是/ 事件/ 、/ 值/ 或者/ 状态/ ,/ 而/ 大括号/ 的/ 前缀/ (/ 例如/ R/ !/ )/ 表示/ 共享/ 现象/ 的/ 双方/ 中/ 的/ 一方/ 对/ 现象/ 的/ 触发/ 或者/ 控制/ 作用/ ./ 本文/ 将/ 以/ 问题/ 图来/ 表示/ CPS/ 的/ 结构/ 模型/ ,/ 即/ 构成/ CPS/ 的/ 实体/ 以及/ 实体/ 之间/ 的/ 关系/ ./ 2.3/ 面向/ 目标/ 的/ 方法/ 面向/ 目标/ 的/ 方法/ 是/ 一种/ 结构化/ 的/ 软件/ 需求/ 分析方法/ ./ 它/ 以/ “/ 目标/ ”/ 来/ 表达/ 用户/ 对/ 软件/ 的/ 需求/ ,/ 通过/ 与/ // 或/ 分解/ 将/ 抽象/ 的/ 用户/ 需求/ 操作/ 化为/ 具体/ 的/ 软件/ 任务/ ,/ 形成/ 一个/ 由/ 用户/ 需求/ 到/ 软件/ 需求/ 的/ 树形/ 结构/ ./ 在/ 该/ 结构/ 中/ ,/ 高层/ 目标/ 代表/ 低层/ 目标/ 存在/ 的/ 原因/ ,/ 而/ 低层/ 目标/ 则/ 反映/ 满足/ 高层/ 目标/ 的/ 手段/ ./ 因此/ ,/ 该/ 方法/ 不仅/ 可以/ 回答/ 需求/ 分析/ 过程/ 中/ 关于/ 某个/ 需求/ “/ Why/ ”/ 的/ 问题/ 还/ 可以/ 回答/ “/ How/ ”/ 的/ 问题/ ./ 当前/ ,/ 研究/ 人员/ 已/ 提出/ 了/ 不同/ 的/ 目标/ 模型/ 来/ 指导/ 面向/ 目标/ 的/ 需求/ 分析/ ./ 图/ 2/ 展示/ 了/ Jureta/ 等/ 人/ [/ 4/ ]/ 所/ 提出/ 的/ 目标/ 模型/ (/ 以/ 本文/ 案例/ 为例/ )/ ./ 它/ 包含/ 了/ 目标/ 、/ 领域/ 假设/ 、/ 任务/ 等/ 概念/ ./ 其中/ ,/ 目标/ (/ 以/ 字母/ G/ 标注/ 的/ 矩形/ 表示/ )/ 表达/ 用户/ 对系统/ 的/ 功能/ 需求/ ;/ 任务/ (/ 以/ 字母/ T/ 标注/ 的/ 矩形/ 表示/ )/ 表达/ 软件系统/ 的/ 一个/ 活动/ ;/ 领域/ 假设/ (/ 以/ 字母/ K/ 标注/ 的/ 矩形/ 表示/ )/ 则/ 表示/ 人们/ 对/ 环境/ 中/ 的/ 各种/ 现象/ 的/ 认识/ 或者/ 对/ 现象/ 所/ 具有/ 性质/ 的/ 刻画/ ;/ 而/ 蕴含/ 关系/ (/ 以/ 空心/ 的/ 小圆圈/ 表示/ )/ 是/ 一种/ 满足/ 关系/ ,/ 即/ 一个/ 目标/ 的/ 满足/ 可以/ 通过/ 其他/ 目标/ 的/ 满足/ 、/ 其他/ 任务/ 的/ 执行/ 或者/ 领域/ 假设/ 的/ 成立/ 来/ ①/ http/ :/ // // sunnyday/ ./ mit/ ./ edu/ // safety/ -/ club/ // workshop5/ // Adap/ -/ tive/ _/ Cruise/ _/ Cont/ -/ rol/ _/ Sys/ _/ Overview/ ./ pdfPage4/ 实现/ ./ 本文/ 以图/ 2/ 所示/ 的/ 目标/ 模型/ 来/ 组织/ 和/ 表达/ CPS/ 的/ 软件/ 需求/ 分析/ 的/ 具体/ 过程/ ./ 2.4/ AlloyAlloy/ 是/ 由/ MIT/ 软件设计/ 小组/ 基于/ 一阶/ 逻辑/ 和/ 集合论/ 所/ 设计/ 的/ 一种/ 描述性/ 的/ 、/ 面向对象/ 的/ 、/ 轻量级/ 形式化/ 建模语言/ [/ 5/ ]/ ./ 它/ 提供/ 的/ 申明/ 性/ 语法/ 便于/ 分析/ 人员/ 建立/ 软件系统/ 的/ 行为/ 和/ 结构/ 模型/ ,/ 并且/ Alloy/ 分析器/ 能够/ 以/ 可视化/ 的/ 方式/ 展现/ 模型/ 的/ 反例/ ./ 因此/ 本文/ 选择/ 基于/ Alloy/ 来/ 验证/ 所/ 建立/ 的/ 软件/ 需求/ 模型/ ./ 在/ 应用/ 过程/ 中/ ,/ 本文/ 将/ 构成/ CPS/ 的/ 每个/ 实体/ (/ 物理/ 实体/ 或/ 软件/ 实体/ )/ 作为/ 一个/ 对象/ ,/ 然后/ 采用/ Alloy/ 来/ 定义/ 该/ 对象/ 并/ 通过/ 建立/ 现象/ 间/ 的/ 因果关系/ 式/ 来/ 描述/ 物理/ 实体/ 的/ 性质/ 或者/ 软件/ 实体/ 的/ 需求/ ,/ 最后/ 应用/ Alloy/ 分析器/ 来/ 验证/ 用户/ 期望/ 现象/ 的/ 可达性/ ,/ 并/ 以此/ 来/ 检测/ 用户/ 需求/ 的/ 可/ 满足/ 性/ ./ 3/ 方法/ 概述/ 根据/ 问题/ 框架/ 方法/ ,/ 一个/ CPS/ 的/ 开发/ 问题/ 可以/ 认为/ 包括/ 如下/ 三/ 部分/ :/ 一组/ 用户/ 需求/ R/ 、/ 一组/ 物理/ 实体/ D/ 和/ 一组/ 软件/ 实体/ S/ ./ 每个/ 实体/ 都/ 具有/ 特定/ 的/ 性质/ P/ ,/ 其中/ 软件/ 实体/ 的/ 性质/ 即/ 是/ 人们/ 对/ 软件/ 实体/ 的/ 需求/ ./ 系统/ 开发/ 的/ 主要/ 任务/ 就是/ 要/ 构建/ 具有/ 相应/ 性质/ 的/ 物理/ 实体/ 集合/ D/ 和/ 软件/ 实体/ 集合/ S/ ,/ 并且/ 通过/ 这些/ 实体/ 在/ 实际/ 中/ 表现/ 出/ 应有/ 的/ 性质/ 来/ 满足用户/ 的/ 需求/ R/ ./ 基于/ 此/ ,/ 本文/ 方法/ 旨在/ 帮助/ 系统分析/ 人员/ 完成/ 如下/ 两个/ 任务/ :/ (/ 1/ )/ 软件/ 需求/ 推理/ :/ f/ :/ R/ →/ P/ (/ D/ ∪/ S/ )/ ./ (/ 2/ )/ 用户/ 需求/ 验证/ :/ P/ (/ D/ ∪/ S/ )/ / R/ ./ 软件/ 需求/ 推理/ 就/ 是从/ 用户/ 需求/ R/ 出发/ ,/ 推理/ 分析/ 构成/ CPS/ 所/ 需要/ 的/ 物理/ 实体/ D/ 、/ 软件/ 实体/ S/ 以及/ 它们/ 所/ 应/ 具有/ 的/ 性质/ P/ (/ D/ ∪/ S/ )/ ./ 用户/ 需求/ 验证/ 则/ 是/ 在/ 软件/ 需求/ 推理/ 之后/ ,/ 验证/ 基于/ 所/ 识别/ 的/ 物理/ 实体/ 和/ 软件/ 实体/ 的/ 性质/ ,/ 用户/ 需求/ 是否/ 能够/ 得到/ 满足/ ,/ 即/ P/ (/ D/ ∪/ S/ )/ / R/ 是否/ 能够/ 成立/ ./ 3.1/ 概念/ 框架/ 本文/ 方法/ 的/ 概念/ 框架/ 如图/ 3/ 所示/ ./ 本文/ 认为/ CPS/ 由/ 各个/ 实体/ 组成/ ./ 实体/ 是/ CPS/ 中/ 客观存在/ 的/ ,/ 能够/ 完成/ 特定/ 功能/ 的/ 组件/ ./ 它/ 可以/ 是/ 软件/ 实体/ ,/ 也/ 可以/ 是/ 物理/ 实体/ ./ 软件/ 实体/ 是/ 需要/ 编程/ 实现/ ,/ 包括/ 相应/ 运行/ 平台/ 在内/ 的/ 计算/ 实体/ ./ 实际/ 中/ ,/ 软件/ 实体/ 根据/ 其/ 功能/ 又/ 可以/ 进一步/ 分为/ 感知/ 、/ 分析/ 、/ 控制/ 等/ 类型/ 的/ 软件/ 实体/ ./ 而/ 物理/ 实体/ 是/ 相对/ 于/ 软件/ 实体/ 而/ 存在/ 的/ 非/ 计算/ 实体/ ./ 它/ 往往/ 是/ 软件/ 实体/ 监控/ 的/ 对象/ ./ 一个/ 软件/ 实体/ 可以/ 包含/ 多个/ 软件/ 实体/ 和/ 物理/ 实体/ ,/ 而/ 一个/ 物理/ 实体/ 只/ 可以/ 包含/ 多个/ 物理/ 实体/ ./ 在/ CPS/ 的/ 运行/ 过程/ 中/ ,/ 每个/ 实体/ 都/ 表现/ 一定/ 的/ 现象/ ./ 现象/ 是/ 一个/ 实体/ 在/ 与/ 其他/ 实体/ 相互作用/ 的/ 过程/ 中/ 其内/ 在/ 性质/ 的/ 外/ 在/ 表现/ ,/ 可以/ 是/ 事件/ 、/ 值/ 或者/ 状态/ ;/ 而/ 对/ 实体/ 性质/ 的/ 描述/ 往往/ 通过/ 对/ 其/ 现象/ 的/ 描述/ 来/ 实现/ ./ 其中/ 物理/ 实体/ 性质/ 描述/ 的/ 是/ 物理/ 实体/ 在/ 与/ 其他/ 实体/ 交互/ 过程/ 中/ 所/ 表现/ 出来/ 的/ 现象/ ;/ 软件/ 实体/ 需求/ 描述/ 的/ 是/ 软件/ 实体/ 在/ 与/ 其他/ 实体/ 交互/ 过程/ 中所应/ 具有/ 的/ 现象/ ,/ 即/ 软件/ 实体/ 需要/ 实现/ 的/ 现象/ ./ 物理/ 实体/ 现象/ 和/ 软件/ 实体/ 现象/ 的/ 融合/ 形成/ CPS/ 的/ 现象/ ,/ 而/ 用户/ 需求/ 就是/ 通过/ 引用/ 这些/ 现象/ 来/ 表达/ CPS/ 应/ 具有/ 的/ 功能/ ,/ 所以/ 用户/ 需求/ 描述/ 的/ 也/ 是/ 现象/ ,/ 是/ 由/ 物理/ 实体/ 现象/ 和/ 软件/ 实体/ 现象/ 融合/ 而成/ 的/ 复合/ 现象/ ./ 一般来说/ ,/ 用户/ 需求/ 所/ 引用/ 的/ 实体/ 现象/ 可/ 分为/ 如下/ 两类/ :/ 可/ 观测/ 现象/ ,/ 是/ CPS/ 需要/ 感知/ 的/ 现象/ ,/ CPS/ 可以/ 通过/ 一些/ 方法/ 直接/ 或/ 间接/ 地/ 感知/ ;/ 可控/ 现象/ ,/ 是/ CPS/ 需要/ 控制/ 或者/ 实现/ 的/ 现象/ ,/ 是/ 目标/ 现象/ ./ 一个/ 现象/ 可以/ 既/ 是/ 可/ 观测/ 现象/ 又/ 是/ 可控/ 现象/ ,/ 例如/ 巡航/ 控制系统/ 中/ 汽车/ 的/ 速度/ 这一/ 现象/ ./ Page5/ 本文/ 方法/ 的/ 目的/ 就是/ 建立/ CPS/ 的/ 结构/ 模型/ 和/ 目标/ 模型/ ./ 结构/ 模型/ 反映/ 构成/ CPS/ 的/ 软件/ 实体/ 、/ 物理/ 实体/ 及其/ 关系/ ./ 通过/ 将/ 用户/ 需求/ 、/ 软件/ 需求/ 以及/ 物理性质/ 分别/ 表示/ 为/ “/ 目标/ ”/ 、/ “/ 任务/ ”/ 和/ “/ 领域/ 假设/ ”/ ,/ 图/ 2/ 所示/ 的/ 目标/ 模型/ 被/ 用来/ 表示/ CPS/ 的/ 各个/ 实体/ 的/ 现象/ 以及/ 它们/ 与/ 用户/ 需求/ 之间/ 的/ 关系/ ./ 结构/ 模型/ 和/ 目标/ 模型/ 的/ 具体/ 表示/ 方式/ 将/ 在/ 第/ 4/ 节/ 进行/ 详细/ 介绍/ ./ 3.2/ 基本/ 过程/ 如图/ 4/ 所示/ ,/ 本文/ 方法/ 的/ 基本/ 过程/ 包括/ 三步/ :/ 明确/ 用户/ 需求/ 、/ 推理/ 软件/ 需求/ 和/ 验证/ 用户/ 需求/ 的/ 可/ 满足/ 性/ ./ 首先/ ,/ 明确/ 用户/ 需求/ ./ 这里/ 用户/ 需求/ 指/ 的/ 是/ 用户/ 对/ CPS/ 的/ 需求/ ,/ 是/ 用户/ 建立/ CPS/ 的/ 目的/ ./ 该/ 活动/ 的/ 任务/ 就是/ 与/ 用户/ 进行/ 沟通/ ,/ 获取/ 用户/ 对/ 将要/ 建立/ 的/ CPS/ 的/ 需求/ 陈述/ ./ 其次/ ,/ 推理/ 软件/ 需求/ ./ 该/ 步骤/ 的/ 任务/ 是/ 由/ 用户/ 需求/ 出发/ ,/ 采取/ 面向/ 目标/ 的/ 策略/ 来/ 推理/ 分析/ 软件/ 需求/ ./ 在/ 此/ 过程/ 中/ ,/ 一方面/ ,/ 分析/ 人员/ 需要/ 权衡/ 满足用户/ 需求/ 的/ 不同/ 方案/ ,/ 选择/ 构成/ 系统/ 的/ 不同/ 物理/ 实体/ 和/ 软件/ 实体/ ,/ 分析/ 物理/ 实体/ 的/ 性质/ 和/ 软件/ 实体/ 的/ 需求/ ;/ 另一方面/ ,/ 分析/ 人员/ 需要/ 逐步/ 建立/ 系统/ 的/ 结构/ 模型/ 和/ 目标/ 模型/ 来/ 描述/ 分析/ 的/ 结果/ ./ 第三/ ,/ 验证/ 用户/ 需求/ 的/ 可/ 满足/ 性/ ./ 该/ 步骤/ 基于/ 上述/ 两步/ 的/ 分析/ 结果/ ,/ 利用/ Alloy/ 来/ 描述/ 所/ 识别/ 的/ 物理/ 实体/ 的/ 性质/ 和/ 软件/ 实体/ 的/ 需求/ ,/ 进而/ 验证/ 基于/ 所/ 描述/ 的/ 物理性质/ 和/ 软件/ 需求/ 用户/ 需求/ 是否/ 能够/ 得到/ 满足/ ,/ 并/ 在/ 用户/ 需求/ 不能/ 满足/ 时/ ,/ 返回/ 第二步/ ,/ 改进/ 所/ 建立/ 的/ 模型/ ./ 本文/ 将/ 在/ 第/ 4/ 节以/ 2.1/ 节所/ 描述/ 的/ 自/ 适应/ 巡航/ 控制系统/ 为例/ ,/ 逐步/ 详细/ 介绍/ 该/ 过程/ ./ 4/ 方法/ 说明/ 以自/ 适应/ 巡航/ 控制系统/ 为例/ ,/ 本/ 节/ 执行/ 图/ 4/ 所示/ 的/ 需求/ 分析/ 过程/ ,/ 并/ 详细/ 说明/ 该/ 过程/ 每步/ 活动/ 所/ 采取/ 的/ 具体/ 策略/ ./ (/ 1/ )/ 明确/ 用户/ 需求/ 用户/ 需求/ 是/ 用户/ 对/ CPS/ 的/ 需求/ ./ 基于/ 问题/ 框架/ 方法/ ,/ 用户/ 对/ CPS/ 的/ 需求/ 存在/ 于/ CPS/ 的/ 运行/ 环境/ 之中/ ,/ 表达/ 的/ 是/ 希望/ 当/ 某些/ 现象/ 发生/ 时/ 使得/ 另外/ 一些/ 现象/ 的/ 发生/ ,/ 即/ CPS/ 要/ 实现/ 的/ 是/ 一种/ 现象/ 之间/ 的/ 因果关系/ ./ 因此/ ,/ 本文/ 采用/ 现象/ 间/ 的/ 因果关系/ 表达式/ 来/ 明确/ 地/ 描述/ 用户/ 的/ 需求/ ./ 以自/ 适应/ 巡航/ 控制系统/ 为例/ ,/ 其/ 用户/ 需求/ 可以/ 表达/ 为/ 如下/ 的/ 一组/ 现象/ 间/ 的/ 因果关系/ 式/ :/ r1/ =/ p1/ :/ 前方/ 没有/ 车/ ∧/ p2/ :/ 被控/ 车辆/ 速度/ 不/ 大于/ 巡航速度/ →/ p3/ :/ 被控/ 车辆/ 加速/ 到/ 巡航速度/ r2/ =/ p1/ :/ 前方/ 没有/ 车/ ∧/ p4/ :/ 被控/ 车辆/ 速度/ 大于/ 巡航速度/ →/ p5/ :/ 被控/ 车辆/ 减速/ 到/ 巡航速度/ r3/ =/ p6/ :/ 前方/ 有车/ ∧/ p7/ :/ 两车/ 间距/ 不/ 大于/ 安全/ 距离/ →/ p8/ :/ 增大/ 间距/ 使得/ 两车/ 间距/ 等于/ 安全/ 距离/ r4/ =/ p6/ :/ 前方/ 有车/ ∧/ p9/ :/ 两车/ 间距/ 大于/ 安全/ 距离/ →/ p10/ :/ 减少/ 间距/ 使得/ 两车/ 间距/ 等于/ 安全/ 距离/ 在/ 上述/ 的/ 现象/ 因果关系/ 式/ 中/ ,/ 箭头/ 前端/ 的/ 现象/ 为/ 用户/ 需求/ 所/ 引用/ 的/ 可/ 观测/ 现象/ ,/ 如/ p1/ ,/ p6/ ;/ 箭头/ 后/ 端的/ 现象/ 为/ 用户/ 需求/ 所/ 引用/ 的/ 可控/ 现象/ ,/ 也/ 即/ 目标/ 现象/ ,/ 如/ p3/ ,/ p5/ ./ 为了/ 进一步/ 帮助/ 分析/ 人/ 和/ 用户/ 进行/ 有效/ 的/ 沟通/ ,/ 本文/ 引用/ 图/ 1/ 所示/ 的/ 问题/ 图/ 的/ 部分/ 元素/ ,/ 定义/ 了/ 图/ 5/ 所示/ 的/ 用户/ 需求/ 框图/ ,/ 来/ 展现/ 用户/ 在/ 描述/ 需求/ 时其/ 语境/ 中/ 所/ 涉及/ 到/ 的/ 实体/ (/ 一般/ 是/ 物理/ 实体/ )/ 以及/ 所/ 引用/ 的/ 实体/ 现象/ ./ 实际/ 中/ ,/ 分析/ 人员/ 在/ 明确/ 用户/ 需求/ 的/ 过程/ 中/ 不仅/ 需要/ 分析/ 用户/ 需求/ 所/ 引用/ 的/ 物理/ 实体/ 和/ 现象/ ,/ 还要/ 判断/ 用户/ 需求/ 因果关系/ 式/ 中/ 箭头/ 前端/ 所/ 引用/ 的/ 现/ Page6/ 象/ 是否是/ 可/ 观测/ 的/ ,/ 箭头/ 后端/ 所/ 引用/ 的/ 现象/ 是否是/ 可控/ 的/ ./ 否则/ ,/ 分析/ 人员/ 就/ 需要/ 与/ 用户/ 沟通/ ,/ 通过/ 进一步/ 分析/ 用户/ 问题/ 来/ 厘清/ 用户/ 对/ CPS/ 的/ 需求/ ./ (/ 2/ )/ 推理/ 软件/ 需求/ 通过/ 将/ 用户/ 需求/ 表达/ 为/ 现象/ 间/ 的/ 因果关系/ 式/ ,/ 我们/ 确定/ 了/ 一组/ 可/ 观测/ 现象/ 和/ 可控/ 现象/ ./ 那么/ ,/ 进一步/ 分析/ 软件/ 需求/ 的/ 目的/ 就是/ 建立/ 可/ 观测/ 现象/ 到/ 可控/ 现象/ 的/ 因果关系/ 链/ (/ 如/ p1/ 和/ p2/ 到/ p3/ 的/ 因果关系/ 链/ )/ 、/ 识别/ 该/ 因果关系/ 链中/ 所/ 涉及/ 的/ 实体/ 以及/ 实体/ 之间/ 的/ 共享/ 现象/ (/ 因果关系/ 链中/ 可/ 观测/ 现象/ 到/ 可控/ 现象/ 之间/ 的/ 中间/ 现象/ )/ ./ 为/ 实现/ 这一/ 目的/ ,/ 本文/ 方法/ 的/ 基本思路/ 是/ 采用/ 图/ 2/ 所示/ 的/ 目标/ 模型/ ,/ 将/ 目标/ 模型/ 中/ 的/ 目标/ 、/ 领域/ 假设/ 、/ 任务/ 表达/ 为/ 现象/ 之间/ 的/ 因果关系/ (/ 认为/ 这些/ 概念/ 表达/ 的/ 也/ 是/ 现象/ 之间/ 的/ 因果关系/ )/ ,/ 然后/ 将/ 用户/ 需求/ 的/ 因果关系/ 式/ 作为/ 目标/ 模型/ 中/ 的/ “/ 目标/ ”/ ,/ 进而/ 通过/ 将/ “/ 目标/ ”/ 分解/ 为/ “/ 领域/ 假设/ ”/ 和/ “/ 任务/ ”/ 来/ 分析/ 满足用户/ 需求/ 的/ 因果关系/ 链/ 的/ 不同/ 片段/ ./ 其中/ “/ 领域/ 假设/ ”/ 的/ 因果关系/ 刻画/ 的/ 是/ 物理/ 实体/ 所/ 具有/ 的/ 性质/ ,/ “/ 任务/ ”/ 所/ 描述/ 的/ 因果关系/ 刻画/ 的/ 是/ 软件/ 实体/ 所/ 应/ 实现/ 的/ 需求/ ./ 在/ 具体/ 的/ 目标/ 分解/ 过程/ 中/ ,/ 本文/ 方法/ 采取/ 如下/ 两种/ 分解/ 策略/ :/ ①/ 问题/ 转换/ ./ 通过/ 引入/ 部分/ 解决方案/ 来/ 将/ 一个/ 问题/ 转换/ 为/ 另外/ 一个/ 问题/ ,/ 使得/ 原始/ 问题/ 更/ 小/ 、/ 更/ 容易/ 解决/ [/ 6/ ]/ ;/ ②/ 问题/ 分解/ ./ 将/ 一个/ 问题/ 分解/ 为/ 一组/ 子/ 问题/ ,/ 这些/ 子/ 问题/ 解决方案/ 的/ 组合/ 就是/ 原始/ 问题/ 的/ 解决方案/ ,/ 降低/ 原始/ 问题/ 的/ 复杂性/ [/ 7/ ]/ ./ 问题/ 转换/ 和/ 问题/ 分解/ 是/ 问题/ 框架/ 方法/ 中/ 分解/ 问题/ 的/ 两种/ 方式/ ./ 为了/ 应用/ 这/ 两种/ 方式/ ,/ 本文/ 方法/ 将/ 每个/ 目标/ (/ 也/ 即/ 一个/ 现象/ 间/ 因果关系/ 式/ )/ 看作/ 一个/ 问题/ ./ 具体/ 的/ 应用/ 方式/ 如下/ :/ 问题/ 转换/ 意味着/ 将/ 一个/ 目标/ 分解/ 为/ 多个/ 领域/ 假设/ 和/ 其他/ 目标/ ./ 这些/ 领域/ 假设/ 描述/ 的/ 是/ 一个/ 或者/ 多个/ 物理/ 实体/ 的/ 输入/ 现象/ 到/ 输出/ 现象/ 的/ 因果关系/ ,/ 体现/ 这些/ 物理/ 实体/ 的/ 性质/ ,/ 并且/ 该/ 因果关系/ 的/ 输入/ 现象/ 或者/ 输出/ 现象/ 能够/ 匹配/ 目标/ 因果关系/ 式/ 中/ 的/ 现象/ ./ 在/ 这种/ 情况/ 下/ ,/ 这些/ 物理/ 实体/ 可以/ 作为/ 构成/ CPS/ 的/ 一部分/ (/ 部分/ 解决方案/ )/ ,/ 其/ 输入/ 现象/ 到/ 输出/ 现象/ 的/ 因果关系/ 也/ 成为/ 满足/ 目标/ 的/ 因果关系/ 链/ 的/ 一部分/ ./ 问题/ 分解/ 则/ 意味着/ 将/ 一个/ 目标/ 分解/ 为/ 一个/ 或/ 多个/ 其他/ 目标/ 或者/ 任务/ ./ 这/ 一般/ 发生/ 于/ 分析/ 人员/ 已知/ 满足/ 一个/ 目标/ 的/ 完整/ 或者/ 部分/ 过程/ ./ 此时/ ,/ 他/ 可以/ 将/ 该/ 过程/ 分解/ 为/ 不同/ 的/ 步骤/ ,/ 然后/ 定义/ 不同/ 步骤/ 之间/ 的/ 共享/ 现象/ ./ 此时/ 每步/ 的/ 输入/ 现象/ 和/ 输出/ 现象/ 之间/ 的/ 因果关系/ 可以/ 表达/ 为/ 目标/ 模型/ 中/ 的/ 一个/ 任务/ (/ 如果/ 实现/ 该/ 因果关系/ 可以/ 作为/ 一个/ 任务分配/ 给/ 一个/ 软件/ 实体/ )/ 或者/ 一个/ 新/ 目标/ (/ 如果/ 实现/ 该/ 因果关系/ 不能/ 作为/ 一个/ 任务分配/ 给/ 一个/ 软件/ 实体/ ,/ 则/ 将/ 其/ 作为/ 一个/ 新/ 目标/ 继续/ 进行/ 分解/ )/ ./ 自/ 适应/ 巡航/ 控制系统/ 的/ 用户/ 需求/ 包含/ 了/ 四组/ 因果关系/ 式/ ./ 以/ 第一组/ 因果关系/ 式/ (/ p1/ ∧/ p2/ →/ p3/ )/ 为例/ ,/ 图/ 6/ 所示/ 的/ 目标/ 模型/ 展示/ 了/ 应用/ 问题/ 转换/ 和/ 问题/ 分解/ 的/ 软件/ 需求/ 分析/ 过程/ ,/ 图/ 7/ 呈现/ 的/ 是/ 记录/ 该/ 分析/ 过程/ 所/ 识别/ 的/ 实体/ 及其/ 之间/ 关系/ 的/ 结构/ 模型/ ./ 如图/ 6/ 所示/ ,/ 为了/ 突出/ 该/ 基于/ 目标/ 的/ 分析/ 过程/ 中/ 所/ 涉及/ 的/ 各个/ 实体/ ,/ 本文/ 方法/ 在/ 每个/ 因果关系/ 式/ 前面/ 标明/ 实现/ 该/ 因果关系/ 式/ 的/ 实体/ (/ 例如/ ,/ T/ (/ R/ :/ p1/ →/ p1/ )/ 中/ R/ 表明/ 实现/ 因果关系/ p1/ →/ p1/ 的/ 实体/ 是/ 雷达/ R/ ,/ 如果/ 实现/ 该/ 因果关系/ 式/ 的/ 实体/ 还/ 未/ 明确/ ,/ 则/ 显示/ 为/ “/ ?/ ”/ )/ ./ 如图/ 7/ 所示/ ,/ 本文/ 应用/ 了/ 图/ 1/ 所示/ 的/ 问题/ 图来/ 表示/ 结构/ 模型/ ./ 不同/ 的/ 是/ 该/ 结构/ 模型/ 以/ 箭头/ 的/ 方向/ 来/ 表示/ 共享/ 现象/ 的/ 控制/ 方向/ ,/ 以/ 领域/ 实体/ 的/ 符号/ 来/ 表示/ 物理/ 实体/ ,/ 并且/ 一个/ 问题/ 图中/ 可以/ 有/ 多个/ 软件/ 实体/ ,/ 每个/ 实体/ 还/ 可以/ 继续/ 分解/ (/ 如图/ 9/ 所示/ )/ ./ 本文/ 对/ 该/ 分析/ 过程/ 的/ 解释/ 如下/ ./ Page7/ 首先/ ,/ 从/ p1/ ∧/ p2/ →/ p3/ 的/ 可/ 观测/ 现象/ p1/ 和/ p2/ 出发/ ,/ 如果/ 要/ 实现/ 当前/ 方/ 没有/ 车/ (/ p1/ )/ 和/ 被控/ 车辆/ 的/ 速度/ 不/ 大于/ 巡航速度/ (/ p2/ )/ 时/ 控制/ 被控/ 车辆/ 的/ 速度/ 达到/ 巡航速度/ (/ p3/ )/ ,/ 必须/ 首先/ 感知/ 到/ p1/ 和/ p2/ 的/ 发生/ ,/ 然后/ 才能/ 做出/ 响应/ 来/ 控制/ 被控/ 车辆/ 的/ 速度/ ./ 这里/ 感知/ 到/ p1/ 和/ p2/ 的/ 发生/ 即/ 是/ 我们/ 已知/ 的/ 实现/ 该/ 因果关系/ 的/ 部分/ 过程/ ,/ 而/ 感知/ p1/ 可以/ 通过/ 设计/ 开发/ 一个/ 雷达/ 来/ 实现/ ,/ 雷达/ 将/ 该/ 现象/ 转换/ 为/ 由/ 雷达/ 测量/ 值/ 所/ 表达/ 的/ 现象/ p1/ (/ 前车计/ 开发/ 一个/ 测速/ 传感器/ 来/ 实现/ ,/ 测速/ 传感器/ 将/ 该/ 现象/ 转换/ 为/ 由/ 具体/ 的/ 车速/ 值/ 所/ 表达/ 的/ 事件/ p2/ (/ 被控/ 车/ / v/ </ =/ 巡航速度/ )/ ./ 这里/ 的/ 雷达/ 和/ 测速/ 传感器/ 是/ 我/ 辆/ 们/ 通过/ 分析/ 所/ 识别/ 的/ 两个/ 软件/ 实体/ (/ 虽然/ 实际/ 中/ 雷达/ 和/ 测速/ 传感器/ 可/ 直接/ 购买/ 而/ 不/ 需要/ 设计/ 开发/ ,/ 但/ 从/ 设计/ 的/ 角度/ 出发/ ,/ 本文/ 把/ 它们/ 作为/ 需要/ 设计/ 开发/ 的/ 软件/ 实体/ )/ ./ 从/ 现象/ p1/ 到/ p1/ 和/ 从/ 现象/ p2/ 到/ p2/ 的/ 因果关系/ 分别/ 体现/ 了/ 雷达/ 和/ 测速/ 传感器/ 应/ 实现/ 的/ 需求/ ./ 由于/ 实现/ 这/ 两个/ 因果关系/ 的/ 实体/ 已知/ (/ 雷达/ 和/ 测速/ 传感器/ )/ ,/ 该/ 因果关系/ 也/ 因此/ 可以/ 表达/ 为/ 目标/ 模型/ 中/ 关于软件/ 实体/ 雷达/ 和/ 测速/ 传感器/ 的/ 任务/ :/ T/ (/ R/ :/ p1/ →/ p1/ )/ 和/ T/ (/ SS/ :/ p2/ →/ p2/ )/ ./ 如图/ 6/ 所示/ ,/ 基于/ 这/ 两个/ 任务/ ,/ 目标/ G/ (/ ?/ :/ p1/ ∧/ p2/ →/ p3/ )/ 通过/ 问题/ 分解/ 可以/ 转化/ 为/ 目标/ G/ (/ ?/ :/ p1/ ∧/ p2/ →/ p3/ )/ ./ 其次/ ,/ 由于/ 汽车/ 的/ 速度/ 等于/ 车轮/ 的/ 转速/ ,/ 可以/ 通过/ 触发/ 现象/ p3/ 来/ 实现目标/ 现象/ p3/ 的/ 触发/ ,/ 即/ 通过/ 将/ 车轮/ 的/ 转速/ 加速/ 到/ 巡航速度/ 来/ 实现/ 被控/ 车辆/ 的/ 速度/ 达到/ 巡航速度/ ./ 因此/ ,/ 基于/ 问题/ 转换/ ,/ 可以/ 将/ 从/ p3/ 到/ p3/ 的/ 因果关系/ 表达/ 为/ 领域/ 假设/ K/ (/ W/ ∧/ V/ :/ p3/ →/ p3/ )/ 来/ 体现/ 汽车/ 和/ 车轮/ 之间/ 关系/ 所/ 具有/ 的/ 性质/ ,/ 并且/ 基于/ 该/ 领域/ 假设/ 目标/ G/ (/ ?/ :/ p1/ ∧/ p2/ →/ p3/ )/ 可以/ 转化/ 为/ 目标/ G/ (/ ?/ :/ p1/ ∧/ p2/ →/ p3/ )/ ./ 更进一步/ ,/ 由于/ 控制/ 车轮/ 的/ 转速/ 加速/ 到/ 巡航速度/ 可以/ 通过/ 给/ 车轮/ 施加/ 相应/ 的/ 动力/ 来/ 实现/ ,/ 现象/ p3/ 的/ 触发/ 可以/ 通过/ 触发/ p3/ 来/ 实现/ ./ 从/ p3/ 到/ p3/ 之间/ 的/ 因果关系/ 体现/ 了/ 车轮/ 这一/ 物理/ 实体/ 的/ 性质/ ./ 因此/ ,/ 基于/ 问题/ 转换/ ,/ 将/ 从/ p3/ 到/ p3/ 之间/ 的/ 因果关系/ 表达/ 为/ 目标/ 模型/ 中/ 关于/ 车轮/ 这一/ 物理/ 实体/ 的/ 领域/ 假设/ K/ (/ W/ :/ p3/ →/ p3/ )/ ,/ 并/ 基于/ 该/ 假设/ ,/ 目标/ G/ (/ ?/ :/ p1/ ∧/ p2/ →/ p3/ )/ 可以/ 继续/ 转化/ 为/ 目标/ G/ (/ ?/ :/ p1/ ∧/ p2/ →/ p3/ )/ ./ 最后/ ,/ 由于/ 已知/ 可以/ 设计/ 开发/ 一个/ ECS/ (/ 引擎/ 控制系统/ )/ 来/ 对/ 车轮/ 施加/ 动力/ ,/ ECS/ 可以/ 根据/ 设定/ 的/ 加速/ 幅度/ 指令/ (/ p/ / 3/ )/ 来/ 给/ 车轮/ 施加/ 相应/ 的/ 动力/ (/ p3/ )/ ,/ 从/ p/ / 3/ 到/ p3/ 的/ 因果关系/ 体现/ 对/ ECS/ 这一/ 软件/ 实体/ 的/ 需求/ ./ 因此/ ,/ 基于/ 问题/ 分解/ ,/ 将/ p/ / 3/ 到/ p3/ 的/ 因果关系/ 表达/ 为/ 关于/ ECS/ 的/ 任务/ :/ T/ (/ ECS/ :/ p/ / 3/ →/ p3/ )/ ,/ G/ (/ ?/ :/ p1/ ∧/ p2/ →/ p3/ )/ 可以/ 转化/ 为/ 目标/ G/ (/ ?/ :/ p1/ ∧/ p2/ →/ p/ / 3/ )/ ./ 而/ 由于/ G/ (/ ?/ :/ p1/ ∧/ p2/ →/ p/ / 3/ )/ 这一/ 目标/ 可以/ 完全/ 赋给/ 一个/ 新/ 的/ 软件/ 实体/ “/ 巡航/ 控制器/ (/ CC/ )/ ”/ 来/ 实现/ ,/ 因此/ 该/ 目标/ 可以/ 转化/ 为/ 任务/ T/ (/ CC/ :/ p1/ ∧/ p2/ →/ p/ / 3/ )/ ./ 至此/ ,/ 如图/ 7/ 所示/ ,/ 上述/ 过程/ 分析/ 了/ 实现/ p1/ ∧/ p2/ →/ p3/ 这一/ 因果关系/ 所/ 需要/ 物理/ 实体/ 、/ 软件/ 实体/ 以及/ 它们/ 之间/ 的/ 共享/ 现象/ ./ 并且/ ,/ 由/ p1/ ,/ p2/ ,/ p1/ ,/ p2/ ,/ p/ / 3/ ,/ p3/ ,/ p3/ ,/ p3/ 所/ 构成/ 的/ 现象/ 间/ 因果关系/ 链条/ 体现/ 了/ 满足/ r1/ (/ p1/ ∧/ p2/ →/ p3/ )/ 这一/ 用户/ 需求/ 的/ 计算/ 过程/ 与/ 物理/ 过程/ 的/ 融合/ ./ 图/ 6/ 中所/ 展示/ 的/ 领域/ 假设/ 体现/ 了/ 物理/ 实体/ 的/ 性质/ ,/ 任务/ 体现/ 了/ 软件/ 实体/ 应/ 满足/ 的/ 需求/ ./ 实际/ 中/ ,/ 当如图/ 6/ 所示/ 的/ 目标/ 模型/ 的/ 所有/ 叶/ 节点/ 都/ 为/ 领域/ 假设/ 和/ 任务/ 时/ ,/ 针对/ 一个/ 目标/ 的/ 分解/ 过程/ 终止/ ./ 并且/ ,/ 分析/ 人员/ 针对/ 用户/ 需求/ 中/ 的/ 每个/ 因果关系/ 表达式/ ,/ 遵循/ 上述/ 分析/ 过程/ 就/ 可以/ 得出/ 每个/ 因果关系/ 式/ 对应/ 的/ 目标/ 模型/ (/ 如图/ 6/ 所示/ )/ 和/ 结构/ 模型/ (/ 如图/ 7/ 所示/ )/ ,/ 然后/ 合并/ 每个/ 结构/ 模型/ ,/ 就/ 可以/ 得到/ 反映/ CPS/ 的/ 构成/ 实体/ 及其/ 实体/ 间/ 关系/ 的/ 完整/ 结构/ 模型/ (/ 本文/ 这里/ 为/ 减少/ 篇幅/ 省略/ 了/ 对/ r2/ ,/ r3/ ,/ r4/ 分析/ 过程/ 的/ 介绍/ )/ ./ 对于/ 上述/ 分析/ 过程/ 所/ 形成/ 的/ 有些/ 领域/ 假设/ 和/ 任务/ (/ 图/ 6/ 目标/ 模型/ 的/ 叶/ 节点/ )/ ,/ 可以/ 将/ 其/ 当作/ 一个/ 新/ 的/ 目标/ ,/ 然后/ 应用/ 上述/ 的/ 分析/ 策略/ 来/ 进行/ 进一步/ 的/ 分解/ ./ 一个/ 领域/ 假设/ 可以/ 分解/ 为/ 其他/ 的/ 领域/ 假设/ ;/ 一个/ 任务/ 可以/ 分解/ 为/ 更/ 具体/ 的/ 任务/ ./ 但是/ ,/ 如果/ 在/ 继续/ 分解/ 的/ 过程/ 中/ 出现/ 了/ 新/ 的/ 实体/ ,/ 那么/ 该/ 领域/ 假设/ 或者/ 任务/ 的/ 分解/ 过程/ 则/ 对应/ 着/ 相应/ 的/ 物理/ 实体/ 或者/ 软件/ 实体/ 结构/ 上/ 的/ 分解/ ./ 例如/ ,/ 图/ 8/ 展示/ 了/ 任务/ T/ (/ ECS/ :/ p/ / 3/ →/ p3/ )/ 的/ 分解/ 过程/ (/ 将/ 该/ 任务/ 当作/ 新/ 的/ 目标/ G/ (/ ECS/ :/ p/ / 3/ →/ p3/ )/ )/ ,/ 图/ 9/ 是/ 对/ 引擎/ 控制系统/ (/ ECS/ )/ 这一/ 软件/ 实体/ 进行/ 分解/ 的/ 相应/ 结果/ ./ Page8/ 图/ 8/ 对/ 任务/ T/ (/ ECS/ :/ p/ / 3/ →/ p3/ )/ 进一步/ 分解/ 的/ 目标/ 模型/ 图/ 9/ 对/ 任务/ T/ (/ ECS/ :/ p/ / 3/ →/ p3/ )/ 进一步/ 分解/ 所/ 得到/ 的/ 刻画/ ECS/ 结构/ 的/ 结构/ 模型/ 者/ 性质/ ,/ 用户/ 的/ 需求/ 是否/ 可以/ 得到/ 满足/ ./ 本文/ 基于/ Alloy/ 来/ 实现/ 这一/ 目的/ ./ Alloy/ 是/ 一种/ 轻量级/ 的/ 面向对象/ 的/ 描述语言/ ,/ 使用/ signature/ 来/ 表示/ 一个/ 类型/ ,/ 代表/ 具有/ 某类/ 特征/ 的/ 对象/ 集合/ ./ 在/ 定义/ 一个/ signature/ 时/ 不仅/ 可以/ 通过/ 定义/ field/ 来/ 描述/ 与/ 当前/ 数据类型/ 存在/ 关系/ 的/ 其他/ 类型/ ,/ 还/ 可以/ 定义/ 该/ 类型/ 对象/ 所/ 遵循/ 的/ 约束/ ./ 同时/ ,/ 分析/ 人员/ 也/ 可以/ 通过/ 定义/ fact/ 来/ 描述/ 类型/ 之间/ 的/ 关系/ ./ 而/ 需要/ 验证/ 的/ 事实/ 或者/ 结论/ 则/ 可以/ 通过/ 定义/ 断言/ assert/ 来/ 描述/ ./ 最后/ ,/ 分析/ 人员/ 可以/ 利用/ Alloy/ 分析器/ 来/ 验证/ 断言/ 的/ 真假/ ./ 本文/ 将/ 所/ 识别/ 的/ 构成/ CPS/ 的/ 每个/ 实体/ 定义/ 为/ 一个/ signature/ ,/ 将/ 实体/ 所/ 具有/ 的/ 一些/ 现象/ 定义/ 为/ signature/ 的/ field/ ,/ 并/ 将/ 实体/ 具有/ 的/ 性质/ 或者/ 应/ 满足/ 的/ 需求/ (/ 现象/ 间/ 的/ 因果关系/ )/ 定义/ 为/ signature/ 的/ 约束/ (/ 通过/ imply/ 关系/ 来/ 描述/ 现象/ 间/ 的/ 因果关系/ 式/ )/ ,/ 然后/ 通过/ 定义/ 不同/ 的/ assert/ 来/ 描述/ 用户/ 需求/ 中/ 的/ 不同/ 因果关系/ 式/ ./ 以自/ 适应/ 巡航/ 控制系统/ 为例/ ,/ 图/ 10/ 展示/ 了/ 对/ 物理/ 实体/ “/ 车轮/ (/ W/ )/ ”/ 和/ 软件/ 实体/ “/ 引擎/ 控/ 对于/ ECS/ ,/ 其/ 输出/ 的/ 动力/ 跟/ 输入/ 引擎/ 的/ 油气/ 量/ 有关/ ,/ 而/ 往往/ 为了/ 追求/ 最大/ 的/ 燃油/ 效率/ ,/ 输入/ 的/ 空气量/ 和/ 油量/ 成/ 比例/ ,/ 因此/ 目标/ G/ (/ ECS/ :/ p/ / 3/ →/ p3/ )/ 可以/ 分解/ 为/ 目标/ G/ (/ ?/ :/ p/ / 3/ →/ p/ 物理/ 实体/ 的/ 领域/ 假设/ K/ (/ p/ 标/ G/ (/ ?/ :/ p/ / 3/ →/ pG/ (/ ?/ :/ p/ / 3/ →/ p1ECS/ →/ pp/ 输入/ 相应/ 的/ 比例/ 的/ 油量/ ./ (/ 3/ )/ 验证/ 用户/ 需求/ 的/ 可/ 满足/ 性/ 经过/ 前面/ 两步/ 的/ 分析/ ,/ 我们/ 可以/ 得到/ 满足用户/ 需求/ 的/ 一组/ 物理/ 实体/ 、/ 软件/ 实体/ 以及/ 通过/ 现象/ 因果关系/ 式/ 所/ 表达/ 的/ 实体/ 需求/ 或者/ 性质/ ./ 在/ 这种/ 情况/ 下/ ,/ 第三步/ 活动/ 的/ 目的/ 就是/ 验证/ 基于/ 这些/ 实体/ 的/ 需求/ 或制/ 系统/ (/ ECS/ )/ ”/ 的/ 定义/ ./ 图/ 11/ 显示/ 了/ 通过/ 断言/ 来/ 描述/ 的/ 自/ 适应/ 巡航/ 控制系统/ 的/ 用户/ 需求/ ./ 图/ 10/ “/ 车轮/ ”/ 和/ “/ 引擎/ 控制系统/ ”/ 的/ Alloy/ 描述/ 如图/ 10/ 所示/ ,/ 对于/ 车轮/ 而言/ ,/ 它/ 定义/ 中/ 第/ 1/ 个/ 大括号/ 内/ 的/ p3/ 和/ p3/ 是/ 描述/ 其/ 物理性质/ 的/ 因果关系/ 式/ 中/ 的/ 现象/ (/ 见图/ 6/ 和/ 图/ 7/ )/ ;/ 第/ 2/ 个/ 大括号/ 内/ 的/ 表达式/ 是/ 对/ 体现/ 其/ 性质/ 的/ 现象/ 因果关系/ 的/ 描述/ ./ 而/ 对于/ 软件/ 实体/ 引擎/ 控制系统/ ,/ 其/ 第/ 1/ 个/ 大括号/ 同样/ 是/ Page9/ 对/ 其/ 相关/ 现象/ 的/ 描述/ ,/ 第/ 2/ 个/ 大括号/ 内/ 的/ 表达式/ 则/ 是/ 对/ 其应/ 实现/ 的/ 现象/ 因果关系/ 的/ 描述/ ./ 并且/ 实体/ 间/ 的/ 某些/ 现象/ 是/ 共享/ 的/ 这/ 一/ 事实/ 也/ 可以/ 在/ 实体/ 定义/ 中/ 的/ 第/ 2/ 个/ 大括号/ 内/ 描述/ (/ 如图/ 10/ 中/ ECS/ 的/ 第/ 2/ 个/ 大括号/ 内/ p3/ =/ V/ / p3/ )/ ./ assertr1/ {/ alla/ :/ FV/ ./ p1/ ,/ b/ :/ V/ ./ p2/ ,/ c/ :/ V/ ./ p3/ |/ aintrueandbintrueimpliescintrue/ }/ assertr2/ {/ alla/ :/ FV/ ./ p1/ ,/ b/ :/ V/ ./ p4/ ,/ c/ :/ V/ ./ p5/ |/ aintrueandbintrueimpliescintrue/ }/ assertr3/ {/ alla/ :/ FV/ ./ p6/ ,/ b/ :/ R/ ./ p7/ ,/ c/ :/ V/ ./ p8/ |/ aintrueandbintrueimpliescintrue/ }/ assertr4/ {/ alla/ :/ FV/ ./ p6/ ,/ b/ :/ R/ ./ p9/ ,/ c/ :/ V/ ./ p10/ |/ aintrueandbintrueimpliescintrue/ }/ 图/ 11/ 自/ 适应/ 巡航/ 控制系统/ 用户/ 需求/ 的/ Alloy/ 描述/ 5/ 相关/ 工作/ CPS/ 在/ 过去/ 几年/ 里/ 得到/ 了/ 大量/ 的/ 关注/ ./ 而/ CPS/ 的/ 需求/ 分析/ 与/ 建模/ 作为/ CPS/ 研究/ 领域/ 中/ 的/ 一个/ 重要/ 问题/ ,/ 也/ 吸引/ 着/ 许多/ 研究/ 人员/ 去/ 探讨/ 潜在/ 的/ 挑战/ 和/ 研究/ 具体/ 的/ 方法/ ./ 在/ 面临/ 的/ 挑战/ 方面/ ,/ Derler/ 等/ 人/ [/ 8/ ]/ 介绍/ 了/ 在/ 建模/ 过程/ 中/ 所/ 面临/ 的/ 困难/ 以及/ 可用/ 的/ 相关/ 技术/ ;/ Wan/ 等/ 人/ [/ 9/ ]/ 讨论/ 了/ 在/ CPS/ 的/ 需求/ 描述/ 和/ 分析/ 方面/ 的/ 挑战/ ;/ Wang/ 等/ 人/ [/ 10/ ]/ 阐述/ 了/ 在/ CPS/ 安全性/ 方面/ 潜在/ 的/ 问题/ 和/ 挑战/ ;/ 而/ Banerjeey/ 和/ Gupta/ 则/ 指出/ 在/ 控制系统/ 和/ 混合系统/ 中/ 通常/ 使用/ 的/ 解决方案/ 并/ 不适/ 用于/ CPS/ 的/ 分析/ 和/ 建模/ ,/ 因为/ 它们/ 依赖/ 的/ 假设/ 对于/ CPS/ 是/ 不/ 成立/ 的/ [/ 11/ ]/ ./ 在/ 具体方法/ 方面/ ,/ Ringert/ 等/ 人/ [/ 12/ ]/ 提出/ 结合/ ADL/ 和/ I/ // O/ 自动机/ 来/ 描述/ CPS/ ,/ 以/ 利用/ ADL/ 来/ 建模/ CPS/ 的/ 结构/ 、/ 利用/ I/ // O/ 自动机/ 来/ 描述/ 构成/ CPS/ 的/ 各个/ 组成部分/ 的/ 行为/ ;/ Henriksson/ 和/ Elmqvist/ [/ 13/ ]/ 认为/ Modelica/ 语言/ 适用/ 于/ CPS/ 的/ 需求/ 建模/ 和/ 仿真/ ;/ Bujorianu/ 等/ 人/ [/ 14/ -/ 15/ ]/ 基于/ Hilbertean/ 提出/ 一个/ 统一/ 的/ 逻辑/ 语言/ 来/ 描述/ CPS/ ;/ 朱敏/ 等/ 人/ [/ 16/ ]/ 提出/ 基于/ 微分/ 动态/ 逻辑/ 来/ 描述/ CPS/ 的/ 需求/ 和/ 进行/ 属性/ 验证/ ;/ Banerjee/ 和/ Gupta/ [/ 17/ ]/ 提出/ 采用/ 混合/ 自动机/ 来/ 建模/ 信息/ 物理/ 医疗系统/ ;/ 周兴社/ 等/ 人/ [/ 18/ ]/ 提出/ 基于/ CPS/ -/ ADL/ 来/ 对/ CPS/ 系统/ 动态/ 行为/ 模型/ 进行/ 构建/ ;/ 尹玲/ 等/ 人/ [/ 19/ ]/ 则/ 提出/ 了/ 一个/ 基于/ 逻辑/ 时钟/ 的/ CPS/ 时间/ 需求/ 一致性/ 分析/ 框架/ ;/ 针对/ 交通/ CPS/ ,/ Zhang/ 展/ AADL/ 来/ 表达/ 交通/ CPS/ 的/ 行为/ 性质/ 、/ 动态/ 连续/ 特征/ 和/ 时空/ 需求/ ;/ 针对/ 汽车/ CPS/ ,/ Zhang/ 合/ AADL/ 、/ Modelica/ 、/ UML/ 等/ 来/ 描述/ 汽车/ CPS/ 的/ 需求/ ,/ 其中/ 利用/ AADL/ 和/ UML/ 来/ 描述/ 汽车/ CPS/ 的/ 软件/ 部分/ ,/ 利用/ Modelica/ 来/ 描述/ 物理/ 部分/ ,/ 最后/ 提出/ 通过/ 形式化/ 方法/ 来/ 检验所/ 建立/ 的/ 需求/ 模型/ 是/ 满足/ 系统/ 功能/ 、/ 性能/ 等/ 需求/ ;/ 更进一步/ ,/ ZhangAADL/ 来/ 描述/ CPSQoS/ 方面/ 的/ 需求/ ./ 从/ 面向/ 服务/ 的/ 角度/ 出发/ ,/ 国外/ 的/ Huang/ 等/ 人/ [/ 23/ ]/ 和/ 国内/ 的/ 李戈/ 等/ 人/ [/ 24/ ]/ 均/ 提出/ 扩展/ 现有/ 的/ 服务/ 模型/ 来/ 为/ CPS/ 的/ 建模/ 提供/ 解决方案/ ./ 除此之外/ ,/ Murugesan/ 等/ 人/ 在/ 文献/ [/ 25/ ]/ 中/ 提出/ 了/ 一个/ 方法/ 来/ 建立/ 系统/ 的/ 早期/ 结构/ 模型/ ,/ 以/ 帮助/ 确定/ 系统/ 的/ 范围/ ,/ 在/ 该/ 结构/ 模型/ 中/ ,/ 系统/ 的/ 组成部分/ 通过/ 其/ 输入/ 和/ 输出/ 来/ 描述/ ./ 上述/ 关于/ CPS/ 需求/ 分析/ 和/ 建模/ 方面/ 的/ 工作/ 侧重于/ CPS/ 需求/ 的/ 建模/ ,/ 主要/ 关注/ 于/ 如何/ 描述/ 和/ 验证/ CPS/ 的/ 结构/ 或者/ 行为/ ./ 不同于/ 这些/ 工作/ ,/ 本文/ 侧重于/ CPS/ 的/ 需求/ 分析/ ,/ 主要/ 关注/ 于/ 如何/ 来/ 厘清/ 用户/ 需求/ ,/ 如何/ 从/ 用户/ 需求/ 出发/ 去/ 分析/ 系统/ 所/ 要/ 涉及/ 的/ 软件/ 实体/ 、/ 物理/ 实体/ 、/ 它们/ 的/ 性质/ 和/ 行为/ 等/ ./ 作为/ CPS/ 的/ 重要/ 组成部分/ ,/ CPS/ 的/ 物理/ 实体/ 处于/ 连续/ 世界/ ,/ 因此/ Heimdahl/ 等/ 人/ 认为/ 对于/ CPS/ 的/ 物理/ 实体/ ,/ 我们/ 不仅/ 需要/ 分析/ 实时性/ 需求/ ,/ 还要/ 分析/ 其/ 连续/ 性质/ 方面/ 的/ 需求/ ./ 对此/ ,/ 受/ 阶跃/ 信号/ 的/ 不同/ 物理性质/ 启发/ ,/ Heimdahl/ 等/ 人/ [/ 26/ ]/ 提出/ 了/ 6/ 种/ 对/ 物理/ 实体/ 的/ 需求/ ./ 对于/ 物理/ 实体/ 的/ 需求/ ,/ 本文/ 仅/ 分析/ 了/ 物理/ 实体/ 功能性/ 方面/ 的/ 性质/ ,/ 对于/ 时间/ 以及/ 连续性/ 方面/ 的/ 性质/ 目前/ 还/ 没有/ 涉及/ ,/ 这是/ 我们/ 未来/ 考虑/ CPS/ 非/ 功能性/ 需求/ 时/ 的/ 研究/ 工作/ ./ 而/ 在/ 将/ 软件/ 需求/ 工程/ 的/ 问题/ 框架/ 方法/ 和/ 面向/ 目标/ 的/ 方法/ 结合/ 起来/ ,/ 以/ 充分/ 借鉴/ 不同/ 方法/ 的/ 优点/ 方面/ ,/ Liu/ 和/ Jin/ [/ 27/ ]/ 曾/ 将/ 面向/ 目标/ 的/ i/ / 方法/ 与/ 问题/ 框架/ 方法/ 结合/ 以/ 提高/ i/ / 的/ 表达能力/ ;/ 而/ Mohammadi/ 等/ 人/ 在/ 文献/ [/ 28/ ]/ 中/ 提出/ 了/ 一个/ 框架/ 来/ 融合/ 面向/ 目标/ 的/ 方法/ 、/ 问题/ 框架/ 方法/ 以及/ 序列图/ 以/ 弥补/ 面向/ 目标/ 方法/ 和/ 问题/ 框架/ 方法/ 的/ 各自/ 缺点/ ./ 不同于/ 上述/ 工作/ ,/ 本文/ 的/ 主要/ 目的/ 是/ 融合/ 问题/ 框架/ 方法/ 和/ 面向/ 目标/ 方法/ 来/ 推理/ 分析/ 构成/ CPS/ 的/ 软件/ 实体/ 、/ 物理/ 实体/ 和/ 它们/ 的/ 性质/ 而/ 不是/ 改进/ 二者/ 的/ 缺点/ ,/ 因此/ 本文/ 两种/ 方法/ 的/ 融合/ 过程/ 都/ 是从/ CPS/ 的/ 具体/ 特点/ 出发/ ,/ 比如/ 将/ 问题/ 框架/ 方法/ 的/ 问题/ 转换/ 和/ 分解/ 策略/ 用来/ 指导/ 目标/ 分解/ ./ 6/ 结束语/ 本文/ 提出/ 了/ 一种/ 分析/ CPS/ 软件/ 需求/ 的/ 方法/ ./ 它/ Page10/ 有助于/ 分析/ 人员/ 从/ 用户/ 对/ CPS/ 的/ 需求/ 出发/ ,/ 分析/ 满足用户/ 需求/ 所/ 需要/ 的/ 物理/ 实体/ 、/ 软件/ 实体/ 以及/ 物理/ 实体/ 的/ 性质/ 和/ 软件/ 实体/ 的/ 需求/ ,/ 并/ 验证/ 这些/ 实体/ 所/ 构成/ 的/ CPS/ 是否/ 能够/ 满足用户/ 的/ 需求/ ./ 本文/ 通过/ 一个/ 自/ 适应/ 的/ 巡航/ 控制系统/ 说明/ 了/ 该/ 方法/ 的/ 可行性/ ./ 本文/ 以/ 现象/ 间/ 的/ 因果关系/ 式/ 这/ 一/ 形式/ 来/ 描述/ 用户/ 需求/ ,/ 该/ 方式/ 能够/ 呈现/ 用户/ 需求/ 的/ 具体/ 结构/ ,/ 即/ 用户/ 期望/ 的/ 是/ 在/ 哪些/ 现象/ 发生/ 的/ 情况/ 下/ 触发/ 另外/ 哪些/ 现象/ 的/ 发生/ ./ 但是/ ,/ 在/ 实际/ 中/ 用户/ 所/ 引用/ 的/ 现象/ 可能/ 比较复杂/ ,/ 比如/ 用户/ 期望/ 在/ 现象/ a/ 发生/ ,/ 现象/ b/ 不/ 发生/ 的/ 情况/ 下/ 发生/ 现象/ c/ ./ 对于/ 如何/ 处理/ 这一/ 细节/ ,/ 本文/ 目前/ 还/ 没/ 涉及/ ./ 还有/ ,/ 用户/ 需求/ 集合/ 中/ 的/ 不同/ 需求/ 对应/ 着/ 不同/ 的/ 现象/ 因果关系/ 链/ (/ 如/ 第/ 4/ 节/ 所示/ )/ ,/ 而/ 这些/ 现象/ 因果关系/ 链/ 在/ 实际/ 的/ 执行/ 过程/ 中/ 可能/ 存在/ 着/ 冲突/ ,/ 比如/ 共享/ 某些/ 现象/ 或者/ 实体/ ./ 如何/ 检测/ 和/ 解决/ 这些/ 潜在/ 的/ 冲突/ 本文/ 目前/ 还/ 没有/ 考虑/ ./ 另外/ ,/ 计算/ 过程/ 和/ 物理/ 过程/ 的/ 融合/ 使得/ 时间/ 和/ 空间/ 特征/ (/ 现象/ 的/ 时间/ 和/ 空间/ 属性/ )/ 成为/ CPS/ 软件/ 分析/ 过程/ 中/ 所/ 必须/ 考虑/ 的/ 问题/ ,/ 对此/ 本文/ 方法/ 目前/ 也/ 没有/ 涉及/ ./ 因此/ ,/ 在/ 未来/ 的/ 工作/ 中/ 我们/ 将/ 就/ 上述/ 方面/ 进行/ 进一步/ 的/ 研究/ ./ 

