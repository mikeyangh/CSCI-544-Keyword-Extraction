Page1P2P/ 文件共享/ 系统/ 中/ 的/ 一种/ 基于/ 商品/ 市场/ 模型/ 的/ 访问控制/ 机制/ 李勇军/ 1/ )/ ,/ 2/ )/ 代/ 亚非/ 2/ )/ 1/ )/ (/ 西北工业大学/ 计算机/ 学院/ 西安/ 710072/ )/ 2/ )/ (/ 北京大学/ 计算机/ 科学技术/ 系/ 北京/ 100871/ )/ 摘要/ 随着/ P2P/ 文件共享/ 系统/ 日益/ 成为/ 流行/ 的/ 文件/ 交换/ 方式/ ,/ 其/ 安全/ 问题/ 势必/ 引起/ 关注/ ,/ 而/ 访问控制/ 是/ P2P/ 系统安全/ 的/ 关键技术/ 之一/ ./ 由于/ P2P/ 系统/ 具有/ 分散性/ 和/ 动态性/ ,/ 传统/ 的/ 访问控制/ 机制/ 不/ 能够/ 直接/ 应用/ 于/ P2P/ 文件共享/ 系统/ 中/ ./ 而/ 现有/ 针对/ P2P/ 文件共享/ 系统/ 的/ 访问控制/ 机制/ 不能/ 很/ 好地解决/ 大量/ 并发/ 文件/ 下载/ 请求/ 或者/ 爆发式/ 的/ 恶意/ 文件/ 下载/ 对/ 节点/ 带来/ 的/ 侵害/ ./ 针对/ 上述/ 问题/ ,/ 文中/ 提出/ 一种/ 基于/ 商品/ 市场/ 模型/ 的/ 访问控制/ 机制/ (/ ACMCM/ )/ ,/ 利用/ 市场调节/ 机制/ 使得/ 文件/ 下载/ 请求/ 均衡/ 地/ 分布/ 在/ 多个/ 文件/ 提供者/ 之间/ ;/ 下载/ 文件/ 的/ 价格/ 随着/ 重复/ 下载/ 次数/ 的/ 增加/ 而/ 呈/ 指数/ 增长/ ,/ 有效/ 遏制/ 了/ 恶意/ 下载/ 行为/ ;/ 通过/ 在/ 并发/ 下载/ 之间/ 合理/ 地/ 分配/ 下载/ 带宽/ ,/ 使得/ 并发/ 文件/ 下载/ 占用/ 的/ 系统/ 时间/ 尽量/ 缩短/ ./ ACMCM/ 保留/ 了/ P2P/ 系统/ 的/ 分散性/ 和/ 动态性/ ./ 最后/ 给出/ 了/ ACMCM/ 的/ 分布式/ 协议/ 的/ 主要/ 过程/ 的/ 流程/ ./ 关键词/ P2P/ 系统/ ;/ 访问控制/ ;/ 商品/ 市场/ 模型/ ;/ 分布式/ 协议/ 1/ 引言/ 访问控制/ 技术/ 最初/ 是/ 为了/ 管理/ 大型/ 主机/ 系统/ 上/ 的/ 共享/ 数据/ 的/ 访问/ 请求/ 而/ 产生/ ./ 但/ 随着/ 计算机/ 应用/ 的/ 普及/ ,/ 这一/ 技术/ 在/ 信息系统/ 的/ 各个领域/ 迅速/ 得到/ 广泛/ 的/ 应用/ ,/ 并/ 成为/ 计算机科学/ 的/ 研究/ 热点/ 之一/ ./ 访问控制/ 的/ 目的/ 是/ 防止/ 非法/ 用户/ 进入/ 系统/ 以及/ 合法/ 用户/ 对/ 系统资源/ 的/ 非法/ 使用/ ,/ 其/ 研究/ 内容/ 主要/ 包括/ 身份/ 识别/ 和/ 用户/ (/ 访问/ )/ 授权/ ./ 由此可见/ ,/ 访问控制/ 技术/ 是/ 保证/ 系统安全/ 的/ 关键技术/ 之一/ ./ 随着/ P2P/ 系统/ 应用/ 在/ Internet/ 上面/ 的/ 流行/ ,/ 其/ 安全/ 问题/ 势必会/ 引起/ 关注/ 并/ 成为/ 研究/ 的/ 热点/ ,/ 其中/ 认证/ 和/ 访问控制/ 是/ P2P/ 系统安全/ 的/ 两个/ 主要/ 方面/ ./ 在/ 传统/ 访问控制/ 技术/ 中/ ,/ CA/ (/ CertificateAuthority/ )/ 认证/ 是/ 解决/ 认证/ 问题/ 比较/ 流行/ 且/ 有效/ 的/ 方法/ ,/ 而/ P2P/ 系统/ 的/ 分散性/ 决定/ 了/ 不能/ 把/ CA/ 认证/ 直接/ 应用/ 于/ P2P/ 系统/ [/ 1/ ]/ ;/ 访问/ 授权/ 是/ 在/ 用户/ 预先/ 已知/ 的/ 情况/ 下/ 进行/ 的/ ,/ 而/ P2P/ 系统/ 的/ 动态性/ 显然/ 不/ 满足/ 这一/ 条件/ ./ 可见/ ,/ 传统/ 的/ 访问控制/ 技术/ 很难/ 直接/ 应用/ 到/ P2P/ 系统/ 中/ ./ 文献/ [/ 1/ ]/ 认为/ 在/ P2P/ 系统/ 中/ ,/ 访问控制/ 与/ 密钥/ 、/ 数字签名/ 、/ 证书/ 、/ 认证/ 等/ 技术/ 的/ 结合/ 是/ 解决/ 系统安全/ 访问控制/ 的/ 有效途径/ ,/ P2P/ 系统/ 中/ 的/ 访问控制/ 已经/ 不仅仅/ 是/ 对/ 用户/ 身份/ 的/ 认证/ 和/ 权限/ 的/ 限制/ ,/ 而/ 更/ 多/ 的/ 是/ 如何/ 体现/ 交易/ 的/ 公平性/ ,/ 如何/ 制定/ 信誉/ 机制/ 和/ 惩罚/ 机制/ 以及/ 如何/ 提高/ 用户/ 之间/ 交易/ 的/ 可信性/ 和/ 效率/ 等/ ./ 目前/ 在/ P2P/ 文件共享/ 系统/ 中/ ,/ 访问控制/ 机制/ 主要/ 根据/ 节点/ 的/ 信誉/ 值/ 和/ // 或/ 节点/ 对系统/ 贡献/ 大小/ 来/ 确定/ 节点/ 的/ 下载/ 请求/ 是否/ 被/ 接受/ ./ 这样/ 的/ 访问/ 机制/ 具有/ 一定/ 的/ 激励/ 作用/ ,/ 鼓励/ 节点/ 提供/ 可靠/ 服务/ 和/ 提供/ 更多/ 可供/ 下载/ 的/ 文件/ ./ 然而/ 这些/ 访问控制/ 机制/ 不能抑制/ 恶意/ 节点/ 的/ 爆发式/ 访问/ 或者/ 正常/ 节点/ 的/ 大量/ 并/ 发式/ 访问/ 对/ 文件/ 提供者/ (/ FileProvider/ ,/ 下文/ 简称/ FP/ )/ 造成/ 的/ 侵害/ ,/ 可能/ 由于/ 这些/ 突发/ 式/ 的/ 大量/ 访问/ 使得/ 受/ 侵害/ 的/ 节点/ 不/ 能够/ 提供/ 正常/ 的/ 下载/ 服务/ ,/ 甚至/ 使得/ 这些/ 节点/ 退出/ 系统/ ./ 为/ 解决/ 上述/ 问题/ ,/ 本文/ 提出/ 一种/ 基于/ 商品/ 市场/ 模型/ 的/ 访问控制/ 机制/ (/ AccessControlMechanismbasedonCommodityMarket/ ,/ ACMCM/ )/ ./ 在/ P2P/ 文件共享/ 系统/ 中/ 引入/ 虚拟/ 商品/ 市场机制/ ,/ 提供/ 文件/ 下载/ 服务/ 的/ 一方/ 被/ 认为/ 是/ 卖方/ ,/ 而/ 下载/ 文件/ 的/ 一方/ 被/ 认为/ 是/ 买方/ ./ 当/ 买方/ 从/ 卖方/ 那里/ 下载/ 文件/ 时/ ,/ 需要/ 根据/ 文件/ 的/ 虚拟/ 价格/ 向/ 卖方/ 支付/ 相应/ 数量/ 的/ 虚拟/ 货币/ ,/ 文件/ 的/ 价格/ 随着/ 下载/ 请求/ 的/ 数量/ 而/ 波动/ ./ 用户/ 手中/ 的/ 虚拟/ 货币量/ 决定/ 了/ 该/ 用户/ 可以/ 下载/ 的/ 文件大小/ 和/ 数量/ ,/ 从而/ 达到/ 控制/ 用户/ 下载/ 文件/ 的/ 目的/ ./ ACMCM/ 在/ 保留/ 激励/ 作用/ 的/ 基础/ 上/ ,/ 通过/ 市场/ 的/ 调节作用/ 使得/ 文件/ 下载/ 请求/ 均匀/ 地/ 分散/ 在/ 各个/ FP/ 之间/ ,/ 使得/ 文件/ 下载/ 的/ 负载/ 达到/ 均衡/ ;/ 调整/ 重复/ 下载/ 文件/ 的/ 价格/ ,/ 使得/ 文件/ 价格/ 随着/ 重复/ 下载/ 次数/ 的/ 增加/ 而/ 呈/ 指数/ 增长/ ,/ 以期/ 对/ 恶意/ 下载/ 行为/ 进行/ 抑制/ ;/ 另外/ ,/ 通过/ 在/ 并发/ 下载/ 之间/ 合理/ 地/ 分配/ 下载/ 带宽/ ,/ 使得/ 下载/ 占用/ 的/ 总/ 系统/ 时间/ 尽量/ 缩短/ ./ 本文/ 第/ 2/ 节/ 介绍/ 相关/ 工作/ ;/ 第/ 3/ 节/ 详细/ 阐述/ ACMCM/ ,/ 主要/ 包括/ 信任/ 模型/ 、/ ACMCM/ 采用/ 的/ 价格/ 策略/ 、/ 带宽/ 分配/ 策略/ 以及/ ACMCM/ 规则/ 等/ ;/ 在/ 第/ 4/ 节中/ 对/ ACMCM/ 的/ 性能/ 进行/ 分析/ 和/ 讨论/ ;/ 第/ 5/ 节/ 讲述/ ACMCM/ 的/ 分布式/ 协议/ ,/ 包括/ 关键/ 数据/ 的/ 放置/ 方式/ 和/ 几个/ 关键/ 协议/ 过程/ 的/ 流程/ ;/ 在/ 第/ 6/ 节对/ 全文/ 进行/ 总结/ ./ 2/ 相关/ 工作/ 目前/ 在/ P2P/ 领域/ 的/ 研究/ 大多数/ 还是/ 集中/ 在/ 如何/ 提供/ 服务/ 上/ ,/ 而/ 不是/ 对/ 资源/ 的/ 控制/ 上/ [/ 1/ ]/ ./ 但/ 随着/ P2P/ 流量/ 在/ Internet/ 上/ 所/ 占/ 比重/ 逐渐/ 增多/ ,/ 对/ P2P/ 系统/ 的/ 访问控制/ 引起/ 一些/ 研究者/ 的/ 关注/ ,/ 尤其/ 是/ P2P/ 文件共享/ 系统/ 中/ 的/ 访问控制/ ./ 目前/ 已经/ 提出/ 了/ 一些/ 适用/ 于/ P2P/ 访问控制/ 模型/ ,/ 如/ 移动/ P2P/ 协作/ 环境/ 下/ 的/ 访问控制/ [/ 2/ ]/ 、/ 基于/ PKI/ 的/ 多层/ 访问控制/ 平台/ [/ 3/ ]/ 等/ ./ 对/ P2P/ 系统/ 访问控制/ 的/ 研究/ 主要/ 包括/ 两个/ 方面/ :/ (/ 1/ )/ peer/ 的/ 选择/ 问题/ ,/ 即/ 如何/ 有效/ 地/ 选择/ 一个/ peer/ 进行/ 资源共享/ ./ 这里/ 涉及/ 到/ peer/ 的/ 身份/ 认证/ 问题/ ,/ 研究/ 较/ 多/ 的/ 是/ 基于/ 可信/ 和/ 信誉/ 的/ 模型/ (/ trustandreputationbasedmodels/ )/ [/ 1/ ,/ 4/ ]/ ./ (/ 2/ )/ 访问/ 控制策略/ ,/ 即/ 如何/ 保证/ 节点/ 之间/ 安全/ 地/ 共享资源/ ,/ 尽量减少/ 响应/ 恶意/ 节点/ 的/ 请求/ 而/ 消耗/ 自身/ 的/ 服务/ 能力/ ./ 采取/ 的/ 策略/ 主要/ 包括/ 依据/ 节点/ 对系统/ 贡献/ 大小/ 决定/ 节点/ 的/ 访问/ 权限/ [/ 5/ ]/ 、/ 动态/ 安全/ 组/ [/ 6/ ]/ 等/ ./ 信任/ 和/ 信誉/ 问题/ 已/ 成为/ P2P/ 研究/ 领域/ 的/ 热点问题/ 之一/ ,/ 但/ 因/ 其/ 不是/ 本文/ 的/ 重点/ 问题/ ./ 限于/ 篇幅/ ,/ 在/ 此/ 不再/ 赘述/ ,/ 建议/ 有/ 兴趣/ 的/ 读者/ 参见/ 文献/ [/ 7/ ]/ 了解/ 这方面/ 的/ 最新/ 研究进展/ ./ 文献/ [/ 4/ ]/ 提出/ 了/ 一个/ P2P/ 系统/ 的/ 组/ 信任/ 访问控制/ 模型/ ,/ 并用/ RBAC/ 实现/ 了/ P2P/ 系统/ 的/ 安全策略/ ./ Page3/ 同组/ 中/ 的/ 节点/ 依据/ 可信度/ 判断/ 组中/ 其它/ 节点/ 的/ 行为/ ,/ 解决/ 了/ 节点/ 的/ 选择/ 问题/ ;/ 用/ RBAC/ 描述/ 组/ 访问/ 的/ 安全策略/ ,/ 解决/ 了/ P2P/ 系统/ 中/ 的/ 访问/ 控制策略/ 问题/ ./ 文献/ [/ 5/ ]/ 为/ P2P/ 文件共享/ 系统/ 提出/ 了/ 一个/ 可信/ 访问控制/ 机制/ ,/ 该/ 机制/ 包括/ 认证/ 机制/ 、/ 信任/ 与/ 信誉/ 模型/ 、/ 公平/ 参与/ 机制/ 和/ 访问控制/ 机制/ 等/ ./ 利用/ 节点/ GUID/ (/ GlobalUniqueIDentifier/ )/ 和/ 公私/ 钥对/ 解决/ 节点/ 认证/ (/ 选择/ )/ 问题/ ,/ 根据/ 节点/ 的/ 信誉/ 值/ 以及/ 节点/ 对系统/ 的/ 贡献/ 大小/ 控制/ 访问/ 权限/ ./ 该/ 访问控制/ 机制/ 具有/ 激励/ 作用/ ,/ 鼓励/ 节点/ 提供/ 更/ 多/ 和/ 更好/ 的/ 文件/ 供/ 其它/ 节点/ 下载/ ./ 文献/ [/ 8/ ]/ 采用/ 了/ 类似/ 的/ 访问/ 控制策略/ ,/ 依据/ 节点/ 信誉/ 值/ 和/ 节点/ 贡献/ 大小/ 决定/ 节点/ 的/ 访问/ 权限/ ./ 文献/ [/ 9/ ]/ 提出/ 了/ 一种/ 基于/ 动态/ 信任/ 的/ 访问控制/ 机制/ ,/ 包括/ 信任/ 模型/ 和/ 访问/ 控制策略/ 等/ ./ 通过/ 比较/ 访问/ 请求/ 的/ 主体/ 和/ 客体/ 的/ 信誉/ 值来/ 控制/ 访问/ 请求/ ,/ 该/ 机制/ 未/ 明显/ 区分/ 节点/ 认证/ (/ 选择/ )/ 和/ 访问/ 控制策略/ ./ 用/ 形式化/ 的/ 方法/ 描述/ 了/ P2P/ 系统/ 的/ 访问控制/ 机制/ ./ 文献/ [/ 10/ ]/ 提出/ 了/ 一种/ 信誉/ 系统/ 的/ 框架/ ,/ 行式/ 化地/ 表述/ 了/ 信誉/ 系统/ ,/ 并/ 把/ 信誉/ 系统/ 应用/ 到/ 访问控制/ 中/ ,/ 其/ 控制策略/ 类似/ 其它/ 基于/ 信誉/ 的/ 访问/ 控制策略/ ./ 总之/ ,/ 基于/ 信誉/ 和/ 信任/ 的/ 访问控制/ 机制/ 的/ 策略/ 主要/ 是/ 根据/ 节点/ 信誉/ 值/ 或/ 节点/ 贡献/ 的/ 比较/ 结果/ 对/ 访问/ 请求/ 进行/ 限制/ ./ 另外/ ,/ 为了/ 提高/ 访问控制/ 中/ 的/ 认证/ 强度/ ,/ 有些/ 文献/ 引入/ 了/ 门限/ 密码/ 机制/ (/ ThresholdCryptogra/ -/ phy/ )/ ./ 文献/ [/ 11/ ]/ 主要/ 介绍/ 了/ 门限/ 密码/ 在/ P2P/ 系统/ 和/ AdHoc/ 网络/ 中/ 的/ 应用/ ,/ 并/ 给出/ 应用/ 实例/ ,/ 包括/ ThresholdRSA/ 方案/ 、/ 基于/ ThresholdDSA/ 的/ 访问控制/ 、/ 基于/ ThresholdSchnorr/ 的/ 访问控制/ 、/ 基于/ ThresholdBLS/ 的/ 访问控制/ 等/ 方法/ ./ 为/ 增强/ P2P/ 系统/ 访问控制/ 中/ 的/ 认证/ 强度/ 提供/ 了/ 新/ 的/ 解决/ 思路/ ,/ 但/ 在/ 实际/ P2P/ 系统/ 中/ 是否/ 需要/ 采用/ 如此/ 复杂/ 的/ 密码/ 机制/ 进行/ 节点/ 认证/ (/ 选择/ )/ ,/ 由/ 系统/ 需要/ 的/ 安全等级/ 确定/ ./ 3/ 基于/ 商品/ 市场/ 模型/ 的/ 访问控制/ 机制/ ACMCM/ 包括/ 3/ 个/ 方面/ 的/ 问题/ :/ (/ 1/ )/ 选择/ (/ 认证/ )/ 节点/ ./ 为了/ 保障/ P2P/ 文件共享/ 系统/ 的/ 安全/ 和/ 良性/ 运行/ ,/ 根据/ 节点/ 的/ 信誉/ 值/ 对/ 下载/ 双方/ 的/ 身份/ 进行/ 相互/ 认证/ ;/ (/ 2/ )/ 文件/ 下载/ 的/ 控制策略/ ./ 根据/ 下载/ 请求/ 的/ 数量/ 动态/ 调整/ 下载/ 文件/ 的/ 价格/ ,/ 使得/ 下载/ 请求/ 均衡/ 地/ 分布/ 在/ 多个/ FP/ 之间/ ,/ 利用/ 虚拟/ 市场机制/ 控制/ 文件/ 下载/ 行为/ ;/ (/ 3/ )/ 带宽/ 分配/ 策略/ ./ 在/ 并发/ 下载/ 之间/ 合理/ 分配/ 带宽/ ,/ 使得/ 下载/ 占用/ 的/ 系统/ 时间/ 最少/ ./ ACMCM/ 机制/ 假设/ 网络/ 中/ 用户/ 节点/ 大部分/ 是/ 理性/ 的/ ,/ 即当/ 用户/ 有/ 多种/ 选择/ 下载/ 源时/ ,/ 选择/ 性价比/ 较/ 好/ 的/ 下载/ 源/ ./ 3.1/ 信任/ 模型/ 信任/ 机制/ 是/ P2P/ 研究/ 领域/ 的/ 热点/ 之一/ ./ 根据/ 节点/ 的/ 历史/ 交易/ 记录/ 确定/ 其/ 可信度/ ,/ 为/ 其它/ 节点/ 选择/ 交易/ 对象/ 提供/ 参考/ ./ 另外/ ,/ 在/ 实际/ P2P/ 系统/ 中/ ,/ 根据/ 可信度/ 提供/ 差分/ 服务/ ,/ 依/ 此/ 激励/ 节点/ 提供/ 可靠/ 交易/ 或者/ 服务/ ./ 本文/ 不/ 专注/ 于/ 信任/ 机制/ 的/ 研究/ ,/ 而是/ 采用/ 文献/ [/ 11/ ]/ 的/ EigenTrust/ 信任/ 模型/ 计算/ 节点/ 的/ 全局/ 信任度/ ./ 在/ EigenTrust/ 信任/ 模型/ 中/ ,/ 节点/ 的/ 全局/ 信任度/ (/ 1/ )/ 直接/ 信任度/ ./ 如果/ 两个/ 节点/ ,/ 不妨/ 假设/ 为/ a/ 和/ b/ ,/ 其中/ b/ 为/ FP/ ,/ a/ 为/ 文件/ 下载者/ (/ FileRequestor/ ,/ 下文/ 简称/ FR/ )/ ./ 当/ a/ 从/ b/ 完成/ 一次/ 下载/ 任务/ 以后/ ,/ 根据/ 文件/ 质量/ 和/ 下载速度/ 等/ ,/ a/ 对/ b/ 给出/ 一个/ 评价/ ,/ 满意/ 或者/ 不/ 满意/ ./ 经过/ 多次/ 下载/ 以后/ ,/ 就/ 可以/ 得到/ a/ 对/ b/ 的/ 多次/ 评价/ 结果/ ,/ 满意/ 次数/ 记为/ m/ ,/ 而/ 不/ 满意/ 的/ 次数/ 记为/ n/ ./ 则/ a/ 对/ b/ 的/ 直接/ 信任度/ 为/ 计算/ 方式/ 如下/ :/ (/ 2/ )/ 全局/ 信任度/ ./ 计算/ 全局/ 信任度/ 时/ ,/ 采用/ 其它/ 节点/ 推荐/ 的/ 方式/ ,/ 推荐/ 信任度/ 为/ 节点/ 之间/ 的/ 直接/ 信任度/ ./ EigenTrust/ 信任/ 模型/ 认为/ 那些/ 在/ 提供/ 下载/ 文件/ 时/ 具有/ 高/ 可信度/ 的/ 节点/ ,/ 在/ 推荐/ 其它/ 节点/ 的/ 直接/ 信任度/ 时/ 也/ 具有/ 高/ 可信度/ ./ 为了/ 避免/ 恶意/ 节点/ 推荐/ 的/ 信任度/ 对/ 全局/ 信任度/ 产生/ 较大/ 的/ 影响/ ,/ 首先/ 对/ 直接/ 信任度/ 做/ 归一化/ 处理/ :/ 节点/ a/ 对/ b/ 的/ 全局/ 信任度/ 依据/ 式/ (/ 3/ )/ 就/ 可以/ 计算/ 得出/ ./ 为了/ 简化/ 计算/ ,/ 可以/ 限定/ 迭代/ 次数/ ./ 详细/ 计算/ 过程/ 可以/ 参见/ 文献/ [/ 11/ ]/ ./ 节点/ 间/ 的/ 信任度/ 是/ 为/ 文件/ 下载/ 双方/ 在/ 相互/ 选择/ 时/ 提供/ 参考/ 依据/ ./ 在/ ACMCM/ 中/ ,/ 信任度/ 的/ 计算/ 并/ 不/ 局限于/ EigenTrust/ 信任/ 模型/ ,/ 其它/ 任何/ 可以/ 有效/ 地/ 计算/ 节点/ 间/ 信任度/ 的/ 模型/ 都/ 可以/ 应用/ 于/ ACMCM/ ./ 3.2/ 价格/ 策略/ 在/ P2P/ 文件共享/ 系统/ 中/ ,/ 下载/ 一个/ 文件/ 所/ 需/ 支付/ 的/ 虚拟/ 货币/ 与/ 诸多/ 因素/ 有关/ ,/ 很/ 难用/ 一个/ 准确/ 的/ Page4/ 数学模型/ 进行/ 描述/ ./ 但是/ 针对/ 不同/ 的/ 应用/ 背景/ ,/ 可以/ 建立/ 一种/ 相对/ 有效/ 的/ 价格/ 模型/ ./ 基于/ 微观/ 经济学/ 的/ 一般/ 均衡/ 理论/ ,/ 本/ 节/ 提出/ 一种/ 能够/ 反映/ 供需/ 关系/ 的/ 文件/ 下载/ 的/ 价格/ 策略/ ./ 一般/ 均衡/ 理论/ 从/ 微观经济/ 主体/ 的/ 行为/ 角度/ 出发/ ,/ 考察/ 每/ 一种/ 产品/ 的/ 供需/ 达到/ 均衡/ 状态/ 时/ 所/ 需/ 的/ 条件/ 、/ 相应/ 的/ 均衡/ 价格/ 和/ 均衡/ 数量/ ./ FR/ 如果/ 想/ 从/ FP/ 那里/ 成功/ 地/ 下载/ 一个/ 文件/ 时/ ,/ 需要/ 两个/ 方面/ 的/ 资源/ :/ 下载/ 的/ 文件/ 以及/ 与/ FP/ 之间/ 的/ 连接/ ./ 本文/ 价格/ 策略/ 认为/ 这/ 两类/ 资源/ 都/ 是/ 付费/ 资源/ ,/ 且/ 针对/ 这/ 两类/ 资源/ 分别/ 进行/ 定价/ ./ 因此/ FR/ 支付/ 给/ FP/ 的/ 虚拟/ 货币量/ 是/ 文件/ 价格/ 与/ 连接/ 价格/ 之/ 和/ ./ 3.2/ ./ 1/ 文件/ 定价/ 策略/ 在/ 文件共享/ 系统/ 中/ 文件/ 是/ 可/ 复制/ 的/ ,/ 被/ 请求/ 文件/ 的/ 数量/ 不会/ 因为/ 下载/ 次数/ 的/ 增加/ 而/ 出现/ 供不应求/ ,/ 也/ 就是/ 不/ 存在/ 供求平衡/ 问题/ ,/ 因此/ 本/ 价格/ 策略/ 认为/ 文件/ 本身/ 的/ 价格/ 不/ 受/ 下载/ 请求/ 数量/ 的/ 影响/ ,/ 仅/ 与/ 文件大小/ 有/ 关系/ ./ 假设/ 文件/ i/ 大小/ 为/ si/ ,/ 其/ 价格/ 用/ pf/ 表示/ ,/ 文件/ 的/ 价格/ 定义/ 为/ 文件大小/ 的/ 函数/ ./ 文件/ 定价/ 是/ 系统/ 统一/ 定价/ ,/ 即/ 同一个/ 文件/ 在/ 系统/ 中/ 的/ 不同/ 节点/ 上/ 的/ 文件/ 价格/ 是/ 一样/ 的/ ./ 此/ 策略/ 可以/ 防止/ 理性/ 用户/ (/ free/ -/ rider/ )/ 私自/ 抬高/ 文件/ 定价/ ,/ 达到/ 不/ 共享资源/ 的/ 目的/ ./ 3.2/ ./ 2/ 连接/ 定价/ 策略/ 在/ P2P/ 文件共享/ 系统/ 中/ ,/ 用户/ 一般/ 都/ 会/ 限制/ 自身/ 的/ 最大/ 连接数/ ./ 当/ 外部/ 请求/ 过多时/ ,/ 就/ 会/ 出现/ 连接/ 数量/ 供不应求/ ,/ 使得/ 连接/ 成为/ 稀缺资源/ ./ 这时/ 通过/ 提升/ 连接/ 的/ 价格/ ,/ 可以/ 使得/ 一部分/ 连接/ 请求/ 转向/ 其它/ 节点/ ,/ 从而/ 降低/ 该/ 节点/ 的/ 连接/ 请求/ 数量/ ./ 反之/ ,/ 当/ 连接/ 数量/ 供大于求/ 时/ ,/ 节点/ 可以/ 通过/ 降低/ 连接/ 的/ 价格/ 吸引/ 较/ 多/ 的/ 连接/ 请求/ ./ 上述/ 过程/ 经过/ 多次/ 反复/ ,/ 最终/ 可以/ 达到/ 一种/ 均衡/ 状态/ ,/ 使得/ 各个/ 节点/ 上/ 的/ 连接/ 请求/ 数量/ 趋于稳定/ ./ 为此/ ,/ 可以/ 利用/ 迭代/ 公式/ pl/ =/ pl/ +/ δ/ (/ D/ -/ S/ )/ 计算/ 连接/ 的/ 均衡/ 价格/ [/ 12/ ]/ ,/ 其中/ pl/ 是/ 连接/ 的/ 价格/ ,/ δ/ 是/ 调价/ 速率/ ,/ D/ 是/ 请求/ 连接/ 的/ 数量/ ,/ S/ 是/ 节点/ 提供/ 的/ 最大/ 连接/ 数量/ ./ 当/ 连接/ 的/ 请求/ 数量/ (/ D/ )/ 大于/ 节点/ 最大/ 限制/ 数量/ (/ S/ )/ 时/ ,/ 即/ D/ -/ S/ >/ 0/ ,/ 此时/ 供不应求/ 时/ ,/ 连接/ 的/ 价格/ 就/ 会/ 上升/ ;/ 反之/ ,/ 当/ D/ -/ S/ </ 0/ ,/ 也就是说/ 供大于求/ ,/ 连接/ 的/ 价格/ 就/ 会/ 下降/ ./ 并且/ 价格/ 升降/ 数量/ 与/ |/ D/ -/ S/ |/ 成正比/ ./ 当/ 提供/ 的/ 连接/ 数量/ 与/ 请求/ 的/ 连接/ 数量/ 相当/ 时/ ,/ 即/ |/ D/ -/ S/ |/ </ ε/ 时/ ,/ 价格调整/ 过程/ 终止/ ./ 上述/ 调价/ 过程/ 在/ 微观/ 经济学/ 中/ 被/ 称为/ Tatonnement/ 过程/ ,/ 文献/ [/ 13/ ]/ 证明/ 了/ Tatonnement/ 过程/ 收敛/ 于/ 均衡/ 价格/ ,/ 并且/ 收敛/ 过程/ 很快/ ./ 然而/ 正如/ 文献/ [/ 14/ ]/ 所述/ ,/ 在/ 实际/ 系统/ 中/ Taton/ -/ nement/ 过程/ 的/ 前提条件/ ,/ |/ D/ -/ S/ |/ </ ε/ ,/ 不/ 一定/ 总能/ 达到/ ./ 如/ 在/ P2P/ 文件共享/ 系统/ 中/ 可能/ 存在/ 下列/ 情况/ 使得/ Tatonnement/ 过程/ 不能/ 收敛/ :/ (/ 1/ )/ 大规模/ FR/ 的/ 并发/ 请求/ ,/ 使得/ FP/ 的/ 连接/ 数量/ 不能/ 满足/ FR/ 的/ 连接/ 需求/ ,/ 即/ D/ / S/ ./ (/ 2/ )/ 恶意/ 节点/ 的/ 大量/ 虚假/ 请求/ ,/ 使得/ D/ / S/ ./ (/ 3/ )/ 某个/ 节点/ 收到/ 的/ 文件/ 下载/ 请求/ 过少/ ,/ 可能/ 是/ 由/ 该/ 节点/ 上/ 的/ 文件/ 不/ 流行/ 或者/ 该/ 节点/ 的/ 信誉/ 过低/ 造成/ 的/ ,/ 使得/ D/ / S/ ./ 为了/ 规避/ 上述/ 问题/ ,/ 在/ 调整/ 节点/ 的/ 连接/ 价格/ 时/ 摒弃/ 了/ Tatonnement/ 过程/ 的/ 收敛/ 条件/ ,/ 取而代之/ 的/ 是/ (/ 1/ )/ 相邻/ 两次/ 调价/ 过程/ 产生/ 的/ 供需/ 差异/ 变化/ 小于/ 某个/ 阈值/ ./ 假设/ 第/ i/ 次/ 调价/ 过程/ 后/ 供需/ 数量/ 分别/ 为/ Si/ 和/ Di/ ,/ Δ/ di/ =/ |/ Di/ -/ Si/ |/ ;/ 第/ (/ i/ +/ 1/ )/ 次/ 调价/ 后/ 的/ 供需/ 数量/ 分别/ 为/ Si/ +/ 1/ 和/ Di/ +/ 1/ ,/ Δ/ di/ +/ 1/ =/ |/ Di/ +/ 1/ -/ Si/ +/ 1/ |/ ./ 当/ |/ Δ/ di/ +/ 1/ -/ Δ/ di/ |/ </ ε/ 满足/ 时/ ,/ 我们/ 认为/ 调价/ 过程/ 达到/ 了/ 平衡/ 状态/ ./ 或者/ (/ 2/ )/ 限制/ 调价/ 过程/ 的/ 迭代/ 次数/ ,/ 也就是说/ 设定/ 一个/ 迭代/ 次数/ 上限/ ,/ 当/ 调价/ 迭代/ 次数/ 超过/ 该/ 阈值/ 时/ ,/ 调价/ 过程/ 无条件/ 结束/ ./ 此时/ 认为/ 经过/ 多次/ 调价/ 后/ ,/ 节点/ 的/ 供需/ 差异/ 始终/ 不/ 能够/ 收敛/ ./ 该/ 调价/ 结束/ 条件/ 主要/ 考虑/ 了/ 调价/ 过程/ 的/ 效率/ 问题/ ,/ 调价/ 过程/ 不/ 应/ 影响/ 存取控制/ 的/ 实效性/ ./ 连接/ 调价/ 过程/ 如/ 算法/ 1/ 所示/ ./ 算法/ 1/ ./ 连接/ 的/ 定价/ 算法/ ./ Initializinginitialpricepl/ ,/ adjustmentratio/ δ/ ,/ terminalparameter/ ε/ ,/ iterationthresholdkthreshold/ ,/ Δ/ d/ =/ 0/ ,/ itera/ -/ tionroundsk/ =/ 0/ ;/ Δ/ d/ =/ D/ -/ S/ ;/ while/ |/ Δ/ d/ -/ Δ/ d/ |/ </ ε/ andk/ </ kthresholddopl/ =/ pl/ +/ δ/ ·/ Δ/ d/ ;/ endwhileannouncingthepricepl/ ,/ collectingthefiledownloadrequirementandcomputingD/ ;/ if/ |/ Δ/ d/ |/ / |/ Δ/ d/ |/ thenelseendifendwhilePage5/ 算法/ 1/ 是/ 针对/ 一个/ 时段/ 内/ 下载/ 请求/ 的/ 调价/ 过程/ ,/ 在/ 该/ 时段/ 内/ FP/ 接收/ FR/ 的/ 下载/ 请求/ 消息/ ,/ 时段/ 结束/ 后/ 进入/ 上述/ 调价/ 过程/ ,/ 该/ 时段/ 被/ 称为/ 调价/ 周期/ ./ 为了/ 使得/ 用户/ 的/ 利益/ 最大化/ ,/ 调价/ 周期/ 的/ 大小/ 应该/ 根据/ Δ/ d/ 的/ 变化/ 进行/ 适当/ 的/ 调整/ ,/ 如果/ 调价/ 周期/ 之间/ 的/ Δ/ d/ 变化/ 较大/ ,/ 应该/ 缩短/ 调价/ 周期/ ;/ 反之/ 增加/ 调价/ 周期/ ./ 在/ 调价/ 过程/ 结束/ 以后/ ,/ 如果/ 文件/ 下载/ 请求/ 数量/ (/ D/ )/ 小于/ 或者/ 等于/ 连接/ 数量/ (/ S/ )/ ,/ 即/ D/ / S/ ,/ 接受/ 所有/ 下载/ 请求/ ;/ 而/ 如果/ D/ >/ S/ ,/ 采用/ Greedy/ 策略/ 接受/ 下载/ 请求/ ./ 假设/ D/ 个/ 下载/ 请求/ 为/ {/ r1/ ,/ r2/ ,/ …/ ,/ rD/ }/ ,/ 对应/ 的/ 请求/ 文件大小/ 为/ {/ s1/ ,/ s2/ ,/ …/ ,/ sD/ }/ ,/ FR/ 的/ 信誉/ 值/ 分别/ 为/ {/ t1/ ,/ t2/ ,/ …/ ,/ tD/ }/ ./ 按照/ 式子/ (/ 5/ )/ 的/ 数值/ 对/ D/ 个/ 下载/ 请求/ 按/ 降序/ 方式/ 进行/ 排序/ ,/ 接受/ 前/ S/ 个/ 下载/ 请求/ ./ 这样/ 可以/ 使得/ FP/ 在/ 提供/ 相同/ 文件大小/ 时/ ,/ 获得/ 较大/ 的/ 收益/ ./ 3.2/ ./ 3/ 下载/ 定价/ 策略/ 文件/ 的/ 下载/ 基本/ 价格/ p/ 由/ 两/ 部分/ 组成/ :/ 连接/ 价格/ pl/ 和/ 文件/ 价格/ pf/ ,/ 即/ p/ =/ pf/ +/ pl/ ./ 这样/ 的/ 定价/ 策略/ 在/ 面对/ 正常/ 的/ 文件/ 下载/ 请求/ 时/ ,/ 可以/ 使得/ 下载/ 请求/ 在/ 各个/ FP/ 之间/ 趋于/ 均衡/ ./ 然而/ 当/ 某个/ FP/ 面临/ 多次/ 恶意/ 下载/ 同一个/ 文件/ 的/ 请求/ 时/ ,/ 该/ 价格/ 策略/ 显得/ 有些/ 不足/ ./ 因为/ 这些/ 下载/ 请求/ 就是/ 发/ 向/ 特定/ FP/ 的/ ,/ 不会/ 因为/ 连接/ 的/ 调价/ 策略/ ,/ 而/ 转向/ 其它/ FP/ ./ 另外/ 多次/ 下载/ 同一个/ 文件/ 也/ 造成/ 系统资源/ 的/ 浪费/ ./ 为了/ 遏制/ 这种/ 现象/ 的/ 发生/ ,/ 合理/ 有效/ 地/ 利用/ 系统资源/ ,/ 在/ 制定/ 下载/ 定价/ 策略/ 时/ ,/ 不/ 鼓励/ FR/ 重复/ 从/ FP/ 那里/ 下载/ 同一个/ 文件/ ./ 另外/ ,/ 考虑/ 到/ 一个/ 正常/ 的/ FR/ 在/ 一个/ 时间段/ 内/ 多次/ 下载/ 同一个/ 文件/ 的/ 概率/ 会/ 随着/ 已经/ 重复/ 下载/ 次数/ 的/ 增加/ 而/ 急剧/ 减小/ ,/ 因为/ 每次/ 下载/ 都/ 会/ 付出代价/ 且/ 浪费/ 自身/ 的/ 资源/ ./ 而/ 如果/ 真正/ 发生/ 了/ 这种/ 多次重复/ 下载/ 的/ 现象/ ,/ 我们/ 认为/ 这是/ 滥用/ 系统资源/ 的/ 行为/ ,/ 需要/ 对此/ 做出/ 惩罚/ ./ 为此/ ,/ 制定/ 了/ 下面/ 的/ 下载/ 定价/ 策略/ :/ 一次/ 文件/ 下载/ 的/ 价格/ 由/ 三/ 方面/ 的/ 因素/ 决定/ ,/ 分别/ 是/ 连接/ 价格/ 、/ 文件/ 价格/ 以及/ 从/ 同一个/ FP/ 那里/ 重复/ 下载/ 同一个/ 文件/ 的/ 次数/ ./ 其中/ 连接/ 价格/ 与/ 文件/ 价格/ 组成/ 了/ 下载/ 的/ 基本/ 价格/ ,/ 而/ 重复/ 下载/ 次数/ 是/ 对/ 滥用/ 资源/ 行为/ 的/ 惩罚/ 依据/ ./ 式/ (/ 6/ )/ 给出/ 了/ 下载/ 价格/ 与/ 三者/ 之间/ 的/ 关系/ ./ 其中/ a/ 是/ 抑制/ 重复/ 下载/ 次数/ 的/ 因子/ ,/ 取值/ 越大/ 抑制/ 效果/ 越/ 明显/ ,/ 即/ 同样/ 虚拟/ 货币量/ 的/ 情况/ 下/ ,/ a/ 取值/ 越大/ ,/ FR/ 可/ 重复/ 下载/ 的/ 次数/ 越少/ ./ m/ 是/ 下载/ 的/ 次数/ ./ 从式/ (/ 6/ )/ 中/ 不难看出/ ,/ 第一次/ 下载/ 文件/ (/ m/ =/ 1/ )/ 需要/ 的/ 价格/ 就是/ 下载/ 的/ 基本/ 价格/ ;/ 随着/ 重复/ 下载/ 次数/ 的/ 增加/ ,/ 下载/ 价格/ 呈/ 指数/ 增加/ ./ 这样/ 的/ 下载/ 策略/ 可以/ 有效/ 地/ 抑制/ 重复/ 下载/ 行为/ 的/ 发生/ ,/ 具体分析/ 见/ 4.1/ 节/ ./ 在/ 下载/ 过程/ 中/ ,/ 假设/ FR/ 欲/ 中断/ 本次/ 下载/ ,/ 可/ FR/ 已经/ 占用/ 了/ FP/ 的/ 连接/ ,/ 那么/ FR/ 需要/ 支付/ 给/ FP/ 相应/ 的/ 连接/ 价格/ pl/ ;/ 另外/ FR/ 如果/ 已经/ 从/ FP/ 下载/ 部分/ 文件/ 内容/ ,/ FR/ 也/ 需要/ 按照/ 文件/ 定价/ 策略/ 支付/ 给/ FP/ 相应/ 的/ 虚拟/ 货币/ ./ FR/ 可能/ 因为/ 中断/ 下载/ 行为/ 而/ 得到/ FP/ 的/ 负面/ 评价/ ,/ 进而/ 会/ 影响/ 到/ FR/ 的/ 信誉/ ./ 因此/ FR/ 在/ 下载/ 过程/ 中/ ,/ 如果/ 发现/ 有/ 更/ 低/ 定价/ 的/ 下载/ 资源/ 时/ ,/ 是否/ 中断/ 此次/ 下载/ 而/ 转向/ 其它/ FP/ 时/ 需要/ 考虑/ :/ (/ 1/ )/ 其它/ FP/ 那里/ 是否/ 还有/ 剩余/ 连接/ ,/ 否则/ 转移/ 过去/ 可能/ 会/ 得不到/ 连接/ ;/ (/ 2/ )/ 本次/ 下载/ 的/ 剩余/ 内容/ 需要/ 支付/ 的/ 费用/ 是否/ 比/ 其它/ FP/ 公布/ 的/ 下载/ 定价/ 高/ ,/ 如果/ 高才/ 有/ 转移/ 的/ 必要/ ./ 此/ 策略/ 是/ 权衡/ FR/ 和/ FP/ 利益/ 的/ 结果/ ,/ 一方面/ 保证/ FP/ 因/ 提供/ 资源/ 而/ 得到/ 利益/ ;/ 另一方面/ 也/ 可以/ 防止/ FR/ 因/ 不/ 适当/ 选择/ 而/ 支付/ 更/ 多/ 的/ 虚拟/ 货币/ ./ 3.3/ 带宽/ 分配/ 策略/ 本文/ 认为/ 如何/ 从/ 下载/ 等待/ 队列/ 中/ 选择/ 下载/ 请求/ 进入/ 下载/ 过程/ 是/ P2P/ 文件共享/ 系统/ 需要/ 解决/ 的/ 问题/ ./ 带宽/ 分配/ 策略/ 的/ 目的/ 不是/ 指导/ FP/ 如何/ 去/ 选择/ 下载/ 请求/ ,/ 而是/ 在/ 下载/ 确定/ 以后/ ,/ 如何/ 在/ 这些/ 并发/ 的/ 下载/ 之间/ 分配/ 带宽/ 使得/ 这些/ 下载/ 过程/ 所/ 需/ 时间/ 最短/ ./ 下载/ 时间/ 越短/ ,/ FP/ 就/ 有/ 更/ 多/ 机会/ 为/ 其它/ 下载/ 服务/ ,/ 从而/ 积聚/ 更/ 多/ 的/ 虚拟/ 货币/ ./ 从/ 系统调度/ 的/ 角度/ 来看/ ,/ 完成/ 这些/ 并发/ 下载/ 过程/ 所/ 占用/ 的/ 系统/ 时间/ 是/ 完成/ 每个/ 下载/ 过程/ 所/ 占用/ 的/ 系统/ 时间/ 之/ 和/ ./ 因此/ 带宽/ 分配/ 策略/ 的/ 目标/ 可/ 视为/ :/ 使得/ 完成/ 每个/ 下载/ 过程/ 所/ 需/ 系统/ 时间/ 之/ 和/ 最/ 短/ ./ 假设/ FP/ 的/ 最大/ 连接数/ 为/ S/ ,/ 可/ 提供/ 的/ 下载/ 带宽/ 为/ B/ ./ 在/ t/ 时刻/ 共有/ N/ (/ N/ / S/ )/ 个/ 文件/ 请求/ 连接/ ci/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ N/ )/ 从/ FP/ 这里/ 下载/ 文件/ ./ 其中/ 下载/ 连接/ ci/ 对应/ 的/ 下载/ 文件大小/ 为/ si/ ,/ FR/ 端的/ 最大/ 带宽/ 限制/ 为/ b0i/ ,/ FP/ 分配/ 给/ 连接/ ci/ 的/ 下载/ 带宽/ 为/ bi/ ./ FP/ 需要/ 解决/ 的/ 问题/ 可/ 转化/ 为/ 如下/ 优化/ 问题/ 的/ 求解/ :/ Page6/ 很/ 容易/ 证明/ 函数/ f/ (/ bi/ )/ =/ si/ // bi/ 在/ bi/ ∈/ [/ 0/ ,/ B/ ]/ 满足/ 凹性/ 和/ 单调/ 性/ ,/ 因此/ 式/ (/ 7/ )/ 存在/ 均衡/ 解/ 使得/ 分配/ 方案/ 最为/ 合理/ ./ 参照/ 文献/ [/ 15/ ]/ 中非/ 线性规划/ 的/ 求解/ 方法/ ,/ 首先/ 假设/ 条件/ bi/ / b0i/ 对/ N/ 个/ 连接/ 都/ 成立/ ./ 式/ (/ 7/ )/ 对应/ 的/ 非线性/ 规划/ 问题/ 可以/ 转化/ 为/ 如下/ 非线性/ 规划/ 问题/ :/ 利用/ 拉格朗/ 日/ 方法/ 对式/ (/ 8/ )/ 进行/ 求解/ 可以/ 得到/ 根据/ 求解/ 的/ 结果/ 验证/ 假设/ 条件/ bi/ / b0i/ 是否/ 满足/ ,/ 如果/ 满足/ 则/ 式/ (/ 9/ )/ 为/ 最优/ 解/ ;/ 否则/ ,/ 假设/ k/ 条/ 连接/ 的/ 对应/ 条件/ 不/ 满足/ ,/ 即/ 分配/ 带宽/ 大于/ FR/ 的/ 最大/ 带宽/ 限制/ ,/ 采用/ 启发式/ 方法/ 解决/ 这个/ 问题/ ,/ 为/ 这/ k/ 条/ 连接/ 分配/ 的/ 带宽/ 为/ 其/ 可/ 接收/ 带宽/ 的/ 最大/ 限制/ ,/ 即/ b0i/ ,/ 然后/ 对/ 剩余/ 带宽/ 在/ 其余/ (/ N/ -/ k/ )/ 条/ 连接/ 之间/ 进行/ 分配/ ./ 为了/ 表达/ 方便/ ,/ 把/ 这/ k/ 条/ 连接/ 的/ 对应/ 下标/ 组成/ 的/ 集合/ 记为/ K/ ,/ 其余/ 连接/ 对应/ 下标/ 组成/ 集合/ 记为/ L/ ./ 对/ 剩余/ 带宽/ 分配/ 策略/ 转化/ 为/ 下面/ 的/ 非线性/ 规划/ 的/ 求解/ :/ 重复/ 上述/ 求解/ 过程/ 直到/ 所有/ 约束条件/ 都/ 满足/ ./ 为/ 避免/ 频繁/ 触发/ 上述/ 的/ 带宽/ 调整/ 策略/ ,/ 可/ 设置/ 一个/ 定时器/ ,/ 由/ 定时器/ 触发/ 带宽/ 调整/ 策略/ ,/ 定时器/ 时长/ t/ 可以/ 根据/ 所有/ 被/ 下载/ 文件/ 的/ 总/ 大小/ 和/ FP/ 的/ 带宽/ 进行/ 估算/ 或/ 由/ 用户/ 设定/ ;/ 另外/ 当/ 连接/ 变化/ 比例/ 超过/ 阈值/ ε/ 时/ ,/ 也/ 可/ 触发/ 带宽/ 调整/ 策略/ ./ t/ 和/ ε/ 取值/ 越小/ 调整/ 次数/ 越/ 频繁/ ,/ 带宽/ 越能/ 得到/ 合理/ 的/ 利用/ ,/ FR/ 的/ 用户/ 体验/ 也/ 会/ 频繁/ 变化/ ./ 3.4/ 访问控制/ 机制/ P2P/ 文件共享/ 系统/ 中/ 的/ 访问控制/ 机制/ 主要/ 描述/ 节点/ 在/ 满足/ 什么/ 条件/ 的/ 情况/ 下/ ,/ 其/ 文件/ 下载/ 请求/ 会/ 被/ 接受/ ./ 本/ 小节/ 主要/ 用/ 形式化/ 的/ 方法/ 描述/ ACMCM/ 利用/ 节点/ 之间/ 的/ 信任度/ 以及/ 3.3/ 节/ 的/ 价格/ 策略/ 控制/ 文件/ 下载/ 的/ 机制/ ./ 先/ 定义/ ACMCM/ 中/ 用到/ 的/ 一些/ 概念/ ./ 定义/ 1/ ./ 实体/ (/ Entity/ )/ 是/ 指/ P2P/ 文件共享/ 系统/ 中/ 的/ 节点/ (/ peer/ )/ ,/ 包括/ FP/ 和/ FR/ ./ 用/ E/ 表示/ 实体/ 集合/ ./ 定义/ 2/ ./ 对象/ (/ Object/ )/ 特指/ P2P/ 文件共享/ 系统/ 中/ 的/ 文件/ ./ 用/ O/ 表示/ 对象/ 集合/ ./ 定义/ 3/ ./ 操作/ (/ OPeration/ )/ 是/ 指/ 实体/ 在/ P2P/ 文件共享/ 系统/ 中/ 执行/ 的/ 操作/ ,/ 比如/ 文件/ 下载/ 请求/ 等/ ./ 用/ OP/ 表示/ 操作/ 集合/ ./ 定义/ 4/ ./ 实体/ 信誉/ 值/ (/ EntityRepuation/ )/ 是/ 指/ 按照/ EigenTrust/ 信任/ 模型/ 计算/ 出/ 的/ 实体/ 的/ 全局/ 可信度/ ./ 实体/ a/ ∈/ E/ 的/ 信誉/ 值记/ 为/ ta/ ./ 定义/ 5/ ./ 实体/ 信任/ 阈值/ (/ EntityTrustThresh/ -/ old/ )/ 是/ 指/ 其它/ 实体/ 欲/ 访问/ 本/ 实体/ 上/ 的/ 对象/ 时/ 必须/ 具有/ 的/ 最小/ 信誉/ 值/ ./ 实体/ e/ ∈/ E/ 的/ 信任/ 阈值/ 记为/ tte/ ./ 定义/ 6/ ./ 实体/ 货币量/ (/ EntityMoneyQuantity/ )/ 是/ 指/ 实体/ 所有/ 拥有/ 的/ 虚拟/ 货币/ 总量/ ./ 实体/ e/ 的/ 货币量/ 记为/ qe/ ./ 定义/ 7/ ./ 操作/ 价格/ (/ OPerationPrice/ )/ 是/ 指/ 操作/ 被/ 成功/ 执行/ 需要/ 的/ 虚拟/ 货币/ 数量/ ./ 操作/ op/ ∈/ OP/ 的/ 价格/ 记为/ pop/ ./ 定义/ 8/ ./ 操作/ 许可/ (/ OPerationPermission/ )/ 是/ 指/ 操作/ 被/ 接受/ 还是/ 被/ 拒绝/ ./ 操作/ op/ ∈/ OP/ 的/ 许可/ 记为/ oppop/ ./ 如果/ op/ 被/ 接受/ ,/ 则/ oppop/ =/ 1/ ;/ 否则/ oppop/ =/ 0/ ./ 操作/ 许可/ 集合/ 用/ OPP/ 表示/ ,/ OPP/ =/ {/ 0/ ,/ 1/ }/ ./ 定义/ 9/ ./ 一次/ 下载/ 请求/ 可以/ 定义/ 为/ 一个/ 四元组/ (/ er/ ,/ op/ ,/ es/ ,/ o/ )/ ,/ 其中/ er/ ∈/ E/ 是/ FR/ ,/ op/ 是/ 下载/ 请求/ 操作/ ,/ es/ ∈/ E/ 是/ FP/ ,/ o/ 是/ 被/ 请求/ 的/ 文件/ ./ 定义/ 10/ ./ 用/ R/ 表示/ 下载/ 请求/ 集合/ ;/ ce/ 表示/ 实体/ e/ 接受/ 下载/ 请求/ 时/ FR/ 必须/ 满足/ 的/ 最低/ 条件/ ,/ C/ 是/ ce/ 的/ 集合/ ./ 那么/ P2P/ 文件共享/ 系统/ 中/ 的/ 访问控制/ 可以/ 定义/ 为/ 如下/ 的/ 映射/ 关系/ :/ 对于/ 文件/ 下载/ 请求/ (/ er/ ,/ op/ ,/ es/ ,/ o/ )/ ,/ F/ 判断/ 实体/ er/ 是否/ 满足/ es/ 的/ 条件/ ces/ ./ 如果/ 满足/ ,/ 则/ oppop/ =/ 1/ ,/ 操作/ op/ 被/ 接受/ ;/ 否则/ oppop/ =/ 0/ ./ 在/ ACMCM/ 中/ ,/ 对于/ 任意/ 的/ 文件/ 下载/ 请求/ (/ er/ ,/ op/ ,/ es/ ,/ o/ )/ ,/ 条件/ ces/ 是/ 指/ 实体/ es/ 信任/ 阈值/ ttes/ 和/ 操作/ op/ 的/ 操作/ 价格/ pop/ ./ 其中/ pop/ 是/ 按照/ 3.3/ 节中/ 的/ 价格/ 策略/ 计算/ 出/ 的/ 下载/ 定价/ ./ 如果/ 实体/ er/ 的/ 条件/ 满足/ ces/ ,/ 则/ op/ 被/ es/ 接受/ ,/ 否则/ 被/ 拒绝/ ./ ACMCM/ 控制/ 规则/ 如下/ ./ 规则/ 1/ (/ ACMCM/ 访问控制/ 规则/ )/ ./ / er/ ∈/ E/ ,/ es/ ∈/ E/ ,/ op/ ∈/ OP/ ,/ o/ ∈/ O/ ,/ ces/ =/ (/ ttes/ ,/ pop/ )/ ∈/ C/ ,/ Page7/ 其中/ 逻辑/ 操作/ 结果/ 用/ 1/ 和/ 0/ 表示/ ,/ 1/ 表示/ 真/ (/ True/ )/ ,/ 0/ 表示/ 假/ (/ False/ )/ ./ 4/ 分析/ 与/ 讨论/ 本/ 节/ 主要/ 针对/ ACMCM/ 中/ 的/ 价格/ 策略/ 以及/ 带宽/ 分配/ 策略/ 进行/ 分析/ 与/ 讨论/ ,/ 信任/ 机制/ 部分/ 的/ 分析/ 和/ 讨论/ 可以/ 参见/ 文献/ [/ 11/ ]/ ./ 4.1/ 评估/ 价格/ 策略/ 价格/ 策略/ 的/ 影响/ 体现/ 在/ 两个/ 方面/ :/ (/ 1/ )/ 连接/ 的/ 定价/ 策略/ 会/ 影响/ 文件/ 下载/ 请求/ 在/ 各个/ FP/ 之间/ 的/ 分布/ ,/ 避免/ 大量/ 下载/ 请求/ 过于/ 集中/ 在/ 某些/ FP/ 上/ ;/ (/ 2/ )/ 下载/ 的/ 定价/ 策略/ 对/ 重复/ 下载/ 文件/ 的/ 次数/ 有/ 抑制作用/ ./ 下面/ 对/ 这/ 两/ 方面/ 的/ 影响/ 分别/ 进行/ 分析/ 和/ 讨论/ ./ 4.1/ ./ 1/ 连接/ 定价/ 策略/ 对/ 请求/ 数量/ 的/ 影响/ 在/ 总需求/ 和/ 总供给/ 基本/ 持平/ 的/ 情况/ 下/ ,/ Taton/ -/ nement/ 过程/ 收敛/ 于/ 供需/ 均衡/ 状态/ 且/ 收敛/ 速度/ 很快/ ./ 算法/ 1/ 采用/ Tatonnement/ 过程/ 的/ 调价/ 方法/ ,/ 因此/ 算法/ 会/ 趋于/ 均衡/ 状态/ ./ 然而/ 由于/ 存在/ 总/ 的/ 下载/ 请求/ 数量/ 大于/ 总/ 的/ 连接/ 数量/ 的/ 可能性/ ,/ 算法/ 可能/ 不能/ 收敛/ 于/ 供需/ 均衡/ 的/ 状态/ ./ 另外/ 在/ 存在/ 大量/ 并发/ 下载/ 请求/ 或者/ 恶意/ 请求/ 的/ 情况/ 下/ ,/ 一段时间/ 内/ 的/ 下载/ 请求/ 会/ 不断/ 地/ 产生/ ,/ 可能/ 会/ 造成/ 收敛/ 速度/ 较慢/ ./ 当/ 一个/ FP/ 收到/ 的/ 下载/ 请求/ 超过/ 自身/ 的/ 最大/ 连接数/ 时/ ,/ 根据/ 算法/ 1/ 连接/ 的/ 价格/ 就/ 会/ 增加/ ./ 那些/ 感知/ 到/ 涨价/ 的/ 理性/ FR/ ,/ 在/ 有/ 其它/ 下载/ 源/ 可/ 供选择/ 的/ 情况/ 下/ ,/ 会/ 把/ 自身/ 的/ 下载/ 请求/ 转向/ 一个/ 连接/ 价格/ 相对/ 较/ 低/ 的/ FP/ ;/ 反之/ ,/ FP/ 通过/ 降价/ 可以/ 吸引/ 更/ 多/ 的/ 下载/ 请求/ ,/ 增加/ 自身/ 的/ 收益/ ./ 在/ 不/ 考虑/ FP/ 信誉/ 值/ 的/ 情况/ 下/ ,/ 最终/ 的/ 均衡/ 状态/ 应该/ 是/ 各个/ FP/ 所/ 提供/ 的/ 同一个/ 文件/ 的/ 下载/ 基本/ 定价/ 应该/ 很/ 相近/ ,/ FP/ 可/ 提供/ 的/ 连接/ 数量/ 与/ 收到/ 的/ 下载/ 请求/ 之间/ 的/ 差异/ 收敛/ 到/ 一个/ 稳态/ ./ 由此可见/ FP/ 收到/ 的/ 请求/ 数量/ 受/ 自身/ 提供/ 的/ 连接/ 数量/ 限制/ ,/ 提供/ 的/ 连接/ 数量/ 越/ 多则/ 最终/ 收到/ 的/ 下载/ 请求/ 越多/ ./ 系统对/ 文件/ 定价/ 采用/ 统一/ 的/ 策略/ ,/ 可以/ 避免/ 一些/ 用户/ 对/ 文件/ 定价/ 过高/ ,/ 导致/ 连接数/ 很少/ ./ 同时/ 也/ 可以/ 防止/ 某些/ 用户/ 为了/ 不向/ 其它/ 用户/ 共享资源/ ,/ 恶意/ 抬高/ 自身/ 保留/ 文件/ 的/ 定价/ ./ 统一/ 的/ 文件/ 定价/ 策略/ 可能/ 会/ 导致/ 那些/ 带宽/ 较/ 低/ 的/ FP/ 接到/ 的/ 连接/ 数量/ 降低/ ,/ 因为/ 低/ 带宽/ 意味着/ 较长/ 的/ 传输/ 时间/ ,/ FR/ 的/ 用户/ 体验/ 会/ 降低/ ./ 这/ 促使/ FR/ 提高/ 自身/ 的/ 服务质量/ 以/ 得到/ 更/ 多/ 的/ 连接/ 请求/ ,/ 获得/ 更/ 多/ 的/ 虚拟/ 货币/ ./ 4.1/ ./ 2/ 下载/ 定价/ 策略/ 对/ 重复/ 下载/ 次数/ 的/ 影响/ 从/ 同一个/ FP/ 那里/ 多次/ 下载/ 同一个/ 文件/ 的/ 行为/ 属于/ 恶意/ 行为/ ,/ 无端/ 地/ 浪费/ 系统资源/ ,/ 在/ P2P/ 文件共享/ 系统/ 中/ 应该/ 尽量/ 遏制/ 这样/ 的/ 恶意/ 行为/ ./ 首先/ 我们/ 从/ 恶意/ 行为/ 发起者/ 的/ 角度/ 考虑/ 问题/ ,/ 确定/ 最优/ 的/ 恶意/ 下载/ 策略/ ,/ 即/ 特定/ 时间段/ 内/ ,/ 恶意/ 下载/ 在/ 占用/ 相同/ 系统资源/ 的/ 情况/ 下/ ,/ 如何/ 使得/ 付出/ 的/ 代价/ 最少/ ./ 而/ 从/ 遏制/ 恶意/ 行为/ 的/ 角度/ 讲/ ,/ 这是/ 最坏/ 的/ 情况/ ,/ 其它/ 任何/ 情况/ 下/ 的/ 遏制/ 效果/ 都/ 要/ 好/ 于/ 此/ ./ 假设/ 某个/ FP/ 有/ n/ 个/ 文件/ 可/ 供/ 下载/ ,/ 其/ 文件/ 价格/ 分别/ 为/ {/ pi/ 示/ 时刻/ t/ 的/ 下载/ 请求/ 的/ 连接/ 价格/ ,/ 且/ 随着/ 时间/ 而/ 变化/ ./ 文件大小/ 分别/ 为/ {/ si/ |/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ n/ }/ ./ 文件/ 价格/ 为/ f/ =/ bs/ 槡/ i/ ,/ 这/ 使得/ 每次/ 下载/ 在/ 单位/ 时间/ 内/ 占用/ 相同/ pi/ 系统资源/ 的/ 情况/ 下/ ,/ 付出/ 的/ 代价/ 相当/ ./ 只有/ 当/ 系统/ 中/ 恶意/ 请求/ 远大于/ 节点/ 可/ 提供/ 的/ 连接数/ 时/ ,/ 才/ 有/ 可能/ 对/ 节点/ 的/ 下载/ 服务/ 造成/ 影响/ ./ 按照/ 连接/ 定价/ 策略/ ,/ 此时/ 的/ 连接/ 定价/ pl/ (/ t/ )/ 近似/ 一个/ 常数/ ,/ 不会/ 随着/ 时间/ 有/ 较大/ 的/ 变化/ ./ 假设/ 文件/ i/ 已经/ 被/ 下载/ 次数/ 记为/ mi/ ,/ 恶意/ 下载/ 行为/ 持续时间/ 为/ T/ ./ 从/ 恶意/ 下载/ 请求/ 发起者/ 的/ 角度/ 考虑/ ,/ 最优/ 的/ 请求/ 策略/ 就是/ 下面/ 优化/ 问题/ 的/ 最优/ 解/ :/ 令式/ (/ 12/ )/ 中/ 的/ a/ =/ b/ =/ 1/ ,/ 显然/ 函数/ f/ (/ mi/ )/ =/ (/ s/ 槡/ i/ +/ pl/ )/ ·/ e/ (/ mi/ -/ 1/ )/ 在/ mi/ ∈/ [/ 0/ ,/ x/ ]/ 上/ 具有/ 凹性/ 和/ 单调/ 性/ ,/ 因此/ 上述/ 优化/ 问题/ 存在/ 最优/ 解/ ./ 按照/ 3.3/ 节/ 所述/ 的/ 拉格朗/ 日/ 求解/ 法/ ,/ 可以/ 得出/ 当/ 每个/ 文件/ 被/ 下载/ 次数/ 相等/ 时/ ,/ 下载/ 策略/ 近似/ 最优/ 的/ ./ 为了/ 计算/ 方便/ ,/ 假设/ 总/ 的/ 恶意/ 下载/ 请求/ 数量/ 为/ nm/ 次/ ,/ 也/ 就是/ 每个/ 文件/ 被/ 重复/ 下载/ m/ 次/ ./ 按照/ 本文/ 下载/ 定价/ 策略/ ,/ FR/ 需要/ 支付/ 的/ 虚拟/ 货币量/ 为/ (/ ∑/ mk/ =/ 1/ ∑/ ni/ =/ 1/ 如果/ 对/ 恶意/ 下载/ 行为/ 未/ 采取/ 惩罚/ 措施/ ,/ 即/ 每次/ 下载/ 的/ 定价/ 为/ 下载/ 基本/ 定价/ ./ 每个/ 文件/ 被/ 下载/ m/ 次时/ ,/ FR/ 需要/ 支付/ 的/ 虚拟/ 货币量/ 为/ k/ =/ 1/ ∑/ n/ 在/ 两种/ 不同/ 定价/ 策略/ 的/ 情况/ 下/ ,/ 下载者/ 需要/ 的/ Page8/ 代价/ 比/ 为/ ρ/ =/ ∑/ n/ 图/ 1/ 描述/ 了/ 文件/ 重复/ 下载/ 次数/ m/ 与/ ρ/ 的/ 关系/ ,/ 即使/ 在/ 最坏/ 的/ 情况/ 下/ ,/ 随着/ m/ 的/ 增加/ ,/ ρ/ 的/ 值/ 急剧/ 增长/ ,/ 也就是说/ 本文/ 提出/ 的/ 下载/ 定价/ 策略/ 对/ 恶意/ 下载/ 请求/ 的/ 抑制/ 效果/ 是/ 很/ 明显/ 的/ ./ 随着/ m/ 增加/ ,/ 抑制/ 效果/ 越来越/ 显著/ ,/ 而/ 恶意/ 下载/ 请求/ 总/ 次数/ nm/ 仅/ 随/ m/ 线形/ 增长/ ./ 从/ 上面/ 分析/ 容易/ 得知/ ,/ 抑制/ 效果/ 最好/ 的/ 情况/ 就是/ 所有/ 的/ 恶意/ 请求/ 集中/ 在/ 同一个/ 文件/ 上/ ,/ 该/ 文件/ 越小/ 抑制/ 效果/ 越/ 显著/ ./ 与/ 最坏/ 情况/ 的/ 差别/ 在于/ ,/ 如果/ m/ 次/ 恶意/ 请求/ ,/ 在/ 最好/ 情况/ 下/ 的/ 抑制/ 效果/ 为/ ρ/ 0/ ;/ 而/ 在/ 最坏/ 情况/ 下/ 达到抑制/ 效果/ ρ/ 0/ 需要/ 容忍/ 的/ 恶意/ 请求/ 次数/ 为/ nm/ ./ 4.2/ 评估/ 带宽/ 分配/ 策略/ 假设/ FP/ 能够/ 提供/ 的/ 最大/ 下载/ 带宽/ 为/ B/ ./ 在/ 某/ 一/ 时刻/ FP/ 共/ 提供/ 了/ N/ 条/ 连接/ ,/ 每条/ 连接/ 对应/ 一个/ 下载/ 请求/ ,/ 该/ 连接/ 对应/ 的/ 下载/ 带宽/ 为/ bi/ ,/ 下载/ 文件大小/ 为/ si/ ./ 先/ 评估/ 在/ FR/ 的/ 带宽/ 没有/ 最大/ 限制/ 的/ 情况/ 下/ ,/ 本文/ 提出/ 的/ 带宽/ 分配/ 策略/ 与/ 下面/ 两种/ 分配/ 策略/ 之间/ 在/ 所/ 需/ 下载/ 时间/ 上/ 的/ 差异/ :/ (/ 1/ )/ 在/ 各条/ 连接/ 之间/ 平均分配/ 带宽/ ./ (/ 2/ )/ 按照/ 每条/ 连接/ 的/ 请求/ 文件大小/ 的/ 比例/ 分配/ 带宽/ ./ 为了/ 清晰/ 区分/ 3/ 种/ 不同/ 带宽/ 分配/ 策略/ 所/ 产生/ 的/ 带宽/ 分配/ 方案/ ,/ 依据/ 本文/ 带宽/ 分配/ 策略/ 为/ 连接/ ci/ 分配/ 的/ 带宽/ 记为/ b0i/ ,/ 依据/ 策略/ (/ 1/ )/ 分配/ 到/ 的/ 带宽/ 记为/ b1i/ ,/ 依据/ 策略/ (/ 2/ )/ 分配/ 到/ 的/ 带宽/ 记为/ b2i/ ./ 如果/ 按照/ 策略/ (/ 1/ )/ 进行/ 分配/ 带宽/ ,/ 则/ 每条/ 连接/ 分配/ 到/ 的/ 带宽/ 为/ b1i/ =/ B/ // N/ ,/ 完成/ 所有/ 下载/ 所/ 需要/ 时间/ 之/ 和/ 为/ 如果/ 按照/ 策略/ (/ 2/ )/ 进行/ 分配/ 带宽/ ,/ 则/ 每条/ 连接/ 分配/ 到/ 的/ 带宽/ 为/ 所有/ 下载/ 完成/ 所/ 需要/ 时间/ 之/ 和/ 为/ T/ =/ ∑/ N/ 从式/ (/ 16/ )/ 和/ (/ 18/ )/ 可以/ 看出/ ,/ 按照/ 策略/ (/ 1/ )/ 和/ (/ 2/ )/ 分配/ 带宽/ ,/ 其/ 效果/ 是/ 一样/ 的/ ./ 在/ 评估/ 本文/ 的/ 带宽/ 分配/ 策略/ 时/ ,/ 仅/ 依/ 策略/ (/ 1/ )/ 为/ 参考/ ./ 由/ 本文/ 带宽/ 分配/ 策略/ 所/ 产生/ 的/ 带宽/ 分配/ 方案/ 完成/ 下载/ 任务/ 所/ 需要/ 的/ 时间/ 之/ 和/ 记为/ T0/ ,/ T0/ =/ ∑/ Ni/ =/ 1i/ =/ 1/ =/ ∑/ N/ 由/ 策略/ (/ 1/ )/ 所/ 产生/ 的/ 分配/ 方案/ 完成/ 下载/ 任务/ 所/ 需要/ 的/ 时间/ 之/ 和/ 记为/ T1/ ./ 两种/ 不同/ 分配/ 策略/ 之间/ 的/ 效果/ 差异/ 可以/ 用/ T0/ 和/ T1/ 的/ 差异/ Δ/ T/ 表示/ ./ Δ/ T/ =/ T1/ -/ T0/ =/ N/ 从式/ (/ 20/ )/ 可以/ 得出结论/ :/ (/ 1/ )/ 显然/ Δ/ T/ / 0/ ,/ 也就是说/ 由/ 本文/ 提出/ 的/ 带宽/ 分配/ 策略/ 所/ 产生/ 的/ 带宽/ 分配/ 方案/ ,/ 完成/ 所有/ 下载/ 所/ 需要/ 的/ 时间/ 之/ 和/ 不/ 比/ 利用/ 其它/ 两种/ 策略/ 所/ 产生/ 的/ 带宽/ 分配/ 方案/ 完成/ 所有/ 下载/ 所/ 需/ 时间/ 之/ 和/ 大/ ./ (/ 2/ )/ 当/ 下载/ 文件/ 的/ 大小/ 相等/ 或者/ 相差/ 不大时/ ,/ 3/ 种/ 带宽/ 分配/ 策略/ 的/ 效果/ 相同/ 或者/ 很/ 接近/ ./ (/ 3/ )/ 当/ 下载/ 的/ 文件大小/ 差异/ 较大/ 时/ ,/ 本文/ 带宽/ 分配/ 策略/ 具有/ 明显/ 优势/ ./ 在/ FR/ 存在/ 带宽/ 限制/ 的/ 情况/ 下/ ,/ Δ/ T/ 的/ 公式/ 较为/ 复杂/ ./ 为了/ 直观/ 地/ 表示/ Δ/ T/ 的/ 大小/ ,/ 选用/ Maze/ 日志/ 中/ 的/ 用户/ 下载/ 数据/ 作为/ 实例/ 分别/ 计算/ T0/ 和/ T1/ ./ 以/ 2006/ 年/ 11/ 月/ 12/ 日/ 的/ 日志/ 数据/ 为例/ ,/ 该/ 日志/ 数据/ 中/ Page9/ 共/ 包含/ 163695/ 条/ 下载/ 信息/ ,/ 从/ 其中/ 选取/ 3/ 组/ 数据/ ,/ 每组/ 数据/ 包含/ 10/ 个/ 下载/ 请求/ ./ 在/ 选取/ 日志/ 数据/ 时/ ,/ 注意/ 到/ 每组/ 数据/ 中/ 下载/ 文件/ 的/ 平均/ 大小/ ,/ 目的/ 是/ 想/ 验证/ 本文/ 带宽/ 分配/ 策略/ 在/ 下载/ 各种/ 大小/ 文件/ 的/ 情况/ 下均/ 具有/ 优势/ ./ 在/ Maze/ 文件共享/ 系统/ 中/ ,/ 用户/ 下载/ 带宽/ 默认/ 为/ 512Kb/ ,/ 最大/ 连接数/ 为/ 10/ ,/ 这样/ 每个/ FR/ 用于/ 下载/ 的/ 带宽/ 最大/ 为/ 5120Kb/ ./ 在/ 目前/ 的/ 主流/ 配置/ 中/ ,/ FR/ 是/ 不/ 存在/ 带宽/ 限制/ 的/ ./ 在/ 计算/ 过程/ 中/ ,/ 假设/ 部分/ FR/ 存在/ 带宽/ 受限/ ,/ 即/ FP/ 分配/ 给/ FR/ 的/ 带宽/ 超出/ 了/ FR/ 的/ 最大/ 带宽/ ,/ 且/ 带宽/ 超出/ 比例/ 为/ 10/ %/ ./ 用/ k/ 表示/ 存在/ 带宽/ 限制/ 的/ FR/ 个数/ ,/ 其中/ k/ =/ 0/ 可以/ 更/ 直观/ 地/ 表示/ 式/ (/ 20/ )/ 的/ 结果/ ./ 计算结果/ 如表/ 1/ 所示/ ./ 表/ 1/ 存在/ 带宽/ 限制/ 的/ 情况/ 下/ 犜/ 0/ 和/ 犜/ 1/ 的/ 计算/ 实例/ 数据/ 集/ 序号/ T1/ // s128981/ ./ 0211148.9911208/ ./ 6811335.7811541/ ./ 5629576.784989/ ./ 435009.145043/ ./ 215107.233270/ ./ 77194.77195/ ./ 24195.94196/ ./ 97/ 从表/ 1/ 中/ 可以/ 得出/ :/ (/ 1/ )/ 在/ 3/ 组/ 数据/ 上/ 的/ 计算结果/ 都/ 表明/ T0/ 明显/ 比/ T1/ 小/ 很多/ ,/ 说明/ 本文/ 的/ 带宽/ 分配/ 策略/ 相比/ 于/ 平均分配/ 带宽/ 或者/ 按/ 比例/ 分配/ 带宽/ 策略/ 具有/ 显著/ 的/ 优势/ ./ (/ 2/ )/ 随着/ k/ 值/ 的/ 增加/ ,/ T0/ 逐渐/ 变/ 大/ ,/ 但/ 仍然/ 保持/ 着/ 对/ T1/ 的/ 显著/ 优势/ ./ k/ 的/ 增大/ 意味着/ ,/ 由于/ FR/ 的/ 限制/ ,/ 更/ 多/ 的/ 带宽/ 得不到/ 合理/ 地/ 配置/ ,/ 使得/ 总/ 下载/ 时间/ 增加/ ./ 5ACMCM/ 分布式/ 协议/ ACMCM/ 分布式/ 协议/ 主要/ 解决/ 两/ 方面/ 的/ 问题/ :/ (/ 1/ )/ 数据/ 放置/ 问题/ ./ 与/ 下载/ 有关/ 的/ 一些/ 关键/ 数据/ (/ 如/ 节点/ 货币/ 总量/ 、/ 节点/ 信誉/ 值/ 等/ )/ ,/ 如何/ 在/ P2P/ 网络/ 中/ 进行/ 放置/ ,/ 并且/ 使得/ 其它/ 节点/ 取得/ 这些/ 数据/ 时/ 需要/ 的/ 开销/ 是/ 有限/ 的/ ./ 显然/ 在/ 利益/ 相关/ 的/ 节点/ 上/ 存放/ 这些/ 数据/ 是/ 不/ 合适/ 的/ ,/ 因为/ 这样/ 会/ 导致/ 欺诈/ 行为/ 发生/ ./ (/ 2/ )/ ACMCM/ 分布式/ 协议/ 本身/ ./ 节点/ 之间/ 如何/ 协作/ 完成/ ACMCM/ ,/ 并/ 保证/ 节点/ 之间/ 的/ 交互/ 是/ 安全/ 的/ ,/ 能够/ 有效/ 抑制/ 恶意/ 行为/ ./ 5.1/ 关键/ 数据/ 的/ 放置/ ACMCM/ 的/ 实现/ 是/ 建立/ 在/ 结构化/ 的/ P2P/ 文件共享/ 系统/ 上/ 的/ ,/ 关键/ 数据/ 的/ 放置/ 需/ 借助/ 分布式/ Hash/ 表/ (/ DHT/ )/ 机制/ 完成/ 的/ ./ 在/ 具体/ 实现/ 时/ ,/ 本文/ 引入/ Terrace/ 构件/ 作为/ P2P/ 文件共享/ 系统/ 的/ DHT/ ,/ Terrace/ 是/ 文献/ [/ 16/ ]/ 构造/ 的/ 一种/ 基于/ d/ -/ tree/ 结构/ 的/ DHT/ 构件/ ./ 通过/ Terrace/ ,/ 文件共享/ 系统/ 中/ 的/ 每个/ 节点/ 都/ 可以/ 映射/ 到/ 一个/ 逻辑/ d/ -/ tree/ 上/ 的/ d/ 个/ 节点/ 上/ ,/ 并/ 赋予/ 该/ 节点/ d/ 个/ 全局/ 唯一/ 的/ 逻辑/ 地址/ ./ 依据/ 任一/ 逻辑/ 地址/ ,/ 其余/ 节点/ 可以/ 访问/ 该/ 节点/ ./ Terrace/ 树/ 的/ 根/ 节点/ 表示/ 系统/ 在/ 树/ 中/ 逻辑/ 地址/ 为/ (/ 0/ …/ d/ -/ 1/ )/ 的/ 节点/ ;/ 对于/ 其余/ 任意/ 节点/ ,/ 设其/ 逻辑/ 地址/ 为/ (/ A0/ ,/ A1/ ,/ …/ ,/ Ad/ -/ 1/ )/ ,/ 则/ 其/ 第/ i/ 个/ (/ i/ ∈/ [/ 0/ ,/ d/ -/ 1/ ]/ )/ 子/ 节点/ 的/ 逻辑/ 地址/ 分别/ 为/ (/ Ai/ / d/ +/ 0/ ,/ Ai/ / d/ +/ 1/ ,/ …/ ,/ A/ ,/ Ai/ / d/ +/ d/ -/ 1/ )/ ./ 下面/ 以/ 一个/ 实例/ 简要/ 介绍/ Terrace/ 树/ ,/ 图/ 2/ 是/ 文献/ [/ 16/ ]/ 列举/ 的/ 一个/ 基于/ 8/ -/ tree/ 的/ 逻辑/ 空间/ ./ 树中/ 每个/ 节点/ 有/ 8/ 个/ 逻辑/ 地址/ ./ 除根/ 节点/ 最大/ 扇出/ 为/ 7/ 外/ ,/ 其余/ 节点/ 的/ 最大/ 扇出/ 为/ 8/ ./ 从根/ 节点/ 起/ ,/ 每/ 一个/ 节点/ 的/ 子/ 节点/ 都/ 是/ 该/ 节点/ 逻辑/ 地址/ 在/ 下/ 一个/ 基数/ 位上/ 的/ 枚举/ ,/ 而/ 节点/ 自身/ 包含/ 当前/ 基数/ 位/ 的/ 所有/ 枚举/ (/ 根/ 节点/ 例外/ ,/ 它/ 没有/ 第/ 0/ 位子/ 树/ )/ ./ 通过/ 均匀/ Hash/ 函数/ ,/ 可以/ 将/ 对象/ 映射/ 到/ 相同/ 的/ 逻辑/ 空间/ 中/ ./ Terrace/ 的/ 进一步/ 介绍/ ,/ 建议/ 有/ 兴趣/ 读者/ 参考文献/ [/ 16/ ]/ ./ 选择/ Terrace/ 构件/ 放置/ 关键/ 数据/ 的/ 原因/ 在于/ :/ (/ 1/ )/ Terrace/ 的/ 平均/ 查找/ 长度/ 为/ O/ (/ logN/ )/ ,/ 拓扑/ 维护/ 开销/ 为/ O/ (/ d/ )/ ./ (/ 2/ )/ Terrace/ 的/ 树型/ 结构/ 具有/ 非/ 对称性/ ,/ 这为/ 针对/ 不同/ (/ 可信度/ )/ 特征/ 的/ 节点/ 放置/ 提供/ 了/ 基础/ ./ (/ 3/ )/ Terrace/ 采用/ 单向/ Hash/ 函数/ ,/ 节点/ 逻辑/ 地址/ 是/ 节点/ 加入/ 拓扑/ 时/ 随机/ 获取/ 的/ ,/ 这/ 就/ 使得/ 无法/ 根据/ 节点/ 的/ 某个/ 特征/ 预先/ 决定/ 节点/ 的/ 逻辑/ 地址/ ,/ 因此/ 增强/ 了/ 关键/ 数据/ 的/ 放置/ 安全性/ ./ (/ 4/ )/ Terrace/ 具有/ 较强/ 的/ 容错/ 能力/ ./ 因为/ 每个/ 节点/ 具有/ d/ 个/ 逻辑/ 地址/ ,/ 可以/ 为/ 逻辑/ 空间/ 中/ 的/ 每个/ 节点/ 分配/ d/ 个/ 物理/ 节点/ ,/ 这/ d/ 个/ 物理/ 节点/ 组成/ 一个/ Cluster/ ,/ 提高/ 了/ 系统/ 的/ 容错/ 能力/ ./ 定义/ 11/ ./ 设/ h/ 为/ 任意/ 均匀/ 的/ Hash/ 函数/ ,/ 网络/ 中/ 节点/ i/ 的/ 逻辑/ 地址/ 在/ Terrace/ 中/ 的/ 投影/ 称为/ 节点/ i/ 的/ 档案/ 点/ Di/ ,/ 即/ Di/ =/ h/ (/ IDi/ )/ ,/ IDi/ 是/ 节点/ i/ 的/ 全局/ 唯一/ 的/ 逻辑/ 地址/ ./ 在/ ACMCM/ 中/ ,/ 对/ 文件/ 下载/ 的/ 控制/ 需要/ 下载/ 双/ Page10/ 方/ 及其/ 相应/ 档案/ 点/ 协作/ 完成/ ./ 为了/ 防止/ 节点/ 作弊/ ,/ 节点/ 的/ 关键/ 数据/ 存放/ 在/ 其/ 档案/ 点上/ ./ 在/ Terrace/ 中/ ,/ 假设/ 节点/ i/ 的/ 档案/ 点/ 是/ 节点/ k/ ,/ 节点/ i/ 共有/ N/ 下载/ 连接/ ./ 每个/ 节点/ 都/ 有/ 各自/ 的/ 公钥/ ki/ 存储/ 三类/ 数据/ :/ 节点/ i/ 相关/ 的/ 数据/ 、/ 下载/ 相关/ 的/ 数据/ 以及/ 计算/ 节点/ 信誉/ 值/ 相关/ 的/ 数据/ ./ 节点/ i/ 相关/ 的/ 数据结构/ 如图/ 3/ 所示/ ./ 图/ 3/ 中/ ,/ IDi/ 是/ 节点/ i/ 的/ 逻辑/ 地址/ ;/ ti/ 是/ 节点/ i/ 的/ 信誉/ 值/ ;/ ki/ 拟/ 货币/ 总量/ ;/ b0i/ 是/ 节点/ i/ 的/ 最大/ 接收/ 带宽/ ,/ 该值/ 是/ 根据/ 每次/ 下载/ 后/ 的/ 测量/ 结果/ 得到/ 的/ ./ 下载/ 相关/ 的/ 数据结构/ 如图/ 4/ 所示/ ./ 图/ 4/ 中/ ,/ IDn1/ 是/ 下载者/ 的/ 逻辑/ 地址/ ;/ on1/ 是/ 下载/ 的/ 文件/ 标示/ ;/ pn1on1/ 是/ 本次/ 下载/ 的/ 价格/ ;/ mn1on1/ 是/ 该/ 节点/ 已经/ 重复/ 下载/ 过/ 文件/ on1/ 的/ 次数/ ./ 计算/ 全局/ 信任/ 值/ 相关/ 的/ 数据结构/ 如图/ 5/ 所示/ ./ 图/ 5/ 中/ ,/ IDn1/ 是从/ 节点/ i/ 下载/ 过/ 文件/ 的/ 节点/ 的/ 逻辑/ 地址/ ;/ Sn1i/ 是/ 逻辑/ 地址/ 为/ IDn1/ 的/ 节点/ 下载/ 成功/ 的/ 次数/ ;/ Fn1i/ 是/ 下载/ 失败/ 的/ 次数/ ./ 每个/ 节点/ 的/ 私钥/ 存储/ 在/ 自身/ 节点/ 上/ ,/ 还有/ 一些/ 非关键/ 数据/ 也/ 存储/ 在/ 节点/ 自身/ ,/ 比如/ 调价/ 之前/ 的/ 所有/ 下载/ 请求/ 、/ 等待/ 下载/ 的/ 请求/ 、/ 未/ 完成/ 的/ 下载/ 等/ ./ 5.2/ 分布式/ 协议/ 为/ 保障/ 数据传输/ 的/ 安全/ ,/ 节点/ 之间/ 交换/ 数据/ 时/ ,/ 数据/ 发送/ 方/ 利用/ 自己/ 的/ 私钥/ 对/ 传输数据/ 进行/ 加密/ ,/ 接收/ 方/ 收到/ 密文/ 后/ 利用/ 发送者/ 的/ 公钥/ 进行/ 解密/ ./ 如/ 节点/ i/ 向/ 节点/ k/ 传输数据/ a/ 时/ ,/ 先用/ kis/ 对/ a/ 进行/ 加密/ 形成/ 密文/ (/ a/ )/ ki/ 节点/ k/ 收到/ 密文/ 后/ ,/ 向/ 节点/ i/ 的/ 档案/ 点/ Di/ 索取/ i/ 的/ p/ ,/ 然后/ 对/ 收到/ 的/ (/ a/ )/ ki/ 公钥/ ki/ 效地/ 防止/ 数据/ 在/ 交换/ 过程/ 被/ 篡改/ ,/ 同时/ 也/ 可以/ 抑制/ 节点/ 利用/ 冒名/ 和/ 诋毁/ 的/ 手段/ 破坏/ 系统/ 的/ 正常/ 运行/ ./ 限于/ 篇幅/ ,/ 我们/ 这里/ 仅/ 对/ ACMCM/ 的/ 分布式/ 协议/ 中/ 的/ 几个/ 关键/ 过程/ 进行/ 阐述/ ./ 图/ 6/ 描述/ 了/ 文件/ 下载/ 请求/ 的/ 过程/ ,/ 下载/ 请求/ 会/ 根据/ 价格/ 的/ 变化/ 而/ 转向/ 性价/ 较/ 好/ 的/ FP/ ,/ 图/ 6/ 中/ 涉及/ 到/ 的/ 几个/ 原语/ 及其/ 语义/ 如下/ :/ SeekFile/ (/ o/ )/ :/ 从/ P2P/ 文件共享/ 系统/ 中/ 查找/ 可以/ 提供/ 文件/ o/ 供/ 下载/ 的/ FP/ 集合/ ,/ 返回值/ 是/ 一个/ 节点/ 集合/ Eo/ ./ SelectNode/ (/ Eo/ )/ :/ 从/ 节点/ 集合/ Eo/ 选择/ 一个/ 性价比/ 较/ 好/ 的/ 节点/ ,/ 返回值/ 是/ 一个/ 节点/ ./ ReqFile/ (/ o/ ,/ e/ )/ :/ 向/ 节点/ e/ 发送/ 下载/ 文件/ o/ 的/ 请求/ ./ RecNewPrice/ (/ o/ ,/ e/ )/ :/ 从/ 节点/ e/ 接收/ 下载/ 文件/ oRecFileReq/ (/ o/ )/ :/ 接收/ 下载/ 文件/ o/ 的/ 请求/ ./ Tatonnement/ (/ )/ :/ 3.2/ 节/ 所述/ 的/ 价格/ 策略/ ./ 的/ 新/ 定价/ ./ 图/ 6/ 基于/ 商品/ 市场/ 模型/ 的/ 文件/ 下载/ 请求/ 过程/ 图/ 7/ 描述/ 了/ 文件/ 下载/ 过程/ 的/ 消息/ 交互/ 过程/ ,/ 交互/ 过程/ 中/ 用到/ 的/ 原语/ 及其/ 语义/ 如下/ (/ 为/ 描述/ 方便/ 我们/ 把/ 节点/ k/ 从/ 节点/ i/ 下载/ 文件/ o/ 的/ 操作/ 记/ 为/ 四元组/ 〈/ i/ ,/ download/ ,/ k/ ,/ o/ 〉/ ,/ 在/ 不/ 引起/ 歧义/ 的/ 情况/ 下/ 简记/ 为/ 〈/ i/ ,/ k/ ,/ o/ 〉/ )/ :/ PutDownloadInfo/ (/ i/ ,/ k/ ,/ o/ ,/ p/ )/ :/ 节点/ i/ 把/ 节点/ k/ 下载/ 文件/ o/ 的/ 信息/ 写入/ 到/ 档案/ 点/ Di/ 中/ ,/ 下载/ 的/ 基本/ 价格/ 为/ p/ ./ ReqQ/ (/ i/ ,/ k/ ,/ o/ ,/ p/ )/ :/ Di/ 就/ 下载/ 〈/ i/ ,/ k/ ,/ o/ 〉/ 向/ Dk/ 请求/ 本次/ 文件/ 下载/ 需要/ 支付/ 的/ 货币量/ ,/ 大小/ 为/ p/ ./ VerifyReqQ/ (/ i/ ,/ k/ ,/ o/ ,/ p/ )/ :/ Dk/ 向/ k/ 确认/ 下载/ 〈/ i/ ,/ k/ ,/ o/ 〉/ 及其/ 价格/ p/ ./ 如果/ k/ 认可/ 该/ 下载/ ,/ 返回值/ 为/ True/ ,/ 否则/ 为/ False/ ./ Page11/ 效/ ./ 并/ 为/ 下载/ 〈/ i/ ,/ k/ ,/ o/ 〉/ 支付/ 相应/ 的/ 货币/ ./ 无效/ ./ ReqQOK/ (/ i/ ,/ k/ ,/ o/ )/ :/ Dk/ 向/ Di/ 证实/ 下载/ 〈/ i/ ,/ k/ ,/ o/ 〉/ 有/ RejctReqQ/ (/ i/ ,/ k/ ,/ o/ )/ :/ Dk/ 向/ Di/ 证实/ 下载/ 〈/ i/ ,/ k/ ,/ o/ 〉/ PutDownloadInfo/ (/ i/ ,/ k/ ,/ o/ )/ :/ Di/ 向/ 节点/ i/ 证实/ 图/ 7/ 文件/ 下载/ 过程/ 图/ 8/ 描述/ 了/ 文件/ 下载/ 过程/ 被/ 中断/ 以后/ ,/ 重新/ 开始/ 下载/ 的/ 消息/ 交互/ 过程/ ,/ 用到/ 的/ 原语/ 及其/ 语义/ 如下/ ,/ ReqDownloadCont/ (/ i/ ,/ k/ ,/ o/ )/ :/ 节点/ k/ 向/ 节点/ i/ 请求/ 继续/ 下载/ 操作/ 〈/ i/ ,/ k/ ,/ o/ 〉/ ./ GetDownloadInfo/ (/ i/ ,/ k/ ,/ o/ )/ :/ 节点/ i/ 向/ 自己/ 档案/ 点/ 求证/ 下载/ 〈/ i/ ,/ k/ ,/ o/ 〉/ 是否/ 存在/ ./ 如果/ 存在/ 返回/ True/ ;/ 否则/ 返回/ False/ ./ AcceptReq/ (/ k/ ,/ m/ )/ :/ 通知/ 节点/ k/ ,/ 其/ 发出/ 的/ 请求/ RejectReq/ (/ k/ ,/ m/ )/ :/ 通知/ 节点/ k/ ,/ 其/ 发出/ 的/ 请求/ 消息/ m/ 被/ 接收/ ./ 消息/ m/ 被/ 拒绝/ ./ 在/ 下载/ 过程/ 中/ ,/ 如果/ FR/ 终止/ 下载/ 过程/ ,/ FP/ 就/ 会/ 根据/ 文件/ 定价/ 计算/ 剩余/ 下载/ 所/ 需/ 支付/ 的/ 虚拟/ 货币/ 数量/ ,/ 并/ 通知/ 其/ 档案/ 点/ 退回/ 相应/ 货币/ 到/ FR/ 的/ 档案/ 点/ ./ 该/ 过程/ 相对/ 简单/ ,/ 这里/ 不再/ 赘述/ ./ 下载/ 〈/ i/ ,/ k/ ,/ o/ 〉/ 完成/ 以后/ ,/ 节点/ i/ 的/ 档案/ 节点/ Di/ 会/ 接收/ 到/ 节点/ k/ 根据/ 下载/ 完成/ 情况/ 的/ 对/ 节点/ i/ 的/ 评价/ PutDownloadInfo/ 原语/ 操作/ 成功/ ./ DelDownloadInfo/ (/ i/ ,/ k/ ,/ o/ )/ :/ Di/ 向/ 节点/ i/ 证实/ AcceptDownloadReq/ (/ i/ ,/ k/ ,/ o/ )/ :/ 节点/ i/ 接收/ 节点/ PutDownloadInfo/ 原语/ 操作/ 未/ 成功/ ./ k/ 的/ 下载/ 〈/ i/ ,/ k/ ,/ o/ 〉/ ,/ 并/ 分配/ 连接/ ./ 消息/ ,/ Di/ 检查/ 下载/ 〈/ i/ ,/ k/ ,/ o/ 〉/ 是否/ 存在/ ./ 如果/ 存在/ 接受/ 该/ 消息/ ,/ 否则/ 拒绝接受/ 消息/ ./ 接受/ 消息/ 后/ ,/ 把/ 下载/ 的/ 价格/ 加/ 到/ 节点/ i/ 的/ 货币/ 总量/ 中/ ,/ 并/ 把/ 对/ 节点/ i/ 的/ 评价/ 写入/ 到/ Ski/ 或者/ Fki/ 中/ ./ 如/ 算法/ 2/ 所述/ ,/ 其中/ 参数/ Ev/ 是/ 节点/ k/ 对/ 本次/ 下载/ 的/ 评价/ ,/ 取值/ 为/ Succ/ 或/ UnSucess/ ,/ 分别/ 对应/ 成功/ 或/ 不/ 成功/ ./ 算法/ 2/ ./ 下载/ 〈/ i/ ,/ k/ ,/ o/ 〉/ 完成/ 后/ Di/ 的/ 处理/ 算法/ ./ ProcedureDownloadComplete/ (/ i/ ,/ k/ ,/ o/ ,/ Ev/ )/ ifGetDownloadInfo/ (/ i/ ,/ k/ ,/ o/ )/ endifend/ 节点/ Di/ 也/ 会/ 根据/ 节点/ k/ 下载/ 文件/ 的/ 大小/ 以及/ 下载/ 时/ 长/ 计算/ 节点/ k/ 的/ 接收/ 带宽/ ,/ 并/ 报告/ 给/ 节点/ Dk/ ,/ 节点/ Dk/ 根据/ 报告/ 结果/ 修改/ 节点/ k/ 的/ 最大/ 下载/ 带宽/ ./ 这个/ 过程/ 较为简单/ ,/ 在/ 此/ 不/ 给出/ 详细/ 算法/ ./ 6/ 总结/ 本文/ 提出/ 一种/ 基于/ 商品/ 市场/ 模型/ 的/ 访问控制/ 机制/ ACMCM/ ,/ 在/ P2P/ 文件共享/ 系统/ 中/ 引入/ 市场机制/ ,/ 利用/ 虚拟/ 市场调节/ 机制/ ,/ 使得/ 文件/ 下载/ 请求/ 均衡/ 地/ 分布/ 在/ 多个/ 文件/ 提供者/ 之间/ ./ 为/ 遏制/ 系统/ 中/ 的/ 重复/ 下载/ 行为/ ,/ 下载/ 文件/ 的/ 价格/ 随着/ 同一个/ 请求者/ 重/ Page12/ 复/ 下载/ 次数/ 的/ 增加/ 而/ 呈/ 指数/ 增长/ ,/ 理论/ 分析/ 证明/ 该/ 定价/ 策略/ 可以/ 有效/ 抑制/ 重复/ 下载/ 行为/ ./ 通过/ 在/ 并发/ 下载者/ 之间/ 合理/ 分配/ 带宽/ ,/ 有效/ 地/ 减少/ 了/ 下载/ 占用/ 的/ 系统/ 时间/ ./ ACMCM/ 分布式/ 协议/ 相对/ 较为简单/ ,/ 因此/ ACMCM/ 应/ 具有/ 较/ 好/ 的/ 应用/ 前景/ 和/ 较/ 好/ 的/ 工程/ 可行性/ ./ 致谢/ 感谢/ 审稿人/ 提出/ 的/ 评审/ 意见/ ,/ 这些/ 评审/ 意见/ 对/ 提高/ 论文/ 水平/ 有/ 很大/ 帮助/ !/ 

