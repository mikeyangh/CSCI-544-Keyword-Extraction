Page1/ 一种/ 面向用户/ 需求/ 的/ Web/ 服务/ 测试方法/ 许蕾/ 1/ )/ ,/ 2/ )/ 李言辉/ 1/ )/ ,/ 2/ )/ 陈林/ 1/ )/ ,/ 2/ )/ 宫敏/ 2/ )/ 颜/ 友军/ 2/ )/ 徐宝文/ 1/ )/ ,/ 2/ )/ 1/ )/ (/ 南京大学/ 计算机软件/ 新/ 技术/ 国家/ 重点/ 实验室/ 南京/ 210023/ )/ 2/ )/ (/ 南京大学/ 计算机科学/ 与/ 技术/ 系/ 南京/ 210023/ )/ 摘要/ Web/ 服务/ 对外/ 只/ 提供/ 接口/ 文档/ ,/ 可/ 利用/ 生成/ 测试用例/ 的/ 信息/ 不够/ 充分/ ,/ 现有/ 方法/ 所/ 生成/ 的/ 用例/ 冗余度/ 高/ 、/ 查错/ 能力/ 有限/ ./ 文中/ 基于/ 现有/ Web/ 服务/ 功能/ 和/ 用户/ 协同/ 推荐/ 构建/ 用户/ 需求/ 模型/ ,/ 再/ 使用/ 领域/ 知识/ 和/ 使用/ 场景/ 生成/ 测试用例/ ,/ 并/ 通过/ 实验/ 演示/ 过程/ ,/ 实验/ 结果表明/ 该文/ 方法/ 生成/ 组合/ Web/ 服务/ 测试用例/ 的/ 有效性/ ./ 以/ 用户/ 需求/ 驱动/ 组合/ Web/ 服务/ 测试/ ,/ 既/ 能/ 保证/ 所/ 选/ 服务/ 真正/ 符合/ 用户/ 需求/ ,/ 又/ 可/ 根据/ 用户/ 使用/ 场景/ 来/ 丰富/ 测试/ 需求/ 信息/ ,/ 结合/ 领域/ 知识/ 启发式/ 生成/ 测试用例/ ./ 关键词/ 组合/ Web/ 服务/ ;/ 用户/ 需求/ ;/ 测试用例/ 生成/ ;/ 使用/ 场景/ ;/ 软件测试/ 1/ 引言/ 作为/ 面向/ 服务/ 架构/ SOA/ (/ Service/ -/ OrientedArchitecture/ )/ 的/ 一种/ 实现/ 技术/ ,/ Web/ 服务/ 通过/ 标准/ 的/ Web/ 协议/ 提供/ 服务/ ,/ 以/ 保证/ 不同/ 平台/ 上/ 应用服务/ 的/ 互操作性/ ,/ 从而/ 使得/ 不同/ 开发/ 语言/ 、/ 部署/ 平台/ 、/ 通信协议/ 等/ 系统/ 之间/ 能/ 有效/ 交互/ ,/ 并/ 保证数据/ 更新/ 同步/ 及/ 信息/ 的/ 一致性/ ./ 为/ 实现/ 这种/ 互操作/ ,/ Web/ 服务/ 提供/ 了/ 一套/ 标准/ 的/ 类型/ 系统/ ,/ 用于/ 沟通/ 不同/ 的/ 平台/ 、/ 编程语言/ 和/ 组件/ 模型/ ./ 为/ 实现/ 真正/ 可信/ 、/ 可用/ 的/ Web/ 服务/ ,/ 目前/ 的/ 研究/ 主要/ 集中/ 在/ Web/ 服务/ 发现/ 、/ 服务/ 组合/ 、/ 服务/ 测试/ 等/ 方面/ ./ 尤其/ 在/ 服务/ 测试/ 方面/ (/ 现有/ 研究/ 大都/ 从/ 非/ 开发者/ 视角/ 展开/ ,/ 因为/ 从/ 开发者/ 视角/ 测试/ Web/ 服务/ 和/ 一般/ 单元测试/ 差别/ 不/ 大/ )/ ,/ 由于/ Web/ 服务/ 自身/ 提供/ 信息/ 较/ 少/ 、/ 运行/ 环境/ 复杂多变/ 以及/ 服务/ 组合/ 的/ 多样性/ ,/ 给/ Web/ 服务/ 测试/ 带来/ 很多/ 困难/ :/ 只能/ 依靠/ 接口/ 文档/ 生成/ 测试用例/ ,/ 导致/ 用例/ 冗余度/ 高/ 、/ 查错/ 能力/ 有限/ ;/ 难以/ 全面/ 估计/ 用户/ 使用/ 场景/ ,/ 容易/ 漏测/ 功能/ 点/ ;/ 服务/ 组合/ 涉及/ 到/ 多个/ 服务/ 和/ 用户/ 的/ 交互/ ,/ 一旦/ 出错/ ,/ 会/ 造成/ 严重/ 影响/ ,/ 且/ 很/ 难/ 定位/ 错误/ ./ 鉴于/ 用户/ 是/ Web/ 服务/ 的/ 使用者/ 、/ 评价者/ 和/ 最终/ 决定/ 者/ ,/ 本文/ 拟/ 通过/ 用户/ 需求/ 驱动/ 组合/ Web/ 服务/ 测试/ ,/ 既/ 可以/ 从/ 源头/ 上/ 保证/ 所/ 选/ 服务/ 真正/ 符合/ 用户/ 的/ 需求/ (/ 所/ 选/ 服务/ 作为/ 测试/ 对象/ )/ ,/ 又/ 可以/ 根据/ 用户/ 的/ 使用/ 场景/ 来/ 丰富/ 测试/ 需求/ 信息/ ,/ 并/ 结合/ 领域/ 知识/ 启发式/ 生成/ 测试用例/ ,/ 使得/ “/ 每/ 一个/ 用户/ 都/ 是/ 潜在/ 的/ 测试者/ ”/ ,/ 进而/ 保证/ 所/ 选/ 服务/ 及其/ 组合/ 流程/ 具备/ 较/ 高质量/ ./ 本文/ 第/ 2/ 节是/ 相关/ 工作/ 介绍/ ;/ 第/ 3/ 节分/ 两步/ 获取/ 用户/ 需求/ ,/ 先/ 在/ 现有/ Web/ 服务/ 功能/ 关联/ 、/ 聚类/ 基础/ 上/ 形成/ 基于/ 领域/ 知识/ 的/ 服务/ 组合/ 基础/ 模型/ ,/ 即/ 服务/ 关联/ 图/ ,/ 再/ 基于/ 用户/ 协同/ 推荐/ 建立/ 用户/ 需求/ 模型/ ,/ 表现/ 为/ 服务/ 组合/ 流程/ ;/ 第/ 4/ 节/ 在/ 第/ 3/ 节/ 所得/ 模型/ 的/ 驱动/ 下/ 生成/ 测试用例/ ,/ 即/ 从/ 用户/ 需求/ 模型/ 出发/ ,/ 使用/ 推理/ 、/ 转化/ 等/ 手段/ 形成/ 用户/ 使用/ 场景/ ,/ 进而/ 得到/ 测试/ 路径/ ,/ 并/ 最终/ 生成/ 测试用例/ ;/ 第/ 5/ 节/ 通过/ 实验/ 演示/ 过程/ 并/ 说明/ 本文/ 方法/ 生成/ Web/ 服务/ 测试用例/ 的/ 有效性/ ./ 2/ 相关/ 工作/ 软件测试/ 是/ 保障/ 软件/ 质量/ 的/ 重要/ 方法/ ./ 由于/ Web/ 服务/ 涉及/ 因素/ 众多/ ,/ 与其/ 测试/ 相关/ 的/ 方法/ 和/ 技术/ 也/ 很多/ ,/ 可以/ 从/ 功能/ 、/ 性能/ 、/ 安全性/ 等/ 多个/ 方面/ 进行/ 考虑/ [/ 1/ ]/ ,/ 并且/ 研究/ 视角/ 也/ 有/ Web/ 服务/ 开发者/ 、/ 提供者/ 、/ 集成/ 者/ 、/ 第三方/ 确认/ 者/ 和/ 用户/ 之分/ [/ 2/ ]/ ./ 可以/ 分/ 3/ 个/ 维度/ 来/ 表述/ Web/ 服务/ 的/ 测试/ 视角/ 、/ 测试/ 内容/ 和/ 测试/ 过程/ ,/ 其中/ Web/ 服务/ 的/ 测试/ 视角/ 分/ Web/ 服务/ 开发者/ 、/ 提供者/ 、/ 集成/ 者/ 、/ 第三方/ 确认/ 者/ 和/ 用户/ ,/ 角度/ 不同/ ,/ 出发点/ 不同/ ,/ 另外/ 各自/ 所/ 掌握/ 的/ 信息/ 、/ 资源/ 也/ 不同/ ;/ 测试/ 内容/ 包括/ 功能/ 、/ 性能/ 、/ 安全/ 、/ 易用性/ 、/ 可靠性/ 等/ ,/ 涉及/ 到/ Web/ 服务/ 的/ 所有/ 相关/ 方面/ ;/ 测试/ 过程/ 从/ 最初/ 的/ 用例/ 生成/ 到/ 用例/ 的/ 约简/ 、/ 优化/ ,/ 再/ 到/ 测试/ 执行/ 以及/ 测试/ 结果/ 度量/ 评估/ 、/ 后期/ 的/ 维护/ 等/ ,/ 与/ 传统/ 软件/ 的/ 测试/ 过程/ 无异/ ./ 在/ 单个/ Web/ 服务/ 测试/ 的/ 研究/ 方面/ ,/ 由于/ 用户/ 通常/ 只能/ 获得/ Web/ 服务/ 的/ 接口/ 信息/ (/ 如/ WSDL/ 文档/ )/ [/ 3/ -/ 4/ ]/ ,/ 从而/ 只能/ 进行/ 黑盒/ 测试/ [/ 5/ ]/ ,/ 即/ 通过/ 服务/ 的/ WSDL/ 描述/ 文档/ 来/ 获得/ 相关/ 的/ 测试/ 信息/ ,/ 而/ WSDL/ 文档/ 中/ 只有/ 一些/ 服务/ 名称/ 、/ 参数/ 类型/ 等/ 信息/ ,/ 由此/ 生成/ 的/ 测试用例/ 通常/ 冗余度/ 高/ 、/ 查错/ 能力/ 弱/ ;/ 虽然/ 目前/ 有/ 一些/ 研究/ 对/ WSDL/ 文档/ 进行/ 了/ 扩展/ ,/ 增加/ 了/ 一些/ 运行/ 时/ 信息/ 、/ 语义/ 信息/ 或者/ 约束条件/ [/ 6/ ]/ ,/ 例如/ 考虑/ 输入输出/ 前置/ 后置/ 条件/ IOPE/ 或者/ 引入/ 本体/ 概念/ ,/ 但/ 由于/ 无法/ 获取/ 到/ 程序代码/ ,/ 难以/ 保证/ 覆盖率/ ./ 对/ 组合/ Web/ 服务/ 测试/ 的/ 研究/ 主要/ 是/ 基于/ BPEL/ 和/ OWL/ -/ S/ 文档/ 的/ 流程/ 结构/ [/ 7/ -/ 10/ ]/ 进行/ 测试/ 或/ 采用/ 模型/ 检查/ 的/ 方法/ 进行/ 验证/ [/ 11/ -/ 12/ ]/ ./ 但/ 由于/ 运行/ 环境/ 的/ 未知/ 性/ ,/ 在/ Web/ 服务/ 实际/ 运行/ 过程/ 中/ ,/ 由于/ 网络连接/ 的/ 故障/ 或者/ 服务提供者/ 自身/ 的/ 原因/ ,/ 会/ 导致/ 某些/ 服务/ 暂时/ 不可/ 使用/ ,/ 需要/ 临时/ 更换/ 功能/ 类似/ 但/ 实现/ 方式/ 不同/ 的/ 新/ 服务/ ,/ 若/ 事先/ 没有/ 测试/ 过/ 这些/ 新/ 服务/ ,/ 则/ 通常/ 会/ 有/ 一些/ 隐患/ 或/ 组合/ 时/ 可能/ 会/ 有/ 冲突/ ;/ 另外/ ,/ Web/ 服务/ 的/ 分布式/ 和/ 并发/ 执行/ 特性/ 导致/ 有些/ 场景/ 难以/ 重现/ 和/ 回放/ ,/ 很难/ 定位/ 、/ 修复/ 故障/ ./ 因此/ ,/ 由于/ 受/ 客观条件/ 的/ 制约/ ,/ Web/ 服务/ 测试/ 研究/ 需要/ 继续/ 丰富/ 测试/ 所/ 需/ 的/ 信息/ 、/ 测试/ 组合/ Web/ 服务/ 、/ 检测/ Web/ 服务/ 并发/ 特性/ 等/ ,/ 以/ 提高/ 测试/ 的/ 自动化/ 程度/ 、/ 保障/ Web/ 服务质量/ 、/ 提高/ 用户/ 的/ 满意度/ ./ 以/ 用户/ 需求/ 为/ 驱动/ 进行/ Web/ 服务/ 组合/ ,/ 能够/ 发现/ 并/ 选择/ 满足用户/ 功能性/ 和/ 非/ 功能性/ 需求/ 的/ 服务/ [/ 13/ -/ 15/ ]/ ./ 但/ 现有/ 服务/ 数量/ 太/ 多/ ,/ 可以/ 通过/ 聚类/ [/ 16/ ]/ 或者/ 语义/ 标注/ [/ 17/ ]/ 形成/ 功能/ 相似/ 的/ 服务/ 类/ ,/ 然后/ 再/ 考虑/ 服务/ 类/ 之间/ 的/ 可能/ 组合/ ,/ 从而/ 降低/ 复杂度/ 并/ 提高效率/ ./ 这些/ 组合/ 服务/ 流程/ 体现/ 了/ 用户/ 的/ 需求/ ,/ 同时/ 也/ 反应/ 了/ 服务/ 组合/ 的/ 业务/ 逻辑/ ,/ 需要/ 确保/ 其/ 可行/ 、/ 有效/ ./ 可以/ 设计/ 对应/ 的/ 测试用例/ 来/ 检测/ 有无/ 缺陷/ 、/ 冲突/ ./ 当/ 服务提供者/ 变动/ 了/ 服务/ 、/ 服务/ 暂/ 不可/ 使用/ 以及/ 服务/ Page3/ 中/ 某些/ 属性/ 发生/ 了/ 变化/ 时/ ,/ 可能/ 有/ 需求/ 变动/ 产生/ ,/ 也/ 需要/ 考虑/ 需求/ 变动/ 带来/ 的/ 影响/ ,/ 可以/ 通过/ 回归/ 测试/ 解决/ ./ Web/ 服务/ 通常/ 只/ 提供/ 接口/ 信息/ ,/ 可/ 供/ 测试/ 的/ 资源/ 有限/ ,/ 因而/ 需要/ 增加/ 用户/ 需求/ 等/ 信息/ ./ 例如/ ,/ 分组/ 测试/ (/ GroupTesting/ )/ [/ 18/ ]/ 挑选/ 查错/ 能力/ 强/ 的/ 测试用例/ ,/ 对/ 测试用例/ 进行/ 人为/ 分组/ ,/ 组/ 之间/ 的/ 等级/ 不同/ ;/ 审计/ 测试/ (/ AuditTesting/ )/ [/ 19/ ]/ 类似/ 于/ 回归/ 测试/ ,/ 考虑/ 测试用例/ 的/ 选择/ 和/ 优化/ ,/ 即当/ 服务/ 组合/ 中/ 的/ 某个/ 服务/ 发生/ 了/ 变动/ ,/ 需要/ 测试/ 其/ 影响/ ,/ 此时/ 应/ 保证/ 最/ 重要/ 的/ 测试用例/ 先/ 执行/ ;/ 我们/ 在/ 用户/ 需求/ 驱动/ 的/ Web/ 服务/ 发现/ 和/ 测试/ 方面/ 进行/ 了/ 一些/ 研究/ ,/ 取得/ 了/ 一些/ 初步/ 研究成果/ [/ 20/ -/ 21/ ]/ ./ 在/ 此基础/ 上/ ,/ 本文/ 重点/ 研究/ 如何/ 充分利用/ 用户/ 需求/ 、/ 结合/ 领域/ 知识/ 和/ 用户/ 使用/ 场景/ 启发式/ 设计/ 生成/ Web/ 服务/ 测试用例/ ./ 3/ 获取/ 用户/ 需求/ Web/ 服务/ 由/ 用户/ 使用/ 和/ 评价/ ,/ 能否/ 被/ 采纳/ ,/ 最终/ 决定权/ 在于/ 用户/ ./ 因此/ ,/ 充分/ 研究/ 用户/ 需求/ 并/ 以此/ 为/ 驱动/ 进行/ 服务/ 的/ 组合/ 与/ 测试/ ,/ 能够/ 发挥/ 用户/ 群体/ 智能/ 、/ 丰富/ 测试/ 相关/ 信息/ 并/ 全面/ 提升/ 测试/ 效果/ ,/ 进而/ 保障/ Web/ 服务质量/ ./ 直观/ 上/ 来看/ ,/ 用户/ 需求/ 处于/ 不断/ 演变/ 中/ ,/ 没有/ 确切/ 统一/ 的/ 标准/ ,/ 具有/ 动态变化/ 性/ ,/ 难以/ 准确/ 刻画/ ./ 就/ 用户/ 本身/ 而言/ ,/ 由于/ 缺乏/ 专业知识/ ,/ 通常/ 提不出/ 具体/ 、/ 准确/ 的/ 服务/ 需求/ ./ 为此/ ,/ 需要/ 结合/ 现有/ Web/ 服务/ 的/ 特点/ 和/ 大众/ 使用/ 评价/ ,/ 建立/ 反映/ 用户/ 使用/ 特征/ 且/ 便于/ 维护/ 扩展/ 的/ 用户/ 需求/ 模型/ ,/ 以/ 方便/ 开展/ 后续/ 测试/ 工作/ ./ 我们/ 依据/ 服务/ 领域/ 知识/ 并/ 融合/ 用户/ 协同/ 推荐/ 的/ 方法/ 来/ 获取/ 用户/ 需求/ :/ 首先/ 建立/ 领域/ 知识/ 的/ 服务/ 组合/ 基础/ 模型/ ,/ 即/ 领域/ 内/ 服务/ 关联/ 图/ G/ ,/ 详见/ 3.1/ 节/ ;/ 进而/ 基于/ 用户/ 协同/ 推荐/ 形成/ 最终用户/ 需求/ 模型/ ,/ 表现/ 为/ 服务/ 组合/ 流程图/ ,/ 是/ 基础/ 模型/ G/ 的/ 子/ 图/ ,/ 详见/ 3.2/ 节/ ./ 3.1/ 基于/ 领域/ 知识/ 的/ 服务/ 组合/ 基础/ 模型/ 文档/ 的/ 形式化/ 表示/ 见/ 定义/ 1/ ./ 现有/ Web/ 服务/ 通常/ 用/ WSDL/ 文档/ 描述/ ,/ WSDL/ 定义/ 1/ ./ WSDL/ 文档/ 的/ 形式化/ 表示/ WSwsdl/ =/ 〈/ WSname/ ,/ OPSet/ 〉/ ;/ OPSet/ =/ {/ 〈/ OPname/ ,/ InputSet/ ,/ OutputSet/ 〉/ }/ ;/ InputSet/ =/ {/ 〈/ Inputname/ ,/ type/ 〉/ }/ ;/ OutputSet/ =/ {/ 〈/ Outputname/ ,/ type/ 〉/ }/ ;/ 其中/ :/ WSname/ 是/ 服务/ 的/ 名称/ ,/ 用于/ 表示/ 服务/ 对象/ ;/ OPSet/ 是/ 服务/ WSname/ 的/ 一组/ 操作/ 集合/ ,/ 一个/ 服务/ 可以/ 包括/ 多个/ 服务/ 操作/ ;/ OPname/ 是/ 一个/ 服务/ 操作/ 的/ 名称/ ,/ 用于/ 表示/ 服务/ 的/ 方法/ 对象/ ,/ 一个/ 操作/ 一般/ 包括/ 一个/ 或/ 多个/ 输入/ 、/ 输出/ 参数/ ;/ InputSet/ 是/ 服务/ 操作/ OPname/ 的/ 输入/ 参数/ 集合/ ,/ 包括/ 服务/ 操作/ 输入/ 参数/ 的/ 名称/ Inputname/ 和/ 类型/ type/ ;/ OutputSet/ 是/ 服务/ 操作/ OPname/ 的/ 输出/ 参数/ 集合/ ,/ 包括/ 服务/ 操作/ 输出/ 参数/ 的/ 名称/ Outputname/ 和/ 类型/ type/ ;/ type/ 是/ 服务/ 参数/ 所/ 对应/ 的/ 类型/ 概念/ ,/ 分为/ 简单/ 类型/ 和/ 复合/ 类型/ ./ WSwsdl/ 主要/ 描述/ Web/ 服务/ 的/ 输入输出/ 及/ 一系列/ 类型/ 和/ 条件/ 约束/ ./ 在/ 多个/ 服务/ 组合/ 时/ ,/ 需要/ 着重/ 考虑/ Web/ 服务/ 之间/ 的/ 输入输出/ 覆盖/ 关系/ ,/ 因此/ 给出/ 一个/ 简化/ 的/ Web/ 服务/ 三元组/ 模型/ ,/ 见/ 定义/ 2/ ./ 定义/ 2/ ./ 为/ 简化/ 起/ 见/ ,/ 只/ 考虑/ 服务/ 的/ 输入/ 、/ 输出/ 和/ 约束/ ,/ 定义/ Web/ 服务/ 三元组/ 为/ 其中/ In/ 和/ Out/ 是/ 描述/ 服务/ WS/ 输入/ 、/ 输出/ 的/ 功能/ 术语/ 集/ ,/ 分别/ 对应/ 定义/ 1/ 中/ 的/ InputSet/ 和/ OutputSet/ ./ Constraint/ 是/ 为了/ 实现/ 对应/ 的/ 服务/ 功能/ 而须/ 达到/ 的/ 约束/ ,/ 分为/ 输入/ 上/ 的/ 约束/ Constraint/ (/ WS/ / In/ )/ 和/ 输出/ 上/ 的/ 约束/ Constraint/ (/ WS/ / Out/ )/ ./ 假设/ 当前/ 领域/ 存在/ n/ 个/ 服务/ WS1/ ,/ WS2/ ,/ …/ ,/ WSn/ ,/ WSi/ =/ (/ Ini/ ,/ Outi/ ,/ Constrainti/ )/ ,/ 1/ / i/ / n/ ,/ 在/ 此基础/ 上/ ,/ 汇总/ 领域/ 中/ 所有/ 服务/ 的/ 输入/ 、/ 输出/ 功能/ 术语/ ,/ 形成/ 领域/ 内/ 服务/ 术语/ 集/ DT/ (/ DomainTerm/ )/ :/ 规定/ 用户/ 需求/ 的/ 输入输出/ 描述/ 从/ DT/ 中/ 选取/ ,/ 以/ 保证/ 用户/ 需求/ 的/ 规范性/ ./ 定义/ 3/ ./ 对/ 任意/ 两个/ 服务/ WSi/ 和/ WSj/ ,/ 若/ WSj/ / In/ ∩/ WSi/ / Out/ ≠/ / ,/ 则/ 存在/ WSi/ 指向/ WSj/ 的/ 关联/ 关系/ ./ 其中/ ,/ 若/ WSj/ / In/ =/ =/ WSi/ / Out/ ,/ 则/ 表明/ 两个/ 服务/ 是/ 完全/ 关联/ ;/ 否则/ ,/ 表明/ 两个/ 服务/ 是/ 部分/ 关联/ ./ 定义/ 4/ ./ 领域/ 内/ 服务/ 关联/ 图/ G/ 为/ 一个二元/ 组/ (/ Node/ ,/ Edge/ )/ ,/ 其中/ :/ Node/ =/ {/ WS1/ ,/ WS2/ ,/ …/ ,/ WSn/ }/ 为/ 节点/ 集/ ,/ 对应/ 于/ 领域/ 内/ 的/ 所有/ 服务/ ,/ WSi/ =/ (/ Ini/ ,/ Outi/ ,/ Constrainti/ )/ ,/ 1/ / i/ / n/ ;/ Edge/ 为/ 边集/ ,/ 对应/ 于/ 服务/ 间/ 的/ 关联/ ,/ 具体/ 的/ 关联/ 关系/ 有/ 顺序/ (/ Sequence/ )/ 、/ 分支/ (/ Split/ ,/ Split/ -/ Join/ ,/ Choice/ ,/ If/ -/ Then/ -/ Else/ )/ 、/ 循环/ (/ Repeat/ -/ While/ ,/ Repeat/ -/ Until/ )/ 等/ ./ 边集/ Edge/ 中/ 顺序/ 关系/ 节点/ 间/ 的/ Constraint/ 沿着/ 边/ 从/ 上/ 一/ 服务/ 节点/ 的/ Out/ 原样/ 传递/ 到/ 当前/ 节点/ 的/ In/ ;/ 分支/ 关系/ 节点/ 间/ 的/ Constraint/ 沿着/ 分支/ 边/ 从/ 上/ 一/ 服务/ 节点/ 的/ Out/ 增量/ 传递/ 到/ 当前/ 节点/ 的/ In/ ,/ 增加/ Page4/ 了/ 分支/ 边/ 成立/ 的/ 约束条件/ ;/ 循环/ 关系/ 节点/ 间/ Constraint/ 条件/ 拆/ 分为/ 顺序/ 和/ 分支/ 关系/ 处理/ ./ 定义/ 4/ 中/ 的/ 图/ G/ 包括/ 某个/ 领域/ 内/ 依据/ 关联/ 关系/ 形成/ 的/ 服务/ 以及/ 服务/ 组合/ 间/ 的/ 功能/ 蕴含/ 关系/ ,/ 是/ 基于/ 领域/ 知识/ 的/ 服务/ 组合/ 基础/ 模型/ ./ 可/ 按照/ 一定/ 的/ 策略/ 在/ 图/ G/ 上/ 选择/ 符合/ 用户/ 需求/ 的/ 子/ 图/ ,/ 详见/ 3.2/ 节/ ./ 3.2/ 基于/ 用户/ 协同/ 推荐/ 的/ 用户/ 需求/ 模型/ 用户/ 需要/ 在/ 众多/ 候选/ 服务/ 及其/ 组合/ 流程/ 中/ 做出/ 决策/ ./ 对/ 多数/ 用户/ 决策/ 最/ 有效/ 的/ 帮助/ ,/ 通常/ 来自/ 用户/ 关系/ 亲密/ 的/ 亲友/ 或/ 同事/ 以及/ 有过/ 使用/ 体会/ 的/ 其他/ 用户/ ./ 定义/ 8/ ./ 用户/ 需求/ R/ 为/ 二元/ 组/ (/ In/ ,/ Out/ )/ ,/ In/ 和/ Out/ 是/ 一组/ 从/ 领域/ 术语/ 集/ DT/ 中/ 选取/ 的/ 输入输出/ 随着/ 社交/ 网络/ 的/ 出现/ ,/ 基于/ 协同/ 过滤/ 的/ 推荐/ 方法/ 受到/ 了/ 普遍/ 关注/ ./ 协同/ 过滤/ 是/ 指/ 通过/ 计算/ 目标/ 用户/ 与/ 各个/ 基本/ 用户/ 的/ 相似性/ ,/ 搜索/ 目标/ 用户/ 的/ K/ 近邻/ ,/ 最终/ 根据/ 近邻/ 用户/ 的/ 偏好/ 估计/ 目标/ 用户/ 的/ 偏好/ [/ 22/ ]/ ./ 借鉴/ 协同/ 推荐/ 的/ 思想/ ,/ 对/ 偏好/ 相似/ 的/ 用户/ 聚类/ ,/ 形成/ 若干/ 用户群/ ,/ 群中/ 用户/ 偏好/ 相似/ ,/ 可/ 互相/ 推荐/ 感兴趣/ 的/ 事物/ ;/ 若/ 用户群/ 中/ 的/ 某个/ 用户/ 评价/ 了/ 某个/ Web/ 服务/ ,/ 则/ 该/ 评价/ 适用/ 于/ 群中/ 所有/ 用户/ ./ 具体/ 定义/ 如下/ ./ 定义/ 5/ ./ 设/ X/ 个/ 用户/ 有/ Y/ 个/ 兴趣/ ,/ 据此/ 生成/ 一个/ 用户/ 偏好/ 矩阵/ 犘/ ./ 若/ P/ 中/ 元素/ Pjk/ 为/ 1/ ,/ 表示/ 用户/ Uj/ 有/ 兴趣/ Ik/ ;/ 若/ Pjk/ 为/ 0/ ,/ 表示/ 用户/ Uj/ 无兴趣/ Ik/ ./ 其中/ ,/ 1/ / j/ / X/ ,/ 1/ / k/ / Y/ ,/ j/ ,/ k/ 为/ 整数/ ./ 定义/ 6/ ./ 若/ 任意/ 两个/ 用户/ Ua/ 、/ Ub/ 的/ 相似/ 度/ 大于/ 等于/ 某个/ 阈值/ ,/ 则/ 用户/ Ua/ 和/ Ub/ 为/ 偏好/ 相似/ 用户/ ,/ 记/ Ua/ 、/ Ub/ 的/ 相似/ 度为/ 其中/ t/ 为/ 整数/ ,/ 若/ Pit/ ,/ Pjt/ 同为/ 0/ 或/ 1/ ,/ 则/ Sim/ (/ Pit/ ,/ Pjt/ )/ =/ 1/ ;/ 否则/ Sim/ (/ Pit/ ,/ Pjt/ )/ =/ 0/ ./ 定义/ 7/ ./ 设/ 用户/ 对/ 服务/ 的/ 评价/ 矩阵/ 为/ 犆/ ,/ 若/ 犆/ 中/ 元素/ Cji/ (/ 用户/ j/ 对/ 服务/ i/ 的/ 评价/ )/ 未/ 被/ 定义/ ,/ 则/ 由/ j/ 所属/ 用户群/ g/ (/ j/ )/ 对/ 服务/ 评价/ 的/ 均值/ 来/ 定义/ ,/ 即/ Cji/ =/ Σ/ m/ ∈/ g/ (/ j/ )/ Cmi/ ×/ Sim/ (/ Uj/ ,/ Um/ )/ // Σ/ m/ ∈/ g/ (/ j/ )/ Sim/ (/ Uj/ ,/ Um/ )/ ./ 因此/ ,/ 在/ 用户/ 需求/ 不太/ 明确/ 的/ 情况/ 下/ ,/ 可以/ 参考/ 偏好/ 相似/ 用户/ 的/ 推荐/ 意见/ ,/ 即/ 在/ 领域/ 内/ 服务/ 关联/ 图/ G/ 基础/ 上/ ,/ 考虑/ 用户/ 的/ 偏好/ 以及/ 偏好/ 相似/ 用户/ 的/ 推荐/ ,/ 增加/ 一些/ 限制/ 条件/ (/ 主要/ 是非/ 功能/ 需求/ ,/ 如/ 反映/ 可达性/ 和/ 响应/ 时间/ 的/ QoS/ 指标/ 、/ 品牌/ 偏好/ 等/ ,/ 或者/ 是/ 服务/ 组合/ 的/ 偏好/ 策略/ ,/ 如/ 要求/ 组合/ 服务/ 间/ 的/ 路径/ 最短/ 或/ 要求/ 组合/ 时/ 前后/ 服务/ 完全/ 关联/ 等/ )/ ,/ 明确/ 服务/ 组合/ 流程/ 以及/ 所/ 选/ 具体/ 服务/ ./ Sim/ (/ Ua/ ,/ Ub/ )/ =/ Σ/ t/ ∈/ [/ 1/ ,/ Y/ ]/ Sim/ (/ Pit/ ,/ Pjt/ )/ // Y/ ,/ 集/ ;/ 用户/ 需求/ 模型/ ReqModel/ 为/ 领域/ 内/ 服务/ 关联/ 图/ G/ =/ (/ Node/ ,/ Edge/ )/ 的/ 子/ 图/ ,/ 并/ 增加/ 入口/ 、/ 出口/ 两个/ 虚拟/ 的/ 节点/ ,/ 表示/ 为/ 四元组/ (/ Node/ ,/ Edge/ ,/ entry/ ,/ exit/ )/ ,/ Node/ / Node/ ,/ Edge/ / Edge/ ,/ 对/ Node/ 中/ 的/ 任意/ WSi/ ,/ 满足/ WSi/ / In/ / (/ ∪/ (/ WS/ ,/ WSi/ )/ ∈/ EdgeWS/ / Out/ )/ ∪/ R/ / In/ ,/ 且/ R/ / Out/ / ∪/ WS/ / ∈/ NodeWS/ / 另外/ ,/ 需要/ 增加/ 分别/ 与/ entry/ 和/ exit/ 相连/ 的/ 边/ 到/ 集合/ Edge/ 中/ ,/ 即/ 若/ WSi/ / In/ -/ ∪/ (/ WS/ ,/ WSi/ )/ ∈/ EdgeWS/ / Out/ ≠/ / ,/ 则/ Edge/ =/ Edge/ ∪/ {/ (/ entry/ ,/ WSi/ )/ }/ ;/ 若/ WSi/ / Out/ ∩/ R/ / Out/ ≠/ / ,/ 则/ Edge/ =/ Edge/ ∪/ {/ (/ WSi/ ,/ exit/ )/ }/ ./ 用户/ 需求/ 模型/ ReqModel/ 生成/ 算法/ 的/ 核心思想/ 是/ 在/ 定义/ 4/ 形成/ 的/ 领域/ 内/ 服务/ 关联/ 图/ G/ 基础/ 上/ ,/ 根据/ 候选/ 服务/ 的/ 输出/ 是否/ 满足用户/ 需求/ 以及/ 服务/ 评价/ 矩阵/ C/ 确定/ 排序/ 策略/ ,/ 从中/ 找到/ 能/ 满足/ 约束条件/ 的/ 组合/ 服务/ 模型/ ./ 具体/ 构建/ 过程/ 见/ 算法/ 1/ ./ 算法/ 1/ ./ 用户/ 需求/ 模型/ ReqModel/ 生成/ 算法/ ./ 输入/ :/ 领域/ 内/ 服务/ 关联/ 图/ G/ (/ Node/ ,/ Edge/ )/ ,/ 服务/ 评价/ 矩/ 输出/ :/ 用户/ 需求/ 模型/ ReqModel/ (/ Node/ ,/ Edge/ ,/ entry/ ,/ {/ SWS/ =/ / ;/ // // 置空/ 已/ 选集/ SWSNWS/ =/ Node/ ;/ // // 未/ 选集/ NWS/ 为/ G/ 中/ NodeOut/ / =/ R/ / Out/ ;/ // // 将/ 用户/ 需求/ 的/ 输出/ Out/ 记为/ Out/ / Node/ =/ GenerateReqModel/ (/ Out/ / ,/ SWS/ ,/ NWS/ )/ ;/ Edge/ =/ Edge/ ∩/ {/ Node/ ×/ Node/ }/ ;/ / WSi/ ∈/ Node/ ,/ IFWSi/ / In/ -/ ∪/ (/ WS/ ,/ WSi/ )/ ∈/ EdgeWS/ / Out/ ≠/ / THENEdge/ =/ Edge/ ∪/ {/ (/ entry/ ,/ WSi/ )/ }/ ;/ / WSi/ ∈/ Node/ ,/ IFWSi/ ./ Out/ ∩/ R/ ./ Out/ ≠/ / THENEdge/ =/ Edge/ ∪/ {/ (/ WSi/ ,/ exit/ )/ }/ ;/ }/ GenerateReqModel/ (/ Out/ / ,/ SWS/ ,/ NWS/ )/ // // 需求/ 模型/ 生成/ 函数/ {/ // // 判断/ 条件/ IF/ / WSi/ ∈/ SWS/ 满足/ WSi/ / In/ / (/ ∪/ (/ WS/ / ∈/ SWS/ )/ WS/ / Out/ )/ THENRETURNSWS/ ;/ // // 排序/ 算法/ SortArrayWS/ [/ ]/ =/ Sort/ (/ Out/ / ,/ NWS/ )/ ;/ // // 将/ 未/ 选集/ NWS/ 中/ 服务/ FOR/ (/ i/ =/ 0/ ;/ i/ </ |/ NWS/ |/ ;/ i/ ++/ )/ {/ Page5GenerateReqModel/ (/ Out/ / ,/ SWS/ ,/ NWS/ )/ ;/ }/ }/ Sort/ (/ Out/ / ,/ NWS/ )/ // // 优先级/ 排序/ 函数/ {/ 根据/ |/ WS/ / Out/ ∩/ Out/ / |/ // |/ Out/ / |/ 值/ ,/ 将/ 所有/ 服务/ 降序/ 排列/ ;/ 若/ 两/ 服务/ 上述/ 取值/ 一致/ ,/ 根据/ Cji/ 大小/ 对/ 服务/ 降序/ 排列/ ;/ 将/ 排序/ 后/ 的/ NWS/ 中/ 服务/ 依次/ 写入/ 服务/ 数组/ ArraySort/ ;/ RETURNArraySort/ ;/ }/ 算法/ 1/ 中/ 并未/ 考虑/ 用户/ 需求/ In/ 和/ Out/ 上/ 的/ 约束/ 集/ Constraint/ ,/ 这/ 是因为/ Constraint/ 是/ 领域/ 相关/ 的/ ,/ 复杂/ 的/ Constraint/ 间/ 的/ 蕴含/ 关系/ 的/ 检查和/ 推导/ 往往/ 复杂度/ 很/ 高/ ,/ 甚至/ 可能/ 在/ 理论/ 上/ 是/ 不可判定/ 问题/ ,/ 无法/ 自动化/ 实现/ ./ 第/ 4/ 节将/ 通过/ 测试/ 的/ 方法/ 来/ 检验/ 生成/ 的/ 组合/ 服务/ 模型/ 可达性/ ,/ 并/ 依据/ 用户/ 使用/ 场景/ 以及/ 对应/ 的/ Constraint/ 条件/ 生成/ 测试用例/ ./ 4/ 生成/ 测试用例/ 第/ 3/ 节中/ 得到/ 的/ 用户/ 需求/ 模型/ ReqModel/ 是/ 满足用户/ 需求/ 的/ 服务/ 间/ 组合/ 流程/ ,/ 蕴含/ 了/ Web/ 服务/ 的/ 领域/ 知识/ 以及/ Web/ 服务/ 的/ 使用/ 评价/ 等/ 信息/ ,/ 可/ 据此/ 设计/ 、/ 生成/ 查错/ 效率/ 更/ 高/ 的/ 测试用例/ ,/ 克服/ 现有/ 方法/ 只能/ 生成/ 符合/ 接口/ 参数/ 类型/ 测试用例/ 的/ 不足/ ./ 流程/ 的/ 控制/ 通常/ 由/ 事件/ 来/ 触发/ 的/ ,/ 事件/ 触发/ 时/ 的/ 情景/ 形成/ 了/ 场景/ ./ 因此/ ,/ 首先/ 从/ 用户/ 使用/ Web/ 服务/ 的/ 视角/ 出发/ ,/ 将/ 用户/ 需求/ 模型/ 转化/ 为/ 用户/ 使用/ 场景/ ;/ 进而/ 采用/ 启发式/ 方法/ 进行/ 测试用例/ 的/ 生成/ 和/ 选择/ ,/ 即/ 根据/ 用户/ 使用/ 场景/ 进一步/ 明确/ 约束条件/ ,/ 以此/ 生成/ 更/ 有/ 针对性/ 、/ 查错/ 效率/ 更/ 高/ 的/ 测试用例/ ./ 4.1/ 从/ 用户/ 需求/ 模型/ 到/ 用户/ 使用/ 场景/ 如前所述/ ,/ 用户/ 需求/ 模型/ 中/ 组合/ 模型/ 的/ 流程/ 控制/ 转向/ 由/ 服务/ 的/ 执行/ 状况/ (/ 成功/ 或/ 失败/ )/ 决定/ ./ 在/ 每个/ 节点/ 上/ 增加/ 两个/ 后续/ 节点/ (/ 执行/ 成功/ 与/ 失败/ 节点/ )/ 并/ 增加/ 执行/ 成功/ 节点/ 到/ 原/ 流程图/ 后继/ 节点/ 的/ 边/ 以及/ 失败/ 节点/ 跳转/ 到/ exit/ 节点/ 的/ 边/ ,/ 形成/ 扩展/ 图/ ;/ 在/ 扩展/ 图/ 的/ 基础/ 上/ ,/ 递归/ 遍历/ 所有/ 从/ entry/ 节点/ 到/ exit/ 节点/ 的/ 可能/ 路径/ ,/ 输出/ 即/ 为/ 用户/ 使用/ 场景/ 集/ P/ (/ 若/ 流程图/ 中/ 相关/ 服务/ 均/ 成功/ 执行/ ,/ 则/ 形成/ 用户/ 使用/ 基本/ 场景/ ;/ 否则/ 对应/ 若干/ 备选/ 场景/ )/ ,/ 涵盖/ 用户/ 常用/ 及/ 较/ 特殊/ 或/ 不/ 常用/ 的/ 功能/ ./ 定义/ 9/ ./ 对于/ / SW/ ∈/ Node/ / (/ Node/ / 为/ 扩展/ 图中/ 节点/ 集/ )/ ,/ 假设/ Constraint/ (/ SW/ )/ =/ 〈/ Constraint/ (/ SW/ / In/ )/ ,/ SW/ ,/ Constraint/ (/ SW/ / Out/ )/ 〉/ 是/ SW/ 的/ 约束/ 三元组/ (/ entry/ ,/ exit/ 以及/ SW/ 的/ success/ 及/ fail/ 节点/ 的/ In/ 和/ Out/ 约束/ 为空/ )/ ,/ 通过/ 递归/ 定义/ 由/ 约束/ 三元组/ 构成/ 的/ 路径/ :/ 对于/ / SW/ ∈/ Node/ ,/ Constraint/ (/ SW/ )/ 为/ 路径/ ;/ 若/ Constraint/ (/ SWi/ )/ ,/ Constraint/ (/ SWj/ )/ ,/ …/ ,/ Constraint/ (/ SWk/ )/ 为/ 路径/ ,/ 且/ (/ SWk/ ,/ SWl/ )/ ∈/ Edge/ / ,/ 则/ Constraint/ (/ SWi/ )/ ,/ Constraint/ (/ SWj/ )/ ,/ …/ ,/ Constraint/ (/ SWk/ )/ ,/ Constraint/ (/ SWl/ )/ 也/ 为/ 路径/ ./ 在/ 此基础/ 上/ ,/ 可/ 进一步/ 得到/ 场景/ 集/ P/ 的/ 构造函数/ Construct/ (/ SW/ ,/ Path/ )/ ./ 即/ :/ 将/ 当前/ 节点/ SW/ 从/ entry/ 传递/ 到/ exit/ ,/ 在/ 其/ 过程/ 中/ ,/ 不断/ 地/ 将/ 当前/ 路径/ 扩展/ ,/ 直至/ 最后/ 获得/ 从/ entry/ 到/ exit/ 的/ 所有/ 可能/ 路径/ ,/ 每条/ 路径/ 对应/ 一个/ 测试/ 场景/ ./ 从/ 用户/ 需求/ 模型/ 到/ 用户/ 使用/ 场景/ 的/ 转化/ 见/ 算法/ 2/ ./ 由于/ 用户/ 需求/ 模型/ 中/ 可能/ 存在/ 循环/ ,/ 为/ 避免/ 场景/ 集/ P/ 为/ 无限/ 集/ ,/ 设置/ 处理/ 循环/ 的/ 计数/ Count/ ,/ 限定/ 循环/ 仅能/ 出现/ 一次/ ./ 算法/ 2/ ./ 将/ 用户/ 需求/ 模型/ 转化/ 为/ 用户/ 使用/ 场景/ ./ 输入/ :/ 服务/ 需求/ 模型/ ReqModel/ (/ Node/ ,/ Edge/ ,/ entry/ ,/ 输出/ :/ 用户/ 使用/ 场景/ UseScene/ (/ Node/ / ,/ Edge/ / ,/ entry/ ,/ {/ Node/ / =/ Node/ ;/ Edge/ / =/ / ;/ // // 初始化/ // // 扩展/ 用户/ 需求/ 模型/ / SW/ ∈/ Node/ ,/ Node/ / =/ Node/ / ∪/ {/ SW/ / success/ ,/ / (/ entry/ ,/ SWj/ )/ ∈/ Edge/ ,/ Edge/ / =/ Edge/ / ∪/ {/ (/ entry/ ,/ / (/ SWi/ ,/ SWj/ )/ ∈/ Edge/ ,/ Edge/ / =/ Edge/ / ∪/ {/ (/ SWi/ / success/ ,/ / SW/ / fail/ ∈/ Node/ / ,/ Edge/ / =/ Edge/ / ∪/ {/ (/ SWi/ / fail/ ,/ // // 遍历/ 扩展/ 图/ ,/ 得到/ 用户/ 使用/ 场景/ P/ =/ / ;/ // // P/ 为/ 场景/ (/ 从/ entry/ 的/ exit/ 路径/ )/ 集/ / Cur/ ∈/ Node/ / ,/ Count/ (/ Cur/ )/ =/ 0/ ;/ Construct/ (/ entry/ ,/ Constraint/ (/ entry/ )/ )/ ;/ }/ Construct/ (/ SW/ ,/ path/ )/ // // 场景/ 生成/ 函数/ {/ IF/ (/ SW/ =/ =/ exit/ )/ P/ =/ P/ ∪/ {/ path/ }/ ;/ // // 构造/ 场景/ 集/ PELSEFOReachnodeCur/ 满足/ (/ SW/ ,/ Cur/ )/ ∈/ Edge/ / 且/ {/ Page6path/ / =/ path/ ,/ Constraint/ (/ Cur/ )/ ;/ Count/ (/ Cur/ )/ =/ Count/ (/ Cur/ )/ +/ 1/ ;/ Construct/ (/ Cur/ ,/ path/ / )/ ;/ }/ }/ 通过/ 将/ 用户/ 需求/ 模型/ 转化/ 为/ 用户/ 使用/ 场景/ 信息/ ,/ 提取/ 、/ 保留/ 了/ 路径/ 可达/ 的/ 约束条件/ ,/ 这些/ 融合/ 了/ 领域/ 知识/ 和/ 用户/ 需求/ 的/ 约束条件/ 是/ 启发式/ 设计/ 、/ 生成/ 测试用例/ 的/ 基础/ ./ 4.2/ 为/ 每个/ 用户/ 使用/ 场景/ 生成/ 相应/ 的/ 测试用例/ 根据/ 基本/ 场景/ 和/ 备选/ 场景/ ,/ 分别/ 确定/ 场景/ 中/ 的/ 路径/ 以及/ 输入/ 、/ 输出/ 变量/ ,/ 并/ 根据/ 变量/ 之间/ 的/ 约束/ 关系/ ,/ 综合/ 等价/ 类/ 划分/ 、/ 边界值/ 分析/ 、/ 约束/ 求解/ 等/ 方式/ 生成/ 测试数据/ ./ 具体步骤/ 如下/ ./ 由/ 场景/ 目标/ 事先/ 确定/ ./ 执行/ 路径/ ;/ 足/ 的/ 约束条件/ 等/ 内容/ ;/ 价类/ 的/ 边界值/ 作为/ 测试数据/ ;/ 到/ 一些/ 可行/ 的/ 解/ 空间/ ,/ 以此/ 构成/ 等价/ 类/ ;/ (/ 1/ )/ 选定/ 场景/ ,/ 明确/ 各/ 场景/ 对应/ 的/ 功能/ 、/ 目标/ 、/ (/ 2/ )/ 依据/ 路径/ ,/ 确定/ 涉及/ 的/ 变量/ 及其/ 类型/ 、/ 须满/ (/ 3/ )/ 将/ 所有/ 的/ 约束条件/ 汇总/ ,/ 进行/ 约束/ 求解/ ,/ 得/ (/ 4/ )/ 在/ 等价/ 类中/ 选取/ 代表/ 数据/ ,/ 并/ 另外/ 选取/ 等/ (/ 5/ )/ 测试数据/ 作为/ 测试用例/ 的/ 输入/ ,/ 预期/ 输出/ 这种/ 依据/ 用户/ 使用/ 场景/ 生成/ 测试用例/ 的/ 方法/ ,/ 关注/ 用户/ 实际/ 需求/ 和/ 使用/ 习惯/ ,/ 能/ 保证/ 用户/ 常规/ 使用/ 功能/ 的/ 正确性/ 与/ 稳定性/ ;/ 另外/ ,/ 结合/ 用户/ 需求/ 和/ Web/ 服务/ 特征/ 而/ 形成/ 的/ 领域/ 知识/ 也/ 能/ 有效/ 避免/ Web/ 服务/ 其它/ 相关/ 内容/ (/ 如/ QoS/ 属性/ 、/ 与/ 其它/ 服务/ 组合/ 时/ 的/ 条件/ 等/ )/ 的/ 遗漏/ ,/ 并/ 进一步/ 缩小/ 测试数据/ 解/ 空间/ 、/ 提高/ 用例/ 生成/ 效率/ ./ 5/ 实验/ 分析/ 加拿大/ 居弗/ 大学/ 的/ EyhabAl/ -/ Masri/ 等/ 人/ 通过/ 使用/ WebServiceCrawlerEngine/ (/ WSCE/ )/ ,/ 从/ UDDI/ 、/ 搜索引擎/ 和/ 服务/ 门户网站/ 中/ 收集/ Webservice/ ,/ 并/ 度量/ 了/ 这些/ 服务/ 的/ 十几种/ QoS/ 属性/ ,/ 形成/ 了/ 一个/ 数据/ 集/ QWS/ ,/ 并/ 不断/ 扩充/ 数据/ [/ 23/ ]/ ./ 实验/ 主要/ 在/ 第一个/ 版本/ 的/ 数据/ 集上/ 进行/ ,/ 该/ 数据/ 集/ 收集/ 了/ 365/ 个/ Webservice/ 及其/ 相关/ 信息/ ./ 首先/ ,/ 根据/ 数据/ 集中/ 的/ 信息/ ,/ 获取/ 各/ WSDL/ 文档/ ./ 由于/ 网络/ 问题/ 或者/ 时间/ 原因/ ,/ 某些/ 服务/ 不再/ 对外/ 提供/ ,/ 我们/ 共/ 获取/ 到/ 198/ 个/ 真实/ 的/ WSDL/ 文档/ ,/ 作为/ 实验/ 数据/ ./ 这些/ 文档/ 对应/ 众多/ Web/ 服务/ ,/ 需要/ 进行/ 聚类/ 以/ 缩小/ 规模/ ./ 但/ 由于/ 各/ 文档/ 的/ 书写/ 习惯/ 、/ 命名/ 风格/ 等/ 差异/ 很大/ ,/ 再/ 加上/ 所/ 取样/ 本/ 未必/ 分布/ 均匀/ ,/ 导致/ 功能/ 聚类/ 难度很大/ ./ 为此/ ,/ 给出/ 服务/ 相似/ 度/ 的/ 形式化/ 定义/ ./ 定义/ 10/ ./ 存在/ 两个/ 服务/ WS1/ 、/ WS2/ ,/ 若/ 其/ 相似/ 度/ sim/ (/ WS1/ ,/ WS2/ )/ / 阈值/ ,/ 则/ WS1/ 、/ WS2/ 为/ 一类/ 服务/ ./ 其/ 相似/ 度/ 计算公式/ 如下/ :/ sim/ (/ WS1/ ,/ WS2/ )/ =/ Σ/ x/ ∈/ [/ 1/ ,/ M/ ]/ Σ/ y/ ∈/ [/ 1/ ,/ N/ ]/ Wkx/ ×/ Wky/ ×/ WordNet/ _/ sim/ (/ kx/ ,/ ky/ )/ // Σ/ x/ ∈/ [/ 1/ ,/ M/ ]/ Σ/ y/ ∈/ [/ 1/ ,/ N/ ]/ Wkx/ ×/ Wky/ (/ x/ ,/ y/ 为/ 整数/ )/ 即/ 提取/ 服务/ 中/ 的/ 服务/ 名称/ WSname/ 和/ 操作/ 名称/ OPname/ ,/ 经过/ 分词/ 、/ 去掉/ 无/ 意义/ 或/ 高频词/ 后/ 得到/ 若干/ 关键词/ ,/ 其中/ ,/ 服务/ WS1/ 中有/ M/ 个/ 关键词/ kx/ ,/ 服务/ 

