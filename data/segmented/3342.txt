Page1/ 基于/ 工序/ 集/ 的/ 动态/ 关键/ 路径/ 多/ 产品/ 制造/ 调度/ 算法/ 谢/ 志强/ 1/ )/ ,/ 2/ )/ 杨静/ 1/ )/ 周勇/ 2/ )/ 张/ 大力/ 3/ )/ 谭光宇/ 4/ )/ 1/ )/ (/ 哈尔滨工程大学/ 计算机科学/ 与/ 技术/ 学院/ 哈尔滨/ 150001/ )/ 2/ )/ (/ 哈尔滨理工大学/ 计算机科学/ 与/ 技术/ 学院/ 哈尔滨/ 150080/ )/ 4/ )/ (/ 哈尔滨理工大学/ 机械动力/ 工程学院/ 哈尔滨/ 150080/ )/ 3/ )/ (/ 卡尔加里/ 大学/ 数学/ 与/ 统计/ 系/ 加拿大/ )/ 摘要/ 针对/ 已有/ 的/ 树状/ 结构/ 多/ 产品/ 加工/ 和/ 装配/ 综合/ 调度/ 方法/ ,/ 不能/ 兼顾/ 树状/ 结构/ 纵横/ 双向/ 、/ 影响/ 调度/ 结果/ 的/ 问题/ ,/ 提出/ 基于/ 工序/ 集/ 的/ 动态/ 关键/ 路径/ 多/ 产品/ 制造/ 调度/ 算法/ ./ 该/ 算法/ 首先/ 采用/ 根/ 对齐/ 的/ 方法/ ,/ 将/ 多个/ 树状/ 结构/ 的/ 产品/ 转化成/ 一个/ 虚拟/ 加工/ 树/ ,/ 使多/ 产品/ 调度/ 问题/ 简化/ 为单/ 产品/ 调度/ 问题/ ;/ 在/ 调度/ 过程/ 中/ ,/ 根据/ 虚拟/ 加工/ 树/ 动态/ 生成/ 可/ 调度/ 的/ 备选/ 工序/ 集合/ ,/ 按/ 提出/ 的/ 动态/ 关键/ 路径/ 策略/ 和/ 短用/ 时/ 调度/ 策略/ 从/ 备选/ 集中/ 选择/ 工序/ ,/ 并/ 应用/ 首次/ 适应/ 调度/ 法/ 调度/ 工序/ ,/ 直到/ 备选/ 集合/ 为空/ ,/ 即/ 所有/ 产品/ 加工/ 完毕/ ,/ 实现/ 以/ 纵向/ 为主/ 兼顾/ 横向/ 的/ 双向/ 调度/ 优化/ ./ 实例/ 证明/ ,/ 算法/ 对/ 多/ 产品/ 加工/ 和/ 装配/ 综合/ 调度/ 问题/ 可以/ 获得/ 更优/ 的/ 解/ ./ 关键词/ 动态/ 关键/ 路径/ ;/ 虚拟/ 加工/ 树/ ;/ 备选/ 工序/ 集/ ;/ 多/ 产品/ 制造/ ;/ 首次/ 适应/ 调度/ 法/ 1/ 引言/ 在/ 实际/ 生产/ 中/ ,/ 一般/ 产品/ 是/ 由/ 一组/ 存在/ 约束/ 关系/ 的/ 工件/ 按照/ 树状/ 工艺/ 图/ 装配/ 而成/ ,/ 而/ 工件/ 是/ 由/ 一串/ 前后/ 约束/ 的/ 工序/ 组成/ ./ 所以/ ,/ 产品/ 加工/ 、/ 装配/ 工艺/ 图是/ 树状/ 结构/ 的/ ./ 当/ 树状/ 结构/ 的/ 产品品种/ 多且/ 数量/ 少/ ,/ 产品/ 加工/ 和/ 装配/ 需要/ 综合/ 考虑/ 时/ ,/ 为了/ 简化/ 调度/ 分析/ ,/ 将/ 加工/ 、/ 装配/ 设备/ 定义/ 为/ 设备/ 统一/ 调度/ ,/ 并/ 统一/ 定义/ 加工/ 、/ 装配/ 为/ 加工/ ./ 树状/ 结构/ 产品/ 加工/ 和/ 装配/ 综合/ 调度/ 问题/ ,/ 不同于/ 一般/ 产品/ 调度/ 问题/ :/ 将/ 产品/ 分解成/ 工件/ ,/ 先/ 进行/ 工件/ 的/ 加工/ ,/ 再/ 装配/ 加工/ 好/ 的/ 工件/ ,/ 即/ 加工/ 和/ 装配/ 是/ 分别/ 进行/ 的/ ./ 加工/ 和/ 装配/ 综合/ 调度/ 是/ 按/ 产品/ 树状/ 结构/ 约束/ 同时/ 进行/ ./ 为了/ 实现/ 树状/ 结构/ 产品/ 内在/ 加工/ 和/ 装配/ 充分/ 并行/ ,/ 缩短/ 产品/ 加工/ 总/ 时间/ ,/ 文献/ [/ 1/ ]/ 提出/ 了/ 基于/ ACPM/ 和/ BFSM/ 的/ 动态/ Job/ -/ Shop/ 调度/ 算法/ ,/ 该/ 算法/ 虽然/ 为/ 解决/ 多/ 产品/ 加工/ 和/ 装配/ 综合/ 调度/ 提供/ 了/ 较/ 好/ 的/ 解决方案/ ,/ 但/ 该/ 算法/ 注重/ 产品/ 树状/ 结构/ 的/ 纵向/ —/ —/ —/ 特别/ 是/ 关键/ 路径/ 上/ 工序/ 对/ 调度/ 结果/ 的/ 影响/ ,/ 忽略/ 横向/ —/ —/ —/ 其它/ 路径/ 上/ 不同/ 设备/ 工序/ 可/ 并行处理/ ;/ 针对/ 这一/ 问题/ ,/ 文献/ [/ 2/ ]/ 提出/ 了/ 可/ 动态/ 生成/ 具有/ 优先级/ 工序/ 集/ 的/ 动态/ Job/ -/ Shop/ 调度/ 算法/ ,/ 该/ 算法/ 采用/ 层/ 优先/ 、/ 短用/ 时/ 和/ 长/ 路经/ 策略/ 调度/ 工序/ ,/ 重点/ 考虑/ 产品/ 树状/ 结构/ 的/ 横向/ ,/ 在/ 横向/ 层/ 的/ 基础/ 上/ 考虑/ 纵向/ 路经/ ,/ 由于/ 该/ 算法/ 比/ 文献/ [/ 1/ ]/ 注重/ 其它/ 路径/ 上/ 不同/ 设备/ 工序/ 的/ 并行处理/ ,/ 所以/ 文献/ [/ 2/ ]/ 提出/ 的/ 算法/ 优于/ 文献/ [/ 1/ ]/ 的/ 算法/ (/ 详细情况/ 见/ 实例/ 对比/ )/ ./ 文献/ [/ 2/ ]/ 虽然/ 较优/ ,/ 但/ 其/ 重横轻/ 纵/ 的/ 策略/ 不/ 符合/ 树状/ 结构/ 产品/ 调度/ 以/ 纵向/ 为主/ 的/ 机理/ ./ 于是/ 提出/ 兼顾/ 文献/ [/ 1/ -/ 2/ ]/ 优点/ 的/ 基于/ 工序/ 集/ 的/ 动态/ 关键/ 路径/ 多/ 产品/ 制造/ 调度/ 算法/ ,/ 实现/ 更优/ 的/ 以/ 纵/ 为主/ 兼顾/ 横向/ 的/ 调度/ 方案/ ./ 本文/ 首先/ 根据/ 单个/ 产品/ 树状/ 工艺/ 结构/ 的/ 特点/ ,/ 将/ 产品/ 转换成/ 相应/ 的/ 加工/ 树/ ,/ 按/ 提出/ 的/ 动态/ 关键/ 路径/ 策略/ 和/ 短用/ 时/ 策略/ 调度/ ,/ 分析/ 提出/ 的/ 算法/ ;/ 然后/ 将/ 所要/ 调度/ 的/ 多个/ 产品/ 所/ 对应/ 的/ 加工/ 树以/ 根/ 对齐/ 的/ 方式/ 构造/ 成/ 一棵/ 虚拟/ 加工/ 树/ ,/ 使多/ 产品/ 调度/ 问题/ 转换成/ 单/ 产品/ 调度/ 问题/ ,/ 再用/ 单个/ 产品/ 调度/ 方法/ 进行/ 处理/ ,/ 最后/ 通过/ 实例/ 进行/ 验证/ 比较/ ./ 2/ 问题/ 描述/ 本文/ 所/ 研究/ 的/ 问题/ 是/ 在/ 满足/ 3/ 个/ 约束条件/ 的/ 前提/ 下/ 使得/ 加工/ 完/ 多个/ 不同/ 树状/ 结构/ 的/ 产品/ 所用/ 的/ 时间/ 尽可能/ 地少/ ./ 这/ 3/ 个/ 约束条件/ 是/ :/ (/ 1/ )/ 对于/ 每/ 道工序/ 来说/ ,/ 必须/ 等待/ 其/ 所有/ 的/ 前/ 继/ 工序/ 加工/ 完毕/ 后/ 才能/ 处理/ 此/ 道工序/ ;/ (/ 2/ )/ 对于/ 每台/ 设备/ 来说/ ,/ 任意/ 时刻/ 只能/ 加工/ 一道/ 工序/ ,/ 且/ 必须/ 满足/ 加工/ 完/ 一道/ 工序/ 后/ 才能/ 加工/ 另/ 一道/ 工序/ [/ 3/ ]/ ;/ (/ 3/ )/ 不/ 存在/ 相同/ 设备/ ./ 由于/ 产品/ 工序/ 的/ 开始/ 加工/ 时间/ 必须/ 等/ 其/ 紧前/ 工序/ 加工/ 完毕/ ,/ 产品/ 加工/ 完毕/ 的/ 时间/ 为/ 各/ 设备/ 完工/ 的/ 最大/ 时间/ 值/ ,/ 所以/ 优化/ 产品/ 完工/ 时间/ 的/ 数学/ 描述/ 为/ s/ ./ t/ ./ min/ (/ tij/ )/ T/ =/ min/ {/ max/ {/ Ei/ }/ }/ ,/ tij/ +/ 1/ / tij/ +/ gij/ ,/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ M/ ;/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ ntxy/ / max/ (/ tij/ +/ gij/ )/ 其中/ ,/ Ei/ 是/ 设备/ i/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ M/ )/ 上/ 最后/ 一个/ 工序/ 的/ 完工/ 时间/ ,/ T/ 是/ 调度/ 优化/ 目标/ :/ 产品/ 尽早/ 完工/ ;/ tij/ 为/ 设备/ i/ 的/ 第/ j/ 个/ 工序/ 的/ 开始/ 加工/ 时间/ ,/ min/ (/ tij/ )/ 表示/ 各/ 工序/ 在/ 满足/ 两个/ 不等式/ 约束条件/ 下/ 尽早/ 开始/ ;/ 两个/ 不等式/ 分别/ 表示/ 工序/ 加工/ 的/ 约束条件/ ,/ tij/ +/ 1/ / tij/ +/ gij/ 表示/ 相同/ 设备/ 上/ 后面/ 工序/ 的/ 开始/ 时间/ 须/ 在/ 前面/ 工序/ 结束/ 后/ ,/ gij/ 为/ 设备/ i/ 的/ 第/ j/ 个/ 工序/ 的/ 连续/ 加工/ 时间/ ;/ txy/ / max/ (/ tij/ +/ gij/ )/ 表示/ 工艺/ 图中/ 后面/ 工序/ 的/ 开始/ 时间/ 须/ 在/ 前面/ 工序/ 结束/ 后/ ,/ xy/ 工序/ 是/ ij/ 工序/ 的/ 后续/ 工序/ ./ 3/ 问题/ 分析/ 3.1/ 加工/ 树/ 模型/ 与/ 工序/ 分类/ 由于/ 单个/ 产品/ 的/ 工艺/ 图/ 呈/ 树状/ 结构/ ,/ 只是/ 边/ 的/ 方向/ 与/ 树/ 相反/ ,/ 这里/ 称之为/ 加工/ 树/ ./ 加工/ 树上/ 的/ 节点/ 代表/ 工序/ ,/ 有/ 向/ 边/ 表示/ 工序/ 加工/ 次序/ 的/ 偏序/ 关系/ ./ 其中/ ,/ 叶/ 节点/ 工序/ 为/ 初始/ 时/ 可/ 被/ 加工/ 工序/ ,/ 根/ 节点/ 工序/ 为/ 最后/ 被/ 加工/ 的/ 工序/ ./ 当根/ 节点/ 工序/ 加工/ 完毕/ ,/ 表明/ 此/ 产品/ 加工/ 完毕/ ./ 设有/ 产品/ m/ 个/ ,/ 共/ 包含/ n/ 个/ 工序/ ./ 尽管/ 各个/ 产品/ 的/ 加工/ 流程/ 是/ 不/ 相同/ 的/ ,/ 但是/ 它们/ 的/ 工艺/ 图/ 都/ 是/ 树状/ 结构/ 的/ ./ 在/ 某个/ 工序/ 调度/ 完毕/ 后/ ,/ 剩下/ 的/ 待/ 调度/ 工序/ 的/ 工艺/ 图/ 仍/ 为/ 树状/ 结构/ [/ 4/ ]/ ./ 若/ 将/ 一个/ 产品/ 看作/ 一个/ 更大/ 的/ 虚拟/ 产品/ 的/ 分枝/ ,/ 则/ 可/ 将/ 多/ 产品/ 虚拟/ 成/ 一个/ 产品/ ,/ 将/ 多/ 产品/ 问题/ 简化/ 成/ 单/ 产品/ 问题/ ./ 因此/ ,/ 可先/ 对/ 单个/ 产品/ 加工/ 流程/ 进行/ 分析/ ./ 由/ 加工/ 树/ 和/ 问题/ 的/ 约束条件/ 可知/ ,/ 初始/ 时/ 只能/ 调度/ 某个/ 叶/ 节点/ 工序/ ./ 当/ 某个/ 节点/ 工序/ 的/ 所有/ 子/ 节点/ 工序/ 全部/ 加工/ 完毕/ ,/ 则/ 此/ 节点/ 工序/ 就/ 转换/ 为叶/ 节点/ 工序/ ./ 按/ 文献/ [/ 2/ ]/ 对/ 工序/ 分类/ :/ 可/ 调度/ 工序/ 是/ 属于/ 某/ 空闲/ 设备/ 的/ 叶/ 节点/ 工序/ ;/ 准可/ 调度/ 工序/ 是/ 属于/ 某/ Page3/ 非/ 空闲/ 设备/ 的/ 叶/ 节点/ 工序/ ;/ 不可/ 调度/ 工序/ 是/ 所有/ 非叶/ 节点/ 工序/ ;/ 所有/ 可/ 调度/ 工序/ 和准/ 可调/ 工序/ 的/ 工序/ 集/ 为/ 备选/ 工序/ 集/ ;/ 若/ 满足/ pij/ / pik/ ,/ 且/ 无/ pim/ 在/ pij/ 与/ pik/ 之间/ ,/ 则/ 称/ pik/ 为/ pij/ 的/ 直接/ 后继/ 工序/ ./ 3.2/ 调度/ 策略/ 设计/ 与/ 分析/ 设/ n1/ ,/ n2/ ,/ …/ ,/ nr/ 为/ 加工/ 树上/ 的/ 节点/ ,/ n1/ 为叶/ 节点/ ,/ nr/ 为根/ 节点/ ,/ ni/ +/ 1/ 是/ ni/ 的/ 父/ 节点/ ,/ 加工/ r/ 个/ 节点/ 工序/ 需要/ 时间/ 为/ t1/ ,/ t2/ ,/ …/ ,/ tr/ ,/ 则/ 此/ 节点/ 序列/ 表示/ 的/ 路径/ 长度/ 为/ T/ =/ ∑/ r/ 设/ 加工/ 树上/ 有/ w/ 个叶/ 节点/ ,/ 路径/ r1/ ,/ r2/ ,/ …/ ,/ rw/ 的/ 长度/ 分别/ 为/ T1/ ,/ T2/ ,/ …/ ,/ Tw/ ./ 若/ 路径/ rm/ 的/ 路径/ 长度/ Tm/ =/ max/ {/ T1/ ,/ T2/ ,/ …/ ,/ Tw/ }/ ,/ 则/ 由/ 文献/ [/ 1/ ]/ 知/ ,/ 路径/ rm/ 为/ 关键/ 路径/ ./ 由于/ 关键/ 路径/ 是/ 任务/ 图中/ 加工/ 时间/ 最长/ 的/ 路径/ ,/ 所以/ 关键/ 路径/ 工序/ 的/ 有效/ 调度/ 将/ 在/ 很大/ 程度/ 上/ 影响/ 产品/ 加工/ 时间/ ./ 虽然/ 文献/ [/ 1/ ]/ 提出/ 的/ 拟/ 关键/ 路径/ 法在/ 调度/ 过程/ 中/ 优先/ 调度/ 关键/ 路径/ 上/ 的/ 工序/ ,/ 但是/ 由于/ 从/ 产品/ 加工/ 树/ 只能/ 先/ 调度/ 叶/ 节点/ 工序/ ,/ 剩下/ 的/ 待/ 调度/ 工序/ 加工/ 流程/ 仍为/ 树状/ 结构/ ,/ 当/ 优先/ 调度/ 关键/ 路径/ 上/ 的/ 工序/ 后/ ,/ 剩余/ 加工/ 树/ 的/ 关键/ 路径/ 可能/ 发生变化/ [/ 5/ ]/ ,/ 如果/ 始终/ 坚持/ 产品/ 开始/ 加工/ 时/ 确定/ 的/ 关键/ 路径/ 调度/ ,/ 不能/ 保证/ 总是/ 优先/ 调度/ 变化/ 了/ 的/ 关键/ 路径/ 上/ 的/ 工序/ ./ 另外/ ,/ 由于/ 工序/ 是从/ 备选/ 集合/ 中/ 调度/ 的/ ,/ 所以/ 很/ 可能/ 出现/ 多个/ 可/ 调度/ 工序/ 同时/ 争夺/ 一台/ 设备/ 的/ 情况/ ./ 假设/ 在/ 某/ 一/ 时刻/ 有/ k/ 个/ 工序/ 争夺/ 设备/ ,/ 则/ 将/ 这些/ 工序/ 调度/ 到/ 设备/ 上/ 的/ 排列/ 一共/ 有/ k/ !/ 种/ ,/ 从而/ 使/ 总/ 的/ 加工/ 时间/ 有/ k/ !/ 种/ ./ 为了/ 确定/ 唯一/ 的/ 被/ 调度/ 工序/ ,/ 文献/ [/ 2/ ]/ 提出/ 了/ 层/ 优先/ 、/ 短用/ 时/ 和/ 长/ 路经/ 调度/ 策略/ ,/ 该/ 策略/ 虽然/ 比/ 文献/ [/ 1/ ]/ 兼顾/ 产品/ 树状/ 结构/ 具有/ 纵横/ 双向/ 的/ 特点/ ,/ 考虑/ 了/ 纵横/ 双向/ 调度/ 优化/ ,/ 但/ 由于/ 以/ 横向/ 为主/ ,/ 忽略/ 纵向/ (/ 特别/ 是/ 关键/ 路径/ )/ 对/ 调度/ 结果/ 的/ 主要/ 影响/ ./ 为此/ ,/ 本文/ 提出/ 了/ 动态/ 关键/ 路径/ 、/ 短用/ 时/ 和/ 首次/ 适应/ 调度/ 策略/ ./ 在/ 将/ 可/ 调度/ 工序/ 和/ 准/ 可/ 调度/ 工序/ 加入/ 备选/ 工序/ 集/ 以后/ ,/ 具体/ 应用/ 调度/ 工序/ 策略/ 的/ 顺序/ 是/ :/ 首先/ ,/ 用/ 动态/ 关键/ 路径/ 策略/ 选出/ 调度/ 工序/ ,/ 在/ 动态/ 关键/ 路径/ 策略/ 不能/ 唯一/ 确定/ 调度/ 工序/ 的/ 情况/ 下/ 再/ 应用/ 短用/ 时/ 策略/ ,/ 对/ 选择/ 的/ 工序/ 应用/ 首次/ 适应/ 调度/ 策略/ 确定/ 加工/ 时间/ ./ 本文/ 提出/ 的/ 调度/ 策略/ 具体/ 描述/ 和/ 分析/ 如下/ ./ 3.2/ ./ 1/ 动态/ 关键/ 路径/ 策略/ 关键/ 路径/ 对/ 调度/ 结果/ 有/ 重要/ 影响/ ,/ 而/ 剩余产品/ 的/ 关键/ 路径/ 随/ 调度/ 变化/ 调整/ ,/ 为了/ 充分/ 、/ 实时/ 地/ 发挥/ 、/ 体现/ 关键/ 路径/ 作用/ ,/ 提出/ 了/ 动态/ 关键/ 路径/ 法/ ./ 动态/ 关键/ 路径/ 法/ 的/ 基本/ 思想/ 是/ 每次/ 工序/ 调度/ 前/ ,/ 先/ 计算/ 出新/ 的/ 关键/ 路径/ ,/ 选择/ 新/ 计算/ 出/ 的/ 关键/ 路径/ 上/ 的/ 叶/ 节点/ 工序/ 调度/ ./ 计算/ 新/ 的/ 关键/ 路径/ 就是/ 比较/ 剩余产品/ 各/ 路径/ 的/ 长度/ ,/ 路径/ 长/ 的/ 为/ 新/ 关键/ 路径/ ./ 动态/ 关键/ 路径/ 法/ 不仅/ 充分/ 、/ 实时/ 地/ 发挥/ 、/ 体现/ 关键/ 路径/ 对/ 调度/ 结果/ 有/ 重要/ 影响/ ,/ 而且/ 由于/ 每次/ 调度/ 都/ 选择/ 加工/ 时间/ 最长/ 路径/ 上/ 的/ 工序/ ,/ 不仅/ 兼顾/ 工序/ 横向/ 间/ 的/ 联系/ ,/ 而且/ 从/ 两个/ 方面/ 考虑/ 增加/ 工序/ 的/ 并行处理/ :/ (/ 1/ )/ 横向/ 不同/ 设备/ 上/ 的/ 工序/ 是/ 可/ 并行/ 加工/ 的/ ;/ (/ 2/ )/ 被/ 调度/ 工序/ 的/ 后继/ 工序/ 有/ 较/ 多/ 的/ 机会/ 与/ 其它/ 工序/ 并行/ 加工/ ./ 产品/ 总/ 的/ 加工/ 时间/ 取决于/ 并行/ 加工/ 的/ 时间/ ,/ 并行/ 加工/ 的/ 时间/ 越长/ ,/ 总/ 的/ 加工/ 时间/ 就/ 会/ 缩短/ ,/ 反之/ ,/ 就/ 会/ 增加/ [/ 6/ -/ 8/ ]/ ./ 为什么/ 按/ 上面/ 第/ (/ 2/ )/ 点/ 动态/ 选择/ 长/ 路径/ 上/ 的/ 工序/ ,/ 被/ 调度/ 工序/ 的/ 后继/ 工序/ 有/ 较/ 多/ 的/ 机会/ 与/ 其它/ 工序/ 并行/ 加工/ ?/ 原因/ 是/ :/ 设/ 工序/ pij/ 路径/ 长度/ 为/ Tj/ ,/ 工序/ pik/ 路径/ 长度/ 为/ Tk/ ,/ Tj/ </ Tk/ ./ 若先/ 调度/ pij/ ,/ 则/ 剩余/ 未/ 调度/ 的/ 工序/ 并行/ 加工/ 的/ 时间/ 便/ 取决于/ Tj/ ;/ 先/ 调度/ pij/ 较之/ 先/ 调度/ pik/ 会/ 导致/ 剩余/ 工序/ 并行/ 加工/ 时间/ 缩短/ ,/ 从而/ 使/ 整个/ 加工/ 时间/ 增加/ ./ 所以/ ,/ 为了/ 增加/ 并行/ 加工/ 的/ 时间/ ,/ 对于/ 可/ 调度/ 工序/ pi1/ ,/ pi2/ ,/ …/ ,/ pim/ ,/ 应该/ 首先/ 调度/ 路径/ 长度/ 最大/ 的/ 工序/ ./ 通过/ 以上/ 分析/ ,/ 说明/ 动态/ 关键/ 路径/ 策略/ 既/ 考虑/ 到/ 关键/ 路径/ 变化/ 的/ 动态性/ ,/ 又/ 考虑/ 到/ 调度/ 优化/ 对/ 并行/ 加工/ 的/ 充分/ 要求/ ,/ 因此/ ,/ 该/ 策略/ 不仅/ 比/ 文献/ [/ 1/ ]/ 的/ 拟/ 关键/ 路径/ 法/ 灵活/ ,/ 而且/ 比/ 文献/ [/ 2/ ]/ 更/ 注重/ 长/ 路径/ 对/ 调度/ 结果/ 的/ 影响/ ./ 3.2/ ./ 2/ 短用/ 时/ 策略/ 若/ 存在/ 可/ 调度/ 工序/ pi1/ ,/ pi2/ ,/ …/ ,/ pim/ ,/ 用时/ 分别/ 为/ ti1/ ,/ ti2/ ,/ …/ ,/ tim/ ,/ 它们/ 所在/ 的/ 路径/ 长度/ 相同/ ,/ 都/ 为/ Ti/ ./ 设/ pij/ ∈/ {/ pi1/ ,/ pi2/ ,/ …/ ,/ pim/ }/ ,/ tij/ =/ min/ {/ ti1/ ,/ ti2/ ,/ …/ ,/ tim/ }/ ,/ p1ij/ 为/ pij/ 的/ 直接/ 后继/ 工序/ ./ 由于/ pij/ 的/ 用/ 时/ 最少/ ,/ 优先/ 调度/ 它/ 有/ 3/ 个/ 明显/ 的/ 优点/ :/ (/ 1/ )/ 调度/ 完/ pij/ ,/ 可以/ 使/ 其/ 后继/ 工序/ p1ij/ 获得/ 比较/ 早/ 的/ 被/ 加工/ 时间/ [/ 9/ -/ 10/ ]/ ;/ (/ 2/ )/ 对于/ 集合/ {/ pi1/ ,/ pi2/ ,/ …/ ,/ pim/ }/ -/ {/ pij/ }/ 中/ 的/ 工序/ 来说/ ,/ 也/ 可以/ 比较/ 早/ 获得/ 设备/ Mi/ ,/ 从而/ 使/ 其/ 后继/ 的/ 工序/ 也/ 能够/ 较/ 早/ 被/ 加工/ ,/ 这样/ 就/ 可以/ 缩短/ 总/ 的/ 加工/ 时间/ ;/ (/ 3/ )/ 可以/ 充分利用/ 那些/ 较/ 小/ 的/ 空闲/ 时段/ ,/ 尽量/ 做到/ 使/ 设备/ 忙/ ./ 综合/ 以上/ 分析/ ,/ 当/ 工序/ 具有/ 相同/ 的/ 路径/ 长度/ 时/ 应该/ 调度/ 用/ 时少/ 的/ 工序/ ./ 3.2/ ./ 3/ 首次/ 适应/ 调度/ 策略/ 由/ 问题/ 描述/ 中/ 优化/ 产品/ 完工/ 时间/ 的/ 数学/ 描述/ 知/ :/ 为了/ 实现/ min/ {/ max/ {/ Ei/ }/ }/ ,/ 需要/ 在/ 满足/ tij/ +/ 1/ / Page4tij/ +/ gij/ 和/ txy/ / max/ (/ tij/ +/ gij/ )/ 的/ 条件/ 下/ 实现/ min/ (/ tij/ )/ ./ 为了/ 实现/ min/ (/ tij/ )/ ,/ 使/ 各/ 工序/ 在/ 满足/ 两个/ 不等式/ 约束条件/ 下/ 尽早/ 开始/ ,/ 在/ 工序/ 所在/ 加工/ 设备/ 上/ 选择/ 最早/ 适合/ 加工/ 的/ 空隙/ 加工/ 此/ 工序/ ,/ 即/ 在/ 加工/ 设备/ 上/ 从前/ 向/ 后/ 寻找/ 第/ 1/ 个/ 适合/ 该/ 工序/ 加工/ 的/ 空隙/ ./ 这/ 就是/ 首次/ 适应/ 调度/ 策略/ ./ 3.3/ 虚拟/ 加工/ 树/ 对于/ 产品/ 集合/ {/ P1/ ,/ P2/ ,/ …/ ,/ Pi/ ,/ …/ ,/ Pm/ }/ ,/ 将/ 每个/ 产品/ 的/ 加工/ 树/ 作为/ 一棵/ 更/ 大树/ 的/ 根子/ 树/ ,/ 这棵/ 更/ 大/ 的/ 树为/ 虚拟/ 加工/ 树/ ./ 虚拟/ 加工/ 树是/ 采取/ 将/ 产品/ 树根/ 对齐/ 的/ 方式/ 构造/ ,/ 每个/ 产品/ 加工/ 树/ 的/ 根/ 作为/ 虚拟/ 根/ 节点/ 的/ 儿子/ 节点/ ./ 因为/ 虚拟/ 加工/ 树/ 也/ 是/ 树状/ 结构/ ,/ 且/ 包含/ 所有/ 待/ 加工/ 的/ 产品/ ,/ 满足/ 单个/ 产品/ 的/ 性质/ ,/ 所以/ 采用/ 虚拟/ 加工/ 树/ 就/ 可以/ 将/ 多个/ 产品/ 的/ 问题/ 简化/ 成为/ 单个/ 产品/ 的/ 问题/ ,/ 完全/ 可以/ 应用/ 以上/ 提出/ 的/ 调度/ 策略/ 调度/ 虚拟/ 加工/ 树上/ 的/ 工序/ ./ 4/ 算法/ 设计/ 针对/ 多/ 产品/ 制造/ 调度/ 问题/ 设计/ 算法/ 如下/ :/ 1/ ./ 对/ 各个/ 产品/ 按/ 工序/ 约束/ 构造/ 加工/ 工艺/ 树/ ./ 2/ ./ 构造/ 虚拟/ 加工/ 树/ ./ 3/ ./ 根据/ 虚拟/ 加工/ 树/ 将/ 可/ 调度/ 工序/ 和/ 准/ 可/ 调度/ 工序/ 加入/ 备选/ 工序/ 集/ ./ 若/ 备选/ 工序/ 集为/ 空/ ,/ 则/ 说明/ 所有/ 工序/ 加工/ 完毕/ ,/ 这时/ 转到第/ 6/ 步/ ./ 4/ ./ 根据/ 动态/ 关键/ 路径/ 策略/ 从/ 备选/ 工序/ 集中/ 选取/ 路径/ 最长/ 的/ 可/ 调度/ 工序/ ./ 若/ 工序/ 唯一/ ,/ 则/ 选取/ 此/ 工序/ ,/ 若/ 工序/ 不/ 唯一/ ,/ 则/ 选取/ 用时/ 最少/ 的/ 工序/ ./ 5/ ./ 应用/ 首次/ 适应/ 调度/ 法/ 调度/ 所/ 选择/ 的/ 工序/ ,/ 然后/ 从/ 加工/ 树上/ 删除/ 此/ 节点/ ,/ 从/ 备选/ 工序/ 集中/ 删除/ 此/ 工序/ ,/ 转到第/ 3/ 步/ ./ 6/ ./ 结束/ ./ 算法/ 流程图/ 如图/ 1/ 所示/ ./ 5/ 算法/ 复杂度/ 分析/ 设/ 产品/ 数是/ m/ ,/ 总/ 工序/ 数是/ n/ (/ 不/ 包含/ 虚拟/ 根/ 节点/ )/ ,/ 设备/ 数是/ M/ ,/ 则/ 虚拟/ 加工/ 树上/ 有/ n/ +/ 1/ 个/ 节点/ ,/ 算法/ 主要/ 有/ 如下/ 操作/ :/ 1/ ./ 构造/ 虚拟/ 加工/ 树/ ./ 将/ m/ 个/ 产品/ 转换成/ 相应/ 的/ 加工/ 树/ ,/ 需要/ 根据/ 工序/ 的/ 约束条件/ ,/ 查找/ 各/ 工序/ 紧前/ 或/ 紧后/ 工序/ ,/ 最坏/ 情况/ 是/ 每个/ 工序/ 都/ 与/ 其它/ 工序/ 比较/ ,/ n/ 个/ 工序/ 最/ 多/ 比较/ n/ (/ n/ -/ 1/ )/ 次/ ;/ 添加/ 虚拟/ 的/ 根/ 节点/ ,/ 需要/ 建立/ m/ 个/ 产品/ 根/ 节点/ 与/ 虚拟/ 根/ 节点/ 的/ 联系/ ,/ 需要/ 补充/ m/ +/ 1/ 工序/ 的/ 紧前/ 或/ 紧后/ 说明/ ./ 所以/ 构造/ 虚拟/ 加工/ 树/ 最/ 多/ 比较/ 或/ 补充/ 工序/ 关系/ n/ (/ n/ -/ 1/ )/ +/ (/ m/ +/ 1/ )/ 次/ ,/ 由于/ 1/ / m/ / n/ ,/ 将/ 多/ 产品/ 构造/ 成/ 虚拟/ 加工/ 树/ 的/ 复杂度/ 为/ O/ (/ n2/ )/ ./ 2/ ./ 工序/ 调度/ 次序/ ./ 初始/ 时/ ,/ 备选/ 工序/ 集中/ 至少/ 有/ m/ 个/ 工序/ ,/ 最多/ 有/ n/ 个/ 工序/ ./ 最坏/ 的/ 情况/ 是/ 初始/ 时/ 备选/ 工序/ 集中/ 有/ n/ 个/ 工序/ ,/ 调度/ 第/ 1/ 个/ 工序/ 需要/ 比较/ 路径/ 长度/ 和/ 工序/ 用时/ 2/ (/ n/ -/ 1/ )/ 次/ ,/ 调度/ 第/ 2/ 个/ 工序/ 需要/ 比较/ 2/ (/ n/ -/ 2/ )/ 次/ ,/ 当/ 备选/ 工序/ 集中/ 只/ 剩下/ 2/ 个/ 工序/ 的/ 时候/ 只/ 需/ 比较/ 2/ 次/ ./ 因此/ ,/ 确定/ 全部/ 工序/ 调度/ 次序/ 需要/ 的/ 比较/ 次数/ 为/ 2/ [/ (/ n/ -/ 1/ )/ +/ (/ n/ -/ 2/ )/ +/ …/ +/ 2/ +/ 1/ ]/ =/ (/ 2n/ (/ n/ -/ 1/ )/ )/ // 2/ =/ n/ (/ n/ -/ 1/ )/ ,/ 即/ 确定/ 全部/ 工序/ 调度/ 次序/ 的/ 复杂度/ 为/ O/ (/ n2/ )/ ./ 3/ ./ 应用/ 首次/ 适应/ 调度/ 法/ 调度/ 工序/ ./ n/ 个/ 工序/ 在/ M/ 台/ 设备/ 上/ 加工/ ,/ 平均/ 每台/ 设备/ 上/ 加工/ n/ // M/ 个/ 工序/ ./ 每个/ 工序/ 在/ 满足/ 约束条件/ 下/ ,/ 寻找/ 设备/ 上/ 首次/ 适合/ 该/ 工序/ 加工/ 的/ 空隙/ ./ 由于/ n/ // M/ 个/ 工序/ 最多/ 有/ n/ // M/ 个/ 空隙/ ,/ 每个/ 工序/ 最/ 多/ 比较/ n/ // M/ 次/ ,/ 全部/ 工序/ 最/ 多/ 比较/ n/ (/ n/ // M/ )/ 次/ ,/ 即/ 应用/ 首次/ 适应/ 调度/ 法/ 确定/ 全部/ 工序/ 开始/ 加工/ 时间/ 的/ 复杂度/ 为/ O/ (/ n2/ )/ ./ 由/ 上述/ 分析/ 可知/ ,/ 算法/ 的/ 时间/ 复杂度/ 为/ 以上/ 各/ 部分/ 复杂度/ 的/ 和/ ,/ 所以/ 算法/ 的/ 时间/ 复杂度/ 为/ O/ (/ n2/ )/ ,/ 即/ 算法/ 的/ 复杂度/ 不/ 超过/ 二次/ 多项式/ ./ Page56/ 实例/ 对比/ 为了/ 方便/ 评估/ 算法/ 性能/ ,/ 设有/ 产品/ 加工/ 工艺/ 图如图/ 2/ 所示/ ,/ 该/ 工艺/ 图/ 可以/ 看成/ 是/ 一个/ 产品/ 的/ ,/ 也/ 可以/ 看成/ 是/ 由/ 3/ 个/ 产品/ 虚拟/ 而成/ 的/ ./ 图/ 2/ 中长/ 方框/ 表示/ 工序/ ,/ 里面/ 的/ 数字/ 分别/ 为/ 产品/ 工序/ 名/ // 加工/ 设备/ 名/ // 工序/ 加工/ 时间/ ./ 工序/ 1/ 为根/ 节点/ 工序/ ,/ 加工/ 设备/ 有/ 4/ 台/ ,/ 加工/ 时间/ 的/ 数字/ 对应/ 有/ 多少/ 时间/ 单位/ ./ 下面/ 分别/ 用/ 文献/ [/ 1/ ]/ 中/ 算法/ ①/ 基于/ ACPM/ 和/ BFSM/ 的/ 动态/ Job/ -/ Shop/ 调度/ 算法/ 、/ 文献/ [/ 2/ ]/ 中/ 算法/ ②/ 可/ 动态/ 生成/ 具有/ 优先级/ 工序/ 集/ 的/ 动态/ Job/ -/ Shop/ 调度/ 算法/ 和/ 本文/ 提出/ 的/ 算法/ ③/ 基于/ 工序/ 集/ 的/ 动态/ 关键/ 路径/ 多/ 产品/ 制造/ 调度/ 算法/ 3/ 种/ 方法/ 对图/ 2/ 产品/ 调度/ ,/ 通过/ 对比/ 调度/ 甘特图/ ,/ 说明/ 算法/ 的/ 特点/ ./ 算法/ ①/ 基于/ ACPM/ 和/ BFSM/ 的/ 动态/ Job/ -/ Shop/ 调度/ 算法/ ,/ 通过/ 比较/ 各叶/ 节点/ 所在/ 路径/ 长度/ (/ 工序/ 11/ :/ 60/ 、/ 工序/ 17/ :/ 105/ 、/ 工序/ 13/ :/ 75/ 、/ 工序/ 14/ :/ 110/ 、/ 工序/ 18/ :/ 150/ 、/ 工序/ 19/ :/ 70/ 、/ 工序/ 16/ :/ 65/ )/ ,/ 路径/ 最长/ 工序/ 序列/ (/ 18/ 、/ 15/ 、/ 8/ 、/ 3/ 、/ 1/ )/ 为/ 关键/ 路径/ ,/ 按/ 文献/ [/ 1/ ]/ 中拟/ 关键/ 路径/ 法/ (/ ACPM/ )/ 调度/ 各/ 工序/ 次序/ 是/ :/ 18/ 、/ 15/ 、/ 14/ 、/ 8/ 、/ 9/ 、/ 3/ 、/ 17/ 、/ 12/ 、/ 6/ 、/ 13/ 、/ 7/ 、/ 11/ 、/ 5/ 、/ 2/ 、/ 16/ 、/ 10/ 、/ 4/ 、/ 1/ ,/ 按/ 算法/ ①/ 调度/ 的/ 甘特图/ 如图/ 3/ 所示/ ./ 图中/ 纵坐标/ 表示/ 设备/ ,/ 横坐标/ 表示/ 时间/ ;/ 长/ 方框/ 表示/ 工序/ ,/ 框中/ 数字/ 表示/ 工序/ 名/ ,/ 框/ 的/ 长度/ 按/ 工序/ 时间/ 比例/ 确定/ (/ 下同/ )/ ./ 算法/ ②/ 可/ 动态/ 生成/ 具有/ 优先级/ 工序/ 集/ 的/ 动态/ Job/ -/ Shop/ 调度/ 算法/ ,/ 由于/ 该/ 算法/ 采用/ 层/ 优先/ 、/ 短用/ 时/ 和/ 长/ 路径/ 的/ 调度/ 策略/ ,/ 优先/ 调度/ 层数/ 最大/ 的/ 工序/ ,/ 如/ 本例/ 中/ 工序/ 17/ 和/ 工序/ 18/ ;/ 如果/ 同层/ 工序/ 不/ 唯一/ ,/ 优先/ 调度/ 用/ 时少/ 的/ 工序/ ,/ 如/ 本例/ 中/ 优先/ 调度/ 工序/ 17/ ;/ 如果/ 同层/ 工序/ 存在/ 用时/ 相同/ ,/ 优先/ 调度/ 路径/ 长/ 的/ 工序/ ,/ 如/ 本例/ 中/ 工序/ 14/ 和/ 工序/ 16/ ,/ 优先/ 调度/ 工序/ 14/ ./ 于是/ ,/ 按/ 文献/ [/ 2/ ]/ 中/ 的/ 调度/ 策略/ 调度/ 各/ 工序/ 次序/ 是/ :/ 17/ 、/ 18/ 、/ 11/ 、/ 13/ 、/ 15/ 、/ 12/ 、/ 14/ 、/ 16/ 、/ 10/ 、/ 6/ 、/ 9/ 、/ 5/ 、/ 7/ 、/ 8/ 、/ 2/ 、/ 4/ 、/ 3/ 、/ 1/ ,/ 按/ 算法/ ②/ 调度/ 的/ 甘特图/ 如图/ 4/ 所示/ ./ 算法/ ③/ 基于/ 工序/ 集/ 的/ 动态/ 关键/ 路径/ 多/ 产品/ 制造/ 调度/ 算法/ ,/ 由于/ 本文/ 提出/ 的/ 算法/ 采用/ 动态/ 关键/ 路径/ 和/ 短用/ 时/ 策略/ ,/ 需要/ 比较/ 各/ 工序/ 到/ 根/ 节点/ 的/ 路径/ 长度/ ,/ 按/ 从/ 长到/ 短/ 的/ 次序/ 调度/ ,/ 本例/ 中/ 工序/ 18/ 的/ 路径/ 最长/ (/ 150/ )/ ,/ 所以/ 优先/ 调度/ 工序/ 18/ ;/ 如果/ 存在/ 路径/ 长度/ 相同/ 的/ 工序/ 优先/ 调度/ 用/ 时少/ 的/ 工序/ ,/ 如/ 本例/ 中/ 工序/ 12/ 和/ 工序/ 16/ 的/ 路径/ 长度/ 都/ 是/ 65/ ,/ 采用/ 了/ 短用/ 时/ 策略/ ,/ 优先/ 调度/ 工序/ 12/ ./ 于是/ ,/ 按/ 本文/ 提出/ 的/ 算法/ 调度/ 各/ 工序/ 次序/ 是/ :/ 18/ 、/ 14/ 、/ 15/ 、/ 17/ 、/ 8/ 、/ 13/ 、/ 9/ 、/ 12/ 、/ 16/ 、/ 11/ 、/ 7/ 、/ 5/ 、/ 3/ 、/ 6/ 、/ 10/ 、/ 4/ 、/ 2/ 、/ 1/ ,/ 算法/ ③/ 调度/ 的/ 甘特图/ 如图/ 5/ 所示/ ./ 由图/ 3/ 、/ 图/ 4/ 和/ 图/ 5/ 可知/ ,/ 算法/ ①/ 的/ 加工/ 时间/ 是/ 200/ ,/ 算法/ ②/ 的/ 加工/ 时间/ 是/ 190/ ,/ 算法/ ③/ 的/ 加工/ 时间/ 是/ 175/ ./ 说明/ 本文/ 提出/ 的/ 算法/ ③/ 在/ 不/ 增加/ 算法/ 复杂性/ 的/ 前提/ 下/ ,/ 加工/ 时间/ 是/ 最/ 短/ 的/ ./ 算法/ ③/ 之所以/ 在/ 3/ 个/ 算法/ 中/ 加工/ 时间/ 最短/ ,/ 一/ 是因为/ 算法/ ③/ 采用/ 的/ 动态/ 关键/ 路径/ 法/ ,/ 比/ 算法/ ②/ 更/ 充分/ 地/ 发挥/ 关键/ 路径/ 对/ 调度/ 结果/ 有/ 重要/ 影响/ 的/ 作用/ ,/ 例如/ 关键/ 路径/ 上/ 的/ 工序/ 3/ ,/ 在/ 图/ 5/ 中/ 的/ 位置/ 比图/ 4/ 中/ 提前/ ,/ 所以/ 算法/ ③/ 比/ 算法/ ②/ 加工/ 时间/ 短/ ;/ 二/ 是因为/ Page6/ 算法/ ③/ 采用/ 的/ 动态/ 关键/ 路径/ 法/ ,/ 比/ 算法/ ①/ 兼顾/ 工序/ 横向/ 间/ 的/ 联系/ ,/ 使/ 不同/ 设备/ 上/ 的/ 工序/ 有/ 较/ 多/ 的/ 机会/ 并行/ 加工/ ,/ 例如/ 非关键/ 路径/ 上/ 的/ 工序/ 4/ ,/ 在/ 图/ 5/ 中/ 的/ 位置/ 比图/ 3/ 中/ 提前/ ,/ 所以/ 算法/ ③/ 比/ 算法/ ①/ 加工/ 时间/ 短/ ./ 由于/ 算法/ ③/ 兼顾/ 了/ 算法/ ①/ 和/ 算法/ ②/ 优点/ ,/ 所以/ 本文/ 提出/ 的/ 算法/ ③/ 更优/ ./ 7/ 结论/ 由于/ 基于/ 工序/ 集/ 的/ 动态/ 关键/ 路径/ 多/ 产品/ 制造/ 调度/ 算法/ 在/ 调度/ 工序/ 的/ 过程/ 中/ 动态/ 地/ 生成/ 备选/ 工序/ 集/ ,/ 选择/ 被/ 调度/ 的/ 工序/ 是/ 在/ 较/ 小/ 的/ 集合/ 上/ 完成/ 的/ ,/ 因此/ 效率/ 比较/ 高/ ./ 而且/ ,/ 除非/ 工序/ 被/ 调度/ 到/ 设备/ 上/ ,/ 工序/ 是/ 不会/ 被/ 调出/ 备选/ 工序/ 集/ 的/ ,/ 因此/ 算法/ 能够/ 避免/ 操作系统/ 中/ 的/ 抖动/ 问题/ ;/ 将/ 多个/ 产品/ 的/ 加工/ 树/ 虚拟/ 成/ 一个/ 虚拟/ 产品/ 的/ 虚拟/ 加工/ 工艺/ 树/ ,/ 简化/ 了/ 多/ 产品/ 调度/ 问题/ ;/ 采取/ 动态/ 关键/ 路径/ 和/ 短用/ 时/ 策略/ ,/ 在/ 不/ 提高/ 算法/ 复杂度/ 的/ 情况/ 下/ ,/ 实现/ 加工/ 和/ 装配/ 综合/ 调度/ 的/ 树状/ 结构/ 产品/ 纵横/ 双向/ 调度/ 优化/ ,/ 缩短/ 产品/ 加工/ 时间/ ./ 因此/ 本文/ 提出/ 的/ 算法/ 对于/ 解决/ 多/ 产品/ 加工/ 问题/ 更优/ ./ 另外/ ,/ 由于/ 本文/ 提出/ 算法/ 的/ 动态/ 处理/ 方法/ ,/ 可/ 对/ 进一步/ 研究/ 动态/ 多/ 产品/ 加工/ 问题/ 提供/ 良好/ 的/ 基础/ ./ 所以/ 该/ 算法/ 具有/ 一定/ 的/ 理论/ 和/ 实用价值/ ./ 

