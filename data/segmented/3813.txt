Page1/ 面向/ 不/ 确定/ 感知/ 数据/ 的/ 频繁/ 项/ 查询/ 算法/ 王爽/ 1/ )/ ,/ 2/ )/ 王国/ 仁/ 2/ )/ 1/ )/ (/ 东北大学/ 软件/ 学院/ 沈阳/ 110819/ )/ 2/ )/ (/ 东北大学/ 信息科学/ 与/ 工程学院/ 沈阳/ 110819/ )/ 摘要/ 随着/ 计算机网络/ 技术/ 的/ 快速/ 发展/ ,/ 无线/ 传感器/ 网络/ 产生/ 了/ 大量/ 的/ 感知/ 数据流/ ./ 同时/ ,/ 传感器/ 自身/ 的/ 特点/ 使得/ 感知/ 数据/ 具有/ 不/ 确定/ 的/ 特征/ ,/ 因此/ 需要/ 对/ 传感器/ 网络/ 中/ 不/ 确定/ 感知/ 数据流/ 处理/ 技术/ 进行/ 研究/ ./ 在/ 传感器/ 网络/ 中/ ,/ 频繁/ 项/ 查询/ 在/ 环境/ 监控/ 和/ 关联/ 规则/ 挖掘/ 等/ 方面/ 具有/ 重要/ 意义/ ./ 文中/ 首先/ 提出/ 了/ 基本/ 算法/ ,/ 用以/ 连续/ 维护/ 传感器/ 网络/ 中/ 的/ 概率/ 阈值/ 频繁/ 项/ 查询/ 结果/ ./ 针对/ 基本/ 算法/ 需要/ 维护/ 所有/ 元素/ 的/ 问题/ ,/ 又/ 提出/ 了/ 一种/ 优化/ 算法/ ,/ 算法/ 在/ 两/ 方面/ 进行/ 了/ 优化/ :/ (/ 1/ )/ 设计/ 了/ 一种/ 通过/ 预测/ 元素/ 概率/ 上界/ 的/ 方法/ 进行/ 候选/ 集/ 的/ 构造/ ,/ 仅/ 维护/ 必要/ 信息/ 从而/ 提高/ 查询/ 效率/ ;/ (/ 2/ )/ 设计/ 了/ 一种/ 新/ 的/ cp/ -/ list/ 结构/ ,/ 可以/ 压缩/ 不同/ 窗口/ 候选/ 集中/ 的/ 重复/ 元素/ ,/ 降低/ 存储/ 开销/ ./ 实验/ 结果表明/ 文中/ 提出/ 的/ 算法/ 可以/ 减少/ 连续/ 维护/ 传感器/ 网络/ 中/ 频繁/ 项/ 查询/ 的/ 计算/ 代价/ 和/ 存储空间/ ./ 关键词/ 无线/ 传感器/ 网络/ ;/ 不/ 确定/ 数据流/ ;/ 频繁/ 项/ ;/ 概率/ 阈值/ ;/ 过滤/ ;/ 物/ 联网/ 1/ 引言/ 随着/ 通信/ 技术/ 、/ 嵌入式/ 计算技术/ 和/ 传感器/ 技术/ 的/ 飞速发展/ 和/ 日益/ 成熟/ ,/ 传感器/ 网络/ 己经/ 成为/ 数据/ 采集/ 与/ 传输/ 的/ 重要/ 手段/ 之一/ ,/ 并且/ 被/ 广泛/ 地/ 应用/ 到/ 国防/ 和/ 国民经济/ 各个领域/ ,/ 典型/ 的/ 应用/ 有/ 地震/ 监测/ 、/ 农业/ 监测/ 、/ 矿井/ 环境监测/ 以及/ 战场/ 态势/ 感知/ 等/ [/ 1/ ]/ ./ 这些/ 应用/ 通常/ 都/ 产生/ 较大/ 的/ 实时/ 流式/ 感知/ 数据/ ,/ 由于/ 每个/ 传感器/ 节点/ 只有/ 少量/ 的/ 计算资源/ ,/ 难以/ 处理/ 如此/ 巨大/ 的/ 实时/ 数据流/ ,/ 因此/ 在/ 传感器/ 网络/ 中/ ,/ 普遍/ 采用/ 近期/ (/ 滑动/ 窗口/ 内/ )/ 数据/ 进行/ 相关/ 信息/ 获取/ ./ 传感器/ 网络/ ,/ 由于/ 受到/ 硬件/ 设备/ 、/ 传感/ 技术/ 、/ 网络/ 传输/ 延迟/ 、/ 无线/ 传感器/ 网络/ 的/ 通信/ 质量/ 和/ 感知/ 环境/ 等/ 因素/ 的/ 影响/ ,/ 会/ 产生/ 不/ 精确/ 的/ 数据/ 或/ 缺失/ 的/ 数据/ [/ 2/ ]/ ./ 同时/ ,/ 数据/ 的/ 不确定性/ 在/ 网络通信/ 和/ 网内/ 处理/ 的/ 过程/ 中/ 会/ 得到/ 进一步/ 的/ 传播/ 和/ 放大/ ./ 因此/ ,/ 如何/ 处理/ 和/ 分析/ 无线/ 传感器/ 网络/ 中/ 的/ 这种/ 数据/ 不确定性/ 是/ 一个/ 非常/ 重要/ 的/ 问题/ ./ 在/ 传感器/ 网络/ 中/ ,/ 频繁/ 项/ 查询/ 在/ 环境监测/ 、/ 关联/ 规则/ 挖掘/ 等/ 领域/ 有/ 非常/ 重要/ 的/ 应用/ ./ 例如/ 在/ 温度/ 监测/ 系统/ 中/ ,/ 某/ 温度/ 值/ 频繁/ 出现/ 就/ 会/ 被/ 认为/ 是/ 异常情况/ 从而/ 报警/ ./ 由于/ 传感器/ 自身/ 的/ 限制/ ,/ 检测/ 的/ 记录/ 是/ 不/ 确定/ 的/ ,/ 每/ 一个/ 监控/ 记录/ 都/ 会/ 附加/ 一/ 概率/ 信息/ ,/ 表示/ 该/ 记录/ 的/ 可信/ 程度/ ./ 以表/ 1/ 中/ 的/ R1/ 为例/ ,/ 表示/ 传感器/ S1/ 在/ L/ 处/ 监控/ 的/ 温度/ 值为/ v1/ ,/ 该/ 信息/ 的/ 可信度/ 为/ 0.6/ ./ ID/ 位置/ R1R2R3R4/ 由于/ 传感器/ 网络/ 产生/ 的/ 数据/ 不/ 确定/ ,/ 可能/ 世界/ 模型/ [/ 3/ ]/ 被/ 广泛/ 地/ 应用/ 于/ 不/ 确定/ 数据/ 的/ 建模/ ./ 表/ 1/ 有/ 4/ 条/ 传感器/ 记录/ ,/ 共有/ 24/ =/ 16/ 个/ 可能/ 世界/ 实例/ ,/ 如表/ 2/ 所示/ ./ 例如/ ,/ 可能/ 世界/ 实例/ PW1/ =/ {/ R1/ }/ 中/ ,/ 仅/ R1/ 记录/ 存在/ ,/ R2/ ,/ R3/ ,/ R4/ 均/ 不/ 存在/ ,/ v1/ 出现/ 1/ 次/ ,/ v2/ 出现/ 0/ 次/ ,/ 概率/ 为/ 0.6/ ×/ (/ 1/ -/ 0.4/ )/ ×/ (/ 1/ -/ 0.8/ )/ ×/ (/ 1/ -/ 0.3/ )/ =/ 0.0504/ ./ ID/ 可能/ 实例/ PW0PW1PW2PW3PW4PW5/ {/ R2/ ,/ R3/ }/ {/ v1/ =/ 1/ ,/ v2/ =/ 1/ }/ 0.0896/ PW6/ {/ R1/ ,/ R3/ }/ {/ v1/ =/ 1/ ,/ v2/ =/ 1/ }/ 0.2016/ PW7/ {/ R3/ ,/ R4/ }/ {/ v1/ =/ 1/ ,/ v2/ =/ 1/ }/ 0.0576/ PW8/ {/ R1/ ,/ R2/ }/ {/ v1/ =/ 2/ ,/ v2/ =/ 0/ }/ 0.0336/ PW9/ {/ R2/ ,/ R4/ }/ {/ v1/ =/ 2/ ,/ v2/ =/ 0/ }/ 0.0096/ PW10/ {/ R1/ ,/ R4/ }/ {/ v1/ =/ 2/ ,/ v2/ =/ 0/ }/ 0.0216/ PW11/ {/ R1/ ,/ R2/ ,/ R3/ }/ {/ v1/ =/ 2/ ,/ v2/ =/ 1/ }/ 0.1344/ PW12/ {/ R1/ ,/ R2/ ,/ R4/ }/ {/ v1/ =/ 3/ ,/ v2/ =/ 0/ }/ 0.0144/ PW13/ {/ R2/ ,/ R3/ ,/ R4/ }/ {/ v1/ =/ 2/ ,/ v2/ =/ 1/ }/ 0.0384/ PW14/ {/ R1/ ,/ R3/ ,/ R4/ }/ {/ v1/ =/ 2/ ,/ v2/ =/ 1/ }/ 0.0864/ PW15/ {/ R1/ ,/ R2/ ,/ R3/ ,/ R4/ }/ {/ v1/ =/ 3/ ,/ v2/ =/ 1/ }/ 0.0864/ 尽管/ 在/ 传统/ 的/ 确定/ 数据库/ 领域/ ,/ 频繁/ 项/ 查询/ 得到/ 了/ 深入/ 的/ 研究/ ,/ 但是/ 由于/ 传感器/ 网络/ 产生/ 了/ 大量/ 不/ 确定/ 流式/ 感知/ 数据/ ,/ 现有/ 的/ 算法/ 都/ 不能/ 直接/ 应用/ 到/ 传感器/ 网络/ 中/ ./ 因此/ 本文/ 提出/ 了/ 一种/ 适用/ 于/ 不/ 确定/ 感知/ 数据/ 的/ 频繁/ 项/ 查询/ 算法/ ,/ 旨在/ 减少/ 每次/ 数据/ 更新/ 的/ 计算/ 代价/ 和/ 存储/ 开销/ ./ 主要/ 工作/ 包括/ :/ (/ 1/ )/ 提出/ 了/ 一种/ 基本/ 的/ 不/ 确定/ 频繁/ 项/ 查询/ 算法/ ,/ 该/ 算法/ 利用/ 现有/ 计算结果/ 进行/ 增量/ 更新/ ,/ 提高/ 查询/ 效率/ ;/ (/ 2/ )/ 提出/ 了/ 一种/ 优化/ 算法/ ,/ 在/ 每个/ 窗口/ 中/ 利用/ 剪枝/ 策略/ 构造/ 候选/ 集合/ ,/ 同时/ 利用/ 提出/ 的/ cp/ -/ list/ 结构/ 压缩/ 不同/ 窗口/ 中/ 的/ 候选/ 元素/ ,/ 减少/ 检测/ 数据/ 的/ 数量/ ,/ 提高/ 查询/ 效率/ ,/ 降低/ 存储/ 开销/ ;/ (/ 3/ )/ 通过/ 实验/ 结果/ 证明/ 新/ 算法/ 的/ 有效性/ 和/ 高效性/ ./ 2/ 相关/ 工作/ 在/ 确定/ 数据/ 中/ ,/ 已有/ 一些/ 基于/ 传感器/ 网络/ 的/ 频繁/ 项/ 查询/ 工作/ ./ Considine/ 等/ 人/ [/ 4/ ]/ 提出/ 了/ 基于/ 树结构/ 的/ 频繁/ 项/ 查询/ 算法/ ,/ 并/ 设计/ 了/ 一种/ sketch/ 摘要/ 结构/ ,/ 将/ 大/ 值域/ 的/ 数据/ 集/ 映射/ 到/ 小/ 值域/ 的/ 目标/ 数据/ 集中/ ,/ 用/ 目标/ 数据/ 集中/ 的/ 频繁/ 项/ 作为/ 整个/ 数据/ 集/ 的/ 近似/ 解/ ./ 但是/ 基于/ 树结构/ 的/ 算法/ 在/ 网络/ 数据/ 丢失/ 情况严重/ 时/ ,/ 会/ 带来/ 巨大/ 的/ 传输/ 开销/ ,/ 因此/ Manjhi/ 等/ 人/ [/ 5/ ]/ 提出/ 了/ 综合/ 使用/ 树/ 和/ 多路径/ 路由/ 结构/ 的/ Tributary/ -/ Delta/ 算法/ ,/ 并/ 利用/ 抽样/ 方法/ 得到/ 近似/ 查询/ 结果/ ./ Ren/ 等/ 人/ [/ 6/ ]/ 提出/ 了/ 一种/ 分布式/ 查询/ 算法/ D/ -/ FIMA/ ,/ 通过/ 建立/ 聚集/ 树/ ,/ 用/ 有限/ 个/ 计数/ 单元/ 进行/ 协作/ 计数/ 来/ 维护/ 整个/ 数据/ 集中/ 频繁/ 项/ 的/ 方法/ ,/ 得到/ 近似/ 频繁/ 项/ ./ Page3/ 但是/ 上述/ 研究/ 工作/ 均/ 基于/ 确定/ 数据流/ ,/ 没有/ 考虑/ 传感器/ 数据/ 的/ 不确定性/ ./ 近年来/ 开展/ 了/ 不/ 确定/ 频繁/ 项/ 查询/ 方面/ 的/ 工作/ ,/ 研究/ 内容/ 主要/ 分为/ 两类/ :/ 基于/ 期望/ 的/ 方式/ [/ 7/ ]/ 和/ 基于/ 概率/ 的/ 方式/ [/ 8/ ]/ ./ 定义/ 1/ [/ 7/ ]/ ./ 期望/ 频繁/ 项/ ./ 对于/ 一组/ 传感器/ 记录/ R/ ,/ PW/ 为/ R/ 所有/ 可能/ 世界/ 实例/ 集合/ ,/ 满足/ 不等式/ (/ 1/ )/ 的/ 项/ v/ 称为/ 期望/ 频繁/ 项/ ./ Cv/ (/ ω/ )/ 为项/ v/ 在/ w/ 实例/ 空间/ 中/ 出现/ 的/ 次数/ ,/ p/ (/ ω/ )/ 为/ w/ 实例/ 空间/ 的/ 概率/ ,/ esup/ 为/ 阈值/ ./ 从/ 定义/ 1/ 可以/ 看出/ ,/ 计算/ 期望/ 需要/ 列出/ 所有/ 可能/ 实例/ (/ 如表/ 2/ 所示/ )/ ,/ 其/ 复杂度/ 为/ 指数/ 级/ ./ 文献/ [/ 7/ ]/ 指出/ 期望/ exp/ (/ v/ )/ 可以/ 采用/ 更/ 简单/ 的/ 线性/ 复杂度/ 方法/ 进行/ 计算/ ,/ 如式/ (/ 2/ )/ 所示/ ./ 虽然/ 使用/ 线性/ 复杂度/ 就/ 可以/ 计算/ 期望值/ ,/ 但是/ 期望/ 并/ 不能/ 真正/ 反映/ 数据/ 本身/ 分布/ 的/ 差异/ ,/ 如表/ 3/ 所示/ 数据库/ ./ 通过/ 计算/ ,/ exp/ (/ a/ )/ =/ 1/ // 2/ +/ 1/ // 2/ =/ 1/ ,/ exp/ (/ b/ )/ =/ 1/ ./ a/ ,/ b/ 两者/ 期望/ 相同/ ,/ 但是/ 频次/ 分布/ 并不相同/ ./ 项/ a/ 频次/ 分布/ 如表/ 4/ 所示/ ,/ 项/ b/ 频次/ 分布/ 如表/ 5/ 所示/ ./ 次数/ 012/ 概率/ 1/ // 41/ // 21/ // 4/ 针对/ 上述/ 问题/ ,/ 文献/ [/ 8/ ]/ 提出/ 了/ 一种/ 更/ 复杂/ 的/ 概/ 定义/ 2/ [/ 8/ ]/ ./ 概率/ 频繁/ 项/ ./ 满足/ 不等式/ (/ 3/ )/ 的/ 项率/ 频繁/ 项/ 定义/ ./ 称为/ 概率/ 频繁/ 项/ ./ FP/ (/ v/ )/ =/ Pr/ {/ supv/ (/ R/ )/ / minsup/ }/ >/ minprob/ (/ 3/ )/ 其中/ supv/ (/ R/ )/ 为项/ v/ 的/ 频次/ 分布/ ,/ minsup/ 为/ 频次/ 阈值/ ,/ minprob/ 为/ 概率/ 阈值/ ,/ FP/ (/ v/ )/ 为项/ v/ 成为/ 频繁/ 项/ 的/ 概率/ ,/ 如果/ FP/ (/ v/ )/ 大于/ minprob/ ,/ 则/ 项/ v/ 为/ 频繁/ 项/ ./ 项/ v/ 在/ 确定/ 数据库/ 中/ ,/ 其/ 出现/ 频次/ 为/ 确定/ 值/ ./ 但/ 在/ 不/ 确定/ 数据库/ 中/ ,/ 其/ 出现/ 频次/ 为/ 随机变量/ ,/ 用/ supv/ (/ R/ )/ 表示/ ./ 表/ 4/ 为项/ a/ 出现/ 频次/ 的/ 概率分布/ ./ 由/ 定义/ 2/ 可知/ ,/ 计算/ 频繁/ 概率/ FP/ (/ v/ )/ 的/ 核心/ 工作/ 是/ 计算/ 频次/ 分布/ 函数/ supv/ (/ R/ )/ ./ supv/ (/ R/ )/ 的/ 计算/ 可以/ 采用/ 基于/ 动态/ 规划/ 的/ 方法/ [/ 8/ ]/ ,/ 计算公式/ 如/ (/ 4/ )/ 所示/ ./ 其中/ i/ ,/ j/ =/ AvAvi/ ,/ j/ 表示/ 在/ 前/ i/ 个/ 记录/ 中项/ v/ 出现/ j/ 次/ 的/ 概率/ ,/ pi/ 为/ Av/ 第/ i/ 个/ 记录/ 存在/ 的/ 概率/ ./ 利用/ Av/ 可以/ 得到/ 整个/ 数据/ 集/ R/ 上项/ v/ 的/ 频次/ 分布/ 信息/ ./ 在/ 文献/ [/ 8/ ]/ 的/ 基础/ 上/ ,/ 文献/ [/ 9/ ]/ 提出/ 了/ 一种/ 基于/ 采样/ 的/ 近似/ 聚集/ 查询/ 算法/ 来/ 处理/ 不/ 确定/ 流式/ 数据/ ./ 除了/ 不/ 确定/ 频繁/ 项/ 查询/ 研究/ 之外/ ,/ 在/ 不/ 确定/ 频繁/ 项集/ 挖掘/ 方面/ 也/ 存在/ 一些/ 研究/ 工作/ ./ 文献/ [/ 10/ -/ 11/ ]/ 分别/ 基于/ Apriori/ 和/ FP/ -/ Growth/ 算法/ 解决/ 了/ 期望/ 频繁/ 集项/ 挖掘/ 问题/ ,/ 文献/ [/ 12/ -/ 13/ ]/ 解决/ 了/ 概率/ 频繁/ 项集/ 挖掘/ 问题/ ,/ 但是/ 上述/ 文献/ 均/ 基于/ 静态数据/ ,/ 没有/ 考虑/ 数据流/ 环境/ ./ 文献/ [/ 14/ -/ 16/ ]/ 解决/ 了/ 不/ 确定/ 数据流/ 中/ 频繁/ 项集/ 挖掘/ 问题/ ,/ 但/ 采用/ 的/ 是/ 更/ 简单/ 的/ 期望/ 频繁/ 项/ 定义/ ./ 根据上述/ 分析/ 可知/ ,/ 概率/ 频繁/ 项比/ 期望/ 频繁/ 项/ 更/ 能/ 反映/ 频次/ 的/ 分布/ 情况/ ,/ 因此/ 本文/ 采用/ 更/ 复杂/ 的/ 概率/ 频繁/ 项/ 定义/ ,/ 针对/ 传感器/ 网络/ 会/ 产生/ 大量/ 实时/ 数据流/ 的/ 特性/ ,/ 提出/ 了/ 一种/ 精确/ 的/ 概率/ 阈值/ 频繁/ 项/ 查询/ 算法/ ,/ 主要/ 包括/ 使用/ 过滤/ 策略/ 构造/ 候选/ 集/ ,/ 对/ 候选/ 集/ 压缩/ 和/ 候选/ 集/ 更新/ 三/ 方面/ 内容/ ,/ 可以/ 动态/ 地/ 更新/ 结果/ 并/ 过滤/ 掉/ 大量/ 不/ 需要/ 计算/ 的/ 元素/ ./ 3/ 问题/ 定义/ 由于/ 传感器/ 网络/ 产生/ 无限/ 的/ 数据流/ ,/ 从/ 理论/ 上/ 讲/ 它/ 的/ 数据量/ 也/ 是/ 无限大/ 的/ ,/ 所以/ ,/ 要/ 在/ 所有/ 的/ 数据/ 都/ 采集/ 后/ 再/ 计算/ 传感器/ 网络/ 中/ 的/ 频繁/ 项是/ 不/ 实际/ 的/ ./ 因此/ ,/ 本文/ 主要/ 考虑/ 最新/ 采集/ 的/ 数据/ ,/ 也/ 即/ 是/ 针对/ 滑动/ 窗口/ 中/ 的/ 数据/ 进行/ 频繁/ 项/ 查询/ ./ 本文/ 讨论/ 的/ 滑动/ 窗口/ 是/ 基于/ 元组/ 的/ 滑动/ 窗口/ (/ tuple/ -/ basedslid/ -/ ingwindow/ )/ ,/ 但是/ 也/ 可以/ 扩展/ 到/ 基于/ 时间/ 戳/ 的/ 滑动/ 窗口/ (/ timestamp/ -/ basedslidingwindow/ )/ ./ 目前/ 许多/ 滑动/ 窗口/ 采用/ 每次/ 仅/ 更新/ 一个/ 元组/ 的/ 方式/ ,/ 但是/ 当/ 数据/ 更新/ 量/ 较大/ 时/ ,/ 此种/ 方式/ 效率/ 不高/ ./ 因此/ 本文/ 采用/ 批量/ 更新/ 的/ 策略/ ,/ 即/ 每次/ 更新/ 相同/ 数目/ 的/ 记录/ ,/ 这些/ 记录/ 称为/ 基本/ 窗口/ ./ 本文/ 以/ 基本/ 窗口/ 作为/ 更新/ 处理/ 单位/ ,/ 模型/ 如图/ 1/ 所示/ ./ Page4/ 在/ 图/ 1/ 中/ 每个/ 基本/ 窗口/ 包含/ 3/ 个/ 监测/ 记录/ ,/ 每个/ 滑动/ 窗口/ 由/ 3/ 个/ 基本/ 窗口/ 组成/ ./ 其中/ DS/ [/ i/ ]/ 表示/ 第/ i/ 个/ 滑动/ 窗口/ ./ 表/ 6/ 为/ 本文/ 使用/ 符号/ 的/ 相关/ 说明/ ./ 符号/ RRivipiminsup/ 支持/ 度/ 阈值/ minprob/ 概率/ 阈值/ supv/ (/ R/ )/ v/ 在/ R/ 中/ 出现/ 频次/ 的/ 概率分布/ numv/ (/ R/ )/ v/ 在/ R/ 中/ 出现/ 的/ 次数/ (/ pi/ >/ 0/ )/ expv/ (/ R/ )/ v/ 在/ R/ 中/ 的/ 期望/ 支持/ 度/ DS/ [/ i/ ]/ B/ [/ i/ +/ j/ ]/ 第/ i/ 个/ 滑动/ 窗口/ 中/ 的/ 第/ j/ 个/ 基本/ 窗口/ BWLWbWL/ 定义/ 3/ ./ 不/ 确定/ 感知/ 数据流/ ./ 传感器/ 网络/ 连续不断/ 地/ 产生/ 感知/ 数据流/ DS/ =/ {/ R1/ ,/ R2/ ,/ …/ ,/ Rn/ ,/ …/ }/ ,/ Ri/ 为/ 第/ i/ 个/ 不/ 确定/ 检测/ 记录/ ,/ 形式/ 为/ 二元/ 组/ 〈/ vi/ ,/ pi/ 〉/ ,/ vi/ 表示/ 检测/ 的/ 记录/ 值/ ,/ pi/ 为/ 概率/ ./ DS/ [/ i/ ]/ 窗口/ 的/ 有效/ 记录/ 为/ {/ Ri/ ,/ Ri/ +/ 1/ ,/ …/ ,/ Ri/ +/ WL/ -/ 1/ }/ ./ 流/ 频繁/ 项/ ./ 定义/ 4/ ./ (/ minsup/ ,/ minprob/ )/ 不/ 确定/ 感知/ 数据/ Pr/ {/ supv/ (/ DS/ [/ i/ ]/ )/ / minsup/ }/ >/ minprob/ (/ 5/ )/ 在/ 当前/ 窗口/ DS/ [/ i/ ]/ 中/ 满足/ 公式/ (/ 5/ )/ 的/ 项/ v/ 即为/ (/ minsup/ ,/ minprob/ )/ 不/ 确定/ 感知/ 数据流/ 频繁/ 项/ ./ 4/ 基于/ 流/ 的/ 概率/ 阈值/ 频繁/ 项/ 查询/ 算法/ 随着/ 时间/ 的/ 变化/ ,/ 新/ 数据/ 不断/ 地被/ 传感/ 设备/ 采集/ ,/ 它们/ 会/ 进入/ 到/ 滑动/ 窗口/ 中/ ,/ 而/ 一些/ 旧/ 数据/ 将/ 过期/ ,/ 不再/ 参与/ 频繁/ 项/ 运算/ ,/ 此时/ 的/ 查询/ 结果/ 将/ 发生变化/ ./ 求解/ 新/ 频繁/ 项/ 的/ 最/ 简单/ 办法/ 就是/ 采用/ 静态/ 频繁/ 项/ 查询/ 算法/ [/ 8/ ]/ 重新/ 计算/ ,/ 这样/ 当/ 进行/ 连续/ 查询/ 时/ ,/ 上面/ 的/ 过程/ 将/ 重复/ 地/ 执行/ ./ 显然/ ,/ 这样/ 的/ 策略/ 是/ 不/ 可取/ 的/ ./ 因为/ 在/ 连续/ 时刻/ 的/ 窗口/ 之间/ 有/ 相当/ 大/ 的/ 一部分/ 数据/ 是/ 相同/ 的/ ,/ 所以/ 两个/ 时刻/ 的/ 查询/ 结果/ 之间/ 也/ 会/ 有/ 很多/ 数据/ 是/ 相同/ 的/ ,/ 有效/ 地/ 利用/ 现有/ 结果/ 进行/ 增量/ 更新/ 从而/ 避免/ 重复/ 计算/ 是/ 提高/ 算法/ 性能/ 的/ 关键问题/ 之一/ ./ 4.1/ 增量/ 查询/ 算法/ 由于/ 本文/ 以/ 基本/ 窗口/ 作为/ 更新/ 处理/ 单位/ ,/ 因此/ 在/ 计算/ 频次/ 分布/ 函数/ 时/ ,/ 也/ 以/ 基本/ 窗口/ 为/ 单位/ 进行/ 计算/ ./ 基于/ 该/ 思想/ ,/ 本/ 节/ 提出/ 了/ 一种/ 增量/ 的/ 概率/ 阈值/ 频繁/ 项/ 查询/ 算法/ bs/ -/ UFI/ ,/ 可以/ 避免/ 重复/ 计算/ ./ 对/ 每个/ 基本/ 窗口/ 计算/ 其/ 频次/ 分布/ supv/ (/ B/ [/ i/ +/ j/ ]/ )/ ,/ 进行/ 频繁/ 项/ 查询/ 时/ ,/ 需要/ 将/ 当前/ 滑动/ 窗口/ 中/ 所有/ 基本/ 窗口/ 的/ 计算结果/ 进行/ 合并/ ,/ 计算/ 总/ 的/ 频次/ 分布/ supv/ (/ DS/ [/ i/ ]/ )/ ,/ 然后/ 计算/ 频繁/ 概率/ FP/ (/ v/ )/ ,/ 计算/ 总/ 的/ 频次/ 分布/ 函数/ 如式/ (/ 6/ )/ 所示/ ./ 可以/ 采用/ 快速/ 傅里叶/ 变换/ 的/ 方法/ 计算/ 式/ (/ 6/ )/ ,/ 时间/ 复杂度/ 为/ O/ (/ Wbmlogm/ )/ ,/ m/ 为/ 基本/ 窗口/ 中项/ v/ 出现/ 的/ 次数/ ./ 当前/ 窗口/ DS/ [/ i/ ]/ 数据/ 过期/ 时/ ,/ 无法/ 在/ 现有/ 的/ supv/ (/ DS/ [/ i/ ]/ )/ 计算结果/ 上/ 进行/ 增量/ 更新/ ,/ 必须/ 重新/ 计算/ ./ 为了/ 避免/ 重新/ 计算/ ,/ 每/ 到达/ 一个/ 基本/ 窗口/ ,/ 只/ 计算/ 并/ 保存/ 该/ 基本/ 窗口/ 的/ 频次/ 分布/ supv/ (/ B/ [/ i/ +/ j/ ]/ )/ ./ 仅当/ 窗口/ 滑动/ 时/ ,/ 才/ 使用/ 式/ (/ 6/ )/ 合并/ Wb/ 个/ 频次/ 分布/ 函数/ ./ 尽管/ 在/ 当前/ 窗口/ 中/ 需要/ 保存/ Wb/ 个/ 基本/ 窗口/ 的/ 频次/ 分布/ ,/ 但是/ 其/ 存储/ 代价/ 与/ 保存/ 总/ 的/ 频次/ 分布/ 函数/ 相同/ ,/ 并未/ 增加/ 额外/ 的/ 存储空间/ ,/ 并且/ 可以/ 将/ 计算/ 的/ 复杂度/ 提升/ 至/ 与/ 初始化/ 阶段/ 相同/ ,/ 均/ 为/ O/ (/ Wbmlogm/ )/ ,/ 具体/ 算法/ 如/ 算法/ 1/ 所示/ ./ 算法/ 1/ ./ bs/ -/ UFI/ ./ 输入/ :/ DS/ ;/ minsup/ ;/ minprob/ ;/ BWL/ ;/ Wb/ 输出/ :/ Result1/ ./ Result/ =/ NULL/ ;/ 2/ ./ FOR/ 每个/ 新/ 到达/ 的/ 基本/ 窗口/ B/ [/ i/ +/ j/ ]/ 3/ ./ FOR/ / v/ ∈/ B/ [/ i/ +/ j/ ]/ 4/ ./ 计算/ supv/ (/ B/ [/ i/ +/ j/ ]/ )/ (/ j/ =/ 0/ …/ Wb/ -/ 1/ )/ ;/ 5/ ./ // // 滑动/ 窗口/ 6/ ./ FOR/ 每个/ 项/ v7/ ./ 计算/ supv/ (/ DS/ [/ i/ ]/ )/ ,/ FP/ (/ v/ )/ ;/ 8/ ./ IF/ (/ FP/ (/ v/ )/ >/ minprob/ )/ 9/ ./ 将/ 〈/ v/ ,/ FP/ (/ v/ )/ 〉/ 加入/ Result/ 集合/ 中/ ;/ 10/ ./ // // 数据/ 过期/ 处理/ 11/ ./ FOR/ 过期/ 基本/ 窗口/ 中/ 的/ 每个/ 项/ v12/ ./ 删除/ supv/ (/ B/ [/ i/ +/ 0/ ]/ )/ ;/ 13/ ./ // // 数据/ 插入/ 处理/ 14/ ./ FOR/ 新/ 基本/ 窗口/ 的/ 每个/ 项/ v15/ ./ 计算/ supv/ (/ B/ [/ new/ ]/ )/ ./ Page5/ 对于/ 每个/ 到达/ 的/ 基本/ 窗口/ ,/ 计算/ 该/ 窗口/ 中/ 所有/ 项/ 的/ 频次/ 分布/ (/ 1/ ~/ 4/ 行/ )/ ./ 当/ 窗口/ 滑动/ ,/ 合并/ 所有/ 基本/ 窗口/ 的/ 频次/ 分布/ 函数/ ,/ 依据/ 当前/ 窗口/ 的/ 频次/ 分布/ ,/ 计算/ 概率/ 频繁/ 项/ 并/ 输出/ 结果/ (/ 5/ ~/ 9/ 行/ )/ ./ 数据/ 过期/ 仅/ 将/ 当前/ 窗口/ 中/ 最/ 老/ 基本/ 窗口/ 的/ 频次/ 分布/ 删除/ 即可/ (/ 10/ ~/ 12/ 行/ )/ ./ 插入/ 数据/ 时/ ,/ 计算/ 新/ 基本/ 窗口/ 的/ 频次/ 分布/ 函数/ (/ 13/ ~/ 15/ 行/ )/ ./ 4.2/ 基于/ 压缩/ 候选/ 集/ 的/ 增量/ 查询/ 算法/ 与/ 静态数据/ 不同/ ,/ 传感器/ 产生/ 的/ 数据/ 是/ 不断更新/ 的/ ./ 当前/ 的/ 非/ 频繁/ 项/ 随着/ 滑动/ 窗口/ 的/ 前移/ 可能/ 会/ 变为/ 频繁/ 项/ ,/ 为了/ 避免/ 重复/ 计算/ ,/ 在/ 基本/ 算法/ 中/ 保留/ 了/ 所有/ 项/ 的/ 信息/ ,/ 显然/ 这种/ 方法/ 会/ 保留/ 大量/ 低/ 频度/ 的/ 项/ 从而/ 浪费/ 了/ 大量/ 的/ 存储空间/ ./ 针对/ 该/ 问题/ ,/ 本节/ 对/ 基本/ 算法/ 进行/ 改进/ ,/ 提出/ 了/ 一种/ 优化/ 的/ 查询/ 算法/ ,/ 仅/ 维护/ 一些/ 重要/ 的/ 项/ 信息/ 即候/ 选集/ ./ 在/ 候选/ 集中/ 大量/ 的/ 元素/ 被/ 剪枝/ ,/ 因此/ 大幅度/ 地/ 降低/ 了/ 存储/ 耗费/ ./ 算法/ 共/ 包括/ 3/ 部分/ 内容/ :/ (/ 1/ )/ 候选/ 集/ 构造/ ;/ (/ 2/ )/ 候选/ 集/ 压缩/ ;/ (/ 3/ )/ 候选/ 集/ 更新/ ./ 4.2/ ./ 1/ 候选/ 集/ 构造/ 滑动/ 窗口/ 之间/ 数据/ 重复/ ,/ 在/ 处理/ 当前/ 窗口/ 时/ ,/ 可以/ 预知/ 哪些/ 数据/ 会/ 参与/ 到/ 未来/ 的/ 滑动/ 窗口/ 中/ ./ 如图/ 1/ 所示/ ,/ 当/ 窗口/ 滑动/ ,/ B/ [/ 1/ ]/ 窗口/ 元素/ 过期/ ,/ 现有/ DS/ [/ 1/ ]/ 的/ 结果/ 不能/ 直接/ 用于/ 计算/ 新/ 的/ DS/ [/ 2/ ]/ 窗口/ 结果/ ,/ 但是/ 当/ 计算/ DS/ [/ 1/ ]/ 结果/ 时/ ,/ 可以/ 预知/ 当前/ 窗口/ 中/ 的/ 部分/ 数据/ 会/ 参与/ 到/ 未来/ 的/ 滑动/ 窗口/ 中/ ,/ 例如/ B/ [/ 2/ ]/ ,/ B/ [/ 3/ ]/ 可以/ 参与/ 到/ DS/ [/ 2/ ]/ 窗口/ 中/ ,/ 而/ B/ [/ 3/ ]/ 可以/ 参与/ 到/ DS/ [/ 3/ ]/ 窗口/ 中/ ./ 基于/ 不同/ 窗口/ 间/ 的/ 这部分/ 重复/ 数据/ 可以/ 对/ 未来/ 窗口/ 中/ 的/ 查询/ 结果/ 进行/ 预测/ ,/ 得到/ 的/ 预测/ 结果/ 称为/ pUFI/ (/ DS/ [/ i/ ]/ )/ ./ 定义/ 5/ ./ pUFI/ (/ DS/ [/ i/ ]/ )/ ./ DS/ [/ i/ ]/ 窗口/ 的/ 预测/ 候选/ 集/ ./ 预测/ 候选/ 集/ (/ pUFI/ (/ DS/ [/ i/ ]/ )/ )/ 构造/ 的/ 基本/ 思想/ 是/ 在/ 传感器/ 节点/ 设置/ 一个/ 过滤器/ ,/ 提前/ 判断/ 出/ 那些/ 不/ 属于/ 最终/ 结果/ 的/ 项/ ,/ 并/ 将/ 它们/ 过滤/ 掉/ ,/ 仅/ 维护/ 必要/ 的/ 候选/ 项/ 集合/ ./ 由/ 分析/ 可知/ ,/ 频次/ 分布/ 函数/ supv/ (/ R/ )/ 满足/ 泊松/ 二项分布/ 的/ 定义/ ,/ 而泊松/ 二项分布/ 可以/ 用/ 更/ 简单/ 的/ 泊松/ 分布/ P/ (/ λ/ )/ 近似/ 替代/ ,/ 近似/ 的/ 频繁/ 概率/ 可以/ 使用/ 式/ (/ 7/ )/ 计算/ ,/ 其中/ Fp/ 表示/ 泊松/ 分布/ 的/ 累积/ 分布/ 函数/ ./ FPv/ (/ DS/ [/ i/ ]/ )/ ≈/ 1/ -/ Fp/ (/ minsup/ -/ 1/ ,/ expv/ (/ DS/ [/ i/ ]/ )/ )/ 从式/ (/ 7/ )/ 可以/ 看出/ 在/ 泊松/ 分布/ 中/ ,/ 仅/ 利用/ 期望/ 就/ 可以/ 得到/ 近似/ 概率/ 值/ ./ 由/ 第/ 2/ 节/ 可知/ ,/ 计算/ 基本/ 窗口/ 的/ 期望/ 仅/ 需要/ O/ (/ m/ )/ 的/ 时间/ 复杂度/ ,/ 而/ 计算/ 频繁/ 概率/ 需要/ O/ (/ m2/ )/ 的/ 时间/ 复杂度/ ./ 因此/ 利用/ 期望/ 剪枝/ 掉/ 部分/ 项/ ,/ 避免/ 进行/ 复杂/ 的/ 概率/ 计算/ 会/ 极大地提高/ 查询/ 效率/ ./ 由/ pUFI/ (/ DS/ [/ i/ ]/ )/ 的/ 定义/ 可知/ ,/ 对/ 未来/ 窗口/ 候选/ 集/ 的/ 构造/ 依据/ 的/ 是/ 当前/ 窗口/ 中/ 与/ 未来/ 窗口/ 中/ 的/ 重复/ 数据/ ,/ 这部分/ 仅仅/ 是/ 未来/ 窗口/ 的/ 部分/ 数据/ ,/ 因此/ 无法/ 计算/ 未来/ 窗口/ 中项/ 的/ 精确/ 期望值/ ,/ 但/ 可以/ 估算/ 其上界/ ./ 由于/ 传感器/ 产生/ 的/ 数据/ 是/ 随机/ 的/ ,/ 没有/ 任何/ 分布/ 信息/ ,/ 因此/ 只能/ 采用/ 最/ 简单/ 的/ 方法/ 进行/ 预测/ ,/ 即/ 假设/ 后续/ 数据/ 全部/ 与/ v/ 取值/ 相同/ ./ 利用/ 该/ 方法/ 可以/ 推测/ 项/ v/ 在/ 未来/ DS/ [/ i/ ]/ 窗口/ 的/ 期望/ 上/ 界/ ,/ 如式/ (/ 8/ )/ 所示/ ,/ 其中/ j/ 表示/ 未来/ 窗口/ DS/ [/ i/ ]/ 与/ 当前/ 窗口/ 重复/ 的/ 基本/ 窗口/ 的/ 个数/ ./ up/ _/ expv/ (/ DS/ [/ i/ ]/ )/ =/ BWL/ / (/ Wb/ -/ j/ )/ +/ ∑/ j/ 由泊松/ 分布/ 性质/ 可知/ 式/ (/ 8/ )/ 随/ 期望/ 单调/ 递增/ ./ 因此/ 可以/ 通过/ 项/ v/ 的/ 期望/ 上/ 界/ 利用/ 式/ (/ 7/ )/ 计算/ 近似/ 频繁/ 概率/ 的/ 上界/ ./ 由/ 文献/ [/ 13/ ]/ 可知/ 使用/ 泊松/ 分布/ 计算/ 的/ 近似/ 概率/ 与/ 精确/ 概率/ 之间/ 的/ 误差/ 为/ δ/ =/ min/ (/ (/ expv/ (/ DS/ [/ i/ ]/ )/ )/ -/ 1/ ,/ 1/ )/ ∑/ DS/ [/ i/ ]/ 繁项/ 的/ 概率/ 上界/ 如式/ (/ 9/ )/ 所示/ ./ up/ _/ FPv/ (/ DS/ [/ i/ ]/ )/ =/ 1/ -/ F/ (/ up/ _/ expj/ (/ v/ )/ )/ +/ δ/ (/ 9/ )/ 若/ 概率/ 上界/ up/ _/ FPj/ (/ v/ )/ </ minprob/ ,/ 则/ 项/ v/ 可以/ 过滤/ 掉/ ./ 在/ 图/ 2/ 中/ 分别/ 列出/ 了/ 图/ 1/ 所示/ 3/ 个/ 窗口/ 的/ 候选/ 集/ ./ 假设/ DS/ [/ 1/ ]/ 根据/ 基本/ 窗口/ B/ [/ 1/ ]/ ,/ B/ [/ 2/ ]/ 和/ B/ [/ 3/ ]/ 当中/ 的/ 数据/ 按照/ 上述/ 剪枝/ 策略/ 得到/ 候选/ 元素/ 2/ ,/ 3/ ,/ 则/ pUFI/ (/ DS/ [/ 1/ ]/ )/ =/ {/ 2/ ,/ 3/ }/ ./ DS/ [/ 2/ ]/ 根据/ 基本/ 窗口/ B/ [/ 2/ ]/ 和/ B/ [/ 3/ ]/ 当中/ 的/ 数据/ 得到/ 候选/ 元素/ 1/ ,/ 2/ ,/ 3/ ,/ pUFI/ (/ DS/ [/ 2/ ]/ )/ =/ {/ 1/ ,/ 2/ ,/ 3/ }/ ./ DS/ [/ 3/ ]/ 根据/ 基本/ 窗口/ B/ [/ 3/ ]/ 当中/ 的/ 数据/ 得到/ 候选/ 元素/ 1/ ,/ 2/ ,/ 3/ ,/ 4/ ,/ pUFI/ (/ DS/ [/ 3/ ]/ )/ =/ {/ 1/ ,/ 2/ ,/ 3/ ,/ 4/ }/ ./ 根据/ 剪枝/ 规则/ ,/ 随着/ 数据/ 的/ 不断/ 到达/ ,/ 可以/ 逐步/ 精化/ 元素/ 的/ 期望值/ ,/ 从而/ 求得/ 更/ 精确/ 的/ 频繁/ 概率/ 上/ 界/ ,/ 过滤/ 掉/ 更/ 多/ 的/ 元素/ ,/ 而/ 不用/ 采用/ 基于/ 动态/ 规划/ 的/ 方法/ 进行/ 概率/ 计算/ ,/ 降低/ 了/ 算法/ 的/ 开销/ ./ 实验/ 结果表明/ ,/ 随着/ 数据/ 的/ 到达/ ,/ 该/ 方法/ 可以/ 过滤/ 掉/ 大量/ 的/ Page6/ 元素/ ./ 由于/ 不同/ 窗口/ 候选/ 集/ 独立/ ,/ 窗口/ 滑动/ 时/ 可以/ 容易/ 地/ 对/ 候选/ 集/ 进行/ 维护/ ./ 首先/ ,/ 基于/ 当前/ 窗口/ 的/ 候选/ 集/ ,/ 通过/ 基本/ 算法/ 得到/ 概率/ 频繁/ 项/ ./ 当/ 数据/ 过期/ 时/ ,/ 如图/ 3/ 所示/ ,/ 将/ 最/ 老/ 窗口/ 中/ 的/ 候选/ 集/ 删除/ ./ 当有/ 新/ 数据/ 插入/ 时/ ,/ 分别/ 更新/ 每个/ 窗口/ 中/ 的/ 候选/ 集/ ,/ 对/ DS/ [/ 2/ ]/ ,/ DS/ [/ 3/ ]/ 窗口/ 中/ 的/ 候选/ 集/ 进行/ 更新/ ,/ 并/ 对/ 最新/ 到达/ 的/ 窗口/ 构建/ 新/ 的/ 候选/ 集/ DS/ [/ 4/ ]/ ./ 4.2/ ./ 2/ 候选/ 集/ 压缩/ 从/ 上述/ 分析/ 可以/ 看出/ ,/ 对/ 每个/ 窗口/ 独立/ 维护/ 候选/ 集/ ,/ 可以/ 很/ 容易/ 地/ 得到/ 查询/ 结果/ ,/ 但是/ 不同/ 窗口/ 的/ 候选/ 集/ 存在/ 大量/ 的/ 重复/ 元素/ ,/ 如图/ 2/ 所示/ ,/ 项/ {/ 1/ ,/ 2/ ,/ 3/ }/ 同时/ 出现/ 在/ 窗口/ DS/ [/ 2/ ]/ ,/ DS/ [/ 3/ ]/ 中/ ,/ 如果/ 将/ 不同/ 窗口/ 中/ 的/ 相同/ 数据压缩/ ,/ 只/ 保留/ 一个/ 备份/ ,/ 会/ 减少/ 存储空间/ ./ 因此/ ,/ 本文/ 设计/ 了/ 一种/ 带/ 窗口/ 标记/ 的/ 保存/ 候选/ 集/ 元素/ 的/ 数据结构/ cp/ -/ list/ ,/ 如图/ 4/ 所示/ ./ 如图/ 4/ 所示/ ,/ 将/ 图/ 2/ 中/ 不同/ 窗口/ 中/ 的/ 重复/ 元素/ 压缩/ ,/ 并且/ 增加/ 窗口/ 标识/ ,/ 用来/ 标注/ 该/ 元素/ 隶属于/ 哪个/ 窗口/ ./ 元素/ 的/ 排列/ 顺序/ 按照/ 起始/ 窗口/ 的/ 标识/ 从小到大/ 排列/ ,/ 具有/ 相同/ 起始/ 窗口/ 标识/ 的/ 元素/ 按照/ 期望/ 上/ 界/ (/ up/ _/ expv/ (/ DS/ [/ i/ ]/ )/ )/ 的/ 值/ 从/ 大到/ 小/ 排列/ ./ 虽然/ 通过/ 使用/ 窗口/ 标记/ 的/ 方法/ 可以/ 减少/ 存储空间/ ,/ 但是/ 该/ 方法/ 需要/ 保留/ 所有/ 窗口/ 标记/ ,/ 算法/ 需要/ 对/ 每个/ 候选/ 集中/ 的/ 项/ 维护/ Wb/ 个/ 窗口/ 标记/ ,/ 当/ Wb/ 值/ 较大/ 时/ ,/ 维护/ 窗口/ 标记/ 的/ 代价/ 也/ 是/ 不可/ 忽视/ 的/ ./ 通过/ 分析/ 不同/ 窗口/ 中/ 的/ 预测/ 候选/ 集/ ,/ 发现/ 了/ 定理/ 1/ ./ 定理/ 1/ ./ / v/ ∈/ pUFI/ (/ DS/ [/ i/ ]/ )/ ∧/ v/ ∈/ pUFI/ (/ DS/ [/ j/ ]/ )/ ,/ 则/ 对于/ / l/ ∈/ [/ i/ ,/ j/ ]/ ,/ v/ ∈/ pUFI/ (/ DS/ [/ l/ ]/ )/ ,/ 其中/ i/ </ j/ ,/ j/ =/ i/ +/ 1/ ,/ …/ ,/ i/ +/ Wb/ -/ 1/ ./ 证明/ ./ v/ 是/ DS/ [/ i/ ]/ 的/ 候选/ 元素/ ,/ 说明/ up/ _/ FPv/ (/ DS/ [/ i/ ]/ )/ >/ minprob/ ,/ 计算/ 概率/ 上界/ up/ _/ FPv/ (/ DS/ [/ i/ ]/ )/ 采用/ 的/ 期望值/ 为/ up/ _/ expv/ (/ DS/ [/ i/ ]/ )/ ./ 因为/ i/ </ j/ ,/ 即/ 假设/ 在/ 未来/ 窗口/ DS/ [/ l/ ]/ 中/ ,/ 项/ v/ 全部/ 出现/ 且/ 概率/ 为/ 1/ ,/ 所以/ up/ _/ expv/ (/ DS/ [/ i/ ]/ )/ / up/ _/ expv/ (/ DS/ [/ l/ ]/ )/ ./ 因为/ 概率/ 随/ 期望/ 单调/ 递增/ ,/ up/ _/ FPv/ (/ DS/ [/ i/ ]/ )/ / up/ _/ FPv/ (/ DS/ [/ l/ ]/ )/ ,/ 所以/ up/ _/ FPv/ (/ DS/ [/ l/ ]/ )/ >/ minprob/ ,/ v/ ∈/ pUFI/ (/ DS/ [/ l/ ]/ )/ ./ 如果/ 项/ v/ 是/ DS/ [/ i/ ]/ 窗口/ 的/ 候选/ 元素/ ,/ 且/ v/ 是/ DS/ [/ j/ ]/ 窗口/ 的/ 候选/ 元素/ ,/ 则/ v/ 一定/ 是/ 所有/ DS/ [/ i/ ]/ 和/ DS/ [/ j/ ]/ 之间/ 所有/ 连续/ 窗口/ 中/ 的/ 候选/ 元素/ ./ 因此/ 仅/ 记录/ 起始/ 窗口/ 标记/ (/ Wstart/ )/ 和/ 其/ 结束/ 窗口/ 标记/ (/ Wend/ )/ 即可/ ,/ 如图/ 5/ 所示/ ./ 通过/ 使用/ 压缩/ 的/ cp/ -/ list/ 存储/ 结构/ ,/ 且/ 仅/ 记录/ 起始/ 和/ 结束/ 窗口/ 标记/ ,/ 可以/ 极大/ 地/ 减少/ 存储空间/ ,/ 这/ 对于/ 数据流/ 处理/ 是/ 非常/ 重要/ 的/ ./ 4.2/ ./ 3/ 候选/ 集/ 更新/ 采用/ 压缩/ 的/ cp/ -/ list/ 存储/ 结构/ 可以/ 减少/ 存储空间/ ,/ 但是/ 当/ 窗口/ 更新/ 时/ ,/ 由于/ 不同/ 窗口/ 的/ 候选/ 集都/ 存放/ 在/ 同一个/ 候选/ 集/ 列表/ 中/ ,/ 则/ 候选/ 集/ 的/ 更新/ 比/ 独立/ 存放/ 的/ 方法/ 要/ 复杂/ ./ 下面/ 从/ 删除/ 过期数据/ 和/ 插入/ 新/ 数据/ 两/ 方面/ 描述/ 候选/ 集/ 列表/ 的/ 维护/ 算法/ ./ (/ 1/ )/ 删除/ 过期数据/ ./ 在/ 没有/ 使用/ 压缩/ 方法/ 的/ 算法/ 中/ ,/ 元素/ 过期/ 仅/ 删除/ 当前/ 最老/ 窗口/ 中/ 的/ 候选/ 集/ 即可/ ./ 而/ 采用/ 压缩/ 的/ cp/ -/ list/ 结构/ ,/ 所有/ 窗口/ 的/ 候选/ 集/ 压缩/ 存放/ 在/ 一起/ ,/ 不能/ 简单/ 地/ 删除/ ./ 具体方法/ 为先/ 查询/ 起始/ 窗口/ 标记/ ,/ 找到/ 最老/ 窗口/ 中/ 的/ 候选/ 元素/ ,/ 并/ 将/ 起始/ 窗口/ 标记/ 加/ 1/ ./ 如果/ 起始/ 窗口/ 标记/ 大于/ 结束/ 窗口/ 标记/ ,/ 则/ 真正/ 删除/ 该/ 元素/ ./ 由于/ 不同/ 窗口/ 中/ 的/ 候选/ 元素/ 都/ 保存/ 在/ 如图/ 5/ 所示/ 的/ cp/ -/ list/ 中/ ,/ 因此/ 如何/ 快速/ 的/ 找到/ 最老/ 窗口/ 的/ 候选/ 元素/ 也/ 是/ 关键问题/ 之一/ ./ 本/ 算法/ 在/ 构造/ cp/ -/ list/ 时/ ,/ 按照/ 起始/ 窗口/ 标记/ 从小到大/ 对/ 元素/ 进行/ 排列/ ,/ 因此/ 在/ 查询/ 时/ ,/ 仅/ 需/ 将/ cp/ -/ list/ 中/ 最/ 前面/ 的/ 元素/ “/ 删除/ ”/ 即可/ ,/ 直到/ 遇到/ 第一个/ 次/ 老/ 窗口/ 中/ 的/ 元素/ 为止/ ./ 如图/ 5/ 所示/ ,/ 从头开始/ 对/ cp/ -/ list/ 中/ 的/ 元素/ 进行/ 处理/ ,/ 首先/ 处理/ 元素/ 2/ ,/ 得到/ 起始/ 窗口/ 标记/ DS/ [/ 1/ ]/ ,/ 因为/ DS/ [/ 1/ ]/ Page7/ 是/ 当前/ 最老/ 的/ 窗口/ ,/ 将/ 其/ 起始/ 标记/ 加/ 1/ ,/ 变为/ DS/ [/ 2/ ]/ ,/ 继续/ 处理/ 下/ 一个/ 元素/ ,/ 当/ 处理/ 到/ 元素/ 1/ 的/ 时候/ ,/ 发现/ 起始/ 窗口/ 为/ DS/ [/ 2/ ]/ ,/ 则/ 不/ 需/ 继续/ 处理/ ,/ 因为/ 已经/ 将/ 所有/ DS/ [/ 1/ ]/ 窗口/ 中/ 的/ 候选/ 元素/ 处理完毕/ ./ 以图/ 1/ 所示/ 滑动/ 窗口/ 为例/ ,/ 当/ B/ [/ 1/ ]/ 基本/ 窗口/ 数据/ 过期/ 后/ ,/ 图/ 5/ 更新/ 后/ 的/ 处理结果/ 如图/ 6/ 所示/ ./ (/ 2/ )/ 插入/ 新/ 数据/ ./ 首先/ 对/ 不同/ 窗口/ 中/ 的/ 候选/ 集/ 进行/ 更新/ ./ 随着/ 新/ 基本/ 数据/ 的/ 到达/ ,/ 可以/ 进一步/ 精化/ 每个/ 未来/ 窗口/ 中/ 元素/ 的/ 期望值/ ,/ 从而/ 得到/ 更/ 准确/ 的/ 概率/ 上/ 界/ ,/ 进而/ 得到/ 更/ 准确/ 的/ 候选/ 集/ ./ 因为/ 元素/ 按/ 起始/ 窗口/ 标记/ 从小到大/ 排列/ ,/ 因此/ 从头/ 对/ 元素/ 依次/ 处理/ ,/ 即/ 可以/ 更新/ 每个/ 窗口/ 的/ 候选/ 集/ ./ 对于/ 新/ 基本/ 窗口/ 的/ 数据/ ,/ 同样/ 按照/ 4.2/ ./ 1/ 节/ 的/ 方法/ 构造/ 候选/ 集/ ,/ 若/ 新窗口/ 的/ 候选/ 元素/ 已经/ 在/ cp/ -/ list/ 中/ 存在/ ,/ 则/ 将/ 该/ 元素/ 结束/ 窗口/ 标记/ 加/ 1/ ;/ 否则/ 在/ cp/ -/ list/ 末尾/ 插入/ 该/ 元素/ ,/ 起始/ 标记/ 和/ 结束/ 标记/ 均/ 为/ 该/ 窗口/ 的/ 标号/ ./ 以图/ 1/ 滑动/ 窗口/ 为例/ ,/ 当/ B/ [/ 4/ ]/ 基本/ 窗口/ 到达/ 时/ ,/ DS/ [/ 2/ ]/ 成为/ 当前/ 窗口/ ,/ 包括/ B/ [/ 2/ ]/ ,/ B/ [/ 3/ ]/ 和/ B/ [/ 4/ ]/ 基本/ 窗口/ 中/ 的/ 数据/ ,/ 可以/ 进一步/ 缩小/ 候选/ 元素/ 的/ 范围/ ,/ 假设/ 更新/ 后/ 的/ 候选/ 集/ 为/ {/ 2/ ,/ 3/ }/ ,/ 按照/ 同样/ 方法/ 更新/ DS/ [/ 3/ ]/ 候选/ 集/ ,/ 假设/ 结果/ 为/ {/ 2/ ,/ 3/ ,/ 4/ }/ ,/ 利用/ B/ [/ 4/ ]/ 当中/ 的/ 数据/ 对/ DS/ [/ 4/ ]/ 窗口/ 进行/ 预测/ ,/ 假设/ 结果/ 为/ {/ 2/ ,/ 3/ ,/ 4/ ,/ 5/ }/ ,/ 更新/ 后/ 的/ cp/ -/ list/ 结构/ 如图/ 7/ 所示/ ./ 4.2/ ./ 4/ 优化/ 算法/ (/ is/ -/ UFI/ )/ 由于/ 基本/ 算法/ 存在/ 查询/ 效率/ 不高/ 的/ 问题/ ,/ 因此/ 本节/ 在/ 基本/ 算法/ bs/ -/ UFI/ 的/ 基础/ 上/ 提出/ 了/ 一种/ 优化/ 算法/ is/ -/ UFI/ ,/ 如/ 算法/ 2/ 所示/ ./ 该/ 算法/ 使用/ 泊松/ 分布/ 过滤/ 策略/ 构造/ 候选/ 集/ ,/ 并/ 使用/ cp/ -/ list/ 压缩/ 结构/ 动态/ 地/ 维护/ 候选/ 集合/ ./ 算法/ 2/ ./ 输入/ :/ DS/ ;/ minsup/ ;/ minprob/ ;/ BWL/ ;/ Wb/ 输出/ :/ 概率/ 频繁/ 项/ 集合/ Result1/ ./ Result/ =/ NULL/ ;/ 2/ ./ FOR/ 每个/ 新/ 到达/ 的/ 基本/ 窗口/ B/ [/ i/ +/ j/ ]/ 3/ ./ FOR/ / v/ ∈/ B/ [/ i/ +/ j/ ]/ 4/ ./ 计算/ expv/ (/ j/ )/ ,/ up/ _/ expv/ (/ j/ )/ ,/ up/ _/ FPv/ (/ j/ )/ ;/ 5/ ./ IFup/ _/ FPv/ (/ j/ )/ </ minprob6/ ./ 过滤/ 掉/ 项/ v/ ;/ 7/ ./ ELSE8/ ./ IFv/ / cp/ -/ list9/ ./ // / 按照/ v/ ./ start/ 窗口/ 标记/ 升序/ 排列/ ,/ 具有/ 相/ 10/ ./ 将/ v/ 加入/ cp/ -/ list/ ;/ v/ ./ start/ =/ i/ +/ j/ ;/ v/ ./ end/ =/ i/ +/ j/ ;/ 11/ ./ ELSE12/ ./ v/ ./ end/ =/ i/ +/ j/ ;/ 13/ ./ 计算/ supv/ [/ j/ ]/ ;/ 14/ ./ // // 窗口/ 滑动/ 15/ ./ FOR/ 每个/ 没有/ 被/ 过滤/ 掉/ 的/ 项/ v16/ ./ 根据/ supv/ (/ DS/ [/ i/ ]/ )/ 计算/ 频繁/ 概率/ FP/ (/ v/ )/ ;/ 17/ ./ IFFP/ (/ v/ )/ >/ minprob18/ ./ 将/ 项/ v/ 以/ 〈/ v/ ,/ FP/ (/ v/ )/ 〉/ 形式/ 加入/ Result/ 集合/ 中/ ;/ 19/ ./ // // 数据/ 过期/ 处理/ 20/ ./ FOR/ 过期/ 基本/ 窗口/ 的/ 每个/ 项/ v21/ ./ 删除/ supv/ (/ B/ [/ i/ +/ 0/ ]/ )/ ;/ 22/ ./ v/ ./ start/ ++/ ;/ 23/ ./ IFv/ ./ start/ >/ v/ ./ end24/ ./ 将/ 项/ v/ 从/ cp/ -/ list/ 中/ 删除/ ;/ 25/ ./ // // 数据/ 插入/ 处理/ 26/ ./ 创建/ 新/ 的/ 预测/ 候选/ 集/ pUFI/ (/ B/ [/ new/ ]/ )/ ;/ 27/ ./ 将/ pUFI/ (/ B/ [/ new/ ]/ )/ 加入/ cp/ -/ list/ ;/ 28/ ./ 按照/ 式/ (/ 4/ )/ 计算/ supt/ (/ B/ [/ new/ ]/ )/ ./ 对于/ 每/ 一个/ 新/ 到达/ 的/ 基本/ 窗口/ B/ [/ i/ +/ j/ ]/ ,/ 计算/ 该/ 基本/ 窗口/ 中/ 所有/ 项/ 的/ 期望/ ,/ 并/ 将/ 该/ 期望值/ 与/ 前面/ 基本/ 窗口/ 的/ 期望/ 进行/ 累加/ ,/ 得到/ 真实/ 的/ expv/ [/ j/ ]/ ,/ 期望/ 上界/ up/ _/ expv/ (/ j/ )/ 和/ 概率/ 上界/ up/ _/ FPv/ (/ j/ )/ (/ 1/ ~/ 4/ 行/ )/ ,/ 若/ up/ _/ FPv/ (/ j/ )/ 小于/ 阈值/ ,/ 该项/ 被/ 过滤/ 掉/ (/ 5/ ~/ 6/ 行/ )/ ./ 对于/ 没有/ 过滤/ 掉/ 的/ 项/ v/ ,/ 如果/ 该项/ 不/ 在/ cp/ -/ list/ 中/ ,/ 按照/ 起始/ 窗口/ 标记/ 升序/ 排列/ 的/ 方式/ 将/ 其/ 加入/ 到/ cp/ -/ list/ 中/ ,/ 标记/ 起始/ 窗口/ 和/ 结束/ 窗口/ (/ 8/ ~/ 10/ 行/ )/ ./ 如果/ 该项/ 在/ cp/ -/ list/ 中/ ,/ 将/ 项/ v/ 结束/ 窗口/ 标记/ 改为/ 当前/ 窗口/ 标记/ 值/ (/ 11/ ~/ 12/ 行/ )/ ./ 计算/ 每个/ 基本/ 窗口/ 的/ 频次/ 分布/ (/ 13/ 行/ )/ ./ 当/ 窗口/ 滑动/ 时/ ,/ 根据/ supv/ (/ DS/ [/ i/ ]/ )/ ,/ 计算/ 当前/ 滑动/ 窗口/ 的/ 频繁/ 项/ (/ 14/ ~/ 18/ 行/ )/ ./ 数据/ 过期/ Page8/ 时/ ,/ 将/ 起始/ 窗口/ 标记/ 增/ 1/ ,/ 如果/ 起始/ 窗口/ 标记/ 小于/ 结束/ 窗口/ 标记/ ,/ 则/ 删除/ 该项/ (/ 19/ ~/ 24/ 行/ )/ ./ 当新/ 数据/ 到达/ ,/ 计算/ 新/ 的/ 基本/ 窗口/ 的/ 候选/ 元素/ ,/ 并/ 将/ 该/ 候选/ 集/ 加入/ cp/ -/ list/ 中/ (/ 25/ ~/ 27/ 行/ )/ ,/ 最后/ 计算/ 新/ 基本/ 窗口/ 的/ 频次/ 分布/ 函数/ (/ 28/ 行/ )/ ./ 时间/ 复杂度/ ./ 对于/ 每/ 一个/ 候选/ 元素/ 需要/ 计算/ 期望/ 及/ 出现/ 次数/ 进行/ 过滤/ 条件/ 的/ 判断/ ,/ 因此/ 需要/ 扫描/ 滑动/ 窗口/ 中/ 的/ 数据/ ,/ 时间/ 复杂度/ 为/ O/ (/ WL/ )/ ,/ 对于/ 没有/ 过滤/ 掉/ 的/ 元素/ ,/ 需要/ 利用/ 动态/ 规划/ 的/ 方法/ 计算/ 概率/ ,/ 每/ 一个/ 基本/ 窗口/ 中/ 计算/ 概率/ 的/ 时间/ 复杂度/ 为/ O/ (/ m2/ )/ (/ m/ 为项/ v/ 在/ 基本/ 窗口/ 中/ 出现/ 的/ 次数/ )/ ./ 在/ 整个/ 滑动/ 窗口/ 计算/ 概率/ 的/ 时间/ 复杂度/ 为/ O/ (/ Wbmlogm/ +/ Wbm2/ )/ ./ 因此/ ,/ 对于/ 单个/ 候选/ 元素/ ,/ 总/ 的/ 时间/ 复杂度/ 为/ O/ (/ WL/ )/ +/ O/ (/ Wbmlogm/ +/ Wbm2/ )/ ./ 空间/ 复杂度/ ./ 对于/ 每/ 一个/ 候选/ 元素/ ,/ 需/ 计算/ 期望/ ,/ 空间/ 复杂度/ 为/ O/ (/ 1/ )/ ./ 另外/ ,/ 记录/ supv/ (/ DS/ [/ i/ ]/ )/ 的/ 空间/ 复杂度/ 为/ O/ (/ numv/ (/ DS/ [/ i/ ]/ )/ )/ ,/ 所以/ ,/ 对于/ 单个/ 元素/ 总/ 的/ 空间/ 复杂度/ 为/ O/ (/ numv/ (/ DS/ [/ i/ ]/ )/ )/ ./ 5/ 实验/ 由于/ 目前/ 尚/ 没有/ 采用/ 滑动/ 窗口/ 模型/ 的/ 概率/ 频繁/ 项/ 查询/ 算法/ ,/ 本文/ 将/ 单/ 窗口/ 下/ 的/ UFI/ 算法/ [/ 8/ ]/ (/ PHH/ )/ 应用/ 到/ 滑动/ 窗口/ 下/ ,/ 作为/ 与/ 本文/ 提出/ 的/ 两个/ 算法/ 的/ 比较/ 基准/ ./ 因此/ 本文/ 共/ 对/ 3/ 个/ 算法/ 进行/ 评测/ :/ 单/ 窗口/ 频繁/ 项/ 查询/ 算法/ (/ PHH/ )/ 、/ 滑动/ 窗口/ 频繁/ 项/ 查询/ 基本/ 算法/ (/ bs/ -/ UFI/ )/ 和/ 滑动/ 窗口/ 频繁/ 项/ 查询/ 优化/ 算法/ (/ is/ -/ UFI/ )/ ./ 实验/ 环境/ ./ 实验/ 的/ 硬件/ 环境/ 为/ Pentium3/ ./ 0GHzCPU/ ,/ 4GB/ 内存/ ,/ 操作系统/ 为/ WindowsXP/ ,/ 并/ 采用/ MicrosoftV/ C++/ 6.0/ 编程/ 环境/ 开发/ 了/ 模拟/ 测试程序/ ./ 数据/ 集/ ./ 实验/ 采用/ 两组/ 数据/ 集/ ,/ 一组/ 是/ 真实/ 数据/ 集/ accidents/ ,/ 来自/ FrequentItemsetMining/ (/ FIMI/ )/ ,/ 另一组/ 数据/ 使用/ IBMDataGenerator/ 发生器/ ,/ 分别/ 生成/ 10/ 万个/ 元组/ ./ 由于/ 这/ 两个/ 数据/ 产生/ 的/ 都/ 是/ 频繁/ 项集/ ,/ 本文/ 对/ 其/ 简单/ 修改/ ,/ 只/ 保留/ 其中/ 一组/ 属性/ 的/ 值/ ,/ 构造/ 频繁/ 项/ ./ 对于/ 第/ 1/ 组/ 真实/ 数据/ 集/ ,/ 通过/ 分析/ 数据/ 取值/ 的/ 分布/ 情况/ ,/ 按照/ 相应/ 的/ 分布/ 为/ 每个/ 元组/ 分配/ 概率/ 值/ ./ 第/ 2/ 组/ 数据/ 采用/ 平均/ 分布/ ./ 其它/ 参数/ 的/ 缺省值/ 是/ minsup/ 为/ 100/ ,/ minprob/ 为/ 0.3/ ,/ 基本/ 窗口/ 的/ 元组/ 数为/ 1000/ ,/ 滑动/ 窗口/ 的/ 元组/ 数为/ 10000/ ./ 剪枝/ 能力/ 分析/ ./ 剪枝/ 能力/ 考查/ 了/ 优化/ 算法/ is/ -/ UFI/ 过滤/ 元组/ 的/ 能力/ ./ 因为/ 在/ bs/ -/ UFI/ 算法/ 中/ ,/ 没有/ 使用/ 过滤/ 策略/ ,/ 因此/ 剪枝/ 掉/ 的/ 元素/ 数目/ 为/ 0/ ,/ 故/ 没/ 在/ 图/ 中/ 对/ 该/ 算法/ 进行/ 表示/ ./ 图/ 8/ 、/ 图/ 9/ 表示/ 了/ 剪枝/ 能力/ 随/ minsup/ ,/ minprob/ 变化/ 的/ 情况/ ./ 从图/ 8/ 、/ 图/ 9/ 可以/ 看出/ ,/ 随着/ minsup/ ,/ minprob/ 的/ 逐渐/ 增加/ ,/ 剪枝/ 能力/ 不断/ 地/ 增强/ ,/ 由于/ IBM/ 数据/ 相对/ 稀疏/ ,/ 因此/ 剪枝/ 掉/ 的/ 元组/ 数目/ 较/ 多/ ./ 运行/ 时间/ 分析/ ./ 图/ 10/ 显示/ 参数/ W/ 对/ 时间/ 的/ 影响/ ./ W/ 表示/ 滑动/ 窗口/ 中/ 元组/ 的/ 总/ 个数/ ,/ 取值/ 范围/ 为/ 5000/ ~/ 10000/ ./ (/ a/ )/ 是/ 真实/ 数据/ 集/ 的/ 结果/ ,/ (/ b/ )/ 是/ IBM/ 数据/ 的/ 结果/ ./ 如图/ 10/ 所示/ ,/ 随着/ 数据量/ 增加/ ,/ 算法/ 运行/ 时间/ 也/ 会/ 增加/ ./ 但是/ ,/ 静态/ 的/ 频繁/ 项/ 查询/ 算法/ (/ PHH/ )/ 时间/ 增加/ 明显/ ,/ 因为/ 需要/ 重复/ 计算/ ./ 而/ 我们/ 提出/ 的/ 算法/ bs/ -/ UFI/ 与/ is/ -/ UFI/ 增加/ 相对/ 平缓/ ./ is/ -/ UFI/ 的/ 算法/ 性能/ 要/ 优于/ bs/ -/ UFI/ ,/ 因为/ is/ -/ UFI/ 算法/ 中仅/ 使用/ 期望/ 就/ 可以/ 过滤/ 掉/ 部分/ 元素/ ,/ 不/ 需要/ 再/ 使用/ 动态/ 规划/ 方法/ 进行/ 概率/ 计算/ ,/ 因此/ 节省/ 了/ 大量/ 的/ 时间/ ./ Page9/ 图/ 11/ 显示/ 参数/ minsup/ 对/ 时间/ 的/ 影响/ ./ 参数/ minsup/ 为/ 频次/ 阈值/ ,/ 取值/ 范围/ 为/ 100/ ~/ 1000/ ./ 如图/ 11/ 所示/ ,/ is/ -/ UFI/ 算法/ 总是/ 优于/ bs/ -/ UFI/ ./ 因为/ ,/ 在/ 窗口/ 更新/ 的/ 过程/ 中/ ,/ 会/ 剪枝/ 掉/ 一些/ 元组/ ,/ 且/ 计算/ 概率/ 可以/ 利用/ 之前/ 的/ 结果/ ,/ 所以/ 节省/ 了/ 时间/ ./ 另外/ ,/ 随着/ minsup/ 的/ 增加/ ,/ 剪枝/ 元组/ 数目/ 增多/ ,/ 时间/ 递减/ ,/ 而/ 没有/ 使用/ 剪枝/ 策略/ 的/ 算法/ 对/ 所有/ 的/ 元素/ 都/ 要/ 计算/ 概率/ ,/ 因此/ 时间/ 不变/ ./ 图/ 12/ 显示/ 参数/ minprob/ 对/ 时间/ 的/ 影响/ ./ 参数/ minprob/ 为/ 概率/ 阈值/ ,/ 取值/ 范围/ 为/ 0.1/ ~/ 0.8/ ./ 如图/ 12/ 所示/ ,/ 我们/ 的/ 算法/ 总是/ 优于/ 基本/ 算法/ ./ 原因/ 与/ minsup/ 相同/ ./ 但是/ 与/ minsup/ 相比/ ,/ 随着/ minprob/ 的/ 增加/ 算法/ 时间/ 下降/ 平缓/ ,/ 说明/ minprob/ 的/ 过滤/ 能力/ 比/ minsup/ 弱/ ./ 图/ 13/ 显示/ 基本/ 窗口/ BWL/ 对/ 时间/ 的/ 影响/ ./ 参数/ L/ 为/ 基本/ 窗口/ 的/ 尺寸/ ./ L/ 的/ 取值/ 从/ 100/ ~/ 1000/ ./ 如图/ 13/ 所示/ ,/ 随着/ L/ 的/ 增加/ ,/ 基本/ 窗口/ 的/ 元组/ 数目/ 增加/ ,/ 因此/ 计算/ 基本/ 窗口/ 频次/ 分布/ 函数/ 的/ 代价/ 增大/ ./ 采用/ 快速/ 傅里叶/ 算法/ 计算/ 总/ 的/ 分布/ 函数/ 时/ ,/ 需要/ 合并/ 的/ 基本/ 窗口/ 数目/ 减少/ ,/ 但是/ 由于/ 每个/ 基本/ 窗口/ 的/ 项/ 数目/ 增加/ ,/ 所以/ 在/ 合并/ 时/ 计算/ 代价/ 仍然/ 增加/ ./ 对于/ PHH/ 算法/ ,/ 每次/ 窗口/ 滑动/ ,/ 都/ 需要/ 重新处理/ ,/ 所以/ 时间/ 代价/ 不变/ ./ 内存/ 使用/ ./ 图/ 14/ ~/ 图/ 16/ 分析/ 了/ 不同/ 参数/ 对/ bs/ -/ UFI/ 和/ is/ -/ UFI/ 算法/ 内存/ 使用/ 的/ 影响/ ./ 这里/ 只/ 采用/ 了/ 真实/ 数据/ 集/ 进行/ 测试/ ./ 图/ 14/ 测试/ 了/ 滑动/ 窗口/ 尺寸/ 对/ 内存/ 的/ 影响/ ./ 由于/ bs/ -/ UFI/ 没有/ 使用/ 剪枝/ ,/ 需要/ 对/ 所有/ 数据/ 都/ 进行/ 概率/ 计算/ ,/ 其/ 空间/ 与/ 元素/ 数目/ 成/ 线性/ 增加/ ./ 而/ 使用/ 了/ 剪枝/ 的/ is/ -/ UFI/ 算法/ ,/ 有/ 大量/ 元素/ 被/ 剪枝/ ,/ 因此/ 空间/ 增加/ 相对/ 平缓/ ./ 图/ 15/ 、/ 图/ 16/ 测试/ 了/ 参数/ minsup/ ,/ minprob/ 对/ 内存/ 的/ 影响/ ./ 没有/ 使用/ 剪枝/ 的/ 算法/ 每次/ 处理/ 元素/ 数目/ 不变/ ,/ 因此/ 内存/ 消耗/ 不变/ ./ 而/ 使用/ 剪枝/ 的/ 算法/ 随/ minsup/ ,/ minprob/ 的/ 增加/ ,/ 剪枝/ 数目/ 增多/ ,/ 内存/ 消耗/ 逐渐/ 递减/ ./ Page10/ 扩展性/ ./ 最后/ 测试/ 了/ bs/ -/ UFI/ 和/ is/ -/ UFI/ 算法/ 改变/ 数据库/ 尺寸/ 对/ 时间/ 和/ 空间/ 性能/ 的/ 影响/ ./ 这里/ 只/ 采用/ IBM/ 数据/ 集/ 进行/ 测试/ ./ 图/ 17/ 表明/ 随着/ 数据/ 数目/ 的/ 增加/ ,/ 两个/ 算法/ 的/ 运行/ 时间/ 均/ 呈现/ 线性/ 增加/ 的/ 趋势/ ./ 但是/ ,/ 使用/ 了/ 剪枝/ 的/ is/ -/ UFI/ 算法/ 较/ bs/ -/ UFI/ 增加/ 相对/ 平缓/ ./ 因为/ is/ -/ UFI/ 算法/ 使用/ 了/ 剪枝/ 策略/ ,/ 有/ 大量/ 元素/ 被/ 剪枝/ ,/ 因此/ 处理/ 时间/ 较少/ ./ 相似/ 地/ ,/ 从图/ 18/ 可以/ 看出/ 算法/ 的/ 空间/ 性能/ 随/ 元组/ 数目/ 的/ 增加/ 同样/ 呈现/ 线性/ 增加/ 的/ 趋势/ ./ 6/ 结论/ 传感器/ 网络/ 产生/ 大量/ 的/ 感知/ 数据流/ ,/ 由于/ 自身/ 特性/ ,/ 使得/ 数据/ 带有/ 不确定性/ ./ 本文/ 针对/ 这种/ 不/ 确定/ 数据流/ ,/ 提出/ 了/ 基于/ 滑动/ 窗口/ 的/ 概率/ 阈值/ 频繁/ 项/ 查询/ 算法/ ,/ 为此/ ,/ 首先/ 提出/ 了/ 增量/ 查询/ 算法/ bs/ -/ UFI/ ,/ 以/ 避免/ 重复/ 计算/ ,/ 进而/ 提出/ 了/ 基于/ 泊松/ 分布/ 的/ 剪枝/ 策略/ ,/ 以/ 有效/ 地/ 过滤/ 掉/ 大量/ 不必/ 计算/ 的/ 项/ ,/ 最后/ 提出/ 了/ cp/ -/ list/ 数据结构/ ,/ 以/ 压缩/ 不同/ 窗口/ 之间/ 的/ 候选/ 集/ ,/ 减小/ 存储空间/ ./ 实验/ 证明/ 算法/ 在/ 时间/ 和/ 空间/ 均/ 具有/ 高效性/ ./ 由于/ 引入/ 了/ 不确定性/ ,/ 使得/ 频繁/ 项/ 查询/ 问题/ 变得/ 非常复杂/ ,/ 因此/ 本文/ 仅/ 考虑/ 了/ 集中式/ 的/ 算法/ ./ 但/ 传感器/ 网络/ 实际/ 是/ 一个/ 分布式/ 的/ 数据流/ 系统/ ,/ 对于/ 分布式/ 情况/ 下/ 设计/ 一种/ 旨在/ 减少/ 网络通信/ 量/ 的/ 不/ 确定/ 流/ 频繁/ 项/ 查询/ 算法/ 还/ 有待于/ 进一步/ 研究/ ./ 另外/ ,/ 有些/ 应用/ 只/ 需要/ 查询/ 近似/ 频繁/ 项/ ,/ 并不需要/ 精确/ 结果/ ,/ 因此/ 如何/ 在/ 精度/ 和/ 查询/ 代价/ 之间/ 进行/ 折中/ ,/ 使/ 之/ 既/ 能/ 满足用户/ 需求/ ,/ 又/ 能/ 提高/ 查询/ 效率/ ,/ 也/ 是/ 下/ 一步/ 工作/ 的/ 重点/ ./ 

