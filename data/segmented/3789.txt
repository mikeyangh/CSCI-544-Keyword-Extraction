Page1/ 云/ 计算/ 系统/ 相空间/ 分析模型/ 及/ 仿真/ 研究/ 王鹏/ 1/ )/ 张磊/ 1/ )/ 任超/ 1/ )/ 郭又铭/ 2/ )/ ,/ 3/ )/ 1/ )/ (/ 成都/ 信息/ 工程学院/ 并行计算/ 实验室/ 成都/ 610225/ )/ 2/ )/ (/ 中国科学院/ 成都/ 计算机/ 应用/ 研究所/ 成都/ 610041/ )/ 3/ )/ (/ 中国科学院/ 研究生院/ 北京/ 100049/ )/ 摘要/ 针对/ 云/ 计算/ 系统/ 具有/ 海量/ 节点/ 和/ 节点/ 间/ 高/ 耦合/ 性/ 的/ 特点/ ,/ 提出/ 了/ 将/ 云/ 计算/ 系统/ 投影/ 到/ 参数/ 相空间/ ,/ 将/ 节点/ 参数/ 的/ 变化/ 转化/ 为/ 参数/ 相空间/ 中点/ 的/ 运动/ ,/ 利用/ 海量/ 节点/ 在/ 参数/ 相空间/ 的/ 运动/ 与/ 热力学/ 运动/ 的/ 相似性/ 定义/ 来/ 分析/ 云/ 计算/ 系统/ 在/ 相空间/ 上/ 的/ 广义/ 热力学/ 参数/ ,/ 并/ 在/ 参数/ 相空间/ 的/ 基础/ 上/ 进一步/ 定义/ 云/ 计算/ 系统/ 的/ 动量/ 相空间/ ,/ 建立/ 云/ 计算/ 相空间/ 分析方法/ 的/ 基本/ 理论/ 模型/ ./ 依据/ 该/ 模型/ 建立/ 了/ 相空间/ 调度/ 算法/ ,/ 通过/ 仿真/ 对比/ 实验/ 验证/ 了/ 相空间/ 分析模型/ 对云/ 计算/ 系统/ 工作/ 状态/ 的/ 分析/ 表述/ 能力/ 和/ 相空间/ 调度/ 算法/ 的/ 有效性/ ./ 相空间/ 调度/ 算法/ 能/ 使/ 云/ 计算/ 系统/ 在/ 参数/ 相空间/ 中/ 保持/ 低/ 熵/ 的/ 均衡/ 状态/ ./ 关键词/ 云/ 计算/ ;/ 参数/ 相空间/ ;/ 动量/ 相空间/ ;/ 相空间/ 调度/ 算法/ ;/ 广义/ 热力学/ 参数/ 1/ 引言/ 云/ 计算/ 系统/ 通过/ 整合/ 大量/ 服务器/ 的/ 计算/ 和/ 存储/ 等/ 资源/ ,/ 形成/ 一个/ 可/ 弹性/ 化/ 分配/ 的/ 资源/ 池/ 提供/ 给/ 用户/ [/ 1/ -/ 2/ ]/ ./ 由于/ 云/ 计算/ 系统/ 中/ 存在/ 着/ 频繁/ 的/ 计算/ 迁移/ 、/ 存储/ 迁移/ 、/ 计算/ 备份/ 、/ 存储/ 备份/ 、/ 节点/ 失效/ 处理/ 等/ 节点/ 间/ 的/ 高/ 耦合/ 性/ 操作/ 使云/ 计算/ 系统/ 成为/ 一种/ 高/ 耦合/ 的/ 集群/ 系统/ [/ 3/ ]/ ,/ 这/ 一点/ 云/ 计算/ 数据中心/ 与/ 传统/ 数据中心/ 有/ 很大/ 的/ 不同/ ,/ 传统/ 数据中心/ 服务器之间/ 的/ 逻辑/ 耦合/ 性较/ 低/ ,/ 服务器/ 只是/ 在/ 物理/ 上/ 被/ 放在/ 一起/ ,/ 这种/ 情况/ 下/ 获得/ 数据中心/ 的/ 整体/ 工作/ 态势/ 并/ 没有/ 太大/ 的/ 意义/ ,/ 而云/ 计算/ 数据中心/ 由于/ 服务器/ 的/ 强/ 耦合/ 性/ 同时/ 又/ 是/ 一个/ 统一/ 的/ 资源/ 池/ ,/ 其/ 更/ 关心/ 系统/ 的/ 整体/ 工作/ 态势/ ./ 云/ 计算/ 系统/ 节点/ 的/ 海量/ 性/ 和/ 节点/ 间/ 的/ 高/ 耦合/ 性为/ 分析/ 云/ 计算/ 系统/ 架构/ 和/ 模型/ 带来/ 了/ 很大/ 的/ 困难/ ,/ 找到/ 一种/ 能/ 有效/ 描述/ 云/ 计算/ 系统/ 整体/ 工作/ 态势/ 的/ 理论/ 模型/ 对云/ 计算技术/ 的/ 发展/ 具有/ 重要/ 的/ 意义/ ./ 近年来/ 对云/ 计算/ 系统/ 的/ 架构/ 和/ 模型/ 的/ 研究/ 已/ 成为/ 了/ 一个/ 热门/ 研究/ 领域/ ,/ 谷歌/ 公司/ 提出/ 了/ 以/ MapReduce/ 为/ 代表/ 的/ 云/ 计算/ 分布式/ 处理/ 模型/ [/ 4/ ]/ ,/ 其它/ 一些/ 企业/ 和/ 研究者/ 也/ 相继/ 提出/ 了/ 自己/ 的/ 云/ 计算/ 模型/ [/ 5/ -/ 8/ ]/ ,/ 但/ 目前/ 缺乏/ 一种/ 能/ 有效/ 地/ 反映/ 云/ 计算/ 系统/ 海量/ 节点/ 和/ 高/ 耦合/ 特征/ 的/ 云/ 计算/ 分析模型/ 来/ 支持/ 云/ 计算/ 架构/ 和/ 模型/ 的/ 研究/ ./ 相空间/ 在/ 数学/ 与/ 物理学/ 中/ ,/ 是/ 一个/ 用来/ 表示/ 系统/ 所有/ 可能/ 状态/ 的/ 空间/ ;/ 系统/ 每个/ 可能/ 的/ 状态/ 都/ 有/ 对应/ 的/ 相空间/ 的/ 点/ ./ 借/ 相空间/ 这一/ 思路/ 来/ 表示/ 云/ 计算/ 系统/ 的/ 工作/ 状态/ 时/ ,/ 云/ 计算/ 系统/ 中/ 的/ 每/ 一台/ 服务器/ 节点/ 对应/ 于/ 相空间/ 上/ 的/ 一个点/ ,/ 点/ 的/ 位置/ 就/ 描述/ 了/ 该/ 服务器/ 的/ 当前工作/ 状态/ ,/ 点/ 的/ 运动/ 就/ 描述/ 服务器/ 参数/ 的/ 变化/ ,/ 相空间/ 投影/ 方法/ 给/ 云/ 计算/ 系统/ 的/ 仿真/ ,/ 调度/ 算法/ 的/ 设计/ 、/ 分析/ 提供/ 了/ 一种/ 新/ 的/ 视图/ ,/ 使/ 我们/ 能/ 从/ 整体/ 上/ 深刻/ 地/ 观察/ 系统/ 的/ 工作/ 状态/ ./ 同时/ 资源/ 调度/ 和/ 负载/ 均衡/ 是/ 云/ 计算/ 和/ 集群/ 系统/ 研究/ 中/ 的/ 传统/ 话题/ [/ 9/ -/ 10/ ]/ ,/ 各类/ 均衡/ 算法/ 层出不穷/ ,/ 但/ 根据/ 调度/ 策略/ 的/ 不同/ ,/ 现有/ 的/ 均衡/ 算法/ 大致/ 可以/ 归为/ 两类/ :/ 静态/ 负载/ 均衡/ 算法/ 和/ 动态/ 负载/ 均衡/ 算法/ ./ 静态/ 负载/ 均衡/ 算法/ 具有/ 开销/ 小/ 、/ 实现/ 简单/ 等/ [/ 11/ -/ 12/ ]/ 特点/ ,/ 一度/ 曾/ 成为/ 关注/ 的/ 焦点/ ,/ 但/ 由于/ 存在/ 不/ 考虑/ 各/ 节点/ 服务器/ 的/ 实际/ 负载/ 情况/ 、/ 灵活性/ 差/ 等/ 缺点/ 而/ 逐渐/ 被/ 动态/ 负载/ 均衡/ 算法/ 所/ 取代/ ./ 目前/ ,/ 多数/ 的/ 动态/ 负载/ 均衡/ 算法/ 均/ 是/ 基于/ 静态/ 负载/ 均衡/ 算法/ 发展/ 而/ 来/ ,/ 如/ 文献/ [/ 12/ ]/ 阐述/ 了/ 静态/ 均衡/ 算法/ 的/ 优缺点/ ,/ 并/ 在/ 先来/ 先/ 服务/ 调度/ 算法/ (/ FCFS/ )/ 基础/ 上/ 提出/ 了/ 一种/ 新/ 的/ 动态/ 负载/ 均衡/ 算法/ ,/ 实验/ 结果显示/ 该/ 算法/ 性能/ 要/ 明显/ 优于/ 静态/ 算法/ ;/ 文献/ [/ 13/ ]/ 在/ 回填/ 调度/ 算法/ 的/ 基础/ 上/ ,/ 采用/ 限时/ 动态/ 规划/ 策略/ ,/ 提出/ 了/ 基于/ 时间/ 范围/ 内/ 的/ 动态/ 规划/ 回填/ 调度/ 算法/ ./ 然而/ ,/ 近年来/ 随着/ 能量/ 、/ 熵/ 、/ 相空间/ 、/ 量子/ 等/ 物理/ 手段/ [/ 14/ -/ 16/ ]/ 相继/ 进入/ 算法/ 研究者/ 们/ 的/ 视野/ ,/ 一些/ 研究者/ 也/ 开始/ 利用/ 这些/ 手段/ 来/ 解决/ 资源/ 调度/ 和/ 负载/ 均衡/ 问题/ ./ 孙宏元/ 等/ 人/ [/ 17/ ]/ 给出/ 了/ 并行计算/ 熵/ 的/ 概念/ ,/ 并/ 在/ 此基础/ 上/ 建立/ 同构/ 集群/ 负载/ 均衡/ 算法/ ./ 该/ 算法/ 通过/ 设立/ 并行计算/ 熵/ 值/ 的/ 阈值/ ,/ 用来/ 调整/ 节点/ 间/ 负载/ 的/ 不/ 均衡/ ./ 该/ 算法/ 强调/ 均衡/ 算法/ 中/ 的/ 任务/ 动态/ 迁移/ ,/ 适合/ 于/ 大/ 计算/ 量/ 并发/ 任务/ 的/ 高性能/ 集群/ 系统/ ,/ 而/ 本文/ 研究/ 的/ 内容/ 更/ 倾向/ 于/ 面向/ 小/ 计算/ 量/ 海量/ 并发/ 任务/ 的/ 瘦/ 服务器/ 集群/ 系统/ ./ 董/ 静宜/ 等/ 人/ [/ 18/ ]/ 研究/ 了/ 云/ 计算/ 系统/ 状态/ 变化/ 与/ 能量/ 、/ 熵/ 之间/ 的/ 内在联系/ ,/ 该/ 方法/ 主要/ 用于/ 对云/ 计算/ 系统/ 工作/ 状态/ 进行/ 整体/ 评估/ ,/ 无法/ 直接/ 对/ 系统资源/ 的/ 调度/ 分配/ 起到/ 指引/ 作用/ ./ 云/ 计算/ 系统/ 是/ 一种/ 海量/ 节点/ 条件/ 下/ 的/ 高/ 耦合/ 系统/ ,/ 这/ 就/ 为/ 云/ 计算/ 系统分析/ 模型/ 理论/ 和/ 调度/ 算法/ 的/ 设计/ 提出/ 了/ 新/ 的/ 要求/ ,/ 寻找/ 一种/ 适合/ 云/ 计算/ 系统/ 的/ 分析模型/ 并/ 建立/ 相应/ 的/ 资源/ 调度/ 算法/ 框架/ 变得/ 非常/ 迫切/ ,/ 相空间/ 分析方法/ 也/ 有望/ 成为/ 建立/ 新/ 的/ 调度/ 算法/ 的/ 一种/ 新思路/ ./ 本文/ 将/ 海量/ 节点/ 云/ 计算/ 系统/ 向/ 相空间/ 映射/ ,/ 建立/ 云/ 计算/ 系统/ 相空间/ 分析模型/ ,/ 提出/ 基于/ 相空间/ 分析模型/ 的/ 云/ 计算/ 系统资源/ 调度/ 的/ 基础/ 算法/ ,/ 并/ 利用/ 相空间/ 仿真/ 模型/ 对/ 调度/ 算法/ 进行/ 了/ 对比/ 分析/ ,/ 证实/ 相空间/ 分析模型/ 对云/ 计算/ 系统/ 的/ 建模/ 能力/ 和/ 分析/ 表述/ 能力/ ./ 2/ 云/ 计算/ 系统/ 相空间/ 分析模型/ 的/ 建立/ 云/ 计算/ 系统/ 由/ 大量/ 高/ 耦合/ 的/ 服务器/ 节点/ 构成/ ,/ 如果/ 直接/ 对/ 每台/ 服务器进行/ 观察/ 分析/ 我们/ 将/ 无法/ 了解/ 系统/ 的/ 整体/ 运行/ 状态/ ,/ 从而/ 无法/ 对/ 系统资源/ 进行/ 有效/ 的/ 调度/ 和/ 分析/ ./ 本节/ 我们/ 对云/ 计算/ 系统/ 的/ 参数/ 相空间/ 投影/ 及/ 动量/ 相空间/ 投影/ 进行/ 研究/ ./ 2.1/ 云/ 计算/ 系统/ 在/ 参数/ 相空间/ 的/ 投影/ 分析模型/ 我们/ 发现/ ,/ 当云/ 计算/ 服务器/ 节点/ 的/ 数量/ 到达/ 一定/ 规模/ 后/ ,/ 单个/ 服务器/ 的/ 参数/ (/ 如/ CPU/ 占用率/ 和/ 内存/ 占用率/ 等/ )/ 与/ 大量/ 服务器/ 集群/ 将/ 形成/ 明显/ 的/ 微观/ 和/ 宏观/ 的/ 区别/ ,/ 这种/ 区别/ 在/ 相空间/ 中能/ 被/ 更/ 方便/ 地/ 描述/ 和/ 分析/ ,/ 特别/ 是/ 采用/ 热力学/ 模型/ 后/ ,/ 为/ 具有/ 海量/ 节点/ 的/ 高/ 耦合/ 云/ 计算/ 系统/ 找到/ 了/ 一种/ 在/ 相空间/ 上/ 的/ Page3/ 理论/ 描述/ 工具/ ./ 定义/ 1/ ./ 由/ 服务器/ 的/ 某/ 两个/ 或/ 多个/ 参数/ 为/ 广义/ 坐标轴/ 所/ 形成/ 的/ 二维/ 或/ 多维/ 空间/ 称为/ 云/ 计算/ 系统/ 的/ 参数/ 相空间/ ./ 利用/ 相空间/ 投影/ 一个/ 有/ m/ 台/ 服务器/ 的/ 云/ 计算/ 系统/ 在/ 做/ 两个/ 参数/ 投影/ 时/ 就/ 可以/ 用/ 二维/ 相空间/ 上/ 的/ 点集/ A/ 来/ 表示/ :/ A/ =/ {/ (/ xi/ ,/ yi/ )/ :/ i/ / m/ ,/ xi/ / 1/ ,/ yi/ / 1/ }/ ,/ 其中/ ,/ xi/ ,/ yi/ 为/ 归一化/ 服务器/ 参数/ ./ 如果/ 将/ 每台/ 服务器/ 的/ 参数/ 投影/ 到/ 以/ 各/ 参数/ 为/ 广义坐标/ 的/ 参数/ 相空间/ 上/ ,/ 服务器/ 参数/ 的/ 变化/ 过程/ 就/ 转变/ 为/ 参数/ 相空间/ 上点/ 的/ 运动/ 过程/ ,/ 这一/ 映射/ 变换/ 将/ 云/ 计算/ 系统/ 转变/ 为/ 动力学/ 系统/ 来/ 进行/ 研究/ ./ 通过/ 对比/ 可以/ 发现/ ,/ 云/ 计算/ 系统/ 在/ 参数/ 相空间/ 上/ 大量/ 的/ 节点/ 运动/ 与/ 热力学/ 系统/ 大量/ 的/ 气体/ 分子运动/ 相对/ 应/ ,/ 同时/ 节点/ 间/ 相互/ 耦合/ 的/ 关系/ 与/ 热力学/ 中/ 气体/ 分子/ 之间/ 复杂/ 的/ 相互作用/ 力/ 相对/ 应/ ,/ 利用/ 这一/ 对应/ 关系/ 可以/ 采用/ 热力学/ 中有/ 明确/ 物理/ 意义/ 的/ 宏观/ 量/ 和/ 微观量/ 来/ 对/ 云/ 计算/ 系统/ 的/ 工作/ 状态/ 进行/ 描述/ 、/ 分析/ 和/ 控制/ [/ 19/ ]/ ./ 由于/ 云/ 计算/ 系统/ 不是/ 实际/ 的/ 热力学/ 系统/ ,/ 所以/ 我们/ 对/ 广义/ 热力学/ 参数/ 作/ 如下/ 定义/ ./ 定义/ 2/ ./ 云/ 计算/ 系统/ 参数/ 相空间/ 投影/ 中/ 定义/ 的/ 具有/ 明确/ 物理/ 意义/ 的/ 物理量/ 称为/ 广义/ 热力学/ 参数/ ./ 广义/ 热力学/ 参数/ 是/ 在/ 参数/ 相空间/ 分析/ 云/ 计算/ 系统/ 工作/ 状态/ 及/ 研究/ 调度/ 算法/ 作用/ 效果/ 的/ 重要/ 工具/ ,/ 通过/ 广义/ 热力学/ 参数/ 建立/ 单个/ 服务器/ 节点/ 参数/ 相空间/ 状态/ 与/ 云/ 计算/ 系统/ 的/ 联系/ ,/ 而且/ 可以/ 用来/ 构造/ 广义/ 热力学/ 参数/ 调度/ 算法/ 的/ 一些/ 判据/ ./ 定义/ 3/ ./ 相空间/ 上/ 服务器/ 投影/ 点/ 每次/ 运动/ 平均/ 距离/ 称为/ 广义/ 平均/ 自由/ 程/ ./ 平均/ 自由/ 程与/ 负载/ 请求/ 有关/ ,/ 外部/ 负载/ 请求/ 的/ 综合/ 负载/ 越大/ ,/ 服务器/ 在/ 相空间/ 的/ 平均/ 自由/ 程越/ 大/ ,/ 平均/ 自由/ 程大/ 的/ 系统资源/ 调度/ 的/ 难度/ 会/ 变大/ ./ 从/ 热力学/ 意义/ 上/ 讲云/ 计算/ 系统/ 在/ 参数/ 相空间/ 中/ 可以/ 被/ 认为/ 是/ 一种/ 与/ 外界/ 有/ 能量/ 和/ 物质/ 交换/ 的/ 非/ 孤立/ 热力学/ 系统/ ./ 热力学/ 系统/ 一般/ 不/ 关心/ 单个/ 分子/ 的/ 运动/ 状态/ ,/ 而是/ 关心/ 由/ 大量/ 分子/ 相互作用/ 后/ 形成/ 的/ 整体/ 运动/ 情况/ ,/ 因此/ 在/ 参数/ 相空间/ 中/ 我们/ 就/ 能/ 对系统/ 的/ 整体/ 工作/ 状态/ 进行/ 观察/ 和/ 分析/ ./ 2.1/ ./ 1/ 云/ 计算/ 系统/ 参数/ 相空间/ 广义/ 温度/ 的/ 计算方法/ 在/ 热力学/ 系统/ 中/ 温度/ 是/ 一个/ 重要/ 的/ 热力学/ 参数/ ,/ 从/ 微观/ 上/ 看/ ,/ 温度/ 与/ 分子运动/ 的/ 平均速度/ 有关/ ,/ 温度/ 越高/ 的/ 系统/ 趋向/ 系统/ 平衡态/ 的/ 趋势/ 越强/ ,/ 而/ 保持/ 系统/ 处于/ 非平衡态/ 越难/ ./ 依据/ 热力学/ 知识/ 可以/ 采用/ 云/ 计算/ 系统/ 参数/ 相空间/ 点/ 运动/ 的/ 平均速度/ 定义/ 云/ 计算/ 系统/ 在/ 参数/ 相空间/ 的/ 广义/ 温度/ ./ 假设/ 外部/ 对云/ 计算/ 系统/ 只有/ 两个/ 负载/ 请求/ 参数/ 输入/ ai/ ,/ bi/ ,/ 单位/ 时间/ 内有/ l/ 次/ 负载/ 请求/ ,/ 每次/ 请求/ 使/ 服务器/ 投影/ 点/ 在/ 参数/ 相空间/ 的/ 运动/ 距离/ si/ =/ a2i/ +/ b2/ 槡/ i/ ,/ 单位/ 时间/ 内外部/ 请求/ 造成/ 的/ 参数/ 相空间/ 运动/ 的/ 总/ 距离/ s/ =/ ∑/ l/ 输入/ 影响/ 下/ 的/ 平均速度/ 变化/ Δ/ v/ =/ s/ 于/ 热力学/ 中/ 的/ 环境温度/ ./ 平均/ 来看/ m/ 台/ 服务器/ 单位/ 时间/ 内在/ 外界/ 负载/ 在/ 同一个/ 单位/ 时间/ 内/ 服务器/ 所有/ 投影/ 点/ 在/ 相空间/ 上/ 由于/ 释放/ 负载/ 而/ 产生/ 的/ 运动/ 平均速度/ v/ -/ 为/ v/ -/ =/ ∑/ m/ 其中/ (/ ait/ ,/ bit/ )/ ,/ (/ ai/ (/ t/ -/ 1/ )/ ,/ bi/ (/ t/ -/ 1/ )/ )/ 分别/ 为/ 第/ i/ 台/ 服务器/ 在/ 相空间/ 中/ t/ 时刻/ 和/ t/ -/ 1/ 时刻/ 由于/ 负载/ 释放/ 而/ 产生/ 的/ 两次/ 坐标/ 变化/ 采样/ ./ v/ -/ 对应/ 于/ 热力学/ 中/ 的/ 内部/ 温度/ ./ Δ/ v/ 使/ 系统/ 产生/ 的/ 速度/ 方向/ 在/ 参数/ 相空间/ 上/ 是/ 向/ 右上角/ 顶点/ 方向/ 的/ ,/ v/ -/ 使/ 系统/ 产生/ 的/ 速度/ 方向/ 在/ 参数/ 相空间/ 上/ 是/ 向/ 原点/ 方向/ 的/ ./ 当/ 环境温度/ 大于/ 内部/ 温度/ 时/ (/ Δ/ v/ >/ v/ -/ )/ ,/ 根据/ 热力学/ 中/ 热传导/ 定理/ ,/ 系统/ 整体/ 温度/ 就/ 会/ 升高/ ,/ 由于/ 外部/ 负载/ 请求/ 量/ 大于/ 内部/ 负载/ 释放/ 量/ ,/ 系统/ 整体/ 负载/ 就/ 会/ 逐步/ 增大/ ;/ 当/ 环境温度/ 小于/ 内部/ 温度/ 时/ (/ Δ/ v/ </ v/ -/ )/ ,/ 系统/ 整体/ 温度/ 就/ 会/ 降低/ ,/ 由于/ 外部/ 负载/ 请求/ 量/ 小于/ 内部/ 负载/ 释放/ 量/ ,/ 系统/ 整体/ 负载/ 就/ 会/ 逐步/ 减小/ ./ Δ/ v/ 是/ 系统/ 温度/ 的/ 最终/ 决定/ 因素/ ./ 如果/ 我们/ 把/ 单位/ 时间/ 内云/ 计算/ 系统/ 的/ 工作/ 状态/ 分为/ 负载/ 分配/ 和/ 负载/ 释放/ 两个/ 过程/ ,/ 那么/ 单位/ 时间/ 内云/ 计算/ 系统/ 总/ 平均速度/ 是/ 这/ 两个/ 速度/ 分量/ 之/ 和/ ,/ 所以/ 这一/ 时刻/ 系统/ 的/ 总/ 平均速度/ 为/ 从/ 大/ 的/ 系统/ 工作/ 时间跨度/ 来看/ 每/ 一个/ 外部/ 负载/ 请求/ 都/ 会/ 在/ 某/ 一/ 时刻/ 完成/ 并/ 被/ 系统/ 所/ 释放/ ,/ 在/ 忽略/ 负载/ 占用/ 时间/ 的/ 情况/ 下有/ 云/ 计算/ 系统/ 参数/ 相空间/ 投影/ 点/ 的/ 速度/ 守衡/ 定理/ ./ 定理/ 1/ ./ 所有/ 时刻/ 系统/ 由/ 外部/ 负载/ 请求/ 引起/ 的/ 速度/ 变化/ 之/ 和/ 等于/ 系统/ 负载/ 释放/ 所/ 引起/ 的/ 速度/ 变/ Page4/ 化/ 之/ 和/ ./ 定义/ 如下/ :/ 这里/ 将/ 云/ 计算/ 系统/ 处于/ 广义/ 绝对零度/ 时/ 的/ 状态/ 广义/ 绝对零度/ 定义/ :/ 云/ 计算/ 系统/ 无/ 任何/ 外部/ 负载/ 请求/ 时/ ,/ 其/ 广义/ 温度/ 将/ 趋近/ 于/ 零度/ 珚/ V/ =/ 0/ ./ 负载/ 任务/ 的/ 释放/ 是/ 逐步/ 完成/ 的/ ,/ 当/ 系统/ 无/ 任何/ 外部/ 负载/ 请求/ 时/ ,/ 系统/ 的/ 降温/ 过程/ 也/ 是/ 逐步/ 完成/ 的/ ,/ 并/ 最终/ 变为/ 零度/ ./ 由于/ 温度/ 表达/ 的/ 是/ 分子运动/ 的/ 平均速度/ ,/ 所以/ 广义/ 温度/ 为/ 系统/ 总/ 平均速度/ 的/ 函数/ ,/ 即/ T/ =/ f/ (/ 珚/ V/ )/ ,/ 由于/ 我们/ 能/ 准确/ 计算/ 总/ 平均速度/ ,/ 简单/ 的/ 处理/ 就/ 可以/ 将/ 总/ 平均速度/ 作为/ 广义/ 温度/ 的/ 值/ ./ 在/ 实际/ 云/ 计算/ 系统/ 和/ 仿真/ 系统/ 中/ 云/ 计算/ 系统/ 的/ 广义/ 温度/ 可以/ 采用/ 计算/ 单位/ 时间/ 内在/ 相空间/ 采样/ 所有/ 服务器/ 投影/ 点/ 运动/ 的/ 平均速度/ 作为/ 广义/ 温度/ 的/ 值/ ,/ 即/ T/ =/ ∑/ m/ 其中/ (/ xit/ ,/ yit/ )/ ,/ (/ xi/ (/ t/ -/ 1/ )/ ,/ yi/ (/ t/ -/ 1/ )/ )/ 分别/ 为/ 第/ i/ 台/ 服务器/ 在/ 相空间/ 中/ t/ 时刻/ 和/ t/ -/ 1/ 时刻/ 的/ 两次/ 坐标/ 采样/ ./ 云/ 计算/ 系统/ 的/ 平均/ 自由/ 程越/ 大/ ,/ 会/ 造成/ 广义/ 温度/ 升高/ ,/ 使/ 调度/ 更加/ 困难/ ./ 2.1/ ./ 2/ 云/ 计算/ 系统/ 参数/ 相空间/ 广义/ 归一化/ 熵/ 的/ 计对云/ 计算/ 系统/ 进行/ 相空间/ 分析/ 需要/ 用到/ 另外/ 一个/ 广义/ 热力学/ 参数/ :/ 广义/ 归一化/ 熵/ ./ 广义/ 归一化/ 熵/ 可以/ 描述/ 系统/ 当前/ 偏离/ 平衡态/ 的/ 程度/ ,/ 这/ 一点/ 跟/ 热力学/ 中/ 的/ 定义/ 十分/ 相像/ ,/ 一个/ 负载/ 均衡/ 较/ 好/ 的/ 云/ 计算/ 系统/ 其/ 广义/ 归一化/ 熵/ 值/ 应该/ 相对/ 较/ 小/ ./ 为了/ 方便/ 比较/ ,/ 我们/ 将/ 熵/ 值/ 进行/ 了/ 归一化/ 形成/ 广义/ 归一化/ 熵/ ./ 熵/ S/ 在/ 热力学/ 中/ 的/ 定义/ 如下/ :/ 其中/ ,/ k/ 为/ 玻尔兹曼/ 常数/ ,/ Ω/ 为/ 微观/ 状态/ 数/ ./ S1/ 与/ 系统/ 在/ 平衡态/ 时/ 的/ 熵/ 值/ S2/ 的/ 比值/ ./ 我们/ 将/ 广义/ 归一化/ 熵/ 定义/ 为/ 系统/ 当前/ 的/ 熵/ 值/ 其中/ ,/ Ω/ 1/ 是/ 系统/ 当前/ 的/ 微观/ 状态/ 数/ ,/ Ω/ 2/ 为/ 系统/ 在/ 平衡态/ 时/ 的/ 微观/ 状态/ 数/ ./ 云/ 计算/ 系统/ 广义/ 归一化/ 熵/ 的/ 近似计算/ 方法/ 如下/ :/ 假设/ 需要/ 分析/ 的/ 云/ 计算/ 节点/ 数为/ m/ 台/ 服务器/ ,/ 我们/ 将/ 参数/ 相空间/ 划分/ 为/ 一个/ n/ ×/ n/ 的/ 网格/ ,/ m/ 台/ 服务器/ 的/ 当前工作/ 参数/ 映射/ 到/ 参数/ 相空间/ 必然/ 会/ 落入/ n/ ×/ n/ 的/ 网格/ 中/ ,/ 在/ 平衡态/ 时/ m/ 台/ 服务器/ 会以/ 随机/ 的/ 方式/ 落入/ n/ ×/ n/ 个/ 网格/ 中/ ,/ 而/ 在/ 远离/ 平衡态/ 时/ m/ 台/ 服务器/ 会/ 落入/ l/ 个/ 网格/ 中/ ,/ 这时/ 1/ / l/ / n/ ×/ n/ ,/ 如图/ 1/ 所示/ ,/ 图/ 1/ (/ a/ )/ 为/ 平衡态/ 时/ 服务器/ 参数/ 在/ 参数/ 相空间/ 的/ 分布图/ ,/ 图/ 1/ (/ b/ )/ 为/ 非平衡态/ 时/ 服务器/ 参数/ 在/ 参数/ 相空间/ 的/ 分布图/ ./ 平衡态/ 时/ m/ 台/ 服务器/ 的/ 服务器/ 参数/ 落入/ n/ ×/ n/ 个/ 网格/ 的/ 状态/ 数/ Ω/ 2/ =/ (/ n/ ×/ n/ )/ m/ ;/ 在/ 非平衡态/ 时/ 我们/ 近似/ 认为/ m/ 台/ 服务器/ 的/ 服务器/ 参数/ 只会/ 落入/ l/ 个/ 网格/ 内/ ,/ 状态/ 数/ Ω/ 1/ =/ lm/ ./ 所以/ 当/ 一个/ 有/ m/ 台/ 服务器/ 的/ 云/ 计算/ 的/ 服务器/ 参数/ 在/ 参数/ 相空间/ 中/ 只/ 落入/ 了/ l/ 个/ 网格/ 时/ ,/ 系统/ 的/ 广义/ 归一化/ 熵/ 可以/ 得到/ 由于/ 1/ / l/ / n/ ×/ n/ ,/ 所以/ 广义/ 归一化/ 熵/ 的/ 取值/ 范围/ 为/ [/ 0/ ,/ 1/ ]/ ./ 当/ l/ =/ 1/ 时/ 广义/ 归一化/ 熵/ 为/ 0/ ,/ 这时/ 服务器/ 参数/ 全部/ 落入/ 一个/ 网格/ 内/ ,/ 表明/ 系统/ 远离/ 平衡态/ ,/ 处于/ 理想/ 的/ 均衡/ 状态/ ,/ 当/ l/ =/ n/ ×/ n/ 时/ 广义/ 归一化/ 熵/ 为/ 1/ ,/ 这时/ 服务器/ 参数/ 随机/ 分布/ 于/ 参数/ 相空间/ ,/ 表明/ 系统/ 达到/ 平衡态/ ,/ 处于/ 非常/ 不/ 理想/ 的/ 均衡/ 状态/ ./ 通常/ 系统/ 往往/ 处于/ 这/ 两种/ 极端/ 情况/ 之间/ ,/ 系统/ 的/ 广义/ 归一化/ 熵/ 越/ 高/ 表明/ 系统/ 当前/ 均衡/ 情况/ 越/ 不/ 理想/ ,/ 广义/ 归一化/ 熵/ 达到/ 1/ 时/ 系统/ 完全/ 处于/ 不/ 均衡/ 状态/ ./ 广义/ 归一化/ 熵/ 是/ 在/ 参数/ 相空间/ 评估/ 分析/ 资源/ 调度/ 算法/ 作用/ 效果/ 的/ 重要/ 参数/ ,/ 一个/ 资源/ 负载/ 均衡/ 良好/ 的/ 云/ 计算/ 系统/ 的/ 参数/ 相空间/ 投影/ 呈现出/ 低/ 熵/ 的/ 特点/ ,/ 即/ 参数/ 相空间/ 投影/ 点/ 远离/ 平衡态/ 聚集/ 在/ 一个/ 相对/ 较/ 小/ 的/ 参数/ 相空间/ 区域/ ./ 实际/ 计算/ 中/ 可以/ 调整/ 网格/ 的/ 密度/ 获得/ 不同/ 的/ 广义/ 归一化/ 熵/ 近似值/ ,/ 一般来说/ 服务器/ 数量/ 较多时/ 可以/ 用/ 较/ 密/ 的/ 网格/ ,/ 服务器/ 数量/ 较/ 少时/ 可以/ 减少/ 网格/ 的/ 密度/ ./ 由于/ 熵/ 是/ 一个/ 统计/ 量/ 通常/ 我们/ 在/ 网格/ 划分/ 时要/ 使/ m/ >/ n/ ×/ n/ ,/ 这样/ 才能/ 保证/ 统计/ 的/ 有效性/ ,/ 同时/ 在/ 服务器/ 节点/ 个数/ 太/ 小时/ ,/ 如/ 只有/ 几个/ 节点/ 的/ 情况/ Page5/ 时/ ,/ 广义/ 归一化/ 熵/ 的/ 参考价值/ 就/ 不/ 大/ 了/ ./ 2.1/ ./ 3/ 云/ 计算/ 系统/ 参数/ 相空间/ 投影/ 点/ 重心/ 的/ 计算/ 参数/ 相空间/ 投影/ 点/ 的/ 重心/ 位置/ 是/ 判断/ 系统/ 整体/ 负载/ 情况/ 和/ 建立/ 系统调度/ 策略/ 的/ 重要/ 参数/ ,/ 假设/ 服务器/ 的/ 总数/ 为/ m/ ,/ 服务器/ 参数/ 的/ 相空间/ 投影/ (/ 暂时/ 只/ 考虑/ 两个/ 参数/ ,/ 多个/ 参数/ 计算方法/ 相似/ )/ 为/ (/ xi/ ,/ yi/ )/ ,/ 其中/ i/ / m/ ,/ t/ 时刻/ 所有/ 服务器/ 投影/ 点/ 的/ 重心/ 位置/ 为/ G/ 点/ ,/ 坐标/ 为/ (/ x0/ ,/ y0/ )/ ./ 为了/ 计算/ 重心/ 方便/ ,/ 我们/ 可以/ 将/ 这个/ 二维/ 的/ 参数/ 相空间/ 分为/ n/ ×/ n/ 个/ 网格/ 作为/ 计算/ 重心/ 的/ 质量/ 微元/ ,/ 每个/ 网格/ 的/ 中心/ 坐标/ 为/ (/ xj/ ,/ yl/ )/ ,/ 将/ 服务器/ 的/ 台数/ 作为/ 等效/ 总/ 质量/ ,/ 那/ 系统/ 的/ 总/ 质量/ 为/ m/ ,/ 统计/ 参数/ 相空间/ 中/ 落入/ 每个/ 网格/ (/ xj/ ,/ yl/ )/ 内/ 的/ 服务器/ 投影/ 点/ 的/ 数目/ 为/ mj/ ,/ l/ ,/ 那么/ 每个/ 质量/ 微元/ 的/ 等效/ 质量/ 就是/ mj/ ,/ l/ ./ 此时/ 参数/ 相空间/ 重心/ 的/ 坐标/ G/ (/ x0/ ,/ y0/ )/ 计算公式/ 如下/ :/ 当/ n/ →/ 能/ 获得/ 准确/ 的/ 重心/ 位置/ ,/ 此时/ 重心坐标/ 计算公式/ 变为/ 根据/ 计算结果/ 我们/ 可以/ 得出结论/ 1/ ./ 结论/ 1/ ./ 云/ 计算/ 系统/ 参数/ 相空间/ 投影/ 的/ 重心/ 坐图/ 2/ 二维/ 和/ 三维/ 子/ 相空间/ 划分/ 图/ 在/ 相空间/ 调度/ 算法/ 中/ 最优/ 子/ 相空间/ 是/ 我们/ 进行/ 负载/ 分配/ 的/ 主要/ 区域/ ,/ 在/ 实际/ 系统/ 运行/ 时/ 可能/ 会/ 出现/ 这一/ 区域/ 节点/ 被/ 分配/ 完/ 的/ 情况/ ,/ 所以/ 需要/ 对/ 这/ 一子/ 空间/ 投影/ 点/ 分布/ 情况/ 进行/ 分析/ ./ 在/ 海量/ 节点/ 情况/ 标/ 就是/ 由/ 被/ 投影/ 的/ 所有/ 服务器/ 工作/ 状态参数/ 的/ 平均值/ 构成/ ./ 根据/ 前面/ 对/ 广义/ 热力学/ 参数/ 的/ 定义/ ,/ 云/ 计算/ 系统/ 参数/ 相空间/ 上/ 的/ 重心/ 也/ 可以/ 称为/ 广义/ 重心/ ,/ 以/ 区别/ 于/ 实际/ 物体/ 的/ 重心/ ./ 由于/ 系统/ 负载/ 的/ 平均值/ 是/ 随/ 时间/ 变化/ 的/ ,/ 所以/ 重心/ 的/ 位置/ 在/ 云/ 计算/ 系统/ 的/ 运行/ 过程/ 中/ 也/ 会/ 不断/ 地/ 变化/ ,/ 本文/ 的/ 相空间/ 调度/ 算法/ 就是/ 以/ 重心/ 的/ 当前/ 位置/ 作为/ 服务器/ 负载/ 的/ 重要/ 分割/ 点/ ./ 2.1/ ./ 4/ 参数/ 相空间/ 中以/ 重心/ 为/ 中心/ 的/ 子/ 相空间/ 划分/ 以/ 参数/ 相空间/ 投影/ 点/ 的/ 重心/ 为/ 中心/ ,/ 可以/ 将/ 参数/ 相空间/ 划分/ 成/ 多个/ 子/ 相空间/ ./ 通过/ 重心坐标/ G/ (/ x0/ ,/ …/ ,/ y0/ ,/ z0/ )/ 向/ 每/ 一个/ 坐标轴/ 做/ 垂直/ 截面/ ,/ 最终/ 将/ 得到/ 2n/ 个/ 区域/ ,/ 我们/ 统称/ 这些/ 区域/ 为子/ 相空间/ ./ 其中/ 图/ 2/ (/ a/ )/ 和/ 图/ 2/ (/ b/ )/ 分别/ 表示/ 以/ 重心/ 为/ 中心/ 的/ 二维/ 子/ 相空间/ 划分/ 图/ 和/ 三维/ 子/ 相空间/ 划分/ 图/ ./ 根据/ 计算/ 重心坐标/ 的/ 公式/ ,/ 我们/ 知道/ 这/ 其中/ 必然/ 有/ 一个/ 子/ 相空间/ 内/ 任意/ 点/ 的/ 坐标/ (/ x/ ,/ …/ ,/ y/ ,/ z/ )/ 满足/ 从/ 服务器/ 的/ 负载/ 情况/ 来/ 分析/ ,/ 这个/ 子/ 相空间/ 内/ 的/ 服务器/ 负载/ 相对/ 较/ 低/ ,/ 称之为/ 最优/ 子/ 相空间/ ./ 在/ 设计/ 调度/ 算法/ 时/ 可以/ 优先/ 考虑/ 从/ 这个/ 子/ 相空间/ 分配/ 服务器/ ./ 同理/ 子/ 相空间/ 中/ 也/ 必然/ 存在/ 一个/ 空间/ 坐标/ (/ x/ ,/ …/ ,/ y/ ,/ z/ )/ 满足条件/ 间/ ,/ 落入/ 这个/ 空间/ 的/ 服务器/ 负载/ 相对/ 较/ 高/ ,/ 因此/ 在/ 设计/ 调度/ 算法/ 时/ 一般/ 就/ 不再/ 考虑/ 将/ 属于/ 这个/ 空间/ 的/ 服务器/ 对外/ 进行/ 分配/ ./ 下/ 可以/ 有/ 如下/ 的/ 参考性/ 的/ 结论/ ./ 结论/ 2/ ./ 在/ 海量/ 节点/ 云/ 计算/ 系统/ 向/ n/ 维/ 参数/ 相空间/ 投影/ 时/ ,/ 最优/ 子/ 相空间/ 不/ 出现/ 投影/ 点/ 的/ 事件/ 为/ 小/ 概率/ 事件/ ./ Page6/ 证明/ ./ 根据/ 前面/ 的/ 求证/ ,/ n/ 维/ 的/ 参数/ 相空间/ ,/ 通过/ 重心/ 可以/ 划分/ 成/ 2n/ 个子/ 相空间/ ,/ 那么/ 任/ 一个/ 服务器/ 的/ 投影/ 点/ 不/ 出现/ 在/ 最优/ 子/ 相空间/ 的/ 概率/ 为/ 1/ -/ 12n/ ,/ m/ 台/ 服务器/ 的/ 投影/ 点均/ 不/ 出现/ 在/ 最优/ 子/ 相空间/ 的/ 概率/ 为/ 1/ -/ 1/ 考虑/ 到/ 云/ 计算/ 系统/ 中/ 的/ 节点/ 个数/ 是/ 非常/ 大/ 的/ ,/ 所以/ 我们/ 可以/ 设/ m/ / 1/ ,/ 且/ m/ / n/ ,/ 则/ 有/ 1/ -/ 1/ 即/ m/ 个/ 服务器/ 的/ 投影/ 点均/ 不/ 出现/ 在/ 最优/ 子/ 相空间/ 的/ 事件/ 为/ 小/ 概率/ 事件/ ./ 例如/ 当/ n/ =/ 2/ ,/ m/ =/ 1000/ 时/ ,/ 服务器/ 投影/ 点/ 不/ 出现/ 在/ 最优/ 子/ 相空间/ 概率/ 只有/ 1.15/ ×/ 10/ -/ 125/ ./ 结论/ 2/ 表明/ 调度/ 系统/ 在/ 海量/ 节点/ 情况/ 下/ 通常/ 可以/ 很大/ 的/ 概率/ 从/ 最优/ 子/ 相空间/ 找到/ 相对/ 负载/ 较轻/ 的/ 节点/ 分配/ 给/ 外部/ 负载/ 请求/ ./ 结论/ 2/ 的/ 成立/ 为/ 我们/ 在/ 设计/ 相空间/ 调度/ 算法/ 时/ 只/ 考虑/ 从/ 最优/ 子/ 相空间/ 分配/ 服务器/ 提供/ 了/ 理论依据/ ./ 而/ 在/ 最优/ 子/ 相空间/ 中/ 我们/ 则/ 依据/ 服务器/ 投影/ 与/ 重心/ 的/ 距离/ 作为/ 分配/ 优先/ 队列/ 的/ 排序/ 依据/ ,/ 在/ 最优/ 子/ 相空间/ 中离/ 重心/ 越远/ 的/ 节点/ 综合/ 负载/ 越低/ ,/ 在/ 负载/ 分配/ 时/ 优先/ 进行/ 分配/ ./ 2.2/ 云/ 计算/ 系统/ 在/ 动量/ 相空间/ 的/ 投影/ 分析模型/ 仿真/ 分析/ 时/ 我们/ 需要/ 对系统/ 的/ 静态/ 和/ 动态/ 工作/ 状态/ 进行/ 全面/ 地/ 分析/ ,/ 云/ 计算/ 系统/ 投影/ 到/ 参数/ 相空间/ 只能/ 有效/ 地/ 反映/ 系统/ 当前工作/ 状态/ 的/ 快照/ ,/ 即/ 系统/ 的/ 静态/ 工作/ 状况/ ,/ 系统/ 的/ 动态/ 特征/ 需要/ 结合/ 广义/ 热力学/ 参数/ 才能/ 判断/ ,/ 如果/ 以云/ 计算/ 中/ 服务器/ 在/ 参数/ 相空间/ 中/ 的/ 广义/ 归一化/ 动量/ 为/ 纵轴/ 和/ 广义/ 归一化/ 位置/ 作为/ 横轴/ 建立/ 投影/ ,/ 就/ 能/ 在/ 这/ 一/ 投影/ 空间/ 上/ 直接/ 反映/ 系统/ 的/ 动态/ 工作/ 状态/ ./ 为/ 区别/ 本文/ 中/ 的/ 参数/ 相空间/ 我们/ 定义/ 动量/ 相空间/ :/ 定义/ 4/ ./ 以/ 广义/ 归一化/ 动量/ 和/ 广义/ 归一化/ 位置/ 为/ 广义/ 坐标轴/ 所/ 形成/ 的/ 二维/ 空间/ 称为/ 云/ 计算/ 系统/ 的/ 动量/ 相空间/ ./ 物理学/ 中/ 的/ 动量/ 的/ 定义/ 为/ p/ =/ mv/ ,/ 对于/ 同质/ 服务器/ 构成/ 的/ 云/ 计算/ 系统/ 可以/ 设/ m/ =/ 1/ ,/ 其中/ 服务器/ 的/ 速度/ 可以/ 单位/ 时间/ 内/ 服务器/ 在/ 参数/ 相空间/ 移动/ 的/ 距离/ 为/ 速度/ v/ 的/ 取值/ 依据/ ,/ 并/ 通过/ 除以/ 参数/ 相空间/ 内/ 最大/ 可能/ 的/ 移动/ 距离/ 槡/ 2/ 将/ 速度/ 归一化/ (/ 因为/ 参数/ 相空间/ 是/ 归一化/ 的/ 相空间/ ,/ 所以/ 对角线/ 距离/ 是/ 投影/ 点/ 的/ 最大/ 可能/ 移动/ 距离/ )/ ,/ 所以/ 云/ 计算/ 服务器/ 的/ 广义/ 归一化/ 动量/ 可以/ 写为/ pi/ =/ vi/ 单位/ 时间/ 内在/ 参数/ 相空间/ 中/ 的/ 移动/ 距离/ ./ 第/ i/ 个/ 服务器/ 的/ 广义/ 归一化/ 位置/ xi/ =/ di/ 务器/ 在/ 参数/ 相空间/ 的/ 投影/ 到/ 当前/ 重心/ 的/ 距离/ ./ 云/ 计算/ 系统/ 在/ 动量/ 相空间/ 中/ 的/ 点集/ B/ 可以/ 描述/ 如下/ :/ B/ =/ (/ xi/ ,/ pi/ )/ :/ i/ / m/ ,/ xi/ =/ di3/ 云/ 计算/ 系统/ 的/ 相空间/ 调度/ 算法/ 由于/ 云/ 计算/ 相空间/ 分析模型/ 具有/ 直观/ 深刻/ 的/ 特点/ ,/ 我们/ 提出/ 一种/ 云/ 计算/ 系统/ 的/ 相空间/ 调度/ 算法/ ,/ 这一/ 算法/ 也/ 是/ 后面/ 仿真/ 实验/ 中/ 的/ 算法/ 对比/ 实例/ ./ 相空间/ 调度/ 算法/ 的/ 思想/ 是/ :/ 根据/ 服务器/ 工作/ 状态参数/ 构建/ 参数/ 相空间/ ,/ 将/ 云/ 计算/ 系统/ 中/ 的/ 所有/ 服务器/ 节点/ 投影/ 到/ 参数/ 相空间/ ;/ 求/ 出/ 投影/ 的/ 重心/ 位置/ 和/ 找到/ 最优/ 子/ 相空间/ ,/ 并/ 对/ 最优/ 子/ 相空间/ 中/ 的/ 节点/ 形成/ 节点/ 分配/ 队列/ ;/ 接收/ 外来/ 负载/ 请求/ 任务/ ,/ 形成/ 任务分配/ 队列/ ;/ 将/ 节点/ 分配/ 队列/ 和/ 任务分配/ 队列/ 进行/ 匹配/ 分配/ ,/ 如果/ 节点/ 分配/ 队列/ 中/ 的/ 节点/ 个数/ 少于/ 任务分配/ 队列/ 中/ 的/ 任务/ 个数/ ,/ 将/ 节点/ 分配/ 队列/ 中/ 的/ 节点/ 分配/ 完毕/ 后/ ,/ 重新/ 计算/ 重心/ ,/ 进入/ 下/ 一个/ 分配/ 循环/ ,/ 直到/ 将/ 所有/ 的/ 任务分配/ 完毕/ ./ 基本/ 相空间/ 调度/ 算法/ 的/ 实现/ 步骤/ 如下/ :/ 1/ ./ 确定/ 映射/ 的/ 工作/ 状态参数/ 个数/ 即/ 参数/ 相空间/ 的/ 维数/ n/ ,/ 构建/ 相应/ 的/ 参数/ 相空间/ ./ 2/ ./ 将/ 云/ 计算/ 系统/ 中/ 的/ 所有/ 节点/ 投影/ 到/ 参数/ 相空间/ 中/ ./ 3/ ./ 计算/ 当前/ 参数/ 相空间/ 投影/ 的/ 重心/ 位置/ G/ (/ x0/ ,/ …/ ,/ y0/ ,/ z0/ )/ ./ 4/ ./ 对/ 重心/ 位置/ 与/ 系统/ 设定/ 的/ 临界值/ 进行/ 比较/ ,/ 如果/ 重心/ 位置/ 超过/ 了/ 系统/ 临界值/ ,/ 系统/ 开始/ 负载/ 报警/ ,/ 通过/ 等待/ 任务/ 的/ 不断/ 释放/ ,/ 取消/ 报警/ 后/ 重新/ 跳转/ 到步/ 3/ ,/ 否则/ 执行/ 下/ 一步/ ./ 5/ ./ 将/ 参数/ 相空间/ 划分/ 成/ 2n/ 个子/ 相空间/ ,/ 并/ 标出/ 最优/ 子/ 相空间/ 和/ 最差/ 子/ 相空间/ ,/ 从而/ 确定/ 处于/ 最优/ 子/ 相空间/ 中/ 的/ 所有/ 投影/ 点/ ./ 6/ ./ 计算/ 处于/ 最优/ 子/ 相空间/ 中/ 所有/ 投影/ 点/ 与/ 重心/ 的/ 距离/ di/ ,/ 按/ di/ 值由大到/ 小/ 形成/ 待/ 分配/ 节点/ 优先/ 队列/ load/ _/ queue/ ,/ di/ 大/ 的/ 节点/ 将/ 被/ 优先/ 分配/ 给/ 负载/ 请求/ 使用/ ,/ 同时/ 对/ 所有/ 待/ 分配/ 的/ 任务/ 形成/ 任务分配/ 优先/ 队列/ task/ _/ queue/ ,/ 该/ 请求/ 按/ 时间/ 顺序/ 进行/ 排列/ ,/ 先进先出/ ./ 7/ ./ 对/ task/ _/ queue/ 队列/ 和/ load/ _/ queue/ 队列/ 中/ 的/ 任务/ 和/ 节点/ 进行/ 依次/ 配对/ ,/ 直到/ load/ _/ queue/ 被/ 分配/ 完毕/ ,/ 跳转/ 到步/ 3/ ./ 相空间/ 调度/ 算法/ 的/ 几点/ 说明/ :/ (/ 1/ )/ task/ _/ queue/ 队列/ 的/ 大小/ 在/ 算法/ 实现/ 时应/ 设定/ 得/ 较大/ ,/ 以/ 作为/ 请求/ 任务/ 的/ 缓冲区/ 使用/ ,/ 当某/ 段时间/ 内/ 任务/ 请求/ 压力/ 很大/ ,/ 调度/ 系统/ 无法/ 及时处理/ 时/ ,/ 相关/ 的/ 任务/ 信息/ 应/ 在/ task/ _/ queue/ 中/ 进行/ 缓存/ ,/ 避免/ Page7/ 系统对/ 请求/ 任务/ 的/ 拒绝/ ./ (/ 2/ )/ 相空间/ 调度/ 算法/ 在/ 服务器/ 节点/ 数量/ 比较/ 少/ 的/ 情况/ 下/ ,/ 如果/ 单位/ 时间/ 内/ 的/ 并发/ 任务/ 请求/ 数/ 超过/ 了/ 临界值/ ,/ 最优/ 子/ 相空间/ 会/ 出现/ 无/ 节点/ 可/ 分配/ 的/ 现象/ ./ 通过/ 分析/ 我们/ 发现/ ,/ 造成/ 这一/ 问题/ 的/ 原因/ 是/ 由于/ 当/ m/ 较/ 小时/ ,/ 云/ 计算/ 系统/ 中/ m/ 个/ 节点均/ 不/ 出现/ 在/ 最优/ 子/ 相空间/ 的/ 概率/ 1/ -/ 1/ 的/ 规律/ ./ 因此/ 在/ 算法/ 设计/ 中/ ,/ 当/ 出现/ 这种/ 情况/ 时/ ,/ 我们/ 将/ 重心/ G/ (/ x/ ,/ y/ )/ 的/ 位置/ 向/ 顶点/ D/ (/ 1/ ,/ 1/ )/ 方向/ 进行/ 平移/ ,/ 直到/ 可/ 分配/ 的/ 节点/ 满足要求/ 为止/ ,/ 从而/ 保证系统/ 有/ 足够/ 的/ 节点/ 进行/ 负载/ 分配/ ./ (/ 3/ )/ 相空间/ 调度/ 算法/ 在/ 实际/ 云/ 计算/ 系统/ 应用/ 中是/ 不能/ 预先/ 知道/ 负载/ 请求/ 的/ 资源/ 占用率/ 及/ 占用/ 时间/ 的/ ,/ 但/ 能/ 获得/ 服务器/ 当前/ 的/ 资源/ 占用/ 情况/ ,/ 所以/ 算法/ 采取/ 了/ 最优/ 子/ 空间/ 中/ 服务器/ 距/ 重心/ 的/ 距离/ di/ 作为/ 负载/ 分配/ 的/ 优先/ 依据/ ,/ 即/ di/ 越大越/ 优先/ 分配/ ./ (/ 4/ )/ 相空间/ 调度/ 算法/ 只是/ 一个/ 基本/ 算法/ 框架/ 并未/ 对/ 算法/ 进行/ 细节/ 的/ 优化/ ,/ 该/ 算法/ 结合/ 相空间/ 模型/ 能/ 有/ 很大/ 的/ 优化/ 能力/ ./ 4/ 云/ 计算/ 系统/ 相空间/ 分析模型/ 及/ 调度/ 算法/ 的/ 仿真/ 研究/ 4.1/ 仿真/ 模型/ 及/ 参数/ 描述/ (/ 1/ )/ 云/ 计算/ 系统/ 的/ 相空间/ 仿真/ 模型/ 云/ 计算/ 系统/ 在/ 相空间/ 模型/ 下/ ,/ 一台/ 服务器/ 的/ 工作/ 状态/ 可以/ 用/ 一个/ 状态参数/ 向量/ 来/ 表述/ (/ 参数/ 1/ ,/ 参数/ 2/ ,/ 参数/ 3/ ,/ …/ )/ ,/ 如/ (/ CPU/ 占用率/ 0.3/ ,/ 内存/ 占用率/ 0.2/ ,/ 连接数/ 占用率/ 0.1/ ,/ …/ )/ ,/ 参数/ 向量/ 的/ 维数/ 就/ 对应/ 于/ 相空间/ 的/ 维数/ ,/ 服务器/ 参数/ 向量/ 投影/ 到/ 相应/ 的/ 相空间/ ,/ 向量/ 终点/ 在/ 相空间/ 的/ 位置/ 就/ 代表/ 了/ 服务器/ 当前/ 表/ 1/ 相空间/ 算法/ 、/ 轮询/ 算法/ 、/ 最小/ 负载/ 优先/ 算法/ 和/ 动态/ 反馈/ 负载/ 均衡/ 算法/ 的/ 仿真/ 结果/ 比较/ 节点/ 数/ 任务/ 请求/ 占用率/ 时间/ 片/ 采样/ 位置/ 20000/ // s0/ ~/ 0.011/ ~/ 10100100020000/ // s0/ ~/ 0.011/ ~/ 1010010001000/ 最小/ 负载/ 优先/ 算法/ 20000/ // s0/ ~/ 0.011/ ~/ 101001000/ 动态/ 反馈/ 负载/ 均衡/ 算法/ 20000/ // s0/ ~/ 0.011/ ~/ 101001600/ // s0/ ~/ 0.011/ ~/ 101001001600/ // s0/ ~/ 0.011/ ~/ 10100100100/ 最小/ 负载/ 优先/ 算法/ 1600/ // s0/ ~/ 0.011/ ~/ 10100100/ 动态/ 反馈/ 负载/ 均衡/ 算法/ 1600/ // s0/ ~/ 0.011/ ~/ 1010016/ // s0/ ~/ 11/ ~/ 1010010016/ // s0/ ~/ 11/ ~/ 1010010016/ // s0/ ~/ 11/ ~/ 10100100/ 最小/ 负载/ 优先/ 算法/ 100/ 动态/ 反馈/ 负载/ 均衡/ 算法/ 16/ // s0/ ~/ 11/ ~/ 10100/ 的/ 工作/ 状态/ ,/ 向量/ 的/ 大小/ 代表/ 了/ 服务器/ 多个/ 工作/ 状态/ 所/ 形成/ 的/ 综合/ 负载/ 情况/ ./ 服务器/ 参数/ 向量/ 终点/ 随/ 时间/ 的/ 变化/ 在/ 相空间/ 就/ 转变/ 为/ 质点/ 的/ 运动/ ./ (/ 2/ )/ 外部/ 负载/ 请求/ 的/ 仿真/ 模型/ 采用/ 向量/ 模型/ 向/ 相空间/ 投影/ 来/ 描述/ 云/ 计算/ 系统/ 的/ 方法/ 为/ 我们/ 建立/ 外部/ 负载/ 请求/ 的/ 仿真/ 提供/ 了/ 方便/ ,/ 同样/ 外部/ 负载/ 请求/ 也/ 是/ 采用/ 负载/ 参数/ 向量/ 来/ 描述/ ,/ 只是/ 多/ 了/ 一个/ 时间/ 片/ 长度/ 参数/ ,/ 这个/ 参数/ 描述/ 的/ 是/ 负载/ 请求/ 占用/ 服务器/ 的/ 时间/ 长度/ ,/ 该/ 时间/ 片/ 长度/ 是/ 一个/ 相对/ 的/ 单位/ 时间/ 长度/ ,/ 持续/ 时长/ 不/ 采用/ 绝对/ 时间/ 是/ 为了/ 在/ 进行/ 仿真/ 时/ 实现/ 在/ 普通/ 实验/ 计算机/ 上/ 模拟/ 单位/ 时间/ 内/ 大量/ 负载/ 请求/ 的/ 生成/ 和/ 处理/ ./ 每/ 一个/ 单位/ 时间/ 长度/ 内/ 发出/ 的/ 负载/ 请求/ 次数/ 模拟系统/ 的/ 并发/ 访问/ 压力/ ,/ 每/ 经过/ 一个/ 单位/ 时间/ ,/ 负载/ 的/ 时间/ 片/ 就/ 减少/ 1/ ./ 负载/ 参数/ 向量/ 中/ 的/ 各个/ 分量/ 的/ 取值/ 范围/ 的/ 数值/ 分布/ 规律/ 可以/ 反映/ 不同/ 的/ 外部/ 应用程序/ 资源/ 需求/ 特点/ ./ 以/ CPU/ 占用率/ 为例/ ,/ 低/ 占用率/ 高/ 并发/ 请求/ 可以/ 描述/ 大部分/ Web/ 上/ 的/ 计算/ 请求/ ,/ 高/ 占用率/ 低/ 并发/ 请求/ 可以/ 描述/ 部分/ 数值/ 计算/ 请求/ ./ 因此/ 通过/ 对/ 不同/ 参数/ 分量/ 的/ 取值/ 范围/ 及/ 并发/ 数/ 进行/ 调整/ 可以/ 实现/ 对/ 不同/ 外部/ 请求/ 情况/ 的/ 模拟/ ./ (/ 3/ )/ 仿真/ 参数/ 描述/ 在/ 仿真/ 实验/ 中/ 对比/ 了/ 本文/ 提出/ 的/ 相空间/ 调度/ 算法/ 、/ 轮询/ 算法/ 、/ 最小/ 负载/ 优先/ 算法/ 以及/ 动态/ 反馈/ 负载/ 均衡/ 算法/ [/ 20/ ]/ 作用/ 到/ 云/ 计算/ 仿真/ 模型/ 后/ 的/ 调度/ 效果/ ,/ 仿真/ 中为/ 分析/ 方便/ 我们/ 只/ 考虑/ 两个/ 参数/ 投影/ (/ CPU/ 占用率/ 和/ 内存/ 占用率/ )/ 的/ 二维/ 情况/ ,/ 具体/ 的/ 实验/ 参数/ 如表/ 1/ ,/ 表中/ 的/ 熵/ 为/ 广义/ 归一化/ 熵/ ,/ 它/ 的/ 值/ 可以/ 反映/ 在/ 本文/ 的/ 云/ 计算/ 系统/ 仿真/ 模型/ 下/ 调度/ 算法/ 的/ 调度/ 效果/ ,/ 通常/ 广义/ 归一化/ 熵/ 的/ 值/ 越/ 小/ 系统/ 的/ 负载/ 越/ 均衡/ ./ 表中/ 的/ 广义/ 归一化/ 熵/ 是/ 在/ 10/ ×/ 10/ 的/ 网格/ 密度/ 下/ 利用/ 式/ (/ 2/ )/ 进行/ 计算/ 的/ ;/ 采样/ 时间/ 位置/ 都/ 为/ 100/ 个/ 时间/ Page8/ 片/ 长度/ ;/ 广义/ 温度/ 的/ 计算/ 是/ 利用/ 式/ (/ 1/ )/ 进行/ 计算/ 的/ ;/ 单个/ 负载/ 任务/ 占用/ 的/ 时间/ 片/ 长度/ 取/ 1/ ~/ 10/ 之间/ 的/ 一个/ 随机/ 整数/ ;/ 负载/ 占用率/ 分别/ 取/ 0/ ~/ 0.01/ 和/ 0/ ~/ 1/ 两种/ 情况/ ,/ 对应/ 小/ 负载/ 变化/ 范围/ 和/ 大/ 负载/ 变化/ 范围/ ./ 说明/ :/ 表中/ 广义/ 归一化/ 熵/ 是/ 将/ 参数/ 相空间/ 划分/ 为/ 10/ ×/ 10/ 的/ 网格/ 来/ 进行/ 计算/ ,/ 100/ 个/ 节点/ 试验/ 时/ 动态/ 反馈/ 负载/ 均衡/ 算法/ 的/ 阈值/ 取为/ 0.495/ (/ 归一化/ )/ ,/ 1000/ 个/ 节点/ 试验/ 时/ 动态/ 反馈/ 负载/ 均衡/ 算法/ 的/ 阈值/ 取为/ 0.636/ (/ 归一化/ )/ ,/ 动态/ 反馈/ 时间/ 为/ 一个/ 单位/ 时间/ 片/ ./ 由于/ 1000/ 个/ 节点/ 的/ 负载/ 相对/ 较/ 高/ ,/ 所以/ 我们/ 提高/ 了/ 动态/ 反馈/ 负载/ 均衡/ 算法/ 阈值/ 的/ 范围/ ./ 4.2/ 仿真/ 结果/ 分析/ 图/ 3/ 为/ 节点/ 数为/ 1000/ 、/ 单个/ 任务/ 负载/ 范围/ 为/ 0/ ~/ 0.01/ 、/ 单位/ 时间/ 片内/ 的/ 任务/ 请求/ 数为/ 20000/ 次/ 的/ 仿真/ 结果/ ,/ 这种/ 参数/ 状态/ 对应/ 的/ 为/ 小/ 负载/ 高/ 访问/ 压力/ 的/ 情况/ ,/ 图/ 3/ (/ a/ )/ ~/ (/ d/ )/ 分别/ 为/ 相空间/ 调度/ 算法/ 、/ 轮询/ 算法/ 、/ 最小/ 负载/ 优先/ 算法/ 和/ 动态/ 反馈/ 负载/ 均衡/ 算法/ 在/ 参数/ 相空间/ (/ 上/ )/ 和/ 动量/ 相空间/ (/ 下/ )/ 调度/ 结果/ 的/ 投影/ ./ 对比/ 4/ 种/ 算法/ 计算结果/ 在/ 参数/ 相空间/ 的/ 投影/ 点/ 分布/ 情况/ ,/ 可以/ 明显/ 看出/ 在/ 相空间/ 调度/ 算法/ 作用/ 下/ 节点/ 在/ 参数/ 相空间/ 的/ 投影/ 呈现出/ 良好/ 的/ 聚集/ 状态/ ,/ 表明/ 系统/ 当前/ 的/ 负载/ 较为/ 均衡/ ,/ 这种/ 状态/ 在/ 热力学/ 意义/ 上/ 是/ 一种/ 远离/ 平衡态/ 的/ 状态/ ./ 同时对比/ 云/ 计算/ 系统/ 在/ 动量/ 相空间/ 上/ 投影/ 发现/ ,/ 相空间/ 调度/ 算法/ 调度/ 下/ 的/ 系统/ 动量/ 相空间/ 投影/ 点/ 聚集/ 于/ 相空间/ 原点/ 的/ 一个/ 小/ 区域/ 内/ ,/ 在/ 动量/ 相空间/ 中/ 投影/ 点越/ 靠近/ 原图/ 3/ 节点/ 数为/ 1000/ ,/ 单个/ 任务/ 负载/ 为/ 0/ ~/ 0.01/ ,/ 任务/ 请求/ 为/ 20000/ 次/ 的/ 仿真/ 结果/ 图/ 4/ 为/ 节点/ 数为/ 100/ 、/ 单个/ 任务/ 负载/ 范围/ 为/ 0/ ~/ 0.01/ 、/ 单位/ 时间/ 片内/ 的/ 任务/ 请求/ 数为/ 1600/ 次/ 的/ 仿真/ 点/ 表明/ 系统/ 当前/ 的/ 动态/ 工作/ 状态/ 越/ 平稳/ ,/ 且/ 负载/ 均衡/ 状态/ 也/ 较/ 好/ ,/ 因为/ 投影/ 点/ 在/ 动量/ 相空间/ 的/ 原点/ 附近/ 时/ 在/ 参数/ 相空间/ 对应/ 于/ 该/ 服务器/ 的/ 运动/ 速度/ 越慢/ 且/ 靠近/ 重心/ 位置/ ./ 相/ 比较而言/ 轮询/ 算法/ 、/ 最小/ 负载/ 优先/ 算法/ 和/ 动态/ 反馈/ 负载/ 均衡/ 算法/ 在/ 参数/ 相空间/ 和/ 动量/ 相空间/ 调度/ 结果/ 的/ 投影/ 均/ 没有/ 相空间/ 调度/ 算法/ 好/ ,/ 从表/ 1/ 上/ 我们/ 也/ 能/ 看出/ 相空间/ 算法/ 、/ 轮询/ 算法/ 、/ 最小/ 负载/ 优先/ 算法/ 和/ 动态/ 反馈/ 负载/ 均衡/ 算法/ 在/ 这时/ 的/ 广义/ 归一化/ 熵/ 分别/ 为/ 0.349/ 、/ 0.500/ 、/ 0.540/ 、/ 0.500/ ,/ 相空间/ 算法/ 使/ 系统/ 保持/ 了/ 较/ 低/ 的/ 熵/ 值/ ,/ 保证/ 了/ 系统/ 处于/ 良好/ 的/ 负载/ 均衡/ 状态/ ./ 同时/ 在/ 相空间/ 算法/ 的/ 作用/ 下云/ 计算/ 系统/ 广义/ 温度/ 只有/ 0.0211/ ,/ 低于/ 轮询/ 算法/ 、/ 最小/ 负载/ 优先/ 算法/ 的/ 广义/ 温度/ ,/ 表明/ 相空间/ 算法/ 在/ 这时/ 的/ 工作/ 稳定性/ 要/ 优于/ 轮询/ 算法/ 和/ 最小/ 负载/ 优先/ 算法/ ./ 动态/ 反馈/ 负载/ 均衡/ 算法/ 的/ 广义/ 温度/ 为/ 0.0171/ 低于/ 相空间/ 算法/ ,/ 此时/ 动态/ 反馈/ 负载/ 均衡/ 算法/ 的/ 工作/ 稳定性/ 要/ 优于/ 相空间/ 算法/ ,/ 但/ 由于/ 动态/ 反馈/ 负载/ 均衡/ 算法/ 的/ 广义/ 归一化/ 熵/ 要/ 高于/ 相空间/ 算法/ ,/ 这/ 表明/ 在/ 动态/ 反馈/ 负载/ 均衡/ 算法/ 调度/ 下/ 的/ 系统/ 负载/ 均衡性/ 不如/ 相空间/ 算法/ ./ 通过/ 将/ 服务器/ 运行/ 结果/ 投影/ 到/ 参数/ 相空间/ 和/ 动量/ 相空间/ ,/ 我们/ 能/ 从/ 静态/ 和/ 动态/ 两个/ 角度/ 对系统/ 运行/ 情况/ 进行/ 描述/ ,/ 投影/ 点/ 在/ 相空间/ 中/ 的/ 不同/ 分布/ 情况/ 结合/ 广义/ 热力学/ 参数值/ 能/ 直观/ 地/ 反应/ 出/ 系统/ 的/ 整体/ 工作/ 状态/ ,/ 相空间/ 分析方法/ 对/ 海量/ 高/ 耦合/ 云/ 计算/ 系统/ 具有/ 很强/ 的/ 描述/ 能力/ ,/ 所以/ 相空间/ 分析方法/ 是/ 进行/ 云/ 计算/ 系统分析/ 的/ 一种/ 有力/ 的/ 工具/ ./ 结果/ ,/ 图/ 4/ (/ a/ )/ ~/ (/ d/ )/ 分别/ 为/ 相空间/ 调度/ 算法/ 、/ 轮询/ 算法/ 、/ 最小/ 负载/ 优先/ 算法/ 和/ 动态/ 反馈/ 负载/ 均衡/ 算法/ 在/ Page9/ 参数/ 相空间/ (/ 上/ )/ 和/ 动量/ 相空间/ (/ 下/ )/ 调度/ 结果/ 的/ 投影/ ./ 对比/ 图/ 3/ 可见/ 这种/ 实验/ 条件/ 下/ 相空间/ 调度/ 算法/ 的/ 调度/ 效果/ 同样/ 优于/ 轮询/ 算法/ 、/ 最小/ 负载/ 优先/ 算法/ 和/ 动态/ 反馈/ 负载/ 均衡/ 算法/ ./ 相空间/ 调度/ 算法/ 作用/ 下/ 的/ 系统/ 广义/ 归一化/ 熵/ 为/ 0.239/ ,/ 广义/ 温度/ 为/ 0.0197/ 均/ 比/ 其它/ 3/ 种/ 算法/ 好/ ,/ 同时/ 我们/ 也/ 能/ 从/ 参数/ 相空间/ 图/ 4/ 节点/ 数为/ 100/ ,/ 单个/ 任务/ 负载/ 为/ 0/ ~/ 0.01/ ,/ 任务/ 请求/ 为/ 1600/ 次/ 的/ 仿真/ 结果/ 图/ 5/ 为/ 节点/ 数为/ 100/ ,/ 单个/ 任务/ 负载/ 范围/ 为/ 0/ ~/ 1/ ,/ 单位/ 时间/ 片内/ 的/ 任务/ 请求/ 数为/ 16/ 次/ 的/ 仿真/ 结果/ ,/ 图/ 4/ (/ a/ )/ ~/ (/ d/ )/ 分别/ 为/ 相空间/ 调度/ 算法/ 、/ 轮询/ 算法/ 、/ 最小/ 负载/ 优先/ 算法/ 和/ 动态/ 反馈/ 负载/ 均衡/ 算法/ 在/ 参数/ 相空间/ (/ 上/ )/ 和/ 动量/ 相空间/ (/ 下/ )/ 调度/ 结果/ 的/ 投影/ ./ 这种/ 仿真/ 条件/ 外界/ 负载/ 请求/ 的/ 变化/ 范围/ 较大/ 且/ 负载/ 的/ 上限/ 为/ 1/ ,/ 这时/ 服务器/ 在/ 参数/ 相空间/ 中/ 运动/ 的/ 平均/ 自由/ 程/ 较大/ ./ 对比/ 前面/ 的/ 实验/ ,/ 这种/ 情况/ 下/ 系统/ 的/ 广义/ 温度/ 也/ 较/ 高/ ,/ 4/ 种/ 算法/ 的/ 广义/ 温度/ 分别/ 为/ 0.0849/ 、/ 0.1242/ 、/ 0.0849/ 、/ 0.1529/ ,/ 对比/ 图/ 3/ 、/ 图/ 4/ 和/ 图/ 5/ ,/ 在/ 外界/ 负载/ 变化/ 范围/ 较大/ 时/ 4/ 种/ 算法/ 的/ 调度/ 效果/ 在/ 参数/ 相空间/ 都/ 呈现出/ 随机/ 分布/ 的/ 情况/ ,/ 服务器/ 的/ 相空间/ 投影/ 没有/ 被/ 负载/ 均衡/ 算法/ 有效/ 地/ 聚集/ 起来/ ,/ 系统/ 处于/ 热力学/ 的/ 平衡态/ ,/ 服务器/ 负载/ 非常/ 不/ 均衡/ ,/ 这一/ 结果/ 也/ 在/ 表/ 1/ 中/ 的/ 熵/ 值/ 中/ 被/ 反映/ 出来/ ,/ 4/ 种/ 算法/ 的/ 广义/ 归一化/ 熵/ 分别/ 为/ 0.903/ 、/ 0.849/ 、/ 0.903/ 、/ 0.889/ ,/ 这些/ 值/ 都/ 很/ 接近/ 广义/ 归一化/ 熵/ 的/ 最大值/ 1/ ./ 从图/ 5/ 中/ 的/ 动量/ 相空间/ 图中/ 我们/ 也/ 看到/ 服务器/ 在/ 动量/ 相空间/ 上/ 的/ 投影/ 点/ 也/ 不再/ 聚集/ 于/ 原点/ ,/ 这/ 表明/ 系统/ 当前/ 的/ 工作/ 状态/ 很/ 不/ 稳定/ ,/ 且/ 系统/ 负载/ 很/ 不/ 均衡/ ./ 这种/ 不同/ 温度/ 和/ 平均/ 自由/ 程下/ 相同/ 的/ 调度/ 算法/ 作用/ 效果/ 的/ 差异/ 完全符合/ 热力学/ 原理/ ,/ 热力学/ 高温/ 和/ 动量/ 相空间/ 中/ 投影/ 点/ 的/ 分布/ 情况/ 直观/ 的/ 得出/ 算法/ 的/ 执行/ 效果/ 的/ 比较/ ,/ 相空间/ 算法/ 作用/ 下/ 的/ 云/ 计算/ 系统/ 在/ 参数/ 相空间/ 上/ 的/ 重心/ 聚集/ 性/ 和/ 在/ 动量/ 相空间/ 向/ 原点/ 的/ 聚集/ 性/ 都/ 好/ 于/ 其它/ 3/ 种/ 算法/ ./ 相空间/ 的/ 投影图/ 可以/ 直观/ 定性/ 的/ 描述/ 系统/ 的/ 运动/ 情况/ ,/ 广义/ 热力学/ 参数/ 可以/ 定量/ 的/ 给出/ 调度/ 效果/ 的/ 宏观/ 比较/ 参数/ ./ 气体/ 分子/ 具有/ 很强/ 的/ 扩散/ 趋势/ ,/ 要/ 维持/ 系统/ 处于/ 非平衡态/ 十分困难/ ./ 同样/ 原理/ ,/ 云/ 计算/ 系统/ 相空间/ 的/ 广义/ 温度/ 很/ 高时/ 调度/ 算法/ 要/ 维持/ 系统/ 在/ 相空间/ 上/ 处于/ 非平衡态/ 也/ 非常/ 困难/ ,/ 这/ 就/ 出现/ 了/ 同样/ 的/ 调度/ 算法/ 在/ 不同/ 广义/ 温度/ 下/ 调度/ 效果/ 出现/ 截然不同/ 的/ 结果/ ./ 在/ 广义/ 温度/ 较/ 高时/ 系统/ 需要/ 付出/ 更大/ 的/ 计算/ 代价/ 才能/ 保持/ 系统/ 负载/ 均衡/ ,/ 相空间/ 调度/ 算法/ 应该/ 在/ 这种/ 情况/ 下/ 作出/ 相应/ 的/ 优化/ 处理/ ./ 根据/ 以上/ 的/ 分析/ 我们/ 也/ 能/ 得到/ 云/ 计算/ 系统/ 在/ 参数/ 相空间/ 和/ 动量/ 相空间/ 上/ 投影/ 点/ 形态/ 的/ 两个/ 定性/ 结论/ :/ (/ 1/ )/ 云/ 计算/ 系统/ 在/ 参数/ 相空间/ 上/ 的/ 投影/ 点/ 聚集/ 性越/ 好/ 系统/ 的/ 负载/ 均衡性/ 越好/ ./ (/ 2/ )/ 云/ 计算/ 系统/ 在/ 动量/ 相空间/ 上/ 的/ 投影/ 点/ 向/ 相空间/ 原点/ 的/ 聚集/ 性越/ 好/ 系统/ 的/ 工作/ 稳定性/ 和/ 负载/ 均衡性/ 越好/ ./ 通过/ 以上/ 两个/ 定性/ 结论/ 我们/ 可以/ 直接/ 从/ 参数/ 相空间/ 和/ 动量/ 相空间/ 图上/ 读出/ 系统/ 的/ 当前工作/ 状态/ ,/ 相空间/ 图/ 的/ 这/ 一/ 作用/ 可以/ 被/ 应用/ 于云/ 计算/ 专用/ 监控/ 系统/ 的/ 设计/ 中/ ,/ 并且/ 系统/ 的/ 节点/ 数越/ 多/ 这/ 一/ 方法/ 的/ 优势/ 越/ 明显/ ,/ 这/ 一点/ 正是/ 热力学/ 方法/ 的/ 优势/ 所在/ ./ Page10/ 图/ 5/ 节点/ 数为/ 100/ ,/ 单个/ 任务/ 负载/ 为/ 0/ ~/ 1/ ,/ 任务/ 请求/ 为/ 16/ 次/ 的/ 仿真/ 结果/ 5/ 结论/ 本文/ 将/ 云/ 计算/ 系统/ 向/ 相空间/ 投影/ ,/ 定义/ 并/ 分析/ 了/ 相空间/ 上/ 的/ 广义/ 温度/ 、/ 广义/ 归一化/ 熵/ 、/ 广义/ 重心/ ,/ 广义/ 归一化/ 动量/ 等/ 广义/ 热力学/ 参数/ ,/ 利用/ 热力学/ 原理/ 建立/ 了/ 云/ 计算/ 系统/ 相空间/ 分析模型/ 的/ 基本/ 理论/ 框架/ ,/ 这一/ 理论/ 适合/ 对/ 具有/ 海量/ 节点/ 的/ 高/ 耦合/ 云/ 计算/ 系统/ 进行/ 分析/ ./ 利用/ 相空间/ 分析方法/ 可以/ 把/ 对/ 云/ 计算/ 系统/ 的/ 研究/ 投影/ 到/ 参数/ 相空间/ 和/ 动量/ 相空间/ 中/ 进行/ ,/ 为/ 建立/ 云/ 计算/ 仿真/ 模型/ 、/ 研究/ 调度/ 算法/ 、/ 分析/ 系统/ 工作/ 状态/ 提供/ 了/ 很大/ 的/ 方便/ ./ 本文/ 还/ 在/ 相空间/ 分析模型/ 的/ 基础/ 上/ 提出/ 了/ 相空间/ 调度/ 算法/ 、/ 云/ 计算/ 系统/ 相空间/ 仿真/ 模型/ ,/ 实现/ 了/ 对/ 多种/ 调度/ 算法/ 在/ 相空间/ 仿真/ 模型/ 上/ 的/ 仿真/ 实验/ ,/ 仿真/ 结果表明/ 相空间/ 调度/ 算法/ 能/ 有效/ 地使/ 云/ 计算/ 系统/ 在/ 相空间/ 中/ 保持/ 热力学/ 意义/ 上/ 非平衡态/ 从而/ 实现/ 系统/ 的/ 负载/ 均衡/ ,/ 这一/ 结果/ 验证/ 了/ 相空间/ 分析模型/ 在/ 系统分析/ 、/ 仿真/ ,/ 算法/ 设计/ 上/ 的/ 独特/ 优势/ ./ 因此/ 云/ 计算/ 相空间/ 分析模型/ 有望/ 能/ 在/ 云/ 计算/ 系统分析/ 、/ 云/ 计算/ 系统核心/ 算法/ 设计/ 、/ 系统监控/ 、/ 系统/ 仿真/ 诊断系统/ 中/ 得到/ 大量/ 的/ 应用/ ./ 

