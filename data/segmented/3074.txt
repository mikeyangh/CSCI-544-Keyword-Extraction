Page1/ 大规模/ 语音/ 语料库/ 及其/ 在/ TTS/ 中/ 应用/ 的/ 几个/ 问题/ 章森/ 刘磊/ 刁麓/ 弘/ (/ 北京工业大学/ 信息/ 与/ 计算/ 科学/ 实验室/ 北京/ 100022/ )/ 摘要/ 首先/ 介绍/ 了/ 大规模/ 语音/ 语料库/ 以及/ 基于/ 大规模/ 语音/ 语料库/ 的/ 文语/ 转换/ 技术/ 的/ 研究/ 现状/ ,/ 接着/ 介绍/ 了/ 一个/ 大规模/ 连续/ 汉语/ 语音/ 语料库/ 的/ 实例/ Slib/ 的/ 结构/ 和/ 内容/ ;/ 在/ 此基础/ 上/ ,/ 讨论/ 了/ 面向/ 大规模/ 语音/ 语料库/ 的/ 索引/ 技术/ ,/ 提出/ 了/ 语料库/ 检索/ 中/ 的/ 集合/ 运算/ 和/ 最小/ 包容/ 问题/ ,/ 证明/ 了/ 最小/ 包容/ 问题/ 是/ NP/ 完全/ 的/ ,/ 给出/ 了/ 求解/ 该/ 问题/ 的/ 贪婪/ 算法/ 以及/ 算法/ 的/ 近似/ 比/ ;/ 最后/ ,/ 讨论/ 了/ 基于/ 集合/ 运算/ 的/ 大规模/ 语音/ 语料库/ 的/ 检索/ 技术/ 在/ 文语/ 转换/ 系统/ 中/ 的/ 应用/ ,/ 特别/ 是/ 在/ 基本/ 语言/ 单位/ 实例/ 的/ 选取/ 问题/ 上/ 实现/ 了/ 一种/ 基于/ 最小/ 包容/ 的/ 优化/ 方法/ ,/ 对/ 提高/ 文语/ 转换/ 系统/ 的/ 自然/ 度/ 有/ 实用价值/ ./ 关键词/ 语音/ 语料库/ ;/ 集合/ 运算/ ;/ 文语/ 转换/ ;/ 最小/ 包容/ ;/ 信息检索/ 1/ 引言/ 语音/ 语料库/ 是/ 指为/ 言语/ 技术/ 的/ 研究/ 与/ 开发/ 而/ 建立/ 的/ 语音/ 数据/ 及其/ 标注/ 的/ 集合/ ./ 自/ 20/ 世纪/ 80/ 年代/ 以来/ ,/ 语音/ 语料库/ 的/ 研究/ 、/ 开发/ 与/ 应用/ 在/ 计算机技术/ 的/ 有力/ 支撑/ 下/ 获得/ 了/ 长足进展/ ,/ 先后/ 建立/ 了/ 多种语言/ 的/ 语音/ 语料库/ ,/ 其中/ 的/ 大部分/ 是/ 英语/ 语音/ 语料库/ ①/ ./ 例如/ ,/ 英语/ 语音/ 语料库/ TIMIT/ ,/ 它/ 是/ 20/ 世纪/ 90/ 年代/ 初受/ DARPA/ 资助/ 而/ 建立/ 的/ ,/ 包含/ 630/ 个/ 说/ Page2/ 话者/ 、/ 5600/ 多个/ 语句/ ,/ 收集/ 的/ 为/ 朗读/ 语体/ 的/ 美国/ 英语/ ,/ 该/ 语料库/ 对于/ 英语/ 语音/ 识别/ 的/ 研究/ 、/ 开发/ 与/ 评估/ 起到/ 了/ 极大/ 的/ 推动/ 作用/ ,/ 在/ LinguisticDataConsor/ -/ tium/ 提供/ 的/ 多种/ 语音/ 语料库/ 中/ 它/ 被/ 授权/ 、/ 下载/ 的/ 次数/ 最/ 多/ ,/ 至今/ 仍/ 被/ 广泛/ 使用/ ./ 但/ 该/ 语音/ 语料库/ 没有/ 标注/ 信息/ ,/ 使用者/ 和/ 开发者/ 需要/ 对/ 其/ 进行/ 标注/ ./ 大规模/ 汉语/ 语音/ 语料库/ 对/ 汉语/ 语音/ 处理/ 技术/ 研究/ 和/ 开发/ 的/ 重要性/ 不言而喻/ ./ 自/ 20/ 世纪/ 90/ 年代/ 以来/ ,/ 我国/ 有/ 几十所/ 大学/ 和/ 科研机构/ 相继/ 开展/ 了/ 汉语/ 语音/ 语料库/ 的/ 建设/ 与/ 研究/ [/ 1/ -/ 5/ ]/ ./ 中国/ 科学技术/ 大/ 学科/ 大讯飞/ 公司/ 发布/ 的/ 汉语/ 语音/ 语料库/ 的/ 规模/ 超过/ 了/ 2.7/ Gb/ 的/ 语音/ 数据/ ,/ 其中/ 包括/ 了/ 男声/ 和/ 女声/ ,/ 采用/ 了/ 手工/ 标注/ 和/ 自动/ 标注/ 相结合/ 的/ 方式/ ,/ 已经/ 应用/ 到/ 科大/ 讯/ 飞/ 的/ 语音/ 合成/ 与/ 识别系统/ 中/ ./ 该/ 语音/ 语料库/ 主要/ 面向/ 语音/ 合成/ ,/ 采用/ 了/ 多级/ 标注/ ./ 但/ 它/ 是非/ 共享/ 的/ 资源/ ,/ 一般/ 使用者/ 和/ 开发者/ 很难/ 得到/ 授权/ ./ 另外/ ,/ 它/ 的/ 标注/ 格式/ 和/ 数据结构/ 是非/ 公开/ 的/ ./ 亚洲/ 微软/ 研究院/ 建立/ 的/ 汉语/ 语音/ 语料库/ 包含/ 了/ 大约/ 18/ 万个/ 音节/ ,/ 主要/ 应用/ 在/ 了/ 汉语/ 韵律/ 分析/ 以及/ 语音/ 合成/ 中/ ./ 该库/ 的/ 标注/ 信息/ 和/ 数据结构/ 是/ 公开/ 的/ ,/ 但/ 标注/ 的/ 信息/ 还/ 不/ 完善/ ./ 中国社会科学院/ 语言/ 研究所/ 与/ 多所/ 大学/ 、/ 科研机构/ 合作/ 在/ 20/ 世纪/ 90/ 年代/ 建立/ 了/ “/ 863/ 语音/ 语料库/ ”/ ,/ 收集/ 的/ 是/ 朗读/ 语音/ ./ 后来/ ,/ 中国社会科学院/ 语言/ 研究所/ 又/ 相继/ 建立/ 了/ CASS/ 汉语/ 口语/ 语料库/ 等/ ./ 中国科学院自动化研究所/ 和/ 声学/ 所/ 、/ 清华大学/ 和/ 北京大学/ 等/ 先后/ 建立/ 了/ 普通话/ 语音/ 语料库/ ,/ 主要/ 用于/ 语音/ 分析/ 与/ 合成/ 的/ 研究/ [/ 6/ -/ 7/ ]/ ./ 这些/ 语音/ 语料库/ 存在/ 的/ 一个/ 主要/ 问题/ 是/ 标注/ 信息/ 不够/ 多/ ,/ 而且/ 标注/ 的/ 错误率/ 比较/ 高/ ,/ 其/ 原因/ 主要/ 是/ 采用/ 自动/ 或/ 手工/ 标注/ 后/ 的/ 信息/ 没有/ 得到/ 彻底/ 全面/ 的/ 检查/ 校正/ ./ 除了/ 大陆/ 之外/ ,/ 台湾/ 、/ 香港/ 、/ 新加坡/ 等/ 地/ 也/ 相继/ 开展/ 了/ 汉语/ 语音/ 语料库/ 的/ 研究/ [/ 8/ -/ 12/ ]/ ./ 在/ 台湾/ ,/ 中央研究院/ 语言/ 研究所/ 的/ 陈秋豫/ 博士/ 主持/ 建立/ 了/ 大规模/ 汉语/ 口语/ 韵律/ 语料库/ 暨/ 工具/ 平台/ COSPRO/ [/ 11/ ]/ ,/ 它/ 包含/ 9/ 个子/ 语料库/ (/ 约/ 10.5/ GB/ )/ ,/ COSPRO01/ -/ 08/ 属于/ 麦克风/ 朗读/ 语音/ ,/ COSPRO09/ 则/ 为/ 麦克风/ 自发性/ 语音/ (/ 76MB/ )/ ,/ 内容/ 包罗/ 了/ 不同/ 长度/ 的/ 语料/ ,/ 短至/ 孤立/ 词组/ (/ 1/ ~/ 4/ 字词/ )/ ,/ 长至/ 段落/ 语篇/ (/ 85/ ~/ 996/ 音节/ )/ ,/ 由/ 111/ 位语者/ 因/ 不同/ 的/ 研究/ 目的/ 录制/ 而成/ ,/ 其中/ 包括/ 61/ 位/ 女性/ 、/ 50/ 位/ 男性/ ./ 据介绍/ ,/ COSPRO/ 语音/ 语料库/ 中/ 的/ 部分/ 语料/ 进行/ 了/ 标注/ ,/ 其/ 标注/ 方法/ 以/ 软件/ 自动/ 标注/ 为主/ ,/ 手工/ 标注/ 为辅/ ,/ 其/ 应用/ 主要/ 面向/ 汉语/ 语音学/ 研究/ ./ 该/ 语音/ 语料库/ 的/ 语音/ 数据/ 主要/ 采集/ 自/ 台湾/ ,/ 与/ 大陆/ 的/ 语音/ 在/ 音调/ 和/ 韵律/ 等/ 方面/ 有/ 一定/ 的/ 差别/ ./ 另外/ ,/ 中文/ 语言/ 资源/ 联盟/ (/ ChineseLDC/ )/ 、/ 国际/ 中文/ 语言/ 资源/ 联盟/ (/ CCC/ )/ 等/ 都/ 对/ 汉语/ 语音/ 语料库/ 的/ 研究/ 、/ 建设/ 、/ 发布/ 等/ 起到/ 了/ 积极/ 的/ 推动/ 作用/ ./ 大规模/ 汉语/ 语音/ 语料库/ 的/ 一个/ 直接/ 应用/ 是/ 文语/ 转换/ 系统/ 或/ TTS/ (/ TexttoSpeech/ )/ ,/ 它/ 是/ 利用计算机/ 等/ 平台/ 将/ 文本/ 信息/ 转变/ 为/ 音频/ 数据/ ,/ 以/ 语音/ 的/ 方式/ 播放/ 出来/ 的/ 技术/ ,/ 其/ 追求/ 的/ 目标/ 是/ 让/ 计算机/ 输出/ 的/ 声音/ 清晰/ 、/ 可/ 懂/ 、/ 自然/ 、/ 具有/ 表现力/ ./ 文语/ 转换/ 是/ 言语/ 工程/ 和/ 自然/ 人机接口/ 等/ 研究/ 领域/ 的/ 一项/ 关键技术/ ,/ 具有/ 重要/ 的/ 应用/ 价值/ ./ 近年来/ ,/ 计算机/ 输出/ 语音/ 的/ 清晰度/ 、/ 可懂度/ 等/ 问题/ 已经/ 基本/ 解决/ ,/ 但/ 计算机/ 输出/ 的/ 语音/ 在/ 自然/ 度/ 、/ 表现力/ 和/ 个性化/ 等/ 方面/ 还/ 存在/ 许多/ 需要/ 研究/ 和/ 解决/ 的/ 问题/ ./ 为此/ ,/ 近年来/ ,/ 基于/ 大规模/ 语音/ 语料库/ 的/ 数据/ 驱动/ 和/ 波形/ 拼接/ 技术/ 已/ 成为/ 文语/ 转换/ 技术/ 领域/ 的/ 研究/ 热点/ ,/ 其/ 主要/ 目标/ 是/ 提高/ 和/ 改善/ 合成/ 语音/ 的/ 自然/ 度/ ./ 基于/ 大规模/ 语音/ 语料库/ 的/ 数据/ 驱动/ 和/ 波形/ 拼接/ 的/ 文语/ 转换/ 技术/ 的/ 主要/ 问题/ 是/ 如何/ 从/ 大规模/ 语音/ 语料库/ 中/ 快速/ 准确/ 地/ 检索/ 出/ 最合适/ 的/ 语言/ 单位/ ,/ 如字/ 、/ 词/ 、/ 音节/ 或/ 音素/ 等/ [/ 12/ -/ 14/ ]/ ./ 为此/ ,/ 语音/ 语料库/ 大都/ 采用/ 索引/ 结构/ ,/ 以字/ 、/ 词/ 、/ 音节/ 或/ 音素/ 作为/ 索引/ 项/ 或/ 关键词/ ,/ 以/ 它们/ 在/ 库/ 中/ 的/ 地址/ (/ 绝对/ 地址/ 或/ 相对/ 地址/ )/ 作为/ 索引/ 值/ ./ 在/ 数据量/ 太/ 大/ ,/ 一级/ 索引/ 不够/ 的/ 情况/ 下/ ,/ 语音/ 语料库/ 还/ 可/ 采用/ 多级/ 索引/ 结构/ ./ 索引/ 结构/ 的/ 优势/ 是/ 读取数据/ 速度/ 快/ ,/ 能够/ 满足/ 从/ 大规模/ 语音/ 语料库/ 中/ 快速/ 准确/ 地/ 检索/ 出/ 需要/ 的/ 语言/ 单位/ 的/ 要求/ ,/ 但/ 检索/ 出/ 的/ 语言/ 单位/ 是否/ 最合适/ ?/ 最合适/ 的/ 标准/ 是/ 什么/ ?/ 如何/ 计算/ 和/ 度量/ ?/ 对于/ 这些/ 重要/ 问题/ 近年来/ 发表/ 了/ 一系列/ 的/ 研究/ 报告/ 和/ 论文/ ,/ 其中/ 的/ 主要/ 观点/ 是/ 根据/ 上下文/ 语境/ 以及/ 声学/ 参数/ 和/ 韵律/ 参数/ 等/ 因素/ 作为/ 评价/ 选取/ 的/ 语言/ 单位/ 是否/ 合适/ 的/ 标准/ 和/ 度量/ ,/ 至于/ 如何/ 定义/ 度量/ 公式/ ,/ 如何/ 确定/ 上下文/ 范围/ ,/ 选取/ 哪些/ 声学/ 参数/ 和/ 韵律/ 参数/ 等/ 问题/ ,/ 实现/ 方法/ 差别/ 很大/ ,/ 各有/ 优劣/ ./ 本文/ 主要/ 介绍/ 一个/ 大规模/ 汉语/ 语音/ 语料库/ 的/ 架构/ 和/ 标注/ 信息/ ,/ 该库/ 包含/ 了/ 20/ 多万个/ 手工/ 标注/ 的/ 音节/ ,/ 而且/ 经过/ 了/ 程序/ 和/ 人工/ 检查/ 校正/ ./ 在/ 此基础/ 上/ ,/ 针对/ 大规模/ 语音/ 语料库/ 在/ 文语/ 转换/ 中/ 的/ 应用/ ,/ 提出/ 了/ 基本/ 语言/ 单位/ 的/ 语音/ 实例/ 的/ 最小/ 包容/ 问题/ ,/ 基于/ 集合/ 运算/ 和/ 最小/ 包容/ 实现/ 了/ 大规模/ 语音/ 语料库/ 的/ 快速/ 检索/ ./ 上述/ 方法/ 在/ 自主/ 开发/ 的/ 语音/ 合成/ 演示/ 系统/ 中/ 得到/ 了/ 验证/ ,/ 合成/ 的/ 语音/ 非常/ 接近/ 于/ 广播/ 语音/ ./ Page32/ 汉语/ 语音/ 语料库/ Slib/ 我们/ 历时/ 两年/ 多/ 的/ 开发/ ,/ 建立/ 了/ 连续/ 汉语/ 语音/ 语料库/ Slib/ ,/ 它/ 的/ 语音/ 数据/ 采集/ 自/ 广播/ 语音/ 的/ 真实/ 语料/ ,/ 不/ 含/ 背景音乐/ 和/ 多/ 人/ 的/ 同时/ 语音/ ,/ 说话/ 人/ 8/ 个/ ,/ 总/ 数据量/ 约/ 16Gb/ ,/ 约/ 110h/ 的/ 语音/ 数据/ ,/ 其中/ 2Gb/ 的/ 语音/ 数据/ 完全/ 采用/ 手工/ 标注/ 的/ 方式/ 进行/ 了/ 多层次/ 标注/ ,/ 标注/ 的/ 2Gb/ 语音/ 数据/ 中/ 包括/ 约/ 22/ 万个/ 汉语/ 音节/ ,/ 说话/ 人为/ 一个/ 男声/ 和/ 一个/ 女声/ ,/ 各自/ 1Gb/ 的/ 语音/ 数据/ ./ 语音/ 数据/ 的/ 基本参数/ 是/ :/ 采样/ 频率/ 22kHz/ ,/ 16/ 位/ 量化/ ,/ 单声道/ ,/ 信噪比/ 约/ 在/ 18/ ~/ 26db/ 之间/ ,/ 非/ 压缩/ 的/ PCM/ 存储/ 方式/ ./ 连续/ 汉语/ 语音/ 语料库/ Slib/ 的/ 建立/ 过程/ 包括/ :/ (/ 1/ )/ 语音/ 数据/ 采集/ ./ (/ 2/ )/ 语音/ 数据/ 预处理/ ./ (/ 3/ )/ 语音/ 数据/ 与/ 汉字/ 对齐/ ./ (/ 4/ )/ 语音/ 数据/ 与/ 拼音/ 对齐/ ./ (/ 5/ )/ 时间/ 对齐/ ./ (/ 6/ )/ 检查/ 修改/ ./ (/ 7/ )/ 韵律/ 标注/ ./ (/ 8/ )/ 标注/ 过/ 的/ 语音/ 数据分析/ ./ 上述/ 过程/ 中/ ,/ 没有/ 脚本/ 文本/ 的/ 设计/ ,/ 在/ 专用/ 语音/ 语料库/ ,/ 特别/ 是/ 平衡/ 语音/ 语料库/ 中/ 这/ 是/ 重要/ 的/ 一个/ 环节/ ./ 由于/ 现在/ 广播/ 和/ 电视/ 的/ 数字化/ 越来越/ 普及/ ,/ 因此/ 语音/ 数据/ 采集/ 主要/ 是/ 在/ 互联网/ 上/ 定向/ 搜集/ 广播/ 和/ 电视/ 的/ 数字化/ 数据/ ,/ 然后/ 进行/ 预处理/ ,/ 包括/ 音频/ 数据/ 的/ 提取/ 、/ 重/ 采样/ 、/ 对/ 语音/ 数据/ 的/ 切分/ 等/ ./ 其中/ ,/ 语音/ 数据/ 的/ 切分/ 主要/ 是/ 人工/ 完成/ ,/ 主要/ 包括/ 非/ 语音/ 段/ 和/ 语音/ 质量/ 差/ 的/ 段/ 的/ 剔除/ ,/ 然后/ 按照/ 说话/ 人/ 的/ ID/ 将/ 相应/ 语音/ 段/ 数据/ 存储/ 成/ 语音/ 文件/ ./ 这样/ ,/ 采集/ 到/ 的/ 语音/ 数据/ 就/ 生成/ 了/ 约/ 9600/ 个/ 语音/ 文件/ ,/ 这些/ 语音/ 文件/ 的/ 大小/ 从/ 几百/ Kb/ 到/ 近/ 10Mb/ 不/ 等/ ,/ 每个/ 文件/ 包含/ 了/ 说话/ 人/ 的/ ID/ 、/ 生成/ 时间/ 以及/ 语音/ 数据/ 的/ 基本参数/ 等/ ./ 语音/ 数据/ 与/ 汉字/ 对齐/ 包括/ 汉字/ 文本/ 标注/ 、/ 分词/ 、/ 词性/ 标注/ 等/ 内容/ ,/ 形成/ 一个/ 标注/ 信息/ 文件/ ,/ 该/ 文件/ 与/ 语音/ 数据文件/ 对应/ ;/ 在/ 标注/ 信息/ 文件/ 的/ 基础/ 上/ 标注/ 拼音/ 信息/ ,/ 采用/ 汉语拼音/ 描述/ 系统/ ;/ 然后/ 标注/ 时间/ 信息/ ,/ 即/ 每个/ 音节/ 的/ 起始/ 和/ 终止/ 时间/ ,/ 再/ 经过/ 程序/ 检查/ ,/ 对/ 查出/ 的/ 错误/ 进行/ 人工/ 修改/ ,/ 形成/ 基本/ 的/ 标注/ 文件/ ;/ 下/ 一步/ 标注/ 韵律/ 信息/ ,/ 最后/ 对/ 标注/ 过/ 的/ 语音/ 数据/ 进行/ 分析/ 和/ 处理/ ./ 对/ 语音/ 数据文件/ 标注/ 了/ 汉字/ 、/ 拼音/ 和/ 时间/ 信息/ 后/ 形成/ 了/ 基本/ 的/ 标注/ 文件/ ,/ 该/ 文件/ 与/ 语音/ 数据文件/ 是/ 一一对应/ 的/ ./ 因为/ 是/ 手工/ 标注/ ,/ 所以/ 标注/ 文件/ 中/ 不可避免/ 地会/ 存在/ 一些/ 错误/ ,/ 检查/ 修改/ 是/ 必不可少/ 的/ 一个/ 重要环节/ ,/ 否则/ ,/ 可能/ 因为/ 标注/ 错误/ 太/ 多/ 导致/ 语音/ 语料库/ 质量/ 太/ 差/ ,/ 基于/ 这样/ 有/ 错误/ 的/ 语音/ 语料库/ 的/ 统计分析/ 结果/ 是/ 不/ 可靠/ 的/ ./ 因为/ 语音/ 语料库/ 规模/ 很大/ ,/ 如果/ 完全/ 依靠/ 人工/ 去/ 检查和/ 修改/ 这些/ 错误/ ,/ 不仅/ 速度慢/ ,/ 而且/ 可能/ 会/ 漏掉/ 一些/ 错误/ ,/ 甚至/ 产生/ 新/ 的/ 错误/ ./ 为此/ ,/ 我们/ 采用/ 了/ 程序/ 自动/ 检查和/ 人工/ 修改/ 错误/ 相结合/ 的/ 方法/ ./ 对于/ 每/ 一个/ 标注/ 文件/ ,/ 检查程序/ 根据/ 标注/ 规范/ 、/ 标注/ 逻辑/ 检查/ 是否/ 正确/ ,/ 如果/ 发现错误/ ,/ 定位/ 错误/ 并/ 报告/ 错误信息/ ./ 其中/ ,/ 拼音/ 正确/ 与否/ 主要/ 根据/ 汉字/ 与/ 拼音/ 的/ 对照/ 词典/ 进行/ 检查/ ,/ 另外/ 还/ 检查/ 声调/ 是否/ 遗漏/ 和/ 正确/ 等/ ;/ 时间/ 检查/ 主要/ 对/ 每个/ 音节/ 的/ 起始/ 时间/ 与/ 终止/ 时间/ 进行/ 逻辑/ 检查/ ,/ 如果/ 发现/ 一个/ 音节/ 的/ 起始/ 时间/ 大于/ 终止/ 时间/ ,/ 或者/ 当前/ 音节/ 的/ 起始/ 时间/ 或/ 终止/ 时间/ 小于/ 上/ 一个/ 音节/ 的/ 起始/ 时间/ 或/ 终止/ 时间/ ,/ 程序/ 就/ 定位/ 和/ 报告/ 错误信息/ ./ 根据/ 这些/ 错误报告/ 信息/ 可以/ 快速/ 进行/ 人工/ 修改/ ./ 基本/ 标注/ 文件/ 的/ 主要/ 内容/ 包括/ 头部/ 信息/ 和/ 标注/ 信息/ ,/ 其中/ ,/ 文件/ 头部/ 记录/ 了/ 该/ 语音/ 文件/ 的/ 基本参数/ 、/ 说话/ 人/ ID/ 及/ 语音/ 产生/ 的/ 时间/ 等/ 信息/ ./ 下面/ 的/ 标注/ 内容/ 是/ :/ 第/ 1/ 列/ 和/ 第/ 2/ 列/ 分别/ 记录/ 了/ 每个/ 音节/ 的/ 起始/ 和/ 终止/ 时间/ ,/ 第/ 2/ 列/ 也/ 可以/ 省略/ ;/ 第/ 3/ 列/ 标注/ 拼音/ ,/ 第/ 4/ 列/ 标注/ 汉字/ 并/ 进行/ 了/ 分词/ ,/ 第/ 5/ 列/ 标注/ 该行/ 音节/ 的/ 语音/ 质量/ ,/ 共/ 分为/ 1/ ~/ 9/ 级/ ,/ 1/ 级/ 表示/ 最差/ ,/ 9/ 级/ 表示/ 最好/ ,/ 一般/ 仅/ 标注/ 最差/ 的/ ,/ 其/ 产生/ 的/ 主要/ 原因/ 是/ 音联/ 现象/ 严重/ 、/ 噪声/ 严重/ 等/ ./ 语音/ 语料库/ Slib/ 的/ 组织/ 结构/ 是/ :/ 按照/ 说话/ 人/ 的/ ID/ 为/ 每个/ 说话/ 人/ 建立/ 一个/ 文件目录/ ,/ 在/ 一个/ 文件目录/ 下/ 存放/ 该/ 说话/ 人/ 的/ 所有/ 语音/ 数据/ 和/ 相应/ 的/ 标注/ 文件/ ,/ 其中/ 语音/ 数据文件/ 为/ PCMWAV/ 格式/ ,/ 标注/ 文件/ 为/ 文本格式/ ./ 3/ 倒排/ 索引/ 和/ 集合/ 运算/ 语音/ 语料库/ Slib/ 中/ 的/ 标注/ 信息/ 包括/ 词/ 、/ 汉字/ 、/ 拼音/ 、/ 起始/ 时间/ 和/ 附加/ 信息/ 等/ 多个/ 层次/ ,/ 其中/ 语音/ 数据/ 约/ 为/ 2Gb/ ,/ 汉字/ 或/ 拼音/ 共/ 出现/ 约/ 22/ 万/ 频次/ ./ 据统计/ ,/ 在/ 语音/ 语料库/ Slib/ 中/ ,/ 共有/ 9600/ 个/ 语音/ 文件/ (/ 语音/ 文件/ 大/ 的/ 有/ 十几/ Mb/ ,/ 小/ 的/ 有/ 数百/ Kb/ ,/ 每个/ 语音/ 文件/ 又/ 伴随/ 一个/ 相应/ 的/ 标注/ 文件/ ,/ 每个/ 标注/ 文件/ 包含/ 的/ 汉字数/ 或/ 拼音/ 数从/ 几十个/ 到/ 数千个/ 不/ 等/ )/ ,/ 出现/ 了/ 8600/ 个/ 不同/ 的/ 汉语/ 词/ (/ 不/ 包括/ 单字/ 词/ )/ ,/ 2900/ 个/ 不同/ 的/ 汉字/ ,/ 1100/ 个/ 不同/ 的/ 汉语拼音/ ./ 我们/ 的/ 目标/ 是/ 在/ 语音/ 语料库/ 中/ 快速/ 准确/ 地/ 检索/ 各个/ 层次/ 的/ 标注/ 信息/ ,/ 并/ 根据/ 标注/ 信息/ 读取/ 其中/ 的/ 语音/ 数据/ ./ 一种/ 常用/ 的/ 方法/ 是/ 对/ 语音/ 语料库/ 中/ 的/ 基本/ 语言/ 单位/ 建立/ 索引/ ,/ 索引/ 项是/ 基本/ 语言/ 单位/ ,/ 索引/ 值/ 是/ 该/ 语言/ 单位/ 在/ 语音/ 语料库/ 的/ 地址/ 或/ 指针/ ./ 这里/ ,/ 基本/ 语/ Page4/ 言/ 单位/ 或/ 语言/ 单位/ 是/ 指/ 汉语/ 中/ 的/ 词/ 、/ 汉字/ 、/ 拼音/ 或/ 音素/ 等/ ./ 我们/ 已经/ 指出/ ,/ 这样/ 建立/ 的/ 索引/ 不能/ 满足/ TTS/ 系统/ 中/ 的/ 最小/ 最大化/ 原则/ ./ 为此/ ,/ 我们/ 通过/ 建立/ 倒排/ 索引/ 和/ 集合/ 运算/ 解决/ 上述/ 问题/ ,/ 其/ 主要/ 优点/ 是/ 在/ 处理/ 复杂/ 的/ 多/ 关键字/ 查询/ 时/ ,/ 可先/ 将/ 查询/ 的/ 逻辑/ 条件/ 转换/ 为/ 集合/ 的/ 交/ 、/ 并/ 等/ 运算/ ,/ 然后/ 在/ 倒排/ 索引/ 表中/ 得到/ 运算/ 结果/ 后/ 再/ 对/ 语音/ 库中/ 的/ 相关/ 记录/ 进行/ 存取/ ,/ 从而/ 提高/ 查找/ 速度/ ;/ 另/ 一个/ 优点/ 是/ 采用/ 集合/ 运算/ 可以/ 满足/ 文语/ 转换/ 系统/ 中/ 的/ 最小/ 最大化/ 原则/ ,/ 即/ 从/ 最少/ 的/ 语音/ 文件/ 中/ 检索/ 出/ 最/ 多/ 的/ 最合适/ 的/ 语言/ 单位/ ,/ 从而/ 提高/ 合成/ 语音/ 的/ 自然/ 度/ ./ 为了/ 叙述/ 方便/ ,/ 我们/ 假设/ 每/ 一个/ 语音/ 文件/ 都/ 有/ 一个/ 唯一/ 的/ 标识符/ ,/ 记为/ ID/ _/ SF/ _/ xxxx/ ;/ 每/ 一个/ 标注/ 文件/ 也/ 有/ 一个/ 唯一/ 的/ 标识符/ ,/ 记为/ ID/ _/ AF/ _/ xxxx/ ,/ 其中/ 后缀/ xxxx/ 表示/ 文件/ 序号/ ,/ 所有/ 标注/ 文件/ 的/ 标识符/ 组成/ 的/ 集合/ 记为/ AF/ ./ 注意/ ,/ 每个/ 基本/ 语言/ 单位/ 都/ 一定/ 出现/ 在/ 一个/ 或/ 多个/ 标注/ 文件/ 中/ ./ 另外/ ,/ 语音/ 语料库/ Slib/ 中/ 所有/ 词/ 组成/ 的/ 集合/ 记为/ Slib/ _/ WORD/ ,/ 所有/ 汉字/ 组成/ 的/ 集合/ 记为/ Slib/ _/ CHAR/ ,/ 所有/ 拼音/ 组成/ 的/ 集合/ 记为/ Slib/ _/ PY/ ./ 下面/ 我们/ 首先/ 介绍/ 几个/ 基本概念/ ./ 定义/ 1/ ./ 基本/ 语言/ 单位/ 的/ 伴随/ 集合/ ./ 如果/ 基本/ 语言/ 单位/ X/ 出现/ 在/ 若干/ 标注/ 文件/ 中/ ,/ 那么/ ,/ 这些/ 标注/ 文件/ 的/ 标识符/ 组成/ 的/ 集合/ 称为/ 基本/ 语言/ 单位/ X/ 的/ 伴随/ 集合/ ,/ 记为/ X/ {/ }/ ./ 在/ 基本/ 语言/ 单位/ 的/ 伴随/ 集合/ 的/ 基础/ 上/ ,/ 我们/ 可以/ 建立/ 基本/ 语言/ 单位/ 的/ 倒排/ 索引/ 表/ ,/ 如/ 汉语/ 词/ 的/ 倒排/ 索引/ 表/ 、/ 汉字/ 的/ 倒排/ 索引/ 表/ 、/ 拼音/ 的/ 倒排/ 索引/ 表等/ ./ 据统计/ ,/ 伴随/ 集合/ 的/ 基数/ 从/ 1/ 到/ 数千/ 不/ 等/ ,/ 分布/ 非常/ 不/ 均匀/ ./ 例如/ ,/ 汉字/ “/ 的/ ”/ 伴随/ 集合/ 的/ 元素/ 个数/ 近/ 9200/ ,/ 而/ 基数/ 在/ 10/ 以下/ 的/ 占/ 50/ %/ 多/ ,/ 基数/ 为/ 1/ 的/ 约/ 占/ 20/ %/ ./ 定义/ 2/ ./ 基本/ 语言/ 单位/ 的/ 倒排/ 索引/ ./ 对于/ 每/ 一个/ 基本/ 语言/ 单位/ ,/ 以/ 基本/ 语言/ 单位/ 作为/ 索引/ 项/ 或/ 关键词/ ,/ 以/ 其/ 伴随/ 集合/ 作为/ 该/ 索引/ 项/ 的/ 值/ ,/ 这样/ 生成/ 的/ 索引/ 表/ 称为/ 倒排/ 索引/ 表/ ,/ 也/ 称/ 倒排/ 索引/ ,/ 其中/ 每/ 一个/ 记录/ 的/ 内容/ 包含/ 两/ 部分/ ,/ 形式/ 如下/ :/ 其中/ ,/ X/ 为/ 一个/ 基本/ 语言/ 单位/ ,/ X/ {/ }/ 为/ X/ 的/ 伴随/ 集合/ ./ 因此/ ,/ 对于/ Slib/ _/ WORD/ ,/ 我们/ 可以/ 建立/ 汉语/ 词/ 的/ 倒排/ 索引/ 表/ ,/ 记为/ Slib/ _/ WORD/ _/ IIList/ ;/ 同样/ ,/ 我们/ 可以/ 建立/ 汉字/ 的/ 倒排/ 索引/ 表/ Slib/ _/ CHAR/ _/ IIList/ ,/ 拼音/ 的/ 倒排/ 索引/ 表/ Slib/ _/ PY/ _/ IIList/ 等/ ./ 但是/ ,/ 在/ 这些/ 倒排/ 索引/ 表中/ 没有/ 地址/ 指针/ ,/ 只能/ 根据/ 文件/ 的/ 唯一/ 标识符/ 进行/ 存取/ ,/ 效率/ 不高/ ./ 在/ 存取速度/ 优先/ 的/ 前提/ 下/ ,/ 一般/ 将库/ 中/ 所有/ 的/ 语音/ 数据文件/ 合成/ 为/ 一个/ 或/ 几个/ 较大/ 的/ 语音/ 数据文件/ ,/ 将库/ 中/ 所有/ 的/ 标注/ 文件/ 合成/ 为/ 一个/ 或/ 几个/ 较大/ 的/ 标注/ 文件/ ./ 在/ 此/ 情况/ 下/ ,/ 倒排/ 索引/ 表中/ 没有/ 地址/ 指针/ 将/ 无法/ 完成/ 数据/ 的/ 存取/ ./ 因此/ ,/ 我们/ 还/ 需要/ 建立/ 二级/ 索引/ ,/ 即/ 地址/ 索引/ ./ 我们/ 以/ 建立/ 标注/ 文件/ 的/ 地址/ 索引/ 表为例/ ,/ 其/ 地址/ 索引/ 表/ 的/ 每/ 一个/ 记录/ 的/ 内容/ 包含/ 两/ 部分/ ,/ 形式/ 如下/ :/ ID/ _/ AF/ _/ xxxx/ →/ ID/ _/ AF/ _/ xxxx/ _/ Address/ ,/ 其中/ ,/ ID/ _/ AF/ _/ xxxx/ 表示/ 文档/ 标识符/ ,/ 而/ ID/ _/ AF/ _/ xxxx/ _/ Address/ 表示/ 该/ 文档/ 在/ 库/ 中/ 的/ 地址/ ./ 我们/ 记/ 标注/ 文件/ 的/ 地址/ 索引/ 表为/ Slib/ _/ AF/ _/ List/ ;/ 同样/ ,/ 我们/ 可以/ 建立/ 语音/ 文件/ 的/ 地址/ 索引/ 表/ Slib/ _/ SF/ _/ List/ ./ 因此/ ,/ 对于/ 一个/ 基本/ 语言/ 单位/ ,/ 我们/ 首先/ 在/ 相应/ 的/ 倒排/ 索引/ 表中/ 查找/ 到/ 包含/ 它/ 的/ 文档/ ID/ ,/ 然后/ 通过/ 地址/ 索引/ 表/ 存取/ 它/ 的/ 相关/ 数据/ ./ 定义/ 3/ ./ 基本/ 语言/ 单位/ 的/ 包容/ ./ 假如/ 给定/ 了/ 一个/ 基本/ 语言/ 单位/ 的/ 集合/ SS/ =/ {/ S1/ ,/ S2/ ,/ …/ ,/ SN/ }/ ,/ 如果/ 存在/ 库中/ 的/ K/ 个/ 标注/ 文档/ 包含/ 集合/ SS/ 中/ 的/ 所有/ 元素/ ,/ 那么/ ,/ 称/ 这/ K/ 个/ 标注/ 文档/ 组成/ 的/ 集合/ 为/ 集合/ SS/ 的/ 一个/ 包容/ ;/ 如果/ 库中/ 任意/ K/ -/ 1/ 个/ 或/ 更/ 少/ 的/ 标注/ 文档/ 都/ 不能/ 包含/ 集合/ SS/ 中/ 的/ 所有/ 元素/ ,/ 那么/ ,/ 称/ 这/ K/ 个/ 文档/ 为/ 集合/ SS/ 的/ 一个/ 最小/ 包容/ ./ 语音/ 语料库/ 中/ 所有/ 标注/ 文档/ 组成/ 的/ 集合/ 记为/ SD/ ./ 需要/ 指出/ 的/ 是/ ,/ 基本/ 语言/ 单位/ 的/ 包容/ 一定/ 是/ 存在/ 的/ ,/ 但/ 包容/ 和/ 最小/ 包容/ 都/ 可能/ 不是/ 唯一/ 的/ ./ 例如/ ,/ 对于/ 任意/ 一个/ 基本/ 语言/ 单位/ 的/ 集合/ SS/ ,/ 库中/ 所有/ 文档/ 可以/ 构成/ 集合/ SS/ 的/ 一个/ 包容/ ;/ 再/ 如/ ,/ 假设/ 集合/ SS/ 中/ 只有/ 一个/ 元素/ 且/ 该/ 元素/ 的/ 伴随/ 集合/ 的/ 基数/ 大于/ 1/ ,/ 那么/ ,/ 其/ 包容/ 和/ 最小/ 包容/ 都/ 将/ 有/ 多个/ ./ 在/ 建立/ 上述/ 索引/ 表/ 的/ 基础/ 上/ ,/ 我们/ 讨论/ 如何/ 利用/ 集合/ 运算/ 实现/ 最小/ 最大化/ 原则/ ./ 假如/ 给定/ 了/ 一个/ 基本/ 语言/ 单位/ 的/ 集合/ SS/ (/ 事实上/ ,/ 在/ TTS/ 中/ 一般/ 给定/ 一个/ 句子/ 的/ 文本/ ,/ 然后/ 通过/ 分词/ 等/ 分析/ 算法/ 将/ 其/ 分解/ 为/ 一个个/ 的/ 基本/ 语言/ 单位/ )/ ,/ 而/ 集合/ SS/ 含有/ 的/ N/ 个/ 元素/ 分别/ 为/ S1/ ,/ S2/ ,/ …/ ,/ SN/ ,/ 即/ SS/ =/ {/ S1/ ,/ S2/ ,/ …/ ,/ SN/ }/ ./ 那么/ ,/ 对于/ 任意/ 的/ Sk/ ∈/ SS/ ,/ 从/ 倒排/ 索引/ 表中/ 可以/ 找到/ Sk/ 的/ 伴随/ 集合/ Sk/ {/ }/ ./ 通过/ 集合/ 的/ “/ 交/ ”/ 运算/ ,/ 我们/ 可以/ 得到/ 如下/ 的/ 集合/ SS/ _/ NI/ :/ 如果/ 集合/ SS/ _/ NI/ 非空/ ,/ 则/ 表明/ 至少/ 有/ 一个/ 文档/ 包含/ 集合/ SS/ 中/ 的/ 所有/ 语言/ 单位/ ./ 这种/ 情况/ 下/ ,/ 我们/ 找到/ Page5/ 了/ 集合/ SS/ 的/ 多个/ 最小/ 包容/ ,/ 但/ 需要/ 一个/ 准则/ 选取/ 哪/ 一个/ 文档/ ,/ 如/ 选取/ 包含/ 基本/ 语言/ 单位/ 最多/ 的/ 文档/ 或者/ 选取/ 语音/ 质量/ 最好/ 的/ 文档/ 等/ (/ 选取/ 标准/ 可能/ 很/ 复杂/ )/ ./ 如果/ 集合/ SS/ _/ NI/ 为空/ ,/ 则/ 表明/ 没有/ 一个/ 文档/ 包含/ 集合/ SS/ 中/ 的/ 所有/ 语言/ 单位/ ./ 这时/ ,/ 我们/ 可以/ 通过/ 集合/ 的/ “/ 并/ ”/ 等/ 运算/ 构造/ 集合/ SS/ 的/ 一个/ 包容/ ,/ 但/ 问题/ 变得/ 比较复杂/ 和/ 困难/ ./ 显然/ ,/ 集合/ SS/ 中/ 的/ 所有/ 基本/ 语言/ 单位/ 的/ 伴随/ 集合/ 的/ “/ 并/ ”/ SS/ _/ NO/ 是/ 集合/ SS/ 的/ 一个/ 包容/ ,/ 即/ 但/ 集合/ SS/ _/ NO/ 一般/ 包含/ 的/ 元素/ 太/ 多/ ,/ 我们/ 希望/ 找到/ 一个/ 最小/ 包容/ ./ 显然/ ,/ 我们/ 要/ 寻找/ 的/ 最小/ 包容/ 一定/ 是/ 集合/ SS/ _/ NO/ 的/ 一个/ 子集/ ,/ 但/ 其/ 子集/ 数目/ 是/ 2/ |/ SS/ _/ NO/ |/ ,/ 其中/ ,/ |/ SS/ _/ NO/ |/ 表示/ 集合/ SS/ _/ NO/ 的/ 基数/ ./ 如果/ 采用/ 逐个/ 子集/ 测试/ 的/ 算法/ ,/ 其/ 时间/ 复杂度/ 将/ 是/ 指数/ 级/ 的/ (/ 相对/ 于/ 问题/ 规模/ |/ SS/ _/ NO/ |/ 的/ 增长/ )/ ./ 当/ |/ SS/ _/ NO/ |/ 很大/ 时该/ 算法/ 的/ 实现/ 是/ 不/ 现实/ 的/ ./ 因此/ ,/ 我们/ 需要/ 寻找/ 其它/ 的/ 可行/ 算法/ ./ 首先/ ,/ 对于/ 一些/ 特殊/ 情况/ ,/ 我们/ 可以/ 比较/ 容易/ 地/ 回答/ 上述/ 最小/ 包容/ 问题/ ./ 例如/ ,/ 假设/ 集合/ SS/ 中/ 的/ 每个/ 元素/ 的/ 伴随/ 集合/ 两/ 两/ 互不/ 相交/ ,/ 即/ 任意/ 两个/ 伴随/ 集合/ 的/ 交集/ 为空/ ,/ 那么/ ,/ 集合/ SS/ 的/ 最小/ 包容/ 必/ 是从/ 集合/ SS/ 的/ 每个/ 元素/ 的/ 伴随/ 集合/ 中/ 任意/ 抽取/ 一个/ 元素/ 组成/ 的/ 集合/ ,/ 任意/ 一个/ 最小/ 包容/ 中/ 的/ 元素/ 个数/ 都/ 恰好/ 与/ SS/ 中/ 的/ 元素/ 个数/ 相等/ ./ 这时/ ,/ 集合/ SS/ 的/ 最小/ 包容/ 的/ 数目/ 是/ 各个/ 伴随/ 集合/ 的/ 基数/ 的/ 乘积/ ,/ 即/ 再/ 如/ ,/ 假设/ 集合/ SS/ 中/ 的/ 每个/ 元素/ 的/ 伴随/ 集合/ 两/ 两/ 相交/ ,/ 即/ 任意/ 两个/ 伴随/ 集合/ 的/ 交集/ 非空/ ,/ 而/ 任意/ 三个/ 伴随/ 集合/ 的/ 交集/ 为空/ ./ 那么/ ,/ 将/ 集合/ SS/ 的/ 元素/ 的/ 伴随/ 集合/ 两/ 两/ 分组/ ,/ 从/ 每个/ 组中/ 选取/ 一个/ 公共/ 元素/ 可以/ 组成/ 一个/ 最小/ 包容/ ./ 这时/ ,/ 最小/ 包容/ 的/ 数目/ 和/ 最小/ 包容/ 中/ 元素/ 的/ 个数/ 都/ 是/ (/ |/ SS/ |/ +/ 1/ )/ // 2/ 取整/ ./ 对于/ 一般/ 情况/ ,/ 上述/ 最小/ 包容/ 问题/ 是/ 不/ 容易/ 解决/ 的/ ./ 其实/ ,/ 定义/ 3/ 中/ 提出/ 的/ 最小/ 包容/ 问题/ 是/ 一个/ NP/ 完全/ 问题/ ./ 为了/ 叙述/ 方便/ ,/ 我们/ 再用/ 集合/ 的/ 概念/ 将/ 上述/ 最小/ 包容/ 问题/ 描述/ 如下/ ./ 定义/ 4/ ./ 假如/ 给定/ 了/ 一个/ N/ 个/ 元素/ 的/ 集合/ SS/ =/ {/ S1/ ,/ S2/ ,/ …/ ,/ SN/ }/ ,/ 其中/ S1/ ,/ S2/ ,/ …/ ,/ SN/ 也/ 都/ 是/ 集合/ ,/ 令/ 如果/ SA/ 的/ 一个/ 子集/ SAB/ 满足/ 如下/ 性质/ :/ SS/ 中/ 的/ 每个/ 元素/ (/ 也/ 是/ 集合/ )/ 至少/ 包含/ 子集/ SAB/ 的/ 一个/ 元素/ ,/ 则/ 称/ 子集/ SAB/ 为/ 集合/ SS/ 的/ 一个/ 包容/ ;/ 如果/ 对/ SA/ 的/ 任意/ 一个/ 子集/ SAC/ ,/ 当/ |/ SAC/ |/ </ |/ SAB/ |/ 时/ ,/ SAC/ 不是/ 集合/ SS/ 的/ 一个/ 包容/ ,/ 那么/ ,/ 称/ 子集/ SAB/ 为/ 集合/ SS/ 的/ 一个/ 最小/ 包容/ ,/ 而/ 子集/ SAB/ 中/ 的/ 元素/ 称为/ 被/ 选中/ 或/ 代表/ ./ 在/ 定义/ 4/ 中/ 定义/ 的/ 最小/ 包容/ 问题/ 与/ 布尔/ 逻辑/ 中/ 合取范式/ 的/ 可/ 满足/ 性/ 问题/ (/ 即/ SAT/ 问题/ )/ 以及/ 众所周知/ 的/ 集合/ 覆盖/ 问题/ 等/ NP/ 完全/ 问题/ 是/ 可以/ 在/ 多项式/ 时间/ 内/ 相互/ 转化/ 的/ ./ 因此/ ,/ 最小/ 包容/ 问题/ 也/ 是/ 一个/ NP/ 完全/ 问题/ ./ 定理/ 1/ ./ 定义/ 4/ 中/ 给出/ 的/ 最小/ 包容/ 问题/ 是/ 一个/ NP/ 完全/ 问题/ ./ 证明/ ./ 我们/ 继续/ 沿用/ 定义/ 4/ 中/ 的/ 符号/ ,/ 定义/ 一元/ 谓词/ P/ (/ X/ )/ 如下/ :/ 对于/ X/ ∈/ SA/ ,/ 当/ X/ 被/ 选中/ 时/ ,/ P/ (/ X/ )/ =/ 1/ 或/ 真/ ;/ 当/ X/ 不/ 被/ 选中/ 时/ ,/ P/ (/ X/ )/ =/ 0/ 或/ 假/ ./ 那么/ ,/ 我们/ 可以/ 构造/ 一个/ 合取范式/ PP/ 如下/ :/ 其中/ ,/ ∩/ 表示/ 逻辑/ 合取/ ,/ ∪/ 代表/ 逻辑/ 析取/ ./ 根据/ Cook/ 定理/ ,/ 我们/ 可以/ 得出/ ,/ 上述/ 合取范式/ PP/ 的/ 可/ 满足/ 性/ 问题/ 是/ 一个/ NP/ 完全/ 问题/ ./ 另一方面/ ,/ 对于/ 定义/ 4/ 中/ 给出/ 的/ 最小/ 包容/ 问题/ ,/ 显然/ 任意/ 一个/ 最小/ 包容/ 不仅/ 要/ 满足/ 合取范式/ PP/ ,/ 而且/ 还要/ 找出/ PP/ 的/ 成真/ 赋值/ 中/ 选中/ 的/ 代表/ 数/ 最少/ 的/ 一个/ ,/ 即/ 最小/ 包容/ ./ 所以/ ,/ 上述/ 最小/ 包容/ 问题/ 是/ 一个/ NP/ 完全/ 问题/ ./ 定义/ 4/ 中/ 给出/ 的/ 最小/ 包容/ 问题/ 与/ 集合/ 覆盖/ 问题/ 也/ 是/ 可以/ 相互/ 转化/ 的/ ./ 事实上/ ,/ 如果/ 我们/ 把/ SA/ 的/ 元素/ 看作/ 集合/ ,/ 把/ S1/ ,/ S2/ ,/ …/ ,/ SN/ 看作/ 一个/ 需要/ 覆盖/ 的/ 集合/ 的/ 元素/ ./ 再/ 把/ 定义/ 4/ 中/ 的/ 包含/ 关系/ 也/ 转换/ 过来/ ,/ 即/ 如果/ 在/ 定义/ 4/ 的/ 最小/ 包容/ 问题/ 中/ ,/ Sk/ 包含/ SA/ 中/ 的/ 元素/ ak1/ ,/ ak2/ ,/ …/ ,/ akm/ ,/ 那么/ ,/ 在/ 集合/ 覆盖/ 问题/ 中/ 转化/ 为/ 集合/ ak1/ ,/ ak2/ ,/ …/ ,/ akm/ 都/ 包含/ 元素/ Sk/ ./ 这时/ ,/ 集合/ 覆盖/ 问题/ 是/ 如何/ 选取/ 最少/ 的/ SA/ 中/ 的/ 元素/ (/ 它们/ 被/ 看作/ 集合/ )/ 并/ 覆盖/ 集合/ SS/ =/ {/ S1/ ,/ S2/ ,/ …/ ,/ SN/ }/ ./ 因此/ ,/ 我们/ 可以/ 利用/ 集合/ 覆盖/ 问题/ 的/ 方法/ 和/ 结论/ 来/ 分析/ 和/ 求解/ 最小/ 包容/ 问题/ ./ 根据/ 定理/ 1/ ,/ 求解/ 最小/ 包容/ 问题/ ,/ 也/ 就是/ 确定/ 一个/ 选取/ 策略/ :/ 哪些/ X/ ∈/ SA/ 被/ 选中/ ,/ 哪些/ 不/ 被/ 选中/ ./ 另外/ ,/ 对于/ 最小/ 包容/ 问题/ ,/ 我们/ 还有/ 如下/ 的/ 几个/ 相关/ 问题/ :/ (/ 1/ )/ 如何/ 求/ 最小/ 包容/ ?/ (/ 2/ )/ 共有/ 多少/ 个/ 最小/ 包容/ ?/ (/ 3/ )/ 最小/ 包容/ 中/ 含有/ 多少/ 元素/ ?/ Page6/ 对于/ 上述/ 问题/ (/ 1/ )/ ,/ 我们/ 给出/ 如下/ 的/ 贪婪/ 算法/ ./ 该/ 算法/ 是/ 多项式/ 时间/ 算法/ ,/ 能够/ 求/ 出/ 一个/ 包容/ ,/ 但/ 不/ 一定/ 是/ 最小/ 包容/ ./ 算法/ 1.1/ ./ 集合/ C/ =/ 空/ 2/ ./ 集合/ E/ =/ SA/ -/ C3/ ./ 集合/ F/ =/ SS4/ ./ whileF/ 非空/ {/ 5/ ./ 返回/ 集合/ C/ ,/ 结束/ ./ 下面/ 的/ 例子/ 可以/ 说明/ 上述/ 算法/ 1/ 只能/ 求/ 出/ 一个/ 例/ 1/ ./ 假设/ 集合/ SS/ =/ {/ s1/ ,/ s2/ ,/ s3/ ,/ s4/ }/ ,/ 其中/ 包容/ ,/ 但/ 不/ 一定/ 是/ 最小/ 包容/ ./ 那么/ ,/ SS/ 的/ 最小/ 包容/ 有/ 4/ 个/ ,/ 分别/ 如下/ :/ 按照/ 上述/ 算法/ 1/ ,/ 如果/ 第一次/ 找到/ 的/ Ek/ 为/ s2/ 和/ s3/ 的/ 公共/ 元素/ 6/ ,/ 那么/ ,/ 就/ 只能/ 找到/ 一个/ 有/ 3/ 个/ 元素/ 的/ 包容/ ,/ 找/ 不到/ 一个/ 含有/ 2/ 个/ 元素/ 的/ 最小/ 包容/ ./ 关于/ 求/ 最小/ 包容/ 问题/ 的/ 求解/ ,/ 我们/ 利用/ 图/ 的/ 连通性/ 可以/ 有/ 更/ 直观/ 的/ 解释/ ./ 对于/ 上述/ 例/ 1/ ,/ 我们/ 可以/ 作出/ 一个/ 对应/ 的/ 无/ 向/ 图/ ,/ 如图/ 1/ 所示/ ,/ 其中/ 图/ 的/ 顶点/ 为/ 集合/ SS/ 中/ 的/ 元素/ ,/ 两个/ 顶点/ 之间/ 有/ 边/ 连接/ 当且/ 仅/ 当/ 这/ 两个/ 顶点/ 作为/ 集合/ 有/ 公共/ 元素/ ,/ 每/ 一个/ 公共/ 元素/ 对应/ 图中/ 的/ 一条/ 边/ ,/ 且/ 在/ 边上/ 标出/ 公共/ 元素/ ./ 根据/ 算法/ 1/ ,/ 我们/ 首先/ 在/ 最小/ 包容/ 问题/ 的/ 对应/ 图中/ 找出/ 含有/ 相同/ 标号/ 最多/ 的/ 边/ (/ 不/ 一定/ 是/ 最长/ 路径/ )/ ,/ 然后/ 去掉/ 这些/ 边/ 以及/ 与其/ 关联/ 的/ 顶点/ ,/ 在/ 余下/ 的/ 图/ 中/ 重复/ 上述/ 操作/ ,/ 直到/ 所有/ 的/ 顶点/ 都/ 被/ 去掉/ ,/ 记录/ 下/ 上述/ 操作/ 中/ 每次/ 去掉/ 的/ 边上/ 的/ 标号/ ,/ 这些/ 标号/ 的/ 集合/ 就是/ 一个/ 包容/ ./ 下面/ 我们/ 讨论/ 算法/ 1/ 的/ 性能/ 问题/ ./ 我们/ 定义/ 算法/ 1/ 的/ 近似/ 比/ Ra/ 为/ 最小/ 包容/ 中/ 含有/ 的/ 元素/ 个数/ 与/ 算法/ 1/ 给出/ 的/ 包容/ 含有/ 的/ 元素/ 个数/ 之比/ ./ 显然/ ,/ Ra/ 是/ 大于/ 等于/ 1/ 的/ ./ 根据/ 用/ 贪婪/ 算法/ 求解/ 集合/ 覆盖/ 问题/ 的/ 结论/ ,/ 我们/ 有/ 如下/ 的/ 定理/ ./ 定理/ 2/ ./ 求解/ 最小/ 包容/ 问题/ 的/ 算法/ 1/ 的/ 近似/ 比/ 为/ (/ lnN/ +/ 1/ )/ ,/ 其中/ N/ 为/ 集合/ SS/ 的/ 基数/ ./ 证明/ ./ 因为/ 最小/ 包容/ 问题/ 可以/ 转化/ 为/ 集合/ 覆盖/ 问题/ ,/ 根据/ 贪婪/ 算法/ 求解/ 集合/ 覆盖/ 问题/ 的/ 结论/ ,/ 我们/ 可以/ 得出/ 用/ 贪婪/ 算法/ 求解/ 最小/ 包容/ 问题/ 的/ 近似/ 比/ 为/ (/ lnN/ +/ 1/ )/ ./ 详细/ 证明/ 见/ 文献/ [/ 15/ ]/ ./ 关于/ 最小/ 包容/ 的/ 另外/ 两个/ 问题/ ,/ 即/ 共有/ 多少/ 个/ 最小/ 包容/ ?/ 最小/ 包容/ 中/ 含有/ 多少/ 元素/ ?/ 本文/ 还/ 没有/ 解决/ ./ 4/ 在/ TTS/ 中/ 的/ 应用/ 在/ 介绍/ 了/ 大规模/ 语音/ 语料库/ Slib/ 的/ 结构/ 和/ 基于/ 集合/ 运算/ 的/ 最小/ 包容/ 等/ 问题/ 的/ 基础/ 上/ ,/ 我们/ 将/ 讨论/ 它们/ 在/ TTS/ 即文语/ 转换/ 系统/ 中/ 的/ 应用/ ./ 为了/ 叙述/ 方便/ ,/ 我们/ 称/ 一个/ 基本/ 语言/ 单位/ (/ 如/ 词语/ 、/ 汉字/ 、/ 拼音/ 等/ )/ 在/ 某个/ 语音/ 文件/ 中/ 的/ 一次/ 出现/ 为/ 该/ 基本/ 语言/ 单位/ 的/ 一个/ 实例/ ./ 一个/ 基本/ 语言/ 单位/ 在/ 某个/ 语音/ 文件/ 中/ 可能/ 有/ 多个/ 实例/ ./ 基于/ 大规模/ 语音/ 语料库/ 的/ 文语/ 转换/ 技术/ 的/ 核心/ 问题/ 是/ 如何/ 从/ 一个/ 基本/ 语言/ 单位/ 的/ 多个/ 实例/ 中/ 选择/ 一个/ “/ 合适/ 的/ ”/ 实例/ ./ 这里/ ,/ “/ 合适/ 的/ ”/ 评价/ 标准/ 不同/ ,/ 选择/ 的/ 策略/ 和/ 结果/ 也/ 不同/ ./ 文语/ 转换/ 系统/ 一般/ 包括/ 两个/ 主要/ 模块/ ,/ 即/ 语言/ 处理/ 模块/ 和/ 语音/ 处理/ 模块/ ./ 语言/ 处理/ 模块/ 的/ 主要/ 任务/ 是/ 分析/ 输入/ 的/ 文本/ 句子/ ,/ 识别/ 出/ 短语/ 、/ 词/ 、/ 专用/ 名称/ 、/ 缩略语/ 、/ 特殊符号/ 等/ 语言/ 单位/ ,/ 将/ 文本/ 句子/ 转换/ 为/ 注音符号/ 表示/ 形式/ 并/ 添加/ 控制符/ ./ 语言/ 处理/ 模块/ 的/ 输出/ 作为/ 语音/ 处理/ 模块/ 的/ 输入/ ./ 语音/ 处理/ 模块/ 对于/ 每/ 一个/ 注音符号/ 在/ 语音/ 语料库/ 中/ 查找/ 它/ 的/ 一个/ 合适/ 实例/ ,/ 然后/ 将/ 文本/ 句子/ 对应/ 的/ 所有/ 注音符号/ 的/ 实例/ 拼接/ 起来/ ,/ 在/ 拼接/ 过程/ 中/ 根据/ 控制符/ 的/ 语义/ 对/ 语音/ 实例/ 的/ 音长/ 、/ 韵律/ 特征/ 和/ 停顿/ 时间/ 等/ 进行/ 调整/ ,/ 最后/ 输出/ 一个/ 句子/ 的/ 完整/ 的/ 语音/ 数据流/ ./ 输出/ 语音/ 的/ 清晰度/ 、/ 自然/ 度/ 等/ 是/ 评价/ 文语/ 转换/ 系统/ 性能/ 的/ 主要/ 技术指标/ ,/ 而/ 自然/ 度/ 是/ 目前/ 最/ 主要/ 的/ 评价/ 指标/ ./ 在/ 基于/ 大规模/ 语音/ 语料库/ 的/ 文语/ 转换/ 系统/ 中/ ,/ 其/ 语音/ 处理/ 模块/ 按照/ 处理/ 逻辑/ 可以/ 划分/ 为/ 三层/ ,/ 即/ 数据/ 层/ 、/ 索引/ 层/ 和/ 检索/ 层/ ,/ 见图/ 2/ ./ 首先/ ,/ 我们/ 讨论/ 数据/ 层/ 的/ 语音/ 数据/ 的/ 完备/ 性/ 问题/ ./ 这里/ ,/ 语音/ 数据/ 的/ Page7/ 完备/ 是/ 指/ 语音/ 数据/ 能够/ 覆盖/ 所有/ 的/ 基本/ 语言/ 单位/ 的/ 语音/ 实例/ ./ 其实/ ,/ 语音/ 语料库/ 的/ 完备/ 性/ 问题/ 涉及/ 语言/ 现象/ 的/ 多个/ 层面/ ,/ 如/ 词语/ 、/ 单字/ 、/ 拼音/ 和/ 声/ 韵母/ 等/ ./ 例如/ ,/ 在/ 语音/ 语料库/ Slib/ 中/ ,/ 共/ 出现/ 了/ 5488/ 个/ 不同/ 的/ 汉语/ 词/ (/ 不/ 包括/ 单字/ 词/ )/ ,/ 约/ 占/ 常用/ 汉语/ 词/ (/ 约/ 5/ 万/ )/ 的/ 11/ %/ ;/ 共/ 出现/ 了/ 2288/ 个/ 不同/ 的/ 汉字/ ,/ 约/ 占/ GB2312/ -/ 80/ 汉字/ 字符集/ 中/ 汉字/ 总数/ 的/ 33.8/ %/ ;/ 共/ 出现/ 了/ 1067/ 个/ 不同/ 的/ 汉语拼音/ ,/ 覆盖率/ 约/ 88.55/ %/ (/ 汉语拼音/ 约/ 有/ 1205/ 个/ ,/ 但/ 各种/ 文献/ 的/ 规定/ 的/ 数目/ 略有不同/ )/ ./ 我们/ 看到/ ,/ 在/ 词语/ 、/ 字/ 和/ 拼音/ 3/ 个/ 语言/ 层面/ 上/ ,/ 语音/ 语料库/ 都/ 不能/ 100/ %/ 覆盖/ ./ 因此/ ,/ 在/ 使用/ 语音/ 语料库/ 实现/ TTS/ 之前/ ,/ 必须/ 先/ 进行/ 补充/ ./ 语音/ 语料库/ 的/ 补充/ 工作/ 一般/ 仅限于/ 在/ 拼音/ 层面/ 上/ 把/ 所有/ 拼音/ 的/ 语音/ 实例/ 补充/ 完整/ ,/ 而/ 对/ 词语/ 和/ 汉字/ 两个/ 层面/ 不/ 作/ 改变/ ./ 根据/ 语音/ 语料库/ 的/ 建立/ 方式/ ,/ 对/ 语音/ 实例/ 的/ 补充/ 方案/ 可以/ 有/ 多种/ ./ 一般/ 常用/ 的/ 方案/ 是/ 利用/ 已有/ 的/ 拼音/ 手工/ 拼接/ 出/ 缺失/ 的/ 拼音/ ,/ 然后/ 将/ 补充/ 的/ 所有/ 拼音/ 的/ 语音/ 实例/ 存放/ 在/ 一个/ 语音/ 文件/ 中/ ,/ 再/ 将/ 该/ 语音/ 文件/ 添加/ 到/ 语音/ 语料库/ 中/ ./ 在/ 语音/ 语料库/ Slib/ 中/ ,/ 我们/ 也/ 是/ 采用/ 了/ 这种/ 方案/ ./ 其次/ ,/ 在/ 索引/ 层/ 建立/ 倒排/ 索引/ 文件/ 和/ 二级/ 地址/ 索引/ 文件/ ./ 基于/ 语音/ 语料库/ Slib/ 中/ 的/ 汉语/ 词/ ,/ 建立/ 倒排/ 索引/ 表/ Slib/ _/ WORD/ _/ IIList/ ;/ 同样/ ,/ 建立/ 汉字/ 的/ 倒排/ 索引/ 表/ Slib/ _/ CHAR/ _/ IIList/ 、/ 拼音/ 的/ 倒排/ 索引/ 表/ Slib/ _/ PY/ _/ IIList/ 等/ ./ 对于/ 倒排/ 索引/ ,/ 我们/ 再/ 建立/ 二级/ 索引/ ,/ 主要/ 记录/ 倒排/ 索引/ 文件/ 中/ 的/ 每个/ 文档/ 在/ 语音/ 语料库/ 中/ 的/ 存储/ 地址/ ,/ 以便/ 于/ 存取/ ./ 在/ 数据/ 层/ 和/ 索引/ 层/ 的/ 基础/ 上/ ,/ 我们/ 可以/ 在/ 检索/ 层/ 实现/ 对/ 大规模/ 语音/ 语料库/ 的/ 检索/ 和/ 应用/ ./ 以文语/ 转换/ 技术/ 为例/ ,/ 在/ 检索/ 层/ 输入/ 的/ 主要/ 是/ 两个/ 字符串/ :/ 即/ 汉语/ 字词/ 混合/ 的/ 字符串/ 和/ 相应/ 的/ 汉语拼音/ 字符串/ ,/ 这些/ 字符串/ 一般/ 都/ 是/ 以/ 句子/ 为/ 单位/ 的/ ,/ 而/ 期望/ 输出/ 的/ 是/ 该/ 汉语/ 字词/ 混合/ 字符串/ 对应/ 的/ 语音/ 数据流/ ./ 在/ TTS/ 中/ ,/ 将/ 输入/ 的/ 汉语/ 字词/ 混合/ 字符串/ 按照/ 顺序/ 依次/ 取出/ 字/ 或/ 词/ 作为/ 基本/ 语言/ 单位/ ,/ 然后/ 在/ 索引/ 层/ 查找/ 是否/ 存在/ 相同/ 的/ 基本/ 语言/ 单位/ ;/ 如果/ 查找/ 成功/ ,/ 则/ 可以/ 在/ 语音/ 语料库/ 中/ 找到/ 该/ 语言/ 单位/ 的/ 语音/ 实例/ ;/ 否则/ ,/ 将/ 词切/ 分为/ 单字/ ,/ 将/ 单字/ 转换/ 为/ 拼音/ 再/ 进行/ 查找/ ./ 除非/ 拼音/ 错误/ ,/ 否则/ 总能/ 找到/ 一个/ 拼音/ 的/ 语音/ 实例/ ./ 基于/ 语音/ 语料库/ 检索/ 语音/ 实例/ 的/ 逻辑/ 流程/ 如图/ 3/ 所示/ ./ 基于/ 语音/ 处理/ 模块/ 的/ 三层/ 结构/ 和/ 检索/ 处理/ 流程/ ,/ 对于/ 每/ 一个/ 输入/ 的/ 基本/ 语言/ 单位/ ,/ 我们/ 可以/ 找到/ 它/ 的/ 一个/ 或/ 多个/ 语音/ 实例/ ,/ 特别/ 是/ 存在/ 多个/ 语音/ 实例/ 的/ 情况/ 下/ ,/ 选择/ 哪/ 一个/ 最合适/ ?/ 这里/ ,/ “/ 最合适/ ”/ 的/ 评价/ 标准/ 应该/ 是/ 量化/ 的/ 、/ 可/ 实现/ 的/ 、/ 客观/ 的/ ,/ 并且/ 与/ 人/ 的/ 主观/ 评价/ 保持/ 一致性/ ./ 在/ 文语/ 转换/ 系统/ 中/ ,/ 一般/ 的/ 选择/ 方法/ 是/ :/ 针对/ 一个/ 基本/ 语言/ 单位/ ,/ 根据/ 其/ 上下文/ 环境/ 、/ 声学/ 参数/ 、/ 韵律/ 参数/ 等/ 构造/ 一个/ 特征向量/ 犘/ ,/ 并/ 对/ 它/ 的/ 每/ 一个/ 语音/ 实例/ 也/ 构造/ 一个/ 类似/ 的/ 特征向量/ 犜/ ,/ 计算/ 向量/ 犘/ 与/ 每/ 一个/ 向量/ 犜/ 之间/ 的/ 距离/ ,/ Page8/ 选择/ 距离/ 最小/ 的/ 特征向量/ 犜/ 对应/ 的/ 语音/ 实例/ 作为/ 该/ 基本/ 语言/ 单位/ 的/ 语音/ 实例/ ./ 需要/ 指出/ 的/ 是/ ,/ 在/ 构造/ 特征向量/ 犘/ 时/ ,/ 可以/ 通过/ 分析/ 输入/ 字符串/ 获取/ 一个/ 基本/ 语言/ 单位/ 的/ 上下文/ 环境/ ,/ 但/ 其/ 声学/ 参数/ 和/ 韵律/ 参数/ 必须/ 通过/ 其它/ 方式/ 获取/ ,/ 如/ 事先/ 通过/ 统计/ 方法/ 获得/ 每个/ 汉语拼音/ (/ 总共/ 1200/ 多个/ )/ 的/ 音长/ 、/ 基频/ 、/ 能量/ 的/ 均值/ 和/ 极值/ 等/ 信息/ ,/ 并存/ 放在/ 文件/ 中/ 以备/ 查询/ 使用/ ./ 另外/ ,/ 为/ 简化/ 处理/ ,/ 也/ 可以/ 仅仅/ 使用/ 基本/ 语言/ 单位/ 的/ 上下文/ 作为/ 选择/ 语音/ 实例/ 的/ 匹配/ 条件/ ./ 基于/ 上下文/ 选择/ 语音/ 实例/ 是/ 根据/ 当前/ 基本/ 语言/ 单位/ 的/ 左右/ 文本/ 信息/ 作为/ 匹配/ 条件/ 来/ 选择/ 合适/ 的/ 语音/ 实例/ ./ 虽然/ 上下文/ 信息/ 丰富/ ,/ 但/ 一般/ 仅/ 选择/ 左/ 、/ 右/ 各/ 一个/ 文字/ 或/ 拼音/ 形成/ 匹配/ 规则/ ./ 这些/ 匹配/ 规则/ 一般/ 都/ 有/ 如下/ 的/ 形式/ ,/ 即/ 左/ 文字/ +/ 当前/ 基本/ 语言/ 单位/ +/ 右/ 文字/ ./ 我们/ 使用/ 了/ 如下/ 的/ 12/ 条/ 规则/ (/ a/ )/ ~/ (/ l/ )/ 在/ 大规模/ 语音/ 语料库/ 中/ 选择/ 合适/ 的/ 语音/ 实例/ ./ (/ a/ )/ Lch/ +/ WD/ +/ Rch/ (/ b/ )/ Lch/ +/ WD/ (/ c/ )/ WD/ +/ Rch/ (/ d/ )/ WD/ (/ e/ )/ Lch/ +/ CH/ +/ Rch/ (/ f/ )/ Lch/ +/ CH/ (/ g/ )/ CH/ +/ Rch/ (/ h/ )/ Lpy/ +/ PY/ +/ Rpy/ (/ i/ )/ Lpy/ +/ PY/ (/ j/ )/ PY/ +/ Rpy/ (/ k/ )/ CH/ (/ l/ )/ PY/ 其中/ ,/ WD/ 为/ 汉字/ 词/ ,/ CH/ 为/ 汉字/ ,/ PY/ 为/ 汉语拼音/ ,/ Lch/ 为/ 左/ 文字/ ,/ Lpy/ 为/ 左/ 拼音/ ,/ Rch/ 为/ 右/ 文字/ ,/ Rpy/ 为/ 右/ 拼音/ ./ 上述/ 规则/ 的/ 匹配/ 优先级/ 顺序/ 是/ :/ 从/ (/ a/ )/ 到/ (/ l/ )/ 依次/ 降低/ ./ 当/ 匹配/ 成功/ 时/ ,/ 表明/ 选择/ 了/ 一个/ 合适/ 的/ 语音/ 实例/ ./ 例如/ ,/ 假设/ 文语/ 转换/ 系统/ 的/ 输入/ 是/ 如下/ 的/ 一个/ 汉语/ 句子/ :/ 经过/ 语言/ 模块/ 的/ 分析/ 处理/ ,/ 可以/ 得到/ 如下/ 两个/ 字符串/ :/ 一个/ 是/ 汉语/ 字词/ 混合/ 字符串/ CW/ ,/ 另/ 一个/ 是/ 其/ 对应/ 的/ 拼音串/ PY/ ,/ 如下/ 所示/ :/ CW/ :/ 语音/ // 处理/ // 会议/ // 在/ // 沪/ // 召开/ PY/ :/ yu3/ // yin1/ // chu3/ // li3/ // hui4/ // yi4/ // zai4/ // hu4/ // zhao4/ // kai1/ 其中/ ,/ 符号/ “/ // ”/ 为/ 基本/ 语言/ 单位/ 分隔符/ ;/ 对于/ 上述/ 汉语/ 句子/ 中/ 的/ 基本/ 语言/ 单位/ 选择/ 其/ 语音/ 实例/ 的/ 过程/ 如下/ :/ 1/ ./ 首先/ 取/ 第一个/ 汉字/ 词/ WD/ =/ “/ 语音/ ”/ ,/ 其/ 上下文/ 信息/ 为/ Lch/ =/ “/ sil/ ”/ ,/ Rch/ =/ “/ 处/ ”/ ;/ 在/ 语音/ 语料库/ 中/ 应用/ 规则/ (/ a/ )/ 进行/ 匹配/ ,/ 如果/ 匹配/ 成功/ ,/ 则/ 选择/ 了/ 汉字/ 词/ WD/ =/ “/ 语音/ ”/ 的/ 一个/ 语音/ 实例/ ,/ 否则/ ,/ 再/ 利用/ 规则/ (/ b/ )/ ~/ (/ d/ )/ 依次/ 进行/ 匹配/ ;/ 2/ ./ 如果/ 规则/ (/ a/ )/ ~/ (/ d/ )/ 都/ 匹配/ 失败/ ,/ 那么/ ,/ 从原/ 汉字/ 词/ 的/ 尾部/ 去掉/ 一个/ 汉字/ 形成/ 一个/ 新/ 的/ 基本/ 语言/ 单位/ WD/ =/ “/ 语/ ”/ ,/ 这时/ ,/ 其/ 上下文/ 信息/ 为/ Lch/ =/ “/ sil/ ”/ ,/ Rch/ =/ “/ 音/ ”/ ;/ 再用/ 规则/ (/ e/ )/ ~/ (/ g/ )/ 依次/ 进行/ 匹配/ ;/ 3/ ./ 如果/ 仍然/ 匹配/ 失败/ ,/ 那么/ ,/ 取该/ 基本/ 语言/ 单位/ 对应/ 的/ 汉语拼音/ 和/ 上下文/ 信息/ ,/ 再用/ 规则/ (/ h/ )/ ~/ (/ j/ )/ 依次/ 进行/ 匹配/ ;/ 4/ ./ 如果/ 仍然/ 匹配/ 失败/ ,/ 那么/ ,/ 用/ 规则/ (/ k/ )/ 和/ (/ l/ )/ 依次/ 进行/ 匹配/ ./ 因为/ 任/ 一个/ 汉语拼音/ 在/ 语音/ 语料库/ 中/ 至少/ 有/ 一个/ 语音/ 实例/ ,/ 所以/ ,/ 利用/ 规则/ (/ a/ )/ ~/ (/ l/ )/ 和/ 匹配/ 过程/ (/ 1/ )/ ~/ (/ 4/ )/ 可以/ 在/ 语音/ 语料库/ 中/ 选出/ 一个/ 合适/ 的/ 语音/ 实例/ ./ 这里/ ,/ “/ 合适/ ”/ 的/ 标准/ 是/ 根据上述/ 规则/ (/ a/ )/ ~/ (/ l/ )/ 确定/ 的/ ./ 当/ 语音/ 语料库/ 中/ 的/ 规模较/ 小时/ ,/ 采用/ 上述/ 规则/ (/ a/ )/ ~/ (/ l/ )/ 选取/ 语音/ 单元/ 的/ 前面/ 的/ 规则/ 被/ 命中/ 的/ 概率/ 较/ 小/ ,/ 但/ 占用/ 了/ 较/ 多/ 的/ 查询/ 时间/ ./ 因此/ ,/ 基于/ 小规模/ 语音/ 语料库/ 的/ 合成/ 一般/ 采用/ 简单/ 的/ 单元/ 选取/ 规则/ ./ 例如/ ,/ 有些/ 系统/ 仅仅/ 考虑/ 规则/ (/ h/ )/ ~/ (/ l/ )/ 或者/ (/ i/ )/ ~/ (/ l/ )/ ./ 现在/ 许多/ 合成/ 系统/ 采用/ 仅以/ 拼音/ 为/ 基础/ 的/ 单元/ 选取/ 规则/ ,/ 即/ 从/ 要/ 合成/ 的/ 句子/ 的/ 拼音串/ 出发/ ,/ 按照/ 特定/ 的/ 规则/ 选取/ 语音/ 单元/ ./ 这种/ 方法/ 的/ 优点/ 是/ 简化/ 了/ 语音/ 单元/ 选取/ 规则/ ,/ 节省/ 了/ 查找时间/ ,/ 但/ 也/ 有/ 不足之处/ ./ 例如/ ,/ 当/ 汉字/ 到/ 拼音/ 的/ 转换/ 不/ 准确/ 时/ ,/ 选取/ 的/ 语音/ 单元/ 必定/ 出错/ ./ 如果/ 采用/ 以/ 汉语/ 字/ 、/ 词/ 和/ 拼音/ 为/ 基础/ 的/ 单元/ 选取/ 规则/ ,/ 可以/ 减少/ 上述/ 错误/ ./ 本文/ 的/ 语音/ 单元/ 是/ 以/ 汉语/ 字/ 、/ 词/ 和/ 拼音/ 为/ 基础/ 的/ ,/ 并且/ 按照/ 上述/ 规则/ (/ a/ )/ ~/ (/ l/ )/ 顺序/ 执行/ ./ 例如/ ,/ 汉语/ 句子/ :/ “/ 语音/ 处理/ 会议/ 在/ 沪/ 召开/ ”/ ,/ 其中/ 语音/ 单元/ 的/ 选取/ 正式/ 按照/ 上述/ 方法/ 完成/ 的/ ./ 图/ 4/ 是/ 本文/ 开发/ 的/ 基于/ 大规模/ 汉语/ 语音/ 语料库/ 的/ 合成/ 演示/ 系统/ 界面/ ,/ 其中/ 右半/ 部分/ 是/ 输出/ ,/ 包括/ 用户/ 输入/ 的/ 句子/ 的/ 处理结果/ 、/ 合成/ 的/ 语音/ 波形/ 显示/ 与/ 播放/ 等/ ./ Page9/ 另外/ ,/ 还有/ 一个/ 系统/ 性能/ 评价/ 问题/ ./ 对于/ 本文/ 来说/ ,/ 主要/ 包括/ 两个/ 方面/ :/ 语音/ 语料库/ 的/ 评价/ 和/ 基于/ 它/ 的/ 合成/ 系统/ 的/ 评价/ ./ 前者/ 主要/ 考虑/ 的/ 因素/ 包括/ 语音/ 语料库/ 的/ 规模/ 、/ 字词/ 和/ 拼音/ 的/ 覆盖率/ 等/ ./ 本文/ 的/ 语音/ 语料库/ 的/ 规模/ 已经/ 达到/ 2Gb/ 语音/ 数据/ ,/ 包括/ 约/ 22/ 万个/ 已经/ 标注/ 的/ 汉语/ 音节/ (/ 还/ 在/ 不断/ 增加/ )/ ;/ 但/ 由于/ 该库/ 是从/ 真实/ 广播/ 语音/ 中/ 采集/ 的/ 数据/ ,/ 所以/ 存在/ 语料/ 不/ 平衡/ 现象/ ,/ 有些/ 音节/ 存在/ 数百个/ 实例/ ,/ 有些/ 只有/ 一个/ 甚至/ 没有/ ./ 这是/ 本库/ 的/ 一个/ 主要/ 缺陷/ ./ 对于/ 合成/ 系统/ 的/ 评价/ 主要/ 是/ 评估/ 合成/ 语音/ 的/ 自然/ 度/ 等/ ,/ 大多/ 采用/ 人工/ 试听/ 打分/ 的/ 方法/ ,/ 主观性/ 比较/ 大/ ./ 本文/ 中/ 的/ 系统/ 采用/ 了/ 大规模/ 语音/ 语料库/ ,/ 对于/ 库中/ 有/ 相近/ 实例/ 的/ 句子/ 合成/ 出/ 的/ 语音/ 自然/ 度/ 非常/ 高/ ,/ 否则/ ,/ 自然/ 度/ 较差/ ./ 5/ 结束语/ 本文/ 介绍/ 了/ 大规模/ 语音/ 语料库/ 以及/ 基于/ 大规模/ 语音/ 语料库/ 的/ 文语/ 转换/ 技术/ 的/ 研究/ 现状/ ,/ 并且/ 重点/ 介绍/ 了/ 一个/ 大规模/ 连续/ 汉语/ 语音/ 语料库/ 的/ 实例/ Slib/ 的/ 结构/ 和/ 内容/ ./ Slib/ 的/ 语音/ 数据/ 采集/ 自/ 中央电视台/ 的/ 新闻联播/ 真实/ 语音/ ,/ 手工/ 标注/ 了/ 约/ 22/ 万个/ 汉语/ 音节/ ,/ 适合/ 于/ 汉语/ 语音/ 合成/ 与/ 识别/ 的/ 研究/ 与/ 开发/ ./ 基于/ 大规模/ 语音/ 语料库/ 查找/ 基本/ 语言/ 单位/ 的/ 语音/ 实例/ 问题/ 是/ 言语/ 工程/ 中/ 的/ 基本/ 问题/ ./ 对于/ 该/ 问题/ ,/ 我们/ 讨论/ 了/ 面向/ 大规模/ 语音/ 语料库/ 的/ 索引/ 技术/ ,/ 提出/ 了/ 语料库/ 检索/ 中/ 的/ 集合/ 运算/ 和/ 最小/ 包容/ 问题/ ,/ 证明/ 了/ 最小/ 包容/ 问题/ 是/ NP/ 完全/ 的/ ,/ 给出/ 了/ 求解/ 该/ 问题/ 的/ 贪婪/ 算法/ 以及/ 算法/ 的/ 近似/ 比/ ;/ 最后/ ,/ 讨论/ 了/ 基于/ 集合/ 运算/ 的/ 大规模/ 语音/ 语料库/ 的/ 检索/ 技术/ 在/ 文语/ 转换/ 系统/ 中/ 的/ 应用/ ,/ 特别/ 是/ 在/ 基本/ 语言/ 单位/ 实例/ 的/ 选取/ 问题/ 上/ 实现/ 了/ 一种/ 基于/ 最小/ 包容/ 的/ 优化/ 方法/ ,/ 对于/ 提高/ 文语/ 转换/ 系统/ 的/ 自然/ 度/ 有/ 实用价值/ ./ 现在/ ,/ 我们/ 标注/ 的/ 语音/ 语料库/ 的/ 规模/ 还/ 在/ 不断/ 增加/ ,/ 预计/ 2009/ 年底/ 将/ 达到/ 50/ 万个/ 汉语/ 音节/ 的/ 规模/ ./ 

