Page1/ 基于/ 悖论/ 证明/ 与/ 局部/ 搜索/ 的/ 不可/ 满足/ 子/ 式/ 求解/ 算法/ 张建民/ 沈胜宇/ 李思昆/ (/ 国防科学技术大学/ 计算机/ 学院/ 长沙/ 410073/ )/ 摘要/ 随着/ 软硬件/ 设计/ 规模/ 日益/ 增加/ ,/ 功能/ 越来越/ 复杂/ ,/ 功能/ 验证/ 与/ 调试/ 在/ 整个/ 设计/ 周期/ 中/ 占有/ 的/ 比重/ 越来越/ 大/ ,/ 迫切需要/ 高效/ 的/ 方法/ 诊断/ 与/ 定位/ 设计/ 中/ 的/ 错误/ ,/ 而/ 求解/ 不可/ 满足/ 子/ 式/ 可以/ 显著/ 提高/ 自动化/ 工具/ 定位/ 错误/ 的/ 效率/ ./ 近年来/ ,/ 求解/ 不可/ 满足/ 子式/ 的/ 算法/ 多/ 是/ 基于/ DPLL/ (/ Davis/ -/ Putnam/ -/ Logemann/ -/ Loveland/ )/ 回溯/ 搜索/ 过程/ 的/ 完全/ 算法/ ,/ 很少/ 有/ 研究/ 涉及/ 到/ 不/ 完全/ 方法/ ./ 文中/ 针对/ 求解/ 不可/ 满足/ 子式/ 的/ 不/ 完全/ 方法/ ,/ 提出/ 了/ 悖论/ 证明/ 与/ 悖论/ 解析/ 树/ 的/ 概念/ ,/ 并/ 提出/ 一种/ 启发式/ 局部/ 搜索算法/ ,/ 从/ 布尔/ 公式/ 的/ 悖论/ 证明/ 中/ 求解/ 不可/ 满足/ 子式/ ./ 算法/ 首先/ 采用/ 融合/ 了/ 布尔/ 推理/ 技术/ 、/ 动态/ 剪枝/ 方法/ 及/ 蕴含/ 消除/ 方法/ 的/ 局部/ 搜索/ 过程/ ,/ 逐步/ 构建/ 悖论/ 证明/ 所/ 对应/ 的/ 悖论/ 解析/ 树/ ;/ 然后/ 调用/ 递归函数/ 搜索/ 悖论/ 解析/ 树/ ,/ 最终/ 得到/ 不可/ 满足/ 子式/ ./ 基于/ 实际/ 测试/ 集/ 与/ 随机/ 测试/ 集/ 进行/ 了/ 实验/ 对比/ ,/ 结果表明/ 文中/ 提出/ 的/ 算法/ 优于/ 同类/ 算法/ ,/ 而且/ 动态/ 剪枝/ 与/ 蕴含/ 消除/ 技术/ 能够/ 有效/ 地/ 减少/ 存储空间/ 及/ 运行/ 时间/ ./ 关键词/ 形式化/ 验证/ ;/ 可/ 满足/ 问题/ ;/ 不可/ 满足/ 子/ 式/ ;/ 悖论/ 证明/ ;/ 局部/ 搜索/ 1/ 引言/ 近年来/ ,/ 随着/ 软硬件/ 设计/ 规模/ 的/ 不断/ 增加/ ,/ 功能/ 越来越/ 复杂/ ,/ 导致/ 功能/ 验证/ 与/ 调试/ 的/ 周期/ 越来越/ 长/ ,/ 往往/ 占/ 到/ 整个/ 设计/ 周期/ 的/ 60/ %/ 以上/ ./ 而/ 诊断/ 与/ 定位/ 错误/ 又/ 是/ 其中/ 非常/ 耗时/ 耗力/ 的/ 阶段/ ,/ 这/ 类/ 应用/ 可以/ 规约/ 为/ 合取范式/ (/ ConjunctiveNormalForm/ ,/ CNF/ )/ 格式/ 的/ 布尔/ 公式/ ./ 如果/ 应用/ 出现/ 错误/ 与/ 不/ 一致/ ,/ 例如/ FPGA/ 布线/ 不通/ 或/ 代码/ 出现/ 错误/ ,/ 表明/ 布尔/ 公式/ 不可/ 满足/ ,/ 要求/ 快速/ 定位/ 公式/ 不可/ 满足/ 的/ 缘由/ ,/ 查找/ 导致/ 赋值/ 冲突/ 的/ 更/ 小/ 集合/ ,/ 即/ 求解/ 原始/ 公式/ 的/ 不可/ 满足/ 子式/ ./ 求解/ 不可/ 满足/ 子式/ 在/ 很多/ 领域/ 中/ 都/ 具有/ 非常/ 重要/ 的/ 应用/ 价值/ 与/ 理论意义/ ,/ 例如/ 软硬件/ 形式化/ 验证/ 与/ 电子/ CAD/ 等/ ,/ 因此/ 如何/ 高效/ 提取/ 不可/ 满足/ 子/ 式/ 逐渐/ 成为/ 近几年来/ 软硬件/ 形式化/ 验证/ 领域/ 的/ 研究/ 热点/ 与/ 重要/ 突破/ 方向/ ./ 不可/ 满足/ 子式/ 的/ 求解/ 算法/ 按照/ 问题/ 的/ 解决/ 策略/ 能够/ 划分/ 为/ 完全/ 方法/ 与/ 不/ 完全/ 方法/ ./ 一般来讲/ ,/ 完全/ 方法/ 最终/ 总/ 能够/ 求得/ 应用/ 问题/ 的/ 准确/ 解/ ,/ 但/ 不足之处/ 在于/ 算法/ 的/ 时间/ 复杂度/ 会/ 随待/ 解决问题/ 规模/ 的/ 增加/ 成/ 指数/ 级/ 增长/ ./ 而/ 不/ 完全/ 方法/ 的/ 优点/ 是/ 搜索/ 效率高/ 、/ 运算/ 速度/ 快/ ,/ 但/ 有时/ 无法/ 给出/ 问题/ 的/ 精确/ 解/ ./ 近十年/ 来/ 由于/ 基于/ DPLL/ 回溯/ 搜索/ 过程/ 的/ SAT/ 求解/ 技术/ 不断/ 提高/ ,/ 因此/ 布尔/ 不可/ 满足/ 子式/ 的/ 求解/ 算法/ 多数/ 基于/ 这种/ 完全/ 方法/ [/ 1/ -/ 8/ ]/ ./ 但是/ 近几年来/ 逐渐/ 出现/ 了/ 一些/ 研究/ 基于/ 不/ 完全/ 方法/ 来/ 提取/ 布尔/ 不可/ 满足/ 子式/ 的/ 情况/ ./ 研究/ 人员/ [/ 9/ ]/ 提出/ 了/ 一个/ 关于/ 公式/ 中/ 命题/ 变元/ 真值/ 指派/ 的/ 关键/ 短句/ 的/ 概念/ ,/ 并且/ 基于/ 关键/ 短句/ ,/ 利用/ 局部/ 搜索/ 过程/ 提取/ 布尔/ 不可/ 满足/ 子式/ ./ 但/ 算法/ 本质/ 上/ 仍/ 是/ 依赖于/ 完全/ 方法/ 的/ SAT/ 求解/ 技术/ ,/ 依据/ SAT/ 求解/ 过程/ 中/ 短句/ 被/ 赋值/ 为/ 假/ 的/ 频率/ ,/ 从而/ 判定/ 该/ 短句/ 能否/ 加入/ 不可/ 满足/ 子式/ ./ 在/ 文献/ [/ 10/ ]/ 中/ 提出/ 了/ 可/ 满足/ 问题/ 的/ 经典/ 挑战/ :/ (/ 在/ 未来/ 10/ 年内/ )/ 实现/ 一种/ 局部/ 搜索算法/ ,/ 能够/ 求解/ 公式/ 的/ 不可/ 满足/ 性/ ./ 然而/ 直到/ 10/ 年/ 后/ 才/ 有/ 学者/ [/ 11/ -/ 12/ ]/ 首次/ 提出/ 了/ 求解/ 公式/ 不可/ 满足/ 性/ 的/ 局部/ 搜索算法/ ./ 但是/ 这/ 两种/ 算法/ 仅能/ 证明/ 公式/ 是否/ 不可/ 满足/ ,/ 而/ 不能/ 求解/ 公式/ 的/ 不可/ 满足/ 子式/ ./ 那么/ 直到/ 目前为止/ ,/ 还/ 没有/ 出现/ 能够/ 高效/ 提取/ 布尔/ 不可/ 满足/ 子式/ 的/ 不/ 完全/ 方法/ ./ 针对/ 布尔/ 不可/ 满足/ 子式/ 的/ 快速/ 求解/ 问题/ ,/ 本文/ 给出/ 了/ 悖论/ 证明/ 与/ 悖论/ 解析/ 树/ 的/ 概念/ ,/ 并/ 提出/ 一种/ 从/ 公式/ 的/ 悖论/ 证明/ 中/ 高效/ 求解/ 不可/ 满足/ 子式/ 的/ 局部/ 搜索算法/ ./ 算法/ 首先/ 通过/ 局部/ 搜索/ 过程/ ,/ 逐步/ 建立/ 原始/ 公式/ 不可/ 满足/ 性/ 的/ 悖论/ 证明/ ./ 而/ 悖论/ 证明/ 中/ 包含/ 了/ 公式/ 不可/ 满足/ 的/ 必要/ 短句/ ,/ 从中/ 提取/ 所有/ 原始/ 公式/ 的/ 短句/ ,/ 就/ 得到/ 不可/ 满足/ 子式/ ./ 为了/ 避免/ 局部/ 搜索/ 的/ 过度/ 随机性/ ,/ 算法/ 包含/ 多种/ 启发式/ 的/ 布尔/ 推理/ 技术/ ./ 当/ 产生/ 的/ 新/ 短句/ 添加/ 到/ 公式/ 中/ 时/ ,/ 采用/ 一个/ 蕴含/ 消除/ 过程/ 来/ 剔除/ 公式/ 中/ 的/ 冗余/ 短句/ ,/ 同时/ 提出/ 一种/ 悖论/ 剪枝/ 方法/ 来/ 动态/ 地/ 削减/ 证明/ 序列/ ,/ 以/ 提高/ 求解/ 效率/ ,/ 减小/ 搜索/ 空间/ ./ 最后/ 根据/ 公式/ 的/ 悖论/ 证明/ 构造/ 悖论/ 解析/ 树/ ,/ 并/ 通过/ 一个/ 递归/ 过程/ 搜索/ 悖论/ 解析/ 树/ 的/ 叶/ 节点/ ,/ 最终/ 得到/ 不可/ 满足/ 子式/ ./ 局部/ 搜索算法/ 具有/ 运算/ 速度/ 快/ 、/ 搜索/ 效率高/ 的/ 优点/ ,/ 尤其/ 针对/ 某些/ 类型/ 的/ 问题/ ,/ 例如/ 2/ -/ SAT/ 、/ 3/ -/ SAT/ 问题/ ,/ 是/ 很/ 高效/ 的/ 方法/ ,/ 并且/ 很多/ 实际/ 应用/ 都/ 能/ 转化/ 为/ 2/ -/ SAT/ 或/ 3/ -/ SAT/ 求解/ 问题/ ,/ 例如/ FPGA/ 布线/ 与/ 经典/ 鸽笼/ 问题/ ./ 因此/ 基于/ FPGA/ 布线/ 测试/ 集/ 与/ 鸽笼/ 测试/ 集/ ,/ 将/ 本文/ 算法/ 与/ 求解/ 不可/ 满足/ 子式/ 的/ 贪心/ 遗传算法/ [/ 4/ ]/ 进行/ 了/ 对比/ ,/ 结果表明/ 该/ 方法/ 优于/ 贪心/ 遗传算法/ ./ 3/ -/ SAT/ 问题/ 是/ SAT/ 测试/ 集中/ 一类/ 典型/ 的/ 问题/ ,/ 并且/ 其他/ 类型/ 的/ SAT/ 问题/ 都/ 可以/ 转换/ 为/ 3/ -/ SAT/ 问题/ 求解/ ,/ 因此/ 基于/ 随机/ 2/ -/ SAT/ 与/ 3/ -/ SAT/ 测试/ 集/ ,/ 将/ 本文/ 算法/ 与/ 同类/ 的/ AMUSE/ 算法/ [/ 1/ ]/ 进行/ 了/ 对比/ ,/ 结果表明/ 该/ 算法/ 优于/ AMUSE/ 算法/ ./ 2/ 基于/ 悖论/ 证明/ 的/ 局部/ 搜索算法/ CNF/ 公式/ 的/ 构建/ 规则/ 是/ :/ 变元/ (/ x/ )/ 及其/ 否定/ 形式/ (/ / x/ )/ 称为/ 文字/ ,/ 短句/ 是/ 由/ n/ (/ n/ / 0/ )/ 个/ 文字/ 通过/ 析取/ 操作/ 组成/ ,/ 当/ n/ =/ 0/ 时/ 称为/ 空/ 短句/ (/ ⊥/ )/ ,/ 公式/ 是/ 由/ m/ (/ m/ / 1/ )/ 个/ 短句/ 的/ 合取/ 构成/ ./ 定义/ 1/ ./ 可/ 满足/ 问题/ ./ 给定/ 一个/ CNF/ 公式/ φ/ :/ φ/ =/ ∧/ ni/ =/ 1Ci/ ,/ 其中/ 短句/ Ci/ =/ ∨/ jxj/ ∨/ k/ / xk/ ,/ V/ =/ {/ x/ |/ x/ ∈/ φ/ }/ 表示/ 变元/ 集合/ ./ 给定/ 一个/ 赋值/ M/ ,/ M/ 表示/ 从/ φ/ 的/ 变元/ 集合/ V/ 到/ 真值/ {/ true/ ,/ false/ }/ 的/ 映射/ :/ V/ →/ {/ true/ ,/ false/ }/ |/ V/ |/ ./ 如果/ 存在/ 一个/ 赋值/ M/ ,/ 使得/ φ/ =/ true/ ,/ 即/ M/ / φ/ ,/ 那么/ 称/ 公式/ φ/ 是/ 可/ 满足/ 的/ ;/ 若/ 对于/ 任意/ 的/ 赋值/ M/ ,/ 都/ 有/ M/ / // φ/ ,/ 则/ 称/ 公式/ φ/ 是/ 不可/ 满足/ 的/ ./ 定义/ 2/ ./ 不可/ 满足/ 子式/ ./ 给定/ 一个/ CNF/ 公式/ φ/ ,/ ψ/ 是/ 公式/ φ/ 的/ 一个/ 不可/ 满足/ 子式/ 当且/ 仅/ 当/ ψ/ 是/ 不可/ 满足/ 的/ ,/ 并且/ ψ/ / φ/ ./ 合取范式/ 公式/ 的/ 消解/ 规则/ 为/ Page3/ 表示/ 为/ (/ (/ A/ ∨/ x/ )/ ∧/ (/ B/ ∨/ / x/ )/ )/ / (/ A/ ∨/ B/ )/ ,/ 其中/ 变元/ x/ 是/ 消解/ 元/ ,/ A/ 与/ B/ 由/ n/ (/ n/ / 0/ )/ 个/ 文字/ 通过/ 析取/ 操作/ 构成/ ,/ (/ A/ ∨/ x/ )/ 与/ (/ B/ ∨/ / x/ )/ 称为/ 消解/ 母式/ ,/ 而式/ (/ 1/ )/ 中/ 的/ (/ A/ ∨/ B/ )/ 叫做/ 消解/ 式/ ./ 短句/ (/ x/ )/ 与/ (/ / x/ )/ 的/ 消解/ 式/ 为/ 空/ 短句/ ./ 每次/ 在/ 两个/ 短句/ 上/ 应用/ 式/ (/ 1/ )/ 的/ 消解/ 规则/ 产生/ 消解/ 式/ 叫做/ 一个/ 消解/ 步骤/ ./ 若干个/ 消解/ 步骤/ ,/ 其中/ 每/ 一步/ 都/ 使用/ 前面/ 步骤/ 产生/ 的/ 消解/ 式/ 或/ 原始/ 公式/ 中/ 的/ 短句/ 作为/ 当前/ 的/ 消解/ 母式/ ,/ 就/ 称为/ 消解/ 序列/ ./ 引理/ 1/ ./ 公式/ φ/ 是/ 不可/ 满足/ 的/ 当且/ 仅/ 当/ 存在/ 一个/ 有穷/ 消解/ 序列/ ,/ 其中/ 某个/ 步骤/ 的/ 消解/ 式/ 为/ 空/ 短句/ ⊥/ ./ 定义/ 3/ ./ 悖论/ 证明/ ./ 给定/ 一个/ 不可/ 满足/ 的/ CNF/ 公式/ φ/ ,/ N/ =/ {/ C0/ ,/ C1/ ,/ …/ ,/ Cn/ }/ 为/ φ/ 的/ 一个/ 有穷/ 消解/ 序列/ ./ 若/ N/ 的/ 最终/ 消解/ 式/ 为/ 空/ 短句/ ,/ 即/ Cn/ =/ ⊥/ ,/ 构造/ 一个/ 由/ 消解/ 步骤/ 构成/ 的/ 集合/ R/ =/ {/ Pi/ |/ Pi/ 为/ (/ Cj/ ,/ Ck/ )/ / Cl/ ,/ 其中/ Cj/ ,/ Ck/ ,/ Cl/ ∈/ N/ }/ ,/ 则/ R/ 称为/ φ/ 的/ 一个/ 悖论/ 证明/ ./ 显然/ 地/ ,/ 悖论/ 证明/ 是/ 一类/ 特殊/ 的/ 消解/ 序列/ ,/ 由于/ 其/ 某个/ 步骤/ 的/ 消解/ 式/ 为/ 空/ 短句/ ,/ 因此/ 涵盖/ 了/ CNF/ 公式/ 不可/ 满足/ 的/ 缘由/ ./ 那么/ 易证/ 下面/ 的/ 结论/ ./ 结论/ 1/ ./ 给定/ 一个/ CNF/ 公式/ φ/ ,/ φ/ 是/ 不可/ 满足/ 的/ 当且/ 仅/ 当/ φ/ 至少/ 包含/ 一个/ 悖论/ 证明/ R/ ./ 若令/ 集合/ D/ =/ Cla/ (/ φ/ )/ ∩/ Cla/ (/ R/ )/ ,/ 其中/ Cla/ (/ φ/ )/ =/ {/ C/ |/ C/ 为/ φ/ 中/ 短句/ }/ ,/ Cla/ (/ R/ )/ =/ {/ C/ |/ C/ 为/ R/ 中/ 短句/ }/ ,/ 那么/ ψ/ =/ ∧/ C/ ∈/ DC/ / ⊥/ 成立/ ,/ 且/ ψ/ 是/ φ/ 的/ 不可/ 满足/ 子式/ ./ 满足/ 下面/ 的/ 条件/ :/ 定义/ 4/ ./ 悖论/ 解析/ 树/ ./ 若/ 一个/ 有/ 向/ 树/ T/ (/ V/ ,/ E/ ,/ r/ )/ (/ 1/ )/ 包含/ 唯一/ 的/ 根/ 结点/ ,/ 对应/ 的/ 短句/ Cr/ =/ ⊥/ ;/ (/ 2/ )/ / v/ ∈/ V/ \/ L/ ,/ 其中/ L/ 表示/ T/ 中叶/ 结点/ 的/ 集合/ ,/ 假设/ v/ 及其/ 父/ 结点/ p/ ∈/ V/ 与/ q/ ∈/ V/ 分别/ 对应/ 的/ 短句/ 为/ Cv/ 、/ Cp/ 与/ Cq/ ,/ 那么/ Cp/ ∧/ Cq/ / Cv/ ;/ 而边/ epv/ ∈/ E/ 与/ eqv/ ∈/ E/ 分别/ 表示/ 从父/ 结点/ p/ 与/ q/ 指向/ 子/ 结点/ v/ ./ 则/ 称/ T/ (/ V/ ,/ E/ ,/ r/ )/ 为/ 悖论/ 解析/ 树/ ./ 给出/ 不可/ 满足/ 公式/ φ/ 的/ 一个/ 悖论/ 证明/ R/ ,/ 那么/ 对应/ 于/ R/ 的/ 悖论/ 解析/ 树/ T/ (/ V/ ,/ E/ ,/ r/ )/ 的/ 构造/ 规则/ 为/ :/ 空/ 短句/ ⊥/ 对应/ 根/ 结点/ r/ ;/ 假设/ R/ 中/ 的/ 任意/ 一个/ 消解/ 步骤/ 为/ (/ C1/ ,/ C2/ )/ / C/ ,/ 那么/ C/ 、/ C1/ 与/ C2/ 分别/ 对应/ T/ 中/ 的/ 结点/ {/ v/ ,/ v1/ ,/ v2/ }/ / V/ ,/ 而边/ {/ e1/ ,/ e2/ }/ / E/ 分别/ 由/ 结点/ v1/ 与/ v2/ 指向/ v/ ./ 通过/ 该/ 规则/ ,/ 能够/ 将/ 一个/ 悖论/ 证明/ 从/ 最终/ 的/ 消解/ 式/ ⊥/ 开始/ ,/ 一直/ 回溯到/ 原始/ 公式/ 中/ 的/ 短句/ ,/ 逐步/ 构造/ 出/ 悖论/ 解析/ 树/ ./ 那么/ ,/ 根据/ 公式/ φ/ 的/ 悖论/ 解析/ 树/ T/ (/ V/ ,/ E/ ,/ r/ )/ ,/ 如何/ 求解/ φ/ 的/ 不可/ 满足/ 子/ 式/ ?/ 根据/ 结论/ 1/ 与/ 定义/ 4/ ,/ 易证/ 下面/ 的/ 结论/ ./ 结论/ 2/ ./ 给定/ 不可/ 满足/ 公式/ φ/ 的/ 一个/ 悖论/ 证明/ R/ ,/ T/ (/ V/ ,/ E/ ,/ r/ )/ 为/ R/ 对应/ 的/ 悖论/ 解析/ 树/ ,/ 那么/ T/ (/ V/ ,/ E/ ,/ r/ )/ 中/ 所有/ 叶/ 结点/ 对应/ 的/ 短句/ ,/ 构成/ φ/ 的/ 一个/ 不可/ 满足/ 子式/ ./ 由于/ 局部/ 搜索算法/ 具有/ 运算/ 速度/ 快/ 、/ 求解/ 效率高/ 的/ 优点/ ,/ 所以/ 根据上述/ 结论/ ,/ 将/ 局部/ 搜索算法/ 用于/ 高效/ 构建/ 证明/ 公式/ 不可/ 满足/ 性/ 的/ 悖论/ 解析/ 树/ ,/ 而后/ 通过/ 递归/ 过程/ 搜索/ 悖论/ 解析/ 树/ 的/ 所有/ 叶/ 节点/ ,/ 从而/ 求解/ 不可/ 满足/ 子/ 式/ ,/ 图/ 1/ 给出/ 了/ 算法/ 的/ 伪/ 代码/ ./ R2bLSAtoExtractUS/ (/ formula/ )/ 1/ ./ refuted/ =/ false2/ ./ iteration/ =/ 03/ ./ sequence/ =/ / 4/ ./ while/ (/ (/ iteration/ </ MAXITER/ )/ and/ !/ refuted/ )/ do5/ ./ if/ (/ Unit/ _/ Clause/ _/ Propagation/ (/ )/ 返回/ UNSAT/ )/ 6/ ./ refuted/ =/ true7/ ./ sequence/ =/ sequence/ ∪/ {/ 消解/ 的/ 短句/ }/ 8/ ./ elseif/ (/ 存在/ 二元/ 短句/ )/ then9/ ./ Binary/ _/ Clause/ _/ Resolution/ (/ )/ 10/ ./ Non/ _/ Tautology/ (/ )/ 11/ ./ Equality/ _/ Reduction/ (/ )/ 12/ ./ No/ _/ Same/ _/ Clause/ (/ )/ 13/ ./ sequence/ =/ sequence/ ∪/ {/ 消解/ 的/ 短句/ }/ 14/ ./ else15/ ./ 随机/ 地/ 选择/ 两个/ 短句/ 进行/ 消解/ 16/ ./ sequence/ =/ sequence/ ∪/ {/ 消解/ 的/ 短句/ }/ 17/ ./ Subsumption/ _/ Elimination/ (/ resolvent/ )/ 18/ ./ Trace/ _/ Updating/ (/ resolvent/ )/ 19/ ./ if/ (/ formula/ ./ size/ >/ MAXSIZE/ )/ then20/ ./ 从/ formula/ 中/ 随机/ 地/ 删除/ 短句/ C21/ ./ Trace/ _/ Pruning/ (/ C/ )/ 22/ ./ iteration/ ++/ 23/ ./ if/ (/ refuted/ =/ =/ true/ )/ then24/ ./ print/ “/ unsatisfiable/ ”/ 25/ ./ SmallUS/ =/ Compute/ _/ US/ (/ sequence/ )/ 26/ ./ else27/ ./ print/ “/ unresolved/ ”/ 28/ ./ returnSmallUS/ 该/ 算法/ 的/ 输入/ 是/ CNF/ 公式/ formula/ ,/ 输出/ 是/ 不可/ 满足/ 子式/ SmallUS/ ./ 算法/ 启发式/ 或/ 随机/ 地/ 选择/ 两个/ 短句/ 进行/ 消解/ ,/ 目标/ 是/ 消解/ 式/ 为/ 包含/ 更/ 少/ 文字/ 的/ 短句/ 或空/ 短句/ (/ ⊥/ )/ ,/ 直到/ 产生/ 一个/ 悖论/ 证明/ 或/ 循环/ 次数/ 到达/ 预设值/ ./ 在/ 消解/ 过程/ 中/ ,/ 算法/ 将/ 每/ 一次/ 应用/ 消解/ 规则/ 的/ 消解/ 步骤/ 都/ 保存/ 到/ sequence/ 中/ ,/ 如果/ 公式/ 是/ 不可/ 满足/ 的/ ,/ 最/ 终必会/ 得到/ 空/ 短句/ ./ 而后/ 根据/ 不可/ 满足/ 性/ 的/ 悖论/ 证明/ sequence/ ,/ 构造/ 一个/ 树结构/ ,/ 而后/ 根据/ 结论/ 1/ 和/ 结论/ 2/ ,/ 利用/ 高效/ 的/ 树/ 搜索算法/ ,/ 快速/ 得到/ 原始/ 公式/ formula/ 的/ 不可/ 满足/ 子式/ ./ 图/ 1/ 算法/ 的/ 第/ 5/ 行/ 采用/ 单元/ 短句/ 传播/ 函数/ 判别/ 公式/ 是否/ 不可/ 满足/ ,/ 由于/ 两个/ 单元/ 短句/ 根据/ 式/ (/ 1/ )/ 得到/ ⊥/ 是/ CNF/ 公式/ formula/ 不可/ 满足/ 的/ 充要条件/ ./ 若/ 上述/ 判别/ 失败/ ,/ 则/ 在/ 算法/ 第/ 8/ 行/ 探测/ 是否/ 存在/ 二元/ 短句/ ;/ 若/ 存在/ ,/ 则/ 应用/ 4/ 种/ 布尔/ 推理/ 技术/ 加速/ 消解/ 过程/ ./ 其中/ 函数/ Binary/ _/ Clause/ _/ Resolution/ 按照/ Page4/ 式/ (/ 1/ )/ 的/ 原理/ 消解/ 二元/ 短句/ ;/ Non/ _/ Tautology/ 用于/ 移除/ 包含/ 极性相反/ 文字/ 的/ 短句/ ;/ 等价/ 约简/ 函数/ 是/ 将/ 公式/ 中/ 等价/ 的/ 变元/ 进行/ 替换/ ;/ 而/ No/ _/ Same/ _/ Clause/ 删除/ 重复/ 的/ 短句/ ./ 如果/ 没有/ 单元/ 短句/ 与/ 二元/ 短句/ ,/ 那么/ 随机/ 选择/ 两个/ 短句/ 进行/ 消解/ ,/ 其/ 原则/ 是/ 被/ 选择/ 的/ 概率/ 与/ 包含/ 极性相反/ 文字/ 的/ 数目/ 成正比/ ./ 当/ 产生/ 的/ 消解/ 式/ 加入/ 到/ 公式/ 中/ 时/ ,/ 蕴含/ 消除/ 过程/ Subsumption/ _/ Elimination/ 用来/ 删除/ 公式/ 中/ 存在/ 蕴含/ 关系/ 的/ 冗余/ 短句/ ./ 但是/ 随着/ 公式/ 与/ 消解/ 序列/ 的/ 持续/ 增加/ ,/ 会/ 消耗/ 更/ 多/ 的/ 存储空间/ ,/ 并/ 降低/ 搜索/ 效率/ ,/ 因此/ 提出/ 一种/ 悖论/ 剪枝/ 方法/ ./ 它/ 包含/ 两个/ 函数/ :/ 首先/ Trace/ _/ Updating/ 函数/ 为/ 每个/ 加入/ 公式/ 的/ 消解/ 式/ resolvent/ 初始化/ 并/ 维护/ 2/ 个域/ 值/ ;/ 而后/ 随机/ 选择/ 短句/ C/ 移除/ 时/ ,/ Trace/ _/ Pruning/ 函数/ 删除/ 与/ 短句/ C/ 相关/ 、/ 但/ 与/ 证明/ 不可/ 满足/ 性/ 无关/ 的/ 消解/ 步骤/ ./ 在/ 算法/ 第/ 7/ 、/ 13/ 、/ 16/ 行/ ,/ 将/ 消解/ 出/ ⊥/ 的/ 消解/ 母式/ ,/ 并入/ 悖论/ 证明/ sequence/ 集合/ 中/ ,/ 而后/ 构造/ 一个/ 悖论/ 解析/ 树/ ,/ 并/ 通过/ 递归函数/ Compute/ _/ US/ 搜索/ 悖论/ 解析/ 树/ ,/ 最终/ 得到/ 不可/ 满足/ 子式/ SmallUS/ ./ 3/ 实验/ 结果/ 与/ 分析/ 实验/ 采用/ 两类/ 测试/ 集/ :/ 一类/ 是/ 来源于/ 实际/ 问题/ 的/ 测试/ 集/ ,/ 另一类/ 是/ 随机/ 生成/ 的/ 测试/ 集/ ./ 本文/ 的/ 算法/ 测试/ 集变/ 元数/ 短句/ 数/ 极小/ 不可/ 满足/ 表/ 13/ 种/ 算法/ 在/ 测试/ 集上/ 的/ 实验/ 结果/ fpga/ _/ routing11017401100/ ./ 12900.29/ fpga/ _/ routing21425110/ ./ 021200.29900/ ./ 359fpga/ _/ routing31833260/ ./ 13100.080/ ./ 6390.10/ ./ 79fpga/ _/ routing42241572/ ./ 16141.21/ ./ 1591.281/ ./ 29fpga/ _/ routing5264912051/ ./ 91527.63/ ./ 25925.22/ ./ 99fpga/ _/ routing63057timeouttimeout182/ ./ 510.69171/ ./ 08.759/ fpga/ _/ routing73465timeouttimeout358/ ./ 017.59321/ ./ 014.19/ fpga/ _/ routing83873timeouttimeout617/ ./ 023.49566/ ./ 118.59/ fpga/ _/ routing94281timeouttimeout1040/ ./ 128.09941/ ./ 021.69/ fpga/ _/ routing104689timeouttimeout1690/ ./ 036.591507/ ./ 027.19/ hole123103003003hole26910900/ ./ 1900.119/ hole31222102200/ ./ 382200.4622/ hole42045104500/ ./ 524500.5545/ hole5308110/ ./ 028100.64810/ ./ 10.6581/ hole64213310/ ./ 081330.10/ ./ 781330.10/ ./ 77133hole75620410/ ./ 92040.51/ ./ 122040.441/ ./ 0204hole872297151/ ./ 929722.810/ ./ 829720.68/ ./ 9297hole99041511304/ ./ 0415682.625/ ./ 3415605.821/ ./ 0415hole101105611timeout1850/ ./ 058.85611689/ ./ 046.5561/ 集中/ 的/ 6/ 个/ 公式/ ,/ GGA/ 算法/ 在/ 3600s/ 无法/ 求解/ 不可/ 下面/ 分析/ 3/ 种/ 算法/ 在/ 测试/ 集上/ 的/ 运行/ 结果/ ,/ 除/ 满足/ 子/ 式/ ,/ 记/ 为/ “/ timeout/ ”/ ./ 通过/ 进一步/ 对比/ 分析/ 基/ 公式/ hole6/ 外/ ,/ R2bLSA/ 算法/ 与/ R2bLSA/ +/ RP/ +/ SE/ 本/ 算法/ 与/ 完整/ 算法/ 的/ 结果/ 可以/ 发现/ ,/ 对于/ 较大/ 的/ 公/ 算法/ 都/ 优于/ GGA/ 算法/ ./ 另外/ 对于/ FPGA/ 布线/ 测试/ 基于/ C++/ 与/ STL/ 实现/ ./ 算法/ 输入/ 都/ 是/ DIMACSCNF/ 格式/ 的/ 公式/ ,/ 超时/ 设置/ 为/ 3600s/ ./ 算法/ 所/ 运行/ 的/ 机器配置/ 为/ Athlon/ / 2/ @/ 1.6/ GHzCPU/ ,/ 内存/ 为/ 1GB/ ,/ 操作系统/ 是/ RHELLinux/ ./ 3.1/ 实际/ 测试/ 集/ 基于/ 经典/ 的/ 鸽笼/ 测试/ 集/ 以及/ FPGA/ 布线/ 测试/ 集/ ,/ 将/ 本文/ 提出/ 的/ 算法/ 与/ 贪心/ 遗传算法/ GGA/ [/ 4/ ]/ 进行/ 了/ 对比/ ./ 为了/ 验证/ 蕴含/ 消除/ 与/ 悖论/ 剪枝/ 方法/ 的/ 效果/ ,/ 将/ 两个/ 过程/ 从/ 算法/ 中/ 移除/ ,/ 剩余/ 的/ 算法/ 称为/ 基本/ R2bLSA/ ,/ 而/ 整个/ 算法/ 表示/ 为/ R2bLSA/ +/ RP/ +/ SE/ ./ 表/ 1/ 给出/ 了/ 3/ 种/ 算法/ 的/ 实验/ 结果/ ./ 表中/ 首先/ 是/ 测试/ 集/ 的/ 名字/ 及其/ 变元数/ 与/ 短句/ 数/ ;/ 后面/ 1/ 列/ 给出/ 了/ 该/ 公式/ 所有/ 极小/ 不可/ 满足/ 子式/ 的/ 总数/ ,/ 由/ 文献/ [/ 3/ ]/ 中/ 的/ 算法/ 求得/ ,/ 但/ 有/ 5/ 个/ FPGA/ 测试/ 集/ 公式/ 在/ 3600s/ 内/ 无法/ 得到/ 极小/ 不可/ 满足/ 子/ 式/ 总数/ ,/ 记/ 为/ “/ timeout/ ”/ ;/ 而后/ 2/ 列/ 表示/ GGA/ 算法/ 求解/ 不可/ 满足/ 子式/ 的/ 时长/ 与/ 大小/ ;/ 第/ 7/ ~/ 9/ 列/ 分别/ 表示/ 基本/ R2bLSA/ 算法/ 的/ 运行/ 时间/ 、/ 运行/ 时/ 占用/ 的/ 存储空间/ 与/ 不可/ 满足/ 子/ 式/ 包含/ 的/ 短句/ 数/ ;/ 最后/ 3/ 列是/ R2bLSA/ +/ RP/ +/ SE/ 算法/ 的/ 运行/ 时间/ 、/ 占用/ 的/ 存储空间/ 及/ 不可/ 满足/ 子式/ 所/ 包含/ 的/ 短句/ 数/ ./ 所有/ 算法/ 的/ 运行/ 时间/ 都/ 是/ 以/ 秒/ (/ s/ )/ 为/ 单位/ ,/ 存储空间/ 以/ MB/ 为/ 单位/ ./ 表/ 1/ 中/ 加粗/ 的/ 数据表示/ 对应/ 算法/ 的/ 运行/ 时间/ 最短/ 或/ 存储空间/ 占用/ 最小/ ./ 基本/ R2bLSA/ 算法/ 时间/ 存储空间/ 大小/ Page5/ 式/ ,/ 完整/ 算法/ 比/ 基本/ 算法/ 快/ 10/ %/ 左右/ ,/ 存储空间/ 占用/ 少/ 20/ %/ 左右/ ;/ 并且/ 随着/ 公式/ 所/ 包含/ 的/ 变元数/ 与/ 短句/ 数/ 逐渐/ 增加/ ,/ 完整/ 算法/ 变得/ 更加/ 高效/ ;/ 但是/ 当/ 公式/ 较/ 小时/ ,/ 基本/ 算法/ 更加/ 有效/ ,/ 这是/ 由于/ 蕴含/ 消除/ 与/ 悖论/ 剪枝/ 方法/ 在/ 运行/ 时所/ 取得/ 的/ 收益/ 小于/ 其/ 消耗/ 所致/ ./ 3.2/ 随机/ 测试/ 集/ 3/ -/ SAT/ 问题/ 是/ SAT/ 测试/ 集中/ 一类/ 典型/ 的/ 问题/ ,/ 并且/ 其他/ 类型/ 的/ SAT/ 问题/ 都/ 可以/ 转换/ 为/ 3/ -/ SAT/ 问题/ 求解/ ,/ 因此/ 为了/ 验证/ 本文/ 算法/ 的/ 有效性/ ,/ 基于/ 随机/ 3/ -/ SAT/ 和/ 2/ -/ SAT/ 测试/ 集/ ,/ 将/ 完整/ 的/ R2bLSA/ 算法/ 与/ AMUSE/ 算法/ [/ 1/ ]/ 进行/ 了/ 实验/ 对比/ ./ AMUSE/ 算法/ 是/ 一种/ 完全/ 方法/ ,/ 能够/ 高效/ 地/ 求解/ 不可/ 满足/ 子式/ ./ 采用/ 经典/ 的/ k/ -/ SAT/ 公式/ 生成/ 方法/ 产生/ 测试/ 集/ ,/ 其/ 输入/ 参数/ 包括/ 变元数/ N/ 、/ 短句/ 数/ C/ 以及/ 短句/ 所/ 包含/ 的/ 文字/ 数/ k/ ./ 构造/ k/ -/ SAT/ 公式/ 的/ 过程/ 为/ :/ 从/ N/ 个/ 变元/ 中/ 随机/ 地/ 选取/ m/ 个/ 变元/ ,/ 其中/ 分别/ 以/ 概率/ p/ ,/ m/ =/ k/ ;/ 以/ 概率/ 1/ -/ p/ ,/ 1/ / m/ / k/ ;/ 而后/ 以/ 概率/ q/ 构成/ 正/ 文字/ 或负/ 文字/ ,/ 从而/ 组成/ m/ 元/ 短句/ ./ 图/ 2/ 给出/ 了/ R2bLSA/ 算法/ 与/ AMUSE/ 算法/ 在/ 随机/ 2/ -/ SAT/ 测试/ 集上/ 的/ 实验/ 结果/ ./ 图/ 3/ 是/ R2bLSA/ 算法/ 与/ AMUSE/ 算法/ 基于/ 随机/ 3/ -/ SAT/ 测试/ 集上/ 的/ 实验/ 结果/ ./ 实验/ 时/ 的/ 参数设置/ 为/ N/ =/ 200/ ,/ 概率/ p/ =/ q/ =/ 0.5/ ,/ 公式/ 所/ 包含/ 的/ 短句/ 数从/ 100/ ~/ 2000/ ,/ 每组/ 测试/ 集/ 递增/ 100/ 个/ 短句/ ./ 从图/ 2/ 和/ 图/ 3/ 的/ 实验/ 结果/ 可以/ 看出/ ,/ 本文/ 的/ R2bLSA/ 算法/ 优于/ AMUSE/ 算法/ ,/ 尤其/ 是/ 随机/ 2/ -/ SAT/ 测试/ 集/ ;/ 并且/ 随着/ 公式/ 长度/ 的/ 增加/ ,/ R2bLSA/ 算法/ 的/ 性能/ 优势/ 更加/ 明显/ ./ 其/ 主要/ 原因/ 包括/ 以下/ 3/ 点/ :/ (/ 1/ )/ 在/ 进行/ 公式/ 的/ 可/ 满足/ 性/ 判定/ 时/ ,/ 就/ 以/ 优化/ 的/ 数据结构/ 保存/ 了/ 求解/ 不可/ 满足/ 子式/ 所/ 需要/ 的/ 信息/ ,/ 因此/ 提取/ 不可/ 满足/ 子式/ 的/ 过程/ 非常/ 高效/ ;/ (/ 2/ )/ R2bLSA/ 算法/ 的/ 可/ 满足/ 性/ 检测/ 过程/ 实现/ 简单/ ,/ 单位/ 时间/ 内/ 执行/ 的/ 循环/ 次数/ 更/ 多/ ;/ (/ 3/ )/ R2bLSA/ 算法/ 中/ 包括/ 很多/ 针对/ 长度/ 较/ 小/ 的/ 短句/ ,/ 尤其/ 是/ 二元/ 短句/ 的/ 优化/ 技术/ ,/ 而/ 随机/ 2/ -/ SAT/ 与/ 3/ -/ SAT/ 测试/ 集中/ 包含/ 很多/ 单元/ 短句/ 与/ 二元/ 短句/ ./ 4/ 结束语/ 针对/ 如何/ 高效/ 求解/ 布尔/ 不可/ 满足/ 子式/ 的/ 问题/ ,/ 提出/ 了/ 悖论/ 证明/ 与/ 悖论/ 解析/ 树/ 的/ 概念/ ,/ 并且/ 提出/ 一种/ 融合/ 布尔/ 推理/ 、/ 蕴含/ 消除/ 以及/ 悖论/ 剪枝/ 等/ 多种/ 启发式/ 技术/ 的/ 局部/ 搜索算法/ ./ 基于/ 实际/ 测试/ 集/ 进行/ 了/ 实验/ ,/ 结果表明/ 局部/ 搜索算法/ 优于/ 贪心/ 遗传算法/ ;/ 基于/ 随机/ 测试/ 集/ 进行/ 了/ 实验/ ,/ 结果表明/ 局部/ 搜索算法/ 优于/ AMUSE/ 算法/ ;/ 并且/ 通过/ 实验/ 说明/ ,/ 动态/ 剪枝/ 与/ 蕴含/ 消除/ 技术/ 能够/ 有效/ 地/ 减少/ 存储空间/ 及/ 运行/ 时间/ ./ 

