Page1/ 基于/ 精英/ 池/ 演化/ 算法/ 的/ 数字电路/ 在/ 片/ 演化/ 方法/ 何国/ 良/ 1/ )/ ,/ 2/ )/ 李元香/ 1/ )/ ,/ 2/ )/ 史忠植/ 3/ )/ 1/ )/ (/ 武汉大学/ 软件工程/ 国家/ 重点/ 实验室/ 武汉/ 430072/ )/ 2/ )/ (/ 武汉大学/ 计算机/ 学院/ 武汉/ 430072/ )/ 3/ )/ (/ 中国科学院计算技术研究所/ 智能/ 信息处理/ 重点/ 实验室/ 北京/ 100190/ )/ 摘要/ 20/ 世纪末/ 演化/ 硬件/ 技术/ 的/ 提出/ 为/ 实现/ 硬件/ 系统/ 的/ 自/ 适应/ 与/ 智能化/ 等/ 特征/ 提供/ 了/ 一种/ 可行/ 的/ 新/ 技术/ ,/ 现阶段/ 电路/ 进化/ 是/ 演化/ 硬件/ 研究/ 的/ 热点/ 之一/ ./ 该文/ 引入/ 人工/ 经验/ 与/ 规则/ ,/ 提出/ 一种/ 扩展/ 矩阵/ 编码法/ ,/ 保护/ 具有/ 较优/ 结构/ 的/ 电路/ 个体/ 不易/ 被/ 淘汰/ ;/ 其次/ ,/ 基于/ 多/ 目标/ 和/ 局部/ 寻优/ 技术/ ,/ 结合/ 子/ 电路/ 杂交/ 与/ 单元/ 重要性/ 的/ 自/ 适应/ 变异/ 策略/ ,/ 提出/ 了/ 一种/ 设计/ 数字电路/ 的/ 精英/ 池/ 演化/ 算法/ ,/ 并/ 在/ 可编程/ 逻辑/ 器件/ 上/ 实现/ 电路/ 的/ 自主/ 动态/ 重构/ 与/ 评价/ 等/ 演化过程/ ./ 关键词/ 演化/ 硬件/ ;/ 演化/ 算法/ ;/ 电路/ 演化/ ;/ 在/ 片/ 演化/ 1/ 引言/ 演化/ 硬件/ 技术/ (/ EvolvableHardware/ ,/ EHW/ )/ 自从/ 20/ 世纪/ 90/ 年代/ 初/ 被/ Gairs/ 等/ 提出/ 以来/ ,/ 引起/ 各国/ 政府部门/ 和/ 学者/ 们/ 的/ 广泛/ 关注/ 与/ 深入研究/ ,/ 极大/ 地/ 促进/ 了/ 该/ 技术/ 的/ 发展/ 和/ 应用/ ./ 演化/ 硬件/ 的/ 实现/ 过程/ 与/ 演化/ 算法/ 类似/ ,/ 根据/ 个体/ 适应/ 值/ 的/ 评估/ 方式/ ,/ 演化/ 硬件/ 可/ 分为/ 离线/ 演化/ 与/ 在线/ 演化/ 两种/ 设计/ 技术/ ./ 离线/ 演化/ 一般/ 是/ 通过/ 软件/ 仿真/ 评估/ 每代/ 演化/ 的/ 所有/ 个体/ ,/ 只/ 下载/ 最优/ 个体/ 到/ 可编程/ 器件/ 上/ 验证/ ;/ 而/ 在线/ 演化/ 则/ 将/ 硬件/ 测试/ 嵌入/ 到/ 演化/ 硬件/ 设计/ 过程/ 中/ ,/ 所有/ 个体/ 都/ 下载/ 到/ 硬件/ 设备/ 进行/ 在线/ 实测/ 和/ 评价/ ./ 作为/ 一个/ 新/ 的/ 研究/ 领域/ ,/ 演化/ 硬件/ 是/ 计算机科学/ 、/ 电子学/ 、/ 生物学/ 的/ 交叉学科/ ,/ 为/ 硬件/ 系统/ 设计/ 的/ 自动化/ 与/ 智能化/ 提供/ 了/ 新/ 的/ 技术手段/ 和/ 设计/ 方法/ ./ 演化/ 硬件/ 技术/ 在/ 数字电路/ 和/ 模拟/ 电路/ 的/ 设计/ 应用/ 方面/ 有助于/ 实现/ 复杂/ 电路/ 的/ 自动/ 设计/ 与/ 优化/ 、/ 提高/ 设计/ 效率/ 、/ 降低/ 能耗/ 、/ 发现/ 新/ 的/ 规则/ 与/ 知识/ ./ 人们/ 针对/ 离线/ 演化/ 硬件/ 技术/ ,/ 为/ 提高/ 演化/ 硬件/ 的/ 编码/ 效率/ ,/ 提出/ 了/ 各种/ 电路/ 编码/ 技术/ ,/ 如/ 矩阵/ 编码法/ [/ 1/ ]/ 、/ CGP/ (/ CartesianGeneticProgramming/ )/ [/ 2/ ]/ 编码法/ 等/ ;/ 为了/ 优化/ 硬件/ 并/ 降低/ 演化/ 的/ 时间/ 复杂度/ ,/ 提出/ 了/ 各种/ 有效/ 的/ 智能算法/ ,/ 如/ 并行/ 遗传/ 程序法/ [/ 3/ ]/ 、/ 多/ 目标/ 自/ 适应/ 遗传算法/ [/ 4/ ]/ 、/ 单元/ 杂交/ 法/ [/ 5/ ]/ 、/ 评估/ 技术/ [/ 6/ ]/ 等/ ./ 此外/ ,/ 分而治之/ 与/ 生长/ 式/ 方法/ 也/ 是/ 演化/ 复杂/ 演化/ 硬件/ 的/ 有效/ 技术/ ,/ 如/ 基于/ 商农/ 分解/ 定理/ 的/ 自动/ 分解/ 方法/ GDD/ (/ GeneralizedDisjunctionDecomposi/ -/ tion/ )/ [/ 7/ ]/ 可以/ 提高/ 演化/ 电路/ 的/ 规模/ ,/ MDCGP/ (/ Modu/ -/ larDevelopmentalCaresianGeneticProgram/ -/ ming/ )/ [/ 8/ ]/ 技术/ 可/ 缩短/ 演化/ 时间/ ,/ 提高/ 容错/ 率/ ./ 与此同时/ ,/ 在线/ 演化/ 硬件/ 和/ 内部/ 演化/ 技术/ 的/ 研究/ 也/ 取得/ 了/ 许多/ 新进展/ ,/ 如/ 直接/ 演化/ 电路/ 的/ 配置/ 串/ [/ 9/ ]/ 、/ 通过/ API/ 函数/ 对/ 配置/ 串/ 读写/ 并/ 修改/ 相关/ 基因/ 段/ [/ 10/ ]/ 、/ 基于/ 可编程/ 逻辑/ 器件/ (/ Field/ -/ ProgrammableGateArray/ ,/ FP/ -/ GA/ )/ 的/ 物理/ 结构/ 和/ 待/ 演化/ 系统/ 的/ 特点/ 设计/ 特定/ 的/ 演化/ 结构/ 实现/ 演化/ 电路/ 的/ 动态/ 重构/ [/ 11/ ]/ 等/ ./ 本文/ 引入/ 人工/ 设计/ 电路/ 的/ 经验/ 和/ 规则/ ,/ 提出/ 扩展/ 矩阵/ 编码法/ ,/ 设计/ 出/ 一种/ 精英/ 池/ 演化/ 算法/ (/ ElitistPoolEvolutionaryAlgorithm/ ,/ EPEA/ )/ ,/ 结合/ 子/ 电路/ 杂交/ 法/ 与/ 基于/ 单元/ 共享/ 度/ 的/ 自/ 适应/ 变异/ 策略/ 演化/ 数字电路/ ,/ 并/ 采用/ 一种/ 在/ 片/ 演化/ 技术/ 实现/ 电路/ 的/ 演化过程/ ./ 实验/ 结果表明/ :/ 该/ 方法/ 在/ 一定/ 程度/ 上/ 可/ 提高/ 演化/ 电路/ 的/ 规模/ 及其/ 设计/ 效率/ ./ 2/ 演化/ 电路/ 的/ 编码/ 2.1/ 矩阵/ 编码法/ 采用/ 演化/ 硬件/ 技术/ 自动/ 设计/ 数字电路/ ,/ 首先/ 需/ 将/ 电路/ 表示/ 成/ 便于/ 算法/ 设计/ 的/ 一种/ 编码方式/ ,/ 目前/ 一般/ 采用/ 矩阵/ 编码法/ [/ 1/ ]/ 表示/ 一个/ 组合/ 逻辑电路/ ,/ 如图/ 1/ 所示/ ./ 其中/ 每个/ 单元/ 表示/ 一个/ 逻辑/ 函数/ ,/ 单元/ 间/ 的/ 互连/ 形成/ 逻辑/ 函数/ 间/ 的/ 关联/ ,/ 构成/ 一个/ 数字电路/ ./ 为了/ 完全/ 表示/ 一个/ 组合/ 逻辑电路/ ,/ 需/ 定义/ 矩阵/ 中/ 单元/ 的/ 函数/ 类型/ 以及/ 单元/ 间/ 的/ 连接/ 关系/ ./ 其中/ ,/ 单元/ 的/ 函数/ 类型/ 可以/ 定义/ 为/ 基本/ 的/ 逻辑/ 门/ 类型/ 或/ 自定义/ 的/ 函数/ 类型/ ,/ 表/ 1/ 列举/ 了/ 部分/ 基本/ 逻辑/ 函数/ 类型/ ./ 其次/ 是/ 单元/ 间/ 互连/ 关系/ ,/ 某些/ 单元/ 的/ 输出/ 信号/ 和/ 电路/ 输入/ 端/ 信号/ 可/ 作为/ 其它/ 单元/ 的/ 输入/ 信号/ ./ 对于/ 组合/ 逻辑电路/ 的/ 编码/ ,/ 为/ 避免/ 单元/ 间/ 的/ 连接/ 形成/ 回路/ ,/ 先/ 定义/ 单元/ 间连接/ 关系/ 的/ 一个/ 基本概念/ :/ 单元/ 的/ 连接/ 度/ ./ 012/ 注/ :/ / 表示/ 此/ 函数/ 类型/ 不/ 执行/ 任何/ 逻辑/ 操作/ (/ 即/ 直连线/ )/ ,/ 直接/ 将/ 该/ 单元/ 的/ 输入/ 端/ 与/ 输出/ 端/ 相连/ ./ 定义/ 1/ ./ 在/ 矩阵/ 编码/ 犎/ mn/ (/ m/ 为/ 矩阵/ 的/ 行数/ ,/ n/ 为/ 矩阵/ 的/ 列数/ )/ 中/ ,/ 若/ 某个/ 单元/ cij/ (/ 表示/ 此/ 单元/ 的/ 位置/ 在/ 矩阵/ 中/ 的/ 第/ i/ 行/ 、/ 第/ j/ 列/ )/ 的/ 输入/ 端/ 信号/ 可/ 与其/ 前/ k/ 列/ 单元/ 的/ 输出/ 端/ 信号/ 相连/ ,/ 即/ 在/ 第/ j/ -/ k/ 列至/ j/ -/ 1/ 列/ 位置/ 上/ 所有/ 单元/ 的/ 输出/ 端/ 信号/ 都/ 可/ 为此/ 单元/ 的/ 输入/ 端/ 信号/ ,/ 则/ 称此/ 单元/ cij/ 的/ 连接/ 度/ D/ 为/ k/ ./ Page3/ 每个/ 单元/ 的/ 编码/ 信息/ 包括/ 此/ 单元/ 的/ 全部/ 输入/ 端/ 信号/ 信息/ 和/ 函数/ 类型/ ,/ 如下/ 所示/ :/ 输入/ 端/ 信号/ 1/ 输入/ 端/ 信号/ 2/ …/ 函数/ 类型/ 以/ 单元/ 编码/ 为/ 基础/ ,/ 矩阵/ 中/ 全部/ 单元/ 的/ 编码/ 信息/ 即可/ 表示/ 一个/ 电路/ 的/ 完整/ 结构/ ./ 该/ 矩阵/ 编码法/ 也/ 可/ 用于/ 对/ 时序/ 逻辑电路/ 编码/ ,/ 此时/ 单元/ 间连接/ 允许/ 形成/ 回路/ ,/ 单元/ 的/ 函数/ 类型/ 包含/ 触发器/ 等/ ./ 2.2/ 扩展/ 矩阵/ 编码法/ 虽然/ 该/ 矩阵/ 编码法/ 能/ 较/ 好/ 地/ 表示/ 一个/ 数字电路/ ,/ 便于/ 演化/ 算法/ 的/ 自动/ 设计/ ,/ 但/ 容易/ 淘汰/ 一些/ 具有/ 较优/ 结构/ 的/ 电路/ 个体/ ./ 例如/ ,/ 设计/ 一个/ 三/ 输入/ 二/ 输出/ 的/ 组合/ 逻辑电路/ ,/ 其/ 真值表/ 如表/ 2/ 所示/ (/ a/ ,/ b/ ,/ c/ 为/ 输入/ 信号/ ,/ y1/ ,/ y2/ 为/ 输出/ 信号/ )/ ./ 图/ 2/ 扩展/ 矩阵/ 编码法/ 为此/ ,/ 本文/ 引入/ 人工/ 设计/ 电路/ 的/ 经验/ 和/ 规则/ ,/ 以/ 矩阵/ 编码法/ 为/ 基础/ 提出/ 一种/ 扩展/ 矩阵/ 编码法/ ,/ 在/ 原/ 矩阵/ 编码法/ 的/ 每个/ 输出/ 端/ 添加/ 一个/ 宏/ 模块/ ,/ 它/ 由/ 一个/ 非门/ 和/ 一个/ 二路/ 选择器/ 组成/ ,/ 如图/ 2/ 所示/ ./ 当/ 评价/ 演化/ 电路/ 的/ 某个/ 输出/ 端/ 功能/ 与/ 真值表/ 的/ 匹配/ 度/ 低于/ 0.5/ 时/ ,/ 选择器/ 控制/ 端/ 选择/ 信号/ “/ 1/ ”/ ,/ 表示/ 在/ 此/ 输出/ 信号/ 端/ 添加/ 一个/ 非/ 门/ ;/ 否则/ ,/ 反之/ ./ 此/ 编码法/ 能/ 保护/ 具有/ 较优/ 结构/ 的/ 电路/ 个体/ 不易/ 被/ 淘汰/ ,/ 同时/ 增强/ 了/ 种群/ 的/ 多样性/ ./ 此外/ ,/ 本文/ 规定/ 所有/ 单元/ 的/ 连接/ 度为/ 1/ ,/ 即/ 每个/ 单元/ 的/ 输入/ 端/ 信号/ 为/ 电路/ 的/ 原始/ 输入/ 信号/ 或/ 其前/ 一列/ 单元/ 的/ 输出/ 端/ 信号/ ,/ 最后/ 一列/ 单元/ 的/ 输出/ 对应/ 电路/ 的/ 输出/ 端/ 信号/ ./ 3/ 精英/ 池/ 演化/ 算法/ 为了/ 阐述/ 其/ 演化/ 策略/ ,/ 定义/ 几个/ 基本概念/ ./ abc000001000001001000010011000011011101100001000101011000110011101111101101/ 若/ 一个/ 演化/ 电路/ 的/ 功能/ 如表/ 2/ 中/ 的/ Out1/ (/ x1/ ,/ x2/ )/ 所示/ ,/ 通过/ 与/ 真值表/ Out/ 相/ 比较/ ,/ 可知/ 第/ 1/ 个/ 输出/ 端/ 信号/ 的/ 功能/ 匹配/ 度/ 是/ 1/ // 8/ ,/ 第/ 2/ 个/ 输出/ 端/ 信号/ 的/ 匹配/ 度/ 是/ 5/ // 8/ ./ 若/ 在/ 该/ 演化/ 电路/ 的/ 第/ 1/ 个/ 输出/ 端/ 添加/ 一个/ 非/ 门/ ,/ 则/ 该/ 输出/ 端/ 信号/ 的/ 功能/ 如表/ 2/ 的/ Out2/ (/ z1/ ,/ z2/ )/ 所示/ ,/ 匹配/ 度/ 上升/ 为/ 7/ // 8/ ./ 由此可知/ ,/ 必要/ 时/ 在/ 演化/ 电路/ 的/ 某些/ 输出/ 端/ 添加/ 非门/ 可/ 迅速/ 提高/ 电路/ 性能/ ./ 定义/ 2/ ./ 对于/ 一个/ 具有/ n/ 个/ 输出/ 端/ 信号/ 的/ 组合/ 逻辑电路/ C/ ,/ 基于/ 输出/ 端/ 信号/ 可/ 将/ 电路/ C/ 分解/ 为/ n/ 个单/ 输出/ 子/ 电路/ ,/ 每个/ 子/ 电路/ 分别/ 对应/ 电路/ C/ 相应/ 输出/ 端/ 信号/ 的/ 功能/ ,/ 本文/ 称/ 按/ 此/ 划分/ 的/ 每个/ 子/ 电路/ 为/ 输出/ 端/ 信号/ 子/ 电路/ ./ 定义/ 4/ ./ 在/ 定义/ 3/ 中/ ,/ 若/ 扩展/ 矩阵/ 编码/ 中/ 的/ 某/ 值得注意/ 的/ 是/ :/ 在/ 定义/ 2/ 中/ ,/ 电路/ C/ 中/ 的/ 某些/ 逻辑/ 单元/ 可能/ 是/ 多个/ 输出/ 端子/ 电路/ 的/ 逻辑/ 单元/ ,/ 即/ 为/ 多个/ 输出/ 端子/ 电路/ 所/ 共享/ ,/ 我们/ 称其为/ 共享/ 单元/ ,/ 见/ 定义/ 3/ ./ 定义/ 3/ ./ 若/ 采用/ 扩展/ 矩阵/ 编码表示/ 定义/ 2/ 中/ 的/ 电路/ C/ ,/ 电路/ 的/ 每个/ 输出/ 端/ 信号/ 子/ 电路/ 都/ 是/ 由/ 矩阵/ 编码/ 中/ 的/ 某些/ 单元/ 及其/ 连接/ 构成/ ./ 若/ 矩阵/ 编码/ 中/ 某个/ 单元/ cij/ (/ 表示/ 此/ 单元/ 的/ 位置/ 在/ 矩阵/ 中/ 的/ 第/ i/ 行/ 、/ 第/ j/ 列/ )/ 是/ 电路/ C/ 多个/ 输出/ 端/ 信号/ 子/ 电路/ 的/ 一个/ 逻辑/ 单元/ ,/ 则/ 称此/ 单元/ cij/ 为/ 共享/ 单元/ ;/ 否则/ ,/ 则/ 称此/ 单元/ cij/ 为/ 非/ 共享/ 单元/ ./ Page4/ 个/ 单元/ cij/ 是/ 共享/ 单元/ ,/ 且/ 此/ 单元/ 是/ 电路/ C/ 的/ m/ (/ m/ / n/ )/ 个/ 输出/ 端/ 信号/ 子/ 电路/ 的/ 共享/ 单元/ ,/ 则/ 此/ 单元/ cij/ 的/ 共享/ 度为/ Scij/ =/ m/ // n/ ./ 3.1/ 子/ 电路/ 杂交/ 法/ 基于/ 多/ 目标/ 技术/ ,/ 若/ 将/ 数字电路/ 的/ 每个/ 输出/ 端/ 信号/ 单独/ 作为/ 一个/ 目标/ ,/ 一个多/ 输出/ 数字电路/ 的/ 设计/ 即/ 为/ 一个/ 带/ 约束/ 的/ 多个/ 目标/ 优化/ 问题/ ./ 由于/ 一个多/ 输出/ 组合/ 逻辑电路/ 可分解/ 为/ 多个/ 输出/ 端/ 信号/ 子/ 电路/ ,/ 因此/ ,/ 一个多/ 输出/ 组合/ 逻辑电路/ 可/ 由/ 所有/ 单/ 输出/ 端/ 信号/ 子/ 电路/ 构成/ ./ 本文/ 基于/ 多/ 目标/ 与/ 局部优化/ 技术/ ,/ 提出/ 子/ 电路/ 杂交/ 策略/ ./ 新/ 个体/ 电路/ 的/ 每个/ 输出/ 端子/ 电路/ 产生/ 规则/ 为/ :/ 根据/ 两/ 父体/ 电路/ 中/ 同一/ 输出/ 端/ 信号/ 的/ 功能/ 评/ 价值/ ,/ 选取/ 较优/ 的/ 子/ 电路/ 作为/ 新/ 个体/ 电路/ 对应/ 输出/ 端/ 信号/ 子/ 电路/ ,/ 然后/ 将/ 新/ 产生/ 的/ 所有/ 输出/ 端/ 信号/ 子/ 电路/ 组合/ 形成/ 新/ 个体/ 电路/ ./ 本文/ 在/ 自动/ 设计/ 电路/ 时/ 考虑/ 面积/ 和/ 功耗/ 等/ 因素/ ,/ 需/ 充分利用/ 各子/ 电路/ 间/ 的/ 可/ 共享/ 单元/ ,/ 优化/ 设计/ 电路/ 所/ 需/ 的/ 逻辑/ 门数/ ./ 因此/ ,/ 在/ 产生/ 新/ 个体/ 电路/ 时/ ,/ 各子/ 电路/ 对应/ 的/ 基因/ 段/ 映射/ 到/ 染色体/ 时/ 可能/ 存在/ 某些/ 基因/ 段/ 的/ 不/ 一致/ 而/ 相互/ 冲突/ ,/ 各子/ 电路/ 融合/ 阶段/ 冲突/ 的/ 处理/ 策略/ 形成/ 多/ 输出/ 电路/ 的/ 共享/ 单元/ ./ 本文/ 处理/ 冲突/ 的/ 方法/ 是/ 基于/ 电路/ 每个/ 输出/ 信号/ 端的/ 位置/ ,/ 按照/ 某种/ 次序/ 进行/ 替换/ ./ 首先/ ,/ 将/ 两个/ 父体/ 电路/ 根据/ 输出/ 端/ 信号/ 分解成/ 各个/ 子/ 电路/ (/ 各子/ 电路/ 间/ 存在/ 共享/ 单元/ )/ ;/ 其次/ ,/ 选择/ 两父/ 体中/ 每组/ 输出/ 端/ 信号/ 具有/ 较/ 高/ 匹配/ 度/ 的/ 子/ 电路/ 作为/ 新/ 个体/ 对应/ 输出/ 端/ 信号/ 子/ 电路/ ;/ 最后/ ,/ 按照/ 输出/ 端/ 信号/ 的/ 位置/ 次序/ 将/ 新/ 个体/ 的/ 第/ 1/ 个/ 输出/ 端/ 信号/ 子/ 电路/ 与/ 第/ 2/ 个/ 输出/ 端/ 信号/ 子/ 电路/ 融合/ ,/ 若/ 融合/ 时/ 某些/ 单元/ 冲突/ ,/ 则/ 用/ 第/ 2/ 个/ 输出/ 端/ 信号/ 子/ 电路/ 的/ 单元/ 覆盖/ 第/ 1/ 个/ 输出/ 端/ 信号/ 子/ 电路/ 的/ 单元/ ,/ 得到/ 的/ 含/ 两个/ 输出/ 端/ 信号/ 子/ 电路/ 与/ 第/ 3/ 个/ 输出/ 端/ 信号/ 子/ 电路/ 融合/ ,/ 依/ 此/ 方式/ 产生/ 包含/ 所有/ 输出/ 端/ 信号/ 的/ 新/ 个体/ 电路/ ./ 例如/ ,/ 若/ 演化/ 1/ 个/ 四/ 输入/ 三/ 输出/ 的/ 组合/ 逻辑电路/ ,/ 两/ 父体/ 电路/ 中/ 每个/ 输出/ 端/ 信号/ 的/ 适应/ 值/ 分别/ 为/ 14/ // 16/ ,/ 9/ // 16/ ,/ 15/ // 16/ 和/ 9/ // 16/ ,/ 12/ // 16/ ,/ 11/ // 16/ ,/ 如图/ 3/ (/ a/ )/ ,/ (/ b/ )/ 所示/ ./ 其中/ ,/ 矩阵/ 编码/ 中/ 的/ 每个/ 单元/ 分别/ 注明/ 了/ 它/ 属于/ 的/ 特定/ 输出/ 端/ 信号/ 子/ 电路/ :/ 1/ 、/ 2/ 、/ 3/ 分别/ 表示/ 此/ 单元/ 属于/ 第/ 1/ 个/ 、/ 第/ 2/ 个/ 或/ 第/ 3/ 个/ 输出/ 端/ 信号/ 子/ 电路/ ;/ -/ 1/ 表示/ 此/ 单元/ 不/ 属于/ 任何/ 输出/ 端/ 信号/ 子/ 电路/ ,/ 是/ 一个/ 冗余/ 单元/ ;/ 若/ 一个/ 单元/ 中/ 注明/ 了/ 多个/ 编号/ ,/ 如/ 1/ 和/ 2/ ,/ 表示/ 此/ 单元/ 是/ 第/ 1/ 个/ 与/ 第/ 2/ 个/ 输出/ 端/ 信号/ 子/ 电路/ 的/ 共享/ 单元/ ./ 该/ 两/ 父体/ 的/ 子/ 电路/ 杂交/ 过程/ 如下/ ./ 第/ 1/ 步/ :/ 分解/ 电路/ ./ 将/ 每个/ 父体/ 电路/ 分解/ 为/ 输出/ 端/ 信号/ 子/ 电路/ ,/ 如图/ 3/ (/ a/ )/ 、/ (/ b/ )/ 所示/ ./ 第/ 2/ 步/ :/ 选择/ 子/ 电路/ ./ 选取/ 新/ 个体/ 电路/ 的/ 每个/ 输出/ 端/ 信号/ 对应/ 的/ 父体子/ 电路/ ,/ 第/ 1/ 个/ 输出/ 端子/ 电路/ 选取/ 父体/ I/ 中/ 具有/ 较优/ 匹配/ 度/ 的/ 对应/ (/ 第/ 1/ 个/ 输出/ 端/ 信号/ )/ 子/ 电路/ ,/ 如图/ 3/ (/ c/ )/ 所示/ ;/ 同理/ ,/ 新/ 个体/ 的/ 第/ 2/ 个/ 输出/ 端/ 信号/ 子/ 电路/ 选取/ 父体/ II/ 对应/ 的/ 子/ 电路/ ,/ 如图/ 3/ (/ d/ )/ 所示/ ;/ 同样/ 可/ 得到/ 新/ 个体/ 第/ 3/ 个/ 输出/ 端/ 信号/ 子/ 电路/ ./ 第/ 3/ 步/ :/ 融合/ ./ 将/ 第/ 2/ 步/ 选取/ 的/ 第/ 1/ 个/ 输出/ 端/ 信号/ 子/ 电路/ 与/ 第/ 2/ 个/ 输出/ 端/ 信号/ 子/ 电路/ 融合/ 产生/ 一个/ 包含/ 两个/ 输出/ 端/ 信号/ 的/ 子/ 电路/ ,/ 若/ 融合/ 时/ 第/ 2/ 个/ 输出/ 端/ 信号/ 子/ 电路/ 的/ 某些/ 单元/ 与/ 第/ 1/ 个/ 输出/ 端/ 信号/ 子/ 电路/ 冲突/ ,/ 则/ 将/ 第/ 2/ 个/ 输出/ 端/ 信号/ 子/ 电路/ 的/ 单元/ 覆盖/ 第/ 1/ 个/ 输出/ 端/ 信号/ 子/ 电路/ 的/ 相关/ 单元/ ,/ 如图/ 3/ (/ e/ )/ 所示/ ;/ 将/ 融合/ 的/ 子/ 电路/ 再/ 与/ 第/ 3/ 个/ 输出/ 端/ 信号/ 子/ 电路/ 进一步/ 融合/ ,/ 产生/ 一个/ 包含/ 所有/ 输出/ 端/ 信号/ 的/ 新/ 个体/ 电路/ ,/ 如图/ 3/ (/ f/ )/ 所示/ ./ 3.2/ 自/ 适应/ 变异/ 策略/ 根据/ 染色体/ 中/ 各个/ 基因/ 的/ 重要性/ ,/ 设计/ 了/ 一种/ 自/ 适应/ 的/ 变异/ 策略/ ,/ 重要/ 位/ 基因/ 以较/ 低/ 的/ 概率/ 变异/ ,/ 非/ 重要/ 位/ 基因/ 以较/ 高/ 的/ 概率/ 变异/ 保持/ 种群/ 的/ 多样性/ ./ 在/ 扩展/ 矩阵/ 编码法/ 中/ ,/ 矩阵/ 中/ 的/ 每个/ 单元/ 对应/ 染色体/ 一段/ 基因/ ,/ 其/ 变异/ 概率/ 随其/ 单元/ 的/ 重要性/ 和/ 演/ Page5/ 化/ 电路/ 的/ 性能/ 而/ 动态变化/ ./ 其中/ ,/ 单元/ 的/ 重要性/ 表现/ 为/ 其/ 共享/ 度/ ,/ 单元/ 的/ 共享/ 度越/ 高/ ,/ 则/ 越/ 重要/ ./ 根据/ 扩展/ 矩阵/ 编码/ 中/ 每个/ 单元/ 的/ 重要性/ ,/ 自/ 适应/ 变异/ 策略/ 如下/ :/ (/ 1/ )/ 矩阵/ 编码/ 中/ 某个/ 单元/ 是非/ 共享/ 单元/ :/ 若此/ 单元/ 所在/ 的/ 输出/ 端/ 信号/ 子/ 电路/ 功能/ 不能/ 与/ 真值表/ 完全/ 匹配/ ,/ 则/ 增加/ 此/ 单元/ 的/ 变异/ 概率/ ;/ 否则/ ,/ 降低/ 其/ 变异/ 概率/ ./ (/ 2/ )/ 矩阵/ 编码/ 中/ 某个/ 单元/ cij/ 是/ 共享/ 单元/ :/ 若此/ 单元/ 的/ 共享/ 度/ Scij/ 小于/ 0.5/ ,/ 则/ 增加/ 此/ 单元/ 的/ 变异/ 概率/ ,/ 否则/ 减小/ 其/ 变异/ 概率/ ./ 3.3/ 精英/ 池/ 演化/ 算法/ 的/ 基本/ 框架/ 基于/ 上述/ 演化/ 策略/ ,/ 设计/ 了/ 一种/ 精英/ 池/ 演化/ 算法/ (/ EPEA/ )/ ./ 其/ 主要/ 思想/ 是/ 在/ 演化过程/ 中/ 每/ 一代/ 的/ 重要性/ 个体/ 变异/ 生成/ 一个/ 精英/ 池/ ,/ 主/ 种群/ 与/ 精英/ 池/ 杂交/ 以/ 提高/ 演化/ 效率/ ./ 该/ 算法/ 的/ 主要/ 步骤/ 为/ :/ 1/ ./ 随机/ 生成/ 一个/ 种群/ A/ ,/ 规模/ 为/ N/ ,/ 并/ 评价/ ./ 2/ ./ 采用/ 局部/ 搜索/ 策略/ ,/ 将/ 种群/ A/ 的/ 最优/ 个体/ 通过/ 变异/ 产生/ M/ 个/ 个体/ ,/ 形成/ 精英/ 池/ B/ ,/ 其中/ N/ / M/ ./ 3/ ./ 演化/ 操作/ :/ 从/ 种群/ A/ 和/ 精英/ 池/ B/ 中/ 分别/ 随机/ 选取/ 一个/ 个体/ 杂交/ 得到/ 一个/ 新/ 个体/ ,/ 并/ 对/ 新/ 个体/ 运用/ 变异/ 策略/ ,/ 反复/ 此步/ 直到/ 生成/ 规模/ 为/ N/ 的/ 下一代/ 种群/ A/ ./ 4/ ./ 对/ 新/ 种群/ A/ 评价/ ,/ 并/ 保留/ 最优/ 个体/ 电路/ ./ 5/ ./ 若/ 不/ 满足/ 终止/ 条件/ ,/ 转步/ 2/ ;/ 否则/ ,/ 结束/ 算法/ ./ 3.4/ 评价/ 函数/ 演化过程/ 中/ ,/ 评价/ 标准/ 能否/ 准确/ 反映/ 电路/ 的/ 优劣/ 程度/ 至关重要/ ,/ 它/ 直接/ 影响/ 到/ 演化/ 操作/ ,/ 并/ 导致/ 能否/ 得到/ 最优/ 解/ ./ 对于/ 数字电路/ ,/ 通过/ 测试/ 集对/ 其/ 进行/ 功能/ 仿真/ 验证/ 是/ 评价/ 的/ 基础/ ,/ 如/ 组合/ 逻辑电路/ 功能/ 的/ 评价/ 一般/ 是/ 通过/ 测试/ 所有/ 可能/ 的/ 输入/ 组合/ ,/ 通过/ 仿真/ 测试/ 其/ 电路/ 的/ 输出/ 值/ ,/ 并/ 与/ 真值表/ 比较/ 得到/ 演化/ 电路/ 的/ 功能/ 与/ 真值表/ 的/ 匹配/ 度/ ,/ 作为/ 演化/ 电路/ 个体/ 性能/ 的/ 评/ 价值/ ./ 另外/ ,/ 在/ 设计/ 有效/ 电路/ 的/ 同时/ 要求/ 其/ 结构/ 最优化/ ./ 本文/ 考虑/ 组成/ 电路/ 的/ 逻辑/ 门数/ 作为/ 电路/ 优化/ 的/ 一个/ 基本特征/ ,/ 即/ 其/ 所/ 需/ 的/ 基本/ 逻辑/ 门数/ 越少/ ,/ 结构/ 越优/ ./ 采用/ 扩展/ 矩阵/ 编码表示/ 数字电路/ 时/ ,/ 矩阵/ 中/ 的/ 一些/ 单元/ 为/ 电路/ 的/ 冗余/ 单元/ ,/ 它/ 可/ 分为/ 两类/ :/ 一类/ 是/ 指其/ 函数/ 类型/ 为/ 直连线/ ,/ 即表/ 1/ 中/ 的/ 函数/ 类型/ 0/ ;/ 另一类/ 指该/ 单元/ 不是/ 电路/ 的/ 有效/ 逻辑/ 单元/ ./ 因此/ ,/ 本文/ 中/ 个体/ 电路/ x/ 的/ 评价/ 函数/ 定义/ 如下/ ./ 定义/ 5/ ./ 电路/ x/ 的/ 适应/ 值/ 函数/ F/ (/ x/ )/ 为/ 电路/ 功能/ 评价/ 与/ 电路/ 有效/ 逻辑/ 门数/ 之/ 和/ ,/ 即/ F/ (/ x/ )/ =/ H/ (/ x/ )/ +/ w/ / V/ (/ x/ )/ ./ H/ (/ x/ )/ 为/ 个体/ 电路/ x/ 全部/ 输出/ 端/ 信号/ 与/ 真值表/ 的/ 匹配/ 程度/ ;/ V/ (/ x/ )/ 为/ 扩展/ 矩阵/ 编码表示/ 电路/ 个体/ x/ 的/ 冗余/ 单元/ 数/ ;/ w/ 是/ 动态/ 权/ 系数/ ,/ 若/ 个体/ 为/ 有效/ 电路/ (/ 满足/ 真值表/ 中/ 指定/ 的/ 逻辑/ 功能/ )/ ,/ 其值/ 取/ 1/ ;/ 否则/ ,/ 取/ 很小/ 的/ 正数/ ./ 4/ 在/ 片/ 演化/ 的/ 原理/ 框架/ 基于/ FPGA/ 的/ 物理/ 结构/ 及/ 在/ 片/ 演化/ 硬件/ 技术/ 的/ 特点/ ,/ 本文/ 采用/ 在/ 片/ 演化/ 硬件/ 设计/ 原理/ 如图/ 4/ 所示/ ,/ XUP/ -/ V2P/ 板/ 具有/ 大容量/ 的/ 静态/ 和/ 动态/ 存储空间/ ,/ 且/ 芯片/ Virtex/ -/ IIPro/ 嵌/ 有/ IBMPowerPC405/ 处理器/ ,/ 便于/ 在/ 片/ 演化/ 硬件/ 的/ 设计/ ./ PC机/ 与/ FPGA/ 的/ 交互/ 在于/ 系统/ 初始化/ 和/ 演化/ 结果/ 的/ 输出/ ,/ 进化/ 过程/ 中/ FPGA/ 板/ 自动/ 下载/ 演化/ 电路/ 的/ 染色体/ 、/ 实测/ 验证/ ./ 在/ 片/ 演化/ 的/ 硬件/ 结构/ 可/ 分为/ 两个/ 模块/ :/ 第/ 1/ 个/ 是/ 固定/ 模块/ ,/ 它/ 包括/ PowerPC/ 微处理器/ 、/ RISC/ 结构/ 、/ 单独/ 的/ 32/ 位/ 指令和数据/ 总线/ ,/ 用于/ 执行/ 算法/ 和/ FPGA/ 与/ 外部/ 存储器/ 的/ 数据交换/ ./ 此外/ ,/ 它/ 还/ 包括/ 一些/ 外围/ 接口/ ,/ 如/ 通过/ GPIO/ (/ GeneralPurposeInput/ // Output/ )/ 与/ 可重/ 配置/ 模块/ 通讯/ ,/ 或/ 参与/ 内存/ 管理/ 的/ 一些/ 接口/ 等/ ./ 第/ 2/ 个/ 模块/ 为/ 可重/ 配置/ 模块/ ,/ 它/ 通过/ 总线/ 与/ GPIO/ 相/ 联系/ ,/ 允许/ 算法/ 控制电路/ 的/ 演化/ ./ 同时/ ,/ 它/ 包括/ 激励/ 信号/ 产生器/ 对/ 电路/ 功能/ 在/ 片/ 测试/ 和/ 验证/ ./ 为了/ 便于/ 进行/ 在/ 片/ 演化/ ,/ 本文/ 采用/ 宏/ 结构/ 的/ 虚拟/ 电路/ 表示/ 扩展/ 矩阵/ 编码法/ 中/ 的/ 每个/ 单元/ ,/ 如图/ 5/ 所示/ ./ 其中/ ,/ 多路/ 选择器/ 1/ 和/ 多路/ 选择器/ 2/ 用于/ 选取/ 两/ 输入/ 逻辑/ 门/ 的/ 两个/ 输入/ 端/ 信号/ ,/ 它们/ 分别/ 通过/ 寄存器/ 1/ 和/ 2/ 控制/ ./ 多路/ 选择器/ 3/ 用于/ 选取/ 该/ 单元/ 的/ 逻辑/ 函数/ 类型/ ,/ 其/ 控制/ 端/ 通过/ 寄存器/ 3/ 输出/ ./ 两个/ 输入/ 端/ 信号/ 和/ 一个/ 逻辑/ 函数/ 构成/ 了/ 每个/ 单元/ 的/ 逻辑/ 功能/ ./ 其中/ ,/ 每个/ 多路/ 选择器/ 的/ 控制/ 端/ 信号/ 都/ 由/ 寄存器/ 实现/ ./ 因此/ ,/ 只/ 需/ 改变/ 寄存器/ 内容/ 就/ 可/ 实现/ 电路/ 的/ 演化/ ./ Page6/ 图/ 5/ 宏/ 结构/ 电路/ 单元/ 5/ 实验/ 与/ 分析/ 为了/ 测试/ EPEA/ 性能/ ,/ 本文/ 先/ 选取/ 一个/ 单/ 输出/ 和/ 一个多/ 输出/ 的/ 组合/ 逻辑电路/ ,/ 其/ 真值表/ 如表/ 3/ 所示/ ./ 例/ 1/ 由/ 4/ 个/ 输入/ (/ A/ ,/ B/ ,/ C/ ,/ D/ )/ 和/ 一个/ 输出/ Y/ 组成/ ./ 例/ 2/ 由/ 4/ 个/ 输入/ (/ A/ ,/ B/ ,/ C/ ,/ D/ )/ 和/ 2/ 个/ 输出/ (/ Z1/ ,/ Z2/ )/ 组成/ ./ 通过/ 与/ 其它/ 智能算法/ 的/ 设计/ 结果/ 比较/ 其/ 最优/ 电路/ 的/ 逻辑/ 门数/ 、/ 设计/ 最优/ 电路/ 的/ 频率/ 、/ 设计/ 有效/ 电路/ 的/ 频率/ 和/ 最优/ 电路/ 所/ 需/ 逻辑/ 门数/ ,/ 验证/ 该/ 算法/ 的/ 效率/ ./ 为了/ 便于/ 比较/ 与/ 分析/ ,/ 本文/ 采用/ 与/ 文献/ [/ 12/ -/ 13/ ]/ 相同/ 的/ 参数/ :/ 运行/ 算法/ 20/ 次/ ,/ 种群/ 规模/ 为/ 50/ ,/ 可选/ 的/ 基本/ 逻辑/ 门/ 类型/ 如表/ 1/ 所示/ ./ 输入/ ABCD0000110100001000011101001000001001010101000011000101100101001101100000010111011010000110100111000101111001111101PSO/ [/ 12/ ]/ 60.701/ ./ 006.55/ DEPSO/ [/ 13/ ]/ 61.001/ ./ 006.00/ EPEA51/ ./ 001.005/ ./ 00GA/ [/ 12/ ]/ 70.250/ ./ 75/ —/ PSO/ [/ 12/ ]/ 70.400/ ./ 9510.5/ DEPSO/ [/ 13/ ]/ 70.201/ ./ 008.6/ EPEA71/ ./ 001.007/ ./ 0/ 对于/ 例/ 1/ 的/ 电路/ ,/ 由于/ 它/ 是/ 单/ 输出/ 电路/ ,/ 演化过程/ 中/ 没用到/ 杂交/ 操作/ ,/ 每代仅/ 对/ 极少数/ 个体/ 电路/ 变异/ 及/ 评价/ ./ 由表/ 4/ 可知/ ,/ EPEA/ 能以/ 概率/ 1/ 设计/ 含/ 5/ 个/ 基本/ 逻辑/ 门/ 的/ 最优/ 电路/ (/ 如图/ 6/ 所示/ )/ ,/ 其它/ 算法/ 设计/ 的/ 最优/ 电路/ 都/ 需要/ 6/ 个/ 逻辑/ 门/ ./ 而/ 对于/ 多/ 输出/ 电路/ (/ 例/ 2/ )/ ,/ 该/ 算法/ 采用/ 杂交/ 和/ 变异/ 策略/ ,/ 设计/ 性能/ 汇总/ 如表/ 5/ 所示/ ./ 从/ 该表/ 可知/ ,/ EPEA/ 以/ 概率/ 1/ 设计/ 出含/ 7/ 个/ 基本/ 逻辑/ 门/ 的/ 最优/ 电路/ ,/ 电路/ 结构/ 如图/ 7/ 所示/ ./ 其次/ ,/ 为了/ 深入分析/ 扩展/ 矩阵/ 编码/ 和/ EPEA/ 的/ 有效性/ ,/ 本文/ 选取/ 了/ 二位/ 乘法器/ 、/ 二位/ 比较/ 器/ 和/ 二位/ 加法器/ ,/ 从/ 多角度/ 与/ 相关/ 文献/ 进行/ 了/ 比较/ 与/ 分析/ ,/ 表/ 6/ 汇总/ 了/ 几种/ 算法/ 设计/ 此组/ 实验所/ 需/ 的/ 编码/ 规模/ 及/ 所/ 需/ 的/ 最少/ 逻辑/ 门数/ ./ 由表/ 6/ 可知/ ,/ 采用/ 扩展/ 矩阵/ 编码法/ 所/ 需/ 的/ 染色体/ 长度/ 较/ 短/ ,/ 且/ EPEA/ 设计/ 的/ 电路/ 结构/ 较优/ ,/ 能/ 有效/ 地/ 减少/ 对/ 资源/ 的/ 消耗/ ./ KM/ [/ 14/ ]/ —/ 8/ —/ 19/ —/ 12NGA/ [/ 15/ ]/ 5/ ×/ 596/ ×/ 7125/ ×/ 57MGA/ [/ 16/ ]/ 5/ ×/ 576/ ×/ 795/ ×/ 57EPEA4/ ×/ 475/ ×/ 594/ ×/ 47/ 此外/ ,/ 由于/ 三位/ 乘法器/ 真值表/ 复杂/ ,/ 难于/ 自动/ 设/ Page7/ 计其/ 电路/ ,/ 许多/ 学者/ 都/ 用/ 它/ 来/ 验证/ 算法/ 的/ 有效性/ ./ 本文/ 设计/ 的/ 含/ 27/ 个/ 逻辑/ 门/ 的/ 三位/ 乘法器/ 电路/ 如图/ 8/ 所示/ ./ 6/ 结论/ 演化/ 硬件/ 作为/ 一个/ 新兴/ 研究/ 领域/ ,/ 在/ 实际/ 生活/ 中/ 有着/ 广泛应用/ ,/ 由此/ 引起/ 许多/ 学者/ 从/ 离线/ 演化/ 和/ 在线/ 演化/ 角度/ 对/ 其/ 进行/ 了/ 深入研究/ ./ 本文/ 首先/ 引入/ 人工/ 设计/ 电路/ 的/ 经验/ 和/ 规则/ ,/ 提出/ 了/ 一种/ 扩展/ 矩阵/ 编码法/ ,/ 对于/ 匹配/ 度/ 较/ 低/ 的/ 电路/ 结构/ 进行/ 微调/ ,/ 保护/ 具有/ 较优/ 结构/ 的/ 电路/ 个体/ 不易/ 被/ 淘汰/ ./ 在/ 此基础/ 上/ ,/ 基于/ 多/ 目标/ 和/ 局部/ 寻优/ 技术/ ,/ 提出/ 一种/ 精英/ 池/ 演化/ 算法/ EPEA/ —/ —/ —/ 结合/ 子/ 电路/ 杂交/ 法/ 和/ 基于/ 单元/ 重要性/ 的/ 自/ 适应/ 变异/ 策略/ 在/ 片/ 演化/ 数字电路/ ./ 实验/ 结果表明/ ,/ EPEA/ 在/ 片/ 演化/ 组合/ 逻辑电路/ 实用/ 有效/ ,/ 且/ 能/ 获得/ 结构/ 较优/ 的/ 电路/ ,/ 这些/ 电路/ 可/ 作为/ 基本/ 模块/ 用于/ 设计/ 更/ 复杂/ 的/ 硬件/ 系统/ ./ 今后/ 我们/ 拟/ 深入研究/ 部分/ 动态/ 可/ 重构/ 技术/ 及/ 在/ 此基础/ 上/ 基于/ 细胞/ 自动机/ 的/ 自/ 复制/ 和/ 自/ 繁殖/ 原理/ 研究/ 数字/ 硬件/ 系统/ 的/ 自/ 容错/ 、/ 自主/ 进化/ 等/ 技术/ ./ 

