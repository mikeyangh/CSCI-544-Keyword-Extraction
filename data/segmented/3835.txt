Page1/ 基于/ 信号/ 驱动/ 的/ 多/ 批处理/ 综合/ 调度/ 算法/ 谢/ 志强/ 1/ )/ ,/ 2/ )/ 辛宇/ 2/ )/ 杨静/ 2/ )/ 1/ )/ (/ 哈尔滨理工大学/ 计算机科学/ 与/ 技术/ 学院/ 哈尔滨/ 150080/ )/ 2/ )/ (/ 哈尔滨工程大学/ 计算机科学/ 与/ 技术/ 学院/ 哈尔滨/ 150001/ )/ 摘要/ 针对/ 以往/ 综合/ 调度/ 中/ 批处理/ 调度/ 算法/ 只能/ 处理/ 2/ 个/ 工序/ 的/ 批量/ 调度/ ,/ 进行/ 批量/ 调度/ 的/ 工序/ 不能/ 具有/ 2/ 个/ 以上/ 的/ 紧前/ 工序/ ,/ 使/ 综合/ 调度/ 具有/ 局限性/ 问题/ ,/ 提出/ 基于/ 信号/ 驱动/ 的/ 多/ 批处理/ 综合/ 调度/ 算法/ ./ 该/ 算法/ 先/ 建立/ 设备/ 和/ 调度/ 2/ 个/ 子系统/ ,/ 并/ 通过/ 相互间/ 传递/ 的/ 信号/ 驱动/ ;/ 为了/ 预/ 判断/ 可/ 批处理/ 工序/ ,/ 将/ 工序/ 分为/ 可/ 调度/ 工序/ 和/ 准/ 可/ 调度/ 工序/ ,/ 采用/ 组合/ 策略/ 将/ 可/ 批量/ 处理/ 的/ 工序/ 形成/ 组合/ 工序/ 一同/ 加工/ ;/ 当可/ 调度/ 工序/ 超过/ 设备/ 批处理/ 量/ 时/ ,/ 按/ 最大/ 并行性/ 选择/ 策略/ 选择/ 调度/ ;/ 当准/ 可/ 调度/ 工序/ 成为/ 批处理/ 工序/ 时/ ,/ 无需/ 考虑/ 前续/ 工序/ 对/ 工序/ 批处理/ 的/ 影响/ ,/ 即/ 对/ 批处理/ 工序/ 的/ 紧前/ 工序/ 数无/ 限制/ ;/ 循环/ 以上/ 可/ 批处理/ 工序/ 判断/ ,/ 实现/ 多/ 批量/ 处理/ ./ 关键词/ 多/ 批处理/ ;/ 组合/ 工序/ ;/ 组合/ 策略/ ;/ 综合/ 调度/ 算法/ ;/ 信号/ 驱动/ 1/ 引言/ 随着/ 社会/ 对/ 产品/ 个性化/ 需求/ 的/ 不断/ 增加/ ,/ 多/ 品种/ 小批量/ 产品/ 、/ 特别/ 是/ 单件/ 产品/ 的/ 订单/ 越来越/ 多/ ,/ 企业/ 越来越/ 需要/ 有/ 好/ 的/ 算法/ 实现/ 加工/ 和/ 装配/ 一同/ 调度/ 的/ 综合/ 调度/ 计划/ [/ 1/ ]/ ./ 为了/ 实现/ 树状/ 结构/ 产品/ 内在/ 加工/ 和/ 装配/ 充分/ 并行/ ,/ 缩短/ 产品/ 加工/ 总/ 时间/ ,/ 文献/ [/ 1/ ]/ 提出/ 了/ 基于/ 拟/ 关键/ 路径/ 的/ 调度/ 算法/ ,/ 该/ 算法/ 虽然/ 为/ 解决/ 多/ 产品/ 加工/ 和/ 装配/ 综合/ 调度/ 提供/ 了/ 较/ 好/ 的/ 解决方案/ ,/ 但/ 该/ 算法/ 注重/ 产品/ 树状/ 结构/ 的/ 纵向/ ,/ 特别/ 是/ 关键/ 路径/ 上/ 工序/ 对/ 调度/ 结果/ 的/ 影响/ ,/ 忽略/ 横向/ —/ —/ —/ 其它/ 路径/ 上/ 不同/ 设备/ 工序/ 可/ 并行处理/ ;/ 针对/ 这一/ 问题/ ,/ 文献/ [/ 2/ ]/ 提出/ 了/ 采用/ 层/ 优先/ 、/ 短用/ 时/ 和/ 长/ 路经/ 策略/ 的/ 调度/ 算法/ ,/ 由于/ 文献/ [/ 2/ ]/ 算法/ 在/ 注重/ 其它/ 路径/ 上/ 不同/ 设备/ 工序/ 的/ 并行处理/ 时/ ,/ 兼顾/ 长/ 路经/ 工序/ 的/ 调度/ ,/ 所以/ 文献/ [/ 2/ ]/ 算法/ 优于/ 文献/ [/ 1/ ]/ 算法/ ./ 文献/ [/ 2/ ]/ 虽然/ 较优/ ,/ 但/ 其/ 重横轻/ 纵/ 的/ 策略/ 不/ 符合/ 树状/ 结构/ 产品/ 调度/ 以/ 纵向/ 为主/ 的/ 机理/ ,/ 于是/ 文献/ [/ 3/ ]/ 提出/ 兼顾/ 文献/ [/ 1/ -/ 2/ ]/ 优点/ 的/ 基于/ 动态/ 关键/ 路径/ 的/ 调度/ 算法/ ,/ 实现/ 了/ 更优/ 的/ 以/ 纵/ 为主/ 兼顾/ 横向/ 的/ 调度/ 方案/ ./ 动态/ 关键/ 路径/ 法/ 采取/ 先/ 确定/ 工序/ 调度/ 次序/ ,/ 再/ 将/ 工序/ 插入/ 设备/ 合适/ 的/ 空隙/ 中/ ,/ 不仅/ 使/ 设备/ 产生/ 较/ 多/ 空隙/ ,/ 而且/ 为/ 寻找/ 合适/ 的/ 空隙/ 需要/ 较/ 多/ 的/ 比较/ 操作/ ./ 由于/ 事件驱动/ 无需/ 先/ 确定/ 调度/ 工序/ 次序/ [/ 4/ ]/ ,/ 文献/ [/ 5/ ]/ 提出/ 了/ 基于/ 设备/ 空闲/ 驱动/ 的/ 综合/ 调度/ 算法/ ,/ 由于/ 该/ 算法/ 不/ 涉及/ 工序/ 寻找/ 设备/ 空闲/ 的/ 操作/ ,/ 不仅/ 使/ 设备/ 的/ 利用率/ 显著/ 提高/ ,/ 而且/ 容易/ 确定/ 工序/ 在/ 设备/ 上/ 的/ 开始/ 时间/ ./ 目前/ 批处理/ 在/ 单机/ 调度/ [/ 6/ -/ 7/ ]/ 、/ 网络/ 组播/ 调度/ [/ 8/ ]/ 、/ 实时/ 动态/ 任务分配/ [/ 9/ ]/ 方面/ 已有/ 一些/ 研究成果/ ,/ 但/ 存在/ 批处理/ 设备/ 的/ 综合/ 调度/ 问题/ 的/ 研究/ 才/ 刚刚开始/ ./ 虽然/ 基于/ 文献/ [/ 2/ ]/ 的/ 批量/ 综合/ 调度/ 算法/ 考虑/ 了/ 存在/ 批处理/ 设备/ 的/ 一般/ 和/ 动态/ 综合/ 调度/ 问题/ [/ 10/ -/ 11/ ]/ ,/ 但/ 该/ 算法/ 还/ 存在/ 两个/ 方面/ 问题/ :/ (/ 1/ )/ 可以/ 批量/ 调度/ 的/ 工序/ 其紧/ 前/ 工序/ 数/ 不/ 大于/ 2/ ;/ (/ 2/ )/ 批量/ 调度/ 的/ 工序/ 数量/ 不/ 大于/ 2/ ./ 而/ 以上/ 两点/ 弊端/ 将/ 严重/ 限制/ 该/ 批量/ 调度/ 算法/ 在/ 实际/ 生产/ 调度/ 中/ 的/ 应用/ ./ 为了/ 避免/ 上述/ 的/ 两类/ 问题/ ,/ 本文/ 提出/ 通过/ 建立/ 设备/ 和/ 调度/ 2/ 个/ 子系统/ ,/ 并/ 通过/ 相互间/ 传递/ 的/ 信号/ 进行/ 驱动/ 的/ 批/ 综合/ 调度/ 算法/ ./ 该/ 算法/ 利用/ 文献/ [/ 5/ ]/ 算法/ 的/ 优点/ ,/ 设备/ 信号/ 通过/ 设备/ 驱动/ 实现/ ;/ 以/ “/ 多/ 批处理/ ”/ 命名/ ,/ 以/ 区别/ 以往/ 的/ 限制/ 加工/ 批量/ 为/ 2/ 的/ 调度/ 算法/ ;/ 将/ 工艺/ 树叶子/ 节点/ 工序/ 中/ 未加工/ 的/ 工序/ 定义/ 为/ 可/ 调度/ 工序/ ,/ 紧前/ 工序/ 均/ 处于/ 加工/ 状态/ 的/ 工序/ 定义/ 为准/ 可/ 调度/ 工序/ ,/ 当可/ 调度/ 工序/ 与/ 准/ 可/ 调度/ 工序/ 批处理/ 时/ ,/ 实现/ 批处理/ 不受/ 紧前/ 工序/ 个数/ 限制/ ;/ 通过/ 信号/ 驱动/ 激活/ 可/ 调度/ 工序/ ,/ 并/ 判断/ 其/ 是否/ 与/ 准/ 可/ 调度/ 工序/ 满足/ 批/ 组合/ 策略/ ,/ 如果/ 可/ 批处理/ ,/ 将/ 该/ 工序/ 的/ 加工/ 时间延迟/ 至准/ 可/ 调度/ 工序/ 的/ 开始/ 时间/ ;/ 当已/ 形成/ 的/ 可/ 批处理/ 工序/ 组/ 开始/ 加工/ 时/ ,/ 如果/ 该/ 工序/ 组/ 还/ 可/ 与/ 其它/ 准可/ 调度/ 工序/ 继续/ 组合/ 形成/ 更大/ 的/ 批处理/ 工序/ 组/ ,/ 可/ 实现/ 加工/ 批量/ 无/ 限制/ ./ 2/ 问题/ 描述/ 加工/ 和/ 装配/ 一同/ 处理/ 的/ 综合/ 调度/ 是/ 将/ 加工/ 工序/ 和/ 装配/ 工序/ 统一/ 定义/ 为/ 加工/ 工序/ ,/ 加工/ 设备/ 和/ 装配/ 设备/ 统一/ 定义/ 为/ 加工/ 设备/ ,/ 工序/ 和/ 设备/ 统一/ 调度/ ,/ 一般/ 要求/ 是/ :/ ①/ 每/ 道工序/ 的/ 加工/ 设备/ 唯一/ ./ ②/ 同一/ 加工/ 设备/ 在/ 同一/ 时刻/ 只能/ 加工/ 一道/ 工序/ ./ ③/ 每/ 道工序/ 必须/ 在/ 其/ 所有/ 紧前/ 工序/ 均/ 已/ 加工/ 完毕/ ,/ 或/ 没有/ 紧前/ 工序/ 时才/ 可以/ 在/ 其/ 加工/ 设备/ 上/ 开始/ 加工/ ./ ④/ 最后/ 一道/ 工序/ 加工/ 完毕/ 时间/ 为/ 产品/ 的/ 总/ 加工/ 时间/ ./ 设/ 产品/ 由/ N/ 道工序/ 组成/ ,/ 在/ M/ 台/ 设备/ 上/ 加工/ ,/ n/ (/ 1/ / n/ / N/ )/ 为/ 工序/ 编号/ ,/ m/ (/ 1/ / m/ / M/ )/ 为/ 设备/ 编号/ ./ 设/ End/ (/ n/ )/ 为/ 工序/ n/ 的/ 加工/ 完毕/ 时间/ ,/ 则/ 产品/ 加工/ 总/ 时间/ E/ =/ max/ [/ End/ (/ n/ )/ ]/ ,/ 于是/ 一般/ 综合/ 调度/ 问题/ 目标/ 函数/ 为/ 根据/ 加工/ 工序/ 是否/ 存在/ 紧前/ 工序/ ,/ 将/ 工序/ 划分/ 为/ 可/ 调度/ 工序/ 和/ 不可/ 调度/ 工序/ ./ 其中/ 不可/ 调度/ 工序/ 为/ 紧前/ 工序/ 未加工/ 完毕/ 的/ 工序/ ,/ 即非/ 叶子/ 节点/ 工序/ ;/ 可/ 调度/ 工序/ 为/ 无/ 紧前/ 工序/ 或/ 紧前/ 工序/ 均/ 已/ 加工/ 完毕/ 的/ 工序/ ,/ 即/ 为/ 动态/ 树状/ 模型/ 中/ 的/ 叶子/ 节点/ ./ 个/ (/ / 2/ )/ 工序/ 的/ 设备/ ./ 定义/ 1/ ./ 多/ 批处理/ 设备/ ./ 可以/ 批量/ 加工/ 多多/ 批处理/ 对/ 一般/ 综合/ 问题/ 的/ 扩展/ 要求/ 是/ :/ ⑤/ 同一/ 加工/ 设备/ 在/ 同一/ 时刻/ 可以/ 加工/ 多/ 道工序/ ,/ 工序/ 的/ 数量/ 受/ 设备/ 的/ 批/ 加工量/ 限制/ ,/ 同时/ 开始/ 的/ 工序/ 结束/ 时间/ 相同/ ./ 通过/ 与/ 一般/ 综合/ 调度/ 问题/ 的/ 要求/ 比较/ 可知/ ,/ 多/ 批处理/ 扩展/ 了/ 约束/ ②/ ,/ 即/ 一般/ 综合/ 调度/ 问题/ 是/ 多/ 批处理/ 问题/ 的/ 特例/ ./ Page3/ 为了/ 说明/ 多/ 批处理/ 条件/ 下/ 工序/ 的/ 约束/ 关系/ ,/ 有关/ 符号/ 说明/ 和/ 分析/ 如下/ :/ 某一/ 工序/ ./ 工序/ 集合/ ,/ Fm/ ,/ k/ =/ {/ fm/ ,/ k/ }/ ./ Fk/ =/ F1/ ,/ k/ ∪/ F2/ ,/ k/ ∪/ …/ ∪/ Fm/ ,/ k/ ./ (/ 1/ )/ 不同/ 的/ 设备/ 可以/ 在/ 同一/ 时刻/ 加工/ 完毕/ ,/ 设/ tk/ 为/ 设备/ 加工/ 完毕/ 并/ 产生/ 空闲/ 的/ 时刻/ ,/ 其中/ k/ / 0/ (/ t0/ 为/ 开始/ 时刻/ )/ ./ (/ 2/ )/ tm/ ,/ k/ 为/ 设备/ m/ 加工/ 完毕/ 并/ 产生/ 空闲/ 的/ 时刻/ ./ (/ 3/ )/ fm/ ,/ k/ 为/ tm/ ,/ k/ 时刻/ 在/ 设备/ m/ 上刚/ 加工/ 完毕/ 的/ (/ 4/ )/ Fm/ ,/ k/ 为/ tm/ ,/ k/ 时刻/ 在/ 设备/ m/ 上刚/ 加工/ 完毕/ 的/ (/ 5/ )/ Fk/ 为/ tk/ 时刻/ 刚/ 加工/ 完毕/ 工序/ 构成/ 的/ 集合/ (/ 6/ )/ Xk/ 为/ tk/ 时刻/ 已/ 加工/ 完毕/ 工序/ 构成/ 的/ 集合/ ;/ 设/ pre/ (/ n/ )/ 代表/ 工序/ n/ 的/ 紧前/ 工序/ ,/ 有关/ 工序/ 表/ (/ 1/ )/ Ok/ 为/ tk/ 时刻/ 可/ 调度/ 工序/ 集合/ :/ (/ / n/ )/ (/ {/ pre/ (/ n/ )/ }/ / Xk/ )/ →/ (/ n/ ∈/ Ok/ )/ ./ (/ 2/ )/ Cm/ ,/ k/ 为/ tk/ 时刻/ 空闲/ 设备/ m/ 选择/ 加工/ 的/ 工序/ 集合/ ,/ Cm/ ,/ k/ / Ok/ ,/ Cm/ ,/ k/ 中/ 各/ 元素/ 的/ 开始/ 时间/ 均/ 为/ tk/ ,/ Cm/ ,/ k/ 中/ 元素/ 个数/ 大于/ 1/ ,/ 则/ Cm/ ,/ k/ 为/ 批处理/ 工序/ 组/ ./ (/ 3/ )/ Ck/ 为/ tk/ 时刻/ 设备/ 资源/ 选择/ 的/ 工序/ 集合/ ,/ Ck/ =/ C1/ ,/ k/ ∪/ C2/ ,/ k/ ∪/ …/ ∪/ Cm/ ,/ k/ ,/ Ck/ / Ok/ ./ 多/ 批处理/ 的/ 约束条件/ ⑤/ 表示/ 如下/ :/ Xk/ =/ Xk/ -/ 1/ ∪/ Fk/ ./ 示/ 如下/ :/ 3/ 系统/ 模型/ 设计/ 3.1/ 系统结构/ 设计/ 根据/ 综合/ 调度/ 的/ 实际/ 情况/ ,/ 将/ 多/ 批处理/ 系统/ 划分/ 为/ 调度/ 子系统/ (/ SchedulingManagementSubsystem/ ,/ SS/ )/ 和/ 设备/ 子系统/ (/ DeviceManagementSubsystem/ ,/ DS/ )/ ./ 其中/ SS/ 有/ 两个/ 主要/ 内容/ :/ (/ 1/ )/ 采用/ 组合/ 策略/ 确定/ 批处理/ 工序/ 组/ ;/ (/ 2/ )/ 利用/ 最大/ 并行性/ 选择/ 策略/ 为/ 空闲/ 设备/ 分配/ 可/ 调度/ 工序/ 或/ 工序/ 组/ ,/ 发送/ 加工/ 开始/ 信号/ ./ DS/ 负责/ 接收/ SS/ 传递/ 来/ 的/ 可/ 调度/ 工序/ 信息/ ,/ 锁定/ 相应/ 加工/ 设备/ 资源/ 并/ 在/ 加工/ 完毕/ 时/ 释放/ 设备/ 资源/ ,/ 发送/ 加工/ 完毕/ 信号/ ./ 定义/ 2/ ./ 加工/ 完毕/ 信号/ (/ Sig/ _/ F/ )/ ./ DS/ 释放/ 设备/ 资源/ 时向/ SS/ 发送/ 的/ 信号/ ,/ 该/ 信号/ 包含/ 了/ 加工/ 结束/ 的/ 工序/ 号/ 和/ 设备/ 号/ ./ 定义/ 3/ ./ 加工/ 开始/ 信号/ (/ Sig/ _/ B/ )/ ./ SS/ 选择/ 为/ 空闲/ 设备/ 分配/ 可/ 调度/ 工序/ 后/ ,/ 利用/ 该/ 信号/ 通知/ DS/ 锁定/ 设备/ 资源/ 及/ 具体/ 的/ 加工/ 工序/ ./ SS/ 与/ DS/ 的/ 交互/ 过程/ 如图/ 1/ 所示/ ,/ 其中/ 信号/ Sig/ _/ F/ 和/ 信号/ Sig/ _/ B/ 发送/ 时/ 伴随/ 着/ 设备/ 资源/ 的/ 转移/ ./ 系统/ 加工/ 的/ 初始/ 时刻/ t0/ ,/ 先由/ SS/ 采用/ 组合/ 策略/ 确定/ 批处理/ 工序/ 组/ ,/ 此时/ 所有/ 设备/ 资源/ 均/ 为/ SS/ 所有/ ,/ SS/ 再/ 为/ 所有/ 空闲/ 设备/ 进行/ 可/ 调度/ 工序/ 的/ 选择/ ,/ 将/ 被/ 选择/ 的/ 工序/ 和/ 设备/ 信息/ 通过/ Sig/ _/ B/ 传递/ 到/ DS/ ,/ 此时/ DS/ 锁定/ 加工/ 工序/ 和/ 设备/ 资源/ ,/ 在/ 设备/ 加工/ 完毕/ 时/ 释放/ 设备/ 资源/ 并/ 发送/ 信号/ Sig/ _/ F/ ,/ SS/ 在/ 收到/ 新/ 的/ 设备/ 资源/ 信息/ 后/ 再/ 进行/ 新一轮/ 的/ 设备/ 选择/ ./ SS/ 与/ DS/ 通过/ 信号/ Sig/ _/ F/ 和/ 信号/ Sig/ _/ B/ 的/ 循环/ 传递/ 完成/ 整体/ 加工/ 任务/ ./ 若/ 某/ 一/ 不可/ 调度/ 工序/ 的/ 所有/ 紧前/ 工序/ 均/ 被/ 选择/ ,/ 则/ 将/ 该/ 工序/ 加入/ 准可/ 调度/ 集合/ ./ 加工/ 任务/ 从/ 开始/ 到/ 结束/ 的/ 过程/ 中/ ,/ 各个/ 加工/ 工/ 3.2/ 工序/ 状态/ 分析/ 序/ 状态/ 会/ 经历/ 一系列/ 状态/ 变化/ ,/ 其/ 定义/ 如下/ ./ 上/ 加工/ 时/ 的/ 状态/ ./ 定义/ 4/ ./ 加工/ 状态/ ./ 可/ 调度/ 工序/ 在/ 其/ 加工/ 设备/ 定义/ 5/ ./ 完毕/ 状态/ ./ 工序/ 加工/ 完毕/ 时所处/ 的/ 定义/ 6/ ./ 可/ 调度/ 状态/ ./ 可/ 调度/ 工序/ 所处/ 的/ 状态/ ./ 定义/ 7/ ./ 准可/ 调度/ 状态/ ./ 不可/ 调度/ 工序/ 中紧/ 前/ 定义/ 8/ ./ 非/ 调度/ 状态/ ./ 不可/ 调度/ 工序/ 中非/ 准可/ 调度/ 工序/ 所处/ 的/ 状态/ ./ 其中/ 处于/ 准可/ 调度/ 状态/ 和/ 非/ 调度/ 状态/ 的/ 工序/ 均/ 为/ 不可/ 调度/ 工序/ ./ 图/ 2/ 为/ 某/ 一/ 时刻/ 加工/ 任务/ 工艺/ 树/ ,/ 状态/ ./ 工序/ 均/ 处于/ 加工/ 状态/ 的/ 工序/ ./ Page4/ 叶子/ 节点/ F6/ 和/ F7/ 在/ 设备/ 上/ 加工/ 处于/ 加工/ 状态/ ,/ 无紧/ 前/ 工序/ 的/ 叶子/ 节点/ F8/ 和/ F9/ 处于/ 可/ 调度/ 状态/ ;/ 其中/ 非/ 叶子/ 结点/ 均/ 为/ 不可/ 调度/ 工序/ ,/ 例如/ F3/ 的/ 所有/ 紧前/ 工序/ (/ F6/ )/ 处于/ 加工/ 状态/ ,/ 因此/ F3/ 处于/ 准可/ 调度/ 状态/ ;/ F4/ 紧前/ 工序/ 中/ ,/ 只有/ F7/ 处于/ 加工/ 状态/ ,/ 因此/ F4/ 处于/ 非/ 调度/ 状态/ ,/ tk/ 时刻/ 各/ 工序/ 状态/ 如表/ 1/ 所示/ ./ 工序/ 号/ F1F2F3F4F5F6F7F8F9SS/ 发送/ 信号/ Sig/ _/ B/ 时/ ,/ 某一/ 工序/ (/ 组/ )/ 的/ 状态/ 由/ 可/ 调度/ 状态/ 变为/ 加工/ 状态/ ,/ 其/ 后续/ 工序/ 可能/ 会/ 变成/ 为准/ 可/ 调度/ 状态/ ./ DS/ 发送/ 信号/ Sig/ _/ F/ 时/ ,/ 某一/ 工序/ (/ 组/ )/ 由/ 加工/ 状态/ 变为/ 完毕/ 状态/ ,/ 其/ 后续/ 工序/ 可能/ 会/ 变成/ 为/ 可/ 调度/ 状态/ ./ 因此/ 各/ 工序/ 状态/ 变化/ 以/ 信号/ Sig/ _/ F/ 和/ 信号/ Sig/ _/ B/ 为/ 驱动/ ./ 图/ 3/ 为/ 某/ 一/ 工序/ 从/ 开始/ 到/ 结束/ 所/ 经历/ 各种/ 状态/ ,/ 其/ 状态/ 变化/ 随着/ 信号/ Sig/ _/ F/ 、/ Sig/ _/ B/ 的/ 产生/ 有序/ 地/ 变化/ ./ 定义/ 9/ ./ 信号/ 驱动/ 时刻/ ./ 某一/ 工序/ 加工/ 完毕/ 的/ 时刻/ ,/ 此时/ DS/ 发送/ 驱动/ 信号/ Sig/ _/ F/ ,/ 进行/ 新一轮/ 调度/ ./ 下面/ 介绍/ 当/ 信号/ 驱动/ 时刻/ 到来/ 时/ ,/ SS/ 对/ 可/ 多/ 批处理/ 工序/ 的/ 调度/ 策略/ ./ 4/ 多批/ 调度/ 策略/ 设计/ 与/ 分析/ 由于/ SS/ 内部/ 分别/ 为/ 可/ 调度/ 工序/ 和/ 准/ 可/ 调度/ 工序/ 建立/ 集合/ ,/ 因此/ SS/ 内部结构/ 如图/ 4/ 所示/ ./ 当/ 收到/ 信号/ Sig/ _/ F/ 时/ ,/ SS/ 先对/ 所有/ 工序/ 的/ 状态/ 进行/ 一次/ 更新/ ,/ 然后/ SS/ 利用/ 组合/ 策略/ 将/ 可/ 批处理/ 工序/ 组合成/ 工序/ 组/ ,/ 再/ 按/ 文献/ [/ 5/ ]/ 中/ 最大/ 并行性/ 选择/ 策略/ 选择/ 可/ 调度/ 工序/ (/ 组/ )/ ,/ 将/ 被/ 选择/ 工序/ 号/ 及/ 设备/ 资源/ 信息/ 通过/ Sig/ _/ B/ 发送到/ DS/ ./ 工序/ 是否/ 进行/ 批处理/ 组合/ 的/ 组合/ 策略/ 设计/ 和/ 分/ 4.1/ 组合/ 策略/ 设计/ 与/ 分析/ 析/ 如下/ ./ 定义/ 10/ ./ 组合/ 工序/ ./ 将/ 可/ 同时/ 在/ 一台/ 设备/ 上/ 加工/ 的/ 多个/ 工序/ 虚拟/ 成为/ 一道/ 工序/ ,/ 这道/ 虚拟/ 工序/ 称为/ 组合/ 工序/ ,/ 组合/ 工序/ 在/ 调度/ 时/ 与/ 正常/ 工序/ 一样/ ./ 根据/ 多/ 批处理/ 问题/ 的/ 约束条件/ ⑤/ ,/ 可以/ 批量/ 处理/ 的/ 工序/ 是/ 相同/ 的/ 工序/ ,/ 其/ 加工/ 时间/ 相同/ ,/ 因此/ ,/ 组合/ 后/ 的/ 工序/ 加工/ 时间/ 不变/ ./ 由于/ SS/ 工序/ 集中/ 批处理/ 工序/ 分为/ 可调/ 序/ 批处理/ 工序/ (/ A/ )/ 和/ 准/ 可/ 调度/ 批处理/ 工序/ (/ B/ )/ ./ 组合/ 类型/ 分为/ 两种/ :/ A/ 与/ A/ 组合/ 和/ A/ 与/ B/ 组合/ ./ 对于/ AA/ 类型/ ,/ 当可/ 批处理/ 调度/ 的/ 工序/ 数/ 小于/ 设备/ 批处理/ 量/ 时/ ,/ 此时/ 所有/ 可/ 批处理/ 工序/ 一同/ 批处理/ ;/ 当可/ 批处理/ 调度/ 的/ 工序/ 数/ 大于/ 设备/ 批处理/ 量/ 时/ ,/ 考虑/ 工序/ 并行/ 加工/ [/ 2/ ]/ ,/ 按/ 设备/ 批处理/ 量/ ,/ 选择/ 路径/ 长/ 的/ 工序/ 组合/ 为/ 工序/ PAA/ ./ 对于/ AB/ 类型/ ,/ 由于/ 加工/ 工艺/ 约束/ ,/ 组合/ 后/ 工序/ A/ 推迟/ 开始/ 加工/ 时间/ 与/ B/ 同步/ 并/ 形成/ 组合/ 工序/ PAB/ ./ PAB/ 缩短/ 了/ 单一/ 设备/ 的/ 总/ 加工/ 时间/ ,/ 但/ 推迟/ 了/ 工序/ A/ 的/ 后续/ 工序/ ,/ 为此/ ,/ 有/ 必要/ 研究/ 是否/ 进行/ AB/ 类型/ 工序/ 组合/ 的/ 判断/ 策略/ ./ 为/ 方便/ 阐述/ 问题/ ,/ 现/ 利用/ 代数式/ 说明/ 条件/ 之间/ 的/ 关系/ ./ 设/ 信号/ 驱动/ 时刻/ T/ 时/ ,/ 可/ 批处理/ 工序/ A/ 与/ B/ 的/ 加工/ 时间/ 为/ Tp/ ,/ 准可/ 调度/ 工序/ B/ 转变/ 为/ 可/ 调度/ 状态/ 的/ 时刻/ 为/ TB/ ./ 工序/ A/ 和/ 工序/ B/ 的/ 父/ 路径/ 工序/ 序列/ 为/ QA/ 和/ QB/ ,/ 路径/ 长度/ 为/ TQA/ 和/ TQB/ ./ 理想/ 条件/ 下/ QA/ 在/ A/ 加工/ 结束/ 时/ 开始/ 加工/ ,/ 即/ T/ +/ Tp/ 时刻/ ;/ QB/ 在/ B/ 加工/ 结束/ 时/ 开始/ 加工/ ,/ 即/ TB/ +/ Tp/ 时刻/ ./ 当/ T/ +/ Tp/ / TB/ 时/ ,/ AB/ 的/ 关系/ 如图/ 5/ (/ a/ )/ 所示/ ,/ 准可/ 调度/ 工序/ B/ 可以/ 开始/ 加工/ 时/ ,/ 工序/ A/ 已/ 加工/ 完/ Page5/ 毕/ ,/ 若/ 对/ AB/ 进行/ 组合/ ,/ 其/ 结果/ 如图/ 5/ (/ b/ )/ 所示/ ,/ 此时/ ,/ 不仅/ 批处理/ 设备/ 在/ 时间段/ (/ T/ ,/ TB/ )/ 处于/ 空闲/ ,/ 而且/ 还要/ 推迟/ QA/ 的/ 开始/ 时间/ ,/ 影响/ 调度/ 结果/ ./ 因此/ ,/ 当/ T/ +/ Tp/ / TB/ 时/ 不/ 对/ AB/ 工序/ 进行/ 组合/ ./ 图/ 5T/ +/ Tp/ / TB/ 时/ AB/ 是否/ 组合/ 甘特图/ 对比/ 当/ T/ +/ Tp/ >/ TB/ 时/ ,/ AB/ 及其/ 后续/ 工序/ 的/ 关系/ 如图/ 6/ (/ a/ )/ 所示/ ,/ 若/ 不/ 对/ AB/ 进行/ 组合/ ,/ 则/ AB/ 在/ 批处理/ 设备/ 上/ 串行/ 加工/ ,/ 此时/ 需要/ 推迟/ B/ 及其/ 后续/ 工序/ 的/ 开始/ 时间/ ,/ 调度/ 结果/ 如图/ 6/ (/ b/ )/ 所示/ ;/ 若/ 对/ AB/ 进行/ 组合/ ,/ 由于/ B/ 的/ 开始/ 时间/ 晚于/ 当前/ 时刻/ T/ ,/ 此时/ 需要/ 推迟/ A/ 及其/ 后续/ 工序/ 的/ 开始/ 时间/ ,/ 调度/ 结果/ 如图/ 6/ (/ c/ )/ 所示/ ,/ AB/ 组合/ 后/ 的/ 工序/ 为/ PAB/ ./ 由于/ AB/ 的/ 后续/ 部分/ QA/ 和/ QB/ 可以/ 并行/ 加工/ ,/ 其/ 路径/ 长度/ TQA/ 和/ TQB/ 是/ 决定/ AB/ 组合/ 后/ 整体/ 效率/ 问题/ 的/ 关键因素/ ,/ 因此/ 下面/ 将/ 根据/ TQA/ 和/ TQB/ 的/ 情况/ ,/ 对/ AB/ 是否/ 组合/ 进行/ 分析/ ./ 对于/ 图/ 6/ (/ b/ )/ 所示/ 的/ 情况/ (/ AB/ 不/ 组合/ )/ ,/ 设/ 总/ 加工/ 时间/ 为/ S1/ ,/ 对于/ 图/ 6/ (/ c/ )/ 所示/ 的/ 情况/ (/ AB/ 组合/ )/ ,/ 设/ 总/ 加工/ 时间/ 为/ S2/ ./ 理想/ 条件/ 下/ QB/ 与/ QA/ 可/ 在/ 不同/ 的/ 设备/ 上/ 并行/ 加工/ ./ 当/ AB/ 不/ 组合/ ,/ B/ 、/ QB/ 与/ QA/ 并行/ 加工/ ,/ 其/ 并行/ 时间/ 为/ max/ (/ Tp/ +/ TQB/ ,/ TQA/ )/ ,/ S1/ =/ T/ +/ Tp/ +/ max/ (/ Tp/ +/ TQB/ ,/ TQA/ )/ ;/ 当/ AB/ 组合/ ,/ QB/ 与/ QA/ 并行/ 加工/ ,/ 其/ 并行/ 时间/ 为/ max/ (/ TQB/ ,/ TQA/ )/ ,/ S2/ =/ TB/ +/ max/ (/ TQB/ ,/ TQA/ )/ ./ 为了/ 实现目标/ 函数/ ,/ 需要/ 选择/ S1/ 和/ S2/ 中较/ 小/ 的/ 方案/ ,/ 即当/ S1/ >/ S2/ 时/ ,/ 对/ AB/ 进行/ 组合/ ./ 下面/ 对/ 选择/ 图/ 6T/ +/ Tp/ >/ TB/ 时/ AB/ 是否/ 组合/ 甘特图/ 对比/ 组合/ 的/ 条件/ 进行/ 分析/ ./ S1/ -/ S2/ =/ T/ +/ Tp/ +/ max/ (/ Tp/ +/ TQB/ ,/ TQA/ )/ -/ 根据/ 上式/ 中/ 的/ 各种/ 取大/ 可能/ 进行/ 以下/ 4/ 种/ 情况/ 分析/ :/ 由此/ 得出/ 4/ 种/ 情况/ 的/ 首要条件/ :/ ①/ TQB/ >/ TQA/ ,/ 该/ 条件/ 即/ 工序/ B/ 的/ 父/ 节点/ 路径/ 长度/ 大于/ 工序/ A/ 的/ 父/ 节点/ 路径/ 长度/ ./ ②/ TQA/ >/ TQB/ >/ TQA/ -/ Tp/ ,/ 该/ 条件/ 即/ 工序/ B/ 的/ 父/ 节点/ 路径/ 长度/ 小于/ 工序/ A/ 的/ 父/ 节点/ 路径/ 长度/ ,/ 且/ 大于/ 工序/ A/ 的/ 父/ 节点/ 路径/ 长度/ 与/ B/ 的/ 加工/ 时间/ 之差/ ./ ③/ TQB/ >/ TQA/ >/ TQB/ +/ Tp/ 矛盾/ ./ Page6/ ④/ TQA/ -/ Tp/ >/ TQB/ ,/ 该/ 条件/ 即/ 工序/ B/ 的/ 父/ 节点/ 路径/ 长度/ 小于/ 工序/ A/ 的/ 父/ 节点/ 路径/ 长度/ 与/ B/ 的/ 加工/ 时间/ 之差/ ./ 在/ 合理/ 的/ 3/ 种/ 条件/ 下/ ,/ S1/ -/ S2/ >/ 0/ 还/ 需/ 满足/ 如下/ 条件/ :/ ①/ T/ +/ 2Tp/ -/ TB/ -/ TQB/ >/ 02Tp/ -/ (/ TB/ -/ T/ )/ >/ TQB/ ②/ / T/ +/ 2Tp/ -/ TB/ -/ TQA/ >/ 0/ / 2Tp/ -/ (/ TB/ -/ T/ )/ >/ TQA/ ④/ T/ +/ Tp/ -/ TB/ >/ 0T/ +/ Tp/ -/ TB/ >/ 0/ 组合/ 时间/ 变化/ 如图/ 6/ (/ c/ )/ 所示/ ,/ Tp/ 为/ AB/ 的/ 加工/ 时间/ ,/ TB/ -/ T/ 为/ A/ 推迟/ 的/ 时间/ ./ 情况/ ①/ 时/ ,/ 发生/ 合并/ 的/ 条件/ 可以/ 表述/ 为/ :/ AB/ 的/ 加工/ 时间/ 的/ 2/ 倍/ 与/ A/ 推迟时间/ 之差/ 大于/ B/ 的/ 父/ 路径/ 长/ ;/ 情况/ ②/ 时/ ,/ 发生/ 合并/ 的/ 条件/ 可以/ 表述/ 为/ :/ AB/ 的/ 加工/ 时间/ 的/ 2/ 倍/ 与/ A/ 推迟时间/ 之差/ 大于/ A/ 的/ 父/ 路径/ 长/ ;/ 情况/ ④/ 时/ ,/ AB/ 组合/ 的/ 条件/ T/ +/ Tp/ -/ TB/ >/ 0/ 与/ 图/ 7/ 组合/ 策略/ 流程图/ 4.2/ 最大/ 可/ 并行性/ 选择/ 策略/ 最大/ 可/ 并行性/ 选择/ 策略/ 就是/ 在/ 信号/ 驱动/ 时刻/ ,/ 当/ 空闲/ 设备/ 寻找/ 可/ 调度/ 工序/ 时/ ,/ 如果/ 可/ 调度/ 工序/ 不/ AB/ 批处理/ 前提条件/ 一致/ ,/ 因此/ 情况/ ④/ 在/ 满足/ 首要条件/ 即/ TQA/ -/ Tp/ >/ TQB/ 时/ 可/ 直接/ 对/ AB/ 进行/ 组合/ ./ 组合/ 后/ ,/ PAA/ 工序/ 为/ 可/ 调度/ 工序/ 且/ 开始/ 时间/ 不变/ ;/ PAB/ 工序/ 为准/ 可/ 调度/ 工序/ 且/ 开始/ 时间/ 为/ TB/ ./ 理想/ 状态/ 下/ 组合/ 后/ 的/ 父/ 路径/ 工序/ 充分/ 并行/ 后/ 形成/ 的/ 父/ 路径/ 长度/ 为/ QA/ 和/ QB/ 的/ 最大值/ ./ 根据/ 以上/ 分析/ ,/ 多批/ 综合/ 调度/ 的/ 组合/ 策略/ 如下/ :/ ①/ 对于/ AA/ 类型/ 的/ 批处理/ 工序/ ,/ 根据/ 设备/ 加工/ 容量/ (/ 批处理/ 量/ )/ 和/ 文献/ [/ 5/ ]/ 选择/ 工序/ 路径/ 长/ 的/ 进行/ 组合/ ./ ②/ 对于/ AB/ 类型/ 的/ 批处理/ ,/ 在/ 满足/ 设备/ 加工/ 容量/ 的/ 前提/ 下/ ,/ 批处理/ 工序/ 需/ 按序/ 满足/ 以下/ 条件/ :/ 2Tp/ -/ (/ TB/ -/ T/ )/ >/ TQB/ 烅/ 烄/ T/ +/ Tp/ -/ TB/ >/ 烆/ TQA/ -/ Tp/ >/ TQB/ ./ 图/ 7/ 为/ 组合/ 策略/ 的/ 简要/ 流程图/ ./ 该/ 组合/ 策略/ 可/ 循环/ 使用/ ,/ 形成/ 多/ 批量/ 综合/ 调度/ ,/ 唯一/ ,/ 选择/ 父/ 结点/ 路径/ 长/ 的/ 工序/ ;/ 如果/ 存在/ 父/ 结点/ 最长/ 路径/ 相同/ 的/ 工序/ ,/ 选择/ 用时/ 短/ 的/ 工序/ [/ 5/ ]/ ./ 由于/ 该/ 策略/ 可以/ 使得/ 待/ 加工/ 工序/ 有/ 更/ 多/ 的/ 并行/ Page7/ 处理/ 时间/ ,/ 所以/ 本文/ 在/ 可/ 加工/ 工序/ 数/ 多于/ 设备/ 批/ 加工/ 容量/ 的/ 情况/ 下/ ,/ 采用/ 最大/ 可/ 并行性/ 选择/ 策略/ ,/ 在/ 多个/ 可/ 加工/ 工序/ 中/ 选取/ 部分/ 工序/ 批/ 加工/ ./ 5/ 调度/ 算法/ 设计/ 及/ 复杂性/ 分析/ 5.1/ 调度/ 算法/ 设计/ 调度/ 系统/ 分为/ 调度/ 算法/ 的/ 实现/ 系统/ SS/ 和/ 设备/ 的/ 驱动/ 系统/ DS/ ./ 某一/ 加工/ 状态/ 的/ 工序/ 加工/ 完毕/ 时/ ,/ DS/ 向/ SS/ 发送/ 信号/ Sig/ _/ F/ ,/ 该/ 信号/ 激活/ SS/ 进行/ 一次/ 调度/ ;/ SS/ 调度/ 完毕/ 后/ 向/ DS/ 发送/ 信号/ Sig/ _/ B/ ,/ 该/ 信号/ 激活/ DS/ 对/ 分配/ 的/ 工序/ 执行/ 加工/ ./ 号/ 相同/ 则/ 结束/ ./ ④/ 向/ SS/ 发送/ Sig/ _/ F/ ./ 若/ 发送/ 的/ Sig/ _/ F/ -/ >/ PID/ 与/ 根/ 节点/ 工序/ 的/ 工序/ (/ 3/ )/ SS/ 子系统/ 算法/ 设计/ 为/ 简化/ 后续/ 调度/ 工序/ 满足/ 最大/ 并行性/ 选择/ 策略/ 和/ AA/ 类型/ 批处理/ 工序/ 组/ 工序/ 的/ 选择/ ,/ 初始/ 时/ 将/ 工序/ 集中/ 所有/ 工序/ 按父/ 结点/ 路径/ 长度/ 由长/ 到/ 短/ 排序/ ./ (/ 1/ )/ 信号/ 设计/ 一次/ 调度/ 时/ 可/ 对/ 不同/ 空闲/ 设备/ 资源分配/ 不同/ 的/ 可/ 调度/ 工序/ ,/ 不同/ 的/ 加工/ 工序/ 可能/ 在/ 同一/ 时刻/ 加工/ 完毕/ ,/ 因此/ 信号/ Sig/ _/ F/ 与/ 信号/ Sig/ _/ F/ 需要/ 记录/ 多个/ 加工/ 工序/ 号/ 及其/ 设备/ 号/ ,/ 因此/ 为/ 信号/ 设置/ 如下/ 数据结构/ ./ StructSig/ _/ F/ {/ IntDID/ [/ MAX/ ]/ ;/ // // 当前/ 加工/ 完毕/ 的/ 设备/ 资源/ 号/ 数组/ IntPID/ [/ MAX/ ]/ ;/ // // 当前/ 加工/ 完毕/ 的/ 工序/ 号/ 数组/ IntcurrentTime/ ;/ // // 当前/ Sig/ _/ F/ 发送/ 时间/ }/ ;/ StructSig/ _/ B/ {/ IntDID/ [/ MAX/ ]/ ;/ // // 被/ 选择/ 工序/ 的/ 设备/ 资源/ 号/ 数组/ IntPID/ [/ MAX/ ]/ ;/ // // 被/ 选择/ 工序/ 的/ 工序/ 号/ 数组/ IntworkTime/ [/ MAX/ ]/ ;/ // // 被/ 选择/ 工序/ 的/ 加工/ 时间/ 数组/ }/ ;/ 以上/ 两个/ 结构/ 中/ DID/ 数组/ 与/ PID/ 数组/ 的/ 每一项/ 相对/ 应/ ,/ 即/ 工序/ PID/ [/ i/ ]/ 的/ 加工/ 设备/ 号/ 为/ DID/ [/ i/ ]/ ,/ 其/ 加工/ 时间/ 为/ workTime/ [/ i/ ]/ ./ (/ 2/ )/ DS/ 子系统/ 算法/ 设计/ ①/ DS/ 等待/ SS/ 传来/ 的/ 信号/ Sig/ _/ B/ ./ ②/ 对/ Sig/ _/ B/ -/ >/ DID/ 中/ 的/ 设备/ 加锁/ ,/ 锁定/ 时间/ 为/ Sig/ _/ B/ -/ >/ workTime/ ./ ③/ 等待/ 某一/ 工序/ 加工/ 完毕/ ,/ 将/ 加工/ 完毕/ 工序/ 的/ 工序/ 号/ 、/ 加工/ 设备/ 号/ 和/ 加工/ 时间/ 记录/ 在/ Sig/ _/ F/ 中/ ,/ 并/ 释放/ 加工/ 完毕/ 的/ 设备/ 资源/ ./ ①/ 初始/ 时刻/ ,/ 记录/ 当前/ 时刻/ t0/ ./ ②/ 更新/ 可/ 调度/ 工序/ 集与准/ 可/ 调度/ 集/ ./ ③/ 利用/ 组合/ 策略/ 对/ 满足/ 批处理/ 条件/ 的/ 工序/ 进行/ 组合/ ./ ④/ 根据/ SS/ 现有/ 的/ 设备/ 资源/ ,/ 利用/ 最大/ 并行性/ 选择/ 策略/ ,/ 对/ 可/ 调度/ 工序/ 进行/ 选择/ ,/ 将/ 被/ 选择/ 工序/ 的/ 工序/ 号/ 、/ 加工/ 设备/ 号/ 和/ 加工/ 时间/ ,/ 记录/ 在/ Sig/ _/ B/ 中/ ,/ 并/ 将/ 该/ 工序/ 从/ 可/ 调度/ 集中/ 删除/ ./ ⑤/ 向/ DS/ 发送/ Sig/ _/ B/ ./ ⑥/ 等待/ DS/ 传来/ 的/ 信号/ Sig/ _/ F/ ./ ⑦/ 收到/ 信号/ Sig/ _/ F/ 时/ ,/ 若/ Sig/ _/ F/ -/ >/ PID/ 与/ 根/ 节点/ 工序/ 的/ 工序/ 号/ 相同/ ,/ 转/ ⑧/ ,/ 否则/ 转/ ②/ ./ ⑧/ 记录/ 当前/ 时刻/ tn/ =/ Sig/ _/ F/ -/ >/ currentTime/ ,/ 加工/ 任务/ 结束/ ,/ 产品/ 加工/ 总/ 时间/ E/ =/ tn/ -/ t0/ ./ 图/ 8/ 为/ DS/ 和/ SS/ 子系统/ 的/ 简要/ 流程图/ ./ 5.2/ 复杂性/ 分析/ 本/ 算法/ 复杂/ 之/ 处/ 在于/ ,/ 信号/ 驱动/ 时刻/ ,/ SS/ 利用/ 组合/ 策略/ 对/ 多/ 批处理/ 工序/ 的/ 组合/ 判断/ 和/ 设备利用/ 最大/ 可/ 并行/ 策略/ 对/ 可/ 调度/ 工序/ 的/ 选择/ ./ 由于/ 本/ 算法/ 考虑/ 最大/ 并行性/ 选择/ 策略/ ,/ 对/ 所有/ 工序/ 按/ 其父/ 路径/ 长度/ 排序/ ,/ 可/ 调度/ 工序/ 按/ 加工/ 设备/ 进行/ 分组/ ,/ 从而/ 保证/ 了/ 该/ 算法/ 有/ 较/ 低/ 的/ 复杂度/ ,/ 具体分析/ 如下/ :/ 设多/ 批处理/ 调度/ 系统/ 中/ 工序/ 集中/ 工序/ 总数/ 为/ n/ ,/ 设备/ 集中/ 设备/ 总数/ 为/ m/ ,/ 下面/ 分析/ 其/ 两个/ 子系统/ 的/ 算法/ 复杂度/ ./ (/ 1/ )/ DS/ 算法/ 复杂度/ 分析/ 设备/ 加工/ 一个/ 工序/ 时/ ,/ 先/ 接收/ 信号/ Sig/ _/ B/ 并/ 在/ Page8/ 加工/ 结束/ 时/ 发送/ 信号/ Sig/ _/ F/ ,/ n/ 个/ 工序/ 需/ 进行/ 2n/ 次/ 信号/ 操作/ ,/ 因此/ DS/ 算法/ 的/ 复杂度/ 为/ O/ (/ n/ )/ ./ (/ 2/ )/ SS/ 算法/ 复杂度/ 分析/ ①/ 调度/ 系统/ 初始/ 时/ ,/ 对/ 工序/ 集中/ 所有/ 工序/ 按/ 其父/ 结点/ 路径/ 长度/ 由长/ 到/ 短/ 排序/ ,/ 按/ Quick/ -/ Sort/ 快速/ 排序/ 法/ 排序/ ,/ 复杂度/ 为/ O/ (/ nlogn/ )/ ./ ②/ 利用/ 组合/ 策略/ 先对/ 2/ 个/ 可/ 批处理/ 工序/ 进行/ 判断/ ,/ 根据/ 组合/ 判断/ 流程图/ 7/ 知/ ,/ 对/ 2/ 个/ 工序/ 进行/ 批处理/ 的/ 判断/ 次数/ 最多为/ 5/ ./ 由于/ 批处理/ 工序/ 组可/ 由/ 2/ 个/ 工序/ 最/ 多/ 扩展/ 为/ n/ 个/ ,/ 所以/ 形成/ 一个/ 批处理/ 工序/ 组/ 最/ 多/ 判断/ 5n/ 次/ ,/ 即/ 形成/ 一个/ 批处理/ 工序/ 组/ 的/ 复杂度/ 为/ O/ (/ n/ )/ ./ 系统/ 中/ 最/ 多/ 形成/ n/ 个/ 批处理/ 工序/ 组/ ,/ 所以/ 组合/ 策略/ 的/ 复杂度/ 为/ O/ (/ n2/ )/ ./ ③/ 利用/ 最大/ 并行性/ 选择/ 策略/ 对/ 可/ 调度/ 工序/ 进行/ 选择/ ,/ 由于/ 工序/ 已/ 按/ 最大/ 并行性/ 选择/ 策略/ 的/ 比较/ 算法/ 排序/ ,/ 每个/ 工序/ 只/ 需/ 1/ 步/ 选择/ 操作/ ,/ 因此/ ,/ 该/ 过程/ 最/ 多/ 进行/ n/ 次/ 操作/ ,/ 复杂度/ 为/ O/ (/ n/ )/ ./ ④/ SS/ 以/ 接收/ 信号/ Sig/ _/ F/ 作为/ 一次/ 调度/ 的/ 开始/ 和/ 以/ 发送/ 信号/ Sig/ _/ B/ 作为/ 一次/ 调度/ 的/ 结束/ ,/ n/ 个/ 工序/ 需/ 进行/ 2n/ 次/ 信号/ 操作/ ./ 因此/ ,/ SS/ 信号/ 接收/ 和/ 发送/ 的/ 复杂度/ 为/ O/ (/ n/ )/ ./ 综上所述/ ,/ 本文/ 提出/ 的/ 多/ 批处理/ 调度/ 系统/ 算法/ 的/ 复杂度/ 为/ O/ (/ n2/ )/ ./ 6/ 实例/ 分析/ 图/ 9/ 为/ 满足/ 树状/ 加工/ 模型/ 的/ 加工/ 任务/ ,/ 如/ 其中/ P6/ // 3/ // 15/ 表示/ :/ 加工/ 工序/ 号/ PID/ =/ 6/ 、/ 加工/ 设备/ 号/ 图/ 10/ 文献/ [/ 3/ ]/ 算法/ 调度/ 结果/ 甘特图/ 图/ 11M1/ 批处理/ 量/ 为/ 1/ 文献/ [/ 5/ ]/ 算法/ 调度/ 结果/ 甘特图/ DID/ =/ 3/ 和/ 加工/ 时间/ Tp/ =/ 15/ ,/ 设备/ 号/ 为/ 1/ 的/ 设备/ 是/ 多/ 批处理/ 设备/ ,/ 批处理/ 工序/ P2/ 、/ P5/ 、/ P7/ 、/ P10/ 和/ P11/ 的/ 加工/ 时间/ Tp/ =/ 30/ ./ 其它/ 设备/ 为/ 普通/ 设备/ ,/ 即/ 加工/ 批量/ 为/ 1/ 的/ 设备/ ./ 当/ M1/ 的/ 批处理/ 量/ 为/ 1/ ,/ 即/ 为/ 一般/ 综合/ 调度/ 问题/ ,/ 此时/ 利用/ 文献/ [/ 3/ ]/ 算法/ 调度/ ,/ 工序/ 调度/ 次序/ 为/ P4/ 、/ P13/ 、/ P8/ 、/ P12/ 、/ P9/ 、/ P2/ 、/ P10/ 、/ P11/ 、/ P5/ 、/ P7/ 、/ P6/ 、/ P1/ 、/ P3/ 、/ P0/ ,/ 结果/ 如图/ 10/ 所示/ ,/ 加工/ 总用/ 时/ 为/ 205/ ;/ 利用/ 文献/ [/ 5/ ]/ 算法/ 调度/ ,/ 工序/ 调度/ 次序/ 为/ {/ P4/ 、/ P11/ 、/ P12/ }/ 、/ P8/ 、/ P9/ 、/ P7/ 、/ P2/ 、/ {/ P1/ 、/ P10/ }/ 、/ P5/ 、/ P6/ 、/ P3/ 、/ P0/ ,/ 结果/ 如图/ 11/ 所示/ ,/ 加工/ 总用/ 时/ 为/ 180/ ./ 文献/ [/ 5/ ]/ 之所以/ 比/ 文献/ [/ 3/ ]/ 调度/ 效果/ 好/ ,/ 是因为/ 文献/ [/ 3/ ]/ 算法/ 在/ 调度/ 工序/ 时先/ 确定/ 调度/ 次序/ ,/ 次序/ 靠/ 后/ 的/ 工序/ 只能/ 在/ 剩余/ 的/ 空闲/ 时间段/ 中/ 寻找/ 合适/ 的/ 位置/ ,/ 由此/ 会/ 产生/ 不可/ 被/ 利用/ 的/ 空闲/ 时间段/ ,/ 例如/ ,/ 图/ 10/ 中/ ,/ 工序/ P2/ 前/ 的/ 空闲/ 时间段/ (/ 0/ ~/ 20/ )/ ,/ 不能/ 被/ 后续/ 工序/ 使用/ ,/ 造成/ 设备/ 资源/ M1/ 的/ 浪费/ ,/ 影响/ 了/ 调度/ 效率/ ./ Page9/ 当/ M1/ 的/ 批处理/ 量/ 为/ 2/ ,/ 利用/ 本文/ 算法/ 处理/ M1/ 的/ 批处理/ 量/ 为/ 2/ 的/ 情况/ 时/ ,/ 调度/ 结果/ 如图/ 12/ 所示/ ,/ 加工/ 总用/ 时/ 为/ 160/ ./ 由于/ 文献/ [/ 10/ -/ 11/ ]/ 只/ 适用/ 于/ 批处理/ 量/ 为/ 2/ 的/ 情况/ ,/ 且/ 无法/ 解决/ 本例/ 中/ P5/ 与/ P10/ (/ 紧前/ 工序/ 大于/ 1/ )/ 的/ 情况/ ./ 而/ 本文/ 算法/ 由于/ 采用/ 工序/ 分类/ ,/ 使准/ 可/ 调度/ 工序/ 成为/ 批处理/ 工序/ 时/ ,/ 无需/ 考虑/ 前续/ 工序/ 对/ 工序/ 批处理/ 的/ 影响/ ,/ 即/ 对/ 批处理/ 工序/ 的/ 紧前/ 工序/ 数无/ 限制/ ,/ 由此可知/ 本文/ 算法/ 有利于/ 解决/ 类表/ 2/ 信号/ 驱动/ 时刻/ 调度/ 过程/ 表/ 时间/ 01020303540508095120135/ 选择/ :/ P4/ 设备/ 忙碌/ A/ :/ P9/ ,/ P13A/ :/ P9/ ,/ P13/ 选择/ :/ P9A/ :/ P13/ 设备/ 忙碌/ A/ :/ P13/ 选择/ :/ P13/ 设备/ 忙碌/ A/ :/ 空/ A/ :/ 空/ A/ :/ P3/ 选择/ :/ P6A/ :/ 空/ A/ :/ P0/ 选择/ :/ P0/ 似/ 本例/ 中/ P5/ 与/ P10/ 紧前/ 工序/ 大于/ 1/ 的/ 批处理/ 问题/ ./ 因此/ ,/ 本文/ 算法/ 在/ 解决/ 处理量/ 为/ 2/ 的/ 综合/ 调度/ 问题/ 时/ ,/ 比/ 以往/ 算法/ 应用/ 范围/ 更广/ ./ 对于/ 批处理/ 量/ 大于/ 2/ 的/ 批处理/ 调度/ 问题/ ,/ 是/ 本文/ 算法/ 的/ 重点/ ./ 当/ M1/ 的/ 批处理/ 量/ 为/ 3/ ,/ 采用/ 本文/ 提出/ 的/ 算法/ 进行/ 处理/ 的/ 过程/ 如表/ 2/ 所示/ ,/ 调度/ 结果/ 甘特图/ 如图/ 13/ 所示/ ./ Page10/ 图/ 12/ 批处理/ 量/ 为/ 2/ 时/ 本文/ 算法/ 调度/ 结果/ 甘特图/ 图/ 13/ 批处理/ 量/ 为/ 3/ 时/ 本文/ 算法/ 调度/ 结果/ 甘特图/ 由表/ 2/ 和/ 图/ 13/ 知/ ,/ 在/ 本例/ 的/ 处理过程/ 中/ ,/ P7/ 和/ P11/ 满足/ AA/ 类型/ 的/ 组合/ 策略/ ,/ 形成/ 2/ 个/ 工序/ 的/ 批处理/ 组/ P7/ ,/ 11/ ;/ 在/ 加工/ 时间/ 为/ 20/ 时/ ,/ P2/ 和/ P5/ 满足/ AB/ 类型/ 的/ 组合/ 策略/ ,/ 形成/ 准可/ 调度/ 工序/ P2/ ,/ 5/ ,/ 在/ 加工/ 时间/ 为/ 40/ 时/ ,/ P10/ 和/ P2/ ,/ 5/ 满足/ AB/ 类型/ 的/ 组合/ 策略/ 形成/ 3/ 个/ 工序/ 的/ 批处理/ 组/ P2/ ,/ 5/ ,/ 10/ ./ 通过/ 实例/ 分析/ ,/ 说明/ 本文/ 算法/ 可以/ 有效/ 解决/ 批处理/ 量/ 大于/ 2/ 的/ 多/ 批处理/ 问题/ ,/ 当/ 循环/ 使用/ 本文/ 的/ 批处理/ 组合/ 策略/ ,/ 本文/ 算法/ 可以/ 解决/ 批处理/ 量/ 更/ 多/ 的/ 问题/ ./ 7/ 结论/ 本文/ 针对/ 以往/ 综合/ 调度/ 中/ 批处理/ 调度/ 算法/ 只能/ 处理/ 2/ 个/ 工序/ 的/ 批量/ 调度/ ,/ 进行/ 批量/ 调度/ 的/ 工序/ 不能/ 具有/ 2/ 个/ 以上/ 的/ 紧前/ 工序/ ,/ 使/ 综合/ 调度/ 具有/ 局限性/ 问题/ ,/ 创新/ 提出/ 基于/ 信号/ 驱动/ 的/ 多/ 批处理/ 综合/ 调度/ 算法/ ./ 理论/ 分析/ 和/ 实例/ 表明/ :/ 度/ 系统/ ,/ 而且/ 使/ 调度/ 系统/ 具有/ 实时性/ ./ (/ 1/ )/ 利用/ 两个/ 子系统/ 间/ 信号/ 传递/ ,/ 不仅/ 便于/ 调/ (/ 2/ )/ 利用/ 信号/ 驱动/ 和/ 批处理/ 组合/ 策略/ ,/ 实现/ 了/ 多个/ 工序/ 的/ 批量/ 调度/ 和/ 具有/ 2/ 个/ 以上/ 的/ 紧前/ 工序/ 的/ 批量/ 调度/ ./ (/ 3/ )/ 采用/ 所/ 设计/ 的/ 组合/ 策略/ 和/ 最大/ 并行性/ 选择/ 策略/ 进行/ 多/ 批处理/ 的/ 复杂度/ 只有/ 2/ 次/ 多项式/ ./ 因此/ ,/ 本文/ 提出/ 的/ 算法/ 不仅/ 扩大/ 了/ 解决/ 批/ 综合/ 调度/ 问题/ 的/ 范围/ ,/ 而且/ 算法/ 简单/ 实用/ ,/ 对/ 深入研究/ 综合/ 批处理/ 调度/ 问题/ 具有/ 一定/ 的/ 理论/ 和/ 实际意义/ ./ 

