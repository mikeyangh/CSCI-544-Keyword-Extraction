Page1/ 犔/ (/ 犽/ )/ -/ index/ :/ 一种/ 支持/ 标签/ 路径/ 的/ 高效/ 犽/ 双/ 拟/ 结构/ 索引/ 李晓光/ 1/ )/ 宋宝燕/ 1/ )/ 于戈/ 2/ )/ 王大玲/ 2/ )/ 1/ )/ (/ 辽宁大学/ 信息/ 学院/ 沈阳/ 110036/ )/ 2/ )/ (/ 东北大学/ 信息科学/ 与/ 工程学院/ 沈阳/ 110004/ )/ 摘要/ 针对/ 基于/ k/ 双拟/ 的/ 结构/ 索引/ 创建/ 和/ 更新/ 低效/ 问题/ 、/ 查询/ 结果/ 重复/ 验证/ 问题/ 以及/ 标签/ 路径/ 不可/ 获得性/ 问题/ ,/ 提出/ 了/ 一种/ 新/ 的/ 结构/ 索引/ L/ (/ k/ )/ -/ index/ ./ L/ (/ k/ )/ -/ index/ 通过/ 引入/ 标签/ 路径/ ,/ 在/ 创建/ 时/ 无须/ k/ 次/ 遍历/ 原/ 数据/ ,/ 并/ 采取/ 批量/ 更新/ 策略/ ,/ 大大提高/ 索引/ 创建/ 和/ 更新/ 的/ 效率/ ,/ 而/ 在/ 空间/ 上仅/ 有/ 很小/ 增加/ ./ 对于/ 长度/ 大于/ k/ +/ 1/ 的/ 路径/ 查询/ ,/ L/ (/ k/ )/ -/ index/ 无须/ 访问/ 原/ 数据/ 进行/ 验证/ ,/ 并/ 支持/ 批量/ 节点/ 的/ 标签/ 路径/ 获得/ ./ 通过/ 大量/ 实验/ 表明/ ,/ 同/ A/ (/ k/ )/ -/ index/ 相比/ ,/ L/ (/ k/ )/ -/ index/ 创建/ 时间/ 平均/ 提高/ 66.7/ %/ ,/ 查询处理/ 时间/ 效率/ 平均/ 提高/ 68.9/ %/ ,/ 批量/ 更新/ 效率/ 平均/ 每/ 节点/ 提高/ 58.8/ %/ ,/ 而/ 空间/ 仅/ 增加/ 22.5/ %/ ./ 关键词/ k/ 双拟/ 结构/ 索引/ ;/ XML/ 索引/ ;/ 标签/ 路径/ ;/ XML/ 查询/ ;/ XML/ 检索/ 1/ 引言/ 在/ XML/ 数据库/ 领域/ 中/ ,/ 作为/ 提高/ XML/ 查询/ 效率/ 的/ 重要/ 技术/ 之一/ ,/ 结构/ 索引/ (/ structuralsummary/ )/ 一直/ 以来/ 是/ 研究/ 人员/ 所/ 关注/ 的/ 研究/ 方向/ ./ 结构/ 索引/ 通过/ 对/ 路径/ 压缩/ ,/ 建立/ 一个/ 远/ 小于/ 原/ XML/ 数据/ 的/ 图/ 结构/ ,/ 并/ 通过/ 遍历/ 索引/ 来/ 提高/ 查询/ 中/ 路径/ 信息/ 的/ 处理/ 效率/ ./ 目前/ ,/ 典型/ 结构/ 索引/ 有/ DataGuide/ [/ 1/ ]/ 、/ 1/ -/ index/ [/ 2/ ]/ 、/ A/ (/ k/ )/ -/ index/ [/ 3/ ]/ 、/ D/ (/ k/ )/ -/ index/ [/ 4/ ]/ 等/ ./ 1/ -/ index/ 、/ A/ (/ k/ )/ -/ index/ 和/ D/ (/ k/ )/ -/ index/ 均/ 为/ 基于/ k/ 双拟/ (/ k/ -/ bisimilarity/ )/ 的/ 结构/ 索引/ ,/ 索引/ 通过/ 对/ 局部/ 路径/ 信息/ 合并/ ,/ 大大降低/ DataGuide/ 索引/ 节点/ 冗余/ ./ 当/ 查询/ 路径/ 长度/ 大于/ k/ 时/ ,/ 基于/ k/ 双拟/ 的/ 结构/ 索引/ 是非/ 准确/ 的/ ,/ 必须/ 在/ 原/ XML/ 数据/ 上/ 进行/ 验证/ ./ 目前/ 方法/ 在/ 索引/ 构建/ 时/ 对/ 索引/ 节点/ 分裂/ 要求/ 能够/ 判断/ 任意/ 一对/ 节点/ 的/ 父子关系/ ,/ 导致/ 频繁/ 遍历/ 原/ 数据/ ./ 特别/ 是/ 对于/ 大规模/ XML/ 数据/ 来说/ ,/ 其/ 创建/ 时间/ 远远/ 超过/ 用户/ 容忍/ 程度/ ./ 另外/ ,/ 随着/ XML/ 数据/ 信息/ 获取/ 技术/ 的/ 发展/ ,/ 特别/ 是/ 在/ XML/ 检索/ 和/ XML/ 非/ 完全/ 结构/ 查询/ 中/ ,/ 要求/ 结构/ 索引/ 在/ 返回/ 给定/ 路径/ 下/ 的/ 节点/ 集合/ 的/ 同时/ ,/ 还/ 需要/ 返回/ 节点/ 的/ 完全/ 标签/ 路径/ ./ 然而/ 迄今为止/ ,/ 基于/ k/ 双拟/ 的/ 结构/ 索引/ 设计/ 目的/ 是/ 提高/ 路径/ 查询/ 效率/ ,/ 并/ 不/ 支持/ 节点/ 完全/ 标签/ 路径/ 的/ 获得/ ./ PE/ 索引/ [/ 5/ ]/ 是/ 我们/ 前期工作/ 提出/ 的/ 一种/ 基于/ 树/ 模型/ 的/ 结构/ 索引/ ,/ 其/ 设计/ 目标/ 是/ 在/ 支持/ 路径/ 查询/ 的/ 基础/ 上/ ,/ 同时/ 支持/ 标签/ 路径/ 获得/ 和/ 节点/ k/ 祖先/ 的/ 计算/ ./ 但/ 由于/ PE/ 索引/ 借鉴/ 了/ StrongDataGuide/ 和/ 1/ -/ index/ 的/ 设计/ 思想/ ,/ 导致/ 大量/ 冗余/ 现象/ 的/ 存在/ ./ 针对/ 目前/ 基于/ k/ 双拟/ 的/ 结构/ 索引/ 创建/ 和/ 更新/ 低效/ 问题/ 、/ 查询/ 结果/ 重/ 验证/ 问题/ 以及/ 标签/ 路径/ 不可/ 获得性/ 问题/ ,/ 本文/ 提出/ 一种/ 新/ 的/ 基于/ k/ 双拟/ 结构/ 索引/ L/ (/ k/ )/ -/ index/ ./ 主要/ 贡献/ 点有/ :/ (/ 1/ )/ 通过/ 引入/ 标签/ 路径/ ,/ 使得/ L/ (/ k/ )/ -/ index/ 在/ L/ (/ k/ -/ 1/ )/ -/ index/ 基础/ 上/ 直接/ 获得/ ,/ 无须/ k/ 次/ 遍历/ 原/ XML/ 数据/ ;/ (/ 2/ )/ 采用/ 批量/ 计算/ 节点/ 后继/ 和/ 批量/ 更新/ 策略/ ,/ 大大提高/ 索引/ 创建/ 和/ 更新/ 效率/ ;/ (/ 3/ )/ 当/ 对于/ 长度/ 大于/ k/ +/ 1/ 的/ 路径/ 查询/ 时/ ,/ L/ (/ k/ )/ -/ index/ 无须/ 访问/ 原/ 数据/ 进行/ 验证/ ,/ 从而/ 大幅提高/ 查询处理/ 效率/ ./ 通过/ 大量/ 实验/ ,/ 同/ A/ (/ k/ )/ -/ index/ 相比/ ,/ L/ (/ k/ )/ -/ index/ 的/ 创建/ 时间/ 平均/ 提高/ 了/ 66.7/ %/ ./ 查询处理/ 时间/ 效率/ 平均/ 提高/ 了/ 68.9/ %/ ,/ 而/ 空间/ 仅/ 增加/ 了/ 22.5/ %/ ,/ 批量/ 更新/ 效率/ 平均/ 每/ 节点/ 提高/ 58.8/ %/ ./ 本文/ 第/ 2/ 节/ 介绍/ 典型/ 的/ 基于/ k/ 双拟/ 结构/ 索引/ A/ (/ k/ )/ -/ index/ 并/ 详细分析/ 其/ 存在/ 的/ 不足/ ;/ 第/ 3/ 节/ 给出/ L/ (/ k/ )/ -/ index/ 的/ 结构/ 、/ 性质/ 以及/ 查询处理/ 方法/ ;/ 第/ 4/ 节/ 给出/ L/ (/ k/ )/ -/ index/ 创建/ 方法/ 和/ 索引/ 更新/ 方法/ ;/ 第/ 5/ 节在/ 标准/ 数据/ 集/ 和/ 实际/ 数据/ 集上/ 测试/ L/ (/ k/ )/ -/ index/ 的/ 性能/ ,/ 并同/ A/ (/ k/ )/ -/ index/ 进行/ 实验/ 比较/ ;/ 第/ 6/ 节/ 给出/ 相关/ 工作/ ;/ 最后/ ,/ 第/ 7/ 节是/ 全文/ 总结/ ./ 2/ 基于/ 犽/ 双/ 拟/ 的/ 结构/ 索引/ 目前/ 典型/ 的/ 基于/ k/ 双拟/ 的/ 结构/ 索引/ 有/ 1/ -/ index/ ,/ A/ (/ k/ )/ -/ index/ 和/ D/ (/ k/ )/ -/ index/ ./ 实际上/ ,/ 当/ k/ 达到/ 足够/ 大时/ ,/ A/ (/ k/ )/ -/ index/ 等价/ 于/ 1/ -/ index/ ,/ 而/ D/ (/ k/ )/ -/ index/ 考虑/ 不同/ k/ 值/ ,/ 但/ 结构/ 上/ 仍/ 类似/ 于/ A/ (/ k/ )/ -/ index/ ./ 这里/ 我们/ 以/ A/ (/ k/ )/ -/ index/ 为例/ 对/ 基于/ k/ 双拟/ 的/ 结构/ 索引/ 进行/ 阐述/ 并/ 分析/ 其/ 存在/ 问题/ ./ 定义/ 1/ ./ k/ 双拟/ (/ ≈/ k/ )/ ./ 给定/ XML/ 文档/ 节点/ u/ 和/ v/ ./ (/ 1/ )/ 如果/ u/ 和/ v/ 的/ 标签/ 相同/ ,/ 则/ u/ ≈/ 0v/ ./ (/ 2/ )/ 如果/ u/ ≈/ k/ -/ 1v/ ,/ 且/ 对/ 所有/ u/ 父/ 节点/ u/ ,/ 存在/ v/ 父/ 节点/ v/ 满足/ u/ ≈/ k/ -/ 1v/ ,/ 反之亦然/ ,/ 则/ u/ ≈/ kv/ ./ A/ (/ k/ )/ -/ index/ 为/ 一个/ 图/ ,/ 图中/ 节点/ 为/ 索引/ 节点/ ,/ 其/ 代表/ 符合/ k/ 双拟/ 关系/ 的/ 节点/ 集合/ ./ 在/ 两个/ 索引/ 节点/ 中/ 的/ 节点/ ,/ 如果/ 存在/ 任意/ 两个/ 节点/ 为/ 父子关系/ ,/ 则/ 这/ 两个/ 索引/ 节点/ 存在/ 一条/ 边/ ./ A/ (/ k/ )/ -/ index/ 存在/ 以下/ 问题/ :/ (/ 1/ )/ 当/ 查询/ 标签/ 路径/ 长度/ 小于/ 或/ 等于/ k/ +/ 1/ 时/ ,/ A/ (/ k/ )/ -/ index/ 是/ 准确/ 的/ (/ precise/ )/ 和/ 安全/ 的/ (/ safe/ )/ ,/ 而/ 当/ 长度/ 大于/ k/ +/ 1/ 时/ ,/ 是/ 安全/ 的/ 但/ 非/ 准确/ 的/ ,/ 也就是说/ ,/ 必须/ 遍历/ 原/ 数据/ 以/ 验证/ 结果/ ;/ (/ 2/ )/ A/ (/ k/ )/ -/ index/ 的/ 构建/ 是从/ k/ =/ 0/ 开始/ ,/ 对/ 每个/ 索引/ 节点/ 中/ 的/ 节点/ ,/ 计算/ 直接/ 后继/ ,/ 并/ 以此/ 分裂/ 其他/ 索引/ 节点/ ,/ 直至/ 不/ 存在/ 分裂/ 或/ 达到/ k/ 值/ ,/ 其/ 时间/ 复杂度/ 为/ O/ (/ (/ k/ +/ 1/ )/ n/ )/ ,/ n/ 为/ 节点/ 数/ ./ 对于/ 大规模/ 文档/ ,/ 索引/ 创建/ 时间/ 长/ ;/ (/ 3/ )/ 由于/ 对/ 局部/ 路径/ 进行/ 合并/ ,/ 无法/ 通过/ 遍历/ 索引/ 来/ 获得/ 节点/ 的/ 完全/ 标签/ 路径/ ./ 为了/ 确定/ 节点/ 的/ 完全/ 标签/ 路径/ ,/ 则/ 必须/ 对/ 每个/ 节点/ 在/ 原/ 数据/ 中/ 验证/ ;/ (/ 4/ )/ 不/ 支持/ 索引/ 增量/ 更新/ ./ 针对/ 上述/ 问题/ ,/ 本文/ 提出/ 一种/ 新/ 的/ 基于/ k/ 双拟/ 结构/ 索引/ L/ (/ k/ )/ -/ index/ ,/ 通过/ 引入/ 标签/ 路径/ ,/ 索引/ 在/ 分裂/ 时/ 无须/ 依次/ 访问/ 每个/ 节点/ 计算/ 后继/ ,/ 而是/ 在/ L/ (/ 0/ )/ -/ index/ 上/ 直接/ 得到/ ,/ 并/ 提出/ 一种/ 批量/ 更新/ 策略/ ./ 当/ 对于/ 长度/ 大于/ k/ +/ 1/ 的/ 路径/ 查询/ 时/ ,/ L/ (/ k/ )/ -/ index/ 索引/ 无须/ 验证/ 即可/ 得到/ 准确/ 和/ 安全/ 的/ 结果/ ./ 3/ 基于/ 犽/ 双/ 拟/ 的/ 结构/ 索引/ 犔/ (/ 犽/ )/ -/ index3/ ./ 1/ 基本概念/ 与/ 定义/ 这里/ 将/ XML/ 文档/ T/ 的/ 数据模型/ 定义/ 为/ 有/ 向/ 无/ Page3/ 环图/ G/ =/ (/ V/ ,/ E/ ,/ r/ ,/ Σ/ ,/ label/ ,/ oid/ ,/ value/ )/ ./ V/ 为/ T/ 中/ 节点/ 集合/ ,/ V/ =/ Vn/ ∪/ Vl/ ,/ Vn/ 为/ 非值/ 节点/ 集合/ ,/ Vl/ 为值/ 节点/ 集合/ ./ E/ 为/ 弧/ 集合/ ,/ 其中/ 对于/ 节点/ 引用/ 关系/ (/ IDREF/ ,/ XLink/ )/ 称为/ 引用/ 弧/ ,/ 节点/ 嵌套/ 关系/ 为/ 父子/ 弧/ ./ r/ 为根/ 节点/ ./ Σ/ 为/ 节点/ 标签/ 集合/ ,/ oid/ 为/ 节点/ 唯一/ 标识/ ./ label/ 为/ 非值/ 节点/ 标签/ 函数/ ,/ 即/ label/ :/ oid/ →/ Σ/ ./ value/ 为值/ 节点/ 值/ 函数/ ,/ 即/ value/ :/ oid/ →/ string/ ./ 定义/ 2/ ./ 节点/ 路径/ ./ 图/ G/ 中/ 一条/ 长度/ 为/ n/ 的/ 节点/ 路径/ 为/ 一个/ 节点/ 序列/ (/ u1/ ,/ u2/ ,/ …/ ,/ un/ )/ ,/ 其中/ 对/ 任意/ 一对/ 相邻/ 的/ 节点/ ui/ 和/ ui/ +/ 1/ 满足/ 〈/ ui/ ,/ ui/ +/ 1/ 〉/ ∈/ E/ ./ 定义/ 3/ ./ 标签/ 路径/ ./ 给定/ 一个/ 节点/ 路径/ (/ u1/ ,/ u2/ ,/ …/ ,/ un/ )/ ,/ 其/ 标签/ 路径/ 为/ 节点/ 标签/ 序列/ lp/ =/ (/ l1/ ,/ l2/ ,/ …/ ,/ ln/ )/ ,/ 其中/ li/ =/ label/ (/ ui/ )/ ,/ i/ =/ 1/ ~/ n/ ,/ 称/ lp/ 为/ 节点/ un/ 的/ 标签/ 路径/ ./ 如果/ u1/ =/ r/ ,/ 则/ 称/ lp/ 为/ 节点/ un/ 的/ 完全/ 标签/ 路径/ ./ 标签/ 路径/ (/ ln/ -/ k/ ,/ ln/ -/ k/ +/ 1/ ,/ …/ ,/ ln/ )/ 称为/ 节点/ un/ 的/ k/ 标签/ 路径/ ./ 如果/ 标签/ 路径/ lp/ 是/ 节点/ 路径/ np/ 的/ 标签/ 路径/ ,/ 则/ 称/ 节点/ 路径/ np/ 匹配/ 标签/ 路径/ lp/ ./ 对于/ 节点/ u/ 和/ 标签/ 路径/ lp/ ,/ 如果/ 存在/ 以/ u/ 为/ 终点/ 的/ 节点/ 路径/ ,/ 且/ 路径/ 匹配/ lp/ ,/ 则/ 称/ 节点/ u/ 匹配/ 标签/ 路径/ lp/ ./ 3.2/ 犔/ (/ 犽/ )/ -/ index/ 索引/ 结构/ 为了/ 能够/ 获得/ 节点/ 的/ 完全/ 标签/ 路径/ ,/ 为/ 每个/ 索引/ 节点/ 分配/ 唯一/ 索引/ 标识/ (/ indexnodeID/ ,/ IID/ )/ ,/ 并/ 采用/ dewey/ 编码/ [/ 6/ ]/ 方式/ 为/ 索引/ 中/ 标签/ 路径/ 进行/ 编码/ ./ 定义/ L/ (/ k/ )/ -/ index/ 为/ 有/ 向/ 无/ 环图/ I/ =/ (/ IV/ ,/ IE/ ,/ IID/ ,/ EXT/ ,/ Σ/ I/ ,/ label/ _/ i/ )/ ./ IV/ 为/ 索引/ 节点/ 集合/ ,/ IE/ 为/ 弧/ 集合/ ,/ IID/ 为/ 索引/ 节点/ 标识符/ 集合/ ./ label/ _/ i/ 为/ 获得/ 索引/ 节点/ 标签/ 的/ 函数/ ,/ 即/ label/ _/ i/ :/ IID/ →/ Σ/ I/ ,/ Σ/ I/ 为/ 索引/ 节点/ 标签/ 集合/ ./ EXT/ 为/ 索引/ 节点/ 的/ 扩展/ 集合/ ./ 给定/ 索引/ 节点/ A/ ∈/ IV/ ,/ 其/ 扩展/ 集合/ extI/ (/ A/ )/ ∈/ EXT/ 中/ 的/ 索引/ 元素/ e/ ∈/ extI/ (/ A/ )/ 为/ 一个二元/ 组/ (/ PID/ ,/ Ne/ )/ ,/ 其中/ PID/ 为/ 节点/ 的/ 完全/ 标签/ 路径/ 编码/ 集合/ ./ 完全/ 标签/ 路径/ 编码/ (/ pid/ )/ 是/ 由/ iid/ ∈/ IID/ 构成/ 的/ 序图/ 2/ 图/ 1/ 中/ XML/ 文档/ 的/ L/ (/ 1/ )/ -/ index/ 列/ ,/ 代表/ 了/ 节点/ 的/ 完全/ 标签/ 路径/ ./ pid/ 类似/ 于/ dewey/ 编码/ ,/ 即/ 如果/ 节点/ u/ 是/ 节点/ v/ 的/ 祖先/ ,/ 则/ 节点/ u/ 的/ pid/ 为/ 节点/ v/ 的/ pid/ 的/ 前缀/ ./ “/ |/ ·/ |/ ”/ 代表/ 取/ pid/ 的/ 长度/ ,/ 即/ 序列/ 中/ iid/ 的/ 个数/ ./ Ne/ 为/ 节点/ 集合/ ,/ Ne/ =/ {/ u/ ∈/ Vn/ |/ / u/ ,/ v/ ∈/ Ne/ ,/ u/ ,/ v/ 具有/ 相同/ 的/ PID/ }/ ,/ 且/ 对于/ 任意/ 一对/ 节点/ u/ ,/ v/ ∈/ {/ u/ ∈/ e/ ./ Ne/ |/ e/ ∈/ extI/ (/ A/ )/ }/ 来说/ ,/ 节点/ u/ 和/ v/ 满足/ k/ 双拟/ ./ 图/ 2/ 为/ 图/ 1/ 中/ 的/ XML/ 文档/ 的/ L/ (/ 1/ )/ -/ index/ ,/ 其中/ 圆圈/ 中/ 的/ 字符/ 为/ 索引/ 节点/ 标签/ ,/ i0/ ~/ i17/ 为/ 索引/ 节点/ 的/ iid/ ,/ 括号/ 代表/ 索引/ 节点/ 的/ 扩展/ 集合/ 中/ 的/ 元素/ ,/ 元素/ 包含/ PID/ 和/ 该/ PID/ 下/ 的/ 节点/ 集合/ ./ 以图/ 2/ 中/ 的/ 索引/ 节点/ “/ H/ ”/ (/ iid/ =/ i10/ )/ 为例/ ,/ 其/ 扩展/ 集合/ 包含/ 了/ 两个/ 元素/ (/ {/ i0/ ./ i1/ ./ i2/ ./ i6/ ./ i10/ ,/ i0/ ./ i1/ ./ i4/ ./ i8/ ./ i15/ ./ i6/ ./ i10/ }/ ,/ {/ 13/ }/ )/ 和/ (/ {/ i0/ ./ i1/ ./ i2/ ./ i5/ ./ i10/ }/ ,/ {/ 11/ }/ )/ ,/ 其中/ 第一个/ 索引/ 元素/ 中/ 满足/ 该/ PID/ 且/ 符合/ 1/ 双拟/ 关系/ 的/ 有/ {/ 13/ }/ ./ PID/ 集合/ 中有/ 两个/ pid/ ,/ 分别/ 代表/ 节点/ 13/ 的/ 两条/ 完全/ 标签/ 路径/ R/ ./ A/ ./ B/ ./ E/ ./ H/ 和/ R/ ./ A/ ./ D/ ./ G/ ./ L/ ./ E/ ./ H/ ,/ 且/ |/ i0/ ./ i1/ ./ i2/ ./ i6/ ./ i10/ |/ =/ 5/ ,/ |/ i0/ ./ i1/ ./ i4/ ./ i8/ ./ i15/ ./ i6/ ./ i10/ |/ =/ 7/ ./ 第/ 2/ 个/ 索引/ 元素/ 中/ 满足/ 该/ PID/ 且/ 符合/ 1/ 双拟/ 关系/ 的/ 有/ {/ 11/ }/ ./ PID/ 集合/ 中有/ 一个/ pid/ ,/ 代表/ 节点/ 11/ 的/ 完全/ 标签/ 路径/ R/ ./ A/ ./ B/ ./ E/ ./ H/ ./ 那么/ 在/ “/ H/ ”/ (/ iid/ =/ i10/ )/ 索引/ 节点/ 中/ 符合/ 1/ 双拟/ 关系/ 的/ 有/ {/ 11/ ,/ 13/ }/ ./ Page4/ 性质/ 1/ ./ 对于/ 节点/ u/ 和/ v/ ,/ 设其/ pid/ 分别/ 为/ pidu/ 和/ pidv/ ,/ 如果/ u/ 是/ v/ 的/ 后继/ ,/ 则/ pidv/ 是/ pidu/ 的/ 前缀/ 且/ |/ pidu/ |/ =/ |/ pidv/ |/ +/ 1/ ./ 性质/ 2/ ./ 设/ 索引/ 节点/ A/ ,/ 对/ 其/ 任意/ 一对/ 元素/ e/ 和/ e/ ,/ 则/ 它们/ 的/ k/ +/ 1/ 标签/ 路径/ 集合/ 相同/ ,/ 即/ 对于/ 任意/ pid/ ∈/ e/ ./ PID/ ,/ pid/ =/ iid1/ ./ iid2/ …/ iidn/ ,/ 存在/ pid/ ∈/ e/ ./ PID/ ,/ pid/ =/ iid1/ ./ iid2/ …/ iidm/ ,/ 满足/ / i1/ ,/ i2/ ,/ n/ -/ i1/ =/ m/ -/ i2/ =/ k/ 且/ 对/ 连续/ 的/ i1/ =/ i1/ ~/ n/ 和/ i2/ =/ i2/ ~/ m/ ,/ 有/ label/ _/ i/ (/ iidi1/ )/ =/ label/ _/ i/ (/ iidi2/ )/ ,/ 反之亦然/ ./ 性质/ 3/ ./ 对/ 任意/ 元素/ e/ ,/ 其/ k/ +/ 1/ 标签/ 路径/ 集合/ 中/ 元素/ 数量/ 小于/ 或/ 等于/ e/ ./ PID/ 的/ 元素/ 数量/ ./ 根据/ pid/ 以及/ k/ 双拟/ 的/ 定义/ ,/ 我们/ 容易/ 证明/ 性质/ 1/ ~/ 性质/ 3/ ,/ 由于/ 空间/ 所/ 限/ ,/ 证明/ 略/ ./ 性质/ 4/ ./ 给定/ 索引/ 节点/ A/ 和/ B/ ,/ 索引/ 元素/ e/ ∈/ ext/ (/ A/ )/ 和/ e/ ∈/ ext/ (/ B/ )/ ,/ 则/ 当/ 满足/ 如下/ 条件/ 时/ ,/ e/ ./ Ne/ 中/ 节点/ 为/ e/ ./ Ne/ 中/ 节点/ 的/ 后继/ :/ (/ 1/ )/ 对/ 任意/ pid/ ∈/ e/ ./ PID/ ,/ 存在/ pid/ ∈/ e/ ./ PID/ ,/ 使得/ pid/ 是/ pid/ 的/ 前缀/ 且/ |/ pid/ |/ =/ |/ pid/ |/ +/ 1/ ./ (/ 2/ )/ 不/ 存在/ 索引/ 元素/ e/ ∈/ ext/ (/ A/ )/ ,/ 使得/ e/ 满足条件/ (/ 1/ )/ 且/ e/ ./ PID/ 集合/ 元素/ 个数/ 大于/ e/ ./ PID/ ./ 证明/ (/ 必要性/ )/ ./ 首先/ ,/ 孩子/ 的/ 完全/ 标签/ 路径/ 数量/ 必然/ 大于/ 或/ 等于/ 父亲/ 的/ 完全/ 标签/ 路径/ 数量/ ./ 结合/ 性质/ 1/ 可得/ ,/ 如果/ e/ ./ Ne/ 中/ 的/ 节点/ 为/ e/ ./ Ne/ 中/ 节点/ 的/ 后继/ ,/ 则/ 条件/ (/ 1/ )/ 成立/ ./ 根据/ 性质/ 2/ 和/ 性质/ 3/ ,/ 同一/ 索引/ 节点/ 中/ 任意/ 元素/ 的/ k/ +/ 1/ 标签/ 路径/ 集合/ 是/ 相同/ 的/ ,/ 但/ PID/ 可/ 不同/ ,/ 存在/ 元素/ PID/ 之间/ 的/ 包含/ 关系/ ./ 那么/ 如果/ 存在/ e/ ,/ 其/ PID/ 与/ 元素/ e/ 的/ PID/ 满足条件/ (/ 1/ )/ ,/ 则/ 对于/ e/ 的/ PID/ 子集/ 也/ 必然/ 满足条件/ (/ 1/ )/ ,/ 因此/ 条件/ (/ 2/ )/ 成立/ ./ (/ 充分性/ )/ ./ 采用/ 反证法/ ./ 根据/ L/ (/ k/ )/ -/ index/ 定义/ 可知/ ,/ 索引/ 元素/ 中/ 节点/ 的/ PID/ 相同/ ,/ 那么/ 其/ 父亲/ 节点/ 的/ PID/ 必然/ 相同/ 且/ 属于/ 同一个/ 元素/ ./ 如果/ 条件/ (/ 1/ )/ 和/ (/ 2/ )/ 满足/ ,/ 设/ e/ ./ Ne/ 中/ 节点/ 不是/ e/ ./ Ne/ 中/ 节点/ 的/ 后继/ ,/ 即/ 存在/ u/ ∈/ e/ ./ Ne/ 为/ 满足条件/ (/ 1/ )/ 和/ (/ 2/ )/ 的/ 节点/ 但/ 其/ 父亲/ u/ / e/ ./ Ne/ ,/ 则/ u/ 的/ PID/ 必然/ 与/ e/ ./ Ne/ 其他/ 节点/ PID/ 相同/ ,/ 却/ 不/ 属于/ 同一/ 元素/ ,/ 与/ L/ (/ k/ )/ -/ index/ 定义/ 相悖/ ./ 定理/ 1/ ./ 同/ A/ (/ k/ )/ -/ index/ 相比/ ,/ L/ (/ k/ )/ -/ index/ 空间/ 复杂度/ 平均/ 增加/ 了/ O/ (/ m/ )/ ,/ m/ 为/ 索引/ 结点/ 平均/ 完全/ 标签/ 路径/ 数/ ./ 证明/ ./ 从/ L/ (/ k/ )/ -/ index/ 的/ 定义/ 可以/ 看出/ ,/ 同/ A/ (/ k/ )/ -/ index/ 相比/ ,/ 每个/ 索引/ 节点/ 仅仅/ 增加/ 了/ 完全/ 标签/ 路径/ 信息/ ,/ 索引/ 节点/ 数/ 不变/ ,/ 因此/ L/ (/ k/ )/ -/ index/ 的/ 空间/ 复杂度/ 平均/ 增加/ 了/ O/ (/ m/ )/ ./ 3.3/ 查询处理/ 给定/ 查询/ 路径/ Q/ ,/ 在/ L/ (/ k/ )/ -/ index/ 上/ 获得/ 符合/ Q/ 的/ 节点/ 步骤/ 如下/ :/ (/ 1/ )/ 如果/ Q/ 长度/ 不/ 大于/ k/ +/ 1/ ,/ 则/ 遍历/ L/ (/ k/ )/ -/ index/ ,/ 查找/ 所有/ 符合/ Q/ 的/ 路径/ ,/ 并/ 将/ 路径/ 终端/ 的/ 索引/ 节点/ 中/ 的/ 节点/ 返回/ 即可/ ;/ (/ 2/ )/ 如果/ Q/ 的/ 长度/ 大于/ k/ +/ 1/ ,/ 则/ 从/ Q/ 终端/ 开始/ 截取/ 部分/ 长度/ 为/ k/ +/ 1/ 标签/ 路径/ Q/ ,/ 遍历/ L/ (/ k/ )/ -/ index/ ,/ 查找/ 所有/ 符合/ Q/ 索引/ 节点/ ,/ 对/ 索引/ 节点/ 中/ 每个/ 元素/ ,/ 利用/ 其/ PID/ 验证/ 是否/ 符合/ Q/ ./ 对于/ 查询/ 返回/ 结构/ 中/ 同一/ 元素/ 中/ 的/ 节点/ 集合/ ,/ 可以/ 根据/ 其/ PID/ 逆向/ 遍历/ 索引/ 所/ 得到/ 的/ 路径/ 为/ 该/ 集合/ 中/ 所有/ 节点/ 的/ 完全/ 标签/ 路径/ 集合/ ./ 定理/ 2/ ./ 对于/ 任意/ 长度/ 的/ 路径/ 查询/ ,/ L/ (/ k/ )/ -/ index/ 是/ 安全/ 的/ 和/ 准确/ 的/ ./ 证明/ ./ 显然/ ,/ 对于/ 第一种/ 情况/ ,/ 根据/ k/ 双拟/ 关系/ 定义/ ,/ 对于/ 任意/ 长度/ 的/ 路径/ 查询/ ,/ L/ (/ k/ )/ -/ index/ 是/ 安全/ 的/ 和/ 准确/ 的/ ./ 对于/ 第/ 2/ 种/ 情况/ ,/ 首先/ Q/ 的/ 长度/ 小于/ Q/ ,/ 则/ Q/ 的/ 查询/ 结果/ 是/ 查询/ Q/ 的/ 子集/ ,/ 根据/ L/ (/ k/ )/ -/ index/ 定义/ ,/ pid/ 代表/ 了/ 节点/ 的/ 完全/ 标签/ 路径/ ,/ 则/ 经过/ 验证/ ,/ 可以/ 保证/ 结果/ 的/ 准确/ ./ 证毕/ ./ 4/ 犔/ (/ 犽/ )/ -/ index/ 创建/ 与/ 更新/ 4.1/ 索引/ 创建/ 同/ A/ (/ k/ )/ -/ index/ 创建/ 类似/ ,/ L/ (/ k/ )/ -/ index/ 创建/ 基本/ 思想/ 是/ 通过/ 分裂/ k/ 双拟/ 索引/ 节点/ 来/ 获得/ (/ k/ +/ 1/ )/ 双拟/ ,/ 但/ L/ (/ k/ )/ -/ index/ 通过/ 计算/ 元素/ 中/ 节点/ 集合/ 的/ 后继/ 节点/ 集合/ 的/ 方式/ ,/ 大大提高/ 索引/ 创建/ 效率/ ./ 定理/ 3/ ./ 给定/ L/ (/ k/ )/ -/ index/ 索引/ 节点/ A/ ,/ 则/ 其/ 后继/ 节点/ 集合/ Succ/ (/ A/ )/ =/ {/ u/ |/ u/ ∈/ e/ ./ Ne/ ,/ e/ ∈/ extI/ (/ B/ )/ ,/ 索引/ 节点/ B/ 是/ A/ 的/ 后继/ 且/ 存在/ e/ ∈/ extI/ (/ A/ )/ ,/ 使得/ e/ 和/ e/ 满足/ 性质/ 4/ }/ ./ 证明/ ./ 根据/ 定理/ 2/ 可知/ ,/ 由于/ 基于/ k/ 双拟/ 的/ 结构/ 索引/ 保持/ 了/ 原/ XML/ 所有/ 的/ 路径/ 信息/ ,/ 也就是说/ 结构/ 索引/ 是/ 安全/ 的/ ./ 那么/ 对于/ 索引/ 节点/ A/ 中/ 的/ 节点/ 来说/ ,/ 其/ 后继/ 节点/ 肯定/ 存在/ 于/ A/ 的/ 后继/ 索引/ 节点/ 的/ 扩展/ 集合/ 中/ ./ 结合/ 性质/ 4/ ,/ 定理/ 3/ 得证/ ./ 证毕/ ./ L/ (/ k/ )/ -/ index/ 创建/ 算法/ 见/ 算法/ 1/ ./ 为了/ 满足/ 性质/ 4/ 中/ 的/ 条件/ (/ 2/ )/ ,/ 这里/ 索引/ 节点/ 中/ 的/ 元素/ 已/ 按照/ PID/ 集合/ 大小/ 非/ 递增/ 排序/ ./ 在步/ 12/ ~/ 18/ 的/ 分裂/ 过程/ 中/ ,/ 为/ 新/ 产生/ 的/ 索引/ 节点/ 赋予/ 新/ 的/ iid/ ,/ 并且/ 对/ 新/ 节点/ 的/ 扩展/ 节点/ 以及/ 其/ 所有/ 后继/ 节点/ 的/ pid/ 进行/ 依次/ 更新/ ./ 根据/ 定理/ 3/ ,/ 只/ 需/ 更新/ 分裂/ 节点/ 的/ 后继/ 节点/ 即可/ ./ 定理/ 4/ ./ LK/ _/ Create/ 算法/ 时间/ 复杂度/ 为/ O/ (/ n/ +/ Page5km/ )/ ,/ 其中/ n/ 为/ XML/ 节点/ 数/ ,/ m/ 为/ 完全/ 标签/ 路径/ 数/ ./ 证明/ ./ LK/ _/ Create/ 算法/ 中/ 计算/ 0/ -/ bisimiliarity/ 为/ 一次/ 遍历/ ,/ 时间/ 复杂度/ 为/ O/ (/ n/ )/ ./ 在/ 分裂/ 索引/ 节点/ 时/ ,/ 需要/ 分裂/ 的/ 节点/ 数最多/ 为/ 完全/ 标签/ 路径/ 数/ m/ 且/ 最/ 多/ 分裂/ k/ -/ 1/ 次/ ,/ 时间/ 复杂度/ 为/ O/ (/ km/ )/ ./ 综上所述/ ,/ LK/ _/ Create/ 算法/ 的/ 时间/ 复杂度/ 为/ O/ (/ n/ +/ km/ )/ ./ 算法/ 1/ ./ 索引/ 创建/ 算法/ LK/ _/ Create/ (/ G/ ,/ k/ )/ ./ 输入/ :/ GraphGandk/ 输出/ :/ L/ (/ k/ )/ -/ index1/ ./ initialize/ χ/ as0/ -/ bisimiliaritypartitionsofG/ ,/ thatis/ ,/ topartitionthenodesofVnbylabel2/ ./ FOReachX/ ∈/ χ/ ,/ assignitwiththeuniqueiid3/ ./ FOReachnodeofX/ ,/ computeitsPIDandmerge4/ ./ DO/ // // i/ =/ 15/ ./ FORindexnodesIandIin/ χ/ noincidentwitharc6/ ./ IFthereexistse/ ∈/ Iande/ ∈/ I/ ,/ satisfyingthe7/ ./ γ/ =/ acopyof/ χ/ 8/ ./ FOReachindexnodeXin/ χ/ do9/ ./ FOReachchildZofXdo10/ ./ FOReachelementeinZdo11/ ./ IFesatisfiesTheorem3/ ,/ appendeintoSucc/ (/ X/ )/ 12/ ./ FOReachYin/ γ/ do/ // // split13/ ./ IFext/ (/ Y/ )/ ∩/ Succ/ (/ X/ )/ ≠/ nullTHEN14/ ./ A/ =/ ext/ (/ Y/ )/ ∩/ Succ/ (/ X/ )/ ,/ B/ =/ ext/ (/ Y/ )/ -/ Succ/ (/ X/ )/ 15/ ./ assigntheidentifierforBandupdatethePID16/ ./ FORthedescendantYofYin/ χ/ and/ γ/ do17/ ./ IFthepidinYcontainsthepidinB/ ,/ 18/ ./ replaceYbyAandB19/ ./ IFtherewasnosplitTHENbreak20/ ./ χ/ =/ acopyof/ γ/ 21/ ./ WHILE/ (/ i/ ++/ </ =/ k/ )/ 22/ ./ RETURN/ χ/ 4.2/ 索引/ 更新/ 4.2/ ./ 1/ 合并/ 与/ 分裂/ 如果/ 不/ 考虑/ 节点/ 的/ 引用/ 弧/ ,/ 此时/ 节点/ 更新/ 不会/ 对/ 原图/ 节点/ 的/ 标签/ 路径/ 产生/ 影响/ ./ 当/ 插入/ 新/ 节点/ 时/ ,/ 如果/ 新/ 节点/ 与/ 索引/ 节点/ 中/ 的/ 节点/ 满足/ k/ 双拟/ 关系/ ,/ 则/ 将/ 新/ 节点/ 添加/ 到/ 该/ 索引/ 节点/ 中/ ./ 如果/ 新/ 节点/ 与/ 任意/ 一个/ 索引/ 节点/ 中/ 的/ 节点均/ 不/ 满足/ k/ 双拟/ 关系/ ,/ 则/ 创建/ 新/ 的/ 索引/ 节点/ ,/ 并/ 添加/ 新/ 节点/ 到/ 新/ 索引/ 节点/ 中/ ./ 当/ 删除/ 节点/ 时/ ,/ 不失/ 一般性/ ,/ 设/ 被/ 删除/ 节点/ 为/ 叶子/ 节点/ ,/ 则/ 将/ 节点/ 从/ 相应/ 索引/ 节点/ 中/ 删除/ 即可/ ./ 如果/ 考虑/ 到/ 节点/ 的/ 引用/ 弧/ ,/ 由于/ 插入/ 和/ 删除/ 后/ ,/ 原图/ 其他/ 节点/ 的/ 标签/ 路径/ 发生/ 了/ 变化/ ,/ 必须/ 保证/ 节点/ 间/ 依然/ 满足/ k/ 双拟/ 关系/ ./ 综上所述/ ,/ 无论/ 节点/ 是/ 插入/ 或是/ 删除/ ,/ 对于/ 原/ 索引/ 的/ 更新/ 操作/ 可以/ 归结为/ 两个/ 基本操作/ :/ 索引/ 节点/ 合并/ 和/ 索引/ 节点/ 分裂/ ./ (/ 1/ )/ 合并/ 算法/ 根据/ k/ 双拟/ 的/ 定义/ 和/ 性质/ ,/ 如果/ 两个/ 索引/ 节点/ 可以/ 合并/ ,/ 则/ 索引/ 节点/ 中/ 的/ 节点/ 必须/ 具有/ 相同/ 的/ k/ +/ 1/ 标签/ 路径/ ./ 索引/ 节点/ 合并/ 算法/ 如下/ ./ I2/ ,/ k/ )/ ./ 算法/ 2/ ./ 索引/ 节点/ 合并/ IndexNodeMerge/ (/ I1/ ,/ 输入/ :/ IndexnodeI1/ ,/ I2/ ,/ andk/ 输出/ :/ MergedindexnodeI11/ ./ constructingthelabelpathsetsP1andP2bythepid2/ ./ FOReachlabelpathp/ ∈/ P1/ ,/ 3/ ./ IFthereexistsp/ ∈/ P2/ ,/ satisfyingpandphave4/ ./ appendtheelementsofI2intoI1andRETURNI1/ ;/ 5/ ./ ELSERETURNNULL/ ;/ (/ 2/ )/ 分裂/ 算法/ 在/ 一个/ 索引/ L/ 上/ ,/ 如果/ 添加/ 或/ 删除/ 一个/ 引用/ 关系/ 〈/ u/ ,/ v/ 〉/ ,/ 由于/ 节点/ v/ 的/ 标签/ 路径/ 增加/ 或者/ 减少/ ,/ 均会/ 导致/ 索引/ 节点/ 分裂/ ./ 具体/ 分裂/ 算法/ 见/ 算法/ 3/ ./ 算法/ 利用/ 性质/ 2/ 作为/ 判断/ 分裂/ 的/ 结束/ 条件/ 之一/ ./ 当/ 一个/ 节点/ 不/ 需要/ 分裂/ 时/ ,/ 显然/ 其/ 后继/ 节点/ 也/ 无须/ 分裂/ ./ 算法/ 3/ ./ 索引/ 节点/ 分裂/ SplitIndex/ (/ L/ ,/ 〈/ u/ ,/ v/ 〉/ )/ ./ 输入/ :/ IndexLandthearc/ 〈/ u/ ,/ v/ 〉/ 输出/ :/ SplitindexL1/ ./ letdepthbetheglobalvariable2/ ./ letSbethesetofsplitindexnode3/ ./ IF/ ++/ depth/ >/ kTHENreturn/ ;/ 4/ ./ searchtheelementseandecontaininguandv5/ ./ updatethePIDofvaccordingtothePIDofu/ ;/ 6/ ./ IFProperty2isn/ ’/ tsatisfiedwithrespecttothePID7/ ./ createnewindexnodeI/ ,/ andappendtheelement8/ ./ addthearcfromAtoI/ ;/ deletethenodevine/ ;/ 9/ ./ addthearcfromItotheindexnodeofvand10/ ./ addtheIintoS/ ;/ SplitIndex/ (/ L/ ,/ 〈/ u/ ,/ v/ 〉/ )/ ;/ 11/ ./ RETURNS/ ;/ 定理/ 5/ ./ 给定/ 一个/ L/ (/ k/ )/ -/ index/ ,/ 当/ 添加/ 或/ 删除/ Page6/ 一个/ 引用/ 关系/ 〈/ u/ ,/ v/ 〉/ 时/ ,/ 索引/ 节点/ A/ 中/ 节点/ v/ 与/ A/ 中/ 其他/ 节点/ 不/ 满足/ k/ 双拟/ 关系/ ,/ 则/ 自/ 索引/ 节点/ A/ 起/ 最大/ 分裂/ 深度/ 为/ k/ ./ 设/ 需要/ 分裂/ 的/ 索引/ 节点/ B/ ,/ 则/ A/ 与/ B/ 构成/ 的/ 路径/ 长度/ 不/ 大于/ k/ ./ 证明/ ./ 根据/ k/ 双拟/ 关系/ 的/ 定义/ ,/ 只要/ 以/ 节点/ 为/ 终点/ ,/ 长度/ 为/ k/ 的/ 路径/ 上/ 节点/ 标签/ 路径/ 不/ 发生变化/ ,/ 则/ 该/ 节点/ 的/ k/ 双拟/ 关系/ 不变/ ,/ 因此/ 当/ 深度/ 大于/ k/ 时/ ,/ 索引/ 节点/ 中/ 的/ 节点/ 双拟/ 关系/ 不变/ ./ 证毕/ ./ 定理/ 6/ ./ 算法/ SplitIndex/ 的/ 时间/ 复杂度/ 与/ k/ 成正比/ ,/ 即/ O/ (/ k/ )/ ./ 证明/ ./ 根据/ k/ 双拟/ 关系/ 定义/ ,/ 只要/ 以/ 节点/ 为/ 终点/ ,/ 长度/ 为/ k/ 的/ 路径/ 上/ 节点/ 标签/ 路径/ 不/ 发生变化/ ,/ 则/ 该/ 节点/ k/ 双拟/ 关系/ 不变/ ,/ 因此/ 当/ 深度/ 大于/ k/ 时/ ,/ 索引/ 节点/ 中/ 的/ 节点/ 双拟/ 关系/ 不变/ ./ 4.2/ ./ 2/ 节点/ 插入/ 如果/ 按照/ 节点/ 插入/ 次序/ ,/ 依次/ 对/ 索引/ 更新/ ,/ 则/ 对于/ n/ 个/ 插入/ 节点/ ,/ 索引/ 更新/ 的/ 时间/ 复杂度/ 为/ O/ (/ cnm/ )/ ,/ c/ 为/ 定位/ 节点/ 、/ 创建/ 索引/ 节点/ 和/ 索引/ 合并/ 的/ 时间/ 复杂度/ ,/ m/ 为原/ 索引/ 节点/ 数/ ./ 在/ 批量/ 更新/ 时/ ,/ n/ 通常/ 会/ 非常/ 大/ ,/ 其/ 运行/ 时间/ 仍然/ 很长/ ./ 本文/ 提出/ “/ 对/ 增量/ 建/ 索引/ ,/ 然后/ 合并/ ”/ 的/ 策略/ ,/ 可以/ 将/ 更新/ 时间/ 复杂度/ 降低/ 到/ O/ (/ n/ +/ kmm/ )/ ,/ m/ 为/ 增量/ 索引/ 节点/ 数目/ ,/ 一般/ m/ / n/ ./ 主要/ 思想/ 为/ :/ 首先/ 忽略/ 增量/ 数据/ 对原/ 数据/ 的/ 引用/ ,/ 对/ 增量/ 数据/ 创建/ 索引/ ,/ 将/ 原/ 索引/ 与/ 增量/ 索引/ 合并/ ./ 其次/ ,/ 在/ 合并/ 索引/ 的/ 基础/ 上/ ,/ 对/ 所有/ 新/ 添加/ 的/ 弧/ 〈/ u/ ,/ v/ 〉/ ,/ 当/ v/ 与/ 索引/ 节点/ 中/ 其他/ 节点/ 不再/ 满足/ k/ 双拟/ 时/ ,/ 将/ 节点/ v/ 分裂/ ,/ 并/ 对/ 节点/ v/ 的/ 孙子/ 节点/ 判断/ 是否/ 需要/ 分裂/ ,/ 直至/ 孙子/ 节点/ 与/ v/ 的/ 层数/ 相差/ 大于/ k/ 或/ 不/ 产生/ 分裂/ 为止/ (/ 见/ 定理/ 5/ )/ ./ 最后/ ,/ 在/ 分裂/ 后/ 的/ 索引/ 上/ ,/ 对/ 所有/ 索引/ 节点/ 进行/ 一次/ 合并/ ./ 索引/ 更新/ 算法/ 如/ 算法/ 4/ 和/ 算法/ 5/ 所示/ ./ 算法/ 4/ ./ 索引/ 增加/ IncrementIns/ (/ L/ ,/ G/ )/ ./ 输入/ :/ indexLandupdategraphG/ 输出/ :/ updatedindexL1/ ./ L/ ←/ LK/ _/ Create/ (/ G/ ,/ k/ )/ ;/ 2/ ./ L/ ←/ MergeIndex/ (/ L/ ,/ L/ )/ ;/ 3/ ./ FOReachnewarc/ 〈/ u/ ,/ v/ 〉/ ,/ whereu/ ∈/ G/ ,/ v/ ∈/ G/ ,/ do4/ ./ S/ =/ S/ ∪/ SplitIndex/ (/ L/ ,/ 〈/ u/ ,/ v/ 〉/ )/ ;/ 5/ ./ FOReachsplitindexnodeI/ ∈/ S6/ ./ FOReachindexnodeI/ ∈/ L/ ./ IV/ -/ S7/ ./ IF/ (/ IndexNodeMerge/ (/ I1/ ,/ I2/ ,/ k/ )/ !/ =/ NULL/ )/ break/ ;/ 8/ ./ RETURNL/ ;/ 算法/ 5/ ./ 索引/ 合并/ MergeIndex/ (/ L1/ ,/ L2/ )/ ./ 输入/ :/ IndexL1/ ,/ L2/ 输出/ :/ MergedindexL11/ ./ FOReachindexnodeIinL22/ ./ locatetheindexnodesXinL1withthesamelabelofI3/ ./ FOReachI/ ∈/ X4/ ./ IF/ (/ IndexNodeMerge/ (/ I/ ,/ I/ ,/ k/ )/ !/ =/ NULL/ )/ 5/ ./ updatethePIDoftheelementsandtheir6/ ./ break/ ;/ 7/ ./ RETURNL1/ 定理/ 7/ ./ MergeIndex/ 算法/ 的/ 时间/ 复杂度/ 为/ O/ (/ kmm/ )/ ,/ m/ ,/ m/ 分别/ 为原/ 索引/ 和/ 增量/ 索引/ 中/ 的/ 索引/ 节点/ 数/ ./ 证明/ ./ 显然/ ,/ IndexNodeMerge/ 时间/ 复杂度/ 为/ O/ (/ k/ )/ ,/ 则/ 对于/ m/ 个/ 增量/ 索引/ 节点/ 在/ m/ 个原/ 索引/ 节点/ 中/ 判断/ 合并/ 的/ 时间/ 复杂度/ 在/ 最差/ 情况/ 下为/ O/ (/ mm/ )/ ,/ 因此/ MergeIndex/ 算法/ 的/ 时间/ 复杂度/ 为/ O/ (/ kmm/ )/ ./ 定理/ 8/ ./ 算法/ IncrementIns/ 的/ 时间/ 复杂度/ 为/ O/ (/ n/ +/ kmm/ )/ ,/ 其中/ n/ 为/ 增量/ 数据/ 中/ 节点/ 个数/ ,/ m/ 、/ m/ 分别/ 为原/ 索引/ 和/ 增量/ 索引/ 中/ 的/ 索引/ 节点/ 数/ ./ 证明/ ./ 算法/ IncrementIns/ 中/ LK/ _/ Create/ 的/ 时间/ 复杂度/ 为/ O/ (/ n/ +/ (/ k/ -/ 1/ )/ m/ )/ (/ 定理/ 4/ )/ ,/ MergeIndex/ 的/ 时间/ 复杂度/ 为/ O/ (/ kmm/ )/ (/ 定理/ 7/ )/ ,/ 由于/ SplitIndex/ 的/ 时间/ 复杂度/ 为/ O/ (/ k/ )/ (/ 定理/ 6/ )/ ,/ 则/ 对于/ c1/ 个/ 新/ 弧/ ,/ 步/ 3/ ~/ 4/ 的/ 时间/ 复杂度/ 为/ O/ (/ c1k/ )/ ,/ 由于/ IndexNode/ -/ Merge/ 的/ 时间/ 复杂度/ 为/ O/ (/ k/ )/ ,/ 则/ 对于/ c2/ 个/ 需要/ 合并/ 的/ 节点/ ,/ 步/ 5/ ~/ 7/ 的/ 时间/ 复杂度/ 为/ O/ (/ c2k/ )/ ,/ 综上所述/ ,/ 算法/ IncrementIns/ 的/ 时间/ 复杂度/ 为/ O/ (/ n/ +/ (/ k/ -/ 1/ )/ m/ +/ kmm/ +/ k/ (/ c1/ +/ c2/ )/ )/ ,/ 又/ 因/ k/ ,/ c1/ 和/ c2/ 可/ 看作/ 常数/ ,/ 则/ 算法/ IncrementIns/ 的/ 时间/ 复杂度/ 为/ O/ (/ n/ +/ kmm/ )/ ./ 4.2/ ./ 3/ 节点/ 删除/ 不失/ 一般性/ ,/ 假设/ 所/ 删除/ 节点/ 为/ 叶子/ 节点/ ,/ 那么/ 索引/ 更新过程/ 如下/ :/ 定位/ 删除/ 节点/ 所在/ 索引/ 节点/ ,/ 并/ 删除/ 该/ 节点/ ./ 删除/ 后/ ,/ 如/ 索引/ 节点/ 扩展/ 集合/ 为空/ ,/ 则/ 删除/ 索引/ 节点/ ./ 对/ 删除/ 节点/ 的/ 后继/ (/ 引用/ 弧/ )/ 所在/ 索引/ 节点/ 进行/ 分裂/ ,/ 直至/ 后继/ 与/ 删除/ 节点/ 层数/ 相差/ k/ 或/ 无/ 分裂/ 产生/ 为止/ ./ 算法/ 6/ ./ 删除/ 节点/ DeleteNode/ (/ L/ ,/ u/ )/ ./ 输入/ :/ IndexLanddeletenodeu/ 输出/ :/ updatedindexL1/ ./ locatetheindexnodeI/ ,/ whichhastheelementeandu/ ∈/ e/ ./ Ne2/ ./ deleteufrome/ ./ Ne/ ;/ 3/ ./ IFe/ ./ Ne/ =/ =/ NULLTHEN4/ ./ deleteefromext/ (/ I/ )/ ;/ ifext/ (/ I/ )/ isnull/ ,/ thendeletePage75/ ./ FOReachreferencearcfromutov6/ ./ SplitIndex/ (/ L/ ,/ 〈/ u/ ,/ v/ 〉/ )/ ;/ 7/ ./ FOReachindexnodeI/ ∈/ L/ ./ IV/ -/ S8/ ./ FOReachindexnodeI/ ∈/ L/ ./ IV/ -/ I/ -/ S9/ ./ IF/ (/ IndexNodeMerge/ (/ I/ ,/ I/ ,/ k/ )/ !/ =/ NULL/ )/ 10/ ./ S/ =/ S/ ∪/ I/ ;/ break/ ;/ 11/ ./ RETURNL/ ;/ 定理/ 9/ ./ 算法/ DeleteNode/ 的/ 时间/ 复杂度/ 为/ O/ (/ c2k/ )/ ,/ 其中/ c2/ 为/ 需要/ 合并/ 的/ 节点/ ./ 证明/ ./ 算法/ DeleteNode/ 中/ SplitIndex/ 的/ 时间/ 复杂度/ 为/ O/ (/ k/ )/ ,/ IndexNodeMerge/ 时间/ 复杂度/ 为/ O/ (/ k/ )/ ,/ 则/ 对于/ c2/ 个/ 合并/ 节点/ ,/ 时间/ 复杂度/ 为/ O/ (/ c2k/ )/ ,/ 综上所述/ ,/ 算法/ DeleteNode/ 时间/ 复杂度/ 为/ O/ (/ c2k/ )/ ./ 5/ 性能/ 分析/ 5.1/ 实验/ 环境/ 与/ 方法/ 实验/ 选取/ XMark/ 和/ DBLP/ 数据/ 集/ 作为/ 测试数据/ ,/ 数据/ 概况/ 见表/ 1/ ./ 由于/ 当/ 查询/ 路径/ 长度/ 不/ 大于/ k/ +/ 1/ 时/ ,/ A/ (/ k/ )/ -/ index/ 不/ 需要/ 在/ 原图/ 上/ 进行/ 验证/ ,/ 因此/ L/ (/ k/ )/ -/ index/ 和/ A/ (/ k/ )/ -/ index/ 的/ 执行/ 效率/ 相同/ ,/ 为了/ 进行/ 比较/ ,/ 本文/ 选取/ 的/ 测试/ 路径/ 长度/ 大于/ k/ +/ 1/ ./ 由于/ 目前/ 没有/ A/ (/ k/ )/ -/ index/ 更新/ 算法/ 的/ 研究/ ,/ 本文/ 主图/ 3/ 索引/ 创建/ 时间/ 比较/ 要/ 参考文献/ [/ 2/ ]/ 和/ 文献/ [/ 7/ ]/ 的/ 更新/ 方法/ ,/ 实现/ 一种/ A/ (/ k/ )/ -/ index/ 更新/ 算法/ (/ naiveIns/ )/ ./ 由于/ 文献/ [/ 2/ ]/ 和/ 文献/ [/ 7/ ]/ 只/ 涉及/ 子图/ 添加/ 和/ 边/ 添加/ 更新/ ,/ 没有/ 节点/ 删除/ 方法/ ,/ 因此/ 本文/ 没有/ 进行/ 节点/ 删除/ 下/ 更新/ 的/ 比较/ 实验/ ./ 如果/ 运行/ 时间/ 超过/ 12h/ ,/ 则/ 认为/ 未/ 完成/ ./ 数据/ 集/ 数据量/ // KB/ 节点/ 数/ 引用/ 数/ X0/ ./ 5M56885181338X1MX1/ ./ 5M1601X2MX10M1044515128923360X30M3153945274969120X50M50995736070112682X70M708611018449156147DBLP2349705648116400956DBLP158211263965/ ./ 2/ 性能/ 分析/ (/ 1/ )/ 索引/ 创建/ 时间/ 比较/ 由于/ 在/ 大/ 数据/ 集/ X30M/ ,/ X50M/ ,/ X70M/ 和/ DBLP/ 下/ ,/ A/ (/ k/ )/ -/ index/ 未/ 完成/ ,/ 所以/ 这里/ 只/ 给出/ 了/ 在/ X0/ ./ 5M/ ,/ X1M/ ,/ X1/ ./ 5M/ ,/ X2M/ 和/ X10M/ 下/ k/ =/ 0/ ~/ 3/ 的/ 比较/ 结果/ ,/ 以及/ DBLP1/ 下/ k/ =/ 0/ ~/ 2/ 的/ 比较/ 结果/ ,/ 如图/ 3/ 所示/ ./ 可以/ 看出/ ,/ 在/ X1M/ ,/ X1/ ./ 5M/ ,/ X2M/ ,/ X10M/ 和/ DBLP1/ 下/ ,/ L/ (/ k/ )/ -/ index/ 较/ A/ (/ k/ )/ -/ index/ 平/ Page8/ 均/ 提高/ 了/ 66.7/ %/ ,/ 在/ X0/ ./ 5M/ 下/ 二者/ 相似/ ,/ 其/ 原因/ 在于/ X0/ ./ 5M/ 节点/ 相对/ 较/ 少/ ,/ A/ (/ k/ )/ -/ index/ 判断/ 父子关系/ 的/ 时间/ 降低/ ,/ 而/ 对于/ L/ (/ k/ )/ -/ index/ 来说/ ,/ 由于/ 需要/ 更新/ 后继/ 节点/ 的/ PID/ ,/ 因此/ 导致/ 二者/ 时间/ 近似/ ./ 但/ 随着/ 节点/ 的/ 增加/ ,/ A/ (/ k/ )/ -/ index/ 判断/ 父子关系/ 的/ 时间/ 增加/ ,/ 而/ 对于/ L/ (/ k/ )/ -/ index/ 来说/ ,/ 需要/ 更新/ 的/ 后继/ 节点/ 只/ 与/ 不同/ 标签/ 路径/ 数量/ 相关/ ,/ 与/ 数据/ 节点/ 数量/ 无关/ ./ L/ (/ k/ )/ -/ index/ 大/ 数据/ 集/ 创建/ 时间/ 如图/ 4/ 所示/ ,/ 在/ DBLP/ 数据/ 集上/ 为/ 634min/ ,/ A/ (/ k/ )/ -/ index/ 均/ 超过/ 12h/ ./ 当/ 引用/ 节点/ 数/ 增加/ 时/ ,/ 不同/ 标签/ 路径/ 数/ 也/ 相应/ 增加/ ,/ 如图/ 5/ 所示/ ,/ L/ (/ k/ )/ -/ index/ 创建/ 时间/ 依赖于/ 索引/ 标签/ 路径/ 数/ ,/ 其/ 创建/ 时间/ 也/ 相应/ 增加/ ,/ 而/ A/ (/ k/ )/ -/ index/ 主要/ 依赖于/ 节点/ 数/ ,/ 因此/ 其/ 创建/ 时间/ 变化/ 较/ 小/ ./ 图/ 5/ 不同/ 引用/ 节点/ 比例/ 下/ 索引/ 创建/ 时间/ (/ X1M/ ,/ k/ =/ 3/ )/ (/ 2/ )/ 索引/ 空间/ 大小/ 比较/ 这里/ 我们/ 采用/ 空间/ 增加/ 比率/ (/ SR/ )/ 作为/ 评价/ 指标/ ,/ 即/ SR/ =/ (/ L/ (/ k/ )/ 索引/ 大小/ -/ A/ (/ k/ )/ 索引/ 大小/ )/ // A/ (/ k/ )/ 索引/ 大小/ ./ XMark/ 数据/ 集上/ L/ (/ k/ )/ -/ index/ 与/ A/ (/ k/ )/ -/ index/ 的/ 空间/ 大小/ 比较/ 如图/ 6/ 所示/ ,/ 可以/ 看出/ ,/ SR/ 平均/ 为/ 22.5/ %/ ,/ 并且/ 随着/ 数据/ 集/ 节点/ 的/ 增加/ 而/ 减少/ ./ DBLP1/ 数据/ 上/ SR/ 平均/ 为/ 27.6/ %/ ./ 当/ 引用/ 节点/ 增加/ 时/ ,/ 不同/ 的/ pid/ 可能性/ 增加/ ,/ 因此/ L/ (/ k/ )/ -/ index/ 随/ 引用/ 节点/ 增加/ 其/ SR/ 有/ 增大/ 趋势/ (/ 如图/ 7/ 所示/ )/ ./ 如图/ 8/ 和/ 图/ 9/ 所示/ ,/ 实际/ 数据/ 中入度/ 大于/ 1/ 的/ 节点/ 比例/ 非常/ 小/ ./ 本/ 实验/ 中/ XMark/ 数据/ 的/ 深度/ h/ 最大/ 为/ 17/ ./ 因此/ 索引/ 节点/ 中/ 的/ 元素/ 个数/ 要/ 远远/ 小于/ 最坏/ 上界/ 2/ (/ h/ -/ 1/ )/ d/ -/ 1/ ,/ 平均/ 标签/ 路径/ 数为/ 2/ ,/ 尤其/ 对于/ 深层次/ 的/ 非/ 叶子/ 节点/ 更是如此/ ./ (/ 3/ )/ 索引/ 更新/ 时间/ 比较/ 图/ 10/ 给出/ 了/ 在/ X0/ ./ 5M/ 数据/ 集上/ ,/ k/ =/ 3/ ,/ 依次/ 插入/ 增量/ 数据/ 时/ ,/ L/ (/ k/ )/ -/ index/ 更新/ 时间/ ./ 这里/ 比较/ 了/ IncrementIns/ 与/ naiveIns/ 方法/ 的/ 更新/ 时间/ ,/ 可以/ 看出/ ,/ 由于/ 采用/ 了/ 批量/ 更新/ 方法/ ,/ 并且/ 无须/ 从/ k/ =/ 0/ 开始/ 重新/ 构造/ 索引/ ,/ 因此/ IncrementIns/ 的/ 更新/ 时间/ 随/ 增量/ 数据/ 大小/ 变化/ 很小/ ,/ 而/ naiveIns/ 的/ 更新/ 时间/ 远远/ 大于/ IncrementIns/ ./ 图/ 11/ 给出/ 了/ 在/ X0/ ./ 5M/ ,/ Page9X1M/ ,/ X1/ ./ 5M/ ,/ X2M/ 和/ X10M/ ,/ k/ =/ 3/ 下/ 分别/ 随机/ 删除/ 20/ 个/ 节点/ 时/ ,/ L/ (/ k/ )/ -/ index/ 平均/ 更新/ 时间/ ./ Incre/ -/ mentIns/ 每/ 节点/ 更新/ 时间/ 较/ naiveIns/ 平均/ 提高/ 58.8/ %/ ./ (/ 4/ )/ 路径/ 查询处理/ 比较/ 图/ 12/ 比较/ 了/ 在/ L/ (/ 3/ )/ -/ index/ 与/ A/ (/ 3/ )/ -/ index/ 下/ 路径/ 查询/ 平均/ 时间/ ./ 可以/ 看出/ ,/ 较/ A/ (/ 3/ )/ -/ index/ ,/ L/ (/ 3/ )/ -/ index/ 上/ 的/ 查询/ 时间/ 平均/ 提高/ 了/ 68.9/ %/ ./ 根据/ 定理/ 2/ 可知/ ,/ L/ (/ k/ )/ -/ index/ 是/ 安全/ 和/ 准确/ 的/ ,/ 当/ 查询/ 路径/ 长度/ 大于/ k/ 时/ ,/ 无须/ 在/ 原图/ 上/ 验证/ ,/ 只/ 需/ 通过/ pid/ 即/ 可以/ 确定/ 查询/ 结果/ ./ 因此/ 在/ L/ (/ k/ )/ -/ index/ 上/ 路径/ 查询/ 的/ 时间/ 复杂度/ 与/ PID/ 的/ 大小/ 成正比/ ,/ 如果/ 取/ 最大/ PID/ 集合/ ,/ 设/ 大小/ 为/ c/ ,/ 则/ 其/ 时间/ 复杂度/ 为/ O/ (/ c/ )/ ./ 而/ 对于/ A/ (/ k/ )/ -/ index/ ,/ 当/ 查询/ 路径/ 长度/ 大于/ k/ 时/ ,/ 必须/ 在/ 原图/ 上/ 验证/ ,/ 其/ 时间/ 复杂度/ 为/ O/ (/ n/ )/ ,/ n/ 为/ 查询/ 结果/ 数量/ ./ 6/ 相关/ 工作/ 目前/ 关于/ 提高/ XML/ 查询/ 效率/ 的/ 研究/ 主要/ 有/ 两/ 方面/ ,/ 一是/ 基于/ 节点/ 编码/ 的/ 技术/ ,/ 其/ 主要/ 思想/ 是/ 利用/ 编码/ 来/ 判断/ 节点/ 的/ 父子/ 或/ 祖孙/ 关系/ ,/ 采用/ 归并/ 连接/ (/ Mergejoin/ )/ 思想/ 来/ 提高效率/ [/ 8/ -/ 11/ ]/ ./ 一是/ 基于/ 结构/ 索引/ 的/ 技术/ ,/ 其/ 主要/ 思想/ 是/ 通过/ 对/ 路径/ 压缩/ ,/ 建立/ 一个/ 远远/ 小于/ 原/ XML/ 数据/ 的/ 图/ 结构/ ,/ 通过/ 遍历/ 索引/ 来/ 提高/ 查询/ 中/ 路径/ 信息/ 的/ 处理/ 效率/ ./ 典型/ 的/ 结构/ 索引/ 有/ DataGuide/ [/ 1/ ]/ 、/ 1/ -/ index/ [/ 2/ ]/ 、/ A/ (/ k/ )/ -/ index/ [/ 3/ ]/ 、/ D/ (/ k/ )/ -/ index/ [/ 4/ ]/ 、/ APEX/ [/ 12/ ]/ 及/ M/ (/ k/ )/ -/ index/ [/ 13/ ]/ 等等/ ./ DataGuide/ 基本/ 思想/ 是/ 基于/ 将/ NFA/ 转换/ 为/ DFA/ 的/ 形式/ 对/ 相同/ 路径/ 进行/ 约简/ ,/ 但/ DataGuide/ 存在/ 冗余/ 现象/ ./ 1/ -/ index/ 、/ A/ (/ k/ )/ -/ index/ 和/ D/ (/ k/ )/ -/ index/ 均/ 为/ 基于/ k/ 双拟/ 的/ 结构/ 索引/ ./ 通过/ 对/ 局部/ 路径/ 信息/ 的/ 合并/ ,/ 大大降低/ 索引/ 中/ 节点/ 冗余/ ./ 它们/ 构建/ 方法/ 类似/ ,/ 均/ 是从/ k/ =/ 0/ 开始/ 构建/ ,/ 并且/ 需要/ 多次/ 访问/ 原图/ 获得/ 节点/ 的/ 后继/ ./ 而/ L/ (/ k/ )/ -/ index/ 不/ 需要/ 访问/ 原图/ ,/ 可以/ 批量/ 计算/ 节点/ 的/ 后继/ ./ 在/ 索引/ 更新/ 上/ ,/ 文献/ [/ 2/ ,/ 7/ ]/ 提出/ 1/ -/ index/ 的/ 更新/ 算法/ ,/ 文献/ [/ 4/ ]/ 借鉴/ 1/ -/ index/ 更新/ 算法/ 和/ 文献/ [/ 7/ ]/ 的/ 更新/ 算法/ ,/ 提出/ D/ (/ k/ )/ -/ index/ 更新/ 算法/ ./ 1/ -/ index/ 和/ D/ (/ k/ )/ -/ index/ 采取/ 的/ 更新/ 策略/ 类似/ ,/ 对/ 新/ 添加/ 数据/ 构建/ 索引/ ,/ 然后/ 需要/ 从/ k/ =/ 0/ 开始/ 重新/ 构建/ 索引/ ./ 而/ 本文/ 更新/ 方法/ 在/ 对/ 增量/ 数据/ 创建/ 索引/ 后/ ,/ 由于/ L/ (/ k/ )/ -/ index/ 包含/ 完全/ 标签/ 路径/ 信息/ ,/ 因此/ 无须/ 从/ k/ =/ 0/ 开始/ 重新/ 构建/ ,/ 而是/ 通过/ 合并/ 和/ 分裂/ 操作/ 完成/ 更新/ ./ APEX/ 引入/ 了/ 依赖于/ XML/ 数据/ 查询/ 分布/ 的/ 信息/ ,/ 将/ 经常出现/ 的/ XML/ 查询/ 语句/ 对应/ 的/ 标签/ 节点/ 预先/ 保存/ 在/ 一个/ 哈希/ 结构/ 中/ ./ M/ (/ k/ )/ -/ index/ 索引/ 结构/ 与/ D/ (/ k/ )/ -/ index/ 类似/ ,/ 尝试/ 随/ 查询/ 语句/ 动态/ 调整/ 的/ 方式/ ./ 当/ 查询/ 路径/ 长度/ 大于/ k/ 时/ ,/ 基于/ k/ 双拟/ 的/ 结构/ 索引/ 是非/ 准确/ 的/ ,/ 必须/ 在/ 原/ 数据/ 上/ 进行/ 验证/ ./ 在/ XML/ 检索/ 和/ XML/ 非/ 完全/ 结构/ 查询/ 中/ ,/ 除了/ 提高/ XML/ 查询/ 效率/ ,/ 越来越/ 多/ 的/ 应用/ 要求/ 获得/ 节点/ 的/ 标签/ 路径/ 或/ k/ 祖先/ ./ 例如/ ,/ 在/ XSearch/ [/ 14/ ]/ 、/ XRank/ [/ 6/ ]/ 和/ XKeyword/ [/ 15/ ]/ 中/ 根据/ 节点/ 的/ 标签/ 路径/ 来/ 过滤/ 结果/ ,/ 从而/ 返回/ 有/ 意义/ 的/ 查询/ 结果/ ./ 在/ 文献/ [/ 16/ -/ 17/ ]/ 中/ 要求/ 计算/ 节点/ 或/ 标签/ 路径/ 的/ 最小/ 公共/ 祖先/ (/ LCA/ )/ ./ 然而/ 迄今为止/ ,/ 基于/ k/ 双拟/ 的/ 结构/ 索引/ 设计/ 目的/ 是/ 提高/ 路径/ 查询/ 效率/ ,/ 并/ 不/ 支持/ 节点/ 标签/ 路径/ 获得/ 和/ k/ 祖先/ 计算/ ./ PE/ 索引/ [/ 5/ ]/ 在/ 支持/ 路径/ 查询/ 的/ 基础/ 上/ ,/ 同时/ 支持/ 标签/ 路径/ 获得/ 和/ 节点/ k/ 祖先/ 计算/ ,/ 但/ PE/ 索引/ 存在/ 大量/ 冗余/ ./ 文献/ [/ 18/ ]/ 从/ XML/ 查询/ 角度/ 出发/ 设计/ 了/ 基于/ 自动机/ 的/ XML/ 索引/ ,/ 而/ 非/ 本文/ XML/ 数据/ 相关/ 索引/ ,/ 其/ 主要/ 用于/ 移动/ 环境/ 的/ 数据/ 查询/ ./ 文献/ [/ 19/ ]/ 提出/ 一种/ 基于/ 扩展/ Dewey/ 编码/ 的/ XML/ 查询方法/ ,/ 其/ 扩展/ Dewey/ 编码/ 可以/ 获得/ 节点/ 标签/ ,/ 但/ 未/ 对/ XML/ 数据/ 构建/ 结构/ 索引/ ./ 文献/ [/ 20/ ]/ 提出/ 基于/ Dewey/ 编码/ 的/ XML/ 关键字/ 倒排/ 索引/ ,/ 主要/ 用于/ XML/ 检索/ ./ 7/ 结论/ 本文/ 着重/ 研究/ 了/ 一种/ 支持/ 标签/ 路径/ 的/ 基于/ k/ 双/ Page10/ 拟/ 的/ 结构/ 索引/ 的/ 高效/ 创建/ 、/ 更新/ 方法/ 以及/ 查询处理/ 方法/ ./ 主要/ 贡献/ 有/ :/ (/ 1/ )/ 提出/ 一种/ 支持/ 标签/ 路径/ 的/ 基于/ k/ 双拟/ 的/ 结构/ 索引/ L/ (/ k/ )/ -/ index/ ,/ 它/ 在/ 保持/ k/ 双拟/ 结构/ 索引/ 优点/ 的/ 基础/ 上/ ,/ 克服/ 了/ 查询/ 结构/ 重新/ 验证/ 的/ 缺点/ ,/ 是/ 一种/ 准确/ 的/ 和/ 安全/ 的/ 结构/ 索引/ ,/ 查询处理/ 时间/ 效率/ 平均/ 提高/ 了/ 68.9/ %/ ,/ 而/ 空间/ 复杂度/ 增加/ 仅为/ 22.5/ %/ ./ (/ 2/ )/ 提出/ 一种/ 高效/ 的/ 索引/ 创建/ 算法/ ,/ 仅/ 需/ 遍历/ 原/ XML/ 数据/ 一次/ 创建/ L/ (/ 0/ )/ -/ index/ ,/ 而/ L/ (/ k/ )/ -/ index/ 创建/ 在/ L/ (/ 0/ )/ -/ index/ 的/ 基础/ 上/ 直接/ 获得/ ,/ 无须/ 访问/ 原/ 数据/ ,/ 并/ 采用/ 批量/ 计算/ 后继/ 方法/ ,/ 创建/ 效率/ 较/ 传统/ 方法/ 提高/ 了/ 66.7/ %/ ./ (/ 3/ )/ 提出/ 了/ L/ (/ k/ )/ -/ index/ 更新/ 方法/ ,/ 设计/ 了/ 基本/ 的/ 更新/ 操作/ 算法/ :/ 合并/ 和/ 分裂/ ./ 特别/ 是/ 当/ 增量/ 添加/ 节点/ 时/ ,/ 通过/ “/ 对/ 增量/ 建/ 索引/ ,/ 然后/ 合并/ ”/ 策略/ ,/ 较/ 传统/ 方法/ 提高/ 了/ 58.8/ %/ ./ 

