Page1/ 一种/ 用户/ 为/ 中心/ 、/ 基于/ 多/ 视图/ 合成/ 的/ 服务/ 组合/ 方法/ 丁维龙/ 1/ )/ ,/ 2/ )/ ,/ 3/ )/ 王菁/ 1/ )/ 赵栓/ 1/ )/ ,/ 2/ )/ 1/ )/ (/ 中国科学院计算技术研究所/ 软件/ 集成/ 与/ 服务/ 计算中心/ 北京/ 100190/ )/ 2/ )/ (/ 中国科学院/ 研究生院/ 北京/ 100190/ )/ 3/ )/ (/ 武汉大学/ 软件工程/ 国家/ 重点/ 实验室/ 武汉/ 430072/ )/ 摘要/ 用户/ 为/ 中心/ 的/ 服务/ 组合/ 旨在/ 直接/ 地/ 反映/ 用户/ 需求/ 、/ 提高/ 建模/ 灵活性/ 和/ 降低/ 应用/ 构建/ 成本/ ./ 然而/ ,/ 当前/ 的/ 用户/ 编程/ 方法/ 仍然/ 存在/ 挑战/ :/ 一方面/ 传统/ 方法/ 以/ 服务/ 为/ 基本/ 元素/ ,/ 忽视/ 了/ 应用/ 背后/ 的/ 业务/ 数据/ ,/ 用户/ 难以/ 从/ 熟知/ 的/ 业务/ 数据/ 角度/ 表达/ 建模/ 需求/ ;/ 另一方面/ 传统/ 方法/ 以/ 控制流/ 为/ 中心/ ,/ 需要/ 精确/ 描述/ 组合/ 细节/ ,/ 非专业/ 的/ 用户/ 不易/ 理解/ 和/ 操作/ 且/ 难以/ 表达/ 业务/ 约束/ ./ 文中/ 提出/ 一种/ 用户/ 为/ 中心/ 、/ 基于/ 多/ 视图/ 合成/ 的/ 服务/ 组合/ 方法/ ,/ 通过/ 体征/ 数据模型/ 显式/ 建模/ 业务/ 数据/ ,/ 将/ 服务/ 组合/ 的/ 需求/ 转化/ 为/ 在/ 多个/ 视图/ 编程/ 操作/ ;/ 并/ 给出/ 一种/ 候选/ 流程/ 的/ 构造/ 算法/ ,/ 参照/ 用户/ 的/ 视图/ 操作/ 合成/ 服务/ 组合/ 流程/ ./ 案例/ 和/ 实验/ 分析表明/ ,/ 文中/ 方法/ 可/ 降低/ 用户/ 构造/ 服务/ 组合/ 的/ 复杂性/ 并/ 提高/ 建模/ 的/ 效率/ ./ 关键词/ 用户/ 为/ 中心/ ;/ 多/ 视图/ 合成/ ;/ 服务/ 组合/ ;/ 编程/ 方法/ 1/ 引言/ 随着/ 互联网/ 技术/ 的/ 不断进步/ 和/ 服务/ 计算/ 的/ 深入/ 发展/ ,/ 跨/ 地域/ 、/ 跨/ 机构/ 和/ 跨平台/ 的/ 业务/ 协作/ 成为/ 可能/ ./ 当前/ ,/ 在/ 诸如/ 科研/ 实验/ 、/ 医疗/ 诊治/ 、/ 城市/ 应急/ 、/ 网络化/ 制造/ 等/ 领域/ 中/ ,/ 由于/ 环境/ 和/ 业务/ 需求/ 的/ 动态变化/ ,/ 使得/ 业务流程/ 难以/ 预先/ 定义/ 完备/ ,/ 应用/ 的/ 构造/ 模式/ 已经/ 逐步/ 从/ 传统/ 的/ 以/ 技术/ 为/ 中心/ 由/ 专业/ 人员/ 事先/ 编制/ ,/ 向/ 以/ 用户/ 为/ 中心/ 、/ 按/ 需/ 临机/ 定制/ 转变/ [/ 1/ ]/ ./ 以/ 用户/ 为/ 中心/ 的/ 服务/ 组合/ [/ 2/ -/ 3/ ]/ 旨在/ 直接/ 地/ 反映/ 用户/ 需求/ 、/ 提高/ 建模/ 准确性/ 和/ 降低/ 应用/ 构建/ 成本/ ,/ 为/ 用户/ 临机/ 地/ 构建/ 业务流程/ 创造/ 了/ 条件/ ./ 但是/ 当前/ 的/ 研究/ 工作/ 仍然/ 面临/ 着/ 挑战/ ./ 首先/ ,/ 在/ 编程/ 元素/ 方面/ ,/ 为/ 用户/ 提供/ 易于/ 理解/ 使用/ 的/ 业务/ 级/ 编程/ 元素/ 存在/ 挑战/ ./ 服务/ 具有/ 跨平台/ 、/ 跨/ 编程语言/ 等/ 特点/ ,/ 更/ 易于/ 实现/ 集成/ ./ 然而/ ,/ 以/ 服务/ 为/ 基本/ 编程/ 元素/ 的/ 服务/ 组合/ 构造方法/ ,/ 用户/ 需要/ 指定/ 参与/ 组合/ 的/ 每个/ 服务/ 、/ 设定/ 服务/ 的/ 输入/ 参数值/ 以及/ 建立/ 不同/ 服务/ 之间/ 的/ 输入输出/ 参数/ 关联/ ,/ 使得/ 缺乏/ IT/ 知识/ 和/ 经验/ 的/ 用户/ 仍然/ 难以/ 理解/ 和/ 操作/ ./ 究其原因/ ,/ 这/ 类/ 编程/ 方法/ 忽视/ 了/ 服务/ 背后/ 的/ 业务/ 数据/ [/ 4/ ]/ ,/ 而/ 这/ 正是/ 熟悉/ 领域/ 知识/ 的/ 业务/ 用户/ 在/ 问题/ 求解/ 过程/ 中/ 更为/ 关注/ 的/ ./ 例如/ 在/ 城市/ 应急/ 中/ ,/ 应急/ 指挥/ 人员/ 需要/ 随时/ 关注/ 受灾/ 点/ 的/ 物资/ 需求量/ 和/ 各/ 备灾/ 部门/ 物资/ 供应量/ ,/ 优化/ 调配/ 物资/ ;/ 又/ 如/ 在/ 精准/ 农业/ 生产/ 中/ ,/ 种植/ 人员/ 需要/ 观察/ 大棚/ 的/ 温度/ 、/ 湿度/ 等/ 实时/ 数据/ ,/ 制定/ 合理/ 的/ 种植/ 方案/ ./ 上述/ 需求/ 表明/ ,/ 需要/ 为/ 用户/ 提供/ 一种/ 能/ 反映/ 业务/ 数据/ 的/ 新型/ 编程/ 元素/ ,/ 易于/ 用户/ 观察/ 业务/ 数据/ ,/ 并/ 从/ 业务/ 数据/ 的/ 角度/ 表达/ 建模/ 需求/ ./ 其次/ ,/ 在/ 编程/ 方式/ 方面/ ,/ 为/ 用户/ 提供/ 易用/ 的/ 编程/ 视图/ 存在/ 挑战/ ./ 传统/ 服务/ 组合/ 方法/ 往往/ 是/ 以/ 控制流/ 为/ 中心/ [/ 5/ ]/ 的/ 命令式/ 编程/ 范型/ ,/ 需要/ 用户/ 精确/ 定义/ 构造/ 的/ 细节/ ,/ 对/ 用户/ 专业/ 水平/ 要求/ 较/ 高/ [/ 6/ -/ 7/ ]/ ./ 熟悉业务/ 知识/ 的/ 用户/ 往往/ 习惯/ 通过/ 描述/ 业务/ 约束/ 表达/ 业务/ 需求/ ,/ 如/ 定义/ 约束/ 描述/ 应急/ 物资/ 的/ 期望/ 数量/ 和/ 相关/ 服务/ 的/ 调度/ 方式/ 等/ ./ 这类/ 声明/ 式/ 编程/ 范型/ [/ 7/ -/ 10/ ]/ ,/ 显式/ 地/ 表达/ 目标/ ,/ 隐式/ 地/ 描述/ 逻辑/ ./ 传统/ 命令式/ 范型/ 适合/ 精确/ 表达/ 已经/ 确定/ 的/ 服务/ 组合/ 逻辑/ ;/ 声明/ 式/ 范型/ 适合/ 表达/ 不/ 确定/ 的/ 服务/ 组合/ 逻辑/ ,/ 通过/ 约束/ 描述/ 需求/ 提升/ 了/ 建模/ 的/ 灵活性/ ./ 当前/ 研究/ 的/ 一个/ 趋势/ 是/ 综合利用/ 这/ 两种/ 范型/ 进行/ 编程/ [/ 6/ -/ 7/ ,/ 10/ -/ 11/ ]/ ,/ 从/ 不同/ 侧面/ 协同/ 构建/ 应用/ ./ 为了/ 支持/ 用户/ 临机/ 构造/ 服务/ 组合/ ,/ 需要/ 为/ 用户/ 提供/ 不同/ 的/ 编程/ 视角/ ,/ 支持/ 用户/ 灵活/ 的/ 表达/ 业务/ 约束/ ./ 针对/ 上述/ 挑战/ ,/ 本文/ 提出/ 一种/ 以/ 用户/ 为/ 中心/ 、/ 基于/ 多/ 视图/ 合成/ 的/ 服务/ 组合/ 方法/ ./ 该/ 方法/ 包含/ 一种/ 多/ 视图/ 的/ 服务/ 组合/ 模型/ 、/ 一组/ 视图/ 中/ 的/ 建模/ 操作/ 和/ 辅助/ 用户/ 临机/ 决策/ 的/ 一种/ 候选/ 流程/ 构造/ 算法/ ./ 首先/ ,/ 针对/ 编程/ 元素/ 的/ 挑战/ ,/ 本文/ 将/ 领域/ 中/ 的/ 服务/ 按照/ 所/ 反映/ 的/ 体征/ 数据抽象/ 为/ 数据/ 对象/ ,/ 用户/ 可以/ 通过/ 操作/ 数据/ 对象/ 描述/ 建模/ 需求/ ./ 其次/ ,/ 针对/ 编程/ 方式/ 的/ 挑战/ ,/ 本文/ 从/ 数据/ 对象/ 的/ 属性/ 和/ 操作/ 声明/ 业务/ 约束/ 的/ 视角/ ,/ 为/ 用户/ 提供数据/ 视图/ 和/ 行为/ 视图/ ;/ 从/ 服务/ 组合/ 控制流/ 逻辑/ 的/ 视角/ ,/ 为/ 用户/ 提供/ 流程/ 视图/ ./ 针对/ 多/ 视图/ 合成/ 的/ 服务/ 组合/ ,/ 本文/ 给出/ 一种/ 候选/ 流程/ 的/ 构造/ 算法/ ,/ 参照/ 用户/ 声明/ 的/ 约束/ ,/ 用户/ 主导/ 、/ 探索/ 式/ 地/ 构建/ 服务/ 组合/ ./ 案例/ 和/ 实验/ 的/ 定量/ 与/ 定性分析/ 表明/ ,/ 该/ 方法/ 降低/ 了/ 最终用户/ 构造/ 应用/ 的/ 复杂程度/ ,/ 提高/ 了/ 建模/ 的/ 效率/ 与/ 灵活性/ ./ 本文/ 在/ 第/ 2/ 节/ 介绍/ 多/ 视图/ 的/ 服务/ 组合/ 模型/ ;/ 第/ 3/ 节/ 阐述/ 基于/ 多/ 视图/ 的/ 应用/ 合成/ 过程/ ;/ 第/ 4/ 节/ 通过/ 案例/ 、/ 实验/ 和/ 相关/ 工作/ 比较/ ,/ 定量/ 和/ 定性/ 地/ 分析/ 本文/ 工作/ ;/ 最后/ 在/ 第/ 5/ 节/ 给出/ 全文/ 的/ 总结/ ./ 2/ 多/ 视图/ 服务/ 组合/ 模型/ 本/ 节/ 围绕/ 业务/ 过程/ 中/ 的/ 体征/ 数据/ ,/ 定义/ 了/ 多/ 视图/ 的/ 服务/ 组合/ 模型/ ,/ 其中/ 包含/ 数据/ 视图/ 、/ 行为/ 视图/ 和/ 流程/ 视图/ ./ 2.1/ 体征/ 数据/ 在/ 构建/ 服务/ 组合/ 的/ 临机/ 决策/ 中/ ,/ 用户/ 往往/ 关注/ 和/ 参考/ 那些/ 能够/ 反映/ 业务/ 过程/ 整体/ 性能/ 或/ 业务/ 指标/ 的/ 关键/ 数据/ [/ 12/ ]/ ,/ 本文/ 称/ 这/ 一类/ 业务/ 数据/ 为/ 体征/ 数据/ ./ 体征/ 数据/ 不/ 一定/ 体现/ 为/ 流程/ 活动/ 的/ 输入输出/ 数据/ ,/ 还/ 可能/ 是/ 流程/ 运行/ 时/ 的/ 中间/ 数据/ 和/ 通过/ 用户/ 自定义/ 公式/ 计算/ 的/ 数据/ ./ 例如/ ,/ 在/ 城市/ 应急/ 中/ ,/ 相比/ 应急/ 事件/ 的/ 处理/ 细节/ ,/ 指挥/ 人员/ 更/ 关心/ 当前/ 应急/ 物资/ 的/ 分布/ 和/ 与/ 事件处理/ 相关/ 的/ 辅助/ 决策/ 信息/ 等/ ./ 体征/ 数据/ 的/ 结构/ 可以/ 是/ 复杂/ 的/ ,/ 本文/ 针对/ 一类/ 简单/ 的/ 数值/ 型/ 体征/ 数据/ ,/ 抽象/ 了/ 数据/ 模板/ 和/ 数据/ 对象/ ./ 定义/ 1/ ./ 数据/ 模板/ 和/ 数据/ 对象/ ./ 数据/ 模板/ Da/ -/ ta/ _/ temp/ =/ 〈/ tId/ ,/ Ats/ ,/ Ops/ 〉/ ,/ 封装/ 了/ 业务/ 领域/ 中/ 的/ 一类/ 体征/ 数据/ ,/ 包含/ 属性/ 集/ Ats/ 和/ 操作/ 集/ Ops/ ,/ 由/ tId/ 唯一/ 标识/ ./ / a/ ∈/ Ats/ ,/ 属性/ a/ 是/ 数值/ 类型/ (/ 整型/ 、/ 浮点/ 型/ 和/ 实数/ 型/ 等/ )/ ,/ 且/ / opget/ ∈/ Ops/ ,/ 操作/ opget/ 获得/ 属性/ a/ 的/ 数据/ 值/ ./ / op/ ∈/ Ops/ ,/ op/ =/ 〈/ I/ ,/ O/ ,/ P/ ,/ E/ 〉/ ,/ 其中/ I/ ,/ O/ 分别/ 描述/ 操作/ op/ 的/ 输入输出/ 参数/ ,/ P/ ,/ E/ 分别/ 描述/ Page3/ 操作/ op/ 的/ 前提/ 和/ 效果/ ./ 操作/ 集/ op/ 形式/ 上/ 是/ 函数/ 的/ 接口/ ./ 数据/ 模板/ 的/ 实例/ 被/ 称为/ 数据/ 对象/ ./ 数据/ 对象/ Data/ _/ obj/ =/ 〈/ objId/ ,/ tId/ ,/ Mapatr/ ,/ Mapop/ 〉/ ,/ 由/ objId/ 标识/ 的/ 数据/ 对象/ 是/ tId/ 标识/ 的/ 数据/ 模板/ 的/ 实现/ ./ 其中/ ,/ Mapatr/ 是/ 属性/ 名称/ 与/ 数值/ 的/ 映射/ ,/ Mapop/ 是/ 操作/ 名称/ 与/ 操作/ 实现/ 的/ 映射/ ./ / a/ ∈/ Data/ _/ temp/ (/ tId/ )/ / Atrs/ ,/ / Mapatr/ (/ a/ )/ ∈/ Data/ _/ obj/ (/ objld/ )/ 为/ 属性/ a/ 的/ 值/ ;/ / op/ ∈/ Data/ _/ temp/ (/ tId/ )/ / Ops/ ,/ / Mapop/ (/ op/ )/ ∈/ Data/ _/ obj/ (/ Objld/ )/ 为/ 操作/ 的/ 实现/ ,/ 而且/ 操作/ 可/ 由/ 服务/ 实现/ ./ 图/ 1/ 给出/ 了/ 数据/ 模板/ 和/ 数据/ 对象/ 的/ 示意/ ./ 领域专家/ 定义数据/ 模板/ 和/ 数据/ 对象/ ,/ 作为/ 业务/ 资产/ 在/ 领域/ 中/ 维护/ ./ 本文/ 假设/ 数据/ 对象/ 的/ 操作/ 都/ 可以/ 映射/ 至/ 服务/ ,/ 而且/ 是/ 唯一/ 的/ 服务/ ./ 另一方面/ 假设/ 业务/ 过程/ 中/ 使用/ 的/ 服务/ 均/ 可/ 与/ 数据/ 对象/ 的/ 操作/ 映射/ ./ 关于/ 数据/ 对象/ 的/ 建模/ 和/ 实现/ ,/ 本文/ 不再/ 过多地/ 讨论/ ,/ 详细/ 可以/ 参考/ 我们/ 团队/ 的/ 相关/ 工作/ ./ 体征/ 数据/ 的/ 抽象/ 由于/ 采用/ 了/ 用户/ 熟知/ 的/ 业务知识/ ,/ 同时/ 借鉴/ 了/ 面向对象/ 的/ 设计/ 思想/ ,/ 易于/ 一般/ 的/ 业务/ 用户/ 理解/ 和/ 使用/ ./ 2.2/ 服务/ 组合/ 模型/ 业务流程/ 建模/ 的/ 最/ 基本/ 的/ 问题/ 是/ ,/ 如何/ 让/ 用户/ 以/ 直观/ 、/ 简洁/ 的/ 方式/ 编程/ ,/ 并且/ 能够/ 尽可能/ 自动化/ 地/ 辅助/ 用户/ ,/ 故/ 为/ 用户/ 提供/ 不同/ 的/ 应用/ 视图/ 是/ 十分/ 重要/ 的/ [/ 4/ ]/ ./ 控制流/ 相关/ 的/ 视图/ 固然/ 重要/ ,/ 但/ 用户/ 难以/ 从/ 单一/ 的/ 视角/ 理解/ 整个/ 应用/ ;/ 同时/ 基于/ 业务/ 约束/ 构建/ 的/ 服务/ 组合/ 更能/ 适应/ 业务/ 的/ 动态变化/ [/ 13/ ]/ ,/ 尤其/ 适用/ 于/ 描述/ 业务/ 过程/ 中/ 不能/ 事先/ 确定/ 的/ 部分/ ./ 约束/ 是/ 利用/ 若干/ 法则/ 或/ 限制/ 条件/ 来/ 规定/ 构成/ 实体/ 的/ 元素/ 之间/ 的/ 关系/ ,/ 包括/ 数据/ 约束/ 和/ 行为/ 约束/ 等/ ./ 业务/ 约束/ 涉及/ 应用/ 运作/ 的/ 各个/ 阶段/ [/ 13/ ]/ ,/ 可以/ 用于/ 控制/ 和/ 管理/ 服务/ 组合/ [/ 6/ ,/ 14/ ]/ ,/ 其中/ 数据/ 约束/ 体现/ 在/ 描述/ 数据/ 属性/ 之间/ 的/ 依赖/ 关系/ ,/ 行为/ 约束/ [/ 1/ ,/ 8/ -/ 9/ ,/ 11/ ,/ 15/ ]/ 则/ 描述/ 了/ 服务/ 在/ 应用/ 中/ 的/ 使用/ 模式/ ./ 本文/ 给出/ 的/ 模型/ ,/ 提供/ 了/ 服务/ 组合/ 的/ 多个/ 视图/ :/ 从/ 构建/ 和/ 执行/ 流程/ 的/ 控制流/ 逻辑/ 的/ 视角/ ,/ 给出/ 了/ 流程/ 视图/ ;/ 从/ 声明/ 业务/ 约束/ 描述/ 应用/ 的/ 视角/ ,/ 为/ 用户/ 提供数据/ 视图/ 和/ 行为/ 视图/ ,/ 分别/ 面向/ 数据/ 对象/ 的/ 属性/ 和/ 操作/ 的/ 约束/ ./ 定义/ 2/ ./ 多/ 视图/ 的/ 服务/ 组合/ 模型/ ./ 多/ 视图/ 的/ 服务/ 组合/ 模型/ Muv/ =/ 〈/ Vp/ ,/ Va/ ,/ Vo/ ,/ Ss/ ,/ So/ 〉/ ./ 其中/ ,/ Ss/ 是/ 服务/ 集合/ ,/ So/ 是/ 定义/ 1/ 所述/ 的/ 数据/ 对象/ 的/ 集合/ ,/ Va/ ,/ Vo/ ,/ Vp/ 分别/ 是/ 服务/ 组合/ 应用/ 的/ 数据/ 视图/ 、/ 行为/ 视图/ 和/ 流程/ 视图/ ./ 通过/ 如图/ 2/ 所示/ 的/ 多/ 视图/ 服务/ 组合/ 模型/ ,/ 用户/ 可以/ 描述/ 服务/ 组合/ 的/ 建模/ 需求/ ./ 其中/ ,/ Ss/ 和/ So/ 是/ 参与/ 应用/ 的/ 服务/ 和/ 数据/ 对象/ 的/ 集合/ ,/ 由/ 领域专家/ 事先/ 构造/ ;/ 模型/ 的/ 3/ 个/ 视图/ ,/ 描述/ 应用/ 的/ 不同/ 侧面/ ,/ 协同/ 建模/ 服务/ 组合/ ./ 流程/ 视图/ 和/ 数据/ 视图/ ,/ 面向/ 数据/ 对象/ ,/ 分别/ 针对/ 数据/ 对象/ 的/ 属性/ 和/ 操作/ ,/ 以/ 声明/ 式/ 编程/ 的/ 方式/ 分别/ 定义数据/ 约束/ 和/ 行为/ 约束/ ./ 流程/ 视图/ 以/ 流程/ 活动/ 为/ 编程/ 元素/ ,/ 针对/ 控制流/ 逻辑/ ,/ 以/ 命令式/ 编程/ 的/ 方式/ 构建/ 流程/ 中/ 确定/ 的/ 结构/ ;/ 流程/ 中/ 不/ 确定/ 的/ 结构/ ,/ 是/ 系统/ 参照/ 数据/ 视图/ 和/ 行为/ 视图/ 声明/ 的/ 约束/ ,/ 由/ 系统/ 半自动/ 合成/ 的/ ./ 在/ 本文/ 中/ ,/ 我们/ 把/ 流程/ 中/ 事先/ 确定/ 的/ 、/ 以/ 命令式/ 编程/ 定义/ 的/ 流程/ 描述/ 称为/ 应用/ 的/ 预制/ 逻辑/ ./ 把/ 流程/ 中/ 事先/ 不/ 确定/ 的/ 、/ 用户/ 临机/ 基于/ 多/ 视图/ 合成/ 的/ 流程/ 描述/ 称为/ 应用/ 的/ 临机/ 逻辑/ ./ 2.3/ 视图/ 定义/ 组合/ 的/ 控制流/ 逻辑/ ./ Vp/ =/ 〈/ S/ ,/ T/ ,/ Ac/ ,/ Ap/ 〉/ ,/ 其中/ :/ 多个/ 视图/ 的/ 定义/ 将/ 在下文/ 逐一/ 给出/ ./ 定义/ 3/ ./ 流程/ 视图/ ./ 流程/ 视图/ Vp/ 描述/ 了/ 服务/ Page4S/ =/ {/ s/ |/ s/ ∈/ Muv/ / Ss/ }/ 是/ 流程/ 的/ 服务型/ 活动/ 的/ 集合/ ,/ 是/ 模型/ 中/ 服务/ 集合/ 的/ 子集/ ./ Ac/ =/ ST/ ∪/ ED/ ∪/ AS/ ∪/ AJ/ ∪/ CS/ ∪/ CJ/ ,/ 是/ 流程/ 的/ 控制/ 活动/ 的/ 集合/ :/ ST/ ,/ ED/ 分别/ 是/ 开始/ 和/ 结束/ 型/ 活动/ ;/ AS/ ,/ AJ/ 分别/ 是/ 并发/ 分支/ 和/ 并发/ 汇合/ 型/ 活动/ 的/ 集合/ ,/ CS/ ,/ CJ/ 分别/ 是/ 条件/ 分支/ 和/ 条件/ 汇合/ 型/ 活动/ 的/ 集合/ ./ Ap/ 是/ 流程/ 中/ 的/ 目标/ 活动/ 的/ 集合/ ./ 目标/ 活动/ 是/ 流程/ 结构/ 中/ 的/ 一种/ 占位/ 符/ ,/ 可以/ 在/ 构造/ 时/ 不必/ 指定/ 具体/ 的/ 实现/ ,/ 在/ 运行/ 时/ 动态/ 确定/ 控制/ 逻辑/ ./ 目标/ 活动/ 可以/ 灵活/ 实现/ 服务/ 组合/ 中/ 不能/ 事先/ 确定/ 的/ 部分/ ./ T/ / (/ S/ ∪/ Ac/ ∪/ Ap/ )/ ×/ (/ S/ ∪/ Ac/ ∪/ Ap/ )/ 是/ 流程/ 活动/ 连接/ ,/ 表达/ 了/ 流程/ 中/ 控制流/ 的/ 传递/ ./ 在/ 流程/ 视图/ 中/ ,/ 由/ 预制/ 逻辑/ 和/ 临机/ 逻辑/ 组成/ 的/ 控制流/ ,/ 体现/ 基于/ Muv/ 模型/ 的/ 服务/ 组合/ 是/ 一种/ 探索/ 式/ 的/ 构建/ 过程/ [/ 1/ ,/ 10/ ]/ ./ 预制/ 逻辑/ 由/ 服务/ 、/ 控制/ 活动/ 、/ 目标/ 活动/ 和/ 活动/ 连接/ 组成/ ,/ 其/ 构建/ 过程/ 本文/ 不/ 做/ 详细/ 讨论/ ./ 临机/ 逻辑/ 是/ 目标/ 活动/ 的/ 实现/ ,/ 由/ 服务/ 、/ 控制/ 活动/ 和/ 活动/ 连接/ 组成/ ,/ 作为/ 预制/ 逻辑/ 流程/ 结构/ 的/ 子/ 流程/ ./ 数据/ 视图/ 和/ 行为/ 视图/ 是/ 用户/ 针对/ 临机/ 逻辑/ 的/ 编程/ 界面/ ,/ 用户/ 面向/ 数据/ 对象/ 声明/ 式/ 的/ 编程/ ./ 声明/ 式/ 编程/ 范型/ 相比/ 命令式/ 范型/ ,/ 更/ 接近/ 用户/ 的/ 思维习惯/ ,/ 能够/ 支持/ 业务/ 约束/ ,/ 提供/ 了/ 更/ 高/ 的/ 灵活性/ [/ 11/ ]/ ./ 本文/ 关注/ 的/ 数据/ 约束/ 和/ 行为/ 约束/ ,/ 由/ 用户/ 分别/ 在/ 数据/ 视图/ 和/ 行为/ 视图/ 中/ 声明/ ./ 定义/ 4/ ./ 数据/ 视图/ ./ 数据/ 视图/ Va/ 描述/ 服务/ 组合/ 临机/ 逻辑/ 的/ 数据/ ,/ 表现/ 为/ 用户/ 针对/ 数据/ 对象/ 的/ 属性/ 声明/ 的/ 数据/ 约束/ 集合/ ./ Va/ =/ 〈/ Oa/ ,/ Ca/ 〉/ ,/ 其中/ Oa/ =/ {/ a/ |/ a/ ∈/ Data/ _/ obj/ / Ats/ ,/ Data/ _/ obj/ ∈/ Muv/ / So/ }/ 是/ 数据/ 对象/ 的/ 属性/ 的/ 集合/ ;/ Ca/ =/ Ga/ ∪/ Ra/ 是/ 属性/ 的/ 数据/ 约束/ 集合/ ,/ 包含/ 目标/ 约束/ 集合/ Ga/ 和/ 值/ 约束/ 集合/ Ra/ ./ 目标/ 约束/ 集/ Ga/ / (/ Max/ ∪/ Min/ )/ ×/ W/ ,/ 其中/ ,/ Max/ =/ {/ Max/ (/ a/ )/ |/ a/ ∈/ Va/ / Oa/ }/ 和/ Min/ =/ {/ Min/ (/ a/ )/ |/ a/ ∈/ Va/ / Oa/ }/ 分别/ 是/ 对/ 属性/ a/ 的/ 取/ 最大/ 、/ 最小值/ 的/ 约束/ ;/ W/ 是/ 约束/ 的/ 权值/ ;/ 值/ 约束/ Ra/ =/ {/ a/ =/ v/ |/ a/ ∈/ Va/ / Oa/ ,/ v/ 为/ 常数/ }/ 是/ 属性/ a/ 取值/ 的/ 约束/ ./ 以/ 城市/ 应急/ 为例/ ,/ 调度/ 指挥/ 人员/ 关注/ 受灾/ 地/ A/ 血浆/ 相关/ 的/ 体征/ 数据/ ,/ 可以/ 在/ 数据/ 视图/ 中/ 使用/ 血浆/ 这一/ 数据/ 对象/ 编排/ 应急/ 流程/ 中/ 的/ 数据/ 约束/ ./ 假设/ 受灾/ 地/ 和/ 5/ 个/ 救助/ 部门/ 依据/ 数据/ 模板/ PLASMA/ 提供/ 各自/ 的/ 血浆/ 数据/ 对象/ plasma/ (/ A/ )/ ,/ plasma/ (/ Ai/ )/ ,/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ 5/ ./ 其中/ 对象/ 中/ 的/ 属性/ 有/ mount/ ,/ cost/ 分别/ 表示/ 库存/ 血浆/ 数量/ 和/ 供应/ 成本/ ./ 假设/ 供应/ 成本/ 是/ 与/ 血浆/ 供应/ 数量/ 相关/ 的/ 函数/ ,/ 则/ 在/ 数据/ 视图/ 中/ ,/ 用户/ 使用/ 这/ 5/ 个/ 救助/ 组织/ 的/ 数据/ 对象/ ,/ 可以/ 声明/ 如下/ 的/ 数据/ 约束/ ./ 约束/ 表达/ 了/ 指挥/ 调度/ 人员/ 针对/ 各个/ 救助/ 部门/ 有限/ 的/ 血浆/ 资源/ ,/ 希望/ 能以/ 尽可能少/ 的/ 供给/ 成本/ (/ 目标/ 约束/ )/ ,/ 调度/ 足够/ 的/ 血浆/ 满足/ 受灾/ 地/ 的/ 要求/ (/ 值/ 约束/ )/ ./ 定义/ 5/ ./ 行为/ 视图/ ./ 行为/ 视图/ Vo/ 描述/ 服务/ 组合/ 临机/ 逻辑/ 的/ 数据/ 操作/ 模式/ ,/ 表现/ 为/ 用户/ 针对/ 数据/ 对象/ 的/ 操作/ 声明/ 的/ 行为/ 约束/ 集合/ ./ Vo/ =/ 〈/ Oop/ ,/ Co/ 〉/ ,/ 其中/ Oop/ =/ {/ o/ |/ o/ ∈/ Data/ _/ obj/ / Ops/ ,/ Data/ _/ obj/ ∈/ Muv/ / So/ ,/ Data/ _/ obj/ / Mapop/ (/ o/ )/ ∈/ Muv/ / Ss/ }/ ,/ 是/ 数据/ 对象/ 中/ 操作/ 的/ 集合/ ,/ 操作/ 映射/ 至/ 模型/ 中/ 的/ 服务/ ;/ Co/ =/ Ep/ ∪/ Sp/ ∪/ Xp/ 是/ 针对/ 操作/ 的/ 行为/ 约束/ 集合/ ,/ 包含/ 存在/ 约束/ Ep/ 、/ 顺序/ 约束/ Sp/ 和/ 选择/ 约束/ Xp/ ,/ 分别/ 从/ 操作/ 的/ 使用/ 次数/ 、/ 顺序/ 和/ 选择/ 方式/ 三/ 方面/ 限制/ 数据/ 对象/ 的/ 操作/ 及/ 操作/ 之间/ 必须/ 满足/ 的/ 行为/ 模式/ ./ 这三类/ 行为/ 约束/ 定义/ 如下/ ./ 存在/ 约束/ Ep/ =/ {/ c/ |/ c/ =/ existence/ (/ o/ ,/ up/ ,/ low/ )/ ,/ o/ ∈/ Op/ }/ ,/ 规定/ 了/ 操作/ o/ 的/ 使用/ 次数/ 的/ 限制/ ,/ 整型/ 参数/ up/ ,/ low/ 分别/ 表示/ 使用/ 次数/ 的/ 上/ 下限/ ,/ 0/ / low/ / up/ ./ 顺序/ 约束/ Sp/ =/ res/ ∪/ pre/ ∪/ co/ ∪/ alt/ ./ 其中/ ,/ res/ =/ {/ c/ |/ c/ =/ response/ (/ o1/ ,/ o2/ ,/ alt/ ,/ dir/ )/ }/ 规定/ 了/ 操作/ o1/ 执行/ 后/ 操作/ o2/ 才/ 会/ 执行/ ,/ 布尔/ 型/ 参数/ alt/ 表示/ 每/ 一个/ o1/ 后/ 是否/ 一定/ 有/ o2/ ;/ 布尔/ 型/ 参数/ dir/ 表示/ o2/ 是否是/ o1/ 的/ 直接/ 后继/ ./ pre/ =/ {/ c/ |/ c/ =/ precedence/ (/ o1/ ,/ o2/ ,/ alt/ ,/ dir/ )/ }/ 规定/ 了/ 在/ 操作/ o2/ 执行/ 前有/ 操作/ o1/ 的/ 执行/ ,/ 布尔/ 型/ 参数/ alt/ 表示/ 每/ 一个/ o2/ 前/ 是否/ 一定/ 会/ 有/ o1/ ;/ 布尔/ 型/ 参数/ dir/ 表示/ o1/ 是否是/ o2/ 的/ 直接/ 前驱/ ./ co/ =/ {/ c/ |/ c/ =/ coexist/ (/ o1/ ,/ o2/ )/ }/ 规定/ 了/ 操作/ o1/ 的/ 执行/ 意味着/ o2/ 已经/ 执行/ 或/ 将来/ 一定/ 执行/ ,/ 反之亦然/ ./ alt/ =/ {/ c/ |/ c/ =/ alternate/ (/ o1/ ,/ o2/ )/ }/ 约束/ 了/ 操作/ o1/ 和/ o2/ 是/ 不能/ 互为/ 前驱/ 后继/ 的/ ./ 选择/ 约束/ Xp/ =/ {/ c/ |/ c/ =/ choice/ (/ ops/ ,/ n/ ,/ exc/ )/ }/ 规定/ 了/ 集合/ ops/ 中/ 的/ 操作/ 被/ 选择/ 执行/ 的/ 方式/ ./ 整型/ 参数/ n/ 表示/ 在/ ops/ 中/ 选择/ 操作/ 的/ 数量/ ,/ 布尔/ 型/ 参数/ exc/ 表示/ 选择/ 是否是/ 排他性/ 的/ ./ 在/ 行为/ 视图/ 中/ ,/ 用户/ 可以/ 使用/ 上述/ 3/ 类/ 行为/ 约束/ ,/ 表达/ 数据/ 对象/ 操作/ 的/ 需求/ ./ 本文/ 定义/ 的/ 行为/ 约束/ ,/ 参考/ 了/ ConDec/ [/ 7/ -/ 8/ ,/ 11/ ]/ 中/ 的/ 约束/ 模板/ 的/ 定义/ ,/ 可以/ 将/ 用户/ 声明/ 的/ 约束/ 等价/ 地/ 转化/ 为/ 线性/ 时态/ 逻辑/ Page5/ (/ LTL/ )/ 表达式/ ,/ 详见/ ConDec/ 的/ 相关/ 工作/ ./ 同样/ 以/ 上述/ 城市/ 应急/ 为例/ ,/ 调度/ 指挥/ 人员/ 协调/ 5/ 个/ 救助/ 组织/ 完成/ 血浆/ 的/ 调度/ ,/ 可以/ 在/ 行为/ 视图/ 中/ 使用/ 血浆/ 这一/ 数据/ 对象/ ,/ 声明/ 如下/ 行为/ 约束/ ./ 假设/ PLASMA/ 数据/ 模板/ 中/ 含有/ 操作/ replenish/ (/ )/ 和/ supply/ (/ )/ ,/ 分别/ 表示/ 血浆/ 的/ 补给/ 和/ 供应/ ./ existence/ (/ plasma/ (/ Ai/ )/ / supply/ ,/ 0/ ,/ 1/ )/ ,/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ 5/ ,/ precedence/ (/ plasma/ (/ Ai/ )/ / supply/ ,/ plasma/ (/ A/ )/ / replenish/ ,/ false/ ,/ false/ )/ ,/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ 5/ ./ 约束/ 表达/ 了/ 指挥/ 人员/ 可以/ 从/ 5/ 个/ 救助/ 机构/ 中/ 调度/ 血浆/ (/ 存在/ 约束/ )/ ,/ 将/ 调度/ 的/ 血浆/ 补充/ 受灾/ 地/ 的/ 库存/ (/ 顺序/ 约束/ )/ ./ 3/ 基于/ 多/ 视图/ 的/ 应用/ 合成/ 3.1/ 应用/ 的/ 合成/ 过程/ 基于/ 多/ 视图/ 合成/ 的/ 服务/ 组合/ 的/ 过程/ 如图/ 3/ 所示/ ,/ 其中/ 涉及/ 两类/ 用户/ 角色/ :/ 领域专家/ 和/ 一般/ 业务/ 用户/ ./ 领域专家/ 是/ 一类/ 高级/ 业务/ 用户/ ,/ 相比/ 一般/ 业务/ 用图/ 3/ 多/ 视图/ 合成/ 的/ 服务/ 组合/ (/ 2/ )/ 用户/ 参与/ 的/ 过程/ (/ i/ )/ 初始化/ 应用/ ./ 用户/ 根据/ 业务/ 需求/ ,/ 为/ 构建/ 的/ 应用/ 选择/ 流程/ 预制/ 逻辑/ ,/ 在/ 流程/ 视图/ 中/ 配置/ 流程/ 参数/ 和/ 启动/ 流程/ 执行/ ./ (/ ii/ )/ 声明/ 约束/ ./ 为了/ 灵活/ 地/ 描述/ 流程/ 的/ 临机/ 逻辑/ ,/ 用户/ 可以/ 在/ 应用/ 的/ 构造/ 时/ 或/ 运行/ 时/ ,/ 根据/ 业务/ 需求/ 选择/ 需要/ 的/ 数据/ 对象/ ,/ 声明/ 对象/ 相关/ 的/ 约束/ ./ (/ a/ )/ 在/ 应用/ 的/ 数据/ 视图/ 中/ ,/ 用户/ 针对/ 数据/ 对象/ 的/ 属性/ ,/ 声明/ 体征/ 数据/ 的/ 数据/ 约束/ ,/ 包括/ 目标/ 约束/ 和/ 值约户/ (/ 文中/ 简称/ 为/ 用户/ )/ ,/ 他们/ 不仅/ 熟练掌握/ 领域/ 知识/ ,/ 还/ 拥有/ 一定/ 的/ IT/ 技术/ 和/ 经验/ ./ 以下/ 分别/ 详述/ 这/ 两类/ 角色/ 各自/ 参与/ 的/ 服务/ 组合/ 过程/ ./ (/ 1/ )/ 领域专家/ 参与/ 的/ 过程/ (/ i/ )/ 构建/ 预制/ 逻辑/ ./ 领域专家/ 抽象/ 常用/ 的/ 业务/ 过程/ ,/ 使用/ 控制流/ 活动/ 为/ 中心/ 的/ 流程/ 描述/ (/ 如/ XPDL/ 语言/ )/ ,/ 构建/ 业务流程/ 的/ 预制/ 逻辑/ ./ 流程/ 结构/ 中/ 不能/ 事先/ 确定/ 的/ 部分/ ,/ 以/ 目标/ 活动/ 占位/ 表示/ ./ 为了/ 分析/ 问题/ 的/ 简便/ ,/ 本文/ 假设/ 一个/ 业务/ 过程/ 对应/ 领域专家/ 构建/ 的/ 一个/ 流程/ 预制/ 逻辑/ ;/ 一个/ 预制/ 逻辑/ 中/ 至多/ 包含/ 一个/ 目标/ 活动/ ./ 构建/ 的/ 流程/ 预制/ 逻辑/ ,/ 可/ 被/ 一般/ 业务/ 用户/ 在/ 构建/ 应用/ 时/ 使用/ ./ (/ ii/ )/ 抽象/ 数据/ 对象/ ./ 领域专家/ 根据/ 领域/ 内/ 常见/ 的/ 体征/ 数据/ ,/ 抽象/ 得到/ 数据/ 对象/ ./ 抽象/ 的/ 粒度/ 、/ 层次/ 和/ 内容/ ,/ 均/ 由/ 领域专家/ 根据/ 领域/ 的/ 业务/ 需求/ 确定/ ./ 数据/ 对象/ 包含/ 属性/ 和/ 操作/ :/ 属性/ 反映/ 体征/ 数据/ 的/ 状态/ ;/ 操作/ 描述/ 使用/ 对象/ 的/ 方法/ ,/ 且/ 操作/ 映射/ 至/ 底层/ 的/ 服务/ 实现/ (/ 如/ Java/ 服务/ 、/ Web/ 服务/ 、/ Rest/ 服务/ 或/ OpenAPI/ 等/ )/ ./ 束/ ./ 其中/ ,/ 每/ 一个/ 目标/ 约束/ 需要/ 用户/ 指定/ 权值/ ;/ 用户/ 可以/ 使用/ 多个/ 数据/ 对象/ 的/ 属性/ 声明/ 值/ 约束/ ./ (/ b/ )/ 在/ 应用/ 的/ 行为/ 视图/ 中/ ,/ 用户/ 针对/ 数据/ 对象/ 的/ 操作/ ,/ 声明/ 行为/ 约束/ ,/ 包括/ 存在/ 约束/ 、/ 顺序/ 约束/ 和/ // 或/ 选择/ 约束/ ./ (/ iii/ )/ 临机/ 决策/ ./ 应用/ 执行/ 至/ 目标/ 活动/ 时/ ,/ 系统/ 参照/ 用户/ 声明/ 的/ 约束/ ,/ 实现/ 临机/ 逻辑/ 的/ 控制流/ 结构/ ./ 本文/ 提出/ 一种/ 临机/ 逻辑/ 候选/ 流程/ 的/ 构造/ 算法/ ,/ 返回/ 用户/ 的/ 候选/ 流程/ 都/ 满足/ 声明/ 的/ 约束/ ./ 用户/ 从/ 候选/ 结构/ Page6/ 中/ 确定/ 一种/ 结构/ 继续执行/ ./ 若/ 系统/ 无法/ 构造/ 满足/ 约束/ 的/ 流程/ 结构/ ,/ 系统/ 将/ 存在/ 的/ 问题/ (/ 如是/ 哪些/ 约束/ 无法/ 满足/ )/ 返回/ 用户/ ,/ 辅助/ 用户/ 在/ 数据/ 视图/ 和/ 行为/ 视图/ 修改/ 约束/ ./ 用户/ 可以/ 在/ 数据/ 视图/ 观察/ 不断/ 变化/ 的/ 体征/ 数据/ ,/ 可以/ 在/ 运行/ 时/ 修改/ 约束/ 重新/ 提交/ 系统/ ,/ 逐步/ 地/ 构造/ 和/ 执行/ 接下来/ 的/ 业务流程/ ./ 这个/ 阶段/ 是/ 用户/ 主导/ 、/ 迭代/ 进行/ 的/ ,/ 直到/ 用户/ 确定/ 临/ 机构/ 建/ 的/ 结束/ ./ 随后/ ,/ 应用/ 流程/ 返回/ 预制/ 逻辑/ 执行/ 至/ 结束/ ./ 从/ 用户/ 为/ 中心/ 的/ 服务/ 组合/ 的/ 过程/ 可以/ 看到/ ,/ 临机/ 逻辑/ 的/ 构造/ 始终/ 与/ 用户/ 交互/ ./ 下文/ 将/ 针对/ 视图/ 中/ 的/ 用户/ 操作/ 和/ 系统/ 提供/ 的/ 支撑/ 分别/ 详细/ 阐述/ ./ 3.2/ 用户/ 的/ 视图/ 操作/ 本/ 节/ 给出/ 各个/ 视图/ 中/ 用户/ 操作/ 的/ 形式化/ 表达/ ;/ 在/ 实际/ 的/ 使用/ 中/ ,/ 用户/ 可以/ 通过/ GUI/ 界面/ 的/ 辅助/ ,/ 进行/ 约束/ 声明/ ./ (/ 1/ )/ 数据/ 视图/ 的/ 操作/ 操作/ 1/ ./ 增加/ // 修改/ 目标/ 约束/ updateGoal/ ./ 输入/ :/ 属性/ a/ 、/ 权值/ w/ 和/ 目标/ 类型/ m/ 输出/ :/ 目标/ 约束/ ga/ 前提/ :/ a/ ∈/ Va/ ./ Oa/ ;/ 当/ 数据/ 视图/ 中尚/ 不/ 存在/ 其它/ 目标/ 约束/ ,/ 权值/ w/ 可/ 不必/ 指定/ (/ 默认值/ 1/ )/ ;/ m/ =/ {/ Max/ ,/ Min/ }/ 指明/ 目标/ 是/ 取/ 最大值/ 或/ 最小值/ ./ 的/ 值/ 约束/ ./ 约束/ ga/ ,/ 权值/ w/ 说明/ ga/ 的/ 重要/ 程度/ ./ 效果/ :/ 数据/ 视图/ 中为/ 属性/ a/ 增加/ // 修改/ 类型/ 为/ m/ 的/ 目标/ 操作/ 2/ ./ 增加/ // 修改/ 值/ 约束/ 操作/ updateValue/ ./ 输入/ :/ 属性/ a/ 和/ 期望值/ v/ 输出/ :/ 值/ 约束/ ra/ 前提/ :/ a/ ∈/ va/ ./ Oa/ 效果/ :/ 数据/ 视图/ 中为/ 属性/ a/ 增加/ // 修改/ 一个/ 期望值/ 为/ v/ 操作/ 3/ ./ 删除/ 数据/ 约束/ 操作/ delCa/ ./ 输入/ :/ 数据/ 约束/ c/ 输出/ :/ 无/ 前提/ :/ / c/ ∈/ Va/ ./ Ca/ ./ 效果/ :/ 数据/ 视图/ 中/ 删除/ 一个/ 数据/ 约束/ c/ ./ (/ 2/ )/ 行为/ 视图/ 的/ 操作/ 操作/ 4/ ./ 增加/ // 修改/ 存在/ 约束/ 操作/ updateEp/ ./ 输入/ :/ 操作/ o/ ,/ 整型/ 参数/ up/ 和/ low/ ./ up/ 和/ low/ 分别/ 描述/ 操作/ 使用/ 次数/ 的/ 上界/ 和/ 下界/ ./ low/ 默认/ 为/ 1/ ,/ up/ 默认/ 为/ 无穷大/ 输出/ :/ 存在/ 约束/ ep/ 前提/ :/ / o/ ∈/ Vo/ ./ Oop/ ;/ 0/ </ low/ / up/ ./ 效果/ :/ 行为/ 视图/ 中/ 增加/ // 修改/ 一个/ 使用/ 次数/ 为/ 不少/ 于/ low/ 次且/ 不/ 多于/ up/ 次/ 的/ 存在/ 约束/ ep/ ./ 操作/ 5/ ./ 增加/ // 修改/ 顺序/ 约束/ 操作/ updateSp/ ./ 输入/ :/ 顺序/ 算子/ s/ ,/ 操作/ o1/ ,/ o2/ ,/ 布尔/ 型/ 变量/ alt/ ,/ dir/ 输出/ :/ 顺序/ 约束/ spexc/ =/ true/ 时/ xp/ 是/ 排他性/ 选择/ ./ 输出/ :/ 选择/ 约束/ xp/ 前提/ :/ / oi/ ∈/ Vo/ ./ Oop/ ,/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ m/ ;/ n/ / m/ ./ 效果/ :/ 行为/ 视图/ 中/ 增加/ // 修改/ 一个/ 选择/ 约束/ xp/ ,/ 且/ 当/ 操作/ 7/ ./ 删除/ 行为/ 约束/ 操作/ delCo/ ./ 输入/ :/ 行为/ 约束/ c/ 输出/ :/ 无/ 前提/ :/ / c/ ∈/ Vo/ ./ Co/ ./ 效果/ :/ 行为/ 视图/ 中/ 删除/ 一个/ 行为/ 约束/ c/ ./ (/ 3/ )/ 流程/ 视图/ 的/ 操作/ 操作/ 8/ ./ 确定/ 候选/ 流程/ 操作/ decideCandi/ ./ 输入/ :/ 候选/ 流程/ 集合/ candiSet/ 输出/ :/ 流程/ 结构/ flowstep/ 前提/ :/ / flowstep/ ∈/ candiSet/ ,/ flowstep/ 满足/ Va/ 中/ 的/ 数据/ 前提/ :/ / oi/ ∈/ Vo/ ./ Oop/ ,/ i/ =/ 1/ ,/ 2/ ;/ s/ =/ {/ response/ ,/ preced/ -/ ence/ ,/ coexist/ ,/ alternate/ }/ ./ 效果/ :/ 行为/ 视图/ 中/ 增加/ // 修改/ 一个/ 顺序/ 约束/ sp/ ;/ 当/ s/ =/ response/ 或/ precedence/ 时/ ,/ 参数/ alt/ ,/ dir/ 有/ 意义/ ,/ 其/ 语义/ 参见/ 定义/ 5/ ./ 操作/ 6/ ./ 增加/ // 修改/ 选择/ 约束/ 操作/ updateXp/ ./ 输入/ :/ 整型/ 参数/ n/ ,/ 描述/ 选取/ 数量/ ;/ 布尔/ 型/ 参数/ exc/ ,/ 描述/ 选择/ 是否是/ 排他性/ 的/ ;/ 操作/ o1/ ,/ o2/ ,/ …/ ,/ om/ 约束/ ,/ 不/ 违背/ Vp/ 中/ 的/ 行为/ 约束/ ./ 结构/ flowstep/ 作为/ 临机/ 逻辑/ 的/ 流程/ 结构/ ./ 效果/ :/ 从/ 参照/ 约束/ 生成/ 的/ 流程/ 候选/ 集/ candiSet/ 中/ ,/ 选择/ 操作/ 9/ ./ 结束/ 临机/ 逻辑/ 构造/ 操作/ finish/ ./ 输入/ :/ 无/ 输出/ :/ 无/ 前提/ :/ / flowstepinVp/ ./ Ap/ ,/ 即/ 至少/ 为/ 目标/ 活动/ ,/ 进行/ 过/ 效果/ :/ 结束/ 临机/ 逻辑/ 构造/ ./ 一次/ 临机/ 逻辑/ 构造/ ./ 3.3/ 临机/ 逻辑/ 候选/ 流程/ 的/ 构造/ 算法/ 用户/ 在/ 数据/ 视图/ 和/ 行为/ 视图/ 中/ 声明/ 体征/ 数据/ 相关/ 的/ 约束/ ;/ 参照/ 这些/ 约束/ ,/ 系统/ 半自动/ 地/ 合成/ 临机/ 逻辑/ 的/ 流程/ 结构/ ,/ 在/ 流程/ 视图/ 中/ 呈现/ ./ 用户/ 主导/ 流程/ 临机/ 逻辑/ 的/ 构造/ 、/ 执行/ 和/ 结束/ ./ 临机/ 逻辑/ 的/ 构造/ 和/ 执行/ 过程/ 如图/ 4/ 所示/ ./ 在/ 这个/ 过程/ 中/ 根据/ 声明/ 的/ 约束/ 构造/ 候选/ 流程/ 成为/ 关键/ ,/ 本/ 节/ 给出/ 了/ 一种/ 临机/ 逻辑/ 候选/ 流程/ 的/ 构造/ 算法/ ./ 算法/ 以/ 在/ 视图/ 中/ 声明/ 的/ 数据/ 约束/ 和/ 行为/ 约束/ 作为/ 输入/ ,/ 返回/ 候选/ 流程/ 的/ 集合/ ./ 候选/ 流程/ 中/ 体征/ 数据/ 满足/ 值/ 约束/ 、/ 对/ 目标/ 约束/ 求优/ ,/ 而且/ 其/ 服务/ 组合/ 的/ 方式/ 不/ 违背/ 行为/ 约束/ ./ 算法/ 1/ ./ 候选/ 流程/ 构造/ 算法/ candiCon/ (/ Ca/ ,/ Co/ )/ ./ 输入/ :/ 数据/ 视图/ 声明/ 的/ 数据/ 约束/ 集合/ Ca/ ;/ 行为/ 视图/ 声/ 输出/ :/ 候选/ 流程/ 的/ 集合/ Page7/ 步骤/ :/ // // 针对/ 数据/ 视图/ 的/ 目标/ 约束/ ,/ 构造/ 全局/ 目标/ 函数/ g1/ ./ g/ =/ utility/ (/ Va/ ./ Ga/ )/ ;/ // // 针对/ 数据/ 视图/ 的/ 数据/ 约束/ ,/ 构造/ 限定/ 条件/ 集合/ rs2/ ./ rs/ =/ restriction/ (/ Va/ ./ Ca/ )/ ;/ // // 以/ g/ 为/ 目标/ ,/ 以/ rs/ 为/ 限定/ 条件/ ,/ 通过/ 线性/ 目标/ 规划/ 3/ ./ optV/ =/ Lp/ (/ g/ ,/ rs/ )/ ;/ 4/ ./ if/ (/ optV/ =/ =/ NULL/ )/ 5/ ./ returnNULL/ ;/ 6/ ./ endif/ // // 构建/ 参与/ 临机/ 逻辑/ 的/ 服务/ 集合/ Sser/ 和/ 服务/ 的/ 行为/ 7/ ./ Sser/ =/ {/ }/ ;/ Scon/ =/ {/ }/ ;/ 8/ ./ for/ (/ Data/ _/ objobjinoptV/ )/ 9/ ./ for/ (/ opinobj/ ./ Ops/ )/ 10/ ./ s/ =/ obj/ ./ Mapop/ (/ op/ )/ ;/ 11/ ./ Sser/ =/ Sser/ ∪/ s/ ;/ 12/ ./ for/ (/ cinVo/ ./ Co/ )/ 13/ ./ if/ (/ opinc/ )/ 14/ ./ c/ =/ substitute/ (/ c/ ,/ op/ ,/ s/ )/ ;/ 15/ ./ Scon/ =/ Scon/ ∪/ c/ ;/ 16/ ./ endif17/ ./ endfor18/ ./ endfor19/ ./ endfor/ // // 行为/ 约束/ 的/ 一致性/ 检验/ 20/ ./ if/ (/ !/ consistency/ (/ Scon/ )/ )/ 21/ ./ returnNULL/ ;/ 22/ ./ else/ // // 合成/ 候选/ 流程/ 集合/ ps23/ ./ ps/ =/ makeProcess/ (/ Scon/ )/ ;/ 24/ ./ returnps/ ;/ 25/ ./ endif/ 算法/ candiCon/ 分为/ 3/ 个/ 阶段/ :/ (/ 1/ )/ 数据/ 约束/ 的/ 目标/ 规划/ 阶段/ (/ 1/ ~/ 6/ 行/ )/ ./ 在/ 数据/ 视图/ 中/ ,/ utility/ 函数/ 对/ 目标/ 约束/ 中/ p/ 个/ Max/ 约束/ 和/ q/ 个/ Min/ 约束/ ,/ 构造/ 全局/ 目标/ 函数/ :/ g/ =/ Min/ (/ wj/ // w/ )/ ∑/ q/ 其中/ a/ _/ maxi/ 是/ 第/ i/ 个/ Max/ 型/ 目标/ 约束/ 中/ 的/ 属性/ ;/ a/ _/ minj/ 是/ 第/ j/ 个/ Min/ 型/ 目标/ 约束/ 中/ 的/ 属性/ ;/ wi/ 为/ 第/ i/ 个/ 目标/ 约束/ 的/ 权值/ ;/ w/ 为/ 所有权/ 值/ 的/ 算术/ 平均值/ ./ 通过/ 全局/ 目标/ 函数/ 将/ 多/ 目标/ 规划/ 问题/ 转化/ 为单/ 目标/ 的/ 规划/ ./ 函数/ restriction/ 以/ 数据/ 视图/ 中/ 的/ 目标/ 约束/ 和/ 值/ 约束/ 作为/ 输入/ ,/ 构造/ 规划/ 的/ 限定/ 条件/ 集/ rs/ ,/ rs/ 由/ 对象/ 属性/ 和/ 辅助/ 变量/ 的/ 取值/ 限定/ 组成/ ./ rs/ =/ {/ a/ 的/ 取值/ 限定/ |/ a/ ∈/ Va/ / Oa/ }/ ∪/ {/ 辅助/ 变量/ 的/ 取值/ 限定/ }/ ./ 其中/ ,/ 属性/ 在/ 数据/ 视图/ 的/ 值/ 约束/ 可以/ 确定/ 其/ 期望值/ ,/ 属性/ 运行/ 时/ 的/ 取值/ 可以/ 确定/ 其/ 取值/ 范围/ ;/ 辅助/ 变量/ 是/ 计算/ 时/ 使用/ 的/ 临时/ 变量/ ,/ 其/ 取值/ 限定/ 由/ 算法/ 运行/ 时/ 确定/ ./ 函数/ Lp/ 通过/ 基于/ 单纯/ 型/ 的/ 线性/ 目标/ 规划/ ,/ 给出/ 在/ 目标/ g/ 下/ 的/ 最优/ 方案/ ,/ 即/ 最优/ 目标值/ 和/ 达到/ 该/ 目标/ 相关/ 属性/ 的/ 值/ ,/ 该/ 最优/ 方案/ 通过/ 数据结构/ optV/ 返回/ ./ optV/ 同时/ 记录/ 了/ 参与/ 规划/ 的/ 数据/ 对象/ (/ 其/ 属性/ 的/ 期望值/ 不/ 等于/ 当前/ 实际/ 的/ 值/ )/ ./ 当/ 不/ 存在/ 这样/ 的/ 方案/ ,/ 算法/ 返回/ 并/ 提示/ “/ 数据/ 约束/ 无法/ 满足/ ”/ ./ (/ 2/ )/ 行为/ 约束/ 的/ 构建/ 阶段/ (/ 7/ ~/ 21/ 行/ )/ ./ 针对/ 上/ 一步/ 返回/ 结果/ optV/ 中/ 的/ 所有/ 数据/ 对象/ ,/ 获取/ 其/ 操作/ 所/ 绑定/ 的/ 服务/ 构建/ 服务/ 集合/ Sser/ ./ 接下来/ ,/ 函数/ substitute/ 以/ 行为/ 视图/ 中/ 的/ 约束/ c/ 、/ 操作/ op/ 和/ 服务/ s/ 为/ 参数/ ,/ 构建/ 服务/ 行为/ 的/ 约束/ c/ ./ 其中/ ,/ op/ 是/ c/ 中/ 存在/ 的/ 操作/ 、/ s/ 是/ op/ 所/ 映射/ 的/ 服务/ ./ 于是/ ,/ 得到/ 服务/ 的/ 行为/ 约束/ 集合/ Scon/ / consistency/ 函数/ 以/ 约束/ 集/ Scon/ 为/ 参数/ ,/ 将/ 约束/ 转化/ 为/ LTL/ (/ 线性/ 时态/ 逻辑/ )/ 表达/ ,/ 验证/ 一致性/ ./ 当/ 存在/ 不/ 一致/ 时/ ,/ 算法/ 返回/ 并/ 提示/ “/ 行为/ 约束/ 无法/ 满足/ ”/ ./ (/ 3/ )/ 流程/ 结构/ 的/ 合成/ (/ 22/ ~/ 25/ 行/ )/ ./ 对/ 验证/ 一致/ 的/ 服务/ 行为/ 约束/ 集合/ Scon/ ,/ makeProcess/ 函数/ 参照/ 其中/ 的/ 约束/ 合成/ 流程/ 结构/ ./ 该/ 函数/ 扩展/ 了/ Decalare/ [/ 7/ ,/ 11/ ]/ 的/ 方法/ ,/ 将/ 使/ 能/ (/ enable/ )/ 的/ 服务/ 的/ 调用/ 过程/ ,/ 以/ 控制流/ 结构/ 呈现/ ./ 具体地说/ ,/ 对于/ 服务/ 之间/ 的/ 顺序/ 约束/ ,/ 合成/ 服务/ 之间/ 的/ 顺序/ 结构/ ;/ 对于/ 选择/ 约束/ ,/ 合成/ 服务/ 之间/ 的/ 条件/ 分支/ 结构/ ;/ 其它/ 情形/ 下/ ,/ 服务/ 之间/ 尽可能/ 组成/ 并发/ 的/ 结构/ ./ 考虑/ 到/ 服务/ 组合/ 整体/ 执行/ 的/ 效果/ ,/ 算法/ 在/ 返回/ 的/ 候选/ 集合/ 中/ ,/ 将/ 整体/ 可行/ 的/ 服务/ 组合/ 结果/ 按/ 并发/ 结构/ 的/ 数目/ 排序/ ./ Page8candiCon/ 算法/ 利用/ 视图/ 声明/ 的/ 约束/ ,/ 分别/ 进行/ 服务/ 的/ 选择/ 和/ 调度/ ./ 相比/ 传统/ 的/ 基于/ 约束/ 的/ 服务/ 组合/ 方法/ ,/ 由于/ 目标/ 规划/ 确定/ 了/ 目标/ 最优/ 时/ 的/ 服务/ 范围/ ,/ 大大/ 减小/ 了/ 组合/ 过程/ 中/ 的/ 流程/ 结构/ 的/ 中间状态/ ,/ 提高/ 了/ 运算/ 的/ 效率/ ./ 4/ 案例/ 与/ 评价/ 4.1/ 案例/ 分析/ 本节/ 以/ 一个/ 城市/ 应急/ 场景/ 为例/ ,/ 说明/ 本文/ 提出/ 的/ 多/ 视图/ 服务/ 组合/ 方法/ 的/ 使用/ 过程/ 和/ 效果/ ./ 场景/ 中有/ 一个/ 受灾/ 地点/ A/ ,/ 5/ 个/ 救助/ 机构/ Ai/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ 5/ )/ 都/ 可为/ A/ 地/ 提供/ 应急/ 服务/ ./ 应急/ 指挥/ 中心/ 的/ 指挥/ 人员/ 需要/ 随时/ 关注/ 受灾/ 地/ 的/ 灾情/ 变化/ 情况/ ,/ 进行/ 临机/ 决策/ ,/ 灵活/ 、/ 动态/ 地/ 构建/ 应急/ 处置/ 方案/ ,/ 对/ 参与/ 应急/ 的/ 服务/ 进行/ 调度/ 协调/ ./ 受灾/ 地点/ A/ 的/ 血浆/ 存量/ 是/ 反映/ 灾情/ 变化/ 的/ 一项/ 关键/ 的/ 体征/ 数据/ ./ 对/ 灾情/ 的/ 救助/ 活动/ 使得/ 地点/ A/ 库存/ 的/ 血浆/ 不断/ 被/ 消耗/ ,/ 因此/ 通过观察/ 血浆/ 数量/ 的/ 变化/ 可以/ 了解/ 和/ 判断/ 灾情/ 的/ 发展趋势/ ,/ 即时/ 制定/ 应对/ 方案/ ./ 其中/ ,/ 血浆/ 体征/ 数据/ 的/ 数据/ 模板/ PLASMA/ 如表/ 1/ 所示/ ./ 属性/ 名/ 类型/ mount/ 实数/ cost/ 实数/ 操作/ 名称/ 返回/ 类型/ 参数/ getMount/ 实数/ 无/ 映射/ 至/ 库存/ 查询/ 服务/ ,/ 获得/ getCost/ 实数/ 无/ 映射/ 至/ 成本计算/ 服务/ ,/ 获得/ supply/ 无/ 字符串/ idt/ ,/ replenish/ 无/ 字符串/ ids/ ,/ 机构/ AA1A2A3A4A5/ 假设/ A/ ,/ Ai/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ 5/ )/ 均/ 向/ 指挥/ 中心/ 注册/ 了/ 各自/ 的/ 血浆/ 数据/ 对象/ ,/ 则/ 指挥/ 人员/ 通过/ 各个/ 机构/ 提供/ 的/ 数据/ 对象/ ,/ 可以/ 得到/ 如表/ 2/ 所示/ 的/ 体征/ 数据/ ./ 由于/ 需要/ 谨慎/ 保证/ 血浆/ 这/ 一种/ 生物制品/ 的/ 安全性/ ,/ 必要/ 的/ 运输/ 和/ 防护/ 都/ 会/ 产生/ 一定/ 的/ 成本/ ./ 从/ 对象/ 的/ 补给/ 操作/ 和/ 供应/ 操作/ 的/ 效果/ 可知/ ,/ 救助/ 机构/ Ai/ 运输/ 血浆/ 数量/ x/ 的/ 成本/ 为/ plasma/ (/ Ai/ )/ / cost/ =/ fi/ (/ x/ )/ =/ 受灾/ 地/ A/ 接受/ 救助/ 机构/ 的/ 供给/ ,/ 应急/ 过程/ 的/ 成本/ 为/ plasma/ (/ A/ )/ / cost/ =/ f/ (/ x/ )/ =/ ∑/ 5/ 由于/ 各个/ 可以/ 参与/ 供给/ 的/ 救助/ 部门/ 血浆/ 供给量/ 有限/ ,/ 指挥/ 人员/ 需要/ 临机/ 决策/ 调度/ 方案/ ,/ 构建/ 血浆/ 调度/ 流程/ ,/ 期望/ 调度/ 的/ 血浆/ 总量/ 能够/ 满足/ 受灾/ 点/ 的/ 需求/ ,/ 同时/ 期望/ 成本/ 越少/ 越/ 好/ ./ 在/ 数据/ 视图/ 中/ ,/ 指挥/ 人员/ 可以/ 实时/ 得到/ A/ 地/ 血浆/ 的/ 库存量/ 和/ 整个/ 调度/ 过程/ 的/ 成本/ ,/ 并/ 以表/ 3/ 所示/ 的/ 方式/ 指定/ 其/ 血浆/ 库存/ 的/ 期望值/ 和/ 成本/ 最小/ 的/ 目标/ ./ 数值/ 属性/ 当前/ 值/ 期望值/ 目标/ plasma/ (/ A/ )/ ./ mount30150plasma/ (/ A/ )/ ./ cost/ —/ 注/ :/ 黑体/ 数据/ 是/ 用户/ 的/ 输入/ 或/ 配置/ ./ 根据/ candiCon/ 算法/ 将/ 数据/ 视图/ 中/ 的/ 约束/ 转化/ 为/ 如下/ 的/ 目标/ 规划/ ,/ 系统/ 规划/ 得到/ 如表/ 4/ 所示/ 最优/ 方案/ ./ min10/ ×/ y1/ +/ 40/ ×/ y2/ +/ 30/ ×/ y3/ +/ 20/ ×/ y4/ +/ 50/ ×/ y5s/ ./ t/ ./ x1/ +/ x2/ +/ x3/ +/ x4/ +/ x5/ =/ 150/ -/ 30/ (/ 1/ )/ 其中/ 约束/ (/ 1/ )/ 表示/ 调度/ 血浆/ 的/ 数量/ 满足/ 期望值/ ;/ 约束/ (/ 2/ )/ ~/ (/ 6/ )/ 表示/ 每个/ 救助/ 机构/ 可/ 供/ 调度/ 血浆/ 数量/ 的/ 上/ 下限/ ;/ 约束/ (/ 7/ )/ 中/ 辅助/ 变量/ yi/ (/ i/ =/ 1/ …/ 5/ )/ 取值/ 为/ 1/ 或/ 0/ ;/ 取/ 1/ 时/ 表示/ 第/ i/ 个/ 救助/ 机构/ 参与/ 供给/ ;/ 取/ 0/ 表示/ 不/ 参与/ ./ Page9x1x2x3x4x5/ 总计/ 注/ :/ 用户/ 通过/ GUI/ 界面/ 配置/ 行为/ 约束/ ;/ 第/ 3/ 个/ 约束/ 使用/ 了/ 特种/ 车辆/ 的/ 数据/ 对象/ vehicle/ ,/ 它/ 含有/ 一个/ 运输/ 操作/ convey/ (/ )/ ,/ 映射/ 至/ 一个/ 运输/ 服务/ convey/ 在/ 行为/ 视图/ 中/ ,/ 指挥/ 人员/ 以表/ 5/ 示意/ 的/ 方式/ ,/ 通过/ 对/ 数据/ 对象/ 的/ 操作/ 进行/ 编排/ ,/ 系统生成/ 如下/ 所示/ 的/ 行为/ 约束/ :/ precedence/ (/ plasma/ (/ Ai/ )/ ./ supply/ ,/ plasma/ (/ A/ )/ ./ replenish/ ,/ false/ ,/ existence/ (/ plasma/ (/ Ai/ )/ ./ supply/ ,/ 0/ ,/ 1/ )/ ,/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ 5/ ;/ precedence/ (/ vehicle/ ./ convey/ ,/ plasma/ (/ Aj/ )/ ./ supply/ ,/ true/ ,/ true/ )/ ,/ j/ =/ 2/ ,/ 5/ ./ false/ )/ ,/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ 5/ ;/ 通过/ 算法/ candiCon/ ,/ 指挥/ 人员/ 在/ 流程/ 视图/ 中/ 选定/ 候选/ 流程/ ,/ 所/ 构建/ 的/ 调度/ 流程/ 示意/ 如图/ 5/ ./ 其中/ ,/ 应急/ 流程/ 预制/ 逻辑/ 中/ 的/ 服务/ collection/ 负责/ 收集/ 受灾/ 资料/ ;/ 供给/ 服务/ supply/ 和/ 补给/ 服务/ replenish/ 是/ 指挥/ 人员/ 临机/ 构造/ 和/ 执行/ 的/ ,/ 其/ 运行/ 时/ 的/ 参数/ 来自/ 算法/ candiCon/ 目标/ 规划/ 的/ 血浆/ 调度/ 数量/ ,/ 由/ 系统/ 自动/ 配置/ ;/ 特种/ 车辆/ 运输/ 服务/ convey/ 和/ 相关/ 机构/ 的/ 供给/ 、/ 补给/ 服务/ 的/ 执行/ 顺序/ 和/ 结构/ ,/ 是/ 由/ 算法/ candi/ -/ Con/ 自动/ 生成/ 、/ 用户/ 选择/ 确定/ 的/ ./ 结合/ 案例/ 可以/ 说明/ ,/ 本文/ 方法/ 使用/ 业务/ 中/ 的/ 体征/ 数据/ 作为/ 编程/ 元素/ ,/ 提高/ 了/ 用户/ 编程/ 的/ 易用性/ ;/ 通过/ 声明/ 约束/ 表达/ 服务/ 组合/ 需求/ ,/ 提升/ 了/ 用户/ 编程/ 的/ 灵活性/ ;/ 通过/ 数据/ 约束/ 的/ 目标/ 规划/ 确定/ 和/ 自动/ 配置/ 服务/ 的/ 执行/ 参数/ 、/ 结合/ 行为/ 约束/ 自动/ 组合/ 服务/ 的/ 流程/ 结构/ ,/ 为/ 用户/ 屏蔽/ 了/ 控制流/ 相关/ 的/ 技术细节/ ./ 综上所述/ ,/ 多/ 视图/ 合成/ 的/ 服务/ 组合/ 方法/ 为/ 用户/ 提供/ 了/ 易于/ 理解/ 编程/ 元素/ 和/ 编程/ 方式/ ,/ 通过/ 多/ 视图/ 协同/ 建模/ 屏蔽/ 了/ 底层/ 细节/ ,/ 故/ 极大/ 降低/ 了/ 用户/ 编程/ 的/ 复杂程度/ ./ 4.2/ 仿真/ 实验/ 基于/ 原型/ 系统/ 我们/ 设计/ 实验/ ,/ 对比/ 传统/ 基于/ 约束/ 的/ 服务/ 组合/ 方法/ ,/ 说明/ 本文/ 的/ 候选/ 流程/ 构建/ 算法/ 在/ 效率/ 上/ 的/ 提高/ ./ 针对/ 上/ 小节/ 给出/ 的/ 场景/ ,/ 实验/ 模拟/ 了/ 若干/ 救助/ 机构/ 提供/ 的/ 服务/ ,/ 抽象/ 相应/ 的/ 数据/ 对象/ ,/ 并/ 在/ 实验/ 中/ 不断/ 增加/ 新/ 的/ 救助/ 机构/ 及其/ 提供/ 的/ 服务/ 和/ 数据/ 对象/ ./ 在/ 处理器/ 为/ IntelCore2DuoE75002/ ./ 94GHz/ 、/ 内存/ 为/ 2GB/ 、/ 操作系统/ 为/ Ubuntu9/ ./ 0432bit/ 的/ 服务器/ 上/ ,/ 通过/ 以下/ 两种/ 方案/ 构建/ 服务/ 组合/ ,/ 统计/ 构建/ 过程/ 的/ 响应/ 时间/ ./ (/ 1/ )/ 多/ 视图/ 方案/ ./ 我们/ 在/ 数据/ 视图/ 和/ 行为/ 视图/ 中/ 声明/ 类似/ 上/ 小节/ 场景/ 中/ 的/ 约束/ ,/ 由/ candiCon/ 算法/ 返回/ 候选/ 流程/ 集合/ ./ (/ 2/ )/ 规则/ 引擎/ 方案/ ./ 基于/ 我们/ 参考/ Declare/ [/ 11/ ]/ 实现/ 的/ 规则/ 引擎/ ,/ 重新/ 声明/ 与/ 方案/ (/ 1/ )/ 同样/ 需求/ 下/ 的/ 服务/ 行为/ 约束/ ,/ 由该/ 工具/ 构建/ 服务/ 组合/ 的/ 流程/ ./ 图/ 6/ 给出/ 了/ 两种/ 方案/ 在/ 响应/ 时间/ 上/ 的/ 对比/ ./ 可以/ 发现/ ,/ 在/ 这/ 两种/ 方案/ 中/ ,/ 服务/ 组合/ 构建/ 的/ 响应/ 时间/ 都/ 随/ 服务/ 规模/ 的/ 增长/ 而/ 增长/ ./ 多/ 视图/ 方案/ 中/ 的/ 算法/ candiCon/ ,/ 由于/ 针对/ 数据/ 约束/ 进行/ 了/ 目标/ 规划/ ,/ 确定/ 了/ 目标/ 最优/ 时/ 的/ 服务/ 选择/ 范围/ ;/ 相比/ 规则/ 引擎/ 方案/ 大大/ 减小/ 了/ 组合/ 过程/ 中/ 流程/ 结构/ 的/ 中间状态/ ,/ 提高/ 了/ 组合/ 的/ 效率/ ./ 随着/ 服务/ 规模/ 的/ 增长/ ,/ 多/ 视图/ 方案/ 响应/ 时间/ 增长/ 相对/ 平缓/ ,/ 显示/ 出/ 更加/ 明显/ 的/ 优势/ ./ Page104/ ./ 3/ 相关/ 工作/ 比较/ 方法/ 的/ 贡献/ ./ 本/ 小节/ 通过/ 相关/ 工作/ 的/ 比较/ ,/ 定性/ 地/ 分析/ 本文/ 首先/ ,/ 以/ 业务/ 数据/ 为/ 编程/ 元素/ 构建/ 服务/ 或/ 业务流程/ ,/ 旨在/ 让/ 业务人员/ 能以/ 更为/ 直观/ 、/ 更/ 易/ 操作/ 的/ 方式/ 建模/ 应用/ ,/ 这/ 在/ 传统/ 的/ 以/ 数据/ 为/ 中心/ 的/ 服务/ 组合/ 中/ 已有/ 了/ 广泛/ 的/ 研究/ ,/ 主要/ 针对/ 数据/ 的/ 抽象/ 和/ 建模/ 方法/ ./ vanderAalst/ 等/ 人/ [/ 16/ ]/ 提出/ 了/ Casehandling/ 业务流程/ 的/ 编程/ 范型/ ,/ 通过/ 数据/ 对象/ 的/ 建模/ 和/ 数据/ 对象/ 与/ 数据源/ 的/ 映射/ ,/ 建立/ 了/ 数据/ 对象/ 与/ 活动/ 的/ 联系/ 和/ 与/ 流程/ 实例/ Case/ 的/ 关联/ ./ IBM/ 的/ 研究/ 团队/ [/ 4/ ,/ 17/ ]/ 提出/ 了/ 业务/ 实体/ Artifact/ 的/ 概念/ ,/ 通过/ Artifact/ 来/ 抽象/ 业务流程/ 的/ 数据/ ,/ 支持/ 跨域/ 的/ 业务流程/ 的/ 流转/ ./ 但/ 这/ 两种/ 方法/ 都/ 需要/ 显式/ 地/ 建模/ 数据/ 的/ 状态/ (/ 例如/ Casehandling/ 中/ dataobject/ 通过/ ECA/ 规则/ ;/ 而/ Ar/ -/ tifact/ 使用/ 自动机/ 的/ 描述/ )/ ,/ 数据/ 状态/ 的/ 变化/ 引发/ 服务/ 的/ 生命周期/ 的/ 变更/ ./ 这种/ 层次化/ 的/ 数据/ 描述/ 和/ 操作/ 方式/ ,/ 要求/ 用户/ 建模/ 应用/ 时/ 具有/ 一定/ 的/ IT/ 知识/ ./ 本文/ 采用/ 数据/ 视图/ 和/ 行为/ 视图/ 协同/ 操作/ 数据/ 对象/ ,/ 分别/ 针对/ 数据/ 对象/ 的/ 属性/ 和/ 操作/ ,/ 仍然/ 是/ 业务/ 数据/ 的/ 同一/ 层次/ ,/ 更/ 易/ 用户/ 理解/ 和/ 使用/ ./ 其次/ ,/ 通过/ 声明/ 约束/ 提升/ 设计/ 时/ 和/ 运行/ 时/ 建模/ 的/ 灵活性/ ,/ 旨在/ 降低/ 业务/ 需求/ 变更/ 对/ 现有/ 业务流程/ 的/ 影响/ ,/ 这/ 在/ 动态/ 工作/ 流/ 流域/ 中/ 同样/ 是/ 研究/ 热点/ ./ vanderAalst/ [/ 8/ ,/ 15/ ]/ 和/ Pesic/ [/ 7/ ,/ 11/ ,/ 18/ ]/ 等/ 人/ 使用/ 线性/ 时态/ 逻辑/ 抽象/ 行为/ 模式/ ,/ 给出/ 了/ 行为/ 模板/ 的/ 描述语言/ ConDec/ 和/ DecSerFlow/ ./ 这些/ 工作/ 声明/ 服务/ 行为/ 约束/ 构建/ 的/ 服务/ 组合/ ,/ 虽然/ 能够/ 以子/ 过程/ 的/ 形式/ 实现/ 与/ 控制流/ 交互/ [/ 11/ ]/ ,/ 然而/ 模型/ 本身/ 不能/ 兼容/ 传统/ 的/ 控制流/ 构建/ 预制/ 逻辑/ ,/ 存在/ 应用/ 的/ 局限性/ ./ 针对/ 这/ 类/ 问题/ ,/ Sadiq/ 等/ 人/ [/ 10/ ]/ 给出/ 一种/ 服务/ 组合/ 模型/ ,/ 提出/ 了/ coreprocess/ 和/ pocketactivity/ 的/ 概念/ ,/ 分别/ 描述/ 了/ 基于/ 控制流/ 构建/ 的/ 确定/ 的/ 结构/ 和/ 基于/ 约束/ 声明/ 描述/ 不/ 确定/ 的/ 临机/ 需求/ ./ Yan/ [/ 19/ ]/ 等/ 人/ 提出/ 的/ 用户/ 驱动/ 的/ 探索/ 式/ 服务/ 组合/ 方法/ 及/ 后续/ 工作/ [/ 20/ ]/ ,/ 亦/ 采用/ 了/ 这种/ 方式/ ./ 但是/ 这些/ 工作/ 的/ 数据/ 仅/ 作为/ 活动/ 的/ 输入输出/ ,/ 随/ 控制关系/ 流转/ ,/ 用户/ 关注/ 的/ 体征/ 数据/ 仍然/ 无法/ 直接/ 获取/ 和/ 操作/ ,/ 故/ 用户/ 编程/ 仍然/ 存在/ 易用性/ 的/ 问题/ ./ 本文/ 方法/ 采用/ 多个/ 视图/ 描述/ 服务/ 组合/ ,/ 不仅/ 可以/ 在/ 兼容/ 传统/ 控制流/ 的/ 流程/ 视图/ 中/ 建模/ 应用/ 的/ 预制/ 逻辑/ ,/ 同时/ 通过/ 数据/ 对象/ 抽象/ 的/ 体征/ 数据/ ,/ 从/ 另外/ 两个/ 视图/ 可以/ 随时/ 观察/ 和/ 操作/ 数据/ ,/ 为/ 用户/ 构建/ 随机/ 逻辑/ 提供/ 更/ 直观/ 的/ 编程/ 视角/ 和/ 操作方法/ ./ 5/ 总结/ 本文/ 针对/ 用户/ 在/ 编程/ 元素/ 和/ 编程/ 方式/ 易用性/ 方面/ 的/ 挑战/ ,/ 提出/ 了/ 一种/ 用户/ 为/ 中心/ 、/ 多/ 视图/ 合成/ 的/ 服务/ 组合/ 方法/ ./ 本文/ 的/ 贡献/ 在于/ :/ (/ 1/ )/ 提出/ 了/ 一种/ 多/ 视图/ 的/ 服务/ 组合/ 模型/ ,/ 将/ 业务/ 过程/ 临机/ 逻辑/ 的/ 编程/ ,/ 转化/ 为/ 用户/ 对/ 关注/ 的/ 体征/ 数据/ 在/ 数据/ 视图/ 和/ 行为/ 视图/ 的/ 约束/ 声明/ ;/ 为/ 用户/ 屏蔽/ 了/ 控制/ 逻辑/ 的/ 实现/ 细节/ ,/ 降低/ 了/ 用户/ 构建/ 应用/ 的/ 复杂程度/ ;/ (/ 2/ )/ 给出/ 一种/ 临机/ 逻辑/ 候选/ 流程/ 的/ 构造/ 算法/ ,/ 在/ 流程/ 视图/ 中/ 参照/ 声明/ 的/ 约束/ 、/ 用户/ 主导/ 服务/ 组合/ 的/ 构造/ 和/ 执行/ ./ 随着/ 服务/ 规模/ 的/ 增长/ ,/ 算法/ 性能/ 较/ 传统/ 基于/ 声明/ 式/ 编程/ 方法/ 有/ 较大/ 的/ 提高/ ./ 本文/ 方法/ 为/ 用户/ 提供/ 易用/ 的/ 编程/ 抽象/ 和/ 编程/ 方法/ 的/ 同时/ ,/ 不失/ 灵活/ 高效/ 的/ 系统/ 支撑/ ,/ 为/ 最终用户/ 编程/ 方法/ 的/ 研究/ 做出/ 了/ 有益/ 的/ 探索/ ./ 接下来/ 我们/ 考虑/ 在/ 方法/ 中/ 加入/ 对/ 体征/ 数据/ 变化/ 的/ 预测/ ,/ 为/ 用户/ 声明/ 数据/ 约束/ 提供/ 辅助/ 支持/ ./ 

