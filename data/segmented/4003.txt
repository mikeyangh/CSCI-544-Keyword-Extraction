Page1/ 高效/ 视频/ 编码/ 沈燕飞/ 1/ )/ ,/ 2/ )/ 李/ 锦涛/ 1/ )/ 朱珍民/ 1/ )/ 张勇东/ 1/ )/ 1/ )/ (/ 中国科学院计算技术研究所/ 北京/ 100190/ )/ 2/ )/ (/ 中国科学院/ 大学/ 北京/ 100049/ )/ 摘要/ 近年来/ 随着/ 视频/ 编码/ 技术/ 的/ 发展/ 以及/ 高清/ 视频/ 需求/ 的/ 快速增长/ ,/ 国际/ 运动/ 图像/ 专家组/ ISO/ -/ IEC/ // MPEG/ 和/ 国际电信联盟/ 的/ 视频/ 编码/ 专家组/ ITU/ -/ T/ // VCEG/ 于/ 2010/ 年/ 成立/ 了/ 视频/ 编码/ 联合/ 工作组/ JCT/ -/ VC/ ,/ 开始/ 针对/ 高分辨率/ 视频/ 应用/ 制定/ 新一代/ 视频/ 编码标准/ ,/ 即/ 高效/ 视频/ 编码/ HEVC/ (/ HighEfficiencyVideoCoding/ )/ ,/ 2012/ 年底/ 形成/ 了/ 国际标准/ 草案/ ,/ 并/ 开发/ 了/ 相应/ 的/ 测试/ 模型/ HM/ ,/ 进行/ 性能/ 评估/ 和/ 算法/ 测试/ ./ 该文/ 将/ 对/ 标准/ 制定/ 过程/ 中/ 涉及/ 到/ 的/ 关键技术/ 进行/ 详细/ 介绍/ ,/ 主要/ 包括/ :/ 基于/ 四叉/ 树结构/ 的/ 编码/ 块/ 组织/ 形式/ 、/ 先进/ 的/ 运动/ 矢量/ 预测/ 和/ 合并/ 方法/ 、/ 多/ 方向/ 的/ 帧/ 内/ 预测/ 模式/ 、/ 基于/ DCT/ 的/ 分/ 像素/ 插值/ 技术/ 和/ 内容/ 自/ 适应/ 的/ 算术/ 编码/ 技术/ 等/ ,/ 最后/ 对/ 相关/ 编码/ 工具/ 的/ 编码/ 效率/ 、/ 计算/ 复杂度/ 进行/ 了/ 分析/ ,/ 并且/ 指出/ 了/ 未来/ 的/ 研究/ 方向/ ./ 关键词/ 视频/ 编码/ ;/ 高清/ 视频/ ;/ HEVC/ ;/ H/ ./ 264/ 视频/ 编码/ ;/ 视频/ 通信/ 1/ 引言/ 的/ 不断/ 提升/ ,/ 多媒体业务/ 的/ 支持/ 需求/ 日益增长/ ,/ 据调查/ 显示/ ,/ 目前/ 网络/ 视频/ 数据量/ 占据/ 了/ 互联网/ 90/ %/ 的/ 流量/ ,/ 即使/ 在/ 移动/ 互联网/ 中/ ,/ 视频/ 数据/ 也/ 占/ 了/ 50/ %/ 随着/ 网络通信/ 技术/ 的/ 不断/ 发展/ 和/ 终端/ 处理/ 性能/ 以上/ ./ 另外/ ,/ 由于/ 人们/ 对/ 视频/ 质量/ 的/ 需求/ 也/ 在/ 不断/ 提/ Page2/ 升/ ,/ 包括/ 时间/ 和/ 空间/ 分辨率/ 的/ 不断/ 提升/ 、/ 从/ 二维/ 视频/ 到/ 立体/ 视频/ 的/ 转换/ 等/ ,/ 导致/ 视频/ 数据量/ 的/ 不断/ 增长/ ./ 因此/ 对/ 视频压缩/ 编码/ 技术/ 的/ 要求/ 也/ 越来越/ 高/ ,/ 视频压缩/ 编码/ 技术/ 也/ 成为/ 目前/ 多媒体技术/ 研究/ 领域/ 中/ 最/ 热门/ 的/ 技术/ 之一/ ./ 近/ 20/ 年来/ ,/ 国际电联/ 通信/ 标准化/ 组/ ITU/ -/ T/ 、/ 国际标准化组织/ 和/ 国际/ 电子/ 委员会/ 的/ 移动/ 图像/ 专家组/ ISO/ // IECMPEG/ 以及/ 中国/ 的/ 音视频/ 编解码/ 工作组/ AVS/ 都/ 成功/ 制定/ 了/ 一系列/ 视频/ 通信/ 标准/ ,/ 包括/ H/ ./ 261/ 、/ H/ ./ 263/ 、/ H/ ./ 264/ 、/ MPEG/ -/ 1/ 、/ MPEG/ -/ 2/ 、/ MPEG/ -/ 4/ 和/ AVS/ 等等/ ./ 其中/ 2003/ ~/ 2009/ 年/ 制定/ 并/ 不断完善/ 的/ H/ ./ 264/ // MPEGAVC/ 视频/ 编码标准/ ,/ 由于/ 高效/ 的/ 压缩/ 效率/ 以及/ 网络/ 适应性/ 等/ 方面/ 的/ 明显/ 优势/ ,/ 逐步/ 成为/ 视频/ 应用领域/ 的/ 主流/ 标准/ ./ 但/ 随着/ 数字视频/ 应用/ 的/ 快速/ 发展/ ,/ 视频/ 空间/ 分辨率/ 正在/ 从/ 标清/ (/ 640/ ×/ 480/ ,/ 720/ ×/ 576/ )/ 向/ 高清/ (/ 720P/ 、/ 1080P/ )/ 全面/ 升级/ ,/ 甚至/ 在/ 一些/ 视频/ 应用领域/ 中/ 出现/ 了/ 4K/ ×/ 2K/ 、/ 8K/ ×/ 4K/ 的/ 数字/ 视频格式/ ;/ 视频/ 时间/ 分辨率/ ,/ 即/ 帧/ 率/ ,/ 也/ 在/ 由/ 30/ 帧/ // s/ 向/ 60/ 帧/ // s/ 转换/ ;/ 视频/ 编码器/ 芯片/ 化/ 的/ 趋势/ 也/ 日益/ 明显/ ,/ 并行/ 化/ 需求/ 日益加剧/ ;/ 存储空间/ 和/ 网络带宽/ 是/ 视频/ 应用/ 中/ 最为/ 关键/ 的/ 资源/ 等等/ ./ 面对/ 这些/ 新/ 的/ 应用/ 需求/ ,/ 传统/ 的/ 视频/ 编解码/ 技术/ 出现/ 了/ 以下/ 性能/ 限制/ :/ (/ 1/ )/ 由于/ 空间/ 分辨率/ 的/ 增加/ ,/ 每个/ 大小/ 为/ 16/ ×/ 16/ 宏块/ 所/ 承载/ 的/ 信息量/ 大大减少/ ,/ 而/ 相邻/ 块/ 之间/ 的/ 低频/ 系数/ 相关性/ 却/ 大大增加/ ,/ 因此/ 出现/ 大量/ 的/ 块/ 间/ 冗余/ ;/ 另外/ ,/ 由于/ 分辨率/ 的/ 增加/ ,/ 帧/ 间/ 编码/ 宏块/ 的/ 运动/ 矢量/ 幅值/ 也/ 大大增加/ ,/ 其/ 统计/ 特征/ 不再/ 呈现/ 集中化/ 分布/ 趋势/ ,/ 因此/ 指数/ 哥伦布/ 编码/ 或/ 变长/ 编码/ 模式/ 的/ 编码/ 效率/ 将/ 逐渐/ 下降/ ./ (/ 2/ )/ 随着/ 图像/ 分辨率/ 的/ 增加/ ,/ 宏块/ 个数/ 也/ 出现/ 爆发式/ 的/ 增长/ ,/ 用于/ 表示/ 每个/ 编码/ 宏块/ 的/ 模型/ 参数/ ,/ 包括/ 预测/ 模式/ 、/ 运动/ 矢量/ 、/ 参考/ 帧/ 索引/ 以及/ 量化/ 步长/ 等/ 辅助/ 信息/ (/ SideInformation/ )/ 等/ 所/ 占/ 数据量/ 过多/ ,/ 而/ 用于/ 编码/ 预测/ 残差/ 变换/ 系数/ 的/ 数据/ 明显/ 减少/ ./ (/ 3/ )/ 传统/ 视频/ 编码/ 技术/ 大都/ 采用/ 串行/ 编解码/ 模式/ ,/ 从/ 左/ 至/ 右/ 、/ 从/ 上/ 至/ 下/ 逐个/ 宏块/ 进行/ 处理/ ,/ 特别/ 对于/ H/ ./ 264/ // MPEGAVC/ 中/ 的/ 熵/ 编码/ 技术/ ,/ 即/ 基于/ 上下文/ 的/ CABAC/ 和/ CAVLC/ 技术/ ,/ 以及/ 运动/ 矢量/ 预测/ 技术/ 和/ 环路/ 滤波/ 技术/ ,/ 宏块/ 之间/ 数据/ 耦合/ 性大/ ,/ 难以/ 满足/ 并行处理/ 的/ 要求/ ,/ 而/ 对于/ GPU/ // DSP/ // FPGA/ // ASIC/ 等/ 并行/ 化/ 程度/ 非常/ 高/ 的/ 处理器/ 来说/ ,/ 这种/ 串行化/ 处理/ 模式/ 已经/ 成为/ 制约/ 运算/ 性能/ 提高/ 的/ 瓶颈/ 之一/ ./ (/ 4/ )/ 传统/ 视频/ 编码/ 技术/ 中/ ,/ 帧/ 内/ // 帧/ 间/ 预测/ 块/ 和/ 预测/ 残差/ 变换/ 块/ 的/ 大小/ 相对/ 固定/ ,/ 难以/ 适应/ 高清/ 视频/ 图像/ 纹理/ 特征/ 的/ 多样化/ 分布/ 特点/ ,/ 导致/ 预测/ 性能/ 与/ 预测/ 残差/ 系数/ 编码/ 效率/ 均/ 出现/ 不同/ 程度/ 的/ 下降/ ./ (/ 5/ )/ 由于/ 处理器/ 性能/ 的/ 不断/ 提升/ 和/ 芯片/ 设计/ 规模/ 的/ 不断扩大/ ,/ 传统/ 视频/ 编解码/ 的/ 运算/ 复杂度/ 不再/ 是/ 视频/ 应用/ 的/ 主要/ 瓶颈/ ,/ 可以/ 采用/ 相对/ 复杂/ 的/ 预测/ 模式/ 选择/ 和/ 率/ 失真/ 优化/ 技术/ 来/ 提高/ 压缩/ 编码/ 效率/ ./ 为了/ 适应/ 以上/ 技术/ 发展趋势/ 及/ 需求/ 变化/ ,/ 国际/ 运动/ 图像/ 专家组/ ISO/ -/ IEC/ // MPEG/ 和/ 国际电信联盟/ 的/ 视频/ 编码/ 专家组/ ITU/ -/ T/ // VCEG/ 于/ 2010/ 年/ 成立/ 了/ 视频/ 编码/ 联合/ 工作组/ JCT/ -/ VC/ [/ 1/ -/ 2/ ]/ ,/ 在/ 全球/ 范围/ 内/ 征集/ 视频/ 编码/ 技术/ 提案/ [/ 3/ ]/ ,/ 在/ H/ ./ 264/ // AVC/ [/ 4/ ]/ 基础/ 上/ 开始/ 制定/ 新一代/ 高效/ 视频/ 编码标准/ HEVC/ [/ 5/ -/ 6/ ]/ ,/ 核心/ 目标/ 是/ 针对/ 高分辨率/ 视频/ 图像/ ,/ 在/ H/ ./ 264/ // AVC/ 高级/ 档次/ HP/ (/ HighProfile/ )/ 基础/ 上将/ 压缩/ 效率/ 再/ 提高/ 一倍/ [/ 7/ -/ 8/ ]/ ,/ 即/ 在/ 保证/ 相同/ 重建/ 视频/ 图像/ 质量/ 的/ 前提/ 下/ ,/ 视频/ 编码/ 率/ 减少/ 50/ %/ 以上/ ./ JCT/ -/ VC/ 工作组/ 共/ 收到/ 27/ 个/ 技术/ 提案/ ,/ 并/ 随后/ 根据/ 文献/ [/ 1/ ]/ 中/ 制定/ 的/ 测试方法/ 做/ 了/ 技术/ 评估/ 和/ 测试/ ,/ 遴选出/ 最优/ 的/ 5/ 个/ 技术/ 提案/ [/ 9/ -/ 15/ ]/ ,/ 然后/ 形成/ 了/ 相应/ 的/ 测试/ 模型/ TMuC/ (/ TestModelunderConsideration/ )/ [/ 16/ ]/ ,/ 其中/ 涉及/ 到/ 的/ 共性/ 关键技术/ 在/ 文献/ [/ 10/ -/ 11/ ]/ 进行/ 了/ 描述/ ./ 根据/ 测试/ 结果/ ,/ 2010/ 年/ 10/ 月/ 形成/ 了/ 第/ 1/ 个/ 测试/ 模型/ HM1/ ,/ 随后/ 对/ 其中/ 的/ 关键技术/ 进行/ 反复/ 评估/ 与/ 验证/ ,/ 并于/ 2012/ 年/ 7/ 月/ 发布/ 了/ 公开/ 国际标准/ 草案/ ./ 2013/ 年/ 1/ 月份/ 发布/ 了/ 最终/ 国际标准/ 草案/ ,/ 在/ H/ ./ 264/ // AVC/ 标准/ 2/ ~/ 4/ 倍/ 的/ 复杂度/ 基础/ 上/ ,/ 将/ 压缩/ 效率/ 提升/ 了/ 1/ 倍/ 以上/ [/ 17/ -/ 18/ ]/ ./ 本文/ 首先/ 对/ HEVC/ 编码/ 框架/ 及其/ 中/ 的/ 关键技术/ 进行/ 介绍/ ,/ 然后/ 详细描述/ 了/ 其中/ 的/ 高级/ 编码/ 工具/ ,/ 最后/ 对/ 编码/ 性能/ 和/ 计算/ 复杂度/ 进行/ 了/ 测试/ 评估/ 并/ 指出/ 了/ 其中/ 的/ 研究/ 热点/ ./ 2HEVC/ 编码/ 框架/ HEVC/ 仍然/ 沿用/ 了/ H/ ./ 261/ 就/ 开始/ 采用/ 的/ 基于/ 运动/ 补偿/ 的/ 混合/ 编码/ 框架/ [/ 6/ ]/ ,/ 即/ 帧/ 间/ 和/ 帧/ 内/ 预测/ 用于/ 消除/ 时间/ 域/ 和/ 空间/ 域/ 的/ 相关性/ ;/ 对/ 预测/ 残差/ 进行/ 离散/ 余弦/ 变换/ 和/ 量化/ 以/ 消除/ 空间/ 相关性/ ;/ 自/ 适应/ 熵/ 编码/ 消除/ 统计/ 冗余/ ;/ 环路/ 滤波/ 用于/ 消除/ 量化/ 噪声/ ,/ 但/ HEVC/ 在/ 图像编码/ 单元/ 组织/ 、/ 内容/ 自/ 适应/ 算术/ 编码/ 、/ 多/ 方向/ 帧/ 内/ 预测/ 、/ 先进/ 运动/ 矢量/ 预测/ 和/ 合并/ 、/ 分/ 像素/ 运动/ 估计/ 与/ 补偿/ 、/ 自/ 适应/ 像素/ 补偿/ 和/ 环路/ 滤波/ 等/ 方面/ 都/ 做/ 了/ 很大/ 的/ 改进/ ,/ HEVC/ 编码/ 框架/ 如图/ 1/ 所示/ ,/ 图中/ 阴影/ 部分/ 为/ 编码/ 和/ 解码/ 共用/ 模块/ ./ Page3/ 图/ 1HEVC/ 编码/ 框架/ [/ 6/ ]/ HEVC/ 的/ 主要/ 技术/ 特征/ 如下/ :/ (/ 1/ )/ 树形/ 编码/ 块/ 结构/ 在/ HEVC/ 中/ ,/ 基本/ 编码/ 单元/ 为/ 编码/ 树/ 单元/ CTU/ (/ CodingTreeUnit/ )/ ,/ 大小/ 为/ 16/ ×/ 16/ 、/ 32/ ×/ 32/ 或者/ 64/ ×/ 64/ ,/ 每个/ 编码/ 树/ 单元/ 由/ 亮度/ 编码/ 树块/ 与/ 对应/ 的/ 色度/ 编码/ 树块/ 组成/ [/ 19/ -/ 20/ ]/ ./ 每个/ 编码/ 树块/ 可以/ 进一步/ 分成/ 编码/ 块/ CB/ (/ CodingBlock/ )/ ,/ 根据/ 预测/ 与/ 变换/ 的/ 率/ 失真/ 性能/ ,/ 可以/ 对/ 编码/ 块/ 进一步/ 的/ 分成/ 预测/ 块/ PB/ (/ PredictionBlock/ )/ 和/ 变换/ 块/ TB/ (/ TransformBlock/ )/ ./ 编码/ 块/ 、/ 预测/ 块/ 和/ 变换/ 块/ 的/ 分离/ 使/ 视频/ 编码/ 更加/ 灵活/ ,/ 各种/ 不同/ 的/ 划分/ 组合/ 更能/ 适应/ 视频/ 图像/ 的/ 纹理/ 特征/ ,/ 有助于/ 编码/ 效率/ 的/ 提高/ ./ (/ 2/ )/ 四叉树/ 残差/ 变换/ 块/ 结构/ 残差/ 四叉树/ 变换/ (/ ResidualQuad/ -/ treeTransform/ )/ 属于/ 一种/ 自/ 适应/ 的/ 变换/ 技术/ ,/ 是/ 对/ H/ ./ 264/ // MPEG/ -/ AVC/ 中自/ 适应/ 块/ 变换/ ABT/ (/ AdaptiveBlock/ -/ sizeTransform/ )/ 技术/ 的/ 延伸/ 和/ 扩展/ [/ 21/ ]/ ./ 它/ 允许/ 变换/ 块/ 的/ 大小/ 能够/ 根据/ 预测/ 残差/ 的/ 特征/ 进行/ 自/ 适应/ 的/ 选择/ ,/ 在/ 残差/ 能量/ 集中/ 、/ 图像/ 细节/ 保留/ 以及/ 图像/ 三者/ 之间/ 最优/ 均衡/ ./ (/ 3/ )/ 像素/ 自/ 适应/ 补偿/ 技术/ 像素/ 自/ 适应/ 补偿/ ASO/ (/ AdaptiveSampleOffset/ )/ 位于/ 编解码/ 环路/ 内/ ,/ 通过/ 对/ 环路/ 滤波/ 后/ 的/ 重建/ 图像/ 进行/ 分类/ ,/ 然后/ 对/ 每/ 一类/ 图像/ 像素/ 选择/ 一种/ 补偿/ 方式/ ,/ 以/ 减少/ 源/ 图像/ 与/ 重构/ 图像/ 之间/ 的/ 失真/ ,/ 补偿/ 方式/ 分为/ 区间/ 补偿/ 和/ 边缘/ 补偿/ 两类/ [/ 22/ ]/ ./ (/ 4/ )/ 并行/ 设计/ 技术/ 为了/ 适应/ 多核/ 处理器/ 的/ 发展趋势/ ,/ HEVC/ 中/ 引入/ 了/ 片层/ (/ Title/ )/ 、/ 条带/ (/ Slice/ )/ 以及/ 波形/ 并行处理/ WPP/ (/ WavefrontParallelProcessing/ )/ 的/ 思想/ [/ 6/ ,/ 18/ ]/ ./ 其中/ 片层/ 方法/ 与/ 条带/ 方法/ 属于/ 粗粒度/ 的/ 并行/ 方法/ ,/ 片层/ 方法/ 将/ 图像/ 划分/ 成非/ 重叠/ 的/ 矩形/ 区域/ ,/ 每个/ 矩形/ 区域/ 独立/ 的/ 编码/ 和/ 解码/ ;/ 条带/ 方法/ 将/ 图像/ 分成/ 多个/ 条带/ 分别/ 编码/ 和/ 解码/ ,/ 每个/ 条带/ 可以/ 进一步/ 切/ 分成/ 可以/ 独立/ 编码/ 和/ 解码/ 的/ 熵/ 条带/ (/ EntropySlice/ )/ ,/ 然而/ 条带/ 方法/ 更多地/ 应用/ 于抗/ 误码/ 设计/ 与/ 满足/ 最大/ 传输/ 单元/ MTU/ (/ MaximumTransmissionUnit/ )/ 的/ 需求/ ./ 波形/ 并行处理/ 方法/ 属于/ 细粒度/ 的/ 并行/ 方法/ ,/ 类似/ 于/ 流水线/ 设计/ 思想/ ,/ 在/ 完成/ 上/ 一行/ 中/ 第二个/ 编码/ 单元/ 编解码/ 时/ ,/ 即可/ 开始/ 下/ 一行/ 第一个/ 编码/ 单元/ 的/ 编解码/ 处理/ ./ (/ 5/ )/ 自/ 适应/ 熵/ 编码/ 技术/ 在/ HEVC/ 中/ 对/ 所有/ 的/ 语法/ 元素/ 和/ 预测/ 残差/ 变换/ 系数/ 都/ 采用/ 自/ 适应/ 算法/ 编码/ 技术/ CABAC/ 进行/ 熵/ 编码/ ./ 算法/ 原理/ 与/ H/ ./ 264/ // AVC/ 中/ 的/ CABAC/ 一致/ ,/ 主要/ 由二值化/ 、/ 模型/ 选择/ 和/ 算术/ 编码/ 3/ 个/ 部分/ 组成/ ,/ 但是/ 模型/ 数/ 减少/ 了/ 很多/ ,/ H/ ./ 264/ // AVC/ 中有/ 299/ 个/ 模型/ ,/ 而/ HEVC/ 中/ 只有/ 154/ 个/ 模型/ ,/ 另外/ 为了/ 提高/ CABAC/ 的/ 数据/ 吞吐/ 率/ ,/ 模型/ 之间/ 的/ 相关性/ 也/ 进行/ 了/ 大规模/ 简化/ [/ 23/ ]/ ./ 除此之外/ ,/ HEVC/ 还/ 针对/ 特定/ 应用/ 和/ 特定/ 编码/ 模式定义/ 了/ 一些/ 编码/ 工具/ ,/ 如/ 应用/ 于/ 屏幕/ 图像编码/ 的/ 无/ 变换/ (/ TransformSkip/ )/ 编码/ 技术/ 、/ 应用/ 于/ 帧/ 内/ Page4/ 预测/ 残差/ 编码/ 的/ 离散/ 正弦/ 变换/ DST/ 等等/ [/ 6/ ]/ ./ HEVC/ 编码/ 性能/ 的/ 提升/ 是/ 所有/ 编码/ 工具/ 共同/ 作表/ 1HEVC/ 与/ H/ ./ 264/ // AVC/ 关键技术/ 对比/ 表/ 编码/ 单元/ 大小/ 分/ 像素/ 插值/ 滤波器/ 运动/ 矢量/ 预测/ 方法/ 亮度/ 帧/ 内/ 预测/ 色度/ 帧/ 内/ 预测/ 变换/ 环路/ 滤波/ 针对/ 不同/ 的/ 目标/ 应用/ 和/ 码流/ 兼容性/ 测试/ ,/ HEVC/ 还/ 定义/ 了/ 3/ 个/ 档次/ (/ Profile/ )/ ,/ 即/ Main/ 、/ Main10/ 和/ Main/ 静态/ 图像/ 档次/ ,/ 目前/ 所有/ 档次/ 都/ 只/ 支持/ 420/ 格式/ 的/ 视频/ 数据编码/ ,/ 除/ Main10/ 支持/ 10bit/ 颜色/ 深度/ 的/ 视频/ 数据/ 外/ ,/ 其它/ 两种/ 只/ 支持/ 8bit/ 深度/ ./ 根据/ 编解码/ 图像/ 的/ 分辨率/ 以及/ 编解码器/ 的/ 实际/ 处理/ 能力/ ,/ HEVC/ 还/ 定义/ 了/ 13/ 个/ 应用/ 级/ (/ Level/ )/ ,/ 支持/ 的/ 图像/ 分辨率/ 从/ QCIF/ (/ 176/ ×/ 144/ )/ 到/ 8K/ ×/ 4K/ ,/ 最大/ 码流/ 达到/ 80Mbps/ ./ 3HEVC/ 中/ 的/ 高级/ 编码/ 工具/ 3.1/ 灵活/ 的/ 编码/ 单元/ 、/ 预测/ 单元/ 和/ 变换/ 单元/ 在/ 以前/ 的/ 视频/ 标准/ 中/ [/ 4/ ,/ 24/ -/ 28/ ]/ ,/ 编码/ 单元/ 都/ 是/ 以/ 16/ ×/ 16/ 大小/ 的/ 宏块/ MB/ (/ Macroblock/ )/ 作为/ 最/ 基本/ 单图/ 2/ 编码/ 单元/ 、/ 预测/ 单元/ 和/ 变换/ 单元/ 用/ 的/ 结果/ ,/ 并非/ 某/ 单项/ 技术/ 所为/ ./ HEVC/ 与/ H/ ./ 264/ // AVC/ 中/ 的/ 关键技术/ 对/ 比如/ 表/ 1/ 所示/ ./ 元/ ,/ 不同/ 的/ 编码标准/ 中/ 对宏块/ 的/ 划分/ 模式/ 略有/ 差别/ ,/ 如/ MPEG/ -/ 2/ 中/ 只能/ 采用/ 16/ ×/ 16/ 或者/ 8/ ×/ 8/ 块/ 进行/ 帧/ 间/ 预测/ 编码/ ,/ 而/ H/ ./ 264/ 中/ 为了/ 更好/ 地/ 适应/ 不同/ 边缘/ 块/ 形状/ ,/ 可以/ 对宏块/ 进行/ 更加/ 复杂/ 的/ 划分/ ,/ 如/ 16/ ×/ 8/ ,/ 8/ ×/ 16/ ,/ 8/ ×/ 8/ ,/ 8/ ×/ 4/ ,/ 4/ ×/ 8/ 和/ 4/ ×/ 4/ 等/ ./ 但是/ 由于/ 视频/ 应用/ 的/ 变化/ ,/ 高清/ 视频/ 越来越/ 普及/ ,/ 研究/ 表明/ 使用/ 更大/ 的/ 编码/ 单元/ 能够/ 进一步提高/ 高清/ 视频/ 的/ 编码/ 效率/ [/ 29/ -/ 32/ ]/ ./ 因此/ ,/ 在/ HEVC/ 中/ 采用/ 了/ 更加/ 灵活/ 的/ 编码/ 单元/ 组织/ 形式/ ,/ 编码/ 单元/ 的/ 大小/ 从/ 8/ ×/ 8/ 到/ 64/ ×/ 64/ ,/ 并且/ 采用/ 递归/ 的/ 编码/ 树/ CTB/ (/ CodingTreeBlock/ )/ 方式/ 进行/ 表示/ [/ 31/ ]/ ./ 例如/ ,/ 当/ 编码/ 单元/ 大小/ 为/ 64/ ×/ 64/ 和/ 递归/ 深度/ 为/ 4/ 时/ ,/ 编码/ 单元/ 划分/ 形式/ 如图/ 2/ (/ a/ )/ 所示/ ,/ 组织/ 形式/ 如图/ 2/ (/ d/ )/ 所示/ ./ 如果/ 编码/ 单元/ 的/ 大小/ 为/ 16/ ×/ 16/ ,/ 递归/ 深度/ 为/ 2/ 时/ ,/ 则/ 编码/ 单元/ 的/ 组织/ 形式/ 就/ 与/ H/ ./ 264/ 一样/ ./ Page5/ 每个/ 编码/ 单元/ 的/ 叶子/ 节点/ 可以/ 划分/ 成/ 一个/ 或/ 多个/ 预测/ 单元/ ,/ 如图/ 2/ (/ a/ )/ 中/ 的/ 叶子/ 节点/ h/ 可以/ 采用/ 4/ 种/ 不同/ 形状/ 的/ 预测/ 单元/ 进行/ 帧/ 间/ 预测/ 编码/ ,/ 如图/ 2/ (/ b/ )/ 所示/ ,/ 但/ 帧/ 内/ 预测/ 都/ 是/ 基于/ 正方形/ 块/ 进行/ 的/ ./ 对/ 预测/ 残差/ 的/ 变换/ 同样/ 可以/ 采用/ 不同/ 大小/ 的/ 块/ 形状/ ,/ 划分/ 模式/ 如图/ 2/ (/ c/ )/ 所示/ ./ 每个/ 变换/ 单元/ 可以/ 包含/ 多个/ 预测/ 单元/ ,/ 但/ 不能/ 超过/ 一个/ 编码/ 单元/ 的/ 大小/ ,/ 变换/ 单元/ 的/ 大小/ 从/ 32/ ×/ 32/ 到/ 4/ ×/ 4/ ,/ 而/ 一个/ 预测/ 单元/ 也/ 可以/ 使用/ 多个/ 变换/ 单元/ ./ 3.2/ 帧/ 内/ 预测/ 帧/ 内/ 预测/ 算法/ 是/ 充分利用/ 图像/ 的/ 空间/ 相关性/ ,/ 用/ 周围/ 重建/ 像素/ 值/ 对/ 当前/ 编码/ 块/ 进行/ 预测/ ,/ 提高/ 编码/ 效率/ ./ 3.2/ ./ 1/ 亮度/ 分量/ 帧/ 内/ 预测/ 在/ HEVC/ 中共/ 定义/ 了/ 34/ 种/ 帧/ 内/ 预测/ 方向/ [/ 33/ -/ 35/ ]/ ,/ 预测/ 方向/ 角度/ 由/ 当前/ 预测/ 单元/ PU/ 的/ 最/ 下面/ 一行/ 或/ 最/ 左边/ 一列/ 像素/ 与/ 上面/ 参考/ 像素/ 行/ 或者/ 左边/ 参考/ 像素/ 列/ 之间/ 的/ 位移/ 确定/ ,/ 如图/ 3/ 所示/ ,/ 预测/ 角度/ 分别/ 为/ ±/ [/ 0/ ,/ 2/ ,/ 5/ ,/ 9/ ,/ 13/ ,/ 17/ ,/ 21/ ,/ 26/ ,/ 32/ ]/ // 32/ ,/ 这样/ 能够/ 更加/ 精确/ 地/ 预测/ 当前/ 编码/ 块/ 的/ 纹理/ 特性/ ./ 在/ 使用/ 参考/ 像素/ 对/ 当前/ 预测/ 单元/ 进行/ 预测/ 的/ 过程/ 中/ ,/ 首先/ 需要/ 根据/ 预测/ 方向/ 和/ 当前/ 预测/ 像素/ 的/ 坐标/ 位置/ 计算/ 参考/ 像素/ 的/ 位置/ ,/ 如果/ 参考/ 像素/ 是/ 整/ 像素/ 位置/ ,/ 则/ 直接/ 进行/ 预测/ ,/ 否则/ 要/ 对/ 参考/ 像素/ 进行/ 插值/ 处理/ ,/ 计算/ 出分/ 像素/ 位置/ 处/ 的/ 参考/ 像素/ 值/ ./ 以/ 8/ ×/ 8/ 预测/ 块/ 和/ 预测/ 角度/ 为/ “/ -/ 32/ ”/ 为例/ ,/ 如图/ 4/ 所示/ ./ 假设/ 当前/ 预测/ 像素/ 的/ 坐标/ 位置/ 为/ P/ (/ x/ ,/ y/ )/ ,/ 预测/ 角度/ 为/ PredAng/ ,/ 则/ 参考/ 像素/ 的/ 位置/ 坐标/ 计算/ 如下/ :/ Idx/ =/ (/ 256/ ×/ 32/ ×/ (/ P/ +/ 1/ )/ // PredAng/ )/ / 8Ifact/ =/ (/ 256/ ×/ 32/ ×/ (/ P/ +/ 1/ )/ // PredAng/ )/ %/ 256/ 其中/ ,/ Idx/ 和/ Ifact/ 分别/ 为/ 参考/ 像素/ 的/ 整/ 像素/ 和/ 分/ 像素/ 坐标/ ./ 为了/ 减少/ 除法/ 运算/ ,/ 可以/ 将/ 256/ ×/ 32/ // PredAng/ 做成/ 表格/ [/ 4096/ ,/ 1638/ ,/ 910/ ,/ 630/ ,/ 482/ ,/ 390/ ,/ 315/ ,/ 256/ ]/ 进行/ 查表/ 处理/ ./ 由于/ 不同/ 位置/ 的/ 预测/ 像素/ 需要/ 逐个/ 判断/ 使用/ 水平/ 参考/ 像素/ 还是/ 垂直/ 参考/ 像素/ ,/ 为了/ 减少/ 计算/ 复杂度/ ,/ 可以/ 使用/ 投影/ 的/ 方法/ ,/ 在/ 图/ 4/ 中将/ 垂直/ 参考/ 像素/ 投影/ 成/ 水平/ 方向/ ,/ 如图/ 5/ 所示/ ./ 另外/ ,/ 对于/ 图像/ 中/ 平滑/ 区域/ 的/ 帧/ 内/ 预测/ ,/ HEVC/ 中/ 使用/ 平面/ 预测/ 模式/ (/ PlanarMode/ )/ 来/ 替代/ 原先/ 的/ DC/ 预测/ 模式/ ,/ 在/ 相同/ 客观/ 质量/ 的/ 条件/ 下/ ,/ 非常/ 有助于/ 图像/ 主观/ 质量/ 的/ 提高/ [/ 36/ -/ 37/ ]/ ,/ 预测/ 过程/ 如图/ 6/ 所示/ ,/ 首先/ 右下角/ 的/ 像素/ Z/ 由图/ 中/ 重建/ 像素/ L/ 和/ T/ 平均/ 得到/ ,/ 然后/ 利用/ 重建/ 像素/ L/ 和/ T/ 与/ Z/ 进行/ 线性插值/ 计算/ 出/ 最/ 下面/ 一行/ 和/ 最/ 右边/ 一列/ 像素/ 值/ ,/ 如图/ 6/ 中/ 像素/ M/ 和/ N/ ,/ 然后/ 利用/ 插值/ 得到/ 的/ 像素/ 进行/ 双/ 线性插值/ 计算/ 其它/ 预测/ 像素/ 值/ ,/ 如图/ 6/ 中/ 像素/ P/ ./ Page63/ ./ 2.2/ 色度/ 分量/ 帧/ 内/ 预测/ 对于/ 色差/ 分量/ ,/ 所有/ 的/ 预测/ 单元/ PU/ 都/ 可以/ 使用/ 对应/ 亮度/ 预测/ 单元/ 的/ 预测/ 模式/ ,/ 但是/ 预测/ 模式/ 的/ 排序/ 和/ 编码/ 略有/ 差别/ ,/ 除此之外/ ,/ 色差/ 分量/ 还/ 可以/ 用/ “/ 基于/ 颜色/ 通道/ 相关性/ ”/ 进行/ 色差/ 分量/ 预测/ [/ 38/ -/ 40/ ]/ ./ 因为/ 在/ 视频/ 编码/ 中/ ,/ 色差/ 分量/ 和/ 亮度/ 分量/ 可能/ 有/ 相同/ 的/ 纹理/ 信息/ ,/ 因此/ 可以/ 使用/ 通道/ 之间/ 的/ 相关性/ 和/ 线性/ 模型/ ,/ 将/ 对应/ 预测/ 单元/ 的/ 重建/ 亮度/ 分量/ 像素/ 值/ 作为/ 参考/ 对/ 色差/ 分量/ 进行/ 预测/ ,/ 如图/ 7/ 所示/ ./ 预测/ 方式/ 如式/ (/ 3/ )/ 所示/ :/ 其中/ ,/ PredC/ 表示/ 色差/ 分量/ 预测值/ ,/ RecL/ 表示/ 对应/ 块/ 的/ 重建/ 亮度/ 值/ ,/ 在/ 420/ 格式/ 的/ YUV/ 数据/ 中/ ,/ 由于/ 亮度/ 分量/ 的/ 分辨率/ 是/ 色差/ 分量/ 的/ 4/ 倍/ ,/ 因此/ 在/ 使用/ 这种/ 模式/ 进行/ 色差/ 帧/ 内/ 预测/ 之前/ ,/ 首先/ 对/ 重建/ 亮度/ 块/ 数据/ 分别/ 进行/ 水平/ 方向/ 和/ 垂直/ 方向/ 的/ 下/ 采样/ 处理/ ,/ 如式/ (/ 4/ )/ 所示/ :/ RecL/ [/ x/ ,/ y/ ]/ =/ (/ RecL/ [/ 2x/ ,/ 2y/ ]/ +/ RecL/ [/ 2x/ ,/ 2y/ +/ 1/ ]/ )/ / 1/ 参数/ α/ 和/ β/ 使用/ 最小/ 线性/ 二/ 乘法/ 计算/ 得到/ α/ =/ I/ ×/ ∑/ IRecC/ (/ i/ )/ ×/ RecL/ (/ i/ )/ -/ ∑/ II/ ×/ ∑/ Ii/ =/ 0i/ =/ 0/ 这里/ RecC/ (/ i/ )/ 和/ RecL/ (/ i/ )/ 分别/ 表示/ 重建/ 的/ 色差/ 分量/ 和/ 下/ 采样/ 的/ 重建/ 亮度/ 分量/ ,/ 如图/ 8/ 中/ 灰色/ 位置/ 处/ 的/ 像素/ 所示/ ./ 对于/ N/ ×/ N/ 的/ 色差/ 块/ ,/ 如果/ 相邻/ 的/ 上边/ 块/ 和/ 左边/ 块/ 都/ 可用/ ,/ 则/ 用于/ 计算/ 的/ 像素/ 总数/ I/ 为/ 2N/ ,/ 如果/ 只有/ 左边/ 或者/ 上面/ 一个/ 相邻/ 块/ 可用/ ,/ 则/ 用于/ 计算/ 的/ 像素/ 总数/ I/ 为/ N/ ./ 3.3/ 帧/ 间/ 预测/ 在/ 帧/ 间/ 预测/ 方面/ ,/ 和/ 传统/ 的/ 视频/ 编码标准/ 一样/ ,/ HEVC/ 采用/ 的/ 是/ 基于/ 运动/ 补偿/ 的/ 预测/ 编码/ 技术/ ,/ 消除/ 视频/ 数据/ 时间/ 域/ 冗余/ ,/ 但/ 不同/ 的/ 是/ 采用/ 了/ 基于/ DCT/ 的/ 分/ 像素/ 插值/ 滤波器/ [/ 41/ -/ 42/ ]/ 和/ 先进/ 的/ 运动/ 矢量/ 预测/ 与/ 合并/ 技术/ [/ 43/ -/ 45/ ]/ ./ 3.3/ ./ 1/ 基于/ DCT/ 的/ 分/ 像素/ 插值/ 滤波器/ 在/ 运动/ 补偿/ 过程/ 中/ ,/ 如果/ 运算/ 矢量/ 指向/ 整/ 像素/ 位置/ ,/ 则/ 根据/ 运动/ 矢量/ 和/ 参考/ 帧/ 索引/ ,/ 直接/ 进行/ 运动/ 补偿/ 操作/ ;/ 如果/ 运动/ 矢量/ 指向/ 分/ 像素/ 位置/ ,/ 则/ 需要/ 进行/ 分/ 像素/ 位置/ 像素/ 值/ 的/ 插值/ 处理/ ./ 在/ HEVC/ 标准/ 制定/ 的/ 过程/ 中/ ,/ 提出/ 了/ 许多/ 插值/ 算法/ ,/ 包括/ 自/ 适应/ 插值/ 滤波器/ 、/ 高阶/ 插值/ 滤波器/ 等/ [/ 46/ ]/ ,/ 其中/ 基于/ DCT/ 的/ 插值/ 滤波器/ 有/ 更好/ 的/ 频率响应/ ,/ 并且/ 响应/ 形成/ 的/ 脉冲/ 平稳/ ,/ 波纹/ 较/ 小/ ,/ 非常适合/ 低通滤波器/ 的/ 图像/ 分/ 像素/ 插值/ ,/ 其/ 设计/ 原理/ 及/ 插值/ 系数/ 的/ 计算/ 过程/ 如下/ [/ 47/ ]/ :/ 经典/ DCT/ 前向/ 变换/ 与/ 后/ 向/ 变换/ 的/ 定义/ 如式/ (/ 7/ )/ X/ (/ k/ )/ =/ 2/ 槡/ N/ ∑/ N/ -/ 1x/ (/ n/ )/ =/ 2/ 槡/ N/ ∑/ N/ -/ 1/ 其中/ ck/ 的/ 定义/ 如式/ (/ 9/ )/ 所示/ ./ 和/ 式/ (/ 8/ )/ 所示/ ./ 将/ 前/ 向/ 变换/ 式/ (/ 7/ )/ 代入/ 后/ 向/ 变换/ 式/ (/ 8/ )/ 即可/ 得到/ 分/ 像素/ 插值/ 滤波器/ 系数/ 求解/ 的/ 形式化/ 公式/ (/ 10/ )/ [/ 48/ ]/ ,/ α/ 为分/ 像素/ 的/ 坐标/ 位置/ ,/ N/ 为/ 滤波器/ 的/ 阶数/ ,/ 例如/ 对于/ 半/ 像素/ 位置/ 的/ 8/ 阶/ 滤波器/ ,/ 则/ α/ =/ 1/ // 2/ ,/ N/ =/ 8/ ./ x/ (/ i/ +/ α/ )/ =/ ∑/ N/ -/ 1/ 在/ HEVC/ 中/ ,/ 运动/ 矢量/ 是/ 1/ // 4/ 像素/ 精度/ ,/ 根据/ 计算/ 复杂度/ 与/ 性能/ 的/ 综合/ 评估/ ,/ 半/ 像素/ 亮度/ 分量/ 插/ Page7/ 值/ 滤波器/ 为/ 8/ 阶/ ,/ 1/ // 4/ 亮度/ 分量/ 插值/ 滤波器/ 为/ 7/ 阶/ ,/ 色差/ 分量/ 插值/ 滤波器/ 为/ 4/ 阶/ ./ 假设/ p/ (/ a/ )/ 表示/ 分/ 像素/ 位置/ 处/ 的/ 像素/ 值/ ,/ 已知/ 2M/ -/ 1/ 个整/ 像素点/ 的/ 值/ ,/ 即/ i/ =/ 0/ ,/ 1/ ,/ …/ ,/ 2M/ -/ 1/ ,/ 如图/ 9/ 所示/ ,/ 插值/ 公式/ 如式/ (/ 11/ )/ 所示/ ./ 在/ 插值/ 过程/ 中/ ,/ 对/ 使用/ 到/ 的/ 相邻/ 分/ 像素/ 值/ 由/ 最近/ 的/ 已知/ 整/ 像素/ 值/ 替代/ ./ x/ (/ α/ )/ =/ ∑/ Mm/ =/ -/ M/ +/ 1cos/ (/ 2/ α/ -/ 1/ +/ 2M/ )/ π/ k/ 相应/ 的/ 滤波器/ 的/ 系数/ 如式/ (/ 12/ )/ fm/ (/ α/ )/ =/ 1/ 为了/ 增强/ 滤波器/ 的/ 平滑/ 性能/ ,/ 需要/ 对式/ (/ 12/ )/ 中/ 的/ 滤波器/ 系数/ 进行/ 一次/ 平滑/ 操作/ [/ 49/ ]/ ,/ 如式/ (/ 13/ )/ 所示/ ./ fm/ (/ α/ )/ =/ Mcos/ π/ m/ -/ α/ 14/ (/ cos/ (/ 2/ α/ -/ 1/ +/ 2M/ )/ π/ k/ 根据/ 上面/ 等式/ ,/ 可以/ 计算/ 出/ 任意/ 阶数/ M/ 和/ 任意/ 分/ 像素/ 位置/ a/ 的/ 插值/ 滤波器/ 系数/ fm/ (/ a/ )/ ./ 高效/ 的/ 插值/ 运算/ 都/ 是/ 无/ 乘法/ 运算/ ,/ 可以/ 通过/ 对/ 系数/ 做/ 一些/ 调整/ 和/ 整型/ 化/ 处理/ ,/ 这样/ 插值/ 波/ 过程/ 只/ 需要/ 加法/ 和/ 移位/ ./ 在/ HEVC/ 中/ 插值/ 滤波器/ 采用/ 的/ 是非/ 级联/ 形式/ ,/ 即/ 任意/ 分/ 像素/ 位置/ 的/ 像素/ 值/ 可以/ 直接/ 用整/ 像素/ 值/ 运算/ 得到/ ./ 在/ 如图/ 10/ 所示/ 的/ 像素/ 位置/ 分布图/ 中/ ,/ A/ 、/ B/ 、/ C/ 和/ D/ 是/ 整/ 像素/ 位置/ ,/ 水平/ 位置/ 分/ 像素/ a/ 、/ b/ 和/ c/ 使用/ 水平/ 方向/ 插值/ 滤波器/ ,/ 垂直/ 位置/ 分/ 像素/ d/ 、/ h/ 和/ l/ 使用/ 垂直/ 方向/ 插值/ 滤波器/ ,/ 对于/ 图中/ 其余/ 位置/ 分/ 像素/ ,/ 先/ 使用/ 垂直/ 方向/ 插值/ 进行/ 块/ 扩充/ ,/ 然后/ 再/ 进行/ 水平/ 方向/ 插值/ ,/ 插值/ 滤波器/ 系数/ 如表/ 2/ 所示/ ,/ 两个/ 1/ // 4/ 像素/ 位置/ 的/ 滤波器/ 系数/ 是/ 反对/ 称/ 关系/ ./ 表/ 3/ 中/ 也/ 列出/ 了/ 亮度/ 各个/ 分/ 像素/ 位置/ 插值/ 运算/ 所/ 需要/ 的/ 加法/ 、/ 乘法/ 以及/ 需要/ 访问/ 的/ 像素/ 次数/ ,/ 并且/ 与/ H/ ./ 264/ // AVC/ 中/ 的/ 分/ 像素/ 插值/ 运算/ 做/ 了/ 对比/ ./ 从表/ 3/ 中/ 的/ 数据/ 可以/ 看出/ ,/ HEVC/ 分/ 像素/ 插值/ 滤波/ 的/ 计算/ 复杂度/ 明显/ 大于/ H/ ./ 264/ // AVC/ ,/ 主要/ 原因/ 是/ HEVC/ 中/ 插值/ 滤波器/ 的/ 阶数/ 大于/ H/ ./ 264/ // AVC/ ./ 当然/ 在/ 实际/ 编码器/ 设计/ 的/ 时候/ ,/ 乘法/ 一般/ 都/ 是/ 使用/ 移位/ 来/ 实现/ 的/ ./ 分/ 像素/ 位置/ 像素/ 位置/ a776666b887665c776666d776666e495648111211f566355364236g495648111211h887665i566355364236j647263364235k566355364236l776666m495648111211n566355364236o495648111211/ 平均/ 333732161816/ 由于/ 亮度/ 分量/ 采用/ 1/ // 4/ 像素/ 精度/ 的/ 运动/ 矢量/ ,/ 因此/ 对应/ 色差/ 分量/ 的/ 运动/ 矢量/ 精度/ 为/ 1/ // 8/ 像素/ ,/ 同样/ 也/ 是/ 采用/ 基于/ DCT/ 的/ 插值/ 滤波器/ ,/ 滤波器/ 系数/ 如表/ 4/ 所示/ ./ 3.3/ ./ 2/ 先进/ 运动/ 矢量/ 预测/ 和/ 合并/ 技术/ 在/ 传统/ 视频/ 编码/ 技术/ 中/ ,/ 为了/ 提高/ 运动/ 矢量/ 的/ 编码/ 效率/ ,/ 编码/ 端/ 和/ 解码/ 端/ 使用/ 相同/ 的/ 预测/ 模型/ 对/ 当前/ 编码/ 运动/ 矢量/ 进行/ 预测/ ,/ 即/ 使用/ 空域/ 中/ 相邻/ 的/ Page8/ 左上/ 块/ 、/ 左边/ 块/ 和/ 右/ 上/ 块/ 的/ 运动/ 矢量/ 中/ 值/ 作为/ 预测/ 运动/ 矢量/ ,/ 然后/ 对/ 运动/ 矢量/ 预测/ 误差/ 进行/ 编码/ ./ 也/ 有/ 一些/ 使用/ 基于/ 竞争/ 的/ 算法/ 在/ 构建/ 的/ 运动/ 矢量/ 集中/ 选择/ 最优/ 的/ 运动/ 矢量/ 作为/ 当前/ 块/ 的/ 预测/ 运动/ 矢量/ [/ 33/ ]/ ,/ 并且/ 将/ 运动/ 矢量/ 索引/ 值/ 发送到/ 解码/ 端/ ,/ 然而/ 对于/ 较大/ 编码/ 块/ 来说/ ,/ 构建/ 的/ 预测/ 运动/ 矢量/ 集/ 较大/ ,/ 选择/ 过于/ 复杂/ 并/ 不利于/ 优化/ 编码/ ./ 在/ 先进/ 运动/ 矢量/ 预测/ 技术/ 中/ [/ 50/ -/ 51/ ]/ ,/ 候选/ 运动/ 矢量/ 集由/ 来自/ 左边/ 、/ 上边/ 空域/ 相邻/ 块/ 以及/ 参考/ 帧/ 中/ 对应/ 位置/ 的/ 时域/ 相邻/ 块/ 运动/ 矢量/ 构成/ ,/ 如图/ 11/ 所示/ ,/ 包括/ 当前/ 编码/ 块/ 上面/ 相邻/ 块/ B0/ ,/ B1/ 与/ B2/ ,/ 左边/ 相临块/ A0/ 与/ A1/ 以及/ 时域/ 对应/ 位置/ 的/ 相邻/ 块/ C0/ 与/ C1/ ./ 如果/ 时域/ 相邻/ 块/ C0/ 的/ 运动/ 矢量/ 不可/ 用/ ,/ 则/ 直接/ 使用/ 当前/ 预测/ 块/ 对应/ 位置/ 的/ 中间/ 块/ C1/ 的/ 运动/ 矢量/ 作为/ 候选/ 运动/ 矢量/ [/ 45/ ,/ 52/ ]/ ./ 候选/ 运动/ 矢量/ 集中/ 运动/ 矢量/ 个/ 数最多/ 为/ 两个/ ,/ 如果/ 候选/ 运动/ 矢量/ 小于/ 两个/ ,/ 则/ 使用/ 零/ 运动/ 矢量/ 填充/ ./ 如果/ 有/ 两个/ 运动/ 矢量/ 值/ 相同/ ,/ 则/ 只/ 采用/ 一个/ 作为/ 候选/ 运动/ 矢量/ ,/ 这/ 也/ 称为/ 消除/ 冗余/ 运动/ 矢量/ 技术/ ./ 图/ 11/ 空域/ 和/ 时域/ 预测/ 运动/ 矢量/ 位置/ 示意图/ 在/ HEVC/ 中/ ,/ 预测/ 单元/ 可以/ 进行/ 多次/ 循环/ 迭代/ 划分/ ,/ 并/ 以/ 四叉树/ 形式/ 进行/ 表示/ ,/ 有/ 可能/ 导致/ 编码/ 块/ 过于/ 细分/ ,/ 需要/ 编码/ 大量/ 的/ 辅助/ 信息/ ,/ 从而/ 导致/ 编码/ 效率/ 的/ 下降/ [/ 53/ -/ 54/ ]/ ,/ 因此/ 需要/ 对/ 具有/ 相同/ 运动/ 参数/ (/ 运动/ 矢量/ 、/ 参考/ 帧/ 索引/ 和/ 预测/ 方向/ 等/ )/ 的/ 块/ 节点/ 进行/ 合并/ 处理/ ,/ 从而/ 减少/ 运动/ 参数/ 的/ 编码/ 和/ 传输/ ./ 如图/ 12/ 所示/ ,/ 假设/ 当前/ 编码/ 块/ 为/ X/ ,/ 与/ 上述/ 先进/ 运动/ 矢量/ 预测/ 技术/ 一样/ ,/ 首先/ 利用/ 空域/ 与/ 时域/ 相邻/ 块/ 构建/ 候选/ 运动/ 矢量/ 列表/ ,/ 然后/ 对/ 具有/ 相同/ 运动/ 参数/ 的/ 相邻/ 块/ 进行/ 合并/ ,/ 共享/ 相同/ 的/ 参考/ 帧/ 索引/ 和/ 运动/ 矢量/ 信息/ ,/ 从而/ 减少/ 传输/ 的/ 数据量/ ,/ 如图/ 12/ (/ c/ )/ 所示/ ,/ 所有/ M/ 块/ 的/ 运动/ 矢量/ 信息/ 都/ 与/ S/ 块/ 相同/ ./ 这种/ 合并/ 模式/ 虽然/ 在/ 概念/ 上/ 与/ H/ ./ 264/ // AVC/ 中/ 的/ Direct/ 模式/ 和/ Skip/ 模式/ 相似/ ,/ 但是/ Direct/ 模式/ 只是/ 从/ 相邻/ 块/ 中/ 计算/ 出/ 当前/ 块/ 的/ 运动/ 矢量/ ,/ 不/ 需要/ 传输/ 任何/ 信息/ ,/ 而/ 合并/ 模式/ 则/ 是/ 创建/ 了/ 一个/ 具有/ 相同/ 运动/ 信息/ 参数/ 区域/ ,/ 对/ 每个/ 编码/ 块/ 需要/ 将/ 选择/ 的/ 候选/ 运动/ 矢量/ 索引/ 及其/ 参考/ 图像/ 列表/ 信息/ 传输/ 给/ 解码/ 端/ ,/ 因此/ 适应性/ 更强/ ,/ 编码/ 效率/ 更高/ ./ 3.4/ 变换/ 与/ 量化/ 在/ HEVC/ 中/ ,/ 变换/ 块/ 的/ 大小/ 支持/ 4/ ×/ 4/ 到/ 32/ ×/ 32/ ,/ DCT/ 变换/ 矩阵/ 近似/ 正交/ 矩阵/ [/ 21/ ,/ 55/ ]/ ,/ 同时/ 具备/ DCT/ 变换/ 的/ 对称/ 和/ 反对/ 称/ 性质/ ./ 变换/ 过程/ 中/ ,/ 所有/ 中间/ 值/ 都/ 限制/ 在/ 16/ 位/ 精度/ 范围/ 内/ ,/ 所/ 使用/ 的/ 乘法/ 操作/ 也/ 是/ 16/ 位/ ,/ 而/ 对/ 帧/ 内/ 预测/ 残差/ ,/ 则/ 采用/ 模式/ 自/ 适应/ 的/ DCT/ // DST/ [/ 56/ -/ 57/ ]/ ./ 3.4/ ./ 1DCT/ 变换/ 与/ 量化/ 为了/ 有效/ 实现/ DCT/ 变换/ ,/ 2N/ 点/ 的/ DCT/ 都/ 会/ 重用/ N/ 点/ 的/ DCT/ 过程/ ,/ 也就是说/ ,/ 较/ 小/ DCT/ 的/ 变换/ 系数/ 都/ 是/ 较大/ DCT/ 变换/ 系数/ 的/ 子集/ ,/ 如图/ 13/ 中/ 的/ 8/ ×/ 8/ 和/ 4/ ×/ 4DCT/ 系数/ 所示/ ,/ 4/ ×/ 4DCT/ 系数/ 是/ 8/ ×/ 8DCT/ 系数/ 的/ 子集/ ,/ 以此类推/ ,/ 8/ ×/ 8DCT/ 系数/ 是/ 16/ ×/ 16DCT/ 系数/ 的/ 子集/ ,/ 16/ ×/ 16DCT/ 系数/ 是/ 32/ ×/ 32DCT/ 系数/ 的/ 子集/ ,/ 而且/ 在/ 量化/ 和/ 反/ 量化/ 过程/ 中/ ,/ 对于/ 不同/ 的/ 变换/ 基和/ 不同/ 大小/ 的/ 变换/ 都/ 使用/ 统一/ 的/ 量化/ 归一化/ 参数/ 进行/ 量化/ ./ 在/ 硬件/ 实现/ 和/ 芯片/ 设计/ 中/ ,/ 这些/ 基本/ 运算/ 单元/ 都/ 可以/ 进行/ 有效/ 复用/ ./ DCT/ 变换/ 过程/ 由/ 独立/ 的/ 水平/ 变换/ 和/ 垂直/ 变换/ 两/ 部分/ 矩阵/ 乘法/ 组成/ ,/ 为了/ 保证/ 16/ 位/ 精度/ 的/ 实现/ ,/ 水平/ 变换/ 之后/ ,/ 需要/ 对/ 变换/ 系数/ 进行/ 右/ 移位/ 处理/ ,/ 然后/ 再/ 进行/ 垂直/ 变换/ 和/ 量化/ ./ 在/ 使用/ 矩阵/ 乘法/ 实现/ N/ ×/ N/ 点/ 的/ DCT/ 变换/ 时/ ,/ 需要/ N3/ 个/ 乘法/ 和/ N2/ ×/ (/ N/ -/ 1/ )/ 次/ 加法/ 运算/ ./ 由于/ DCT/ 变换/ 的/ 对称性/ 和/ 反对称性/ ,/ 可以/ 用/ 蝶形/ 运算/ 来/ 实现/ 快速/ DCT/ 变换/ ./ 3.4/ ./ 2DST/ 变换/ 与/ 量化/ 对于/ HEVC/ 中/ 的/ 帧/ 内/ 预测/ 算法/ ,/ 大致/ 可以/ 分为/ 3/ 类/ :/ 来自/ 单边/ 参考/ 像素/ 的/ 方向性/ 预测/ 、/ 来自/ 双边/ 参/ Page9/ 考/ 像素/ 的/ 方向性/ 预测/ 和/ 无/ 方向性/ 的/ DC/ 或者/ Planar/ 预测/ 模式/ ./ 在/ 单边/ 预测/ 模式/ 中/ ,/ 距离/ 参考/ 像素/ 越/ 远/ ,/ 预测/ 误差/ 越大/ ,/ 如图/ 14/ 所示/ ,/ 左边/ 像素/ 为/ 参考/ 像素/ ,/ 右边/ 像素/ 为/ 预测/ 像素/ ,/ 那么/ 左边/ 预测/ 像素/ 的/ 预测/ 准确性/ 高于/ 右边/ 预测/ 像素/ 的/ 预测/ 精度/ ,/ 离散/ 正弦/ 变换/ DST/ 能够/ 很/ 好/ 地/ 适应/ 这种/ 预测/ 误差/ 的/ 统计/ 特性/ ,/ 因此/ 在/ 对/ 残差/ 进行/ 变换编码/ 的/ 过程/ 中/ ,/ 根据/ 使用/ 的/ 预测/ 模式/ 进行/ 自/ 适应/ 的/ 选择/ DCT/ // DST/ 能够/ 有效/ 地/ 提高/ 编码/ 效率/ [/ 58/ ]/ ./ 3.5/ 熵/ 编码/ 在/ HEVC/ 中/ ,/ 最初/ 有/ 两种/ 熵/ 编码方案/ ,/ 即/ 应用/ 于/ 低/ 复杂度/ 配置/ 方案/ 中/ 的/ LCEC/ 编码/ (/ LowCom/ -/ plexityEntropyCoding/ )/ 和/ 高效/ 配置/ 方案/ 中/ 的/ 内容/ 自/ 适应/ 二进制/ 算术/ 编码/ CABAC/ (/ ContextAdaptiveBinaryArithmeticCoding/ )/ [/ 59/ ]/ ,/ 后来/ 考虑/ 到/ 编码/ 效率/ 和/ 实现/ 复杂度/ 等/ 原因/ ,/ 在/ 最终/ 的/ HEVC/ 编码方案/ 中/ ,/ 只/ 保留/ 了/ CABAC/ 一种/ 编码方案/ ./ CABAC/ 算法/ 原理/ 与/ H/ ./ 264/ // AVC/ 中/ 的/ 编码方案/ 类似/ ,/ 首先/ 对/ 需要/ 编码/ 的/ 语法/ 元素/ 和/ 量化/ 系数/ 进行/ 二值化/ ,/ 然后/ 选择/ 合适/ 的/ 上下文/ 模型/ 进行/ 概率/ 估计/ ,/ 最后/ 再/ 进行/ 二进制/ 算术/ 编码/ [/ 23/ ,/ 60/ ]/ ./ 但是/ H/ ./ 264/ // AVC/ 中/ CABAC/ 的/ 数据/ 相关性/ 及其/ 处理速度/ 是/ 视频/ 编解码/ 设计/ 中/ 的/ 瓶颈/ ,/ 特别/ 对于/ 解码器/ ./ 具体表现/ 在/ 以下/ 几个/ 方面/ :/ (/ 1/ )/ 概率模型/ 和/ 算术/ 编码/ 中/ 的/ 范围/ 划分/ 都/ 需要/ 递归/ 运算/ ./ (/ 2/ )/ 上下文/ 概率模型/ 选择/ 与/ 编码/ 语法/ 元素/ 相关性/ 太强/ ,/ 当前/ 解码/ 的/ 语法/ 元素/ 概率模型/ 由/ 前面/ 已/ 解码/ 的/ 语法/ 元素/ 确定/ ,/ 不利于/ 并行/ 编码/ 和/ 解码/ ./ (/ 3/ )/ 对于/ 二值化/ 后/ 的/ 语法/ 元素/ ,/ 上下文/ 概率模型/ 选择/ 还/ 与/ 比特/ 位置/ 有关/ ,/ 不同/ 比特/ 位置/ 二进制/ 数值/ 的/ 概率模型/ 需要/ 切换/ ./ 因此/ 在/ HEVC/ 标准/ 制定/ 过程/ 中/ ,/ 保证/ 编码/ 效率/ 不变/ 的/ 前提/ 下仅/ 可能/ 降低/ 数据/ 之间/ 的/ 相关性/ 并/ 增加/ 数据处理/ 速度/ ,/ 包括/ :/ 减少/ 概率模型/ 的/ 数量/ ,/ 设计/ 分组/ 直接/ 编码/ 模式/ ,/ 降低/ 概率模型/ 的/ 相关性/ ,/ 减少/ 内存/ 需求/ 等等/ ./ 在/ 对/ 预测/ 残差/ 变换/ 系数/ 编码/ 方面/ ,/ 由于/ 大/ 变换/ 块/ 系数/ 统计/ 特性/ 比较/ 分散/ ,/ 难以使用/ 统一/ 的/ 模型/ 进行/ 概率/ 估计/ 和/ 编码/ ,/ 因此/ 首先/ 对/ 变换/ 系数/ 块/ 划分/ 成子/ 块/ ./ 如图/ 15/ 所示/ ,/ 将/ 一个/ 8/ ×/ 8/ 变换/ 块/ 分成/ 4/ 个/ 4/ ×/ 4/ 子块/ ,/ 首先/ 对/ 每个/ 子块/ 中/ 数据/ 是否/ 全为/ 零/ 进行/ 标注/ ,/ 如果/ 不全/ 为/ 零/ ,/ 则/ 进行/ 对角/ 、/ 水平/ 或者/ 垂直/ 方向/ 的/ 扫描/ ,/ 将/ 二维/ 数据/ 转换成/ 一维/ 数据/ 进行/ 编码/ 传输/ ./ 这里/ 需要/ 注意/ 的/ 是/ ,/ 在/ 每个/ 方向/ 扫描/ 中/ ,/ 各行/ 、/ 各列/ 或者/ 各/ 对角线/ 数据/ 都/ 可以/ 独立/ 编码/ 和/ 解码/ ./ 与/ 传统/ ZIGZAG/ 扫描/ 方式/ 相比/ ,/ 大大降低/ 了/ 编码/ 系数/ 之间/ 的/ 相关性/ ,/ 有利于/ 进行/ 并行/ 熵/ 编解码/ ,/ 提高/ 数据处理/ 速度/ ./ 3.6/ 环路/ 滤波/ 与/ 自/ 适应/ 像素/ 补偿/ 在/ HEVC/ 中/ ,/ 对/ 重建/ 图像/ 进行/ 级联/ 去/ 块/ 斑/ 滤波/ 、/ 像素/ 自/ 适应/ 补偿/ 和/ 自/ 适应/ 环路/ 滤波/ 操作/ ,/ 以/ 提高/ 解码/ 图像/ 的/ 主客观/ 质量/ [/ 61/ ]/ ./ 其中/ 去/ 块/ 斑/ 滤波/ 用于/ 消除/ 块/ 效应/ [/ 62/ ]/ ,/ 而/ 像素/ 自/ 适应/ 补偿/ 和/ 自/ 适应/ 环路/ 滤波/ 则/ 用于/ 消除/ 量化/ 噪声/ [/ 63/ ]/ ./ 3.6/ ./ 1/ 去/ 块/ 斑/ 滤波/ 类似/ 于/ H/ ./ 264/ // AVC/ 中/ 的/ 去/ 块/ 斑/ 滤波/ ,/ 以/ 编码/ 块/ 为/ 单位/ ,/ 对/ 重建/ 图像/ 进行/ 块/ 边缘/ 滤波/ 处理/ ,/ 包括/ 水平/ 滤波/ 和/ 垂直/ 滤波/ ,/ 但/ 不同/ 的/ 是/ 用于/ 滤波/ 的/ 最小/ 块/ 为/ 8/ ×/ 8/ ,/ 而/ 不是/ H/ ./ 264/ // AVC/ 中/ 的/ 4/ ×/ 4/ 块/ ,/ 有效/ 消除/ 了/ 水平/ 滤波/ 和/ 垂直/ 滤波/ 之间/ 的/ 相关性/ ,/ 对于/ 高分辨率/ 视频/ 图像/ 在/ 不/ 影响/ 图像/ 主观/ 质量/ 的/ 前提/ 下/ 降低/ 了/ 计算/ 复杂度/ ./ 对于/ 滤波/ 权重/ 的/ 计算/ ,/ 如果/ 相邻/ 块/ 有/ 帧/ 内/ 编码/ 块/ 、/ 有/ 非/ 零/ 系数/ 或者/ 相邻/ 块/ 的/ 运动/ 矢量/ 差/ 大于/ 一个整/ 像素/ ,/ 都/ 要/ 进行/ 去/ 块/ 斑/ 滤波/ ,/ 除此之外/ ,/ 还要/ 计算/ 块/ 边缘/ 两侧/ 像素/ 值/ 的/ 差/ ./ 如图/ 16/ 所示/ ,/ 计算/ 方式/ 如下/ :/ di/ =/ p2/ -/ 2p1/ +/ p0/ +/ q2/ -/ 2q1/ +/ q0/ (/ 14/ )/ 这里/ p0/ 、/ p1/ 、/ p2/ 、/ q0/ 、/ q1/ 和/ q2/ 是/ 位于/ 块/ 边缘/ 两边/ 的/ 像素/ ,/ 如图/ 16/ (/ a/ )/ 所示/ ./ 和/ H/ ./ 264/ // AVC/ 不同/ 的/ 是/ ,/ 不/ 需要/ 每行/ 都/ 计算/ 两侧/ 像素/ 值/ 的/ 差/ di/ ,/ 例如/ :/ 对于/ 8/ ×/ 8/ 的/ 块/ 边缘/ ,/ 只要/ 计算/ 图/ 16/ (/ b/ )/ 中/ 两行/ 像素/ 的/ di/ 值/ ,/ 其余/ 像素/ 行/ 滤波/ 权重/ 的/ 计算/ 都/ 以/ 这/ 两行/ 的/ di/ 值为/ 参考/ ,/ 这样/ 大大降低/ 了/ 计算/ 滤波/ 权重/ 的/ 复杂度/ ./ Page10/ 图/ 16/ 用于/ 去/ 块/ 斑/ 滤波/ 权重/ 计算/ 的/ 像素/ 位置/ 示意图/ 根据/ 计算/ 得到/ 的/ 滤波/ 权重/ ,/ 强/ 滤波/ 过程/ 与/ H/ ./ 264/ // AVC/ 相似/ ,/ 而/ 在/ 弱/ 滤波/ 过程/ 中/ ,/ 首先/ 按照/ 式/ (/ 15/ )/ 计算/ Δ/ 值/ ./ Δ/ =/ (/ 13/ ×/ (/ q0/ -/ p0/ )/ +/ 4/ ×/ (/ q1/ -/ p1/ )/ -/ 5/ (/ q2/ -/ p2/ )/ )/ // 32/ Δ/ 值/ 的/ 范围/ 截取/ 至/ (/ -/ tc/ ,/ tc/ )/ ,/ tc/ 是/ 与/ 量化/ 参数/ QP/ 成正比/ 的/ 参数/ ,/ 量化/ 参数/ 越大/ ,/ 滤波/ 强度/ 越大/ ./ 块/ 边缘/ 的/ 滤波/ 如下/ :/ 3.6/ ./ 2/ 像素/ 自/ 适应/ 补偿/ 像素/ 自/ 适应/ 补偿/ 技术/ 通过/ 对/ 编码/ 单元/ CU/ 的/ 重建/ 像素/ 进行/ 分类/ ,/ 并且/ 对/ 每类/ 像素/ 进行/ 自/ 适应/ 的/ 补偿/ 以/ 减少/ 由于/ 变换/ 、/ 量化/ 和/ 预测/ 带来/ 的/ 块/ 效应/ 和/ 振铃/ 效应/ ./ HEVC/ 中/ 使用/ 了/ 两种/ 类型/ 的/ 像素/ 自/ 适应/ 补偿/ 技术/ :/ 边缘/ 补偿/ 和/ 区间/ 补偿/ ./ 在/ 边缘/ 补偿/ 中/ ,/ 首先/ 对/ CU/ 中/ 的/ 每个/ 像素/ 进行/ 边缘/ 分类/ ,/ 如图/ 17/ 所示/ ,/ 像素/ c/ 是/ 当前/ 像素/ ,/ 相邻/ 像素/ 为/ a/ 和/ b/ ,/ 像素/ c/ 的/ 边缘/ 属性/ 根据/ 表/ 5/ 中/ 的/ 条件/ 分为/ 5/ 种/ 类型/ ./ 在/ 每个/ 编码/ 单元/ 中/ ,/ 编码器/ 选择/ 一种/ 类型/ 的/ 边缘/ 进行/ 自/ 适应/ 补偿/ 并/ 把/ 选择/ 的/ 边缘/ 类型/ 作为/ 辅助/ 信息/ 传给/ 解码/ 端/ ,/ 补偿/ 的/ 边缘/ 类型/ 和/ 具体/ 的/ 补偿/ 值/ 由/ 编码器/ 率/ 失真/ 优化/ 算法/ 确定/ ./ 这里/ 需要/ 注意/ 的/ 是/ :/ 在/ 边缘/ 补偿/ 中/ ,/ HEVC/ 只/ 允许/ 平滑/ 操作/ ,/ 因此/ 补偿/ 值/ 的/ 符号/ 由/ 算法/ 隐式/ 确定/ ;/ 另外/ ,/ 亮度/ 分量/ 和/ 色差/ 分量/ 的/ 像素/ 自/ 适应/ 补偿/ 是/ 互相/ 独立/ 的/ ./ 在/ 区间/ 补偿/ 中/ ,/ 将/ 每个/ 编码/ 单元/ 中/ 的/ 像素/ 等/ 分成/ 32/ 个/ 区间/ (/ 即/ 量化/ 步长/ 为/ 8/ )/ ,/ 编码器/ 根据/ 率/ 失真/ 优化/ 算法/ 选择/ 连续/ 5/ 个/ 区间/ 进行/ 自/ 适应/ 补偿/ 操作/ ,/ 补偿/ 区间/ 的/ 起始/ 位置/ 及/ 每个/ 区间/ 的/ 补偿/ 值/ 作为/ 辅助/ 信息/ 传给/ 解码/ 端/ ,/ 通过/ 区间/ 补偿/ 可以/ 有效/ 地/ 消除/ 由于/ 运动/ 估计/ 或/ 量化/ 算法/ 导致/ 的/ 相移/ 问题/ ./ 每个/ 编码/ 单元/ 只能/ 选择/ 一种/ 边缘/ 补偿/ 或者/ 区间/ 补偿/ 操作/ ,/ 相关/ 辅助/ 信息/ 也/ 可/ 由/ 左边/ 或者/ 上边/ 编码/ 单元/ 预测/ 得到/ ./ 边缘/ 类型/ 123403.6/ ./ 3/ 自/ 适应/ 环路/ 滤波/ 自/ 适应/ 环路/ 滤波/ 是/ 利用/ 维纳滤波/ 技术/ 对/ 去/ 块/ 斑/ 滤波/ 后/ 的/ 重建/ 图像/ 进行/ 处理/ ,/ 提高/ 解码/ 图像/ 的/ 主客观/ 质量/ ./ 对于/ 亮度/ 分量/ ,/ 编码器/ 在/ Slice/ 层/ 决定/ 是否/ 进行/ 自/ 适应/ 的/ 环路/ 滤波/ ,/ 使用/ 的/ 滤波器/ 为/ 2/ 维/ 钻石/ 滤波器/ ,/ 滤波器/ 的/ 大小/ 分别/ 为/ 5/ ×/ 5/ ,/ 7/ ×/ 7/ 和/ 9/ ×/ 9/ ,/ 如图/ 18/ 所示/ ./ 滤波/ 像素/ 根据/ 其/ 与/ 周围/ 像素/ 的/ 方差/ 选择/ 合适/ 的/ 滤波器/ 进行/ 滤波/ 处理/ ./ 对于/ 色差/ 分量/ ,/ 只/ 使用/ 5/ ×/ 5/ 大小/ 的/ 滤波器/ 进行/ 滤波/ 操作/ ,/ 但是/ 滤波/ 系数/ 、/ 滤波/ 性能/ 以及/ 如何/ 进行/ 滤波/ 仍然/ 是/ 编码/ 优化/ 的/ 问题/ ./ 具体/ 的/ 滤波/ 过程/ 包括/ 计算/ 每个/ 像素/ 与/ 周围/ 像素/ 的/ 方差/ ,/ 然后/ 对/ 像素/ 周围/ {/ -/ 3/ ,/ 3/ }/ 范围/ 内/ 的/ 方差/ 进行/ 统计分析/ ,/ 进行/ 滤波器/ 索引/ 值/ 的/ 计算/ ,/ 根据/ 滤波器/ 索引/ 值/ ,/ 使用/ 相应/ 的/ 滤波器/ 系数/ 和/ 滤波器/ 模板/ 对/ 重建/ 像素/ 进行/ 自/ 适应/ 环路/ 滤波/ ./ 4HEVC/ 计算/ 复杂度/ 分析/ 虽然/ HEVC/ 编码/ 技术/ 框架/ 仍然/ 沿用/ 基于/ 空域/ 和/ 时域/ 预测/ 的/ 混合/ 编码/ 框架/ ,/ 但是/ 与/ 传统/ 的/ 视频/ 编码/ 算法/ 相比/ (/ 例如/ H/ ./ 264/ // AVC/ )/ ,/ 采用/ 了/ 很多/ 新/ 的/ 编码/ 工具/ 来/ 提高/ 编码/ 效率/ ,/ 包括/ 更加/ 灵活/ 的/ 块/ 划分/ 模式/ 、/ 35/ 种/ 帧/ 内/ 预测/ 模式/ 、/ 基于/ DCT/ 的/ 分/ 像素/ 插值/ Page11/ 滤波器/ 、/ 先进/ 的/ 运动/ 矢量/ 预测/ 算法/ 与/ 运动/ 合并/ 模式/ 、/ 像素/ 自/ 适应/ 补偿/ 滤波器/ 与/ 环路/ 滤波器/ 等等/ ./ 这些/ 新/ 的/ 编码/ 工具/ 在/ 提高/ 压缩/ 效率/ 的/ 同时/ ,/ 也/ 增加/ 了/ 编解码器/ 的/ 计算/ 复杂度/ ,/ 尤其/ 对于/ 编码器/ 的/ 设计/ ,/ 在/ 进行/ 率/ 失真/ 优化/ 过程/ 中/ ,/ 有/ 更/ 多/ 的/ 编码/ 选项/ 需要/ 进行/ 组合/ 优化/ ./ 在/ 保证/ 压缩/ 效率/ 的/ 同时/ ,/ JCT/ -/ VC/ 在/ 制定/ HEVC/ 标准/ 过程/ 中/ ,/ 也/ 尽可能/ 降低/ 各个/ 编码/ 工具/ 带来/ 的/ 计算/ 复杂度/ 的/ 增加/ [/ 18/ ]/ ./ 在/ 环路/ 滤波/ 方面/ ,/ 最小/ 滤波/ 块/ 为/ 8/ ×/ 8/ ,/ 不仅/ 大大减少/ 了/ 滤波/ 像素/ 的/ 数量/ ,/ 而且/ 将/ 水平/ 滤波/ 和/ 垂直/ 滤波/ 进行/ 了/ 分离/ ,/ 更加/ 有利于/ 并行/ 化/ 操作/ ;/ 在/ 变换/ 和/ 量化/ 方面/ ,/ 不仅/ 数据位/ 宽/ 限制/ 在/ 16/ 位/ 范围/ 内/ ,/ 而且/ 通过/ 对/ 变换/ 系数/ 的/ 设计/ ,/ 减少/ 了/ 运算/ 复杂度/ ,/ 完成/ 8/ ×/ 8/ 、/ 16/ ×/ 16/ 和/ 32/ ×/ 32/ 块/ 反/ 变换/ 分别/ 需要/ 158/ 、/ 861/ 和/ 4696/ 个/ 指令/ 周期/ [/ 64/ ]/ ;/ 在/ 熵/ 编码/ 方面/ ,/ 仅仅/ 只/ 使用/ CABAC/ 方法/ ,/ 用于/ 编码/ 语法/ 元素/ 和/ 残差/ 系数/ 的/ 模型/ 也/ 大大减少/ ,/ H/ ./ 264/ // AVC/ 中/ 的/ 模型/ 数为/ 299/ 个/ ,/ 而/ HEVC/ 仅仅/ 有/ 154/ 个/ 模型/ ./ 在/ 标准/ 设计/ 方面/ ,/ 为了/ 适应/ 多核/ CPU/ 技术/ 和/ 多线程/ 编码/ 技术/ 的/ 发展/ ,/ 在/ 高层/ 语法/ 方面/ ,/ HEVC/ 还/ 提供/ 了/ 并行/ 编解码/ 机制/ ,/ 主要/ 包括/ 条带/ 并行/ 、/ 片层/ 并行/ 和/ 波形/ 并行/ 3/ 种/ 方式/ ,/ 如图/ 19/ 所示/ ./ 在/ 条带/ 并行/ 方法/ 中/ ,/ 每个/ 条带/ 可以/ 独立/ 编码/ 和/ 解码/ ,/ 条带/ 之间/ 的/ 分割/ 按照/ 顺序/ 扫描/ 方式/ 进行/ ,/ 条带/ 边缘/ 的/ 环路/ 滤波/ 由/ 高层/ 语法/ 控制/ ,/ 这种/ 条带/ 划分/ 方式/ 对/ 误码/ 有/ 较/ 强/ 的/ 鲁棒性/ ;/ 在/ 片层/ 并行/ 方法/ 中/ ,/ 编码/ 图像/ 被/ 分割/ 成/ 大小/ 相同/ 的/ 图像/ 片/ ,/ 每个/ 图像/ 片/ 同样/ 可以/ 进行/ 单独/ 的/ 编码/ 和/ 解码/ ;/ 在/ 波形/ 并行/ 方法/ 中/ ,/ 每个/ 线程/ 负责/ 一行/ 编码/ 单元/ 的/ 编码/ 或者/ 解码/ ,/ 但是/ 下/ 一行/ 编码/ 单元/ 的/ 处理/ 必须/ 延迟/ 前/ 一行/ 两个/ 编码/ 单元/ ,/ 在/ 每行/ 编码/ 单元/ 开始/ 时/ ,/ 必须/ 对/ CABAC/ 进行/ 重新/ 初始化/ ,/ 其它/ 与/ 正常/ 编码/ 完全/ 一样/ ,/ 这种/ 波形/ 并行/ 方法/ 对/ 压缩/ 效率/ 损失/ 最少/ ./ 为了/ 进行/ HEVC/ 的/ 计算/ 复杂度/ 分析/ ,/ 使用/ 文献/ [/ 65/ ]/ 中/ 的/ 通用/ 测试/ 条件/ 对/ JCT/ -/ VC/ 的/ HEVC/ 参考/ 实现/ 软件/ HM6/ ./ 0/ 进行/ 测试/ ,/ 硬件平台/ 为/ P9700/ (/ 双核/ 2.4/ GHz/ 主频/ )/ ,/ 使用/ 下述/ 3/ 种/ 典型/ 配置/ 对/ B/ 类/ 和/ C/ 类/ (/ 见表/ 6/ )/ 视频/ 测试/ 序列/ 进行/ 编码/ ,/ 包括/ 帧/ 内/ 编码/ 模式/ (/ AI/ )/ 、/ 随机/ 访问/ 模式/ (/ RA/ )/ 以及/ 低/ 延时/ 模式/ (/ LB/ )/ ,/ 量化/ 参数设置/ 为/ 22/ 和/ 37/ ,/ 分别/ 对应/ 于/ 高带宽/ 和/ 低/ 带宽/ 码流/ ./ 实际/ 编码/ 时间/ 见表/ 7/ ,/ 尽管/ HM/ 只是/ 用于/ HEVC/ 的/ 功能/ 验证/ ,/ 不是/ 用于/ 做/ 编码/ 性能/ 测试/ ,/ 但是/ 在/ 一定/ 程度/ 上/ 也/ 反应/ 了/ 其/ 计算/ 复杂度/ ,/ 其中/ 率/ 失真/ 优化/ 、/ 分/ 像素/ 插值/ 、/ 变换/ 与/ 量化/ 占/ 了/ 70/ %/ 以上/ 的/ 计算/ 复杂度/ ./ 根据/ 目前/ 的/ 评估/ ,/ HEVC/ 的/ 编码/ 复杂度/ 至少/ 是/ H/ ./ 264/ // AVC/ 的/ 4/ ~/ 8/ 倍/ ,/ 因此/ 如何/ 在/ 保证/ 压缩/ 效率/ 的/ 前提/ 下/ 降低/ 编码/ 计算/ 复杂度/ 是/ 今后/ 一段时间/ 的/ 研究/ 热点/ ./ 类别/ BC/ 序列/ KimonoParkSceneCactusBasketballDriveBasketballDrillBQMallPartyScene/ 在/ 实际/ 应用/ 中/ ,/ 尤其/ 对于/ 数字电视/ 、/ 流媒体/ 等/ 一些/ 非/ 实时/ 视频/ 应用/ ,/ 更加/ 关注/ 的/ 是/ 视频/ 解码/ 的/ 计算/ 复杂度/ ./ 目前/ HM/ 参考/ 软件/ 中/ 解码器/ 的/ 计算/ 复杂度/ Page12/ 与/ H/ ./ 264/ // AVC/ 的/ 参考/ 软件/ JM/ 基本/ 相当/ ./ 在/ 文献/ [/ 65/ -/ 66/ ]/ 中/ ,/ 基于/ ARM/ 平台/ 和/ X86/ 平台/ ,/ 对/ 优化/ 后/ 的/ 解码器/ 计算/ 复杂度/ 进行/ 了/ 详细分析/ ,/ 在/ ARM/ (/ 1GHzCortexA9/ )/ 平台/ 上/ ,/ 实时/ 解码/ C/ 类/ 视频/ 码流/ (/ 2Mbps/ ,/ 30/ 帧/ // s/ )/ 的/ 各/ 模块/ 平均/ 计算/ 复杂度/ 如图/ 20/ ./ 从图/ 20/ 中/ 可以/ 看出/ ,/ 解码器/ 中/ 各/ 模块/ 计算/ 复杂度/ 的/ 分布/ 与/ H/ ./ 264/ // AVC/ 解码器/ 基本/ 相当/ ./ 5HEVC/ 编码/ 性能/ 分析/ 为了/ 验证/ HEVC/ 的/ 编码/ 性能/ ,/ 视频/ 编码/ 联合/ 工作组/ JCT/ -/ VC/ 在/ 文献/ [/ 48/ ]/ 中/ 定义/ 了/ 通用/ 测试/ 条件/ 、/ 测试/ 场景/ 和/ 相应/ 的/ 编码器/ 配置文件/ 信息/ ,/ 率/ 失真/ 性能/ 差/ 的/ 计算/ 采用/ Bjntegaard/ 测量方法/ [/ 67/ ]/ ,/ 综合/ 峰值/ 信噪比/ PSNR/ 值/ 由/ 亮度/ 分量/ 与/ 色差/ 分量/ 的/ PSNR/ 值/ 加权/ 得到/ ,/ 在/ 文献/ [/ 17/ ]/ 中/ ,/ 对/ HEVC/ 中/ 各个/ 编码/ 工具/ 对/ 编码/ 性能/ 的/ 提升/ 做/ 了/ 详细/ 的/ 测试/ 和/ 分析/ ./ 根据/ 测试/ 结果/ 可知/ ,/ 采用/ 大/ 尺寸/ 的/ 编码/ 单元/ CU/ 以及/ 自/ 适应/ 预测/ 单元/ PU/ 和/ 变换/ 单元/ TU/ 对/ 性能/ 的/ 提升/ 最大/ ,/ 特别/ 对于/ 高分辨率/ 视频/ 序列/ 效果/ 最/ 明显/ ,/ 最好/ 情况/ 可以/ 提高/ 压缩/ 效率/ 39.2/ %/ ./ 由于/ H/ ./ 264/ // AVC/ 是/ 目前/ 压缩/ 性能/ 最好/ 、/ 应用/ 最广/ 的/ 视频/ 编码标准/ ,/ 因此/ 在/ 与/ 传统/ 视频/ 编码标准/ 做/ 性能/ 对比/ 的/ 过程/ 中/ ,/ 仅/ 使用/ H/ ./ 264/ // AVC/ 高级/ 档次/ (/ HighProfile/ )/ 编码/ 作为/ 比较/ 对象/ ,/ 参考/ 实现/ 软件/ 版本/ 为/ JM18/ ./ 30/ [/ 68/ ]/ ,/ HEVC/ 的/ 测试/ 版本/ 为/ HM8/ ./ 0/ [/ 69/ ]/ ,/ 测试/ 序列/ 采用/ 通用/ 测试/ 条件/ 中/ 规定/ 的/ A/ 类至/ F/ 类/ ,/ HEVC/ 编码/ 模式/ 采用/ 全帧/ 内/ 编码/ 模式/ (/ AI/ )/ 、/ 随机/ 访问/ 模式/ (/ RA/ )/ 以及/ 低/ 延时/ 模式/ (/ LB/ )/ 3/ 种/ ,/ 控制/ 图像/ 质量/ 的/ 量化/ 参数/ 分别/ 设置/ 为/ 22/ ,/ 27/ ,/ 32/ 和/ 37/ ,/ 3/ 种/ 模式/ 的/ 测试/ 结果/ 如表/ 8/ ~/ 表/ 10/ 所示/ ./ 从表中/ 的/ 数据/ 可知/ ,/ 在/ LB/ 编码/ 模式/ 下/ ,/ HEVC/ 获得/ 的/ 编码/ 性能/ 提高/ 最大/ ,/ 达到/ 35.1/ %/ ,/ 另外/ ,/ 对于/ 高分辨率/ 视频/ 序列/ 压缩/ 性能/ 的/ 提升/ 大于/ 低分辨率/ 视频/ 序列/ ,/ 如表中/ A/ 类/ 与/ C/ 类/ 性能/ 的/ 提升/ 一般/ 都/ 大于/ 其它/ 类/ ./ 另外/ ,/ 实验/ 数据/ 还/ 表明/ 在/ 低码率/ 下/ HEVC/ 性能/ 的/ 提升/ 大于/ 高/ 码率/ ./ 表/ 8AI/ 编码/ 模式/ 下/ HEVC/ 与/ H/ ./ 264/ // AVC/ 的/ 编码/ 性能/ 对比/ 测试/ 序列/ Y/ // %/ U/ // %/ V/ // %/ YUV/ // %/ A/ 类/ -/ 23.7/ -/ 21.6/ -/ 20.4/ -/ 23.4/ B/ 类/ -/ 22.8/ -/ 22.5/ -/ 22.1/ -/ 22.8/ C/ 类/ -/ 19.9/ -/ 21.1/ -/ 21.3/ -/ 20.3/ D/ 类/ -/ 16.7/ -/ 16.9/ -/ 17.6/ -/ 16.9/ E/ 类/ -/ 29.1/ -/ 27.4/ -/ 27.1/ -/ 28.8/ F/ 类/ -/ 22.8/ -/ 19.5/ -/ 20.1/ -/ 22.7/ 平均值/ -/ 22.2/ -/ 21.3/ -/ 21.2/ -/ 22.2/ 表/ 9RA/ 编码/ 模式/ 下/ HEVC/ 与/ H/ ./ 264/ // AVC/ 的/ 编码/ 性能/ 对比/ 测试/ 序列/ Y/ // %/ U/ // %/ V/ // %/ YUV/ // %/ A/ 类/ -/ 36.7/ -/ 37.8/ -/ 39.4/ -/ 36.9/ B/ 类/ -/ 39.7/ -/ 38.0/ -/ 37.2/ -/ 39.5/ C/ 类/ -/ 30.0/ -/ 32.2/ -/ 32.2/ -/ 30.4/ D/ 类/ -/ 27.2/ -/ 31.5/ -/ 33.2/ -/ 28.2/ F/ 类/ -/ 25.6/ -/ 25.7/ -/ 27.0/ -/ 26.0/ 平均值/ -/ 32.2/ -/ 33.3/ -/ 34.0/ -/ 32.5/ 表/ 10LB/ 编码/ 模式/ 下/ HEVC/ 与/ H/ ./ 264/ // AVC/ 的/ 编码/ 性能/ 对比/ 测试/ 序列/ Y/ // %/ U/ // %/ V/ // %/ YUV/ // %/ B/ 类/ -/ 42.1/ -/ 34.7/ -/ 35.3/ -/ 41.1/ C/ 类/ -/ 32.3/ -/ 32.3/ -/ 32.9/ -/ 32.5/ D/ 类/ -/ 29.1/ -/ 31.5/ -/ 33.2/ -/ 29.7/ E/ 类/ -/ 43.7/ -/ 39.5/ -/ 38.2/ -/ 42.9/ F/ 类/ -/ 28.8/ -/ 30.5/ -/ 33.2/ -/ 29.9/ 平均值/ -/ 35.1/ -/ 33.5/ -/ 34.4/ -/ 35.16/ 未来/ 研究/ 方向/ HEVC/ 是/ 联合/ 视频/ 专家组/ JCT/ -/ VC/ 为/ 解决/ 高清/ 及/ 超高/ 清/ 视频/ 数据/ 的/ 存储/ 、/ 传输/ 而/ 制定/ 的/ 具有/ 更/ 高压缩/ 效率/ 的/ 新一代/ 视频/ 编码标准/ ./ 尽管/ 仍然/ 基于/ 传统/ 的/ 混合/ 视频/ 编码/ 框架/ ,/ 但/ 对/ 该/ 框架/ 中/ 每个/ 模块/ 都/ 进行/ 了/ 技术创新/ ,/ 包括/ 灵活/ 的/ 块/ 划分/ 模式/ 、/ 基于/ 竞争/ 的/ 运动/ 视频/ 预测/ 、/ 基于/ DCT/ 的/ 分/ 像素/ 插值/ 滤波器/ 、/ 高效/ 的/ 自/ 适应/ 算术/ 编码/ 以及/ 波形/ 并行处理技术/ 等等/ ./ 这些/ 新/ 技术/ 使得/ HEVC/ 编码/ 效率/ 比/ H/ ./ 264/ // AVC/ 提高/ 了/ 一倍/ ./ 但是/ 这些/ 编码/ 选项/ 的/ 灵活/ 组合/ 使得/ HEVC/ 的/ 编码/ 复杂度/ 急剧/ 增加/ ,/ 阻碍/ 了/ HEVC/ 标准/ 的/ 快速/ 推广/ 和/ 应用/ ./ 因此/ 研究/ 快速/ 、/ 高效/ 的/ 编码/ 率/ 失真/ 优化/ 算法/ 、/ 码率/ 控制算法/ 、/ 主观/ 质量/ 优化/ 算法/ 应该/ 是/ 未来/ 一段/ 时期/ 的/ 研究/ 热点/ ./ 基于/ 对/ HEVC/ 参考模型/ HM/ [/ 69/ ]/ 的/ 测试/ 分析/ 可知/ ,/ 灵活/ 的/ 块/ 划分/ 模型/ ,/ 包括/ CU/ 、/ PU/ 和/ TU/ ,/ 对/ 视频/ 编码/ 的/ 率/ 失真/ 性能/ 提高/ 最为/ 明显/ ,/ 但/ 其/ 带来/ 的/ 计算/ 复杂度/ 也/ 最大/ ,/ 因此/ HEVC/ 编码器/ 如何/ 根据/ 相邻/ 块/ 上下文/ 属性/ 以及/ 当前/ 编码/ 块/ 的/ 纹理/ 特征/ 进行/ 快速/ 的/ CU/ 、/ PU/ 和/ TU/ 划分/ ,/ 具有/ 非常/ 重要/ 的/ 研究/ 价值/ ./ Shen/ 和/ Alvarez/ -/ Mesa/ 等/ 人/ 在/ 文献/ [/ 70/ -/ 71/ ]/ 中/ 提出/ 了/ Page13/ 基于/ 贝叶斯/ 分类/ 和/ 支持/ 向量/ 基/ 分类/ 的/ 编码/ 单元/ CU/ 、/ 变换/ 单元/ TU/ 以及/ 预测/ 单元/ PU/ 的/ 快速/ 选择/ 算法/ ,/ 在/ 保证率/ 失真/ 性能/ 的/ 前提/ 下/ 大大提高/ 了/ 编码/ 速度/ ./ 当然/ 还/ 可以/ 通过/ 相邻/ 单元/ 之间/ 的/ 相关性/ 、/ 不同/ 块/ 层次/ 之间/ 的/ 相关性/ 来/ 进一步/ 降低/ 计算/ 复杂度/ ./ 为了/ 适应/ 多核/ 处理器/ 的/ 发展趋势/ ,/ HEVC/ 中/ 引入/ 了/ 片层/ 、/ 条带/ 以及/ 波形/ 并行处理/ WPP/ 的/ 思想/ ,/ 然而/ 目前/ 已有/ 的/ 并行/ 视频/ 编码方法/ 粒度/ 较/ 粗/ ,/ 并行度/ 不高/ ,/ 负载/ 不/ 均衡/ ,/ 无法/ 充分/ 挖掘/ 多核/ 处理器/ 的/ 计算能力/ ,/ 影响/ 编码/ 效率/ ./ 因此/ 研究/ 适用/ 于/ 多/ 核/ 处理器/ 的/ 高/ 并行度/ 视频/ 编码方法/ ,/ 为/ 视频/ 编码/ 发展/ 提供/ 持续/ 的/ 计算能力/ 保证/ ,/ 具有/ 重要/ 意义/ [/ 72/ -/ 74/ ]/ ./ 目前/ 这方面/ 的/ 研究/ 刚刚/ 起步/ ,/ 研究/ 点/ 主要/ 包括/ 并行/ 运动/ 估计/ 算法/ 、/ 并行/ 帧/ 内/ 预测/ 算法/ 和/ 并行/ 熵/ 编码/ 算法/ 等等/ ./ 在/ 视频/ 编码/ 算法/ 方面/ ,/ 尽管/ HEVC/ 于/ 2013/ 年/ 1/ 月/ 已经/ 正式/ 发布/ ,/ 但是/ 随着/ 应用/ 需求/ 的/ 不断/ 变化/ ,/ HEVC/ 还/ 在/ 不断/ 扩展/ ,/ 主要/ 研究/ 包括/ :/ (/ 1/ )/ 三维/ 视频/ 、/ 立体/ 视频/ 和/ 多/ 视角/ 视频/ 的/ 编码/ 技术/ [/ 75/ -/ 76/ ]/ ,/ 不仅/ 对/ 视频/ 数据/ 进行/ 压缩/ ,/ 还要/ 对/ 深度/ 信息/ 进行/ 编码/ ;/ (/ 2/ )/ 分层/ HEVC/ 编码/ 技术/ [/ 77/ -/ 78/ ]/ ,/ 用于/ 提高/ HEVC/ 对/ 网络/ 的/ 自/ 适应能力/ ,/ 目前/ 主要/ 包括/ 空域/ 和/ 质量/ 域/ 可/ 分层/ 视频/ 编码/ ;/ (/ 3/ )/ 将/ 人类/ 对/ 视频/ 图像/ 的/ 认知/ 模型/ 融入/ 到/ 视频/ 编码/ 算法/ 中/ ,/ 对/ 视频/ 图像/ 中/ 感兴趣/ 的/ 区域/ 分配/ 较/ 多/ 的/ 码率/ 以/ 提高/ 视频/ 图像/ 的/ 主观/ 质量/ ,/ 具体/ 包括/ 感兴趣/ 区域/ 的/ 检测/ 技术/ 和/ 动态码率/ 分配/ 技术/ 等/ ;/ (/ 4/ )/ 优化/ 视频/ 图像/ 的/ 主客观/ 质量/ 评价/ 方法/ ,/ 即/ 视频/ 编码/ 中率/ 失真/ 优化/ 目标/ ,/ 目前/ 主要/ 以/ 峰值/ 信噪比/ 以及/ 结构/ 相似性/ 指标/ 作为/ 评价/ 标准/ ,/ 难以/ 精确/ 模拟/ 人类/ 视觉/ 系统/ 的/ 功能/ ,/ 还/ 有待于/ 进一步提高/ 和/ 改进/ ./ 7HEVC/ 的/ 应用/ 前景/ HEVC/ 标准/ 是/ 在/ H/ ./ 264/ 标准/ 的/ 基础/ 上/ 发展/ 起来/ 的/ ,/ 结合/ H/ ./ 264/ 在/ 视频/ 应用领域/ 的/ 主流/ 地位/ 可以/ 预见/ HEVC/ 标准/ 在/ 未来/ 广大/ 的/ 发展前景/ ./ 尽管/ HEVC/ 的/ 计算/ 复杂度/ 非常/ 高/ ,/ 但是/ 随着/ 多核/ 处理器/ 性能/ 的/ 提高/ 以及/ 芯片/ 处理/ 能力/ 越来越/ 强/ ,/ 算法/ 复杂性/ 对/ 应用/ 的/ 影响/ 越来越/ 小/ ./ 相反/ ,/ 在/ 实时/ 通信/ 应用/ 以及/ IPTV/ 应用/ 中/ ,/ 业务/ 的/ 不断/ 扩展/ 和/ 需求/ 的/ 增加/ 使得/ 有限/ 的/ 带宽/ 资源/ 逐渐/ 成为/ 瓶颈/ ,/ 高/ 压缩率/ 的/ 视频/ 编码/ 是/ 解决/ 这一/ 难题/ 的/ 有效/ 技术手段/ ,/ 这/ 也/ 为/ HEVC/ 在/ IP/ 流媒体/ 服务/ 领域/ 的/ 应用/ 奠定/ 了/ 坚实/ 的/ 基础/ ./ 另外/ ,/ 由于/ 视频/ 编码/ 软件开发/ 周期短/ ,/ 平台/ 灵活/ ,/ 因此/ 基于/ HEVC/ 的/ 网络/ 视频/ 应用/ 不久/ 将/ 大规模/ 出现/ ./ 8/ 结束语/ HEVC/ 是/ 由/ 视频/ 编码/ 联合/ 工作组/ JCT/ -/ VC/ 主导/ 制定/ 的/ 新一代/ 视频/ 编码标准/ ,/ 尽管/ 仍然/ 采用/ 的/ 是/ 混合/ 视频/ 编码/ 框架/ ,/ 但是/ 集成/ 了/ 很多/ 先进/ 的/ 视频/ 编码/ 工具/ ,/ 包括/ 35/ 种/ 预测/ 模式/ 的/ 帧/ 内/ 预测/ 、/ 树形/ 块/ 编码/ 组织/ 形式/ 、/ 先进/ 的/ 运动/ 矢量/ 预测/ 和/ 运动/ 合并/ 算法/ 、/ 分/ 像素/ 插值/ 算法/ 以及/ 去/ 块/ 斑/ 滤波/ 、/ 像素/ 自/ 适应/ 补偿/ 、/ 环路/ 滤波/ 等等/ ,/ 大大提高/ 了/ 视频压缩/ 效率/ ,/ 使得/ HEVC/ 比/ H/ ./ 264/ // AVC/ 标准/ 的/ 压缩/ 性能/ 更加/ 高效/ ./ 与/ H/ ./ 264/ // AVC/ 相比/ ,/ 在/ 客观/ 性能/ 上/ ,/ 即/ 重建/ 图像/ 的/ 质量/ 在/ 相同/ 的/ 平均/ PSNR/ 下/ ,/ HEVC/ 的/ 编码/ 码率/ 可以/ 节省/ 40/ %/ ;/ 在/ 主观/ 性能/ 上/ ,/ 即/ 重建/ 图像/ 在/ 相同/ 的/ 主观/ 质量/ 下/ ,/ HEVC/ 的/ 编码/ 码率/ 可以/ 节省/ 50/ %/ 以上/ ,/ 这/ 都/ 说明/ 了/ HEVC/ 标准/ 的/ 优越/ ./ 但/ 需要/ 指出/ 的/ 是/ ,/ HEVC/ 的/ 高效/ 是/ 以/ 巨大/ 的/ 计算/ 复杂度/ 为/ 代价/ 的/ ./ 从/ 前面/ 的/ 分析/ 可以/ 看出/ ,/ HEVC/ 标准/ 中/ 的/ 新/ 技术/ ,/ 给/ 编码器/ 优化/ 留下/ 了/ 更/ 多/ 的/ 编码/ 参数/ 和/ 优化/ 空间/ ./ 只有/ 合理/ 有效/ 地/ 选择/ 编码/ 参数/ ,/ 才能/ 使/ HEVC/ 标准/ 发挥/ 其/ 高效/ 的/ 压缩/ 性能/ ./ 针对/ HEVC/ 的/ 研究/ ,/ 特别/ 是/ 优化/ 算法/ 的/ 研究/ ,/ 随着/ 标准/ 的/ 形成/ 已经/ 越来越/ 受到/ 学术界/ 和/ 工业界/ 的/ 重视/ ./ 如何/ 合理/ 有效/ 地/ 发挥/ HEVC/ 的/ 压缩/ 效率/ ,/ 是/ HEVC/ 能否/ 在/ 工业界/ 成功/ 应用/ 的/ 至关重要/ 的/ 问题/ ,/ 也/ 是/ 学术界/ 研究/ 的/ 热点问题/ ./ HEVC/ 的/ 编码/ 优化/ 算法/ ,/ 主要/ 集中/ 在/ 以下/ 几个/ 方面/ :/ HEVC/ 的/ 码率/ 控制算法/ 、/ HEVC/ 低/ 复杂度/ 编码/ 优化/ 算法/ 、/ HEVC/ 的/ 主观/ 质量/ 优化/ 算法/ ./ 致谢/ 在/ 本文/ 撰写/ 和/ 修改/ 过程/ 中/ ,/ 审稿/ 专家/ 和/ 编辑/ 老师/ 提出/ 了/ 许多/ 宝贵意见/ 和/ 建议/ ,/ 在/ 此/ 表示/ 衷心感谢/ !/ 

