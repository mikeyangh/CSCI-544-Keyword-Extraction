Page1/ 面向/ 机会/ 社会/ 网络/ 的/ 服务/ 广告/ 分发/ 机制/ 郑啸/ 1/ )/ ,/ 2/ )/ 罗军舟/ 1/ )/ 曹玖新/ 1/ )/ 李伟/ 1/ )/ 刘波/ 1/ )/ 1/ )/ (/ 东南大学/ 计算机科学/ 与/ 工程学院/ 南京/ 211189/ )/ 2/ )/ (/ 安徽/ 工业/ 大学/ 计算机/ 学院/ 安徽/ 马鞍山/ 243002/ )/ 摘要/ 提出/ 面向/ 机会/ 社会/ 网络/ 的/ 服务/ 广告/ 分发/ 机制/ ,/ 解决/ 移动/ 网络/ 环境/ 中/ 由于/ 节点/ 移动性/ 、/ 拓扑/ 动态性/ 引起/ 的/ 集中式/ 服务/ 注册/ 库/ 失效/ 的/ 问题/ ./ 首先/ 分析/ 机会/ 社会/ 网络/ 中/ 服务/ 表现/ 出/ 的/ 社会/ 特征/ ,/ 提出/ 服务/ 社会/ 上下文/ 及其/ 参数/ 度量/ 方法/ ;/ 然后/ 提出/ 基于/ 社会/ 上下文/ 的/ 服务/ 广告/ 分发/ 机制/ ,/ 该/ 机制/ 根据/ 服务行业/ 相关度/ 判断/ 用户/ 对/ 服务/ 的/ 感兴趣/ 程度/ ,/ 以/ 确定/ 广告/ 目标/ 节点/ ,/ 根据/ 可靠/ 度/ 和/ 活跃度/ 计算/ 节点/ 效用/ ,/ 并/ 根据/ 行业/ 时空/ 共存/ 关系/ 预测/ 节点/ 和/ 服务行业/ 相遇/ 概率/ ,/ 以/ 动态/ 选择/ 服务/ 广告代理/ ;/ 最后/ 在/ 社区/ 移动/ 模型/ 下/ 进行/ 了/ 仿真/ 实验/ ,/ 验证/ 了/ 算法/ 的/ 正确性/ 和/ 有效性/ ./ 关键词/ 机会/ 社会/ 网络/ ;/ 服务/ 发现/ ;/ 消息/ 分发/ ;/ 上下文/ ;/ 机会/ 路由/ 1/ 引言/ 在/ 面向/ 服务/ 的/ 体系/ 架构/ (/ Service/ -/ orientedAr/ -/ chitecture/ ,/ SOA/ )/ 中/ ,/ 服务/ 发现/ 是/ 其/ 关键技术/ 之一/ ./ 有效/ 的/ 服务/ 发现/ 可以/ 使/ 服务/ 使用者/ 全面/ 获取/ 目标/ 服务/ 的/ 信息/ ,/ 为/ 进一步/ 的/ 服务/ 选择/ 和/ 组合/ 提供/ 备选/ 服务/ ./ 随着/ 移动/ 计算/ 和/ 普适/ 计算/ 研究/ 的/ 深入/ 和/ 普及/ ,/ 出现/ 了/ 移动/ 服务/ (/ mobileservice/ )/ 和/ 普适/ 服务/ (/ perva/ -/ siveservice/ )/ 等/ 新/ 的/ 服务/ 形态/ 和/ 模式/ ./ 与/ 传统/ 服务/ 模式/ 不同/ 的/ 是/ ,/ 这些/ 服务/ 模式/ 都/ 要/ 面对/ 异构/ 、/ 移动/ 的/ 网络/ 环境/ ./ 这种/ 环境/ 下/ ,/ 服务/ 的/ 使用者/ 和/ 提供者/ 表现/ 出/ 移动性/ 、/ 间歇/ 连接性/ ,/ 其/ 拓扑/ 结构/ 随/ 时间/ 变化/ 呈现出/ 极强/ 的/ 动态性/ ./ 传统/ 有线/ 网络/ 环境/ 下/ ,/ 服务提供者/ 向/ 服务/ 注册/ 库/ 发布/ 服务/ 信息/ ,/ 服务/ 使用者/ 在/ 服务/ 注册/ 库中/ 查找/ 所/ 需要/ 的/ 服务/ ./ 由于/ 节点/ 的/ 移动性/ 和/ 拓扑/ 结构/ 的/ 不稳定性/ ,/ 以及/ 移动/ 节点/ 计算/ 和/ 存储/ 能力/ 的/ 限制/ ,/ 这种/ 以/ 注册/ 库为/ 服务/ 信息/ 中介/ 的/ 方式/ 在/ 移动/ 网络/ 环境/ 下/ 面临/ 极大/ 挑战/ ./ 如何/ 在/ 移动/ 环境/ 下/ 有效/ 发现/ 服务/ ,/ 成为/ 一个/ 开放/ 的/ 具有/ 挑战/ 的/ 问题/ ./ 当前/ ,/ 移动/ 社会/ 网络/ (/ MobileSocialNetworks/ ,/ MSNs/ )/ [/ 1/ -/ 2/ ]/ 受到/ 了/ 重视/ ./ Kayastha/ 等/ 人/ [/ 1/ ]/ 将/ 移动/ 社会/ 网络/ 分为/ 基于/ Web/ 和/ 非/ 集中式/ 两种/ 类型/ ,/ 将/ 其/ 通信/ 方式/ 分为/ 蜂窝/ 通信/ 网络/ 、/ 机会/ 网络/ 和/ 无线/ 传感/ 网络/ ./ 本文/ 将/ 服务/ 发现/ 问题/ 的/ 移动/ 网络/ 环境/ 定/ 位于/ 基于/ 机会/ 网络/ 的/ 非/ 集中式/ 移动/ 社会/ 网络/ ,/ 简称/ 机会/ 社会/ 网络/ ./ 机会/ 社会/ 网络/ 因为/ 人类/ 的/ 社会活动/ 而/ 产生/ ,/ 由人/ 携带/ 的/ 移动/ 通信/ 终端/ 形成/ 的/ 一种/ 移动/ 自/ 组织/ 网络/ ,/ 网络/ 终端/ 以/ 短距离/ 无线/ 方式/ 直接/ 通信/ (/ 如/ Wi/ -/ Fi/ 或/ 蓝牙/ )/ ,/ 可以/ 在/ 相遇/ 时/ 交换/ 信息/ ./ 机会/ 社会/ 网络/ 虽然/ 具有/ 节点/ 移动性/ 强/ 、/ 拓扑/ 变化/ 快/ 、/ 消息传递/ 容迟/ 、/ 机会/ 路由/ 等/ 机会/ 网络/ 的/ 本质特征/ ,/ 但/ 却/ 具有/ 反映/ 社会关系/ 的/ 特点/ ./ 随着/ 智能手机/ 等/ 掌上/ 计算/ 设备/ 的/ 普及/ ./ 这种/ 类型/ 的/ 移动/ 社会/ 网络/ 已经/ 出现/ 在/ 校园/ 、/ 居民小区/ 、/ 工厂/ 等/ 人群/ 聚居/ 地区/ ./ 服务/ 广告/ 是/ 移动/ 环境/ 下/ 解决/ 集中式/ 服务/ 发现/ 问题/ 的/ 有效/ 方法/ ./ 服务提供者/ 向/ 周围/ 邻居/ 节点/ 定期/ 分发/ 称为/ 服务/ 广告/ 的/ 服务/ 描述/ 信息/ ,/ 直接/ 投放/ 服务/ 广告/ 给/ 服务/ 消费者/ ./ 这种/ 机制/ 不但/ 可以/ 发现/ 一些/ 潜在/ 的/ 用户/ ,/ 而且/ 更加/ 适合/ 动态/ 和/ 移动/ 的/ 网络/ 环境/ ./ 这/ 是因为/ 服务/ 使用者/ 不必/ 寻找/ 位置/ 可能/ 变化/ 的/ 服务/ 注册/ 库/ ,/ 而且/ 可以/ 及时/ 获得/ 服务/ QoS/ (/ QualityofServ/ -/ ice/ )/ 变化/ 的/ 信息/ ./ 服务/ 广告/ 机制/ 所/ 面临/ 的/ 主要/ 问题/ 是/ 移动/ 设备/ 具有/ 有限/ 的/ 缓存/ 、/ 带宽/ 和/ 计算能力/ ,/ 不/ 可能/ 向/ 周围/ 的/ 邻居/ 洪泛/ 式/ 地/ 分发/ 服务/ 信息/ ./ 因此/ ,/ 服务/ 广告/ 分发/ 机制/ 优化/ 的/ 目标/ 是/ 在/ 减少/ 广告/ 消息/ 数/ 的/ 同时/ ,/ 提高/ 广告投放/ 的/ 覆盖率/ ./ 上下文/ (/ context/ )/ 可以/ 潜在/ 增强/ 移动/ 环境/ 下/ 的/ 服务/ 操作能力/ [/ 3/ ]/ ./ 服务/ 上下文/ 是/ 指/ 可以/ 用来/ 刻画/ 实体/ 状况/ 的/ 任何/ 信息/ ,/ 实体/ 可以/ 是/ 用户/ 和/ 服务/ 交互/ 过程/ 中/ ,/ 任何/ 相关/ 的/ 人/ 、/ 地点/ 或/ 物体/ ,/ 也/ 包括/ 了/ 用户/ 和/ 服务/ 本身/ [/ 4/ ]/ ./ 已有/ 研究/ 提出/ 了/ 服务/ 上下文/ 的/ 概念/ 、/ 属性/ 、/ 分类/ 和/ 建模/ 方法/ [/ 3/ -/ 6/ ]/ ,/ 并/ 将/ 其/ 应用/ 于/ 服务/ 组合/ 和/ 服务/ 发现/ ,/ 但/ 都/ 没有/ 考虑/ 服务/ 的/ 社会/ 属性/ ./ 我们/ 发现/ 服务/ 具有/ 社会性/ ./ 服务/ 本质/ 上/ 虽然/ 是/ 软件/ ,/ 但/ 具有/ 其/ 自身/ 的/ 特点/ ./ 首先/ ,/ 服务/ 不是/ 单独/ 存在/ 的/ 应用/ ,/ 必须/ 和/ 其他/ 服务/ 交互/ ,/ 否则/ ,/ 就/ 失去/ 或/ 降低/ 了/ 服务/ 存在/ 的/ 价值/ ./ 特别/ 是/ 在/ 服务/ 组合/ 场景/ 下/ ,/ 服务/ 之间/ 合作/ 完成/ 某项/ 任务/ ,/ 因此/ 要/ 考虑/ 服务/ 间/ 的/ 关系/ 或/ 联系/ ./ 其次/ ,/ 服务/ 的/ 应用/ 场景/ 复杂/ ,/ 可能/ 是/ 移动/ 、/ 无线/ 环境/ ./ 因此/ 要/ 考虑/ 服务/ 的/ 部署/ 和/ 使用/ 环境/ ./ 在/ 移动/ 环境/ 下/ ,/ 手持/ 设备/ 上/ 服务/ 的/ 可用性/ 和/ 设备/ 拥有者/ 的/ 活动/ 规律/ 有关/ ./ 如果/ 设备/ 拥有者/ 远离/ 了/ 服务/ 的/ 使用者/ ,/ 服务/ 就/ 会/ 变得/ 不可/ 达/ ./ 此外/ ,/ 设备/ 拥有者/ 的/ 身份/ 、/ 职业/ 以及/ 兴趣爱好/ 和/ 所/ 需要/ 的/ 服务类型/ 有关/ ,/ 例如/ 教师/ 可能/ 对/ 教育/ 行业/ 的/ 服务/ 更加/ 感兴趣/ ./ 因此/ ,/ 本文/ 提出/ 服务/ 社会/ 上下文/ 及其/ 度量/ 方法/ ,/ 并/ 探索/ 利用/ 这些/ 信息/ 优化/ 服务/ 广告/ 的/ 分发/ 机制/ ./ 本文/ 第/ 2/ 节/ 简要/ 介绍/ 移动/ 环境/ 下/ 服务/ 计算/ 相关/ 研究/ ,/ 随后/ 介绍/ 服务/ 发现/ 、/ 消息/ 分发/ 和/ 服务/ 上下文/ 等/ 相关/ 工作/ ;/ 第/ 3/ 节/ 给出/ 服务/ 社会/ 上下文/ 描述/ 和/ 参数/ 度量/ 方法/ ;/ 第/ 4/ 节/ 介绍/ 基于/ 社会/ 上下文/ 的/ 服务/ 广告/ 分发/ 机制/ ;/ 第/ 5/ 节在/ 社区/ 移动/ 模型/ 下/ 进行/ 仿真/ 实验/ ,/ 并/ 对/ 算法/ 性能/ 进行/ 评估/ ;/ 第/ 6/ 节/ 讨论/ 本文/ 工作/ 的/ 应用/ 价值/ ;/ 第/ 7/ 节/ 总结/ 全文/ ./ 2/ 相关/ 工作/ 随着/ 移动/ 掌上/ 设备/ 的/ 普及/ ,/ 移动/ 人群/ 通过/ 自/ 组织/ 联网/ 方式/ 共享/ 信息/ 和/ 服务/ 的/ 潜在/ 需求/ 也/ 在/ 增长/ ./ 如/ 文献/ [/ 7/ ]/ 给出/ 了/ 一个/ 街头/ 服务/ 共享/ 的/ 场景/ ,/ 路/ 人/ 可以/ 共享/ 分别/ 由/ 不同/ 智能/ 掌上/ 设备/ 提供/ 的/ GPS/ 服务/ 、/ 公交线路/ 服务/ 、/ 步行/ 速度/ 服务/ ,/ 而/ 这些/ 服务/ 亦/ 可以/ 通过/ 机会/ 服务/ 组合/ 的/ 方式/ ,/ 计算/ 出/ 通过/ 步行/ 、/ 乘车/ 等/ 不同/ 方式/ 到达/ 某个/ 目的地/ 的/ 时间/ ./ 目前/ 开展/ 的/ 移动/ 自/ 组织/ 环境/ 下/ 的/ 服务/ 架构/ 和/ 关键技术/ 的/ 研究/ 主要/ 以/ 服务/ 中间件/ [/ 8/ ]/ 、/ 服务/ 组合/ [/ 7/ ,/ 9/ -/ 10/ ]/ 和/ 发现/ [/ 11/ -/ 13/ ]/ 研究/ 为代/ Page3/ 表/ ,/ 研究/ 项目/ 如/ MobiLife/ ①/ 、/ DCC/ (/ DynamicCom/ -/ posableComputing/ )/ [/ 14/ ]/ ./ 这些/ 研究/ 工作/ 直接/ 面向/ 当前/ 普适/ 和/ 移动/ 互联/ 环境/ 下/ 的/ 服务/ 提供/ 和/ 增值/ 问题/ ,/ 试图/ 解决/ 在/ 任何/ 时间/ 、/ 任何/ 地点/ 、/ 任何/ 设备/ 上/ ,/ 在/ 不必/ 用户/ 决策/ 或/ 较/ 少/ 决策/ 的/ 情况/ 下/ ,/ 向/ 用户/ 提供/ 个性化/ 服务/ 的/ 问题/ [/ 15/ ]/ ./ 和/ 传统/ 有线/ 网络/ 环境/ 不同/ 的/ 是/ ,/ 服务/ 使用者/ 和/ 提供者/ 具有/ 移动性/ ,/ 这/ 给/ 服务/ 的/ 定位/ 和/ 组合/ 带来/ 很大/ 的/ 困难/ ./ 同时/ ,/ 无线/ 网络带宽/ 受限/ 、/ 移动/ 节点/ 资源/ 受限/ ,/ 这/ 就/ 要求/ 设计/ 轻量级/ 的/ 资源节约型/ 服务/ 发现/ 方法/ ./ 解决/ 服务/ 发现/ 问题/ 有/ 两种/ 思路/ :/ (/ 1/ )/ 通过/ 研究/ 移动/ 节点/ 的/ 移动/ 规律/ ,/ 设计/ 服务/ 查找/ 方法/ [/ 11/ ]/ ;/ (/ 2/ )/ 通过/ 在/ 移动/ 节点/ 上/ 设置/ 缓存/ ,/ 提高/ 服务/ 发现/ 请求/ 的/ 响应速度/ [/ 12/ -/ 13/ ]/ ./ 文献/ [/ 11/ ]/ 提出/ 了/ 移动/ 自/ 组织/ 网络/ 中/ 基于/ 节点/ 移动性/ 的/ Web/ 服务/ 发现/ ./ 研究/ 了/ 在/ 移动/ 自/ 组织/ 网络/ 中/ 节点/ 移动/ 的/ 聚类/ 特性/ ,/ 从/ 移动/ 方向/ 、/ 速度/ 、/ 运动/ 轨迹/ 的/ 保持/ 时间/ 和/ 连通性/ 等/ 角度/ 研究/ 节点/ 的/ 移动/ 规律/ ./ 提出/ 了/ 一种/ 混合/ 查找/ 方法/ ,/ 即/ 根据/ 簇/ 结构/ 的/ 复杂程度/ ,/ 由/ 簇头/ 选择/ DHT/ 、/ 集中式/ Hash/ 或/ Flooding/ 方式/ 的/ 服务/ 发现/ 机制/ ./ 文献/ [/ 12/ ]/ 提出/ 了/ 移动/ 自/ 组织/ 网络/ 中/ 的/ 分布式服务/ 发现/ 协议/ ./ 其/ 关键技术/ 是/ 服务/ 广告/ 的/ P2P/ 缓存/ 和/ 基于/ 组/ 的/ 服务/ 查询/ 消息传递/ ./ 利用/ 移动/ 节点/ 构成/ 的/ P2P/ 缓存/ 保留/ 周围/ 其他/ 服务/ 的/ 广告/ 信息/ ,/ 有利于/ 引导/ 服务/ 查询/ 消息/ 向/ 这些/ 服务/ 节点/ 转发/ ./ 对/ 服务/ 按组/ 分类/ ,/ 并/ 对/ 服务组/ 进行/ 语义/ 描述/ ,/ 利用/ 这个/ 语义/ 信息/ 有/ 选择地/ 转发/ 服务/ 查询/ 消息/ ./ 文献/ [/ 13/ ]/ 提出/ 了/ 移动/ 自/ 组织/ 网络/ 中/ 一种/ 分布式/ Web/ 服务/ 缓存/ 和/ 响应/ 系统/ ./ 系统/ 中/ 设置/ 缓存/ 节点/ ,/ 它/ 可以/ 存储/ 对/ 服务/ 的/ 请求/ 和/ 服务/ 的/ 响应/ 数据/ ,/ 这种/ 缓存/ 的/ 方法/ 可以/ 有效/ 减少/ 服务/ 的/ 响应/ 延迟/ ,/ 减轻/ 网络/ 负载/ ./ 和/ 以上/ 工作/ 不同/ ,/ 本文/ 提出/ 了/ 主动/ 发布/ 服务/ 广告/ 消息/ 的/ 方法/ ./ 移动/ 社会/ 网络/ 中/ 有关/ 消息/ 分发/ 的/ 研究/ 为/ 本文/ 工作/ 提供/ 了/ 有益/ 参考/ ./ 这些/ 分发/ 机制/ 通常/ 基于/ 节点/ 社会/ 属性/ ,/ 利用/ 社会/ 网络分析/ 方法/ 解决/ ./ 文献/ [/ 2/ ]/ 研究/ 社会/ 网络/ 对/ 消息/ 分发/ 性能/ 的/ 影响/ ,/ 理论/ 证明/ 了/ 利用/ 社会关系/ 设计/ 算法/ 可以/ 使/ 网络带宽/ 可/ 优化/ 、/ 系统/ 规模/ 可/ 扩展/ ./ 文献/ [/ 16/ ]/ 研究/ 了/ 用户/ 社会性/ 的/ 移动/ 行为/ 对/ 信息/ 分发/ 的/ 影响/ ,/ 根据/ 移动/ 轨迹/ 是否/ 有/ 规律/ 及/ 可/ 预测/ ,/ 将/ 用户/ 划分/ 为/ 社会/ 人/ (/ Social/ )/ 和/ 游民/ (/ Vagabond/ )/ 两大类/ ,/ 并/ 发现/ 游民/ 在/ 人口数量/ 和/ 密度/ 大/ 的/ 区域/ 具有/ 更/ 高/ 的/ 消息/ 发送/ 效率/ ./ 文献/ [/ 17/ ]/ 研究/ 了/ 3/ 种/ 不同/ 移动/ 模式/ 的/ 移动/ 自/ 组织/ 网络/ ,/ 发现/ 都/ 具有/ 小/ 世界/ 特征/ ./ 从而/ 根据/ 其高/ 聚类/ 系数/ 和/ 短/ 平均/ 路径/ 长度/ 的/ 特点/ 设计/ 了/ 发布/ // 订阅/ 协议/ ./ 文献/ [/ 18/ ]/ 根据/ 移动用户/ 兴趣/ 和/ 社会/ 交互/ 模式/ 考虑/ 数据/ 的/ 分发/ 机制/ ./ 只/ 将/ 数据/ 转发给/ 对/ 其/ 有/ 兴趣/ 的/ 节点/ ,/ 以此/ 提高/ 数据/ 分发/ 的/ 性价比/ ./ 和/ 这些/ 工作/ 不同/ ,/ 广告/ 消息/ 的/ 主体/ 是/ 服务/ ,/ 而/ 服务/ 具有/ 一些/ 不同于/ 消息/ 的/ 特征/ ,/ 如可/ 组合/ 、/ 行业/ 相关/ 、/ 服务质量/ ./ 这些/ 特点/ 是/ 设计/ 服务/ 广告/ 分发/ 机制/ 时要/ 考虑/ 的/ 问题/ ./ 服务/ 上下文/ 一般/ 结合/ 服务/ 发现/ 、/ 选择/ 和/ 组合/ 等/ 具体/ 问题/ 来/ 研究/ ./ 文献/ [/ 3/ ]/ 提出/ 服务/ 的/ 上下/ 文化/ 趋势/ ,/ 认为/ 在/ 移动/ 环境/ 下/ ,/ 如果/ 不/ 考虑/ 有关/ 的/ 上下文/ 参数/ ,/ 注定/ 会/ 导致/ 服务/ 发现/ 的/ 失败/ ./ 这/ 是因为/ 不/ 考虑/ 上下文/ 时/ ,/ 会/ 降低/ 查找/ 精度/ ,/ 产生/ 极其/ 庞大/ 的/ 交换/ 数据/ ,/ 花费/ 较/ 多/ 的/ 处理/ 时间/ ./ 论文/ 提出/ 一个/ 层次/ 式/ 的/ 上下文/ 模型/ ,/ 使用/ WSDL2/ ./ 0/ 和/ SOAP/ 实现/ 上下文/ 的/ 处理/ ./ 提出/ 了/ 基于/ 地理位置/ 上下文/ 的/ 路由/ 机制/ ./ 文献/ [/ 4/ ]/ 概括/ 了/ 移动/ 环境/ 下/ 服务/ 调用/ 的/ 3/ 种/ 方式/ ,/ 给出/ 了/ 服务/ 上下文/ 的/ 定义/ ,/ 将/ 上下文/ 数据/ 的/ 每/ 一/ 维度/ 建模/ 为/ 层次结构/ ./ 具体/ 的/ 上下文/ 信息/ 可以/ 按照/ 用户/ 需求/ 建模/ ,/ 建模/ 方式/ 可以/ 是/ 本体/ 、/ 图/ 或/ 元组/ 等/ ./ 文献/ [/ 6/ ]/ 提出/ 基于/ 上下文/ 推理/ 的/ 语义/ Web/ 服务/ 发现/ 方法/ ./ 分别/ 建立/ 了/ 用户/ 情境/ 本体/ 和/ Web/ 服务/ 情境/ 本体/ 来/ 描述/ 服务/ 用户/ 和/ Web/ 服务/ 的/ 上下文/ 信息/ ,/ 建立/ 用户/ 情境/ 和/ 服务/ 情境/ 之间/ 的/ 推理/ 元规则/ ./ 并/ 提出/ 基于/ 规则/ 的/ 服务/ 筛选/ 方法/ ./ 文献/ [/ 19/ ]/ 关注/ 在/ 移动/ 社交/ 网络/ 中/ 的/ 服务/ 选择/ 问题/ ,/ 将/ 用户/ 上下文/ 作为/ 三维/ 协作/ 过滤/ 模型/ 的/ 一个/ 评价/ 维度/ ,/ 以/ 提高/ 服务/ 选择/ 的/ 准确性/ ./ 3/ 服务/ 社会/ 上下文/ 及其/ 参数/ 度量/ 3.1/ 服务/ 社会/ 上下文/ 服务/ 计算环境/ 中/ 参与/ 计算/ 的/ 实体/ 分为/ 服务提供者/ 和/ 服务/ 使用者/ 两种/ 类型/ ./ 服务/ 的/ 载体/ 是/ 服务提供者/ ,/ 服务/ 使用者/ 可以/ 是/ 服务/ ,/ 也/ 可以/ 是/ 仅仅/ 调用/ 其它/ 服务/ 的/ 非/ 服务化/ 封装/ 的/ 程序/ ,/ 如果/ 是/ 程序/ ,/ 本文/ 将/ 其/ 看作/ 是/ 一种/ 虚/ 服务/ ./ 根据/ 服务/ 之间/ 是否/ 存在/ 调用/ 关系/ ,/ 这些/ 实体/ 服务/ 和/ 虚/ 服务/ 共同/ 构成/ 一个/ 服务/ 覆盖/ 网络/ ,/ 简称/ 服务网络/ ./ 服务/ 是/ 网络/ 中/ 的/ 节点/ ,/ 如果/ 服务/ 之间/ 存在/ 调用/ 关系/ ,/ 就/ 用/ 边/ 将/ 它们/ 连接/ ./ 如图/ 1/ 所示/ 的/ 一个/ 校园/ 机会/ 社会/ 网络/ 场景/ ,/ 网络/ 节点/ 拥有者/ 因为/ 在/ 校园/ 学习/ 工作/ 而/ 形成/ 了/ 一个/ 社会/ 网络/ ./ 节点/ p1/ 的/ 拥有者/ 是/ 教务/ 管理员/ ,/ 提供/ 全校/ 的/ 教学计划/ 服务/ S1/ ,/ p2/ 的/ 拥有者/ 是/ 教师/ ,/ 提供/ 某门/ 课程/ 的/ 教学/ 文/ ①/ http/ :/ // // research/ ./ nokia/ ./ com/ // page/ // 239Page4/ 档/ 资料/ 服务/ S2/ ,/ p3/ 的/ 拥有者/ 是/ 后勤/ 管理员/ ,/ 提供/ 全校/ 教室/ 信息/ 服务/ S3/ ./ p4/ 的/ 拥有者/ 是/ 某位/ 学生/ ,/ 他/ 是/ 服务/ 用户/ ,/ 通过/ 设备/ 访问/ 这些/ 服务/ ,/ 获得/ 和/ 某门/ 课程/ 相关/ 的/ 教学/ 文档/ 、/ 教室/ 位置/ 等/ 信息/ ./ 这些/ 服务/ 和/ 服务/ 用户/ 之间/ 形成/ 相互/ 调用/ 的/ 关系/ ,/ p4/ 上/ 虽然/ 没有/ 服务/ ,/ 但/ 和/ 其他/ 服务/ 构成/ 了/ 调用/ 关系/ ,/ 也/ 是/ 服务网络/ 的/ 一部分/ ,/ 因此/ 可/ 看作/ 是/ 拥有/ 一个/ 虚/ 服务/ S4/ ./ S4/ 可以/ 直接/ 调用/ 服务/ S1/ 、/ S2/ 或/ S3/ ,/ S1/ 、/ S2/ 和/ S3/ 也/ 可以/ 构成/ 一个/ 关于/ 某门/ 课程/ 所有/ 教学信息/ 的/ 组合/ 服务/ ./ 为了/ 描述/ 服务/ 关系/ ,/ 先/ 给出/ 以下/ 定义/ ./ 定义/ 1/ ./ 实体/ 服务/ ,/ 服务网络/ 中/ 服务提供者/ 所/ 提供/ 的/ 服务/ 可以/ 调用/ 其它/ 服务/ ,/ 或者/ 被/ 服务/ 使用者/ 或/ 其它/ 服务/ 调用/ ,/ 这些/ 实际/ 存在/ 的/ 服务/ 称为/ 实体/ 服务/ ./ 定义/ 2/ ./ 虚/ 服务/ ,/ 服务网络/ 中/ 的/ 服务/ 使用者/ 只/ 调用/ 或/ 访问/ 服务/ ,/ 其/ 本身/ 并/ 不/ 对外/ 提供/ 服务/ ,/ 本文/ 称其为/ 虚/ 服务/ ./ 本文/ 后面/ 不再/ 区分/ 虚/ 服务/ 还是/ 实体/ 服务/ ,/ 都/ 统一/ 称为/ 服务/ ./ 本文/ 提出/ 的/ 服务/ 社会/ 上下文/ 是/ 这些/ 实体/ 服务/ 和/ 虚/ 服务/ 的/ 社会/ 上下文/ ./ 服务/ 具有/ 社会/ 属性/ ,/ 服务/ 间/ 在/ 交互/ 时会/ 表现/ 出/ 某些/ 社会/ 行为/ ./ 这/ 是因为/ ,/ 服务/ 计算/ 强调/ 服务/ 之间/ 的/ 组合/ 和/ 协作/ ,/ 由/ 原子/ 服务/ 按照/ 一定/ 的/ 工作/ 流程/ 组织/ 为/ 组合/ 服务/ 以/ 实现/ 服务/ 增值/ 是/ SOA/ 架构/ 下/ 分布式应用/ 的/ 一个/ 重要/ 的/ 特点/ ./ 因此/ ,/ 服务/ 计算环境/ 下/ 的/ 服务/ 不是/ 独立/ 存在/ 的/ ,/ 而是/ 必须/ 要/ 和/ 其它/ 服务/ 交互/ ,/ 与/ 服务/ 使用者/ 交互/ ,/ 形成/ 一个/ 服务/ 社会/ ,/ 这/ 在/ 一定/ 程度/ 上/ 体现/ 出/ 了/ 服务/ 计算环境/ 下/ 的/ 社会关系/ ./ 例如/ ,/ 服务/ 在/ 组合/ 时/ ,/ 总是/ 相关/ 行业/ 的/ 服务/ 组成/ 一个/ 工作/ 流/ ./ 服务/ 使用者/ 总是/ 使用/ 一些/ 和/ 其/ 兴趣/ 或/ 爱好/ 相近/ 的/ 服务/ ./ 此外/ ,/ 随着/ 掌上/ 移动/ 计算/ 设备/ 的/ 涌现/ ,/ 这些/ 设备/ 和/ 设备/ 携带者/ 的/ 社会活动/ 更加/ 密切/ ,/ 特别/ 是/ 设备/ 使用/ 的/ 区域/ 、/ 位置/ 和/ 时间/ 和/ 设备/ 携带者/ 活动/ 的/ 范围/ 、/ 作息时间/ 密切相关/ ./ 这/ 也/ 体现/ 了/ 设备/ 所/ 承载/ 的/ 服务/ 具有/ 社会性/ ./ 定义/ 3/ ./ 服务/ 社会/ 上下文/ 是/ 指/ 服务/ 在/ 相互作用/ 过程/ 中/ 所/ 表现/ 出来/ 的/ 和/ 社会/ 属性/ 相关/ 的/ 任何/ 信息/ ./ 本文/ 考虑/ 的/ 服务/ 社会/ 上下文/ 包括/ 以下/ 参数/ ,/ 其/ 定义/ 为/ SocialContext/ =/ (/ industry/ ,/ friends/ ,/ activeness/ ,/ 其中/ ,/ industry/ 是/ 服务行业/ 集合/ ,/ 表示/ 服务/ 所属/ 行业/ 或/ 感兴趣/ 的/ (/ 调用/ 的/ )/ 行业/ ,/ friends/ 代表/ 朋友圈/ ,/ ac/ -/ tiveness/ 是/ 服务/ 活跃度/ ,/ reliability/ 是/ 服务/ 可靠/ 度/ ,/ area/ 是/ 服务/ 区域/ ,/ time/ 是/ 服务/ 时间/ ./ 服务行业/ 是/ 指/ 服务/ 所属/ 的/ 行业/ ,/ 根据/ 服务/ 的/ 功能/ ,/ 它/ 总是/ 属于/ 某/ 一个/ 行业/ 的/ ./ 我们/ 曾经/ 提出/ 了/ 服务/ 按/ 行业/ 分类/ 组织/ 的/ 方法/ [/ 20/ ]/ ./ 服务行业/ 可以/ 细分/ 为主/ 行业/ 、/ 相关/ 行业/ 和/ 上下游/ 行业/ ,/ 在/ 组合/ 服务/ 中/ ,/ 多个/ 原子/ 服务/ 分别/ 属于/ 不同/ 的/ 行业/ ./ 而/ 这些/ 行业/ 构成/ 了/ 调用/ 时/ 的/ 上下游/ 关系/ ./ 朋友圈/ 是/ 服务/ 伙伴/ ,/ 属于/ 同一/ 朋友圈/ 的/ 服务/ 载体/ 具有/ 相近/ 的/ 兴趣爱好/ 或/ 工作/ 关系/ ./ 活跃度/ 体现/ 了/ 服务/ 的/ 移动性/ ,/ 服务/ 的/ 移动性/ 实质/ 上/ 由/ 承载/ 设备/ 的/ 移动性/ 所/ 决定/ ./ 服务/ 可靠/ 度/ 是/ 指/ 服务/ 具有/ 的/ 在/ 某/ 一段时间/ 内/ 提供/ 持久/ 服务/ 的/ 能力/ ./ 服务/ 区域/ 是/ 能/ 提供/ 服务/ 的/ 地理/ 区域/ 范围/ ,/ 服务/ 时间/ 是/ 提供/ 服务/ 的/ 时间/ 范围/ ./ 3.2/ 上下文/ 参数/ 度量/ 服务/ 社会/ 上下文/ 参数/ 是/ 服务/ 或/ 服务/ 载体/ 的/ 社会/ 环境/ 信息/ ,/ 代表/ 了/ 服务/ 所处/ 的/ 社会关系/ 环境/ ./ 这些/ 属性/ 依赖于/ 客观/ 物理/ 环境/ ,/ 因此/ 其/ 度量/ 方法/ 和/ 服务/ 载体/ 的/ 物理/ 状况/ 及/ 特性/ 有关/ ./ 例如/ ,/ 服务/ 时间/ 和/ 服务/ 载体/ 的/ 工作/ 时间/ 有/ 密切/ 的/ 联系/ ./ 通过/ 量化/ 载体/ 的/ 物理/ 特性/ ,/ 建立/ 服务/ 社会/ 上下文/ 参数/ 和/ 服务/ 载体/ 物理/ 特性/ 之间/ 的/ 映射/ 关系/ ,/ 就/ 可以/ 对/ 这些/ 参数/ 进行/ 度量/ ./ 下面/ 给出/ 行业/ 相关度/ 、/ 服务/ 活跃度/ 和/ 服务/ 可靠/ 度/ 的/ 计算方法/ ./ 这些/ 参数/ 将/ 用于/ 优化/ 服务/ 广告/ 分发/ ./ 定义/ 4/ ./ 上下游/ 关系/ ,/ 如果/ 行业/ a/ 中/ 的/ 服务/ 和/ 行业/ b/ 中/ 的/ 服务/ 在/ 同一个/ 服务/ 业务流程/ 中/ 可以/ 使用/ ,/ 则/ 称/ a/ 和/ b/ 具有/ 上下游/ 关系/ ./ 上下游/ 关系/ 具有/ 传递性/ 、/ 自反性/ 和/ 对称性/ ./ 如果/ 两个/ 具有/ 上下游/ 关系/ 的/ 行业/ 的/ 服务/ 之间/ 存在/ 直接/ 调用/ 关系/ ,/ 则/ 称/ 具有/ 直接/ 上下游/ 关系/ ,/ 否则/ 称为/ 间接/ 上下游/ 关系/ ./ 如图/ 2/ 所示/ ,/ 在/ 一个/ 旅游/ 组合/ 服务/ 中/ ,/ 铁路/ 运输业/ 和/ 住宿/ 业/ 就/ 具有/ 直接/ 上下游/ 关系/ ./ 服务行业/ 根据/ 其/ 直接/ 上下游/ 关系/ 可以/ 构成/ 一个/ 服务行业/ 网络/ ./ 其中/ ,/ 最/ 短距离/ 和/ 节点/ 度数/ 是/ 决定/ 两个/ 节点/ 关系/ 紧密/ 程度/ 的/ 主要参数/ ./ 由于/ 篇幅/ 所/ 限/ ,/ 本文/ 不/ 介绍/ 服务行业/ 网络/ 的/ 构建/ 方法/ ./ 基本/ 方法/ 是/ ,/ 统/ Page5/ 计/ 组合/ 服务/ 样本/ 中/ 形成/ 直接/ 上下游/ 关系/ 的/ 服务行业/ 对/ ,/ 若/ 两个/ 服务行业/ 形成/ 直接/ 上下游/ 关系/ 的/ 概率/ 大于/ 某一/ 阈值/ ,/ 则/ 认为/ 其/ 具有/ 直接/ 上下游/ 关系/ ./ 最/ 短距离/ 是/ 指/ 在/ 一个/ 服务行业/ 网络/ 中/ 两个/ 行业/ 节点/ 之间/ 的/ 最/ 短/ 跳数/ ,/ 跳数/ 越/ 小/ 说明/ 两个/ 行业/ 在/ 一个/ 工作/ 流中/ 调用/ 距离/ 越小/ ./ 服务/ 节点/ 的/ 度数/ 表示/ 了/ 服务行业/ 的/ 使用/ 程度/ ,/ 度数/ 越大/ 说明/ 节点/ 代表/ 的/ 行业/ 可以/ 参与/ 多种不同/ 的/ 流程/ 中/ ,/ 和/ 越/ 多/ 的/ 服务行业/ 之间/ 具有/ 上下游/ 关系/ ./ 因此/ ,/ 以/ 最/ 短距离/ 和/ 节点/ 度数/ 为/ 参数/ ,/ 得到/ 行业/ 相关度/ 的/ 定义/ 和/ 计算公式/ ./ 定义/ 5/ ./ 行业/ 相关度/ 是/ 在/ 行业/ 上下游/ 关系/ 中/ 所/ 体现/ 出/ 的/ 行业/ 关系/ 紧密/ 程度/ ,/ 其值/ 是/ 不/ 大于/ 1/ 的/ 非负/ 实数/ ./ 行业/ i/ 和/ 行业/ j/ 的/ 行业/ 相关度/ 定义/ 为/ r/ (/ i/ ,/ j/ )/ =/ 1/ // (/ hops/ (/ i/ ,/ j/ )/ ×/ max/ (/ di/ ,/ dj/ )/ -/ α/ +/ 1/ 其中/ hops/ (/ i/ ,/ j/ )/ 是/ i/ 和/ j/ 在/ 网络/ 中/ 的/ 最/ 短距离/ ,/ max/ (/ ·/ )/ 是/ 取/ 最大数/ 函数/ ,/ di/ ,/ dj/ 分别/ 是/ i/ 和/ j/ 的/ 度数/ ./ 调节/ 因子/ α/ 是/ 大于/ 0/ 并/ 小于/ 1/ 的/ 实数/ ./ 当/ 两个/ 服务/ 属于/ 同一个/ 服务行业/ 时/ ,/ 它们/ 的/ 行业/ 相关度/ 为/ 1/ ./ 在/ 距离/ 相同/ 时/ ,/ 节点/ 度数/ 越大/ ,/ 则/ 行业/ 相关度/ 越大/ ./ 服务/ 活跃度/ 和/ 服务/ 载体/ 的/ 移动性/ 相关/ ,/ 也/ 和/ 其/ 周围/ 邻居/ 节点/ 的/ 移动性/ 相关/ ./ 如果/ ,/ 服务/ s/ 一直/ 在/ 较大/ 范围/ 内/ 移动/ ,/ 则/ 其/ 邻居/ 的/ 变化率/ 比较/ 大/ ,/ 如果/ 服务/ s/ 不/ 移动/ ,/ 但/ 其/ 邻居/ 经常/ 改变/ ,/ 则/ 其/ 活跃度/ 也/ 较大/ ./ 因此/ ,/ 服务/ s/ 在/ 时刻/ t1/ 到/ t2/ 时间段/ 的/ 服务/ 活跃度/ α/ s/ (/ t1/ ,/ t2/ )/ 为/ α/ s/ (/ t1/ ,/ t2/ )/ =/ 1/ -/ Ns/ (/ t2/ )/ ∩/ Ns/ (/ t1/ )/ 其中/ :/ Ns/ (/ t1/ )/ 是/ s/ 在/ 时刻/ t1/ 时/ 的/ 邻居/ 节点/ 集合/ ;/ Ns/ (/ t2/ )/ 是/ s/ 在/ 时刻/ t2/ 时/ 的/ 邻居/ 节点/ 集合/ ./ 因此/ ,/ 服务/ 活跃度/ 体现/ 了/ 一段时间/ 内/ 节点/ 邻居/ 变化/ 的/ 情况/ ./ 如果/ 在/ 两个/ 不同/ 的/ 时刻/ ,/ 服务/ s/ 的/ 所有/ 邻居/ 都/ 不/ 相同/ ,/ 则/ α/ s/ =/ 1/ ,/ 如果/ 所有/ 邻居/ 没有/ 变化/ ,/ 则/ α/ s/ =/ 0/ ./ 因此/ ,/ α/ s/ 属于/ [/ 0/ ,/ 1/ ]/ 之间/ ./ 在/ 移动/ 网络/ 环境/ 下/ ,/ 影响/ 服务/ 可靠/ 度/ 的/ 底层/ 因素/ 主要/ 包括/ 服务/ 载体/ (/ 移动/ 设备/ )/ 的/ 工作/ 电量/ 和/ 可用/ 缓存/ 大小/ ./ 较/ 多/ 电量/ 和/ 较大/ 可用/ 缓存/ 的/ 设备/ 可以/ 保障/ 在/ 一段时间/ 内/ 提供/ 持久性/ 的/ 服务/ ./ 因此/ ,/ 本文/ 以/ 服务/ 载体/ 的/ 电量/ 和/ 缓存/ 作为/ 衡量/ 服务/ 可靠/ 度/ 的/ 参数/ ./ 服务/ s/ 的/ 服务/ 可靠/ 度为/ γ/ s/ ./ 有/ γ/ s/ =/ ω/ L/ ×/ Ls/ +/ ω/ C/ ×/ Css/ ./ t/ ./ ω/ L/ +/ ω/ C/ =/ 1/ ,/ ω/ L/ / 0/ ,/ ω/ C/ / 0/ (/ 3/ )/ 其中/ ,/ Ls/ 属于/ [/ 0/ ,/ 1/ ]/ ,/ 表示/ 服务/ s/ 载体/ 的/ 电量/ ,/ 0/ 表示/ 没有/ 电量/ ,/ 1/ 表示/ 满/ 电量/ ;/ Cs/ 是/ 服务/ s/ 载体/ 的/ 可用/ 缓存/ 容量/ ,/ 需要/ 进行/ 归一化/ 处理/ ;/ ω/ L/ 和/ ω/ C/ 是/ 权重/ 因子/ ./ 在/ 归一化/ 处理/ 时/ ,/ 通常/ 需要/ 获得/ 全部/ 缓存/ 参数/ 中/ 的/ 最大/ 和/ 最小值/ ,/ 然而/ ,/ 这/ 在/ 动态/ 的/ 移动/ 环境/ 下/ 是/ 很/ 难/ 做到/ 的/ ./ 因此/ ,/ 本文/ 根据/ 文献/ [/ 21/ ]/ 提出/ 的/ 服务质量/ 曲线/ 概念/ 和/ 计算方法/ ,/ 给出/ 缓存/ 用户/ 满意/ 函数/ 和/ 用户/ 满意度/ 的/ 定义/ ,/ 并用/ 用户/ 满意度/ 来/ 描述/ 用户/ 对/ 缓存/ 的/ 满意/ 程度/ ./ 对/ 缓存/ 容量/ c/ 的/ 用户/ 满意度/ S/ (/ c/ )/ 为/ S/ (/ c/ )/ =/ 其中/ ,/ Cmax/ 和/ Cmin/ 分别/ 是/ 最大/ 和/ 最小/ 阈值/ ./ 当/ 缓存/ 容量/ c/ 大于/ Cmax/ ,/ 就/ 设置/ 满意度/ 为/ 1/ ,/ 当/ c/ 小于/ Cmin/ ,/ 就/ 设置/ 其为/ 0/ ./ 因此/ 在/ 不必/ 获得/ 实际/ 全局/ 环境/ 中/ 缓存/ 的/ 最大值/ 和/ 最小值/ 的/ 情况/ 下/ ,/ 就/ 可以/ 进行/ 归一化/ 处理/ ./ 算/ 公式/ ,/ 即/ 因此/ ,/ 在/ 式/ (/ 3/ )/ 中用/ S/ (/ Cs/ )/ 取代/ Cs/ ,/ 得到/ 新/ 的/ 计/ 4/ 基于/ 服务/ 社会/ 上下文/ 的/ 服务/ 广告/ 分发/ 机制/ 4.1/ 问题/ 描述/ 与/ 设计/ 思想/ 本文/ 研究/ 的/ 机会/ 社会/ 网络/ 可以/ 抽象/ 为/ 以下/ 网络/ 模型/ :/ 假设/ 网络/ 是/ 一个/ 面积/ 为/ N/ ×/ N/ 的/ 二维/ 正方形/ 区域/ ,/ 所有/ 网络/ 节点/ 在/ 该/ 区域/ 中/ 按照/ 社区/ 移动/ 模型/ (/ Community/ -/ basedMobileModel/ ,/ CMM/ )/ [/ 22/ ]/ 自由/ 移动/ ./ 区域/ 中/ 的/ 所有/ 节点/ P/ 的/ 上下文/ 信息/ 可以/ 共享/ ,/ 节点/ 没有/ 隐私/ ,/ 相遇/ 时/ ,/ 可以/ 交换/ 上下文/ 信息/ ./ 每个/ 节点/ 都/ 是/ 对/ 等/ 服务/ 节点/ ,/ 既/ 可能/ 是/ 服务提供者/ ,/ 也/ 可能/ 是/ 服务/ 消费者/ ./ Page6/ 在/ 这样/ 一个/ 网络/ 模型/ 下/ ,/ 本文/ 要/ 解决/ 的/ 问题/ 是/ :/ 如何/ 优化/ 服务/ 广告/ 消息/ 的/ 转发/ 路径/ ,/ 使得/ 在/ 尽量减少/ 消息/ 量/ 和/ 传递/ 时间/ 的/ 同时/ ,/ 达到/ 最大/ 的/ 消息/ 投放/ 覆盖率/ ./ 在/ 实际/ 生活/ 中/ ,/ 移动/ 社会/ 网络/ 中/ 节点/ 的/ 移动/ 轨迹/ 具有/ 以下/ 规律/ [/ 23/ ]/ :/ 多数/ 节点/ 在/ 大多数/ 时间/ 内在/ 某/ 几个/ 固定/ 范围/ 或/ 区域/ 内/ 移动/ ,/ 而/ 少数/ 节点/ 在/ 区域间/ 自由/ 大/ 范围/ 移动/ ./ 考虑/ 这些/ 特性/ ,/ 本文/ 将/ 网络/ 中/ 的/ 所有/ 节点/ 分为/ 两类/ ,/ 服务/ 用户/ U/ (/ 即/ 节点/ )/ 和/ 广告代理/ A/ ./ U/ 可以/ 产生/ 服务/ 广告/ ,/ 并且/ 将/ 广告/ 消息/ 散发/ 给/ 邻居/ 节点/ ,/ 但/ 它/ 不/ 转发/ 其他/ 服务/ 广告/ ./ 这样/ 做/ 是/ 为了/ 减少/ 消息/ 的/ 个数/ ,/ 避免出现/ 信息/ 泛滥/ ./ U/ 也/ 可以/ 接收/ 到/ 其他/ 服务/ 广告/ ./ 而/ A/ 要/ 转发/ 服务/ 广告/ ,/ 并且/ 会/ 复制/ 多个/ 广告/ 并/ 转发给/ 邻居/ ./ 广告代理/ 也/ 可能/ 是/ 服务/ 用户/ ,/ 极端/ 情况/ 下/ ,/ 网络/ 中/ 所有/ 节点/ 都/ 是/ 广告代理/ ./ 每个/ 节点/ 需要/ 维护/ 一个/ 邻居/ 上下文/ 信息/ 表/ ./ 节点/ 在/ 转发/ 消息/ 时/ ,/ 要/ 根据/ 信息/ 表中/ 记载/ 的/ 信息/ 有/ 选择地/ 挑选/ 邻居/ 进行/ 转发/ ./ 定义/ 6/ ./ 服务/ 广告/ 消息/ 可以/ 定义/ 为/ 一个/ 五元/ 组/ 其中/ ,/ sinfo/ 是/ 服务/ 的/ 基本/ 信息/ ;/ scontext/ 是/ 服务/ 的/ 社会/ 上下文/ ;/ transfertag/ 是/ 消息/ 转发/ 标识/ ,/ 其值/ 为/ 布尔/ 型/ ,/ 表示/ 消息/ 是否/ 允许/ 被/ 转发/ ,/ 当值/ 为/ 零时/ ,/ 表示/ 不能/ 被/ 转发/ ;/ replicanum/ 是/ 消息/ 在/ 发布/ 给/ 广告代理/ 时/ 被/ 允许/ 复制/ 的/ 次数/ ,/ 其值/ 为/ 非负/ 整数/ ;/ TTL/ 是/ 广告代理/ 转发/ 消息/ 时所/ 允许/ 经过/ 的/ 社区/ 数/ ,/ 其值/ 为/ 非负/ 整数/ ./ 假设/ 当前/ 节点/ 为/ i/ ,/ 为了/ 发布/ 服务/ 信息/ ,/ 它/ 产生/ 一个/ 广告/ 消息/ Ad/ ,/ 服务/ 广告/ 发布/ 协议/ 的/ 执行/ 过程/ 为/ :/ (/ 1/ )/ 根据/ 邻居/ 的/ 社会/ 上下文/ 信息/ ,/ 按照/ 广告/ 目标/ 选择/ 策略/ ,/ 服务/ 用户/ U/ 将/ Ad/ 发布/ 给/ 多个/ 最有/ 可能/ 对/ 该/ 服务/ 感兴趣/ 的/ 邻居/ 节点/ ,/ 设置/ Ad/ / trans/ -/ fertag/ 为/ 0/ ;/ (/ 2/ )/ 在/ 所有/ 邻居/ 节点/ 中/ ,/ 根据/ 广告代理/ 选择/ 机制/ ,/ 选择/ 不/ 超过/ k/ (/ k/ =/ Ad/ / replicanum/ )/ 个/ 合适/ 的/ 节点/ 作为/ 广告代理/ A/ ./ 发给/ A/ 的/ 消息/ Ad/ 中/ 的/ Ad/ / transfertag/ 设置/ 为/ 1/ ,/ Ad/ / TTL/ 设置/ 为/ t/ ;/ (/ 3/ )/ 如果/ 节点/ 收到/ 广告/ 消息/ Ad/ ,/ 检查/ Ad/ / transfertag/ ,/ 如果/ 为/ 0/ ,/ 则/ 不/ 转发/ 广告/ 消息/ ;/ 如果/ 为/ 1/ ,/ 则/ 说明/ 自己/ 已/ 被/ 选择/ 为此/ 广告/ 的/ 广告代理/ ,/ 将/ Ad/ 存入/ 本地/ 缓存/ ,/ 等待/ 转发/ ;/ (/ 4/ )/ 广告代理/ 按照/ 广告/ 目标/ 选择/ 策略/ ,/ 将/ 缓存/ 中/ 的/ Ad/ 的/ 副本/ 转发给/ 选择/ 的/ 邻居/ ,/ 并/ 将/ 此/ 副本/ 的/ transfertag/ 设置/ 为/ 0/ ;/ (/ 5/ )/ 广告代理/ 检测/ 社区/ ,/ 若/ 经过/ 一个/ 社区/ ,/ 就/ 将/ 缓存/ 中/ 的/ Ad/ / TTL/ 减/ 1/ ;/ (/ 6/ )/ 重复/ 以上/ 过程/ ,/ 直到/ Ad/ / transfertag/ =/ 0/ 或/ Ad/ / TTL/ =/ 0/ ,/ 丢弃/ Ad/ ./ 可见/ ,/ 服务/ 广告/ 发布/ 协议/ 中/ 的/ 关键/ 机制/ 是/ 广告/ 目标/ 选择/ 策略/ 、/ 广告代理/ 选择/ 机制/ 、/ 社区/ 检测/ 与/ TTL/ 更新/ 策略/ ./ 4.2/ 基于/ 行业/ 相关度/ 的/ 广告/ 目标/ 选择/ 服务/ 广告/ 应该/ 有/ 选择地/ 发布/ 给/ 潜在/ 的/ 用户/ ,/ 因此/ ,/ 广告/ 发布者/ 要/ 根据/ 邻居/ 信息/ ,/ 从/ 邻居/ 中/ 选择/ 出/ 最/ 有/ 可能/ 对/ 宣传/ 的/ 服务/ 感兴趣/ ,/ 并且/ 可能/ 会/ 使用/ 该/ 服务/ 的/ 邻居/ ./ 因此/ ,/ 必须/ 考虑/ 服务/ 用户/ 节点/ 和/ 服务/ 本身/ 的/ 相关性/ ,/ 将/ 服务/ 用户/ 的/ 社会/ 上下文/ 和/ 服务/ (/ 提供者/ )/ 的/ 社会/ 上下文/ 进行/ 比较/ ./ 本文/ 利用/ 行业/ 相关度/ 来/ 估计/ 用户/ 对/ 某个/ 服务/ 感兴趣/ 的/ 程度/ ./ 在/ 基于/ SOA/ 的/ 应用/ 系统/ 中/ ,/ 服务/ 除了/ 对/ 本行业/ 的/ 服务/ 感兴趣/ 以外/ ,/ 还会/ 调用/ 上下游/ 服务/ ,/ 以/ 完成/ 服务/ 组合/ 过程/ ./ 例如/ ,/ 一个/ 虚/ 服务/ 在/ 调用/ 交通/ 行业/ 的/ 服务/ 后/ ,/ 很/ 有/ 可能/ 要/ 调用/ 旅馆/ 行业/ 服务/ ,/ 以/ 完成/ 一个/ 旅游/ 服务/ 组合/ 的/ 过程/ ./ 因此/ ,/ 可以/ 根据/ 行业/ 相关度/ 预测出/ 是否/ 会/ 需要/ 该/ 服务/ ./ 根据/ 式/ (/ 1/ )/ ,/ 如果/ 两个/ 服务/ 属于/ 同一个/ 行业/ ,/ 则/ 相关度/ 为/ 最大值/ 1/ ,/ 如果/ 是/ 具有/ 直接/ 上下游/ 关系/ ,/ 并且/ 有/ 多种/ 联系/ (/ 调用/ 关系/ )/ ,/ 那么/ 服务/ 之间/ 越有/ 可能/ 产生/ 调用/ ,/ 其/ 相关度/ 也/ 越/ 大/ ./ 本文/ 的/ 广告/ 目标/ 选择/ 算法/ 中/ 计算/ 行业/ 相关度/ ./ 如果/ 其值/ 大于/ 某个/ 设定/ 的/ 阈值/ ,/ 就/ 作为/ 广告/ 目标/ ./ 算法/ 1/ 描述/ 了/ 广告/ 目标/ 选择/ 算法/ ./ 算法/ 1/ ./ 广告/ 目标/ 选择/ ./ 输入/ :/ 邻居/ 节点/ 集/ J/ ,/ 服务/ i/ ,/ 行业/ 相关度/ 阈值/ rt/ 输出/ :/ 广告/ 目标/ 集合/ D/ 算法/ 描述/ :/ D/ ←/ / ;/ FOREACHj/ ∈/ JDOcalculater/ (/ i/ ,/ j/ )/ byformula/ (/ 1/ )/ ;/ IFr/ (/ i/ ,/ j/ )/ >/ =/ rtTHEND/ ←/ D/ ∪/ {/ j/ }/ ;/ returnD/ ;/ 4.3/ 广告代理/ 的/ 动态/ 选择/ 节点/ 在/ 其/ 所有/ 的/ 邻居/ 中/ 选择/ 若干个/ 合适/ 的/ 节点/ 成为/ 广告代理/ ,/ 本文/ 倾向/ 于/ 选择/ 活跃度/ 大/ 、/ 可靠/ 度高/ ,/ 并/ 有/ 可能/ 和/ 潜在用户/ 相遇/ 的/ 节点/ 作为/ 广告代理/ ./ 其/ 动态/ 选择/ 的/ 过程/ 分为/ 以下/ 两个/ 步骤/ ./ Page7/ (/ 1/ )/ 资格/ 确认/ 首先/ 根据/ 上下文/ 信息/ ,/ 确定/ 哪些/ 邻居/ 节点/ 可以/ 成为/ 广告代理/ ./ 本文/ 提出/ 基于/ 效用/ 的/ 资格/ 确认/ 方法/ ,/ 即先/ 根据/ 上下文/ 信息/ 设计/ 统一/ 的/ 效用函数/ ,/ 再/ 分别/ 计算/ 每个/ 节点/ 的/ 效用/ 值/ ,/ 若/ 某/ 节点/ 效用/ 值/ 大于/ 一个/ 设定/ 的/ 阈值/ ,/ 即/ 可以/ 成为/ 广告代理/ 候选者/ ./ 本文/ 倾向/ 于/ 选择/ 活跃度/ 大/ 、/ 可靠/ 度高/ 的/ 节点/ ,/ 所以/ 效用函数/ 定义/ 为/ 其中/ ,/ α/ 是/ 活跃度/ ;/ γ/ 是/ 可靠/ 度/ ;/ w/ α/ 和/ w/ γ/ 是/ 相应/ 的/ 权值/ ./ 当/ 效用/ 值/ U/ 大于/ 某/ 一个/ 阈值/ ,/ 说明/ 节点/ 的/ 移动性/ 和/ 可靠性/ 满足要求/ ,/ 可以/ 成为/ 广告代理/ 的/ 候选者/ ./ 但是/ 对于/ 某/ 类型/ 的/ 服务/ 广告/ ,/ 并/ 不是/ 所有/ 的/ 广告代理/ 候选者/ 都/ 能/ 成为/ 其/ 代理/ ,/ 还要/ 预测/ 其/ 是否/ 会/ 和/ 对/ 此类/ 服务/ 感兴趣/ 的/ 节点/ 相遇/ ./ (/ 2/ )/ 相遇/ 预测/ 由于/ 广告代理/ 的/ 移动性/ 较强/ ,/ 有/ 可能/ 移动/ 到/ 目标/ 节点/ 附近/ ./ 因此/ 可以/ 采用/ 存储/ -/ 移动/ -/ 转发/ 的/ 消息/ 传输方式/ ,/ 即/ 由/ 广告代理/ 携带/ 服务/ 广告/ 到/ 广告/ 发布者/ 不能到达/ 的/ 区域/ ,/ 并/ 转发/ 服务/ 广告/ 给/ 可能/ 的/ 服务/ 用户/ ./ 因此/ ,/ 如果/ 可以/ 准确/ 预测/ 某个/ 广告代理/ 侯选者/ 未来/ 可以/ 和/ 期望/ 的/ 服务/ 用户/ 相遇/ ,/ 则/ 可以/ 使/ 其/ 成为/ 该/ 服务/ 的/ 广告代理/ ./ 考虑/ 到/ 移动/ 设备/ 计算能力/ 的/ 限制/ ,/ 本文/ 提出/ 基于/ 时空/ 共存/ 关系/ 的/ 轻量级/ 相遇/ 预测/ 方法/ ./ 本文/ 预测/ 所/ 基于/ 的/ 基本/ 事实/ 是/ ,/ 人们/ 总是/ 在/ 一定/ 范围/ 内/ 周期性/ 活动/ ,/ 他们/ 在/ 某个/ 空间/ 相遇/ 的/ 时间/ 持续/ 越长/ ,/ 说明/ 越/ 熟悉/ ,/ 在/ 将来/ 相遇/ 的/ 可能性/ 也/ 更/ 大/ ./ 相遇/ 的/ 次数/ 越/ 多/ ,/ 也/ 说明/ 将来/ 相遇/ 的/ 可能性/ 也/ 越/ 大/ ./ 由于/ 服务/ 的/ 载体/ 是/ 移动/ 设备/ ,/ 而/ 移动/ 设备/ 的/ 携带者/ 是/ 人/ ,/ 因此/ ,/ 服务/ 相遇/ 情况/ 也/ 遵循/ 以上/ 规律/ ./ 时空/ 共存/ 关系/ 是/ 指/ 两个/ 移动/ 物体/ 在/ 某个/ 时间段/ 共存/ 于/ 同一/ 地理位置/ [/ 24/ ]/ ,/ 本文/ 利用/ 地理/ 信息学/ 中/ 的/ 这个/ 概念/ 来/ 描述/ 服务行业/ 间/ 的/ 时空/ 关系/ ./ 本文/ 关注/ 的/ 不是/ 广告代理/ 候选者/ 会/ 和/ 哪些/ 节点/ 相遇/ ,/ 而是/ 关心/ 会/ 和/ 哪些/ 服务行业/ 相遇/ ,/ 因此/ 本文/ 给出/ 服务行业/ 时空/ 共存/ 关系/ 的/ 定义/ ./ 定义/ 7/ ./ 服务行业/ 时空/ 共存/ 关系/ ./ 在/ 时空/ 三维/ 坐标系/ 上/ ,/ 如果/ 两/ 节点/ 可以/ 在/ 某个/ 时间段/ 上/ 直接/ 一跳/ 通信/ ,/ 则/ 其中/ 某个/ 节点/ 和/ 另/ 一/ 节点/ 上/ 的/ 服务行业/ 在/ 此/ 时间段/ 上/ 具有/ 服务行业/ 时空/ 共存/ 关系/ ./ 图/ 3/ 描述/ 了/ 节点/ m/ (/ 从/ pm/ 点/ 出发/ )/ 和/ 节点/ n/ (/ 从/ pn/ 点/ 出发/ )/ 在/ 不同/ 时间/ 时/ 的/ 地理坐标/ 的/ 变化/ 情况/ ,/ 即/ 是/ 它们/ 的/ 移动/ 轨迹/ ./ 在/ t1/ 和/ t2/ 之间/ 的/ 时间段/ ,/ 两个/ 节点/ 的/ 距离/ 小于/ 通信/ 距离/ d/ ./ 则/ 说明/ 节点/ m/ 和/ 节点/ n/ 上/ 的/ 服务行业/ 具有/ 服务行业/ 时空/ 共存/ 关系/ ./ 节点/ 移动/ 轨迹/ 信息/ 是/ 一个/ 三元组/ (/ x/ ,/ y/ ,/ t/ )/ ,/ t/ 是/ 表示/ 节点/ 移动/ 过程/ 中/ 的/ 某/ 一/ 时刻/ ,/ (/ x/ (/ t/ )/ ,/ y/ (/ t/ )/ )/ 是/ 节点/ 在/ t/ 时刻/ 的/ 空间/ 坐标/ ./ 可以/ 通过/ 这些/ 信息/ 判断/ 节点/ 的/ 时空/ 共存/ 关系/ ./ 下面/ 给出/ 相遇/ 时间/ 的/ 定义/ ,/ 以此/ 可/ 判断/ 是否/ 相遇/ ./ 定义/ 8/ ./ 相遇/ 是/ 指/ 两个/ 节点/ 在/ 空间/ 位置/ 上/ 接近/ 到/ 足以/ 在/ 一/ 跳间/ 直接/ 交换/ 数据/ ./ 节点/ i/ 和/ j/ 相遇/ 时间/ Δ/ t/ 可定义/ 为/ 其中/ d/ (/ i/ ,/ j/ ,/ Δ/ t/ )/ =/ (/ xi/ (/ t/ )/ -/ xj/ (/ t/ )/ )/ 2/ +/ (/ yi/ (/ t/ )/ -/ yj/ (/ t/ )/ )/ 其中/ ,/ i/ =/ (/ xi/ ,/ yi/ )/ ,/ j/ =/ (/ xj/ ,/ yj/ )/ 分别/ 是/ 节点/ i/ 和/ j/ 的/ 坐标/ 位置/ ,/ dc/ 是/ 可以/ 直接/ 交换/ 信息/ 的/ 距离/ ./ 因为/ 广告代理/ 只/ 关心/ 是否/ 会/ 和/ 哪些/ 服务行业/ 相遇/ ,/ 而/ 不/ 关心/ 在/ 哪里/ 相遇/ ,/ 因此/ 广告代理/ 上/ 只/ 需要/ 记录/ 曾经/ 和/ 哪些/ 服务行业/ 相遇/ 过/ 、/ 何时/ 遇见/ 、/ 相遇/ 的/ 次数/ 、/ 相遇/ 的/ 周期/ 等/ 信息/ ./ 这些/ 信息/ 可以/ 记录/ 在/ 节点/ 的/ 相遇/ 信息/ 表中/ ,/ 以/ 帮助/ 选择/ 合适/ 的/ 广告代理/ ./ 定义/ 9/ ./ 节点/ i/ 的/ 相遇/ 信息/ 表/ MeetingTab/ 可定义/ 为/ MeetingTab/ =/ (/ industry/ ,/ MNum/ ,/ MPeriod/ ,/ 其中/ ,/ industry/ 是/ 和/ i/ 相遇/ 的/ 节点/ 中/ 包含/ 的/ 服务行业/ ;/ MNum/ 代表/ 和/ 该/ industry/ 相遇/ 的/ 总/ 次数/ ;/ MPe/ -/ riod/ 代表/ 平均/ 相遇/ 周期/ ,/ 是/ 与/ 该/ industry/ 两次/ 相遇/ 的/ 时间/ 间隔/ 的/ 平均值/ ;/ Timestamp/ 是/ 时间/ 戳/ ,/ 记录/ 了/ 最近/ 一次/ 相遇/ 的/ 时间/ ./ 预测/ 是否/ 相遇/ 的/ 方法/ 是/ :/ 考虑/ 相遇/ 次数/ 和/ 平均/ 相遇/ 周期/ 这/ 两个/ 参数/ ./ 相遇/ 次数/ 越多/ 的/ 服务行业/ 在/ 今后/ 相遇/ 的/ 机会/ 也/ 越/ 大/ ;/ 根据/ 平均/ 相遇/ 周期/ 可以/ 判断/ 何时/ 可能/ 再次/ 相遇/ ,/ 检查/ 时间/ 戳/ 距离/ 当前/ 时刻/ 有/ Page8/ 多久/ ,/ 如果/ 时间/ 和/ 平均/ 相遇/ 时间/ 比较/ 接近/ ,/ 则/ 可能/ 即将/ 相遇/ ,/ 如果/ 远大于/ 平均/ 相遇/ 周期/ ,/ 则/ 再次/ 相遇/ 的/ 可能性/ 也/ 减少/ ./ 作为/ 判断/ 依据/ ,/ 给出/ 最近/ 一次/ 相遇/ 到/ 当前/ 时刻/ 的/ 时间/ 与/ 平均/ 相遇/ 周期/ 之间/ 的/ 相对/ 比值/ 其中/ ,/ tc/ 是/ 当前/ 时刻/ ;/ ts/ 是/ 时间/ 戳/ ;/ MPeriod/ 是/ 平均/ 相遇/ 周期/ ;/ σ/ 越小/ ,/ 则/ 有/ 可能/ 就要/ 相遇/ ,/ 小于/ 1/ 则/ 可能/ 会/ 相遇/ ,/ 若/ σ/ 增大/ ,/ 则/ 相遇/ 的/ 可能性/ 减小/ ./ 基于/ 以上/ 分析/ ,/ 算法/ 2/ 描述/ 了/ 广告代理/ 选择/ 算法/ ./ 算法/ 2/ ./ 广告代理/ 选择/ 算法/ ./ 输入/ :/ 广告代理/ 候选者/ 集合/ A/ ,/ 广告/ 消息/ msg/ ,/ 服务行业/ SI/ ,/ 效用函数/ U/ (/ ·/ )/ ,/ 行业/ 相关度/ 阈值/ rt/ ,/ 效用/ 阈值/ ut/ ,/ 副本/ 数/ k/ 输出/ :/ 广告代理/ 集合/ A/ 算法/ 描述/ :/ A/ ←/ / ;/ FOREACHa/ ∈/ ADOIFU/ (/ a/ )/ >/ =/ utTHENA/ ←/ A/ ∪/ {/ a/ }/ ;/ FOREACHa/ ∈/ ADOIFr/ (/ a/ / SI/ ,/ msg/ / SI/ )/ </ =/ rtTHENA/ ←/ A/ \/ {/ a/ }/ ;/ IF/ |/ A/ |/ </ =/ kTHENreturnA/ ;/ ELSESortainAorderbyMNumDESC/ ,/ σ/ ASC/ ;/ returntopkelementsinA/ ;/ 4.4/ 社区/ 的/ 检测/ 和/ 犜/ 犜/ 犔/ 更新/ 根据/ 广告代理/ 检测/ 到/ 的/ 节点/ 密度/ 高低/ 的/ 变化/ ,/ 判断/ 是否/ 从/ 一个/ 社区/ 移动/ 到/ 了/ 另/ 一个/ 社区/ ./ 广告代理/ a/ 的/ 节点/ 密度/ Da/ 定义/ 为/ 其中/ ,/ Na/ 是/ a/ 的/ 邻居/ 节点/ 数/ ;/ ra/ 是/ a/ 的/ 通信/ 半径/ ;/ π/ 为/ 圆周率/ ./ 如图/ 4/ 所示/ ,/ 当/ 代理/ 节点/ 从/ 社区/ A/ 移动/ 到/ 社区/ B/ 时/ ,/ 在/ 每个/ ti/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ 5/ )/ 时刻/ ,/ 邻居/ 节点/ 数/ 发生变化/ ./ 设置/ 一个/ 节点/ 密度/ 阈值/ ,/ 如果/ 当前/ 节点/ 密度/ 大于/ 该/ 阈值/ ,/ 说明/ 代理/ 在/ 一个/ 社区/ 中/ ./ 反之/ ,/ 说明/ 其/ 不/ 在/ 社区/ 中/ ./ 因此/ ,/ 当前/ 值/ 和/ 阈值/ 的/ 差值/ 由正/ 变负/ 再/ 变正时/ ,/ 说明/ 结点/ 从/ 一个/ 社区/ 到达/ 了/ 另/ 一个/ 社区/ ,/ 广告代理/ 缓存/ 中/ 所有/ 消息/ 的/ TTL/ 减/ 1/ ./ 由于/ 对于/ 同一/ 广告代理/ ,/ 其/ 通信/ 半径/ 相同/ ,/ 所以/ 在/ 算法/ 中/ ,/ 节点/ 密度/ 图/ 4/ 广告代理/ 移动/ 过程/ 中/ 邻居/ 节点/ 变化/ 示意图/ 可以/ 用/ 节点/ 数/ 代替/ ./ 节点/ 数/ 的/ 采样/ 周期/ 为/ Δ/ t/ ,/ 为了/ 消除/ 噪声/ ,/ 运用/ 邻域/ 均值/ 滤波/ 方法/ 来/ 平滑/ 节点/ 数/ 曲线/ ,/ 即/ 时刻/ t/ 的/ 节点/ 数/ N/ (/ t/ )/ 为/ 这里/ 取/ 邻域/ 范围/ 为/ [/ -/ 2/ ,/ 2/ ]/ ,/ 即/ 当前/ 值为/ 其/ 左右/ 各/ 2/ 个/ 相邻/ 点值/ 的/ 平均值/ ./ 然而/ ,/ 还要/ 考虑/ 广告代理/ 一直/ 待/ 在/ 一个/ 社区/ 中/ 的/ 情况/ ./ 活跃度/ 表明/ 了/ 广告代理/ 是否/ 还有/ 新/ 的/ 邻居/ ,/ 如果/ 服务/ 活跃度/ 高/ ,/ 说明/ 一直/ 有/ 新/ 的/ 邻居/ 出现/ ,/ 则/ 允许/ 保持/ 节点/ 中/ 消息/ 的/ TTL/ 不变/ ,/ 等待/ 社区/ 变化/ ./ 如果/ 活跃度/ 低/ ,/ 则/ 表明/ 节点/ 处在/ 一个/ 邻居/ 几乎/ 不/ 变化/ 的/ 社区/ 中/ ,/ 这时/ 设计/ 一个/ 超时/ 事件/ ,/ 即/ ,/ 每当/ 有/ 一次/ 超时/ 则/ 消息/ TTL/ 减/ 1/ ./ 代理/ a/ 的/ 超时/ 时间/ τ/ a/ 定义/ 为/ 其中/ ,/ ra/ 是/ a/ 的/ 通信/ 半径/ ;/ va/ 是/ a/ 的/ 移动/ 速度/ ./ 算法/ 3/ 描述/ 了/ TTL/ 更新/ 算法/ ./ 当/ 广告代理/ 的/ 活跃度/ 大于/ 某个/ 阈值/ 时/ ,/ 根据/ 节点/ 密度/ 变化/ ,/ 判断/ 是否/ 离开/ 社区/ ./ 若/ 离开/ 社区/ ,/ 则/ 其/ 消息/ 缓存/ 中/ 所有/ 消息/ 的/ TTL/ 减/ 1/ ./ 当/ 广告代理/ 的/ 活跃度/ 小于/ 某个/ 阈值/ 时/ ,/ 则/ 设置/ 一个/ 超时/ 时间/ ,/ 每次/ 达到/ 超时/ ,/ 则/ 将/ TTL/ 减/ 1/ ./ 算法/ 3/ ./ TTL/ 更新/ 算法/ ./ 输入/ :/ 广告代理/ a/ ,/ a/ 的/ 活跃度/ a/ ./ act/ ,/ a/ 中/ 缓存/ 的/ 消息/ 集合/ a/ ./ MSGs/ ,/ 活跃度/ 阈值/ α/ t/ ,/ 当前/ 时间/ 步/ k/ ,/ 记录/ 连续/ 时间/ 步下/ 的/ 邻居/ 节点/ 数/ 数组/ N/ [/ k/ -/ 3/ …/ k/ +/ 2/ ]/ ,/ 节点/ 数/ 阈值/ Nt/ ,/ 超时/ 时间/ τ/ a/ 输出/ :/ a/ ./ MSGs/ 中/ 所有/ 消息/ 的/ TTL/ ,/ 即/ msg/ ./ TTL/ 算法/ 描述/ :/ IFa/ ./ act/ >/ =/ α/ tTHENNk/ ←/ (/ N/ [/ k/ -/ 2/ ]/ +/ N/ [/ k/ -/ 1/ ]/ +/ N/ [/ k/ +/ 1/ ]/ +/ N/ [/ k/ +/ 2/ ]/ )/ // 4/ ;/ Nk/ -/ 1/ ←/ (/ N/ [/ k/ -/ 3/ ]/ +/ N/ [/ k/ -/ 2/ ]/ +/ N/ [/ k/ ]/ +/ N/ [/ k/ +/ 1/ ]/ )/ // 4/ ;/ IF/ (/ Nk/ -/ Nt/ )/ </ =/ 0AND/ (/ Nk/ -/ 1/ -/ Nt/ )/ =/ >/ 0THENFOREACHmsg/ ∈/ a/ ./ MSGsDOPage9msg/ ./ TTL/ -/ -/ ;/ ELSEIF/ τ/ aexpiredTHENFOREACHmsg/ ∈/ a/ ./ MSGsDOmsg/ ./ TTL/ -/ -/ ;/ 5/ 仿真/ 实验/ 为了/ 验证/ 本文/ 提出/ 的/ 服务/ 广告/ 分发/ 机制/ ,/ 从/ 广告投放/ 覆盖率/ 和/ 网络流量/ 两个/ 方面/ 进行/ 了/ 性能/ 分析/ ,/ 下面/ 首先/ 介绍/ 本文/ 仿真/ 环境/ 的/ 设置/ ./ 5.1/ 仿真/ 环境/ 仿真/ 实验/ 包括/ 两个/ 步骤/ ,/ 首先/ 要/ 产生/ 节点/ 的/ 运动/ 轨迹/ ,/ 然后/ 在/ 基于/ 此/ 运动/ 轨迹/ 的/ 仿真/ 环境/ 中/ ,/ 执行/ 服务/ 广告/ 发布/ 过程/ ./ 节点/ 移动/ 模型/ 分别/ 采用/ 了/ 随机/ 移动/ 模型/ (/ RandomWayPoint/ ,/ RWP/ )/ 和/ 基于/ 社区/ 的/ 移动/ 模型/ (/ Community/ -/ basedMobileModel/ ,/ CMM/ )/ ./ RWP/ 模型/ 是/ 经典/ 的/ 移动/ 网络/ 模型/ ,/ 每个/ 节点/ 随机/ 选择/ 下/ 一个/ 移动/ 位置/ ,/ 并/ 以/ 随机/ 速度/ 移动/ 到/ 目的地/ ./ CMM/ 模型/ 基于/ 社会/ 网络/ 的/ 特性/ 产生/ 更/ 符合实际/ 的/ 移动/ 路径/ ,/ 其/ 有效性/ 已经/ 得到/ 验证/ [/ 25/ ]/ ./ RWP/ 模型/ 的/ 移动/ 轨迹/ 由/ NS2/ 产生/ ,/ 而/ CMM/ 模型/ 的/ 移动/ 轨迹/ 由/ MPG/ 工具/ (/ MobilityPatternsGener/ -/ atorforns/ -/ 2simulator/ )/ 产生/ ./ 假设/ 节点/ 能耗/ 主要/ 由/ 通信/ 产生/ ,/ 采用/ 文献/ [/ 26/ ]/ 实验/ 中/ 的/ 移动/ 节点/ 能耗/ 模型/ ,/ 从/ 节点/ i/ 向/ 节点/ j/ 传送/ 1bit/ 信息/ 时/ ,/ 发送/ 能耗/ etij/ 和/ 接收/ 能耗/ erij/ 分别/ 为/ 其中/ ,/ eT/ =/ 50nJ/ // bit/ 是/ 发射器/ 能耗/ ;/ eR/ =/ 150nJ/ // bit/ 是/ 接收器/ 能耗/ ;/ ε/ amp/ =/ 100pJ/ // (/ bit/ ·/ m/ )/ 是/ 发射/ 天线/ 能耗/ ;/ dij/ 为/ 两/ 节点/ 间/ 距离/ ;/ n/ =/ 4/ 是/ 路径/ 损耗/ 指数/ (/ pathlossexponent/ )/ ./ 该/ 模型/ 表明/ ,/ 节点/ 发送/ 消息/ 能耗/ 和/ 传送/ 的/ 消息/ 量/ 及/ 距离/ 有关/ ,/ 而/ 接收/ 消息/ 能耗/ 和/ 距离/ 无关/ ,/ 只/ 和/ 接收/ 的/ 消息/ 量/ 有关/ ./ 本文/ 实验/ 每/ 30s/ 随机/ 选择/ 一个/ 节点/ 发布/ 一条/ 广告/ 消息/ ./ 尽管/ 一个/ 服务/ 可以/ 属于/ 多个/ 服务行业/ ,/ 为了/ 简化/ 起/ 见/ ,/ 实验/ 中/ 假设/ 每个/ 服务/ 属于/ 一个/ 服务行业/ ./ 由于/ 广告/ 消息/ 发布/ 是/ 发布/ 方/ 单方面/ 行为/ ,/ 只有/ 通过/ 接收者/ 的/ 反馈/ 才能/ 确定/ 广告/ 是否/ 成功/ ,/ 取得/ 效果/ ./ 为了/ 验证/ 广告/ 是否/ 有效/ ,/ 假设/ 每个/ 移动/ 节点/ 都/ 对/ 若干/ 服务行业/ 感兴趣/ ,/ 如果/ 节点/ 获得/ 了/ 属于/ 这些/ 行业/ 的/ 服务/ 广告/ ,/ 就/ 表示/ 投放/ 成功/ ./ 每项/ 测试/ 至少/ 包含/ 20/ 次/ 实验/ ,/ 将/ 这些/ 实验/ 的/ 平均值/ 作为/ 一项/ 测试/ 的/ 结果/ ./ 本文/ 实验/ 中/ 的/ 主要参数/ 如表/ 1/ 和表/ 2/ 所示/ ,/ 其中/ 仿真/ 环境参数/ 的/ 含义/ 可/ 参考文献/ [/ 22/ ]/ ./ 为了/ 测试/ 算法/ 性能/ ,/ 实验/ 中/ 可能/ 会/ 修改/ 一些/ 参数值/ (/ 如/ 节点/ 数/ 、/ 移动/ 速度/ )/ ,/ 以/ 比较/ 在/ 不同/ 取值/ 下/ 的/ 算法/ 性能/ ,/ 因此/ 表/ 1/ 和表/ 2/ 中/ 列出/ 的/ 是/ 缺省值/ ./ 实验/ 中/ 修改/ 的/ 参数值/ 分别/ 在/ 各/ 实验/ 中/ 加以/ 说明/ ./ 仿真/ 环境参数/ 广告/ 发布/ 间隔/ 广告/ 目标/ 分布/ 漫游者/ 数量/ 漫游者/ 速度/ 算法/ 参数/ 缺省值/ α/ 0.5/ ω/ L/ ω/ CCmax10MBCmin1MBrtw/ α/ w/ γ/ utk5t7Nt/ α/ t5/ ./ 2/ 性能/ 测试/ 与/ 分析/ 使用/ 下列/ 性能/ 度量/ 指标/ 评估/ 本文/ 算法/ ./ 覆盖率/ (/ completeness/ )/ ./ 广告/ 消息/ 覆盖/ 到/ 的/ 符合/ 广告/ 条件/ 的/ 节点/ 数占/ 网络/ 中/ 符合条件/ 的/ 节点/ 总数/ 的/ 比率/ ,/ 这些/ 符合条件/ 的/ 节点/ 都/ 是/ 可能/ 会/ 对/ 广告/ 感兴趣/ 的/ 节点/ ./ 表现/ 了/ 消息/ 覆盖/ 到/ 广告/ 目标/ 的/ 程度/ ./ 网络流量/ (/ networktraffic/ )/ ./ 在/ 广告/ 发布/ 过程/ 中/ ,/ 由/ 所有/ 节点/ 传递/ 的/ 广告/ 消息/ 总数/ ./ 表现/ 了/ 广告/ 发布/ 对/ 网络通信/ 带宽/ 的/ 消耗/ ,/ 流量/ 越大/ ,/ 网络/ 负载/ 越大/ ./ 实验/ 1/ ./ 算法/ 基本/ 性能/ ./ 由于/ 广告代理/ 动态/ 选择/ 方法/ 对/ 性能/ 优化/ 起到/ 主要/ 作用/ ,/ 将/ 本文/ 算法/ 稍加/ 修改/ ,/ 一种/ 是/ 不/ 做/ 广告代理/ 选择/ ,/ 广告/ 发布者/ 只/ 根据/ 广告/ 目标/ 选择/ 策略/ 向/ 邻居/ 节点/ 发布/ 广告/ 消息/ ,/ 消息/ 不能/ 被/ 邻居/ 节点/ 转发/ ;/ 另/ 一种/ 是/ 随机/ 选择/ 邻居/ 节点/ 成为/ 广告代理/ ,/ 消息/ 可以/ 被/ 广告代理/ 转发/ ./ 将/ 本文/ Page10/ 算法/ 与/ 这/ 两种/ 算法/ 进行/ 比较/ ,/ 以/ 验证/ 总体/ 优化/ 效果/ ./ 图/ 5/ 显示/ 了/ 3/ 种/ 算法/ 在/ 覆盖率/ 、/ 网络流量/ 上/ 的/ 对比/ ./ 如图/ 5/ (/ a/ )/ 所示/ ,/ 随着/ 时间/ 增长/ ,/ 无/ 广告代理/ 算法/ 的/ 覆盖率/ 难以/ 提高/ ,/ 较/ 早/ 达到/ 饱和/ ./ 这/ 是因为/ 在/ CMM/ 模型/ 中/ ,/ 节点/ 多数/ 时间/ 在/ 社区/ 内/ 运动/ ,/ 在/ 没有/ 消息/ 转发/ 节点/ 的/ 情况/ 下/ ,/ 节点/ 的/ 广告/ 消息/ 只能/ 在/ 社区/ 中/ 发布/ ./ 因此/ ,/ 发布/ 节点/ 的/ 移动/ 范围/ 决定/ 了/ 广告/ 消息/ 的/ 发布/ 范围/ ./ 另/ 两种/ 算法/ 的/ 覆盖率/ 都/ 得到/ 显著/ 提高/ ,/ 这/ 是因为/ 增加/ 广告代理/ 后/ 拓展/ 了/ 消息/ 发布/ 的/ 范围/ ./ 随机/ 选择/ 广告代理/ 算法/ 的/ 性能/ 要/ 稍逊/ 于/ 本文/ 算法/ ,/ 这种/ 算法/ 没有/ 利用/ 历史/ 经验/ 去/ 预测/ 节点/ 的/ 相遇/ 概率/ ,/ 而/ 本文/ 算法/ 利用/ 相遇/ 的/ 历史/ 信息/ 预测/ 未来/ 相遇/ 的/ 可能性/ ,/ 获得/ 了/ 较/ 好/ 的/ 效果/ ./ 实验/ 又/ 比较/ 了/ 3/ 种/ 算法/ 在/ RWP/ 模型/ 中/ 的/ 覆盖率/ ,/ 如图/ 5/ (/ b/ )/ 所示/ ,/ 在/ 这种/ 情况/ 下/ ,/ 无/ 广告代理/ 算法/ 的/ 覆盖率/ 得到/ 了/ 改善/ ,/ 这/ 是因为/ 节点/ 的/ 移动/ 不/ 受/ 社区/ 的/ 限制/ ,/ 移动/ 范围/ 扩大/ ./ 同时/ ,/ 节点/ 移动/ 无规律/ ,/ 随机性/ 增强/ ,/ 本文/ 算法/ 覆盖率/ 降低/ ,/ 因为/ 本文/ 广告代理/ 选择/ 方法/ 基于/ 的/ 社会/ 网络/ 性质/ 不/ 存在/ ,/ 导致/ 选择/ 较少/ 的/ 广告代理/ ./ 而/ 随机/ 选择/ 广告代理/ 的/ 算法/ 的/ 覆盖率/ 最高/ ,/ 因为/ 该/ 算法/ 不/ 受到/ 节点/ 移动/ 规律/ 的/ 影响/ ./ 但是/ RWP/ 模型/ 并/ 不/ 符合/ 现实生活/ 中/ 节点/ 的/ 移动/ 路径/ ./ 这/ 说明/ 在/ 更/ 符合实际/ 环境/ 的/ 移动/ 社会/ 网络/ 中/ ,/ 增加/ 广告代理/ 并/ 进行/ 有/ 预测/ 地/ 选择/ ,/ 可以/ 有效/ 提高/ 覆盖率/ ./ 图/ 5/ (/ c/ )/ 反映/ 的/ 网络流量/ 是/ 算法/ 随/ 时间推移/ 累图/ 53/ 种/ 算法/ 性能/ 比较/ 积/ 产生/ 的/ 消息/ 总数/ ./ 在/ 都/ 使用/ 算法/ 1/ 的/ 前提/ 下/ ,/ 影响/ 消息/ 数/ 的/ 主要/ 因素/ 是/ 产生/ 的/ 广告代理/ 数/ 和/ 广告代理/ 漫游/ 到/ 的/ 社区/ 数/ ,/ 即/ 和/ 算法/ 中/ 的/ k/ 和/ t/ 有关/ ./ 根据/ 算法/ 3/ ,/ 若/ 选择/ 的/ 广告代理/ 移动性/ 强/ ,/ 导致/ 其/ 在/ 多个/ 社区/ 中/ 漫游/ ,/ 则/ 会/ 产生/ 较/ 多/ 的/ 消息/ ./ 如果/ 其/ 局限/ 在/ 少数/ 社区/ 中/ ,/ 即使/ t/ 的/ 设置/ 值/ 较大/ ,/ 也/ 会/ 因为/ 超时/ 而/ 减少/ ,/ 直至/ 不再/ 转发/ 消息/ ./ 随机/ 算法/ 选择/ 的/ 广告代理/ 数/ 恒定/ 为/ k/ ,/ 但/ 并/ 不/ 关心/ 选择/ 到/ 的/ 广告代理/ 可以/ 漫游/ 到/ 的/ 社区/ 数/ ,/ 因此/ 社区/ 数/ 没有/ 规律/ ./ 而/ 本文/ 算法/ 选择/ 的/ 广告代理/ 数/ 虽然/ 小于/ 等于/ k/ ,/ 但会/ 优先选择/ 活跃度/ 大/ 的/ 节点/ ,/ 这/ 导致/ 以/ 较大/ 概率/ 漫游/ 到/ 的/ 较/ 多/ 的/ 社区/ ./ 这/ 两个/ 因素/ 此消彼长/ ,/ 因此/ 两种/ 算法/ 在/ 初期/ 产生/ 的/ 消息/ 数/ 差不多/ ,/ 而/ 随着/ 时间/ 的/ 推移/ ,/ 节点/ 移动/ 规律/ 逐渐/ 稳定/ ,/ 本文/ 算法/ 产生/ 的/ 消息/ 量会/ 逐渐/ 减少/ ./ 无/ 广告代理/ 算法/ 的/ 网络流量/ 较/ 少/ ,/ 因为/ 该/ 算法/ 只/ 局限/ 在/ 广告/ 发布/ 节点/ 的/ 社区/ 中/ 发布/ 消息/ ,/ 且/ 不/ 产生/ 转发/ 的/ 消息/ 流量/ ./ 但/ 这种/ 方法/ 的/ 覆盖率/ 太低/ ./ 需要/ 说明/ 的/ 是/ ,/ 此图/ 和/ 图/ 7/ (/ b/ )/ 、/ 图/ 8/ (/ b/ )/ 中/ 的/ 网络流量/ 都/ 是/ 指/ 从/ 实验/ 开始/ 后/ 产生/ 并/ 累积/ 统计/ 的/ 消息/ 总数/ ,/ 而/ 不是/ 某个/ 时间/ 点上/ 的/ 消息/ 数/ ./ 实验/ 过程/ 中/ ,/ 在/ 单位/ 时间/ 内/ 产生/ 的/ 网络流量/ 是/ 平稳/ 的/ ,/ 不会/ 持续增长/ ./ 图/ 5/ (/ d/ )/ 是/ 在/ CMM/ 模型/ 下/ ,/ 设定/ 不同/ 广告代理/ 数量/ 时/ 的/ 覆盖率/ 对比/ ./ 广告代理/ 携带/ 并/ 转发/ 广告/ 消息/ ,/ 是/ 决定/ 消息/ 转发/ 路径/ 的/ 关键/ ,/ 其/ 数量/ 和/ 移动/ 轨迹/ 影响/ 算法/ 优化/ 效果/ ./ 如果/ 广告代理/ 可以/ 将/ 消息/ 携带/ Page11/ 到/ 目标/ 节点/ 周围/ ,/ 则/ 可/ 导致/ 广告投放/ 成功/ ./ 因此/ 转发/ 路径/ 优化/ ,/ 实际上/ 就是/ 广告代理/ 选择/ 优化/ ./ 从图/ 5/ (/ d/ )/ 可见/ ,/ 在/ 相同/ 的/ 代理/ 数量/ 时/ ,/ 本文/ 算法/ 可以/ 获得/ 较大/ 的/ 覆盖率/ ./ 这/ 是因为/ 本文/ 算法/ 选择/ 的/ 代理/ 是/ 活跃度/ 更大/ 、/ 可靠/ 度/ 更/ 高/ ,/ 且/ 更/ 有/ 可能/ 和/ 对/ 服务/ 广告/ 感兴趣/ 的/ 节点/ 相遇/ 的/ 节点/ ./ 因此/ ,/ 本文/ 算法/ 选择/ 的/ 广告代理/ 质量/ 优于/ 随机/ 选择/ 算法/ ./ 实验/ 2/ ./ 算法/ 收敛/ 效果/ ./ 本文/ 算法/ 利用/ 相遇/ 信息/ 表中/ 的/ 历史数据/ 预测/ 服务行业/ 相遇/ 概率/ ,/ 以此/ 作为/ 选择/ 广告代理/ 的/ 依据/ ./ 预测/ 的/ 准确/ 程度/ 决定/ 了/ 是否/ 可以/ 选择/ 出/ 合适/ 的/ 广告代理/ ,/ 提高/ 覆盖率/ ./ 图/ 6/ 是/ 在/ 一个/ 缺少/ 相遇/ 信息/ 的/ 初始/ 环境/ 下/ ,/ 不断/ 迭代/ 发布/ 属于/ 同一个/ 服务行业/ 的/ 服务/ 信息/ 后/ ,/ 覆盖率/ 变化趋势/ 及/ 不同/ 轮次/ 下/ 的/ 覆盖率/ 的/ 比较/ ./ 实验/ 连续/ 执行/ 多轮/ ,/ 每轮/ 实验/ 为/ 10min/ ,/ 从图/ 6/ 中/ 可以/ 发现/ ,/ 在/ 最初/ 几轮/ ,/ 覆盖率/ 不高/ ,/ 但/ 随后/ 逐渐/ 提高/ ,/ 说明/ 积累/ 的/ 相遇/ 信息/ 为/ 预测/ 提供/ 了/ 较为/ 准确/ 的/ 数据/ ,/ 对于/ 提高/ 预测/ 的/ 准确性/ 起到/ 了/ 关键作用/ ./ 同时/ ,/ 在/ 第/ 8/ 轮时/ ,/ 在/ 最初/ 的/ 几分钟/ 内/ 即可/ 达到/ 较/ 高/ 的/ 水平/ ,/ 即将/ 近/ 90/ %/ 的/ 覆盖率/ ./ 这/ 表明/ 本文/ 算法/ 的/ 收敛/ 速度/ 快/ ,/ 可以/ 在/ 较/ 短/ 的/ 时间/ 内/ 达到/ 较/ 高/ 的/ 覆盖率/ ./ 实验/ 3/ ./ 可扩展性/ 是/ 指/ 算法/ 适应/ 系统/ 不同/ 规模/ 的/ 能力/ ./ 特别/ 是/ 在/ 大规模/ 的/ 系统/ 环境/ 下/ ,/ 算法/ 的/ 基本/ 性能/ 是否/ 会/ 降低/ 是/ 可扩展性/ 的/ 重要/ 标志/ ./ 这里/ 关注/ 在/ 不同/ 的/ 节点/ 密度/ ,/ 移动/ 速度/ 情况/ 下/ ,/ 算法/ 性能/ 的/ 变化/ 情况/ ./ 本文/ 在/ 节点/ 数/ n/ =/ 100/ 时/ ,/ 将/ 节点/ 移动/ 速度/ 最大值/ vmax/ 分别/ 设为/ 4m/ // s/ 、/ 6m/ // s/ 和/ 8m/ // s/ ;/ 在/ 移动/ 速度/ 最大值/ vmax/ =/ 4m/ // s/ 时/ ,/ 将/ 节点/ 数量/ n/ 分别/ 设为/ 100/ 、/ 150/ 和/ 200/ ./ 仿真/ 结果/ 如图/ 7/ (/ a/ )/ 和/ 图/ 8/ (/ a/ )/ 所示/ ,/ 随着/ 节点/ 密度/ 、/ 移动/ 速度/ 的/ 增加/ ,/ 算法/ 的/ 覆盖率/ 在/ 逐步提高/ ./ 这/ 是因为/ 随着/ 节点/ 密度/ 的/ 增大/ ,/ 一跳/ 通信/ 覆盖/ 的/ 节点/ 将/ 增多/ ,/ 这/ 有效/ 提高/ 了/ 信息/ 传播/ 范围/ ;/ 而/ 节点/ 移动/ 速度/ 的/ 提高/ ,/ 可以/ 在/ 较/ 短时间/ 覆盖/ 更/ 多/ 的/ 新/ 的/ 节点/ ,/ 这/ 有效/ 加快/ 信息/ 传播速度/ ./ 同时/ ,/ 只/ 改变/ 节点/ 最大/ 移动/ 速度/ 时/ (/ 图/ 7/ (/ b/ )/ )/ ,/ 由/ 广告/ 发布/ 而/ 产生/ 的/ 网络流量/ 变化/ 不/ 大/ ,/ 这是/ 由于/ 本文/ 算法/ 中/ ,/ rep/ -/ licanum/ 数/ k/ 和/ TTL/ 数/ t/ 是/ 决定/ 消息/ 总数/ 的/ 主要/ 因素/ ./ 此外/ ,/ 在/ 不同/ 节点/ 数量/ 的/ 情况/ 下/ (/ 图/ 8/ (/ b/ )/ )/ ,/ 由于/ 广告/ 目标/ 节点/ 按照/ 相同/ 比例/ 设置/ ,/ 节点/ 数/ 增加/ 后/ ,/ 广告/ 目标/ 节点/ 随/ 比例/ 增加/ ,/ 这/ 导致/ 消息/ 数/ 自然/ 增长/ ./ Page12/ 实验/ 4/ ./ 节点/ 失效/ 对/ 算法/ 性能/ 的/ 影响/ ./ 现实/ 环境/ 中/ ,/ 部分/ 节点/ 会/ 因为/ 电量/ 消耗/ 殆尽/ 而/ 导致/ 失效/ ,/ 本/ 实验/ 考虑/ 这种/ 情况/ 下/ 算法/ 的/ 鲁棒性/ ./ 实验/ 中/ ,/ 节点/ 的/ 能耗/ 符合/ 式/ (/ 12/ )/ ,/ (/ 13/ )/ 的/ 模型/ ,/ 广告/ 消息/ 为定/ 长/ 800bit/ 长度/ ,/ 节点/ 初始/ 电量/ 在/ [/ 1500/ ,/ 4000/ ]/ 焦耳/ 之间/ 随机/ 分布/ ./ 随着/ 时间/ 的/ 流逝/ ,/ 由于/ 消息/ 的/ 收发/ ,/ 会/ 有/ 一些/ 节点/ 因/ 电量/ 耗尽/ 而/ 失效/ ,/ 如果/ 电量/ 耗尽/ ,/ 则/ 不会/ 恢复/ ,/ 因此/ 若该/ 节点/ 被/ 选作/ 广告代理/ ,/ 也/ 将/ 失去/ 消息/ 转发/ 功能/ ./ 但/ 节点/ 失效/ 的/ 时间/ 不/ 确定/ ./ 图/ 9/ 记录/ 了/ 节点/ 失效/ 比例/ 从/ 1/ %/ 上升/ 到/ 10/ %/ 时/ 算法/ 的/ 性能/ 变化/ ./ 由于/ 本文/ 算法/ 在/ 选择/ 广告代理/ 时/ 考虑/ 节点/ 的/ 电量/ 水平/ ,/ 这/ 保证/ 选择/ 的/ 广告代理/ 近期/ 不会/ 因为/ 电量/ 耗尽/ 而/ 失效/ ,/ 而/ 随机/ 选择/ 方法/ 选择/ 到/ 的/ 节点/ 可能/ 会因/ 电量/ 水平/ 低/ 而/ 在/ 近期/ 失效/ ,/ 不能/ 完成/ 消息/ 转发/ 任务/ ./ 此外/ ,/ 根据/ 式/ (/ 12/ )/ ,/ 节点/ 的/ 电耗/ 和/ 节点/ 发送/ 的/ 消息/ 比特/ 数/ 有关/ ./ 由/ 实验/ 1/ 可知/ ,/ 本文/ 算法/ 产生/ 较少/ 的/ 消息/ 量/ ,/ 因此/ 节点/ 电耗/ 较/ 小/ ,/ 生存期/ 较长/ ,/ 这/ 有助于/ 消息/ 的/ 转发/ ./ 图/ 9/ 在/ 不同/ 节点/ 失效/ 比例/ 下/ 的/ 覆盖率/ 变化/ 对比/ 6/ 应用/ 价值/ 讨论/ 随着/ 智能手机/ 等/ 掌上/ 设备/ 的/ 普及/ 和/ 直接/ 联网/ 需求/ 的/ 增强/ ,/ 机会/ 社会/ 网络/ 已/ 成为/ 一种/ 新型/ 的/ 网络/ 形态/ ./ 机会/ 社会/ 网络/ 不/ 依赖于/ 通信/ 基础设施/ ,/ 因此/ 和/ 其它/ 需要/ 通信/ 基站/ 进行/ 通信/ 的/ 方式/ 相比/ ,/ 具有/ 不/ 产生/ 通信/ 费用/ 、/ 高带宽/ 、/ 联网/ 便捷/ 等/ 优势/ ,/ 必将/ 成为/ 移动/ 人群/ 共享/ 信息/ 和/ 服务/ 的/ 方式/ 之一/ ./ 而/ 网络/ 上/ 能否/ 提供/ 和/ 用户/ 工作/ 、/ 生活/ 密切相关/ 的/ 丰富/ 的/ 服务/ ,/ 并/ 易于/ 使用/ ,/ 是/ 其/ 能够/ 普及/ 和/ 被/ 广泛/ 接受/ 的/ 重要/ 因素/ ./ 面向/ 服务/ 的/ 体系结构/ 所/ 具有/ 的/ 松/ 耦合/ 、/ 可/ 快速/ 集成/ 、/ 易/ 网络/ 访问/ 的/ 特点/ ,/ 很/ 适合/ 移动/ 环境/ 下/ 的/ 数据/ 访问/ 和/ 临时性/ 快速/ 应用/ 集成/ ./ 例如/ ,/ 在/ 一个/ 学术会议/ 现场/ ,/ 参会/ 学者/ 通过/ 自己/ 的/ 移动/ 办公设备/ (/ 智能手机/ 、/ 笔记本电脑/ 等/ )/ 随时/ 便捷/ 地/ 访问/ 会务/ 信息/ 服务/ 、/ 打印/ 设备/ 服务/ 、/ 旅馆/ 服务/ 等/ ./ 为了/ 宣传/ 自己/ 的/ 研究成果/ ,/ 他们/ 也/ 可以/ 在/ 自己/ 的/ 办公设备/ 上/ 维护/ 一个/ 论文/ 信息/ 服务/ (/ 提供/ 论文/ 稿件/ 、/ 演讲稿/ 和/ 作者/ 信息/ 等/ )/ ./ 论文/ 信息/ 服务/ 和/ 打印/ 设备/ 服务/ 可以/ 组合/ ,/ 完成/ 文稿/ 打印/ 任务/ ./ 而/ 实现/ 这种/ 应用/ 的/ 关键/ 是/ 迅速/ 发现/ 服务/ 和/ 动态/ 快速/ 地/ 组合/ 服务/ ./ 相对/ 于/ 商业/ 应用/ 上/ 持久性/ 的/ 复杂/ 服务/ 组合/ ,/ 这种/ 组合/ 是/ 临时/ 的/ 、/ 轻量级/ 的/ 、/ 机会/ 的/ [/ 7/ ]/ ./ 和/ 以往/ 从/ 服务/ 使用者/ 主动/ 发起/ 服务/ 发现/ 请求/ 不同/ ,/ 本文/ 从/ 服务提供者/ 的/ 角度/ 出发/ ,/ 提出/ 基于/ 服务/ 社会/ 上下文/ 的/ 服务/ 广告/ 主动/ 分发/ 机制/ ,/ 实现/ 了/ 服务/ 信息/ 的/ 主动/ 高效/ 分发/ ./ 仿真/ 实验/ 表明/ ,/ 本文/ 机制/ 适合/ 于/ 以/ 社区/ 为/ 基本/ 单元/ 的/ 移动/ 网络/ 环境/ ,/ 可以/ 应用/ 于/ 校园/ 、/ 机场/ 等/ 具有/ 明显/ 社会关系/ 特征/ 的/ 机会/ 社会/ 网络/ 环境/ 中/ ./ 7/ 结束语/ 本文/ 研究/ 机会/ 社会/ 网络/ 中/ 的/ 服务/ 发现/ 问题/ ,/ 提出/ 基于/ 服务/ 社会/ 上下文/ 的/ 服务/ 广告/ 分发/ 机制/ ,/ 以/ 解决/ 此类/ 网络/ 环境/ 下/ 由于/ 节点/ 移动性/ 、/ 拓扑/ 动态性/ 和/ 资源/ 受限/ 所/ 引起/ 的/ 服务/ 注册/ 库/ 失效/ 问题/ ./ 根据/ 机会/ 社会/ 网络/ 的/ 社会关系/ 特性/ 和/ 服务/ 在/ 交互/ 调用/ 过程/ 中/ 所/ 体现/ 出/ 的/ 社会关系/ 特征/ ,/ 论文/ 首先/ 提出/ 了/ 服务/ 社会/ 上下文/ 的/ 定义/ 和/ 参数/ 度量/ 方法/ ./ 然后/ ,/ 基于/ 服务/ 社会/ 上下文/ ,/ 提出/ 服务/ 广告/ 分发/ 协议/ 及/ 优化/ 机制/ ./ 实验/ 表明/ ,/ 本文/ 提出/ 的/ 算法/ 可以/ 在/ 减少/ 广告/ 消息/ 数/ 的/ 同时/ ,/ 提高/ 广告投放/ 的/ 覆盖率/ ./ 未来/ 工作/ 包括/ 以下/ 几个/ 方面/ :/ 一是/ 利用/ 社会关系/ 熟悉/ 程度/ ,/ 判断/ 对/ 节点/ 的/ 信任/ 程度/ ,/ 建立/ 可信/ 服务/ 广告/ 机制/ ,/ 以/ 降低/ 恶意/ 节点/ 发布/ 虚假/ 服务/ 广告/ 信息/ 的/ 可能/ ;/ 二是/ 研究/ 移动/ 节点/ 的/ 缓存/ 策略/ ,/ 充分利用/ 移动/ 节点/ 缓存/ 构成/ 的/ 移动/ P2P/ 缓存/ 储存/ 服务/ 信息/ ,/ 提高/ 服务/ 主动/ 发现/ 的/ 性能/ ;/ 三是/ 考虑/ 用户/ 个性/ ,/ 通过/ 用户/ 个性化/ 的/ 服务/ 广告/ 发布/ ,/ 减少/ 网络/ 负载/ 开销/ ,/ 提高/ 用户/ 满意度/ ./ 致谢/ 匿名/ 评审/ 专家/ 对/ 完善/ 本文/ 所/ 提出/ 了/ 宝贵/ 的/ 意见/ 和/ 建议/ ,/ 在/ 此/ 表示感谢/ !/ 

