Page1/ 传感器/ 网络邻居/ 发现/ 协议/ 综述/ 裘莹/ 李士宁/ 徐相森/ 李志刚/ (/ 西北工业大学/ 计算机/ 学院/ 西安/ 710072/ )/ 摘要/ 邻居/ 发现/ 协议/ 是/ 传感器/ 网络协议/ 族/ 的/ 重要/ 组成部分/ ,/ 用于/ 快速/ 高效/ 地/ 发现/ 通信/ 范围/ 内/ 的/ 邻居/ 节点/ ,/ 为/ 其他/ 协议/ 和/ 应用/ 提供/ 邻居/ 信息/ ./ 文中/ 根据/ 近年来/ 的/ 相关/ 研究成果/ ,/ 介绍/ 传感器/ 网络邻居/ 发现/ 的/ 问题/ 定义/ ,/ 提出/ 了/ 形式化/ 的/ 问题/ 模型/ 以及/ 简化/ 的/ 时隙/ 模型/ ,/ 并/ 指出/ 了/ 协议/ 设计/ 面临/ 的/ 挑战/ :/ (/ 1/ )/ 在/ 电池/ 供电/ 的/ 前提/ 下/ 保证/ 能量/ 有效性/ ;/ (/ 2/ )/ 保证/ 实时性/ 以/ 满足/ 应用/ 的/ 延迟/ 约束/ ;/ (/ 3/ )/ 适应/ 网络拓扑/ 的/ 动态性/ ,/ 尤其/ 是/ 近年来/ 基于/ 位置/ 移动/ 应用/ 的/ 出现/ 对/ 邻居/ 发现/ 协议/ 的/ 性能/ 提出/ 了/ 更/ 高/ 的/ 要求/ ./ 文中/ 根据/ 各类/ 邻居/ 发现/ 协议/ 的/ 对称性/ 、/ 确定性/ 、/ 协作性/ 、/ 是否/ 使用/ 多/ 信道/ 和/ 按/ 需/ 发现/ 等/ 特点/ 分类/ ,/ 选定/ 了/ 发现/ 延迟/ 、/ 能耗/ 和/ 最优/ 近似/ 比/ 作为/ 协议/ 的/ 性能/ 评价/ 标准/ ,/ 并/ 针对/ 各类/ 具有/ 代表性/ 邻居/ 发现/ 协议/ 分析/ 研究/ 其/ 主要/ 设计/ 思想/ ,/ 剖析/ 了/ 相似/ 协议/ 间/ 存在/ 的/ 关联性/ 和/ 演进/ 过程/ ,/ 论述/ 各自/ 的/ 优缺点/ 及/ 适用范围/ ,/ 归纳/ 协议/ 设计/ 方法/ 并/ 通过/ 理论/ 分析/ 比较/ 协议/ 性能/ ./ 最后/ ,/ 通过/ 真实/ 环境/ 中/ 的/ 实验/ 比较/ 了/ 各类/ 协议/ 的/ 实际/ 性能/ ,/ 并/ 总结/ 和/ 展望/ 了/ 邻居/ 发现/ 技术/ 的/ 未来/ 发展趋势/ ./ 关键词/ 无线/ 传感器/ 网络/ ;/ 物/ 联网/ ;/ 邻居/ 发现/ ;/ 能量/ 有效/ ;/ 移动/ 感知/ 1/ 引言/ 传感器/ 网络/ 使用/ 大量/ 低成本/ 、/ 小/ 体积/ 、/ 低能耗/ 的/ 传感器/ 节点/ 通过/ 无线通信/ 自/ 组织/ 形成/ 网络/ ,/ 用于/ 感知/ 和/ 传输/ 各类/ 感兴趣/ 的/ 信息/ ./ 传感器/ 网络/ 已/ 在/ 环境监测/ [/ 1/ ]/ 、/ 数据/ 采集/ [/ 2/ ]/ 、/ 结构/ 健康/ 检测/ [/ 3/ ]/ 、/ 目标/ 追踪/ [/ 4/ ]/ 、/ 应急/ 救援/ [/ 5/ ]/ 、/ 动物/ 习性/ 监测/ [/ 6/ -/ 9/ ]/ 等/ 领域/ 得到/ 了/ 广泛/ 的/ 应用/ ./ 在/ 传感器/ 网络应用/ 部署/ 中/ ,/ 传感器/ 节点/ 的/ 地理位置/ 分布/ 往往/ 不/ 确定/ ,/ 并且/ 没有/ 基础/ 通信/ 设备/ 的/ 支持/ ,/ 节点/ 间/ 需要/ 通过/ 互相/ 发现/ 才能/ 自/ 组织/ 形成/ 网络/ ./ 因此/ ,/ 邻居/ 发现/ 协议/ 是/ 传感/ 网/ 网络协议/ 族/ 中/ 不可或缺/ 的/ 一个/ 重要/ 组成部分/ ,/ 合理/ 地/ 利用/ 邻居/ 信息/ 可以/ 有效/ 地/ 提高/ MAC/ 协议/ 、/ 路由/ 协议/ 、/ 拓扑/ 控制协议/ 等/ 网络协议/ 的/ 性能/ ./ 例如/ ,/ MAC/ 协议/ 中/ 通常/ 会/ 利用/ 邻居/ 的/ 唤醒/ 调度/ 信息/ 优化/ 睡眠/ 等待时间/ 以/ 节省/ 能耗/ [/ 10/ -/ 11/ ]/ ./ 路由/ 协议/ 使用/ 邻居/ 信息/ (/ 如/ 邻居/ 节点/ 的/ 接收/ 信号强度/ )/ 作为/ 选择/ 下/ 一/ 跳/ 路由/ 的/ 参考/ 因素/ [/ 12/ ]/ ,/ 以/ 提高/ 路由/ 选择/ 的/ 准确性/ ./ 拓扑/ 控制协议/ [/ 13/ ]/ 更/ 需要/ 准确/ 的/ 邻居/ 信息/ 以/ 筛选/ 部分/ 链路/ 作为/ 可用/ 的/ 通信/ 链路/ ./ 这些/ 协议/ 的/ 性能/ 往往/ 都/ 与/ 邻居/ 信息/ 的/ 实时性/ 和/ 准确性/ 有/ 密切/ 的/ 关联/ [/ 14/ ]/ ./ 由于/ 各类/ 网络协议/ 和/ 具体/ 应用/ 中/ 都/ 需要/ 使用/ 邻居/ 信息/ ,/ 因此/ 传感器/ 网络操作系统/ 通常/ 将/ 它/ 作为/ 一个/ 独立/ 公用/ 的/ 基础/ 服务/ [/ 15/ -/ 16/ ]/ ./ 近年来/ ,/ 随着/ 智能/ 终端/ 的/ 普及/ ,/ 移动/ 传感器/ 网络/ 已/ 成为/ 学术界/ 研究/ 的/ 热点/ [/ 17/ ]/ ./ 这类/ 网络/ 在/ 居民/ 生活/ 环境监测/ [/ 18/ -/ 19/ ]/ 、/ 用户/ 行为/ 记录/ 与/ 分析/ [/ 20/ -/ 22/ ]/ 、/ 交通运输/ [/ 23/ -/ 24/ ]/ 、/ 社交/ 网络/ [/ 25/ -/ 29/ ]/ 等/ 方面/ 得到/ 了/ 初步/ 应用/ ./ 许多/ 移动/ 应用/ 通常/ 都/ 需要/ 快速/ 地/ 收集/ 邻近/ 设备/ 的/ 信息/ 以便/ 高效/ 地/ 与/ 它们/ 合作/ 来/ 完成/ 既定/ 的/ 任务/ [/ 30/ -/ 31/ ]/ ./ 相比/ 传统/ 的/ 传感器/ 网络应用/ ,/ 此类/ 应用/ 中/ 的/ 节点/ 移动性/ 更大/ ,/ 对/ 实时性/ 的/ 要求/ 也/ 更/ 高/ ,/ 从而/ 对/ 邻居/ 发现/ 协议/ 的/ 设计/ 提出/ 了/ 更/ 高/ 的/ 要求/ ./ 本文/ 只/ 考虑/ 在/ 不/ 借助/ 额外/ 辅助/ 设备/ (/ 如/ 定位/ 设备/ [/ 6/ ,/ 32/ ]/ 、/ 定向天线/ [/ 33/ -/ 35/ ]/ 、/ 天线/ 阵列/ [/ 36/ ]/ 等/ )/ 的/ 前提/ 下/ 进行/ 邻居/ 发现/ ,/ 即/ 邻居/ 发现/ 的/ 过程/ 中仅/ 使用/ 无线/ 数据包/ 通信/ 作为/ 互相/ 发现/ 的/ 基础/ ./ 通过/ 这方面/ 的/ 研究/ 主要/ 来/ 解决/ 以下/ 问题/ :/ (/ 1/ )/ 如何/ 能量/ 有效/ 地/ 快速/ 发现/ 邻居/ ?/ 邻居/ 发现/ 协议/ 期望/ 能/ 在/ 最/ 短/ 的/ 时间/ 内/ 发现/ 所有/ 通信/ 范围/ 内/ 的/ 邻居/ ./ 然而/ ,/ 传感器/ 网络/ 中/ 的/ 节点/ 通常/ 受/ 能量/ 的/ 制约/ ,/ 发送/ 或/ 监听/ 邻居/ 发现/ 消息/ 的/ 频率/ 过高会/ 减少/ 节点/ 的/ 生存/ 时间/ ./ 如何/ 权衡/ 能耗/ 和/ 邻居/ 发现/ 延迟/ 是/ 绝大多数/ 邻居/ 发现/ 协议/ 研究/ 的/ 关键点/ ./ (/ 2/ )/ 是否/ 可以/ 在/ 有限/ 的/ 时间/ 内/ 发现/ 所有/ 邻居/ ?/ 传感器/ 网络/ 中/ 的/ 节点/ 通常/ 采用/ 睡眠/ -/ 唤醒/ 调度/ 周期/ 地/ 打开/ 和/ 关闭/ 无线/ 收发机/ 以/ 减少/ 能耗/ ,/ 无线/ 收发机/ 大多数/ 时间/ 处于/ 关闭/ 状态/ ,/ 此时/ 节点/ 并/ 不能/ 接收/ 和/ 发送/ 消息/ ./ 那么/ 邻居/ 发现/ 协议/ 应当/ 以/ 何种/ 形式/ 的/ 睡眠/ -/ 唤醒/ 调度/ 控制/ 无线/ 收发机/ 的/ 状态/ ,/ 以/ 保证/ 它/ 能/ 在/ 有限/ 的/ 时间/ 内/ 发现/ 所有/ 邻居/ ?/ 这/ 需要/ 对/ 邻居/ 发现/ 过程/ 建立/ 模型/ ,/ 并/ 构造/ 合适/ 的/ 发现/ 模式/ 确保/ 在/ 理论/ 上/ 节点/ 可以/ 互相/ 发现/ ./ (/ 3/ )/ 如何/ 度量/ 邻居/ 发现/ 协议/ 的/ 性能/ ?/ 目前/ 学术界/ 已/ 提出/ 了/ 多种/ 邻居/ 发现/ 协议/ ,/ 其/ 发现/ 模式/ 存在/ 差异/ ,/ 如何/ 以/ 统一/ 的/ 标准/ 对/ 它们/ 进行/ 系统地/ 评价/ 以/ 客观/ 地/ 反映/ 协议/ 设计/ 的/ 优劣/ ,/ 这/ 也/ 是/ 邻居/ 发现/ 协议/ 研究/ 必须/ 解决/ 的/ 问题/ ./ 本文/ 综述/ 传感器/ 网络邻居/ 发现/ 技术/ 的/ 研究进展/ ,/ 第/ 2/ 节/ 概述/ 传感器/ 网络邻居/ 发现/ 协议/ 设计/ 面临/ 的/ 挑战/ ,/ 并/ 提出/ 邻居/ 发现/ 问题/ 的/ 定义/ 、/ 模型/ 以及/ 协议/ 的/ 分类/ ;/ 第/ 3/ 、/ 4/ 、/ 5/ 、/ 6/ 、/ 7/ 节/ 分别/ 介绍/ 确定性/ 邻居/ 发现/ 、/ 随机/ 邻居/ 发现/ 、/ 协作/ 式/ 邻居/ 发现/ 、/ 按/ 需/ 邻居/ 发现/ 和/ 多/ 信道/ 邻居/ 发现/ ;/ 第/ 8/ 节/ 综合/ 比较/ 各类/ 协议/ 的/ 特点/ 和/ 适用/ 场景/ ;/ 第/ 9/ 节/ 展望未来/ 的/ 研究/ 方向/ ;/ 第/ 10/ 节/ 总结/ 全文/ ./ 2/ 问题/ 与/ 挑战/ 在/ 无线网络/ 中/ ,/ 单跳/ 通信/ 范围/ 内/ 无线/ 信号/ 可达/ 的/ 节点/ 称为/ 邻居/ ./ 然而/ ,/ 在/ 物理/ 上/ 互为/ 邻居/ 的/ 两个/ 节点/ 并/ 不能/ 立即/ 知道/ 对方/ 在/ 通信/ 范围/ 内/ ,/ 必须/ 通过/ 信息/ 交换/ 才/ 可以/ 了解/ 彼此/ 的/ 存在/ ,/ 该/ 过程/ 就/ 称为/ 邻居/ 发现/ ./ 发送/ 邻居/ 通告/ 消息/ (/ 也/ 称为/ Hello/ 消息/ 、/ 信标/ 消息/ )/ 是/ 节点/ 间/ 互相/ 发现/ 的/ 必要/ 手段/ ,/ 旨在/ 向/ 邻居/ 通/ Page3/ 告/ 自身/ 的/ 存在/ ./ 邻居/ 通告/ 消息/ 通常/ 包含/ 自身/ 的/ 链路/ 地址/ 、/ 唤醒/ 调度/ 模式/ 等/ 信息/ ,/ 以便/ 接收/ 方/ 根据/ 这些/ 信息/ 构建/ 邻居/ 表/ ,/ 从而/ 为/ 本地/ 的/ 上层/ 协议/ 或/ 应用/ 提供/ 邻居/ 信息/ ./ 2.1/ 面临/ 的/ 挑战/ 在/ 传统/ 的/ 无线网络/ (/ 如/ WLAN/ 、/ 蜂窝/ 网络/ 等/ )/ 中/ ,/ 每个/ 节点/ 都/ 具有/ 充足/ 的/ 电源/ 供给/ ,/ 无线/ 收发机/ 可以/ 时刻/ 保持/ 监听/ 状态/ ,/ 待/ 发现/ 节点/ 只/ 需要/ 周期性地/ 广播/ 邻居/ 通告/ 消息/ 就/ 可以/ 保证/ 周围/ 的/ 邻居/ 节点/ 可以/ 发现/ 它/ ./ 与/ 传统/ 无线网络/ 相比/ ,/ 传感器/ 网络/ 的/ 以下/ 特点/ 使/ 邻居/ 发现/ 协议/ 的/ 设计/ 更/ 具有/ 挑战性/ :/ (/ 1/ )/ 能量/ 有效性/ 传感器/ 网络/ 本身/ 固有/ 的/ 特性/ 决定/ 了/ 传感器/ 节点/ 只能/ 使用/ 电池/ 供电/ ./ 电池容量/ 往往/ 受到/ 传感器/ 节点/ 体积/ 的/ 限制/ ,/ 所以/ 节点/ 应/ 尽可能减少/ 电量/ 的/ 使用/ 以/ 延长/ 生存/ 时间/ ./ 已有/ 研究/ [/ 19/ ]/ 表明/ ,/ 开启/ 节点/ 的/ 无线/ 收发机/ 处于/ 发送/ 或/ 空闲/ 监听/ 状态/ 的/ 时间/ 主导/ 了/ 节点/ 的/ 能量消耗/ ./ 因此/ ,/ 传感器/ 网络邻居/ 发现/ 协议/ 应/ 尽量减少/ 无线/ 收发机/ 处于/ 开启/ 状态/ 的/ 时间/ ./ (/ 2/ )/ 实时性/ 传感器/ 网络应用/ 通常/ 对/ 邻居/ 发现/ 的/ 延迟/ 有/ 一定/ 的/ 要求/ [/ 30/ ]/ ,/ 确保/ 在/ 给定/ 的/ 时间/ 内/ 发现/ 所有/ 的/ 邻居/ 节点/ ./ 尤其/ 是/ 在/ 移动/ 传感器/ 网络应用/ 中/ ,/ 过长/ 的/ 发现/ 延迟/ 会/ 大大降低/ 用户/ 体验/ ./ (/ 3/ )/ 网络/ 动态性/ 网络/ 动态性/ 包括/ 节点/ 的/ 加入/ 、/ 退出/ 和/ 位置/ 移动/ 等/ 动态/ 事件/ ./ 由于/ 网络/ 动态性/ ,/ 已/ 发现/ 的/ 邻居/ 随时/ 可能/ 会/ 失效/ ,/ 因此/ 传感器/ 网络邻居/ 发现/ 必须/ 是/ 一个/ 持续/ 的/ 过程/ ./ 目前/ 大多数/ 应用/ 中/ 只是/ 简单/ 地/ 使用/ 现有/ 的/ MAC/ 协议/ (/ 如/ B/ -/ MAC/ [/ 37/ ]/ 、/ X/ -/ MAC/ [/ 38/ ]/ 、/ A/ -/ MAC/ [/ 39/ -/ 40/ ]/ )/ 广播/ 邻居/ 通告/ 消息/ 以/ 互相/ 发现/ ,/ 这/ 类/ 基于/ 信道/ 采样/ 的/ 协议/ 都/ 需要/ 采用/ 发送/ 长度/ 为/ 一个/ 周期/ 的/ 前导/ 码/ (/ 或/ 监听/ 一个/ 周期/ 的/ 探测/ 包/ )/ 的/ 方式/ 进行/ 广播/ ,/ 能量/ 开销/ 较大/ ,/ 并/ 不/ 适合/ 持续/ 更新/ 邻居/ 信息/ ./ 2.2/ 问题/ 定义/ 第/ 2.1/ 节中/ 所/ 描述/ 的/ 特性/ 使得/ 传感器/ 网络/ 的/ 邻居/ 发现/ 问题/ 显著/ 区别/ 于/ 传统/ 无线网络/ ,/ 因此/ 传统/ 无线网络/ 的/ 邻居/ 发现/ 协议/ 并/ 不能/ 直接/ 应用/ 于/ 传感器/ 网络/ 中/ ./ 这/ 就/ 需要/ 根据/ 传感器/ 网络/ 的/ 特性/ 重新/ 定义/ 邻居/ 发现/ 问题/ ,/ 并/ 根据/ 新/ 的/ 问题/ 模型/ 提出/ 合适/ 的/ 解决方案/ ./ 2.2/ ./ 1/ 问题/ 模型/ 为了/ 减少/ 能耗/ ,/ 传感器/ 网络/ 中/ 的/ 节点/ 一般/ 都/ 采用/ 睡眠/ -/ 唤醒/ 调度/ 的/ 模式/ 周期性地/ 打开/ 和/ 关闭/ 无线/ 收发机/ ./ 一个/ 周期/ 内/ 唤醒/ 调度/ 模式/ 是/ 随/ 时间/ 变化/ 对应/ 的/ 无线/ 收发机/ 状态/ 序列/ ./ 由于/ 只有/ 睡眠/ 和/ 唤醒/ 两个/ 状态/ ,/ 因此/ 唤醒/ 调度/ 模式/ 可以/ 形式化/ 表述/ 为/ 如下/ 的/ 二值/ 函数/ :/ 其中/ ,/ Ψ/ (/ m/ ,/ t/ )/ 为/ 0/ 表示/ 节点/ m/ 在/ t/ 时刻/ 处于/ 睡眠/ 状态/ ,/ 此时/ 无法/ 发现/ 邻居/ 节点/ ,/ 也/ 无法/ 被/ 邻居/ 节点/ 发现/ ./ Ψ/ (/ m/ ,/ t/ )/ 为/ 1/ 表示/ 节点/ m/ 在/ t/ 时刻/ 处于/ 唤醒/ 状态/ ,/ 可以/ 发现/ 邻居/ 节点/ ,/ 同时/ 也/ 可以/ 被/ 邻居/ 节点/ 发现/ ./ 在/ 确定/ 了/ 唤醒/ 调度/ 模式/ 的/ 基础/ 上/ ,/ 如果/ 一对/ 邻居/ 节点/ m1/ ,/ m2/ 在/ 某个/ 时刻/ t/ 同时/ 处于/ 唤醒/ 状态/ ,/ 则/ 认为/ 两者/ 互相/ 发现/ ,/ 即/ 邻居/ 发现/ 协议/ 的/ 目的/ 就是/ 寻找/ 满足/ 该/ 定义/ 的/ 唤醒/ 调度/ 模式/ Ψ/ (/ m/ ,/ t/ )/ ,/ 使/ 邻居/ 发现/ 延迟/ 和/ 能耗/ 综合/ 最优化/ ./ 2.2/ ./ 2/ 时隙/ 模型/ 时隙/ 模型/ 将/ 连续/ 的/ 时间轴/ 分为/ 等长/ 的/ 间隔/ 称为/ 时隙/ ,/ 并且/ 所有/ 节点/ 的/ 时隙/ 互相/ 对齐/ ./ 每个/ 时隙/ 中/ 节点/ 处于/ 睡眠/ 或/ 唤醒/ 两个/ 状态/ 之一/ ,/ 唤醒/ 时隙/ 用于/ 发送/ 和/ 接收/ 邻居/ 通告/ 消息/ ,/ 时隙/ 的/ 长度/ 应当/ 大于/ 发送/ 或/ 接收/ 邻居/ 通告/ 消息/ 的/ 时间/ 以/ 确保/ 邻居/ 发现/ ./ 分/ 时隙/ 唤醒/ 调度/ 模式/ 本质/ 上/ 是/ 将/ 调度/ 模式/ Ψ/ (/ m/ ,/ t/ )/ 离散/ 化/ ,/ 下文/ 中/ 用/ 记号/ ψ/ (/ m/ ,/ t/ )/ 表示/ ./ 时隙/ 对齐/ 的/ 时隙/ 模型/ 具有/ 便于/ 理论/ 分析/ 的/ 优点/ ,/ 因而/ 为/ 绝大多数/ 邻居/ 发现/ 协议/ 所/ 采用/ ./ 然而/ ,/ 在实践中/ 实现/ 时隙/ 对齐/ 的/ 难度/ 较大/ ,/ 不仅/ 需要/ 对/ 全网/ 作/ 时钟/ 同步/ ,/ 并且/ 需要/ 充分考虑/ 时钟/ 漂移/ 和/ 软件/ 处理/ 延迟/ 的/ 不确定性/ 所/ 带来/ 的/ 影响/ ./ 幸运/ 的/ 是/ 时隙/ 并不需要/ 严格/ 对齐/ ,/ 只要/ 相邻/ 节点/ 时隙/ 的/ 偏差/ 不/ 超过/ 一个/ 时隙/ ,/ 那么/ 在/ 这/ 一时/ 隙/ 内/ 仍会/ 有/ 重叠/ 的/ 唤醒/ 时间/ ,/ 足以/ 保证/ 发现/ 邻居/ ./ 因此/ 根据/ 时隙/ 对齐/ 原则/ 设计/ 的/ 邻居/ 发现/ 协议/ 仍然/ 适用/ 于/ 时隙/ 未/ 对齐/ 的/ 情况/ ,/ 从而/ 显著/ 降低/ 了/ 实现/ 的/ 难度/ ./ 在/ 唤醒/ 时隙/ 中/ ,/ 节点/ 首先/ 发送/ 邻居/ 通告/ 消息/ ,/ 随后/ 切换/ 到/ 监听/ 模式/ 以/ 接收/ 邻近/ 节点/ 的/ 邻居/ 通告/ 消息/ ./ 当时/ 隙/ 未/ 对齐/ 时/ ,/ 这种/ 模式/ 只能/ 单向/ 发现/ 邻居/ ,/ 如图/ 1/ 中/ 左半/ 部分/ 所示/ ,/ B/ 节点/ 无法/ 接收/ 到/ A/ 的/ 邻居/ 通告/ 消息/ ,/ 从而/ 无法/ 知道/ A/ 节点/ 的/ 存在/ ./ 文献/ [/ 41/ ]/ 中/ 提出/ 在/ 时隙/ 的/ 结尾/ 再发/ 一次/ 邻居/ 通告/ 消息/ ,/ 就/ 可以/ 让/ 一对/ 邻居/ 节点/ 双向/ 发现/ ./ 如图/ 1/ 中/ 右半/ 部分/ 所示/ ,/ 即使/ 时隙/ 未/ 对齐/ ,/ 无论/ A/ 和/ B/ 之间/ 的/ 时间差/ 是/ 多少/ ,/ 仍然/ 可以/ 保证/ 双向/ 发现/ ./ Page4/ 图/ 1/ 时隙/ 未/ 对齐/ 时需/ 发送/ 两次/ 邻居/ 通告/ 消息/ 当时/ 隙/ 严格/ 对齐/ 时/ ,/ 实践/ 中/ 存在/ 着/ 恰好/ 错过/ 邻居/ 通知/ 消息/ 的/ 问题/ ,/ 文献/ [/ 42/ ]/ 中/ 提出/ 的/ 将/ 唤醒/ 时隙/ 适当/ 延长/ ,/ 同时/ 将/ 相邻/ 的/ 睡眠/ 时隙/ 缩短/ 以/ 保证/ 总/ 周期/ 长度/ 不变/ 的/ 方法/ ,/ 可以/ 妥善/ 地/ 解决/ 该/ 问题/ ./ 此外/ ,/ 文献/ [/ 42/ -/ 43/ ]/ 都/ 利用/ 了/ 该/ 方法/ 将/ 唤醒/ 时隙/ 数量/ 减半/ ,/ 从而/ 缩短/ 了/ 邻居/ 发现/ 延迟/ ,/ 极大地提高/ 了/ 协议/ 的/ 能量/ 有效性/ ./ 2.3/ 评价/ 标准/ 为了/ 比较/ 不同/ 传感/ 网/ 邻居/ 发现/ 协议/ 的/ 性能/ ,/ 学术界/ 提出/ 了/ 多种/ 评价/ 标准/ 以便/ 对/ 不同/ 的/ 协议/ 进行/ 统一/ 比较/ ./ 常用/ 的/ 评价/ 标准/ 为/ 发现/ 延迟/ 、/ 能耗/ 和/ 最优/ 近似/ 比/ ./ 2.3/ ./ 1/ 发现/ 延迟/ 邻居/ 发现/ 延迟/ 是/ 指/ 从/ 两个/ 节点/ 进入/ 彼此/ 通信/ 范围/ 内/ 的/ 时刻/ 起/ ,/ 到/ 彼此/ 接收/ 到/ 对方/ 的/ 邻居/ 通告/ 消息/ 的/ 时刻/ 为止/ 的/ 时间/ 间隔/ 长度/ ./ 发现/ 延迟/ 通常/ 由/ 应用/ 指定/ ,/ 实时性/ 要求/ 较/ 高/ 的/ 应用/ 倾向/ 于/ 指定/ 较/ 小/ 的/ 发现/ 延迟/ ,/ 以/ 保证/ 在/ 指定/ 时间/ 内/ 发现/ 所有/ 邻居/ ./ 大部分/ 研究/ 将/ 发现/ 延迟/ 进一步/ 细分/ 为/ 最坏/ 发现/ 延迟/ 和/ 平均/ 发现/ 延迟/ ./ 最坏/ 发现/ 延迟/ 是/ 指/ 发现/ 最后/ 一个/ 邻居/ 所/ 需/ 的/ 时间/ ,/ 用于/ 评价/ 算法/ 的/ 理论/ 边界/ ./ 平均/ 发现/ 延迟/ 是/ 所有/ 邻居/ 发现/ 时间/ 的/ 期望/ ,/ 用于/ 评价/ 算法/ 的/ 实际/ 性能/ ./ 在/ 最坏/ 发现/ 延迟/ 相同/ 的/ 情况/ 下/ ,/ 两种/ 不同/ 的/ 邻居/ 发现/ 协议/ 在/ 不同/ 的/ 时间段/ 发现/ 的/ 邻居/ 数量/ 也/ 存在/ 着/ 差异/ ./ 一般/ 认为/ 在/ 初始/ 阶段/ 能/ 更/ 快/ 地/ 发现/ 邻居/ 的/ 协议/ 较优/ ,/ 这/ 在/ 发现/ 延迟/ 累积/ 分布图/ 中/ 得以/ 体现/ ./ 如图/ 2/ 所示/ ,/ 横坐标/ 为/ 时间轴/ ,/ 纵坐标/ 为/ 已/ 发现/ 邻居/ 数占/ 总/ 邻居/ 数/ 的/ 比率/ ,/ 可以/ 看到/ 虽然/ A/ 、/ B/ 两种/ 协议/ 发现/ 所有/ 邻居/ 所/ 需要/ 的/ 时间/ 相同/ ,/ 但是/ 协议/ A/ 的/ 发现/ 速度/ 明显/ 快/ 于/ 协议/ B/ ,/ 因此/ 协议/ A/ 的/ 平均/ 发现/ 延迟/ 小于/ 协议/ B/ ./ 2.3/ ./ 2/ 能耗/ 传感器/ 网络/ 中/ 能耗/ 决定/ 了/ 节点/ 的/ 生存/ 时间/ [/ 44/ ]/ ,/ 邻居/ 发现/ 协议/ 应/ 尽可能减少/ 能耗/ 以/ 延长/ 节点/ 的/ 寿命/ ./ 节点/ 的/ 实际/ 能耗/ 往往/ 难以/ 直接/ 计算/ ,/ 由于/ 无线/ 收发机/ 唤醒/ 时/ 的/ 能耗/ 远高于/ 节点/ 的/ 其他/ 能耗/ [/ 45/ ]/ ,/ 因此/ 一般/ 使用/ 无线/ 收发机/ 的/ 唤醒/ 时间/ 与/ 总/ 时间/ 的/ 比值/ (/ 即/ Duty/ -/ Cycle/ ,/ 占空比/ )/ 作为/ 评价/ 节点/ 能耗/ 的/ 标准/ ,/ 占空比/ 越小/ ,/ 说明/ 节点/ 处于/ 唤醒/ 状态/ 的/ 时间/ 越短/ ,/ 能耗/ 越低/ ./ 2.3/ ./ 3/ 最优/ 近似/ 比/ 能耗/ 和/ 发现/ 延迟/ 是/ 邻居/ 发现/ 协议/ 设计/ 中/ 一对/ 互相制约/ 的/ 因素/ ./ 一般而言/ ,/ 发现/ 延迟/ 越短/ 则/ 这种/ 邻居/ 发现/ 协议/ 的/ 效率/ 越高/ ,/ 但/ 往往/ 它/ 的/ 能耗/ 也/ 越/ 大/ ,/ 反之亦然/ ./ 邻居/ 发现/ 协议/ 设计/ 的/ 难点/ 在于/ 权衡/ 这/ 两个/ 因素/ ,/ 在/ 发现/ 延迟/ 能/ 满足/ 应用/ 需求/ 的/ 前提/ 下/ 保证/ 能耗/ 尽可能/ 低/ ./ 为了/ 综合/ 分析/ 发现/ 延迟/ 和/ 能耗/ 这/ 两/ 方面/ 因素/ 以/ 比较/ 不同/ 邻居/ 发现/ 协议/ 的/ 优劣/ ,/ 文献/ [/ 46/ ]/ 提出/ 了/ 将/ 两者/ 的/ 乘积/ 作为/ 综合/ 衡量/ 邻居/ 发现/ 协议/ 性能/ 的/ 评价/ 标准/ ./ 设/ 邻居/ 发现/ 调度/ 模式/ 的/ 周期/ 为/ T/ ,/ 最坏/ 发现/ 延迟/ 为/ L/ ,/ 一个/ 周期/ 内/ 的/ 平均/ 能耗/ 为/ P/ ,/ 即/ 从而/ 能耗/ 与/ 发现/ 延迟/ 的/ PL/ 乘积/ Λ/ 为/ 若/ 协议/ 使用/ 时隙/ 模型/ ,/ 那么/ 该/ 乘积/ 可以/ 使用/ 离散/ 化/ 的/ ψ/ (/ m/ ,/ t/ )/ 表示/ 为/ 文献/ [/ 46/ ]/ 进一步/ 使用/ 最优/ 近似/ 比/ 作为/ 对称/ 邻居/ 发现/ 评价/ 的/ 标准/ ./ 若/ 存在/ 最优/ 邻居/ 发现/ 协议/ 的/ PL/ 乘积/ 为/ Λ/ op/ (/ L/ )/ ,/ 则/ 最优/ 近似/ 比/ 为/ 根据/ 该/ 评价/ 标准/ 可以/ 量化/ 地/ 比较/ 不同/ 邻居/ 发现/ 协议/ 的/ 优劣/ ./ 2.4/ 邻居/ 发现/ 协议/ 分类/ 现存/ 的/ 邻居/ 发现/ 协议/ 可以/ 根据/ 不同/ 的/ 正交/ 特性/ 分类/ ,/ 每种/ 协议/ 可以/ 分别/ 属于/ 不同/ 的/ 多个/ 分类/ ./ 根据/ 唤醒/ 调度/ 模式/ 的/ 确定性/ ,/ 邻居/ 发现/ 协议/ 可以/ 分为/ 确定性/ 邻居/ 发现/ 和/ 随机/ 邻居/ 发现/ ./ 在/ 确定性/ Page5/ 邻居/ 发现/ 中/ ,/ 节点/ 采用/ 固定/ 的/ 唤醒/ 调度/ 模式/ ,/ 保证/ 在/ 指定/ 的/ 发现/ 延迟/ 内/ 发现/ 所有/ 的/ 邻居/ ;/ 而/ 随机/ 邻居/ 发现/ 协议/ 采用/ 了/ 随机/ 唤醒/ 的/ 调度/ 模式/ ,/ 能/ 在/ 给定/ 的/ 发现/ 延迟/ 内以/ 一定/ 的/ 概率/ 发现/ 邻居/ ./ 根据/ 节点/ 唤醒/ 调度/ 模式/ 是否/ 相同/ ,/ 邻居/ 发现/ 协议/ 可以/ 分为/ 对称/ 邻居/ 发现/ 协议/ 和/ 非对称/ 邻居/ 发现/ 协议/ ./ 对称/ 邻居/ 发现/ 协议/ 中/ 每个/ 节点/ 的/ 唤醒/ 调度/ 模式/ 相同/ ,/ 仅/ 因为/ 节点/ 的/ 启动/ 时间/ 不同/ 或/ 时钟/ 漂移/ 而/ 使/ 各个/ 节点/ 的/ 调度/ 模式/ 间/ 存在/ 一定/ 的/ 时间/ 相位差/ ./ 而/ 非对称/ 协议/ 中/ 每个/ 节点/ 采用/ 不同/ 的/ 唤醒/ 调度/ 模式/ ,/ 以/ 满足/ 不同/ 类型/ 节点/ 占空比/ 不同/ 的/ 需求/ ./ 根据/ 协议/ 是否/ 与/ 相邻/ 节点/ 协作/ 以/ 完成/ 发现/ 过程/ ,/ 可以/ 分为/ 非/ 协作/ 式/ 邻居/ 发现/ 和/ 协作/ 式/ 邻居/ 发现/ ./ 非/ 协作/ 式/ 邻居/ 发现/ 仅/ 使用/ 本地/ 信息/ 独立/ 发现/ 邻居/ 节点/ ,/ 而/ 协作/ 式/ 邻居/ 发现/ 利用/ 已/ 发现/ 邻居/ 提供/ 的/ 信息/ ,/ 共同/ 发现/ 附近/ 未/ 发现/ 的/ 邻居/ ./ 根据/ 邻居/ 发现/ 过程/ 的/ 持续时间/ ,/ 可以/ 分为/ 按/ 需/ 邻居/ 发现/ 和/ 长期/ 邻居/ 发现/ ./ 按/ 需/ 邻居/ 发现/ 只/ 在/ 上层/ 协议/ 或/ 应用/ 提出/ 邻居/ 发现/ 请求/ 时才/ 启动/ 邻居/ 发现/ 过程/ ,/ 而/ 长期/ 邻居/ 发现/ 将/ 邻居/ 发现/ 过程/ 作为/ 一项/ 持续/ 运行/ 的/ 服务/ ,/ 连续不断/ 地/ 发现/ 潜在/ 的/ 邻居/ ./ 根据/ 邻居/ 发现/ 过程/ 是否/ 使用/ 多个/ 信道/ ,/ 可以/ 分为/ 单/ 信道/ 邻居/ 发现/ 和/ 多/ 信道/ 邻居/ 发现/ ./ 单/ 信道/ 邻居/ 发现/ 始终/ 仅/ 使用/ 一个/ 固定/ 的/ 信道/ 发现/ 邻居/ ,/ 而/ 多/ 信道/ 邻居/ 发现/ 可以/ 在/ 邻居/ 发现/ 过程/ 中/ 切换/ 到/ 不同/ 信道/ 以/ 发现/ 邻居/ ./ 此外/ ,/ 根据/ 全局/ 时钟/ 是否/ 同步/ ,/ 可以/ 分为/ 同步/ 邻居/ 发现/ 和/ 异步/ 邻居/ 发现/ ./ 同步/ 邻居/ 发现/ 要求/ 网络/ 中/ 的/ 每个/ 节点/ 具有/ 完全相同/ 的/ 唤醒/ 调度/ 模式/ ,/ 这样/ 就/ 保证/ 了/ 节点/ 在/ 唤醒/ 状态/ 发送/ 邻居/ 发现/ 消息/ 时/ ,/ 所有/ 邻居/ 节点/ 都/ 可以/ 收到/ 该/ 消息/ ;/ 异步/ 邻居/ 发现/ 不/ 需要/ 网络/ 中/ 所有/ 节点/ 时间/ 同步/ 就/ 可以/ 发现/ 邻居/ ./ 然而/ ,/ 实现/ 全网/ 准确/ 时钟/ 同步/ 在/ 实际/ 中/ 难度/ 较大/ ,/ 各个/ 节点/ 的/ 启动/ 时间/ 不同/ 且/ 硬件/ 时钟/ 往往/ 存在/ 一定/ 程度/ 的/ 漂移/ ,/ 因此/ 在/ 多/ 跳/ 网络/ 环境/ 中/ 要求/ 所有/ 节点/ 时间/ 同步/ 的/ 条件/ 并/ 不/ 容易/ 满足/ ./ 同步/ 邻居/ 发现/ 协议/ 的/ 有效性/ 取决于/ 时间/ 同步/ 的/ 准确性/ ,/ 这/ 并/ 不是/ 邻居/ 发现/ 协议/ 重点/ 关注/ 的/ 内容/ ,/ 而是/ 同步/ MAC/ 协议/ (/ 如/ S/ -/ MAC/ [/ 47/ ]/ 、/ RT/ -/ Link/ [/ 48/ ]/ )/ 或/ 时间/ 同步/ 协议/ [/ 49/ -/ 50/ ]/ 所/ 需要/ 解决/ 的/ 问题/ ,/ 因此/ 本文/ 仅/ 综述/ 不/ 需要/ 时钟/ 同步/ 的/ 异步/ 邻居/ 发现/ 协议/ ,/ 对/ 同步/ 邻居/ 发现/ 协议/ 不/ 作/ 详细/ 讨论/ ./ 现有/ 的/ 邻居/ 发现/ 协议/ 可/ 按表/ 1/ 所示/ 分类/ ,/ 每个/ 协议/ 可以/ 分别/ 属于/ 多个/ 不同/ 的/ 类别/ ./ 51/ %/ [/ 14/ ]/ Quorum/ [/ 51/ ]/ U/ -/ Connect/ [/ 46/ ]/ / SearchLight/ [/ 52/ ]/ / C/ -/ Torus/ [/ 53/ ]/ Hello/ [/ 54/ ]/ BlindDate/ [/ 43/ ]/ / Todis/ [/ 55/ ]/ Hedis/ [/ 55/ ]/ 组合/ 设计/ [/ 56/ ]/ / Disco/ [/ 41/ ]/ Birthday/ [/ 57/ ]/ PSBA/ [/ 58/ ]/ WiFlock/ [/ 59/ ]/ Cohen/ [/ 60/ ]/ Acc/ [/ 61/ ]/ EasiND/ [/ 62/ ]/ BLE/ [/ 63/ ]/ 3/ 确定性/ 邻居/ 发现/ 确定性/ 邻居/ 发现/ 采用/ 特定/ 的/ 唤醒/ 调度/ 模式/ ,/ 从/ 理论/ 上/ 保证/ 在/ 指定/ 的/ 时间/ 内/ 可以/ 发现/ 所有/ 邻居/ ./ 3.1/ 对称/ 邻居/ 发现/ 在/ 对称/ 邻居/ 发现/ 中/ ,/ 每个/ 节点/ 采用/ 的/ 唤醒/ 调度/ 模式/ 相同/ ,/ 但/ 由于/ 各个/ 节点/ 的/ 启动/ 时间/ 不同/ 或/ 受/ 时钟/ 漂移/ 的/ 影响/ ,/ 节点/ 间/ 存在/ 时间/ 相位差/ ./ 在/ 实际/ 应用/ 中/ ,/ 使用/ 对称/ 邻居/ 发现/ 的/ 前提/ 是/ 网络/ 中/ 所有/ 节点/ 的/ 能耗/ 需求/ 比较/ 类似/ ,/ 因此/ 可以/ 采用/ 相同/ 的/ 唤醒/ 调度/ 模式/ ./ 对称/ 邻居/ 发现/ 的/ 调度/ 模式/ 可以/ 表述/ 为/ :/ 对于/ 任意/ 邻居/ 节点/ 对/ (/ mi/ ,/ mj/ )/ ,/ 存在/ 时刻/ t/ 使得/ Ψ/ (/ mi/ ,/ t/ )/ =/ Ψ/ (/ mj/ ,/ t/ )/ +/ Φ/ i/ ,/ j/ 成立/ ,/ 其中/ 1/ / i/ ,/ j/ / n/ ,/ Φ/ i/ ,/ j/ 为/ 节点/ 对/ (/ mi/ ,/ mj/ )/ 的/ 时间/ 相位差/ ./ 本节/ 中/ 介绍/ 的/ 邻居/ 发现/ 协议/ 都/ 满足/ 该/ 条件/ ./ 3.1/ ./ 1/ 基于/ 鸽巢/ 原理/ 的/ 对称/ 邻居/ 发现/ 保证/ 邻居/ 可以/ 互相/ 发现/ 最/ 简单/ 的/ 方法/ 是/ 让/ 节点/ 在/ 一个/ 周期/ 内/ 唤醒/ 的/ 时间/ 稍/ 长于/ 半个/ 周期/ ,/ 即/ 在/ n/ 个/ 时隙/ 中/ ,/ 让/ (/ n/ +/ 1/ )/ // 2/ 个/ 连续/ 时隙/ 处于/ 唤醒/ 状态/ ,/ 并/ 在/ 每个/ 时隙/ 中作/ 邻居/ 发现/ ,/ 其余/ 时间/ 睡眠/ ./ 根据/ 鸽巢/ 原理/ [/ 65/ ]/ ,/ 这种/ 情况/ 下/ 任意/ 两个/ 节点/ 间/ 至少/ 有/ 一个/ 唤醒/ 时隙/ 重叠/ ./ 文献/ [/ 14/ ,/ 65/ ]/ 将/ 该/ 方法/ 称为/ 51/ %/ 协议/ ./ 如图/ 3/ 所示/ ,/ A/ 、/ B/ 节点/ 的/ 调度/ 周期/ 为/ 12/ 个/ 时隙/ ,/ 每个/ 周期/ 中/ 连续/ 唤醒/ 7/ 个/ 周期/ 作/ 邻居/ 发现/ ,/ 至少/ 有/ 一个/ 时隙/ A/ 、/ B/ 同时/ 处于/ 唤醒/ 状态/ (/ 图中/ 的/ 第/ 5/ 、/ 6/ 个/ 时隙/ )/ ,/ 从而/ 保证/ 了/ A/ 、/ B/ 必定/ 能/ 互相/ 发现/ ./ Page6/ 然而/ 这种/ 方法/ 存在/ 显著/ 的/ 缺陷/ ,/ 空闲/ 监听/ 时间/ 至少/ 为/ 50/ %/ 的/ 周期/ 长度/ ,/ 能量消耗/ 过高/ ,/ 在/ 实际/ 应用/ 中/ 一般/ 难以/ 接受/ ./ 3.1/ ./ 2/ 基于/ Quorum/ 的/ 邻居/ 发现/ 协议/ 为了/ 克服/ 51/ %/ 协议/ 能量/ 过高且/ 占空比/ 不可/ 调/ 的/ 缺点/ ,/ Tseng/ 等/ 人/ [/ 51/ ]/ 提出/ 了/ Quorum/ 协议/ ,/ 使/ 占空比/ 可/ 根据/ 需求/ 调整/ ,/ 同时/ 保证/ 邻居/ 发现/ 的/ 确定性/ ./ Quorum/ 机制/ 是/ 分布式系统/ 中常/ 用于/ 保证/ 冗余/ 数据/ 一致性/ 的/ 算法/ [/ 66/ -/ 68/ ]/ ,/ 为/ 读写操作/ 分配/ 权限/ ./ 两个/ Quorum/ 集合/ 总是/ 存在/ 非空/ 交集/ 以/ 保证/ 事务/ 的/ 原子/ 性/ ./ Quorum/ 协议/ 利用/ 了/ Quorum/ 机制/ 的/ 特点/ ,/ 将/ n2/ 个/ 时隙/ 以/ 二维/ 方阵/ 形式/ 排列/ ./ 如图/ 4/ 所示/ (/ 此处/ n/ =/ 5/ )/ ,/ A/ 、/ B/ 节点/ 都/ 分别/ 在/ 方阵/ 中/ 任选/ 一行/ 一列/ 作为/ 唤醒/ 时隙/ ,/ 无论/ 相对/ 时隙/ 偏移/ 是/ 多少/ ,/ 行列/ 之间/ 至少/ 存在/ 两个/ 重叠/ 的/ 唤醒/ 时隙/ ,/ 从而/ 保证/ 了/ 邻居/ 发现/ 的/ 确定性/ ./ Quorum/ 协议/ 的/ 唤醒/ 调度/ 周期/ 为/ n2/ ,/ 需要/ 处于/ 唤醒/ 状态/ 的/ 时间/ 为/ 2n/ -/ 1/ 个/ 时隙/ ,/ 相应/ 的/ 占空比/ 为/ (/ 2n/ -/ 1/ )/ // n2/ ./ 当/ 占空比/ 的/ 需求/ 为/ 1/ %/ 时/ ,/ 发现/ 延迟/ 的/ 最坏/ 情况/ 约/ 为/ n2/ =/ 40000/ 个/ 时隙/ ./ 若/ 每个/ 时隙/ 为/ 10ms/ ,/ 则/ 节点/ 发现/ 所有/ 邻居/ 的/ 时间/ 至多/ 需要/ 400s/ ./ Quorum/ 协议/ 虽然/ 在/ 保证/ 邻居/ 发现/ 确定性/ 的/ 同时/ 达到/ 了/ 降低/ 占空比/ 的/ 目的/ ,/ 但是/ 它/ 的/ 第/ 2/ 次/ 唤醒/ 时隙/ 重叠/ 是/ 多余/ 的/ (/ 图/ 4/ 中/ 的/ 第/ 18/ 个/ 时隙/ )/ ,/ 这/ 意味着/ Quorum/ 协议/ 并/ 不是/ 最优/ 的/ 对称/ 邻居/ 发现/ 协议/ ,/ 理论/ 分析/ 证明/ 其/ 最优/ 近似/ 比为/ 2/ ,/ 它/ 仍/ 存在/ 可以/ 进一步/ 优化/ 的/ 可能/ ./ 为了/ 得到/ 相同/ 发现/ 延迟/ 要求/ 下比/ Quorum/ 协议/ 更/ 低/ 的/ 占空比/ ,/ Kandhalu/ 等/ 人/ [/ 46/ ]/ 提出/ 了/ U/ -/ Connect/ 协议/ ./ 每个/ 节点/ 根据/ 占空比/ 的/ 要求/ 选取/ 一个/ 正整数/ p/ (/ 一般/ 为/ 质数/ ,/ 在/ 3.2/ ./ 1/ 节中/ 进一步/ 讨论/ )/ ,/ 以/ p/ 为/ 周期/ 进行/ 唤醒/ 调度/ ./ U/ -/ Connect/ 选取/ p2/ 个/ 时隙/ 中/ 第/ 1/ 个/ 周期/ 的/ 前/ p/ // 2/ 个/ 时隙/ 作为/ 唤醒/ 时隙/ ,/ 并且/ 在/ 每个/ 周期/ 的/ 第/ 1/ 个/ 时隙/ 唤醒/ ./ 如图/ 5/ 所示/ ,/ 当/ p/ 取值/ 为/ 5/ 时/ ,/ 第/ 1/ 个/ 周期/ 的/ 第/ 0/ ,/ 1/ ,/ 2/ 个/ 时隙/ 都/ 处于/ 唤醒/ 状态/ ,/ 而/ 后续/ 4/ 个/ 周期/ 中/ 节点/ 只/ 需/ 在/ 每个/ 周期/ 的/ 第/ 1/ 个/ 时隙/ 唤醒/ ./ 由于/ 每个/ 周期/ 第/ 1/ 个/ 时隙/ 唤醒/ 相当于/ 节点/ 以/ p/ 为/ 周期/ 对/ 信道/ 进行/ 扫描/ ,/ 且/ 第/ 1/ 个/ 周期/ 中/ p/ // 2/ 个/ 唤醒/ 时隙/ 覆盖/ 了/ 至少/ 半个/ 周期/ ,/ 从而/ 保证/ 了/ 至少/ 有/ 一个/ 唤醒/ 时隙/ 可以/ 重叠/ ./ 当/ p/ 值/ 较大/ 时/ ,/ p2/ 个/ 周期/ 中/ 的/ 第/ 1/ 个/ 周期/ 的/ 唤醒/ 时间/ 几乎/ 可以/ 忽略/ ,/ 因此/ 与/ Quorum/ 协议/ 相比/ ,/ 在/ 同样/ 的/ 发现/ 延迟/ 要求/ 下/ ,/ U/ -/ Connect/ 的/ 占空比/ 更/ 小/ ./ 这/ 一点/ 也/ 在/ 最优/ 近似/ 比/ (/ 1.5/ )/ 上/ 得以/ 体现/ ./ 为了/ 得到/ 比/ U/ -/ Connect/ 协议/ 更佳/ 的/ 最优/ 近似/ 比/ ,/ Bakht/ 等/ 人/ [/ 42/ ,/ 52/ ]/ 进一步/ 提出/ 了/ SearchLight/ 协议/ ./ SearchLight/ 将/ 时隙/ 以/ t/ ×/ t/ // 2/ 的/ 矩阵/ 形式/ 排列/ ,/ 选取/ 每/ 一列/ 的/ 第/ 1/ 个/ 时隙/ 作为/ 锚点/ 时隙/ ,/ 并/ 选取/ 第/ i/ 列/ 的/ 第/ i/ +/ 1/ 个/ 时隙/ 为/ 探测/ 时隙/ ,/ 其中/ 1/ / i/ / t/ // 2/ ./ 当/ t/ =/ 10/ 时/ ,/ 唤醒/ 调度/ 模式/ 如图/ 6/ 所示/ ,/ 第/ 1/ 列/ 0/ 、/ 10/ 、/ 20/ 、/ 30/ 、/ 40/ 个/ 时隙/ 为/ 锚点/ 时隙/ A/ ,/ 1/ 、/ 2/ 、/ 23/ 、/ 34/ 、/ 45/ 个/ 时隙/ 为/ 探测/ 时隙/ P/ ./ 与/ U/ -/ Connect/ 协议/ 类似/ ,/ SearchLight/ 邻居/ 间/ 的/ 锚点/ 时隙/ 和/ 探测/ 时隙/ 必然/ 会/ 有/ 一次/ 重叠/ ./ Search/ -/ Light/ 在/ 理论/ 上/ 有/ 比/ U/ -/ Connect/ 更/ 小/ 的/ 近似/ 比为/ 槡/ 2/ ,/ 这/ 意味着/ 它/ 在/ 占空比/ 相同/ 的/ 前提/ 下/ 所/ 需/ 的/ 邻居/ 发现/ 时间/ 比/ U/ -/ Connect/ 更/ 短/ ./ SearchLight/ 协议/ 将/ 唤醒/ 调度/ 模式/ 矩阵/ 的/ 长宽/ 比/ 固定/ 为/ 21/ ,/ 一定/ 程度/ 上/ 制约/ 了/ 调度/ 模式/ 的/ 灵活性/ ./ 为了/ 研究/ 长宽/ 比/ 可/ 调整/ 的/ 更/ 通用/ 情形/ ,/ Chen/ 等/ Page7/ 人/ [/ 53/ ]/ 提出/ 了/ 一种/ 基于/ ContinuousTorusQuorum/ (/ 简称/ C/ -/ TorusQuorum/ )/ 的/ 邻居/ 发现/ 协议/ ./ 如图/ 7/ 所示/ ,/ 在/ 高度/ 为/ h/ 和/ 宽度/ 为/ w/ 的/ 时隙/ 矩阵/ 中/ 选取/ 任意/ 一列/ 和/ 其后/ 的/ 任意/ 一行/ 的/ 连续/ w/ // 2/ 个/ 时隙/ 作为/ 唤醒/ 时隙/ ,/ 同样/ 可以/ 确保/ 邻居/ 发现/ 的/ 确定性/ ./ 作者/ 证明/ 了/ h/ =/ w/ // 2/ 是/ 最优/ 的/ Quorum/ 比例/ ,/ 实质/ 上/ 此时/ 的/ 唤醒/ 调度/ 与/ SearchLight/ 协议/ 等价/ ,/ 其/ 最优/ 近似/ 比/ 同样/ 为/ 槡/ 2/ ./ 为了/ 追求/ 更优/ 的/ 最优/ 近似/ 比/ ,/ Wang/ 等/ 人/ [/ 43/ ,/ 69/ ]/ 提出/ 了/ BlindDate/ 协议/ 在/ SearchLight/ 的/ 基础/ 上/ 通过/ 精心安排/ 探测/ 时隙/ 的/ 位置/ ,/ 进一步提高/ 了/ 邻居/ 发现/ 的/ 效率/ ,/ 使/ 最优/ 近似/ 比/ 达到/ 了/ 更/ 低/ 的/ 1.34/ ./ Blind/ -/ Date/ 将/ 由/ s/ 个/ 时隙/ 组成/ 的/ 时间段/ 称为/ 块/ ,/ 每个/ 周期/ 中/ 包含/ m/ 个块/ ,/ 每个/ 周期/ 的/ 最后/ 一个/ 时隙/ 作为/ 静态/ 时隙/ S/ ,/ 其/ 作用/ 类似/ 于/ SearchLight/ 中/ 的/ 锚点/ 时隙/ ./ BlindDate/ 从/ m/ 个块/ 中/ 选出/ k/ 个块/ 作为/ 动态/ 块/ D/ ,/ 其/ 作用/ 类似/ 于/ SearchLight/ 中/ 的/ 探测/ 时隙/ ./ 每/ 经过/ 一个/ 周期/ ,/ 不同/ 块/ 中/ 的/ 动态/ 时隙/ D/ 向/ 不同/ 方向/ 移动/ 一个/ 时隙/ ,/ 直至/ 到达/ 块/ 的/ 边界/ 时/ 折回/ 块/ 中/ 的/ 第/ 1/ 个/ 时隙/ ./ 例如/ ,/ 图/ 8/ 中/ 左边/ 的/ D/ 一直/ 向/ 右/ 移动/ ,/ 而/ 右边/ 的/ D/ 一直/ 向/ 左/ 移动/ ,/ 经过/ s/ 个/ 周期/ 后/ ,/ 该/ 模式/ 就/ 会/ 重复/ 出现/ ,/ 这/ 段时间/ 称为/ 超/ 周期/ T/ ./ 作者/ 论证/ 了/ 在/ 占空比/ 相同/ 的/ 情况/ 下/ ,/ 每个/ 周期/ 中块/ 的/ 个数/ m/ =/ 5/ ,/ 动态/ 块/ 个数/ k/ =/ 2/ 时/ ,/ 可以/ 得到/ 最小/ 的/ 发现/ 延迟/ ,/ 同时/ 保证/ 邻居/ 发现/ 的/ 确定性/ ./ 当/ s/ 取值/ 较大/ 时/ ,/ 动态/ 块/ 实际上/ 覆盖/ 了/ 图/ 中/ 约/ 2/ // 5/ 的/ 区域/ ,/ 相对/ 于/ SearchLight/ (/ 覆盖/ 了/ 约/ 1/ // 2/ 的/ 区域/ )/ 更优/ ./ 因此/ ,/ 在/ 发现/ 延迟/ 相同/ 的/ 情况/ 下/ ,/ BlindDate/ 的/ 占空比/ 要/ 略低于/ Search/ -/ Light/ ,/ 其/ 最优/ 近似/ 比仅/ 为/ 9/ // 槡/ 5/ ≈/ 1.34/ ,/ 是/ 现存/ 对称/ 邻居/ 发现/ 协议/ 中/ 最/ 接近/ 理论/ 最优/ 值/ 的/ 方法/ ./ 3.1/ ./ 3/ 基于/ Quorum/ 协议/ 的/ 通用/ 框架/ 本节/ 上文/ 提到/ 的/ 邻居/ 发现/ 协议/ 都/ 将/ 唤醒/ 调度/ 模式/ 以/ 矩阵/ 的/ 形式/ 表达/ ,/ 并/ 以/ 固定/ 的/ 模式/ 选择/ 唤醒/ 时隙/ 以/ 保证/ 邻居/ 发现/ ./ Jiang/ 等/ 人/ [/ 70/ -/ 71/ ]/ 对/ Quorum/ 协议/ 进行/ 了/ 推广/ ,/ 将/ 这些/ 模式/ 具有/ 非空/ 交集/ 的/ 特征/ 归结为/ Quorum/ 系统/ 的/ 旋转/ 闭包/ 特性/ (/ RotationClosureProperty/ )/ ,/ 提出/ 了/ 三类/ 典型/ 的/ Quorum/ 系统/ :/ GridQuorum/ 系统/ 、/ TorusQuorum/ 系统/ 和/ CyclicQuorum/ 系统/ ,/ 并/ 证明/ 了/ 各类/ Quorum/ 系统/ 相应/ 的/ 最优/ 近似/ 比为/ 2/ 、/ 槡/ 2/ 和/ 1/ ./ 为了/ 进一步/ 抽象/ 各类/ 基于/ Quorum/ 协议/ 的/ 调度/ 模式/ 和/ 协议/ 参数/ ,/ Sun/ 等/ 人/ [/ 54/ ]/ 提出/ 的/ Hello/ 协议/ 将/ 各类/ 协议/ 以/ 统一/ 的/ 通用/ 框架/ 描述/ ./ 在/ Hello/ 协议/ 中/ ,/ 唤醒/ 调度/ 周期/ 表示/ 为/ 一个/ c/ ×/ n/ 的/ 矩阵/ ,/ 其中/ c/ 为/ 一个/ 周期/ 的/ 长度/ ,/ n/ 为/ 周期/ 个数/ ./ 如图/ 9/ 所示/ ,/ 图中/ 的/ G/ 和/ P/ 分别/ 表示/ 守卫/ (/ Guardian/ )/ 时隙/ 和/ 巡查/ (/ Patrol/ )/ 时隙/ ,/ 每个/ 周期/ 的/ 第/ 0/ 个/ 时隙/ 为/ 守卫/ 时隙/ ,/ 每/ n/ 个/ 周期/ 中/ 第/ 1/ 个/ 周期/ 的/ [/ 1/ ../ c/ // 2/ ]/ 部分/ 时隙/ 为/ 巡查/ 时隙/ ./ 由于/ 守卫/ 时隙/ 和/ 巡查/ 时隙/ 覆盖/ 了/ 超过/ 一半/ 的/ 周期/ 长度/ ,/ 从而/ 保证/ 了/ 守卫/ 时隙/ 和/ 巡查/ 时隙/ 必然/ 会/ 在/ c/ ×/ n/ 的/ 时间段/ 内/ 重叠/ ./ 通过/ 调整/ c/ 和/ n/ 的/ 参数值/ ,/ 不同/ 的/ 确定性/ 邻居/ 发现/ 协议/ 可以/ 统一/ 变换/ 为/ Hello/ 协议/ (/ 允许/ 存在/ 冗余/ 的/ 唤醒/ 时隙/ )/ ./ 如图/ 10/ (/ a/ )/ 所示/ ,/ 将/ Quorum/ 协议/ 选取/ 的/ 行列/ 分别/ 平移/ 到/ 第/ 1/ 行第/ 1/ 列/ 就/ 可以/ 覆盖/ Hello/ 协议/ 的/ 唤醒/ 时隙/ ,/ 此时/ 第/ 1/ 个/ 周期/ 存在/ c/ // 2Page8/ 的/ 冗余/ 时隙/ ./ 如图/ 10/ (/ b/ )/ 所示/ ,/ 当/ 参数/ c/ =/ n/ 且/ 为/ 质数/ 时/ ,/ U/ -/ Connect/ 就是/ Hello/ 协议/ 的/ 一种/ 特殊/ 情况/ ./ 如图/ 10/ (/ c/ )/ 所示/ ,/ 当/ 参数/ n/ =/ c/ // 2/ 且/ 将/ 探测/ 时隙/ 移至/ 第/ 1/ 个/ 周期/ ,/ SearchLight/ 可以/ 变换/ 为/ Hello/ 协议/ 的/ 一种/ 特殊/ 情况/ ./ 如图/ 10/ (/ d/ )/ 所示/ ,/ C/ -/ Torus/ 协议/ 使用/ 了/ 与/ Hello/ 协议/ 唤醒/ 调度/ 方式/ 基本相同/ ,/ 然而/ Hello/ 协议/ 侧重于/ 灵活/ 的/ 参数/ 选取/ 以/ 满足/ 对称/ 和/ 非对称/ 情况/ 下/ 的/ 占空比/ 和/ 发现/ 延迟/ 的/ 平衡/ ./ 3.1/ ./ 4/ 组合/ 设计协议/ 上/ 文中/ 提及/ 的/ 邻居/ 发现/ 协议/ 逐步/ 减小/ 了/ 在/ 相同/ 发现/ 延迟/ 要求/ 下/ 所/ 需/ 的/ 占空比/ ./ 然而/ ,/ 它们/ 都/ 没有/ 达到/ 理论/ 上/ 最优/ 的/ 边界/ ./ Zheng/ 等/ 人/ [/ 56/ ]/ 研究/ 了/ 邻居/ 发现/ 协议/ 的/ 最优化/ 问题/ ,/ 明确提出/ 了/ 对称/ 邻居/ 发现/ 唤醒/ 调度/ 模式/ 的/ 理论/ 边界/ ,/ 并/ 提供/ 了/ 一种/ 构造/ 最优/ 唤醒/ 调度/ 模式/ 的/ 方法/ ./ 文中/ 证明/ 了/ 对称/ 邻居/ 发现/ 协议/ 在/ T/ 个/ 时隙/ 内/ 至少/ 有/ m/ 次/ 重叠/ 时/ ,/ 所/ 需/ 唤醒/ 的/ 时隙/ 个数/ 下界/ 为/ 槡/ mT/ ./ 作者/ 认为/ 对称/ 邻居/ 发现/ 问题/ 本质/ 上/ 等同于/ 集合/ 的/ 移位/ 自/ 相交/ 问题/ ,/ 根据/ 组合/ 设计/ 理论/ 中/ 的/ 差集/ 和/ 乘子/ 定理/ [/ 72/ ]/ 提供/ 了/ 一种/ 可行/ 的/ 最优/ 唤醒/ 调度/ 模式/ ./ 设/ T/ 为/ 唤醒/ 调度/ 周期/ ,/ k/ 为/ 一个/ 周期/ 内/ 的/ 唤醒/ 次数/ ,/ m/ 为/ 重叠/ 的/ 唤醒/ 时隙/ 个数/ ,/ 作者/ 称/ 这种/ 调度/ 模式/ 为/ (/ T/ ,/ k/ ,/ m/ )/ -/ 设计/ ./ 依据/ 乘子/ 定理/ ,/ 当/ 唤醒/ 次数/ k/ 为/ 质数/ 的/ 幂次/ 时/ ,/ 必然/ 存在/ 一种/ (/ k2/ +/ k/ +/ 1/ ,/ k/ +/ 1/ ,/ 1/ )/ -/ 设计/ ./ 图/ 11/ 展示/ 了/ 一种/ 满足/ 最优设计/ 条件/ 的/ (/ 7/ ,/ 3/ ,/ 1/ )/ -/ 设计/ ./ 在/ 一个/ 调度/ 周期/ 内/ ,/ 无论/ 该/ 模式/ 的/ 表/ 2/ 确定性/ 对称/ 邻居/ 发现/ 协议/ 参数/ 和/ 评价/ 标准/ 理论值/ 51/ %/ [/ 14/ ]/ Quorum/ [/ 51/ ]/ U/ -/ Connect/ [/ 46/ ]/ SearchLight/ [/ 52/ ]/ C/ -/ TorusQuorum/ [/ 53/ ]/ Hello/ [/ 54/ ]/ BlindDate/ [/ 43/ ]/ 组合/ 设计/ [/ 56/ ]/ 占空比/ 稍/ 大于/ 50/ %/ 2n/ -/ 1n22/ // t/ (/ h/ +/ w/ // 2/ )/ // wh/ (/ c/ // 2/ +/ n/ )/ // cn35sk/ +/ 1k2/ +/ k/ +/ 13.2/ 非对称/ 邻居/ 发现/ 在/ 实际/ 应用/ 中/ ,/ 不同/ 角色/ 的/ 节点/ 往往/ 具有/ 不同/ 的/ 唤醒/ 调度/ 占空比/ 需求/ ./ 例如/ ,/ 电源/ 供应/ 充足/ 的/ 节点/ 会/ 设置/ 较大/ 的/ 占空比/ 以/ 迅速/ 发现/ 邻居/ ,/ 这是/ 对称/ 邻居/ 发现/ 协议/ 所/ 无法/ 处理/ 的/ ./ 非对称/ 邻居/ 发现/ 协议/ 对/ 时隙/ 偏移/ 是/ 多少/ ,/ 它/ 总是/ 与/ 任意/ 邻居/ 有/ 至少/ 一个/ 重叠/ 的/ 唤醒/ 时隙/ ./ 组合/ 设计协议/ 达到/ 了/ 最优化/ 唤醒/ 调度/ 的/ 目的/ ,/ 其/ 占空比/ 为/ (/ k/ +/ 1/ )/ // (/ k2/ +/ k/ +/ 1/ )/ ./ 当/ 占空比/ 需求/ 为/ 1/ %/ 时/ ,/ 组合/ 设计协议/ 的/ 邻居/ 发现/ 延迟/ 约/ 为/ 10000/ 个/ 时隙/ ,/ 与/ Quorum/ 协议/ 相比/ 快/ 了/ 4/ 倍/ ./ 然而/ ,/ 从/ 软件/ 实现/ 角度/ 考虑/ ,/ 组合/ 设计协议/ 唤醒/ 调度/ 模式/ 需要/ 预先/ 计算/ ,/ 并/ 以/ 调度表/ 的/ 形式/ 写入/ 节点/ 存储空间/ ./ 若/ 占空比/ 要求/ 为/ 0.1/ %/ ,/ 则/ 每个/ 调度/ 值/ 需要/ 用/ 32/ 位/ 无/ 符号/ 整型/ 数/ 表示/ ,/ 那么/ 调度表/ 所/ 占用/ 的/ 空间/ 约/ 为/ 4K/ 字节/ ./ 若/ 需要/ 更/ 小/ 的/ 占空比/ 则/ 调度表/ 所/ 占用/ 的/ 空间/ 将/ 更/ 大/ ./ 因此/ ,/ 实际/ 中/ 需要/ 综合/ 考虑/ 占空比/ 和/ 传感器/ 节点/ 的/ 存储空间/ 以/ 决定/ 使用/ 哪/ 种/ 邻居/ 发现/ 算法/ ./ 表/ 2/ 比较/ 了/ 本节/ 中/ 涉及/ 的/ 确定性/ 对称/ 邻居/ 发现/ 协议/ 的/ 参数/ 和/ 评价/ 标准/ 的/ 理论值/ ./ )/ pp2/ 这类/ 问题/ 提出/ 了/ 有效/ 的/ 解决/ 方法/ ,/ 它/ 并/ 不/ 要求/ 每个/ 节点/ 有/ 相同/ 的/ 唤醒/ 调度/ 模式/ ,/ 每个/ 节点/ 的/ 占空比/ 可以/ 根据/ 需求/ 调节/ ./ 值得注意/ 的/ 是/ ,/ 对称/ 邻居/ 发现/ 可以/ 视为/ 非对称/ 邻居/ 发现/ 的/ 一种/ 特殊/ 情况/ ,/ 运用/ 互质/ 方法/ 或/ 倍数/ 方/ Page9/ 法等/ 手段/ 改造/ 对称/ 邻居/ 发现/ 协议/ ,/ 可以/ 将/ 其/ 应用/ 于/ 非对称/ 邻居/ 发现/ ./ 3.2/ ./ 1/ 互质/ 方法/ 非对称/ 邻居/ 发现/ 中/ ,/ 如何/ 选取/ 不同/ 长度/ 的/ 唤醒/ 调度/ 周期/ 以/ 保证/ 有/ 重叠/ 的/ 唤醒/ 时隙/ 是/ 一个/ 难题/ ./ 利用/ 孙子/ 定理/ (/ 又/ 称为/ 中国/ 剩余/ 定理/ )/ [/ 73/ ]/ 可以/ 有效/ 地/ 解决/ 该/ 问题/ ,/ 当/ 一对/ 节点/ 唤醒/ 调度/ 周期/ 互质/ 时/ ,/ 根据/ 孙子/ 定理/ 可以/ 保证/ 在/ 若干个/ 周期/ 后/ 唤醒/ 时隙/ 会/ 有/ 重叠/ ./ 图/ 12Disco/ 协议/ 由于/ 需要/ 保证/ 网络/ 中/ 任意/ 一对/ 节点/ 选取/ 的/ m/ 都/ 互质/ ,/ 因此/ 上述/ 方法/ 的/ 难点/ 在于/ 如何/ 合理/ 选取/ 唤醒/ 调度/ 周期/ m/ 的/ 值/ ./ 理论/ 上/ 可以/ 采用/ 预/ 分配/ 或/ 集中式/ 统一分配/ 的/ 方式/ ,/ 但/ 这会/ 增加/ 传感器/ 网络/ 部署/ 的/ 难度/ ./ 为了/ 保证/ 互质/ ,/ Disco/ 协议/ 规定/ m/ 必须/ 为/ 质数/ 以/ 保证/ 邻居/ 间/ m/ 的/ 互质/ 性/ ./ 由于/ 互质/ 性/ 约束/ ,/ 邻居/ 节点/ 不能/ 选取/ 相同/ 的/ m/ 值/ ./ 这/ 就/ 导致/ 了/ 该/ 方法/ 在/ 对称/ 的/ 特殊/ 情况/ 下/ 无法/ 使用/ ./ 为/ 解决/ 这一/ 问题/ ,/ Disco/ 要求/ 每个/ 节点/ 选取/ 一对/ 互不/ 相同/ 的/ 质数/ p1/ 、/ p2/ 为/ 周期/ 进行/ 唤醒/ 调度/ ,/ 即使/ 邻居/ 节点/ 选取/ 了/ 相同/ 的/ 质数/ 对/ (/ p1/ ,/ p2/ )/ ,/ 也/ 可以/ 保证/ 在/ p1p2/ 的/ 时间/ 内会/ 有/ 重叠/ ,/ 此时/ 的/ 占空比/ 为/ 两个/ 独立/ 的/ 调度/ 模式/ 占空比/ 之/ 和/ 1/ // p1/ +/ 1/ // p2/ ./ Disco/ 协议/ 进一步/ 探讨/ 了/ p1/ 、/ p2/ 的/ 选取/ 对/ 占空比/ 的/ 影响/ ./ 在/ 对称/ 的/ 情况/ 下/ ,/ 假设/ 应用/ 的/ 占空比/ 要求/ 为/ 2/ %/ ,/ 那么/ p1/ 、/ p2/ 可以/ 有/ 多种/ 选取/ 方式/ ,/ 例如/ ,/ 选择/ (/ 97/ ,/ 103/ )/ 或者/ (/ 53/ ,/ 883/ )/ 都/ 可以/ 使/ 占空比/ 为/ 2/ %/ ./ 然而/ (/ 97/ ,/ 103/ )/ 的/ 选取/ 方式/ 仅/ 需/ 97/ ×/ 103/ =/ 9991/ 个/ 时隙/ 的/ 发现/ 延迟/ ,/ 而/ (/ 53/ ,/ 883/ )/ 需要/ 46799/ 个/ 时隙/ 的/ 发现/ 延迟/ ./ 因此/ ,/ 在/ 满足/ 占空比/ 要求/ 的/ 前提/ 下/ ,/ 应/ 选取/ 使/ p1p2/ 尽可能/ 小/ 的/ 质数/ 对/ 以/ 使/ 邻居/ 发现/ 延迟/ 最小化/ ./ 在/ 非对称/ 的/ 情况/ 下/ ,/ Disco/ 认为/ 选择/ 接近/ 占空比/ 倒数/ 的/ 质数/ 作为/ p1/ 可以/ 最小化/ 邻居/ 发现/ 延迟/ ./ 例如/ ,/ 占空比/ 要求/ 仍然/ 为/ 2/ %/ ,/ 两个/ 相邻/ 的/ 节点/ 分别/ 选择/ (/ 53/ ,/ 883/ )/ ,/ (/ 57/ ,/ 409/ )/ 时/ 发现/ 延迟/ 为/ 53/ ×/ 57/ =/ 3021/ ,/ 远/ 小于/ 选择/ (/ 97/ ,/ 103/ )/ 作为/ 参数/ 时/ 的/ 发现/ 延迟/ ./ Disco/ 需要/ 根据/ 网络/ 的/ 对称性/ 分别/ 设定/ 协议/ 参/ Dutta/ 等/ 人/ [/ 41/ ]/ 提出/ 的/ Disco/ 协议/ 率先/ 根据/ 孙子/ 定理/ 设计/ 了/ 一种/ 非对称/ 邻居/ 发现/ 协议/ ./ 节点/ A/ 、/ B/ 的/ 唤醒/ 调度/ 周期/ 分别/ 为/ 正整数/ mA/ 、/ mB/ ,/ 且/ 节点/ 只/ 在/ 每个/ 周期/ 的/ 第/ 0/ 个/ 时隙/ 唤醒/ ./ 当/ mA/ ,/ mB/ 互质/ 时/ ,/ 根据/ 孙子/ 定理/ 可以/ 保证/ A/ 、/ B/ 必定会/ 在/ mAmB/ 的/ 时间/ 内有/ 一次/ 重叠/ 的/ 唤醒/ 时隙/ ./ 如图/ 12/ 所示/ ,/ 当/ mA/ =/ 3/ ,/ mB/ =/ 5/ 时/ ,/ 无论/ B/ 的/ 启动/ 时间/ 相对/ 于/ A/ 的/ 偏移/ 是/ 多少/ ,/ 在/ 15/ 个/ 时隙/ 内/ 必定会/ 出现/ 一次/ 重叠/ ./ 数/ ,/ 增加/ 了/ 实际/ 应用/ 的/ 部署/ 难度/ ./ 为了/ 能够/ 灵活/ 地/ 根据/ 应用/ 特性/ 指定/ 合适/ 的/ 参数/ ,/ Hello/ 协议/ [/ 54/ ]/ 提出/ 只/ 需/ 调整/ 参数/ c/ 就/ 可以/ 针对/ 网络/ 的/ 对称/ 程度/ 作出/ 相应/ 的/ 优化/ ./ 如图/ 13/ 所示/ ,/ DC/ 为/ 所/ 需/ 的/ 占空比/ ,/ 当/ c/ 接近/ 于/ 1/ // DC/ 时/ ,/ 可以/ 达到/ 非对称/ 情况/ 下/ 最优/ 的/ 发现/ 延迟/ ;/ 当/ c/ 接近/ 于/ 2/ // DC/ 时/ ,/ 可以/ 达到/ 对称/ 情况/ 下/ 最优/ 的/ 发现/ 延迟/ ./ Disco/ 协议/ 为/ 邻居/ 发现/ 协议/ 的/ 设计/ 提供/ 了/ 一种/ 新颖/ 的/ 思路/ ,/ 但是/ 它/ 为了/ 解决/ 对称/ 的/ 特殊/ 情况/ 付出/ 了/ 较大/ 的/ 代价/ ,/ 采用/ 两个/ 质数/ 作为/ 唤醒/ 调度/ 周期/ 的/ 方法/ 使/ 占空比/ 增大/ 了/ 约/ 一倍/ ./ 在/ 对称/ 的/ 情况/ 下/ ,/ Disco/ 相对/ 于/ 最优/ 调度/ 的/ 近似/ 比仅/ 为/ 2/ ,/ 还/ 存在/ 进一步/ 改良/ 的/ 空间/ ./ U/ -/ Connect/ ,/ SearchLight/ 等/ 协议/ 也/ 考虑/ 了/ 对/ 非对称/ 邻居/ 发现/ 情况/ 的/ 处理/ ,/ 并/ 提出/ 了/ 比/ Disco/ 更/ 简便/ 的/ 方法/ ./ 相对/ 于/ Disco/ ,/ 由于/ 以上/ 方法/ 都/ 选取/ 时隙/ 矩阵/ 中/ 的/ 一列/ 作为/ 锚点/ 时隙/ ,/ 因此/ 只/ 需要/ 将/ 唤醒/ 调度/ 的/ 周期/ 设/ 为/ 质数/ p/ 就/ 可以/ 处理/ 非对称/ 的/ 情况/ ,/ 同时/ 保留/ 了/ 在/ 对称/ 情况/ 下/ 必定/ 有/ 重叠/ 时隙/ 的/ 特性/ ./ Page10Disco/ 等/ 协议/ 都/ 使用/ 质数/ 以/ 保证/ 互质/ 性/ ./ 然而/ ,/ 1000/ 以内/ 仅/ 有/ 不到/ 2/ %/ 的/ 整数/ 是/ 质数/ ,/ 使/ 参数/ 的/ 选择/ 范围/ 受到/ 了/ 较大/ 的/ 限制/ ./ Chen/ 等/ 人/ [/ 55/ ]/ 提出/ Todis/ 协议/ ,/ 选取/ 3/ 个/ 连续/ 的/ 奇数/ 三元组/ (/ n/ -/ 2/ ,/ n/ ,/ n/ +/ 2/ )/ 作为/ 唤醒/ 调度/ 的/ 参数/ 就/ 可以/ 保证/ 互质/ 性/ ,/ 同时/ 显著/ 增加/ 了/ 可选/ 的/ 参数/ 空间/ ./ 虽然/ 该/ 三元组/ 的/ 互质/ 性/ 并/ 不/ 对/ 所有/ 的/ 奇数/ n/ 成立/ ,/ 但/ 作者/ 论证/ 了/ 最小/ 的/ 非/ 互质/ 三元组/ 为/ (/ 1600023/ ,/ 1600025/ ,/ 1600027/ )/ 和/ (/ 2046915/ ,/ 2046917/ ,/ 2046919/ )/ ,/ 这/ 两组/ 三元组/ 对应/ 的/ 占空比/ 远远/ 小于/ 实际/ 应用/ 中/ 可能/ 采用/ 的/ 占空比/ ,/ 因此/ 可以/ 认为/ 任意/ 两组/ 由/ 3/ 个/ 连续/ 奇数/ 组成/ 的/ 三元组/ 所/ 确定/ 的/ 唤醒/ 调度/ 模式/ 必定/ 存在/ 互相/ 重叠/ 的/ 时隙/ ./ 由于/ Todis/ 协议/ 仅/ 需要/ 参数/ n/ 为/ 奇数/ ,/ 在/ 给定/ 占空比/ 需求/ 时/ ,/ Todis/ 可以/ 得到/ 比/ Disco/ 更好/ 的/ 占空比/ 粒度/ ./ 3.2/ ./ 2/ 倍数/ 方法/ 互质/ 方法/ 虽然/ 为/ 大多数/ 邻居/ 发现/ 协议/ 所用/ ,/ 然而/ 它/ 并/ 不是/ 唯一/ 可以/ 解决/ 非对称/ 邻居/ 发现/ 问题/ 的/ 方法/ ./ SearchLight/ 协议/ [/ 42/ ]/ 提出/ 了/ 倍数/ 方法/ ,/ 邻居/ 节点/ 间/ 的/ 唤醒/ 调度/ 周期/ 具有/ 倍数/ 关系/ ./ 假设/ 节点/ A/ 、/ B/ 的/ 周期/ 分别/ 为/ T/ 、/ nT/ ,/ 其中/ n/ 为/ 正整数/ ,/ 那么/ 唤醒/ 调度/ 周期/ 较/ 短/ 的/ 节点/ A/ 重复/ n/ 次/ 调度/ 周期/ 后/ 便/ 与/ 节点/ B/ 的/ 唤醒/ 调度/ 周期/ 等长/ ./ 如图/ 14/ 所示/ ,/ 只/ 需要/ 保证/ 在/ nT/ 的/ 时间/ 内/ A/ 和/ B/ 有/ 重叠/ 的/ 唤醒/ 时隙/ ,/ 就/ 可以/ 确保/ 两者/ 互相/ 发现/ ./ 此外/ ,/ 作者/ 提出/ 周期/ 长度/ 应从/ 正整数/ n/ 的/ 幂次/ 集合/ {/ n/ ,/ n2/ ,/ n3/ ,/ …/ }/ 中/ 按/ 占空比/ 需求/ 选取/ ,/ 以/ 保证/ 所有/ 节点/ 的/ 唤醒/ 调度/ 周期/ 都/ 是/ 倍数/ 关系/ ./ 倍数/ 方法/ 本质/ 上/ 是/ 将/ 非对称/ 问题/ 转化/ 为/ 对称/ 问题/ 进行/ 解决/ ,/ 周期/ 较长/ 的/ 唤醒/ 调度/ 中/ 必须/ 连续/ 覆盖/ 长度/ 为/ T/ 的/ 时隙/ 以/ 保证/ 邻居/ 发现/ 的/ 确定性/ ./ 3.2/ ./ 3Quorum/ 方法/ 3.1/ ./ 2/ 节中/ 提到/ 的/ Quorum/ 协议/ [/ 51/ ]/ 仅能/ 处理/ 对称/ 邻居/ 发现/ ,/ Chao/ 等/ 人/ [/ 74/ ]/ 将/ Quorum/ 协议/ 扩展/ 至/ 非对称/ 情况/ ,/ 提出/ 了/ AQEC/ (/ AdaptiveQuorum/ -/ BasedEnergyConserving/ )/ 协议/ ,/ Quorum/ 的/ 大小/ 可以/ 根据/ 节点/ 对/ 能耗/ 需求/ 的/ 不同/ 来/ 进行/ 设置/ ,/ 但/ 仍然/ 采用/ 选取/ 时隙/ 矩阵/ 中/ 一行/ 一列/ 的/ 方法/ 决定/ 调度/ 周期/ 的/ 唤醒/ 时隙/ ./ 作者/ 证明/ 了/ 该/ 方法/ 仍然/ 可以/ 保证/ 邻居/ 发现/ 的/ 确定性/ ,/ 确保/ 了/ 非对称/ 情况/ 下/ 的/ 唤醒/ 时隙/ 有/ 重叠/ ./ Chen/ 等/ 人/ [/ 55/ ]/ 提出/ 了/ Hedis/ 协议/ ,/ 将/ 调度/ 周期/ 设置/ 为/ n/ (/ n/ -/ 1/ )/ 的/ 矩阵/ ,/ 其/ 唤醒/ 调度/ 定义/ 如下/ :/ ψ/ (/ t/ )/ =/ 例如/ ,/ 当/ n/ =/ 5/ 和/ n/ =/ 7/ 时/ ,/ Hedis/ 协议/ 的/ 调度/ 方式/ 如图/ 15/ 所示/ ./ 若/ 一对/ 节点/ 具有/ 不同/ 的/ 参数/ n/ ,/ m/ ,/ 作者/ 证明/ 了/ 只要/ n/ ,/ m/ 具有/ 相同/ 的/ 奇偶性/ 就/ 可以/ 保证/ 互相/ 发现/ ,/ 并且/ 平均/ 发现/ 延迟/ 为/ O/ (/ nm/ )/ ./ 3.2/ ./ 4/ 组合/ 设计/ 方法/ 组合/ 设计/ 方法/ 可以/ 得到/ 最优/ 的/ 调度/ 模式/ ,/ 因此/ 研究/ 非对称/ 发现/ 的/ 最优/ 组合/ 设计/ 具有/ 一定/ 的/ 理论/ 指导意义/ ./ Zheng/ 等/ 人/ [/ 56/ ]/ 认为/ ,/ 在/ 非对称/ 的/ 情况/ 下/ ,/ 设计/ 最优/ 唤醒/ 调度/ 问题/ 可以/ 归结为/ 图/ 的/ 顶点/ 覆盖/ 问题/ ./ 然而/ ,/ 寻找/ 图/ 的/ 最优/ 顶点/ 覆盖/ 问题/ 是/ NP/ 完全/ 问题/ ,/ 目前/ 还/ 没有/ 相应/ 的/ 算法/ 可以/ 在/ 多项式/ 时间/ 内/ 解决/ 该/ 问题/ ./ 此外/ ,/ 该/ 算法/ 为/ 集中式/ 算法/ ,/ 需要/ 知道/ 全网/ 的/ 拓扑/ 信息/ ,/ 通信/ 代价/ 较/ 高/ ,/ 这/ 在/ 实际/ 的/ 网络/ 中/ 通常/ 难以实现/ ./ Lai/ 等/ 人/ [/ 75/ -/ 76/ ]/ 将/ 对称/ 组合/ 设计/ 方法/ 加以/ 扩展/ ,/ 使/ 其/ 可以/ 应用/ 到/ 仅/ 有/ 两种/ 不同/ 占空比/ 需求/ 的/ 非对称/ 情况/ 中/ ./ 作者/ 将/ 文献/ [/ 56/ ]/ 中/ 提出/ 的/ (/ N/ ,/ k/ ,/ λ/ )/ 差集/ 扩展/ 为/ 适用/ 于/ 非对称/ 情况/ 下/ 的/ (/ N/ ,/ k/ ,/ M/ ,/ l/ )/ 差集/ ,/ 增加/ 的/ 参数/ M/ 为/ 非对称/ 节点/ 对/ 中/ 占空比/ 较/ 高/ 的/ 节点/ 在/ 一个/ 周期/ 内/ 唤醒/ 的/ 时隙/ 个数/ ./ 满足/ (/ N/ ,/ k/ ,/ M/ ,/ l/ )/ 差集/ 的/ 设计/ 可以/ 确保/ 异构/ 旋转/ 闭包/ 特性/ ,/ 即/ 在/ 非对称/ 的/ 情况/ 下/ 不同/ 调度/ 模式/ 的/ 节点/ 可以/ 互相/ 发现/ ./ 文中/ 提出/ 了/ 两种/ 满足/ 异构/ 旋转/ 闭包/ 特性/ 的/ 非对称/ 邻居/ 发现/ 唤醒/ 调度/ 模式/ ,/ 分别/ 为/ 栅格/ Quorum/ 模式/ 和/ 循环/ Page11Quorum/ 模式/ ./ 栅格/ Quorum/ 模式/ 与/ 文献/ [/ 74/ ]/ 中/ 提出/ 的/ AQEC/ 协议/ 基本相同/ ./ 与/ 栅格/ Quorum/ 模式/ 相比/ ,/ 循环/ Quorum/ 模式/ 可以/ 用/ 更/ 少/ 的/ 唤醒/ 时隙/ 保证/ 异构/ 旋转/ 闭包/ 特性/ ,/ 从而/ 使/ 节点/ 的/ 占空比/ 更/ 低/ ./ 在/ 循环/ Quorum/ 模式/ 中/ ,/ 两个/ 节点/ 各自/ 的/ 调度/ 模式/ 需要/ 满足/ 旋转/ 闭包/ 特性/ ,/ 即/ 对于/ 任意/ 的/ 相对/ 偏移/ 它们/ 的/ 调度/ 模式/ 都/ 会/ 有/ 非空/ 交集/ ./ 根据/ 对称/ 组合/ 设计/ [/ 56/ ]/ 中/ 提出/ 的/ 方法/ ,/ 两个/ 节点/ 可以/ 分别/ 得到/ 满足/ (/ n/ ,/ k/ ,/ λ/ )/ 差集/ 的/ 多种/ 调度/ 模式/ ,/ 作者/ 将/ 两者/ 的/ 调度/ 模式/ 进行/ 组合/ ,/ 并/ 扩展/ 较/ 短/ 的/ 周期/ 使/ 之/ 与/ 较/ 长/ 的/ 周期/ 等/ 长/ ,/ 随后/ 验证/ 扩展/ 后/ 的/ 两个/ 调度/ 周期/ 是否/ 存在/ 重叠/ ,/ 以/ 筛选/ 出/ 符合/ 异构/ 旋转/ 闭包/ 特性/ 的/ 调度/ 周期/ ./ 该/ 方法/ 可以/ 达到/ 理论/ 上/ 的/ 最优/ 解/ ,/ 但/ 由于/ 筛选/ 算法/ 时间/ 复杂度/ 和/ 空间/ 复杂度/ 较/ 高/ ,/ 并/ 不适/ 用于/ 实际/ 计算/ 和/ 存储资源/ 受限/ 的/ 传感器/ 节点/ ./ 4/ 随机/ 邻居/ 发现/ 随机/ 邻居/ 发现/ 协议/ [/ 34/ ,/ 57/ ,/ 77/ -/ 78/ ]/ 使用/ 随机/ 广播/ 邻居/ 通告/ 消息/ 的/ 方式/ 发现/ 邻居/ ./ 随机/ 邻居/ 发现/ 的/ 性能/ 问题/ 值得/ 关注/ ./ 从/ 直觉/ 上/ 看/ ,/ 采用/ 随机/ 发送/ 的/ 盲目性/ 较大/ ,/ 其/ 发现/ 邻居/ 的/ 效率/ 未必/ 比/ 确定性/ 邻居/ 发现/ 高/ ./ 然而/ ,/ 根据/ 生日/ 悖论/ (/ BirthdayParadox/ )/ [/ 79/ ]/ ,/ 随机/ 邻居/ 发现/ 的/ 效果/ 远比/ 想象/ 中好/ ./ 生日/ 悖论/ 表述/ 如下/ :/ 如果/ 一个/ 房间/ 里/ 有/ 23/ 个/ 或/ 23/ 个/ 以上/ 的/ 人/ ,/ 那么/ 至少/ 有/ 两个/ 人生/ 日/ 相同/ 的/ 概率/ 大于/ 50/ %/ ;/ 在/ 50/ 个人/ 中有/ 相同/ 生日/ 的/ 概率/ 高达/ 97/ %/ ./ 这/ 两个/ 概率/ 之高/ 出乎/ 绝大多数/ 人/ 的/ 意料/ ,/ 但/ 可以/ 论证/ 它/ 完全/ 是/ 正确/ 的/ ./ 当/ 房间/ 里/ 有/ n/ 个人/ 时/ ,/ 至少/ 有/ 两个/ 人生/ 日/ 相同/ 的/ 概率/ 为/ p/ (/ n/ )/ =/ 1/ -/ p/ 其/ 函数/ 如图/ 16/ 所示/ ,/ 横轴/ 表示/ 房间/ 中/ 的/ 人数/ ,/ 纵轴/ 表示/ 至少/ 有/ 两/ 人生/ 日/ 相同/ 的/ 概率/ ./ 图/ 16/ 生日/ 悖论/ 中/ 至少/ 有/ 两/ 人生/ 日/ 相同/ 的/ 概率/ McGlynn/ 等/ 人/ [/ 57/ ]/ 将/ 生日/ 悖论/ 的/ 特性/ 应用/ 于/ 邻居/ 发现/ 中/ ,/ 提出/ 了/ Birthday/ 协议/ ./ 假设/ 一段时间/ 可以/ 分为/ n/ 个/ 时隙/ ,/ 两个/ 邻居/ 节点/ 随机/ 选择/ k/ 个/ 时隙/ 醒来/ ,/ 那么/ 在/ 这/ n/ 个/ 时隙/ 中/ 至少/ 有/ 一次/ 在/ 同一个/ 时隙/ 醒来/ 的/ 概率/ 为/ 例如/ ,/ 在/ 100/ 个/ 时隙/ 内有/ 16/ 个/ 时隙/ 为/ 唤醒/ 时隙/ ,/ 每/ 对/ 邻居/ 间/ 互现/ 发现/ 的/ 概率/ 为/ Q/ (/ 100/ ,/ 16/ )/ ≈/ 0.95/ ,/ 而/ 此时/ 占空比/ 仅为/ 16/ %/ ./ 为了/ 避免/ 两个/ 节点/ 在/ 同一个/ 时隙/ 内/ 发送/ 消息/ 而/ 产生/ 冲突/ ,/ Birthday/ 协议/ 进一步/ 将/ 每个/ 时隙/ 分为/ 3/ 种/ 状态/ :/ 发送/ 状态/ 、/ 监听/ 状态/ 和/ 节能/ 状态/ ,/ 每个/ 状态/ 所/ 对应/ 的/ 概率/ 为/ pt/ ,/ pl/ ,/ 1/ -/ pt/ -/ pl/ ./ 对于/ 网络/ 中/ 的/ 任意/ 一对/ 节点/ A/ 、/ B/ ,/ 当且/ 仅/ 当/ A/ 处于/ 发送/ 状态/ 且/ B/ 处于/ 监听/ 状态/ 时/ ,/ 才/ 可以/ 称为/ “/ A/ 发现/ 了/ B/ ”/ ./ 因此/ ,/ 每个/ 时隙/ 内/ A/ 发现/ B/ 的/ 概率/ 为/ plpt/ ,/ n/ 个/ 时隙/ 内/ A/ 至少/ 发现/ 一次/ B/ 的/ 概率/ 为/ Birthday/ 协议/ 在/ 初始/ 阶段/ 可以/ 快速/ 地/ 发现/ 大部分/ 邻居/ ,/ 相比/ 确定性/ 协议/ 能/ 获得/ 更/ 低/ 的/ 平均/ 发现/ 延迟/ ,/ 文献/ [/ 34/ ,/ 80/ ]/ 对此/ 进行/ 了/ 更/ 深入/ 的/ 分析/ ./ 然而/ ,/ Birthday/ 协议/ 在/ 多个/ 邻居/ 发现/ 消息/ 竞争/ 发送/ 时/ ,/ 产生/ 冲突/ 的/ 节点/ 仍然/ 采用/ 完全/ 随机/ 的/ 方式/ 继续/ 进行/ 邻居/ 发现/ ./ Vazquez/ -/ Gallego/ 等/ 人/ [/ 81/ ]/ 使用/ 反馈/ 机制/ 通知/ 产生/ 冲突/ 的/ 节点/ 在/ 下/ 一个/ 竞争/ 窗口/ 中/ 重复/ 随机/ 邻居/ 发现/ ,/ 而/ 没有/ 产生/ 冲突/ 的/ 节点/ 被/ 认为/ 已/ 发现/ ,/ 不必/ 在/ 后续/ 时隙/ 中/ 再次/ 发送/ 邻居/ 发现/ 消息/ ,/ 从而/ 减少/ 了/ 冲突/ 发生/ 的/ 概率/ ,/ 同时/ 降低/ 了/ 发现/ 延迟/ 和/ 通信/ 能耗/ ./ Chen/ 等/ 人/ [/ 58/ ]/ 提出/ 了/ 基于/ 质/ 数集/ 的/ 邻居/ 发现/ 协议/ PSBA/ ,/ 减少/ 了/ Birthday/ 协议/ 的/ 平均/ 发现/ 延迟/ ./ PSBA/ 根据/ 应用/ 需要/ 的/ 占空比/ 选取/ 质/ 数集/ I/ ,/ 并/ 随机/ 地/ 从/ I/ 中/ 选取/ 一个/ 质数/ 作为/ 当前/ 的/ 唤醒/ 周期/ ./ 在/ 重复/ 以该/ 质数/ 为/ 周期/ 调度/ α/ 次后/ ,/ 再次/ 在/ I/ 中/ 随机/ 地/ 选取/ 另/ 一个/ 质数/ 作为/ 下/ 一个/ 唤醒/ 周期/ ,/ 如此/ 循环/ 进行/ ./ PSBA/ 利用/ 质数/ 间隔/ 以/ 提高/ 节点/ 唤醒/ 时隙/ 相遇/ 的/ 可能性/ ,/ 当/ 占空比/ 需求/ 为/ 1/ %/ 时/ ,/ PSBA/ 理论/ 上/ 可以/ 在/ 10104/ 个/ 时隙/ 内/ 发现/ 80.7/ %/ 的/ 邻居/ ,/ 而/ 在/ 相同/ 的/ 条件/ 下/ ,/ Birthday/ 仅能/ 发现/ 63.9/ %/ 的/ 邻居/ ./ 随机/ 发现/ 协议/ 的/ 优点/ 是/ 原理/ 简单/ 易/ 实现/ ,/ 网络/ 中/ 的/ 节点/ 可以/ 根据/ 自身/ 的/ 能力/ 自由/ 地/ 选择/ 合适/ 的/ 占/ Page12/ 空比/ ,/ 并且/ 不/ 需要/ 考虑/ 节点/ 的/ 唤醒/ 调度/ 是否/ 对称/ ./ 同时/ ,/ 它/ 的/ 平均/ 发现/ 延迟/ 一般/ 优于/ 确定性/ 邻居/ 发现/ 协议/ ./ 然而/ ,/ 随机/ 发现/ 协议/ 的/ 发现/ 延迟/ 没有/ 理论/ 边界/ ./ 从图/ 16/ 中/ 可以/ 看到/ 当/ 邻居/ 发现/ 概率/ 到达/ 95/ %/ 以上/ 时/ ,/ 出现/ 了/ 增长速度/ 十分/ 缓慢/ 的/ 长尾/ 现象/ ,/ 为/ 发现/ 最后/ 仅存/ 的/ 少数/ 邻居/ 花费/ 了/ 大量/ 时间/ ./ SearchLight/ 协议/ [/ 42/ ]/ 结合/ 了/ 两者/ 的/ 优点/ ,/ 将/ 探测/ 时隙/ 随机化/ 以/ 减少/ 平均/ 发现/ 延迟/ ,/ 同时/ 保证/ 最坏/ 发现/ 延迟/ 有/ 确定/ 的/ 边界/ ./ 5/ 协作/ 式/ 邻居/ 发现/ 前/ 文中/ 提及/ 的/ 邻居/ 发现/ 协议/ 都/ 独立/ 地/ 发现/ 邻居/ 节点/ ,/ 并不需要/ 与/ 其他/ 节点/ 协作/ ./ 然而/ ,/ 邻居/ 关系/ 往往/ 存在/ 一定/ 的/ 传递性/ :/ 若/ A/ 是/ B/ 的/ 邻居/ 且/ B/ 是/ C/ 的/ 邻居/ ,/ 那么/ A/ 有/ 很大/ 的/ 可能/ 也/ 是/ C/ 的/ 邻居/ ./ 这/ 一点/ 在/ 稠密/ 网络/ 中/ 尤其/ 显著/ ,/ 由于/ 节点/ 间/ 距离/ 较近/ ,/ 在/ 节点/ 的/ 通信/ 范围/ 内会/ 有/ 较/ 多/ 的/ 节点/ 可以/ 互相/ 通信/ ,/ 也/ 就/ 有/ 更/ 大/ 的/ 可能性/ 满足/ 邻居/ 传递性/ ./ 协作/ 式/ 邻居/ 发现/ 协议/ 利用/ 这个/ 特性/ 提高/ 邻居/ 发现/ 的/ 效率/ ,/ 利用/ 已知/ 邻居/ 发现/ 潜在/ 邻居/ ./ Chen/ 等/ 人/ [/ 82/ -/ 83/ ]/ 提出/ 了/ 一种/ 基于/ 组/ 的/ 协作/ 式/ 邻居/ 发现/ 算法/ ,/ 通信/ 范围/ 内/ 已/ 互相/ 发现/ 的/ 节点/ 称为/ 组/ ./ 当组/ 中/ 的/ 任意/ 节点/ 发现/ 了/ 新/ 的/ 邻居/ 时/ ,/ 该/ 节点/ 主动/ 将/ 本地/ 存储/ 的/ 邻居/ 信息/ 发送给/ 新/ 节点/ ./ 新/ 节点/ 利用/ 得到/ 的/ 邻居/ 唤醒/ 调度/ 信息/ 准确/ 地/ 预测/ 邻居/ 节点/ 唤醒/ 的/ 时刻/ ,/ 并/ 在/ 该/ 时刻/ 唤醒/ 以便/ 接收/ 邻居/ 通告/ 消息/ ,/ 从而/ 大大减少/ 了/ 发现/ 延迟/ ./ 采用/ 组/ 协作/ 式/ 发现/ 时/ ,/ 节点/ i/ 发现/ 所有/ 组内/ n/ 个/ 节点/ 所/ 需/ 的/ 最大/ 时间/ tg/ 为/ 其中/ Eg/ (/ t/ )/ 为/ 节点/ i/ 发现/ 至少/ 一个组/ 内/ 节点/ 的/ 期望/ 时间/ ,/ 定义/ 如下/ :/ Eg/ (/ t/ )/ =/ ∫/ 其中/ Tmin/ ,/ i/ =/ min/ (/ Ti/ ,/ 0/ ,/ Ti/ ,/ 1/ ,/ …/ ,/ Ti/ ,/ n/ -/ 1/ )/ ,/ 而/ Pij/ (/ t/ )/ 为/ 组内/ 节点/ i/ ,/ j/ 在/ t/ 时刻/ 前/ 互相/ 发现/ 的/ 概率/ ./ 然而/ ,/ 由于/ 组内/ 节点/ 本地/ 邻居/ 表中/ 的/ 邻居/ 并不一定/ 都/ 是/ 新/ 节点/ 的/ 邻居/ ,/ 因此/ ,/ 对于/ 那些/ 不是/ 新/ 节点/ 邻居/ 的/ 节点/ 信息/ ,/ 一方面/ 导致/ 发送/ 方/ 浪费/ 一部分/ 额外/ 的/ 通信/ 能量/ ,/ 另一方面/ 也/ 会/ 造成/ 新/ 节点/ 不必要/ 的/ 唤醒/ ./ 针对/ 该/ 问题/ ,/ 作者/ 进一步/ 利用/ 时空/ 因素/ 对/ 本地/ 邻居/ 信息/ 进行/ 筛选/ ,/ 仅/ 选取/ 空间/ 上/ 位置/ 接近/ 或/ 时间/ 上/ 近期/ 活跃/ 的/ 节点/ 作为/ 新/ 节点/ 可能/ 的/ 邻居/ ,/ 从而/ 提高/ 了/ 新/ 节点/ 发现/ 邻居/ 的/ 效率/ ,/ 并/ 减少/ 了/ 传输/ 邻居/ 信息/ 的/ 开销/ ./ Acc/ [/ 61/ ]/ 和/ EQS/ [/ 84/ ]/ 协议/ 也/ 使用/ 了/ 类似/ 的/ 协作/ 式/ 方法/ ,/ 在/ 邻居/ 通告/ 消息/ 中/ 加入/ 自身/ 和/ 已知/ 邻居/ 的/ 唤醒/ 调度/ 信息/ 以/ 加快/ 发现/ 间接/ 邻居/ 的/ 速度/ ./ Cohen/ 等/ 人/ [/ 60/ ]/ 提出/ 将/ 已/ 互相/ 发现/ 的/ 邻居/ 通过/ 直接/ 或/ 间接/ 相连/ 的/ 方式/ 组成/ 为/ 一个/ 段/ (/ Segment/ )/ ,/ 只要/ 段/ 中/ 的/ 任意/ 节点/ 发现/ 了/ 新/ 的/ 邻居/ ,/ 那么/ 它/ 就/ 会/ 通知/ 段/ 中/ 其他/ 节点/ 启动/ 邻居/ 发现/ 过程/ ,/ 以/ 确定/ 它/ 是否/ 为/ 自己/ 的/ 直接/ 邻居/ ./ 在/ 这种/ 方法/ 中/ ,/ 段/ 中/ 的/ 节点/ 应当/ 以多大/ 的/ 时间/ 间隔/ 发现/ 新/ 邻居/ 是/ 设计/ 的/ 难点/ ./ 若/ 间隔/ 过/ 小/ ,/ 那么/ 在/ 稀疏/ 网络/ 中/ 节点/ 很/ 可能/ 在/ 空闲/ 监听/ 上/ 浪费/ 过多/ 的/ 时间/ ;/ 反之/ ,/ 在/ 稠密/ 网络/ 中/ 发现/ 邻居/ 的/ 延迟/ 可能/ 会/ 过于/ 漫长/ ./ 作者/ 提出/ 了/ 3/ 种/ 方法/ 估计/ 待/ 发现/ 节点/ 的/ 邻居/ 密度/ :/ (/ 1/ )/ 使用/ 段/ 中/ 节点/ 的/ 平均/ 邻居/ 数/ 作为/ 待/ 发现/ 节点/ 的/ 邻居/ 密度/ ;/ (/ 2/ )/ 使用/ 当前/ 正在/ 作/ 邻居/ 发现/ 的/ 节点/ 其/ 自身/ 邻居/ 数/ 作为/ 待/ 发现/ 节点/ 的/ 邻居/ 密度/ ;/ (/ 3/ )/ 综合/ 以上/ 两种/ 方式/ ,/ 分别/ 计算/ 出/ 密度/ 并/ 赋予/ 恰当/ 的/ 权重/ ,/ 相加/ 后/ 得出/ 的/ 值/ 作为/ 待/ 发现/ 节点/ 的/ 邻居/ 密度/ ./ 作者/ 使用/ 最小/ 均/ 方差/ 方法/ 以/ 比较/ 3/ 种/ 方法/ 的/ 准确性/ ./ 在/ 节点/ 均匀分布/ 的/ 情况/ 下/ ,/ 3/ 种/ 方法/ 的/ 最小/ 均/ 方差/ 分别/ 为/ :/ (/ 1/ )/ MSE1/ =/ Var/ (/ X/ )/ ;/ (/ 2/ )/ MSE2/ ≈/ 0.84/ Var/ (/ X/ )/ ;/ (/ 3/ )/ MSE3/ ≈/ 0.66/ Var/ (/ X/ )/ ./ 其中/ X/ 为/ 节点/ 邻居/ 数/ 的/ 随机变量/ ./ 由此可见/ ,/ 第/ 3/ 种/ 方法/ 在/ 均匀分布/ 的/ 情况/ 下/ 可以/ 得到/ 最好/ 的/ 准确性/ ./ 本/ 节前/ 文/ 所述/ 的/ 协作/ 式/ 发现/ 协议/ 都/ 需要/ 通过/ 对/ 邻居/ 发现/ 消息/ 作出/ 响应/ 以/ 达到/ 双向/ 邻居/ 发现/ ,/ 然而/ ,/ 响应/ 包会/ 增加/ 通信/ 开销/ ,/ 并且/ 增加/ 了/ 与/ 邻居/ 通告/ 消息/ 冲突/ 的/ 可能性/ ./ 此外/ ,/ 由于/ 存在/ 节点/ 间/ 仅/ 具有/ 单向/ 通信/ 链路/ 的/ 可能性/ [/ 85/ ]/ ,/ 所以/ 邻居/ 通告/ 响应/ 消息/ 在/ 这种/ 情况/ 下/ 是/ 无效/ 的/ ./ Purohit/ 等/ 人/ [/ 59/ ]/ 提出/ 了/ WiFlock/ 协议/ 认为/ 不/ 需要/ 邻居/ 发现/ 响应/ 消息/ 也/ 可以/ 达到/ 类似/ 的/ 邻居/ 发现/ 的/ 效果/ ,/ 从而/ 避免/ 了/ 传输/ 响应/ 消息/ 的/ 开销/ ./ WiFlock/ 以/ 单向/ 发现/ 作为/ 基本操作/ ,/ 将/ 邻居/ 发现/ 和/ 组/ 维护/ 过程/ 相结合/ ,/ 在/ 信标/ 消息/ 中加/ 了/ 邻居/ 组/ 信息/ ,/ 并/ 使用/ 协作/ 式/ 同步/ 侦听/ 和/ 空间/ 均分/ 传输/ 机制/ 实现/ 了/ 更/ 小/ 的/ 发现/ 延迟/ 和/ 更/ 快/ 的/ 组/ 信息/ 维护/ ./ 6/ 按/ 需/ 邻居/ 发现/ 前/ 文/ 提及/ 的/ 邻居/ 发现/ 协议/ 自/ 节点/ 启动/ 后/ 一直/ 使用/ 固定/ 的/ 模式/ 发现/ 邻居/ ,/ 而/ 决定/ 发现/ 模式/ 的/ 相关/ 全局/ 参数/ 已经/ 在/ 网络/ 部署/ 前/ 根据/ 发现/ 延迟/ 和/ 占空比/ 需/ Page13/ 求/ 确定/ ,/ 在/ 网络/ 运行/ 过程/ 中/ 始终保持/ 不变/ ./ 然而/ ,/ 这/ 类/ 协议/ 并/ 不能/ 很/ 好/ 地/ 处理/ 以下/ 两种/ 情形/ ./ (/ 1/ )/ 上层/ 网络协议/ 对/ 不同/ 阶段/ 邻居/ 信息/ 的/ 实时性/ 要求/ 不同/ ./ 例如/ 在/ 环境监测/ 应用/ 中/ ,/ 上层/ 协议/ 通常/ 希望/ 传感器/ 节点/ 在/ 启动/ 阶段/ 邻居/ 发现/ 服务/ 时能/ 尽快/ 提供/ 邻居/ 信息/ 以/ 建立/ 到/ 汇聚/ 节点/ 的/ 通路/ ,/ 从而/ 及时/ 上报/ 采集/ 到/ 的/ 感知/ 数据/ ./ 而/ 在/ 网络/ 的/ 稳定期/ ,/ 由于/ 网络拓扑/ 已经/ 趋于稳定/ ,/ 上层/ 协议/ 对/ 邻居/ 信息/ 的/ 实时性/ 要求/ 并/ 没有/ 启动/ 阶段/ 那么/ 迫切/ ./ (/ 2/ )/ 用户/ 参与/ 交互/ 在/ 由/ 智能/ 终端设备/ 组成/ 的/ 移动/ 传感器/ 网络应用/ 中/ ,/ 通常/ 用户/ 会/ 参与/ 到/ 设备/ 间/ 的/ 交互/ ./ 当/ 用户/ 提出/ 邻居/ 发现/ 请求/ 时/ ,/ 邻居/ 发现/ 服务/ 应当/ 尽快/ 返回/ 邻居/ 信息/ 以/ 减少/ 用户/ 等待/ 的/ 时间/ ,/ 提高/ 用户/ 体验/ ./ 这/ 两种/ 情形/ 的/ 共同点/ 是/ 需要/ 邻居/ 发现/ 协议/ 能够/ 动态/ 地/ 根据/ 外部/ 请求/ 调整/ 发现/ 模式/ 以/ 提高/ 邻居/ 发现/ 能力/ ./ 按/ 需/ 邻居/ 发现/ 协议/ 采取/ 了/ 用/ 额外/ 的/ 能量/ 换/ 时间/ 的/ 方法/ ,/ 在/ 需要/ 快速/ 发现/ 邻居/ 时/ 增加/ 唤醒/ 时隙/ 的/ 数量/ ,/ 从而/ 具备/ 了/ 按/ 需/ 动态/ 调整/ 邻居/ 发现/ 模式/ 的/ 能力/ ./ 6.1/ 分阶段/ 发现/ 为了/ 解决/ 第/ 1/ 种/ 情形/ 中/ 存在/ 的/ 问题/ ,/ Cohen/ 等/ 人/ [/ 60/ ]/ 提出/ 将/ 邻居/ 发现/ 过程/ 分为/ 两个/ 不同/ 的/ 阶段/ :/ 初始/ 阶段/ 和/ 正常/ 工作/ 阶段/ ./ 节点/ 启动/ 完成/ 时/ 进入/ 初始/ 阶段/ ./ 在/ 这个/ 阶段/ 中/ ,/ 为了/ 尽快/ 让/ 其他/ 节点/ 发现/ ,/ 该/ 节点/ 以较/ 高/ 的/ 频率/ 广播/ 邻居/ 通告/ 消息/ ,/ 并/ 在/ 剩余时间/ 处于/ 唤醒/ 状态/ 以/ 接收/ 其他/ 节点/ 的/ 邻居/ 通告/ 消息/ ,/ 以便/ 快速/ 发现/ 所有/ 邻居/ 节点/ ./ 进入/ 正常/ 工作/ 阶段/ 后/ ,/ 节点/ 可以/ 使用/ 常规/ 的/ 邻居/ 发现/ 协议/ 以/ 持续/ 发现/ 邻居/ ./ 6.2/ 增加/ 发现/ 时隙/ Zhang/ 等/ 人/ 提出/ 的/ Acc/ [/ 61/ ]/ 有效/ 解决/ 了/ 第/ 2/ 种/ 情形/ 中/ 的/ 问题/ ./ Acc/ 并/ 不是/ 一种/ 邻居/ 发现/ 协议/ ,/ 而是/ 按/ 需/ 加速/ 邻居/ 发现/ 的/ 中间件/ ./ 它/ 利用/ 现存/ 邻居/ 发现/ 协议/ 作为/ 底层/ 协议/ 持续/ 地/ 发现/ 邻居/ ,/ 并/ 使用/ 第/ 5/ 节中/ 所述/ 的/ 协作/ 方式/ 交换/ 邻居/ 的/ 唤醒/ 调度/ 信息/ ./ 已知/ 邻居/ 和/ 它们/ 的/ 调度/ 信息/ 有助于/ 按/ 需/ 快速/ 发现/ 潜在/ 邻居/ ./ 当/ 需要/ 按/ 需/ 发现/ 时/ ,/ Acc/ 会/ 增加/ 唤醒/ 时隙/ 以/ 提高/ 发现/ 邻居/ 的/ 速度/ ./ 然而/ ,/ 新增/ 的/ 时隙/ 应当/ 放置/ 在/ 哪些/ 位置/ 以/ 最大化/ 邻居/ 发现/ 的/ 效率/ 是/ Acc/ 设计/ 的/ 难点/ ./ 为了/ 对/ 每个/ 候选/ 的/ 时隙/ 进行/ 量化/ 评估/ ,/ Acc/ 认为/ 可以/ 从/ 时间/ 差异性/ 和/ 空间/ 相似性/ 两/ 方面/ 分别/ 考虑/ ./ 时间/ 差异性/ 是/ 指/ 一对/ 节点/ 的/ 调度/ 周期/ 中/ 不是/ 同时/ 唤醒/ 的/ 时隙/ 个数/ ,/ 可以/ 定义/ 如下/ :/ 其中/ m/ 隙数/ ./ 时间/ 差异/ 值越/ 大/ ,/ 说明/ 这/ 两个/ 节点/ 的/ 调度/ 模式/ 差异/ 越大/ ,/ 也/ 就/ 更/ 有/ 可能/ 通过/ 对方/ 发现/ 新/ 的/ 邻居/ ./ 空间/ 相似性/ 是/ 指/ 两个/ 节点/ 本地/ 邻居/ 表/ 中共/ 有/ 的/ 邻居/ 数/ ,/ 代表/ 了/ 两个/ 节点/ 在/ 空间/ 上/ 的/ 接近/ 程度/ ,/ 定义/ 如下/ :/ 其中/ nt0/ 空间/ 相似性/ 大/ 的/ 节点/ 发现/ 的/ 新/ 邻居/ 通常/ 也/ 是/ 本/ 节点/ 的/ 邻居/ ./ 在/ 确定/ 了/ 每个/ 候选/ 时隙/ 的/ 时隙/ 收益/ 后/ ,/ 当/ 按/ 需/ 发现/ 请求/ 到来/ 时/ ,/ 只/ 需/ 选择/ 时隙/ 收益/ 最高/ 的/ 几个/ 时隙/ 作为/ 额外/ 增加/ 的/ 时隙/ ,/ 便/ 可以/ 快速/ 地/ 发现/ 邻居/ ./ 为了/ 综合/ 分析/ 时间/ 差异性/ 和/ 空间/ 相似性/ 对/ 邻居/ 发现/ 的/ 影响/ ,/ Acc/ 提出/ 了/ 时隙/ 收益/ (/ SlotGain/ )/ 的/ 评价/ 标准/ ,/ 定义/ 如下/ :/ 选择/ 时隙/ 收益/ 越大/ 的/ 时隙/ 就/ 有/ 越/ 大/ 的/ 可能/ 发现/ 新/ 的/ 邻居/ ./ 7/ 多/ 信道/ 邻居/ 发现/ 为/ 减少/ 能耗/ ,/ 大多数/ 传感器/ 网络应用/ 都/ 选用/ 功耗/ 极低/ 的/ 符合/ IEEE802/ ./ 15.4/ 标准/ 的/ 射频/ 芯片/ 作/ 无线通信/ 的/ 基础/ 硬件/ ./ IEEE802/ ./ 15.4/ 标准/ [/ 86/ ]/ 定义/ 了/ 16/ 个/ 信道/ 用于/ 互不/ 干扰/ 地/ 通信/ ./ 在/ 邻居/ 发现/ 过程/ 中/ ,/ 合理/ 地/ 分配/ 和/ 利用/ 这些/ 信道/ 可以/ 有效/ 地/ 减轻/ 来自/ 同类/ 设备/ 或/ 其他/ 工作/ 在/ 2.4/ G/ 频段/ 设备/ 的/ 干扰/ [/ 87/ ]/ ./ Huang/ 等/ 人/ [/ 62/ ]/ 提出/ 了/ 基于/ 组合/ 设计/ [/ 56/ ]/ 的/ 多/ 信道/ 邻居/ 发现/ 协议/ EasiND/ ./ 作者/ 将/ 网络/ 中/ 的/ 节点/ 分为/ 两类/ ,/ 被动/ 待/ 发现/ 节点/ 和/ 主动/ 发现/ 节点/ ./ 被动/ 待/ 发现/ 节点/ 使用/ 固定/ 的/ 信道/ 周期性地/ 唤醒/ ,/ 而/ 主动/ 发现/ 节点/ 顺序/ 使用/ 多个/ 信道/ 扫描/ 被动/ 待/ 发现/ 节点/ ./ 主动/ 发现/ 节点/ 将/ 组合/ 设计/ 得出/ 的/ 最优/ 发现/ 模式/ 扩展/ 到/ 每个/ 信道/ 中/ ,/ 而/ 被动/ 待/ 发现/ 节点/ 也/ 使用/ 相同/ 的/ 唤醒/ 调度/ Page14/ 模式/ ,/ 因此/ ,/ 当/ 主动/ 发现/ 节点/ 扫描/ 至/ 被动/ 待/ 发现/ 节点/ 所在/ 的/ 信道/ 时/ ,/ 两者/ 必然/ 存在/ 唤醒/ 时隙/ 的/ 交集/ ,/ 从而/ 互相/ 发现/ ./ 该/ 方法/ 实质/ 上/ 是/ 组合/ 设计/ 在/ 多/ 信道/ 上/ 的/ 扩展/ ,/ 其他/ 单/ 信道/ 邻居/ 发现/ 协议/ 也/ 可以/ 通过/ 类似/ 的/ 方法/ 扩展/ 到/ 多/ 信道/ 中/ 使用/ ./ 除了/ IEEE802/ ./ 15.4/ 标准/ ,/ 传感器/ 网络/ 也/ 常用/ 蓝牙/ 技术/ 作为/ 无线通信/ 的/ 底层/ 协议/ ./ 蓝牙/ 技术/ 是/ 一种/ 低功耗/ 、/ 短距离/ 的/ 无线通信/ 技术/ ,/ 广泛应用/ 于/ 智能手机/ 、/ 可/ 穿戴/ 设备/ 、/ 无线/ 外围设备/ 等/ 移动/ 设备/ 中/ ,/ 用于/ 代替/ 传统/ 的/ 线缆/ 连接/ ./ 由于/ 蓝牙/ 设备/ 通常/ 使用/ 电池/ 供电/ ,/ 且/ 电池容量/ 往往/ 受到/ 设备/ 体积/ 的/ 约束/ ,/ 因此/ 节能/ 是/ 其/ 协议/ 设计/ 需要/ 考虑/ 的/ 重要/ 因素/ ,/ 这/ 一点/ 与/ 传感器/ 网络协议/ 的/ 设计/ 目标/ 相同/ ./ 蓝牙/ 4.0/ 标准/ 中/ 的/ BLE/ (/ BluetoothLowEnergy/ )/ 模式/ 工作/ 在/ 频段/ 2402/ ~/ 2480MHz/ 之间/ 的/ 3/ 个/ 信道/ 上/ ,/ 每个/ 信道/ 的/ 带宽/ 为/ 40MHz/ ,/ 相应/ 的/ 工作/ 频段/ 为/ 2402/ 、/ 2426/ 和/ 2480MHz/ ,/ BLE/ 中/ 处于/ 邻居/ 发现/ 阶段/ 的/ 设备/ 可以/ 工作/ 在/ 3/ 个/ 不同/ 的/ 模式/ 下/ ,/ 通告/ 模式/ 、/ 扫描模式/ 和/ 初始化/ 模式/ ./ 通告/ 模式/ 中/ ,/ 设备/ 周期性地/ 在/ 3/ 个/ 不同/ 的/ 信道/ 上/ 发送/ 邻居/ 通告/ 消息/ ,/ 随后/ 立即/ 监听/ 邻居/ 设备/ 的/ 响应/ ,/ 若/ 收到/ 相应/ 邻居/ 的/ 响应/ ,/ 则/ 双方/ 彼此/ 发现/ ./ 在/ 扫描/ 或/ 初始化/ 模式/ 中/ ,/ 设备/ 周期性地/ 唤醒/ 以/ 轮流/ 检测/ 各/ 信道/ 中/ 是否/ 有/ 邻居/ 通告/ 消息/ ./ 在/ 这种/ 发现/ 模式/ 中/ ,/ 通告/ 消息/ 的/ 发送/ 周期/ 和/ 扫描/ 间隔/ 对/ 占空比/ 和/ 发现/ 延迟/ 有/ 直接/ 的/ 影响/ ,/ 如何/ 合理/ 地/ 选取/ 这/ 两个/ 参数/ 决定/ 了/ 设备/ 发现/ 邻居/ 所/ 需/ 的/ 能耗/ 和/ 发现/ 延迟/ ./ Liu/ 等/ 人/ [/ 63/ ]/ 为/ BLE/ 的/ 邻居/ 发现/ 过程/ 进行/ 了/ 建模/ 分析/ ,/ 以/ 确定/ 通告/ 消息/ 的/ 发送/ 周期/ 和/ 扫描/ 的/ 间隔/ 与/ 邻居/ 发现/ 延迟/ 的/ 关系/ ./ 文中/ 将/ 扫描模式/ 的/ 周期/ 根据/ 不同/ 的/ 信道/ 分为/ 3/ 个/ 区域/ ,/ 并/ 根据/ 接收/ 邻居/ 通告/ 消息/ 可能性/ 的/ 不同/ 将/ 每个/ 区域/ 划分/ 为/ 3/ 种/ 不同/ 类型/ 的/ 块/ ,/ 分别/ 计算/ 通告/ 消息/ 位于/ 该块/ 的/ 概率/ 以及/ 相应/ 的/ 发现/ 延迟/ ,/ 从而/ 得到/ 邻居/ 发现/ 延迟/ 的/ 期望/ ./ 根据/ 期望/ 的/ 表达式/ ,/ 得出/ 当/ 通告/ 消息/ 发送/ 的/ 间隔/ 越/ 小/ 或/ 扫描/ 信道/ 的/ 间隔/ 越大时/ ,/ 邻居/ 发现/ 延迟/ 越小/ ./ 8/ 邻居/ 发现/ 协议/ 比较/ 本文/ 中/ 提及/ 的/ 邻居/ 发现/ 协议/ 各具/ 特点/ ,/ 但/ 也/ 不可避免/ 地/ 在/ 特定/ 的/ 条件/ 下/ 存在/ 某些/ 缺陷/ ./ 本节/ 对/ 邻居/ 发现/ 协议/ 进行/ 了/ 全面/ 的/ 比较/ ,/ 以便/ 为/ 未来/ 的/ 应用/ 提供/ 参考/ ./ 在/ 实际/ 应用/ 中/ ,/ 设计者/ 应/ 根据/ 网络/ 环境/ 、/ 应用/ 对/ 占空比/ 与/ 发现/ 延迟/ 的/ 要求/ 和/ 协议/ 开销/ 等/ 各/ 方面/ 选择/ 合适/ 的/ 邻居/ 发现/ 协议/ ./ 为/ 比较/ 邻居/ 发现/ 协议/ 的/ 性能/ ,/ 我们/ 选取/ 了/ 本文/ 中/ 具有/ 代表性/ 的/ 协议/ 在/ 真实/ 环境/ 中/ 进行/ 实验/ ./ 实验/ 在/ 20/ 个/ 真实/ 环境/ 中/ 的/ NPUMOTE/ 节点/ 上/ 运行/ ,/ 节点/ 的/ 微控制器/ 为/ ATmega128RFA1/ ,/ 集成/ 了/ 符合/ IEEE802/ ./ 15.4/ 标准/ 的/ 射频/ 模块/ ,/ 并/ 通过/ USB/ 线缆/ 连接/ 到/ PC机/ 以/ 收集/ 邻居/ 发现/ 时间/ 数据/ ./ 节点/ 上/ 运行/ TinyOS2/ ./ x/ 操作系统/ ,/ 所有/ 协议/ 的/ 占空比/ 统一/ 设为/ 5/ %/ ,/ 时隙/ 长度/ 设为/ 50ms/ ./ 在/ 每个/ 活跃/ 时隙/ ,/ 邻居/ 通告/ 消息/ 按/ 2.2/ ./ 2/ 节中/ 所述/ 在/ 开头/ 和/ 结束/ 时/ 各发/ 一次/ 的/ 方式/ 以/ 保证/ 双向/ 发现/ ./ 实验/ 结果/ 如图/ 17/ 所示/ ,/ 其中/ 横坐标/ 为/ 经过/ 的/ 时隙/ 数/ ,/ 纵坐标/ 为/ 到/ 该/ 时隙/ 时所/ 发现/ 的/ 邻居/ 数占/ 所有/ 邻居/ 数/ 的/ 比率/ ./ 图中/ 的/ SearchLight/ +/ δ/ 和/ BlindDate/ +/ δ/ 协议/ 使用/ 了/ 2.2/ ./ 2/ 节中/ 所述/ 延长/ 唤醒/ 时隙/ 的/ 方法/ 以/ 减少/ 发现/ 延迟/ ,/ 从而/ 在/ 最坏/ 发现/ 延迟/ 上/ 表现/ 最佳/ ./ 从/ 邻居/ 发现/ 速度/ 上/ 来看/ ,/ Birthday/ 协议/ 超过/ 了/ 所有/ 的/ 确定性/ 协议/ ,/ 体现/ 出/ 了/ 随机/ 发现/ 协议/ 在/ 平均/ 发现/ 延迟/ 上/ 的/ 优势/ ./ 然而/ ,/ 当/ 邻居/ 发现/ 比率/ 高于/ 80/ %/ 时/ ,/ Birthday/ 协议/ 不可避免/ 地/ 出现/ 了/ 长尾/ 现象/ ./ 图/ 17/ 典型/ 邻居/ 发现/ 协议/ 实验/ 比较/ ,/ 占空比/ 同为/ 5/ %/ 表/ 3/ 定性/ 地/ 比较/ 了/ 在/ 同等/ 实验/ 场景/ 下/ ,/ 各类/ 邻居/ 发现/ 协议/ 的/ 性能/ ./ 其中/ 发现/ 速度/ 以/ 占空比/ 相同/ 且/ 发现/ 一半/ 以上/ 邻居/ 为/ 前提/ 作/ 比较/ ./ 类似/ 地/ ,/ 占空比/ 也/ 是/ 在/ 同样/ 的/ 发现/ 延迟/ 且/ 至少/ 发现/ 一半/ 邻居/ 的/ 前提/ 下/ 进行/ 比较/ ./ 最后/ ,/ 表/ 4/ 总结/ 了/ 本文/ 中/ 提及/ 的/ 各类/ 传感器/ 网络邻居/ 发现/ 协议/ 的/ 适用/ 网络/ 环境/ 和/ 应用/ 范围/ ./ 从表中/ 可以/ 看到/ 不同/ 的/ 协议/ 在/ 不同/ 的/ 评价/ 标准/ 中/ 各有/ 高下/ ,/ 并/ 不/ 存在/ 各/ 方面/ 都/ 最优/ 的/ 协议/ ./ 因此/ ,/ 在/ 实际/ 工程/ 实践/ 中/ 通常/ 需要/ 根据/ 应用/ 的/ 占空比/ 与/ 发现/ 延迟/ 需求/ 、/ 网络/ 的/ 对称性/ 等/ 方面/ 作/ 权衡/ ,/ 选择/ 最/ 适合/ 实际/ 网络/ 环境/ 的/ 邻居/ 发现/ 协议/ ./ Page15/ 协议/ Quorum/ [/ 51/ ]/ SearchLight/ [/ 52/ ]/ U/ -/ Connect/ [/ 46/ ]/ C/ -/ Torus/ [/ 53/ ]/ Hello/ [/ 54/ ]/ BlindDate/ [/ 43/ ]/ Todis/ [/ 55/ ]/ Hedis/ [/ 55/ ]/ 组合/ 设计/ [/ 56/ ]/ Disco/ [/ 41/ ]/ Birthday/ [/ 57/ ]/ PSBA/ [/ 58/ ]/ WiFlock/ [/ 59/ ]/ Cohen/ [/ 60/ ]/ Acc/ [/ 61/ ]/ EasiND/ [/ 62/ ]/ BLE/ [/ 63/ ]/ Quorum/ [/ 51/ ]/ U/ -/ Connect/ [/ 46/ ]/ SearchLight/ [/ 52/ ]/ C/ -/ Torus/ [/ 53/ ]/ BlindDate/ [/ 43/ ]/ Disco/ [/ 41/ ]/ Hello/ [/ 54/ ]/ Hedis/ [/ 55/ ]/ Todis/ [/ 55/ ]/ 组合/ 设计/ [/ 56/ ]/ Birthday/ [/ 57/ ]/ PSBA/ [/ 58/ ]/ WiFlock/ [/ 59/ ]/ Cohen/ [/ 60/ ]/ Acc/ [/ 61/ ]/ EasiND/ [/ 62/ ]/ BLE/ [/ 63/ ]/ 表/ 3/ 传感器/ 网络邻居/ 发现/ 协议/ 特点/ 比较/ 计算/ 开销/ 较/ 低/ 较/ 低/ 中等/ 中等/ 表/ 4/ 传感器/ 网络邻居/ 发现/ 协议/ 应用/ 范围/ 比较/ 将/ 探测/ 时隙/ 随机化/ 后/ 平均/ 发现/ 延迟/ 较/ 小/ ,/ 适用/ 于/ 大多数/ 邻居/ 发现/ 场景/ 适用/ 于/ 非对称/ 发现/ 场景/ ,/ 可/ 支持/ 对称/ 应用/ 场景/ ,/ 但/ 需要/ 增加/ 能耗/ 适用/ 于/ 只/ 需/ 快速/ 发现/ 大部分/ 邻居/ 的/ 场景/ ,/ 对/ 发现/ 延迟/ 的/ 边界/ 没有/ 要求/ 适用/ 于/ 可以/ 容忍/ 增加/ 一部分/ 控制/ 开销/ 用于/ 减少/ 发现/ 延迟/ 的/ 场景/ 适用/ 于/ 节点/ 移动性/ 较/ 高/ 的/ 网络/ ,/ 可/ 按/ 需/ 减少/ 现有/ 邻居/ 发现/ 协议/ 的/ 发现/ 延迟/ 9/ 未来/ 研究/ 方向/ 传感器/ 网络邻居/ 发现/ 技术/ 经历/ 了/ 由/ 粗粒度/ 向/ 细粒度/ 发展/ 的/ 过程/ ,/ 从/ 51/ %/ 协议/ 、/ Quorum/ 协议/ 到/ Disco/ 协议/ 、/ U/ -/ Connect/ 协议/ 、/ SearchLight/ 协议/ 和/ BlindDate/ 协议/ ,/ 它们/ 对/ 调度/ 模式/ 的/ 控制/ 逐步/ 精细/ ,/ 相对/ 于/ 最优/ 调度/ 的/ 近似/ 比/ 也/ 日益/ 减小/ ./ 另/ 一个/ 发展趋势/ 是/ 邻居/ 发现/ 协议/ 都/ 同时/ 考虑/ 了/ 唤醒/ 调度/ 对称/ 和/ 非对称/ 的/ 情况/ ,/ 使/ 协议/ 能/ 满足/ 不同/ 的/ 能耗/ 需求/ ./ 然而/ ,/ 尽管/ 这一/ 领域/ 已/ 获得/ 了/ 一系列/ 研究成果/ ,/ 但/ 仍/ 存在/ 不少/ 问题/ 值得/ 进一步/ 研究/ 和/ 完善/ ./ (/ 1/ )/ 构造/ 最优/ 近似/ 比/ 更/ 小/ 的/ 唤醒/ 调度/ 模式/ 虽然/ 对称/ 邻居/ 发现/ 的/ 下界/ 已经/ 确定/ 并且/ 组合/ 设计协议/ 已/ 提出/ 了/ 一种/ 构造/ 最优/ 解/ 的/ 方法/ ,/ 但是/ 这种/ 低低/ 低/ 低/ 低/ 低/ 低/ 高低/ 低低/ 高低/ 应用/ 范围/ 解法/ 实用性/ 欠佳/ ,/ 构造/ 算法/ 复杂/ 且/ 占用/ 的/ 存储空间/ 过大/ ./ 目前/ 最优/ 近似/ 比/ 最小/ 的/ BlindDate/ 协议/ 仍/ 与/ 最优/ 调度/ 存在/ 着/ 一定/ 的/ 差距/ ./ 因此/ 构造/ 近似/ 比/ 更/ 小/ 的/ 邻居/ 发现/ 协议/ 仍然/ 具有/ 较/ 高/ 的/ 理论/ 和/ 应用/ 价值/ ./ (/ 2/ )/ 非对称/ 邻居/ 发现/ 评价/ 标准/ 现存/ 邻居/ 发现/ 的/ 理论/ 研究/ 主要/ 集中/ 于/ 对称/ 邻居/ 发现/ ,/ 对/ 非对称/ 邻居/ 发现/ 的/ 关注/ 仍显/ 不足/ ,/ 目前/ 并/ 没有/ 统一/ 的/ 标准/ 以/ 比较/ 不同/ 的/ 非对称/ 邻居/ 发现/ 算法/ ./ 评价/ 标准/ 的/ 缺失/ 也/ 导致/ 非对称/ 邻居/ 发现/ 的/ 理论/ 边界/ 无法/ 确定/ ,/ 也/ 就/ 无法/ 公平/ 地/ 量化/ 比较/ 各类/ 非对称/ 邻居/ 发现/ 技术/ ./ 因此/ ,/ 寻找/ 非对称/ 邻居/ 发现/ 评价/ 标准/ 并/ 建立/ 相应/ 的/ 理论/ 是/ 下/ 一步/ 研究/ 需要/ 关注/ 的/ 重点/ ./ (/ 3/ )/ 随机/ 邻居/ 发现/ 的/ 理论/ 分析/ 和/ 评价/ 标准/ 随机/ 邻居/ 发现/ 具有/ 平均/ 发现/ 延迟/ 小/ 的/ 优点/ ,/ 但/ 目前/ 并/ 没有/ 得到/ 充分/ 的/ 研究/ ./ 由于/ 随机/ 邻居/ 发现/ 的/ Page16/ 发现/ 延迟/ 没有/ 边界/ ,/ 因此/ 还/ 没有/ 统一/ 的/ 标准/ 以/ 比较/ 不同/ 随机/ 邻居/ 发现/ 算法/ 的/ 优劣/ ./ 例如/ ,/ PSBA/ 协议/ 仅/ 通过/ 实验/ 说明/ 其/ 优于/ Birthday/ 协议/ ,/ 但/ 并/ 没有/ 从/ 理论/ 上/ 分析/ 原因/ ./ SearchLight/ 协议/ 提出/ 将/ 探测/ 时隙/ 随机化/ 以/ 减少/ 平均/ 发现/ 延迟/ ,/ 但/ 同样/ 没有/ 对此/ 作/ 形式化/ 证明/ ./ 由此可见/ ,/ 提出/ 统一/ 的/ 随机/ 邻居/ 发现/ 评价/ 标准/ 对于/ 研究/ 和/ 比较/ 现有/ 的/ 协议/ 有/ 重要/ 意义/ ,/ 并/ 对/ 研究/ 更优/ 的/ 随机/ 邻居/ 发现/ 协议/ 具有/ 显著/ 的/ 指导作用/ ./ (/ 4/ )/ 考虑/ 信道/ 占用/ SearchLight/ 协议/ 和/ BlindDate/ 协议/ 证实/ 了/ 可以/ 通过/ 增加/ 邻居/ 发现/ 消息/ 减少/ 发现/ 延迟/ ,/ 理论/ 上/ 可以/ 运用/ 到/ 所有/ 确定性/ 发现/ 协议/ 中以/ 使/ 发现/ 延迟/ 减半/ ./ 该/ 方法/ 本质/ 上/ 是/ 以/ 增加/ 信道/ 占用/ 为/ 代价/ 换取/ 更/ 快速/ 的/ 发现/ ,/ 然而/ ,/ 目前/ 并/ 没有/ 相关/ 工作/ 揭示/ 该/ 方法/ 背后/ 所/ 蕴藏/ 的/ 原理/ ,/ 未来/ 的/ 工作/ 可以/ 进一步/ 研究/ 如何/ 合理/ 地/ 增加/ 邻居/ 通告/ 消息/ 以/ 提高/ 发现/ 效率/ ./ (/ 5/ )/ 与/ MAC/ 协议/ 的/ 整合/ 目前/ 邻居/ 发现/ 协议/ 是/ 建立/ 在/ 直接/ 控制/ 无线/ 收发机/ 睡眠/ 唤醒/ 的/ 基础/ 上/ ./ 然而/ 从/ 网络/ 分层/ 的/ 角度/ 考虑/ ,/ 控制/ 无线/ 收发机/ 的/ 睡眠/ 状态/ 应由/ MAC/ 协议/ 负责/ ./ 因此/ ,/ 如何/ 协调/ 邻居/ 发现/ 协议/ 与/ MAC/ 协议/ 的/ 分工/ ,/ 使/ 两者/ 可以/ 有效/ 地/ 整合/ 仍然/ 存在/ 一系列/ 亟待解决/ 的/ 问题/ ./ (/ 6/ )/ 安全/ 隐私/ 机制/ 研究/ 网络协议/ 需要/ 在/ 设计/ 时/ 就/ 考虑/ 它/ 的/ 安全性/ 和/ 隐私/ 性/ ,/ 以/ 避免/ 恶意/ 攻击/ 和/ 窃听/ 对系统/ 带来/ 的/ 不良影响/ ./ 然而/ ,/ 目前/ 邻居/ 发现/ 协议/ 的/ 安全/ 隐私/ 机制/ 相关/ 研究/ 十分/ 有限/ [/ 88/ -/ 89/ ]/ ./ 如何/ 在/ 资源/ 受限/ 的/ 节点/ 上/ 实现/ 邻居/ 发现/ 过程/ 的/ 认证/ 和/ 加密/ ,/ 以及/ 如何/ 避免/ 洪泛/ 攻击/ 、/ 欺骗性/ 确认/ 攻击/ 、/ Sybil/ 攻击/ 等/ 恶意/ 攻击/ 是/ 保证/ 邻居/ 发现/ 协议/ 的/ 安全性/ 所/ 必须/ 要/ 解决/ 的/ 问题/ ./ (/ 7/ )/ 在/ IPv6/ 传感/ 网中/ 的/ 应用/ 下一代/ 互联网协议/ —/ —/ —/ IPv6/ 协议/ 使用/ 邻居/ 发现/ 协议/ 代替/ 了/ ARP/ 和/ RARP/ 协议/ 以/ 实现/ 地址/ 解析/ ,/ 此外/ 还/ 用于/ 路由/ 发现/ 、/ 前缀/ 发现/ 、/ 参数/ 发现/ 和/ 地址/ 自动/ 配置/ ./ 其中/ 邻居/ 发现/ 通过/ 周期性/ 发送/ ICMPv6/ 邻居/ 通告/ 报文/ 完成/ ./ 现有/ 工作/ [/ 90/ -/ 91/ ]/ 认为/ IPv6/ 协议/ 适用/ 于/ 传感器/ 网络/ ,/ 然而/ 各层/ 协议/ 都/ 需要/ 根据/ 传感器/ 网络/ 的/ 特性/ 作/ 适当/ 地/ 调整/ 和/ 简化/ ./ 目前/ 并/ 没有/ 符合/ IPv6/ 架构/ 且/ 适用/ 于/ 传感器/ 网络/ 的/ 邻居/ 发现/ 协议/ ,/ 如何/ 在/ 该/ 架构/ 下/ 适配/ 并/ 优化/ 邻居/ 发现/ 的/ 性能/ 也/ 是/ 实现/ 传感/ 网/ IPv6/ 化/ 的/ 重要环节/ ./ 10/ 结束语/ 研究/ 作为/ 传感器/ 网络/ 基础/ 协议/ 之一/ 的/ 邻居/ 发现/ 协议/ 具有/ 重要/ 的/ 理论意义/ 和/ 应用/ 价值/ ./ 本文/ 综合/ 学术界/ 近年来/ 的/ 相关/ 研究成果/ ,/ 总结/ 了/ 传感器/ 网络邻居/ 发现/ 的/ 问题/ 定义/ 、/ 评价/ 标准/ ,/ 并/ 分类/ 介绍/ 了/ 各项/ 技术/ 的/ 研究进展/ ./ 然而/ ,/ 各类/ 新型/ 传感器/ 网络应用/ 的/ 相继/ 出现/ 对/ 邻居/ 发现/ 协议/ 的/ 性能/ 提出/ 了/ 更/ 高/ 的/ 要求/ ,/ 因此/ 仍/ 需要/ 进一步/ 完善/ 邻居/ 发现/ 的/ 理论/ 和/ 应用/ 技术/ ,/ 为/ 传感器/ 网络/ 和物/ 联网/ 的/ 发展/ 打下/ 坚实/ 的/ 基础/ ./ 致谢/ 衷心感谢/ 审稿人/ 提出/ 的/ 宝贵/ 修改意见/ !/ 

