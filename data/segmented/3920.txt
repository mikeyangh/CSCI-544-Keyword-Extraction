Page1/ 一种/ 面向/ 认知/ 网络/ 的/ QoS/ 路由/ 协议/ 谢/ 小民/ 1/ )/ 王兴伟/ 1/ )/ 温占考/ 2/ )/ 黄敏/ 1/ )/ 1/ )/ (/ 东北大学/ 信息科学/ 与/ 工程学院/ 沈阳/ 110819/ )/ 2/ )/ (/ 东北大学/ 计算中心/ 沈阳/ 110819/ )/ 摘要/ 随着/ 网络应用/ 的/ 快速/ 发展/ ,/ 传统/ 网络/ 面临/ 诸多/ 挑战/ ,/ 难以/ 满足/ 新型/ 应用/ 的/ 服务质量/ QoS/ (/ QualityofService/ )/ 需求/ ,/ 网络管理/ 变得/ 极其/ 复杂/ ,/ 迫切要求/ 网络/ 具备/ 认知/ 能力/ ./ 文中/ 提出/ 了/ 一种/ 面向/ 认知/ 网络/ 的/ QoS/ 路由/ 协议/ ./ 为了/ 满足/ 不同/ 应用/ 的/ QoS/ 需求/ ,/ 路由/ 请求/ 对应/ 不同/ 业务/ 类型/ 和/ 服务/ 等级/ ,/ 映射/ 到/ 相应/ 的/ QoS/ 参数/ ./ 文中/ 赋予/ 路由/ 节点/ 感觉/ 、/ 活动/ 感/ 、/ 记忆/ 、/ 查找/ 、/ 决策/ 、/ 执行/ 、/ 推理/ 、/ 解释/ 等/ 认知/ 行为/ ,/ 设计/ 了/ 与/ 这些/ 行为/ 相对/ 应/ 的/ 协议/ 报文/ ,/ 支持/ 节点/ 之间/ 通过/ 这些/ 报文/ 进行/ 交互/ ,/ 从而/ 具备/ 认知/ 能力/ ./ 节点/ 只/ 收集/ 和/ 维护/ 局部/ 邻居/ 和/ 链路/ 状态/ 信息/ ,/ 通过/ 使用/ 和/ 维护/ 经验/ 路段/ 信息/ 提高/ 路由/ 效率/ ./ 文中/ 对/ 所/ 提出/ 的/ 路由/ 协议/ 在/ 原型/ 系统/ 上/ 进行/ 了/ 实现/ ,/ 对/ 协议/ 的/ 多项/ 性能指标/ 进行/ 了/ 评价/ ./ 实验/ 结果表明/ ,/ 文中/ 所/ 提出/ 的/ 路由/ 协议/ 是/ 可行/ 和/ 有效/ 的/ ./ 关键词/ 认知/ 网络/ ;/ 认知/ 行为/ ;/ 服务质量/ ;/ 路由/ 协议/ 1/ 引言/ 近年来/ ,/ 网络/ 技术/ 快速/ 发展/ ,/ 网络/ 规模/ 不断扩大/ ,/ 传统/ 网络/ 的/ 缺陷/ 逐渐/ 暴露/ 出来/ ,/ 难以/ 满足/ 应用/ 多样化/ 的/ 服务质量/ (/ QualityofService/ ,/ QoS/ )/ 需求/ ,/ 网络管理/ 变得/ 越来越/ 复杂/ ./ 网络/ 中/ 各种/ 新/ 应用/ 、/ 新/ 业务/ 不断/ 出现/ ,/ 对/ 网络/ 提出/ 的/ 要求/ 也/ 越来越/ 高/ ,/ 需要/ 网络/ 具备/ 自/ 适应/ 、/ 自/ 管理/ 、/ 学习/ 和/ 推理/ 等/ 功能/ ,/ 即/ 具备/ 认知/ 能力/ [/ 1/ ]/ ,/ 以/ 满足/ 应用/ 和/ 用户/ 日益/ 提高/ 的/ 需要/ ./ 认知/ 网络/ 的/ 概念/ 是从/ 认知/ 无线电/ 网络/ [/ 2/ -/ 4/ ]/ 等/ 发展/ 而来/ 的/ ./ 文献/ [/ 5/ ]/ 将/ 知识/ 平面/ 引入/ 到/ 网络/ 中/ ,/ 使/ 之/ 具备/ 自我/ 感知/ 能力/ ,/ 能/ 通过观察/ 、/ 学习/ 、/ 推理/ ,/ 做出/ 前瞻性/ 决定/ ,/ 进行/ 自我/ 配置/ 和/ 管理/ ,/ 从而/ 适应/ 网络/ 环境/ 变化/ ./ 目前/ ,/ 关于/ 认知/ 网络/ 的/ 研究/ 多/ 专注/ 于/ 认知/ 网络/ 框架/ 设计/ 或是/ 把/ 某种/ 认知/ 技术/ 引入/ 到/ 网络/ 中/ [/ 6/ ]/ ./ 文献/ [/ 7/ -/ 8/ ]/ 论述/ 了/ 机器/ 学习/ 、/ 跨层/ 设计/ 和/ 分布式/ 推理/ 等/ 认知/ 网络/ 关键技术/ ./ 文献/ [/ 9/ ]/ 提出/ 了/ 一种/ 认知/ 网络/ 三层/ 结构/ 框架/ ,/ 分别/ 为/ 行为/ 目标/ 层/ 、/ 认知/ 处理/ 层/ 和/ 软件/ 可/ 调节/ 网络层/ ./ 文献/ [/ 10/ ]/ 提出/ 了/ 一种/ 基于/ 多级/ 反馈/ 域/ 认知/ 环/ 的/ 认知/ 网络结构/ ./ 文献/ [/ 11/ ]/ 提出/ 了/ 一个/ 协同/ 型/ 认知/ 网络平台/ ,/ 提供/ 可信赖/ 、/ 自/ 组织/ 和/ 自/ 管理/ 能力/ ./ 文献/ [/ 12/ ]/ 构建/ 了/ 一种/ 分布式/ 认知/ 平面/ ,/ 可以/ 跨层/ 、/ 跨/ 节点/ 、/ 跨域/ 实现/ 自/ 管理/ 、/ 自/ 控制/ 和/ 自/ 优化/ ./ 文献/ [/ 13/ ]/ 提出/ 了/ 一种/ 基于/ 可用/ 频段/ 统计/ 特性/ 的/ 感知/ 策略/ ,/ 自/ 适应/ 选出/ 可用/ 频段/ ./ 文献/ [/ 14/ ]/ 指出/ 了/ 在/ 认知/ 网络/ 设计/ 中/ 需要/ 考虑/ 的/ 三个/ 重要/ 因素/ ,/ 即/ 决策制定/ 单元/ 行为/ 、/ 单元/ 可/ 计算/ 状态/ 及其/ 可控/ 级别/ ./ 文献/ [/ 15/ ]/ 把/ 协作/ 感知/ 技术/ 引入/ 到/ 认知/ 无线电/ 网络/ 中/ ,/ 提出/ 了/ 一种/ 分布式/ 多/ 目标/ 联盟/ 构造/ 算法/ ,/ 降低/ 了/ 网络/ 节点/ 在/ 形成/ 协作/ 感知/ 联盟/ 时/ 产生/ 的/ 开销/ ./ 文献/ [/ 16/ ]/ 提出/ 了/ 一种/ 分布式/ 协调/ 协议/ ,/ 考虑/ 了/ 节点/ 间/ 的/ 连通性/ 和/ 主/ 系统/ 的/ 出现/ 模式/ ./ 文献/ [/ 17/ ]/ 研究/ 了/ 认知/ 网络/ 的/ 管理/ 和/ 协议/ 配置/ ,/ 可以/ 动态/ 调整/ 协议/ 配置/ 参数/ ./ 文献/ [/ 18/ ]/ 提出/ 了/ 一种/ 面向/ 认知/ 无线电/ 网络/ 的/ 分布式/ 干扰/ 感知/ 路由/ 协议/ ,/ 可以/ 结合/ 频谱/ 使用/ 成本/ 和/ 干扰/ 指标/ 来/ 选择/ 合适/ 的/ 路由/ ./ 文献/ [/ 19/ ]/ 提出/ 了/ 一种/ 基于/ QoS/ 约束/ 和/ 负载/ 均衡/ 的/ 多/ 策略/ 认知/ 路由/ 机制/ ./ 文献/ [/ 20/ ]/ 提出/ 了/ 一种/ 面向/ 认知/ 无/ 尺度/ 网络/ 的/ 拥塞/ 避免/ 路由/ 协议/ ,/ 通过/ 权衡/ 最短/ 路径/ 长度/ 和/ 负载/ 建立/ 最优/ 路径/ ./ 文献/ [/ 21/ ]/ 提出/ 了/ 一种/ 具有/ 链路/ 可用性/ 预测/ 机制/ 的/ 认知/ 网络/ 路由/ 协议/ ,/ 根据/ 链路/ 质量/ 和/ 节点/ 负载/ 进行/ 路由/ 选择/ ./ 现有/ 工作/ 对/ 主干网/ 的/ 认知/ 能力/ 问题/ 和/ 面向/ 具备/ 认知/ 能力/ 的/ 主干网/ 中/ 的/ 路由/ 问题/ 涉猎/ 不/ 多/ ,/ 还有/ 很多/ 挑战/ 没有/ 解决/ ./ 本文/ 提出/ 了/ 一种/ 面向/ 主干网/ 的/ 认知/ 网络/ QoS/ 路由/ 协议/ ,/ 对/ 所/ 提出/ 的/ 协议/ 在/ 原型/ 系统/ 上/ 进行/ 了/ 实现/ ,/ 评价/ 了/ 多项/ 协议/ 性能指标/ ./ 研究/ 结果表明/ ,/ 本文/ 所/ 提出/ 的/ 路由/ 协议/ 可以/ 满足/ 面向/ 主干网/ 的/ 认知/ 网络/ 的/ 需要/ ./ 2/ 问题/ 描述/ 2.1/ 网络/ 模型/ 和/ 参数/ 描述/ 网络/ 建模/ 为/ 图/ G/ (/ V/ ,/ E/ )/ ./ 用/ V/ =/ {/ v1/ ,/ v2/ ,/ …/ ,/ vn/ }/ 表示/ 节点/ 集合/ ,/ 用/ E/ =/ {/ e1/ ,/ e2/ ,/ …/ ,/ el/ }/ 表示/ 边/ 集合/ ./ 引入/ 如下/ 参数/ 描述/ 节点/ 和/ 边/ 状态/ :/ 链路/ 可用/ 带宽/ 、/ 延迟/ 、/ 延迟/ 抖动/ 、/ 出错率/ 、/ 节点/ CPU/ 使用率/ 、/ 节点/ 存储/ 使用率/ ./ 为了/ 满足/ 不同/ 应用/ 和/ 用户/ 的/ QoS/ 需求/ ,/ 本文/ 把/ 路由/ 请求/ 对应/ 于/ 不同/ 业务/ 类型/ 和/ 服务/ 等级/ ,/ 业务/ 类型/ 分为/ ST/ 个/ 种类/ ,/ 每种/ 业务/ 类型/ 分为/ LV/ 个/ 服务/ 等级/ ,/ 业务/ 类型/ 和/ 服务/ 等级/ 映射/ 至/ 特定/ 的/ QoS/ 需求/ :/ 带宽/ 、/ 延迟/ 、/ 延迟/ 抖动/ 、/ 出错率/ ./ 因此/ ,/ 本文/ 的/ 路由/ 请求/ 表示/ 为/ 五元/ 组/ 〈/ 路由/ 请求/ ID/ ,/ 源地址/ ,/ 目的/ 地址/ ,/ 业务/ 类型/ ,/ 服务/ 等级/ 〉/ ./ 2.2/ 节点/ 行为/ 认知/ 是/ 人类/ 在/ 认识/ 事物/ 时/ 对/ 信息/ 的/ 收集/ 、/ 处理/ 以及/ 做出/ 反馈/ 的/ 过程/ ./ 本文/ 根据/ 文献/ [/ 22/ ]/ 提出/ 的/ 大脑/ 分层/ 模型/ ,/ 对/ 节点/ 引入/ 以下/ 认知/ 行为/ :/ 感觉/ 、/ 活动/ 感/ 、/ 记忆/ 、/ 查找/ 、/ 决策/ 、/ 执行/ 、/ 推理/ 和/ 解释/ ./ 在/ 本文/ 提出/ 的/ 路由/ 协议/ 中/ ,/ 节点/ 通过/ 感觉/ 行为/ 获得/ 邻居/ 节点/ 和/ 直连/ 链路/ 信息/ ;/ 通过/ 活动/ 感/ 行为/ 促进/ 网络/ 节能/ ;/ 通过/ 记忆/ 行为/ 存储/ 经验/ 路段/ 信息/ ;/ 通过/ 查找/ 行为/ 加快/ 寻路/ ;/ 通过/ 决策/ 行为/ 完成/ 寻路/ ;/ 通过/ 执行/ 行为/ 进行/ 路由/ 信息/ 更新/ ;/ 通过/ 推理/ 行为/ 促进/ 网络/ 性能/ 优化/ ;/ 通过/ 解释/ 行为/ 帮助/ 故障/ 处理/ ./ 3/ 面向/ 认知/ 网络/ 的/ QoS/ 路由/ 协议/ 本文/ 提出/ 了/ 一种/ QoS/ 路由/ 协议/ ,/ 支持/ 节点/ 通过/ 报文/ 交互/ 实现/ 认知/ 行为/ ,/ 完成/ QoS/ 路由/ ./ 该/ 协议/ 不仅/ 支持/ 单播/ ,/ 而且/ 支持/ 组播/ ./ 3.1/ 路由/ 信息/ 表在/ 本文/ 提出/ 的/ 路由/ 协议/ 中/ ,/ 路由/ 信息/ 分为/ 两类/ :/ (/ 1/ )/ 邻居/ 信息/ ,/ 主要/ 通过/ 感觉/ 行为/ 获得/ ;/ (/ 2/ )/ 到/ 一/ 目的/ 地址/ 的/ 经验/ 路段/ 信息/ ,/ 主要/ 通过/ 记忆/ 行为/ 获得/ ./ Page3/ 如下/ :/ 路由器/ ID/ ./ 和/ 存储/ 使用率/ ./ 邻居/ 信息/ 表/ 格式/ 如图/ 1/ (/ a/ )/ 所示/ ,/ 表中/ 各项/ 说明/ 接口号/ :/ 1/ 个/ 字节/ ,/ 与/ 邻居/ 节点/ 相连/ 的/ 接口/ 标识/ ./ 节点/ 地址/ :/ 16/ 个/ 字节/ ,/ 邻居/ 节点/ 的/ IPv6/ 地址/ ./ 节点/ 标识/ :/ 8/ 个/ 字节/ ,/ 邻居/ 节点/ 的/ 自治/ 域/ ID/ 和/ 节点/ 状态/ :/ 4/ 个/ 字节/ ,/ 邻居/ 节点/ 的/ CPU/ 使用率/ 链路/ 标识/ :/ 8/ 个/ 字节/ ,/ 链路/ 编号/ ./ 链路/ 状态/ :/ 16/ 个/ 字节/ ,/ 邻居/ 节点/ 与/ 当前/ 节点/ 间/ 相连/ 链路/ 的/ 状态参数/ ,/ 包括/ 出口/ 参数/ 与/ 入口/ 参数/ 各/ 8/ 个/ 字节/ ,/ 分别/ 包括/ 可用/ 带宽/ 、/ 延迟/ 、/ 延迟/ 抖动/ 、/ 出错率/ ./ 休眠/ 标志/ :/ 1/ 个/ 字节/ ,/ 邻居/ 节点/ 是否/ 处于/ 休眠状态/ ,/ 1/ 表示/ 处于/ 休眠状态/ ,/ 0/ 表示/ 处于/ 工作/ 状态/ ./ 经验/ 路段/ 信息/ 表/ 格式/ 如图/ 1/ (/ b/ )/ 所示/ ,/ 表中/ 各项/ 说明/ 如下/ :/ PID/ :/ 4/ 个/ 字节/ ,/ 经验/ 路段/ 标识符/ ./ 目的/ 地址/ :/ 16/ 个/ 字节/ ,/ 经验/ 路段/ 目的/ 节点/ 的/ IPv6/ 地址/ ./ 经验/ 路段/ QoS/ :/ 16/ 个/ 字节/ ,/ 该/ 经验/ 路段/ 的/ 双向/ QoS/ ,/ 包括/ 可用/ 带宽/ 、/ 延迟/ 、/ 延迟/ 抖动/ 和/ 出错率/ ./ 计时器/ :/ 2/ 个/ 字节/ ,/ 经验/ 路段/ 死亡/ 时限/ ,/ 单位/ 为/ s/ ./ 其/ 初值/ 为/ 65535/ ,/ 其值/ 按时/ 递减/ ,/ 为/ 0/ 时/ 清除/ 该/ 经验/ 路段/ 对应/ 的/ 表项/ ./ 使用/ 次数/ :/ 4/ 个/ 字节/ ,/ 表示/ 经验/ 路段/ 累计/ 使用/ 次数/ ,/ 初值/ 为/ 1/ ,/ 增大/ 到/ 最大值/ 时/ 封顶/ ./ 经验/ 路段/ 组成/ 节点/ 标识/ :/ 变/ 长/ ,/ 线性表/ 结构/ ,/ 每个/ 表项/ 由/ 经验/ 路段/ 组成/ 节点/ 的/ 自治/ 域/ ID/ 和/ 路由器/ ID/ 构成/ ,/ 第一个/ 表项/ 对应/ 当前/ 节点/ ,/ 最后/ 一个/ 表项/ 对应/ 目的/ 节点/ ./ 3.2/ 路由表/ 路由表/ 分为/ 单播/ 和/ 组播/ 两类/ ./ 单播/ 路由表/ 格式/ 如图/ 1/ (/ c/ )/ 所示/ ,/ 表中/ 各项/ 说明/ 单播/ 路由/ 请求/ ID/ :/ 4/ 个/ 字节/ ,/ 唯一/ 标识/ 该/ 单播/ 源地址/ :/ 16/ 个/ 字节/ ,/ 表示/ 该/ 单播/ 路由/ 请求/ 的/ 目的/ 地址/ :/ 16/ 个/ 字节/ ,/ 表示/ 该/ 单播/ 路由/ 请求/ 的/ 业务/ 类型/ :/ 1/ 个/ 字节/ ,/ 表示/ 该/ 单播/ 路由/ 请求/ 对应/ 服务/ 等级/ :/ 1/ 个/ 字节/ ,/ 表示/ 该/ 单播/ 路由/ 请求/ 对应/ IPv6/ 源地址/ ./ IPv6/ 目的/ 地址/ ./ 的/ 业务/ 类型/ ./ 如下/ :/ 路由/ 请求/ ./ 的/ 业务/ 类型/ 下/ 的/ 服务/ 等级/ ./ 下/ 跳/ 标识/ :/ 8/ 个/ 字节/ ,/ 对应/ 下/ 跳/ 节点/ 的/ 自治/ 域/ ID/ 和/ 路由器/ ID/ ./ 转发/ 接口/ :/ 1/ 个/ 字节/ ,/ 表示/ 向下/ 跳/ 节点/ 转发/ 数据/ 的/ 接口号/ ./ 如下/ :/ 路由/ 请求/ ./ 组播/ 路由表/ 格式/ 如图/ 1/ (/ d/ )/ 所示/ ,/ 表中/ 各项/ 说明/ 组播/ 路由/ 请求/ ID/ :/ 4/ 个/ 字节/ ,/ 唯一/ 标识/ 该组/ 播/ 源地址/ :/ 16/ 个/ 字节/ ,/ 表示/ 该组/ 播/ 路由/ 请求/ 的/ IPv6/ 组播源/ 节点/ 地址/ ./ 目的/ 地址/ :/ 16/ 个/ 字节/ ,/ 表示/ 该组/ 播/ 路由/ 请求/ 的/ IPv6/ 组播/ 组/ 地址/ ./ 的/ 业务/ 类型/ ./ 业务/ 类型/ :/ 1/ 个/ 字节/ ,/ 表示/ 该组/ 播/ 路由/ 请求/ 对应/ 服务/ 等级/ :/ 1/ 个/ 字节/ ,/ 表示/ 该组/ 播/ 路由/ 请求/ 对应/ 的/ 业务/ 类型/ 下/ 的/ 服务/ 等级/ ./ 下游/ 节点/ 标识/ :/ 8/ 个/ 字节/ ,/ 对应/ 下游/ 节点/ 的/ 自治/ 域/ ID/ 和/ 路由器/ ID/ ./ 转发/ 接口/ :/ 1/ 个/ 字节/ ,/ 表示/ 向/ 该/ 下游/ 节点/ 转发/ 数据/ 的/ 接口号/ ./ 同/ 一组/ 播/ 路由/ 请求/ 在/ 组播/ 路由表/ 中/ 可以/ 有/ 多个/ 下游/ 节点/ 标识/ 和/ 转发/ 接口/ 项/ ./ 注/ :/ “/ }/ ☆/ ”/ 表示/ 可/ 有/ 多项/ ./ 3.3/ 协议/ 报文/ 首部/ 定义/ 在/ 本文/ 提出/ 的/ 面向/ 认知/ 网络/ 的/ QoS/ 路由/ 协议/ 中/ ,/ 所有/ 报文/ 使用/ 统一/ 的/ 报文/ 首部/ ,/ 格式/ 如图/ 2/ 所示/ ,/ 各字段/ 说明/ 如下/ :/ Page4/ 所在/ 自治/ 域/ 的/ ID/ ./ 版本号/ :/ 1/ 个/ 字节/ ,/ 协议/ 的/ 版本号/ ./ 报文/ 类型/ :/ 1/ 个/ 字节/ ,/ 表示/ 不同/ 的/ 报文/ 类型/ ./ 报文/ 长度/ :/ 2/ 个/ 字节/ ,/ 单位/ 字节/ ./ 自治/ 域/ ID/ :/ 4/ 个/ 字节/ ,/ 表示/ 发送/ 报文/ 的/ 路由器/ 路由器/ ID/ :/ 4/ 个/ 字节/ ,/ 表示/ 发送/ 报文/ 的/ 路由器/ 校验/ 和/ :/ 2/ 个/ 字节/ ,/ 用于/ 校验/ 报文/ 的/ 正确性/ ./ 实例/ ID/ :/ 1/ 个/ 字节/ ,/ 标识/ 不同/ 的/ 协议/ 实例/ ./ 网络/ 中/ 可以/ 运行/ 本文/ 协议/ 的/ 多个/ 实例/ ,/ 使用/ 它/ 可以/ 唯一/ 标识/ 一个/ 实例/ ./ 的/ ID/ ./ 保留/ :/ 1/ 个/ 字节/ ,/ 未来/ 扩展/ 用/ ./ 07815162324313.4/ 感觉/ 节点/ 通过/ 感觉/ 行为/ 获取/ 和/ 维护/ 邻居/ 信息/ ,/ 感觉/ 其/ 邻居/ 节点/ 的/ 加入/ 、/ 退出/ 和/ 状态/ ,/ 感觉/ 直连/ 链路/ 的/ 状态/ ./ 感觉/ 行为/ 使用/ Hello/ 、/ Sense/ 和/ SenseAck/ 三种/ 报文/ 交互/ ./ 节点/ 周期性/ 发送/ Hello/ 报文/ 来/ 感知/ 邻居/ 节点/ 的/ 存在/ 、/ 加入/ 与/ 退出/ ,/ 报文/ 类型/ 为/ 01/ ,/ 格式/ 如图/ 3/ 所示/ ,/ 各字段/ 说明/ 如下/ :/ Hello/ 时间/ 间隔/ :/ 2/ 个/ 字节/ ,/ 发送/ Hello/ 报文/ 的/ 周期/ ,/ 单位/ 为/ s/ ./ 无效/ 时间/ 间隔/ :/ 2/ 个/ 字节/ ,/ 在/ 此/ 时间/ 内/ 如果/ 一直/ 未/ 收到/ 邻居/ 节点/ 的/ Hello/ 报文/ ,/ 则/ 认为/ 邻居/ 节点/ 已经/ 退出/ ,/ 单位/ 为/ s/ ./ 邻居/ 节点/ 自治/ 域/ ID/ 和/ 邻居/ 节点/ 路由器/ ID/ :/ 标识/ 邻居/ 节点/ ./ 由于/ 一个/ 节点/ 可以/ 有/ 多个/ 邻居/ ,/ 因此/ Hello/ 报文/ 的/ 长度/ 不/ 固定/ ,/ 可以/ 通过/ 报文/ 长度/ 得出/ 该报/ 文/ 携带/ 邻居/ 节点/ 信息/ 的/ 个数/ ./ 邻居/ 节点/ 自治/ 域/ ID/ ☆/ 节点/ 通过/ 周期性/ 发送/ Sense/ 报文/ 来/ 获取/ 邻居/ 节点/ 和/ 对应/ 邻边/ 的/ 状态/ 信息/ ,/ 报文/ 类型/ 为/ 02/ ,/ 格式/ 如图/ 4/ 所示/ ,/ 字/ 段/ 说明/ 如下/ :/ 报文/ 发送/ 时刻/ :/ 4/ 个/ 字节/ ,/ 记录/ 该报/ 文/ 的/ 发送/ 时刻/ ,/ 单位/ 为/ ms/ ./ SenseAck/ 报文/ 是/ 对/ Sense/ 报文/ 的/ 应答/ ,/ 报文/ 类型/ 为/ 03/ ,/ 格式/ 如图/ 5/ 所示/ ,/ 各字段/ 说明/ 如下/ :/ 接收者/ 自治/ 域/ ID/ 和/ 接收者/ 路由器/ ID/ :/ 标识/ 接收/ 该/ SenseAck/ 报文/ 的/ 节点/ ,/ 与/ 发送/ 对应/ 的/ Sense/ 报文/ 的/ 节点/ 标识/ 相对/ 应/ ./ 报文/ 发送/ 时刻/ :/ 4/ 个/ 字节/ ,/ 对应/ Sense/ 报文/ 的/ 发送/ 节点/ 发送/ Sense/ 报文/ 的/ 时刻/ ,/ 单位/ 为/ ms/ ./ 出口/ 可用/ 带宽/ 和/ 入口/ 可用/ 带宽/ :/ 该/ SenseAck/ 报文/ 发送/ 节点/ 对应/ 接口/ 的/ 出口/ 和/ 入口/ 可用/ 带宽/ ,/ 单位/ 为/ Kbps/ ./ 16/ 位/ 的/ 字/ 段/ 分为/ 指数/ 部分/ 和/ 尾数/ 部分/ ,/ 令/ 指数/ 部分/ 占/ a/ 位/ ,/ 则/ 尾数/ 部分/ 占/ (/ 16/ -/ a/ )/ 位/ ,/ 令/ 基数/ 为/ b/ ,/ 则/ 可以/ 表示/ 的/ 最大/ 可用/ 带宽/ 值为/ 216/ -/ a/ (/ )/ -/ 1/ ×/ baKbps/ ./ 本文/ 在/ 原型/ 实现/ 时/ 这/ 两个/ 字段/ 均/ 采用/ 无/ 符号/ 整数/ 编码/ ,/ 支持/ 的/ 可用/ 带宽/ 最大值/ 为/ 216/ (/ )/ -/ 1Kbps/ ,/ 即/ 65535Kbps/ ./ 出口/ 出错率/ 和/ 入口/ 出错率/ :/ 该/ SenseAck/ 报文/ 发送/ 节点/ 对应/ 接口/ 在/ 出口/ 方向/ 和/ 入口/ 方向/ 的/ 出错率/ ,/ 为/ [/ 0/ ,/ 1/ ]/ 之间/ 的/ 小数/ ,/ 编码方式/ 为/ 实际/ 出错率/ 乘以/ 10000/ ,/ 取整/ ;/ 读取/ 时/ ,/ 将/ 读出/ 值/ 除以/ 10000/ ,/ 作为/ 出错率/ ./ CPU/ 使用率/ :/ 2/ 字节/ ,/ 该/ SenseAck/ 报文/ 发送/ 节点/ 的/ CPU/ 使用率/ ,/ 编解码/ 方法/ 与/ 出错率/ 的/ 相同/ ./ 存储/ 使用率/ :/ 2/ 字节/ ,/ 该/ SenseAck/ 报文/ 发送/ 节点/ 的/ 存储/ 使用率/ ,/ 编解码/ 方法/ 与/ 出错率/ 的/ 相同/ ./ 处理/ 时间/ :/ 4/ 个/ 字节/ ,/ 从/ 收到/ 对应/ 的/ Sense/ 报文/ 到/ 发送/ 该/ SenseAck/ 报文/ 的/ 时间差/ ,/ 单位/ 为/ ms/ ./ 报文/ 接收/ 时刻/ :/ 4/ 个/ 字节/ ,/ 收到/ SenseAck/ 报文/ 的/ 时刻/ ,/ 单位/ 为/ ms/ ./ 节点/ vi/ 按/ “/ Hello/ 时间/ 间隔/ ”/ 向/ 邻居/ 节点/ 周期性/ 发送/ Hello/ 报文/ ./ 节点/ vj/ 首次/ 收到/ vi/ 发送/ 的/ Hello/ 报文/ 时/ ,/ 将/ vi/ 相关/ 信息/ 存入/ vj/ 的/ 邻居/ 信息/ 表中/ ./ 如/ Page5/ 果/ 在/ “/ 无效/ 时间/ 间隔/ ”/ 内/ ,/ vj/ 始终/ 没有/ 收到/ vi/ 的/ Hello/ 报文/ ,/ 则/ 认为/ vi/ 已经/ 退出/ ,/ 并/ 将/ vi/ 的/ 相关/ 信息/ 从/ vj/ 的/ 邻居/ 信息/ 表中/ 删除/ ./ vj/ 和/ vi/ 成为/ 邻居/ 后/ ,/ 通过/ Sense/ 报文/ 和/ SenseAck/ 报文/ 周期性/ 交互/ ,/ 得到/ 彼此/ 和/ 对应/ 邻边/ 的/ 状态/ 信息/ ,/ 包括/ 出口/ 方向/ 和/ 入口/ 方向/ 的/ 可用/ 带宽/ 、/ 延迟/ 、/ 延迟/ 抖动/ 和/ 出错率/ ./ 3.5/ 活动/ 感/ 节点/ 通过/ 活动/ 感/ 行为/ 促进/ 网络/ 节能/ ./ 如果/ 节点/ 在/ 一段时间/ 内/ 既/ 没有/ 收到/ 路由/ 请求/ 也/ 没有/ 数据/ 需其/ 转发/ ,/ 则/ 进入/ 休眠状态/ ;/ 如果/ 休眠/ 节点/ 收到/ 路由/ 请求/ 或/ 需要/ 转发/ 数据/ ,/ 则/ 苏醒/ ,/ 进入/ 工作/ 状态/ ;/ 休眠/ 节点/ 也/ 可/ 由/ 邻居/ 节点/ 唤醒/ ./ 活动/ 感/ 行为/ 通过/ Sleep/ 、/ WakeupInform/ 和/ Wakeup/ 三种/ 报文/ 交互/ ./ 节点/ 使用/ Sleep/ 报文/ ,/ 通知/ 邻居/ 节点/ 其/ 将/ 进入/ 休眠状态/ ;/ 使用/ Wakeup/ 报文/ 唤醒/ 休眠/ 节点/ ;/ 使用/ WakeupInform/ 报文/ ,/ 通知/ 邻居/ 节点/ 其/ 已/ 进入/ 正常/ 工作/ 状态/ ./ Sleep/ 报文/ 和/ WakeupInform/ 报文/ 只有/ 报文/ 首部/ ,/ 其中/ ,/ Sleep/ 报文/ 类型/ 为/ 04/ ,/ WakeupInform/ 报文/ 类型/ 为/ 05/ ./ Wakeup/ 报文/ 类型/ 为/ 06/ ,/ 格式/ 如图/ 6/ 所示/ ./ 如果/ vi/ 要/ 进入/ 休眠状态/ ,/ 则/ 其/ 向/ 所有/ 邻居/ 节点/ 发送/ Sleep/ 报文/ ,/ 通知/ 其/ 将/ 进入/ 休眠状态/ ,/ vi/ 启动/ 休眠/ 计时器/ ./ 收到/ Sleep/ 报文/ 的/ 邻居/ 节点/ 将/ 其/ 邻居/ 信息/ 表中/ vi/ 的/ 休眠/ 标志/ 置/ 1/ ./ 如果/ vi/ 的/ 某个/ 邻居/ 节点/ 需要/ 其/ 恢复/ 到/ 正常/ 工作/ 状态/ ,/ 则/ 向/ vi/ 发送/ Wakeup/ 报文/ ,/ 将/ 其/ 唤醒/ ./ 如果/ 没有/ 节点/ 唤醒/ vi/ ,/ 则/ 当/ 休眠/ 计时器/ 到期/ 时/ ,/ vi/ 自动/ 苏醒/ ./ vi/ 被/ 唤醒/ 或/ 苏醒/ 后/ ,/ 向/ 其/ 所有/ 邻居/ 节点/ 发送/ WakeupInform/ 报文/ ,/ 告知/ 其/ 已/ 进入/ 正常/ 工作/ 状态/ ,/ 收到/ WakeupInform/ 报文/ 的/ 邻居/ 节点/ 将/ 其/ 邻居/ 信息/ 表中/ vi/ 的/ 休眠/ 标志/ 置/ 0.3/ ./ 6/ 记忆/ 当/ 找到/ 满足/ 路由/ 需求/ 的/ 路径/ 时/ ,/ 沿/ 反向/ 路径/ 返回/ 找到/ 的/ 路径/ 信息/ ,/ 并/ 在/ 沿途/ 节点/ 记忆/ 从/ 其/ 到达/ 目的/ 节点/ 的/ 经验/ 路段/ 信息/ ,/ 从而/ 为/ 以后/ 快捷/ 寻路/ 提供/ 有效/ 支持/ ./ 记忆/ 行为/ 通过/ Memorize/ 报文/ 实现/ ,/ 报文/ 类型/ 为/ 07/ ,/ 格式/ 如图/ 7/ 所示/ ,/ 各字段/ 说明/ 如下/ :/ 目的/ 地址/ :/ 16/ 个/ 字节/ ,/ 目的/ 节点/ 的/ IPv6/ 地址/ ./ 该/ 节点/ 和/ 目的/ 节点/ 间/ 经验/ 路段/ QoS/ :/ 16/ 个/ 字节/ ,/ 该/ 节点/ 和/ 目的/ 节点/ 之间/ 经验/ 路段/ 的/ 双向/ 可用/ 带宽/ 、/ 延迟/ 、/ 延迟/ 抖动/ 和/ 出错率/ ./ 说明/ 同/ 经验/ 路段/ 表/ ./ 该/ 节点/ 和/ 目的/ 节点/ 间/ 经验/ 路段/ 组成/ 节点/ 标识/ :/ 记忆/ 行为/ 由/ 目的/ 节点/ 使用/ Memorize/ 报文/ 发起/ ./ 假设/ 已经/ 找到/ 一条/ 满足/ 需求/ 的/ 从源/ 节点/ vs/ 到/ 目的/ 节点/ vd/ 的/ 路径/ vs/ →/ …/ →/ vi/ →/ …/ →/ vd/ ./ vd/ 反向/ 向/ 沿途/ 各/ 节点/ 发送/ Memorize/ 报文/ ,/ 中途/ 各/ 节点/ vi/ (/ 1/ / i/ / n/ )/ 收到/ Memorize/ 报文/ 后/ ,/ 根据/ 报文/ 携带/ 的/ 经验/ 路段/ QoS/ 以及/ vi/ 到/ vi/ +/ 1/ 边/ 的/ QoS/ ,/ 使用/ 式/ (/ 1/ )/ ~/ (/ 4/ )/ 计算/ 得出/ 从/ vi/ 到/ vd/ 的/ 经验/ 路段/ QoS/ ,/ 存入/ 本地/ 经验/ 路段/ 信息/ 表/ ,/ 同时/ 更新/ Memorize/ 报文/ 中/ 的/ 经验/ 路段/ QoS/ ,/ 转发/ Memorize/ 报文/ 给/ vi/ -/ 1/ ,/ 直至/ 到达/ vs/ ./ 其中/ ,/ bwp/ 、/ dlp/ 、/ jtp/ 和/ lsp/ 分别/ 为/ vi/ 收到/ 的/ Memorize/ 报文/ 中/ 携带/ 的/ 经验/ 路段/ 可用/ 带宽/ 、/ 延迟/ 、/ 延迟/ 抖动/ 和/ 出错率/ 值/ ,/ bwl/ 、/ dll/ 、/ jtl/ 和/ lsl/ 分别/ 为/ vi/ 到/ vi/ +/ 1/ 边/ 的/ 可用/ 带宽/ 、/ 延迟/ 、/ 延迟/ 抖动/ 和/ 出错率/ 值/ ,/ bw/ 、/ dl/ 、/ jt/ 和/ ls/ 分别/ 为/ 从/ vi/ 到/ vd/ 的/ 经验/ 路段/ 的/ 可用/ 带宽/ 、/ 延迟/ 、/ 延迟/ 抖动/ 和/ 出错率/ 值/ ./ 经验/ 路段/ 两个/ 方向/ 的/ QoS/ 参数/ 分别/ 计算/ ./ 3.7/ 查找/ 查找/ 是/ 节点/ 通过/ 查询/ 邻居/ 节点/ 经验/ 路段/ 信息/ 表/ 寻找/ 到达/ 目的/ 节点/ 经验/ 路段/ 信息/ 的/ 行为/ ,/ 目的/ 是/ 提高/ 路由/ 效率/ ./ 节点/ 通过/ Search/ 报文/ 和/ SearchAck/ 报文/ 实现/ 与/ 邻居/ 节点/ 的/ 查找/ 交互/ ./ Search/ 报文/ 类型/ 为/ 08/ ,/ 格式/ 如图/ 8/ 所示/ ./ 其中/ ,/ 源/ 节点/ 和/ 该/ 节点/ 之间/ 的/ 路段/ QoS/ 字段/ 16/ 个/ 字节/ ,/ 分别/ 对/ 应该/ 路段/ 的/ 双向/ 可用/ 带宽/ 、/ 延迟/ 、/ 延迟/ 抖动/ 和/ 出错率/ ,/ 路段/ 组成/ 节点/ 标识/ 说明/ 同/ 经验/ 路段/ 信息/ 表/ ./ Page6SearchAck/ 报文/ 类型/ 为/ 09/ ,/ 格式/ 如图/ 9/ 所示/ ./ 其中/ ,/ 经验/ 路段/ 数字/ 段/ 为/ 1/ 个/ 字节/ ,/ 表示/ 满足条件/ 的/ 经验/ 路段/ 数目/ ;/ #/ SEG/ _/ START/ 和/ #/ SEG/ _/ END/ ,/ 均/ 为/ 2/ 个/ 字节/ ,/ 分别/ 标识/ 经验/ 路段/ 的/ 开始/ 与/ 结束/ ,/ 两者之间/ 是/ 该/ 经验/ 路段/ 的/ PID/ 、/ QoS/ (/ 16/ 个/ 字节/ ,/ 分别/ 对/ 应该/ 经验/ 路段/ 的/ 双向/ 可用/ 带宽/ 、/ 延迟/ 、/ 延迟/ 抖动/ 和/ 出错率/ )/ 和/ 组成/ 节点/ 标识/ (/ 长度/ 视/ 组成/ 节点/ 个数/ 而定/ )/ ./ 路由/ 请求/ ID/ 业务/ 类型/ 服务/ 等级/ 经验/ 路段/ 数/ #/ SEG/ _/ START/ ☆/ 节点/ 向/ 其/ 邻居/ 节点/ 发送/ Search/ 报文/ ,/ 邻居/ 节点/ 收到/ Search/ 报文/ 后/ ,/ 在/ 本地/ 经验/ 路段/ 信息/ 表中/ 查找/ 同时/ 满足/ 下列/ 两个/ 条件/ 的/ 经验/ 路段/ :/ 目的/ 地址/ 与/ Search/ 报文/ 中/ 携带/ 的/ 目的/ 地址/ 相同/ ;/ 经验/ 路段/ QoS/ 与/ Search/ 报文/ 中/ 携带/ 的/ 路段/ QoS/ 的/ 组合/ 满足/ 路由/ 请求/ 对应/ 的/ 业务/ 类型/ 和/ 服务/ 等级/ 要求/ ./ 邻居/ 节点/ 将/ 满足条件/ 的/ 经验/ 路段/ 数/ 和/ 经验/ 路段/ 信息/ 填入/ SearchAck/ 报文/ 的/ 对应/ 字/ 段/ ,/ 而后/ 将/ SearchAck/ 报文/ 发送给/ 当前/ 节点/ ./ 如果/ 满足条件/ 的/ 经验/ 路段/ 多于/ 由/ 经验/ 路段/ 数字/ 段/ 确定/ 的/ 上限/ ,/ 则/ 择优选用/ 上限/ 个/ 经验/ 路段/ ./ 3.8/ 决策/ 节点/ 根据/ 其/ Search/ 的/ 结果/ 即/ 收到/ 的/ SearchAck/ 报文/ 进行/ 路由/ 决策/ ./ 如果/ SearchAck/ 报文/ 的/ 经验/ 路段/ 数字/ 段值/ 为/ 0/ ,/ 则/ 表示/ 无/ 满足条件/ 的/ 可用/ 经验/ 路段/ ,/ 当前/ 节点/ 按照/ 常规/ 寻路/ 过程/ ,/ 寻找/ 下/ 一/ 跳/ ,/ 在/ 下/ 一/ 跳/ 继续/ 3.7/ 节/ 的/ 查找/ ;/ 如果/ SearchAck/ 报文/ 的/ 经验/ 路段/ 数字/ 段值/ 为/ 1/ ,/ 则/ 直接/ 使用/ 经验/ 路段/ ;/ 否则/ ,/ 根据/ 路由/ 请求/ 对应/ 的/ 业务/ 类型/ 和/ 服务/ 等级/ ,/ 按照/ 既定/ 的/ 决策/ 规则/ (/ 例如/ ,/ 跳数/ 最/ 短/ 、/ 可用/ 带宽/ 最大/ 、/ 延迟/ 最小/ 、/ 延迟/ 抖动/ 最低/ 或/ 出错率/ 最低/ 及其/ 各种/ 组合/ )/ 从/ 多条/ 可用/ 经验/ 路段/ 中/ 选出/ 最/ 适合/ 的/ 经验/ 路段/ ./ 如果/ 目的/ 地址/ 已达/ ,/ 则/ 路由/ 过程/ 结束/ ,/ 节点/ 通过/ Decide/ 报文/ 通知/ 路径/ 上/ 的/ 所有/ 节点/ 已/ 为/ 路由/ 请求/ 完成/ 寻路/ ./ Decide/ 报文/ 类型/ 为/ 10/ ,/ 格式/ 如图/ 10/ 所示/ ,/ 其中/ ,/ 路径/ 组成/ 节点/ 标识/ 字/ 段/ 存放/ 路径/ 上/ 各/ 节点/ 对应/ 的/ 自治/ 域/ ID/ 和/ 路由器/ ID/ ./ 3.9/ 执行/ 已/ 完成/ 路由/ 请求/ 的/ 路径/ 上/ 沿途/ 各/ 节点/ 收到/ Decide/ 报文/ 后/ ,/ 执行/ 路由表/ 更新/ 操作/ ,/ 相关/ 节点/ 更新/ 其/ 相关/ 经验/ 路段/ 定时器/ 为/ 最大值/ 且/ 使用/ 次数/ 加/ 1.3/ ./ 10/ 推理/ 如果/ 有/ 经验/ 路段/ 在/ 时间/ 间隔/ T/ 内/ 的/ 使用/ 次数/ 超过/ 预设/ 阈值/ ,/ 则/ 说明/ 该/ 经验/ 路段/ 使用/ 极其/ 频繁/ ,/ 通过/ 的/ 业务量/ 多/ ,/ 应/ 在/ 该/ 经验/ 路段/ 两端/ 点间/ 构建/ 直连线/ 路/ ,/ 以/ 改善/ 网络/ 性能/ ./ 存储/ 这样/ 的/ 经验/ 路段/ 的/ 节点/ 向/ 网络管理员/ 发出/ Reasoning/ 报文/ ,/ 给出/ 直连/ 建议/ ./ Reasoning/ 报文/ 类型/ 为/ 11/ ,/ 格式/ 如图/ 11/ 所示/ ./ 一个/ Reasoning/ 报文/ 可/ 携带/ 多条/ 这样/ 的/ 经验/ 路段/ 信息/ ./ PID/ ☆/ 网络管理员/ 收到/ Reasoning/ 报文/ 后/ ,/ 可/ 在/ 未来/ 网络/ 的/ 规划/ 和/ 建设/ 中/ 予以考虑/ ,/ 以/ 进一步/ 优化/ 网络/ 运行/ ./ 如果/ 在/ 经验/ 路段/ 两端/ 点间/ 建立/ 了/ 直连线/ 路/ ,/ 则/ 网络管理员/ 使用/ Delete/ 报文/ 通知/ 存储/ 相应/ 经验/ 路段/ 的/ 节点/ 从/ 经验/ 路段/ 信息/ 表中/ 删除/ 之/ ./ Delete/ 报文/ 类型/ 为/ 12/ ,/ 格式/ 如图/ 12/ 所示/ ./ 一个/ Delete/ 报文/ 可/ 携带/ 多条/ 要/ 删除/ 的/ 经验/ 路段/ 标识/ ./ PID3/ ./ 11/ 解释/ 如果/ 报文/ 在/ 转发/ 过程/ 中/ 失败/ ,/ 则/ 可能/ 是/ 由于/ 当前/ 节点/ 与/ 下游/ 节点/ 之间/ 的/ 链路/ 出现/ 故障/ 或/ // 和/ 下游/ 节点/ 出现/ 故障/ ./ 当前/ 节点/ 通过/ 对/ 下游/ 节点/ 局部/ 重/ 路由/ 来/ 测试/ 下游/ 节点/ 是否/ 工作/ 正常/ ,/ 进而/ 确定/ 是/ 链路/ 故障/ 还是/ 节点/ 故障/ 亦/ 或/ 两者/ 兼而有之/ ./ 之后/ ,/ 当前/ 节点/ 发送/ Explain/ 报文/ 给/ 网络管理员/ ,/ 通知/ 其/ 故障/ 类型/ 和/ 故障/ 位置/ ./ Explain/ 报文/ 类型/ 为/ 13/ ,/ 格式/ 如图/ 13/ 所示/ ./ Explain/ 报文/ 是/ 变长/ 的/ ,/ 其中/ ,/ 故障/ 类型/ 为/ 1/ ,/ 表示/ 节点/ 故障/ ,/ 报文/ 只/ 携带/ 故障/ 节点/ 标识/ ;/ 故障/ 类型/ 为/ Page72/ ,/ 表示/ 链路/ 故障/ ,/ 报文/ 只/ 携带/ 故障/ 链路/ 标识/ ;/ 故障/ 类型/ 为/ 3/ ,/ 表示/ 节点/ 和/ 链路/ 均/ 发生/ 故障/ ,/ 报文/ 携带/ 故障/ 节点/ 标识/ 和/ 故障/ 链路/ 标识/ ./ 4/ 性能/ 评价/ 4.1/ 网络/ 实验/ 平台/ 本文/ 提出/ 的/ 协议/ 在/ 自行/ 研制/ 的/ 原型/ 路由器/ 上/ 进行/ 了/ 实现/ ,/ 在/ 参照/ CERNET2/ 拓扑/ 由/ 20/ 台/ 原型/ 路由器/ 构成/ 的/ 网络/ 实验/ 平台/ 上/ 进行/ 了/ 实验/ ./ 网络/ 实验/ 平台/ 如图/ 14/ 所示/ ,/ 连接/ 4/ 台/ 应用服务器/ ./ 4.2/ 实验/ 结果/ 选取/ OSPFv3/ [/ 23/ ]/ 作为/ 比较/ 对象/ ,/ 对比/ 本文/ 协议/ 与/ OSPFv3/ 的/ 性能/ ./ 表/ 1/ 为/ 本文/ 协议/ 和/ OSPFv3/ 获取/ 邻居/ 信息/ 所/ 需/ 时间/ 、/ 传输/ 报文/ 数/ 以及/ 字节数/ 之比/ ./ 可以/ 看出/ ,/ 本文/ 协议/ 开销/ 比/ OSPFv3/ 大/ ,/ 这/ 是因为/ 本文/ 协议/ 不仅/ 需要/ 发现/ 邻居/ 而且/ 需要/ 获取/ 邻居/ 节点/ 状态/ 信息/ 和/ 直连/ 链路/ 状态/ 信息/ ,/ OSPFv3/ 只/ 需/ 发现/ 邻居/ 即可/ ./ 表/ 2/ 为/ 本文/ 协议/ 与/ OSPFv3/ 从/ 协议/ 启动/ 到/ 进入/ 收敛/ 状态/ 所/ 需/ 时间/ 、/ 传输/ 报文/ 数/ 以及/ 字节数/ 之比/ ./ 可以/ 看出/ ,/ 本文/ 协议/ 开销/ 低于/ OSPFv3/ ,/ 这/ 是因为/ 本文/ 协议/ 仅/ 使用/ 局部/ 信息/ ,/ 而/ OSPFv3/ 需要/ 收集/ 全局/ 信息/ ./ 表/ 3/ 为/ 本文/ 协议/ 与/ OSPFv3/ 协议/ 在/ 进入/ 收敛/ 状态/ 后/ 单位/ 时间/ 内/ 传输/ 报文/ 数/ 和/ 字节数/ 之比/ ./ 可以/ 看出/ ,/ 本文/ 协议/ 比/ OSPFv3/ 传输/ 的/ 报文/ 数量/ 多/ ,/ 这/ 是因为/ 本文/ 协议/ 需要/ 定期/ 更新/ 邻居/ 节点/ 和/ 直连/ 链路/ 信息/ ,/ 而/ OSPFv3/ 不/ 需要/ 此/ 过程/ ;/ 但是/ ,/ 本文/ 协议/ 传输/ 字节数/ 比/ OSPFv3/ 小/ ,/ 这/ 是因为/ 本文/ 协议/ 的/ 报文/ 只/ 携带/ 局部/ 信息/ ,/ 而/ OSPFv3/ 有些/ 报文/ 需/ 携带/ 全局/ 信息/ ./ 表/ 4/ 为/ 本文/ 协议/ 与/ OSPFv3/ 在/ 有/ 节点/ 加入/ // 退出/ 导致/ 网络拓扑/ 出现/ 变化/ 时/ 协议/ 重新/ 到达/ 收敛/ 状态/ 所/ 需/ 时间/ 之比/ ./ 可以/ 看出/ ,/ 本文/ 协议/ 重新/ 进入/ 收敛/ 状态/ 所/ 需/ 时间/ 更/ 少/ ,/ 这/ 是因为/ 本文/ 协议/ 只/ 需/ 加入/ // 退出/ 节点/ 的/ 邻居/ 节点/ 发现/ 此/ 变化/ 且/ 更新/ 其/ 路由/ 信息/ 表/ 即可/ ,/ 而/ OSPFv3/ 需要/ 网络/ 中/ 所有/ 节点/ 都/ 获知/ 全局/ 拓扑/ 信息/ ./ 图/ 15/ 为/ 本文/ 协议/ 与/ OSPFv3/ 的/ 节点/ CPU/ 和/ 存储/ 使用率/ 之比/ ./ 可以/ 看出/ ,/ 本文/ 协议/ 在/ 进入/ 收敛/ 状态/ 前比/ OSPFv3/ 的/ 节点/ CPU/ 使用率/ 低/ ,/ 在/ 进入/ 收敛/ 状态/ 后/ 比/ OSPFv3/ 的/ 高/ ,/ 这/ 是因为/ 本文/ 协议/ 只/ 需要/ 收集/ 局部/ 信息/ 但是/ 需要/ 定期/ 更新/ ;/ 本文/ 协议/ 比/ OSPFv3/ 的/ 节点/ 存储/ 使用率/ 低/ ,/ 这/ 是因为/ 本文/ 协议/ 仅/ 需要/ 存储/ 局部/ 信息/ ,/ 而/ OSPFv3/ 需要/ 存储/ 全局/ 信息/ ./ 图/ 16/ 是/ 本文/ 协议/ 下/ 网络/ 节点/ 休眠/ 率/ (/ 定义/ 为/ 网络/ 中/ 休眠/ 节点/ 数/ 与/ 网络/ 节点/ 总数/ 之/ 比/ )/ 在/ 不同/ 网络/ 负载/ 下/ 的/ 变化/ 情况/ ./ 可以/ 看出/ ,/ 随着/ 单位/ 时间/ 内/ 路由/ 请求/ 数/ 的/ 增多/ ,/ 休眠/ 率/ 逐渐/ 降低/ ,/ 这/ 是因为/ 网络/ 中需/ Page8/ 要/ 处理/ 路由/ 请求/ 和/ 传输/ 业务量/ 的/ 节点/ 数/ 逐渐/ 增多/ ,/ 因而/ 可以/ 进入/ 休眠状态/ 的/ 节点/ 逐渐/ 减少/ ./ 5/ 结论/ 本文/ 提出/ 了/ 一种/ 面向/ 认知/ 网络/ 的/ QoS/ 路由/ 协议/ ,/ 赋予/ 路由/ 节点/ 感觉/ 、/ 活动/ 感/ 、/ 记忆/ 、/ 查找/ 、/ 决策/ 、/ 执行/ 、/ 推理/ 和/ 解释/ 等/ 认知/ 行为/ ,/ 定义/ 了/ 与/ 这些/ 行为/ 相对/ 应/ 的/ 报文/ 及其/ 操作/ ./ 节点/ 通过/ 感觉/ 和/ 活动/ 感/ 行为/ 收集/ 和/ 维护/ 邻居/ 节点/ 和/ 直连/ 链路/ 状态/ 等/ 局部/ 信息/ ,/ 通过/ 记忆/ 和/ 查找/ 行为/ 加快/ 寻路/ 过程/ ,/ 通过/ 决策/ 和/ 执行/ 行为/ 完成/ 路由/ 选择/ ,/ 通过/ 推理/ 和/ 解释/ 行为/ 维护/ 和/ 优化/ 网络/ 运行/ ./ 对/ 本文/ 提出/ 的/ 协议/ 进行/ 了/ 原型/ 实现/ ,/ 并/ 与/ OSPFv3/ 进行/ 了/ 性能/ 比较/ ,/ 结果表明/ ,/ 本文/ 提出/ 的/ 协议/ 是/ 可行/ 和/ 有效/ 的/ ./ 协议/ 的/ 进一步/ 完善/ 和/ 实用化/ 是/ 未来/ 研究/ 工作/ 的/ 重点/ ./ 致谢/ 审稿/ 专家/ 和/ 编辑/ 老师/ 为/ 本文/ 提出/ 了/ 宝贵/ 的/ 修改意见/ 和/ 建议/ ,/ 在/ 此/ ,/ 我们/ 表示/ 衷心/ 的/ 感谢/ !/ 

