Page1/ 基于/ G/ // G/ // 1/ -/ FCFS/ 、/ M/ // G/ // 1/ -/ PS/ 和/ M/ // G/ // 排队/ 网络/ 的/ Web/ 服务/ 组合/ 性能/ 分析/ 汪浩/ 黄明/ 和/ 龙浩/ (/ 江西师范大学/ 软件/ 学院/ 南昌/ 330022/ )/ 摘要/ 影响/ Web/ 服务/ 组合/ 性能/ 的/ 因素/ 分为/ “/ 内因/ ”/ 和/ “/ 外因/ ”/ ,/ 内因/ 具体表现/ 为/ :/ BPEL/ 流程/ 的/ 结构/ 、/ BPEL/ 流程/ 中/ 变量/ 取值/ 的/ 概率分布/ ;/ 外因/ 具体表现/ 为/ :/ Web/ 服务器/ 的/ 软硬件/ 处理/ 能力/ 、/ Web/ 服务器/ 的/ 负载/ (/ 包括/ “/ 正对/ 其/ 进行/ 性能/ 分析/ 的/ Web/ 服务/ 组合/ ”/ 对/ Web/ 服务器/ 形成/ 的/ 负载/ 和/ “/ 其它/ Web/ 服务/ 组合/ ”/ 对/ Web/ 服务器/ 形成/ 的/ 负载/ )/ 以及/ Web/ 服务器/ 的/ 调度/ 策略/ ./ 目前/ 广泛/ 采用/ 的/ 广义/ Petri/ 网/ 、/ 排队/ Petri/ 网/ 、/ Markov/ 过程/ 和/ 随机/ 进程/ 代数/ 等/ 模型/ 不能/ 同时/ 综合/ 建模/ 上述/ 各种/ “/ 内因/ ”/ 和/ “/ 外因/ ”/ 对/ Web/ 服务/ 组合/ 性能/ 的/ 影响/ ,/ 导致/ 不能/ 全面/ 分析/ Web/ 服务/ 组合/ 在/ 互联网/ 环境/ 下/ 的/ 性能/ ./ 文中/ 建立/ 了/ 一组/ 把/ 影响/ Web/ 服务/ 组合/ 性能/ 的/ 各种/ “/ 内因/ ”/ 和/ “/ 外因/ ”/ 映射/ 到/ 具有/ G/ // G/ // 1/ -/ FCFS/ 、/ M/ // G/ // 1/ -/ PS/ 和/ M/ // G/ // 排队/ 节点/ 类型/ 的/ 排队/ 网络/ 的/ 映射/ 规则/ ,/ 给出/ 了/ 一组/ 建立/ 在/ 排队/ 网络/ 基础/ 上/ 的/ Web/ 服务/ 组合/ 性能/ 分析/ 指标体系/ 及其/ 计算公式/ ,/ 并/ 以/ 这些/ 性能/ 分析/ 指标体系/ 为/ 基础/ ,/ 分析/ 了/ Web/ 服务/ 组合/ 的/ 性能/ 及其/ 变化规律/ ,/ 以便/ 在/ Web/ 服务/ 组合/ 部署/ 前/ ,/ 分析/ 预测/ Web/ 服务/ 组合/ 在/ 互联网/ 环境/ 下/ 的/ 性能/ ./ 关键词/ 面向/ 服务/ 计算/ ;/ BPEL/ ;/ Web/ 服务/ 组合/ ;/ 排队/ 网络/ ;/ 性能/ 分析/ 1/ 引言/ 面向/ 服务/ 的/ 计算/ [/ 1/ ]/ 是/ 互联网/ 分布式/ 异构/ 环境/ 下/ 实现/ 跨/ 组织/ 应用/ 集成/ 的/ 重要/ 技术/ ,/ 它/ 以/ 具有/ 松散/ 耦合/ 和/ 可/ 重用/ 等/ 特性/ 的/ Web/ 服务/ 为/ 构造/ 单元/ ,/ 通过/ Web/ 服务/ 组合/ 技术/ ,/ 实现/ 数据/ 、/ 资源/ 和/ 系统/ 的/ 集成/ ./ BPEL/ (/ BusinessProcessExecutionLanguage/ )/ 是/ OASIS/ (/ AdvancingOpenStandardsfortheInformationSociety/ )/ 制定/ 的/ 用于/ Web/ 服务/ 组合/ 的/ 语言/ ./ 性能/ 是/ Web/ 服务/ 组合/ 取得成功/ ,/ 赢得/ 用户/ 的/ 关键/ ./ 度量/ Web/ 服务/ 组合/ 性能/ 的/ 指标/ 有/ “/ 响应/ 时间/ 、/ 吞吐/ 率/ 和/ 利用率/ ”/ 等/ ./ 由于/ Web/ 服务/ 组合/ 逻辑/ 的/ 复杂性/ 、/ 互联网/ 的/ 动态/ 开放性/ 和/ Web/ 服务器/ 负载/ 的/ 不/ 可预测性/ ,/ 使得/ Web/ 服务/ 组合/ 性能/ 分析/ 成为/ 具有/ 挑战性/ 的/ 研究/ ./ 影响/ Web/ 服务/ 组合/ 性能/ 的/ 因素/ 分为/ “/ 内因/ ”/ 和/ “/ 外因/ ”/ ,/ 其中/ “/ Web/ 服务/ 组合/ 逻辑/ 的/ 复杂性/ ”/ 是/ 内因/ ;/ “/ 互联网/ 的/ 动态/ 开放性/ 、/ 服务器/ 负载/ 的/ 不/ 可预测性/ ”/ 是/ 外因/ ./ 内因/ 具体表现/ 为/ :/ BPEL/ 流程/ 的/ 结构/ 、/ BPEL/ 流程/ 中/ 变量/ 取值/ 的/ 概率分布/ ;/ 外因/ 具体表现/ 为/ :/ Web/ 服务器/ 的/ 软硬件/ 处理/ 能力/ 、/ Web/ 服务器/ 的/ 负载/ 以及/ Web/ 服务器/ 调度/ 策略/ ./ 目前/ 广泛/ 采用/ 广义/ Petri/ 网/ [/ 2/ -/ 10/ ]/ 、/ 排队/ Petri/ 网/ [/ 11/ ]/ 、/ Markov/ 过程/ [/ 9/ -/ 10/ ,/ 12/ ]/ 和/ 随机/ 进程/ 代数/ [/ 13/ ]/ 为/ Web/ 服务/ 组合/ 建立/ 性能/ 分析模型/ ,/ 但/ 这些/ 模型/ 不能/ 同时/ 建模/ 上述/ 各种/ “/ 内因/ ”/ 和/ “/ 外因/ ”/ 对/ Web/ 服务/ 组合/ 性能/ 的/ 影响/ ,/ 从而/ 不能/ 反映/ Web/ 服务/ 组合/ 在/ 互联网/ 环境/ 下/ 的/ 实际/ 性能/ ./ 广义/ Petri/ 网/ 、/ Markov/ 过程/ 和/ 随机/ 进程/ 代数/ 不能/ 建模/ 互联网/ 环境/ 下/ Web/ 服务/ 调用/ 请求/ 需要/ 在/ Web/ 服务器端/ 排队/ 等待/ 运行/ 的/ 现象/ ./ 利用/ 广义/ 随机/ Petri/ 网/ 、/ Markov/ 过程/ 和/ 随机/ 进程/ 代数/ 分析/ Web/ 服务/ 组合/ 的/ 性能/ 时/ ,/ 都/ 隐含/ 着/ 如下/ 假定/ :/ 在/ Web/ 服务/ 组合/ 的/ 运行/ 过程/ 中/ ,/ 一旦/ 需要/ 调用/ 某个/ Web/ 服务/ ,/ 该/ Web/ 服务/ “/ 立即/ ”/ 就/ 能/ 在/ Web/ 服务器端/ 运行/ ./ 由于/ “/ 互联网/ 的/ 动态/ 开放性/ 和/ Web/ 服务器/ 负载/ 的/ 不/ 可预测性/ ”/ ,/ 该/ 假设/ 是/ 不/ 成立/ 的/ ./ 当/ 通过/ 互联网/ HTTP/ 协议/ 调用/ 某个/ Web/ 服务/ 时/ ,/ 至少/ 存在/ 如下/ 排队/ 过程/ [/ 14/ ]/ :/ TCP/ 协议/ 的/ 侦听/ (/ TCPListen/ )/ 排队/ 、/ HTTP/ 协议/ 的/ 侦听/ (/ HTTPListen/ )/ 排队/ 、/ HTTP/ 协议/ 的/ 线程/ 排队/ 以及/ 等待/ CPU/ 时间/ 片/ 的/ 排队/ ./ 广义/ 随机/ Petri/ 网/ 、/ Markov/ 过程/ 和/ 随机/ 进程/ 代数/ 不能/ 建模/ 这/ 类/ “/ 排队/ ”/ 等待/ 现象/ ./ 广义/ Petri/ 网/ 、/ 排队/ Petri/ 网/ 、/ Markov/ 过程/ 和/ 随机/ 进程/ 代数/ 孤立/ 地/ 分析/ 正在/ 建模/ 的/ Web/ 服务/ 组合/ 的/ 性能/ ,/ 没有/ 考虑/ 其它/ Web/ 服务/ 组合/ 对/ 正在/ 建模/ 的/ Web/ 服务/ 组合/ 性能/ 的/ “/ 干扰/ ”/ ./ 由于/ 互联网/ 的/ 动态/ 开放性/ ,/ 提供/ Web/ 服务/ 的/ Web/ 服务器/ 会/ 被/ 许多/ 不同/ 的/ Web/ 服务/ 组合/ “/ 调用/ ”/ 其/ Web/ 服务/ ./ 对/ 正在/ 进行/ 性能/ 分析/ 的/ Web/ 服务/ 组合/ 而言/ ,/ 这些/ 来自/ 其它/ Web/ 服务/ 组合/ 的/ 对/ 该/ Web/ 服务/ 的/ 调用/ ,/ 是/ 来自/ 外界/ 的/ “/ 负载/ ”/ ;/ 这些/ 无法/ 提前/ 预知/ 的/ 随机/ “/ 负载/ ”/ 会/ 对/ 正在/ 进行/ 性能/ 分析/ 的/ Web/ 服务/ 组合/ 的/ 性能/ 产生/ 重要/ 影响/ ./ 基于/ 广义/ Petri/ 网/ 、/ 排队/ Petri/ 网/ 、/ Markov/ 过程/ 和/ 随机/ 进程/ 代数/ 的/ 性能/ 分析模型/ 不能/ 建模/ 这些/ 来自/ 外界/ 的/ “/ 负载/ ”/ ,/ 导致/ 不能/ 建模/ Web/ 服务/ 组合/ 性能/ 受/ Web/ 服务器/ 负载/ 动态变化/ 的/ 影响/ ./ 本文/ 创新/ 点/ :/ 把/ 影响/ Web/ 服务/ 组合/ 性能/ 的/ 各种/ “/ 内因/ ”/ 和/ “/ 外因/ ”/ 映射/ 到/ 排队/ 网络/ ,/ 建立/ 了/ Web/ 服务/ 组合/ 性能/ 在/ 排队/ 网络/ 中/ 的/ “/ 性能/ 映像/ ”/ ,/ 该/ 性能/ 映像/ 综合/ 地/ 建模/ 了/ 各种/ “/ 内因/ ”/ 和/ “/ 外因/ ”/ 对/ Web/ 服务/ 组合/ 性能/ 的/ 影响/ ,/ 反映/ 了/ Web/ 服务/ 组合/ 在/ 互联网/ 环境/ 下/ 的/ 实际/ 性能/ ./ 并/ 获得/ 了/ 如下/ 结果/ :/ (/ 1/ )/ 建立/ 了/ 一组/ 把/ 影响/ Web/ 服务/ 组合/ 性能/ 的/ “/ 内因/ ”/ ,/ 即/ BPEL/ 基本/ 动作/ 和/ 结构/ 动作/ 〈/ invoke/ 〉/ 、/ 〈/ sequence/ 〉/ 、/ 〈/ if/ 〉/ 、/ 〈/ while/ 〉/ 、/ 〈/ repeatUntil/ 〉/ 、/ 〈/ forEach/ 〉/ 、/ 〈/ flow/ 〉/ 映射/ 为/ 排队/ 网络/ 的/ 映射/ 规则/ ./ (/ 2/ )/ 建立/ 了/ 把/ 影响/ Web/ 服务/ 组合/ 性能/ 的/ “/ 外因/ ”/ 映射/ 为/ 排队/ 网络/ 的/ 映射/ 规则/ ./ (/ 3/ )/ 给出/ 了/ 一组/ 建立/ 在/ 排队/ 网络/ 基础/ 上/ 的/ Web/ 服务/ 组合/ 性能/ 分析/ 指标体系/ 及其/ 计算公式/ ./ (/ 4/ )/ 以/ 上述/ Web/ 服务/ 组合/ 性能/ 分析/ 指标体系/ 为/ 基础/ ,/ 分析/ 了/ Web/ 服务/ 组合/ 的/ 性能/ 及其/ 变化规律/ ./ 2/ 相关/ 研究/ 分析/ 计算机系统/ 性能/ 有/ “/ 测量/ ”/ 和/ “/ 建模/ ”/ 两种/ 方法/ ./ 测量/ 是/ 分析/ Web/ 服务/ 组合/ 性能/ 的/ 方法/ 之一/ ,/ 需要/ 有/ 实际/ 系统/ 或/ 原型/ 系统/ 的/ 支持/ ./ Web/ 服务/ 信任/ 中心/ WSTC/ (/ TheWebServiceTrustCenter/ )/ 是/ 一个/ 开发/ 及/ 评价/ SOA/ 和/ Web/ 服务/ 测量/ 工具/ 和/ 技术/ 的/ 机构/ ,/ 其/ 成员/ 发表/ 了/ 一系列/ 文章/ 讨论/ Web/ 服务/ 组合/ 的/ 测量/ 问题/ [/ 14/ -/ 18/ ]/ ./ 他们/ 通过/ 在/ 提供/ Web/ 服务/ 的/ 服务器端/ 和/ 执行/ Web/ 服务/ 组合/ 的/ 客户端/ 安装/ 测量/ 模块/ ,/ 利用/ 统计/ 手段/ 获取/ Web/ 服务/ 组合/ 的/ 平均/ 响应/ 时间/ 、/ 每个/ Web/ 服务/ 的/ 平均/ 调用/ 次数/ 、/ 每个/ Web/ 服务/ 的/ 利用率/ 等/ 性能指标/ ;/ 同时/ 提出/ 了/ 根据/ 〈/ invoke/ 〉/ 、/ 〈/ receive/ 〉/ 、/ 〈/ sequence/ 〉/ 、/ 〈/ if/ 〉/ 、/ 〈/ while/ 〉/ 、/ 〈/ pick/ 〉/ 、/ 〈/ flow/ 〉/ 等/ BPEL/ 动作/ ,/ 递归/ 统计/ Web/ 服务/ 组合/ 性能指标/ 的/ 方法/ ./ 分析/ Web/ 服务/ 组合/ 性能/ 的/ 一类/ 重要/ 方法/ 是/ 利/ Page3/ 用/ 具有/ 时间/ 约束/ 的/ Petri/ 网/ [/ 19/ ]/ (/ 如/ 随机/ Petri/ 网/ 、/ 广义/ 随机/ Petri/ 网等/ )/ ./ 采用/ 这些/ 工具/ 分析/ Web/ 服务/ 组合/ 性能/ 要/ 依次/ 做/ 两件事/ :/ 一是/ 把/ BPEL/ 动作/ 如/ 〈/ invoke/ 〉/ 、/ 〈/ sequence/ 〉/ 、/ 〈/ if/ 〉/ 、/ 〈/ while/ 〉/ // 〈/ repeatUntil/ 〉/ // 〈/ forEach/ 〉/ 、/ 〈/ flow/ 〉/ 等/ 映射/ 到/ 随机/ Petri/ 网/ 或/ 广义/ 随机/ Petri/ 网/ ;/ 二是/ 用/ Petri/ 网/ 仿真/ 工具/ ,/ 如/ CPN/ [/ 20/ ]/ ,/ 分析/ Web/ 服务/ 组合/ 的/ 平均/ 响应/ 时间/ [/ 2/ -/ 10/ ]/ ./ 分析/ Web/ 服务/ 组合/ 的/ 性能/ 的/ 另一类/ 重要/ 方法/ 是/ 利用/ 连续/ 时间/ Markov/ 链/ (/ CTMC/ )/ ./ 文献/ [/ 12/ ]/ 通过/ 将/ 具有/ 并行/ 结构/ 的/ Web/ 服务/ 组合/ 映射/ 为/ 连续/ 时间/ Markov/ 链/ (/ CTMC/ )/ ,/ 并/ 在/ CTMC/ 中/ 增加/ 引起/ Web/ 服务提供者/ 失效/ 的/ 迁移率/ (/ transitionrate/ )/ ,/ 给出/ 了/ Web/ 服务/ 组合/ 响应/ 时间/ 、/ 可靠性/ 的/ 计算公式/ ,/ 并/ 分析/ 了/ Web/ 服务/ 组合/ 的/ 性能/ 和/ 性能/ 瓶颈/ ./ 文献/ [/ 13/ ]/ 在/ 现有/ 进程/ 代数/ 的/ 基础/ 上/ ,/ 提出/ 了/ 一种/ 代价/ 概率/ 进程/ 代数/ PPPA/ ,/ 给出/ 了/ 基于/ PPPA/ 统一/ 建模/ 和/ 分析/ Web/ 服务/ 组合/ 功能/ 和/ QoS/ 的/ 方法/ ,/ 建模/ 和/ 分析/ 了/ Web/ 服务/ 组合/ 的/ 功能/ 、/ 可靠性/ 、/ 性能/ 和/ 代价/ ./ 所有/ 基于/ 进程/ 代数/ 的/ Web/ 服务/ 组合/ 性能/ 建模/ 工具/ ,/ 如/ PEPA/ 、/ TIPP/ 、/ EMPA/ 、/ IMC/ 以及/ PPPA/ 等/ ,/ 无一例外/ 地/ 采用/ 了/ 连续/ 时间/ Markov/ 链来/ 分析/ 评价/ Web/ 服务/ 组合/ 的/ 性能/ ./ 随机/ Petri/ 网/ 、/ 广义/ 随机/ Petri/ 网/ 、/ Markov/ 过程/ 和/ 概率/ 进程/ 代数/ 建模/ 了/ “/ 内因/ ”/ 对/ Web/ 服务/ 组合/ 性能/ 的/ 影响/ ,/ 建模/ 了/ “/ 外因/ ”/ 中/ “/ Web/ 服务器/ 的/ 软硬件/ 处理/ 能力/ ”/ 对/ Web/ 服务/ 组合/ 性能/ 的/ 影响/ ,/ 但/ 无法/ 很/ 好/ 地/ 建模/ “/ 外因/ ”/ 中/ 其它/ 因素/ 对/ Web/ 服务/ 组合/ 性能/ 的/ 影响/ ./ 文献/ [/ 11/ ]/ 利用/ 排队/ Petri/ 网/ QPN/ [/ 21/ ]/ ,/ 按/ Web/ 服务/ 组合/ 的/ 两种/ 执行/ 方式/ (/ 集中/ 执行/ 和/ 分散/ 执行/ )/ ,/ 建立/ 了/ 性能/ 分析模型/ ,/ 给出/ 了/ 队列/ 库所/ (/ queueingplace/ )/ 的/ 排队模型/ ,/ 变迁/ (/ transition/ )/ 的/ 触发/ 模式/ ;/ 最后/ 利用/ 排队/ Petri/ 网/ 模拟/ 工具/ QPME/ [/ 22/ ]/ 分析/ 了/ Web/ 服务/ 组合/ 的/ 平均/ 响应/ 时间/ 、/ 吞吐/ 率/ 等/ 性能指标/ ./ 尽管/ QPN/ 能/ 建模/ Web/ 服务/ 调用/ 请求/ 在/ Web/ 服务器端/ 排队/ 等待/ 的/ 现象/ ,/ 但/ 该/ 排队/ 仅仅/ 是/ 由/ “/ 正在/ 对/ 其/ 进行/ 性能/ 分析/ 的/ Web/ 服务/ 组合/ ”/ 形成/ 的/ “/ Web/ 服务/ 调用/ 请求/ ”/ 排队/ ./ QPN/ 不能/ 方便/ 地/ 建模/ 来自/ “/ 其它/ Web/ 服务/ 组合/ ”/ 的/ “/ Web/ 服务/ 调用/ 请求/ ”/ 在/ Web/ 服务器端/ 形成/ 的/ 排队/ 等待/ 现象/ ,/ 即/ 不能/ 建模/ 来自/ 外界/ 的/ 负载/ ,/ 导致/ QPN/ 不能/ 很/ 好/ 地/ 建模/ 由于/ 互联网/ 的/ 开放性/ 和/ 动态性/ 产生/ 的/ Web/ 服务器/ 负载/ 的/ 不/ 可预测性/ ./ 目前/ 用/ QPN/ 建模/ Web/ 服务/ 组合/ 性能/ 的/ 文献/ 还/ 很少/ ./ 文献/ [/ 23/ ]/ 通过/ 用/ 模糊/ 数/ 表示/ Petri/ 网/ 变迁/ 的/ 触发/ 率/ (/ firingrates/ )/ ,/ 用/ 模糊/ 微分方程/ 表示/ 变迁/ ,/ 定义/ 了/ 模糊/ Petri/ 网/ FPN/ (/ FuzzyPetriNet/ )/ ./ 通过/ 将/ Web/ 服务/ 组合/ 映射/ 为/ FPN/ ,/ 建立/ 了/ 一组/ 刻画/ Web/ 服务/ 组合/ 性能/ 的/ 模糊/ 微分方程/ ,/ 避免/ 了/ 传统/ Petri/ 网/ 状态/ 爆炸/ 的/ 问题/ ,/ 获得/ 了/ Web/ 服务/ 组合/ 的/ 响应/ 时间/ 、/ 吞吐/ 率/ 、/ 资源/ 利用率/ 、/ 最大/ 负载/ 等/ 性能指标/ ./ 但/ “/ 模糊/ ”/ 与/ “/ 随机/ ”/ 是/ 不同/ 的/ 数学/ 概念/ 和/ 方法/ ,/ 并/ 不等价/ ./ 由于/ 互联网/ 的/ 开放性/ 、/ 动态性/ 以及/ Web/ 服务/ 分布式/ 异构/ 等/ 特性/ ,/ 利用/ “/ 随机/ ”/ 数学方法/ 和/ 手段/ 应该/ 能/ 更好/ 地/ 刻画/ Web/ 服务/ 组合/ 的/ 实际/ 性能/ ./ 排队/ 论/ (/ 也/ 称为/ 随机/ 服务/ 系统/ )/ 是/ 对/ 计算机系统/ 进行/ 定量分析/ ,/ 特别/ 是/ 进行/ 性能/ 分析/ 的/ 优秀/ 工具/ ./ 目前/ 排队/ 系统/ 主要/ 用于/ 建模/ 单个/ Web/ 服务器/ 的/ 性能/ ,/ 用于/ 建模/ Web/ 服务/ 组合/ 性能/ 的/ 文献/ 不多/ ./ 例如/ ,/ 为了/ 提供/ QoS/ 保证/ 以/ 满足/ 客户/ 的/ SLA/ (/ ServiceLevelAgreement/ )/ 需求/ ,/ 文献/ [/ 24/ ]/ 利用/ M/ // M/ // 1/ 排队/ 系统/ 为/ 提供/ Web/ 服务/ 的/ 服务器/ 建立/ 了/ 响应/ 时间/ 模型/ ,/ 给出/ 了/ 响应/ 时间/ 的/ 概率分布/ 及其/ 均值/ ./ 3/ 排队/ 网络/ 简述/ [/ 25/ ]/ 排队/ 网络/ 是/ 由/ 一些/ 排队/ 节点/ 构成/ 的/ 网络/ ,/ 每个/ 排队/ 节点/ 是/ 一个/ 服务站/ (/ servicecenter/ )/ ./ 本文/ 采用/ 开/ 乘积/ 排队/ 网络/ (/ openproductformqueueingnet/ -/ works/ )/ 和/ 开非/ 乘积/ 排队/ 网络/ (/ opennon/ -/ productformqueueingnetworks/ )/ 分析/ Web/ 服务/ 组合/ 的/ 性能/ ./ 开/ 排队/ 网络/ 是/ 指/ 顾客/ 既/ 可以/ 从/ 排队/ 网络/ 外部/ 进入/ 到/ 排队/ 网络/ ,/ 在/ 排队/ 网络/ 中/ 服务/ 完毕/ 后/ ,/ 又/ 可以/ 离开/ 排队/ 网络/ 的/ 排队/ 网络/ ./ 具有/ M/ // G/ // 1/ -/ PS/ 和/ M/ // G/ // 类型/ 排队/ 节点/ 的/ 排队/ 网络/ 称为/ 乘积/ 排队/ 网络/ ;/ 具有/ M/ // G/ // 1/ -/ FCFS/ 类型/ 排队/ 节点/ 的/ 排队/ 网络/ 称为/ 非/ 乘积/ 排队/ 网络/ ./ 假设/ 排队/ 网络/ 由/ N/ 个/ (/ N/ 为/ 大于/ 等于/ 1/ 的/ 整数/ )/ 排队/ 节点/ 组成/ ,/ 排队/ 节点/ 用/ 整数/ i/ ,/ j/ (/ 1/ / i/ ,/ j/ / N/ )/ 表示/ ,/ 并用/ 整数/ 0/ 表示/ 排队/ 网络/ 外部/ ./ 进入/ 排队/ 网络/ 中/ 的/ 顾客/ 有/ R/ (/ R/ 为/ 大于/ 等于/ 1/ 的/ 整数/ )/ 种/ 类型/ ,/ 顾客/ 的/ 类型/ 用/ 整数/ r/ ,/ s/ (/ 1/ / r/ ,/ s/ / R/ )/ 表示/ ./ 排队/ 节点/ 间/ 由/ 带权/ 的/ 有/ 向/ 边/ 相连/ ,/ 排队/ 节点/ i/ 和/ j/ 之间/ 的/ 权值/ 记为/ pir/ ,/ jr/ (/ 称之为/ 路由/ 概率/ routingprobability/ )/ ,/ 表示/ 类型/ 为/ r/ 的/ 顾客/ 在/ 排队/ 节点/ i/ 服务/ 完毕/ 后/ 进入/ 排队/ 节点/ j/ 继续/ 服务/ 的/ 概率/ ,/ 且/ ∑/ Npir/ ,/ jr/ =/ 1/ ,/ 且/ 用/ p0r/ ,/ jr/ 表示/ 类型/ 为/ r/ 的/ 顾客/ 从/ 排队/ j/ =/ 0/ 网络/ 外部/ 到达/ 排队/ 节点/ j/ 的/ 概率/ ,/ pir/ ,/ 0r/ 表示/ 类型/ 为/ r/ 的/ 顾客/ 在/ 排队/ 节点/ i/ 服务/ 完毕/ 后/ 离开/ 排队/ 网络/ 的/ Page4/ 概率/ ./ 本文/ 约定/ :/ (/ 1/ )/ 排队/ 网络/ 中有/ R/ 种/ (/ R/ =/ 2/ )/ 类型/ 的/ 顾客/ ,/ 顾客/ 在/ 排队/ 节点/ 间/ 路由/ 时/ ,/ 不会/ 改变/ 类型/ ./ 类型/ 1/ 的/ 顾客/ 代表/ “/ 正在/ 对/ 其/ 进行/ 性能/ 分析/ 的/ Web/ 服务/ 组合/ ”/ 产生/ 的/ “/ Web/ 服务/ 调用/ 请求/ ”/ ,/ 类型/ 2/ 的/ 顾客/ 代表/ “/ 其它/ Web/ 服务/ 组合/ ”/ 产生/ 的/ “/ Web/ 服务/ 调用/ 请求/ ”/ ./ 类型/ 1/ 的/ 顾客/ 到达/ 排队/ 节点/ i/ ,/ 表示/ “/ 正在/ 对/ 其/ 进行/ 性能/ 分析/ 的/ Web/ 服务/ 组合/ ”/ 调用/ Web/ 服务/ WSi/ ;/ 类型/ 2/ 的/ 顾客/ 到达/ 排队/ 节点/ i/ ,/ 表示/ “/ 其它/ Web/ 服务/ 组合/ ”/ 调用/ Web/ 服务/ WSi/ ,/ 该/ 调用/ 会/ 降低/ “/ 正在/ 对/ 其/ 进行/ 性能/ 分析/ 的/ Web/ 服务/ 组合/ ”/ 的/ 性能/ ./ (/ 2/ )/ 类型/ r/ 的/ 顾客/ 从/ 排队/ 网络/ 外部/ 到达/ 排队/ 节点/ i/ 的/ 间隔时间/ 服从/ Coxian/ 分布/ 、/ 重尾/ 分布/ [/ 26/ ]/ 或/ 其它/ 的/ 一般/ 分布/ ,/ 其/ 平均/ 间隔时间/ 记为/ 1/ 是/ 指/ 两个/ 连续/ 到达/ 的/ 顾客/ 相隔/ 的/ 时间/ )/ ,/ 均/ 方差/ 系数/ (/ squaredcoefficientofvariation/ )/ 记为/ c2/ 为/ 类型/ r/ 的/ 顾客/ 到达/ 排队/ 节点/ i/ 的/ 到达/ 率/ (/ arrivalrate/ )/ ./ (/ 3/ )/ 类型/ r/ 的/ 顾客/ 在/ 排队/ 节点/ i/ 的/ 服务/ 时间/ 服从/ Coxian/ 分布/ 、/ 重尾/ 分布/ 或/ 其它/ 的/ 一般/ 分布/ ,/ 其/ 平均/ 服务/ 时间/ 记为/ 1/ 类型/ r/ 的/ 顾客/ 在/ 排队/ 节点/ i/ 的/ 服务/ 率/ (/ servicerate/ )/ ./ (/ 4/ )/ 当/ 排队/ 节点/ 为/ M/ // G/ // 1/ 时/ ,/ 每个/ 节点/ 按/ 服务器/ 共享/ 方式/ (/ processorsharing/ )/ 为/ 顾客/ 提供/ 服务/ ,/ 记为/ M/ // G/ // 1/ -/ PS/ ./ 当/ 排队/ 节点/ 为/ G/ // G/ // 1/ 时/ ,/ 每个/ 节点/ 按先来/ 先/ 服务/ (/ firstcomefirstservice/ )/ 方式/ 为/ 顾客/ 提供/ 服务/ ,/ 记为/ G/ // G/ // 1/ -/ FCFS/ ./ (/ 5/ )/ 排队/ 节点/ 的/ 类型/ 可以/ 是/ M/ // G/ // 1/ -/ PS/ 、/ M/ // G/ // 1/ -/ FCFS/ 或/ M/ // G/ // ./ (/ 6/ )/ 本文/ 后序/ 部分/ ,/ 将/ 把/ “/ 提供/ Web/ 服务/ 的/ 服务器/ ”/ 映射/ 成/ “/ 排队/ 节点/ ”/ ,/ 顾客/ 到达/ 排队/ 节点/ ,/ 表示/ 调用/ (/ invoke/ )/ 该/ Web/ 服务器/ 提供/ 的/ Web/ 服务/ ./ λ/ 0/ ,/ i1/ 表示/ 类型/ 1/ 的/ 顾客/ 从/ 排队/ 网络/ 外部/ 到达/ 排队/ 节点/ i/ 的/ 到达/ 率/ ,/ 是/ “/ 正在/ 对/ 其/ 进行/ 性能/ 分析/ 的/ Web/ 服务/ 组合/ ”/ 调用/ Web/ 服务/ WSi/ 的/ “/ Web/ 服务/ 调用/ 请求/ ”/ 的/ 到达/ 率/ (/ 即/ 平均/ 间隔/ 1/ // λ/ 0/ ,/ i1/ 时间/ 调用/ 一次/ Web/ 服务/ WSi/ )/ ./ 本文/ 后续/ 部分/ 中/ ,/ 图/ 3/ ~/ 图/ 13/ 中均/ 要求/ λ/ 0/ ,/ 11/ >/ 0/ 且/ λ/ 0/ ,/ i1/ =/ 0/ (/ i/ =/ 2/ ,/ 3/ ,/ …/ ,/ n/ )/ ,/ 表示/ “/ 正在/ 对/ 其/ 进行/ 性能/ 分析/ 的/ Web/ 服务/ 组合/ ”/ 从/ WS1/ 开始/ 执行/ ./ λ/ 0/ ,/ i2/ 表示/ 类型/ 2/ 的/ 顾客/ 从/ 排队/ 网络/ 外部/ 到达/ 排队/ 节点/ i/ 的/ 到达/ 率/ (/ 即/ 平均/ 间隔/ 1/ // λ/ 0/ ,/ i2/ 时间/ 调用/ 一次/ Web/ 服务/ WSi/ )/ ,/ 是/ “/ 其它/ Web/ 服务/ 组合/ ”/ 调用/ Web/ 服务/ WSi/ 的/ “/ Web/ 服务/ 调用/ 请求/ ”/ 的/ 到达/ 率/ ,/ 可以/ 看成/ 是/ “/ 其它/ Web/ 服务/ 组合/ ”/ 对/ “/ 正在/ 对/ 其/ 进行/ 性能/ 分析/ 的/ Web/ 服务/ 组合/ ”/ 的/ “/ 干扰/ ”/ 负载/ 的/ 到达/ 率/ ./ pi1/ ,/ j1/ 是/ 类型/ 1/ 的/ 顾客/ 在/ 排队/ 节点/ i/ 服务/ 完毕/ 后/ ,/ 进入/ 排队/ 节点/ j/ 服务/ 的/ 概率/ ,/ 可以/ 看成/ 是/ “/ 正在/ 对/ 其/ 进行/ 性能/ 分析/ 的/ Web/ 服务/ 组合/ ”/ 调用/ 完/ Web/ 服务/ WSi/ 后/ ,/ 继续/ 调用/ Web/ 服务/ WSj/ 的/ 概率/ ./ pi1/ ,/ 01/ 是/ 类型/ 1/ 的/ 顾客/ 在/ 排队/ 节点/ i/ 服务/ 完毕/ 后/ ,/ 离开/ 排队/ 网络/ 的/ 概率/ ,/ 可以/ 看成/ 是/ “/ 正在/ 对/ 其/ 进行/ 性能/ 分析/ 的/ Web/ 服务/ 组合/ ”/ 调用/ 完/ Web/ 服务/ WSi/ 后/ ,/ 不再/ 调用/ 其它/ Web/ 服务/ 的/ 概率/ ./ pi2/ ,/ j2/ 是/ 类型/ 2/ 的/ 顾客/ 在/ 排队/ 节点/ i/ 服务/ 完毕/ 后/ ,/ 进入/ 排队/ 节点/ j/ 服务/ 的/ 概率/ ,/ 可以/ 看成/ 是/ “/ 其它/ Web/ 服务/ 组合/ ”/ 调用/ 完/ Web/ 服务/ WSi/ 后/ ,/ 继续/ 调用/ Web/ 服务/ WSj/ 的/ 概率/ ./ pi2/ ,/ 02/ 是/ 类型/ 2/ 的/ 顾客/ 在/ 排队/ 节点/ i/ 服务/ 完毕/ 后/ ,/ 离开/ 排队/ 网络/ 的/ 概率/ ,/ 可以/ 看成/ 是/ “/ 其它/ Web/ 服务/ 组合/ ”/ 调用/ 完/ Web/ 服务/ WSi/ 后/ ,/ 不再/ 调用/ 其它/ Web/ 服务/ 的/ 概率/ ./ 4BPEL/ 服务/ 组合/ 流程/ 映射/ 为/ 排队/ 网络/ 将/ BPEL/ 服务/ 组合/ 流程/ 映射/ 为/ 排队/ 网络/ 的/ 目的/ 是/ 为了/ 用/ 排队/ 网络/ 获得/ 评价/ Web/ 服务/ 组合/ 性能/ 的/ 指标/ ./ 这些/ 性能指标/ 中/ “/ 响应/ 时间/ ”/ 是/ 最/ 基本/ 最/ 重要/ 的/ 指标/ ;/ 因此/ ,/ 将/ BPEL/ 业务流程/ 映射/ 为/ 排队/ 网络/ 要/ 符合/ “/ 时间/ 等效/ 性/ 原则/ ”/ 和/ “/ 结构/ 等效/ 性/ 原则/ ”/ ,/ 即/ (/ 1/ )/ 排队/ 网络/ 的/ 响应/ 时间/ 应/ 反映/ Web/ 服务/ 组合/ 的/ 运行/ 时间/ ./ (/ 2/ )/ 排队/ 网络/ 中/ 各/ 排队/ 节点/ 之间/ 的/ 拓扑/ 次序/ 要/ 与/ Web/ 服务/ 组合/ 的/ 先后/ 调用/ 次序/ 一致/ ./ 根据/ 这些/ 原则/ ,/ “/ 提供/ Web/ 服务/ 的/ 服务器/ ”/ 映射/ 为/ 一个/ 排队/ 节点/ ,/ 调用/ Web/ 服务/ 的/ 基本/ 动作/ (/ 如/ 〈/ invoke/ 〉/ // 〈/ receive/ 〉/ )/ “/ 映射/ ”/ 为/ “/ 顾客/ ”/ 到达/ 排队/ 节点/ ;/ 与/ Web/ 服务/ 调用/ 无关/ 的/ 基本/ 动作/ (/ 如/ 〈/ empty/ 〉/ 、/ 〈/ wait/ 〉/ 、/ 〈/ assign/ 〉/ 、/ 〈/ validate/ 〉/ 、/ 〈/ throw/ 〉/ 、/ 〈/ rethrow/ 〉/ 、/ 〈/ exit/ 〉/ 等/ )/ 不必/ 映射/ ;/ BPEL/ 结构/ 动作/ 中/ (/ 如/ 〈/ sequence/ 〉/ ,/ 〈/ if/ 〉/ ,/ 〈/ while/ 〉/ ,/ 〈/ repeateUntil/ 〉/ ,/ 〈/ forEach/ 〉/ ,/ 〈/ flow/ 〉/ )/ 嵌套/ 的/ Web/ 服务/ 调用/ “/ 映射/ ”/ 为/ 符合/ BPEL/ 结构/ 动作/ 语义/ 的/ 排队/ 网络/ ./ 表/ 1/ 列出/ 了/ 影响/ Web/ 服务/ 组合/ 性能/ 的/ 各种/ “/ 内因/ ”/ 和/ “/ 外因/ ”/ 与/ 排队/ 网络/ 各/ 元素/ 之间/ 的/ 映射/ 关系/ ./ 将/ 影响/ Web/ 服务/ 组合/ 性能/ 的/ “/ 内因/ ”/ 和/ “/ 外因/ ”/ 映射/ 到/ 排队/ 网络/ 后/ ,/ 我们/ 获得/ 了/ Web/ 服务/ 组合/ 的/ 性能/ 在/ 排队/ 网络/ 中/ 的/ 性能/ 映像/ (/ 见图/ 1/ )/ ,/ 使得/ 我们/ 能/ 通过/ 排队/ 网络分析/ Web/ 服务/ 组合/ 的/ 性能/ ./ Page5/ 表/ 1/ 影响/ Web/ 服务/ 组合/ 性能/ 的/ 各/ 因素/ 与/ 排队/ 网络/ 各/ 元素/ 之间/ 的/ 映射/ 关系/ 提供/ Web/ 服务/ WSi/ 的/ Web/ 服务器/ Web/ 服务/ 调用/ 正在/ 对/ 其/ 进行/ 性能/ 分析/ 的/ Web/ 服务/ 组合/ 中/ 的/ “/ Web/ 服务/ 调用/ 请求/ ”/ 类型/ 1/ 的/ 顾客/ 到达/ 排队/ 节点/ BPEL/ 流程/ 的/ 结构/ BPEL/ 流程/ 中/ 〈/ condition/ 〉/ …/ 〈/ // condition/ 〉/ 变量/ 的/ 概率分布/ Web/ 服务器/ 的/ 软硬件/ 处理/ 能力/ Web/ 服务器/ 的/ 负载/ Web/ 服务器/ 调度/ 策略/ 部分/ 性能指标/ 图/ 1Web/ 服务/ 组合/ 的/ 性能/ 在/ 排队/ 网络/ 中/ 的/ 性能/ 映像/ 4.1/ BPEL/ 基本/ 动作/ 〈/ invoke/ 〉/ // 〈/ receive/ 〉/ 映射/ 为/ 排队/ 网络/ 的/ 规则/ 如果/ BPEL/ 基本/ 动作/ 〈/ invoke/ 〉/ // 〈/ receive/ 〉/ (/ 同步/ 或/ 异步/ )/ 调用/ Web/ 服务/ WS1/ ,/ 则/ 该/ Web/ 服务/ WS1/ 映射/ 为/ 排队/ 网络/ 中/ 的/ 一个/ 排队/ 节点/ (/ 见图/ 2/ )/ ,/ 用于/ 建模/ 提供/ 该/ Web/ 服务/ 的/ 服务器/ ,/ 且/ 将/ 该/ 排队/ 节点/ 记为/ node/ (/ WS1/ )/ ;/ 如果/ Web/ 服务/ 组合/ 中/ 存在/ 对/ 同一个/ Web/ 服务/ 的/ 多次/ 调用/ ,/ 这些/ 调用/ 要/ “/ 映射/ ”/ 为/ 同一个/ 排队/ 节点/ ./ 图/ 2/ 〈/ invoke/ 〉/ // 〈/ receive/ 〉/ (/ 同步/ 或/ 异步/ )/ 调用/ 映射/ 为/ 此处/ 我们/ 用/ 一个/ 排队/ 节点/ 建模/ 一台/ 提供/ Web/ 服务/ 的/ 服务器/ ,/ 一次/ 〈/ invoke/ 〉/ // 〈/ receive/ 〉/ 同步/ 或/ 异步/ 调用/ (/ 简称/ “/ Web/ 服务/ 调用/ 请求/ ”/ )/ 相当于/ “/ 顾客/ ”/ 到达/ 该/ 排队/ 节点/ ,/ 并/ 请求/ 提供/ 一次/ 服务/ ;/ 如果/ 有/ 多个/ “/ 顾客/ ”/ 相继/ 到达/ ,/ 则/ 这些/ “/ 顾客/ ”/ 会/ 在/ 排队/ 节点/ 等待/ 队列/ “/ 排队/ 等待/ ”/ ./ 该/ 映射/ 规则/ 显然/ 符合/ “/ 时间/ 等效/ 性/ 原则/ ”/ 和/ “/ 结构/ 等效/ 性/ 原则/ ”/ ./ 4.2/ BPEL/ 顺序/ 结构/ 动作/ 〈/ sequence/ 〉/ 映射/ 为/ 排队/ 网络/ 的/ 规则/ BPEL/ 结构/ 动作/ 〈/ sequence/ 〉/ 中/ 的/ Web/ 服务/ 调用/ 映射/ 为/ 图/ 3/ 所示/ 的/ 一个/ 线性/ 级联/ 排队/ 网络/ ./ 如果/ BPEL/ 结构/ 动作/ 〈/ sequence/ 〉/ 依次/ (/ 同步/ 或/ 异步/ )/ 调用/ WS1/ ,/ WS2/ ,/ …/ ,/ WSn/ 等/ n/ 个/ 不同/ 的/ Web/ 服务/ ,/ 则/ 这/ n/ 个/ 不同/ 的/ Web/ 服务/ 调用/ 各自/ 映射/ 为/ 一个/ 排队/ 节点/ node/ (/ WSi/ )/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ n/ )/ ,/ 且/ 类型/ 1/ 的/ 顾客/ 从/ node/ (/ WS1/ )/ 到/ node/ (/ WS2/ )/ 的/ 路由/ 概率/ p11/ ,/ 21/ =/ 1/ ;/ 类型/ 1/ 的/ 顾客/ 从/ node/ (/ WS2/ )/ 到/ node/ (/ WS3/ )/ 的/ 路由/ 概率/ p21/ ,/ 31/ =/ 1/ ;/ …/ ;/ 类型/ 1/ 的/ 顾客/ 从/ node/ (/ WSn/ -/ 1/ )/ 到/ node/ (/ WSn/ )/ 的/ 路由/ 概率/ pn/ -/ 11/ ,/ n1/ =/ 1/ ./ BPEL/ 顺序/ 结构/ 动作/ 〈/ sequence/ 〉/ 中/ 的/ Web/ 服务/ 调用/ “/ 映射/ ”/ 为/ 一个/ 线性/ 级联/ 排队/ 网络/ ,/ 符合/ “/ 结构/ 等效/ 性/ 原则/ ”/ ./ 由于/ 类型/ 1/ 的/ 顾客/ 要/ 依次/ 在/ 每个/ 排队/ 节/ Page6/ 点/ 服务/ 完毕/ 后/ ,/ 才能/ 离开/ 排队/ 网络/ ,/ 故/ 类型/ 1/ 的/ 顾客/ 在/ 排队/ 网络/ 中/ 的/ 响应/ 时间/ 等于/ Web/ 服务/ 组合/ 的/ 运行/ 时间/ ,/ 符合/ “/ 时间/ 等效/ 性/ 原则/ ”/ ./ 类型/ 2/ 的/ 顾客/ 对/ “/ 正在/ 对/ 其/ 进行/ 性能/ 分析/ 的/ Web/ 服务/ 组合/ ”/ 而言/ 是/ 一种/ “/ 干扰/ ”/ ,/ 可以/ 随时/ 离开/ 排队/ 系统/ ./ 4.3/ BPEL/ 条件/ 结构/ 动作/ 〈/ if/ 〉/ 映射/ 为/ 排队/ 网络/ 的/ 规则/ BPEL/ 结构/ 动作/ 〈/ if/ 〉/ // 〈/ elseif/ 〉/ // 〈/ else/ 〉/ 中/ 的/ Web/ 图/ 4/ 〈/ if/ 〉/ // 〈/ elseif/ 〉/ // 〈/ else/ 〉/ 映射/ 为/ 排队/ 网络/ 根据/ 〈/ condition/ 〉/ …/ 〈/ // condition/ 〉/ 中/ 的/ 布尔/ 表达式/ 及其/ 中/ 变量/ 的/ 概率分布/ ,/ 按/ 初等/ 概率论/ 的/ 方法/ ,/ 我们/ 可以/ 方便/ 地/ 计算/ “/ 布尔/ 表达式/ ”/ 为/ 真的/ 概率/ ,/ 此/ “/ 概率/ ”/ 就是/ 排队/ 节点/ 之间/ 的/ 路由/ 概率/ ./ 例如/ ,/ 如果/ 变量/ $/ counter/ 服从/ 区间/ [/ 0/ ,/ 100/ ]/ 的/ 均匀分布/ ,/ 变量/ $/ order/ 服从/ 区间/ [/ 100/ ,/ 500/ ]/ 的/ 均匀分布/ ,/ 并且/ 变量/ $/ counter/ 和/ 变量/ $/ order/ 互联/ 独立/ (/ 不/ 独立/ 也/ 能/ 计算/ 概率/ ,/ 但/ 复杂/ 点/ )/ ,/ 则/ 条件/ 〈/ condition/ 〉/ $/ counter/ &/ lt/ ;/ 42and/ $/ order/ &/ gt/ ;/ 300/ 〈/ // condition/ 〉/ 为/ 真的/ 概率/ 计算/ 如下/ :/ P/ {/ $/ counter/ &/ lt/ ;/ 42and/ $/ order/ &/ gt/ ;/ 300/ }/ =/ P/ {/ $/ counter/ &/ lt/ ;/ 42/ }/ ×/ P/ {/ $/ order/ &/ gt/ ;/ 300/ }/ 100d/ (/ )/ x/ ×/ ∫/ 500/ =/ ∫/ 420BPEL/ 结构/ 动作/ 〈/ if/ 〉/ // 〈/ elseif/ 〉/ // 〈/ else/ 〉/ 中/ 的/ Web/ 服务/ 调用/ “/ 映射/ ”/ 为/ 一个/ 分支/ 排队/ 网络/ ,/ 符合/ “/ 结构/ 等效/ 性/ 原则/ ”/ ./ 由于/ 类型/ 1/ 的/ 顾客/ 要/ 在/ 排队/ 节点/ node/ (/ WS1/ )/ 服务/ 完毕/ 后/ ,/ 或者/ 以/ 概率/ p11/ ,/ 21/ 进入/ 排队/ 节点/ node/ (/ WS2/ )/ ,/ 然后/ 离开/ 排队/ 网络/ ;/ 或者/ 以/ 概率/ p11/ ,/ 31/ 进入/ 排队/ 节点/ node/ (/ WS3/ )/ ,/ 然后/ 离开/ 排队/ 网络/ ;/ 或者/ 以/ 概率/ p11/ ,/ 41/ 进入/ 排队/ 节点/ node/ (/ WS4/ )/ ,/ 然后/ 离开/ 排队/ 网络/ ;/ 故/ 类型/ 1/ 的/ 顾客/ 在/ 排队/ 网络/ 中/ 的/ 响应/ 时间/ 等于/ Web/ 服务/ 组合/ 的/ 运行/ 时间/ ,/ 符合/ “/ 时间/ 等效/ 性/ 原则/ ”/ ./ 类型/ 2/ 的/ 顾客/ 对/ “/ 正在/ 对/ 其/ 进行/ 性能/ 分析/ 的/ Web/ 服务/ 组合/ ”/ 而言/ 是/ 一种/ “/ 干扰/ ”/ ,/ 可以/ 服务/ 调用/ “/ 映射/ ”/ 为/ 一个/ 分支/ 排队/ 网络/ ./ 例如/ ,/ 可以/ 将/ BPEL/ 动作/ 〈/ if/ 〉/ …/ 〈/ elseif/ 〉/ …/ 〈/ else/ 〉/ “/ 映射/ ”/ 为/ 图/ 4/ 所示/ 的/ 排队/ 网络/ ./ 其中/ p11/ ,/ 21/ 表示/ 〈/ if/ 〉/ 条件/ 为/ 真的/ 概率/ ,/ p11/ ,/ 31/ 表示/ 〈/ elseif/ 〉/ 条件/ 为/ 真的/ 概率/ ,/ p11/ ,/ 41/ =/ 1/ -/ p11/ ,/ 21/ -/ p11/ ,/ 31/ ./ 当/ 〈/ if/ 〉/ 条件/ 为/ 真时/ ,/ 调用/ WS2/ ;/ 〈/ elseif/ 〉/ 条件/ 为/ 真时/ ,/ 调用/ WS3/ ;/ 否则/ 调用/ WS4/ ./ 随时/ 离开/ 排队/ 网络/ ./ 4.4/ BPEL/ 循环/ 结构/ 动作/ 〈/ while/ 〉/ // 〈/ repeatUntil/ 〉/ // 〈/ forEach/ 〉/ 映射/ 为/ 排队/ 网络/ 的/ 规则/ BPEL/ 结构/ 动作/ 〈/ while/ 〉/ “/ 映射/ ”/ 为/ 如图/ 5/ 所示/ 的/ 排队/ 网络/ ./ 其中/ p11/ ,/ 21/ ,/ p21/ ,/ 21/ 表示/ 〈/ while/ 〉/ 条件/ 为/ 真的/ 概率/ 且/ p11/ ,/ 21/ =/ p21/ ,/ 21/ ;/ p11/ ,/ 31/ =/ 1/ -/ p11/ ,/ 21/ 和/ p21/ ,/ 31/ =/ 1/ -/ p21/ ,/ 21/ 表示/ 〈/ while/ 〉/ 条件/ 为/ 假/ 的/ 概率/ ./ 当/ 〈/ while/ 〉/ 条件/ 为/ 假时/ 调用/ WS3/ ;/ 当/ 〈/ while/ 〉/ 条件/ 为/ 真时/ 重复/ 调用/ WS2/ 若干次/ ,/ 直到/ 条件/ 为/ 假时/ 调用/ WS3/ ./ 如果/ 结构/ 动作/ 〈/ while/ 〉/ 之前/ 和/ 之后/ 没有/ 调用/ Web/ 服务/ ,/ 则/ “/ 映射/ ”/ 为/ 如图/ 6/ 所示/ 的/ 排队/ 网络/ ,/ 可以/ 认为/ 〈/ while/ 〉/ 前/ 存在/ 一个/ 〈/ empty/ 〉/ ,/ 此时/ 排队/ 节点/ node/ (/ WS1/ )/ 可用/ 具有/ 无穷/ 服务器/ 的/ 排队/ 系统/ M/ // G/ // 建模/ ,/ 其中/ p11/ ,/ 21/ ,/ p21/ ,/ 21/ 表示/ 〈/ while/ 〉/ 条件/ 为/ 真的/ 概率/ ;/ p11/ ,/ 01/ =/ 1/ -/ p11/ ,/ 21/ 和/ p21/ ,/ 01/ =/ 1/ -/ p21/ ,/ 21/ 表示/ 〈/ while/ 〉/ 条件/ 为/ 假/ 的/ 概率/ ./ BPEL/ 结构/ 动作/ 〈/ while/ 〉/ “/ 映射/ ”/ 为/ 如图/ 5/ 或图/ 6/ 所示/ 的/ 排队/ 网络/ ,/ 由于/ 该/ 排队/ 网络/ 中/ 的/ 排队/ 节点/ node/ (/ WS2/ )/ 包含/ 一个/ “/ 循环/ ”/ ,/ 符合/ “/ 结构/ 等效/ 性/ 原则/ ”/ ./ 以下/ 我们/ 以图/ 5/ 为例/ 说明/ “/ 映射/ ”/ 符合/ “/ 时间/ 等效/ 性/ 原则/ ”/ ,/ 对图/ 6/ 的/ 说明/ 类似/ ,/ 故/ 不再/ 赘述/ ./ 类型/ 1/ 的/ 顾客/ 在/ 排队/ 节点/ node/ (/ WS1/ )/ 服务/ 完毕/ 后/ ,/ 或者/ 以/ 概率/ p11/ ,/ 31/ 进入/ 排队/ 节点/ node/ (/ WS3/ )/ ,/ 然后/ 离开/ 排队/ 网络/ ;/ 或者/ 以/ 概率/ p11/ ,/ 21/ 进入/ 排队/ 节点/ node/ (/ WS2/ )/ ,/ 在/ 排队/ 节点/ node/ (/ WS2/ )/ 以/ 概率/ p21/ ,/ 21/ 经/ 多次/ “/ 循环/ ”/ 后/ ,/ 以/ Page7/ 概率/ p21/ ,/ 31/ 进入/ 排队/ 节点/ node/ (/ WS3/ )/ ,/ 然后/ 离开/ 排队/ 网络/ ;/ 故/ 类型/ 1/ 的/ 顾客/ 在/ 排队/ 网络/ 中/ 的/ 响应/ 时间/ 等于/ Web/ 服务/ 组合/ 的/ 运行/ 时间/ ,/ 符合/ “/ 时间/ 等效/ 性/ 原则/ ”/ ./ 类型/ 2/ 的/ 顾客/ 对/ “/ 正在/ 对/ 其/ 进行/ 性能/ 分析/ 的/ Web/ 服务/ 组合/ ”/ 而言/ 是/ 一种/ “/ 干扰/ ”/ ,/ 可以/ 随时/ 离开/ 排队/ 网络/ ./ BPEL/ 结构/ 动作/ 〈/ repeatUntil/ 〉/ “/ 映射/ ”/ 为/ 如图/ 7/ 图/ 5/ 〈/ while/ 〉/ 映射/ 为/ 排队/ 网络图/ 6/ 〈/ while/ 〉/ 映射/ 为/ 排队/ 网络图/ 7/ 〈/ repeateUntil/ 〉/ 映射/ 为/ 排队/ 网络图/ 8/ 〈/ repeateUntil/ 〉/ 映射/ 为/ 排队/ 网络/ 所示/ 的/ 排队/ 网络/ ,/ 其中/ p11/ ,/ 21/ =/ 1/ ,/ p21/ ,/ 21/ 表示/ 〈/ repeat/ -/ eUntil/ 〉/ 条件/ 为/ 假/ 的/ 概率/ ,/ p21/ ,/ 31/ =/ 1/ -/ p21/ ,/ 21/ 表示/ 〈/ repeateUntil/ 〉/ 条件/ 为/ 真的/ 概率/ ./ 当/ 〈/ repeateUntil/ 〉/ 条件/ 为/ 假时/ 重复/ 调用/ WS2/ 若干次/ ,/ 直到/ 条件/ 为/ 真时/ 调用/ WS3/ ./ 如果/ 结构/ 动作/ 〈/ repeateUntil/ 〉/ 之前/ 和/ 之后/ 没有/ 调用/ Web/ 服务/ ,/ 则/ “/ 映射/ ”/ 为/ 如图/ 8/ 所示/ 的/ 排队/ 网络/ ,/ 其中/ p11/ ,/ 11/ 表示/ 〈/ repeateUntil/ 〉/ 条件/ 为/ 假/ 的/ 概率/ ./ Page8/ 与/ BPEL/ 结构/ 动作/ 〈/ while/ 〉/ 类似/ ,/ BPEL/ 结构/ 动作/ 〈/ repeateUntil/ 〉/ “/ 映射/ ”/ 为/ 排队/ 网络/ ,/ 符合/ “/ 结构/ 等效/ 性/ 原则/ ”/ 和/ “/ 时间/ 等效/ 性/ 原则/ ”/ ,/ 故/ 不再/ 赘述/ ./ 如果/ BPEL/ 结构/ 动作/ 〈/ forEachparallel/ =/ “/ no/ ”/ 〉/ 中/ 依次/ 调用/ WS1/ ,/ …/ ,/ WSn/ 等/ n/ 个/ 不同/ 的/ Web/ 服务/ ,/ 则/ “/ 映射/ ”/ 为/ 如图/ 9/ 所示/ 的/ 具有/ node/ (/ WS1/ )/ ,/ …/ ,/ node/ (/ WSn/ )/ 等/ n/ 个/ 节点/ 的/ 排队/ 网络/ ,/ 且/ p11/ ,/ 21/ =/ p21/ ,/ 31/ =/ …/ =/ pn/ -/ 11/ ,/ n1/ =/ 1/ ./ 如果/ Web/ 服务/ WSi/ (/ i/ =/ 1/ ,/ …/ ,/ n/ )/ 的/ 服务/ 时间/ Xi/ 的/ 分布/ 函数/ 为/ Gi/ (/ x/ )/ ,/ 〈/ forEach/ 〉/ 的/ 循环/ 次数/ 为/ m/ ,/ 则/ Web/ 服务/ WSi/ 图/ 9/ 顺序/ 〈/ forEach/ 〉/ 映射/ 为/ 排队/ 网络/ 4.5/ BPEL/ 并行/ 结构/ 动作/ 〈/ flow/ 〉/ // 〈/ forEachparallel/ =/ “/ yes/ ”/ 〉/ 映射/ 为/ 排队/ 网络/ 的/ 规则/ BPEL/ 并行/ 结构/ 动作/ 〈/ flow/ 〉/ 中/ 的/ n/ 个/ Web/ 服务/ 调用/ WS1/ ,/ …/ ,/ WSn/ 可以/ 映射/ 为/ 图/ 10/ 所示/ 的/ Fork/ -/ Join/ 排队/ 网络/ [/ 27/ ]/ ./ 图/ 10/ 中/ Fork/ 节点/ / 表示/ 开始/ 并行/ 调用/ WS1/ ,/ …/ ,/ WSn/ 等/ n/ 个/ Web/ 服务/ ,/ 当/ Web/ 服务/ WSi/ (/ i/ =/ 1/ ,/ …/ ,/ n/ )/ 执行/ 完毕/ 后/ ,/ 进入/ 队列/ 图/ 10/ 〈/ flow/ 〉/ 映射/ 为/ 排队/ 网络/ 到/ 目前为止/ ,/ Fork/ -/ Join/ 排队/ 网络/ 的/ 响应/ 时间/ 主要/ 借助/ 近似/ 手段/ 获得/ [/ 25/ ,/ 27/ ]/ ./ 如果/ 用/ 随机变量/ Xi/ 表示/ WSi/ 的/ 服务/ 时间/ ,/ 用/ Gi/ (/ x/ )/ 表示/ 其/ 分布/ 函数/ ,/ 且/ 假定/ X1/ ,/ …/ ,/ Xn/ 相互/ 独立/ ;/ 用/ 随机变量/ X/ 表示/ 〈/ flow/ 〉/ 的/ 经/ m/ 次/ 循环/ 后/ 的/ 服务/ 时间/ 为/ mXi/ ,/ 其/ 分布/ 函数/ 计算/ 如下/ :/ BPEL/ 结构/ 动作/ 〈/ forEachparallel/ =/ “/ no/ ”/ 〉/ 依次/ 调用/ WS1/ ,/ …/ ,/ WSn/ 等/ n/ 个/ 不同/ 的/ Web/ 服务/ m/ 次/ ,/ “/ 映射/ ”/ 为/ 图/ 9/ 所示/ 排队/ 网络/ ,/ 符合/ “/ 结构/ 等效/ 性/ 原则/ ”/ ./ 排队/ 网络/ 的/ 响应/ 时间/ 为/ m/ ∑/ n/ 效性/ 原则/ ”/ ./ 节点/ node/ (/ Qi/ )/ 等待/ 其它/ Web/ 服务/ 执行/ 完毕/ ;/ Join/ 节点/ / 是/ 同步/ 节点/ ,/ 当/ 这/ n/ 个/ Web/ 服务/ 执行/ 完毕/ 后/ ,/ BPEL/ 并行/ 结构/ 动作/ 〈/ flow/ 〉/ 也/ 执行/ 完毕/ ./ 队列/ 节点/ node/ (/ Qi/ )/ 用于/ 同步/ 各/ 并行/ Web/ 服务/ ,/ 每个/ Web/ 服务/ WSi/ 执行/ 完毕/ 后/ ,/ 要/ 在/ 相应/ 的/ 等待/ 队列/ node/ (/ Qi/ )/ 等待/ 其它/ 并行/ Web/ 服务/ 执行/ 完成/ ./ 服务/ 时间/ ,/ 则/ X/ =/ max/ {/ X1/ ,/ …/ ,/ Xn/ }/ ,/ 且/ 其/ 分布/ 函数/ G/ (/ x/ )/ 计算/ 如下/ :/ G/ (/ x/ )/ =/ P/ (/ X/ / x/ )/ =/ P/ (/ max/ {/ X1/ ,/ …/ ,/ Xn/ }/ / x/ )/ Page9/ 于是/ ,/ 图/ 10/ 中/ 的/ Fork/ -/ Join/ 排队/ 网络/ 的/ 响应/ 时间/ 可/ 通过/ 图/ 11/ 中单/ 节点/ 排队/ 网络/ 近似计算/ ,/ 其/ 服务/ 时间/ 的/ 分布/ 函数/ 为/ G1/ (/ x/ )/ G2/ (/ x/ )/ …/ Gn/ (/ x/ )/ ./ 类似/ 地/ ,/ 如果/ 〈/ forEach/ 〉/ 的/ 循环/ 次数/ 为/ m/ ,/ 根据/ 并行/ 〈/ forEachparallel/ =/ “/ yes/ ”/ …/ 〉/ 的/ 语义/ ,/ 可以/ 映射/ 为/ 图/ 12/ 所示/ 的/ 具有/ m/ 个/ 并行/ 分支/ 的/ Fork/ -/ Join/ 排队/ 网络/ ./ 如果/ 用/ 随机变量/ Xi/ 表示/ WSi/ 的/ 服务/ 时间/ ,/ 用/ gi/ (/ x/ )/ 表示/ 其/ 概率密度函数/ ,/ 且/ 假定/ X1/ ,/ …/ ,/ Xn/ 相图/ 11/ 用单/ 节点/ 排队/ 网络/ 近似计算/ 〈/ flow/ 〉/ 的/ 响应/ 时间/ 图/ 12/ 并行/ 〈/ forEach/ 〉/ 映射/ 为/ 排队/ 网络图/ 13/ 用单/ 节点/ 排队/ 网络/ 近似计算/ 并行/ 〈/ forEach/ 〉/ 的/ 响应/ 时间/ Fork/ -/ Join/ 排队/ 网络/ 是/ 专用/ 于/ 并行程序/ 结构/ 建模/ 的/ 排队/ 网络/ [/ 25/ ,/ 27/ ]/ ,/ 符合/ “/ 结构/ 等效/ 性/ 原则/ ”/ ;/ 由/ 上述/ 排队/ 节点/ 服务/ 时间/ 分布/ 函数/ 的/ 推导/ 过程/ 可知/ ,/ 图/ 10/ ~/ 图/ 13/ 的/ “/ 映射/ ”/ 规则/ 符合/ “/ 时间/ 等效/ 性/ 原则/ ”/ ./ 互/ 独立/ ,/ 则/ 一个/ 并行/ 分支/ 的/ 执行/ 时间/ 为/ X1/ +/ …/ +/ Xn/ ,/ 其/ 概率密度函数/ 为/ g1/ (/ x/ )/ / …/ / gn/ (/ x/ )/ ,/ 其中/ “/ / ”/ 运算符/ 表示/ 概率密度函数/ 的/ “/ 卷积/ ”/ 运算/ ./ 令/ X/ =/ X1/ +/ …/ +/ Xn/ ,/ 则/ 随机变量/ X/ 的/ 分布/ 函数/ G/ (/ x/ )/ 为/ 因此/ ,/ 图/ 12/ 中/ Fork/ -/ Join/ 排队/ 网络/ 的/ 响应/ 时间/ 可/ 通过/ 图/ 13/ 中单/ 节点/ 排队/ 网络/ 近似计算/ ,/ 其/ 服务/ 时间/ 的/ 分布/ 函数/ 为/ [/ G/ (/ x/ )/ ]/ m/ ./ 4.6/ BPEL/ 服务/ 组合/ 流程/ 映射/ 到/ 排队/ 网络/ 规则/ 应用/ 举例/ 按照/ 4.1/ ~/ 4.5/ 节/ 的/ 映射/ 规则/ ,/ 以下/ BPEL/ 服务/ 组合/ 流程/ (/ 本文/ 后续/ 部分/ 称其为/ BP1/ )/ 可以/ 映射/ 为/ Page10/ 图/ 14/ 所示/ 的/ 排队/ 网络/ ./ 用单/ 节点/ 近似/ Fork/ -/ Join/ 的/ 响应/ 时间/ 后/ (/ 参考/ 图/ 10/ 和/ 图/ 11/ )/ ,/ 可以/ 获得/ 图/ 15/ 所示/ 的/ 排队/ 网络/ ./ 〈/ process/ …/ 〉/ …/ 〈/ sequence/ 〉/ 〈/ receive/ …/ // 〉/ 〈/ invokename/ =/ “/ WS1/ ”/ …/ // 〉/ 〈/ invokename/ =/ “/ WS2/ ”/ …/ // 〉/ 〈/ if/ …/ 〉/ 〈/ condition/ 〉/ “/ 条件/ 1/ ”/ 〈/ // condition/ 〉/ 〈/ invokename/ =/ “/ WS3/ ”/ …/ // 〉/ 〈/ elseif/ 〉/ 〈/ condition/ 〉/ “/ 条件/ 2/ ”/ 〈/ // condition/ 〉/ 〈/ invokename/ =/ “/ WS4/ ”/ …/ // 〉/ 〈/ // elseif/ 〉/ 〈/ else/ 〉/ 〈/ invokename/ =/ “/ WS5/ ”/ …/ // 〉/ 〈/ // else/ 〉/ 〈/ // if/ 〉/ 图/ 14/ 一个/ 由/ BPEL/ 服务/ 组合/ 流程/ 映射/ 的/ 排队/ 网络图/ 15/ 用单/ 节点/ 近似/ Fork/ -/ Join/ 的/ 响应/ 时间/ 后/ 的/ 排队/ 网络图/ 15/ 中/ ,/ p11/ ,/ 21/ =/ 1/ ;/ p21/ ,/ 31/ 和/ p21/ ,/ 41/ 分别/ 是/ “/ 条件/ 1/ ”/ 和/ “/ 条件/ 2/ ”/ 为/ 真的/ 概率/ ,/ 且/ p21/ ,/ 51/ =/ 1/ -/ p21/ ,/ 31/ -/ p21/ ,/ 41/ ;/ p31/ ,/ 61/ 、/ p41/ ,/ 61/ 、/ p51/ ,/ 61/ 和/ p61/ ,/ 61/ 是/ “/ 条件/ 3/ ”/ 为/ 真的/ 概率/ ,/ 且/ p31/ ,/ 71/ =/ 1/ -/ p31/ ,/ 61/ ,/ p41/ ,/ 71/ =/ 1/ -/ p41/ ,/ 61/ ,/ p51/ ,/ 71/ =/ 1/ -/ p51/ ,/ 61/ ,/ p61/ ,/ 71/ =/ 1/ -/ p61/ ,/ 61/ ;/ p71/ ,/ 81/ =/ 1/ ,/ p81/ ,/ 91/ =/ 1/ ,/ p91/ ,/ 01/ =/ 1/ ;/ λ/ 0/ ,/ 11/ 是/ 调用/ Web/ 服务/ 组合/ BP1/ 的/ 请求/ 的/ 到达/ 率/ ,/ 且/ λ/ 0/ ,/ 11/ >/ 0/ ;/ 而/ λ/ 0/ ,/ i1/ =/ 0/ (/ i/ =/ 2/ ,/ 3/ ,/ 4/ ,/ 5/ ,/ 6/ ,/ 7/ ,/ 〈/ while/ 〉/ 〈/ condition/ 〉/ “/ 条件/ 3/ ”/ 〈/ // condition/ 〉/ 〈/ invokename/ =/ “/ WS6/ ”/ …/ // 〉/ 〈/ // while/ 〉/ 〈/ invokename/ =/ “/ WS7/ ”/ …/ // 〉/ 〈/ flow/ 〉/ 〈/ invokename/ =/ “/ WS81/ ”/ …/ // 〉/ 〈/ invokename/ =/ “/ WS82/ ”/ …/ // 〉/ 〈/ invokename/ =/ “/ WS83/ ”/ …/ // 〉/ 〈/ // flow/ 〉/ 〈/ forEachparallel/ =/ “/ no/ ”/ …/ 〉/ 〈/ startCounterValue/ 〉/ …/ 〈/ // startCounterValue/ 〉/ 〈/ finalCounterValue/ 〉/ …/ 〈/ // finalCounterValue/ 〉/ 〈/ scope/ 〉/ 〈/ invokename/ =/ “/ WS9/ ”/ …/ // 〉/ 〈/ // scope/ 〉/ 〈/ // forEach/ 〉/ 〈/ reply/ …/ // 〉/ 〈/ // sequence/ 〉/ …/ 〈/ // process/ 〉/ 8/ ,/ 9/ )/ ,/ 表明/ Web/ 服务/ 组合/ BP1/ 是从/ 调用/ WS1/ 开始/ 执行/ ./ 图/ 15/ 中/ ,/ 每个/ 类型/ 1/ 顾客/ 的/ 路由/ 概率/ pi1/ ,/ j1/ ,/ 都/ 有/ 一个/ 对应/ 的/ 类型/ 2/ 顾客/ 的/ 路由/ 概率/ pi2/ ,/ j2/ (/ i/ =/ 1/ ,/ 2/ ,/ 3/ ,/ 4/ ,/ 5/ ,/ 6/ ,/ 7/ ,/ 8/ ,/ 9/ ;/ j/ =/ 1/ ,/ 2/ ,/ 3/ ,/ 4/ ,/ 5/ ,/ 6/ ,/ 7/ ,/ 8/ ,/ 9/ )/ ./ 为/ 使/ 图/ 清晰/ 起/ 见/ ,/ 图/ 14/ 和/ 图/ 15/ 中未/ 标出/ pi2/ ,/ j2/ ;/ 另外/ λ/ 0/ ,/ i2/ >/ 0/ 和/ pi2/ ,/ 02/ >/ 0/ 也/ 未/ 在/ 图/ 中/ 标出/ ./ Page115/ 影响/ Web/ 服务/ 组合/ 性能/ 的/ “/ 外因/ ”/ 映射/ 到/ 排队/ 网络/ 的/ 映射/ 规则/ 第/ 4/ 节/ 给出/ 了/ 将/ BPEL/ 流程/ 中/ 影响/ Web/ 服务/ 组合/ 性能/ 的/ “/ 内因/ ”/ (/ BPEL/ 流程/ 的/ 结构/ 、/ BPEL/ 流程/ 〈/ condition/ 〉/ …/ 〈/ // condition/ 〉/ 中/ 变量/ 取值/ 的/ 概率分布/ )/ 映射/ 为/ 排队/ 网络/ 的/ 映射/ 规则/ ./ 本节/ 给出/ 将/ 影响/ Web/ 服务/ 组合/ 性能/ 的/ “/ 外因/ ”/ 映射/ 到/ 排队/ 网络/ 的/ 规则/ ./ 影响/ Web/ 服务/ 组合/ 性能/ 的/ 外因/ 包括/ :/ Web/ 服务器/ 的/ 软硬件/ 处理/ 能力/ 、/ Web/ 服务器/ 的/ 负载/ 和/ Web/ 服务器/ 的/ 调度/ 策略/ ./ 具体/ 映射/ 规则/ 如下/ :/ (/ 1/ )/ “/ Web/ 服务器/ 的/ 软硬件/ 处理/ 能力/ ”/ 相当于/ 处理/ 一次/ “/ Web/ 服务/ 调用/ 请求/ ”/ 需要/ 花费/ 的/ 时间/ ,/ 可以/ 映射/ 为/ 类型/ r/ 顾客/ 服务/ 时间/ 的/ 概率分布/ ;/ 类型/ r/ 的/ 顾客/ 调用/ Web/ 服务/ WSi/ 的/ 平均/ 服务/ 时间/ 可以/ 映射/ 为/ “/ 排队/ 节点/ i/ 服务/ 时间/ 概率分布/ 的/ 均值/ 1/ 服务/ 时间/ ”/ ./ (/ 2/ )/ “/ Web/ 服务器/ 的/ 负载/ ”/ 相当于/ 对/ Web/ 服务器/ 的/ “/ Web/ 服务/ 调用/ 请求/ ”/ ./ 它/ 由/ 两/ 部分/ 构成/ :/ 一是/ 由/ “/ 正在/ 对/ 其/ 进行/ 性能/ 分析/ 的/ Web/ 服务/ 组合/ ”/ 对/ Web/ 服务/ WSi/ 的/ “/ Web/ 服务/ 调用/ 请求/ ”/ 组成/ ,/ 映射/ 为/ 类型/ 1/ 的/ 顾客/ 到达/ 排队/ 节点/ node/ (/ WSi/ )/ 间隔时间/ 的/ 概率分布/ ,/ 其/ 平均/ 间隔时间/ 为/ 1/ 为/ 类型/ 1/ 的/ 顾客/ 到达/ 排队/ 节点/ node/ (/ WSi/ )/ 的/ 到达/ 率/ ;/ 二是/ 由/ “/ 其它/ Web/ 服务/ 组合/ ”/ 对/ Web/ 服务/ WSi/ 的/ “/ Web/ 服务/ 调用/ 请求/ ”/ 组成/ ,/ 映射/ 为/ 类型/ 2/ 的/ 顾客/ 到达/ 排队/ 节点/ node/ (/ WSi/ )/ 间隔时间/ 的/ 概率分布/ ,/ 其/ 平均/ 间隔时间/ 为/ 1/ 客/ 到达/ 排队/ 节点/ node/ (/ WSi/ )/ 的/ 到达/ 率/ ./ 两者/ 叠加/ 构成/ “/ Web/ 服务器/ (/ 即/ 排队/ 节点/ node/ (/ WSi/ )/ )/ 的/ 实际/ 负载/ ”/ ./ 进一步/ ,/ 通过/ 求解/ “/ 流量/ 方程/ ”/ 可以/ 获得/ “/ Web/ 服务器/ 的/ 实际/ 负载/ ”/ (/ 见/ 第/ 6/ 节/ )/ ./ (/ 3/ )/ “/ Web/ 服务器/ 调度/ 策略/ ”/ 可/ 映射/ 为/ 排队/ 网络/ 各/ 排队/ 节点/ 的/ 调度/ 策略/ ,/ 如/ FCFS/ 或/ PS/ ./ 针对/ 图/ 14/ 或图/ 15/ 的/ 示例/ ,/ 根据上述/ 映射/ 规则/ ,/ 我们/ 需要/ 确定/ :/ (/ 1/ )/ 类型/ 1/ 和/ 类型/ 2/ 顾客/ 在/ 各/ 排队/ 节点/ 的/ 平均/ 服务/ 时间/ 1/ 率/ 分布/ ./ 概率分布/ 可以/ 是/ 指数分布/ ,/ 也/ 可以/ 是/ Coxian/ 分布/ 或/ 重尾/ 分布/ ./ (/ 2/ )/ 类型/ 1/ 的/ 顾客/ 到达/ 排队/ 节点/ node/ (/ WSi/ )/ 的/ 到达/ 率/ λ/ 0/ ,/ i1/ 及其/ 概率分布/ ./ 概率分布/ 可以/ 是/ 指数分布/ ,/ 也/ 可以/ 是/ Coxian/ 分布/ 或/ 重尾/ 分布/ ./ 由于/ Web/ 服务/ 组合/ 从/ 排队/ 节点/ node/ (/ WS1/ )/ 开始/ 执行/ ,/ 故/ λ/ 0/ ,/ 11/ >/ 0/ 且/ λ/ 0/ ,/ i1/ =/ 0/ ,/ i/ =/ 2/ ,/ 3/ ,/ 4/ ,/ 5/ ,/ 6/ ,/ 7/ ,/ 8/ ,/ 9/ ./ λ/ 0/ ,/ 11/ 相当于/ 单位/ 时间/ 调用/ Web/ 服务/ 组合/ 的/ 次数/ ./ (/ 3/ )/ 类型/ 2/ 的/ 顾客/ 到达/ 排队/ 节点/ node/ (/ WSi/ )/ 的/ 到达/ 率/ λ/ 0/ ,/ i2/ (/ i/ =/ 1/ ,/ 2/ ,/ 3/ ,/ 4/ ,/ 5/ ,/ 6/ ,/ 7/ ,/ 8/ ,/ 9/ )/ 及其/ 概率分布/ ,/ 概率分布/ 可以/ 是/ 指数分布/ ,/ 也/ 可以/ 是/ Coxian/ 分布/ 或/ 重尾/ 分布/ ./ 当/ λ/ 0/ ,/ i2/ >/ 0/ 时/ ,/ 表明/ 对应/ Web/ 服务器/ 存在/ “/ 干扰/ ”/ ./ (/ 4/ )/ 各/ 排队/ 节点/ 的/ 调度/ 策略/ ,/ 如/ FCFS/ 或/ PS/ ./ 6Web/ 服务/ 组合/ 性能/ 评价/ 指标/ 到/ 目前为止/ ,/ 我们/ 给出/ 了/ 将/ 影响/ Web/ 服务/ 组合/ 性能/ 的/ 各种/ “/ 内因/ ”/ 和/ “/ 外因/ ”/ 映射/ 到/ 排队/ 网络/ 的/ 映射/ 规则/ ,/ 获得/ 了/ Web/ 服务/ 组合/ 的/ 性能/ 在/ 排队/ 网络/ 中/ 的/ 性能/ 映像/ ,/ 使得/ 我们/ 能/ 通过/ 排队/ 网络分析/ Web/ 服务/ 组合/ 在/ 互联网/ 中/ 的/ 实际/ 性能/ (/ 参见/ 表/ 1/ )/ ./ 为了/ 用/ 排队/ 网络分析/ Web/ 服务/ 组合/ 在/ 互联网/ 中/ 的/ 实际/ 性能/ ,/ 我们/ 需要/ 给出/ 评价/ Web/ 服务/ 组合/ 性能/ 的/ 指标/ 及其/ 计算公式/ ./ Web/ 服务/ 组合/ 性能指标/ 包括/ 利用率/ 、/ 响应/ 时间/ 、/ 排队/ 节点/ 或/ 排队/ 网络/ 中/ 的/ 顾客/ (/ 即/ “/ Web/ 服务/ 调用/ 请求/ ”/ )/ 数量/ 等/ ./ 本文/ 后续/ 部分/ 将/ 用/ 整数/ i/ 表示/ 排队/ 节点/ node/ (/ WSi/ )/ ./ 用/ λ/ ir/ 表示/ 实际/ 到达/ 排队/ 节点/ i/ 的/ 类型/ r/ 顾客/ 的/ 到达/ 率/ ,/ 通过/ 求解/ 下列/ 线性方程组/ ,/ 我们/ 可以/ 获得/ [/ 25/ ]/ ./ λ/ ir/ 由/ 类型/ r/ 的/ 顾客/ 的/ 路由/ 概率/ pir/ ,/ jr/ (/ i/ ,/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ N/ )/ 构成/ 的/ 矩阵/ 犘/ r/ =/ (/ pir/ ,/ jr/ )/ N/ ×/ N/ ,/ 称为/ 类型/ r/ 顾客/ 的/ 路由/ 概率/ 矩阵/ ./ 在/ 平衡/ 状态/ 下/ ,/ λ/ ir/ 等于/ 类型/ r/ 顾客/ 在/ 排队/ 节点/ i/ 的/ 吞吐/ 率/ ./ 排队/ 节点/ i/ 的/ 实际/ 吞吐/ 率/ λ/ i/ 为/ 类型/ r/ 的/ 顾客/ 在/ 排队/ 网络/ 的/ 吞吐/ 率/ λ/ r/ 为/ 类型/ r/ 顾客/ 在/ 排队/ 节点/ i/ 的/ 利用率/ ρ/ ir/ 为/ 排队/ 节点/ i/ 的/ 利用率/ ρ/ i/ 为/ Page12/ 排队/ 节点/ i/ 的/ 平均/ 服务/ 率/ μ/ i/ (/ servicerate/ ,/ 即/ 平均/ 服务/ 时间/ 的/ 倒数/ )/ 为/ 利用率/ 最大/ 的/ 节点/ 称为/ 瓶颈/ 节点/ ,/ 其/ 利用率/ 为/ ρ/ max/ =/ maxi/ {/ ρ/ i/ }/ ./ 由于/ Web/ 服务/ 组合/ 存在/ 循环/ 结构/ ,/ 故/ 类型/ r/ 顾客/ 调用/ Web/ 服务/ i/ 的/ 次数/ 不止一次/ ,/ 类型/ r/ 顾客/ 调用/ Web/ 服务/ i/ 的/ 平均/ 调用/ 次数/ eir/ (/ 也/ 称为/ 排队/ 节点/ i/ 的/ 访问率/ visitratio/ )/ 为/ 6.1/ 排队/ 节点/ 类型/ 为/ M/ // G/ // 1/ -/ PS/ 和/ M/ // G/ // 时/ ,/ 排队/ 网络/ 的/ 平均/ 响应/ 时间/ 和/ 平均/ 顾客/ 数/ 类型/ r/ 顾客/ 在/ 排队/ 节点/ i/ 的/ 响应/ 时间/ 为/ [/ 28/ ]/ eir/ μ/ ir/ =/ 1/ 烄/ Rir/ =/ 烅/ 1/ -/ ∑/ R/ 烆/ 注意/ ,/ 该/ 响应/ 时间/ 考虑/ 了/ 类型/ r/ 顾客/ 在/ 排队/ 节/ 类型/ r/ 顾客/ 在/ 排队/ 节点/ i/ 中/ 的/ 平均/ 数量/ (/ 包括/ ρ/ ir/ =/ λ/ rRir/ ,/ 当/ 排队/ 节点/ 为/ M/ // G/ // 时/ 烄/ Qir/ =/ 烅/ 1/ -/ ∑/ R/ 烆/ 正在/ 被/ 服务/ 的/ 顾客/ )/ 为点/ i/ 的/ 访问率/ [/ 28/ ]/ ./ 顾客/ 在/ 排队/ 网络/ 中/ 的/ 响应/ 时间/ (/ 即/ Web/ 服务/ 组合/ 的/ 平均/ 响应/ 时间/ )/ 为/ 顾客/ 在/ 排队/ 网络/ 中/ 的/ 平均/ 数量/ (/ 即/ 排队/ 网络/ 中/ Web/ 服务/ 调用/ 请求/ 的/ 平均/ 数量/ )/ 为/ 6.2/ 排队/ 节点/ 类型/ 为/ G/ // G/ // 1/ -/ FCFS/ 时/ ,/ 排队/ 网络/ 的/ 平均/ 响应/ 时间/ 和/ 平均/ 顾客/ 数当/ 排队/ 节点/ 的/ 类型/ 为/ G/ // G/ // 1/ -/ FCFS/ 时/ ,/ 排队/ 网络/ 为/ 非/ 乘积/ 排队/ 网络/ ,/ 需要/ 采用/ 开/ 排队/ 网络/ 分解/ 法/ 计算/ [/ 25/ ]/ 平均/ 响应/ 时间/ 和/ 平均/ 顾客/ 数/ ./ 计算/ 平均/ 顾客/ 数/ 的/ 算法/ 描述/ 如下/ (/ 参见/ 文献/ [/ 25/ ]/ 第/ 480/ -/ 483/ 页/ )/ :/ 1/ ./ 初始化/ ./ 对/ i/ ,/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ N/ ;/ r/ =/ 1/ ,/ 2/ ,/ …/ ,/ R/ ,/ 假设/ c2/ 为/ 类型/ r/ 顾客/ 到达/ 排队/ 节点/ i/ 间隔时间/ 概率分布/ 的/ 均/ 方差/ 系数/ ,/ c2Bir/ 为/ 类型/ r/ 顾客/ 在/ 排队/ 节点/ i/ 服务/ 时间/ 概率分布/ 的/ 均/ 方差/ 系数/ ./ 且/ 令/ c22/ ./ 合并/ ./ 对/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ N/ ;/ r/ =/ 1/ ,/ 2/ ,/ …/ ,/ R/ ,/ 按式/ (/ 12/ )/ 和/ (/ 13/ )/ 计算/ ,/ 3/ ./ 流出/ ./ 对/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ N/ ,/ 按式/ (/ 14/ )/ 计算/ ,/ Di/ =/ -/ 1/ +/ λ/ i/ ∑/ Rc24/ ./ 分离/ ./ 对/ i/ ,/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ N/ ;/ r/ =/ 1/ ,/ 2/ ,/ …/ ,/ R/ ,/ 按式/ (/ 15/ )/ 计算/ ,/ 5/ ./ 重复/ 步/ 2/ ~/ 4/ 直到/ c2/ 式/ (/ 16/ )/ 计算/ 类型/ r/ 顾客/ 在/ 排队/ 节点/ i/ 的/ 平均/ 顾客/ 数/ (/ 包括/ 正在/ 被/ 服务/ 的/ 顾客/ )/ 和/ 按式/ (/ 17/ )/ 计算/ 类型/ r/ 顾客/ 在/ 排队/ 节点/ i/ 的/ 响应/ 时间/ ,/ 6/ ./ 最后/ ,/ 按式/ (/ 10/ )/ 和/ 式/ (/ 11/ )/ 分别/ 计算/ 顾客/ 在/ 排队/ 网络/ 中/ 的/ 平均/ 响应/ 时间/ 和/ 平均/ 数量/ ./ 7Web/ 服务/ 组合/ 性能/ 分析/ 我们/ 在/ 第/ 1/ 节/ 曾/ 指出/ :/ (/ 1/ )/ 广义/ Petri/ 网/ 、/ Markov/ 过程/ 和/ 随机/ 进程/ 代数/ ,/ 不能/ 建模/ 互联网/ 环境/ 下/ Web/ 服务/ 调用/ 请求/ 需要/ 在/ Web/ 服务器端/ 排队/ 等待/ 运行/ 的/ 现象/ ./ (/ 2/ )/ 广义/ Petri/ 网/ 、/ 排队/ Petri/ 网/ 、/ Markov/ 过程/ 和/ 随机/ 进程/ 代数/ 孤立/ 地/ 分析/ 正在/ 建模/ 的/ Web/ 服务/ 组合/ 的/ 性能/ ,/ 没有/ 考虑/ 其它/ Web/ 服务/ 组合/ 对/ 正在/ 建模/ 的/ Web/ 服务/ 组合/ 性能/ 的/ “/ 干扰/ ”/ ./ 当/ 排队/ 网络/ 中/ 每个/ 排队/ 节点/ 为/ M/ // G/ // 时/ ,/ 由于/ 每个/ 排队/ 节点/ 有/ 无穷/ 多个/ 服务器/ ,/ 使得/ 每个/ “/ Web/ 服务/ 调用/ 请求/ ”/ 能/ 立即/ 获得/ 执行/ ,/ 从而/ 不会/ 发生/ 排队/ 等待/ 现象/ ;/ 当/ 排队/ 网络/ 中/ 每个/ 排队/ 节点/ 为/ M/ // G/ // 1/ -/ PS/ 或/ M/ // G/ // 1/ -/ FCFS/ 时/ ,/ 由于/ 每个/ 排队/ 节点/ 仅/ 有/ 1/ 个/ 服务器/ ,/ 使得/ 每个/ “/ Web/ 服务/ 调用/ 请求/ ”/ 不/ 一定/ 能/ 立即/ 获得/ 执行/ ,/ 需要/ 在/ 等待/ 队列/ 排队/ 等待/ ./ 本节/ 将/ 以图/ 15/ 所示/ 排队/ 网络/ 对应/ 的/ Web/ 服务/ 组合/ BP1/ 为例/ ,/ 通过/ 计算/ 排队/ 节点/ 分别/ 为/ M/ // G/ // 、/ Page13M/ // G/ // 1/ -/ PS/ 和/ M/ // G/ // 1/ -/ FCFS/ 时/ ,/ Web/ 服务/ 组合/ 的/ 性能/ 评价/ 指标/ ,/ 分析/ 存在/ 或/ 不/ 存在/ 排队/ 等待/ 时/ ,/ Web/ 服务/ 组合/ BP1/ 的/ 性能/ ./ 当/ 类型/ 2/ 顾客/ 的/ 到达/ 率/ λ/ 0/ ,/ i2/ =/ 0/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ N/ )/ 时/ ,/ 表明/ 不/ 存在/ 其它/ Web/ 服务/ 组合/ 对/ “/ 正在/ 对/ 其/ 进行/ 性能/ 分析/ 的/ Web/ 服务/ 组合/ ”/ 的/ 干扰/ ;/ 当/ 存在/ i/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ N/ )/ 使得/ λ/ 0/ ,/ i2/ ≠/ 0/ 时/ ,/ 表明/ 存在/ “/ 其它/ Web/ 服务/ 组合/ ”/ 对/ “/ 正在/ 进行/ 性能/ 分析/ 的/ Web/ 服务/ 组合/ ”/ 的/ 干扰/ ./ 本节/ 将/ 以图/ 15/ 所示/ 排队/ 网络/ 对应/ 的/ Web/ 服务/ 组合/ BP1/ 为例/ ,/ 通过/ 计算/ 排队/ 节点/ 分别/ 为/ M/ // G/ // 、/ M/ // G/ // 1/ -/ PS/ 和/ M/ // G/ // 1/ -/ FCFS/ 时/ ,/ Web/ 服务/ 组合/ 的/ 性能/ 评价/ 指标/ ,/ 分析/ 存在/ 或/ 不/ 存在/ 其它/ Web/ 服务/ 组合/ 的/ 干扰/ 时/ ,/ Web/ 服务/ 组合/ BP1/ 的/ 性能/ ./ 为了/ 进行/ 以上/ 性能/ 分析/ ,/ 根据/ BP1/ 中/ 变量/ 的/ 概率分布/ 和/ 〈/ condition/ 〉/ …/ 〈/ // condition/ 〉/ 中/ 的/ 布尔/ 表达式/ ,/ 可以/ 计算/ 类型/ 1/ 顾客/ 的/ 路由/ 概率/ ,/ 4.3/ 小节/ 给出/ 了/ 排队/ 节点/ 之间/ 路由/ 概率/ 的/ 计算方法/ ./ 类型/ 2/ 顾客/ 的/ 路由/ 概率/ 刻画/ 了/ “/ 其它/ Web/ 服务/ 组合/ ”/ 对/ “/ 正在/ 对/ 其/ 进行/ 性能/ 分析/ 的/ Web/ 服务/ 组合/ ”/ 的/ 干扰/ 程度/ ./ 此处/ ,/ 我们/ 假设/ 类型/ 1/ 顾客/ 和/ 类型/ 2/ 顾客/ 的/ 概率/ 路由/ 矩阵/ 分别/ 为/ 犘/ 2/ =/ 犘/ 1/ =/ 0.01/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 00.0/ 烄/ 0.00/ ./ 00.30/ ./ 30.40/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 00.70/ ./ 30.00/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 70.30/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 00.70/ ./ 30.00/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 70.30/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 01.00/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 01.00/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 0/ 烆/ 0.00/ ./ 80.00/ ./ 00.00/ ./ 00.00/ ./ 00.0/ 烄/ 0.00/ ./ 00.20/ ./ 20.40/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 00.70/ ./ 10.00/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 60.20/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 00.60/ ./ 20.00/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 30.50/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 03.00/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 03.00/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 00.00/ ./ 0/ 烆/ 由于/ 可以/ 用/ Coxian/ 分布/ 近似/ 任意/ 一般/ 分布/ ,/ 此处/ 我们/ 假定/ 每个/ 排队/ 节点/ 的/ 服务/ 时间/ 服从/ Coxian/ 分布/ ,/ 其/ 平均/ 服务/ 时间/ 12.0/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ 9/ ,/ r/ =/ 1/ ,/ 2/ )/ ./ 由于/ 对/ Web/ 服务/ 组合/ BP1/ 的/ 调用/ 从/ WS1/ 开始/ 执行/ ,/ 当/ 排队/ 节点/ 为/ M/ // G/ // 和/ M/ // G/ // 1/ -/ PS/ 时/ ,/ 我们/ 假设/ 对/ Web/ 服务/ 组合/ BP1/ 调用/ 请求/ 的/ 间隔时间/ 服从/ 指数分布/ ,/ 平均/ 间隔时间/ 1/ λ/ 0/ ,/ 11/ >/ 0/ 且/ λ/ 0/ ,/ i1/ =/ 0/ (/ i/ =/ 2/ ,/ …/ ,/ 9/ )/ ;/ 当/ 排队/ 节点/ 为/ G/ // G/ // 1/ -/ FCFS/ ,/ 我们/ 假设/ 对/ Web/ 服务/ 组合/ BP1/ 调用/ 请求/ 的/ 间隔时间/ 服从/ 重尾/ 分布/ [/ 26/ ]/ ,/ 平均/ 间隔时间/ 1/ λ/ 0/ ,/ 11/ >/ 0/ 且/ λ/ 0/ ,/ i1/ =/ 0/ (/ i/ =/ 2/ ,/ …/ ,/ 9/ )/ ,/ 方差/ 系数/ c20/ ./ 5/ 且/ c2/ 本节/ 将/ 给出/ “/ 当/ 存在/ 或/ 不/ 存在/ 排队/ 等待/ 现象/ 时/ ”/ 以及/ “/ 当/ 存在/ 或/ 不/ 存在/ 其它/ Web/ 服务/ 组合/ 的/ 干扰/ 时/ ”/ ,/ Web/ 服务/ 组合/ 的/ 平均/ 响应/ 时间/ (/ 参见/ 式/ (/ 10/ )/ )/ 以及/ 排队/ 网络/ 中/ Web/ 服务/ 调用/ 请求/ 的/ 平均/ 数量/ (/ 参见/ 式/ (/ 11/ )/ )/ 的/ 变化规律/ ./ 此外/ ,/ 本/ 小节/ 还/ 分析/ 了/ 当/ BPEL/ 流程/ 中/ 变量/ 取值/ 的/ 概率分布/ 发生变化/ 时/ ,/ Web/ 服务器/ WS6/ 的/ 响应/ 时间/ 的/ 变化规律/ (/ 参见/ 式/ (/ 8/ )/ )/ 以及/ 在/ Web/ 服务器/ WS6/ 中/ 等待/ 执行/ 的/ “/ Web/ 服务/ 请求/ ”/ 的/ 平均/ 数量/ 的/ 变化规律/ (/ 参见/ 式/ (/ 9/ )/ )/ ./ 受/ 篇幅/ 所/ 限/ ,/ 当/ 其它/ “/ 内因/ ”/ 和/ “/ 外因/ ”/ 变化/ 时/ ,/ 各/ Web/ 服务器/ (/ 即/ 各/ 排队/ 节点/ )/ 响应/ 时间/ 的/ 变化规律/ ,/ 各/ “/ Web/ 服务/ 调用/ 请求/ ”/ 平均/ 数量/ 的/ 变化规律/ 以及/ 瓶颈/ 节点/ 的/ 分析/ 拟/ 另文/ 讨论/ ./ 7.1/ 当/ 存在/ 或/ 不/ 存在/ 排队/ 等待/ 时/ ,/ Web/ 服务/ 组合/ 的/ 性能/ 本/ 小节/ 分析/ 当/ 存在/ 排队/ 或/ 不/ 存在/ 排队/ 等待/ 时/ ,/ Web/ 服务/ 组合/ BP1/ 的/ 性能/ ,/ 为此/ 我们/ 假定/ 不/ 存在/ 其它/ Web/ 服务/ 组合/ 对/ Web/ 服务/ 组合/ BP1/ 的/ 干扰/ ,/ 即/ λ/ 0/ ,/ i2/ =/ 0/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ 9/ )/ ./ 当/ λ/ 0/ ,/ 11/ 从/ 1/ 变化/ 到/ 30/ 时/ ,/ 按/ 第/ 6/ 节/ 给出/ 的/ 方法/ ,/ 我们/ 分别/ 计算/ 排队/ 网络/ 的/ 响应/ 时间/ ,/ 即/ Web/ 服务/ 组合/ 的/ 平均/ 响应/ 时间/ (/ 参见/ 式/ (/ 10/ )/ )/ 以及/ 顾客/ 在/ 排队/ 网络/ 中/ 的/ 平均/ 数量/ ,/ 即/ 排队/ 网络/ 中/ Web/ 服务/ 调用/ 请求/ 的/ 平均/ 数量/ (/ 参见/ 式/ (/ 11/ )/ )/ ./ 图/ 16/ 给出/ 了/ Web/ 服务/ 组合/ BP1/ 响应/ 时间/ 的/ 变化规律/ ,/ 图/ 17/ 给出/ 了/ Web/ 服务/ 组合/ BP1/ 执行/ 过程/ 中/ ,/ 在/ 各/ Web/ 服务器/ 中/ 执行/ 或/ 排队/ 等待/ 的/ “/ Web/ 服务/ 调用/ 请求/ ”/ 的/ 平均/ 数量/ 的/ 变化规律/ ./ 图/ 16/ 中/ 横坐标/ 为/ Web/ 服务/ 组合/ 调用/ 请求/ 的/ 到达/ 率/ ,/ 即/ λ/ 0/ ,/ 11/ ,/ 其/ 倒数/ 1BP1/ 的/ 平均/ 间隔时间/ ;/ 纵坐标/ 是/ Web/ 服务/ 组合/ BP1/ 执行/ 完毕/ 所/ 需/ 的/ 平均/ 时间/ ,/ 即/ Web/ 服务/ 组合/ BP1/ 的/ 平均/ 响应/ 时间/ ./ 从图/ 16/ 中/ 可知/ :/ Page14/ 图/ 17/ “/ Web/ 服务/ 调用/ 请求/ ”/ 平均/ 数量/ 的/ 变化规律/ (/ 1/ )/ 如果/ 排队/ 节点/ 为/ M/ // G/ // ,/ 即/ “/ Web/ 服务/ 调用/ 请求/ ”/ 能/ 立即/ 获得/ 执行/ ,/ 从而/ 不会/ 发生/ 排队/ 等待/ 现象/ 时/ ,/ Web/ 服务/ 组合/ 的/ 响应/ 时间/ 最短/ ,/ 即/ 不/ 存在/ 排队/ 等待/ 时/ ,/ Web/ 服务/ 组合/ 的/ 响应/ 时间/ 最短/ ;/ 随着/ λ/ 0/ ,/ 11/ 增加/ (/ 即/ 平均/ 间隔时间/ 缩短/ )/ ,/ Web/ 服务/ 组合/ 的/ 响应/ 时间/ 几乎/ 不/ 发生变化/ ./ (/ 2/ )/ 当/ 排队/ 节点/ 为/ M/ // G/ // 1/ -/ PS/ 或/ G/ // G/ // 1/ -/ FCFS/ 时/ ,/ 由于/ 每个/ 排队/ 节点/ 仅/ 有/ 1/ 个/ 服务器/ ,/ 使得/ 每个/ “/ Web/ 服务/ 调用/ 请求/ ”/ 不/ 一定/ 能/ 立即/ 获得/ 执行/ ,/ 需要/ 在/ 排队/ 队列/ 等待/ 执行/ ,/ Web/ 服务/ 组合/ 的/ 响应/ 时间/ 大于/ 排队/ 节点/ 为/ M/ // G/ // 时/ 的/ 响应/ 时间/ ;/ 随着/ λ/ 0/ ,/ 11/ 增加/ (/ 即/ 平均/ 间隔时间/ 缩短/ )/ ,/ 由于/ 调用/ Web/ 服务/ 组合/ 平均/ 间隔时间/ 的/ 缩短/ ,/ 响应/ 时间/ 也/ 逐渐/ 增加/ ./ (/ 3/ )/ 当/ 排队/ 节点/ 为/ G/ // G/ // 1/ -/ FCFS/ 时/ ,/ Web/ 服务/ 组合/ 的/ 响应/ 时间/ 要/ 大于/ 排队/ 节点/ 为/ M/ // G/ // 1/ -/ PS/ 时/ 的/ 响应/ 时间/ ,/ 即当/ Web/ 服务/ 组合/ BP1/ 调用/ 请求/ 的/ 间隔时间/ 服从/ 重尾/ 分布/ 时/ ,/ Web/ 服务/ 组合/ 的/ 响应/ 时间/ 大于/ Web/ 服务/ 组合/ BP1/ 调用/ 请求/ 的/ 间隔时间/ 服从/ 指数分布/ 时/ 的/ 响应/ 时间/ ./ 图/ 17/ 的/ 横坐标/ 与/ 图/ 16/ 相同/ ;/ 纵坐标/ 是/ Web/ 服务/ 组合/ BP1/ 执行/ 过程/ 中/ ,/ 在/ 各/ Web/ 服务器/ 中/ 执行/ 或/ 排队/ 等待/ 的/ “/ Web/ 服务/ 调用/ 请求/ ”/ 的/ 平均/ 数量/ ./ 由于/ 受/ 排队/ 论中/ Little/ 公式/ 的/ 约束/ ,/ 对比/ 图/ 16/ 和/ 图/ 17/ 可知/ ,/ “/ Web/ 服务/ 调用/ 请求/ ”/ 的/ 平均/ 数量/ 具有/ 与/ Web/ 服务/ 组合/ “/ 响应/ 时间/ ”/ 类似/ 的/ 变化规律/ ./ 排队/ 节点/ 为/ G/ // G/ // 1/ -/ FCFS/ 时/ 平均/ 数量/ 最大/ ,/ 其次/ 是/ 排队/ 节点/ 为/ M/ // G/ // 1/ -/ PS/ 时/ ,/ 排队/ 节点/ 为/ M/ // G/ // 时/ 最小/ ./ 当/ 排队/ 节点/ 为/ M/ // G/ // 时/ ,/ 由于/ 不/ 需要/ 排队/ 等待/ ,/ 平均/ 数量/ 是/ 各/ Web/ 服务器/ 中/ 正在/ 执行/ 的/ “/ Web/ 服务/ 调用/ 请求/ ”/ 的/ 平均/ 数量/ ./ 7.2/ 当/ 存在/ 或/ 不/ 存在/ 其它/ Web/ 服务/ 组合/ 的/ 干扰/ 时/ ,/ Web/ 服务/ 组合/ 的/ 性能/ 本/ 小节/ 分析/ 当/ 存在/ 或/ 不/ 存在/ 其它/ Web/ 服务/ 组合/ 的/ 干扰/ 时/ ,/ Web/ 服务/ 组合/ BP1/ 的/ 性能/ ./ 当/ 不/ 存在/ 其它/ Web/ 服务/ 组合/ 的/ 干扰/ 时/ ,/ 即/ 类型/ 2/ 顾客/ 的/ 到达/ 率/ λ/ 0/ ,/ i2/ =/ 0/ ;/ 当/ 存在/ 其它/ Web/ 服务/ 组合/ 的/ 干扰/ 时/ ,/ 即/ 类型/ 2/ 顾客/ 的/ 到达/ 率/ λ/ 0/ ,/ i2/ >/ 0/ ,/ 此时/ 我们/ 假设/ λ/ 0/ ,/ i2/ =/ 5/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ 9/ )/ ,/ 如果/ 到达/ 间隔时间/ 服从/ 重尾/ 分布/ ,/ 则/ 假设/ 方差/ 系数/ c2/ 两种/ 情况/ 下/ ,/ 当/ λ/ 0/ ,/ 11/ 从/ 1/ 变化/ 到/ 30/ 时/ ,/ 按/ 第/ 6/ 节/ 给出/ 的/ 方法/ ,/ 我们/ 分别/ 计算/ 了/ 排队/ 网络/ 的/ 响应/ 时间/ ,/ 即/ Web/ 服务/ 组合/ 的/ 平均/ 响应/ 时间/ (/ 参见/ 式/ (/ 10/ )/ )/ 以及/ 顾客/ 在/ 排队/ 网络/ 中/ 的/ 平均/ 数量/ ,/ 即/ 排队/ 网络/ 中/ Web/ 服务/ 调用/ 请求/ 的/ 平均/ 数量/ (/ 参见/ 式/ (/ 11/ )/ )/ ./ 图/ 18/ (/ 其/ 纵横/ 坐标/ 与/ 图/ 16/ 相同/ )/ 给出/ 了/ 当/ 类型/ 2/ 顾客/ 的/ 到达/ 率/ λ/ 0/ ,/ i2/ =/ 0/ 和/ λ/ 0/ ,/ i2/ =/ 5/ ,/ λ/ 0/ ,/ 11/ 从/ 1/ 变化/ 到/ 30/ ,/ 且/ 排队/ 节点/ 分别/ 为/ M/ // G/ // 、/ M/ // G/ // 1/ -/ PS/ 和/ G/ // G/ // 1/ -/ FCFS/ 时/ ,/ Web/ 服务/ 组合/ BP1/ 响应/ 时间/ 的/ 变化规律/ ;/ 图/ 19/ (/ 其/ 纵横/ 坐标/ 与/ 图/ 17/ 相同/ )/ 给出/ 了/ 当/ 类型/ 2/ 顾客/ 的/ 到达/ 率/ λ/ 0/ ,/ i2/ =/ 0/ 和/ λ/ 0/ ,/ i2/ =/ 5/ ,/ λ/ 0/ ,/ 11/ 从/ 1/ 变化/ 到/ 30/ ,/ 且/ 排队/ 节点/ 分别/ 为/ M/ // G/ // 、/ M/ // G/ // 1/ -/ PS/ 和/ G/ // G/ // 1/ -/ FCFS/ 时/ ,/ 各/ Web/ 服务器/ 中/ “/ Web/ 服务/ 调用/ 请求/ ”/ 平均/ 数量/ 的/ 变化规律/ ./ 图/ 18/ 其它/ Web/ 服务/ 组合/ 的/ 干扰/ 对/ Web/ 服务/ 从图/ 18/ 可知/ :/ (/ 1/ )/ 不论/ 排队/ 节点/ 是/ 何种/ 类型/ ,/ 当/ λ/ 0/ ,/ i2/ =/ 5/ 时/ Web/ 服务/ 组合/ BP1/ 的/ 响应/ 时间/ 大于/ 当/ λ/ 0/ ,/ i2/ =/ 0/ 时/ 的/ 响应/ 时间/ ./ 表明/ 如果/ 存在/ 其它/ Web/ 服务/ 组合/ “/ 调用/ ”/ Web/ 服务/ 组合/ BP1/ 中/ 涉及/ 的/ “/ Web/ 服务/ ”/ ,/ Web/ 服/ Page15/ 务/ 组合/ BP1/ 的/ 响应/ 时间/ 会/ 增加/ ./ (/ 2/ )/ 当/ 排队/ 节点/ 为/ M/ // G/ // 时/ ,/ 由于/ 不会/ 发生/ 排队/ 等待/ 现象/ ,/ 不论/ 是否/ 存在/ 其它/ Web/ 服务/ 组合/ 的/ 干扰/ ,/ 随着/ 调用/ Web/ 服务/ 组合/ BP1/ 平均/ 间隔时间/ 的/ 缩短/ (/ 当/ λ/ 0/ ,/ 11/ 从/ 1/ 变化/ 到/ 30/ 时/ )/ ,/ Web/ 服务/ 组合/ BP1/ 的/ 响应/ 时间/ 不会/ 发生/ 明显/ 变化/ ./ (/ 3/ )/ 当/ 排队/ 节点/ 为/ M/ // G/ // 1/ -/ PS/ 时/ ,/ 由于/ 存在/ 排队/ 等待/ 现象/ ,/ 当/ 存在/ 其它/ Web/ 服务/ 组合/ 的/ 干扰/ 时/ ,/ 随着/ 调用/ Web/ 服务/ 组合/ BP1/ 平均/ 间隔时间/ 的/ 缩短/ (/ 当/ λ/ 0/ ,/ 11/ 从/ 1/ 变化/ 到/ 30/ 时/ )/ ,/ Web/ 服务/ 组合/ BP1/ 的/ 响应/ 时间/ 会/ 迅速/ 增加/ ./ (/ 4/ )/ 当/ 排队/ 节点/ 为/ G/ // G/ // 1/ -/ FCFS/ 时/ ,/ 由于/ 调用/ Web/ 服务/ 的/ 间隔时间/ 服从/ 重尾/ 分布/ ,/ 当/ 存在/ 其它/ Web/ 服务/ 组合/ 的/ 干扰/ 时/ ,/ 随着/ 调用/ Web/ 服务/ 组合/ BP1/ 平均/ 间隔时间/ 的/ 缩短/ (/ 当/ λ/ 0/ ,/ 11/ 从/ 1/ 变化/ 到/ 30/ 时/ )/ ,/ 与/ 排队/ 节点/ 为/ M/ // G/ // 1/ -/ PS/ 相比/ ,/ Web/ 服务/ 组合/ BP1/ 的/ 响应/ 时间/ 会/ 更/ 迅速/ 地/ 增加/ ./ (/ 5/ )/ 排队/ 节点/ 为/ G/ // G/ // 1/ -/ FCFS/ 时/ 的/ 响应/ 时间/ 大于/ 排队/ 节点/ 为/ M/ // G/ // 1/ -/ PS/ 时/ 的/ 响应/ 时间/ ;/ 排队/ 节点/ 为/ M/ // G/ // 1/ -/ PS/ 时/ 的/ 响应/ 时间/ 大于/ 排队/ 节点/ 为/ M/ // G/ // 时/ 的/ 响应/ 时间/ ./ 由于/ 互联网/ 环境/ 下/ HTTP/ 流量/ 具有/ 自/ 相似性/ ,/ 且/ 服从/ 重尾/ 分布/ [/ 26/ ]/ ,/ 因此/ 排队/ 节点/ 为/ G/ // G/ // 1/ -/ FCFS/ 时/ 的/ 响应/ 时间/ 能/ 更好/ 地/ 反映/ Web/ 服务/ 组合/ 的/ 实际/ 性能/ ./ 由图/ 18/ 可知/ ,/ 随着/ 调用/ Web/ 服务/ 组合/ 流量/ 的/ 增加/ 以及/ 外部/ 流量/ 的/ 干扰/ ,/ Web/ 服务/ 组合/ 的/ 响应/ 时间/ 会/ 迅速/ 增加/ ./ 图/ 19/ 是/ 在/ 各/ Web/ 服务器/ 中/ 执行/ 或/ 排队/ 等待/ 的/ “/ Web/ 服务/ 调用/ 请求/ ”/ 的/ 平均/ 数量/ ./ 由于/ 受/ 排队/ 论中/ Little/ 公式/ 的/ 约束/ ,/ 对比/ 图/ 19/ 和/ 图/ 18/ 可知/ ,/ “/ Web/ 服务/ 调用/ 请求/ ”/ 的/ 平均/ 数量/ 具有/ 与/ Web/ 服务/ 组合/ “/ 响应/ 时间/ ”/ 类似/ 的/ 变化规律/ ./ 7.3/ 当/ “/ 外因/ ”/ 不变/ 、/ “/ 内因/ ”/ 发生变化/ 时/ ,/ Web/ 服务/ 组合/ 的/ 性能/ 本/ 小节/ 分析/ 当/ BPEL/ 流程/ 中/ 变量/ 取值/ 的/ 概率分布/ 发生变化/ 时/ ,/ Web/ 服务/ 组合/ BP1/ 的/ 性能/ ./ 我们/ 固定/ “/ 外因/ ”/ 不变/ :/ 类型/ 1/ 顾客/ 的/ 到达/ 率/ (/ 即/ Web/ 服务/ 组合/ 的/ 平均/ 调用/ 次数/ )/ λ/ 0/ ,/ 11/ =/ 5/ ,/ λ/ 0/ ,/ i1/ =/ 0/ ,/ 且/ i/ =/ 2/ ,/ 3/ ,/ 4/ ,/ 5/ ,/ 6/ ,/ 7/ ,/ 8/ ,/ 9/ ;/ 类型/ 2/ 顾客/ 的/ 到达/ 率/ λ/ 0/ ,/ i2/ =/ 5/ ;/ 如果/ 到达/ 间隔时间/ 服从/ 重尾/ 分布/ ,/ 则/ 假设/ 方差/ 系数/ c22/ ./ 0/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ 9/ )/ ./ 在/ 上述/ 条件/ 下/ ,/ 当/ BP1/ 中/ 〈/ while/ 〉/ 语句/ “/ 条件/ 3/ ”/ 为/ 真的/ 概率/ 从/ 0.1/ 变化/ 到/ 0.9/ 时/ (/ 即/ 调用/ Web/ 服务/ WS6/ 的/ 次数/ 增加/ 时/ )/ ,/ 按/ 第/ 6/ 节/ 给出/ 的/ 方法/ ,/ 我们/ 分别/ 计算/ 了/ 各/ 排队/ 节点/ 的/ 响应/ 时间/ (/ 参见/ 式/ (/ 8/ )/ )/ 以及/ 各/ 排队/ 节点/ 中/ 顾客/ 的/ 平均/ 数量/ (/ 参见/ 式/ (/ 9/ )/ )/ ./ 图/ 20/ 给出/ 了/ 当/ 〈/ while/ 〉/ 中/ “/ 条件/ 3/ ”/ 为/ 真的/ 概率/ 从/ 0.1/ 变化/ 到/ 0.9/ ,/ 且/ 排队/ 节点/ 分别/ 为/ M/ // G/ // 、/ M/ // G/ // 1/ -/ PS/ 和/ G/ // G/ // 1/ -/ FCFS/ 时/ ,/ Web/ 服务/ WS6/ 响应/ 时间/ 的/ 变化规律/ ;/ 图/ 21/ 给出/ 了/ Web/ 服务/ WS6/ 中/ “/ Web/ 服务/ 调用/ 请求/ ”/ 平均/ 数量/ 的/ 变化规律/ ./ 特别/ 需要/ 说明/ 的/ 是/ ,/ 除了/ 节点/ WS6/ ,/ 随着/ 〈/ while/ 〉/ 中/ “/ 条件/ 3/ ”/ 为/ 真的/ 概率/ 从/ 0.1/ 变化/ 到/ 0.9/ ,/ 其它/ 节点/ 的/ “/ 响应/ 时间/ ”/ 和/ “/ Web/ 服务/ 调用/ 请求/ 平均/ 数量/ ”/ 几乎/ 没有/ 变化/ ./ 图/ 21Web/ 服务/ WS6/ 调用/ 请求/ 平均/ 数量/ 的/ 变化规律/ 从图/ 20/ 和/ 图/ 21/ 可知/ ,/ 不论/ 排队/ 节点/ 是/ 哪种/ 类型/ ,/ 随着/ 调用/ Web/ 服务/ WS6/ 的/ 概率/ 增加/ ,/ 其/ 响应/ 时间/ 逐渐/ 变/ 长/ ,/ 在/ Web/ 服务/ WS6/ 中/ 排队/ 等待/ 处理/ 的/ “/ Web/ 服务/ 调用/ 请求/ ”/ 逐渐/ 增多/ ,/ 从而/ 会/ 对/ Web/ 服务/ 组合/ 的/ 性能/ 造成/ 影响/ ,/ 增加/ Web/ 服务/ 组合/ 的/ 响应/ 时间/ ./ Page168/ 结论/ 及/ 进一步/ 的/ 研究/ 内容/ 目前/ 广泛/ 采用/ 的/ 广义/ Petri/ 网/ 、/ 排队/ Petri/ 网/ 、/ Markov/ 过程/ 和/ 随机/ 进程/ 代数/ [/ 13/ ]/ 不能/ 同时/ 建模/ 互联网/ 环境/ 下/ 各种/ “/ 内因/ ”/ 和/ “/ 外因/ ”/ 对/ Web/ 服务/ 组合/ 性能/ 的/ 影响/ ,/ 从而/ 不能/ 刻画/ Web/ 服务/ 组合/ 在/ 互联网/ 环境/ 下/ 的/ 实际/ 性能/ ;/ 本文/ 通过/ 把/ 影响/ Web/ 服务/ 组合/ 性能/ 的/ 各种/ “/ 内因/ ”/ 和/ “/ 外因/ ”/ 映射/ 到/ 排队/ 网络/ ,/ 建立/ 了/ Web/ 服务/ 组合/ 性能/ 在/ 排队/ 网络/ 中/ 的/ “/ 性能/ 映像/ ”/ ,/ 以便/ 建模/ 各种/ “/ 内因/ ”/ 和/ “/ 外因/ ”/ 对/ Web/ 服务/ 组合/ 性能/ 的/ 影响/ ,/ 并/ 获得/ 了/ 如下/ 结果/ :/ (/ 1/ )/ 建立/ 了/ 一组/ 把/ 影响/ Web/ 服务/ 组合/ 性能/ 的/ “/ 内因/ ”/ ,/ 即/ BPEL/ 基本/ 动作/ 和/ 结构/ 动作/ (/ 〈/ invoke/ 〉/ 、/ 〈/ sequence/ 〉/ 、/ 〈/ if/ 〉/ 、/ 〈/ while/ 〉/ 、/ 〈/ repeatUntil/ 〉/ 、/ 〈/ forEach/ 〉/ 和/ 〈/ flow/ 〉/ )/ 映射/ 为/ 排队/ 网络/ 的/ 映射/ 规则/ ./ (/ 2/ )/ 建立/ 了/ 把/ 影响/ Web/ 服务/ 组合/ 性能/ 的/ “/ 外因/ ”/ 映射/ 为/ 排队/ 网络/ 的/ 映射/ 规则/ ./ (/ 3/ )/ 给出/ 了/ 一组/ 建立/ 在/ 排队/ 网络/ 基础/ 上/ 的/ Web/ 服务/ 组合/ 性能/ 分析/ 指标体系/ 及其/ 计算公式/ ./ 利用/ 上述/ 分析方法/ ,/ 通过/ 对图/ 15/ 所/ 对应/ 的/ Web/ 服务/ 组合/ 的/ 性能/ 分析/ ,/ 我们/ 得到/ 如下/ 结论/ :/ (/ 1/ )/ 当/ “/ Web/ 服务/ 调用/ 请求/ ”/ 需要/ 排队/ 等待/ 时/ ,/ Web/ 服务/ 组合/ 的/ 响应/ 时间/ 会/ “/ 大于/ ”/ 不/ 需要/ 排队/ 等待/ 时/ 的/ 响应/ 时间/ ./ (/ 2/ )/ 当/ 存在/ “/ 其它/ Web/ 服务/ 组合/ ”/ 的/ 干扰/ 时/ ,/ “/ 正在/ 进行/ 性能/ 分析/ 的/ Web/ 服务/ 组合/ ”/ 的/ 响应/ 时间/ 要/ “/ 大于/ ”/ 不/ 存在/ “/ 其它/ Web/ 服务/ 组合/ ”/ 干扰/ 时/ 的/ 响应/ 时间/ ./ (/ 3/ )/ Web/ 服务/ 组合/ 中/ 变量/ 取值/ 的/ 概率分布/ 会/ 影响/ Web/ 服务/ 组合/ 的/ 性能/ ./ 受/ 篇幅/ 限制/ ,/ 我们/ 拟/ 另文/ 讨论/ :/ (/ 1/ )/ 分析/ 当/ 各种/ “/ 内因/ ”/ 和/ “/ 外因/ ”/ 发生变化/ 时/ ,/ Web/ 服务/ 组合/ 以及/ 各/ Web/ 服务器/ (/ 即/ 各/ 排队/ 节点/ )/ 响应/ 时间/ 的/ 变化规律/ ,/ “/ Web/ 服务/ 调用/ 请求/ ”/ 平均/ 数量/ 的/ 变化规律/ ;/ 并/ 定位/ Web/ 服务/ 组合/ 的/ 瓶颈/ 节点/ ./ (/ 2/ )/ 分析/ 当/ 存在/ QoS/ 区分/ 服务/ 时/ ,/ Web/ 服务/ 组合/ 的/ 性能/ 变化规律/ ./ 

