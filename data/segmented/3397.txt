Page1/ 基于/ FSM/ 的/ 测试/ 理论/ 、/ 方法/ 及/ 评估/ 刘攀/ 1/ )/ ,/ 2/ )/ 缪淮扣/ 1/ )/ ,/ 2/ )/ 曾红卫/ 1/ )/ 刘阳/ 1/ )/ 1/ )/ (/ 上海大学/ 计算机/ 工程/ 与/ 科学/ 学院/ 上海/ 200072/ )/ 2/ )/ (/ 上海市/ 计算机软件/ 评测/ 重点/ 实验室/ 上海/ 200072/ )/ 摘要/ 为/ 搭建/ 基于/ FSM/ 的/ 测试方法/ 由/ 理论/ 研究/ 通往/ 工业/ 应用/ 的/ 桥梁/ ,/ 文中/ 讨论/ 了/ 若干/ 基于/ FSM/ 模型/ 的/ 测试方法/ 及其/ 相关/ 理论/ ,/ 提出/ 构造/ 区分序列/ 的/ 理论/ 及/ 测试/ 序列/ 集合/ 冗余/ 约简/ 的/ 理论/ ,/ 补充/ 并/ 实现/ 了/ 若干/ 基于/ FSM/ 的/ 测试/ 生成/ 算法/ ./ 随后/ 文中/ 提出/ 了/ 基于/ FSM/ 的/ 测试方法/ 评估/ 的/ 5/ 项/ 量化/ 指标/ ,/ 实验/ 评估/ 了/ 若干/ 基于/ FSM/ 模型/ 的/ 测试方法/ ,/ 给出/ 了/ 一些/ 基于/ FSM/ 测试/ 的/ 经验/ 建议/ ./ 文中/ 的/ 评估/ 有助于/ 基于/ FSM/ 的/ 测试方法/ 在/ 工业/ 中/ 的/ 推广/ ./ 关键词/ 基于/ FSM/ 的/ 测试/ ;/ 测试/ 评估/ ;/ 测试/ 生成/ 算法/ ;/ 基于/ FSM/ 的/ 测试/ 理论/ ;/ 冗余/ 约简/ 1/ 引言/ 软件测试/ 是/ 提高/ 软件可靠性/ 和/ 保证/ 软件/ 质量/ 的/ 一种/ 重要/ 手段/ ./ 传统/ 的/ 软件测试/ 依赖于/ 人工/ 测试/ ,/ 是/ Page2/ 方向/ ./ 该/ 方法/ 能/ 由/ 描述/ 软件/ 需求/ 的/ 形式/ 规格/ 说明/ 生成/ 测试/ 序列/ ,/ 再/ 检测/ 待/ 测系统/ (/ SystemUnderTest/ ,/ SUT/ )/ [/ 2/ ]/ 的/ 运行/ 是否/ 严格遵守/ 它/ 的/ 形式/ 规格/ 说明/ ./ 由于/ 测试/ 序列/ 的/ 生成/ 、/ 测试/ 执行/ 及/ 测试/ 结果/ 的/ 分析/ 能/ 在/ 一定/ 程度/ 上/ 自动/ 实现/ ,/ 因此/ 降低/ 了/ 软件/ 的/ 测试/ 成本/ ,/ 提高/ 了/ 测试/ 效率/ ./ 有限/ 状态机/ (/ FiniteStateMachine/ ,/ FSM/ )/ 作为/ 一种/ 形式/ 建模语言/ 已/ 被/ 广泛/ 用于/ 描述/ 软件/ 的/ 需求/ ,/ 基于/ FSM/ 的/ 测试方法/ 亦/ 被/ 广泛/ 研究/ ./ 然而/ ,/ 基于/ FSM/ 的/ 测试/ 仍然/ 处于/ 理论/ 研究/ 状态/ ,/ 并未/ 在/ 工业界/ 得到/ 广泛应用/ [/ 1/ ,/ 3/ ]/ ./ 为/ 该/ 方法/ 搭建/ 一条/ 由/ 理论界/ 通往/ 工业/ 应用/ 界/ 的/ 桥梁/ 就/ 显得/ 非常/ 必要/ ,/ 而/ 充分/ 的/ 实验/ 评估/ 是/ 实现/ 这一/ 目标/ 的/ 有效/ 方式/ 之一/ ./ 现有/ 研究/ 对/ 基于/ FSM/ 的/ 测试/ 评估/ 并/ 不/ 完善/ ./ Sidhu/ 等/ 人/ [/ 4/ ]/ 通过/ 一个/ 案例/ 研究/ 了/ 一些/ 基于/ FSM/ 的/ 测试方法/ ,/ 并/ 比较/ 了/ 由/ 这些/ 方法/ 生成/ 的/ 测试/ 序列/ 总长度/ 及/ 错误/ 覆盖/ 能力/ ,/ 但/ 该文/ 仅/ 讨论/ 了/ 若干/ 基于/ FSM/ 的/ 测试方法/ 的/ 构造/ 思想/ ,/ 而/ 没有/ 提供/ 可/ 实践/ 的/ 算法/ ,/ 且/ 文中/ 讨论/ 的/ 错误/ 类型/ 非常/ 有限/ ,/ 与/ 实际/ 软件/ 中/ 的/ 错误/ 类型/ 不符/ ;/ Dalal/ 等/ 人/ [/ 5/ ]/ 利用/ 一个/ 基于/ 模型/ 的/ 测试工具/ 测试/ 了/ 4/ 个/ 实际/ 应用/ ,/ 并/ 讨论/ 了/ 基于/ 模型/ 的/ 测试/ 生成/ 时/ 的/ 注意事项/ ,/ 但/ 支持/ 工具/ 接受/ 的/ 建模语言/ 是/ 定制/ 的/ AETGSpec/ ,/ 而/ 非/ 通用/ 的/ FSM/ 模型/ ;/ Broy/ 等/ 人/ [/ 6/ ]/ 对/ 若干/ 基于/ FSM/ 的/ 测试方法/ 的/ 理论/ 进行/ 综述/ ,/ 而/ 并未/ 对/ 这种/ 测试方法/ 进行/ 实验/ 评估/ ;/ Neto/ 等/ 人/ [/ 3/ ,/ 7/ ]/ 通过/ 对/ 五大/ 电子/ 图书馆/ 的/ 索引/ ,/ 分析/ 和/ 讨论/ 了/ 现有/ 基于/ 模型/ 的/ 测试/ 研究/ 工作/ ./ 然而/ 他们/ 没有/ 比较/ 不同/ 方法/ 的/ 优劣/ ;/ Ammann/ 和/ Offutt/ [/ 8/ ]/ 则/ 从/ 测试/ 覆盖/ 准则/ 的/ 角度/ 评估/ 了/ 基于/ FSM/ 的/ 测试方法/ ,/ 但/ 并未/ 给出/ 测试/ 覆盖/ 准则/ 的/ 实现/ 算法/ ,/ 导致/ 实际/ 应用/ 的/ 困难/ ./ 本文/ 重点/ 讨论/ 基于/ FSM/ 的/ 测试方法/ 的/ 理论/ 、/ 实现/ 算法/ 及/ 冗余/ 约简/ 原理/ ./ 以/ 6/ 个/ FSM/ 模型/ 及其/ 应用/ 为/ 实验/ 对象/ ,/ 评估/ 若干/ 基于/ FSM/ 的/ 测试方法/ ,/ 并/ 提出/ 了/ 5/ 个/ 量化/ 评价/ 指标/ ./ 依据/ 实验/ 的/ 结果/ ,/ 本文/ 对/ 基于/ FSM/ 的/ 测试/ 提出/ 了/ 一些/ 经验性/ 的/ 指导/ 意见/ ./ 本文/ 的/ 创新/ 点/ 在于/ :/ (/ 1/ )/ 补充/ 了/ 基于/ FSM/ 的/ 测试/ 理论/ ,/ 完善/ 了/ 区分序列/ 的/ 构造/ 理论/ ,/ 提出/ 了/ 新/ 的/ 冗余/ 约简/ 方法/ ;/ (/ 2/ )/ 提出/ 了/ 评估/ 基于/ FSM/ 的/ 测试方法/ 的/ 5/ 项/ 量化/ 指标/ ,/ 并/ 评估/ 了/ 若干/ 基于/ FSM/ 的/ 测试方法/ ;/ (/ 3/ )/ 给出/ 了/ 基于/ FSM/ 的/ 测试/ 的/ 一些/ 经验性/ 建议/ ./ 本文/ 第/ 2/ 节/ 介绍/ 基于/ FSM/ 测试/ 的/ 一些/ 基础知识/ ;/ 第/ 3/ 节/ 综述/ 若干/ 基于/ FSM/ 的/ 测试方法/ ;/ 第/ 4/ 节/ 讨论/ 测试/ 序列/ 集/ 的/ 冗余/ 问题/ ,/ 并/ 提出/ 了/ 冗余/ 约简/ 算法/ ;/ 第/ 5/ 节/ 提出/ 5/ 项/ 量化/ 指标/ ,/ 评估/ 基于/ FSM/ 的/ 测试方法/ ;/ 第/ 6/ 节对/ 实验/ 结果/ 进行/ 讨论/ ,/ 并/ 为/ 基于/ FSM/ 的/ 测试方法/ 给出/ 一些/ 经验性/ 的/ 意见/ ;/ 第/ 7/ 节/ 分析/ 国内外/ 同类/ 研究/ ;/ 第/ 8/ 节/ 总结/ 全文/ ,/ 并/ 指出/ 今后/ 的/ 研究/ 方向/ ./ 2/ 预备/ 知识/ 有限/ 自动机/ 包括/ Moore/ 机和/ Mealy/ 机/ ,/ 其中/ Mealy/ 机是/ 由/ 状态/ 集合/ 、/ 输入/ 符号/ 集合/ 、/ 状态/ 迁移/ 函数/ 、/ 输出/ 符号/ 集合/ 和/ 输出/ 函数/ 构成/ ,/ 与/ 通信协议/ 的/ 描述/ 相一致/ ./ 因此/ ,/ Mealy/ 机/ 最早/ 被/ 用于/ 对/ 通信协议/ 的/ 建模/ 和/ 测试/ [/ 9/ ]/ ./ Mealy/ 机/ 的/ 定义/ [/ 2/ ,/ 4/ ,/ 6/ ,/ 9/ ]/ 如下/ ./ 定义/ 1/ (/ Mealy/ 机/ )/ ./ 一个/ Mealy/ 机是/ 一个/ 五元/ 组/ M/ =/ 〈/ I/ ,/ O/ ,/ S/ ,/ δ/ ,/ λ/ 〉/ ,/ 其中/ I/ 是/ 一个/ 有限/ 非空/ 输入/ 符号/ 集合/ ,/ O/ 是/ 一个/ 有限/ 非空/ 输出/ 符号/ 集合/ ,/ S/ 是/ 一个/ 有限/ 非空/ 的/ 状态/ 集合/ ,/ δ/ :/ S/ ×/ I/ →/ S/ 为/ 状态/ 迁移/ 函数/ ,/ λ/ :/ S/ ×/ I/ →/ O/ 为/ 输出/ 函数/ ./ 在/ Mealy/ 机中/ 输入/ 一条/ 序列/ x/ =/ a1a2/ …/ ak/ ,/ 由/ 状态/ 迁移/ 函数/ δ/ (/ si/ ,/ ai/ )/ =/ si/ +/ 1/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ k/ )/ 可/ 获得/ 一组/ 连续/ 的/ 状态/ s1s2/ …/ sk/ ,/ 本文/ 采用/ 函数/ δ/ (/ s1/ ,/ x/ )/ 表示/ 该组/ 连续/ 序列/ ./ 同理/ ,/ 可以/ 由/ 输出/ 函数/ λ/ (/ s1/ ,/ x/ )/ 产生/ 一条/ 输出/ 序列/ b1/ …/ bk/ ,/ 其中/ λ/ (/ si/ ,/ ai/ )/ =/ bk/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ k/ )/ ./ 在/ 本文/ 中/ ,/ x/ ·/ y/ 表示/ 两个/ 序列/ 或/ 输入/ 符号/ 的/ 连接/ ,/ λ/ (/ s1/ ,/ x/ )/ =/ -/ 表示/ 输出/ 为空/ ./ 本文/ 随后/ 规定/ MS/ 表示/ 软件/ 需求/ 的/ Mealy/ 机/ ,/ MI/ 表示/ 软件/ 实际/ 应用/ 的/ Mealy/ 机/ ./ 基于/ FSM/ 的/ 测试/ 过程/ :/ 依据/ 测试方法/ (/ 准则/ )/ 由/ MS/ 中/ 产生/ 测试/ 序列/ ,/ 再/ 应用/ 到/ MI/ 中/ ,/ 观察/ MI/ 是否/ 严格/ 符合/ 它/ 的/ 规格/ 说明/ MS/ ,/ 即/ 通过/ 比较/ 实际/ 的/ 测试/ 序列/ 和/ 输出/ 结果/ 是否/ 与/ 预期/ 一致/ ,/ 探测/ MS/ 和/ MI/ 之间/ 所有/ 的/ 不一致性/ 错误/ ./ 因此/ 通常/ 称/ 这种/ 测试/ 为/ 一致性/ 测试/ [/ 1/ ,/ 2/ ,/ 6/ ]/ ./ 现有/ 基于/ FSM/ 的/ 测试/ 研究/ 是/ 建立/ 在/ 一些/ 前提/ 和/ 假设/ [/ 6/ ,/ 10/ ]/ 的/ 基础/ 上/ ./ 假设/ 1/ ./ MS/ 是/ 被/ 约简/ 的/ 或/ 最小化/ 的/ ./ 对于/ 任意/ 两个/ 状态/ s/ 和/ t/ ,/ 存在/ 一个/ 输入/ 序列/ x/ ,/ 使得/ x/ 能/ 依据/ 输出/ 函数/ λ/ (/ s/ ,/ x/ )/ 和/ λ/ (/ t/ ,/ x/ )/ 的/ 不同/ ,/ 区分/ s/ 和/ t/ ./ 形式/ 描述/ 为/ / s/ ,/ t/ :/ S/ ,/ / x/ :/ I/ / ·/ (/ λ/ (/ s/ ,/ x/ )/ ≠/ λ/ (/ t/ ,/ x/ )/ )/ ./ 假设/ 2/ ./ MS/ 是/ 具体/ 的/ ./ S/ 中/ 的/ 每/ 一个/ 状态/ 和/ I/ 中/ 的/ 每/ 一个/ 输入/ 符号/ 都/ 能/ 应用/ 状态/ 迁移/ 函数/ δ/ 和/ 输出/ 函数/ λ/ ./ 形式/ 描述/ 为/ / si/ :/ S/ ,/ / x/ :/ I/ ·/ (/ / sj/ ∈/ S/ ,/ / y/ ∈/ O/ / ·/ (/ δ/ (/ si/ ,/ x/ )/ =/ sj/ )/ ∧/ (/ λ/ (/ si/ ,/ x/ )/ =/ y/ )/ )/ )/ ./ 假设/ 3/ ./ MS/ 是/ 强/ 连通/ 的/ ./ MS/ 中/ 的/ 每/ 一个/ 状态/ 都/ 可/ 经过/ 一条/ 或/ 多条/ 连续/ 的/ 迁移/ 由/ 其它/ 状态/ 到达/ ./ Page3/ 形式/ 描述/ 为/ / si/ ,/ sj/ :/ S/ ·/ (/ / p/ :/ I/ / ·/ (/ δ/ (/ si/ ,/ p/ )/ =/ sj/ )/ )/ ./ 某些/ 基于/ FSM/ 的/ 测试方法/ 并/ 不/ 严格遵守/ 假设/ 3/ ,/ 而仅/ 要求/ MS/ 中/ 的/ 每/ 一个/ 状态/ 都/ 能/ 由/ 初态/ 到达/ (/ 本文/ 称为/ 假设/ 3/ )/ ./ 假设/ 4/ ./ 在/ 测试/ 过程/ 中/ ,/ MI/ 并/ 不会/ 改变/ ,/ 且/ MI/ 与/ MS/ 拥有/ 相同/ 的/ 输入/ 和/ 输出/ 符号/ 集合/ ./ 形式/ 描述/ 为/ IMS/ =/ IMI/ ∧/ OMS/ =/ OMI/ ./ 假设/ 5/ ./ 初始状态/ ./ MS/ 和/ MI/ 都/ 有/ 一个/ 初始状态/ s1/ ,/ 且/ 测试/ 之前/ MI/ 已经/ 处在/ 它/ 的/ 初始状态/ ./ 假设/ 5/ 并非/ 严格要求/ ,/ 如/ n/ 端口/ 自动机/ 则/ 拥有/ 多个/ 初始状态/ ./ 假设/ 6/ ./ 状态/ 数目/ 相同/ :/ MS/ 和/ MI/ 有/ 相同/ 数目/ 的/ 状态/ ,/ MS/ 和/ MI/ 之间/ 的/ 不一致性/ 错误/ 并/ 不会/ 造成/ MI/ 中/ 状态/ 的/ 增加/ ./ 依据/ 假设/ 6/ ,/ MI/ 中/ 包含/ 两类/ 错误/ :/ (/ 1/ )/ 输出/ 错误/ ,/ 即/ MI/ 的/ 输出/ 与/ 预期/ 输出/ λ/ (/ s/ ,/ x/ )/ 不符/ ;/ (/ 2/ )/ 迁移/ 错误/ ,/ 即/ MI/ 的/ 状态/ 迁移/ 与/ 预期/ 状态/ 迁移/ δ/ (/ s/ ,/ x/ )/ 不符/ ./ 然而/ ,/ 实际/ 软件应用/ MI/ 中/ 状态/ 数目/ 可能/ 增加/ 或/ 减少/ ,/ 造成/ 迁移/ 的/ 增加/ 或/ 减少/ ,/ 本文/ 将/ 状态/ 的/ 变更/ 带来/ 的/ 错误/ 称为/ 额外/ 迁移/ 错误/ ./ 迁移/ 错误/ 与/ 额外/ 迁移/ 错误/ 不同/ ,/ 迁移/ 错误/ 是/ 指/ ,/ 在/ MS/ 的/ 状态/ s/ 上/ 存在/ 输入/ a/ ,/ 但/ 实际/ MI/ 的/ 输出/ 状态/ 与/ 预期/ 状态/ 不符/ ;/ 额外/ 迁移/ 错误/ 是/ 指/ ,/ 在/ MS/ 的/ 状态/ s/ 上/ 不/ 存在/ 输入/ a/ ,/ 但/ 实际/ MI/ 的/ 状态/ s/ 上/ 存在/ 输入/ a/ 使得/ δ/ (/ s/ ,/ a/ )/ 不空/ ./ 假设/ 7/ ./ 重置/ 消息/ ./ MS/ 和/ MI/ 都/ 有/ 一个/ 重置/ 消息/ reset/ (/ 简称/ r/ )/ ,/ 使得/ 状态机/ 在/ 任何/ 状态/ 时/ 都/ 能/ 回到/ 初始状态/ s1/ 且/ 不会/ 产生/ 任何/ 输出/ ./ 假设/ 8/ ./ 状态/ 位/ 消息/ ./ MS/ 和/ MI/ 都/ 有/ 一个/ 特定/ 的/ 状态/ 位/ (/ status/ )/ ,/ 使得/ 在/ 任意/ 时刻/ ,/ 它们/ 所处/ 的/ 状态/ 都/ 能/ 被/ 状态/ 位/ 标识/ ,/ 例如/ 状态/ si/ 表明/ 了/ 状态/ 所处/ 的/ 状态/ 位是/ i/ ./ 假设/ 9/ ./ 设置/ 消息/ ./ 输入/ 符号/ 集合/ I/ 包含/ 一个/ 特殊/ 的/ 集合/ set/ (/ s/ )/ ,/ 当/ 系统/ 处于/ 初始状态/ 时/ ,/ 自动机/ 能够/ 获得/ 一个/ set/ (/ s/ )/ 消息/ 后/ ,/ 能够/ 移动/ 到/ 状态/ s/ ,/ 同时/ 不/ 产生/ 任何/ 输出/ ./ 在/ 基于/ FSM/ 的/ 测试/ 中/ ,/ 上述/ 的/ 假设/ 不/ 一定/ 都/ 需要/ 满足/ ,/ 大多数/ 的/ 基于/ FSM/ 的/ 测试/ 生成/ 方法/ 仅/ 需/ 满足/ 其中/ 的/ 几条/ 假设/ ./ 3/ 基于/ FSM/ 的/ 测试方法/ 3.1/ 图形/ 的/ 遍历/ 方法/ 由/ FSM/ 产生/ 测试用例/ 的/ 思想/ 来源于/ 有向图/ 的/ 遍历/ [/ 11/ ]/ ./ 基于/ 图形/ 覆盖/ 的/ 程度/ ,/ 研究/ 人员/ 提出/ 两类/ 基本/ 覆盖/ :/ 状态/ 覆盖/ 和/ 迁移/ 覆盖/ [/ 8/ ]/ ,/ 并/ 给出/ 了/ 由/ 状态/ 覆盖/ 和/ 迁移/ 覆盖/ 生成/ 测试用例/ 的/ 方法/ ./ 在/ FSM/ 中/ ,/ 一条/ 迁移/ [/ 12/ -/ 13/ ]/ 被/ 定义/ 为/ t/ =/ (/ si/ ,/ a/ // b/ ,/ sj/ )/ ,/ 其中/ f/ (/ si/ ,/ a/ )/ =/ sj/ ,/ a/ ∈/ I/ ,/ b/ ∈/ O/ ,/ si/ 为/ 迁移/ t/ 的/ 前/ 状态/ ,/ sj/ 为/ 迁移/ t/ 的/ 后/ 状态/ ./ 定义/ 2/ (/ 状态/ 覆盖/ )/ ./ 测试用例/ 集合/ T/ 至少/ 覆盖/ 了/ MS/ 中/ 的/ 所有/ 状态/ 一次/ ./ 定义/ 3/ (/ 迁移/ 覆盖/ )/ ./ 测试用例/ 集合/ T/ 至少/ 覆盖/ 了/ MS/ 中/ 的/ 所有/ 迁移/ 一次/ ./ 依据/ 有向图/ 的/ 遍历/ 方法/ ,/ 由/ 初态/ 开始/ 遍历/ FSM/ ,/ 生成/ 一棵/ 广度/ 优先/ 生成/ 树/ ,/ 再/ 获得/ 由/ 树根/ 结点/ 到/ 叶子/ 结点/ 的/ 迁移/ 序列/ 作为/ 测试用例/ ./ 文献/ [/ 14/ ]/ 中/ 给出/ 了/ 广度/ 优先/ 遍历/ FSM/ 的/ 算法/ ,/ 但/ 该/ 算法/ 并未/ 考虑/ 到/ 迁移/ 之间/ 可能/ 存在/ 的/ 约束/ 关系/ [/ 13/ ,/ 15/ ]/ ./ 例如/ BBS/ 论坛/ 中/ 存在/ 两类/ 访客/ ,/ 一类/ 是/ 未注册/ 的/ 游客/ ,/ 另一类/ 为/ 注册/ 用户/ ./ 注册/ 用户/ 可以/ 发表/ 帖子/ 和/ 浏览/ 其他/ 用户/ 的/ 帖子/ ,/ 而/ 游客/ 只能/ 浏览/ 已/ 发表/ 的/ 帖子/ ,/ 因此/ 注册/ 用户/ 与/ 发表/ 帖子/ 之间/ 存在/ 约束/ 关系/ ./ 定义/ 4/ (/ 迁移/ 约束/ 集/ )/ ./ 在/ FSM/ 中/ ,/ 设/ RS/ =/ {/ (/ ti/ ,/ tj/ )/ |/ ti/ →/ tj/ }/ 为/ 迁移/ 约束/ 集/ ,/ 其中/ ti/ 和/ tj/ 为/ FSM/ 中/ 的/ 两条/ 迁移/ 且/ tj/ 的/ 存在/ 取决于/ ti/ 的/ 存在/ ./ 假设/ 图/ 1/ (/ a/ )/ 中/ MS/ 的/ 迁移/ 约束/ 集为/ RS/ =/ {/ (/ t3/ ,/ t4/ )/ }/ ./ 若/ 直接/ 采用/ 广度/ 优先/ 遍历/ 算法/ ,/ 可/ 获得/ 一棵/ 测试/ 生成/ 树/ ,/ 如图/ 1/ (/ b/ )/ 所示/ ./ 由/ 测试/ 生成/ 树/ 产生/ 测试用例/ 集合/ T/ =/ {/ t1/ ,/ t2t3/ ,/ t2t4t5/ ,/ t2t4t6/ }/ ./ 但/ T/ 并/ 不/ 满足/ 迁移/ 约束/ 集/ RS/ ,/ 为此/ 本文/ 提出/ 了/ 基于/ 迁移/ 约束/ 的/ 广度/ 优先/ 遍历/ 算法/ TBFS/ ./ 算法/ TBFS/ 的/ 思想/ :/ 采用/ 广度/ 优先/ 遍历/ FSM/ ,/ 若/ 存在/ 迁移/ t/ ∈/ ranRS/ ,/ 则/ 回溯/ 访问/ 树中/ 所有/ 父亲/ 结点/ ,/ 查看/ 是否/ 满足/ / t/ :/ domRS/ ∧/ t/ →/ t/ ;/ 若/ 满足/ ,/ 则/ 采用/ 迁移/ t/ 构造/ 生成/ 树/ ,/ 否则/ 跳过/ 迁移/ t/ 继续/ 构造/ 生成/ 树/ ./ 例如/ 在/ 图/ 1/ (/ b/ )/ 中/ ,/ 当/ 遍历/ 到/ 迁移/ t4/ 时/ ,/ 由于/ t4/ ∈/ ranRS/ ,/ 则/ 回溯/ 遍历/ 父亲/ 结点/ ,/ 找到/ 迁移/ t2/ ,/ 但/ 由于/ t2/ / domRS/ ,/ 则/ 放弃/ t4/ 作为/ t3/ 的/ 前/ 状态/ s2/ 的/ 后继/ ./ 依据/ 广度/ 优先/ 遍历/ ,/ 获取/ t3/ 的/ 后/ 状态/ s2/ ,/ 选取/ t4/ 作为/ 后续/ 迁移/ ,/ 回溯/ 遍历/ 父亲/ 结点/ ,/ 找到/ 迁移/ t3/ ./ 由于/ t3/ ∈/ domRS/ ∧/ t3/ →/ t4/ ,/ 则/ 将/ t4/ 作为/ 状态/ s2/ 的/ 后继/ ./ 依据/ 这种/ 构造/ 思想/ ,/ 最终/ 获得/ 的/ 生成/ 树如图/ 1/ (/ c/ )/ 所示/ ./ 若/ FSM/ 中/ 不/ 存在/ 迁移/ 约束/ 集时/ ,/ 算法/ TBFS/ 转变/ 为/ 普通/ 的/ 广度/ 优先/ 遍历/ 算法/ ./ 在/ 最坏/ 情况/ 下/ ,/ 算法/ TBFS/ 的/ 时间/ 复杂度/ 为/ O/ (/ n3/ )/ ,/ 其中/ n/ 为/ |/ S/ |/ ./ 由图/ 1/ (/ c/ )/ 中/ 的/ 树/ 可得/ ,/ 序列/ t2t3t4/ 满足/ 状态/ 覆盖/ ,/ 序列/ t1/ ,/ t2t3t4t5/ 和/ t2t3t4t6/ 满足/ 迁移/ 覆盖/ ./ 图/ 1/ (/ a/ )/ 中/ MI/ 是/ MS/ 的/ 一个/ 错误/ 应用/ ,/ 其中/ t/ =/ (/ s3/ ,/ a/ // 0/ ,/ s2/ )/ 是/ 一个/ 错误/ 迁移/ ./ 由/ 序列/ t2t3t4/ 得到/ 的/ 输入/ 序列/ bab/ 和/ 状态/ 序列/ s1s2s3/ ./ 在/ MI/ 中/ 输入/ bab/ ,/ 获得/ 实际/ 运行/ 的/ 状态/ 序列/ 为/ s1s2s3/ ,/ 因此/ 满足/ 状/ Page4/ 图/ 1/ 态/ 覆盖/ 的/ 序列/ t2t3t4/ 并/ 不能/ 发现/ 迁移/ 错误/ t/ ./ 而/ 序列/ t2t3t4t5/ 包含/ 的/ 输入/ 序列/ baba/ 和/ 状态/ 序列/ 为/ s1s2s3s3/ ,/ 在/ MI/ 中/ 输入/ baba/ ,/ 获得/ 的/ 实际/ 状态/ 序列/ 为/ s1s2s3s2/ 与/ 预期/ 序列/ s1s2s3s3/ 不/ 一致/ ,/ 因此/ 满足/ 迁移/ 覆盖/ 的/ 序列/ 能够/ 发现/ MI/ 中/ 的/ 迁移/ 错误/ t/ ./ 算法/ TBFS/ ./ 带/ 迁移/ 约束/ 的/ 广度/ 优先/ 遍历/ 生成/ 树/ ./ 输入/ :/ 存储/ FSM/ 的/ 邻接矩阵/ 犪/ 狉狉/ 犪/ 狔/ [/ n/ ]/ [/ n/ ]/ 及/ 它/ 的/ 迁移/ 输出/ :/ 广度/ 优先/ 遍历/ 生成/ 树/ Tree1/ ./ 初始化/ 列表/ list1/ =/ s1/ ,/ list2/ =/ null/ 及其/ 游标位置/ pre/ =/ 0/ ,/ post/ =/ 1/ ;/ 2/ ./ 标记/ s1/ 为树/ Tree/ 的/ 根/ 结点/ ;/ 3/ ./ While/ (/ pre/ !/ =/ post/ )/ 4/ ./ s/ =/ list1/ ./ get/ (/ pre/ )/ ;/ // // 取/ list1/ 中/ pre/ 位置/ 的/ 值/ ;/ 5/ ./ While/ (/ 存在/ 前/ 状态/ 为/ s/ 的/ 迁移/ t/ )/ 6/ ./ 从/ 数组/ 犪/ 狉狉/ 犪/ 狔/ [/ n/ ]/ [/ n/ ]/ 中取/ 下/ 一个/ 迁移/ t/ =/ 7/ ./ If/ (/ t/ 在/ list2/ 中/ )/ 8/ ./ If/ (/ t/ ∈/ ranRS/ )/ // // 存在/ 迁移/ 约束/ 9/ ./ 访问/ 从/ 结点/ si/ 到/ 根/ 结点/ 的/ 所有/ 分枝/ ;/ 如果/ 10/ ./ Endif11/ ./ Else12/ ./ 标记/ t/ 为/ 一个/ 分枝/ ,/ si/ 作为/ s/ 的/ 后继/ 结点/ ;/ 将/ 13/ ./ Endif14/ ./ Endwhile15/ ./ pre/ ++/ ;/ 16/ ./ Endwhile17/ ./ ReturnTree3/ ./ 2W/ 方法/ 图形/ 遍历/ 的/ 方法/ 是/ 通过观察/ 系统/ 中/ 的/ 状态/ 是否/ 到达/ 来/ 判断/ 系统/ 是否/ 存在/ 不一致性/ 错误/ ./ 若/ 应用/ 系统/ 的/ 状态/ 不可/ 观察/ ,/ 则/ 需要/ 利用/ 输出/ 序列/ 来/ 判断/ 系统/ 中/ 的/ 错误/ ./ 这类/ 测试/ 生成/ 方法/ 包括/ W/ 方法/ 、/ Wp/ 方法/ 、/ U/ 方法/ 和/ DS/ 方法/ 等/ ./ 它们/ 需要/ 解决/ 两个/ 问题/ :/ (/ 1/ )/ 如何/ 生成/ 覆盖/ FSM/ 的/ 输入/ 序列/ ;/ (/ 2/ )/ 如何/ 辨别/ 最终/ 到达/ 的/ 状态/ 为/ 目标/ 状态/ ./ W/ 方法/ 最早/ 是/ 由/ Chow/ [/ 9/ ]/ 提出/ 的/ ,/ 并/ 被/ 应用/ 于/ 电信/ 系统/ 的/ 测试/ ./ 该/ 方法/ 需要/ 遵循/ 3/ 条/ 性质/ :/ (/ 1/ )/ 仅仅/ 检测/ 系统/ 设计/ 中/ 的/ 控制结构/ ;/ (/ 2/ )/ 规格/ 说明/ 不必/ 是/ 可/ 执行/ 的/ ;/ (/ 3/ )/ 测试/ 序列/ 一定/ 能/ 揭示/ 控制结构/ 中/ 的/ 错误/ ,/ 并/ 能/ 解释/ 错误/ 的/ 来源/ ./ W/ 方法/ 并不需要/ 使用/ 状态/ 位/ 信息/ ,/ 而是/ 采用/ 分离/ 序列/ (/ separatingsequence/ )/ [/ 6/ ,/ 16/ ]/ 来/ 区分/ 自动机/ 中/ 的/ 每个/ 状态/ ./ 定义/ 5/ (/ 分离/ 序列/ )/ ./ 对于/ S/ 中/ 的/ 任意/ 两个/ 状态/ s/ 和/ t/ ,/ 它们/ 的/ 分离/ 序列/ 是/ x/ ∈/ I/ / ,/ 以便/ 使得/ λ/ (/ s/ ,/ x/ )/ ≠/ λ/ (/ t/ ,/ x/ )/ ./ 形式/ 描述/ 为/ / s/ ,/ t/ :/ S/ ,/ / x/ :/ I/ / ·/ (/ λ/ (/ s/ ,/ x/ )/ ≠/ λ/ (/ t/ ,/ x/ )/ )/ ./ 由/ 假设/ 1/ 可知/ ,/ 规格/ 说明/ MS/ 是/ 最小/ 的/ ,/ 则/ MS/ 中/ 不/ 存在/ 两个/ 等效/ 的/ 状态/ ,/ 即/ 任意/ 两个/ 状态/ 都/ 存在/ 分离/ 序列/ ./ W/ 方法/ 构造/ 了/ 一个/ 输入/ 序列/ 覆盖/ 集/ P/ 来/ 实现/ 对/ FSM/ 的/ 所有/ 迁移/ 覆盖/ ,/ 同时/ 构造/ 了/ 一个/ 由/ 分离/ 序列/ 组成/ 的/ 特征/ 集/ W/ ,/ 以/ 区分/ 最终/ 到达/ 的/ 状态/ ./ 定义/ 6/ (/ 输入/ 序列/ 覆盖/ 集/ )/ ./ MS/ 的/ 输入/ 序列/ 覆盖/ 集/ P/ 是/ 由/ 输入/ 序列/ 构成/ ,/ 以便/ 对于/ S/ 中/ 的/ 任意/ 状态/ s/ 和/ I/ 中/ 的/ 每/ 一个/ 输入/ a/ ,/ 都/ 存在/ 一个/ 输入/ 序列/ x/ ∈/ P/ ,/ x/ 从/ MS/ 的/ 初始状态/ s1/ 开始/ ,/ 到/ λ/ (/ s/ ,/ a/ )/ 产生/ 的/ 输出/ 结束/ ./ 形式/ 描述/ 为/ / s/ :/ S/ ,/ / a/ :/ I/ ·/ (/ / x/ ,/ y/ :/ P/ ·/ (/ x/ =/ y/ ·/ a/ ∧/ δ/ (/ s1/ ,/ y/ )/ =/ s/ )/ ./ 由/ 定义/ 6/ 可知/ ,/ 输入/ 序列/ 覆盖/ 集/ P/ 是/ 由空/ 输入/ ε/ 和/ 所有/ 从/ 初始状态/ 开始/ 到/ 任意/ 状态/ 结束/ 的/ 输入/ 序列/ 构成/ ,/ 输入/ 序列/ 覆盖/ 集/ P/ 可/ 由/ 生成/ 树/ 获得/ ./ 定义/ 7/ (/ 特征/ 集/ )/ ./ MS/ 的/ 特征/ 集/ W/ 是/ 由/ 分离/ 序列/ 构成/ 的/ 集合/ ,/ 以便/ 对/ S/ 中/ 的/ 任意/ 状态/ s/ 和/ t/ ,/ W/ 中/ 都/ 存在/ 一个/ 输入/ 序列/ x/ 使得/ λ/ (/ s/ ,/ x/ )/ ≠/ λ/ (/ t/ ,/ x/ )/ ./ 形式/ 描述/ 为/ / s/ ,/ t/ :/ S/ ·/ (/ / x/ :/ W/ ·/ (/ λ/ (/ s/ ,/ x/ )/ ≠/ λ/ (/ t/ ,/ x/ )/ )/ ./ 由于/ 特征/ 集/ 能够/ 区分/ S/ 中/ 任意/ 两个/ 状态/ ,/ 因此/ 利用/ 特征/ 集/ 构造/ 测试/ 序列/ 可以/ 不/ 需要/ 知道/ MS/ 的/ 状态/ 信息/ ./ W/ 方法/ 通过/ 广度/ 优先/ 遍历/ FSM/ 的/ 方式/ ,/ 构/ Page5/ 造/ 一棵/ 测试/ 生成/ 树/ ,/ 获取/ 由树/ 的/ 根/ 结点/ 到/ 任意/ 结点/ 的/ 输入/ 序列/ 构成/ 了/ P/ 集/ ;/ 同时/ ,/ 对/ 状态/ 集合/ S/ 中/ 的/ 每/ 一对/ 状态/ s/ 和/ t/ ,/ 寻找/ 这/ 两个/ 状态/ 的/ 分离/ 序列/ ,/ 并用/ 这些/ 分离/ 序列/ 构成/ W/ 集/ ./ W/ 方法/ 的/ 输入/ 序列/ 为/ r/ ·/ P/ ·/ W/ ,/ 预期/ 的/ 输出/ 序列/ 为/ λ/ (/ s1/ ,/ r/ ·/ P/ ·/ W/ )/ ./ 现有/ 构造/ P/ 集/ 和/ W/ 集/ 的/ 方法/ [/ 6/ ,/ 9/ ]/ 中/ 存在/ 两个/ 问题/ :/ (/ 1/ )/ 对/ P/ 集/ 的/ 构造/ 并/ 没有/ 考虑/ FSM/ 中/ 的/ 迁移/ 约束/ ;/ (/ 2/ )/ 对/ W/ 集/ 而言/ ,/ 仅/ 给出/ 构造/ 思想/ ,/ 并未/ 提供/ 分离/ 序列/ 的/ 构造/ 算法/ ./ 为/ 克服/ 第/ 1/ 个/ 缺点/ ,/ 本文/ 建议/ 采用/ 算法/ TBFS/ 来/ 生成/ 测试/ 树/ ,/ 再/ 构造/ P/ 集/ ./ 为/ 克服/ 第/ 2/ 个/ 问题/ ,/ 本文/ 提出/ 了/ 分离/ 序列/ 构造/ 的/ 新/ 方法/ ./ 以图/ 1/ (/ a/ )/ 中/ 的/ MS/ 为例/ ,/ 本/ 节/ 演示/ 了/ 分离/ 序列/ 的/ 构造方法/ ./ 首先/ 为/ MS/ 建造/ 一个/ 输入/ // 输出/ 与/ 状态/ 之间/ 的/ 关系/ 表/ ,/ 如表/ 1/ 所示/ ./ 在/ 表/ 1/ 中/ ,/ 符号/ ×/ 表示/ 某个/ 状态/ 应用/ 了/ 某个/ 输入/ // 输出/ ./ 由表/ 1/ 可知/ ,/ 状态/ s1/ 应用/ a/ // 0/ 和/ b/ // 1/ ,/ 状态/ s2/ 应用/ a/ // 1/ 和/ b/ // 1/ ,/ 状态/ s3/ 应用/ a/ // 0/ 和/ b/ // 0/ ./ I/ // Oa/ // 0a/ // 1b/ // 0b/ // 1s1s2s3/ 定义/ 8/ (/ 可/ 识别/ 函数/ )/ ./ MS/ 的/ 关系/ 表/ 被/ 定义/ 为/ 一个/ 可/ 识别/ 函数/ φ/ :/ S/ →/ I/ // O/ ,/ 其中/ S/ 是/ MS/ 的/ 状态/ 集/ ,/ I/ // O/ 表示/ 输入/ // 输出/ 集合/ ,/ 且/ 满足/ / s/ :/ S/ ,/ / x/ // y/ :/ I/ // O/ ·/ (/ / p/ :/ S/ ·/ δ/ (/ s/ ,/ x/ )/ =/ p/ ∧/ λ/ (/ s/ ,/ x/ )/ =/ y/ )/ ./ 依据/ 定义/ 8/ ,/ 图/ 1/ (/ a/ )/ 中/ MS/ 的/ 可/ 识别/ 函数/ 为/ φ/ (/ s1/ )/ =/ {/ a/ // 0/ ,/ b/ // 1/ }/ ,/ φ/ (/ s2/ )/ =/ {/ a/ // 1/ ,/ b/ // 1/ }/ ,/ φ/ (/ s3/ )/ =/ {/ a/ // 0/ ,/ b/ // 0/ }/ ./ 借助/ 一组/ 特定/ 的/ 运算/ ,/ 本文/ 构造/ 了/ 一个/ 三角/ 矩阵/ ./ 定义/ 9/ (/ 三角/ 矩阵/ )/ ./ 在/ MS/ 中/ ,/ 可/ 识别/ 函数/ 的/ 三角/ 矩阵/ 是/ 由/ Dij/ (/ i/ </ j/ )/ 构成/ ,/ 其中/ Dij/ =/ 依据/ 定义/ 9/ ,/ D12/ =/ φ/ (/ s1/ )/ -/ φ/ (/ s2/ )/ =/ {/ a/ // 0/ }/ ,/ D13/ =/ φ/ (/ s1/ )/ -/ φ/ (/ s3/ )/ =/ {/ b/ // 1/ }/ ,/ D23/ =/ φ/ (/ s2/ )/ -/ φ/ (/ s3/ )/ =/ {/ a/ // 1/ ,/ b/ // 1/ }/ ./ 则/ 图/ 1/ (/ a/ )/ 中/ MS/ 的/ 三角/ 矩阵/ 如图/ 2/ 所示/ ./ 取/ D12/ 中/ 的/ 元素/ a/ // 0/ ,/ 则/ 输入/ a/ 是/ 状态/ s1/ 和/ s2/ 的/ 分离/ 序列/ ,/ 取/ D13/ 中/ 的/ 元素/ b/ // 1/ ,/ 则/ 输入/ b/ 是/ 状态/ s1/ 和/ s3/ 的/ 分离/ 序列/ ,/ 取/ D23/ 中/ 的/ 元素/ a/ // 1/ 或/ b/ // 1/ ,/ 则/ 输入/ a/ 或/ b/ 是/ 状态/ s2/ 和/ s3/ 的/ 分离/ 序列/ ./ 因此/ 最终/ 获得/ 的/ 特征/ 集/ W/ =/ {/ a/ ,/ b/ }/ ./ 为/ 保证/ 该/ 方法/ 的/ 正确性/ ,/ 本文/ 随后/ 给出/ 了/ 4/ 条/ 定理/ 及/ 证明/ ,/ 其中/ 证明/ 部分/ 的/ 推理/ 规则/ 可/ 参见/ 文献/ [/ 17/ ]/ ./ φ/ (/ s1/ )/ ·/ λ/ (/ s1/ ,/ x/ )/ =/ λ/ (/ s2/ ,/ x/ )/ )/ ./ 引理/ 1/ ./ ├/ / s1/ ,/ s2/ :/ S/ ·/ (/ φ/ (/ s1/ )/ =/ φ/ (/ s2/ )/ / / x/ // y/ :/ 可/ 由/ 定义/ 8/ 证明/ 引理/ 1/ ,/ 证明/ 过程/ 略/ ./ 引理/ 2/ ./ ├/ / s1/ ,/ s2/ :/ S/ ·/ (/ φ/ (/ s1/ )/ =/ φ/ (/ s2/ )/ / / x/ // y/ / φ/ (/ s1/ )/ ·/ λ/ (/ s1/ ,/ x/ )/ =/ λ/ (/ s2/ ,/ x/ )/ )/ ./ 证明/ ./ 如果/ x/ // y/ / φ/ (/ s1/ )/ ,/ 则/ 由/ 定义/ 8/ 可知/ ,/ λ/ (/ s1/ ,/ x/ )/ =/ -/ 或者/ 存在/ a/ ∈/ O/ 使得/ λ/ (/ s1/ ,/ x/ )/ =/ a/ ./ 因为/ φ/ (/ s1/ )/ =/ φ/ (/ s2/ )/ ,/ 则/ λ/ (/ s2/ ,/ x/ )/ =/ -/ 或者/ 存在/ a/ ∈/ O/ 使得/ λ/ (/ s2/ ,/ x/ )/ =/ a/ ./ 若/ λ/ (/ s1/ ,/ x/ )/ ≠/ λ/ (/ s2/ ,/ x/ )/ ,/ 则/ 有/ x/ // a/ ∈/ φ/ (/ s2/ )/ ∧/ x/ // a/ / φ/ (/ s1/ )/ 或者/ x/ // a/ ∈/ φ/ (/ s1/ )/ ∧/ x/ // a/ / φ/ (/ s2/ )/ ./ 则/ 由/ 集合/ 的/ 定义/ 可知/ φ/ (/ s1/ )/ ≠/ φ/ (/ s2/ )/ ,/ 与/ 已知/ φ/ (/ s1/ )/ =/ φ/ (/ s2/ )/ 矛盾/ ,/ 因此/ ,/ 必有/ λ/ (/ s1/ ,/ x/ )/ =/ λ/ (/ s2/ ,/ x/ )/ ./ 证毕/ ./ 引理/ 3/ ./ ├/ / t1/ ,/ t2/ :/ S/ ,/ / x/ :/ I/ ·/ (/ λ/ (/ t1/ ,/ x/ )/ =/ λ/ (/ t2/ ,/ x/ )/ )/ / / t1/ ,/ t2/ :/ S/ ·/ (/ / x/ :/ I/ / ·/ λ/ (/ t1/ ,/ x/ )/ =/ λ/ (/ t2/ ,/ x/ )/ )/ ./ 可由克林/ 闭包/ 的/ 定义/ 证明/ 引理/ 3/ ,/ 证明/ 过程/ 略/ ./ 定理/ 1/ ./ 对/ 最小/ Mealy/ 机/ MS/ 而言/ ,/ 状态/ 集合/ S/ 中/ 至少/ 存在/ 两个/ 不同/ 的/ 状态/ s/ 和/ t/ ,/ 使得/ MS/ 的/ 可/ 识别/ 函数/ φ/ (/ s1/ )/ 不/ 等于/ φ/ (/ s2/ )/ ./ 形式/ 表示/ 为/ / s1/ ,/ s2/ :/ S/ ·/ (/ / x/ :/ I/ / ·/ (/ λ/ (/ s1/ ,/ x/ )/ ≠/ λ/ (/ s2/ ,/ x/ )/ )/ )/ ├/ / t1/ ,/ t2/ :/ S/ ·/ (/ φ/ (/ t1/ )/ ≠/ φ/ (/ t2/ )/ )/ ./ 证明/ (/ 反证法/ )/ ./ 1/ ./ / / t1/ ,/ t2/ :/ S/ ·/ (/ φ/ (/ t1/ )/ ≠/ φ/ (/ t2/ )/ )/ 假设/ 2/ ./ / t1/ ,/ t2/ :/ S/ ·/ (/ φ/ (/ t1/ )/ =/ φ/ (/ t2/ )/ )/ 1/ ,/ / -/ int3/ ./ φ/ (/ t1/ )/ =/ φ/ (/ t2/ )/ 4/ ./ / x/ // y/ :/ φ/ (/ t1/ )/ ·/ λ/ (/ t1/ ,/ x/ )/ =/ λ/ (/ t2/ ,/ x/ )/ 3/ ,/ 引理/ 15/ ./ λ/ (/ t1/ ,/ x/ )/ =/ λ/ (/ t2/ ,/ x/ )/ 6/ ./ / x/ // y/ / φ/ (/ t1/ )/ ·/ λ/ (/ t1/ ,/ x/ )/ =/ λ/ (/ t2/ ,/ x/ )/ 3/ ,/ 引理/ 27/ ./ λ/ (/ t1/ ,/ x/ )/ =/ λ/ (/ t2/ ,/ x/ )/ 8/ ./ / x/ // y/ :/ I/ // O/ ·/ (/ x/ // y/ ∈/ φ/ (/ t1/ )/ ∨/ x/ // y/ / φ/ (/ t1/ )/ )/ 9/ ./ / x/ // y/ :/ I/ // O/ ·/ λ/ (/ t1/ ,/ x/ )/ =/ λ/ (/ t2/ ,/ x/ )/ 4/ ~/ 8/ ,/ / -/ int10/ ./ / x/ :/ I/ ·/ λ/ (/ t1/ ,/ x/ )/ =/ λ/ (/ t2/ ,/ x/ )/ 9/ 与/ y/ 无关/ 11/ ./ / t1/ ,/ t2/ :/ S/ ,/ / x/ :/ I/ ·/ λ/ (/ t1/ ,/ x/ )/ =/ λ/ (/ t2/ ,/ x/ )/ 12/ ./ / t1/ ,/ t2/ :/ S/ ·/ (/ / x/ :/ I/ / ·/ λ/ (/ t1/ ,/ x/ )/ =/ λ/ (/ t2/ ,/ x/ )/ )/ 13/ ./ / s1/ ,/ s2/ :/ S/ ·/ (/ / x/ :/ I/ / ·/ λ/ (/ s1/ ,/ x/ )/ ≠/ λ/ (/ s2/ ,/ x/ )/ )/ Page614/ ./ / t1/ ,/ t2/ :/ S/ ·/ (/ φ/ (/ t1/ )/ ≠/ φ/ (/ t2/ )/ )/ 12/ 和/ 13/ 矛盾/ 定理/ 1/ 保证/ 了/ 三角/ 矩阵/ 不全/ 为/ 空/ ./ 定理/ 2/ ./ 对于/ S/ 中/ 的/ 任意/ 两个/ 状态/ s1/ 和/ s2/ ,/ 如果/ φ/ (/ s1/ )/ 不/ 等于/ φ/ (/ s2/ )/ ,/ 那么/ 差集/ D12/ =/ φ/ (/ s1/ )/ -/ φ/ (/ s2/ )/ 或/ D12/ =/ φ/ (/ s2/ )/ -/ φ/ (/ s1/ )/ 能够/ 识别/ 状态/ s1/ 和/ s2/ ./ 形式/ 表示/ 为/ 证明/ ./ 1/ ./ φ/ (/ s1/ )/ ≠/ φ/ (/ s2/ )/ 假设/ 2/ ./ D12/ ≠/ / 3/ ./ D12/ =/ φ/ (/ s1/ )/ -/ φ/ (/ s2/ )/ ∨/ D12/ =/ φ/ (/ s2/ )/ -/ φ/ (/ s1/ )/ 4/ ./ D12/ =/ φ/ (/ s1/ )/ -/ φ/ (/ s2/ )/ 3/ ,/ 假设/ 5/ ./ / x/ // y/ :/ D12/ ·/ (/ x/ // y/ ∈/ φ/ (/ s1/ )/ ∧/ x/ // y/ / φ/ (/ s2/ )/ )/ 6/ ./ x/ // y/ ∈/ φ/ (/ s1/ )/ ∧/ x/ // y/ / φ/ (/ s2/ )/ / -/ elim7/ ./ / x/ // y/ ∈/ φ/ (/ s1/ )/ ·/ (/ λ/ (/ s1/ ,/ x/ )/ =/ y/ )/ 定义/ 88/ ./ λ/ (/ s1/ ,/ x/ )/ =/ y9/ ./ / x/ // y/ / φ/ (/ s2/ )/ ·/ (/ λ/ (/ s2/ ,/ x/ )/ ≠/ y/ )/ 定义/ 810/ ./ λ/ (/ s2/ ,/ x/ )/ ≠/ y11/ ./ λ/ (/ s1/ ,/ x/ )/ ≠/ λ/ (/ s2/ ,/ x/ )/ 8/ ,/ 10/ ,/ 替换/ 12/ ./ / x/ // y/ :/ D12/ ·/ λ/ (/ s1/ ,/ x/ )/ ≠/ λ/ (/ s2/ ,/ x/ )/ 13/ ./ D12/ =/ φ/ (/ s2/ )/ -/ φ/ (/ s1/ )/ 3/ ,/ 假设/ 14/ ./ / x/ // y/ :/ D12/ ·/ (/ λ/ (/ s1/ ,/ x/ )/ ≠/ λ/ (/ s2/ ,/ x/ )/ )/ 15/ ./ φ/ (/ s1/ )/ ≠/ φ/ (/ s2/ )/ / / x/ // y/ :/ D12/ ·/ λ/ (/ s1/ ,/ x/ )/ ≠/ λ/ (/ s2/ ,/ x/ )/ 16/ ./ / s1/ ,/ s2/ :/ S/ ·/ (/ φ/ (/ s1/ )/ ≠/ φ/ (/ s2/ )/ / 由/ 定理/ 2/ 可知/ ,/ 在/ 三角/ 矩阵/ 内/ ,/ 若/ Dij/ ≠/ / ,/ 则/ 对于/ 任意/ x/ // y/ ∈/ Dij/ ,/ 输入/ x/ 一定/ 能/ 识别/ 状态/ si/ 和/ sj/ ./ 引理/ 4/ ./ ├/ / s1/ ,/ s2/ :/ S/ ,/ / x/ ,/ x1/ :/ I/ ·/ (/ δ/ (/ s1/ ,/ x/ )/ =/ s2/ / λ/ (/ s1/ ,/ x/ ·/ x1/ )/ =/ λ/ (/ s1/ ,/ x/ )/ ·/ λ/ (/ s2/ ,/ x1/ )/ )/ ./ 可/ 由/ 定义/ 1/ 和/ 序列/ 的/ 连接/ 操作/ 证明/ 引理/ 4/ ,/ 证明/ 过程/ 略/ ./ 引理/ 5/ ./ ├/ / a/ ,/ b/ ,/ c/ ,/ d/ :/ O/ ·/ (/ a/ =/ b/ ∧/ c/ ≠/ d/ / a/ ·/ c/ ≠/ b/ ·/ d/ )/ ,/ 或者/ ├/ / a/ ,/ b/ ,/ c/ ,/ d/ :/ O/ ·/ (/ a/ ≠/ b/ ∧/ c/ =/ d/ / a/ ·/ c/ ≠/ b/ ·/ d/ )/ ,/ 或者/ ├/ / a/ ,/ b/ ,/ c/ ,/ d/ :/ O/ ·/ (/ a/ ≠/ b/ ∧/ #/ c/ =/ #/ d/ / a/ ·/ c/ ≠/ b/ ·/ d/ )/ ./ 可/ 由/ 序列/ 的/ 连接/ 操作/ 证明/ 引理/ 5/ ,/ 证明/ 过程/ 略/ ./ 定理/ 3/ ./ 对/ 识别/ 函数/ φ/ 而言/ ,/ 如果/ φ/ (/ s1/ )/ 等于/ φ/ (/ s2/ )/ ,/ 且/ I/ 中/ 存在/ x/ 和/ y/ ,/ 使得/ δ/ (/ s1/ ,/ x/ )/ =/ si/ ,/ δ/ (/ s2/ ,/ y/ )/ =/ sj/ 及/ Dij/ ≠/ / ,/ 那么/ 对于/ Dij/ 中/ 任意/ x1/ // y1/ ,/ 输入/ 序列/ x/ ·/ x1/ 都/ 能/ 识别/ 状态/ s1/ 和/ s2/ ./ 形式/ 表示/ 为/ / s1/ ,/ s2/ :/ S/ ·/ (/ φ/ (/ s1/ )/ =/ φ/ (/ s2/ )/ )/ ├/ / x/ ,/ y/ :/ I/ ,/ / si/ ,/ sj/ :/ S/ ·/ (/ δ/ (/ s1/ ,/ x/ )/ =/ si/ ∧/ δ/ (/ s2/ ,/ y/ )/ =/ sj/ ∧/ Dij/ ≠/ / )/ / / x1/ // y1/ :/ Dij/ ·/ (/ λ/ (/ s1/ ,/ x/ ·/ x1/ )/ ≠/ λ/ (/ s2/ ,/ x/ ·/ x1/ )/ )/ ./ 证明/ ./ 1/ ./ / s1/ ,/ s2/ :/ S/ ·/ (/ φ/ (/ s1/ )/ =/ φ/ (/ s2/ )/ )/ 前提/ 2/ ./ φ/ (/ s1/ )/ =/ φ/ (/ s2/ )/ 3/ ./ / x/ // y/ ∈/ φ/ (/ s1/ )/ ·/ (/ λ/ (/ s1/ ,/ x/ )/ =/ λ/ (/ s2/ ,/ x/ )/ )/ 2/ ,/ 引理/ 14/ ./ λ/ (/ s1/ ,/ x/ )/ =/ λ/ (/ s2/ ,/ x/ )/ 5/ ./ / x/ ,/ y/ :/ I/ ,/ / si/ ,/ sj/ :/ S/ ·/ (/ δ/ (/ s1/ ,/ x/ )/ =/ si/ ∧/ δ/ (/ s2/ ,/ y/ )/ =/ sj/ ∧/ Dij/ ≠/ / )/ 6/ ./ δ/ (/ s1/ ,/ x/ )/ =/ si/ ∧/ δ/ (/ s2/ ,/ y/ )/ =/ sj/ ∧/ Dij/ ≠/ / 7/ ./ Dij/ ≠/ / 8/ ./ Dij/ =/ φ/ (/ si/ )/ -/ φ/ (/ sj/ )/ ∨/ Dij/ =/ φ/ (/ sj/ )/ -/ φ/ (/ si/ )/ 9/ ./ φ/ (/ si/ )/ ≠/ φ/ (/ sj/ )/ 10/ ./ / x1/ // y1/ :/ Dij/ ·/ λ/ (/ si/ ,/ x1/ )/ ≠/ λ/ (/ sj/ ,/ x1/ )/ 9/ ,/ 定理/ 211/ ./ λ/ (/ si/ ,/ x1/ )/ ≠/ λ/ (/ sj/ ,/ x1/ )/ 12/ ./ δ/ (/ s1/ ,/ x/ )/ =/ si13/ ./ δ/ (/ s2/ ,/ y/ )/ =/ sj14/ ./ λ/ (/ s1/ ,/ x/ ·/ x1/ )/ =/ λ/ (/ s1/ ,/ x/ )/ ·/ λ/ (/ si/ ,/ x1/ )/ 12/ ,/ 引理/ 415/ ./ λ/ (/ s2/ ,/ x/ ·/ x1/ )/ =/ λ/ (/ s2/ ,/ x/ )/ ·/ λ/ (/ sj/ ,/ x1/ )/ 13/ ,/ 引理/ 416/ ./ λ/ (/ s1/ ,/ x/ )/ ·/ λ/ (/ si/ ,/ x1/ )/ ≠/ λ/ (/ s2/ ,/ x/ )/ ·/ λ/ (/ sj/ ,/ x1/ )/ 17/ ./ λ/ (/ s1/ ,/ x/ ·/ x1/ )/ ≠/ λ/ (/ s2/ ,/ x/ )/ ·/ λ/ (/ sj/ ,/ x1/ )/ 14/ ,/ 16/ ,/ 替换/ 18/ ./ λ/ (/ s1/ ,/ x/ ·/ x1/ )/ ≠/ λ/ (/ s2/ ,/ x/ ·/ x1/ )/ 15/ ,/ 17/ ,/ 替换/ 19/ ./ / x1/ // y1/ :/ Dij/ ·/ (/ λ/ (/ s1/ ,/ x/ ·/ x1/ )/ ≠/ λ/ (/ s2/ ,/ x/ ·/ x1/ )/ )/ 20/ ./ / x/ ,/ y/ :/ I/ ,/ / si/ ,/ sj/ :/ S/ ·/ (/ δ/ (/ s1/ ,/ x/ )/ =/ si/ ∧/ δ/ (/ s2/ ,/ y/ )/ =/ 由/ 定理/ 3/ 可知/ ,/ 若/ D12/ =/ / ,/ 则/ 能/ 利用/ s1/ 和/ s2/ 的/ 相邻/ 状态/ si/ 和/ sj/ 的/ Dij/ (/ Dij/ ≠/ / )/ 来/ 获得/ s1/ 和/ s2/ 的/ 分离/ 序列/ ./ 若/ Dij/ =/ / ,/ 由/ 定理/ 1/ 可知/ ,/ 可/ 识别/ 函数/ 的/ 三角/ 矩阵/ 中/ 一定/ 存在/ 一个/ Dpq/ ≠/ / ,/ 又/ 由于/ 最小/ Mealy/ 机/ 一定/ 存在/ 特征/ 集/ [/ 6/ ]/ ,/ 因此/ 可/ 由/ Dpq/ 来/ 获得/ s1/ 和/ s2/ 的/ 分离/ 序列/ ./ 引理/ 6/ ./ ├/ / s/ :/ S/ ,/ / y/ ,/ a/ :/ I/ / ,/ / b/ :/ O/ / ·/ (/ λ/ (/ s/ ,/ y/ ·/ a/ )/ =/ λ/ (/ s/ ,/ y/ )/ ·/ b/ ∧/ #/ b/ =/ #/ (/ y/ ·/ a/ )/ -/ #/ y/ )/ ./ 可/ 由/ 定义/ 1/ 和/ 序列/ 的/ 连接/ 操作/ 证明/ 引理/ 6/ ,/ 证明/ 过程/ 略/ ./ 定理/ 4/ ./ 对/ Ms/ 的/ 特征/ 集/ W/ 而言/ ,/ 若/ 存在/ 分离/ 序列/ x/ 和/ y/ 满足/ x/ =/ y/ ·/ a/ ,/ 其中/ a/ 是/ 一个/ 输入/ 序列/ ,/ Page7/ 那么/ 集合/ W/ =/ W/ -/ {/ y/ }/ 同样/ 是/ MS/ 的/ 一个/ 特征/ 集/ ./ 形式/ 表示/ 为/ ├/ / s1/ ,/ s2/ :/ S/ ,/ / x/ ,/ y/ :/ W/ ,/ / a/ :/ I/ ·/ (/ λ/ (/ s1/ ,/ y/ )/ ≠/ λ/ (/ s2/ ,/ y/ )/ ∧/ x/ =/ y/ ·/ a/ )/ / λ/ (/ s1/ ,/ x/ )/ ≠/ λ/ (/ s2/ ,/ x/ )/ ./ 证明/ ./ 1/ ./ / s1/ ,/ s2/ :/ S/ ,/ / x/ ,/ y/ :/ W/ ,/ / a/ :/ I/ / ·/ (/ λ/ (/ s1/ ,/ y/ )/ ≠/ λ/ (/ s2/ ,/ y/ )/ ∧/ x/ =/ y/ ·/ a/ )/ 2/ ./ / x/ ,/ y/ :/ W/ ,/ / a/ :/ I/ / ·/ (/ λ/ (/ s1/ ,/ y/ )/ ≠/ λ/ (/ s2/ ,/ y/ )/ ∧/ x/ =/ y/ ·/ a/ )/ 3/ ./ λ/ (/ s1/ ,/ y/ )/ ≠/ λ/ (/ s2/ ,/ y/ )/ ∧/ x/ =/ y/ ·/ a2/ ,/ / -/ elim4/ ./ λ/ (/ s1/ ,/ y/ )/ ≠/ λ/ (/ s2/ ,/ y/ )/ 5/ ./ x/ =/ y/ ·/ a6/ ./ λ/ (/ s1/ ,/ x/ )/ =/ λ/ (/ s1/ ,/ x/ )/ 7/ ./ λ/ (/ s1/ ,/ x/ )/ =/ λ/ (/ s1/ ,/ y/ ·/ a/ )/ 5/ ,/ 6/ ,/ 替换/ 8/ ./ λ/ (/ s2/ ,/ x/ )/ =/ λ/ (/ s2/ ,/ x/ )/ 9/ ./ λ/ (/ s2/ ,/ x/ )/ =/ λ/ (/ s2/ ,/ y/ ·/ a/ )/ 5/ ,/ 8/ ,/ 替换/ 10/ ./ / s1/ :/ S/ ,/ / y/ ,/ a/ ∈/ I/ / ,/ / b1/ :/ O/ / ·/ (/ λ/ (/ s1/ ,/ y/ ·/ a/ )/ =/ 11/ ./ λ/ (/ s1/ ,/ y/ ·/ a/ )/ =/ λ/ (/ s1/ ,/ y/ )/ ·/ b1/ ∧/ #/ b1/ =/ #/ (/ y/ ·/ a/ )/ -/ 12/ ./ λ/ (/ s1/ ,/ y/ ·/ a/ )/ =/ λ/ (/ s1/ ,/ y/ )/ ·/ b111/ ,/ ∧/ -/ elim13/ .#/ b1/ =/ #/ (/ y/ ·/ a/ )/ -/ #/ y11/ ,/ ∧/ -/ elim14/ ./ / s2/ :/ S/ ,/ / y/ ,/ a/ ∈/ I/ / ,/ / b2/ :/ O/ / ·/ (/ λ/ (/ s2/ ,/ y/ ·/ a/ )/ =/ 15/ ./ λ/ (/ s2/ ,/ y/ ·/ a/ )/ =/ λ/ (/ s2/ ,/ y/ )/ ·/ b2/ ∧/ #/ b2/ =/ #/ y/ ·/ a/ -/ 16/ ./ λ/ (/ s2/ ,/ y/ ·/ a/ )/ =/ λ/ (/ s2/ ,/ y/ )/ ·/ b215/ ,/ ∧/ -/ elim17/ .#/ b2/ =/ #/ (/ y/ ·/ a/ )/ -/ #/ y15/ ,/ ∧/ -/ elim18/ .#/ b1/ =/ #/ b219/ ./ λ/ (/ s1/ ,/ y/ )/ ·/ b1/ ≠/ λ/ (/ s2/ ,/ y/ )/ ·/ b24/ ,/ 18/ ,/ 引理/ 520/ ./ λ/ (/ s1/ ,/ y/ ·/ a/ )/ ≠/ λ/ (/ s2/ ,/ y/ )/ ·/ b212/ ,/ 19/ ,/ 替换/ 21/ ./ λ/ (/ s1/ ,/ y/ ·/ a/ )/ ≠/ λ/ (/ s2/ ,/ y/ ·/ a/ )/ 16/ ,/ 20/ ,/ 替换/ 22/ ./ λ/ (/ s1/ ,/ x/ )/ ≠/ λ/ (/ s2/ ,/ x/ )/ 23/ ./ / s1/ ,/ s2/ :/ S/ ,/ / x/ ,/ y/ :/ W/ ,/ / a/ :/ I/ ·/ (/ λ/ (/ s1/ ,/ y/ )/ ≠/ 依据/ 定理/ 4/ ,/ 可以/ 对/ 特征/ 集/ W/ 进行/ 冗余/ 约简/ ./ 基于/ 定理/ 1/ ~/ 4/ ,/ 本文/ 设计/ 了/ 特征/ 集/ W/ 的/ 构造/ 算法/ WSA/ ./ 算法/ WSA/ 的/ 时间/ 复杂度/ 为/ O/ (/ n2/ )/ ./ 表/ 2W/ 方法/ 的/ 测试/ 序列/ P/ ε/ r/ ·/ P/ ·/ Wrarbraarabrbarbbrbaarbabrbbarbbbrbbaarbbabrbbbarbbbb/ 输出/ 01001111111111111101101100110011001101/ 算法/ WSA/ ./ 特征/ 集/ W/ 的/ 构造/ ./ 输入/ :/ Mealy/ 机/ Ms/ 输出/ :/ Ms/ 的/ 特征/ 集/ W1/ ./ 初始化/ W/ =/ / ;/ 2/ ./ 构造/ Ms/ 的/ 一个/ 可/ 识别/ 函数/ φ/ ;/ 3/ ./ For/ (/ i/ =/ 1/ ;/ i/ </ n/ ;/ i/ ++/ )/ // // 构造/ Dij/ ./ 4/ ./ For/ (/ j/ =/ i/ +/ 1/ ;/ j/ </ =/ n/ ;/ j/ ++/ )/ 5/ ./ If/ φ/ (/ si/ )/ / φ/ (/ sj/ )/ ≠/ / thenDij/ =/ φ/ (/ si/ )/ -/ φ/ (/ sj/ )/ ;/ 6/ ./ ElseDij/ =/ φ/ (/ sj/ )/ -/ φ/ (/ si/ )/ ;/ 7/ ./ Endfor8/ ./ Endfor9/ ./ 对于/ 每个/ Dij/ ,/ 如果/ Dij/ =/ / ,/ 则/ 依据/ 定理/ 3/ ,/ 从/ x/ // y10/ ./ 对于/ W/ 中/ 任意/ 两条/ 序列/ x/ 和/ y/ ,/ 如果/ 存在/ x/ =/ y/ ·/ 11/ ./ ReturnW/ ./ 以图/ 1/ (/ a/ )/ 中/ 的/ MS/ 为例/ ,/ 依据/ 算法/ TBFS/ 产生/ 一棵/ 测试/ 生成/ 树/ ./ 为/ 简化/ 测试/ 生成/ ,/ 本节/ 并/ 不/ 考虑/ MS/ 中/ 的/ 迁移/ 约束/ ./ 图/ 3/ (/ a/ )/ 是/ MS/ 的/ 一个/ 错误/ 应用/ ,/ 存在/ 一个/ 输出/ 错误/ b/ // 1/ ./ 由/ 算法/ TBFS/ 获得/ 的/ 测试/ 生成/ 树如图/ 3/ (/ b/ )/ 所示/ ,/ 由/ 这棵树/ 得到/ 输入/ 序列/ 覆盖/ 集/ P/ =/ {/ ε/ ,/ a/ ,/ b/ ,/ ba/ ,/ bb/ ,/ bba/ ,/ bbb/ }/ ,/ 其中/ ε/ 表示/ 空/ 输入/ ./ 依据/ 算法/ WSA/ 得到/ 特征/ 集/ W/ =/ {/ a/ ,/ b/ }/ ./ 依据/ W/ 方法/ ,/ 使用/ 输入/ 序列/ r/ ·/ P/ ·/ W/ 和/ 输出/ 序列/ λ/ (/ s1/ ,/ r/ ·/ P/ ·/ W/ )/ 建造/ 表/ 2/ ,/ 其中/ 的/ r/ 表示/ 重置/ 消息/ (/ 假设/ 7/ )/ ./ 对于/ 图/ 1/ (/ a/ )/ 中/ MI/ 的/ 迁移/ 错误/ t/ =/ (/ s3/ ,/ a/ // 0/ ,/ s2/ )/ ,/ 测试/ 序列/ rbbaa/ 的/ 实际/ 输出/ 为/ 1101/ ,/ 而/ 预期/ 输出/ 为/ 1100/ ,/ 因此/ 迁移/ 错误/ t/ 能/ 被/ 发现/ ./ 对于/ 图/ 2/ (/ a/ )/ 中/ MI/ 的/ 输出/ 错误/ b/ // 1/ ,/ 测试/ 序列/ rbbb/ ,/ rbbba/ ,/ rbbbb/ 的/ 实际/ 输出/ 为/ 111/ ,/ 1110/ ,/ 1111/ ,/ 而/ 预期/ 输出/ 为/ 110/ ,/ 1100/ ,/ 1101/ ,/ 因此/ 这/ 3/ 条/ 测试/ 序列/ 都/ 能够/ 发现/ 输出/ 错误/ b/ // 1/ ./ 在/ 实验/ [/ 4/ ]/ 中/ ,/ W/ 方法/ 既/ 表现/ 出/ 很/ 强/ 的/ 错误/ 探测/ 能力/ ,/ 又/ 包含/ 不可/ 容忍/ 的/ 测试/ 序列/ 总长度/ ,/ 导致/ 测试/ 成本/ 的/ 急剧/ 增加/ ./ 如表/ 2/ 所示/ ,/ W/ 方法/ 的/ 测试/ 序列/ 总长度/ 为/ 52/ ./ 测试/ 序列/ baPage83/ ./ 3Wp/ 方法/ Wp/ 方法/ [/ 2/ ]/ 也/ 称/ 部分/ W/ 方法/ ,/ 其/ 主要/ 优点/ 是/ 约简/ 了/ W/ 方法/ 产生/ 测试用例/ 的/ 总长度/ ./ 该/ 方法/ 将/ 测试/ 分为/ 两个/ 阶段/ :/ 第/ 1/ 个/ 阶段/ 测试/ MS/ 中/ 的/ 每/ 一个/ 状态/ 是否/ 在/ MI/ 中/ ;/ 第/ 2/ 个/ 阶段/ 检测/ 所有/ 未/ 在/ 第/ 1/ 个/ 阶段/ 中/ 被/ 检测/ 的/ 迁移/ ./ 为/ 实现/ 第/ 1/ 个/ 阶段/ ,/ Wp/ 方法/ 使用/ 一个/ 状态/ 覆盖/ 集来/ 替代/ 输入/ 序列/ 覆盖/ 集/ P/ ./ 相比/ 输入/ 序列/ 覆盖/ 集/ P/ ,/ 状态/ 覆盖/ 集/ 更/ 小/ ./ 定义/ 10/ (/ 状态/ 覆盖/ 集/ )/ ./ 状态/ 覆盖/ 集/ Q/ 是/ 由/ 输入/ 序列/ 组成/ ,/ 且/ 对于/ 任意/ 的/ s/ ∈/ S/ ,/ 都/ 存在/ 一个/ 输入/ 序列/ x/ ∈/ Q/ ,/ 使得/ 自动机/ 迁移/ 到/ s/ ,/ 即/ δ/ (/ s1/ ,/ x/ )/ =/ s/ ./ 形式/ 描述/ 为/ / s/ :/ S/ ·/ (/ / x/ :/ Q/ ·/ δ/ (/ s1/ ,/ x/ )/ =/ s/ )/ ./ Wp/ 方法/ 的/ 第/ 1/ 阶段/ 的/ 输入/ 序列/ 为/ r/ ·/ Q/ ·/ W/ ,/ 输出/ 序列/ 为/ λ/ (/ s1/ ,/ r/ ·/ P/ ·/ W/ )/ ./ 在/ 第/ 2/ 个/ 阶段/ ,/ Wp/ 方法/ 使用/ 一个/ 识别/ 集/ Wi/ (/ identificationset/ )/ [/ 6/ ]/ 来/ 区分/ si/ 与/ 其它/ 状态/ ,/ 而/ 不是/ W/ 方法/ 中/ 的/ 特征/ 集/ W/ ./ 定义/ 11/ (/ 识别/ 集/ )/ ./ 状态/ si/ 的/ 一个/ 识别/ 集/ Wi/ 是/ 由/ 输入/ 序列/ 构成/ ,/ 对于/ / sj/ :/ S/ ,/ i/ ≠/ j/ ,/ 集合/ Wi/ 中/ 都/ 存在/ 一个/ 输入/ 序列/ x/ ,/ 使得/ λ/ (/ si/ ,/ x/ )/ ≠/ λ/ (/ sj/ ,/ x/ )/ ,/ 且/ Wi/ 的/ 任意/ 一个/ 真/ 子集/ 均/ 不/ 满足/ 这个/ 特性/ ./ 由/ 定义/ 11/ 可知/ ,/ 每个/ 状态/ 的/ 识别/ 集都/ 是/ 特征/ 集/ W/ 的/ 子集/ ,/ 且/ 识别/ 集/ 的/ 任意/ 子集/ 都/ 不是/ 该/ 状态/ 的/ 识别/ 集/ ./ 求解/ 特征/ 集中/ 的/ 最小/ 识别/ 集是/ 一个/ NP/ 难/ 问题/ ./ 本文/ 采用/ 启发式/ 方法/ ,/ 每次/ 都/ 从/ 特征/ 集/ W/ 中/ 选取/ 一条/ 输入/ 序列/ x/ ,/ 使得/ x/ 能够/ 识别/ 最/ 多/ 状态/ ,/ 且/ 这些/ 状态/ 未/ 被/ 已/ 选出/ 序列/ 识别/ ./ 依据/ 这种/ 思想/ ,/ 本文/ 设计/ 了/ 识别/ 集/ 的/ 生成/ 算法/ WPSA/ ./ 假定/ |/ W/ |/ =/ p/ ,/ |/ S/ |/ =/ n/ ,/ 则/ 算法/ WPSA/ 的/ 时间/ 复杂度/ 为/ O/ (/ pn2/ )/ ./ 在/ 第/ 2/ 阶段/ ,/ 为/ 获取/ 第/ 1/ 个/ 阶段/ 中未/ 被/ 检测/ 的/ 迁移/ ,/ 需要/ 构造/ 集合/ R/ =/ P/ -/ Q/ ,/ 其中/ P/ 是/ 迁移/ 覆盖/ 集/ ,/ Q/ 是/ 状态/ 覆盖/ 集/ ./ 则/ 第/ 2/ 个/ 阶段/ 的/ 输入/ 序列/ 为/ r/ ·/ R/ ·/ Wi/ ,/ 输出/ 序列/ 为/ λ/ (/ s1/ ,/ r/ ·/ R/ ·/ Wi/ )/ ./ 第/ 2/ 阶段/ 的/ 目的/ 是/ 为了/ 测试/ 第/ 1/ 阶段/ 未/ 被/ 测试/ 的/ 迁移/ ,/ 以/ 保证/ Wp/ 方法/ 的/ 错误/ 探测/ 能力/ ./ 对于/ Wp/ 方法/ 与/ W/ 方法/ 的/ 测试/ 等效/ 性/ ,/ 可以/ 参阅/ 文献/ [/ 2/ ]/ 中/ 的/ 证明/ ./ 算法/ WPSA/ ./ 识别/ 集/ 的/ 构造/ 算法/ ./ 输入/ :/ 特征/ 集/ W/ 和/ FSM/ 的/ 状态/ 集合/ S/ ,/ |/ S/ |/ =/ n/ 输出/ :/ 识别/ 集/ W1/ ,/ W2/ ,/ …/ ,/ Wn1/ ./ 初始化/ W1/ =/ W2/ =/ …/ =/ Wn/ =/ / ;/ 2/ ./ foreachsi/ ∈/ S3/ ./ tmp/ _/ S/ =/ S/ -/ {/ si/ }/ ;/ 4/ ./ tmp/ _/ W/ =/ W/ ;/ 5/ ./ While/ (/ tmp/ _/ S/ ≠/ / )/ 6/ ./ 从/ tmp/ _/ W/ 中/ 选出/ 一个/ x/ ,/ 使得/ x/ 能/ 将/ si/ 与/ 7/ ./ Endwhile8/ ./ Endfor9/ ./ ReturnW1/ ,/ W2/ ,/ …/ ,/ Wn/ ./ 随后/ 本文/ 以图/ 1/ (/ a/ )/ 中/ 的/ MS/ 为例/ ,/ 演示/ Wp/ 方法/ ,/ 并/ 分析/ Wp/ 方法/ 的/ 错误/ 探测/ 能力/ 和/ 测试/ 序列/ 的/ 总长度/ ./ 依据/ 算法/ TBFS/ ,/ 构造/ 一棵/ 测试/ 生成/ 树/ ,/ 如图/ 3/ (/ b/ )/ ,/ 则/ 这颗/ 树/ 的/ 状态/ 覆盖/ 集/ Q/ =/ {/ ε/ ,/ b/ ,/ bb/ }/ ./ 由于/ 图/ 1/ (/ a/ )/ 中/ FSM/ 的/ 特征/ 集/ W/ =/ {/ a/ ,/ b/ }/ ,/ 则/ 第/ 1/ 个/ 阶段/ 产生/ 的/ 测试/ 序列/ 显示/ 在/ 表/ 3/ 中/ ./ Q/ ε/ r/ ·/ Q/ ·/ Wrarbrbarbbrbbarbbb/ 输出/ 011111110110/ 依据/ 算法/ WPSA/ ,/ 由于/ a/ 能/ 区分/ 状态/ s2/ 与/ 其它/ 状态/ ,/ b/ 能/ 区分/ 状态/ s3/ 与/ 其它/ 状态/ ,/ 则/ W2/ =/ {/ a/ }/ 及/ W3/ =/ {/ b/ }/ ./ 而/ s1/ 不能/ 被/ a/ 或/ b/ 单独/ 识别/ ,/ 则/ W1/ =/ W2/ ∪/ W3/ =/ {/ a/ ,/ b/ }/ ,/ 即/ s1/ 能/ 被/ a/ 和/ b/ 区分/ 其它/ 状态/ ./ R/ =/ P/ -/ Q/ =/ {/ ε/ ,/ a/ ,/ b/ ,/ ba/ ,/ bb/ ,/ bba/ ,/ bbb/ }/ -/ {/ ε/ ,/ b/ ,/ bb/ }/ =/ {/ a/ ,/ ba/ ,/ bba/ ,/ bbb/ }/ ./ 第/ 2/ 阶段/ 产生/ 的/ 测试/ 序列/ 显示/ 在/ 表/ 4/ 中/ ./ Rababbabbbr/ ·/ R/ ·/ Wiraarabrbaarbbabrbbbarbbbb/ 输出/ 0001111110011001101/ 由表/ 3/ 和表/ 4/ 可知/ ,/ 测试/ 序列/ 的/ 总长度/ 是/ 43/ ./ 图/ 1/ (/ a/ )/ 中/ MI/ 的/ 迁移/ 错误/ t/ =/ (/ s3/ ,/ a/ // 0/ ,/ s2/ )/ 能/ 被/ 测试/ 序列/ rbbab/ 发现/ ,/ 而图/ 3/ (/ a/ )/ 中/ MI/ 的/ 输出/ 错误/ b/ // 1/ 能/ 被/ 测试/ 序列/ rbbb/ ,/ rbbba/ ,/ rbbbb/ 发现/ ./ 3.4/ UIO/ 方法/ 在/ Wp/ 方法/ 中/ ,/ 如果/ 识别/ 集/ Wi/ 仅为/ 一条/ 测试/ 序列/ ,/ 那么/ 它/ 被/ 称为/ 状态/ 签名/ (/ statesignature/ )/ [/ 18/ ]/ 或/ UIO/ (/ UniqueInput/ // Output/ )/ 序列/ [/ 19/ ]/ ,/ 且/ 能/ 唯一/ 识别/ 状态/ si/ ./ UIO/ 方法/ 首先/ 采用/ P/ 集/ 测试/ 每/ 一条/ 从/ 状态/ si/ 到/ 状态/ sj/ 的/ 迁移/ ,/ 再/ 采用/ sj/ 的/ UIO/ 序列/ 检测/ 终态/ 是否是/ sj/ ./ 因此/ 该/ 方法/ 同样/ 不/ 需要/ 状态/ 位/ 信息/ ./ 定义/ 12/ (/ UIO/ 序列/ )/ ./ 在/ Mealy/ 机中/ ,/ 状态/ s/ 的/ UIO/ 序列/ 是/ 一条/ 输入/ 序列/ x/ ,/ 满足/ 任意/ 其它/ 状态/ t/ ∈/ S/ ,/ 都/ 有/ λ/ (/ s/ ,/ x/ )/ ≠/ λ/ (/ t/ ,/ x/ )/ ./ UIO/ 方法/ 采用/ 状态/ s/ 的/ UIO/ 序列/ 替代/ W/ 方法/ 中/ 的/ 特征/ 集/ W/ ,/ 即/ 测试/ 输入/ 为/ r/ ·/ P/ ·/ UIOi/ ,/ 测试/ 输出/ 为/ λ/ (/ s1/ ,/ r/ ·/ P/ ·/ UIOi/ )/ ./ 由于/ UIOi/ 仅/ 包含/ 一条/ 序列/ ,/ 因此/ 该/ UIO/ 方法/ 的/ 测试/ 序列/ 总长度/ 总是/ 比/ WPage9/ 方法/ 的/ 要/ 短/ ./ 但/ UIO/ 方法/ 并/ 不能/ 保证/ 揭示/ 应用/ 中/ 的/ 任何/ 错误/ [/ 20/ ]/ ./ 例如/ ,/ 若/ 一个/ 错误/ 应用/ 的/ 状态/ s/ 与/ 状态/ s/ 有/ 相同/ 的/ UIO/ 序列/ ,/ 因为/ 没有/ 状态/ 位/ 的/ 信息/ ,/ 因此/ 测试/ 的/ 输出/ 将/ 无法/ 辨别/ 状态/ s/ 与/ 状态/ s/ ./ 为此/ Vuong/ 等/ 人/ [/ 20/ ]/ 提出/ 了/ UIOv/ 方法/ ,/ 该/ 方法/ 建造/ 测试/ 组/ 包括/ 3/ 个/ 阶段/ :/ (/ 1/ )/ Uv/ 过程/ ./ 获得/ 每个/ 状态/ s/ 的/ UIO/ 序列/ ,/ 即/ 对/ MS/ 中/ 的/ 每个/ 状态/ s/ 都/ 有/ 一个/ 条/ 区分序列/ x/ ,/ 使得/ x/ 能/ 将/ 状态/ s/ 与/ 其它/ 状态/ 区分/ 出来/ ./ 设/ 状态/ 覆盖/ 集为/ Q/ ,/ 则/ Uv/ 过程/ 的/ 输入/ 序列/ 为/ r/ ·/ Q/ ·/ UIOi/ ,/ 输出/ 序列/ 为/ λ/ (/ s1/ ,/ r/ ·/ Q/ ·/ UIOi/ )/ ./ (/ 2/ )/ / Uv/ 过程/ ./ 获得/ 每个/ 状态/ s/ 的/ / UIO/ 序列/ ,/ 即/ 从/ UIO/ 集合/ 中/ 除去/ 能够/ 区分/ s/ 与/ 其它/ 状态/ 的/ 序列/ ./ 如/ UIO/ =/ {/ ab/ ,/ a/ ,/ b/ }/ ,/ 其中/ ab/ 和/ a/ 能/ 将/ 状态/ s/ 与/ 其它/ 状态/ 区分/ 出来/ ,/ 则/ UIO/ -/ {/ ab/ ,/ a/ }/ =/ {/ b/ }/ ,/ 那么/ s/ 的/ / UIO/ 序列/ 为/ b/ ./ / Uv/ 过程/ 的/ 输入/ 序列/ 为/ r/ ·/ Q/ ·/ / UIOi/ ,/ 输出/ 序列/ 为/ λ/ (/ s1/ ,/ r/ ·/ Q/ ·/ / UIOi/ )/ ./ (/ 3/ )/ 迁移/ 测试阶段/ :/ 获得/ Uv/ 过程/ 和/ / Uv/ 过程/ 中/ 没有/ 访问/ 到/ 的/ 迁移/ ,/ 即/ 执行/ R/ =/ P/ -/ Q/ ./ 再/ 对/ 集合/ R/ 中/ 序列/ 到达/ 的/ 最后/ 一个/ 状态/ 应用/ 相应/ 的/ UIOi/ ,/ 最终/ 的/ 输入/ 序列/ 为/ r/ ·/ R/ ·/ UIOi/ ,/ 输出/ 序列/ 为/ λ/ (/ s1/ ,/ r/ ·/ R/ ·/ UIOi/ )/ ./ UIO/ 方法/ 可以/ 被/ 认为/ 是/ 一类/ 特殊/ 的/ Wp/ 方法/ ,/ 其中/ 特征/ 集/ W/ 是/ 所有/ UIO/ 序列/ 的/ 并/ ,/ Wp/ 方法/ 的/ 第/ 1/ 阶段/ 为/ UIOv/ 方法/ 的/ Uv/ 过程/ 和/ / Uv/ 过程/ ,/ Wp/ 方法/ 的/ 第/ 2/ 阶段/ 为/ UIOv/ 方法/ 的/ 迁移/ 测试阶段/ ./ UIOv/ 方法/ 需要/ 构造/ Q/ 集/ 、/ P/ 集/ 、/ UIO/ 集/ 和/ R/ 集/ ,/ 其中/ Q/ 集/ 、/ P/ 集/ 和/ R/ 集/ 的/ 构造/ 算法/ 已/ 在/ 前/ 几节/ 中/ 被/ 描述/ ,/ 因此/ 本/ 节/ 主要/ 描述/ UIO/ 集/ 的/ 构造/ 算法/ ./ 直接/ 构造/ 所有/ 状态/ 的/ UIO/ 集合/ 是/ 一个/ NP/ 难/ 问题/ [/ 11/ ,/ 21/ ]/ ./ 文献/ [/ 22/ ]/ 给出/ 了/ 一个/ 构造/ 所有/ UIO/ 序列/ 的/ 算法/ ,/ 但/ 该/ 算法/ 运用/ 的/ 推理/ 规则/ 会/ 造成/ UIO/ 序列/ 长度/ 的/ 增加/ [/ 11/ ]/ ,/ 最终/ 导致/ 测试/ 成本/ 的/ 增加/ ./ 本文/ 提出/ 了/ 一种/ 启发式/ 方法/ 求解/ 某个/ 状态/ 的/ 一条/ UIO/ 序列/ ./ 该/ 方法/ 的/ 求解/ 步骤/ :/ (/ 1/ )/ 若/ 状态/ s/ 的/ 识别/ 集/ Wi/ =/ {/ a/ ,/ b/ }/ ,/ 则/ 获取/ 状态/ s1/ =/ δ/ (/ s/ ,/ a/ )/ 和/ s2/ =/ δ/ (/ s/ ,/ b/ )/ ;/ (/ 2/ )/ 分别/ 以/ 状态/ s1/ 和/ s2/ 为根/ 结点/ ,/ 遍历/ 规格/ 说明/ MS/ 生成/ 两棵/ 广度/ 优先/ 生成/ 树/ ,/ 且/ 树/ 中/ 最后/ 一个/ 叶子/ 结点/ 的/ 状态/ 为/ s/ ;/ (/ 3/ )/ 分别/ 从/ 根为/ s1/ 和/ s2/ 的/ 两棵树/ 中/ 获取/ 由根/ 结点/ 到/ 最后/ 一个/ 叶子/ 结点/ 的/ 序列/ x/ 和/ y/ ,/ 若/ 序列/ x/ 的/ 长度/ 小于/ 序列/ y/ ,/ 则/ 状态/ s/ 的/ UIO/ =/ a/ ·/ x/ ·/ b/ ,/ 否则/ 状态/ s/ 的/ UIO/ =/ b/ ·/ y/ ·/ a/ ./ 依据/ 这种/ 方法/ 本文/ 给出/ 了/ 算法/ UIOS/ ./ 由于/ |/ Wi/ |/ / n/ -/ 1/ ,/ 因此/ 算法/ UIOS/ 的/ 最坏/ 时间/ 复杂度/ 为/ O/ (/ n4/ )/ ./ UIO/ 方法/ 必须/ 满足/ MS/ 是/ 强/ 连通/ 的/ (/ 假设/ 3/ )/ ,/ 否则/ 步/ 5/ 中/ 状态/ 迁移/ 函数/ δ/ (/ si/ ,/ x/ )/ 可能/ 为空/ ,/ 则/ 存在/ 状态/ 没有/ 相应/ 的/ UIO/ 序列/ ./ 过去/ 对/ UIO/ 方法/ 的/ 研究/ [/ 6/ ,/ 11/ ,/ 20/ -/ 22/ ]/ 均/ 是/ 以/ 通信协议/ 为/ 研究/ 对象/ ,/ 而/ 通信协议/ 中/ 的/ 任意/ 两个/ 端口/ 之间/ 均/ 能/ 相互/ 通信/ ,/ 因此/ 协议/ 模型/ MS/ 中/ 的/ 每个/ 状态/ 都/ 存在/ 相应/ 的/ UIO/ 序列/ ./ 算法/ UIOS/ ./ 构造/ UIO/ 集/ ./ 输入/ :/ 规格/ 说明/ Ms/ 和/ 识别/ 集/ W1/ ,/ W2/ ,/ …/ ,/ Wn/ ;/ 输出/ :/ 集合/ UIO1/ ,/ UIO2/ ,/ …/ ,/ UIOn/ ;/ 1/ ./ 初始化/ UIO1/ =/ UIO2/ =/ …/ =/ UIOn/ =/ / ,/ Tmp/ =/ 2/ ./ foreachWi/ // // Wi/ 是/ 状态/ si/ 的/ 识别/ 集/ ;/ 3/ ./ if/ (/ |/ Wi/ |/ =/ 1/ )/ ,/ thenUIOi/ =/ Wi/ ;/ 4/ ./ else5/ ./ Foreachx/ ∈/ Wi/ ,/ 6/ ./ s/ =/ δ/ (/ si/ ,/ x/ )/ 和/ Tmp/ =/ Tmp/ ∪/ {/ s/ }/ ;/ 7/ ./ Endfor8/ ./ Foreachs/ ∈/ Tmp9/ ./ 遍历/ Ms/ ,/ 构建/ 一棵/ 根为/ s/ 及/ 终止/ 结点/ 为/ si10/ ./ Endfor11/ ./ 按/ 递减/ 次序/ 对/ Sp/ 中/ 的/ 所有/ 序列/ 排序/ ,/ 再/ 删/ 12/ ./ Foreachx/ ∈/ Sp13/ ./ 获得/ 包含/ 序列/ x/ 初始/ 结点/ s/ ,/ 从/ Wi/ 中取序/ 14/ ./ Endfor15/ ./ 从/ Sp/ 中/ 获得/ 最长/ 的/ 一条/ 序列/ p/ ,/ 如果/ seq/ =/ 16/ ./ Endif17/ ./ Endfor18/ ./ ReturnUIO1/ ,/ UIO2/ ,/ …/ ,/ UIOn/ ./ 随后/ 本文/ 以图/ 1/ (/ a/ )/ 中/ 的/ MS/ 为例/ ,/ 演示/ UIO/ 方法/ 及其/ 改进/ 的/ UIOv/ 方法/ ,/ 并/ 分析/ 这/ 两种/ 方法/ 的/ 错误/ 探测/ 能力/ 和/ 测试用例/ 的/ 总长度/ ./ UIO/ 方法/ :/ (/ 1/ )/ 用/ P/ 集/ 测试/ 所有/ 迁移/ ;/ (/ 2/ )/ 用/ UIO/ 序列/ 验证/ P/ 集/ 测试/ 迁移/ 的/ 终态/ 是否/ 正确/ ./ 依据/ 算法/ UIOS/ ,/ 得到/ UIO1/ =/ ab/ // 01/ ,/ UIO2/ =/ a/ // 1/ ,/ UIO3/ =/ b/ // 0/ ./ 具体/ 的/ 构造/ UIO/ 方法/ 的/ 过程/ 如表/ 5/ ./ P/ ε/ abbabbbbabbbr/ ·/ P/ ·/ UIOirabraabrbarbaarbbbrbbabrbbbb/ 输出/ 010011111111011001101/ 对于/ 图/ 1/ (/ a/ )/ 中/ MI/ 的/ 迁移/ 错误/ t/ =/ (/ s3/ ,/ a/ // 0/ ,/ s2/ )/ ,/ UIO/ 方法/ 可以/ 通过/ 测/ 序列/ rbbab/ 检测/ 而/ 发现/ ;/ 对于/ Page10/ 图/ 3/ (/ a/ )/ 中/ MI/ 的/ 输出/ 错误/ b/ // 1/ ,/ 可以/ 通过/ 序列/ rbbb/ 和/ rbbbb/ 发现/ ./ 由表/ 5/ 可知/ ,/ UIO/ 方法/ 的/ 测试/ 序列/ 总长度/ 为/ 28/ ./ 在/ UIOv/ 方法/ 中/ ,/ 由于/ 集合/ UIO/ =/ UIO1/ ∪/ UIO2/ ∪/ UIO3/ =/ {/ ab/ // 01/ ,/ a/ // 1/ ,/ b/ // 0/ }/ ,/ 则/ / UIO1/ =/ UIO/ -/ UIO1/ =/ {/ a/ // 1/ ,/ b/ // 0/ }/ ,/ / UIO2/ =/ UIO/ -/ UIO2/ =/ {/ b/ // 0/ ,/ ab/ // 01/ }/ ,/ / UIO3/ =/ UIO/ -/ UIO3/ =/ {/ a/ // 1/ ,/ ab/ // 01/ }/ ./ R/ =/ P/ -/ Q/ =/ {/ a/ ,/ ba/ ,/ bba/ ,/ bbb/ }/ ,/ 集合/ R/ 与/ 状态/ 之间/ 的/ 关系/ 可以/ 查看/ 表/ 3/ ./ UIOv/ 方法/ 的/ 构造/ 过程/ 如表/ 6/ ~/ 8/ ./ r/ ·/ Q/ ·/ UIOirabrbarbbbr/ ·/ Q/ ·/ / UIOirarbrbbrbabrbbarbbab/ 输出/ 011111001101100UIOiUIO1UIO2UIO1UIO3r/ ·/ R/ ·/ UIOiraabrbaarbbbabrbbab/ 输出/ 001111110011100/ 同样/ UIOv/ 方法/ 中/ 的/ 测试/ 序列/ rbbab/ 能够/ 发现/ 图/ 1/ (/ a/ )/ 中/ MI/ 的/ 迁移/ 错误/ ,/ 而/ 输入/ 序列/ rbbb/ 能/ 发现/ 图/ 3/ (/ a/ )/ 中/ MI/ 的/ 输出/ 错误/ ./ 由表/ 6/ ~/ 8/ 可知/ ,/ 测试/ 序列/ 的/ 总长度/ 为/ 49/ ./ 但/ UIO/ 方法/ 和/ UIOv/ 方法/ 都/ 必须/ 满足/ 模型/ MS/ 是/ 强/ 连通/ 的/ ./ 3.5/ DS/ 方法/ 在/ 某些/ 情况/ 下/ ,/ 一条/ UIO/ 序列/ 能够/ 区分/ 所有/ 的/ 状态/ ,/ 那么/ 这/ 条/ 序列/ 被/ 称为/ 区分序列/ (/ Distinguis/ -/ hingSequence/ ,/ DS/ )/ [/ 4/ ,/ 6/ ]/ ./ 若/ 特征/ 集/ W/ 仅仅/ 包含/ 一条/ 输入/ 序列/ 时/ ,/ 则/ DS/ 方法/ 可以/ 看成/ 是/ W/ 方法/ 的/ 一个/ 特例/ ,/ 但/ 并非/ 是/ 所有/ 的/ Mealy/ 机都/ 存在/ 区分序列/ [/ 6/ ,/ 20/ ]/ ./ 因此/ ,/ 若/ Mealy/ 机/ 存在/ 区分序列/ x/ ,/ 则/ DS/ 方法/ 的/ 输入/ 序列/ 为/ r/ ·/ P/ ·/ x/ ,/ 输出/ 序列/ 为/ λ/ (/ s1/ ,/ r/ ·/ P/ ·/ x/ )/ ./ 为/ 构造/ 区分序列/ x/ ,/ 文献/ [/ 21/ ]/ 提出/ 构造/ 分裂/ 树/ (/ splittingtree/ )/ 获取/ 区分序列/ 的/ 方法/ ,/ 该/ 方法/ 的/ 演示/ 如图/ 4/ 所示/ ./ 图/ 4/ 显示/ 了/ 图/ 1/ (/ a/ )/ 中/ MS/ 的/ 分裂/ 树/ ,/ 这棵树/ 的/ 构造/ 过程/ 采用/ 了/ 集合/ 的/ 划分/ 方式/ ./ 当对/ 集合/ {/ s1/ ,/ s2/ ,/ s3/ }/ 输入/ a/ 时/ ,/ 依据/ 输出/ 函数/ λ/ (/ s/ ,/ x/ )/ 的/ 不同/ ,/ 将/ 集合/ {/ s1/ ,/ s2/ ,/ s3/ }/ 划分/ 为/ {/ s1/ ,/ s3/ }/ 0/ 和/ {/ s2/ }/ 1/ ,/ 其中/ 0/ 和/ 1/ 表示/ 集合/ 内/ 元素/ 的/ 输出/ ./ 对/ {/ s1/ ,/ s3/ }/ 0/ 和/ {/ s2/ }/ 1/ 输入/ a/ 时/ ,/ 依据/ 输出/ 函数/ λ/ (/ s/ ,/ x/ )/ 的/ 不同/ ,/ 得到/ {/ s1/ ,/ s3/ }/ 00/ 和/ {/ s2/ }/ 11/ ,/ 由于/ 集合/ {/ s1/ ,/ s3/ }/ 未/ 被/ 划分/ ,/ 因此/ 这/ 条/ 分枝/ 不必/ 继续/ 输入/ a/ 来/ 划分/ {/ s1/ ,/ s3/ }/ 0/ 和/ {/ s2/ }/ 1/ ;/ 再/ 对/ {/ s1/ ,/ s3/ }/ 0/ 和/ {/ s2/ }/ 1/ 输入/ b/ ,/ 依据/ 输出/ 函数/ λ/ (/ s/ ,/ x/ )/ 的/ 不同/ ,/ 集合/ {/ s1/ ,/ s3/ }/ 0/ 被/ 划分/ 为/ {/ s1/ }/ 01/ 和/ {/ s3/ }/ 00/ ,/ {/ s2/ }/ 1/ 得到/ {/ s2/ }/ 11/ ./ 由于/ 每个/ 集合/ 仅/ 有/ 一个/ 元素/ ,/ 因此/ 序列/ ab/ 是/ 一条/ 区分序列/ ./ 同理/ ,/ 采用/ 这种/ 方式/ 构造/ 继承/ 树中/ 的/ 其它/ 分枝/ ./ 由于/ 图/ 4/ 可知/ ,/ 输入/ 序列/ ab/ ,/ ba/ 和/ bb/ 均/ 是/ 图/ 1/ (/ a/ )/ 中/ MS/ 的/ 区分序列/ ./ 构造/ Mealy/ 机/ 的/ 分裂/ 树是/ 一个/ NP/ 难/ 问题/ [/ 6/ ,/ 21/ ]/ ,/ 且/ Mealy/ 机/ 并不一定/ 存在/ 一条/ 区分序列/ ,/ 为此/ 需要/ 判断/ Mealy/ 是否/ 存在/ 区分序列/ ./ 文献/ [/ 21/ ]/ 给出/ 了/ 一个/ 检测/ 区分序列/ 是否/ 存在/ 的/ 算法/ ,/ 在/ 本文/ 中/ 命名/ 为/ 算法/ CDS/ ./ 与/ 原/ 算法/ 中/ 的/ 自然语言/ 描述/ 不同/ ,/ 算法/ CDS/ 采用/ 了/ 形式语言/ 描述/ ./ 算法/ CDS/ ./ 检测/ Mealy/ 是否/ 存在/ 区分序列/ ./ 输入/ :/ 规格/ 说明/ MS/ 和/ 状态/ 集/ S/ 输出/ :/ 布尔值/ ,/ true/ 表示/ 存在/ 区分序列/ ,/ false/ 表示/ 不存/ 1/ ./ 初始化/ π/ =/ {/ {/ S/ }/ }/ ;/ 2/ ./ while/ (/ / B/ ∈/ π/ ∧/ / a/ ∈/ I/ ,/ / s/ ,/ t/ ∈/ B/ ·/ (/ (/ λ/ (/ s/ ,/ x/ )/ ≠/ λ/ (/ t/ ,/ x/ )/ ∨/ 3/ ./ π/ =/ π/ ;/ 4/ ./ π/ =/ π/ -/ B/ ;/ // // 从/ π/ 中/ 删除/ B/ ./ 5/ ./ π/ =/ π/ ∪/ Partition/ (/ B/ ,/ π/ )/ ;/ 6/ ./ Endwhile7/ ./ 如果/ / B/ ∈/ π/ ·/ #/ B/ >/ 1/ ,/ 则/ 返回/ false/ ;/ 否则/ 返回/ true/ ./ 算法/ CDS/ 中/ 的/ Partition/ (/ B/ ,/ π/ )/ 表示/ 对/ B/ 中/ 状态/ 的/ 划分/ ,/ 对/ 不同/ 的/ 状态/ 输入/ 相同/ 序列/ a/ ∈/ I/ ,/ 将/ 具有/ 相同/ 输出/ 的/ 状态/ 移动/ 到/ π/ 中/ 不同/ 的/ 集合/ 内/ ./ 对于/ 算法/ CDS/ 的/ 正确性/ ,/ 文献/ [/ 21/ ]/ 中/ 给出/ 了/ 详细/ 的/ 证明/ ./ 算法/ CDS/ 不能/ 在/ 多项式/ 时间/ 内/ 实现/ ./ 文献/ [/ 6/ ,/ 21/ ]/ 给出/ 了/ 构造/ 一棵/ 完全/ 分裂/ 树/ (/ splittingtree/ )/ 算法/ SPT/ ./ 对于/ 该/ 算法/ 的/ 详细描述/ 可以/ 查阅/ 文献/ [/ 6/ ,/ 21/ ]/ ,/ 限于/ 篇幅/ 原因/ ,/ 本文/ 不再/ 赘述/ ./ 当且/ 仅/ 当/ Mealy/ 机/ 存在/ 一个/ 区分序列/ 时/ ,/ 算法/ SPT/ 才/ 成立/ ./ 同样/ 算法/ SPT/ 也/ 不能/ 在/ 多项式/ 时间/ 内/ 完成/ ./ 依据/ 算法/ SPT/ ,/ 将/ 图/ 1/ (/ a/ )/ 中/ MS/ 转换成/ 一棵/ 分裂/ 树/ ,/ 如图/ 4/ 所示/ ./ 取/ 区分序列/ ba/ ,/ 则/ MS/ 的/ 输出/ 函数/ λ/ (/ s1/ ,/ ba/ )/ =/ 11/ ,/ λ/ (/ s2/ ,/ ba/ )/ =/ 10/ ,/ λ/ (/ s3/ ,/ ba/ )/ =/ 01/ ./ DS/ 方法/ 的/ 构造/ 过程/ 如表/ 9/ 所示/ ./ Page11P/ ε/ abbabbbbabbbr/ ·/ P/ ·/ xrbarabarbbarbabarbbbarbbabarbbbba/ 输出/ 11011110111011001100011011/ 由表/ 9/ 可知/ ,/ DS/ 方法/ 的/ 测试/ 序列/ 总长度/ 为/ 33/ ./ 图/ 1/ (/ a/ )/ 中/ 的/ 迁移/ 错误/ t/ =/ (/ s3/ ,/ a/ // 0/ ,/ s2/ )/ 可以/ 通过/ 测试/ 序列/ rbbaba/ 发现/ ,/ 而图/ 2/ (/ a/ )/ 的/ 输出/ 错误/ b/ // 1/ 能/ 通过/ 测试/ 序列/ rbbba/ 发现/ ./ DS/ 方法/ 的/ 缺点/ 是/ 并非/ 所有/ 的/ Mealy/ 机都/ 存在/ 区分序列/ ,/ 另外/ 测试/ 序列/ 的/ 总长度/ 与/ 选取/ 的/ 区分序列/ 有关/ ./ 3.6/ T/ 方法/ 软件测试/ 中/ 可能/ 存在/ 一类/ 额外/ 迁移/ 错误/ ,/ 即/ 描述/ 需求/ 的/ 规格/ 说明/ 中/ 并/ 没有/ 这些/ 迁移/ ,/ 而/ 实际/ 应用/ 中/ 却/ 存在/ 这些/ 额外/ 的/ 迁移/ ./ 在/ 某些/ 情况/ 下/ ,/ 这些/ 额外/ 的/ 迁移/ 会/ 导致系统/ 的/ 崩溃/ ./ 例如/ 1999/ 年/ 12/ 月/ 3/ 日/ ,/ 美国/ 航天局/ 火星/ 极地/ 登陆/ 者/ 号/ 探测器/ 飞船/ 在/ 试图/ 登陆/ 火星/ 表面/ 时/ 失踪/ ./ 错误/ 修正/ 委员会/ 观测/ 到/ 故障/ ,/ 认定/ 出现/ 失误/ 动作/ 的/ 原因/ 极有/ 可能/ 是/ 某/ 一个/ 数据/ 被/ 意外/ 更改/ ./ 这/ 表明/ 该/ 系统/ 中/ 至少/ 存在/ 一条/ 额外/ 迁移/ ,/ 在/ 正常/ 情况/ 下/ ,/ 这/ 条/ 额外/ 迁移/ 并/ 不会/ 被/ 执行/ ,/ 但/ 在/ 特定/ 情况/ 下/ ,/ 这/ 条/ 额外/ 迁移/ 的/ 执行/ 会/ 导致系统/ 运行/ 出错/ ./ 然而/ 本文/ 前/ 几节/ 中/ 讨论/ 的/ 基于/ FSM/ 的/ 测试方法/ 均/ 不能/ 探测/ 到/ 这类/ 错误/ ,/ 因为/ 上述/ 方法/ 都/ 是/ 由/ 规格/ 说明/ MS/ 导出/ 测试用例/ ,/ 而/ 额外/ 迁移/ 仅仅/ 出现/ 在/ 实际/ 应用/ MI/ 中/ ,/ 因此/ 由/ 规格/ 说明/ 产生/ 的/ 测试/ 序列/ 并/ 不能/ 激活/ 实际/ 应用/ 中/ 的/ 额外/ 迁移/ ./ 虽然/ 额外/ 迁移/ 的/ 错误/ 已经/ 超出/ 了/ 基于/ FSM/ 的/ 测试/ 能力/ ,/ 但/ 仍然/ 存在/ 少表/ 10/ 改进/ T/ 方法/ 的/ 计算机/ 模拟/ 过程/ 长度/ 覆盖/ 所有/ 迁移/ t7/ =/ (/ s3/ ,/ c/ // 0/ ,/ s2/ )/ t8/ =/ (/ s3/ ,/ d/ // 0/ ,/ s4/ )/ 实验/ 随机/ 次数/ MI/ 的/ 测试/ 输入/ 17rbabcbd7227rbabcbcbbbbcbabbbad11101010110100110019374rbbcabcbcabbbaabaab2844rbbd4515rabbaacabd1067rbbbbbd7754rbbbbabcabcbaabbbca84rbabd914rbbaaaabbbaad1100000110001028rabbbbbacbbabbd01101100100110/ (/ 1/ )/ 在/ 实验/ 中/ ,/ 改进/ T/ 方法/ 产生/ 测试/ 输入/ 的/ 内容/ 和/ 长度/ 是/ 随机/ 的/ ,/ 这/ 说明/ 改进/ T/ 方法/ 是/ 不/ 稳定/ 的/ ./ (/ 2/ )/ 仅/ 在/ 实验/ 7/ 中/ ,/ 改进/ T/ 方法/ 产生/ 的/ 测试/ 输入/ 覆盖/ 了/ MS/ 中/ 的/ 所有/ 迁移/ ,/ 因此/ 改进/ T/ 方法/ 并/ 不量/ 基于/ FSM/ 的/ 测试方法/ 能够/ 探测/ 这/ 类/ 错误/ ./ 图/ 5/ 为/ 图/ 1/ (/ a/ )/ 中/ MS/ 的/ 一个/ 错误/ 应用/ ./ 该/ 错误/ 应用/ 包含/ 了/ 两个/ 额外/ 的/ 迁移/ t7/ =/ (/ s3/ ,/ c/ // 0/ ,/ s2/ )/ 和/ t8/ =/ (/ s3/ ,/ d/ // 0/ ,/ s4/ )/ ./ 为/ 发现/ 这/ 两条/ 错误/ 迁移/ ,/ 必须/ 寻找/ 一种/ 能够/ 激活/ 额外/ 迁移/ 的/ 方法/ ./ T/ 方法/ [/ 4/ ]/ 又/ 称为/ 随机/ 测试/ 生成/ 方法/ ,/ 该/ 方法/ 随机/ 产生/ 测试/ 输入/ ,/ 直到/ MS/ 中/ 的/ 所有/ 迁移/ 都/ 被/ 至少/ 覆盖/ 一次/ ./ 传统/ T/ 方法/ 直接/ 由/ 规格/ 说明/ 随机/ 产出/ 覆盖/ MS/ 的/ 测试/ 序列/ ,/ 因此/ 同样/ 也/ 不能/ 发现/ 额外/ 迁移/ 错误/ ./ 本文/ 改进/ 了/ T/ 方法/ ,/ 将/ 随机/ 产生/ 的/ 测试/ 输入/ 直接/ 应用/ 到/ Mealy/ 机/ MI/ 中/ ,/ 直到/ 由/ MI/ 产生/ 的/ 迁移/ 覆盖/ MS/ 中/ 的/ 所有/ 迁移/ 一次/ ./ 由于/ 是/ 随机/ 产生/ 测试/ 输入/ ,/ 因此/ 可能/ 在/ 一定/ 的/ 概率/ 下/ 探测/ 到/ MI/ 中/ 的/ 额外/ 迁移/ ./ 为/ 验证/ 这个/ 观点/ ,/ 我们/ 以图/ 1/ (/ a/ )/ 中/ 的/ MS/ 为例/ ,/ 利用计算机/ 模拟/ 了/ 随机/ 测试/ 序列/ 的/ 生成/ ./ 为/ 避免/ 死循环/ ,/ 在/ 计算机/ 模拟/ 时/ ,/ 若/ 某个/ 状态/ 输入/ 任何/ 符号/ 时/ 都/ 不会/ 发生/ 后续/ 迁移/ ,/ 即/ MI/ 并非/ 强/ 连通/ 的/ ,/ 则/ 无论/ MS/ 中/ 所有/ 迁移/ 是否/ 被/ 覆盖/ ,/ 程序/ 都/ 结束/ ./ 实验/ 中/ ,/ 假定/ 的/ 测试/ 输入/ 集/ I/ =/ {/ a/ ,/ b/ ,/ c/ ,/ d/ }/ ,/ 实验/ 随机/ 产生/ 了/ 十条/ 测试/ 输入/ 和/ 相应/ 的/ 测试/ 输出/ ,/ 如表/ 10/ 所示/ ./ 一些/ 重要/ 的/ 结论/ 可以/ 从表/ 10/ 中/ 得出/ ./ 51315/ 一定/ 能/ 保证/ 探测/ 到/ MI/ 中/ 的/ 迁移/ 错误/ 和/ 输出/ 错误/ ./ (/ 3/ )/ 在/ 实验/ 1/ ,/ 2/ ,/ 3/ 和/ 10/ 中/ ,/ 改进/ T/ 方法/ 能够/ 同时/ 探测/ 到/ 额外/ 迁移/ t7/ 和/ t8/ ;/ 在/ 实验/ 1/ ,/ 2/ ,/ 3/ ,/ 5/ ,/ 6/ ,/ 7/ 和/ 10/ 中/ ,/ 改进/ T/ 方法/ 能够/ 探测/ 到/ 额外/ 迁移/ t7/ ;/ 在/ 实验/ Page121/ ,/ 2/ ,/ 3/ ,/ 4/ ,/ 5/ ,/ 8/ ,/ 9/ 和/ 10/ 中/ ,/ 改进/ T/ 方法/ 能够/ 探测/ 到/ 额外/ 迁移/ t8/ ./ 实验/ 表明/ 改进/ T/ 方法/ 对/ 额外/ 迁移/ 具有/ 一定/ 的/ 探测/ 能力/ ./ (/ 4/ )/ 对图/ 5/ 中/ 的/ MI/ 而言/ ,/ 在/ 10/ 次/ 实验/ 中/ ,/ 改进/ T/ 方法/ 随机/ 产生/ 测试/ 输入/ 的/ 平均/ 长度/ 为/ 23.4/ ,/ 实际/ 有效/ 的/ 测试/ 输入/ 平均/ 长度/ 为/ 14.2/ ./ 实验/ 中/ 改进/ T/ 方法/ 产生/ 的/ 测试/ 序列/ 长度/ 并/ 不太长/ ./ 3.7/ 扩展/ Wp/ 方法/ 分集/ 的/ 概念/ ./ 文献/ [/ 2/ ]/ 提出/ 了/ Wp/ 方法/ 的/ 扩展/ 应用/ ,/ 引入/ 了/ 区/ 定义/ 13/ (/ 区分/ 集/ )/ ./ Mealy/ 机/ 的/ 区分/ 集/ 被/ 定义/ 表/ 11/ 扩展/ Wp/ 方法/ 的/ 第/ 1/ 阶段/ 产生/ 的/ 测试/ 序列/ r/ ./ Q/ ./ I/ ./ Wra/ ,/ rb/ ,/ raa/ ,/ rba/ ,/ rca/ ,/ rda/ ,/ 表/ 12/ 扩展/ Wp/ 方法/ 的/ 第/ 2/ 阶段/ 的/ 测试/ 序列/ R/ 测试状态/ r/ ./ R/ ./ I/ ./ Wiraaa/ ,/ raba/ ,/ raca/ ,/ rada/ ,/ 输出/ 000/ ,/ 011/ ,/ 0/ -/ ,/ 0/ -/ ,/ 在/ 表/ 11/ 、/ 表/ 12/ 中/ ,/ 符号/ “/ -/ ”/ 表示/ 输出/ 为空/ ./ 由表/ 11/ 、/ 表/ 12/ 可知/ ,/ 测试/ 序列/ 的/ 总长/ 度数/ 为/ 214/ ./ 图/ 1/ (/ a/ )/ 中/ MI/ 的/ 迁移/ 错误/ t/ =/ (/ s3/ ,/ a/ // 0/ ,/ s2/ )/ 能够/ 由/ 测试/ 序列/ rbbab/ 发现/ ,/ 而图/ 2/ (/ a/ )/ 中/ MI/ 的/ 输出/ 错误/ b/ // 1/ 能/ 由/ 测试/ 序列/ rbbba/ 发现/ ,/ 图/ 5/ 中/ MI/ 的/ 错误/ 额外/ 迁移/ 错误/ t7/ 和/ t8/ 分别/ 由/ rbbca/ 和/ rbbda/ 发现/ ./ 当/ m/ -/ n/ 越大时/ ,/ 扩展/ Wp/ 方法/ 产生/ 的/ 测试/ 序列/ 越长/ ./ 为/ 减少/ 扩展/ Wp/ 方法/ 产生/ 的/ 测试/ 序列/ 长度/ ,/ 文献/ [/ 23/ ]/ 提出/ 了/ R/ -/ Wp/ 方法/ ,/ 该/ 方法/ 通过/ 排除/ Wp/ 方法/ 中/ 错误/ 的/ 状态/ 迁移/ 而/ 减少/ 测试/ 输入/ 序列/ 的/ 数目/ ./ R/ -/ Wp/ 方法/ 包含/ 3/ 个/ 步骤/ :/ 1/ ./ 估计/ 实现/ 中/ 的/ 有限/ 状态机/ 中/ 状态/ 数目/ 的/ 上界/ m/ ,/ 其中/ m/ 要/ 大于/ 或/ 等于/ 规约/ 说明/ 中/ 的/ 有限/ 状态机/ 中/ 的/ 状态/ 数目/ n/ ./ 2/ ./ 检验/ 在/ 规约/ 说明/ 中/ 的/ 状态/ 在/ 实现/ 中/ 可/ 被/ 识别/ 并/ 验证/ 其/ 正确性/ ,/ 同时/ 从/ 初始状态/ 到/ 这些/ 状态/ 所/ 经历/ 的/ 状态/ 迁移/ 也/ 被/ 验证/ ,/ 该/ 部分/ 的/ 测试/ 输入/ 序列/ 可/ 如下/ 构造/ :/ T1/ =/ Q/ ·/ X/ [/ m/ -/ n/ ]/ ·/ W/ ,/ 其中/ I/ 表示/ 测试/ 输入/ 集合/ ,/ X/ [/ m/ -/ n/ ]/ 表示/ {/ ε/ }/ ∪/ I/ ∪/ I2/ ∪/ …/ ∪/ Im/ -/ n/ ./ 3/ ./ 验证/ 在/ 上面/ 没有/ 被/ 验证/ 的/ 状态/ 迁移/ ,/ 测试/ 输入/ 序列/ 可/ 构造/ 如下/ :/ 其中/ Q/ 是/ S/ 的/ 状态/ 覆盖/ 集/ ,/ P/ 是/ S/ 的/ 迁移/ 覆盖/ 集/ ,/ W/ 是/ 有限/ 状态机/ 的/ 特征/ 集/ ./ 为/ Z/ =/ (/ {/ ε/ }/ ∪/ I/ ∪/ I2/ ∪/ …/ Im/ -/ n/ )/ ./ W/ =/ X/ [/ m/ -/ n/ ]/ ·/ W/ ,/ 其中/ I/ 为/ Mealy/ 机/ 的/ 输入/ 符号/ 集/ ,/ n/ 为/ MS/ 中/ 的/ 状态/ 数目/ ,/ m/ 表示/ 实际/ 应用/ MI/ 的/ 状态/ 数目/ 且/ m/ >/ n/ ,/ X/ [/ m/ -/ n/ ]/ 表示/ {/ ε/ }/ ∪/ I/ ∪/ I2/ ∪/ …/ ∪/ Im/ -/ n/ ,/ W/ 为/ 特征/ 集/ ./ 实际/ 应用/ 中/ ,/ MI/ 的/ 状态/ 数目/ 可能/ 比/ MS/ 中/ 的/ 状态/ 数目/ 多/ ,/ 因此/ 文献/ [/ 2/ ]/ 提出/ 利用/ 区分/ 集/ Z/ 代替/ 特征/ 集/ W/ ./ 为/ 发现/ 图/ 5/ 中/ MI/ 的/ 额外/ 状态/ ,/ 本文/ 假定/ m/ -/ n/ =/ 1/ ,/ 即/ Z/ =/ I/ ./ W/ ,/ 其中/ I/ =/ {/ a/ ,/ b/ ,/ c/ ,/ d/ }/ ,/ 特征/ 集/ W/ =/ {/ a/ ,/ b/ }/ ,/ 识别/ 集/ W1/ =/ {/ a/ ,/ b/ }/ ,/ W2/ =/ {/ a/ }/ ,/ W3/ =/ {/ b/ }/ ./ 同样/ 扩展/ Wp/ 方法/ 也/ 包含/ 了/ 两个/ 阶段/ ./ 扩展/ Wp/ 方法/ 得到/ 的/ 测试/ 输入/ 及/ 测试/ 输出/ 如表/ 11/ 、/ 表/ 12/ 所示/ ./ 测试/ 序列/ b111/ ,/ 110/ ,/ 1/ -/ ,/ 1/ -/ ,/ 111/ ,/ 111/ ,/ 1/ -/ ,/ 1/ -/ 测试/ 序列/ bbas3rbbab/ ,/ rbbbb/ ,/ rbbcb/ ,/ rbbdb1100/ ,/ 1101/ ,/ 11/ -/ ,/ 11/ -/ 由/ R/ -/ Wp/ 方法/ 的/ 实现/ 步骤/ 可知/ ,/ 该/ 方法/ 的/ 实现/ 需要/ 利用/ 状态/ 覆盖/ 集/ Q/ 、/ 迁移/ 覆盖/ 集/ P/ 和/ 特征/ 集/ W/ ./ 因此/ 可/ 参照/ 上述/ 相关/ 算法/ 获得/ R/ -/ Wp/ 方法/ 的/ 测试/ 序列/ ./ 由/ R/ -/ Wp/ 方法/ 的/ 实现/ 可知/ ,/ 第/ 1/ 阶段/ 的/ 测试/ 序列/ 为表/ 11/ 中/ 的/ 测试/ 序列/ ,/ 而/ 第/ 2/ 阶段/ 的/ 测试/ 序列/ 为表/ 4/ 中/ 的/ 测试/ 序列/ ./ 综合/ 表/ 11/ 和表/ 4/ ,/ R/ -/ Wp/ 方法/ 的/ 测试/ 序列/ 总长度/ 为/ 121/ ./ 文献/ [/ 23/ ]/ 证明/ 了/ R/ -/ Wp/ 方法/ 与/ 扩展/ Wp/ 方法/ 具有/ 相同/ 的/ 错误/ 探测/ 能力/ ./ 4/ 冗余/ 约简/ 软件测试/ 的/ 目的/ 是/ 以/ 较/ 小/ 的/ 测试/ 成本/ 为/ 代价/ ,/ 尽可能/ 发现/ 软件/ 中/ 的/ 错误/ ./ 上述/ 基于/ FSM/ 的/ 测试方法/ 产生/ 的/ 测试/ 序列/ 集中/ 可能/ 包含/ 冗余/ ,/ 如/ 对于/ W/ 方法/ ,/ 表/ 2/ 中/ 测试/ 序列/ ra/ 和/ raa/ 之间/ 存在/ 冗余/ ,/ 因为/ 能/ 被/ 序列/ ra/ 发现/ 的/ 错误/ ,/ 一定/ 能够/ 被/ 序列/ raa/ 发现/ ,/ 则/ 序列/ ra/ 就是/ 冗余/ 序列/ ./ 冗余/ 序列/ 的/ 存在/ 会/ 导致/ 测试/ 成本/ 的/ 激增/ ,/ 为此/ 本文/ 提出/ 在/ 维持/ 错误/ 探测/ 能力/ 的/ 前提/ 下/ ,/ 减少/ 测试/ 序列/ 中/ 的/ 冗余/ ./ 文献/ [/ 14/ ]/ 从/ 测试/ 覆盖/ 准则/ 的/ 角度/ ,/ 分析/ 满足/ 不同/ 测试/ 覆盖/ 准则/ 的/ 测试用例/ 集合/ 内/ 存在/ 的/ 冗余/ 问题/ ,/ 该/ 研究/ 能够/ 保证/ 约简/ 后/ 的/ 测试用例/ 集合/ 同样/ 也/ Page13/ 满足/ 某个/ 测试/ 覆盖/ 准则/ ./ 但是/ 文献/ [/ 14/ ]/ 中/ 的/ 研究/ 并/ 不能/ 保证/ 约简/ 前后/ 的/ 测试用例/ 集合/ 具备/ 相同/ 的/ 错误/ 探测/ 能力/ ./ 为此/ ,/ 本文/ 提出/ 采用/ 前置/ 和/ 后置/ 条件/ 分析法/ ,/ 约简/ 测试/ 序列/ 中/ 的/ 冗余/ ,/ 即/ 在/ 相同/ 前置条件/ 和/ 后置/ 条件/ 下/ ,/ 测试/ 序列/ 的/ 冗余/ 约/ 简并/ 不会/ 降低/ 测试/ 序列/ 集合/ 的/ 错误/ 探测/ 能力/ ./ 定义/ 14/ (/ 前置/ 和/ 后置/ 条件/ )/ ./ 测试/ 序列/ A/ 中/ 的/ 某个/ 元素/ b/ 的/ 前置条件/ 是/ A/ 中/ 与/ b/ 相邻/ 的/ 前/ 一个/ 元素/ a/ 的/ 输出/ ,/ 元素/ b/ 的/ 后置/ 条件/ 是/ 元素/ b/ 的/ 输出/ ./ 由/ 定义/ 14/ 可知/ ,/ 在/ 图/ 1/ (/ a/ )/ 的/ MS/ 中/ ,/ 测试/ 序列/ ra/ ,/ 其中/ a/ 的/ 前置条件/ 为/ r/ 的/ 输出/ “/ -/ ”/ ,/ a/ 的/ 后置/ 条件/ 为/ 0/ ./ 对/ 测试/ 序列/ 为/ raabb/ ,/ 该/ 序列/ 的/ 前置条件/ 为/ -/ 001/ ,/ 该/ 序列/ 的/ 后置/ 条件/ 为/ 0011/ ./ 定义/ 15/ (/ 冗余/ )/ ./ 若/ 测试/ 序列/ A/ 包含/ 了/ 测试/ 序列/ B/ ,/ 且/ 包含/ 部分/ 与/ B/ 拥有/ 相同/ 的/ 前置条件/ 和/ 后置/ 条件/ ,/ 则/ 在/ 序列/ A/ 和/ B/ 中/ ,/ B/ 是/ 冗余/ 的/ ./ 对于/ 图/ 1/ (/ a/ )/ 中/ 的/ MS/ 而言/ ,/ 测试/ 序列/ raa/ 包含/ 测试/ 序列/ ra/ ,/ 且/ 包含/ 部分/ 与/ ra/ 拥有/ 相同/ 的/ 前置条件/ 与/ 后置/ 条件/ ,/ 则/ ra/ 是/ 冗余/ 的/ ./ 定理/ 5/ ./ 对/ 测试/ 序列/ A/ ,/ B/ 而言/ ,/ 若/ B/ 是/ 冗余/ 的/ ,/ 则/ 测试/ 序列/ A/ 的/ 错误/ 探测/ 能力/ 与/ 序列/ A/ 和/ B/ 的/ 错误/ 探测/ 能力/ 相同/ ./ 证明/ ./ 假定/ 测试/ 序列/ B/ 能够/ 探测/ 到/ 错误/ 集合/ 为/ E/ ,/ 则/ B/ →/ E/ ./ 由/ 定义/ 15/ 可知/ ,/ A/ 包含/ B/ ,/ 则/ 对于/ 序列/ B/ 中/ 的/ 任意/ 一个/ 元素/ b/ ,/ 在/ A/ 包含/ B/ 的/ 部分/ 中/ 一定/ 存在/ 一个/ 元素/ a/ ,/ 使得/ b/ =/ a/ 且/ 它们/ 拥有/ 相同/ 的/ 前置条件/ 和/ 后置/ 条件/ ,/ 则/ a/ →/ b/ ,/ 因此/ A/ →/ B/ ./ 由/ 关系/ 的/ 传递性/ 可知/ ,/ 若/ A/ →/ B/ 和/ B/ →/ E/ ,/ 则/ 有/ A/ →/ E/ ,/ 即/ 序列/ A/ 也/ 能/ 探测/ 到/ 错误/ 集合/ E/ ./ 因此/ 序列/ A/ 与/ 序列/ A/ 和/ B/ 的/ 错误/ 探测/ 能力/ 相同/ ./ 对/ 序列/ A/ 和/ B/ ,/ 若/ A/ 仅仅/ 包含/ B/ ,/ 则/ 并/ 不能/ 得出/ A/ →/ B/ ./ 因为/ 序列/ B/ 有/ 它/ 的/ 前置条件/ 和/ 后置/ 条件/ ,/ 前置条件/ 是/ 序列/ B/ 出现/ 的/ 前提/ ,/ 后置/ 条件/ 保证/ 了/ 序列/ B/ 的/ 错误/ 探测/ 能力/ ,/ 因此/ 若/ 不能/ 保证/ A/ 中/ 包含/ B/ 的/ 部分/ 也/ 与/ B/ 一样/ 具有/ 相同/ 的/ 前置条件/ 和/ 后置/ 条件/ ,/ 则/ 序列/ A/ 并/ 不能/ 保证/ 发现/ 序列/ B/ 能够/ 探测/ 到/ 的/ 错误/ ./ 依据/ 本文/ 的/ 冗余/ 定义/ ,/ 可以/ 对/ 上述/ 所有/ 基于/ FSM/ 的/ 测试/ 生成/ 方法/ 进行/ 冗余/ 约简/ ./ 本文/ 给出/ 序列/ 集合/ 的/ 冗余/ 约简/ 算法/ TSRD/ ./ 算法/ TSRD/ ./ 测试/ 序列/ 的/ 冗余/ 约简/ 算法/ ./ 输入/ :/ 测试/ 序列/ 组/ ts/ [/ 1/ ]/ ,/ ts/ [/ 2/ ]/ ,/ …/ ,/ ts/ [/ n/ ]/ 和/ Mealy/ 机/ MS/ 输出/ :/ 被/ 约简/ 后/ 的/ 测试/ 组/ 1/ ./ StringBuffersb/ =/ newStringBuffer/ (/ )/ ;/ // // 初始化/ 2/ ./ 按/ 序列/ 长度/ 递减/ 排序/ 测试/ 序列/ 组/ ts/ [/ 1/ ]/ ,/ ts/ [/ 2/ ]/ ,/ …/ ,/ ts/ [/ n/ ]/ ;/ 3/ ./ sb/ ./ append/ (/ ts/ [/ 1/ ]/ )/ ./ append/ (/ “/ @/ ”/ )/ ;/ 4/ ./ for/ (/ inti/ =/ 0/ ;/ i/ </ ts/ ./ length/ ;/ i/ ++/ )/ 5/ ./ for/ (/ intj/ =/ i/ +/ 1/ ;/ j/ </ ts/ ./ length/ ;/ j/ ++/ )/ 6/ ./ Stringst/ =/ λ/ (/ s1/ ,/ ts/ [/ i/ ]/ )/ ;/ 7/ ./ Stringst1/ =/ λ/ (/ s1/ ,/ ts/ [/ j/ ]/ )/ ;/ 8/ ./ If/ (/ ts/ [/ i/ ]/ ./ indexOf/ (/ ts/ [/ j/ ]/ )/ !/ =/ -/ 19/ ./ sb/ ./ append/ (/ ts/ [/ j/ ]/ )/ ./ append/ (/ “/ @/ ”/ )/ ;/ 10/ ./ Endif11/ ./ Endfor12/ ./ 删除/ 字符串/ sb/ 中/ 的/ 最后/ 一个/ 符号/ “/ @/ ”/ ;/ 13/ ./ ts/ =/ newString/ [/ sb/ ./ toString/ (/ )/ ./ split/ (/ “/ @/ ”/ )/ ./ length/ ]/ ;/ 14/ ./ ts/ =/ sb/ ./ toString/ (/ )/ ./ split/ (/ “/ @/ ”/ )/ ;/ 15/ ./ sb/ =/ newStringBuffer/ (/ )/ ;/ 16/ ./ for/ (/ intk/ =/ 0/ ;/ k/ </ =/ i/ ;/ k/ ++/ )/ 17/ ./ endfor18/ ./ returnts/ ./ split/ (/ “/ @/ ”/ )/ ;/ // // 返回/ 被/ 约简/ 后/ 的/ 测试/ 序列/ 算法/ TSRD/ 的/ 时间/ 主要/ 集中/ 在步/ 2/ 和/ 4/ ,/ 其中/ 步/ 2/ 的/ 时间/ 最多为/ n2/ ,/ 步/ 4/ 的/ 时间/ 不/ 超过/ n2/ ,/ 因此/ 算法/ TSRD/ 的/ 最坏/ 时间/ 复杂度/ 为/ O/ (/ n2/ )/ ./ 5/ 实验/ 评估/ 实验/ 的/ 内容/ 包括/ 测试/ 成本/ 、/ 错误/ 探测/ 能力/ 、/ 冗余/ 约简/ 效率/ 及/ 改进/ T/ 方法/ (/ 本/ 节/ 简称/ T/ 方法/ )/ ./ 实验/ 的/ 对象/ 包含/ 3/ 个/ 协议/ 模型/ CM1/ 、/ CM2/ 和/ CM3/ (/ 来自/ 文献/ [/ 6/ ,/ 10/ ,/ 24/ ]/ )/ ,/ 一个/ 学生/ 管理系统/ 模型/ SIMS/ ,/ 一个/ 在线/ 邮箱/ 模型/ EMAIL/ 和/ 一段/ 程序/ 模型/ PM/ ./ 针对/ 程序/ 模型/ PM/ ,/ 我们/ 在/ 实际/ 程序/ 中/ 添加/ 了/ 5/ 个/ 错误/ ./ 有关/ 程序/ 建模/ 的/ 方法/ 可以/ 参考文献/ [/ 8/ ]/ ./ 实验/ 中/ 包含/ 3/ 类/ 错误/ :/ 错误/ 类型/ I/ 表示/ 迁移/ 错误/ ,/ 错误/ 类型/ II/ 表示/ 输出/ 错误/ ,/ 错误/ 类型/ III/ 表示/ 额外/ 迁移/ 错误/ ./ 模型/ MS/ 及其/ 应用/ 模型/ MI/ 的/ 详细信息/ 如表/ 13/ 所示/ ./ 模型/ MS/ 信息/ CM1363I/ ,/ II/ ,/ III1/ ,/ 1/ ,/ 1CM2364I/ ,/ III2/ ,/ 2CM3573I/ ,/ II1/ ,/ 2PM11125I/ ,/ II4/ ,/ 1SIMS10214II/ ,/ III2/ ,/ 2EMAIL7134I/ ,/ II/ ,/ III2/ ,/ 1/ ,/ 15.1/ 测试/ 成本/ 影响/ 测试/ 成本/ 的/ 主要/ 因素/ 是/ 测试用例/ 的/ 总数/ [/ 25/ ]/ ,/ 因为/ 对/ 每条/ 测试用例/ 都/ 需要/ 分配资源/ ,/ 如/ 测试计划/ 、/ 测试/ 设计/ 和/ 测试/ 执行/ ./ 其中/ 测试/ 执行/ 又/ 与/ 测/ Page14/ 试用/ 例/ 的/ 长度/ 有关/ ./ 为此/ ,/ 本文/ 提及/ 的/ 测试/ 成本/ 包括/ 测试/ 序列/ 的/ 总长度/ 和/ 测试/ 序列/ 的/ 总数/ ./ 假定/ 测试/ 序列/ 总数/ 产生/ 的/ 测试/ 成本/ 为/ C1/ =/ h/ (/ Sq/ )/ ,/ 是/ 一个/ 关于/ 序列/ 总数/ Sq/ 的/ 函数/ ,/ 测试/ 序列/ 总长度/ 产生/ 的/ 测试/ 成本/ 为/ C2/ =/ g/ (/ Ls/ )/ ,/ 是/ 一个/ 关于/ 序列/ 总长度/ Ls/ 的/ 函数/ ,/ 则/ 总/ 的/ 测试/ 成本/ 为/ C/ =/ C1/ +/ C2/ ./ 为/ 获得/ 函数/ h/ (/ Sq/ )/ 和/ g/ (/ Ls/ )/ ,/ 不妨/ 假设/ 一条/ 总长度/ 为/ 1/ 的/ 测试/ 序列/ 产生/ 的/ 测试/ 成本/ 为/ 1/ ,/ 则/ 1/ =/ h/ (/ 1/ )/ +/ g/ (/ 1/ )/ ./ 因此/ ,/ g/ (/ 1/ )/ =/ 1/ -/ h/ (/ 1/ )/ ,/ h/ (/ 1/ )/ </ 1/ 及/ g/ (/ 1/ )/ </ 1/ ./ 假设/ α/ =/ h/ (/ 1/ )/ ,/ 则/ 1/ -/ α/ =/ g/ (/ 1/ )/ ./ 因此/ ,/ 函数/ h/ (/ Sq/ )/ =/ α/ ×/ Sq/ ,/ g/ (/ Ls/ )/ =/ (/ 1/ -/ α/ )/ ×/ Ls/ ./ 基于/ 上述/ 分析/ ,/ 本文/ 给出/ 了/ 测试/ 成本/ 的/ 量化/ 评估/ 指标/ ./ 定义/ 16/ (/ 测试/ 成本/ )/ ./ 基于/ FSM/ 的/ 测试/ 成本/ C/ 被/ 定义/ 为/ 其中/ Sq/ 表示/ 测试/ 序列/ 的/ 总数/ ,/ Li/ 表示/ 第/ i/ 条/ 测试/ 序列/ 的/ 长度/ ,/ α/ 是/ 小于/ 1/ 的/ 测试/ 参数/ ,/ 表示/ 测试/ 序列/ 的/ 数目/ 对/ 测试/ 成本/ 的/ 影响/ ,/ 1/ -/ α/ 表示/ 测试/ 序列/ 的/ 总长度/ 对/ 测试/ 成本/ 的/ 影响/ ./ 图/ 6/ 若干/ 基于/ FSM/ 的/ 测试方法/ 的/ 测试/ 成本/ 一般而言/ 参数/ α/ 小于/ 1/ // 2/ ,/ 即/ 测试/ 序列/ 总长度/ 对/ 测试/ 成本/ 的/ 影响/ 要/ 大于/ 测试/ 序列/ 数目/ 对/ 测试/ 成本/ 的/ 影响/ ./ 依据/ 式/ (/ 1/ )/ ,/ 可以/ 量化/ 评估/ 基于/ FSM/ 的/ 测试方法/ 的/ 测试/ 成本/ ,/ 同时/ 也/ 能/ 估算/ 测试/ 时间/ ./ 若/ 知道/ 人均/ 每日/ 测试/ 成本/ Cd/ ,/ 则/ 测试/ 时间/ D/ =/ C/ // Cd/ ./ 因此/ ,/ 式/ (/ 1/ )/ 可以/ 作为/ 实际/ 软件测试/ 成本/ 花费/ 的/ 一项/ 重要/ 评价/ 指标/ ./ 为/ 量化/ 评估/ 上述/ 基于/ FSM/ 的/ 测试/ 生成/ 方法/ 的/ 成本/ 开销/ ,/ 本文/ 假定/ 参数/ α/ =/ 0.2/ ,/ 分别/ 计算/ 由/ 不同/ 模型/ 产生/ 的/ 测试/ 序列/ 的/ 成本/ ./ 在/ 实验/ 中/ R/ -/ Wp/ 方法/ 设定/ 的/ 区分/ 集/ Z/ =/ X/ [/ 1/ ]/ ·/ W/ ./ 由于/ T/ 方法/ 的/ 测试/ 序列/ 长度/ 是/ 随机/ 的/ ,/ 导致/ 测试/ 成本/ 的/ 随机/ 变化/ ,/ 因此/ 本/ 节/ 没有/ 将/ T/ 方法/ 与/ 其它/ 方法/ 进行/ 测试/ 成本/ 比较/ ,/ 而/ 在/ 5.4/ 节对/ T/ 方/ 进行/ 实验/ 评估/ ./ 图/ 6/ 显示/ 了/ 上述/ 不同/ 测试/ 生成/ 方法/ 应用/ 于/ 不同/ 模型/ 时/ 的/ 测试/ 成本/ 消耗/ ./ 在/ 图/ 6/ (/ c/ )/ 和/ (/ f/ )/ 中/ 的/ DS/ 方法/ 结果/ 为/ 0/ ,/ 其/ 原因/ 是/ 不能/ 由/ 模型/ CM3/ 和/ EMAIL/ 获得/ 区分序列/ ,/ (/ d/ )/ 中/ 的/ UIO/ 和/ UIOv/ 方法/ 的/ 结果/ 为/ 0/ ,/ 其/ 原因/ 是/ PM/ 模型/ 不/ 存在/ UIO/ 序列/ ,/ 即/ PM/ 模型/ 不是/ 强/ 连通/ 的/ ./ Page15/ 由图/ 6/ 可以/ 得出/ 一些/ 实验/ 结论/ :/ (/ 1/ )/ 一般而言/ ,/ 基于/ FSM/ 的/ 测试方法/ 的/ 成本/ 递减/ 顺序/ :/ R/ -/ Wp/ 方法/ >/ W/ 方法/ >/ UIOv/ 方法/ >/ Wp/ 方法/ >/ DS/ 方法/ >/ UIO/ 方法/ >/ 迁移/ 覆盖/ >/ 状态/ 覆盖/ ./ (/ 2/ )/ 若仅/ 从/ 成本/ 角度/ 考虑/ ,/ R/ -/ Wp/ 方法/ 是/ 最/ 不/ 经济/ 的/ ./ 实验/ 中/ R/ -/ Wp/ 方法/ 仅/ 考虑/ m/ -/ n/ =/ 1/ 的/ 情况/ ,/ 若/ 考虑/ m/ -/ n/ >/ 1/ 的/ 情况/ ,/ 则/ R/ -/ Wp/ 方法/ 的/ 测试/ 成本/ 还/ 将/ 成倍增长/ ./ 另外/ ,/ 在/ 程序/ 模型/ PM/ 及/ 两个/ 软件系统/ 模型/ SIMS/ 和/ EMAIL/ 中/ ,/ R/ -/ Wp/ 方法/ 的/ 测试/ 成本/ 是/ 数倍/ 甚至/ 是/ 数十倍/ 于/ 其它/ 基于/ FSM/ 的/ 测试方法/ ./ (/ 3/ )/ DS/ 方法/ 、/ UIO/ 方法/ 和/ UIOv/ 方法/ 并/ 不适/ 用于/ 所有/ 的/ FSM/ 模型/ ./ 5.2/ 错误/ 探测/ 能力/ 本文/ 讨论/ 的/ 错误/ 探测/ 能力/ 包含/ 错误/ 的/ 类型/ 和/ 错误/ 的/ 数目/ ,/ 其/ 评价/ 指标/ 是/ 指/ 在/ 实际/ 程序/ 中/ 植入/ 错误/ ,/ 考核/ 被/ 探测/ 错误/ 在/ 所/ 植入/ 的/ 同/ 类型/ 错误/ 中所/ 占/ 的/ 比图/ 7/ 若干/ 基于/ FSM/ 的/ 测试方法/ 的/ 错误/ 探测/ 率/ 在/ 图/ 7/ (/ c/ )/ 和/ (/ f/ )/ 中/ ,/ DS/ 方法/ 的/ 错误/ 探测/ 率为/ 0/ ,/ 其/ 原因/ 是/ 模型/ CM3/ 和/ EMAIL/ 不/ 存在/ 区分序列/ ,/ 重/ ,/ 即/ 被/ 查杀/ 的/ 变异/ 得分/ (/ mutationscore/ )/ [/ 26/ ]/ ./ 为/ 探测/ 实际/ 软件/ 中/ 的/ 错误/ ,/ 本文/ 分别/ 为/ 模型/ CM1/ 、/ CM2/ 和/ CM3/ 设计/ 了/ 相应/ 的/ MI/ ,/ 为/ 程序/ 模型/ 设计/ 了/ 一段/ 包含/ 错误/ 的/ 程序/ ,/ 而/ 模型/ SIMS/ 和/ EMAIL/ 则/ 直接/ 采用/ 它们/ 的/ 应用/ ./ 为了/ 量化/ 评估/ 测试/ 效率/ ,/ 本文/ 给出/ 了/ 错误/ 探测/ 率/ 的/ 定义/ ./ 定义/ 17/ (/ 错误/ 探测/ 率/ )/ ./ 软件/ 的/ 错误/ 探测/ 率/ ρ/ 被/ 定义/ 为/ 其中/ St/ 表示/ 错误/ 类型/ 的/ 总数/ ,/ Nf/ (/ i/ )/ 表示/ 探测/ 到/ i/ 型/ 错误/ 的/ 数目/ ,/ Sf/ (/ i/ )/ 表示/ 软件/ 中/ 存在/ 的/ i/ 型/ 错误/ 的/ 总数/ ./ 式/ (/ 2/ )/ 将/ 不同/ 类型/ 的/ 错误/ 视为/ 同等/ 重要/ ,/ 错误/ 探测/ 率/ ρ/ 涉及/ 错误/ 类型/ 的/ 种类/ 和/ 同/ 一种/ 错误/ 类型/ 的/ 错误/ 数目/ ./ 依据/ 式/ (/ 2/ )/ ,/ 可以/ 量化/ 计算/ 各种/ 测试方法/ 的/ 错误/ 探测/ 能力/ ./ 图/ 7/ 显示/ 了/ 这些/ 测试方法/ 的/ 错误/ 探测/ 率/ ./ (/ d/ )/ 中/ UIO/ 方法/ 和/ UIOv/ 方法/ 的/ 错误/ 探测/ 能力/ 为/ 0/ ,/ 其/ 原因/ 是/ 模型/ PM/ 不是/ 强/ 连通/ 的/ ./ 若/ 不/ 考虑/ 图/ 7/ 中/ Page16DS/ 方法/ 、/ UIO/ 方法/ 和/ UIOv/ 方法/ 的/ 无效/ 情况/ ,/ 则/ 由/ 图/ 7/ 可以/ 得出/ 一些/ 重要/ 的/ 结论/ :/ (/ 1/ )/ 上述/ 任何/ 一种/ 测试方法/ 都/ 不能/ 保证/ 100/ %/ 探测/ 到/ 所有/ 系统/ 中/ 的/ 错误/ ,/ 其中/ R/ -/ Wp/ 方法/ 的/ 错误/ 探测/ 率/ 最高/ ,/ 状态/ 覆盖/ 的/ 错误/ 探测/ 率/ 最低/ ,/ W/ 方法/ 、/ Wp/ 方法/ 和/ UIOv/ 方法/ 的/ 错误/ 探测/ 率/ 相同/ ./ (/ 2/ )/ 在/ (/ a/ )/ 和/ (/ b/ )/ 中/ ,/ 迁移/ 覆盖/ 的/ 错误/ 探测/ 率/ 比/ W/ 方法/ 和/ Wp/ 方法/ 的/ 错误/ 探测/ 率要/ 低/ ./ 这是/ 由于/ 协议/ 测试/ 时/ 状态/ 位/ 信息/ 不可/ 获得/ ,/ 造成/ 迁移/ 覆盖/ 产生/ 的/ 测试/ 序列/ 不能/ 辨别/ 最终/ 获得/ 的/ 状态/ ,/ 导致/ 其/ 错误/ 探测/ 能力/ 的/ 下降/ ./ (/ 3/ )/ 在/ (/ d/ )/ 、/ (/ e/ )/ 和/ (/ f/ )/ 中/ ,/ 迁移/ 覆盖/ 的/ 错误/ 探测/ 率/ 与/ W/ 方法/ 和/ Wp/ 方法/ 的/ 错误/ 探测/ 率/ 相同/ ,/ 其/ 原因/ 是/ 在/ 对/ 程序/ 和/ 两个/ 系统/ 的/ 测试/ 时/ ,/ 状态/ 位/ 可/ 获得/ ./ 因此/ ,/ 若/ 测试/ 时/ 状态/ 位/ 可/ 获得/ ,/ 迁移/ 覆盖/ 的/ 错误/ 探测/ 率/ 等同于/ W/ 方法/ 和/ Wp/ 方法/ ./ (/ 4/ )/ 在/ (/ b/ )/ 中/ ,/ UIO/ 方法/ 的/ 错误/ 探测/ 率/ 比/ UIOv/ 方法/ 低下/ ,/ 因此/ UIO/ 方法/ 的/ 错误/ 探测/ 率/ 不如/ W/ 方法/ 、/ Wp/ 方法/ 和/ UIOv/ 方法/ ./ (/ 5/ )/ 在/ (/ c/ )/ 、/ (/ d/ )/ 和/ (/ f/ )/ 中/ ,/ DS/ 方法/ 、/ UIO/ 方法/ 和/ UIOv/ 方法/ 的/ 错误/ 探测/ 率为/ 0/ ,/ 因此/ DS/ 方法/ 、/ UIO/ 方法/ 和/ UIOv/ 方法/ 的/ 使用/ 范围/ 比/ W/ 方法/ 和/ Wp/ 方法/ 要/ 窄/ ./ 为/ 进一步/ 评估/ 这些/ 方法/ ,/ 本文/ 给出/ 了/ 针对/ 某/ 一种/ 错误/ 类型/ 的/ 探测/ 效率/ 的/ 评价/ 指标/ ./ 探测/ 率/ ρ/ (/ i/ )/ 被/ 定义/ 为/ 定义/ 18/ (/ i/ 型/ 错误/ 探测/ 率/ )/ ./ 软件/ 的/ i/ 型/ 错误/ 其中/ Nf/ (/ i/ )/ (/ k/ )/ 表示/ 在/ 第/ k/ 个/ 模型/ 中/ 探测/ 到/ i/ 型/ 错误/ 的/ 数目/ ,/ Sf/ (/ i/ )/ (/ k/ )/ 表示/ 第/ k/ 个/ 模型/ 中/ i/ 型/ 错误/ 的/ 总数/ ./ 定义/ 18/ 给出/ 的/ 是/ 某/ 一种/ 错误/ 类型/ 的/ 平均/ 错误/ 探测/ 率/ ./ 依据/ 式/ (/ 3/ )/ ,/ 我们/ 能够/ 统计/ 上述/ 测试/ 生成/ 方法/ 的/ I/ 、/ II/ 和/ III/ 型/ 错误/ 探测/ 率/ ,/ 如图/ 8/ 所示/ ./ 一些/ 重要/ 的/ 结论/ 可以/ 由图/ 8/ 得出/ :/ (/ 1/ )/ 在/ 实验/ 中/ ,/ 上述/ 方法/ 对/ 错误/ 类型/ II/ 的/ 探测/ 是/ 最/ 有效/ 的/ ,/ 其中/ 迁移/ 覆盖/ 、/ W/ 方法/ 、/ Wp/ 方法/ 和/ R/ -/ Wp/ 方法/ 能够/ 100/ %/ 地/ 探测/ 到/ 系统/ 中/ 错误/ 类型/ II/ 的/ 所有/ 错误/ ./ (/ 2/ )/ 错误/ 类型/ I/ 的/ 探测/ 效率/ 要/ 低于/ 错误/ 类型/ II/ 的/ 探测/ 效率/ ,/ 且/ 没有/ 一种/ 方法/ 能够/ 保证/ 发现/ 所有/ 应用/ 中/ 错误/ 类型/ I/ 的/ 错误/ ./ 这个/ 问题/ 的/ 原因/ 在于/ 模型/ PM/ ./ 例如/ ,/ 若/ 程序/ 中/ 的/ 迁移/ 条件/ 为/ a/ >/ 0/ ,/ 但/ 被/ 误/ 写成/ a/ / 0/ ,/ 则/ 输入/ a/ =/ 1/ 不会/ 发现/ 这个/ 迁移/ 错误/ ./ (/ 3/ )/ 错误/ 类型/ III/ 的/ 探测/ 效率/ 最低/ ,/ 在/ 实验/ 中/ ,/ 仅/ 有/ R/ -/ Wp/ 方法/ 能够/ 发现/ 这/ 类/ 错误/ ,/ 且/ 不能/ 保证/ 发现错误/ 类型/ III/ 中/ 的/ 所有/ 错误/ ./ 5.3/ 冗余/ 约简/ 效率/ 本文/ 所指/ 的/ 冗余/ 约简/ 包括/ 测试/ 序列/ 总长度/ 的/ 约简/ 和/ 测试/ 集合/ 大小/ 的/ 约简/ ./ 由于/ 本文/ 提出/ 的/ 冗余/ 约简/ 方法/ 对/ 状态/ 覆盖/ 和/ 迁移/ 覆盖/ 没有/ 任何/ 效率/ ,/ 因此/ 本文/ 仅/ 针对/ W/ 方法/ 、/ Wp/ 方法/ 、/ UIO/ 方法/ 、/ UIOv/ 方法/ 和/ R/ -/ Wp/ 方法/ 进行/ 冗余/ 约简/ 效率/ 的/ 评估/ ./ 本文/ 给出/ 了/ 两项/ 冗余/ 约简/ 的/ 评价/ 指标/ ./ 定义/ 19/ (/ 测试/ 序列/ 总长度/ 的/ 约简/ 率/ )/ ./ 测试/ 序列/ 总长度/ 的/ 约简/ 率/ RL/ 被/ 定义/ 为/ 其中/ Sq/ 表示/ 测试/ 序列/ 的/ 总数/ ,/ Li/ 表示/ 第/ i/ 条/ 测试/ 序列/ 的/ 长度/ ,/ Li/ (/ r/ )/ 表示/ 第/ i/ 条/ 序列/ 中/ 冗余/ 的/ 长度/ ,/ 若/ 第/ i/ 条/ 序列/ 满足/ 冗余/ 定义/ (/ 定义/ 15/ )/ ,/ 则/ Li/ (/ r/ )/ =/ Li/ ,/ 否则/ Li/ (/ r/ )/ =/ 0/ ./ 定义/ 20/ (/ 测试/ 集合/ 的/ 约简/ 率/ )/ ./ 测试/ 集合/ 的/ 约简/ 率/ RS/ 被/ 定义/ 为/ 其中/ Sq/ 表示/ 测试/ 集合/ 中/ 序列/ 的/ 总数/ ,/ Sq/ (/ r/ )/ 表示/ 测试/ 集合/ 中/ 被/ 约简/ 的/ 测试/ 序列/ 总数/ ./ 依据/ 式/ (/ 4/ )/ 和/ (/ 5/ )/ ,/ 本文/ 对/ 不同/ 方法/ 的/ 冗余/ 约简/ 效率/ 进行/ 了/ 评估/ ,/ 结果/ 如图/ 9/ 、/ 图/ 10/ 所示/ ./ 由于/ 模型/ PM/ 不/ 存在/ UIO/ 序列/ ,/ 因此/ UIO/ 方法/ 和/ UIOv/ 方法/ 不能/ 应用/ 在/ 模型/ PM/ 中/ ,/ 同理/ DS/ 方法/ 不能/ 应用/ 在/ 模型/ CM3/ 和/ EMAIL/ 中/ ./ 由图/ 9/ 、/ 图/ 10/ 可以/ 获得/ 一些/ 重要/ 信息/ :/ (/ 1/ )/ 本文/ 提出/ 的/ 冗余/ 约简/ 方法/ 对/ 大多数/ 基于/ FSM/ 的/ 测试方法/ 都/ 是/ 有效/ 的/ ./ 其中/ 对/ W/ 方法/ 、/ WpPage17/ 表/ 14T/ 方法/ 的/ 实验/ 结果/ 实验/ CM1/ 的/ 结果/ 111I/ ,/ II30I/ ,/ III60I/ ,/ II80I1100I/ ,/ II/ ,/ III151I/ ,/ II/ ,/ III215I/ ,/ II30I/ ,/ III60I/ ,/ II33I1100I/ ,/ II/ ,/ III69I323I/ ,/ II/ ,/ III30I/ ,/ III60I/ ,/ II38I/ ,/ II1100I/ ,/ II/ ,/ III177II/ ,/ III412I/ ,/ II30I/ ,/ III60I/ ,/ II25I/ ,/ II1100I/ ,/ II/ ,/ III143I/ ,/ II511III30I/ ,/ III60I/ ,/ II19I1100I/ ,/ II/ ,/ III132I/ ,/ II/ ,/ III/ 基于/ FSM/ 的/ 测试/ 应用/ 难点/ :/ (/ 1/ )/ 建立/ 有效/ 的/ 由表/ 14/ 可知/ ,/ T/ 方法/ 即/ 表现/ 出/ 一定/ 的/ 错误/ 探测/ FSM/ 模型/ ./ 当/ 软件/ 的/ 应用/ 复杂/ 时/ ,/ 模型/ 的/ 建立/ 将会/ 能力/ ,/ 又/ 表现/ 出/ 令人/ 难/ 已/ 接受/ 的/ 测试/ 序列/ 长度/ ./ 在/ 变得/ 非常/ 困难/ ,/ 因为/ 我们/ 需要/ 预知/ 所有/ 可能/ 的/ 状态/ 、/ 5/ 组/ 实验/ 中/ ,/ 随机/ 产生/ 的/ 测试/ 序列/ 都/ 不同/ 程度/ 地发/ 输入/ // 输出/ 信息/ 、/ 存在/ 的/ 迁移/ 约束/ 以及/ 模型/ 中/ 的/ 性现/ 系统/ 中/ 的/ 错误/ ,/ 而/ 对模型/ CM2/ 、/ CM3/ 和/ SIMS/ 的/ 质/ ,/ 同时/ 还/ 需要/ 考虑/ 建模/ 粒度/ 、/ 建模/ 工具/ 以及/ 模型/ 的/ 实验/ 中/ ,/ 序列/ 长度/ 均/ 为/ n/ (/ n/ -/ 1/ )/ ×/ |/ I/ |/ ,/ 这/ 表明/ 这/ 有效性/ ;/ (/ 2/ )/ 缺乏/ 通用/ 的/ 支持/ 工具/ ./ 虽然/ 目前/ 国内外/ 一/ 3/ 个/ 模型/ 的/ 实际/ 应用/ 中/ 可能/ 缺少/ MS/ 中/ 的/ 迁移/ ,/ 通过观察/ 实际/ 的/ 应用/ ,/ 我们/ 发现/ CM1/ 和/ CM3/ 的/ 应用/ 缺些/ 研究/ 人员/ 开发/ 了/ 若干/ 基于/ FSM/ 的/ 测试/ 支持/ 原型/ 工具/ [/ 5/ ,/ 13/ ,/ 27/ ]/ ,/ 但/ 这些/ 原型/ 工具/ 并/ 不能/ 完全/ 自动/ 的/ 由/ FSM/ 少/ 相应/ 的/ 迁移/ ;/ 而/ 对模型/ SIMS/ 的/ 实际/ 应用/ ,/ 由于/ 概/ 模型/ 产生/ 有效/ 的/ 测试用例/ ,/ 同时/ 不同/ 的/ 工具/ 原型/ 所率/ 问题/ ,/ 使得/ 其中/ 一条/ 迁移/ 无法/ 在/ n/ (/ n/ -/ 1/ )/ ×/ |/ I/ |/ 次/ 针对/ 的/ 应用领域/ 也/ 不同/ ,/ 因此/ 工具/ 不/ 具有/ 通用性/ ./ 被/ 覆盖/ ./ 另外/ 由/ 实验/ 可知/ ,/ 测试/ 序列/ 的/ 长度/ 是/ 变化/ 的/ ,/ 最大/ 长度/ 是/ 最/ 短/ 长度/ 的/ 2/ ~/ 3/ 倍/ ,/ 这/ 表明/ T/ 方法/ 现有/ 基于/ FSM/ 的/ 测试/ 研究/ 需要/ 一些/ 前提/ 和/ 假设/ ,/ 导致/ 了/ 基于/ FSM/ 的/ 测试方法/ 应用/ 的/ 限制/ ./ 表/ 15/ 测试/ 成本/ 的/ 稳定性/ 差/ ./ 显示/ 了/ 不同/ 测试方法/ 的/ 应用/ 条件/ 及/ 错误/ 探测/ 能力/ 的/ 6/ 讨论/ 分析/ ./ 虽然/ 文献/ [/ 4/ ]/ 认为/ W/ 方法/ 、/ Wp/ 方法/ 、/ DS/ 方法/ 和/ T/ 方法/ 需要/ MS/ 是/ 强/ 连通/ 的/ (/ 假设/ 3/ )/ ,/ 但/ 在/ 本文/ 的/ 实验/ 中/ ,/ 当/ MS/ 满足/ 可达性/ (/ 假设/ 3/ )/ 时/ ,/ 这些/ 方法/ 即可/ 应用/ ./ UIO/ 方法/ 和/ UIOv/ 方法/ 需要/ MS/ 是/ 强/ 连通/ 的/ ,/ 否则/ MS/ 不/ 存在/ UIO/ 序列/ ./ 表/ 15/ 中/ “/ -/ ”/ 表示/ 不能/ 确定/ ,/ l/ ./ st/ 表示/ 成本/ 最低/ ,/ l/ 表示/ 低成本/ ,/ m/ 表示/ 中等/ 成本/ ,/ h/ 表示/ 高/ 成本/ ,/ h/ ./ st/ 表示/ 最高/ 成本/ ./ 依据/ 上述/ 的/ 理论/ 讨论/ 及/ 实验/ 评估/ ,/ 本节/ 对/ 若干/ 基于/ FSM/ 的/ 测试方法/ 进行/ 讨论/ ,/ 重点/ 讨论/ 了/ 基于/ FSM/ 的/ 测试/ 应用/ 的/ 难点/ 、/ 应用/ 范围/ 、/ 测试/ 成本/ 和/ 错误/ 探测/ 能力/ ,/ 并/ 给出/ 了/ 一些/ 基于/ FSM/ 的/ 测试/ 的/ 经验/ 建议/ ./ 方法/ 、/ UIOv/ 方法/ 和/ R/ -/ Wp/ 方法/ 的/ 冗余/ 约简/ 效率/ 较/ 高/ ,/ 而/ 对/ DS/ 方法/ 的/ 冗余/ 约简/ 效率/ 相对/ 要/ 低/ ./ (/ 2/ )/ 在/ 协议/ 模型/ CM1/ 、/ CM2/ 和/ CM3/ 的/ 应用/ 中/ ,/ 冗余/ 约简/ 的/ 效率/ 要/ 明显/ 高于/ 对/ 程序/ 模型/ PM/ 和/ 实际/ 的/ 系统/ 模型/ SIMS/ 和/ EMAIL/ ./ 5.4/ T/ 方法/ 的/ 实验/ 本/ 节/ 实验/ 的/ 目的/ 是/ 为了/ 评估/ T/ 方法/ 的/ 测试/ 成本/ 和/ 错误/ 探测/ 能力/ ./ 在/ 实验/ 中/ ,/ 若/ MI/ 中/ 的/ 状态/ 比/ MS/ 中/ 的/ 迁移/ 少/ ,/ 则/ T/ 方法/ 产生/ 的/ 测试/ 序列/ 将/ 无法/ 通过/ 测试/ MI/ 而/ 获得/ 与/ MS/ 中/ 一样/ 的/ 迁移/ ./ 为此/ ,/ 在/ 实验/ 中/ 本文/ 为/ T/ 方法/ 增加/ 了/ 一条/ 终止/ 条件/ ,/ 即当/ 随机/ 产生/ n/ (/ n/ -/ 1/ )/ ×/ |/ I/ |/ 次测试/ 输入/ 时/ ,/ T/ 方法/ 强制/ 结束/ ./ 与/ 3.6/ 节中/ 的/ 计算机/ 模拟实验/ 不同/ ,/ 本节/ 的/ 实验/ 假定/ 错误/ 应用/ MI/ 不/ 可知/ ./ 本节/ 采用/ T/ 方法/ ,/ 分别/ 由/ 模型/ CM1/ 、/ CM2/ 、/ CM3/ 、/ PM/ 、/ SIMS/ 产生/ 5/ 组/ 测试/ 序列/ ,/ 比较/ 各组/ 测试用例/ 的/ 长度/ 及/ 探测/ 到/ 的/ 错误/ 类型/ ./ 实验/ 结果/ 如表/ 14/ 所示/ ./ PM/ 的/ 结果/ 长度/ 错误/ 类型/ Page18/ 些/ 经验/ 建议/ :/ 比较/ 项目/ 假设/ 成本/ 错误/ 探测/ 能力/ 算法/ 时间/ 复杂度/ 状态/ 覆盖/ 2/ ,/ 3/ ,/ 7/ ,/ 8l/ ./ stI/ ,/ IIO/ (/ n3/ )/ 迁移/ 覆盖/ 2/ ,/ 3/ ,/ 7/ ,/ 8lI/ ,/ IIO/ (/ n3/ )/ W1/ ,/ 2/ ,/ 3/ ,/ 4/ ,/ 7hI/ ,/ IIO/ (/ n3/ )/ Wp1/ ,/ 2/ ,/ 3/ ,/ 4/ ,/ 7hI/ ,/ IIO/ (/ n3/ )/ UIO1/ ~/ 4/ ,/ 7mI/ ,/ IIO/ (/ n4/ )/ UIOv1/ ~/ 4/ ,/ 7hI/ ,/ IIO/ (/ n4/ )/ DS1/ ,/ 2/ ,/ 3/ ,/ 4/ ,/ 7mI/ ,/ IIR/ -/ Wp1/ ,/ 2/ ,/ 3/ ,/ 7h/ ./ stI/ ,/ II/ ,/ IIIO/ (/ n3/ )/ T1/ ,/ 2/ ,/ 3/ -/ I/ ,/ II/ ,/ III/ 依据/ 表/ 15/ ,/ 本文/ 给出/ 了/ 基于/ FSM/ 的/ 测试/ 的/ 一/ (/ 1/ )/ 若/ 不/ 计较/ 测试/ 成本/ ,/ 建议/ 选择/ R/ -/ Wp/ 方法/ 进行/ 软件测试/ ./ 虽然/ R/ -/ Wp/ 方法/ 并/ 不能/ 保证/ 探测/ 出/ 所有/ 的/ 错误/ ,/ 但/ 对比/ 其它/ 方法/ ,/ 该/ 方法/ 的/ 错误/ 探测/ 率/ 最高/ ./ (/ 2/ )/ 若/ 测试/ 成本/ 受限/ 时/ ,/ 当/ 状态/ 信息/ 可/ 获得/ 时/ ,/ 建议/ 选择/ 迁移/ 覆盖/ 方法/ ;/ 当/ 状态/ 不能/ 获得/ 时/ ,/ 建议/ 选择/ UIO/ 方法/ 或/ DS/ 方法/ ./ (/ 3/ )/ 综合/ 考虑/ 测试/ 成本/ 和/ 错误/ 探测/ 能力/ ,/ 我们/ 建议/ 采用/ 组合/ 测试/ ./ 当/ 状态/ 信息/ 可/ 获得/ 时/ ,/ 建议/ 选择/ 迁移/ 覆盖/ 方法/ 与/ T/ 方法/ 进行/ 组合/ 测试/ ;/ 当/ 状态/ 信息/ 不能/ 获得/ 时/ ,/ 建议/ 选择/ Wp/ 方法/ 或/ UIOv/ 方法/ 与/ T/ 方法/ 进行/ 组合/ 测试/ ./ 7/ 相关/ 工作/ 基于/ FSM/ 模型/ 的/ 测试/ 已/ 被/ 广泛/ 研究/ ,/ 形成/ 了/ 一系列/ 的/ 测试/ 生成/ 方法/ 及/ 相关/ 理论/ ,/ 但/ 工业界/ 却/ 很少/ 在/ 实际/ 中/ 应用/ 这些/ 理论/ 成果/ [/ 1/ ,/ 28/ ]/ ./ 为/ 搭建/ 由/ 理论/ 研究/ 领域/ 通往/ 工业界/ 应用领域/ 的/ 桥梁/ ,/ 研究/ 人员/ 对/ 基于/ (/ FSM/ )/ 模型/ 的/ 测试/ 进行/ 综述/ 和/ 评估/ ./ Sidhu/ 等/ 人/ [/ 4/ ]/ 以/ 运输/ 协议/ 为例/ ,/ 学习/ 了/ 若干/ 基于/ FSM/ 的/ 测试方法/ ./ 实验/ 表明/ ,/ UIO/ 方法/ 、/ DS/ 方法/ 和/ W/ 方法/ 在/ 强/ 一致性/ 测试/ (/ strongconformancetest/ )/ 中/ 能够/ 探测/ 所有/ 的/ 错误/ ,/ 而/ T/ 方法/ 并/ 不能/ 发现/ 所有/ 的/ 错误/ ,/ 且/ 测试/ 序列/ 集中/ 存在/ 大量/ 的/ 冗余/ ./ 然而/ ,/ 在/ 我们/ 的/ 实验/ 中/ UIO/ 方法/ 的/ 错误/ 探测/ 能力/ 比/ W/ 方法/ 弱/ ,/ 且/ UIO/ 方法/ 和/ DS/ 方法/ 都/ 存在/ 失效/ 的/ 情况/ ./ 我们/ 认为/ 其/ 原因/ 是/ Sidhu/ 等/ 人/ 的/ 实验/ 案例/ 是/ 一个/ 个案/ ,/ 因此/ 实验/ 结果/ 不/ 具有/ 代表性/ ,/ 同样/ 强/ 一致性/ 测试/ 中/ 的/ 错误/ 类型/ 也/ 较/ 实际/ 软件/ 中/ 的/ 错误/ 类型/ 少/ ./ Dalal/ 等/ 人/ [/ 5/ ]/ 利用/ 一个/ 基于/ 模型/ 的/ 测试/ 支持/ 工具/ 测试/ 了/ 4/ 个/ 实际/ 项目/ ,/ 并/ 讨论/ 了/ 实现/ 基于/ 模型/ 的/ 测试/ 时/ 的/ 注意事项/ ./ 然而/ 测试/ 支持/ 工具/ 仅/ 支持/ 特定/ 建模语言/ AETGSpec/ ,/ 而/ 非/ 理论/ 研究/ 非常/ 成熟/ 的/ 有限/ 自动机/ ./ Broy/ 等/ 人/ [/ 6/ ]/ 综述/ 了/ 若干/ 基于/ FSM/ 的/ 测试/ 生成/ 方法/ ,/ 讨论/ 了/ 方法/ 的/ 理论/ 基础/ ,/ 但/ 缺乏/ 相关/ 的/ 实验/ 比较/ 和/ 评估/ ./ 另外/ ,/ 文中/ 的/ 算法/ 并/ 不/ 完善/ ,/ 部分/ 算法/ 难以/ 应用/ ./ Neto/ 等/ 人/ [/ 3/ ,/ 7/ ,/ 28/ ]/ 利用/ 网上/ 5/ 大/ 数字/ 图书馆/ 资源/ ,/ 对/ 基于/ 模型/ 的/ 测试/ 的/ 论文/ 进行/ 统计/ ,/ 讨论/ 了/ 现有/ 研究/ 工作/ 状况/ 、/ 分类/ 、/ 工具/ 支持/ 及/ 不同/ 方法/ 的/ 特性/ 等/ ,/ 这些/ 都/ 为/ 工业/ 应用/ 提供/ 了/ 参考价值/ ./ 然而/ 他们/ 的/ 研究/ 并/ 没有/ 比较/ 各种/ 测试方法/ 的/ 好坏/ ,/ 判断/ 一种/ 基于/ 模型/ 的/ 测试方法/ 好坏/ 的/ 依据/ 是/ 能否/ 有/ 相应/ 的/ 工具/ 支持/ ./ Mohagheghi/ 等/ 人/ [/ 29/ ]/ 对/ 基于/ 模型/ 的/ 测试/ 中/ 模型/ 的/ 质量/ 提出/ 了/ 6/ 个/ 评价/ 指标/ :/ 正确性/ 、/ 完整性/ 、/ 一致性/ 、/ 可/ 理解/ 性/ 、/ 工具/ 支持性/ 和/ 局限性/ ./ Pretschner/ 等/ 人/ [/ 30/ ]/ 提出/ 了/ 基于/ 模型/ 的/ 测试/ 有/ 3/ 个/ 关键因素/ :/ 描述/ 软件/ 行为/ 的/ 模型/ 、/ 支持/ 测试/ 生成/ 的/ 工具/ 和/ 测试/ 生成/ 算法/ (/ 准则/ )/ ,/ 并/ 对/ 前/ 两项/ 关键因素/ 进行/ 了/ 讨论/ ./ Dorofeeva/ 等/ 人/ [/ 31/ ]/ 采用/ 实例/ 学习/ 了/ 多种/ 测试/ 生成/ 方法/ ,/ 评估/ 了/ 测试/ 序列/ 的/ 总长度/ ,/ 但/ 并未/ 对/ 错误/ 探测/ 能力/ 进行/ 讨论/ 及/ 测试/ 成本/ 进行/ 定量/ 的/ 分析/ ./ Ammann/ 等/ 人/ [/ 8/ ]/ 对/ 若干/ 基于/ FSM/ 的/ 测试/ 覆盖/ 准则/ 进行/ 了/ 评估/ ,/ 但/ 缺少/ 对/ 不同/ 准则/ 的/ 实现/ 算法/ ./ 与/ 现有/ 基于/ FSM/ 模型/ 的/ 测试/ 评估/ 不同/ ,/ 本文/ 讨论/ 并/ 完善/ 了/ 基于/ FSM/ 的/ 测试方法/ 的/ 理论/ 和/ 若干/ 实现/ 算法/ ,/ 从/ 多个/ 角度/ 对/ 若干/ 基于/ FSM/ 的/ 测试方法/ 进行/ 实验/ 比较/ ./ 为了/ 实现/ 比较/ 的/ 客观性/ 和/ 可操作性/ ,/ 本文/ 提出/ 了/ 实验/ 评估/ 的/ 5/ 项/ 量化/ 指标/ ./ 另/ 一项/ 与/ 本文/ 研究/ 工作/ 相关/ 的/ 是/ 测试/ 序列/ 集合/ 的/ 冗余/ 约简/ ./ 早期/ 关于/ 测试用例/ 集合/ 的/ 约简/ 技术/ 主要/ 是/ 采用/ 一些/ 启发式/ 算法/ [/ 32/ -/ 33/ ]/ 选取/ 测试/ 有效/ 的/ 用例/ ,/ 随后/ 聂/ 长海/ 等/ 人/ [/ 34/ ]/ 提出/ 利用/ 需求/ 间/ 的/ 相互/ 关系/ 对/ 测试/ 集合/ 进行/ 约简/ ,/ 这些/ 研究/ 非常适合/ 回归/ 测试/ 中/ 的/ 冗余/ 约简/ ,/ 而/ 并/ 不/ 适合/ 基于/ FSM/ 的/ 测试/ 序列/ 集合/ 的/ 约简/ ./ 一些/ 研究者/ 提出/ 利用/ 序列/ 的/ 重叠/ (/ overlap/ )/ [/ 12/ ,/ 35/ ]/ 部分/ 对/ 测试/ 序列/ 集合/ 进行/ 合并/ ,/ 但/ 这种/ 约简/ 技术/ 并未/ 考虑/ 到/ 约简/ 前后/ 测试/ 序列/ 集合/ 的/ 错误/ 探测/ 能力/ ./ 我们/ 之前/ 研究/ 了/ 由/ 测试/ 覆盖/ 准则/ 产生/ 测试/ 序列/ 集合/ 的/ 冗余/ 约简/ [/ 13/ ]/ ,/ 提出/ 了/ 利用/ 字符串/ 匹配/ 方式/ 的/ 冗余/ 约简/ 方法/ ,/ 该/ 方法/ 能够/ 保证/ 约简/ 前后/ 都/ 满足/ 某项/ 测试/ 覆盖/ 准则/ ./ 与/ 之前/ 的/ 研究/ 不同/ ,/ 本文/ 的/ 研究/ 保证/ 了/ 约简/ 前后/ 测试/ 序列/ 集合/ 拥有/ 相同/ 的/ 错误/ 探测/ 能力/ ./ 8/ 结论/ 基于/ FSM/ 的/ 测试/ 能够/ 由/ 描述/ 软件/ 行为/ 的/ 模型/ 自动/ 产生/ 测试/ 序列/ 集合/ ,/ 极大/ 地/ 降低/ 了/ 测试用例/ 设计/ 的/ 成本/ ./ 然而/ 由于/ 现有/ 理论/ 的/ 不/ 完善/ 及/ 通用性/ 支持/ 工具/ 的/ 缺乏/ ,/ 目前/ 基于/ FSM/ 的/ 测试/ 还/ 未/ 在/ 工业界/ 得到/ 广泛/ 的/ 应用/ ./ 为/ 提高/ 软件/ 自动化/ 测试/ 的/ 水平/ ,/ Page19/ 推广/ 基于/ FSM/ 的/ 测试/ 在/ 工业界/ 的/ 应用/ ,/ 本文/ 对/ 基于/ FSM/ 的/ 测试/ 理论/ 和/ 方法/ 进行/ 了/ 补充/ 及/ 实验/ 评估/ ./ 本文/ 的/ 主要/ 贡献/ 如下/ :/ (/ 1/ )/ 补充/ 了/ 基于/ FSM/ 模型/ 的/ 测试/ 理论/ ,/ 如/ 提出/ 了/ 区分序列/ 的/ 构造/ 理论/ 及/ 测试/ 序列/ 集合/ 冗余/ 约简/ 的/ 理论/ ;/ (/ 2/ )/ 改进/ 并/ 实现/ 了/ 相关/ 的/ 基于/ FSM/ 的/ 测试/ 生成/ 算法/ ;/ (/ 3/ )/ 提出/ 了/ 对/ 基于/ FSM/ 的/ 测试/ 评估/ 的/ 5/ 项/ 量化/ 指标/ ,/ 实验/ 评估/ 了/ 若干/ 基于/ FSM/ 的/ 测试方法/ ,/ 并/ 给出/ 了/ 应用/ 这种/ 测试方法/ 的/ 相关/ 经验性/ 建议/ ./ 测试/ 支持/ 工具/ 是/ 基于/ FSM/ 的/ 测试方法/ 应用/ 的/ 一项/ 重要/ 指标/ ./ 我们/ 已经/ 开发/ 了/ 一个/ 基于/ FSM/ 的/ 、/ 面向/ Web/ 应用/ 的/ 测试/ 原型/ 工具/ ,/ 将来/ 的/ 主要/ 工作/ 是/ 开发/ 一个/ 通用/ 的/ 、/ 基于/ FSM/ 的/ 测试/ 支持/ 工具/ ,/ 包括/ FSM/ 的/ 建模/ 、/ 测试/ 生成/ 、/ 测试/ 执行/ 和/ 测试/ 评估/ 等/ ,/ 以便/ 更好/ 地/ 推广/ 基于/ FSM/ 的/ 测试方法/ ./ 

