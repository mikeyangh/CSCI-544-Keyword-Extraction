Page1Petri/ 网/ 的/ 符号/ ZBDD/ 可达树/ 分析/ 技术/ 李凤英/ 1/ )/ ,/ 2/ )/ 古/ 天龙/ 2/ )/ 徐/ 周波/ 1/ )/ ,/ 2/ )/ 1/ )/ (/ 西安电子科技大学/ 电子/ 工程学院/ 西安/ 710071/ )/ 2/ )/ (/ 桂林/ 电子科技/ 大学/ 计算机/ 学院/ 广西/ 桂林/ 541004/ )/ 摘要/ Petri/ 网是/ 一种/ 适合/ 于/ 并发/ 系统/ 建模/ 、/ 分析/ 和/ 控制/ 的/ 图形/ 工具/ ./ 可达树/ 是/ Petri/ 网/ 分析/ 的/ 典型/ 技术/ 之一/ ,/ 它/ 通过/ 标识/ 向量/ 集合/ 表征/ 系统/ 的/ 状态/ 空间/ ,/ 组合/ 复杂性/ 严重/ 制约/ 了/ 该/ 分析/ 技术/ 可/ 处理/ 系统/ 问题/ 的/ 规模/ ./ 零/ 压缩/ 决策/ 图/ (/ Zero/ -/ SuppressedBinaryDecisionDiagrams/ ,/ ZBDD/ )/ 是/ 一种/ 新型/ 的/ 数据结构/ ,/ 是/ 表示/ 和/ 处理/ 稀疏/ 向量/ 集合/ 的/ 一种/ 有效/ 技术/ ./ 文章/ 基于/ Petri/ 网可达/ 标识/ 向量/ 的/ 稀疏/ 特征/ ,/ 给出/ 了/ Petri/ 网/ 分析/ 的/ 符号/ ZBDD/ 技术/ ,/ 该/ 技术/ 通过/ 对/ 标识/ 向量/ (/ 状态/ )/ 的/ 布尔/ 向量/ 表示/ 、/ 可/ 达/ 标识/ 向量/ (/ 状态/ )/ 的/ 符号/ ZBDD/ 生成/ ,/ 实现/ Petri/ 网可达/ 状态/ 空间/ 的/ 高效/ 符号/ 操作/ 和/ 紧凑/ 符号/ 表示/ ./ 实验/ 表明/ ,/ 基于/ ZBDD/ 的/ 符号/ 可达性/ 分析/ 算法/ 能够/ 有效/ 处理/ 较/ 大规模/ Petri/ 网/ 问题/ ./ 关键词/ Petri/ 网/ ;/ 零/ 压缩/ 二叉/ 决策/ 图/ ;/ 可达树/ ;/ 状态/ 空间/ 1/ 引言/ Petri/ 网是/ 一种/ 适于/ 对/ 具有/ 异步/ 、/ 并发/ 特征/ 的/ 离散/ 事件/ 系统/ 进行/ 模拟/ 、/ 分析/ 、/ 设计/ 和/ 控制/ 的/ 图形/ 数学/ 工具/ ,/ 已/ 在/ 制造/ 系统/ 、/ 通信/ 网络/ 、/ 数字电路/ 综合/ 与/ 验证/ 等/ 领域/ 得到/ 了/ 广泛应用/ [/ 1/ -/ 3/ ]/ ./ Petri/ 网/ 分析/ 是/ 其/ 应用/ 中/ 的/ 一个/ 关键环节/ ,/ 现有/ 的/ Petri/ 网/ 分析方法/ 主要/ 有/ 可达树/ 、/ 状态方程/ 以及/ 结构化/ 简等/ ./ 可达树/ 方法/ 通过/ 枚举/ 方式/ 穷尽/ 生成/ Petri/ 网/ 的/ 所有/ 可/ 达/ 标识/ 向/ Page2/ 量/ ,/ 并/ 以/ 树结构/ 形式/ 表示/ Petri/ 网/ 的/ 可达/ 状态/ 空间/ ,/ 进而/ 判定/ 相应/ 的/ 活性/ 、/ 安全性/ 、/ 有界性/ 、/ 可达性/ 等/ 性质/ ./ 对于/ 有界/ Petri/ 网/ ,/ 可达树/ 方法/ 是/ 一种/ 有效/ 和/ 实用/ 的/ 技术/ ;/ 对于/ 无界/ Petri/ 网/ ,/ 则/ 需要/ 采用/ 可达树/ 方法/ 的/ 扩展/ 技术/ —/ —/ —/ 可达图/ 方法/ ./ 该类/ 方法/ 的/ 局限性/ 在于/ :/ 状态/ 组合/ 复杂性/ 制约/ 了/ 可/ 处理/ Petri/ 网/ 模型/ 的/ 规模/ ;/ 状态方程/ 方法/ 通过/ Petri/ 网/ 的/ 关联矩阵/ 建立/ 标识/ 向量/ 和/ 迁移/ 引发/ 向量/ 之间/ 的/ 矩阵/ 代数方程/ ,/ 基于/ 矩阵/ 代数方程/ 求解/ Petri/ 网/ 的/ 位置/ (/ 迁移/ )/ 不/ 变量/ ,/ 根据/ 不/ 变量/ 的/ 特征/ 来/ 判定/ Petri/ 网/ 的/ 一些/ 性质/ ./ 该/ 方法/ 适合/ 于/ 特殊/ 结构/ Petri/ 网/ ,/ 且/ 随着/ Petri/ 网/ 模型/ 规模/ 的/ 增大/ 关联矩阵/ 的/ 维数/ 也/ 随之/ 增大/ ,/ 对于/ 大规模/ Petri/ 网/ 的/ 处理/ 也/ 会/ 带来/ 不便/ ;/ 结构化/ 简/ 方法/ 通过/ 合并/ 特殊/ 的/ 位置/ 、/ 迁移/ 或/ 结构/ ,/ 在/ 保持/ 一定/ 性质/ 不变/ 的/ 前提/ 下来/ 降低/ Petri/ 网/ 的/ 规模/ ./ 该/ 方法/ 要求/ 所/ 处理/ Petri/ 网/ 具有/ 特定/ 的/ 结构/ ,/ 一般/ 作为/ 前/ 两种/ 方法/ 的/ 辅助/ 技术/ 使用/ ./ 在/ Petri/ 网/ 模型/ 中/ ,/ 由/ 系统/ 自身/ 的/ 并发/ 特性/ 和/ 状态/ 迁移/ 的/ 语义/ 交织/ 引起/ 的/ 状态/ 组合/ 复杂性/ ,/ 是/ Petri/ 网/ 分析/ 技术/ 中/ 的/ 一个/ 瓶颈/ 问题/ ,/ 严重/ 制约/ 了/ Petri/ 网/ 的/ 应用/ [/ 4/ ]/ ./ 状态/ 组合/ 复杂性/ 一直/ 是/ 计算机科学/ 和/ 应用/ 人员/ 关注/ 的/ 一个/ 重要/ 问题/ ./ 减缓/ 或者/ 部分/ 程度/ 上/ 避免/ 状态/ 组合/ 复杂性/ 问题/ 的/ 一种/ 可行/ 策略/ 是/ :/ 状态/ 的/ 符号/ 或者/ 隐式/ 描述/ ./ 有序/ 二叉/ 决策/ 图/ (/ OrderedBinaryDecisionDiagram/ ,/ OBDD/ )/ 则/ 是/ 迄今为止/ 最为/ 有效/ 的/ 符号/ 技术/ 之一/ [/ 5/ -/ 6/ ]/ ./ OBDD/ 为/ 布尔/ 函数/ 提供/ 了/ 一种/ 有效/ 和/ 规范/ 的/ 描述/ 方法/ ,/ 同时/ ,/ 布尔/ 函数/ 的/ 所有/ 复杂/ 运算/ 都/ 可以/ 基于/ OBDD/ 数据结构/ 得到/ 极大/ 地/ 简化/ 实现/ ./ 尽管/ ,/ OBDD/ 技术/ 并/ 不能/ 克服/ 所有/ 应用/ 中/ 的/ 状态/ 组合/ 爆炸/ ,/ 但/ 确实/ 解决/ 了/ 许多/ 无法/ 解决/ 的/ 大规模/ 状态/ 应用/ 问题/ (/ 如/ ,/ OBDD/ 可/ 处理/ 具有/ 1020/ 状态/ 的/ 应用/ 系统/ ,/ 而/ 显式/ 枚举/ 所/ 能/ 处理/ 的/ 系统/ 状态/ 为/ 103/ ~/ 106/ )/ ./ Pastor/ 等/ 建立/ 了/ 基于/ 有序/ OBDD/ 的/ Petri/ 网/ 符号分析/ 方法/ ,/ 其实质/ 是/ 用/ OBDD/ 表示/ Petri/ 网/ 标识/ 集/ 的/ 特征函数/ ,/ 对/ Petri/ 网/ 的/ 各种/ 性能/ 进行/ 分析/ ./ 该/ 方法/ 适用/ 于/ 有界/ Petri/ 网/ ,/ 为/ 大规模/ Petri/ 网/ 模型/ 的/ 分析/ 探索/ 了/ 一条/ 新/ 的/ 有效途径/ [/ 7/ -/ 8/ ]/ ./ 零/ 压缩/ 二叉/ 决策/ 图/ (/ Zero/ -/ SuppressedBinaryDecisionDiagrams/ ,/ ZBDD/ )/ 是/ OBDD/ 的/ 一种/ 扩展/ 形式/ ,/ 是/ 描述/ 和/ 操作/ 稀疏/ 二进制/ 向量/ 的/ 高效/ 技术/ [/ 9/ -/ 11/ ]/ ./ 在/ ZBDD/ 技术/ 中/ ,/ ZBDD/ 的/ 结点/ 数/ 取决于/ 二进制/ 向量/ 集合/ 中/ 1/ 的/ 个数/ ./ 在/ Petri/ 网中/ ,/ 位置/ 中/ 的/ 令牌/ (/ token/ )/ 对应/ 于/ 标识/ 向量/ 中非/ 零/ 元素/ ,/ 并且/ Petri/ 网/ 的/ 标识/ 向量/ 具有/ 稀疏/ 特征/ ./ 鉴于/ 此/ ,/ 我们/ 建立/ 了/ 基于/ ZBDD/ 的/ Petri/ 网/ T/ ≠/ / )/ ;/ 3/ ,/ …/ }/ )/ ,/ 即/ 关系/ 弧/ 的/ 权重/ ;/ 无穷大/ 数/ )/ ;/ 符号/ 可达树/ 分析/ 技术/ ,/ 给出/ 了/ Petri/ 网/ 的/ 符号/ ZBDD/ 表示/ 、/ 可/ 达/ 标识/ 向量/ 生成/ 算法/ ./ 算例/ 仿真/ 结果表明/ 了/ 符号/ ZBDD/ 分析/ 技术/ 的/ 有效性/ ./ 2/ 预备/ 知识/ 2.1/ Petri/ 网/ 〈/ P/ ,/ T/ ,/ F/ ,/ W/ ,/ K/ ,/ M0/ 〉/ ,/ 其中/ ,/ 定义/ 1/ ./ 一个/ Petri/ 网/ 定义/ 为/ 六元/ 组/ :/ PN/ =/ P/ =/ {/ p1/ ,/ p2/ ,/ …/ ,/ pn/ }/ 为/ 位置/ 集合/ ;/ T/ =/ {/ t1/ ,/ t2/ ,/ …/ ,/ tm/ }/ 为/ 迁移/ 集合/ (/ P/ ∩/ T/ =/ / ,/ P/ ∪/ F/ / (/ P/ ×/ T/ )/ ∪/ (/ T/ ×/ P/ )/ 为流/ 关系/ (/ 关系/ 弧/ )/ ;/ W/ :/ F/ →/ Z/ +/ 为流/ 关系/ 的/ 权函数/ (/ Z/ +/ =/ {/ 1/ ,/ 2/ ,/ K/ :/ P/ →/ Z/ +/ ∪/ {/ ω/ }/ ,/ 是/ 位置/ 上/ 的/ 容量/ 函数/ (/ ω/ 为/ 犕/ 0/ :/ 为/ 初始/ 标识/ 向量/ ./ 一个/ 标识/ 向量/ 是/ 一个/ 函数/ M/ :/ P/ →/ Z/ +/ ∪/ {/ 0/ }/ ,/ 表示/ 位置/ 中/ 令牌/ 的/ 分布/ 情况/ ./ 定义/ 2/ ./ 对于/ t/ ∈/ T/ ,/ p/ ∈/ P/ ,/ 令/ ·/ t/ =/ {/ p/ |/ (/ p/ ,/ t/ )/ ∈/ F/ }/ ,/ t/ ·/ =/ {/ p/ |/ (/ t/ ,/ p/ )/ ∈/ F/ }/ ,/ ·/ p/ =/ {/ t/ |/ (/ t/ ,/ p/ )/ ∈/ F/ }/ ,/ p/ ·/ =/ {/ t/ |/ (/ p/ ,/ t/ )/ ∈/ F/ }/ ,/ 则/ 称/ t/ ·/ (/ ·/ p/ )/ 为/ 迁移/ t/ (/ 位置/ p/ )/ 的/ 前集/ 或/ 输入/ 集/ ,/ t/ ·/ (/ p/ ·/ )/ 为/ 迁移/ t/ (/ 位置/ p/ )/ 的/ 后集/ 或/ 输出/ 集/ ./ Petri/ 网中/ 位置/ 是/ 静态/ 的/ ,/ 迁移/ 是/ 动态/ 的/ ./ 迁移/ 的/ 引发/ 将/ 使/ 位置/ 中/ 令牌/ 的/ 分布/ 发生变化/ ,/ 即/ 产生/ 新/ 的/ 标识/ ./ 迁移/ t1/ ,/ t2/ ,/ …/ ,/ tr/ 的/ 依次/ 引发/ ,/ 将/ 使/ 标识/ 依次/ 发生变化/ M0/ ,/ M1/ ,/ …/ ,/ Mr/ ,/ 相应/ 地/ 产生/ 一/ 引发/ 序列/ σ/ =/ M0t1M1t2/ …/ trMr/ ,/ 或/ 简记/ 为/ σ/ =/ t1t2/ …/ tr/ ,/ 并称/ 标识/ Mr/ 是从/ M0/ 引发/ σ/ 可达/ 的/ ,/ 记为/ M0/ [/ σ/ 〉/ Mr/ 或/ Mr/ ∈/ [/ M0/ 〉/ ./ 定义/ 3/ ./ 在/ 一个/ 具有/ 初始/ 标识/ M0/ 的/ Petri/ 网中/ ,/ 位置/ p/ ∈/ P/ 为/ k/ -/ 有界/ 的/ (/ k/ ∈/ Z/ +/ )/ ,/ 当且/ 仅/ 当/ / M/ ∈/ [/ M0/ 〉/ :/ M/ (/ p/ )/ / k/ ./ 一个/ Petri/ 网为/ k/ -/ 有界/ 的/ ,/ 当且/ 仅/ 当/ Petri/ 网中/ 每/ 一/ 位置/ 都/ 是/ k/ -/ 有界/ ./ Petri/ 网是/ 安全/ 的/ ,/ 当且/ 仅/ 当/ 它/ 是/ 1/ -/ 有界/ 的/ ./ 显然/ ,/ 对于/ 安全/ Petri/ 网/ ,/ 对于/ / M/ ∈/ [/ M0/ 〉/ 有/ :/ M/ (/ p/ )/ / 1/ ,/ 且/ 每条/ 弧上/ 的/ 权重/ 为/ 1/ ,/ 所以/ 安全/ Petri/ 网/ 可以/ 简写/ 为/ 四元组/ :/ PN/ =/ 〈/ P/ ,/ T/ ,/ F/ ,/ M0/ 〉/ ./ 定义/ 4/ (/ 迁移/ 的/ 使/ 能/ 条件/ )/ ./ 如果/ / p/ ∈/ ·/ t/ 有/ M/ (/ p/ )/ / W/ (/ p/ ,/ t/ )/ ,/ 且/ / p/ ∈/ t/ ·/ 有/ M/ (/ p/ )/ / K/ (/ p/ )/ -/ W/ (/ t/ ,/ p/ )/ ,/ 则/ 称/ 迁移/ t/ 是/ 使/ 能/ 的/ 或者/ 具有/ 引发/ 权/ ./ 定义/ 5/ (/ 迁移/ 的/ 引发/ 规则/ )/ ./ 在/ 标识/ M/ 下/ ,/ 使能/ 迁移/ t/ 的/ 引发/ 将/ 产生/ 新/ 的/ 标识/ M/ ,/ 记为/ M/ [/ t/ 〉/ M/ :/ M/ (/ p/ )/ =/ M/ (/ p/ )/ -/ W/ (/ p/ ,/ t/ )/ +/ W/ (/ t/ ,/ p/ )/ ./ Page32/ ./ 2/ 零/ 压缩/ 二叉/ 决策/ 图/ 对于/ 从/ {/ 0/ ,/ 1/ }/ n/ 到/ {/ 0/ ,/ 1/ }/ 的/ 布尔/ 函数/ f/ (/ x1/ ,/ x2/ ,/ …/ ,/ xn/ )/ ,/ 若/ 第/ i/ 个/ 分量/ xi/ 取值/ 为/ 0/ 或/ 1/ ,/ 则/ 得到/ {/ 0/ ,/ 1/ }/ n/ -/ 1/ 到/ {/ 0/ ,/ 1/ }/ 的/ 布尔/ 函数/ f/ (/ x1/ ,/ …/ ,/ xi/ -/ 1/ ,/ 1/ ,/ xi/ +/ 1/ ,/ …/ ,/ xn/ )/ 或/ f/ (/ x1/ ,/ …/ ,/ xi/ -/ 1/ ,/ 0/ ,/ xi/ +/ 1/ ,/ …/ ,/ xn/ )/ ,/ 简记/ 为/ fxi/ 或/ fxi/ ./ 布尔/ 函数/ fxi/ 和/ fxi/ 分别/ 称为/ 布尔/ 函数/ f/ (/ x1/ ,/ x2/ ,/ …/ ,/ xn/ )/ 关于/ 变量/ xi/ 的/ 1/ -/ 分量/ (/ xi/ 分量/ )/ 和/ 0/ -/ 分量/ (/ xi/ 分量/ )/ ./ 定义/ 6/ ./ 对于/ 从/ {/ 0/ ,/ 1/ }/ n/ 到/ {/ 0/ ,/ 1/ }/ 的/ 布尔/ 函数/ f/ (/ x1/ ,/ x2/ ,/ …/ ,/ xn/ )/ 和/ 给定/ 变量/ 序/ π/ (/ 即/ x1/ ,/ x2/ ,/ …/ ,/ xn/ 是/ 有/ 顺序/ 的/ )/ ,/ 有序/ 二叉/ 决策/ 图/ (/ OBDD/ )/ 是/ 一个/ 无环/ 有向图/ ,/ 它/ 满足/ :/ ①/ OBDD/ 中/ 结点/ 分为/ 根/ 结点/ 、/ 终结/ 点/ 和/ 内部/ 结点/ 三类/ ;/ ②/ 终结/ 点仅/ 有/ 两个/ ,/ 分别/ 标记/ 为/ 0/ 和/ 1/ ,/ 并/ 表示/ 布尔/ 常量/ 0/ 和/ 1/ ;/ ③/ 根/ 结点/ 和/ 内部/ 结点/ 具有/ 四元组/ 属性/ (/ pointer/ (/ u/ )/ ,/ var/ (/ u/ )/ ,/ low/ (/ u/ )/ ,/ high/ (/ u/ )/ )/ ,/ 其中/ ,/ pointer/ (/ u/ )/ 表示/ 结点/ u/ 所/ 对应/ 的/ 布尔/ 函数/ (/ 对于/ 根/ 结点/ u/ ,/ pointer/ (/ u/ )/ =/ f/ (/ x1/ ,/ x2/ ,/ …/ ,/ xn/ )/ )/ ;/ var/ (/ u/ )/ 表示/ 结点/ u/ 的/ 标记/ 变元/ (/ 根/ 结点/ u/ 的/ 标记/ 变元/ 为/ 变量/ 序/ π/ 中/ 的/ 第一个/ 变量/ )/ ;/ low/ (/ u/ )/ 表示/ 结点/ u/ 的/ 0/ 分枝/ 子/ 结点/ ,/ 对应/ 于/ 该/ 结点/ 布尔/ 函数/ pointer/ (/ u/ )/ 中变/ 元/ var/ (/ u/ )/ 取/ 0/ 值后/ 的/ 布尔/ 函数/ ;/ high/ (/ u/ )/ 表示/ 结点/ u/ 的/ 1/ 分枝/ 子/ 结点/ ,/ 对应/ 于/ 该/ 结点/ 布尔/ 函数/ pointer/ (/ u/ )/ 中变/ 元/ var/ (/ u/ )/ 取/ 1/ 值后/ 的/ 布尔/ 函数/ ;/ ④/ 根/ 结点/ 和/ 内部/ 结点/ 均/ 具有/ 两个/ 输出/ 分枝/ 弧/ ,/ 将/ 它们/ 和/ 各自/ 的/ 两个/ 分枝/ 子/ 结点/ 联系/ 在/ 一起/ ./ 结点/ u/ 和/ low/ (/ u/ )/ 的/ 连接/ 弧/ 称为/ 0/ -/ 边/ ,/ 结点/ u/ 和/ high/ (/ u/ )/ 的/ 连接/ 弧/ 称为/ 1/ -/ 边/ ,/ 且/ 满足/ :/ 对于/ 结点/ u/ ,/ low/ (/ u/ )/ ≠/ high/ (/ u/ )/ ;/ 对于/ var/ (/ u/ )/ =/ var/ (/ v/ )/ 的/ 不同/ 结点/ u/ 和/ v/ ,/ 则/ low/ (/ u/ )/ ≠/ low/ (/ v/ )/ 或者/ high/ (/ u/ )/ ≠/ high/ (/ v/ )/ ;/ ⑤/ 任一/ 有/ 向/ 路径/ 上/ ,/ 布尔/ 函数/ f/ (/ x1/ ,/ x2/ ,/ …/ ,/ xn/ )/ 中/ 的/ 每个/ 变元/ 均/ 以/ 变量/ 序/ π/ 所/ 规定/ 的/ 次序/ 依次/ 至多/ 出现/ 一次/ ./ 在/ 图形/ 表示/ 中/ ,/ 用/ 方框/ 表示/ 终结/ 点/ ,/ 用/ 圆圈/ 表示/ 其它/ 结点/ ,/ 结点/ 之间/ 通过/ 虚线/ 或者/ 实线/ 连接/ ./ 通常/ ,/ 假设/ 连接/ 弧/ 的/ 方向/ 向下/ ,/ 0/ -/ 边用/ 虚线/ 表示/ ,/ 1/ -/ 边用/ 实线/ 表示/ ./ 零/ 压缩/ 二叉/ 决策/ 图/ (/ ZBDD/ )/ 是/ 一种/ 特殊/ 的/ OBDD/ ,/ 是/ 日本/ 学者/ Minato/ 为了/ 克服/ OBDD/ 表示/ 组合/ 集合/ (/ 有限/ 集合/ A/ 的/ 组合/ 集合/ 是/ 该/ 集合/ 的/ 幂集/ 2A/ 的/ 一个/ 子集合/ )/ 的/ 不足/ 提出/ 的/ ,/ 进一步/ 降低/ 了/ 组合/ 集合/ 表示/ 的/ 空间/ 需求/ ,/ 从而/ 更为/ 有效/ 地/ 处理/ 组合/ 集合/ 相关/ 的/ 问题/ [/ 9/ -/ 10/ ]/ ./ 对于/ 具有/ n/ 个/ 元素/ 的/ 集合/ A/ =/ {/ a1/ ,/ a2/ ,/ …/ ,/ an/ }/ ,/ 从/ A/ 中/ 不/ 考虑/ 次序/ 地/ 取出/ 任意/ r/ 个/ 元素/ ,/ 其中/ 0/ / r/ / n/ ,/ 所/ 得到/ 的/ 集合/ 称为/ 集合/ A/ 中/ 元素/ 的/ 一个/ 组合/ ./ 若/ 集合/ A/ 中/ 的/ 每个/ 元素/ ai/ 均/ 对应/ 一个/ 布尔/ 变量/ xi/ ,/ 则/ 组合/ 集合/ 中/ 的/ 元素/ 可以/ 用/ 一个/ n/ 维/ 布尔/ 向量/ (/ x1/ ,/ x2/ ,/ …/ ,/ xn/ )/ 表示/ ,/ 当/ 元素/ ai/ 不/ 包含/ 在/ 组合/ 中/ 时/ ,/ 对应/ 布尔/ 变量/ xi/ =/ 0/ ,/ 否则/ xi/ =/ 1/ ./ 由此可见/ 组合/ 集合/ 可以/ 用/ 一个/ n/ 元/ 布尔/ 函数/ f/ (/ x1/ ,/ x2/ ,/ …/ ,/ xn/ )/ 表示/ ./ OBDD/ 为/ 布尔/ 函数/ 提供/ 了/ 紧凑/ 规范/ 的/ 表示/ ,/ 在/ 很多/ 情况/ 下/ OBDD/ 表示/ 可/ 大大降低/ 组合/ 集合/ 表示/ 的/ 空间/ 需求/ ,/ 使/ 表示/ 组合/ 集合/ 所用/ 的/ 结点/ 数远/ 小于/ 集合/ 包含/ 的/ 元素/ 个数/ ,/ 并且/ 使/ 集合/ 上/ 的/ 操作/ 时间/ 与/ 表示/ 集合/ 所用/ 的/ 结点/ 数目/ 成正比/ ./ 但是/ ,/ 用/ OBDD/ 表示/ 组合/ 集合/ 仍然/ 存在/ 一些/ 问题/ ,/ 即/ 组合/ 集合/ 的/ OBDD/ 表示/ 依赖于/ 布尔/ 变量/ 的/ 个数/ ,/ 当/ 布尔/ 变量/ 个数/ 不/ 同时/ ,/ 相同/ 的/ 组合/ 集合/ 会/ 得到/ 全然不同/ 的/ OBDD/ ./ 比如/ 对于/ 两个/ 不同/ 的/ 布尔/ 变量/ 域/ {/ a/ ,/ b/ ,/ c/ }/ 和/ {/ a/ ,/ b/ ,/ c/ ,/ d/ }/ ,/ 要/ 表示/ 相同/ 的/ 组合/ 集合/ {/ a/ ,/ b/ }/ ,/ 就/ 会/ 有/ 两种/ 截然不同/ 的/ OBDD/ 表示/ ,/ 如图/ 1/ (/ a/ )/ 和/ (/ b/ )/ 所示/ ./ 这/ 表明/ OBDD/ 表示/ 与/ 布尔/ 变量/ 域/ 的/ 选取/ 有关/ ./ 在/ ZBDD/ 中/ ,/ 通过/ 采用/ 不同/ 的/ 冗余/ 结点/ 删除/ 规则/ ,/ 有效/ 改善/ 了/ 表示/ 组合/ 集合/ 的/ 效率/ ./ 这/ 也/ 正是/ ZBDD/ 不同于/ OBDD/ 之处/ ./ 在/ OBDD/ 中/ ,/ 采用/ 的/ 是/ S/ -/ 删除/ 规则/ :/ 删除/ 那些/ 0/ 分枝/ 结点/ 和/ 1/ 分枝/ 结点/ 相同/ 的/ 冗余/ 结点/ ,/ 如图/ 2/ (/ a/ )/ 所示/ ./ 在/ ZBDD/ 中/ ,/ 采用/ 的/ 是/ pD/ -/ 删除/ 规则/ :/ 删除/ 1/ 分枝/ 结点/ 为/ 0/ 终结/ 点/ 的/ 结点/ ,/ 如图/ 2/ (/ b/ )/ 所示/ ./ 使用/ 了/ 新/ 的/ 删除/ 规则/ 的/ ZBDD/ 中/ ,/ 未/ 出现/ 变量/ 的/ 缺省/ 就/ 表示/ 该/ 变量/ 取值/ 为/ 0/ ./ 图/ 3/ 给出/ 了/ 不同/ 的/ 布尔/ 变量/ 域/ {/ a/ ,/ b/ ,/ c/ }/ 和/ {/ a/ ,/ b/ ,/ c/ ,/ d/ }/ 下/ 组合/ 集合/ {/ a/ ,/ b/ }/ 的/ ZBDD/ 表示/ ./ 对于/ 同一个/ 组/ Page4/ 合/ 集合/ ,/ 只有/ 一种/ ZBDD/ 表示/ ,/ 这/ 是因为/ ZBDD/ 表示/ 与/ 布尔/ 变量/ 域/ 无关/ ./ 由图/ 3/ 可见/ ,/ ZBDD/ 表示/ 组合/ 集合/ 比/ OBDD/ 更为/ 紧凑/ ,/ 这/ 得益于/ ZBDD/ 所/ 采用/ 的/ pD/ -/ 删除/ 规则/ ./ 从/ ZBDD/ 的/ 根/ 结点/ 到/ 1/ -/ 终结/ 点/ 的/ 路径/ 数/ 正好/ 跟/ 组合/ 集合/ 的/ 元素/ 个数/ 相等/ ,/ 每条/ 路径/ 对应/ 一个/ 组合/ ,/ 路径/ 中/ 结点/ 的/ 个数/ 与/ 组合/ 中/ 变量/ 的/ 个数/ 相等/ ./ ZBDD/ 的/ 基本操作/ 有/ 9/ 个/ ①/ ,/ 这里/ 主要/ 介绍/ 其中/ 3/ 个/ ,/ 分别/ 由/ 一个/ 基本/ 函数/ 实现/ ,/ 其中/ P/ 和/ Q/ 表示/ 以/ ZBDD/ 表示/ 的/ 集合/ ,/ v/ 表示/ 输入/ 变量/ (/ 布尔/ 变量/ 域/ )/ :/ 合/ 的/ 集合/ ;/ 组合/ 的/ 集合/ ;/ Subset0/ (/ P/ ,/ v/ )/ :/ 返回/ P/ 中/ 不/ 包含/ 元素/ v/ 的/ 所有/ Subset1/ (/ P/ ,/ v/ )/ :/ 返回/ P/ 中/ 包含/ 元素/ v/ 的/ 所有/ 组/ Change/ (/ P/ ,/ v/ )/ :/ 对/ P/ 中/ 的/ 每个/ 组合/ ,/ 若/ 包含/ v/ ,/ 在/ 该/ 组合/ 中/ 删除/ v/ ;/ 若/ 不/ 包含/ v/ ,/ 在/ 该/ 组合/ 中/ 增加/ v/ ./ 对于/ 变量/ 集合/ V/ =/ {/ v1/ ,/ v2/ ,/ …/ ,/ vn/ }/ ,/ Subset/ 操作/ 和/ Change/ 操作/ 可/ 进行/ 如下/ 扩展/ :/ v1/ )/ ,/ …/ )/ ,/ vn/ -/ 1/ )/ ,/ vn/ )/ Subset1/ (/ P/ ,/ V/ )/ =/ Subset1/ (/ Subset1/ (/ …/ (/ Subset1/ (/ P/ ,/ v1/ )/ ,/ …/ )/ ,/ vn/ -/ 1/ )/ ,/ vn/ )/ Subset0/ (/ P/ ,/ V/ )/ =/ Subset0/ (/ Subset0/ (/ …/ (/ Subset0/ (/ P/ ,/ Change/ (/ P/ ,/ V/ )/ =/ Change/ (/ Change/ (/ …/ (/ Change/ (/ P/ ,/ v1/ )/ ,/ …/ )/ ,/ vn/ -/ 1/ )/ ,/ vn/ )/ 3/ 安全/ Petri/ 网/ 的/ 符号分析/ 对于/ 安全/ Petri/ 网/ PN/ =/ (/ P/ ,/ T/ ,/ F/ ,/ M0/ )/ ,/ 设/ P/ =/ {/ p0/ ,/ p1/ ,/ …/ ,/ pm/ }/ ,/ 任一/ 可/ 达/ 标识/ 的/ 特征函数/ 都/ 可以/ 用/ 位置/ 集合/ 的/ 一个/ 子集/ 来/ 表示/ ,/ 在子/ 集中/ 出现/ 的/ 位置/ ,/ 说明/ 该/ 位置/ 包含/ 了/ 令牌/ ./ 标识/ 集/ (/ 标识/ 向量/ 构成/ 的/ 集合/ )/ 可以/ 用/ 一个/ 关于/ P/ 的/ 组合/ 集合/ 表示/ ./ 例如/ ,/ 图/ 4/ 给出/ 了/ 一个/ 包含/ 5/ 个/ 位置/ P/ =/ {/ p0/ ,/ p1/ ,/ p2/ ,/ p3/ ,/ p4/ }/ 的/ 安全/ Petri/ 网/ ,/ 用/ {/ p0p2/ }/ 表示/ 初始/ 标识/ 位置/ p0/ 和/ p2/ 含有/ 令牌/ ,/ 位置/ p1/ ,/ p3/ 和/ p4/ 不/ 含有/ 令牌/ 的/ 标识/ ./ 空/ 标识/ 集用/ 逻辑/ “/ 0/ ”/ 表示/ ,/ 对应/ ZBDD/ 的/ 0/ -/ 终结/ 点/ ,/ 本文/ 也/ 用/ “/ logicZero/ ”/ 表示/ ,/ 标识/ 全集/ (/ 不/ 一定/ 与/ 可达/ 标识/ 集/ 相等/ )/ 的/ 特征函数/ 用/ 逻辑/ “/ 1/ ”/ 表示/ ,/ 对应/ ZBDD/ 的/ 1/ -/ 终结/ 点/ ,/ 本文/ 也/ 用/ “/ logicOne/ ”/ 表示/ ./ 标识/ 集/ 之间/ 的/ 操作/ 可以/ 通过/ ZBDD/ 提供/ 的/ 运算/ 来/ 完成/ ./ Petri/ 网/ 的/ 结构/ 蕴含着/ 一个/ 局部/ 状态/ 改变/ 集/ ,/ 可/ 称之为/ 迁移/ 函数/ ,/ 迁移/ 函数/ 决定/ 了/ Petri/ 网/ 的/ 动态/ 特性/ ./ 对于/ 安全/ Petri/ 网/ PN/ =/ (/ P/ ,/ T/ ,/ F/ ,/ M0/ )/ ,/ 若用/ Et/ 表示/ 迁移/ t/ 的/ 使/ 能/ 标识/ 集/ 的/ 特征函数/ ,/ 则/ 迁移/ ti/ 和/ tj/ 并发/ 的/ 使/ 能/ 标识/ 集为/ Eti/ ∧/ tj/ =/ ∏/ pi/ ∈/ ·/ ti/ 在/ 标识/ M/ 下/ 使/ 能/ 迁移/ t/ 的/ 迁移/ 函数/ δ/ t/ 将/ 每个/ 属于/ Et/ 的/ 标识/ M/ 变为/ 新/ 的/ 标识/ M/ ,/ 定义/ 为/ 考虑/ 在/ 一个/ 标识/ 集而/ 不是/ 一个/ 标识/ 的/ 情形/ 下/ 引发/ 迁移/ t/ 的/ 情况/ ./ 这种/ 情况/ 下/ ,/ 标识/ 集/ / 1/ 由于/ 迁移/ t/ 引发/ 而/ 变换/ 成/ 标识/ 集/ / 2/ ./ 通常/ 把/ 迁移/ 函数/ δ/ t/ 导出/ 的/ 这种/ 求/ 一个/ 标识/ 集下/ 由于/ 迁移/ t/ 引发/ 而/ 得到/ 的/ 可达/ 标识/ 集/ 的/ 运算/ 称作/ image/ 运算/ ,/ image/ 运算/ 可/ 表达/ 为/ / 2/ =/ img/ (/ / 1/ ,/ t/ )/ =/ {/ M2/ / M1/ ∈/ / 1/ ∧/ Et/ ,/ δ/ t/ (/ M1/ )/ =/ M2/ }/ ,/ ti/ 和/ tj/ 并发/ 时/ ,/ 可/ 表达/ 为/ img/ (/ / 1/ ,/ ti/ ∧/ tj/ )/ =/ / 2/ =/ {/ M2/ / M1/ ∈/ / 1/ ∧/ Eti/ ∧/ tj/ ,/ 更/ 多个/ 迁移/ 并发/ 的/ 情况/ 可/ 进行/ 类似/ 推广/ 计算/ ./ 达为/ 标识/ 集/ / 下/ 一步/ 能/ 到达/ 的/ 标识/ 集/ 的/ 计算/ 可表/ ①/ AnIntruductiontoZero/ -/ SuppressedBinaryDecisionDia/ -/ Page5/ 标识/ 集/ / 的/ 可达/ 标识/ 集可/ 通过/ 一个/ 运用/ image/ 运算/ 的/ 符号/ 遍历/ 算法/ 求出/ ./ 该/ 算法/ 在/ 宽度/ 优先/ 搜索算法/ 的/ 基础/ 上/ ,/ 引用/ 贪婪/ 链/ 技术/ 实现/ 了/ 求/ 可达/ 标识/ 的/ 集合/ 计算/ ,/ 即/ 每次/ 计算/ 都/ 是/ 求/ 一个/ 标识/ 集/ 的/ 可达/ 标识/ 集/ ,/ 而/ 不是/ 只求/ 某个/ 标识/ 的/ 可达/ 标识/ ,/ 因而/ 极大/ 地/ 减少/ 了/ 生成/ Petri/ 网/ 的/ 所有/ 可/ 达/ 标识/ 集/ 的/ 运算/ 次数/ ./ 图/ 5/ 给出/ 了/ Petri/ 网/ 的/ 符号/ 遍历/ 算法/ ./ Traverse/ _/ Petri/ -/ net/ (/ PN/ =/ (/ P/ ,/ T/ ,/ F/ ,/ W/ ,/ M0/ )/ )/ {/ Reached/ =/ From/ =/ {/ M0/ }/ ;/ }/ 以图/ 4/ 所示/ 的/ 安全/ Petri/ 网为例/ ,/ 利用/ 图/ 5/ 所示/ 的/ Petri/ 网/ 符号/ 遍历/ 算法/ ,/ 用/ 一次/ 外部/ 迭代/ 和/ 三次/ 内部/ 迭代/ 就/ 可/ 得到/ 所有/ 可/ 达/ 标识/ (/ 如图/ 6/ (/ a/ )/ 所示/ )/ ./ 图/ 6/ (/ b/ )/ 为/ 可达/ 标识/ 集/ 的/ ZBDD/ 表示/ ,/ 只用/ 了/ 9/ 个/ 结点/ ./ 图/ 6/ (/ c/ )/ 为/ 该/ 可达/ 标识/ 集/ 的/ OBDD/ 表示/ ,/ 需要/ 14/ 个/ 结点/ ./ 图/ 6/ 安全/ Petri/ 网/ 的/ 符号/ ZBDD/ 可达树/ 分析/ 4/ 加权/ 和/ 有界/ Petri/ 网/ 的/ 符号分析/ 这/ 一节/ 主要/ 将/ Petri/ 网/ 的/ 符号/ ZBDD/ 表示/ 和/ 分析/ 技术/ 扩展/ 到/ 加权/ 和/ 有界/ Petri/ 网/ ./ 4.1/ 位置/ 编码/ 一个/ 最/ 多/ 包含/ k/ 个/ 令牌/ 的/ 位置/ p/ ∈/ P/ 可以/ 由/ 一个/ 布尔/ 变量/ 集/ p0/ ,/ …/ ,/ pKp/ 来/ 表示/ ,/ 用/ 它/ 来/ 为/ p/ 中/ 的/ k/ 个/ 令牌/ 编码/ ./ 使用/ 二进制/ 编码/ 时/ ,/ 一个/ k/ -/ 有界/ 的/ 位置/ 需要/ log2/ (/ k/ +/ 1/ )/ 个/ 布尔/ 变量/ ,/ 即/ Kp/ =/ log2/ (/ k/ +/ 1/ )/ -/ 1/ ./ 例如/ ,/ 在/ 3/ -/ 有界/ 的/ Petri/ 网中/ ,/ 需要/ 两个/ 布尔/ 变量/ ./ 对/ 形如/ N/ =/ ∑/ Kp/ 以图/ 7/ 所示/ Petri/ 网为例/ ,/ 位置/ p0/ 、/ p1/ 、/ p2/ 和/ p3/ 的/ 界/ 分别/ 为/ 3/ ,/ 2/ ,/ 2/ 和/ 6/ ./ 因此/ 位置/ p0/ 、/ p1/ 和/ p2/ 需要/ 两个/ 变量/ 编码/ ,/ 分别/ 为/ p00p10/ ,/ p01p11/ 和/ p02p12/ ,/ p3/ 需要/ 3/ 个/ 变量/ 编码/ ,/ 即/ p03p13p23/ ./ 该/ Petri/ 网/ 的/ 初始/ 标识/ 的/ 布尔/ 特征函数/ 为/ {/ p10p02/ }/ ./ 4.2/ 迁移/ 引发/ 这里/ 主要/ 讨论/ 加权/ 和/ 有界/ Petri/ 网/ 的/ 迁移/ 函数/ 和/ 迁移/ 关系/ 的/ 二进制/ 编码/ 问题/ ./ 迁移/ t/ 使能/ 的/ 标识/ 集/ 的/ 特征函数/ (/ Et/ )/ 写成/ 如下/ 形式/ :/ Et/ =/ ∏/ p/ ∈/ ·/ t/ 在/ 标识/ M/ 下/ 使/ 能/ 迁移/ t/ 的/ 迁移/ 函数/ 可/ 写成/ 如下/ 形式/ :/ δ/ t/ (/ M/ )/ =/ 使用/ 二进制/ 编码表示/ 时/ ,/ 用/ 一组/ 布尔/ 变量/ p0/ ,/ …/ ,/ pKp/ 表示/ 位置/ p/ 中/ 令牌/ 的/ 数量/ ,/ 用/ 同样/ 数量/ 的/ 布尔/ 常量/ w0/ ,/ …/ ,/ wKp/ 表示/ 权重/ W/ (/ p/ ,/ t/ )/ ,/ 关系/ M/ (/ p/ )/ / W/ (/ p/ ,/ t/ )/ 可以/ 用/ 下面/ 的/ 式子/ 来/ 描述/ :/ Page6M/ (/ p/ )/ / W/ (/ p/ )/ =/ (/ pKp/ >/ wKp/ )/ ·/ (/ pKp/ -/ 1/ >/ pKp/ -/ 1/ )/ ·/ …/ ·/ (/ p1/ +/ p1/ )/ ·/ (/ p0/ +/ p0/ )/ +/ (/ pKp/ =/ wKp/ )/ ·/ (/ pKp/ -/ 1/ >/ wKp/ -/ 1/ )/ ·/ (/ pKp/ -/ 2/ +/ pKp/ -/ 2/ )/ ·/ …/ ·/ (/ p1/ +/ p1/ )/ ·/ (/ p0/ +/ p0/ )/ +/ (/ pKp/ =/ wKp/ )/ ·/ (/ pKp/ -/ 1/ =/ wKp/ -/ 1/ )/ ·/ (/ pKp/ -/ 2/ >/ wKp/ -/ 2/ )/ ·/ …/ ·/ (/ p1/ +/ p1/ )/ ·/ (/ p0/ +/ p0/ )/ +/ …/ +/ (/ pKp/ =/ wKp/ )/ ·/ (/ pKp/ -/ 1/ =/ wKp/ -/ 1/ )/ ·/ …/ ·/ (/ p1/ =/ w1/ )/ ·/ (/ p0/ >/ w0/ )/ +/ (/ pKp/ =/ wKp/ )/ ·/ (/ pKp/ -/ 1/ =/ wKp/ -/ 1/ )/ ·/ …/ ·/ (/ p1/ =/ w1/ )/ ·/ (/ p0/ =/ w0/ )/ ./ 其中/ ,/ ·/ 是/ 逻辑/ 与/ 操作/ ;/ +/ 是/ 逻辑/ 或/ 操作/ ;/ >/ 是/ 大于/ 操作/ ,/ a/ >/ b/ 即/ 表示/ ab/ ./ 由/ 特征函数/ Et/ 定义/ 的/ 使/ 能/ 迁移/ t/ 的/ 标识/ 为/ ∏/ p/ ∈/ ·/ t/ ∑/ Kp/ [/ [/ ∏/ i/ -/ 1h/ =/ 0/ 在/ 图/ 7/ 所示/ Petri/ 网中/ ,/ 每个/ 迁移/ 的/ 使/ 能/ 标识/ 集为/ Et0/ =/ [/ (/ p10/ >/ 0/ )/ ·/ (/ p10/ +/ p00/ )/ ·/ M/ (/ p/ )/ / i/ =/ 03/ +/ (/ p00/ =/ 0/ )/ ·/ (/ p10/ =/ 1/ )/ ]/ =/ p00p10/ +/ p10/ ,/ Et1/ =/ [/ (/ p11/ >/ 0/ )/ ·/ (/ p01/ +/ p01/ )/ ·/ (/ M/ (/ p/ )/ / k/ )/ +/ (/ p01/ =/ 1/ )/ ·/ (/ p11/ =/ 0/ )/ ]/ ·/ [/ (/ p03/ >/ 0/ )/ ·/ (/ p13/ =/ 1/ )/ ·/ (/ p23/ =/ 0/ )/ ·/ (/ M/ (/ p/ )/ / k/ )/ +/ (/ p23/ >/ 0/ )/ ·/ (/ p03/ +/ p03/ )/ ·/ (/ p13/ +/ p13/ )/ ·/ (/ M/ (/ p/ )/ / k/ )/ +/ (/ p03/ =/ 0/ )/ ·/ (/ p13/ =/ 1/ )/ ·/ (/ p23/ =/ 0/ )/ ]/ =/ (/ p11/ +/ p01/ )/ ·/ (/ p13/ +/ p23/ +/ p03p13/ +/ p03p23/ +/ p13p23/ )/ ,/ Et2/ =/ [/ (/ p12/ >/ 0/ )/ ·/ (/ p02/ +/ p02/ )/ ·/ (/ M/ (/ p/ )/ / k/ )/ +/ (/ p02/ =/ 1/ )/ ·/ (/ p12/ =/ 0/ )/ ]/ =/ p02/ +/ p12/ ./ 对于/ 任何/ 使能/ 迁移/ t/ 的/ 标识/ ,/ 迁移/ 的/ 引发/ 必须/ 从/ 其/ 输入/ 位置/ 中/ 移走/ 相应/ 的/ 令牌/ ,/ 并/ 在/ 输出/ 位置/ 中/ 增加/ 相应/ 的/ 令牌/ ./ 位置/ p/ 中/ 令牌/ 的/ 数量/ 用/ 布尔/ 变量/ p0/ ,/ p1/ ,/ …/ ,/ pKp/ 的/ 向量/ 来/ 表示/ ,/ 必须/ 要/ 减去/ 的/ 令牌/ 的/ 数量/ 用/ 布尔/ 常量/ 的/ 向量/ 狑/ 0/ ,/ 狑/ 1/ ,/ …/ ,/ 狑/ Kp/ 来/ 表示/ 时/ ,/ 迁移/ 函数/ δ/ t/ (/ M/ )/ 与/ 二进制/ 向量/ 表示/ 的/ 两个/ 自然数/ 的/ 减法/ 是/ 等价/ 的/ ,/ 可以/ 由/ 下面/ 的/ 表示/ :/ δ/ t/ (/ M/ )/ =/ M/ (/ p/ )/ -/ W/ (/ p/ ,/ t/ )/ =/ (/ p0/ / w0/ ,/ p1/ / w1/ / B0/ ,/ …/ ,/ pKp/ / wKp/ / BKp/ -/ 1/ )/ ,/ 其中/ ,/ / 为/ 异或/ 操作/ ;/ Bj/ (/ j/ =/ 0/ ,/ 1/ ,/ …/ ,/ KP/ )/ 为/ 借位/ 函数/ ,/ 定义/ 为/ B0/ =/ p0/ ·/ w0Bj/ =/ pj/ 其中/ ,/ ≡/ 表示/ 逻辑/ 相等/ ,/ a/ ≡/ b/ 即/ 表示/ ab/ +/ 珔/ a/ 珔/ b/ ./ 另一方面/ ,/ 必须/ 添加/ 的/ 令牌/ 的/ 数量/ 可以/ 由/ 另/ 一个/ 布尔/ 常量/ 的/ 向量/ 狑/ 0/ ,/ 狑/ 1/ ,/ …/ ,/ 狑/ Kp/ 表示/ ,/ 这时/ ,/ 迁移/ 函数/ δ/ t/ (/ M/ )/ 与/ 二进制/ 向量/ 表示/ 的/ 两个/ 自然数/ 的/ 加法/ 是/ 等价/ 的/ ,/ 可以/ 由/ 下面/ 的/ 等式/ 表示/ :/ δ/ t/ (/ M/ )/ =/ M/ (/ p/ )/ +/ W/ (/ t/ ,/ p/ )/ =/ (/ p0/ / w0/ ,/ p1/ / w1/ / C0/ ,/ …/ ,/ pKp/ / wKp/ / CKp/ -/ 1/ )/ ,/ 其中/ ,/ Cj/ 为/ 进位/ 函数/ ,/ 定义/ 为/ C0/ =/ p0/ ·/ w0/ ,/ Cj/ =/ pj/ 以上/ 两种/ 情况/ 都/ 必须/ 选择/ 合适/ 的/ 变量/ wj/ ,/ 其中/ wj/ 表示/ 自然数/ 常量/ W/ 的/ 第/ j/ 位/ :/ 烄/ wj/ =/ 烅/ 烆/ 综上所述/ ,/ 位置/ pi/ 的/ 第/ j/ 个/ 变量/ 的/ 迁移/ 函数/ δ/ tji/ (/ M/ )/ =/ δ/ tj/ 所以/ ,/ 迁移/ 函数/ 的/ 计算/ 式/ 为/ 映像/ 函数/ img/ 扩展/ 到/ 有界/ 和/ 加权/ Petri/ 网为/ img/ (/ / 1/ ,/ t/ )/ =/ / 2/ =/ 在/ 图/ 5/ 的/ Petri/ 网/ 符号/ 遍历/ 算法/ 基础/ 上/ ,/ 我们/ 采用/ 上/ 式/ 给出/ 的/ 映像/ 函数/ img/ ,/ 就/ 可以/ 实施/ 加权/ 和/ 有界/ Petri/ 网/ 的/ 可达/ 状态/ 空间/ 的/ 生成/ ./ 5/ 实验/ 结果/ 及/ 分析/ 为了/ 检验/ Petri/ 网/ 符号/ ZBDD/ 分析/ 算法/ 的/ 性/ Page7/ 能/ ,/ 选/ 两组/ 例子/ 进行/ 实验/ ./ 第一组/ 为/ 可以/ 升级/ 的/ 例子/ ,/ 主要/ 检验/ 安全/ Petri/ 网/ 的/ 符号/ ZBDD/ 分析/ 算法/ 的/ 性能/ ./ 一个/ 是/ 典型/ 的/ 哲学家/ 就餐/ 问题/ ,/ 其中/ n/ 是/ 哲学家/ 的/ 人数/ ,/ 图/ 8/ (/ a/ )/ 给出/ 了/ 一个/ 哲学家/ 就餐/ 问题/ 的/ 图/ 8Petri/ 网/ 模型/ 的/ 例/ 第二组/ 实验/ 选用/ 柔性制造系统/ (/ FMS/ )/ 中/ 作业/ 调度/ 的/ Petri/ 网/ 模型/ ,/ 主要/ 检验/ 有界/ 和/ 加权/ Petri/ 网/ 的/ ZBDD/ 分析/ 算法/ 的/ 性能/ ./ 假设/ 一个/ FMS/ 有/ 3/ 台/ 机器/ ,/ 4/ 种/ 作业/ J1/ 、/ J2/ 、/ J3/ 、/ J4/ ,/ 每个/ 作业/ 有/ 4/ 个/ 过程/ ,/ 它们/ 对/ 机器/ 的/ 需求/ 如表/ 1/ 所示/ ./ 第/ 1/ 行第/ J1/ 列/ 的/ M1/ // M2/ 表示/ 作业/ J1/ 的/ 第一个/ 过程/ 可以/ 由/ M1/ 或/ M2/ 进行/ 加工/ ./ 其中/ Petri/ 网/ 的/ 建模/ 借鉴/ 了/ 文献/ [/ 13/ ]/ 所/ 介绍/ 的/ 方法/ ./ 过程/ 1M1/ // M2M1/ // M2M1/ // M2/ // M3M2/ // M32M2M3M2/ // M3M1/ // M33M1/ // M3M1/ // M2M1/ // M3M2/ // M34M1/ // M2M1/ // M3M1/ // M2M1/ // M2/ // M3/ 利用/ Colorado/ 大学/ 的/ CUDD/ ①/ 软件包/ ,/ 用/ C语言/ 进行/ 编程/ ,/ 在/ 运行/ 平台/ Windows2000/ 、/ P41500MHzCPU/ 、/ 128MBRAM/ 上/ ,/ 对/ 上面/ 例子/ 进行/ 了/ 实验/ ,/ 实验/ 结果/ 如表/ 2/ 和表/ 3/ ./ 表/ 2/ 和表/ 3/ 中/ 位置/ 列/ 表示/ Petri/ 网/ 模型/ 中/ 位置/ 的/ 个数/ ,/ 迁移/ 列/ 表示/ 迁移/ 的/ 个数/ ,/ 变量/ 是/ OBDD/ 或/ ZBDD/ 所用/ 变量/ 的/ 个数/ ,/ 可/ 达/ 标识/ 是/ 可达/ 标识/ 的/ 个数/ ,/ 可/ 达/ 结点/ 是/ 可达/ 标识/ 集/ 的/ OBDD/ 或/ ZBDD/ 表示/ 的/ 结点/ 数/ ,/ 最大/ 结点/ 是/ 算法/ 运行/ 中所/ 需/ OBDD/ 或/ ZBDD/ 结点/ 数/ 的/ 最大值/ ,/ 迭代/ 次数/ 是/ 遍历/ 算法/ 中/ 需要/ 迭代/ 的/ 次数/ ,/ 时间/ 是/ 算法/ 运行/ 的/ CPU/ 时间/ ,/ 单位/ 为/ 秒/ ./ Petri/ 网/ 表示/ [/ 8/ ]/ ,/ 图中/ 虚线/ 箭头/ 表示/ 可以/ 扩展/ 为/ n/ 个/ 哲学家/ 就餐/ 问题/ ./ 另/ 一个/ 是/ 局域网/ 的/ 槽/ 环/ 协议/ ,/ 图/ 8/ (/ b/ )/ 所示/ 的/ 是/ 一个/ 结点/ 的/ 槽/ 环/ 协议/ 的/ Petri/ 网/ 模型/ [/ 8/ ]/ ,/ 虚线/ 表示/ 可以/ 扩展/ 为/ n/ 个/ 结点/ 的/ 槽/ 环/ 协议/ ./ 从表/ 2/ 所示/ 实验/ 结果/ 的/ 可达/ 结点/ 列/ 可以/ 看出/ ,/ 对于/ 同样/ 的/ 可达/ 标识/ 集/ ,/ ZBDD/ 的/ 大小/ 是/ OBDD/ 的/ 一半/ 或/ 三分之一/ ./ 比如/ phil/ _/ 15/ 中/ ,/ 1.0/ ×/ 1010/ 个/ 可达/ 标识/ 用/ OBDD/ 表示/ 需要/ 584/ 个/ 结点/ ,/ 而用/ ZBDD/ 表示/ 只用/ 312/ 个/ 结点/ ./ 从/ 时间/ 列/ 可以/ 看出/ ,/ 用/ ZBDD/ 比用/ OBDD/ 要/ 快/ ,/ 尤其/ 对于/ 大规模/ Petri/ 网/ ,/ 效果/ 更加/ 明显/ ./ 这/ 就/ 说明/ ,/ 基于/ ZBDD/ 的/ 符号分析/ 算法/ 可/ 用于/ 较/ 大规模/ Petri/ 网/ 的/ 可达树/ 生成/ 和/ 分析/ ./ 表/ 3/ 中/ 名称/ 列/ 的/ Jobi/ _/ j/ _/ k/ 表示/ 该/ FMS/ 中有/ i/ 个/ 作业/ 、/ j/ 台/ 机器/ 、/ 生产/ 批量/ 为/ k/ ./ 从/ 该表/ 的/ 可达/ 结点/ 列/ 可以/ 看出/ ,/ 有界/ Petri/ 网/ 的/ 标识/ 向量/ 不像/ 安全/ Pe/ -/ tri/ 网/ 那样/ 稀疏/ ,/ 所以/ 可/ 达/ 标识/ 的/ 结点/ 数/ 相差/ 不是/ 很/ 悬殊/ ,/ 但/ ZBDD/ 的/ 结点/ 数/ 还是/ 要/ 比/ OBDD/ 的/ 结点/ 数少/ ./ 从/ 最大/ 结点/ 列/ 可以/ 看出/ ,/ 由于/ 对/ 迁移/ 的/ 使/ 能/ 函数/ 做/ 了/ 改进/ ,/ ZBDD/ 算法/ 在/ 执行/ 过程/ 中所/ 需/ 的/ 最大/ 结点/ 数/ 大大减少/ ./ 这样/ ,/ 对于/ 较/ 大规模/ 的/ 有界/ Petri/ 网/ ,/ ZBDD/ 算法/ 能/ 在/ 合理/ 时间/ 内/ 求得/ 其/ 相应/ 的/ 可达/ 标识/ 集/ ./ 6/ 结束语/ 零/ 压缩/ 二叉/ 决策/ 图/ (/ ZBDD/ )/ 能/ 有效/ 地/ 表示/ 组合/ 集合/ ,/ 是/ 求解/ 组合/ 集合/ 相关/ 问题/ 的/ 有效/ 工具/ ./ 根据/ ①/ CUDD/ :/ CUdecisiondiagrampackagerelease2/ ./ 3.1/ ./ Page8/ 表/ 2/ 安全/ Petri/ 网/ 的/ 实验/ 结果/ 名称/ 位置/ 迁移/ 可/ 达/ 标识/ Phil/ _/ 535252.2/ ×/ 103351571218920.063552559220/ ./ 03Phil/ _/ 856402.2/ ×/ 105562228827920.44561705415820/ ./ 06Phil/ _/ 1070504.7/ ×/ 106703974840320.89702876020220/ ./ 13Phil/ _/ 15105751.0/ ×/ 10101056861358424.611057146531220/ ./ 28Phil/ _/ 201401002.2/ ×/ 101314071663744217.0214013337042220/ ./ 53Slot/ _/ 550501.7/ ×/ 106509432554081.815012071741180/ ./ 33Slot/ _/ 770708.0/ ×/ 1087048423110141013.8870630168791101/ ./ 48Slot/ _/ 990903.8/ ×/ 1011902242495163212247.219022071401291125/ ./ 20/ 表/ 3/ 有界/ Petri/ 网/ 的/ 实验/ 结果/ 名称/ 位置/ 迁移/ 可/ 达/ 标识/ Job2/ _/ 3/ _/ 1272811279467120.01275961820/ ./ 02Job2/ _/ 3/ _/ 227283.0/ ×/ 103373152746241.11371670020640/ ./ 05Job2/ _/ 3/ _/ 427281.6/ ×/ 1054766546813658.234712001255260/ ./ 23Job2/ _/ 3/ _/ 827281.6/ ×/ 10757932859172710307.75577731291932101/ ./ 53Job3/ _/ 3/ _/ 141461.4/ ×/ 103411840932230.8841871312530/ ./ 06Job3/ _/ 3/ _/ 241461.2/ ×/ 10556183012936440.42567798237540/ ./ 25Job3/ _/ 3/ _/ 441463.5/ ×/ 10771/ 溢出/ Job3/ _/ 3/ _/ 841464.5/ ×/ 101086/ 溢出/ Job4/ _/ 3/ _/ 155641.3/ ×/ 104555961640832.42552732519930/ ./ 11Job4/ _/ 3/ _/ 255643.9/ ×/ 10675/ 溢出/ Job4/ _/ 3/ _/ 455645.6/ ×/ 10995/ 溢出/ Petri/ 网/ 状态/ 向量/ 稀疏/ 的/ 特点/ ,/ 本文/ 给出/ 了/ 基于/ ZBDD/ 的/ Petri/ 网/ 的/ 标识/ 向量/ 表示/ 、/ 使能/ 迁移/ 计算/ 、/ 可/ 达/ 标识/ 向量/ 生成/ 的/ 符号/ 方法/ ,/ 使得/ Petri/ 网/ 的/ 动态/ 行为/ 的/ 计算/ 能够/ 在/ 基于/ ZBDD/ 数据结构/ 的/ 紧凑/ 表示/ 和/ 高效/ 操作/ 下/ 得到/ 实施/ ./ 在/ Petri/ 网/ 分析/ 的/ 时间/ 和/ 空间/ 效率/ 上/ ,/ 符号/ ZBDD/ 技术/ 都/ 体现/ 出/ 了/ 较之于/ 符号/ OBDD/ 技术/ 具有/ 明显/ 的/ 优势/ ./ Petri/ 网/ 的/ 可达/ 状态/ 空间/ 是/ Petri/ 网/ 应用/ 于/ 系统模拟/ 、/ 分析/ 、/ 控制/ 及其/ 调度/ 等/ 的/ 核心/ 和/ 基础/ ./ 我们/ 可以/ 在/ 生成/ Petri/ 网可达/ 状态/ 空间/ 的/ 过程/ 中/ ,/ 通过/ 符号/ ZBDD/ 的/ 操作/ 函数/ 方便/ 地/ 实施/ Petri/ 网/ 的/ 安全性/ 、/ 活性/ 、/ 有界性/ 、/ 可达性/ 等/ 性质/ 判定/ ./ 同时/ ,/ 我们/ 也/ 可以/ 基于/ Petri/ 网可达/ 状态/ 空间/ 的/ 紧凑/ 符号/ ZBDD/ 描述/ ,/ 开展/ Petri/ 网/ 模型/ 下/ 系统/ 的/ 控制策略/ 、/ 调度/ 方案/ 等/ 的/ 设计/ ,/ 这是/ 我们/ 正在/ 开展/ 的/ 研究课题/ ./ 此外/ ,/ 基于/ ZBDD/ 描述/ 的/ Petri/ 网/ 性质/ 证明/ 、/ ZBDD/ 的/ 变量/ 序/ 问题/ 等/ 也/ 将/ 是/ 进一步/ 开展/ 的/ 研究/ 工作/ ./ 

