Page1/ 基于/ 独立/ 时空/ 特征/ 空间/ 的/ 人体/ 运动/ 合成/ 刘更代/ 1/ )/ 徐/ 明亮/ 2/ )/ 张明敏/ 2/ )/ 1/ )/ (/ 西安电子科技大学/ 计算机/ 学院/ 西安/ 710071/ )/ 2/ )/ (/ 浙江大学/ CAD/ &/ CG/ 国家/ 重点/ 实验室/ 杭州/ 310058/ )/ 摘要/ 如何/ 通过/ 指定/ 约束条件/ 的/ 方式/ 交互式/ 地/ 合成/ 风格化/ 人体/ 运动/ 是/ 计算机/ 动画/ 研究/ 领域/ 的/ 热点/ 和/ 难点/ ,/ 传统/ 的/ 数据/ 驱动/ 办法/ 通常/ 没有/ 全面/ 考虑/ 运动/ 的/ 静态/ 和/ 动态/ 特性/ ./ 针对/ 这一/ 问题/ ,/ 文中/ 提出/ 人体/ 运动/ 的/ 独立/ 时空/ 特征/ 空间/ 模型/ ,/ 利用/ 一个/ 可/ 变形运动/ 模型/ 和/ 独立/ 特征/ 子/ 空间/ 分析/ 算法/ 提取/ 运动/ 在/ 时空/ 两个/ 域/ 上/ 的/ 特征/ ,/ 并/ 将/ 其/ 封装/ 起来/ ,/ 通过/ 低维子/ 空间/ 进行/ 描述/ ./ 运动/ 风格/ 的/ 编辑/ 可/ 利用/ 低维/ 运动/ 混合/ 和/ 空时/ 约束/ 优化/ 等/ 方法/ 来/ 实现/ ./ 该/ 方法/ 充分考虑/ 了/ 运动/ 在/ 时域/ 上/ 的/ 特征/ ,/ 并/ 为/ 用户/ 提供/ 了/ 可/ 编辑/ 接口/ ./ 文中/ 以/ 各种/ 风格/ 的/ 行走/ 运动/ 为例/ 讨论/ 了/ 该/ 方法/ 的/ 有效性/ ,/ 结果/ 证明/ 效果/ 良好/ ,/ 可/ 用于/ 交互式/ 运动/ 风格/ 编辑/ ./ 关键词/ 独立/ 时空/ 特征/ 子/ 空间/ ;/ 可/ 变形运动/ 模型/ ;/ 独立/ 特征/ 子/ 空间/ 分析/ ;/ 人体/ 运动/ ;/ 风格/ ;/ 主/ 成分/ 分析/ 1/ 引言/ 机器人/ 领域/ 应用/ 广泛/ ,/ 但是/ 合成/ 风格化/ 的/ 人体/ 运动/ 仍然/ 是/ 一个/ 难题/ ./ 这/ 是因为/ :/ 首先/ ,/ 人体/ 运动/ 的/ 风格/ 是/ 一个/ 抽象/ 的/ 概念/ ,/ 很难/ 对/ 其/ 进行/ 量化/ ;/ 另外/ ,/ 对风/ 目前/ ,/ 运动/ 捕获/ 在/ 计算机/ 动画/ 、/ 游戏/ 、/ 电影/ 以及/ 格/ 建模/ 时/ 需要/ 全面/ 考虑/ 运动/ 的/ 空间/ 特征/ 与/ 时间/ 特/ Page2/ 征/ ;/ 最后/ ,/ 必须/ 提供/ 直观/ 的/ 风格/ 编辑/ 接口/ ./ 针对/ 这些/ 难点/ ,/ 本文/ 提出/ 了/ 一个/ 新/ 的/ 低维/ 风格化/ 运动/ 模型/ ./ 首先/ ,/ 人体/ 运动/ 的/ 风格/ 被/ 认为/ 是/ 在/ 基本/ 运动/ 之上/ 的/ 某种/ “/ 细微/ 变化/ ”/ ,/ 它/ 具有/ 以下/ 3/ 个/ 特征/ :/ (/ 1/ )/ 运动/ 风格/ 是/ 风格化/ 运动/ 与/ 基本/ 运动/ 之间/ 的/ 差别/ ;/ (/ 2/ )/ 这种/ 差别/ 表现/ 在/ 两个/ 方面/ :/ 空间/ 和/ 时间/ 上/ ./ (/ 3/ )/ 运动/ 的/ 风格/ 和/ 内容/ 是/ 相互/ 独立/ 的/ ,/ 改变/ 风格/ 参数/ 并/ 不/ 影响/ 运动/ 的/ 内容/ ./ 本文/ 借鉴/ 了/ 一种/ 可/ 变形运动/ 模型/ ,/ 该/ 模型/ 包含/ 了/ 运动/ 的/ 动态/ 特性/ ,/ 而/ 动态/ 特性/ 正是/ 运动/ 风格/ 的/ 重要/ 组成部分/ ./ 然后/ 使用/ 了/ 一种/ 机器/ 学习/ 算法/ 获得/ 能够/ 分离/ 运动/ 风格/ 和/ 内容/ 的/ 低/ 维空间/ ,/ 称为/ “/ 独立/ 时空/ 特征/ 空间/ ”/ ,/ 并/ 将/ 风格/ 定义/ 为/ 它/ 的/ 一个/ 子/ 空间/ ,/ 称为/ “/ 时空/ 风格/ 子/ 空间/ ”/ ./ 最后/ ,/ 通过/ 运动/ 混合/ 和/ 基于/ 约束/ 的/ 优化/ 算法/ 求解/ 问题/ ./ 实验/ 结果表明/ 该/ 方法/ 计算/ 效率高/ ,/ 具有/ 良好/ 的/ 交互性/ 与/ 非常/ 逼真/ 的/ 视觉效果/ ,/ 能够/ 用于/ 人体/ 动画/ 的/ 交互式/ 编辑/ 和/ 实时/ 合成/ ./ 2/ 相关/ 工作/ 直观/ 地看/ ,/ 风格/ 应该/ 与/ 运动/ 数据/ 底层/ 的/ 某些/ 静态/ 或/ 动态/ 参数/ 有关/ ./ Kawasaki/ 等/ 人/ [/ 1/ ]/ 认为/ 运动/ 风格/ 表现/ 在/ 运动/ 的/ 底层/ 特性/ :/ 扭矩/ 和/ 角速度/ 上/ ,/ 通过/ 提取/ 这/ 两个/ 参数/ 来/ 实现/ 运动/ 风格/ 在/ 不同/ 角色/ 之间/ 的/ 传递/ ./ Liu/ 等/ 人/ [/ 2/ ]/ 将/ 风格/ 定义/ 为/ 底层/ 的/ 若干/ 物理/ 参数/ ,/ 通过/ 反向/ 非线性/ 优化/ 实现/ 物理/ 真实/ 的/ 风格/ 变换/ ./ Brand/ 等/ 人/ [/ 3/ ]/ 和/ Hsu/ 等/ 人/ [/ 4/ ]/ 分别/ 使用/ 隐/ 马尔可夫/ 模型/ 和/ 线性/ 时/ 不变/ 模型/ 对/ 运动/ 风格/ 建模/ ,/ 实现/ 风格/ 的/ 变换/ ./ 这类/ 方法/ 通常/ 会/ 考虑/ 运动/ 的/ 动态/ 参数/ ,/ 但/ 无法/ 合成/ 满足/ 空间/ 约束/ 的/ 运动/ ./ 近些年来/ ,/ 基于/ 线性/ 子/ 空间/ 的/ 插值/ 技术/ 被/ 广泛/ 用于/ 风格化/ 运动/ 合成/ ./ Urtasun/ 等/ 人/ [/ 5/ ]/ 以及/ 李/ 淳/ 秡/ 等/ 人/ [/ 6/ ]/ 使用/ 主/ 成分/ 分析/ (/ PrincipalComponentsAnal/ -/ ysis/ ,/ PCA/ )/ 对/ 一定量/ 的/ 运动/ 数据/ 进行/ 建模/ ,/ 用于/ 合成/ 各种/ 风格/ 的/ 行走/ 运动/ ./ Shapiro/ 等/ 人/ [/ 7/ ]/ 使用/ 独立/ 成分/ 分析/ (/ IndependentComponentsAnalysis/ ,/ ICA/ )/ 来/ 寻找/ 风格/ 成分/ ./ 这类/ 方法/ 比较/ 适合/ 处理/ 行走/ 运动/ 的/ 风格/ ,/ 但/ 不能/ 保证/ 从子/ 空间/ 中/ 恢复/ 出/ 运动/ 的/ 动态/ 特性/ ./ 合成/ 满足/ 约束/ 的/ 运动/ 是/ 一个/ 运动/ 编辑/ 系统/ 的/ 理想/ 目标/ ,/ 数据/ 驱动/ 的/ 方法/ 能够/ 求解/ 这/ 类/ 约束/ 问题/ ./ Kovar/ 等/ 人/ [/ 8/ ]/ 对/ 大规模/ 运动/ 数据/ 进行/ 组织/ ,/ 通过/ 线性插值/ 实现/ 满足/ 约束/ 的/ 运动/ 序列/ ,/ 该/ 方法/ 实时性/ 好/ ,/ 但是/ 需要/ 大量/ 的/ 运动/ 帧/ 和/ 预处理/ 过程/ ./ 逆/ 运动学/ (/ InverseKinematics/ ,/ IK/ )/ 是/ 合成/ 满足/ 约束/ 的/ 运动/ 的/ 典型/ 方法/ ./ 一些/ 研究者/ 提出/ 使用/ 数据/ 驱动/ 的/ 方法/ 来/ 求解/ IK/ 问题/ [/ 9/ -/ 11/ ]/ ,/ 通过/ 非线性/ 降维来/ 缩小/ 优化/ 搜索/ 空间/ ,/ 然后/ 通过/ 在/ 降维后/ 的/ 数据/ 间/ 进行/ 插值/ 来/ 求解/ IK/ 问题/ ./ 刘更代/ 等/ 人/ [/ 12/ ]/ 则/ 在/ 一个/ 封装/ 了/ 风格/ 元素/ 的/ 低维子/ 空间/ 内/ 求解/ IK/ ,/ 生成/ 满足/ 末端/ 约束/ 的/ 风格化/ 运动/ ./ 这类/ 方法/ 能够/ 生成/ 自然/ 的/ 姿态/ ,/ 但是/ 合成/ 整段/ 运动/ 需要/ 添加/ 较/ 多/ 的/ 约束/ ,/ 且/ 无法/ 处理/ 运动/ 的/ 动态/ 特性/ ./ 运动/ 在/ 时序/ 上/ 的/ 特征/ 也/ 是/ 运动/ 风格/ 的/ 重要/ 组成部分/ ,/ 因此/ 处理/ 人体/ 运动/ 风格/ 时/ 应该/ 考虑/ 运动/ 的/ 动态/ 特性/ ./ Lau/ 等/ 人/ [/ 13/ ]/ 使用/ 动态/ 贝叶斯/ 网络/ 扩展/ 运动/ 数据/ 在/ 时间/ 和/ 空间/ 上/ 的/ 变化/ ./ Chai/ 等/ 人/ [/ 14/ ]/ 使用/ 线性/ 时/ 不变/ 系统/ 建立/ 运动/ 的/ 动态/ 模型/ ,/ 并/ 采用/ 最大/ 后验/ 来/ 进行/ 优化/ 计算/ ,/ 求解/ 满足/ 约束/ 的/ 运动/ ./ Min/ 等/ 人/ [/ 15/ ]/ 提出/ 了/ 一种/ 可/ 变形运动/ 模型/ ,/ 将/ 运动/ 注册/ 曲线/ 和/ 运动/ 数据/ 整合/ 在/ 一起/ ,/ 也/ 结合/ 最大/ 后验/ 框架/ 来/ 交互式/ 合成/ 满足用户/ 指定/ 约束/ 的/ 运动/ ./ Min/ 等/ 人/ [/ 16/ ]/ 还/ 在/ 此/ 模型/ 的/ 基础/ 上/ 使用/ 多/ 线性/ 模型/ 来/ 处理/ 运动/ 风格/ ,/ 利用/ 张量分析/ 的/ 方法/ 将/ 运动/ 数据/ 分解/ 为/ 不同/ 的/ 因子/ ,/ 以此/ 模型/ 来/ 实现/ 风格/ 编辑/ ./ 而/ 本文/ 则/ 扩展/ 了/ 文献/ [/ 15/ ]/ 的/ 可/ 变形/ 模型/ ,/ 用于/ 处理/ 运动/ 风格/ ./ 3/ 算法/ 思路/ 本文/ 算法/ 可/ 分为/ 两个/ 主要/ 步骤/ :/ 第/ 1/ 步/ ,/ 模型/ 训练/ 和/ 风格/ 提取/ ./ 首先/ ,/ 人体/ 运动/ 数据/ 经过/ 预处理/ 并/ 降维/ ,/ 整合/ 时空/ 两/ 方面/ 的/ 特性/ ,/ 然后/ ,/ 使用/ 机器/ 学习/ 算法/ 建立/ 独立/ 时空/ 特征/ 空间/ ./ 第/ 2/ 步/ ,/ 风格/ 编辑/ ./ 本文/ 将/ 风格/ 编辑/ 看作/ 运动/ 混合/ 和/ 优化/ 问题/ ,/ 通过/ 在/ 独立/ 时空/ 特征/ 空间/ 模型/ 上/ 建立/ 优化/ 方程/ 来/ 完成/ 编辑/ 操作/ ./ 图/ 1/ 给出/ 了/ 本文/ 方法/ 的/ 数据/ 变换/ 流程/ ./ 首先/ ,/ 在/ 低维/ 的/ 独立/ 时空/ 特征/ 空间/ 进行/ 优化/ 计算/ ,/ 得到/ 新/ 的/ 低维/ 表示/ ;/ 然后/ ,/ 变换/ 至/ 可/ 变形运动/ 空间/ ,/ 该/ 空间/ 的/ 数据/ 包括/ 运动/ 向量/ 和/ 时间/ 对齐/ 向量/ ;/ 接着/ ,/ 用/ 时间/ 对齐/ 曲线/ 把/ 标准/ 时间轴/ 上/ 的/ 运动/ 向量/ 变换/ 回/ 原始/ 时间轴/ ,/ 即/ 得到/ 在/ PCA/ 空间/ 的/ 低维/ 运动/ 序列/ ,/ 最后/ 重建/ 图/ 1/ 用/ 独立/ 时空/ 特征/ 空间/ 合成/ 新/ 运动/ 的/ 流程/ Page3/ 到/ 视觉/ 空间/ 即可/ ./ 从/ 该/ 流程/ 可以/ 看出/ ,/ 运动/ 的/ 空间/ 特性/ (/ 运动/ 向量/ )/ 和/ 时间/ 特性/ (/ 时间/ 对齐/ 向量/ )/ 被/ 封装/ 并/ 参数/ 化在/ 独立/ 时空/ 特征/ 空间/ 中/ ./ 4/ 数据分析/ 与/ 预处理/ 在/ 建立/ 运动/ 模型/ 之前/ ,/ 先/ 要/ 分析/ 并/ 处理/ 运动/ 数据/ ,/ 主要/ 包括/ 3/ 个/ 步骤/ :/ 创建/ 运动/ 数据/ 集/ 、/ 时间/ 对齐/ 和/ 数据/ 降维/ ./ 4.1/ 数据表示/ 本文/ 所有/ 运动/ 数据/ 都/ 被/ 表示/ 成/ 一个/ 高维/ 向量/ {/ 狓/ n/ |/ n/ =/ 1/ ,/ 2/ ,/ …/ ,/ N/ }/ ,/ 其中/ N/ 是/ 运动/ 样本数/ ./ 而/ 每/ 一帧/ {/ 狓/ n/ (/ t/ )/ |/ t/ =/ 1/ ,/ 2/ ,/ …/ ,/ Tn/ }/ 由/ 全局/ 坐标/ 位置/ 狆/ 和/ 所有/ 关节/ 的/ 旋转/ 角/ 狇/ 表示/ 为/ (/ 狆/ ,/ 狇/ 1/ ,/ …/ ,/ 狇/ r/ )/ t/ ,/ 其中/ r/ 是/ 旋转/ 角/ 个数/ ,/ Tn/ 是/ 第/ n/ 段/ 运动/ 的/ 帧/ 数/ ./ 也就是说/ ,/ 所有/ 的/ 运动/ 样本/ 都/ 是/ 将/ 每/ 一帧/ 串接/ 起来/ 得到/ 的/ ,/ 且/ 维数/ D/ =/ 3/ (/ r/ +/ 1/ )/ ×/ Tn/ ./ 4.2/ 时间/ 对齐/ 时间/ 对齐/ 的/ 目的/ 是/ 使/ 所有/ 运动/ 都/ 具有/ 相同/ 的/ 结构/ ./ 对齐/ 时/ ,/ 首先/ 选取/ 一段/ 中性/ 运动/ 作为/ 参考/ 运动/ ,/ 然后/ 为/ 参考/ 运动/ 和/ 所有/ 数据/ 集中/ 的/ 样本/ 手动/ 选择/ 一些/ 关键帧/ ,/ 包括/ 起始/ 帧/ 、/ 结束/ 帧/ 和/ 脚/ 接触/ 地面/ 及/ 离开/ 地面/ 时/ 的/ 帧/ ,/ 这样/ 所有/ 的/ 运动/ 数据/ 都/ 被/ 手动/ 分割/ 为/ 若干/ 小/ 的/ 片段/ ./ 最后/ 对齐/ 每个/ 子/ 片段/ ./ 时间/ 对齐/ 可/ 使用/ 对齐/ 曲线/ 狑/ (/ t/ )/ 来/ 表示/ ./ {/ 狑/ n/ (/ t/ )/ |/ n/ =/ 1/ ,/ 2/ ,/ …/ ,/ N/ ,/ t/ =/ 1/ ,/ 2/ ,/ …/ ,/ T/ }/ 是/ 一个/ 定义/ 在/ 标准/ 时间轴/ 上/ 的/ T/ 维/ 向量/ ,/ 其中/ T/ 是/ 所有/ 运动/ 片段/ 对齐/ 后/ 的/ 帧/ 数/ ,/ 它/ 表示/ 参考/ 运动/ 的/ 第/ t/ 帧/ 和/ 待/ 对齐/ 运动/ 的/ 第/ 狑/ (/ t/ )/ 帧/ 之间/ 的/ 关联/ ./ 所有/ 原始数据/ 狓/ n/ 通过/ 狑/ n/ (/ t/ )/ 变换/ 为/ 对齐/ 后/ 的/ 运动/ 序列/ {/ 狕/ n/ (/ t/ )/ |/ n/ =/ 1/ ,/ 2/ ,/ …/ ,/ N/ ,/ t/ =/ 1/ ,/ 2/ ,/ …/ ,/ T/ }/ ./ 我们/ 设/ 函数/ d/ (/ 狑/ (/ t/ )/ )/ 表示/ 参考/ 运动/ 的/ 第/ t/ 帧/ 和/ 待/ 对齐/ 运动/ 的/ 第/ 狑/ (/ t/ )/ 帧/ 之间/ 的/ 非/ 相似/ 度/ ,/ 求解/ 时间/ 对齐/ 问题/ 就是/ 寻找/ 一条/ 曲线/ 狑/ ,/ 使得/ 该/ 曲线/ 对应/ 的/ 两段/ 运动/ 的/ 帧/ 间/ 非/ 相似/ 度/ 之/ 和/ 最大/ ,/ 可用/ 下/ 式/ 表示/ 为/ 其中/ T/ ⌒/ 是子/ 片段/ 的/ 帧/ 数/ ,/ 本文/ 中/ 两/ 帧/ 之间/ 的/ 非/ 相似/ 度/ 使用/ 了/ 文献/ [/ 17/ ]/ 定义/ 的/ 度量/ ./ 求解/ 时间/ 对齐/ 曲线/ 需要/ 满足/ 三个/ 约束条件/ :/ 连续/ 、/ 单调/ 和/ 坡度/ 要求/ ./ 其中/ 坡度/ 要求/ 限制/ 了/ 曲线/ 沿/ 水平/ 或/ 垂直/ 方向/ 最/ 多/ 可以/ 连续/ 前进/ 的/ 步数/ ./ 上述/ 约束条件/ 可/ 描述/ 为/ if/ 狑/ (/ t/ )/ =/ T/ ^/ ,/ then/ 狑/ (/ t/ +/ 1/ )/ =/ T/ ^/ ∨/ T/ ^/ +/ 1/ (/ 2/ )/ if/ 狑/ (/ t/ )/ =/ …/ =/ 狑/ (/ t/ +/ i/ -/ 1/ )/ =/ T/ ^/ ,/ then/ 狑/ (/ t/ +/ i/ )/ =/ T/ ^/ +/ 1/ 其中/ i/ ∈/ [/ 1/ ,/ T/ ]/ 是/ 最/ 多/ 可以/ 连续/ 前进/ 的/ 步数/ ,/ 本文/ 设/ i/ =/ 2/ ./ 式/ (/ 2/ )/ 和/ 式/ (/ 3/ )/ 分别/ 定义/ 了/ 单调/ 和/ 坡度/ 要求/ ,/ 利用/ 动态/ 规划/ 算法/ 在/ 式/ (/ 2/ )/ 和/ 式/ (/ 3/ )/ 的/ 约束条件/ 下/ 求解/ 式/ (/ 1/ )/ 即可/ 得到/ 时间/ 对齐/ 曲线/ ./ 图/ 2/ 绘出/ 了/ 本文/ 使用/ 的/ 半自动/ 时间/ 对齐/ 曲线/ 对齐/ 中性/ 运动/ 和/ 跨步/ 运动/ 的/ 例子/ ,/ 并/ 给出/ 了/ 手动/ 选择/ 的/ 若干/ 关键帧/ ,/ 分别/ 对应/ 左/ 、/ 右脚/ 离开/ 地面/ 时/ 的/ 情况/ ./ 4.3/ 数据/ 降维/ 本文/ 对/ 运动/ 数据/ 和/ 时间/ 对齐/ 曲线/ 都/ 进行/ 降维/ 处理/ ./ 对于/ 空间/ 特征/ ,/ 将/ PCA/ 作用/ 于/ 对齐/ 后/ 的/ 运动/ 向量/ 狕/ n/ ,/ 得到/ 其中/ 狕/ 0/ 是/ 所有/ 对齐/ 后/ 样本/ 的/ 均值/ ,/ 狌/ =/ (/ u1/ ,/ …/ ,/ uK/ )/ 是/ 主/ 系数/ 向量/ ,/ 为/ 运动/ 数据/ 在/ 各个/ 正交/ 的/ 特征/ 运动/ 向量/ 犪/ i/ 上/ 的/ 投影/ ,/ 而/ K/ / N/ </ T/ ./ 降维/ 后任/ 一/ 标准/ 时刻/ t/ 的/ 姿态/ 可以/ 表示/ 为/ 同样/ 地/ ,/ PCA/ 也/ 需要/ 作用/ 于/ 时间/ 对齐/ 曲线/ ./ 但/ 直接/ 使用/ PCA/ 会/ 带来/ 问题/ ,/ 因为/ 时间/ 对齐/ 曲线/ 必须/ 满足/ 非负/ 和/ 单调/ 递增/ 的/ 约束/ ,/ 而/ PCA/ 操作/ 会/ 破坏/ 这些/ 约束/ ./ 本文/ 采用/ 了/ 文献/ [/ 15/ ]/ 中/ 的/ 变换/ 将/ 时间/ 对齐/ 曲线/ 狑/ (/ t/ )/ 映射/ 到/ 新/ 的/ 空间/ 犺/ (/ t/ )/ :/ 犺/ (/ t/ )/ =/ ln/ (/ 狑/ (/ t/ )/ -/ 狑/ (/ t/ -/ 1/ )/ )/ ,/ t/ =/ 1/ ,/ 2/ ,/ …/ ,/ T/ (/ 6/ )/ 并/ 令/ 狑/ (/ 0/ )/ =/ 0/ ,/ 其反/ 变换/ 为/ 狑/ (/ t/ )/ =/ ∑/ t/ 意/ ,/ 狑/ (/ t/ )/ 始终/ 是非/ 负/ 的/ ,/ 且/ 单调/ 递增/ ,/ 在/ 犺/ (/ t/ )/ 空间/ 执/ Page4/ 行/ PCA/ 不会/ 破坏/ 时间/ 对齐/ 曲线/ 在/ 狑/ (/ t/ )/ 空间/ 的/ 约束条件/ ,/ 最后/ 狑/ (/ t/ )/ 被/ 表示/ 为/ 狑/ (/ t/ )/ =/ W/ (/ 狏/ )/ =/ ∑/ t/ 其中/ ,/ 犺/ 0/ 是/ 所有/ 对齐/ 曲线/ 在/ 犺/ (/ t/ )/ 空间/ 的/ 均值/ ,/ 而/ 犫/ j/ 张成/ 一个/ 低/ 维空间/ ,/ 狏/ =/ (/ vi/ ,/ …/ ,/ vL/ )/ 是/ 犺/ (/ t/ )/ 在/ 该/ 空间/ 的/ 低维/ 表示/ ,/ 且/ L/ / N/ </ T/ ./ 需要/ 说明/ 的/ 是/ ,/ 执行/ PCA/ 时要/ 计算/ 协方差/ 矩阵/ 犆/ x/ =/ 狓/ 狓/ T/ (/ 狓/ 为/ 去/ 均值/ 的/ 向量/ ,/ 且/ 犆/ x/ 是/ T/ ×/ T/ 方阵/ )/ 及其/ 特征向量/ ,/ 本文/ 数据/ 维数/ 大于/ 样本数/ 时/ (/ N/ </ T/ )/ ,/ 存储/ 和/ 计算/ 开销/ 太大/ ./ 因此/ ,/ 本文/ 取代/ 计算/ 狓/ 狓/ T/ ,/ 改为/ 计算/ 犆/ ^/ x/ =/ 狓/ T/ 狓/ 及其/ 特征向量/ λ/ ^/ i/ ,/ 犆/ ^/ x/ 是/ N/ ×/ N/ 的/ 方阵/ ,/ 尺寸/ 大大/ 减小/ ,/ 且/ 可以/ 将/ 数据/ 维数/ 降到/ N/ 维/ 以下/ ./ 这样/ 犆/ x/ 的/ 特征向量/ λ/ i/ =/ 狓/ ·/ λ/ ^/ i/ ./ 对/ 运动/ 数据/ 和/ 时间/ 对齐/ 曲线/ 进行/ 降维/ 的/ 结果/ 是/ 获得/ 了/ 两个/ 向量/ 狌/ 和/ 狏/ ,/ 以及/ 由/ 向量/ 犪/ i/ 和/ 犫/ j/ 张成/ 的/ 两个/ 子/ 空间/ ,/ 分别/ 刻画/ 了/ 运动/ 在/ 空间/ 和/ 时间/ 上/ 的/ 特征/ ./ 5/ 独立/ 时空/ 特征/ 空间/ 结合/ 运动/ 数据/ 的/ 空间/ 和/ 时间/ 模型/ ,/ 能够/ 得到/ 一个/ 可/ 变形运动/ 模型/ ./ 在/ 该/ 模型/ 的/ 基础/ 上/ 利用/ 统计分析/ 提取/ 风格/ 参数/ ,/ 可/ 将/ 风格/ 元素/ 嵌入/ 一个/ 新/ 的/ 低/ 维空间/ ,/ 从而/ 建立/ 能够/ 编辑/ 静态/ 与/ 动态/ 风格/ 的/ 风格化/ 运动/ 模型/ ./ 5.1/ 可/ 变形运动/ 模型/ 本文/ 采用/ 文献/ [/ 15/ ]/ 的/ 方法/ 构建/ 可/ 变形运动/ 模型/ ./ 根据/ 4.3/ 小节/ 的/ 结论/ ,/ 向量/ 狌/ 和/ 狏/ 共同/ 表示/ 运动/ 数据/ 的/ 低维/ 特征/ ,/ 如果/ 将/ 狌/ 和/ 狏/ 连接起来/ ,/ 可以/ 组成/ 一个/ 新/ 的/ 向量/ 狊/ ∈/ / 其中/ 犕/ 是/ 一个/ L/ ×/ L/ 的/ 对角/ 阵/ ,/ 用于/ 指定/ 向量/ 狏/ 中/ 每个/ 元素/ 的/ 权值/ ./ 这么/ 做/ 的/ 原因/ 是/ 犪/ i/ 和/ 犫/ j/ 构成/ 的/ 是/ 不同/ 的/ 子/ 空间/ ,/ 而/ 狌/ 和/ 狏/ 也/ 具有/ 不同/ 的/ 单位/ ,/ 不能/ 直接/ 连接/ ./ 这/ 类似/ 于/ 文献/ [/ 18/ ]/ 中将/ 脸型/ 和/ 纹理/ 向量/ 串联/ 起来/ 组成/ 一个/ 新/ 的/ 向量/ ./ 5.2/ 独立/ 时空/ 特征/ 空间/ 模型/ 为了/ 得到/ 运动/ 的/ 风格/ 参数/ ,/ 本文/ 使用/ 独立/ 特征/ 子/ 空间/ 分析/ (/ IndependentFeatureSubspacesAnal/ -/ ysis/ ,/ IFSA/ )/ 对/ 可/ 变形运动/ 模型/ 做/ 进一步/ 的/ 处理/ 与/ 分析/ ./ IFSA/ 是/ 多维/ ICA/ 和/ 不变/ 特征/ 子/ 空间/ 两种/ 技术/ 的/ 结合/ [/ 19/ ]/ ./ 多维/ ICA/ 是/ 传统/ ICA/ 技术/ 的/ 扩展/ ,/ 该/ 模型/ 不/ 要求/ 各/ 成分/ 之间/ 完全/ 独立/ ,/ 而是/ 将/ 这些/ 成分/ 再/ 划分/ 为/ 一些/ k/ 元组/ ,/ 每个/ 子/ 成分/ 相互依赖/ ,/ 但/ k/ 元组/ 之间/ 的/ 依赖性/ 是/ 不/ 允许/ 的/ ./ 不变/ 特征/ 子/ 空间/ 技术/ 认为/ 一个/ 不变/ 特征/ 可以/ 被/ 看作/ 特征/ 空间/ 中/ 的/ 一个/ 线性/ 子/ 空间/ ,/ 而/ 不变/ 的/ 高阶/ 特征/ 的/ 值/ 是/ 观测/ 数据/ 在/ 该子/ 空间/ 上/ 投影/ 的/ 范数/ ,/ 相应/ 的/ 子/ 空间/ 由/ 低阶/ 特征/ 张成/ ,/ 如图/ 3/ 所示/ ./ 因此/ ,/ 第/ j/ 个子/ 空间/ 的/ 高阶/ 特征值/ Fj/ 可由/ 下式/ 求得/ 对于/ 观测/ 数据/ 狊/ n/ ,/ n/ =/ 1/ ,/ 2/ ,/ …/ ,/ N/ ,/ 估计/ 独立/ 特征/ 空间/ 模型/ 即/ 求解/ 下面/ 的/ 最优化/ 问题/ :/ 犲/ / i/ =/ argmax/ 犲/ i/ =/ argmax/ 犲/ {/ i/ ∑/ N/ 其中/ L/ (/ ·/ )/ 是/ 似然/ 函数/ ,/ 而/ 犲/ i/ 是子/ 空间/ 的/ 基/ 向量/ ,/ J/ 是/ 独立/ 子/ 空间/ 的/ 数目/ ,/ / j/ (/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ J/ )/ 表示/ 属于/ 第/ j/ 个子/ 空间/ 中/ 所有/ 成分/ γ/ i/ 的/ 集合/ ./ 式/ 中/ p/ (/ ·/ )/ 给出/ 了/ Sj/ 落/ 在/ 第/ j/ 个/ k/ 元组/ 中/ 的/ 概率/ ,/ 根据/ 非/ 高斯/ 性越/ 强/ ,/ 独立性/ 就/ 越强/ 的/ 原则/ ,/ 假设/ 概率分布/ 为/ 明显/ 的/ 超/ 高斯分布/ ,/ 如/ logp/ (/ u/ )/ =/ -/ λ/ 1u1/ // 2/ +/ λ/ 2/ ./ 概率密度函数/ 的/ 自变量/ 是子/ 空间/ 范数/ 的/ 平方/ ,/ 具有/ 球面/ 对称性/ ./ 它/ 并/ 不/ 区别对待/ 数据/ 在/ 同一/ 子/ 空间/ 的/ 不同/ 基/ 向量/ 上/ 的/ 投影/ ,/ 而是/ 考虑/ 在/ 该子/ 空间/ 的/ 所有/ 基/ 向量/ 上/ 投影/ 的/ 综合/ 效果/ ./ 换言之/ ,/ 子/ 空间/ 的/ 各维/ 之间/ 具有/ 依赖性/ ./ 因此/ IFSA/ 能够/ 处理/ ICA/ 无法/ 处理/ 的/ 某些/ 剩余/ 的/ 依赖性/ ,/ 并/ 表达/ 高阶/ 的/ 不变/ 特性/ ./ 最终/ 求解/ 使式/ (/ 10/ )/ 即可/ 估计/ 出/ 犲/ i/ ./ 本文/ 使用/ Page5/ 式/ (/ 11/ )/ 给出/ 的/ 随机/ 梯度/ 法/ [/ 19/ ]/ 迭代/ 计算/ 犲/ i/ ,/ 其中/ Δ/ 犲/ li/ 表示/ 犲/ i/ 的/ 第/ l/ 个/ 元素/ 每次/ 迭代/ 的/ 步长/ ./ 其中/ g/ (/ u/ )/ =/ p/ // p/ =/ -/ λ/ 1u/ -/ 1/ // 2/ 是/ 一个/ 非线性/ 函数/ ,/ 包含/ 了/ 保证/ 投影/ 范数/ 尽可能/ 稀疏/ 分布/ 的/ 信息/ ./ 为了/ 在/ J/ 个子/ 空间/ 中/ 找到/ 一个/ 最能/ 代表/ 运动/ 风格/ 的/ 子/ 空间/ ,/ 本文/ 定义/ 一个/ 度量/ ./ 同时/ 将/ 该子/ 空间/ 命名/ 为/ “/ 时空/ 风格/ 子/ 空间/ ”/ ,/ 因为/ 它/ 包含/ 了/ 运动/ 在/ 时空/ 两维/ 上/ 的/ 特性/ ,/ 记其/ 索引/ 为/ jS/ ,/ 则/ jS/ =/ argmaxj/ ∈/ [/ 1/ ,/ J/ ]/ 其中/ i/ 是/ 运动/ 的/ 索引/ 值/ ,/ 而/ i/ =/ 1/ 对应/ 的/ 是/ 参考/ 运动/ ,/ Fi/ ,/ j/ 是/ 第/ i/ 段/ 运动/ 在/ 第/ j/ 个子/ 空间/ 的/ 特征/ ,/ 由式/ (/ 9/ )/ 计算/ ./ 可见/ ,/ 该/ 度量/ 旨在/ 寻找/ 能够/ 使/ 所有/ 运动/ 与/ 参考/ 运动/ 在/ 其/ 上/ 的/ 投影/ 范数/ 的/ 差/ 最大/ 的/ 子/ 空间/ ./ 换句话说/ ,/ 该子/ 空间/ 与/ 其它/ 子/ 空间/ 统计/ 独立/ ,/ 能够/ 有效/ 区分/ 参考/ 运动/ 与/ 风格化/ 运动/ ,/ 并/ 封装/ 了/ 运动/ 时空/ 特性/ ./ 独立/ 时空/ 特征/ 空间/ 是/ 可/ 变形运动/ 模型/ 进一步/ 变换/ 的/ 结果/ ,/ 能够/ 描述/ 运动/ 的/ 风格/ ./ 可/ 变形运动/ 向量/ 狊/ n/ 被/ 重新/ 投影/ 到/ 各个/ 子/ 空间/ ,/ 得到/ 一系列/ 向量/ γ/ n/ ∈/ D/ ,/ 且/ D/ / K/ +/ L/ ./ 另记/ γ/ in/ ,/ i/ ∈/ / js/ 表示/ 向量/ γ/ 中/ 与/ 运动/ 风格/ 有关/ 的/ 元素/ ,/ 即/ 狊/ 在/ 时空/ 风格/ 子/ 空间/ 的/ 投影/ ./ 这样/ ,/ 任何/ 一段/ 运动/ 狓/ 都/ 可以/ 从/ 该/ 空间/ 重建/ 出来/ ,/ 如下/ 式/ 所示/ :/ / 其中/ T/ (/ γ/ )/ :/ γ/ / 狊/ 表示/ 从/ 独立/ 时空/ 特征/ 空间/ 到/ 可/ 变形运动/ 空间/ 的/ 映射/ ./ 实际上/ T/ =/ 犘/ 犃/ ^/ S/ 是/ 一个/ 线性变换/ ,/ 犘/ 是/ 一个/ 白化/ 矩阵/ ,/ 犃/ ^/ S/ 是/ IFSA/ 的/ 混合/ 矩阵/ ,/ 是/ 所有/ 子/ 空间/ 的/ 基/ 向量/ 犲/ i/ 组成/ 的/ 矩阵/ 的/ 逆/ ,/ 表示/ 从/ 独立/ 特征/ 子/ 空间/ 到/ 白化/ 数据/ 空间/ 的/ 映射/ [/ 17/ ]/ ./ Q/ (/ 狌/ ,/ 狏/ )/ =/ Z/ (/ 狌/ )/ / W/ (/ 狏/ )/ 表示/ 将式/ (/ 4/ )/ 所示/ 的/ 运动/ Z/ (/ 狌/ )/ 通过/ 式/ (/ 8/ )/ 表示/ 的/ 时间/ 对齐/ 信息/ W/ (/ 狏/ )/ 重新/ 扭曲/ 到/ 原始/ 时间轴/ ./ 6/ 风格化/ 运动/ 合成/ 本/ 节/ 主要/ 介绍/ 如何/ 使用/ 独立/ 时空/ 特征/ 空间/ 模型/ 狓/ =/ M/ (/ γ/ )/ 来/ 进行/ 风格化/ 运动/ 合成/ ./ 一种/ 最/ 直接/ 的/ 方式/ 是/ 风格/ 混合/ ,/ 即将/ 两种/ 不同/ 的/ 风格/ 叠加/ 在/ 一起/ ,/ 得到/ 具备/ 两种/ 风格特征/ 的/ 运动/ 片段/ ./ 设/ 两种/ 运动/ 的/ 风格/ 参数/ 分别/ 为/ γ/ 1/ 和/ γ/ 2/ ,/ 那么/ 新/ 的/ 风格/ 参数/ γ/ / 应由/ 这/ 两种/ 风格/ 在/ 时空/ 风格/ 子/ 空间/ 上/ 的/ 加权/ 求和/ 来/ 确定/ ,/ 数学/ 表达式/ 为/ γ/ / =/ 珚/ 犚/ S/ ·/ γ/ 1/ +/ 犚/ S/ ·/ [/ α/ γ/ 1/ +/ (/ 1/ -/ α/ )/ γ/ 2/ ]/ (/ 14/ )/ 其中/ 犚/ S/ 是/ 一个/ 对角/ 阵/ ,/ 用于/ 取得/ 向量/ γ/ 中/ 对应/ 时空/ 风格/ 子/ 空间/ 的/ 元素/ γ/ in/ ,/ i/ ∈/ / js/ ,/ 也就是说/ 对应/ 时空/ 风格/ 子/ 空间/ 基/ 向量/ 的/ 元素/ (/ 犚/ S/ )/ i/ ,/ i/ =/ 1/ ,/ i/ ∈/ / js/ ,/ 其它/ 均/ 为/ 0/ ./ 珚/ 犚/ S/ =/ 犐/ -/ 犚/ S/ 作用/ 正好/ 与其/ 相反/ ./ α/ 是/ 权值/ ,/ 用于/ 控制/ 第一段/ 运动/ 的/ 风格/ 在/ 最终/ 结果/ 中所/ 占/ 的/ 比例/ ./ 该/ 方法/ 简单/ 快速/ ,/ 但/ 并/ 不/ 直观/ ,/ 也/ 不能/ 方便/ 地/ 用于/ 多种/ 风格/ 的/ 混合/ ./ 通过/ 求解/ 优化/ 问题/ 来/ 合成/ 运动/ 风格/ 能够/ 直观/ 地/ 得到/ 风格/ 相对/ 比较复杂/ 的/ 运动/ ,/ 而且/ 可以/ 实现/ 运动/ 混合/ 不能/ 实现/ 的/ 交互式/ 编辑/ ./ 对/ 运动/ 数据/ 的/ 任何/ 一帧/ 进行/ 编辑/ 并/ 作为/ 约束条件/ ,/ 求解/ 式/ (/ 15/ )/ 所示/ 的/ 优化/ 方程/ 能够/ 得到/ 具备/ 新/ 风格/ 的/ 整段/ 运动/ ,/ 这是/ 由于/ 向量/ γ/ 建立/ 在/ 运动/ 空间/ ./ 因此/ ,/ 该/ 优化/ 问题/ 也/ 可以/ 看作/ 空时/ 约束/ 问题/ :/ 其中/ 犮/ 即/ 为/ 约束/ 帧/ ,/ 而/ 函数/ G/ :/ 犚/ S/ ·/ γ/ / 狓/ (/ τ/ )/ 是从/ 风格/ 子/ 空间/ 到/ 视觉/ 空间/ 的/ 人体/ 姿态/ 的/ 映射/ ./ 注意/ 犚/ S/ ·/ γ/ 表示/ 的/ 是/ 时空/ 风格/ 子/ 空间/ 的/ 投影/ ,/ 因此/ 求解/ 该/ 优化/ 问题/ 时/ 只/ 在/ 时空/ 风格/ 子/ 空间/ 中/ 进行/ 解/ 的/ 搜索/ ,/ 其它/ 子/ 空间/ 的/ 参数/ 全部/ 用/ 原始/ 运动/ 的/ 投影/ 表示/ ,/ 即/ 每次/ 迭代/ 只/ 改变/ 时空/ 风格/ 子/ 空间/ 的/ 投影/ 以此/ 来/ 满足/ 式/ (/ 15/ )/ ./ 由于/ 本文/ 的/ 运动/ 模型/ 封装/ 了/ 动态/ 特性/ ,/ 因此/ 还/ 可以/ 增加/ 别的/ 优化/ 项来/ 实现/ 风格/ 转换/ ,/ 如下/ 式/ 所示/ :/ γ/ / =/ argmin/ 第/ 1/ 项/ 表示/ 优化/ 后/ 的/ 运动/ 风格/ 总体/ 上要/ 与/ 原始/ 运动/ 风格/ 尽量/ 相似/ ,/ 即/ 搜索/ 要/ 在/ 原来/ 的/ 解/ 附近/ 进行/ ./ 参数/ 狓/ ^/ 的/ 选择/ 十分/ 重要/ ,/ 可以/ 先/ 选择/ 需要/ 转换/ 的/ 两段/ 不同/ 风格/ 的/ 运动/ ,/ 然后/ 采用/ 简单/ 的/ 线性/ 过渡/ ,/ 在/ 脚/ 接触/ 地面/ 或/ 离开/ 地面/ 的/ 关键帧/ 前后/ 混合/ 成/ 一段/ 运动/ 狓/ ^/ ,/ 最后/ 投影/ 到/ 独立/ 特征/ 子/ 空间/ 得到/ ^/ γ/ ./ 一般/ 狓/ ^/ 的/ 结果/ 都/ 不能/ 令人满意/ ,/ 可以/ 利用/ 式/ (/ 16/ )/ 再/ 进行/ 优化/ 计算/ ,/ 得到/ 更加/ 连贯/ 真实/ 的/ 运动/ ./ 另外/ ,/ 还/ 必须/ 恰当/ 地/ 指定/ 关键/ 姿态/ 作为/ 约束条件/ ,/ 即/ 第/ 2/ 个/ 优化/ 项/ ./ 其中/ 犮/ 为/ 某个/ 或/ 某/ 几个/ 约束/ 帧/ ,/ 函数/ H/ :/ γ/ / 狓/ (/ τ/ )/ 是/ 一个/ 从/ 独立/ 时空/ 特征/ 空间/ 到/ 视觉/ 空间/ 的/ 人体/ 姿态/ 的/ 映射/ ./ 权值/ λ/ 控制/ 指定/ 的/ 关键帧/ 对/ 结果/ 的/ 影响/ ,/ 该值/ 越大/ ,/ 结果/ 就/ 越/ 接近/ 指定/ 的/ 关键帧/ ./ 该/ 优化/ 问题/ 能够/ 实现/ 风格/ 之间/ 的/ 自然/ 转换/ ./ 由于/ 本文/ 使用/ 的/ 是/ 半自动/ 的/ 时间/ 对齐/ 算法/ ,/ 将/ 脚步/ 与/ 地面/ 的/ 接触/ 信息/ 包含/ 在/ 了/ 可/ 变形运动/ 模型/ Page6/ 中/ ,/ 因此/ 合成/ 结果/ 基本上/ 不/ 存在/ 滑步/ 现象/ ./ 但是/ 当/ 给定/ 的/ 约束/ 偏离/ 数据/ 集过/ 大时/ 可能/ 会/ 出现/ 这种/ 不/ 自然/ 的/ 现象/ ,/ 因此/ 需要/ 在/ 得到/ 的/ 结果/ 上/ 再/ 使用/ IK/ 算法/ 去除/ 滑步/ ./ 7/ 实验/ 结果/ 与/ 讨论/ 7.1/ 算法/ 执行/ 及/ 实验/ 结果/ 本文/ 从/ CMU/ 运动/ 捕获/ 数据库/ ①/ 中/ 选择/ 了/ 40/ 段/ (/ 即/ N/ =/ 40/ )/ 风格各异/ 的/ 行走/ 运动/ 序列/ 作为/ 数据/ 集/ ,/ 包括/ 自然/ 、/ 跨步/ 、/ 得意/ 、/ 男子汉/ 般/ 、/ 行军/ 、/ 僵尸/ 、/ 僵直/ 、/ 蹑手蹑脚/ 、/ 正步/ 和/ 跛足/ 等/ ,/ 并/ 向下/ 采样/ 到/ 每秒/ 30/ 帧/ ./ 另外/ ,/ 选择/ 了/ 一段/ 160/ 帧/ (/ 即/ T/ =/ 160/ )/ 的/ 自然/ 行走/ 作为/ 参考/ 运动/ ,/ 构成/ 标准/ 时间轴/ ,/ 作为/ 时间/ 对齐/ 操作/ 的/ 基准/ ./ 独立/ 时空/ 特征/ 空间/ 模型/ 狊/ 由/ 向量/ 狌/ 和/ 狏/ 组成/ ,/ 根据/ 第/ 4.3/ 节/ 的/ 描述/ ,/ 可以/ 将/ 数据/ 降到/ N/ 维/ 以下/ ./ 为了/ 保证/ 能够/ 恢复/ 出/ 自然/ 的/ 运动/ ,/ 我们/ 分别/ 将/ 运动/ 数据/ 狌/ 和/ 时间/ 对齐/ 曲线/ 狏/ 降到/ 30/ 维和/ 20/ 维/ ,/ 即/ K/ =/ 30/ ,/ L/ =/ 20/ ./ IFSA/ 则/ 将/ 50/ 维/ 的/ 狊/ 向量/ 重新/ 投影/ 到/ 5/ 个/ 10/ 维/ 独立/ 特征/ 子/ 空间/ ,/ 得到/ 50/ 维/ 的/ 向量/ γ/ ,/ 即/ k/ =/ 10/ ,/ J/ =/ 5/ ,/ 而/ D/ =/ kJ/ =/ K/ +/ L/ =/ 50/ ./ 本文/ 的/ 所有/ 矩阵/ 运算/ 与/ 优化/ 计算/ 都/ 采用/ 了/ 科学计算/ 库/ GSL/ ②/ ,/ 特别/ 地/ ,/ 式/ (/ 15/ )/ 和/ (/ 16/ )/ 使用/ 了/ 最新/ 版本/ 的/ GSL/ 提供/ 的/ Levenberg/ -/ Marquardt/ 非线性/ 最小/ 二乘/ 算法/ ./ 图/ 4/ 给出/ 了/ 基于/ 式/ (/ 14/ )/ 的/ 风格/ 混合/ 的/ 实验/ 结果/ ,/ 该例/ 中将/ 男子汉/ 般/ 行走/ 运动/ 和/ 跛足/ 行走/ (/ 图/ 4/ 上/ )/ 两种/ 风格/ 进行/ 混合/ ,/ 可以/ 得到/ 男子汉/ 的/ 跛足/ 运动/ (/ 图/ 4/ 下/ )/ ./ 该/ 方法/ 可以/ 有效/ 控制/ 跨步/ 的/ 步幅/ 而/ 不会/ 带来/ 滑步/ 问题/ ./ 同时/ ,/ 能够/ 保留/ 两种/ 运动/ 的/ 部分/ 动态/ 特性/ ./ 图/ 5/ 是/ 使用/ 式/ (/ 15/ )/ 进行/ 风格/ 编辑/ 的/ 例子/ ,/ 上图/ 中/ 夸张/ 跨步/ 的/ 一个/ 关键帧/ (/ 显示/ 为/ 半透明/ )/ 被/ 重新/ 编辑/ ,/ 减小/ 了/ 步幅/ 和/ 手臂/ 的/ 摆幅/ (/ 显示/ 为/ ①/ )/ ,/ 通过/ 优化/ 可以/ 得到/ 小/ 跨步/ 运动/ (/ 见图/ 5/ 下/ )/ ,/ 并且/ 能够/ 满足/ 脚/ 接触/ 地面/ 的/ 约束条件/ ./ 该/ 编辑/ 只/ 在/ 时空/ 风格/ 子/ 空间/ 内/ 进行/ ,/ 优化/ 搜索/ 空间/ 小/ ,/ 收敛/ 速度/ 快/ ./ 证明/ 了/ 跨步/ 步幅/ 作为/ 风格/ 的/ 重要/ 成分/ 已经/ 被/ 恰当/ 封装/ 在/ 了/ 时空/ 风格/ 子/ 空间/ 内/ ./ 图/ 6/ 给出/ 了/ 一个/ 从/ 僵直/ 行走/ 转换/ 到/ 行军/ 风格/ 的/ 例子/ ./ 首先/ ,/ 将/ 僵直/ 运动/ 狓/ 1/ 和/ 行军/ 运动/ 狓/ 2/ 做/ 线性/ 过渡/ ,/ 过渡/ 窗口/ 选择/ 以/ 脚步/ 接触/ 地面/ 的/ 关键帧/ 为/ 中心/ ,/ ①/ ②/ Page7/ 从/ 1/ 到/ 0/ 变化/ 的/ 权值/ ./ 然后/ 将/ 狓/ ^/ 与/ 参考/ 运动/ 对齐/ ,/ 得到/ 狊/ ^/ ,/ 再/ 投影/ 到/ 风格/ 子/ 空间/ ./ 接着/ 需要/ 手动/ 调整/ 关键帧/ 使/ 它/ 看上去/ 更加/ 真实/ ,/ 图中/ 标注/ 为/ ①/ 的/ 虚拟/ 角色/ 表示/ 手工/ 编辑/ 的/ 关键帧/ ,/ 该/ 关键帧/ 可以/ 控制/ 风格/ 转换/ 的/ 速度/ ./ 最后/ 建立/ 如式/ (/ 16/ )/ 的/ 优化/ 方程/ 并/ 求解/ ,/ 这样/ 可以/ 得到/ 看上去/ 连贯/ 自然/ 的/ 风格/ 转换/ 效果/ ./ 演示/ 本文/ 最终/ 实验/ 结果/ 的/ 视频/ 可以/ 从/ 该/ 地址/ 下载/ :/ http/ :/ // // www/ ./ cad/ ./ zju/ ./ edu/ ./ cn/ // home/ // liugengdai/ // video/ // style/ _/ liu/ ./ mp4/ ./ 7.2/ 结果/ 分析/ 时域/ 特征/ 是/ 运动/ 风格/ 的/ 重要/ 组成部分/ ,/ 本文/ 使用/ 的/ 独立/ 时空/ 特征/ 空间/ 封装/ 了/ 运动/ 的/ 动态/ 特性/ ,/ 能够/ 更/ 精确/ 地/ 提取/ 运动/ 的/ 风格/ ./ 图/ 7/ 分别/ 将/ IFSA/ 作用/ 于/ 可/ 变形/ 向量/ 狊/ 和/ 运动/ 向量/ 狕/ 的/ 结果/ ,/ 横坐标/ 表示/ 独立/ 时/ 空子/ 空间/ 的/ 索引/ ,/ 纵坐标/ 是/ 40/ 段/ 运动/ 与/ 参考/ 运动/ 的/ Fj/ 之差/ 的/ 平均值/ ./ 从图/ 中/ 可以/ 得出/ 两个/ 重要/ 结论/ :/ 首先/ ,/ 使用/ IFSA/ 作用/ 于/ 可/ 变形/ 向量/ 狊/ 可以/ 有效/ 地/ 分离/ 出/ 一个/ 表征/ 风格/ 元素/ 的/ 子/ 空间/ (/ 第/ 3/ 个子/ 空间/ )/ ;/ 其次/ ,/ 仅/ 使用/ 运动/ 向量/ 狕/ 提取/ 风格/ 的/ 效果/ 没有/ 使用/ 可/ 变形/ 向量/ 狊/ 的/ 好/ ./ 这/ 是因为/ ,/ IFSA/ 具有/ 提取/ 高阶/ 特征/ 的/ 能力/ ,/ 而/ 狊/ 向量/ 本身/ 封装/ 了/ 更/ 多/ 的/ 信息/ ./ 独立/ 时空/ 特征/ 空间/ 模型/ 兼顾/ 了/ 运动/ 的/ 静态/ 与/ 动态/ 特性/ ,/ 并/ 能够/ 有效/ 封装/ 风格/ 元素/ ,/ 在/ 低维/ 运动/ 混合/ 与/ 空时/ 约束/ 框架/ 下/ 能够/ 求解/ 出所/ 需/ 的/ 运动/ ./ 该/ 方法/ 主要/ 有/ 以下/ 几个/ 的/ 优点/ :/ 首先/ ,/ 允许/ 用户/ 在/ 制定/ 约束/ 的/ 情况/ 下/ 编辑/ 运动/ 风格/ ,/ 也/ 可以/ 通过/ 指定/ 关键帧/ 来/ 实现/ 风格/ 转换/ ./ 其次/ ,/ 允许/ 用户/ 在/ 任一/ 关键帧/ 下/ 指定/ 任意/ 的/ 运动学/ 约束条件/ ;/ 第三/ ,/ 由于/ 在/ 时间/ 对齐/ 阶段/ 手动/ 标注/ 了/ 运动/ 的/ 关键/ 姿态/ ,/ 因此/ 合成/ 的/ 结果/ 可/ 基本/ 满足/ 环境/ 接触/ 约束/ ,/ 不会/ 产生/ 滑步/ 等/ 人为/ 痕迹/ ;/ 最后/ ,/ 本文/ 方法/ 基于/ 对/ 大量/ 运动/ 样本/ 的/ 训练/ ,/ 因此/ 编辑/ 后/ 的/ 运动/ 非常/ 自然/ ./ IFSA/ 的/ 训练/ 是/ 一个/ 比较/ 耗时/ 的/ 过程/ ,/ 这/ 是因为/ 数据/ 维数/ 较/ 高/ (/ 50/ 维/ )/ 且/ 每次/ 迭代/ 之后/ 都/ 要/ 将/ 向量/ 重新/ 正交/ 化/ (/ 保证/ 得到/ 的/ 是/ 正交/ 的/ 子/ 空间/ )/ ./ 实验/ 使用/ 了/ Intel/ 双核/ CPU/ 和/ 3GB/ 内存/ 的/ 笔记本电脑/ ,/ 在/ 该/ 平台/ 上/ ,/ 可以/ 在/ 3min/ 内/ 完成/ 训练/ ./ 另外/ ,/ 式/ (/ 14/ )/ 的/ 运动/ 混合/ 可以/ 实时/ 完成/ ,/ 而式/ (/ 15/ )/ 和/ (/ 16/ )/ 的/ 优化/ 计算/ 可以/ 交互式/ 的/ 速度/ 完成/ ,/ 如果/ 选择/ 较/ 好/ 地/ 初始/ 假设/ ,/ 一般/ 在/ 20/ ~/ 30/ 次/ 迭代/ 即可/ 收敛/ ./ 表/ 1/ 列出/ 了/ 风格/ 编辑/ 与/ 风格/ 转换/ 两种/ 情况/ 的/ 迭代/ 情况/ ,/ 包括/ 迭代/ 次数/ 和/ 每次/ 迭代/ 所/ 需要/ 的/ 时间/ ./ 从表中/ 可以/ 看出/ ,/ 风格/ 编辑/ 比/ 风格/ 转换/ 需要/ 更/ 多/ 的/ 迭代/ 次数/ 但/ 每次/ 迭代/ 需要/ 的/ 时间/ 较/ 短/ ,/ 这/ 是因为/ ,/ 风格/ 编辑/ 的/ 搜索/ 空间/ 较/ 小/ 但是/ 初始/ 运动/ 与/ 最终/ 结果/ 差别/ 较大/ ./ 另外/ ,/ 我们/ 还/ 分别/ 使用/ 狊/ 向量/ 与/ 狕/ 向量/ 来/ 进行/ 风格/ 编辑/ 的/ 操作/ ,/ 可以/ 看到/ ,/ 使用/ 狕/ 向量/ 的/ 迭代/ 次数/ 要/ 更/ 多一些/ ./ 同时/ 我们/ 对/ 使用/ 两种/ 向量/ 生成/ 的/ 结果/ 进行/ 了/ 对比/ ,/ 两种/ 方法/ 都/ 能够/ 得到/ 满足/ 约束/ 的/ 跨步/ 运动/ ,/ 且/ 没有/ 明显/ 滑步/ 现象/ ,/ 但是/ 使用/ 狕/ 向量/ 的/ 结果/ 没有/ 得到/ 较/ 好/ 的/ 动态/ 特性/ ,/ 如图/ 8/ 所示/ ./ 图中/ 可以/ 看到/ 使用/ 狊/ 向量/ 的/ 结果/ 在/ 时间/ 上/ 有/ 更为/ 丰富/ 的/ 变化/ ./ 需要/ 注意/ 的/ 是/ ,/ 算法/ 合成/ 的/ 狕/ 向量/ 里面/ 并/ 不/ 包含/ 对齐/ 信息/ ,/ 图/ 8/ (/ b/ )/ 中/ 的/ 对齐/ 曲线/ 是/ 我们/ 人为/ 将/ 它/ 与/ 参考/ 运动/ 进行/ 时间/ 对齐/ 的/ 结果/ ./ 表/ 1/ 风格/ 编辑/ 与/ 风格/ 转换/ 优化/ 计算/ 的/ 性能/ 对比/ 合成/ 模式/ 风格/ 编辑/ (/ 狊/ )/ 风格/ 编辑/ (/ 狕/ )/ 风格/ 转换/ 图/ 8/ 分别/ 使用/ 狊/ 和/ 狕/ 向量/ 进行/ 运动/ 编辑/ 的/ 动态效果/ 对比/ 然而/ ,/ 本文/ 方法/ 仍/ 存在/ 以下/ 几个/ 局限/ ./ 首先/ ,/ 最终/ 生成/ 的/ 运动/ 依赖于/ 初始/ 的/ 数据/ 集/ ,/ 因此/ 对于/ 那些/ 与/ 数据/ 集/ 偏差/ 较大/ 的/ 约束条件/ ,/ 本文/ 方法/ 无法/ 得到/ 满意/ 的/ 结果/ ./ 第二/ ,/ 本文/ 使用/ 的/ 运动/ 模型/ 目前/ 只能/ 处理/ 行走/ 类/ 的/ 运动/ ,/ 如/ 走/ 、/ 跑/ 等/ ./ 这类/ 数据/ 具有/ 比较/ 相似/ 的/ 空间/ 与/ 时间/ 结构/ ,/ 容易/ 提取/ 特征/ ,/ 而且/ 循环/ 运动/ Page8/ 更加/ 遵循/ 统计/ 规律/ ,/ 因此/ ,/ 基于/ 统计/ 学习/ 的/ 方法/ 比较/ 适用/ 于/ 这类/ 运动/ ./ 第三/ ,/ 独立/ 时空/ 特征/ 空间/ 模型/ 将/ 运动/ 的/ 动态/ 特性/ 作为/ 风格/ 的/ 一部分/ 全部/ 封装/ 了/ 起来/ ,/ 因此/ 与/ Min/ 的/ 方法/ [/ 15/ ]/ 相比/ ,/ 不能/ 直接/ 对/ 运动/ 的/ 动态/ 特性/ 进行/ 编辑/ ./ 8/ 结论/ 与/ 未来/ 工作/ 本文/ 提出/ 了/ 一种/ 满足用户/ 指定/ 约束/ 的/ 风格化/ 运动/ 编辑/ 方法/ ./ 该/ 方法/ 使用/ 独立/ 时空/ 特征/ 空间/ 模型/ 封装/ 了/ 运动/ 数据/ 在/ 时空/ 两个/ 维度/ 的/ 特征/ ,/ 能够/ 更好/ 地/ 处理/ 运动/ 的/ 动态/ 特性/ ./ 独立/ 时空/ 特征/ 空间/ 模型/ 集成/ 了/ 运动/ 数据/ 与/ 时间/ 对齐/ 信息/ ,/ 并且/ 包含/ 利用/ 独立/ 特征/ 子/ 空间/ 分析/ 所/ 提取/ 的/ 风格/ 元素/ ,/ 允许/ 用户/ 在/ 指定/ 约束/ 的/ 同时/ 编辑/ 风格/ ./ 编辑/ 操作/ 被/ 数学/ 化地/ 抽象/ 为/ 低维/ 运动/ 混合/ 和/ 空时/ 约束/ 问题/ ,/ 通过/ 求解/ 该/ 问题/ 合成/ 最终/ 的/ 动画/ 序列/ ./ 实验/ 结果表明/ 该/ 方法/ 计算/ 效率高/ ,/ 具有/ 良好/ 的/ 交互性/ 与/ 非常/ 逼真/ 的/ 视觉效果/ ,/ 能够/ 用于/ 人体/ 动画/ 的/ 交互式/ 编辑/ 和/ 实时/ 合成/ ./ 虽然/ 本文/ 对于/ 行走/ 运动/ 取得/ 了/ 较/ 好/ 的/ 效果/ ,/ 但是/ 下/ 一步/ 希望/ 能够/ 将/ 该/ 方法/ 扩展/ 到/ 其它/ 类型/ 的/ 运动/ 中/ ,/ 这/ 就/ 需要/ 对/ 时间/ 对齐/ 和/ 低维/ 运动/ 模型/ 进行/ 改进/ ./ 另外/ ,/ 还/ 希望/ 提取/ 更为/ 具体/ 的/ 运动/ 动态/ 参数/ ,/ 比如/ 跨步/ 的/ 步幅/ 、/ 跳跃/ 的/ 高度/ 等/ ,/ 为了/ 实现/ 这个/ 目标/ ,/ 可以/ 尝试/ 多因子/ 分解/ 的/ 方法/ ,/ 如多/ 线性/ 分析/ ,/ 这样/ 就/ 能够/ 分离/ 出/ 更加/ 具体/ 的/ 多种/ 风格/ 元素/ ,/ 从而/ 极大/ 地/ 丰富/ 运动/ 风格/ 编辑/ 的/ 手段/ ./ 这些/ 都/ 将/ 作为/ 今后/ 的/ 工作/ 内容/ ./ 

