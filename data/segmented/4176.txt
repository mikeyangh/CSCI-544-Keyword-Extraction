Page1/ 大规模/ 层次/ 分类/ 中/ 的/ 候选/ 类别/ 搜索/ 何力/ 1/ )/ 丁兆云/ 2/ )/ 贾焰/ 1/ )/ 韩伟红/ 1/ )/ 1/ )/ (/ 国防科学技术大学/ 计算机/ 学院/ 长沙/ 410073/ )/ 2/ )/ (/ 国防科学技术大学/ 信息系统/ 与/ 管理/ 学院/ 长沙/ 410073/ )/ 摘要/ 大规模/ 层次/ 分类/ 问题/ 研究/ 如何/ 将/ 互联网/ 上/ 的/ 网页/ 文档/ 准确/ 地分/ 到/ 类别/ 层次/ 中/ 的/ 各个/ 类别/ ./ 因为/ 类别/ 层次/ 规模/ 巨大/ ,/ 通常/ 可以/ 达到/ 数千/ 甚至/ 数万/ 个/ 类别/ ,/ 严重/ 影响/ 了/ 分类/ 性能/ ./ 对此/ ,/ 已有/ 研究/ 通过/ 搜索/ 待/ 分类/ 文档/ 在/ 类别/ 层次/ 中/ 的/ 候选/ 类别/ 对/ 文档/ 进行/ 分类/ ,/ 但/ 结果表明/ 候选/ 类别/ 搜索/ 成为/ 了/ 其中/ 瓶颈/ ./ 文中/ 首先/ 对/ 候选/ 搜索/ 问题/ 的/ 计算/ 复杂性/ 进行/ 了/ 分析/ ,/ 证明/ 了/ 该/ 问题/ 是/ NP/ 难/ 的/ ,/ 接下来/ 提出/ 了/ 一个/ 基于/ 贪心/ 策略/ 的/ 启发式/ 候选/ 搜索算法/ ,/ 并且/ 证明/ 了/ 该/ 贪心/ 策略/ 在/ 求解/ 过程/ 中是/ 一个/ 局部/ 最优/ 选择/ ./ 作者/ 采用/ DMOZ/ 目录/ 中/ 的/ 简体中文/ 网页/ 数据/ 进行/ 了/ 实验/ 论证/ ,/ 实验/ 结果显示/ ,/ 相比/ 已有/ 算法/ ,/ 文中/ 提出/ 的/ 候选/ 类别/ 搜索算法/ 在/ 候选/ 类别/ 搜索/ 的/ 准确率/ 上/ 提高/ 了/ 大约/ 7.5/ %/ ./ 关键词/ 文本/ 分类/ ;/ 大规模/ 层次/ 分类/ ;/ 类别/ 层次/ ;/ 候选/ 类别/ ;/ 候选/ 搜索/ 问题/ ;/ 社交/ 网络/ 1/ 引言/ 以/ 互联网/ 为/ 代表/ 的/ 信息/ 革命/ 极大/ 改变/ 了/ 人们/ 的/ 生活/ 、/ 生产方式/ ,/ 社会/ 对/ 网络/ 信息系统/ 的/ 依赖/ 也/ 日益/ 增强/ ./ 然而/ ,/ 互联网/ 的/ 自由性/ 、/ 开放性/ 、/ 迅捷/ 性/ 以及/ 低廉/ 的/ 成本/ 和/ 高额/ 的/ 利润/ 同时/ 也/ 使/ 其/ 成为/ 了/ 有害信息/ 发育/ 繁殖/ 的/ 沃土/ ./ 各种/ 令人不安/ 的/ 信息/ 如/ 湍急/ 暗流/ 隐藏/ 在/ 互联网/ 信息/ 大潮/ 下/ ,/ 包括/ 色情/ 、/ 邪教/ 、/ 赌博/ 、/ 毒品/ 、/ 虚假/ 新闻/ 、/ 宣扬/ 暴力/ 在内/ 的/ 各种/ 有害信息/ 充斥/ 于/ 互联网/ 上/ ./ 因此/ ,/ 对/ 网络/ 和/ 信息/ 的/ 安全/ 管理/ 与/ 控制/ 尤为/ 关键/ ./ 基于/ 互联网/ 分类目录/ 的/ 网络/ 访问控制/ 是/ 网络安全/ 管理/ 的/ 一种/ 重要/ 技术手段/ ,/ 通过/ 建立/ 全面/ 、/ 精确/ 的/ 互联网/ 分类目录/ ,/ 可以/ 实现/ 快速/ 、/ 精细/ 的/ 网络/ 访问控制/ ./ 互联网/ 分类目录/ 是/ 一个/ 主题/ 分类目录/ ,/ 它/ 按照/ 一个/ 概念/ 或/ 主题/ 类别/ 层次/ 对/ 网络/ 信息/ 进行/ 标记/ 和/ 组织/ ,/ 提供/ 网络资源/ 的/ 搜索/ 和/ 访问/ ./ 互联网/ 分类目录/ 通常/ 包含/ 数千/ 、/ 甚至/ 数万/ 个/ 类别/ ,/ 它/ 将/ 这些/ 类别/ 组织/ 为树/ (/ Tree/ )/ 或者/ 有/ 向/ 无/ 环图/ (/ DirectedAcyclicGraph/ )/ 的/ 层次/ 式/ 结构/ ./ 雅虎/ 目录/ (/ Yahoo/ !/ Directory/ )/ ①/ 和/ ODP/ (/ OpenDirectoryProject/ )/ ②/ 是/ 网络/ 分类目录/ 中/ 的/ 典型/ 代表/ ./ 为/ 构建/ 精确/ 的/ 网络资源/ 目录/ ,/ 我们/ 需要/ 研究/ 面向/ 网页/ 的/ 大规模/ 层次/ 分类/ 技术/ ,/ 以/ 实现/ 对/ 互联网/ 上/ 未知/ 类别/ 信息/ 的/ 准确/ 分类/ ./ 因此/ ,/ 大规模/ 层次/ 分类/ 技术/ 是/ 构建/ 互联网/ 分类目录/ 的/ 基础/ ,/ 是/ 构建/ 健康/ 、/ 和谐/ 的/ 互联网/ 环境/ 的/ 重要/ 技术手段/ ,/ 同时/ 也/ 是/ 很多/ 网络应用/ 的/ 基础/ ,/ 包括/ 绿色/ 上网/ 、/ 网络/ 信誉/ 管理/ 、/ 安全/ 过滤/ 等/ ./ 类别/ 层次/ 规模/ 巨大/ 是/ 大规模/ 层次/ 分类/ 技术/ 面临/ 的/ 一个/ 主要/ 挑战/ ,/ 针对/ 这一/ 挑战/ ,/ 目前/ 学术界/ 采用/ 了/ 3/ 种/ 解决/ 策略/ ,/ 分别/ 是/ 全局/ 处理/ 策略/ (/ overall/ -/ conquer/ )/ 、/ 分而治之/ 的/ 策略/ (/ divide/ -/ and/ -/ conquer/ )/ 以及/ 化繁为简/ 的/ 策略/ (/ reduce/ -/ and/ -/ conquer/ )/ [/ 1/ ]/ ./ 根据/ 文献/ [/ 1/ ]/ 所述/ ,/ 这/ 3/ 种/ 策略/ 的/ 特点/ 分别/ 如下/ :/ 全局/ 处理/ 策略/ 将/ 所有/ 类别/ 作为/ 一个/ 整体/ ,/ 在/ 整个/ 数据/ 集上/ 进行/ 分类/ 的/ 学习/ ,/ 然后/ 对待/ 分类/ 文档/ 进行/ 分类/ ;/ 分而治之/ 策略/ 按照/ 类别/ 层次/ 将/ 大规模/ 的/ 全局/ 分类/ 问题/ 分解/ 为/ 一组/ 规模较/ 小/ 的/ 局部/ 分类/ 问题/ ,/ 在/ 类别/ 层次/ 的/ 各个/ 节点/ 上/ 分别/ 进行/ 分类/ 的/ 学习/ ,/ 对待/ 分类/ 文档/ 进行/ 自上而下/ 的/ 分类/ ;/ 化繁为简/ 策略/ 通过/ 搜索/ 类别/ 层次/ 中/ 与/ 待/ 分类/ 文档/ 相关/ 的/ 那些/ 类别/ ,/ 将/ 大规模/ 分类/ 问题/ 降低/ 为/ 一个/ 规模较/ 小/ 的/ 分类/ 问题/ ,/ 然后/ 根据/ 候选/ 类别/ 的/ 样本/ 训练/ 分类器/ ,/ 对/ 文档/ 进行/ 分类/ ./ 文献/ [/ 1/ ]/ 进一步/ 对/ 这/ 3/ 类/ 方法/ 的/ 优缺点/ 进行/ 了/ 总结/ ,/ 具体/ 如下/ :/ 全局/ 处理/ 策略/ 的/ 优点/ 是/ 分类/ 过程/ 简单/ ,/ 缺点/ 是/ 分类/ 学习/ 的/ 时间/ 开销/ 比较/ 大/ ;/ 分而治之/ 策略/ 的/ 优点/ 是/ 分类/ 学习/ 和/ 预测/ 的/ 计算/ 开销/ 比较/ 小/ ,/ 缺点/ 是/ 随着/ 类别/ 层次/ 深度/ 的/ 增加/ ,/ 深层/ 类别/ 的/ 分类/ 准确率/ 会/ 明显/ 下降/ ;/ 化繁为简/ 策略/ 的/ 优点/ 是/ 可以/ 灵活/ 地/ 选择/ 分类器/ ,/ 分类/ 准确率/ 比较/ 高/ ,/ 缺点/ 是/ 测试/ 分类/ 的/ 计算/ 开销/ 比较/ 大/ ./ 如何/ 提高/ 分类/ 质量/ 是/ 大规模/ 层次/ 分类/ 问题/ 目前/ 面临/ 的/ 一个/ 主要/ 挑战/ ,/ 因此/ 本文/ 选择/ 化繁为简/ 的/ 方法/ 来/ 解决/ 大规模/ 层次/ 分类/ 问题/ ./ 采用/ 化繁为简/ 策略/ 的/ 分类/ 方法/ [/ 2/ ]/ 首先/ 搜索/ 待/ 分类/ 文档/ 的/ 候选/ 类别/ ,/ 然后/ 根据/ 候选/ 类别/ 对/ 文档/ 进行/ 分类/ ./ 这种/ 方法/ 包括/ 搜索/ 和/ 分类/ 两个/ 阶段/ ,/ 是/ 一种/ 两/ 阶段/ 分类/ 方法/ ./ 两/ 阶段/ 分类/ 方法/ 在/ 分类/ 阶段/ 能够/ 采用/ 合适/ 的/ 分类/ 算法/ 为/ 待/ 分类/ 文档/ 训练/ 分类/ 模型/ ,/ 可以/ 获得/ 更好/ 的/ 分类/ 效果/ ,/ 因此/ 在/ 大规模/ 层次/ 分类/ 问题/ 中/ 应用/ 的/ 较为/ 广泛/ ./ 但是/ 这一/ 优点/ 是/ 建立/ 在/ 候选/ 搜索/ 正确/ 的/ 基础/ 之上/ 的/ ,/ 因为/ 两/ 阶段/ 分类/ 方法/ 是/ 根据/ 候选/ 类别/ 对/ 文档/ 进行/ 分类/ ,/ 只有/ 当/ 搜索/ 到/ 的/ 候选/ 类别/ 集合/ 包含/ 有待/ 分类/ 文档/ 的/ 真实/ 类别/ 时/ ,/ 才能/ 训练/ 出/ 正确/ 的/ 分类/ 模型/ ./ 因此/ ,/ 候选/ 类别/ 搜索/ 是/ 大规模/ 层次/ 分类/ 中/ 的/ 一项/ 关键技术/ ./ 然而/ 已有/ 的/ 两/ 阶段/ 分类/ 方法/ [/ 2/ -/ 6/ ]/ 并未/ 对/ 候选/ 搜索/ 方法/ 进行/ 深入研究/ ,/ 从/ 本文/ 第/ 5/ 节/ 的/ 测试/ 结果/ 来看/ ,/ 已有/ 方法/ 尚未/ 有效/ 解决/ 这个/ 问题/ ./ 对此/ ,/ 本文/ 在/ 对/ 候选/ 搜索/ 相关/ 概念/ 进行/ 定义/ 的/ 基础/ 上/ ,/ 分析/ 了/ 候选/ 搜索/ 问题/ 的/ 计算/ 复杂性/ ,/ 然后/ 提出/ 了/ 一个/ 启发式/ 候选/ 搜索算法/ ,/ 最后/ 采用/ ODP/ 目录/ 中/ 的/ 简体中文/ 网页/ 数据/ 对/ 算法/ 进行/ 了/ 测试/ ,/ 并/ 同/ 已有/ 候选/ 搜索/ 方法/ 进行/ 了/ 比较/ ./ 本文/ 的/ 主要/ 贡献/ 有/ 以下几点/ :/ (/ 1/ )/ 提出/ 了/ 候选/ 搜索/ 问题/ 的/ 评价/ 指标/ ,/ 在/ 此基础/ 上/ 分析/ 了/ 候选/ 搜索/ 问题/ 的/ 计算/ 复杂性/ ,/ 证明/ 了/ 候选/ 搜索/ 问题/ 是/ 一个/ NP/ 难/ 问题/ ./ (/ 2/ )/ 提出/ 了/ 一个/ 基于/ 贪心/ 策略/ 的/ 启发式/ 候选/ 搜索算法/ ,/ 并且/ 证明/ 了/ 该/ 贪心/ 策略/ 在/ 候选/ 搜索/ 问题/ 的/ 求解/ 过程/ 是/ 一个/ 局部/ 最优/ 选择/ ./ (/ 3/ )/ 对/ 已有/ 方法/ 和/ 本文/ 提出/ 的/ 算法/ 进行/ 了/ 测试/ 比较/ ,/ 实验/ 结果表明/ ,/ 本文/ 提出/ 的/ 候选/ 搜索算法/ 较/ 已有/ 方法/ 在/ 候选/ 搜索/ 准确率/ 上/ 提高/ 了/ 大约/ 7.5/ %/ ,/ 说明/ 本文/ 提出/ 的/ 候选/ 搜索算法/ 能够/ 有效/ 求解/ 类别/ 的/ 特征/ 权重/ 向量/ ,/ 从而/ 提高/ 候选/ 搜索/ 的/ 准确率/ ./ ①/ ②/ Page32/ 相关/ 工作/ Xue/ 等/ 人/ [/ 2/ ]/ 针对/ 大规模/ 层次/ 分类/ 问题/ 提出/ 了/ 化繁为简/ 的/ 处理/ 策略/ ,/ 通过/ 搜索/ 候选/ 来/ 对待/ 分类/ 文档/ 进行/ 分类/ ./ 在/ 此基础/ 上/ ,/ Oh/ 等/ 人/ [/ 3/ ]/ 针对/ 大规模/ 层次/ 分类/ 问题/ 中/ 稀有/ 类别/ 缺少/ 训练样本/ 的/ 问题/ ,/ 利用/ 类别/ 层次结构/ 扩展/ 候选/ 类别/ 的/ 训练样本/ ,/ 根据/ 祖先/ 节点/ 、/ 子/ 节点/ 以及/ 邻居/ 节点/ 来/ 增加/ 候选/ 类别/ 的/ 训练样本/ ./ Malik/ [/ 4/ ]/ 为了/ 减少/ 自上而下/ 预测/ 过程/ 中/ 的/ 错误/ 传播/ ,/ 通过/ 消除/ 类别/ 层次/ 中/ 的/ 部分/ 中间/ 节点/ 来/ 降低/ 类别/ 层次/ 树/ 的/ 高度/ ,/ 以/ 提高/ 候选/ 搜索/ 方法/ 的/ 性能/ ./ Han/ 等/ 人/ [/ 5/ ]/ 采用/ 最近/ 邻/ 算法/ 计算/ 候选/ 类别/ ,/ 将/ 两/ 阶段/ 分类/ 方法/ 应用/ 于/ 多/ 标签/ 分类/ 问题/ ./ 候选/ 搜索/ 方法/ 分为/ 基于/ 实例/ 的/ 候选/ 搜索/ 方法/ 和/ 基于/ 类别/ 的/ 候选/ 搜索/ 方法/ 两类/ ./ 基于/ 实例/ 的/ 候选/ 搜索/ 方法/ 采用/ 最近/ 邻/ 算法/ 计算/ 候选/ 类别/ ,/ 根据/ 测试/ 文档/ 同/ 每个/ 样本/ 的/ 相似性/ 来/ 判断/ 候选/ 类别/ ./ 例如/ ,/ Rao/ ①/ 采用/ 余弦/ 相似/ 度/ 计算/ 与/ 测试/ 文档/ 最/ 相似/ 的/ K/ 个/ 样本/ ,/ 然后/ 根据/ 最近/ 邻/ 算法/ 计算/ 每个/ 类别/ 的/ 相关性/ 得分/ ./ 基于/ 类别/ 的/ 候选/ 搜索/ 方法/ 直接/ 计算/ 测试/ 文档/ 与/ 每个/ 类别/ 的/ 相关性/ 得分/ ,/ 一般/ 通过/ 为/ 每个/ 类别/ 构造/ 一个/ 特征/ 权重/ 向量/ ,/ 根据/ 向量/ 相似性/ 计算/ 类别/ 的/ 相关性/ 得分/ [/ 2/ ,/ 3/ ,/ 6/ ]/ ./ 例如/ ,/ 文献/ [/ 2/ ]/ 为/ 每个/ 类别/ 建立/ 一个/ 词频/ 特征向量/ ,/ 然后/ 根据/ 所有/ 类别/ 的/ 特征向量/ 来/ 计算/ 候选/ 类别/ ./ 文献/ [/ 3/ ]/ 和/ 文献/ [/ 6/ ]/ 采用/ lucene/ ②/ 搜索/ 候选/ 类别/ ./ 基于/ 实例/ 的/ 候选/ 搜索/ 方法/ 在/ 分类/ 时/ 需要/ 与/ 所有/ 样本/ 进行/ 比较/ ,/ 因此/ 时间/ 复杂度/ 比较/ 大/ ,/ 当/ 训练样本/ 稀少/ 时/ 可能/ 还会/ 出现/ 过/ 拟合/ 问题/ ./ 而/ 基于/ 类别/ 的/ 候选/ 搜索/ 方法/ 面临/ 的/ 主要/ 困难/ 是/ 如何/ 为/ 每个/ 类别/ 构造/ 一个/ 准确/ 的/ 特征/ 权重/ 向量/ ./ 在/ 特征/ 权重/ 向量/ 计算/ 这方面/ 的/ 相关/ 工作/ 有/ ,/ 文献/ [/ 7/ ]/ 提出/ 了/ 一种/ 类别/ 特征/ 权重/ 计算方法/ IG/ &/ DF/ (/ InformationGainandDocumentFrequency/ )/ ,/ 综合/ 考虑/ 特征/ 的/ 全局/ 信息/ 和/ 局部/ 信息/ 计算/ 类别/ 特征/ 权重/ ,/ 该/ 方法/ 采用/ 信息/ 增益/ 评估/ 特征/ 的/ 全局/ 区分/ 能力/ ,/ 采用/ 文档/ 频率/ 直观/ 描述/ 特征词/ 与/ 类别/ 相关/ 的/ 局部/ 特征/ 信息/ ./ 文献/ [/ 8/ ]/ 采用/ 近似/ 文档/ 频率/ 逆/ 类别/ 频率/ 的/ 方法/ DFICF/ (/ Docu/ -/ mentFrequencyandInverseCategoryFrequency/ )/ ,/ 首先/ 计算/ 每个/ 类别/ 的/ 特征向量/ ,/ 然后/ 根据/ 文档/ 特征向量/ 和/ 类别/ 特征向量/ 之间/ 的/ 点积/ 判断/ 文档/ 类别/ ./ 以上/ 这些/ 方法/ 通过/ 比较/ 测试/ 文档/ 特征向量/ 同/ 每个/ 类别/ 特征向量/ 之间/ 的/ 相似性/ 大小/ 来/ 确定/ 候选/ 类别/ ./ 除此之外/ ,/ 候选/ 搜索/ 方法/ 还/ 可以/ 基于/ 文本/ 分类器/ 来/ 实现/ ,/ 例如/ 文献/ [/ 4/ ]/ 提出/ 了/ 基于/ 层次/ 式/ 支持/ 向量/ 机/ 的/ 候选/ 搜索/ 方法/ HSVM/ (/ HierarchicalSVMs/ )/ ,/ 该/ 方法/ 通过/ 递归计算/ 每个/ 节点/ 上/ top/ -/ k/ 类别/ ,/ 如果/ 该/ 类别/ 为/ 叶子/ 节点/ 则/ 将/ 其/ 加入/ 候选/ 类别/ 集合/ ./ 对于/ 一个/ 包含/ n/ 个/ 样本/ 、/ r/ 个/ 类别/ 的/ 数据/ 集/ ,/ 基于/ 实例/ 的/ 候选/ 搜索/ 方法/ 的/ 时间/ 复杂度/ 为/ O/ (/ n/ )/ +/ O/ (/ r/ ×/ log2/ (/ r/ )/ )/ ,/ 基于/ 类别/ 的/ 候选/ 搜索/ 方法/ 的/ 时间/ 复杂度/ 为/ O/ (/ r/ )/ +/ O/ (/ r/ ×/ log2/ (/ r/ )/ )/ ,/ 其中/ O/ (/ n/ )/ 、/ O/ (/ r/ )/ 是/ 相似性/ 计算/ 开销/ ,/ O/ (/ r/ ×/ log2/ (/ r/ )/ )/ 是/ 排序/ 开销/ ./ 因为/ 样本/ 个数/ n/ 一般/ 远远/ 大于/ 类别/ 个数/ r/ ,/ 所以/ 基于/ 实例/ 的/ 方法/ 相比/ 基于/ 类别/ 的/ 方法/ 计算/ 开销/ 会大/ 很多/ ./ 因此/ ,/ 已有/ 候选/ 搜索/ 方法/ 主要/ 是/ 基于/ 类别/ 的/ 候选/ 搜索/ 研究/ ,/ 本文/ 也/ 是/ 基于/ 这/ 一类/ 候选/ 搜索/ 方法/ 进行/ 问题/ 定义/ 和/ 计算/ 复杂性/ 分析/ ./ 3/ 候选/ 搜索/ 问题/ 的/ 计算/ 复杂性/ 分析/ 3.1/ 问题/ 定义/ 候选/ 搜索/ 是/ 大规模/ 层次/ 分类/ 中/ 的/ 一项/ 关键技术/ ,/ 但/ 已有/ 方法/ 尚未/ 对/ 候选/ 搜索/ 方法/ 的/ 有效性/ 进行/ 评估/ ./ 在/ 信息检索/ 中/ ,/ 召回/ 率/ 是/ 一个/ 常用/ 的/ 评价/ 指标/ ,/ 召回/ 率/ =/ 检索/ 到/ 的/ 相关/ 文档/ 数/ // 所有/ 相关/ 文档/ 总数/ ./ 由于/ 候选/ 搜索/ 的/ 对象/ 是/ 类别/ ,/ 而且/ 候选/ 搜索/ 结果/ 受/ 候选/ 集合/ 大小/ 的/ 影响/ ,/ 因此/ 召回/ 率/ 不能/ 直接/ 用来/ 评价/ 候选/ 搜索/ 方法/ ./ 对此/ ,/ 本文/ 提出/ 一个/ 同/ 召回/ 率/ 相近/ 的/ 评价/ 指标/ Vk/ (/ d/ )/ ,/ 以/ 评价/ 测试/ 文档/ 的/ 候选/ 搜索/ 结果/ ./ Vk/ (/ d/ )/ 和/ 召回/ 率有/ 两点/ 区别/ :/ (/ 1/ )/ 搜索/ 的/ 对象/ 不同/ ;/ (/ 2/ )/ 搜索/ 结果/ 不同/ ,/ 候选/ 搜索/ 只/ 考虑/ 出现/ 在/ 候选/ 集合/ 中/ 的/ 相关/ 类别/ ./ Vk/ 则/ 是/ 所有/ 样本/ Vk/ (/ d/ )/ 的/ 平均值/ ,/ 评价/ 指标/ Vk/ 具体/ 如/ 定义/ 2/ 所示/ ,/ 在此之前/ ,/ 首先/ 定义/ Vk/ (/ d/ )/ ,/ 如/ 定义/ 1/ 所示/ ./ 定义/ 1/ ./ 对于/ 候选/ 搜索算法/ Γ/ ,/ 由/ 算法/ Γ/ 搜索/ 测试/ 文档/ d/ 的/ 候选/ 类别/ ,/ 得到/ 候选/ 集合/ E/ ,/ 集合/ E/ 的/ 大小/ 为/ k/ ./ 那么/ ,/ 对于/ 单/ 标签/ 分类/ 问题/ ,/ 如果/ E/ 包含/ d/ 的/ 真实/ 类别/ ,/ 则/ Vk/ (/ d/ )/ =/ 1/ ,/ 否则/ 为/ 0/ ;/ 对于/ 多/ 标签/ 分类/ 问题/ ,/ 如果/ E/ 中/ 包含/ a/ 个/ d/ 的/ 真实/ 类别/ ,/ 则/ Vk/ (/ d/ )/ =/ a/ // ld/ ,/ 其中/ ld/ 是/ d/ 的/ 真实/ 类别/ 数目/ ./ 定义/ 2/ ./ 对于/ 候选/ 搜索算法/ Γ/ ,/ 若/ 样本/ 集合/ I/ =/ {/ d1/ ,/ d2/ ,/ …/ ,/ dn/ }/ ,/ 那么/ Vk/ 的/ 大小/ 是/ ①/ ②/ Page4/ 其中/ ,/ |/ I/ |/ 为/ 样本/ 总数/ ,/ Vk/ (/ di/ )/ 根据/ 定义/ 1/ 进行/ 计算/ ./ Vk/ (/ d/ )/ 用来/ 评价/ 单个/ 样本/ 的/ 候选/ 搜索/ 结果/ 的/ 有效性/ ./ 根据/ 定义/ 1/ ,/ 给定/ 候选/ 集合/ 大小/ ,/ Vk/ (/ d/ )/ 的/ 值/ 越/ 大/ ,/ 说明/ 样本/ d/ 的/ 候选/ 搜索/ 结果/ 越/ 好/ ,/ Vk/ (/ d/ )/ 的/ 值/ 越/ 小/ ,/ 说明/ 样本/ d/ 的/ 候选/ 搜索/ 结果/ 越差/ ./ Vk/ 评价/ 样本/ 集合/ I/ 中/ 所有/ 样本/ 的/ 候选/ 搜索/ 结果/ 的/ 有效性/ ./ 根据/ 定义/ 2/ ,/ Vk/ 值越/ 大/ ,/ 说明/ 候选/ 搜索/ 方法/ 的/ 准确性/ 越高/ ./ 下面/ 我们/ 以/ 基于/ 类别/ 的/ 候选/ 搜索/ 方法/ 作为/ 问题/ 求解/ 方法/ ,/ 对/ 候选/ 搜索/ 问题/ 以及/ 问题/ 求解/ 进行/ 一个/ 形式化/ 的/ 描述/ ./ 对于/ 基于/ 类别/ 的/ 候选/ 搜索/ 方法/ ,/ 单/ 标签/ 分类/ 问题/ 和/ 多/ 标签/ 分类/ 问题/ 的/ 候选/ 搜索/ 过程/ 相同/ ,/ 在/ 构造/ 类别/ 特征向量/ 上/ ,/ 多/ 标签/ 分类/ 问题/ 的/ 计算/ 复杂性/ 不会/ 低于/ 单/ 标签/ 分类/ 问题/ ./ 根据/ Vk/ (/ d/ )/ 的/ 定义/ 可知/ ,/ 在/ 候选/ 搜索/ 结果/ 的/ 评价/ 上/ ,/ 多/ 标签/ 分类/ 问题/ 的/ 计算/ 复杂性/ 同样/ 高于/ 单/ 标签/ 分类/ 问题/ ./ 因此/ ,/ 只要/ 能/ 证明/ 候选/ 搜索/ 问题/ 在/ 单/ 标签/ 分类/ 问题/ 上/ 的/ 计算/ 复杂性/ 是/ NP/ 难/ 的/ ,/ 那么/ 多/ 标签/ 分类/ 上/ 的/ 候选/ 搜索/ 问题/ 就/ 一定/ 是/ NP/ 难/ 的/ ./ 候选/ 搜索/ 问题/ 的/ 形式化/ 描述/ 如下/ :/ 给定/ 样本/ 集合/ I/ =/ {/ 〈/ d1/ ,/ v1/ 〉/ ,/ 〈/ d2/ ,/ v2/ 〉/ ,/ …/ ,/ 〈/ dn/ ,/ vn/ 〉/ }/ ,/ 相应/ 的/ 特征/ 集合/ 为/ F/ =/ {/ f1/ ,/ f2/ ,/ …/ ,/ fm/ }/ ,/ 类别/ 集合/ L/ =/ {/ l1/ ,/ l2/ ,/ …/ ,/ lr/ }/ ,/ 那么/ 候选/ 搜索算法/ Γ/ 的/ 任务/ 是/ 通过/ 为/ 每个/ 类别/ 构造/ 一个/ 特征向量/ ,/ 然后/ 采用/ 内积/ 或者/ 余弦/ 相似/ 度/ 计算/ 测试/ 文档/ d/ 同/ 每个/ 类别/ 的/ 相关性/ ,/ 以/ top/ -/ k/ 类别/ 作为/ d/ 的/ 候选/ ./ 如果/ 将/ 类别/ li/ 的/ 特征向量/ 记/ 为/ 狑/ i/ =/ {/ wi1/ ,/ …/ ,/ wij/ ,/ …/ ,/ wir/ }/ ,/ 其中/ wij/ 是/ 特征/ fj/ 在/ 类别/ li/ 特征向量/ 中/ 的/ 权重/ ,/ 那么/ 所有/ 类别/ 的/ 特征向量/ 形成/ 一个/ 特征/ 权重/ 矩阵/ 犌/ ,/ 记/ 为/ 犌/ =/ {/ 狑/ 1/ ,/ 狑/ 2/ ,/ …/ ,/ 狑/ i/ ,/ …/ ,/ 狑/ r/ }/ T/ ./ 本文/ 采用/ Vk/ 作为/ 候选/ 搜索算法/ 的/ 评价/ 指标/ ,/ 那么/ 候选/ 搜索/ 问题/ 作为/ 一个/ 最优化/ 问题/ ,/ 其/ 定义/ 如下/ ./ 定义/ 3/ ./ 给定/ 样本/ 集合/ I/ ,/ 特征/ 集合/ F/ ,/ 类别/ 集合/ L/ ,/ 候选/ 集合/ E/ 的/ 大小/ 为/ k/ ,/ 那么/ 候选/ 搜索/ 问题/ 就是/ 求解/ 最优/ 的/ 特征/ 权重/ 矩阵/ 犌/ ,/ 即/ 对于/ 输入/ (/ I/ ,/ F/ ,/ L/ )/ ,/ 犌/ 是/ 具有/ 最大/ Vk/ 值/ 的/ 特征/ 权重/ 矩阵/ ./ 3.2/ 候选/ 搜索/ 问题/ 的/ 计算/ 复杂性/ 分析/ 本/ 节/ 我们/ 将/ 证明/ 候选/ 搜索/ 问题/ 是/ 一个/ NP/ 难/ 问题/ ./ 已知/ 集合/ 覆盖/ 问题/ 是/ 一个/ NP/ 难/ 问题/ ,/ 因此/ 通过/ 将/ 集合/ 覆盖/ 问题/ 规约/ 到/ 候选/ 搜索/ 问题/ ,/ 就/ 可以/ 证明/ 候选/ 搜索/ 问题/ 也/ 是/ NP/ 难/ 问题/ ./ 对此/ ,/ 本文/ 提出/ 并/ 证明/ 以下/ 两个/ 定理/ ./ 定理/ 1/ ./ 集合/ 覆盖/ 问题/ 存在/ 一个/ 最小/ 规模/ 覆盖/ 集合/ 当且/ 仅/ 当/ 候选/ 搜索/ 问题/ 存在/ 一个/ 最优/ 特征/ 权重/ 矩阵/ 犌/ ./ 证明/ ./ 为了/ 能够/ 使/ 定理/ 的/ 证明/ 过程/ 更加/ 简单/ ,/ 我们/ 对/ 候选/ 搜索/ 问题/ 进行/ 了/ 一些/ 合理/ 假设/ ./ (/ 1/ )/ 将/ 待/ 分类/ 文档/ 根据/ 有没有/ 特征词/ 表示/ 为二值/ 向量/ ,/ 特征词/ 在/ 文档/ 中/ 的/ 权重/ 等于/ 0/ 或/ 1/ ./ (/ 2/ )/ 每个/ 特征词/ 最/ 多/ 只能/ 作为/ 一个/ 类别/ 的/ 有效/ 特征/ ,/ 即/ 特征/ 权重/ 矩阵/ 的/ 每/ 一列/ 中/ 最/ 多/ 可以/ 出现/ 一个/ 非零/ 元素/ ./ (/ 3/ )/ 以/ 相似性/ 得分/ 最高/ 的/ 类别/ 作为/ 候选/ 类别/ ,/ 将/ 候选/ 集合/ 的/ 大小/ 设为/ 1/ ./ 这/ 3/ 条/ 假设/ 可以/ 使/ 候选/ 搜索/ 问题/ 更为/ 容易/ 处理/ ,/ 而/ 实际/ 的/ 候选/ 搜索/ 问题/ 比/ 这/ 更加/ 复杂/ ,/ 因此/ 在/ 此/ 假设/ 下/ 证明/ 有效/ ./ 集合/ 覆盖/ 问题/ 描述/ :/ 给定/ 一个/ 有限/ 集/ X/ =/ {/ e1/ ,/ e2/ ,/ …/ ,/ en/ }/ ,/ H/ 是/ 一个/ 由/ X/ 的/ 子集/ 构成/ 的/ 集族/ ,/ H/ =/ {/ S1/ ,/ S2/ ,/ …/ ,/ Sm/ }/ ./ 集合/ 覆盖/ 问题/ 的/ 目标/ 是/ 求/ H/ 中/ 一个/ 集合/ 数量/ 最小/ 的/ 子集/ 族/ C/ ,/ 使/ C/ 的/ 并/ 集为/ X/ ,/ 即/ 满足/ X/ =/ ∪/ S/ ∈/ CS/ ./ 集合/ 覆盖/ 问题/ 是/ 一个/ 经典/ 的/ NP/ 难/ 问题/ ./ 对于/ 集合/ 覆盖/ 问题/ 的/ 一个/ 实例/ (/ X/ ,/ H/ )/ ,/ 下面/ 构造/ 相应/ 的/ 候选/ 搜索/ 问题/ 实例/ (/ I/ ,/ F/ ,/ L/ )/ :/ (/ 1/ )/ 对于/ ei/ ∈/ X/ ,/ 构造/ 样本/ 〈/ di/ ,/ l1/ 〉/ ∈/ I/ ,/ i/ =/ 1/ ,/ (/ 2/ )/ 对于/ Sj/ ∈/ H/ ,/ 构造/ 特征/ fj/ ∈/ F/ ,/ 且/ ei/ ∈/ Sj/ 当/ 2/ ,/ …/ ,/ n/ ./ 且/ 仅/ 当/ 文档/ di/ 包含/ 特征/ fj/ (/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ m/ )/ ./ (/ 3/ )/ 对于/ Sj/ ∈/ H/ ,/ 构造/ 样本/ 〈/ dn/ +/ j/ ,/ l2/ 〉/ ∈/ I/ ,/ 且/ 实例/ dn/ +/ j/ 仅/ 包含/ 唯一/ 特征/ fj/ (/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ m/ )/ ./ (/ 4/ )/ 根据/ (/ X/ ,/ H/ )/ 的/ 覆盖/ 集合/ C/ ,/ 构造/ 特征/ 权重/ 矩阵/ 犌/ :/ Sj/ ∈/ C/ 当且/ 仅/ 当/ 犌/ 中/ fj/ 对应/ 列/ 向量/ 〈/ w1j/ ,/ w2j/ 〉/ T/ =/ 〈/ |/ F/ |/ ,/ 0/ 〉/ T/ ,/ Sj/ / C/ 当且/ 仅/ 当/ 犌/ 中/ fj/ 对应/ 列/ 向量/ 〈/ w1j/ ,/ w2j/ 〉/ T/ =/ 〈/ 0/ ,/ 1/ 〉/ T/ ./ 通过/ (/ 1/ )/ 、/ (/ 2/ )/ 、/ (/ 3/ )/ 构造/ 出/ 候选/ 搜索/ 问题/ 实例/ (/ I/ ,/ F/ ,/ L/ )/ ,/ 其中/ 样本/ 集合/ 是/ I/ =/ {/ 〈/ d1/ ,/ l1/ 〉/ ,/ …/ ,/ 〈/ dn/ ,/ l1/ 〉/ ,/ 〈/ dn/ +/ 1/ ,/ l2/ 〉/ ,/ …/ ,/ 〈/ dn/ +/ m/ ,/ l2/ 〉/ }/ ,/ 特征/ 集合/ 是/ F/ =/ {/ f1/ ,/ f2/ ,/ …/ ,/ fm/ }/ ,/ 类别/ 集合/ 是/ L/ =/ {/ l1/ ,/ l2/ }/ ./ 通过/ (/ 4/ )/ 构造/ 出/ 的/ 权重/ 矩阵/ 为/ 犌/ =/ w11w12/ …/ w1j/ …/ w1m/ 一方面/ ,/ 如果/ X/ 存在/ 一个/ 覆盖/ C/ ,/ 那么/ 我们/ 可以/ 证明/ ,/ 上面/ 所/ 构造/ 的/ 权重/ 矩阵/ 犌/ 满足/ Vk/ =/ (/ |/ X/ |/ +/ |/ H/ |/ -/ |/ C/ |/ )/ // (/ |/ X/ |/ +/ |/ H/ |/ )/ =/ 1/ -/ |/ C/ |/ 具体/ 计算/ 过程/ 此处/ 不再/ 详述/ ./ 因此/ ,/ 如果/ 集合/ 覆盖/ 问题/ (/ X/ ,/ H/ )/ 存在/ 一个/ 覆盖/ 集合/ C/ 并且/ |/ C/ |/ / σ/ (/ σ/ 为/ 正整数/ )/ ,/ 那么/ 候选/ 搜索/ 问题/ (/ I/ ,/ F/ ,/ L/ )/ 则/ 存在/ 一个/ 解/ 犌/ Page5/ 并且/ 满足/ Vk/ / δ/ ,/ δ/ =/ 1/ -/ σ/ 另一方面/ ,/ 如果/ 所/ 构造/ 的/ 候选/ 搜索/ 问题/ (/ I/ ,/ F/ ,/ L/ )/ 存在/ 一个/ 解/ 犌/ 并且/ 满足/ Vk/ / δ/ ,/ 我们/ 就/ 可以/ 求解/ 出/ 集合/ 覆盖/ 问题/ (/ X/ ,/ H/ )/ 的/ 一个/ 覆盖/ 集合/ C/ ,/ 并且/ 有/ |/ C/ |/ / (/ m/ +/ n/ )/ (/ 1/ -/ δ/ )/ ,/ 具体/ 计算/ 过程/ 此处/ 不再/ 详述/ ./ 因此/ ,/ 如果/ 候选/ 搜索/ 问题/ (/ I/ ,/ F/ ,/ L/ )/ 存在/ 一个/ 解/ 并且/ 满足/ Vk/ / δ/ ,/ 那么/ 集合/ 覆盖/ 问题/ (/ X/ ,/ H/ )/ 则/ 存在/ 一个/ 覆盖/ 集合/ C/ 并且/ 满足/ |/ C/ |/ / σ/ ,/ σ/ =/ (/ m/ +/ n/ )/ (/ 1/ -/ δ/ )/ ./ 综合/ 以上/ 两/ 方面/ 结论/ 可知/ ,/ 集合/ 覆盖/ 问题/ (/ X/ ,/ H/ )/ 存在/ 覆盖/ 集合/ C/ 并且/ 满足/ |/ C/ |/ / σ/ 当且/ 仅/ 当/ 候选/ 搜索/ 问题/ (/ I/ ,/ F/ ,/ L/ )/ 存在/ 解/ 犌/ 满足/ Vk/ / δ/ ,/ 其中/ σ/ 和/ δ/ 线性相关/ :/ σ/ =/ (/ m/ +/ n/ )/ (/ 1/ -/ δ/ )/ ./ 由此可知/ ,/ 集合/ 覆盖/ 问题/ 存在/ 一个/ 最小/ 规模/ 覆盖/ 集合/ 当且/ 仅/ 当/ 候选/ 搜索/ 问题/ 存在/ 一个/ 最优/ 解/ ./ 定理/ 2/ ./ 将/ 求解/ 类别/ 特征/ 权重/ 矩阵/ 作为/ 一个/ 最优化/ 问题/ ,/ 那么/ 基于/ 类别/ 的/ 候选/ 搜索/ 问题/ 是/ 一个/ NP/ 难/ 问题/ ./ 证明/ ./ 由/ 定理/ 1/ 可知/ ,/ 集合/ 覆盖/ 问题/ 可以/ 归约/ 为/ 基于/ 类别/ 的/ 候选/ 搜索/ 问题/ ,/ 因此/ ,/ 基于/ 类别/ 的/ 候选/ 搜索/ 问题/ 是/ 一个/ NP/ 难/ 问题/ ./ 因为/ 求解/ 最优/ 权重/ 矩阵/ 是/ 一个/ NP/ 难/ 问题/ ,/ 对于/ 大规模/ 层次/ 分类/ 问题/ ,/ 直接/ 计算/ 最优/ 解/ 的/ 计算/ 开销/ 将/ 难以承受/ ,/ 对此/ ,/ 我们/ 在/ 下/ 一节/ 中/ 提出/ 了/ 一个/ 启发式/ 候选/ 搜索算法/ ,/ 试图/ 通过/ 有限/ 的/ 计算/ 开销/ 进行/ 问题/ 求解/ ./ 4/ 大规模/ 类别/ 层次/ 中/ 的/ 候选/ 搜索算法/ 本/ 节/ 我们/ 首先/ 提出/ 了/ 一个/ 基于/ 贪心/ 策略/ 的/ 启发式/ 候选/ 搜索算法/ ,/ 以/ 求解/ 特征/ 权重/ 矩阵/ 犌/ ./ 接下来/ 证明/ 了/ 该/ 算法/ 采用/ 的/ 贪心/ 策略/ 是/ 一个/ 局部/ 最优/ 选择/ ./ HL/ (/ Heuristic/ -/ Learning/ )/ 候选/ 搜索算法/ 如图/ 1/ 所示/ ./ HL/ 算法/ 首先/ 采用/ 词频/ 向量/ 初始化/ 权重/ 矩阵/ ,/ 然后/ 依次/ 用/ 每/ 一个样/ 本来/ 优化/ 权重/ 矩阵/ ,/ 直至/ 得到/ 一个/ 可/ 接受/ 的/ 解/ ./ 本文/ 采用/ 向量/ 内积/ 计算/ 文档/ 和/ 类别/ 间/ 的/ 相似性/ ,/ 如图/ 1/ (/ a/ )/ 中/ 的/ 3.1/ ./ 1/ 所示/ ,/ 然后/ 按照/ 向量/ 内积/ 的/ 大小/ 对/ 类别/ 排序/ ,/ 以/ top/ -/ k/ 类别/ 作为/ 候选/ ./ 向量/ 内积/ 的/ 计算方法/ 如下/ 所示/ :/ 在/ 优化/ 过程/ 中/ ,/ 如果/ 不能/ 正确/ 搜索/ 到/ 测试/ 样本/ 的/ 候选/ ,/ 则/ 根据/ 贪心/ 策略/ 来/ 更新/ 矩阵/ ./ 贪心/ 策略/ 如图/ 1/ (/ b/ )/ 所示/ ,/ 首先/ 计算/ 样本/ 最大/ 类别/ 得分/ 和/ 样本/ 类别/ 得分/ 之差/ Δ/ ,/ 然后/ 计算/ 样本/ 类别/ 的/ 每个/ 特征值/ 的/ 增量/ g/ (/ Δ/ ,/ tj/ )/ ,/ 并用/ g/ (/ Δ/ ,/ tj/ )/ 对/ 样本/ 类别/ 的/ 特征向量/ 进行/ 更新/ ,/ 最后/ 对/ 更新/ 后/ 的/ 向量/ 进行/ 标准化/ ./ 具体/ 在/ 图/ 1/ 中/ ,/ 采用/ 词频/ 向量/ 〈/ t1/ ,/ t2/ ,/ …/ ,/ tm/ 〉/ 表示/ 样本/ d/ ,/ d/ 的/ 真实/ 类别/ 为/ c/ ,/ d/ 关于/ 类别/ c/ 的/ 得/ 分为/ scorec/ ,/ d/ 在/ 所有/ 类别/ 中/ 的/ 最高/ 得/ 分为/ scoremax/ ,/ Δ/ 是/ 二者/ 的/ 分差/ ,/ g/ (/ Δ/ ,/ tj/ )/ 是/ 更新/ wcj/ 时/ 的/ 增加量/ ,/ ρ/ 是/ 调节/ 因子/ ,/ 默认/ 取值/ 为/ 1/ ./ AlgorithmHeuristic/ -/ Learning/ (/ I/ ,/ F/ ,/ L/ ,/ k/ )/ ./ 1/ ./ Initialweight/ -/ matrix/ 犌/ accordingI/ ,/ FandL/ ./ 2/ ./ ComputeVkfor/ 犌/ ./ 3/ ./ WHILE/ (/ (/ Vk/ </ δ/ )/ (/ iterationscount/ </ N/ )/ )/ :/ 3.1/ ./ FOReachdocumentd/ ∈/ I/ :/ 3.2/ ./ ComputeVk/ ./ 4/ ./ ENDAlgorithmCorrect/ -/ Error/ (/ c/ ,/ d/ )/ ./ 1/ ./ Δ/ =/ score/ (/ d/ )/ max/ -/ scorec/ (/ d/ )/ ./ 2/ ./ FOReachfj/ ∈/ F/ ,/ 2.1/ ./ g/ (/ Δ/ ,/ tj/ )/ =/ ρ/ ×/ 2.2/ ./ wcj/ =/ wcj/ +/ g/ (/ Δ/ ,/ tj/ )/ ./ wcj/ =/ wcj3/ ./ FOReachfj/ ∈/ F/ ,/ 接下来/ 我们/ 分析/ 算法/ 的/ 时间/ 复杂度/ ./ 首先/ 我们/ 分析/ 一次/ 样本/ 更新/ 的/ 时间/ 复杂度/ ,/ 如图/ 1/ (/ b/ )/ 所示/ ,/ Correct/ -/ Error/ (/ c/ ,/ d/ )/ 的/ 时间/ 复杂度/ 为/ O/ (/ m/ )/ ./ 然后/ 我们/ 分析/ HL/ 算法/ 的/ 时间/ 复杂度/ ,/ HL/ 算法/ 的/ 计算/ 开销/ 主要/ 用于/ 执行/ 算法/ 中/ 的/ while/ 循环/ 语句/ ./ 在/ while/ 循环/ 中/ ,/ 3.1/ ./ 1/ 的/ 时间/ 复杂度/ 为/ O/ (/ r/ ×/ m/ )/ ,/ 3.1/ ./ 2/ 的/ 时间/ 复杂度/ 为/ O/ (/ r/ ×/ log2/ (/ r/ )/ )/ ,/ 3.1/ ./ 3/ 的/ 时间/ 复杂度/ 为/ O/ (/ 1/ )/ ,/ 3.1/ ./ 4/ 的/ 时间/ 复杂度/ 为/ O/ (/ r/ ×/ m/ )/ ./ 所以/ 3.1/ 的/ 时间/ 复杂度/ 为/ O/ (/ n/ ×/ r/ ×/ (/ m/ +/ log2/ (/ r/ )/ )/ )/ ./ 3.2/ 的/ 时间/ 复杂度/ 为/ O/ (/ n/ )/ ./ 一次/ while/ 循环/ 的/ 时间/ 复杂度/ 为/ O/ (/ n/ ×/ r/ ×/ (/ m/ +/ log2/ (/ r/ )/ )/ )/ ./ 如果/ 循环/ 次数/ 为/ N/ ,/ 则/ 算法/ 总/ 的/ 时间/ 复杂度/ 为/ O/ (/ n/ ×/ r/ ×/ (/ m/ +/ log2/ (/ r/ )/ )/ ×/ N/ )/ ./ 显然/ ,/ 算法/ 总/ 的/ 时间/ 复杂度/ 和/ 优化/ 迭代/ 次数/ 正/ 相关/ ./ 其中/ ,/ r/ 是/ 类别/ 数/ ,/ m/ 是/ 特征/ 数/ ,/ n/ 是/ 样本数/ ,/ k/ 是候/ Page6/ 选/ 集合/ 大小/ ./ 对于/ 贪心/ 策略/ ,/ 有/ 如下/ 定理/ ./ 定理/ 3/ ./ 对于/ 测试/ 样本/ d/ ,/ 其/ 类别/ 为/ c/ ,/ 如果/ 由/ 犌/ 计算/ 的/ 候选/ 集合/ E/ (/ d/ )/ 不/ 包含/ c/ ,/ 那么/ 在/ 运行/ Correct/ -/ Error/ (/ c/ ,/ d/ )/ 更新/ 犌/ 之后/ ,/ 则/ 有/ c/ ∈/ E/ (/ d/ )/ ./ 证明/ ./ 在/ 更新/ 犌/ 之前/ ,/ 文档/ d/ 和/ 类别/ c/ 的/ 相似性/ 得/ 分为/ scorec/ (/ d/ )/ =/ ∑/ m/ 更新/ 犌/ 之后/ ,/ 类别/ c/ 的/ 得分/ 变为/ scorec/ (/ d/ )/ =/ ∑/ m/ 其中/ ,/ ∑/ mtj/ ×/ wcj/ =/ ∑/ mj/ =/ 1/ 如果/ ρ/ =/ 1/ ,/ 那么/ ∑/ mj/ =/ 1/ 所以/ ,/ 在/ 式/ (/ 2/ )/ 中/ ,/ ∑/ mwci/ =/ ∑/ mi/ =/ 1/ 对于/ 网页/ 文档/ ,/ 文档/ 往往/ 比较/ 长/ ,/ 词/ 的/ 重复/ 出现/ 次数/ 比较/ 多/ ,/ 此时/ 可以/ 假设/ ∑/ m/ 由式/ (/ 2/ )/ 可得/ scorec/ (/ d/ )/ ≈/ score/ (/ d/ )/ max/ ./ 因此/ ,/ 当/ 样本/ 满足/ 此/ 假设/ 时/ ,/ 在/ 运行/ Correct/ -/ Error/ (/ c/ ,/ d/ )/ 更新/ 犌/ 之后/ ,/ 可以/ 使/ c/ ∈/ E/ (/ d/ )/ ./ 如果/ 样本/ 不/ 满足/ 假设/ ,/ 通过/ 增大/ 调节/ 因子/ ρ/ ,/ 同样/ 可以/ 使/ c/ ∈/ E/ (/ d/ )/ ./ 因此/ ,/ 通过/ 运行/ Correct/ -/ Error/ (/ c/ ,/ d/ )/ ,/ 可以/ 保证/ c/ ∈/ E/ (/ d/ )/ ./ 定理/ 3/ 表明/ 该/ 贪心/ 策略/ 在/ HL/ 启发式/ 求解/ 过程/ 中是/ 一个/ 局部/ 最优/ 选择/ ,/ 我们/ 将/ 在/ 下/ 一节/ 通过/ 实验/ 论证/ 该/ 候选/ 搜索算法/ 的/ 有效性/ ./ 5/ 实验/ 本文/ 根据/ 构建/ 网络/ 分类目录/ 的/ 现实/ 需求/ 以及/ 国家/ 对/ 互联网内容/ 安全监管/ 的/ 需要/ ,/ 采用/ ODP/ 简体中文/ 网站/ 作为/ 实验/ 对象/ ,/ 以/ Vk/ 作为/ 候选/ 搜索算法/ 的/ 评价/ 标准/ ./ 实验/ 包括/ 数据/ 预处理/ 和/ 候选/ 搜索/ 方法/ 测试/ 比较/ 两/ 部分/ ./ 5.1/ 数据/ 预处理/ ODP/ 简体中文/ 网站/ 目录/ 是/ 一个/ 深度/ 为/ 6/ 层/ 的/ 类别/ 层次/ 树/ ,/ 包括/ 参考/ 、/ 商业/ 、/ 休闲/ 、/ 体育/ 、/ 健康/ 、/ 计算机/ 、/ 新闻/ 、/ 家庭/ 、/ 社会/ 、/ 游戏/ 、/ 艺术/ 、/ 购物/ 、/ 科学/ 13/ 个大类/ ,/ 1763/ 个/ 类别/ ,/ 整个/ 目录/ 包括/ 24570/ 个/ 网站/ ./ 我们/ 按照/ ODP/ 中/ 的/ 网站/ URL/ 进行/ 爬取/ ,/ 然后/ 对/ 采集/ 到/ 的/ 网页/ 进行/ 解析/ 、/ 分词/ 和/ 停/ 用词/ 过滤/ ,/ 最终/ 将/ 每个/ 网站/ 表示/ 为/ 一个/ 文档/ ./ 测试数据/ 的/ 类别/ 分布图/ 和/ 文档/ 分布图/ 如图/ 2/ 所示/ ./ 网页/ 文档/ 是/ 一种/ 高维/ 数据/ ,/ 我们/ 所/ 采用/ 的/ 数据/ 集在/ 数据/ 预处理/ 之后/ 包含/ 大约/ 20/ 万个/ 中文/ 词语/ ./ 因此/ 需要/ 进行/ 特征/ 降维以/ 解决/ 文本/ 特征向量/ 高维/ 问题/ ,/ 本文/ 采用/ 特征词/ 子集/ 选择/ 方法/ 以/ 实现/ 特征/ 降维/ ./ 本文/ 实现/ 并/ 比较/ 了/ 4/ 种/ 特征词/ 选择/ 方法/ ,/ 分别/ 是/ 基于/ 词频/ 逆/ 文档/ 频率/ 值/ 的/ 特征/ 选取/ 方法/ 、/ 文献/ [/ 9/ ]/ 提出/ 的/ 基于/ 词频/ 、/ 文档/ 频率/ 和/ 类别/ 频率/ 的/ 特征/ 选取/ 方法/ 、/ CHI/ (/ Chi/ -/ square/ )/ 统计/ 特征/ 选取/ 方法/ 、/ 文献/ [/ 10/ ]/ 提出/ 的/ 结合/ 文档/ 频率/ 和/ CHI/ 的/ 特征/ 选取/ 方法/ ./ 通过/ 测试/ 发现/ ,/ 基于/ 词频/ 逆/ 文档/ 频率/ 值/ 的/ 方法/ 在/ 这/ 4/ 种/ 方法/ 中/ 性能/ 最优/ ,/ 因此/ 最终/ 采用/ 了/ 该/ 特征选择/ 方法/ ./ 在/ 实验/ 中/ 我们/ 发现/ ,/ 当/ 特征词/ 数量/ 大于/ 3500/ 时/ ,/ 通过/ 增加/ 特征词/ 数量/ 已经/ 难以/ 有效/ 提高/ 算法/ 的/ 性能/ ,/ 因此/ 取/ 特征词/ 数目/ 为/ 3500/ ./ 实验/ 使用/ 的/ 是/ 一台/ 处理器/ 为/ P8700/ ,/ 内存/ 为/ 8GB/ 的/ PC机/ ./ 实验/ 时/ ,/ 先/ 将/ 数据/ 集/ 随机/ 分为/ 10/ 份/ ,/ 其中/ 1/ 份/ 为/ 测试/ 集/ ,/ 其余/ 作为/ 训练/ 集/ ,/ 然后/ 计算/ Vk/ ,/ 如此/ 反复/ 10/ 次/ ,/ 以/ 这/ 10/ 次/ 的/ 平均值/ 作为/ 最终/ 结果/ ./ Page75/ ./ 2/ 候选/ 搜索/ 方法/ 比较/ 本节/ 对/ HL/ 算法/ 和/ 第/ 2/ 节中/ 介绍/ 的/ 已有/ 候选/ 搜索/ 方法/ 进行/ 测试/ 比较/ ,/ 这些/ 方法/ 包括/ 词频/ 向量/ 方法/ TF/ [/ 2/ ]/ 、/ TFIDF/ [/ 3/ ,/ 6/ ]/ 、/ IG/ &/ DF/ [/ 7/ ]/ 、/ DFICF/ [/ 8/ ]/ 以及/ HSVM/ [/ 4/ ]/ ./ 对于/ 这些/ 方法/ ,/ 我们/ 分别/ 按照/ 相关/ 工作/ 中/ 所述/ 算法/ 进行/ 了/ 实现/ ./ HSVM/ 是/ 一个/ 基于/ 支持/ 向量/ 机/ 的/ 层次/ 式/ 分类/ 模型/ ,/ 已/ 被/ 验证/ 是/ 一个/ 有效/ 的/ 大规模/ 层次/ 分类/ 方法/ [/ 11/ -/ 12/ ]/ ,/ 因此/ 我们/ 采用/ 基于/ HSVM/ 的/ 候选/ 搜索/ 方法/ 同/ 本文/ 所/ 提出/ 的/ 方法/ 进行/ 比较/ ./ Liblinear/ [/ 13/ ]/ 是/ 台湾大学/ 林智仁/ 教授/ 开发/ 的/ 一个/ SVM/ 分类器/ ,/ 根据/ 林仁智/ 小组/ 的/ 研究/ 结果/ ,/ Liblinear/ 适用/ 于/ 样本/ 数目/ 较大/ 的/ web/ 文档/ 分类/ [/ 13/ ]/ ./ 因此/ 本文/ 采用/ LibLinear/ 来/ 实现/ HSVM/ ,/ 具体/ 为/ LibLinear/ 类型/ 4/ 的/ 多/ 类别/ 线性/ SVM/ 分类器/ ./ 为了/ 提高/ 算法/ 效率/ ,/ 本文/ 修改/ 了/ LibLinear/ 的/ 语料/ 读取/ 接口/ ./ 为了/ 便于/ 比较/ HL/ 算法/ 的/ 收敛性/ ,/ 我们/ 还/ 实现/ 了/ 一个/ 基本/ 算法/ SH/ (/ Simple/ -/ Heuristicalgorithm/ )/ ./ SH/ 和/ HL/ 的/ 区别/ 在于/ 特征值/ 的/ 更新/ 策略/ 不同/ ,/ SH/ 只是/ 简单/ 的/ 根据/ 词频/ 更新/ ,/ 如式/ (/ 3/ )/ 所示/ ,/ 其中/ ,/ TFj/ ,/ l/ 是/ 特征/ j/ 在/ 类别/ l/ 中/ 出现/ 的/ 次数/ ,/ TFj/ ,/ d/ 是/ 特征/ j/ 在/ 测试/ 文档/ d/ 中/ 出现/ 的/ 次数/ ,/ TFj/ 是/ j/ 出现/ 的/ 总/ 次数/ ./ 我们/ 只/ 需要/ 将/ 图/ 1/ (/ b/ )/ 中/ 的/ 行/ 2.1/ 、/ 2.2/ 替换/ 为式/ (/ 3/ )/ 即可/ 实现/ SH/ 算法/ ./ 不同/ 候选/ 搜索/ 方法/ 的/ 测试/ 结果/ 如表/ 1/ 所示/ ,/ 包括/ V1/ 、/ V10/ 、/ 学习/ 时间/ 和/ 测试/ 时间/ ,/ 参数/ p/ 表示/ 算法/ 的/ 迭代/ 次数/ ./ 表/ 1/ 不同/ 候选/ 搜索/ 方法/ 的/ 有效性/ 和/ 时间/ 开销/ 方法/ V1V10/ 学习/ 时间/ // ms/ 搜索/ 时间/ // msTF0/ ./ 5950.8293118439/ TFIDF0/ ./ 6030.84292018440/ IG/ &/ DF0/ ./ 4710.76465618845/ DFICF0/ ./ 4210.7074537909/ HSVM0/ ./ 6740.78412121125/ SH/ ,/ p/ =/ 10.6120/ ./ 8597957418573SH/ ,/ p/ =/ 30.6290/ ./ 87424696218470HL/ ,/ p/ =/ 10.6530/ ./ 8939141218584HL/ ,/ p/ =/ 30.6620/ ./ 90527220418425/ 如表/ 1/ 中/ 所示/ ,/ TF/ 方法/ 在/ 学习/ 阶段/ 仅为/ 每个/ 类别/ 计算/ 一个/ 词频/ 向量/ ,/ 所以/ 其/ 学习/ 时间/ 最短/ ./ HSVM/ 方法/ 按照/ 类别/ 层次/ 树/ 将/ 候选/ 搜索/ 问题/ 分解/ 为/ 一组/ 规模较/ 小/ 的/ 局部/ 分类/ 问题/ ,/ 在/ 类别/ 树/ 的/ 各个/ 节点/ 上/ 分别/ 训练/ SVM/ 分类器/ ./ 因此/ ,/ 该/ 方法/ 的/ 训练/ 开销/ 比较/ 小/ ./ 另外/ ,/ HSVM/ 方法/ 采用/ 自上而下/ 的/ 递归/ 判断/ 方式/ ,/ 因此/ 其/ 测试/ 时间/ 最短/ ./ 启发式/ 算法/ SH/ 和/ HL/ 在/ 优化/ 过程/ 中/ 需要/ 遍历/ 整个/ 数据/ 集/ ,/ 甚至/ 多次/ 遍历/ ,/ 因此/ 学习/ 时间/ 最长/ ./ 在/ web/ 文本/ 分类/ 的/ 实际/ 应用/ 中/ ,/ 训练样本/ 往往/ 会以/ 在线/ 样本/ 的/ 方式/ 不断/ 增加/ ./ 因此/ ,/ 需要/ 采用/ 在线/ 学习/ 方式/ 不断更新/ 搜索/ 模型/ ./ HL/ 算法/ 是/ 一个/ 错误/ 驱动/ 的/ 学习/ 方法/ ,/ 因此/ 可以/ 作为/ 一个/ 在线/ 增量/ 更新/ 算法/ 应用/ ./ 基于/ HL/ 的/ 在线/ 学习/ 方法/ 包括/ 两个/ 阶段/ :/ 阶段/ 1/ ,/ 利用/ 初始/ 样本/ 采用/ HL/ 算法/ 学习/ 一个/ 特征/ 权重/ 矩阵/ ;/ 阶段/ 2/ ,/ 采用/ Correct/ -/ Error/ 贪心/ 策略/ 不断更新/ 特征/ 权重/ 矩阵/ ,/ 此时/ 每/ 增加/ 一个/ 新/ 样本/ ,/ 就/ 对/ 搜索/ 模型/ 做/ 一次/ 更新/ ./ HL/ 算法/ 作为/ 一个/ 在线/ 增量/ 更新/ 算法/ 应用/ 时/ ,/ 此时/ 利用/ 新增/ 训练样本/ 更新/ 模型/ 的/ 平均/ 时间/ 仅为/ 60ms/ 左右/ ,/ 这/ 小于/ 除/ TF/ 外/ 的/ 其它/ 候选/ 搜索/ 方法/ 的/ 学习/ 时间/ ./ 不同/ 候选/ 搜索/ 方法/ 的/ 有效性/ 比较/ 如图/ 3/ 所示/ ./ 其中/ ,/ HSVM/ 的/ V1/ 值/ 最大/ ,/ 但/ 其/ V10/ 并/ 不/ 理想/ ,/ 这/ 是因为/ HSVM/ 在/ 自上而下/ 的/ 递归/ 求解/ 过程/ 中/ ,/ 难以/ 找到/ 全局/ 的/ top/ -/ k/ 类别/ ./ HL/ 算法/ V10/ 值/ 最大/ ,/ 达到/ 了/ 0.905/ ,/ 相比/ 已有/ 方法/ 提高/ 了/ 7.5/ %/ 左右/ ./ 显然/ ,/ 对于/ 候选/ 搜索/ 问题/ ,/ V10/ 相比/ V1/ 更具/ 参考价值/ ,/ 因为/ 我们/ 的/ 目标/ 是/ 利用/ 候选/ 样本/ 为/ 测试/ 文档/ 学习/ 一个/ 分类器/ ,/ 以/ 提高/ 分类/ 效果/ ,/ 所以/ 应该/ 以/ V10/ 作为/ 评价/ 候选/ 搜索/ 方法/ 好坏/ 的/ 主要/ 指标/ ./ 另外/ ,/ 相比/ SH/ ,/ HL/ 所/ 采用/ 的/ 更新/ 策略/ 优化/ 速度/ 更/ 快/ ,/ 这/ 和/ 我们/ 的/ 预期/ 一致/ ./ 对于/ HL/ 算法/ 中/ 的/ 参数/ ρ/ ,/ 通过/ 调节/ 参数/ ρ/ 为/ 一个/ 合理/ 值/ ,/ 能够/ 使/ 算法/ 在/ 优化/ 新/ 模型/ 和/ 干扰/ 已有/ 模型/ 之间/ 取得/ 一个/ 最佳/ 折衷/ ,/ 通过/ 测试/ 发现/ ,/ 当/ ρ/ 为/ 0.6/ 时/ ,/ HL/ 算法/ 的/ 性能/ 比较稳定/ ./ 6/ 结束语/ 本文/ 对/ 大规模/ 层次/ 分类/ 中/ 的/ 候选/ 类别/ 搜索/ 问题/ 进行/ 了/ 一般性/ 定义/ ,/ 分析/ 了/ 候选/ 搜索/ 问题/ 的/ 计算/ 复/ Page8/ 杂性/ ,/ 并且/ 证明/ 了/ 该/ 问题/ 是/ NP/ 难/ 的/ ./ 然后/ 提出/ 了/ 一种/ 基于/ 贪心/ 策略/ 的/ 启发式/ 候选/ 搜索/ 方法/ ,/ 并且/ 通过/ 实验/ 与/ 已有/ 主要/ 候选/ 搜索/ 方法/ 进行/ 了/ 比较/ ,/ 实验/ 结果表明/ ,/ 本/ 方法/ 在/ 一定/ 程度/ 上/ 提高/ 了/ 候选/ 类别/ 集合/ 搜索/ 的/ 准确率/ ./ 但是/ 在/ 大规模/ 层次/ 分类/ 中/ ,/ 稀有/ 类别/ 在/ 类别/ 层次/ 中/ 非常/ 普遍/ ,/ 由于/ 稀有/ 类别/ 的/ 实例/ 非常少/ ,/ 这/ 严重/ 影响/ 了/ 机器/ 学习/ 的/ 效果/ ./ 对此/ ,/ 下/ 一步/ 我们/ 将/ 尝试/ 利用/ 类别/ 层次/ 中/ 的/ 相关/ 信息/ ,/ 例如/ 祖先/ 类别/ 来/ 帮助/ 稀有/ 类别/ 的/ 特征/ 学习/ ./ 

