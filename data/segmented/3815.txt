Page1/ 基于/ 动态/ 定价/ 策略/ 的/ 数据中心/ 能耗/ 成本/ 优化/ 王巍罗军舟/ 宋爱波/ (/ 东南大学/ 计算机科学/ 与/ 工程学院/ 南京/ 211189/ )/ 摘要/ 当前/ ,/ 云/ 数据中心/ 的/ 能耗/ 问题/ 已/ 成为/ 业界/ 关注/ 的/ 热点/ ./ 已有/ 研究/ 工作/ 大多/ 致力于/ 从/ 技术/ 角度/ 降低/ 数据中心/ 的/ 能耗/ ,/ 或/ 在/ 能耗/ 与/ 性能/ 之间/ 寻求/ 一种/ 最佳/ 的/ 折衷/ ./ 云/ 计算/ 作为/ 一种/ 商业/ 计算/ 模式/ ,/ 已有/ 研究成果/ 很少/ 考虑/ 到/ 云/ 定价/ 策略/ 对/ 能耗/ 管理机制/ 的/ 影响/ ./ 文中/ 提出/ 了/ 基于/ 动态/ 定价/ 策略/ 的/ 数据中心/ 能耗/ 成本/ 优化/ 方案/ ./ 建立/ 起/ 服务/ 价格/ 和/ 能耗/ 成本/ 的/ 统一/ 模型/ ,/ 通过/ 研究/ 两者之间/ 的/ 关系/ ./ 协同/ 优化/ 服务/ 价格/ 与/ 能耗/ 成本/ ,/ 使/ 数据中心/ 的/ 收益/ 达到/ 最优/ ./ 鉴于/ 数据中心/ 规模/ 庞大/ 、/ 承载/ 任务/ 繁重/ 等/ 特点/ ,/ 论文/ 采用/ 基于/ 重载/ 近似/ 的/ 大规模/ 排队/ 系统/ 来/ 对/ 数据中心/ 建模/ ,/ 根据/ 不同/ 数据中心/ 间/ 的/ 服务/ 需求量/ 和/ 电价/ 差别/ ,/ 设计/ 了/ 多/ 数据中心/ 间/ 的/ 负载/ 路由/ 机制/ ,/ 旨在/ 削减/ 数据中心/ 的/ 整体/ 能耗/ 成本/ ./ 针对/ 单个/ 数据中心/ ,/ 定义/ 了/ 双/ 阈值/ 策略/ 以/ 动态/ 调节/ 服务器/ 的/ 各种/ 状态/ (/ On/ // Off/ // Idle/ 等/ )/ ,/ 从而/ 使/ 数据中心/ 能耗/ 成本/ 得到/ 进一步/ 优化/ ./ 实验/ 结果表明/ ,/ 论文/ 提出/ 的/ 解决方案/ 能够/ 在/ 满足用户/ QoS/ 需求/ 的/ 前提/ 下/ ,/ 较/ 好/ 地/ 优化/ 数据中心/ 能耗/ 成本/ ,/ 同时/ 使/ 数据中心/ 的/ 收益/ 达到/ 最优/ ./ 关键词/ 数据中心/ ;/ 能耗/ ;/ 定价/ 策略/ ;/ 排队/ 系统/ ;/ 绿色/ 计算/ 1/ 引言/ 近年来/ ,/ 国内外/ 的/ 互联网/ 厂商/ 纷纷/ 兴建/ 各自/ 的/ 数据中心/ 以/ 提供/ 各种/ 云/ 存储/ 或/ 计算/ 服务/ ./ 随着/ 数据中心/ 规模/ 的/ 扩展/ ,/ 其/ 消耗/ 的/ 能源/ 及/ 温室/ 气体/ 排放/ 问题/ 也/ 愈显/ 突出/ ./ 据统计/ [/ 1/ -/ 2/ ]/ ,/ 能耗/ 已/ 成为/ 数据中心/ 运营/ 和/ 维护/ 的/ 最大/ 成本/ 所在/ ./ 日益/ 凸显/ 的/ 能耗/ 问题/ 严重/ 阻碍/ 了/ 云/ 计算技术/ 的/ 普及/ 与/ 发展/ ./ 这一/ 矛盾/ 促生/ 了/ IT/ 界/ 在/ 技术/ 发展/ 方向/ 上/ 的/ 又/ 一个/ 成长/ 支点/ ./ 许多/ 数据中心/ 商家/ 意识/ 到/ 节能/ 技术/ 具备/ 诸多/ 优势/ :/ 第一/ ,/ 降低/ 碳/ 排放量/ ,/ 利于/ 环保/ ./ 第二/ ,/ 削减/ 能耗/ 成本/ ,/ 取得/ 良好/ 的/ 经济/ 效果/ ./ 第三/ ,/ 摆脱/ 对/ 冷却/ 设施/ 的/ 过度/ 依赖/ ,/ 利于/ 维持/ 系统/ 的/ 稳定性/ ./ 因此/ ,/ 许多/ 厂商/ 都/ 在/ 积极/ 研究/ 绿色/ 节能/ 技术/ ,/ 以期/ 通过/ 快速/ 抢占/ 节能/ 技术/ 领域/ 的/ 制高点/ 来/ 攫取/ 自身/ 利益/ 的/ 最大化/ ./ 目前/ 的/ 能耗/ 优化/ 工作/ 大多/ 致力于/ 优化/ 数据中心/ 的/ 能耗/ 总量/ ,/ 或/ 在/ 能耗/ 与/ 性能/ 之间/ 寻求/ 一种/ 最佳/ 的/ 折衷/ ./ 但/ 优化/ 能耗/ 总量/ 并不一定/ 能耗/ 降低/ 数据中心/ 的/ 能耗/ 成本/ [/ 3/ ]/ ./ 能耗/ 成本/ 取决于/ 许多/ 因素/ ,/ 如/ 能耗/ 总量/ 、/ 电力/ 价格/ 以及/ 服务/ 需求量/ 等/ ./ 文献/ [/ 3/ ]/ 等/ 认为/ 降低/ 数据中心/ 的/ 能耗/ 成本/ 更/ 符合/ 数据中心/ 的/ 商业利益/ ./ 然而/ ,/ 现有/ 工作/ 很少/ 考虑/ 云/ 定价/ 模式/ 对/ 能耗/ 成本/ 优化/ 技术/ 的/ 影响/ ./ 目前/ ,/ 云/ 提供商/ 一般/ 会/ 采用/ 一种/ 灵活/ 的/ 定价/ 模式/ (/ FlexiblePricingScheme/ )/ 来/ 调节/ 服务/ 请求/ 量/ ,/ 使得/ 自身/ 的/ 收益/ 达到/ 最大/ ./ 如/ Amazon/ 在/ 需求量/ 较/ 低时/ 廉价出售/ 云/ 资源/ ,/ 以/ 提高/ 资源/ 的/ 利用率/ ./ 实现/ 其/ 商业/ 收益/ 的/ 最优/ ./ 尽管/ Amazon/ 的/ 这种/ 定价/ 模式/ 还/ 只是/ 初步/ 的/ 尝试/ ,/ 但/ 已经/ 引起/ 了/ 学术界/ 及/ 工业界/ 的/ 广泛/ 关注/ [/ 2/ ]/ ./ 显然/ ,/ 不同/ 价格水平/ 对/ 市场/ 需求量/ 有着/ 直接/ 的/ 影响/ [/ 4/ -/ 5/ ]/ ./ 如图/ 1/ (/ a/ )/ 所示/ ,/ 当/ 价格/ 增长/ 时/ ,/ 需求量/ 随之/ 减小/ ,/ 两者/ 呈/ 反比/ 关系/ ,/ 并且/ 这种/ 关系/ 呈现/ 一定/ 随机/ 波动性/ ./ 图/ 1/ (/ b/ )/ 显示/ 3/ 种/ 不同/ 价格水平/ 下/ ,/ 需求量/ 随/ 时间/ 的/ 变化/ 情况/ ./ 由此可见/ ,/ 价格水平/ 决定/ 着/ 需求量/ (/ 但/ 不是/ 唯一/ 决定/ 因素/ )/ ,/ 而/ 需求量/ 对/ 数据中心/ 的/ 能耗/ 管理/ 则/ 有着/ 显著/ 的/ 影响/ ./ 当前/ ,/ 许多/ 云/ 提供商/ ,/ 如/ Amazon/ 、/ Google/ 等/ 均/ 在/ 全球/ 多地/ 建立/ 多个/ 数据中心/ ,/ 将/ 数据中心/ 部署/ 在/ 不同/ 地理位置/ 不仅/ 便于/ 扩展/ 云/ 服务/ 市场/ ,/ 而且/ 有利于/ 削减/ 能耗/ 成本/ (/ 利用/ 温差/ 、/ 电价/ 差别/ 等/ )/ ./ 考虑/ 如图/ 2/ 所示/ 的/ 多/ 数据中心/ 环境/ :/ 假定/ 云/ 提供商/ P/ 在/ 不同/ 区域/ 建立/ 了/ 多个/ 数据中心/ ,/ 由于/ 地域/ 差异/ ,/ 电力/ 价格/ 及/ 面向/ 的/ 用户/ 市场/ 均/ 不同/ ./ 例如/ ,/ 时刻/ t0/ ,/ 数据中心/ 的/ 服务/ 价格/ 为/ p0/ ,/ 到/ t1/ 时刻/ ,/ 云/ 提供商/ P/ 为了/ 刺激/ 消费/ ,/ 将/ 服务/ 价格/ 调低/ 至/ p1/ ,/ 此时/ 各地/ 的/ 市场/ 需求量/ 对/ 价格调整/ 可能/ 有/ 不同/ 的/ 反应/ ./ 与此同时/ ,/ 各地/ 的/ 电力/ 价格/ 也/ 可能/ 发生/ 了/ 改变/ (/ 如/ 采用/ 阶梯/ 电价/ 或/ 分时/ 电价/ )/ ./ 此时/ ,/ 如果/ 能/ 将/ 负载/ 转移/ 到/ 需求量/ 和/ 电价/ 均/ 较/ 低/ 的/ 数据中心/ ,/ 将/ 能够/ 有效/ 地/ 提高/ 资源/ 的/ 利用率/ 并/ 降低/ 数据中心/ 的/ 能耗/ 成本/ ./ 具体/ 而言/ ,/ 可/ 按照/ 如下/ 两步/ 来/ 优化/ 数据中心/ 的/ 能耗/ 成本/ :/ (/ 1/ )/ 负载/ 分配/ :/ 合理/ 地/ 将/ 负载/ 调度/ 到/ 不同/ 的/ 数据中心/ ,/ 在/ 保证/ 服务/ 性能/ 的/ 同时/ ,/ 尽可能/ 地/ 利用/ 电价/ 和/ 服务/ 需求/ 差别/ 降低/ 能耗/ 成本/ ./ (/ 2/ )/ 服务器/ 状态/ 调节/ :/ 在/ 既定/ 负载/ 分配/ 策略/ 下/ ,/ 对/ 单个/ 数据中心/ ,/ 实时/ 决策/ 服务器/ 所/ 处/ 状态/ (/ On/ // Idle/ // Off/ 等/ )/ 以/ 进一步/ 优化/ 能耗/ 成本/ ./ 由于/ 不同/ 数据中心/ 具有/ 异构/ 性大/ 、/ 跨/ 区域/ 等/ 特点/ ,/ 上述/ 优化/ 策略/ 面临/ 如下/ 几个/ 方面/ 的/ 挑战/ :/ (/ 1/ )/ 负载/ 转移/ 需要/ 花费/ 一定/ 的/ 时间/ ,/ 可能/ 造成/ 用户/ QoS/ 性能/ 的/ 下降/ ./ (/ 2/ )/ 不同/ 数据中心/ 服务/ 能力/ 并不相同/ ,/ 并且/ 规模/ 有限/ ,/ 负载/ 分配/ 须/ 考虑/ 数据中心/ 的/ 异构/ 性/ ./ (/ 3/ )/ 数据中心/ 价格调整/ 的/ 目的/ 是/ 为了/ 获取/ 自身/ 利益/ 的/ 最大化/ ./ 能耗/ 优化/ 策略/ 应/ 与/ 价格/ 调节/ 策略/ 协调一致/ ./ 两者/ 不/ 存在/ 冲突/ ./ (/ 4/ )/ 现实/ 环境/ 中/ 的/ 负载/ 流量/ 受/ 多种/ 因素/ 影响/ ,/ 具有/ 随机/ 波动性/ ./ 能耗/ 优化/ 策略/ 应/ 能/ 有效/ 适应/ 负载/ Page3/ 流量/ 的/ 动态变化/ ./ 为了/ 解决/ 上述/ 问题/ ,/ 本文/ 将/ 服务/ 定价/ 、/ 负载/ 分配/ 以及/ 服务器/ 状态/ 调节/ 等/ 相关/ 策略/ 统一/ 考虑/ ,/ 制定/ 出/ 一个/ 协调一致/ 的/ 系统优化/ 方案/ ,/ 从而/ 达到/ 有效/ 削减/ 数据中心/ 能耗/ 成本/ 的/ 目的/ ./ 首先/ 建立/ 起/ 市场需求/ 的/ 变化/ 模型/ ,/ 利用/ 排队/ 理论/ 分析/ 服务/ 价格/ 、/ 任务/ 响应/ 时间/ 以及/ 服务/ 能力/ 等/ 性能指标/ 的/ 关联/ 关系/ ,/ 据此/ 设计/ 出/ 合理/ 的/ 负载/ 路由/ 机制/ 及/ 具有/ QoS/ 保证/ 的/ 能耗/ 成本/ 优化/ 策略/ ./ 针对/ 负载/ 流量/ 的/ 动态变化/ ,/ 提出/ 了/ 基于/ 双/ 阈值/ 的/ 服务器/ 状态/ 调节/ 策略/ ./ 双/ 阈值/ 策略/ 无需/ 对/ 负载/ 进行/ 预测/ ,/ 能够/ 根据/ 需求量/ 变化/ 实时/ 调整/ 服务器/ 所/ 处/ 状态/ ,/ 使得/ 数据中心/ 的/ 能耗/ 成本/ 得到/ 进一步/ 优化/ ./ 归纳/ 而言/ ,/ 本文/ 的/ 主要/ 贡献/ 如下/ :/ (/ 1/ )/ 目前/ 的/ 能耗/ 成本/ 优化/ 工作/ 很少/ 考虑/ 定价/ 机制/ 对/ 能耗/ 成本/ 的/ 影响/ ./ 针对/ 这一/ 不足/ ,/ 我们/ 介绍/ 了/ 需求/ 函数/ 弹性/ 的/ 概念/ ,/ 建立/ 不同/ 市场/ 的/ 需求/ 函数/ 模型/ ./ 基于/ 重载/ 近似/ 的/ 排队/ 理论/ 分析/ 相关/ 系统/ 性能参数/ ,/ 给出/ 相应/ 的/ 参数/ 关系/ 表达式/ ./ (/ 2/ )/ 建立/ 起/ 服务/ 定价/ 及/ 能耗/ 成本/ 的/ 统一/ 模型/ ./ 据此/ 提出/ 了/ 负载/ 流量/ 的/ 动态/ 路由/ 机制/ ,/ 设计/ 了/ 最优/ 服务/ 定价/ 策略/ ,/ 从而/ 给出/ 数据中心/ 能耗/ 成本/ 的/ 优化/ 方案/ ./ 本文/ 的/ 优化/ 策略/ 能够/ 在/ 保证/ 用户/ QoS/ 的/ 同时/ ,/ 有效/ 降低/ 能耗/ 成本/ ./ 并/ 使得/ 数据中心/ 的/ 收益/ 达到/ 最优/ ./ (/ 3/ )/ 为了/ 处理/ 负载/ 流量/ 的/ 动态/ 波动性/ ,/ 定义/ 了/ 双/ 阈值/ 策略/ 以/ 实现/ 数据中心/ 服务器/ 状态/ 的/ 实时控制/ ./ 分析/ 了/ 相关/ 系统/ 参数/ 对/ 阈值/ 选取/ 的/ 影响/ ,/ 给出/ 了/ 最优/ 阈值/ 的/ 计算方法/ ./ 双/ 阈值/ 策略/ 在/ 真实/ 的/ 仿真/ 数据/ 中/ ,/ 能够/ 较/ 好/ 地/ 贴近/ 负载/ 流量/ ,/ 有效/ 地/ 避免/ 了/ 能耗/ 浪费/ ./ 本文/ 第/ 2/ 节/ 介绍/ 相关/ 工作/ ;/ 第/ 3/ 节/ 建立/ 数据中心/ 能耗/ 成本/ 与/ 服务/ 定价/ 模型/ 以及/ 形式化/ 描述/ ;/ 第/ 4/ 节/ 主要/ 分析/ 服务/ 定价/ 策略/ 、/ 负载/ 分配机制/ 以及/ 能耗/ 成本/ 优化/ 方案/ ,/ 给出/ 近似/ 最优/ 解/ ,/ 最后/ 提出/ 双/ 阈值/ 策略/ ;/ 第/ 5/ 节为/ 实验/ 以及/ 结果/ 分析/ ;/ 第/ 6/ 节/ 总结/ 全文/ 并/ 提出/ 未来/ 工作/ ./ 2/ 相关/ 工作/ 对/ 本文/ 启发/ 较大/ 的/ 工作/ 主要/ 有/ 两个/ 方面/ :/ (/ 1/ )/ 数据中心/ 能耗/ 或/ 能耗/ 成本/ 优化/ 的/ 研究/ ;/ (/ 2/ )/ 云/ 计算/ 服务/ 定价/ 策略/ 的/ 相关/ 工作/ ./ 本节/ 将/ 分别/ 对/ 这/ 两个/ 方面/ 予以/ 阐述/ ./ 数据中心/ 能耗/ // 能耗/ 成本/ 优化/ ./ 能耗/ 优化/ 和/ 能耗/ 成本/ 优化/ 的/ 区别/ 在于/ :/ 能耗/ 优化/ 一般/ 只/ 考虑/ 系统/ 的/ 能耗/ 总量/ ,/ 而/ 能耗/ 成本/ 优化/ 不仅/ 要/ 考虑/ 能耗/ 总量/ ,/ 还要/ 考虑/ 单位/ 能耗/ 的/ 价格/ ./ 本文/ 的/ 工作/ 主要/ 是/ 对/ 能耗/ 成本/ 的/ 优化/ ./ 文献/ [/ 3/ ]/ 利用/ 排队/ 论/ 建立/ 的/ 系统/ 模型/ 和/ 本文/ 相似/ ./ 该/ 文献/ 利用/ 全美/ 各地/ 的/ 电力/ 差价/ ,/ 适时地/ 将/ 负载/ 流量/ 调度/ 到/ 不同/ 的/ 数据中心/ 去/ ,/ 以期/ 削减/ 数据中心/ 的/ 能耗/ 成本/ ./ 该/ 文献/ 将/ 负载/ 分配/ 问题/ 建模/ 成/ 最小/ 代价/ 流/ 问题/ ,/ 提供/ 了/ 一个/ 快速/ 的/ 近似/ 求解/ 算法/ ./ 与/ 我们/ 工作/ 不同/ 的/ 是/ ,/ 文献/ [/ 3/ ]/ 考虑/ 的/ 负载/ 流量/ 是/ 稳定/ 的/ 泊松/ 到达/ 流/ ./ 但是/ 在/ 真实/ 的/ 数据中心/ 环境/ 中/ ,/ 负载/ 流量/ 具有/ 动态/ 波动性/ ,/ 本文/ 在/ 泊松/ 到达/ 模型/ 的/ 基础/ 上/ 提出/ 了/ 双/ 阈值/ 策略/ ,/ 能够/ 更好/ 地/ 适应/ 流量/ 的/ 动态变化/ ./ 文献/ [/ 4/ ]/ 研究/ 了/ 多/ 数据中心/ 架构/ 下/ 的/ 碳/ 排放量/ 优化/ 问题/ ./ 该/ 文献/ 所/ 提出/ 的/ 问题/ 模型/ 和/ 求解/ 思路/ 均/ 可/ 适用/ 于/ 能耗/ 优化/ ./ 文献/ [/ 4/ ]/ 分析/ 了/ 用户/ 及/ 提供商/ 双方/ 的/ 相关/ 需求/ 函数/ 及/ 约束条件/ ,/ 将/ 碳/ 排放量/ 优化/ 问题/ 转化/ 为/ 双/ 目标/ 优化/ 问题/ ,/ 提出/ 了/ 3/ 种/ 启发式/ 的/ 求解/ 思路/ ./ 对于/ 单个/ 数据中心/ ,/ 该/ 文献/ 采用/ DVS/ 技术/ 进一步/ 对/ 碳/ 排放量/ 进行/ 了/ 优化/ ./ 与/ 本文/ 不同/ 的/ 是/ ,/ 文献/ [/ 4/ ]/ 的/ 优化/ 目标/ 是/ 单个/ 任务/ ,/ 考虑/ 的/ 定价/ 策略/ 是/ 静态/ 的/ ,/ 而/ 本文/ 考虑/ 的/ 是/ 面向/ 统计/ 负载/ 流量/ 的/ 动态/ 定价/ 策略/ ./ 文献/ [/ 5/ ]/ 利用/ 时间/ 序列/ 分析/ 技术/ ,/ 结合/ 不同/ 的/ 定价/ 策略/ 来/ 预测/ 云/ 市场/ 的/ 需求量/ ./ 同/ 本文/ 一样/ ,/ 文献/ [/ 5/ ]/ 考虑/ 了/ 多用户/ 市场/ 的/ 需求/ 差别/ ,/ 基于/ 预测/ 结果/ ,/ 提出/ 了/ 一个/ 动态/ 的/ 云/ 资源管理/ 方案/ ./ 该/ 文献/ 把/ 动态/ 资源分配/ 问题/ 建模/ 成/ 多维/ 背包/ 问题/ ./ 针对/ 不同/ 的/ 定价/ 模式/ ,/ 给出/ 了/ 最优/ 回报/ 的/ 求解/ 算法/ ./ 文献/ [/ 6/ ]/ 认为/ 能耗/ 优化/ 需要/ 资源管理/ 策略/ 的/ 支持/ ./ 而/ 当前/ 面向市场/ 的/ 云/ 资源管理/ 机制/ 大多/ 没有/ 考虑/ 能耗/ 优化/ ./ 该/ 文献/ 利用/ 排队/ 论/ 分析/ 了/ 用户/ 的/ 响应/ 时间/ 和/ 系统/ 能耗/ 量/ 之间/ 的/ 函数/ 关系/ ,/ 并/ 通过/ 博弈论/ 对/ 用户/ 和/ 提供者/ 双方/ 进行/ 建模/ ,/ 将/ 能耗/ 优化/ 建模/ 成/ Stackelberg/ 博弈/ ,/ 双方/ 各自/ 优化/ 自身/ 的/ 目标/ 函数/ ,/ 最终/ 达到/ 了/ 系统/ 的/ 一种/ 均衡/ ./ 并/ 据此/ 给出/ 了/ 能耗/ 最优/ 值/ 的/ 上/ 下界/ ./ 与/ 我们/ 不同/ 的/ 是/ ,/ 文献/ [/ 6/ ]/ 考虑/ 的/ 是/ 单通道/ 排队/ 系统/ ,/ 优化/ 目标/ 是/ 系统/ 的/ 能耗/ 总量/ ,/ 并且/ 没有/ 考虑/ 系统/ 的/ 整体/ 收益/ ./ 文献/ [/ 7/ ]/ 认为/ 地理/ 上/ 分布/ 在/ 各地/ 的/ 多/ 数据中心/ 可以/ 利用/ 如下/ 3/ 个/ 方面/ 来/ 削减/ 能耗/ 成本/ :/ (/ 1/ )/ 不同/ 数据中心/ 处在/ 不同/ 的/ 电力/ 市场/ ,/ 电价/ 计费/ 模式/ 不/ 一致/ ;/ (/ 2/ )/ 即便/ 电价/ 计费/ 模式/ 一致/ ,/ 时/ 区/ 差异/ 也/ 可能/ 导致/ 电价/ 不同/ ;/ (/ 3/ )/ 不同/ 数据中心/ 所处/ 的/ 气候/ 环境/ 不/ 一样/ ./ 基于/ 上述/ 3/ 点/ 不同/ ,/ 文献/ [/ 7/ ]/ 研究/ 了/ 数据中心/ 虚拟机/ 迁移/ 和/ 放置/ 策略/ ./ 对/ 能耗/ 成本/ 、/ 峰值/ 成本/ 、/ 温度/ 影响/ 、/ 制冷/ 成本/ 以及/ 迁移/ 成本/ 等/ 各种/ 成本/ 因素/ 进行/ 建模/ ./ 提出/ 了/ 具有/ 成本/ 感知/ 的/ 负载/ 放置/ 策略/ ./ 通过/ 研究/ 负载/ 变化/ 对/ 能耗/ 的/ 影响/ ,/ 提出/ 了/ “/ 预制/ 冷/ ”/ 机制/ ,/ Page4/ 以/ 避免/ 服务器/ 的/ 局部/ 过热/ ./ 上述/ 研究/ 工作/ 同/ 本文/ 的/ 异同/ 点/ 可/ 参见/ 表/ 1/ ./ 本文/ 工作/ Rao/ 等/ 人/ [/ 3/ ]/ Garg/ 等/ 人/ [/ 4/ ]/ Zhang/ 等/ 人/ [/ 5/ ]/ Le/ ó/ n/ 等/ 人/ [/ 6/ ]/ Le/ 等/ 人/ [/ 7/ ]/ 云/ 服务/ 定价/ 模型/ 及/ 成本/ 优化/ ./ 文献/ [/ 8/ ]/ 用/ 遗传算法/ 计算/ 云/ 市场/ 的/ 最优/ 价格/ ,/ 使得/ 云/ 服务提供商/ 的/ 利益/ 得到/ 最大化/ ./ 该/ 算法/ 综合/ 考虑/ 了/ 云/ 提供商/ 自身/ 和/ 潜在/ 竞争对手/ 的/ 资源/ 供应/ 能力/ ,/ 给出/ 了/ 一个/ 有/ 竞争力/ 的/ 资源/ 定价/ 模型/ ./ 该/ 模型/ 能够/ 灵活/ 地/ 调整/ 价格/ 以/ 适应/ 动态变化/ 的/ 云/ 市场需求/ ,/ 但是/ 遗传算法/ 本身/ 较为/ 复杂/ ,/ 实际/ 应用/ 起来/ 存在/ 困难/ ./ 文献/ [/ 9/ ]/ 从/ 用户/ 的/ 角度/ 研究/ 了/ 3/ 种/ 不同/ 价格/ 模式/ 下/ 的/ 资源/ 规划/ 问题/ ./ 该/ 文献/ 用/ 排队/ 论/ 计算/ 满足用户/ QoS/ 性能/ 所/ 需/ 的/ 资源量/ ./ 通过/ QoS/ 监控/ 模块/ 实时/ 监控/ 用户/ QoS/ 需求/ 是否/ 得到/ 满足/ ./ 如果/ 无法/ 满足/ ,/ 则/ 从/ 现货/ 市场/ (/ SpotMarket/ )/ 购买/ 资源/ ./ 如果/ 得到/ 满足/ ,/ 则/ 依据/ 既定/ 准则/ ,/ 决策/ 是否/ 释放/ 部分/ 资源/ 以/ 节省成本/ ./ 文献/ [/ 10/ ]/ 认为/ 云/ 计算/ 是/ 一种/ 商业/ 计算/ 模式/ ,/ 这种/ 特点/ 改变/ 了/ 原有/ 分布式系统/ 的/ 设计/ 理念/ 和/ 优化/ 机制/ ./ 云/ 服务/ 的/ 定价/ 模式/ 应/ 在/ 系统优化/ 和/ 经济效益/ 之间/ 起到/ 一个/ ”/ 桥梁/ ”/ 的/ 作用/ ./ 该/ 文献/ 研究/ 了/ 定价/ 对系统/ 可能/ 产生/ 的/ 影响/ ,/ 包括/ 性能/ 、/ 成本/ 、/ 公平性/ 、/ 稳定性/ 等/ ./ 基于/ 此/ ,/ 文献/ [/ 10/ ]/ 在/ 真实/ 的/ 实验/ 环境/ 中/ 得出/ 了/ 如下/ 结论/ :/ (/ 1/ )/ 只/ 考虑/ 成本/ 优化/ 并不一定/ 能/ 增加/ 系统/ 的/ 效益/ ;/ (/ 2/ )/ 现有/ 的/ 定价/ 模式/ 均/ 没有/ 考虑/ 用户/ 公平性/ ;/ (/ 3/ )/ 定价/ 机制/ 应/ 考虑/ 系统/ 的/ 可靠性/ ./ 上述/ 结论/ 为云/ 定价/ 机制/ 的/ 进一步/ 研究/ 提供/ 了/ 重要/ 的/ 参考/ 依据/ ./ 文献/ [/ 11/ ]/ 假设/ 用户/ 和/ 提供商/ 均/ 为/ 理性/ 的/ ,/ 均/ 要/ 最大化/ 自身/ 的/ 效益/ ./ 基于/ 该/ 假设/ ,/ 该/ 文献/ 提供/ 了/ 一种/ 动态/ 定价/ 机制/ ,/ 以/ 适用/ 于/ 用户/ 从/ 不同/ 提供商/ 购买/ 资源/ 的/ 情形/ ./ 文献/ [/ 11/ ]/ 将/ 该/ 定价/ 模型/ 和/ 固定价格/ 模型/ 进行/ 比较/ ,/ 验证/ 了/ 动态/ 定价/ 模型/ 的/ 有效性/ ./ 文献/ [/ 12/ ]/ 将/ 服务/ 价格/ 同/ QoS/ 联系/ 起来/ ,/ 提出/ 了/ 一种/ 具有/ QoS/ 感知/ 的/ 服务/ 定价/ 模式/ ./ 该/ 定价/ 模式/ 主要/ 面向/ 批处理/ 任务/ ,/ 优化/ 社会/ 总/ 效益/ ./ 文献/ [/ 12/ ]/ 认为/ 现有/ 的/ 定价/ 模式/ 导致/ 目前/ 服务提供商/ 的/ 资源/ 利用率/ 普遍/ 较/ 低/ ./ 为此/ 提出/ 了/ 一种/ 激励/ 兼容/ 的/ 定价/ 模式/ ,/ 并且/ 证明/ 了/ 该/ 模式/ 能够/ 使得/ 社会/ 的/ 效益/ 达到/ 最优/ ./ 基于/ 定价/ 策略/ 研究/ 数据中心/ 的/ 节能/ 工作/ 相对/ 较/ 少/ ,/ 论文/ 在/ 对/ 上述/ 研究成果/ 进行/ 深入分析/ 的/ 基础/ 之上/ ,/ 将/ 服务/ 定价/ 和/ 能耗/ 优化/ 问题/ 相结合/ ,/ 研究/ 定价/ 策略/ 对/ 能耗/ 优化/ 的/ 影响/ ./ 提出/ 了/ 服务/ 定价/ 和/ 能耗/ 成本/ 的/ 联合/ 优化/ 机制/ ,/ 供/ 数据中心/ 能耗/ 管理/ 的/ 研究者/ 参考/ 借鉴/ ./ 3/ 基于/ 排队/ 论/ 的/ 多/ 数据中心/ 建模/ 本/ 节/ 基于/ 排队/ 理论/ 对/ 多/ 数据中心/ 的/ 服务/ 价格/ 及/ 能耗/ 成本/ 进行/ 建模/ ./ 服务/ 定价/ 、/ 系统/ 成本/ 及/ 收益/ 等/ 相关/ 优化/ 问题/ 在/ 排队/ 理论/ 领域/ 已/ 取得/ 了/ 丰硕/ 的/ 研究成果/ [/ 13/ ,/ 24/ ]/ ./ 基于/ 现有/ 的/ 研究/ 工作/ [/ 13/ ]/ ,/ 我们/ 将/ 主要/ 研究/ 多/ 数据中心/ 的/ 服务/ 定价/ 、/ 系统/ 成本/ 及/ 收益/ 优化/ 问题/ ./ 本文/ 研究/ 工作/ 与/ 文献/ [/ 13/ ]/ 的/ 区别/ 在于/ :/ (/ 1/ )/ 本文/ 研究/ 的/ 多/ 数据中心/ 模型/ 之间/ 的/ 服务器/ 数量/ 及/ 服务/ 能力/ 异构/ ;/ (/ 2/ )/ 本文/ 的/ 多/ 数据中心/ 模型/ 需要/ 负载/ 均衡/ 机制/ ./ 数据中心/ 对/ 每个/ 接入/ 服务/ 的/ 用户/ 设定/ 一个/ 访问/ 价格/ 以/ 获取/ 一定/ 的/ 收益/ ./ 用户/ 访问/ 数据中心/ ,/ 不仅/ 需要/ 考虑/ 该/ 服务/ 的/ 价格/ ,/ 同时/ 也/ 要/ 考虑/ 服务质量/ ./ 为了/ 简化/ 模型/ ,/ 本文/ 用/ 延迟/ 成本/ 来/ 描述/ 用户/ 对/ 服务质量/ 的/ 满意/ 程度/ ./ 任务/ 响应/ 时间/ 越长/ ,/ 延迟/ 成本/ 就/ 越/ 高/ ,/ 而/ 用户/ 的/ 服务质量/ 满意度/ 就/ 越/ 低/ ./ 延迟/ 成本/ 可/ 表示/ 为/ 任务/ 响应/ 时间/ 的/ 函数/ ,/ 常用/ 的/ 成本/ 函数/ 有/ 线性/ 函数/ 、/ 指数函数/ [/ 24/ ]/ 等/ ./ 只有/ 当/ 服务/ 价格/ 和/ 延迟/ 成本/ 之/ 和/ 小于/ 用户/ 保留/ 价格/ 时/ (/ 心理/ 价位/ )/ ,/ 用户/ 才/ 会/ 选择/ 访问/ 数据中心/ ./ 比如/ 现实生活/ 中/ ,/ 用户/ 付费/ 观看/ 某/ 网站/ 的/ 视频/ ,/ 如果/ 长时间/ 得不到/ 响应/ (/ 延迟/ 成本/ 过高/ )/ ,/ 用户/ 则/ 可能/ 会/ 点击/ “/ 停止/ ”/ 按钮/ ,/ 终止/ 访问/ ./ 以下/ 针对/ 图/ 2/ 所示/ 的/ 多/ 数据中心/ 环境/ ,/ 采用/ 基于/ 重载/ 近似/ 的/ 大规模/ 排队/ 理论/ ,/ 将/ 其/ 建模/ 成图/ 3/ 所示/ 的/ 排队模型/ ./ Page5/ 基于/ 该/ 模型/ ,/ 研究/ 在/ 稳定/ 的/ 系统/ 状态/ 下/ 不同/ 系统/ 参数/ (/ 价格/ 、/ 延迟/ 、/ 服务器/ 数量/ 等/ )/ 之间/ 的/ 关联/ 关系/ ./ 为了/ 清晰/ 地/ 表述/ 文章内容/ ,/ 将/ 文中/ 变量/ 的/ 记法/ 和/ 描述/ 列于/ 表/ 2/ 之中/ ./ 符号/ iAgent/ 的/ 编号/ 索引/ ,/ 最大值/ 为/ Mj/ 数据中心/ 的/ 编号/ 索引/ ,/ 最大值/ 为/ N/ φ/ iAgenti/ 的/ 需求量/ λ/ j/ 数据中心/ j/ 的/ 需求量/ ,/ 无/ 下标/ 则/ 为/ 数据中心/ 总/ 需求量/ pij/ 需求/ 从/ 前端/ i/ 路由/ 到/ 数据中心/ j/ 的/ 概率/ p/ 服务/ 价格/ q/ 用户/ 的/ 延迟/ 代价/ ψ/ 用户/ 潜在/ 需求量/ ,/ 带/ 下标/ 则/ 为/ 不同/ 市场/ 的/ 潜在/ 需求量/ Pj/ 数据中心/ j/ 的/ 拥塞/ 概率/ Λ/ j/ ψ/ 按/ 概率/ 路由/ 矩阵/ 分解/ 到/ 数据中心/ j/ 的/ 潜在/ 最大/ 流量/ ED/ 服务/ 的/ 端/ 到/ 端/ 平均/ 延迟/ v/ 用户/ 的/ 保留/ 价格/ F/ ,/ f/ 用户/ 的/ 保留/ 价格/ 分布/ 函数/ 及/ 密度/ 函数/ ω/ j/ 数据中心/ j/ 每/ 单位/ 服务/ 能力/ 消耗/ 的/ 能耗/ μ/ j/ 数据中心/ j/ 的/ 服务/ 能力/ nj/ 数据中心/ j/ 的/ 服务器/ 数量/ ej/ 数据中心/ j/ 的/ 电力/ 价格/ Lj/ 数据中心/ j/ 的/ 规模/ 上限/ Dj/ 数据中心/ j/ 的/ 延迟/ 约束/ R/ 数据中心/ 的/ 总/ 服务/ 收益/ [/ a/ ,/ b/ ]/ 价格/ p/ 的/ 变化/ 区间/ β/ 1/ β/ 2/ 双/ 阈值/ 策略/ 中/ 服务器/ 的/ 启动/ 阈值/ 和/ 关闭/ 阈值/ ρ/ (/ t/ )/ 单/ 数据中心/ 系统/ 的/ 平均/ 效用/ θ/ ,/ σ/ 服务器/ 的/ 启动/ 和/ 关闭/ 速率/ 假定/ 服务提供者/ 设定/ 的/ 价格/ 为/ p/ >/ 0/ ,/ 任务/ 延迟/ 为/ ED/ ./ 本文/ 采用/ 线性/ 函数/ q/ / ED/ 来/ 表示/ 用户/ 的/ 延迟/ 成本/ ,/ q/ 为/ 一/ 常量/ ./ 用户/ 的/ 保留/ 价格/ 为/ 一/ 随机变量/ v/ ,/ 服从/ 概率/ 累积/ 分布/ 函数/ F/ ./ 假定/ F/ 连续/ 可微/ ,/ 其/ 密度/ 函数/ f/ 处处/ 为/ 正/ ,/ 初值/ 为/ 有限/ 值/ ./ 当/ 给定/ p/ 时/ ,/ 用户/ 可/ 根据/ 自身/ 的/ 保留/ 价格/ v/ ,/ 通过/ 概率/ P/ (/ v/ / p/ +/ qED/ )/ 来/ 决定/ 是否/ 访问/ 数据中心/ ./ 本文/ 主要/ 分析/ 数据中心/ 处于/ 稳定/ 状态/ 时/ 的/ 系统/ 行为/ ./ 则/ 用户/ 需求/ 率应/ 满足/ 以下/ 的/ 需求/ 关系/ :/ λ/ (/ p/ )/ =/ ψ/ P/ (/ v/ / p/ +/ qED/ )/ =/ ψ/ (/ 1/ -/ F/ (/ p/ +/ qED/ )/ )/ ,/ 其中/ ψ/ 是/ 市场/ 的/ 潜在/ 需求量/ ./ 即/ 用户/ 的/ 实际/ 访问量/ 等于/ 市场/ 的/ 潜在/ 需求量/ 乘以/ 访问/ 概率/ ./ 上述/ 的/ 需求量/ 模型/ 常见于/ 各种/ 经济模型/ 当中/ [/ 13/ ]/ ./ 下面/ ,/ 定义/ 需求/ 函数/ 弹性/ 的/ 概念/ ,/ 以/ 衡量/ 市场/ 中/ 服务/ 需求量/ 对/ 服务/ 价格/ 变动/ 的/ 敏感/ 程度/ ./ 价格/ ./ 则/ λ/ (/ p/ )/ 的/ 弹性/ 可定义/ 为/ 定义/ 1/ ./ 令/ λ/ (/ p/ )/ 为/ 客户/ 的/ 需求/ 函数/ ./ p/ 为/ 服务/ 如果/ λ/ (/ p/ )/ 在/ 区间/ [/ a/ ,/ b/ ]/ 上/ 满足/ ε/ (/ p/ )/ >/ 1/ ,/ 则/ 称/ λ/ (/ p/ )/ 是/ 弹性/ 的/ ./ 对/ 需求/ 弹性/ 的/ 直观/ 解释/ 是/ :/ 由于/ 经济/ 规律/ 的/ 作用/ ,/ 价格/ 与/ 需求/ 之间/ 存在/ 着/ 反比/ 关系/ ,/ 即当/ 价格/ 升高/ 时/ ,/ 需求量/ 下降/ ,/ 反之亦然/ ./ 弹性/ 概念/ 旨在/ 说明/ 价格/ 变化/ 比率/ 与/ 需求量/ 变化/ 比率/ 之间/ 的/ 关系/ ./ 价格/ 与/ 需求/ 函数/ 之间/ 这种/ 简单/ 而/ 又/ 重要/ 的/ 关系/ ,/ 被/ 广泛/ 地/ 运用/ 于/ 各种/ 形式/ 的/ 经济模型/ 当中/ ./ 虽然/ 数据中心/ 建/ 在/ 不同/ 的/ 区域/ ,/ 电力/ 价格/ 和/ 服务/ 能力/ 各异/ ,/ 但/ 服务/ 价格/ 应/ 一致/ ./ 即/ 价格/ 具有/ 区域/ 无关/ 性/ ,/ 比如/ 用户/ 不论/ 身处/ 何地/ ,/ 均/ 需要/ 同等/ 积分/ 下载/ 某/ 网站/ 的/ 资料/ ./ 我们/ 假定/ 不同/ 市场/ 的/ 需求/ 函数/ 均/ 满足/ 上文/ 定义/ 的/ 弹性/ 条件/ ./ 用户/ 通过/ 分布/ 在/ 各地/ 的/ Agent/ 访问/ 数据中心/ ./ 令/ 不同/ 区域/ 市场/ 的/ 用户/ 保留/ 价格/ 分布/ 函数/ 分别/ 为/ Fi/ ,/ 需求/ 函数/ 为/ φ/ i/ (/ p/ )/ ,/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ M/ (/ 即/ 生成/ 的/ 任务/ 到达/ 强度/ )/ ./ p/ 为/ 服务/ 价格/ ,/ 则/ 按照/ 上文/ 分析/ ,/ φ/ i/ =/ ψ/ (/ 1/ -/ Fi/ (/ p/ +/ qED/ )/ )/ ./ 令/ φ/ 为/ 各地/ 用户/ 的/ 总/ 需求量/ ,/ 并/ 定义/ 函数/ 于是/ 可/ 有/ 如下/ 推导/ :/ φ/ =/ ∑/ Mpij/ (/ )/ =/ 1/ 为/ 任务/ 的/ 路由/ 概率/ ,/ 即/ Agenti/ 的/ 令/ pij/ ∑/ N/ 任务/ 被/ 送到/ 数据中心/ j/ 的/ 概率/ 为/ pij/ ./ 因此/ ,/ [/ pij/ ]/ 构成/ 了/ 一个/ 路由/ 矩阵/ ./ 令/ λ/ ij/ =/ φ/ ipij/ ,/ 于是/ 数据中心/ j/ 的/ 到达/ 强度/ 为/ λ/ j/ =/ ∑/ M/ 当/ 需求/ 函数/ 满足/ 弹性/ 关系/ 时/ ,/ 有/ 如下/ 定理/ ./ 定理/ 1/ ./ 假定/ Agent/ 的/ 潜在/ 最大/ 需求/ 总量/ ψ/ =/ nj/ μ/ j/ =/ κ/ ψ/ ./ 那么/ ,/ 对于/ 任何/ 满足/ ∑/ M/ ∑/ Mi/ =/ 1/ ψ/ i/ 和/ 数据中心/ 总/ 服务/ 能力/ ∑/ N/ 即/ ∑/ Nj/ =/ 1/ 的/ 概率/ 路由/ 矩阵/ 犘/ [/ pij/ ]/ 和/ 服务/ 价格/ p/ >/ 0/ ,/ 下列/ 等式/ 成立/ :/ P1/ (/ congestion/ )/ =/ …/ =/ Pj/ (/ congestion/ )/ →/ ν/ ∈/ (/ 0/ ,/ 1/ )/ ,/ 其中/ Pj/ (/ congestion/ )/ 为/ 数据中心/ j/ 的/ 拥塞/ 概率/ ./ 并且/ ,/ (/ 1/ )/ 用户/ 请求/ 总/ 到达/ 率为/ φ/ =/ ∑/ N/ η/ 的/ 计算/ 见下文/ 式/ (/ 5/ )/ ./ Page6/ (/ 2/ )/ 服务/ 价格/ p/ 具有/ 如下/ 结构/ 其中/ ,/ p/ / =/ 珚/ F/ -/ 1/ (/ κ/ )/ ,/ 独立/ 于/ 数据中心/ 的/ 服务器/ 数量/ ./ pj/ =/ ∑/ Mi/ =/ 1/ (/ 3/ )/ 数据中心/ j/ 的/ 平均/ 延迟/ 为/ j/ =/ 1j/ =/ 1/ Λ/ j/ (/ 流量/ 守恒/ )/ ,/ Λ/ j/ 为/ 服务/ 请求/ 强度/ 依/ 概率/ 分/ 其中/ ,/ (/ π/ ,/ η/ ,/ d/ )/ 由/ ν/ 唯一/ 决定/ [/ 13/ ]/ ./ 证明/ ./ 文献/ [/ 13/ ]/ 已/ 证明/ 对于/ 单通道/ 的/ 排队/ 系统/ ,/ 当/ n/ →/ ,/ 并且/ 需求/ 函数/ 和/ 服务器/ 数量/ 保持/ 如下/ 比例/ 关系/ λ/ =/ n/ μ/ -/ η/ 槡/ n/ μ/ +/ o/ (/ 槡/ n/ )/ 时/ ,/ 系统/ 的/ 拥塞/ 概率/ 趋向于/ 定值/ ν/ ,/ 且/ 到达/ 率/ 、/ 服务/ 价格/ 和/ 服务/ 迟延/ 均/ 与/ 该值/ 一一对应/ ./ 借助/ 其/ 结论/ ,/ 只/ 需/ 证明/ 存在/ 概率/ 路由/ 矩阵/ 犘/ [/ pij/ ]/ ,/ 使得/ 各/ 数据中心/ 的/ 请求/ 到达/ 率/ 和/ 服务/ 能力/ 满足/ 这一/ 关系/ 即可/ ./ 由/ 假设/ ∑/ N/ ψ/ =/ ∑/ N/ 解后/ 到达/ 数据中心/ j/ 的/ 潜在/ 最大/ 流量/ ./ 得/ ∑/ N/ κ/ ψ/ =/ ∑/ N/ 服务/ 能力/ 的/ 约束/ 关系/ 分解/ 到/ 各/ 数据中心/ ,/ 并且/ 依然/ 满足/ 原来/ 的/ 假设/ ./ 由/ Λ/ j/ =/ ψ/ ∑/ Mnj/ μ/ j/ // κ/ ,/ 于是/ ,/ 可令/ ∑/ M/ 由/ 矩阵/ 犘/ [/ pij/ ]/ 满足/ 这一/ 关系/ 即可/ ./ 同时/ ,/ 由/ 文献/ [/ 13/ ]/ ,/ 为/ 保证/ 拥塞/ 概率/ 为/ v/ ,/ 每个/ 数据中心/ 的/ 服务/ 价格/ 应为/ pj/ =/ p/ / +/ π/ 计算/ 为/ p/ =/ p/ / +/ ∑/ N/ 该/ 定理/ 表明/ ,/ 虽然/ 系统/ 接近/ 满/ 负载/ ,/ 但/ 拥塞/ 概率/ 依然/ 可能/ 较/ 低/ ,/ 并且/ 经过/ 负载/ 均衡/ ,/ 可使/ 各/ 数据中心/ 的/ 平均/ 时延/ 均/ 控制/ 在/ d/ // n/ 槡/ j/ 左右/ ./ 根据/ 文献/ [/ 13/ ]/ ,/ η/ 可/ 由/ 1qf/ (/ p/ / )/ η/ -/ (/ 唯一/ 解得/ ./ 其中/ ,/ φ/ (/ η/ )/ 、/ Φ/ (/ η/ )/ 分别/ 为/ 标准/ 正态分布/ 的/ 概率密度函数/ 和/ 累计/ 分布/ 函数/ ./ 下/ 一节/ 基于/ 该/ 定理/ 分析/ 最优/ 定价/ 和/ 能耗/ 优化/ 策略/ ./ 4/ 数据中心/ 最优/ 定价/ 与/ 节能/ 策略/ 上/ 节/ 利用/ 重载/ 近似/ 理论/ 对/ 处在/ 不同/ 区域/ 的/ 数据中心/ 进行/ 了/ 建模/ 和/ 形式化/ 描述/ ./ 为了/ 考察/ 系统/ 稳定/ 状态/ 下/ 的/ 性质/ ,/ 定理/ 1/ 刻画/ 了/ 需求/ 函数/ 同/ 服务/ 价格/ 、/ 服务器/ 数量/ 之间/ 的/ 一一/ 映射/ 关系/ ./ 本节/ 将/ 基于/ 该/ 定理/ ,/ 分析/ 如何/ 优化/ 服务/ 价格/ 和/ 能耗/ 成本/ ,/ 并/ 介绍/ 双/ 阈值/ 策略/ 进一步/ 削减/ 数据中心/ 的/ 能耗/ 成本/ ./ 4.1/ 最优/ 定价/ 及/ 能耗/ 成本/ 优化/ 如图/ 3/ 所示/ ,/ 假设/ 数据中心/ j/ 每/ 提供/ 一/ 单位/ 服务/ 能力/ ,/ 其/ 消耗/ 的/ 能量/ 为/ ω/ j/ ,/ 数据中心/ j/ 的/ 电力/ 价格/ 为/ ej/ ,/ 数据中心/ j/ 的/ 总/ 处理/ 能力/ 为/ nj/ μ/ j/ ./ 则/ 数据中心/ j/ 的/ 总/ 能耗/ 成本/ 为/ wjejnj/ μ/ j/ ./ 假设/ 我们/ 只/ 考虑/ 能耗/ 成本/ ,/ 而/ 忽略/ 其它/ 成本/ 因素/ ,/ 则/ 服务提供者/ 的/ 收益/ 等于/ 价格/ 收入/ 减去/ 能耗/ 成本/ ./ 按照/ 表/ 2/ 的/ 符号/ 约定/ ,/ 服务提供者/ 面临/ 的/ 优化/ 问题/ 如下/ :/ 其中/ R/ (/ p/ ,/ nj/ )/ 为/ 数据中心/ j/ 的/ 服务收入/ ./ 根据/ 定理/ 1/ ,/ R/ (/ p/ ,/ nj/ )/ 可/ 表示/ 为/ R/ (/ p/ ,/ nj/ )/ =/ λ/ j/ ×/ p/ ≈/ (/ nj/ μ/ j/ -/ η/ n/ 槡/ j/ μ/ j/ )/ ×/ p/ (/ nj/ )/ +/ π/ 将/ 其/ 代入/ 式/ (/ 6/ )/ ,/ 可/ 得到/ 如下/ 的/ 近似/ 表达式/ :/ max/ ∑/ N/ 由于/ 数据中心/ 的/ 规模/ 有限/ 并/ 需要/ 保证/ 用户/ 的/ QoS/ 需求/ ./ 上述/ 优化/ 目标/ 存在/ 一系列/ 的/ 约束条件/ ,/ 包括/ 服务/ 能力/ 上限/ 、/ 任务/ 延迟/ 、/ 价格/ 区间/ 等/ ./ 于是/ ,/ 服务/ 方/ 收益/ 最大化/ 问题/ 可/ 形式化/ 为/ P1/ :/ P1/ :/ max/ ∑/ N/ 其中/ ,/ 数据中心/ j/ 的/ 延迟/ 约束/ 为/ Dj/ ,/ 价格/ p/ 的/ 变化/ 区间/ 为/ [/ a/ ,/ b/ ]/ ./ 由/ 定理/ 1/ ,/ 当/ nj/ →/ 时/ ,/ nj/ μ/ j/ →/ λ/ j/ ./ 于是/ Page7/ 问题/ P1/ 的/ 目标/ 函数/ 可/ 近似/ 为/ ∑/ N/ 面/ ,/ 我们/ 基于/ 重载/ 近似/ 的/ 思路/ 分为/ 三步/ 考虑/ 如何/ 求解/ 该/ 问题/ ./ 首先/ ,/ 求解/ 数据中心/ 的/ 负载/ 分配/ 策略/ ,/ 即/ 负载/ 路由/ 策略/ ,/ 实质/ 上/ 为/ 路由/ 向量/ 的/ 求解/ (/ 原因/ 在于/ 当/ 服务/ 价格/ p/ 确定/ 时/ ,/ 系统/ 的/ 总/ 需求量/ 也/ 是/ 确定/ 的/ ./ 因此/ ,/ 不同/ 的/ 用户/ 市场/ 可以/ 合并/ 为/ 一个/ 用户/ 市场/ ./ 因此/ 路由/ 矩阵/ 犘/ [/ pij/ ]/ 退化/ 为/ 一个/ 路由/ 向量/ )/ ./ 对于/ M/ // M/ // n/ 排队/ 系统/ 的/ 延迟/ ,/ 精确/ 的/ 表达式/ 应为/ ρ/ vnu/ -/ λ/ ,/ ν/ 为/ 系统/ 的/ 拥塞/ 概率/ ./ 假定/ 各/ 数据中心/ 服务/ 能力/ 均/ 已/ 达到/ 上限/ ,/ 即/ nj/ =/ Lj/ ,/ 令/ ρ/ jvjnjuj/ -/ λ/ j/ =/ Dj/ ,/ 由/ 定理/ 1/ ,/ 令/ 各/ 数据中心/ 拥塞/ 概率/ ν/ j/ 相同/ 且/ 趋近/ 于/ 1/ ,/ 再/ 由/ ρ/ j/ →/ 1/ ,/ 便/ 可求/ 出路/ 由/ 向量/ ./ 其次/ ,/ 根据/ 已知/ 的/ 路由/ 向量/ ,/ 联合/ 定理/ 1/ 的/ 式/ (/ 3/ )/ ,/ 可/ 得到/ 数据中心/ 的/ 整体/ 服务/ 能力/ ./ 最后/ ,/ 在/ 延迟/ 和/ 价格/ 约束/ 的/ 条件/ 下/ ,/ 求解/ 各/ 数据中心/ 的/ 最优/ 服务器/ 数量/ ./ 最终/ 得到/ 最优/ 能耗/ 解/ ./ 详细/ 步骤/ 如下/ :/ 第/ 1/ 步/ ./ 当/ nj/ →/ 时/ ,/ 根据/ 以上/ 分析/ ,/ 以下/ 等式/ Dk/ (/ Lkuk/ -/ λ/ k/ )/ ≈/ Dj/ (/ Ljuj/ -/ λ/ j/ )/ ≈/ 1/ ,/ / 1/ / j/ ,/ k/ / N/ ,/ 可求/ 出/ 近似/ 路由/ 向量/ ./ 第/ 2/ 步/ ./ 令/ C/ 为/ 数据中心/ 总/ 服务/ 能力/ ,/ 由/ p/ / (/ λ/ j/ )/ =/ p/ / (/ λ/ k/ )/ =/ p/ / (/ C/ )/ ,/ 则/ ∑/ N/ (/ p/ / (/ λ/ j/ )/ -/ ω/ jej/ )/ λ/ j/ =/ p/ / (/ C/ )/ C/ -/ C/ ∑/ Nj/ =/ 1/ 其中/ pj/ 为/ 服务/ 流量/ 分配/ 到/ 数据中心/ j/ 的/ 概率/ ./ 令/ 成立/ ./ 由/ p/ / =/ 珚/ F/ -/ 1C/ (/ )/ Λ/ ,/ 得到/ 式/ (/ 10/ )/ / F/ / C/ =/ p/ / (/ C/ )/ -/ C/ 令其/ 等于/ 0/ ,/ 联立/ κ/ =/ C/ // Λ/ ,/ p/ / (/ C/ )/ =/ 珚/ F/ -/ 1/ (/ κ/ )/ ,/ 即可/ 解/ 出/ κ/ ,/ 进而/ 得出/ C/ ,/ p/ / (/ C/ )/ ./ 第/ 3/ 步/ ./ 根据/ 已解出/ 的/ 路由/ 矩阵/ 和/ 价格/ p/ / (/ C/ )/ ,/ 把/ 需求/ 函数/ 分解/ 到/ 各个/ 数据中心/ ./ 这时/ ,/ 需要/ 变换/ 约束条件/ ./ 由/ λ/ j/ =/ φ/ (/ p/ )/ pj/ ,/ 于是/ ,/ 价格/ 区间/ 条件/ 可/ 变为/ a/ / p/ =/ φ/ -/ 1/ λ/ jp/ (/ )/ j/ / b/ ./ 对于/ 延迟/ 约束/ ,/ 由/ ρ/ v/ 条件/ 可/ 表示/ 为/ EDj/ ≈/ 1fj/ (/ p/ / )/ η/ -/ (/ 又/ 由/ 珚/ Fj/ (/ p/ / )/ qDjn/ 槡/ j/ / π/ ,/ 再/ 由/ p/ =/ p/ / +/ π/ // n/ 槡/ j/ ,/ 得/ π/ =/ φ/ -/ 1/ λ/ jp/ (/ )/ j/ -/ p/ (/ 延迟/ 条件/ 的/ 表达式/ 为/ 这样/ ,/ 约束条件/ 简化/ 很多/ ,/ 便/ 可求/ 出/ 分解/ 到/ 各个/ 数据中心/ 的/ 流量/ ./ 为/ 使/ 数据中心/ 的/ 服务器/ 数量/ 最少/ ,/ 根据/ 式/ (/ 2/ )/ 和/ 式/ (/ 5/ )/ ,/ 再/ 由/ 试探法/ 确定/ π/ 的/ 值/ ,/ 最终/ 得到/ 最优/ 的/ 价格/ 和/ 能耗/ 量/ ./ 上述/ 求解/ 过程/ 可/ 通过/ 范例/ 1/ 予以/ 说明/ ./ 例/ 1/ ./ 假定/ 需求/ 函数/ 为/ 200/ -/ 50p/ ,/ e1/ =/ 0.8/ ,/ e2/ =/ 0.5/ ,/ L1/ =/ 60/ ,/ L2/ =/ 45/ ,/ D1/ =/ 0.7/ ,/ D2/ =/ 0.5/ ,/ N/ =/ M/ =/ 2/ ,/ ω/ 1/ =/ 1/ ,/ ω/ 2/ =/ 2/ ,/ μ/ 1/ =/ μ/ 2/ =/ 1/ ,/ 用户/ 的/ 延迟/ 成本/ q/ =/ 1/ ./ 首先/ 求解/ 近似/ 路由/ 矩阵/ ,/ 由/ D1/ (/ 60/ -/ λ/ 1/ )/ ≈/ D2/ (/ 30/ -/ λ/ 2/ )/ ≈/ 1/ 可得/ 近似/ 路由/ 矩阵/ 为/ 〈/ 0.584/ ,/ 0.416/ 〉/ ./ 将/ 其/ 代入/ 一阶/ 最优性/ 条件/ (/ 10/ )/ ,/ 有/ 如下/ 方程组/ :/ 烄/ 烅/ 烆/ 解/ 之/ ,/ 得/ p/ / =/ 2.44/ ,/ C/ =/ 77.88/ ./ 又/ 由/ λ/ j/ =/ (/ 200/ -/ 50p/ )/ pj/ ,/ 得/ p/ =/ 4/ -/ λ/ j/ // (/ 50pj/ )/ ./ 将/ 其/ 代入/ 问题/ P1/ ,/ 则/ 问题/ 可/ 转化/ 为/ P1/ :/ max/ ∑/ N/ 将/ p1/ =/ 0.58/ ,/ p2/ =/ 0.42/ 代入/ 并解/ 之/ ,/ 得/ λ/ 2/ =/ 28.69/ ,/ λ/ 1/ =/ 43.93/ ,/ 试探/ 得/ π/ =/ 0.397/ ./ 于是/ n2/ =/ 33.69/ ,/ n1/ =/ 48.93/ ,/ p/ =/ 2.485/ ./ 能耗/ 值为/ 116.31/ ./ 最优/ 的/ 收益/ 为/ 78.27/ ./ 而/ n1/ +/ n2/ =/ 82.62/ 略大于/ C/ =/ 77.88/ ,/ 因为/ 我们/ 求/ 的/ 是/ 近似/ 解/ ./ 当/ C/ →/ 时/ ,/ 两者/ 应/ 趋于/ 一致/ ./ 分析/ 与/ 讨论/ ./ 上述/ 3/ 步/ 求解/ 过程/ 依次/ 为/ 由/ 重载/ 近似/ 求/ 出/ 负载/ 的/ 路由/ 向量/ ./ 根据/ 路由/ 向量/ ,/ 优化/ 数据中心/ 的/ 整体/ 服务/ 能力/ ./ 最后/ 再/ 根据/ 约束条件/ ,/ 确定/ 不同/ 数据中心/ 的/ 最优/ 服务器/ 数量/ ,/ 最终/ 得到/ 能耗/ 的/ 最优/ 解/ ./ 在/ 问题/ P1/ 的/ 求解/ 过程/ 中/ ,/ 亦/ 完成/ 了/ 对/ 负载/ 分配/ 、/ 最优/ 定价/ 以及/ 能耗/ 成本/ 优化/ 等/ 机制/ 的/ 设计/ ./ 本节/ 的/ 最优/ 服务器/ 数量/ 是/ 基于/ 流量/ 稳定/ 等/ 理想/ 情况/ ./ 真实/ 的/ 数据中心/ 环境/ 中/ ,/ 影响/ 服务器/ 能耗/ 的/ 因/ Page8/ 素有/ 很多/ ,/ 比如/ 服务器/ 失效/ 、/ 突发/ 流量/ 等/ ./ 一般而言/ ,/ 数据中心/ 会/ 设置/ 一些/ 备用/ 服务器/ (/ 处于/ 空闲/ 态/ 的/ 服务器/ )/ 来/ 保证/ 用户/ 的/ 服务质量/ ./ 但是/ 服务器/ 空闲/ 也/ 需要/ 消耗/ 大量/ 的/ 能耗/ ./ 下节/ 将/ 基于/ 本节/ 的/ 最优/ 服务器/ 数量/ 介绍/ 双/ 阈值/ 策略/ 以/ 动态控制/ 服务器/ 所/ 处/ 状态/ (/ On/ // Idle/ // Off/ 等/ )/ ,/ 实现/ 更/ 细粒度/ 的/ 能耗/ 成本/ 优化/ ./ 4.2/ 双/ 阈值/ 策略/ 对于/ 单/ 数据中心/ 而言/ ,/ 常用/ 的/ 服务器/ 级/ 能耗/ 优化/ 技术/ 主要/ 有/ 两种/ :/ 一种/ 是/ DVFS/ (/ DynamicVoltage/ // FrequencyScaling/ )/ ,/ 另/ 一种/ 是/ DPS/ (/ DynamicPowe/ -/ ringOn/ // OffServers/ )/ ./ DVFS/ 通过/ 动态/ 调节/ CPU/ 的/ 频率/ 和/ 电压/ 来/ 降低/ 完成/ 任务/ 所/ 需/ 的/ 能耗/ 量/ ./ 但是/ 即便/ CPU/ 利用率/ 为/ 0/ %/ ,/ 服务器/ 也/ 需/ 消耗/ 能耗/ 峰值/ 的/ 60/ %/ 左右/ [/ 14/ ]/ ./ 因此/ DVFS/ 的/ 能耗/ 节省/ 能力/ 有限/ ./ 本文/ 主要/ 考虑/ DPS/ 技术/ ./ DPS/ 技术/ 是/ 根据/ 负载/ 情况/ 动态/ 地/ 选择/ 开启/ 或/ 关闭/ 服务器/ 以/ 节省/ 能耗/ ./ 由于/ 用户/ 请求/ 的/ 流量/ 动态变化/ 且/ 具有/ 不/ 可预测性/ ,/ 而/ 服务器/ 启动/ 和/ 关闭/ 均/ 需要/ 花费/ 一定/ 的/ 时间/ ./ 这/ 不仅/ 影响/ 了/ 系统/ 的/ 性能/ ,/ 还会/ 导致/ 额外/ 的/ 能耗/ 开销/ ./ 因此/ DPS/ 技术/ 需要/ 预留/ 部分/ 空闲/ 服务器/ 以/ 缓冲/ 流量/ 的/ 动态变化/ ,/ 同时/ 需要/ 对/ 服务器/ 的/ 开关/ 时机/ 进行/ 合理/ 的/ 决策/ ./ 一种/ 有效/ 统计/ 动态/ 负载/ 的/ 方法/ 是/ 利用/ 文献/ [/ 15/ ]/ 中/ 的/ 式/ (/ 6/ )/ 对/ 一段时间/ 内/ 的/ 流量/ 进行/ 实时/ 统计/ :/ 其中/ ρ/ (/ t/ )/ 可/ 理解/ 为/ 系统/ 的/ 平均/ 效用/ ./ GcG/ μ/ (/ t/ )/ =/ P/ (/ S/ (/ μ/ )/ >/ t/ )/ ./ S/ (/ μ/ )/ ,/ λ/ (/ μ/ )/ 分别/ 为/ 时刻/ μ/ 到达/ 的/ 任务/ 的/ 执行/ 时间/ 和/ 到达/ 率/ ./ n/ / 为/ 4.1/ 节/ 计算/ 出/ 的/ 最优/ 服务器/ 数量/ ./ 下面/ 基于/ 式/ (/ 12/ )/ 介绍/ 一种/ 双/ 阈值/ 策略/ 来/ 实时/ 调节/ 服务器/ 所/ 处/ 状态/ (/ On/ // Idle/ // Off/ 等/ )/ 以/ 解决/ 服务器/ 预留/ 以及/ 开关/ 时机/ 决策问题/ ./ 采用/ 双/ 阈值/ 策略/ ,/ 当/ 负载/ 流量/ 超过/ 已/ 开启/ 服务器/ 的/ 服务/ 能力/ 时/ ,/ 数据中心/ 并/ 不/ 立即/ 启动/ 服务器/ ,/ 而是/ 等/ 负载量/ 积累/ 到/ 一定/ 比例/ β/ 1/ (/ 阈值/ β/ 1/ )/ 时/ ,/ 才/ 开始/ 开启/ 服务器/ ./ 当/ 部分/ 服务器/ 空闲/ 时/ ,/ 数据中心/ 并/ 不/ 立即/ 关闭/ 服务器/ ,/ 而是/ 等待/ 服务器/ 空闲/ 量/ 到达/ 一定/ 比例/ β/ 2/ (/ 阈值/ β/ 2/ )/ 时/ ,/ 再/ 开始/ 关闭/ 服务器/ ./ 双/ 阈值/ 策略/ 的/ 主要/ 思想/ 来源于/ 休假/ 排队/ 系统/ (/ VacationQueuingSystem/ )/ 中/ 休假/ 时间/ 的/ 选择/ 问题/ [/ 16/ -/ 17/ ]/ ./ 本文/ 借助/ 其/ 思想/ ,/ 将/ 其/ 应用/ 到/ 数据中心/ 服务器/ 状态/ 控制策略/ 中/ ./ 下面/ ,/ 本文/ 不/ 加/ 证明/ 地/ 选取/ 如下/ 参数/ 作为/ 双/ 阈值/ 策略/ 中/ 的/ 阈值/ ,/ 参数/ 的/ 选取/ 规则/ 可/ 参见/ 文献/ [/ 16/ ]/ ./ β/ 1/ ≈/ n/ / log/ ρ/ (/ t/ )/ n/ / (/ 1/ +/ β/ 1/ )/ μ/ 1/ β/ 2/ ≈/ n/ / log/ ρ/ (/ t/ )/ n/ / (/ 1/ -/ β/ 2/ )/ μ/ 1/ 其中/ ,/ T/ 为/ 用户/ 给定/ 的/ 延迟/ 上限/ ./ θ/ 和/ σ/ 分别/ 为/ 服务器/ 的/ 启动/ 和/ 关闭/ 的/ 速率/ (/ 平均/ 启动/ 和/ 关闭/ 时间/ 的/ 倒数/ )/ ./ ρ/ (/ t/ )/ 的/ 计算公式/ 如式/ (/ 12/ )/ ./ n/ / 为/ 4.1/ 节/ 计算/ 的/ 最优/ 值/ ./ 基于/ 这一/ 思路/ ,/ 双/ 阈值/ 策略/ 可/ 衍生/ 出/ 多种/ 变体/ ./ 如多/ 阈值/ 策略/ (/ 用户/ 延迟/ 等/ 也/ 作为/ 阈值/ 参数/ )/ 、/ 动态/ 阈值/ 策略/ (/ 阈值/ 计算/ 方式/ 动态/ 调整/ )/ 等/ ./ 限于/ 篇幅/ ,/ 不同/ 阈值/ 策略/ 的/ 效果/ 比较/ 另文/ 给出/ ./ 表/ 3/ 、/ 表/ 4/ 分别/ 给出/ 不同/ 参数/ 对/ 阈值/ β/ 1/ 选取/ 的/ 影响/ ./ 固定/ 参数/ :/ T/ =/ 0.02/ ,/ θ/ =/ 0.01/ ,/ Gc/ 固定/ 参数/ :/ T/ =/ 0.02/ ,/ ρ/ (/ t/ )/ =/ 0.5/ ,/ Gc/ 从表/ 3/ 中/ 可以/ 看出/ ,/ 当/ 系统/ 效用/ ρ/ (/ t/ )/ 较/ 低时/ ,/ 阈值/ β/ 1/ 的/ 取值/ 相应/ 较/ 高/ ,/ 而/ 当/ ρ/ (/ t/ )/ 增大/ 时/ ,/ 阈值/ β/ 1/ 变小/ 并且/ 下降/ 速度/ 很快/ ./ 这/ 是/ 由/ M/ // M/ // n/ 排队模型/ 等待时间/ 分布/ 函数/ 的/ 性质/ 决定/ 的/ ./ 因为/ M/ // M/ // n/ 排队模型/ 的/ 平均/ 等待时间/ 随着/ 平均/ 系统/ 效用/ 的/ 增加/ 而/ 增加/ ,/ 但/ 增长幅度/ 越来越/ 大/ ./ 较/ 小/ 的/ 阈值/ β/ 1/ 可以/ 促使/ 服务器/ 快速/ 启动/ 以/ 降低/ 服务/ 延迟/ ./ 当/ ρ/ (/ t/ )/ 较/ 小时/ ,/ 服务器/ 空闲/ 率/ 较/ 高/ ,/ 此时/ 阈值/ β/ 2/ 起/ 主导作用/ ,/ 较大/ 的/ 阈值/ β/ 1/ 可以/ 避免/ 机器/ 的/ 频繁/ 开关/ ,/ 利于/ 维持/ 系统/ 的/ 稳定性/ ./ 表/ 4/ 给出/ 启动/ 速率/ θ/ 对/ 阈值/ 的/ 影响/ ./ 当/ 启动/ Page9/ 速率/ 较大/ 时/ ,/ 服务器/ 启动/ 时延/ 对/ 服务/ 性能/ 影响/ 较/ 小/ ./ 阈值/ β/ 1/ 取值/ 较/ 低/ 利于/ 服务器/ 快速/ 响应/ 流量/ 变化/ ./ 当/ 启动/ 速率/ 较/ 小时/ ,/ 阈值/ β/ 1/ 取值/ 较/ 高/ ,/ 此时/ 决定/ 任务/ 响应/ 时间/ 的/ 是/ 已/ 开启/ 的/ 服务器/ 数量/ ./ 较大/ 的/ 阈值/ 可以/ 避免/ 服务器/ 频繁/ 启动/ 引起/ 的/ 能耗/ 开销/ 和/ 系统/ 的/ 不/ 稳定/ ./ 上述/ 参数/ 对/ β/ 2/ 的/ 影响/ 与/ β/ 1/ 类似/ ./ 限于/ 篇幅/ ,/ 文中/ 不再/ 赘述/ ./ 5/ 实验/ 本/ 节/ 通过/ 实验/ 验证/ 上文/ 提出/ 的/ 定价/ 和/ 节能/ 机制/ 的/ 有效性/ ./ 首先/ 介绍/ 实验/ 设置/ ,/ 包括/ 电价/ 、/ 需求/ 函数/ 的/ 选取/ ./ 其次/ 选择/ 3/ 种/ 定价/ 策略/ 与/ 本文/ 提出/ 的/ 动态/ 定价/ 策略/ 进行/ 比较/ ./ 最后/ 通过/ 对比/ 两种/ 常见/ 的/ 启发式/ DPS/ 技术/ ,/ 验证/ 双/ 阈值/ 策略/ 的/ 有效性/ ./ 5.1/ 实验/ 设置/ 实验/ 采用/ 的/ 电力/ 价格/ 来自/ 于/ Amazon/ 在/ 美国/ 所/ 建/ 数据中心/ 的/ 所在地/ ./ 包括/ 如下/ 各地/ :/ Virginia/ (/ 佛吉尼亚/ )/ 、/ Dallas/ (/ 达拉斯/ )/ 、/ LosAngeles/ (/ 洛杉矶/ )/ 、/ Seattle/ (/ 西雅图/ )/ 和/ NewJersey/ (/ 新泽西/ )/ ./ 电力/ 价格/ 可/ 在/ 美国能源部/ 官网/ 查到/ (/ 隶属于/ 商业/ 用电/ 类别/ )/ [/ 18/ ]/ ,/ 总结/ 见表/ 5/ ./ 各地/ 数据中心/ 的/ 服务/ 能力/ 、/ 功耗/ 以及/ 服务器/ 的/ 数量/ 可/ 在/ Amazon/ 最新/ 发布/ 的/ 用户手册/ 上/ 找到/ 参考值/ (/ 为了/ 便于/ 实验/ ,/ 数据/ 随机/ 选取/ )/ [/ 2/ ]/ ,/ 同样/ 列于/ 表/ 5/ ./ 前端/ Agent/ 数量/ 设置/ 为/ 3/ ./ 地点/ ID/ (/ j/ )/ ej/ (/ $/ )/ Lj/ (/ 103/ )/ μ/ j/ ω/ j/ // kW/ 佛吉尼亚/ 17.5181/ ./ 50.12/ 达拉斯/ 29.96121/ ./ 750.14/ 洛杉矶/ 312.26101/ ./ 250.10/ 西雅图/ 47.4792/ ./ 00.15/ 新泽西/ 513.29101/ ./ 00.12/ 实验/ 选择/ 3/ 种/ 需求/ 函数/ 模型/ ,/ 包括/ 线性/ 需求/ 、/ 负/ 指数/ 需求/ 和/ 异/ 弹性/ 需求/ ,/ 对比/ 不同/ 需求/ 模型/ 下/ 本文/ 给出/ 的/ 最优/ 定价/ 及/ 能耗/ 优化/ 效果/ ./ 需求/ 函数/ 的/ 表达式/ 见表/ 6/ ,/ 具体/ 参数/ 根据/ 实验/ 另行/ 设置/ ./ 为了/ 验证/ 本文/ 提出/ 的/ 定价/ 策略/ 的/ 有效性/ ./ 与/ 3/ 种/ 常用/ 的/ 定价/ 策略/ 进行/ 对比/ 分析/ ./ 分别/ 是/ 固定/ 定价/ 策略/ 、/ 现货/ 市场/ 定价/ 策略/ 和/ 随机/ 定价/ 策略/ ./ 固定/ 定价/ 策略/ ./ 常见/ 的/ 固定/ 定价/ 策略/ 有/ 两种/ :/ 一种/ 是/ 实时/ 定价/ 策略/ ./ 用户/ 可以/ 实时/ 地/ 购买/ 资源/ ,/ 资源/ 按时/ 计价/ ./ 当/ 用户/ 使用/ 完毕/ 以后/ ,/ 可以/ 选择/ 继续/ 购买/ 或/ 释放/ 资源/ ./ 实时/ 定价/ 策略/ 的/ 优点/ 是/ 便于/ 用户/ 使用/ 资源/ ,/ 成本/ 较/ 低/ ./ 缺点/ 是/ 按时/ 计费/ 的/ 价格比/ 一般/ 定价/ 策略/ 要/ 高/ ./ 另/ 一种/ 是/ 预留/ 定价/ 策略/ :/ 用户/ 可以/ 长期/ 购买/ 某种/ 资源/ ./ 若/ 购买/ 时/ 一次/ 付清/ ,/ 可以/ 享受/ 折扣/ 优惠/ ./ 该/ 策略/ 下/ ,/ 服务提供商/ 一直/ 预留/ 该/ 部分/ 资源/ 给/ 用户/ ./ 现货/ 市场/ 定价/ 策略/ (/ SpotMarket/ )/ ./ 服务提供商/ 根据/ 市场需求/ 制定/ 服务/ 资源/ 的/ 拍卖/ 价格/ ./ 用户/ 选择/ 自身/ 意愿/ 提出/ 能/ 接受/ 的/ 最高/ 价格/ ,/ 如果/ 最高/ 价格/ 高于/ 拍卖/ 价格/ ,/ 则/ 获得/ 资源/ ./ 在/ 资源/ 使用/ 过程/ 中/ ,/ 服务提供商/ 可以/ 提高/ 价格/ ,/ 如果/ 用户/ 不/ 接受/ ,/ 则/ 用户/ 的/ 服务/ 可能/ 被/ 终止/ ,/ 换言之/ ,/ 服务提供商/ 不/ 保证/ 服务质量/ ./ 随机/ 定价/ 策略/ ./ 在/ 预留/ 价格/ 和/ 实时/ 价格/ 区间/ 内/ ,/ 随机/ 选择/ 服务/ 价格/ ./ 一般而言/ ,/ 服务提供商/ 不会/ 采用/ 随机/ 定价/ 策略/ ,/ 本/ 实验/ 采用/ 随机/ 定价/ 策略/ ,/ 只是/ 作为/ 一个/ 参考/ 标准/ ./ 为了/ 验证/ 本文/ 提出/ 的/ 双/ 阈值/ 策略/ 的/ 有效性/ ,/ 本文/ 和/ 另/ 两种/ 启发式/ DPS/ 技术/ :/ Delayoff/ 策略/ [/ 19/ ]/ 和/ Lookahead/ 策略/ [/ 20/ ]/ 进行/ 比较/ ./ Delayoff/ 策略/ ./ Delayoff/ 策略/ 设置/ 服务器/ 空闲/ 等待时间/ 阈值/ ,/ 当/ 空闲/ 时间/ 达到/ 该/ 阈值/ 时/ ,/ 再/ 关闭/ 服务器/ ./ Lookahead/ 策略/ ./ 与/ Delayoff/ 策略/ 不同/ ,/ Looka/ -/ head/ 策略/ 基于/ 预测/ 机制/ ,/ 对/ 下/ 一/ 周期/ 的/ 任务量/ 进行/ 预测/ ,/ 据此/ 判断/ 是否/ 需要/ 关闭/ 服务器/ 以/ 节省/ 能耗/ ./ 5.2/ 实验/ 结果/ (/ 1/ )/ 不同/ 定价/ 策略/ 的/ 效益/ 对比/ ./ 实验/ 需求/ 函数/ 选取/ 为/ 线性/ 需求/ λ/ (/ p/ )/ =/ Λ/ -/ α/ p/ ./ Λ/ 和/ α/ 为/ 反映/ 市场需求/ 能力/ 变化/ 的/ 参数/ ./ 上节/ 3/ 种/ 定价/ 策略/ 均/ 采用/ 本文/ 的/ 路由/ 机制/ ./ 这/ 并/ 不/ 影响/ 实验/ 的/ 公平性/ ./ 因为/ 负载/ 需求/ 的/ 变化/ 和/ 路由/ 向量/ 无关/ ./ 图/ 4/ 显示/ 在/ 需求/ 函数/ 不变/ 时/ ,/ 4/ 种/ 不同/ 定价/ 策略/ 的/ 收益/ 对比/ ./ 在/ 市场/ 需求量/ 较/ 小时/ ,/ 固定/ 定价/ 策略/ 价格/ 最高/ ,/ 用户/ 请求/ 量/ 最低/ ,/ 从而/ 损失/ 了/ 部分/ 收益/ ,/ 其/ 收益/ 反而/ 最低/ ./ 现货/ 市场/ 定价/ 策略/ 在/ 需求量/ 较/ 低时/ ,/ 由于/ 采用/ 比较/ 合理/ 的/ 拍卖/ 机制/ ,/ 价格/ 收取/ 比/ 固定/ 定价/ 策略/ 略低/ ,/ 收益/ 相对/ 较/ 高/ ./ 随机/ 定价/ 策略/ 的/ 收益/ 取决于/ 随机/ 价格/ 的/ 选取/ ,/ 实验/ 选择/ 的/ 随机/ 价格/ 低于/ 固定价格/ ,/ 在/ 市场/ 总体/ 需求量/ 较/ 低时/ 其/ 收益/ 比/ 固定价格/ 高/ ,/ 比/ 现货/ 市场/ 价格低/ ./ 动态/ 价格/ 机制/ 以/ 最大化/ 提供商/ 收益/ 为/ 优化/ 目标/ ,/ Page10/ 收益/ 最高/ ./ 在/ 需求量/ 规模/ 中等/ 时/ ,/ 固定价格/ 与/ 动态/ 价格/ 接近/ ,/ 收益/ 相差无几/ ./ 现货/ 市场/ 定价/ 策略/ 的/ 定价/ 略/ 高/ ,/ 损失/ 了/ 部分/ 需求量/ ,/ 收益/ 较/ 低/ ./ 随机/ 定价/ 策略/ 的/ 收益/ 最低/ ./ 在/ 需求量/ 规模/ 较大/ 时/ ,/ 随机/ 定价/ 策略/ 和/ 固定价格/ 策略/ 的/ 服务/ 请求/ 量/ 均/ 较大/ ,/ 但是/ 需求量/ 的/ 增长/ 不足以/ 弥补/ 价格/ 的/ 损失/ ,/ 虽然/ 收益/ 有所增加/ ,/ 但/ 相对/ 其它/ 两种/ 策略/ 仍/ 较/ 低/ ./ 动态/ 定价/ 策略/ 采用/ 了/ 较/ 高/ 的/ 定价/ ,/ 因而/ 收益/ 最高/ ./ 从图/ 4/ 中/ 可以/ 看出/ ,/ 在/ 不同/ 规模/ 的/ 市场需求/ 中/ ,/ 动态/ 定价/ 策略/ 的/ 收益/ 相比/ 于/ 其它/ 策略/ 可/ 多出/ 4/ %/ ~/ 9/ %/ 左右/ ./ 图/ 5/ 显示/ 了/ 固定/ 定价/ 策略/ 的/ 收益/ 损失/ 示意图/ ,/ 现货/ 市场策略/ 与/ 随机/ 定价/ 策略/ 与/ 之/ 类似/ ./ 从图/ 中/ 可以/ 看出/ ,/ 当/ 市场/ 需求量/ 较/ 低时/ ,/ 固定/ 定价/ 策略/ 收费/ 较/ 高/ ,/ 很多/ 人/ 选择/ 使用/ 价格/ 更/ 低/ 的/ 动态/ 价格/ ,/ 损失/ 了/ 部分/ 需求/ 收益/ ./ 当/ 市场需求/ 较大/ 时/ ,/ 固定价格/ 收费/ 太低/ ,/ 损失/ 了/ 部分/ 价格/ 收益/ ./ 而/ 动态/ 定价/ 策略/ 以/ 最大化/ 数据中心/ 收益/ 为/ 目标/ ,/ 总能/ 达到/ 收益/ 的/ 最优/ ./ (/ 2/ )/ 定价/ 策略/ 对/ QoS/ 、/ 系统/ 效用/ 的/ 影响/ ./ 图/ 6/ 、/ 图/ 7/ 分别/ 描述/ 随着/ 市场/ 需求量/ 的/ 变化/ ,/ 不同/ 定价/ 策略/ 对/ 用户/ 时延/ 及/ 系统/ 效用/ 的/ 影响/ ./ 市场/ 需求量/ 较/ 低时/ ,/ 固定/ 定价/ 策略/ 收费/ 最高/ ,/ 需求量/ 最低/ ,/ 用户/ 延迟/ 最低/ ,/ 只有/ 0.001/ s/ ./ 随机/ 定价/ 策略/ 的/ 定价/ 比/ 固定价格/ 要/ 低/ ,/ 用户/ 延迟/ 略/ 高/ ,/ 为/ 0.04/ s/ ./ 现货/ 市场/ 价格/ 不/ 考虑/ 用户/ 的/ QoS/ ,/ 延迟/ 最高/ ,/ 达到/ 0.05/ s/ 左右/ ./ 动态/ 价格/ 策略/ 在/ 市场/ 需求量/ 较/ 低时/ ,/ 延迟/ 比/ 固定价格/ 要/ 高/ ./ 随着/ 市场/ 需求量/ 的/ 上升/ ,/ 固定/ 定价/ 策略/ 的/ QoS/ 性能/ 随之/ 下降/ ,/ 同时/ 下降/ 较/ 快/ 的/ 还有/ 随机/ 定价/ 策略/ ./ 两者/ 在/ 需求量/ 较大/ 时/ ,/ 用户/ 延迟/ 均/ 急剧/ 上升/ ,/ 高达/ 0.2/ s/ ,/ 因为/ 两种/ 策略/ 均/ 没有/ 调节/ 负载/ 的/ 功能/ ,/ 造成/ 了/ 系统/ 的/ 拥塞/ ./ 对于/ 现货/ 市场/ 定价/ 策略/ ,/ 在/ 市场/ 需求量/ 较/ 小时/ ,/ 用户/ 延迟/ 高于/ 固定/ 定价/ 和/ 随机/ 定价/ 策略/ ,/ 并/ 随着/ 需求量/ 的/ 增加/ 逐渐/ 增加/ ./ 但/ 当/ 需求量/ 较大/ 时/ ,/ 则/ 低于/ 固定价格/ 和/ 随机/ 价格/ ./ 动态/ 定价/ 策略/ 在/ 市场/ 规模较/ 小时/ ,/ 用户/ 延迟/ 略高于/ 固定价格/ ,/ 但/ 差别/ 不/ 大/ ,/ 随着/ 市场/ 规模/ 的/ 增长/ ,/ 动态/ 定价/ 策略/ 的/ 用户/ 延迟/ 增长/ 平缓/ ,/ 表现/ 出/ 良好/ 的/ 调节/ 能力/ ./ 在/ 市场/ 需求量/ 为/ 80000/ 时/ ,/ 延迟时间/ 低于/ 其它/ 策略/ 多达/ 0.4/ ~/ 0.6/ 倍/ ./ 固定/ 定价/ 策略/ 的/ 系统/ 效用/ 在/ 市场/ 规模较/ 小时/ 最低/ ,/ 只有/ 13/ %/ ./ 随着/ 市场/ 规模/ 的/ 增大/ ,/ 系统/ 效用/ 逐步/ 增加/ ./ 随机/ 定价/ 策略/ 表现/ 出/ 了/ 类似/ 的/ 性质/ ./ 而/ 现货/ 市场/ 定价/ 策略/ 开始/ 时/ 系统/ 效用/ 较/ 高/ ,/ 达/ 36/ %/ ./ 随着/ 市场/ 规模/ 的/ 增加/ ,/ 变化/ 较为/ 平缓/ ./ 动态/ 定价/ 策略/ 为了/ 保证/ QoS/ 性能/ 而/ 抑制/ 系统/ 效用/ 的/ 增长/ ./ 市场/ 规模/ 较大/ 时/ ,/ 系统/ 效用/ 只有/ 61/ %/ ./ 随机/ 价格/ 的/ 选取/ 低于/ 固定价格/ ,/ 从而/ 需求量/ 高于/ 固定价格/ ./ 所以/ 对于/ 同样/ 的/ 服/ Page11/ 务/ 资源/ ,/ 系统/ 效用/ 也/ 高于/ 固定价格/ ./ (/ 3/ )/ 定价/ 策略/ 对/ 能耗/ 成本/ 的/ 影响/ ./ 本/ 实验/ 对比/ 不同/ 定价/ 策略/ 对/ 能耗/ 成本/ 的/ 影响/ ./ 在/ 需求量/ 较/ 低时/ ,/ 固定/ 定价/ 策略/ 使用/ 的/ 服务器/ 数量/ 最低/ ,/ 从而/ 能耗/ 也/ 最低/ ,/ 约/ 为/ 12000/ ./ 随机/ 定价/ 策略/ 次之/ ./ 现货/ 市场/ 定价/ 策略/ 的/ 能耗/ 最高/ ,/ 达到/ 48000/ ./ 因为/ 其/ 将/ 资源/ 廉价出售/ 出去/ ./ 资源/ 利用率/ 最高/ ./ 随着/ 市场/ 规模/ 的/ 扩大/ ,/ 动态/ 定价/ 策略/ 的/ 能耗/ 增速/ 缓慢/ ./ 主要/ 有/ 两个/ 原因/ :/ 一是/ 由于/ 价格/ 调节/ ,/ 抑制/ 了/ 服务/ 需求量/ 的/ 快速增长/ ;/ 另/ 一个/ 原因/ 是/ 由于/ 路由/ 矩阵/ 的/ 作用/ ,/ 降低/ 了/ 能耗/ 成本/ ./ 路由/ 矩阵/ 的/ 优化/ 只/ 针对/ 动态/ 策略/ ,/ 因此/ 其它/ 3/ 种/ 定价/ 策略/ 的/ 能耗/ 成本/ 均/ 增长/ 较快/ ./ 特别/ 是/ 随机/ 定价/ 策略/ ,/ 在/ 市场/ 规模/ 较大/ 时/ ,/ 能耗/ 成本/ 为/ 动态/ 定价/ 策略/ 的/ 2/ 倍/ 之/ 多/ ./ (/ 4/ )/ 路由/ 机制/ 对/ 能耗/ 成本/ 的/ 优化/ ./ 以上/ 实验/ 对比/ 了/ 价格/ 机制/ 对/ 各种/ 性能参数/ 的/ 影响/ ./ 本组/ 实验/ 考虑/ 路由/ 机制/ 对/ 能耗/ 成本/ 的/ 优化/ 效果/ ./ 图/ 9/ 为/ 采用/ 固定/ 路由/ 策略/ (/ 根据/ 数据中心/ 的/ 处理/ 能力/ 按/ 比例/ 分配/ )/ 时/ 的/ 能耗/ 成本/ ./ 假定/ 需求量/ 固定/ ,/ 随着/ 电力/ 成本/ 的/ 增加/ ,/ 各地/ 的/ 能耗/ 成本/ 均/ 在/ 增长/ ,/ 其中/ ,/ 西雅图/ 的/ 电力/ 成本/ 变化/ 最大/ ,/ 能耗/ 成本/ 增长/ 最快/ ./ 而/ 洛杉矶/ 的/ 电价/ 没有/ 改变/ ./ 因而/ 能耗/ 成本/ 基本/ 没有/ 变化/ ,/ 图/ 10/ 显示/ 路由/ 机制/ 在/ 电价/ 较/ 高时/ 将/ 负载/ 转移/ 到/ 电价/ 较/ 低/ 的/ 底特律/ 和/ 洛杉矶/ ,/ 此时/ ,/ 尽管/ 底特律/ 和/ 洛杉矶/ 的/ 能耗/ 成本/ 有所增加/ ,/ 但是/ 总体/ 成本/ 却/ 减少/ 了/ 20/ %/ 左右/ ./ 并且/ 从图/ 中/ 可以/ 看出/ ,/ 通过/ 负载/ 调节/ ,/ 各地/ 的/ 能耗/ 成本/ 分布/ 也/ 较为/ 均衡/ ./ (/ 5/ )/ 数据中心/ 服务器/ 数量/ 优化/ ./ 当前/ 许多/ 数据中心/ 的/ 资源/ 供应/ 方式/ 是/ 为了/ 满足/ 负载/ 的/ 峰值/ 需求/ ,/ 这/ 导致/ 了/ 资源/ 的/ 过量/ 供应/ ,/ 造成/ 了/ 大量/ 的/ 能耗/ 浪费/ ./ 本/ 实验/ 验证/ 文中/ 给定/ 的/ 服务器/ 数量/ 最优/ 值/ 能够/ 在/ 满足/ QoS/ 需求/ 的/ 同时/ ,/ 尽可能/ 地/ 减少/ 能耗/ 开销/ ./ 图/ 11/ 显示/ 对于/ 不同/ 需求/ 函数/ ,/ 服务器/ 数量/ 最优/ 值/ 的/ 选取/ 和/ 相应/ 的/ 数据中心/ 最大/ 收益值/ ./ 图/ 11/ 不同/ 需求/ 函数/ 对应/ 的/ 服务器/ 数量/ 最优/ 值图/ 12/ 显示/ 任务/ 延迟/ 和/ 能耗/ 成本/ 随/ 服务器/ 数量/ 的/ 变化/ 关系/ ,/ 从图/ 中/ 可以/ 看出/ ,/ 在/ 服务器/ 数量/ 较/ 少时/ ,/ 增加/ 服务器/ 数量/ 能够/ 显著/ 改善/ 服务质量/ ./ 但是/ 当/ 服务器/ 数量/ 增加/ 到/ 一定/ 程度/ ,/ 继续/ 增加/ 服务器/ ,/ 服务质量/ 提高/ 幅度/ 不/ 大/ ,/ 而/ 能耗/ 值/ 却/ 呈/ 线性/ 快速增长/ ./ 文中/ 选取/ 的/ 最优/ 服务器/ 数量/ 是/ 通过/ 最大化/ 数据中心/ 的/ 整体效益/ 得到/ 的/ ,/ 在/ 满足用户/ QoS/ 需求/ 的/ 同时/ ,/ 实现/ 能耗/ 和/ 性能/ 的/ 折衷/ ./ (/ 6/ )/ 双/ 阈值/ 策略/ 的/ 有效性/ ./ 本/ 实验/ 选取/ 两组/ 负载/ 流量/ 的/ 到达/ 模式/ ,/ 验证/ 双/ 阈值/ 策略/ 的/ 有效性/ ./ 一组/ Page12/ 是/ 正弦曲线/ 生成/ 的/ 到达/ 流/ [/ 21/ -/ 22/ ]/ ./ 一组/ 是/ 参照/ 维基百科/ 的/ 访问/ 日志/ 生成/ 的/ 真实/ 流量/ [/ 23/ -/ 24/ ]/ ./ 图/ 14/ 基于/ Wikipedia/ 负载/ 的/ 资源/ 供应/ 对比/ 图中/ 对比/ 了/ 不同/ 服务器/ 状态/ 控制策略/ 所/ 启动/ 的/ 服务器/ 数量/ ./ 在/ 不/ 影响/ 实验/ 效果/ 的/ 前提/ 下/ ,/ 为了/ 简化/ 实验/ ,/ 假定/ 每个/ 请求/ 需/ 占用/ 一台/ 服务器/ ./ 该/ 假设/ 只是/ 对/ 负载/ 规模/ 做/ 了/ 处理/ ,/ 而/ 没有/ 改变/ 其/ 动态性/ 的/ 特点/ ./ 从图/ 中/ 可以/ 看出/ ,/ Delayoff/ 策略/ 在/ 负载/ 波动/ 较大/ 时/ ,/ 随机性/ 较大/ ,/ 造成/ 了/ 能耗/ 的/ 浪费/ ./ 基于/ 预测/ 结果/ 的/ Lookahead/ 策略/ 能够/ 成功/ “/ 学习/ ”/ 到/ 正弦/ 负载/ ,/ 表现/ 出/ 了/ 很/ 好/ 的/ 匹配/ 效果/ ./ 双/ 阈值/ 策略/ 不/ 基于/ 预测/ ,/ 启动/ 的/ 服务器/ 数量/ 略高于/ 实际/ 需求/ 的/ 服务器/ 数量/ ./ 双/ 阈值/ 和/ Lookahead/ 策略/ 均/ 能够/ 有效/ 地/ 避免/ 了/ 资源/ 过量/ 供应/ 而/ 导致/ 的/ 能耗/ 浪费/ ./ 对于/ 真实/ 的/ Wikipedia/ 负载/ 流量/ ,/ 基于/ 预测/ Lookahead/ 策略/ 则/ 表现/ 较差/ ,/ 因为/ Lookahead/ 策略/ 依赖于/ 预测/ 结果/ 的/ 准确性/ ,/ 现有/ 的/ 预测/ 机制/ 对于/ 真实/ 负载/ 的/ 预测/ 效果/ 均/ 不/ 甚/ 理想/ ./ Lookahead/ 策略/ 甚至/ 会/ 出现/ 服务器/ 供不应求/ 的/ 情况/ ./ 此时/ Delayoff/ 策略/ 表现/ 尚可/ ,/ 因为/ Delayoff/ 策略/ 不/ 依赖于/ 预测/ ,/ 对于/ 随机性/ 较强/ 的/ 实际/ 负载/ ,/ 呈现出/ 了/ 较/ 好/ 的/ 适应性/ ./ 但/ Delayoff/ 策略/ 的/ 时间/ 阈值/ 选取/ 方式/ 不够/ 灵活/ ,/ 而/ 双/ 阈值/ 策略/ 能够/ 基于/ 负载/ 的/ 统计/ 特性/ 实时/ 调整/ 阈值/ ,/ 很/ 好/ 地/ 适应/ 了/ 负载/ 的/ 动态变化/ ,/ 因而/ 表现/ 最佳/ ./ 6/ 结论/ 及/ 未来/ 工作/ 当前/ 很多/ 研究者/ 从/ 降低/ 能耗/ 总量/ 的/ 角度/ 出发/ ,/ 研究/ 各种/ 数据中心/ 节能/ 技术/ ./ 然而/ 这些/ 技术/ 并/ 没有/ 考虑/ 定价/ 机制/ 对/ 能耗/ 优化/ 技术/ 的/ 影响/ ./ 数据中心/ 管理者/ 更/ 关注/ 的/ 是/ 获取/ 自身/ 利益/ 的/ 最大化/ ./ 因此/ ,/ 在/ 真实/ 环境/ 中/ 这些/ 技术/ 往往/ 难以/ 发挥作用/ ./ 基于/ 此/ ,/ 本文/ 从/ 经济学/ 的/ 角度/ 出发/ ,/ 研究/ 服务/ 定价/ 与/ 能耗/ 优化/ 之间/ 的/ 关系/ ,/ 给出/ 最优/ 的/ 定价/ 策略/ 和/ 能耗/ 成本/ 优化/ 方案/ ./ 实验/ 结果表明/ ,/ 本文/ 的/ 定价/ 策略/ 能够/ 满足/ 既定/ 的/ 优化/ 目标/ ,/ 较/ 好/ 地/ 达到/ 能耗/ 成本/ 优化/ 的/ 效果/ ./ 在/ 未来/ 的/ 工作/ 中/ ,/ 我们/ 拟/ 设计/ 出/ 一种/ 激励/ -/ 兼容/ 的/ 定价/ 机制/ ,/ 在/ 用户/ 和/ 服务提供商/ 双方/ 的/ 利益/ 都/ 达到/ 最大化/ 的/ 前提/ 下/ ,/ 实现/ 能耗/ 成本/ 的/ 优化/ ./ 此外/ ,/ 在/ 真实/ 的/ 市场/ 环境/ 中/ ,/ 影响/ 价格/ 的/ 因素/ 很多/ ,/ 更/ 精确/ 的/ 价格/ 模型/ 也/ 是/ 我们/ 的/ 下/ 一步/ 工作/ 之一/ ./ 

