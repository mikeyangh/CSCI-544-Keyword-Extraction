Page1/ 时态/ 规划/ 中/ 基于/ CSP/ 技术/ 的/ 时态/ 约束/ 方法/ 伍丽华/ 1/ )/ ,/ 2/ )/ 陈蔼祥/ 3/ )/ 姜云飞/ 1/ )/ 边芮/ 4/ )/ 1/ )/ (/ 中山大学/ 软件/ 所/ 广州/ 510275/ )/ 2/ )/ (/ 中山大学/ 教学实验/ 中心/ 广州/ 510275/ )/ 3/ )/ (/ 广东/ 商学院/ 数学/ 与/ 计算/ 科学/ 学院/ 广州/ 510320/ )/ 4/ )/ (/ 广东/ 商学院/ 公共/ 管理/ 学院/ 广州/ 510320/ )/ 摘要/ 在/ 规划图/ 框架/ 下/ ,/ 定义/ 了/ 动作/ 图/ ,/ 并/ 进一步/ 扩展/ 为/ 时态/ 动作/ 图/ ,/ 使之能/ 体现/ 处理/ 具有/ 时间/ 资源/ 约束/ 的/ 时态/ 规划/ 问题/ 中/ 的/ 时态/ 信息/ ./ 在/ 此基础/ 上/ ,/ 提出/ 一种/ 对/ 时态/ 信息/ 进行/ 表示/ 与/ 管理/ 并且/ 能够/ 进行/ 时态/ 约束推理/ 的/ 时态/ 一致性/ 赋值/ 方法/ ,/ 利用/ 约束/ 可/ 满足/ 问题/ (/ CSP/ )/ 技术/ 对/ 时序/ 约束/ 进行/ 表示/ 和/ 处理/ ,/ 包括/ 过滤/ 、/ 约/ 减/ 及时/ 态/ 信息/ 的/ 一致性/ 检验/ ,/ 使/ 时态/ 推理/ 技术/ 能/ 更好/ 地/ 应用/ 于/ 时态/ 规划/ 的/ 求解/ 过程/ 中/ ./ 最后/ ,/ 给出/ 一个/ 基于/ 时态/ 规划图/ 的/ 遗传/ 规划/ 算法/ GP/ -/ td/ ,/ 通过/ 对/ 国际/ 智能/ 规划/ 大赛/ 提供/ 的/ Satellite/ 规划/ 领域/ 问题/ 进行/ 实验/ ./ 结果表明/ :/ 该/ 方法/ 能够/ 有效/ 地/ 提高/ 大规模/ 时态/ 规划/ 问题/ 的/ 求解/ 效率/ 和/ 求解/ 成功率/ ./ 关键词/ 时态/ 动作/ 图/ ;/ 时态/ 推理/ ;/ CSP/ 技术/ ;/ 一致性/ 时态/ 赋值/ ;/ 遗传/ 规划/ 算法/ ./ 1/ 引言/ 智能/ 规划/ 是/ 对/ 周围环境/ 进行/ 认识/ 与/ 分析/ ,/ 根据/ 系统/ 要/ 实现/ 的/ 目标/ ,/ 对/ 若干/ 可/ 供选择/ 的/ 动作/ 及/ 所/ 提供/ 的/ 资源/ 限制/ 施行/ 推理/ ,/ 综合/ 制定/ 出/ 实现目标/ 的/ 动作/ 系统/ ./ 时间/ 和/ 资源/ 约束/ 规划/ 是/ 智能/ 规划/ 面向/ 实际/ 应用/ 而/ 产生/ 的/ 一种/ 规划/ ./ 在/ 现实/ 世界/ 中/ ,/ 许多/ 规划/ 问题/ 受/ 外部/ 事件/ 和/ 动态/ 信息/ 的/ 影响/ ,/ 时态/ 和/ 资源/ 约束/ 规划/ 问题/ 中/ 存在/ 着/ 大量/ 能够/ 并发/ 执行/ 的/ 持续性/ 动作/ ,/ 这些/ 动作/ 的/ 执行/ 会/ 消耗/ 相应/ 的/ 时间/ 和/ 资源/ ,/ 同时/ 这/ 类/ 规划/ 问题/ 通常/ 希望/ 规划/ 目标/ 能/ 在/ 尽可能/ 短/ 的/ 时间/ 内/ 实现/ [/ 1/ ]/ ./ 因此/ ,/ 为/ 表示/ 实际/ 规划/ 问题/ ,/ 需要/ 对/ 时态/ 信息/ 以及/ 资源/ 信息/ 进行/ 有效/ 表示/ ,/ 并且/ 规划/ 动作/ 的/ 执行/ 需要/ 考虑/ 时间/ 与/ 资源/ 耗费/ 等/ 多种/ 因素/ [/ 2/ ]/ ./ 对/ 时间/ 与/ 资源/ 约束/ 规划/ 的/ 研究/ 不仅/ 具有/ 理论/ 价值/ ,/ 在/ 实际/ 应用/ 上/ 也/ 具有/ 重大/ 的/ 现实意义/ ./ 近年来/ ,/ 研究者/ 们/ 对/ 基于/ 时态/ 和/ 资源/ 约束/ 规划/ 的/ 课题/ 进行/ 了/ 深入研究/ ,/ 并/ 取得/ 了/ 许多/ 重要/ 的/ 成果/ ./ 国际/ 智能/ 规划/ 大赛/ 中/ ,/ 时态/ 与/ 资源/ 约束/ 规划/ 是/ 一个/ 很/ 重要/ 的/ 领域/ ,/ 参赛/ 的/ 规划系统/ 越来越/ 多/ ,/ 其中/ LPG/ 规划/ 器/ [/ 3/ ]/ 、/ Metric/ -/ FF/ 规划/ 器/ [/ 4/ ]/ 和/ SGPlan/ [/ 5/ ]/ 是/ 众多/ 能/ 处理/ 时态/ 和/ 资源/ 约束/ 规划/ 的/ 规划系统/ 中/ ,/ 表现/ 突出/ 且/ 性能/ 较/ 好/ 的/ 规划/ 器/ ./ 但/ 目前/ 现有/ 的/ 时态/ 规划/ 算法/ 的/ 效率/ 以及/ 规划/ 过程/ 中/ 时态/ 推理/ 的/ 技术/ 及其/ 运用/ 都/ 难以/ 令人满意/ [/ 6/ ]/ ./ 例如/ LPG/ 规划/ 器/ ,/ 它/ 是/ 一个/ 基于/ 规划图/ 、/ 采用/ 局部/ 搜索/ 方法/ 的/ 规划系统/ ,/ 能/ 有效/ 地/ 处理/ 动作/ 带/ 持续时间/ 和/ 存在/ 数值/ 表达式/ 的/ 规划/ 问题/ ./ 虽然/ 以/ LPG/ 为/ 代表/ 的/ 局部/ 搜索/ 技术/ 被/ 认为/ 是/ 非常/ 有效/ 的/ 领域/ 无关/ 的/ 规划/ 技术/ ,/ 但/ 从/ 实验/ 结果/ 来看/ ,/ 使用/ 局部/ 搜索/ 技术/ 的/ 规划/ 器/ ,/ 性能/ 均/ 不同/ 程度/ 地/ 受到/ 局部/ 极小值/ 的/ 影响/ [/ 7/ -/ 8/ ]/ ,/ 局部/ 搜索/ 是/ 为了/ 避免/ 完全/ 搜索/ 的/ 组合/ 爆炸/ ,/ 虽然/ 能/ 找到/ 解时/ 求解/ 的/ 效率/ 非常/ 高/ ,/ 但/ 局部/ 搜索/ 方法/ 是/ 不/ 完备/ 的/ ,/ 有解/ 存在/ 时/ 它/ 可能/ 找/ 不到/ 解/ ./ 因此/ LPG/ 规划/ 器/ 不得不/ 采用/ 许多/ 其他/ 策略/ ,/ 比如/ 提高/ 启发式/ 估值/ 的/ 精度/ 、/ 以/ 一定/ 的/ 概率/ 随机/ 选取/ 邻近/ 节点/ ,/ 以及/ 设立/ 禁忌/ 搜索/ 列表/ 等/ 办法/ ,/ 以/ 试图/ 摆脱/ 局部/ 极小值/ 的/ 影响/ [/ 7/ -/ 8/ ]/ ./ FF/ 是/ 采用/ 启发式/ 估值/ 的/ 前/ 向/ 状态/ 空间/ 搜索/ 的/ 规划/ 器/ ,/ Metric/ -/ FF/ 是/ FF/ 的/ 扩展/ 版本/ ,/ 增加/ 了/ 对/ Metric/ 的/ 处理/ ,/ 但/ 在/ 处理/ Temporal/ 时/ 表现/ 较弱/ ./ SGPlan/ 是/ 基于/ 子目标/ 分解/ 技术/ 的/ 规划/ 器/ ,/ 它/ 不/ 对/ 数值/ 信息/ 进行/ 专门/ 处理/ ,/ 数值/ 的/ 处理/ 完全/ 依赖于/ 底层/ 所/ 采用/ 的/ Metric/ -/ FF/ 规划/ 器/ ./ 针对/ 时态/ 规划/ 领域/ 普遍存在/ 的/ 问题/ ,/ 本文/ 在/ 时态/ 推理/ 技术/ 和/ 时态/ 规划/ 问题/ 的/ 求解/ 方法/ 两个/ 方面/ 进行/ 了/ 研究/ ./ 第/ 2/ 节/ 介绍/ 规划图/ 、/ 时态/ 动作/ 图/ 及时/ 序/ 约束/ ;/ 第/ 3/ 节/ 讨论/ 时态/ 信息/ 的/ 表示/ ,/ 并/ 提出/ 一种/ 时序/ 约束推理/ 方法/ ;/ 第/ 4/ 节/ 研究/ 时态/ 信息/ 的/ 过滤/ 和/ 时态/ 赋值/ 的/ 一致性/ 检验/ 方法/ ;/ 第/ 5/ 节/ 给出/ 基于/ 时态/ 规划图/ 的/ 时态/ 规划/ 算法/ ;/ 第/ 6/ 节/ 总结/ 全文/ ./ 2/ 规划图/ 与/ 时态/ 动作/ 图/ 图/ 规划/ 方法/ 是/ 智能/ 规划/ 中/ 一种/ 很/ 重要/ 的/ 规划/ 技术/ ,/ 图/ 规划/ 方法/ 简单/ 地说/ ,/ 就是/ 对/ 给定/ 规划/ 问题/ ,/ 首先/ 构造/ 规划图/ ,/ 然后/ 在/ 规划图/ 上/ 反向/ 搜索/ 可能/ 的/ 规划/ 解/ ./ 图/ 规划/ 是/ 以/ 规划图/ 为/ 数据结构/ 的/ 一种/ 规划/ 方法/ ,/ 传统/ 规划/ 领域/ 中/ 难以/ 处理/ 的/ 动作/ 和/ 状态/ 之间/ 可能/ 存在/ 的/ 互斥/ 关系/ 均/ 能/ 简洁/ 地/ 表示/ 在/ 规划图/ 上/ [/ 9/ -/ 10/ ]/ ./ 此外/ ,/ 通过/ 构造/ 规划图/ ,/ 不仅/ 实现/ 了/ 规划/ 领域/ 中/ 所有/ 动作/ 的/ 例化/ ,/ 而且/ 给出/ 了/ 整个/ 规划/ 解/ 的/ 搜索/ 空间/ ./ 关于/ 规划图/ 与/ 时态/ 动作/ 图/ 的/ 概念/ ,/ 在/ 文献/ [/ 11/ ]/ 中/ 已有/ 介绍/ ,/ 为/ 保持/ 内容/ 的/ 连贯性/ ,/ 这里/ 对/ 相关/ 概念/ 作/ 简要/ 介绍/ ./ 2.1/ 规划图/ 与/ 动作/ 图/ 规划图/ 是/ 指/ 包含/ 两类/ 节点/ (/ 命题/ 节点/ 和/ 动作/ 节点/ )/ 、/ 三类/ 边/ (/ 前提条件/ 边/ 、/ 添加/ 效果/ 边/ 、/ 删除/ 效果/ 边/ )/ 的/ 有/ 向/ 无环/ 分层/ 图/ ./ 规划图/ 中/ 命题/ 层/ 和/ 动作/ 层/ 交替/ 出现/ ,/ 命题/ 层/ 包含/ 一些/ 命题/ 节点/ ,/ 动作/ 层/ 包含/ 动作/ 节点/ ./ 在/ 第/ t/ 层/ 的/ 动作/ 节点/ 代表/ 时间/ 步/ t/ 所有/ 可能/ 的/ 规划/ 动作/ ,/ 事实/ 节点/ 表示/ 的/ 命题/ 对应/ 于/ 时间/ 步/ t/ 被/ 例化/ 的/ 一个/ 或/ 多个/ 动作/ 的/ 前件/ ,/ 或者/ 是/ 时间/ 步/ t/ -/ 1/ 被/ 例化/ 的/ 一个/ 或/ 多个/ 动作/ 的/ 效果/ ./ 规划图/ 第/ 0/ 层/ 是/ 命题/ 层/ ,/ 包含/ 规划/ 问题/ 初始状态/ 的/ 所有/ 命题/ ,/ 规划图/ 的/ 最后/ 一层/ 应/ 包含/ 规划/ 命题/ 的/ 目标/ 状态/ 集合/ ./ 定义/ 1/ (/ 动作/ 图/ A/ )/ ./ 给定/ 规划/ 问题/ P/ ,/ 其/ 对应/ 的/ 规划图/ 为/ G/ ,/ 动作/ 图/ A/ 为/ 满足/ 下列/ 条件/ 的/ 规划图/ G/ 的/ 一个/ 子图/ :/ 如果/ 规划图/ G/ 中/ 一个/ 动作/ 节点/ a/ 在/ 动作/ 图/ A/ 中/ ,/ 则/ 规划图/ G/ 中/ 对应/ 与/ 动作/ a/ 的/ 前件/ 节/ Page3/ 点/ 和/ 正负/ 效果/ 节点/ 亦/ 在/ A/ 中/ ,/ 而且/ 规划图/ G/ 中/ 与/ a/ 相连/ 的/ 边/ 亦/ 在/ A/ 中/ ./ 定义/ 2/ (/ 规划图/ // 动作/ 图/ 的/ 阶/ )/ ./ G/ // A/ 为/ 一/ 规划图/ // 动作/ 图/ ,/ 假定/ 该/ 规划图/ // 动作/ 图有/ k/ 个/ 动作/ 层/ ,/ 则/ 该/ 规划图/ // 动作/ 图/ 的/ 阶为/ k/ ,/ 记/ 为/ ‖/ G/ ‖/ =/ k/ // ‖/ A/ ‖/ =/ k/ ./ 定义/ 3/ (/ 完全/ 动作/ 图/ )/ ./ 给定/ 规划/ 问题/ P/ ,/ G/ 为/ 对应/ 于/ P/ 的/ 规划图/ ,/ 该/ 规划图/ 的/ 阶为/ k/ ./ Af/ 为/ 一/ 动作/ 图/ ,/ 若/ Af/ 与/ 规划图/ G/ 同阶/ ,/ 即/ ‖/ Af/ ‖/ =/ ‖/ G/ ‖/ =/ k/ ,/ 称/ 这样/ 的/ 动作/ 图/ Af/ 为/ 规划图/ G/ 的/ 完全/ 动作/ 图/ ./ 下面/ 我们/ 将/ 扩展/ 经典/ 规划图/ 和/ 动作/ 图/ ,/ 使/ 之/ 成为/ 能够/ 表示/ 规划/ 中/ 时态/ 信息/ 的/ 时态/ 动作/ 图/ ./ 2.2/ 时态/ 动作/ 图/ 定义/ 4/ (/ 时态/ 动作/ 图/ )/ ./ 时态/ 动作/ 图是/ 一个/ 三元组/ TA/ =/ 〈/ Af/ ,/ τ/ ,/ Ω/ 〉/ ,/ 其中/ :/ (/ 1/ )/ Af/ 为/ 一/ 完全/ 动作/ 图/ ;/ (/ 2/ )/ τ/ 为/ Af/ 中/ 命题/ 节点/ 和/ 动作/ 节点/ 的/ 时态/ 赋值/ ,/ 其中/ 命题/ 节点/ f/ 的/ 时态/ 值/ Time/ (/ f/ )/ 表示/ 相应/ 命题/ [/ f/ ]/ 最早/ 成立/ 时间/ ,/ 动作/ a/ 的/ 时态/ 值/ Time/ (/ a/ )/ 表示/ 执行/ 相应/ 动作/ [/ a/ ]/ 的/ 最早/ 终止/ 时间/ ;/ 时态/ 动作/ 图上/ 的/ 时序/ 约束/ 包含/ 两种/ 类型/ 的/ 序约/ (/ 3/ )/ Ω/ 为/ Af/ 中/ 动作/ 之间/ 的/ 序/ 约束/ 关系/ ./ 由/ 定义/ 4/ 可知/ ,/ 时态/ 动作/ 图是/ 在/ 动作/ 图/ 的/ 基础/ 上/ 增加/ 时态/ 赋值/ τ/ 和序/ 约束/ Ω/ ./ 之所以/ 在/ 时态/ 动作/ 图上/ 显式/ 地/ 增加/ 序/ 约束/ ,/ 是/ 为/ 方便/ 在/ 时态/ 动作/ 图上/ 进行/ 时序/ 推理/ ./ 束/ :/ 因果/ (/ casual/ )/ 序/ 约束/ 和/ 互斥/ (/ mutex/ )/ 序/ 约束/ ./ 定义/ 5/ (/ 因果/ 序/ 约束/ )/ ./ a/ 、/ b/ 为/ 两个/ 规划/ 动作/ ,/ 且/ a/ ∈/ Af/ ,/ b/ ∈/ Af/ ./ 如果/ / p/ ∈/ Add/ (/ a/ )/ 且/ p/ ∈/ Pre/ (/ b/ )/ ,/ 则/ 称/ a/ 与/ b/ 存在/ 因果/ 约束/ ,/ 显然/ ,/ 规划/ 动作/ a/ 必须/ 先于/ 动作/ b/ ,/ 由/ 这种/ 因果/ 约束/ 确定/ 的/ 序/ 关系/ 称为/ 因果/ 序/ 约束/ ,/ 记为/ a/ ∝/ Cb/ ./ 定义/ 6/ (/ 互斥/ 序/ 约束/ )/ ./ a/ 、/ b/ 为/ 两个/ 规划/ 动作/ ,/ 且/ a/ ∈/ Af/ ,/ b/ ∈/ Af/ ./ level/ (/ a/ )/ 、/ level/ (/ b/ )/ 分别/ 表示/ 动作/ a/ 、/ b/ 在/ 动作/ 图/ Af/ 中/ 所在/ 的/ 层数/ ./ 如果/ a/ 、/ b/ 是/ 互斥/ 动作/ ,/ 且/ level/ (/ a/ )/ </ level/ (/ b/ )/ ,/ 则/ 称/ a/ 与/ b/ 之间/ 存在/ 互斥/ 序/ 约束/ ,/ 记为/ a/ ∝/ Eb/ ,/ 此时/ a/ ∝/ Eb/ ∈/ Ω/ ./ 如果/ a/ 、/ b/ 是/ 互斥/ 动作/ ,/ 且/ level/ (/ a/ )/ =/ level/ (/ b/ )/ ,/ 同样/ ,/ a/ 与/ b/ 之间/ 存在/ 互斥/ 序/ 约束/ ,/ 记为/ a/ ∝/ Eb/ 或/ b/ ∝/ Ea/ ,/ 此时/ a/ ∝/ Eb/ ∈/ Ω/ 或/ b/ ∝/ Ea/ ∈/ Ω/ ./ 为/ 简洁/ 起/ 见/ ,/ 将/ 因果/ 序/ 约束/ 和/ 互斥/ 序/ 约束/ 统一/ 表示/ 成/ a/ ∝/ b/ ,/ 同时/ 约定/ ∧/ ∝/ a/ 表示/ 不/ 存在/ 有序/ 约束/ (/ 因果/ 序/ 约束/ 或/ 互斥/ 序/ 约束/ )/ ,/ 不/ 要求/ 某/ 动作/ 必须/ 在/ 动作/ a/ 之前/ 发生/ ./ 3/ 时态/ 动作/ 图/ 的/ CSP/ 模型/ 3.1/ CSP/ 概述/ 在/ 本节/ 中/ ,/ 我们/ 将/ 利用/ 约束/ 可/ 满足/ 问题/ (/ Con/ -/ straintSatisfactionProblems/ ,/ CSP/ )/ 的/ 方法/ 和/ 技术/ ,/ 对/ 时态/ 规划/ 问题/ 中/ 的/ 动作/ 与/ 事实/ 的/ 时态/ 关系/ 加以/ 表示/ 和/ 处理/ ./ 个/ 三元组/ P/ =/ (/ X/ ,/ D/ ,/ C/ )/ ,/ 其中/ :/ 定义/ 7/ (/ CSP/ )/ [/ 9/ -/ 10/ ,/ 12/ ]/ ./ 在/ 有限/ 域/ 上/ 的/ CSP/ 为/ 一/ X/ =/ {/ x1/ ,/ …/ ,/ xn/ }/ 是/ n/ 个/ 变量/ 的/ 有限/ 集/ ;/ D/ =/ {/ D1/ ,/ …/ ,/ Dn/ }/ 是/ 变量/ 的/ 有限/ 域/ 的/ 集合/ ,/ xi/ ∈/ Di/ ;/ C/ =/ {/ c1/ ,/ …/ ,/ cm/ }/ 是/ 约束/ 的/ 有限/ 集/ ,/ 一个/ k/ 元/ 约束/ cj/ 限定/ 了/ k/ 个/ 变量/ 的/ 可能/ 取值/ ,/ 其中/ 这/ k/ 个/ 变量/ 是/ X/ 的/ 子集/ {/ xj1/ ,/ …/ ,/ xjk/ }/ / X/ ./ cj/ 定义/ 为/ 一个/ 笛卡尔/ 乘积/ 的/ 子集/ :/ cj/ / Dj1/ ×/ …/ ×/ Djk/ ,/ 即/ 对于/ 这些/ 变量/ ,/ 约束/ 允许/ 可/ 取值/ 的/ 元组/ 的/ 集合/ 为/ {/ (/ vj1/ ,/ …/ ,/ vjk/ )/ ∈/ Dj1/ ×/ …/ ×/ Djk/ |/ (/ vj1/ ,/ …/ ,/ vjk/ )/ ∈/ cj/ }/ ./ 定义/ 8/ (/ 一致/ 的/ CSP/ )/ [/ 9/ -/ 10/ ]/ ./ CSPP/ (/ X/ ,/ D/ ,/ C/ )/ 的/ 一个/ 解是/ 一个/ n/ 元组/ σ/ =/ {/ v1/ ,/ …/ ,/ vn/ }/ ,/ 使得/ xi/ ∈/ Di/ ,/ 且/ 变量值/ xi/ =/ vi/ ,/ 1/ / i/ / n/ ,/ 满足/ C/ 中/ 所有/ 的/ 约束/ ./ 若/ 这样/ 的/ 解/ σ/ 存在/ ,/ 则/ CSP/ 是/ 一致/ 的/ ./ 下面/ 将/ 在/ 时态/ 动作/ 图上/ 建立/ CSP/ 模型/ ,/ 并/ 利用/ 区间/ 代数/ 提出/ 一种/ 基于/ 规划图/ 的/ 时态/ 表示/ 方法/ 和/ 时态/ 推理/ 技术/ ./ 3.2/ 时态/ 动作/ 图/ 的/ CSP/ 时态/ 动作/ 图/ 的/ 时态/ 赋值/ τ/ 中/ ,/ 命题/ 节点/ f/ 的/ 时态/ 值/ Time/ (/ f/ )/ 表示/ 相应/ 命题/ [/ f/ ]/ 最早/ 成立/ 时间/ ,/ 动作/ a/ 的/ 时态/ 值/ Time/ (/ a/ )/ 表示/ 执行/ 相应/ 动作/ [/ a/ ]/ 的/ 最早/ 终止/ 时间/ ,/ 并且/ 动作/ a/ 的/ 持续时间/ 为/ Dur/ (/ a/ )/ ./ 特别/ 地/ ,/ 时态/ 值/ Time/ (/ aend/ )/ 表示/ 最后/ 一个/ 动作/ 的/ 最早/ 终止/ 时间/ ,/ 也/ 就是/ 规划/ 目标/ 实现/ 的/ 最早/ 时间/ ./ 为了/ 对/ 时态/ 动作/ 图上/ 的/ 时态/ 赋值/ 进行/ 过滤/ 和/ 一致性/ 检验/ ,/ 我们/ 需要/ 在/ 时态/ 动作/ 图上/ 抽象/ 出/ 一个/ CSP/ 模型/ ,/ 然后/ 利用/ CSP/ 技术/ ,/ 对/ 该/ 模型/ 上/ 的/ 时态/ 信息/ 进行/ 有效/ 处理/ ./ 定义/ 9/ (/ CSP/ 模型/ )/ ./ 时态/ 动作/ 图/ TA/ =/ 〈/ Af/ ,/ τ/ ,/ Ω/ 〉/ 上/ 的/ CSP/ 为/ 一个/ 三元组/ P/ =/ (/ X/ ,/ D/ ,/ C/ )/ ,/ 其中/ :/ X/ =/ {/ i1/ ,/ …/ ,/ in/ }/ 是/ n/ 个/ 变量/ 的/ 集合/ ,/ 其中/ ik/ 是/ 执行/ 动作/ ak/ 的/ 时段/ 变量/ ,/ 1/ / k/ / n/ ;/ D/ =/ {/ D1/ ,/ …/ ,/ Dn/ }/ 是/ 变量/ 取/ 值域/ 的/ 集合/ ,/ ik/ ∈/ Dk/ ,/ 其中/ Dk/ =/ [/ 0/ ,/ Time/ (/ aend/ )/ ]/ ,/ 1/ / k/ / n/ ;/ C/ =/ {/ c1/ ,/ …/ ,/ cm/ }/ 是/ 二元/ 约束/ 的/ 集合/ ,/ cj/ / Dj1/ ×/ Page4/ 在/ 时态/ 动作/ 图中/ ,/ 每个/ 动作/ 都/ 有/ 持续时间/ ,/ 例如/ Dj2/ ,/ 1/ / j/ / m/ ./ 码头/ 贷运/ 领域/ 中/ 的/ 动作/ move/ ,/ 其时/ 段/ 变量/ 为/ imove/ =/ [/ Time/ (/ amove/ )/ -/ Dur/ (/ amove/ )/ ,/ Time/ (/ amove/ )/ ]/ ./ 在/ 上述/ 定义/ 中/ ,/ 我们/ 把/ 动作/ 执行/ 的/ 持续/ 时段/ 定义/ 为/ 一个/ CSP/ 变量/ ,/ 其域/ 为/ 规划/ 目标/ 最早/ 实现/ 之前/ 的/ 任/ 一时/ 段/ ,/ 而/ 约束则/ 为/ 时段/ (/ 区间/ )/ 之间/ 的/ 约束/ 关系/ ,/ 这样/ 将/ 形成/ 一个/ 时态/ 约束/ 网络/ [/ 13/ ]/ ./ 3.3/ 约束/ 与/ 运算/ 系有/ 13/ 种/ [/ 14/ -/ 15/ ]/ ,/ 基本/ 关系/ 符号/ 集合/ 设/ 为/ 分别/ 表示/ before/ ,/ meets/ ,/ overlaps/ ,/ starts/ ,/ during/ ,/ finishes/ ,/ after/ ,/ is/ -/ met/ -/ by/ ,/ is/ -/ overlap/ -/ by/ ,/ is/ -/ start/ -/ by/ ,/ includes/ 和/ is/ -/ finished/ -/ by/ ./ 其中/ 关系/ b/ ,/ m/ ,/ o/ ,/ s/ ,/ d/ 及/ e/ 如图/ 1/ 所示/ ,/ 而/ b/ ,/ m/ ,/ o/ ,/ s/ ,/ d/ 和/ f/ 分别/ 是/ b/ ,/ m/ ,/ o/ ,/ s/ ,/ d/ 和/ f/ 的/ 对称/ 关系/ ./ 在/ 区间/ 代数/ 中/ ,/ 两个/ 时段/ i/ 和/ j/ 之间/ ,/ 可能/ 的/ 关/ R/ =/ {/ b/ ,/ m/ ,/ o/ ,/ s/ ,/ d/ ,/ f/ ,/ e/ ,/ b/ ,/ m/ ,/ o/ ,/ s/ ,/ d/ ,/ f/ }/ ,/ 时态/ 动作/ 图中/ 的/ CSP/ 变量/ 的/ 约束/ 集合/ 为/ C/ =/ 2R/ =/ {/ / ,/ {/ b/ }/ ,/ {/ m/ }/ ,/ {/ o/ }/ ,/ …/ ,/ {/ b/ ,/ m/ }/ ,/ C/ 中/ 的/ 每个/ 元素/ c/ 是/ 一个/ 约束/ ,/ 它/ 是/ 基本/ 关系/ 的/ 集合/ ,/ 或者/ 是/ 基本/ 关系/ 的/ 析取/ ,/ 例如/ :/ [/ i/ {/ b/ ,/ m/ }/ j/ ]/ 也/ 可以/ 表示/ 为/ [/ (/ i/ {/ b/ }/ j/ )/ ∨/ (/ i/ {/ m/ }/ j/ )/ ]/ ,/ “/ / ”/ 为/ 不可/ 满足/ 的/ 约束/ ,/ “/ R/ ”/ 为/ 总是/ 可以/ 满足/ 的/ 全/ 约束/ ./ 任意/ 两个/ 时段/ 的/ 关系/ 可以/ 用/ 基本/ 关系/ 的/ 析取/ 来/ 表示/ ./ 时段/ 变量/ 之间/ 的/ 约束/ 可以/ 进行/ 下列/ 两种/ 运算/ :/ (/ 1/ )/ 集合/ 的/ 常用/ 运算/ ,/ 例如/ :/ ∪/ 、/ ∩/ 等等/ ;/ (/ 2/ )/ 约束/ 关系/ 的/ 复合/ 运算/ ,/ 例如/ :/ 对/ c1/ ,/ 2/ ,/ c2/ ,/ 3/ ∈/ R/ ,/ 如果/ [/ i1c1/ ,/ 2i2/ ]/ 且/ [/ i2c2/ ,/ 3i3/ ]/ ,/ 则/ [/ i1/ (/ c1/ ,/ 2/ ·/ c2/ ,/ 3/ )/ i3/ ]/ ./ 下面/ 是/ 一个/ 时段/ 约束/ 网络/ 的/ 例子/ ./ 例/ 1/ ./ 考虑/ 一个/ 码头/ 货运/ 的/ 领域/ ,/ 假设/ 有/ 5/ 个/ 动作/ :/ load/ ,/ move/ ,/ unload/ ,/ inspect/ ,/ seal/ ,/ 分别/ 表示/ 装载/ 、/ 移动/ 、/ 卸载/ 、/ 检查和/ 密封/ ,/ 我们/ 用/ 5/ 个/ 时段/ (/ iload/ ,/ imove/ ,/ iunload/ ,/ iinspect/ ,/ iseal/ )/ 分别/ 表示/ 这/ 几个/ 操作/ 执行/ 的/ 持续时间/ ,/ 动作/ 之间/ 要/ 满足/ 下面/ 的/ 条件/ :/ (/ 1/ )/ 操作/ inspect/ 在/ 集装箱/ 被装/ 上/ 机器人/ 之前/ 或/ 之后/ 而/ 不是/ 抓/ 的/ 过程/ 中/ 完成/ ,/ 并且/ 必须/ 在/ 机器人/ 移动/ 之前/ 完成/ ./ (/ 2/ )/ 操作/ seal/ 在/ 集装箱/ 被/ 装载/ 后/ 和/ 被/ 卸载/ 前/ 完成/ ,/ 并且/ 在/ 机器人/ 移动/ 之前/ 或/ 到达/ 目的地/ 之后/ ,/ 而/ 不是/ 在/ 移动/ 过程/ 中/ ./ 我们/ 可以/ 用/ 一个/ 时态/ 约束/ 网络/ 表示/ 该/ 问题/ 的/ 时态/ 信息/ ,/ 其中/ 操作/ 的/ 执行/ 时段/ 及其/ 时序/ 关系/ 构成/ 了/ 一个/ 约束/ 网络/ (/ 图/ 2/ )/ ,/ 图中/ 的/ 节点/ 为/ 各/ 操作/ 的/ 时段/ ,/ 图中/ 的/ 弧/ 表示/ 时段/ 之间/ 的/ 二元/ 约束/ ,/ 例如/ :/ [/ iinspect/ {/ b/ ,/ b/ }/ iload/ ]/ ,/ 由图/ 中/ 时段/ 推导/ 出来/ 的/ 时段/ 关系/ 用/ 虚线/ 弧/ 表示/ ./ 约束/ 网络/ 的/ 解集/ 对应/ 这/ 5/ 个/ 动作/ 所有/ 可行/ 的/ 组合/ ,/ 即/ 要求/ 这些/ 动作/ 组合/ 必须/ 满足/ 时态/ 约束/ ./ 4/ 时态/ 信息/ 的/ 过滤/ 和/ 一致性/ 检验/ 首先/ 我们/ 介绍/ 一些/ 与/ 过滤/ 和约/ 减/ 有关/ 的/ 概念/ ,/ 这些/ 概念/ 参考/ 了/ 文献/ [/ 9/ -/ 11/ ]/ ./ 定义/ 10/ (/ 冗余/ 值/ )/ ./ 一个/ 域/ Di/ 中/ 的/ 值/ v/ 如果/ 不/ 出现/ 在/ 任何/ 一个/ 解中/ ,/ 则/ 称为/ 是/ 冗余/ 的/ ./ 一个/ 约束/ cj/ 的/ 元组/ 如果/ 不是/ 任何/ 一个/ 解中/ 的/ 元素/ ,/ 则/ 称为/ 是/ 冗余/ 的/ ./ 定义/ 11/ (/ 极小/ CSP/ )/ ./ 如果/ CSP/ 的/ 域/ D/ 没有/ 冗余/ 值/ ,/ 且/ 约束/ C/ 中/ 没有/ 冗余/ 元组/ ,/ 则/ CSP/ 是/ 极小/ 的/ ./ 定义/ 12/ (/ 冗余/ 约束/ )/ ./ 一个/ 约束/ c/ ∈/ C/ 是/ 冗余/ 的/ ,/ 当且/ 仅/ 当/ CSP/ (/ X/ ,/ D/ ,/ C/ )/ 等价/ 于/ (/ X/ ,/ D/ ,/ C/ -/ c/ )/ ,/ 即/ 在/ C/ 中/ 去除/ c/ 不/ 改变/ 解集/ ./ 例如/ ,/ 在/ 例/ 1/ 中/ ,/ 一个/ 操作/ 执行/ 所/ 持续/ 的/ 时段/ 是/ Page5/ 有限/ 的/ ,/ 其域/ 中将/ 会/ 有/ 一定/ 的/ 冗余/ 值/ ./ 而/ 在/ 约束/ 中/ ,/ 如果/ 操作/ load/ 与/ unload/ 之间/ 有/ 约束/ b/ (/ before/ )/ ,/ 则/ 这里/ 的/ 约束/ b/ 将/ 是/ 约束/ 的/ 冗余/ 元组/ ,/ 因为/ 由/ [/ iload/ {/ b/ }/ imove/ ]/ 与/ [/ imove/ {/ b/ }/ iunload/ ]/ ,/ 即得/ [/ iload/ {/ b/ }/ iunload/ ]/ ./ 过滤/ 与/ 约/ 减/ 虽然/ 都/ 是/ 消去/ 冗余/ 值/ 和/ 冗余/ 元组/ ,/ 但/ 过滤/ 比/ 最小/ 约/ 减弱/ ,/ 因为/ 过滤/ 后/ ,/ 域/ 中/ 剩下/ 的/ 值/ 可以/ 属于/ 或/ 可以/ 不/ 属于/ 一个/ 解/ ./ 而/ 最小/ 约/ 减是/ 解决/ 一致性/ 问题/ 的/ ,/ 因为/ 一个/ CSP/ 无解/ ,/ 当且/ 仅/ 当/ 最小/ 约/ 减/ 过程/ 把/ 一个/ 域/ 或/ 一个/ 约束/ 约/ 减为/ 空集/ ,/ 最小/ 约/ 减有/ 可能/ 给出/ 所有/ 的/ 解/ ./ 4.1/ 冗余/ 约束/ 的/ 过滤/ 在/ CSP/ 技术/ 中/ ,/ 过滤/ 和约/ 减域/ 中/ 冗余/ 值/ 的/ 算法/ 称为/ 弧/ 一致性/ 算法/ [/ 9/ -/ 10/ ]/ ,/ 其/ 功能/ 就是/ 消去域/ Di/ 中/ 不/ 满足/ xi/ 的/ 约束/ cij/ 的/ 值/ ,/ 这样/ 的/ 值/ 是/ 冗余/ 的/ ,/ 因为/ 它/ 不/ 满足/ 约束/ ./ 算法/ 的/ 主要/ 思想/ 是/ 对/ 所有/ 变量/ 序对/ (/ xi/ ,/ xj/ )/ 进行/ 迭代/ ,/ i/ ≠/ j/ ,/ 并且/ 需要/ 更新/ 下列/ 的/ 两个/ 式子/ :/ Dj/ ←/ {/ v/ ∈/ Dj/ |/ / v/ ∈/ Di/ :/ (/ v/ ,/ v/ )/ ∈/ cij/ }/ ./ 当/ 变量/ 序对/ (/ xi/ ,/ xj/ )/ 被/ 过滤/ 后/ ,/ 含有/ 这/ 两个/ 变量/ 其中/ 之一/ 的/ 变量/ 序对/ ,/ 比如/ (/ xi/ ,/ xk/ )/ ,/ 就/ 可以/ 进一步/ 约/ 减/ Di/ ,/ 这/ 可能/ 蕴涵/ 了/ Dj/ 中/ 其它/ 的/ 冗余/ 值/ ,/ 如此/ 类推/ ,/ 直至/ 到达/ 一个/ 不动点/ ./ 在/ 这个/ 点上/ ,/ 只有/ 留在/ 域/ Di/ 中/ 的/ 值/ ,/ 才/ 满足/ 所有/ 涉及/ 变量/ xi/ 的/ 约束/ ./ 如果/ 域/ Di/ 被/ 约/ 减为/ 一个/ 空集/ ,/ 则/ CSP/ 是/ 不/ 一致/ 的/ ./ 如果/ 没有/ 域/ Di/ 被/ 约/ 减为/ 空集/ ,/ 则/ CSP/ 被/ 称为/ 弧/ 一致/ 的/ ./ 约束/ 中/ 冗余/ 元组/ 的/ 过滤/ 称为/ 路径/ 一致性/ [/ 9/ -/ 10/ ]/ ,/ 路径/ 一致性/ 对/ 变量/ xi/ 、/ xj/ 和/ xk/ 的/ 所有/ 三元组/ 进行/ 测试/ ,/ 检验/ 三元组/ 是否/ 满足/ 3/ 个/ 约束/ cij/ 、/ cjk/ 和/ cik/ 的/ 值/ ./ 值/ (/ vi/ ,/ vj/ )/ 如果/ 满足/ 约束/ cij/ ,/ 并且/ 如果/ xk/ 有值/ vk/ 使得/ (/ vi/ ,/ vk/ )/ 满足/ cik/ 和/ (/ vk/ ,/ vj/ )/ 满足/ ckj/ ,/ 则/ (/ vi/ ,/ vj/ )/ 能/ 成为/ 解/ 的/ 一部分/ ./ 也就是说/ ,/ 通过/ 传递/ ,/ 由/ 约束/ cik/ 和/ ckj/ 得到/ 约束/ cij/ ./ 下面/ 是/ 一个/ 约束/ 的/ 复合/ 运算/ ,/ 运算/ 符号/ 记/ 为/ “/ ·/ ”/ :/ cik/ ·/ ckj/ =/ (/ v/ ,/ v/ )/ ,/ v/ ∈/ Di/ ,/ v/ ∈/ Dj/ |/ / w/ ∈/ Dk/ :/ (/ v/ ,/ w/ )/ ∈/ cik/ 且/ (/ w/ ,/ v/ )/ ∈/ ckj/ ./ 约束/ 的/ 复合/ 运算/ cik/ ·/ ckj/ 定义/ 了/ 一个/ 从/ xi/ 到/ xj/ 的/ 约束/ ,/ 其中/ xi/ 和/ xj/ 分别/ 受/ cik/ 和/ ckj/ 约束/ ,/ 序对/ (/ vi/ ,/ vj/ )/ 必须/ 满足/ cij/ ,/ 同时/ ,/ 对于/ 每个/ k/ ,/ 要/ 满足/ 约束/ 的/ 复合/ cik/ ·/ ckj/ ,/ 否则/ ,/ 它/ 是/ 冗余/ 的/ ./ 于是/ 这里/ 的/ 过滤/ 操作/ 是/ :/ 如果/ 过滤/ 产生/ 一个/ 空/ 约束/ ,/ 则/ CSP/ 是/ 不/ 一致/ 的/ ./ 4.2/ 时态/ 赋值/ 一致性/ 检验/ 一个/ 时态/ 动作/ 图/ ,/ 经过/ 对域/ 中/ 冗余/ 值/ 和/ 约束/ 中/ 冗余/ 元组/ 的/ 过滤/ 后/ ,/ 得到/ 一个/ 没有/ 冗余/ 信息/ 的/ 时态/ 动作/ 图/ ,/ 但/ 此时/ 的/ 时态/ 动作/ 图上/ 的/ 时态/ 赋值/ 是否/ 一致/ ,/ 还/ 需要/ 检验/ ./ 对/ 一致性/ 的/ 检验/ ,/ 实际上/ 在/ 前面/ 的/ 算法/ 中/ 已经/ 有所/ 蕴含/ ,/ 因为/ 消除/ 域/ 中/ 的/ 冗余/ 值/ ,/ 或/ 消除/ 约束/ 中/ 的/ 冗余/ 元组/ ,/ 当/ 这种/ 消除/ 产生/ 一个/ 空域/ 或/ 一个/ 空/ 约束/ 时/ ,/ 则/ 可/ 判定/ 此/ CSP/ 是/ 不/ 一致/ 的/ ./ 但/ 必须/ 注意/ 到/ ,/ 一个/ 网络/ 初始/ 是/ 弧/ 一致/ 的/ ,/ 但经/ 路径/ 一致性/ 算法/ PC/ -/ td/ 过滤/ 后/ ,/ 就/ 不能/ 保证/ 弧/ 一致/ 了/ ,/ 因为/ 约束/ 里/ 一些/ 冗余/ 元组/ 被/ 消除/ 了/ ./ 下面/ 我们/ 综合/ 考虑/ 弧/ 一致/ 算法/ 和/ 路径/ 一致/ 算法/ ,/ 通过/ 定义/ cii/ =/ D2i/ ,/ 把/ 过滤/ 操作/ 修改/ 为/ :/ 对/ 所有/ 三元组/ ,/ 包括/ 对/ i/ =/ j/ ./ 从而/ 得到/ 一个/ CSP/ 一致性/ 检验/ 算法/ APC/ -/ td/ (/ 图/ 3/ )/ ,/ 该/ 算法/ 同时/ 保持/ 路径/ 一致性/ 和/ 弧/ 一致性/ ./ APC/ -/ td/ 算法/ 如/ 算法/ 1/ 所示/ ./ 算法/ 1/ ./ CSP/ 一致性/ 检验/ 算法/ ./ APC/ -/ td/ (/ TA/ ,/ Conslist/ )/ 1/ ./ whileConslist/ ≠/ / do2/ ./ selectanyCij/ ∈/ ConslistandConslist/ \/ {/ Cij/ }/ 3/ ./ foreachk/ ≠/ i/ ,/ jand1/ / k/ / ndo4/ ./ Cii/ =/ D2i/ ,/ Cjj/ =/ D25/ ./ Conslist/ ←/ Conslist/ ∪/ Filter/ _/ op/ (/ i/ ,/ k/ ,/ [/ Cij/ ·/ Cjj/ ·/ Cjk/ ]/ )/ 6/ ./ Conslist/ ←/ Conslist/ ∪/ Filter/ _/ op/ (/ j/ ,/ k/ ,/ [/ Cji/ ·/ Cii/ ·/ Cik/ ]/ )/ 7/ ./ End8/ ./ Filter/ -/ op/ (/ i/ ,/ j/ ,/ C/ )/ 9/ ./ C/ ←/ C/ ∩/ Cij10/ ./ ifC/ =/ / thenexit/ (/ inconsistent/ )/ 11/ ./ ifC/ =/ Cijthenreturn/ (/ / )/ 12/ ./ Cij/ ←/ C13/ ./ return/ (/ Cij/ )/ 14/ ./ endAPC/ -/ td/ 算法/ 也/ 是/ 一个/ 递增/ 式/ 算法/ ,/ 它/ 更新/ 要/ 被/ 过滤/ 的/ 约束/ 的/ 列表/ Conslis/ ./ Conslist/ 初始化/ 为/ 整个/ 约束/ 集合/ C/ ,/ 或/ 为/ 新增/ 的/ 或/ 修改/ 约束/ 的/ 子集/ ./ Filter/ -/ op/ 过程/ 执行/ 过滤/ 操作/ ,/ 返回/ 的/ 约束/ 将/ 加入/ 到/ Con/ -/ slist/ ,/ 如果/ 不/ 需要/ 更新/ Conslist/ 则/ 返回/ / ./ 以上/ 讨论/ 了/ 对/ 时态/ 动作/ 图/ 进行/ 时态/ 赋值/ ,/ 并/ 检验/ 了/ 时态/ 信息/ 的/ 一致性/ ,/ 下/ 一节/ 将/ 进入/ 规划/ 的/ 求解/ 过程/ ./ 5/ 基于/ 时态/ 规划图/ 的/ 时态/ 规划/ 本节/ 在/ 文献/ [/ 11/ ]/ 工作/ 基础/ 上/ ,/ 利用/ CSP/ 技术/ ,/ 对/ 时态/ 信息/ 进行/ 过滤/ 和/ 一致性/ 检验/ ,/ 加强/ 了/ 时态/ 关系/ 之间/ 的/ 推理/ ,/ 并/ 通过/ 实验/ ,/ 证明/ 了/ 在/ 求解/ 过程/ 中/ ,/ 引入/ 信息/ 的/ 处理/ ,/ 可以/ 有效/ 地/ 提高/ 求解/ 效率/ ,/ 并/ 与/ 相/ Page6/ 关/ 工作/ 进行/ 了/ 比较/ ./ 5.1/ 时态/ 规划/ 求解/ 算法/ 前面/ 介绍/ 的/ 规划图/ 、/ 动作/ 图/ 以及/ 时态/ 动作/ 图/ ,/ 解决/ 了/ 如何/ 表示/ 规划/ 中/ 动作/ 及时/ 态/ 的/ 问题/ ,/ 对/ 时态/ 动作/ 图上/ 时态/ 信息/ 的/ 一致性/ 处理/ ,/ 保证/ 了/ 规划图/ 的/ 时态/ 一致性/ ,/ 时态/ 规划/ 问题/ 的/ 求解/ 相当于/ 在/ 时态/ 动作/ 图/ 空间/ STA/ 中/ 搜索/ 时态/ 解图/ ./ 用/ 遗传算法/ 求解/ 问题/ 的/ 首要/ 步骤/ 是/ 根据/ 具体/ 的/ 问题/ 领域/ ,/ 将/ 候选/ 解/ 编码/ 成/ 适当/ 的/ 染色体/ 形式/ ,/ 并/ 设计/ 相应/ 的/ 适应度/ 函数/ ,/ 然后/ 设计/ 相应/ 的/ 遗传操作/ 算子/ 对/ 染色体/ 进行/ 进化/ ,/ 算法/ 如下/ 所示/ ./ Search/ _/ plan/ _/ by/ _/ GP/ -/ td/ (/ Ⅱ/ ,/ max/ _/ gen/ ,/ max/ _/ time/ )/ 算法/ 2/ ./ 基于/ 时态/ 规划图/ 的/ 遗传/ 规划/ 算法/ GP/ -/ td/ ./ Input/ :/ Aplanningproblem/ Ⅱ/ ,/ themaximumnumberofOutput/ :/ Asolutiongraphrepresentingaplansolving1/ ./ fori/ ←/ 1tomax/ _/ timedo2/ ./ A/ -/ graph/ ←/ create/ _/ graph/ _/ layer/ (/ ops/ ,/ initial/ _/ facts/ )/ 3/ ./ TA/ ←/ Time/ _/ assign/ (/ A/ -/ graph/ )/ 4/ ./ APC/ -/ td/ (/ TA/ ,/ TAtc/ )/ 5/ ./ oldpops/ ←/ initializepopbasedontheplanninggraph6/ ./ fori/ ←/ 1topopsizedo7/ ./ Quality/ _/ of/ _/ solution/ (/ I/ ,/ G/ ,/ oldpop/ [/ i/ ]/ )/ 8/ ./ forj/ ←/ 1tomax/ _/ gendo9/ ./ fori/ ←/ 1topopsizedo10/ ./ newpops/ [/ i/ ]/ ,/ newpops/ [/ i/ +/ 1/ ]/ ←/ randomlyselecttwo11/ ./ newpops/ [/ i/ ]/ ,/ newpops/ [/ i/ +/ 1/ ]/ ←/ crossovertheselected12/ ./ newpops/ [/ i/ ]/ ,/ newpops/ [/ i/ +/ 1/ ]/ ←/ mutatetheselected13/ ./ newpops/ [/ i/ ]/ ,/ newpops/ [/ i/ +/ 1/ ]/ ←/ localfixtheselected14/ ./ Quality/ _/ of/ _/ solution/ (/ I/ ,/ G/ ,/ newpop/ [/ i/ ]/ )/ 15/ ./ Quality/ _/ of/ _/ solution/ (/ I/ ,/ G/ ,/ newpop/ [/ i/ +/ 1/ ]/ )/ 16/ ./ iftherenoinconsistentsexistinthecandidatesolution17/ ./ returnthebestpopastheplansolving/ Ⅱ/ 18/ ./ i/ ←/ i/ +/ 219/ ./ returnfail/ 上述/ 算法/ 描述/ 中/ ,/ 首先/ 根据/ 规划/ 问题/ 得到/ 充分/ 扩展/ 后/ 的/ 动作/ 规划图/ (/ 步/ 1/ 、/ 2/ )/ ,/ 然后/ 通过/ 时态/ 赋值/ ,/ 把/ 规划图/ 扩展/ 为/ 时态/ 动作/ 图/ TA/ (/ 步/ 3/ )/ ,/ 步/ 4/ 对/ TA/ 进行/ 时态/ 一致性/ 检验/ ./ 步/ 5/ 为/ 根据/ 规划图/ 进行/ 种群/ 初始化/ ,/ 种群/ 初始化/ 完成/ 后/ ,/ 首先/ 调用/ 质量/ 评价/ 函数/ 对/ 初始化/ 后/ 的/ 种群/ 的/ 质量/ 进行/ 评价/ (/ 步/ 6/ 、/ 7/ )/ [/ 11/ ,/ 16/ ]/ ,/ 此后/ ,/ 算法/ 进入/ 种群/ 演化/ 阶段/ (/ 步/ 8/ ~/ 18/ )/ ./ 与/ 本文/ 工作/ 相近/ 的/ 是/ 在/ 规划图/ 基础/ 上/ 发展/ 起来/ 在/ 种群/ 演化过程/ 中/ ,/ 算法/ 根据/ 各/ 候选/ 规划/ 解/ 的/ 质量/ 随机/ 选择/ 染色体/ 进行/ 交叉/ 、/ 变异/ 等/ 遗传操作/ (/ 步/ 10/ 、/ 11/ 、/ 12/ )/ ,/ 然后/ ,/ 算法/ 再/ 对/ 经过/ 遗传操作/ 后/ 的/ 染色体/ 进行/ 局部/ 不/ 一致/ 的/ 修复/ 操作/ (/ 步/ 13/ )/ ./ 经过/ 一系列/ 进化/ 操作/ 后/ ,/ 算法/ 再/ 对/ 这些/ 进化/ 后/ 的/ 染色体/ 的/ 质量/ 进行/ 评价/ (/ 步/ 14/ 、/ 15/ )/ ,/ 一旦/ 有/ 不/ 存在/ 不/ 一致/ 的/ 染色体/ 出现/ ,/ 算法/ 停止/ 并/ 宣告/ 找到/ 规划/ 解/ (/ 步/ 16/ 、/ 17/ )/ ,/ 如果/ 算法/ 在/ 最大/ 进化/ 代数/ 内/ 都/ 不能/ 找到/ 规划/ 解/ ,/ 则/ 失败/ 返回/ (/ 步/ 19/ )/ ./ 在/ 实验/ 测试/ 中/ ,/ 我们/ 选取/ 了/ 智能/ 规划/ 大赛/ 提供/ 的/ Satellite/ 规划/ 领域/ 的/ 问题/ 进行/ 测试/ ./ 由于/ 目前/ 我们/ 的/ 算法/ 只能/ 处理/ 规划/ 动作/ 持续时间/ 是/ 恒定/ 的/ 规划/ 问题/ ,/ 因此/ 所/ 选取/ 的/ 是/ SimpleTime/ 版本/ 的/ 问题/ 实例/ 进行/ 测试/ ./ 测试/ 平台/ 为/ :/ CPU/ (/ C/ Ⅱ/ 850MHz/ )/ +/ RAM/ (/ 128MB/ )/ ,/ 操作系统/ 为/ Linux/ 平台/ 上/ 的/ Red/ -/ hat9/ ./ 0/ ,/ 运行/ 软件/ 为/ Redhat9/ ./ 0/ 自带/ 的/ 编译器/ gcc/ ,/ 限于/ 篇幅/ ,/ 我们/ 只/ 列出/ 部分/ 测试/ 实例/ (/ pfile1/ ~/ pfile20/ )/ 的/ 实验/ ./ 5.2/ 相关/ 工作/ 比较/ 的/ 规划/ 器/ LPG/ [/ 9/ -/ 10/ ]/ 和/ GA/ [/ 11/ ]/ ./ LPG/ 规划/ 器/ 也/ 是/ 能/ 处理/ 时态/ 约束/ 的/ 规划/ 器/ ,/ 它/ 采用/ 的/ 搜索/ 策略/ 是/ 局部/ 搜索/ 策略/ ,/ 其/ 搜索/ 对象/ 主要/ 是/ 动作/ 图/ ./ 本文/ 关于/ 时态/ 推理/ 部分/ 与/ LPG/ 的/ 时态/ 处理/ 技术/ 类似/ ,/ 都/ 是/ 在/ 规划图/ 的/ 子/ 图上/ 进行/ 时态/ 推理/ ,/ 但/ 由于/ LPG/ 使用/ 的/ 是/ 局部/ 搜索/ 技术/ ,/ 这/ 使得/ LPG/ 容易/ 陷入/ 局部/ 极小值/ [/ 3/ ]/ ,/ 而/ 本文/ 利用/ CSP/ 技术/ 对/ 时态/ 信息/ 进行/ 过滤/ 和/ 一致性/ 检验/ 处理/ ,/ 并/ 利用/ 了/ 遗传算法/ 的/ 并行/ 搜索/ 与/ 全局/ 寻优/ 思想/ 方法/ ,/ 在/ 规划图/ 上/ 运用/ 遗传/ 搜索/ 的/ 手段/ 进行/ 规划/ 解/ 的/ 搜索/ ,/ 与/ LPG/ 的/ 局部/ 搜索/ 思想/ 具有/ 本质/ 的/ 差别/ ./ LPG/ 算法/ 的/ 弱点/ 是/ 搜索/ 具有/ 局部性/ ,/ 这/ 将/ 导致/ 图/ 规划/ 算法/ 常常/ 要/ 进行/ 回溯/ ,/ LPG/ 则/ 为了/ 能/ 逃出/ 局部/ 极小值/ ,/ 在/ 遇到/ 没有/ 比/ 当前/ 节点/ 更好/ 的/ 节点/ 时/ ,/ 采用/ 以/ 一定/ 的/ 概率/ 随机/ 选取/ 邻/ 节点/ 的/ 策略/ ./ 而/ 本文/ 的/ 算法/ GP/ -/ td/ 采用/ 遗传算法/ 求解/ ,/ 由于/ 采取/ 了/ 局部/ 修复/ 算子/ ,/ 在/ 一定/ 程度/ 上/ 避免/ 了/ 局部/ 极小值/ ./ 文献/ [/ 11/ ]/ 提出/ 的/ 基于/ 规划图/ 的/ 遗传/ 规划/ 算法/ GA/ ,/ 介绍/ 了/ 基于/ 时态/ 动作/ 图/ 的/ 遗传/ 规划/ 算法/ 的/ 设计/ ,/ 包括/ 染色体/ 的/ 编码/ 、/ 适应度/ 函数/ 、/ 遗传操作/ 算子/ ,/ 以及/ 为/ 增强/ 遗传/ 规划/ 算法/ 收敛/ 速度/ 而/ 设计/ 的/ 局部/ 修复/ 算子/ 等/ ./ GP/ -/ td/ 是/ 在/ 其/ 工作/ 基础/ 上/ ,/ 描述/ 了/ 时态/ 规划/ 过程/ 中/ 时态/ 信息/ 的/ 有效/ 表示/ 的/ 一种/ 时序/ 约束/ 的/ 推理/ 技术/ ,/ 能/ 消除/ 时态/ 信息/ 中/ 存在/ 的/ 冗余/ 和/ 不/ 一致/ ./ 图/ 3/ 是/ GP/ -/ td/ 、/ LPG/ 及/ GA/ 在/ 求解/ SimpleTimePage7/ 的/ Satellite/ 实例/ 时/ 的/ 对比/ 结果/ ,/ 其中/ 横坐标/ 为/ Sat/ -/ ellite/ 的/ 20/ 个/ 测试/ 实例/ Pfile1/ ~/ Pfile20/ ,/ 纵坐标/ 为/ 算法/ 成功/ 返回/ 结果/ 的/ 平均/ 求解/ 时间/ ./ GP/ -/ td/ 使用/ 的/ 规划图/ 和/ 互斥/ 关系/ 跟/ LPG/ 完全/ 一样/ ,/ 因此/ ,/ 两者/ 的/ Parsingtime/ 和/ Mutextime/ 完全/ 一样/ ,/ 两者/ 性能/ 上/ 的/ 区别/ 主要/ 在/ 解/ 提取/ 的/ 时间/ 耗费/ 上/ ./ 从中/ 我们/ 可以/ 看到/ ,/ GP/ -/ td/ 在/ 求解/ 过程/ 中/ ,/ 随着/ 问题/ 规模/ 逐渐/ 增大/ ,/ 其/ 失败/ 次数/ 将/ 逐渐/ 增多/ ,/ 但/ 其/ 成功/ 求解/ 的/ 效率/ 与/ LPG/ 相比/ ,/ 有/ 一定/ 的/ 优势/ ,/ 在/ 大部分/ 情况/ 下比/ LPG/ 效率/ 更高/ ./ 此外/ ,/ GP/ -/ td/ 与/ GA/ 算法/ 会/ 出现/ 在/ 给定/ 的/ 迭代/ 次数/ 内/ 无法/ 成功/ 的/ 情况/ ,/ 因此/ 图/ 4/ 给出/ 了/ GP/ -/ td/ 与/ GA/ 的/ 求解/ 成功率/ ./ 实验/ 表明/ ,/ 在/ 问题/ 规模/ 较大/ 的/ 情况/ 下/ ,/ GP/ -/ td/ 算法/ 在/ 求解/ 上/ 比/ LPG/ 和/ GA/ 有/ 更/ 高/ 的/ 效率/ ,/ 也/ 比/ GA/ 算法/ 有/ 更/ 高/ 的/ 求解/ 成功率/ ./ 图/ 3GP/ -/ td/ 、/ LPG/ 与/ GA/ 算法/ 在/ 求解/ 效率/ 的/ 比较/ 图/ 4GP/ -/ td/ 与/ GA/ 算法/ 在/ 求解/ 成功率/ 的/ 比较/ 6/ 结论/ 和/ 进一步/ 工作/ 本文/ 在/ 规划图/ 框架/ 下/ ,/ 对/ 时态/ 推理/ 技术/ 和/ 时态/ 规划/ 求解/ 进行/ 了/ 研究/ ./ 在/ 时态/ 推理/ 方面/ ,/ 由于/ 在/ 规划/ 过程/ 中/ 需要/ 考虑/ 规划/ 目标/ 能/ 在/ 尽可能/ 短/ 的/ 时间/ 内/ 实现/ ,/ 并且/ 动作/ 的/ 执行/ 需要/ 考虑/ 时间/ 和/ 资源/ 的/ 消耗/ 以及/ 存在/ 并发/ 动作/ 等/ 因素/ ,/ 而/ 这类/ 规划/ 问题/ 在/ 经典/ 规划/ 中/ ,/ 用带/ 瞬间/ 动作/ 的/ STRIPS/ 模型/ 是/ 无法/ 进行/ 表示/ 的/ ./ 因此/ ,/ 为/ 表示/ 实际/ 规划/ 问题/ ,/ 本文/ 对/ 时间/ 信息/ 如何/ 进行/ 有效/ 表示/ ,/ 并/ 能/ 进行/ 时序/ 约束推理/ 进行/ 了/ 研究/ ./ 而/ 在/ 时态/ 规划/ 方面/ ,/ 采用/ 了/ 遗传/ 规划/ 算法/ 进行/ 求解/ ,/ 并/ 通过/ 实验/ ,/ 验证/ 了/ 算法/ 的/ 可行性/ 和/ 有效性/ ./ 在/ 时态/ 规划图/ 的/ 基础/ 上/ ,/ 运用/ 遗传算法/ 对/ 规划/ 解/ 进行/ 搜索/ 是/ 全新/ 的/ 一个/ 研究课题/ ,/ 我们/ 通过/ 实验/ ,/ 验证/ 了/ 该/ 技术/ 路线/ 的/ 合理性/ 和/ 可行性/ ./ 当前/ 规划/ 领域/ 研究/ 中/ ,/ 除了/ 不断/ 寻找/ 新/ 算法/ ,/ 以/ 提高/ 规划/ 算法/ 的/ 求解/ 效率/ ,/ 也/ 要/ 设法/ 进一步/ 扩充/ 现有/ 算法/ 的/ 处理/ 范围/ 和/ 处理/ 能力/ ,/ 因此/ ,/ 不少/ 研究者/ 们/ 在/ 扩充/ 规划/ 算法/ 的/ 处理/ 范围/ 和/ 能力/ 方面/ 进行/ 了/ 大量/ 的/ 研究/ 工作/ ./ 我们/ 将/ 进一步/ 深入研究/ 时态/ 约束推理/ 技术/ 和/ 方法/ ,/ 使/ 在/ 规划/ 求解/ 过程/ 中/ ,/ 对于/ 新增/ 的/ 时态/ 信息/ 也/ 能够/ 处理/ ./ 同时/ ,/ 进一步提高/ 现有/ 遗传/ 规划/ 算法/ 的/ 效率/ ,/ 并且/ 扩充/ 遗传/ 规划/ 算法/ 处理/ 时间/ 和/ 数值/ 资源/ 的/ 能力/ ./ 

