Page1/ 路网/ 环境/ 下/ 访问/ 序列/ 受限/ 的/ 多/ 标签/ 路线/ 查询/ 算法/ 张金/ 增文洁/ 孟小峰/ (/ 中国人民大学/ 信息/ 学院/ 北京/ 100872/ )/ 摘要/ 随着/ 移动/ 互联网/ 、/ 地理/ 定位/ 技术/ 和/ 智能/ 终端设备/ 的/ 迅速/ 普及/ ,/ 产生/ 了/ 大量/ 的/ 位置/ 信息/ 和/ 其/ 对应/ 的/ 标签/ (/ tag/ )/ 描述/ 信息/ ./ 路线/ 搜索/ 是/ 人们/ 出行/ 时/ 经常/ 进行/ 的/ 活动/ ,/ 但/ 面临/ 多个/ 任务/ 需求/ 时/ ,/ 寻找/ 最佳/ 路线/ 是/ 一项/ 极为/ 耗时/ 的/ 工作/ ./ 此外/ 空间/ 对象/ 本身/ 的/ 访问/ 权限/ 和/ 用户/ 指定/ 的/ 限制/ 一定/ 程度/ 上/ 制约/ 了/ 对象/ 的/ 访问/ 次序/ ./ 针对/ 上述情况/ ,/ 文中/ 提出/ 了/ 一种/ 路网/ 环境/ 下/ 访问/ 序列/ 受限/ 的/ 多/ 标签/ 路线/ (/ MTROC/ )/ 查询/ ,/ 该/ 查询/ 的/ 目标/ 是/ 找出/ 一条/ 从/ 源点/ 到/ 目标/ 点/ 、/ 经由/ 与/ 查询/ 中/ 给定/ 的/ tag/ 相匹配/ 的/ 空间/ 对象/ 且/ 满足/ 序列/ 约束/ 的/ 最/ 短/ 线路/ ./ 文中/ 证明/ 了/ MTROC/ 查询/ 问题/ 是/ NP/ -/ hard/ ,/ 并/ 基于/ 增强/ 的/ 路线/ 叠置/ -/ 关联/ 目录/ (/ EROAD/ )/ 索引/ 提出/ 了/ 3/ 种/ 近似算法/ ./ 路线/ 扩展/ RE/ -/ Greedy/ 算法/ 和/ 路线/ 渐增/ 插入/ RII/ -/ Greedy/ 算法/ 通过/ 局部/ 更新/ 获得/ 满足/ 需求/ 的/ 路线/ ,/ 而/ 全局/ 路线/ 优化/ 算法/ GROA/ 为/ MTROC/ 查询/ 提供/ 一个/ 全局/ 近似/ 最优/ 解/ ./ 使用/ 真实/ 和/ 合成/ 数据/ 集对/ 文中/ 提出/ 的/ 算法/ 的/ 有效性/ 和/ 可扩展性/ 进行/ 分析/ 评估/ ,/ 实验/ 结果表明/ 3/ 种/ 算法/ 都/ 能/ 有效/ 地/ 完成/ MTROC/ 查询/ ,/ 其中/ GROA/ 算法/ 可扩展性/ 最好/ ,/ 而/ RII/ -/ Greedy/ 算法/ 返回/ 的/ 路线/ 质量/ 最高/ ./ 关键词/ 路网/ ;/ 路线/ 查询/ ;/ 序列/ 约束/ ;/ 签名文件/ ;/ 标签/ 1/ 引言/ 随着/ 地理/ 定位/ 技术/ GPS/ 、/ WiFi/ 和/ 智能/ 移动/ 设备/ 的/ 普及/ 以及/ 移动/ 互联网/ 的/ 迅速/ 发展/ ,/ 出现/ 了/ 大量/ 的/ 本地/ 搜索/ 、/ 地理/ 社交/ 网络/ 和/ 在线/ 地图/ 服务/ ,/ 比如/ GoogleMap/ 、/ BingLocalSearch/ 、/ Foursquare/ 、/ Flicker/ 等/ ./ 使用/ 各种/ 基于/ 位置/ 的/ 服务/ ,/ 人们/ 可以/ 随时随地/ 进行/ 以下/ 活动/ :/ 记录/ 位置/ 和/ 活动/ 信息/ 并/ 将/ 这些/ 资源/ 上传/ ,/ 标记/ 在/ 地图/ 上/ ;/ 利用/ tag/ 或者/ tweet/ 对/ 空间/ 对象/ 以及/ 其它/ 实体/ 进行/ 描述/ ,/ 为/ 其/ 提供/ 丰富/ 的/ 语义/ 内容/ ;/ 搜索/ 满足用户/ 查询/ 需求/ 的/ 场所/ 或者/ 路线/ ./ 在/ 日常生活/ 中/ ,/ 大多数/ 用户/ 外出/ 时/ 都/ 有/ 多个/ 任务/ ,/ 不管/ 对/ 该/ 城市/ 是否/ 熟悉/ ,/ 根据/ 这些/ 任务/ 需求/ 手动/ 地/ 制定/ 出行/ 计划/ 和/ 行程/ 路线/ ,/ 都/ 是/ 一项/ 费时费力/ 的/ 工作/ ./ 因此/ 为/ 用户/ 提供/ 一条/ 经由/ 多个/ 空间/ 对象/ 具有/ 最小/ 代价/ (/ 距离/ 或者/ 时间/ 花费/ 最短/ )/ 、/ 满足/ 多个/ 需求/ 的/ 路线/ 是/ 非常/ 必要/ 的/ ./ 此外/ ,/ 空间/ 对象/ 会/ 受到/ 用户/ 指定/ 的/ 访问/ 或者/ 权利/ 限定/ (/ 比如/ 银行/ 的/ 营业时间/ 为/ 早/ 9/ :/ 00/ ~/ 下午/ 5/ :/ 00/ )/ 的/ 制约/ ,/ 因此/ 在/ 规划/ 路线/ 时/ ,/ 需要/ 考虑/ 制约/ 因素/ 对/ 访问/ 顺序/ 的/ 影响/ ./ 考虑/ 图/ 1/ 所示/ 的/ 例子/ ,/ 假设/ 从/ 开会地点/ 回/ 酒店/ 的/ 路上/ ,/ Mary/ 需要/ 给/ 汽车/ 加油/ ,/ 去/ 中国银行/ 办理/ 业务/ ,/ 到/ 肯德基/ 吃饭/ ,/ 买手机/ 充电器/ ./ 此外/ ,/ 有/ 两个/ 次序/ 的/ 约束/ :/ (/ 1/ )/ 吃饭/ 前先/ 去/ 银行/ ;/ (/ 2/ )/ 买/ 充电器/ 前先/ 去/ 加油/ ./ Mary/ 想要/ 找到/ 一条/ 满足/ 上述/ 需求/ 和/ 约束条件/ 的/ 最/ 短路线/ (/ 实线/ 箭头/ 显示/ )/ ./ 因此/ 本文/ 提出/ 了/ 一种/ 新/ 的/ 空间/ 查询/ :/ 路网/ 环境/ 下/ 访问/ 序列/ 受限/ 的/ 多/ 标签/ (/ tag/ )/ 路线/ (/ MTROC/ )/ 查询/ ./ 在/ 该/ 查询/ 中/ ,/ 用户/ 使用/ 多个/ tag/ 指定/ 要/ 访问/ 的/ 各个/ 空间/ 对象/ 以及/ 它们/ 之间/ 的/ 访问/ 序列/ 约束/ ,/ 查询/ 的/ 源点/ 由/ 用户/ 提供/ ,/ 或/ 通过/ 移动/ 设备/ 自带/ 的/ GPS/ 来/ 识别/ ,/ 而/ 终点/ 由/ 用户/ 指定/ ./ 查询/ 目标/ 在于/ 找到/ 一条/ 从/ 源点/ 到/ 终点/ 、/ 经由/ 与/ 每/ 一个/ 查询/ tag/ 匹配/ 的/ 空间/ 对象/ 并/ 满足/ 序列/ 约束/ 的/ 最佳/ 路线/ ./ 目前/ ,/ 与/ 路线/ 搜索/ 相关/ 的/ 工作/ 有/ 以下/ 两类/ ./ 首先/ ,/ 已有/ 的/ 在线/ Web/ 地图/ 服务/ (/ GoogleMap/ 、/ BingMap/ 、/ 百度/ 地图/ )/ 以及/ 空间/ 关键字/ 查询/ [/ 1/ -/ 5/ ]/ 方面/ 的/ 研究/ 工作/ 不能/ 很/ 好/ 地/ 回答/ MTROC/ 查询/ ./ 在线/ 地图/ 服务/ 使用/ 关键字/ 或/ 地址/ 搜索/ 出/ 任意/ 两个/ 位置/ 之间/ 的/ 线路/ ,/ 而/ 空间/ 关键字/ 查询/ [/ 1/ -/ 5/ ]/ 是/ 以/ 一个/ 位置/ 和/ 关键字/ 集合/ 作为/ 参数/ ,/ 检索/ 出/ 离/ 查询/ 点/ 最近/ 并/ 匹配/ 查询/ 关键字/ 的/ 对象/ ./ 如果/ 利用/ 上述/ 的/ 方法/ 回答/ 图/ 1/ 中/ 的/ 查询/ ,/ 用户/ 首先/ 需要/ 查询/ 附近/ 的/ 一些/ 加油站/ 和/ 中国银行/ ,/ 定位/ 出/ 几个/ 邻近/ 的/ 肯德基/ 和/ 卖/ 充电器/ 的/ 商场/ ,/ 然后/ 将/ 找到/ 的/ 这些/ 空间/ 对象/ 根据/ 序列/ 限制/ 进行/ 组合/ ,/ 最终/ 找出/ 一条/ 满足用户/ 需求/ 的/ 路线/ ./ 这种/ 方法/ 需要/ 列举/ 出/ 所有/ 候选/ 路线/ ,/ 从中/ 找到/ 最短/ 的/ 路线/ ,/ 显然/ 该/ 方案/ 效率/ 低/ ,/ 费时费力/ ./ 其次/ ,/ 已有/ 的/ 路线/ 搜索/ 方法/ [/ 6/ -/ 9/ ]/ 根据/ 空间/ 对象/ 所属/ 的/ 类别/ 指定/ 路线/ 需求/ ,/ 如果/ 采用/ 此类/ 方法/ 解决/ MTROC/ 查询/ ,/ 将/ 得到/ 图/ 1/ 虚线/ 箭头/ 所/ 显示/ 的/ 路线/ ,/ 该/ 路线/ 中/ 的/ 对象/ “/ 中国工商银行/ ”/ 和/ “/ 川菜馆/ ”/ 虽然/ 属于/ 银行/ 类/ 和/ 餐饮/ 类/ ,/ 但/ 并/ 不/ 满足用户/ 的/ 需求/ ,/ 不/ 适合/ 本文/ 提出/ 的/ 查询/ ./ 因此/ 亟需/ 设计/ 有效/ 的/ 查询/ 策略/ 回答/ MTROC/ 查询/ ./ 构建/ 查询/ 路线/ 存在/ 以下/ 挑战性/ 问题/ :/ 一方面/ Web/ 上/ 的/ 空间/ 对象/ 数据/ 快速增长/ ,/ 另一方面/ 次序/ 限制/ 仅仅/ 是/ 对/ 查询/ 需求/ 的/ 部分/ 约束/ ,/ 这/ 就/ 要求/ 找出/ 满足/ 约束/ 的/ 所有/ 全序/ 序列/ ,/ 从/ 得到/ 的/ 大量/ 候选/ 路线/ 中/ 挑出/ 最短/ 的/ 路径/ ,/ 对于/ 路线/ 查询处理/ 来说/ 代价/ 很/ 高/ ./ 此外/ ,/ 旅行/ 商/ (/ TSP/ )/ 问题/ 可以/ 看作/ 是/ 路网/ 环境/ 下/ 访问/ 序列/ 受限/ 的/ 多/ tag/ 路线/ (/ MTROC/ )/ 查询/ 问题/ 的/ 特例/ ,/ 所以/ MTROC/ 查询/ 问题/ 是/ NP/ -/ hard/ (/ 详细/ 证明/ 见/ 第/ 4/ 节/ )/ ./ 为了/ 回答/ 该/ 查询/ ,/ 本文/ 提出/ 了/ 3/ 种/ 近似算法/ ./ 本文/ 的/ 主要/ 贡献/ 在于/ :/ (/ 1/ )/ 定义/ 了/ 一种/ 路网/ 环境/ 下/ 访问/ 序列/ 受限/ 的/ 多/ tag/ 路线/ (/ MTROC/ )/ 查询/ ,/ 并/ 证明/ MTROC/ 查询/ 问题/ 是/ NP/ -/ hard/ ./ (/ 2/ )/ 采用/ 哈斯/ 图/ 表示/ 序列/ 约束/ 集/ ,/ 利用/ 拓扑/ 排序/ 将/ 约束/ 关系/ 和/ 查询/ 算法/ 相结合/ 处理/ MTROC/ 查询/ ./ (/ 3/ )/ 为了/ 回答/ MTROC/ 查询/ ,/ 首先/ 提出/ 两种/ 局部/ 算法/ ,/ 路线/ 扩展/ RE/ -/ Greedy/ 算法/ 和/ 路线/ 渐增/ 插入/ RII/ -/ Greedy/ 算法/ ./ 由于/ 局部/ 算法/ 在/ 构建/ 路线/ 的/ 过程/ 中/ ,/ 仅/ 考虑/ 对/ 其中/ 某/ 一段/ 路线/ 的/ 影响/ ,/ 为此/ 提出/ 了/ 一种/ 全局/ 路线/ 优化/ 算法/ GROA/ ./ (/ 4/ )/ 采用/ 真实/ 和/ 合成/ 数据/ 集对/ 提出/ 的/ 算法/ 进行/ 充分/ 的/ 实验/ 评估/ ,/ 实验/ 结果表明/ 3/ 种/ 算法/ 都/ 能/ 有效/ 地/ 完成/ MTROC/ 查询/ ,/ 其中/ 算法/ GROA/ 可扩展性/ 最好/ ,/ 而/ RII/ -/ Greedy/ 算法/ 返回/ 的/ 路线/ 质量/ 最高/ ./ Page3/ 本文/ 第/ 2/ 节对/ MTROC/ 查询/ 进行/ 形式化/ 定义/ ;/ 第/ 3/ 节/ 介绍/ 一种/ 增强/ 的/ 路线/ 叠置/ -/ 关联/ 目录索引/ EROAD/ ;/ 第/ 4/ 节/ 详细/ 阐述/ 3/ 种/ 查询处理/ 策略/ ;/ 第/ 5/ 节/ 通过/ 实验/ 对/ 算法/ 进行/ 评估/ ,/ 并/ 对/ 结果/ 进行/ 详细/ 的/ 对比/ 分析/ ;/ 第/ 6/ 节对/ 全文/ 进行/ 总结/ 并/ 对/ 未来/ 研究/ 工作/ 进行/ 展望/ ./ 2/ 问题/ 描述/ 形式/ 上/ ,/ 空间数据/ 集/ D/ 是/ 由/ 路网/ 中/ 的/ 空间/ 对象/ 组成/ ./ D/ 中/ 的/ 每/ 一个/ 对象/ o/ 用/ 〈/ p/ ,/ t/ 〉/ 表示/ ,/ p/ 代表/ 对象/ o/ 的/ 位置/ ;/ t/ 是/ o/ 对应/ 的/ tag/ 描述/ 集合/ ./ 路网/ 用无向/ 图/ G/ (/ N/ ,/ E/ )/ 表示/ ,/ N/ 是/ 节点/ ni/ (/ 交叉口/ )/ 的/ 集合/ ;/ E/ 表示/ 任意/ 两/ 节点/ ni/ 、/ nj/ 链接/ 边/ 的/ 集合/ ./ 两/ 节点/ 之间/ 的/ 距离/ dist/ (/ ni/ ,/ nj/ )/ 是/ ni/ 到/ nj/ 之间/ 的/ 最/ 短路/ 网/ 距离/ ,/ 采用/ 经典/ 的/ Dijkstra/ 算法/ 计算/ ./ MTROC/ 查询/ 采用/ 一个/ 四元组/ Q/ =/ {/ s/ ,/ e/ ,/ Ψ/ ,/ Θ/ }/ 表示/ ,/ 其中/ s/ 和/ e/ 表示/ 用户/ 给定/ 源点/ 和/ 目标/ 点/ ;/ Ψ/ 表示/ 查询/ tag/ 集/ {/ φ/ 1/ ,/ φ/ 2/ ,/ …/ ,/ φ/ m/ }/ ;/ φ/ i/ 表示/ 第/ i/ 个/ 查询/ tag/ ;/ Θ/ 表示/ 有效/ 的/ 序列/ 约束/ 集合/ ./ 定义/ 1/ ./ 序列/ 约束/ ./ 一条/ 序列/ 约束/ 是/ 一个/ 查询/ tag/ 对/ (/ φ/ i/ ,/ φ/ j/ )/ ,/ 它/ 表示/ 用户/ 必须/ 在/ 访问/ 完/ 一个/ 匹配/ φ/ i/ 的/ 对象/ 之后/ 才能/ 到达/ 匹配/ φ/ j/ 的/ 对象/ ,/ 也/ 就是/ φ/ i/ 是/ φ/ j/ 的/ 直接/ 前驱/ ,/ φ/ j/ 是/ φ/ i/ 的/ 直接/ 后继/ ,/ 记/ 为/ φ/ i/ / φ/ j/ ./ 为了/ 找到/ 满足/ 需求/ 的/ 路径/ ,/ 将/ 序列/ 约束/ 集合/ Θ/ 表示/ 成/ 一个/ 哈斯/ 图/ Η/ Θ/ φ/ i/ ,/ 有/ 向/ 边/ 表示/ 节点/ 间/ 的/ 序列/ 约束/ 〈/ φ/ i/ ,/ φ/ j/ 〉/ ./ Θ/ 是/ 有效/ 的/ 序列/ 约束/ 集合/ 当且/ 仅/ 当/ Η/ Θ/ 是/ 一个/ 有/ 向/ 无/ 环图/ ./ 而/ 如果/ Η/ Θ/ 存在/ 环/ ,/ 则/ 不/ 可能/ 找出/ 满足/ Θ/ 的/ 路线/ ,/ 因为/ 两个/ 查询/ tag/ 是/ 彼此/ 的/ 前序/ 的/ 情况/ 是/ 不/ 成立/ 的/ ./ 当/ 存在/ 一条/ 哈密顿/ 通路/ 时/ ,/ Θ/ 中/ 的/ 查询/ tag/ 是/ 全序/ 关系/ ./ 定义/ 2/ ./ 候选/ 路线/ ./ 给定/ 查询/ Q/ {/ s/ ,/ e/ ,/ Ψ/ ,/ Θ/ }/ ,/ 路径/ r/ =/ {/ s/ ,/ ox1/ ,/ ox2/ ,/ …/ ,/ oxk/ ,/ e/ }/ (/ oxi/ ∈/ D/ ,/ k/ / m/ )/ 是/ 一条/ 候选/ 路线/ 当且/ 仅/ 当/ 对于/ 任意/ 查询/ tag/ φ/ j/ ,/ 至少/ 存在/ 一个/ 空间/ 对象/ oxi/ ∈/ D/ 满足/ φ/ j/ ∈/ oxi/ ./ t/ ,/ 而且/ 路线/ r/ 中/ 对象/ 的/ 访问/ 顺序/ 满足/ 序列/ 约束/ 集合/ Θ/ ./ 所有/ 的/ 候选/ 路线/ 集合/ 记/ 为/ / ./ 可以/ 看出/ 路线/ r/ 是/ 任意/ 两个/ 连续/ 的/ 对象/ 点/ 通过/ 最短/ 路径/ 链接/ 起来/ 的/ ,/ 因此/ 路线/ r/ 的/ 长度/ L/ (/ r/ )/ =/ dist/ (/ s/ ,/ ox1/ )/ +/ ∑/ k/ -/ 1/ 定义/ 3/ ./ MTROC/ 查询/ ./ 访问/ 序列/ 受限/ 的/ 多/ tag/ 路线/ (/ MTROC/ )/ 查询/ Q/ {/ s/ ,/ e/ ,/ Ψ/ ,/ Θ/ }/ 是从/ 候选/ 路线/ 集合/ / 中/ 找出/ 一条/ 最佳/ 路线/ r/ / ,/ 使得/ 长度/ 最短/ ,/ 匹配/ 查询/ tag/ 集/ Ψ/ ,/ 并/ 满足/ 序列/ 约束/ Θ/ ,/ 即/ r/ / =/ argminr/ ∈/ / 3/ 增强/ 的/ 路线/ 叠置/ -/ 关联/ 目录索引/ 为了/ 有效/ 地/ 回答/ MTROC/ 查询/ ,/ 搜索/ 出/ 满足用户/ 需求/ 的/ 最佳/ 路线/ ,/ 本/ 节/ 构造/ 一种/ 增强/ 的/ 路线/ 叠置/ -/ 关联/ 目录/ (/ EROAD/ )/ 索引/ 结构/ 方便/ 查询处理/ ./ 它/ 基于/ 可/ 扩展/ 区域/ 子网/ 分层/ 结构/ [/ 11/ ]/ (/ 如图/ 2/ 所示/ )/ ,/ 将/ 路网/ 数据/ 和/ 空间/ 对象/ 分开/ 存储/ ,/ 并/ 对/ 该/ 结构/ 进行/ 必要/ 的/ 调整/ ,/ 使/ 其/ 适合/ 本文/ 提出/ 的/ 查询/ 算法/ ./ EROAD/ 采用/ 几何/ 方法/ [/ 12/ -/ 13/ ]/ 和/ Kernighan/ -/ Lin/ 算法/ [/ 14/ ]/ 对/ 整个/ 路网/ 按/ 层次/ 进行/ 划分/ ,/ 每/ 一层/ 由/ 相互连接/ 的/ 区域/ 子网/ 组成/ ./ 在/ 图/ 2/ 中/ ,/ 首先/ 路网/ 空间/ N/ 被/ 划分/ 为/ 两个/ 区域/ 子网/ R1/ 和/ R2/ ,/ 每/ 一个/ Ri/ 又/ 被/ 划分/ 为/ 两个/ 更/ 小/ 的/ 区域/ 子网/ Ria/ 和/ Rib/ ,/ 子网/ 之间/ 公有/ 的/ 节点/ (/ 比如/ n1/ ,/ n2/ ,/ n3/ ,/ n4/ )/ 为/ 边界/ 节点/ ./ 然后/ 以自/ 底向上/ 的/ 方式/ 构造/ 区域/ 子网/ 的/ 对象/ 摘要/ (/ Objectabstract/ )/ 和/ 它们/ 之间/ 的/ 捷径/ (/ Shortcut/ )/ ./ 对象/ 摘要/ 包括/ 两/ 部分/ :/ 包含/ 在/ 区域/ 子网/ 中/ 的/ 对象/ 集合/ 和/ 对应/ 的/ tag/ 概要/ 信息/ ./ 上层/ 子网/ 的/ 对象/ 摘要/ 是/ 下层/ 孩子/ 摘要/ 的/ 并/ 集/ ,/ 捷径/ 是/ 区域/ 子网/ 边界点/ 之间/ 的/ 最/ 短/ 路径/ ./ 而/ 对于/ 那些/ 不/ 包含/ 任何/ 空间/ 对象/ 的/ 区域/ 子网/ ,/ 在/ 遍历/ 的/ 过程/ 中/ 可以/ 直接/ 剪掉/ ./ 为了/ 实现/ 该/ 结构/ ,/ 采取/ 路线/ 叠置/ (/ RouteOver/ -/ lay/ ,/ RO/ )/ 和/ 关联/ 目录/ (/ AssociationDirectory/ ,/ AD/ )/ 分别/ 索引/ 存储/ 路网/ 数据/ 和/ 空间/ 对象/ ./ 路线/ 叠置/ 利用/ B/ +/ 树对/ 路网/ 节点/ 进行/ 索引/ ,/ 其/ 键值/ 为/ 节点/ ID/ ,/ 每/ 一个/ 叶子/ 项/ 指向/ 一个/ 路网/ 节点/ 以及/ 对应/ 的/ 捷径/ 树/ ,/ 如图/ 3/ 所示/ ./ 非/ 边界/ 节点/ (/ 比如/ s/ )/ 的/ 捷径/ 树/ 只有/ 一项/ ,/ 存储/ 该/ 节点/ 到/ 其/ 邻近/ 节点/ 的/ 边/ 以及/ 长度/ (/ 比如/ (/ s/ ,/ n1/ )/ ,/ (/ s/ ,/ na/ )/ )/ ;/ 而/ 边界/ 节点/ (/ 比如/ n2/ )/ 的/ 捷径/ 树/ 按照/ 该点/ 所在区域/ 子网/ 的/ 层次/ 进行/ 构造/ ,/ 该树非/ 叶子/ 节点/ 存储/ Page4/ 同/ 一层/ 包含/ 该/ 节点/ 的/ 区域/ 子网/ (/ 比如/ R1b/ ,/ R2a/ )/ 以及/ 每个/ 子网/ 的/ 捷径/ 边/ (/ 比如/ S/ (/ n2/ ,/ n1/ )/ ,/ S/ (/ n2/ ,/ n4/ )/ )/ ,/ 叶子/ 节点/ 存储/ 到/ 它/ 邻近/ 节点/ 的/ 边/ (/ 比如/ (/ n2/ ,/ nb/ )/ ,/ (/ n2/ ,/ nf/ )/ ,/ (/ n2/ ,/ ng/ )/ )/ ./ 对于/ MTROC/ 查询/ ,/ 需要/ 不断/ 地/ 更新/ 当前/ 查询/ 点/ s/ ,/ 所以/ 与/ s/ 相邻/ 的/ 节点/ 对应/ 的/ 捷径/ 树/ 需要/ 更新/ ,/ 只/ 需/ 在/ 该点/ 捷径/ 树/ 的/ 底层/ 添加/ 一条/ 边/ 即可/ ./ 关联/ 目录/ 作为/ 对象/ 查找/ 结构/ ,/ 采用/ B/ +/ 树对/ 空间/ 对象/ 进行/ 索引/ ,/ 如图/ 4/ 所示/ ./ 键值/ 为/ 节点/ 的/ ID/ ,/ 叶子/ 节点/ 包含/ 路网/ 节点/ 和/ 区域/ 子网/ 两类/ ./ 若为/ 路网/ 节点/ ,/ 存储/ 两项/ 额外/ 信息/ :/ (/ 1/ )/ 与/ 该/ 节点/ 相邻/ 的/ 对象/ 的/ 距离/ 信息/ ;/ (/ 2/ )/ 与/ 该/ 节点/ 相邻/ 对象/ 的/ tag/ 描述/ 信息/ ,/ 采用/ 签名文件/ [/ 15/ ]/ 存储/ ./ 而/ 区域/ 子网/ 节点/ 存储/ 其/ 对象/ 摘要/ ,/ 其/ tag/ 概要/ 信息/ 是/ 该/ 区域/ 子网/ 包含/ 的/ 所有/ 对象/ tag/ 签名文件/ 的/ 叠加/ ./ 如果/ 查询/ tag/ 的/ 签名文件/ 与/ 对象/ 或者/ 区域/ 子网/ 对应/ 的/ 签名文件/ 不/ 匹配/ ,/ 可以/ 直接/ 剪掉/ 该/ 区域/ 子/ 空间/ ./ 4/ 查询处理/ 算法/ 题/ 是/ NP/ -/ hard/ 问题/ ./ 在/ 分析/ 和/ 提出/ 解决方案/ 之前/ ,/ 给出/ 以下/ 结论/ ./ 定理/ 1/ ./ 访问/ 序列/ 受限/ 的/ 多/ 标签/ 路线/ 查询/ 问/ 证明/ ./ 经典/ 的/ 旅行/ 商/ 问题/ (/ TSP/ )/ 是/ NP/ -/ Com/ -/ plete/ 问题/ [/ 16/ -/ 17/ ]/ ./ 为了/ 证明/ 访问/ 序列/ 受限/ 的/ 多/ tag/ 路线/ 查询/ 问题/ 是/ NP/ -/ hard/ ,/ 需要/ 构造/ 一个/ 多项式/ 转化/ 将/ TSP/ 问题/ 规约/ 到/ 本文/ 提出/ 的/ 问题/ ./ 其中/ 查询/ tag/ 集合/ 为/ {/ φ/ 1/ ,/ φ/ 2/ ,/ …/ ,/ φ/ m/ }/ ,/ 每/ 一个/ tag/ 都/ 和/ 一个/ 空间/ 对象/ 集合/ 相关联/ ,/ 假设/ 路线/ 中/ 的/ 每/ 一个/ 空间/ 对象/ 唯一/ 地/ 匹配/ 查询/ 集合/ 中/ 的/ tag/ φ/ i/ ,/ 那么/ TSP/ 问题/ 可以/ 看作/ 是/ 访问/ 序列/ 受限/ 的/ 多/ tag/ 路线/ 查询/ 问题/ 中/ 始点/ s/ 等于/ 终点/ e/ ,/ 并且/ 序列/ 约束/ 为空/ 的/ 情况/ ./ 由此/ 可以/ 得出/ ,/ 访问/ 序列/ 受限/ 的/ 多/ tag/ 路线/ 查询/ 问题/ 是/ NP/ -/ hard/ 问题/ ./ 可以/ 看出/ ,/ 不/ 存在/ 多项式/ 时间/ 的/ 算法/ 处理/ MTROC/ 查询/ ,/ 因此/ 本/ 节/ 提出/ 了/ 两种/ 局部/ 贪婪/ 算法/ 和/ 一种/ 全局/ 优化/ 算法/ ./ 4.1/ 局部/ 贪婪/ 算法/ 在/ 这/ 一部分/ ,/ 提出/ 两种/ 不同/ 的/ 局部/ 算法/ 回答/ MTROC/ 查询/ ./ 首先/ 介绍/ 算法/ 中/ 使用/ 的/ 一些/ 符号/ :/ qt/ (/ o/ )/ 表示/ 对象/ o/ 对应/ 的/ 查询/ tag/ ;/ sig/ (/ ti/ )/ 表示/ tagti/ 的/ 签名文件/ ;/ Po/ (/ ti/ )/ 表示/ 包含/ tagti/ 的/ 空间/ 对象/ 集合/ ;/ PRj/ (/ ti/ )/ 表示/ 第/ j/ 层/ 匹配/ ti/ 的/ 区域/ 子网/ 集合/ ,/ R/ (/ oi/ )/ 表示/ 包含/ 对象/ oi/ 的/ 区域/ 子网/ ,/ Po/ (/ ti/ )/ 、/ PRj/ (/ ti/ )/ 和/ R/ (/ oi/ )/ 通过/ 遍历/ 关联/ 目录索引/ 得到/ ./ 为了/ 降低/ 路线/ r/ 中/ 最/ 短距离/ 的/ 计算/ 代价/ ,/ 减少/ 查询处理/ 中/ 精确/ 路网/ 距离/ 的/ 计算/ 次数/ ,/ 本/ 节/ 利用/ 路线/ 长度/ 下/ 边界/ dist/ -/ (/ r/ )/ 和/ 路线/ 长度/ 上/ 边界/ dist/ +/ (/ r/ )/ 估计/ 路线/ r/ 的/ 长度/ ,/ 仅当/ 路线/ r/ 变成/ 候选/ 结果/ 时/ 再/ 计算/ 其/ 精确/ 的/ 路网/ 距离/ ,/ 由于/ 在/ 索引/ 结构/ 中/ 边界点/ 之间/ 的/ 距离/ 已知/ ,/ 路线/ 准确/ 距离/ 只/ 需/ 计算/ 出/ 对象/ 到/ 所在区域/ 子网/ 的/ 边界点/ 距离/ 即可/ 得到/ ./ 路线/ 中/ 任意/ 两个/ 对象/ 之间/ 距离/ 下/ 边界/ 和/ 上/ 边界/ 的/ 定义/ 如下/ ./ 定义/ 4/ ./ 距离/ 边界/ dist/ -/ ,/ dist/ +./ 给定/ 路线/ r/ 中/ 任意/ 两个/ 点/ oi/ 和/ oj/ ,/ 假设/ 包含/ oi/ 和/ oj/ 的/ 最底层/ 的/ 区域/ 子网/ 分别/ 为/ Rma/ (/ nf1/ ,/ nf2/ )/ 和/ Rmb/ (/ ng1/ ,/ ng2/ )/ ,/ 其中/ m/ 表示/ 区域/ 子网/ 所在/ 的/ 层次/ ,/ nf1/ ,/ nf2/ 为/ Rma/ 的/ 左/ 边界/ 节点/ 和/ 右/ 边界/ 节点/ ,/ ng1/ ,/ ng2/ 为/ Rnb/ 的/ 左/ 边界点/ 和/ 右/ 边界点/ ./ 因此/ 下/ 边界/ 距离/ dist/ -/ (/ oi/ ,/ oj/ )/ =/ dist/ (/ nf2/ ,/ ng1/ )/ ,/ 上/ 边界/ 距离/ dist/ +/ (/ oi/ ,/ oj/ )/ =/ dist/ (/ nf1/ ,/ ng2/ )/ ./ 4.1/ ./ 1/ 路线/ 扩展/ RE/ -/ Greedy/ 算法/ 路线/ 扩展/ 算法/ 是/ 一种/ 发现/ 最/ 短路线/ 的/ 启发式/ 算法/ ./ 给定/ 一个/ 查询/ Q/ {/ s/ ,/ e/ ,/ Ψ/ ,/ Θ/ }/ ,/ 该/ 算法/ 首先/ 通过/ 对/ 哈斯/ 图/ Η/ Θ/ 进行/ 拓扑/ 排序/ [/ 18/ ]/ ,/ 获得/ 入度/ 为/ 0/ 的/ tag/ 集合/ Δ/ zero/ ./ 然后/ 渐增/ 地向/ 部分/ 候选/ 路径/ r/ (/ s/ ,/ ox1/ ,/ …/ ,/ oxl/ ,/ e/ )/ (/ l/ </ m/ )/ 的/ 最后/ 一段/ 线段/ 中/ 添加/ 对象/ o/ ,/ 使得/ o/ 的/ tag/ 描述/ 与/ Δ/ zero/ 中/ 的/ 某个/ 查询/ tag/ φ/ i/ 相匹配/ ,/ 即/ sig/ (/ φ/ i/ )/ &/ sig/ (/ o/ )/ =/ sig/ (/ φ/ i/ )/ ,/ 并且/ 插入/ 对象/ o/ 后/ 线段/ (/ oxl/ ,/ e/ )/ 长度/ 变化/ 最小/ ,/ 即/ o/ =/ argmino/ ∈/ Po/ (/ Δ/ zero/ )/ {/ dist/ (/ oxl/ ,/ o/ )/ +/ dist/ (/ o/ ,/ t/ )/ }/ ./ 由于/ 向/ 候选/ 路径/ 中/ 每/ 添加/ 一个/ 对象/ ,/ 都/ Page5/ 需要/ |/ Po/ (/ Δ/ zero/ )/ |/ 次/ 线段/ 长度/ 的/ 计算/ ,/ 为了/ 降低/ 计算/ 代价/ ,/ 给出/ 以下/ 定理/ ./ 定理/ 2/ ./ 给定/ 两个/ 对象/ oi/ 和/ oj/ ,/ oi/ 和/ oj/ 均/ 与/ Δ/ zero/ 中/ 的/ 某个/ tag/ 匹配/ ,/ 如果/ 则/ oi/ 不/ 可能/ 被/ 添加/ 到/ 候选/ 路径/ Cr/ 中/ ./ 证明/ ./ 由于/ dist/ (/ oxl/ ,/ oj/ ,/ e/ )/ </ dist/ +/ (/ oxl/ ,/ oj/ ,/ e/ )/ ,/ dist/ (/ oxl/ ,/ oi/ ,/ e/ )/ >/ dist/ -/ (/ oxl/ ,/ oi/ ,/ e/ )/ ,/ 根据/ 条件/ dist/ -/ (/ oxl/ ,/ oi/ ,/ e/ )/ / dist/ +/ (/ oxl/ ,/ oj/ ,/ e/ )/ ,/ 显然/ ,/ dist/ (/ oxl/ ,/ oi/ ,/ e/ )/ >/ dist/ (/ oxl/ ,/ oj/ ,/ e/ )/ ,/ 故/ oi/ 不/ 可能/ 添加/ 至/ Cr/ 中/ ./ 算法/ 1/ ./ 路线/ 扩展/ RE/ -/ Greedy/ 算法/ ./ 输入/ :/ MTROC/ 查询/ Q/ {/ s/ ,/ e/ ,/ Ψ/ ,/ Θ/ }/ ,/ 输出/ :/ 满足/ 序列/ 约束/ Θ/ 且/ 匹配/ 查询/ tag/ 集合/ Ψ/ 的/ 最/ 短/ 1/ ./ r/ ←/ {/ s/ ,/ e/ }/ ;/ cur/ _/ q/ ←/ s/ ;/ 2/ ./ buildHasseDiagram/ Η/ Θ/ using/ Ψ/ and/ Θ/ ;/ 3/ ./ Δ/ zero/ ←/ tagswithindegree/ =/ 0in/ Η/ Θ/ ;/ 4/ ./ while/ Δ/ zero/ ≠/ / do5/ ./ foreachtagti/ ∈/ Δ/ zerodo6/ ./ searchAD/ (/ sig/ (/ ti/ )/ )/ ;/ 7/ ./ Po/ (/ ti/ )/ ←/ {/ o/ |/ sig/ (/ o/ )/ &/ sig/ (/ ti/ )/ =/ sig/ (/ ti/ )/ }/ ;/ 8/ ./ PR/ (/ ti/ )/ ←/ {/ R/ |/ sig/ (/ R/ )/ &/ sig/ (/ ti/ )/ =/ sig/ (/ ti/ )/ }/ ;/ 9/ ./ P/ (/ Δ/ zero/ )/ ←/ ∪/ iPo/ (/ ti/ )/ ;/ 10/ ./ randomlyselectanobjectoj/ ;/ 11/ ./ U/ ./ enqueue/ (/ oj/ ,/ dist/ (/ cur/ _/ q/ ,/ oj/ ,/ t/ )/ )/ ;/ 12/ ./ foreachobjectoinP/ (/ Δ/ zero/ )/ do13/ ./ if/ (/ dist/ -/ (/ cur/ _/ q/ ,/ o/ ,/ t/ )/ </ dist/ (/ cur/ _/ q/ ,/ oj/ ,/ t/ )/ )/ </ (/ dist/ +/ (/ cur/ _/ q/ ,/ o/ ,/ t/ )/ 14/ ./ U/ ./ enqueue/ (/ o/ ,/ dist/ (/ cur/ _/ q/ ,/ o/ ,/ t/ )/ )/ ;/ 15/ ./ elseifdist/ (/ cur/ _/ q/ ,/ oj/ ,/ t/ )/ )/ >/ (/ dist/ +/ (/ cur/ _/ q/ ,/ o/ ,/ t/ )/ 16/ ./ U/ ./ enqueue/ (/ o/ ,/ dist/ -/ (/ cur/ _/ q/ ,/ o/ ,/ t/ )/ )/ ;/ 17/ ./ Cur/ _/ best/ =/ U/ ./ dequeue/ (/ )/ ;/ r/ ←/ r/ ./ insert/ (/ Cur/ _/ best/ )/ ;/ 18/ ./ Cur/ _/ q/ =/ Cur/ _/ best/ ;/ updateRO/ ;/ 19/ ./ removetiformQ/ ./ Ψ/ and/ Δ/ zero/ ;/ 20/ ./ update/ Δ/ zero/ ;/ 21/ ./ returnr/ ./ 算法/ 1/ 给出/ 了/ 路线/ 扩展/ RE/ -/ Greedy/ 算法/ 的/ 处理过程/ ./ 首先/ ,/ 路线/ r/ 初始化/ 为/ {/ s/ ,/ e/ }/ ,/ 并/ 设置/ 当前/ 的/ 查询/ 点/ Cur/ _/ q/ 为/ s/ (/ 第/ 1/ 行/ )/ ./ 使用/ Ψ/ 和/ Θ/ 构造/ 哈斯/ 图/ Η/ Θ/ ,/ 并/ 得到/ Δ/ zero/ ,/ 将/ 不/ 在/ Θ/ 中/ 的/ tag/ 项/ 也/ 添加/ 到/ Δ/ zero/ 中/ (/ 2/ ~/ 3/ 行/ )/ ,/ 通过/ 遍历/ 关联/ 目录索引/ AD/ 得到/ 包含/ Δ/ zero/ 中/ tag/ 的/ 对象/ 和/ 区域/ 子网/ (/ 5/ ~/ 9/ 行/ )/ ./ 维护/ 一个/ 优先/ 队列/ U/ ,/ 对象/ 按/ dist/ -/ (/ cur/ _/ q/ ,/ o/ ,/ e/ )/ 递增/ 的/ 顺序存储/ ,/ 不/ 满足/ 定理/ 1/ 条件/ 的/ 节点/ 将/ 其下/ 边界/ 距离/ 值/ 更新/ 为/ 精确/ 值/ dist/ (/ cur/ _/ q/ ,/ o/ ,/ e/ )/ ,/ 上下/ 边界/ 距离/ 值/ 的/ 计算/ 通过/ 访问/ 路线/ 叠置/ 索引/ RO/ 得到/ (/ 12/ ~/ 16/ 行/ )/ ./ 每次/ 循环/ 都/ 可以/ 得到/ 一个/ 最优/ 的/ 对象/ 点/ cur/ _/ best/ ,/ 并/ 将/ 其/ 插入/ 到/ 路线/ r/ 中/ (/ 第/ 17/ 行/ )/ ./ 更新/ 路线/ 覆盖/ 索引/ RO/ 的/ 当前/ 查询/ 点为/ cur/ _/ best/ 以及/ 其/ 相邻/ 节点/ 对应/ 的/ 捷径/ 树/ ,/ 同时/ 采用/ 拓扑/ 排序/ 的/ 方法/ 更新/ Δ/ zero/ (/ 18/ ~/ 20/ 行/ )/ ./ 整个/ 过程/ 迭代/ 执行/ ,/ 当/ Δ/ zero/ 为/ 空时/ ,/ 满足用户/ 需求/ 的/ 最/ 短路线/ r/ 返回/ ./ 4.1/ ./ 2/ 路线/ 渐增/ 插入/ RII/ -/ Greedy/ 算法/ RE/ -/ Greedy/ 算法/ 每次/ 向/ 路线/ r/ 中/ 添加/ 新/ 对象/ 时/ ,/ 仅/ 考虑/ 对/ 当前/ 查询/ 点到/ 目标/ 点/ 线段/ 长度/ 的/ 影响/ ,/ 造成/ 路线/ 快速/ 达到目标/ 点/ ./ 但/ 在/ 很多/ 情况/ 下/ ,/ 当前/ 查询/ 点到/ 目标/ 点/ 那段/ 路线/ 可能/ 并/ 不是/ 对象/ 的/ 最佳/ 插入/ 位置/ ./ 因此/ ,/ 本/ 节/ 提出/ 一种/ 路线/ 渐增/ 插入/ RII/ -/ Greedy/ 算法/ ,/ 它/ 允许/ 将/ 匹配/ Δ/ zero/ 中/ 某个/ tag/ 的/ 对象/ 插入/ 到/ r/ 中/ 满足/ 序列/ 约束/ 的/ 任何/ 线段/ 中/ ./ 假设/ 一条/ 部分/ 候选/ 路线/ r/ =/ {/ s/ ,/ ox1/ ,/ …/ ,/ oxl/ ,/ e/ }/ ,/ 共/ l/ +/ 1/ 段/ ./ RII/ -/ Greedy/ 算法/ 每次/ 处理/ 一个/ 查询/ tag/ φ/ i/ ,/ 从/ Po/ (/ φ/ i/ )/ 中/ 挑选出/ 一个/ 对象/ o/ ,/ 并/ 将/ 其/ 插入/ 到/ 满足/ 限制/ 条件/ 线段/ 集合/ Seg/ Θ/ 的/ 某/ 一段/ 中/ ,/ 使得/ 添加/ o/ 后/ 对/ 该线/ 段长度/ 影响/ 最小/ ,/ (/ k/ ,/ o/ )/ =/ argmino/ ∈/ Po/ (/ / i/ )/ ∧/ k/ ∈/ Seg/ Θ/ 为了/ 确定/ 每个/ φ/ i/ 匹配/ 对象/ 的/ 插入/ 位置/ ,/ 需要/ 构造/ 一张/ Po/ (/ Ψ/ )/ 前序/ 表/ ,/ 表中/ 的/ 每一项/ Po/ (/ φ/ i/ )/ 记录/ 其/ 对应/ 的/ 前序/ 项/ ,/ 这些/ 前序/ 项/ 通过/ 遍历/ 哈斯/ 图/ H/ Θ/ 获得/ ,/ 假如/ φ/ i/ 的/ 序列/ 限制/ 为/ {/ φ/ 1/ / φ/ i/ ,/ φ/ 2/ / φ/ i/ }/ ,/ 那么/ Po/ (/ φ/ i/ )/ 的/ 前序/ 项为/ {/ Po/ (/ φ/ 1/ )/ ,/ Po/ (/ φ/ 2/ )/ }/ ./ 当/ 处理/ φ/ i/ 时/ ,/ 需要/ 检查/ Po/ (/ φ/ i/ )/ 对应/ 的/ 前序/ 项/ ,/ 找出/ ox1/ ∈/ Po/ (/ φ/ 1/ )/ 和/ ox2/ ∈/ Po/ (/ φ/ 2/ )/ 在/ 路线/ 中/ 位置/ 索引/ 最大/ 的/ 点/ ,/ 该点/ 之后/ 的/ 那些/ 线段/ 即/ 是/ Seg/ Θ/ ./ 当/ 路线/ r/ 成为/ 完整/ 路径/ 时/ ,/ 整个/ 迭代/ 过程/ 结束/ ,/ 最/ 短路线/ 返回/ ./ 与/ RE/ -/ Greedy/ 方法/ 相比/ ,/ 本/ 节/ 提出/ 的/ 算法/ 向/ r/ 中/ 插入/ 空间/ 对象/ 的/ 处理/ 方式/ 不同/ ,/ 需要/ 对/ 算法/ 1/ 中/ 4/ ~/ 16/ 行/ 的/ 代码/ 进行/ 如下/ 修改/ ,/ 由于/ 降低/ 计算/ 路线/ 精确/ 距离/ 的/ 方法/ 与/ 算法/ 1/ 相同/ ,/ 所以/ 不再/ 重复/ 给出/ ./ 替换算法/ 1/ 第/ 4/ ~/ 19/ 行/ 的/ 代码/ createapreordertablePOTby/ Η/ Θ/ ;/ foreachtag/ φ/ iin/ Δ/ zerodosearchforpreorderofPo/ (/ φ/ i/ )/ inPOT/ ;/ findSeg/ Θ/ (/ φ/ i/ )/ ;/ foreachobjectoinPo/ (/ φ/ i/ )/ dofindasegment/ (/ oxk/ -/ 1/ ,/ oxk/ )/ ofSeg/ Θ/ (/ φ/ i/ )/ suchthatinsertointo/ (/ oxk/ -/ 1/ ,/ oxk/ )/ ;/ min/ {/ dist/ (/ oxk/ -/ 1/ ,/ o/ )/ +/ dist/ (/ o/ ,/ oxk/ )/ }/ ;/ 4.2/ 全局/ 路线/ 优化/ 算法/ GROA/ 以上/ 提出/ 的/ 两种/ 局部/ 算法/ 在/ 寻找/ 最/ 短路线/ 过程/ Page6/ 中/ 只/ 考虑/ 对/ 某/ 一段/ 路线/ 的/ 影响/ ,/ 是/ 局部/ 最优/ 解/ ./ 本节/ 提出/ 一种/ 全局/ 路线/ 优化/ 算法/ GROA/ ,/ 每/ 一次/ 都/ 要/ 考虑/ 从/ 源点/ 经由/ 满足/ 需求/ 的/ 对象/ 点到/ 终点/ 的/ 路线/ 长度/ ./ GROA/ 算法/ 首先/ 找出/ 一条/ 满足/ 查询/ Q/ 相对/ 较/ 短/ 的/ 全局/ 候选/ 路线/ r/ ,/ 初始化/ 路线/ 长度/ 的/ 阈值/ Τ/ v/ 为/ r/ 的/ 长度/ L/ (/ r/ )/ ,/ 将/ 那些/ 到/ 当前/ 查询/ 点/ 距离/ 大于/ Τ/ v/ 的/ 对象/ 点/ 去掉/ ,/ 利用/ 序列/ 约束/ 依次/ 更新/ 路线/ r/ 中/ 经由/ 的/ 对象/ 点/ ,/ 直到/ 路线/ 长度/ 达到/ 最短/ ,/ 并/ 匹配/ 给定/ 的/ 查询/ tag/ 集合/ ./ 为了/ 找出/ 路线/ r/ ,/ 首先/ 对/ 每/ 一个/ 查询/ tag/ φ/ i/ ,/ 遍历/ 关联/ 目录索引/ 找出/ φ/ i/ 对应/ 的/ Po/ (/ φ/ i/ )/ ./ 然后/ 从/ 对应/ 的/ Po/ (/ φ/ i/ )/ 中/ 检索/ 出/ 一个/ 对象/ oxi/ 使得/ dist/ (/ s/ ,/ oxi/ )/ +/ dist/ (/ oxi/ ,/ e/ )/ 的/ 值/ 最小/ ,/ 得到/ 对象/ 集合/ O/ / {/ ox1/ ,/ …/ ,/ oxk/ }/ ./ 然后/ 每次/ 都/ 从/ O/ / 入度/ 为/ 0/ 的/ 对象/ 集合/ O/ / (/ Δ/ zero/ )/ 中/ 挑选出/ 离/ 当前/ 查询/ 点/ 最近/ 的/ 对象/ 插入/ 到/ r/ 中/ ./ 当/ Δ/ zero/ 为/ 空时/ ,/ 就/ 得到/ 了/ 路线/ r/ ./ 接下来/ 介绍/ 如何/ 利用/ r/ 和/ O/ / 获得/ 更/ 短/ 的/ 路线/ r/ ./ 由于/ MTROC/ 查询/ 访问/ 顺序/ 的/ 限制/ ,/ 造成/ 最/ 短路线/ 的/ 长度/ 随着/ 已/ 满足/ 的/ 查询/ tag/ 集/ 发生变化/ ./ 对/ 路线/ r/ 的/ 每次/ 更新/ ,/ 需要/ 找出/ 已/ 匹配/ 的/ 查询/ tag/ 集合/ / -/ sat/ Ψ/ 和/ 以/ / -/ sat/ Ψ/ 为/ 前缀/ 的/ 对象/ 集合/ OS/ ,/ 对于/ 每/ 一个/ 对象/ o/ ∈/ OS/ ,/ 需要/ 计算/ 出/ 从/ o/ 经由/ 尚未/ 匹配/ 的/ 查询/ tag/ 对象/ oxi/ ∈/ O/ / 到/ 目标/ 点/ e/ 的/ 距离/ ,/ 记为/ dist/ -/ e/ (/ o/ )/ ,/ 该/ 距离/ 通过/ 遍历/ 路线/ 覆盖/ 索引/ 得到/ ./ 如果/ 当前/ 路线/ r/ 的/ 长度/ 小于/ Τ/ v/ ,/ 则/ 更新/ 路线/ r/ 和/ 阈值/ Τ/ v/ ./ 为了/ 找出/ 以/ / -/ sat/ Ψ/ 为/ 前缀/ 的/ 对象/ 集合/ ,/ 为/ Po/ (/ Ψ/ )/ 中/ 的/ 对象/ 构建/ 一张/ 前缀/ -/ 距离/ 邻接/ 表/ PDL/ ,/ 表中/ 的/ 每一项/ 记录/ 对象/ o/ ∈/ Po/ (/ Ψ/ )/ 的/ 前缀/ 查询/ tag/ 序列/ 和/ 相应/ 的/ dist/ -/ e/ (/ o/ )/ 值/ ./ 假设/ 查询/ tag/ 集合/ 为/ {/ φ/ 1/ ,/ φ/ 2/ ,/ φ/ 3/ ,/ φ/ 4/ }/ ,/ 其/ 序列/ 约束/ 为/ {/ φ/ 1/ / φ/ 2/ ,/ φ/ 1/ / φ/ 3/ ,/ φ/ 2/ / φ/ 4/ ,/ φ/ 3/ / φ/ 4/ }/ ,/ 相应/ 的/ 哈斯/ 图/ 和/ 查询/ tag/ 对象/ 集如图/ 5/ 所示/ ./ 根据/ 拓扑/ 排序/ 方法/ [/ 18/ ]/ ,/ 得到/ 查询/ tag/ 的/ 全序集/ Γ/ (/ {/ φ/ 1/ ,/ φ/ 2/ ,/ φ/ 3/ ,/ φ/ 4/ }/ ,/ {/ φ/ 1/ ,/ φ/ 3/ ,/ φ/ 2/ ,/ φ/ 4/ }/ )/ ./ 其/ 前缀/ -/ 距离/ 邻近/ 表如表/ 1/ 所示/ ,/ 比如/ 对象/ o21/ 的/ 前缀/ 分别/ 为/ {/ φ/ 1/ }/ 和/ {/ φ/ 1/ ,/ φ/ 3/ }/ ,/ 从/ o21/ 到/ t/ 路线/ 有/ 两条/ :/ (/ 1/ )/ 经由/ 顺序/ (/ φ/ 2/ ,/ φ/ 3/ ,/ φ/ 4/ )/ 的/ 路线/ ,/ 距离/ 为/ dist/ (/ o21/ ,/ o31/ ,/ o41/ ,/ t/ )/ ;/ (/ 2/ )/ 经由/ 顺序/ (/ φ/ 2/ ,/ φ/ 4/ )/ 的/ 路线/ ,/ 距离/ 为/ dist/ (/ o21/ ,/ o41/ ,/ t/ )/ ./ 对象/ o/ 前序/ o21/ φ/ 1o22/ φ/ 1o31/ φ/ 1o41/ φ/ 1/ ,/ φ/ 2/ ,/ φ/ 3dist/ (/ o41/ ,/ t/ )/ 算法/ 2/ 描述/ 了/ 全局/ 路线/ 优化/ 算法/ GROA/ 处理/ 流程/ ./ 初始化/ 线路/ r/ =/ r/ =/ {/ s/ ,/ e/ }/ ,/ 构建/ 哈斯/ 图/ Η/ Θ/ 并/ 获得/ 拓扑/ 序列/ Γ/ (/ 1/ ~/ 3/ 行/ )/ ./ 按照/ Γ/ 找出/ 每个/ 对象/ 对应/ 的/ 查询/ tag/ 前缀/ 序列/ ,/ 并/ 通过/ 遍历/ 路线/ 覆盖/ 索引/ RO/ 得到/ dist/ -/ e/ (/ o/ )/ ,/ 从而/ 得到/ 前缀/ -/ 距离/ 邻近/ 表/ PDL/ (/ 第/ 4/ 行/ )/ ./ 首先/ 找出/ 全局/ 最/ 短路线/ r/ (/ 5/ ~/ 14/ 行/ )/ ,/ 然后/ 迭代/ 更新/ 获取/ 新/ 的/ 最/ 短路线/ r/ (/ 12/ ~/ 23/ 行/ )/ ./ 在/ 每/ 一次/ 循环/ 遍历/ 的/ 过程/ 中/ ,/ 从/ PDL/ 中/ 查找/ 前缀/ 为/ / -/ sat/ Ψ/ 的/ 链表/ 项/ ,/ 得到/ 相应/ 的/ 对象/ 集合/ OS/ ,/ 将/ OS/ 中/ dist/ (/ Cur/ _/ q/ ,/ o/ )/ +/ dist/ -/ e/ (/ o/ )/ 值/ 最小/ 的/ 对象/ o/ 插入/ r/ 中/ ,/ 如果/ 当前/ 路线/ r/ 的/ 长度/ L/ (/ r/ )/ </ 阈值/ Tv/ ,/ r/ 就/ 变成/ 当前/ 最短/ 的/ 路线/ (/ 16/ ~/ 22/ 行/ )/ ./ 当/ 所有/ 的/ 查询/ tag/ 均/ 匹配/ 时/ ,/ 最/ 短路线/ r/ 返回/ ./ 算法/ 2/ ./ 全局/ 路线/ 优化/ 算法/ GROA/ ./ 输入/ :/ MTROC/ 查询/ Q/ {/ s/ ,/ e/ ,/ Ψ/ ,/ Θ/ }/ ,/ Ψ/ =/ {/ φ/ 1/ ,/ …/ ,/ φ/ m/ }/ ,/ 输出/ :/ 满足/ 序列/ 约束/ Θ/ 且/ 匹配/ 查询/ tag/ 集合/ Ψ/ 最/ 短路线/ r1/ ./ r/ =/ {/ s/ ,/ e/ }/ ;/ r/ =/ {/ s/ ,/ e/ }/ ;/ Cur/ _/ q/ =/ s/ ;/ 2/ ./ buildHasseDiagram/ Η/ Θ/ using/ Ψ/ and/ Θ/ ;/ 3/ ./ Γ/ ←/ TopologicalSort/ (/ Η/ Θ/ )/ ;/ 4/ ./ createPrefix/ -/ DistanceadjacencylistPDLby/ Γ/ andRO5/ ./ forifrom1tomdo6/ ./ searchB/ +/ tree/ (/ AD/ ,/ sig/ (/ φ/ i/ )/ )/ ;/ 7/ ./ Po/ (/ φ/ i/ )/ ←/ {/ o/ |/ sig/ (/ o/ )/ &/ sig/ (/ φ/ i/ )/ =/ sig/ (/ φ/ i/ )/ }/ ;/ 8/ ./ findanobjectoxiinPo/ (/ φ/ i/ )/ suchthatmin/ (/ dist/ (/ s/ ,/ 9/ ./ O/ / ←/ ∪/ {/ oxi/ }/ ;/ 10/ ./ pickanobjectoxjinO/ / (/ Δ/ zero/ )/ withsmallest11/ ./ insertoxjintorandr/ ;/ 12/ ./ while/ Δ/ zero/ ≠/ / do13/ ./ o/ =/ NN/ (/ oxj/ ,/ O/ / (/ Δ/ zero/ )/ )/ ;/ 14/ ./ insertointor/ ;/ update/ Δ/ zeroandO/ / (/ Δ/ zero/ )/ ;/ 15/ ./ / -/ sat/ Ψ/ ←/ {/ qt/ (/ oxj/ )/ }/ ;/ Cur/ _/ q/ =/ oxj/ ;/ Τ/ v/ ←/ L/ (/ r/ )/ ;/ 16/ ./ while/ / -/ sat/ Ψ/ </ >/ Ψ/ do17/ ./ OS/ =/ {/ o/ |/ prefixofoisequalto/ / -/ sat/ Ψ/ inPDL/ }/ ;/ 18/ ./ findanobjectoinOSsuchthatargmin/ {/ dist/ (/ Cur/ _/ 19/ ./ L/ (/ r/ )/ =/ dist/ (/ s/ ,/ Cur/ _/ q/ )/ +/ dist/ (/ Cur/ _/ q/ ,/ o/ )/ +/ dist/ -/ e/ {/ o/ }/ ;/ 20/ ./ ifL/ (/ r/ )/ </ Τ/ vthen21/ ./ insertointor/ ;/ Cur/ _/ q/ =/ o/ ;/ Τ/ v/ ←/ L/ (/ r/ )/ ;/ 22/ ./ / -/ sat/ Ψ/ ←/ ∪/ {/ qt/ (/ o/ )/ }/ ;/ 23/ ./ returnr/ ./ Page75/ 实验/ 结果/ 与/ 分析/ 5.1/ 实验/ 设置/ 在/ 本节/ 中/ ,/ 通过/ 大量/ 的/ 实验/ 评估/ 本文/ 提出/ 的/ 3/ 种/ 算法/ RE/ -/ Greedy/ 、/ RII/ -/ Greddy/ 和/ GROA/ 的/ 有效性/ 和/ 可扩展性/ ,/ 并/ 进行/ 对比/ 分析/ ./ 所有/ 实验/ 采用/ Java/ 实现/ ,/ 运行/ 环境/ 为/ Intel/ ?/ Core/ / 2DuoCPUT7500/ @/ 2.66/ GHz/ 、/ 4GBRAM/ 和/ 运行/ 32/ 位/ 的/ Windows7/ 操作系统/ ./ 本文/ 使用/ 合成/ 和/ 真实/ 数据/ 集对/ 提出/ 的/ 算法/ 进行/ 评估/ ./ 首先/ 从/ DCW/ ①/ 获取/ 两个/ 城市/ 的/ 真实/ 路网/ 数据/ ,/ 分别/ 是/ Oldenburg/ (/ OL/ )/ 和/ California/ (/ CA/ )/ ,/ OL/ 包含/ 6150/ 个/ 节点/ 和/ 7035/ 条边/ ,/ CA/ 包含/ 21048/ 个/ 节点/ 和/ 22830/ 条边/ ./ 为了/ 产生/ 合成/ 数据/ 集/ OL/ ,/ 使用/ 空间/ 节点/ 生成器/ 随机/ 产生/ 100000/ 个/ 对象/ 点/ ,/ 将/ 其/ 均匀/ 地/ 分布/ 在/ 路网/ 边上/ ,/ 然后/ 从/ del/ ./ ic/ ./ ious/ ②/ 中/ 抽取/ 出/ 300000/ 个/ tag/ ,/ 与/ OL/ 中/ 的/ 空间/ 对象/ 组合/ 生成/ 合成/ 数据/ 集/ ./ 对于/ 真实/ 数据/ 集/ CA/ ,/ 从/ OpenStreet/ -/ Map/ ③/ 获得/ California/ (/ CA/ )/ 的/ 空间/ 对象/ (/ POI/ )/ 集合/ ,/ 包含/ 100000/ 个/ POI/ ,/ 每个/ POI/ 对应/ 有/ 2/ ~/ 5/ 个/ tag/ 图/ 6/ 查询/ tag/ 数/ 的/ 影响/ 查询/ tag/ 数对/ 算法/ 性能/ 的/ 影响/ ./ 该组/ 实验/ 测试/ 了/ 随着/ 查询/ tag/ 数/ 的/ 变化/ ,/ 3/ 种/ 算法/ 的/ 平均/ 运行/ 时间/ 和/ 路线/ 质量/ 的/ 变化/ 情况/ ,/ 实验/ 结果/ 如图/ 6/ 所示/ ./ 描述/ 信息/ ,/ 并/ 将/ POI/ 数据/ 集/ 和/ 路网/ 数据/ 合并/ ./ 随机/ 产生/ 5/ 个/ 查询/ 集/ ,/ 每个/ 查询/ 集/ 包含/ 50/ 个/ 查询/ ,/ 每个/ 查询/ 的/ 源点/ 和/ 目标/ 点/ 从/ 路网/ 数据/ 集/ 的/ 节点/ 中/ 随机/ 选择/ ,/ 查询/ tag/ 集合/ 从/ POI/ 数据/ 集中/ 对象/ 对应/ 的/ tag/ 集中/ 随机/ 挑选/ ,/ 分别/ 为/ 2/ ,/ 4/ ,/ 6/ ,/ 8/ ,/ 10/ ,/ 而/ 序列/ 约束/ 集合/ 由/ 查询/ tag/ 集合/ 随机/ 产生/ ./ 测试/ 过程/ 使用/ 的/ 参数/ 如表/ 2/ 所示/ ,/ 在/ 每/ 一组/ 实验/ 中/ ,/ 仅/ 变化/ 一个/ 参数/ 的/ 取值/ 而/ 其它/ 参数/ 取/ 缺省值/ ,/ 其中/ 受限/ 查询/ tag/ 比率/ PCT/ 表示/ 受到/ 约束/ 限制/ 的/ 查询/ tag/ 数占/ 总/ 的/ 查询/ tag/ 数/ 的/ 比率/ ./ 查询/ tag/ 数/ m2/ ,/ 4/ ,/ 6/ ,/ 8/ ,/ 10/ 受限/ tag/ 比率/ PCT0/ ./ 0/ ,/ 0.25/ ,/ 0.5/ ,/ 0.75/ ,/ 1.00/ ./ 5/ 数据/ 集/ 大小/ |/ D/ |/ 100000/ ~/ 10000001000005.2/ 查询/ 性能/ 分析/ 本/ 节/ 分别/ 在/ 真实/ 数据/ 集/ 和/ 合成/ 数据/ 集上/ 测试/ 了/ RE/ -/ Greedy/ 、/ RII/ -/ Greedy/ 和/ GROA/ 算法/ 的/ 有效性/ ,/ 并/ 对/ 可扩展性/ 进行/ 评估/ ,/ 采用/ 查询/ 平均/ 运行/ 时间/ 和/ 路线/ 质量/ 作为/ 评价/ 指标/ ,/ 路线/ 质量/ 采用/ 路线/ 长度/ 度量/ ./ 性能/ 测试/ 内容/ 包括/ 以下/ 3/ 个/ 方面/ ./ ①/ ②/ ③/ Page8/ 图/ 6/ (/ a/ )/ 和/ 6/ (/ b/ )/ 给出/ 了/ 查询/ tag/ 数/ 的/ 不同/ 取值/ 对/ 算法/ 平均/ 运行/ 时间/ 的/ 影响/ 情况/ ./ 可以/ 看出/ ,/ 3/ 种/ 算法/ 的/ 平均/ 运行/ 时间/ 随着/ 查询/ tag/ 数/ m/ 的/ 增大/ 而/ 增加/ ./ 因为/ 当/ m/ 变大时/ ,/ 为了/ 回答/ MTROC/ 查询/ 所有/ 的/ 算法/ 需要/ 访问/ 更/ 多/ 的/ 空间/ 对象/ 和/ 计算/ 更/ 多/ 的/ 路网/ 距离/ ./ 其中/ GROA/ 运行/ 效率/ 最高/ ,/ RE/ -/ Greedy/ 算法/ 次之/ ,/ RII/ -/ Greedy/ 算法/ 运行/ 时间/ 最长/ ./ 原因/ 在于/ 相对/ 于/ GROA/ 算法/ 而言/ ,/ RII/ -/ Greedy/ 算法/ 不仅/ 需要/ 访问/ 更/ 多/ 的/ 空间/ 对象/ ,/ 还/ 需要/ 寻找/ 最佳/ 的/ 插入/ 位置/ ./ 所有/ 算法/ 的/ 运行/ 时间/ 不/ 超过/ 0.36/ s/ ./ 图/ 6/ (/ c/ )/ 和/ 6/ (/ d/ )/ 给出/ 查询/ tag/ 数/ 的/ 变化/ 对/ 路线/ 质量/ 的/ 影响/ 情况/ ./ 可以/ 看出/ ,/ 随着/ 查询/ tag/ 数/ 的/ 增加/ ,/ 3/ 种/ 算法/ 的/ 路线/ 长度/ 都/ 随之/ 增加/ ,/ 这/ 是因为/ 需要/ 访问/ 更/ 多/ 的/ 空间/ 对象/ ./ RII/ -/ Greedy/ 算法/ 得到/ 的/ 路线/ 质量/ 最优/ ,/ 而/ GROA/ 优于/ RE/ -/ Greedy/ 算法/ ./ 受限/ 查询/ tag/ 比率/ PCT/ 对/ 算法/ 性能/ 的/ 影响/ ./ 该组/ 实验/ 的/ 目的/ 是/ 评估/ 受限/ 查询/ tag/ 率/ 变化/ 时/ ,/ 查询/ 算法/ 的/ 时间/ 代价/ 和/ 路线/ 质量/ ./ 如图/ 7/ 所示/ ./ 图/ 7/ (/ a/ )/ 图/ 7/ 受限/ 查询/ tag/ 率/ 的/ 影响/ 总的来说/ ,/ 当/ PCT/ / 0.5/ 时/ ,/ RII/ -/ Greedy/ 算法/ 的/ 时间/ 代价/ 略/ 高/ ,/ 最长/ 的/ 运行/ 时间/ 为/ 0.089/ s/ ,/ 但/ 路线/ 质量/ 始终/ 最好/ ,/ 因此/ 该/ 算法/ 的/ 整体/ 性能/ 较/ 高/ ,/ 适用/ 于/ 查询/ 序列/ 约束/ 较/ 多/ 的/ 情况/ ,/ 而/ 算法/ GROA/ 适合/ 于/ 对/ 查询/ 响应/ 时间/ 要求/ 较/ 高/ 的/ 情况/ ./ 空间/ 对象/ 数量/ 对/ 算法/ 的/ 影响/ ./ 该组/ 实验/ 通过/ 变化/ 空间/ 对象/ 数据/ 集/ 的/ 大小/ ,/ 在/ 合成/ 数据/ 集/ OL/ 上/ 对/ 本文/ 提出/ 的/ 3/ 种/ 算法/ 的/ 可扩展性/ 进行/ 评估/ ./ 数据/ 集/ 和/ (/ b/ )/ 给出/ 了/ 受限/ 查询/ tag/ 比率/ PCT/ 取/ 不同/ 值时/ ,/ 3/ 种/ 算法/ 的/ 时间/ 开销/ ./ 可以/ 看出/ ,/ 随着/ PCT/ 变大/ ,/ 算法/ 运行/ 时间/ 减少/ ./ 这/ 是因为/ 在/ 每次/ 迭代/ 循环/ 过程/ 中/ ,/ 一个/ 更/ 高/ 的/ PCT/ 值/ 减少/ 了/ 遍历/ 空间/ 对象/ 的/ 数目/ ,/ 降低/ 了/ 搜索/ 空间/ ./ 还/ 注意/ 到/ GROA/ 算法/ 的/ 运行/ 时间/ 最小/ ,/ 并且/ 变化/ 不太/ 明显/ ,/ 而/ 算法/ RE/ -/ Greedy/ 和/ RII/ -/ Greedy/ 的/ 运行/ 时间/ 急剧下降/ ./ 当/ PCT/ / 0.75/ 时/ ,/ 3/ 种/ 算法/ 的/ 运行/ 时间/ 相当/ ,/ 都/ 不/ 大于/ 0.04/ s/ ./ 图/ 7/ (/ c/ )/ 和/ 7/ (/ d/ )/ 给出/ 了/ PCT/ 不同/ 取值/ 对/ 路线/ 质量/ 的/ 影响/ 情况/ ./ 可以/ 看出/ ,/ 随着/ 受限/ tag/ 比率/ PCT/ 的/ 增加/ ,/ 路线/ 长度/ 增大/ ./ 这/ 是因为/ PCT/ 越大/ ,/ 序列/ 约束/ 限制/ 就/ 越/ 多/ ,/ 从而/ 造成/ 产生/ 的/ 路线/ 更长/ ./ 在/ 两个/ 数据/ 集上/ 的/ 测试/ RII/ -/ Greedy/ 算法/ 的/ 路线/ 质量/ 都/ 要/ 优于/ 其它/ 两种/ 算法/ ,/ 且/ 路线/ 长度/ 最短/ ./ 此外/ ,/ 可以/ 看到/ OL/ 数据/ 集/ 的/ 路线/ 长度/ 均/ 小于/ CA/ 数据/ 集/ 的/ 路线/ 长度/ ,/ 这/ 是因为/ OL/ 数据/ 集中/ 的/ 空间/ 对象/ 的/ 密度/ 较/ 高/ ,/ 分布/ 集中/ ,/ 而/ CA/ 数据/ 集/ 的/ 对象/ 分布/ 比较/ 稀疏/ ./ 大小/ 的/ 变化/ 范围/ 为/ 200000/ ~/ 1000000/ ,/ 空间/ 对象/ 采用/ 空间数据/ 产生器/ 随机/ 产生/ ./ 实验/ 结果/ 如图/ 8/ 所示/ ./ 从图/ 8/ (/ a/ )/ 和/ 8/ (/ b/ )/ 可以/ 看出/ ,/ 随着/ 空间/ 对象/ 数量/ 的/ 增加/ ,/ 所有/ 的/ 算法/ 的/ 平均/ 运行/ 时间/ 随之/ 增加/ ./ 其中/ GROA/ 的/ 可扩展性/ 明显/ 优于/ RE/ -/ Greedy/ 算法/ 和/ RII/ -/ Greedy/ 算法/ ./ 这/ 是因为/ 对象/ 个数/ 越/ 多/ ,/ 需要/ 计算/ 的/ 对象/ 的/ 空间/ 距离/ 就/ 越/ 多/ ./ 但/ 总体/ 上/ 看/ ,/ 所有/ 算法/ 最长/ 运行/ 时间/ 也/ 不/ 超过/ 2s/ ./ Page9/ 图/ 8/ 空间/ 对象/ 数据/ 集/ 大小/ 的/ 影响/ 6/ 结束语/ 本文/ 研究/ 了/ 路网/ 环境/ 下/ 访问/ 序列/ 受限/ 的/ 多/ 标签/ 路线/ (/ MTROC/ )/ 查询/ ./ 形式化/ 定义/ 了/ MTROC/ 查询/ 问题/ ,/ 并/ 依据/ 增强/ 的/ 路线/ 叠置/ -/ 关联/ 目录/ (/ EROAD/ )/ 索引/ 提出/ 了/ 3/ 种/ 查询处理/ 算法/ :/ 路线/ 扩展/ RE/ -/ Greedy/ 算法/ 和/ 路线/ 渐增/ 插入/ RII/ -/ Greedy/ 算法/ ./ 通过/ 对/ 路线/ 局部/ 更新/ 获得/ 满足用户/ 需求/ 的/ 线路/ ,/ 而/ 全局/ 路线/ 优化/ 算法/ GROA/ 提供/ 了/ 查询/ 的/ 全局/ 最优/ 近似/ 解/ ./ 本文/ 使用/ 真实/ 和/ 合成/ 数据/ 集对/ 提出/ 的/ 3/ 种/ 算法/ 性能/ 进行/ 分析/ 评估/ ,/ 实验/ 结果表明/ GROA/ 算法/ 的/ 时间/ 代价/ 和/ 可扩展性/ 要/ 优于/ RE/ -/ Greedy/ 和/ RII/ -/ Greedy/ 算法/ ,/ 但/ 返回/ 的/ 路线/ 质量/ 相对/ 较差/ ./ 而/ RII/ -/ Greedy/ 算法/ 查询/ 响应/ 时间/ 虽然/ 偏长/ ,/ 但/ 最坏/ 情况/ 也/ 不/ 超过/ 2s/ ,/ 而且/ 该/ 算法/ 可以/ 返回/ 高质量/ 的/ 最/ 短路线/ ./ 在/ 未来/ 的/ 工作/ 中/ ,/ 我们/ 把/ 工作/ 扩展/ 到/ 动态/ 路网/ 中/ ,/ 在/ 规划/ 路线/ 的/ 过程/ 中/ 考虑/ 实时/ 交通/ 信息/ (/ 比如/ 交通拥堵/ 、/ 访问/ 时间/ 等/ )/ ./ 此外/ ,/ 访问/ 序列/ 受限/ 的/ 多/ 标签/ 连续/ 路线/ 查询/ 也/ 是/ 一个/ 非常/ 有/ 挑战性/ 问题/ ./ 

