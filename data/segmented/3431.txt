Page1/ 基于/ 动态/ 时槽/ 的/ 车/ 联网/ 协助/ 下载/ 方法/ 研究/ 刘建航/ 1/ )/ ,/ 2/ )/ ,/ 3/ )/ 孙江明/ 4/ )/ 毕经平/ 1/ )/ 边永超/ 1/ )/ ,/ 2/ )/ 刘新宇/ 1/ )/ ,/ 2/ )/ 李/ 忠诚/ 1/ )/ 1/ )/ (/ 中国科学院计算技术研究所/ 北京/ 100190/ )/ 2/ )/ (/ 中国科学院/ 研究生院/ 北京/ 100049/ )/ 3/ )/ (/ 中国/ 石油大学/ 计算机/ 与/ 通信/ 工程学院/ 山东/ 青岛/ 266555/ )/ 4/ )/ (/ 中国科学院/ 深圳/ 先进/ 技术/ 研究院/ 广东/ 深圳/ 518055/ )/ 摘要/ 随着/ 人们/ 对/ 互联网/ 依赖性/ 的/ 日益/ 提高/ ,/ 人们/ 希望/ 随时随地/ 接入/ Internet/ ,/ 即使/ 在/ 行驶/ 中/ 的/ 汽车/ 里/ ./ 虽然/ 通过/ 3G/ 或/ 4G/ 网络/ 可以/ 达到/ 此/ 目标/ ,/ 但是/ 通过/ 路边/ 接入点/ AP/ (/ AccessPoint/ )/ 接入/ 互联网/ 具有/ 高带宽/ 低/ 延迟/ 的/ 特点/ ./ 该文/ 针对/ AP/ 通信/ 范围/ 有限/ 的/ 问题/ 提出/ 了/ 一套/ 适应/ 于/ 高速公路/ 场景/ 下/ ,/ 通过/ AP/ 接入点/ 以及/ 其它/ 车辆/ 进行/ 协助/ 下载/ 的/ 方法/ DSRelay/ ./ 使用/ 文中/ 提出/ 的/ 算法/ ,/ 移动用户/ 在/ 一个/ AP/ 区内/ 不能/ 完成/ 它/ 的/ 下载/ 任务/ 时/ ,/ 下/ 一个/ AP/ 点/ 计算/ 用户/ 和/ 注册/ 车辆/ 在/ AP/ 间/ 盲区/ (/ DarkArea/ ,/ DA/ )/ 中/ 的/ 相遇/ 时间/ 和/ 通信/ 时/ 长/ ,/ 选择/ 一组/ 协助/ 车辆/ 来/ 携带/ 用户/ 所/ 需/ 数据/ ./ 每辆/ 协助/ 车/ 在/ DA/ 中/ 不同/ 时间段/ 内/ 将/ 数据/ 传给/ 用户/ ,/ 从而/ 达到/ 利用/ DA/ 延伸/ 移动用户/ 的/ 下载/ 区域/ 的/ 目的/ ./ 同时/ ,/ 文中/ 对/ 车速/ 变化/ 带来/ 的/ 影响/ 进行/ 了/ 分析/ ,/ 并/ 提出/ 了/ 相应/ 解决方案/ ./ 作者/ 最后/ 对/ 该/ 方法/ 进行/ 了/ 仿真/ 实验/ ,/ 实验/ 结果表明/ 该/ 方法/ 显著/ 提高/ 了/ 下载/ 的/ 吞吐量/ ,/ 减少/ 了/ 间歇性/ 连接/ 带来/ 的/ 影响/ ./ 关键词/ 协助/ 下载/ ;/ 车/ 联网/ ;/ 动态/ 时槽/ ;/ 存储转发/ ;/ DTN/ ;/ 物/ 联网/ 1/ 引言/ 车/ 联网/ (/ VANET/ )/ 作为/ 物/ 联网/ 产业/ 的/ 一个/ 重要/ 分支/ 已经/ 成为/ 一个/ 研究/ 热点/ ./ 车/ 联网/ 本身/ 具有/ 拓扑/ 变化/ 频繁/ ,/ 移动/ 速度/ 快/ 的/ 特点/ ,/ 尤其/ 在/ 高速公路/ 场景/ 中/ ./ 但是/ 相比/ 于/ 其它/ 物/ 联网/ 分支/ ,/ 其/ 供电/ 能力/ 、/ 处理/ 能力/ 以及/ 存储/ 能力/ 都/ 不/ 受太大/ 的/ 限制/ ./ 汽车/ 作为/ 一个/ 节点/ ,/ 使用/ 移动/ 服务提供商/ 的/ 3G/ 或/ 4G/ 通信/ 网络/ 可以/ 方便/ 接入/ 互联网/ ,/ 但是/ 昂贵/ 的/ 费用/ 和/ 较差/ 的/ 服务质量/ 成为/ 制约/ 这种/ 接入/ 方式/ 发展/ 的/ 障碍/ ./ 随着/ 近些年/ 路边/ 接入点/ 的/ 大规模/ 部署/ ,/ 研究者/ 更/ 多/ 的/ 是/ 考虑/ 使用/ 802.11/ 标准/ 或是/ DSRC/ 技术/ 通过/ 将/ 汽车/ 联入/ 路边/ 基础设施/ (/ AP/ 接入点/ )/ 实现/ 与/ 互联网/ 的/ 信息/ 交互/ [/ 1/ ]/ ./ 然而/ 由于/ 汽车/ 快速/ 地/ 大/ 范围/ 地/ 移动/ 以及/ AP/ 的/ 通信/ 范围/ 有限/ ,/ 这种/ 接入/ 方式/ 的/ 缺点/ 是/ 在/ 两个/ AP/ 通信/ 范围/ 之间/ 存在/ 盲区/ DA/ (/ DarkArea/ )/ ,/ 从而/ 导致/ 了/ 间歇性/ 连接/ ./ 当/ 汽车/ 节点/ 在/ 一个/ AP/ 区域/ 不能/ 完成/ 下载/ 任务/ 时/ ,/ 只能/ 等待/ 下/ 一次/ 连入/ AP/ 后/ 再/ 进行/ 下载/ 工作/ ./ 这种/ 延迟/ 在/ 高速公路/ 中/ 尤其/ 严重/ ,/ 其/ AP/ 点/ 通常/ 设置/ 在/ 加油站/ 或/ 服务/ 区内/ ,/ 距离/ 较/ 远/ ,/ 一般/ 是/ 在/ 8/ ~/ 16km/ ./ 使用/ 802.11/ a/ // b/ // g/ // p/ ,/ AP/ 的/ 通信/ 范围/ 为/ 300/ ~/ 1300m/ ,/ 其中/ produc/ -/ tionphase/ 在/ 1km/ [/ 1/ ]/ ,/ 汽车/ 使用/ WLAN/ 接入/ Inter/ -/ net/ ,/ 将/ 有/ 7/ ~/ 15km/ 与/ 互联网/ 失去/ 联系/ ,/ 如果/ 汽车/ 行驶/ 速度/ 为/ 100km/ // h/ ,/ 则/ 在/ DA/ 中/ 的/ 运行/ 时间/ 为/ 5/ ~/ 10min/ ,/ 这种/ 延迟/ 是/ 很/ 难/ 让/ 人/ 接受/ 的/ ./ 另一方面/ ,/ 当/ 一辆车/ 刚刚/ 离开/ AP/ 区/ 并/ 提出/ 联网/ 请求/ ,/ 只能/ 等/ 5/ ~/ 10min/ 后/ 进入/ 下/ 一个/ AP/ 区域/ 内/ 才能/ 进行/ 相应/ 的/ 操作/ ./ 尽管/ Ott/ 等/ 人/ [/ 1/ ]/ 提出/ 了/ 在/ 车/ 联网/ 中用/ Disconnec/ -/ tionTolerant/ 方法/ 来/ 保持/ 连接/ ,/ 但是/ 无法/ 从根本上/ 降低/ 由于/ 间歇性/ 连接/ 而/ 产生/ 的/ 延迟/ ./ 正是/ 针对/ 高速公路/ 车辆/ 和/ 互联网/ 间歇性/ 连接/ 的/ 问题/ ,/ 本文/ 提出/ 了/ DSRelay/ ,/ 一种/ 基于/ 动态/ 时槽/ 的/ 汽车/ 网络/ 协作/ 下载/ 方法/ ,/ 图/ 1/ 展示/ 了/ 这种/ 方法/ 的/ 基本/ 思想/ ./ 当/ 车载/ 用户/ 需要/ 下载/ 数据/ 并且/ 刚好/ 在/ AP/ 的/ 通信/ 范围/ 内时/ ,/ 在/ t0/ 时刻/ 向/ AP1/ 提出/ 接入/ 请求/ ,/ AP1/ 接入/ Internet/ ,/ 查找/ 资源/ 并/ 下载/ 给/ 该/ 用户/ ,/ 如果/ AP1/ 根据/ 用户/ 车速/ 计算/ 出/ 指定/ 时间/ 内/ 无法/ 完成/ 全部/ 数据/ 下载/ ,/ 通知/ AP2/ 准备/ 协助/ 下载/ ./ AP2/ 收到/ 请求/ 后/ ,/ 根据/ 本文/ 提出/ 的/ 算法/ 选择/ 一组/ 协助/ 车辆/ 装载/ 用户/ 所/ 需/ 数据/ ./ 从图/ 中/ t2/ 时刻/ 用户/ 第一次/ 接触/ 到/ 协助/ 车/ 一直/ 到/ 用户/ 进入/ 到/ AP2/ 的/ 通信/ 范围/ ,/ 只要/ 遇到/ 协助/ 车辆/ ,/ 用户/ 就/ 可以/ 进行/ 数据/ 下载/ ./ 实际上/ ,/ 在/ AP1/ 和/ AP2/ 之间/ 的/ DA/ 根据/ 用户/ 和/ 每辆/ 协助/ 车/ 的/ 通信/ 时间/ 被/ 分为/ 不同/ 大小/ 的/ 时/ 槽/ ,/ 在/ 时/ 槽/ 中/ 接收/ 各/ 协助/ 车/ 携带/ 的/ 数据/ ./ 该/ 方法/ 与/ 其它/ 相关/ 研究/ 的/ 主要/ 区别/ 在于/ 本文/ 根据/ 用户/ 和/ 协助/ 车辆/ 相遇/ 时/ 的/ 通信/ 时长/ 将/ 两个/ AP/ 之间/ 的/ 通信/ 盲区/ 分成/ 不同/ 大小/ 的/ 时/ 槽/ (/ slot/ )/ ./ 如果/ 用户/ 在/ 一个/ AP/ 之内/ 无法/ 完成/ 下载/ 任务/ ,/ AP/ 根据/ 用户/ 和/ 其它/ 车辆/ 的/ 车速/ 计算/ 相遇/ 时刻/ 并/ 选取/ 一组/ 协助/ 车辆/ 携带/ 用户/ 所/ 需要/ 的/ 数据/ ,/ 在/ 其/ 相遇/ 时/ 传递/ 给/ 用户/ ./ 时槽/ 的/ 大小/ 就/ 由/ 协助/ 车辆/ 和/ 目标/ 车辆/ 的/ 通信/ 延迟/ 决定/ ./ 由于/ 不同/ 的/ 车辆/ 车速/ 不同/ ,/ 维持/ 通信/ 的/ 时间/ 也/ 不同/ ,/ 因此/ 通信/ 时槽/ 的/ 长度/ 并/ 不/ 固定/ ,/ 我们/ 称之为/ 动态/ 时槽/ ./ DSRelay/ 利用/ AP/ 间/ 的/ 通信/ 盲区/ 延伸/ 了/ 用户/ 的/ 下载/ 区域/ ,/ 从根本上/ 提高/ 了/ 下载/ 的/ 吞吐量/ ./ 我们/ 的/ 工作/ 主要/ 集中/ 在/ 协助/ 车辆/ 的/ 选取/ 算法/ ,/ 算法/ 根据/ AP/ 内/ 的/ 注册/ 车辆/ 的/ 车速/ 及/ 位置/ 机会/ 性/ 地/ 选取/ 一组/ 协助/ 车辆/ 携带/ 用户/ 所/ 需/ 信息/ ./ 算法/ 的/ 目标/ 是/ 所有/ 的/ 协助/ 车辆/ 能够/ 在/ 预定/ 的/ 时刻/ 和/ 地点/ 在/ 尽可能少/ 的/ 通信/ 碰撞/ 的/ 情况/ 下/ 将/ 数据/ 传递/ 给/ 用户/ ./ 由于/ 车速/ 受/ 诸多/ 因素/ 的/ 影响/ ,/ 预定/ 的/ 通信/ 区/ 可能/ 会/ 产生/ 重叠/ ,/ 本文/ 也/ 给出/ 了/ 由于/ 车速/ 变化/ 而/ 产生/ 的/ 通信/ 冲突/ 的/ 解决方案/ ./ 根据/ 相关/ 调研/ 结果/ ,/ 本文/ 是/ 第一次/ 提出/ 了/ 在/ 高速公路/ 场景/ 中/ 明确/ 划分/ DA/ 区/ 进行/ 协助/ 下载/ 的/ 方案/ ./ 仿真/ 结果表明/ ,/ 通过/ 该/ 算法/ 对/ DA/ 通信/ 区域/ 的/ 动态/ 划分/ 使得/ 下载/ 数据量/ 提高/ 60/ %/ 以上/ ./ 本文/ 第/ 2/ 节为/ 目前/ 相关/ 研究/ 工作/ ;/ 第/ 3/ 节/ 详细/ 阐述/ 本文/ 的/ 主要/ 工作/ ;/ 第/ 4/ 节/ 讨论/ 模拟实验/ 的/ 结果/ ,/ 验证/ 此/ 方法/ 的/ 有效性/ ;/ 最后/ 一节/ 是/ 结论/ 和/ 未来/ 的/ 工作/ ./ Page32/ 相关/ 工作/ 自从/ Nandan/ 等/ 人/ [/ 2/ ]/ 提出/ 的/ SPAWN/ 协议/ 第一次/ 将/ 协助/ 下载/ (/ Cooperativedownloading/ )/ 的/ 概念/ 引入/ 到/ 车/ 联网/ ,/ 越来越/ 多/ 的/ 研究/ 团队/ 投入/ 到/ 协助/ 下载/ 方面/ 的/ 研究/ 中/ ./ SPAWN/ 协议/ 与/ 本文/ 所/ 做/ 工作/ 不同之处/ 主要/ 集中/ 在/ 其/ 针对/ P2P/ 的/ 应用/ 场景/ 中/ ,/ 假定/ 了/ 目标/ 车辆/ 和/ 协助/ 车辆/ 都/ 下载/ 同一/ 资源/ ,/ 再/ 通过/ 其/ 提出/ 的/ 方法/ 寻找/ 资源/ 进行/ 下载/ ,/ 而/ 本文/ 要/ 解决/ 的/ 问题/ 是/ 用户/ 下载/ 不同/ 的/ 数据/ ,/ 利用/ AP/ 间/ 的/ DA/ 由/ AP/ 选择/ 车辆/ 提供/ 协助/ 下载/ 服务/ ./ 相似/ 的/ 研究/ 中/ [/ 3/ -/ 4/ ]/ 重点/ 集中/ 在/ P2P/ 汽车/ 网络/ 中/ 在/ 其它/ 汽车/ 里/ 寻找/ 所/ 需要/ 的/ 资源/ 进行/ 协助/ 下载/ 方面/ 的/ 研究/ ./ Fiore/ 等/ 人/ [/ 5/ ]/ 提出/ 的/ 协助/ 下载/ 方法/ 主要/ 考虑/ 城市/ 下载/ 场景/ ,/ 通过/ 以往/ 经过/ AP/ 的/ 车辆/ 的/ 速度/ 和/ 相关/ 数据/ 来/ 预测/ 车辆/ 的/ 行驶路线/ 与/ 目标/ 车辆/ 相遇/ 的/ 时刻/ ,/ 选定/ 协助/ 车辆/ 下载/ 协助/ 数据/ ./ 其/ 工作/ 主要/ 集中/ 在/ AP/ 的/ 部署/ ,/ 不同/ 协助/ 车辆/ 选择/ 算法/ 的/ 评估/ 以及/ 数据/ 分块/ 方案/ ./ 而/ 本文/ 的/ 工作/ 主要/ 是/ 高速公路/ 场景/ 下/ 的/ 车辆/ 选择/ 算法/ ,/ DA/ 下载/ 区域/ 的/ 动态/ 划分/ 以及/ 该/ 算法/ 对/ 不同/ 的/ 车辆/ 密度/ 及/ 车速/ 变化/ 带来/ 的/ 影响/ 的/ 解决方案/ ./ Trullols/ -/ Cruces/ 等/ 人/ [/ 6/ ]/ 提出/ 的/ 高速公路/ 场景/ 下/ 的/ 协助/ 下载/ 方法/ 的/ 研究/ 与/ 本文/ 比较/ 类似/ ./ 他们/ 提出/ 了/ 高速公路/ 场景/ 下/ 的/ 协助/ 下载/ 模式/ ,/ 主要/ 讨论/ 通过/ 同/ 向/ 车辆/ 协助/ 传输/ 解决/ 无线/ 下载/ 过程/ 中/ 产生/ 的/ 丢/ 包/ 问题/ 以及/ 通过/ 对/ 向/ 车辆/ 传输/ 增加/ 总/ 的/ 吞吐量/ ./ 但是/ 文中/ 没有/ 对/ 对/ 向/ 车辆/ 协助/ 下载/ 进行/ 具体/ 的/ 规划/ ,/ 也/ 没有/ 提到/ 相邻/ AP/ 点/ 如何/ 根据/ 车辆/ 的/ 速度/ 选择/ 不同/ 的/ 车辆/ 协助/ 下载/ 数据/ ./ MobTorrent/ [/ 7/ ]/ 提出/ 了/ 使用/ WIFI/ 和/ WWAN/ 相互/ 补充/ 利用/ 同/ 向/ 以及/ 对/ 向/ 车辆/ 协助/ 下载/ 的/ 方案/ ,/ 但是/ 前提/ 是/ 需要/ 所有/ 车辆/ 安装/ GPS/ 导航/ 以及/ WIFI/ 接口/ 和/ WWAN/ 接口/ ,/ 当/ 目标/ 车辆/ 提出/ 下载/ 请求/ 时/ ,/ 通过/ WWAN/ 提前/ 通知/ AP/ 站点/ ,/ AP/ 站点/ 根据/ GPS/ 的/ 行驶路线/ 信息/ 将/ 数据/ 下载/ 到/ 对/ 向/ 或/ 同/ 向/ 的/ 车辆/ 上/ ./ 文中/ 没有/ 明确/ 给出/ AP/ 的/ 选车/ 算法/ 和/ 协助/ 车辆/ 携带/ 的/ 数据量/ ,/ 没有/ 考虑/ 由于/ 车速/ 变化/ 产生/ 的/ 协助/ 车/ 重叠/ 问题/ ./ 其它/ 相关/ 工作/ 包括/ Cabernet/ [/ 8/ ]/ 通过/ 优化/ 建立/ 连接/ 的/ 过程/ 和/ 传输层/ 协议/ 来/ 提高/ 传输/ 性能/ ./ Balasubramanian/ 等/ 人/ [/ 9/ ]/ 提出/ 了/ 利用/ AP/ 点/ 分布/ 的/ 差异/ 来/ 减少/ 冲突/ 的/ 一种/ 支持/ 车/ 内/ 用户/ 使用/ 交互式/ 应用程序/ 的/ 方法/ ./ Zhang/ 等/ 人/ [/ 10/ ]/ 提出/ 了/ 汽车/ 从/ 路边/ 基础设施/ 上传/ 和/ 下载/ 的/ 方案/ ./ Mahajan/ 等/ 人/ [/ 11/ ]/ 提出/ 了/ 一种/ 测量/ WIFI/ 连通性/ 的/ 方法/ ./ DTcoop/ [/ 12/ ]/ 解决/ 的/ 是/ 单向/ 的/ 信息/ 广播/ 分发/ 问题/ ,/ 通过/ 协助/ 下载/ 的/ 方式/ 减少/ 高速/ 情况/ 下/ 丢/ 包率/ 较/ 高/ 的/ 问题/ ./ 在/ 文献/ [/ 13/ ]/ 中/ 作者/ 提出/ 了/ 一种/ 通过/ 车间/ 中继/ 延伸/ AP/ 通信/ 范围/ 的/ 方法/ 以便/ 于/ 车辆/ 有/ 更/ 大/ 的/ 机会/ 通过/ AP/ 接入/ Internet/ ./ 3/ 主要/ 工作/ 在/ 本文/ 中/ ,/ 我们/ 的/ 工作/ 集中/ 在/ 单用户/ 下载/ 请求/ ./ 多用户/ 协助/ 下载/ 将/ 作为/ 未来/ 的/ 研究/ 工作/ ./ 另外/ ,/ 应用/ 场景/ 假定/ 在/ 车辆/ 行驶路线/ 容易/ 被/ 预测/ 的/ 高速公路/ 上/ ,/ AP/ 通过/ 有线/ 网络/ 可以/ 直接/ 通信/ ./ 每辆车/ 都/ 装有/ 可/ 用于/ 车/ 与/ AP/ 通信/ 和/ 车车/ 通信/ 的/ WIFI/ 接口/ ./ 车辆/ 进入/ AP/ 通信/ 区/ 都/ 要/ 向/ 其/ 注册/ 速度/ ,/ 运行/ 方向/ 等/ 信息/ ./ 根据/ 运行/ 方向/ ,/ 协助/ 下载/ 车辆/ 可/ 分为/ 与/ 用户/ 同向/ 的/ 车辆/ 集合/ v/ →/ 与/ 目标/ 车/ 对/ 向/ 的/ 车辆/ 集合/ v/ ←/ ./ 当/ 目标/ 车辆/ 离开/ AP/ 通信/ 范围/ 区后/ ,/ 当前/ AP/ 选择/ 注册/ 列表/ 中/ 能够/ 在/ 与/ 相邻/ AP/ 的/ 盲区/ 中/ 赶上/ 用户/ 并/ 完成/ 通信/ 的/ 汽车/ 作为/ 协助/ 下载/ 车辆/ ,/ 在/ 协助/ 车辆/ 超越/ 用户/ 过程/ 中/ 完成/ 下载/ ./ 我们/ 把/ 这种/ 同/ 向/ 协助/ 下载/ 过程/ 称为/ SDCD/ (/ SameDirectionCooperativeDownloading/ )/ ./ SDCD/ 受/ 目标/ 车辆/ 的/ 速度/ 影响/ ,/ 当/ 目标/ 车速/ 为/ 120km/ // h/ 时/ ,/ 超越/ 率仅/ 为/ 5/ %/ ,/ 对/ 总/ 的/ 吞吐量/ 提高/ 不/ 大/ ,/ 并且/ 超越/ 的/ 发生/ 地点/ 大部分/ 发生/ 在/ 对/ 向/ 车辆/ 可以/ 进行/ 协助/ 下载/ 的/ 区域/ ,/ 因此/ 本文/ 将/ SDCD/ 作为/ 未来/ 的/ 研究/ 工作/ ,/ 实验/ 中暂/ 忽略/ 同/ 向/ 车辆/ 协助/ 下载/ 的/ 情况/ ./ 相比之下/ ,/ 高速公路/ 上/ 相邻/ 两个/ AP/ 点间/ 对/ 向/ 行驶/ 的/ 车辆/ 都/ 会/ 与/ 目标/ 车辆/ 相遇/ ,/ 相遇/ 发生/ 地点/ 和/ 通信/ 持续时间/ 有所不同/ ./ 下/ 一个/ AP/ 点/ 需要/ 做/ 的/ 是/ 选择/ 哪些/ 车/ 携带/ 下载/ 数据/ 能够/ 使/ 总/ 的/ 数据/ 下载量/ 最大/ ./ 我们/ 把/ 这种/ 对/ 向/ 车辆/ 协助/ 下载/ 过程/ 称为/ ODCD/ (/ OppositeDirectionCooperativeDownloading/ )/ ,/ 本文/ 主要/ 讨论/ ODCD/ 下载/ 方法/ ./ 方法/ 中要/ 用到/ 的/ 参数/ 见表/ 1/ ./ AP/ 通信/ 范围/ LDA/ 的/ 长度/ D/ 车辆/ 通信/ 半径/ d/ 选择/ 第/ n/ 辆/ 的/ 时刻/ TnAP/ 区内/ 的/ 下载速度/ WAp/ 车间/ 下载速度/ Wv/ 移动/ 用户注册/ 时间/ ts/ 移动用户/ 车速/ vs/ 第/ n/ 辆/ 选中/ 车辆/ 的/ 注册/ 时间/ tn/ 第/ n/ 辆/ 选中/ 车辆/ 车速/ vn3/ ./ 1AP/ 的/ 角色/ 与/ 功能/ 每辆/ 汽车/ 进入/ AP/ 区后/ 都/ 要/ 注册/ 自己/ 的/ ID/ ,/ 平/ Page4/ 均/ 速度/ vn/ 以及/ 进入/ 此/ AP/ 点/ 的/ 时间/ tn/ ./ vn/ 的/ 值/ 由/ 3.2/ 节式/ (/ 3/ )/ 计算/ 取得/ ./ AP/ 中/ 维护/ 了/ 一个/ 其/ 通信/ 范围/ 内/ 所有/ 汽车/ 的/ 速度/ 和/ 注册/ 时间/ 信息/ 列表/ List/ =/ {/ (/ id0/ ,/ v0/ ,/ t0/ )/ …/ (/ idn/ ,/ vn/ ,/ tn/ )/ }/ ./ 列表/ 中/ 的/ 记录/ 随着/ 汽车/ 的/ 进入/ 不断/ 增加/ ,/ 每个/ AP/ 点/ 每隔/ 30s/ 相互交换/ 自己/ 的/ 信息/ 列表/ ,/ 如果/ 一个/ AP/ 发现/ 其/ 注册/ 的/ 车辆/ 出现/ 在/ 相邻/ 的/ AP/ 的/ 列表/ 中/ ,/ 并且/ 其/ 注册/ 时间/ 比/ 在/ 自己/ 的/ 列表/ 中/ 的/ 注册/ 时间/ 还要/ 新/ ,/ 说明/ 该/ 汽车/ 已经/ 驶入/ 另/ 一个/ AP/ 的/ 通信/ 范围/ 内/ 了/ ,/ 随即/ 删除/ 当前/ 记录/ ./ 当/ AP/ 通信/ 范围/ 内有/ 车辆/ 提出/ 下载/ 请求/ ,/ AP/ 需要/ 接入/ Internet/ ,/ 找到/ 指定/ 资源/ ,/ 并/ 根据/ 车速/ 和/ 当前/ 时间/ ,/ 计算/ 出/ 用户/ 在/ AP/ 范围/ 内/ 的/ 剩余时间/ ,/ 下载/ 相应/ 的/ 数据/ 块/ 给/ 用户/ ./ 同时/ 根据/ 用户/ 行驶/ 的/ 方向/ 预测/ 用户/ 将要/ 经过/ 的/ 下/ 一个/ AP/ 点/ ,/ 将/ 尚未/ 下载/ 完成/ 的/ 内容/ 通知/ 给/ 它/ ,/ 由下/ 一个/ AP/ 点/ 设定/ 协助/ 下载/ 方案/ ./ 下/ 一个/ AP/ 点/ 收到/ 协助/ 下载/ 请求/ 时/ ,/ 计算/ 其/ List/ 列表/ 中/ 每/ 一辆车/ 与/ 用户/ 的/ 相遇/ 时间/ ,/ 按/ 与/ 用户/ 相遇/ 的/ 时间/ 顺序/ 从中/ 选取/ 一组/ 车辆/ 作为/ 协助/ 车辆/ 放入/ 集合/ M/ =/ (/ id0/ ,/ v0/ ,/ t0/ ,/ B0/ ,/ E0/ ,/ T0/ )/ ,/ …/ ,/ (/ idn/ ,/ vn/ ,/ tn/ ,/ Bn/ ,/ En/ ,/ Tn/ )/ ,/ AP/ 点将/ 剩余/ 的/ 数据/ 按/ 协助/ 车/ 与/ 用户/ 的/ 相遇/ 时所能/ 传输/ 的/ 数据量/ 下载/ 到/ 协助/ 车上/ ,/ 直至/ 完成/ 下载/ 任务/ ./ 为了/ 将来/ 多车/ 协助/ 下载/ 考虑/ ,/ 本文/ 假定/ AP/ 同时/ 只能/ 为/ 一辆车/ 提供/ 下载/ 服务/ ,/ 因此/ 只有/ 当/ AP/ 下载/ 足够/ 多/ 的/ 数据/ 到/ 协助/ 车后/ 才/ 开始/ 选择/ 下/ 一辆/ 协助/ 车/ ./ M/ 中/ (/ idn/ ,/ vn/ ,/ tn/ ,/ Bn/ ,/ En/ ,/ Tn/ )/ 分别/ 代表/ 车辆/ ID/ ,/ 平均速度/ ,/ 注册/ 时间/ ,/ 与/ 用户/ 通信/ 开始/ 时间/ 和/ 完成/ 通信/ 的/ 时间/ 以及/ 选车/ 时间/ ,/ Bn/ 和/ En/ 可以/ 通过/ 式/ (/ 1/ )/ 和/ (/ 2/ )/ 取得/ ,/ 从/ 结果/ 可以/ 看出/ 选车/ 时间/ Tn/ 与/ Bn/ 和/ En/ 无关/ ./ Bn/ =/ Tn/ +/ D/ +/ 2L/ -/ (/ Tn/ -/ ts/ )/ ×/ vs/ -/ (/ Tn/ -/ tn/ )/ ×/ vn/ -/ d/ =/ D/ +/ 2L/ -/ d/ +/ vsts/ +/ vntnvs/ +/ vnEn/ =/ Bn/ +/ 2d/ 图/ 2/ 显示/ 了/ 当/ AP2/ 在/ 时间/ Tn/ 选择/ Cn/ 作为/ 协助/ 车辆/ ,/ Bn/ 是/ 两车/ 预期/ 相遇/ 时/ 的/ 时间/ ,/ slotn/ 是/ 其/ 通信/ 持续时间/ ./ 3.2/ 协助/ 汽车/ 选择/ 算法/ 根据/ 式/ (/ 1/ )/ 和/ (/ 2/ )/ ,/ AP/ 可以/ 选择/ En/ 后/ 第一辆/ 到达/ 用户/ 通信/ 区域/ 的/ 汽车/ ./ AP/ 选择/ 协助/ 车辆/ 的/ 原则/ 是/ 防止/ 协助/ 车/ 在/ 与/ 用户/ 通信/ 时/ 产生/ 冲突/ ,/ 尽可能/ 接近/ 上/ 一次/ 下载/ 完成/ 的/ 时间/ 并且/ 携带/ 尽可能/ 多/ 的/ 数据/ ./ (/ 1/ )/ 车速/ 的/ 确定/ 3.1/ 节/ 提到/ 了/ AP/ 点/ 在/ 选择/ 协助/ 车辆/ 时要/ 根据/ 车速/ 选择/ ,/ 计算/ 车辆/ 相遇/ 的/ 时间/ 和/ 协助/ 传输/ 的/ 数据量/ 都/ 需要/ 用到/ 速度/ 这个/ 值/ ./ 然而/ ,/ 任何/ 一辆/ 汽车/ 在/ 行驶/ 过程/ 中/ 都/ 很/ 难/ 保持/ 匀速/ 行驶/ ,/ 如果/ AP/ 使用/ 汽车/ 注册/ 时/ 的/ 速度/ 作为/ 依据/ 的话/ ,/ 很难/ 保证/ 协助/ 车辆/ 在/ 预计/ 的/ 时刻/ 与/ 目标/ 车辆/ 相遇/ ,/ 完成/ 协作/ 下载/ 的/ 任务/ ./ 幸运/ 的/ 是/ ,/ 尽管/ 车辆/ 在/ 行使/ 过程/ 中/ 车速/ 是/ 不可/ 预测/ 的/ ,/ 但是/ 在/ 高速公路/ 场景/ 下/ ,/ 车辆/ 在/ 某/ 段时间/ 内/ 的/ 速度/ 变化/ 还是/ 遵循/ 一定/ 规律/ 的/ ./ 本文/ 提出/ 采用/ 车辆/ 在/ 相邻/ 两点/ 间/ 的/ 平均速度/ 与/ 当前/ 速度/ 的/ 加权/ 平均值/ 来/ 定义/ 车速/ ./ 也就是说/ ,/ 如果/ 一辆/ 汽车/ 在/ 进入/ AP/ 点时/ ,/ AP/ 已经/ 通过/ 与/ 相邻/ 的/ AP/ 点/ 交互/ 信息/ 得知/ 该辆/ 汽车/ 在/ 上/ 一个/ AP/ 点/ 的/ 注册/ 时间/ ,/ 则/ 这/ 段时间/ 的/ 平均/ 车速/ 可以/ 通过/ 距离/ 与/ 运行/ 时间/ 的/ 比值/ 求得/ ,/ 车辆/ 注册/ 的/ 车速/ 为/ 其中/ Dab/ 是/ 相邻/ 两个/ AP/ 点/ a/ 和/ b/ 之间/ 的/ 距离/ ,/ L/ 为/ AP/ 的/ 通信/ 范围/ ,/ ta/ ,/ tb/ 是/ 车辆/ 在/ AP/ 点/ a/ 和/ b/ 的/ 注册/ 时间/ ./ α/ 值/ 的/ 按照/ 式/ (/ 4/ )/ 求解/ x/ 确定/ :/ x/ ·/ v/ +/ (/ 1/ -/ x/ )/ Dab/ +/ L/ 目标/ 车/ 与/ 协助/ 车/ 相遇/ 时/ 的/ 实测/ 运行/ 距离/ 即/ 通过/ 式/ (/ 3/ )/ 和/ 目标/ 车/ 与/ 协助/ 车/ 相遇/ 时/ 的/ 实测/ 运行/ 距离/ 与/ 运行/ 时间/ 的/ 比值/ 计算/ 求得/ ./ 经过/ 实际/ 测试/ α/ 的/ 取值/ 范围/ 在/ 0.15/ ~/ 0.25/ 之间/ ,/ 仿真/ 实验/ 中/ 我们/ 取/ α/ =/ 0.2/ ./ (/ 2/ )/ 选择/ 算法/ 由于/ 车辆/ 进入/ AP/ 区/ ,/ 每/ 一辆车/ 都/ 要/ 注册/ 上文/ 所/ 提到/ 的/ 信息/ ,/ AP/ 点/ 通过/ 式/ (/ 3/ )/ 得出/ 的/ 速度/ v/ 和/ 时间/ t/ 来/ 确定/ 在/ T/ 时刻/ 哪/ 一辆车/ 可以/ 作为/ 协助/ 车/ ./ 这里/ 必须/ 满足/ 以下/ 两个/ 约束条件/ :/ ①/ 为了/ 最大/ 限度/ 的/ 利用/ DA/ 传输数据/ ,/ 选定/ 车辆/ 在/ AP/ 区内/ 所/ 下载/ 的/ 数据量/ 应该/ 能够/ 满足/ 该车/ 和/ 目标/ 车辆/ 相遇/ 过程/ 中/ 传递/ 的/ 数据量/ ,/ 备选/ 车辆/ (/ vn/ ,/ tn/ )/ 应该/ 满足/ 式/ (/ 5/ )/ ,/ 其中/ Tn/ 为/ 当前/ 时间/ ./ Page5/ ②/ 为了/ 避免/ 传输/ 冲突/ ,/ 两车/ 在/ DA/ 中/ 与/ 目标/ 车辆/ 通信/ 区域/ 不能/ 重合/ ./ 即后/ 选/ 车辆/ 在/ 与/ 用户/ 相遇/ 的/ 时刻/ 应该/ 在/ 用户/ 与/ 前/ 一个/ 协助/ 车辆/ 通信/ 完毕/ 后/ ./ 为了/ 有效/ 利用/ 传输/ 区域/ ,/ 应/ 选择/ 最先/ 与/ 用户/ 相遇/ 且/ 满足/ 上述/ 要求/ 的/ 车辆/ ./ 假如/ AP/ 在/ Tf/ 时刻/ 选择/ 的/ 上/ 一个/ 协助/ 车/ (/ idf/ ,/ vf/ ,/ tf/ ,/ Bf/ ,/ Ef/ ,/ Tf/ )/ ,/ 则/ 新/ 的/ 协助/ 车/ (/ idx/ ,/ vx/ ,/ tx/ ,/ Bx/ ,/ Ex/ ,/ Tx/ )/ 应该/ 满足/ 式/ (/ 6/ )/ ./ 在/ AP/ 点中/ 不/ 应该/ 存在/ (/ vy/ ,/ ty/ )/ 满足/ 式/ (/ 5/ )/ 和/ 根据上述/ 的/ 两个/ 约束条件/ ,/ 在/ DA/ 中/ 的/ 数据/ 传/ (/ 6/ )/ ,/ 且/ |/ vy/ |/ >/ |/ vx/ |/ ./ 输/ 总量/ 为/ 然而/ ,/ 这/ 只是/ 一个/ 次优/ 解/ ./ 使用/ 上述/ 两个/ 约束条件/ 选择/ 协助/ 车辆/ 会/ 使得/ DA/ 中/ 的/ 一些/ 区域/ (/ 这里/ 我们/ 称为/ 空白/ 区/ blankareas/ )/ 没有/ 被/ 利用/ 上/ ./ 如图/ 3/ 所示/ ,/ 即/ 在/ 两个/ 已选/ 的/ 协助/ 下载/ 车辆/ s1/ 和/ s2/ 中间/ 可能/ 出现/ 没有/ 携带/ 数据/ 的/ 车辆/ n1/ ./ n1/ 没有/ 被/ 选择/ 的/ 原因/ 有/ 两个/ ,/ 第/ 1/ 种/ 可能/ 是/ s2/ 先于/ n1/ 进入/ AP/ 区/ ,/ 并且/ s2/ 的/ 车速/ 比/ n1/ 的/ 车速/ 要慢/ ./ 当/ AP/ 点/ 选择/ s2/ 时/ ,/ n1/ 并/ 没有/ 进入/ ,/ 所以/ 根据上述/ 算法/ ,/ AP/ 点/ 选择/ s2/ 作为/ s1/ 后续/ 的/ 下载/ 车辆/ 进行/ 数据/ 下载/ ;/ 当/ n1/ 进入/ AP/ 区时/ ,/ AP/ 只能/ 在/ 列表/ 中/ 选择/ s2/ 与/ 用户/ 通信/ 结束/ 后/ 的/ 车辆/ ,/ 而/ n1/ 先于/ s2/ 接触/ 到/ 目标/ 车辆/ ,/ 所以/ 也/ 未能/ 作为/ 备选/ 车辆/ ./ 另/ 一种/ 可能/ 是/ n1/ 和/ s1/ 与/ 用户/ 的/ 通信/ 区/ 部分/ 重合/ ,/ 根据/ 式/ (/ 6/ )/ ,/ 尽管/ n1/ 先于/ s2/ 进入/ 用户/ 通信/ 区/ ,/ 也/ 未/ 被/ 选中/ ./ 这个/ 次优/ 解决方案/ 的/ 优势/ 在于/ 在/ 保持/ 车速/ 不变/ 的/ 前提/ 下/ 保证/ 用户/ 能够/ 按序/ 接收数据/ ,/ 而/ 代价/ 就是/ 导致/ 了/ 出现/ 图/ 3/ 的/ 下载/ 空白/ 区/ ,/ 导致/ 未能/ 充分利用/ 对行/ 的/ 车辆/ 进行/ 协助/ 下载/ ./ 然而/ 在/ 高速公路/ 上/ 车速/ 未必/ 会/ 处于/ 一个/ 恒定/ 状态/ ,/ 变化/ 的/ 车速/ 可能/ 会/ 导致/ 携带/ 序列号/ 较大/ 数据/ 的/ 协助/ 车辆/ 超越/ 前/ 车/ ,/ 所以/ 理想/ 中/ 的/ 按序/ 接收/ 的/ 目标/ 很难/ 实现/ ./ 既然如此/ ,/ 下载/ 空白/ 区/ 应该/ 可以/ 被/ 利用/ 以/ 达到/ 提高/ 吞吐量/ 的/ 目的/ ./ 也就是说/ 当/ AP/ 点/ 发现/ n1/ 可以/ 先于/ s2/ 接触/ 到/ 目标/ 车辆/ ,/ 就/ 可以/ 将/ 一部分/ 数据/ 下载/ 到/ n1/ 上/ ,/ 填补/ 下载/ 空白/ 区/ ,/ 以/ 保证/ 在/ 整个/ 盲区/ 中/ 只要/ 有/ 对/ 向/ 车辆/ 经过/ ,/ 就/ 可以/ 协助/ 目标/ 车辆/ 进行/ 数据/ 下载/ ./ 如果/ AP/ 已经/ 选中/ s2/ 后/ 再/ 下载/ 数据/ 到/ n1/ ,/ 在/ 车速/ 不变/ 的/ 前提/ 下/ ,/ 则/ 用户/ 一定/ 会/ 收到/ 乱序/ 的/ 数据/ ,/ 那么/ 用户/ 按/ 时间/ 顺序/ 下载/ 数据/ ,/ 再/ 由/ 高层/ 处理/ 错序/ 的/ 数据/ 段/ ./ 算法/ 片段/ 如图/ 4/ 所示/ ./ 1/ ./ foreachAP/ 区域/ 内/ 的/ 注册/ 车辆/ Rido2/ ./ foreach/ 已选/ 车辆/ Sxdo3/ ./ ifRi/ ./ meetTime/ >/ Sk/ ./ meetTime4/ ./ andSk/ -/ 1/ ./ endTime/ -/ Sk/ ./ meetTime/ >/ 0do5/ ./ downloaddata/ [/ n/ ]/ ~/ data/ [/ n/ +/ t/ ]/ toRi6/ ./ done7/ ./ done8/ ./ doneAP/ 在/ 选择/ 下载/ 车辆/ 时先/ 查看/ 列表/ 中/ 的/ 车辆/ 是否/ 先于/ 已选/ 车辆/ 与/ 目标/ 车辆/ 相遇/ (/ line3/ )/ ./ 如果/ 是/ ,/ 则/ 查看/ 已选/ 车辆/ 之间/ 是否/ 存在/ 传输/ 空白/ 区/ (/ line4/ )/ ,/ 如果/ 满足/ 这/ 两个/ 条件/ ,/ 将/ 数据/ 块/ data/ [/ n/ ]/ ~/ data/ [/ n/ +/ t/ ]/ 下载/ 到/ 该/ 注册/ 车辆/ 上/ (/ line5/ )/ ,/ 其中/ t/ 由/ 空白/ 区/ 大小/ 决定/ ./ AP/ 把/ 这种/ 用于/ 填补空白/ 区/ 的/ 协助/ 车辆/ 放到/ 集合/ R/ =/ (/ id0/ ,/ v0/ ,/ t0/ ,/ B0/ ,/ E0/ ,/ RB0/ ,/ RE0/ ,/ T0/ )/ ,/ …/ ,/ (/ idm/ ,/ vm/ ,/ tm/ ,/ Bm/ ,/ Em/ ,/ RBm/ ,/ REm/ ,/ Tm/ )/ 中/ ,/ R/ 中/ 的/ 车辆/ 一定/ 出现/ 在/ M/ 中/ 车辆/ 之间/ ./ 这/ 也/ 意味着/ 两类/ 车/ 与/ 用户/ 通信/ 区/ 的/ 叠加/ ./ 因此/ R/ 中/ 的/ 车辆/ 直到/ 前/ 车/ 离开/ 与/ 用户/ 的/ 通信/ 区后/ 才/ 开始/ 通信/ ,/ 并且/ 要/ 在/ 下/ 一辆车/ 进入/ 用户/ 通信/ 区前/ 完成/ 通信/ ./ 假如/ 使用/ RBn/ 和/ REn/ 作为/ R/ 中/ 第/ n/ 辆车/ 开始/ 通信/ 和/ 结束/ 通信/ 的/ 时间/ ,/ 其前/ 车/ 和/ 后车/ 分别/ 为/ (/ idk/ ,/ vk/ ,/ tk/ ,/ Bk/ ,/ Ek/ ,/ Tk/ )/ 和/ (/ idk/ +/ 1/ ,/ vk/ +/ 1/ ,/ tk/ +/ 1/ ,/ Bk/ +/ 1/ ,/ Ek/ +/ 1/ ,/ Tk/ +/ 1/ )/ ,/ 那么/ 则/ DA/ 中/ 的/ 下载/ 总量/ 最优/ 解为/ RBn/ =/ Min/ {/ Bn/ ,/ Ek/ }/ ;/ REn/ =/ Max/ {/ Bk/ +/ 1/ ,/ En/ }/ (/ 8/ )/ ∑/ ni/ =/ 0/ 显然/ 式/ (/ 9/ )/ 的/ 下载/ 总量/ 要/ 高于/ 式/ (/ 7/ )/ ,/ 图/ 7/ 展示/ 了/ 两种/ 解在/ 一个/ 下载/ 区内/ 的/ 下载/ 总量/ 的/ 比较/ ./ 另外/ 每辆车/ 经过/ 用户/ 车辆/ 时/ 都/ 记录/ 用户/ 的/ 车速/ 及/ 位置/ ,/ 当其/ 进入/ AP/ 通信/ 区后/ 通知/ AP/ ,/ AP/ 根据/ 这些/ 信息/ 调整/ 选车/ 方案/ ./ 3.3/ 传输/ 冲突/ 解决/ 如果/ 在/ 整个/ 过程/ 中/ ,/ 所有/ 车辆/ 的/ 速度/ 保持/ 不变/ ,/ 那么/ 协作/ 下载/ 过程中将/ 不会/ 产生/ 冲突/ ,/ 每辆/ 协助/ 车/ 都/ 会/ 在/ 预定/ 的/ 时刻/ 与/ 用户/ 相遇/ ,/ 并/ 传递信息/ ,/ 这种/ 理想/ 状况/ 下/ 可以/ 使/ 下载/ 达到/ 最大值/ ./ 然而/ 虽然/ 本文/ 已/ Page6/ 经/ 提出/ 了/ 采用/ 式/ (/ 3/ )/ 来/ 减少/ 由/ 车速/ 变化/ 对系统/ 性能/ 带来/ 的/ 影响/ ,/ 但是/ 车速/ 仍然/ 在/ 很大/ 程度/ 上/ 受到/ 人为因素/ 的/ 影响/ ,/ 比如/ 驾驶员/ 的/ 驾驶/ 习惯/ ,/ 多变/ 的/ 路况/ 条件/ 等/ ./ 所以/ 本文/ 所/ 提出/ 的/ 协助/ 下载/ 方案/ 仍然/ 存在/ 偏差/ ,/ 这/ 将/ 无疑/ 导致/ 传输/ 冲突/ 的/ 产生/ ./ 幸运/ 的/ 是/ ,/ 在/ 高速公路/ 上/ 车速/ 的/ 变化/ 并不大/ ./ 尽管如此/ ,/ 我们/ 仍然/ 要/ 考虑/ 由于/ 速度/ 变化/ 而/ 产生/ 的/ 冲突/ 问题/ ./ 在/ 协作/ 下载/ 过程/ 中会/ 有/ 4/ 种/ 可能/ 的/ 情况/ 发生/ :/ (/ 1/ )/ 顺序/ 到达/ ,/ 未/ 产生/ 冲突/ 如图/ 5/ (/ a/ )/ ,/ 这种/ 情况/ 是/ 比较/ 理想/ 的/ ,/ 目标/ 车辆/ 按序/ 接收/ 即可/ ./ (/ 2/ )/ 当/ 目标/ 车辆/ 正在/ 接收数据/ 块/ 时/ ,/ 后续/ 的/ 车辆/ 由于/ 车速/ 超过/ 预期/ ,/ 提前/ 进入/ 了/ 目标/ 车/ 的/ 通信/ 范围/ ,/ 如图/ 5/ (/ b/ )/ ./ 这时/ 后续/ 车/ 提出/ 的/ 传输/ 请求/ 被/ 目标/ 车辆/ 拒绝/ ,/ 直到/ 目标/ 车辆/ 完成/ 前车/ 的/ 数据/ 段/ 的/ 接收/ 后/ 再/ 接收/ 后续/ 车/ 的/ 数据/ ./ 显然/ 这种/ 情况/ 下/ ,/ 后续/ 车/ 携带/ 的/ 协作/ 数据/ 可能/ 未/ 下载/ 完成/ ,/ 则/ 由/ 目标/ 车辆/ 在/ 新/ 的/ AP/ 区内/ 提交/ 下载/ 请求/ ,/ 由/ AP/ 点/ 补充/ 未/ 完成/ 的/ 下载/ 数据/ ./ (/ 3/ )/ 后续/ 车/ 超越/ 前/ 车/ ,/ 提前/ 进入/ 目标/ 车辆/ 的/ 通信/ 区域/ ,/ 如图/ 5/ (/ c/ )/ ./ 如果/ 此时/ 目标/ 车为/ 空闲/ 状态/ ,/ 则/ 立即/ 下载/ 数据/ ,/ 下载/ 过程/ 中/ 如果/ 检测/ 到/ 其它/ 下载/ 请求/ ,/ 不予理睬/ ,/ 继续/ 完成/ 与/ 当前/ 下载/ 车辆/ 的/ 下载/ 任务/ 后/ 再/ 响应/ 下载/ 请求/ ./ 缺失/ 的/ 数据/ 由/ 进入/ 新/ 的/ AP/ 区内/ 重新/ 下载/ ./ (/ 4/ )/ 后续/ 车辆/ 超越/ 前车/ 如图/ 5/ (/ d/ )/ ,/ 并/ 在/ 前车/ 进入/ 用户/ 通信/ 区域/ 前/ 完成/ 了/ 下载/ ,/ 则/ 用户/ 按/ 时间/ 顺序/ 下载/ 数据/ ,/ 再/ 由/ 高层/ 处理/ 错序/ 的/ 数据/ 段/ ./ 3.4/ 连接/ 请求/ 协助/ 传输/ 由于/ 高速公路/ AP/ 点/ 分布/ 比较/ 稀疏/ ,/ 用户/ 仅/ 有/ 10/ %/ 的/ 机会/ 通过/ AP/ 接入/ 互联网/ (/ AP/ 通信/ 范围/ 1000m/ ,/ 盲区/ 8/ ~/ 16km/ )/ ,/ 如果/ 用户/ 刚刚/ 驶出/ AP/ 点/ ,/ 刚好/ 有/ 了/ 下载/ 的/ 需求/ ,/ 那么/ 要/ 经过/ 5/ ~/ 10min/ 才能/ 通过/ 下/ 一个/ AP/ 点联入/ 互联网/ ,/ 这个/ 过程/ 是/ 难以/ 接受/ 的/ ./ 本文/ 提出/ 用户/ 可以/ 通过/ 协助/ 的/ 方式/ 将/ 下载/ 请求/ 通过/ 同/ 向/ 或是/ 对/ 向/ 的/ 车辆/ 尽快/ 的/ 传入/ 最近/ 的/ AP/ 点/ ,/ 再/ 由/ AP/ 点/ 按照/ 前面/ 所述/ 的/ 方法/ 指定/ 下载/ 方案/ 安排/ 车辆/ 协助/ 传输/ ,/ 通过/ 这种/ 方式/ 可以/ 有效/ 的/ 减少/ 延迟/ 的/ 产生/ ./ 每辆车/ 在/ 进入/ AP/ 通信/ 区后/ ,/ 都/ 与/ AP/ 交互/ 信息/ ,/ 信息/ 中/ 包括/ 下/ 一个/ AP/ 点/ 的/ 距离/ ./ 当/ 一辆/ 汽车/ 离开/ AP/ 点/ ,/ 并/ 产生/ 下载/ 请求/ 时/ ,/ 首先/ 检测/ 目标/ 车辆/ 所在/ 的/ 通信/ 范围/ 内/ 的/ 汽车/ ,/ 形成/ 一个/ 临时/ 的/ 邻居/ 车速/ 列表/ v/ →/ 与/ 目标/ 车辆/ 同向/ 的/ 用/ v/ →/ 表示/ ,/ 与其/ 相向/ 的/ 用/ v/ ←/ 表示/ ./ 根据/ 当前/ 位置/ 以及/ 邻居/ 车辆/ 的/ 车速/ 和/ 行驶/ 方向/ 计算/ 出/ 能够/ 最先/ 到达/ AP/ 区/ 的/ 车辆/ ./ 用户/ 所有/ 邻居/ 节点/ 到达/ AP/ 的/ 时间/ 集合/ 为式/ (/ 10/ )/ ./ 因此/ ,/ 连接/ 请求/ 的/ 协助/ 车辆/ 应该/ 选择/ 在/ S/ 集合/ 中/ t/ 值/ 最小/ 的/ 那辆车/ ./ s/ =/ ti/ |/ ti/ =/ vs/ ·/ (/ T/ -/ ts/ )/ 4/ 实验/ 验证/ 本文/ 通过/ 仿真/ 实验/ 对/ 该/ 方法/ 的/ 性能/ 进行/ 了/ 评估/ ./ 实验/ 场景/ :/ 根据/ 文献/ [/ 14/ ]/ ,/ 高速公路/ 的/ AP/ 点/ 通信/ 范围/ 设为/ 800m/ ,/ 两个/ AP/ 间/ 相距/ 8km/ ,/ 符合/ 高速公路/ 上/ AP/ 点/ 设置/ 在/ 加油站/ 或/ 服务区/ 的/ 实际/ 情况/ ./ 车辆/ 的/ 通信/ 半径/ 设为/ 250m/ ./ 协助/ 下载/ 过程/ 中取/ 1s/ 作为/ 用户/ 与/ 协助/ 车辆/ 建立/ 连接/ 所用/ 的/ 时间/ ./ AP/ 区/ 下载/ 速率/ 设为/ 150KBytes/ // s/ [/ 14/ ]/ ,/ 对/ 向/ 车辆/ 协助/ 下载/ 速率/ 设为/ 50KBytes/ // s/ ./ 车速/ 在/ 90/ ~/ 150km/ // h/ 之间/ 随机/ 产生/ ,/ 在/ 车速/ 变化/ 上/ ,/ 假定/ 车速/ 变化/ 的/ 概率/ 为/ p/ ,/ 变化/ 的/ 范围/ 在/ 90/ ~/ 150km/ // h/ ,/ 并且/ 符合/ 对数/ 正态分布/ [/ 15/ ]/ ,/ 假定/ 用户/ 车速/ 为/ 90km/ // h/ ./ 图/ 7/ 比较/ 了/ 在/ 车速/ 保持/ 不变/ ,/ 车流/ 符合/ Poisson/ 分布/ (/ λ/ =/ 10/ )/ 时/ ,/ 不/ 采用/ 协助/ 下载/ 方法/ 、/ 前/ 文/ 提到/ 的/ 次优/ 解/ 和/ 采用/ DSRelay/ 方案/ 的/ 吞吐量/ 情况/ ./ 在/ 没有/ 协助/ 下载/ 的/ 情况/ 下/ ,/ 目标/ 车辆/ 只/ 通过/ AP/ 点/ 进行/ 数据/ 下载/ ,/ 在/ 0/ ~/ 30s/ 的/ AP/ 服务/ 区内/ ,/ 车辆/ 的/ 下载速度/ 是/ 150KBytes/ // s/ ,/ 然后/ 经过/ 大约/ 6min/ 运行/ 在/ 盲区/ ,/ 与/ 网络/ 失去/ 联系/ ,/ 直到/ 进入/ 下/ 一个/ AP/ 区才/ 继续/ 下载/ ./ 结果显示/ 离开/ 下/ 一个/ AP/ 区/ 之前/ 下载/ 总量/ 达/ Page7/ 到/ 9MBytes/ ./ 根据/ 本文/ 提出/ 的/ 算法/ ,/ 在/ 用户/ 驶出/ AP/ 区/ 100s/ 后/ ,/ 就/ 接收/ 到/ 了/ 协助/ 车辆/ 发来/ 的/ 数据/ ,/ 在/ DA/ (/ 30/ ~/ 350s/ )/ 中/ 使用/ 次优/ 解/ 下载/ 方案/ ,/ 用户/ 可/ 从/ 协助/ 车辆/ 上/ 下载/ 到/ 7MBytes/ 的/ 数据/ ,/ 而/ 使用/ DSRelay/ 算法/ 可以/ 下载/ 9MBytes/ 数据/ ,/ 吞吐量/ 高于/ 次优/ 解/ 的/ 方法/ ./ 很/ 明显/ ,/ 这种/ 方式/ 显著/ 的/ 提高/ 了/ 车辆/ 下载/ 的/ 吞吐量/ ,/ 减少/ 了/ 延迟/ ./ 我们/ 使用/ 两种/ 方式/ 分别/ 下载/ 大小/ 为/ 8.1/ MB/ 、/ 27MB/ 和/ 55.3/ MB/ 的/ 视频文件/ 和/ 一个/ 时长/ 为/ 119min/ 的/ 379.8/ MB/ 的/ 电影/ 文件/ 去/ 比较/ 时延/ 和/ 平均/ 带宽/ ./ 表/ 2/ 显示/ :/ 无/ 协助/ 下载/ 的/ 方法/ 没用/ 利用/ DA/ 区/ ,/ 从而/ 导致/ 了/ 相对/ 较长/ 的/ 时延/ ,/ 并/ 随着/ 文件尺寸/ 增大/ ,/ 平均/ 带宽/ 逐渐/ 减低/ ./ 相/ 比较而言/ ,/ 使用/ DSRelay/ 方法/ 下载/ 55MB/ 的/ 数据/ 仅用/ 时/ 1284s/ ,/ 效率/ 提高/ 了/ 近/ 三倍/ ,/ 42KB/ // s/ 的/ 带宽/ 对于/ 用户/ 浏览/ 视频文件/ 是/ 可以/ 接受/ 的/ ./ 当/ 用户/ 在线/ 观看/ 时长/ 为/ 119min/ 的/ 电影/ 时/ ,/ 总/ 延迟/ 为/ 7908s/ ,/ 约/ 132min/ ./ 略高于/ 电影/ 长度/ ./ 和/ 非/ 协助/ 下载/ 相比/ ,/ 性能/ 有/ 了/ 非常/ 显著/ 的/ 提高/ ./ 表/ 2/ 下载/ 不同/ 大小/ 文件/ 的/ 延迟/ (/ D/ ./ )/ 和/ 平均/ 带宽/ (/ A/ ./ B/ ./ )/ 文件/ 长度/ // MB8/ ./ 138320.923134/ ./ 627.0177315/ ./ 268339.555/ ./ 3388014.2128442/ ./ 8379.82781213/ ./ 7790848.0/ 从/ 实验/ 结果/ 可知/ ,/ 假设/ 用户/ 车速/ 保持/ 在/ 90km/ // h/ ,/ 如果/ 用户/ 刚一/ 进入/ AP/ 区/ 就/ 提出/ 下载/ 请求/ 的/ 情况/ 下/ ,/ 使用/ 两种/ 方法/ 下载/ 小于/ 4.5/ MB/ 的/ 文件/ ,/ 其/ 平均/ 带宽/ 相同/ ,/ 因为/ 用户/ 在/ AP/ 区内/ 可以/ 完成/ 下载/ ./ 但是/ 如果/ 一个/ AP/ 区内/ 不能/ 完成/ 下载/ 的话/ ,/ DSRelay/ 方法/ 就/ 具有/ 一定/ 的/ 优势/ ,/ 用户/ 可以/ 在/ 运行/ 到/ 下/ 一个/ AP/ 区/ 一半/ 的/ 时间/ 即可/ 继续/ 下载/ 工作/ ,/ 如表/ 2/ 所示/ ,/ 下载/ 8.1/ MB/ 的/ 数据文件/ ,/ 此/ 方法/ 可/ 使/ 延时/ 减少/ 70/ %/ 左右/ ./ 但是/ 用户/ 一/ 进入/ AP/ 区/ 就/ 提出/ 下载/ 请求/ 是/ 最为/ 理想/ 的/ 情况/ ,/ 实际上/ 大部分/ 请求/ 发生/ 在/ AP/ 通信/ 区/ 的/ 中间/ 部分/ ./ 这种/ 情况/ 下/ 只要/ 文件/ 大于/ 2.5/ MB/ 左右/ ,/ 一个/ AP/ 区/ 就/ 无法/ 完成/ 下载/ ,/ 使用/ DSRelay/ 可以/ 将/ 延迟/ 减少/ 到/ 50/ %/ 以上/ ./ 而/ 如果/ 文件/ 下载/ 需要/ 2/ 个/ AP/ 区/ 以上/ 才能/ 完成/ (/ 数据量/ 大于/ 15MB/ )/ ,/ 则/ 表/ 2/ 的/ 实验/ 结果显示/ DSRelay/ 可以/ 比/ 普通/ 的/ 下载/ 方法/ 提高/ 2/ ~/ 4/ 倍/ 的/ 带宽/ ./ 需要/ 特别/ 指出/ 的/ 是/ ,/ 第/ 1/ 个/ 盲区/ 中/ 最初/ 约/ 有/ 100s/ 的/ 时间/ 没有/ 下载/ 发生/ ,/ 是因为/ 第/ 2/ 个/ AP/ 点/ 在/ 收到/ 请求/ 后/ 选取/ 协助/ 车辆/ ,/ 而/ 最快/ 的/ 协助/ 车辆/ 与/ 用户/ 相遇/ 发生/ 也/ 要/ 在/ 用户/ 离开/ AP/ 区/ 的/ 100s/ 的/ 时间/ ./ 而/ 第/ 2/ 个/ 以后/ 的/ 盲区/ 中/ 协助/ 下载/ 从/ 用户/ 离开/ AP/ 通信/ 范围/ 以后/ 就/ 产生/ 了/ ,/ 这/ 是因为/ 第/ 2/ 个/ 以后/ 的/ AP/ 点有/ 足够/ 的/ 时间/ 选择/ 协助/ 车辆/ ,/ 以使/ 其/ 可以/ 在/ 用户/ 一/ 离开/ AP/ 通信/ 区/ 就/ 能/ 与/ 协助/ 车/ 相遇/ ./ 车流/ 密度/ 对/ AP/ 选择/ 协助/ 车辆/ 有/ 很大/ 的/ 影响/ ./ 图/ 8/ 显示/ 了/ 车流/ 密度/ 与/ 吞吐量/ 的/ 关系/ ./ 从图/ 8/ 可以/ 看出/ 当/ 车流/ 密度/ λ/ 设为/ 20/ 时/ ,/ 盲区/ 内/ 车辆/ 下载/ 总量/ 为/ 7MB/ 左右/ ,/ 而/ 当/ λ/ =/ 10/ 和/ 5/ 时/ ,/ 吞吐量/ 分别/ 上升/ 到/ 8.5/ MB/ 和/ 9MB/ ./ 显然/ ,/ 在/ 假定/ 车速/ 不变/ 的/ 情况/ 下/ 车流/ 越/ 密集/ ,/ 目标/ 车辆/ 的/ 吞吐量/ 越大/ ./ 这/ 是因为/ 下/ 一站/ 的/ AP/ 点有/ 更/ 大/ 的/ 选择/ 空间/ 来/ 选择/ 协助/ 车辆/ ,/ 以/ 保证/ 用户/ 在/ 行驶/ 过程/ 中/ 尽可能/ 的/ 保持/ 联通/ 状态/ ./ 然而/ ,/ 车速/ 不变/ 的/ 假设/ 是/ 不/ 成立/ 的/ ./ 正如/ 3.4/ 节所/ 分析/ ,/ 汽车/ 的/ 速度/ 受/ 诸多/ 因素/ 的/ 影响/ ,/ 即使/ 在/ 高速公路/ 上/ 车速/ 也/ 不会/ 一直/ 保持/ 恒定/ ,/ 因此/ 应该/ 考虑/ 车速/ 变化/ 对/ 协助/ 下载/ 的/ 影响/ ./ 图/ 8/ 目标/ 车速/ 为/ 90km/ // h/ 不同/ 车流/ 分布/ 吞吐量/ 在/ λ/ =/ 10/ 的/ 情况/ 下/ ,/ 我们/ 分别/ 对/ 车速/ 的/ 变化率/ 为/ 20/ %/ 、/ 30/ %/ 和/ 50/ %/ 的/ 情况/ 做/ 了/ 仿真/ ,/ 如图/ 9/ 所示/ ./ Page8/ 车速/ 变化/ 可能/ 使/ 协助/ 车辆/ 未/ 在/ 预期/ 的/ 时刻/ 接触/ 到/ 用户/ ,/ 从而/ 导致/ 下载/ 冲突/ ,/ 降低/ 吞吐量/ ./ 当/ 发生冲突/ 时/ ,/ 3.4/ 节/ 提出/ 了/ 解决/ 冲突/ 的/ 方案/ ./ 仿真/ 结果显示/ ,/ 车速/ 变化率/ 越大/ ,/ 发生冲突/ 的/ 可能性/ 越大/ ,/ 对/ 吞吐量/ 的/ 影响/ 也/ 就/ 越/ 大/ ./ 图/ 10/ 显示/ 了/ 不同/ λ/ 值/ 对应/ 的/ 不同/ 车速/ 变化率/ 的/ 冲突/ 发生/ 的/ 情况/ ,/ 仿真/ 中以/ 秒/ 作为/ 单位/ ./ 从/ 结果/ 可以/ 看出/ ,/ 车流/ 越/ 密集/ ,/ 发生冲突/ 的/ 可能性/ 越大/ ./ 当/ λ/ =/ 5/ 并且/ p/ =/ 50/ %/ 共/ 发生/ 了/ 70/ 次/ 冲突/ ./ 当/ p/ =/ 20/ %/ ,/ 冲突/ 值/ 下降/ 到/ 19/ 次/ ./ 相比之下/ ,/ λ/ =/ 10/ 的/ 时候/ ,/ 发生冲突/ 的/ 可能性/ 略有/ 下降/ ,/ p/ =/ 50/ %/ 仍/ 有/ 56/ 次/ 冲突/ ./ 而/ 当/ λ/ 值为/ 20/ 时/ ,/ 车速/ 变化/ 对/ 结果/ 产生/ 的/ 影响/ 非常/ 小/ ,/ 这/ 是因为/ 协助/ 下载/ 车辆/ 间距/ 很大/ ,/ 即使/ 车速/ 发生/ 很大/ 变化/ ,/ 也/ 不会/ 导致/ 很大/ 的/ 冲突/ ./ 当/ p/ =/ 20/ %/ 的/ 时候/ 仅/ 发生/ 两次/ 传输/ 冲突/ ,/ 这/ 对/ 结果/ 的/ 影响/ 非常/ 小/ ./ 图/ 10/ 不同/ λ/ 值/ 对应/ 的/ 车速/ 变化/ 的/ 冲突/ 发生/ 次数/ 通过/ 以上/ 实验/ 结果/ 可知/ ,/ (/ 1/ )/ 使用/ DSRelay/ 协助/ 下载/ 方法/ 显著/ 提高/ 了/ 车辆/ 下载/ 的/ 吞吐量/ ,/ 在/ 下载/ 大/ 文件/ 或是/ 在线视频/ 服务/ 时/ 优势/ 尤为/ 明显/ ,/ (/ 2/ )/ 在/ 保持/ 车速/ 不变/ 的/ 前提/ 下/ ,/ 车流/ 密度/ 与/ 吞吐量/ 成正比/ ,/ 原因/ 是/ 车辆/ 密度/ 越大/ ,/ 可供/ AP/ 选择/ 的/ 协助/ 车辆/ 越多/ ./ (/ 3/ )/ 在/ 保持/ 车辆/ 密度/ 不变/ 时/ (/ λ/ =/ 10/ )/ ,/ 图/ 9/ 的/ 实验/ 结果表明/ 车速/ 变化/ 越大/ ,/ 用户/ 的/ 吞吐量/ 越低/ ,/ 这/ 是因为/ 协助/ 车/ 和/ 目标/ 车未/ 在/ 预期/ 的/ 时间/ 相遇/ ,/ 导致/ 传输/ 冲突/ ./ 实验/ 结果/ 也/ 显示/ 了/ 考虑/ 到/ 车速/ 变化/ 因素/ ,/ 车流/ 密度/ 越大/ 发生/ 碰撞/ 的/ 概率/ 也/ 会/ 越/ 大/ ,/ 吞吐量/ 越低/ ./ 因此/ 本文/ 提出/ 的/ 方法/ 更/ 适合/ 应用/ 到/ 具有/ 一定/ 车流/ 密度/ 的/ 并且/ 用户/ 车速/ 变化/ 相对/ 比较/ 小/ 的/ 高速公路/ 上/ ,/ 并且/ 如果/ 用户/ 想/ 提高/ 下载/ 的/ 质量/ 要/ 尽可能/ 的/ 保持/ 车速/ 稳定/ ./ 5/ 结束语/ 为了/ 尽可能/ 地/ 利用/ 原本/ 没有/ 下载/ 发生/ 的/ DA/ 区/ 下载/ 数据/ 以/ 达到/ 提高/ 用户/ 下载/ 吞吐量/ 的/ 目的/ ,/ 本文/ 提出/ 了/ 一种/ 基于/ 动态/ 时槽/ 的/ 协助/ 下载/ 方法/ ,/ 通过/ 对/ 向/ 汽车/ 携带/ 请求/ 数据/ 的/ 方法/ 在/ DA/ 中/ 提供/ 协助/ 下载/ 服务/ ;/ 同时/ 本文/ 针对/ 由于/ 车速/ 变化/ 而/ 导致/ 的/ 冲突/ 提出/ 了/ 相应/ 的/ 解决方案/ ./ 最后/ 对/ 方案/ 进行/ 了/ 仿真/ ,/ 验证/ 了/ 其/ 可行性/ ./ 实验/ 结果表明/ ,/ 如果/ 汽车/ 在/ 一个/ AP/ 点/ 无法/ 完成/ 下载/ ,/ 使用/ DSRelay/ 方法/ 通过/ 对/ 向/ 的/ 车辆/ 协助/ 下载/ 可以/ 将/ 下载/ 的/ 吞吐量/ 提高/ 70/ %/ 以上/ ,/ 同时/ 有效/ 地/ 降低/ 了/ 下载/ 文件/ 的/ 延迟/ ./ 下/ 一步/ 的/ 工作/ 包括/ 研究/ 相对速度/ 与/ 传输/ 误码率/ 的/ 关系/ ,/ 比较/ SDCD/ 和/ ODCD/ 对/ 结果/ 的/ 影响/ ./ 另外/ 通过/ 路线/ 预测/ 和/ GPS/ 导航/ 等/ 机制/ 深入研究/ 行车/ 路线/ 并/ 不/ 确定/ 的/ 城市/ 场景/ 协助/ 下载/ 方法/ ./ 

