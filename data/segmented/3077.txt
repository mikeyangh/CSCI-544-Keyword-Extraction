Page1/ 基于/ 人工/ 鱼群/ 的/ ABC/ 支持/ 型/ QoS/ 单播/ 路由/ 机制/ 王兴伟/ 秦培玉/ 黄敏/ (/ 东北大学/ 信息科学/ 与/ 工程学院/ 沈阳/ 110004/ )/ 摘要/ 下一代/ 互联网/ NGI/ (/ NextGenerationInternet/ )/ 需要/ 提供/ 服务质量/ QoS/ (/ QualityofService/ )/ 路由/ 能力/ ,/ 支持/ 总/ 最佳/ 连接/ ABC/ (/ AlwaysBestConnected/ )/ ./ 但是/ ,/ 由于/ 链路/ 状态/ 的/ 难以/ 精确测量/ 与/ 用户/ QoS/ 需求/ 的/ 难以/ 准确/ 表达/ ,/ 因此/ QoS/ 路由/ 基于/ 的/ 信息/ 实际上/ 是/ 模糊/ 的/ ./ 同时/ ,/ 在/ 网络/ 运营/ 日益/ 商业化/ 的/ 环境/ 下/ ,/ 支持/ ABC/ 需要/ 兼顾/ 用户/ 和/ 网络/ 提供/ 方/ 利益/ ,/ 考虑/ 双方/ 效用/ 共赢/ ./ 为此/ ,/ 文中/ 引入/ 模糊数学/ 、/ 概率论/ 和/ 博弈论/ 知识/ ,/ 设计/ 了/ 一种/ ABC/ 支持/ 型/ QoS/ 单播/ 路由/ 机制/ ./ 该/ 机制/ 采用/ 区间/ 形式/ 描述/ 用户/ QoS/ 需求/ 和/ 边/ (/ 链路/ )/ 参数/ ,/ 引入/ 用户/ 满意度/ 和/ 边/ 评价/ ,/ 通过/ 博弈/ 分析/ ,/ 基于/ 人工/ 鱼群/ 算法/ ,/ 寻找/ 使/ 用户/ 和/ 网络/ 提供/ 方/ 效用/ 达到/ 或/ 接近/ Nash/ 均衡/ 下/ Pareto/ 最优/ 的/ QoS/ 单播/ 路径/ ./ 仿真/ 结果表明/ ,/ 该/ 机制/ 是/ 可行/ 和/ 有效/ 的/ ./ 关键词/ 服务质量/ ;/ 单播/ 路由/ ;/ 总/ 最佳/ 连接/ ;/ 人工/ 鱼群/ 算法/ ;/ Nash/ 均衡/ ;/ Pareto/ 最优/ 1/ 引言/ 近年来/ ,/ 随着/ Internet/ 、/ 多媒体/ 内容/ 、/ 移动/ 通信/ 技术/ 等/ 的/ 发展/ 与/ 融合/ ,/ 下一代/ 互联网/ NGI/ (/ NextGenerationInternet/ )/ 很/ 可能/ 发展/ 成为/ 地面/ 网与空/ 天网/ 、/ 固定/ 网/ 与/ 移动网/ 等/ 异构/ 多段/ 多/ 提供/ 方/ 网络/ 融合/ 而成/ 的/ 一体化/ 网络/ ,/ 出现/ 主干/ 和/ 接入/ 链路/ 多样化/ 的/ 局面/ ./ 在/ 通信/ 端到/ 端/ 路径/ 上/ ,/ 每一/ 跳/ 都/ 可能/ 存在/ 多种不同/ 类型/ 链路/ 供/ 用户/ 选择/ ,/ 从而/ 使得/ 在/ 通信/ 开始/ 时/ 和/ 进行/ 期间/ 支持/ 用户/ 对/ NGI/ 的/ 总/ 最佳/ 连接/ ABC/ (/ AlwaysBestConnected/ )/ 成为/ 可能/ [/ 1/ ]/ ,/ 实现/ 服务质量/ QoS/ (/ QualityofService/ )/ 全局/ 无缝/ 漫游/ [/ 2/ -/ 3/ ]/ ./ ABC/ 意味着/ 用户/ 在/ 任何/ 时间/ 和/ 任何/ 地点/ 都/ 可以/ 获得/ 当前/ 最佳/ 可用/ 连接/ ,/ 通过/ 当前/ 最佳/ 方式/ 使用/ NGI/ ,/ 而且/ 每当/ 有/ 更好/ 的/ 连接/ 方式/ 出现/ 时/ 就/ 可以/ 自/ 适应/ 透明/ 切换/ ./ 然而/ ,/ “/ 最佳/ ”/ 本身/ 就是/ 一个/ 模糊/ 概念/ ,/ 依赖/ 很多/ 因素/ (/ 如/ 用户/ QoS/ 需求/ 、/ 愿/ 付费/ 用/ 、/ 偏爱/ 、/ 终端/ 能力/ 、/ 接入点/ 可用/ 情况/ 等/ )/ ./ 在/ 网络/ 运营/ 日益/ 商业化/ 的/ 环境/ 下/ ,/ ABC/ 也/ 不是/ 用户/ 一厢情愿/ 的/ 事/ ,/ 需要/ 兼顾/ 用户/ 和/ 网络/ 提供/ 方/ 利益/ ,/ 支持/ 双方/ 效用/ 共赢/ [/ 4/ ]/ ./ 此外/ ,/ NGI/ 组成部分/ 的/ 异构/ 与/ 动态/ 、/ 终端/ 乃至/ 网络/ 移动/ 等/ 的/ 影响/ 和/ 信息/ 传递/ 不可避免/ 的/ 时延/ 及其/ 不确定性/ 等/ ,/ 都/ 导致/ 路由/ 所/ 依赖/ 的/ 链路/ 状态/ 信息/ 难以/ 精确测量/ ./ 另一方面/ ,/ 用户/ QoS/ 需求/ 受/ 主观因素/ 影响/ 较大/ ,/ 难以/ 准确/ 表达/ ,/ 需要/ 体现/ 一定/ 柔性/ ./ 这些/ 都/ 使/ ABC/ 支持/ 型/ QoS/ 路由/ 变得/ 非常复杂/ ./ 受/ 两个/ 或/ 两个/ 以上/ 加性/ 或/ 乘性/ 参数/ 约束/ 的/ QoS/ 单播/ 路由/ 问题/ 是/ NP/ 完全/ 的/ [/ 5/ ]/ ,/ 需/ 采用/ 启发式/ 或/ 智能/ 优化/ 算法/ 解决/ ./ 在/ 文献/ [/ 5/ ]/ 中/ ,/ 设计/ 了/ 一种/ 算法/ ,/ 先/ 在/ 网络拓扑/ 中/ 剪掉/ 带宽/ 不/ 满足要求/ 的/ 边/ ,/ 而后/ 以/ 延迟/ 为/ 权值/ 使用/ Dijkstra/ 算法/ [/ 6/ ]/ 计算/ 带宽/ 约束/ 最短/ 延迟/ 路径/ ./ 在/ 文献/ [/ 7/ ]/ 中/ ,/ 设计/ 了/ 一种/ 分布式/ 启发/ 算法/ ,/ 通过/ 构造/ 延迟/ 和/ 费用/ 向量/ 完成/ 路由/ 计算/ ./ 在/ 文献/ [/ 8/ ]/ 中/ ,/ 基于/ 概率论/ 把/ 延迟/ 和/ 费用/ 整合/ 成/ 一个/ 参数/ 用于/ 路由/ 选择/ ./ 在/ 文献/ [/ 9/ ]/ 中/ ,/ 把/ QoS/ 参数/ 分为/ 敏感/ 和/ 非/ 敏感/ 两类/ ,/ 简化/ 路由/ 计算/ ./ 在/ 文献/ [/ 10/ ]/ 中/ ,/ 引入/ 量化/ 费用函数/ ,/ 基于/ Bellman/ -/ Ford/ 算法/ [/ 11/ ]/ 设计/ 了/ 一种/ 路由/ 预计/ 算/ 方法/ ./ 在/ 文献/ [/ 12/ ]/ 中/ ,/ 设计/ 了/ 一种/ 延迟/ 受限/ 的/ 分布式/ 路由/ 算法/ ./ 在/ 文献/ [/ 13/ ]/ 中/ ,/ 设计/ 了/ 一种/ 多/ 约束/ 源/ 路由/ 算法/ ./ 在/ 文献/ [/ 14/ ]/ 中/ ,/ 提出/ 了/ 一种/ 可/ 在/ 逐跳/ 路由/ 协议/ 中/ 使用/ 的/ K/ 近似算法/ ,/ 用来/ 寻找/ 多加性/ QoS/ 参数/ 约束/ 路径/ ./ 在/ 文献/ [/ 15/ ]/ 中/ ,/ 通过/ 引入/ 单一/ 混成/ 指标/ 求解/ 多/ 约束/ QoS/ 路由/ ./ 在/ 文献/ [/ 16/ ]/ 中/ ,/ 提出/ 了/ 两个/ 基于/ 贡献/ 区域/ 的/ 算法/ 求解/ 多/ 约束/ QoS/ 路由/ ./ 在/ 文献/ [/ 17/ ]/ 中/ ,/ 把/ QoS/ 指标/ 平均/ 和/ 广度/ 优先/ 搜索/ 相结合/ 来/ 求解/ 多/ QoS/ 约束/ 路由/ ./ 在/ 文献/ [/ 18/ -/ 20/ ]/ 中/ ,/ 把/ 遗传/ 、/ 蚁/ 群/ 和/ 模拟退火/ 这/ 3/ 个/ 智能/ 优化/ 算法/ 分别/ 用于/ 寻找/ QoS/ 路径/ ./ 在/ 文献/ [/ 21/ ]/ 中/ ,/ 引入/ Pareto/ 最优/ ,/ 设计/ 了/ 两可加/ QoS/ 约束/ 动态/ 权重/ 系数/ 单播/ 路由/ 算法/ ./ 在/ 文献/ [/ 22/ ]/ 中/ ,/ 提出/ 了/ 一种/ 基于/ 概率/ 的/ 不/ 精确/ 链路/ 信息/ 下/ QoS/ 单播/ 路由/ 算法/ ,/ 寻找/ 延迟/ 与/ 带宽/ 受限/ 费用/ 最小/ QoS/ 路由/ ./ 在/ 文献/ [/ 23/ ]/ 中/ ,/ 把/ 不/ 精确/ 信息/ 下/ 带宽/ 与/ 延迟/ 约束/ 路径/ 问题/ 分解成/ 带宽/ 约束/ 路径/ 和/ 延迟/ 约束/ 路径/ 两个/ 子/ 问题/ ,/ 首先/ 获得/ 非劣/ 解集/ ,/ 而后/ 基于/ 效用函数/ 从中/ 选取/ 特定/ 路径/ 作为/ 问题/ 解/ ./ 在/ 文献/ [/ 24/ ]/ 中/ ,/ 针对/ 不/ 精确/ 信息/ 下多/ 加性/ QoS/ 约束/ 路径/ 问题/ ,/ 采用/ 模糊/ 逻辑/ 从/ 一组/ 候选/ 路径/ 中/ 选择/ 符合要求/ 的/ QoS/ 路由/ ./ 在/ 文献/ [/ 25/ ]/ 中/ ,/ 提出/ 了/ 一种/ 基于/ 模糊/ 塔/ 的/ QoS/ 单播/ 路由/ 算法/ ,/ 寻找/ 两/ 节点/ 之间/ 既/ 满足用户/ QoS/ 需求/ 又/ 试图/ 最大化/ 网络/ 提供/ 方/ 概率/ 收益/ 的/ 路径/ ./ 在/ 文献/ [/ 26/ ]/ 中/ ,/ 提出/ 了/ 一种/ 基于/ 微观/ 经济学/ 的/ 模糊/ QoS/ 单播/ 路由/ 机制/ ,/ 采用/ 启发式/ 选路/ 算法/ ,/ 使得/ 找到/ 的/ 路径/ 不仅/ 满足用户/ QoS/ 需求/ ,/ 而且/ 双方/ 在/ 其/ 上/ 的/ 效用/ 达到/ 或/ 接近/ Nash/ 均衡/ 下/ 的/ Pareto/ 最优/ ./ 但是/ ,/ 上述/ 算法/ 尚未/ 从/ 支持/ ABC/ 的/ 角度/ 出发/ 充分考虑/ 在/ 链路/ 状态/ 信息/ 难以/ 精确测量/ 与/ 用户/ QoS/ 需求/ 难以/ 准确/ 表达/ 的/ 情况/ 下/ ,/ 如何/ 实现/ 支持/ 用户/ 和/ 网络/ 提供/ 方/ 效用/ 共/ 赢/ 的/ QoS/ 单播/ 路由/ 机制/ ./ 本文/ 引入/ 模糊数学/ 、/ 概率论/ 和/ 博弈论/ 知识/ ,/ 设计/ 了/ 一种/ ABC/ 支持/ 型/ QoS/ 单播/ 路由/ 机制/ ,/ 采用/ 区间/ 形式/ 描述/ 用户/ QoS/ 需求/ 和/ 边/ (/ 链路/ )/ 参数/ ,/ 引入/ 用户/ 满意度/ 和/ 边/ 评价/ ,/ 通过/ 博弈/ 分析/ ,/ 基于/ 人工/ 鱼群/ 算法/ [/ 27/ ]/ ,/ 寻找/ 使/ 用户/ 和/ 网络/ 提供/ 方/ 效用/ 达到/ 或/ 接近/ Nash/ 均衡/ 下/ Pareto/ 最优/ 的/ QoS/ 单播/ 路径/ ./ 仿真/ 结果表明/ ,/ 该/ 机制/ 是/ 可行/ 和/ 有效/ 的/ ./ 2/ 问题/ 描述/ 2.1/ 网络/ 模型/ 与/ 路由/ 请求/ 网络/ 建模/ 为/ 图/ G/ (/ V/ ,/ E/ )/ ,/ V/ 是/ 节点/ 集/ ,/ E/ 是/ 边集/ ./ / vi/ ,/ vj/ ∈/ V/ (/ i/ ,/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ |/ V/ |/ )/ ,/ 其间/ 可能/ 存在/ 多条/ 边/ ./ 简单/ 起/ 见/ ,/ 本文/ 把/ 节点/ 参数/ 归并到/ 边/ 参数/ 中/ ./ / el/ ∈/ E/ ,/ 考虑/ 如下/ 参数/ :/ 网络/ 提供/ 方/ 编号/ Nlp/ 、/ 可用/ 带宽/ [/ BwlL/ ,/ BwlH/ ]/ 、/ 延迟/ [/ DllL/ ,/ DllH/ ]/ 、/ 出错率/ [/ LslL/ ,/ LslH/ ]/ 、/ 带宽/ 单位成本/ ctl/ ./ 用户/ QoS/ 单播/ 路由/ 请求/ 表示/ 为/ 〈/ vs/ ,/ vd/ ,/ [/ bw/ _/ rqL/ ,/ bw/ _/ rqH/ ]/ ,/ [/ dl/ _/ rqL/ ,/ dl/ _/ rqH/ ]/ ,/ [/ ls/ _/ rqL/ ,/ ls/ _/ rqH/ ]/ ,/ Pu/ 〉/ ,/ 其/ 元素/ 依次/ 代表/ 源/ 节点/ 、/ 目的/ 节点/ 、/ 带宽/ 、/ 延迟/ 、/ 出错率/ 需求/ 区间/ 和/ 愿付/ Page3/ 费用/ 上限/ ./ 采用/ 区间/ 形式/ 表示/ 带宽/ 、/ 延迟/ 和/ 出错率/ 是/ 为了/ 适应/ 边/ (/ 链路/ )/ 参数值/ 的/ 难以/ 精确测量/ 和/ 用户/ QoS/ 需求/ 的/ 难以/ 准确/ 表达/ ./ 2.2/ 边/ 参数/ 概率/ 与/ 用户/ 满意度/ el/ 向/ 用户/ 提供/ 带宽/ bwl/ 的/ 概率/ GBl/ 与/ 用户/ 对/ 在/ el/ 上/ 实际/ 得到/ 带宽/ bwl/ 的/ 满意度/ SBl/ 分别/ 定义/ 如下/ :/ GBl/ =/ SBl/ =/ GBl/ 的/ 定义/ 表明/ ,/ 越/ 接近/ 边/ 可用/ 带宽/ 区间/ 下限/ ,/ 则/ 边/ 越/ 可能/ 向/ 用户/ 提供/ 此/ 带宽/ ;/ SBl/ 的/ 定义/ 表明/ ,/ 越/ 接近/ 用户/ 带宽/ 需求/ 区间/ 上限/ ,/ 则/ 用户/ 对/ 从/ 边/ 实际/ 得到/ 的/ 带宽/ 越/ 满意/ ./ 设/ 延迟/ 取值/ 在/ [/ DllL/ ,/ DllH/ ]/ 上/ 均匀分布/ [/ 28/ ]/ ,/ 则/ el/ 的/ 延迟/ 等于/ dll/ 的/ 概率/ GDl/ 和/ 用户/ 对/ 在/ el/ 上/ 实际/ 经历/ 延迟/ dll/ 的/ 满意度/ SDl/ 分别/ 定义/ 如下/ :/ 设/ 出错率/ 取值/ 在/ [/ LslL/ ,/ LslH/ ]/ 上/ 均匀分布/ ,/ 则/ el/ 的/ 出错率/ 等于/ lsl/ 的/ 概率/ GLl/ 和/ 用户/ 对/ 在/ el/ 上/ 实际/ 经历/ 出错率/ lsl/ 的/ 满意度/ SLl/ 分别/ 定义/ 如下/ :/ GDl/ =/ SDl/ =/ GLl/ =/ 出错率/ [/ Ls1/ ,/ Ls2/ ]/ 〈/ PF11/ [/ Ls2/ ,/ Ls3/ ]/ 〈/ PF21/ [/ Lsr/ ,/ Lsr/ +/ 1/ ]/ 〈/ PFr1/ 其中/ ,/ α/ B/ 、/ α/ D/ 和/ α/ L/ 分别/ 代表/ 带宽/ 、/ 延迟/ 和/ 出错率/ 对/ 用户/ QoS/ 需求/ 的/ 相对/ 重要性/ ,/ 0/ / α/ B/ ,/ α/ D/ ,/ α/ L/ / 1/ ,/ α/ B/ +/ α/ D/ +/ α/ L/ =/ 1/ ./ ECl/ 反映/ 了/ 用户/ 对/ el/ 提供/ 的/ QoS/ 的/ 满意度/ ./ 2.4/ 博弈/ 分析/ 在/ 本文/ 中/ ,/ 用户/ 和/ 网络/ 提供/ 方在/ 边上/ 博弈/ ./ 2.4/ ./ 1/ 带宽/ 定价/ 带宽/ 定价/ 由/ 基价/ 和/ 浮动价/ 组成/ ,/ 前者/ 根据/ 边/ 的/ 网络/ 提供/ 方/ 确定/ ,/ 不/ 参加/ 博弈/ ;/ 后者/ 根据/ 边/ 的/ 延迟/ 和/ 出错率/ 通过/ 用户/ 和/ 网络/ 提供/ 方/ 博弈/ 确定/ ./ 表/ 1/ 是/ 边/ 延迟/ 与/ 出错率/ 同/ 带宽/ 浮动价/ 之间/ 的/ 对照/ 关系/ ./ 例如/ ,/ 若/ el/ 的/ 延迟/ 与/ 出错率/ 分别/ 位于/ [/ Dl1/ ,/ Dl2/ ]/ 和/ [/ Ls1/ ,/ Ls2/ ]/ ,/ 则/ 〈/ PF11m/ 套/ 带宽/ 浮动价/ ./ 表/ 1/ 边/ 的/ 延迟/ 与/ 出错率/ 同/ 带宽/ 浮动价/ 对照/ 关系/ l1/ ,/ PF12l2/ ,/ …/ ,/ PF12l2/ ,/ …/ ,/ PF22l1/ ,/ PF22/ / l1/ ,/ PFr2l2/ ,/ …/ ,/ PFr2SLl/ =/ GDl/ 和/ GLl/ 的/ 定义/ 表明/ ,/ 边/ 在/ 延迟/ 区间/ 和/ 出错率/ 区间/ 各点/ 取值/ 机会均等/ ;/ SDl/ 和/ SLl/ 的/ 定义/ 表明/ ,/ 越/ 接近/ 用户/ 延迟/ 和/ 出错率/ 需求/ 区间/ 的/ 下限/ ,/ 则/ 用户/ 对/ 在/ 边/ 实际/ 经历/ 的/ 延迟/ 和/ 出错率/ 越/ 满意/ ./ 在/ 上述/ 定义/ 中/ ,/ k/ >/ 0/ ,/ ε/ 是/ 远/ 小于/ 1/ 的/ 纯小数/ ./ 2.3/ 边/ 评价/ 边/ 评价/ 函数/ 表征/ 边/ 对/ 用户/ QoS/ 需求/ 的/ 适合/ 隶属/ 度/ ./ 设/ 用户/ 在/ el/ 上/ 实际/ 占用/ 带宽/ 、/ 实际/ 经历/ 延迟/ 和/ 实际/ 经历/ 出错率/ 分别/ 为/ bwl/ 、/ dll/ 和/ lsl/ ,/ 则/ 定义/ bwl/ 、/ dll/ 和/ lsl/ 对/ 用户/ 带宽/ 、/ 延迟/ 和/ 出错率/ 需求/ 的/ 适合/ 隶属/ 度/ 函数/ 即边/ 带宽/ 、/ 延迟/ 和/ 出错率/ 评价/ 函数/ EBl/ 、/ EDl/ 和/ ELl/ 如下/ :/ 上述/ 定义/ 表明/ ,/ 带宽/ 、/ 延迟/ 和/ 延迟/ 抖动/ 在/ 一条/ 边上/ 实际/ 取/ 某值/ 的/ 概率/ 越高/ ,/ 用户/ 对/ 在/ 该/ 边上/ 取该/ 值/ 的/ 满意度/ 越大/ ,/ 则/ 该/ 边/ 越/ 适合/ 满足用户/ 的/ QoS/ 需求/ ./ 定义/ 边/ 质量/ 综合/ 评价/ 函数/ ECl/ 如下/ :/ 延迟/ [/ Dl2/ ,/ Dl3/ ]/ Page42/ ./ 4.2/ 博弈/ 策略/ 用户/ 有/ n/ 种/ 策略/ ,/ 表示/ 为/ 〈/ bwl1/ ,/ bwl2/ ,/ …/ ,/ bwln/ 〉/ ,/ bwlx/ 表示/ 用户/ 在/ 第/ x/ 种/ 策略/ 下/ 在/ el/ 上/ 实际/ 占用/ 的/ 带宽/ ./ 网络/ 提供/ 方有/ m/ 种/ 策略/ ,/ 表示/ 为/ 〈/ PBl/ +/ PFijPBl/ +/ PFij/ 和/ [/ Dlj/ ,/ Dlj/ +/ 1/ ]/ 下/ 的/ m/ 套/ 带宽/ 定价/ ,/ 其中/ ,/ PBl/ 是/ 网络/ 提供/ 方在/ el/ 上/ 的/ 带宽/ 基价/ ./ 2.4/ ./ 3/ 费用/ 和/ 成本/ 在/ 策略/ 对/ 〈/ bwlx/ ,/ PBl/ +/ PFij/ 的/ 带宽/ 而/ 支付/ 的/ 费用/ EPlxy/ 和/ 网络/ 提供/ 方因/ 向/ 用户/ 提供/ 带宽/ 而/ 承担/ 的/ 成本/ CTlxy/ 分别/ 计算/ 如下/ :/ 2.4/ ./ 4/ 效用/ 和/ Pareto/ 优势/ 定义/ 用户/ 和/ 网络/ 提供/ 方在/ el/ 上/ 的/ 效用/ 矩阵/ 为/ [/ 〈/ uulxy/ ,/ nulxy/ 〉/ ]/ n/ ×/ m/ ,/ 矩阵/ 的/ n/ 行/ 与/ m/ 列/ 分别/ 对应/ 用户/ 和/ 网络/ 提供/ 方/ 的/ n/ 种/ 与/ m/ 种/ 博弈/ 策略/ ,/ 则/ 在/ 〈/ bwlx/ ,/ PBl/ +/ PFij/ 效用/ uulxy/ 和/ nulxy/ 分别/ 计算/ 如下/ :/ 上述/ 定义/ 表明/ ,/ 用户/ 对/ 所用/ 边/ 的/ 质量/ 的/ 综合/ 评价/ 越高/ ,/ 用户/ 因/ 使用/ 该边/ 而/ 实际/ 付出/ 的/ 费用/ 越/ 接近/ 网络/ 提供/ 方因/ 提供/ 该边/ 而/ 实际/ 承担/ 的/ 成本/ (/ 即/ 用户/ 被/ 网络/ 提供/ 方/ 实际/ 赚取/ 的/ 利润/ 越低/ )/ ,/ 则/ 用户/ 效用/ 越高/ ;/ 网络/ 提供/ 方因/ 提供/ 该边/ 而/ 实际/ 从/ 用户/ 赚取/ 的/ 利润/ 越高/ ,/ 实际/ 承担/ 的/ 成本/ 越低/ ,/ 则/ 网络/ 提供/ 方/ 效用/ 越高/ ./ 假设/ 图中/ 的/ 边/ (/ 即/ 网络/ 中/ 的/ 链路/ )/ 是/ 由/ Q/ 个/ 网络/ 提供/ 方/ 提供/ 的/ ,/ 则/ 用户/ 和/ 第/ h/ 个/ 网络/ 提供/ 方在/ 路径/ P/ 上/ 的/ 效用/ 分别/ 计算/ 如下/ :/ 效用/ 对/ 〈/ uulxy/ ,/ nulxy/ 〉/ 在/ el/ 上/ 的/ Pareto/ 优势/ 定义/ 如下/ :/ 在/ 式/ (/ 17/ )/ 中/ ,/ β/ u/ 和/ β/ n/ 分别/ 代表/ 对/ 用户/ 和/ 网络/ 提供/ 方/ 的/ 倾斜/ 权值/ ,/ 0/ / β/ u/ ,/ β/ n/ / 1/ ,/ β/ u/ +/ β/ n/ =/ 1/ ./ PDlxy/ 值越/ 小/ ,/ 双方/ 效用/ 越大且/ 越/ 均衡/ ,/ 对应/ 的/ 策略/ 对/ 越/ 能/ 使/ 双方/ 效用/ Pareto/ 最优/ ./ 2.4/ ./ 5/ 博弈/ 过程/ 在/ 边上/ 博弈/ 的/ 目的/ 是/ 通过/ 确定/ 最佳/ 策略/ 对/ 使/ 双方/ 效用/ 达到/ 或/ 接近/ Nash/ 均衡/ 下/ 的/ Pareto/ 最优/ ./ 在/ [/ 〈/ uulxy/ ,/ nulxy/ 〉/ ]/ n/ ×/ m/ 中/ 达到/ Nash/ 均衡/ 的/ 〈/ uulx/ / y/ / 〉/ 应该/ 满足/ [/ 29/ ]/ nul/ 在/ [/ 〈/ uulxy/ ,/ nulxy/ 〉/ ]/ n/ ×/ m/ 中/ ,/ 若/ 只有/ 一个/ 这样/ 的/ x/ / y/ / ,/ nul/ 〈/ uul/ 方/ 最佳/ 策略/ 对/ ./ 若/ 存在/ 多个/ 这样/ 的/ 〈/ uul/ 或/ 不/ 存在/ 这样/ 的/ 〈/ uulPareto/ 优势/ ,/ 选择/ 与/ PDlxy/ 最小值/ 对应/ 的/ 策略/ 对/ 作为/ 最佳/ 策略/ 对/ (/ 若/ 有/ 多/ 对/ ,/ 则/ 任选/ 其一/ )/ ./ 2.5/ 数学模型/ 本文/ 模式/ 的/ 目标/ 是/ 在/ 满足用户/ QoS/ 需求/ 的/ 前提/ 下/ 使/ 双方/ 效用/ 在/ 所选/ 路径/ 上/ 达到/ 或/ 接近/ Nash/ 均衡/ 下/ 的/ Pareto/ 最优/ ,/ 数学/ 描述/ 如下/ :/ s/ ./ t/ ./ 这里/ ,/ 路径/ P/ 的/ 可用/ 带宽/ BwP/ 、/ 延迟/ DlP/ 、/ 出错率/ LsP/ 和/ 用户/ 支付/ 的/ 费用/ EPP/ 分别/ 计算/ 如下/ :/ 3/ 算法/ 设计/ 人工/ 鱼群/ 算法/ 是/ 一种/ 模拟/ 鱼群/ 行为/ 的/ 群体/ 智能/ 方法/ [/ 27/ ]/ ./ 它/ 主要/ 模拟/ 鱼/ 的/ 觅食/ 、/ 聚群/ 和/ 追尾/ 行为/ ,/ 通过/ 人工/ 鱼/ 个体/ 局部/ 寻优/ ,/ 达到/ 在/ 人工/ 鱼群/ 中/ 突现/ 全局/ 最优/ ./ 本文/ 设计/ 的/ 基于/ 人工/ 鱼群/ 的/ QoS/ 单播/ 路由/ Page5/ 算法/ 描述/ 如下/ ./ 3.1/ 解/ 的/ 表达/ 、/ 生成/ 和/ 适值/ 函数/ 在/ 本文/ 中/ ,/ 人工/ 鱼/ 对应/ 问题/ 解即/ QoS/ 单播/ 路径/ ,/ 采用/ 向量/ 表示/ 形式/ ,/ 组成/ 路径/ 的/ 边/ 按/ 从源/ 到/ 目的地/ 的/ 方向/ 依次/ 作为/ 向量/ 元素/ ./ 采用/ 如下/ 随机/ 路径/ 算法/ 生成/ 初始/ 解/ ./ 1/ ./ 当前/ 访问/ 节点/ Nc/ =/ vs/ ,/ 上/ 次访问/ 节点/ Np/ =/ Null/ ,/ 将/ Np/ 压栈/ ;/ 标记/ 图中/ 所有/ 节点/ 状态/ 均/ 为/ “/ 未/ 访问/ ”/ ./ 2/ ./ 若/ Nc/ =/ Null/ ,/ 则/ 失败/ 结束/ ;/ 若/ Nc/ ≠/ vd/ ,/ 则/ 转步/ 3/ ,/ 否则/ 转步/ 5.3/ ./ 置/ Nc/ 状态/ 为/ “/ 已/ 访问/ ”/ ./ 若/ Nc/ 的/ 所有/ 相邻/ 节点/ 都/ 处于/ “/ 已/ 访问/ ”/ 状态/ ,/ 则/ 弹/ 出栈/ 顶/ 元素/ 给/ Np/ ,/ Nc/ =/ Np/ ,/ 转步/ 2.4/ ./ 从/ Nc/ 的/ 相邻/ 节点/ 中/ 任选/ 一/ 处于/ “/ 未/ 访问/ ”/ 状态/ 的/ 节点/ Nn/ ;/ 从/ Nc/ 与/ Nn/ 之间/ 的/ 边/ 中/ 任选/ 一条/ 作为/ 从/ vs/ 到/ vd/ 路径/ 的/ 组成/ 边/ ;/ 将/ Nc/ 压栈/ ,/ Nc/ =/ Nn/ ,/ 转步/ 2/ ./ 结束/ ;/ 否则/ ,/ 失败/ 结束/ ./ 5/ ./ 若/ 路径/ 满足/ 式/ (/ 22/ )/ ~/ (/ 25/ )/ ,/ 则/ 把/ 其/ 作为/ 初始/ 解/ ,/ 成功/ 与/ 人工/ 鱼/ fk/ 对应/ 的/ 解/ 的/ 适值/ 函数/ 定义/ 如下/ :/ 显然/ ,/ 适值/ 越小/ ,/ 解越/ 优/ ./ 3.2/ 人工/ 鱼/ 距离/ 、/ 行为/ 及其/ 选择/ 两条/ 人工/ 鱼/ fk/ 和/ fv/ 间/ 的/ 距离/ 定义/ 如下/ :/ 式/ (/ 31/ )/ 表示/ 在/ 与/ fk/ 和/ fv/ 对应/ 的/ 向量/ 中有/ d/ (/ k/ ,/ v/ )/ 对/ 分量/ 不/ 相同/ ./ 本文/ 将/ fk/ 中/ 这样/ 的/ 分量/ 即边/ 的/ 集合/ 记为/ Dk/ (/ k/ ,/ v/ )/ ./ 设/ VDk/ 表示/ fk/ 的/ 感知/ 距离/ ,/ 则/ 满足/ d/ (/ k/ ,/ v/ )/ </ VDk/ 的/ 所有/ fv/ 构成/ fk/ 的/ 邻域/ ./ Sp/ 表示/ 人工/ 鱼/ 移动/ 步长/ ,/ θ/ 表示/ 拥挤/ 度/ 因子/ ./ fk/ 觅食/ 行为/ 描述/ 如下/ :/ 1/ ./ 设定/ CN/ ,/ Cn/ =/ 0.2/ ./ 对/ fk/ ,/ 在/ 其/ 邻域/ 内/ 任选/ 一/ fv/ ./ 3/ ./ 若/ FT/ (/ fv/ )/ / FT/ (/ fk/ )/ ,/ 则/ 转步/ 4/ ,/ 否则/ fk/ 向/ fv/ 方向/ 移动/ 一步/ :/ 随机/ 产生/ 整数/ s/ (/ 1/ / s/ / Sp/ )/ ,/ 若/ s/ >/ d/ (/ k/ ,/ v/ )/ ,/ 则/ s/ =/ d/ (/ k/ ,/ v/ )/ ;/ 在/ Dk/ (/ k/ ,/ v/ )/ 中/ 任选/ s/ 条边/ 进行/ 变换/ ,/ 使/ 其/ 与/ fv/ 中/ 的/ 对应/ 边/ 相同/ ,/ 觅食/ 行为/ 结束/ ./ 4/ ./ Cn/ =/ Cn/ +/ 1/ ./ 若/ Cn/ </ CN/ ,/ 则/ 转步/ 2/ ;/ 否则/ ,/ fk/ 随机/ 移动/ 一步/ :/ 随机/ 产生/ 整数/ s/ (/ 1/ / s/ / Sp/ )/ ,/ 在/ fk/ 中/ 任选/ s/ 条边/ 进行/ 随机/ 变换/ ,/ 觅食/ 行为/ 结束/ ./ fk/ 聚群/ 行为/ 描述/ 如下/ :/ 1/ ./ 确定/ fk/ 邻域/ 内/ 所有/ 人工/ 鱼/ 组成/ 的/ 集合/ Rk/ ./ 2/ ./ 确定/ Rk/ 的/ 中心/ 位置/ fc/ =/ (/ ecRk/ 中/ 的/ 人工/ 鱼/ 在/ 第/ x/ 个/ 分量/ 上/ 使用/ 最多/ 的/ 边/ (/ 若有/ 多条/ 这样/ 的/ 边/ ,/ 则/ 任选/ 其一/ )/ ./ 3/ ./ 若/ FT/ (/ fc/ )/ 方法/ 同/ 觅食/ 行为/ 步/ 3/ ;/ 否则/ ,/ 执行/ 觅食/ 行为/ ./ 聚群/ 行为/ 结束/ ./ fk/ 追尾/ 行为/ 描述/ 如下/ :/ 1/ ./ 从/ Rk/ 中/ 选出/ 适值/ 最小/ 的/ fv/ (/ 若有/ 多个/ ,/ 则/ 任选/ 其一/ )/ ,/ fmin/ =/ fv/ ,/ FTmin/ =/ FT/ (/ fv/ )/ ./ 2/ ./ 确定/ 与/ fmin/ 对应/ 的/ Rmin/ ./ 若/ FTmin/ 向/ fmin/ 方向/ 移动/ 一步/ ,/ 方法/ 同/ 觅食/ 行为/ 步/ 3/ ;/ 否则/ ,/ 执行/ 觅食/ 行为/ ./ 追尾/ 行为/ 结束/ ./ 行为/ 选择/ 采用/ 试探法/ ,/ 即/ 对/ fk/ 分别/ 模拟/ 执行/ 觅食/ 、/ 聚群/ 和/ 追尾/ 行为/ ,/ 得到/ fkp/ 、/ fks/ 和/ fkf/ :/ 若/ fkp/ 、/ fks/ 或/ fkf/ 对应/ 的/ 路径/ 不/ 连通/ ,/ 则/ FT/ (/ fkp/ )/ 、/ FT/ (/ fks/ )/ 或/ FT/ (/ fkf/ )/ 置/ 为/ 正/ 无穷大/ ;/ 若/ fkp/ 、/ fks/ 或/ fkf/ 对应/ 的/ 路径/ 存在/ 环路/ ,/ 则/ 去/ 环/ ;/ 若/ fkp/ 、/ fks/ 或/ fkf/ 对应/ 的/ 路径/ 不/ 满足/ 式/ (/ 22/ )/ ~/ 式/ (/ 25/ )/ ,/ 则/ FT/ (/ fkp/ )/ 、/ FT/ (/ fks/ )/ 或/ FT/ (/ fkf/ )/ 置/ 为/ 正/ 无穷大/ ;/ 若/ FT/ (/ fkp/ )/ 、/ FT/ (/ fks/ )/ 和/ FT/ (/ fkf/ )/ 三者/ 不全/ 为/ 正/ 无穷大/ ,/ 则/ 选择/ 执行/ 与/ 最小/ 适值/ 对应/ 的/ 行为/ ./ 3.3/ 算法/ 流程/ 本文/ 设计/ 的/ 基于/ 人工/ 鱼群/ 的/ QoS/ 单播/ 路由/ 算法/ 流程/ 描述/ 如下/ ./ 1/ ./ 设定/ 人工/ 鱼群/ 规模/ N/ ,/ 根据/ 3.1/ 节/ 生成/ N/ 条/ 人工/ 鱼/ ./ 对/ 每条/ fk/ ,/ 设定/ VDk/ 、/ Sp/ 和/ θ/ ./ 2/ ./ 对/ 每条/ fk/ ,/ 根据/ 式/ (/ 30/ )/ 计算/ FT/ (/ fk/ )/ ,/ 记/ 当前/ 适值/ 最小/ 的/ fk/ 为/ fk/ / ./ 3/ ./ 设定/ 迭代/ 次数/ I/ ,/ j/ =/ 1.4/ ./ 对/ 每条/ fk/ ,/ 根据/ 3.2/ 节/ 执行/ 选定/ 的/ 行为/ ,/ 若/ FT/ (/ fk/ )/ </ FT/ (/ fk/ / )/ ,/ 则/ k/ / =/ k/ ./ 5/ ./ 若/ j/ =/ I/ ,/ 则/ 把/ fk/ / 作为/ 问题/ 解/ ,/ 结束/ ;/ 否则/ ,/ j/ =/ j/ +/ 1/ ,/ 转步/ 4.4/ 仿真/ 实现/ 与/ 性能/ 评价/ 基于/ NS2/ (/ NetworkSimulator2/ )/ [/ 30/ ]/ 仿真/ 实现/ 了/ 上述/ 路由/ 机制/ ./ 仿真/ 时/ ,/ 在/ 路径/ 每一/ 跳/ 上/ 都/ 有/ 卫星/ 、/ 蜂窝/ 和/ 固网/ 3/ 个/ 不同/ 网络/ 提供/ 方/ 提供/ 的/ 链路/ 供选择/ ,/ 在/ 多个/ 实际/ 和/ 虚拟/ 网络拓扑/ 上/ 仿真/ 运行/ 本文/ 机制/ 、/ 基于/ 博弈论/ 方法/ 的/ 模糊/ QoS/ 单播/ 路由/ 机制/ [/ 31/ ]/ (/ 同/ 本文/ 机制/ 相比/ ,/ 该/ 机制/ 考虑/ 了/ 链路/ 状态/ 不/ 精确/ 和/ 效用/ 双赢/ ,/ 但/ 未/ 考虑/ 不/ 精确/ 用户/ QoS/ 需求/ ,/ 也/ 未/ 考虑/ 对/ ABC/ 的/ 支持/ )/ 以及/ 基于/ Dijkstra/ 算法/ [/ 6/ ]/ 的/ 单播/ 路由/ 机制/ (/ 以下/ 分别/ 简称/ A/ 机制/ 、/ G/ 机制/ 和/ D/ 机制/ )/ ./ 仿真/ 时/ 主要参数/ 取值/ 如下/ :/ k/ =/ 2/ ,/ ε/ =/ 0.001/ ;/ α/ B/ =/ α/ D/ =/ α/ L/ =/ 0.333/ ,/ 表示/ 带宽/ 、/ 延迟/ 和/ 出错率/ 在/ 用户/ QoS/ 需求/ 中/ 同等/ 重要/ ;/ β/ u/ =/ β/ n/ =/ 0.5/ ,/ 表示/ Page6/ 在/ 选路/ 时/ 既/ 不/ 向/ 网络/ 提供/ 方/ 倾斜/ 也/ 不/ 向/ 用户/ 倾斜/ ;/ VDk/ =/ 5/ ,/ Sp/ =/ 3/ ,/ θ/ =/ 0.618/ ./ 表/ 2/ 是/ 3/ 种/ 机制/ 在/ CERNET2/ 拓扑/ (/ 拓扑/ 1/ )/ 、/ CERNET/ 拓扑/ (/ 拓扑/ 2/ )/ 、/ G/ ?/ ANT/ 拓扑/ (/ 拓扑/ 3/ )/ 和/ 使用/ Waxman2/ 模型/ [/ 32/ ]/ 生成/ 的/ 平均/ 节点/ 度数/ 为/ 3.5/ 的/ 拓扑/ (/ 拓扑/ 4/ )/ 上/ 的/ 性能/ 比较/ 结果/ ./ 这里/ ,/ QoS/ 路由/ 请求/ 成功率/ 指/ 成功/ 完成/ QoS/ 路由/ 的/ 请求/ 数占/ QoS/ 路由/ 请求/ 总数/ 的/ 百分比/ ,/ Nash/ 均衡/ 下/ Pareto/ 最优/ 表/ 2/ 性能/ 比较/ 拓扑/ 2AGDQoS/ 路由/ 请求/ 成功率/ 0.9500/ ./ 8010.7200/ ./ 9000.7420/ ./ 6840.9280/ ./ 8030.7140/ ./ 9120.8200/ ./ 701/ 卫星/ 提供/ 方/ 效用/ 0.1580/ ./ 1520.1460/ ./ 1620.1540/ ./ 1480.1600/ ./ 1520.1460/ ./ 1630.1540/ ./ 145/ 蜂窝/ 提供/ 方/ 效用/ 0.1750/ ./ 1650.1570/ ./ 1860.1760/ ./ 1540.1940/ ./ 1780.1570/ ./ 2000.1840/ ./ 158/ 固网/ 提供/ 方/ 效用/ 0.1700/ ./ 1580.1540/ ./ 1840.1690/ ./ 1580.1860/ ./ 1710.1550/ ./ 1890.1760/ ./ 156/ 网络/ 提供/ 方总/ 效用/ 0.5030/ ./ 4750.4570/ ./ 5320.4990/ ./ 4600.5400/ ./ 5010.4580/ ./ 5520.5140/ ./ 459Nash/ 均衡/ 下/ Pareto/ 最优/ 比/ 0.9120/ ./ 6280.1710/ ./ 9220.7430/ ./ 1990.9380/ ./ 7250.1830/ ./ 9540.7500/ ./ 1765/ 结论/ 本文/ 引入/ 模糊数学/ 、/ 概率论/ 和/ 博弈论/ 相关/ 知识/ ,/ 基于/ 人工/ 鱼群/ 算法/ ,/ 设计/ 并/ 仿真/ 实现/ 了/ 一种/ ABC/ 支持/ 型/ QoS/ 单播/ 路由/ 机制/ ,/ 寻找/ 使/ 用户/ 和/ 网络/ 提供/ 方/ 效用/ 达到/ 或/ 接近/ Nash/ 均衡/ 下/ Pareto/ 最优/ 的/ QoS/ 单播/ 路由/ ./ 仿真/ 结果表明/ ,/ 本文/ 机制/ 是/ 可行/ 和/ 有效/ 的/ ./ 算法/ 与/ 模型/ 的/ 实用化/ 、/ 原型/ 系统/ 的/ 开发/ 及/ 对/ 组播/ 的/ 扩展/ 是/ 今后/ 研究/ 的/ 重点/ ./ 

