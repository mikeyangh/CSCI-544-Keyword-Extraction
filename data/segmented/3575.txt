Page1/ 一种/ 无线/ 传感器/ 网络/ MAC/ 协议/ 优化/ 算法/ 刘云璐/ 1/ )/ 蒲菊华/ 1/ )/ 方/ 维维/ 2/ )/ 熊璋/ 1/ )/ 1/ )/ (/ 北京航空航天大学/ 计算机科学/ 与/ 工程学院/ 北京/ 100191/ )/ 2/ )/ (/ 北京/ 交通/ 大学/ 计算机/ 与/ 信息技术/ 学院/ 北京/ 100044/ )/ 摘要/ 在/ 无线/ 传感器/ 网络/ 中/ ,/ 各/ 节点/ 采集/ 的/ 信息/ 以多/ 跳/ 的/ 方式/ 传送/ 到/ 汇聚/ 点/ ./ 从/ 各/ 节点/ 到/ 汇聚/ 点/ 形成/ 一棵/ 以/ 汇聚/ 点为/ 根/ 的/ 传输/ 树/ ./ 文中/ 在/ 对/ 无线/ 传感器/ 网络/ 传输/ 特点/ 分析/ 的/ 基础/ 上/ ,/ 剖析/ 了/ 基于/ CSMA/ // CA/ (/ 载波/ 多路/ 监听/ // 冲突/ 避免/ )/ 的/ MAC/ 协议/ 在/ 树状/ 结构/ 无线/ 传感器/ 网络/ 中/ 的/ 弊端/ ,/ 提出/ 了/ 一种/ 基于/ CSMA/ // CA/ 的/ MAC/ 协议/ 优化/ 算法/ ./ 算法/ 基于/ 节点/ 在/ 传输/ 树中/ 的/ 位置/ 信息/ 调整/ 其/ MAC/ 信道/ 接入/ 分配/ ,/ 将/ CSMA/ // CA/ 采用/ 的/ 各/ 节点均/ 等/ 竞争/ 信道/ 的/ 方法/ 优化/ 为/ 各/ 节点/ 依据/ 在/ 传输/ 树中/ 的/ 位置/ 情况/ 竞争/ 信道/ 的/ 方式/ ,/ 这一/ 优化/ 提高/ 了/ 节点/ 公平性/ ,/ 使/ MAC/ 信道/ 接入/ 分配/ 与/ 树状/ 结构/ 的/ 无线/ 传感器/ 网络/ 传输/ 特点/ 相/ 契合/ ,/ 解决/ 了/ 基于/ CSMA/ // CA/ 的/ MAC/ 协议/ 与/ 树状/ 结构/ 无线/ 传感器/ 网络/ 不/ 匹配/ 的/ 问题/ ,/ 从而/ 减少/ 了/ 信道/ 资源/ 浪费/ ,/ 提高/ 了/ 网络/ 传输/ 效率/ ,/ 降低/ 了/ 能耗/ ./ 实验/ 结果表明/ 该/ 算法/ 在/ 网络/ 丢/ 包率/ 、/ 吞吐量/ 和/ 能耗/ 方面/ 的/ 性能/ 均/ 有/ 较大/ 改进/ ./ 关键词/ 物/ 联网/ ;/ 无线/ 传感器/ 网络/ ;/ 传输/ 树/ ;/ MAC/ 协议/ 1/ 引言/ 无线/ 传感器/ 网络/ 是/ 物/ 联网/ 的/ 支撑/ 技术/ 之一/ ,/ 具有/ 广阔/ 的/ 应用/ 前景/ 和/ 许多/ 不同于/ 传统/ 无线网络/ 的/ 特点/ [/ 1/ ]/ ./ 典型/ 的/ 无线/ 传感器/ 网络/ 采用/ 汇聚/ 点/ (/ Sink/ )/ 收集/ 网络/ 中/ 的/ 数据/ ,/ 各/ 节点/ 采集/ 的/ 数据/ 通过/ 其它/ 节点/ 转发/ 以多/ 跳/ 的/ 方式/ 最终/ 传输/ 到/ 汇聚/ 点/ ,/ 整个/ 网络/ 的/ 信息/ 向/ 汇聚/ 点/ 传输/ 的/ 过程/ 形成/ 一棵/ 以/ 汇聚/ 点为/ 根/ 的/ 传输/ 树/ ,/ 这种/ 网络/ 模式/ 是/ 传感器/ 网络/ 最/ 主要/ 的/ 信息/ 传输/ 模式/ 之一/ [/ 2/ ]/ ./ 在/ 传输/ 树中/ ,/ 上层/ 节点/ 承载/ 的/ 传送/ 任务/ 不仅/ 包括/ 节点/ 本身/ 的/ 数据/ 采集/ ,/ 还/ 包括/ 下层/ 节点/ 的/ 数据/ 转发/ ./ 因此/ ,/ 网络/ 负载/ 会/ 在/ 上层/ 节点/ 处/ 累积/ ./ 一般/ 地/ 基于/ CSMA/ // CA/ 的/ 无线/ MAC/ 协议/ 为/ 网络/ 中/ 每个/ 节点/ 提供/ 同等/ 的/ 信道/ 访问/ 机会/ ,/ 这种/ 策略/ 比较/ 适用/ 于/ 传统/ 的/ Ad/ _/ hoc/ 网络/ ./ 在/ 传统/ 的/ Ad/ _/ hoc/ 网络/ 中/ ,/ 每个/ 节点/ 都/ 可以/ 是/ 信息/ 传输/ 的/ 目标/ 节点/ ,/ 网络/ 负载/ 的/ 分布/ 没有/ 一定/ 的/ 规律/ ,/ 平等/ 的/ 信道/ 访问/ 机会/ 对/ 各/ 节点/ 是/ 公平/ 适用/ 的/ ./ 但是/ 在/ 树状/ 传感器/ 网络/ 中/ 信息/ 传输/ 有/ 固定/ 的/ 目标/ 汇聚/ 点/ ,/ 上层/ 节点/ 负载/ 较/ 重/ ,/ 同等/ 的/ 信道/ 访问/ 机会/ 平均/ 到/ 每条/ 信息/ ,/ 则/ 每条/ 信息/ 在/ 上层/ 节点/ 处/ 的/ 发送/ 概率/ 将/ 明显/ 低于/ 其/ 在/ 下层/ 节点/ 处/ 的/ 发送/ 概率/ ./ 并且/ 当/ 网络/ 在/ 一段时间/ 内/ 持续/ 繁忙/ 时/ ,/ 上层/ 节点/ 处/ 的/ 信息/ 由于/ 发送/ 概率/ 低/ 而/ 累积/ ,/ 下层/ 节点/ 的/ 信息/ 持续/ 传送/ 到/ 上层/ 节点/ 处/ 并/ 逐渐/ 在/ 上层/ 节点/ 处/ 形成/ 拥塞/ ,/ 甚至/ 被/ 丢弃/ ./ 显然/ ,/ 用于/ 发送/ 这些/ 最终/ 被/ 丢弃/ 信息/ 的/ 资源/ (/ 包括/ 信道/ 、/ 能量/ 等/ )/ 被/ 浪费/ 了/ ./ 这一/ 问题/ 是/ 由/ 基于/ CSMA/ // CA/ 的/ 无线/ MAC/ 协议/ 和/ 树状/ 传输/ 结构/ 的/ 传感器/ 网络/ 的/ 传输/ 特点/ 不/ 相符/ 造成/ 的/ ./ 本文/ 针对/ 上述/ 问题/ ,/ 基于/ 树状/ 传输/ 结构/ 的/ 无线/ 传感器/ 网络应用/ ,/ 提出/ 一种/ 基于/ CSMA/ // CA/ 的/ 无线/ MAC/ 协议/ 的/ 优化/ 算法/ 和/ 信道/ 抢占/ 解决方案/ ./ 本文/ 第/ 2/ 节/ 给出/ 相关/ 领域/ 的/ 研究/ 现状/ ,/ 介绍/ 本文/ 工作/ 的/ 特点/ 和/ 贡献/ ;/ 第/ 3/ 节/ 描述/ 本文/ 工作/ 采用/ 的/ 网络/ 模型/ 和/ 相关/ 定义/ ;/ 第/ 4/ 节/ 讨论/ 树状/ 传感器/ 网络/ 的/ 传输/ 特点/ ,/ 并/ 给出/ 算法/ 的/ 数学/ 推导/ 和/ 证明/ ;/ 第/ 5/ 节/ 阐述/ 本文/ 算法/ 的/ 流程/ ;/ 第/ 6/ 节/ 给出/ 算法/ 在/ 丢/ 包率/ 、/ 吞吐量/ 和/ 能耗/ 方面/ 的/ 性能/ 实验/ 验证/ 与/ 分析/ ;/ 最后/ 是/ 本文/ 的/ 结论/ ./ 2/ 相关/ 工作/ 近年来/ ,/ 各国/ 学者/ 针对/ 传感器/ 网络/ 的/ 高效/ 传输/ 问题/ ,/ 做/ 了/ 很多/ 研究/ ,/ 包括/ 从/ MAC/ 层/ 、/ 路由/ 层到/ 传输层/ 的/ 优化/ 改进/ ,/ 有效/ 地/ 降低/ 了/ 网络/ 丢/ 包率/ 和/ 能耗/ ,/ 增强/ 了/ 网络/ 的/ 可靠性/ ./ 本文/ 着重/ 分析/ MAC/ 层/ 的/ 解决方案/ ./ 传感器/ 网络/ MAC/ 协议/ 根据/ 信道/ 分配/ 方式/ 可以/ 分为/ 三类/ :/ 基于/ CSMA/ // CA/ 的/ 协议/ 、/ 调度/ 协议/ 和/ 混合/ MAC/ 协议/ ./ 基于/ CSMA/ // CA/ 的/ 协议/ 不/ 存在/ 网络/ 同步/ 问题/ ,/ 扩展性/ 好/ ./ 调度/ 协议/ 能/ 有效/ 利用/ 资源/ ,/ 但/ 一般/ 需要/ 中央/ 节点/ 调度/ ,/ 在/ 复杂/ 网络/ 情况/ 下/ 部署/ 有效/ 的/ 调度/ 协议/ 被/ 证明/ 是/ NP/ -/ hard/ 问题/ [/ 3/ ]/ ,/ 并且/ 以/ TDMA/ 协议/ 族/ 为/ 代表/ 的/ 调度/ 协议/ 通常/ 有/ 时钟/ 同步/ 要求/ ,/ 时钟/ 同步/ 需要/ 节点/ 频繁/ 交换/ 控制/ 信息/ ,/ 这/ 将/ 大大增加/ 网络/ 能耗/ ./ 因此/ ,/ 由于/ 传感器/ 节点/ 及/ 网络/ 布设/ 的/ 局限性/ ,/ 以/ TDMA/ 协议/ 族/ 为/ 代表/ 的/ 调度/ 协议/ 较少/ 在/ 传感器/ 网络/ 中/ 直接/ 采用/ [/ 4/ ]/ ./ 混合/ 协议/ 结合/ 了/ 上述/ 两种/ 协议/ 的/ 优点/ ,/ 但/ 通常/ 比较复杂/ ,/ 难以/ 配置/ [/ 5/ ]/ ./ 基于/ CSMA/ // CA/ 的/ 协议/ 是/ 传感器/ 网络/ 中/ 比较/ 常用/ 的/ 一种/ 方式/ ,/ 研究/ 也/ 最为/ 活跃/ ,/ 下面/ 我们/ 对/ 该/ 领域/ 的/ 代表性/ 成果/ 加以分析/ ./ 一般/ 基于/ CSMA/ // CA/ 的/ 传感器/ 网络/ MAC/ 协议/ 是/ 在/ 采用/ DCF/ (/ 分布/ 协调/ 功能/ )/ 的/ IEEE802/ ./ 11/ [/ 6/ ]/ 的/ 基础/ 上/ 进行/ 的/ 优化/ 和/ 改进/ ,/ 其/ 信道/ 竞争/ 的/ 核心思想/ 是/ :/ 当/ 节点/ 发送数据/ 时/ ,/ 先/ 监听/ 信道/ 是否/ 繁忙/ ./ 如果/ 繁忙/ ,/ 节点/ 等待/ 一定/ 时间/ 后/ 再/ 尝试/ 发送/ ;/ 如果/ 再次/ 发生冲突/ ,/ 节点/ 按/ 一定/ 的/ 策略/ 重/ 发/ 信息/ ,/ 直到/ 信息/ 发送/ 成功/ 或/ 放弃/ ./ SMAC/ (/ Sensor/ -/ MAC/ )/ [/ 7/ ]/ 是/ 第一个/ 完全/ 针对/ 传感器/ 网络/ 设计/ 的/ 基于/ IEEE802/ ./ 11/ 的/ MAC/ 协议/ ,/ 它/ 的/ 重要/ 贡献/ 是/ 引入/ 了/ 节点/ 休眠/ 机制/ ,/ 即/ 节点/ 定期/ 休眠/ ,/ 相邻/ 节点/ 休眠/ 调度/ 周期/ 同步/ ./ TMAC/ [/ 8/ ]/ 是/ 在/ SMAC/ 基础/ 上/ 的/ 改进/ ,/ 对/ 节点/ 休眠/ 的/ 策略/ 进行/ 了/ 适度/ 的/ 调整/ ,/ 例如/ 根据/ 网络/ 状况/ 动态/ 调整/ 节点/ 休眠/ 时间/ 以/ 提高/ 协议/ 效率/ ./ B/ -/ MAC/ [/ 9/ ]/ 、/ WiseMAC/ [/ 10/ ]/ 、/ X/ -/ MAC/ [/ 11/ ]/ 和/ Z/ -/ MAC/ [/ 4/ ]/ 协议/ 在/ SMAC/ 协议/ 的/ 基础/ 上/ ,/ 采用/ 前导/ 序列/ 技术/ 提高/ 了/ 休眠/ 唤醒/ 决策/ 的/ 精度/ ,/ 无需/ 节点/ 同步/ ./ P/ -/ MAC/ [/ 12/ ]/ 协议/ 根据/ 网络流量/ 自/ 适应/ 地/ 调整/ 休眠/ 调度/ ./ Sift/ 协议/ [/ 13/ ]/ 针对/ 事件驱动/ 的/ 传感器/ 网络应用/ ,/ 当/ 多个/ 节点/ 同时/ 检测/ 到/ 同一个/ 事件/ ,/ 只/ 保证/ 其中/ 的/ 部分/ 节点/ 发送/ 检测/ 信息/ ,/ 一定/ 程度/ 上/ 降低/ 了/ 网络/ 冲突/ 的/ 概率/ ,/ 但/ 协议/ 基于/ 严格/ 的/ 时钟/ 同步/ ./ DMAC/ [/ 14/ ]/ 协议/ 提出/ 根据/ 网络/ 传输/ 的/ 树状/ 结构/ ,/ 调整/ 休眠/ 调度/ 策略/ ,/ 使得/ 下层/ 节点/ 的/ 发送/ 时间/ 与/ 上层/ 节点/ 的/ 接收/ 时间/ 相对/ 应/ ./ 所述/ 的/ 传感器/ 网络/ MAC/ 协议/ 的/ 信道/ 接入/ 机制/ 均/ 沿用/ IEEE802/ ./ 11/ 协议/ 的/ DCF/ 机制/ ,/ 本文/ 称/ 它们/ 属于/ IEEE802/ ./ 11/ 协议/ 族/ ./ 它们/ 主要/ 从/ 休眠/ 调度/ 策略/ 方面/ 对/ MAC/ 协议/ 进行/ 优化/ 改进/ ,/ 没有/ 针对/ 本文/ 所述/ 的/ 树状/ 传输/ 结构/ 网络/ 所/ 存在/ 的/ 信道/ 分配/ 问题/ 提出/ 解/ Page3/ 决/ 方案/ ./ 调度/ 协议/ 以/ TDMA/ 协议/ 族/ 为/ 代表/ ,/ 下面/ 介绍/ 调度/ 协议/ 相关/ 研究成果/ ./ TRAMA/ 协议/ [/ 15/ ]/ 提供/ 了/ 根据/ 流量/ 预先/ 分配/ 时间槽/ 的/ 无/ 冲突/ 通信/ ,/ 它/ 属于/ TDMA/ 协议/ 族/ ,/ 时间/ 同步/ 及/ 时间槽/ 分配/ 调度/ 的/ 资源/ 耗费/ 是/ 这类/ 算法/ 应用/ 的/ 瓶颈/ ,/ 且/ 这类/ 算法/ 复杂/ 、/ 实现/ 难度/ 大/ ./ 本文/ 算法/ 属于/ 基于/ CSMA/ // CA/ 的/ 协议/ ,/ 但/ 根据/ 网络结构/ 调整/ 了/ 信道/ 接入/ 概率/ 参数/ ,/ 与/ TDMA/ 协议/ 族/ 相比/ ,/ 本文/ 算法/ 由于/ 没有/ 涉及/ 到/ 时间槽/ 调度/ 算法/ ,/ 总体/ 上/ 规避/ 了/ TDMA/ 协议/ 族/ 的/ 局限/ (/ 如/ 时钟/ 同步/ )/ ./ 混合/ 协议/ 是/ 基于/ CSMA/ // CA/ 的/ 协议/ 与/ 调度/ 协议/ 的/ 结合/ ,/ 与/ 本文/ 算法/ 解决/ 的/ 问题/ 不同/ ./ 本文/ 算法/ 的/ 目标/ 是/ 解决/ 传感器/ 网络/ 树状/ 传输/ 结构/ 引入/ 的/ 问题/ ,/ 即/ 在/ 传输/ 树中/ ,/ 由于/ 信息/ 在/ 上层/ 节点/ 处/ 的/ 发送/ 概率/ 低于/ 在/ 下层/ 节点/ 处/ 的/ 发送/ 概率/ 而/ 造成/ 的/ 传输/ 效率/ 低下/ 及/ 信道/ 和/ 能量/ 资源/ 浪费/ 等/ 问题/ ./ 以/ Z/ -/ MAC/ 为/ 代表/ 的/ 混合/ 协议/ 解决/ 的/ 是/ MAC/ 层单/ 跳/ 信息/ 发送/ 冲突/ 的/ 问题/ [/ 4/ ]/ ,/ 并/ 没有/ 考虑/ 传感器/ 网络结构/ 引入/ 的/ 传输/ 问题/ ./ Funneling/ -/ MAC/ [/ 16/ ]/ 在/ 全网/ 采用/ CSMA/ 协议/ ,/ 在/ 汇聚/ 点/ 周围/ 的/ 漏斗/ 区域/ 按/ 需/ 采用/ TDMA/ 协议/ ,/ 虽然/ 将/ TDMA/ 协议/ 仅/ 限制/ 在/ 汇聚/ 点/ 附近/ ,/ 并/ 由/ 汇聚/ 点/ 实施/ 时间槽/ 调度/ ,/ 避免/ 了/ TDMA/ 协议/ 时间槽/ 调度/ 算法/ 在/ 传感/ 节点/ 难以/ 部署/ 的/ 问题/ ,/ 但/ 随/ 网络/ 规模/ 的/ 增大/ ,/ 漏斗/ 区/ 范围/ 扩大/ ,/ 时间槽/ 调度/ 的/ 复杂度/ 和/ 向/ 各/ 节点/ 周期性/ 部署/ 的/ 耗费/ 都/ 随之/ 大大增加/ ,/ TDMA/ 协议/ 的/ 时钟/ 同步/ 问题/ 也/ 并未/ 避免/ ./ 时钟/ 同步/ 信息/ 的/ 交互/ 耗费/ 对/ 能耗/ 要求/ 极高/ 的/ 传感器/ 网络/ 是/ 不容小视/ 的/ 负担/ ,/ 也/ 是/ 本文/ 算法/ 不/ 考虑/ TDMA/ 类/ 协议/ 的/ 重要/ 原因/ 之一/ ./ 在/ 一些/ 涉及/ MAC/ 层/ 优化/ 的/ 算法/ 中/ ,/ 采用/ 了/ 优先级/ 设置/ 方案/ [/ 17/ ]/ ,/ 根据/ 设计/ 目标/ ,/ 在/ MAC/ 层为/ 信息/ 设置/ 不同/ 的/ 优先级/ [/ 18/ -/ 20/ ]/ ./ 文献/ [/ 18/ ]/ 通过/ 调整/ MAC/ 层/ 延迟/ 等待/ 窗口/ ,/ 给予/ 拥塞/ 节点/ 更/ 多/ 的/ 信道/ 占有/ 机会/ ,/ 以/ 帮助/ 缓解/ 拥塞/ ./ 文献/ [/ 19/ ]/ 针对/ 无/ 固定/ 汇聚/ 点/ 的/ 无线网络/ 应用/ ,/ 给予/ 数据流/ 不同/ 的/ MAC/ 层/ 优先级/ ./ 文献/ [/ 20/ ]/ 在/ 网格/ 结构/ 的/ 网络/ 中/ ,/ 给予/ 等候/ 信道/ 时间/ 较长/ 的/ 节点/ 更/ 多/ 的/ 信道/ 抢占/ 几率/ ./ 这些/ 算法/ 分别/ 是/ 根据/ 不同/ 的/ 网络/ 传输/ 结构/ 需要/ 提出/ 的/ MAC/ 层/ 优化/ 算法/ ,/ 但/ 极少/ 涉及/ 本文/ 所述/ 的/ 问题/ ./ 本文/ 针对/ 树状/ 结构/ 的/ 传感器/ 网络应用/ ,/ 优化/ 基于/ CSMA/ // CA/ 的/ 无线/ MAC/ 协议/ ./ 与/ 以上/ 所述/ 方法/ 不同/ ,/ 本文/ 算法/ 采用/ 设置/ MAC/ 层/ 最小/ 竞争/ 窗口/ 的/ 方法/ 来/ 实现/ 信道/ 的/ 非/ 均等/ 分配/ ,/ 并非/ 设置/ 信息/ 或/ 节点/ 的/ 优先级/ ,/ 即/ 不/ 干预/ 网络/ 运行/ 的/ 动态/ 参数/ ,/ 节点/ 或/ 信息/ 没有/ 优先/ 等级/ ./ 算法/ 优化/ 了/ 在/ 信息/ 碰撞/ 情况/ 下/ 的/ 信道/ 分配/ 方式/ ,/ 因此/ 具有/ 较/ 高/ 的/ 自适应性/ :/ 在/ 网络/ 轻载/ 情况/ 下/ ,/ 由于/ 不/ 存在/ 信息/ 拥塞/ 和/ 不/ 公平/ 问题/ ,/ 算法/ 运行/ 与/ IEEE802/ ./ 11/ 协议/ 相近/ ;/ 在/ 网络/ 重载/ 情况/ 下/ ,/ 算法/ 通过/ 调整/ MAC/ 层/ 最小/ 竞争/ 窗口/ 给予/ 节点/ 不同/ 的/ 信道/ 接入/ 概率/ ,/ 以/ 解决/ 前面/ 所述/ 的/ IEEE802/ ./ 11/ 协议/ 族/ 与/ 树状/ 传感器/ 网络应用/ 不/ 匹配/ 的/ 问题/ ./ 3/ 网络/ 模型/ 本文/ 描述/ 的/ 网络/ 模型/ 针对/ 上行/ 传输/ 的/ 树状/ 传感器/ 网络应用/ ,/ 如图/ 1/ 所示/ ./ 我们/ 对/ 网络/ 模型/ 给出/ 以下/ 假设/ :/ (/ 1/ )/ 网络/ 中/ 节点/ 静止/ ,/ 在/ 初始/ 网络/ 部署/ 后/ ,/ 传感/ (/ 2/ )/ 在/ 节点/ 传输/ 半径/ 范围/ 内/ 的/ 点/ ,/ 是/ 可/ 连通/ 点/ ,/ 整个/ 网络/ 为/ 连通/ 网络/ ,/ 即/ 从/ 汇聚/ 点/ 可以/ 通过/ 多/ 跳/ 的/ 方式/ 与/ 任一/ 节点/ 通信/ ;/ 器/ 节点/ 和/ 汇聚/ 点/ 静止/ ;/ (/ 3/ )/ 节点/ 能量/ 主要/ 消耗/ 在/ 通信/ 中/ ,/ 根据/ 文献/ [/ 21/ ]/ 中/ 的/ 测量/ ,/ 设定/ 发送信息/ 消耗/ 的/ 能量/ 为/ 接收/ 信息/ 消耗/ 的/ 能量/ 的/ 两倍/ ./ 在/ 检测/ 区域/ 中/ ,/ 给定/ N/ 个/ 传感器/ 节点/ 和/ 汇聚/ 点/ s/ 构成/ 连通/ 网络/ ,/ 用无向/ 图/ G/ =/ (/ V/ ,/ E/ )/ 表示/ ,/ V/ 表示/ 传感器/ 节点/ 的/ 集合/ ,/ E/ 是/ 节点/ 间/ 双向/ 链路/ 集合/ ./ 以/ 汇聚/ 点为/ 根/ 节点/ 在/ G/ 中/ 可以/ 生成/ 一棵/ M/ 层/ 的/ 传输/ 树/ T/ ./ 如图/ 1/ 所示/ ,/ 为/ 一棵/ 以/ 汇聚/ 点为/ 根/ 的/ 上行/ 传输/ 树/ ./ 在/ 以上/ 所述/ 的/ 网络/ 模型/ 中/ ,/ 传输/ 树/ T/ 中/ 的/ 任一/ 非叶/ 节点/ 既/ 要/ 发送/ 自己/ 检测/ 的/ 信息/ ,/ 又/ 承担/ 了/ 子/ 节点/ 数据/ 的/ 转发/ 工作/ ./ 在/ 传输/ 树/ T/ 中/ ,/ 距/ 汇聚/ 点越/ 近且/ 子/ 节点/ 越多/ 的/ 节点/ ,/ 承载/ 的/ 发送/ 任务/ 就/ 相应/ 越重/ ./ 我们/ 称/ 这种/ 情况/ 为/ 无线/ 传感器/ 网络/ 的/ 非均衡/ 传输/ 特/ Page4/ 点/ ,/ 描述/ 如下/ :/ 在/ 上行/ 传输/ 的/ 树状/ 无线/ 传感器/ 网络/ 中/ ,/ 非叶/ 节点/ n/ 的/ 负载量/ 不少/ 于/ 它/ 的/ 所有/ 子/ 节点/ 的/ 负载量/ 的/ 总和/ ./ 对于/ 任一/ 节点/ n/ :/ (/ 1/ )/ 若/ 在/ T/ 中距/ 汇聚/ 点/ 的/ 跳/ 数为/ i/ ,/ 则/ 在/ T/ 中/ 的/ 层次/ 为/ li/ 或/ l/ (/ n/ )/ ;/ 所有/ 层次/ 为/ li/ 或/ l/ (/ n/ )/ 的/ 节点/ 集合/ 为/ Li/ 或/ L/ (/ n/ )/ ;/ (/ 2/ )/ 子/ 节点/ 集合/ 为/ Dn/ ;/ 层/ li/ 或/ l/ (/ n/ )/ 的/ 子/ 节点/ 集合/ (/ 层中/ 所有/ 节点/ 的/ 子/ 节点/ 组成/ 的/ 集合/ )/ 为/ Dli/ 或/ Dl/ (/ n/ )/ ,/ ;/ 层/ li/ 或/ l/ (/ n/ )/ 的/ 平均/ 子/ 节点/ 数/ (/ 层中/ 所有/ 节点/ 子/ 节点/ 数/ 的/ 平均值/ )/ 为/ 珡/ Dli/ 或/ 珡/ Dl/ (/ n/ )/ ;/ 网络/ 总/ 平均/ 子/ 节点/ 数为/ 珡/ D/ =/ ∑/ M/ -/ 1/ (/ 3/ )/ 子/ 节点/ 系数/ 为/ α/ n/ =/ |/ Dn/ |/ // (/ 珡/ Dl/ (/ n/ )/ )/ ,/ 珡/ Dl/ (/ n/ )/ ≠/ 0/ 即子/ 节点/ 数与层/ 平均/ 子/ 节点/ 数/ 的/ 比值/ ,/ 当/ n/ 为/ 叶子/ 节点/ 时/ ,/ 珡/ Dl/ (/ n/ )/ =/ 0/ ,/ 系数/ 为/ 0/ ./ 图/ 2IEEE802/ ./ 11DCF/ 信道/ 分配机制/ [/ 22/ ]/ 在/ 无线/ Ad/ _/ hoc/ 网络/ 中/ ,/ 由于/ 目标/ 节点/ 分散/ ,/ 网络/ 负载/ 是/ 无规律/ 分布/ 的/ ,/ 因此/ 这种/ 公平/ 的/ 信道/ 竞争机制/ 能够/ 得到/ 比较/ 好/ 的/ 效果/ ./ 本文/ 所述/ 的/ 无线/ 传感器/ 网络/ 模型/ ,/ 在/ 传输/ 树/ T/ 中父/ 节点/ 和子/ 节点/ 的/ 关系/ 固定/ ,/ 并/ 存在/ 上/ 节/ 所述/ 的/ 非均衡/ 传输/ 特点/ ,/ 即父/ 节点/ 的/ 负载量/ 不少/ 于/ 它/ 所有/ 子/ 节点/ 负载量/ 的/ 总和/ ,/ 当/ 信道/ 持续/ 繁忙/ 一段时间/ ,/ 由于/ 父/ 节点/ 只能/ 和子/ 节点/ 以/ 相同/ 的/ 概率/ 抢占/ 信道/ ,/ 导致/ 信息/ 在/ 父/ 节点/ 处/ 累积/ ,/ 以至于/ 信息/ 极易/ 由于/ 缓存/ 溢出/ 而/ 被/ 丢弃/ ./ 子/ 节点/ 成功/ 抢占/ 信道/ 发送到/ 父/ 节点/ 处/ 的/ 信息/ 会/ 进一步/ 加重/ 父/ 节点/ 负担/ 和/ 丢/ 包率/ ,/ 同时/ ,/ 子/ 节点/ 的/ 这种/ 无效/ 发送/ ,/ 还/ 浪费/ 了/ 带宽/ 和/ 能量/ 资源/ ./ 因此/ ,/ 均等/ 信道/ 抢占/ 机制/ 并/ 不/ 完全/ 适用/ 于/ 本文/ 所述/ 的/ 网络/ 模型/ ,/ 应/ 给予/ 父/ 节点/ 相对/ 于子/ 节点/ 更/ 多/ 的/ 信道/ 抢占/ 机会/ ./ 最小/ 竞争/ 窗口/ 的/ 大小/ 是/ 决定/ 信道/ 抢占/ 概率/ 的/ 一个/ 重要/ 参数/ ,/ 本文/ 着重/ 探讨/ 怎样/ 针对/ 所述/ 网络/ 模型/ 为/ T/ 中/ 节点/ 设置/ 最小/ 竞争/ 窗口/ 值/ ,/ 以/ 合理/ 分配/ 信道/ 使/ 其/ 符合/ 树状/ 网络/ 模型/ 的/ 传输/ 特点/ ./ 如/ 第/ 2/ 节/ 所述/ ,/ 基于/ CSMA/ // CA/ 的/ 传感器/ 网络/ MAC/ 协议/ 众多/ ,/ 但/ 信道/ 接入/ 方法/ 主要/ 是/ 基于/ 4/ 问题/ 描述/ 及/ 理论/ 分析/ 4.1/ 信道/ 分配/ 基于/ CSMA/ // CA/ 的/ 无线网络/ MAC/ 协议/ (/ 以/ IEEE802/ ./ 11DCF/ 为例/ ,/ 如图/ 2/ 所示/ )/ ,/ 其/ 信道/ 分配/ 的/ 基本原理/ 是/ :/ 节点/ 在/ 发送信息/ 前/ 监听/ 信道/ ,/ 如果/ 信道/ 繁忙/ ,/ 则/ 随机/ 等待/ 一个/ 时间段/ ,/ 等待/ 的/ 时间段/ 大小/ 是从/ 0/ 到/ 竞争/ 窗口/ 大小/ 之间/ 的/ 随机数/ ./ 每当/ 网络/ 空闲/ 时间/ 达到/ DIFS/ (/ DistributedInter/ -/ FrameSpace/ )/ 时间段/ 长度/ 时/ ,/ 延迟/ 计数器/ 减/ 1/ ,/ 直到/ 延迟/ 计数器/ 为/ 0/ ,/ 节点/ 开始/ 发送数据/ ,/ 当/ 发送/ 冲突/ 时/ ,/ 竞争/ 窗口/ 按/ 一定/ 的/ 规律/ 增加/ ,/ 信息/ 重新/ 等待/ 发送/ ,/ 直到/ 竞争/ 窗口/ 大小/ 达到/ 最大/ 竞争/ 窗口/ 值/ ./ 网络/ 中/ 节点/ 的/ 竞争/ 窗口/ 初始值/ 取/ 统一/ 设置/ 的/ 最小/ 竞争/ 窗口/ 值/ ,/ 保证/ 了/ 节点/ 拥有/ 均等/ 的/ 信道/ 抢占/ 机会/ [/ 6/ ]/ ,/ 这是/ 一种/ 公平/ 的/ 信道/ 竞争机制/ ./ IEEE802/ ./ 11/ 协议/ 的/ DCF/ 算法/ ,/ 因此/ 本文/ 算法/ 基于/ IEEE802/ ./ 11/ 协议/ 的/ DCF/ ./ 4.2/ 最小/ 竞争/ 窗口/ 计算方法/ 由/ 前面/ 的/ 分析/ 可知/ ,/ 对/ 在/ 树状/ 结构/ 的/ 无线/ 传感器/ 网络/ 进行/ MAC/ 层/ 传输/ 控制/ 的/ 核心/ 是/ 分配/ 给父/ 节点/ 相对/ 于子/ 节点/ 更/ 多/ 的/ 信道/ 抢占/ 机会/ ./ 而/ 从/ 整个/ 传输/ 树/ T/ 来看/ ,/ 越/ 上层/ 的/ 节点/ 负载/ 越重/ ,/ 相对/ 信道/ 占有率/ 应该/ 越高/ ./ 在/ 源/ 负载/ 均匀分布/ 的/ 情况/ 下/ ,/ 节点/ 的/ 总/ 负载量/ 取决于/ 它/ 转发/ 的/ 信息量/ ,/ 节点/ 的/ 转发/ 信息量/ 与/ 节点/ 在/ T/ 中/ 的/ 层次/ 和子/ 节点/ 的/ 数量/ 密切相关/ ./ 设/ 每个/ 节点/ 源/ 信息量/ 为/ 1/ 单位/ ,/ 如图/ 3/ 所示/ 的/ 传输/ 树结构/ 负载/ 分布/ 显示/ :/ 越/ 靠近/ 汇聚/ 点且/ 子/ 节点/ 数量/ 越/ 多/ ,/ 其/ 负载量/ 就/ 越/ 大/ ./ 在/ 源/ 负载/ 不/ 均衡/ 的/ 情况/ 下/ ,/ 仅/ 考虑/ 根据/ 负载量/ 来/ 调整/ 信道/ 分配/ 难以/ 满足/ 节点/ 公平性/ 的/ 要求/ :/ 按/ 负载量/ 调整/ 信道/ 分配/ 使得/ 源/ 信息/ 数小/ 的/ 节点/ 发送/ 成功/ 的/ 信息量/ 会/ 小于/ 源/ 信息/ 数大/ 的/ 节点/ ,/ 源/ 信息/ 数小/ 的/ 节点/ 的/ 信息/ 甚至/ 会/ 被/ 源/ 信息/ 数大/ 的/ 节点/ 的/ 信息/ 淹没/ ,/ 使得/ 源/ 信息/ 数小/ 的/ 节点/ 无法/ 传达/ 信息/ ./ 这/ 是/ 不/ 可取/ 的/ ,/ 因为/ 很多/ 传感器/ 应用/ 的/ 基本/ Page5/ 要求/ 是/ 要/ 能/ 从/ 各个/ 节点/ 平等/ 的/ 接收/ 信息/ ./ 因此/ ,/ 在/ 信道/ 分配/ 中/ ,/ 应/ 以/ 节点/ 数为/ 分配/ 依据/ ./ 为此/ ,/ 本文/ 首先/ 依据/ 传输/ 树/ 的/ 层次/ 为/ 每层/ 计算/ 其层/ 最小/ 竞争/ 窗口/ 图/ 3/ 负载/ 分布图/ 4.2/ ./ 1/ 层/ 最小/ 竞争/ 窗口/ 计算/ 信道/ 分配/ 与/ 节点/ 在/ 传输/ 树中/ 的/ 层次/ 直接/ 相关/ ,/ 层次/ 最小/ 竞争/ 窗口/ 从总体上/ 为/ 传输/ 树中/ 各层/ 设置/ 了/ 最小/ 竞争/ 窗口/ 的/ 基准值/ ./ 层次/ 最小/ 竞争/ 窗口/ 值/ 根据/ 上层/ 节点/ 的/ 最小/ 竞争/ 窗口/ 值/ 和/ 上层/ 平均/ 子/ 节点/ 数/ 计算/ 给出/ ,/ 保证/ 了/ 每层/ 的/ 最小/ 竞争/ 窗口/ 值/ 不/ 小于/ 其/ 上层/ 值/ ./ 层/ 最小/ 竞争/ 窗口/ 计算公式/ 如下/ :/ CWli/ +/ 1min/ =/ 其中/ ,/ CW0CWlimin/ 表示/ li/ 层/ 的/ 最小/ 竞争/ 窗口/ 值/ ,/ A/ 是/ 根据/ 网络/ 规模/ 预先/ 给定/ 的/ 常数/ (/ A/ >/ CW0/ 口/ 的/ 一个/ 上限/ (/ 参见/ 定理/ 1/ )/ ,/ A/ 的/ 设定/ 可以/ 避免/ 由于/ 最小/ 竞争/ 窗口/ 值过/ 大/ 而/ 导致/ 节点/ 长期/ 无法/ 抢占/ 信道/ ./ 公式/ 中/ 每层/ 的/ 最小/ 竞争/ 窗口/ 值/ 都/ 是/ 由/ 上层/ 的/ 最小/ 竞争/ 窗口/ 值/ 和/ 平均/ 节点/ 数/ 以及/ 预先/ 设定/ 的/ 网络/ 参数/ 决定/ 的/ ./ 相邻/ 两层/ 的/ 最小/ 竞争/ 窗口/ 值/ 差异/ 是/ 由/ 上层/ 的/ 平均/ 子/ 节点/ 数/ 直接/ 决定/ 的/ ,/ χ/ 为/ 调整/ 系数/ ,/ 由/ 网络/ 的/ 总/ 平均/ 子/ 节点/ 数/ 和/ 预先/ 设定/ 的/ 根/ 节点/ 最小/ 竞争/ 窗口/ 值及/ 常数/ A/ 决定/ ,/ 每层/ 最小/ 竞争/ 窗口/ 的/ 计算/ 采用/ 相同/ 的/ χ/ 值/ ,/ 对于/ 给定/ 的/ 网络/ 和/ 预置/ 参数/ ,/ χ/ 固定/ ./ 定理/ 1/ ./ A/ 为层/ 最小/ 竞争/ 窗口/ 值/ 的/ 一个/ 上限/ ./ 证明/ ./ / i/ / M/ ,/ 我们/ 有/ CWlMmin/ =/ CWlM/ -/ 1min/ ×/ (/ 1/ +/ 珡/ DlM/ -/ 1/ )/ χ/ 根据/ 算术/ 几何平均/ 不等式/ ,/ 我们/ 得到/ [/ (/ 1/ +/ 珡/ Dl0/ )/ ×/ (/ 1/ +/ 珡/ Dl1/ )/ ×/ …/ ×/ (/ 1/ +/ 珡/ Dlm/ -/ 1/ )/ ]/ 值/ ,/ 并/ 根据/ 各/ 节点/ 的/ 子/ 节点/ 数量/ 和/ 所在/ 层/ 最小/ 竞争/ 窗口/ 值/ ,/ 给出/ 每个/ 节点/ 的/ 最小/ 竞争/ 窗口/ 值/ ./ / (/ (/ 1/ +/ 珡/ Dl0/ +/ 1/ +/ 珡/ Dl1/ +/ …/ +/ 1/ +/ 珡/ Dlm/ -/ 1/ )/ // M/ )/ M/ =/ (/ 1/ +/ 珡/ D/ )/ M/ ./ 因此/ ,/ min/ ,/ 4.2/ ./ 2/ 节点/ 最小/ 竞争/ 窗口/ 计算/ 如图/ 3/ 所示/ ,/ 在/ T/ 中同层/ 的/ 节点/ 由于/ 子/ 节点/ 的/ 数量/ 可能/ 不同/ ,/ 其/ 数据/ 负载量/ 也/ 会/ 存在/ 差异/ ,/ 因此/ ,/ 对于/ 同层/ 节点/ 以/ 所在/ 层/ 最小/ 竞争/ 窗口/ 值为/ 基准/ ,/ 并/ 根据/ 子/ 节点/ 的/ 数量/ 计算/ 各/ 节点/ 的/ 最小/ 竞争/ 窗口/ 值/ ./ 节点/ n/ 的/ 最小/ 竞争/ 窗口/ 的/ 计算公式/ 为/ :/ CWnmin/ =/ (/ (/ 1/ -/ Bl/ (/ n/ )/ )/ e1/ -/ α/ n/ +/ Bl/ (/ n/ )/ )/ ×/ CWl/ (/ n/ )/ 烅/ 烄/ CWl/ (/ n/ )/ 烆/ 其中/ ,/ α/ n/ 为子/ 节点/ 系数/ ,/ 它/ 是/ 节点/ 子/ 节点/ 数与层/ 平均/ 子/ 节点/ 数/ 的/ 比值/ ,/ Bl/ (/ n/ )/ 为层/ 调整/ 系数/ ,/ 保证/ 节点/ 的/ 最小/ 竞争/ 窗口/ 取值/ 在/ 上层/ 最小/ 竞争/ 窗口/ 值/ 和/ 本层/ 最小/ 竞争/ 窗口/ 值/ 之间/ ./ 它/ 的/ 父/ 节点/ m/ 的/ 最小/ 竞争/ 窗口/ 值/ ./ 式/ (/ 2/ )/ ,/ 我们/ 有/ (/ 1/ +/ 珡/ D/ )/ M/ >/ 1/ ,/ A/ // CW0/ χ/ >/ 0/ ./ 定理/ 2/ ./ 任一/ 节点/ n/ 的/ 最小/ 竞争/ 窗口/ 值/ 大于/ 证明/ ./ 由/ 珡/ D/ >/ 0/ ,/ M/ >/ 0/ ,/ 0/ </ CW0/ / i/ / M/ ,/ (/ 1/ +/ 珡/ Dli/ )/ χ/ >/ 1/ ,/ 由式/ (/ 1/ )/ ,/ 我们/ 得到/ CWli/ +/ 1min/ >/ CWlimin/ ./ 如果/ α/ n/ >/ 1/ ,/ 因为/ 0/ </ 1/ // 1/ +/ 珡/ Dl/ (/ n/ )/ -/ 1/ / 1/ 及/ χ/ >/ 0/ ,/ 由式/ (/ 4/ )/ ,/ 我们/ 得到/ 0/ </ Bl/ (/ n/ )/ / 1/ ./ 由/ 0/ </ e1/ -/ α/ n/ </ 1/ ,/ 我们/ 得到/ 0/ </ (/ 1/ -/ Bl/ (/ n/ )/ )/ e1/ -/ α/ n/ </ 1/ -/ Bl/ (/ n/ )/ ,/ Bl/ (/ n/ )/ </ (/ 1/ -/ Bl/ (/ n/ )/ )/ e1/ -/ α/ n/ +/ Bl/ (/ n/ )/ </ 1/ ./ 由式/ (/ 1/ )/ ~/ (/ 4/ )/ ,/ 我们/ 有/ Bl/ (/ n/ )/ ×/ CWl/ (/ n/ )/ 及/ (/ (/ 1/ -/ Bl/ (/ n/ )/ )/ e1/ -/ α/ n/ +/ Bl/ (/ n/ )/ )/ ×/ CWl/ (/ n/ )/ Page6CWnCWl/ (/ m/ )/ 由式/ (/ 3/ )/ ,/ 我们/ 有/ CWl/ (/ n/ )/ -/ 1/ 如果/ α/ m/ >/ 1/ ,/ 我们/ 有/ CWmmin/ ,/ 则/ CWn/ 如果/ α/ m/ / 1/ ,/ 我们/ 有/ CWmmin/ >/ CWl/ (/ m/ )/ 如果/ α/ n/ / 1/ ,/ 我们/ 有/ CWn/ 如果/ α/ m/ >/ 1/ ,/ 我们/ 有/ CWmmin/ >/ CWl/ (/ m/ )/ 如果/ α/ m/ / 1/ ,/ 我们/ 有/ CWmmin/ >/ CWl/ (/ m/ )/ 因此/ ,/ CWn/ 定理/ 2/ 保证/ 了/ 父/ 节点/ 比其/ 任一/ 子/ 节点/ 拥有/ 更/ 多/ 的/ 信道/ 抢占/ 机会/ ./ 符合/ 传输/ 树结构/ 的/ 非均衡/ 传输/ 特点/ ,/ 证明/ 了/ 算法/ 的/ 合理性/ ./ 5/ 设置/ 算法/ CWl/ (/ n/ )/ CWl/ (/ n/ )/ 最小/ 竞争/ 窗口/ 的/ 设置/ 算法/ 流程/ 如图/ 4/ 所示/ ,/ 初始/ 时/ 汇聚/ 点/ 在/ 全网/ 广播/ 一条/ 查询/ 信息/ ,/ 该/ 信息/ 携带/ 跳/ 数值/ h/ ,/ 初始/ 为/ 1/ ,/ 当/ 任一/ 节点/ n/ 收到/ 查询/ 信息/ 时/ ,/ 检查/ 它/ 的/ 层数/ 设置/ l/ (/ n/ )/ (/ 初始/ 设置/ 为/ 无穷大/ )/ ,/ 如果/ 层数/ 设置/ 大于/ 信息/ 跳/ 数值/ ,/ 将/ 层数/ 设置/ 为/ 信息/ 跳/ 数值/ ,/ 并/ 将/ 信息/ 上/ 一/ 跳/ 节点/ 设置/ 为父/ 节点/ ;/ 如果/ 层/ 数值/ 图/ 4/ 算法/ 流程图/ 小于/ 信息/ 跳/ 数值/ ,/ 设置/ 其非叶/ 节点/ 标志/ 位/ 参数/ 为/ 1/ (/ 初始/ 为/ 0/ )/ ;/ 如果/ 相等/ ,/ 丢弃/ 信息/ ./ 经过/ 一轮/ 查询/ 信息/ 设置/ ,/ 所有/ 非叶/ 节点/ 标志/ 位/ 参数/ 为/ 0/ 的/ 节点/ 向/ 其父/ 节点/ 发送/ 聚敛/ 信息/ ,/ 该/ 聚敛/ 信息/ 中/ 加入/ 自己/ 的/ 节点/ 号/ 和/ 层数/ ,/ 所有/ 收到/ 聚敛/ 信息/ 的/ 节点/ 将/ 加入/ 自己/ 的/ 节点/ 号/ 和/ 层数/ ,/ 并/ 将/ 该/ 信息/ 该/ 转发给/ 父/ 节点/ ./ 最终/ 汇聚/ 点/ 收到/ 聚敛/ 信息/ ,/ 根据/ 式/ (/ 1/ )/ 计算/ 层/ 最小/ 竞争/ 窗口/ 的/ 参数值/ ,/ 并/ 根据/ 式/ (/ 1/ )/ 和/ 式/ (/ 4/ )/ 计算/ 得到/ 每层/ 最小/ 竞争/ 窗口/ 值/ 和/ 节点/ 最小/ 竞争/ 窗口/ 计算/ 参数/ Bli/ ./ 汇聚/ 点将/ 计算/ 所得/ 的/ 各层/ 最小/ 竞争/ 窗口/ 值/ 和/ 参数/ Bli/ 向/ 网络/ 中/ 广播/ ./ 各/ 节点/ 根据/ 式/ (/ 3/ )/ 计算/ 最小/ 竞争/ 窗口/ 值/ 并/ 进行/ 设置/ ./ 6/ 实验/ 与/ 评估/ 我们/ 采用/ NS2/ 仿真器/ 分别/ 在/ 20/ 节点/ 、/ 50/ 节点/ 及/ 100/ 节点/ 的/ 网络/ 中/ 验证/ 了/ 本文/ 提出/ 的/ MAC/ 优化/ 方法/ 在/ 丢/ 包率/ 、/ 吞吐量/ 和/ 能量消耗/ 方面/ 的/ 效率/ ./ 如/ 在/ 第/ 2/ 节中/ 所述/ ,/ 调度/ 协议/ 及/ 混合/ 协议/ 与/ 本文/ 算法/ 由/ 时钟/ 同步/ 及/ 目标/ 不同/ 引入/ 的/ 低/ 可比性/ ,/ 使得/ 本文/ 算法/ 难以/ 与/ 此类/ 算法/ 进行/ 性能/ 比较/ ;/ 而/ 基于/ CSMA/ // CA/ 的/ 传感器/ 网络/ MAC/ 协议/ ,/ 虽然/ 在/ 休眠/ 等/ 其它/ 方面/ 各有/ 长处/ ,/ 但/ 信道/ 接入/ 方法/ 基本上/ 沿用/ 了/ IEEE802/ ./ 11/ 协议/ 的/ DCF/ 方式/ ,/ 即/ 采用/ 了/ 相似/ 的/ 信/ Page7/ 道/ 接入/ 方法/ ./ 因此/ ,/ 优化/ 算法/ 与/ IEEE802/ ./ 11/ 协议/ 的/ 比较/ 具有/ 代表性/ ./ 本文/ 仅/ 将/ MAC/ 优化/ 算法/ 与/ 基础/ 的/ IEEE802/ ./ 11/ 协议/ 的/ DCF/ 进行/ 比较/ ./ 本文/ 是/ 对/ IEEE802/ ./ 11/ 协议/ 族/ 信道/ 接入/ 方法/ 的/ 优化/ ,/ 可以/ 容易/ 地/ 植入/ IEEE802/ ./ 11/ 协议/ 族/ 中/ ,/ 与/ 其它/ 优化/ 结合/ 以/ 提高/ 总体/ 效率/ ./ 实验/ 节点/ 均匀/ 部署/ 在/ 200m/ ×/ 200m/ 的/ 矩形/ 区域/ 内/ ,/ 节点/ 通信/ 半径/ 为/ 40m/ ./ 实验/ 采用/ 2Mbps/ 信道/ ,/ 数据包/ 长度/ 为/ 512/ 字节/ ,/ 便于/ 算法/ 在/ 以后/ 的/ 工作/ 中/ 嵌入/ IEEE802/ ./ 11/ 协议/ 进行/ 扩展/ [/ 23/ -/ 24/ ]/ ./ 依据/ 文献/ [/ 21/ ]/ 中/ 的/ 测量/ 结果/ ,/ 每/ 发送/ 一个/ 数据包/ 的/ 能耗/ 设置/ 为/ 2/ 单位/ ,/ 每/ 接收/ 一个/ 数据包/ 的/ 能耗/ 设置/ 为/ 1/ 单位/ ./ 6.1/ 网络/ 丢/ 包率/ 图/ 5/ 所示/ 为/ IEEE802/ ./ 11/ 协议/ 及/ 本文/ 算法/ 在/ 不同/ 发送/ 速率/ 下/ 的/ 数据/ 丢/ 包率/ 情况/ ./ 如图/ 5/ (/ a/ )/ 所示/ ,/ 在/ 20/ 节点/ 的/ 网络/ 中/ ,/ 本文/ 算法/ 相对/ 于/ IEEE802/ ./ 11/ 图/ 5/ 丢/ 包率/ 6.2/ 吞吐量/ 图/ 6/ 所示/ 为/ IEEE802/ ./ 11/ 及/ 本文/ 算法/ 在/ 20/ 、/ 50/ 和/ 100/ 节点/ 的/ 网络/ 中/ ,/ 在/ 不同/ 的/ 发送/ 速率/ 下/ ,/ 网络/ 吞吐量/ 的/ 情况/ ./ 在/ 如图/ 6/ (/ a/ )/ 所示/ 的/ 20/ 节点/ 网络/ 实验/ 协议/ 丢/ 包率/ 减低/ 超过/ 20/ %/ ./ 并且/ ,/ 随/ 发送/ 速率/ 的/ 增加/ 本文/ 算法/ 的/ 丢/ 包率/ 相对/ 稳定/ ./ 在/ 图/ 5/ (/ b/ )/ 所示/ 的/ 50/ 节点/ 的/ 网络/ 实验/ 中/ ,/ 我们/ 测试/ 了/ 不同/ 的/ A/ 参数值/ ,/ A/ 值取/ 32/ 时/ ,/ 在/ 速率/ 较/ 低/ 的/ 情况/ 下/ 丢/ 包率/ 有/ 明显改善/ ,/ 但/ 当/ 速率/ 达到/ 500p/ // s/ 时/ 本文/ 算法/ 的/ 丢/ 包率/ 与/ IEEE802/ ./ 11/ 协议/ 接近/ ;/ 而/ 当/ A/ 值取/ 256/ 时/ ,/ 丢/ 包率/ 降低/ 幅度/ 较大/ ,/ 并且/ 比较稳定/ ,/ 在/ 高速率/ 情况/ 下/ ,/ 丢/ 包率/ 相对/ IEEE802/ ./ 11/ 协议/ 依然/ 降低/ 了/ 40/ %/ ./ 在/ 如图/ 5/ (/ c/ )/ 所示/ 的/ 100/ 节点/ 网络/ 实验/ 中/ ,/ 当/ A/ 值取/ 40/ 时/ ,/ 本文/ 算法/ 相对/ 于/ IEEE802/ ./ 11/ 协议/ 并/ 无/ 明显改善/ ,/ 甚至/ 在/ 低/ 发送/ 速率/ 时/ 丢/ 包率/ 略有/ 超出/ ,/ 这是/ 由于/ 在/ 规模/ 较大/ 的/ 网络/ 中/ 传输/ 树/ 的/ 层数/ 相应/ 较/ 多/ ,/ 采用/ 较/ 小/ 的/ 最小/ 竞争/ 窗口/ 上限/ 使/ 接近/ 汇聚/ 点/ 的/ 节点/ 最终/ 设置/ 的/ 最小/ 竞争/ 窗口/ 值过/ 小/ ,/ 过/ 小/ 的/ 竞争/ 窗口/ 值/ 增加/ 了/ 冲突/ 的/ 几率/ 并/ 导致/ 了/ 丢/ 包/ 的/ 增多/ ./ 因此/ ,/ 需要/ 根据/ 网络/ 规模/ 相应/ 调整/ A/ 值/ ./ 中/ ,/ 本文/ 算法/ 较/ IEEE802/ ./ 11/ 协议/ 的/ 吞吐量/ 情况/ 有/ 较大/ 改善/ ,/ 并/ 随/ 发送/ 速率/ 的/ 增加/ 优势/ 更加/ 明显/ ./ 在/ 如图/ 6/ (/ b/ )/ 所示/ 的/ 50/ 节点/ 网络/ 实验/ 中/ ,/ A/ 值取/ 32/ 时/ 本文/ 算法/ 优势/ 并/ 不/ 明显/ ,/ A/ 值取/ 256/ 时/ 本文/ 算法/ 较/ Page8IEEE802/ ./ 11/ 协议/ 有/ 平稳/ 改善/ 且/ 吞吐量/ 提高/ 50/ %/ 左右/ ./ 在/ 如图/ 6/ (/ c/ )/ 所示/ 的/ 100/ 节点/ 网络/ 实验/ 中/ ,/ A/ 值取/ 40/ 时/ 算法/ 性能/ 劣于/ IEEE802/ ./ 11/ 协议/ ./ 吞吐量/ 由/ 信息/ 发送量/ 和/ 丢/ 包率/ 决定/ ,/ 图/ 5/ (/ c/ )/ 中/ 显示/ 本文/ 算法/ 在/ A/ 值取/ 40/ 时/ 的/ 丢/ 包率/ 与/ IEEE802/ ./ 11/ 协议/ 持平/ ,/ 仅/ 在/ 低/ 速率/ 时/ 稍/ 有/ 超出/ ,/ 则/ 本文/ 算法/ 在/ A/ 值取/ 40/ 时/ 吞吐量/ 较/ 低/ 的/ 原因/ 是/ 较/ 小/ 的/ 信息/ 发送量/ ./ 较/ 小/ 的/ 图/ 6/ 吞吐量/ 6.3/ 能量消耗/ 能量消耗/ 是/ 传感器/ 网络/ 算法/ 性能/ 的/ 重要/ 监测/ 标准/ [/ 25/ ]/ ./ 如图/ 7/ 所示/ ,/ 我们/ 测试/ 了/ 汇聚/ 点/ 每/ 成功/ 接收/ 一个/ 数据包/ 网络/ 的/ 平均/ 能量消耗/ ./ 在/ 图/ 7/ (/ a/ )/ 所示/ 的/ 20/ 节点/ 网络/ 中/ ,/ 本文/ 算法/ 较/ IEEE802/ ./ 11/ 协议/ 的/ 能量消耗/ 情况/ 有/ 较大/ 改善/ ,/ 没有/ 随/ 发送/ 速率/ 的/ 增加/ 而/ 快速/ 增加/ ./ 在/ 速率/ 达到/ 250p/ // s/ 以后/ ,/ 随着/ 发送/ 速率/ 的/ 增加/ ,/ 本文/ 算法/ 每/ 成功/ 接收/ 一条/ 数据/ 的/ 能耗/ 有所/ 降低/ ./ 而/ 与/ 能耗/ 相对/ ,/ 图/ 5/ (/ a/ )/ 中/ 本文/ 算法/ 的/ 丢/ 包率/ 在/ 速率/ 达到/ 250p/ // s/ 后/ 保持稳定/ ./ 这/ 说明/ 这/ 段/ 能耗/ 降低/ 的/ 主要/ 原因/ 不是/ 由于/ 丢/ 包率/ 的/ 下降/ ./ 其/ 原因/ 是/ :/ 采用/ 本文/ 算法/ 后/ ,/ 随着/ 发送/ 速率/ 的/ 提高/ ,/ 越来越/ 多/ 的/ 信息/ 在/ 更/ 早/ 的/ 阶段/ 被/ 丢弃/ ,/ 减少/ 了/ 后续/ 无效/ 信息/ 发送量/ 产生/ 的/ 原因/ 是/ 由于/ 过/ 小/ 的/ 竞争/ 窗口/ 上/ 限值/ ,/ 增加/ 了/ 发送/ 冲突/ 的/ 几率/ ,/ 从而/ 增加/ 了/ 信息/ 重传/ 率/ ,/ 降低/ 了/ 信息/ 发送/ 频率/ ,/ 从而/ 减低/ 了/ 信息/ 发送量/ ./ 从图/ 6/ (/ c/ )/ 中/ 可以/ 看出/ ,/ 本文/ 算法/ 在/ A/ 值取/ 64/ 时/ 的/ 吞吐量/ 与/ IEEE802/ ./ 11/ 协议/ 持平/ 并/ 在/ 低/ 速率/ 时略/ 好/ ./ A/ 值取/ 128/ 和/ 256/ 时/ ,/ 本文/ 算法/ 较/ IEEE802/ ./ 11/ 协议/ 已经/ 有/ 较大/ 改善/ ./ 传输/ 步骤/ 的/ 能量消耗/ ./ 在/ 图/ 7/ (/ c/ )/ 所示/ 的/ 100/ 节点/ 网络/ 实验/ 中/ ,/ 与/ 在/ 图/ 5/ (/ c/ )/ 中/ 观察/ 的/ 情况/ 类似/ ,/ 当/ 发送/ 速率/ 低于/ 5p/ // s/ 时/ ,/ A/ 值取/ 40/ 的/ 算法/ 的/ 能耗/ 稍差/ 于/ IEEE802/ ./ 11/ 协议/ ./ 原因/ 与/ 丢/ 包率/ 分析/ 相同/ ,/ 较/ 小/ 的/ 最小/ 竞争/ 窗口/ 值/ 上限/ 使得/ 在/ 规模/ 较大/ 的/ 网络/ 中/ 靠近/ 汇聚/ 点/ 的/ 最小/ 竞争/ 窗口/ 值过/ 小/ ,/ 导致/ 冲突/ 、/ 丢/ 包率/ 和/ 能源/ 浪费/ 的/ 增加/ ./ 7/ 结束语/ 本文/ 针对/ 基于/ CSMA/ // CA/ 的/ IEEE802/ ./ 11/ 协议/ 族/ 与/ 树状/ 结构/ 的/ 无线/ 传感器/ 网络/ 不/ 匹配/ 的/ 问题/ ,/ 根据/ 树状/ 结构/ 的/ 无线/ 传感器/ 网络/ 的/ 非均衡/ 传输/ 特/ Page9/ 图/ 7/ 能量/ 耗费/ 点/ ,/ 提出/ 了/ 一种/ 基于/ CSMA/ // CA/ 的/ MAC/ 协议/ 优化/ 算法/ ./ 算法/ 根据/ 节点/ 在/ 传输/ 树中/ 的/ 层次/ 和子/ 节点/ 的/ 数量/ 调整/ 节点/ 信道/ 接入/ 概率/ ,/ 给出/ 了/ 层次/ 最小/ 竞争/ 窗口/ 和/ 节点/ 最小/ 竞争/ 窗口/ 的/ 计算/ 模型/ ,/ 理论/ 上/ 证明/ 了/ 模型/ 符合/ 树状/ 网络/ 传输/ 特点/ ,/ 并/ 给出/ 了/ 最小/ 竞争/ 窗口/ 的/ 上限/ ./ 最后/ 采用/ 实验/ 方法/ ,/ 证明/ 了/ 算法/ 在/ 丢/ 包率/ ,/ 吞吐量/ 和/ 能耗/ 方面/ 均/ 有/ 较/ 大幅度/ 改善/ ./ 致谢/ 感谢/ 美国/ 卡内基/ 梅隆/ 大学/ 计算机/ 学院/ 的/ Satyanarayanan/ 教授/ 及/ PeterSteenkiste/ 教授/ 对/ 本文/ 工作/ 的/ 支持/ 和/ 建议/ ,/ 同时/ 感谢/ 本文/ 审稿/ 专家/ 和/ 编辑/ ,/ 他们/ 给出/ 了/ 宝贵/ 的/ 意见/ 和/ 建议/ !/ 

