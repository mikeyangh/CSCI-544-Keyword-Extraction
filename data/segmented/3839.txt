Page1/ 命令式/ 模糊/ 程序语言/ 的/ 语义/ 吴恒洋/ (/ 杭州/ 电子科技/ 大学/ 信息/ 工程学院/ 杭州/ 310018/ )/ (/ 华东师范大学/ 上海市/ 高/ 可信计算/ 重点/ 实验室/ 上海/ 200062/ )/ 摘要/ 文中/ 关注/ 计算机/ 语言/ 的/ 形式/ 语义学/ ,/ 旨在/ 建立/ 一种/ 命令式/ 模糊/ 程序语言/ 的/ 指称/ 语义/ 与/ 最弱/ (/ 线性/ )/ 前置条件/ 语义/ ./ 首先/ ,/ 借助/ 模糊/ 逻辑/ 中/ 的/ 三角/ 模/ 、/ 三角/ 余模/ 、/ 非/ 、/ 蕴含/ 以及/ 模糊/ 关系/ 的/ 合成/ 等/ 成功/ 地/ 完成/ 了/ 这/ 两种/ 语义/ 的/ 建模/ ./ 这种/ 方法/ 为/ 形式/ 语义学/ 的/ 研究/ 提供/ 了/ 一个/ 新/ 的/ 视角/ ./ 其次/ ,/ 证明/ 了/ 该/ 语言/ 的/ 一些/ 重要/ 性质/ 并/ 讨论/ 了/ 最弱/ 前置条件/ 语义/ 与/ 最弱/ 线性/ 前置条件/ 语义/ 之间/ 的/ 关系/ ./ 最后/ ,/ 证明/ 了/ 指称/ 语义/ 与/ 最弱/ (/ 线性/ )/ 前置条件/ 语义/ 之间/ 的/ 对偶/ ,/ 该/ 对偶/ 表明/ 了/ 这/ 两种/ 语义/ 可以/ 相互/ 诱导/ ./ 关键词/ 模糊/ 程序语言/ ;/ 命令式/ 语言/ ;/ 指称/ 语义/ ;/ 最/ 弱/ (/ 线性/ )/ 前置条件/ 语义/ ;/ 模糊/ 逻辑/ 1/ 引言/ 计算机/ 语言/ 的/ 形式/ 语义学/ 是/ 计算机科学/ 与/ 技术/ 的/ 重要/ 研究/ 内容/ 之一/ ,/ 其/ 研究成果/ 对于/ 编译/ 技术/ 、/ 软件/ 安全/ 以及/ 分布式计算/ 等/ 计算机/ 分支/ 领域/ 有/ 重要/ 的/ Page2/ 不/ 一定/ ./ 本文/ 关注/ 非/ 经典/ 计算机程序/ 语言/ 的/ 语义/ ,/ 概率/ 程序语言/ 是/ 一种/ 非/ 经典/ 语言/ ,/ 其/ 在/ 语义/ 方面/ 的/ 研究/ 已经/ 较为/ 成熟/ ,/ 见/ 文献/ [/ 2/ -/ 7/ ]/ 等/ ./ 模糊/ 程序语言/ 是/ 另/ 一种/ 非/ 经典/ 语言/ ,/ 可以/ 描述/ 模糊/ 算法/ 及/ 模糊控制/ 规则/ ,/ 已经/ 大约/ 有/ 30/ 年/ 的/ 发展/ 历史/ ,/ 见/ 文献/ [/ 8/ -/ 12/ ]/ 等/ ./ 最近/ ,/ 接受/ 模糊/ 语言/ 机器/ 的/ 研究/ 也/ 达到/ 了/ 很/ 高/ 的/ 水平/ ,/ 如/ 李永明/ 关于/ 模糊/ 自动机/ 与/ 模糊/ 图灵机/ 的/ 研究/ [/ 13/ -/ 14/ ]/ ./ 尽管/ 在/ 这些/ 研究/ 中/ 有些/ 工作/ 涉及/ 了/ 语义/ ,/ 如/ Alvarez/ 等/ 人/ 在/ 文献/ [/ 11/ ]/ 中/ 研究/ 了/ 一种/ 命令式/ 模糊/ 程序语言/ 的/ 操作/ 语义/ ,/ 然而/ 通过/ 与/ 概率/ 程序语言/ 的/ 研究/ 相/ 比较/ ,/ 我们/ 发现/ 模糊/ 程序语言/ 在/ 语义/ 方面/ 的/ 研究/ 有/ 两个/ 问题/ 没有/ 涉及/ :/ (/ 1/ )/ 没有/ 抽象地/ 研究/ 模糊/ 程序语言/ 的/ 指称/ 语义/ ;/ (/ 2/ )/ 研究/ 中/ 没有/ 涉及/ 公理/ 语义/ 与/ 最弱/ (/ 线性/ )/ 前置条件/ 语义/ ./ 本文/ 将/ 重点/ 关注/ 这/ 两个/ 问题/ ./ Bueno/ 等/ 人/ 在/ 文献/ [/ 9/ -/ 10/ ]/ 中/ 分别/ 给出/ 了/ 模糊/ 程序语言/ L/ 与/ XL/ ,/ XL/ 是/ L/ 的/ 扩充/ ,/ 允许/ 无限/ 循环/ 语句/ (/ while/ )/ ./ 与/ 其它/ 的/ 模糊/ 程序语言/ 相/ 比较/ ,/ 例如/ ,/ HALO/ [/ 8/ ]/ ,/ 这/ 两个/ 语言/ 的/ 主要/ 特征/ 是/ 它们/ 的/ 简单/ 性/ ;/ 与/ 经典/ 程序语言/ 以及/ 概率/ 程序语言/ 相/ 比较/ ,/ 它们/ 的/ 主要/ 特征/ 是/ 引入/ 了/ 模糊/ 赋值/ 语句/ X/ ·/ ·/ =/ FUZZ/ (/ X/ )/ ./ 下面/ 是/ L/ 与/ XL/ 语言/ 的/ 抽象/ 版本/ ,/ 是/ 一种/ 命令式/ 语言/ :/ S/ ∷/ =/ skip/ |/ X/ ·/ ·/ =/ FUZZ/ (/ X/ )/ |/ S1/ ;/ 其中/ 模糊/ 赋值/ 语句/ X/ ·/ ·/ =/ FUZZ/ (/ X/ )/ 连接/ 一个/ 模糊/ 关系/ P/ ,/ b/ 是/ 一个/ 布尔/ 条件/ ,/ 即/ 从/ 状态/ 空间/ 到/ {/ 0/ ,/ 1/ }/ 的/ 映射/ ./ 其它/ 的/ 语句/ 在/ 命令式/ 语言/ 中/ 都/ 是/ 常见/ 的/ ./ 本文/ 的/ 中心/ 工作/ 是/ 建立/ 上面/ 的/ 命令式/ 模糊/ 程序语言/ 的/ 指称/ 语义/ 与/ 最弱/ (/ 线性/ )/ 前置条件/ 语义/ ./ 指称/ 语义/ 是/ 状态/ 空间/ X/ 上/ 的/ 模糊/ 关系/ ,/ 而/ 最弱/ 前置条件/ 语义/ 是从/ 状态/ 空间/ X/ 上/ 的/ 模糊集/ / (/ X/ )/ 到/ 自身/ 的/ 一个/ 泛函/ ,/ 且/ 该泛/ 函是/ / 同态/ 的/ 并且/ 是/ 析取/ 的/ ./ 证明/ 了/ 该/ 语言/ 的/ 一些/ 重要/ 性质/ 并且/ 指出/ 了/ 这/ 两种/ 语义/ 之间/ 的/ 对偶/ ,/ 此/ 对偶/ 表明/ 从/ 一个/ 语句/ 的/ 指称/ 语义/ 可以/ 诱导/ 相应/ 的/ 最弱/ (/ 线性/ )/ 前置条件/ 语义/ ,/ 反之亦然/ ./ 在/ 研究/ 中/ ,/ 模糊/ 逻辑/ 是/ 基础/ ,/ 其中/ 标准/ 非/ / 、/ 三角/ 模/ / 、/ 相应/ 的/ 三角/ 余模/ / 及/ →/ 分别/ 被/ 用来/ 模拟/ 模糊/ 非/ 、/ 合取/ 、/ 析取/ 及/ 蕴含/ ./ 2/ 预备/ 知识/ 这/ 一部分/ 回顾/ 本文/ 所用/ 到/ 的/ 一些/ 知识/ ,/ 主要/ 有/ 模糊/ 逻辑/ 、/ 模糊集/ 以及/ 模糊/ 关系/ ./ 模糊/ 程序语言/ 的/ 逻辑/ 基础/ 是/ 模糊/ 逻辑/ ./ 用/ 符号/ / ,/ / ,/ / 及/ →/ 分别/ 模拟/ 模糊/ 逻辑/ 中/ 的/ 非/ 、/ 合取/ 、/ 析取/ 及/ 蕴含/ ,/ 其中/ / 是/ 标准/ 非/ ,/ 即/ 对/ 任意/ 的/ a/ ∈/ [/ 0/ ,/ 1/ ]/ ,/ / a/ =/ 1/ -/ a/ ,/ / 是/ 一/ 三角/ 模/ ,/ / 是/ 相应/ 的/ 三角/ 余模/ ,/ 即/ 对于/ 任意/ 的/ a/ ,/ b/ ∈/ [/ 0/ ,/ 1/ ]/ ,/ a/ / b/ =/ 1/ -/ (/ 1/ -/ a/ )/ / (/ 1/ -/ b/ )/ ,/ 而/ →/ 既/ 是/ S/ -/ 蕴含/ 也/ 是/ 剩余/ 蕴含/ :/ 即/ 对于/ 任意/ 的/ a/ ,/ b/ ,/ c/ ∈/ [/ 0/ ,/ 1/ ]/ ,/ 且/ a/ / b/ / c/ 当且/ 仅/ 当/ a/ / b/ →/ c/ ./ 可以/ 看出/ 只/ 需要/ 连接词/ / 与/ / 即/ 可以/ 描述/ 该/ 模糊/ 逻辑/ ./ 基于/ ukasiewicz/ 三角/ 模/ / 与/ Fodor/ -/ Wang/ 三角/ 模/ / 0/ 的/ 模糊/ 逻辑/ 满足/ 上面/ 的/ 条件/ ./ 之所以/ 称为/ Fodor/ -/ Wang/ 三角/ 模/ ,/ 是因为/ 该/ 三角/ 模/ 首先/ 被/ Fodor/ 在/ 文献/ [/ 15/ ]/ 中/ 提出/ ,/ 几乎/ 同时/ 也/ 被/ 王国/ 俊/ 教授/ 在/ 文献/ [/ 16/ ]/ 中/ 独立/ 地/ 提出/ ./ 对于/ 任意/ 的/ a/ ,/ b/ ∈/ [/ 0/ ,/ 1/ ]/ ,/ 本文/ 结论/ 在/ 这/ 两种/ 逻辑/ 下/ 都/ 是/ 成立/ 的/ ,/ 将/ 在/ 后面/ 解释/ 为什么/ 使用/ 这样/ 的/ 模糊/ 逻辑/ ./ 模糊集/ 是从/ 某个/ 论域/ X/ 到/ 单位/ 区间/ 的/ 映射/ ./ X/ 上/ 的/ 所有/ 模糊集/ 记/ 为/ / (/ X/ )/ ,/ 其序/ / 是/ 点式/ 的/ ,/ 即/ 对/ 任意/ 的/ A/ ,/ B/ ∈/ / (/ X/ )/ ,/ A/ / B/ 当且/ 仅/ 当/ 对于/ 任意/ 的/ x/ ∈/ X/ ,/ A/ (/ x/ )/ / B/ (/ x/ )/ ./ 模糊集/ 的/ 最小/ 上界/ 与/ 最大/ 下界/ 定义/ 为/ :/ 设/ Ai/ ∈/ / (/ X/ )/ (/ i/ ∈/ I/ )/ ,/ x/ ∈/ X/ ,/ 清楚/ 地/ ,/ / (/ X/ )/ 是/ 完备/ 格/ ,/ 其/ 最小/ 元/ 与/ 最大/ 元/ 分别/ 是/ 0/ 与/ 1/ ,/ 满足/ 对于/ 任意/ 的/ x/ ∈/ X/ ,/ 0/ (/ x/ )/ =/ 0/ ,/ 1/ (/ x/ )/ =/ 1/ ./ 点/ 模糊集/ η/ x/ 为/ :/ 若/ y/ =/ x/ ,/ 则/ η/ x/ (/ y/ )/ =/ 1/ ;/ 否则/ 为/ 0/ ./ 对于/ 任意/ 的/ r/ ∈/ [/ 0/ ,/ 1/ ]/ ,/ 常值/ 模糊集/ r/ 满足/ :/ 对于/ 任意/ 的/ x/ ∈/ X/ ,/ r/ (/ x/ )/ =/ r/ ./ 另外/ ,/ 对于/ 任意/ 的/ A/ ,/ B/ ∈/ / (/ X/ )/ ,/ x/ ∈/ X/ ,/ 定义/ :/ 特别/ 地/ ,/ (/ r/ / A/ )/ (/ x/ )/ =/ r/ / A/ (/ x/ )/ ./ 清楚/ 地/ ,/ 对于/ 任意/ 的/ 模糊集/ A/ ,/ A/ =/ / x/ ∈/ XA/ (/ x/ )/ / η/ x/ ./ 关系/ 可以/ 描述/ 程序语言/ 的/ 语义/ ,/ 如/ 经典/ 的/ 二元关系/ 可以/ 描述/ 经典/ 程序/ 的/ 语义/ ,/ 概率/ 关系/ 可以/ 描述/ 概率/ 程序/ 的/ 语义/ ./ 本文/ 使用/ 模糊/ 关系/ 描述/ 模糊/ 程序/ 的/ 指称/ 语义/ ./ 给定/ 两个/ 状态/ 空间/ X/ ,/ Y/ ,/ 从/ X/ 到/ Y/ 的/ 模糊/ 关系/ P/ 正是/ 积/ 空间/ X/ ×/ Y/ 上/ 的/ 模糊集/ ,/ 其序/ / 是/ 点/ Page3/ 式/ 的/ ./ 最大/ 元/ 与/ 最小/ 元/ 分别/ 记/ 为/ ⊥/ 与/ ⊥/ ,/ 满足/ 对于/ 任意/ 的/ (/ x/ ,/ y/ )/ ∈/ X/ ×/ Y/ ,/ ⊥/ (/ x/ ,/ y/ )/ =/ 1/ 与/ ⊥/ (/ x/ ,/ y/ )/ =/ 0/ ./ 模糊/ 关系/ 的/ 最小/ 上界/ 与/ 最大/ 下界/ 定义/ 为/ :/ 设/ {/ Pi/ |/ i/ ∈/ I/ }/ 是/ X/ ×/ Y/ 上/ 的/ 模糊/ 关系/ 集/ ,/ 对于/ 任意/ 的/ (/ x/ ,/ y/ )/ ∈/ X/ ×/ Y/ ,/ X/ ×/ X/ 上/ 的/ 恒等/ 关系/ Id/ 定义/ 为/ 对于/ X/ ×/ Y/ 上/ 的/ 模糊/ 关系/ P/ 及/ Y/ ×/ Z/ 上/ 的/ 模糊/ 关系/ Q/ ,/ 模糊/ 关系/ 的/ 合成/ P/ ·/ Q/ 是/ X/ ×/ Z/ 上/ 的/ 模糊/ 关系/ ,/ 定义/ 为/ :/ 对于/ 任意/ 的/ (/ x/ ,/ z/ )/ ∈/ X/ ×/ Z/ ,/ (/ P/ ·/ Q/ )/ (/ x/ ,/ z/ )/ =/ supy/ ∈/ YP/ (/ x/ ,/ y/ )/ / Q/ (/ y/ ,/ z/ )/ ./ 3/ 指称/ 语义/ 先看/ 一个/ 模糊/ 程序语言/ 应用/ 的/ 例子/ [/ 10/ ]/ ./ 模糊/ 程序语言/ 可以/ 描述/ 模糊控制/ 规则/ ./ 考虑/ 下面/ 的/ 规则/ 其中/ S/ 与/ M/ 是/ 图/ 1/ 与/ 图/ 2/ 所示/ 的/ 模糊集/ ./ 此/ 规则/ 是/ 控制/ 一个/ 抽象/ 进程/ 的/ 部分/ 系统/ ,/ 例如/ 教室/ 的/ 灯光/ 自动/ 控制系统/ ./ 下面/ 给出/ 描述/ 该/ 规则/ 的/ 程序/ ./ 这/ 两个/ 模糊集/ 对应/ 的/ 隶属/ 函数/ 是/ μ/ A/ :/ Z/ +/ →/ [/ 0/ ,/ 1/ ]/ ./ 这样/ 有/ 一个/ 分明/ 的/ 程序/ ,/ 其/ 输入/ 是/ Z/ +/ 中/ 的/ 任意/ 元素/ ,/ 输出/ 是/ 隶属/ 度/ (/ 0/ →/ 0/ ,/ 0.1/ →/ 1/ ,/ 0.2/ →/ 2/ ,/ …/ ,/ 1.0/ →/ 10/ )/ ./ 对应/ 于/ S/ 与/ M/ 的/ 程序/ :/ S/ _/ set/ =/ (/ 1/ ,/ 1/ ,/ T/ )/ ,/ T/ 如下/ :/ S/ ;/ beginifX1/ >/ 0andX1/ / 10thenX2/ ·/ ·/ =/ X1fi/ ;/ ifX1/ >/ 10andX1/ / 20thenX2/ ·/ ·/ =/ 20/ -/ X1fi/ ;/ X1/ ·/ ·/ =/ X2endM/ _/ set/ =/ (/ 1/ ,/ 1/ ,/ N/ )/ ,/ N/ 如下/ :/ M/ ;/ beginifX1/ >/ 30andX1/ / 40thenX2/ ·/ ·/ =/ X1/ -/ 30fi/ ;/ ifX1/ >/ 40andX1/ / 50thenX2/ ·/ ·/ =/ 50/ -/ X1fi/ ;/ X1/ ·/ ·/ =/ X2end/ 需要/ 为/ 一个/ 模糊/ 预/ 程序/ 函数/ 建立/ 算法/ :/ (/ 1/ )/ 标识符/ FUZZ0/ 连接/ ψ/ 01/ 定义/ 为/ (/ 2/ )/ 标识符/ FUZZi/ (/ i/ =/ 1/ ,/ …/ ,/ r/ )/ 连接/ 下面/ 的/ 函数/ Ii/ (/ x/ ,/ y/ )/ =/ li/ ,/ y/ =/ x/ 主要/ 的/ 程序/ 使用/ 一个/ 微指令/ FLATTEN/ (/ X1/ ,/ X2/ )/ ,/ 定义/ 为/ :/ FLATTEN/ 连接/ 程序/ R/ =/ (/ 2/ ,/ 1/ ,/ V/ )/ ,/ 其/ 代码/ V/ 是/ FLATTEN/ ;/ beginifX2/ =/ 1thenX1/ ·/ ·/ =/ FUZZ1/ (/ X1/ )/ fi/ ;/ ifX2/ =/ 2thenX1/ ·/ ·/ =/ FUZZ2/ (/ X1/ )/ fi/ ;/ / ifX2/ =/ rthenX1/ ·/ ·/ =/ FUZZr/ (/ X1/ )/ fiend/ 现在/ 可以/ 显示/ 主要/ 的/ 程序/ P/ =/ (/ 1/ ,/ 1/ ,/ Q/ )/ ,/ 其/ 代码/ 如下/ FUZZCON/ ;/ begin1/ ./ X2/ ·/ ·/ =/ S/ (/ X1/ )/ ;/ 2/ ./ ifX2/ ≠/ 0thenX1/ ·/ ·/ =/ FLATTEN/ (/ X2/ ,/ X1/ )/ fi/ ;/ 3/ ./ X1/ ·/ ·/ =/ 0/ ;/ X2/ ·/ ·/ =/ 0/ ;/ 4/ ./ whileM/ (/ X1/ )/ =/ 0do5/ ./ X1/ ·/ ·/ =/ suc/ (/ X1/ )/ ;/ 6/ ./ od/ ;/ 7/ ./ whileM/ (/ X1/ )/ ≠/ 0do8/ ./ ifX4/ ≠/ 1then9/ ./ X2/ ·/ ·/ =/ M/ (/ X1/ )/ ;/ 10/ ./ X4/ ·/ ·/ =/ FUZZ0/ (/ X1/ )/ ;/ 11/ ./ ifX4/ ·/ ·/ =/ 1then12X3/ ·/ ·/ =/ FLATTEN/ (/ X1/ ,/ X2/ )/ ;/ 13/ ./ fi/ ;/ 14/ ./ fi/ ;/ 15/ ./ X1/ ·/ ·/ =/ suc/ (/ X1/ )/ ;/ 16/ ./ od/ ;/ 17/ ./ ifX4/ ≠/ 1then18/ ./ X1/ ·/ ·/ =/ pred/ (/ X1/ )/ ;/ 19/ ./ X2/ ·/ ·/ =/ M/ (/ X1/ )/ ;/ Page420/ ./ X3/ ·/ ·/ =/ FLATTEN/ (/ X1/ ,/ X2/ )/ ;/ 21/ ./ fi/ ;/ 22/ ./ X1/ ·/ ·/ =/ X3end/ 假定/ 输入/ X1/ =/ 12/ ,/ 可以/ 得到/ 输出/ 是/ Z/ +/ 上/ 的/ 模/ 0.1/ // 31/ +/ 0.2/ // 32/ +/ …/ +/ 0.7/ // 37/ +/ 0.8/ // 38/ +/ 0.8/ // 39/ +/ 0.8/ // 40/ +/ 0.8/ // 41/ +/ 0.8/ // 42/ +/ 0.7/ // 43/ +/ …/ +/ 0.2/ // 48/ +/ 0.1/ // 49/ ./ 此/ 模糊集/ 解释/ 了/ 该/ 控制/ 规则/ ,/ 如图/ 3/ 所示/ ./ 糊集/ :/ 从/ 该/ 程序/ 可以/ 看出/ :/ (/ 1/ )/ 赋值/ 语句/ 有/ 两种/ 情况/ :/ 经典/ 的/ 与/ 模糊/ 的/ ./ 例如/ ,/ 经典/ 赋值/ 语句/ X1/ ·/ ·/ =/ suc/ (/ X1/ )/ (/ 后继/ )/ ,/ 它/ 可以/ 看成/ 关系/ P/ ,/ 定义/ 为/ :/ 若/ y/ =/ x/ +/ 1/ ,/ 则/ P/ (/ x/ ,/ y/ )/ =/ 1/ ;/ 否则/ 为/ 0/ ;/ 模糊/ 赋值/ 语句/ X1/ ·/ ·/ =/ FUZZ2/ (/ X1/ )/ 可以/ 看成/ 模糊/ 关系/ R/ ,/ 定义/ 为/ :/ 若/ y/ =/ x/ ,/ 则/ R/ (/ x/ ,/ y/ )/ =/ 0.2/ ;/ 否则/ 为/ 0/ ./ 因此/ 经典/ 赋值/ 语句/ 是/ 模糊/ 赋值/ 语句/ 的/ 特殊/ 情形/ ./ (/ 2/ )/ 出现/ 在/ 这/ 程序/ 中/ 的/ 语句/ 包括/ :/ 赋值/ 语句/ 、/ 顺序/ 语句/ 、/ 条件/ 语句/ 以及/ 循环/ 语句/ ,/ 添上/ 常见/ 的/ 跳/ 过/ 语句/ ,/ 即/ skip/ ,/ 则/ 得到/ 下面/ 的/ 命令式/ 模糊/ 程序语言/ :/ S/ ∷/ =/ skip/ |/ X/ ·/ ·/ =/ FUZZ/ (/ X/ )/ |/ S1/ ;/ 下面/ 将/ 借助/ 模糊/ 逻辑/ 与/ 模糊/ 关系/ 的/ 合成/ ,/ 通过/ 指称/ 语义/ 与/ 最弱/ (/ 线性/ )/ 前置条件/ 语义/ 解释/ 该/ 语言/ ./ 指称/ 语义/ 表明/ 程序运行/ 的/ 结果/ ,/ 是/ 一种/ 前向/ 语义/ ,/ 即/ 给定/ 一个/ 输入/ ,/ 考察/ 输出/ 是/ 什么/ ./ 从/ 上面/ 的/ 程序/ 可以/ 看出/ ,/ 对于/ 一个/ 输入/ ,/ 输出/ 是/ 状态/ 空间/ 上/ 的/ 一个/ 模糊集/ ./ 因此/ ,/ 对于/ 任意/ 一个/ 指令/ S/ ,/ 它/ 的/ 指称/ 是/ S/ :/ X/ →/ / (/ X/ )/ ./ 这/ 可以/ 等价/ 地/ 看成/ 状态/ 空间/ X/ 上/ 的/ 模糊/ 关系/ ,/ 即/ S/ :/ X/ ×/ X/ →/ [/ 0/ ,/ 1/ ]/ ./ 在/ 注释/ 1/ 中/ 解释/ 使用/ 模糊/ 关系/ 的/ 好处/ ./ 下面/ 是/ 用/ 递归/ 的/ 方法/ 给出/ 的/ 语义/ 链/ :/ skip/ =/ Id/ ;/ X/ ·/ ·/ =/ FUZZ/ (/ X/ )/ =/ P/ ,/ 其中/ P/ 是/ X/ ·/ ·/ =/ FUZZ/ (/ X/ )/ ./ 连接/ 的/ 模糊/ 关系/ S1/ ;/ S2/ =/ S1/ ·/ S2/ ;/ ifbthenS1elseS2/ (/ x/ ,/ y/ )/ =/ b/ (/ x/ )/ / S1/ (/ x/ ,/ y/ )/ / / b/ (/ x/ )/ / S2/ (/ x/ ,/ y/ )/ ;/ whilebdoS/ =/ μ/ F/ ,/ 其中/ μ/ F/ 是/ 泛/ 函/ F/ 的/ 最小/ 不动点/ ,/ F/ :/ (/ X/ ×/ X/ →/ [/ 0/ ,/ 1/ ]/ )/ →/ (/ X/ ×/ X/ →/ [/ 0/ ,/ 1/ ]/ )/ 定义/ 为/ :/ 对于/ 任意/ 的/ R/ ∈/ (/ X/ ×/ X/ →/ [/ 0/ ,/ 1/ ]/ )/ 与/ (/ x/ ,/ y/ )/ ∈/ X/ ×/ X/ ,/ 因为/ Fn/ (/ ⊥/ )/ =/ F/ (/ Fn/ -/ 1/ (/ ⊥/ )/ )/ 且/ F0/ (/ ⊥/ )/ =/ ⊥/ ./ 因为/ 模糊/ 关系/ 集/ (/ X/ ×/ X/ →/ [/ 0/ ,/ 1/ ]/ )/ 是/ 完备/ 格/ ,/ 且/ F/ 是/ 单调/ 泛函/ ,/ 所以/ 有/ 下面/ 的/ 命题/ ./ 命题/ 1/ ./ 泛函/ F/ 有/ 下面/ 的/ 性质/ :/ (/ 1/ )/ F/ 保并/ ./ (/ 2/ )/ F/ 有/ 最小/ 不动点/ μ/ F/ =/ / n/ ∈/ ω/ Fn/ (/ ⊥/ )/ ,/ 其中/ 证明/ ./ (/ 1/ )/ 证明/ 是/ 直接/ 的/ ,/ 忽略/ ./ (/ 2/ )/ 首先/ / n/ ∈/ ω/ Fn/ (/ ⊥/ )/ 是/ 泛/ 函/ F/ 的/ 不动点/ ,/ 这是/ F/ (/ / n/ ∈/ ω/ Fn/ (/ ⊥/ )/ )/ =/ / n/ ∈/ ω/ F/ (/ Fn/ (/ ⊥/ )/ )/ =/ / n/ ∈/ ω/ Fn/ +/ 1/ (/ ⊥/ )/ =/ / n/ ∈/ ω/ Fn/ (/ ⊥/ )/ (/ 由于/ F0/ (/ ⊥/ )/ =/ ⊥/ )/ ,/ 其次/ ,/ 假定/ R/ 是/ 任一/ 不动点/ ,/ 即/ F/ (/ R/ )/ =/ R/ ./ 由于/ ⊥/ / R/ 且泛/ 函/ F/ 是/ 单调/ 的/ ,/ 所以/ 对于/ 任意/ 的/ n/ ∈/ ω/ ,/ Fn/ (/ ⊥/ )/ / Fn/ (/ R/ )/ =/ R/ ./ 进一步/ ,/ / n/ ∈/ ω/ Fn/ (/ ⊥/ )/ / R/ ./ 这样/ 证明/ 了/ / n/ ∈/ ω/ Fn/ (/ ⊥/ )/ 是/ 泛/ 函/ F/ 的/ 最小/ 不动点/ ./ 证毕/ ./ 例/ 1/ ./ 模糊/ 赋值/ 语句/ X/ ·/ ·/ =/ FUZZ/ (/ X/ )/ 连接/ 一个/ 模糊/ 关系/ P/ ,/ 定义/ 为取/ 状态/ 空间/ 为/ 正整数/ 集/ ,/ 当/ 输入/ x/ =/ 3/ 时/ ,/ 输出/ 为/ 一个/ 模糊集/ A/ =/ 1/ // 2/ +/ 0.5/ // 1/ ,/ 此/ 模糊集/ 也/ 可以/ 理解/ 为/ 状态/ 空间/ X/ 上/ 的/ 一个/ 可能性/ 分布/ ./ 这样/ ,/ X/ ·/ ·/ =/ FUZZ/ (/ X/ )/ (/ 3/ ,/ 2/ )/ =/ 1/ 的/ 意思/ 是/ 输入/ 3/ ,/ 输出/ 2/ 的/ 可能性/ 是/ 1/ ,/ 而/ 输入/ 3/ ,/ 输出/ 不是/ 2/ 与/ 1/ 的/ 可能性/ 是/ 0/ ./ 注/ 1/ ./ (/ 1/ )/ 若/ 定义/ 指称/ S/ :/ X/ →/ / (/ X/ )/ ,/ 则/ 顺序/ 语句/ S1/ ;/ S2/ 不能/ 直接/ 合成/ ,/ 需将/ S2/ 提升/ 至/ S2/ :/ / (/ X/ )/ →/ / (/ X/ )/ ,/ 从而/ 定义/ S1/ ;/ S2/ =/ S2/ / S1/ ./ 使用/ 模糊/ 关系/ 的/ 合成/ 避免/ 了/ 提升/ ./ (/ 2/ )/ 本文/ b/ 取值/ 0/ 或/ 1/ ,/ 也/ 有些/ 工作/ b/ 在/ 单位/ 区间/ 中/ 取值/ ,/ 如/ Jones/ 在/ 文献/ [/ 3/ ]/ 中/ 关于/ 概率/ 程序/ 的/ 研究/ 与/ Vetterlein/ 等/ 人/ 在/ 文献/ [/ 12/ ]/ 中/ 关于/ 模糊/ 程序语言/ FAS/ 的/ 研究/ ./ 本文/ 的/ 结果/ 能否/ 推广/ 到/ 单位/ 区间/ 是/ 将来/ 要/ 考虑/ 的/ 问题/ ./ Page54/ 最弱/ 前置条件/ 语义/ 最/ 弱/ 前置条件/ 语义/ (/ wp/ )/ 是/ Dijkstra/ 在/ 文献/ [/ 17/ ]/ 中/ 提出/ 的/ ,/ 是/ 刻画/ 程序运行/ 的/ 一种/ 重要/ 的/ 公理化/ 方法/ ./ 它/ 支持/ 对/ 程序/ 进行/ 推理/ ,/ 是/ 一种/ 后/ 向/ 语义/ ,/ 即/ 给定/ 一个/ 后置/ 条件/ (/ 输出/ 应当/ 满足/ 的/ )/ ,/ 去/ 推理/ 前置条件/ (/ 输入/ 应当/ 满足/ 的/ )/ ,/ 例如/ ,/ 对于/ 指称/ 语义/ 一节/ 中/ 的/ 引例/ ,/ 为了/ 达到/ 预期/ 的/ 控制/ 效果/ ,/ 可以/ 借助/ 最/ 弱/ 前置条件/ 语义/ 去/ 推理/ 输入/ 应当/ 是/ 怎样/ 的/ ./ 下面/ 是/ 用/ 递归/ 的/ 方式/ 给出/ 的/ 语义/ 链/ :/ wp/ (/ skip/ ,/ B/ )/ =/ B/ ;/ wp/ (/ X/ ·/ ·/ =/ FUZZ/ (/ X/ )/ ,/ B/ )/ =/ λ/ x/ ./ supy/ ∈/ XP/ (/ x/ ,/ y/ )/ / B/ (/ y/ )/ ;/ wp/ (/ S1/ ;/ S2/ ,/ B/ )/ =/ wp/ (/ S1/ ,/ wp/ (/ S2/ ,/ B/ )/ )/ ;/ wp/ (/ ifbthenS1elseS2/ ,/ B/ )/ =/ b/ / wp/ (/ S1/ ,/ B/ )/ / / b/ / wp/ (/ S2/ ,/ B/ )/ ;/ wp/ (/ whilebdoS/ ,/ B/ )/ =/ μ/ G/ ,/ 其中/ G/ :/ / (/ X/ )/ →/ / (/ X/ )/ 且/ G/ (/ A/ )/ (/ x/ )/ =/ b/ (/ x/ )/ / wp/ (/ S/ ,/ A/ )/ (/ x/ )/ / / b/ (/ x/ )/ / B/ (/ x/ )/ ./ 有/ 下面/ 的/ 定理/ ./ 定理/ 1/ ./ wp/ (/ S/ ,/ B/ )/ 有/ 下面/ 的/ 性质/ :/ (/ 1/ )/ 严格/ 性/ ./ wp/ (/ S/ ,/ 0/ )/ =/ 0/ ./ (/ 2/ )/ 单调/ 性/ ./ wp/ (/ S/ ,/ B1/ )/ / wp/ (/ S/ ,/ B2/ )/ 若/ B1/ / B2/ ./ (/ 3/ )/ / 同态/ 性/ ./ wp/ (/ S/ ,/ r/ / B/ )/ =/ r/ / wp/ (/ S/ ,/ B/ )/ ,/ 其中/ r/ ∈/ [/ 0/ ,/ 1/ ]/ ./ (/ 4/ )/ 析取/ 性/ ./ wp/ (/ S/ ,/ / i/ ∈/ IBi/ )/ =/ / i/ ∈/ Iwp/ (/ S/ ,/ Bi/ )/ ,/ 其中/ {/ Bi/ :/ i/ ∈/ I/ }/ / / (/ X/ )/ ./ 证明/ ./ 证明/ 的/ 方法/ 是/ 归纳/ S/ 的/ 结构/ ,/ 本文/ 只/ 证明/ S/ =/ whilebdoS/ 的/ 情形/ ./ 选取/ / 同态/ 性/ 证明/ ,/ 其它/ 的/ 性质/ 可以/ 类似/ 证明/ ./ 对于/ 任意/ 的/ A/ ∈/ / (/ X/ )/ ,/ 由于/ 对/ S/ 的/ 归纳/ ,/ 有/ wp/ (/ S/ ,/ r/ / A/ )/ =/ r/ / wp/ (/ S/ ,/ A/ )/ ./ 现在/ 证明/ :/ wp/ (/ whilebdoS/ ,/ r/ / B/ )/ =/ r/ / wp/ (/ whilebdoS/ ,/ B/ )/ ./ 设/ G/ :/ / (/ X/ )/ →/ / (/ X/ )/ 满足/ G/ (/ A/ )/ (/ x/ )/ =/ b/ (/ x/ )/ / wp/ (/ S/ ,/ A/ )/ (/ x/ )/ / / b/ (/ x/ )/ / B/ (/ x/ )/ ,/ G/ :/ / (/ X/ )/ →/ / (/ X/ )/ 满足/ G/ (/ A/ )/ (/ x/ )/ =/ b/ (/ x/ )/ / wp/ (/ S/ ,/ A/ )/ (/ x/ )/ / / b/ (/ x/ )/ / 只/ 需/ 证明/ :/ 对于/ 任意/ 的/ r/ ∈/ [/ 0/ ,/ 1/ ]/ ,/ μ/ G/ =/ r/ / μ/ G/ ./ 首先/ ,/ 易证/ G/ (/ r/ / A/ )/ =/ r/ / G/ (/ A/ )/ ./ 因此/ ,/ G/ (/ r/ / μ/ G/ )/ =/ r/ / G/ (/ μ/ G/ )/ =/ r/ / μ/ G/ ,/ 即/ r/ / μ/ G/ 是/ G/ 的/ 不动点/ ./ 下面/ 证明/ r/ / μ/ G/ 是/ G/ 的/ 最小/ 不动点/ ./ 假设/ C/ 是/ G/ 的/ 任一/ 不动点/ ./ 对于/ 任意/ 的/ r/ ∈/ [/ 0/ ,/ 1/ ]/ ,/ 由于/ r/ / (/ r/ →/ C/ )/ / C/ ,/ 所以/ 由/ G/ 的/ 单调/ 性/ ,/ 有/ G/ (/ r/ / (/ r/ →/ C/ )/ )/ / G/ (/ C/ )/ =/ C/ ./ 又/ 由于/ G/ (/ r/ / (/ r/ →/ C/ )/ )/ =/ r/ / G/ (/ r/ →/ C/ )/ ,/ 所以/ r/ / G/ (/ r/ →/ C/ )/ / C/ ,/ 因此/ G/ (/ r/ →/ C/ )/ / r/ →/ C/ ./ 根据/ Tarski/ 不动点/ 定理/ (/ 见/ 文献/ [/ 18/ ]/ ,/ 第/ 50/ 页/ )/ :/ μ/ G/ =/ / {/ A/ ∈/ / (/ X/ )/ |/ G/ (/ A/ )/ / A/ }/ ,/ 有/ μ/ G/ / r/ →/ C/ ,/ 故/ r/ / μ/ G/ / C/ ./ 这样/ r/ / μ/ G/ 是/ G/ 的/ 最小/ 不动点/ ,/ 即/ μ/ G/ =/ r/ / μ/ G/ ./ 证毕/ ./ 定理/ 2/ ./ 对于/ 任意/ 的/ 指令/ S/ 及/ 任意/ 的/ 模糊集/ B/ ,/ 有/ 证明/ ./ 证明/ 的/ 方法/ 是/ 归纳/ S/ 的/ 结构/ ,/ 只/ 证明/ S/ =/ whilebdoS/ 的/ 情形/ ./ 由于/ 对/ S/ 的/ 归纳/ ,/ 已有/ wp/ (/ S/ ,/ B/ )/ =/ λ/ x/ ./ supy/ ∈/ XS/ (/ x/ ,/ y/ )/ / B/ (/ y/ )/ ./ 现在/ 只/ 需/ 证明/ :/ 是/ 泛/ 函/ G/ (/ 上面/ 式/ (/ 1/ )/ )/ 的/ 最小/ 不动点/ ,/ 这/ 又/ 等价/ 于/ 证明/ :/ 是/ 泛/ 函/ G/ 的/ 最小/ 不动点/ ,/ 其中/ F/ 的/ 定义/ 见/ 第/ 3/ 节/ ./ 事实上/ ,/ (/ / n/ ∈/ ω/ Fn/ (/ ⊥/ )/ )/ (/ x/ ,/ y/ )/ / B/ (/ y/ )/ supy/ ∈/ X/ =/ supy/ ∈/ Xsupn/ ∈/ ω/ Fn/ (/ ⊥/ )/ (/ x/ ,/ y/ )/ / B/ (/ y/ )/ =/ supy/ ∈/ Xsupn/ ∈/ ω/ Fn/ +/ 1/ (/ ⊥/ )/ (/ x/ ,/ y/ )/ / B/ (/ y/ )/ =/ supn/ ∈/ ω/ supy/ ∈/ XFn/ +/ 1/ (/ ⊥/ )/ (/ x/ ,/ y/ )/ / B/ (/ y/ )/ =/ supn/ ∈/ ω/ supy/ ∈/ XF/ (/ Fn/ (/ ⊥/ )/ )/ (/ x/ ,/ y/ )/ / B/ (/ y/ )/ =/ supn/ ∈/ ω/ supy/ ∈/ X/ (/ 1/ -/ b/ (/ x/ )/ )/ / Id/ (/ x/ ,/ y/ )/ ]/ / B/ (/ y/ )/ [/ supy/ ∈/ X/ =/ supn/ ∈/ ω/ (/ 1/ -/ b/ (/ x/ )/ )/ / B/ (/ x/ )/ ]/ [/ supy/ ∈/ X/ =/ supn/ ∈/ ω/ B/ (/ y/ )/ ]/ / (/ 1/ -/ b/ (/ x/ )/ )/ / B/ (/ x/ )/ ]/ [/ supz/ ∈/ X/ =/ supn/ ∈/ ω/ B/ (/ y/ )/ ]/ / (/ 1/ -/ b/ (/ x/ )/ )/ / B/ (/ x/ )/ ]/ [/ b/ (/ x/ )/ / supz/ ∈/ X/ =/ supn/ ∈/ ω/ (/ 1/ -/ b/ (/ x/ )/ )/ / B/ (/ x/ )/ ]/ [/ b/ (/ x/ )/ / wp/ (/ S/ ,/ An/ )/ (/ x/ )/ / (/ 1/ -/ b/ (/ x/ )/ )/ / B/ (/ x/ )/ ]/ ,/ =/ supn/ ∈/ ω/ 其中/ An/ =/ λ/ z/ ./ supy/ ∈/ XFn/ (/ ⊥/ )/ (/ z/ ,/ y/ )/ / B/ (/ y/ )/ ,/ 可以/ 验证/ A0/ =/ 0/ 且/ An/ +/ 1/ =/ λ/ z/ ./ b/ (/ z/ )/ / wp/ (/ S/ ,/ An/ )/ (/ z/ )/ / (/ 1/ -/ b/ (/ z/ )/ )/ / B/ (/ z/ )/ ./ 这样/ wp/ (/ whilebdoS/ ,/ B/ )/ =/ / n/ ∈/ ω/ An/ ./ G/ (/ / n/ ∈/ ω/ An/ )/ (/ x/ )/ =/ / n/ ∈/ ω/ G/ (/ An/ )/ (/ x/ )/ =/ / n/ ∈/ ω/ b/ (/ x/ )/ / wp/ (/ S/ ,/ An/ )/ (/ x/ )/ / (/ 1/ -/ b/ (/ x/ )/ )/ / B/ (/ x/ )/ =/ (/ / n/ ∈/ ω/ An/ +/ 1/ )/ (/ x/ )/ =/ (/ / n/ ∈/ ω/ An/ )/ (/ x/ )/ (/ 由于/ A0/ =/ 0/ )/ ./ 其次/ ,/ / n/ ∈/ ω/ An/ 是/ G/ 的/ 不动点/ ./ 这/ 是因为/ Page6/ 最后/ ,/ 假设/ C/ 是/ G/ 的/ 任一/ 不动点/ ./ 可以/ 用/ 数学/ 归纳法/ 证明/ / n/ ∈/ ω/ An/ / C/ ,/ 即/ / n/ ∈/ ω/ An/ 是/ G/ 的/ 最小/ 不动点/ ./ (/ 1/ )/ n/ =/ 0/ ,/ 清楚/ 地/ A0/ / C/ ,/ (/ 2/ )/ 假设/ n/ =/ k/ ,/ Ak/ / C/ ./ 则/ Ak/ +/ 1/ (/ x/ )/ =/ b/ (/ x/ )/ / wp/ (/ S/ ,/ Ak/ )/ (/ x/ )/ / (/ 1/ -/ b/ (/ x/ )/ )/ / B/ (/ x/ )/ / b/ (/ x/ )/ / wp/ (/ S/ ,/ C/ )/ (/ x/ )/ / (/ 1/ -/ b/ (/ x/ )/ )/ / B/ (/ x/ )/ =/ G/ (/ C/ )/ (/ x/ )/ =/ C/ (/ x/ )/ ./ 因此/ 对于/ 任意/ 的/ n/ ,/ An/ / C/ ,/ 故/ / n/ ∈/ ω/ An/ / C/ ./ 证毕/ ./ 例/ 2/ ./ 继续/ 例/ 1/ ,/ 希望/ 程序运行/ 后/ ,/ 输出/ 的/ 结果/ 是/ “/ 接近/ 3/ ”/ ,/ 那么/ 输入/ 应当/ 怎样/ 呢/ ?/ 假定/ 该/ 模糊/ 程序语言/ 使用/ 的/ 是/ ukasiewicz/ 逻辑/ ,/ “/ 接近/ 3/ ”/ 定义/ 为/ 模糊集/ B/ =/ 0.6/ // 1/ +/ 0.8/ // 2/ +/ 1/ // 3/ +/ 0.8/ // 4/ +/ 0.6/ // 5/ ./ 这个/ 问题/ 实际上/ 就是/ 计算/ wp/ (/ X/ ·/ ·/ =/ FUZZ/ (/ X/ )/ ,/ B/ )/ ,/ 经过/ 计算/ 可以/ 得到/ wp/ (/ X/ ·/ ·/ =/ FUZZ/ (/ X/ )/ ,/ B/ )/ =/ 0.6/ // 2/ +/ 0.8/ // 3/ +/ 1/ // 4/ +/ 0.8/ // 5/ +/ 0.6/ // 6/ +/ 0.1/ // 7/ ./ wp/ (/ X/ ·/ ·/ =/ FUZZ/ (/ X/ )/ ,/ B/ )/ (/ 4/ )/ =/ 1/ ,/ 意思/ 是/ 输入/ 4/ 得到/ 输出/ “/ 接近/ 3/ ”/ 的/ 可能性/ 是/ 1/ ,/ 而/ wp/ (/ X/ ·/ ·/ =/ FUZZ/ (/ X/ )/ ,/ B/ )/ (/ 7/ )/ =/ 0.1/ ,/ 意思/ 是/ 输入/ 7/ 得到/ 输出/ “/ 接近/ 3/ ”/ 的/ 可能性/ 是/ 0.1/ ./ 5/ 最弱/ 线性/ 前置条件/ 语义/ 最/ 弱/ 前置条件/ 语义/ (/ wp/ )/ 描述/ 全/ 正确/ 的/ 程序/ ,/ 即/ 程序运行/ 后/ 一定/ 终止/ ./ 为了/ 描述/ 部分/ 正确/ 的/ 程序/ ,/ 即/ 程序运行/ 后/ 不/ 一定/ 终止/ ,/ 需要/ 最/ 弱/ 线性/ 前置条件/ 语义/ (/ wlp/ )/ ,/ 下面/ 是/ 其/ 定义/ :/ wlp/ (/ skip/ ,/ B/ )/ =/ B/ ;/ wlp/ (/ X/ ·/ ·/ =/ FUZZ/ (/ X/ )/ ,/ B/ )/ =/ λ/ x/ ./ infy/ ∈/ XP/ (/ x/ ,/ y/ )/ →/ B/ (/ y/ )/ ;/ wlp/ (/ S1/ ;/ S2/ ,/ B/ )/ =/ wlp/ (/ S1/ ,/ wlp/ (/ S2/ ,/ B/ )/ )/ ;/ wlp/ (/ ifbthenS1elseS2/ ,/ B/ )/ =/ b/ / wlp/ (/ S1/ ,/ B/ )/ / / b/ / wlp/ (/ S2/ ,/ B/ )/ ;/ wlp/ (/ whilebdoS/ ,/ B/ )/ =/ ν/ T/ ,/ 其中/ ν/ T/ 是/ T/ 的/ 最大/ 不动点/ ,/ T/ :/ / (/ X/ )/ →/ / (/ X/ )/ 且/ T/ (/ A/ )/ (/ x/ )/ =/ b/ (/ x/ )/ / wlp/ (/ S/ ,/ A/ )/ (/ x/ )/ / / b/ (/ x/ )/ / B/ (/ x/ )/ ./ 有/ 下面/ 的/ 定理/ ./ 定理/ 3/ ./ wlp/ (/ S/ ,/ B/ )/ 有/ 下面/ 的/ 性质/ :/ (/ 1/ )/ 终止/ 性/ ./ wlp/ (/ S/ ,/ 1/ )/ =/ 1/ ./ (/ 2/ )/ 单调/ 性/ ./ wlp/ (/ S/ ,/ B1/ )/ / wlp/ (/ S/ ,/ B2/ )/ ,/ 若/ B1/ / B2/ ./ 其中/ r/ ∈/ [/ 0/ ,/ 1/ ]/ ./ 其中/ {/ Bi/ :/ i/ ∈/ I/ }/ / / (/ X/ )/ ./ (/ 3/ )/ →/ 同态/ 性/ ./ wlp/ (/ S/ ,/ r/ →/ B/ )/ =/ r/ →/ wlp/ (/ S/ ,/ B/ )/ ,/ (/ 4/ )/ 合取/ 性/ ./ wlp/ (/ S/ ,/ / i/ ∈/ IBi/ )/ =/ / i/ ∈/ Iwlp/ (/ S/ ,/ Bi/ )/ ,/ 证明/ ./ 证明/ 方法/ 与/ 定理/ 1/ 类似/ ,/ 忽略/ ./ 定理/ 4/ ./ 对于/ 任意/ 的/ 指令/ S/ 及/ 任意/ 的/ 模糊集/ B/ ,/ 有/ 证明/ ./ 证明/ 方法/ 与/ 定理/ 2/ 类似/ ,/ 忽略/ ./ 下面/ 的/ 定理/ 指出/ 了/ 最弱/ 前置条件/ 与/ 最弱/ 线性/ 前置条件/ 之间/ 的/ 关系/ ,/ 这一/ 关系/ 表明/ :/ 对于/ 任意/ 的/ 指令/ S/ 与/ 任意/ 的/ 模糊集/ B/ ,/ 某个/ 输入/ x/ 使/ 程序/ S/ 运行/ 后/ 终止/ 在/ 某个/ 状态/ ,/ 且/ 该/ 状态/ 满足/ B/ 或者/ / B/ 的/ 可能性/ 加上/ 程序/ 不/ 终止/ 的/ 可能性/ 是/ 1/ ./ 定理/ 5/ ./ 对于/ 任意/ 的/ 指令/ S/ 与/ 及/ 任意/ 的/ 模糊集/ B/ ,/ 有/ wp/ (/ S/ ,/ B/ )/ +/ wlp/ (/ S/ ,/ / B/ )/ =/ 1/ ./ 证明/ ./ 注/ 2/ ./ 定理/ 1/ 的/ 证明/ 需要/ 蕴含/ →/ 是/ 剩余/ 蕴含/ ,/ 而/ 定理/ 5/ 的/ 证明/ 需要/ 蕴含/ →/ 是/ S/ -/ 蕴含/ ,/ 这/ 就是/ 本文/ 一/ 开始/ 作/ 这样/ 要求/ 的/ 原因/ ./ 使用/ 这样/ 的/ 模糊/ 逻辑/ 可以/ 得到/ 确定/ 型/ 经典/ 程序/ 与/ 确定/ 型/ 概率/ 程序/ 都/ 有/ 的/ 大部分/ 结果/ ,/ 至于/ 使用/ 其它/ 的/ 模糊/ 逻辑/ 能否/ 得到/ 本文/ 的/ 全部/ 结果/ ,/ 还/ 需要/ 进一步/ 的/ 考虑/ ./ 6/ 对偶/ 与/ 逻辑/ 通常/ ,/ 在/ 指称/ 语义/ 与/ 最弱/ 前置条件/ 语义/ 之间/ 有/ 和谐/ 的/ 对偶/ 关系/ ,/ 该/ 对偶/ 表明/ 指称/ 语义/ 可以/ 诱导/ 相应/ 的/ 最弱/ 前置条件/ 语义/ ,/ 反之亦然/ ./ Hoare/ 在/ 文献/ [/ 19/ ]/ 中/ 证明/ 了/ 经典/ 程序语言/ 的/ 这种/ 对偶/ ;/ Jones/ 在/ 文献/ [/ 3/ ]/ 中/ 证明/ 了/ 其/ 概率/ 程序语言/ 的/ 这种/ 对偶/ ./ 这/ 一节/ ,/ 将/ 证明/ 命令式/ 模糊/ 程序语言/ 的/ 这种/ 对偶/ ./ 给定/ 一个/ 泛函/ T/ :/ / (/ X/ )/ →/ / (/ X/ )/ ,/ 它/ 是/ / 同态/ 的/ 并且/ 是/ 析取/ 的/ ,/ 即/ T/ 满足/ T/ (/ r/ / A/ )/ =/ r/ / T/ (/ A/ )/ 且/ T/ (/ / i/ ∈/ IAi/ )/ =/ / i/ ∈/ IT/ (/ Ai/ )/ ,/ 其中/ A/ ,/ Ai/ (/ i/ ∈/ I/ )/ ∈/ / (/ X/ )/ ,/ r/ ∈/ [/ 0/ ,/ 1/ ]/ ./ 定义/ T/ / :/ X/ ×/ X/ →/ [/ 0/ ,/ 1/ ]/ ,/ 使得/ 对于/ 任意/ 的/ (/ x/ ,/ y/ )/ ∈/ X/ ×/ X/ ,/ Page7/ 给定/ 模糊/ 关系/ R/ :/ X/ ×/ X/ →/ [/ 0/ ,/ 1/ ]/ ,/ 定义/ R/ °/ :/ / (/ X/ )/ →/ / (/ X/ )/ ,/ 使得/ 对于/ 任意/ 的/ A/ ∈/ / (/ X/ )/ ,/ x/ ∈/ X/ ,/ 清楚/ 地/ ,/ R/ °/ 是/ / 同态/ 的/ 并且/ 是/ 析取/ 的/ ./ 定理/ 6/ ./ (/ R/ °/ )/ / =/ R/ 且/ (/ T/ / )/ °/ =/ T/ ./ 证明/ ./ 首先/ ,/ 对于/ 任意/ 的/ (/ x/ ,/ y/ )/ ∈/ X/ ×/ X/ ,/ 因此/ (/ R/ °/ )/ / =/ R/ ./ 其次/ ,/ 对于/ 任意/ 的/ A/ ∈/ / (/ X/ )/ ,/ x/ ∈/ X/ ,/ 因此/ (/ T/ / )/ °/ =/ T/ ./ 此时/ 称/ R/ 与/ R/ °/ 以及/ T/ 与/ T/ / 是/ 对偶/ 的/ ./ 通过/ 这个/ 对偶/ 可以/ 看出/ 逻辑/ 与/ 语义/ 之间/ 的/ 关系/ :/ 模糊/ 程序/ S/ 的/ 语义/ 被/ 定义/ 为/ 模糊/ 关系/ X/ ×/ X/ →/ [/ 0/ ,/ 1/ ]/ ,/ 而/ 最弱/ 前置条件/ 语义/ 是/ 泛/ 函/ / (/ X/ )/ →/ / (/ X/ )/ ,/ 它/ 是/ / 同态/ 的/ 并且/ 是/ 析取/ 的/ ,/ 这样/ 语义/ S/ 对偶/ 于/ 最弱/ 前置/ 语义/ 给出/ 的/ 泛/ 函/ ,/ 即/ λ/ A/ ./ wp/ (/ S/ ,/ A/ )/ ,/ 这/ 在/ 符号/ 上/ 可以/ 表示/ 为/ S/ °/ =/ λ/ A/ ./ wp/ (/ S/ ,/ A/ )/ ,/ 而且/ 根据/ 定理/ 6/ 也/ 有/ (/ λ/ A/ ./ wp/ (/ S/ ,/ A/ )/ )/ / =/ S/ ./ 这种/ 对偶/ 如图/ 4/ 所示/ ./ 其中/ Com/ 是/ 指令集/ ,/ 即/ 模糊/ 程序/ ,/ Sem/ 是/ 指令集/ 的/ 指称/ 语义/ ,/ 即/ X/ 上/ 的/ 模糊/ 关系/ ,/ Log/ 是/ / 同态/ 的/ 并且/ 是/ 析取/ 的/ 泛/ 函/ / (/ X/ )/ →/ / (/ X/ )/ ./ 类似/ 地/ ,/ 也/ 可以/ 证明/ 指称/ 语义/ 与/ 最弱/ 线性/ 条件/ 前置/ 语义/ 之间/ 的/ 这种/ 对偶/ 关系/ ,/ 此时/ Log/ 是/ →/ 同态/ 的/ 并且/ 是/ 合取/ 的/ 泛/ 函/ / (/ X/ )/ →/ / (/ X/ )/ ./ 7/ 结论/ 及/ 未来/ 工作/ 本文/ 关于/ 模糊/ 程序语言/ 语义/ 的/ 研究/ ,/ 借鉴/ 了/ 概率/ 程序语言/ 语义/ 研究/ 的/ 中/ 的/ 一些/ 思想/ 与/ 方法/ ./ 对于/ 概率/ 程序/ 而言/ ,/ 程序/ 的/ 指称/ 从/ 输出/ 的/ 结果/ 看/ ,/ 有/ 两种/ 情况/ :/ 一是/ 确定/ 型/ ,/ 即/ 一个/ 输入/ 对应/ 一个/ 概率分布/ 输出/ ;/ 二是/ 不/ 确定/ 型/ ,/ 即/ 一个/ 输入/ 对应/ 多个/ 概率分布/ 输出/ ,/ 这种/ 不确定性/ 由/ 概率/ 幂域/ [/ 3/ ,/ 7/ ]/ 来/ 模拟/ ./ 另一方面/ ,/ 由于/ 概率分布/ 可以/ 直接/ 定义/ 在/ 某个/ 状态/ 空间/ 上/ [/ 4/ ]/ 或/ 定义/ 在/ 该/ 状态/ 空间/ 的/ 某种/ 子集/ 上/ [/ 3/ ,/ 5/ ]/ ,/ 所以/ 指称/ 语义/ 的/ 模型/ 又/ 有/ 离散/ 与/ 连续/ 两种/ 情况/ ./ 本文/ 对于/ 一个/ 输入/ ,/ 输出/ 是/ 状态/ 空间/ 上/ 的/ 一个/ 模糊集/ (/ 或称/ 可能性/ 分布/ )/ ,/ 是/ 一种/ 离散/ 的/ 确定/ 模型/ ./ 这种/ 研究/ 思路/ 在/ 以往/ 关于/ 模糊/ 程序语言/ 语义/ 的/ 研究/ 中/ 并/ 没有/ 得到/ 很/ 好/ 的/ 体现/ ./ 文献/ [/ 9/ -/ 10/ ]/ 虽然/ 也/ 是/ 离散/ 模型/ ,/ 但/ 并/ 没有/ 抽象地/ 研究/ 命令式/ 语言/ 的/ 指称/ 语义/ ,/ 更/ 没有/ 研究/ 最/ 弱/ 前置条件/ 语义/ ,/ 而且/ 在/ 研究/ 的/ 过程/ 中/ 也/ 没有/ 区分/ 全/ 正确/ 程序/ 与/ 部分/ 正确/ 程序/ ./ 正是/ 考虑/ 到/ 这些/ 问题/ ,/ 本文/ 借鉴/ 概率/ 程序/ 的/ 研究/ 思路/ ,/ 并/ 结合/ 模糊/ 逻辑/ 中/ 的/ 各种/ 算子/ 恰当/ 地/ 建立/ 了/ 这些/ 语义/ 模型/ ,/ 这/ 也/ 是/ 本文/ 最/ 显著/ 的/ 特点/ ./ 下/ 一步/ 的/ 工作/ 重点/ 是/ 连续/ 模型/ ./ 事实上/ ,/ 已/ 在/ 文献/ [/ 20/ ]/ 中/ 给出/ 了/ 一种/ 连续/ 的/ 确定/ 模型/ ,/ 而/ 在/ 文献/ [/ 21/ ]/ 中/ 已/ 给出/ 了/ 基于/ Hoare/ 幂域/ 的/ 连续/ 的/ 不/ 确定/ 模型/ ./ 下面/ 重点/ 要/ 解决/ 的/ 是/ 基于/ Smyth/ 幂域/ 的/ 连续/ 的/ 不/ 确定/ 模型/ ./ 

