Page1/ 基于/ One/ -/ test/ -/ at/ -/ a/ -/ time/ 策略/ 的/ 可变/ 力度/ 组合/ 测试用例/ 生成/ 方法/ 王子/ 元/ 1/ )/ ,/ 2/ )/ ,/ 3/ )/ 钱/ 巨/ 4/ )/ ,/ 5/ )/ 陈林/ 1/ )/ ,/ 2/ )/ 徐宝文/ 1/ )/ ,/ 2/ )/ 1/ )/ (/ 南京大学/ 软件/ 新/ 技术/ 国家/ 重点/ 实验室/ 南京/ 210093/ )/ 2/ )/ (/ 南京大学/ 计算机科学/ 与/ 技术/ 系/ 南京/ 210093/ )/ 3/ )/ (/ 南京/ 邮电大学/ 计算机/ 学院/ 南京/ 210006/ )/ 4/ )/ (/ 上海市/ 计算机软件/ 评测/ 重点/ 实验室/ 上海/ 201112/ )/ 5/ )/ (/ 南京航空航天大学/ 计算机科学/ 与/ 技术/ 学院/ 南京/ 210016/ )/ 摘要/ 组合/ 测试/ 可以/ 有效/ 地/ 检测/ 软件系统/ 中/ 由/ 各个/ 因素/ 间/ 交互作用/ 所/ 引发/ 的/ 软件/ 故障/ ./ 但/ 传统/ 的/ 组合/ 测试方法/ 对系统/ 中/ 各/ 因素/ 之间/ 的/ 实际/ 交互/ 关系/ 考虑/ 不足/ ,/ 难以/ 有效/ 处理/ 交互/ 力度/ 不/ 统一/ 的/ 情况/ ,/ 进而/ 可能/ 导致/ 测试用例/ 的/ 冗余/ 和/ 检错/ 能力/ 的/ 降低/ ./ 针对/ 该/ 问题/ ,/ 应/ 在/ 充分考虑/ 因素/ 间/ 实际/ 交互/ 关系/ 的/ 基础/ 上/ ,/ 使用/ 可变/ 力度/ 组合/ 测试方法/ ,/ 从而/ 实现/ 对于/ 因素/ 间/ 实际/ 交互/ 关系/ 的/ 覆盖/ ./ 为此/ ,/ 文中/ 针对/ 一种/ 新/ 的/ 可变/ 力度/ 组合/ 测试/ 模型/ ,/ 提出/ 了/ 两种/ 基于/ one/ -/ test/ -/ at/ -/ a/ -/ time/ 策略/ 的/ 可变/ 力度/ 组合/ 测试用例/ 集/ 生成/ 算法/ ./ 实验/ 表明/ ,/ 相对/ 于/ 已有/ 的/ 具备/ 类似/ 功能/ 的/ 测试用例/ 生成/ 算法/ 和/ 工具/ ,/ 文中/ 提出/ 的/ 算法/ 在/ 测试用例/ 集/ 规模/ 和/ 算法/ 运行/ 时间/ 上均/ 具备/ 一定/ 优势/ ,/ 并/ 可/ 适用/ 于/ 固定/ 力度/ 组合/ 测试/ 、/ 可变/ 力度/ 组合/ 测试/ 等/ 不同/ 测试/ 模型/ ./ 关键词/ 软件测试/ ;/ 可变/ 力度/ 组合/ 测试/ ;/ 测试用例/ 生成/ ;/ 交互/ 关系/ 1/ 引言/ 软件系统/ 是/ 一个/ 复杂/ 的/ 逻辑系统/ ,/ 有/ 很多/ 因素/ 都/ 可能/ 会/ 影响/ 软件系统/ 的/ 正常/ 运行/ ,/ 这些/ 因素/ 可能/ 包括/ 系统/ 的/ 配置/ 、/ 内部/ 事件/ 、/ 外部/ 输入/ 等/ ./ 除了/ 单个/ 因素/ 之外/ ,/ 这些/ 因素/ 之间/ 的/ 相互作用/ 也/ 可能/ 会/ 对系统/ 的/ 运行/ 造成/ 影响/ ./ 组合/ 测试/ 作为/ 一种/ 科学/ 、/ 有效/ 的/ 软件测试/ 方法/ ,/ 可以/ 使用/ 较少/ 的/ 测试用例/ 有效/ 地/ 检测/ 软件系统/ 中/ 各个/ 因素/ 以及/ 它们/ 之间/ 的/ 相互作用/ 对系统/ 产生/ 的/ 影响/ ./ 组合/ 测试方法/ 主要/ 可/ 分为/ 固定/ 力度/ 组合/ 测试/ 和/ 可变/ 力度/ 组合/ 测试/ 这/ 两种/ 类型/ ./ 其中/ ,/ 固定/ 力度/ 组合/ 测试方法/ 得到/ 了/ 最为/ 广泛/ 的/ 研究/ 和/ 应用/ ,/ 并/ 在/ 很多/ 实践/ 中/ 都/ 取得/ 了/ 良好/ 的/ 效果/ ./ 在/ 固定/ 力度/ 的/ τ/ 维/ 组合/ 测试/ 中/ ,/ 人们/ 一般/ 简单/ 地/ 假设/ 系统/ 中/ 任意/ τ/ 个/ 因素/ 间/ 均/ 存在/ 交互作用/ ,/ 并/ 在/ 上述/ 假设/ 的/ 基础/ 上/ 设计/ τ/ 维/ 组合/ 测试用例/ 集以/ 检测/ 这些/ 交互作用/ ./ 但/ Cohen/ 等/ 人/ [/ 1/ ]/ 提出/ ,/ 在/ 很多/ 软件系统/ 中/ ,/ 不同/ 因素/ 之间/ 的/ 交互/ 力度/ 往往/ 是/ 不同/ 的/ ,/ Kuhn/ 等/ 人/ [/ 2/ -/ 3/ ]/ 对/ 一些/ 具体/ 软件系统/ 的/ 分析/ 结果/ 也/ 说明/ 了/ 这/ 一点/ ./ 对于/ 这样/ 的/ 系统/ ,/ 往往/ 很难/ 寻找/ 一个/ 合适/ 的/ 正整数/ τ/ 来/ 进行/ 固定/ 力度/ 的/ 组合/ 测试/ :/ (/ 1/ )/ 如果/ τ/ 选取/ 过大/ ,/ 则/ 测试用例/ 可能/ 出现/ 不必要/ 的/ 冗余/ ,/ 从而/ 增加/ 测试/ 成本/ ;/ (/ 2/ )/ 若/ τ/ 选取/ 过/ 小/ ,/ 则/ 某些/ 因素/ 间/ 的/ 交互作用/ 将/ 难以/ 在/ 测试/ 中/ 得到/ 完全/ 的/ 检测/ ,/ 从而/ 降低/ 错误/ 检测/ 能力/ ./ 为了/ 解决/ 上述/ 问题/ ,/ Cohen/ 等/ 人/ [/ 1/ ]/ 在/ 2003/ 年/ 提出/ 了/ 一种/ 可变/ 力度/ 的/ 组合/ 测试方法/ ./ 该/ 方法/ 在/ 固定/ 力度/ τ/ 维/ 组合/ 测试/ 的/ 基础/ 上/ ,/ 允许/ 部分/ 互不/ 相交/ 的/ 因素/ 子/ 集中/ 存在/ 力度/ 大于/ τ/ 的/ 交互作用/ ,/ 从而/ 在/ 一定/ 程度/ 上/ 解决/ 了/ 上述/ 问题/ ./ 但是/ 我们/ 同时/ 注意/ 到/ ,/ 在/ Cohen/ 等/ 人/ 提出/ 的/ 可变/ 力度/ 组合/ 测试/ 模型/ 中/ ,/ 一方面/ 仍然/ 假设/ 所有/ 因素/ 间/ 均/ 存在/ 力度/ 至少/ 为/ τ/ 的/ 交互作用/ ,/ 另一方面/ 则/ 要求/ 那些/ 具有/ 较/ 高/ 交互/ 力度/ 的/ 因素/ 子集/ 互不/ 相交/ ./ 这样/ 的/ 限制/ 可能/ 会/ 影响/ 该/ 模型/ 的/ 表达能力/ ./ 可见/ ,/ 在/ 充分/ 了解/ 软件/ 中/ 因素/ 间/ 交互作用/ 的/ 基础/ 上/ ,/ 有/ 必要/ 对/ 现有/ 的/ 组合/ 测试/ 模型/ 进行/ 进一步/ 改进/ ./ 为此/ ,/ Schroeder/ 等/ 人/ [/ 4/ ]/ 提出/ 一种/ 基于/ 程序/ 输入输出/ 关系/ 的/ 测试/ 模型/ ./ 在/ 该/ 模型/ 中/ ,/ 程序/ 的/ 每个/ 输出/ 变量/ 均/ 依赖于/ 若干个/ 输入/ 变量/ 的/ 交互作用/ ./ 我们/ 则/ 在/ 该/ 模型/ 的/ 基础/ 上/ 进一步/ 扩展/ ,/ 提出/ 一种/ 新/ 的/ 可变/ 力度/ 组合/ 测试/ 模型/ [/ 5/ -/ 6/ ]/ ./ 这种/ 新/ 的/ 可变/ 力度/ 组合/ 测试/ 模型/ 可以/ 更为/ 准确/ 地/ 描述/ 系统/ 中/ 的/ 因素/ 间/ 交互作用/ ,/ 进而/ 为/ 测试用例/ 集/ 的/ 设计/ 和/ 生成/ 提供/ 更好/ 的/ 指导/ ./ 在/ 本文/ 中/ ,/ 一般/ 称/ Cohen/ 等/ 人/ 提出/ 的/ 方法/ 为/ “/ 狭义/ ”/ 可变/ 力度/ 组合/ 测试方法/ ,/ 以便/ 于/ 新旧/ 两种/ 方法/ 的/ 区分/ ./ 在/ 假设/ 待/ 测系统/ 因素/ 间/ 交互/ 关系/ 已知/ 的/ 情况/ 下/ ,/ 本文/ 针对/ 这种/ 新/ 的/ 可变/ 力度/ 组合/ 测试/ 模型/ ,/ 提出/ 了/ 一系列/ 基于/ one/ -/ test/ -/ at/ -/ a/ -/ time/ 策略/ 的/ 可变/ 力度/ 组合/ 测试用例/ 生成/ 算法/ ,/ 并/ 通过/ 实验/ 对/ 相关/ 算法/ 的/ 性能/ 进行/ 分析/ 和/ 比较/ ./ 实验/ 结果表明/ ,/ 相对/ 于/ 已有/ 的/ 具备/ 类似/ 功能/ 的/ 测试用例/ 生成/ 算法/ 和/ 工具/ ,/ 本文/ 提出/ 的/ 算法/ 在/ 测试用例/ 集/ 规模/ 和/ 算法/ 运行/ 时间/ 上均/ 具备/ 一定/ 优势/ ./ 2/ 模型/ 及/ 定义/ 假设/ 影响/ 待测/ 软件系统/ (/ SystemUnderTest/ ,/ SUT/ )/ 的/ 因素/ 共有/ n/ 个/ ,/ 这些/ 因素/ 形成/ 有限/ 集合/ F/ =/ {/ f1/ ,/ f2/ ,/ …/ ,/ fn/ }/ ./ 其中/ 因素/ fi/ 经过/ 等价/ 类/ 划分/ 等/ 前期/ 处理/ 后/ 共/ 包含/ ai/ 个/ 可/ 选取/ 值/ ,/ 不妨/ 假设/ 该/ 因素/ 的/ 可/ 选取/ 值/ 集合/ 为/ Vi/ =/ {/ 1/ ,/ 2/ ,/ …/ ,/ ai/ }/ (/ 1/ / i/ / n/ )/ ./ 一般/ 地/ ,/ 如果/ 某个/ SUT/ 中/ 所有/ 因素/ 取值/ 数量/ 均/ 相等/ ,/ 即/ a1/ =/ a2/ =/ …/ =/ an/ ,/ 则/ 称/ 该/ SUT/ 为/ 单一/ 水平/ 系统/ ;/ 否则/ ,/ 称该/ SUT/ 为/ 混合/ 水平/ 系统/ ./ 定义/ 1/ ./ 称/ 一个/ n/ 元组/ test/ =/ (/ v1/ ,/ v2/ ,/ …/ ,/ vn/ )/ (/ v1/ ∈/ V1/ ,/ v2/ ∈/ V2/ ,/ …/ ,/ vn/ ∈/ Vn/ )/ 为/ SUT/ 的/ 一条/ 测试用例/ ,/ 相应/ 地/ ,/ 称/ 一个/ 由/ 多个/ 这样/ 的/ n/ 元组/ 所/ 构成/ 的/ 集合/ 为待测/ 软件/ SUT/ 的/ 一个/ 测试用例/ 集/ ./ 2.1/ 已有/ 组合/ 测试/ 模型/ 在/ 组合/ 测试/ 中/ ,/ 需要/ 考虑/ 因素/ 之间/ 的/ 交互作用/ ,/ 并/ 根据/ 因素/ 间/ 的/ 交互作用/ 设计/ 测试用例/ 集/ ,/ 以/ 覆盖/ 某些/ 给定/ 的/ 因素/ 取值/ 组合/ ./ 首先/ ,/ 对/ 固定/ 力度/ 组合/ 测试/ 和/ “/ 狭义/ ”/ 可变/ 力度/ 组合/ 测试/ 的/ 相关/ 概念/ 进行/ 简要/ 介绍/ [/ 1/ ,/ 7/ ]/ ./ 定义/ 2/ ./ 设/ 犃/ =/ (/ ai/ ,/ j/ )/ m/ ×/ n/ 为/ 一个/ m/ ×/ n/ 的/ 矩阵/ ,/ 其/ 第/ j/ 列/ 表示/ SUT/ 的/ 因素/ fj/ ,/ 其中/ 所有/ 元素/ 均/ 取自/ 集合/ Vj/ (/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ n/ )/ ,/ 即/ ai/ ,/ j/ ∈/ Vj/ ./ 给定/ 正整数/ τ/ (/ 1/ / τ/ / n/ )/ ,/ 如果/ 犃/ 中/ 任意/ τ/ 列/ ,/ 即/ 第/ i1/ ,/ i2/ ,/ …/ ,/ i/ τ/ 列均/ 满足/ :/ Vi1/ ,/ Vi2/ ,/ …/ ,/ Vi/ τ/ 中/ 元素/ 的/ 所有/ 的/ τ/ 元组/ Page3/ 合均/ 在/ 这/ τ/ 列所/ 组成/ 的/ 子/ 矩阵/ 中/ 至少/ 出现/ 一次/ ,/ 则/ 称/ 犃/ 为/ τ/ 维/ 组合/ 覆盖/ 表/ ,/ 记/ 作/ 犆/ 犃/ (/ m/ ;/ τ/ ,/ F/ )/ ./ 其中/ ,/ τ/ 为/ 犆/ 犃/ (/ m/ ;/ τ/ ,/ F/ )/ 的/ 组合/ 覆盖/ 力度/ ./ 显然/ ,/ 从/ 犆/ 犃/ (/ m/ ;/ τ/ ,/ F/ )/ 中任取/ k/ 列/ (/ τ/ / k/ / n/ )/ ,/ 其所/ 构成/ 的/ 子/ 矩阵/ 的/ 组合/ 覆盖/ 力度/ 均/ 为/ τ/ ./ 因此/ ,/ 我们/ 又称/ τ/ 维/ 组合/ 覆盖/ 表为/ 固定/ 力度/ 组合/ 覆盖/ 表/ ./ 定义/ 3/ ./ 对于/ 一个/ τ/ 维/ 组合/ 覆盖/ 表/ 犃/ ,/ 若/ F/ 中/ 存在/ t/ (/ t/ / 1/ )/ 个/ 互不/ 相交/ 的/ 子集/ Fi/ / F/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ t/ )/ ,/ 这些/ 子集/ 构成/ 集合/ C/ ./ 其中/ Fi/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ t/ )/ 包含/ ni/ 个/ 因素/ ,/ 且/ 这些/ 因素/ 对应/ 的/ 列/ 所/ 组成/ 的/ m/ ×/ ni/ 的/ 子/ 矩阵/ 犃/ i/ 满足/ τ/ i/ (/ τ/ </ τ/ i/ / ni/ )/ 维/ 组合/ 覆盖/ 的/ 条件/ ,/ 即/ 犃/ i/ 的/ 组合/ 覆盖/ 力度/ 不/ 等于/ τ/ ,/ 则/ 称/ 犃/ 为/ “/ 狭义/ ”/ 可变/ 力度/ 的/ 组合/ 覆盖/ 表/ ,/ 记作/ 犞/ 犛/ 犆/ 犃/ (/ m/ ;/ τ/ ,/ F/ ,/ C/ )/ ./ 定义/ 4/ ./ 使用/ 固定/ 力度/ 组合/ 覆盖/ 表/ 和/ “/ 狭义/ ”/ 可变/ 力度/ 组合/ 覆盖/ 表/ 设计/ 测试用例/ 集/ 的/ 方法/ ,/ 可/ 分别/ 称之为/ 固定/ 力度/ 组合/ 测试方法/ 和/ “/ 狭义/ ”/ 可变/ 力度/ 组合/ 测试方法/ ./ 例如/ ,/ 对于/ 一个/ 如图/ 1/ 所示/ 的/ 面向对象/ 系统/ 进行/ 类/ 交互/ 测试/ 时/ ,/ 每次/ 测试/ 均/ 需要/ 从/ 4/ 个类/ 体系结构/ (/ ClassCluster/ )/ 中/ 各/ 选取/ 一个/ 子类/ 组成/ 一个/ 具体/ 的/ 配置/ 作为/ 测试用例/ ./ 我们/ 将/ 每个/ 类/ 体系结构/ 作为/ 一个/ 因素/ ,/ 其中/ 的/ 子类/ 作为/ 该/ 因素/ 的/ 可/ 选取/ 值/ ,/ 从而/ 有/ F/ =/ {/ 23/ ×/ 3/ }/ (/ 表示/ F/ 中共/ 含/ 4/ 个/ 因素/ ,/ 可/ 选取/ 值/ 的/ 数量/ 依次/ 为/ 2/ 、/ 2/ 、/ 2/ 、/ 3/ )/ ./ 若/ 采用/ 固定/ 力度/ 二维/ 组合/ 测试/ ,/ 则/ 可以/ 找到/ 一个/ 规模/ 为/ 6/ 的/ 二维/ 组合/ 测试用例/ 集/ 犆/ 犃/ (/ 6/ ;/ 2/ ,/ F/ )/ ,/ 从而/ 保证/ 任意/ 两个/ 因素/ 间/ 的/ 所有/ 二元/ 取值/ 组合/ 均/ 至少/ 出现/ 一次/ ,/ 如表/ 1/ 所示/ ./ 在/ 此基础/ 上/ ,/ 进一步/ 令/ C/ =/ {/ {/ ClassA/ ,/ ClassB/ ,/ ClassC/ }/ }/ ,/ 则/ 可/ 得到/ 如表/ 2/ 所示/ 的/ 可变/ 力度/ 组合/ 测试用例/ 集/ 犞/ 犛/ 犆/ 犃/ (/ 8/ ;/ 2/ ,/ F/ ,/ C/ )/ ./ 该/ 测试用例/ 集除/ 保证/ 二维/ 组合/ 覆盖/ 外/ ,/ 还/ 能/ 保证/ ClassA/ ,/ ClassB/ ,/ ClassC3/ 个/ 因素/ 间/ 所有/ 的/ 三元/ 取值/ 组合/ 均/ 至少/ 出现/ 一次/ ./ ClassAClassBClassCClassDA1A1A1A2A2A2ClassAClassBClassCClassDA1A1A1A1A2A2A2A2/ 在/ 上述/ 定义/ 的/ 基础/ 上/ ,/ 本/ 小节/ 对/ 新/ 的/ 可变/ 力度/ 2.2/ 新/ 的/ 可变/ 力度/ 组合/ 测试/ 模型/ 组合/ 测试方法/ 进行/ 介绍/ [/ 5/ -/ 7/ ]/ ./ 假设/ 因素/ 集合/ F/ 中/ 的/ 一组/ 因素/ 间/ 存在/ 交互作用/ ,/ 则/ 可以/ 将/ 这些/ 因素/ 收集/ 为/ F/ 的/ 一个/ 子集/ r/ / F/ ,/ 从而/ 使得/ 子/ 集中/ 所有/ |/ r/ |/ 个/ 因素/ 间/ 存在/ 一个/ 力度/ 为/ |/ r/ |/ 的/ 交互作用/ (/ 或/ 称之为/ |/ r/ |/ 维/ 交互作用/ )/ ./ 对于/ 一个/ 给定/ 的/ 子集/ r/ ,/ 相应/ 的/ 组合/ 测试用例/ 集应/ 覆盖/ r/ 中/ 因素/ 间/ 所有/ 的/ |/ r/ |/ 元/ 取值/ 组合/ ./ 类似/ 的/ ,/ 系统/ SUT/ 中/ 的/ 每/ 一个/ 交互作用/ 均/ 可/ 抽象/ 为/ 这样/ 的/ 一个/ 子集/ ./ 假设/ SUT/ 中共/ 存在/ t/ 个/ 不同/ 的/ 交互作用/ ,/ 则/ 可以/ 构造/ 一个/ 由/ F/ 的/ t/ 个/ 不同/ 子集/ 所/ 组成/ 的/ 集合/ R/ =/ {/ r1/ ,/ r2/ ,/ …/ ,/ rt/ }/ ./ 针对/ 该/ SUT/ 的/ 组合/ 测试用例/ 集应/ 覆盖/ R/ 中/ 所有/ 子集/ 所/ 对应/ 的/ 因素/ 间/ 交互作用/ ,/ 即/ 对于/ 任一/ 给定/ 的/ rk/ ∈/ R/ (/ k/ =/ 1/ ,/ 2/ ,/ …/ ,/ t/ )/ ,/ 测试用例/ 集/ 必须/ 覆盖/ rk/ 中/ 因素/ 间/ 所有/ 的/ |/ rk/ |/ 元/ 取值/ 组合/ ./ 例如/ ,/ 在/ 对/ 一个/ 具有/ n/ 个/ 因素/ 的/ 系统/ 进行/ 固定/ 力度/ 二维/ 组合/ 测试/ 时/ ,/ 测试用例/ 集/ 就/ 必须/ 覆盖/ R/ =/ {/ {/ fi/ ,/ fj/ }/ |/ fi/ ,/ fj/ ∈/ F/ ,/ 1/ / i/ </ j/ / n/ }/ 中/ 的/ 所有/ |/ R/ |/ =/ n/ ×/ (/ n/ -/ 1/ )/ // 2/ 个/ 二维/ 相互作用/ ./ 定义/ 5/ ./ 称/ 上述/ 集合/ R/ 为/ 待/ 测系统/ SUT/ 的/ 因素/ 交互/ 关系/ ,/ 简称/ 交互/ 关系/ ;/ 而/ R/ 中/ 的/ 每/ 一个/ 元素/ rk/ ∈/ R/ (/ k/ =/ 1/ ,/ 2/ ,/ …/ ,/ t/ )/ 均/ 为/ SUT/ 的/ 一个/ 因素/ 组合/ 覆盖/ 需求/ ,/ 简称/ 覆盖/ 需求/ ./ 本文/ 中/ ,/ 我们/ 不妨/ 假设/ :/ (/ 1/ )/ 覆盖/ 需求/ ri/ =/ {/ fi/ ,/ 1/ ,/ fi/ ,/ 2/ ,/ …/ ,/ fi/ ,/ ni/ }/ ∈/ R/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ t/ )/ 中/ 含有/ ni/ 个/ 因素/ 且/ 有/ ni/ >/ 1/ ;/ (/ 2/ )/ 因素/ 集合/ F/ 中/ 的/ 给定/ 的/ 两个/ 因素/ fi/ ,/ fj/ ∈/ F/ (/ 1/ / i/ </ j/ / n/ )/ 之间/ 存在/ 交互作用/ ,/ 当且/ 仅/ 当/ 存在/ 一个/ 覆盖/ 需求/ r/ ∈/ R/ 使得/ fi/ ,/ fj/ ∈/ r/ ;/ (/ 3/ )/ R/ 中/ 任意/ Page4/ 两个/ 覆盖/ 需求/ ri1/ ,/ ri2/ ∈/ R/ (/ i1/ ≠/ i2/ )/ 之间/ 不/ 存在/ 包含/ 关系/ ,/ 否则/ 若有/ ri1/ / ri2/ ,/ 则/ 可/ 直接/ 从/ R/ 中/ 删除/ ri1/ 而/ 不/ 影响/ 测试用例/ 集/ 的/ 组合/ 覆盖/ 能力/ ;/ (/ 4/ )/ 对于/ F/ 中/ 任意/ 因素/ fi/ ∈/ F/ (/ 1/ / i/ / n/ )/ ,/ 至少/ 存在/ 一个/ 覆盖/ 需求/ r/ ∈/ R/ 使得/ fi/ ∈/ r/ ,/ 否则/ 说明/ fi/ 不/ 与/ F/ 中/ 的/ 其它/ 任何/ 因素/ 发生/ 交互作用/ ,/ 不/ 属于/ 组合/ 测试/ 所/ 考虑/ 的/ 范围/ ./ 定义/ 6/ ./ 设/ 犃/ =/ (/ ai/ ,/ j/ )/ m/ ×/ n/ 为/ 一/ m/ ×/ n/ 的/ 矩阵/ ,/ 其/ 第/ j/ 列/ 表示/ SUT/ 的/ 参数/ fj/ ,/ 其中/ 所有/ 元素/ 均/ 取自/ 集合/ Vj/ (/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ n/ )/ ,/ 即/ ai/ ,/ j/ ∈/ Vj/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ m/ )/ ./ 给定/ SUT/ 的/ 一个/ 组合/ 覆盖/ 需求/ rk/ ∈/ R/ ,/ 由/ rk/ 中/ 的/ nk/ 个/ 因素/ 所/ 对应/ 的/ 列/ 可/ 组成/ 一个/ m/ ×/ nk/ 的/ 子/ 矩阵/ 犃/ k/ ,/ 若该/ nk/ 个/ 因素/ 的/ 所有/ nk/ 元/ 取值/ 组合/ 在/ 犃/ k/ 中均/ 至少/ 出现/ 一次/ ,/ 则/ 称/ 犃/ 满足/ 覆盖/ 需求/ rk/ ./ 若/ 任取/ rk/ ∈/ R/ (/ k/ =/ 1/ ,/ 2/ ,/ …/ ,/ t/ )/ ,/ 均/ 有/ 犃/ 满足/ rk/ ,/ 则/ 称/ 犃/ 为/ 满足/ 交互/ 关系/ R/ 的/ 可变/ 力度/ 组合/ 覆盖/ 表/ ,/ 并/ 记为/ 犞/ 犆/ 犃/ (/ m/ ;/ F/ ,/ R/ )/ ./ 结合/ 定义/ 5/ 可知/ ,/ 对于/ 交互/ 关系/ R/ 中/ 的/ 一个/ 覆盖/ 需求/ rk/ ∈/ R/ (/ k/ =/ 1/ ,/ 2/ ,/ …/ ,/ t/ )/ ,/ rk/ 中/ 因素/ 间/ 所有/ 的/ |/ rk/ |/ 元/ 取值/ 组合/ 可以/ 构成/ 集合/ :/ CombSetk/ =/ {/ (/ vk/ ,/ 1/ ,/ vk/ ,/ 2/ ,/ …/ ,/ vk/ ,/ nk/ )/ |/ vk/ ,/ 1/ ∈/ Vk/ ,/ 1/ ,/ 相应/ 的/ ,/ R/ 中/ 所有/ 覆盖/ 需求/ 所/ 对应/ 的/ 组合/ 可以/ 构成/ 集合/ :/ 显然/ ,/ 一个/ 满足/ R/ 的/ 可变/ 力度/ 组合/ 覆盖/ 表/ 必须/ 覆盖/ 集合/ CombSet/ 中/ 的/ 所有/ 组合/ ./ 定义/ 7/ ./ 使用/ 可变/ 力度/ 组合/ 覆盖/ 表/ 设计/ 测试用例/ 集/ 的/ 方法/ ,/ 称之为/ 可变/ 力度/ 组合/ 测试方法/ ./ 不同于/ 传统/ 的/ 固定/ 力度/ 维/ 组合/ 测试/ ,/ 在/ 可变/ 力度/ 组合/ 测试/ 中/ ,/ 测试用例/ 集/ 不/ 需要/ 覆盖/ 任意/ τ/ 个/ 因素/ 之间/ 的/ 取值/ 组合/ ,/ 仅/ 需/ 满足/ 交互/ 关系/ R/ 中/ 所有/ t/ 个/ 覆盖/ 需求/ 即可/ ./ 而/ 相对/ 于/ “/ 狭义/ ”/ 可变/ 力度/ 组合/ 测试/ ,/ 新/ 的/ 可变/ 力度/ 组合/ 测试方法/ 可以/ 更为/ 准确/ 地/ 描述/ 系统/ 中/ 因素/ 间/ 的/ 交互/ 关系/ ./ 例如/ ,/ 对于/ 图/ 1/ 所示/ 的/ 面向对象/ 系统/ ,/ 因素/ 交互/ 关系/ 可/ 描述/ 为/ R/ =/ {/ r1/ ,/ r2/ ,/ r3/ }/ ,/ 其中/ r1/ =/ {/ ClassA/ ,/ ClassB/ ,/ ClassC/ }/ ,/ r2/ =/ {/ Clas/ -/ sA/ ,/ ClassD/ }/ ,/ r3/ =/ {/ ClassC/ ,/ ClassD/ }/ ./ 若/ 使用/ “/ 狭义/ ”/ 可变/ 力度/ 力度/ 组合/ 测试/ 模型/ ,/ 则/ 存在/ 如下/ 可能/ :/ (/ 1/ )/ 令/ τ/ =/ 2/ 且/ C/ =/ {/ r1/ }/ ,/ 则/ R/ 中/ 所有/ 覆盖/ 需求/ 均/ 可/ 满足/ ,/ 但/ 原本/ 不/ 属于/ R/ 的/ 覆盖/ 需求/ {/ ClassB/ ,/ ClassD/ }/ 也/ 会/ 被/ 该/ 模型/ 包含/ 在内/ ;/ (/ 2/ )/ 令/ τ/ =/ 1/ 且/ R/ =/ {/ r1/ ,/ r2/ ,/ r3/ }/ ,/ 则/ 不/ 存在/ 冗余/ 的/ 覆盖/ 需求/ ,/ 但/ r1/ 与/ r2/ 间/ 、/ r1/ 与/ r3/ 间/ 以及/ r2/ 与/ r3/ 间/ 均/ 存在/ 交集/ ,/ 不/ 符合/ “/ 狭义/ ”/ 可变/ 力度/ 组合/ 测试/ 模型/ 的/ 要求/ ./ 进行/ 可变/ 力度/ 组合/ 测试/ 的/ 一个/ 重要/ 前提/ 是/ 获取/ 待/ 测系统/ 的/ 因素/ 交互/ 关系/ ,/ 这/ 可以/ 通过/ 文档/ 分析/ 、/ 静态/ 代码/ 分析/ 等/ 方式/ 进行/ ,/ 本文/ 对此/ 不/ 做/ 赘述/ ./ 假设/ 已/ 通过/ 上述/ 某种/ 方式/ 准确/ 获取/ 因素/ 交互/ 关系/ ,/ 我们/ 重点/ 考虑/ 如何/ 在/ 此基础/ 上/ 生成/ 规模/ 尽可能/ 小/ 的/ 可变/ 力度/ 组合/ 测试用例/ 集/ ,/ 以便/ 在/ 满足/ 组合/ 覆盖/ 标准/ 的/ 前提/ 下/ ,/ 尽可能/ 节约/ 测试/ 成本/ ./ 定理/ 1/ ./ 给定/ 因素/ 集合/ F/ ,/ 交互/ 关系/ R/ 以及/ 正整数/ m/ </ (/ a1/ ×/ a2/ ×/ …/ ×/ an/ )/ ,/ 生成/ 一个/ 规模/ 为/ m/ ,/ 且/ 满足/ 交互/ 关系/ R/ 的/ 可变/ 力度/ 组合/ 测试用例/ 集/ 犞/ 犆/ 犃/ (/ m/ ;/ F/ ,/ R/ )/ 是/ 一个/ NP/ -/ C/ 问题/ ./ 证明/ ./ 首先/ 需/ 证明/ 该/ 问题/ 属于/ NP/ 类/ ,/ 然后/ 若/ 存在/ 一个/ 已知/ 的/ NP/ -/ C/ 问题/ 可/ 在/ 多项式/ 时间/ 内/ 转化/ 为/ 该/ 问题/ ,/ 或/ 已知/ 问题/ 是/ 该/ 问题/ 的/ 一种/ 特殊/ 情况/ ,/ 即可/ 证明/ 该/ 问题/ 为/ NP/ -/ C/ 问题/ ./ 首先/ ,/ 给定/ 一个/ 测试用例/ 集/ 犜/ ,/ 判断/ 其/ 是否/ 满足/ R/ 中/ 所有/ 覆盖/ 需求/ ,/ 需/ 依次/ 检查/ 犜/ 中/ 的/ m/ 条/ 测试用例/ ./ 而/ 在/ 检查/ 每/ 一条/ 测试用例/ 时/ ,/ 又/ 需/ 依次/ 检查/ R/ 中/ 每个/ 覆盖/ 需求/ 所/ 对应/ 的/ 因素/ 取值/ 组合/ ./ 因此/ ,/ 其/ 时间/ 复杂度/ 不/ 超过/ O/ |/ m2/ |/ 2/ ×/ ∑/ t/ 间/ 可/ 判定/ ,/ 说明/ 该/ 问题/ 属于/ NP/ 类/ ./ 其次/ ,/ 已知/ 固定/ 力度/ 二维/ 组合/ 测试用例/ 集/ 的/ 生成/ 问题/ 是/ NP/ -/ C/ 问题/ [/ 8/ -/ 9/ ]/ ./ 如上/ 文/ 所述/ ,/ 二维/ 组合/ 测试用例/ 集/ 的/ 生成/ 问题/ 是/ 该/ 问题/ 在/ R/ =/ {/ {/ fi/ ,/ fj/ }/ |/ fi/ ,/ fj/ ∈/ F/ ,/ 1/ / i/ </ j/ / n/ }/ 时/ 的/ 一种/ 特殊/ 情况/ ./ 因此/ ,/ 对于/ 给定/ 的/ F/ 、/ R/ 以及/ m/ ,/ 生成/ 规模/ m/ 的/ 可变/ 力度/ 组合/ 测试用例/ 集是/ 一个/ NP/ -/ C/ 问题/ ./ 由/ 定理/ 1/ 可知/ ,/ 我们/ 暂时/ 无法/ 使用/ 多项式/ 时间/ 的/ 算法/ 生成/ 最优/ 的/ 可变/ 力度/ 组合/ 测试用例/ 集/ ./ 因此/ ,/ 本文/ 主要/ 研究/ 如何/ 使用/ 启发式/ 算法/ 生成/ 近似/ 最优/ 的/ 可变/ 力度/ 组合/ 测试用例/ 集/ ./ 3/ 相关/ 工作/ 及/ 存在/ 的/ 问题/ 除/ Cohen/ 等/ 人/ 提出/ 的/ “/ 狭义/ ”/ 可变/ 力度/ 组合/ 测试方法/ 外/ ,/ 近年来/ 人们/ 所/ 做/ 的/ 其它/ 一些/ 工作/ 也/ 与/ 可变/ 力度/ 组合/ 测试方法/ 相关/ ./ 例如/ ,/ Schroeder/ 等/ 人/ [/ 4/ ,/ 10/ ]/ 提出/ 的/ 程序/ 输入输出/ 关系/ 测试/ 可/ 看作/ 是/ 可变/ 力度/ 组合/ 测试/ 的/ 一种/ 特殊/ 应用/ 场景/ ./ 而/ 开源/ 测试用例/ 生成/ 工具/ TestVectorGenerator/ (/ TVG/ )/ ①/ 以及/ ①/ http/ :/ // // sourceforge/ ./ net/ // projects/ // tvg/ // Page5/ 微软/ Czerwonka/ 开发/ 的/ 工具/ PICT/ [/ 11/ ]/ 也/ 可以/ 用于/ 可变/ 力度/ 组合/ 测试用例/ 集/ 的/ 生成/ ./ 在/ 输入输出/ 关系/ 测试/ 的/ 模型/ 中/ ,/ X/ 表示/ 所有/ 输入/ 变量/ 的/ 集合/ ,/ Y/ 表示/ 所有/ 输出/ 变量/ 的/ 集合/ ;/ D/ (/ xi/ )/ 表示/ 输入/ 变量/ xi/ 的/ 取值/ 的/ 集合/ ,/ Tall/ =/ D/ (/ x1/ )/ ×/ D/ (/ x2/ )/ ×/ …/ ×/ D/ (/ xn/ )/ 表示/ 输入/ 变量/ 的/ 所有/ 取值/ 组合/ ./ 在/ 程序/ 中/ ,/ 每/ 一个/ 输出/ 变量/ 依赖于/ 一个/ 或/ 多个/ 输入/ 变量/ ./ 用/ X/ (/ y/ )/ 表示/ 与/ 输出/ 变量/ y/ 有关/ 的/ 输入/ 变量/ 的/ 集合/ ,/ 用/ T/ (/ y/ )/ 表示/ 只/ 与/ 输出/ 变量/ y/ 有关/ 的/ 输入/ 变量/ 的/ 值/ 组合/ ,/ 该/ 集合/ 包含/ X/ (/ y/ )/ 中/ 所有/ 输入/ 变量/ 的/ 取值/ 组合/ ./ 在/ 输入输出/ 关系/ 测试/ 中/ ,/ 需要/ 生成/ 一个/ 规模/ 尽可能/ 小/ 的/ 测试用例/ 集/ 犜/ / Tall/ ,/ 使得/ 对于/ 任意/ y/ ∈/ Y/ ,/ X/ (/ y/ )/ 中/ 的/ 所有/ 组合/ 均/ 在/ T/ 中/ 出现/ 至少/ 一次/ ./ 显然/ ,/ 若/ 对于/ 每/ 一个/ y/ ∈/ Y/ ,/ 都/ 可/ 将/ X/ (/ y/ )/ 对应/ 于/ 可变/ 力度/ 组合/ 测试/ 模型/ 中/ 的/ 一个/ 覆盖/ 需求/ ,/ 则/ 集合/ {/ X/ (/ y/ )/ |/ y/ ∈/ Y/ }/ 恰好/ 对应/ 于/ 可变/ 力度/ 组合/ 测试/ 模型/ 中/ 的/ 交互/ 关系/ R/ ./ 相应/ 的/ ,/ 输入输出/ 关系/ 测试/ 中/ 测试用例/ 集/ 的/ 生成/ 问题/ 也/ 与/ 可变/ 力度/ 组合/ 测试用例/ 集/ 的/ 生成/ 问题/ 等价/ ,/ 即/ 输入输出/ 关系/ 测试/ 中/ 最小/ 测试用例/ 集/ 的/ 生成/ 也/ 是/ 一个/ NP/ -/ C/ 问题/ [/ 10/ ]/ ./ 为/ 解决/ 输入输出/ 关系/ 测试/ 中/ 测试用例/ 集/ 的/ 生成/ 问题/ ,/ Schroeder/ 等/ 人/ [/ 4/ ,/ 10/ ]/ 提出/ 了/ 3/ 种/ 测试用例/ 集/ 生成/ 算法/ ./ 其中/ 一种/ 算法/ 使用/ 蛮力/ 搜索/ 的/ 方式/ 寻找/ 最小/ 测试用例/ 集/ ,/ 显然/ 对于/ 此类/ NP/ -/ Hard/ 问题/ 是/ 不/ 适用/ 的/ ./ 另外/ 两种/ 近似算法/ 算法/ 分别/ 名为/ Union/ 和/ Greedy/ ./ 其中/ Union/ 的/ 时间/ 性能/ 较/ 好/ ,/ 最坏/ 时间/ 复杂度/ 不/ 超过/ O/ ∑/ t/ 生成/ 的/ 测试用例/ 集/ 往往/ 规模/ 较大/ ;/ 而/ Greedy/ 可/ 生成/ 相对/ 较/ 小/ 的/ 测试用例/ 集/ ,/ 但/ 时间/ 复杂度/ 高/ 达/ (/ Om/ ×/ ∑/ t/ 除/ 上述/ 算法/ 外/ ,/ 还有/ 一些/ 测试用例/ 辅助/ 生成/ 工具/ 也/ 可/ 用于/ 可变/ 力度/ 组合/ 测试用例/ 集/ 的/ 生成/ ,/ 如/ TVG/ 和/ PICT/ 等/ ./ 其中/ TVG/ 内嵌/ 一个/ 非/ 确定性/ 算法/ ,/ 除/ 可/ 用于/ 生成/ 固定/ 力度/ 组合/ 测试用例/ 集外/ ,/ 也/ 可/ 针对/ 给定/ 的/ 输入输出/ 关系/ 生成/ 相应/ 的/ 测试用例/ 集/ ./ TVG/ 的/ 主要/ 缺陷/ 在于/ 所/ 生成/ 的/ 测试用例/ 集/ 规模/ 偏/ 大/ ,/ 这/ 一点/ 将/ 在/ 后续/ 的/ 实验/ 中/ 给予/ 说明/ ./ PICT/ 主要/ 用于/ 生成/ 固定/ 力度/ 组合/ 测试用例/ 集/ ,/ 但/ 通过/ 编辑/ 输入/ 文件/ 中/ 的/ “/ Sub/ -/ Model/ ”/ 域/ ,/ 该/ 工具/ 也/ 可/ 生成/ 可变/ 力度/ 的/ 组合/ 测试用例/ 集/ ./ PICT/ 的/ 主要/ 问题/ 是/ 在/ 生成/ 可变/ 力度/ 组合/ 测试用例/ 集时/ 时间/ 性能/ 不/ 稳定/ ,/ 远差/ 于/ 其/ 在/ 生成/ 固定/ 力度/ 和/ “/ 狭义/ ”/ 可变/ 力度/ 组合/ 测试/ k/ =/ 1/ 用例/ 集时/ 的/ 时间/ 性能/ ,/ 这/ 一点/ 也/ 将/ 在/ 后续/ 的/ 实验/ 中/ 加以/ 说明/ ./ 此外/ ,/ 本/ 课题组/ 在/ 组合/ 测试/ 领域/ 的/ 研究/ 中/ ,/ 也/ 曾/ 对/ 因素/ 间/ 交互/ 关系/ 的/ 特殊性/ 加以/ 考虑/ ./ 一方面/ ,/ 针对/ 交互作用/ 仅/ 存在/ 于/ 相邻/ 因素/ 之间/ 的/ 情况/ ,/ 我们/ 曾/ 提出/ 相邻/ 因素/ 组合/ 测试方法/ 并/ 给出/ 了/ 可/ 生成/ 最小/ 测试用例/ 集/ 的/ 多项式/ 时间/ 算法/ [/ 12/ ]/ ,/ 另一方面/ ,/ 针对/ 新/ 的/ 可变/ 力度/ 组合/ 测试/ 模型/ ,/ 我们/ 已经/ 给出/ 了/ ReqOrder/ 、/ ParaOrder/ 等/ 测试用例/ 集/ 生成/ 算法/ [/ 5/ -/ 6/ ]/ ,/ 其/ 最坏/ 时间/ 复杂度/ 分别/ 为/ O/ ∑/ t/ (/ O/ ∑/ t4/ 基于/ One/ -/ test/ -/ at/ -/ a/ -/ time/ 策略/ 的/ 算法/ 在/ 固定/ 力度/ 组合/ 测试用例/ 集/ 的/ 生成/ 中/ ,/ one/ -/ test/ -/ at/ -/ a/ -/ time/ 策略/ 由于/ 其/ 简单/ 、/ 有效/ 、/ 便于/ 扩展/ 等/ 特点/ ,/ 成为/ 应用/ 最/ 普遍/ 的/ 方法/ 之一/ [/ 13/ -/ 14/ ]/ ./ 相应/ 的/ ,/ 在/ 可变/ 力度/ 组合/ 测试用例/ 集/ 的/ 生成/ 中/ ,/ 这一/ 策略/ 也/ 得到/ 了/ 应用/ ./ 例如/ ,/ 在/ Schroeder/ 等/ 人/ [/ 10/ ]/ 提出/ 的/ 输入输出/ 关系/ 测试/ 及/ 相应/ 的/ 测试用例/ 集/ 生成/ 方法/ 中/ ,/ Greedy/ 算法/ 即/ 采用/ 了/ 该/ 策略/ ./ 但/ 由于/ 该/ 算法/ 的/ 时间/ 性能/ 较差/ ,/ 因此/ 有/ 必要/ 对/ 基于/ one/ -/ test/ -/ at/ -/ a/ -/ time/ 策略/ 的/ 可变/ 力度/ 组合/ 测试用例/ 集/ 生成/ 方法/ 进行/ 进一步/ 的/ 研究/ ./ 首先/ 介绍/ 使用/ one/ -/ test/ -/ at/ -/ a/ -/ time/ 策略/ 生成/ 可变/ 力度/ 组合/ 测试用例/ 集/ 的/ 基本/ 流程/ ./ 首先/ 需/ 根据/ 待/ 测系统/ SUT/ 的/ 因素/ 集合/ F/ 和/ 交互/ 关系/ R/ 生成/ 集合/ CombSet/ ,/ 并/ 使/ 其/ 包含/ 所有/ 需要/ 被/ 测试用例/ 集/ 覆盖/ 的/ 因素/ 间/ 取值/ 组合/ ./ 算法/ 开始/ 时/ ,/ 初始化/ 一个/ 包含/ 0/ 条/ 测试用例/ 的/ 空/ 测试用例/ 集/ 犜/ ./ 此后/ ,/ 每次/ 均/ 从/ 测试用例/ 全集/ Tall/ =/ V1/ ×/ V2/ ×/ …/ ×/ Vn/ 中/ 选择/ 一条/ 测试用例/ test/ ,/ 并/ 将/ 其/ 加入/ 测试用例/ 集/ 犜/ ,/ 如此/ 反复/ 直至/ 集合/ CombSet/ 中/ 所有/ 的/ 组合/ 均/ 被/ 测试用例/ 集/ 犜/ 覆盖/ 为止/ ./ 该/ 过程/ 与/ 固定/ 力度/ 组合/ 测试用例/ 集/ 生成/ 中/ one/ -/ test/ -/ at/ -/ a/ -/ time/ 策略/ 的/ 流程/ 基本/ 相似/ ,/ 具体/ 可见/ 算法/ 1/ ./ 此后/ ,/ 测试用例/ 集/ 生成/ 问题/ 即/ 转化/ 为/ 如何/ 生成/ 每/ 一条/ 测试用例/ 这一/ 相对/ 简单/ 的/ 问题/ ./ 算法/ 1/ ./ One/ -/ test/ -/ at/ -/ a/ -/ time/ 策略/ 基本/ 框架/ ./ 输入/ :/ 因素/ 集合/ F/ ,/ 因素/ 交互/ 关系/ R/ 输出/ :/ 可变/ 力度/ 组合/ 测试用例/ 集/ 犜/ 1/ ./ Initialize/ 犜/ [/ 0/ …/ 0/ ]/ [/ 1/ …/ n/ ]/ ;/ // // 初始化/ 一个/ 0/ ×/ n/ 的/ 矩/ 2/ ./ 根据/ F/ 和/ R/ 生成/ 集合/ CombSet/ ;/ 3/ ./ UncovCombSet/ ·/ ·/ =/ CombSet/ ;/ 4/ ./ While/ (/ UncovCombSet/ ≠/ / )/ Page65/ ./ 生成/ 一条/ 测试用例/ test/ ,/ 将/ 其/ 加入/ 测试用例/ 集/ 犜/ ;/ 6/ ./ 更新/ UncovCombSet/ ,/ 删除/ 其中/ 已/ 被/ test/ 覆盖/ 的/ 组合/ ;/ 7/ ./ EndWhile/ 为了/ 生成/ 尽可能/ 小/ 的/ 可变/ 力度/ 组合/ 测试用例/ 集/ ,/ 一种/ 显而易见/ 的/ 方法/ 就是/ 使用/ 贪心/ 算法/ ,/ 即/ 每步/ 均/ 选择/ 一条/ 最优/ 的/ 测试用例/ ,/ 使/ 其/ 最大/ 限度/ 地/ 覆盖/ 集合/ UncovCombSet/ 中/ 的/ 组合/ ./ Schroeder/ [/ 10/ ]/ 提出/ 的/ Greedy/ 算法/ 即/ 是/ 如此/ ./ 但/ 可以/ 证明/ ,/ 在/ one/ -/ test/ -/ at/ -/ a/ -/ time/ 策略/ 中/ 生成/ 一条/ 最优/ 测试用例/ 是/ NP/ -/ Hard/ 问题/ ./ 这一/ 结论/ 不仅/ 在/ 固定/ 力度/ 组合/ 测试用例/ 集/ 的/ 生成/ 中/ 成立/ [/ 15/ ]/ ,/ 在/ 可变/ 力度/ 组合/ 测试用例/ 集/ 的/ 生成/ 中/ 也/ 是/ 如此/ ./ 因此/ ,/ Greedy/ 算法/ 在/ 生成/ 每/ 一条/ 测试用例/ 时/ ,/ 都/ 需要/ 遍历/ 规模/ 为/ O/ ∏/ n/ 间/ ./ 时间/ 性能/ 较差/ ,/ 难以/ 适用/ 于/ 较/ 大规模/ 的/ 问题/ ./ 定理/ 2/ ./ 给定/ 因素/ 集合/ F/ ,/ 交互/ 关系/ R/ ,/ 组合/ 集合/ CombSet/ 的/ 一个/ 真/ 子集/ UncovCombSet/ 以及/ 一个/ 正整数/ m/ </ |/ R/ |/ ,/ 在/ 使用/ one/ -/ test/ -/ at/ -/ a/ -/ time/ 策略/ 生成/ 可变/ 力度/ 组合/ 测试用例/ 集/ 的/ 过程/ 中/ ,/ 生成/ 一条/ 测试用例/ test/ 使/ 其/ 覆盖/ UncovCombSet/ 中/ 恰好/ m/ 个/ 组合/ 是/ 一个/ NP/ -/ C/ 问题/ ./ 证明/ ./ 首先/ ,/ 该/ 问题/ 属于/ NP/ 类/ ,/ 即/ 多项式/ 时间/ 可/ 判定/ ./ 具体来说/ ,/ 判断/ 一条/ 测试用例/ test/ 覆盖/ 集合/ UncovCombSet/ 中/ 组合/ 的/ 数量/ ,/ 需/ 检查/ 交互/ 关系/ R/ 中/ 所有/ 的/ 覆盖/ 需求/ ,/ 以/ 判断/ 该/ 覆盖/ 需求/ 所/ 对应/ 的/ 组合/ 是否/ 被/ 包含/ 在/ UncovCombSet/ 中/ ./ 该/ 过程/ 的/ 时间/ 复杂度/ 不/ 超过/ O/ ∑/ t/ 其次/ ,/ 在/ 固定/ 力度/ 二维/ 组合/ 测试用例/ 集/ 生成/ 问题/ 中/ ,/ 已知/ 上述/ 结论/ 成立/ [/ 15/ ]/ ./ 而/ 正如/ 上文/ 所述/ ,/ 固定/ 力度/ 二维/ 组合/ 测试/ 可/ 看作/ 是/ 可变/ 力度/ 组合/ 测试/ 在/ R/ =/ {/ {/ fi/ ,/ fj/ }/ |/ fi/ ,/ fj/ ∈/ F/ ,/ i/ ≠/ j/ }/ 时/ 的/ 一种/ 特殊/ 情况/ ./ 因此/ ,/ 对于/ 给定/ 的/ F/ 、/ R/ 、/ UncovCombSet/ 以及/ m/ ,/ 生/ SUT/ :/ F/ =/ {/ f1/ ,/ f2/ ,/ f3/ }/ R/ =/ {/ r1/ =/ {/ f1/ ,/ f2/ }/ ,/ r2/ =/ {/ f1/ ,/ f3/ }/ }/ UncovCombSet1/ =/ {/ (/ 1/ ,/ 1/ )/ ,/ (/ 1/ ,/ 2/ )/ }/ UncovCombSet2/ =/ / 图/ 2/ 覆盖/ 需求/ 的/ 优先级/ 及其/ 效果/ (/ r2/ 中/ 的/ 因素/ 随机/ 取值/ )/ 为了/ 度量/ 覆盖/ 需求/ 之间/ 的/ 这种/ 优先级/ ,/ 有/ 必要/ 定义/ 一个/ 覆盖/ 需求/ 度量/ 函数/ ./ 由图/ 2/ 可知/ ,/ 覆盖/ 需求/ rk/ 的/ 度量/ 函数/ 值/ 应该/ 与/ 集合/ CombSetk/ 中未/ 覆盖/ 组合/ 的/ 数量/ 成正比/ ./ 因此/ ,/ 不妨/ 以/ CombSetk/ 中未/ 覆盖/ 成/ 一条/ 测试用例/ 使/ 其/ 覆盖/ UncovCombSet/ 中/ 恰好/ m/ 个/ 组合/ 是/ 一个/ NP/ -/ C/ 问题/ ./ 由/ 上述/ 结论/ 可知/ ,/ 类似/ Greedy/ 算法/ 这样/ 的/ 贪心/ 策略/ 在/ 处理/ 大规模/ 问题/ 时/ 是/ 不/ 可行/ 的/ ./ 因此/ ,/ 我们/ 在/ 使用/ one/ -/ test/ -/ at/ -/ a/ -/ time/ 策略/ 时/ ,/ 只能/ 考虑/ 使用/ 多项式/ 时间/ 的/ 算法/ 生成/ 近似/ 最优/ 的/ 测试用例/ ./ 4.1/ 按照/ 覆盖/ 需求/ 顺序/ 生成/ 单条/ 测试用例/ 针对/ 一个/ 给定/ 的/ 组合/ 集合/ UncovCombSet/ 生成/ 一条/ 测试用例/ ,/ 其/ 最好/ 情况/ 是/ :/ 对于/ 交互/ 关系/ 中/ 的/ 每/ 一个/ 覆盖/ 需求/ ,/ 均/ 覆盖/ 一个/ 因素/ 取值/ 组合/ ,/ 且/ 该/ 组合/ 属于/ UncovCombSet/ ./ 为此/ ,/ 可以/ 考虑/ 将/ 各个/ 因素/ 按照/ 覆盖/ 需求/ 的/ 顺序/ 逐/ 批次/ 依次/ 赋值/ ./ 我们/ 注意/ 到/ ,/ 在/ 生成/ 这样/ 一条/ 测试用例/ 时/ ,/ 不同/ 的/ 覆盖/ 需求/ 的/ 优先级/ 也/ 是/ 不同/ 的/ ./ 在/ 直观/ 上/ ,/ 如果/ 一个/ 覆盖/ 需求/ rk/ ∈/ R/ (/ 1/ / k/ / t/ )/ 所/ 对应/ 的/ 组合/ 集合/ CombSetk/ 中有/ 大量/ 的/ 组合/ 尚未/ 被/ 已有/ 测试用例/ 覆盖/ ,/ 则/ 在/ 生成/ 一条/ 新/ 的/ 测试用例/ 时/ ,/ 该/ 覆盖/ 需求/ 应/ 被/ 优先/ 考虑/ ,/ 以/ 保证/ 所/ 生成/ 的/ 测试用例/ 能/ 覆盖/ CombSetk/ 中/ 至少/ 一个/ 组合/ ./ 例如/ ,/ 考虑/ 图/ 2/ 所示/ 的/ 极端/ 情况/ :/ 交互/ 关系/ R/ 包含/ 两个/ 覆盖/ 需求/ r1/ =/ {/ f1/ ,/ f2/ }/ 和/ r2/ =/ {/ f1/ ,/ f3/ }/ ,/ 当/ one/ -/ test/ -/ at/ -/ a/ -/ time/ 策略/ 运行/ 至/ 某/ 一步/ 时/ ,/ 集合/ CombSet1/ 和/ CombSet2/ 中/ 尚未/ 被/ 已有/ 测试用例/ 覆盖/ 的/ 组合/ 分别/ 构成/ 集合/ UncovCombSet1/ =/ {/ (/ f1/ =/ 1/ ,/ f2/ =/ 1/ )/ ,/ (/ f1/ =/ 1/ ,/ f2/ =/ 2/ )/ }/ 和/ UncovCombSet2/ =/ / ./ 此时/ ,/ 若/ 优先/ 为/ r2/ 中/ 的/ 因素/ 赋值/ ,/ 则/ 在/ 没有/ 导向/ 的/ 情况/ 下/ ,/ 因素/ f1/ 和/ f3/ 的/ 取值/ 可/ 随机/ 选定/ ,/ 且/ f1/ =/ 2/ 的/ 概率/ 为/ 50/ %/ ./ 而/ 一旦/ f1/ 被/ 赋值/ 为/ 2/ ,/ 当前/ 所/ 生成/ 的/ 这条/ 测试用例/ 就/ 无法/ 再/ 覆盖/ UncovCombSet1/ 中/ 的/ 任何/ 组合/ ,/ 即/ 对/ 组合/ 覆盖率/ 的/ 提高/ 没有/ 任何/ 贡献/ ,/ 是/ 一条/ 冗余/ 的/ 测试用例/ ./ 反之/ ,/ 若/ 优先/ 为/ r1/ 中/ 的/ 因素/ 赋值/ ,/ 可以/ 从/ UncovCombSet1/ 中/ 选择/ 组合/ (/ f1/ =/ 1/ ,/ f2/ =/ 1/ )/ 或/ (/ f1/ =/ 1/ ,/ f2/ =/ 2/ )/ ,/ 可/ 保证/ 覆盖/ 至少/ 一个/ 组合/ ./ 组合/ 的/ 数量/ 与/ max1/ / k/ / t/ |/ CombSetk/ |/ 的/ 比值/ 作为/ 该/ 函数/ 的/ 值/ ./ 显然/ ,/ 该/ 函数/ 的/ 值域/ 为/ [/ 0/ ,/ 1/ ]/ ./ 此外/ ,/ 我们/ 注意/ 到/ 交互/ 关系/ 中/ 不同/ 的/ 覆盖/ 需求/ 之间/ 可能/ 存在/ 交集/ ./ 这样/ ,/ 在/ 为/ 某个/ 覆盖/ 需求/ rk/ 中/ Page7/ 的/ 因素/ 赋值/ 时/ ,/ 其中/ 的/ 某些/ 因素/ 可能/ 在/ 处理/ 其它/ 覆盖/ 需求/ 时/ 已/ 被/ 赋/ 过值/ ./ 相应/ 的/ ,/ 集合/ CombSetk/ 中/ 可/ 被/ 选择/ 的/ 未/ 覆盖/ 组合/ 也/ 会/ 受到限制/ ,/ 只有/ 部分/ 满足/ 已/ 赋值/ 因素/ 取值/ 条件/ 的/ 组合/ 可/ 被/ 统计/ 并/ 用于/ 计算/ 上述/ 度量/ 函数/ ./ 例如/ ,/ 图/ 2/ 中/ 的/ 两个/ 覆盖/ 需求/ r1/ 和/ r2/ 间/ 即/ 存在/ 交集/ ,/ 若/ 优先/ 处理/ r2/ 并/ 选择/ (/ f1/ =/ 2/ ,/ f3/ =/ 1/ )/ ,/ 则/ 在/ 处理/ 覆盖/ 需求/ r1/ 时/ ,/ CombSet1/ 中/ 只有/ 那些/ 满足条件/ f1/ =/ 2/ 的/ 因素/ 取值/ 组合/ 可能/ 被/ 选择/ ./ 针对/ 这一/ 情况/ ,/ 有/ 必要/ 对/ 度量/ 函数/ 进行/ 调整/ ,/ 具体/ 如下/ 文/ 所示/ ./ 进一步/ 地/ ,/ 在/ 极端/ 情况/ 下/ ,/ 若/ 当前/ 覆盖/ 需求/ rk/ 中/ 的/ 所有/ 因素/ 均/ 已/ 被/ 赋值/ ,/ 则/ 说明/ CombSetk/ 已/ 存在/ 一个/ 组合/ 被/ 当前/ 测试用例/ 所/ 覆盖/ ./ 此时/ 可/ 分/ 两种/ 情况/ 讨论/ :/ 如果/ 该/ 组合/ 此前/ 尚未/ 被/ 已有/ 测试用例/ 覆盖/ ,/ 说明/ 当前/ 测试用例/ 覆盖/ 了/ 一个/ 新/ 的/ 组合/ ,/ 度量/ 函数/ 值应/ 达到/ 最大值/ 1/ ;/ 反之/ ,/ 若该/ 组合/ 此前/ 已/ 被/ 已有/ 测试用例/ 覆盖/ ,/ 则/ 说明/ 当前/ 测试用例/ 对于/ rk/ 没有/ 贡献/ ,/ 度量/ 函数/ 值为/ 最小值/ 0/ ./ 综合/ 上述/ 分析/ ,/ 我们/ 可以/ 针对/ 覆盖/ 需求/ rk/ ∈/ R/ (/ 1/ / k/ / t/ )/ 定义/ 度量/ 函数/ :/ ReqEvaluate/ (/ rk/ )/ =/ numk/ 其中/ ,/ numk/ 表示/ 集合/ CombSetk/ 中未/ 被/ 已有/ 测试用例/ 覆盖/ 、/ 且/ 满足/ 已/ 赋值/ 因素/ 取值/ 条件/ 的/ 组合/ 的/ 数量/ ./ pk/ 表示/ rk/ 中/ 已/ 赋值/ 因素/ 的/ 数量/ ,/ 即/ pk/ =/ |/ rk/ |/ -/ |/ rk/ |/ ./ 若/ pk/ =/ nk/ ,/ 表示/ rk/ 中/ 所有/ 因素/ 均/ 已/ 被/ 赋值/ ./ 定义/ 覆盖/ 需求/ 度量/ 函数/ 后/ ,/ 即可/ 根据/ 该/ 函数/ 的/ 值来/ 确定/ 生成/ 当前/ 测试用例/ 时/ 各个/ 覆盖/ 需求/ 处理/ 的/ 顺序/ ./ 如上/ 文/ 所述/ ,/ 一条/ 测试用例/ 对于/ 某个/ 覆盖/ 需求/ 的/ 贡献/ 可用/ 该/ 覆盖/ 需求/ 的/ 度量/ 函数/ 值来/ 度量/ :/ 当该/ 覆盖/ 需求/ 所含/ 的/ 因素/ 均/ 已/ 被/ 赋值/ 后/ ,/ 若/ 有/ 新/ 的/ 组合/ 被/ 当前/ 测试用例/ 覆盖/ ,/ 则/ 对应/ 的/ 度量/ 函数/ 值为/ 1/ ;/ 反之/ 则/ 为/ 0/ ./ 由此可见/ ,/ 在/ 生成/ 测试用例/ 时/ ,/ 我们/ 应使/ 每个/ 覆盖/ 需求/ 度量/ 函数/ 的/ 值/ 都/ 尽可能/ 的/ 大/ ./ 相应/ 的/ ,/ 可以/ 将/ 所有/ 覆盖/ 需求/ 度量/ 函数/ 值/ 之/ 和/ ,/ 定义/ 为/ 针对/ 交互/ 关系/ R/ 的/ 一个/ 全局/ 度量/ 函数/ :/ GlobalEvaluate/ (/ R/ )/ =/ ∑/ t/ 在/ 生成/ 测试用例/ 时/ ,/ 保证/ 全局/ 度量/ 函数/ 的/ 值/ 尽可能/ 大/ 即可/ ./ 这样/ ,/ 我们/ 就/ 得到/ 了/ 在/ one/ -/ test/ -/ at/ -/ a/ -/ time/ 策略/ 中/ 生成/ 一条/ 测试用例/ 的/ 一种/ 可行/ 方法/ ./ 在/ 该/ 方法/ 中/ ,/ 每次/ 均/ 选择/ 一个/ 覆盖/ 需求/ 度量/ 函数/ 值/ 最大/ 的/ 覆盖/ 需求/ ,/ 不妨/ 假设/ 其为/ rk/ (/ 1/ / k/ / t/ )/ ,/ 并/ 保证/ 该/ 覆盖/ 需求/ 中/ 至少/ 含有/ 一个/ 尚未/ 被/ 赋值/ 的/ 因素/ ./ 选择/ rk/ 后/ ,/ 对于/ 集合/ CombSetk/ 中/ 所有/ 尚未/ 被/ 已有/ 测试用例/ 覆盖/ ,/ 且/ 满足/ 已/ 赋值/ 因素/ 取值/ 条件/ 的/ 组合/ ,/ 均/ 尝试/ 将/ 其/ 填充/ 入/ 当前/ 测试用例/ ,/ 并/ 计算/ 赋值/ 后/ 全局/ 度量/ 函数/ 的/ 值/ ./ 最后/ ,/ 选择/ 一个/ 使得/ 全局/ 度量/ 函数/ 值/ 最大/ 的/ 组合/ ,/ 并/ 最终/ 按照/ 该/ 组合/ 为/ rk/ 中/ 的/ 因素/ 赋值/ ./ 该/ 过程/ 反复/ 进行/ ,/ 直至/ F/ 中/ 所有/ 的/ 因素/ 均/ 在/ 当前/ 测试用例/ 中/ 被/ 赋值/ ./ 具体/ 过程/ 可见/ 算法/ 2/ ./ 算法/ 2/ ./ 按照/ 覆盖/ 需求/ 顺序/ 生成/ 单条/ 测试用例/ 的/ 算法/ (/ DA/ -/ RO/ )/ ./ 输入/ :/ 因素/ 集合/ F/ ,/ 因素/ 交互/ 关系/ R/ ,/ 剩余/ 组合/ 集合/ 输出/ :/ 测试用例/ test1/ ./ Initializetest/ [/ 1/ …/ n/ ]/ ;/ // // 初始化/ 一个/ 长度/ 为/ n/ 的/ 数/ 2/ ./ DealedReq/ ·/ ·/ =/ / ;/ 3/ ./ DealedFactor/ ·/ ·/ =/ / ;/ 4/ ./ While/ (/ DealedFactor/ ≠/ F/ )/ 5/ ./ Fork/ ·/ ·/ =/ 1tot6/ ./ If/ (/ rk/ ∈/ R/ -/ DealedReq/ )/ Then7/ ./ EndFor8/ ./ 选择/ 一个/ rk/ ∈/ R/ -/ DealedReq/ ,/ 使得/ ReqEvaluate/ (/ rk/ )/ 9/ ./ ForEachcomb/ ∈/ CombSetk10/ ./ If/ (/ comb/ 满足/ test/ 中/ 已/ 赋值/ 因素/ 的/ 取值/ 条件/ )/ 11/ ./ 假设/ rk/ 中/ 因素/ 按照/ comb/ 赋值/ ,/ 计算/ 赋值/ 后/ 12/ ./ EndIf13/ ./ EndFor14/ ./ 选择/ 一个/ comb/ ∈/ CombSetk/ ,/ 使得/ GlobalEvaluate/ (/ R/ )/ 15/ ./ 依据/ 组合/ comb/ 对/ rk/ 中/ 的/ 因素/ 进行/ 赋值/ ;/ 16/ ./ DealedFactor/ ·/ ·/ =/ DealedFactor/ +/ rk/ ;/ 17/ ./ DealedReq/ ·/ ·/ =/ DealedReq/ +/ {/ rk/ }/ ;/ 18/ ./ EndWhile/ 下面/ 分析/ 算法/ 2/ 的/ 时间/ 性能/ ./ 首先/ ,/ 计算/ 覆盖/ 需求/ 度量/ 函数/ 值/ 所/ 需/ 的/ 时间/ 复杂度/ 与/ 覆盖/ 需求/ 、/ 未/ 覆盖/ 组合/ 的/ 数量/ 以及/ 覆盖/ 需求/ 中/ 已/ 赋值/ 因素/ 的/ 数量/ 均/ 有关/ ,/ 难以/ 准确/ 描述/ ,/ 只能/ 得到/ 一个/ 上界/ O/ (/ |/ rk/ |/ ×/ |/ CombSetk/ |/ )/ ,/ 相应/ 的/ ,/ 计算/ 全局/ 度量/ 函数/ 值/ 所/ 需/ 的/ 时间/ 复杂度/ 上界/ 为/ O/ ∑/ t/ 选择/ 一个/ 覆盖/ 需求/ 时/ ,/ 最/ 多/ 需要/ 比较/ 所有/ t/ 个/ 覆盖/ 需求/ 对应/ 的/ 度量/ 函数/ 值/ ,/ 其/ 时间/ 复杂度/ 不/ 超过/ (/ O/ ∑/ t1/ ,/ 2/ ,/ …/ ,/ t/ )/ 中/ 的/ 因素/ 进行/ 赋值/ ,/ 需要/ 针对/ 集合/ CombSeti/ 中/ 所有/ 尚未/ 被/ 覆盖/ 、/ 且/ 满足/ 已/ 赋值/ 因素/ 取值/ 条件/ 的/ (/ |/ rk/ |/ ×/ |/ CombSetk/ |/ k/ =/ 1Page8/ 组合/ 分别/ 计算/ 交互/ 关系/ 度量/ 函数/ 值/ ,/ 其/ 时间/ 复杂度/ 不/ 超过/ O/ |/ CombSeti/ |/ ×/ ∑/ t/ 上述/ 操作/ 最/ 多/ 进行/ min/ (/ t/ ,/ |/ F/ |/ )/ 次后/ ,/ 即可/ 保证/ F/ 中/ 所有/ 的/ 因素/ 都/ 在/ 当前/ 测试用例/ 中/ 被/ 赋值/ ./ 因此/ ,/ 使用/ 算法/ 2/ 生成/ 一条/ 测试用例/ 所/ 需/ 的/ 最坏/ 时间/ 复杂度/ 为/ (/ O/ ∑/ ti/ =/ 1/ ∑/ tk/ =/ 14.2/ 按照/ 因素/ 顺序/ 生成/ 单条/ 测试用例/ 针对/ 一个/ 给定/ 的/ 组合/ 集合/ UncovCombSet/ 生成/ 一条/ 测试用例/ ,/ 也/ 可以/ 考虑/ 采取/ 逐个/ 因素/ 依次/ 赋值/ 的/ 方法/ 进行/ ./ 如/ AETG/ [/ 16/ ]/ 、/ TCG/ [/ 17/ ]/ 、/ DDA/ [/ 18/ ]/ 等/ 经典/ 的/ 固定/ 力度/ 组合/ 测试用例/ 集/ 的/ 生成/ 算法/ 即/ 是/ 如此/ ./ 本/ 小节/ 将/ 尝试/ 使用/ 逐/ 因素/ 依次/ 赋值/ 的/ 方法/ 来/ 生成/ 一条/ 测试用例/ ,/ 该/ 方法/ 也/ 可/ 看做/ 是/ DDA/ 算法/ 在/ 可变/ 力度/ 组合/ 测试用例/ 集/ 生成/ 中/ 的/ 一种/ 扩展/ ./ 采取/ 逐/ 因素/ 依次/ 赋值/ 的/ 方式/ 生成/ 测试用例/ ,/ 首先/ 必须/ 应/ 确定/ 因素/ 处理/ 顺序/ ./ 类似/ 的/ ,/ 我们/ 可以/ 定义/ 一个/ 因素/ 度量/ 函数/ ,/ 并/ 按照/ 因素/ 度量/ 函数/ 的/ 值/ 确定/ 因素/ 赋值/ 的/ 先后顺序/ ./ 与/ 覆盖/ 需求/ 度量/ 函数/ 的/ 意义/ 类似/ ,/ 计算/ 因素/ 度量/ 函数/ 的/ 意义/ 在于/ 优先/ 处理/ 那些/ 涉及/ 更/ 多/ 未/ 覆盖/ 组合/ 的/ 因素/ ./ 因此/ ,/ 可以/ 考虑/ 将/ 因素/ 度量/ 函数/ 定义/ 为/ 所有/ 包含/ 该/ 因素/ 的/ 覆盖/ 需求/ 所/ 对应/ 的/ 覆盖/ 需求/ 度量/ 函数/ 值/ 之/ 和/ ,/ 即/ FactorEvaluate/ (/ fi/ )/ =/ ∑/ t/ 其中/ ,/ 函数/ ReqEvaluate/ (/ rk/ ,/ fi/ )/ 是/ 覆盖/ 需求/ 度量/ 函数/ ReqEvaluate/ (/ rk/ )/ 的/ 一个/ 变种/ ,/ 其/ 定义/ 为/ ReqEvaluate/ (/ rk/ ,/ fi/ )/ =/ ReqEvaluate/ (/ rk/ )/ ,/ fi/ ∈/ rk/ ./ 显然/ ,/ 一个/ 因素/ 若/ 被/ 包含/ 于/ 数量/ 较/ 多/ 的/ 覆盖/ 需求/ ,/ 且/ 这些/ 覆盖/ 需求/ 都/ 具有/ 较/ 高/ 覆盖/ 需求/ 度量/ 函数/ 值/ ,/ 则/ 该/ 因素/ 也/ 就/ 具有/ 较/ 高/ 的/ 因素/ 度量/ 函数/ 值/ ./ 这样/ 的/ 因素/ 在/ 生成/ 一条/ 测试用例/ 时/ 也/ 应/ 尽早/ 赋值/ ,/ 以/ 尽可能/ 提高/ 测试用例/ 对于/ 未/ 覆盖/ 组合/ 的/ 贡献/ ./ 由此/ ,/ 可/ 得到/ 在/ one/ -/ test/ -/ at/ -/ a/ -/ time/ 策略/ 中/ 生成/ 一条/ 测试用例/ 的/ 另外/ 一种/ 可行/ 方法/ ./ 在/ 该/ 方法/ 中/ ,/ 每次/ 均/ 选择/ 一个/ 因素/ 度量/ 函数/ 值/ 最大/ 的/ 因素/ ,/ 不妨/ 假设/ 其为/ fi/ (/ 1/ / i/ / n/ )/ ./ 选择/ 因素/ fi/ 后/ ,/ 对于/ 因素/ 取值/ 集合/ Vi/ 中/ 的/ 所有/ ai/ 个/ 取值/ ,/ 均/ 尝试/ 将/ 其/ 填充/ 入/ 当前/ 测试用例/ ,/ 并/ 计算/ 进行/ 该/ 赋值/ 后/ 全局/ 度量/ 函数/ 的/ 值/ ./ 最后/ 选择/ 一个/ 使得/ 全局/ 度量/ 函数/ 值/ 最大/ 的/ 取值/ ,/ 并/ 最终/ 按照/ 该/ 取值/ 为/ 因素/ fi/ 赋值/ ./ 该/ 过程/ 反复/ 进行/ ,/ 直至/ F/ 中/ 所有/ 的/ 因素/ 均/ 在/ 当前/ 测试用例/ 中/ 被/ 赋值/ ./ 具体/ 过程/ 可见/ 算法/ 3/ ./ 算法/ (/ DA/ -/ FO/ )/ ./ 算法/ 3/ ./ 按照/ 因素/ 顺序/ 生成/ 单条/ 测试用例/ 的/ 输入/ :/ 因素/ 集合/ F/ ,/ 因素/ 交互/ 关系/ R/ ,/ 剩余/ 组合/ 集合/ 输出/ :/ 测试用例/ test1/ ./ Initializetest/ [/ 1/ …/ n/ ]/ ;/ // // 初始化/ 一个/ 长度/ 为/ n/ 的/ 数/ 2/ ./ DealedFactor/ ·/ ·/ =/ / ;/ 3/ ./ While/ (/ DealedFactor/ ≠/ F/ )/ 4/ ./ Fori/ ·/ ·/ =/ 1ton5/ ./ If/ (/ fi/ ∈/ F/ -/ DealedFactor/ )/ Then6/ ./ EndFor7/ ./ 从/ F/ -/ DealedFactor/ 中/ 选择/ 一个/ 因素/ fi/ ,/ 使得/ 8/ ./ ForEachv/ ∈/ Vi9/ ./ 假设/ test/ [/ i/ ]/ ·/ ·/ =/ v/ ,/ 计算/ 此时/ 的/ GlobalEvaluate/ (/ R/ )/ ;/ 10/ ./ EndFor11/ ./ 选择/ 一个/ 取值/ v/ ,/ 使得/ 全局/ 密度/ 最大/ ;/ 12/ ./ test/ [/ i/ ]/ ·/ ·/ =/ v/ ;/ 13/ ./ DealedFactor/ ·/ ·/ =/ DealedFactor/ +/ {/ fi/ }/ ;/ 14/ ./ EndWhile/ 算法/ 3/ 在/ 选择/ 因素/ 时/ ,/ 可能/ 出现/ 多个/ 待选/ 因素/ 均/ 具有/ 最大/ 度量/ 值/ 的/ 情况/ ./ 在/ 为/ 给定/ 因素/ 选择/ 赋值/ 时/ ,/ 这一/ 情况/ 也/ 可能/ 出现/ ./ 与/ 算法/ 2/ 类似/ ,/ 使用/ First/ 策略/ 选择/ 其中/ 下标/ 最小/ 的/ 因素/ 或/ 取值/ 即可/ ./ 下面/ 分析/ 算法/ 3/ 的/ 时间/ 性能/ ./ 在/ 最坏/ 情况/ 下/ ,/ 每次/ 为/ 选择/ 一个/ 因素/ 而/ 计算/ F/ 中/ 所有/ n/ 个/ 因素/ 的/ 因素/ 度量/ 函数/ 时/ ,/ 首先/ 应/ 计算/ R/ 中/ 所有/ t/ 个/ 覆盖/ 需求/ 所/ 对应/ 的/ 覆盖/ 需求/ 度量/ 函数/ ,/ 即/ 选择/ 一个/ 因素/ 所/ 需/ 的/ 最坏/ 时间/ 复杂度/ 为/ O/ ∑/ t/ 因素/ fi/ 进行/ 赋值/ ,/ 需要/ 针对/ Vi/ 中/ 所有/ ai/ 个/ 可能/ 取值/ 分别/ 计算/ 全局/ 度量/ 函数/ 的/ 值/ ,/ 其/ 时间/ 复杂度/ 为/ (/ Oai/ ×/ ∑/ t/ 次后/ ,/ 即可/ 保证/ F/ 中/ 所有/ 的/ 因素/ 都/ 在/ 当前/ 测试用例/ 中/ 被/ 赋值/ ./ 因此/ ,/ 使用/ 算法/ 3/ 生成/ 一条/ 测试用例/ 的/ 最坏/ 时间/ 复杂度/ 为/ O/ ∑/ n/ 可见/ ,/ 在/ ∑/ n/ 最坏/ 时间/ 复杂度/ 低于/ 算法/ 2/ 的/ 最坏/ 时间/ 复杂度/ ,/ 而/ 这/ 一/ 条件/ 在/ 大多数/ 情况/ 下/ 是/ 成立/ 的/ ./ 5/ 实验/ 为了/ 检验/ 算法/ 的/ 效果/ ,/ 我们/ 基于/ 算法/ 2/ 、/ 算法/ 3Page9/ 分别/ 实现/ 了/ 工具/ DA/ -/ RO/ 、/ DA/ -/ FO/ ,/ 并/ 将/ 它们/ 与/ 一些/ 已有/ 的/ 算法/ 和/ 工具/ 进行/ 比较/ ./ 以下/ 实验/ 均/ 在/ 2.66/ GHzPentiumIV/ 处理器/ 、/ 1GB/ 内存/ 的/ 环境/ 下/ 进行/ ./ 5.1/ 可变/ 力度/ 组合/ 测试用例/ 集/ 生成/ 中/ 的/ 效果/ 首先/ 检验/ 算法/ 在/ 生成/ 可变/ 力度/ 组合/ 测试用例/ 集时/ 的/ 效果/ ./ 我们/ 将/ 两种/ 算法/ 与/ ReqOrder/ 、/ ParaOrder/ 、/ Union/ 、/ Greedy/ 、/ PICT/ 、/ TVG/ 等/ 算法/ 和/ 工具/ 进行/ 比较/ ./ 其中/ PICT/ 、/ TVG/ 均/ 下载/ 自/ 网络/ ,/ Union/ 、/ Greedy/ 则/ 按照/ 文献/ [/ 10/ ]/ 的/ 描述/ 实现/ ./ 对于/ 算法/ Greedy/ ,/ 尽管/ Cheng/ 等/ 人/ [/ 19/ ]/ 针对/ 其/ 时间/ 性能/ 较差/ 的/ 弱点/ 提出/ 了/ 一种/ 解/ 空间/ 约简/ 算法/ 以/ 提高/ 其/ 效率/ ,/ 但/ 方法/ 并非/ Greedy/ 的/ 变种/ 或/ 改进/ ,/ 而/ 只是/ 一种/ 对/ 算法/ 输入/ 进行/ 预处理/ 的/ 方法/ ./ 原/ 输入/ 约简/ 后/ 可/ 作为/ Greedy/ 的/ 输入/ ,/ 也/ 同样/ 可以/ 作为/ 其它/ 测试用例/ 集/ 生成/ 算法/ 的/ 输入/ ./ 考虑/ 到/ 该/ 方法/ 可能/ 导致/ 测试用例/ 集/ 规模/ 增大/ ,/ 故/ 我们/ 在/ 实现/ 时/ 不/ 做/ 考虑/ ./ 下面/ 讨论/ 实验/ 的/ 输入/ ./ 尽管/ 文献/ [/ 10/ ,/ 19/ ]/ 中/ 已/ 给出/ 一些/ 实验/ 结果/ ,/ 但/ 实验/ 的/ 输入/ 数据/ 却/ 没有/ 公开/ ,/ 因此/ 我们/ 需要/ 设计/ 实验/ 方案/ ./ 首先/ ,/ 选择/ 因素/ 集合/ F/ =/ {/ 310/ }/ 和/ F/ =/ {/ 23/ ×/ 33/ ×/ 43/ ×/ 5/ }/ 以/ 分别/ 代表/ 单一/ 水平/ 表/ 3/ 可变/ 力度/ 组合/ 测试用例/ 集/ 的/ 规模/ 及/ 算法/ 耗时/ (/ 犉/ =/ {/ 310/ }/ )/ |/ R/ |/ DA/ -/ RODA/ -/ FOReqOrderParaOrderUnionGreedyTVGPICT281/ (/ 0.08/ s/ )/ 81/ (/ 0.02/ s/ )/ 81/ (/ 0.01/ s/ )/ 81/ (/ 0.01/ s/ )/ 162/ (/ 0.01/ s/ )/ 81/ (/ 1.04/ s/ )/ 81/ (/ -/ )/ 81/ (/ 0.69/ s/ )/ 381/ (/ 0.11/ s/ )/ 81/ (/ 0.02/ s/ )/ 81/ (/ 0.01/ s/ )/ 81/ (/ 0.01/ s/ )/ 242/ (/ 0.01/ s/ )/ 81/ (/ 1.91/ s/ )/ 84/ (/ -/ )/ -/ 1086/ (/ 0.44/ s/ )/ 84/ (/ 0.07/ s/ )/ 99/ (/ 0.01/ s/ )/ 96/ (/ 0.01/ s/ )/ 503/ (/ 0.01/ s/ )/ 93/ (/ 6.77/ s/ )/ 86/ (/ -/ )/ -/ 2095/ (/ 0.98/ s/ )/ 99/ (/ 0.14/ s/ )/ 128/ (/ 0.01/ s/ )/ 105/ (/ 0.02/ s/ )/ 858/ (/ 0.02/ s/ )/ 91/ (/ 18.0/ s/ )/ 105/ (/ -/ )/ -/ 30116/ (/ 1.98/ s/ )/ 120/ (/ 0.30/ s/ )/ 157/ (/ 0.01/ s/ )/ 111/ (/ 0.04/ s/ )/ 1599/ (/ 0.04/ s/ )/ 109/ (/ 34.0/ s/ )/ 125/ (/ -/ )/ -/ 40126/ (/ 3.02/ s/ )/ 123/ (/ 0.44/ s/ )/ 163/ (/ 0.01/ s/ )/ 120/ (/ 0.05/ s/ )/ 2057/ (/ 0.06/ s/ )/ 111/ (/ 50.7/ s/ )/ 135/ (/ -/ )/ -/ 50135/ (/ 3.74/ s/ )/ 135/ (/ 0.60/ s/ )/ 172/ (/ 0.04/ s/ )/ 132/ (/ 0.06/ s/ )/ 2635/ (/ 0.10/ s/ )/ 125/ (/ 70.2/ s/ )/ 139/ (/ -/ )/ -/ 60141/ (/ 4.96/ s/ )/ 142/ (/ 0.77/ s/ )/ 190/ (/ 0.05/ s/ )/ 144/ (/ 0.08/ s/ )/ 3257/ (/ 0.15/ s/ )/ 141/ (/ 110s/ )/ 150/ (/ -/ )/ -/ 表/ 4/ 可变/ 力度/ 组合/ 测试用例/ 集/ 的/ 规模/ 及/ 算法/ 耗时/ (/ 犉/ =/ {/ 23/ ×/ 33/ ×/ 43/ ×/ 5/ }/ )/ |/ R/ |/ DA/ -/ RODA/ -/ FOReqOrderParaOrderUnionGreedyTVGPICT264/ (/ 0.04/ s/ )/ 64/ (/ 0.01/ s/ )/ 64/ (/ 0.01/ s/ )/ 64/ (/ 0.01/ s/ )/ 104/ (/ 0.01/ s/ )/ 64/ (/ 1.35/ s/ )/ 64/ (/ -/ )/ 64/ (/ 0.71/ s/ )/ 3144/ (/ 0.24/ s/ )/ 144/ (/ 0.04/ s/ )/ 144/ (/ 0.01/ s/ )/ 144/ (/ 0.01/ s/ )/ 248/ (/ 0.01/ s/ )/ 144/ (/ 2.06/ s/ )/ 144/ (/ -/ )/ -/ 10144/ (/ 0.71/ s/ )/ 144/ (/ 0.11/ s/ )/ 144/ (/ 0.01/ s/ )/ 144/ (/ 0.02/ s/ )/ 505/ (/ 0.01/ s/ )/ 144/ (/ 8.60/ s/ )/ 144/ (/ -/ )/ -/ 20160/ (/ 1.78/ s/ )/ 160/ (/ 0.23/ s/ )/ 166/ (/ 0.01/ s/ )/ 161/ (/ 0.03/ s/ )/ 929/ (/ 0.01/ s/ )/ 160/ (/ 26.3/ s/ )/ 161/ (/ -/ )/ -/ 30165/ (/ 4.35/ s/ )/ 175/ (/ 0.50/ s/ )/ 204/ (/ 0.01/ s/ )/ 179/ (/ 0.06/ s/ )/ 1861/ (/ 0.06/ s/ )/ 162/ (/ 66.8/ s/ )/ 179/ (/ -/ )/ -/ 40165/ (/ 5.67/ s/ )/ 172/ (/ 0.65/ s/ )/ 209/ (/ 0.02/ s/ )/ 183/ (/ 0.11/ s/ )/ 2244/ (/ 0.08/ s/ )/ 167/ (/ 111s/ )/ 181/ (/ -/ )/ -/ 50182/ (/ 7.96/ s/ )/ 186/ (/ 0.87/ s/ )/ 229/ (/ 0.02/ s/ )/ 200/ (/ 0.14/ s/ )/ 2820/ (/ 0.13/ s/ )/ 183/ (/ 161s/ )/ 194/ (/ -/ )/ -/ 60197/ (/ 11.15/ s/ )/ 200/ (/ 1.22/ s/ )/ 237/ (/ 0.05/ s/ )/ 204/ (/ 0.16/ s/ )/ 3587/ (/ 0.21/ s/ )/ 197/ (/ 259s/ )/ 209/ (/ -/ )/ -/ 通过/ 表/ 3/ 和表/ 4/ 可以/ 看出/ ,/ 在/ 大多数/ 情况/ 下/ Greedy/ 都/ 可/ 生成/ 规模/ 最小/ 的/ 测试用例/ 集/ ,/ 但/ 其/ 运行/ 时间/ 也/ 是/ 所有/ 算法/ (/ 不/ 考虑/ TVG/ 和/ PICT/ )/ 中/ 最长/ 的/ ./ 在/ 本文/ 提出/ 的/ 算法/ 中/ ,/ DA/ -/ RO/ 共/ 10/ 次/ 生成/ 最小/ 测试用例/ 集/ ,/ DA/ -/ FO/ 共/ 7/ 次/ 生成/ 最小/ 测试用例/ 集/ ./ 从总体上/ 看/ ,/ 除/ Greedy/ 外/ ,/ DA/ -/ RO/ 在/ 所有/ 算法/ 中/ 效果/ 最好/ ,/ DA/ -/ FO/ 与/ ParaOrder/ 效果/ 相当/ ,/ 其次/ 为/ TVG/ 和/ ReqOrder/ ,/ 而/ Union/ 的/ 效果/ 最差/ ./ 在/ 算法/ 运/ 系统/ 和/ 混合/ 水平/ 系统/ ;/ 其次/ ,/ 从/ 给定/ 的/ 集合/ 中/ 顺序/ 选择/ 给定/ 数量/ 的/ 覆盖/ 需求/ ,/ 从而/ 建立/ 交互/ 关系/ R/ (/ 本次/ 实验所/ 使用/ 的/ 覆盖/ 需求/ 集合/ 为/ 附录/ 中/ 的/ ReqSet/ )/ ./ 出于/ 两/ 方面/ 的/ 原因/ ,/ 集合/ ReqSet/ 中/ 所有/ 覆盖/ 需求/ 所/ 含/ 因素/ 的/ 数量/ (/ 即该/ 覆盖/ 需求/ 的/ 交互/ 力度/ )/ 均/ 在/ 2/ ~/ 4/ 之间/ :/ (/ 1/ )/ Kuhn/ 等/ 人/ [/ 2/ -/ 3/ ]/ 曾/ 指出/ ,/ 故障/ 所/ 对应/ 的/ 因素/ 交互/ 力度/ (/ FTFI/ )/ 多数/ 在/ 2/ ~/ 4/ 之间/ ,/ 且/ FTFI/ 值为/ 3/ 以上/ 的/ 故障/ 数量/ 极少/ ;/ (/ 2/ )/ 当/ 交互/ 关系/ R/ 中/ 出现/ 极少数/ 交互/ 力度/ 较大/ 的/ 覆盖/ 需求/ 时/ ,/ 测试用例/ 集/ 的/ 规模/ 将/ 主要/ 取决于/ 这些/ 交互/ 力度/ 较大/ 的/ 覆盖/ 需求/ ,/ 而/ 算法/ 性能/ 本身/ 的/ 影响力/ 则/ 相对/ 比较/ 小/ ./ 表/ 3/ 和表/ 4/ 从/ 测试用例/ 集/ 规模/ 和/ 算法/ 运行/ 的/ CPU/ 时间/ 这/ 两个/ 方面/ ,/ 给出/ 了/ 几种/ 算法/ 和/ 工具/ 在/ 生成/ 可变/ 力度/ 组合/ 测试用例/ 集时/ 的/ 效果/ ./ 由于/ TVG/ 基于/ GUI/ 界面/ ,/ 难以/ 精确/ 统计/ CPU/ 时间/ ,/ 因此/ 没有/ 给出/ 其/ 耗时/ 方面/ 的/ 数据/ ./ 对于/ PICT/ ,/ 尽管/ 相关/ 文献/ 说明/ 它/ 能/ 处理/ 任意/ 数量/ 的/ 覆盖/ 需求/ (/ Sub/ -/ Mod/ -/ els/ )/ [/ 11/ ]/ ,/ 但/ 在/ 实际/ 运行/ 中/ 我们/ 发现/ ,/ 当/ |/ R/ |/ >/ 2/ 且/ 覆盖/ 需求/ 之间/ 存在/ 交集/ 时/ ,/ PICT/ 就/ 已/ 难以/ 正常/ 运行/ ,/ 在/ 运行/ 长达/ 1h/ 的/ 时间/ 后/ 仍然/ 无法/ 得出/ 结果/ ./ 行/ 时间/ 方面/ ,/ ReqOrder/ 用时/ 最/ 短/ ,/ 其次/ 为/ ParaOrder/ 和/ Union/ ,/ DA/ -/ FO/ 的/ 时间/ 性能/ 略/ 差于/ 前/ 三者/ ,/ 但/ 优于/ DA/ -/ RO/ ,/ 这/ 与/ 前/ 文中/ 对/ 时间/ 复杂度/ 进行/ 理论/ 分析/ 的/ 结果/ 是/ 基本/ 吻合/ 的/ ./ 5.2/ 固定/ 力度/ 和/ “/ 狭义/ ”/ 可变/ 力度/ 组合/ 测试用例/ 集/ 生成/ 中/ 的/ 效果/ 除/ 检验/ 算法/ 在/ 生成/ 可变/ 力度/ 组合/ 测试用例/ 集时/ 的/ 效果/ 外/ ,/ 我们/ 还/ 将/ 检验/ 它们/ 在/ 可变/ 力度/ 组合/ 测试/ Page10/ 的/ 一种/ 特例/ ,/ 即/ 固定/ 力度/ 组合/ 测试/ 中/ 的/ 效果/ ./ 由于/ 已有/ 实验/ 结果表明/ Union/ 和/ ReqOrder/ 的/ 效果/ 相对/ 较差/ ,/ 生成/ 测试用例/ 集/ 的/ 规模/ 过大/ ,/ 因此/ 在/ 后续/ 的/ 实验/ 中将/ 不再/ 考虑/ 该/ 算法/ ./ 表/ 5/ 给出/ 了/ 13/ 种/ 算法/ 和/ 工具/ 在/ 生成/ 固定/ 力度/ 表/ 5/ 固定/ 力度/ 3/ 维/ 组合/ 测试用例/ 集/ 的/ 规模/ DA/ -/ RODA/ -/ FOParaOrderGreedyTVGPICTAETGGAACAGA/ -/ NIPO/ -/ NIPOJennyS150475343484838333352474851S2646410664120111776464856464112S3213211225184239215194125125223173200215S4362359363325409369330331330389371366373S51592158716241474194916221473150114961769150216781572S6242237225220269241218218218336199239236S7119116108106133119114108106120113120130S8365369377388429368377360361373368464397/ 注/ :/ S1/ :/ 36/ ;/ S2/ :/ 46/ ;/ S3/ :/ 56/ ;/ S4/ :/ 66/ ;/ S5/ :/ 106/ ;/ S6/ :/ 57/ ;/ S7/ :/ 524232/ ;/ S8/ :/ 101624331/ ./ 通过/ 表/ 5/ 可以/ 看出/ ,/ 相对/ 于/ 几种/ 已有/ 的/ 专用/ 于/ 固定/ 力度/ 组合/ 测试用例/ 集/ 生成/ 的/ 算法/ 和/ 工具/ (/ 如/ GA/ 、/ ACA/ 、/ AETG/ )/ ,/ 本文/ 提出/ 的/ 两种/ 算法/ 在/ 性能/ 上/ 存在/ 一定/ 的/ 差距/ ./ 而/ 相对/ 于/ 几种/ 可/ 用于/ 生成/ 可变/ 力度/ 组合/ 测试用例/ 集/ 的/ 算法/ 和/ 工具/ ,/ 本文/ 提出/ 的/ 算法/ 除略/ 差于/ Greedy/ ,/ 但/ 在/ 大多数/ 情况/ 下均/ 优于/ ParaOrder/ 、/ PICT/ 和/ TVG/ ./ 在/ 本次/ 实验/ 中/ ,/ 尽管/ Greedy/ 可以/ 生成/ 规模/ 很小/ 的/ 测试用例/ 集/ ,/ 但/ 其/ 时间/ 性能/ 依然/ 是/ 其/ 最大/ 的/ 缺陷/ ,/ 例如/ 对于/ 输入/ S5/ ,/ Greedy/ 运行/ 所/ 需/ 的/ CPU/ 时间/ 已/ 接近/ 1h/ ,/ 而/ 其它/ 算法/ 和/ 工具/ 基本/ 都/ 可/ 在/ 10s/ 之内/ 得出/ 结果/ ./ 表/ 6/ “/ 狭义/ ”/ 可变/ 力度/ 组合/ 测试用例/ 集/ 的/ 规模/ 犞/ 犛/ 犆/ 犃/ (/ m/ ;/ 2/ ,/ 315/ ,/ C/ )/ 犞/ 犛/ 犆/ 犃/ (/ m/ ;/ 2/ ,/ 435362/ ,/ C/ )/ 犞/ 犛/ 犆/ 犃/ (/ m/ ;/ 2/ ,/ 320102/ ,/ C/ )/ 3/ 维/ 组合/ 测试用例/ 集时/ 的/ 结果/ ./ 其中/ ,/ AETG/ [/ 16/ ]/ 、/ GA/ [/ 20/ ]/ 、/ ACA/ [/ 20/ ]/ 的/ 数据/ 来源于/ 文献/ [/ 20/ ]/ ;/ GA/ -/ N/ 、/ IPO/ -/ N/ 的/ 数据/ 来源于/ 文献/ [/ 21/ ]/ ;/ IPO/ [/ 8/ ]/ 的/ 数据/ 通过/ 运行/ 工具/ TConfig/ ①/ 而/ 得/ ;/ Jenny/ 的/ 数据/ 则/ 通过/ 运行/ 开源/ 工具/ Jenny/ ②/ 而/ 得/ ./ 最后/ ,/ 我们/ 还/ 对/ 几种/ 算法/ 和/ 工具/ 在/ “/ 狭义/ ”/ 可变/ 力度/ 组合/ 测试用例/ 集/ 生成/ 中/ 的/ 效果/ 进行/ 了/ 检验/ ./ 本次/ 实验/ 比较/ 了/ 本文/ 提出/ 的/ 两种/ 算法/ 、/ Greedy/ 、/ PICT/ 、/ TVG/ 以及/ Cohen/ 等/ 人/ [/ 1/ ]/ 提出/ 的/ 专门/ 用于/ 生成/ “/ 狭义/ ”/ 可变/ 力度/ 组合/ 测试用例/ 集/ 的/ 算法/ SA/ (/ SimulatedAnnealing/ )/ ./ 表/ 6/ 给出/ 了/ 几种/ 算法/ 和/ 工具/ 生成/ 的/ “/ 狭义/ ”/ 可变/ 力度/ 组合/ 测试用例/ 集/ 的/ 规模/ ./ 该/ 实验所/ 使用/ 的/ 输入/ 以及/ 算法/ SA/ 的/ 数据/ 均/ 来源于/ 文献/ [/ 1/ ]/ ./ 对于/ 其中/ 的/ 部分/ 输入/ ,/ 由于/ Greedy/ 算法/ 未能/ 在/ 1h/ 的/ 规定/ CPU/ 时间/ 内/ 运行/ 完毕/ 而/ 没有/ 得到/ 实验/ 结果/ ./ ①/ ②/ Page11/ 通过/ 表/ 6/ 可以/ 看出/ ,/ 使用/ 模拟退火/ 算法/ 的/ SA/ 对于/ 所有/ 输入/ 均/ 可/ 生成/ 最小/ 的/ 测试用例/ 集/ ./ 若/ 不/ 考虑/ SA/ 所得/ 的/ 结果/ ,/ 则/ 在/ 其它/ 算法/ 和/ 工具/ 中/ ,/ DA/ -/ RO/ 共/ 17/ 次/ 生成/ 了/ 最小/ 测试用例/ 集/ ,/ DA/ -/ FO/ 共/ 12/ 次/ 生成/ 了/ 最小/ 测试用例/ 集/ ,/ 均/ 明显/ 优于/ 其它/ 算法/ 和/ 工具/ ./ 我们/ 还/ 注意/ 到/ ,/ 此前/ 在/ 测试用例/ 集/ 规模/ 方面/ 表现/ 优异/ 的/ Greedy/ 在/ 本次/ 试验/ 中/ 没有/ 任何/ 优势/ ,/ 且/ 对于/ 部分/ 输入/ 由于/ 其/ 较差/ 的/ 时间/ 性能/ 而/ 没有/ 在/ 规定/ CPU/ 时间/ 内/ 得到/ 结果/ ./ 5.3/ 实验/ 结论/ 通过/ 以上/ 共/ 3/ 组/ 实验/ 可以/ 看出/ ,/ 本文/ 提出/ 的/ 算法/ DA/ -/ RO/ 和/ DA/ -/ FO/ 在/ 可变/ 力度/ 组合/ 测试用例/ 集/ 、/ 固定/ 力度/ 组合/ 测试用例/ 集/ 以及/ “/ 狭义/ ”/ 可变/ 力度/ 组合/ 测试用例/ 集/ 的/ 生成/ 中均/ 具有/ 比较/ 好/ 的/ 效果/ ./ 其中/ DA/ -/ RO/ 所/ 生成/ 测试用例/ 集/ 的/ 规模/ 普遍/ 小于/ DA/ -/ FO/ ,/ 但/ 时间/ 性能/ 则/ 不及/ 后者/ ./ 由于/ 上文/ 所述/ 的/ 几种/ 算法/ 均/ 为/ 启发式/ 算法/ ,/ 都/ 不能/ 保证/ 生成/ 最优/ 解/ ,/ 因此/ 在/ 实际/ 的/ 测试/ 工作/ 中/ ,/ 综合/ 运用/ 各种/ 测试用例/ 生成/ 方法/ ,/ 取长补短/ ,/ 可以/ 取得/ 更好/ 的/ 效果/ ./ 而/ 本文/ 提出/ 的/ 算法/ 在/ 各/ 场景/ 下均/ 具有/ 一定/ 的/ 优势/ ,/ 在/ 组合/ 测试/ 、/ 尤其/ 是/ 可变/ 力度/ 组合/ 测试用例/ 集/ 的/ 生成/ 时/ ,/ 可/ 成为/ 一种/ 较优/ 的/ 选择/ ./ 6/ 小结/ 针对/ 传统/ 的/ 固定/ 力度/ 组合/ 测试方法/ 以及/ Cohen/ 等/ 人/ 提出/ 的/ “/ 狭义/ ”/ 可变/ 力度/ 组合/ 测试方法/ 中/ 所/ 存在/ 的/ 问题/ ,/ 本/ 课题组/ 提出/ 一种/ 新/ 的/ 可变/ 力度/ 组合/ 测试方法/ ./ 这种/ 新/ 的/ 可变/ 力度/ 组合/ 测试/ 模型/ 可以/ 更为/ 准确/ 地/ 描述/ 待/ 测系统/ 中/ 的/ 因素/ 间/ 交互作用/ ,/ 进而/ 可/ 为/ 测试用例/ 集/ 的/ 设计/ 和/ 生成/ 提供/ 更好/ 的/ 指导/ ./ 针对/ 这一/ 模型/ ,/ 在/ 假设/ 因素/ 间/ 交互/ 关系/ 已知/ 的/ 情况/ 下/ ,/ 本文/ 给出/ 了/ 两种/ 基于/ one/ -/ test/ -/ at/ -/ a/ -/ time/ 策略/ 的/ 可变/ 力度/ 组合/ 测试用例/ 集/ 生成/ 算法/ ./ 实验/ 表明/ ,/ 本文/ 提出/ 的/ 算法/ 除/ 在/ 可变/ 力度/ 组合/ 测试用例/ 集/ 的/ 生成/ 中/ 具有/ 很/ 好/ 的/ 效果/ 外/ ,/ 在/ 固定/ 力度/ 组合/ 测试用例/ 集/ 以及/ “/ 狭义/ ”/ 可变/ 力度/ 组合/ 测试用例/ 集/ 的/ 生成/ 中/ 同样/ 具有/ 一定/ 的/ 竞争力/ ./ 目前/ ,/ 组合/ 测试/ 领域/ 的/ 大多数/ 工作/ 关注/ 于/ 相对/ 简单/ 的/ 固定/ 力度/ 组合/ 测试/ 模型/ ./ 而/ 事实上/ ,/ 不同/ 类型/ 组合/ 测试/ 模型/ 的/ 选择/ 对于/ 组合/ 测试/ 的/ 应用/ 起着/ 至关重要/ 的/ 作用/ ./ 因此/ ,/ 有/ 必要/ 深入研究/ 组合/ 测试/ 的/ 各种/ 应用/ 场景/ ,/ 总结/ 更/ 多/ 、/ 更/ 详细/ 的/ 组合/ 测试/ 模型/ ,/ 指导/ 人们/ 迅速/ 区分/ 哪些/ 软件系统/ 或/ 软件系统/ 的/ 哪些方面/ 适合/ 使用/ 组合/ 测试方法/ ./ 此外/ ,/ 由于/ 组合/ 测试用例/ 集/ 的/ 生成/ 问题/ 是/ NP/ -/ C/ 问题/ ,/ 而元/ 启发式/ 搜索/ 方法/ 是/ 一种/ 解决/ NP/ -/ C/ 问题/ 的/ 常用/ 方法/ ,/ 因此/ 有/ 必要/ 对/ 其/ 在/ 组合/ 测试用例/ 集/ 生成/ 中/ 的/ 应用/ 进行/ 进一步/ 的/ 研究/ 和/ 探索/ ./ 

