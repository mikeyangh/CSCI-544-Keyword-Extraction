Page1/ 基于/ 二阶/ 倒立/ 摆/ 的/ 人体/ 运动/ 合成/ 赵建军/ 1/ )/ ,/ 2/ )/ 魏毅/ 1/ )/ 夏时/ 洪/ 1/ )/ 王兆其/ 1/ )/ 1/ )/ (/ 中国科学院计算技术研究所/ 前瞻/ 研究/ 实验室/ 移动/ 计算/ 与/ 新型/ 终端/ 北京市/ 重点/ 实验室/ 北京/ 100190/ )/ 2/ )/ (/ 中国科学院/ 大学/ 北京/ 100049/ )/ 摘要/ 为了/ 合成/ 物理/ 真实/ 、/ 实时/ 可控/ 的/ 人体/ 运动/ ,/ 提出/ 了/ 一种/ 基于/ 二阶/ 倒立/ 摆/ 的/ 人体/ 运动/ 合成/ 方法/ ./ 方法/ 分三步/ 实现/ :/ 首先/ 将/ 人体/ 运动/ 状态/ 映射/ 为/ 一个/ 二阶/ 倒立/ 摆/ 模型/ ;/ 然后/ 根据/ 步态/ 控制参数/ 与/ 环境/ 约束/ ,/ 对/ 二阶/ 倒立/ 摆/ 进行/ 运动/ 规划/ ;/ 最后/ 基于/ 二阶/ 倒立/ 摆/ 的/ 运动/ ,/ 根据/ 人体/ 运动/ 规律/ 与/ 高层用户/ 需求/ ,/ 优化/ 计算/ 关节/ 力矩/ ,/ 合成/ 人体/ 全身/ 运动/ ./ 利用/ 文中/ 方法/ ,/ 通过/ 设置/ 不同/ 的/ 参数/ ,/ 如/ 步幅/ 、/ 步频/ 等/ ,/ 能够/ 实时控制/ 人体/ 运动/ ,/ 生成/ 物理/ 真实/ 的/ 人体/ 运动/ ./ 与/ 现有/ 的/ 低维/ 模型/ 方法/ 相比/ ,/ 该/ 方法/ 能够/ 生成/ 更加/ 自然/ 真实/ 的/ 人体/ 下肢/ 运动/ ./ 该文/ 合成/ 方法/ 既/ 不/ 需要/ 使用/ 运动/ 捕获/ 数据/ ,/ 也/ 无需/ 耗时/ 的/ 离线/ 优化/ ./ 关键词/ 基于/ 物理/ 的/ 人体/ 运动/ 合成/ ;/ 二阶/ 倒立/ 摆/ ;/ 运动/ 控制/ ;/ 优化/ ;/ 虚拟现实/ ;/ 计算机/ 图形学/ 1/ 引言/ 人体/ 运动/ 合成/ 技术/ 广泛应用/ 于/ 电影/ 特效/ 制作/ 、/ 动画/ 合成/ 、/ 机器人/ 运动/ 控制/ 、/ 人机交互/ 等/ 各个领域/ ./ 由于/ 其/ 物理/ 真实性/ 以及/ 与/ 环境/ 的/ 可/ 交互性/ ,/ 基于/ 物理/ 的/ 人体/ 运动/ 合成/ 与/ 控制/ 受到/ 了/ 研究者/ 们/ 的/ 广泛/ 关注/ ./ 然而/ 由于/ 双足/ 运动/ 的/ 不稳定性/ 、/ 欠/ 定性/ 以及/ 人体/ 动力学/ 模型/ 的/ 高/ 维度/ 、/ 强/ 非线性/ ,/ 基于/ 物理/ 的/ 人体/ 运动/ 合成/ 与/ 控制/ 一直/ 是/ 一项/ 很/ 有/ 挑战/ 的/ 研究课题/ ./ 作为/ 该/ 领域/ 的/ 开创性/ 方法/ 之一/ ,/ 经典/ 的/ 轨迹/ 规划/ 方法/ 在/ 一个/ 优化/ 模型/ 中/ 同时/ 处理/ 所有/ 的/ 外界/ 约束/ 、/ 用户/ 需求/ 、/ 人体/ 动力学/ 约束/ ,/ 通过/ 优化/ 得到/ 一段/ 人体/ 运动/ ./ 由于/ 人体/ 运动/ 系统/ 维度/ 高/ 、/ 约束条件/ 多/ ,/ 经典/ 的/ 轨迹/ 优化/ 方法/ 即使/ 合成/ 数/ 秒钟/ 的/ 简单/ 运动/ 都/ 耗时/ 甚/ 多/ ,/ 不能/ 实时控制/ 与/ 合成/ 人体/ 运动/ ./ 为了/ 解决/ 上述/ 问题/ ,/ 一种/ 可行/ 的/ 方法/ 是/ 基于/ 低维/ 物理/ 模型/ 的/ 合成/ 方法/ ./ 基于/ 低维/ 物理/ 模型/ 的/ 方法/ ,/ 首先/ 将/ 人体/ 模型简化/ 为/ 低维/ 的/ 物理/ 模型/ ,/ 合成/ 低维/ 模型/ 的/ 运动/ 后/ ,/ 再/ 将/ 低维/ 模型/ 的/ 运动/ 映射/ 回/ 人体模型/ ,/ 得到/ 人体/ 全身/ 运动/ ./ 通过/ 降维/ 减少/ 变量/ ,/ 该/ 方法/ 能够/ 实时/ 生成/ 与/ 控制/ 人体/ 运动/ ,/ 然而/ 现有/ 的/ 低维/ 模型/ 方法/ 都/ 对/ 人体模型/ 做/ 了/ 过度/ 简化/ ,/ 没有/ 考虑/ 人体/ 运动/ 的/ 生物力学/ 规律/ ,/ 如/ 人体/ 膝关节/ 被动/ 发力/ 等/ ,/ 得到/ 的/ 人体/ 下肢/ 运动/ 都/ 不够/ 自然/ 真实/ ./ 本文/ 提出/ 了/ 一种/ 基于/ 二阶/ 倒立/ 摆/ 的/ 人体/ 运动/ 合成/ 方法/ ./ 方法/ 分/ 3/ 步/ 实现/ :/ 首先/ 将/ 人体/ 运动/ 状态/ 映射/ 为/ 一个/ 二阶/ 倒立/ 摆/ 的/ 运动/ 状态/ ,/ 大腿/ 与/ 小腿/ 分别/ 对应/ 于/ 二阶/ 倒立/ 摆/ 的/ 两个/ 摆杆/ ,/ 膝关节/ 对应/ 于/ 自由/ 关节/ ./ 然后/ ,/ 根据/ 人体/ 运动/ 中/ 的/ 环境/ 约束/ 与/ 步态/ 控制参数/ ,/ 对/ 二阶/ 倒立/ 摆/ 进行/ 运动/ 规划/ ,/ 生成/ 二阶/ 倒立/ 摆/ 的/ 运动/ ./ 最后/ 根据/ 人体/ 运动/ 特征/ 与/ 用户/ 高层/ 控制参数/ ,/ 将/ 二阶/ 倒立/ 摆/ 运动/ 映射/ 回/ 人体/ ,/ 得到/ 人体/ 全身/ 的/ 运动/ ./ 我们/ 使用/ 该/ 方法/ ,/ 通过/ 设置/ 不同/ 的/ 步态/ 参数/ ,/ 得到/ 了/ 不同/ 步态/ 参数/ 的/ 人体/ 运动/ ./ 我们/ 还/ 将/ 本文/ 方法/ 与/ 基于/ 弹簧/ 倒立/ 摆/ 的/ 合成/ 方法/ 进行/ 了/ 实验/ 对比/ ./ 实验/ 结果表明/ ,/ 本文/ 方法/ 能够/ 实时/ 地/ 合成/ 不同/ 步态/ 参数/ 的/ 人体/ 运动/ ;/ 与/ 其他/ 低维/ 物理/ 模型/ 方法/ 相比/ ,/ 该/ 方法/ 生成/ 的/ 人体/ 下肢/ 运动/ 更加/ 自然/ 真实/ ,/ 下肢/ 发力/ 情况/ 与/ 真实/ 人体/ 运动/ 情况/ 更加/ 吻合/ ./ 此外/ ,/ 本文/ 的/ 方法/ 不/ 需要/ 使用/ 运动/ 捕获/ 数据/ 也/ 无需/ 经过/ 耗时/ 的/ 离线/ 优化/ ./ 2/ 相关/ 工作/ 在/ 计算机/ 动画/ 的/ 发展/ 历史/ 中/ ,/ 尤其/ 是/ 近/ 10/ 多年/ ,/ 基于/ 物理/ 的/ 人体/ 运动/ 合成/ 一直/ 是/ 人体/ 运动/ 合成/ 领域/ 的/ 研究/ 热点/ ,/ 受到/ 研究者/ 的/ 广泛/ 关注/ ./ 其中/ ,/ 基于/ 控制器/ 的/ 合成/ 方法/ 是/ 应用/ 最/ 广泛/ 的/ 方法/ 之一/ [/ 1/ -/ 2/ ]/ ./ 控制器/ 方法/ 将/ 人体/ 运动/ 看作/ 是/ 有限/ 个/ 人体/ 运动/ 状态机/ 之间/ 的/ 转移/ ,/ 通过/ 设定/ 控制器/ 参数/ 以及/ 设置/ 有限/ 个/ 运动/ 状态/ ,/ 合成/ 人体/ 周期性/ 运动/ ./ 控制器/ 方法/ 鲁棒/ 高效/ ,/ 对/ 外界/ 干扰/ 能够/ 实时/ 反馈/ ,/ 但是/ 该/ 方法/ 需要/ 手工/ 划分/ 运动/ 的/ 各个/ 有限/ 状态机/ 以及/ 调节/ 控制器/ 参数/ ,/ 而/ 当/ 运动/ 类型/ 或者/ 环境/ 改变/ 时/ ,/ 控制器/ 参数/ 需要/ 手工/ 调节/ 或者/ 离线/ 优化/ 计算/ ,/ 控制器/ 参数/ 通用性/ 较差/ [/ 3/ -/ 4/ ]/ ./ 近年来/ ,/ 随着/ 运动/ 捕获/ 技术/ 的/ 日益/ 成熟/ ,/ 基于/ 运动/ 捕获/ 数据/ 的/ 人体/ 运动/ 合成/ 得到/ 了/ 研究者/ 越来越/ 多/ 的/ 关注/ [/ 5/ -/ 6/ ]/ ./ 使用/ 运动/ 捕获/ 数据/ 作为/ 训练样本/ 或者/ 优化/ 初值/ ,/ 能够/ 大大简化/ 人体/ 运动/ 合成/ 中/ 优化/ 的/ 计算/ 量/ ./ 该/ 方法/ 在/ 得到/ 更加/ 真实/ 运动/ 的/ 同时/ ,/ 能够/ 使/ 合成/ 的/ 人体/ 运动/ 保留/ 原始/ 动作/ 的/ 风格/ ./ 然而/ ,/ 基于/ 运动/ 捕获/ 数据/ 的/ 运动/ 合成/ 方法/ 由于/ 其/ 固有/ 的/ 特性/ ,/ 只能/ 生成/ 与/ 原始/ 运动/ 捕获/ 数据/ 相似/ 的/ 运动/ ./ 人体/ 运动/ 合成/ 的/ 另外/ 一种/ 方法/ 就是/ 基于/ 低维/ 物理/ 模型/ 的/ 方法/ ./ 早/ 在/ 20/ 世纪/ 80/ 年代/ 开始/ ,/ 在/ 生物力学/ 以及/ 机器人学/ 领域/ ,/ 就/ 有/ 研究者/ 使用/ 低维/ 物理/ 模型/ 分析/ 人体/ 运动/ 的/ 生物力学/ 规律/ 、/ 控制/ 机器人/ 运动/ 平衡/ ./ 这些/ 方面/ 的/ 研究/ 为/ 基于/ 低维/ 模型/ 的/ 人体/ 运动/ 合成/ 提供/ 了/ 启示/ ./ 近些年来/ ,/ 在/ 人体/ 运动/ 合成/ 领域/ ,/ 大量/ 研究者/ 进行/ 了/ 这方面/ 的/ 研究/ [/ 7/ -/ 10/ ]/ ./ 其中/ Tsai/ 等/ 人/ [/ 7/ ]/ 与/ Kwon/ 和/ Hodgins/ [/ 8/ ]/ 使用/ 一阶/ 倒立/ 摆/ 模型模拟/ 人体/ 步行/ 、/ 跑步/ 中/ 质心/ 的/ 运动/ 变化/ ./ 通过/ 将/ 质心/ 运动/ 映射/ 为/ 低维/ 物理/ 模型/ 的/ 运动/ ,/ 简化/ 了/ 人体/ 控制/ 中/ 的/ 计算/ 过程/ ./ 然而/ ,/ 一阶/ 倒立/ 摆/ 模型/ 假设/ 人体/ 质心/ 与/ 着/ 地点/ 之间/ 距离/ 始终不变/ ,/ 摆动/ 腿/ 一旦/ 落地/ ,/ 膝盖/ 关节/ 角度/ 不再/ 变化/ ,/ 从而/ 生成/ 的/ 运动/ 太/ 僵硬/ ,/ 不够/ 真实/ ./ 为了/ 改进/ 上述/ 现象/ ,/ Mordatch/ 等/ 人/ [/ 9/ ]/ 使用/ 弹簧/ 倒立/ 摆/ 模型/ 描述/ 人体/ 运动/ 中/ 的/ 质心/ 运动/ 情况/ ./ 弹簧/ 倒立/ 摆/ 模型/ 假设/ 人体/ 运动/ 中/ 质心/ 与/ 压力/ 中心/ 由/ 一根/ 压缩/ 弹簧/ 支撑/ ,/ 从而/ 使/ 膝关节/ 在/ 其/ 支撑/ 期间/ 也/ 可以/ 自由/ 运动/ ./ 然而/ ,/ 弹簧/ 倒立/ 摆/ 模型/ 要求/ 膝关节/ 在/ 运动/ 中/ 保持/ 弯曲/ ,/ 膝关节/ 力矩/ 也/ 须/ 一直/ 保持/ 较大/ 数值/ ,/ 这/ 与/ 人体/ 生物力学/ 规律/ 不符/ ./ 此外/ ,/ 一阶/ 倒立/ 摆/ 模型/ 还/ 用于/ 模拟/ 人体/ 的/ 落地/ 冲击/ 等/ 各种/ 运动/ [/ 10/ ]/ ./ 本文/ 方法/ 采用/ 的/ 低维/ 物理/ 模型/ 与/ 现有/ 文献/ 中/ 采用/ 的/ 低维/ 物理/ 模型/ 完全/ 不同/ ,/ 我们/ 采用/ 了/ 二阶/ 倒立/ 摆/ 描述/ 人体/ 下肢/ 的/ 运动/ ./ 通过/ 将/ 人体/ 下肢/ 简化/ 为/ 二阶/ 倒立/ 摆/ ,/ 我们/ 可以/ 在/ 直接/ 规划/ 下肢/ 运动/ 的/ 同时/ ,/ 根据/ 人体/ 运动/ 的/ 生物力学/ 规律/ ,/ 对/ 膝关节/ 进行/ 更加/ 合理/ 的/ 力矩/ 规划/ ./ Page3/ 在/ 基于/ 低维/ 物理/ 模型/ 的/ 人体/ 运动/ 合成/ 方法/ 中/ ,/ 关键/ 的/ 一步/ 是/ 将/ 得到/ 的/ 低维/ 物理/ 模型/ 运动/ 映射/ 到/ 人体/ 的/ 全身/ 运动/ ,/ 现有/ 大多数/ 方法/ 都/ 采用/ 了/ 加权/ 二次/ 规划/ 的/ 方法/ ./ 其中/ ,/ Kwon/ 和/ Hodgins/ [/ 8/ ]/ 将/ 运动/ 捕获/ 数据/ 作为/ 合成/ 运动/ 的/ 参考/ 对象/ ,/ 使用/ 加权/ 二次/ 规划/ 模型/ 计算/ 关节/ 力矩/ ,/ 控制/ 人体/ 运动/ 满足用户/ 控制/ 的/ 同时/ ,/ 尽量/ 与/ 运动/ 捕获/ 数据/ 相似/ ./ 该/ 方法/ 借鉴/ 了/ 基于/ 运动/ 捕获/ 数据/ 的/ 方法/ ,/ 使得/ 二次/ 规划/ 可以/ 高效/ 求解/ ,/ 合成/ 运动/ 逼真度/ 高/ ,/ 但是/ 该/ 方法/ 只能/ 生成/ 运动/ 数据库/ 中/ 已有/ 的/ 运动/ 类型/ ./ deLasa/ 等/ 人/ [/ 11/ ]/ 则/ 是/ 手工/ 设定/ 了/ 一组/ 优化/ 目标/ ,/ 通过/ 设定/ 人体/ 步行/ 或者/ 跳跃/ 等/ 运动/ 中/ 各个/ 肢体/ 的/ 目标/ 姿态/ 等/ ,/ 使用/ 二次/ 规划/ 的/ 方法/ 得到/ 人体/ 全身/ 运动/ ./ 本文/ 方法/ 也/ 使用/ 了/ 二次/ 规划/ 求解/ 人体/ 关节/ 力矩/ ,/ 但是/ 与/ 上述/ 方法/ 稍/ 有/ 不同/ ,/ 本文/ 方法/ 根据/ 人体/ 运动/ 平衡/ 控制/ 中/ 各/ 肢体/ 运动/ 物理/ 真实性/ 的/ 重要/ 程度/ 将/ 其/ 分为/ 3/ 个/ 层次/ ,/ 不同/ 层次/ 对应/ 不同/ 数量级/ 的/ 加权/ 系数/ ,/ 从而/ 方便/ 用户/ 控制/ 各/ 肢体/ 运动/ 的/ 同时/ ,/ 不再/ 需要/ 频繁/ 调节/ 二次/ 规划/ 的/ 加权/ 系数/ ./ 3/ 总体/ 思路/ 为了/ 能够/ 实时/ 合成/ 与/ 控制/ 人体/ 运动/ ,/ 人体/ 运动/ 合成/ 方法/ 需要/ 实时/ 计算/ 出/ 人体模型/ 在/ 每/ 一个/ 运动/ 时刻/ 的/ 关节/ 力矩/ ,/ 然后/ 根据/ 前向/ 动力学/ 得到/ 人体/ 各/ 关节/ 角加速度/ ,/ 进而/ 生成/ 人体/ 的/ 运动/ ./ 由于/ 人体/ 运动/ 是/ 一个/ 复杂/ 的/ 非线性/ 控制系统/ ,/ 不易/ 求解/ ,/ 本文/ 中/ 我们/ 首先/ 将/ 人体/ 运动/ 降维为/ 二阶/ 倒立/ 摆/ 模型/ ,/ 然后/ 对/ 二阶/ 倒立/ 摆/ 模型/ 进行/ 运动/ 规划/ ,/ 最后/ 基于/ 二阶/ 倒立/ 摆/ 的/ 运动/ 计算/ 各/ 关节/ 力矩/ ,/ 合成/ 控制/ 人体/ 的/ 全身/ 运动/ ./ 如图/ 1/ 所示/ ,/ 传统/ 基于/ 物理/ 的/ 人体/ 运动/ 合成/ 方法/ ,/ 需要/ 在/ 人体/ 关节/ 空间/ 中/ 计算/ 关节/ 力矩/ ./ 由于/ 动力学/ 方程/ 维数/ 高/ 、/ 非线性/ 强/ ,/ 不易/ 求解/ ,/ 本文/ 使用/ 低维/ 物理/ 模型/ 运动/ 模拟/ 控制/ 人体/ 运动/ ,/ 通过/ 降维/ 简化/ 了/ 传统/ 方法/ 中/ 人体/ 关节/ 力矩/ 的/ 计算/ 过程/ ./ 具体来讲/ ,/ 本文/ 方法/ 计算/ 关节/ 力矩/ ,/ 合成/ 人体/ 运动/ 共/ 分为/ 3/ 个/ 步骤/ :/ 仿真/ 得到/ 下/ 一帧/ 运动/ ;/ 为/ 二阶/ 倒立/ 摆/ 的/ 运动/ ;/ (/ 1/ )/ 运动/ 数据/ 降维/ ,/ 将/ 本/ 帧/ 人体/ 运动/ 数据/ 映射/ (/ 2/ )/ 低维/ 模型/ 仿真/ ,/ 根据/ 二阶/ 倒立/ 摆/ 数学模型/ ,/ (/ 3/ )/ 运动/ 状态/ 逆映射/ ,/ 通过/ 二次/ 规划/ ,/ 将/ 二阶/ 倒立/ 摆/ 运动/ 逆映射/ 回/ 人体模型/ ,/ 得到/ 人体/ 各/ 关节/ 力矩/ ,/ 驱动/ 全身/ 运动/ ./ 本文/ 算法/ 的/ 3/ 个/ 步骤/ 中/ ,/ 第/ 1/ 步是/ 将/ 人体/ 运动/ 状态/ 降维到/ 二阶/ 倒立/ 摆/ 模型/ ,/ 得到/ 低维/ 模型/ 的/ 运动/ 状态/ ,/ 该/ 部分/ 内容/ 将/ 在/ 本文/ 的/ 第/ 4/ 节中/ 介绍/ ;/ 第/ 2/ 步则/ 是/ 根据/ 二阶/ 倒立/ 摆/ 的/ 数学模型/ 与/ 人体/ 运动/ 控制/ 中/ 常见/ 的/ 步态/ 控制参数/ ,/ 对/ 低维/ 的/ 二阶/ 倒立/ 摆/ 模型/ 进行/ 运动/ 规划/ ,/ 本文/ 第/ 5/ 节将/ 详细/ 介绍/ 如何/ 根据/ 步态/ 控制参数/ 与/ 环境变量/ 对/ 二阶/ 倒立/ 摆/ 的/ 运动/ 进行/ 控制/ ;/ 算法/ 的/ 第/ 3/ 步/ ,/ 是/ 根据/ 二阶/ 倒立/ 摆/ 模型/ 的/ 本/ 帧/ 数据/ 与/ 下/ 一帧/ 数据/ ,/ 结合/ 人体/ 运动/ 特征/ 等/ ,/ 计算/ 各/ 关节/ 力矩/ ,/ 驱动/ 人体/ 全身/ 运动/ ,/ 该/ 部分/ 内容/ 将/ 在/ 第/ 6/ 节中/ 介绍/ ./ 4/ 二阶/ 倒立/ 摆/ 模型/ 本节/ 分三/ 部分/ 内容/ 介绍/ 模拟/ 人体/ 步行/ 运动/ 的/ 二阶/ 倒立/ 摆/ 模型/ :/ 首先/ 介绍/ 现有/ 文献/ 中/ 的/ 低维/ 物理/ 模型/ ;/ 然后/ 提出/ 本文/ 使用/ 的/ 二阶/ 倒立/ 摆/ 模型/ ;/ 最后/ 详细/ 介绍/ 人体/ 步行/ 运动/ 中/ 人体模型/ 与/ 二阶/ 倒立/ 摆/ 的/ 对应/ 关系/ ,/ 并/ 将/ 本/ 帧/ 的/ 人体/ 运动/ 数据/ 映射/ 为/ 二阶/ 倒立/ 摆/ 的/ 运动/ 状态/ ./ 4.1/ 现有/ 低维/ 物理/ 模型/ 人体/ 各/ 关节/ 之间/ 具有/ 高度/ 非线性/ 耦合/ 的/ 特点/ ,/ 选取/ 何种/ 低维/ 模型/ 描述/ 人体/ 运动/ ,/ 对于/ 合成/ 控制/ 人体/ 运动/ 非常/ 关键/ ./ 近年来/ ,/ 研究者/ 采用/ 了/ 不同/ 的/ 低维/ 物理/ 模型/ 合成/ 控制/ 人体/ 运动/ ./ Tsai/ 等/ 人/ [/ 7/ ]/ 使用/ 一阶/ 倒立/ 摆/ (/ 图/ 2/ (/ a/ )/ )/ 用于/ 描述/ 人体/ 步行/ 运动/ 中/ 质心/ 的/ 变化/ ,/ 结合/ 运动/ 捕获/ 数据/ ,/ 生成/ 满足用户/ 控制/ 需求/ 的/ 步行/ 运动/ ./ 而/ Page4Kwon/ 和/ Hodgins/ [/ 8/ ]/ 则/ 使用/ 一阶/ 倒立/ 摆/ 模型/ (/ 图/ 2/ (/ b/ )/ )/ 描述/ 人体/ 跑步/ 中/ 的/ 质心/ 变化/ 情况/ ./ 上述/ 两者/ 都/ 使用/ 一阶/ 倒立/ 摆/ 模型/ 描述/ 人体/ 运动/ 中/ 质心/ 的/ 变化/ 情况/ ,/ 简化/ 了/ 人体/ 运动/ 合成/ 过程/ ,/ 但是/ 由于/ 该/ 模型/ 假设/ 倒立/ 摆/ 的/ 摆杆/ 长度/ 在/ 整个/ 运动/ 期间/ 保持/ 不变/ ,/ 合成/ 的/ 运动/ 动作/ 僵硬/ ,/ 不够/ 自然/ 真实/ ./ 为了/ 改善/ 一阶/ 倒立/ 摆/ 模型/ 中/ 支撑/ 腿/ 膝关节/ 无法/ 运动/ 的/ 问题/ ,/ Mordatch/ 等/ 人/ [/ 9/ ]/ 使用/ 了/ 弹簧/ 倒立/ 摆/ 模型/ (/ 图/ 2/ (/ c/ )/ )/ 描述/ 人体/ 步行/ 中/ 的/ 质心/ 变化/ 情况/ ,/ 合成/ 控制/ 人体/ 运动/ ./ 在/ 本文/ 中/ ,/ 我们/ 将/ 重点/ 与/ 弹簧/ 倒立/ 摆/ 模型/ [/ 9/ ]/ 进行/ 实验/ 对比/ ./ 上述/ 研究者/ 使用/ 低维/ 物理/ 模型/ 描述/ 人体/ 质心/ 运动/ ,/ 指导/ 合成/ 人体/ 全身/ 运动/ ,/ 从而/ 简化/ 了/ 人体/ 关节/ 力矩/ 的/ 计算/ 过程/ ,/ 生成/ 了/ 满足用户/ 需求/ 与/ 动力学/ 约束/ 的/ 人体/ 运动/ ./ 但是/ 现有/ 模型/ 都/ 不能/ 很/ 好/ 描述/ 人体/ 质心/ 以及/ 下肢/ 的/ 运动/ ./ 其中/ ,/ 一阶/ 倒立/ 摆/ 模型/ 假设/ 了/ 质心/ 与/ 压力/ 中心/ 距离/ 保值/ 不变/ ,/ 这/ 要求/ 支撑/ 腿/ 膝关节/ 在/ 整个/ 支撑/ 期间/ 角度/ 不变/ ,/ 而/ 事实上/ 人体/ 步行/ 中/ 膝关节/ 都/ 有/ 屈伸/ 动作/ ./ 弹簧/ 倒立/ 摆/ 模型/ 则/ 假设/ 膝关节/ 为/ 一/ 弹簧/ ,/ 支撑/ 着/ 人体/ 全身/ 重量/ ,/ 这/ 意味着/ 膝关节/ 在/ 整个/ 支撑/ 期间/ 都/ 保持/ 很大/ 的/ 力矩/ ./ 而/ 事实上/ ,/ McGeer/ [/ 12/ ]/ 指出/ ,/ 人体/ 步行/ 中/ 膝关节/ 可以/ 认为/ 是/ 一个/ 被动/ 关节/ ,/ 在/ 步行/ 中/ “/ 不发力/ ”/ ,/ Wang/ 等/ 人/ [/ 13/ ]/ 也/ 曾/ 使用/ 这一/ 生物力学/ 原理/ 作为/ 人体/ 运动/ 合成/ 的/ 目标/ 函数/ ./ 为了/ 改进/ 现有/ 文献/ 中/ 低维/ 物理/ 模型/ 的/ 上述/ 问题/ ,/ 本文/ 中/ 我们/ 采用/ 图/ 3/ (/ b/ )/ 的/ 二阶/ 倒立/ 摆/ 描述/ 支撑/ 腿/ 的/ 运动/ 情况/ ,/ 相较/ 于/ 现有/ 的/ 低维/ 物理/ 模型/ ,/ 二阶/ 倒立/ 摆/ 具有/ 以下/ 两/ 方面/ 优点/ :/ (/ 1/ )/ 从/ 几何/ 的/ 角度/ 上/ 来看/ ,/ 人体/ 下肢/ 分为/ 大腿/ 与/ 小腿/ ,/ 二阶/ 倒立/ 摆/ 能够/ 充分/ 描述/ 两个/ 刚体/ 的/ 运动/ ./ 膝关节/ 得到/ 充分/ 运动/ 的/ 同时/ ,/ 其/ 运动/ 可/ 进行/ 实时/ 的/ 参数/ 化/ 控制/ ./ (/ 2/ )/ 从/ 物理/ 的/ 角度/ 上/ 来看/ ,/ 二阶/ 倒立/ 摆/ 能够/ 控制/ 髋关节/ 与/ 膝关节/ 的/ 力矩/ ,/ 从而/ 可以/ 根据/ 人体/ 运动/ 中/ 的/ 生物力学/ 原理/ ,/ 如/ 步行/ 中/ 膝关节/ 近似/ 不发力/ ,/ 合成/ 更加/ 物理/ 真实/ 的/ 人体/ 运动/ ./ 4.2/ 二阶/ 倒立/ 摆/ 原始/ 模型/ 人体/ 步行/ 运动/ 是/ 一个/ 不/ 稳定/ 的/ 动态平衡/ 过程/ ,/ 而/ 二阶/ 倒立/ 摆/ 也/ 是/ 一个/ 不/ 稳定/ 系统/ ./ 本/ 小节/ 介绍/ 了/ 二阶/ 倒立/ 摆/ 系统/ 的/ 原始/ 模型/ 以及/ 描述/ 人体/ 运动/ 的/ 二阶/ 倒立/ 摆/ ,/ 并/ 说明/ 了/ 两者/ 的/ 差异/ ./ 二阶/ 倒立/ 摆/ 原始/ 模型/ 如图/ 3/ (/ a/ )/ 所示/ ,/ 主要/ 由/ 小车/ 、/ 一级/ 摆杆/ 、/ 二级/ 摆杆/ 组成/ ,/ 其中/ 关节/ O1/ ,/ O2/ 均/ 为/ 自由/ 关节/ ./ 二阶/ 倒立/ 摆/ 系统/ 通过/ 对/ 小车/ 施加/ 外力/ ,/ 控制/ 小车/ 加速度/ ,/ 从而/ 控制/ 整个/ 倒立/ 摆/ 系统/ 保持/ 动态平衡/ ./ 人体/ 步行/ 中/ 的/ 二阶/ 倒立/ 摆/ 模型/ 与/ 二阶/ 倒立/ 摆/ 系统/ 的/ 原始/ 模型/ 稍/ 有/ 不同/ ./ 用于/ 描述/ 人体/ 运动/ 的/ 二阶/ 倒立/ 摆/ (/ 图/ 3/ (/ b/ )/ )/ ,/ 没有/ 小车/ 部分/ ,/ 其/ 通过/ 一级/ 摆杆/ 的/ 关节/ 力矩/ 来/ 控制/ 整个/ 系统/ 的/ 动态平衡/ ./ 4.3/ 人体/ 运动/ 降维本/ 小节/ 介绍/ 如何/ 根据/ 人体/ 运动/ 数据/ 计算/ 二阶/ 倒立/ 摆/ 模型/ 的/ 运动/ 数据/ ./ 在/ 人体/ 运动/ 合成/ 领域/ ,/ 人体/ 通常/ 由/ 一个/ 复杂/ 的/ 链杆/ 结构/ 表示/ ,/ 本文/ 采用/ 如图/ 4/ 的/ 链杆/ 结构/ 来/ 表示/ 人体模型/ ./ 该/ 模型/ 总共/ 有/ 34/ 个/ 自由度/ ,/ 用/ 广义坐标/ 描述/ 狇/ =/ [/ q1/ ,/ …/ ,/ qn/ ]/ T/ ,/ n/ =/ 34/ ./ 在/ 角色/ 动画/ 合成/ 中/ ,/ 广义坐标/ 是/ 时间/ t/ 的/ 函数/ ,/ 为/ 简单/ 起/ 见/ ,/ 文中/ 不再/ 标注/ ./ 经过/ 运动/ 分解/ 后/ ,/ 我们/ 分别/ 在/ 两个/ 平面/ 中/ 对/ 人为/ 简化/ 人体/ 运动/ 合成/ ,/ 我们/ 作/ 如下/ 假设/ :/ 人体/ 质心/ 运动/ 可分解/ 为/ X/ -/ Z/ 平面/ 的/ 二维/ 运动/ 与/ Z/ -/ Y/ 平面/ 的/ 一维/ 运动/ ;/ 人体/ 质心/ 与/ 人体/ 链杆/ 结构/ 的/ 根/ 关节/ 重合/ ;/ 支撑/ 脚着/ 地/ 过程/ 中/ ,/ 其/ 踝关节/ 作为/ 二阶/ 倒立/ 摆/ 的/ 原点/ ,/ 其/ 位置/ 将/ 不/ 发生变化/ ,/ 即/ 脚步/ 无/ 滑动/ ./ 体/ 运动/ 进行/ 降维/ ,/ 得到/ 低维/ 模型/ 的/ 运动/ ./ 4.3/ ./ 1/ 侧面/ (/ X/ -/ Z/ 平面/ )/ 如图/ 5/ 所示/ ,/ 使用/ 二阶/ 倒立/ 摆/ 系统/ 描述/ X/ -/ Z/ 平面/ 中/ 的/ 人体/ 质心/ 运动/ ./ 图中/ ,/ L1/ 与/ L2/ 是/ 人体/ 大腿/ 与/ 小腿/ 的/ 长度/ ,/ O1/ ,/ O2/ 分别/ 对应/ 于/ 支撑/ 腿/ 的/ 踝关节/ 中心/ 与/ 膝关节/ 中心/ ./ 二阶/ 倒立/ 摆/ 系统/ 是/ 一个二维/ 平面/ 中/ 的/ 运动/ 系统/ ,/ 自由度/ 有/ 2/ 个/ ,/ 任何时刻/ ,/ 二阶/ 倒立/ 摆/ 系统/ 的/ 状态/ 可/ 由/ 一级/ 摆杆/ 原点/ O1/ 在/ X/ -/ Z/ 平面/ 中/ Page5/ 的/ 投影/ [/ O1x/ ,/ O1z/ ]/ 以及/ 两个/ 摆动/ 角/ θ/ ,/ φ/ 共/ 4/ 个/ 变量/ 及其/ 导数/ 确定/ ./ 其/ 运动/ 参数/ 与/ 人体/ 的/ 运动/ 数据/ 对应/ 关系/ 如下/ :/ O1x/ =/ Pankle/ _/ x/ ;/ O/ ·/ O1z/ =/ Pankle/ _/ z/ ;/ O/ ·/ φ/ =/ -/ qhip/ _/ y/ ;/ φ/ ·/ =/ -/ q/ ·/ θ/ =/ -/ qhip/ _/ y/ +/ qknee/ _/ y/ ;/ q/ ·/ =/ -/ q/ ·/ 其中/ 犗/ 1/ =/ [/ O1x/ ,/ O1y/ ,/ O1z/ ]/ T/ ,/ 犗/ ·/ 为/ 二阶/ 倒立/ 摆/ 一级/ 摆杆/ 原点/ 在/ 世界/ 坐标系/ 中/ 的/ 位置/ 与/ 速度/ ,/ 犘/ ankle/ =/ [/ Pankle/ _/ x/ ,/ Pankle/ _/ y/ ,/ Pankle/ _/ z/ ]/ T/ ,/ 犘/ ·/ [/ P/ ·/ ankle/ _/ x/ ,/ P/ ·/ 界/ 坐标系/ 中/ 的/ 位置/ 与/ 速度/ ,/ qhip/ _/ y/ ,/ q/ ·/ 髋关节/ 绕/ Y/ 轴/ 的/ 关节/ 角度/ 与/ 关节/ 角速度/ ,/ qknee/ _/ y/ ,/ knee/ _/ y/ 则/ 表示/ 支撑/ 腿/ 膝关节/ 绕/ Y/ 轴/ 的/ 关节/ 角度/ 与关/ q/ ·/ 节/ 角速度/ ./ 4.3/ ./ 2/ 正面/ (/ Z/ -/ Y/ 平面/ )/ 如图/ 6/ 所示/ ,/ 由于/ 膝关节/ 在/ X/ 方向/ 没有/ 自由度/ ,/ 下肢/ 在/ Z/ -/ Y/ 平面/ 中/ 的/ 人体/ 质心/ 运动/ 可以/ 使用/ 一阶/ 倒立/ 摆/ 模型/ 描述/ ,/ 一阶/ 倒立/ 摆是/ 一个二维/ 平面/ 中/ 的/ 运动/ 系统/ ,/ 自由度/ 为/ 1/ ,/ 任何时刻/ 其/ 状态/ 可/ 由/ 一级/ 摆杆/ 摆动/ 原点/ O1/ 在/ X/ -/ Z/ 平面/ 中/ 的/ 投影/ [/ O1y/ ,/ O1z/ ]/ 和/ 摆动/ 角度/ γ/ 共/ 3/ 个/ 变量/ 及其/ 导数/ 确定/ ./ 其/ 运动/ 参数/ 与/ 人体/ 的/ 运动/ 数据/ 对应/ 关系/ 如下/ :/ 关节/ 角度/ 与/ 角速度/ ,/ 其它/ 符号/ 说明/ 见/ 4.3/ ./ 1/ 节/ ./ 5/ 二阶/ 倒立/ 摆/ 运动/ 仿真/ 我们/ 称/ 二阶/ 倒立/ 摆/ 状态/ 的/ 4/ 个/ 变量/ 及其/ 导数/ 为/ 状态/ 量/ 犛/ ,/ 用户/ 控制/ 量/ 以及/ 环境变量/ (/ 步频/ 、/ 两脚间/ 跨幅/ 、/ 步幅/ 、/ 落脚点/ 高度/ )/ 为/ 控制/ 量/ 犝/ ./ 其中/ ,/ φ/ ·/ 表示/ 二级/ 摆/ 角速度/ ,/ θ/ ·/ 表示/ 一级/ 摆/ 角速度/ ,/ Tstep/ ,/ Bstep/ ,/ Lstep/ ,/ Hstep/ 分别/ 表示/ 本次/ 摆动/ 腿/ 着/ 地/ 的/ 时间/ 、/ 两脚间/ 距离/ 、/ 步幅/ 、/ 落脚点/ 的/ 高度/ ./ 本节/ 详细/ 介绍/ 如何/ 根据/ 运动/ 控制/ 量/ 犝/ 与/ 二阶/ 倒立/ 摆本/ 帧/ 的/ 状态/ 量/ 犛/ k/ 计算/ 下/ 一帧/ 的/ 状态/ 量/ 犛/ k/ +/ 1/ 以及/ 二阶/ 倒立/ 摆/ 的/ 关节/ 力矩/ ./ 二阶/ 倒立/ 摆/ 模型/ 动力学/ 方程/ 如下/ :/ 其中/ ,/ τ/ φ/ ,/ τ/ θ/ 为/ O2/ ,/ O1/ 关节/ 处/ 的/ 关节/ 力矩/ ,/ 犗/ ·/ ·/ O1/ ,/ O2/ 关节/ 中心/ 在/ 世界/ 坐标系/ 中/ X/ 方向/ 的/ 加速度/ ,/ m/ ,/ g/ 表示/ 人体/ 的/ 质量/ 和/ 重力/ 加速度/ ./ 人体/ 步行/ 中/ 膝关节/ 为/ 被动/ 关节/ ,/ 可令/ τ/ φ/ 为/ 0/ ./ 另外/ ,/ 人体/ 运动/ 中/ 两个/ 摆动/ 角度/ 均/ 较/ 小/ ,/ 可令/ 其中/ K/ 为/ 待定/ 系数/ ./ 二阶/ 倒立/ 摆/ 动力学/ 方程/ (/ 4/ )/ 的/ 通解/ 为/ θ/ (/ t/ )/ =/ A1/ ×/ e/ λ/ ×/ t/ +/ A2/ ×/ e/ -/ λ/ ×/ t/ φ/ (/ t/ )/ =/ B1/ ×/ e/ λ/ ×/ t/ +/ B2/ ×/ e/ -/ λ/ ×/ t/ +/ C1/ ×/ t/ +/ C2/ 其中/ t/ 表示/ 时间/ 变量/ ,/ A1/ ,/ A2/ ,/ B1/ ,/ B2/ ,/ C1/ ,/ C2/ ,/ λ/ 均/ 为/ 待定/ 系数/ ,/ 由本/ 帧/ 的/ 状态/ 量/ 犛/ k/ 、/ 控制/ 量/ 犝/ 与/ 关节/ 力矩/ τ/ θ/ 共同/ 确定/ ./ 我们/ 可以/ 根据/ 控制变量/ 犝/ 计算/ 出/ 摆动/ 角/ 在/ 着/ 地/ 时刻/ 的/ 值/ θ/ 0/ (/ Tstep/ )/ ,/ φ/ 0/ (/ Tstep/ )/ ,/ 从而/ 我们/ 可以/ 使用/ 如下/ 优化/ 模型/ (/ 7/ )/ 确定/ 二阶/ 倒立/ 摆/ 运动/ 方程/ 通解/ 式/ (/ 6/ )/ 中/ 的/ 待定/ 系数/ ,/ 同时/ 计算/ 得到/ 二阶/ 倒立/ 摆/ 模型/ 本/ 时刻/ 的/ 关节/ 力矩/ τ/ θ/ ./ min/ τ/ θ/ ,/ K/ θ/ (/ t/ )/ -/ θ/ 0/ (/ t/ )/ 2/ +/ φ/ (/ t/ )/ -/ φ/ 0/ (/ t/ )/ 2subjectto/ θ/ (/ t/ )/ =/ A1/ ×/ e/ λ/ ×/ t/ +/ A2/ ×/ e/ -/ λ/ ×/ t/ φ/ (/ t/ )/ =/ B1/ ×/ e/ λ/ ×/ t/ +/ B2/ ×/ e/ -/ λ/ ×/ t/ +/ C1/ ×/ t/ +/ C2t/ =/ TstepPage6Z/ -/ Y/ 平面/ 中/ 的/ 倒立/ 摆/ 模型/ 是/ 二阶/ 倒立/ 摆/ 的/ 简化/ 形式/ ,/ 限于/ 篇幅/ ,/ 本文/ 重点/ 介绍/ 二阶/ 倒立/ 摆/ 的/ 相关/ 内容/ ,/ Z/ -/ Y/ 平面/ 的/ 运动/ 不再/ 介绍/ ./ 6/ 人体/ 关节/ 力矩/ 计算/ 在/ 得到/ 二阶/ 倒立/ 摆/ 的/ 关节/ 力矩/ τ/ θ/ 以及/ 下/ 一帧/ 状态/ 量/ Sk/ +/ 1/ 后/ ,/ 本/ 节/ 介绍/ 如何/ 通过/ 二次/ 规划/ 计算/ 人体/ 各/ 关节/ 力矩/ 以及/ 地面/ 接触力/ 从而/ 驱动/ 全身/ 运动/ ./ 6.1/ 二次/ 规划/ 的/ 优化/ 变量/ 由于/ 人体/ 与/ 外界/ 的/ 接触力/ 不可/ 测/ ,/ 所以/ 在/ 每/ 一个/ 时刻/ ,/ 人体/ 运动/ 合成/ 控制器/ 需要/ 计算/ 得到/ 如下/ 两种/ 作用力/ (/ 矩/ )/ 信息/ :/ 人体/ 关节/ 力矩/ 、/ 人体/ 与/ 地面/ 的/ 接触力/ ./ 而/ 为了/ 能/ 将/ 约束/ 写作/ 二次/ 规划/ 形式/ ,/ 我们/ 将/ 关节/ 加速度/ 信息/ 也/ 添加/ 到/ 优化/ 变量/ 中/ ./ 从而/ 二次/ 规划/ 的/ 优化/ 变量/ 为/ 其中/ τ/ ,/ 狇/ ·/ ·/ ,/ δ/ 分别/ 代表/ 人体/ 各/ 关节/ 力矩/ 、/ 各/ 关节/ 角/ 的/ 加速度/ 以及/ 接触力/ 的/ 摩擦/ 锥/ 加权/ 系数/ (/ 参见/ 6.2/ 节/ )/ ./ 6.2/ 二次/ 规划/ 的/ 约束条件/ 基于/ 物理/ 的/ 人体/ 运动/ 合成/ ,/ 首先/ 需要/ 人体/ 运动/ 满足/ 动力学/ 方程/ ,/ 故/ 添加/ 人体/ 动力学/ 方程/ 作为/ 二次/ 规划/ 的/ 约束条件/ :/ τ/ =/ 犕/ (/ 狇/ )/ 狇/ ·/ ·/ +/ 犆/ (/ 狇/ ,/ 狇/ ·/ )/ 狇/ ·/ 2/ +/ 犑/ T/ (/ 狇/ )/ ×/ 犉/ +/ 犌/ (/ 狇/ )/ (/ 9/ )/ 其中/ ,/ 犕/ ,/ 犆/ ,/ 犉/ ,/ 犌/ 分别/ 代表/ 人体/ 多/ 刚体/ 动力学/ 系统/ 的/ 惯量/ 矩阵/ 、/ 非/ 惯性/ 项/ 、/ 外界/ 接触力/ 以及/ 重力/ 项/ ,/ 犑/ 为/ 将/ 广义坐标/ 映射/ 到/ 世界坐标/ 的/ 雅克/ 比/ 矩阵/ ./ 而/ 其中/ 人体/ 与/ 地面/ 的/ 接触力/ ,/ 本文/ 采用/ 库伦/ 摩擦/ 锥/ 模型/ [/ 14/ ]/ ,/ 即/ 其中/ ,/ 犞/ 代表/ 摩擦/ 锥/ 的/ 线性/ 基/ ,/ 有/ 四组/ ,/ δ/ 为/ 摩擦/ 锥/ 的/ 加权/ 系数/ ,/ 是/ 二次/ 规划/ 的/ 优化/ 变量/ ./ 6.3/ 二次/ 规划/ 的/ 目标/ 函数/ 基于/ 低维/ 模型/ 合成/ 物理/ 真实/ 人体/ 运动/ ,/ 首先/ 要/ 保证/ 运动/ 真实/ ,/ 其次/ 要/ 与/ 低维/ 物理/ 模型/ 的/ 仿真/ 结果/ 相吻合/ ,/ 最后/ 要/ 尽量/ 满足/ 生物力学/ 规律/ 与/ 用户/ 控制/ 条件/ ./ 按照/ 上述/ 各项/ 的/ 物理/ 真实性/ 重要/ 程度/ ,/ 我们/ 分别/ 添加/ 如下/ 目标/ 函数/ ./ 6.3/ ./ 1/ 物理/ 真实性/ 二阶/ 倒立/ 摆/ 模型/ 运动/ 方程/ 成立/ 的/ 一个/ 物理/ 条件/ 是/ ,/ 支撑点/ 与/ 地面/ 的/ 接触/ 为/ 完整/ 约束/ ./ 所以/ 我们/ 首先/ 添加/ 接触点/ 的/ 完整/ 约束条件/ :/ 其中/ ,/ 犪/ contact/ 表示/ 接触点/ 在/ 世界/ 坐标系/ 中/ 的/ 运动/ 加速度/ ,/ 文中/ 即/ 支撑/ 腿/ 踝关节/ 中心/ 的/ 加速度/ ./ 由于/ 该/ 约束条件/ 在/ 实际/ 优化/ 中/ 很/ 难/ 满足/ ,/ 我们/ 将/ 其/ 写作/ 目标/ 函数/ 形式/ :/ 6.3/ ./ 2/ 生成/ 运动/ 与/ 低维/ 模型/ 吻合/ 为了/ 使/ 生成/ 的/ 人体/ 运动/ 与/ 低维/ 模型/ 仿真/ 结果/ 吻合/ ,/ 二次/ 规划/ 模型/ 要求/ 人体/ 下肢/ 运动/ 数据/ 与/ 低维/ 模型/ 运动/ 相吻合/ :/ OBJ2/ =/ φ/ ·/ ·/ +/ q/ ·/ ·/ 其中/ ,/ φ/ ·/ ·/ ,/ θ/ ·/ ·/ 分别/ 表示/ 二阶/ 倒立/ 摆/ 两个/ 摆角/ 的/ 加速度/ ,/ hip/ _/ y/ ,/ q/ ·/ ·/ q/ ·/ ·/ 节/ 角加速度/ ./ 6.3/ ./ 3/ 用户/ 高层/ 控制/ 与/ 生物力学/ 原理/ 在/ 满足/ 了/ 上述/ 两点/ 之后/ ,/ 合成/ 的/ 人体/ 运动/ 还/ 需要/ 满足/ 如下/ 控制/ 条件/ 以及/ 人体/ 运动/ 生物力学/ 规律/ :/ (/ 1/ )/ 摆动/ 腿/ 在/ 摆动/ 周期/ 中/ 平稳/ 到达/ 目标/ 位置/ ;/ (/ 2/ )/ 运动/ 中/ 人体/ 姿态/ 尽量/ 与/ 标准/ 姿态/ 接近/ ;/ (/ 3/ )/ 绕/ Z/ 轴/ 方向/ 角动量/ 守恒/ ;/ (/ 4/ )/ 头部/ 与/ 质心/ 的/ 相对/ 位置/ 尽量/ 保持/ 不变/ ./ 我们/ 将/ 这些/ 目标/ 函数/ 写作/ :/ OBJ3/ =/ 犘/ swing/ -/ 犘/ swing02/ +/ 狇/ -/ 狇/ 02/ +/ 其中/ ,/ 犘/ swing/ ,/ 犘/ swing0/ 分别/ 表示/ 摆动/ 腿/ 的/ 落地/ 点/ 、/ 用户/ 控制/ 的/ 落脚点/ 目标/ ,/ 狇/ 0/ 表示/ 人体/ 的/ 标准/ 姿态/ ,/ AM/ 表示/ 人体/ 绕/ Z/ 轴/ 的/ 角动量/ ,/ 犇/ 犻/ 狊/ 为/ 头顶/ 与/ 质心/ 的/ 相对/ 位置/ ,/ 犇/ 犻/ 狊/ 0/ 为/ 标准/ 姿态/ 时/ 头顶/ 与/ 质心/ 的/ 相对/ 位置/ ./ 综合/ 上述/ 三者/ ,/ 我们/ 得到/ 了/ 合成/ 人体/ 运动/ 的/ 二次/ 规划/ 模型/ 如下/ :/ minx/ ∑/ 3subjectto/ τ/ =/ 犕/ (/ 狇/ )/ 狇/ ·/ ·/ +/ 犆/ (/ 狇/ ,/ 狇/ ·/ )/ 狇/ ·/ 2/ +/ 犑/ T/ (/ 狇/ )/ ×/ 犉/ +/ 犌/ (/ 狇/ )/ 犉/ =/ 犞/ δ/ 其中/ ,/ / i/ ,/ i/ =/ 1/ ,/ 2/ ,/ 3/ 为/ 3/ 种/ 目标/ 函数/ 项/ 的/ 加权/ 系数/ ,/ 我们/ 在/ 实验/ 中/ 设置/ 为/ / 1/ =/ 100/ ;/ / 2/ =/ 10/ ;/ / 3/ =/ 1/ 通过/ 求解/ 该/ 二次/ 规划/ 模型/ (/ 15/ )/ ,/ 可/ 实时/ 得到/ 各/ 关节/ 力矩/ ,/ 从而/ 驱动/ 人体/ 全身/ 运动/ ./ 7/ 结果/ 与/ 讨论/ 在/ 本文/ 的/ 所有/ 实验/ 中/ ,/ 人体模型/ 由/ 13/ 个/ 关节/ 组成/ ,/ 共/ 34/ 个/ 自由度/ ./ 在/ 一台/ 配有/ 2.83/ GHz/ 酷睿/ 2/ 双核/ 处理器/ 和/ 4GB/ 内存/ 的/ PC机/ 上/ ,/ 本文/ 方法/ 能够/ 实时/ 生成/ 满足用户要求/ 的/ 人体/ 运动/ ./ Page7/ 我们/ 首先/ 展示/ 了/ 本文/ 方法/ 能够/ 生成/ 不同/ 参数/ 的/ 人体/ 运动/ ,/ 然后/ 将/ 本文/ 方法/ 与/ 基于/ 弹簧/ 倒立/ 摆/ 的/ 方法/ 进行/ 了/ 详细/ 实验/ 对比/ ,/ 最后/ 我们/ 将/ 基于/ 低维/ 物理/ 模型/ 方法/ 与/ 其他/ 类/ 合成/ 方法/ 在/ 可控性/ 、/ 鲁棒性/ 等/ 方面/ 进行/ 了/ 对比/ ./ 7.1/ 不同/ 运动/ 参数/ 的/ 人体/ 运动/ 合成/ 7.1/ ./ 1/ 不同/ 运动/ 参数/ 的/ 人体/ 运动/ 我们/ 首先/ 设置/ 不同/ 的/ 步态/ 参数/ ,/ 如/ 步频/ 、/ 步幅/ 、/ 步行/ 中/ 两脚间/ 跨幅/ 、/ 摆动/ 腿/ 抬腿/ 高度/ 等/ ,/ 合成/ 不同/ 的/ 人体/ 运动/ ./ 如图/ 7/ ,/ 我们/ 分别/ 合成/ 了/ 不同/ 步幅/ 的/ 人体/ 运动/ ,/ 上下/ 两组/ 运动/ 的/ 步行/ 速度/ 均/ 为/ 1m/ // s/ ,/ 上面/ 一组/ 运动/ 的/ 步幅/ 为/ 0.6/ m/ ,/ 而/ 下面/ 一组/ 运动/ 的/ 步幅/ 为/ 0.3/ m/ ./ 如图/ 8/ 所示/ ,/ 我们/ 可以/ 控制/ 人体/ 步行/ 中/ 的/ 双脚/ 跨幅/ ,/ 图中/ 左方/ 运动/ 的/ 两脚/ 跨幅/ 为/ 0.05/ m/ ,/ 而图/ 中/ 右方/ 运动/ 两脚/ 的/ 跨幅/ 为/ 0.3/ m/ ./ 我们/ 还/ 能/ 对/ 摆动/ 腿/ 的/ 最高点/ 、/ 步频/ 、/ 手臂/ 摆动/ 幅度/ 等/ 步态/ 参数/ 进行/ 控制/ ,/ 由于/ 篇幅/ 的/ 限制/ ,/ 不再/ 一一/ 展示/ ./ 7.1/ ./ 2/ 上下/ 台阶/ 动作/ 除了/ 平地上/ 的/ 运动/ ,/ 该/ 算法/ 能够/ 实现/ 人体/ 上/ 下坡/ 、/ 上下/ 台阶/ 的/ 运动/ ./ 我们/ 设置/ 一个/ 有/ 九层/ 台阶/ ,/ 每/ 一个/ 台阶/ 0.1/ m/ 的/ 场景/ ,/ 使用/ 该/ 算法/ 控制/ 人体/ 通过/ 该/ 场景/ ,/ 效果/ 如图/ 9.7/ ./ 2/ 二阶/ 倒立/ 摆/ 与/ 弹簧/ 倒立/ 摆/ 模型/ 的/ 对比/ 在/ 第/ 3/ 节/ ,/ 我们/ 提到/ 了/ 相比/ 于/ 其他/ 的/ 低维/ 物理/ 模型/ ,/ 本文/ 提出/ 的/ 二阶/ 倒立/ 摆/ 模型/ 从/ 几何/ 上/ 和/ 物理/ 上/ 都/ 提高/ 了/ 下肢/ 运动/ 的/ 逼真性/ ./ 在/ 本/ 小节/ ,/ 我们/ 选取/ 其中/ 一种/ 具有/ 代表性/ 的/ 模型/ -/ 弹性/ 倒立/ 摆/ 模型/ [/ 9/ ]/ ,/ 分别/ 从/ 这/ 两/ 方面/ 与/ 之/ 进行/ 了/ 对比/ ./ 7.2/ ./ 1/ 膝关节/ 运动/ 由于/ 两种/ 物理/ 模型/ 都/ 是/ 二维/ 模型/ ,/ 只有/ 2/ 个/ 运动/ 自由度/ ./ 为了/ 能够/ 更加/ 直接/ 地/ 对比/ 两种/ 模型/ ,/ 我们/ 分别/ 基于/ 两种/ 低维/ 物理/ 模型/ 合成/ 了/ 二维/ 的/ 人体/ 运动/ ,/ 其/ 对比/ 效果/ 如图/ 10/ ,/ 图中/ 圆圈/ 标注/ 了/ 人体/ 简单/ 二维/ 模型/ 的/ 关节/ ./ 从图/ 10/ 中/ 可以/ 看出/ ,/ 基于/ 弹簧/ 倒立/ 摆/ 模型/ 合成/ 的/ 人体/ 运动/ 中/ ,/ 下肢/ 在/ 运动/ 中/ 基本上/ 处于/ 压缩/ 状态/ ,/ 这是/ 由于/ 弹簧/ 倒立/ 摆/ 模型/ 中/ ,/ 人体/ 质量/ 全部/ 由/ 一根/ 压缩/ 的/ 弹簧/ 支撑/ ,/ 从而/ 导致/ 了/ 其/ 生成/ 的/ 运动/ “/ 蹑手蹑脚/ ”/ ./ 而/ 二阶/ 倒立/ 摆/ 模型/ 生成/ 的/ 人体/ 运动/ 则/ 更加/ 自然/ ,/ 与/ 人体/ 步行/ 运动/ 相像/ ./ 此外/ ,/ 基于/ 两种/ 低维/ 模型/ 生成/ 的/ 三维/ 运动/ 对/ 比如/ 图/ 11/ ,/ 我们/ 从/ 三维/ 结果/ 展示/ 中/ 同样/ 能/ 看出/ 基于/ 弹图/ 10/ 弹簧/ 倒立/ 摆/ (/ a/ )/ 与/ 二阶/ 倒立/ 摆/ 二维/ (/ b/ )/ 结果/ 对比/ 图/ 11/ 弹性/ 倒立/ 摆/ (/ 后/ )/ 与/ 二阶/ 倒立/ 摆/ (/ 前/ )/ 的/ 三维/ 结果/ 对比/ Page8/ 本/ 小节/ ,/ 我们/ 从/ 膝关节/ 的/ 发力/ 情况/ 上/ 对比/ 了/ 两簧/ 倒立/ 摆/ 模型/ 生成/ 的/ 人体/ 运动/ (/ 图/ 11/ 后/ )/ ,/ 其/ 下肢/ 数据/ 明显/ 处于/ 压缩/ 状态/ ,/ 而/ 基于/ 二阶/ 倒立/ 摆/ 模型/ 生成/ 的/ 运动/ (/ 图/ 11/ 前/ )/ 则/ 更加/ 自然/ 真实/ ./ 7.2/ ./ 2/ 膝关节/ 发力/ 情况/ 对比/ 种/ 低维/ 物理/ 模型/ ./ 我们/ 首先/ 采集/ 了/ 38/ 组/ 正常/ 的/ 人体/ 步行/ 数据/ ,/ 通过/ 逆向/ 动力学/ 计算/ 膝关节/ 在/ 支撑/ 周期/ 中/ 的/ 发力/ 情况/ ./ 将/ 步行/ 周期/ 做/ 归一化/ 处理/ 后/ ,/ 我们/ 取/ 38/ 组/ 运动/ 中/ 膝关节/ 的/ 力矩/ 平均值/ 作为/ 人体/ 步行/ 中/ 膝关节/ 发力/ 的/ 真实情况/ ,/ 用于/ 评价/ 不同/ 的/ 低维/ 物理/ 模型/ 生成/ 运动/ 中/ 膝关节/ 的/ 发力/ 真实性/ ./ 如图/ 12/ ,/ 图中/ 三角/ 实线/ 为/ 人体/ 步行/ 中/ 膝关节/ 的/ 真实/ 发力/ ,/ 菱形/ 实线/ 为/ 弹簧/ 倒立/ 摆/ 模型/ 生成/ 的/ 人体/ 运动/ 中/ 膝关节/ 力矩/ ,/ 而/ 空心/ 圆圈/ 虚线/ 则/ 是/ 二阶/ 倒立/ 摆/ 模型/ 得到/ 的/ 人体/ 运动/ 中/ 膝关节/ 的/ 力矩/ ./ 从图/ 12/ 中/ 可以/ 看出/ ,/ 弹簧/ 倒立/ 摆/ 模型/ 生成/ 的/ 人体/ 运动/ 中/ ,/ 膝关节/ 力矩/ 是/ 真实/ 人体/ 运动/ 中/ 膝关节/ 力矩/ 的/ 5/ 倍/ 以上/ ,/ 而/ 二阶/ 倒立/ 摆/ 模型/ 生成/ 的/ 人体/ 运动/ 中/ ,/ 其/ 膝关节/ 的/ 发力/ 情况/ 与/ 人体/ 真实/ 步行/ 中/ 的/ 发力/ 情况/ 近似/ 吻合/ ./ 7.3/ 与/ 其他/ 方法/ 的/ 对比/ 基于/ 物理/ 的/ 人体/ 运动/ 合成/ 与/ 控制/ 方法/ 大致/ 可以/ 分为/ 以下/ 几类/ :/ 轨迹/ 规划法/ ;/ 基于/ 控制器/ 的/ 方法/ ;/ 运动/ 捕获/ 数据/ 驱动/ 方法/ ;/ 基于/ 低维/ 物理/ 模型/ 的/ 方法/ ./ 本文/ 方法/ 属于/ 基于/ 低维/ 物理/ 模型/ 的/ 方法/ ,/ 与/ 其他/ 类/ 方法/ 相比/ ,/ 本文/ 方法/ 无需/ 使用/ 运动/ 捕获/ 数据/ ,/ 也/ 无需/ 耗时/ 离线/ 优化/ ./ 除此之外/ ,/ 我们/ 就/ 可控性/ 、/ 鲁棒性/ 等/ 人体/ 运动/ 合成/ 控制/ 中/ 的/ 基本/ 衡量/ 指标/ ,/ 利用/ “/ 高/ 、/ 中/ 、/ 低/ ”/ 3/ 个/ 评价/ 用语/ ,/ 对/ 不同/ 类型/ 的/ 人体/ 合成/ 与/ 控制/ 方法/ 进行/ 了/ 对比/ ,/ 见表/ 1/ ./ 方法/ 可控性/ 鲁棒性/ 泛用性/ 计算/ 效率/ 轨迹/ 规划法/ 中低/ 高/ 离线/ 优化/ 数/ 小时/ 控制器/ 方法/ 低/ 高低/ 1000/ 帧/ // s/ 运动/ 捕获/ 数据/ 低中/ 中/ 方法/ 相关/ 低维/ 物理/ 模型/ 高/ 高中/ 100/ 帧/ // s8/ 结论/ 与/ 下/ 一步/ 工作/ 本文/ 提出/ 了/ 一种/ 新颖/ 的/ 二阶/ 倒立/ 摆/ 模型/ 用于/ 控制/ 生成/ 物理/ 真实/ 的/ 人体/ 运动/ ./ 该/ 方法/ 首先/ 将/ 人体/ 运动/ 状态/ 映射/ 为/ 一个/ 二阶/ 倒立/ 摆/ 物理/ 模型/ ,/ 然后/ 根据/ 步态/ 控制参数/ 与/ 环境/ 约束/ ,/ 对/ 二阶/ 倒立/ 摆/ 进行/ 运动/ 仿真/ ,/ 最后/ 基于/ 二阶/ 倒立/ 摆/ 的/ 运动/ ,/ 结合/ 人体/ 运动/ 规律/ ,/ 通过/ 优化/ 合成/ 人体/ 的/ 全身/ 运动/ ./ 该/ 方法/ 既/ 不/ 需要/ 使用/ 运动/ 捕获/ 数据/ ,/ 也/ 无须/ 耗时/ 的/ 优化/ 计算/ ./ 与/ 现有/ 的/ 基于/ 低维/ 物理/ 模型/ 的/ 人体/ 运动/ 合成/ 方法/ 相比/ ,/ 二阶/ 倒立/ 摆/ 模型/ 能够/ 更加/ 准确/ 地/ 描述/ 膝关节/ 的/ 几何/ 运动/ 与/ 运动/ 发力/ 情况/ ,/ 合成/ 更加/ 自然/ 逼真/ 的/ 人体/ 运动/ ./ 虽然/ 本文/ 对于/ 人体/ 的/ 步行/ 运动/ 合成/ 与/ 控制/ 取得/ 了/ 较/ 好/ 的/ 效果/ ,/ 但是/ 下/ 一步/ 希望/ 能够/ 将/ 该/ 方法/ 作/ 进一步/ 扩展/ ,/ 如/ 生成/ 不同/ 风格/ 的/ 步行/ 运动/ ,/ 生成/ 人体/ 跑步/ 运动/ 等/ ./ 一种/ 值得/ 尝试/ 的/ 方案/ 是/ 结合/ 运动/ 捕获/ 数据/ ,/ 通过/ 二阶/ 倒立/ 摆/ 来/ 控制/ 人体/ 质心/ 的/ 运动/ ,/ 而/ 根据/ 运动/ 捕获/ 数据/ ,/ 控制/ 全身/ 的/ 运动/ 风格/ ./ 

