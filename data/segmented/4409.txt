Page1/ 大规模/ 图像/ 特征/ 检索/ 中/ 查询/ 结果/ 的/ 自/ 适应/ 过滤/ 艾列富/ 1/ )/ ,/ 2/ )/ 于俊清/ 1/ )/ 管涛/ 1/ )/ 何云峰/ 1/ )/ 1/ )/ (/ 华中科技大学/ 计算机科学/ 与/ 技术/ 学院/ 武汉/ 430074/ )/ 2/ )/ (/ 安庆/ 师范学院/ 计算机/ 与/ 信息/ 学院/ 安徽/ 安庆/ 246133/ )/ 摘要/ 针对/ 大规模/ 图像/ 的/ 快速/ 检索/ 问题/ ,/ 提出/ 了/ 面向/ 倒排/ 索引/ 结构/ 的/ 检索/ 方法/ 中/ 查询/ 结果/ 的/ 自/ 适应/ 过滤/ 方法/ :/ 全面/ 过滤/ 和/ 不/ 完全/ 过滤/ ./ 目的/ 是/ 在/ 不/ 影响/ 查询/ 精度/ 的/ 前提/ 下/ ,/ 提高/ 查询/ 效率/ ./ 根据/ 查询/ 特征/ 所在/ 的/ 空间/ 位置/ ,/ 全面/ 过滤/ 通过/ 构造/ 以/ 查询/ 特征/ 点为/ 球心/ 的/ 超/ 球体/ 并/ 自/ 适应/ 地/ 计算/ 半径/ ,/ 只/ 对/ 位于/ 超/ 球体/ 内部/ 的/ 查询/ 结果/ 进行/ 排序/ ,/ 从而/ 减少/ 需要/ 排序/ 的/ 查询/ 结果/ 数量/ ,/ 提高/ 查询/ 效率/ ./ 在/ 此基础/ 上/ ,/ 为了/ 降低/ 过滤/ 查询/ 结果/ 的/ 时间/ 开销/ ,/ 不/ 完全/ 过滤/ 将/ 倒/ 排列/ 表/ 划分/ 为/ 若/ 个子/ 倒/ 排列/ 表并/ 将/ 对应/ 的/ 聚类/ 中心/ 用于/ 过滤/ 查询/ 结果/ ./ 为了/ 验证/ 所/ 提出/ 方法/ 的/ 有效性/ ,/ 以/ 一种/ 典型/ 检索/ 方法/ :/ 基于/ 残差/ 量化/ 的/ 检索/ 方法/ 为/ 应用/ 实例/ ,/ 分别/ 将/ 全面/ 过滤/ 和/ 不/ 完全/ 过滤/ 与/ 该/ 检索/ 方法/ 相结合/ ./ 此外/ ,/ 为了/ 提高/ 特征/ 量化/ 效率/ ,/ 将/ 一种/ 欧式/ 距离/ 下限/ 定理/ 与/ 残差/ 量化/ 相结合/ 并/ 用于/ 过滤/ 特征/ 量化/ 过程/ 中非/ 近邻/ 聚类/ 中心/ ./ 通过/ 在/ 公开/ 数据/ 集/ 进行/ 实验/ ,/ 实验/ 结果表明/ 在/ 保证/ 具有/ 相同/ 平均/ 查全率/ 的/ 前提/ 下/ ,/ 全面/ 过滤/ 和/ 不/ 完全/ 过滤/ 都/ 能/ 明显/ 减少/ 基于/ 残差/ 量化/ 的/ 检索/ 方法/ 的/ 查询/ 时间/ ,/ 不/ 完全/ 过滤/ 比/ 全面/ 过滤/ 具有/ 更快/ 的/ 检索/ 速度/ ./ 此外/ ,/ 非/ 近邻/ 聚类/ 中心/ 过滤/ 可以/ 有效/ 提高/ 残差/ 量化/ 的/ 特征/ 量化/ 效率/ ./ 关键词/ 大规模/ 图像/ 特征/ ;/ 查询/ 结果/ ;/ 自/ 适应/ 过滤/ ;/ 超/ 球体/ ;/ 距离/ 下限/ 1/ 引言/ 随着/ 互联网/ 和/ 多媒体技术/ 的/ 发展/ ,/ 以/ 图像/ 为/ 代表/ 的/ 多媒体信息/ 呈现/ 爆炸性/ 增长/ ./ 面对/ 海量/ 的/ 图像/ 库/ ,/ 只有/ 对/ 图像/ 进行/ 有效/ 地/ 组织/ 以便/ 于/ 浏览/ 、/ 搜索/ 和/ 检索/ ,/ 人们/ 才能/ 快速/ 和/ 准确/ 地/ 获取/ 视觉/ 上/ 相似/ 的/ 图片/ ./ 因此/ ,/ 如何/ 在/ 保证/ 具有/ 较/ 好/ 查询/ 精度/ 的/ 情况/ 下/ 快速/ 检索/ 到/ 相似/ 图像/ 至关重要/ ./ 类似/ 于/ kd/ 树/ [/ 1/ -/ 2/ ]/ 的/ 树形/ 检索/ 方法/ 虽然/ 在/ 低维/ 特征/ 空间/ 上/ 具有/ 较/ 好/ 的/ 检索/ 效率/ ,/ 但是/ 随着/ 维度/ 的/ 增加/ ,/ 其/ 搜索/ 效率/ 就/ 会/ 不断/ 降低/ ,/ 最终/ 退化/ 到/ 复杂度/ 为/ O/ (/ nd/ )/ 的/ 线性/ 检索/ ./ 类似/ 于/ E2LSH/ [/ 3/ ]/ 的/ 位置/ 敏感/ 哈希/ 方法/ 通过/ 一组/ 哈希/ 函数/ ,/ 将/ 相似/ 的/ 图像/ 特征/ 映射/ 到/ 哈希/ 表中/ 相同/ 桶/ 或者/ 邻近/ 桶/ ./ 迄今为止/ ,/ E2LSH/ 已/ 成功/ 应用/ 于/ 局部/ 描述符/ [/ 4/ ]/ 和/ 三维/ 物体/ [/ 5/ ]/ 的/ 索引/ 与/ 检索/ ./ 相对/ 于/ 稀疏/ 特征向量/ ,/ E2LSH/ 对/ 致密/ 特征向量/ 具有/ 更好/ 的/ 检索/ 性能/ ./ 然而/ ,/ E2LSH/ 需要/ 计算/ 查询/ 特征/ 与/ 查询/ 结果/ 集中/ 所有/ 特征/ 之间/ 的/ 欧式/ 距离/ 并/ 排序/ ,/ 这/ 意味着/ 图像/ 的/ 原始/ 视觉/ 特征/ 需要/ 存储/ 在/ 计算机/ 内存/ 中/ ,/ 从而/ 在/ 一定/ 程度/ 上/ 影响/ 了/ E2LSH/ 的/ 检索/ 速度/ 和/ 可以/ 处理/ 的/ 图像/ 库/ 规模/ ./ 为了/ 降低/ 存储空间/ ,/ 哈希/ 编码方法/ ,/ 如谱/ 哈希/ (/ SpectralHasing/ )/ [/ 6/ ]/ 、/ 球形/ 哈希/ (/ SphericalHashing/ )/ [/ 7/ ]/ 、/ k/ -/ means/ 哈希/ (/ k/ -/ meansHashing/ )/ [/ 8/ ]/ 、/ 随机/ 最大/ 边缘/ 哈希/ (/ RandomMaximumMarginHashing/ )/ [/ 9/ ]/ 以及/ 迭代/ 量化/ (/ IterativeQuantization/ )/ [/ 10/ ]/ 等/ ,/ 利用/ 哈希/ 函数/ 将/ 相似/ 的/ 特征/ 映射/ 为/ 相同/ 或者/ 汉明/ 距离/ 相近/ 的/ 二进制/ 编码/ ./ 这类/ 方法/ 同样/ 需要/ 对/ 所有/ 查询/ 结果/ 进行/ 排序/ ,/ 虽然/ 其/ 使用/ 的/ 汉明/ 距离/ 较/ 欧式/ 距离/ 可以/ 大幅提高/ 排序/ 速度/ ,/ 但是/ ,/ 汉明/ 距离/ 的/ 区分/ 能力/ 受限于/ 其/ 采用/ 的/ 二进制/ 编码/ 的/ 长度/ ./ 从/ 文本检索/ 引入/ 视觉/ 检索/ ,/ 基于/ 倒排/ 索引/ 的/ 图像/ 检索/ 方法/ [/ 11/ ]/ 近年来/ 得到/ 了/ 广泛/ 的/ 研究/ 与/ 应用/ ./ 倒排/ 索引/ 结构/ 中/ 每个/ 倒/ 排列/ 表由/ 一个/ 视觉/ 单词/ 指示/ ./ 每个/ 索引/ 列表/ 相当于/ 一个/ 聚类/ ,/ 对应/ 的/ 聚类/ 中心/ 即/ 为/ 视觉/ 单词/ ./ 构建/ 倒排/ 索引/ 时/ ,/ 图像/ 的/ 视觉/ 特征/ 被/ 插入/ 到/ 距离/ 最近/ 的/ 视觉/ 单词/ 对应/ 的/ 倒/ 排列/ 表/ ./ 为了/ 降低/ 倒排/ 索引/ 结构/ 所/ 需/ 的/ 存储空间/ ,/ 目前/ 已有/ 一些/ 有损压缩/ 方法/ 以及/ 特征/ 量化/ 方法/ 用于/ 对/ 图像/ 特征/ 进行/ 编码/ ,/ 从而/ 大幅/ 降低/ 图像/ 特征/ 的/ 存储/ 需求/ ./ 这些/ 方法/ 主要/ 包括/ 汉明/ 嵌入/ [/ 12/ -/ 13/ ]/ 、/ 非对称/ 汉明/ 嵌入/ [/ 14/ ]/ 、/ mini/ -/ BOF/ [/ 15/ ]/ 、/ 积/ 量化/ [/ 16/ -/ 17/ ]/ 、/ 残差/ 量化/ [/ 18/ ]/ 以及/ 转换/ 编码/ [/ 19/ ]/ 等/ ./ 传统/ 倒排/ 索引/ 结构/ 中倒/ 排列/ 表数/ 即/ 为/ 需要/ 训练/ 的/ 聚类/ 中心/ 数/ ./ 倒/ 排列/ 表/ 的/ 规模/ 越大/ ,/ 对/ 数据/ 集/ 的/ 划分/ 粒度/ 则/ 越细/ ,/ 但是/ 训练/ 聚类/ 中心/ 所/ 花费/ 的/ 时间/ 开销/ 就/ 越/ 大/ ./ 文献/ [/ 20/ ]/ 利用/ 积/ 量化/ 将/ 特征向量/ 分为/ 2/ 段/ 并/ 在/ 子/ 向量/ 空间/ 上/ 分别/ 训练/ k/ 个/ 聚类/ 中心/ ,/ 从而/ 构建/ 包含/ k2/ 个/ 索引/ 列表/ 的/ 倒排/ 索引/ 结构/ ./ 倒/ 排列/ 表/ 对应/ 的/ 聚类/ 中心/ 为/ 这/ 2/ 组聚类/ 中心/ 的/ 串联/ 向量/ ./ 图像/ 特征/ 检索/ 时/ ,/ 基于/ 倒排/ 索引/ 的/ 图像/ 检索/ 方法/ 首先/ 查找/ 若干个/ 近邻/ 倒/ 排列/ 表/ ,/ 然后/ 将/ 对应/ 倒/ 排列/ 表中/ 所有/ 特征/ 点/ 都/ 作为/ 查询/ 结果/ 并/ 排序/ ./ 目前/ 面向/ 倒排/ 索引/ 的/ 检索/ 方法/ 通常/ 将/ 距离/ 查询/ 特征/ 最近/ 的/ 若干个/ 视觉/ 单词/ 对应/ 的/ 倒/ 排列/ 表中/ 所有/ 特征/ 都/ 作为/ 查询/ 结果/ 并/ 用于/ 排序/ ./ 因而/ ,/ 查询/ 结果/ 的/ 数量/ 是/ 影响/ 查询/ 速度/ 的/ 一个/ 重要/ 因素/ ./ 实际上/ ,/ 与/ 查询/ 特征/ 相似/ 的/ 仅仅/ 是/ 空间/ 位置/ 位于/ 查询/ 特征/ 周围/ 的/ 特征/ 点/ ./ 如果/ 能够/ 对/ 查询/ 结果/ 进行/ 有效/ 地/ 过滤/ ,/ 只/ 将/ 位于/ 查询/ 特征/ 周围/ 位置/ 的/ 查询/ 结果/ 用于/ 排序/ ,/ 将/ 对/ 提升/ 查询/ 速度/ 具有/ 重要/ 意义/ ./ 本文/ 提出/ 面向/ 倒排/ 索引/ 结构/ 的/ 两种/ 基于/ 自/ 适应/ 超/ 球体/ 的/ 查询/ 结果/ 过滤/ 方法/ :/ 全面/ 过滤/ 和/ 不/ 完全/ 过滤/ ./ 全面/ 过滤/ 方法/ 为/ 每个/ 查询/ 特征/ 点自/ 适应/ 地/ 构造/ 以其为/ 球心/ 的/ 超/ 球体/ ,/ 只/ 对/ 查询/ 结果/ 中/ 位于/ 超/ 球体/ 内部/ 的/ 特征/ 点/ 进行/ 排序/ ,/ 从而/ 减少/ 排序/ 的/ 特征/ 点数/ ,/ 提高/ 查询/ 速度/ ./ 在/ 此基础/ 上/ ,/ 不/ 完全/ 过滤/ 方法/ 通过/ 降低/ 过滤/ 查询/ 结果/ 的/ 计算/ 量/ ,/ 进一步提高/ 查询/ 效率/ ./ 以/ 基于/ 残差/ 量化/ 的/ 检索/ 方法/ 为/ 应用/ 实例/ ,/ 将/ 提出/ 的/ 自/ 适应/ 过滤/ 方法/ 应用/ 于/ 该/ 检索/ 方法/ 并/ 通过/ 实验/ 证明/ 查询/ 结果/ 的/ 全面/ 过滤/ 和/ 不/ 完全/ 过滤/ 在/ 不/ 影响/ 查询/ 精度/ 的/ 前提/ 下/ ,/ 可以/ 明显/ 减少/ 查询/ 时间/ ./ 此外/ ,/ 目前/ 的/ 量/ Page3/ 化/ 方法/ ,/ 如积/ 量化/ [/ 16/ -/ 17/ ]/ 、/ 残差/ 量化/ [/ 18/ ]/ 等/ ,/ 都/ 是/ 采用/ 硬/ 匹配/ 方法/ ,/ 即/ 计算/ 输入/ 图像/ 特征/ 与/ 量化/ 器/ 每个/ 聚类/ 中心/ 的/ 距离/ 再/ 找到/ 距离/ 最近/ 的/ 聚类/ 中心/ 作为/ 该层/ 的/ 量化/ 结果/ ./ 因而/ ,/ 随着/ 聚类/ 中心/ 的/ 数量/ 或者/ 图像/ 特征/ 规模/ 增大/ ,/ 其/ 特征/ 量化/ 的/ 时间/ 开销/ 呈/ 线性/ 增长/ ./ 文献/ [/ 21/ ]/ 提出/ 了/ 一种/ 基于/ 下限/ 过滤/ 的/ 精确/ 最近/ 邻/ 查找/ 方法/ 用于/ 图像/ 分类/ ./ 本文/ 将/ 利用/ 文献/ [/ 21/ ]/ 提出/ 的/ 欧式/ 距离/ 下限/ 同/ 残差/ 量化/ 方法/ 相结合/ 以/ 提高/ 特征/ 量化/ 的/ 效率/ ./ 本文/ 第/ 2/ 节/ 介绍/ 相关/ 工作/ ;/ 第/ 3/ 节/ 分别/ 论述/ 提出/ 的/ 两种/ 查询/ 结果/ 自/ 适应/ 过滤/ 方法/ 及其/ 在/ 基于/ 残差/ 量化/ 的/ 检索/ 方法/ 中/ 的/ 应用/ ;/ 第/ 4/ 节/ 描述/ 基于/ 下限/ 过滤/ 的/ 特征/ 量化/ ;/ 第/ 5/ 节是/ 实验/ 性能/ 评测/ 和/ 比较/ ;/ 第/ 6/ 节对/ 全文/ 进行/ 总结/ 和/ 讨论/ ./ 2/ 相关/ 工作/ 传统/ 基于/ 倒排/ 索引/ 的/ 图像/ 检索/ 方法/ 通常/ 在/ 倒排/ 索引/ 结构/ 中/ 查找/ 距离/ 查询/ 图像/ 的/ 视觉/ 特征/ 最近/ 的/ w/ (/ w/ / 1/ )/ 个/ 视觉/ 单词/ [/ 16/ ,/ 18/ ]/ ,/ 并/ 将/ 这些/ 视觉/ 单词/ 对应/ 的/ 倒/ 排列/ 表中/ 所有/ 视觉/ 特征/ 都/ 作为/ 查询/ 结果/ ./ 如果/ 最终/ 查询/ 结果/ 只/ 需要/ knn/ 个/ 相似/ 的/ 视觉/ 特征/ ,/ 则/ 需要/ 进一步/ 计算/ 查询/ 特征/ 与/ 所有/ 查询/ 结果/ 之间/ 的/ 欧式/ 距离/ 并/ 排序/ ./ 基于/ 残差/ 量化/ 的/ 检索/ 方法/ [/ 18/ ]/ 是/ 在/ 传统/ 面向/ 倒排/ 索引/ 的/ 检索/ 方法/ 的/ 基础/ 上/ 提出/ 的/ 一种/ 基于/ 量化/ 的/ 搜索/ 方法/ ./ 构建/ 倒排/ 索引/ 结构/ 时/ ,/ 首先/ 类似/ 于/ 传统/ 方法/ ,/ 根据/ 用/ k/ -/ means/ 训练/ 得到/ 的/ 视觉/ 单词/ 本/ υ/ =/ {/ c1/ ,/ c1/ ,/ …/ ,/ ck/ }/ ,/ 将/ 特征/ xi/ 插入/ 到/ 距离/ 最近/ 的/ 视觉/ 单词/ 对应/ 的/ 倒/ 排列/ 表/ ,/ 其/ 计算方法/ 如式/ (/ 1/ )/ 所示/ :/ 其中/ ,/ cx/ 为/ 距离/ xi/ 最近/ 的/ 视觉/ 单词/ ,/ d/ (/ xi/ ,/ cj/ )/ 为/ xi/ 与/ 索引/ 结构/ 中/ 各/ 视觉/ 单词/ 之间/ 的/ 欧氏/ 距离/ ./ 然后/ ,/ 将/ 利用/ 残差/ 量化/ 方法/ 对/ xi/ 进行/ 量化/ 得/ 的/ 编码/ 保存/ 到/ 对应/ 的/ 倒/ 排列/ 表/ ./ 图/ 1/ 为/ 对应/ 的/ 倒排/ 索引/ 示意图/ ,/ 每个/ 倒/ 排列/ 表/ 对应/ 一个/ 视觉/ 单词/ ,/ 相当于/ 一个/ 聚类/ ,/ 倒/ 排列/ 表/ 的/ 每个/ 节点/ 存储/ 视觉/ 特征/ ID/ 及其/ 残差/ 量化/ 编码/ ./ 其/ 将/ xi/ 插入/ 倒排/ 索引/ 的/ 时间/ 复杂度/ 为/ O/ (/ k/ ×/ dim/ )/ ,/ 其中/ dim/ 为/ 特征/ 的/ 向量/ 维度/ ./ 类似/ 于/ 传统/ 检索/ 方法/ ,/ 基于/ 残差/ 量化/ 的/ 图像/ 检索/ 方法/ 首先/ 查找/ 距离/ 查询/ 特征/ 最近/ 的/ w/ 个/ 视觉/ 单词/ ;/ 然后/ 将/ 这/ w/ 个/ 视觉/ 单词/ 对应/ 的/ 倒/ 排列/ 表中/ 所有/ 特征/ 都/ 作为/ 初始/ 查询/ 结果/ ;/ 最后/ ,/ 利用/ 查询/ 特征/ 与/ 所有/ 查询/ 结果/ 之间/ 的/ 非对称/ 距离/ 来/ 对/ 查询/ 结果/ 进行/ 排序/ ,/ 最终/ 得到/ knn/ 个/ 最/ 相似/ 的/ 查询/ 结果/ ./ 3/ 基于/ 自/ 适应/ 超/ 球体/ 的/ 查询/ 结果/ 过滤/ 为了/ 只/ 对/ 查询/ 结果/ 中/ 空间/ 位置/ 位于/ 查询/ 特征/ 点/ 周围/ 的/ 特征/ 点/ 排序/ 以/ 减少/ 排序/ 特征/ 数量/ ,/ 提出/ 两种/ 基于/ 自/ 适应/ 超/ 球体/ 的/ 查询/ 结果/ 过滤/ 方法/ :/ 全面/ 过滤/ 和/ 不/ 完全/ 过滤/ ./ 为了/ 便于/ 下/ 一节/ 通过/ 实验/ 证明/ 所/ 提出/ 的/ 方法/ 在/ 不/ 影响/ 查询/ 精度/ 的/ 前提/ 下/ ,/ 可/ 有效/ 提高/ 面向/ 倒排/ 索引/ 的/ 检索/ 方法/ 的/ 查询/ 速度/ ,/ 本节/ 以/ 基于/ 残差/ 量化/ 的/ 检索/ 方法/ 为/ 应用/ 实例/ ,/ 对/ 查询/ 结果/ 的/ 自/ 适应/ 过滤/ 方法/ 进行/ 论述/ ./ 3.1/ 全面/ 过滤/ 对于/ 查询/ 图像/ 特征/ ,/ 在/ 检索/ 最近/ 的/ w/ 个/ 倒/ 排列/ 表后/ ,/ 查询/ 结果/ 的/ 全面/ 过滤/ 就/ 用于/ 对/ 这/ w/ 个/ 倒/ 排列/ 表中/ 的/ 特征/ 点/ 进行/ 过滤/ ,/ 得到/ 位于/ 查询/ 特征/ 点/ 周围/ 位置/ 的/ 特征/ 点/ 并/ 用于/ 排序/ ./ 其/ 关键在于/ 确定/ 一个/ 适当/ 的/ 半径/ ,/ 在/ 特征/ 空间/ 构造/ 一个/ 以/ 查询/ 特征/ 点为/ 球心/ 的/ 超/ 球体/ ,/ 过滤/ 掉/ 查询/ 结果/ 中/ 位于/ 超/ 球体/ 之外/ 的/ 特征/ 点/ ,/ 只/ 对/ 超/ 球体/ 内部/ 的/ 查询/ 结果/ 进行/ 排序/ ./ 给定/ 一个/ 倒排/ 索引/ 结构/ L/ =/ {/ l1/ ,/ l2/ ,/ …/ ,/ lk/ }/ ,/ 对应/ 的/ 聚类/ 中心/ 为/ C/ =/ {/ c1/ ,/ c2/ ,/ …/ ,/ ck/ }/ ./ 对于/ 查询/ 特征/ q/ ,/ 全面/ 过滤/ 应用/ 于/ 基于/ 残差/ 量化/ 的/ 检索/ 方法/ 的/ 具体/ 查询/ 过程/ 如下/ :/ 1/ ./ 分别/ 计算/ q/ 与/ C/ 中/ 所有/ 聚类/ 中心/ 的/ 欧式/ 距离/ d/ =/ {/ d1/ ,/ d2/ ,/ …/ ,/ dk/ }/ ;/ 2/ ./ 从/ d/ 中取/ 最小/ 的/ 前/ w/ 个/ 距离/ 值/ {/ dq/ ,/ 1/ ,/ dq/ ,/ 2/ ,/ …/ ,/ dq/ ,/ w/ }/ ,/ 并/ 将/ 对应/ 倒/ 排列/ 表中/ 所有/ 特征/ 点/ 都/ 作为/ 查询/ 结果/ RSq/ =/ {/ y1/ ,/ y2/ ,/ …/ ,/ ym/ }/ ;/ 3/ ./ 在/ 特征/ 空间/ 中/ 构建/ 以/ q/ 为/ 球心/ 的/ 超/ 球体/ ,/ 其中/ ,/ 超/ 球体/ 半径/ Radiusq/ 根据/ q/ 到/ 最近/ 的/ w/ 个/ 聚类/ 中心/ 的/ 距离/ dq/ ,/ i/ 利用/ 以下/ 公式/ 计算/ :/ 其中/ ,/ λ/ 为/ 比例/ 系数/ ,/ 用于/ 调整/ 半径/ 的/ 大小/ ,/ 目的/ 是/ 获得/ 不/ 影响/ 查询/ 精度/ 的/ 最小/ 半径/ ,/ 从而/ 尽可能/ 多地/ 过滤/ 掉/ 不/ 相似/ 查询/ 结果/ ;/ Page44/ ./ 利用/ 基于/ 残差/ 量化/ 的/ 检索/ 方法/ 中/ 非对称/ 距离/ 计算方法/ ,/ 计算/ 查询/ 特征/ q/ 与/ RSq/ 中/ 特征/ 之间/ 的/ 距离/ d/ (/ q/ ,/ yi/ )/ ,/ 只/ 保留/ 满足/ 式/ (/ 3/ )/ 的/ 查询/ 结果/ ,/ 得到/ 待/ 排序/ 查询/ 结果/ RSqnew/ =/ {/ y1/ ,/ y2/ ,/ …/ ,/ yb/ }/ ;/ d/ (/ q/ ,/ yi/ )/ =/ q/ -/ yi/ / Radiusq/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ m/ )/ (/ 3/ )/ 5/ ./ 根据/ RSqnew/ 中/ 特征/ 与/ 查询/ 特征/ 之间/ 的/ 距离/ 值/ 对/ 其/ 进行/ 排序/ ,/ 返回/ 距离/ 值/ 最小/ 的/ knn/ 个/ 特征/ 点/ 作为/ 最终/ 的/ 查询/ 结果/ ./ 其中/ ,/ 步/ 3/ 和步/ 4/ 为/ 查询/ 结果/ 全面/ 过滤/ 的/ 具体步骤/ ,/ 其余/ 步骤/ 与/ 传统/ 基于/ 倒排/ 索引/ 的/ 检索/ 方法/ 和/ 基于/ 残差/ 量化/ 的/ 检索/ 方法/ 相同/ ./ 全面/ 过滤/ 并/ 没有/ 改变/ 倒排/ 索引/ 结构/ 的/ 构建/ 方式/ ,/ 只是/ 在/ 特征/ 查询/ 过程/ 中/ ,/ 增加/ 了/ 查询/ 结果/ 过滤/ 的/ 机制/ ./ 因此/ ,/ 对于/ 倒排/ 索引/ 结构/ L/ =/ {/ l1/ ,/ l2/ ,/ …/ ,/ lk/ }/ ,/ 应用/ 全面/ 过滤/ 时/ 将/ 图像/ 特征/ x/ 插入/ 索引/ 结构/ 的/ 过程/ 类似/ 于图/ 1/ ,/ 其/ 时间/ 复杂度/ 依然/ 为/ O/ (/ k/ ×/ dim/ )/ ./ 3.2/ 不/ 完全/ 过滤/ 全面/ 过滤/ 方法/ 通过/ 在/ 特征/ 空间/ 中为/ 查询/ 特征/ 构造/ 一个/ 超/ 球体/ ,/ 将/ 位于/ 超/ 球体/ 之外/ 的/ 查询/ 结果/ 特征/ 点/ 过滤/ 掉/ ,/ 从而/ 减少/ 排序/ 的/ 查询/ 结果/ 数量/ ./ 然而/ ,/ 全面/ 过滤/ 需要/ 计算/ 查询/ 特征/ 与/ 查询/ 结果/ 中/ 所有/ 特征/ 的/ 距离/ 并/ 同/ 对应/ 的/ 超/ 球体/ 半径/ 进行/ 比较/ ./ 为了/ 进一步提高/ 查询/ 速度/ ,/ 不/ 完全/ 过滤/ 在/ 查询/ 结果/ 过滤/ 过程/ 中/ 减少/ 查询/ 结果/ 特征/ 与/ 查询/ 特征/ 之间/ 的/ 距离/ 计算/ 次数/ 图/ 2/ 不/ 完全/ 过滤/ 对应/ 的/ 倒排/ 索引/ 结构/ 示意图/ 对比/ 图/ 1/ 、/ 图/ 2/ 所示/ 的/ 倒排/ 索引/ 结构/ 相当于/ 将/ 图/ 1/ 中/ 每个/ 倒/ 排列/ 表/ Li/ 划分/ 为/ k2/ 类/ ,/ 形成/ k2/ 个子/ 倒/ 排列/ 表/ ,/ 并且/ Cci/ 中/ 的/ 聚类/ 中心/ cij/ 用于/ 标识/ 倒/ 排列/ 表/ Lij/ ./ 对于/ 查询/ 图像/ 特征/ q/ ,/ 结合/ 不/ 完全/ 过滤/ 的/ 基于/ 残差/ 量化/ 的/ 检索/ 方法/ 的/ 查询/ 过程/ 如下/ ./ 1/ ./ 分别/ 计算/ q/ 到/ 所有/ 聚类/ 中心/ C/ =/ {/ c1/ ,/ c2/ ,/ …/ ,/ ck1/ }/ 的/ 距离/ 得到/ D1/ =/ {/ d1/ ,/ d2/ ,/ …/ ,/ dk1/ }/ ;/ 2/ ./ 从/ D1/ 中/ 查找/ 距离/ 最小/ 的/ w/ 个值/ {/ dq/ ,/ 1/ ,/ dq/ ,/ 2/ ,/ …/ ,/ dq/ ,/ w/ }/ ,/ 其/ 对应/ 的/ 聚类/ 中心/ 为/ Ccq/ =/ {/ cq/ ,/ 1/ ,/ cq/ ,/ 2/ ,/ …/ ,/ cq/ ,/ w/ }/ ;/ 3/ ./ 将/ 与/ 这/ w/ 个/ 聚类/ 中心/ 对应/ 的/ 第/ 2/ 层聚类/ 中心/ 合并/ 形成/ 集合/ Ccq/ =/ ∪/ w/ 及其/ 同超/ 球体/ 半径/ 的/ 比较/ 次数/ ./ 为此/ ,/ 不/ 完全/ 过滤/ 通过/ 将/ 倒排/ 索引/ 结构/ 中倒/ 排列/ 表/ 划分/ 为/ 若干个/ 子/ 倒/ 排列/ 表并/ 将/ 对应/ 的/ 聚类/ 中心/ 用于/ 过滤/ 查询/ 结果/ ./ 该/ 过程/ 是/ 在/ 构建/ 倒排/ 索引/ 时/ 通过/ 训练/ 所/ 需聚类/ 中心/ 来/ 完成/ 的/ ./ 以图/ 1/ 所示/ 的/ 基于/ 残差/ 量化/ 的/ 检索/ 方法/ 的/ 索引/ 结构/ 为例/ ,/ 在/ 构建/ 倒排/ 索引/ 的/ 训练/ 阶段/ ,/ 利用/ 层次/ k/ -/ means/ 方法/ (/ Hierarchicalk/ -/ means/ ,/ HKM/ )/ [/ 22/ ]/ 在/ 一个/ 特征/ 样本/ 集上/ 训练/ 两层/ 聚类/ 中心/ :/ C/ 和/ {/ Cci/ }/ ./ 其中/ ,/ 第/ 1/ 层/ 包含/ k1/ 个/ 聚类/ 中心/ C/ =/ {/ c1/ ,/ …/ ,/ ci/ ,/ …/ ,/ ck1/ }/ ;/ ci/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ k1/ )/ 对应/ 的/ 聚类/ 被/ 再次/ 划分/ 为/ k2/ 类/ ,/ 对应/ 的/ 第/ 2/ 层聚类/ 中心/ 为/ Cci/ =/ {/ ci1/ ,/ …/ ,/ cij/ ,/ …/ ,/ cik2/ }/ ./ 将/ 图像/ 特征/ x/ 插入/ 索引/ 结构/ 时/ ,/ 首先/ 计算/ x/ 到/ C/ 中/ 各聚类/ 中心/ 的/ 距离/ 并/ 利用/ 式/ (/ 1/ )/ 找到/ 最近/ 的/ 聚类/ 中心/ ci/ ;/ 然后/ ,/ 计算/ x/ 到/ ci/ 对应/ 的/ Cci/ 中/ k2/ 个/ 聚类/ 中心/ 的/ 距离/ ,/ 同样/ 利用/ 式/ (/ 1/ )/ 找到/ 最近/ 的/ 聚类/ 中心/ cij/ ;/ 最后/ 将/ x/ 的/ ID/ 及其/ 元/ 数据/ 插入/ 到/ cij/ 对应/ 的/ 倒/ 排列/ 表/ ./ 因而/ ,/ 将/ x/ 插入/ 倒排/ 索引/ 结构/ 的/ 时间/ 复杂度/ 为/ O/ (/ (/ k1/ +/ k2/ )/ ×/ dim/ )/ ,/ 其中/ dim/ 为/ 特征/ 的/ 向量/ 维度/ ./ 如图/ 2/ 所示/ ,/ 若/ 将/ 不/ 完全/ 过滤/ 应用/ 于/ 基于/ 残差/ 量化/ 的/ 检索/ 方法/ 时/ ,/ 存入/ 倒/ 排列/ 表/ 的/ 元/ 数据/ 为/ 图像/ 特征/ 的/ 残差/ 量化/ 编码/ ./ 列表/ 中/ 特征/ 点/ 都/ 作为/ q/ 的/ 初始/ 查询/ 结果/ RSqo/ =/ ∪/ w4/ ./ 同/ 全面/ 过滤/ ,/ 在/ 特征/ 空间/ 中/ 构造/ 以/ q/ 为/ 球心/ 的/ 超/ 球体/ Sq/ ,/ 对应/ 的/ 超/ 球体/ 半径/ Radiusq/ 利用/ 式/ (/ 2/ )/ 根据/ q/ 到/ C/ 中/ 最近/ 的/ w/ 个/ 聚类/ 中心/ 的/ 距离/ 来/ 计算/ ;/ 5/ ./ 过滤/ 不/ 相似/ 查询/ 结果/ :/ 计算/ 查询/ 特征/ q/ 与/ Ccq/ 中/ 所有/ 聚类/ 中心/ ccq/ ,/ ij/ 之间/ 的/ 欧式/ 距离/ ,/ 利用/ 式/ (/ 4/ )/ 过滤/ 不/ 相似/ 查询/ 结果/ ,/ 得到/ 待/ 排序/ 查询/ 结果/ 集合/ RSq/ =/ ∪/ wccq/ ,/ ij/ )/ / Rq/ )/ :/ d/ (/ q/ ,/ ccq/ ,/ ij/ )/ =/ x/ -/ ccq/ ,/ ij/ / Radiusq/ (/ i/ =/ 1/ ,/ …/ ,/ w/ ,/ j/ =/ 1/ ,/ …/ ,/ k2/ )/ 如果/ ccq/ ,/ ij/ 位于/ 超/ 球体/ 的/ 内部/ ,/ 就/ 认为/ 对应/ 倒/ 排列/ 表/ lcq/ ,/ i/ ,/ j/ 中/ 所有/ 特征/ 点/ 都/ 与/ q/ 相似/ ,/ 反之/ 不/ 相似/ ./ 由于/ 每个/ 倒/ 排列/ 表/ Page5lcq/ ,/ ij/ 相当于/ 一个/ 聚类/ ,/ 聚类/ 里/ 的/ 所有/ 特征/ 都/ 认为/ 是/ 与/ 聚类/ 中心/ ccq/ ,/ ij/ 相似/ 的/ ,/ 因此/ 可以/ 用/ ccq/ ,/ ij/ 来/ 代表/ lcq/ ,/ ij/ 中/ 特征/ 并/ 用于/ 不/ 相似/ 特征/ 过滤/ ;/ 6/ ./ 利用/ 基于/ 残差/ 量化/ 的/ 检索/ 方法/ 中/ 非对称/ 距离/ 方法/ ,/ 根据/ 查询/ 特征/ q/ 与/ RSq/ 中/ 特征/ 之间/ 的/ 距离/ 进行/ 排序/ ,/ 返回/ 距离/ 最小/ 的/ knn/ 个/ 查询/ 结果/ ./ 相比/ 查询/ 结果/ 的/ 全面/ 过滤/ ,/ 不/ 完全/ 过滤/ 通过/ 将/ 每个/ 倒/ 排列/ 表/ 再次/ 划分/ 为/ k2/ 个/ 聚类/ 并/ 将/ 对应/ 的/ 聚类/ 中心/ 代表/ 对应/ 的/ 子类/ ,/ 用于/ 非/ 相似/ 特征/ 的/ 过滤/ ,/ 从而/ 大幅度降低/ 了/ 过滤/ 非/ 相似/ 特征/ 时/ 距离/ 计算/ 次数/ ./ 在/ 都/ 检索/ 最近/ 的/ w/ 个/ 聚类/ 中心/ 后/ ,/ 得到/ 在/ 初始/ 的/ 查询/ 结果/ 中/ 特征/ 数量/ 为/ n/ 的/ 前提/ 下/ ,/ 如果/ 经/ 全面/ 过滤/ 用于/ 排序/ 的/ 特征/ 点/ 数量/ 为/ n/ 并且/ 采用/ 快速/ 排序/ 算法/ 对/ 其/ 排序/ ,/ 那么/ 应用/ 全面/ 过滤/ 的/ 检索/ 方法/ 的/ 复杂度/ 为/ Ο/ (/ n/ ×/ dim/ +/ nlogn/ )/ ;/ 如果/ 经/ 不/ 完全/ 过滤/ 用于/ 排序/ 的/ 特征/ 点/ 数量/ 为/ n/ ,/ 同样/ 采用/ 快速/ 排序/ 对/ 其/ 排序/ ,/ 那么/ 应用/ 不/ 完全/ 过滤/ 的/ 检索/ 方法/ 的/ 复杂度/ 为/ Ο/ (/ (/ w/ ×/ k2/ +/ n/ )/ ×/ dim/ +/ nlogn/ )/ ,/ dim/ 为/ 特征/ 维度/ ./ 4/ 基于/ 下线/ 过滤/ 的/ 特征/ 量化/ 利用/ 文献/ [/ 21/ ]/ 提出/ 的/ 基于/ 下限/ 过滤/ 的/ 非/ 近邻/ 查找/ 方法/ ,/ 本文/ 以/ 残差/ 量化/ 为例/ ,/ 将/ 其/ 与/ 残差/ 量化/ 相结合/ ,/ 以/ 提高/ 图像/ 特征/ 量化/ 和/ 编码/ 的/ 效率/ ./ 文献/ [/ 21/ ]/ 提出/ 了/ 一种/ 计算/ 特征向量/ 之间/ 欧式/ 距离/ 下限/ 的/ 定理/ :/ d/ (/ x/ ,/ y/ )/ 2/ / dim/ ×/ (/ (/ μ/ x/ -/ μ/ y/ )/ 2/ +/ (/ σ/ x/ -/ σ/ y/ )/ 2/ )/ =/ lb/ (/ x/ ,/ y/ )/ 其中/ ,/ dim/ 为/ 图像/ 特征向量/ 的/ 维度/ ,/ μ/ x/ 、/ μ/ y/ 、/ σ/ x/ 和/ σ/ y/ 分别/ 是/ x/ 和/ y/ 中/ 向量/ 分量/ 的/ 均值/ 和/ 标准差/ ./ (/ μ/ x/ -/ μ/ y/ )/ 2/ +/ (/ σ/ x/ -/ σ/ y/ )/ 2/ 即为/ 两个/ 二维/ 向量/ (/ μ/ x/ ,/ σ/ x/ )/ 和/ (/ μ/ y/ ,/ σ/ y/ )/ 的/ 欧式/ 距离/ 平方/ ./ 通过/ 将式/ (/ 5/ )/ 与/ 残差/ 量化/ 相结合/ ,/ 在/ 一个二维/ 空间/ 计算/ 待/ 量化/ 特征/ 与/ 聚类/ 中心/ 之间/ 欧式/ 距离/ 的/ 下限/ 并/ 过于/ 过滤/ 非/ 近邻/ 聚类/ 中心/ 和/ 寻找/ 距离/ 最近/ 聚类/ 中心/ ,/ 进而/ 提高/ 特征/ 量化/ 的/ 效率/ ./ 其/ 量化/ 图像/ 特征/ 的/ 具体/ 过程/ 如/ 算法/ 1/ 所示/ ./ 算法/ 1/ ./ 结合/ 距离/ 下限/ 过滤/ 的/ 残差/ 量化/ 方法/ ./ 输入/ :/ 图像/ 特征/ x/ ,/ μ/ x/ ,/ σ/ x/ ;/ RVQ/ 码书/ :/ {/ Cl/ }/ =/ {/ {/ cli/ }/ }/ ,/ 输出/ :/ 量化/ 结果/ {/ cnearest1/ ./ FORl/ =/ 1/ →/ L2/ ./ 从/ Cl/ 随机/ 选取/ 一个/ 聚类/ 中心/ c/ 作为/ 种子/ cnearest3/ ./ 计算/ 欧式/ 距离/ min/ _/ d/ ←/ d/ (/ x/ ,/ cnearest4/ ./ FORi/ =/ 1/ →/ k5/ ./ IFlb/ (/ x/ ,/ cli/ )/ / min/ _/ dTHEN6/ ./ CONTINUE7/ ./ ELSE8/ ./ 计算/ d/ (/ x/ ,/ cli/ )/ 29/ ./ IFd/ (/ x/ ,/ cli/ )/ 2/ / min/ _/ dTHEN10/ ./ CONTINUE11/ ./ ELSE12/ ./ cnearest13/ ./ min/ _/ d/ ←/ d/ (/ x/ ,/ cli/ )/ 214/ ./ ENDIF15/ ./ ENDIF16/ ./ ENDFOR17/ ./ x/ ←/ x/ -/ cnearest18/ ./ ENDFOR19/ ./ RETURN/ {/ cnearest/ 同/ 残差/ 量化/ ,/ 图像/ 特征/ x/ 按照/ 从/ 第/ 1/ 层到/ 第/ L/ 层/ 的/ 顺序/ 进行/ 量化/ ,/ 每层/ 量化/ 的/ 输入/ 为/ 上/ 一层/ 量化/ 误差/ ./ 在/ 每/ 一层/ 的/ 特征/ 量化/ 过程/ 中/ ,/ 首先/ 从/ k/ 个/ 聚类/ 中心/ 中/ 随机/ 选择/ c/ 作为/ 初始/ 最近/ 邻聚类/ 中心/ (/ 种子/ 点/ )/ 并/ 将/ 距离/ d/ (/ x/ ,/ cnearestmin/ _/ d/ (/ 第/ 2/ ~/ 3/ 行/ )/ ./ cnearest/ 前/ 最新/ 精确/ 最近/ 邻聚类/ 中心/ (/ 第/ 4/ ~/ 17/ 行/ )/ ./ 当/ lb/ (/ x/ ,/ cli/ )/ / min/ _/ d/ 时/ ,/ 使用/ 距离/ 下限/ 可以/ 有效/ 过滤/ 聚类/ 中心/ cli/ ./ 当/ x/ 与/ cli/ 之间/ 的/ 距离/ 下限/ 满足/ lb/ (/ x/ ,/ cli/ )/ / min/ _/ d/ 时/ ,/ 就/ 说明/ x/ 到/ cli/ 的/ 的/ 欧式/ 距离/ d/ (/ x/ ,/ cli/ )/ 2/ 一定/ 满足/ d/ (/ x/ ,/ cli/ )/ 2/ / min/ _/ d/ ,/ 因此/ cli/ 肯定/ 不是/ x/ 的/ 最近/ 邻聚类/ 中心/ 而/ 被/ 过滤/ 掉/ ./ 反之/ ,/ 则/ 需要/ 进一步/ 计算/ d/ (/ x/ ,/ cli/ )/ 2/ 并/ 与/ min/ _/ d/ 进行/ 比较/ ./ 相比/ 在/ 原始/ 高维/ 特征/ 空间/ 上/ 计算/ 特征向量/ x/ 与/ 聚类/ 中心/ cli/ 之间/ 的/ 距离/ d/ (/ x/ ,/ cli/ )/ 2/ ,/ 在/ 一个二维/ 特征/ 空间/ 上/ 计算/ 两个/ 2/ 维/ 向量/ 之间/ 的/ 距离/ 会/ 大幅/ 降低/ 计算/ 量/ ./ 因此/ ,/ 算法/ 1/ 可以/ 明显提高/ 残差/ 量化/ 的/ 量化/ 效率/ ,/ 尤其/ 当/ 高维/ 图像/ 特征/ 以及/ 大规模/ 图像/ 特征/ ,/ 其/ 提升/ 效果/ 将/ 更为/ 明显/ ./ 相比/ 硬/ 匹配/ 方法/ 需要/ 计算/ 图像/ 特征/ x/ 到/ 所有/ 聚类/ 中心/ 的/ 距离/ ,/ 其/ 复杂度/ 是/ 线性/ 依赖于/ 聚类/ 中心/ 的/ 数量/ ,/ 而/ 算法/ 1/ 通过/ 欧式/ 距离/ 下限/ 过滤/ 非/ 近邻/ 聚类/ 中心/ ,/ 只/ 需要/ 计算/ x/ 到/ 部分/ 聚类/ 中心/ 的/ 距离/ d/ (/ x/ ,/ cli/ )/ 2/ ./ 因此/ ,/ 结合/ 距离/ 下限/ 过滤/ 的/ 残差/ 量化/ 方法/ 的/ 量化/ 效率/ 是/ 非线性/ 依赖于/ 聚类/ 中心/ 数量/ 的/ ./ 5/ 实验/ 5.1/ 实验/ 数据/ 集/ 和/ 实验/ 环境/ 本文/ 将/ 在/ 公开/ 的/ sift/ 特征/ 数据/ 集/ [/ 16/ ]/ 和/ gist/ 数/ Page6/ 据/ 集上/ 测试/ 和/ 评估/ 全面/ 过滤/ 和/ 不/ 完全/ 过滤/ 的/ 近邻/ 搜索/ 性能/ ./ 数据/ 集/ 的/ 具体/ 信息/ 如表/ 1/ 所示/ ./ 数据/ 集/ 特征/ 维度/ 训练/ 集/ 规模/ 数据库/ 规模/ 查询/ 集/ 规模/ sift128100000100000010000gist960500000100000010000/ 所有/ 实验/ 都/ 是/ 在/ 一台/ IntelCorei52/ ./ 8GHzCPU/ ,/ 4GB/ 内存/ 的/ PC/ ,/ MATLAB2011/ 环境/ 下/ 完成/ 的/ ./ 5.2/ 基于/ 残差/ 量化/ 的/ 检索/ 性能/ 表/ 2/ 给出/ 了/ sift/ 和/ gist/ 数据/ 集上/ 基于/ 残差/ 量化/ 的/ 检索/ 方法/ 对于/ 参数/ k/ ∈/ {/ 64/ ,/ 256/ ,/ 1024/ }/ 和/ w/ 值/ 获得/ 的/ 最高/ 平均/ 查全率/ (/ Recall/ @/ R/ )/ 及/ 查询/ 速度/ ./ 其中/ ,/ R/ 为/ 最终/ 排序/ 返回/ 的/ 查询/ 结果/ 数/ ,/ 设为/ 100/ ;/ k/ 与/ w/ 分别/ 为/ 索引/ 结构/ 中倒/ 排列/ 表数/ 和/ 查找/ 的/ 倒/ 排列/ 表数/ ./ 后面/ 的/ 实验/ 将/ 在/ 表/ 2/ 所示/ 的/ 参数设置/ (/ k/ ,/ w/ )/ 的/ 基础/ 上/ ,/ 对/ 全面/ 过滤/ 和/ 不/ 完全/ 过滤/ 应用/ 于/ 基于/ 残差/ 量化/ 的/ 检索/ 方法/ 时/ 得到/ 的/ 查询/ 性能/ 进行/ 评估/ 并/ 将/ 其/ 与/ 表/ 2/ 所示/ 的/ 实验/ 结果/ 比较/ ,/ 目的/ 是/ 证明/ 所/ 提出/ 的/ 基于/ 自/ 适应/ 超/ 球体/ 的/ 查询/ 结果/ 过滤/ 方法/ 可以/ 为/ 面向/ 倒排/ 索引/ 的/ 检索/ 方法/ 有效/ 地/ 降低/ 待/ 排序/ 特征/ 点数/ 和/ 提高/ 查询/ 速度/ ./ 表/ 2/ 基于/ 残差/ 量化/ 的/ 检索/ 在/ 各种/ 索引/ 结构/ 下/ 的/ 检索/ 性能/ siftRecall/ @/ 100/ 查询/ 时间/ // ms/ 排序/ 的/ 特征/ 点数/ k/ =/ 64/ ,/ w/ =/ 80.9421/ ./ 8140280k/ =/ 256/ ,/ w/ =/ 160.9411/ ./ 8k/ =/ 1024/ ,/ w/ =/ 320.956/ ./ 9k/ =/ 64/ ,/ w/ =/ 80.6627/ ./ 1163139k/ =/ 256/ ,/ w/ =/ 160.6615/ ./ 95.3/ 评估/ 最优/ 的/ 比例/ 系数/ λ/ 5.3/ ./ 1/ 全面/ 过滤/ 中/ λ/ 根据/ 表/ 2/ 提供/ 的/ 参数/ (/ k/ ,/ w/ )/ ,/ 表/ 3/ 和表/ 4/ 分别/ 是/ 应用/ 了/ 全面/ 过滤/ 的/ 基于/ 残差/ 量化/ 的/ 检索/ 方法/ 在/ sift/ 和/ gist/ 数据/ 集上/ 对于/ 不同/ 比例/ 系数/ λ/ 的/ 查询/ 性能/ ,/ 其中/ k/ 与/ w/ 分别/ 为/ 索引/ 结构/ 中倒/ 排列/ 表/ 对应/ 的/ 聚类/ 中心/ 总数/ 和/ 查找/ 的/ 聚类/ 中心/ 数/ ./ λ/ 用于/ 调整/ 超/ 球体/ 的/ 范围/ ,/ 目的/ 是/ 获得/ 一个/ 最优/ λ/ 值/ ,/ 从而/ 构造/ 最小/ 的/ 超/ 球体/ ,/ 在/ 保持/ 查询/ 精度/ 不变/ 的/ 前提/ 下/ ,/ 最大/ 程度/ 上/ 降低/ 排序/ 的/ 特征/ 点/ 数量/ 和/ 提高/ 查询/ 速度/ ./ 查询/ 特征/ x/ 与/ 聚类/ 中心/ ci/ (/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ k/ )/ 的/ 平方/ 距离/ d/ (/ x/ ,/ ci/ )/ 2/ 如式/ (/ 6/ )/ 所示/ :/ d/ (/ x/ ,/ ci/ )/ 2/ =/ x/ -/ ci2/ =/ x2/ +/ ci2/ -/ 2/ 〈/ x/ ,/ ci/ 〉/ (/ 6/ )/ 其中/ ,/ x2/ 和/ ci2/ 分别/ 是/ 特征向量/ x/ 和/ 聚类/ 中心/ cigist/ 的/ 模/ 的/ 平方/ ,/ 〈/ x/ ,/ ci/ 〉/ 为/ x/ 和/ ci/ 的/ 向量/ 内积/ ./ 表/ 3/ 不同/ λ/ 时/ 全面/ 过滤/ 在/ sift/ 数据/ 集上/ 的/ 查询/ 性能/ sift/ λ/ Recall/ @/ 100/ 查询/ 时间/ // ms/ 排序/ 的/ 特征/ 点数/ k/ =/ 64/ ,/ w/ =/ 80.980/ ./ 9415.39783/ 犽/ =/ 64/ ,/ 狑/ =/ 81.000/ ./ 9414.87852/ k/ =/ 64/ ,/ w/ =/ 81.100/ ./ 9213.62494/ k/ =/ 256/ ,/ w/ =/ 160.980/ ./ 949.35455/ 犽/ =/ 256/ ,/ 狑/ =/ 161.000/ ./ 948.74160/ k/ =/ 256/ ,/ w/ =/ 161.100/ ./ 898.2991/ k/ =/ 1024/ ,/ w/ =/ 320.980/ ./ 955.83125/ 犽/ =/ 1024/ ,/ 狑/ =/ 321.000/ ./ 955.62315/ k/ =/ 1024/ ,/ w/ =/ 321.100/ ./ 865.1457/ 表/ 4/ 不同/ λ/ 时/ 全面/ 过滤/ 在/ gist/ 数据/ 集上/ 的/ 查询/ 性能/ gist/ λ/ Recall/ @/ 100/ 查询/ 时间/ // ms/ 排序/ 的/ 特征/ 点数/ k/ =/ 64/ ,/ w/ =/ 80.980/ ./ 6618.515188/ 犽/ =/ 64/ ,/ 狑/ =/ 81.000/ ./ 6618.08868/ k/ =/ 64/ ,/ w/ =/ 81.100/ ./ 3516.42541/ k/ =/ 256/ ,/ w/ =/ 160.980/ ./ 6611.68340/ 犽/ =/ 256/ ,/ 狑/ =/ 161.000/ ./ 6610.94561/ k/ =/ 256/ ,/ w/ =/ 161.100/ ./ 3110.61255/ 计算/ x/ 到/ ci/ 距离/ 的/ 最终/ 目的/ 是/ 为了/ 得到/ 距离/ 最近/ 的/ w/ 个/ 聚类/ 中心/ ,/ 而/ 计算/ x/ 到/ 所有/ 聚类/ 中心/ 的/ 距离/ 都/ 要/ 计算/ x2/ ,/ 因而/ ,/ 是否/ 计算/ 其模值/ x2/ 并/ 不/ 影响/ 找到/ 最近/ 的/ w/ 个/ 聚类/ 中心/ ,/ 因此/ ,/ 为了/ 降低/ 计算/ 量/ ,/ 利用/ D/ (/ x/ ,/ ci/ )/ 来/ 代替/ x/ 到/ ci/ 的/ 平方/ 距离/ d/ (/ x/ ,/ ci/ )/ 2/ ,/ D/ (/ x/ ,/ ci/ )/ 的/ 计算/ 方式/ 如式/ (/ 7/ )/ :/ D/ (/ x/ ,/ ci/ )/ =/ d/ (/ x/ ,/ ci/ )/ 2/ -/ x2/ =/ ci2/ -/ 2/ 〈/ x/ ,/ ci/ 〉/ (/ 7/ )/ 当/ 在/ sift/ 和/ gist/ 数据/ 集上/ 用/ 程序实现/ 全面/ 过滤/ 方法/ 时/ ,/ 发现/ D/ (/ x/ ,/ ci/ )/ 均/ 为/ 负数/ ./ 因此/ ,/ 用/ D/ (/ x/ ,/ ci/ )/ 替换/ 式/ (/ 2/ )/ 中/ dq/ ,/ i/ 时/ ,/ 对应/ 的/ 超/ 球体/ 半径/ Radiusq/ 就/ 变成/ 了/ 负数/ ./ 因而/ ,/ λ/ 越大则/ 超/ 球体/ 的/ 半径/ 越小/ ,/ 反之/ ,/ 超/ 球体/ 的/ 半径/ 就/ 越/ 大/ ./ Radiusq/ 主要/ 是/ 作为/ 一个/ 阈值/ 用于/ 过滤/ 查询/ 结果/ 中非/ 相似/ 特征/ ./ 为了/ 统一/ ,/ q/ 到/ 所有/ 查询/ 结果/ 之间/ 的/ 距离/ d/ (/ q/ ,/ y/ )/ 同样/ 用/ D/ (/ x/ ,/ y/ )/ 来/ 代替/ 并/ 利用/ 式/ (/ 7/ )/ 计算/ ./ 从表/ 3/ 和表/ 4/ 可以/ 看出/ ,/ 对于/ 不同/ 规模/ 的/ 索引/ 结构/ ,/ 当/ λ/ =/ 1/ 时/ ,/ 应用/ 了/ 全面/ 过滤/ 的/ 基于/ 残差/ 量化/ 的/ 检索/ 方法/ 都/ 能/ 在/ Recall/ @/ R/ 与/ 原始/ 方法/ 相同/ 的/ 情况/ 下/ 获得/ 最快/ 的/ 查询/ 速度/ ,/ 因而/ λ/ 的/ 最优/ 取值/ 为/ 1/ ./ 此外/ 还/ 说明/ ,/ 对于/ 全面/ 过滤/ 来说/ ,/ 超/ 球体/ 半径/ 中/ 比例/ 系数/ λ/ 的/ 取值/ 不/ 依赖于/ k/ 和/ w/ 以及/ 数据/ 集/ 类型/ ./ 5.3/ ./ 2/ 不/ 完全/ 过滤/ 中/ λ/ 表/ 5/ 和表/ 6/ 分别/ 给出/ 了/ sift/ 和/ gist/ 数据/ 集上/ 应用/ 了/ 不/ 完全/ 过滤/ 的/ 基于/ 残差/ 量化/ 的/ 检索/ 方法/ 在/ 不同/ 参数/ (/ k1/ ,/ w/ ,/ k2/ )/ 下/ 对于/ 不同/ 比例/ 系数/ λ/ 的/ 查询/ 性能/ ./ 其中/ ,/ k1/ 和/ w/ 取值/ 与/ 全面/ 过滤/ 中/ k/ 和/ w/ 的/ 取值/ 相同/ ,/ k2/ ∈/ {/ 4/ ,/ 16/ ,/ 32/ ,/ 48/ ,/ 64/ }/ ./ 同样/ 采用/ 全面/ 过滤/ 中/ 的/ Page7/ 表/ 5sift/ 数据/ 集上/ 不/ 完全/ 过滤/ 对于/ 不同/ λ/ 的/ 查询/ 性能/ siftk2/ λ/ Recall/ @/ 100/ 查询/ k1/ =/ 64/ ,/ w/ =/ 840.970/ ./ 9410.870486/ 犽/ 1/ =/ 64/ ,/ 狑/ =/ 840.980/ ./ 9410.465474/ k1/ =/ 64/ ,/ w/ =/ 840.990/ ./ 939.660492/ k1/ =/ 64/ ,/ w/ =/ 8160.970/ ./ 948.148826/ 犽/ 1/ =/ 64/ ,/ 狑/ =/ 8160.980/ ./ 947.644903/ k1/ =/ 64/ ,/ w/ =/ 8160.990/ ./ 937.041119/ k1/ =/ 64/ ,/ w/ =/ 8320.970/ ./ 847.744471/ 犽/ 1/ =/ 64/ ,/ 狑/ =/ 8320.980/ ./ 947.140901/ k1/ =/ 64/ ,/ w/ =/ 8320.990/ ./ 936.437474/ k1/ =/ 64/ ,/ w/ =/ 8480.970/ ./ 947.443681/ 犽/ 1/ =/ 64/ ,/ 狑/ =/ 8480.980/ ./ 946.940239/ k1/ =/ 64/ ,/ w/ =/ 8480.990/ ./ 936.536952/ k1/ =/ 64/ ,/ w/ =/ 8640.970/ ./ 946.435155/ 犽/ 1/ =/ 64/ ,/ 狑/ =/ 8640.980/ ./ 945.832073/ k1/ =/ 64/ ,/ w/ =/ 8640.990/ ./ 935.329116/ k1/ =/ 256/ ,/ w/ =/ 1640.940/ ./ 947.141651/ 犽/ 1/ =/ 256/ ,/ 狑/ =/ 1640.950/ ./ 946.638490/ k1/ =/ 256/ ,/ w/ =/ 1640.960/ ./ 936.035240/ k1/ =/ 256/ ,/ w/ =/ 16160.940/ ./ 945.731942/ 犽/ 1/ =/ 256/ ,/ 狑/ =/ 16160.950/ ./ 945.329282/ k1/ =/ 256/ ,/ w/ =/ 16160.960/ ./ 935.026651/ k1/ =/ 256/ ,/ w/ =/ 16320.940/ ./ 945.227653/ 犽/ 1/ =/ 256/ ,/ 狑/ =/ 16320.950/ ./ 944.925248/ k1/ =/ 256/ ,/ w/ =/ 16320.960/ ./ 934.522863/ k1/ =/ 256/ ,/ w/ =/ 16480.940/ ./ 945.125846/ 犽/ 1/ =/ 256/ ,/ 狑/ =/ 16480.950/ ./ 944.923542/ k1/ =/ 256/ ,/ w/ =/ 16480.960/ ./ 934.621291/ k1/ =/ 256/ ,/ w/ =/ 16640.940/ ./ 945.123783/ 犽/ 1/ =/ 256/ ,/ 狑/ =/ 16640.950/ ./ 944.921616/ k1/ =/ 256/ ,/ w/ =/ 16640.960/ ./ 934.619522/ k1/ =/ 1024/ ,/ w/ =/ 3240.950/ ./ 954.521420/ 犽/ 1/ =/ 1024/ ,/ 狑/ =/ 3240.960/ ./ 954.219431/ k1/ =/ 1024/ ,/ w/ =/ 3240.970/ ./ 944.017400/ k1/ =/ 1024/ ,/ w/ =/ 32160.950/ ./ 954.016041/ 犽/ 1/ =/ 1024/ ,/ 狑/ =/ 32160.960/ ./ 953.914420/ k1/ =/ 1024/ ,/ w/ =/ 32160.970/ ./ 943.712831/ k1/ =/ 1024/ ,/ w/ =/ 32320.930/ ./ 954.516182/ 犽/ 1/ =/ 1024/ ,/ 狑/ =/ 32320.940/ ./ 954.214744/ k1/ =/ 1024/ ,/ w/ =/ 32320.950/ ./ 944.013304/ k1/ =/ 1024/ ,/ w/ =/ 32480.920/ ./ 954.815612/ 犽/ 1/ =/ 1024/ ,/ 狑/ =/ 32480.930/ ./ 954.414301/ k1/ =/ 1024/ ,/ w/ =/ 32480.940/ ./ 944.212980/ k1/ =/ 1024/ ,/ w/ =/ 32640.900/ ./ 955.216526/ 犽/ 1/ =/ 1024/ ,/ 狑/ =/ 32640.910/ ./ 955.015305/ k1/ =/ 1024/ ,/ w/ =/ 32640.920/ ./ 944.914072/ 方式/ 计算/ 距离/ 和/ 超/ 球体/ 半径/ ,/ 因而/ ,/ λ/ 越大则/ 超/ 球体/ 半径/ 越小/ ,/ 反之/ 半径/ 越大/ ./ 从表/ 5/ 和表/ 6/ 可以/ 看出/ ,/ 对于/ 每组/ 参数/ (/ k1/ ,/ w/ ,/ k2/ )/ ,/ λ/ 的/ 不同/ 取值/ 虽然/ 能够/ 影响/ 被/ 过滤/ 掉/ 的/ 非/ 相似/ 查询/ 结果/ 数/ 以及/ Recall/ @/ R/ (/ R/ 取值/ 100/ )/ 和/ 查询/ 时间/ ./ 但是/ 最终/ 都/ 会/ 得到/ 一个/ 最优/ λ/ 值/ ,/ 使得/ Recall/ @/ R/ 与/ 原始/ 方法/ 一致/ 并且/ 查询/ 时间/ 最少/ ./ 即当/ λ/ 大于/ 最优/ 值时/ ,/ 其/ Recall/ @/ R/ 就/ 会/ 下降/ ,/ 反之/ ,/ Recall/ @/ R/ 始终/ 会/ 保持/ 不变/ ,/ 而/ 查询/ 时间/ 会/ 由于/ 过滤/ 掉/ 的/ 非/ 相似/ 特征/ 的/ 减少/ 而/ 相应/ 地/ 增加/ ./ 后面/ 的/ 实验/ 中将/ 采用/ 最优/ λ/ 值得/ 到/ 的/ 实验/ 数据/ ./ 表/ 6gist/ 数据/ 集上/ 不/ 完全/ 过滤/ 对于/ 不同/ λ/ 的/ 查询/ 性能/ gistk2/ λ/ Recall/ @/ 100/ 查询/ k1/ =/ 64/ ,/ w/ =/ 840.980/ ./ 6616.296680/ 犽/ 1/ =/ 64/ ,/ 狑/ =/ 840.990/ ./ 6614.379298/ k1/ =/ 64/ ,/ w/ =/ 841.000/ ./ 6511.461735/ k1/ =/ 64/ ,/ w/ =/ 8160.980/ ./ 6613.477326/ 犽/ 1/ =/ 64/ ,/ 狑/ =/ 8160.990/ ./ 6612.162499/ k1/ =/ 64/ ,/ w/ =/ 81610.659/ ./ 548422k1/ =/ 64/ ,/ w/ =/ 8320.980/ ./ 6613.470189/ 犽/ 1/ =/ 64/ ,/ 狑/ =/ 8320.990/ ./ 6611.156444/ k1/ =/ 64/ ,/ w/ =/ 8321.000/ ./ 659.243562/ k1/ =/ 64/ ,/ w/ =/ 8480.980/ ./ 6612.866913/ 犽/ 1/ =/ 64/ ,/ 狑/ =/ 8480.990/ ./ 6610.753412/ k1/ =/ 64/ ,/ w/ =/ 8481.000/ ./ 659.141340/ k1/ =/ 64/ ,/ w/ =/ 8640.980/ ./ 6613.364618/ 犽/ 1/ =/ 64/ ,/ 狑/ =/ 8640.990/ ./ 6610.851678/ k1/ =/ 64/ ,/ w/ =/ 86410.659/ ./ 339820k1/ =/ 256/ ,/ w/ =/ 1640.970/ ./ 6713.062376/ 犽/ 1/ =/ 256/ ,/ 狑/ =/ 1640.980/ ./ 6710.253918/ k1/ =/ 256/ ,/ w/ =/ 1640.990/ ./ 668.743251/ k1/ =/ 256/ ,/ w/ =/ 16160.980/ ./ 679.444133/ 犽/ 1/ =/ 256/ ,/ 狑/ =/ 16160.990/ ./ 678.534805/ k1/ =/ 256/ ,/ w/ =/ 16161.000/ ./ 666.725745/ k1/ =/ 256/ ,/ w/ =/ 16320.980/ ./ 679.540637/ 犽/ 1/ =/ 256/ ,/ 狑/ =/ 16320.990/ ./ 678.331725/ k1/ =/ 256/ ,/ w/ =/ 16321.000/ ./ 667.123461/ k1/ =/ 256/ ,/ w/ =/ 16480.990/ ./ 678.729883/ 犽/ 1/ =/ 256/ ,/ 狑/ =/ 16481.000/ ./ 677.721956/ k1/ =/ 256/ ,/ w/ =/ 16481.100/ ./ 224.32781/ k1/ =/ 256/ ,/ w/ =/ 16640.980/ ./ 6610.437334/ 犽/ 1/ =/ 256/ ,/ 狑/ =/ 16640.990/ ./ 669.228760/ k1/ =/ 256/ ,/ w/ =/ 16641.000/ ./ 658.4209525/ ./ 4/ 不/ 完全/ 过滤/ 对于/ 不同/ 犽/ 2/ 值/ 的/ 查询/ 性能/ 在/ (/ k1/ ,/ w/ )/ ∈/ {/ (/ 64/ ,/ 8/ )/ ,/ (/ 256/ ,/ 16/ )/ ,/ (/ 1024/ ,/ 32/ )/ }/ 和/ 最优/ λ/ 值/ 的/ 情况/ 下/ ,/ 不/ 完全/ 过滤/ 在/ sift/ 数据/ 集上/ 对于/ k2/ 的/ 不同/ 取值/ 时/ 用于/ 排序/ 的/ 特征/ 点数/ 如图/ 3/ 所示/ ,/ 图/ 4/ 是/ 与/ 图/ 3/ 相对/ 应/ 的/ 查询/ 时间/ ./ 从图/ 3/ 可以/ 看出/ ,/ 当/ k1/ =/ 64/ ,/ w/ =/ 8/ 和/ k1/ =/ 256/ ,/ w/ =/ 16/ 时/ ,/ 需要/ 排序/ 的/ 查询/ 结果/ 数/ 随着/ k2/ 的/ 增大/ 而/ 不断/ 减少/ ./ 然而/ ,/ 当/ k1/ =/ 1024/ ,/ w/ =/ 32/ 时/ ,/ 这种/ 现象/ 并/ 没有/ 出现/ ,/ 而是/ 趋近/ 于/ 水平/ ./ 其/ 原因/ 在于/ 随着/ k1/ 和/ k2/ 的/ 不断/ 增大/ ,/ 数据库/ 中/ 位于/ 查询/ 特征/ 点/ 对应/ 超/ 球体/ 内部/ 的/ 特征/ 点数/ 趋于/ 平衡/ ./ 综合/ 图/ 3/ 和/ 图/ 4/ ,/ 当/ k1/ =/ 256/ ,/ w/ =/ 16/ 和/ k1/ =/ 1024/ ,/ w/ =/ 32/ 时/ ,/ 查询/ 时间/ 并/ 没有/ 随着/ 排序/ 特征/ 点数/ 的/ 减少/ 而/ 相应/ 地/ 减少/ ./ 这/ 是因为/ 随着/ k2/ 和/ w/ 的/ 不断/ 增大/ ,/ 不/ 完全/ 过滤/ 用于/ 计算/ 查询/ 特征/ 到/ 第/ 2/ 层聚类/ 中心/ 的/ 欧式/ 距离/ 的/ 次数/ 以及/ 判断/ 聚类/ 中心/ 是否/ 位于/ 超/ 球体/ 内部/ 所/ 花费/ 的/ 时间/ 也/ 在/ 相应/ 的/ 增加/ ,/ 从而/ 影响/ 总体/ 的/ 查询/ 时间/ ./ 因此/ ,/ 可以/ 根据/ 实验/ 结果/ 选择/ 不同/ 规模/ 倒排/ 索引/ 结构/ 下/ 适用/ 于/ 不/ 完全/ 过滤/ 的/ 最优/ k2/ 值/ ./ 图/ 5/ 和/ 图/ 6/ 分别/ 是/ gist/ 数据/ 集上/ 与/ 图/ 3/ 和/ 图/ 4/ 对应/ 的/ 实验/ 结果/ 并且/ 可以/ 从中/ 得出/ 相同/ 的/ 结论/ ./ Page8/ 图/ 3sift/ 数据/ 集上/ 不同/ k2/ 值/ 对应/ 的/ 查询/ 时间/ 图/ 4sift/ 数据/ 集上/ 不同/ k2/ 值/ 对应/ 的/ 排序/ 特征/ 点数/ 图/ 5gist/ 数据/ 集上/ 不同/ k2/ 值/ 对应/ 的/ 排序/ 特征/ 点数/ 5.5/ 不同/ 检索/ 方法/ 的/ 查询/ 时间/ 对比/ 简单/ 起/ 见/ ,/ 下面/ 用/ RVQ/ 表示/ 基于/ 残差/ 量化/ 的/ 检索/ ,/ EF/ -/ RVQ/ 表示/ 应用/ 了/ 全面/ 过滤/ 的/ 基于/ 残差/ 量化/ 的/ 检索/ ,/ NEF/ -/ RVQ/ 表示/ 应用/ 了/ 不/ 完全/ 过滤/ 的/ 基于/ 残差/ 量化/ 的/ 检索/ ./ 表/ 7/ 和表/ 8/ 分别/ 给出/ 了/ 这/ 3/ 种/ 检索/ 方法/ 在/ 不同/ 数据/ 集/ 和/ 不同/ 规模/ 倒排/ 索引/ 结构/ 下图/ 6gist/ 数据/ 集上/ 不同/ k2/ 值/ 对应/ 的/ 查询/ 时间/ 的/ 查询/ 性能/ 对比/ ./ 从表/ 7/ 和表/ 8/ 可以/ 看出/ ,/ 在/ 相同/ 规模/ 的/ 索引/ 结构/ 和/ 获得/ 相同/ Recall/ @/ 100/ 的/ 情况/ 下/ ,/ EF/ -/ RVQ/ 的/ 特征/ 查询/ 时间/ 明显/ 少于/ RVQ/ ,/ 而/ NEF/ -/ RVQ/ 又/ 比/ EF/ -/ RVQ/ 进一步/ 减少/ 了/ 查询/ 时间/ ./ 此外/ ,/ EF/ -/ RVQ/ 和/ NEF/ -/ RVQ/ 较/ RVQ/ 都/ 很大/ 程度/ 上/ 减少/ 了/ 排序/ 的/ 查询/ 结果/ 数/ ./ 表/ 7sift/ 数据/ 集上/ RVQ/ 、/ EF/ -/ RVQ/ 和/ NEF/ -/ RVQ/ 的/ 检索/ 性能/ 对比/ RVQk/ =/ 64/ ,/ w/ =/ 8EF/ -/ RVQk/ =/ 64/ ,/ w/ =/ 8/ ,/ λ/ =/ 10.9414/ ./ 87852NEF/ -/ RVQk1/ =/ 64/ ,/ w/ =/ 8/ ,/ RVQk/ =/ 256/ ,/ w/ =/ 160.9411/ ./ 866612EF/ -/ RVQk/ =/ 256/ ,/ w/ =/ 16/ ,/ λ/ =/ 10.948/ ./ 74160NEF/ -/ RVQk1/ =/ 256/ ,/ w/ =/ 16/ ,/ RVQk/ =/ 1024/ ,/ w/ =/ 320.956/ ./ 934509EF/ -/ RVQk/ =/ 1024/ ,/ w/ =/ 32/ ,/ λ/ =/ 10.955/ ./ 62315NEF/ -/ RVQk1/ =/ 1024/ ,/ w/ =/ 32/ ,/ 表/ 8gist/ 数据/ 集上/ RVQ/ 、/ EF/ -/ RVQ/ 和/ NEF/ -/ RVQ/ 的/ 检索/ 性能/ 对比/ RVQk/ =/ 64/ ,/ w/ =/ 8EF/ -/ RVQk/ =/ 64/ ,/ w/ =/ 8/ ,/ λ/ =/ 10.6618/ ./ 08868NEF/ -/ RVQk1/ =/ 64/ ,/ w/ =/ 8/ ,/ RVQk/ =/ 256/ ,/ w/ =/ 160.6615/ ./ 984818EF/ -/ RVQk/ =/ 256/ ,/ w/ =/ 16/ ,/ λ/ =/ 10.6610/ ./ 94561NEF/ -/ RVQk1/ =/ 256/ ,/ w/ =/ 16/ ,/ 虽然/ EF/ -/ RVQ/ 排序/ 的/ 查询/ 结果/ 数/ 少于/ NEF/ -/ RVQ/ ,/ 但是/ NEF/ -/ RVQ/ 的/ 查询/ 效率/ 要/ 优于/ EF/ -/ RVQ/ ./ 其/ 原因/ 在于/ ,/ EF/ -/ RVQ/ 计算/ 所有/ 查询/ 结果/ (/ RVQ/ 的/ 排序/ 特征/ 点数/ )/ 到/ 查询/ 特征/ 的/ 距离/ 并/ 与/ 超/ 球体/ 的/ 半/ Page9/ 径/ 进行/ 比较/ ,/ 而/ NEF/ -/ RVQ/ 通过/ 将/ 原始/ 索引/ 列表/ 中/ 特征/ 点/ 划分/ 为/ k2/ 个/ 聚类/ 并用/ 对应/ 的/ 聚类/ 中心/ 过滤/ 非/ 相似/ 查询/ 结果/ ,/ 从而/ 大幅/ 减少/ 过滤/ 查询/ 结果/ 所/ 花费/ 的/ 时间/ ,/ 进而/ 较/ EF/ -/ RVQ/ 进一步提高/ 了/ 查询/ 效率/ ./ 5.6/ 特征/ 量化/ 效率/ 对比/ 简单/ 起/ 见/ ,/ 用/ RVQ/ 表示/ 采用/ 传统/ 硬/ 匹配/ 的/ 残差/ 量化/ 方法/ ,/ 用/ filtration/ -/ RVQ/ 表示/ 结合/ 了/ 基于/ 下限/ 过滤/ 的/ 非/ 近邻/ 过滤/ 的/ 残差/ 量化/ 方法/ ./ 实验/ 中/ ,/ 残差/ 量化/ 的/ 的/ 码书/ 层数/ L/ 设置/ 为/ 8/ ,/ 每层/ 码书/ 的/ 聚类/ 中心/ 数设/ 为/ k/ ∈/ {/ 16/ ,/ 64/ ,/ 256/ }/ ./ 图/ 7/ 和/ 图/ 8/ 分别/ 给出/ 了/ RVQ/ 和/ filtration/ -/ RVQ/ 在/ sift/ 和/ gist/ 数据/ 集上/ 量化/ 特征向量/ 的/ 时间/ 对比/ ./ 从图/ 中/ 可以/ 看出/ ,/ 虽然/ 当/ k/ =/ 16/ 和/ sift/ 数据/ 集上/ k/ =/ 64/ 时/ ,/ filtration/ -/ RVQ/ 的/ 特征/ 量化/ 时间/ 要/ 稍微/ 高于/ RVQ/ ,/ 但/ 随着/ k/ 的/ 增大/ 以及/ 特征/ 维度/ 的/ 增加/ ,/ filtration/ -/ RVQ/ 显示/ 出要/ 比/ RVQ/ 具有/ 更好/ 的/ 时间/ 效率/ ,/ 其/ 表现/ 在/ 量化/ 特征/ 所/ 花费/ 的/ 时间/ 更/ 少/ 并且/ 增长幅度/ 更为/ 平缓/ ./ 因此/ ,/ 可以/ 得出结论/ :/ 利用/ 欧式/ 距离/ 下限/ 来/ 过滤/ 非/ 近邻/ 聚类/ 中心/ ,/ RVQ/ 的/ 特征/ 量化/ 效率/ 可以/ 得到/ 有效/ 提升/ ,/ 尤其/ 是/ 当/ k/ 比较/ 大/ 以及/ 高维/ 特征/ 时/ ./ 6/ 总结/ 与/ 讨论/ 本文/ 提出/ 了/ 两种/ 面向/ 倒排/ 索引/ 的/ 基于/ 自/ 适应/ 超/ 球体/ 的/ 查询/ 结果/ 过滤/ 方法/ :/ 全面/ 过滤/ 和/ 不/ 完全/ 过滤/ ,/ 并/ 以/ 基于/ 残差/ 量化/ 的/ 检索/ 方法/ 为/ 应用/ 实例/ 来/ 验证/ 所/ 提出/ 方法/ 的/ 有效性/ ./ 相比/ 基于/ 残差/ 量化/ 的/ 检索/ 方法/ 以及/ 传统/ 检索/ 方法/ 将/ 全部/ 查询/ 结果/ 用于/ 排序/ ,/ 全面/ 过滤/ 为/ 查询/ 特征/ 自/ 适应/ 地/ 计算/ 半径/ 并/ 构造/ 以其为/ 球心/ 的/ 超/ 球体/ ,/ 只/ 对/ 位于/ 超/ 球体/ 内部/ 的/ 查询/ 结果/ 进行/ 排序/ ,/ 从而/ 提高/ 了/ 查询/ 速度/ ./ 不/ 完全/ 过滤/ 通过/ 将/ 倒/ 排列/ 表/ 划分/ 为/ 若干个/ 子聚类/ 并用/ 这些/ 子聚类/ 的/ 聚类/ 中心/ 过滤/ 非/ 相似/ 查询/ 结果/ ,/ 从而/ 降低/ 了/ 查询/ 结果/ 过滤/ 的/ 时间/ 开销/ ,/ 进一步提高/ 了/ 查询/ 效率/ ./ 面向/ 倒排/ 索引/ 的/ 检索/ 方法/ 在/ 索引/ 结构/ 上/ 总体/ 是/ 相似/ 的/ ,/ 如/ 基于/ 残差/ 量化/ 的/ 检索/ 方法/ 和/ 基于/ 积/ 量化/ 的/ 检索/ 方法/ ./ 它们/ 的/ 倒排/ 索引/ 结构/ 是/ 类似/ 的/ ,/ 不同/ 的/ 是/ 计算/ 查询/ 特征/ 与/ 数据库/ 特征/ 之间/ 距离/ 的/ 计算/ 方式/ ./ 因而/ ,/ 类似/ 于/ 本文/ 将/ 全面/ 过滤/ 和/ 不/ 完全/ 过滤/ 方法/ 应用/ 于/ 基于/ 残差/ 量化/ 的/ 检索/ 方法/ 的/ 具体/ 过程/ ,/ 这/ 两种/ 查询/ 结果/ 的/ 自/ 适应/ 过滤/ 方法/ 同样/ 可以/ 用/ 类似/ 的/ 方式/ 应用/ 于/ 其他/ 面向/ 倒排/ 索引/ 的/ 检索/ 方法/ 以/ 提高/ 查询/ 效率/ ,/ 如/ :/ 基于/ 积/ 量化/ 的/ 图像/ 特征/ 检索/ 方法/ 等/ ./ 在/ 下/ 一步/ 工作/ 中/ ,/ 我们/ 将/ 在/ 更/ 大/ 的/ 数据/ 集上/ 对/ 提出/ 的/ 两种/ 查询/ 结果/ 过滤/ 方法/ 的/ 有效性/ 进行/ 验证/ ./ 此外/ ,/ 由于/ 不/ 完全/ 过滤/ 将/ 原始/ 倒/ 排列/ 表/ 划分/ 为/ 若干个/ 子类/ ,/ 从而/ 增加/ 了/ 倒排/ 索引/ 结构/ 的/ 存储/ 需求/ ,/ 因此/ ,/ 未来/ 将/ 在/ 保持/ 查询/ 精度/ 不变/ 的/ 前提/ 下/ ,/ 对/ 平衡/ 查询/ 速度/ 和/ 存储/ 需求/ 作/ 进一步/ 研究/ ./ 此外/ ,/ 对于/ 完全/ 过滤/ ,/ 由于/ 查询/ 特征/ 到/ 所有/ 倒/ 排列/ 表/ 对应/ 的/ 聚类/ 中心/ 的/ 距离/ 计算/ 是/ 相互/ 独立/ 的/ ,/ 不/ 存在/ 相互依赖/ 关系/ ,/ 因此/ 这个/ 过程/ 可以/ 对/ 其/ 进行/ 并行处理/ ,/ 从而/ 进一步提高/ 查询/ 速度/ ;/ 同样/ 的/ ,/ 在/ 过滤/ 非/ 相似/ 特征/ 时/ ,/ 需要/ 计算/ 查询/ 特征/ 与/ 所有/ 查询/ 结果/ 之间/ 的/ 距离/ ,/ 这个/ 过程/ 也/ 可以/ 通过/ 并行处理/ 进行/ 优化/ ./ 对于/ 不/ 完全/ 过滤/ ,/ 类似/ 于/ 完全/ 过滤/ ,/ 查询/ 特征/ 到/ 第一层/ 索引/ 对应/ 的/ 聚类/ 中心/ 的/ 距离/ 、/ 到/ 第二层/ 用于/ 过滤/ 非/ 相似/ 特征/ 的/ 聚类/ 中心/ 的/ 距离/ 以及/ 到/ 用于/ 排序/ 的/ 查询/ 结果/ 的/ 距离/ 的/ 计算/ 过程/ 同样/ 可以/ 在/ 并行计算/ 环境/ 下/ 进行/ 并行处理/ ,/ 以/ 进一步提高/ 查询/ 速度/ ./ 这/ 将/ 是/ 下/ 一步/ 的/ 重要/ 研究/ 内容/ ./ Page10/ 

