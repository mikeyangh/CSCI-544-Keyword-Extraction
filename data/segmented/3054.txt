Page1/ 含/ 指针/ 程序/ 的/ 单子/ 切片/ 方法/ 张迎/ 周/ 1/ )/ ,/ 2/ )/ ,/ 3/ )/ 吴重/ 强/ 4/ )/ 钱/ 巨/ 2/ )/ ,/ 5/ )/ 张卫丰/ 1/ )/ ,/ 2/ )/ 徐宝文/ 2/ )/ ,/ 6/ )/ 1/ )/ (/ 南京/ 邮电大学/ 计算机/ 学院/ 南京/ 210003/ )/ 2/ )/ (/ 南京大学/ 计算机软件/ 新/ 技术/ 国家/ 重点/ 实验室/ 南京/ 210093/ )/ 3/ )/ (/ 北京邮电大学/ 网络/ 与/ 交换/ 技术/ 国家/ 重点/ 实验室/ 北京/ 100876/ )/ 4/ )/ (/ EMC/ 中国/ 研发/ 中心/ 上海/ 200433/ )/ 5/ )/ (/ 南京航空航天大学/ 信息科学/ 与/ 技术/ 学院/ 南京/ 210016/ )/ 6/ )/ (/ 南京大学/ 计算机科学/ 与/ 技术/ 系/ 南京/ 210093/ )/ 摘要/ 传统/ 的/ 含/ 指针/ 程序/ 切片/ 方法/ 将/ 指向/ 分析/ 与/ 切片/ 计算/ 分开/ ,/ 增加/ 了/ 一定/ 系统/ 开销/ ,/ 为此/ 文中/ 提出/ 一种/ 可/ 同时/ 进行/ 切片/ 计算/ 和/ 指向/ 分析/ 的/ 单子/ 切片/ 算法/ ./ 该/ 算法/ 将/ 程序/ 正向/ 切片/ 思想/ 与/ 数据流/ 迭代/ 分析/ 相结合/ ,/ 它/ 是/ 流/ 敏感/ 的/ ,/ 具有/ 一定/ 的/ 精度/ ,/ 而且/ 因/ 指向/ 分析/ 和/ 切片/ 计算/ 同时/ 进行/ ,/ 故/ 不/ 需要/ 像/ 一般/ 的/ 流/ 敏感/ 分析方法/ 那样/ 记录/ 每/ 一个/ 程序/ 点/ 的/ 指向/ 信息/ ,/ 而/ 只/ 需/ 记录/ 当前/ 所/ 分析/ 的/ 程序/ 点处/ 指向/ 信息/ ,/ 从而/ 节省/ 了/ 存储空间/ ./ 此外/ ,/ 它/ 还/ 继承/ 了/ 原有/ 单子/ 切片/ 方法/ 所/ 具有/ 的/ 强/ 语言/ 适应性/ 和/ 组合/ 性/ ./ 关键词/ 程序/ 切片/ ;/ 单子/ 切片/ ;/ 数据流/ 迭代/ ;/ 指针/ ;/ 指向/ 分析/ 1/ 引言/ 程序/ 切片/ 是/ 一种/ 程序/ 分解/ 技术/ ,/ 它/ 通过/ 从/ 源程序/ 中/ 抽取/ 与/ 某项/ 计算/ 相关/ 的/ 语句/ ,/ 得到/ 一个/ 规模较/ 小/ 的/ 程序/ ,/ 可/ 体现/ 源程序/ 行为/ 的/ 一个/ 子集/ ,/ 这使/ 我们/ 的/ 精力/ 得以/ 集中/ 到/ 程序/ 中/ 的/ 一小部分/ [/ 1/ ]/ ./ 由于/ 切片/ 技术/ 可以/ 将/ 复杂/ 的/ 工作/ 简单化/ 甚至/ 自动化/ ,/ 它/ 被/ 广泛应用/ 于/ 程序/ 分析/ 、/ 理解/ 、/ 调试/ 、/ 测试/ 、/ 软件维护/ 、/ 度量/ 、/ 逆向/ 工程/ 、/ 再/ 工程/ 等/ 领域/ [/ 2/ -/ 6/ ]/ ./ 为/ 丰富/ 现有/ 的/ 程序/ 切片/ 算法/ ,/ 我们/ 曾/ 从/ 形式化/ 语义/ 的/ 角度/ 提出/ 一种/ 新型/ 切片/ 方法/ —/ —/ —/ 模块/ 单子/ 切片/ [/ 7/ -/ 10/ ]/ ,/ 它/ 基于/ 程序/ 的/ 模块/ 单子/ 语义/ [/ 11/ -/ 13/ ]/ ./ 单子/ 切片/ 算法/ 具有/ 较强/ 的/ 可扩展性/ 和/ 可/ 重用/ 性/ ,/ 支持/ 组合式/ 程序设计/ 模式/ ,/ 反映/ 现代/ 程序设计/ 语言/ (/ 如/ C++/ 、/ Java/ 等/ )/ 中/ 模块化/ 设计/ 特性/ ./ 本文/ 在/ 此/ 工作/ 基础/ 上/ ,/ 完善/ 并/ 扩展/ 文献/ [/ 9/ -/ 10/ ]/ 中/ 的/ 单子/ 切片/ 方法/ ,/ 使/ 之/ 能求/ 含/ 指针/ 程序/ 的/ 单子/ 切片/ ,/ 并/ 以此/ 展示/ 我们/ 单子/ 切片/ 方法/ 的/ 易/ 扩展性/ ./ 指针/ 的/ 出现/ 可/ 导致/ 别名/ 问题/ [/ 14/ -/ 16/ ]/ (/ 即/ 多个/ 变量/ 访问/ 同一/ 内存/ 位置/ )/ ,/ 故/ 需要/ 进行/ 指针/ 分析/ 以/ 获得/ 相应/ 的/ 数据/ 依赖/ 信息/ ./ 指针/ 的/ 引入/ 给/ 程序/ 分析/ 带来/ 了/ 3/ 个/ 主要/ 问题/ :/ (/ 1/ )/ 允许/ 动态/ 申请/ 内存/ 后/ ,/ 可以/ 构造/ 像/ 链表/ 这样/ 具有/ 静态/ 不/ 确定/ 长度/ 的/ 递归/ 数据结构/ ,/ 由此/ 存在/ 如何/ 用/ 有限/ 的/ 方式/ 表示/ 它/ 的/ 问题/ ;/ (/ 2/ )/ 指针/ 的/ 引入/ 需/ 更新/ (/ 泛化/ )/ 数据/ 依赖/ 在/ 新/ 框架/ 下/ 的/ 定义/ ;/ (/ 3/ )/ 由于/ 静态/ 分析/ 时/ 指针/ 指向/ 的/ 不确定性/ ,/ 需要/ 考虑/ 如何/ 做/ 指向/ 分析/ ,/ 以/ 确定/ 变量/ 的/ 指向/ 集/ ./ 第/ 1/ 个/ 问题/ 的/ 解决/ 将/ 提供/ 一种/ 表示/ 程序/ 中/ 变量/ 的/ 有效/ 方式/ ,/ 有助于/ 定义新/ 框架/ 下/ 的/ 数据/ 依赖/ 和/ 指向/ 分析/ ,/ 是/ 解决/ 后/ 两个/ 问题/ 的/ 基础/ ./ 第/ 2/ 个/ 问题/ 的/ 解决/ 将/ 给出/ 新/ 框架/ 下/ 的/ 数据/ 依赖/ 定义/ ,/ 从/ 概念/ 上/ 包容/ 了/ 引入/ 指针/ 后/ 的/ 新/ 情况/ ,/ 而/ 该/ 定义/ 的/ 具体/ 实现/ 则/ 依赖于/ 指向/ 分析/ ./ 也就是说/ ,/ 第/ 1/ 个/ 问题/ 是/ 基础/ ,/ 第/ 2/ 个/ 问题/ 提出/ 了/ 概念/ 上/ 的/ 目标/ ,/ 而/ 第/ 3/ 个/ 问题/ 的/ 解决方案/ 则/ 帮助/ 实现/ 该/ 目标/ ./ 在/ 已有/ 工作/ [/ 7/ ,/ 9/ ]/ 的/ 基础/ 上/ ,/ 本文/ 将/ 考虑/ 含/ 指针/ 的/ 模块/ 单子/ 切片/ 方法/ ./ 本文/ 重点/ 处理/ 的/ 是/ 第/ 3/ 个/ 问题/ (/ 关于/ 指向/ 分析/ 的/ )/ ,/ 对于/ 前/ 两个/ 问题/ 采用/ 已有/ 的/ 简单/ 方法/ 处理/ ./ 本文/ 的/ 切片/ 方法/ 利用/ 原有/ 单子/ 切片/ 中/ 正向/ 切片/ [/ 17/ ]/ 的/ 思想/ ,/ 使用/ 数据流/ 迭代/ 进行/ 指向/ 分析/ ./ 这种/ 分析方法/ 有/ 一定/ 的/ 精度/ ,/ 且/ 与/ 正向/ 单子/ 切片/ 方法/ 结合/ 后/ ,/ 指向/ 分析/ 和/ 切片/ 计算/ 可/ 同时/ 进行/ ./ 本文/ 先/ 简介/ 一个/ 实例/ 语言/ 的/ 单子/ 语义/ 及其/ 相应/ 的/ 单子/ 静态/ 切片/ 算法/ ;/ 然后/ 分析/ 研究/ 指针/ 引入/ 后/ 的/ 问题/ 及其/ 解决/ 方法/ ,/ 并/ 据此/ 给出/ 扩展/ 指针/ 后/ 的/ 单子/ 切片/ 算法/ 以及/ 一个/ 具体/ 的/ 求/ 含/ 指针/ 程序/ 单子/ 切片/ 实例/ ;/ 最后/ 实现/ 所/ 提出/ 的/ 指针/ 单子/ 切片/ 算法/ ,/ 并/ 分析/ 其/ 相应/ 的/ 时空/ 复杂度/ ./ 2/ 预备/ 知识/ 单子/ 概念/ 最初/ 是/ 在/ 20/ 世纪/ 50/ 年代/ 作为/ 范畴/ 论里/ 一种/ 函子/ 而/ 被/ 提出/ 的/ ./ 在/ 1989/ 年/ 由/ Moggi/ 将/ 之/ 引入/ 到/ 语义/ 框架/ 中/ ./ 一般/ 地/ ,/ 单子/ 可/ 形式化/ 地/ 表示/ 成/ 三元组/ (/ m/ ,/ returnm/ ,/ bindm/ )/ ,/ 其中/ m/ 是/ 类型/ 构子/ ,/ returnm/ 和/ bindm/ 是/ 其/ 两个/ 基本操作/ ,/ 且/ 满足/ 3/ 个/ 规律/ (/ 即/ 左/ 幺/ 元/ 、/ 右幺元/ 和/ 结合律/ ,/ 详见/ 文献/ [/ 18/ ]/ )/ ./ 在/ 利用/ 单子/ 描述/ 程序/ 语义/ 时/ ,/ 常/ 使用/ 单子/ 转换器/ 来/ 组合/ 多个/ 单子/ ./ 单子/ 转换器/ 由/ 类型/ 构造/ 器/ t/ 及其/ 提升/ 函数/ lift/ 构成/ ,/ 其中/ t/ 将/ 某个/ 给定/ 单子/ (/ m/ ,/ returnm/ ,/ bindm/ )/ 映射/ 到/ 新/ 单子/ (/ tm/ ,/ returntm/ ,/ bindtm/ )/ ./ 单子/ 转换器/ 不仅/ 提供/ 了/ 一种/ 抽象化/ 表示/ 程序/ 特性/ 的/ 能力/ ,/ 而且/ 还/ 允许/ 人们/ 访问/ 低层/ 语义/ 的/ 细节/ 部分/ ./ 概念/ “/ 提升/ ”/ 使得/ 我们/ 能/ 考虑/ 不同/ 程序/ 特性/ 间/ 的/ 交互/ ./ 因/ 单子/ 转换器/ 完全/ 独立/ 于/ 具体/ 的/ 语言/ ,/ 仅/ 表示/ 某类/ 计算/ ,/ 所以/ 单子/ 转换器/ 的/ 设计/ 是/ 有/ 意义/ 的/ ./ 目前/ 人们/ 已/ 设计/ 了/ 不少/ 单子/ 转换器/ ,/ 如/ 统一/ 描述/ 与/ 程序/ 环境/ 交互/ 计算/ 的/ 环境/ 单子/ 转换器/ EnvT/ ,/ 表示/ 与/ 状态/ 相关/ 计算/ 的/ 状态/ 单子/ 转换器/ StateT/ 等/ [/ 11/ ]/ ./ 在/ 文献/ [/ 9/ ]/ 中/ ,/ 我们/ 给出/ 了/ 如下/ 的/ 切片/ 单子/ 转换器/ SliceT/ ,/ 以此/ 来/ 统一/ 描述/ 程序/ 切片/ 这/ 一类/ 计算/ ./ SliceT/ 定义/ 中/ L/ 表示/ 进行/ 当前/ 计算所/ 需/ 表达式/ 的/ 标号/ 集合/ ;/ rdLabels/ ,/ inLabels/ 和/ getSli/ ,/ setSli/ 分别/ 是/ SliceT/ 中/ 参数/ L/ 和/ s/ (/ 切片/ 表/ )/ 的/ 读取/ 和/ 更新/ 操作/ ./ typeSliceTLsma/ =/ (/ L/ ,/ s/ )/ →/ m/ (/ a/ ,/ s/ )/ returnSliceTLsmx/ =/ λ/ (/ L/ ,/ s/ )/ ./ returnm/ (/ x/ ,/ s/ )/ e/ ‘/ bindSliceTLsm/ ’/ f/ =/ λ/ (/ L/ ,/ s/ )/ ./ {/ (/ a/ ,/ s/ )/ ←/ e/ (/ L/ ,/ s/ )/ ;/ fa/ (/ L/ ,/ s/ )/ }/ mliftSliceTLse/ =/ λ/ (/ L/ ,/ s/ )/ ./ {/ a/ ←/ e/ ;/ returnm/ (/ a/ ,/ s/ )/ }/ mrdLabels/ =/ λ/ (/ L/ ,/ _/ )/ ./ returnm/ (/ L/ ,/ (/ )/ )/ inLabelsLc/ =/ λ/ (/ L/ ,/ s/ )/ ./ c/ (/ L/ ,/ s/ )/ getSli/ =/ λ/ (/ _/ ,/ s/ )/ ./ returnm/ (/ s/ ,/ s/ )/ setSlis/ =/ λ/ (/ _/ ,/ s/ )/ ./ returnm/ (/ (/ )/ ,/ s/ )/ 文献/ [/ 9/ ]/ 中/ ,/ 我们/ 还/ 详细/ 证明/ 了/ 单子/ 切片/ 算法/ 的/ 正确性/ 和/ 可/ 终止/ 性/ 以及/ 其/ 与/ 基于/ 依赖图/ 切片/ 算法/ 间/ 的/ 吻合/ 性/ ./ 模块/ 单子/ 语义/ 通过/ 将/ 语法/ 项/ 映射/ 到/ 计算/ (/ 单子/ )/ Page3/ 来/ 形式化/ 描述/ 程序/ 语义/ ./ 模块/ 单子/ 语义/ 的/ 关键/ 特征/ 是/ ,/ 单子/ m/ 可/ 被/ 分解成/ 一系列/ 的/ 单子/ 转换器/ ,/ 每个/ 代表/ 一种/ 计算/ ./ 换句话说/ ,/ 多个/ 单子/ 转换器/ 可/ 结合/ 到/ 一个/ 单子/ 中/ ,/ 从而/ 使得/ 最终/ 单子/ 包含/ 所有/ 要/ 描述/ 的/ 程序/ 概念/ ./ 为/ 讨论/ 方便/ ,/ 本文/ 仍/ 考虑/ 文献/ [/ 9/ ]/ 中/ 的/ 简单/ 命令式/ 实例/ 语言/ W/ ,/ 其/ 抽象/ 语法/ 如下/ (/ 后面/ 将/ 对/ 其/ 进行/ 含/ 指针/ 程序/ 的/ 扩展/ ,/ 详见/ 第/ 4/ 节/ )/ ./ 论域/ :/ ide/ :/ Ide/ (/ 标识符/ )/ ;/ l/ :/ Label/ (/ 标号/ )/ ;/ 抽象/ 语法/ :/ S/ ∷/ =/ ide/ ·/ ·/ =/ l/ ./ e/ |/ S1/ ;/ S2/ |/ skip/ |/ readl/ ./ ide/ |/ writel/ ./ e/ 也/ 假设/ 上述/ 表达式/ e/ 没有/ 诸如/ 赋值/ 等/ 的/ 副作用/ ,/ 并/ 赋予/ 每个/ 表达式/ 一个/ 唯一/ 标号/ ,/ 且/ 该/ 标号/ 是/ 针对/ 整个/ 表达式/ 的/ ,/ 其子/ 表达式/ 不再/ 有/ 标号/ ./ 为/ 后面/ 计算/ 切片/ 方便/ ,/ 对/ Read/ 语句/ 中/ 变量/ 也/ 赋予/ 一个/ 标号/ ./ 为了/ 从/ 切片/ 表中/ 标号/ 集合/ L/ 获得/ 一个/ 符合/ W/ 文法/ 的/ 程序/ 切片/ ,/ 我们/ 曾/ 给出/ 了/ W/ 语言/ 的/ Syn/ (/ s/ ,/ L/ )/ 函数/ 定义/ [/ 7/ ,/ 9/ ]/ ,/ 其中/ s/ 表示/ 被/ 分析/ 的/ W/ 源程序/ ./ Syn/ (/ s/ ,/ L/ )/ 说明/ 如何/ 根据/ 所/ 求得/ 的/ 切片/ 标号/ 集合/ L/ ,/ 从/ 源程序/ s/ 中/ 构建/ 一个/ 符合/ 文法/ 的/ W/ 子程序/ ,/ 即/ 相应/ 的/ 程序/ 切片/ ./ 更/ 主要/ 地/ ,/ 它/ 允许/ 我们/ 只/ 需/ 关注/ 所/ 分析程序/ 中/ 的/ 加标/ 表达式/ ,/ 这/ 是因为/ :/ 程序/ 切片/ 的/ 主体/ 部分/ 依赖于/ 语句/ 中/ 的/ 表达式/ ,/ 其它/ 部分/ 可/ 由/ Syn/ (/ s/ ,/ L/ )/ 捕获/ ./ 3/ 模块/ 单子/ 静态/ 切片/ 算法/ 通过/ 将/ 程序/ 切片/ 这/ 类/ 计算/ 抽象/ 成/ 切片/ 单子/ 转换器/ SliceT/ [/ 7/ ,/ 9/ -/ 10/ ]/ ,/ 其它/ 的/ 单子/ (/ 如/ 状态/ 单子/ State/ -/ Monad/ 和/ 环境/ 单子/ EvnMonad/ [/ 12/ -/ 13/ ]/ )/ 可/ 很/ 容易/ 地被/ 转换成/ 切片/ 单子/ SliceMonad/ [/ 9/ -/ 10/ ]/ ./ 同样/ 地/ ,/ 其它/ 单子/ 转换器/ t/ 也/ 可/ 将/ SliceMonad/ 转换成/ 其它/ 相应/ 的/ 单子/ ./ 由此/ ,/ 可/ 方便/ 将/ 切片/ 计算/ 融合/ 入/ 已有/ 的/ 单子/ 语义/ 描述/ 中/ ./ 文献/ [/ 7/ ,/ 9/ ]/ 中/ 详细/ 叙述/ 了/ 过程/ 内/ 程序/ 的/ 单子/ 切片/ (/ 包括/ 静态/ 切片/ 和/ 动态/ 切片/ )/ 技术/ ./ 单子/ 静态/ 切片/ 算法/ 考虑/ 程序/ 最终/ 点/ 的/ 单/ 变量/ 程序/ 切片/ ,/ 对应/ 切片/ 标准/ 为/ 〈/ p/ ,/ v/ 〉/ ,/ 其中/ p/ 为/ 程序/ 最后/ 语句/ 点/ ,/ v/ 为/ 程序/ 中/ 某个/ 变量/ ./ 算法/ 基本/ 思想/ 为/ :/ 先/ 将/ 切片/ 单子/ 转换器/ 组合/ 到/ 语义/ 模块/ 描述/ 中/ ,/ 如/ ComptM/ ≡/ (/ SliceT/ ·/ StateT/ ·/ EnvT/ )/ IO/ ,/ 使/ 其/ 包含/ 程序/ 切片/ 计算/ ;/ 然后/ 按此/ 语义/ 描述/ 逐句/ 分析/ 源代码/ 并/ 计算/ 相应/ 的/ 静态/ 切片/ ,/ 最后/ 得到/ 所/ 要求/ 的/ 切片/ ./ 算法/ 中/ 的/ 切片/ 数据结构/ 为/ Slices/ =/ [/ (/ Var/ ,/ Labels/ )/ ]/ ,/ 它/ 是/ 由/ 变量/ 及其/ 切片/ (/ 标号/ 集合/ Labels/ =/ [/ Int/ ]/ )/ 所/ 构成/ 的/ 一张/ 表/ (/ Hash/ 表/ )/ ,/ 并/ 包含/ 3/ 个/ 基本操作/ 函数/ :/ lkpSli/ 、/ updSli/ 和/ mrgSli/ ,/ 分别/ 用来/ 查找/ Slices/ 中/ 某/ 变量/ 对应/ 的/ 切片/ (/ 标号/ 集合/ )/ 、/ 更新/ Slices/ 中/ 数据/ 和/ 合并/ 两个/ Slices/ ./ 此外/ ,/ 算法/ 中/ 需要/ 按下式/ 计算/ 加标/ 表达式/ 的/ L/ ,/ 以此/ 来/ 捕获/ 相应/ 的/ 控制/ 依赖/ 和/ 数据/ 依赖/ [/ 7/ ,/ 9/ ]/ :/ L/ =/ {/ l/ }/ ∪/ L/ ∪/ ∪/ r/ ∈/ Refs/ (/ l/ ./ e/ )/ lkpSli/ (/ r/ ,/ getSli/ )/ (/ 1/ )/ 其中/ Refs/ (/ l/ ./ e/ )/ 表示/ 所有/ 出现/ 在/ 表达式/ l/ ./ e/ 中/ 变量/ 的/ 集合/ ,/ 即/ l/ ./ e/ 的/ 引用/ 集/ ./ 因/ 静态/ 切片/ 中不需/ 关心/ 值/ 的/ 计算结果/ ,/ 故/ 静态/ 切片/ 语义/ 描述/ 中/ 省略/ 了/ 表达式/ 值/ 的/ 计算/ 语义/ ,/ 具体/ 的/ W/ 语言/ 静态/ 单子/ 切片/ 语义/ 描述/ 如下/ (/ 其中/ 符号/ Fix/ 表示/ 不动点/ 算子/ )/ ./ ide/ ·/ ·/ =/ l/ ./ e/ =/ {/ L/ ←/ rdLabels/ ;/ L/ ←/ {/ l/ }/ ∪/ L/ ∪/ ∪/ r/ ∈/ Refs/ (/ l/ ./ e/ )/ lkpSli/ (/ r/ ,/ getSli/ )/ ;/ updSli/ (/ ide/ ,/ L/ ,/ getSli/ )/ }/ ;/ c1/ ;/ c2/ =/ {/ c1/ ;/ c2/ }/ ;/ skip/ =/ return/ (/ )/ ;/ ifl/ ./ ethenc1elsec2endif/ =/ {/ L/ ←/ rdLabels/ ;/ L/ ←/ {/ l/ }/ ∪/ L/ ∪/ ∪/ r/ ∈/ Refs/ (/ l/ ./ e/ )/ lkpSli/ (/ r/ ,/ getSli/ )/ ;/ inLabelsLc2/ ;/ T2/ ←/ getSli/ ;/ mrgSli/ (/ T1/ ,/ T2/ )/ }/ ;/ whilel/ ./ edocendwhile/ =/ Fix/ (/ λ/ f/ ./ {/ L/ ←/ rdLabels/ ;/ L/ ←/ {/ l/ }/ ∪/ L/ ∪/ ∪/ r/ ∈/ Refs/ (/ l/ ./ e/ )/ lkpSli/ (/ r/ ,/ getSli/ )/ ;/ T/ ←/ getSli/ ;/ f/ ·/ {/ inLabelsLc/ ;/ T/ ←/ getSli/ ;/ mrgSli/ (/ T/ ,/ T/ )/ }/ }/ )/ ;/ readl/ ./ ide/ =/ {/ L/ ←/ rdLabels/ ;/ L/ ←/ {/ l/ }/ ∪/ L/ ;/ writel/ ./ e/ =/ return/ (/ )/ ./ 由此/ ,/ 可/ 得到/ 最终/ 静态/ 切片/ 表/ Slices/ ,/ 它/ 包含/ 了/ 所/ 分析程序/ 中/ 所有/ 单/ 变量/ 的/ 静态/ 切片/ ./ 通过/ 与/ 西班牙/ 奥/ 维耶/ 多/ 大学/ Labra/ 博士/ 合作/ [/ 19/ ]/ ,/ 我们/ 开发/ 了/ 一个/ 过程/ 内/ 单子/ 切片/ 器/ 原型/ 系统/ ./ 该/ 原型/ 以/ 程序/ 的/ 模块/ 单子/ 语义/ 为/ 基础/ ,/ 支持/ 增量/ 式/ 开发/ ,/ 其/ 实现/ 语言/ 为/ Haskell/ [/ 20/ -/ 21/ ]/ ./ 下节/ 及/ 后面/ 将/ 据/ 过程/ 内/ 单子/ 静态/ 切片/ 算法/ 扩展/ 讨论/ 含/ 指针/ 的/ 单子/ 切片/ 方法/ ./ 4/ 含/ 指针/ 程序/ 的/ 单子/ 切片/ 算法/ 4.1/ 引入/ 指针/ 后/ 的/ 问题/ 分析/ 本文/ 引言/ 中/ 已/ 指出/ ,/ 程序/ 中/ 指针/ 的/ 引入/ ,/ 将/ 给/ 数/ Page4/ 据流/ 分析/ 带来/ 3/ 个/ 主要/ 问题/ ./ 对于/ 第/ 1/ 个/ 问题/ ,/ 即用/ 有限/ 方式/ 表示/ 递归/ 数据结构/ 的/ 问题/ ,/ 许多/ 学者/ 已/ 提出/ 了/ 解决/ 方法/ [/ 22/ -/ 24/ ]/ ./ 这些/ 方法/ 基本上/ 都/ 是/ 利用/ 某种/ 近似/ 将/ 无限/ 的/ 结构/ 有限/ 化/ ,/ 差别/ 在于/ 近似/ 的/ 程度/ 不同/ ./ 较/ 粗糙/ 的/ 方法/ 是/ 将/ 系统/ 的/ 堆/ 空间/ 看作/ 一个/ 整体/ 来/ 处理/ ,/ 更/ 精确/ 的/ 做法/ 需/ 采用/ 较为/ 高级/ 的/ 形/ 分析/ (/ shapeanalysis/ )/ 技术/ [/ 15/ ,/ 25/ -/ 26/ ]/ ./ Chase/ 等/ 人/ [/ 24/ ]/ 利用/ 指针/ 变量/ 区分/ 堆/ 空间/ 中/ 的/ 变量/ ,/ 并/ 为/ 每个/ 程序/ 点/ 求取/ 存储状态/ 图/ (/ StorageShapeGraph/ )/ ,/ 其/ 结果/ 尽管/ 更加/ 精确/ ,/ 但/ 复杂度/ 较/ 高/ ,/ 且/ 所/ 采用/ 的/ 概要/ 节点/ (/ sum/ -/ marynode/ )/ 仍/ 是/ 一种/ 近似/ ./ 本节/ 拟/ 采用/ 的/ 方法/ ,/ 在/ 一定/ 程度/ 上/ 区分/ 了/ 堆/ 空间/ 中/ 的/ 变量/ ,/ 但/ 出于/ 算法/ 复杂度/ 的/ 考虑/ ,/ 并/ 没有/ 达到/ 像/ Chase/ 那样/ 的/ 精确/ 程度/ ./ 我们/ 认为/ 所有/ 在/ 同一/ 程序/ 点处/ 申请/ 的/ 堆/ 空间组成/ 了/ 一个/ 数组/ ,/ 并/ 将/ 这个/ 数组/ 当成/ 整体/ 处理/ ./ 由于/ 本/ 节/ 旨在/ 将/ 指针/ 融入/ 我们/ 的/ 模块/ 单子/ 切片/ 算法/ 中/ ,/ 故/ 采用/ 了/ 这种/ 简单/ 而/ 又/ 具/ 一定/ 精确度/ 的/ 方法/ ./ 第/ 2/ 个/ 问题/ (/ 关于/ 更新/ 数据/ 依赖/ 定义/ 的/ )/ 与/ 指针/ 引入/ 后/ 产生/ 的/ 别名/ 问题/ 有/ 一定/ 关系/ ./ 由于/ 第/ 1/ 个/ 问题/ 的/ 解决/ 保证/ 了/ 对/ 程序/ 中/ 变量/ 的/ 有限/ 表示/ ,/ 因此/ 可以/ 采用/ 文献/ [/ 27/ ]/ 中/ 方法/ ,/ 依据/ 抽象/ 内存地址/ 的/ 可能/ 定义/ 和/ 使用/ 来/ 泛化/ 新/ 框架/ 下/ 的/ 数据/ 依赖/ ./ 在/ 我们/ 的/ 指针/ 单子/ 切片/ 算法/ 中/ ,/ 我们/ 将/ 通过/ 指向/ 分析/ 、/ 扩展/ 赋值/ 语句/ 的/ 语法/ 及/ 重新/ 定义/ 引用/ 集/ Refs/ (/ l/ ./ e/ )/ 来/ 实现/ 泛化/ ./ 此外/ ,/ 我们/ 也/ 将/ 考虑/ 赋值/ 语句/ 中/ 左值/ 表达式/ 对/ 变量/ 的/ 可能/ 引用/ 情况/ ,/ 详见/ 后面/ 的/ 具体/ 算法/ ./ 最后/ 一个/ 问题/ 是/ 关于/ 指针/ 分析/ 的/ ,/ 这是/ 本文/ 后面/ 研究/ 的/ 重点/ ./ 指针/ 分析/ 的/ 最终/ 目的/ 是/ 要/ 获取/ 别名/ 信息/ ./ 有/ 两种/ 表示/ 别名/ 信息/ 的/ 方法/ :/ 别名/ 对/ (/ aliaspair/ )/ 表示法/ [/ 14/ -/ 15/ ]/ 和/ 指向/ (/ point/ -/ to/ )/ 表示法/ [/ 16/ ]/ ,/ 分别/ 对应/ 于/ 别名/ 分析/ 和/ 指向/ 分析/ ./ 指向/ 分析/ 相对/ 别名/ 分析/ 获得/ 的/ 结果/ 更/ 紧凑/ ,/ 且/ 易于/ 后继/ 分析/ 的/ 使用/ ,/ 故/ 本文/ 采用/ 指向/ 分析/ ./ 根据/ 分析/ 时/ 是否/ 采用/ 控制流/ 信息/ ,/ 指向/ 分析/ 可/ 分为/ 流/ 敏感/ [/ 14/ ,/ 25/ ]/ 和/ 流/ 不/ 敏感/ [/ 28/ -/ 30/ ]/ 两种/ ./ 流/ 敏感/ 的/ 分析/ ,/ 考虑/ 控制流/ ,/ 需要/ 迭代/ ,/ 故/ 效率/ 相对/ 较/ 低/ ,/ 但/ 精确度/ 较/ 高/ ,/ 可以/ 得到/ 每一/ 程序/ 点/ 的/ 指向/ 信息/ ./ 而流/ 不/ 敏感/ 的/ 分析/ ,/ 不/ 考虑/ 控制流/ ,/ 认为/ 程序/ 中/ 的/ 语句/ 可以/ 按/ 任意/ 次序/ 执行/ ,/ 因此/ 它/ 只能/ 为/ 每个/ 变量/ 全局/ 地/ (/ 或/ 在/ 一定/ 范围/ 内/ )/ 确定/ 一个/ 指向/ 集/ ,/ 而/ 不能/ 精确/ 到/ 程序/ 点/ ./ 本文/ 的/ 指针/ 分析/ 算法/ 是/ 种流/ 敏感/ 方法/ ./ 如果/ 考虑/ 过程/ 间/ 指针/ 情况/ ,/ 可/ 按/ 是否/ 考虑/ 上下文/ 的/ 影响/ 将/ 指针/ 分析/ 算法/ 分为/ :/ 上下文/ 敏感/ 指针/ 分析/ [/ 16/ ,/ 31/ ]/ 和/ 上下文/ 不/ 敏感/ 指针/ 分析/ [/ 25/ ]/ ./ 上下文/ 不/ 敏感/ 的/ 指针/ 分析/ 算法/ 中/ ,/ 如果/ 一个/ 函数/ 被/ 多次/ 调用/ ,/ 则/ 此/ 函数/ 每个/ 调用/ 点/ 的/ 指针/ 别名/ 信息/ 将/ 被/ 合并/ 在/ 一起/ ,/ 然后/ 用/ 合并/ 后/ 的/ 指针/ 别名/ 信息/ 对/ 该/ 函数指针/ 分析/ ,/ 并/ 把/ 结果/ 传递/ 到/ 每个/ 调用/ 点/ 之后/ 处/ ./ 上下文/ 敏感/ 的/ 过程/ 间/ 指针/ 分析方法/ 可/ 按/ 一定/ 的/ 准则/ 对/ 同一/ 函数/ 不同/ 调用/ 点/ 的/ 调用/ 上下文/ 进行/ 区别/ ,/ 进而/ 对/ 不同/ 的/ 调用/ 上下文/ 产生/ 不同/ 的/ 指针/ 分析/ 结果/ ./ 本文/ 还/ 主要/ 对/ 过程/ 内/ 的/ 指针/ 进行/ 分析/ ,/ 暂/ 不/ 涉及/ 上下文/ 是否/ 敏感/ 的/ 问题/ ./ 我们/ 曾/ 提出/ 的/ 单子/ 切片/ 算法/ 采用/ 了/ 正向/ 切片/ 思想/ ,/ 可/ 适于/ 数据流/ 迭代/ 方法/ 的/ 嵌入/ ,/ 因此/ 本节/ 将/ 采用/ 数据流/ 迭代/ 方法/ 来/ 分析/ 指向/ ./ 4.2/ 算法/ 结合/ 我们/ 单子/ 切片/ 方法/ 和/ 数据流/ 迭代/ 的/ 指向/ 分析/ ,/ 本节/ 将/ 给出/ 含/ 指针/ 的/ 过程/ 内/ 静态/ 切片/ 算法/ ./ 本节/ 仍/ 以/ 本文/ 开始/ 所/ 给/ 的/ W/ 语言/ 为例/ ,/ 待/ 解决/ 的/ 关键问题/ 是/ 对/ 赋值/ 语句/ 的/ 处理/ ,/ 其它/ 的/ 语句/ (/ 如/ 条件/ 语句/ 、/ 循环/ 语句/ 等/ )/ 只要/ 在/ 原有/ 单子/ 切片/ 框架/ 下/ 加入/ 指向/ 分析/ 的/ 计算/ 即可/ ./ 为/ 使/ W/ 语言/ 包含/ 指针/ ,/ 我们/ 将/ 其/ 赋值/ 语句/ 增加/ 左值/ 表达式/ ,/ 并/ 对/ 之/ 进行/ 处理/ ./ 以下/ ,/ 我们/ 将/ 首先/ 给出/ 指向/ 集/ 数据结构/ ,/ 然后/ 讨论/ 含/ 左值/ 表达式/ 赋值/ 语句/ 的/ 形式/ 及其/ 处理/ 方法/ ,/ 最后/ 提及/ 其它/ 语句/ 的/ 处理/ ./ 结构/ :/ 为/ 进行/ 指向/ 分析/ ,/ 我们/ 设计/ 如下/ 的/ 指向/ 集/ 数据/ typeVar/ =/ StringtypePtSet/ =/ [/ Var/ ]/ typePT/ =/ [/ (/ Var/ ,/ PtSet/ )/ ]/ 每个/ 变量/ 所/ 对应/ 的/ 指向/ 集是/ 一个/ 变量/ 集合/ ,/ 所有/ 变量/ 及其/ 指向/ 集/ 构成/ 了/ 一张/ 表/ (/ Hash/ 表/ )/ ,/ 记/ 为/ 指向/ 集/ 类型/ PT/ ./ 它/ 包括/ 5/ 个/ 基本/ 的/ 操作/ 函数/ :/ getPT/ 、/ setPT/ 、/ lkpPT/ 、/ updPT/ 和/ mrgPT/ ,/ 分别/ 用来/ 获取/ 和/ 设置/ 当前/ 指向/ 集表/ PT/ 、/ 查找/ PT/ 中/ 某/ 变量/ 对应/ 的/ 指向/ 集/ (/ 变量/ 集合/ )/ 、/ 更新/ PT/ 中/ 数据/ 和/ 合并/ 两个/ PT/ ./ 为/ 后面/ 讨论/ 的/ 方便/ ,/ 引入/ 强/ 更新/ (/ strongupdate/ )/ 和/ 弱/ 更新/ (/ weakupdate/ )/ 的/ 概念/ ./ 在/ 下面/ 扩展/ 算法/ 中/ ,/ 经常/ 需要/ 更新/ 变量/ 的/ 切片/ 信息/ 与/ 指向/ 信息/ ./ 如果/ 先/ 将/ 变量/ 的/ 原有/ 信息/ 删去/ ,/ 再/ 将/ 新/ 信息/ 赋给/ 变量/ ,/ 称为/ 强/ 更新/ ,/ 是/ 一种/ 替换/ 更新/ 操作/ ,/ 如/ 前面/ 的/ Page5updSli/ 和/ updPT/ 操作/ 函数/ ./ 如果/ 是/ 在/ 保留/ 变量/ 原有/ 信息/ 的/ 基础/ 上/ ,/ 将/ 新/ 信息/ 添加/ 入/ 变量/ 信息/ 中/ ,/ 称为/ 弱/ 更新/ ,/ 即/ 因/ 存在/ 可能/ 指向/ 关系/ ,/ 从而/ 保守/ 地/ 将/ 相应/ 信息/ 合并/ 来/ 更新/ ./ 切片/ 信息/ 和/ 指向/ 信息/ 的/ 弱/ 更新/ 操作/ 函数/ 分别/ 为/ 下面/ 新/ 引入/ 的/ xtdSli/ 和/ xtdPT/ :/ xtdPT/ ∷/ [/ Var/ ]/ →/ PtSet/ →/ PT/ →/ ComptM/ (/ )/ xtdSli/ ∷/ [/ Var/ ]/ →/ Labels/ →/ Slices/ →/ ComptM/ (/ )/ 引入/ 指针/ 后/ 可能/ 需要/ 同时/ 更新/ 多个/ 变量/ 的/ 切片/ 信息/ 和/ 指向/ 信息/ ,/ 故/ xtdPT/ 和/ xtdSli/ 操作/ 函数/ 的/ 第/ 1/ 个/ 参数/ 是/ 个/ 变量/ 列表/ ./ 为了/ 更/ 大程度/ 与/ 引入/ 指针/ 前/ 单子/ 切片/ 算法/ 兼容/ ,/ 这里/ 没有/ 像/ 我们/ 文献/ [/ 10/ ,/ 46/ ]/ 那样/ 修改/ updSli/ ,/ 而是/ 增加/ 了/ xtdSli/ 函数/ ./ 算法/ 1/ ./ 表达式/ 的/ 引用/ 集/ 和/ 指向/ 集/ 算法/ ./ 输入/ :/ 表达式/ e/ 输出/ :/ e/ 的/ 引用/ 集/ Refs/ 和/ 指向/ 集/ PtInfo/ 算法/ 过程/ :/ caseeofe/ 是/ 形如/ y/ 的/ 表达式/ →/ e/ 是/ 形如/ / y/ 的/ 表达式/ →/ e/ 是/ 单纯/ 变量/ y/ →/ e/ 是/ 由/ 某/ 操作符/ 连接/ 两个/ 子/ 表达式/ e1/ 和/ e2/ 构成/ 的/ 表/ e/ 是/ 数值/ 、/ 字符/ 、/ 逻辑/ 等/ 类型/ 常量/ →/ endcase/ ./ 下面/ 考虑/ 如何/ 将/ 指针/ 扩展/ 到/ 现有/ W/ 语言/ 中/ ,/ 并/ 进行/ 相应/ 切片/ 计算/ 和/ 指向/ 分析/ ./ 先对/ W/ 语言/ 赋值/ 语句/ ide/ ·/ ·/ =/ l/ ./ e/ 进行/ 指针/ 扩展/ ./ 在/ 仅/ 考虑/ 单级/ 解/ 引用/ 的/ 情况/ 下/ (/ 多级/ 解/ 引用/ 可分解/ 为/ 多个/ 单级/ 解/ 引用/ 处理/ )/ ,/ ide/ ·/ ·/ =/ l/ ./ e/ 的/ 指针/ 扩展/ 主要/ 包括/ 两/ 方面/ :/ (/ 1/ )/ ide/ 扩展/ 包含/ 形/ 如/ / x/ 的/ 左值/ 表达式/ 符号/ ;/ (/ 2/ )/ l/ ./ e/ 扩展/ 包含/ 形/ 如/ / y/ 和/ y/ 的/ 右值/ 表达式/ ./ 此外/ ,/ 形如/ x/ ·/ ·/ =/ l/ ./ y/ 的/ 赋值/ 语句/ 可/ 用于/ 表示/ 申请/ 堆/ 空间/ 的/ 语句/ (/ y/ 被/ 看成/ 一个/ 数组/ 来/ 整体/ 处理/ )/ ./ 关于/ 数组/ ,/ 我们/ 采用/ 类似/ 文献/ [/ 32/ ]/ 中/ 保守/ 方法/ ,/ 也/ 把/ 数组/ 看作/ 一个/ 整体/ 来/ 处理/ ,/ 即/ 对/ 数组/ 中/ 某个/ 元素/ 的/ 任何/ 更新/ 被/ 看成/ 是/ 对/ 整个/ 数组/ 的/ 更新/ 和/ 引用/ ./ 这样/ ,/ 扩展/ 后/ 的/ 表达式/ l/ ./ e/ 中/ 出现/ 的/ 变量/ 可/ 分为/ 3/ 类/ :/ (/ 1/ )/ 被/ 引用/ 变量/ ;/ (/ 2/ )/ 被解/ 引用/ 变量/ ;/ (/ 3/ )/ 被取/ 地址/ 变量/ ./ 从而/ ,/ 引用/ 集/ Refs/ (/ l/ ./ e/ )/ 除了/ 包括/ 前/ 两类/ 变量/ 外/ ,/ 还/ 包括/ 第/ 2/ 类/ 变量/ 被解/ 引用/ 后/ 可能/ 引用/ 到/ 的/ 变量/ ,/ 即/ Refs/ (/ l/ ./ e/ )/ =/ {/ x/ |/ x/ 是/ 被/ 引用/ 变量/ }/ ∪/ {/ y/ |/ y/ 是/ 被/ 解/ 引用/ 变量/ }/ ∪/ {/ z/ |/ z/ ∈/ lkpPT/ (/ y/ ,/ getPT/ )/ ,/ y/ 是/ 被/ 解/ 引用/ 变量/ }/ ./ 详细/ 的/ Refs/ (/ l/ ./ e/ )/ 计算/ 见/ 算法/ 1/ ./ 算法/ 1/ 中/ PtInfo/ (/ l/ ./ e/ )/ 函数/ 是/ 为/ 进行/ 指向/ 分析/ 而/ 引入/ 的/ ,/ 可/ 计算/ 表达式/ l/ ./ e/ 所/ 可能/ 产生/ 的/ 指向/ 集/ ./ 例如/ ,/ 对于/ 右值/ 表达式/ y/ 产生/ 的/ 指向/ 集/ 就是/ 变量/ y/ 的/ 指向/ 集/ ,/ 即/ lkpPT/ (/ y/ ,/ getPT/ )/ ;/ 而/ 对于/ 右值/ 表达式/ / y/ 产生/ 的/ 指向/ 集是/ 变量/ y/ 指向/ 集中/ 所有/ 变量/ 指向/ 集/ 的/ 并/ 集/ ,/ 即/ 通过/ 算法/ 1/ 可/ 解决/ 右值/ 表达式/ 的/ 变量/ 引用/ 和/ 指向/ 情况/ ,/ 可/ 允许/ 我们/ 对/ 赋值/ 语句/ 进行/ 统一/ 处理/ ,/ 而/ 不必/ 像/ 文献/ [/ 10/ ,/ 46/ ]/ 那样/ 分/ 8/ 种/ 情况/ 分别/ 处理/ ,/ 且/ 使/ 其/ 处理/ 情况/ 更/ 具有/ 一般性/ (/ 如可/ 处理/ 诸如/ / x/ +/ 3/ 含/ 指针/ 运算/ 的/ 表达式/ )/ ,/ 从而/ 更/ 方便/ 扩展/ 现有/ 的/ 单子/ 切片/ 算法/ 求含/ 指针/ 的/ W/ 语言/ 程序/ 切片/ 和/ 指向/ 信息/ ./ 对于/ 扩展/ 指针/ 后/ 的/ 赋值/ 语句/ ,/ 根据/ 左值/ 表达式/ 是否/ 为/ 被/ 解/ 引用/ 变量/ 来强/ 更新/ 和/ 弱/ 更新/ 相应/ 变量/ 的/ 切片/ 和/ 指向/ 集/ ,/ 其/ 具体/ 的/ 包含/ 切片/ 计算/ 和/ 指向/ 分析/ 的/ 单子/ 静态/ 切片/ 语义/ 描述/ 为/ ide/ ·/ ·/ =/ l/ ./ e/ =/ {/ 据/ rdLabels/ ,/ getSli/ 和/ getPT/ 分别/ 获取/ 当前/ 标号/ 集合/ L/ ,/ 切片/ 表/ T/ 和/ 指向/ 集表/ P/ ;/ if/ (/ ide/ 是/ 形如/ / x/ 的/ 左值/ 表达式/ 符号/ )/ thenelseendif/ ./ }/ Page6/ 至于/ W/ 语言/ 的/ 其它/ 语句/ 在/ 扩展/ 指针/ 情况/ 后/ ,/ 由于/ 正向/ 单子/ 切片/ 思想/ 与/ 数据流/ 迭代/ 方法/ 的/ 相似性/ ,/ 所以/ 只/ 需要/ 在/ 原有/ 切片/ 算法/ 中/ 加入/ 相关/ 指向/ 分析/ 计算/ 即可/ ./ 具体/ 地/ ,/ 扩展/ 指针/ 后/ 的/ W/ 程序/ 静态/ 单子/ 切片/ 语义/ 描述/ 为/ ide/ ·/ ·/ =/ l/ ./ e/ =/ {/ L/ ←/ rdLabels/ ;/ T/ ←/ getSli/ ;/ P/ ←/ getPT/ ;/ c1/ ;/ c2/ =/ {/ c1/ ;/ c2/ }/ ;/ skip/ =/ return/ (/ )/ ;/ ifl/ ./ ethenc1elsec2endif/ =/ {/ L/ ←/ rdLabels/ ;/ whilel/ ./ edocendwhile/ =/ Fix/ (/ λ/ f/ ./ {/ L/ ←/ rdLabels/ ;/ readl/ ./ ide/ =/ {/ L/ ←/ rdLabels/ ;/ L/ ←/ {/ l/ }/ ∪/ L/ ;/ writel/ ./ e/ =/ return/ (/ )/ ./ 与/ 第/ 3/ 节/ 切片/ 语义/ 描述/ 相/ 比较/ ,/ 引入/ 指针/ 后/ 的/ 单子/ 静态/ 切片/ 语义/ 描述/ (/ 算法/ )/ 是/ 在/ 原有/ 算法/ 基础/ 上/ 较/ 独立/ 地/ 增加/ 指向/ 分析/ 代码/ 而成/ ,/ 可/ 参见/ 上述/ 描述/ 中/ 加亮/ 部分/ 的/ 代码/ ./ 因/ 算法/ 1/ 统一/ 处理/ 了/ 引入/ 指针/ 后/ 表达式/ 的/ 变量/ 引用/ 和/ 指向/ 情况/ ,/ 从而/ 避免/ 了/ 文献/ [/ 10/ ,/ 46/ ]/ 算法/ 中/ 显现/ 地/ 处理/ 8/ 种/ 类型/ 赋值/ 语句/ ,/ 使得/ 我们/ 最终/ 的/ 算法/ 描述/ 更/ 简洁/ ,/ 更能/ 体现/ 了/ 我们/ 单子/ 切片/ 算法/ 的/ 语言/ 强/ 适应性/ 和/ 可/ 组合/ 性/ ./ 此外/ ,/ 我们/ 算法/ 是/ 流/ 敏感/ 的/ ,/ 具有/ 一定/ 的/ 精度/ ,/ 而且/ 因/ 指向/ 分析/ 和/ 切片/ 计算/ 同时/ 进行/ ,/ 故不需/ 记录/ 每/ 一个/ 程序/ 点/ 的/ 指向/ 信息/ ,/ 而/ 只/ 需/ 记录/ 当前/ 程序/ 点/ 的/ 指向/ 信息/ ./ 即/ 随着/ 程序/ 分析/ 的/ 进行/ ,/ 我们/ 不断更新/ 切片/ 表/ 和/ 指向/ 信息/ 表/ ,/ 而/ 不/ 保留/ 中间/ 分析/ 过程/ 中/ 的/ 指向/ 信息/ ,/ 从而/ 节省/ 了/ 存储空间/ ./ 过程/ 内/ 单子/ 切片/ 算法/ 已/ 被/ 证明/ 是/ 可/ 终止/ 的/ [/ 9/ ]/ ./ 此外/ ,/ 在/ 扩展/ 指针/ 后/ 的/ 单子/ 切片/ 算法/ 中/ ,/ 将/ 所有/ 在/ 同一/ 程序/ 点处/ 申请/ 的/ 堆/ 空间/ 看成/ 一/ 数组/ ,/ 并/ 作为/ 整体/ 处理/ ,/ 以此/ 提供/ 一种/ 表示/ 程序/ 中/ 变量/ 的/ 有限/ 方式/ ,/ 从而/ 保证/ 了/ 本文/ 算法/ 的/ 切片/ 计算/ 和/ 指向/ 分析/ 的/ 可行性/ 和/ 可/ 终止/ 性/ ./ 5/ 实例/ 分析/ 为/ 进一步/ 说明/ 本节/ 的/ 指针/ 单子/ 切片/ 算法/ ,/ 下面/ 分析/ 一个/ 具体/ 的/ 程序/ (/ 见图/ 1/ )/ ,/ 其/ 表达式/ 的/ 标号/ 为/ 该/ 表达式/ 所在/ 语句/ 片断/ 的/ 标号/ ./ 在/ 以下/ 讨论/ 中/ ,/ 我们/ 只/ 给出/ 切片/ 表/ 和/ 指向/ 集/ 变化/ 部分/ 的/ 信息/ ,/ 并令/ L/ (/ v/ )/ 表示/ 变量/ v/ 的/ 切片/ ,/ P/ (/ v/ )/ 表示/ 变量/ v/ 的/ 指向/ 集/ ,/ 其/ 初始值/ 均/ 为/ 空/ ./ 由/ 上节/ 切片/ 语义/ 中/ 赋值/ 语句/ 的/ 算法/ 描述/ 知/ ,/ 在/ 第/ 1/ 号/ 表达式/ 被/ 分析/ 后/ ,/ 其/ 切片/ 表中/ 变量/ flag/ 的/ 切片/ 被/ 更新/ 为/ :/ L/ (/ flag/ )/ =/ {/ 1/ }/ ./ 第/ 2/ ~/ 4/ 号/ 语句/ 组成/ 了/ 一个/ 条件/ 语句/ ,/ 它/ 给/ 变量/ s/ 赋/ 地址/ 值/ ./ 由/ 指针/ 切片/ 算法/ (/ 第/ 4/ 节/ 切片/ 语义/ 描述/ )/ 中/ 条件/ 语句/ 和/ 赋值/ 语句/ 部分/ 描述/ 知/ ,/ 在/ 该/ 条件/ 语句/ 分析/ 过后/ ,/ 变量/ s/ 的/ 切片/ 和/ 指向/ 集/ 分别/ 被/ 更新/ 为/ :/ L/ (/ s/ )/ =/ {/ 1/ ,/ 2/ ,/ 3/ ,/ 4/ }/ ;/ P/ (/ s/ )/ =/ {/ a/ ,/ b/ }/ ./ 类似/ 地/ ,/ 经过/ 5/ 号/ 表达式/ 后/ ,/ 变量/ c/ 的/ 切片/ 更新/ 为/ :/ L/ (/ c/ )/ =/ {/ 5/ }/ ./ 第/ 6/ ~/ 9/ 号/ 语句/ 组成/ 了/ 一个/ 循环/ 语句/ ,/ 按/ 第/ 4/ 节/ 切片/ 语义/ 描述/ 算法/ 需要/ 迭代/ 直至/ 所有/ 变量/ 的/ 切片/ 及/ 指向/ 集/ 达到/ 稳定/ ./ 在/ 第一次/ 循环/ 后/ ,/ 变量/ flag/ ,/ t/ ,/ a/ ,/ b/ 的/ 相关/ 信息/ 发生/ 了/ 变化/ :/ 进行/ 第/ 2/ 次/ 循环/ 后/ ,/ 变量/ a/ ,/ b/ ,/ t/ 的/ 切片/ 信息/ 变化/ 为/ 因/ 切片/ 表/ 和/ 指向/ 集/ 不/ 稳定/ ,/ 需/ 进入/ 第/ 3/ 次/ 循环/ ,/ 该次/ 循环/ 分析/ 后/ ,/ 均/ 达到/ 了/ 稳定/ ,/ 退出/ 循环/ 语句/ ./ 经/ 10/ 号/ 语句/ 后/ ,/ 变量/ 信息/ 不/ 发生/ 任何/ 变化/ ,/ 其/ 最终/ 的/ 切片/ 结果/ 和/ 指向/ 集/ 情况/ 见表/ 1/ ,/ 表中/ L/ (/ Var/ )/ 和/ P/ (/ Var/ )/ 分别/ 表示/ 变量/ Var/ 的/ 切片/ 和/ 指向/ 集/ ./ Page7Varflagsctab/ 显然/ ,/ 可/ 由/ 以上/ 的/ 切片/ 信息/ 和/ Syn/ (/ s/ ,/ L/ )/ [/ 9/ ]/ 获得/ 变量/ 的/ 最终/ 切片/ 结果/ ,/ 即/ 所/ 分析程序/ 的/ 相应/ 片断/ ./ 例如/ :/ 图/ 1/ 程序/ 关于/ 〈/ 10/ ,/ a/ 〉/ 的/ 最终/ 静态/ 切片/ 是/ {/ 1/ ,/ 2/ ,/ 3/ ,/ 4/ ,/ 5/ ,/ 6/ ,/ 7/ ,/ 9/ ,/ 10/ }/ ,/ 其中/ 语句/ 10/ 是/ 根据/ Syn/ (/ s/ ,/ L/ )/ 中/ write/ 规则/ 加入/ 的/ ./ 6/ 算法/ 实现/ 及/ 复杂性/ 分析/ 本文/ 的/ 含/ 指针/ 单子/ 切片/ 算法/ 是/ 在/ 我们/ 之前/ 实现/ 的/ 过程/ 内/ 单子/ 切片/ 器/ [/ 9/ ,/ 19/ ]/ 基础/ 上/ 实现/ 的/ ,/ 根据/ 第/ 4/ 节/ 切片/ 语义/ 描述/ (/ 尤其/ 是/ 加粗/ 部分/ )/ 算法/ ,/ 可/ 方便/ 地/ 将/ 指针/ 扩展/ 到/ 现有/ 的/ 单子/ 切片/ 器中/ ./ 此外/ ,/ 随着/ 程序/ 规模/ 的/ 加大/ ,/ 切片/ 表/ 也/ 随之/ 扩大/ ,/ 为了/ 降低/ 切片/ 表中/ 标号/ 集合/ 操作/ 的/ 时间/ 和/ 空间/ 复杂度/ ,/ 本文/ 采用/ Haskell/ 自带/ 的/ 函数库/ IntSet/ ./ 模块/ IntSet/ 中/ 函数/ 算法/ 是/ 基于/ Patricia/ 树结构/ 的/ [/ 33/ ]/ ,/ 其/ 大部分/ 操作/ (/ 如/ 插入/ 、/ 删除/ )/ 最坏/ 情况/ 下/ 时间/ 复杂度/ 为/ O/ (/ min/ (/ s/ ,/ C/ )/ )/ ,/ 其中/ s/ 为/ 集合/ 元素/ 个数/ ,/ C/ 为/ 与/ 机器/ 相关/ 的/ 常数/ 32/ 或/ 64/ ;/ 集合/ 的/ 交/ 、/ 并/ 、/ 差/ 的/ 最坏/ 时间/ 复杂度/ 为/ O/ (/ s/ )/ ./ 由/ 我们/ 最终/ 开发/ 出来/ 的/ 单子/ 切片/ 器/ 对/ 图/ 1/ 程序/ 切片/ 分析/ 结果/ 见图/ 2/ ./ 结果/ 包含/ 了/ 分析/ 路径/ 、/ 切片/ 表/ 、/ 指向/ 集表/ 、/ 关于/ 〈/ 10/ ,/ a/ 〉/ 的/ 切片/ 结果/ 以及/ 最终/ 所耗/ 的/ CPU/ 时间/ ,/ 运行/ 机器/ 基本/ 配置/ 为/ :/ IntelPentiumIV2/ ./ 93GHz/ 处理器/ 、/ 512MB/ 内存/ ./ 扩展/ 指针/ 后/ 的/ 单子/ 切片/ 算法/ 描述/ 在/ 过程/ 内/ 单子/ 静态/ 切片/ 算法/ 基础/ 上/ 增加/ 了/ 指向/ 分析/ ,/ 结合/ 算法/ 1/ 分析/ 知/ ,/ 指向/ 分析/ 的/ 最坏/ 时间/ 复杂度/ 要/ 小于/ 切片/ 计算/ 的/ 最坏/ 时间/ 复杂度/ ,/ 所以/ 只/ 考虑/ 切片/ 计算/ 的/ 时间/ 复杂度/ ./ 由于/ 模块/ 单子/ 编译器/ // 解释器/ 可/ 自动/ 、/ 安全/ 地/ 将/ 我们/ 的/ 切片/ 单子/ 转换器/ 模块化/ 加载/ 到/ 语义/ 模块/ 中/ ,/ 所以/ 单子/ 切片/ 算法/ 中/ 语句/ 的/ 切片/ 时间/ 复杂度/ 分析/ 主要/ 是/ 针对/ 具体/ 程序语言/ 的/ L/ ./ 本文/ 所/ 定义/ 的/ L/ 时间/ 消耗/ 主要/ 包括/ 查找/ 切片/ 表/ (/ Hash/ 表/ )/ 和/ 合并/ 相应/ 标号/ 集合/ (/ Patricia/ 树/ )/ ,/ 其/ 时间/ 复杂度/ 分别/ 为/ O/ (/ v/ )/ 和/ O/ (/ v/ ×/ m/ )/ ,/ 其中/ v/ 为/ 程序/ 中单/ 变量/ 数目/ ,/ m/ 为/ 程序/ 中加/ 标/ 表达式/ 的/ 数目/ ,/ 故/ L/ 的/ 最坏/ 时间/ 复杂度/ 为/ O/ (/ v/ ×/ m/ )/ ./ 于是/ 过程/ 内/ 单子/ 静态/ 切片/ 算法/ 的/ 最坏/ 时间/ 复杂度/ 为/ O/ (/ v/ ×/ m/ ×/ n/ )/ ,/ 其中/ n/ 为/ 程序/ 中/ 实际/ 被/ 分析/ 的/ 加标/ 表达式/ (/ 含/ 重复/ )/ 数目/ ./ 类似/ 地/ ,/ 由/ 文献/ [/ 9/ ]/ 终止/ 性/ 分析/ 知/ ,/ n/ 与/ m/ 一般/ 呈/ 线性关系/ ,/ 最坏/ 情况/ 下/ n/ =/ O/ (/ m2/ )/ ./ 对于/ 指针/ 扩展/ 算法/ 的/ 切片/ 计算/ ,/ 可能/ 要/ 同时/ 更新/ v/ 个/ 变量/ 的/ 切片/ ,/ 一次/ 更新/ 需/ 耗时/ O/ (/ v/ )/ ,/ 最坏/ 情况/ 下/ ,/ 新增/ 切片/ 计算/ 总/ 耗时/ O/ (/ v/ ×/ m/ )/ ,/ 这/ 与/ 上述/ L/ 的/ 最坏/ 时间/ 复杂度/ 一致/ ,/ 故/ 扩展/ 指针/ 后/ 算法/ 并未/ 增加/ 原有/ 算法/ 的/ 时间/ 复杂度/ ./ 由/ 文献/ [/ 9/ ]/ 复杂度/ 分析/ 知/ ,/ 过程/ 内/ 单子/ 静态/ 切片/ 算法/ 的/ 空间/ 复杂度/ 为/ O/ (/ v/ ×/ m/ +/ v/ ×/ v/ )/ ./ 对于/ 扩展/ 指针/ 后/ 单子/ 切片/ 算法/ 的/ 空间/ 复杂度/ ,/ 主要/ 是/ 增加/ 指向/ 集/ 情况/ ./ 指向/ 集表/ 空间/ 耗费/ 为/ O/ (/ v/ ×/ v/ )/ ,/ 故/ 也/ 未/ 增加/ 原有/ 算法/ 的/ 空间/ 复杂度/ ./ 7/ 相关/ 工作/ 目前/ 关于/ 指针/ 分析/ 综述/ 性/ 的/ 文章/ 有/ 文献/ [/ 34/ ]/ 和/ Page8/ 文献/ [/ 35/ ]/ 等/ ./ 文献/ [/ 34/ ]/ 比较/ 了/ 5/ 种/ C语言/ 指针/ 分析方法/ 的/ 精度/ 和/ 效率/ ,/ 讨论/ 了/ 它们/ 对/ 后续/ 分析/ 的/ 影响/ ./ 文献/ [/ 35/ ]/ 则/ 总结/ 了/ 目前/ 指针/ 分析/ 的/ 相关/ 研究成果/ 及/ 尚待/ 解决/ 的/ 问题/ ./ 指针/ 分析/ 是/ 一个/ 不可判定/ 问题/ [/ 36/ ]/ ,/ 相关/ 的/ 近似算法/ 都/ 在/ 效率/ 和/ 精度/ 间/ 权衡/ ./ 显然/ ,/ 流/ 敏感/ 和/ 上下文/ 敏感/ 的/ 指针/ 分析/ 算法/ 的/ 精度/ 较/ 高/ ,/ 但/ 效率/ 较/ 低/ ./ 故/ Hind/ 等/ 人/ [/ 34/ ,/ 37/ ]/ 建议/ ,/ 我们/ 应/ 根据/ 实际/ 情况/ 的/ 需要/ 来/ 选择/ 指针/ 分析/ 算法/ ,/ 并/ 注意/ 到/ 不同/ 分析方法/ 间/ 的/ 影响/ ./ 他们/ 指出/ ,/ 在/ 上下文/ 敏感/ 的/ 指针/ 分析/ 中/ ,/ 流/ 敏感/ 分析/ 在/ 精度/ 上/ 对/ 基于/ 子集/ 的/ 流/ 不/ 敏感/ 分析/ 提高/ 不大/ ./ 类似/ 地/ ,/ Ruf/ [/ 38/ ]/ 指出/ 上下文/ 敏感/ 分析/ 并/ 不能/ 提高/ 通常/ 流/ 敏感/ 分析/ 的/ 精度/ ./ 为了/ 在/ 含/ 指针/ 程序/ 切片/ 中/ 考虑/ 可能/ 别名/ ,/ Horwitz/ 等/ 人/ [/ 27/ ]/ 提出/ 另/ 一种/ 泛化/ 数据/ 依赖/ 概念/ 的/ 方法/ ,/ 该/ 方法/ 是/ 基于/ 抽象/ 内存/ 表示/ 的/ 可能/ 定义/ 和/ 使用/ 来/ 泛化/ 数据/ 依赖/ ./ 与/ 该/ 思想/ 类似/ ,/ Agrawal/ 等/ 人/ [/ 39/ ]/ 给出/ 了/ 一种/ 可/ 同时/ 处理/ 数组/ 和/ 指针/ 的/ 基于/ PDG/ 静态/ 切片/ 算法/ ./ 将/ 指针/ 引入/ 程序/ 切片/ 后/ ,/ 除了/ 要/ 泛化/ 数据/ 依赖/ 外/ ,/ 可/ 达/ 定义/ 也/ 要/ 作/ 相应/ 的/ 改变/ 以便/ 能/ 考虑/ 左值/ 表达式/ ./ Tip/ [/ 2/ ]/ 根据/ 左值/ 表达式/ 所/ 对应/ 的/ 内存地址/ 布局/ 给出/ 了/ 新/ 的/ 可达/ 定义/ ./ Jiang/ 等/ 人/ [/ 40/ ]/ 给出/ 了/ 含/ 指针/ 和/ 数组/ 的/ C/ 程序/ 切片/ 算法/ ,/ 为/ 指针/ 的/ 解/ 引用/ 和/ 操作/ 地址/ 增加/ 哑元/ 变量/ 和/ 标识符/ ,/ 将/ 指针/ 引用/ 和/ 赋值/ 看成/ 是/ 对/ 相应/ 哑元/ 变量/ 的/ 使用/ 和/ 修改/ ./ Tip/ 在/ 文献/ [/ 2/ ]/ 中/ 示例/ 指出/ 该/ 算法/ 有/ 缺陷/ ./ Lyle/ 等/ 人/ [/ 32/ ]/ 给/ 指针/ 变量/ 赋/ 地址/ ,/ 并/ 对/ 语句/ 中/ 每个/ 指针/ 的/ 所有/ 可能/ 地址/ 构建/ 成表/ ./ Ernst/ [/ 41/ ]/ 给出/ 了/ 一个/ 指针/ 切片/ 器/ ,/ 将/ 存储/ 显示/ 地/ 表示/ 成/ 聚集/ 值/ (/ aggregatevalue/ )/ 来/ 支持/ 指针/ 操作/ ./ 为了/ 处理/ 多级/ 指针/ 的/ 间接/ 引用/ 和/ 赋值/ 问题/ ,/ Lyle/ 等/ 人/ [/ 42/ ]/ 构建/ 了/ 指针/ 状态图/ (/ PointerStateGraph/ ,/ PSS/ )/ ./ Ross/ 等/ 人/ [/ 43/ ]/ 提出/ 了/ 一种/ 约简/ 的/ PDG/ 来/ 处理/ 可能/ 别名/ 问题/ ./ 不同于/ 将/ 指向/ 分析/ 与/ 切片/ 计算/ 分开/ 的/ 上述/ 切片/ 算法/ ,/ 本文/ 算法/ 将/ 正向/ 程序/ 切片/ 思想/ 与/ 数据流/ 迭代/ 分析/ 相结合/ ,/ 可/ 同时/ 进行/ 切片/ 计算/ 和/ 指向/ 分析/ ,/ 从而/ 比/ 一般/ 的/ 数据流/ 迭代/ 算法/ 节省/ 空间/ ,/ 而且/ 其流/ 敏感/ 分析/ 保证/ 了/ 一定/ 的/ 精度/ ./ 此外/ ,/ 它/ 还/ 继承/ 了/ 原有/ 单子/ 切片/ 方法/ 所/ 具有/ 的/ 强/ 扩展性/ 和/ 程序语言/ 适应性/ 的/ 优点/ ./ 本文/ 扩展/ 指针/ 后/ 算法/ 较/ 扩展/ 前/ 单子/ 切片/ 算法/ 时空/ 复杂度/ 都/ 没有/ 增加/ ,/ 且/ 也/ 经/ 一次/ 计算/ 就/ 可/ 得到/ 所有/ 变量/ 的/ 切片/ ./ 另外/ ,/ 本文/ 因/ 利用/ Haskell/ 实现/ 切片/ 算法/ ,/ Haskell/ 的/ 惰性/ 计算/ (/ lazycomputing/ )/ 特性/ ,/ 使得/ 本文/ 的/ 算法/ 效率/ 更高/ ,/ 即/ 只是/ 在/ 需要/ 的/ 时候/ 才/ 计算/ 相应/ 的/ 切片/ 表/ 和/ 指向/ 集等/ ./ 至于/ 其它/ 语义/ 切片/ 方面/ ,/ Ouarbya/ 等/ 人/ [/ 44/ ]/ 虽/ 在/ 十年/ 后/ 将/ Hausler/ [/ 45/ ]/ 提出/ 的/ 指称/ 切片/ (/ 基于/ 程序/ 指称/ 语义/ 的/ 切片/ 方法/ )/ 从/ 过程/ 内/ 扩展/ 到/ 过程/ 间/ ,/ 但/ 目前/ 未见/ 进一步/ 扩展/ (/ 如/ 扩展/ 包含/ 指针/ 等/ )/ ./ 这/ 主要/ 原因/ 是/ 传统/ 指称/ 语义/ 缺乏/ 模块性/ 和/ 重用/ 性/ ,/ 指称/ 切片/ 方法/ 的/ 程序语言/ 适应性/ 较差/ ,/ 阻碍/ 了/ 其/ 进一步/ 扩展/ ./ 我们/ 在/ 文献/ [/ 7/ ,/ 9/ -/ 10/ ]/ 中/ 详细/ 地/ 给出/ 了/ 单子/ 静态/ 切片/ 理论/ 和/ 实现/ 方法/ ,/ 并/ 在/ 文献/ [/ 10/ ,/ 46/ ]/ 中曾/ 初步/ 探讨/ 了/ 有关/ 含/ 指针/ 程序/ 的/ 单子/ 切片/ 算法/ ./ 比较而言/ ,/ 本文/ 进一步/ 完善/ 文献/ [/ 10/ ,/ 46/ ]/ 中/ 指向/ 分析/ 相关/ 概念/ (/ 包括/ 强/ // 弱/ 更新/ 等/ )/ 、/ 指向/ 集/ 数据结构/ 和/ 算法/ 的/ 复杂度/ 分析/ ;/ 给出/ 求/ 表达式/ 引用/ 集/ 和/ 指向/ 集/ 的/ 算法/ (/ 算法/ 1/ )/ ;/ 重新/ 设计/ 指针/ 单子/ 切片/ 算法/ ,/ 对/ 赋值/ 语句/ 进行/ 统一/ 处理/ ,/ 不再/ 分成/ 8/ 种/ 情况/ 分别/ 处理/ ,/ 使得/ 最终/ 算法/ 更能/ 展示/ 单子/ 切片/ 方法/ 的/ 易/ 扩展性/ (/ 增量/ 开发/ )/ ,/ 且/ 使/ 其/ 处理/ 情况/ 更/ 具有/ 一般性/ (/ 如可/ 处理/ 诸如/ / x/ +/ 3/ 含/ 指针/ 运算/ 的/ 表达式/ )/ ;/ 本文/ 还/ 最终/ 实现/ 了/ 含/ 指针/ 单子/ 切片/ 器/ 原型/ ./ 8/ 总结/ 指针/ 的/ 引入/ 给/ 程序/ 分析/ 带来/ 了/ 3/ 个/ 主要/ 问题/ ./ 对于/ 如何/ 表示/ 递归/ 数据结构/ 问题/ ,/ 本文/ 采用/ 了/ 一种/ 简单/ 而/ 又/ 具/ 一定/ 精确度/ 的/ 方法/ ,/ 将/ 所有/ 在/ 同一/ 程序/ 点处/ 申请/ 的/ 堆/ 空间/ 看成/ 一个/ 数组/ ,/ 并/ 将/ 这个/ 数组/ 当成/ 整体/ 处理/ ./ 对于/ 如何/ 在/ 数据/ 依赖/ 中/ 包含/ 别名/ 的/ 问题/ ,/ 我们/ 通过/ 指向/ 分析/ 、/ 扩展/ 赋值/ 语句/ 的/ 语法/ 及/ 重新/ 定义/ 引用/ 集来/ 实现/ 泛化/ 数据/ 依赖/ 的/ ./ 此外/ ,/ 我们/ 还/ 考虑/ 了/ 赋值/ 语句/ 中/ 左值/ 表达式/ 对/ 变量/ 的/ 可能/ 引用/ 情况/ ./ 对于/ 指向/ 分析/ 问题/ ,/ 本文/ 采用/ 了/ 数据流/ 迭代/ 方法/ 来/ 分析/ 指向/ ./ 这种/ 方法/ 是/ 流/ 敏感/ 的/ ,/ 具有/ 一定/ 的/ 精度/ ,/ 而且/ 因/ 指向/ 分析/ 和/ 切片/ 计算/ 同时/ 进行/ ,/ 故/ 不/ 需要/ 像/ 一般/ 的/ 流/ 敏感/ 分析方法/ 那样/ 记录/ 每/ 一个/ 程序/ 点/ 的/ 指向/ 信息/ ,/ 而/ 只/ 需/ 记录/ 当前/ 所/ 分析/ 的/ 程序/ 点处/ 指向/ 信息/ ,/ 从而/ 节省/ 了/ 存储空间/ ./ 本文/ 将/ 指向/ 分析/ 与/ 已有/ 的/ 单子/ 静态/ 切片/ 方法/ 结合/ ,/ 实现/ 了/ 模块/ 单子/ 切片/ 方法/ 对/ 指针/ 的/ 扩展/ ./ 通过/ 将/ 指向/ 分析/ 融入/ 切片/ 计算/ ,/ 我们/ 仍然/ 可以/ 直接/ 在/ 抽象/ 语法/ 项上/ 计算/ 切片/ ./ 扩展/ 后/ 的/ 单子/ 切片/ 算法/ 可以/ 很/ 好/ 地/ 融合/ 进/ 单子/ 切片/ 方法/ 中/ ,/ 且/ 扩展/ 后/ 的/ 单子/ 切片/ 方法/ 还/ 继承/ 了/ 原有/ 算法/ 较强/ 的/ 组合/ 性/ 和/ 程序语言/ 适应性/ ./ 由于/ 单子/ 语义/ 的/ 可执行性/ 保证/ 了/ 我们/ 切片/ 方法/ Page9/ 的/ 可行性/ ./ 从而/ 单子/ 切片/ 技术/ 能/ 在/ 一定/ 程度/ 上/ 解决目前/ 在/ 动态/ 切片/ 、/ 面向对象/ 程序/ 切片/ 及/ 并发程序/ 切片/ 等/ 方面/ 存在/ 的/ 问题/ ./ 这/ 也/ 是/ 我们/ 下/ 一步/ 研究/ 工作/ 重点/ ,/ 并/ 打算/ 针对/ 某个/ 具体/ 实际/ 语言/ (/ 如/ Java/ )/ 进行/ 单子/ 切片/ 研究/ 及其/ 切片/ 工具/ 的/ 开发/ ./ 

