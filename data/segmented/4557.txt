Page1/ 基于/ 接口/ 自动机/ 与/ 符号执行/ 的/ 嵌入式软件/ 测试用例/ 生成/ 1/ )/ (/ 清华大学/ 计算机科学/ 与/ 技术/ 系/ 北京/ 100084/ )/ 2/ )/ (/ 清华大学/ 信息科学/ 与/ 技术/ 国家/ 实验室/ 北京/ 100084/ )/ 3/ )/ (/ 清华大学/ 软件/ 学院/ 北京/ 100084/ )/ 4/ )/ (/ 波特兰/ 州立大学/ Maseeh/ 电气/ 与/ 计算机/ 工程学院/ 波特兰/ 97207/ 美国/ )/ 摘要/ 随着/ 嵌入式软件/ 规模/ 、/ 复杂度/ 的/ 持续增长/ ,/ 基于/ 构件/ 的/ 设计/ 技术/ 已/ 在/ 大规模/ 嵌入式/ 系统/ 开发/ 中/ 得到/ 广泛应用/ ./ 嵌入式/ 构件/ 测试/ 是/ 保证/ 构件/ 质量/ 以及/ 构件/ 间/ 集成/ 构造/ 的/ 重要/ 手段/ ./ 基于/ 模型/ 的/ 测试/ 是/ 嵌入式软件/ 测试/ 的/ 重要/ 方法/ ,/ 通过/ 基础/ 模型/ 描述/ 系统/ 预期/ 的/ 行为/ 特性/ ,/ 以/ 提供/ 用例/ 生成/ 的/ 基础/ ./ 文中/ 针对/ 嵌入式软件/ 构件/ ,/ 提出/ 建立/ 构件/ 扩展/ 语义/ 接口/ 自动机/ 模型/ (/ ExtendedSemanticInterfaceAutomata/ ,/ ESIA/ )/ ,/ 通过/ 对接口/ 自动机/ 模型/ 进行/ 变量/ 、/ 约束条件/ 等/ 扩展/ ,/ 支持/ 构件/ 行为/ 特性/ 的/ 描述/ 与/ 理解/ ./ 以/ ESIA/ 为/ 基础/ 模型/ ,/ 提出/ 了/ 基于/ 符号执行/ 的/ ESIA/ -/ Symbolic/ 测试用例/ 生成/ 方法/ ,/ 通过/ 搜索/ 有效/ 的/ 事件/ // 数据/ 序列/ ,/ 设计/ 相关/ 测试用例/ 与/ 测试/ 场景/ ./ 实验/ 以/ 高速/ 列车/ 车载/ 通信/ 系统软件/ 为例/ 进行/ 建模/ 与/ 测试/ 生成/ ,/ 并/ 在/ 测试/ 覆盖率/ 、/ 效率/ 、/ 有效性/ 等/ 方面/ 与/ 相关/ 测试/ 生成/ 方法/ 进行/ 了/ 对比/ ./ 关键词/ 扩展/ 语义/ 接口/ 自动机/ ;/ 符号执行/ ;/ 测试用例/ 生成/ 1/ 引言/ 近年来/ ,/ 基于/ 构件/ 的/ 设计/ (/ Component/ -/ BasedDesign/ ,/ CBD/ )/ 技术/ 越来越/ 广泛/ 地/ 应用/ 于/ 大规模/ 、/ 复杂/ 嵌入式软件/ 开发/ ./ CBD/ 将/ 软件/ 功能/ 分解/ 为/ 高/ 内聚/ 、/ 低/ 耦合/ 的/ 功能模块/ ,/ 并/ 集成/ 构造/ 嵌入式软件/ 系统/ ./ CBD/ 可/ 降低/ 设计/ 与/ 开发/ 的/ 复杂度/ ,/ 提高/ 开发/ 效率/ ,/ 提高/ 软件系统/ 质量/ ,/ 改进/ 系统/ 可伸缩性/ ./ 构件/ 可靠性/ 是/ CBD/ 系统/ 可信性/ 的/ 基础/ ,/ 如何/ 保证/ 构件/ 设计/ 与/ 实现/ 的/ 正确性/ 成为/ 重要/ 的/ 问题/ ./ 嵌入式软件/ 构件/ 测试/ 是/ 保证/ 嵌入式软件/ 质量/ 的/ 有效/ 手段/ ./ 近年来/ ,/ 基于/ 模型/ 的/ 测试/ (/ Model/ -/ BasedTesting/ ,/ MBT/ )/ 技术/ 在/ 嵌入式软件/ 测试/ 中/ 逐渐/ 得到/ 应用/ ./ 其中/ ,/ 常用/ 的/ 基础/ 模型/ 有/ 扩展/ 有限/ 自动机/ 、/ 统一/ 建模语言/ UML/ 、/ 标号/ 迁移/ 系统/ 等/ [/ 1/ ]/ ./ 接口/ 自动机/ (/ InterfaceAutomat/ ,/ IA/ )/ 是/ 一种/ 轻量级/ 的/ 描述/ 构件/ 接口/ 行为/ 的/ 状态机/ 模型/ [/ 2/ ]/ ./ 构件/ 接口/ 是/ 构件/ 功能/ 的/ 外部/ 表现/ ,/ 接口/ 可/ 屏蔽/ 构件/ 间/ 差异/ ,/ 是/ 嵌入式/ 构件/ 组装/ 和/ 重用/ 的/ 基础/ ./ IA/ 模型/ 可/ 描述/ 构件/ 的/ 外部/ 行为/ 特性/ 、/ 接口/ 交互/ 行为/ 、/ 数据通信/ 过程/ 等/ ,/ 是/ 嵌入式/ 构件/ 建模/ 的/ 有效/ 工具/ ./ 本文/ 对/ IA/ 模型/ 进行/ 扩展/ ,/ 提出/ 了/ ESIA/ 模型/ ,/ 从/ 以下/ 3/ 个/ 方面/ 提升/ 模型/ 的/ 表达能力/ :/ (/ 1/ )/ 增强/ 了/ 变量/ 定义/ ./ IA/ 模型/ 构建/ 了/ 基于/ 接口/ 事件/ 的/ 状态/ 迁移/ 序列/ ,/ 在/ ESIA/ 模型/ 中/ 增加/ 参数/ 变量/ 、/ 内部/ 变量/ 的/ 定义/ ,/ 以/ 对/ 行为/ 参数/ 、/ 中间/ 计算/ 变量/ 与/ 计算结果/ 等/ 构件/ 运行/ 过程/ 中/ 的/ 数据/ 进行/ 描述/ ./ (/ 2/ )/ 增强/ 了/ 行为/ 定义/ ./ IA/ 模型/ 定义/ 了/ 输入/ 行为/ 、/ 输出/ 行为/ 、/ 内部/ 行为/ ,/ 在/ ESIA/ 模型/ 中/ 使用/ 特定/ 类型/ 变量/ 定义/ 各类/ 行为/ 参数/ ,/ 以/ 完整/ 、/ 准确/ 描述/ 构件/ 行为/ 与/ 交互/ 过程/ ./ (/ 3/ )/ 增强/ 了/ 约束条件/ 定义/ ./ IA/ 模型/ 定义/ 了/ 构件/ 的/ 行为/ 序列/ ,/ 在/ ESIA/ 模型/ 中/ 增加/ 变量/ 取值/ 约束/ 定义/ ,/ 并/ 通过/ 各类/ 运算符/ ,/ 将/ 不同/ 参数/ 、/ 中间/ 计算/ 变量/ 的/ 取值/ 约束/ 连接/ 构成/ 行为/ 的/ 前置/ 、/ 后置/ 条件/ ,/ 以/ 完整/ 描述/ 构件/ 行为/ 执行/ 约束/ 与/ 构件/ 运行/ 规律/ ./ 本文/ 以/ ESIA/ 为/ 基础/ 模型/ ,/ 提出/ 了/ ESIA/ -/ Symbolic/ 测试/ 生成/ 方法/ ,/ 支持/ 正常/ 、/ 异常/ 测试用例/ 的/ 自动/ 生成/ ,/ 主要/ 内容/ 如下/ :/ (/ 1/ )/ 制定/ 模型/ 覆盖/ 准则/ ./ 针对/ ESIA/ 模型/ ,/ 制定/ 相应/ 结构/ 覆盖/ 与/ 数据/ 覆盖/ 准则/ ,/ 从/ 模型/ 结构/ 元素/ 覆盖/ 、/ 数据类型/ 和/ 等价/ 类/ 覆盖/ 两个/ 方面/ 指导/ 测试/ 生成/ ./ (/ 2/ )/ 测试/ 路径/ 生成/ ./ 在/ 测试/ 路径/ 搜索/ 过程/ 中/ ,/ 引入/ 符号执行/ (/ SymbolicExecution/ ,/ SE/ )/ 方法/ [/ 3/ -/ 4/ ]/ ,/ 生成/ 满足/ 模型/ 覆盖/ 准则/ 的/ 测试/ 路径/ 集合/ ./ 伴随/ 测试/ 路径/ 的/ 增长/ ,/ 实时/ 分析/ 行为/ 参数/ 取值/ 约束/ 的/ 可/ 满足/ 性/ ,/ 分别/ 记录/ 生成/ 的/ 正常/ 、/ 异常/ 测试/ 路径/ ./ 针对/ 嵌入式软件/ 的/ 特点/ ,/ 对/ 与/ 硬件/ 紧密/ 相关/ 的/ 参数/ 或/ 特殊/ 环境参数/ 进行/ 插桩/ ,/ 采用/ 确值/ // 符号/ 联合/ 执行/ 方法/ ,/ 进行/ 确值/ // 符号/ 混合/ 计算/ 以及/ 约束条件/ 的/ 混合/ 求解/ ./ (/ 3/ )/ 测试数据/ 生成/ ./ 在/ 每条/ 正常/ 测试/ 路径/ 之上/ ,/ 采用/ 约束/ 求解/ 技术/ 生成/ 正常/ 测试数据/ ./ 选取/ 一个/ 最小/ 测试/ 路径/ 子集/ ,/ 并/ 使用/ 基于/ 约束条件/ 翻转/ 、/ 基于/ 插桩/ 、/ 基于/ 反例/ 等/ 方法/ 生成/ 异常/ 测试数据/ ./ 本文/ 以/ 列车/ 通信/ 网络/ 多功能/ 车辆/ 总线/ (/ Multi/ -/ functionVehicleBus/ ,/ MVB/ )/ 网卡/ 软件/ 为例/ 进行/ 测试/ 生成/ ./ 实验/ 结果显示/ ,/ 通过/ ESIA/ -/ Symbolic/ 方法/ 的/ 应用/ ,/ 可/ 生成/ 满足/ 结构/ 覆盖/ 与/ 数据/ 覆盖/ 准则/ 的/ 测试用例/ 集合/ ,/ 包含/ 正常/ 、/ 异常/ 测试数据/ ,/ 可/ 有效/ 检测/ 构件/ 中/ 存在/ 的/ 缺陷/ ./ 本文/ 第/ 2/ 节/ 介绍/ ESIA/ 模型/ 的/ 相关/ 内容/ ;/ 第/ 3/ 节/ 介绍/ ESIA/ 模型/ 的/ 结构/ 与/ 数据/ 覆盖/ 准则/ ,/ 叙述/ 了/ 基于/ 符号执行/ 的/ ESIA/ -/ Symbolic/ 测试/ 生成/ 方法/ ;/ 第/ 4/ 节/ 介绍/ 内建/ ESIA/ -/ Symbolic/ 方法/ 的/ ATES/ 测试/ 平台/ ,/ 并/ 依托/ 该/ 平台/ 进行/ MVB/ 网卡/ 实时/ 协议/ (/ RealTimeProtocol/ ,/ RTP/ )/ 软件/ 的/ 建模/ 与/ 测试/ 生成/ ,/ 并/ 对/ 实验/ 结果/ 进行/ 分析/ 与/ 评估/ ;/ 第/ 5/ 节/ 叙述/ 相关/ 领域/ 的/ 研究/ 工作/ ;/ 第/ 6/ 节对/ 全文/ 进行/ 总结/ ./ 2/ 扩展/ 语义/ 接口/ 自动机/ 本节/ 对/ IA/ 模型/ 进行/ 变量/ 扩展/ 、/ 行为/ 扩展/ 、/ 约束条件/ 扩展/ ,/ 给出/ ESIA/ 模型/ 定义/ ,/ 以/ 其/ 作为/ ESIA/ -/ Symbolic/ 方法/ 的/ 基础/ 模型/ ./ Page32/ ./ 1/ 语义/ 扩展/ 2.1/ ./ 1/ 变量/ 扩展/ 嵌入式软件/ 构件/ 在/ 运行/ 过程/ 中/ ,/ 维护/ 各类/ 内部/ 变量/ 、/ 行为/ 参数/ 等/ ./ 在/ ESIA/ 中/ 进行/ 变量/ 扩展/ ,/ 分别/ 定义/ 行为/ 参数/ 集合/ XR/ 、/ 内部/ 变量/ 集合/ XH/ ./ 其中/ ,/ 行为/ 参数/ 表示/ 各类/ 行为/ 的/ 参数/ ,/ 而/ 内部/ 变量/ 表示/ 构件/ 维护/ 的/ 中间/ 计算/ 变量/ 与/ 计算结果/ ./ / χ/ ∈/ XR/ 或/ / χ/ ∈/ XH/ 定义/ 为/ 一个/ 四元组/ (/ type/ ,/ init/ ,/ D/ (/ χ/ )/ ,/ Unit/ )/ ,/ type/ 表示/ 变量/ 类型/ ,/ χ/ χ/ 值/ ,/ D/ (/ χ/ )/ 表示/ 定义域/ ,/ Unit/ 表示/ 度量/ 单位/ ./ 其中/ ,/ 变量/ 类型/ 可以/ 是/ 整型/ 、/ 实型/ 、/ 布尔/ 型/ 等/ ./ 在/ ESIA/ 中/ 进一步/ 定义/ 状态变量/ χ/ V/ ∈/ XH/ ,/ 以/ 状态变量/ 取值/ 描述/ 构件/ 所/ 处/ 状态/ ./ χ/ V/ 同样/ 为/ 一个/ 四元组/ (/ 整型/ ,/ 0/ ,/ 0/ / χ/ / N/ ,/ NULL/ )/ ,/ 其中/ 状态变量/ 无/ 度量/ 单位/ ,/ NULL/ 表示/ 度量/ 单位/ 未定义/ ./ χ/ V/ 在/ 定义域/ 范围/ 内/ 的/ 每项/ 取值/ 均/ 代表/ ESIA/ 模型/ 的/ 一个/ 状态/ ./ 嵌入式软件/ 常/ 具有/ 安全性/ 设计/ 策略/ ,/ 当/ 环境/ 条件/ 异常/ 时/ ,/ 构件/ 执行/ 将/ 进入/ 对应/ 的/ 异常/ 状态/ ,/ 以/ 对/ 异常情况/ 进行/ 处理/ ./ 因此/ ,/ 在/ ESIA/ 中将/ 构件/ 状态/ 分为/ 正常/ 状态/ 、/ 异常/ 状态/ ,/ 并/ 对/ 异常/ 状态/ 进行/ 标记/ ./ 定义/ 异常/ 状态/ 标识/ 数组/ E/ _/ tag/ [/ N/ ]/ ,/ 当/ E/ _/ tag/ [/ i/ ]/ 值为/ 1/ 时/ ,/ 表示/ χ/ V/ =/ i/ 对应/ 的/ 状态/ 为/ 异常/ 状态/ ,/ 当/ E/ _/ tag/ [/ i/ ]/ 值为/ 0/ 时/ 表示/ 正常/ 状态/ ./ 2.1/ ./ 2/ 行为/ 扩展/ 在/ 嵌入式软件/ 中/ ,/ 行为/ 通常/ 具有/ 参数/ ./ 设/ AI/ 、/ AO/ 、/ AH/ 分别/ 为/ 构件/ 的/ 输入/ 、/ 输出/ 及/ 内部/ 行为/ 集合/ ,/ 在/ ESIA/ 中/ 进行/ 行为/ 扩展/ ,/ 分别/ 定义/ 各类/ 行为/ 的/ 参数/ ./ 当/ a/ ∈/ AI/ ,/ 定义/ a/ 的/ 输入/ 参数/ 集合/ 为/ Pa/ =/ {/ χ/ I/ χ/ In/ }/ ,/ / χ/ I/ 当/ a/ ∈/ AO/ ,/ 定义/ a/ 的/ 输出/ 参数/ 集合/ 为/ Pa/ =/ {/ χ/ OO/ χ/ m/ }/ ,/ / χ/ O/ 当/ a/ ∈/ AH/ ,/ 定义/ a/ 的/ 内部/ 参数/ 集合/ 为/ Pa/ =/ {/ χ/ H/ χ/ Hl/ }/ ,/ / χ/ H/ 构件/ 运行/ 通常/ 需要/ 一组/ 中间/ 计算/ 变量/ 的/ 支持/ ,/ 以/ 获取/ 构件/ 维护/ 的/ 数据/ 或/ 保存/ 中间/ 计算结果/ ,/ 通常/ 以/ 集合/ XH/ 中/ 的/ 内部/ 变量/ 表示/ ./ 在/ ESIA/ 中/ ,/ 行为/ 在/ 特定/ 状态/ 下/ 可/ 被/ 特定/ 事件/ (/ Event/ )/ 触发/ ,/ 由此/ 定义/ ESIA/ 的/ 事件/ 集合/ E/ ./ 其中/ ,/ 输入/ 行为/ 需要/ 外部/ 事件/ 触发/ 执行/ ,/ 而/ 内部/ 行为/ 、/ 输出/ 行为/ 既/ 可/ 由/ 事件/ 触发/ 执行/ ,/ 也/ 可/ 自发/ 执行/ ./ 对于/ / e/ ∈/ E/ ,/ A/ [/ e/ ]/ 表示/ 由/ 事件/ e/ 触发/ 执行/ 的/ 全部/ 行为/ 集合/ ,/ a/ ∈/ A/ [/ e/ ]/ 表示/ 行为/ a/ 由/ 事件/ e/ 触发/ ./ 2.1/ ./ 3/ 约束条件/ 扩展/ 约束条件/ 描述/ 了/ 行为/ 执行/ 的/ 限制/ 条件/ ./ 当/ 满足/ 相关/ 约束条件/ 时/ ,/ 构件/ 运行/ 将/ 表现/ 出/ 符合/ 设计/ 预期/ 的/ 行为/ 特性/ ./ 其中/ ,/ 变量/ 的/ 取值/ 约束/ 、/ 行为/ 的/ 前置/ 与/ 后置/ 条件/ 是/ 重要/ 的/ 约束条件/ 形式/ ./ 约束条件/ 表达式/ 由/ 运算符/ 连接/ 不同/ 的/ 常量/ 、/ 变量/ 等/ 构成/ ,/ 为/ 一阶/ 逻辑/ 表达式/ 形式/ ./ 其中/ ,/ 常量/ 与/ 变量/ 可/ 为/ 整型/ 、/ 实型/ 、/ 布尔/ 型/ 等/ 类型/ ,/ 使用/ 的/ 运算符/ 及其/ 适用/ 变量/ 类型/ 如表/ 1/ 所示/ ./ 符号/ +/ -/ / // =/ (/ )/ </ / =/ =/ !/ =/ ∧/ ∨/ / 本文/ 定义/ 以下/ 6/ 种/ 基本/ 约束/ 表达式/ ./ 定义/ 1/ ./ 基本/ 变量/ 约束/ 表达式/ ./ χ/ ∈/ X/ 为/ ESIA/ 中/ 的/ 一项/ 变量/ ,/ v/ ∈/ D/ (/ χ/ )/ 为/ 对应/ 阈值/ ,/ 基本/ 变量/ 约束/ 表达式/ 定义/ 如下/ :/ (/ 1/ )/ 小于/ 最大值/ :/ χ/ </ v/ ;/ (/ 2/ )/ 小于/ 等于/ 最大值/ :/ χ/ / v/ ;/ (/ 3/ )/ 大于/ 最小值/ :/ v/ </ χ/ ;/ (/ 4/ )/ 大于/ 等于/ 最小值/ :/ v/ / χ/ ;/ (/ 5/ )/ 等于/ 确定/ 值/ :/ χ/ =/ =/ v/ ;/ (/ 6/ )/ 不/ 等于/ 确定/ 值/ :/ χ/ !/ =/ v/ ;/ 以上/ 6/ 种/ 基本/ 约束/ 表达式/ 均/ 适用/ 于/ 整型/ 、/ 实型/ 变量/ ,/ 后/ 两种/ 还/ 适用/ 于/ 布尔/ 型/ 变量/ ./ 此外/ ,/ 复杂/ 约束/ 可/ 通过/ 逻辑/ 运算符/ 连接/ 基本/ 约束/ 表达式/ 得到/ ./ 定义/ 2/ ./ 基本/ 行为/ 约束/ 表达式/ ./ a/ ∈/ A/ 为/ ESIA/ 中/ 的/ 一项/ 行为/ ,/ 其/ 约束/ 表达式/ 定义/ 如下/ :/ 其中/ ,/ PreCon/ (/ a/ )/ 为/ 前置条件/ ,/ 描述/ 一项/ 行为/ 可/ 激活/ 执行/ 的/ 前提条件/ ;/ PostCon/ (/ a/ )/ 为/ 后置/ 条件/ ,/ 描述/ 一项/ 行为/ 执行/ 效果/ 是否/ 符合/ 预期/ 的/ 判断/ 条件/ ./ 在/ ESIA/ 中/ ,/ 行为/ 前置/ 、/ 后置/ 条件/ 由/ 状态变量/ 、/ 行为/ 参数/ 、/ 内部/ 变量/ 取值/ 约束/ 等/ 通过/ 逻辑/ 运算符/ 连接/ 构成/ ,/ 同样/ 为/ 一阶/ 逻辑/ 表达式/ ./ 其中/ ,/ 状态变量/ 约束/ 描述/ 行为/ 可/ 被/ 激活/ 的/ 状态/ 以及/ 迁移/ 的/ 目标/ 状态/ ;/ Page4/ 行为/ 参数/ 、/ 中间/ 计算/ 变量/ 约束/ 描述/ 行为/ 执行/ 对/ 相关/ 数据/ 的/ 要求/ 以及/ 对/ 执行/ 结果/ 的/ 约束/ ./ 通过/ 在/ 前置/ 、/ 后置/ 条件/ 中/ 整合/ 各类/ 参数/ 、/ 变量/ 取值/ 约束/ ,/ 获得/ 完整/ 、/ 简洁/ 的/ 行为/ 约束/ 描述/ ./ 在/ ESIA/ 中/ ,/ 执行/ 效果/ 是/ 对/ 一组/ 输入/ 变量/ 及/ 中间/ 变量/ 进行/ 特定/ 计算/ ,/ 并/ 根据/ 计算结果/ 更新/ 一组/ 输出/ 变量/ 或/ 中间/ 计算/ 变量/ 的/ 值/ ./ 行为/ a/ 的/ 执行/ 效果/ 表示/ 为/ eff/ (/ a/ )/ ./ 一项/ 执行/ 效果/ 包括/ 更新/ 变量/ 与/ 效果/ 表达式/ 两/ 部分/ ./ 其中/ ,/ 更新/ 变量/ 描述/ 行为/ 执行/ 后/ 、/ 其值/ 将/ 被/ 更新/ 的/ 变量/ ;/ 而/ 效果/ 表达式/ 描述/ 行为/ 执行/ 后/ 、/ 变量/ 取值/ 更新/ 的/ 方式/ ./ 如果/ 后置/ 条件/ 中/ 的/ 一项/ 变量/ 为/ 对应/ 行为/ 的/ 一项/ 更新/ 变量/ ,/ 则/ 可/ 在/ 后置/ 条件/ 中/ 使用/ 对应/ 效果/ 表达式/ 替换/ 该/ 变量/ ,/ 从而/ 将/ 更新/ 变量/ 的/ 取值/ 约束/ 转化/ 为/ 一组/ 输入/ 、/ 中间/ 变量/ 的/ 取值/ 约束/ ./ 1/ / XH/ ;/ XO/ 为/ 行为/ 输出/ 参数/ 集合/ ,/ XO/ / XR/ ;/ XH/ 设/ ESIA/ 的/ 状态变量/ 为/ χ/ V/ ,/ 输入/ 行为/ a/ 在/ 状态/ (/ χ/ V/ =/ =/ valuei/ )/ 下/ 可/ 被/ 激活/ 执行/ ;/ Pa/ 为/ 行为/ 输入/ 参数/ 集合/ ,/ Pa/ / XR/ ;/ XHXH/ 行为/ 更新/ 的/ 中间/ 计算/ 变量/ 集合/ ,/ XH/ 取值/ 约束/ 记为/ constrain/ (/ χ/ )/ ;/ LF/ [/ X/ ]/ 表示/ 集合/ X/ 中/ 所有/ 变量/ 取值/ 约束/ 构成/ 的/ 约束条件/ 表达式/ ;/ 则/ a/ 的/ 前置条件/ 、/ 后置/ 条件/ 分别/ 表示/ 为/ PreCon/ (/ a/ )/ =/ LF/ (/ χ/ V/ )/ ∧/ LF/ (/ Pa/ )/ ∧/ LF/ (/ XH/ =/ (/ (/ χ/ V/ =/ =/ valuei/ )/ ∧/ (/ constrain/ (/ χ/ Iconstrain/ (/ χ/ Iconstrain/ (/ χ/ HPostCon/ (/ a/ )/ =/ LF/ (/ χ/ V/ )/ ∧/ LF/ (/ XO/ )/ ∧/ LF/ (/ XH/ =/ (/ (/ χ/ V/ =/ =/ valuei/ )/ ∧/ (/ constrain/ (/ χ/ constrain/ (/ χ/ Oconstrain/ (/ χ/ H/ 在/ ESIA/ 中/ ,/ 一项/ 行为/ 可能/ 具有/ 不同/ 的/ 前置条件/ ,/ 描述/ 了/ 不同/ 的/ 参数/ 取值/ 范围/ ,/ 对应/ ESIA/ 的/ 不同/ 执行/ 分支/ ./ 当/ 行为/ 被/ 特定/ 外部/ 事件/ 触发/ 时/ ,/ 如果/ 参数/ 取值/ 满足/ 特定/ 前置条件/ ,/ ESIA/ 将/ 进入/ 对应/ 的/ 执行/ 分支/ ./ 因此/ ,/ ESIA/ 的/ 执行/ 路径/ 由/ 外部/ 事件/ 序列/ 与/ 参数/ 取值/ 共同/ 确定/ ./ 2.2/ 扩展/ 语义/ 接口/ 自动机/ 定义/ 扩展/ 语义/ 接口/ 自动机/ ESIA/ 模型/ 定义/ 如下/ ./ 定义/ 3/ ./ 扩展/ 语义/ 接口/ 自动机/ ./ 构件/ P/ 的/ ESIA/ 定义/ 为/ 一个/ 七元/ 组/ P/ =/ (/ VP/ ,/ VinitE/ )/ ,/ 其中/ :/ VP/ 是/ 一个/ 有限/ 状态/ 集合/ ;/ VinitP/ / VP/ 表示/ 初始状态/ 集合/ ,/ 每/ 一个/ 自动机/ 可/ 包含/ 一组/ 初始状态/ ,/ 如果/ VinitVinitP/ 包含/ 多项/ 元素/ ,/ 表示/ ESIA/ 具有/ 多个/ 初始状态/ ;/ AP/ 表示/ 行为/ 集合/ ,/ 包含/ AI/ 交/ 的/ 子集/ ,/ 分别/ 表示/ 输入/ 行为/ 、/ 输出/ 行为/ 、/ 内部/ 行为/ 集合/ ;/ TP/ 表示/ 状态/ 间/ 迁移/ 关系/ 集合/ ,/ TP/ / VP/ ×/ AP/ ×/ VP/ ,/ / t/ ∈/ TP/ 表示/ 一个/ 状态/ 迁移/ 过程/ ,/ 具体/ 描述/ 如下/ :/ t/ =/ (/ q/ )/ 当/ 前置条件/ 满足/ 时/ ,/ 行为/ a/ 被/ 激活/ 执行/ ,/ 引起/ 状态/ 迁移/ ,/ 并/ 产生/ 执行/ 效果/ ;/ 当/ 后置/ 条件/ 满足/ 时/ ,/ 迁移/ 过程/ 完成/ ;/ XP/ 表示/ 变量/ 集合/ ,/ 包含/ XR/ 的/ 子集/ ,/ 分别/ 表示/ 行为/ 参数/ 集合/ 、/ 内部/ 变量/ 集合/ ,/ 状态变量/ 同样/ 为/ 一项/ 内部/ 变量/ ;/ Ψ/ P/ 表示/ 行为/ 约束/ 集合/ ,/ / ψ/ (/ a/ )/ ∈/ Ψ/ P/ 定义/ 为/ 一个二元/ 组/ ,/ 即/ ψ/ (/ a/ )/ =/ (/ PreCon/ (/ a/ )/ ,/ PostCon/ (/ a/ )/ )/ ,/ 其中/ PreCon/ (/ a/ )/ 表示/ 行为/ a/ 的/ 前置条件/ ,/ PostCon/ (/ a/ )/ 表示/ 后置/ 条件/ ;/ E/ 是/ 一个/ 有限/ 事件/ 集合/ ,/ 触发/ 特定/ 行为/ 执行/ ./ 以/ 一个/ 门禁/ 软件/ 构件/ 为例/ ,/ 进一步/ 说明/ ESIA/ 模型/ 相关/ 定义/ ./ 该/ 构件/ 验证/ 人工/ 输入/ 的/ 门禁/ 编号/ 与/ 密码/ 是否/ 正确/ ,/ 如果/ 正确/ 则/ 通过/ 验证/ 、/ 门禁/ 解锁/ ,/ 否则/ 不予/ 通过/ 并/ 返回/ 错误信息/ ./ 门禁/ 构件/ 的/ ESIA/ 模型/ 如图/ 1/ 所示/ ./ 模型/ 中/ 各项/ 元素/ 的/ 定义/ 如表/ 2/ 所示/ ./ 在/ Access/ _/ Control/ 模型/ 中/ ,/ 当/ 人工/ 输入/ 的/ 门禁/ 编号/ 或/ 密码/ 错误/ 时/ ,/ 构件/ 执行/ 将/ 进入/ 异常/ 状态/ “/ 4/ ”/ ,/ 并/ 返回/ 错误代码/ “/ 90/ ”/ ;/ 当/ 二者/ 都/ 正确/ 时/ ,/ 构件/ 执行/ 进入状态/ “/ 3/ ”/ ,/ 并/ 返回/ 验证/ 成功/ 信息/ “/ 0/ ”/ ./ 此外/ ,/ 人工/ 输入/ 的/ 编号/ 或/ 密码/ 应/ 满足/ 定义域/ 要求/ ,/ 否则/ 视为/ 非法/ 输入/ 而/ 不/ 进行/ 处理/ ,/ 输入/ 行为/ input/ 不可/ 执行/ ./ Page5/ 元素/ 类型/ 状态/ 初始状态/ 状态/ “/ 0/ ”/ ;/ 行为/ 变量/ 与/ 参数/ 行为/ 约束/ 事件/ 2.2/ ./ 1/ 同步/ 通信/ 与/ 异步/ 通信/ 在/ 嵌入式软件/ 中/ ,/ 数据通信/ 过程/ 主要/ 采用/ 同步/ 或/ 异步/ 模式/ ./ 在/ 同步/ 模式/ 下/ ,/ 发送/ 端/ 在/ 发送数据/ 后/ 阻塞/ 运行/ 并/ 持续/ 等待/ ,/ 直到/ 收到/ 接收端/ 的/ 响应/ 后/ 继续/ 运行/ ./ 在/ 异步/ 模式/ 下/ ,/ 发送/ 端/ 在/ 发送数据/ 后/ 不/ 阻塞/ 运行/ ,/ 继续执行/ 后续/ 任务/ ,/ 而/ 无需/ 等待/ 接收端/ 的/ 响应/ ./ 在/ ESIA/ 中/ ,/ 对/ 以上/ 同步/ 、/ 异步/ 通信/ 过程/ 采用/ 统一/ 的/ 模型/ 元素/ 进行/ 描述/ ,/ 但/ 二者/ 对应/ 的/ 行为/ 序列/ 不同/ ./ 在/ 同步/ 通信/ 过程/ 中/ ,/ 发送/ 端/ 输出/ 行为/ aO/ 的/ 后继/ 行为/ 中将/ 包含/ 一项/ 输入/ 行为/ aI/ ,/ 以/ 接收/ 对应/ 的/ 响应/ ,/ 当未/ 收到/ 接收端/ 的/ 响应/ 时/ ,/ 将/ 无法/ 触发/ aI/ 执行/ ,/ 发送/ 端/ 在/ 该/ 行为/ 处/ 将/ 阻塞/ 运行/ ;/ 而/ 在/ 异步/ 通信/ 过程/ 中/ ,/ 发送/ 端/ 无/ 对应/ 的/ 响应/ 接收/ 行为/ ,/ 不/ 阻塞/ 运行/ ./ 由此/ ,/ 在/ ESIA/ 模型/ 之上/ ,/ 根据/ 同步/ 、/ 异步/ 通信/ 过程/ 的/ 描述/ ,/ 采用/ 统一/ 方法/ 生成/ 相应/ 测试用例/ ./ 2.2/ ./ 2/ 构件/ 间/ 组合/ 操作/ 在/ ESIA/ 中/ ,/ 针对/ 构件/ 间/ 同步/ 或/ 异步/ 通信/ 过程/ ,/ 利用/ 共享/ 行为/ 描述/ 通信/ 过程/ 中/ 的/ 数据/ 发送/ 与/ 接收/ 行为/ 以及/ 对应/ 的/ 响应/ 发送/ 与/ 接收/ 行为/ ,/ 其/ 定义/ 如下/ ./ 定义/ 4/ ./ 共享/ 行为/ ./ 构件/ P/ 和/ Q/ 对应/ 的/ ESIA/ 分别/ 为/ AP/ 和/ AQ/ ,/ 其/ 共享/ 行为/ 集合/ 定义/ 如下/ :/ shared/ (/ AP/ ,/ AQ/ )/ =/ (/ AI/ / a/ ∈/ shared/ (/ AP/ ,/ AQ/ )/ ,/ a/ =/ (/ aO/ ,/ aI/ )/ ;/ 即/ 共享/ 行为/ a/ 由/ 构件/ 间/ 两项/ 互为/ 输入/ 、/ 输出/ 行为/ 的/ 交互/ 行为/ aO/ 、/ aI/ 构成/ ./ 在/ 同步/ 通信/ 过程/ 中/ ,/ 存在/ 数据/ 发送/ 与/ 接收/ 、/ 应答/ 发送/ 与/ 确认/ 两组/ 共享/ 行为/ ;/ 而/ 在/ 异步/ 通信/ 过程/ 中/ ,/ 仅/ 存在/ 数据/ 发送/ 与/ 接收/ 一组/ 共享/ 行为/ ./ 嵌入式软件/ 由/ 不同/ 构件/ 组成/ ,/ 通过/ 各/ 构件/ 间/ 的/ 协同/ 运行/ ,/ 共同完成/ 嵌入式软件/ 各项/ 功能/ ,/ 而/ 可/ 组合/ 性/ 描述/ 了/ 这种/ 构件/ 间/ 协同/ 运行/ 的/ 可能性/ ./ 其中/ ,/ 共享/ 行为/ (/ aO/ 、/ aI/ )/ 的/ 参数/ 取值/ 约束/ 之间/ 的/ 协调性/ 是/ 构件/ 间/ 具有/ 可/ 组合/ 性/ 的/ 重要/ 因素/ ./ 本文/ 从/ 语法/ 和/ 语义/ 层面/ 给出/ ESIA/ 间/ 可/ 组合/ 性/ 的/ 定义/ ,/ 并/ 以/ 笛卡尔/ 积/ 运算/ 为/ 基础/ ,/ 定义/ ESIA/ 间/ 组合/ 操作/ ,/ 支持/ 嵌入式/ 系统/ 的/ 组合/ 构造/ ./ 定义/ 5/ ./ ESIA/ 可/ 组合/ 性/ ./ 构件/ P/ 和/ Q/ 对应/ 的/ ESIA/ 分别/ 为/ AP/ 和/ AQ/ ,/ AP/ 和/ AQ/ 之间/ 是/ 可/ 组合/ 的/ ,/ 当且/ 仅/ 当/ :/ P/ ∩/ AOAO/ / a/ ∈/ shared/ (/ AP/ ,/ AQ/ )/ ,/ a/ =/ (/ aO/ ,/ aI/ )/ ,/ (/ aI/ ∈/ AI/ (/ POconstrainP/ (/ χ/ i/ )/ ∧/ constrainQ/ (/ χ/ i/ )/ !/ =/ NULL/ ;/ 其中/ ,/ PO/ 数/ 集合/ ./ 由/ 以上/ 可/ 组合/ 性/ 定义/ 可知/ ,/ AP/ 与/ AQ/ 具有/ 可/ 组合/ 性/ ,/ 首先/ 要求/ AP/ 与/ AQ/ 之间/ 除/ 共享/ 行为/ 以及/ 共同/ 具有/ 的/ 输出/ 行为/ 之外/ ,/ 其他/ 行为/ 之间/ 都/ 是/ 正交/ 的/ ;/ 其次/ ,/ 在/ AP/ 与/ AQ/ 之间/ 互为/ 共享/ 行为/ 的/ 输入/ 行为/ 与/ 输出/ 行为/ 之间/ ,/ 输出/ 参数/ 与/ 输入/ 参数/ 应/ 匹配/ ,/ 且/ 每项/ 输出/ 参数/ 的/ 取值/ 约束/ 与/ 对应/ 输入/ 参数/ 的/ 取值/ 约束/ 之间/ 应/ 具有/ 公共/ 区间/ ./ ESIA/ 间/ 的/ 组合/ 操作/ 具体/ 定义/ 如下/ ./ 定义/ 6/ ./ ESIA/ 组合/ 乘积/ ./ 构件/ P/ 和/ Q/ 对应/ 的/ ESIA/ 分别/ 为/ AP/ 和/ AQ/ ,/ 组合/ 积/ 运算/ AP/ / AQ/ 定义/ 如下/ :/ VP/ / Q/ =/ VP/ ×/ VQ/ ;/ P/ / Q/ =/ VinitVinitP/ / Q/ =/ (/ AIAIP/ / Q/ =/ (/ AOAOAHP/ / Q/ =/ AHAP/ / Q/ =/ AITP/ / Q/ =/ (/ {/ (/ (/ p/ ,/ q/ )/ ,/ a/ ,/ (/ p/ ,/ q/ )/ )/ |/ (/ p/ ,/ a/ ,/ p/ )/ ∈/ TP/ ∧/ Page6XRP/ / Q/ =/ (/ XRP/ / Q/ =/ (/ XIP/ / Q/ =/ XVXHXVP/ / Q/ ,/ ψ/ (/ a/ )/ =/ (/ PreCon/ (/ a/ )/ ,/ PostCon/ (/ a/ )/ )/ ;/ P/ / Q/ ,/ ψ/ (/ a/ )/ =/ (/ PreCon/ (/ a/ )/ ,/ PostCon/ (/ a/ )/ )/ ;/ P/ ∪/ AH/ / a/ ∈/ AI/ / a/ ∈/ AO/ / a/ ∈/ AH/ / a/ ∈/ shared/ (/ AP/ ,/ AQ/ )/ ,/ a/ =/ (/ aO/ ,/ aI/ )/ ,/ (/ aI/ ∈/ AI/ ψ/ (/ a/ )/ =/ (/ PreCon/ (/ aO/ )/ ∧/ PreCon/ (/ aI/ )/ ,/ PostCon/ (/ aO/ )/ ∧/ PostCon/ (/ aI/ )/ )/ ;/ EP/ / Q/ =/ (/ EP/ ∪/ EQ/ )/ \/ {/ e/ |/ a/ ∈/ shared/ (/ AP/ ,/ AQ/ )/ ∧/ aI/ ∈/ [/ ]/ Ae/ }/ ./ 由/ 以上/ 定义/ 可见/ ,/ 在/ 组合/ 乘积/ 运算/ 中/ ,/ 组合/ ESIA/ 的/ 输入/ 行为/ 、/ 输出/ 行为/ 集合/ 应/ 包括/ 构件/ 与/ 环境/ 之间/ 的/ 全部/ 交互/ 行为/ ,/ 而/ 不/ 包括/ 构件/ 间/ 共享/ 行为/ ;/ 互为/ 共享/ 行为/ 的/ 输出/ 行为/ 与/ 输入/ 行为/ 合并/ 为/ 一项/ 内部/ 行为/ ,/ 其/ 引起/ 的/ 迁移/ 也/ 被/ 合并/ ,/ 共享/ 行为/ 对应/ 的/ 触发/ 事件/ 也/ 转化/ 为/ 内部/ 事件/ ./ 其中/ ,/ 在/ 同步/ 模式/ 下/ ,/ 将/ 有/ 数据/ 发送/ 与/ 接收/ 行为/ 、/ 响应/ 发送/ 与/ 接收/ 行为/ 两组/ 共享/ 行为/ 被/ 合并/ ;/ 而/ 在/ 异步/ 模式/ 下/ ,/ 仅/ 有/ 数据/ 发送/ 与/ 接收/ 行为/ 一组/ 共享/ 行为/ 被/ 合并/ ./ 3/ 基于/ 符号执行/ 的/ 测试用例/ 生成/ 嵌入式软件/ 构件/ 的/ 执行/ 路径/ 由/ 外部/ 事件/ 序列/ 与/ 参数/ 取值/ 共同/ 确定/ ./ 充分考虑/ 路径/ 之上/ 各项/ 约束条件/ ,/ 生成/ 各类/ 正常/ 、/ 异常/ 测试数据/ ,/ 覆盖/ 各类/ 正常/ 、/ 异常/ 执行/ 路径/ ,/ 是/ 构件/ 测试/ 的/ 重要/ 内容/ ./ 本节/ 制定/ ESIA/ 模型/ 的/ 结构/ 覆盖/ 与/ 数据/ 覆盖/ 准则/ ,/ 在/ 此基础/ 上/ ,/ 提出/ ESIA/ -/ Symbolic/ 方法/ ,/ 支持/ 正常/ 、/ 异常/ 测试用例/ 的/ 自动/ 生成/ ,/ 其/ 工作/ 流程/ 如图/ 2/ 所示/ ./ 其中/ ,/ 各/ 步骤/ 分别/ 以/ 特定/ 覆盖/ 准则/ 为/ 指导/ 、/ 利用/ 特定/ 方法/ ,/ 配合/ 生成/ 完整/ 的/ 测试用例/ 集/ ./ 3.1/ 结构/ 覆盖/ 与/ 数据/ 覆盖/ 准则/ 嵌入式软件/ 构件/ 在/ 不同/ 外部/ 事件/ 序列/ 触发/ 下/ ,/ 往往/ 具有/ 大量/ 执行/ 路径/ ,/ 难以/ 进行/ 完全/ 测试/ ./ 通常/ 需要/ 制定/ 一组/ 目标/ ,/ 当/ 测试/ 工作/ 达到目标/ 时/ ,/ 即/ 认为/ 测试/ 工作/ 已/ 足够/ 充分/ ,/ 以/ 在/ 保证/ 测试/ 充分性/ 的/ 前提/ 下/ ,/ 控制/ 测试用例/ 集/ 的/ 规模/ ./ MBT/ 中/ 最/ 常见/ 的/ 测试/ 目标/ 就是/ 模型/ 覆盖率/ 准则/ ,/ 包括/ 结构/ 覆盖/ 、/ 数据/ 覆盖/ 、/ 需求/ 覆盖/ 、/ 基于/ 缺陷/ 、/ 基于/ 突变/ 分析/ 、/ 随机/ 准则/ 等/ ./ 结构/ 覆盖/ 关注/ 底层/ 模型/ 的/ 控制流/ ,/ 测试/ 生成/ 过程/ 应/ 充分/ 覆盖/ 模型/ 结构/ 元素/ ;/ 数据/ 覆盖/ 关注/ 底层/ 模型/ 的/ 数据流/ ,/ 测试/ 生成/ 过程/ 应/ 充分/ 覆盖/ 模型/ 数据/ 元素/ 的/ 取值/ 范围/ 、/ 取值/ 约束/ 、/ 等价/ 类/ 、/ 边界值/ 等/ ./ 通过/ 结构/ 覆盖/ 与/ 数据/ 覆盖/ 准则/ ,/ 指导/ 测试/ 路径/ 、/ 数据/ 生成/ 过程/ ,/ 可/ 对/ 各/ 模型/ 元素/ 进行/ 充分/ 地/ 测试/ ./ 自动机/ 模型/ 常用/ 的/ 结构/ 覆盖率/ 准则/ 有全/ 状态/ 覆盖/ 、/ 全/ 迁移/ 覆盖/ 、/ 全/ 事件/ 覆盖/ 、/ 深度/ -/ n/ 路径/ 覆盖/ 、/ 长度/ -/ n/ 路径/ 覆盖/ 、/ 全/ 路径/ 覆盖/ 、/ MC/ // DC/ 覆盖/ 等/ [/ 1/ ]/ ./ 全/ 状态/ 覆盖/ 的/ 要求/ 太弱/ ,/ 而全/ 路径/ 覆盖/ 、/ MC/ // DC/ 覆盖/ 要求/ 太强/ ./ 通常/ 全/ 迁移/ 覆盖/ // 全/ 事件/ 覆盖/ 被/ 认为/ 是/ 最低/ 要求/ ./ 而/ 采用/ 深度/ -/ n/ 路径/ 覆盖/ // 长度/ -/ n/ 路径/ 覆盖/ 准则/ 时/ ,/ 发现/ 软件缺陷/ 的/ 概率/ 将/ 更/ 高/ ./ 本文/ 在/ 全/ 迁移/ 覆盖/ // 深度/ -/ n/ 路径/ 覆盖/ 准则/ 基础/ 上/ ,/ 制定/ ESIA/ 模型/ 之上/ 的/ 结构/ 覆盖/ 与/ 数据/ 覆盖/ 准则/ ,/ 指导/ 以/ ESIA/ 模型/ 为/ 基础/ 模型/ 的/ MBT/ 过程/ ./ 其/ 主要/ 起到/ 两/ 方面/ 作用/ :/ 一是/ 作为/ 用例/ 生成/ 算法/ 中/ 的/ 控制/ 条件/ ,/ 指导/ 测试用例/ 生成/ ;/ 二是/ 衡量/ 测试用例/ 集/ 的/ 质量/ ,/ 评估/ 测试用例/ 集/ 是否/ 满足/ 充分性/ 要求/ ./ 针对/ ESIA/ 模型/ 的/ 结构/ 覆盖/ 准则/ 如下/ :/ (/ 1/ )/ 全/ 迁移/ ./ 测试用例/ 集应/ 覆盖/ ESIA/ 中/ 的/ 所有/ 迁移/ ;/ (/ 2/ )/ All/ -/ Loop/ -/ n/ // All/ -/ m/ -/ Loop/ ./ 在/ 任意/ 一条/ 测试/ 路径/ 上/ ,/ 对/ ESIA/ 中/ 每一项/ 循环/ 结构/ 的/ 遍历/ 不/ 超过/ n/ 次/ ,/ 且/ 路径/ 包含/ 的/ 循环/ 结构/ 数/ 不/ 超过/ m/ ;/ 测试/ 路径/ 集合/ 应/ 覆盖/ ESIA/ 中/ 所有/ 满足/ 以上/ 要求/ 的/ 路径/ ./ 针对/ ESIA/ 模型/ 的/ 数据/ 覆盖/ 准则/ 如下/ :/ (/ 1/ )/ 数据类型/ 覆盖/ ./ 测试用例/ 集应/ 覆盖/ ESIA/ 中/ 所有/ 数据类型/ ;/ (/ 2/ )/ 等价/ 类/ 覆盖/ ./ 测试用例/ 集应/ 覆盖/ ESIA/ 中/ 行为/ 参数/ 的/ 数据/ 等价/ 类/ ./ 3.2/ 测试/ 路径/ 与/ 测试数据/ 生成/ SE/ 技术/ 由/ King/ 是/ 找到/ 一种/ 介于/ 测试/ 与/ 形式化/ 验证/ 之间/ 的/ 程序/ 分析方法/ 来/ 验证/ 程序正确性/ ,/ 该/ 方法/ 主要/ 应用/ 于/ 对源代/ Page7/ 码/ 的/ 测试/ ./ SE/ 技术/ 使用/ 符号/ 输入/ 代替/ 实际/ 数据/ 输入/ ,/ 沿/ 程序执行/ 路径/ 生成/ 相应/ 路径/ 条件/ (/ PathCondition/ ,/ PC/ )/ ,/ 并/ 生成/ 中间/ 计算/ 变量/ 和/ 执行/ 结果/ 的/ 符号/ 表达式/ ./ 其中/ ,/ PC/ 描述/ 引导/ 程序/ 沿/ 指定/ 路径/ 运行/ 的/ 变量/ 取值/ 约束条件/ ./ 近年来/ ,/ 随着/ 计算机/ 处理/ 能力/ 的/ 提升/ 、/ 约束/ 求解/ 技术/ 、/ 符号/ // 确值/ 联合/ 执行/ 方法/ 的/ 发展/ ,/ SE/ 技术/ 在/ 软件测试/ 中/ 的/ 应用/ 又/ 逐渐/ 引起/ 研究/ 人员/ 的/ 关注/ [/ 5/ -/ 6/ ]/ ./ SE/ 生成/ 的/ 测试/ 路径/ 具有/ 可/ 代换/ 性/ ./ 对于/ 一条/ 路径/ ,/ 以/ 一组/ 确值/ 作为/ 输入/ 执行/ 该/ 路径/ 得到/ 的/ 结果/ ,/ 与/ 在/ 执行/ 该/ 路径/ 生成/ 的/ 符号/ 表达式/ 中/ ,/ 将/ 每个/ 符号/ 代入/ 对应/ 确值/ 进行/ 计算/ 得到/ 的/ 结果/ 相同/ ./ 可/ 代换/ 性是/ SE/ 技术/ 付诸/ 应用/ 的/ 基础/ ,/ 也/ 可/ 用于/ 用例/ 执行/ 结果/ 的/ 验证/ ./ 在/ ESIA/ -/ Symbolic/ 方法/ 中/ ,/ 将/ SE/ 方法/ 引入/ 测试/ 路径/ 搜索/ 过程/ ./ 在/ 路径/ 增长/ 过程/ 中/ ,/ 以/ PC/ 的/ 更新/ 动态/ 描述/ 路径/ 之上/ 的/ 变量/ 取值/ 约束/ 变化/ 情况/ ,/ 以/ ESIA/ 结构/ 覆盖/ 准则/ 为/ 指导/ ,/ 生成/ 一组/ 测试/ 路径/ 以及/ 对应/ 的/ PC/ 表达式/ ,/ 并/ 得到/ 输出/ 参数/ 的/ 符号/ 表达式/ ./ 随后/ 对/ 每/ 一条/ 测试/ 路径/ 对应/ 的/ PC/ 表达式/ 进行/ 约束/ 求解/ ,/ 生成/ 该/ 路径/ 之上/ 的/ 测试数据/ ,/ 控制/ 被测/ 软件/ 沿/ 预期/ 路径/ 执行/ ./ 在/ 测试/ 路径/ 搜索/ 过程/ 中/ ,/ 依次/ 抽取/ 每/ 项/ 行为/ 前置/ 、/ 后置/ 条件/ 中/ 的/ 参数/ 、/ 内部/ 变量/ 取值/ 约束/ ,/ 并/ 以/ “/ 与/ ”/ 运算符/ 连接/ ,/ 动态/ 构建/ 路径/ 之上/ 的/ PC/ 表达式/ ,/ 其/ 形式/ 为/ 一阶/ 逻辑/ 表达式/ ./ 其中/ ,/ 对于/ 具有/ 执行/ 效果/ 的/ 行为/ ,/ 需要/ 首先/ 使用/ 效果/ 表达式/ 替代/ 其后/ 置/ 条件/ 中/ 的/ 更新/ 变量/ ,/ 再/ 进行/ 约束条件/ 的/ 抽取/ ,/ 以/ 将/ 后置/ 条件/ 中/ 的/ 输出/ 参数/ 取值/ 约束/ 转化/ 为/ 一组/ 输入/ 参数/ 、/ 内部/ 变量/ 取值/ 约束/ ./ 因此/ ,/ PC/ 表达式/ 将/ 包括/ 测试/ 路径/ 上/ 一系列/ 输入/ 、/ 内部/ 变量/ 取值/ 约束/ ./ ESIA/ -/ Symbolic/ 方法/ 中/ 的/ SE/ 语义/ 描述/ 如下/ :/ (/ 1/ )/ 建立/ 符号/ 与/ 输入/ 变量/ 之间/ 的/ 映射/ 关系/ ,/ 以/ 符号/ 代替/ 数据/ 确值/ 代入/ 模型/ ;/ (/ 2/ )/ 在/ 特定/ 情况/ 下/ ,/ 以/ 一个/ 常量/ 代替/ 数据/ 确值/ ,/ 作为/ 输入/ 数据/ 代入/ 模型/ ;/ (/ 3/ )/ 扩展/ 基本/ 运算符/ 的/ 适用范围/ ,/ 使/ 其/ 适用/ 于/ 符号/ 对象/ ,/ 并/ 通过/ 计算/ 产生/ 符号/ 表达式/ ;/ (/ 4/ )/ 输出/ 变量/ 以/ 符号/ 或/ 符号/ 表达式/ 描述/ ;/ (/ 5/ )/ 在/ 基于/ SE/ 方法/ 的/ 测试/ 路径/ 搜索/ 过程/ 中/ 建立/ PC/ 表达式/ ,/ 并/ 伴随/ 测试/ 路径/ 搜索/ 过程/ 持续/ 更新/ ;/ 在/ 测试/ 路径/ 生成/ 过程/ 中/ ,/ 从/ 模型/ 初始状态/ 开始/ SE/ 过程/ ,/ 并/ 设置/ PC/ 表达式/ 初值/ 为/ TRUE/ ./ 当/ 后继/ 行为/ 为/ a/ 时/ ,/ 如果/ a/ 具有/ 输入/ 参数/ χ/ 1/ 、/ χ/ 2/ ,/ 则/ 创建/ 符号/ s1/ 、/ s2/ ,/ 代替/ χ/ 1/ 、/ χ/ 2/ 作为/ 输入/ ./ 如果/ a/ 的/ 前置条件/ 中/ 包含/ χ/ 1/ 、/ χ/ 2/ 的/ 取值/ 约束/ constrain/ (/ χ/ 1/ )/ 和/ constrain/ (/ χ/ 2/ )/ ,/ PC/ 表达式/ 更新/ 为/ PC/ =/ PC/ ∧/ constrain/ (/ 〈/ s1/ 〉/ )/ ∧/ constrain/ (/ 〈/ s2/ 〉/ )/ ./ 如果/ PC/ ≠/ / ,/ 则/ a/ 可/ 执行/ ,/ SE/ 继续/ ;/ 如果/ PC/ =/ =/ / ,/ 表示/ 变量/ 不同/ 的/ 取值/ 约束/ 之间/ 不/ 一致/ ,/ 不/ 存在/ 公共/ 区间/ ,/ 则/ a/ 不可/ 执行/ ,/ SE/ 终止/ ./ 此外/ ,/ 如果/ a/ 的/ 后置/ 条件/ 中/ 包含/ 输出/ 参数/ χ/ 3/ 的/ 取值/ 约束/ constrain/ (/ χ/ 3/ )/ ,/ 且/ a/ 具有/ 效果/ “/ χ/ 3/ =/ χ/ 1/ +/ χ/ 2/ ”/ ,/ 则/ PC/ 表达式/ 更新/ 为/ PC/ =/ PC/ ∧/ constrain/ (/ 〈/ s1/ 〉/ )/ ∧/ constrain/ (/ 〈/ s2/ 〉/ )/ ∧/ constrain/ (/ 〈/ s1/ +/ s2/ 〉/ )/ ,/ 对/ PC/ 表达式/ 的/ 判断/ 过程/ 同上/ ./ 当/ 存在/ 多项/ 后继/ 行为/ 时/ ,/ SE/ 将/ 沿/ 不同/ 分支/ 分别/ 进行/ ./ 如果/ 同时/ 存在/ 后继/ 行为/ b1/ 和/ b2/ ,/ 对应/ 输入/ 参数/ 取值/ 约束/ 构成/ 的/ 逻辑/ 表达式/ 分别/ 为/ pc1/ 和/ pc2/ ,/ 当/ PC/ ∧/ pc1/ !/ =/ / 且/ PC/ ∧/ pc2/ !/ =/ / 时/ ,/ b1/ 和/ b2/ 均/ 可/ 执行/ ,/ 此时/ 沿/ 不同/ 分支/ ,/ PC/ 表达式/ 分别/ 更新/ 为/ PC/ ∧/ pc1/ 和/ PC/ ∧/ pc2/ ,/ 相应/ 得到/ 两个/ 不同/ 的/ PC/ 表达式/ ,/ SE/ 沿/ 不同/ 分支/ 继续/ 进行/ ;/ 当/ PC/ ∧/ pc1/ !/ =/ / 且/ PC/ ∧/ pc2/ =/ =/ / 时/ ,/ b1/ 可/ 执行/ ,/ b2/ 不可/ 执行/ ,/ SE/ 沿/ b1/ 分支/ 继续/ 进行/ ,/ 而/ 在/ b2/ 分支/ 终止/ ./ 基于/ 以上/ SE/ 语义/ ,/ 提出/ ESIA/ -/ Symbolic/ 方法/ 的/ 测试/ 路径/ 生成/ 算法/ ./ 该/ 算法/ 是/ 一种/ 启发式/ 的/ 深度/ 优先/ 算法/ ,/ 以/ PC/ 表达式/ 作为/ 启发/ 条件/ ,/ 指导/ 测试/ 路径/ 生成/ ./ 由于/ 软件/ 中/ 存在/ 循环/ 结构/ ,/ 符号执行/ 过程/ 往往/ 是/ 无限/ 的/ ./ 为了/ 在/ 有限/ 时间/ 内/ 满足/ 测试/ 工作/ 充分性/ 要求/ ,/ 以全/ 迁移/ 覆盖/ 、/ All/ -/ Loop/ -/ n/ // All/ -/ m/ -/ Loop/ 覆盖/ 准则/ 为/ 指导/ ,/ 为/ 算法/ 制定/ 合理/ 终止/ 条件/ ,/ 以/ 生成/ 相对/ 充分/ 、/ 有限/ 的/ 测试/ 路径/ 集合/ ./ 从/ 初始状态/ 开始/ ,/ 在/ 当前/ 状态/ 无/ 后继/ 行为/ 或/ 当前/ 路径/ 回到/ 初始状态/ 或/ 对/ 后继/ 循环/ 结构/ 的/ 遍历/ 违反/ All/ -/ Loop/ -/ n/ 或/ All/ -/ m/ -/ Loop/ 准则/ 时/ ,/ 测试/ 路径/ 生成/ 过程/ 终止/ 并/ 回溯/ ./ 由于/ ESIA/ 包含/ 正常/ 状态/ 与/ 异常/ 状态/ ,/ 算法/ 在/ 对模型/ 元素/ 进行/ 遍历/ 的/ 过程/ 中/ ,/ 将/ 生成/ 正常/ 测试/ 路径/ 及/ 异常/ 测试/ 路径/ ./ ESIA/ 中/ 的/ 正常/ 路径/ 与/ 异常/ 路径/ 定义/ 如下/ :/ (/ 1/ )/ 正常/ 路径/ ./ 当/ ESIA/ 中/ 的/ 一条/ 路径/ 仅/ 包含/ 正常/ 状态/ 时/ ,/ 该/ 路径/ 为/ 正常/ 路径/ ;/ (/ 2/ )/ 异常/ 路径/ ./ 当/ ESIA/ 中/ 的/ 一条/ 路径/ 包含/ 异常/ 状态/ 时/ ,/ 该/ 路径/ 为/ 异常/ 路径/ ./ 算法/ 还/ 可/ 实时/ 检测/ 模型/ 中/ 的/ 执行/ 路径/ 是否/ 可/ 判定/ ./ 在/ 测试/ 路径/ 生成/ 过程/ 中/ ,/ 如果/ 出现/ PC/ =/ =/ / 的/ 情况/ ,/ 则/ 意味着/ 不/ 存在/ 一组/ 数据/ ,/ 可/ 使/ 构件/ 从/ 初始/ 状/ Page8/ 态/ 执行/ 到/ 当前/ 状态/ ,/ 相关/ 路径/ 为/ 部分/ 可/ 判定/ 路径/ ./ 对/ 路径/ 是否/ 可/ 判定/ 的/ 实时/ 分析/ 可/ 辅助/ 技术人员/ 发现/ 软件设计/ 方案/ 中/ 的/ 缺陷/ ./ 同时/ ,/ 当/ ESIA/ 模型/ 规模/ 持续增长/ 且/ 部分/ 可/ 判定/ 路径/ 的/ 比例/ 持续上升/ 时/ ,/ 通过/ 对/ 路径/ 是否/ 可/ 判定/ 进行/ 检测/ ,/ 在/ 测试/ 路径/ 生成/ 过程/ 中/ 对/ 部分/ 可/ 判定/ 路径/ 进行/ 剪枝/ ,/ 可/ 避免/ 生成/ 无效/ 的/ 测试/ 路径/ ,/ 提高/ 路径/ 生成/ 效率/ ./ 路径/ 生成/ 算法/ 包含/ 以下/ 步骤/ :/ (/ 1/ )/ 测试/ 路径/ 增长/ 终止/ 条件/ 判断/ ,/ 如果/ 满足/ 终止/ 条件/ ,/ 则/ 终止/ 路径/ 增长/ ,/ 记录/ 当前/ 测试/ 路径/ 以及/ 对应/ PC/ 表达式/ 并/ 回溯/ ;/ (/ 2/ )/ 遍历/ 当前/ 状态/ 的/ 后继/ 行为/ ,/ 以全/ 迁移/ 、/ All/ -/ Loop/ -/ n/ // All/ -/ m/ -/ Loop/ 准则/ 为/ 指导/ ,/ 遍历/ 不/ 满足/ 覆盖/ 准则/ 要求/ 的/ 后继/ 行为/ ,/ 并/ 登记/ 所/ 遍历/ 的/ 循环/ 结构/ ;/ (/ 3/ )/ 当前/ 路径/ PC/ 表达式/ 判断/ ,/ 更新/ 当前/ 路径/ 的/ PC/ 表达式/ ,/ 进行/ 约束/ 求解/ ,/ 判断/ 当前/ 路径/ 是否/ 可/ 判定/ ,/ 如果/ 可/ 判定/ ,/ 则/ 更新/ 当前/ 状态/ 并/ 转至步/ (/ 4/ )/ ;/ 如果/ 部分/ 可/ 判定/ ,/ 则/ 记录/ 当前/ 测试/ 路径/ 以及/ 对应/ 的/ PC/ 表达式/ 并/ 回溯/ ;/ (/ 4/ )/ 针对/ 更新/ 后/ 的/ 当前/ 状态/ 递归/ 执行/ 以上/ 步骤/ ./ 算法/ 具体/ 定义/ 如下/ ./ 算法/ 1/ ./ 测试/ 路径/ 生成/ ./ 输入/ :/ ESIAA/ 输出/ :/ Asetoftestpaths/ 数据结构/ :/ visitedStates/ (/ VS/ )/ ;/ loopTransitions/ (/ LT/ )/ ;/ MaxLoopCnt/ ;/ MaxCntLoop/ ;/ currentPath/ (/ CP/ )/ ;/ path/ -/ Condition/ (/ PC/ )/ ;/ testPaths/ (/ TP/ )/ ;/ testConditions/ (/ TC/ )/ ;/ invalidtestPaths/ (/ ITP/ )/ ;/ invalidtestConditions/ (/ ITC/ )/ ;/ TPGen/ (/ A/ )/ BEGINInitVS/ ,/ LT/ ,/ MaxLoopCnt/ ,/ MaxCntLoop/ ,/ CP/ ,/ PC/ ,/ SE/ (/ q/ ∈/ Vinit/ )/ ENDSE/ (/ q/ )/ BEGINAddqtoVSIF/ (/ notexitt/ =/ (/ q/ ,/ a/ ,/ q/ )/ suchthat/ (/ t/ ∈/ Tandt/ / LT/ )/ )/ ELSEEND/ 在/ 以上/ 算法/ 中/ ,/ 通过/ 约束/ 求解/ 判断/ PC/ 是否/ 为/ / ./ 目前/ 常见/ 的/ 约束/ 求解/ 工具/ 有/ ChocoSolver/ [/ 7/ ]/ 、/ MINION/ [/ 8/ ]/ 等/ ,/ 本文/ 利用/ ChocoSolver/ 约束/ 求解/ 器/ 对/ PC/ 进行/ 约束/ 求解/ ./ 当解/ 存在/ 时/ ,/ 判定/ PC/ !/ =/ / ;/ 当解/ 不/ 存在/ 时/ ,/ 判定/ PC/ =/ =/ / ./ 测试数据/ 生成/ 过程/ 分为/ 正常/ 测试数据/ 生成/ 与/ 异常/ 测试数据/ 生成/ ,/ 后者/ 在/ 后续/ 章节/ 中/ 介绍/ ./ 在/ 正常/ 测试数据/ 生成/ 过程/ 中/ ,/ 针对/ 每/ 一条/ 正常/ 路径/ ,/ 将/ 对应/ PC/ 表达式/ 代入/ 约束/ 求解/ 器/ ,/ 生成/ 测试数据/ ,/ 驱动/ 测试用例/ 执行/ ./ 在/ 测试数据/ 求解/ 过程/ 中/ ,/ 同样/ 利用/ ChocoPage9Solver/ 约束/ 求解/ 器/ ,/ 创建/ CPModel/ 约束/ 模型/ ,/ 制定/ 求解/ 策略/ ,/ 生成/ 满足/ 特定/ 约束条件/ 的/ 测试数据/ ./ 3.3/ 异常/ 测试用例/ 生成/ 嵌入式软件/ 构件/ 应对/ 运行/ 过程/ 中/ 出现/ 的/ 异常情况/ 进行/ 有效/ 处理/ ,/ 避免/ 产生/ 非/ 预期/ 的/ 结果/ ,/ 异常/ 测试/ 即/ 对/ 构件/ 相关/ 特性/ 进行/ 的/ 测试/ ./ 在/ ESIA/ -/ Symbolic/ 方法/ 中/ ,/ 采用/ 基于/ 约束条件/ 翻转/ 、/ 基于/ 插桩/ 、/ 基于/ 反例/ 等/ 方法/ 生成/ 异常/ 测试数据/ ./ 3.3/ ./ 1/ 基于/ 约束条件/ 翻转/ 的/ 异常/ 测试/ 在/ ESIA/ 中/ ,/ 一项/ 行为/ 可能/ 正常/ 执行/ 或/ 异常/ 执行/ ,/ 触发/ ESIA/ 中/ 不同/ 的/ 迁移/ 关系/ ,/ 导致/ 构件/ 运行/ 进入/ 正常/ 状态/ 或/ 特定/ 异常/ 状态/ ./ 行为/ 正常/ 执行/ 与/ 异常/ 执行/ 时/ 对应/ 的/ 前置条件/ 不同/ ./ 如果/ 一项/ 或/ 多项/ 输入/ 参数/ 、/ 变量/ 的/ 取值/ 不/ 满足/ 正常/ 执行/ 的/ 前置条件/ ,/ 将/ 导致/ ESIA/ 执行/ 进入/ 异常/ 状态/ ./ 因此/ ,/ 通过/ 对/ 此类/ 参数/ 或/ 变量/ 的/ 取值/ 约束/ 在/ 定义域/ 范围/ 内/ 求补/ (/ 即/ 进行/ 翻转/ )/ ,/ 可/ 获得/ 导致/ 行为/ 异常/ 执行/ 的/ 前置条件/ ./ 在/ 进行/ 异常/ 测试/ 时/ ,/ 如果/ 同时/ 翻转/ 多项/ 参数/ 、/ 变量/ 的/ 取值/ 约束/ ,/ 虽然/ 可/ 生成/ 异常/ 测试数据/ ,/ 但/ 无法/ 具体/ 体现/ 某/ 一项/ 参数/ 取值/ 异常/ 时/ 对/ 构件/ 执行/ 的/ 影响/ ./ 因此/ ,/ 在/ ESIA/ -/ Symbolic/ 方法/ 中/ ,/ 在/ 异常/ 测试/ 路径/ 之上/ ,/ 针对/ 具有/ 异常/ 执行/ 分支/ 的/ 行为/ ,/ 依次/ 翻转/ 每一项/ 独立/ 影响/ 行为/ 前置条件/ 表达式/ 取值/ 的/ 输入/ 参数/ 或/ 变量/ 的/ 取值/ 约束/ ./ 在/ 异常/ 测试/ 生成/ 过程/ 中/ ,/ 在/ 翻转/ 一项/ 取值/ 约束/ 后/ ,/ 将/ 生成/ 的/ 前置条件/ 与/ 对应/ 行为/ 所有/ 正常/ 执行/ 分支/ 的/ 前置条件/ 进行/ 实时/ 比/ 对/ ./ 如果/ 生成/ 的/ 前置条件/ 与/ 某项/ 正常/ 执行/ 分支/ 的/ 前置条件/ 相同/ ,/ 则/ 剔除/ 该/ 生成/ 结果/ ,/ 并/ 依次/ 翻转/ 下/ 一项/ 约束条件/ ;/ 如果/ 与/ 所有/ 正常/ 执行/ 分支/ 的/ 前置条件/ 都/ 不同/ ,/ 则/ 该/ 前置条件/ 即/ 为/ 一项/ 异常/ 执行/ 前置条件/ ./ 进而/ 沿/ 异常/ 测试/ 路径/ 抽取/ 相应/ 参数/ 、/ 内部/ 变量/ 取值/ 约束/ 构建/ 对应/ PC/ 表达式/ ,/ 进行/ 约束/ 求解/ 以求/ 取/ 异常/ 测试数据/ ./ 不同/ 运算符/ 构成/ 的/ 约束/ 表达式/ 的/ 翻转/ 关系/ 见表/ 3/ ./ 运算符/ </ / =/ =/ !/ =/ 如/ 行为/ a/ 的/ 输入/ 参数/ 为/ χ/ 1/ 、/ χ/ 2/ ,/ PC/ 表达式/ 为/ PC/ =/ PC/ ∧/ constrain/ (/ 〈/ s1/ 〉/ )/ ∧/ constrain/ (/ 〈/ s2/ 〉/ )/ ,/ 且/ PC/ !/ =/ / ./ 通过/ 翻转/ 输入/ 参数/ χ/ 2/ 的/ 取值/ 约束/ ,/ 更新/ PC/ 表达式/ 为/ PC/ =/ PC/ ∧/ constrain/ (/ 〈/ s1/ 〉/ )/ ∧/ (/ / constrain/ (/ 〈/ s2/ 〉/ )/ )/ ,/ 重新/ 代入/ 约束/ 求解/ 器/ 可/ 生成/ 相应/ 异常/ 测试数据/ ./ 由于/ 在/ 每条/ 异常/ 路径/ 上/ 都/ 进行/ 基于/ 约束条件/ 翻转/ 的/ 异常/ 测试/ 代价/ 较/ 高/ ,/ 本文/ 在/ 生成/ 的/ 异常/ 路径/ 集合/ 中/ 选取/ 一个/ 满足/ 全/ 迁移/ 覆盖/ 准则/ 的/ 最小/ 异常/ 路径/ 子集/ ,/ 在/ 该/ 子集/ 之上/ 进行/ 基于/ 约束条件/ 翻转/ 的/ 异常/ 测试/ ./ 该子/ 集中/ 任意/ 两条/ 测试/ 路径/ 所/ 包含/ 的/ 状态/ 迁移/ 集合/ 不/ 相同/ ;/ 包含/ 相同/ 状态/ 迁移/ 集合/ 、/ 但/ 迁移/ 序列/ 不同/ 的/ 两条/ 路径/ 同样/ 不/ 允许/ 同时/ 出现/ 在/ 最小/ 子集/ 之中/ ./ 由此/ 保证/ 异常/ 测试/ 覆盖/ ESIA/ 中/ 所有/ 的/ 异常/ 执行/ 行为/ ,/ 在/ 保证/ 异常/ 测试/ 有效性/ 的/ 前提/ 下/ 提升/ 工作效率/ ./ ESIA/ -/ Symbolic/ 方法/ 中/ 基于/ 约束条件/ 翻转/ 的/ 异常/ 测试用例/ 生成/ 方法/ 定义/ 如下/ ./ 算法/ 2/ ./ 基于/ 约束条件/ 翻转/ 的/ 异常/ 测试用例/ 生成/ ./ 输入/ :/ Asetoftestpaths/ 输出/ :/ Asetofexceptionaltestcases/ 数据结构/ :/ visitedTransitions/ (/ VT/ )/ ;/ selectedPath/ (/ SP/ )/ ;/ allTransitons/ (/ AT/ )/ ;/ exceptionalPath/ (/ EP/ )/ ;/ exceptional/ -/ Condition/ (/ EC/ )/ ;/ exceptionaltestPaths/ (/ ETP/ )/ ;/ ECGen/ (/ TestPaths/ )/ BEGINInitVT/ ,/ SP/ ,/ ATENDTCG/ (/ SP/ )/ BEGINFOReachpinSPENDPage103/ ./ 3.2/ 基于/ 插桩/ 的/ 异常/ 测试/ 在/ 测试用例/ 设计/ 过程/ 中/ ,/ 对于/ 与/ 硬件/ 紧密结合/ 的/ 参数/ 或者/ 由于/ 测试环境/ 条件/ 限制/ 无法/ 完全/ 控制/ 其/ 取值/ 的/ 参数/ ,/ 如/ 通信/ 端/ 地址/ 等/ ,/ 由于/ 生成/ 的/ 测试数据/ 通常/ 不/ 具有/ 实际意义/ ,/ 故多/ 采用/ 插桩/ 方法/ ,/ 在/ 建模/ 与/ 测试用例/ 生成/ 过程/ 中为/ 其/ 指定/ 一组/ 符合/ 物理/ 意义/ 的/ 特定/ 值/ ,/ 以/ 保证/ 测试用例/ 在/ 测试环境/ 中/ 的/ 适用性/ ./ 在/ ESIA/ -/ Symbolic/ 方法/ 中/ ,/ 同样/ 采用/ 插桩/ 方法/ ,/ 为/ 特定/ 输入/ 参数/ 人工/ 指定/ 一组/ 正常/ 或/ 异常/ 值/ ./ 由此/ ,/ SE/ 的/ 输入/ 将/ 由/ 一组/ 确值/ 以及/ 一组/ 符号/ 混合/ 构成/ ,/ 此时/ 纯粹/ 的/ 符号执行/ 过程/ 演化/ 为/ 一种/ 确值/ // 符号/ 联合/ 执行/ 过程/ ./ 如/ 行为/ a/ 具有/ 输入/ 参数/ χ/ ,/ 当以/ 常量/ Constant/ 为/ χ/ 赋值/ 时/ ,/ PC/ 表达式/ 更新/ 为/ PC/ =/ PC/ ∧/ (/ χ/ =/ =/ Constant/ )/ ./ 本文/ 采用/ 在/ EXE/ [/ 9/ ]/ 与/ KLEE/ [/ 10/ ]/ 等/ 工具/ 中/ 应用/ 的/ EGT/ (/ Execution/ -/ GeneratedTesting/ )/ 确值/ // 符号/ 联合/ 执行/ 方法/ [/ 11/ ]/ ,/ 动态/ 检查/ 每/ 项/ 输入/ 参数/ 是否是/ 确值/ ,/ 如果/ 是/ 则/ 将/ 相应/ 确值/ 代入/ 程序执行/ ,/ 并/ 在/ 后续/ 执行/ 过程/ 中/ 持续/ 使用/ 该/ 确值/ 参与/ 各类/ 相关/ 计算/ ./ 由此/ ,/ 在/ ESIA/ -/ Symbolic/ 方法/ 中/ 建立/ 确值/ // 符号/ 联合/ 执行/ 机制/ ,/ 实现/ 插桩/ 数据/ 与/ 符号/ 之间/ 的/ 混合/ 运算/ ,/ 实现/ PC/ 表达式/ 、/ 输出/ 表达式/ 的/ 混合/ 构建/ ,/ 支持/ 对/ 测试数据/ 的/ 插/ 桩/ ./ 在/ ESIA/ -/ Symbolic/ 方法/ 中/ ,/ 在/ 建立/ ESIA/ 模型/ 的/ 同时/ ,/ 对于/ 需要/ 插桩/ 的/ 输入/ 参数/ ,/ 在/ 模型/ 中为/ 其/ 指定/ 特定/ 确值/ ./ 在/ 生成/ 测试/ 路径/ 时/ ,/ 对于/ 包含/ 插桩/ 参数/ 的/ 前置/ 、/ 后置/ 条件/ 、/ 效果/ 表达式/ ,/ 均/ 使用/ 特定/ 确值/ 代替/ 原/ 参数/ 参与/ 各类/ 运算/ ./ 如/ a/ 的/ 输入/ 参数/ 为/ χ/ 1/ 、/ χ/ 2/ ,/ 效果/ 表达式/ 为/ χ/ 3/ =/ χ/ 1/ +/ χ/ 2/ ./ 如果/ 为/ 输入/ 参数/ χ/ 2/ 设定/ 确值/ v2/ ,/ 则/ 效果/ 表达式/ 更新/ 为/ χ/ 3/ =/ χ/ 1/ +/ v2/ ./ 此时/ ,/ 沿/ 特定/ 路径/ 生成/ 的/ PC/ 表达式/ 中将/ 不再/ 包含/ 插桩/ 参数/ 的/ 取值/ 约束/ ./ 通过/ 约束/ 求解/ 生成/ 的/ 测试数据/ 与/ 插/ 桩/ 值/ 共同/ 构成/ 一条/ 测试/ 路径/ 上/ 的/ 完整/ 测试数据/ ./ 在/ 基于/ 插桩/ 的/ 异常/ 测试/ 生成/ 过程/ 中/ ,/ 在/ 模型/ 中为/ 特定/ 参数/ 指定/ 一组/ 异常/ 值/ ,/ 并/ 通过/ 确值/ // 符号/ 联合/ 执行/ 生成/ 异常/ 测试用例/ ./ 基于/ 插桩/ 的/ 异常/ 测试用例/ 生成/ 同样/ 需要/ 在/ 一个/ 最小/ 测试/ 路径/ 子集/ 上/ 展开/ ,/ 以/ 控制/ 用/ 例集/ 的/ 规模/ ./ 在/ 子集/ 包含/ 的/ 每条/ 路径/ 之上/ ,/ 针对/ 每一项/ 具有/ 异常/ 插桩/ 值/ 的/ 参数/ 分别/ 生成/ 异常/ 测试用例/ ./ 对于/ 具有/ 多项/ 异常/ 值/ 的/ 参数/ ,/ 将/ 针对/ 每/ 项/ 异常/ 值/ 分别/ 生成/ 测试用例/ ./ 此外/ ,/ 当/ 模型/ 复杂度/ 较/ 高时/ ,/ 通过/ 插桩/ 以及/ 确值/ // 符号/ 联合/ 执行/ 可/ 解决/ 测试数据/ 生成/ 过程/ 中/ 的/ 复杂/ 约束/ 求解/ 问题/ ,/ 提高/ 测试数据/ 生成/ 效率/ ./ 3.3/ ./ 3/ 基于/ 反例/ 的/ 异常/ 测试/ 前述/ 测试/ 路径/ 生成/ 算法/ 可/ 检测/ 出/ 构件/ ESIA/ 模型/ 的/ 部分/ 可/ 判定/ 路径/ ,/ 而/ 这类/ 路径/ 常常/ 隐含/ 着/ 构件/ 设计方案/ 中/ 的/ 缺陷/ ,/ 一条/ 此类/ 路径/ 即为/ ESIA/ 模型/ 执行/ 路径/ 的/ 一项/ 反例/ ./ 因此/ ,/ 根据/ 反例/ 有/ 针对性/ 地/ 生成/ 相应/ 异常/ 测试用例/ ,/ 测试/ 构件/ 的/ 实现/ 是否/ 存在/ 缺陷/ ./ 在/ 部分/ 可/ 判定/ 路径/ 之上/ ,/ 提取/ 从/ 初始状态/ 到/ 异常/ 状态/ 的/ PC/ 并/ 求解/ ,/ 生成/ 异常/ 测试数据/ ,/ 引导/ 构件/ 从/ 初始状态/ 运行/ 至/ 异常/ 状态/ ,/ 从而/ 测试/ 构件/ 的/ 异常/ 处理/ 机制/ 是否/ 符合/ 预期/ ./ 4/ 实验/ 与/ 评估/ 4.1/ ATES/ 测试/ 平台/ 本文/ 在/ Eclipse/ 开放平台/ 上/ 设计/ 开发/ ATES/ (/ AutomatedTestPlatformforEmbededSoftware/ )/ 自动测试/ 平台/ ,/ 内建/ ESIA/ -/ Symbolic/ 方法/ ,/ 平台/ 架构/ 如图/ 3/ 所示/ ./ ATES/ 平台/ 具有/ 以下/ 功能/ :/ (/ 1/ )/ 基于/ ESIA/ 模型/ 的/ 嵌入式软件/ 构件/ 建模/ ;/ (/ 2/ )/ 测试/ 路径/ 生成/ ,/ 路径/ 条件/ 提取/ 与/ 解析/ ;/ (/ 3/ )/ 正常/ 测试数据/ 生成/ ;/ (/ 4/ )/ 基于/ 约束条件/ 翻转/ 、/ 基于/ 插桩/ 、/ 基于/ 反例/ 的/ 异常/ 测试数据/ 生成/ ./ 在/ 实验/ 过程/ 中/ ,/ 利用/ ATES/ 平台/ 提供/ 的/ 基础/ 类/ ,/ 人工/ 编写/ 被测/ 软件/ 构件/ 的/ ESIA/ 模型/ 代码/ ./ 随后/ 在/ ATES/ 平台/ 上/ ,/ 以/ ESIA/ 模型/ 为/ 基础/ 模型/ ,/ 调用/ 平台/ 内建/ 的/ 测试/ 路径/ 生成/ 算法/ 生成/ 测试/ 路径/ 集合/ ,/ 并/ 生成/ 相应/ 正常/ 测试数据/ ;/ 进一步/ 调用/ 基于/ 约束条件/ 翻转/ 、/ 基于/ 插桩/ 、/ 基于/ 反例/ 等/ 方法/ 生成/ 各类/ Page11/ 异常/ 测试数据/ ./ 4.2/ MVB/ 网卡/ RTP/ 软件/ 建模/ 在/ 国际/ 电工/ 协会/ (/ InternationalElectrotechnicalCommission/ ,/ IEC/ )/ 制定/ 并/ 颁布/ 的/ 列车/ 通信/ 网络/ 标准/ IEC61375/ -/ 1/ (/ Electricrailwayequipment/ -/ Trainbus/ )/ [/ 12/ ]/ 中/ ,/ 现代/ 列车/ 通信/ 网络/ (/ TrainCommunicationNet/ -/ work/ ,/ TCN/ )/ 主要/ 由/ 列车/ 总线/ 、/ 车辆/ 总线/ 以及/ 总线/ 上/ 各/ 设备/ 节点/ 构成/ ,/ 是/ 典型/ 的/ 大规模/ 、/ 复杂/ 嵌入式/ 系统/ ./ 典型/ 的/ 列车/ 总线/ 如绞式/ 列车/ 总线/ (/ WireTrainBus/ ,/ WTB/ )/ ,/ 典型/ 的/ 车辆/ 总线/ 如/ 多功能/ 车辆/ 总线/ 即/ MVB/ ,/ 由/ WTB/ 和/ MVB/ 共同/ 构成/ 两级/ TCN/ ,/ 负责/ 完成/ 设备/ 运行/ 状态/ 、/ 控制指令/ 在/ 列车/ 平台/ 上/ 的/ 传输/ ./ IEC61375/ -/ 1/ 标准/ 制定/ 了/ 列车/ 、/ 车辆/ 总线/ 实时/ 通信协议/ ,/ 即/ RTP/ 协议/ ,/ 所有/ 列车/ 通信/ 网络设备/ 的/ 开发/ 、/ 测试/ 均/ 需/ 遵循/ 该/ 协议/ ./ MVB/ 网卡/ 是/ TCN/ 中/ 的/ 关键设备/ ,/ 其/ 同样/ 遵循/ RTP/ 协议/ ,/ 负责/ 将/ 列车/ 上/ 各/ 传感器/ 、/ 设备/ 挂接/ 在/ MVB/ 上/ ,/ 支持/ 通过/ MVB/ 进行/ 设备/ 间/ 信息/ 交换/ ./ MVB/ 网卡/ RTP/ 软件/ 是/ 典型/ 的/ 嵌入式软件/ ,/ 其/ 实现/ 了/ RTP/ 协议/ ,/ 并/ 与/ 底层/ 硬件/ 、/ 嵌入式操作系统/ 共同/ 构成/ 嵌入式/ 构件/ ,/ 具有/ 设置/ 与/ 读取/ 过程/ 数据/ 、/ 发送/ 与/ 接收/ 消息/ 数据/ 等/ 功能/ ./ RTP/ 软件/ 向/ 用户/ 提供/ 系列/ API/ 函数/ ,/ 为/ 车载/ 设备/ 间/ 的/ 数据/ 发送/ 与/ 接收/ 任务/ 提供/ 支持/ ./ ATES/ 平台/ 提供/ 建立/ 构件/ ESIA/ 模型/ 的/ 基础/ 类/ ./ 测试人员/ 在/ 对/ 被/ 测/ 软件/ 进行/ 充分/ 功能/ 需求/ 分析/ 的/ 基础/ 上/ ,/ 使用/ 相关/ 类/ 编写/ 被测/ 软件/ 的/ ESIA/ 模型/ 代码/ ./ 在/ RTP/ 软件/ 建模/ 过程/ 中/ ,/ 以/ IEC61375/ -/ 1/ 标准/ 为/ 依据/ ,/ 进行/ 测试/ 需求/ 分析/ ,/ 针对/ RTP/ 协议/ 描述/ 的/ 过程/ 数据/ 、/ 消息/ 数据通信/ 过程/ ,/ 提取/ 相关/ 功能/ 项/ ,/ 分别/ 建立/ 数据通信/ 发送/ 端/ 和/ 接收端/ 模型/ ./ 在/ TCN/ 中/ ,/ 发送/ 端/ MVB/ 网卡/ 与/ 接收端/ MVB/ 网卡/ 之间/ 的/ 通信/ 过程/ 如图/ 4/ 所示/ ./ 在/ 消息/ 数据通信/ 过程/ 中/ ,/ 发送/ 端/ 负责/ 读取数据/ 生产者/ 产生/ 的/ 数据/ ,/ 并/ 通过/ MVB/ 总线/ 将/ 数据/ 向/ 接收端/ 发送/ ;/ 接收端/ 负责/ 从/ MVB/ 总线/ 接收数据/ ,/ 并/ 将/ 数据/ 转发/ 到/ 数据/ 消费者/ ./ 在/ 过程/ 数据通信/ 过程/ 中/ ,/ 发送/ 端/ 负责/ 读取数据/ 源/ 设备/ 发布/ 的/ 数据/ ,/ 并/ 在/ MVB/ 总线/ 的/ 特定/ 端口/ 上/ 设置/ 数据/ ;/ 接收端/ 负责/ 从/ 相应/ 总线/ 端口/ 读取数据/ ,/ 并/ 将/ 数据/ 转发/ 到/ 订阅/ 设备/ ./ 针对/ 发送/ 端/ 和/ 接收端/ 分别/ 建立/ ESIA/ 模型/ ,/ 得到/ MVB/ _/ Caller/ 、/ MVB/ _/ Respondent/ ,/ 如图/ 5/ 、/ 图/ 6/ 所示/ ./ 其中/ ,/ 消息/ 数据/ 发送/ 与/ 接收/ 过程/ 采用/ 同步/ 通信/ 模式/ ,/ 即/ MVB/ _/ Caller/ 发送/ 消息/ 数据/ 后/ 将/ 阻塞/ 运行/ ,/ 直到/ 收到/ MVB/ _/ Respondent/ 的/ 响应/ 后方/ 继续/ 运行/ ./ (/ call/ _/ request/ ,/ rcv/ _/ confirm/ )/ 、/ (/ re/ _/ request/ ,/ call/ _/ confirm/ )/ 为/ 消息/ 数据通信/ 过程/ 对应/ 的/ 两组/ 共享/ 行为/ ,/ 分别/ 描述/ 消息/ 数据/ 发送/ 与/ 接收/ 过程/ 、/ 应答/ 消息/ 发送/ 与/ 确认/ 过程/ ./ 过程/ 数据/ 设置/ 与/ 读取/ 过程/ 采用/ 异步/ 通信/ 模式/ ,/ 即/ MVB/ _/ Caller/ 设置/ 过程/ 数据/ 后/ 继续/ 运行/ ,/ MVB/ _/ Respondent/ 自行/ 读取/ 相关/ 过程/ 数据/ ./ (/ put/ _/ var/ ,/ get/ _/ var/ )/ 为/ 过程/ 数据通信/ 过程/ 对应/ 的/ 一组/ 共享/ 行为/ ,/ 描述/ 过程/ 数据/ 设置/ 与/ 读取/ 过程/ ./ 此外/ 在/ Page12/ 模型/ 中/ ,/ (/ action/ )/ 表示/ 行为/ action/ 的/ 异常/ 执行/ 分支/ ,/ 触发/ ESIA/ 迁移/ 至/ 相应/ 异常/ 状态/ ./ 使用/ ESIA/ 对/ 嵌入式软件/ 构件/ 进行/ 建模/ 时/ ,/ 还/ 需要/ 根据/ 目标/ 系统/ 、/ 测试环境/ 的/ 特点/ ,/ 对/ 不同/ 类型/ 的/ 行为/ 参数/ 进行/ 分类/ 描述/ 、/ 处理/ ,/ 以/ 建立/ 完整/ 的/ 行为/ 描述/ ,/ 并/ 保证/ 所/ 生成/ 测试数据/ 的/ 可操作性/ ./ RTP/ 软件/ 是/ 深/ 嵌入式软件/ ,/ 其/ 行为/ 具有/ 的/ 参数/ 类型/ 以及/ 对应/ 变量/ 类型/ 如表/ 4/ 所示/ ./ 参数/ 类型/ 寻址/ 地址/ 整型/ 、/ 指针/ 等/ 通信/ 呼叫者/ 、/ 应答/ 者/ 寻址/ 数据/ 地址/ 整型/ 、/ 指针/ 等/ 指向/ 待处理/ 的/ 数据/ 对象/ 数据/ 变量/ 回调/ 函数/ 入口/ 参考/ 句柄/ 执行/ 状态/ 枚举/ 、/ 整型/ 等/ 描述/ 行为/ 执行/ 状态/ 时间/ 由表/ 4/ 可知/ ,/ RTP/ 软件/ 通过/ 指针/ 操作/ 消息/ 数据/ 对象/ ./ 在/ ESIA/ 模型/ 中/ ,/ 将/ 指针/ 类型/ 映射/ 为/ 布尔/ 类型/ ,/ 当值/ 为/ TRUE/ 时/ ,/ 表示/ 有效/ 消息/ 数据/ 地址/ ;/ 当值/ 为/ FALSE/ 时/ ,/ 表示/ 无效/ 地址/ ./ 进一步/ 将/ 布尔/ 类型/ 变量/ 映射/ 为/ 整型/ 变量/ ,/ 其中/ 0/ 表示/ 取值/ 为/ FALSE/ ,/ 1/ 表示/ TRUE/ ./ 对以/ 指针/ 变量/ 表示/ 的/ 通信/ 端/ 地址/ 、/ 回调/ 函数/ 入口/ 地址/ 、/ 参考/ 句柄/ 等作/ 同样/ 处理/ ./ 此外/ ,/ 整型/ 变量/ 表示/ 的/ 通信/ 端/ 地址/ 仍/ 以/ 整型/ 变量/ 描述/ ./ 过程/ 数据/ 包含/ 整型/ 、/ 实型/ 等/ 数据类型/ ,/ 具有/ 不同/ 范围/ 的/ 定义域/ ./ 为/ 简化/ 讨论/ ,/ 选取/ 布尔/ 型/ 、/ 16/ 位/ 整型/ 、/ 实型/ 等/ 类型/ 进行/ 建模/ 和/ 测试用例/ 生成/ ./ 每项/ 过程/ 变量/ 具有/ 对应/ 的/ 检查/ 变量/ ,/ 为/ 一个/ 2/ 位/ 变量/ ,/ 同样/ 将/ 其/ 映射/ 为/ 整型/ 变量/ ,/ 当值/ 为/ 0/ 时/ ,/ 表示/ 对应/ 过程/ 数据/ 错误/ ;/ 当值/ 为/ 1/ 时/ ,/ 表示/ 正确/ ;/ 当值/ 为/ 2/ 时/ ,/ 表示/ 强制/ 值/ ;/ 当值/ 为/ 3/ 时/ ,/ 表示/ 无/ 定义/ ./ 嵌入式软件/ 通常/ 面向/ 特定/ 应用领域/ ,/ 与/ 硬件平台/ 紧密结合/ ,/ 测试环境/ 建立/ 困难/ ./ RTP/ 软件/ 为/ 清华大学/ 研制/ ,/ 以/ 实现/ 高速/ 列车/ 核心/ 装备/ 国产化/ ,/ 其/ 开发/ 环境/ 和/ 测试环境/ 均/ 自主/ 可控/ ./ 在/ 研制/ 工作/ 中/ ,/ 通过/ 应用/ ESIA/ -/ Symbolic/ 方法/ 对/ RTP/ 软件/ 进行/ 基于/ ESIA/ 模型/ 的/ 正常/ 、/ 异常/ 测试/ ,/ 发现/ 了/ 一系列/ 软件缺陷/ ,/ 有效/ 保证/ 了/ RTP/ 软件设计/ 与/ 实现/ 的/ 正确性/ ,/ 保证/ 了/ RTP/ 软件产品/ 的/ 质量/ ./ MVB/ _/ Caller/ 和/ MVB/ _/ Respondent/ 是/ RTP/ 软件/ 最/ 重要/ 的/ 核心/ 底层/ 模块/ ,/ 在/ 嵌入式软件/ 领域/ 具有/ 代表性/ ./ 因此/ ,/ 本文/ 以/ RTP/ 软件/ 为例/ ,/ 对/ ESIA/ 模型/ 扩展/ 与/ ESIA/ -/ Symbolic/ 方法/ 进行/ 验证/ 与/ 评估/ ./ 4.3/ 用例/ 生成/ 结果/ 本/ 节/ 采用/ ATES/ 平台/ 内置/ 的/ ESIA/ -/ Symbolic/ 方法/ ,/ 在/ MVB/ _/ Caller/ 、/ MVB/ _/ Respondent/ 模型/ 之上/ 生成/ 正常/ 、/ 异常/ 测试用例/ 集/ ,/ 并/ 从/ 用/ 例集/ 规模/ 、/ 模型/ 覆盖率/ 、/ 执行/ 效率/ 、/ 工作效率/ 、/ 缺陷/ 检测/ 等/ 方面/ 将/ ESIA/ -/ Symbolic/ 方法/ 与/ 人工/ 设计/ 方法/ 、/ Zhang/ 等/ 人/ [/ 13/ ]/ 提出/ 的/ EIA/ -/ SATG/ 算法/ 、/ 随机/ 生成/ 算法/ 进行/ 综合/ 比较/ ./ EIA/ -/ SATG/ 算法/ 是/ 一种/ 基于/ 扩展/ 接口/ 自动机/ (/ ExtendedInterfaceAutomata/ ,/ EIA/ )/ 的/ 深度/ 优先/ 图/ 遍历/ 算法/ ./ 在/ EIA/ 中/ ,/ 定义/ 了/ 构件/ 变量/ 集合/ ,/ 并/ 定义/ 了/ 行为/ 前置/ 、/ 后置/ 条件/ ./ 以/ EIA/ 为/ 基础/ 模型/ ,/ EIA/ -/ SATG/ 算法/ 将/ 测试/ 路径/ 生成/ 问题/ 转化/ 为/ 图/ 搜索/ 问题/ ./ 在/ 测试/ 路径/ 生成/ 过程/ 中/ ,/ 要求/ EIA/ -/ SATG/ 算法/ 使用/ 与/ ESIA/ -/ Symbolic/ 方法/ 相同/ 的/ 结构/ 覆盖率/ 准则/ ,/ 即/ 以全/ 迁移/ 覆盖/ 、/ All/ -/ Loop/ -/ n/ // All/ -/ m/ -/ Loop/ 覆盖/ 准则/ 为/ 指导/ ,/ 以便/ 与/ ESIA/ -/ Symbolic/ 方法/ 生成/ 结果/ 进行/ 比较/ ./ 在/ 生成/ 的/ 每条/ 测试/ 路径/ 之上/ ,/ EIA/ -/ SATG/ 算法/ 通过/ 抽取/ 行为/ 前置/ 、/ 后置/ 条件/ 并/ 进行/ 约束/ 求解/ ,/ 生成/ 对应/ 路径/ 的/ 测试数据/ ./ EIA/ -/ SATG/ 算法/ 使用/ 的/ 基础/ 模型/ EIA/ 无/ 状态变量/ 、/ 异常/ 状态/ 定义/ ,/ 在/ 测试/ 路径/ 生成/ 过程/ 中/ 无法/ 识别/ 异常/ 路径/ ,/ 因此/ EIA/ -/ SATG/ 算法/ 仅能/ 生成/ 正常/ 测试/ 路径/ 与/ 测试数据/ ./ 同时/ ,/ EIA/ -/ SATG/ 算法/ 不/ 具有/ 启发/ 条件/ ,/ 在/ 测试/ 路径/ 集合/ 生成/ 之后/ 才/ 进行/ 测试数据/ 求解/ ./ 而/ ESIA/ -/ Symbolic/ 方法/ 是/ 一系列/ 正常/ 、/ 异常/ 测试用例/ 生成/ 方法/ 与/ 算法/ 的/ 集合/ ./ 通过/ 采用/ SE/ 技术/ ,/ 引入/ 启发/ 条件/ 指导/ 测试/ 路径/ 的/ 生成/ ,/ 甄别/ 各类/ 正常/ 、/ 异常/ 以及/ 部分/ 可/ 判定/ 路径/ ,/ 在/ 此基础/ 上/ 通过/ 各类/ 方法/ 求解/ 正常/ 、/ 异常/ 测试数据/ ./ 在/ 实验/ 过程/ 中/ ,/ 由于/ EIA/ -/ SATG/ 算法/ 使用/ 的/ EIA/ 模型/ 与/ ESIA/ 模型/ 不同/ ,/ 故/ 参照/ MVB/ _/ Caller/ 、/ MVB/ _/ Respondent/ 模型/ 语义/ ,/ 将/ 其/ 分别/ 转化/ 为/ 对应/ 的/ EIA/ 模型/ ,/ 再/ 进行/ 测试/ 生成/ ./ 在/ 模型/ 转化/ 过程/ 中/ ,/ ESIA/ 模型/ 的/ 状态/ 、/ 行为/ 、/ 迁移/ 关系/ 集合/ 分别/ 转化/ 为/ EIA/ 模型/ 的/ 状态/ 、/ 行为/ 、/ 迁移/ 关系/ 集合/ ,/ 而/ 由于/ EIA/ 模型/ 无/ 异常/ 状态/ 定义/ ,/ ESIA/ 模型/ 的/ 正常/ 、/ 异常/ 状态/ 均/ 转化/ 为/ EIA/ 模型/ 中/ 的/ 一般/ 状态/ ./ 如/ MVB/ _/ Caller/ 模型/ 中/ 的/ 状态/ “/ 3/ ”/ 、/ “/ 4/ ”/ ,/ 在/ ESIA/ 模型/ 中为/ 异常/ 状态/ ,/ 转化/ 为/ EIA/ 模型/ 后/ 即/ 为/ 一般/ 状态/ ./ 随机/ 生成/ 算法/ 则/ 直接/ 使用/ 构件/ 的/ ESIA/ 模型/ 作为/ 基础/ 模型/ 进行/ 测试/ 生成/ ,/ 与/ ESIA/ -/ Symbolic/ 方法/ Page13/ 不同/ 的/ 是/ ,/ 在/ 测试/ 路径/ 生成/ 过程/ 中/ ,/ 后继/ 行为/ 的/ 选择/ 是/ 随机/ 的/ ./ 由于/ ESIA/ -/ Symbolic/ 方法/ 与/ 其他/ 方法/ 或/ 算法/ 的/ 工作/ 目标/ 不/ 完全相同/ ,/ 故/ 在/ 实验/ 过程/ 中/ ,/ 仅/ 对/ 相关/ 方面/ 的/ 实验/ 结果/ 进行/ 比较/ ./ 4.3/ ./ 1/ 用/ 例集/ 规模/ ESIA/ -/ Symbolic/ 方法/ 在/ MVB/ _/ Caller/ 、/ MVB/ _/ Respondent/ 之上/ 生成/ 的/ 测试/ 路径/ 集/ 、/ 测试用例/ 集规图/ 7/ 生成/ 测试/ 路径/ 与/ 测试用例/ 数表/ 5/ 测试数据/ 生成/ 方式/ 分析/ 表/ 生成/ 方式/ 约束/ 求解/ 插桩/ 由/ 生成/ 结果/ 可见/ ,/ ESIA/ -/ Symbolic/ 方法/ 是/ 一套/ 系统/ 方法/ ,/ 既/ 可/ 生成/ 正常/ 测试数据/ ,/ 也/ 可/ 生成/ 异常/ 测试数据/ ./ ESIA/ -/ Symbolic/ 方法/ 实现/ 了/ 用例/ 设计/ 过程/ 自动化/ ,/ 依据/ 统一/ 原则/ ,/ 采用/ 通用/ 方法/ 生成/ 用例/ ./ 4.3/ ./ 2/ 模型/ 覆盖率/ ESIA/ -/ Symbolic/ 方法/ 在/ MVB/ _/ Caller/ 、/ MVB/ _/ Respondent/ 之上/ 分别/ 生成/ 8/ 条/ 与/ 18/ 条/ 测试/ 路径/ ,/ 对全/ 迁移/ 、/ All/ -/ Loop/ -/ n/ // All/ -/ m/ -/ Loop/ 准则/ 的/ 覆盖率/ 均/ 达到/ 100/ %/ ./ 相比之下/ ,/ 随机/ 生成/ 方法/ 在/ MVB/ _/ Caller/ 、/ MVB/ _/ Respondent/ 之上/ 生成/ 的/ 测试用例/ 集合/ 对全/ 迁移/ 、/ All/ -/ Loop/ -/ n/ // All/ -/ m/ -/ Loop/ 准则/ 的/ 覆盖率/ 分别/ 如图/ 8/ 、/ 图/ 9/ 所示/ ./ 模如图/ 7/ 所示/ ./ 由于/ ESIA/ -/ Symbolic/ 方法/ 在/ 每条/ 正常/ 测试/ 路径/ 之上/ 均/ 求解/ 一组/ 对应/ 的/ 正常/ 测试数据/ ,/ 因此/ 正常/ 测试/ 路径/ 数/ 与/ 正常/ 测试用例/ 数/ 相同/ ./ 在/ 基于/ 约束条件/ 翻转/ 、/ 基于/ 插桩/ 的/ 异常/ 测试数据/ 生成/ 过程/ 中/ ,/ 需要/ 针对/ 不同/ 类型/ 的/ 行为/ 参数/ 生成/ 测试数据/ ,/ 生成/ 结果/ 需要/ 覆盖/ 对应/ 等价/ 类/ ./ MVB/ _/ Caller/ 、/ MVB/ _/ Respondent/ 中/ 不同/ 参数/ 类型/ 对应/ 的/ 变量/ 类型/ 、/ 等价/ 类/ 和/ 测试数据/ 生成/ 方式/ 如表/ 5/ 所示/ ./ 正确/ 值/ // 超限/ 值/ 1/ // 0/ // 未/ 赋值/ 正确/ 值/ // 超限/ 值/ 正确/ 值/ // 未/ 赋值/ 正确/ 值/ // 未/ 赋值/ 正确/ 值/ // 未/ 赋值/ 1/ // 0/ // 未/ 赋值/ 1/ // 0/ // 未/ 赋值/ 正确/ 值/ // 错误/ 值/ // 未/ 赋值/ 0/ // 过小值/ // 过大值/ // 未/ 赋值/ 消息/ 长度/ Page14/ 由图/ 8/ 、/ 图/ 9/ 可见/ ,/ 随机/ 方法/ 生成/ 的/ 测试用例/ 集对/ 全/ 迁移/ 准则/ 的/ 覆盖率/ 低于/ ESIA/ -/ Symbolic/ 方法/ ,/ 而/ 对/ All/ -/ Loop/ -/ n/ // All/ -/ m/ -/ Loop/ 准则/ 的/ 覆盖率/ 更/ 明显/ 低于/ ESIA/ -/ Symbolic/ 方法/ ./ 随着/ 用/ 例集/ 规模/ 的/ 增长/ ,/ 随机/ 方法/ 对全/ 迁移/ 准则/ 的/ 覆盖率/ 逐渐/ 逼近/ ESIA/ -/ Symbolic/ 方法/ ,/ 而/ 对/ All/ -/ Loop/ -/ n/ // All/ -/ m/ -/ Loop/ 准则/ 的/ 覆盖率/ 与/ ESIA/ -/ Symbolic/ 方法/ 仍/ 存在/ 很大/ 差距/ ./ 按/ 前述/ 等价/ 类/ 要求/ ,/ ESIA/ -/ Symbolic/ 方法/ 使用/ 方法/ 类型/ ESIA/ -/ SymbolicEIA/ -/ SATG/ 方法/ 类型/ ESIA/ -/ SymbolicEIA/ -/ SATG/ 表/ 6MVB/ _/ Caller/ 用/ 例集/ 生成/ 时间/ 正常/ 测试用例/ 数/ 38/ 表/ 7MVB/ _/ Respondent/ 用/ 例集/ 生成/ 时间/ 正常/ 测试用例/ 数/ 718/ 在/ 用例/ 生成/ 过程/ 中/ ,/ EIA/ -/ SATG/ 算法/ 使用/ 与/ ESIA/ -/ Symbolic/ 方法/ 相同/ 的/ 全/ 迁移/ 、/ All/ -/ Loop/ -/ n/ // All/ -/ m/ -/ Loop/ 准则/ ,/ 仅/ 生成/ 正常/ 测试数据/ ./ 由于/ ESIA/ -/ Symbolic/ 方法/ 与/ EIA/ -/ SATG/ 算法/ 在/ 每条/ 正常/ 测试/ 路径/ 之上/ 均/ 求解/ 一组/ 对应/ 的/ 正常/ 测试数据/ ,/ 因此/ 正常/ 测试/ 路径/ 数/ 与/ 正常/ 测试用例/ 数/ 相同/ ./ 在/ ESIA/ -/ Symbolic/ 方法/ 中/ ,/ 伴随/ 测试/ 路径/ 的/ 生成/ 实时/ 进行/ 符号执行/ ,/ 因此/ 在/ 生成/ 测试/ 路径/ 集合/ 的/ 过程/ 中/ ,/ 较/ EIA/ -/ SATG/ 算法/ 将/ 耗费/ 更/ 多/ 时间/ ./ 另一方面/ ,/ ESIA/ -/ Symbolic/ 方法/ 生成/ 的/ 用/ 例集/ 规模/ 更大/ ,/ 且/ 包含/ 正常/ 、/ 异常/ 用例/ ./ 当/ 生成/ 更/ 多/ 的/ 异常/ 测试用例/ 时/ ,/ “/ 生成/ 时间/ // 用/ 例集/ 规模/ ”/ 的/ 相对/ 成本/ 较/ EIA/ -/ SATG/ 算法/ 更/ 低/ ,/ 即用例/ 平均/ 生成/ 时间/ 更/ 短/ ./ 此外/ ,/ 由于/ EIA/ -/ SATG/ 算法/ 无法/ 识别/ 异常/ 路径/ ,/ 故/ 在/ 测试/ 路径/ 生成/ 过程中将/ ESIA/ -/ Symbolic/ 方/ 基于/ 约束条件/ 翻转/ 、/ 基于/ 插桩/ 等/ 方法/ 生成/ 正常/ 、/ 异常/ 测试数据/ ,/ 对/ 相关/ 等价/ 类/ 的/ 覆盖率/ 达到/ 100/ %/ ./ 人工/ 设计/ 的/ 测试用例/ 集对/ 数据类型/ 、/ 等价/ 类/ 的/ 覆盖率/ 也/ 可/ 达到/ 100/ %/ ,/ 但/ 由于/ 人工/ 设计/ 方法/ 将/ 被/ 测/ 对象/ 视为/ 黑盒/ ,/ 而/ 未/ 考虑/ 软件/ 内部/ 运行机制/ ,/ 设计/ 的/ 测试用例/ 集/ 规模/ 有限/ ,/ 对/ All/ -/ Loop/ -/ n/ // All/ -/ m/ -/ Loop/ 准则/ 的/ 覆盖率/ 很/ 低/ ./ 4.3/ ./ 3/ 算法/ 执行/ 效率/ ESIA/ -/ Symbolic/ 方法/ 可/ 在/ 短时间/ 内/ 生成/ 测试用例/ 集/ ./ 以/ RTP/ 软件/ 为/ 被/ 测/ 软件/ ,/ 使用/ ESIA/ -/ Symbolic/ 方法/ 与/ EIA/ -/ SATG/ 算法/ 生成/ 测试用例/ 集/ 的/ 规模/ 与/ 所/ 耗费/ 的/ 时间/ 如表/ 6/ 、/ 表/ 7/ 所示/ ./ 其中/ ,/ 用例/ 平均/ 生成/ 时间/ =/ (/ 测试/ 路径/ 生成/ 时间/ +/ 正常/ 用例/ 生成/ 时间/ +/ 异常/ 用例/ 生成/ 时间/ )/ // (/ 正常/ 用/ 例数/ +/ 异常/ 用/ 例数/ )/ ./ ESIA/ -/ Symbolic/ 方法/ 与/ EIA/ -/ SATG/ 算法/ 在/ MVB/ _/ Caller/ 、/ MVB/ _/ Respondent/ 之上/ 的/ 用例/ 平均/ 生成/ 时间/ 比/ 分别/ 为/ 31.1/ %/ 和/ 34.7/ %/ ,/ 其中/ ,/ 用例/ 平均/ 生成/ 时间/ 比/ =/ (/ ESIA/ -/ Symbolic/ 方法/ 用例/ 平均/ 生成/ 时间/ // EIA/ -/ SATG/ 算法/ 用例/ 平均/ 生成/ 时间/ )/ ×/ 100/ %/ ./ 正常/ 用例/ 生成/ 时间/ // ms/ 正常/ 用例/ 生成/ 时间/ // ms/ 法/ 生成/ 的/ 异常/ 路径/ 作为/ 一般性/ 正常/ 路径/ 生成/ ,/ 因此/ ESIA/ -/ Symbolic/ 方法/ 生成/ 的/ 正常/ 路径/ // 用/ 例数/ 少于/ EIA/ -/ SATG/ 算法/ ./ 4.3/ ./ 4/ 工作效率/ 以/ RTP/ 软件/ 为/ 被/ 测/ 软件/ ,/ 在/ 生成/ 相同/ 规模/ 测试用例/ 集/ 的/ 情况/ 下/ ,/ ESIA/ -/ Symbolic/ 方法/ 与/ 手工/ 设计/ 方法/ 的/ 工作量/ 如表/ 8/ 所示/ ,/ 其中/ ,/ 每人/ 天以/ 8h/ 有效/ 工作/ 时间/ 计/ ./ 方法/ 类型/ ESIA/ -/ Symbolic/ 人工/ 设计/ 在/ 使用/ ESIA/ -/ Symbolic/ 方法/ 时/ ,/ 每个/ 用例/ 的/ 平均/ 设计/ 时间/ 估算/ 如下/ :/ Page15/ 其中/ ,/ Cc/ 表示/ 每个/ 用例/ 的/ 平均/ 设计/ 时间/ ,/ Cd/ 表示/ 用/ 例集/ 设计/ 时间/ ,/ Cb/ 表示/ 熟悉/ 背景/ 知识/ 的/ 时间/ ,/ N/ 表示/ 模型/ 中/ 的/ 平均/ 测试/ 路径/ 数/ ,/ M/ 表示/ 测试/ 路径/ 上/ 的/ 平均/ 约束条件/ 数/ ./ 由/ 软件测试/ 工作/ 经验/ 可知/ ,/ 在/ 使用/ 人工/ 设计/ 方法/ 时/ ,/ 每个/ 用例/ 的/ 平均/ 设计/ 时间/ 通常/ 是/ 一个/ 与/ 技术人员/ 工作/ 经验/ 相关/ 的/ 常数/ ,/ 表示/ 为/ Cm/ ./ 由此/ ,/ ESIA/ -/ Symbolic/ 方法/ 与/ 人工/ 设计/ 方法/ 对/ 每个/ 用例/ 的/ 平均/ 设计/ 时间/ 之/ 比如/ 下/ :/ CcCm/ =/ 其中/ ,/ 当/ Cc/ // Cm/ 大于/ 1/ 时/ ,/ 表示/ ESIA/ -/ Symbolic/ 方法/ 对/ 每个/ 用例/ 的/ 平均/ 设计/ 时间/ 更长/ ;/ 当/ Cc/ // Cm/ 小于/ 1/ 时/ ,/ 表示/ ESIA/ -/ Symbolic/ 方法/ 对/ 每个/ 用例/ 的/ 平均/ 设计/ 时间/ 更/ 短/ ,/ 工作效率/ 更高/ ./ 为了/ 对/ ESIA/ -/ Symbolic/ 方法/ 与/ 人工/ 设计/ 方法/ 的/ 工作效率/ 进行/ 比较/ ,/ 首先/ 根据/ 前述/ 实验/ 结果/ ,/ 推算/ Cc/ // Cm/ 计算公式/ 中/ 的/ Cd/ // Cm/ 、/ Cb/ // Cm/ 等/ 系数/ ,/ 以/ 获得/ Cc/ // Cm/ 与/ 模型/ 中/ 的/ 平均/ 测试/ 路径/ 数/ N/ 、/ 测试/ 路径/ 上/ 的/ 平均/ 约束条件/ 数/ M/ 之间/ 的/ 计算/ 关系/ ./ 随后/ ,/ 对/ Cc/ // Cm/ 随/ N/ 、/ M/ 的/ 变化趋势/ 进行/ 仿真/ 计算/ ,/ 在/ 被/ 测/ 对象/ 规模/ 持续增长/ 的/ 条件/ 下/ ,/ 评估/ 两种/ 方法/ 相对/ 工作效率/ 的/ 变化/ 情况/ ./ 由于/ ESIA/ -/ Symbolic/ 方法/ 与/ 人工/ 设计/ 方法/ 在/ 测试/ 需求/ 分析阶段/ 的/ 工作量/ 基本一致/ ,/ 故/ 在/ Cd/ 中仅/ 考虑/ 建模/ 、/ 用例/ 设计/ 等/ 阶段/ 的/ 工作量/ ./ 由表/ 8/ 可知/ ,/ 每个/ 用例/ 的/ 平均/ 人工/ 设计/ 时间/ Cm/ 约/ 为/ 20min/ ./ 在/ 使用/ ESIA/ -/ Symbolic/ 方法/ 时/ ,/ 建模/ 时间/ 约/ 为/ 1/ 人天/ ,/ 而/ 由于/ 用例/ 为/ 自动/ 生成/ ,/ 其所/ 耗费/ 时间/ 可/ 忽略不计/ ,/ 故/ Cd/ 约/ 为/ 1/ 人天/ ./ 通过/ 在/ 实验室/ 内/ 随机/ 挑选/ 数名/ 技术人员/ 参与/ 实验/ 可知/ ,/ 具有/ 一定/ 基础/ 的/ 技术人员/ 通过/ 1.5/ 人天/ 左右/ 学习/ ,/ 可/ 基本/ 掌握/ ESIA/ -/ Symbolic/ 方法/ 的/ 使用/ ,/ 即/ Cb/ 约/ 为/ 1.5/ 人天/ ./ Cd/ 、/ Cb/ 、/ Cd/ // Cm/ 与/ Cb/ // Cm/ 分别/ 计算/ 如下/ :/ Cd/ =/ 1/ 人天/ ×/ 8h/ // 人天/ ×/ 60min/ // h/ =/ 480min/ ;/ Cb/ =/ 1.5/ 人天/ ×/ 8h/ // 人天/ ×/ 60min/ // h/ =/ 720min/ ;/ CdCmCbCm/ =/ =/ 由此/ ,/ Cc/ // Cm/ 计算/ 如下/ :/ 根据/ 以上/ 结果/ ,/ 以/ N/ 、/ M/ 作为/ 自变量/ ,/ 对/ Cc/ // Cm/ 的/ 值/ 进行/ 仿真/ 计算/ ,/ 并/ 根据/ 仿真/ 计算/ 数据/ 绘制图/ 10/ ./ 由/ 仿真/ 结果/ 可见/ ,/ 当/ 被/ 测/ 对象/ 规模较/ 小时/ ,/ 由于/ 背景/ 知识/ 学习/ 、/ 建模/ 等/ 工作/ 将/ 耗费/ 一定/ 时间/ ,/ 人工/ 设计/ 方法/ 表现/ 更加/ 灵活/ ./ 而/ 随着/ 被测/ 对象/ 规模/ 的/ 增长/ ,/ ESIA/ -/ Symbolic/ 方法/ 相对/ 于/ 人工/ 设计/ 方法/ 的/ 工作效率/ 将/ 大幅/ 提升/ ./ 此外/ ,/ ESIA/ -/ Symbolic/ 方法/ 的/ 应用/ 也/ 使/ 测试/ 目标/ 调整/ 以及/ 回归/ 测试/ 更/ 便捷/ ./ 测试/ 目标/ 变更/ 时/ ,/ 仅/ 需/ 相应/ 调整/ 用例/ 生成/ 策略/ ,/ 即可/ 针对/ 不同/ 目标/ 迅速/ 生成/ 测试用例/ ./ 进行/ 回归/ 测试/ 时/ ,/ 仅/ 需/ 根据/ 软件/ 修改/ 情况/ ,/ 对/ 涉及/ 的/ 模型/ 结构/ 、/ 变量/ 定义域/ 、/ 行为/ 约束条件/ 进行/ 修订/ ,/ 并/ 根据/ 影响/ 域/ 分析/ 结果/ 划定/ 回归/ 测试用例/ 生成/ 范围/ ,/ 即可/ 直接/ 生成/ 回归/ 测试用例/ ./ 4.3/ ./ 5/ 缺陷/ 检测/ 在/ 针对/ 目标/ 系统/ 的/ 测试/ 工作/ 中共/ 发现/ 5/ 处/ 软件缺陷/ ,/ 其中/ 4/ 处/ 可/ 通过/ ESIA/ -/ Symbolic/ 方法/ 自动/ 生成/ 的/ 测试用例/ 集/ 暴露/ ,/ 具体/ 如表/ 9/ 所示/ ./ ESIA/ -/ Symbolic/ 方法/ 生成/ 的/ 测试用例/ 集/ 与/ 人工/ 设计/ 的/ 测试用例/ 集/ 具有/ 基本一致/ 的/ 软件缺陷/ 发现/ 能力/ ./ 其中/ 第/ 5/ 项/ 问题/ ,/ 由于/ ATES/ 平台/ 未内建/ “/ 创建/ 具有/ 相同/ 参考/ 句柄/ 的/ 会/ 话/ ”/ 的/ 特殊/ 测试/ 策略/ ,/ 故未/ 针对/ 该/ 问题/ 生成/ 用例/ ./ 在/ 人工/ 设计/ 测试用例/ 时/ ,/ 由于/ 人/ 具有/ 主观/ 能动性/ ,/ 可/ 针对/ 特定/ 功能/ 点/ 灵活/ 设计/ 特殊/ 的/ 测试/ 策略/ ./ 此类/ 测试/ 策略/ 不/ 具有/ 普遍性/ ,/ 难以/ 在/ 测试/ 平台/ 中/ 进行/ 一般化/ 内建/ ./ 针对/ 这/ 类/ 特殊/ 测试/ 策略/ ,/ 仍多/ 采取/ 人工/ 分析/ 、/ 设计/ 的/ 方式/ 进行/ 处理/ ./ Page16/ 表/ 9/ 缺陷/ 发现/ 能力/ 分析/ 序号/ 缺陷/ 类型/ 12345/ 超界/ 数据处理/ 错误/ 通信/ 状态/ 判别/ 错误/ 寻址/ 地址/ 配置/ 错误/ 通信/ 状态/ 判别/ 错误/ 会话/ 句柄/ 配置/ 错误/ ESIA/ -/ Symbolic/ 方法/ 可/ 对/ 软件设计/ 方案/ 中/ 的/ 部分/ 可/ 判定/ 路径/ 进行/ 检测/ 与/ 识别/ ,/ 辅助/ 技术人员/ 发现/ 软件设计/ 方案/ 中/ 的/ 缺陷/ ./ 实验/ 过程/ 中/ 在/ MVB/ _/ Caller/ 中/ 建立/ 输入/ 行为/ long/ _/ call/ _/ confirm/ (/ χ/ c/ _/ rep/ _/ long/ ,/ χ/ c/ _/ rep/ _/ len/ _/ long/ ,/ χ/ c/ _/ rep/ _/ buf/ _/ len/ _/ long/ )/ ,/ 并/ 建立/ 其/ 前置条件/ PreCon/ (/ long/ _/ call/ _/ confirm/ )/ =/ (/ χ/ c/ _/ state/ =/ =/ 2/ )/ ∧/ (/ χ/ c/ _/ rep/ _/ long/ =/ =/ TRUE/ )/ ∧/ (/ 4096/ / χ/ c/ _/ rep/ _/ len/ _/ long/ / χ/ c/ _/ rep/ _/ len/ _/ ref/ )/ ∧/ (/ χ/ c/ _/ rep/ _/ len/ / χ/ c/ _/ rep/ _/ buf/ _/ len/ )/ ,/ 如图/ 11/ 所示/ ./ 由于/ 在/ rep/ _/ set/ 行为/ 后置/ 条件/ 中/ 存在/ 约束条件/ (/ 1/ / χ/ c/ _/ rep/ _/ len/ _/ ref/ / 4095/ )/ ,/ 与/ 约束条件/ (/ 4096/ / χ/ c/ _/ rep/ _/ len/ _/ long/ / χ/ c/ _/ rep/ _/ len/ _/ ref/ )/ 不/ 一致/ ,/ 故/ long/ _/ call/ _/ confirm/ 行为/ 的/ 引入/ 将/ 在/ 模型/ 中/ 植入/ 部分/ 可/ 判定/ 路径/ ,/ 即/ 路径/ “/ 0/ →/ rep/ _/ set/ →/ 1/ →/ call/ _/ request/ →/ 2/ →/ long/ _/ call/ _/ confirm/ →/ 0/ ”/ ./ ESIA/ -/ Symbolic/ 方法/ 执行/ 结果显示/ 其/ 可/ 正确/ 检测/ 出所/ 植入/ 的/ 部分/ 可/ 判定/ 路径/ ,/ 并/ 可/ 根据/ 该/ 反例/ 生成/ 相应/ 测试用例/ ./ 此外/ ,/ ESIA/ -/ Symbolic/ 方法/ 从/ 构件/ 外部/ 行为/ 特性/ 和/ 内部/ 运行机制/ 两/ 方面/ 着眼/ ,/ 可/ 对/ 在/ 各类/ 应用/ 场景/ 下/ 的/ 构件/ 执行/ 情况/ 进行/ 充分/ 测试/ ,/ 特别/ 对/ 循环/ 结构/ 、/ 内部/ 变量/ 可/ 进行/ 有/ 针对性/ 的/ 测试/ ,/ 因而/ 对/ 构件/ 内部/ 运行机制/ 中/ 隐含/ 的/ 缺陷/ 具有/ 更/ 高/ 的/ 发现/ 率/ ./ 人工/ 设计/ 方法/ 则/ 未/ 考虑/ 软件/ 内部/ 运行机制/ ,/ 难以/ 对/ 各类/ 应用/ 场景/ 进行/ 充分/ 测试/ ./ 4.3/ ./ 6/ 局限性/ 分析/ (/ 1/ )/ 模型/ 构建/ 的/ 完整性/ 、/ 准确性/ 在/ 利用/ ESIA/ -/ Symbolic/ 方法/ 生成/ 测试用例/ 时/ ,/ 首先/ 需要/ 依据/ 被测/ 软件/ 构件/ 的/ 功能/ 需求/ 与/ 设计方案/ 建立/ 相应/ ESIA/ 模型/ ,/ 进行/ 充分/ 的/ 测试/ 需求/ 分析/ ,/ 进而/ 生成/ 足够/ 充分/ 的/ 测试用例/ 集合/ ./ 这/ 需要/ 测试人员/ 获取/ 相关/ 领域/ 知识/ ,/ 并/ 进行/ 完整/ 、/ 准确/ 的/ 模型/ 构建/ ./ 由于/ 对/ 目前/ 领域/ 知识/ 、/ 功能/ 需求/ 的/ 存在/ 形式/ 难以/ 进行/ 自动/ 抽象/ ,/ 因此/ 对/ 领域/ 知识/ 的/ 获取/ 与/ 理解/ 、/ 对/ 功能/ 需求/ 的/ 抽象/ 与/ 建模/ 等/ 更/ 多/ 依赖于/ 测试人员/ 的/ 技术水平/ 与/ 工程/ 经验/ ./ 这/ 不仅/ 需要/ 耗费/ 测试人员/ 大量/ 的/ 精力/ ,/ 同时/ 模型/ 的/ 完整性/ 、/ 准确性/ 等/ 难以/ 保证/ ./ 对于/ 大规模/ 、/ 复杂/ 嵌入式/ 系统/ ,/ 由于/ 其/ 领域/ 知识/ 的/ 广泛性/ 、/ 功能/ 需求/ 的/ 复杂性/ 等/ ,/ 使得/ 此/ 问题/ 更加/ 突出/ ./ 基于/ 模型/ 的/ 设计/ 方法/ (/ Model/ -/ BasedDesign/ ,/ MBD/ )/ 通过/ 建立/ 软件/ 模型/ ,/ 提供/ 对/ 软件/ 预期/ 行为/ 或/ 结构/ 的/ 抽象/ 定义/ ,/ 进行/ 基于/ 模型/ 的/ 设计方案/ 验证/ 及/ 生成/ 目标/ 代码/ ./ MBT/ 是/ MBD/ 过程/ 中/ 的/ 一项/ 重要/ 内容/ ./ 本文/ 针对/ 嵌入式软件/ 构件/ 提出/ 的/ ESIA/ 模型/ 既/ 可/ 作为/ MBT/ 的/ 基础/ 模型/ ,/ 也/ 可/ 支持/ MBD/ 的/ 开发/ 过程/ ./ 本文/ 在/ 进行/ 测试/ 生成/ 之前/ ,/ 假定/ 建立/ 的/ 被/ 测/ 构件/ ESIA/ 模型/ 能/ 充分/ 描述/ 被测/ 构件/ 的/ 功能/ 特性/ ./ 在/ 此基础/ 上/ ,/ 通过/ ESIA/ -/ Symbolic/ 方法/ ,/ 生成/ 足够/ 充分/ 的/ 测试用例/ 集/ ./ 同时/ ,/ 针对/ 嵌入式软件/ 测试环境/ 特点/ ,/ 通过/ 符号执行/ 、/ 插桩/ 等/ 方法/ ,/ 避免/ 无效/ 测试/ 路径/ 、/ Page17/ 测试数据/ 的/ 生成/ ./ 模型/ 构建/ 的/ 完整性/ 与/ 准确性/ 是/ MBD/ 领域/ 内/ 的/ 重要/ 研究/ 内容/ ,/ 已有/ 很多/ 研究/ 工作/ ,/ 立足于/ 设计/ 与/ 开发/ 层面/ 解决/ 该/ 问题/ ./ 经过/ 扩展/ ,/ ESIA/ 模型/ 元素/ 可/ 支持/ 对/ 嵌入式软件/ 构件/ 进行/ 完整/ 与/ 准确/ 的/ 描述/ ,/ 在/ 后续/ 研究/ 工作/ 中/ ,/ 将/ 进一步/ 从/ 设计/ 与/ 开发/ 层面/ ,/ 研究/ 利用/ ESIA/ 模型/ 对/ 嵌入式软件/ 进行/ 完整/ 、/ 准确/ 建模/ 的/ 方法/ ./ (/ 2/ )/ 约束条件/ 间/ 的/ 复杂/ 依赖/ 关系/ 通常/ 情况/ 下/ ,/ 构件/ 的/ 执行/ 路径/ 由/ 外部/ 事件/ 序列/ 以及/ 多个/ 参数/ 的/ 取值/ 共同/ 确定/ ./ 如果/ 这些/ 参数/ 的/ 取值/ 完全/ 取决于/ 外部/ 输入/ 行为/ ,/ 相互之间/ 不/ 存在/ 依赖/ 关系/ ,/ 则/ 采用/ 约束/ 求解/ 技术/ 沿/ 路径/ 直接/ 求解/ ./ 如果/ 某项/ 参数/ 的/ 取值/ 还/ 受到/ 前驱/ 行为/ 执行/ 效果/ 的/ 影响/ ,/ 则/ 其/ 取值/ 与/ 前驱/ 行为/ 的/ 参数/ 或/ 内部/ 变量/ 之间/ 存在/ 依赖/ 关系/ ./ 当/ 这种/ 依赖/ 关系/ 是/ 复杂/ 计算/ 、/ 数据处理/ 过程/ 时/ ,/ 将/ 在/ 测试/ 路径/ 之上/ 引入/ 复杂/ 约束/ 关系/ 、/ 甚至/ 复杂/ 非线性/ 约束/ 关系/ ,/ 不仅/ 使/ PC/ 表达式/ 的/ 构成/ 更/ 复杂/ ,/ 其/ 求解/ 也/ 将/ 耗费/ 更/ 多/ 的/ 计算资源/ ,/ 影响/ 测试/ 生成/ 效率/ ./ 在/ 后续/ 研究/ 工作/ 中/ ,/ 考虑/ 通过/ 优化/ 运行/ 配置/ 、/ 采用/ 约束/ 化简/ 技术/ 等/ 措施/ ,/ 对/ 算法/ 进行/ 进一步/ 优化/ ./ 5/ 相关/ 工作/ 其他/ 学者/ 对/ 软件/ 接口/ 模型/ 扩展/ 、/ 基于/ 接口/ 模型/ 以及/ 基于/ 符号执行/ 的/ 测试/ 生成/ 技术/ 也/ 进行/ 了/ 研究/ ,/ 取得/ 了/ 一系列/ 成果/ ./ 5.1/ 接口/ 模型/ 扩展/ 1998/ 年/ 至/ 2003/ 年间/ ,/ Lynch/ 、/ Tuttle/ 、/ Segala/ 和/ Vaandrager/ [/ 14/ -/ 15/ ]/ 提出/ 并/ 发展/ 了/ I/ // O/ 自动机/ (/ I/ // OAutomat/ ,/ IOA/ )/ ./ IOA/ 同样/ 是/ 一种/ 轻量级/ 的/ 构件/ 接口/ 模型/ ./ 与/ IA/ 不同/ ,/ IOA/ 是/ 输入/ 使能/ 的/ ,/ 即/ 在/ 所有/ 状态/ 上/ 、/ 所有/ 输入/ 行为/ 均/ 可/ 被/ 激活/ ,/ IOA/ 仅能/ 限制/ 输出/ 行为/ 和/ 内部/ 行为/ 的/ 执行/ 时机/ ./ 因此/ ,/ IOA/ 在/ 描述/ 反应式/ 系统/ 时/ 形式/ 更/ 复杂/ ./ IOA/ 上/ 的/ 可/ 组合/ 性/ 定义/ 是/ 一种/ 悲观/ 定义/ ,/ 即/ 只有/ 组合/ 构造/ 的/ 子系统/ ,/ 在/ 任何/ 环境/ 中/ 都/ 能/ 正常/ 运行/ ,/ 而/ 不会/ 进入/ 异常/ 状态/ 时/ ,/ 构件/ 间/ 才/ 是/ 可/ 组合/ 的/ ./ 2009/ 年/ 至/ 2011/ 年间/ ,/ Mouelhi/ 、/ Chouali/ 和/ Mountassir/ [/ 16/ -/ 17/ ]/ 提出/ 了/ 语义/ 接口/ 自动机/ (/ SemanticInterfaceAutomata/ ,/ SIA/ )/ ./ 在/ SIA/ 中/ ,/ 定义/ 了/ 行为/ 参数/ 、/ 共享/ 变量/ 和/ 局部变量/ ./ 其中/ ,/ 行为/ 参数/ 与/ 行为/ 名称/ 共同/ 构成/ 行为/ 签名/ ;/ 局部变量/ 描述/ 构件/ 所/ 维护/ 的/ 内部/ 变量/ ;/ 共享/ 变量/ 描述/ 构件/ 与其/ 运行/ 环境/ 以及/ 其他/ 构件/ 间/ 共享/ 的/ 变量/ ,/ 主要/ 用于/ 对/ 构件之间/ 的/ 一致性/ 状态/ 进行/ 统一/ 描述/ ./ 共享/ 变量/ 的/ 存在/ 对/ 构件/ 的/ 封装/ 性/ 造成/ 不利/ 影响/ ./ 此外/ ,/ 在/ SIA/ 中/ 定义/ 了/ 行为/ 执行/ 的/ 前置/ 、/ 后置/ 条件/ 、/ 效果/ 等/ ,/ 并/ 以/ 一阶/ 逻辑/ 表达式/ 描述/ ./ 2012/ 年/ ,/ Cao/ 和/ Wang/ 相结合/ ,/ 利用/ Z/ 语言/ 描述/ 抽象/ 数据结构/ 的/ 能力/ ,/ 对/ IA/ 变量/ 、/ 数据/ 特征/ 的/ 语义/ 进行/ 扩展/ ,/ 提出/ 了/ Z/ 标记/ 接口/ 自动机/ (/ InterfaceAutomatonwithZnotation/ ,/ ZIA/ )/ 模型/ ./ 在/ ZIA/ 中/ ,/ 状态/ 与/ 行为/ 具有/ 的/ 数据/ 特征/ 均/ 以/ 一阶/ 逻辑/ 形式/ 描述/ ,/ 简单/ 数据/ 特征/ 之间/ 可以/ 运算符/ 连接/ 构成/ 复杂/ 数据/ 特征/ ,/ 并/ 可/ 对/ 行为/ 执行/ 之前/ 、/ 之后/ 的/ 数据/ 特征/ 进行/ 区别/ 描述/ ./ 由此/ ,/ 在/ IA/ 中/ 建立/ 了/ 基于/ 数据/ 特征/ 的/ 行为/ 约束/ ,/ 对/ 数据/ 取值/ 约束/ 与/ 行为/ 约束/ 进行/ 统一/ 描述/ ./ 同样/ 在/ 2012/ 年/ ,/ Zhang/ 自动机/ (/ ExtendedInterfaceAutomata/ ,/ EIA/ )/ ./ 在/ EIA/ 中/ ,/ 分别/ 定义/ 了/ 输入/ 、/ 输出/ 以及/ 内部/ 变量/ 集合/ ,/ 并/ 以/ 输入/ 、/ 输出/ 以及/ 内部/ 变量/ 分别/ 作为/ 构件/ 输入/ 、/ 输出/ 以及/ 内部/ 行为/ 的/ 参数/ ,/ 但/ 构件/ 运行/ 过程/ 中/ 所/ 维护/ 的/ 中间/ 计算/ 变量/ 并未/ 包含/ 在/ 以上/ 变量/ 集合/ 中/ ./ 进一步/ 选取/ OCL/ 子集/ ,/ 定义/ 了/ EIA/ 的/ 模型/ 约束/ 语言/ 及/ 相关/ 语义/ ,/ 并/ 定义/ 了/ 各类/ 约束条件/ 表达式/ ./ 在/ 以上/ 对/ IA/ 模型/ 的/ 扩展/ 中/ ,/ 多/ 将/ 构件/ 行为/ 分别/ 纳入/ 输入/ 、/ 输出/ 与/ 内部/ 行为/ 集合/ ,/ 分别/ 以/ 输入/ 、/ 输出/ 与/ 内部/ 变量/ 作为/ 相应/ 行为/ 的/ 参数/ ,/ 并/ 定义/ 行为/ 的/ 前置条件/ 与/ 后置/ 条件/ ./ 在/ EIA/ 中/ ,/ 还/ 定义/ 了/ 变量/ 更新/ 函数/ ,/ 以/ 表示/ 执行/ 过程/ 中/ 的/ 变量/ 更新过程/ ./ 本文/ 提出/ 的/ ESIA/ 模型/ ,/ 不仅/ 定义/ 了/ 行为/ 参数/ ,/ 同时/ 定义/ 了/ 构件/ 运行/ 过程/ 中/ 维护/ 的/ 中间/ 计算/ 变量/ ,/ 并/ 将/ 其/ 纳入/ 到/ 内部/ 变量/ 集合/ 之中/ ,/ 同时/ 定义/ 了/ 变量/ 约束/ 的/ 基本/ 类型/ ,/ 给出/ 由/ 基本/ 约束/ 构造/ 复杂/ 约束/ 的/ 方法/ ./ 本文/ 还/ 对/ 行为/ 约束/ 与/ 变量/ 约束/ 的/ 描述/ 方式/ 进行/ 统一/ ,/ 在/ 前置/ 、/ 后置/ 条件/ 中/ ,/ 整合/ 了/ 各类/ 状态变量/ 、/ 行为/ 参数/ 、/ 中间/ 计算/ 变量/ 的/ 取值/ 约束/ ./ 5.2/ 基于/ 接口/ 自动机/ 的/ 测试/ 一些/ 学者/ 以/ IA/ 模型/ 为/ 基础/ 模型/ ,/ 进行/ 了/ 测试/ 技术/ 的/ 研究/ ./ 2008/ 年/ ,/ Li/ 等/ 人/ [/ 20/ ]/ 提出/ 了/ 一种/ 基于/ IA/ 的/ 测试/ 生成/ 方法/ ./ 通过/ 在/ IA/ 中/ 定义/ 可控/ 运行/ 片段/ 、/ 典型/ 状态/ 、/ 特征/ 序列/ 等/ ,/ 提出/ 可控/ 运行/ 片段/ 的/ 深度/ 优先/ 生成/ 算法/ ,/ 并/ 提出/ 通过/ 可控/ 运行/ 片段/ 、/ 特征/ 序列/ 构造/ 测试/ 序列/ 的/ 方法/ ./ 在/ 以上/ 研究/ 中/ ,/ 对/ IA/ 模型/ 的/ 扩展/ 与/ ESIA/ 不同/ ,/ 并未/ 对/ IA/ 进行/ 变量/ 、/ 行为/ 参数/ 扩展/ ,/ 也/ 未定义/ 行为/ 的/ 约束条件/ ./ 在/ 测试/ 生成/ 过程/ 中/ ,/ 以上/ 方法/ 将/ 生成/ 一组/ 测试/ 序列/ ,/ 未/ 在/ 测试/ 序列/ 上进/ Page18/ 行/ 行为/ 参数/ 、/ 变量/ 的/ 求解/ ,/ 而/ ESIA/ -/ Symbolic/ 方法/ 不仅/ 生成/ 测试/ 路径/ ,/ 还/ 在/ 测试/ 路径/ 上/ 进行/ 约束/ 求解/ 以求/ 取/ 测试数据/ ./ 2014/ 年/ ,/ Yang/ 等/ 人/ [/ 21/ ]/ 对/ IA/ 进行/ 时间/ 特性/ 扩展/ ,/ 以期/ 提供/ 详细/ 的/ 软件/ 时序/ 信息/ ./ 针对/ 输入/ 值受/ 其他/ 模块/ 影响/ 的/ 软件/ 输入/ 行为/ ,/ 通过/ 建立/ 输入/ 自动机/ ,/ 提供/ 输入/ 数据/ 产生/ 方式/ 的/ 模型/ 描述/ ./ 在/ 输入/ 自动机/ 上/ ,/ 进一步/ 定义/ 可控/ 运行/ 片段/ ,/ 提出/ 可控/ 运行/ 片段/ 的/ 深度/ 优先/ 生成/ 算法/ ,/ 并/ 基于/ 可控/ 运行/ 片段/ 上/ 的/ 时间/ 信息/ 生成/ 测试用例/ ./ 以上/ 研究/ 工作/ 主要/ 关注/ 构件/ 间/ 交互/ 行为/ 的/ 时间/ 特性/ 测试/ ,/ 而/ 本文/ 提出/ 的/ ESIA/ -/ Symbolic/ 方法/ 则/ 主要/ 关注/ 功能/ 特性/ 的/ 测试/ ,/ 因此/ 二者/ 生成/ 的/ 测试数据/ 是/ 针对/ 软件/ 的/ 不同/ 方面/ 特性/ ./ 5.3/ 基于/ 符号执行/ 的/ 测试/ King/ 了/ 一个/ 交互式/ 符号执行/ 系统/ ,/ 即/ EFFIGY/ 系统/ ./ 该/ 系统/ 具备/ 基本/ 调试/ 功能/ ,/ 其/ 内置/ 测试/ 管理器/ ,/ 可/ 在/ 生成/ 的/ 符号执行/ 树中/ 探索/ 候选/ 测试/ 路径/ ,/ 并/ 可/ 根据/ 使用者/ 提供/ 的/ 断言/ ,/ 生成/ 验证/ 条件/ ,/ 检验/ 用例/ 执行/ 结果/ ./ Clarke/ [/ 4/ ]/ 设计/ 了/ 一个/ 基于/ 符号执行/ 的/ 测试数据/ 生成/ 系统/ ,/ 以为/ Fortran/ 语言/ 程序/ 生成/ 测试数据/ ./ 该/ 系统/ 包括/ 程序/ 预处理/ 、/ 符号执行/ 、/ 约束/ 化简/ 、/ 约束/ 求解/ 四/ 部分/ ./ 其中/ ,/ 在/ 符号执行/ 部分/ ,/ 沿/ 不同/ 执行/ 路径/ ,/ 使用/ 计算/ 表/ 、/ 变量/ 演化/ 图/ 、/ 符号表/ 等/ 数据结构/ 生成/ 输出/ 变量/ 的/ 符号/ 表达式/ ,/ 推导/ 符号执行/ 结果/ ,/ 并/ 同步/ 建立/ 路径/ 约束/ ./ 随后/ ,/ 将/ 复杂/ 变量/ 约束/ 化简/ 为/ 线性/ 约束/ 表达式/ ,/ 利用/ 线性/ 求解/ 算法/ 进行/ 求解/ ,/ 以/ 生成/ 不同/ 路径/ 上/ 的/ 测试数据/ ./ 2010/ 年/ ,/ Papadakis/ 和/ Malevris/ [/ 22/ ]/ 提出/ 一种/ 动态/ 符号执行/ 方法/ ,/ 以/ 生成/ 基于/ 变异/ 的/ 测试数据/ ./ 在/ 动态/ 符号执行/ 过程/ 中/ ,/ PC/ 中/ 的/ 每项/ 约束条件/ 被/ 依次/ 翻转/ ,/ 以/ 实现/ 约束条件/ 的/ 变异/ ,/ 在/ 生成/ 的/ PC/ 引导/ 下/ 遍历/ 不同/ 路径/ ,/ 直到/ 探索/ 到/ 所有/ 可/ 达/ 路径/ 为止/ ./ Papadakis/ 等/ 人/ 利用/ 该/ 技术/ 实现/ 了/ 一个/ 测试用例/ 自动/ 生成/ 框架/ ./ SE/ 技术/ 作为/ 一种/ 有效/ 的/ 测试数据/ 生成/ 技术/ ,/ 在/ 一系列/ 测试工具/ 中/ 得到/ 应用/ ./ 如/ PathFinder/ 是/ 一款/ Java/ 字节/ 码/ 符号执行/ 工具/ ,/ 通过/ 符号执行/ 方法/ 求取/ 变量/ 约束/ ,/ 并/ 使用/ 货架/ 约束/ 求解/ 器/ 进行/ 约束/ 求解/ ,/ 可/ 自动/ 生成/ 测试用例/ ,/ 并/ 侦测/ 软件缺陷/ [/ 23/ ]/ ./ CUTE/ 工具/ 可/ 对/ 多线程/ 程序/ 进行/ 测试/ ,/ 并/ 使用/ 指针/ 操控/ 动态/ 数据结构/ ,/ 在/ 此基础/ 上/ 推出/ 了/ 针对/ Java/ 程序/ 的/ JCUTE/ 工具/ [/ 5/ ,/ 24/ ]/ ./ CREST/ 则/ 是/ 一款/ 针对/ C语言/ 程序/ 的/ 开源/ 测试工具/ ,/ 采用/ 启发式/ 方法/ 在/ 众多/ 候选/ 路径/ 中/ 选择/ 生成/ 测试/ 路径/ [/ 5/ ,/ 25/ ]/ ./ 在/ 以往/ 符号执行/ 方法/ 的/ 应用/ 中/ ,/ 主要/ 针对/ 程序/ 源代码/ 开展/ 测试/ ,/ 而/ 未/ 涉及/ 符号执行/ 在/ 构件/ 模型/ 中/ 的/ 应用/ ./ 本文/ 将/ 符号执行/ 方法/ 引入/ MBT/ 过程/ ,/ 提出/ 了/ 以上/ 基于/ ESIA/ 模型/ 与/ 符号执行/ 的/ 构件/ 测试用例/ 自动/ 生成/ 方法/ ./ 6/ 总结/ 软件测试/ 是/ 保证/ 嵌入式软件/ 开发/ 质量/ 的/ 有效/ 手段/ ./ 由于/ CBD/ 技术/ 越来越/ 广泛/ 地/ 应用/ 于/ 大规模/ 、/ 复杂/ 嵌入式软件/ 开发/ ,/ 通过/ 嵌入式软件/ 构件/ 测试/ 保证/ 构件/ 设计/ 与/ 实现/ 的/ 正确性/ 成为/ 重要/ 的/ 研究/ 内容/ ./ 本文/ 基于/ 嵌入式软件/ 构件/ 特点/ ,/ 提出/ 一种/ 基于/ ESIA/ 模型/ 与/ SE/ 技术/ 的/ ESIA/ -/ Symbolic/ 方法/ ,/ 自动/ 生成/ 满足/ 结构/ 覆盖/ 与/ 数据/ 覆盖/ 准则/ 的/ 测试用例/ 集/ ./ 基于/ 事件/ 的/ 反应式/ 嵌入式软件/ 在/ 嵌入式/ 系统/ 中/ 普遍存在/ ,/ 其/ 具有/ 以下/ 特点/ :/ (/ 1/ )/ 反应式/ 系统/ ./ 在/ 运行/ 过程/ 中/ 与/ 外部环境/ 进行/ 交互/ ,/ 对/ 各类/ 外部/ 事件/ 作出反应/ ,/ 通过/ 数据通信/ 进行/ 构件/ 间/ 交互/ 与/ 协同/ ./ (/ 2/ )/ 事件驱动/ ./ 构件/ 的/ 运行/ 由/ 外部/ 事件/ 序列/ 驱动/ ,/ 执行/ 路径/ 由/ 外部/ 事件/ 序列/ 与/ 参数/ 、/ 变量/ 取值/ 共同/ 确定/ ./ (/ 3/ )/ 基于/ 构件/ ./ 通过/ 接口/ 响应/ 外部/ 事件/ 、/ 提供/ 构件/ 服务/ ,/ 同时/ 屏蔽/ 构件/ 内部结构/ ,/ 并/ 支持/ 组装/ 和/ 重用/ ,/ 构件/ 通常/ 具有/ 行为/ 参数/ 、/ 内部/ 变量/ 的/ 取值/ 约束/ ./ (/ 4/ )/ 异常/ 处理/ ./ 异常/ 处理/ 机制/ 是/ 构件/ 可靠性/ 设计/ 与/ 验证/ 的/ 重要/ 内容/ ./ 针对/ 上述/ 特点/ ,/ 本文/ 提出/ 了/ ESIA/ 模型/ 对/ 该类/ 嵌入式/ 构件/ 进行/ 抽象/ 建模/ ./ ESIA/ 模型/ 是/ 一种/ 描述/ 接口/ 行为/ 的/ 状态机/ 模型/ ./ 通过/ 基于/ 接口/ 事件/ 的/ 状态/ 迁移/ 序列/ ,/ 描述/ 构件/ 的/ 反应式/ 运行/ 过程/ ./ 通过/ 各类/ 参数/ 变量/ 和/ 内部/ 变量/ ,/ 描述/ 构件/ 的/ 行为/ 参数/ 、/ 中间/ 计算/ 变量/ 与/ 通信/ 数据/ ./ 通过/ 具有/ 参数/ 的/ 接口/ 行为/ ,/ 描述/ 构件/ 具有/ 的/ 外部/ 行为/ 特性/ 与/ 构件/ 间/ 交互/ 过程/ ./ 通过/ 各类/ 约束条件/ ,/ 描述/ 构件/ 行为/ 的/ 执行/ 约束/ 与/ 构件/ 的/ 运行/ 规律/ ./ 通过/ 异常/ 状态/ 以及/ 相关联/ 的/ 异常/ 处理/ 行为/ ,/ 描述/ 构件/ 的/ 异常/ 处理/ 机制/ ./ 因此/ ,/ ESIA/ 模型/ 适用/ 于/ 反应式/ 嵌入式软件/ 构件/ 的/ 建模/ ./ 本文/ 提出/ 的/ ESIA/ -/ Symbolic/ 测试/ 生成/ 方法/ 以/ ESIA/ 模型/ 为/ 基础/ 模型/ ,/ 支持/ 正常/ 、/ 异常/ 测试用例/ 的/ 自动/ 生成/ ./ 通过/ 结构/ 覆盖/ 与/ 数据/ 覆盖/ 准则/ ,/ 从/ 模型/ 结/ Page19/ 构/ 元素/ 覆盖/ 、/ 数据类型/ 和/ 等价/ 类/ 覆盖/ 两个/ 方面/ 指导/ 测试/ 生成/ ./ 通过/ 基于/ 符号执行/ 的/ 测试/ 路径/ 生成/ 算法/ ,/ 生成/ 满足/ 模型/ 覆盖/ 准则/ 的/ 正常/ 、/ 异常/ 测试/ 路径/ 集合/ ,/ 并/ 在/ 测试/ 路径/ 搜索/ 过程/ 中/ ,/ 实时/ 分析/ 行为/ 参数/ 取值/ 约束/ 的/ 可/ 满足/ 性/ ,/ 检测/ 执行/ 路径/ 是否/ 可/ 判定/ ,/ 识别/ 异常/ 状态/ 与/ 异常/ 测试/ 路径/ ./ 在/ 每条/ 正常/ 测试/ 路径/ 之上/ ,/ 采用/ 约束/ 求解/ 技术/ 生成/ 正常/ 测试数据/ ,/ 并/ 使用/ 基于/ 约束条件/ 翻转/ 、/ 基于/ 插桩/ 、/ 基于/ 反例/ 等/ 方法/ 生成/ 异常/ 测试数据/ ./ 由于/ 反应式/ 嵌入式软件/ 构件/ 在/ 嵌入式/ 系统/ 中/ 普遍存在/ ,/ 且/ 本文/ 实验/ 结果/ 对/ 以上/ 构件/ 均/ 有/ 一定/ 的/ 效果/ ,/ 因而/ 可/ 考虑/ 进一步/ 推广/ 到/ 较/ 大规模/ 的/ 同类/ 嵌入式软件/ 系统/ 中/ ./ 实验/ 结果表明/ ,/ 以上/ 方法/ 针对/ 嵌入式软件/ 构件/ 生成/ 充分/ 的/ 正常/ 、/ 异常/ 测试用例/ 集/ ,/ 在/ 提高/ 测试/ 效率/ 的/ 同时/ 保证/ 测试/ 的/ 充分性/ ,/ 并/ 可/ 在/ 测试/ 路径/ 生成/ 过程/ 中/ 实时/ 判断/ 路径/ 是否/ 可/ 判定/ ,/ 是/ 进行/ 嵌入式软件/ 构件/ 测试/ 的/ 有效/ 方法/ ./ 致谢/ 在/ 此/ ,/ 我们/ 向/ 对/ 本文/ 的/ 工作/ 给予/ 支持/ 和/ 建议/ 的/ 同行/ ,/ 尤其/ 是/ 清华大学/ 计算机科学/ 与/ 技术/ 系陈/ 文光/ 教授/ 以及/ 实验室/ 内/ 各位/ 老师/ 和/ 同学/ 表示感谢/ !/ 

