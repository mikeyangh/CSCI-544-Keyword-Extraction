Page1TM/ :/ 一种/ 新/ 的/ 片/ 上/ 网络拓扑/ 结构/ 王新玉/ 1/ )/ ,/ 3/ )/ 向东/ 2/ )/ 虞志刚/ 3/ )/ 1/ )/ (/ 东北财经大学/ 管理科学/ 与/ 工程学院/ 辽宁大连/ 116025/ )/ 2/ )/ (/ 清华大学/ 软件/ 学院/ 北京/ 100084/ )/ 3/ )/ (/ 清华大学/ 计算机科学/ 与/ 技术/ 系/ 北京/ 100084/ )/ 摘要/ 片上/ 网络拓扑/ 结构/ 对/ 芯片/ 的/ 性能/ 有/ 直接/ 的/ 影响/ ./ 文中/ 提出/ 了/ 一种/ 新/ 的/ 拓扑/ 结构/ TM/ ,/ 它/ 结合/ 了/ torus/ 网络/ 和/ mesh/ 网络/ 的/ 优点/ ./ 对于/ n/ ×/ n/ 的/ 网络/ ,/ 在/ 物理/ 链路/ 数/ 方面/ ,/ TM/ 和/ mesh/ 网络/ 相同/ ,/ 比/ torus/ 网络/ 少/ 2n/ ;/ 在/ 拓扑/ 直径/ 方面/ ,/ TM/ 的/ 拓扑/ 直径/ 为/ n/ ,/ 而/ torus/ 和/ mesh/ 网络/ 的/ 拓扑/ 直径/ 分别/ 为/ 2/ ×/ (/ n/ // 2/ )/ 和/ 2/ ×/ (/ n/ -/ 1/ )/ ;/ 在/ 完全/ 适应性/ 路由/ 算法/ 设计/ 方面/ ,/ torus/ 网络/ 需要/ 的/ 虚拟/ 通道/ 数/ 至少/ 为/ 3/ ,/ 且/ 虚拟/ 网络/ 划分/ 机制/ 不能/ 直接/ 应用/ 其中/ ,/ 然而/ ,/ 虚拟/ 网络/ 划分/ 机制/ 适用/ 于/ mesh/ 和/ TM/ 网络/ ,/ 且/ 它们/ 只/ 需要/ 2/ 条/ 虚拟/ 通道/ ./ 文中/ 从/ 理论/ 和/ 模拟实验/ 两/ 方面/ 对/ TM/ 网络/ 进行/ 了/ 验证/ ,/ 实验/ 结果表明/ 无论/ 在/ 均衡/ 负载/ 还是/ 非均衡/ 负载/ 下/ ,/ TM/ 的/ 性能/ 都/ 要/ 优于/ mesh/ 网络/ ,/ 在/ 大部分/ 情况/ 下/ ,/ TM/ 的/ 性能/ 介于/ mesh/ 和/ torus/ 之间/ ,/ 在/ 某些/ 通信模型/ 下/ ,/ torus/ 的/ 性能比/ TM/ 差/ ,/ 主要/ 原因/ 在于/ 这些/ 通信模型/ 下/ torus/ 网络/ 中虚/ 通道/ 使用/ 不/ 均衡/ ./ 关键词/ 片上/ 网络/ ;/ 拓扑/ 结构/ ;/ mesh/ ;/ torus1/ 引言/ 随着/ 半导体/ 工艺技术/ 的/ 提高/ ,/ 在/ 一个/ 芯片/ 上/ 集成/ 的/ 晶体管/ 的/ 数目/ 越来越/ 多/ ,/ 单一/ 芯片/ 上/ 集成/ 的/ 核/ 的/ 数目/ 越来越/ 多/ ,/ 如何/ 连接/ 如此/ 之多/ 的/ 核/ 至关重要/ ,/ 片上/ 网络/ 互连/ 结构/ 比/ 总线结构/ 具有/ 更好/ 的/ 通信/ 性能/ ,/ 并且/ 具有/ 更/ 低/ 的/ 通信/ 功耗/ ,/ 从而/ 使得/ 网络/ 互连/ 结构/ 代替/ 了/ 总线结构/ ./ 片上/ 网络拓扑/ 结构/ 对片/ 上/ 多处理器/ 的/ 性能/ 和/ 功耗/ 的/ 影响/ 越来越/ 重要/ [/ 1/ ]/ ./ 在/ 许多/ 的/ 实例/ 中/ ,/ 尤其/ 是/ 细粒度/ 的/ 并行/ 计算机/ 中/ ,/ 通信/ 部件/ 对/ 性能/ 的/ 影响/ 远远/ 大于/ 计算/ 部件/ 对/ 性能/ 产生/ 的/ 影响/ ,/ 通信/ 部件/ 成为/ 并行/ 计算机系统/ 的/ 性能/ 瓶颈/ ./ 片上/ 网络/ 设计/ 包括/ 3/ 大/ 要素/ :/ 拓扑/ 结构/ 、/ 路由/ 算法/ 和/ 交换/ 机制/ ./ 典型/ 的/ 网络拓扑/ 结构/ 有/ 环型/ 、/ mesh/ 、/ torus/ 、/ 星型/ 、/ 树型/ 、/ 立方/ 环/ [/ 2/ ]/ 、/ deBruijin/ [/ 3/ ]/ 、/ 超/ 立方/ 、/ 分级/ 环/ [/ 4/ ]/ 等/ ./ 在/ 这些/ 结构/ 中/ ,/ mesh/ 是/ 最/ 流行/ 的/ 拓扑/ 结构/ ,/ 并/ 被/ 广泛应用/ 于/ 许多/ 的/ 商用/ 和/ 实验/ 机器/ 中/ ,/ 如/ J/ -/ machine/ [/ 5/ ]/ 、/ M/ -/ machine/ [/ 6/ ]/ 、/ ReliableRouter/ [/ 7/ ]/ 等/ ./ 低维/ 的/ 、/ 简单/ 的/ 二维/ mesh/ 拓扑/ 结构/ 具有/ 如此/ 的/ 吸引力/ 是因为/ 它/ 具有/ 如下/ 优点/ :/ 通道/ 长度/ 短/ 、/ 路由器/ 设计/ 简单/ 、/ 易于/ 片上/ 布线/ [/ 8/ ]/ ./ 然而/ ,/ 当/ 网络/ 规模/ 增大/ 时/ ,/ mesh/ 的/ 网络拓扑/ 直径/ 和/ 网络/ 平均/ 距离/ 大大增加/ ,/ 从而/ 直接/ 影响/ 网络/ 的/ 性能/ ./ 并行/ 计算机系统/ 的/ 关键部件/ 是/ 其/ 通信/ 结构/ ,/ 通信/ 速度/ (/ 而/ 非/ 处理速度/ )/ 是/ 目前/ 许多/ 算法/ 执行/ 的/ 瓶颈/ [/ 6/ ]/ ./ 为了/ 有效/ 地/ 执行/ 这些/ 程序/ ,/ 设计/ 一种/ 低/ 延迟/ 、/ 高/ 吞吐量/ 的/ 拓扑/ 结构/ 是/ 迫切/ 并且/ 有/ 意义/ 的/ ./ 吞吐量/ 和/ 延迟/ 是/ 评价/ 网络/ 性能/ 的/ 两个/ 重要/ 指标/ ./ 在/ 片/ 上/ 网络/ 设计/ 之初/ ,/ 要/ 考虑/ 尽可能/ 地/ 提高/ 网络/ 的/ 吞吐量/ ,/ 降低/ 网络/ 的/ 通信/ 延迟/ ./ 影响/ 这/ 两个/ 指标/ 的/ 参数/ 有/ :/ (/ 1/ )/ 网络/ 跳步/ 数/ ;/ (/ 2/ )/ 路由器/ 内部/ 延迟/ ./ 其中/ 前者/ 依赖于/ 具体/ 的/ 网络拓扑/ 结构/ 以及/ 路由/ 算法/ ,/ 尤其/ 当/ 路由/ 算法/ 为/ 最/ 短路/ 由时/ ,/ 只/ 依赖于/ 网络拓扑/ 结构/ ;/ 而/ 后者/ 依赖于/ 路由器/ 设计/ 的/ 复杂性/ ./ 本文/ 中/ 我们/ 主要/ 研究/ 网络拓扑/ 结构/ 对片/ 上/ 网络/ 的/ 性能/ 影响/ ./ 片上/ 网络/ 设计/ 受到/ 严格/ 的/ 面积/ 约束/ 和/ 路由器/ 引/ 脚数/ 约束/ [/ 9/ ]/ ./ 当前/ 的/ 片/ 上/ 网络拓扑/ 结构设计/ 和/ 路由/ 算法/ 设计/ 中/ ,/ 虫/ 孔/ 交换/ 已经/ 成为/ 一种/ 主流/ 的/ 交换/ 方式/ [/ 9/ -/ 10/ ]/ ./ 本文/ 中/ 我们/ 只/ 考虑/ 虫/ 孔/ 交换/ 和/ 基于/ 虫/ 孔/ 交换/ 的/ 路由/ 算法/ ./ 2Dmesh/ 结构/ 在/ 每/ 一行/ 和/ 每/ 一列/ 上/ 都/ 没有/ 环/ ,/ 这/ 使得/ mesh/ 结构/ 上/ 的/ 无/ 死锁/ 路由/ 算法/ 设计/ 变得/ 简单/ ./ mesh/ 网络/ 中/ ,/ 路由器/ 最大/ 端口数/ 为/ 5/ ,/ 网络/ 上/ 的/ 完全/ 适应性/ 无/ 死锁/ 路由/ 算法/ 只/ 需要/ 2/ 条/ 虚拟/ 通道/ ./ 另外/ ,/ 对于/ 一个/ n/ ×/ n/ 的/ mesh/ 结构/ ,/ 它/ 的/ 链路/ 数目/ 是/ 2/ ×/ n/ ×/ (/ n/ -/ 1/ )/ ,/ 网络/ 平均/ 跳步/ 数是/ 2n/ // 3/ ,/ 网络拓扑/ 直径/ 是/ 2/ ×/ (/ n/ -/ 1/ )/ ./ 2Dtorus/ 结构/ 是/ 一个/ 完全/ 对称/ 的/ 结构/ ,/ 它/ 的/ 每/ 一行/ (/ 列/ )/ 都/ 自成/ 一环/ ,/ 在/ torus/ 上/ 进行/ 无/ 死锁/ 路由/ 算法/ 设计/ 时/ ,/ 需要/ 的/ 虚拟/ 通道/ 的/ 个数/ 增加/ ./ 如/ torus/ 网络/ 实现/ 完全/ 适应性/ 最/ 短路/ 由/ (/ Duato/ 协议/ [/ 6/ ]/ )/ 至少/ 需要/ 3/ 条/ 虚拟/ 通道/ ,/ 而且/ 这/ 3/ 条/ 虚拟/ 通道/ 的/ 使用/ 不/ 均衡/ ;/ 而/ Ramanujam/ 等/ 人/ [/ 11/ ]/ 提出/ 的/ W2TURN/ 非/ 最/ 短/ 路径/ 路由/ 算法/ 至少/ 需要/ 4/ 条/ 虚拟/ 通道/ ./ 虚拟/ 通道/ 的/ 个数/ 直接/ 影响/ 片上/ 网络/ 路由器/ 的/ 缓冲区/ 需求/ 、/ 面积/ 开销/ 、/ 交换/ 开关/ 和/ 仲裁/ 机制/ 的/ 设计/ 复杂性/ ./ 本文/ 第/ 2/ 节/ 介绍/ 相关/ 工作/ 和/ TM/ 网络/ 的/ 思路/ 来源/ ;/ 第/ 3/ 节/ 给出/ TM/ 网络/ 的/ 定义/ 及其/ 拓扑/ 特性/ 的/ 分析/ ;/ 接下来/ 在/ 第/ 4/ 节/ 和/ 第/ 5/ 节中/ 分别/ 给出/ 死锁/ 避免/ 机制/ 和/ TM/ 网络/ 中/ 的/ 路由/ 算法/ ;/ 在/ 第/ 6/ 节/ 进行/ 实验/ 结果/ 分析/ ;/ 最后/ 对/ 本文/ 工作/ 进行/ 总结/ ./ 2/ 相关/ 工作/ 和/ TM/ 网络/ 的/ 思路/ 来源/ 为了/ 降低/ mesh/ 网络/ 的/ 平均/ 跳步/ 数/ 和/ 网络拓扑/ 直径/ ,/ 前人/ 也/ 做/ 过/ 大量/ 的/ 研究/ 工作/ ./ 一种/ 常见/ 的/ 方法/ 是/ 在/ mesh/ 网络/ 中/ 插入/ 一些/ 长线/ ,/ 使得/ 某些/ 原本/ 在/ mesh/ 网络/ 中/ 不/ 相邻/ 的/ 路由器/ 间/ 有/ 直接/ 的/ 链路/ 连接/ ,/ 从而/ 降低/ 网络/ 的/ 拓扑/ 直径/ 和/ 网络/ 的/ 平均/ 距离/ ./ 另/ 一种/ 方法/ 是/ 改变传统/ 的/ 路由器/ 和/ 处理单元/ (/ ProcessingElement/ ,/ PE/ )/ 之间/ 的/ 一对一/ 映射/ 关系/ ,/ 转换/ 为/ 一对/ 多/ 的/ 映射/ ,/ 减少/ 路由器/ 的/ 个数/ ,/ 降低/ 网络/ 规模/ ,/ 从而/ 降低/ 网络/ 的/ 拓扑/ 直径/ 和/ 平均/ 距离/ ./ 在/ 长线/ 插入/ 方面/ ,/ Fuks/ 和/ Lawniczak/ [/ 12/ ]/ 研究/ 了/ 在/ mesh/ 网中/ 增加/ 随机/ 长线/ 对/ 网络/ 性能/ 的/ 影响/ ,/ 这种/ 方法/ 虽然/ 能够/ 提高/ 网络/ 的/ 性能/ ,/ 但是/ 作者/ 在/ 分析/ 这种/ 方法/ 时/ 是/ 基于/ 均衡/ 通信模型/ 和/ 无限/ 缓冲区/ 的/ 假设/ ,/ 更加/ 值得/ 思考/ 的/ 是/ ,/ 作者/ 并未/ 给出/ 增加/ 随机/ 长线/ 后/ 网络/ 的/ 死锁/ 避免/ 问题/ ;/ Dally/ [/ 13/ ]/ 提出/ 了/ expresscube/ 的/ 概念/ ,/ 这种/ 方法/ 是/ 在/ mesh/ 网络/ 中/ 增加/ 同一/ 维度/ 上/ 的/ 有/ 规律/ 的/ 长线/ ,/ 如/ 长线/ 增加/ 为/ 固定/ 长度/ ,/ 或者/ 是/ 一个/ 固定/ 的/ 长度/ 范围/ ,/ 这种/ 方法/ 是/ 以/ 面积/ 开销/ 的/ 增加/ 来/ 换取/ 性能/ 的/ 提高/ [/ 14/ ]/ ;/ Ogras/ 和/ Marculescu/ [/ 15/ ]/ 从/ 贪心/ 算法/ 的/ 角度/ 给出/ 了/ 一种/ 新/ 的/ 长线/ 插入/ 的/ 方法/ 以/ 减少/ 消息/ 路由/ 跳步/ 数/ ,/ 以/ 提高/ 网络/ 的/ 性能/ ,/ 但是/ 这种/ 方法/ 的/ 路由/ 算法/ 设计/ 复杂/ ,/ 使得/ 路由/ 单元/ 的/ 实现/ 非常/ 困难/ ./ 朱晓静/ 等/ 人/ [/ 16/ ]/ 提出/ 了/ 一种/ Xmesh/ 结构/ ,/ 这种/ 结构/ 是/ 在/ mesh/ 结构/ 的/ 基础/ 上/ Page3/ 增加/ 主/ 对角线/ 和/ 副/ 对角线/ 上/ 的/ 2/ ×/ (/ n/ -/ 1/ )/ 条/ 链路/ 及/ 2/ 条/ 对角线/ 链路/ ,/ 这种/ 方法/ 增加/ 的/ 链路/ 数为/ 2n/ ,/ 但是/ 网络/ 中/ 的/ 某些/ 路由器/ 的/ 交换/ 开关/ (/ crossbar/ )/ 的/ 复杂性/ 大大增加/ ,/ 对于/ 一个/ n/ ×/ n/ 的/ Xmesh/ 网络/ ,/ 当/ n/ 为/ 奇数/ 时/ ,/ 交换/ 开关/ 的/ 端口数/ 最大/ 为/ 9/ ,/ 当/ n/ 为/ 偶数/ 时/ ,/ 交换/ 开关/ 的/ 端口数/ 最大/ 为/ 7/ ,/ 而/ mesh/ 网中/ 交换/ 开关/ 的/ 端口数/ 最大/ 为/ 5/ ,/ 另外/ ,/ 作者/ 在/ Xmesh/ 结构/ 上/ 给出/ 了/ 确定性/ 非/ 最/ 短路/ 由/ 算法/ ,/ 原因/ 在于/ Xmesh/ 上/ 的/ 最/ 短路/ 由/ 算法/ 容易/ 造成/ 两条/ 对角线/ 的/ 拥塞/ ,/ 适应性/ 算法/ 却/ 不能/ 体现/ 出/ Xmesh/ 结构/ 的/ 优势/ ./ 在/ 映射/ 关系/ 改变/ 方面/ ,/ Balfour/ 和/ Dally/ [/ 17/ ]/ 提出/ 了/ Cmesh/ (/ Concentratedmesh/ )/ 的/ 概念/ ,/ 该/ 结构/ 中/ 一个/ 路由器/ 节点/ 可以/ 连接/ 到/ 多个/ 处理单元/ ,/ 降低/ 网络/ 规模/ ,/ 从而/ 进一步/ 减少/ 处理单元/ 之间/ 的/ 通信/ 距离/ ,/ 提高/ 了/ 系统/ 的/ 性能/ ,/ 但是/ 这种/ 方法/ 增加/ 了/ 交换/ 开关/ 的/ 复杂性/ ,/ 对于/ 一个/ 4/ -/ 路/ 的/ Cmesh/ 来说/ ,/ 交换/ 开关/ 的/ 端口数/ 由/ 5/ 增加/ 到/ 9/ ,/ 这/ 将/ 大大提高/ 单个/ 路由器/ 上/ 的/ 功耗/ ,/ 产生/ 热点问题/ ;/ 赵/ 宏智/ [/ 18/ ]/ 提出/ 了/ 一种/ 混合/ 拓扑/ 结构/ ,/ 名为/ SSBM/ ,/ 该/ 结构/ 是/ 在/ 2Dmesh/ 结构/ 的/ 基础/ 上/ 引入/ 一个/ 中间/ 层次/ 的/ 2/ ×/ 2/ 的/ 星型/ 子网/ ,/ 而/ 每/ 一个/ 2/ ×/ 2/ 的/ 星型/ 子网/ 由/ 一个/ 交换机/ 实现/ ,/ 这种/ 方法/ 减少/ 了/ 通信/ 节点/ 之间/ 的/ 距离/ ,/ 却/ 需要/ 较/ 大规模/ 的/ 交换机/ 支持/ ./ 前人/ 工作/ 中/ 无论是/ 增加/ 长线/ ,/ 还是/ 改变/ 路由器/ 和/ 处理单元/ 之间/ 的/ 映射/ 关系/ ,/ 都/ 会/ 增加/ 路由器/ 的/ 端口数/ ,/ 从而/ 增加/ 交换/ 开关/ 的/ 复杂性/ ./ 交换/ 开关/ 端口数/ 增加/ ,/ 一方面/ 会/ 提高/ 路由/ 和/ 开关/ 分配/ 逻辑/ 的/ 复杂性/ ,/ 另一方面/ ,/ 由于/ 每个/ 端口/ 都/ 需要/ 分配/ 缓冲区/ ,/ 因此/ 也/ 会/ 增加/ 缓冲区/ 需求/ ./ 此外/ ,/ 增加/ 的/ 长线/ 会/ 产生/ 额外/ 的/ 图/ 18/ ×/ 8/ 的/ 网络拓扑/ 结构/ 为了/ 便于/ 分析/ 网络拓扑/ 直径/ ,/ 我们/ 将/ 2DTM/ 重新/ 布局/ ./ 下面/ 我们/ 从/ 映射/ 的/ 角度/ 给出/ 如何/ 从/ 一个/ 原始/ 的/ TM/ 网络/ 布局/ 得到/ 新/ 的/ TM/ 网络/ 布局/ ./ 对于/ 节点/ (/ x/ ,/ y/ )/ ,/ 如果/ x/ +/ y/ </ n/ ,/ 这个/ 节点/ 在/ 新/ 的/ TM/ 网/ 面积/ 开销/ ,/ 当/ 长线/ 过长/ 时/ 还/ 需要/ 插入/ 中继器/ ./ 本文/ 旨在/ 设计/ 一种/ 新/ 的/ 网络拓扑/ 结构/ ,/ 克服/ mesh/ 网络/ 在/ 拓扑/ 直径/ 和/ 平均/ 跳步/ 数/ 方面/ 的/ 缺点/ ,/ 同时/ 能够/ 克服/ torus/ 网络/ 中/ 虚拟/ 通道/ 数目/ 过多/ 、/ 虚/ 通道/ 不/ 均衡/ 使用/ 的/ 缺点/ ;/ 新/ 的/ 网络拓扑/ 结构/ 是/ 在/ mesh/ 网络/ 路由器/ 设计/ 复杂性/ 的/ 基础/ 上/ 提高/ 网络/ 的/ 性能/ ./ 由于/ 这种/ 新/ 的/ 网络拓扑/ 结构/ 兼具/ torus/ 网络/ 和/ mesh/ 网络/ 的/ 一些/ 优点/ ,/ 我们/ 取/ torus/ 和/ mesh/ 的/ 第一个/ 字母/ TM/ 为/ 这种/ 新/ 的/ 网络/ 命名/ ./ 3TM/ 网络结构/ 网络拓扑/ 结构/ 可以/ 用图/ G/ (/ V/ ,/ E/ )/ 来/ 表示/ ,/ 其中/ V/ 是/ 节点/ 的/ 集合/ ,/ E/ 是/ 边/ 的/ 集合/ [/ 6/ ]/ ./ 对于/ / v/ ∈/ V/ ,/ 它/ 表示/ 网络/ 中/ 的/ 一个/ 路由器/ ,/ 对于/ / e/ ∈/ E/ ,/ 它/ 表示/ 相应/ 的/ 两个/ 路由器/ 之间/ 的/ 有/ 一条/ 直接/ 的/ 链路/ 相连/ ./ 3.1/ TM/ 网络/ 的/ 定义/ 对于/ 一个/ n/ ×/ n/ 的/ TM/ 网络/ ,/ 它/ 的/ 图/ G/ (/ VTM/ ,/ ETM/ )/ 可以/ 表示/ 如下/ :/ VTM/ =/ Vmesh/ ,/ ETM/ =/ Etorus/ -/ E/ ,/ E/ =/ {/ (/ u/ ,/ v/ )/ ,/ (/ v/ ,/ u/ )/ |/ (/ u/ ,/ v/ )/ ∈/ Etorus/ ,/ u/ =/ (/ x1/ ,/ y1/ )/ ,/ v/ =/ (/ x2/ ,/ y2/ )/ ,/ 且/ (/ (/ x1/ +/ y1/ =/ =/ nx1/ =/ =/ x2/ )/ ‖/ (/ x1/ +/ y1/ =/ =/ n/ -/ 1y1/ =/ =/ y2/ )/ )/ }/ ./ 简单/ 地说/ ,/ 2DTM/ 是/ 2Dtorus/ 的/ 子网/ ,/ TM/ 网络/ 中/ 的/ 节点/ 和/ torus/ (/ mesh/ )/ 网络/ 的/ 节点/ 相同/ ,/ 但是/ TM/ 网络/ 中/ 每/ 一行/ (/ 列/ )/ 比/ torus/ 相应/ 行/ (/ 列/ )/ 少/ 一条/ 链路/ ,/ 缺少/ 的/ 链路/ 满足/ 定义/ 中/ 给出/ 的/ 条件/ ./ 图/ 1/ (/ a/ )/ ~/ (/ c/ )/ 中/ 给出/ 了/ 8/ ×/ 8/ 的/ mesh/ ,/ torus/ 和/ TM/ 网络拓扑/ 结构/ ./ 参照/ foldedtorus/ 网络/ 的/ 定义/ [/ 19/ ]/ 给出/ foldedTM/ 网络/ ,/ 如图/ 1/ (/ d/ )/ 所示/ ./ 络/ 布局/ 中/ 映射/ 到/ 点/ (/ x/ ,/ y/ )/ ;/ 否则/ ,/ 这个/ 节点/ 在/ 新/ 的/ 网络/ 布局/ 中/ 映射/ 到/ 点/ (/ x/ ,/ y/ -/ n/ )/ ./ 我们/ 称/ 原始/ 布局/ 的/ TM/ 网络/ 布局/ 为/ 初始/ TM/ 布局/ ,/ 重新/ 布局/ 的/ TM/ 网络/ 为/ 新/ 的/ TM/ 布局/ ./ 每个/ 节点/ 有/ 两个/ 坐标/ ,/ 一个/ 来/ Page4/ 自于/ 初始/ TM/ 布局/ ,/ 称为/ 初始/ 坐标/ ,/ 另/ 一个/ 来自/ 于/ 新/ 的/ TM/ 布局/ ,/ 称为/ 改进/ 坐标/ ./ 图/ 2/ (/ a/ )/ 给出/ 一个/ 8/ ×/ 8/ 的/ 新/ 的/ TM/ 布局/ ,/ 图中/ 的/ 点/ A/ ,/ 它/ 的/ 初始/ 坐标/ 和/ 改进/ 坐标/ 相同/ ,/ 图中/ 的/ 点/ B/ ,/ 它/ 的/ 初始/ 坐标/ 和/ 改进/ 坐标/ 不同/ ,/ 分别/ 为/ (/ 4/ ,/ 6/ )/ 和/ (/ 4/ ,/ -/ 2/ )/ ./ 改进/ 距离/ ./ 对于/ TM/ 网络/ 中/ 的/ 点/ c/ (/ xc/ ,/ yc/ )/ 和/ d/ (/ xd/ ,/ yd/ )/ ,/ 我们/ 可以/ 计算/ 出/ 这/ 两个/ 点/ 的/ 改进/ 坐标/ ,/ 记/ 为/ (/ x1/ ,/ y1/ )/ 和/ (/ x2/ ,/ y2/ )/ ,/ c/ 和/ d/ 之间/ 的/ 改进/ 距离/ 记为/ RD/ ,/ RD/ =/ |/ x1/ -/ x2/ |/ +/ |/ y1/ -/ y2/ |/ ./ 实际/ 距离/ ./ 对于/ TM/ 网络/ 中/ 的/ 点/ c/ (/ xc/ ,/ yc/ )/ 和/ d/ (/ xd/ ,/ yd/ )/ ,/ l/ 是/ c/ 和/ d/ 之间/ 的/ 一条/ 最短/ 路径/ ,/ c/ 和/ d/ 之间/ 的/ 实际/ 距离/ 等于/ 路径/ l/ 的/ 长度/ ,/ 记为/ AD/ ./ 上/ 三角/ 子/ 网络/ (/ UpTriangle/ )/ ./ 该/ 子网/ 是/ TM/ 网络/ 的/ 一部分/ ,/ 点/ A/ (/ x/ ,/ y/ )/ 属于/ TM/ 网络/ ,/ A/ 的/ 改进/ 坐标/ 为/ (/ x1/ ,/ y1/ )/ ,/ 点/ A/ 属于/ 上/ 三角/ 子网/ 当且/ 仅/ 当/ x1/ / 0/ ;/ 所有/ 属于/ 上/ 三角/ 子网/ 的/ 点/ 和/ 这些/ 点/ 之间/ 在/ TM/ 网络/ 中/ 的/ 连线/ 构成/ 了/ 上/ 三角/ 子/ 网络/ ./ 下/ 三角/ 子/ 网络/ (/ DownTriangle/ )/ ./ 同样/ 的/ ,/ 该/ 子网/ 是/ TM/ 网络/ 的/ 一部分/ ,/ 点/ A/ (/ x/ ,/ y/ )/ 属于/ TM/ 网络/ ,/ A/ 的/ 改进/ 坐标/ 为/ (/ x1/ ,/ y1/ )/ ,/ 点/ A/ 属于/ 下/ 三角/ 子网/ 当且/ 仅/ 当/ x1/ / 0/ ;/ 所有/ 属于/ 下/ 三角/ 子网/ 的/ 点/ 和/ 这些/ 点/ 之间/ 在/ TM/ 网络/ 中/ 的/ 连线/ 构成/ 了/ 下/ 三角/ 子/ 网络/ ./ 图/ 2/ (/ b/ )/ 和/ (/ c/ )/ 给出/ 了/ 8/ ×/ 8/ 的/ TM/ 网络/ 的/ 上/ 三角/ 子网/ 和/ 下/ 三角/ 子网/ ./ 从图/ 和/ 定义/ 中/ 我们/ 可以/ 看出/ ,/ Y/ 维/ 坐标/ 为/ 0/ 的/ 点/ 既/ 属于/ 上/ 三角/ 子/ 网络/ 又/ 属于/ 下/ 三角/ 子/ 网络/ ,/ X/ 维/ 的/ 回转/ 链路/ 既/ 不/ 属于/ 上/ 三角/ 子/ 网络/ 又/ 不/ 属于/ 下/ 三角/ 子/ 网络/ ./ 所以/ ,/ 对于/ Y/ 维/ 坐标/ 为/ 0/ 的/ 点/ ,/ 根据/ 具体/ 的/ 情况/ 选择/ 上/ 三角/ 还是/ 下/ 三角/ ./ 这样/ ,/ 我们/ 可以/ 给出/ 如下/ 结论/ :/ 在/ 重新/ 布局/ 的/ TM/ 中/ ,/ 点/ A/ (/ x1/ ,/ y1/ )/ 和/ B/ (/ x2/ ,/ y2/ )/ ,/ 如果/ y1/ ×/ y2/ / 0/ ,/ 则/ A/ 和/ B/ 属于/ 同一个/ 三角/ 子/ 网络/ ,/ 否则/ A/ 和/ B/ 属于/ 不同/ 的/ 三角/ 子/ 网络/ ./ 3.2/ TM/ 网络结构/ 分析/ 对于/ 一个/ n/ ×/ n/ 的/ TM/ 网络/ ,/ (/ 1/ )/ 网络/ 中/ 节点/ 的/ 度/ 为/ 2/ 或/ 4/ ,/ 度为/ 2/ 的/ 节点/ 有/ 2n/ ;/ (/ 2/ )/ 网络/ 中/ 总/ 的/ 链路/ 数目/ 为/ 2n/ ×/ (/ n/ -/ 1/ )/ ,/ 与/ mesh/ 网络/ 中/ 的/ 链路/ 数目/ 相同/ ,/ 比/ torus/ 网络/ 的/ 链路/ 数目/ 少/ 2n/ ;/ (/ 3/ )/ TM/ 网络拓扑/ 直径/ 为/ n/ ,/ 当/ n/ 为/ 偶数/ 时/ ,/ TM/ 网络拓扑/ 直径/ 与/ torus/ 网络拓扑/ 直径/ 相同/ ,/ 当/ n/ 为/ 奇数/ 时/ ,/ TM/ 网络拓扑/ 直径/ 比/ torus/ 网络/ 的/ 拓扑/ 直径/ 大/ 1/ ,/ 而/ mesh/ 网络拓扑/ 直径/ 为/ 2/ (/ n/ -/ 1/ )/ ;/ (/ 4/ )/ TM/ 网络/ 的/ 平均/ 距离/ 介于/ mesh/ 网络/ 的/ 平均/ 距离/ 和/ torus/ 网络/ 的/ 平均/ 距离/ 的/ 中间/ 位置/ ./ 无/ 负载/ 条件/ 下/ 的/ 平均/ 延迟/ 等于/ 报文/ 长度/ 和/ 网络/ 平均/ 距离/ 之/ 和/ ,/ 网络/ 平均/ 距离/ 是/ 影响/ 平均/ 延迟/ 的/ 重要/ 因素/ ./ 图/ 3/ 给出/ 了/ mesh/ 、/ TM/ 和/ torus/ 网络/ 在/ 不同/ 网络/ 规模/ 下/ 的/ 平均/ 跳步/ 数/ ,/ TM/ 的/ 平均/ 跳步/ 数/ 介于/ mesh/ 和/ torus/ 网络/ 的/ 中间/ 位置/ ./ 下面/ 证明/ n/ ×/ nTM/ 的/ 网络/ 直径/ 是/ n/ ./ 在/ 证明/ 之前/ ,/ 我们/ 先/ 给出/ 两个/ 引理/ ./ 引理/ 1/ ./ 假设/ 节点/ s/ (/ xs/ ,/ ys/ )/ 和/ 节点/ d/ (/ xd/ ,/ yd/ )/ 是/ TM/ 网络/ 中/ 的/ 两个/ 节点/ ,/ (/ x1/ ,/ y1/ )/ 和/ (/ x2/ ,/ y2/ )/ 是/ s/ 和/ d/ 的/ 改进/ 坐标/ ,/ 若/ 它们/ 属于/ 同一个/ 三角/ 网络/ ,/ 当/ 下述/ 条件/ 之一/ 满足/ 时/ ,/ s/ 和/ d/ 之间/ 的/ 实际/ 距离/ 一定/ 小于/ n/ ./ (/ 1/ )/ x1/ / x2/ 并且/ y1/ / y2/ ./ (/ 2/ )/ x1/ / x2/ 并且/ y1/ / y2/ ./ 证明/ ./ 我们/ 只/ 在/ 上/ 三角/ 网络/ 中/ 对/ 该/ 引理/ 进行/ 证明/ ,/ 对于/ 下/ 三角/ 网络/ 中/ 的/ 证明/ ,/ 可以/ 同理/ 推出/ ./ 很/ 明显/ ,/ 在/ 上/ 三角/ 网络/ 中/ ,/ 所有/ 的/ 节点/ 都/ 在/ 直线/ x/ +/ y/ =/ 0/ 和/ x/ +/ y/ =/ n/ -/ 1/ 之间/ ./ 当/ x1/ / x2/ 并且/ y1/ / y2/ 时/ ,/ AD/ (/ s/ ,/ d/ )/ / RD/ (/ s/ ,/ d/ )/ =/ (/ x2/ -/ x1/ )/ +/ (/ y2/ -/ y1/ )/ Page5/ 同样/ 地/ ,/ 当/ x1/ / x2/ 并且/ y1/ / y2/ 时/ ,/ AD/ (/ s/ ,/ d/ )/ / RD/ (/ s/ ,/ d/ )/ =/ (/ x1/ -/ x2/ )/ +/ (/ y1/ -/ y2/ )/ 引理/ 2/ ./ 假设/ 节点/ s/ (/ xs/ ,/ ys/ )/ 和/ 节点/ d/ (/ xd/ ,/ yd/ )/ 是/ TM/ 网络/ 中/ 的/ 两个/ 节点/ ,/ (/ x1/ ,/ y1/ )/ 和/ (/ x2/ ,/ y2/ )/ 是/ s/ 和/ d/ 的/ 改进/ 坐标/ ,/ 若/ 它们/ 属于/ 不同/ 的/ 三角/ 网络/ ,/ 当/ 下述/ 条件/ 之一/ 满足/ 时/ ,/ s/ 和/ d/ 之间/ 的/ 实际/ 距离/ 一定/ 小于/ n/ ./ (/ 1/ )/ x1/ / x2/ 并且/ y1/ / y2/ ./ (/ 2/ )/ x1/ / x2/ 并且/ y1/ / y2/ ./ 证明/ ./ 我们/ 只/ 给出/ 条件/ (/ 1/ )/ 满足/ 时/ 结论/ 成立/ ,/ 对于/ 条件/ (/ 2/ )/ 的/ 情况/ ,/ 可以/ 同理/ 推出/ ./ s/ 属于/ 上/ 三角/ 网络/ ,/ 而/ d/ 属于/ 下/ 三角/ 网络/ ./ 如图/ 4/ 所示/ ,/ 需要/ 两条/ 辅助线/ ,/ 一条/ 是/ 经过/ s/ 的/ 竖/ 直线/ ,/ 另/ 一条/ 是/ 经过/ d/ 的/ 水平线/ ,/ 则/ AD/ (/ s/ ,/ d/ )/ / RD/ (/ s/ ,/ d/ )/ =/ l1/ +/ l2/ / l1/ +/ l3/ 定理/ 1/ ./ TM/ 网络/ 的/ 拓扑/ 直径/ 为/ n/ ./ 证明/ ./ 该/ 定理/ 可以/ 转化/ 为/ :/ 对于/ TM/ 网络/ 中/ 的/ 任何/ 两个/ 节点/ ,/ 都/ 可以/ 找到/ 一条/ 长度/ 不/ 大于/ n/ 的/ 路径/ ./ 假设/ 节点/ s/ (/ xs/ ,/ ys/ )/ 和/ 节点/ d/ (/ xd/ ,/ yd/ )/ 是/ TM/ 网络/ 中/ 的/ 任何/ 两个/ 节点/ ,/ (/ x1/ ,/ y1/ )/ 和/ (/ x2/ ,/ y2/ )/ 是/ s/ 和/ d/ 的/ 改进/ 坐标/ ,/ 不失/ 一般性/ ,/ 我们/ 可以/ 假设/ x1/ / x2/ ./ 则/ RD/ (/ s/ ,/ d/ )/ =/ |/ x2/ -/ x1/ |/ +/ |/ y2/ -/ y1/ |/ ./ 若/ RD/ (/ s/ ,/ d/ )/ / n/ ,/ 则/ 我们/ 可以/ 找到/ 一条/ 长度/ 为/ RD/ (/ s/ ,/ d/ )/ 的/ 从/ s/ 到/ d/ 的/ 路径/ ,/ 该/ 路径/ 不/ 包括/ X/ 方向/ 的/ 回转/ 链路/ ;/ 若/ RD/ (/ s/ ,/ d/ )/ >/ n/ ,/ 总共/ 有/ 如下/ 3/ 种/ 情况/ ./ (/ 1/ )/ s/ 和/ d/ 同属/ 上/ 三角/ 网络/ ,/ 根据/ x1/ / x2/ 和/ 定理/ 1/ ,/ 可知/ y1/ >/ y2/ ,/ 可以/ 找到/ 如下/ 从/ s/ 到/ d/ 的/ 路径/ :/ (/ x1/ ,/ y1/ )/ →/ …/ →/ (/ 0/ ,/ y1/ )/ →/ (/ n/ -/ 1/ ,/ y1/ -/ n/ )/ →/ …/ →/ (/ x2/ ,/ y2/ )/ ./ 设/ 这条/ 路径/ 的/ 长度/ 为/ L/ ,/ 则/ L/ =/ RD/ (/ s/ ,/ (/ 0/ ,/ y1/ )/ )/ +/ 1/ +/ RD/ (/ (/ n/ -/ 1/ ,/ y1/ -/ n/ )/ ,/ d/ )/ =/ x1/ +/ 1/ +/ (/ n/ -/ 1/ -/ x2/ )/ +/ (/ y2/ -/ y1/ +/ n/ )/ =/ 2n/ -/ RD/ </ n/ ./ (/ 2/ )/ s/ 和/ d/ 同/ 属于/ 下/ 三角/ 网络/ ,/ 证明/ 同上/ ./ (/ 3/ )/ s/ 和/ d/ 属于/ 不同/ 的/ 三角/ 网络/ ,/ 根据/ x1/ / x2/ 和/ 引理/ 2/ ,/ 得到/ y1/ >/ y2/ ,/ 可以/ 找到/ 如下/ 从/ s/ 到/ d/ 的/ 路径/ :/ (/ x1/ ,/ y1/ )/ →/ …/ →/ (/ 0/ ,/ y1/ )/ →/ (/ n/ -/ 1/ ,/ y1/ -/ n/ )/ →/ …/ →/ (/ x2/ ,/ y2/ )/ ./ L/ =/ RD/ (/ s/ ,/ (/ 0/ ,/ y1/ )/ )/ +/ 1/ +/ RD/ (/ (/ n/ -/ 1/ ,/ y1/ -/ n/ )/ ,/ d/ )/ 设/ 这条/ 路径/ 的/ 长度/ 为/ L/ :/ 当/ y2/ -/ y1/ +/ n/ / 0/ 时/ ,/ =/ x1/ +/ 1/ +/ (/ n/ -/ 1/ -/ x2/ )/ +/ |/ y2/ -/ y1/ +/ n/ |/ =/ x1/ +/ 1/ +/ (/ n/ -/ 1/ -/ x2/ )/ +/ (/ y2/ -/ y1/ +/ n/ )/ =/ 2n/ -/ RD/ </ n/ ;/ 当/ y2/ -/ y1/ +/ n/ </ 0/ 时/ ,/ L/ =/ (/ x1/ +/ y1/ )/ -/ (/ x2/ +/ y2/ )/ / n/ -/ 1/ -/ 0/ </ n/ ./ 基于/ 上述/ 分析/ ,/ 在/ n/ ×/ n/ 的/ TM/ 网络/ 中/ ,/ 网络/ 的/ 拓扑/ 直径/ 为/ n/ ./ 4/ 死锁/ 避免/ 机制/ 在/ 片/ 上/ 网络拓扑/ 结构设计/ 中/ ,/ 死锁/ 避免/ 是/ 一个/ 非常/ 重要/ 的/ 问题/ ./ 对于/ 一个/ 新/ 的/ 网络拓扑/ 结构/ ,/ 我们/ 需要/ 为/ 其/ 设计/ 出/ 无/ 死锁/ 路由/ 算法/ ./ 4.1/ 虚拟/ 网络/ 划分/ 虚拟/ 网络/ 的/ 概念/ 最早/ 在/ 文献/ [/ 20/ ]/ 中/ 提出/ ,/ 许多/ 路由/ 算法/ 设计/ 人员/ 利用/ 该/ 思想/ 解决/ 网络/ 中/ 的/ 容错/ 问题/ [/ 24/ ]/ 和/ 死锁/ 避免/ 问题/ ./ 可以/ 将/ 一个/ n/ ×/ n/ 的/ TM/ 网络/ 划分/ 成/ 4/ 个/ 虚拟/ 网络/ ,/ 从/ 最/ 右端/ 到/ 最/ 左/ 端的/ 回转/ 链路/ 属于/ x/ +/ ,/ 从/ 最/ 上端/ 到/ 最下/ 端的/ 回转/ 链路/ 属于/ y/ +/ ,/ 反之/ 同理/ ./ 4/ 个/ 虚拟/ 网络/ 为/ :/ (/ 1/ )/ x/ +/ y/ +/ (/ cx/ ,/ 1/ +/ ,/ cy/ ,/ 1/ +/ )/ ;/ (/ 2/ )/ x/ +/ y/ -/ (/ cx/ ,/ 2/ +/ ,/ cy/ ,/ 2/ -/ )/ ;/ (/ 3/ )/ x/ -/ y/ +/ (/ cx/ ,/ 2/ -/ ,/ cy/ ,/ 2/ +/ )/ ;/ (/ 4/ )/ x/ -/ y/ -/ (/ cx/ ,/ 1/ -/ ,/ cy/ ,/ 1/ -/ )/ ./ 图/ 5/ 给出/ 了/ 8/ ×/ 8TM/ 网络/ 的/ 4/ 个/ 虚拟/ 网络/ ,/ 其中/ 虚拟/ 网络/ (/ 1/ )/ 和/ (/ 4/ )/ 分配/ 虚拟/ 通道/ c1/ (/ cx/ ,/ 1/ 和/ cy/ ,/ 1/ )/ ,/ (/ 2/ )/ 和/ (/ 3/ )/ 分配/ 虚拟/ 通道/ c2/ (/ cx/ ,/ 2/ 和/ cy/ ,/ 2/ )/ ./ 从图/ 中/ 可以/ 看出/ ,/ 虚拟/ 网络/ (/ 1/ )/ 和/ (/ 4/ )/ 中不含/ 环/ ,/ 而/ (/ 2/ )/ 和/ (/ 3/ )/ 中/ 含有/ 环/ ./ 为了/ 避免/ 虚拟/ 网络/ (/ 2/ )/ 和/ (/ 3/ )/ 中/ 的/ 环形/ 通道/ 依赖/ ,/ 借鉴/ 通道/ 重叠/ 思想/ [/ 22/ -/ 24/ ]/ ./ 对于/ 虚拟/ 网络/ (/ 1/ )/ 和/ (/ 4/ )/ ,/ 消息/ 在/ 这/ 两个/ 子网/ 中路/ 由时/ 只/ 使用/ 虚拟/ 通道/ c1/ ,/ 对于/ (/ 2/ )/ 和/ (/ 3/ )/ ,/ 消息/ 在/ 这/ 两个/ 子网/ 中路/ 由时/ 分为/ 两种/ 情况/ :/ (/ a/ )/ 消息/ 不/ 需要/ 通过/ X/ 方向/ 的/ 回转/ 链路/ ,/ 则/ 只/ 使用/ 虚拟/ 通道/ c2/ ;/ (/ b/ )/ 消息/ 需要/ 通过/ X/ 方向/ 的/ 回转/ 链路/ ,/ 则/ 消息/ 在/ 通过/ X/ 方向/ 的/ 回转/ 链路/ 和/ 在此之前/ 使用/ c2/ 通道/ ,/ 之后/ 使用/ c1/ 通道/ ./ Page6/ 图/ 5TM/ 网络/ 中/ 的/ 4/ 个/ 虚拟/ 网络/ 简单/ 地说/ ,/ 虚拟/ 网络/ (/ 1/ )/ 和/ (/ 4/ )/ 只能/ 使用/ 虚拟/ 通道/ c1/ ;/ 在/ 虚拟/ 网络/ (/ 2/ )/ 和/ (/ 3/ )/ 路由/ 的/ 消息/ ,/ 消息/ 在/ 经过/ X/ 方向/ 的/ 回转/ 链路/ 和/ 在此之前/ 使用/ 虚拟/ 通道/ c2/ ,/ 在/ 经过/ X/ 方向/ 的/ 回转/ 链路/ 之后/ 使用/ 虚拟/ 通道/ c1/ ./ 因此/ ,/ 通道/ 依赖/ 关系/ 有/ 3/ 种/ :/ (/ 1/ )/ c1/ 到/ c1/ ;/ (/ 2/ )/ c2/ 到/ c2/ ;/ (/ 3/ )/ c2/ 到/ c1/ ./ 这个/ 结论/ 对于/ 无/ 死锁/ 证明/ 是/ 十分/ 重要/ 的/ ./ 4.2/ 虚拟/ 网络/ 选择/ 在/ TM/ 网络/ 中/ ,/ 消息/ 根据/ 其源/ 节点/ 和/ 目的/ 节点/ 可以/ 划分/ 成/ 4/ 类/ :/ (/ 1/ )/ x/ +/ y/ +/ ;/ (/ 2/ )/ x/ +/ y/ -/ ;/ (/ 3/ )/ x/ -/ y/ +/ ;/ (/ 4/ )/ x/ -/ y/ -/ ./ 在/ mesh/ 网络/ 中/ ,/ 类型/ 为/ (/ i/ )/ 的/ 消息/ 落入/ 虚拟/ 网络/ (/ i/ )/ 进行/ 路由/ ./ 在/ TM/ 网络/ 中/ ,/ 虚拟/ 网络/ 选择/ 不仅/ 与/ 消息/ 的/ 类型/ 有关/ ,/ 还/ 与/ 消息/ 的/ 源/ 节点/ 和/ 目的/ 节点/ 坐标/ 有关/ ./ 源/ 节点/ 和/ 目的/ 节点/ 的/ 改进/ 距离/ 不/ 大于/ 网络拓扑/ 直径/ 时/ ,/ 选择/ 的/ 虚拟/ 网络/ 的/ 类型/ 和/ 消息/ 类型/ 一致/ ;/ 源/ 节点/ 和/ 目的/ 节点/ 的/ 改进/ 距离/ 大于/ 网络拓扑/ 直径/ 时/ ,/ 还要/ 考虑/ 源/ 节点/ 和/ 目的/ 节点/ 的/ 坐标/ ./ 第/ 1/ 类/ ./ 源/ 、/ 目的/ 节点/ 属于/ 同一个/ 三角/ 网络/ ./ 源/ 节点/ 的/ x/ 坐标/ 小于/ 目的/ 节点/ 的/ x/ 坐标/ 时/ ,/ 选择/ 虚拟/ 网络/ x/ -/ y/ +/ ,/ 否则/ 选择/ 虚拟/ 网络/ x/ +/ y/ -/ ./ 第/ 2/ 类/ ./ 源/ 节点/ 属于/ 上/ 三角/ 网络/ ,/ 目的/ 节点/ 属于/ 下/ 三角/ 网络/ ./ 源/ 节点/ 的/ y/ 坐标/ 小于/ 目的/ 节点/ 的/ y/ 坐标/ 时/ ,/ 选择/ 虚拟/ 网络/ x/ -/ y/ +/ ;/ 否则/ 选择/ 虚拟/ 网络/ x/ -/ y/ -/ ./ 第/ 3/ 类/ ./ 源/ 节点/ 属于/ 下/ 三角/ 网络/ ,/ 目的/ 节点/ 属于/ 上/ 三角/ 网络/ ./ 源/ 节点/ 的/ y/ 坐标/ 小于/ 目的/ 节点/ 的/ y/ 坐标/ 时/ ,/ 选择/ 虚拟/ 网络/ x/ +/ y/ +/ ;/ 否则/ 选择/ 虚拟/ 网络/ x/ +/ y/ -/ ./ 4.3/ 无/ 死锁/ 证明/ 死锁/ 问题/ 是/ 片/ 上/ 网络/ 设计/ 中/ 一个/ 非常/ 棘手/ 但是/ 又/ 必须/ 解决/ 的/ 问题/ ./ 片上/ 网络/ 通常/ 采用/ 死锁/ 避免/ 方法/ ,/ 保证/ 网络/ 不会/ 产生/ 死锁/ 状态/ ./ 这/ 一部分/ ,/ 我们/ 将/ 证明/ TM/ 网络/ 的/ 虚拟/ 网络/ 划分/ 机制/ 和/ 虚拟/ 通道/ 使用/ 方法/ 在/ 进行/ 最/ 短路/ 由时/ 将/ 不会/ 引起/ 死锁/ ./ 引理/ 3/ ./ TM/ 的/ 虚拟/ 网络/ (/ 1/ )/ 和/ (/ 4/ )/ 中/ 无/ 死锁/ 存在/ ./ 证明/ ./ 图/ 5/ 子图/ (/ a/ )/ 和/ (/ d/ )/ 给出/ 了/ 虚拟/ 网络/ x/ +/ y/ +/ 和/ x/ -/ y/ -/ ,/ 我们/ 可以/ 证明/ 这/ 两个/ 虚拟/ 网络/ 中/ 没有/ 环型/ 通道/ 依赖/ 存在/ ./ 以/ 虚拟/ 网络/ (/ 1/ )/ 为例/ ,/ 在/ 该/ 虚拟/ 网络/ 中画/ 一条/ 辅助线/ x/ +/ y/ =/ n/ ./ 辅助线/ 的/ 左边/ 无环/ 存在/ ,/ 右边/ 也/ 无环/ 存在/ ./ 若/ 形成/ 环/ ,/ 环/ 中/ 必定/ Page7/ 有/ 两条/ 链路/ 横跨/ 辅助线/ ,/ 一条/ 从/ 左向右/ ,/ 另/ 一条/ 从右/ 向/ 左/ ./ 然而/ ,/ 该/ 虚拟/ 网络/ 中/ 没有/ 一条/ 链路/ 从/ 左向右/ 穿越/ 辅助线/ ./ 综上/ ,/ 虚拟/ 网络/ 中/ (/ 1/ )/ 无/ 环型/ 通道/ 依赖/ 存在/ ,/ 即/ 虚拟/ 网络/ (/ 1/ )/ 中/ 无/ 死锁/ 存在/ ./ 同理可证/ 虚拟/ 网络/ (/ 4/ )/ 中/ 无/ 死锁/ 存在/ ./ 引理/ 4/ ./ TM/ 虚拟/ 网络/ (/ 2/ )/ 和/ (/ 3/ )/ 中/ 无/ 死锁/ 存在/ ./ 证明/ ./ 图/ 5/ 子图/ (/ b/ )/ 和/ (/ c/ )/ 给出/ 了/ 虚拟/ 网络/ x/ +/ y/ -/ 和/ x/ -/ y/ +/ ,/ 我们/ 可以/ 证明/ 这/ 两个/ 虚拟/ 网络/ 中/ 没有/ 环型/ 通道/ 依赖/ 存在/ ./ 以/ 虚拟/ 网络/ (/ 2/ )/ 为例/ ,/ 在/ 该/ 虚拟/ 网络/ 中画/ 一条/ 辅助线/ x/ +/ y/ =/ n/ ./ 很/ 明显/ ,/ 辅助线/ 的/ 左边/ 无环/ 存在/ ,/ 辅助线/ 的/ 右边/ 无环/ 存在/ ./ 因此/ ,/ 若/ 形成/ 环/ ,/ 环/ 中/ 必定/ 有/ 两条/ 链路/ 横跨/ 辅助线/ ,/ 一条/ 从/ 左向右/ ,/ 另/ 一条/ 从右/ 向/ 左/ ./ 图/ 6/ 给出/ 了/ 一个/ 满足/ 该/ 条件/ 的/ 环/ ./ 根据/ 前面/ 虚拟/ 通道/ 使用/ 方法/ ,/ A/ 到/ B/ (/ B/ 到/ C/ )/ 的/ 虚拟/ 通道/ 必定/ 是/ c2/ ,/ C/ 到/ D/ 的/ 虚拟/ 通道/ 必定/ 是/ c1/ ,/ 这样一来/ ,/ 在/ 这个/ 环/ 中/ 必定/ 有/ 某个/ 通道/ 依赖/ 是从/ c1/ 到/ c2/ ./ 根据/ 前面/ 的/ 通道/ 依赖/ 结论/ ,/ 这种/ 依赖/ 关系/ 是/ 不/ 存在/ 的/ ,/ 故/ 这样/ 的/ 环型/ 通道/ 依赖/ 不/ 存在/ ./ 综上/ ,/ 虚拟/ 网络/ (/ 2/ )/ 中/ 无/ 死锁/ 存在/ ./ 同理可证/ 虚拟/ 网络/ (/ 3/ )/ 中/ 无/ 死锁/ 存在/ ./ 拟/ 通道/ 使用/ 方法/ 在/ 整个/ 网络/ 中/ 无/ 死锁/ 存在/ ./ 定理/ 2/ ./ TM/ 网络/ 的/ 虚拟/ 网络/ 划分/ 机制/ 和/ 虚/ 证明/ ./ 4/ 个/ 虚拟/ 网络/ 由/ 虚拟/ 通道/ c1/ 联系/ 到/ 一起/ ./ 当/ 无/ 虚拟/ 网络/ (/ 2/ )/ 和/ (/ 3/ )/ 参与/ 时/ ,/ (/ 1/ )/ 和/ (/ 4/ )/ 肯定/ 不会/ 形成/ 死锁/ ;/ 当有/ (/ 2/ )/ 和/ (/ 3/ )/ 参与/ 时/ ,/ (/ 2/ )/ 和/ (/ 3/ )/ 中/ 消息/ 只有/ 经过/ 某个/ X/ 方向/ 的/ 回转/ 链路/ 之后/ 才/ 会/ 申请/ c1/ ,/ 需要/ 虚拟/ 通道/ c2/ 到/ c1/ 的/ 依赖/ 关系/ ,/ 要/ 想/ 形成/ 依赖/ 环/ ,/ 必定/ 要/ 有/ 反向/ 的/ (/ 即/ c1/ 到/ c2/ )/ 的/ 通道/ 依赖/ 关系/ ./ 根据/ 前面/ 的/ 通道/ 依赖/ 结论/ ,/ 这种/ 依赖/ 关系/ 是/ 不/ 存在/ 的/ ,/ 故/ 这样/ 的/ 环型/ 通道/ 依赖/ 不/ 存在/ ./ 综上/ ,/ TM/ 网络/ 的/ 虚拟/ 网络/ 划分/ 机制/ 和/ 以及/ 采用/ 虚拟/ 通道/ 使用/ 方法/ 能/ 保证/ 整个/ 网络/ 中/ 无/ 死锁/ 存在/ ./ 5TM/ 网络/ 路由/ 算法/ 路由/ 算法/ 负责/ 将/ 消息/ 准确无误/ 地/ 从/ 消息/ 的/ 源/ 节点/ 发送到/ 目的/ 节点/ ./ 由于/ 片上/ 网络/ 对/ 面积/ 、/ 功耗/ 、/ 性能/ 等/ 各个方面/ 的/ 约束/ ,/ 设计/ 出/ 的/ 路由/ 算法/ 必须/ 简单/ 高效/ (/ 实现/ 方便/ ,/ 硬件/ 开销/ 和/ 时间/ 开销/ 小/ )/ 、/ 无/ 死锁/ 和/ 无/ 活锁/ 、/ 最/ 短路/ 由/ (/ 降低/ 延迟/ 和/ 功耗/ )/ ./ 路由/ 算法/ 在/ 满足用户/ 需求/ 的/ 同时/ ,/ 要/ 尽可能/ 地/ 提高/ 网络资源/ 的/ 利用率/ [/ 25/ ]/ ./ 本节/ 中/ 给出/ 适用/ 于/ 2DTM/ 网络/ 的/ 确定性/ 路由/ 算法/ 和/ 完全/ 适应性/ 路由/ 算法/ ,/ 且/ 两种/ 算法/ 都/ 基于/ 前面/ 的/ 虚拟/ 网络/ 划分/ 机制/ ,/ 只/ 需要/ 两条/ 虚拟/ 通道/ ./ 算法/ 1/ ./ TM/ 中/ 确定性/ 路由/ 算法/ Deterministic/ _/ route1/ (/ )/ ./ 输入/ :/ 当前/ 节点/ 坐标/ (/ xc/ ,/ yc/ )/ 和/ 目的/ 节点/ 坐标/ (/ xd/ ,/ yd/ )/ 输出/ :/ 一条/ 选定/ 的/ 输出/ 通道/ 1/ ./ IFxc/ ≠/ xdandx/ +/ portexists/ ,/ RETURNcx/ ,/ 1/ +/ ;/ 2/ ./ ELSEIFyc/ ≠/ ydandy/ +/ portexists/ ,/ RETURNcy/ ,/ 1/ +/ ;/ 3/ ./ ELSERETURNinternal/ ./ 算法/ 2/ ./ TM/ 中/ 确定性/ 路由/ 算法/ Deterministic/ _/ route2/ (/ )/ ./ 输入/ :/ 当前/ 节点/ 坐标/ (/ xc/ ,/ yc/ )/ 和/ 目的/ 节点/ 坐标/ (/ xd/ ,/ yd/ )/ 输出/ :/ 一条/ 选定/ 的/ 输出/ 通道/ 1/ ./ IF/ 消息/ 走过/ X/ 方向/ 的/ 回转/ 链路/ ,/ i/ =/ 1/ ,/ 否则/ i/ =/ 2/ ;/ 2/ ./ IFxc/ ≠/ xdandx/ +/ portexists/ ,/ RETURNcx/ ,/ i/ +/ ;/ 3/ ./ ELSEIFyc/ ≠/ ydandy/ -/ portexists/ ,/ RETURNcy/ ,/ i/ -/ ;/ 4/ ./ ELSERETURNinternal/ ./ 5.1/ 确定性/ 路由/ 机制/ 确定性/ 路由/ 是/ 指/ 消息/ 路由/ 的/ 路径/ 由/ 其源/ 节点/ 和/ 目的/ 节点/ 唯一/ 确定/ ,/ 而/ 不/ 考虑/ 路由/ 过程/ 中/ 网络/ 的/ 状态/ ./ 在/ 确定性/ 路由/ 中/ ,/ 消息/ 的/ 路由/ 路径/ 是/ 唯一/ 的/ ,/ 具有/ 相同/ 的/ 源/ 节点/ 和/ 目的/ 节点/ 的/ 消息/ 走/ 相同/ 的/ 路由/ 路径/ ./ 那么/ ,/ TM/ 网络/ 中/ 的/ 确定性/ 路由/ 算法/ 是/ 如何/ 实现/ 的/ 呢/ ?/ 为了/ 清晰/ 起/ 见/ ,/ 我们/ 将/ 不同/ 的/ 虚拟/ 网路/ 中/ 的/ 路由/ 算法/ 分开/ 来/ 写/ ,/ 即/ 虚拟/ 网络/ (/ 1/ )/ x/ +/ y/ +/ 中/ 的/ 确定性/ 路由/ 算法/ 为/ Deterministic/ _/ route1/ (/ )/ ,/ 依次/ 类推/ ./ 由于/ 虚拟/ 网络/ (/ 1/ )/ 和/ (/ 4/ )/ 中/ 的/ 确定性/ 路由/ 算法/ 类似/ ,/ (/ 2/ )/ 和/ (/ 3/ )/ 中/ 的/ 路由/ 算法/ 类似/ ,/ 我们/ 只/ 给出/ 虚拟/ 网络/ (/ 1/ )/ 和/ (/ 2/ )/ 中/ 的/ 确定性/ 路由/ 算法/ ,/ 如/ 算法/ 1/ 和/ 算法/ 2/ 所示/ ./ 以/ 在/ 虚拟/ 网络/ (/ 1/ )/ 中路/ 由/ 的/ 消息/ 为例/ ,/ 如/ 算法/ 1/ 所示/ ,/ 根据/ 前面/ 的/ 虚拟/ 通道/ 使用/ 规则/ 可知/ ,/ 只有/ 虚拟/ 通道/ c1/ +/ 可用/ ./ 当/ 消息/ 的/ X/ 方向/ 的/ 偏移/ 不为/ 0/ 且/ Page8x/ +/ 端口/ 存在/ 时/ ,/ 消息/ 沿着/ X/ 方向/ 路由/ ;/ 否则/ ,/ 当/ 消息/ 的/ X/ 方向/ 的/ 偏移/ 不为/ 0/ ,/ 而/ x/ +/ 方向/ 的/ 端口/ 不/ 存在/ 时/ ,/ 此时/ 消息/ 的/ Y/ 方向/ 的/ 偏移/ 必定/ 不为/ 0/ ./ 当/ 消息/ 不能/ 沿着/ X/ 方向/ 路由/ 时/ ,/ 若/ 消息/ 的/ Y/ 方向/ 的/ 偏移/ 不为/ 0/ 且/ y/ +/ 端口/ 存在/ ,/ 消息/ 沿着/ Y/ 方向/ 路由/ ./ 当/ 消息/ 到达/ 目的/ 节点/ 时/ ,/ 消息/ 由该/ 路由器/ 的/ PE/ 接收/ ,/ 此时/ 该/ 消息/ 路由/ 结束/ ./ 在/ 虚拟/ 网络/ (/ 2/ )/ 中/ ,/ 如/ 算法/ 2/ 所示/ ,/ 若/ 消息/ 从未/ 走过/ X/ 方向/ 的/ 回转/ 链路/ ,/ 则/ 使用/ 虚拟/ 通道/ c2/ ,/ 否则/ 使用/ 虚拟/ 通道/ c1/ ./ 接下来/ 的/ 路由/ 过程/ 和/ 在/ 虚拟/ 网络/ (/ 1/ )/ 中/ 的/ 路由/ 过程/ 类似/ ,/ 只不过/ 在/ 虚拟/ 通道/ 的/ 使用/ 上/ 有/ 一些/ 差别/ ./ 算法/ 3/ ./ TM/ 中/ 适应性/ 路由/ 算法/ Fully/ -/ adaptive/ _/ route1/ (/ )/ ./ 输入/ :/ 当前/ 节点/ 坐标/ (/ xc/ ,/ yc/ )/ 和/ 目的/ 节点/ 坐标/ (/ xd/ ,/ yd/ )/ 输出/ :/ 一条/ 选定/ 的/ 输出/ 通道/ 1/ ./ Channel/ =/ / ;/ 2/ ./ IFxc/ ≠/ xdandx/ +/ portexists/ ,/ Channel/ =/ Channel/ ∪/ 3/ ./ IFyc/ ≠/ ydandy/ +/ portexists/ ,/ Channel/ =/ Channel/ ∪/ route2/ (/ )/ ./ 4/ ./ IFxc/ =/ =/ xdandyc/ =/ =/ yd/ ,/ Channel/ =/ {/ internal/ }/ ;/ 5/ ./ RETURNselect/ (/ Channel/ )/ ./ 算法/ 4/ ./ TM/ 中/ 适应性/ 路由/ 算法/ Fully/ -/ adaptive/ _/ 输入/ :/ 当前/ 节点/ 坐标/ (/ xc/ ,/ yc/ )/ 和/ 目的/ 节点/ 坐标/ (/ xd/ ,/ yd/ )/ 输出/ :/ 一条/ 选定/ 的/ 输出/ 通道/ 1/ ./ IF/ 消息/ 走过/ X/ 方向/ 的/ 回转/ 链路/ ,/ i/ =/ 1/ ,/ 否则/ i/ =/ 2/ ,/ Channel/ =/ / ;/ 2/ ./ IFxc/ ≠/ xdandx/ +/ portexists/ ,/ Channel/ =/ Channel/ ∪/ 3/ ./ IFyc/ ≠/ ydandy/ -/ portexists/ ,/ Channel/ =/ Channel/ ∪/ 4/ ./ IFxc/ =/ =/ xdandyc/ =/ =/ yd/ ,/ Channel/ =/ {/ internal/ }/ ;/ 5/ ./ RETURNselect/ (/ Channel/ )/ ./ 5.2/ 完全/ 适应性/ 路由/ 机制/ 根据/ 前面/ 的/ 虚拟/ 网络/ 选择/ 算法/ ,/ 可以/ 在/ 消息/ 路由/ 之前/ 确定/ 其/ 路由/ 的/ 虚拟/ 网络/ ./ 同样/ 地/ ,/ 我们/ 将/ 不同/ 的/ 虚拟/ 网络/ 中/ 的/ 完全/ 适应性/ 路由/ 算法/ 分开/ ,/ 只/ 给出/ 虚拟/ 网络/ (/ 1/ )/ 和/ (/ 2/ )/ 中/ 的/ 完全/ 适应性/ 路由/ 算法/ ,/ 如/ 算法/ 3/ 和/ 算法/ 4/ 所示/ ,/ 其中/ 提到/ 的/ select/ 函数/ 是/ 指/ 在/ 给定/ 的/ 虚拟/ 通道/ 中/ 随机/ 选择/ 一个/ ./ 如/ 算法/ 3/ 所示/ ,/ 消息/ 在/ 虚拟/ 子网/ (/ 1/ )/ 中/ 进行/ 完全/ 适应性/ 路由/ 时/ ,/ 只有/ 虚拟/ 通道/ c1/ 可用/ ./ 当/ 消息/ 在/ X/ 方向/ 的/ 偏移/ 不为/ 0/ 且/ x/ +/ 端口/ 存在/ 时/ ,/ cx/ ,/ 1/ +/ 作为/ select/ 函数/ 中/ 的/ 一个/ 选择项/ ;/ 同样/ ,/ 当/ Y/ 方向/ 的/ 偏移/ 不为/ 0/ 且/ y/ +/ 端口/ 存在/ 时/ ,/ cy/ ,/ 1/ +/ 作为/ select/ 函数/ 的/ 一个/ 选择项/ ;/ 当/ 消息/ 在/ 两个/ 方向/ 的/ 偏移/ 均/ 为/ 0/ 时/ ,/ 消息/ 由该/ 路由器/ 的/ 本地/ PE/ 接收/ ,/ 此时/ 消息/ 路由/ 结束/ ./ 在/ 虚拟/ 网络/ (/ 2/ )/ 中/ (/ 算法/ 4/ )/ ,/ 若/ 消息/ 从未/ 经过/ X/ 方向/ 的/ 回转/ 链路/ ,/ 消息/ 使用/ 虚拟/ 通道/ c2/ ,/ 否则/ 使用/ 虚拟/ 通道/ c1/ ./ 接下来/ 的/ 完全/ 适应性/ 路由/ 算法/ 和/ 虚拟/ 网路/ (/ 1/ )/ 中/ 类似/ ,/ 只是/ 在/ 虚拟/ 通道/ 的/ 使用/ 上/ 有些/ 差别/ ./ 5.3/ 最/ 短路/ 由/ 证明/ 在/ 这/ 一部分/ 中/ ,/ 我们/ 将/ 证明/ 前面/ 给出/ 的/ 用于/ TM/ 网络/ 的/ 路由/ 算法/ 是/ 最/ 短路/ 由/ ,/ 从而/ 也/ 可以/ 得出/ 这些/ 路由/ 算法/ 不会/ 产/ 生活/ 锁/ ./ 从/ 路由/ 算法/ 本身/ 可以/ 很/ 清楚/ 的/ 看出/ ,/ 确定性/ 路由/ 算法/ 给出/ 的/ 路由/ 路径/ 是/ 完全/ 适应性/ 路由/ 算法/ 给出/ 的/ 路径/ 中/ 的/ 一条/ ,/ 只要/ 我们/ 证明/ 了/ 完全/ 适应性/ 路由/ 算法/ 是/ 最/ 短路/ 由/ ,/ 则/ 可以/ 推导/ 出/ 确定性/ 路由/ 算法/ 是/ 最/ 短路/ 由/ 算法/ ./ 根据/ 定理/ 1/ ,/ 我们/ 可以/ 计算/ 出/ 任意/ 源/ 节点/ 和/ 目的/ 节点/ 对/ 的/ 最/ 短距离/ ./ 现在/ 我们/ 来/ 证明/ 完全/ 适应性/ 路由/ 算法/ 给出/ 的/ 路径/ 长度/ 和/ 定理/ 1/ 给出/ 的/ 路径/ 长度/ 一致/ ./ 定理/ 3/ ./ TM/ 网络/ 中/ 给出/ 的/ 上述/ 路由/ 算法/ 是/ 最/ 短路/ 由/ 算法/ ./ 证明/ ./ 任意/ 给/ 一条/ 消息/ ,/ 该/ 消息/ 的/ 源/ 节点/ 为/ s/ (/ xs/ ,/ ys/ )/ ,/ 目的/ 节点/ 为/ d/ (/ xd/ ,/ yd/ )/ ,/ 我们/ 可以/ 计算/ s/ 和/ d/ 的/ 改进/ 坐标/ ,/ 记/ 为/ (/ x1/ ,/ y1/ )/ 和/ (/ x2/ ,/ y2/ )/ ./ 这条/ 消息/ 可以/ 路由/ 的/ 路径/ 可以/ 分为/ 两类/ :/ 一类/ 是/ 经过/ X/ 方向/ 的/ 回转/ 链路/ 的/ ,/ 另一类/ 是/ 不/ 经过/ X/ 方向/ 的/ 回转/ 链路/ 的/ ./ 当/ 消息/ 不/ 经过/ X/ 方向/ 的/ 回转/ 链路/ 时/ ,/ 该/ 消息/ 在/ X/ 方向/ 走/ |/ x2/ -/ x1/ |/ 跳步/ ,/ 在/ Y/ 方向/ 走/ |/ y2/ -/ y1/ |/ 跳步/ ./ 若该/ 消息/ 的/ RD/ (/ s/ ,/ d/ )/ 不/ 大于/ TM/ 网络/ 的/ 网络/ 直径/ n/ ,/ 则/ 消息/ 不会/ 经过/ 任何/ 的/ X/ 方向/ 的/ 回转/ 链路/ ,/ 即/ 总共/ 需要/ 经过/ RD/ (/ s/ ,/ d/ )/ 步/ 到达/ 目的/ 节点/ ,/ 与/ 前述/ 的/ 消息/ 不/ 需要/ 经过/ X/ 方向/ 的/ 回转/ 链路/ 所/ 需要/ 经过/ 的/ 跳步/ 数/ 一致/ ./ 当/ 消息/ 的/ RD/ (/ s/ ,/ d/ )/ 大于/ TM/ 网络/ 的/ 网络拓扑/ 直径/ n/ 时/ ,/ 消息/ 需要/ 经过/ 某个/ X/ 方向/ 的/ 回转/ 链路/ ,/ 以/ 减少/ 所/ 需要/ 走/ 的/ 步数/ ./ 总共/ 有/ 8/ 种/ 不同/ 的/ 情况/ ,/ 我们/ 只/ 对/ 4/ 种/ 情况/ 进行/ 讨论/ ,/ 后面/ 的/ 4/ 种/ 情况/ 可以/ 类似/ 推出/ ./ (/ 1/ )/ 情况/ 1/ ./ xs/ </ xd/ ,/ 则/ ys/ >/ yd/ (/ 参考/ 引理/ 1/ )/ ,/ NHopx/ =/ xs/ +/ 1/ +/ (/ n/ -/ 1/ -/ xd/ )/ ,/ NHopy/ =/ (/ n/ -/ 1/ -/ ys/ )/ +/ 1/ +/ yd/ ,/ NHop/ =/ 2n/ +/ (/ xs/ -/ xd/ +/ yd/ -/ ys/ )/ (/ 2/ )/ 情况/ 2/ ./ xs/ >/ xd/ ,/ 则/ ys/ </ yd/ (/ 参考/ 引理/ 1/ )/ ,/ NHopx/ =/ (/ n/ -/ 1/ -/ xs/ )/ +/ 1/ +/ xd/ ,/ Page9NHopy/ =/ ys/ +/ 1/ +/ (/ n/ -/ 1/ -/ yd/ )/ ,/ NHop/ =/ 2n/ +/ (/ xd/ -/ xs/ +/ ys/ -/ yd/ )/ (/ 3/ )/ 情况/ 3/ ./ ys/ </ yd/ ,/ 则/ xs/ </ xd/ (/ 参考/ 引理/ 2/ )/ ,/ NHopx/ =/ xs/ +/ 1/ +/ (/ n/ -/ 1/ -/ xd/ )/ ,/ NHopy/ =/ yd/ -/ ys/ ,/ NHop/ =/ n/ +/ (/ xs/ -/ xd/ +/ yd/ -/ ys/ )/ (/ 4/ )/ 情况/ 4/ ./ ys/ >/ yd/ ,/ 则/ xs/ </ xd/ (/ 参考/ 引理/ 2/ )/ ,/ NHopx/ =/ xs/ +/ 1/ +/ (/ n/ -/ 1/ -/ xd/ )/ ,/ NHopy/ =/ ys/ -/ yd/ ,/ NHop/ =/ n/ +/ (/ xs/ -/ xd/ +/ ys/ -/ yd/ )/ 基于/ 上述/ 分析/ ,/ 很/ 明显/ TM/ 网络/ 的/ 路由/ 算法/ 是/ 最/ 短路/ 由/ 算法/ ,/ 能/ 保证/ 路由/ 路径/ 最短/ ,/ 同时/ 能/ 保证/ 网络/ 中/ 不会/ 产/ 生活/ 锁/ ./ 6/ 实验/ 结果/ 和/ 分析/ 为了/ 对/ TM/ 网络拓扑/ 结构/ 及其/ 路由/ 算法/ 进行/ 评估/ ,/ 我们/ 开发/ 了/ 一个/ 微/ 片层/ 的/ C++/ 模拟器/ ./ 模拟器/ 中/ 的/ 路由器/ 有/ 5/ 个/ 端口/ ,/ 确定性/ 路由/ 算法/ 中/ ,/ 每个/ 端口/ 有/ 2/ 条/ 虚拟/ 通道/ ,/ 适应性/ 路由/ 算法/ 中/ ,/ 每个/ 端口/ 有/ 3/ 条/ 虚拟/ 通道/ ;/ 采用/ 虫/ 孔/ 交换/ ,/ 以/ 减少/ 路由器/ 的/ 面积/ 开销/ ;/ 与/ 文献/ [/ 26/ ]/ 相同/ ,/ 模拟/ 中/ 的/ 报文/ 长度/ 设置/ 为/ 20/ 个/ 微片/ ,/ 包括/ 1/ 个头/ 微片/ 、/ 18/ 个/ 数据/ 微片/ 和/ 1/ 个/ 尾/ 微片/ ;/ 选择/ 8/ ×/ 8/ 的/ 网络/ 规模/ ./ 针对/ 每/ 一个/ 报文/ 注入/ 率/ (/ packetinjectionrate/ )/ ,/ 模拟器/ 运行/ 100000/ 个/ 时钟/ 周期/ ,/ 其中/ 前/ 20000/ 个/ 时钟/ 周期/ 用于/ 网络/ 状态图/ 7/ 均衡/ 通信模型/ 下/ 采用/ 确定性/ 路由/ 算法/ 的/ 性能/ 比较/ 的/ 稳定/ ,/ 后/ 80000/ 个/ 时钟/ 周期/ 用于/ 数据/ 收集/ ./ 为了/ 更加/ 清晰/ 地/ 评估/ TM/ 网络/ 的/ 性能/ ,/ 我们/ 还/ 基于/ 虚拟/ 网络/ 划分/ 机制/ 模拟/ 了/ mesh/ 和/ torus/ 网络/ 上/ 确定性/ 和/ 完全/ 适应性/ 路由/ 算法/ ,/ torus/ 网络/ 上/ 的/ 完全/ 适应性/ 路由/ 是/ 在/ 确定性/ 路由/ 的/ 基础/ 上/ ,/ 增加/ 1/ 条/ 虚拟/ 通道/ 并/ 应用/ Duato/ 协议/ 实现/ 的/ ./ 6.1/ 通信模型/ 和/ 评价/ 标准/ 片上/ 网络/ 之间/ 的/ 通信/ 是/ 通过/ 发送/ 消息/ 来/ 实现/ 的/ ./ 为了/ 观察/ TM/ 网络/ ,/ 我们/ 在/ 3/ 种/ 不同/ 的/ 通信模型/ 下/ 模拟/ 网络通信/ 的/ 性能/ ,/ 3/ 种/ 通信模型/ 为/ 均衡/ 通信/ (/ uniform/ )/ 、/ 置换/ 通信/ (/ permutation/ )/ 和/ 热点/ 通信/ (/ hotspot/ )/ ./ 在/ 均衡/ 通信/ 中/ ,/ 节点/ 可以/ 向/ 该/ 网络/ 中/ 任何/ 其他/ 的/ 节点/ 以/ 同等/ 的/ 概率/ 发送/ 消息/ ./ 在/ 置换/ 通信/ 中/ ,/ 每个/ 节点/ 只能/ 向/ 某个/ 特定/ 的/ 节点/ 发送/ 消息/ ,/ 这里/ 我们/ 考虑/ 3/ 种/ 不同/ 的/ 置换/ 通信/ ,/ 即/ transpose/ 、/ bitreversal/ 、/ 和/ bitcomplement/ ,/ 这/ 3/ 种/ 置换/ 通信/ 方式/ 在/ 文献/ [/ 27/ ]/ 中有/ 详细/ 的/ 描述/ ./ 在/ 热点/ 通信/ 中/ ,/ 某些/ 节点/ 被/ 指派/ 为/ 热点/ ,/ 一个/ 节点/ 可以/ 向/ 该/ 网络/ 中/ 任何/ 其他/ 的/ 节点/ 发送/ 消息/ ./ 但是/ 会以/ 概率/ h/ 向/ 热点/ 节点/ 发送/ 消息/ ,/ 向/ 其他/ 节点/ 发送/ 消息/ 的/ 概率/ 相同/ ,/ 本文/ 中/ 我们/ 取/ h/ 为/ 10/ %/ ./ 延迟/ 和/ 吞吐量/ 是/ 评价/ 网络/ 性能/ 的/ 两个/ 重要/ 指标/ ./ 我们/ 知道/ ,/ 网络/ 平均/ 距离/ 和/ 网络拓扑/ 直径/ 是/ 影响/ 网络/ 性能/ 的/ 两个/ 重要/ 参数/ ,/ 尤其/ 是/ 当/ 网络/ 负载/ 率低/ 的/ 时候/ ./ 在/ 每个/ 通信模型/ 下/ ,/ 给出/ 网络/ 平均/ 延迟/ (/ 单位/ :/ cycles/ )/ 和/ 吞吐量/ (/ 单位/ :/ flits/ // (/ node/ ·/ cycle/ )/ )/ 随/ 消息/ 注入/ 率/ (/ 单位/ :/ packets/ // (/ node/ ·/ cycle/ )/ )/ 变化/ 的/ 曲线/ ./ 6.2/ 实验/ 结果/ 分析/ 图/ 7/ ~/ 图/ 9/ 显示/ 的/ 是/ 3/ 种/ 网络/ 在/ 确定性/ 路由/ 算法/ 下/ 的/ 比较/ 结果/ ./ 均衡/ 通信/ 在/ 许多/ 的/ 模拟/ 通信/ 中/ 采用/ ,/ 但/ 这种/ 通信模型/ 在/ 实际/ 应用/ 中/ 并未/ 出现/ [/ 28/ ]/ ./ 图/ 7/ 给出/ 的/ 是/ 在/ 均衡/ 通信模型/ 下/ 的/ 比较/ 结果/ ,/ 图/ 7/ (/ a/ )/ 是/ Page10/ 图/ 8/ 置换/ 通信模型/ 下/ 采用/ 确定性/ 路由/ 算法/ 的/ 性能/ 比较/ 延迟/ 与/ 消息/ 注入/ 率/ 变换/ 的/ 曲线/ ,/ 图/ 7/ (/ b/ )/ 是/ 吞吐量/ 与/ 消息/ 注入/ 率/ 的/ 变化/ 曲线/ ./ 根据/ 前面/ 的/ 计算/ 可以/ 知道/ ,/ 在/ 8/ ×/ 8/ 的/ 网络/ 中/ ,/ mesh/ 的/ 平均/ 跳步/ 数是/ 5.33/ ,/ TM/ 的/ 平均/ 跳步/ 数是/ 4.7/ ,/ torus/ 的/ 平均/ 跳步/ 数是/ 4/ ./ 从/ 实验/ 结果/ 来看/ ,/ 当/ 报文/ 注入/ 率/ 低于/ 0.011/ (/ packets/ // (/ node/ // cycle/ )/ )/ 时/ ,/ TM/ 网络/ 的/ 平均/ 延迟/ 介于/ mesh/ 网络/ 和/ torus/ 网络/ 平均/ 延迟/ 的/ 中间/ 位置/ ,/ 当/ 报文/ 注入/ 率/ 增大/ 时/ ,/ torus/ 网络/ 较/ mesh/ 和/ TM/ 网络/ 的/ 优势/ 明显/ ./ 在/ uniform/ 通信模型/ 下/ ,/ 网络/ 中/ 的/ 负载/ 均衡/ ,/ torus/ 网络/ 的/ 完全/ 对称性/ 可以/ 有效/ 地/ 利用/ 负载/ 均衡/ 的/ 优势/ ,/ 因此/ torus/ 网络/ 在/ uniform/ 下/ 性能/ 明显/ 优于/ mesh/ 和/ TM/ ./ 然而/ ,/ 在/ 实际/ 应用/ 中/ ,/ 网络通信/ 并非/ 像/ 均衡/ 通信/ 中/ 描述/ 的/ 那样/ 平均/ 分布/ ,/ 因此/ ,/ 我们/ 也/ 模拟/ 了/ 非均衡/ 通信/ 的/ 情况/ ./ 置换/ 通信/ 是/ 典型/ 的/ 非均衡/ 通信模型/ 之一/ [/ 28/ ]/ ,/ 图/ 8/ 给出/ 了/ 置换/ 通信模型/ 下/ 在/ 不同/ 的/ 网络/ 中/ 使用/ 确定性/ 路由/ 的/ 比较/ 结果/ ,/ 此时/ TM/ 网络/ 的/ 优势/ 较/ mesh/ 网络/ 更加/ 明显/ ./ 原因/ 在于/ ,/ 在/ mesh/ 网络/ 中/ ,/ 由于/ 网络/ 的/ 中间/ 区域/ 产生/ 拥塞/ ,/ 导致/ 网络/ 很快/ 达到/ 饱和点/ ,/ 而/ 在/ TM/ 网络/ 中/ ,/ 消息/ 会/ 分为/ 两种/ 不同/ 的/ 情形/ :/ 一种/ 是/ 在/ 源/ 节点/ 和/ 目的/ 节点/ 的/ 改进/ 距离/ 大于/ n/ 时/ 消息/ 需要/ 经过/ X/ 方向/ 的/ 回转/ 链路/ ;/ 另/ 一种/ 是/ 当/ 消息/ 的/ 源/ 节点/ 和/ 目的/ 节点/ 的/ 改进/ 距离/ 不/ 大于/ n/ 时/ ,/ 消息/ 不必/ 经过/ 任何/ X/ 方向/ 的/ 回转/ 链路/ ,/ 这/ 将/ 会/ 大大/ 缓解/ 网络/ 的/ 中间/ 区域/ 的/ 拥塞/ ,/ 减缓/ 网络/ 达到/ 饱和点/ 的/ 过程/ ./ 通过/ 上述/ 分析/ 和/ 实验/ 结果/ 可知/ ,/ 当/ 报文/ 注入/ 率/ 低时/ ,/ TM/ 网络/ 的/ 性能/ 优于/ mesh/ 网络/ 是/ 得益于/ TM/ 网络/ 较/ 低/ 的/ 平均/ 跳步/ 数和较/ 低/ 的/ 网络拓扑/ 直径/ ,/ 当/ 报文/ 注入/ 率高时/ ,/ TM/ 网络/ 的/ 性能/ 优于/ mesh/ 网络/ 还/ 得益于/ TM/ 网络/ 的/ 上述/ 拥塞/ 缓解/ ./ 在/ trans/ -/ Page11/ 图/ 9/ 热点/ 通信模型/ 下/ 采用/ 确定性/ 路由/ 算法/ 的/ 性能/ 比较/ pose/ 和/ bitcomplement/ 两种/ 通信模型/ 下/ ,/ torus/ 网络/ 的/ 两条/ 虚拟/ 通道/ 都/ 能/ 得到/ 较/ 好/ 的/ 利用/ ,/ 从而/ 使得/ torus/ 网络/ 的/ 性能/ 最好/ ./ 而/ 在/ bitreversal/ 通信模型/ 下/ ,/ torus/ 网络/ 上/ 通道/ 使用/ 的/ 限制/ 使得/ 两条/ 虚拟/ 通道/ 的/ 使用/ 不/ 均衡/ ,/ 从而/ 影响/ 了/ torus/ 网络/ 的/ 性能/ ./ 在/ bitreversal/ 通信模型/ 下/ ,/ TM/ 网络/ 的/ 延迟/ 与/ torus/ 网络/ 的/ 延迟/ 可比/ ,/ 但是/ TM/ 网络/ 的/ 吞吐量/ 要/ 高于/ torus/ 网络/ 的/ 吞吐量/ ;/ 在/ bitreversal/ 通信模型/ 下/ ,/ 大部分/ 的/ 消息/ 需要/ 通过/ X/ 方向/ 的/ 回转/ 链路/ ,/ 两条/ 通道/ 使用/ 非常/ 不/ 均衡/ ,/ 从而/ 大大/ 影响/ 了/ 它/ 的/ 性能/ ./ 在/ 大多数/ 通信/ 中/ ,/ 节点/ 通常/ 频繁/ 地/ 与/ 网络/ 中/ 的/ 某/ 一个/ 或/ 某/ 几个/ 节点/ (/ 例如/ ,/ 存储器/ 资源/ 、/ I/ // O/ 资源/ )/ 进行/ 通信/ ./ 热点/ 通信/ 通常/ 被/ 认为/ 是/ 一种/ 更为/ 接近/ 实际/ 通信/ 的/ 一种/ 模型/ ,/ 本文/ 中/ 的/ 3/ 种/ 不同/ 的/ 热点/ 模型/ [/ 31/ ]/ ./ 在/ 第一种/ 热点/ 模型/ (/ hs/ -/ c1/ )/ 中/ ,/ 网络/ 中有/ 两个/ 节点/ 被/ 指派/ 为/ 热点/ ,/ 一个/ 位于/ 左下/ 1/ // 4/ 网络/ 的/ 中间/ 位置/ ,/ 另/ 一个/ 位于/ 右上/ 1/ // 4/ 网络/ 的/ 中间/ 位置/ ,/ 在/ 8/ ×/ 8/ 的/ 网络/ 中/ ,/ 这/ 两个/ 热点/ 分别/ 是/ (/ 2/ ,/ 2/ )/ 和/ (/ 5/ ,/ 5/ )/ ./ 在/ 第二种/ 热点/ 模型/ (/ hs/ -/ c2/ )/ 中/ ,/ 网络/ 中有/ 4/ 个/ 节点/ 被/ 指派/ 为/ 热点/ ,/ 这/ 4/ 个/ 节点/ 处于/ 网络/ 的/ 中间/ 位置/ ,/ 在/ 8/ ×/ 8/ 的/ 网络/ 中/ ,/ 这/ 4/ 个/ 热点/ 分别/ 是/ (/ 3/ ,/ 3/ )/ 、/ (/ 3/ ,/ 4/ )/ 、/ (/ 4/ ,/ 3/ )/ 和/ (/ 4/ ,/ 4/ )/ ./ 在/ 第/ 3/ 种/ 热点/ 模型/ (/ hs/ -/ tr/ )/ 中/ ,/ 网络/ 中/ 4/ 个/ 节点/ 被/ 指派/ 为/ 热点/ ,/ 这/ 4/ 个/ 节点/ 位于/ 网络/ 的/ 右上角/ ,/ 在/ 8/ ×/ 8/ 的/ 网络/ 中/ ,/ 这/ 4/ 个/ 热点/ 分别/ 是/ (/ 7/ ,/ 7/ )/ 、/ (/ 7/ ,/ 6/ )/ 、/ (/ 6/ ,/ 7/ )/ 和/ (/ 6/ ,/ 6/ )/ ./ 图/ 9/ 给出/ 了/ 热点/ 模型/ 下/ 的/ 实验/ 结果/ ,/ 同样/ 的/ ,/ 在/ 该/ 通信模型/ 下/ ,/ TM/ 网络/ 在/ 热点/ 及其/ 附近/ 的/ 拥塞/ 情况/ 要/ 低于/ mesh/ 网络/ 在/ 该/ 区域/ 的/ 拥塞/ 情形/ ,/ 得益于/ 低/ 的/ 网络/ 平均/ 跳步/ 数和低/ 的/ 网络拓扑/ 直径/ ;/ 当/ 报文/ 注入/ 率/ 增大/ 时/ ,/ X/ 方向/ 回转/ 链路/ 的/ 使用/ 有助于/ TM/ 网络/ 的/ 性能/ 提高/ ./ 在/ hs/ -/ c1/ 通信模型/ 下/ ,/ Page12mesh/ 网络/ 的/ 饱和点/ 大约/ 为/ 0.005/ (/ packets/ // (/ node/ ·/ cycle/ )/ )/ ,/ 而/ TM/ 网络/ 和/ torus/ 网络/ 的/ 饱和点/ 相当/ ,/ 为/ 0.00575/ (/ packets/ // (/ node/ ·/ cycle/ )/ )/ ,/ 较/ mesh/ 网络/ 向/ 右/ 推/ 了/ 15/ %/ ;/ 在/ hs/ -/ c2/ 通信模型/ 下/ ,/ torus/ 网络/ 上/ 虚拟/ 通道/ 的/ 使用/ 不/ 均衡/ 成为/ 其/ 性能/ 瓶颈/ ,/ 在/ 这种/ 通信模型/ 下/ ,/ torus/ 网络/ 中/ 的/ 大部分/ 消息/ 不/ 需要/ 经过/ X/ 方向/ 的/ 回转/ 链路/ ,/ 虚拟/ 通道/ c1/ 上/ 的/ 拥塞/ 严重/ ,/ 这/ 成为/ 其/ 性能/ 下降/ 的/ 重要/ 原因/ 之一/ ./ 需要/ 强调/ 的/ 是/ ,/ 消息/ 在/ torus/ 网络/ 中/ 是否/ 经过/ 回转/ 链路/ 的/ 条件/ 和/ 在/ TM/ 网络/ 中/ 是否/ 经过/ 回转/ 链路/ 的/ 条件/ 是/ 不同/ 的/ ./ TM/ 网络/ 中/ 通道/ 的/ 均衡/ 使用/ 对于/ 其/ 性能/ 的/ 提高/ 起着/ 至关重要/ 的/ 作用/ ./ 图/ 10/ 给出/ 了/ 3/ 种/ 网络/ 在/ 不同/ 的/ 通信模型/ 下/ 采用/ 完全/ 适应性/ 路由/ 算法/ 时/ 的/ 比较/ 结果/ ./ 从/ 实验/ 结果/ 可以/ 看出/ ,/ 采用/ 完全/ 适应性/ 路由/ 机制/ 时/ ,/ TM/ 网络/ 在/ 图/ 10/ 不同/ 通信模型/ 下/ 采用/ 完全/ 适应性/ 路由/ 算法/ 的/ 性能/ 比较/ 网络/ 平均/ 延迟/ 和/ 吞吐量/ 方面/ 的/ 性能/ 也/ 优于/ mesh/ 网络/ ./ 当/ 虚拟/ 通道/ 个数/ 增加/ 时/ ,/ 由于/ 增加/ 的/ 第/ 3/ 条/ 虚拟/ 通道/ 提供/ 的/ 是/ 完全/ 适应性/ 路由/ ,/ torus/ 网络/ 中/ 通道/ 使用/ 失衡/ 的/ 情况/ 得到/ 缓解/ ./ 在/ 完全/ 适应性/ 路由/ 中/ ,/ 大部分/ 情况/ 下/ ,/ torus/ 网络/ 的/ 性能/ 要/ 优于/ TM/ 网络/ ,/ 某些/ 情况/ 下/ ,/ 二者/ 的/ 性能/ 接近/ ./ 但是/ ,/ 在/ 输入/ 缓冲/ 的/ 路由器/ 设计/ 中/ [/ 29/ ]/ ,/ 当/ 虚拟/ 通道/ 个数/ 增加/ 时/ ,/ 片上/ 网络/ 路由器/ 的/ 面积/ 开销/ 和/ 设计/ 复杂性/ 大大提高/ ,/ 这/ 也/ 是/ 我们/ 为什么/ 要/ 将/ 虚拟/ 通道/ 个数/ 降下来/ 的/ 原因/ ./ TM/ 网络/ 可以/ 提供/ 2/ 条/ 虚拟/ 通道/ 时/ 的/ 完全/ 适应性/ 路由/ ,/ 而/ torus/ 网络/ 实现/ 适应性/ 路由/ 时/ 至少/ 需要/ 3/ 条/ 虚拟/ 通道/ ./ 从/ 路由器/ 的/ 设计/ 复杂性/ 上/ 来说/ ,/ TM/ 网络/ 和/ mesh/ 网络/ 的/ 路由器/ 设计/ 复杂性/ 相当/ ,/ 而/ TM/ 网络/ 的/ 性能/ 在/ 要/ 优于/ mesh/ 网络/ ,/ 因此/ 这种/ 新/ 的/ 网络拓扑/ 结构设计/ 是/ 非常/ 有/ 意义/ 的/ ./ Page137/ 总结/ 本文/ 提出/ 了/ 一种/ 新/ 的/ 网络拓扑/ 结构/ TM/ ,/ 它/ 结合/ 了/ torus/ 和/ mesh/ 的/ 优点/ :/ 在/ 一个/ n/ ×/ n/ 的/ 网络/ 中/ ,/ TM/ 网络/ 和/ mesh/ 网络/ 的/ 链路/ 数目/ 相同/ ,/ 比/ torus/ 网络/ 的/ 链路/ 数目/ 少/ 2n/ ;/ TM/ 网络拓扑/ 直径/ 为/ n/ ,/ 而/ torus/ 网络拓扑/ 直径/ 为/ 2/ ·/ (/ n/ // 2/ )/ ,/ 可知/ 当/ n/ 为/ 偶数/ 时/ ,/ 二者/ 相同/ ,/ 当/ n/ 为/ 奇数/ 时/ ,/ TM/ 网络拓扑/ 直径/ 比/ torus/ 网络拓扑/ 直径/ 大/ 1/ ,/ 而/ mesh/ 网络拓扑/ 直径/ 为/ 2/ ·/ (/ n/ -/ 1/ )/ ;/ TM/ 网络/ 的/ 平均/ 距离/ 介于/ mesh/ 网络/ 的/ 平均/ 距离/ 与/ torus/ 网络/ 的/ 平均/ 距离/ 的/ 中间/ ;/ 路由/ 算法/ 设计/ 方面/ ,/ torus/ 网络/ 上/ 由于/ 每/ 一行/ (/ 列/ )/ 上/ 都/ 有/ 一个/ 环/ ,/ 使得/ torus/ 网络/ 上/ 的/ 完全/ 适应性/ 无/ 死锁/ 路由/ 算法/ 设计所/ 需要/ 的/ 虚拟/ 通道/ 的/ 数目/ 至少/ 为/ 3/ ,/ 同时/ 虚拟/ 网络/ 划分/ 机制/ 不能/ 适用/ 于/ torus/ 网络/ ,/ 而/ 如/ 本文/ 所示/ ,/ 虚拟/ 网络/ 划分/ 机制/ 适用/ 于/ mesh/ 和/ TM/ 网络/ ;/ 路由器/ 设计/ 方面/ ,/ TM/ 网络/ 的/ 路由器/ 设计/ 与/ mesh/ 网络/ 接近/ ,/ 而/ 比/ torus/ 路由器/ 设计/ 简单/ ./ 通过/ 使用/ 虚拟/ 网络/ 划分/ 机制/ ,/ 本文/ 中/ 给出/ 了/ 一种/ 简单/ 的/ 适用/ 于/ TM/ 网络/ 上/ 的/ 确定性/ 无/ 死锁/ 最/ 短路/ 由/ 算法/ 和/ 完全/ 适应性/ 无/ 死锁/ 最/ 短路/ 由/ 算法/ ./ TM/ 网络/ 中/ 路由器/ 需要/ 的/ 虚拟/ 通道/ 个数/ 为/ 2/ ,/ 且/ 路由/ 算法/ 设计/ 简单/ ,/ 与/ mesh/ 网络/ 中路/ 由/ 算法/ 设计/ TM/ 网络/ 中/ 路由器/ 设计/ 复杂度/ 和/ mesh/ 网络/ 的/ 路由器/ 设计/ 复杂度/ 相当/ ./ 实验/ 结果表明/ ,/ TM/ 网络拓扑/ 结构/ 在/ 平均/ 延迟/ 和/ 吞吐量/ 等/ 两个/ 方面/ 均/ 优于/ mesh/ 网络拓扑/ 结构/ ./ 因此/ ,/ TM/ 网络/ 在/ mesh/ 网络/ 路由器/ 设计/ 复杂性/ 的/ 基础/ 上/ 提高/ 了/ 网络/ 的/ 性能/ ,/ 这/ 对于/ 片上/ 网络拓扑/ 的/ 研究/ 是/ 非常/ 有/ 意义/ 的/ ./ 致谢/ 在/ 此/ ,/ 我们/ 向/ 对/ 本文/ 的/ 研究/ 工作/ 提出/ 指导性/ 意见/ 和/ 建议/ 的/ Georgia/ 州立大学/ 的/ 潘毅/ 老师/ 以及/ Temple/ 大学/ 的/ 吴杰/ 老师/ 表示/ 衷心/ 的/ 感谢/ ./ 同时/ ,/ 我们/ 还要/ 感谢/ 各位/ 审稿/ 老师/ ,/ 他们/ 针对/ 本文/ 工作/ 提出/ 了/ 宝贵意见/ 和/ 建议/ !/ 

