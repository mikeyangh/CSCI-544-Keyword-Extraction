Page1/ 主动式/ 三维/ 立体/ 全景/ 视觉/ 传感/ 技术/ 汤一平/ 吴立娟/ 周静恺/ (/ 浙江工业大学/ 信息/ 工程学院/ 杭州/ 310023/ )/ 摘要/ 为了/ 使/ 全方位/ 视觉/ 传感器/ (/ Omni/ -/ DirectionalVisionSensor/ ,/ ODVS/ )/ 获取/ 的/ 全景/ 图像/ 上/ 各/ 像素/ 本身/ 具有/ 成像/ 物点/ 的/ 深度/ 信息/ ,/ 文中/ 设计/ 了/ 一种/ 具有/ 单/ 发射/ 中心点/ (/ SingleEmissionPoint/ ,/ SEP/ )/ 的/ 全景/ 彩色/ 体/ 结构/ 光/ 发生器/ (/ PanoramicColorStructuredLightGenerator/ ,/ PCSLG/ )/ 以/ 配合/ 具有/ 单/ 视点/ (/ SingleViewPoint/ ,/ SVP/ )/ 成像/ 特点/ 的/ ODVS/ ;/ 然后/ 将/ ODVS/ 和/ PCSLG/ 垂直/ 配置/ 在/ 同一/ 轴心/ 线上/ ,/ 实现/ 一种/ 主动式/ 立体/ 全景/ 视觉/ 传感器/ (/ ActiveStereoOmni/ -/ DirectionalVisionSensor/ ,/ ASODVS/ )/ ;/ 最后/ 根据/ 全景/ 图像/ 上/ 各/ 像素点/ 所带/ 光源/ 的/ 颜色/ 信息/ ,/ 通过/ 颜色/ 识别/ 算法/ 以及/ ODVS/ 和/ PCSLG/ 的/ 几何/ 关系/ 推断/ PCSLG/ 的/ 发射/ 角/ 并/ 估算/ 成像/ 物点/ 的/ 深度/ 值/ ./ 实验/ 结果表明/ ,/ 该文/ 设计/ 的/ ASODVS/ 能/ 快速/ 实时/ 进行/ 全景/ 立体/ 图像/ 的/ 特征/ 点/ 实时/ 匹配/ 和/ 空间/ 物点/ 深度/ 的/ 测量/ ,/ 实现/ 了/ 一种/ 以/ 观察者/ 为/ 中心/ 的/ 3D/ 主动/ 立体/ 视觉/ 感知/ ./ 关键词/ ODVS/ ;/ PCSLG/ ;/ 主动/ 立体/ 视觉/ ;/ 颜色/ 识别/ 1/ 引言/ 人类/ 通过/ 视觉/ 感知/ 现实/ 世界/ ,/ 从/ 两眼/ 的/ 视差/ 中/ 感知/ 空间/ 物体/ 的/ 深度/ ./ 理想/ 的/ 视觉/ 感知/ 装置/ 是/ 要/ 能/ 获得/ 与/ 实际/ 空间/ 物体/ 一一对应/ 的/ 景物/ 深度/ 和/ 色彩/ 对应/ 图/ 的/ 大视野/ 视觉/ 传感器/ ,/ 但是/ 目前/ 的/ 成像/ 技术/ 在/ 获取/ 图像/ 过程/ 中/ 丢失/ 了/ 空间/ 物体/ 的/ 深度/ 信息/ ./ 而计/ Page2/ 算机/ 视觉/ 中/ 的/ 立体/ 视觉/ 技术/ 能/ 使/ 机器/ 同/ 人类/ 一样/ 能/ 感知/ 物体/ 的/ 立体/ 信息/ ,/ 因此/ ,/ 立体/ 视觉/ 已/ 成为/ 计算机/ 视觉/ 的/ 一个/ 研究/ 热点/ ,/ 按照/ 是否/ 在/ 场景/ 中/ 投影/ 光源/ ,/ 把/ 立体/ 视觉/ 分为/ 被动式/ 立体/ 视觉/ 技术/ 和/ 主动式/ 立体/ 视觉/ 技术/ ./ 被动式/ 立体/ 视觉/ 利用/ 人眼/ 双目/ 视差/ 原理/ ,/ 模仿/ 人类/ 利用/ 双目/ 线索/ 感知/ 距离/ 的/ 方法/ 来/ 实现/ 对/ 三维/ 信息/ 的/ 感知/ ./ 但是/ 被动式/ 立体/ 视觉/ 技术/ 在/ 标定/ 、/ 匹配/ 及/ 重构/ 方面/ 的/ 基础性/ 问题/ 还/ 没有/ 得到/ 很/ 好地解决/ ./ 为此/ ,/ 许多/ 学者/ 提出/ 了/ 各种/ 主动式/ 立体/ 视觉/ 技术/ 的/ 解决方案/ [/ 1/ -/ 11/ ]/ ./ 在/ 主动式/ 立体/ 视觉/ 技术/ 中/ ,/ 通常/ 采用/ 编码/ 后/ 的/ 投影/ 光源/ 来/ 代替/ 被动式/ 立体/ 视觉/ 中/ 的/ 某个/ 摄像机/ ,/ 当/ 目标/ 物体/ 表面/ 被/ 赋予/ 某种/ 光源/ 信息/ 时/ ,/ 通过/ 对/ 投射/ 光源/ 的/ 编码/ 信息/ 的/ 识别/ ,/ 以/ 实现/ 特征/ 点/ 的/ 快速/ 匹配/ 和/ 深度/ 测量/ ./ Rioux/ [/ 1/ ]/ 设计/ 了/ 多种/ 点光源/ 投影/ 的/ 测距仪/ ,/ 实现/ 了/ 对/ 物点/ 的/ 深度/ 信息/ 测量/ ./ Oshima/ 和/ Shirai/ [/ 2/ ]/ 设计/ 了/ 线/ 结构/ 光/ 测距仪/ ,/ 该/ 测距仪/ 通过/ 向/ 圆柱/ 透镜/ 投射/ 激光/ 来/ 产生/ 线光源/ ,/ 这种/ 线光源/ 在/ 步进/ 电机/ 的/ 匀速转动/ 下/ 能够/ 对/ 物体/ 表面/ 进行/ 扫描/ ,/ 对/ 由/ 这种/ 方式/ 获得/ 的/ 图像/ 进行/ 信息提取/ 并/ 完成/ 深度/ 测量/ 工作/ ./ 无论是/ 点光源/ 还是/ 线光源/ ,/ 其/ 优点/ 是/ 识别/ 简单/ ,/ 但/ 需要/ 扫描/ 整个/ 场景/ ,/ 实时性/ 不高/ ,/ 不/ 适合/ 大/ 范围/ 的/ 三维/ 测量/ ./ Kowarschik/ 等/ 人/ [/ 3/ ]/ 提出/ 了/ 一种/ 光栅/ 结构/ 光/ 投影/ 法/ 进行/ 三维/ 测量/ ,/ 该/ 方法/ 实现/ 了/ 仅/ 需/ 拍摄/ 一次/ 图像/ 就/ 可以/ 测量/ 较大/ 范围/ 内/ 的/ 深度/ 信息/ ,/ 提高/ 了/ 测量/ 速度/ ;/ 该/ 方法/ 若/ 要/ 提高/ 测量/ 精度/ ,/ 需要/ 增加/ 光栅/ 的/ 密度/ ,/ 但/ 光栅/ 的/ 识别/ 就/ 比较/ 困难/ ./ Tajima/ 等/ 人/ [/ 4/ ]/ 利用/ 彩虹/ 编码/ 结构/ 光/ ,/ 通过/ 识别/ 光源/ 颜色/ ,/ 利用/ 三角/ 测距/ 原理/ 测距/ ,/ 该/ 方法/ 具有/ 能/ 快速/ 获取/ 可见/ 区域/ 深度/ 信息/ 的/ 优点/ ,/ 但/ 其/ 仍/ 是/ 普通/ 视角/ 相机/ 与面/ 结构/ 光/ 的/ 组合/ ,/ 检测/ 场景/ 有限/ ,/ 且/ 需要/ 设计/ 滤波/ 装置/ ./ 上述/ 几种/ 解决方案/ 主要/ 是/ 针对/ 面/ 成像/ 的/ 立体/ 视觉/ ./ 在/ 主动式/ 全景/ 立体/ 成像/ 方面/ ,/ Joung/ 等/ 人/ [/ 5/ ]/ 提出/ 利用/ 点/ 激光/ 高速旋转/ 形成/ 锥形/ 的/ 激光/ 平面/ ,/ 再/ 通过/ 圆锥形/ 镜面/ 接收/ 全景/ 光源/ 信息/ ,/ 然后/ 通过/ 分析/ 成像/ 平面/ 上/ 的/ 投射/ 光源/ 信息/ 来/ 实现/ 全景/ 三维/ 立体/ 测量/ ./ 由于/ 激光/ 发散/ 角度/ 小/ ,/ 要/ 形成/ 连续/ 的/ 光源/ 需要/ 高速旋转/ 的/ 机械设备/ ./ Orghidan/ 等/ 人/ [/ 6/ ]/ 提出/ 了/ 一种/ 利用/ 环形/ 激光/ 和/ 圆锥形/ 镜面/ 组合/ 产生/ “/ 光锥/ ”/ 的/ 方法/ ,/ 该/ 方法/ 能/ 有效/ 的/ 获取/ 全景/ 三维/ 信息/ ,/ 但/ 激光/ 源/ 与/ 镜面/ 之间/ 的/ 组合/ 要求/ 比较/ 苛刻/ ,/ 且/ 由于/ 其/ 传感器/ 设计/ 时/ 采用/ 了/ 抛物面/ 折/ 反射/ 成像/ ,/ 抛物/ 镜面/ 折/ 反射/ 成像/ 虽然/ 有/ 成像/ 算法/ 简单/ 和/ 安装/ 时/ 不/ 要求/ 特殊/ 的/ 几何/ 对应/ 等/ 优点/ ,/ 但是/ 必须/ 采用/ 正交投影/ 镜头/ 的/ 摄像/ 装置/ (/ OrthographicCamera/ )/ ,/ 这种/ 摄像/ 装置/ 与/ 一般/ 基于/ 透视/ 的/ 摄像/ 装置/ 有/ 较大/ 的/ 区别/ ,/ 而且/ 正交投影/ 镜头/ 价格昂贵/ ./ Yi/ 等/ 人/ [/ 7/ ]/ 采用/ 线/ 结构/ 光/ 和/ 全方位/ 视觉/ 传感器/ 实现/ 了/ 全景/ 三维/ 测量/ ,/ 由于/ 全方位/ 视觉/ 传感器/ 采用/ 的/ 是/ 抛物/ 镜面/ 折/ 反射/ 成像/ ,/ 仍/ 存在/ 正交投影/ 镜头/ 价格昂贵/ 的/ 问题/ ./ 接着/ ,/ Yi/ 等/ 人/ [/ 8/ ]/ 又/ 提出/ 利用/ 激光/ 和/ 圆柱形/ 透镜/ 来/ 实现/ 全景/ 三维/ 测量/ ,/ 该/ 方法/ 无需/ 利用/ 机械扫描/ 装置/ 就/ 能/ 使/ 大/ 区域/ 内/ 覆盖/ 光源/ ,/ 但/ 圆柱形/ 透镜/ 与/ 激光/ 的/ 组合/ 会/ 大大/ 削弱/ 光/ 能量/ 密度/ ,/ 从而/ 给/ 光源/ 识别/ 带来/ 一定/ 困难/ ./ 近年来/ ,/ Kurisu/ 等/ 人/ [/ 9/ ]/ 采用/ 圆形/ 激光/ 与/ 圆锥形/ 镜/ 组合/ ,/ 并/ 与/ 两个/ 摄像机/ 组合/ 实现/ 了/ 三维/ 地图/ 的/ 构建/ ./ Matsui/ 等/ 人/ [/ 10/ ]/ 利用/ 全方位/ 激光/ 和/ 全景/ 摄像机/ 的/ 组合/ 实现/ 了/ 管道/ 中/ 全景/ 的/ 检测/ ./ 2012/ 年/ ,/ Zhang/ 等/ 人/ [/ 11/ ]/ 提出/ 利用/ 双曲面/ 镜/ 和/ 投影仪/ 的/ 组合/ 设计/ 了/ 一种/ 全方位/ 投影/ 装置/ ,/ 并/ 使/ 之/ 与/ 全方位/ 视觉/ 传感器/ 垂直/ 组合/ ,/ 得到/ 一种/ 全新/ 的/ 3D/ 视觉/ 传感器/ ,/ 可/ 用于/ 行走/ 机器人/ 的/ 导航/ ,/ 但是/ 还/ 属于/ 某/ 一个/ 面上/ 的/ 物点/ 深度/ 检测/ ./ 综上所述/ ,/ 当前/ 主动/ 全景/ 立体/ 视觉/ 技术/ 最大/ 问题/ 是/ 难以/ 快速/ 直接/ 获取/ 全景/ 空间/ 所有物/ 点/ 的/ 深度/ 信息/ ./ 既然/ ODVS/ 是/ 一种/ 体/ 结构式/ 的/ 视觉/ 感知/ 器件/ ,/ 就/ 需要/ 有/ 一种/ 全景/ 彩色/ 体/ 结构/ 光/ 技术/ 与/ 之/ 相对/ 应/ ,/ 这样/ 就/ 能够/ 实时/ 地/ 获得/ 与/ 场景/ 中/ 物体/ 相对/ 应/ 的/ 深度/ 和/ 色彩/ 等/ 信息/ ,/ 本文/ 提出/ 的/ 主动式/ 立体/ 全景/ 视觉/ 感知/ 方式/ 则/ 是/ 围绕/ 着/ “/ 以/ 观察者/ 为/ 中心/ ”/ 来/ 进行/ 设计/ 的/ ./ 因此/ ,/ 本文/ 研究/ 的/ 贡献/ 在于/ 能够/ 实时/ 获取/ 与/ 实际/ 物体/ 相对/ 应/ 的/ 深度/ 和/ 色彩/ 全景/ 图像/ ,/ 从/ 视频信号/ 获取/ 源/ 上来/ 解决/ 计算机/ 视觉/ 领域/ 中/ 的/ 准确性/ 、/ 实时性/ 及/ 鲁棒性/ 等/ 方面/ 的/ 问题/ ./ 主要/ 创新/ 点/ 是/ :/ (/ 1/ )/ 设计/ 了/ 一种/ 单/ 发射点/ 的/ 、/ 具有/ 体/ 结构式/ 的/ 全景/ 彩色/ 结构/ 光/ 发生器/ (/ PCSLG/ )/ ,/ 使得/ 被/ PCSLG/ 照射/ 的/ 三维空间/ 上/ 的/ 所有物/ 点/ 都/ 具备/ 了/ 一种/ 带有/ 特定/ 颜色/ 的/ 空间/ 几何/ 属性/ ;/ (/ 2/ )/ 集成/ 单/ 发射点/ 的/ PCSLG/ 和/ 单/ 视点/ 的/ ODVS/ 来/ 构建/ 一种/ ASODVS/ ,/ 通过/ 解析/ ODVS/ 成像/ 各/ 像素/ 的/ 位置/ 以及/ 颜色/ 特征/ ,/ 根据/ ASODVS/ 的/ 结构/ 参数/ 等/ 环境/ 条件/ ,/ 使得/ 全景/ 图像/ 中/ 的/ 像素/ 单元/ 均/ 能/ 包含/ 实际/ 景物/ 的/ 深度/ 、/ 方位/ 和/ 色彩/ 信息/ ,/ 最终/ 用/ 一幅/ 全景/ 图像/ 来/ 直接/ 表达/ 三维/ 场景/ 的/ 目标/ ./ 2ASODVS/ 图/ 1/ (/ a/ )/ 是/ 本文/ 提出/ 的/ 一种/ ASODVS/ 的/ 成像/ 模型/ ,/ 由/ ODVS/ 和/ PCSLG/ 按/ 垂直/ 配置/ 组合而成/ ./ 其中/ ODVS/ 是/ 由/ 双曲面/ 镜/ 和/ CCD/ 摄像头/ 构成/ ,/ PCSLG/ 由/ 按/ 规则/ 嵌入/ 在/ 圆球/ 外壳/ 上/ 的/ 多组/ 不同/ 发光/ 波长/ 的/ LED/ 和/ 低速/ 普通/ 旋转/ 电机/ 带动/ 的/ 圆球/ 外壳/ 组合/ 而/ Page3/ 成/ ./ 将/ ODVS/ 的/ 单/ 视点/ 和/ PCSLG/ 的/ 发光/ 中心/ 配置/ 在/ 同一/ 轴心/ 线上/ ,/ 简化/ 了/ 极线/ 约束/ ./ OC/ 即为/ 中央/ 眼/ (/ 单/ 视点/ 和/ 单/ 发射点/ 连线/ 的/ 中点/ )/ 到/ 被/ 测/ 物体/ 表面/ 的/ 距离/ ./ 图/ 1/ (/ b/ )/ 是/ 本文/ 开发/ ASODVS/ 的/ 原型/ ./ 式/ 中/ ,/ R/ 为/ 空间/ 物点/ C/ 到/ 中央/ 眼/ O/ 的/ 距离/ ,/ B/ 为/ 基线/ 距/ (/ ODVS/ 的/ 单/ 视点/ 到/ PCSLG/ 的/ 单/ 发射点/ 之间/ 的/ 距离/ )/ ,/ α/ 0/ 为/ 空间/ 物点/ C/ 在/ ODVS/ 成像/ 平面/ 上/ 的/ 入射角/ ,/ α/ p/ 为/ 空间/ 物点/ C/ 对应/ 在/ PCSLG/ 上/ 的/ 发射/ 角/ ./ 根据/ 式/ (/ 1/ )/ ,/ 要/ 得到/ 空间/ 任一/ 物点/ 的/ 位置/ 信息/ 只/ 需/ 计算/ 出该/ 物点/ 的/ 入射角/ α/ 0/ 以及/ 对应/ 光源/ 的/ 发射/ 角/ α/ p/ ./ 而/ 任一/ 物点/ 的/ 入射角/ α/ 0/ 可/ 根据/ ODVS/ 的/ 全景图/ 上该/ 物点/ 所/ 对应/ 的/ 像素/ 位置/ 以及/ ODVS/ 的/ 标定/ 结果/ 计算/ 得到/ ;/ 该物点/ 对应/ 光源/ 的/ 发射/ 角/ α/ p/ 可/ 根据/ 全景图/ 上物点/ 所/ 带/ 的/ 光源/ 颜色/ 信息/ 计算/ 得到/ ./ 下面/ 就/ 详细/ 阐述/ 入射角/ α/ 0/ 和/ 发射/ 角/ α/ p/ 的/ 获取/ 方法/ ./ 2.1/ ODVS/ 本文/ 采用/ 的/ ODVS/ 是/ 利用/ 本/ 实验室/ 开发/ 的/ 一种/ 视场/ 范围/ 为/ 120/ °/ ×/ 360/ °/ 的/ ODVS/ [/ 12/ ]/ ./ ODVS/ 中/ 的/ 折/ 反射镜/ 面/ 采用/ 双曲/ 镜面/ ,/ 利用/ 双曲/ 镜面/ 单/ 视点/ 的/ 折/ 反射/ 特性/ [/ 13/ ]/ 来/ 设计/ 单/ 视点/ 的/ ODVS/ ./ 关于/ 折/ 反射镜/ 面/ 的/ 设计/ 方法/ 请/ 见/ 文献/ [/ 14/ ]/ ./ 在/ 设计/ 全方位/ 视觉/ 传感器/ ODVS/ 的/ 垂直/ 视场/ 范围/ (/ VFOV/ )/ 时/ ,/ 需要/ 与体/ 结构/ 光/ 的/ 发射/ 范围/ 相结合/ 来/ 确定/ ./ 一般来讲/ ,/ VFOV/ 的/ 数值/ 越大/ ,/ 得到/ 的/ 全景/ 立体/ 视觉/ 范围/ 也/ 就/ 越/ 大/ ./ 若要/ 获取/ 全景/ 空间/ 物点/ 的/ 深度/ 等/ 位置/ 信息/ ,/ 首先/ 需要/ 计算/ 物点/ 的/ 入射角/ α/ 0/ ,/ 这里/ 需对/ 摄像机/ 进行/ 标定/ ,/ 以/ 建立/ 入射角/ α/ 0/ 与/ 成像/ 平面/ 上/ 像素点/ 的/ 位置/ 关系/ ./ ODVS/ 的/ 标定/ 就是/ 以/ 获得/ 成像/ 设备/ 内部/ 的/ 几何/ 以及/ 光学/ 参数/ 和/ 相机/ 在/ 实际/ 场景/ 中/ 的/ 坐标/ 位置/ 为/ 目的/ 的/ 过程/ ,/ 这个/ 过程/ 需要/ 通过/ 确定/ 参考点/ 和/ 它/ 对应/ 的/ 像素点/ 的/ 关系/ 来/ 完成/ ./ 详细/ 标定/ 算法/ 可以/ 参考文献/ [/ 15/ -/ 16/ ]/ ./ 假设/ 值/ 可以/ 通过/ 标定/ 实验/ 求/ 出/ ,/ ODVS/ 的/ 标定/ 结果/ 见表/ 1/ ./ 标定/ 精度/ 是/ 根据/ 计算/ 反投影/ 误差/ 得到/ 的/ [/ 17/ ]/ ,/ 即/ 在/ 标定/ 板上/ 手动/ 选取/ 的/ 角点/ 与/ 利用/ 标定/ 所得/ 参数/ 计算/ 反投影/ 到/ 图像/ 平面/ 上/ 的/ 点/ 的/ 像素/ 误差/ ./ 表/ 1ODVS/ 的/ 标定/ 结果/ -/ 6.05/ E/ -/ 051/ 本文/ 研究/ 的/ 主要/ 目的/ 是/ 实现/ 全景/ 的/ 三维/ 实时/ 感知/ 和/ 重构/ ,/ 因此/ 全景/ 空间/ 各物点/ 的/ 深度/ 信息/ 快速/ 计算/ 是/ 一个/ 关键问题/ ./ 从/ 三维/ 重构/ 计算/ 角度/ 考虑/ ,/ 本文/ 标定/ 参数/ α/ 0/ α/ 2/ α/ 4ODVS/ -/ 90.370/ ./ 0034/ -/ 0.0000/ ./ 999/ -/ 5.22/ E/ -/ 05A/ 采用/ 了/ 以/ 中央/ 眼为/ 坐标/ 原点/ 的/ 高斯/ 坐标系/ ,/ 如图/ 1/ (/ a/ )/ 所示/ ,/ 只要/ 获得/ 空间/ 物点/ 的/ 入射角/ α/ 0/ 和/ 对应/ 光源/ 的/ 发射/ 角/ α/ p/ 信息/ ,/ 根据/ 三角/ 测距/ 原理/ 以及/ 基线/ 距/ B/ 就/ 能/ 快速/ 方便/ 地/ 求得/ 该物点/ 的/ 深度/ 信息/ ,/ 计算公式/ 如式/ (/ 1/ )/ 所示/ ./ R/ =/ Bcos/ (/ α/ p/ )/ 槡/ Page42/ ./ 2/ 全景/ 彩色/ 体/ 结构/ 光/ 发生器/ PCSLG2/ ./ 2.1/ PCSLG/ 的/ 设计/ 彩色/ 体/ 结构/ 光/ 的/ 设计/ 是/ 实现/ 本文/ 提出/ 的/ 主动式/ 三维/ 立体/ 全景/ 视觉/ 传感器/ 的/ 关键技术/ 之一/ ./ 虽然/ 有关/ 彩色/ 结构/ 光/ 的/ 研究/ 多种多样/ ,/ 有些/ 学者/ 利用/ 颜色/ 来/ 检测/ 物点/ 的/ 三维/ 信息/ [/ 18/ -/ 21/ ]/ ,/ 但/ 要/ 与/ 本文/ 提出/ 的/ 体/ 结构式/ 的/ ODVS/ 匹配/ ,/ 需要/ 设计/ 一个/ 全景/ 彩色/ 体/ 结构/ 光/ 发生器/ ./ 在/ 这里/ ,/ 彩色/ 体/ 结构/ 光/ 的/ 发光/ 器件/ 可以/ 选用/ 发散/ 角小/ 的/ LED/ 或者/ 激光/ 半导体/ 等/ 器件/ ,/ 激光/ 半导体/ 发光/ 器件/ 具有/ 发散/ 角小/ 的/ 优点/ ,/ LED/ 具有/ 色彩/ 覆盖面积/ 大/ 的/ 优点/ ./ 本文/ 产生/ 彩色/ 体/ 结构/ 光/ 的/ 光源/ 是/ 超高亮/ 度/ LED/ ,/ 设计/ 目标/ 如下/ :/ (/ 1/ )/ 组成/ 结构/ 光/ 的/ LED/ 光源/ 的/ 投射/ 光/ 的/ 反向/ 延长线/ 必须/ 交/ 于/ 一个点/ ,/ 本文/ 称/ 这个/ 点为/ 单/ 发射点/ ;/ (/ 2/ )/ 为了/ 使得/ 彩色/ 光/ 具有/ 体/ 结构/ ,/ 这里/ 要求/ 相同/ 中心/ 波长/ 的/ LED/ 灯/ 等/ 距离/ 地/ 分布/ 在/ 相同/ 的/ 纬度/ 方向/ 上/ 而/ 相同/ 经度/ 方向/ 上/ 的/ 光源/ 不仅/ 需要/ 等/ 距离/ 排列/ ,/ 其/ 中心/ 波长/ 还/ 需要/ 满足/ 连续/ 变化/ 的/ 条件/ ./ 设计/ 原理图/ 如图/ 2/ 所示/ ,/ 理论/ 上/ 只要/ LED/ 的/ 发散/ 角/ 与/ 在/ 经度/ 上/ 相邻/ 的/ LED/ 之间/ 夹角/ 相同/ ,/ 随着/ 发射/ 角/ 的/ 变化/ 其/ 投射/ 颜色/ 也/ 呈/ 连续/ 变化/ 的/ 趋势/ ,/ 从而/ 使得/ PCSLG/ 的/ 发射/ 角/ α/ p/ 与/ 发射/ 颜色/ 之间/ 成/ 一一对应/ 关系/ ./ 为了/ 提高/ 在/ 纬度/ 方向/ 上/ 颜色/ 分布/ 的/ 均匀度/ ,/ 本文/ 通过/ 电机/ 驱动/ 旋转/ 圆/ 球面体/ 的/ 方式/ 使得/ 在/ 某/ 一/ 纬度/ 上/ 的/ PCSLG/ 的/ 投影/ 颜色/ 是/ 连续/ 和/ 一致/ 的/ ./ 文中/ 设计/ 的/ PCSLG/ 采用/ 50KTYZ/ -/ AC220V6W/ 同步电机/ 来/ 驱动/ 旋转/ 圆/ 球面体/ ,/ 转速/ 为/ 110/ 转/ // min/ ,/ 基本/ 满足/ 经度/ 上/ 的/ 投影/ 颜色/ 连续性/ 要求/ ./ 图/ 2/ 所示/ 的/ 圆/ 球面体/ 基板/ 为/ 内部/ 圆球/ 型/ 中空/ 的/ 球体/ ,/ 在/ 基板/ 上/ 按照/ 经度/ 和/ 纬度/ 以/ 均匀/ 的/ 角度/ 排列/ 着/ 几组/ 不同/ 发光/ 中心/ 波长/ 的/ 超高亮/ 度/ 的/ LED/ 光源/ ,/ 且/ 满足/ 同一/ 纬度/ 上/ 的/ LED/ 具有/ 相同/ 发光/ 中心/ 波长/ 以及/ 每个/ LED/ 的/ 发散/ 角/ 与/ 在/ 经度/ 上/ 相邻/ 的/ LED/ 之间/ 夹角/ 相同/ 等/ 条件/ ,/ 然后/ 通过/ 电机/ 驱动/ 圆/ 球面体/ 旋转/ 以/ 保证/ PCSLG/ 的/ 投影/ 颜色/ 都/ 与/ 发射/ 角/ α/ p/ 之间/ 成/ 一一对应/ 关系/ ./ 2.2/ ./ 2PCSLG/ 的/ 标定/ 在/ 式/ (/ 1/ )/ 中/ 已经/ 阐明/ ,/ 计算/ 全景/ 空间/ 任一/ 物点/ 的/ 深度/ 信息/ 还/ 需要/ 求得/ 该物点/ 对应/ 光源/ 的/ 发射/ 角/ α/ p/ ,/ 由于/ 上述/ 单/ 发射点/ 的/ PCSLG/ 设计/ ,/ 发射/ 角/ α/ p/ 可/ 根据/ 全景图/ 上物点/ 所/ 带/ 的/ 光源/ 颜色/ 信息/ 解析/ 计算/ 得到/ ./ 本节/ 主要/ 讨论/ 发射/ 角/ α/ p/ 与/ 所/ 带/ 光源/ 颜色/ 之间/ 的/ 对应/ 关系/ ./ 全景/ 彩色/ 体/ 结构/ 光/ 发生器/ PCSLG/ 标定/ 就是/ 为了/ 获得/ 实际/ 发射/ 颜色/ 和/ 发射/ 角/ α/ p/ 之间/ 的/ 对应/ 关系/ ,/ 标定/ 的/ 方法/ 是/ 将/ PCSLG/ 安置/ 在/ 一个/ 水平/ 面上/ ,/ 然后/ 将/ PCSLG/ 的/ 光源/ 投射/ 到/ 离/ PCSLG/ 中心/ 轴/ 相距/ 1/ 米/ 的/ 白色/ 垂直/ 平面/ 上/ ,/ 在/ 白色/ 垂直/ 平面/ 上/ 标有/ 刻度/ 值/ ,/ 如图/ 3/ (/ a/ )/ 所示/ ./ 标定/ 的/ 刻度/ 见图/ 3/ (/ a/ )/ ,/ 每个/ 黑色/ 小格/ 为/ 10cm/ ×/ 10cm/ ,/ 每隔/ 10cm/ 取/ 一个/ 标记/ 点/ (/ 图中/ 绿色/ 十字/ 叉/ )/ ,/ 计算/ 得到/ 每个/ 标记/ 点/ 实际/ 的/ 发射/ 角/ ;/ 接着/ 通过/ 摄像/ 装置/ 拍摄/ 白色/ 垂直/ 平面/ 成像/ 的/ 彩色图像/ ,/ 如图/ 3/ (/ b/ )/ 所示/ ./ 为了/ 简化/ 计算/ ,/ 此处/ 不/ 考虑/ 环境光/ 的/ 影响/ ,/ 故/ 实验/ 环境/ 设置/ 在/ 晚上/ ,/ 关闭/ 所有/ 除/ 结构/ 光/ 以外/ 的/ 光源/ ,/ 从而/ 获取/ 标记/ 点/ 的/ 色度/ 值/ ;/ 最后/ 通过/ 彩/ Page5/ 色光/ 的/ 颜色/ 识别/ 以及/ 固有/ 的/ 几何/ 关系/ 计算/ 得到/ 经度/ 方向/ 上/ 发射/ 颜色/ 和/ 发射/ 角/ α/ p/ 之间/ 的/ 对应/ 关系/ 表达式/ ./ 标定/ 过程/ 中需/ 关闭/ 白平衡/ ,/ 并/ 调整/ 摄像机/ 的/ 参数/ ./ 标定/ 的/ 结果/ 如表/ 2/ 所示/ ,/ α/ p/ 是/ 物点/ 对应/ 光源/ 的/ 发射/ 角/ (/ 单位/ :/ (/ °/ )/ )/ ,/ H/ 是/ 物点/ 对应/ 的/ 发射/ 颜色/ 的/ 色度/ 值/ (/ 0/ ~/ 360/ )/ ./ α/ p71/ ./ 268.766/ ./ 363.961/ ./ 659.557/ ./ 4/ 利用/ MatLab/ 工具/ 将/ 上表/ 的/ 数据/ 进行/ 最小/ 二/ 乘法/ 拟合/ ,/ 得到/ 如图/ 4/ 所示/ 的/ 两者/ 的/ 对应/ 关系/ 图/ ,/ 标定/ 结果/ 得到/ 的/ 关系/ 如式/ (/ 2/ )/ 所示/ ./ α/ p/ =/ -/ 1.356/ e/ -/ 08/ ×/ H4/ +/ 9.146/ e/ -/ 06/ ×/ H3/ -/ 0.001/ ×/ H2/ -/ 0.363/ ×/ H/ +/ 1.464/ e/ +/ 02/ (/ 2/ )/ 图/ 4PCSLG/ 的/ 发射/ 颜色/ 与/ 发射/ 角/ 的/ 标定/ 结果/ 2.2/ ./ 3PCSLG/ 光源/ 颜色/ 的/ 识别/ 要/ 使/ 全景/ 空间/ 物点/ 对应/ 的/ 发射/ 角/ α/ p/ 计算/ 准确/ ,/ 必须/ 保证/ PCSLG/ 的/ 发射/ 光/ 颜色/ 识别/ 准确/ ,/ 这/ 就/ 需要/ 选择/ 一种/ 恰当/ 的/ 颜色/ 模型/ ./ 通常/ 有/ 计算/ 颜色/ 模型/ 、/ 视觉/ 颜色/ 模型/ 和/ 工业/ 颜色/ 模型/ 三类/ 颜色/ 模型/ ./ 计算/ 颜色/ 模型/ 多/ 用于/ 颜色/ 的/ 理论/ 研究/ ./ 常见/ 的/ 有/ RGB/ 模型/ 、/ CIELab/ 模型/ 等/ ./ 视觉/ 颜色/ 模型/ 是/ 指/ 与/ 人眼/ 对/ 颜色/ 感知/ 的/ 视觉/ 模型/ 相似/ 的/ 模型/ ,/ 它/ 主要/ 用于/ 色彩/ 的/ 理解/ ,/ 常见/ 的/ 有/ HSI/ 模型/ 、/ HSV/ 模型/ 、/ HSL/ 模型/ ./ 本文/ 在/ 描述/ 空间/ 物点/ 的/ 色彩/ 信息/ 方面/ 采用/ RGB/ 颜色/ 模型/ ,/ 在/ 对/ PCSLG/ 标定/ 及/ 对/ PCSLG/ 的/ 发射/ 光/ 颜色/ 识别/ 方面/ 采用/ HSI/ 颜色/ 模型/ ,/ 据/ 本文/ 作者/ 的/ 另外/ 一项/ 研究/ 结果表明/ 若想/ 使得/ 空间/ 分色/ 算法/ 具有/ 较/ 高/ 识别率/ ,/ 那么/ 使用/ HIS/ 模型/ 具有/ 较/ 好/ 的/ 效果/ ./ HSI/ 模型/ 描述/ 了/ 3/ 个/ 基本特征/ :/ 色调/ H/ 、/ 饱和度/ S/ 、/ 亮度/ I/ ./ 其中/ ,/ 色调/ 和/ 饱和度/ 合/ 称为/ 色度/ ,/ 色度/ 可以/ 表示/ 颜色/ 的/ 类别/ 与/ 深浅/ ./ 通过/ 应用/ HIS/ 模型/ ,/ 计算机/ 视觉/ 领域/ 的/ 大量/ 算法/ 能/ 方便/ 地/ 分开/ 、/ 相互/ 独立/ 地/ 处理/ ,/ 可以/ 大大简化/ 图像/ 分析/ 和/ 处理/ 的/ 工作量/ ,/ 用/ H/ 色调/ 分量/ 来/ 表示/ PCSLG/ 发射/ 光/ 的/ 颜色/ ,/ 受/ 其他/ 干扰/ 的/ 影响/ 较/ 小/ ./ PCSLG/ 发射/ 颜色/ 的/ 识别/ 受到/ 自然光/ 引起/ 的/ 饱和/ 现象/ 、/ 光源/ 自身/ 的/ 饱和/ 现象/ 、/ 物体/ 的/ 固有/ 色/ 及其/ 表面/ 属性/ 等/ 因素/ 的/ 影响/ ./ 需要/ 通过/ 对/ ODVS/ 和/ PCSLG/ 进行/ 色度/ 标定/ ,/ 修正/ 并/ 估计/ 耦合/ 性/ 差异/ 对/ 光源/ 颜色/ 识别/ 的/ 影响/ ;/ 通过/ 对/ 物体/ 表面/ 光谱/ 反射率/ 的/ 估计/ ,/ 修正/ 物体/ 固有/ 色/ 对/ PCSLG/ 光源/ 颜色/ 的/ 影响/ ;/ 通过/ 分离/ 镜面反射/ 成分/ 和/ 漫反射/ 成分/ 来/ 修正/ 高光/ 对/ PCSLG/ 光源/ 颜色/ 的/ 影响/ ./ 目前/ 本文/ 的/ 实验/ 研究/ 只/ 考虑/ 在/ 较/ 黑暗/ 的/ 环境/ 中/ 进行/ ,/ 基本上/ 排除/ 了/ 物体/ 的/ 固有/ 色/ 、/ 环境/ 自然光/ 和/ 镜面反射/ 的/ 干扰/ ./ 这里/ 利用/ HSI/ 颜色/ 模型/ 中/ 的/ 色度/ 分量/ 进行/ 颜色/ 识别/ ,/ 因为/ 实验/ 中/ 发现/ ,/ 如果/ 有/ 环境光/ 的/ 影响/ ,/ 亮度/ 和/ 饱和度/ 变化/ 较大/ ,/ 色度/ 变化/ 相对/ 较/ 小/ ,/ 故/ 基于/ 色度/ 的/ 判断/ 能/ 很/ 好/ 地/ 表示/ 颜色/ 的/ 类别/ ./ 但/ 在/ 实际/ 颜色/ 测量/ 过程/ 中/ 除了/ 受到/ 环境/ 自然光/ 干扰/ 外/ ,/ 还/ 受到/ 物体/ 的/ 固有/ 色/ 和/ 镜面反射/ 的/ 干扰/ ,/ 为了/ 排除/ 这些/ 干扰/ 的/ 影响/ 需要/ 采用/ 基于/ 双色/ 反射/ 模型/ 的/ 投射/ 光/ 颜色/ 修正/ 模型/ 进行/ 修正/ ;/ 颜色/ 修正/ 算法/ 框图/ 如图/ 5/ 所示/ ,/ 由于/ 篇幅/ 限制/ ,/ 关于/ 实现/ 方法/ 和/ 实验/ 结果/ 请/ 参考文献/ [/ 22/ ]/ ./ 2.3/ 主动式/ 全景/ 立体/ 视觉/ 的/ 具体/ 实现/ ASODVS/ 的/ 设计/ 在/ 前面/ 章节/ 中/ 已经/ 提到/ ,/ 如图/ 1/ 所示/ ,/ 将/ ODVS/ 与/ PCSLG/ 在/ 垂直/ 方向/ 上以/ 适合/ 的/ 距离/ 用/ 连接件/ 进行/ 固定/ ,/ 在/ 装配/ 时/ 保证/ ODVS/ 与/ PCSLG/ 的/ 轴心/ 线/ 重叠/ 以/ 得到/ 一个/ ASODVS/ ./ ODVS/ 的/ VFOV/ 和/ PCSLG/ 的/ VFOV/ 共同/ 作用/ 的/ Page6/ 区域/ 就是/ ASODVS/ 的/ 立体/ 视觉/ 范围/ ./ 一般来说/ ,/ 为了/ 得到/ 更大/ 的/ 立体/ 视觉/ 范围/ 和/ 更/ 高/ 的/ 检测/ 精度/ ,/ 设计/ 时/ 需要/ 尽可能/ 有效/ 使用/ ODVS/ 的/ VFOV/ 和/ 尽可能/ 增大/ 基线/ 距/ (/ ODVS/ 的/ 单/ 视点/ 到/ PCSLG/ 的/ 单/ 发射点/ 之间/ 的/ 距离/ )/ ,/ 然后/ 根据上述/ 约束条件/ 设计/ PCSLG/ 的/ VFOV/ ./ ASODVS/ 的/ 立体/ 成像/ 原理/ 如图/ 1/ 所示/ ,/ ODVS/ 与/ PCSLG/ 的/ 轴心/ 线/ 重叠/ 结构/ 方式/ 能/ 保证/ PCSLG/ 某一/ 波长/ 光/ 的/ 发射/ 与/ 在/ ODVS/ 上/ 的/ 折/ 反射/ 光线/ 处于/ 同一/ 极/ 平面/ 上/ ,/ 这种/ 设计/ 方式/ 使得/ 立体/ 视觉/ 中/ 的/ 极线/ 匹配/ 问题/ 得以/ 简化/ ./ 本文/ 建立/ 的/ 高斯/ 坐标系/ 的/ 坐标/ 原点/ 是/ 在/ ODVS/ 的/ 单/ 视点/ 与/ PCSLG/ 的/ 单/ 发射点/ 连线/ 的/ 中点/ ,/ 我们/ 称该/ 点/ 为/ 中央/ 眼/ (/ CentralEye/ )/ ,/ 这样/ 任意/ 空间/ 物点/ A/ 的/ 空间/ 、/ 色彩/ 、/ 时间/ 等/ 信息/ 都/ 能/ 以/ 中央/ 眼为/ 观察点/ 中心/ ,/ 从而/ 用/ 深度/ 、/ 入射角/ 、/ 方位角/ 、/ 色彩/ 和/ 时间/ (/ R/ ,/ φ/ ,/ β/ ,/ r/ ,/ g/ ,/ b/ ,/ t/ )/ 7/ 个/ 参变量/ 来/ 表示/ ,/ 在/ 基线/ 距/ B/ 确定/ 的/ 情况/ 下/ ,/ 物点/ 的/ 深度/ 信息/ 可以/ 由/ 三角测量/ 原理/ 计算/ 得到/ ,/ 其/ 公式/ 可以/ 用式/ (/ 1/ )/ 表示/ ,/ 空间/ 物点/ 相对/ 于/ 中央/ 眼/ 的/ 入射角/ φ/ 用式/ (/ 3/ )/ 表示/ 为了/ 获得/ 成像/ 点/ 的/ 实际/ 色彩/ (/ r/ ,/ g/ ,/ b/ )/ 信息/ ,/ 在/ 设计/ ASODVS/ 中/ 采用/ 分/ 时/ 控制技术/ ,/ 即/ 通过/ 控制/ LED/ 光源/ 的/ 供电/ 来/ 控制/ PCSLG/ 的/ 发光/ ./ 当/ 结构/ 光/ ON/ 时/ ,/ 计算/ 获得/ 空间/ 某物/ 点/ 的/ 深度/ R/ 、/ 空间/ 物点/ 相对/ 于/ 中央/ 眼/ 的/ 入射角/ 度/ φ/ 和/ 方位/ 角度/ β/ 信息/ ./ 当/ 结构/ 光/ OFF/ 时/ ,/ 获取/ 物点/ 的/ 色彩/ 信息/ (/ r/ ,/ g/ ,/ b/ )/ ./ 在/ 各个/ 变量/ 中/ ,/ 时间/ 信息/ t/ 是/ 由/ 微处理器/ 确定/ 的/ ./ 通过/ 这种/ 方式/ ,/ 能/ 实现/ 在/ ASODVS/ 中/ 获得/ 与/ 实际/ 物体/ 一一对应/ 的/ 景物/ 深度/ 和/ 色彩/ 对应/ 图/ 的/ 设计/ 目标/ ./ 为了/ 验证/ ASODVS/ 的/ 设计/ 思想/ ,/ 本文/ 分别/ 开发/ 和/ 选择/ 了/ 一种/ 视场/ 范围/ 为/ 240/ °/ ×/ 360/ °/ 的/ 具有/ 单/ 视点/ 的/ ODVS/ (/ 图/ 6/ (/ a/ )/ 所示/ )/ 和/ 一种/ 发射/ 范围/ 为/ 240/ °/ ×/ 360/ °/ 的/ 具有/ 单/ 发射点/ 的/ PCSLG/ (/ 图/ 6/ (/ b/ )/ 所示/ )/ ./ ODVS/ 中/ 的/ 成像/ 器件/ 选择/ 了/ 分辨率/ 为/ 640/ ×/ 480/ 像素/ 、/ USB/ 接口/ 的/ 数字式/ 摄像头/ ;/ ODVS/ 通过/ USB/ 接口/ 与/ PC机/ 进行/ 连接/ ,/ 通过/ PC机/ 中/ 的/ 软件/ 读取/ ODVS/ 所/ 拍摄/ 的/ 全景/ 视频/ 数据/ ,/ 并/ 对/ 全景/ 图像/ 数据/ 进行/ 图像处理/ ./ ODVS/ 通过/ 4/ 根/ 支撑杆/ 与/ PCSLG/ 进行/ 垂直/ 固定/ 连接/ ,/ 并/ 保证/ ODVS/ 的/ 轴心/ 线/ 与/ PCSLG/ 的/ 轴心/ 线/ 重叠/ ./ 对于/ PCSLG/ 的/ 实现/ ,/ 在/ LED/ 的/ 选取/ 上/ ,/ 基于/ 经度/ 方向/ 上/ 发射/ 颜色/ 连续/ 变化/ 的/ 原则/ ,/ 本文/ 采用/ 功率/ 为/ 3W/ 的/ 红色/ 、/ 绿色/ 、/ 蓝色/ 和/ 橙色/ 4/ 种/ LED/ 光源/ ,/ 基本/ 可/ 满足/ 1m/ ~/ 5m/ 的/ 三维/ 立体/ 测量/ ./ 由于/ 不同/ 纬度/ LED/ 具有/ 色光/ 混合/ 区域/ 以及/ ODVS/ 的/ 成像/ 特性/ ,/ 采用/ 了/ 如图/ 7/ 所示/ 的/ LED/ 排列/ 方式/ ./ 本文/ 设计/ 的/ 彩色/ 体/ 结构/ 光/ 从/ 北纬/ 到/ 南纬/ 依次/ 是/ 红色/ (/ 2/ 号/ )/ 、/ 蓝色/ (/ 3/ 号/ )/ 、/ 绿色/ (/ 4/ 号/ )/ 、/ 橙色/ (/ 5/ 号/ )/ ,/ 遵循/ 波长/ 单调/ 变化/ 的/ 原则/ ,/ 利于/ 实现/ 物点/ 对应/ 光源/ 的/ 发射/ 角/ 与/ 发射/ 颜色/ 的/ 一一对应/ ,/ 便于/ 后续/ 的/ 深度/ 检测/ 计算/ ./ 3/ 全景/ 空间/ 物点/ 的/ 深度/ 计算/ 与/ 表达/ 3.1/ 全景/ 图像/ 中/ 的/ 三维/ 立体/ 检测/ 针对/ 全景/ 图像/ 中/ 的/ 三维/ 立体/ 信息/ 的/ 检测/ ,/ 本文/ 设计/ 了/ 一种/ 适应/ 于/ 全景/ 视觉/ 的/ 三维/ 立体/ 检测/ 算法/ ./ 算法/ 的/ 设计/ 思路/ 是/ 在/ 极坐标/ 中/ 对/ 全部/ 像素点/ 进行/ 遍历/ ,/ 如图/ 8/ (/ a/ )/ 所示/ ,/ 全景/ 图像/ 的/ 中心/ O/ 为/ 极/ 坐标系/ 的/ 原点/ ,/ 从/ O/ 点/ 引出/ 一条/ 射线/ OX/ ,/ 像素点/ 的/ 遍历/ 就是/ 沿着/ 射线/ OX/ 进行/ 的/ ,/ 各/ 像素点/ 的/ 颜色/ 是/ 通过/ 估算/ PCSLG/ 的/ 发射/ 角/ α/ p/ 实现/ 的/ ;/ 接着/ 根据/ ODVS/ 的/ 标定/ 结果/ 求得/ 不同/ 半径/ 上/ 的/ 像素/ 对应/ 于/ 空间/ 物点/ 的/ 入射角/ α/ 0/ ;/ 然后/ 用式/ (/ 1/ )/ 计算/ 该/ 像素点/ 上/ 成像/ 物点/ 的/ 深度/ 值/ R/ ,/ 用式/ (/ 3/ )/ 计算/ 该/ 像素点/ 上/ 成像/ 物点/ 的/ 相对/ 于/ 中央/ 眼/ 的/ 入射角/ φ/ ,/ 用/ 全景图/ 上该/ 像素点/ 上/ 成像/ 物点/ 的/ 方位角/ 来/ 设定/ 方位/ 角度/ β/ 信息/ ;/ 接着/ 以/ 中心点/ O/ 为/ 旋转/ 中心/ 从/ 极坐标/ 0/ °/ ~/ 360/ °/ 以/ 一定/ 的/ 角度/ 步长/ 值/ 顺时针/ 方向/ 旋转/ 射线/ OX/ 遍历/ 整个/ 全景/ 图像/ ,/ 求得/ 整个/ 全景/ 图像/ 上/ 所有/ 成像/ 物点/ 的/ 深度/ 值/ R/ 、/ Page7/ 对应/ 于/ 空间/ 物点/ 的/ 入射角/ φ/ 和/ 方位角/ β/ ./ 其中/ 在/ 极线/ 方向/ 上/ 的/ 色度/ 值/ 变化趋势/ 是/ 大致/ 单调/ 的/ ,/ 如图/ 8/ (/ b/ )/ 所示/ ./ 算法/ 具体/ 实现/ 步骤/ 如下/ :/ 算法/ 1/ ./ 三维/ 立体/ 检测/ ./ 1/ ./ 读取/ 全景/ 图像/ 后/ ,/ 以/ 其/ 中心点/ O/ 作为/ 极/ 坐标系/ 的/ 原点/ ,/ 从/ O/ 点/ 引出/ 一条/ 射线/ OX/ 作为/ 极轴/ ;/ 方位/ 角度/ β/ 作为/ 极角/ 、/ 外径/ Ro/ 作为/ 极线/ 长度/ ;/ 极角/ β/ 初始值/ 为/ 0/ °/ ;/ 2/ ./ 遍历/ 是从/ 极线/ 与/ 内径/ Ri/ 相交处/ 开始/ 的/ ,/ ρ/ =/ Ri/ ;/ 3/ ./ 根据/ 图/ 8/ 所示/ 的/ PCSLG/ 标定/ 结果/ ,/ 解析/ 像素点/ 的/ 颜色/ 信息/ ,/ 利用/ 式/ (/ 8/ )/ 估算/ PCSLG/ 的/ 发射/ 角/ α/ p/ ,/ 接着/ 根据/ ODVS/ 的/ 标定/ 结果/ 和/ 像素点/ 的/ 坐标值/ 求得/ 对应/ 于/ 空间/ 物点/ 的/ 入射角/ α/ 0/ ,/ 用式/ (/ 1/ )/ 计算/ 该/ 像素点/ 上/ 成像/ 物点/ 的/ 深度/ 值/ R/ ,/ 用式/ (/ 3/ )/ 计算/ 该/ 像素点/ 上/ 成像/ 物点/ 的/ 相对/ 于/ 中央/ 眼/ 的/ 入射角/ φ/ ,/ 用极角/ β/ 作为/ 物点/ 的/ 方位角/ ,/ 保存/ 计算/ 数据/ ;/ 4/ ./ 沿着/ OX/ 的/ 方向/ 获得/ 相邻/ 像素点/ 的/ 坐标/ 和/ 颜色/ ,/ ρ/ =/ ρ/ +/ Δ/ ρ/ ,/ 判断/ 该/ 像素点/ 的/ 位置/ 是否/ 满足/ ρ/ / Ro/ ;/ 5/ ./ 如果/ 上述/ 条件/ 不/ 成立/ ,/ 跳转/ 到步/ 3/ ;/ 否则/ 计算/ β/ =/ β/ +/ Δ/ β/ ,/ 接着/ 判断/ β/ / 360/ °/ 是否/ 成立/ ,/ 当/ 条件/ 成立/ 时/ 检测/ 就/ 结束/ ;/ 否则/ 就/ 跳转/ 到步/ 2.3/ ./ 2/ 全景/ 空间/ 物点/ 深度/ 信息/ 的/ 表达/ ASODVS/ 的/ 三维/ 全景/ 测量/ 结果/ 的/ 形象/ 直观/ 表达/ 有助于/ 观察/ 、/ 模拟/ 和/ 计算/ 等/ 各种/ 应用/ ,/ 本文/ 采用/ 科学/ 可视化/ 中/ 的/ 伪/ 彩色/ 图/ 技术/ ./ 在/ 生成/ 伪/ 彩色/ 图/ 的/ 过程/ 中/ ,/ 需要/ 注意/ 以下/ 两个/ 方面/ :/ (/ 1/ )/ 研究/ 合适/ 的/ 伪/ 彩色/ 编码/ ,/ 实现/ 更/ 符合/ 人眼/ 感知/ 的/ 伪/ 彩色/ 编码方法/ ,/ 最终/ 达到/ 伪/ 彩色图像/ 的/ 实用/ 感/ 和/ 美感/ 的/ 统一/ ;/ (/ 2/ )/ 研究/ 深度/ 信息/ 与/ 颜色/ 编码/ 之间/ 的/ 映射/ 关系/ ./ 由于/ 人/ 的/ 视觉/ 对/ 不同/ 亮度/ 、/ 色度/ 和/ 饱和度/ 相当/ 敏感/ ./ 如何/ 实现/ 亮度/ 、/ 色度/ 、/ 饱和度/ 与/ 深度/ 的/ 均匀/ 变化/ 是/ 一项/ 关键技术/ ,/ 正确/ 的/ 映射/ 关系/ 可以/ 达到/ 直观/ 清晰/ 地/ 表现/ 场景/ 深度/ 的/ 分布/ 信息/ ./ 这里/ 选用/ 了/ 一种/ 色度/ 色标/ ,/ 原理/ 同色相/ 环/ 一样/ ,/ 色调/ 值/ 呈/ 单调/ 变化/ ,/ 色标/ 图如图/ 9/ 所示/ ./ 色度/ 是/ 色彩/ 的/ 相貌/ ,/ 是/ 区分/ 彩色/ 的/ 重要/ 属性/ ,/ 适合/ 人眼/ 视觉/ 感知/ 特性/ ./ 本文/ 通过/ 深度/ 信息/ 与/ 色标/ 图中/ 颜色/ 的/ 一一/ 映射/ 关系/ 生成/ 深度/ 信息/ 对应/ 的/ 伪/ 彩色图像/ ./ 上述/ 算法/ 中/ Δ/ ρ/ 和/ Δ/ β/ 分别/ 为/ 极线/ 和/ 极角/ 计算/ 步长/ ,/ 计算/ 步长/ 的/ 选取/ 以/ 全景/ 图像/ 的/ 中径/ 处/ ,/ 即/ Rm/ =/ (/ Ri/ +/ Ro/ )/ // 2/ 处/ 的/ 一个/ 像素/ 单位/ ./ 另外/ ,/ 在/ 验证/ 系统/ 实验/ 数据/ 时/ ,/ 还/ 对/ 已知/ 实验/ 场景/ 进行/ 了/ 三维/ 点云/ 的/ 重建/ ./ 生成/ 室内环境/ 三维/ 点云/ 的/ 关键在于/ 得到/ 空间/ 物点/ 的/ 三维/ 坐标/ ,/ 设/ 空间/ 物点/ 为/ C/ (/ x/ ,/ y/ ,/ z/ )/ ,/ 该点/ 的/ 深度/ 值为/ R/ (/ 即物点/ 到/ 中央/ 眼/ 的/ 距离/ 为/ R/ )/ ,/ φ/ 称为/ 该点/ 的/ 空间/ 方位角/ ,/ β/ 称为/ 点/ C/ 在/ 全方位/ 图像/ 上/ 的/ 极角/ ./ 空间/ 物点/ 三维/ 坐标/ 如图/ 10/ 所示/ ,/ C/ 点/ 的/ 三维/ 坐标/ 可/ 由/ 以下/ 公式/ 求得/ 上述/ 公式/ 中/ 的/ 极角/ β/ 可以/ 在/ 全方位/ 图像/ 上/ 由/ 简单/ 几何/ 关系/ 求得/ ;/ 而/ 空间/ 方位角/ φ/ 可由式/ (/ 3/ )/ 求得/ ./ 得到/ 空间/ 三维/ 坐标/ 后/ ,/ 利用/ OpenGL/ 进行/ 三维/ 点云/ 的/ 重建/ ,/ 详细/ 实现/ 这里/ 不/ 作/ 赘述/ ./ 4/ 实验/ 研究/ 为了/ 验证/ ASODVS/ 全景/ 检测/ 系统/ 的/ 有效性/ ,/ 实验设计/ 如下/ ./ 平面/ 布局/ 图如图/ 11/ 所示/ ,/ 实验/ 环境/ 概况/ 如图/ 12/ 所示/ ./ Page8/ 本文/ 设计/ 的/ ASODVS/ 基线/ 距为/ 71.6/ cm/ ./ 实验/ 前/ ,/ 首先/ 将/ ASODVS/ 放置/ 在/ 实验/ 环境/ 内约/ 中心/ 位置/ 并/ 离/ 地面/ 高度/ 42cm/ 的/ 平台/ 上/ ,/ 在/ 装置/ 周围/ ,/ 以/ 中央/ 眼为/ 中心/ ,/ 在/ 6/ 个/ 极线/ 方向/ 上/ 分别/ 设置/ 障碍物/ ,/ 离/ 中央/ 眼/ 的/ 垂直距离/ 分别/ 为/ 50cm/ 、/ 100cm/ 、/ 130cm/ 、/ 150cm/ 、/ 180cm/ 、/ 200cm/ ,/ 平面图/ 如图/ 11/ 所示/ ;/ 然后/ 将/ ASODVS/ 的/ 图像/ 采集/ 的/ 分辨率/ 设置/ 为/ 640/ ×/ 480/ 像素/ ;/ 为了/ 进行/ 有效/ 的/ 实验/ 数据/ 的/ 采集/ ,/ 实验/ 前/ 关闭/ ASODVS/ 自动/ 白平衡/ 功能/ ./ 在/ 控制/ ASODVS/ 的/ 色彩/ 输出/ 方面/ ,/ 我们/ 通过/ 控制/ PCSLG/ 电源/ 的/ 开关/ 来/ 实现/ 全景/ 彩色/ 体/ 结构/ 光/ 的/ 发射/ 与/ 不/ 发射/ ;/ PC机/ 分别/ 对/ 在/ 仅/ ASODVS/ 发射/ 光/ 照射/ 情况/ 下/ 以及/ 仅/ 在/ 日光灯/ 照射/ 情况/ 下/ 所/ 获取/ 的/ 全景/ 图像/ 分别/ 进行/ 图像处理/ ;/ 在/ 仅/ PCSLG/ 发射/ 光/ 照射/ 情况/ 下/ ,/ 如图/ 13/ (/ a/ )/ ,/ 检测/ 系统/ 主要/ 进行/ 预处理/ 、/ 入射角/ 计算/ 、/ 投射/ 角/ 与/ 颜色/ 的/ 相互/ 匹配/ 、/ 物点/ 深度/ 信息/ 的/ 计算/ 等/ ;/ 在/ 日光/ 灯光/ 照射/ 情况/ 下/ ,/ 如图/ 13/ (/ b/ )/ 所示/ ,/ 检测/ 系统/ 主要/ 用于/ 获得/ 全景/ 图像/ 中/ 各物点/ 自身/ 的/ 颜色/ 信息/ ./ 为了/ 避免/ 物体/ 固有/ 色/ 的/ 影响/ ,/ 实验/ 环境/ 中/ 的/ 各/ 障碍物/ 的/ 颜色/ 均/ 为/ 白色/ 或/ 接近/ 于/ 白色/ ./ 物体/ 固有/ 色/ 的/ 研究/ 以及/ 环境光/ 的/ 影响/ 是/ 今后/ 研究/ 的/ 重点/ ./ 检测/ 系统/ 采用/ JAVA/ 语言/ 开发/ 并/ 运行/ 于/ WindowsXP/ 操作系统/ ./ 图/ 13/ 在/ 不同/ 光照/ 条件/ 下/ ASODVS/ 拍摄/ 的/ 全景/ 图像/ 在/ 对/ 空间/ 物点/ 距离/ 测量/ 的/ 实验/ 验证/ 中/ ,/ 本文/ 在/ 被/ 测/ 场景/ 中/ 选取/ 了/ 6/ 个/ 极线/ 方向/ ,/ 在/ 每个/ 极线/ 方向/ 上/ 分别/ 每隔/ 10cm/ 选取/ 被/ 测物点/ ./ 以图/ 13/ 中/ 的/ 10/ ×/ 10/ 黑色/ 方块/ 作为/ 标识/ ,/ 每次/ 选取/ 黑色/ 方块/ 的/ 角点/ 作为/ 标识/ 点/ ,/ 如图/ 中/ 绿色/ 十字/ 所示/ ,/ 图中/ 被/ 测物点/ 均/ 设置/ 在/ ASODVS/ 发射/ 光/ 的/ 有效/ 照射/ 区域/ 内/ ./ 本文/ 在/ 有效/ 测距/ 范围/ 内/ ,/ 来/ 验证/ ASODVS/ 的/ 检测/ 精度/ ,/ 实验/ 中/ 选取/ 6/ 个/ 极线/ 方向/ 上/ 的/ 一些/ 测量点/ 做/ 如表/ 3/ 的/ 统计/ ./ 对表/ 3/ 测量/ 结果/ 进行/ 统计/ ,/ 得到/ 平均误差/ 为/ 2.08/ %/ ,/ 对/ 上述/ 被/ 测物点/ 的/ 误差/ 统计/ 如图/ 14/ 所示/ ./ 图/ 14/ 实际/ 深度/ 值/ 与/ 深度/ 估计值/ 的/ 误差/ 关系/ 曲线/ Page9/ 实际/ 深度/ // cm/ 色度/ 值/ H/ 入射角/ α/ o/ // (/ °/ )/ 投射/ 角/ α/ p/ // (/ °/ )/ 深度/ 估计/ // cm/ 绝对误差/ 误差率/ // %/ 表/ 3/ 空间/ 物点/ 的/ 测量/ 结果/ 68.062/ ./ 056.052/ ./ 050.049/ ./ 051.0121/ ./ 0116.0116/ ./ 0107.0106/ ./ 0101.5100/ ./ 5158.0152/ ./ 0139.0137/ ./ 0145.0148/ ./ 0154.0156/ ./ 0153.0151/ ./ 0148.0149/ ./ 0166.5170/ ./ 0197.0192/ ./ 0189.0181/ ./ 0180.0179/ ./ 0185.0178/ ./ 5216.0207/ ./ 0197.0198/ ./ 0199.0203/ ./ 0208.053/ ./ 9053.4055/ ./ 1758.8370/ ./ 4377.3588/ ./ 2256.2360/ ./ 4263.9368/ ./ 0070.8675/ ./ 5481.2846/ ./ 0446.5460/ ./ 2764.1071/ ./ 0889.2491/ ./ 6852.3753/ ./ 2463.6166/ ./ 3375.5487/ ./ 8889.9351/ ./ 0963.1364/ ./ 2667.0668/ ./ 9982.1790/ ./ 2785.5965/ ./ 2765.7971/ ./ 5175.7978/ ./ 1678.4495/ ./ 69/ 对/ 实验/ 进行/ 分析/ ,/ 误差/ 来源/ 主要/ 有/ 以下/ 几个/ 方面/ :/ (/ 1/ )/ 入射角/ 的/ 计算误差/ ./ 本文/ 采用/ 的/ ODVS/ 虽然/ 经过/ 标定/ ,/ 但/ 难免会/ 带入/ 一些/ 的/ 标定/ 误差/ ,/ 而且/ 入射角/ 也/ 存在/ 最小/ 分辨率/ 误差/ ./ (/ 2/ )/ 发射/ 角/ 的/ 计算误差/ ./ 本文/ 的/ 全景/ 彩色/ 体/ 结构/ 光/ 发生器/ 在/ 使用/ 前/ 也/ 经过/ 标定/ ,/ 但/ 在/ 工艺制作/ 上/ 不能/ 保证/ 同一/ 颜色/ 的/ LED/ 都/ 在/ 同一/ 纬度/ 上/ ,/ 由于/ 制造/ 原因/ 不同/ 方位角/ 的/ 色调/ 和/ 发射/ 角/ 的/ 对应/ 关系/ 不能/ 保证/ 严格/ 一致/ ./ 的/ 计算/ 过程/ 中/ 带来/ 结构/ 误差/ ./ (/ 3/ )/ ODVS/ 和/ PCSLG/ 的/ 轴心/ 线/ 偏离/ ,/ 使得/ 式/ (/ 1/ )/ 针对/ 以上/ 几个/ 误差/ 来源/ ,/ 后续/ 研究/ 可以/ 通过/ 以下/ 方法/ 来/ 提高/ 深度/ 计算/ 的/ 精度/ :/ 对/ 入射角/ 进行/ 补偿/ ./ 在/ 软件/ 处理程序/ 算法/ 中/ ./ (/ 1/ )/ 采用/ 低噪声/ 设备/ ,/ 或者/ 是/ 将/ 硬件/ 噪声/ 考虑/ (/ 2/ )/ 对/ 全方位/ 视觉/ 传感器/ 标定/ 算法/ 进行/ 改进/ ,/ (/ 3/ )/ 改进/ 全景/ 彩色/ 体/ 结构/ 光/ PCSLG/ 制作/ 工艺/ ,/ 使/ 在/ 经度/ 方向/ 上/ 的/ 颜色/ 与/ 投射/ 角能/ 呈现/ 严格/ 的/ 一一对应/ 关系/ ,/ 从而/ 提高/ 投射/ 角/ 的/ 精度/ ./ 为了/ 更加/ 直观/ 、/ 形象/ 地/ 表现/ 三维/ 全景/ 测量/ 的/ 深度/ 信息/ ,/ 选取/ 了/ 图/ 9/ 所示/ 的/ 色标/ 卡来/ 映射/ 深度/ 信息/ ,/ 因/ 其/ 颜色/ 较/ 丰富/ ,/ 能/ 很/ 好/ 的/ 反应/ 深度/ 的/ 层次感/ ,/ 图/ 15/ (/ a/ )/ 是/ 在/ 晚间/ 无/ 照明/ 情况/ 下/ 采集/ 的/ 带有/ 结构/ 光/ 的/ 全景图/ ,/ 图/ 15/ (/ b/ )/ 是/ 其/ 对应/ 的/ Bird/ -/ view/ 变换/ 图/ ,/ Page10/ 图/ 15/ (/ c/ )/ 是/ 图/ 15/ (/ a/ )/ 对应/ 的/ 伪/ 彩色/ 图/ ,/ 图/ 15/ (/ d/ )/ 是/ 图/ 15/ (/ c/ )/ 对应/ 的/ Bird/ -/ view/ 图/ ,/ 能/ 较/ 好/ 的/ 反应/ 系统/ 测量深度/ 的/ 有效性/ ./ 关于/ Bird/ -/ view/ 图/ 的/ 生成/ 算法/ 不是/ 本文/ 的/ 研究/ 重点/ ,/ 这里/ 不再/ 赘述/ ./ 图/ 15/ 伪/ 彩色/ 全景/ 图像/ 及/ Bird/ -/ view/ 变换/ 图像/ 此外/ ,/ 为/ 更进一步/ 地/ 验证/ 获取/ 的/ 深度/ 信息/ 准确性/ ,/ 这里/ 利用/ 了/ 3.2/ 节中/ 所述/ 的/ 重建/ 空间/ 三维/ 点云/ 的/ 方法/ 来/ 形象/ 直观/ 地/ 表现/ 深度/ 信息/ ./ 如图/ 16/ 所示/ ,/ 从中/ 可以/ 看出/ 场景/ 的/ 轮廓/ 信息/ ,/ 图中/ 三维/ 点/ 云图/ 有/ 一定/ 程度/ 的/ 旋转/ ./ 从图/ 中/ 可以/ 看出/ ,/ 虽然/ 测量深度/ 存在/ 着/ 一些/ 误差/ ,/ 但是/ 结果/ 是/ 与/ 实际/ 三维空间/ 完全/ 吻合/ 的/ ./ 5/ 讨论/ 与/ 总结/ 实验/ 研究/ 表明/ ,/ 本文/ 研制/ 的/ ASODVS/ 根据/ 全景/ 图像/ 上/ 各/ 像素/ 的/ 颜色/ 信息/ ,/ 通过/ 颜色/ 识别/ 算法/ 以及/ ODVS/ 和/ PCSLG/ 的/ 几何/ 关系/ 推断/ PCSLG/ 的/ 发射/ 角/ 并/ 估算/ 全景/ 空间/ 物点/ 的/ 深度/ 值/ ,/ 其/ 具有/ 较/ 好/ 的/ 测量/ 精度/ 和/ 检测/ 的/ 实时性/ ./ 基本上/ 实现/ 了/ 设计/ 的/ 目标/ ,/ 能/ 实时/ 获取/ 与/ 实际/ 物体/ 相对/ 应/ 的/ 深度/ 信息/ 和/ 色彩/ 图像/ 信息/ ,/ 使得/ 在/ ODVS/ 上/ 成像/ 的/ 各/ 像素/ 本身/ 具有/ 所/ 对应物/ 点/ 的/ 深度/ 和/ 色彩/ 信息/ ./ 本文/ 的/ 特色/ 与/ 创新/ 之/ 处/ 主要/ 体现/ 在/ :/ (/ 1/ )/ 把/ PCSLG/ 看成/ 是/ 逆向/ 的/ ODVS/ ,/ 通过/ 单/ 发射点/ 的/ PCSLG/ 全景/ 彩色/ 体/ 结构/ 光/ 发生/ 技术/ 和/ 单/ 视点/ 的/ ODVS/ 成像/ 技术/ 的/ 组合/ 实现/ 了/ 一种/ 全新/ 的/ 全景/ 立体/ 视觉/ 获取/ 方法/ ./ Page11/ (/ 2/ )/ 以/ 观察者/ 为/ 中心/ 来/ 获取/ 实时/ 全景/ 视频/ 图像/ ,/ 能/ 有效/ 减小/ 被/ 监控/ 物体/ 丢失/ 的/ 概率/ ;/ 大/ 仰角/ 双曲面/ 镜/ 和/ 大/ 发射/ 范围/ 彩色/ 体/ 结构/ 光/ 的/ 应用/ ,/ 解决/ 了/ 大/ 范围/ 空间/ 内/ 移动/ 物体/ 的/ 实时/ 跟踪/ 理论/ 和/ 模型/ 问题/ ,/ 能为/ 移动机器人/ 快速/ 避障/ 提供/ 全景/ 视觉/ 解决方案/ ./ (/ 3/ )/ 将/ 立体/ 测量/ 从/ 繁琐/ 的/ 标定/ 、/ 特征提取/ 等/ 步骤/ 中/ 解放出来/ ,/ 使得/ 全景/ 立体/ 摄像/ 测量/ 更加/ 便利/ 和/ 快捷/ ./ (/ 4/ )/ “/ 以/ 观察者/ 为/ 中心/ ”/ 的/ 高斯/ 球面/ 坐标/ 和/ 数学/ 几何/ 计算方法/ 的/ 应用/ 使得/ 三维/ 场景/ 重构/ 和/ 空间/ 环境/ 的/ 三维/ 测量/ 更/ 容易/ 实现/ ./ 在/ 今后/ 研究/ 中/ 还有/ 许多/ 问题/ 需要/ 一一/ 解决/ ./ 首先/ ,/ 目前/ 实验/ 研究/ 中/ 并/ 没有/ 深入研究/ 在/ 全景/ 视觉/ 情况/ 下/ 物体/ 的/ 固有/ 颜色/ 、/ 环境/ 自然光/ 和/ 镜面反射/ 的/ 情况/ ,/ 今后/ 的/ 实验/ 研究/ 需要/ 解决/ 全景/ 视觉/ 情况/ 下/ 的/ 物体/ 的/ 固有/ 色/ 、/ 条件/ 色/ 和/ 光源/ 颜色/ 的/ 快速/ 区分/ 问题/ ,/ 即/ 通过/ 引入/ 基于/ 双色/ 反射/ 模型/ 的/ 投射/ 光/ 颜色/ 修正/ 模型/ 进行/ 修正/ ,/ 具体/ 实现/ 时/ 需要/ 在/ 三维/ 立体/ 检测/ 算法/ 的/ 步/ 3/ 中/ 增加/ 修正/ 模型/ 算法/ ,/ 进一步提高/ 光源/ 颜色/ 检测/ 的/ 准确性/ 和/ 鲁棒性/ ;/ 其次/ ,/ 虽然/ 通过/ 目前/ 采用/ 的/ PCSLG/ 能/ 推断/ 出发/ 射角/ α/ p/ 与/ H/ 颜色/ 分量/ 的/ 关系/ ,/ 但是/ 在/ 本文/ 实验/ 中/ 所/ 采用/ ASODVS/ 中/ 的/ PCSLG/ 并非/ 理想/ 的/ 、/ 与/ 原/ 设计方案/ 完全一致/ 的/ ./ 今后/ 将/ 采用/ 本文/ 2.2/ 节中/ 描述/ 的/ PCSLG/ 设计方案/ 制成/ 的/ 器件/ ,/ 使得/ PCSLG/ 的/ 发射/ 角/ α/ p/ 与/ H/ 颜色/ 分量/ 成/ 一一对应/ 关系/ ,/ 解决/ PCSLG/ 光源/ 颜色/ 检测/ 的/ 快速性/ 问题/ ./ 致谢/ 得到/ 了/ 研究所/ 各位/ 同仁/ 的/ 指导/ 和/ 帮助/ ,/ 在/ 此/ 一并/ 表示感谢/ !/ 

