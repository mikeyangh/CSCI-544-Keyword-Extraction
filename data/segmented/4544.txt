Page1/ 云/ 计算/ 数据中心/ 光/ 互连/ 网络/ :/ 研究/ 现状/ 与/ 趋势/ 1/ )/ (/ 西安电子科技大学/ ISN/ 国家/ 重点/ 实验室/ 西安/ 710071/ )/ 2/ )/ (/ 西安电子科技大学/ 计算机/ 学院/ 西安/ 710071/ )/ 摘要/ 数据中心/ 是/ 云/ 计算/ 的/ 核心/ 支持/ 平台/ ,/ 云/ 计算/ 的/ 发展/ 对/ 数据中心/ 网络/ 架构/ 提出/ 了/ 严峻/ 的/ 挑战/ ,/ 传统/ 电/ 互连/ 网络/ 架构/ 难以/ 在/ 带宽/ 、/ 设备/ 开销/ 、/ 能耗/ 、/ 管理/ 复杂度/ 等/ 方面/ 同时/ 满足/ 云/ 应用/ 的/ 要求/ ,/ 因此/ 以/ 低能耗/ 、/ 低/ 开销/ 、/ 高带宽/ 为/ 特点/ 的/ 光/ 互连/ 网络/ 架构/ 出现/ 并/ 受到/ 研究/ 人员/ 的/ 广泛/ 关注/ ./ 该文/ 在/ 对比/ 电/ 互连/ 技术/ 和/ 光/ 互连/ 技术/ 基本/ 特点/ 的/ 基础/ 上/ ,/ 对/ 数据中心/ 光/ 互连/ 网络/ 的/ 研究/ 现状/ 展开/ 综述/ ,/ 具体/ 介绍/ 了/ 现有/ 的/ 光电/ 混合/ 网络/ 、/ 集中式/ 全光/ 网络/ 和/ 分布式/ 全光/ 网络/ ,/ 并/ 从/ 交换/ 机制/ 、/ 扩展性/ 、/ 技术/ 可行性/ 、/ 设备/ 开销/ 等/ 方面/ 对/ 上述/ 网络/ 架构/ 进行/ 了/ 对比/ 分析/ ./ 最后/ 该文/ 对/ 数据中心/ 光/ 互连/ 网络/ 的/ 未来/ 研究/ 趋势/ 进行/ 了/ 总结/ 和/ 展望/ ./ 关键词/ 云/ 计算/ ;/ 数据中心/ 网络/ ;/ 光/ 互连/ 技术/ 1/ 引言/ 通过/ 广泛/ 的/ 接入/ 模式/ 、/ 共享/ 的/ 资源/ 架构/ 、/ 按/ 需/ 的/ 服务/ 部署/ 及/ 灵活/ 的/ 容量/ 扩展/ ,/ 云/ 计算/ 在/ 近年来/ 获得/ 了/ 广泛/ 的/ 部署/ 和/ 应用/ [/ 1/ ]/ ./ 数据中心/ 是/ 云/ 计算/ 的/ 核心/ 支撑/ 平台/ ,/ 随着/ 云/ 应用/ 的/ 广泛/ 部署/ ,/ 数据中心/ 的/ 通信/ 模式/ 和/ 业务/ 需求/ 出现/ 了/ 根本性/ 变化/ ./ 这些/ 变化/ 具体/ 包括/ :/ (/ 1/ )/ 数据中心/ 的/ 网络/ 规模/ 和/ 负载/ 出现/ 了/ 指数/ 级/ 增长/ ①/ ;/ (/ 2/ )/ 主要/ 的/ 流量/ 模式/ 由/ 传统/ “/ 南北向/ 流量/ ”/ 转变/ 为/ “/ 东西向/ 流量/ ”/ ;/ (/ 3/ )/ 更/ 多/ 时延/ 敏感/ 和/ 数据/ 密集型/ 业务/ 在/ 数据中心/ 内/ 运行/ ;/ (/ 4/ )/ 一些/ 虚拟化/ 技术/ ,/ 如/ 虚拟机/ 实时/ 迁移/ ,/ 需要/ 网络/ 提供/ 更好/ 的/ 支持/ ./ 这些/ 变化/ 对/ 数据中心/ 网络/ 架构/ 提出/ 了/ 更/ 高/ 的/ 要求/ ./ 传统/ 数据中心/ 网络/ 在/ 对/ 分/ 带宽/ 、/ 传输/ 时延/ 、/ 网络/ 可扩展性/ 、/ 容错性/ 、/ 资源/ 利用率/ 等/ 方面/ 均/ 无法/ 满足/ 云/ 业务/ 的/ 需求/ [/ 2/ -/ 3/ ]/ ./ 对此/ ,/ 研究/ 人员/ 提出/ 了/ 新/ 的/ 电/ 互连/ 网络/ 架构/ ,/ 如/ FatTree/ [/ 4/ ]/ 、/ VL2/ [/ 5/ ]/ 、/ DCell/ [/ 6/ ]/ 、/ BCube/ [/ 7/ ]/ 、/ CamCube/ [/ 8/ ]/ 和/ Snowflake/ [/ 9/ ]/ 等/ ./ 尽管/ 上述/ 架构/ 能够/ 有效/ 满足/ 新/ 的/ 云/ 业务/ 要求/ 并/ 改善/ 数据中心/ 的/ 网络/ 性能/ ,/ 但/ 这些/ 网络/ 架构/ 同时/ 也/ 带来/ 了/ 拓扑/ 结构复杂/ 、/ 线缆/ 开销/ 过大/ 、/ 设备/ 数量/ 过多/ 、/ 网络/ 能耗/ 难以/ 优化/ 等/ 问题/ ./ 究其/ 根本原因/ 在于/ ,/ 随着/ 网络/ 容量/ 的/ 指数/ 级/ 增长/ ,/ 基于/ COMS/ 的/ 电子元件/ 几乎/ 达到/ 了/ 其/ 带宽/ 的/ 上限/ [/ 10/ ]/ ./ 因此/ ,/ 光/ 互连/ 技术/ 得到/ 研究/ 人员/ 的/ 极大/ 关注/ ./ 与/ 电/ 互连/ 技术/ 相比/ ,/ 光/ 互连/ 技术/ 能够/ 更好/ 地/ 满足/ 云/ 计算/ 数据中心/ 对/ 能耗/ 和/ 带宽/ 的/ 需求/ ./ 尤其/ 随着/ 绿色/ 计算/ [/ 11/ ]/ 、/ GreenCloud/ [/ 12/ ]/ 等/ 概念/ 的/ 提出/ ,/ 数据中心/ 光/ 互连/ 技术/ 成为/ 网络/ 节能/ 的/ 重要/ 方式/ [/ 13/ ]/ ./ 近年来/ ,/ 结合/ 云/ 计算/ 数据中心/ 的/ 流量/ 模式/ 和/ 新型/ 光/ 交换/ 器件/ ,/ 研究/ 人员/ 提出/ 了/ 多种/ 新/ 的/ 光/ 互连/ 网络/ 架构/ ./ 实验/ 和/ 仿真/ 表明/ ,/ 这些/ 架构/ 在/ 吞吐/ 、/ 时延/ 、/ 灵活性/ 、/ 能耗/ 等/ 方面/ 优于/ 传统/ 的/ 电/ 互连/ 网络/ 架构/ ./ 但/ 相对/ 于/ 电/ 互连/ 网络/ ,/ 工业界/ 和/ 学术/ 领域/ 对于/ 数据中心/ 光/ 互连/ 网络/ 的/ 研究/ 尚/ 处于/ 起步/ 阶段/ ,/ 其中/ 很多/ 技术/ 挑战/ 尚未/ 得到/ 很/ 好/ 的/ 解决/ ./ 随着/ 云/ 计算/ 的/ 发展/ ,/ 服务/ 、/ 计算/ 、/ 存储/ 、/ 网络/ 将/ 进一步/ 融合/ 为/ 一个/ 整体/ 方案/ ,/ 相对/ 于/ 发展/ 迅速/ 的/ 计算技术/ 和/ 存储技术/ ,/ 网络/ 技术/ 的/ 革新/ 相对/ 缓慢/ ./ 因此/ ,/ 深入研究/ 数据中心/ 网络/ ,/ 尤其/ 是/ 具有/ 革新/ 性/ 的/ 光/ 互连/ 网络/ ,/ 对于/ 未来/ 网络/ 技术/ 和/ 云/ 计算技术/ 的/ 创新/ 发展/ 都/ 具有/ 重要/ 的/ 意义/ ./ 本文/ 将/ 详细/ 介绍/ 数据中心/ 光/ 互连/ 网络/ 的/ 最新/ 研究进展/ ,/ 对比/ 和/ 分析/ 现有/ 网络/ 架构/ 的/ 特点/ ,/ 总结/ 并/ 讨论/ 数据中心/ 光/ 互连/ 网络/ 的/ 未来/ 研究/ 趋势/ ./ 2/ 电/ 互连/ 网络/ 的/ 技术/ 挑战/ 云/ 计算/ 的/ 发展/ 使/ 数据中心/ 内/ 的/ 流量/ 出现/ 了/ 爆炸式/ 增长/ ,/ 因此/ 在/ 接入/ 层/ 采用/ 10GigE/ 交换/ 架构/ ,/ 在/ 核心层/ 采用/ 40G/ // 100GigE/ 交换/ 架构/ 已/ 基本/ 成为/ 数据中心/ 网络/ 未来/ 的/ 发展趋势/ ./ 在/ 这种/ 情况/ 下/ ,/ 数据中心/ 电/ 互连/ 架构/ 将/ 面临/ 以下/ 技术/ 挑战/ :/ (/ 1/ )/ 高带宽/ 要求/ 对于/ 铜缆/ 而言/ ,/ 在/ 额定功率/ 下/ 其/ 通信/ 带宽/ 和/ 传输/ 距离/ 之间/ 存在/ 着/ 一定/ 的/ 权衡/ ,/ 即/ 随着/ 通信/ 带宽/ 的/ 提升/ ,/ 铜缆/ 的/ 传输/ 距离/ 会/ 下降/ ./ 对于/ 10Gbps/ 的/ 通信/ 带宽/ ,/ 铜缆/ 的/ 传输/ 距离/ 会/ 小于/ 10m/ ./ 若要/ 获得/ 更长/ 的/ 传输/ 距离/ ,/ 则/ 发射器/ 的/ 功率/ 需要/ 大于/ 6W/ // 端口/ [/ 14/ ]/ ./ 因此/ ,/ 随着/ 链路/ 带宽/ 需求/ 的/ 提升/ ,/ 铜缆/ 不再/ 是/ 一种/ 理想/ 的/ 传输/ 介质/ ./ (/ 2/ )/ 高/ 交换/ 容量/ 要求/ 由于/ 在/ 单一/ 线路/ 上/ ,/ 电信号/ 的/ 传输速率/ 受到/ 信号/ 损耗/ 及/ 码间/ 串扰/ 的/ 限制/ ,/ 因此/ 芯片/ 设计/ 中常/ 通过/ 增加/ 线路/ 位/ 宽/ 的/ 方式/ 提升/ 信号/ 的/ 传输速率/ ./ 但/ 这种/ 方式/ 最终/ 会/ 受到/ 芯片/ 封装/ 面积/ 的/ 限制/ ./ 因此/ ,/ 随着/ 信号/ 速率/ 的/ 提升/ ,/ 交换/ 芯片/ 所/ 能/ 支持/ 的/ 端口/ 数目/ 会/ 逐步/ 降低/ ./ 例如/ ,/ 文献/ [/ 15/ ]/ 提出/ ,/ 在/ 现有/ 工艺水平/ 及/ 封装/ 限制/ 下/ ,/ 若/ 端口/ 速率/ 为/ 80Gbps/ ,/ 则/ 基于/ 电/ 集成/ 技术/ 的/ 交换/ 芯片/ 最大/ 支持/ 的/ 端口/ 数目/ 仅为/ 64/ ./ (/ 3/ )/ 低/ 开销/ 要求/ 随着/ 链路/ 带宽/ 的/ 提升/ ,/ 电信号/ 在/ 铜缆/ 或/ 背板/ 线路/ 的/ 传输/ 损耗/ 增大/ ,/ 因此/ 信号/ 需要/ 进行/ 复杂/ 的/ 预/ 加重/ 处理/ 和/ 差错控制/ ./ 另外/ ,/ 由于/ 端口/ 密度/ 和/ 交换/ 容量/ 的/ 限制/ ,/ 电/ 交换/ 网络/ 需要/ 使用/ 更/ 多/ 的/ 设备/ 和/ 更加/ 复杂/ 的/ 互连/ 方式/ 以/ 满足/ 大容量/ 交换/ 的/ 需求/ ,/ 这/ 增加/ 了/ 网络/ 的/ 设备/ 开销/ 和/ 布线/ 开销/ ./ (/ 4/ )/ 低能耗/ 要求/ 能耗/ 问题/ 已经/ 成为/ 制约/ 数据中心/ 发展/ 的/ 瓶颈/ 因素/ 之一/ ./ 根据/ 预测/ ,/ 从/ 2012/ 年/ 到/ 2020/ 年/ ,/ 高性能/ 计算/ 系统/ 的/ 峰值/ 计算能力/ 和/ 带宽/ 需要/ 分别/ 以/ 10/ 倍/ // 4/ 年/ 和/ 20/ 倍/ // 4/ 年/ 的/ 速度/ 增长/ ,/ 但/ 其/ 能耗/ 仅/ 允许/ 以/ 2/ 倍/ // 4/ 年/ 的/ 速度/ 增长/ ./ 这/ 对/ 数据中心/ 的/ 设计/ 提出/ 了/ 严峻/ 的/ 挑战/ [/ 16/ ]/ ./ 数据中心/ 的/ 网络/ 能耗/ 占/ 总/ 能耗/ 的/ 23/ %/ 左右/ ,/ 随着/ 链路/ 速率/ 和/ 交换机/ 容量/ 的/ 提升/ ,/ 网络/ 能耗/ 所/ 占/ 的/ 比例/ 将/ 继续/ 增大/ [/ 17/ ]/ ./ 由于/ 目前/ 电/ 交换机/ 的/ 能耗/ ①/ CiscoGlobalCloudIndex/ :/ ForecastandMethodology/ ,/ Page3/ 不会/ 随/ 负载/ 的/ 降低/ 而成/ 比例/ 缩减/ ,/ 因此/ 电/ 互连/ 网络/ 常用/ 的/ 节能/ 策略/ 主要/ 包括/ [/ 13/ ]/ :/ ①/ 将/ 网络流量/ 整合/ 至/ 更/ 少/ 的/ 链路/ 和/ 交换/ 设备/ ,/ 关闭/ 空闲/ 的/ 网络设备/ ;/ ②/ 降低/ 链路/ 速率/ 以/ 节省/ 发射机/ 能耗/ ./ 上述/ 两种/ 策略/ 都/ 会/ 在/ 一定/ 程度/ 上/ 带来/ 性能/ 的/ 损失/ ./ 光/ 互连/ 技术/ 具备/ 巨大/ 的/ 潜力/ 解决/ 上述/ 问题/ ./ 例如/ 文献/ [/ 14/ ]/ 指出/ :/ 在/ 最优化/ 的/ 情况/ 下/ ,/ 光电/ 混合/ 网络/ Helios/ 能够/ 比/ 相同/ 规模/ 的/ 电/ 网络/ 节省/ 2/ 倍/ 的/ 成本/ 、/ 5/ 倍/ 的/ 设备/ 开销/ 和/ 8/ 倍/ 的/ 网络/ 能耗/ ./ 光/ 互连/ 架构/ 能够/ 实现/ 上述/ 优化/ 的/ 主要/ 原因/ 包括/ 以下/ 几个/ 方面/ :/ (/ 1/ )/ 在/ 传输/ 带宽/ 方面/ ,/ 目前/ 基于/ 100GbpsPM/ -/ QPSK/ 调制/ 的/ 相干/ 接收器/ 已经/ 商用/ [/ 18/ ]/ ./ 结合/ DWDM/ 技术/ ,/ 一对/ 单模/ 光纤/ 的/ 传输/ 带宽/ 可达/ 12Tbps/ [/ 19/ ]/ ./ 进一步/ 就/ 传输/ 距离/ 而言/ ,/ 目前/ 多模/ 光纤/ 和/ 单模/ 光纤/ 的/ 无/ 中继/ 传输/ 距离/ 可/ 轻易/ 满足/ 数据中心/ 内/ 的/ 互连/ 需求/ ;/ (/ 2/ )/ 在/ 交换/ 容量/ 方面/ ,/ 光/ 交换/ 架构/ 可以/ 实现/ 更/ 高/ 的/ 交换/ 容量/ ./ 这/ 是因为/ :/ ①/ 高速/ 光/ 信号/ 的/ 损耗/ 和/ 串扰/ 远/ 小于/ 电信号/ ;/ ②/ 通过/ 波分/ 复用技术/ ,/ 单一/ 光/ 波导/ 内/ 承载/ 的/ 信道/ 数目/ 可以/ 实现/ 数十倍/ 的/ 增长/ ;/ (/ 3/ )/ 在/ 网络/ 开销/ 方面/ ,/ 光纤/ 具有/ 更/ 高/ 的/ 带宽/ 、/ 更/ 小/ 的/ 横截面/ 积/ 和/ 更/ 轻/ 的/ 重量/ ,/ 因此/ 能够/ 带来/ 更好/ 的/ 散热/ 并/ 降低/ 网络/ 的/ 表/ 1/ 电/ 互连/ 技术/ 和/ 光/ 互连/ 技术/ 的/ 对比/ 对比/ 条目/ 带宽/ 交换/ 容量/ 在/ 高/ 信号/ 速率/ 下/ ,/ 交换/ 容量/ 受到/ 芯片/ 封装/ 面积/ 限制/ ./ 网络/ 开销/ 能耗/ 步/ 缩减/ 能耗/ ./ 3/ 研究/ 现状/ 分析/ 3.1/ 光电/ 混合/ 互连/ 网络/ 架构/ 为/ 有效/ 兼容/ 现有/ 数据中心/ 的/ 电/ 互连/ 技术/ ,/ 同时/ 通过/ 光/ 互连/ 技术/ 解决/ 核心层/ 流量/ 负载/ 过大/ 的/ 问题/ ,/ 研究/ 人员/ 提出/ 了/ 光电/ 混合/ 互连/ 架构/ ./ 该/ 架构/ 中/ ,/ 电/ 交换/ 设备/ 和/ 光/ 交换/ 设备/ 构成/ 两个/ 并行/ 网络/ ,/ 不同/ 流量/ 将/ 通过/ 不同/ 的/ 网络/ 完成/ 传输/ ./ 由于/ 混合/ 架构/ 中/ ,/ 光/ 互连/ 网络/ 一般/ 采用/ 商用/ 全光/ 交换/ 设备/ 构建/ ,/ 因此/ 具有/ 较/ 高/ 的/ 技术/ 可行性/ ./ 典型/ 的/ 光电/ 混合/ 互连/ 网络/ 包括/ c/ -/ Through/ [/ 21/ ]/ 、/ Helios/ [/ 14/ ]/ 、/ 基于/ 混洗/ -/ 交换/ [/ 22/ ]/ 和/ 基于/ 光/ 突发/ 环路/ [/ 23/ ]/ 的/ 光电/ 混合/ 网络/ ./ 布线/ 开销/ ./ 同时/ ,/ 由于/ 多数/ 光/ 交换/ 单元/ 对于/ 信号/ 的/ 速率/ 、/ 调制/ 模式/ 、/ 协议/ 等/ 具有/ 透明/ 传输/ 的/ 特性/ ,/ 因此/ 网络/ 能够/ 在/ 不/ 更换/ 光/ 交换/ 设备/ 的/ 情况/ 下/ 进行/ 链路/ 带宽/ 的/ 升级/ ./ 另外/ 由于/ 光/ 交换机/ 能够/ 实现/ 更大/ 的/ 交换/ 容量/ 和/ 更/ 高/ 的/ 端口/ 密度/ ,/ 因此/ 很多/ 全光/ 互连/ 网络/ 或/ 光电/ 混合/ 网络/ 能够/ 实现/ 扁平化/ 的/ 架构设计/ ./ 这/ 在/ 很大/ 程度/ 上/ 降低/ 了/ 网络/ 的/ 设备/ 和/ 管理/ 开销/ ;/ (/ 4/ )/ 在/ 能耗/ 方面/ ,/ 光/ 互连/ 技术/ 能够/ 很/ 好地解决/ 能耗/ 和/ 性能/ 的/ 权衡/ 问题/ ./ 这/ 主要/ 因为/ :/ ①/ 光/ 信号/ 具有/ 更/ 低/ 的/ 损耗/ 和/ 更长/ 的/ 传输/ 距离/ ,/ 因此/ 光/ 链路/ 可以/ 使用/ 更/ 低/ 的/ 发送/ 功率/ ;/ ②/ 对于/ 全光/ 交换/ 架构/ ,/ 信号/ 在/ 中间/ 节点/ 不用/ 经历/ O/ // E/ (/ 光/ -/ 电/ )/ 和/ E/ // O/ (/ 电/ -/ 光/ )/ 转换/ 的/ 过程/ ;/ ③/ 光/ 交换/ 架构/ 可以/ 采用/ 无源/ 或/ 低能耗/ 光/ 器件/ 构建/ ,/ 因此/ 可/ 进一步/ 缩减/ 网络/ 能耗/ ./ 光/ 互连/ 技术/ 和/ 电/ 互连/ 技术/ 的/ 综合/ 对/ 比如/ 表/ 1/ 所示/ ./ 可以/ 看到/ ,/ 由于/ 受到/ 通信/ 带宽/ 、/ 交换/ 容量/ 、/ 设备/ 开销/ 和/ 能耗/ 的/ 限制/ ,/ 电/ 互连/ 网络/ 已较/ 难/ 满足/ 云/ 计算/ 数据中心/ 的/ 通信/ 需求/ ,/ 因此/ 具备/ 高带宽/ 和/ 低能耗/ 的/ 光/ 互连/ 技术/ 已/ 受到/ 研究/ 人员/ 的/ 重点/ 关注/ ./ 尤其/ 随着/ 硅光/ 技术/ 和/ 光/ 集成/ 技术/ 的/ 发展/ ,/ 光/ 交换/ 设备/ 的/ 成本/ 日益/ 降低/ ,/ 这/ 更/ 促进/ 了/ 光/ 互连/ 技术/ 在/ 数据中心/ 的/ 应用/ 和/ 部署/ [/ 20/ ]/ ./ 为/ 有效/ 地/ 将/ 光电/ 路/ 交换/ 网络/ 与/ 传统/ 电/ 分组/ 交换/ 网络/ 结合/ ,/ 以/ 创建/ 适合/ 同时/ 承载/ 突发性/ 业务/ 和/ 数据/ 密集型/ 业务/ 的/ 网络/ 环境/ ,/ Wang/ 等/ 人/ [/ 21/ ,/ 24/ ]/ 提出/ 了/ 如图/ 1/ 所示/ 的/ c/ -/ Through/ 网络/ 架构/ ./ 在/ 该/ 架构/ 中/ ,/ 每个/ ToR/ (/ TopofRack/ )/ 交换机/ 同时/ 连接/ 至/ 一个/ 电/ 分组/ 交换/ 网络/ 和/ 一个/ 光电/ 路/ 交换/ 网络/ ./ 其中/ ,/ 电/ 分组/ 交换/ 网络/ 由/ 多个/ 传统/ 以太网交换机/ 互连/ 成/ 树形/ 拓扑/ ,/ 光电/ 路/ 交换/ 网络/ 则/ 使用/ 单一/ 微/ 机电/ 系统/ (/ Micro/ -/ Electro/ -/ MechanicalSystem/ ,/ MEMS/ )/ 交换机/ 构建/ ./ 由于/ 光电/ 路/ 交换机/ 所/ 提供/ 的/ 并行/ 连接/ 极为/ 有限/ ,/ 同时/ 在/ 配置/ 周期/ 内光/ 链路/ 无法/ 承载/ 任何/ 数据/ ,/ 因此/ 光/ 连接/ 必须/ 提供/ 给/ 网络/ 中/ 具有/ 最大/ 通信量/ 的/ 源/ -/ 目的/ 机架/ ./ c/ -/ Through/ 使用/ 一套/ 集中式/ 控制系统/ 完成/ 光/ 连接/ 的/ Page4/ 优化/ 配置/ ./ 在/ 该/ 控制系统/ 中/ ,/ 光/ 配置/ 管理器/ 连接/ 至/ 所有/ 服务器/ 的/ 统计/ 信息/ 接口/ 以/ 获取/ 流量/ 信息/ ,/ 同时/ 该/ 管理器/ 连接/ 至光/ 交换机/ 的/ 控制/ 接口/ 以/ 实现/ 配置/ 指令/ 的/ 下发/ ./ 具体/ 到/ 控制/ 流程/ ,/ 首先/ 各/ 服务器/ 所/ 部署/ 的/ 后台/ 管理/ 模块/ 会/ 实时/ 监测/ 每条/ socket/ 队列/ 所/ 缓存/ 的/ 分组/ 数目/ ,/ 并/ 将/ 该/ 信息/ 周期性/ 汇报/ 给/ 光/ 配置/ 管理器/ ./ 对于/ 属于/ 同一/ 应用/ 的/ TCP/ 连接/ ,/ 其/ 分组会/ 存储/ 在/ 指定/ socket/ 队列/ 中/ ,/ 因此/ 通过/ 收集/ 所有/ 服务器/ socket/ 队列/ 的/ 缓存/ 状态/ ,/ 光/ 配置/ 管理器/ 可/ 准确/ 了解/ 全网/ 待/ 发送/ 的/ 流量/ ./ 完成/ 状态/ 信息/ 收集/ 后/ ,/ 光/ 配置/ 管理器/ 将/ 进一步/ 生成/ 流量/ 矩阵/ ./ 该/ 流量/ 矩阵/ 以源/ 机架/ 号/ 为行/ 坐标/ 、/ 以/ 目的/ 机架/ 号/ 为/ 列/ 坐标/ ,/ 矩阵/ 内/ 的/ 元素/ 是从/ 源/ 机架/ 到/ 目的/ 机架/ 待/ 发送/ 的/ 分组/ 数目/ 总和/ ./ 根据/ 该/ 流量/ 矩阵/ ,/ 光/ 配置/ 管理器/ 将/ 决定/ 光/ 交换机/ 的/ 最优/ 配置/ ./ 该/ 优化/ 问题/ 实际/ 是/ 一个/ 二分/ 图/ 的/ 最大/ 权重/ 匹配/ 问题/ ./ 二分/ 图中/ A/ 子集/ 内/ 的/ 节点/ 代表/ 源/ 机架/ ,/ B/ 子集/ 内/ 的/ 节点/ 代表/ 目的/ 机架/ ,/ 从/ A/ 子集/ 到/ B/ 子集/ 的/ 一条/ 边/ 代表/ 一条/ 连接/ ,/ 边/ 的/ 权重/ 为/ 待/ 发送/ 的/ 分组/ 数目/ ./ 对于/ 该/ 问题/ 的/ 求解/ 可以/ 使用/ 经典/ 的/ Edmonds/ 算法/ ./ 在/ 运行/ 该/ 算法/ 获得/ 配置/ 结果/ 后/ ,/ 光/ 配置/ 管理器/ 将/ 下发/ 配置/ 命令/ 并/ 通知/ 服务器/ 传输/ 相应/ 分组/ ./ 未/ 获得/ 光/ 连接/ 的/ 服务器/ 将/ 通过/ 电/ 网络/ 传输/ 分组/ ./ c/ -/ Through/ 在/ ToR/ 交换机/ 位置/ 采用/ 基于/ VLAN/ 的/ 路由/ 算法/ 从/ 逻辑/ 上/ 分离/ 电/ 网络/ 和/ 光/ 网络/ ,/ VLAN/ -/ s/ 负责/ 处理/ 通过/ 电/ 分组/ 交换/ 网络/ 的/ 分组/ ,/ VLAN/ -/ c/ 负责/ 处理/ 通过/ 光电/ 路/ 交换/ 网络/ 的/ 分组/ ./ 尽管/ c/ -/ Through/ 能够/ 在/ 提供/ 高/ 通信/ 带宽/ 的/ 同时/ 保持/ 网络/ 的/ 低/ 复杂度/ ,/ 但/ 在/ 实际/ 部署/ 中/ 却/ 遇到/ 了/ 较/ 多/ 的/ 挑战/ ./ 主要/ 原因/ 在于/ 数据中心/ 的/ 实际/ 流量/ 远比/ 初始/ 设计/ 架构/ 时/ 的/ 假设/ 流量/ 复杂/ ./ 为/ 解决/ 这一/ 问题/ ,/ 在/ 文献/ [/ 25/ ]/ 中/ ,/ 研究/ 人员/ 提出/ 了/ Observe/ -/ Analyze/ -/ Act/ 控制/ 架构/ ,/ 该/ 控制/ 架构/ 将光/ 交换机/ 的/ 配置/ 过程/ 划分/ 为/ 3/ 个/ 阶段/ ,/ 即/ 观察/ 阶段/ (/ Observe/ )/ 、/ 分析阶段/ (/ Analyze/ )/ 、/ 配置/ 阶段/ (/ Act/ )/ ./ 在/ 观察/ 阶段/ ,/ 光/ 配置/ 管理器/ 与/ 不同/ 设备/ 进行/ 通信/ 并/ 获取/ 相应/ 的/ 信息/ ./ 这些/ 信息/ 具体/ 包括/ :/ 从/ 交换机/ 位置/ 获取/ 的/ 链路/ 利用率/ 信息/ ,/ 从/ 任务调度/ 器/ 位置/ 获取/ 的/ 应用/ 状态/ 信息/ ,/ 从/ 服务器/ 位置/ 获取/ 的/ 应用/ 优先级/ 及/ QoS/ 要求/ 信息/ ./ 随后/ ,/ 光/ 配置/ 管理器/ 将/ 上述/ 信息/ 进行/ 汇总/ 和/ 分析/ ./ 在/ 该/ 阶段/ ,/ 控制器/ 将/ 准确/ 剖析/ 应用/ 的/ 流量/ 需求/ ,/ 探测/ 病态/ (/ ill/ -/ behaved/ )/ 负载/ ,/ 发现/ 相关性/ 流量/ ,/ 生成/ 有效/ 支持/ 应用/ 要求/ 的/ 优化/ 配置/ ./ 最后/ 在/ 配置/ 部署/ 阶段/ ,/ 光/ 配置/ 管理器/ 会/ 将/ 配置/ 命令/ 下发/ 至/ 网络/ 中光/ 交换/ 设备/ ./ 该/ 控制/ 架构/ 充分考虑/ 了/ 数据中心/ 实际/ 流量/ 的/ 复杂性/ 特点/ ,/ 提出/ 从/ 应用层/ 、/ 任务调度/ 层/ 、/ 网络层/ 多个/ 维度/ 解析/ 应用/ 的/ 流量/ 需求/ ,/ 但/ 该/ 文章/ 仅/ 提出/ 了/ 控制/ 架构/ 的/ 总体/ 思想/ ,/ 并未/ 就/ 具体/ 实现/ 细节/ 进行/ 讨论/ ./ Farrington/ 等/ 人/ [/ 14/ ]/ 提出/ 了/ 如图/ 2/ 所示/ 的/ 光电/ 混合/ 互连/ 架构/ Helios/ ./ 该/ 架构/ 用于/ 实现/ pod/ 之间/ 的/ 混合/ 互连/ ./ 这里/ 的/ pod/ 是/ 一个/ 包含/ 250/ ~/ 1000/ 台/ 服务器/ 的/ 集群/ ,/ pod/ 内/ 服务器/ 通过/ 铜缆/ 连接/ 至/ pod/ 交换机/ ,/ 不同/ pod/ 之间/ 通过/ 核心/ 层交换机/ 进行/ 通信/ ./ pod/ 交换机/ 和/ 核心/ 层交换机/ 相互连接/ 构成/ 一个/ 2/ 层/ 多根/ 树/ 拓扑/ ./ 其中/ ,/ 核心/ 层交换机/ 可以/ 是/ 电/ 分组/ 交换机/ 或是/ 基于/ MEMS/ 的/ 光电/ 路/ 交换机/ ./ 电/ 分组/ 交换机/ 用于/ 处理/ all/ -/ to/ -/ all/ 的/ 突发性/ 流量/ ,/ 光电/ 路/ 交换机/ 用于/ 处理/ pod/ 间/ 具有/ 高带宽/ 需求/ 和/ 长/ 持续/ 周期/ 的/ 流量/ ./ Helios/ 中/ 用于/ 配置/ 光/ 连接/ 的/ 控制系统/ 包括/ 3/ 个/ 软件/ 模块/ :/ 拓扑/ 管理/ (/ TopologyManager/ ,/ TM/ )/ 模块/ 、/ 电路/ 管理/ (/ CircuitSwitchManager/ ,/ CSM/ )/ 模块/ 、/ pod/ 交换机/ 管理/ (/ PodSwitchManager/ ,/ PSM/ )/ 模块/ ./ 其中/ ,/ PSM/ 模块/ 部署/ 在/ pod/ 交换机/ 上/ ,/ 每个/ 模块/ 使/ Page5/ 用流/ 计数器/ 记录/ 从本/ pod/ 发往/ 不同/ pod/ 的/ 流量/ (/ 按/ 字节/ 计数/ )/ ./ TM/ 模块/ 周期性/ 使用/ 远程/ 过程/ 调用/ 协议/ 从/ 所有/ PSM/ 模块/ 获取/ 流量/ 的/ 统计/ 信息/ ./ 随后/ 将/ 这些/ 信息/ 填入/ 以源/ pod/ 号/ 为行/ 坐标/ 、/ 以/ 目的/ pod/ 号/ 为/ 列/ 坐标/ 的/ 字节/ 计数/ 矩阵/ 中/ ./ 通过/ 当前/ 周期/ 的/ 字节/ 计数/ 矩阵/ 和/ 前/ 一个/ 周期/ 的/ 字节/ 计数/ 矩阵/ ,/ 可/ 计算/ 出流/ 速率/ 矩阵/ ./ 随后/ ,/ TM/ 移除/ 矩阵/ 中流/ 速率/ 小于/ 15Mbps/ 的/ 元素/ ,/ 即/ 获得/ 只/ 记录/ 大流/ 的/ 流/ 速率/ 矩阵/ ./ 该流/ 速率/ 矩阵/ 不能/ 直接/ 应用/ 于/ 光电/ 路/ 的/ 配置/ 决策/ ,/ TM/ 需要/ 进一步/ 使用/ Max/ -/ Min/ 公平/ 带宽/ 分配/ 算法/ 处理/ 该/ 矩阵/ 以/ 获得/ 能够/ 更好/ 反映/ 应用/ 需求/ 的/ 流量/ 需求/ 矩阵/ ./ 最后/ ,/ TM/ 根据/ 流量/ 需求/ 矩阵/ 计算/ 光电/ 路/ 的/ 最优/ 配置/ ,/ 该/ 建模/ 过程/ 和/ 使用/ 的/ 求解/ 算法/ 与/ c/ -/ Through/ 架构/ 相同/ ./ 在/ 获得/ 配置/ 结果/ 后/ ,/ TM/ 将/ 通知/ CSM/ 配置/ 光电/ 路/ 交换机/ 的/ 输入输出/ 端口/ ,/ 同时/ 通知/ PSM/ 将/ 未/ 获得/ 光/ 连接/ 的/ 流量/ 转发/ 至/ 核心层/ 的/ 电/ 分组/ 交换机/ ./ Helios/ 架构/ 通过/ 使用/ 商用/ 全光/ 交换机/ 和/ WDM/ 收发器/ 实现/ 网络/ 成本/ 和/ 能耗/ 的/ 缩减/ ./ 但/ 由于/ 传统/ MEMS/ 全光/ 交换机/ 主要/ 应用/ 于/ 电信/ 骨干网/ [/ 26/ ]/ ,/ 在/ 数据中心/ 环境/ 中/ ,/ MEMS/ 交换机/ 主要/ 存在/ 以下/ 缺陷/ :/ (/ 1/ )/ 端口/ 规模/ 有限/ ,/ 较难/ 支持/ 大规模/ 的/ 网络/ 互连/ ;/ (/ 2/ )/ 交换机/ 配置/ 时延/ 过长/ (/ 10ms/ ~/ 100ms/ )/ ,/ 光/ 链路/ 的/ 带宽/ 利用率/ 相对/ 较/ 低/ ;/ (/ 3/ )/ 交换机/ 的/ 插入损耗/ 较大/ ,/ 可能/ 会/ 限制/ 交换机/ 的/ 级联/ ./ 文献/ [/ 27/ ]/ 对/ MEMS/ 光/ 交换机/ 的/ 配置/ 时延/ 进行/ 了/ 详细/ 的/ 分析/ ./ 研究/ 发现/ ,/ 通过/ 使用/ 先进/ 的/ 交换/ 器件/ 可以/ 进一步/ 缩减/ 交换机/ 的/ 配置/ 时延/ ,/ 这种/ 优化/ 将/ 带来/ 网络/ 吞吐/ 的/ 显著/ 提升/ ./ 由于/ MEMS/ 交换机/ 较长/ 的/ 配置/ 时延/ 会/ 带来/ 光电/ 路/ 利用率/ 的/ 下降/ ,/ 同时/ 一旦/ 交换机/ 响应/ 某个/ 连接/ 请求/ ,/ 则/ 在/ 后续/ 一段时间/ 内/ ,/ 交换机/ 的/ 特定/ 输入输出/ 端口/ 被/ 该/ 连接/ 独占/ ./ 这种/ 有限/ 的/ 连通性/ 在/ 部署/ 至/ 大规模/ 网络/ 时会/ 成为/ 挑战/ ./ 为/ 解决/ 上述/ 问题/ ,/ Lugones/ 等/ 人/ [/ 22/ ]/ 提出/ 了/ 基于/ 混洗/ -/ 交换/ 拓扑/ 的/ 光电/ 混合/ 网络/ ./ 在/ 该/ 网络/ 架构/ 中/ ,/ 具有/ 点到点/ 通信/ 、/ 持续时间/ 长/ 和/ 高/ 负载/ 的/ 数据流/ 通过/ 光电/ 路/ 交换/ 网络/ ,/ 低/ 速率/ 的/ 数据流/ 和/ 控制/ 消息/ 通过/ 电/ 分组/ 交换/ 网络/ ./ 为/ 保证/ 光/ 网络/ 的/ 可扩展性/ ,/ 光/ 互连/ 架构/ 部分/ 采用/ 了/ 如图/ 3/ 所示/ 的/ 单级/ 混洗/ -/ 交换/ (/ Single/ -/ stageShuffleeXchange/ ,/ SSX/ )/ 拓扑/ ./ 该/ 拓扑/ 由/ 边缘/ 层/ 和/ 核心层/ 构成/ ,/ 其中/ 边缘/ 层/ 包括/ N/ 个/ k/ 端口/ 电/ 分组/ 交换机/ ,/ 核心层/ 包括/ 一个/ 或/ 多个/ MEMS/ 光/ 交换机/ ./ 电/ 分组/ 交换机/ 的/ 每个/ 输入输出/ 端口/ 通过/ 单向/ 光纤/ 连接/ 至/ 光电/ 路/ 交换机/ ,/ 而/ 光电/ 路/ 交换机/ 内部/ 的/ 交叉/ 矩阵/ 按照/ 特定/ 的/ 混洗/ 规则/ 进行/ 配置/ ./ 与/ 传统/ 混洗/ -/ 交换/ 网络/ 不同/ 的/ 是/ :/ 在/ 该/ 架构/ 中/ ,/ 分组/ 首先/ 在/ 电/ 交换机/ 内/ 执行/ 交换/ 操作/ ,/ 即/ 通过/ 路由/ 计算/ 选择/ 合适/ 的/ 输出/ 端口/ ;/ 随后/ 分组/ 在/ 光/ 交换机/ 内/ 执行/ 混洗/ 操作/ ./ 由于/ 光/ 交叉开关/ 总是/ 按照/ 某种/ 混洗/ 模式/ 配置/ 输入输出/ 端口/ ,/ 某些/ 分组/ 无法/ 通过/ 一次/ 交换/ -/ 混洗/ 操作/ 到达/ 目的/ 节点/ ./ 因此/ 文章/ 提出/ 了/ 多/ 跳/ 路由/ 的/ 方式/ ,/ 若/ 分组/ 在/ 经过/ 一次/ 光/ 交换机/ 后/ 并未/ 到达/ 目的/ 节点/ ,/ 则/ 该/ 分组/ 需要/ 在/ 中间/ 节点/ (/ 电/ 分组/ 交换机/ )/ 再次/ 路由/ 并/ 重新/ 注入/ 光/ 交换/ 网络/ ./ 该/ 过程/ 会/ 进行/ 多次/ 直到/ 分组/ 到达/ 目的/ 节点/ ./ 这种/ 多/ 跳/ 路由/ 的/ 方式/ 一方面/ 增加/ 了/ 光电/ 路/ 交换机/ 的/ 逻辑/ 连通性/ ,/ 另一方面/ 减少/ 了/ 交换机/ 的/ 配置/ 频率/ ,/ 能够/ 在/ 一定/ 程度/ 上/ 提高/ 光/ 链路/ 利用效率/ ./ 另外/ ,/ 该/ 架构/ 中光/ 交叉开关/ 矩阵/ 的/ 混洗/ 连接/ 模式/ 并非/ 固定/ 不变/ 的/ ./ 文章/ 提出/ 了/ 一种/ 启发式/ 算法/ ,/ 该/ 算法/ 将/ 根据/ 网络/ 的/ 流量/ 状态/ 动态/ 改变/ 光/ 交叉/ 矩阵/ 的/ 混洗/ 模式/ ,/ 以/ 保证/ 当前/ 网络/ 中/ 具有/ 最大/ 通信/ 负载/ 的/ 源/ 、/ 目的/ 节点/ 对/ 通过/ 一跳光/ 连接/ 到达/ ,/ 其余/ 节点/ 对/ 则/ 通过/ 多/ 跳/ 的/ 光/ 连接/ 到达/ ./ 该/ 启发式/ 算法/ 以/ 流量/ 矩阵/ λ/ 和/ 光/ 交换机/ 当前/ 的/ 混洗/ 连接/ 状态/ 为/ 输入/ ,/ 具体操作/ 包括/ 以下/ 几步/ :/ 第/ 1/ 步/ ,/ 找出/ 该/ 流量/ 矩阵/ 中/ N/ 对/ 具有/ 最大/ 通信量/ 的/ 源/ 、/ 目的/ 节点/ 对/ ,/ 并/ 将/ 对应/ 元素/ λ/ [/ i/ ]/ [/ j/ ]/ 写入/ 子集/ η/ 中/ ./ 其中/ λ/ [/ i/ ]/ [/ j/ ]/ 表示/ 源/ 节点/ i/ 到/ 目的/ 节点/ j/ 的/ 流量/ ;/ 第/ 2/ 步/ ,/ 针对/ 子集/ η/ 中/ 的/ 一个/ 元素/ λ/ [/ i/ ]/ [/ j/ ]/ ,/ 检查/ 源/ 节点/ i/ 到/ 目的/ 节点/ j/ 的/ 跳数/ d/ (/ i/ ,/ j/ )/ 是否/ 大于/ 1/ ./ 若/ 是/ ,/ 则/ 寻找/ 替代/ 节点/ s/ ,/ s/ 需要/ 满足条件/ d/ (/ s/ ,/ j/ )/ =/ 1/ ,/ 且/ λ/ [/ i/ ]/ [/ j/ ]/ >/ λ/ [/ s/ ]/ [/ j/ ]/ ;/ 第/ 3/ 步/ ,/ 若/ 在/ 第/ 2/ 步中/ 找到/ 替代/ 节点/ ,/ 则/ 进行/ 混洗/ 模式/ 的/ 重新配置/ ,/ 将/ 混洗/ 拓扑/ 中/ s/ 到/ j/ 的/ 连接/ 修改/ 为/ i/ 到/ j/ 的/ 连接/ ;/ 第/ 4/ 步/ ,/ 将/ 第/ 2/ 步/ 和/ 第/ 3/ 步/ 重复/ 执行/ N/ 次/ ./ 若/ 混洗/ 拓扑/ 已经/ 改变/ 了/ m/ 对/ 连接/ 的/ 配置/ (/ m/ / N/ )/ ,/ 则/ 原有/ 的/ m/ 对/ 连接/ 被/ 拆除/ ./ 此时/ 该/ 混洗/ 拓扑/ 中/ 存在/ m/ 个/ 空闲/ 的/ 输入/ 端口/ 和/ m/ 个/ 空闲/ 的/ 输出/ 端口/ ,/ 将/ 这些/ 空闲/ 输入输出/ 端口/ 按照/ 混洗/ 模式/ 重新/ 连接/ ./ Page6/ 尽管/ 混洗/ -/ 交换/ 网络/ 能够/ 在/ 一定/ 程度/ 上/ 缓解/ 光电/ 路/ 交换所/ 带来/ 的/ 性能/ 问题/ ,/ 但/ 该/ 网络/ 仍然/ 对/ 通过/ 光/ 连接/ 的/ 流量/ 有/ 两点/ 要求/ :/ (/ 1/ )/ 流量/ 的/ 持续时间/ 远大于/ MEMS/ 交换机/ 的/ 配置/ 时延/ ;/ (/ 2/ )/ 流量/ 的/ 带宽/ 需求/ 不能/ 小于/ 一个/ 波长/ 信道/ 的/ 带宽/ ./ 这些/ 限制/ 条件/ 意味着/ 在/ 实际/ 中/ 只有/ 部分/ 业务/ 能够/ 通过/ 光电/ 路/ 交换/ 获得/ 收益/ ./ 采用/ 新/ 的/ 交换/ 机制/ 是/ 解决/ 上述/ 问题/ 的/ 根本/ 方法/ ./ 对此/ Li/ 等/ 人/ [/ 23/ ,/ 28/ ]/ 提出/ 了/ 结合/ 光/ 突发/ 交换/ 和/ 电/ 分组/ 交换/ 的/ 混合/ 网络/ 架构/ ./ 如图/ 4/ 所示/ ,/ 该/ 架构/ 的/ 电/ 互连/ 网络/ 部分/ 采用/ 两层/ 的/ 多根/ 树/ 拓扑/ ./ 底层/ 由/ ToR/ 交换机/ 或/ EndofRow/ (/ EoR/ )/ 交换机/ 组成/ ,/ 每台/ 底层/ 交换机/ 连接/ 数十台/ 服务器/ 构成/ pod/ ./ 上层/ 由/ 高性能/ 核心/ 交换机/ 组成/ ,/ 每台/ 核心/ 交换机/ 连接/ 所有/ 底层/ 交换机/ ./ 底层/ 交换机/ 除/ 连接/ 上层/ 的/ 核心/ 交换机/ 外/ ,/ 还/ 通过/ 光纤/ 链路/ 连接成/ 环形/ 拓扑/ ,/ 该/ 环形/ 拓扑/ 即/ 构成/ 混合/ 架构/ 的/ 光/ 互连/ 部分/ ./ 在/ 该/ 混合/ 架构/ 中/ ,/ 突发性/ 流量/ 将/ 通过/ 核心/ 交换机/ 转发/ ,/ 而/ 相对/ 稳定/ 的/ 流量/ 则/ 在/ 光/ 突发/ 环路/ 上/ 传输/ ./ 每台/ 底层/ 交换机/ 配置/ 有/ 线卡/ (/ LineCard/ ,/ LC/ )/ 、/ 交换/ 卡/ (/ SwitchCard/ ,/ SC/ )/ 、/ 光/ 突发/ 线卡/ (/ OpticalBurstLineCard/ ,/ OBLC/ )/ 和/ 光/ 突发/ 交换/ 卡/ (/ OpticalBurstSwitchCard/ ,/ OBSC/ )/ ./ 其中/ ,/ LC/ 用于/ 连接/ 服务器/ 和/ 核心/ 交换机/ ,/ SC/ 用于/ 转发/ pod/ 内/ 分组/ 并/ 进行/ 流量/ 汇聚/ ,/ OBSC/ 用于/ 实现/ 光/ 突发/ 块/ 上下/ 环路/ ,/ OBLC/ 用于/ 生成/ 或/ 接收/ 光/ 突发/ 块/ ./ 架构/ 采用/ 面向/ 连接/ 的/ 方式/ 传输/ 光/ 突发/ 块/ ,/ 分组/ 在/ 传输/ 之前/ 需要/ 建立/ 连接/ 并/ 预约/ 该/ 连接/ 的/ 持续时间/ ./ 在/ 光/ 突发/ 环路/ 上/ ,/ 该/ 持续时间/ 可以/ 用/ 连接/ 所/ 支持/ 传输/ 的/ 光/ 突发/ 块/ 数目/ 衡量/ ./ 由于/ 业务/ 的/ 流量/ 会/ 持续/ 地/ 产生/ ,/ 因此/ OBLC/ 所/ 请求/ 的/ 传输/ 容量/ (/ 以光/ 突发/ 块/ 的/ 数目/ 计算/ )/ 会/ 大于/ 当前/ 所/ 存储/ 的/ 分组/ 数目/ ./ 在/ 连接/ 建立/ 后/ ,/ 源/ 节点/ 将/ 记录/ 已/ 发送/ 光/ 突发/ 块/ 的/ 数目/ ./ 当/ OBLC/ 接收/ 到/ 新/ 产生/ 的/ 流量/ 后/ ,/ 首先/ 检查/ 本/ pod/ 是否/ 已经/ 建立/ 到达/ 目的/ pod/ 的/ 连接/ ./ 若/ 连接/ 存在/ 且/ 剩余/ 的/ 传输/ 容量/ 支持/ 新/ 到达/ 的/ 流量/ ,/ 则/ OBLC/ 将/ 流量/ 封装/ 成光/ 突发/ 块/ 并/ 通过/ OBSC/ 发送/ ./ 否则/ ,/ OBLC/ 请求/ 建立/ 一条/ 新/ 的/ 连接/ ./ 光/ 突发/ 环路/ 使用/ 多个/ 波长/ 信道/ 增加/ 链路/ 带宽/ ,/ 控制/ 信息/ 在/ 特定/ 的/ 波长/ 信道/ 上/ 传输/ ./ 环路/ 上/ 某个/ pod/ 中/ 的/ 一台/ 服务器/ 将/ 作为/ 超级/ 节点/ 从/ 控制/ 信道/ 收集/ 所有/ 节点/ 的/ 连接/ 请求/ ,/ 随后/ 为/ 每/ 对/ 连接/ 分配/ 波长/ 信道/ 和/ 光/ 突发/ 块/ 的/ 发送/ 时隙/ ./ 配置/ 信息/ 会/ 封装/ 在/ 信道/ 每个/ 突发/ 帧/ 的/ 首个/ 光/ 突发/ 块/ 中/ ,/ 所有/ 节点/ 需要/ 在/ 指定/ 时隙/ 接收/ 在/ 该/ 信道/ 内/ 广播/ 的/ 配置/ 信息/ ,/ 随后/ 按照/ 该/ 配置/ 信息/ 进行/ 光/ 突发/ 块/ 的/ 发送/ 或/ 接收/ ./ 由于/ 该/ 架构/ 并未/ 使用/ 具有/ 较长/ 配置/ 时延/ 的/ MEMS/ 、/ 波长/ 选择/ 交换机/ (/ WavelengthSelectiveSwitch/ ,/ WSS/ )/ 等光/ 器件/ ,/ 因此/ 具有/ 更好/ 的/ 灵活性/ 和/ 更/ 高/ 的/ 带宽/ 利用率/ ./ 但/ 面向/ 连接/ 的/ 光/ 突发/ 交换/ 仍然/ 存在/ 链路/ 建立/ 的/ 时延/ 开销/ 和/ 控制/ 开销/ ./ 同时/ 由于/ 架构/ 采用/ 了/ 集中式/ 仲裁/ 的/ 方式/ ,/ 这些/ 开销/ 会/ 随着/ 节点/ 规模/ 的/ 上升/ 而/ 增大/ ./ 3.2/ 全光/ 互连/ 网络/ 架构/ 光电/ 混合/ 互连/ 网络/ 的/ 优势/ 在于/ :/ (/ 1/ )/ 为/ 传统/ 电/ 互连/ 网络/ 提供/ 了/ 渐进式/ 升级/ 的/ 方案/ ;/ (/ 2/ )/ 该类/ 光/ 网络/ 一般/ 使用/ 成熟/ 的/ 光/ 交换/ 技术/ 和/ 设备/ 构建/ ,/ 因此/ 能够/ 较/ 快/ 部署/ 到/ 实际/ 网络/ 中/ ./ 但/ 由于/ 光电/ 混合/ 网络/ 中/ 仍/ 存在/ 大量/ 的/ 电/ 交换/ 设备/ ,/ 因此/ 网络/ 并未/ 在/ 能耗/ 和/ 设备/ 开销/ 方面/ 取得/ 显著/ 的/ 优化/ ./ 目前/ 大规模/ 集群/ 系统/ 的/ 能耗/ 水平/ 已经/ 超过/ 预期/ ,/ 为/ 进一步/ 降低/ 能耗/ ,/ 需要/ 在/ 服务器/ 级/ 互连/ 、/ 板级/ 互连/ 、/ 甚至/ 在/ 芯片级/ 互连/ 领域/ 广泛/ 使用/ 光/ 技术/ [/ 29/ ]/ ./ 因此/ ,/ 研究/ 人员/ 提出/ 了/ 多种/ 面向/ 下一代/ 云/ 计算/ 数据中心/ 的/ 全光/ 网络/ 架构/ ./ 值得注意/ 的/ 是/ ,/ 由于/ 目前/ 全光/ 互连/ 网络/ 的/ 扩展性/ 极为/ 有限/ ,/ 这些/ 架构/ 最/ 多/ 提供/ 数千个/ 交换/ 端口/ ,/ 无法/ 实现/ 服务器/ 级/ 的/ 全光/ 互连/ ./ 在/ 这些/ 网络/ 中/ ,/ 仍然/ 需要/ 使用/ 少量/ 电/ 交换机/ 完成/ 机架/ 内/ 互连/ 或/ 簇内/ 互连/ ./ 因此/ ,/ 目前/ 我们/ 主要/ 根据/ 网络/ 的/ 簇间/ (/ 或/ 机架/ 间/ )/ 通信/ 方式/ 来/ 区分/ 光电/ 混合/ 网络/ 和/ 全光/ 网络/ ./ 若/ 位于/ 不同/ 簇/ (/ 或/ 机架/ )/ 的/ 服务器/ 既/ 可/ 通过/ 电/ 网络通信/ ,/ 又/ 可/ 通过/ 光/ 网络通信/ ,/ 则/ 该/ 网络/ 属于/ 光电/ 混合/ 互连/ 网络/ ./ 若/ 位于/ 不同/ 簇/ (/ 或/ 机架/ )/ 的/ 服务器/ 只能/ 通过/ 光/ 网络/ 进行/ 通信/ ,/ 则/ 该/ 网络/ 属于/ 全光/ 互连/ 网络/ ./ 从/ 互连/ 方式/ 上/ 看/ ,/ 可以/ 将/ 全光/ 互连/ 网络/ 划分/ 为/ 集中式/ 光/ 互连/ 网络/ 和/ 分布式/ 光/ 互连/ 网络/ ./ 根据/ 所/ 使用/ 的/ 核心/ 光/ 器件/ ,/ 集中式/ 光/ 互连/ 网络/ 可/ 进一步/ 分为/ 基于/ MEMS/ 、/ 基于/ 阵列/ 波导/ 光栅/ 路由器/ (/ ArrayWaveguideGratingRouter/ ,/ AWGR/ )/ 、/ 基于/ 半导体/ 光/ 放大器/ (/ SemiconductorOpticalAmplifier/ ,/ SOA/ )/ 和/ 基于/ 微环/ 谐振器/ 的/ 光/ 互连/ 网络/ ./ 下面/ 将/ 分别/ 介绍/ 各类/ 网络/ 架构/ 的/ 典型/ 设计方案/ ./ 3.2/ ./ 1/ 集中式/ 全光/ 互连/ 网络/ 架构/ 考虑/ 到/ 数据中心/ 的/ 实际/ 流量/ 往往/ 呈现/ 局部性/ 特/ Page7/ 点/ ,/ 采用/ 全对分/ 带宽/ 的/ 网络拓扑/ 不仅/ 会/ 带来/ 成本/ 、/ 能耗/ 、/ 布线/ 复杂度/ 等/ 问题/ ,/ 而且/ 可能/ 造成/ 带宽/ 资源/ 的/ 浪费/ ./ 设计/ 一种/ 灵活/ 可重/ 配置/ 的/ 网络/ 架构/ 能够/ 在/ 性能/ 和/ 成本/ 上/ 实现/ 更好/ 的/ 权衡/ ./ 基于/ 此/ ,/ Singla/ 等/ 人/ [/ 30/ -/ 31/ ]/ 提出/ 了/ 如图/ 5/ 所示/ 的/ Proteus/ (/ 或/ OSA/ )/ 架构/ ./ 该/ 架构/ 使用/ MEMS/ 光/ 交换机/ 直接/ 连接/ 所有/ ToR/ 交换机/ 构成/ 星形/ 拓扑/ ./ 每个/ ToR/ 交换机/ 配置/ 有/ 数个/ 工作/ 在/ 不同/ 波长/ 的/ 光/ 收发器/ ,/ 从/ 这些/ 收发器/ 发送/ 的/ 多/ 波长/ 信号/ 经过/ 复用/ 后/ 输入/ 1/ ×/ k/ 波长/ 选择/ 交换机/ (/ WSS/ )/ ./ 波长/ 选择/ 交换机/ 根据/ 配置/ 将/ 波长/ 重/ 分为/ k/ 组/ ,/ 并/ 通过/ k/ 个/ 端口/ 将/ 信号/ 送入/ MEMS/ 光/ 交换机/ ./ 通过/ 配置/ MEMS/ 交换机/ 的/ 交叉开关/ 矩阵/ ,/ 每个/ ToR/ 交换机/ 可以/ 与/ 其他/ k/ 个/ ToR/ 交换机/ 直接/ 连接/ ./ 对于/ 非/ 直接/ 互连/ ToR/ 交换机/ ,/ Proteus/ 提出/ 了/ hop/ -/ by/ -/ hop/ 的/ 通信/ 方式/ ./ 源/ ToR/ 交换机/ 选择/ 当前/ k/ 个/ 连接/ 中/ 的/ 一个/ 作为/ 中间/ 节点/ ,/ 该/ 中间/ ToR/ 交换机/ 接收/ 到/ 信号/ 后/ 进行/ 光电/ 转换/ ,/ 读取/ 分组/ 头部/ 并/ 重新/ 向/ 目的/ ToR/ 交换机/ 转发/ ./ 图/ 5Proteus/ 全光/ 交换/ 架构/ 尽管/ MEMS/ 全光/ 交换机/ 是/ 比较/ 成熟/ 的/ 商用/ 设备/ ,/ 该/ 交换机/ 的/ 使用/ 能够/ 带来/ 网络/ 成本/ 的/ 降低/ ./ 但/ 较/ 长/ 的/ 配置/ 时延/ 会/ 严重/ 影响/ 交换/ 粒度/ 和/ 网络/ 的/ 性能/ ,/ 因此/ 研究/ 人员/ 基于/ 其他/ 的/ 快速/ 光/ 交换/ 单元/ 提出/ 了/ 新/ 的/ 交换/ 架构/ ./ Ye/ 等/ 人/ 提出/ 的/ DOS/ (/ 或/ LION/ [/ 33/ ]/ )/ 架构/ 基于/ AWGR/ 构建/ [/ 34/ ]/ ./ AWGR/ 是/ 一种/ 基于/ 波长/ 交换/ 的/ 元件/ ,/ 通过/ 干涉/ 相消/ 和/ 干涉/ 加强/ 效应/ 实现/ 光/ 信号/ 从/ 任意/ 输入/ 端口/ 到/ 任意/ 输出/ 端口/ 的/ 路由/ ./ 对于/ 某/ 端口/ 的/ 输入/ 信号/ ,/ 其/ 输出/ 端口/ 取决于/ 信号/ 的/ 波长/ ./ 通过/ 在/ 输入/ 端口/ 部署/ 可调/ 波长/ 转换器/ (/ TunableWavelengthConverter/ ,/ TWC/ )/ 即可/ 实现/ 对/ 信号/ 路由/ 的/ 控制/ ./ 如为/ 避免/ 转发/ 流量/ 过大/ 造成/ 中间/ 节点/ 缓存/ 溢出/ 的/ 问题/ ,/ 高/ 通信/ 流量/ 的/ 节点/ 对/ 之间/ 需要/ 采用/ 直接/ 互连/ 的/ 方式/ ./ 除/ 通过/ 动态/ 配置/ 光/ 交换机/ 改变/ 网络拓扑/ 的/ 连通性/ 外/ ,/ Proteus/ 还/ 通过/ 波分/ 复用技术/ 和/ WSS/ 实现/ 链路/ 带宽/ 的/ 灵活/ 配置/ ./ 在/ 该/ 架构/ 中/ 拓扑/ 管理器/ (/ TopologyManager/ ,/ TM/ )/ 负责/ 完成/ MEMS/ 、/ WSS/ 和/ ToR/ 交换机/ 的/ 优化/ 配置/ 工作/ ./ 为/ 最大化/ 网络/ 吞吐/ ,/ TM/ 需要/ 根据/ 流量/ 矩阵/ 完成/ 以下/ 配置/ :/ (/ 1/ )/ MEMS/ 光/ 交换机/ 的/ 配置/ ,/ 保证/ 具有/ 最高/ 通信量/ 的/ ToR/ 交换机/ 通过/ 一跳/ 完成/ 通信/ ;/ (/ 2/ )/ WSS/ 的/ 配置/ ,/ 确保/ 每个/ 端口/ 的/ 带宽/ 满足/ ToR/ 交换机/ 的/ 发送/ 需求/ ;/ (/ 3/ )/ ToR/ 节点/ 对/ 之间/ 的/ 路由/ 配置/ ,/ 保证/ 流量/ 低/ 时延/ 、/ 无/ 阻塞/ 到达/ 目的/ 节点/ ./ 文章/ 将/ 这个/ 优化/ 配置/ 问题/ 转换/ 为/ 一个/ 混合/ 整数/ 线性规划/ ,/ 并/ 提出/ 使用/ 启发式/ 算法/ 求解/ 该/ 问题/ ./ Proteus/ 的/ 优势/ 在于/ 网络/ 具备/ 较/ 高/ 的/ 带宽/ 灵活/ 度/ ,/ 能够/ 根据/ 流量/ 需求/ 提供/ 较/ 高/ 的/ 对/ 分/ 带宽/ ./ 但/ 由于/ Proteus/ 使用/ MEMS/ 交换机/ ,/ 因此/ 对于/ 业务/ 的/ 流量/ 特点/ 仍然/ 有/ 较/ 高/ 的/ 要求/ [/ 32/ ]/ ./ 图/ 6/ 所示/ ,/ DOS/ 使用/ 核心/ 光/ 交换/ 架构/ 直接/ 互连/ 所有/ 服务器/ 节点/ ./ 该/ 核心/ 光/ 交换/ 架构/ 具体/ 包括/ TWC/ 、/ AWGR/ 和/ 共享/ 式/ 环回/ 缓存/ ./ 源/ 节点/ 发送/ 的/ 分组/ 通过/ 光/ 通道/ 适配器/ 进行/ 电光/ 转换/ ,/ 随后/ 部署/ 在/ 输入/ 端口/ 的/ 光/ 标签/ 提取/ 器/ 将/ 提取/ 分组/ 头域/ 信息/ ,/ 并/ 将/ 该/ 信息/ 送入/ 控制/ 层/ 进行/ 路由/ 计算/ 和/ 仲裁/ ./ 控制/ 层/ 将/ 根据/ 仲裁/ 结果/ 配置/ 输入/ 端口/ 的/ TWC/ ,/ 光/ 分组/ 经过/ TWC/ 时/ 被/ 转换/ 到/ 特定/ 波长/ 并/ 路由/ 到/ 对应/ 的/ 输出/ 端口/ ./ 根据/ AWGR/ 的/ 波长/ 路由/ 特性/ ,/ 同一/ 输入/ 端口/ 的/ 信号/ 通过/ 不同/ 的/ 波长/ 到达/ 不同/ 输出/ 端口/ ./ 若/ 输出/ 端口/ 接收/ 到/ 不同/ 输入/ 端口/ 的/ 信号/ ,/ 则/ 这些/ 信号/ 的/ 波长/ 必然/ 不同/ ./ 因此/ ,/ 对于/ N/ 端口/ AWGR/ ,/ 若/ 在/ 输出/ 端口配置/ 1/ :/ NPage8/ 图/ 6DOS/ 全光/ 互连/ 架构/ 解/ 复用器/ ,/ 则/ AWGR/ 可以/ 实现/ all/ -/ to/ -/ all/ 无/ 阻塞/ 通信/ ./ 但/ 这会/ 带来/ 较/ 高/ 的/ 器件/ 成本/ ,/ 因此/ 在/ 实际/ 应用/ 中/ AWGR/ 的/ 输出/ 端口/ 会/ 配置/ 1/ :/ k/ (/ k/ </ N/ )/ 解/ 复用器/ ./ 这/ 将/ 导致/ 使用/ 某些/ 波长/ 的/ 分组/ 无法/ 同时/ 到达/ 输出/ 端口/ ./ 为/ 解决/ 波长/ 竞争/ 问题/ ,/ DOS/ 使用/ 了/ 共享/ 式/ 环回/ 缓存/ (/ SharedLoopbackBuffer/ ,/ SLB/ )/ 结构/ ./ 竞争/ 分组/ 将/ 被/ 路由/ 至/ 环回/ 缓存/ 的/ 输入/ 端口/ ,/ 通过/ 光电/ 转换/ 临时/ 存储/ 在/ 环回/ 缓存/ 中/ ./ 缓存/ 控制器/ 负责/ 为/ 竞争/ 失败/ 的/ 分组/ 发送/ 重新/ 传输/ 的/ 请求/ ,/ 收到/ 响应/ 后/ ,/ 相关/ 分组/ 将/ 再次/ 进行/ 电光/ 转换/ 并/ 通过/ AWGR/ 传输/ 到/ 目的/ 节点/ ./ 尽管/ 上述/ 共享/ 式/ 环回/ 缓存/ 结构/ 具有/ 控制/ 简单/ 、/ 资源/ 利用率/ 较/ 高/ 的/ 优点/ ,/ 但/ 这种/ 缓存/ 结构/ 必须/ 在/ 内部/ 设置/ N/ 倍/ 的/ 加速/ 带宽/ 以/ 处理/ 多个/ 分组/ 同时/ 到达/ 一条/ 队列/ 的/ 情况/ ./ 缓存/ 的/ I/ // O/ 带宽/ 会/ 随着/ 交换机/ 端口数/ 目的/ 增加/ 而/ 增大/ ,/ 这会/ 限制/ 交换机/ 的/ 扩展/ 规模/ ./ 为/ 解决/ 这一/ 问题/ ,/ 文献/ [/ 34/ ]/ 提出/ 了/ 分布式/ 环回/ 缓存/ (/ DistributedLoopbackBuffer/ ,/ DLB/ )/ 结构/ 和/ 混合式/ 环回/ 缓存/ (/ MixedLoopbackBuffer/ ,/ MLB/ )/ 结构/ ./ 其中/ ,/ DLB/ 是/ 一种/ 基于/ 输入/ 队列/ 的/ 分布式/ 缓存/ 结构/ ,/ 它/ 使用/ N/ 个/ 分离/ 的/ 缓存/ 单元/ 实现/ N/ 条/ 分离/ 的/ 缓存/ 队列/ ,/ 每个/ 队列/ 对应/ 存储/ 一个/ 特定/ 输入/ 端口/ 的/ 延迟/ 分组/ ./ 在/ 最/ 简单/ 的/ 情况/ 下/ ,/ 每条/ 队列/ 无须/ 使用/ 虚拟/ 输出/ 队列/ ,/ 仅/ 配置/ 一个/ 发射器/ ./ 但/ 这会/ 导致/ 缓存/ 控制器/ 设计/ 难度/ 的/ 增加/ ,/ 同时/ 队头/ 阻塞/ 的/ 问题/ 不可避免/ ./ 作者/ 利用/ 波长/ 的/ 并行性/ 来/ 缓解/ 队头/ 阻塞/ 问题/ ,/ 通过/ 在/ 每条/ 队列/ 部署/ 多个/ 发射器/ ,/ 可以/ 实现/ 使用/ 不同/ 波长/ 的/ 多个/ 分组/ 并行/ 向/ 不同/ 输出/ 端口/ 发送/ ./ 另外/ 前/ 文/ 所述/ 的/ SLB/ 仅/ 占用/ AWGR/ 的/ 一个/ 端口/ ,/ 而/ DLB/ 中/ 每条/ 缓存/ 队列/ 都/ 需要/ 占用/ AWGR/ 的/ 一个/ 端口/ ./ 因此/ 对于/ 连接/ N/ 个/ 终端/ 节点/ 的/ 分布式/ 环回/ 缓存/ 架构/ ,/ 需要/ 使用/ 2N/ ×/ 2N/ 的/ AWGR/ 分别/ 连接/ 终端/ 节点/ 和/ 缓存/ 队列/ ./ 与/ SLB/ 相比/ ,/ DLB/ 能够/ 实现/ 更/ 低/ 的/ 端/ 到/ 端/ 传输/ 时延/ ,/ 同时/ 缓存/ 的/ I/ // O/ 带宽/ 仅/ 与/ 输入/ 端口/ 的/ 数据/ 速率/ 相关/ ./ 但/ DLB/ 需要/ 占用/ 更/ 多/ 的/ 端口/ 和/ 发射机/ 单元/ ./ 为/ 结合/ 两种/ 缓存/ 结构/ 的/ 优势/ ,/ 作者/ 进一步/ 提出/ 了/ MLB/ 结构/ ./ MLB/ 仍/ 需要/ 占用/ 多个/ AWGR/ 端口/ 以/ 支持/ 多条/ 分离/ 的/ 队列/ ,/ 但/ 与/ DLB/ 不同/ 的/ 是/ ,/ 在/ DLB/ 中/ 每条/ 回收/ 缓存/ 队列/ 仅/ 服务/ 一个/ 输入/ 端口/ 的/ 延迟/ 分组/ ,/ 在/ MLB/ 中/ 每条/ 回收/ 缓存/ 队列/ 服务/ r/ 个/ 输入/ 端口/ 的/ 延迟/ 分组/ ./ 因此/ ,/ 若/ 互连/ N/ 个/ 服务器/ 节点/ ,/ 混合式/ 回收/ 缓存/ 队列/ 需要/ 占用/ N/ // r/ 个/ 端口/ ./ MLB/ 中/ 每条/ 队列/ 同样/ 使用/ 多个/ 发射器/ 以/ 缓解/ 队头/ 阻塞/ 的/ 问题/ ./ 综合/ 对比/ 上述/ 3/ 种/ 缓存/ 结构/ ,/ SLB/ 需要/ 最高/ 的/ 缓存/ I/ // O/ 带宽/ ,/ 但仅/ 占用/ AWGR/ 一个/ 端口/ ;/ DLB/ 需要/ 最小/ 的/ 缓存/ I/ // O/ 带宽/ ,/ 但/ 需要/ 更/ 多/ 的/ 可调/ 波长/ 转换器/ ./ 同时/ AWGR/ 需要/ 使用/ 2N/ 个/ 端口/ 以/ 分别/ 连接/ N/ 个/ 终端/ 节点/ 和/ N/ 条/ 回收/ 队列/ ;/ MLB/ 实现/ 了/ SLB/ 和/ DLB/ 之间/ 的/ 权衡/ ./ 文献/ [/ 35/ ]/ 建立/ 了/ DOS/ 的/ 硬件/ 实验/ 平台/ ,/ 实验/ 发现/ 环回/ 缓存/ 的/ 复杂/ 结构/ 会/ 成为/ 交换机/ 扩展/ 的/ 主要/ 限制/ 因素/ ./ 为/ 解决/ 这一/ 问题/ ,/ 作者/ 进一步/ 提出/ 了/ 基于/ 全光/ NACK/ (/ AllOpticalNegativeAcknowledgement/ ,/ AO/ -/ NACK/ )/ 的/ 交换/ 架构/ [/ 35/ -/ 36/ ]/ ./ 该/ 交换/ 架构/ 与/ 基于/ 共享/ 环回/ 缓存/ 的/ AWGR/ 架构/ 基本/ 相似/ ,/ 对于/ 一个/ (/ N/ +/ 1/ )/ ×/ (/ N/ +/ 1/ )/ 的/ AWGR/ ,/ 其中/ N/ 个/ 端口/ 通过/ TWC/ 连接/ 至/ 服务器/ 节点/ ,/ 剩余/ 一个/ 端口/ 用于/ 处理/ 竞争/ 延迟/ 的/ 分组/ ./ 与/ 共享/ 环回/ 缓存/ 架构/ 的/ 不同之处/ 在于/ :/ (/ 1/ )/ 每个/ 输入/ 端口配置/ 有/ 两个/ 光/ 环形/ 器/ 用于/ 分离/ 发往/ AWGR/ 的/ 分组/ Page9/ 和/ 反向/ 传输/ 的/ AO/ -/ NACK/ 分组/ ;/ (/ 2/ )/ 处理/ 竞争/ 分组/ 的/ 端口/ 被/ 称为/ 反射/ 端口/ ,/ 该/ 端口/ 通过/ 使用/ 一个/ 环形/ 器/ 实现/ 所有/ 输入/ 信号/ 的/ 反向/ 传输/ ./ AO/ -/ NACK/ 架构/ 中/ 不/ 存在/ 电/ 缓存/ ./ 当发往/ 同一/ 输出/ 端口/ 的/ 两个/ 分组/ 发生/ 波长/ 竞争/ 时/ ,/ 控制/ 层/ 将/ 调节/ TWC/ 使/ 其中/ 一个/ 分组/ 正确/ 发/ 往/ 目的/ 端口/ ,/ 使/ 另/ 一个/ 分组/ 发/ 往/ 反射/ 端口/ ./ 反射/ 端口/ 所/ 连接/ 的/ 光/ 环形/ 器会/ 将/ 分组/ 反向/ 发送至/ 输入/ 端口/ ,/ 连接/ 在/ 输入/ 端口/ 的/ 光/ 环形/ 器/ 进一步/ 将/ 分组/ 反向/ 发送至/ 源/ 服务器/ ./ 当源/ 服务器/ 探测/ 到/ 该/ 分组/ 时/ ,/ 知道/ 分组/ 发送/ 失败/ ,/ 因此/ 会/ 重新/ 发送/ 该/ 分组/ ./ AO/ -/ NACK/ 架构/ 能够/ 并行处理/ 所有/ 输入/ 端口/ 的/ 竞争/ 分组/ ,/ 因此/ 能/ 获得/ 与/ DLB/ 相似/ 的/ 网络/ 性能/ ,/ 同时/ 避免/ 了/ 环/ 回式/ 缓存/ 带来/ 的/ 成本/ 和/ 控制/ 开销/ ./ 由于/ 基于/ AWGR/ 和/ TWC/ 的/ 波长/ 交换/ 架构/ 能图/ 7/ 基于/ 光纤/ 延迟线/ 的/ AWGR/ 环回/ 架构/ 够/ 实现/ 细粒度/ 下/ 的/ 光/ 分组/ 交换/ ,/ 因此/ 得到/ 研究/ 人员/ 的/ 广泛/ 关注/ ./ 在/ 解决/ 分组/ 竞争/ 的/ 问题/ 上/ ,/ 除/ 上述/ DOS/ 中/ 提出/ 的/ 电环回/ 缓存/ 机制/ 、/ AO/ -/ NACK/ 机制/ ,/ 还/ 可以/ 使用/ 基于/ 光纤/ 延迟线/ (/ FiberDelayLines/ ,/ FDL/ )/ 的/ 光环/ 回/ 缓存/ 机制/ ./ Rastegarfar/ 等/ 人/ 在/ 文献/ [/ 37/ ]/ 中/ 提出/ 了/ 3/ 种/ 基于/ FDL/ 的/ 光环/ 回/ 缓存/ 结构/ ./ 如图/ 7/ 所示/ ,/ 这/ 3/ 种/ 光环/ 回/ 缓存/ 结构/ 分别/ 被/ 命名/ 为/ BM1/ 、/ BM2/ 、/ BM3/ ./ BM1/ 使用/ 一个/ 2N/ ×/ 2N/ 的/ AWGR/ 作为/ 核心/ 交换/ 单元/ ,/ 其中/ N/ 个/ 端口/ 作为/ 交换/ 端口/ 实现/ 输入/ 光/ 分组/ 的/ 直接/ 转发/ ,/ 其余/ N/ 个/ 端口/ 作为/ 环回/ 端口/ 实现/ 竞争/ 分组/ 的/ 缓存/ 和/ 二次/ 转发/ ./ 每个/ 交换/ 端口/ 的/ 输入/ 位置/ 连接/ 有/ TWC/ 以/ 实现/ 分组/ 的/ 波长/ 路由/ ./ 在/ 输出/ 位置/ 依次/ 连接/ 有/ SOA/ 、/ 可调/ 滤波器/ (/ TunableFilter/ ,/ TF/ )/ 和/ Page10TWC/ ./ 其中/ SOA/ 用于/ 补偿/ 光/ 信号/ 的/ 传输/ 损耗/ ,/ TF/ 用于/ 限制/ 自发/ 放大/ 辐射/ 噪声/ ,/ TWC/ 用于/ 调整/ 输出/ 分组/ 的/ 波长/ ./ 每个/ 环回/ 端口/ 的/ 输出/ 位置/ 连接/ 有/ 长度/ 为/ 一个/ 时隙/ 的/ FDL/ ,/ 在/ 输入/ 位置/ 依次/ 连接/ 有/ SOA/ 、/ TF/ 和/ TWC/ ./ 在/ 每个/ 时隙/ ,/ BM1/ 通过/ 合理配置/ TWC/ 可/ 最/ 多/ 实现/ N/ 个/ 高/ 优先级/ 的/ 分组/ 到达/ 交换/ 端口/ 的/ 输出/ 端/ ,/ 其余/ 分组/ 则/ 需要/ 丢弃/ 或/ 进入/ 环回/ 缓存/ ./ BM1/ 的/ 最大/ 特点/ 在于/ 环回/ 缓存/ 的/ 共享性/ ,/ 即/ 任意/ 输入/ 分组/ 可以/ 进入/ 任意/ 的/ FDL/ ./ 在/ BM1/ 中/ ,/ 所有/ FDL/ 仅/ 提供/ 一个/ 时隙/ 的/ 延迟/ ,/ 同时/ 也/ 仅/ 能/ 存储/ 一个/ 分组/ ,/ 若/ 延长/ FDL/ 的/ 长度/ ,/ 则/ 可以/ 存储/ 更/ 多/ 的/ 分组/ ./ 因此/ BM2/ 采用/ 了/ 与/ BM1/ 类似/ 的/ 结构/ ,/ 唯一/ 不同/ 在于/ BM2/ 中/ N/ // 2/ 个/ 环回/ 端口/ 连接/ 长度/ 为/ 1/ 个/ 时隙/ 的/ FDL/ ,/ N/ // 4/ 个/ 环回/ 端口/ 连接/ 长度/ 为/ 2/ 个/ 时隙/ 的/ FDL/ ,/ N/ // 8/ 个/ 环回/ 端口/ 连接/ 长度/ 为/ 3/ 个/ 时隙/ 的/ FDL/ ,/ 剩余/ N/ // 8/ 个/ 环回/ 端口/ 连接/ 长度/ 为/ 4/ 个/ 时隙/ 的/ FDL/ ./ 在/ 每个/ 时隙/ ,/ 控制/ 层/ 将/ 检查/ 目的/ 地址/ 为/ 同一/ 输出/ 端口/ 的/ 分组/ 的/ 优先级/ ./ 若/ 某个/ 分组/ 的/ 优先级/ 为/ k/ ,/ 则/ 交换/ 架构/ 中/ 存在/ k/ -/ 1/ 个/ 分组/ 优先级/ 高于/ 该/ 分组/ ,/ 因此/ 该/ 分组/ 将/ 被/ 延迟/ k/ 个/ 时隙/ 后/ 发送/ ./ 在/ BM1/ 中该/ 分组/ 需要/ 循环/ 存储/ k/ 次/ ,/ 而/ 在/ BM2/ 中/ ,/ 该/ 分组/ 可以/ 存储/ 在/ 长/ 时隙/ FDL/ 中以/ 降低/ 分组/ 循环/ 存储/ 的/ 次数/ ./ 如图/ 7/ (/ b/ )/ 所示/ 的/ BM3/ 使用/ 两级/ AWGR/ 构建/ ./ 第/ 1/ 级/ 为/ 2N/ ×/ 2N/ 的/ AWGR/ ,/ 其中/ N/ 个/ 端口/ 为/ 交换/ 端口/ ,/ N/ 个/ 端口/ 为/ 环回/ 端口/ ,/ 第/ 2/ 级/ 为/ N/ ×/ N/ 的/ AWGR/ ,/ 所有/ 端口/ 全部/ 为/ 交换/ 端口/ ./ 第/ 1/ 级/ AWGR/ 的/ 每个/ 交换/ 端口/ 在/ 输入/ 位置/ 部署/ 有/ TWC/ ,/ 在/ 输出/ 位置/ 依次/ 部署/ 有/ SOA/ 、/ TF/ 、/ TWC/ 模块/ ./ 第/ 2/ 级/ AWGR/ 的/ 输出/ 端口/ 同样/ 依次/ 部署/ SOA/ 、/ TF/ 、/ TWC/ 模块/ ./ 与/ BM1/ 、/ BM2/ 不同/ 的/ 是/ ,/ BM3/ 中环/ 回/ 端口/ 位置/ 仅/ 部署/ 不同/ 长度/ 的/ FDL/ ,/ 不/ 部署/ 任何/ 波长/ 转换/ 器件/ ,/ 因此/ 在/ BM3/ 中/ 竞争/ 分组/ 只能/ 在/ 环回/ 缓存/ 中/ 存储/ 一次/ ./ 同时/ 从/ 环回/ 端口/ 输出/ 的/ 分组/ 无法/ 实现/ 基于/ 波长/ 的/ 路由/ ,/ 只能/ 通过/ 第/ 2/ 级/ AWGR/ 路由/ 到/ 指定/ 的/ 目的/ 端口/ ./ 尽管/ 基于/ FDL/ 的/ 光环/ 回/ 缓存/ 能够/ 有效/ 避免/ 光电/ 转换器/ 和/ 电/ 缓存/ 的/ 使用/ ,/ 从而/ 降低/ 能耗/ 并/ 实现/ 信息/ 的/ 透明/ 传输/ ./ 但/ 在/ 实际/ 部署/ 中/ 由于/ 受到/ 技术/ 和/ 成本/ 的/ 限制/ ,/ 交换机/ 能够/ 连接/ 的/ FDL/ 数目/ 有限/ ,/ 这/ 使光/ 路由器/ 不得不/ 降低/ 吞吐/ 以/ 避免/ 分组/ 的/ 大量/ 丢失/ ./ 对此/ ,/ Rastegarfar/ 等/ 人/ [/ 38/ ]/ 进一步/ 提出/ 了/ 基于/ FDL/ 和/ WDM/ 的/ 共享/ 环回/ 缓存/ 结构/ ./ 该/ 结构/ 同样/ 采用/ 2N/ ×/ 2N/ 的/ AWGR/ 作为/ 核心/ 交换/ 单元/ ,/ 其中/ N/ 个/ 端口/ 为/ 交换/ 端口/ ,/ 另外/ N/ 个/ 端口/ 为/ 环回/ 端口/ ./ 每个/ 环回/ 端口/ 的/ 输出/ 位置/ 连接/ 长度/ 为/ 一个/ 时隙/ 的/ FDL/ ,/ 随后/ 依次/ 连接/ 掺/ 铒/ 光纤/ 放大器/ (/ Erbium/ -/ dopedFiberAmplifier/ ,/ EDFA/ )/ 和/ 缓存/ 模块/ (/ BufferModule/ ,/ BM/ )/ ,/ 最后/ 连接/ 到/ 该/ 端口/ 的/ 输入/ 位置/ 构成/ 一条/ 环路/ ./ 每个/ 交换/ 端口/ 的/ 输入/ 位置/ 配置/ 有/ 输入/ 模块/ (/ InputModule/ ,/ IM/ )/ 和/ EDFA/ ./ 每个/ IM/ 和/ BM/ 依次/ 由/ 1/ ×/ 2N/ 解/ 复用器/ 、/ TWC/ 、/ 2N/ ×/ 1/ 耦合/ 器/ 构成/ ./ 在/ 一个/ 周期/ 内/ ,/ 该/ 架构/ 可以/ 在/ 输入/ 端口/ 实现/ 2N/ 个/ 分组/ 的/ 动态/ 路由/ ./ 由于/ 在/ 环回/ 端口/ 的/ 输入/ 位置/ 使用/ 了/ BM/ 模块/ ,/ 在/ 每个/ 时隙/ ,/ 每条/ FDL/ 内/ 可/ 最/ 多/ 存储/ 2N/ 个/ 不同/ 波长/ 的/ 光/ 分组/ ./ 另外/ 每个/ 时隙/ ,/ 竞争/ 分组/ 可以/ 选择/ 任意/ 可用/ 的/ 环回/ 缓存/ ,/ 这种/ 方式/ 有效/ 提高/ 了/ 缓存/ 的/ 利用效率/ ./ 为/ 进一步提高/ 交换机/ 的/ 吞吐/ ,/ 作者/ 提出/ 了/ 负载/ 均衡/ 的/ 调度/ 策略/ ./ 该/ 策略/ 可/ 将/ 具有/ 相同/ 目的/ 端口/ 的/ 分组/ 均匀/ 缓存/ 在/ 不同/ FDL/ 中/ ,/ 这样/ 在/ 下个/ 时隙/ ,/ 这些/ 竞争/ 分组/ 就/ 可以/ 并行/ 地/ 输出/ ./ 仿真/ 结果表明/ 基于/ WDM/ 的/ 共享/ FDL/ 光/ 路由器/ 能够/ 有效/ 降低/ 分组/ 丢失/ 率/ 并/ 能/ 较/ 好/ 地/ 适应/ 多种/ 流量/ 模式/ ./ 另外/ 通过/ 细化/ 交换/ 粒度/ ,/ 可以/ 有效/ 提高/ AWGR/ 的/ 并行/ 交换/ 能力/ ,/ 进而/ 实现/ all/ -/ to/ -/ all/ 流量/ 模式/ 下/ 的/ 无/ 阻塞/ 交换/ ./ 基于/ 这种/ 思想/ ,/ Ji/ 等/ 人/ [/ 39/ ]/ 提出/ 了/ 基于/ 正交/ 频分/ 复用/ (/ OrthogonalFrequencyDivisionMultiplexing/ ,/ OFDM/ )/ 的/ AWGR/ 交换/ 架构/ ./ 该/ 架构/ 的/ 交换/ 核心/ 使用/ N/ ×/ N/ 的/ AWGR/ ,/ 每个/ AWGR/ 的/ 端口/ 连接/ 一台/ 机架/ ,/ 机架/ 内/ 部署/ 数十台/ 服务器/ ./ 机架/ 内/ 的/ 通信/ 通过/ ToR/ 交换机/ 完成/ ,/ 机架/ 间/ 的/ 通信/ 通过/ AWGR/ 完成/ ./ 服务器/ 发/ 往/ 其他/ 机架/ 的/ 分组/ 首先/ 在/ ToR/ 交换机/ 位置/ 汇聚/ 并/ 发送至/ 一个/ 发射器/ ,/ 该/ 发射器/ 所/ 包含/ 的/ OFDM/ 模块/ 会/ 使用/ 合适/ 的/ 子/ 载波/ 将/ 汇聚/ 信号/ 调制/ 成/ k/ 路/ OFDM/ 数据流/ ,/ 其中/ k/ 是/ 汇聚/ 流量/ 所/ 发往/ 的/ 目的/ 机架/ 的/ 数目/ ./ 随后/ ,/ 这/ k/ 路/ OFDM/ 数据流/ 被/ 转换/ 为/ k/ 路多/ 波长/ 信号/ ,/ 通过/ WDM/ 耦合/ 器/ ,/ 所有/ 信号/ 耦合/ 为/ 一路/ WDM/ 信号/ 并/ 被/ 发送至/ AWGR/ ./ 根据/ AWGR/ 的/ 循环/ 波长/ 路由/ 特性/ ,/ 不同/ 波长/ 的/ 信号/ 被/ 发送到/ 不同/ 的/ 目的/ 机架/ ./ 集中式/ OFDM/ 子/ 载波/ 分配机制/ 可以/ 确保/ 同一/ 波长/ 信道/ 内/ 的/ 子/ 载波/ 不会/ 相互/ 冲突/ ./ 在/ 接收端/ ,/ OFDM/ 信号/ 解调/ 为/ 原始/ 电/ 分组/ 并/ 通过/ ToR/ 交换机/ 将/ 分组/ 发送到/ 相应/ 的/ 目的/ 服务器/ ./ 由于/ 提供/ 了/ 比/ 波长/ 更加/ 精细/ 的/ 交换/ 粒度/ ,/ AWGR/ 位置/ 不/ 存在/ 分组/ 的/ 竞争/ ./ 同一/ 波长/ 信道/ 内/ 的/ 分组/ 对于/ 子/ 载波/ 的/ 竞争/ 可以/ 在/ 源/ 节点/ 位置/ 进行/ 仲裁/ ,/ 因此/ 整个/ AWGR/ 架构/ 未/ 使用/ 环回/ 缓存/ ,/ 这/ 在/ 一定/ 程度/ 上/ 降低/ 了/ 设备/ 和/ 控制/ 的/ 开销/ ./ 尽管/ 基于/ TWC/ 和/ AWGR/ 的/ 光/ 交换/ 架构/ 可以/ 极大/ 地/ 简化/ 拓扑/ 结构设计/ ,/ 实现/ 优于/ 严格/ 无/ 阻塞/ 交换/ 的/ 通信/ 能力/ ./ 但/ 在/ 实际/ 部署/ 中/ ,/ AWGR/ 的/ 端口/ 数目/ 却会/ 受到/ 下述/ 条件/ 的/ 限制/ :/ (/ 1/ )/ 随着/ 端口数/ 目的/ 增加/ ,/ Page11AWGR/ 波长/ 信道/ 的/ 通带/ 中心/ 频率/ 偏移/ 会/ 更加/ 严重/ ,/ 这会/ 给/ TWC/ 的/ 设计/ 和/ 控制/ 带来/ 极大/ 的/ 挑战/ ;/ (/ 2/ )/ 光/ 信号/ 之间/ 的/ 串扰/ 会/ 随着/ AWGR/ 规模/ 的/ 增大/ 而/ 增加/ ./ 为/ 解决/ 上述/ 问题/ ,/ 研究/ 人员/ 提出/ 了/ 基于/ 低/ 基数/ AWGR/ 模块/ 的/ 级联/ 结构/ ./ Sato/ 等/ 人/ [/ 40/ ]/ 提出/ 的/ 两级/ AWGR/ 交换/ 网络/ 如图/ 8/ 所示/ ./ 在/ 该/ 网络/ 中/ ,/ N/ 个/ M/ ×/ M/ 的/ AWGR/ 模块/ 构成/ 前置/ 交换/ 级/ ,/ M/ 个/ N/ ×/ N/ 的/ AWGR/ 模块/ 构成/ 后置/ 交换/ 级/ ./ 前置/ 交换/ 级/ 中/ 每个/ AWGR/ 模块/ (/ 称为/ 前置/ AWGR/ )/ 的/ M/ 个/ 端口/ 分别/ 连接/ 至/ 后置/ 交换/ 级/ 的/ 每个/ AWGR/ 模块/ (/ 称为/ 后置/ AWGR/ )/ ./ 整个/ 架构/ 共/ 提供/ MN/ ×/ MN/ 个/ 交换/ 端口/ ./ 每个/ 前置/ AWGR/ 模块/ 的/ 输入/ 端口配置/ 有/ TWC/ 单元/ ./ 根据/ 路由/ 计算/ ,/ TWC/ 可以/ 将/ 分组/ 的/ 波长/ 调制/ 到/ λ/ 1/ ~/ λ/ MN/ 范围/ 内/ 的/ 特定/ 波长/ 输出/ ./ 其中/ 波长/ 的/ 序号/ 将/ 决定/ 分组/ 的/ 输出/ 端口/ ./ 值得注意/ 的/ 是/ ,/ 前置/ AWGR/ 仅/ 有/ M/ 个/ 端口/ ,/ 根据/ 循环/ 波长/ 路由/ 的/ 规则/ ,/ MN/ 个/ 波长/ 中有/ N/ 个/ 波长/ 将/ 被/ 路由/ 到/ 每个/ 前置/ AWGR/ 的/ 同一个/ 输出/ 端口/ ,/ 这些/ 波长/ 的/ 序号/ 依次/ 间隔/ M/ ./ 经过/ 后置/ AWGR/ 模块/ 后/ ,/ 上述/ 间隔/ 为/ M/ 的/ 波长/ 组将/ 分别/ 被/ 路由/ 至/ 不同/ 的/ 输出/ 端口/ ./ 因此/ 从/ 整体/ 上/ 看/ ,/ 前置/ AWGR/ 模块/ 每个/ 输入/ 端口/ 的/ 不同/ 波长/ λ/ 1/ ~/ λ/ MN/ 将/ 被/ 路由/ 至/ 后置/ AWGR/ 的/ 不同/ 输出/ 端口/ ./ 另外/ ,/ 为/ 保证/ 前置/ AWGR/ 同一/ 输出/ 端口/ 的/ 波长/ 组/ {/ λ/ i/ ,/ λ/ i/ +/ M/ ,/ λ/ i/ +/ 2M/ ,/ …/ }/ 在/ 经过/ 后置/ AWGR/ 后/ 被/ 彻底/ 分离/ ,/ M/ 和/ N/ 的/ 取值/ 为/ 互质数/ ./ 上述/ 两级/ AWGR/ 交换/ 网络/ 完全/ 实现/ 了/ 单一/ AWGR/ 的/ 波长/ 路由/ 功能/ ,/ 但/ 与/ 单一/ AWGR/ 相比/ 具有/ 以下/ 两点/ 优势/ :/ (/ 1/ )/ 由于/ 架构/ 使用/ 了/ 小/ 端口/ AWGR/ 模块/ ,/ 因此/ 减小/ 了/ 波长/ 偏移/ 效应/ ;/ (/ 2/ )/ 这种/ 两级/ 式/ 交换/ 架构/ 可以/ 采用/ 渐进/ 的/ 扩展/ 方式/ 构建/ ,/ 因此/ 降低/ 了/ 网络/ 成本/ 开销/ ./ Chao/ 等/ 人/ [/ 41/ -/ 42/ ]/ 则/ 提出/ 了/ 基于/ AWGR/ 的/ 三级/ 交换/ 网络/ Petabit/ ./ 如图/ 9/ 所示/ ,/ 该/ 网络/ 由/ IM/ 模块/ 、/ CM/ (/ CentralModule/ )/ 模块/ 和/ OM/ (/ OutputModule/ )/ 模块/ 互连/ 成/ Clos/ 拓扑/ ./ 每个/ 模块/ 使用/ AWGR/ 作为/ 核心/ 交换/ 单元/ ./ CM/ 模块/ 和/ OM/ 模块/ 的/ 输入/ 端口/ 位置/ 配置/ 有/ TWC/ 以/ 进行/ 路由/ 的/ 控制/ ,/ 由于/ 线卡/ 的/ 发射器/ 已经/ 包含/ 可调/ 激光器/ ,/ 因此/ 连接线/ 卡/ 的/ IM/ 模块/ 不/ 需要/ 在/ 输入/ 端口配置/ TWC/ 单元/ ./ 相对/ 基于/ 单一/ AWGR/ 的/ 交换/ 架构/ ,/ Petabit/ 需/ 采用/ 更加/ 复杂/ 的/ 配置/ 过程/ 来/ 建立/ 输入/ 端口/ 到/ 输出/ 端口/ 的/ 光/ 路径/ ./ 具体/ 包括/ :/ (/ 1/ )/ IM/ 模块/ 需要/ 根据/ 分组/ 选择/ 的/ CM/ 模块/ 确定/ 输出/ 端口/ ,/ 并/ 进一步/ 确定/ 线卡/ 输出/ 端口/ 的/ TWC/ 配置/ ;/ (/ 2/ )/ CM/ 模块/ 需要/ 根据/ 分组/ 目的/ 端口/ 所在/ 的/ OM/ 模块/ 确定/ 输出/ 端口/ ,/ 并/ 进一步/ 确定/ 本/ 模块/ 输入/ 端口/ 的/ TWC/ 配置/ ;/ (/ 3/ )/ OM/ 模块/ 需/ 根据/ 分组/ 的/ 目的/ 端口/ 确定/ 本/ 模块/ 输入/ 端口/ 的/ TWC/ 配置/ ./ Petabit/ 在/ 响应/ 多个/ 分组/ 请求/ 配置/ 光/ 路径/ 的/ 过程/ 中/ ,/ 在/ CM/ 模块/ 和/ 输出/ 端口/ 位置/ 都/ 会/ 产生/ 竞争/ ,/ 对此/ Petabit/ 设计/ 了/ 一套/ 电域/ 的/ 仲裁/ 机制/ 解决/ 该/ 竞争/ 问题/ ./ 每个/ IM/ 模块/ 、/ CM/ 模块/ 和/ OM/ 模块/ 分别/ 对应/ 于/ 一个/ 电域/ 的/ 调度/ 模块/ ,/ 这些/ 调度/ 模块/ 可/ 相应/ 地被/ 称为/ SIM/ (/ ScheduleratIM/ )/ 模块/ 、/ SCM/ (/ ScheduleratCM/ )/ 模块/ 和/ SOM/ (/ ScheduleratOM/ )/ 模块/ ./ 这些/ 调度/ 模块/ 同样/ 互连/ 成/ Clos/ 拓扑/ 结构/ ./ 分组/ 到达/ 线卡/ 后/ 首先/ 被/ 存储/ 在/ 虚拟/ 输出/ 队列/ 中/ ,/ 随后/ 每个/ IM/ 模块/ 的/ 输入/ 端口/ 选择/ H/ 个/ 非空/ 的/ 虚拟/ 输出/ 队列/ ,/ 并/ 将/ 这些/ 队列/ 的/ 传输/ 请求/ 发送给/ 对应/ 的/ SIM/ 模块/ ./ SIM/ 模块/ 使用/ H/ 个/ 周期/ 处理/ 这/ H/ 个/ 请求/ ,/ 在/ 第/ i/ 个/ 周期/ ,/ SIM/ 模块/ 将/ 第/ i/ 个/ 请求/ 发送到/ 随机/ 选择/ 的/ SCM/ 模块/ ./ 若/ SCM/ 收到/ 多个/ 到达/ 相同/ OM/ 模块/ 的/ 请求/ ,/ Page12/ 则/ 采用/ 轮询/ 的/ 方式/ 选择/ 一个/ 请求/ 并发/ 送到/ 相应/ 的/ SOM/ 模块/ ./ 当/ SOM/ 模块/ 接收/ 到/ 请求/ 后/ ,/ 若/ 请求/ 的/ 目的/ 输出/ 端口/ 在/ 前/ (/ i/ -/ 1/ )/ 个/ 周期/ 内/ 没有/ 做出/ 响应/ ,/ 则/ SOM/ 采用/ 轮询/ 的/ 方式/ 响应/ 首个/ 请求/ ,/ 否则/ SOM/ 模块/ 不/ 做出/ 响应/ ./ 最后/ ,/ SIM/ 模块/ 在/ 收到/ 某个/ 输入/ 端口/ 的/ 响应/ 后/ ,/ 在/ 后面/ 的/ (/ H/ -/ i/ )/ 个/ 周期/ 内/ 不会/ 处理/ 该/ 端口/ 的/ 请求/ ./ 使用/ 上述/ 的/ 调度/ 机制/ ,/ 分组/ 在/ 光域/ 的/ 传输/ 过程/ 中/ 不/ 存在/ 任何/ 竞争/ ,/ 因此/ 架构/ 避免/ 了/ 对/ 电环回/ 缓存/ 和/ FDL/ 的/ 使用/ ,/ 这/ 在/ 一定/ 程度/ 上/ 降低/ 了/ 单一/ 光/ 交换/ 模块/ 的/ 能耗/ 和/ 设计/ 复杂度/ ./ 由于/ 采用/ 了/ 低/ 基数/ AWGR/ 模块/ ,/ 上述/ 两级/ 和/ 三级/ AWGR/ 交换/ 网络/ 能够/ 有效/ 克服/ 信号/ 串扰/ 和/ 带宽/ 偏移/ 等/ 物理层/ 限制/ ,/ 因此/ 能够/ 扩展/ 至/ 数千/ 节点/ 规模/ ./ 但/ 若/ 继续/ 增大/ 网络/ 规模/ 至/ 数万/ 节点/ 以上/ ,/ 上述/ 架构/ 所/ 需/ 的/ 波长/ 资源/ 和/ 收发器/ 的/ 数量/ 将/ 成为/ 严重/ 的/ 限制/ ./ 对此/ ,/ Yoo/ 等/ 人/ [/ 43/ ]/ 提出/ 了/ 基于/ AWGR/ 的/ 分层/ 网络/ ./ 该/ 架构/ 如图/ 10/ 所示/ ,/ 其/ 最底层/ 的/ 基本/ 单元/ 被/ 称为/ picoBlade/ (/ pB/ )/ ./ pB/ 模块/ 包括/ 一个/ 嵌入式/ 电/ 交叉开关/ 和/ 多个/ 收发器/ (/ Transceiver/ ,/ TRX/ )/ ./ 电/ 交叉开关/ 负责/ 执行/ 分组/ 的/ 路由/ 功能/ 并/ 根据/ 分组/ 的/ 目的/ 地址/ 选择/ 合适/ 的/ TRX/ 发送/ 该/ 分组/ ./ p/ 个/ pB/ 模块/ 构成/ 一个/ microBlade/ (/ uB/ )/ ,/ m/ 个/ uB/ 模块/ 进一步/ 构成/ 一个/ miniBlade/ (/ mB/ )/ ./ 在/ 同一/ mB/ 内/ ,/ 每个/ pB/ 模块/ 使用/ p/ 个/ TRX/ 完成/ 同一/ uB/ 内/ 不同/ pB/ 模块/ 之间/ 的/ 通信/ ,/ 使用/ u/ 个/ TRX/ 完成/ 不同/ uB/ 中/ pB/ 模块/ 之间/ 的/ 通信/ ./ 每个/ uB/ 模块/ 部署/ 一个/ 无源/ (/ p/ +/ u/ )/ ×/ (/ p/ +/ u/ )/ 的/ AWGR/ ,/ 其中/ p/ 个/ 端口/ 连接/ 该/ uB/ 内/ 所有/ pB/ 模块/ ,/ 其余/ u/ 个/ 端口/ 连接/ 其他/ uB/ 模块/ 的/ AWGR/ 形成/ uB/ 模块/ 之间/ 的/ 通信/ 连接/ ./ 另外/ ,/ 每个/ uB/ 模块/ 存在/ 一个/ 中继/ pB/ 模块/ ./ 该/ 模块/ 包括/ 一个/ TRX/ 用于/ mB/ 之间/ 的/ 通信/ ,/ 由于/ 每个/ mB/ 包括/ m/ 个/ uB/ 模块/ ,/ 因此/ 每个/ mB/ 共/ 包括/ m/ 个/ TRX/ 可/ 用于/ 连接/ 其他/ mB/ 模块/ ./ 为/ 实现/ 大规模/ mB/ 模块/ 之间/ 的/ 互连/ ,/ 作者/ 提出/ 了/ 一种/ 扁平/ 分布式/ 全光/ 互连/ 架构/ Thin/ -/ CLOS/ 拓扑/ ,/ m/ ×/ W/ 图/ 10/ 基于/ AWGR/ 的/ 分层/ 架构/ 个/ miniBlade/ 模块/ 被/ 分成/ m/ 个/ 分离/ 的/ 小组/ ./ 每个/ 小组/ 内/ 部署/ 有/ m/ 个/ 有源/ W/ ×/ WAWGR/ 交换机/ ,/ 本组/ 内/ mB/ 模块/ 的/ 输出/ 端口/ 和/ 交换机/ 输入/ 端口/ 之间/ 形成/ 完全/ 二分/ 图/ ,/ 而/ 本组/ 交换机/ 的/ m/ ×/ W/ 个/ 输出/ 端口/ 依次/ 连接/ 所有/ mB/ 模块/ 的/ 一个/ 输入/ 端口/ ./ 与/ 其他/ 基于/ AWGR/ 的/ 交换/ 网络/ 相/ 比较/ ,/ 该/ 分级/ 架构/ 不仅/ 具有/ 更/ 高/ 的/ 扩展性/ ,/ 可/ 支持/ 100000/ 节点/ 以上/ 的/ 网络/ 规模/ ,/ 同时/ 具有/ 较/ 低/ 的/ 网络/ 直径/ 和/ 较/ 高/ 的/ 对/ 分/ 带宽/ ./ 因此/ 在/ 均匀/ 流量/ 下该/ 架构/ 能够/ 保证/ 低/ 时延/ 传输/ ,/ 同时/ 其/ 饱和点/ 可/ 达到/ 节点/ 最大/ 输出/ 带宽/ 的/ 70/ %/ ./ 除/ 利用/ AWGR/ 外/ ,/ 还/ 可以/ 使用/ 其他/ 的/ 光/ 交换/ 元件/ 如/ 半导体/ 光/ 放大器/ (/ SOA/ )/ 或/ 微环/ 谐振器/ 构建/ 全光/ 交换/ 网络/ ./ 其中/ ,/ SOA/ 是/ 一种/ 基于/ 硅/ 介质/ 的/ PN/ 结/ ,/ 光/ 信号/ 注入/ SOA/ 后/ ,/ 在/ 不同/ 的/ 外加/ 电压/ 下/ 信号/ 将/ 获得/ 增益/ 或者/ 产生/ 损耗/ ,/ 由此/ 实现/ 光/ 开关/ 的/ “/ 开/ ”/ 状态/ 和/ “/ 关/ ”/ 状态/ ./ Wang/ 等/ 人/ [/ 44/ ]/ 提出/ 了/ 基于/ SOA/ 的/ 光/ 交换/ 网络/ ./ 利用/ SOA/ 本身/ 所/ 具备/ 的/ 双向/ 透明/ 传输/ 特性/ ,/ 作者/ 仅/ 使用/ 6/ 个/ SOA/ 单元/ 设计/ 了/ 双向/ 2/ ×/ 2/ 光/ 交叉开关/ (/ 即/ 传统/ 的/ 4/ ×/ 4/ 光/ 交叉开关/ )/ ./ 如图/ 11/ 所示/ ,/ 该/ 交叉开关/ 采用/ 广播/ -/ 选择/ 式/ 空分/ 交换/ 结构/ ./ 在/ 输入/ 端口/ 位置/ 上/ ,/ 光/ 信号/ 经过/ 13/ 分离器/ 分割/ 为/ 3/ 路/ 信号/ 并/ 分别/ 发/ 往/ 其他/ 3/ 个/ 端口/ ./ 部署/ 在/ 3/ 条/ 传输/ 路径/ 上/ 的/ SOA/ 根据/ 配置/ 对/ 信号/ 进行/ 放大/ 或/ 衰减/ ./ 在/ 传统/ 4/ ×/ 4/ 光/ 交叉开关/ 中/ ,/ 每个/ 输入/ 端口/ 都/ 需要/ 通过/ SOA/ 连接/ 到/ 其他/ 3/ 个/ 输出/ 端口/ ./ 而/ 双向/ 2/ ×/ 2/ 光/ 交叉开关/ 允许/ 两个/ 输入/ 端口/ 共享/ 同一个/ SOA/ 单元/ ,/ 即/ 若/ 端口/ 0/ 的/ 输入/ 信号/ 通过/ SOA/ 传输/ 到/ 端口/ 1/ ,/ 端口/ 1/ 的/ 输入/ 信号/ 同样/ 可/ 通过/ 该/ SOA/ 传输/ 到/ 端口/ 0/ ./ 这种/ 方式/ 极大/ 减小/ 了/ SOA/ 的/ 使用/ 数量/ ,/ 进而/ 在/ 交叉开关/ 的/ 成本/ 、/ 能耗/ 和/ 面积/ 等/ 方面/ 获得/ 了/ 改进/ ./ 利用/ 该/ 交叉开关/ 单元/ ,/ 可以/ 进一步/ 构建/ FatTree/ 等/ 树形/ 网络/ 以/ 实现/ 大规模/ 节点/ 的/ 互连/ ./ 微环/ 谐振器/ 是/ 另外/ 一种/ 可/ 实现/ 快速/ 空分/ 交换/ 的/ 硅光/ 器件/ ./ 该/ 器件/ 是/ 一个/ 由/ 波导/ 制作/ 的/ 环形/ 谐振腔/ ,/ Page13/ 图/ 11/ 基于/ SOA/ 的/ FatTree/ 网络/ 其/ 材料/ 和/ 直径/ 将/ 决定/ 微环/ 本身/ 的/ 谐振/ 波长/ ,/ 通过/ 注入/ 载流子/ 也/ 可/ 改变/ 该/ 微环/ 的/ 谐振/ 波长/ ./ 微环/ 部署/ 在/ 两根/ 波导/ 的/ 交叉点/ 位置/ ./ 若/ 信号/ 波长/ 与/ 微环/ 的/ 谐振/ 波长/ 相同/ ,/ 则/ 信号/ 首先/ 耦合/ 进微环/ ,/ 随后/ 耦合/ 到/ 另外/ 一根/ 波导/ ./ 若/ 信号/ 的/ 波长/ 与/ 微环/ 的/ 谐振/ 波长/ 不同/ ,/ 则/ 信号/ 沿着/ 原来/ 的/ 波导/ 传输/ ./ 由于/ 微环/ 谐振器/ 能够/ 良好/ 地/ 兼容/ CMOS/ 平台/ ,/ 因此/ 能够/ 在/ 制作/ 、/ 成本/ 、/ 面积/ 等/ 方面/ 取得/ 良好/ 的/ 特性/ ./ 基于/ 微环/ 谐振器/ 的/ N/ ×/ N/ 光/ 交叉开关/ 由/ 2N/ 根/ 波导/ 和/ N2/ 个/ 微环/ 谐振器/ 组成/ ./ N/ 根/ 输入/ 波导/ 和/ N/ 根/ 输出/ 波导/ 交叉/ 布局/ 形成/ N/ ×/ N/ 网格/ ,/ 微环/ 部署/ 在/ 输入/ 波导/ 和/ 输出/ 波导/ 的/ 交叉点/ 位置/ 实现/ 信号/ 的/ 耦合/ 转向/ ./ 基于/ 单晶硅/ 制作/ 的/ 微环/ 谐振器/ 光/ 交叉开关/ 具备/ 良好/ 的/ 光电/ 特性/ ./ 但/ 由于/ 单晶硅/ 无法/ 实现/ 多层/ 沉积/ ,/ 所有/ 的/ 波导/ 和/ 微环/ 必须/ 部署/ 在/ 同一/ 平面/ 内/ ,/ 波导/ 之间/ 的/ 交叉/ 不可避免/ ,/ 这会/ 带来/ 较大/ 的/ 插入损耗/ ./ 对此/ ,/ Biberman/ 等/ 人/ [/ 45/ ]/ 提出/ 了/ 基于/ 微环/ 的/ 多层/ 沉积/ 光/ 交叉开关/ 结构/ ./ 在/ 该/ 结构/ 中/ ,/ 输入/ 波导/ 和/ 输出/ 波导/ 使用/ 氮化硅/ 材料/ 构建/ 并/ 部署/ 在/ 最/ 顶层/ 和/ 最底层/ ,/ 微环/ 谐振器/ 使用/ 多晶硅/ 材料/ 构建/ 并/ 部署/ 在/ 中间层/ ./ 由于/ 上下/ 两层/ 波导/ 之间/ 没有/ 交叉/ ,/ 该/ 多层/ 沉积/ 光/ 交叉开关/ 有效/ 降低/ 了/ 插入损耗/ ./ 利用/ 该光/ 交叉开关/ 模块/ ,/ 作者/ 进一步/ 构建/ 了/ 集中式/ 数据中心/ 光/ 互连/ 网络/ ./ 该/ 网络/ 使用/ 多个/ 机架/ 构成/ 一个/ 簇/ 结构/ ,/ 每个/ 簇/ 使用/ WDM/ 技术/ 汇聚/ 簇/ 间通信/ 的/ 流量/ ,/ 随后/ 这些/ 流量/ 通过/ 部署/ 在/ 顶层/ 的/ N/ ×/ N/ 光/ 交叉开关/ 模块/ 完成/ 传输/ 和/ 交换/ ./ 随着/ 云/ 计算/ 的/ 发展/ ,/ 多种/ 具有/ 不同/ 流量/ 特性/ 的/ 新/ 应用/ 开始/ 在/ 数据中心/ 内/ 部署/ ,/ 灵活性/ 成为/ 网络/ 设计/ 的/ 一个/ 重要/ 因素/ ./ 未来/ 的/ 数据中心/ 网络/ 应该/ 能够/ 满足/ 每种/ 应用/ 所/ 要求/ 的/ 服务质量/ ,/ 同时/ 能够/ 有效/ 地/ 利用/ 资源/ 并/ 降低/ 能耗/ ./ 混合/ 全光/ 互连/ 网络/ 针对/ 不同/ 的/ 业务/ 流量/ 采用/ 不同/ 光/ 交换/ 机制/ ,/ 因此/ 能够/ 同时/ 满足/ 数据/ 密集型/ 业务/ 对/ 网络带宽/ 的/ 需求/ 和/ 突发性/ 业务/ 对/ 传输/ 时延/ 的/ 需求/ ./ Wang/ 等/ 人/ [/ 46/ ]/ 提出/ 了/ 基于/ SOA/ 的/ 4/ ×/ 4/ 光/ 分组/ // 光电/ 路/ 混合/ 交换/ 节点/ ./ 如图/ 12/ 所示/ ,/ 该/ 交换/ 节点/ 使用/ 16/ 个/ SOA/ 单元/ 构成/ 广播/ -/ 选择/ 式/ 门阵列/ ./ 这/ 16/ 个/ SOA/ 被/ 分成/ 4/ 个/ 子集/ ,/ 每个/ 子集/ 对应/ 于/ 一个/ 输入/ 端口/ ,/ 每个/ 子集/ 内/ 的/ SOA/ 分别/ 部署/ 在/ 该/ 输入/ 端口/ 到/ 其他/ 输出/ 端口/ 的/ 线路/ 上/ ./ 该/ 4/ ×/ 4/ 交换/ 节点/ 中/ ,/ 每/ 对/ 输入/ 到/ 输出/ 的/ 连接/ 都/ 可以/ 灵活/ 配置/ 为/ 光电/ 路/ 交换/ 模式/ 或光/ 分组/ 交换/ 模式/ ./ 若/ 输入/ 端口配置/ 为光/ 分组/ 交换/ 模式/ ,/ 部署/ 在/ 该/ 输入/ 端口/ 的/ 滤波器/ 和/ 光电/ 探测器/ 将/ 提取/ 每个/ 分组/ 的/ 头/ 信息/ 进行/ 路由/ 计算/ 和/ 交叉开关/ 配置/ ./ 但/ 若/ 输入/ 端口配置/ 为/ 电路/ 交换/ 模式/ ,/ 该/ 端口/ 将/ 忽略/ 后续/ 分组/ 的/ 头部/ 信息/ ,/ 并/ 在/ 一定/ 时长/ 内/ 维持/ SOA/ 的/ 配置/ 状态/ ./ 另外/ ,/ 该/ 交换/ 节点/ 采用/ 丢弃/ 分组/ 的/ 方式/ 处理/ 输出/ 端口/ 的/ 竞争/ 问题/ ./ Fiorani/ 等/ 人/ [/ 47/ ]/ 提出/ 了/ 一种/ 结合/ 光电/ 路/ 交换/ 、/ 光/ 突发/ 交换/ 和/ 光/ 分组/ 交换/ 的/ 混合/ 交换/ 网络/ HOS/ ./ 该/ 网络/ 使用/ 如图/ 13/ 所示/ 的/ 3/ 层/ 树形/ 拓扑/ ./ 底层/ 的/ 每个/ 机架/ 内/ 部署/ Ns/ 台/ 刀片式/ 服务器/ ,/ 每台/ 服务器/ 通过/ 1Gbps/ 链路/ 连接/ 至/ ToR/ 交换机/ ./ 多台/ ToR/ 交换机/ Page14/ 通过/ 40Gbps/ 链路/ 连接/ 至/ 汇聚/ 层/ 的/ HOS/ 边缘/ 交换机/ ,/ 最后/ 所有/ HOS/ 边缘/ 交换机/ 通过/ WDM/ 光纤/ 连接/ 至/ 顶层/ 的/ 一个/ 核心/ 交换机/ ./ 该/ 核心/ 交换机/ 可以/ 在/ 逻辑/ 上/ 划分/ 为/ 3/ 个/ 模块/ :/ 控制/ 模块/ 、/ 交换/ 模块/ 和/ 其他/ 有源/ 模块/ ./ 控制/ 模块/ 负责/ 处理/ 控制/ 信息/ 并/ 控制数据/ 的/ 传输/ ./ 该/ 模块/ 具体/ 包括/ 3/ 个/ 单元/ :/ 通用/ 多/ 协议/ 标记/ 交换/ (/ GeneralizedMultiprotocolLabelSwitching/ ,/ GMPLS/ )/ 控制/ 单元/ 、/ HOS/ 控制/ 单元/ 和/ 交叉开关/ 控制/ 单元/ ./ 其中/ ,/ GMPLS/ 控制/ 单元/ 用于/ 实现/ WAN/ 内/ 与/ 其他/ HOS/ 核心/ 节点/ 的/ 交互/ ./ HOS/ 控制/ 单元/ 用于/ 管理/ 光电/ 路/ 、/ 光/ 突发/ 及光/ 分组/ 的/ 传输/ ./ 交叉开关/ 控制/ 单元/ 负责/ 在/ 光/ 交叉开关/ 中/ 建立/ 端到/ 端的/ 光/ 路径/ ./ 交换/ 模块/ 包括/ 两种/ 全光/ 交叉开关/ :/ 慢速/ 交叉开关/ 用于/ 实现/ 光电/ 路/ 交换/ 并/ 负责/ 传输/ 长光/ 突发/ 块/ ,/ 快速/ 交叉开关/ 用于/ 传输/ 短/ 突发/ 块/ 和/ 光/ 分组/ ./ 快速/ 光/ 交叉开关/ 使用/ SOA/ 构建/ ,/ 慢速/ 光/ 交叉开关/ 使用/ 3D/ -/ MEMS/ 构建/ ./ 其他/ 有源/ 模块/ 包括/ 光/ 放大器/ 、/ 可调/ 波长/ 转换器/ 、/ 控制/ 信息提取/ 器/ 等/ ./ HOS/ 的/ 边缘/ 交换机/ 主要/ 用于/ 实现/ 流量/ 的/ 分类/ 和/ 汇聚/ 等/ ./ HOS/ 能够/ 根据/ 应用/ 的/ 流量/ 特点/ 选择/ 最合适/ 的/ 光/ 传输/ 机制/ ,/ 从而/ 保证/ 了/ 网络/ 的/ 灵活性/ 和/ 较/ 高/ 的/ 带宽/ 利用效率/ ./ 但/ 在/ 核心层/ 采用/ 单一/ 的/ 交换/ 节点/ 可能/ 会/ 带来/ 网络/ 可靠性/ 的/ 问题/ ,/ 在/ 文章/ 中/ 作者/ 尚未/ 提出/ 该/ 问题/ 的/ 解决方案/ ./ 3.2/ ./ 2/ 分布式/ 全光/ 互连/ 网络/ 架构/ 尽管/ 上述/ 全光/ 互连/ 架构/ 基于/ 不同/ 的/ 光/ 器件/ 和/ 不同/ 光/ 交换/ 机制/ 设计/ ,/ 但/ 所有/ 方案/ 都/ 使用/ 单一/ 的/ 核心/ 光/ 交换机/ 直接/ 互连/ 所有/ 机架/ 或/ 簇/ 结构/ ./ 这种/ 互连/ 方式/ 的/ 优势/ 在于/ 能够/ 极大/ 的/ 简化/ 网络管理/ 和/ 路由/ 控制/ ,/ 符合/ 目前/ 工业界/ 所/ 提倡/ 的/ 扁平化/ 网络/ 设计/ 思想/ ./ 但/ 其/ 劣势/ 在于/ 网络/ 扩展性/ 有限/ 、/ 核心/ 光/ 交换机/ 内部结构/ 设计/ 复杂/ 、/ 网络/ 可靠性/ 较差/ 等/ ./ 对此/ ,/ 一些/ 研究/ 人员/ 提出/ 了/ 分布式/ 全光/ 互连/ 网络/ 架构/ ./ Gumaste/ 等/ 人/ 提出/ 的/ FISSION/ 是/ 一种/ 基于/ 多/ 波长/ 光/ 总线/ 的/ 可/ 扩展/ 架构/ [/ 48/ -/ 49/ ]/ ./ 如图/ 14/ 所示/ ,/ 该/ 架构/ 在/ 核心层/ 使用/ 光/ 环形/ 链路/ 互连/ 多个/ 载波/ 以太网/ 交换/ 域/ ,/ 每个/ 交换/ 域/ 被/ 称为/ 一个/ 扇区/ ./ 每个/ 扇区/ 包括/ 可/ 重构/ 光/ 分插/ 复用器/ (/ ReconfigurableOpticalAdd/ -/ DropMultiplexer/ ,/ ROADM/ )/ 、/ 汇聚/ 交换机/ 和/ 边缘/ 交换机/ 等/ 设备/ ./ 边缘/ 交换机/ 到/ ROADM/ 的/ 单向/ 链路/ 用于/ 发送/ 本/ 扇区/ 到/ 其他/ 扇区/ 的/ 流量/ ,/ 而/ ROADM/ 到/ 汇聚/ 交换机/ 的/ 单向/ 链路/ 用于/ 接收/ 其他/ 扇区/ 到/ 本/ 扇区/ 的/ 流量/ ./ 扇/ 区内/ 通信/ 由/ 边缘/ 交换机/ 和/ 汇聚/ 交换机/ 完成/ ,/ 服务器/ 和/ 存储设备/ 连接/ 到/ N/ ×/ 2N/ 的/ 边缘/ 交换机/ ,/ 边缘/ 交换机/ 进一步/ 通过/ 汇聚/ 交换机/ 相互连接/ ./ 对于/ 扇/ 区间/ 的/ 通信/ ,/ 在/ 发送/ 侧/ 每个/ 扇区/ 通过/ ROADM/ 和/ 耦合/ 器/ 连接/ 到/ 一个/ 特定/ 的/ 光纤/ 环路/ 上/ ,/ 在/ 接收/ 侧/ 每个/ 扇区/ 可/ 通过/ 耦合/ 器/ 接收/ 所有/ 光纤/ 环路/ 的/ 信号/ ./ 每个/ 扇区/ 被/ 分配/ 固定/ 数目/ 的/ 波长/ 用于/ 发送/ 扇/ 区间/ 流量/ ,/ 这些/ 流量/ 通过/ 边缘/ 交换机/ 到达/ 电/ -/ 光/ 交换机/ ,/ 在/ 电/ -/ 光/ 交换机/ 内/ 转换成/ 指定/ 波长/ 的/ 光/ 信号/ ,/ 随后/ 通过/ 复用器/ 复用/ 成/ 一路/ WDM/ 信号/ 并/ 通过/ 耦合/ 器/ 发送到/ 光纤/ 环路/ ./ 作者/ 进一步/ 使用/ 改进/ 的/ 载波/ 以太网/ 协议/ 实现/ FISSION/ 架构/ 内/ 的/ 通信/ ,/ 该/ 协议/ 将/ 整个/ 网络/ 转换/ 为/ 一系列/ 二元/ 树/ 并/ 为/ 网络/ 内/ 的/ 每个/ 节点/ 分配/ 唯一/ 的/ 二元/ 标签/ ./ 这样/ FISSION/ 内/ 的/ 服务器/ 可以/ 利用/ 这些/ 标签/ 实现/ 源/ 路由/ 算法/ ./ Page15Hamedazimi/ 等/ 人/ [/ 50/ -/ 51/ ]/ 提出/ 了/ 一种/ 基于/ 自由空间/ 光/ 技术/ 的/ 可重/ 配置/ 网络/ FireFly/ ./ 通过/ 利用/ 自由空间/ 光/ (/ FreeSpaceOptical/ ,/ FSO/ )/ 技术/ ,/ FireFly/ 可以/ 避免/ 使用/ 集中式/ 光/ 交换/ 架构/ 处理机/ 架间/ 流量/ ./ 所有/ 机架/ 间/ 的/ 通信/ 链路/ 可以/ 根据/ 流量/ 需求/ 实现/ 灵活/ 的/ 配置/ ./ 如图/ 15/ 所示/ ,/ 该/ 网络/ 使用/ 传统/ 电/ 分组/ 交换/ 实现/ 机架/ 内/ 通信/ ,/ 使用/ FSO/ 链路/ 实现/ 机架/ 间/ 的/ 灵活/ 通信/ ./ 每台/ 机架/ 的/ 顶部/ 配置/ 有/ 一系列/ 可调/ FSO/ 设备/ ./ 为/ 确保/ FSO/ 发射器/ 所/ 发出/ 的/ 光束/ 不会/ 相互/ 阻挡/ ,/ FireFly/ 在/ 机架/ 顶部/ 的/ 天花板/ 部署/ 了/ 反射镜/ 面/ (/ CeilingMirror/ )/ ./ 机架/ 间通信/ 的/ 光/ 信号/ 首先/ 从源/ 机架/ 发射/ 至/ 天花板/ 镜面/ ,/ 经过/ 反射/ 后/ 到达/ 目的/ 机架/ 的/ 接收端/ ./ 为/ 节省/ 能耗/ 和/ 成本/ ,/ 在/ 发送/ 侧光/ 信号/ 直接/ 从/ 光纤/ 输出/ 到/ 自由空间/ ,/ 在/ 接收/ 侧光/ 信号/ 同样/ 采用/ 直接/ 耦合/ 的/ 方式/ 进入/ 输入/ 光纤/ ./ 输出/ 端/ 和/ 输入/ 端/ 不/ 部署/ 任何/ 光电/ 转换器/ ./ FireFly/ 在/ 光纤/ 的/ 焦距/ 位置/ 上/ 部署/ 了/ 透镜/ 以/ 解决/ 光束/ 从/ 光纤/ 进入/ 自由空间/ 时/ 的/ 散射/ 效应/ ,/ 在/ 接收/ 光纤/ 的/ 焦距/ 上/ 同样/ 部署/ 有/ 透镜/ 以/ 实现/ 信号/ 的/ 耦合/ ./ 为/ 实现/ FSO/ 链路/ 的/ 可重/ 配置/ ,/ 架构/ 使用/ 了/ 两种/ 设备/ :/ 可调/ 镜面/ (/ SwitchableMirror/ ,/ SM/ )/ 和/ Galvo/ 镜面/ ./ 其中/ ,/ SM/ 是/ 一种/ 特殊/ 的/ 液晶/ 材料/ ,/ 能够/ 在/ 电信号/ 的/ 控制/ 下/ 在/ 反射/ 和/ 透射/ 两种/ 状态/ 转换/ ./ 该/ 元件/ 采用/ 如下/ 方式/ 动态/ 配置/ FSO/ 链路/ :/ 每个/ FSO/ 输出/ 光纤/ 配置/ 有/ 多个/ SM/ 模块/ ,/ 每个/ SM/ 在/ 预/ 配置/ 阶段/ 提前/ 对准/ 天花板/ 镜面/ 的/ 一个/ 目标/ 反射/ 点/ ,/ 该/ 反射/ 点/ 进一步/ 对准/ 一台/ 机架/ 的/ FSO/ 接收器/ ./ 在/ 工作/ 阶段/ ,/ 一个/ SM/ 被/ 设置/ 为/ 反射/ 状态/ 而/ 其他/ SM/ 被/ 设置/ 为/ 透射/ 状态/ ,/ 这样/ 即可/ 建立/ 从源/ 机架/ 到/ 特定/ 目的/ 机架/ 的/ FSO/ 链路/ ./ 改变/ SM/ 模块/ 组/ 的/ 状态/ 即可/ 建立/ 到/ 不同/ 目的/ 机架/ 的/ FSO/ 链路/ ./ Galvo/ 镜面/ 可以/ 在/ 电信号/ 的/ 控制/ 下绕/ 固/ 定轴转动/ ,/ 因此/ 经过/ Galvo/ 镜面/ 和/ 天花板/ 镜面反射/ 的/ 光/ 信号/ 可以/ 到达/ 一个/ 锥形/ 区域/ ./ 通过/ 配置/ Galvo/ 镜面/ 的/ 角度/ ,/ 光束/ 可以/ 到达/ 预定/ 接收/ 区域/ 的/ 任意/ 一台/ 机架/ ./ 除/ 构建/ 上述/ 可重/ 配置/ FSO/ 链路/ 外/ ,/ 还/ 需要/ 在/ 控制/ 层/ 设计/ 算法/ 实现/ 网络拓扑/ 的/ 优化/ 配置/ ./ 在/ FireFly/ 中/ ,/ 网络/ 的/ 配置/ 包括/ 两个/ 阶段/ :/ 在/ 预/ 配置/ 阶段/ 网络/ 需要/ 设置/ 每个/ FSO/ 可调/ 镜面/ 的/ 反射/ 点/ 或/ Galvo/ 镜面/ 的/ 覆盖/ 区域/ ,/ 以/ 形成/ 多条/ 备选/ 网络/ 链路/ ;/ 在/ 实际/ 运行/ 阶段/ 网络/ 需要/ 实时/ 调整/ 工作/ 的/ FSO/ 链路/ 以/ 满足/ 当前/ 的/ 流量/ 需求/ ./ 除/ 上述/ 两种/ 典型/ 的/ 分布式/ 光/ 互连/ 网络/ 外/ ,/ 研究/ 人员/ 还/ 提出/ 了/ 其他/ 分布式/ 光/ 互连/ 网络/ ./ Karthi/ 等/ 人/ [/ 52/ ]/ 提出/ 了/ POST/ 网络/ 架构/ ./ 该/ 网络/ 使用/ 传统/ 的/ 多层/ 树形/ 拓扑/ ./ 但/ 与/ 传统/ 电/ 互连/ 网络/ 不同/ 的/ 是/ ,/ 在/ POST/ 中/ 每层/ 的/ 多个/ 节点/ (/ 服务器/ 或/ 交换机/ 节点/ )/ 构成/ 一个/ 簇/ 结构/ ,/ 簇内/ 的/ 所有/ 节点/ 直接/ 通过/ 一个/ 无源光/ 路由器/ (/ PassiveOpticalRouter/ ,/ POR/ )/ 进行/ 通信/ ./ 簇间/ 的/ 通信/ 通过/ 上层/ 的/ 交换/ 设备/ 完成/ ./ POST/ 的/ 主要/ 网络设备/ 包括/ 两种/ :/ POR/ 和/ 互连/ 交换机/ (/ InterConnectionSwitch/ ,/ ICS/ )/ ./ 每个/ 连接/ 至/ POR/ 的/ 节点/ 配置/ 有/ 一定/ 数量/ 的/ 线卡/ ,/ 所有/ 线卡/ 通过/ 电/ 交换机/ 进一步/ 连接/ 到/ 一张/ 光/ 集成电路/ 板卡/ (/ PhotonicIntegratedCircuit/ ,/ PIC/ )/ 上/ ./ 该电/ 交换机/ 负责/ 将/ 有/ 通信/ 需求/ 的/ 线卡/ 接入/ PIC/ 上/ 的/ 激光器/ 阵列/ 进行/ 调制/ ,/ 不同/ 波长/ 的/ 光/ 信号/ 进一步/ 通过/ N/ 端口/ AWGR/ 实现/ 交换/ ./ 在/ 输出/ 端/ ,/ 光/ 信号/ 通过/ PIC/ 板卡/ 上/ 的/ 光电/ 探测器/ 转换/ 为/ 电信号/ 并/ 进一步/ 通过/ 电/ 交换机/ 转发/ 到/ 目的/ 节点/ 的/ 线卡/ ./ 每层/ 簇内/ 的/ 节点/ 除/ 连接/ 到/ POR/ 外/ ,/ 还/ 连接/ 到/ 上层/ 的/ ICS/ ./ 该/ ICS/ 负责/ 处理/ 簇间/ 输入/ 流量/ 和/ 输出/ 流量/ ,/ 同时/ 负责/ 控制/ 簇内/ 节点/ 之间/ 的/ 通信/ ./ 因此/ ,/ 在/ POST/ 网络/ 的/ 最底层/ (/ L0/ 层/ )/ ,/ N/ 台/ 服务器/ 构成/ 一个/ 簇/ ./ 簇内/ 所有/ 服务器/ 连接/ 至/ 一台/ POR/ ,/ 同时/ 所有/ 服务器/ 连接/ 到/ 上层/ (/ L1/ 层/ )/ 的/ 一个/ ICS/ ./ 在/ L1/ 层/ ,/ N/ 个/ ICS/ 通过/ 一台/ POR/ 互连/ ,/ 同时/ 这/ N/ 个/ ICS/ 进一步/ 连接/ 到/ L2/ 层/ 的/ 一个/ ICS/ ./ 这种/ 互连/ 方式/ 逐级/ 向上/ 延续/ ,/ 直到/ 根/ 节点/ 位置/ ./ 这种/ 互连/ 方式/ 一方面/ 保证/ 了/ 簇内/ 节点/ 的/ 低/ 时延/ 、/ 高带宽/ 通信/ ,/ 另一方面/ 有效/ 增强/ 了/ 网络/ 的/ 可扩展性/ ./ Zhang/ 等/ 人/ [/ 53/ ]/ 提出/ 了/ OpenScale/ 网络/ 架构/ ./ 该/ 架构/ 将/ “/ 小/ 世界/ ”/ 理论/ 引入/ 方案设计/ 以/ 充分/ 实现/ 应用/ 对于/ 数据中心/ 网络/ 高带宽/ 、/ 低/ 时延/ 、/ 低/ 平均/ 距离/ 的/ 要求/ ./ 小/ 世界/ 网络/ 能够/ 通过/ 在/ 规则/ 的/ 网格/ 拓扑/ 中/ 增加/ 随机/ 链路/ 实现/ ./ 因此/ ,/ 作者/ 首先/ 使用/ 光/ 突发/ 交换/ (/ OpticalBurstSwitching/ ,/ OBS/ )/ 环路/ 构建/ 基本/ 的/ 多边形/ 网格/ 拓扑/ ,/ 进一步/ 使用/ 波长/ 交换/ 技术/ 随机/ 地为/ 远距离/ 节点/ 提供/ 直连/ 路径/ ./ 为/ 同时/ 实现/ 光/ 突发/ Page16/ 交换/ 和/ 波长/ 交换/ 的/ 功能/ ,/ 每个/ OToR/ (/ OpticalTopofRack/ )/ 交换机/ 同时/ 配置/ 波长/ 交换/ 模块/ 和/ 光/ 突发/ 交换/ 模块/ ./ 输入/ 信号/ 首先/ 通过/ WSS/ 分离/ 为/ 两组/ ,/ 一组/ 波长/ 信号/ 被/ 传输/ 至/ 波长/ 交换/ 模块/ ,/ 另外/ 一组/ 波长/ 信号/ 被/ 传输/ 至光/ 突发/ 交换/ 模块/ ./ 其中/ ,/ 光/ 突发/ 交换/ 模块/ 采用/ 简单/ 的/ 广播/ -/ 选择/ 式/ 结构/ ./ 进入/ 该/ 模块/ 的/ 光/ 信号/ 通过/ 12/ 耦合/ 器/ 复制/ 为/ 两路/ 信号/ :/ 一路/ 信号/ 发送至/ 本地/ OToR/ 收发器/ 阵列/ ;/ 另外/ 一路/ 信号/ 发送至/ 下/ 一/ 跳/ 节点/ ,/ 该路/ 信号/ 在/ 到达/ 输出/ 端口/ 前会/ 通过/ 可调/ 光/ 衰减器/ (/ VariableOpticalAttenuator/ ,/ VOA/ )/ 以/ 滤除/ 信号/ 中/ 的/ 无用信息/ ./ 波长/ 交换/ 模块/ 将/ 根据/ 集中式/ 控制器/ 的/ 命令/ 配置/ 交叉开关/ 的/ 输入输出/ 端口/ ,/ 多个/ 节点/ 的/ 波长/ 交换/ 模块/ 通过/ 协调/ 配置/ 即可/ 形成/ 端到/ 端/ 通信/ 路径/ ./ 由于/ 相邻/ 节点/ 之间/ 可/ 通过/ OBS/ 环路/ 实现/ 快速/ 灵活/ 的/ 光/ 交换/ ,/ 远距离/ 节点/ 之间/ 可/ 通过/ 波长/ 交换/ 形成/ 直连/ 路径/ ./ 因此/ OpenScale/ 网络/ 有效/ 地/ 实现/ 了/ 网络/ 扩展性/ 和/ 网络/ 直径/ 之间/ 的/ 权衡/ ./ Saha/ 等/ 人/ 提出/ 了/ 基于/ 递归/ 定义/ 的/ 光/ 互连/ 网络/ HyScale/ [/ 54/ ]/ 和/ HyScaleII/ [/ 55/ ]/ ./ 这/ 两种/ 网络/ 均/ 使用/ OToR/ 交换机/ 作为/ 基本/ 交换/ 设备/ ./ 每台/ OToR/ 交换机/ 配置/ 有光/ 交叉/ 连接/ 开关/ 以/ 连接/ 机架/ 内/ 服务器/ 和/ 其他/ 机架/ ,/ 该光/ 交叉/ 连接/ 开关/ 同时/ 支持/ 光电/ 路/ 交换/ 和/ 光/ 突发/ 交换/ ./ 其中/ ,/ 光电/ 路/ 交换/ 用于/ 传输/ 象流/ ,/ 光/ 突发/ 交换/ 用于/ 传输/ 鼠流/ ./ HyScale/ 使用/ 了/ 基于/ 递归/ 定义/ 的/ 拓扑/ 结构/ ,/ 该/ 拓扑/ 可以/ 表示/ 为/ / (/ k/ ,/ Ω/ ,/ Γ/ )/ ./ 其中/ ,/ 参数/ k/ 为/ 拓扑/ 的/ 级数/ ,/ Γ/ 为/ 拓扑/ / 内/ 子/ 拓扑/ 的/ 数目/ ,/ Ω/ 定义/ 了/ / 内/ 所有/ 节点/ 的/ 地址/ 空间/ ./ 在/ 拓扑/ / 中/ 每个/ 节点/ 使用/ 一个/ (/ k/ +/ 1/ )/ 元/ 数组/ 表示/ ,/ 同时/ / (/ k/ ,/ Ω/ ,/ Γ/ )/ 通过/ 互连/ Γ/ 个/ / (/ k/ -/ 1/ ,/ Ω/ ,/ Γ/ )/ 构成/ ./ / (/ 0/ ,/ Ω/ ,/ Γ/ )/ 为/ 构建/ 拓扑/ / 的/ 基本/ 单元/ ,/ 该/ 基本/ 单元/ 使用/ Γ/ 个/ 机架/ 互连/ 成/ 完全/ 二分/ 图/ ./ 随后/ / (/ k/ ,/ Ω/ ,/ Γ/ )/ 使用/ Γ/ 个/ 下/ 一级/ 子/ 拓扑/ / (/ k/ -/ 1/ ,/ Ω/ ,/ Γ/ )/ 构建/ ./ 若/ 拓扑/ / 内/ 节点/ I/ =/ 〈/ ik/ ,/ ik/ -/ 1/ ,/ …/ ,/ i0/ 〉/ 和/ J/ =/ 〈/ jk/ ,/ jk/ -/ 1/ ,/ …/ ,/ j0/ 〉/ 满足条件/ :/ F1/ (/ ik/ )/ =/ jk/ ,/ F2/ (/ ik/ )/ =/ i0/ 或/ F3/ (/ ik/ )/ =/ i0/ 和/ i0/ =/ j0/ ,/ 则/ 节点/ I/ 与/ 节点/ J/ 通过/ 第/ k/ 级/ 链路/ 互连/ ./ 其中/ ,/ 函数/ F1/ ,/ F2/ ,/ F3/ 分别/ 定义/ 如下/ :/ F1/ (/ i/ )/ =/ (/ 2z/ +/ 1/ +/ i/ )/ mod/ Γ/ ,/ z/ ∈/ [/ 0/ ,/ 1/ ,/ …/ ,/ Γ/ // 2/ -/ 1/ ]/ ,/ F2/ (/ i/ )/ =/ (/ z/ +/ imod/ Γ/ // 2/ )/ mod/ Γ/ ,/ z/ 满足/ F1/ (/ ik/ )/ =/ jk/ ,/ F3/ (/ i/ )/ =/ (/ F2/ (/ i/ )/ +/ Γ/ // 2/ )/ mod/ Γ/ ./ HyScaleII/ 同样/ 使用/ 递归/ 的/ 方式/ 构建/ ,/ 该/ 拓扑/ 可以/ 使用/ ψ/ (/ k/ ,/ Ω/ ,/ Γ/ )/ 表示/ ./ 其中/ ψ/ (/ 0/ ,/ Ω/ ,/ Γ/ )/ 与/ / (/ 0/ ,/ Ω/ ,/ Γ/ )/ 的/ 结构/ 相同/ ./ Γ/ 个子/ 拓扑/ ψ/ (/ k/ -/ 1/ ,/ Ω/ ,/ Γ/ )/ 使用/ 第/ k/ 级/ 链路/ 互连/ 构成/ ψ/ (/ k/ ,/ Ω/ ,/ Γ/ )/ ./ ψ/ (/ k/ ,/ Ω/ ,/ Γ/ )/ 中/ 的/ 每个/ 节点/ 的/ 地址/ 空间/ 定义/ 为/ 一个/ k/ +/ 1/ 元/ 数组/ :/ Ω/ =/ {/ 〈/ ik/ ,/ …/ ,/ i0/ 〉/ |/ il/ ∈/ [/ 0/ ,/ 1/ ,/ …/ ,/ (/ Γ/ -/ 1/ )/ ]/ }/ ,/ / l/ =/ {/ 0/ ,/ …/ ,/ k/ }/ ./ 若/ 节点/ I/ =/ 〈/ ik/ ,/ …/ ,/ i0/ 〉/ 与/ J/ =/ 〈/ jk/ ,/ …/ ,/ j0/ 〉/ 满足条件/ F/ (/ ik/ ,/ i0/ )/ =/ jk/ 和/ i0/ =/ j0/ ,/ 则/ 节点/ I/ 与/ 节点/ J/ 通过/ 第/ k/ 级/ 链路/ 互连/ ./ 其中/ ,/ 函数/ F/ 的/ 定义/ 如下/ :/ HyScale/ 以及/ HyScaleII/ 具有/ 类似/ 于/ BCube/ 、/ DCell/ 、/ FiConn/ [/ 56/ ]/ 等/ 网络拓扑/ 的/ 高/ 扩展性/ 、/ 低/ 网络/ 直径/ 、/ 高对分/ 带宽/ 以及/ 高/ 容错性/ ./ HyScaleII/ 与/ HyScale/ 相比/ ,/ HyScaleII/ 具有/ 更/ 低/ 的/ 分组/ 丢失/ 率/ 和/ 更/ 高/ 的/ 网络/ 吞吐/ ./ 3.3/ 光/ 互连/ 架构/ 的/ 综合/ 比较/ 表/ 2/ 综合/ 对比/ 了/ 近年来/ 研究/ 人员/ 所/ 提出/ 的/ 数据中心/ 光/ 互连/ 网络/ 架构/ ./ 就/ 网络/ 架构/ 类型/ 而言/ ,/ 目前/ 的/ 设计方案/ 主要/ 包括/ 光电/ 混合/ 互连/ 网络/ 和/ 全光/ 互连/ 网络/ ./ 其中/ ,/ 光电/ 混合/ 互连/ 网络/ 在/ 传统/ 电/ 互连/ 网络/ 架构/ 的/ 基础/ 上/ 额外/ 增加/ 了/ 光/ 互连/ 网络/ ,/ 因此/ 这些/ 架构/ 对/ 传统/ 数据中心/ 网络/ 具有/ 较强/ 的/ 兼容性/ ./ 但/ 光电/ 混合/ 互连/ 网络/ 无法/ 在/ 设备/ 开销/ 、/ 能耗/ 、/ 网络管理/ 等/ 方面/ 做出/ 显著/ 改进/ ,/ 因此/ 研究/ 全光/ 互连/ 网络/ 架构/ 成为/ 主要/ 的/ 趋势/ ./ 表/ 3/ 使用/ 实例/ 对比/ 了/ 光电/ 混合/ 网络/ Helios/ 和/ 全光/ 网络/ Proteus/ 的/ 开销/ 、/ 能耗/ 和/ 成本/ ./ 从/ 该/ 表格/ 可以/ 看出/ ,/ 与/ 光电/ 混合/ 互连/ 网络/ 相比/ ,/ 全光/ 网络/ 能够/ 提供/ 更/ 高/ 的/ 带宽/ 并/ 有效/ 降低/ 网络/ 的/ 设备/ 开销/ 和/ 能耗/ ./ 但/ 由于/ 全光/ 互连/ 网络/ 的/ 技术革新/ 性/ 更/ 强/ ,/ 需要/ 替换/ 所有/ 传统/ 电/ 交换/ 设备/ 以/ 实现/ 网络/ 的/ 部署/ ./ 因此/ 全光/ 互连/ 网络/ 在/ 设计/ 中/ 需要/ 权衡/ 更/ 多/ 的/ 因素/ ,/ 如/ 扩展性/ 、/ 可/ 升级/ 性/ 、/ 设备/ 开销/ 、/ 技术/ 可行性/ 等/ ./ 就/ 网络/ 的/ 扩展性/ 而言/ ,/ 由于/ 目前/ 商用/ 全光/ 交换机/ 的/ 最/ 大规模/ 在/ 数百/ 端口/ [/ 58/ ]/ ,/ AWGR/ 模块/ 的/ 端口/ 数目/ 也/ 会/ 受到/ 信号/ 串扰/ 、/ 波长/ 漂移/ 等/ 因素/ 的/ 限制/ [/ 59/ ]/ ,/ 因此/ 在/ 实际/ 部署/ 中/ ,/ 集中式/ 交换/ 架构/ 的/ 扩展/ 规模/ 十分/ 有限/ ./ 为/ 解决/ 该/ 问题/ ,/ 研究/ 人员/ 需要/ 设计/ 定制/ 的/ 交换机/ 结构/ ,/ 即/ 使用/ Clos/ [/ 41/ ]/ 、/ Benes/ [/ 60/ ]/ 、/ Spank/ [/ 61/ ]/ 等/ 多级/ 拓扑/ 进一步/ 将/ 单一/ 光/ 交换/ 模块/ 互连/ 成/ 大规模/ 多级/ 光/ 交换/ 矩阵/ ,/ 但/ 这会/ 在/ 一定/ 程度/ 上/ 增加/ 网络/ 的/ 成本/ ./ 分布式/ 光/ 交换/ 网络/ 可/ 提供/ 更加/ 灵活/ 的/ 扩展/ 方式/ ,/ 同时/ 可/ 支持/ 的/ 网络/ 规模/ 也/ 远大于/ 集中式/ 架构/ ,/ 但/ 分布式/ 光/ 交换/ 网络/ 需要/ 复杂/ 的/ 通信协议/ 实现/ 交换机/ 之间/ 的/ 协调/ ./ 可/ 升级/ 性/ 也/ 是/ 数据中心/ 网络/ 架构设计/ 考虑/ 的/ 重要/ 因素/ 之一/ ,/ 它/ 主要/ 是/ 指/ 随着/ 链路/ 速率/ 和/ 服务器/ 接口/ 速率/ 的/ 提升/ ,/ 单一/ 的/ 交换/ 节点/ 是否/ 能够/ 快速/ 升级/ 以/ 支持/ 更/ 高/ 的/ 交换/ 容量/ ./ 在/ 现有/ 的/ 设计方案/ 中/ ,/ 基于/ MEMS/ 光电/ 路/ 交换/ 和/ 基于/ 自由空间/ 光/ 交换/ 的/ 网络/ ,/ 如/ Helios/ 、/ c/ -/ Through/ 、/ Proteus/ 、/ FireFly/ 等/ ,/ 其/ 核心/ 光/ Page17/ 架构/ 名称/ Helios/ [/ 14/ ]/ c/ -/ Through/ [/ 21/ ]/ 混洗/ -/ 交换/ 网络/ [/ 22/ ]/ 基于/ 光/ 突发/ 环/ 的/ 光电/ 混合/ 网络/ [/ 23/ ]/ Proteus/ (/ OSA/ )/ [/ 30/ -/ 31/ ]/ 集中式/ 全光/ DOS/ [/ 33/ -/ 34/ ]/ 基于/ FDL/ 的/ AWGR/ 架构/ [/ 37/ -/ 38/ ]/ 基于/ OFDM/ 的/ AWGR/ 架构/ [/ 39/ ]/ 两级/ AWGR/ 架构/ [/ 40/ ]/ 集中式/ 全光/ Petabit/ [/ 41/ -/ 42/ ]/ 分层/ AWGR/ 架构/ [/ 43/ ]/ 集中式/ 全光/ 基于/ SOA/ 的/ FatTree/ 架构/ [/ 44/ ]/ 基于/ 微环/ 谐振器/ 的/ 光/ 交换/ 架构/ [/ 45/ ]/ 基于/ SOA/ 的/ 光/ 分组/ // 光电/ 路/ 混合/ 交换/ 架构/ [/ 46/ ]/ HOS/ [/ 47/ ]/ FISSION/ [/ 48/ -/ 49/ ]/ FireFly/ [/ 50/ -/ 51/ ]/ POST/ [/ 52/ ]/ OpenScale/ [/ 53/ ]/ HyScale/ [/ 54/ ]/ 、/ HyScaleII/ [/ 55/ ]/ 架构/ 名称/ HeliosProteus/ 表/ 2/ 数据中心/ 光/ 互连/ 架构/ 的/ 综合/ 比较/ 容量/ 限制/ 速率/ 透明/ 速率/ 透明/ 速率/ 透明/ 速率/ 透明/ 速率/ 透明/ TWC/ 的/ 调制/ 速率/ TWC/ 的/ 调制/ 速率/ TWC/ 的/ 调制/ 速率/ TWC/ 的/ 调制/ 速率/ TWC/ 的/ 调制/ 速率/ 微环/ 谐振器/ 支持/ 的/ 传输速率/ 光电/ 路/ 部分/ 对/ 速率/ 透明/ ,/ 光/ 突发/ // 光/ 分组/ 部分/ 速率/ 受/ SOA/ 单元/ 限制/ 速率/ 透明/ 速率/ 透明/ 速率/ 透明/ 表/ 3Helios/ 和/ Proteus/ 的/ 能耗/ 、/ 成本/ 、/ 开销/ 对比/ 实例/ 交换机/ 端口/ 数目/ 368648192/ 注/ :/ 本/ 表格/ 采用/ 文献/ [/ 14/ ]/ 所/ 提供/ 的/ 模型/ 及/ 基本/ 数据/ 进行/ 计算/ ./ 交换/ 单元/ 对于/ 信号/ 的/ 速率/ 完全/ 透明/ ./ 这类/ 网络/ 中/ 单一/ 交换/ 节点/ 的/ 交换/ 容量/ 仅/ 取决于/ 交换机/ 的/ 端口/ 数目/ ,/ 因此/ 最易/ 实现/ 网络/ 交换/ 容量/ 的/ 升级/ ./ 基于/ 广播/ -/ 选择/ 式/ 光/ 突发/ 网络/ ,/ 如/ 基于/ 光/ 突发/ 环/ 的/ 混合/ 网络/ 、/ FISSION/ 等/ ,/ 由于/ 网络/ 中/ 并/ 不/ 存在/ 实质/ 的/ 光/ 交换/ 单元/ ,/ 因此/ 这/ 类/ 网络/ 也/ 对/ 信号/ 速率/ 透明/ ./ 基于/ AWGR/ 的/ 网络/ 架构/ 中/ ,/ 波长/ 转换器/ 所/ 支持/ 的/ 数据/ 速率/ 将限/ —/ —/ —/ 制/ 波长/ 信道/ 的/ 传输/ 带宽/ ./ 最后/ ,/ 在/ 基于/ SOA/ 和/ 微环/ 谐振器/ 的/ 网络/ 架构/ 中/ ,/ SOA/ 单元/ 和/ 微环/ 谐振器/ 所/ 支持/ 的/ 数据/ 传输速率/ 将/ 决定/ 网络/ 支持/ 的/ 最大/ 数据/ 传输速率/ ./ 各/ 网络/ 架构/ 的/ 技术/ 研究进展/ 在/ 一定/ 程度/ 上/ 反映/ 了/ 该/ 设计方案/ 能否/ 快速/ 部署/ 到/ 实际/ 应用/ 之中/ ./ 相对而言/ ,/ 基于/ MEMS/ 的/ 网络/ 架构/ 直接/ 使用/ 商用/ 交换机/ Page18/ 构建/ ,/ 因此/ 易于/ 实现/ 和/ 部署/ ./ 基于/ AWGR/ 和/ SOA/ 的/ 光/ 交换/ 网络/ 大多/ 处于/ 实验/ 原型/ 阶段/ ,/ 尽管/ 这些/ 架构/ 已经/ 具备/ 技术/ 可行性/ ,/ 但/ 由于/ 成本/ 过高/ ,/ 因此/ 该类/ 光/ 器件/ 仍然/ 会/ 限制/ 网络/ 的/ 实际/ 部署/ ./ 基于/ 微环/ 谐振器/ 的/ 网络/ 架构/ 和/ 复杂/ 的/ 分布式/ 光/ 互连/ 架构/ 尚/ 处于/ 软件/ 仿真/ 阶段/ ,/ 这些/ 网络/ 架构/ 需要/ 经历/ 更长/ 的/ 时间/ 才能/ 实现/ 实际/ 的/ 应用/ 和/ 部署/ ./ 网络/ 的/ 设备/ 开销/ 将/ 关系/ 到/ 网络/ 的/ 构建/ 成本/ 和/ 管理/ 复杂度/ ./ 集中式/ 光/ 互连/ 架构/ 能够/ 有效/ 降低/ 网络/ 所/ 需/ 的/ 设备/ 数量/ 并/ 简化/ 控制/ 管理/ ./ 但/ 如前所述/ ,/ 该类/ 架构/ 的/ 扩展/ 规模/ 受到/ 较大/ 限制/ ./ 分布式/ 光/ 互连/ 架构/ 所/ 需/ 的/ 网络设备/ 较/ 多/ ,/ 同时/ 需要/ 设计/ 更/ 复杂/ 的/ 通信协议/ ,/ 但/ 分布式/ 架构/ 支持/ 更/ 灵活/ 的/ 扩展/ 模式/ ,/ 同时/ 能够/ 避免/ 对于/ 定制/ 设备/ 的/ 使用/ ./ 4/ 研究/ 趋势/ 与/ 电/ 互连/ 技术/ 相比/ ,/ 研究/ 人员/ 对/ 数据中心/ 光/ 互连/ 网络/ 的/ 研究/ 尚/ 处于/ 起步/ 阶段/ ./ 这/ 主要/ 体现/ 在/ :/ (/ 1/ )/ 多数/ 光/ 互连/ 方案/ 仅/ 处于/ 原型/ 验证/ 或/ 软件/ 仿真/ 阶段/ ,/ 这些/ 方案/ 缺乏/ 低成本/ 、/ 成熟/ 的/ 商用/ 光/ 器件/ 支持/ 部署/ ;/ (/ 2/ )/ 光/ 互连/ 低成本/ 、/ 低能耗/ 、/ 高带宽/ 的/ 优势/ 尚未/ 充分体现/ ;/ (/ 3/ )/ 工业界/ 主要/ 通信/ 设备/ 提供商/ ,/ 如/ 思科/ 、/ 中兴/ 、/ 华为/ 、/ Juniper/ 等/ ,/ 尚未/ 就/ 数据中心/ 光/ 互连/ 网络/ 推出/ 相关/ 产品/ 设备/ ./ 国际标准化组织/ 如/ IEEE/ 、/ IETF/ 、/ ITU/ -/ T/ 等/ 也/ 尚未/ 提出/ 与/ 数据中心/ 光/ 互连/ 相关/ 的/ 技术标准/ 或/ 建议/ ./ 因此/ ,/ 数据中心/ 光/ 互连/ 技术/ 还/ 需要/ 进行/ 更加/ 广泛/ 深入/ 的/ 研究/ ,/ 未来/ 的/ 研究/ 方向/ 将/ 主要/ 集中/ 于/ 以下/ 几个/ 方面/ :/ (/ 1/ )/ 新型/ 光/ 交换机/ 结构/ 的/ 研究/ 光/ 交换/ 节点/ 的/ 性能/ 会/ 直接/ 影响/ 网络拓扑/ 、/ 交换/ 机制/ 和/ 通信/ 策略/ 的/ 设计/ ./ 目前/ 商用/ MEMS/ 全光/ 交换机/ 的/ 配置/ 时延/ 过长/ (/ 数十/ 毫秒/ )/ ,/ 因此/ 基于/ MEMS/ 的/ 光/ 互连/ 架构/ 难以实现/ 细粒度/ 的/ 信息/ 交换/ ,/ 网络/ 灵活性/ 和/ 链路/ 利用率/ 受到/ 严重/ 限制/ ./ AWGR/ 需要/ 在/ 每个/ 输入/ 端口配置/ TWC/ 以/ 实现/ 分组/ 的/ 正确/ 路由/ ,/ 这些/ 有源/ 器件/ 会/ 增大/ 光/ 交换/ 网络/ 的/ 能耗/ ./ 另外/ ,/ 基于/ 光纤/ 延迟线/ 的/ 缓存/ 结构/ 无法/ 实现/ 光/ 分组/ 的/ 灵活/ 存取/ ,/ 缓存/ 的/ 容量/ 也/ 十分/ 有限/ ./ 现存/ 光/ 交换机/ 的/ 上述/ 缺点/ 会/ 导致/ 光/ 互连/ 架构设计/ 中/ 存在/ 各种/ 限制/ ,/ 也/ 导致/ 目前/ 光/ 网络/ 无法/ 获得/ 与/ 电/ 网络/ 相似/ 的/ 灵活性/ 和/ 信息/ 交换/ 粒度/ ./ 因此/ ,/ 未来/ 对于/ 新型/ 光/ 交换机/ 的/ 研究会/ 成为/ 重点/ ,/ 低能耗/ 、/ 低成本/ 、/ 细粒度/ 、/ 快速/ 配置/ 的/ 光/ 交换机/ 结构/ 会/ 极大/ 改善/ 光/ 互连/ 网络/ 的/ 性能/ ./ (/ 2/ )/ 分布式/ 光/ 互连/ 网络/ 的/ 研究/ 目前/ 数据中心/ 光/ 互连/ 网络/ 多/ 采用/ 集中式/ 架构/ ,/ 这些/ 方案/ 在/ 网络/ 的/ 扩展性/ 、/ 可靠性/ 、/ 技术/ 可行性/ 等/ 方面/ 存在/ 较大/ 的/ 挑战/ ./ 分布式/ 光/ 互连/ 网络/ 具有/ 更/ 灵活/ 的/ 扩展/ 模式/ ,/ 同时/ 能够/ 避免/ 对/ 定制/ 光/ 交换/ 设备/ 的/ 使用/ ./ 但/ 目前/ 研究/ 领域/ 对于/ 分布式/ 光/ 互连/ 网络/ 的/ 研究/ 较/ 少/ ,/ 因此/ 未来/ 在/ 数据中心/ 分布式/ 光/ 互连/ 网络/ 设计/ 方面/ 仍/ 存在/ 较大/ 的/ 研究/ 空间/ ./ 研究/ 人员/ 需要/ 解决/ 的/ 问题/ 包括/ 网络拓扑/ 的/ 设计/ 、/ 通信协议/ 的/ 设计/ 、/ 控制系统/ 的/ 设计/ 等/ ./ (/ 3/ )/ 与/ 云/ 计算/ 特定/ 应用/ 相结合/ 或/ 与/ 新/ 技术相结合/ 的/ 光/ 互连/ 网络/ 架构设计/ 目前/ 的/ 光/ 互连/ 架构设计/ 主要/ 关注/ 网络/ 性能/ 、/ 扩展性/ 、/ 成本/ 等/ 基本/ 因素/ ,/ 结合/ 云/ 环境/ 或/ 特定/ 应用/ 要求/ 的/ 光/ 互连/ 网络/ 架构/ 研究/ 较少/ ./ 例如/ ,/ 虚拟化/ 是/ 云/ 计算/ 的/ 主要/ 特征/ [/ 62/ ]/ ,/ 随着/ 服务器/ 虚拟化/ 、/ 存储/ 虚拟化/ 技术/ 的/ 发展/ ,/ 网络/ 虚拟化/ 技术/ 备受/ 关注/ [/ 63/ ]/ ./ 另外/ 由于/ 云/ 计算/ 数据中心/ 面向/ 全球/ 用户/ 提供/ 不间断/ 服务/ ,/ 可靠性/ 成为/ 网络/ 设计/ 的/ 重要/ 要求/ ./ 最后/ ,/ 云/ 计算/ 数据中心/ 是/ 一个/ 典型/ 的/ 多/ 租户/ 环境/ ,/ 不同/ 应用/ 的/ 通信/ 模式/ 、/ 流量/ 特征/ 和/ QoS/ 要求/ 互不/ 相同/ ,/ 网络/ 的/ 流量/ 调度/ 策略/ 和/ 交换/ 传输/ 策略/ 应该/ 充分考虑/ 不同/ 应用/ 的/ 要求/ ./ 因此/ ,/ 基于/ 光/ 互连/ 网络/ 架构/ 的/ 虚拟化/ 技术/ 、/ 可靠性/ 保障/ 技术/ 和/ 改进型/ 传输/ 协议/ 都/ 值得/ 进行/ 深入研究/ ./ SDN/ 技术/ 近年来/ 受到/ 工业界/ 和/ 学术界/ 的/ 极大/ 关注/ [/ 64/ ]/ ,/ 它/ 为/ 网络/ 运营者/ 和/ 研究/ 人员/ 提供/ 了/ 一个/ 开放性/ 平台/ ,/ 可/ 使/ 创新性/ 技术/ 和/ 协议/ 实现/ 快速/ 地/ 应用/ 部署/ ./ 将/ SDN/ 技术/ 应用/ 于/ 数据中心/ 光/ 互连/ 网络/ 成为/ 一个/ 新/ 的/ 研究课题/ ,/ 对此/ ,/ 北京邮电大学/ 就/ 这/ 一/ 课题/ 展开/ 了/ 研究/ [/ 65/ ]/ ,/ 可以/ 预期/ 这一/ 方向/ 将/ 产生/ 更/ 多/ 的/ 研究成果/ ./ 5/ 总结/ 云/ 计算/ 将/ 带来/ 数据中心/ 内/ 应用/ 、/ 网络/ 、/ 计算/ 、/ 存储/ 的/ 全面/ 融合/ ./ 随着/ Hadoop/ 、/ MapReduce/ 等/ 分布式计算/ 模式/ 的/ 部署/ ,/ 服务器之间/ 的/ 任务/ 协作/ 增加/ ,/ 网络/ 成为/ 决定/ 云/ 计算/ 性能/ 的/ 关键因素/ 之一/ ./ 与/ 电/ 互连/ 技术/ 相比/ ,/ 光/ 互连/ 技术/ 在/ 能耗/ 、/ 带宽/ 、/ 传输/ 透明性/ 等/ 方面/ 占有/ 较大/ 的/ 优势/ ./ 尤其/ 随着/ 链路/ 带宽/ 的/ 提升/ ,/ 光纤/ 成为/ 数据中心/ 的/ 主要/ 传输/ 媒质/ ,/ 全光/ 互连/ 架构/ 将/ 进一步/ 降低/ 网络/ 的/ 传输/ 时延/ 和/ 能耗/ ./ 因此/ ,/ 数据中心/ 光/ 互连/ 架构/ 受到/ 广泛/ 关注/ ,/ 已/ 获得/ 的/ 研究成果/ 表明/ ,/ 数据中心/ 光/ 互连/ 技术/ 具有/ 较大/ 的/ 潜力/ 解决/ 云/ 计算/ 网络/ Page19/ 所/ 面临/ 的/ 一系列/ 问题/ ./ 尽管/ 该/ 领域/ 仍/ 存在/ 一系列/ 待/ 解决/ 的/ 问题/ ,/ 但/ 可以/ 预期/ 的/ 是/ ,/ 随着/ 光/ 器件/ 的/ 成熟/ 和/ 研究/ 的/ 深入/ ,/ 低成本/ 、/ 低能耗/ 、/ 高带宽/ 、/ 低/ 时延/ 的/ 数据中心/ 光/ 互连/ 架构/ 将/ 有力/ 推动/ 云/ 计算技术/ 的/ 发展/ ./ 

