Page1/ 考虑/ 类/ 特性/ 的/ 面向对象/ 错误/ 定位/ 涂径/ 玄/ 陈林/ 许蕾/ 卢红敏/ 徐宝文/ (/ 南京大学/ 软件/ 新/ 技术/ 国家/ 重点/ 实验室/ 南京/ 210048/ )/ (/ 南京大学/ 计算机科学/ 与/ 技术/ 系/ 南京/ 210048/ )/ 摘要/ 基于/ 频谱/ 的/ 错误/ 定位/ 方法/ 很少/ 考虑/ 语言/ 特性/ 对/ 其/ 错误/ 定位/ 效率/ 的/ 影响/ ./ 文中/ 针对/ 基于/ 频谱/ 的/ 面向对象/ 程序/ 错误/ 定位/ ,/ 分析/ 讨论/ 了/ 类/ 特性/ 对/ 基于/ 频谱/ 的/ 错误/ 定位/ 方法/ 的/ 有效/ 影响/ ,/ 提出/ 了/ 结合/ 类/ 可疑/ 度/ 信息/ 的/ 错误/ 定位/ 算法/ ,/ 并/ 通过/ 3/ 个/ Java/ 开源/ 软件/ 作为/ 实验/ 对象/ 对/ 其/ 进行/ 了/ 验证/ ./ 实验/ 结果表明/ ,/ 文中/ 提出/ 的/ 方法/ 能够/ 有效/ 提高/ 基于/ 频谱/ 的/ 面向对象/ 错误/ 定位/ 方法/ 的/ 效率/ ./ 关键词/ 错误/ 定位/ ;/ 面向对象/ ;/ 类/ 可疑/ 度/ ;/ 频谱/ ;/ 程序/ 分析/ 1/ 引言/ 错误/ 定位/ 是/ 软件/ 调试/ 中/ 一个/ 十分/ 费力/ 耗时/ 的/ 过程/ ,/ 现今/ 软件/ 的/ 复杂性/ 增加/ 了/ 错误/ 定位/ 的/ 困难性/ [/ 1/ ]/ ./ 为了/ 提高/ 程序员/ 调试/ 错误/ 的/ 效率/ ,/ 研究者/ 提出/ 了/ 一系列/ 自动化/ 的/ 错误/ 定位/ 方法/ ,/ 其中/ 包括/ 基于/ 频谱/ 的/ 错误/ 定位/ 、/ 基于/ 模型/ 的/ 诊断/ 、/ 基于/ 统计/ 的/ 错误/ 定位/ 等/ 方法/ ./ 基于/ 频谱/ 的/ 错误/ 定位/ 是/ 一种/ 有效/ 的/ 轻量级/ 错误/ 定位/ 方法/ :/ 通过/ 运行/ 测试用例/ 得到/ 程序/ 频谱/ ,/ 分析程序/ 频谱/ 得到/ 语句/ 与/ 错误/ 的/ 相关性/ ,/ 并/ 将/ 语句/ 按照/ 错误/ 相关性/ 大小/ 进行/ 排序/ ,/ 减轻/ 程序员/ 手工/ 排查/ 语句/ 的/ 工作量/ ,/ 提升/ 调试/ 效率/ ./ 面向对象/ 程序/ 具有/ 类/ 、/ 对象/ 、/ 继承/ 、/ 封装/ 等/ 特性/ ,/ 在/ 基于/ 频谱/ 的/ 面向对象/ 程序/ 错误/ 定位/ 方法/ 中/ [/ 2/ -/ 6/ ]/ ,/ 研究者/ 很少/ 特定/ 考虑/ 语言/ 特性/ 对/ 错误/ 定位/ 的/ 影响/ ./ 我们/ 结合/ 近年来/ 在/ 程序/ 分析/ 、/ 度量/ 和/ 测试/ 方面/ 的/ 工作/ [/ 7/ -/ 12/ ]/ ,/ 对/ 基于/ 频谱/ 的/ 面向对象/ 程序/ 错误/ 定位/ 以及/ Page2/ 面向对象/ 程序/ 的/ 特性/ 对/ 其/ 错误/ 定位/ 效率/ 的/ 有效/ 影响/ 做/ 了/ 初步/ 研究/ ,/ 并/ 在/ 此基础/ 上/ ,/ 提出/ 了/ 利用/ 类/ 可疑/ 度/ 信息/ ,/ 促进/ 基于/ 频谱/ 的/ 面向对象/ 程序/ 的/ 错误/ 定位/ 效率/ 的/ 提高/ ./ 实验/ 结果表明/ ,/ 本文/ 提出/ 的/ 方法/ 能够/ 有效/ 地/ 提高/ 基于/ 频谱/ 的/ 面向对象/ 错误/ 定位/ 方法/ 的/ 效率/ ./ 2/ 相关/ 工作/ 程序/ 频谱/ 是/ 软件/ 的/ 一种/ 动态/ 行为/ ,/ Harrold/ 等/ 人/ [/ 13/ ]/ 通过/ 分析/ 成功/ 测试用例/ 和/ 失败/ 测试用例/ 频谱/ 之间/ 的/ 差异性/ 对/ 错误/ 语句/ 进行/ 定位/ ./ 基于/ 频谱/ ,/ 研究者/ 提出/ 了/ 许多/ 度量/ 方法/ 来/ 定位/ 错误/ ./ Jones/ 等/ 人/ [/ 14/ ]/ 开发/ 的/ Tarantula/ 工具/ 是/ 第/ 1/ 个/ 基于/ 频谱/ 的/ 调试/ 工具/ ,/ 该/ 工具/ 运用/ Tarantula/ 算法/ 对/ C/ 程序/ 语句/ 着色/ ,/ 根据/ 颜色/ 来/ 区分/ 语句/ 含错/ 的/ 可能性/ ./ Abreu/ 等/ 人/ [/ 15/ ]/ 比较/ 了/ Ochiai/ 、/ Tarantula/ 和/ Jaccard3/ 种/ 度量/ 算法/ ,/ 并/ 在/ 西门子/ 测试/ 套件/ 上/ 做/ 了/ 实验/ ,/ 实验/ 结果表明/ 基于/ 语句/ 频谱/ Ochiai/ 算法/ 效果/ 是/ 最好/ 的/ ./ Liu/ 等/ 人/ [/ 16/ ]/ 提出/ 了/ 统计/ 模型/ SOBER/ ,/ 对/ 成功/ 和/ 失败/ 测试用例/ 中/ 谓词/ 的/ 取值/ 模式/ 进行/ 建模/ ,/ 来/ 计算/ 谓词/ 的/ 取值/ 模式/ 与/ 错误/ 的/ 统计/ 相关性/ ./ Wong/ 等/ 人/ [/ 3/ ]/ 考虑/ 了/ 测试用例/ 的/ 数量/ 对/ 错误/ 定位/ 的/ 影响/ ,/ 提出/ 随着/ 测试用例/ 运行/ ,/ 成功/ 测试用例/ 应/ 具有/ 不同/ 权重/ ,/ 并/ 设计/ 了/ 3/ 种/ Wong/ 度量/ 算法/ ,/ 实现/ 了/ χ/ Debug/ 调试/ 工具/ ,/ 并/ 通过/ 实验/ 评估/ 了/ 这/ 3/ 种/ 算法/ 的/ 有效性/ ./ 近年来/ ,/ 研究者/ 在/ 频谱/ 类型/ 对/ 错误/ 定位/ 效率/ 影响/ 方面/ 也/ 做/ 了/ 许多/ 研究/ 工作/ ./ Santelices/ 等/ 人/ [/ 17/ ]/ 评估/ 分析/ 了/ 语句/ 频谱/ 、/ 分支/ 频谱/ 和/ 定义/ -/ 引用/ 频谱/ 3/ 种/ 轻量级/ 频谱/ 对/ 错误/ 定位/ 的/ 影响/ ,/ 并/ 提出/ 了/ 3/ 种/ 不同/ 频谱/ 类型/ 的/ 结合/ 方法/ :/ max/ -/ SBD/ 、/ avg/ -/ SBD/ 和/ avg/ -/ BD/ ,/ 其中/ avg/ -/ SBD/ 效果/ 最好/ ,/ 实验/ 结果表明/ 结合/ 了/ 多种/ 频谱/ 类型/ 的/ 错误/ 定位/ 方法/ 更/ 有效/ ./ Yu/ 等/ 人/ [/ 5/ ]/ 把/ 错误/ 类型/ 分为/ 了/ 两种/ ,/ 即/ 控制/ 依赖/ 错误/ 和/ 数据/ 依赖/ 错误/ ,/ 针对/ 两种/ 错误/ 类型/ 分别/ 建立/ 了/ 两种/ 特定/ 的/ 频谱/ 模型/ ,/ 并/ 提出/ 了/ 结合/ 这/ 两种/ 频谱/ 模型/ 的/ LOUPE/ 算法/ 进行/ 错误/ 定位/ ./ 在/ 面向对象/ 程序/ 错误/ 定位/ 方面/ ,/ 研究者/ 也/ 做/ 了/ 一些/ 研究/ ./ Dallmeier/ 等/ 人/ [/ 4/ ]/ 针对/ 面向对象/ 程序/ 提出/ 了/ Ample/ 算法/ 并/ 设计/ 实现/ 了/ AMPLE/ 系统/ ,/ 该/ 系统/ 在/ 类/ 的/ 层次/ 上/ 进行/ 错误/ 定位/ ,/ 能够/ 计算/ 出/ 每个/ 类/ 的/ 错误/ 相关性/ 并/ 有效/ 地/ 定位/ 错误/ 的/ 类/ ./ Masri/ [/ 18/ ]/ 提出/ 了/ 基于/ 信息流/ 频谱/ 的/ 错误/ 定位/ 方法/ ,/ 并/ 把/ 该/ 方法/ 运用/ 到/ 了/ Java/ 程序/ 的/ 错误/ 定位/ 中/ ./ 上述/ 基于/ 频谱/ 的/ 错误/ 定位/ 方法/ 很少/ 考虑/ 语言/ 特性/ 对/ 其/ 效率/ 的/ 影响/ ,/ 我们/ 在/ 表/ 1/ 中/ 列出/ 了/ 主要/ 的/ 基于/ 频谱/ 的/ 错误/ 定位/ 方法/ ./ 针对/ 面向对象/ 程序/ ,/ 本文/ 分析/ 讨论/ 了/ 类/ 的/ 特性/ 对/ 基于/ 频谱/ 的/ 错误/ 定位/ 方法/ 的/ 有效/ 影响/ ,/ 提出/ 了/ 结合/ 类/ 可疑/ 度/ 信息/ 的/ 错误/ 定位/ 方法/ ./ 方法/ 名称/ 错误/ 定位/ Tarantula/ 语句/ 级别/ SpaceSOBERAmpleOchiaiWong3FaultLocalization/ 语句/ 级别/ NanoXML/ ,/ DIFABasedavg/ -/ SBD/ 语句/ 级别/ LOUPE/ 语句/ 级别/ SiemensSuitsC/ 没有/ 考虑/ 3/ 类/ 封装/ 特性/ 对/ 错误/ 定位/ 的/ 有效/ 影响/ 近十年/ 来/ ,/ 研究者/ 对/ 基于/ 频谱/ 的/ 错误/ 定位/ 方法/ 的/ 研究/ 主要/ 集中/ 于/ 以下/ 3/ 方面/ :/ 频谱/ 度量/ 算法/ 的/ 研究/ 、/ 频谱/ 类型/ 的/ 研究/ 和/ 测试用例/ 的/ 研究/ ./ 很少/ 有/ 研究者/ 考虑/ 不同/ 语言/ 特性/ ,/ 面向/ 过程/ 语言/ 和/ 面向对象/ 语言所/ 编写/ 的/ 程序/ 差异性/ 较大/ ,/ 本/ 节/ 分析/ 讨论/ 类/ 特性/ 对/ 面向对象/ 错误/ 定位/ 的/ 有效/ 影响/ ./ 面向对象/ 程序/ 具有/ 类/ 、/ 对象/ 、/ 封装/ 、/ 继承/ 等/ 特性/ ./ 类/ 刻划/ 了/ 一组/ 对象/ 所/ 共有/ 的/ 属性/ 和/ 行为/ ,/ 封装/ 了/ 一组/ 属性/ 和/ 方法/ ,/ 继承/ 描述/ 了/ 类/ 的/ 层次结构/ ,/ 对象/ 是/ 面向对象/ 程序运行/ 时/ 的/ 基本/ 活动/ 单位/ ./ 类/ 是/ 面向对象/ 程序/ 的/ 基本/ 组成/ 单元/ ,/ 我们/ 初步/ 研究/ 了/ 类/ 的/ 封装/ 特性/ 对/ 基于/ 频谱/ 的/ 面向对象/ 错误/ 定位/ 的/ 影响/ ./ 类/ 具有/ 封装/ 特性/ ,/ 封装/ 的/ 方法/ 和/ 数据/ 描述/ 了/ 一组/ 对象/ 的/ 共同/ 属性/ 和/ 行为/ ./ 在/ 面向对象/ 程序/ 中/ ,/ 语句/ 包含/ 在/ 不同/ 的/ 类/ 中/ ,/ 我们/ 可以/ 把/ 类/ 视为/ 封装/ 了/ 一组/ 语句/ 的/ 容器/ ./ 通过/ 运行/ 测试用例/ 得到/ 语句/ 覆盖/ 信息/ ,/ 不同/ 类/ 容器/ 的/ 语句/ 可能/ 具有/ 相同/ 的/ 覆盖/ 信息/ ,/ 运用/ 基于/ 频谱/ 的/ 错误/ 定位/ 方法/ 计算/ 出/ 的/ 这些/ 语句/ 具有/ 相同/ 的/ 含错/ 可疑/ 度/ ,/ 增加/ 了/ 错误/ 定位/ 的/ 工作量/ ./ 我们/ 使用/ 对象/ 方法/ 调用/ 序列/ 来/ 描述/ 类/ 的/ 行为/ ,/ 比较/ 成功/ 测试用例/ 执行/ 和/ 失败/ 测试用例/ 执行/ 中类/ 行为/ 的/ 差异性/ ,/ 即/ 基于/ Dallmeier/ 等/ 人/ [/ 4/ ]/ 提出/ 的/ 基于/ 方法/ 执行/ 序列/ 频谱/ 计算/ 类/ 可疑/ 度值/ 的/ 思想/ ,/ 获得/ 每个/ 类/ 的/ 可/ Page3/ 疑度/ 信息/ ./ 每个/ 类/ 容器/ 中/ 的/ 语句/ 结合/ 所属/ 类/ 的/ 可疑/ 度/ 信息/ ,/ 不仅/ 可以/ 区分/ 不同/ 类中/ 具有/ 相同/ 覆盖/ 信息/ 语句/ 的/ 含错/ 可疑/ 度/ ,/ 而且/ 使得/ 错误/ 语句/ 的/ 含错/ 可疑/ 度/ 更/ 大/ ,/ 从而/ 减少/ 错误/ 定位/ 的/ 工作量/ ,/ 提高/ 错误/ 定位/ 的/ 效率/ ./ 测试用例/ t45/ ,/ 5/ ,/ 5/ 类/ 可疑/ 度/ 0.8330/ ./ 8590.833/ System/ ./ out/ ./ print/ (/ mid/ )/ ;/ }/ }/ S24/ ·/ ·/ ·/ ·/ ·/ ·/ 0.5150/ ./ 58315/ -/ 1.318/ -/ 0.76718/ 图/ 1/ 计算/ 中值/ 的/ Java/ 程序/ 我们/ 使用/ Tarantula/ 算法/ [/ 14/ ]/ 和/ Wong3/ 算法/ [/ 3/ ]/ 对/ 该/ 面向对象/ 程序/ 错误/ 定位/ ./ 运行/ 6/ 个/ 测试用例/ ,/ 搜集/ 语句/ 覆盖/ 信息/ ,/ 图/ 1/ 中/ 的/ “/ ·/ ”/ 表示/ 测试用例/ 执行/ 了/ 这条/ 语句/ ,/ 如图所示/ ,/ 类/ User/ 、/ 类/ Displayer/ 以及/ 类/ Cal/ 的/ 错误/ 语句/ 具有/ 相同/ 的/ 语句/ 频谱/ 信息/ ,/ Tarantula/ 算法/ 和/ Wong3/ 算法/ 计算/ 出/ 的/ 这些/ 语句/ 具有/ 相同/ 的/ 含错/ 可疑/ 度/ ,/ 可疑/ 度值/ 分别/ 是/ 0.5/ 和/ -/ 1.3/ ,/ 需要/ 分别/ 检查/ 62.5/ %/ 和/ 75/ %/ 的/ 可/ 执行/ 代码/ 如图/ 1/ 所示/ ,/ 该/ 实例/ 是/ 包含/ 有/ 一条/ 错误/ 语句/ 的/ 3/ 个类/ ,/ S8/ 是/ 错误/ 语句/ ,/ 有/ 6/ 个/ 测试用例/ ,/ 其中/ t5/ 是/ 失败/ 测试用例/ ./ User/ 是/ 一个/ 输入/ 数据/ 的/ 类/ ,/ 类/ Cal/ 是/ 用来/ 计算/ 3/ 个/ 整数/ 的/ 中值/ ,/ Displayer/ 是/ 一个/ 显示/ 计算结果/ 的/ 类/ ./ t55/ ,/ 3/ ,/ 4t62/ ,/ 1/ ,/ 3/ ·/ ·/ 0.83340/ ./ 8404050.2155/ ·/ ·/ 0.83340/ ./ 8404050.2155/ ·/ ·/ 0.83340/ ./ 8404050.2155/ ·/ 024024/ -/ 17/ -/ 0.757/ ·/ ·/ 0.83340/ ./ 8404050.2155/ 量/ 才能/ 定位/ 到/ 错误/ 语句/ S8/ ,/ 定位/ 效果/ 并/ 不/ 十分/ 理想/ ./ 我们/ 可以/ 利用/ 类/ 信息/ 来/ 提高/ Tarantula/ 和/ Wong3/ 的/ 错误/ 定位/ 效率/ ./ 运行/ 6/ 个/ 测试用例/ ,/ 除了/ 搜集/ 语句/ 频谱/ 信息/ ,/ 我们/ 还/ 搜集/ 了/ 每个/ 对象/ 方法/ 的/ 执行/ 轨迹/ 信息/ ,/ 使用/ 对象/ 方法/ 执行/ 序列/ 的/ 差异性/ 来/ 描述/ 类/ 的/ 行为/ ,/ 通过/ 描述/ 类/ 的/ 行为/ ,/ 我们/ 可以/ 得到/ 类/ 的/ 可疑/ 度/ 信息/ ,/ 获取/ 类/ 可疑/ 度/ 信息/ 的/ 方法/ 我们/ 将/ 在/ 第/ 4/ 节中/ 详细/ 阐述/ ,/ 结果/ 如图/ 1/ 中/ 左边/ 第/ 1/ 列/ 所示/ ,/ Page4/ 类/ User/ 、/ Cal/ 和/ Displayer/ 的/ 含错/ 可疑/ 度值/ 分别/ 是/ 0.833/ 、/ 0.859/ 和/ 0.833/ ./ 通过/ 对图/ 1/ 中/ 示例/ 程序/ 的/ 每/ 一条/ 语句/ 使用/ 类/ 可疑/ 度/ 信息/ 结合/ 算法/ ,/ Tarantula/ 和/ Wong3/ 的/ 错误/ 定位/ 效率/ 有/ 了/ 明显提高/ ,/ 分别/ 检查/ 33.3/ %/ 和/ 45.8/ %/ 的/ 执行/ 代码/ 量/ 就/ 能/ 定位/ 到/ 错误/ 语句/ S8/ ,/ 定位/ 效率/ 均/ 提高/ 了/ 约/ 30/ %/ ,/ 类/ 可疑/ 度/ 信息/ 结合/ 算法/ 将/ 在/ 第/ 5/ 节中/ 详细/ 阐述/ ./ 在/ 后续/ 章节/ 中/ ,/ 我们/ 将/ 详细/ 阐述/ 如何/ 提取/ 类/ 的/ 可疑/ 度/ 信息/ ,/ 以及/ 类/ 可疑/ 度/ 信息/ 的/ 结合/ 算法/ ,/ 并/ 通过/ 实验/ 评估/ 其/ 有效性/ ./ 4/ 提取/ 类/ 可疑/ 度/ 信息/ 对象/ 之间/ 通过/ 消息传递/ 进行/ 通信/ ,/ 利用/ 方法/ 之间/ 的/ 调用/ 实现/ 相应/ 功能/ ,/ 我们/ 使用/ 方法/ 执行/ 序列/ 轨迹/ 来/ 描述/ 类/ 的/ 行为/ ,/ 通过/ 比较/ 类/ 的/ 行为/ 在/ 成功/ 测试用例/ 执行/ 和/ 失败/ 测试用例/ 执行/ 的/ 差异性/ 来/ 获得/ 类/ 的/ 可疑/ 度/ 信息/ ./ Dallmeier/ 等/ 人/ [/ 4/ ]/ 提出/ 了/ 基于/ 方法/ 执行/ 序列/ 频谱/ 计算/ 类/ 可疑/ 度值/ 的/ 方法/ ,/ 主要/ 思想/ 如下/ :/ 运行/ 一条/ 失败/ 测试用例/ 和/ 多条/ 成功/ 测试用例/ ,/ 搜集/ 每条/ 测试用例/ 对应/ 的/ 方法/ 执行/ 信息/ ,/ 得到/ 每个/ 对象/ 的/ 方法/ 执行/ 轨迹/ ,/ 并/ 将/ 轨迹/ 按照/ 一定/ 长度/ 划分/ 为/ 若干/ 方法/ 调用/ 序列/ ,/ 将/ 属于/ 同一/ 对象/ 的/ 方法/ 调用/ 序列/ 聚集/ 到/ 对象/ 的/ 方法/ 调用/ 序列/ 集合/ 中/ ,/ 再/ 把/ 属于/ 同一个/ 类/ 的/ 对象/ 的/ 方法/ 调用/ 序列/ 集合/ 合并/ 为/ 这个/ 类/ 的/ 方法/ 调用/ 序列/ 集合/ ,/ 最后/ ,/ 根据/ 方法/ 调用/ 序列/ 频谱/ 计算/ 每个/ 方法/ 调用/ 序列/ 的/ 可疑/ 度值/ ,/ 每个/ 类/ 的/ 方法/ 调用/ 序列/ 集合/ 的/ 可疑/ 度/ 平均值/ 作为/ 这个/ 类/ 的/ 可疑/ 度值/ ./ 他们/ 通过/ 实验/ 验证/ 了/ :/ 方法/ 调用/ 序列/ 长度/ 为/ 3/ ~/ 8/ 的/ 对象/ 方法/ 调用/ 序列/ 时/ ,/ 能够/ 取得/ 最好/ 的/ 类/ 错误/ 定位/ 效果/ ./ Dallmeier/ 等/ 人/ 并/ 没有/ 通过/ 执行/ 多条/ 失败/ 测试用例/ 搜集/ 方法/ 执行/ 信息/ ,/ 实际上/ ,/ 执行/ 一条/ 失败/ 测试用例/ 和/ 多条/ 成功/ 测试用例/ 获得/ 的/ 方法/ 执行/ 信息/ 不能/ 充分/ 描述/ 类/ 行为/ ./ 基于/ 以上/ 想法/ ,/ 本文/ 提出/ 了/ 一种/ 新/ 的/ 提取/ 类/ 可疑/ 度/ 信息/ 的/ 算法/ ./ 我们/ 使用/ 了/ 一组/ 符号/ 〈/ anp/ ,/ anf/ ,/ aep/ ,/ aef/ 〉/ 来/ 表示/ 方法/ 序列/ 的/ 频谱/ 信息/ [/ 19/ ]/ ,/ 每/ 一个/ 方法/ 调用/ 序列/ 都/ 对应/ 着/ 一个/ 四元组/ ./ 下标/ e/ 和/ n/ 分别/ 表示/ 测试用例/ 执行/ 和/ 未/ 执行/ 方法/ 调用/ 序列/ ,/ 下标/ f/ 和/ p/ 分别/ 表示/ 测试用例/ 失败/ 和/ 成功/ 执行/ 方法/ 调用/ 序列/ ,/ 例如/ ,/ anp/ 表示/ 成功/ 测试用例/ 没有/ 执行/ 该/ 方法/ 调用/ 序列/ 的/ 数量/ ./ 一般/ 情况/ 下/ ,/ 包含/ 错误/ 的/ 序列/ 具有/ 较/ 高/ 的/ aef/ 值/ 和/ 较/ 低/ 的/ aep/ 值/ ./ 一个/ 序列/ 被/ 较/ 多/ 的/ 失败/ 测试用例/ 执行/ ,/ 却/ 被/ 较/ 少/ 的/ 成功/ 测试用例/ 执行/ ,/ 则/ 其/ 可疑/ 度越/ 大/ ,/ 反/ 基于/ 函数调用/ 序列/ 频谱/ ,/ 函数调用/ 序列/ p/ 的/ 可/ 之/ ,/ 则/ 其/ 可疑/ 度越/ 小/ ;/ 一个/ 序列/ 没有/ 被/ 失败/ 测试用例/ 执行/ ,/ 被/ 成功/ 测试用例/ 执行/ 的/ 数量/ 越/ 多/ ,/ 则/ 其/ 可疑/ 度越/ 大/ ,/ 反之/ ,/ 被/ 成功/ 测试用例/ 执行/ 的/ 数量/ 越/ 少/ ,/ 则/ 其/ 可疑/ 度越/ 小/ ./ 疑度/ w/ (/ p/ )/ 计算公式/ 为/ w/ (/ p/ )/ =/ 3/ ×/ %/ fail/ (/ p/ )/ 1/ 烄/ 烅/ aef/ >/ 0/ %/ pass/ (/ p/ )/ ,/ aef/ 烆/ 其中/ 疑度值/ 作为/ 该类/ 的/ 可疑/ 度值/ w/ (/ C/ )/ :/ 我们/ 把/ 类/ 的/ 函数调用/ 序列/ 集合/ S/ (/ C/ )/ 的/ 平均/ 可/ w/ (/ C/ )/ =/ 1/ // t/ ∑/ p/ ∈/ S/ (/ C/ )/ w/ (/ p/ )/ wheret/ =/ |/ S/ (/ C/ )/ |/ (/ 2/ )/ 根据/ 本文/ 提出/ 的/ 类/ 可疑/ 度/ 信息/ 获取/ 算法/ ,/ 我们/ 可以/ 获得/ 图/ 1/ 中/ 3/ 个类/ 的/ 方法/ 调用/ 序列/ 集合/ S/ (/ Cal/ )/ =/ {/ (/ Cal/ ./ m1/ )/ ,/ (/ Cal/ ./ 〈/ init/ 〉/ )/ ,/ (/ Cal/ ./ m2/ )/ }/ ,/ S/ (/ User/ )/ =/ {/ (/ User/ ./ 〈/ init/ 〉/ )/ ,/ (/ Cal/ ./ Mid/ ,/ Displayer/ ./ show/ )/ }/ ,/ S/ (/ Displayer/ )/ =/ {/ (/ Displayer/ ./ 〈/ init/ 〉/ )/ }/ ./ 根据/ 表/ 2/ 中/ 的/ 方法/ 序列/ 频谱/ ,/ 使用/ 式/ (/ 1/ )/ 计算/ 出/ 每个/ 方法/ 调用/ 序列/ 的/ 可疑/ 度值/ ,/ 使用/ 式/ (/ 2/ )/ 计算/ 每个/ 类/ 的/ 可疑/ 度值/ ,/ 最后/ 得到/ 3/ 个类/ 的/ 可疑/ 度/ 信息/ ./ (/ Cal/ ./ m1/ )/ (/ Cal/ ./ 〈/ init/ 〉/ )/ (/ Cal/ ./ m2/ )/ (/ User/ ./ 〈/ init/ 〉/ )/ (/ Cal/ ./ Mid/ ,/ Displayer/ ./ show/ )/ 5100/ (/ Displayer/ ./ 〈/ init/ 〉/ )/ 5/ 类/ 可疑/ 度/ 信息/ 结合/ 算法/ 本/ 节/ 阐述/ 如何/ 利用/ 类/ 的/ 可疑/ 度/ 信息/ 来/ 提高/ 基于/ 频谱/ 的/ 面向对象/ 错误/ 定位/ 方法/ 的/ 定位/ 效率/ ,/ 为了/ 便于/ 阐述/ ,/ 我们/ 假设/ 选取/ 了/ 一个/ 基于/ 频谱/ 的/ 错误/ 定位/ 工具/ ζ/ 来/ 定位/ 错误/ 语句/ ,/ 通过/ ζ/ 可以/ 计算/ 每条/ 语句/ s/ 的/ 可疑/ 度值/ M/ (/ s/ )/ ,/ 我们/ 把/ 结合/ 类/ 可疑/ 度/ 信息/ 的/ ζ/ 记为/ WithCI/ -/ ζ/ ./ 在/ 面向对象/ 软件系统/ 中/ ,/ 语句/ 的/ 数量/ 通常/ 比类/ Page5/ 的/ 数量/ 大得多/ ,/ Zhang/ 等/ 人/ [/ 20/ ]/ 通过/ 实验/ 验证/ 了/ 面向对象/ 软件系统/ 规模/ 与/ 类/ 数目/ 的/ 关系/ ,/ 得出/ 了/ “/ Size/ =/ N/ ×/ 113.88/ ”/ 这个/ 结论/ ,/ 其中/ Size/ 是/ 面向对象/ 软件系统/ 的/ 规模/ ,/ N/ 是/ 类/ 的/ 个数/ ./ Zhang/ 等/ 人/ 的/ 结论/ 从/ 一定/ 程度/ 上/ 反映/ 了/ 面向对象/ 软件/ 中/ 语句/ 和/ 类/ 的/ 数目/ 在/ 数量级/ 上/ 的/ 差距/ ./ 相应/ 的/ ,/ 在/ 基于/ 频谱/ 的/ 面向对象/ 错误/ 定位/ 中/ ,/ 需要/ 检查/ 的/ 可疑/ 语句/ 的/ 数量/ 比/ 可疑/ 类/ 的/ 数量/ 大/ 很多/ ,/ 并且/ 这些/ 可疑/ 语句/ 通常/ 分布/ 在/ 不同/ 的/ 类/ 中/ ,/ 假设/ 排/ 在/ 包含/ 错误/ 的/ 语句/ 之前/ 的/ 可疑/ 语句/ 分布/ 在/ m/ 个类/ 中/ ,/ 定位/ 到/ 包含/ 错误/ 的/ 类/ 需要/ 检查/ 的/ 可疑/ 类/ 的/ 数目/ 为/ n/ ,/ 显然/ ,/ 当/ n/ =/ 1/ ,/ 结合/ 类/ 可疑/ 度/ 信息/ 后/ ,/ 错误/ 定位/ 效率/ 必然/ 会/ 提高/ ,/ 当/ 1/ </ n/ </ m/ ,/ 随着/ n/ 增大/ ,/ 结合/ 类/ 可疑/ 度/ 信息/ 后/ ,/ 错误/ 定位/ 效率/ 提高/ 的/ 程度/ 会/ 逐渐/ 减小/ ,/ 当/ n/ >/ m/ 时/ ,/ 则/ 错误/ 定位/ 效率/ 难以/ 再/ 提高/ ./ 本文/ 通过/ 实验/ 验证/ ,/ 在/ 绝大部分/ 情况/ 下/ ,/ 类/ 可疑/ 度/ 信息提取/ 算法/ 能够/ 保证/ n/ </ m/ ,/ 结合/ 类/ 可疑/ 度/ 信息/ ,/ 能够/ 有效/ 提高/ 错误/ 定位/ 效率/ ./ 一条/ 语句/ s/ 被/ ζ/ 赋予/ 的/ 可疑/ 度值/ M/ (/ s/ )/ 越大/ ,/ 且/ 语句/ s/ 所属/ 类/ 的/ 可疑/ 度值/ 越大/ ,/ 则/ 该/ 语句/ 含错/ 的/ 可疑/ 度/ 就/ 越/ 大/ ;/ 反之/ ,/ 该/ 语句/ 含错/ 的/ 可疑/ 度/ 就/ 越/ 小/ ./ 因此/ ,/ 我们/ 以/ 和/ 的/ 形式/ 结合/ 类/ 的/ 可疑/ 度/ 信息/ 和/ 语句/ 可疑/ 度/ 信息/ 来/ 定位/ 错误/ ./ 由于/ 两种/ 可疑/ 度/ 信息/ 在/ 数量/ 上/ 的/ 较大/ 差异/ ,/ 相加/ 时应/ 被/ 赋予/ 不同/ 的/ 权重/ ,/ 语句/ 可疑/ 度/ 信息/ 相对/ 较/ 多/ ,/ 被/ 赋予/ 了/ 较大/ 的/ 权重/ ,/ 相应/ 的/ ,/ 类/ 可疑/ 度/ 信息/ 被/ 赋予/ 较/ 小/ 的/ 权重/ ./ 为了/ 保证/ 结合/ 类/ 信息/ 的/ 错误/ 定位/ 效率/ ,/ 我们/ 首先/ 把/ 错误/ 定位/ 工具/ ζ/ 得到/ 的/ 可疑/ 语句/ 按照/ Debroy/ 等/ 人/ [/ 21/ ]/ 提出/ 的/ 基于/ 失败/ 测试用例/ 执行/ 数目/ 的/ 分组/ 策略/ 分成/ 若干组/ ,/ 被/ 失败/ 测试用例/ 执行/ 越多/ 的/ 组/ ,/ 则/ 该组/ 可疑/ 度越/ 大/ ./ 不同/ 组/ 的/ 可疑/ 语句/ 结合/ 不同/ 权重/ 的/ 类/ 可疑/ 度/ 信息/ ,/ 可疑/ 度越/ 大/ 的/ 组/ 表明/ 该组/ 包含/ 错误/ 语句/ 的/ 可能性/ 越大/ ,/ 则/ 结合/ 的/ 类/ 可疑/ 度/ 信息/ 权重/ 较大/ ,/ 同理/ ,/ 可疑/ 度越/ 小/ 的/ 组/ 结合/ 的/ 类/ 可疑/ 度/ 信息/ 权重/ 较/ 小/ ./ 通过/ 分组/ 策略/ ,/ 我们/ 可以/ 从/ 一定/ 程度/ 上/ 防止/ 排名/ 靠/ 后/ 的/ 可疑/ 语句/ 通过/ 结合/ 类/ 信息/ 后/ ,/ 排名/ 高于/ 包含/ 错误/ 的/ 语句/ ./ 例如/ ,/ 给定/ 两条/ 可疑/ 语句/ S1/ 、/ S2/ ,/ 其中/ S1/ 是/ 包含/ 错误/ 的/ 语句/ ,/ S1/ 可疑/ 度/ 排名/ 在/ S2/ 之前/ ,/ S2/ 所属/ 类/ 的/ 可疑/ 度/ 大于/ S1/ 所属/ 类/ 的/ 可疑/ 度/ ,/ 但是/ S1/ 被/ 分/ 在/ 了/ 可疑/ 度/ 较/ 高/ 的/ 组/ ,/ 结合/ 类/ 的/ 可疑/ 度/ 信息/ 的/ 权/ 重大/ 于/ S2/ 所/ 结合/ 的/ 权重/ ,/ 在/ 一定/ 程度/ 上能/ 防止/ S2/ 结合/ 类/ 可疑/ 度/ 信息/ 后/ 排名/ 高于/ S1/ ./ 我们/ 首先/ 将/ 可疑/ 语句/ 分为/ 1/ ~/ n/ 组/ ,/ 标记/ 为/ G0/ ,/ G1/ ,/ G2/ ,/ …/ ,/ Gn/ -/ 1/ ,/ Gi/ 中/ 的/ 下标/ i/ 表示/ 有/ i/ 个/ 失败/ 测试用例/ 执行/ 了/ Gi/ 组内/ 的/ 可疑/ 语句/ ./ 每条/ 可疑/ 语句/ 只/ 包含/ 在/ 一个组/ 内/ ,/ 可疑/ 语句/ 和/ 组/ 具有/ 多/ 对/ 一/ 的/ 映射/ 关系/ ./ 给定/ 语句/ s/ ,/ WithCI/ -/ ζ/ 算法/ 的/ 可疑/ 度/ 计算公式/ 为/ susp/ (/ s/ )/ =/ i/ ×/ ti/ // totalf/ (/ ∑/ ni/ =/ 1/ 其中/ 上述/ 公式/ 中/ ,/ totalfailed/ 代表/ 失败/ 测试用例/ 的/ 总数/ ,/ C/ (/ s/ )/ 表示/ 包含/ 语句/ s/ 的/ 类/ ,/ w/ (/ ·/ )/ 表示/ 由式/ (/ 2/ )/ 计算/ 得到/ 的/ 类/ 可疑/ 度值/ ,/ M/ (/ s/ )/ 表示/ 由/ 错误/ 定位/ 工具/ ζ/ 计算/ 得到/ 的/ 语句/ s/ 可疑/ 度值/ ./ 我们/ 以图/ 1/ 中/ 的/ Tarantula/ 方法/ 为/ 例来/ 说明/ 类/ 可疑/ 度/ 信息/ 的/ 结合/ 算法/ ./ 由于/ 实例/ 中/ 只有/ 一条/ 失败/ 测试用例/ ,/ 我们/ 把/ 24/ 条/ 可疑/ 语句/ 分成/ 两组/ ,/ 被/ 失败/ 测试用例/ 执行/ 的/ 可疑/ 语句/ 分为/ G1/ 组/ ,/ 其它/ 可疑/ 语句/ 分为/ G0/ 组/ ./ 例如/ 语句/ S8/ 被/ 失败/ 测试用例/ t5/ 执行/ ,/ 被/ 分到/ G1/ 组/ ,/ S8/ 属于/ 类/ Cal/ ,/ 该/ 语句/ 的/ 类/ 可疑/ 度/ 信息/ w/ (/ C/ (/ S8/ )/ )/ 的/ 权重/ 为/ 1/ ,/ 且/ M/ (/ S8/ )/ =/ 0.5/ ,/ w/ (/ C/ (/ S8/ )/ )/ =/ 0.859/ ,/ 基于/ 式/ (/ 3/ )/ ,/ 我们/ 得到/ 语句/ S8/ 结合/ 类/ 可疑/ 度/ 信息/ 的/ 可疑/ 度值/ 为/ susp/ (/ S8/ )/ =/ 1.0/ ×/ 0.859/ // 4/ +/ 3.0/ ×/ 0.5/ // 4/ =/ 0.59/ ./ 我们/ 可以/ 用/ 同样/ 的/ 方法/ 计算/ 实例/ 程序/ 中/ 余下/ 语句/ 结合/ 类/ 可疑/ 度/ 信息/ 的/ 可疑/ 度值/ ./ 6/ 实验/ 为了/ 评估/ 上述/ 方法/ 的/ 有效性/ ,/ 本文/ 选取/ 3/ 个/ Java/ 开源/ 软件/ 作为/ 实验/ 对象/ ,/ 对/ 其/ 效果/ 进行/ 验证/ ./ 6.1/ 实验设计/ 我们/ 使用/ BCEL/ ①/ 字节/ 码/ 插装/ 工具/ 插装/ Java/ 程序/ 字节/ 码/ 获得/ 函数/ 执行/ 轨迹/ ,/ 使用/ CodeCover/ ②/ 工具/ 获得/ 语句/ 覆盖/ 信息/ ./ 3/ 个/ 实验/ 对象/ 的/ 信息/ 如表/ 3/ 所示/ ./ 实验/ 对象/ 名称/ 实验/ 对象/ 描述/ 类/ 的/ NanoXMLv1XML/ 解析器/ 1643345214NanoXMLv2NanoXMLv3NanoXMLv5JTopasv1/ 文本/ 数据/ 1933414126JTopasv2/ 解析器/ 2141726145JTopasv3JAlignerv1/ 序列/ 对比/ 软件/ 1831981140/ ①/ ②/ Page6NanoXML/ 和/ JTopas/ 各个/ 错误/ 版本/ 及/ 相应/ 的/ 测试/ 套件/ 可以/ 从/ http/ :/ // // sir/ ./ unl/ ./ edu/ 下载/ 得到/ ,/ JAligner/ 是/ 基于/ Smith/ -/ Waterman/ 算法/ 的/ 序列/ 比/ 对/ 软件/ ,/ 包括/ 140/ 个/ 测试用例/ ,/ 这些/ 测试用例/ 是/ 由/ 开发者/ 生成/ 的/ ./ 3/ 个/ 实验/ 对象/ 里/ 的/ 错误/ 都/ 是/ 植入/ 的/ 错误/ ,/ NanoXML/ 和/ JAligner/ 都/ 是/ 植入/ 的/ 单错/ ,/ JTopas/ 既/ 植入/ 了/ 单错/ 也/ 植入/ 了/ 多/ 错/ ,/ 我们/ 选取/ 单/ 错误/ 版本/ 作为/ 实验/ 对象/ ./ 根据/ SIR/ 的/ 文档/ [/ 22/ ]/ 以及/ 研究者/ 以前/ 研究/ 工作/ 的/ 实验/ [/ 4/ ,/ 17/ -/ 18/ ]/ ,/ 我们/ 排除/ 不/ 产生/ 失败/ 测试用例/ 的/ 错误/ 版本/ ,/ 总共/ 有/ 44/ 个单/ 错误/ 版本/ 作为/ 实验/ 对象/ ./ 我们/ 选取/ 两种/ 具有/ 代表性/ 的/ 基于/ 频谱/ 的/ 错误/ 定位/ 方法/ Tarantula/ 和/ Wong3/ ,/ 并/ 把/ 本文/ 提出/ 的/ 结合/ 类/ 可疑/ 度/ 信息/ 的/ 算法/ 分别/ 运用/ 于/ 这/ 两种/ 算法/ ,/ 为了/ 便于/ 描述/ ,/ 我们/ 把/ 结合/ 类/ 可疑/ 度/ 信息/ 的/ Tarantula/ 和/ Wong3/ 算法/ 分别/ 记为/ WithCI/ -/ Tarantula/ 和/ WithCI/ -/ Wong3/ ./ 通过/ 分别/ 比较/ Tarantula/ 和/ WithCI/ -/ Tarantula/ 以及/ Wong3/ 和/ WithCI/ -/ Wong3/ 在/ 上述/ 3/ 个/ 实验/ 对象/ 上/ 的/ 错误/ 定位/ 效果/ ,/ 来/ 验证/ 本文/ 算法/ 的/ 有效性/ ./ 在/ 实验/ 中/ ,/ 只/ 考虑/ 可/ 执行/ 语句/ ,/ 排除/ 空白行/ 、/ 注释/ 以及/ 不可/ 执行/ 语句/ ./ 对/ 每个/ 错误/ 版本/ ,/ 我们/ 运行/ 相应/ 的/ 测试/ 套件/ 对/ 其/ 进行/ 错误/ 定位/ ,/ 得到/ 可疑/ 语句/ 排列/ ,/ 基于/ 可疑/ 语句/ 排列/ 来/ 查找/ 错误/ 语句/ ,/ 把/ 不/ 需要/ 检查/ 可疑/ 语句/ 的/ 百分比/ 作为/ 评估/ 错误/ 定位/ 算法/ 有效性/ 的/ 标准/ [/ 23/ ]/ ./ 6.2/ 实验/ 结果/ 6.2/ ./ 1/ 总体/ 效果/ 及/ 分析/ 我们/ 用图/ 2/ 和/ 图/ 3/ 分别/ 比较/ Tarantula/ 和/ WithCI/ -/ Tarantula/ 以及/ Wong3/ 和/ WithCI/ -/ Wong3/ 在/ 44/ 个单/ 错误/ 版本/ 上/ 错误/ 定位/ 的/ 总体/ 效果/ ./ x/ 轴/ 表示/ 定位/ 到/ 错误/ 不/ 需要/ 检查/ 代码/ 的/ 百分比/ ,/ y/ 轴/ 表示/ 定位/ 到/ 错误/ 的/ 百分比/ ./ 根据/ 图/ 2/ 和/ 图/ 3/ 所示/ 的/ 结果/ ,/ 我们/ 观察/ 得出/ 结合/ 类/ 可疑/ 度/ 信息/ 的/ 错误/ 定位/ 算法/ 的/ 图/ 2WithCI/ -/ Tarantula/ 和/ Tarantula/ 错误/ 定位/ 效果/ 曲线/ 总是/ 在/ 原/ 算法/ 的/ 上方/ ,/ 表明/ 结合/ 类/ 可疑/ 度/ 信息/ 的/ 错误/ 定位/ 算法/ 的/ 错误/ 定位/ 效率/ 总是/ 提高/ 的/ ./ 图/ 3WithCI/ -/ Wong3/ 和/ Wong3/ 错误/ 定位/ 效果/ 表/ 4/ 详细/ 表示/ 了/ 图/ 2/ 和/ 图/ 3/ 的/ 结果/ ./ 表中/ 第/ 1/ 列/ 表示/ 检查/ 代码/ 的/ 百分比/ ,/ 第/ 2/ 列到/ 第/ 4/ 列/ 分别/ 表示/ 原/ 错误/ 定位/ 算法/ 和/ 相应/ 结合/ 类/ 可疑/ 度/ 信息/ 的/ 错误/ 定位/ 算法/ 在/ 检查/ 一定/ 代码/ 百分比/ 下/ 能够/ 定位/ 出/ 版本/ 错误/ 的/ 百分比/ ./ 根据/ 表/ 4/ ,/ 检查/ 1/ %/ 的/ 代码/ ,/ WithCI/ -/ Tarantula/ 和/ Tarantula/ 分别/ 能/ 检查/ 出/ 45/ %/ 和/ 23/ %/ 的/ 版本/ 错误/ ,/ WithCI/ -/ Wong3/ 和/ Wong3/ 分别/ 能/ 检查/ 出/ 48/ %/ 和/ 30/ %/ 的/ 版本/ 错误/ ;/ 要/ 检查/ 出/ 所有/ 的/ 版本/ 错误/ ,/ WithCI/ -/ Tarantula/ 和/ Tarantula/ 需要/ 分别/ 检查/ 30/ %/ 和/ 45/ %/ 的/ 代码/ ,/ WithCI/ -/ Wong3/ 和/ Wong3/ 需要/ 分别/ 检查/ 35/ %/ 和/ 60/ %/ 的/ 代码/ ./ 检查/ 代码/ 百分比/ 145.4522/ ./ 7347.7329/ ./ 55565.9054/ ./ 5570.4563/ ./ 641081.8268/ ./ 1886.3665/ ./ 911586.3681/ ./ 8190.9177/ ./ 272097.7386/ ./ 3695.4579/ ./ 552597.7388/ ./ 6495.4581/ ./ 8230100.0095/ ./ 4597.7386/ ./ 3635100.0095/ ./ 45100.0090/ ./ 9140100.0095/ ./ 45100.0093/ ./ 1845100.00100/ ./ 00100.0093/ ./ 1850100.00100/ ./ 00100.0095/ ./ 4555100.00100/ ./ 00100.0097/ ./ 7360100.00100/ ./ 00100.00100/ ./ 0065100.00100/ ./ 00100.00100/ ./ 0070100.00100/ ./ 00100.00100/ ./ 0075100.00100/ ./ 00100.00100/ ./ 0080100.00100/ ./ 00100.00100/ ./ 0085100.00100/ ./ 00100.00100/ ./ 0090100.00100/ ./ 00100.00100/ ./ 0095100.00100/ ./ 00100.00100/ ./ 00100100.00100/ ./ 00100.00100/ ./ 00/ 图/ 4/ 和/ 图/ 5/ 显示/ 了/ Tarantula/ 和/ WithCI/ -/ Tarantula/ 以及/ Wong3/ 和/ WithCI/ -/ Wong3/ 错误/ 定位/ 效果/ 的/ 总体/ 分散/ 情况/ ./ 每个/ 箱形/ 图上/ 端的/ 横线/ 和/ 底/ 端的/ 横线/ 分别/ 表示/ 不/ 需要/ 检查/ 代码/ 百分比/ 的/ 最大值/ 和/ 最小/ Page7/ 值/ ,/ 箱子/ 的/ 顶部/ 和/ 底部/ 分别/ 表示/ 上/ 4/ 分/ 位数/ 和/ 下/ 4/ 分/ 位数/ ,/ 箱子/ 内/ 的/ 横线/ 表示/ 中位数/ ./ 我们/ 可以/ 从图/ 中/ 观察/ 得到/ ,/ 结合/ 类/ 可疑/ 度/ 信息/ 的/ 错误/ 定位/ 算法/ 总是/ 比/ 相应/ 的/ 原/ 错误/ 定位/ 算法/ 效果/ 更好/ ./ 图/ 4WithCI/ -/ Tarantula/ 和/ Tarantula/ 箱/ 线图/ 图/ 6WithCI/ -/ Tarantula/ 和/ Tarantula/ 在/ 各个/ 版本/ 的/ 错误/ 定位/ 效果图/ 7WithCI/ -/ Wong3/ 和/ Wong3/ 在/ 各个/ 版本/ 的/ 错误/ 定位/ 效果/ 从图/ 6/ 可以/ 得出/ ,/ 75/ %/ (/ 33/ // 44/ )/ 的/ 错误/ 版本/ 的/ 错误/ 定位/ 效果/ 有所提高/ ,/ 5/ 个/ 错误/ 版本/ 的/ 效果/ 略微/ 下降/ ,/ 其它/ 的/ 错误/ 版本/ 效果/ 未/ 变/ ;/ WithCI/ -/ Tarantula/ 和/ Tarantula/ 各个/ 错误/ 版本/ 定位/ 错误/ 不/ 需要/ 检查/ 代码/ 量/ 百分比/ 的/ 平均值/ 分别/ 是/ 95.06/ %/ 和/ 91.02/ %/ ./ 为了/ 6.2/ ./ 2/ 个体/ 效果/ 及/ 分析/ 图/ 6/ 和/ 图/ 7/ 用/ 柱状图/ 分别/ 表示/ 了/ Tarantula/ 和/ WithCI/ -/ Tarantula/ 以及/ Wong3/ 和/ WithCI/ -/ Wong3/ 在/ 各个/ 错误/ 版本/ 上/ 的/ 错误/ 定位/ 效果/ ./ 检测/ 两组/ 百分比/ 之间/ 是否/ 存在/ 统计/ 上/ 的/ 显著/ 差异/ ,/ 我们/ 使用/ 了/ Wilcoxon/ 秩/ 和/ 检验/ ,/ 计算/ 得到/ p/ 值/ 是/ 5.56/ e/ -/ 06/ ,/ p/ 值/ 小于/ 0.05/ ,/ 表明/ Tarantula/ 结合/ 类/ 可疑/ 度/ 信息/ 后/ ,/ 错误/ 定位/ 不/ 需要/ 检查/ 代码/ 百分比/ 的/ 增加/ 具有/ 显著性/ ./ Page8/ 根据/ 图/ 7/ 所示/ 的/ 结果/ ,/ 75/ %/ (/ 33/ // 44/ )/ 的/ 错误/ 版本/ 的/ 错误/ 定位/ 效果/ 是/ 增加/ 的/ ,/ 有/ 3/ 个/ 错误/ 版本/ 的/ 效果/ 略微/ 下降/ ,/ 其它/ 版本/ 效果/ 没有/ 变化/ ;/ WithCI/ -/ Wong3/ 和/ Wong3/ 不/ 需要/ 检查/ 代码/ 百分比/ 的/ 平均值/ 分别/ 是/ 95.55/ %/ 和/ 89.36/ %/ ./ 同样/ ,/ 我们/ 对/ 这/ 两组/ 百分比/ 运用/ Wilcoxon/ 秩/ 和/ 检验/ ,/ 计算/ 得到/ p/ 值为/ 8.428/ e/ -/ 06/ ,/ p/ 值/ 小于/ 0.05/ ,/ 表明/ 结合/ 类/ 可疑/ 度/ 信息/ 的/ Wong3/ 算法/ 错误/ 定位/ 不/ 需要/ 检查/ 代码/ 百分比/ 的/ 具有/ 显著性/ 增加/ ./ 6.3/ 实验/ 讨论/ 本文/ 算法/ 是/ 通过/ 结合/ 类/ 的/ 可疑/ 度/ 信息/ 来/ 提高/ 基于/ 频谱/ 的/ 面向对象/ 错误/ 定位/ 方法/ 的/ 效率/ ,/ 类/ 的/ 可疑/ 度/ 信息/ 对/ 错误/ 定位/ 效率/ 的/ 提高/ 起着/ 关键作用/ ./ 实验/ 结果表明/ ,/ 本文/ 提出/ 的/ 获取/ 类/ 可疑/ 度/ 信息/ 的/ 算法/ 是/ 有效/ 的/ ./ 通过/ 上述/ 实验/ ,/ 我们/ 得到/ 查找/ 错误/ 类/ 平均/ 需要/ 检查/ 类/ 的/ 数量/ 是/ 2.32/ ,/ 利用/ Dallmeier/ 提出/ 的/ 基于/ 一条/ 失败/ 测试用例/ 执行/ 信息/ 的/ Ample/ 算法/ 得到/ 查找/ 错误/ 类/ 平均/ 需要/ 检查/ 类/ 的/ 数量/ 是/ 2.42/ ,/ 实验/ 表明/ 本文/ 提出/ 的/ 提取/ 类/ 可疑/ 度/ 信息/ 的/ 方法/ 更/ 有效/ ;/ 利用/ Tarantula/ 和/ Wong3/ 算法/ 计算/ 得到/ 排/ 在/ 错误/ 语句/ 前/ 的/ 可疑/ 语句/ 平均/ 分布/ 在/ 4.52/ 个类/ 中/ ./ 在/ 获取/ 类/ 的/ 可疑/ 度/ 信息/ 时/ ,/ 如果/ 失败/ 测试用例/ 的/ 数量/ 太/ 少/ 或者/ 只有/ 一条/ ,/ 会/ 在/ 一定/ 程度/ 上/ 影响/ 类/ 可疑/ 度/ 信息/ 的/ 提取/ ./ 在/ 上述/ 实验/ 结果/ 中/ ,/ 总共/ 有/ 8/ 个/ 错误/ 版本/ 的/ 效果/ 略微/ 下降/ ,/ 平均/ 下降/ 了/ 1.26/ %/ ./ 其中/ ,/ 有/ 5/ 个/ 错误/ 版本/ 只有/ 一条/ 失败/ 测试用例/ ,/ 提取/ 的/ 类/ 的/ 可疑/ 度/ 信息/ 不够/ 有效/ 而/ 导致/ 的/ 效果/ 略微/ 下降/ ;/ 剩下/ 3/ 个/ 错误/ 版本/ 的/ Tarantula/ 和/ Wong3/ 算法/ 的/ 错误/ 定位/ 效果/ 非常/ 好/ ,/ 平均/ 检查/ 可疑/ 度/ 语句/ 百分比/ 是/ 1.46/ ,/ 平均/ 分布/ 在/ 2.12/ 个类/ 中/ ,/ 而/ 相应/ 的/ 类/ 可疑/ 度/ 信息/ 还/ 不够/ 有效/ ,/ 平均/ 检查/ 类/ 的/ 个数/ 是/ 3.75/ ,/ 从而/ 导致/ 这/ 3/ 个/ 版本/ 的/ 效果/ 略微/ 下降/ ./ 在/ 以上/ 实验/ 中/ ,/ 未/ 结合/ 类/ 可疑/ 度/ 信息/ 的/ Tarantula/ 和/ Wong3/ 算法/ 在/ 许多/ 错误/ 版本/ 中/ 定位/ 效果/ 不够/ 好/ ,/ 通过/ 结合/ 类/ 可疑/ 度/ 信息/ 后/ ,/ 其/ 定位/ 效率/ 得到/ 了/ 很大/ 提升/ ;/ 对于/ Tarantula/ 和/ Wong3/ 错误/ 定位/ 效果/ 好/ 的/ 版本/ 中/ ,/ 在/ 绝大部分/ 情况/ 下/ ,/ 结合/ 类/ 可疑/ 度/ 信息/ 后/ ,/ 其/ 定位/ 效率/ 依然/ 能够/ 得到/ 提升/ ./ 实验/ 结果表明/ ,/ 结合/ 类/ 可疑/ 度/ 信息/ 对/ 基于/ 频谱/ 的/ 面向对象/ 错误/ 定位/ 是/ 十分/ 有效/ 的/ ./ 7/ 结论/ 本文/ 对/ 基于/ 频谱/ 的/ 面向对象/ 程序/ 错误/ 定位/ 进行/ 了/ 研究/ ,/ 分析/ 讨论/ 了/ 类/ 的/ 特性/ 对/ 基于/ 频谱/ 错误/ 定位/ 方法/ 的/ 影响/ ,/ 提出/ 了/ 结合/ 类/ 可疑/ 度/ 信息/ 的/ 错误/ 定位/ 方法/ ,/ 选取/ 了/ 3/ 个/ Java/ 开源/ 软件/ 作为/ 实验/ 对象/ ,/ 并/ 分别/ 比较/ 了/ Tarantula/ 和/ 结合/ 类/ 可疑/ 度/ 信息/ 的/ Tarantula/ 算法/ ,/ 以及/ Wong3/ 和/ 结合/ 类/ 可疑/ 度/ 信息/ 的/ Wong3/ 算法/ 的/ 错误/ 定位/ 效果/ ./ 实验/ 结果表明/ ,/ 本文/ 方法/ 能够/ 有效/ 提高/ 基于/ 频谱/ 的/ 面向对象/ 程序/ 错误/ 定位/ 效率/ ./ 在/ 未来/ 的/ 工作/ 中/ ,/ 我们/ 将/ 致力于/ 以下/ 两个/ 方面/ :/ (/ 1/ )/ 把/ 本文/ 提出/ 的/ 算法/ 应用/ 到/ 基于/ 分支/ 覆盖/ 或者/ 基于/ 定义/ -/ 引用/ 覆盖/ 的/ 面向对象/ 错误/ 定位/ 方法/ 中/ ,/ 并/ 通过/ 实验/ 评估/ 其/ 有效性/ ./ (/ 2/ )/ 我们/ 希望/ 能够/ 结合/ 基于/ 频谱/ 的/ 错误/ 定位/ 方法/ 提取/ 函数调用/ 的/ 上下文/ 信息/ ,/ 力求/ 在/ 查错/ 过程/ 中/ 给出/ 搜索/ 错误/ 语句/ 的/ 相关/ 路径/ 信息/ ,/ 有助于/ 在/ 搜索/ 错误/ 语句/ 过程/ 中/ 理解/ 错误/ ,/ 更快/ 地/ 找到/ 错误/ ./ 

