Page1/ 异构计算/ 系统/ 中/ 弹性/ 节能/ 调度/ 策略/ 研究/ 朱晓敏/ 贺川王/ 建江江/ 建清/ (/ 国防科学技术大学/ 信息系统/ 工程/ 重点/ 实验室/ 长沙/ 410073/ )/ 摘要/ 目前/ ,/ 节能/ 已/ 成为/ 异构计算/ 系统/ 中/ 减少/ 电量/ 开销/ 、/ 提高/ 系统可靠性/ 和/ 保护环境/ 的/ 重要/ 研究/ 内容/ ./ 传统/ 的/ 节能/ 调度/ 策略/ 侧重于/ 研究/ 如何/ 节能/ 而/ 忽略/ 了/ 用户/ 对/ 任务/ 完成/ 时间/ 的/ 期望/ ,/ 使得/ 任务/ 执行/ 效果/ 受到/ 较大/ 影响/ ./ 特别/ 是/ 当/ 系统/ 负载/ 较/ 重时/ ,/ 由于/ 电压/ 调节/ 缺乏/ 自适应性/ ,/ 导致/ 在/ 某些/ 情况/ 下/ (/ 如/ 应急/ 服务/ )/ 的/ 任务/ 执行/ 效果/ 不可/ 容忍/ ./ 文中/ 提出/ 一种/ 弹性/ 节能/ 调度/ 策略/ (/ ElasticEnergy/ -/ AwareScheduling/ ,/ EEAS/ )/ ,/ 用于/ 动态/ 调度/ 异构计算/ 系统/ 中非/ 周期/ 、/ 独立/ 任务/ ./ EEAS/ 策略/ 根据/ 系统/ 负载/ 情况/ 在/ 系统/ 节能/ 与/ 用户/ 期望/ 之间/ 进行/ 权衡/ ,/ 即当/ 系统/ 负载/ 较/ 重时/ ,/ EEAS/ 优先/ 考虑/ 用户/ 期望/ ,/ 通过/ 动态/ 调整/ 计算/ 节点/ 局部/ 队列/ 中/ 等待/ 任务/ 的/ 执行/ 电压/ 提高/ 任务/ 完成率/ ;/ 当/ 系统/ 负载/ 较轻时/ ,/ EEAS/ 在/ 尽量/ 满足用户/ 期望/ 的/ 基础/ 上/ 最大/ 限度/ 地/ 降低/ 任务/ 执行/ 电压/ 以/ 实现/ 节能/ ./ 文中/ 通过/ 大量/ 的/ 模拟实验/ 比较/ 了/ EEAS/ 、/ GEA/ 、/ HVEA/ 和/ LVEA/ 的/ 性能/ ./ 实验/ 结果表明/ ,/ EEAS/ 的/ 调度/ 质量/ 优于/ 其他/ 策略/ ,/ 可/ 有效/ 提高/ 系统/ 弹性/ ./ 关键词/ 异构计算/ 系统/ ;/ 调度/ ;/ 节能/ ;/ 弹性/ ;/ 动态/ 电压/ 调整/ 1/ 引言/ 随着/ 计算机硬件/ 设备/ 的/ 快速/ 发展/ ,/ 大规模/ 计算/ 系统/ 在/ 成本/ 和/ 体积/ 迅速/ 下降/ 的/ 同时/ 计算能力/ 大幅/ 提升/ ,/ 目前/ 已/ 被/ 广泛/ 用于/ 计算/ 密集型/ 和/ 数据/ 密集型/ 应用/ [/ 1/ -/ 2/ ]/ ,/ 尤其/ 是/ 由/ 不同/ 计算能力/ 的/ 节点/ 组成/ 的/ 异构计算/ 系统/ 在/ 实际/ 工作/ 中/ 得到/ 了/ 广泛应用/ ./ 这/ 是因为/ 一方面/ 同一/ 系统/ 中/ 的/ 计算/ 节点/ 可能/ 在/ 不同/ 时期/ 获得/ ,/ 在/ 计算能力/ 上/ 有所/ 差异/ ,/ 同时/ 出于/ 经济效益/ 考虑/ ,/ 那些/ 仍然/ 具有/ 一定/ 计算能力/ 的/ 节点/ 会/ 和/ 新/ 购买/ 的/ 计算/ 节点/ 放在/ 一起/ ;/ 另一方面/ ,/ 系统/ 中/ 通信/ 链路/ 的/ 传输/ 能力/ 可能/ 有所不同/ ,/ 从而/ 构成/ 了/ 一个/ 异构计算/ 系统/ [/ 3/ ]/ ./ 值得注意/ 的/ 是/ ,/ 大规模/ 异构计算/ 系统/ 消耗/ 的/ 能量/ 巨大/ ./ 据统计/ ,/ 目前/ 计算中心/ 服务器/ 消耗/ 的/ 能量/ 大约/ 占/ 全球/ 电力/ 总/ 消耗/ 的/ 0.5/ %/ ,/ 如果/ 照/ 此/ 速度/ 继续/ 发展/ ,/ 预计/ 到/ 2020/ 年/ ,/ 其/ 能量消耗/ 将/ 翻番/ [/ 4/ ]/ ./ 此外/ ,/ 系统/ 运行/ 过程/ 中/ 产生/ 的/ 热量/ 需要/ 制冷/ 设备/ (/ 如/ 空调/ )/ 进行/ 降温/ 调节/ 以/ 维持/ 系统/ 的/ 正常/ 运行/ 环境/ ,/ 保证系统/ 的/ 可靠性/ ,/ 而/ 制冷/ 设备/ 的/ 投入/ 又/ 导致/ 更/ 多/ 的/ 能量消耗/ ./ 目前/ ,/ 在/ 全球/ 70/ %/ 的/ 计算中心/ 中/ ,/ 能耗/ 开销/ 已/ 成为/ 第二/ 大/ 运营/ 开销/ [/ 5/ ]/ ;/ 高性能/ 计算/ 系统/ 生命周期/ 内/ 维持/ 正常/ 运行/ 所/ 需/ 的/ 电力/ 成本/ 已经/ 超出/ 了/ 系统/ 的/ 硬件/ 成本/ [/ 6/ ]/ ./ 与此同时/ ,/ 通过/ 燃料/ 发电/ 产生/ 的/ 大量/ CO2/ 、/ SO2/ 和/ 粉尘/ ,/ 对/ 环境/ 带来/ 极大/ 污染/ [/ 7/ ]/ ./ 因此/ ,/ 研究/ 异构计算/ 系统/ 中/ 的/ 节能/ 调度/ 问题/ ,/ 减少/ 系统/ 能量消耗/ 已/ 成为/ 当前/ 极具/ 发展前景/ 的/ 研究/ 方向/ ./ 现如今/ ,/ 许多/ 处理器/ 都/ 可/ 在/ 不同/ 的/ 电压/ 下/ 运行/ (/ 如/ TransmetaTM5400/ 和/ AMDAthlon64/ )/ ./ 不同/ 电压/ 支持/ 不同/ 的/ 处理/ 频率/ 和/ 不同/ 的/ 执行/ 速度/ ,/ 即/ 动态/ 电压/ 调整/ (/ DynamicVoltagesScaling/ ,/ DVS/ )/ 技术/ ./ 由于/ 一个/ 处理器/ 的/ 能量消耗/ 与其/ 执行/ 速度/ 满足/ 严格/ 的/ 递增/ 凸函数/ 关系/ ,/ 因此/ 可以/ 通过/ 降低/ CPU/ 电压/ 使/ 其/ 运行/ 在/ 一个/ 较/ 低/ 的/ 速度/ ,/ 从而/ 降低/ 系统/ 的/ 能量消耗/ ./ 与此同时/ ,/ 系统/ 的/ 快速/ 响应/ 能力/ 尤为/ 必要/ ,/ 有时/ 甚至/ 是/ 强制/ 的/ [/ 8/ -/ 9/ ]/ ./ 例如/ ,/ 对/ 地/ 观测/ 卫星/ 获取/ 的/ 图像/ 数据/ 在/ 传到/ 地面/ 处理/ 中心/ 后/ ,/ 需要/ 低/ 延迟/ 处理/ ,/ 特别/ 是/ 在/ 应对/ 地震/ 、/ 海啸/ 等/ 紧急情况/ 下/ ,/ 系统/ 的/ 快速/ 响应/ 比/ 节能/ 更为重要/ [/ 10/ ]/ ./ 相反/ ,/ 如果/ 任务/ 不是/ 很/ 紧急/ ,/ 系统/ 应/ 在/ 满足用户/ 需求/ 的/ 基础/ 上/ 尽量减少/ 系统/ 能量消耗/ ./ 因此/ ,/ 仅/ 考虑/ 能量/ 节约/ 或/ 系统/ 的/ 快速/ 响应/ 能力/ 是/ 不够/ 的/ ,/ 必须/ 在/ 异构/ 系统/ 的/ 开发/ 过程/ 中/ 研究/ 弹性/ 节能/ 问题/ 以/ 提高/ 系统/ 的/ 自适应性/ 和/ 灵活性/ ./ 另一方面/ ,/ 在/ 实际/ 应用/ 中/ 很多/ 用户/ 对/ 任务/ 完成/ 时间/ 没有/ 特别/ 严格/ 的/ 限制/ ,/ 允许/ 任务/ 的/ 完成/ 时间/ 与/ 预期/ 完成/ 时间/ 存在/ 一定/ 误差/ ./ 例如/ ,/ 一颗/ 卫星/ 获取/ 的/ 数据/ 首先/ 传到/ 地面/ 数据处理/ 中心/ 进行/ 处理/ ,/ 分析/ 结果/ 用来/ 引导/ 下/ 一次/ 观测/ ./ 由于/ 数据/ 执行/ 时间/ 的/ 不确定性/ 导致/ 任务/ 完成/ 时间/ 不/ 固定/ ,/ 可能/ 超出/ 用户/ 预期/ 完成/ 时间/ ,/ 但是/ 数据处理/ 结果/ 对下/ 一颗/ 卫星/ 仍然/ 有用/ [/ 11/ ]/ ./ 而/ 在/ 传统/ 的/ 实时/ 系统/ 中/ ,/ 如果/ 一个/ 任务/ 不能/ 在/ 截止/ 期内/ 完成/ ,/ 则/ 该/ 任务/ 将/ 被/ 拒绝执行/ ./ 对于/ 非/ 实时/ 系统/ 而言/ ,/ 通常/ 忽略/ 每个/ 用户/ 的/ 期望/ 完成/ 时间/ ,/ 仅/ 关注/ 任务/ 的/ 整体/ 完成/ 时间/ 或/ 系统/ 吞吐/ 率/ ./ 因此/ ,/ 为/ 提高/ 系统对/ 用户/ 的/ 服务质量/ ,/ 应/ 充分考虑/ 任务/ 的/ 期望/ 完成/ 时间/ ./ 众所周知/ ,/ 调度/ 是/ 提高/ 系统/ 性能/ 的/ 有效/ 手段/ ./ 但是/ ,/ 目前/ 大多数/ 调度/ 算法/ 没有/ 考虑/ 异构计算/ 系统/ 中/ 的/ 弹性/ 节能/ 问题/ ,/ 因此/ 研究/ 新/ 的/ 节能/ 调度/ 策略/ ,/ 弥补/ 该/ 方面/ 的/ 不足/ 具有/ 重要/ 的/ 理论意义/ 和/ 应用/ 价值/ ./ 本文/ 提出/ 了/ 一种/ 基于/ DVS/ 技术/ 的/ 异构计算/ 系统/ 弹性/ 节能/ 调度/ 策略/ EEAS/ ./ 该/ 策略/ 综合/ 考虑/ 了/ 系统/ 弹性/ 和/ 用户/ 期望/ ./ EEAS/ 首先/ 满足用户/ 期望/ ,/ 并/ 在/ 此基础/ 上/ 尽量减少/ 系统/ 能量消耗/ ./ 充分考虑/ 了/ 系统/ 弹性/ 和/ 用户/ 期望/ ./ 异构计算/ 系统/ 中/ 独立/ 任务调度/ ./ 本文/ 的/ 主要/ 贡献/ 包括/ :/ (/ 1/ )/ 构建/ 了/ 一种/ 新/ 的/ 调度/ 器/ 模型/ ,/ 在/ 该/ 模型/ 中/ (/ 2/ )/ 提出/ 了/ 一种/ 弹性/ 节能/ 调度/ 策略/ EEAS/ ,/ 用于/ (/ 3/ )/ 通过/ 模拟实验/ 评估/ 了/ EEAS/ 策略/ 的/ 性能/ ./ 本文/ 第/ 2/ 节/ 回顾/ 与/ 本文/ 相关/ 的/ 研究/ 工作/ ;/ 第/ 3/ 节/ 建立/ 一种/ 弹性/ 节能/ 调度/ 模型/ ;/ 第/ 4/ 节/ 介绍/ 本文/ 提出/ 的/ EEAS/ 节能/ 调度/ 策略/ ,/ 并/ 对/ 该/ 策略/ 进行/ 分析/ ;/ 第/ 5/ 节/ 通过/ 大量/ 的/ 模拟实验/ 测试/ EEAS/ 策略/ 的/ 性能/ ;/ 第/ 6/ 节/ 总结/ 全文/ 并/ 给出/ 下/ 一步/ 的/ 研究/ 工作/ ./ 2/ 相关/ 工作/ 近/ 几十年/ ,/ 人们/ 对/ 分布式计算/ 系统/ 中/ 的/ 调度/ 问题/ 进行/ 了/ 大量/ 研究/ ./ 实践/ 表明/ ,/ 多机/ 调度/ 在/ 大多数/ 情况/ 下/ 仍/ 属于/ NP/ 完全/ 问题/ [/ 12/ ]/ ,/ 因此/ ,/ 在/ 实际/ 应用/ 中常/ 采用/ 尽可能/ 接近/ 最优/ 的/ 启发式/ 方法/ 来/ 解决/ 此类/ 问题/ [/ 8/ ,/ 13/ ]/ ./ 调度/ 算法/ 通常/ 分为/ 两大类/ ,/ 即/ 静态/ (/ 离线/ )/ 调度/ 和/ 动态/ (/ 在线/ )/ 调度/ ./ 在/ 静态/ 调度/ 中/ ,/ 任务/ 具有/ 周期性/ 特征/ ,/ 且/ 到达/ 时间/ 已知/ [/ 14/ -/ 17/ ]/ ./ 对于/ 非/ 周期/ 到达/ 任务/ ,/ 通常/ 需要/ 采用/ 动态/ 调度/ 算法/ [/ 18/ -/ 23/ ]/ ./ 本文/ 提出/ 的/ 调度/ 策略/ 采用/ 动态/ 调度/ 算法/ ,/ 用于/ 调度/ 非/ 周期/ 、/ 独立/ 任务/ ./ Aydin/ 等/ 人/ [/ 14/ ]/ 提出/ 了/ 一种/ 周期/ 实时/ 任务/ 静态/ 调度/ 方法/ ,/ 可/ 根据/ 系统/ 负载/ 情况/ 计算/ CPU/ 的/ 最优/ 执行/ 速度/ ./ Mishra/ 等/ 人/ [/ 15/ ]/ 提出/ 了/ 一种/ 静态/ 能量/ 管理/ Page3/ 模式/ ,/ 通过/ 利用/ 静态/ 空闲/ 时间槽/ 节约/ 能量/ ./ Yu/ 等/ 人/ [/ 16/ ]/ 研究/ 了/ 一种/ 离线/ 节能/ 任务分配/ 策略/ ,/ 该/ 策略/ 首先/ 被/ 描述/ 为/ 一个/ 扩展/ 的/ 一般/ 分配/ 问题/ ,/ 之后/ 通过/ 线性/ 启发式/ 方法/ 解决/ 异构/ DVS/ 实时/ 系统/ 中/ 独立/ 任务调度/ 问题/ ./ Zhu/ 等/ 人/ [/ 17/ ]/ 引入/ 了/ 多处理器/ 系统/ 中/ 空闲/ 时间/ 共享/ 的/ 概念/ 来/ 减少/ 能量消耗/ ,/ 同时/ 提出/ 了/ 两种/ 基于/ 空闲/ 时间/ 共享/ 的/ 节能/ 调度/ 算法/ ,/ 可/ 分别/ 用于/ 调度/ 多处理器/ 系统/ 中/ 独立/ 任务/ 和/ 有/ 依赖/ 关系/ 的/ 任务/ ./ 尽管/ 这些/ 调度/ 方法/ 可/ 使/ 系统/ 有效/ 节能/ ,/ 但是/ 均/ 属于/ 静态/ 调度/ 算法/ ,/ 不/ 具有/ 处理/ 动态/ 到达/ 任务/ 的/ 能力/ ./ 目前/ ,/ 已有/ 较/ 多/ 关于/ 分布式计算/ 系统/ 中/ 动态/ 节能/ 调度/ 算法/ 的/ 研究/ ./ 例如/ ,/ Ge/ 等/ 人/ [/ 18/ ]/ 研究/ 了/ 一种/ 分布式/ DVS/ 调度/ 策略/ ,/ 该/ 策略/ 在/ 不/ 增加/ 任务/ 执行/ 时间/ 的/ 情况/ 下/ ,/ 通过/ 改变/ 任务/ 粒度/ 减少/ 系统/ 能量消耗/ ./ N/ é/ lis/ 等/ 人/ [/ 24/ ]/ 提出/ 了/ 两种/ 节能/ 调度/ 算法/ ,/ 即/ 离线/ 算法/ EDF/ (/ k/ )/ 和/ 在线/ 算法/ MOTE/ ./ 两种/ 算法/ 均/ 考虑/ 了/ 带有/ 时间/ 期限/ 的/ 实时/ 任务/ ./ Hu/ 等/ 人/ [/ 19/ ]/ 提出/ 了/ 一种/ 通过/ 虚拟机/ 实时/ 迁移/ 减少/ 能量消耗/ 的/ 方法/ ,/ 该/ 方法/ 把/ 负载/ 分发/ 到/ 多个/ 同构/ 节点/ 上以/ 减少/ 能耗/ ./ Laszewski/ 等/ 人/ [/ 25/ ]/ 研究/ 了/ 计算机/ 集群/ 系统/ 中/ 的/ 虚拟机/ 调度/ 问题/ ,/ 通过/ DVS/ 技术/ 减少/ 能量/ 开销/ ./ Liu/ 等/ 人/ [/ 26/ ]/ 开发/ 了/ 一种/ 集群/ 系统/ 中/ 能量/ —/ 性能/ 折衷/ 的/ 任务/ 复制/ 调度/ 算法/ EPBTDCS/ ,/ 该/ 算法/ 可/ 在/ 任务分配/ 到/ 节点/ 过程/ 中/ 减少/ 通信/ 能量消耗/ ./ Zong/ 等/ 人/ [/ 20/ ]/ 提出/ 了/ 两种/ 节能/ 复制/ 调度/ 算法/ ,/ 即/ 节能/ 复制/ 算法/ EAD/ 和/ 性能/ —/ 能量/ 折衷/ 复制/ 算法/ PEBD/ ,/ 用于/ 提高/ 系统/ 性能/ 并/ 进行/ 能量/ 节约/ ./ 值得注意/ 的/ 是/ ,/ 这些/ 算法/ 均/ 用于/ 同构/ 计算环境/ ,/ 不适/ 用于/ 具有/ 不同/ 节点/ 计算能力/ 的/ 异构计算/ 系统/ ./ 而/ 在/ 异构计算/ 系统/ 中/ ,/ 节能/ 问题/ 变得/ 更/ 复杂/ ,/ 因为/ 某些/ 处理器/ 可能/ 以较/ 快/ 的/ 处理速度/ 运行/ 但/ 消耗/ 相对/ 较少/ 的/ 能量/ ./ 也/ 有/ 学者/ 对/ 异构计算/ 系统/ 中/ 的/ 节能/ 调度/ 问题/ 进行/ 了/ 研究/ ./ 例如/ ,/ Hamano/ 等/ 人/ [/ 21/ ]/ 提出/ 了/ 一种/ 调度/ 策略/ ,/ 可/ 通过/ 调整/ 加速/ 参数/ 来/ 改善/ 系统/ 的/ 节能/ 效果/ ./ Zong/ 等/ 人/ [/ 27/ ]/ 研究/ 了/ 一种/ 节能/ 调度/ 方法/ EETDS/ ,/ 该/ 方法/ 可以/ 灵活/ 地/ 减小/ 通信/ 能量/ 开销/ ,/ 从而/ 减少/ 任务分配/ 过程/ 中/ 的/ 总/ 能耗/ ./ Shekar/ 和/ Izadi/ [/ 28/ ]/ 研究/ 了/ 异图/ 1/ 调度/ 器/ 模型/ 构/ 计算环境/ 中/ 的/ 节能/ 调度/ 问题/ ,/ 提出/ 了/ 一种/ 节能/ 调度/ 算法/ EDLS/ ,/ 通过/ 考虑/ 各种/ 开销/ 因素/ ,/ 将/ 任务分配/ 到/ 能量/ 开销/ 较/ 小/ 的/ 节点/ 上/ ./ 但是/ 这些/ 方法/ 均/ 没有/ 考虑/ 任务/ 的/ 完成/ 时间/ 限制/ ./ 与此同时/ ,/ 一些/ 学者/ 研究/ 了/ 异构计算/ 系统/ 中/ 的/ 实时/ 任务/ 节能/ 调度/ 问题/ ./ 例如/ ,/ Zikos/ 和/ Karatza/ [/ 22/ ]/ 研究/ 了/ 3/ 种/ 基于/ 最小/ 排队/ 的/ 异构/ 集群/ 节能/ 调度/ 算法/ ./ Yan/ 等/ 人/ [/ 23/ ]/ 开发/ 了/ 一种/ 基于/ 集成/ DVS/ 和/ 自/ 适应/ 竞争/ 的/ 调度/ 算法/ ABB/ ,/ 该/ 方法/ 可用/ 来/ 优化/ 动态/ 能量消耗/ 和/ 静态/ 能量消耗/ ./ Chen/ 等/ 人/ [/ 29/ ]/ 提出/ 了/ 一种/ 实时/ 任务/ 节能/ 调度/ 策略/ ,/ 该/ 策略/ 可/ 在/ 符合/ 最低/ 满足/ 度/ 的/ 情况/ 下/ 给出/ 近似/ 最优/ 调度/ 方案/ ./ 韩/ 建军/ 等/ 人/ [/ 30/ ]/ 针对/ 多处理器/ 系统/ ,/ 以/ 最/ 短/ 任务/ 优先/ 调度/ 为/ 基础/ ,/ 结合/ 共享/ 时间/ 回收/ 等/ 技术/ ,/ 在/ 满足/ 实时/ 任务/ 截止期/ 的/ 基础/ 上/ 尽量/ 节能/ ./ 但是/ 在/ 这些/ 实时/ 调度/ 算法/ 中/ ,/ 如果/ 一个/ 任务/ 不能/ 在/ 截止/ 期内/ 完成/ ,/ 该/ 任务/ 将/ 被/ 拒绝/ ./ 因此/ ,/ 对于/ 有/ 期望/ 完成/ 时间/ 但/ 不/ 具有/ 明确/ 截止期/ 的/ 任务/ ,/ 这些/ 算法/ 并/ 不/ 适用/ ./ 在/ 前期/ 的/ 研究/ 工作/ 中/ [/ 31/ -/ 33/ ]/ ,/ 我们/ 提出/ 了/ 一些/ 异构/ 多/ 处理/ 系统/ 中/ 的/ 实时/ 任务调度/ 策略/ ,/ 但是/ 这些/ 调度/ 策略/ 都/ 没有/ 考虑/ 任务/ 的/ 节能/ 问题/ ./ 在/ 本文/ 中/ ,/ 我们/ 针对/ 非/ 抢占/ 、/ 非/ 周期/ 、/ 独立/ 任务/ ,/ 提出/ 了/ 一种/ 基于/ DVS/ 技术/ 的/ 异构计算/ 系统/ 弹性/ 节能/ 调度/ 策略/ ./ 该/ 策略/ 采用/ 启发式/ 算法/ ,/ 可/ 根据/ 系统/ 负载/ 情况/ 自/ 适应/ 调整/ CPU/ 电压/ ,/ 从而/ 在/ 最大化/ 用户/ 满意率/ 的/ 基础/ 上/ 减少/ 系统/ 能量消耗/ ./ 3/ 数学模型/ 本/ 节/ 主要/ 介绍/ 相关/ 模型/ 、/ 概念/ 和/ 术语/ ./ 3.1/ 调度/ 器/ 模型/ 本文/ 研究/ 的/ 异构计算/ 系统/ 中/ ,/ 计算/ 节点/ 可/ 通过/ 一个/ 集合/ P/ =/ {/ pj/ ,/ j/ =/ 1/ …/ |/ P/ |/ }/ 表示/ ./ 假设/ 系统/ 中/ 的/ 节点/ 是/ 异构/ 的/ ,/ 即/ 所有/ 节点/ 的/ 处理/ 能力/ 不同/ ./ 同时/ ,/ 通信/ 能力/ 也/ 是/ 异构/ 的/ ,/ 即/ 从/ 调度/ 器到/ 各个/ 处理/ 节点/ 的/ 通信/ 链路/ 具有/ 不同/ 的/ 传输/ 能力/ ./ 图/ 1/ 给出/ 了/ 系统/ 的/ 调度/ 器/ 模型/ ./ Page4/ 在/ 如图/ 1/ 所示/ 的/ 调度/ 器/ 模型/ 中/ ,/ 调度/ 器/ 包括/ 一个/ 用户/ 期望/ 控制器/ 和/ 一个/ 电压/ 选择/ 控制器/ ./ 两个/ 控制器/ 共同/ 工作/ ,/ 首先/ 满足用户/ 的/ 完成/ 时间/ 期望/ ,/ 然后/ 尽量/ 减小/ 系统/ 的/ 能量消耗/ ./ 当/ 调度/ 决策制定/ 后/ ,/ 调度/ 器为/ 任务分配/ 执行/ 电压/ ./ 每个/ 计算/ 节点均/ 有/ 一个/ 局部/ 队列/ ,/ 任务/ 在/ 该/ 队列/ 中/ 排队/ 等待/ 执行/ ./ 当/ 一个/ 新/ 任务/ 到达/ 后/ ,/ 首先/ 由/ 调度/ 器/ 收集/ 系统/ 状态/ 信息/ (/ 例如/ ,/ 节点/ 电压/ 级别/ 、/ 正在/ 执行/ 任务/ 的/ 信息/ 和/ 节点/ 局部/ 队列/ 中/ 等待/ 任务/ 的/ 信息/ 等/ )/ ./ 然后/ ,/ 调度/ 器/ 通过/ 节能/ 调度/ 算法/ 计算/ 新/ 任务/ 是否/ 可以/ 在/ 用户/ 期望/ 时间/ 内/ 完成/ ./ 在/ 调度/ 过程/ 中/ ,/ 尽量/ 将/ 任务调度/ 到/ 具有/ 较/ 低/ 执行/ 电压/ 的/ 节点/ 上/ ./ 系统/ 的/ 弹性/ 主要/ 体现/ 在/ 调度/ 器/ 可以/ 调节/ 新到/ 任务/ 和/ 局部/ 队列/ 中/ 等待/ 任务/ 的/ 执行/ 电压/ ,/ 从而/ 提高/ 调度/ 质量/ ./ 3.2/ 任务模型/ 本文/ 考虑/ 一组/ 非/ 抢占/ 、/ 非/ 周期/ 、/ 独立/ 任务/ 集合/ T/ =/ {/ ti/ ,/ i/ =/ 1/ …/ |/ T/ |/ }/ ,/ 并/ 假设/ 任务/ 之间/ 没有/ 通信/ ./ 每个/ 任务/ 只能/ 在/ 一个/ 节点/ 上/ 执行/ ,/ 一个/ 任务/ 不能/ 被/ 分割/ 和/ 分发/ 到/ 多个/ 节点/ 上/ ./ 任务/ ti/ 用/ 一组/ 参数/ ti/ =/ {/ ai/ ,/ li/ ,/ efti/ }/ 表示/ ,/ 其中/ ,/ ai/ ,/ li/ 和/ efti/ 分别/ 表示/ 任务/ ti/ 的/ 到达/ 时间/ 、/ 任务/ 大小/ 和/ 期望/ 完成/ 时间/ ./ 令/ 犃/ 犜/ =/ (/ atij/ )/ |/ T/ |/ ×/ |/ P/ |/ 为/ 任务/ 的/ 可/ 获得/ 时间/ 矩阵/ ,/ 其中/ 元素/ atij/ 表示/ 任务/ ti/ 在/ 计算/ 节点/ pj/ 上/ 的/ 可/ 获得/ 时间/ ./ 类似/ 地/ ,/ 犛/ 犜/ =/ (/ stij/ )/ |/ T/ |/ ×/ |/ P/ |/ 为/ 开始/ 时间/ 矩阵/ ,/ 其中/ 元素/ stij/ 表示/ 任务/ ti/ 在/ 计算/ 节点/ pj/ 上/ 的/ 开始/ 时间/ ./ 犉/ 犜/ =/ (/ ftij/ )/ |/ T/ |/ ×/ |/ P/ |/ 为/ 完成/ 时间/ 矩阵/ ,/ 其中/ 元素/ ftij/ 表示/ 任务/ ti/ 在/ 计算/ 节点/ pj/ 上/ 的/ 完成/ 时间/ ./ 由于/ 节点/ 和/ 通信/ 链路/ 的/ 异构/ 性/ ,/ 令/ 犈/ 犜/ =/ (/ etij/ )/ |/ T/ |/ ×/ |/ P/ |/ 为/ 执行/ 时间/ 矩阵/ ,/ 其中/ 元素/ etij/ 表示/ 任务/ ti/ 在/ 计算/ 节点/ pj/ 上/ 的/ 执行/ 时间/ ./ 犜/ 犜/ =/ (/ ttij/ )/ |/ T/ |/ ×/ |/ P/ |/ 为/ 传输/ 时间/ 矩阵/ ,/ 其中/ 元素/ ttij/ 为/ 任务/ ti/ 从/ 调度/ 器到/ 计算/ 节点/ pj/ 的/ 传输/ 时间/ ./ 犡/ =/ (/ xij/ )/ |/ T/ |/ ×/ |/ P/ |/ 为/ 任务分配/ 矩阵/ ,/ 若/ 任务/ ti/ 被/ 分配/ 到/ 计算/ 节点/ pj/ 上/ ,/ 则/ xij/ =/ 1/ ;/ 否则/ xij/ =/ 0/ ./ 犗/ =/ (/ oij/ )/ |/ T/ |/ ×/ |/ P/ |/ 为/ 任务/ 执行/ 顺序/ 矩阵/ ,/ 其中/ 元素/ oij/ 表示/ 任务/ ti/ 在/ 计算/ 节点/ pj/ 上/ 的/ 执行/ 顺序/ ./ 犠/ =/ (/ wij/ )/ |/ T/ |/ ×/ |/ P/ |/ 为/ 任务/ 等待/ 矩阵/ ,/ 如果/ 任务/ ti/ 在/ 计算/ 节点/ pj/ 的/ 局部/ 队列/ 中/ 等待/ ,/ 则/ wij/ =/ 1/ ;/ 否则/ wij/ =/ 0.3/ ./ 3/ 能量消耗/ 模型/ 假设/ 系统/ 中/ 的/ 计算/ 节点/ 可/ 进行/ 动态/ 电压/ 调整/ ,/ 即/ 具备/ DVS/ 能力/ ,/ 那么/ 每个/ 计算/ 节点/ 中/ 的/ 处理器/ 可/ 在/ 不同/ 的/ 电压/ 和/ 频率/ 下/ 工作/ ./ 目前/ ,/ 处理器/ 中/ 的/ 数字电路/ 大多/ 采用/ CMOS/ 集成电路/ ,/ CMOS/ 集成电路/ 的/ 能量消耗/ 主要/ 由/ 静态/ (/ 泄露/ )/ 能量消耗/ 和/ 动态/ 能量消耗/ 构成/ [/ 23/ ]/ ./ 尽管/ 泄露/ 能量消耗/ 在/ 微处理器/ 设计/ 中/ 不能/ 忽略/ ,/ 但/ 由于/ 其/ 在/ 总体/ 能量消耗/ 上/ 所/ 占/ 的/ 比例/ 较/ 少/ ,/ 通常/ 将/ 动态/ 能量消耗/ 作为/ 节能/ 研究/ 的/ 主要/ 对象/ [/ 4/ ]/ ./ 因此/ ,/ 本文/ 在/ 构建/ 能量消耗/ 模型/ 时仅/ 考虑/ 动态/ 能量消耗/ ./ 令/ ecij/ 为/ 任务/ ti/ 在/ 计算/ 节点/ pj/ 上/ 的/ 能量消耗/ ,/ 该/ 能量消耗/ 可以/ 表示/ 为/ 其中/ ,/ ecrj/ 为/ 计算/ 节点/ pj/ 上/ 的/ 能量/ 消耗率/ ,/ τ/ i/ 为/ 任务/ ti/ 的/ 执行/ 时间/ ./ 节点/ 的/ 能量/ 消耗率/ ecrj/ 随着/ 执行/ 电压/ 的/ 改变/ 而/ 变化/ ./ 假设/ 计算/ 节点/ pj/ 有/ k/ 个/ 级别/ 的/ 执行/ 电压/ ,/ 用/ Vj/ =/ {/ Vj1/ ,/ Vj2/ ,/ …/ ,/ Vjk/ }/ 表示/ ,/ 并/ 满足/ Vj1/ </ Vj2/ </ …/ </ Vjk/ ./ 任务/ ti/ 在/ 计算/ 节点/ pj/ 上/ 的/ 执行/ 电压/ 用/ vij/ 表示/ ,/ 显然/ 有/ vij/ ∈/ {/ Vj1/ ,/ Vj2/ ,/ …/ ,/ Vjk/ }/ ./ 任务/ ti/ 采用/ 电压/ vij/ 的/ 能量/ 消耗率/ 记为/ ecr/ (/ vij/ )/ ./ 因此/ ,/ 任务/ ti/ 在/ 计算/ 节点/ pj/ 上/ 执行/ 的/ 能量消耗/ 可以/ 计算/ 为/ 给定/ 任务/ 集合/ T/ ,/ 计算/ 节点/ 集合/ P/ ,/ 任务分配/ 矩阵/ 犡/ ,/ 电压/ 集合/ V/ ,/ 任务/ 执行/ 时间/ 矩阵/ 犈/ 犜/ ,/ 所有/ 任务/ 的/ 整体/ 能量消耗/ 为/ ecexec/ (/ T/ ,/ P/ ,/ 犡/ ,/ V/ ,/ 犈/ 犜/ )/ =/ ∑/ P/ 上式/ 中/ ,/ etij/ 可由式/ (/ 4/ )/ 计算/ :/ 其中/ ,/ s/ (/ vij/ )/ 表示/ 计算/ 节点/ pj/ 采用/ 电压/ vij/ 执行/ 任务/ ti/ 的/ 处理速度/ ./ 值得注意/ 的/ 是/ ,/ 在/ 式/ (/ 3/ )/ 中/ ,/ 没有/ 考虑/ 节点/ 处于/ 空闲/ 状态/ 时/ 的/ 能量消耗/ ./ 通常/ 当/ 节点/ 处于/ 空闲/ 状态/ 时/ ,/ 将/ 其/ 电压/ 设定/ 为/ 最低值/ ,/ 即/ 具有/ 最低/ 能量/ 消耗率/ ecr/ (/ Vj1/ )/ ./ 因此/ 节点/ 空闲/ 状态/ 时/ 的/ 能量消耗/ 可/ 表示/ 为/ ecidle/ (/ T/ ,/ P/ ,/ 犡/ ,/ V/ ,/ 犈/ 犜/ )/ =/ ∑/ P/ =/ ∑/ Pj/ =/ 1/ 其中/ ,/ τ/ idle/ 度/ 长度/ 减去/ pj/ 执行/ 任务/ 的/ 时间/ ./ max/ |/ T/ |/ 个/ 在/ 节点/ pj/ 上/ 执行/ 任务/ 的/ 完成/ 时间/ ,/ 即/ 计算/ 节点/ pj/ 的/ 调度/ 长度/ ./ 异构计算/ 系统/ 的/ 节点/ 能量消耗/ 可以/ 通过/ 式/ (/ 3/ )/ Page5/ 和/ 式/ (/ 5/ )/ 得到/ pec/ (/ T/ ,/ P/ ,/ 犡/ ,/ V/ ,/ 犈/ 犜/ )/ =/ =/ ∑/ Pecexec/ (/ T/ ,/ P/ ,/ 犡/ ,/ V/ ,/ 犈/ 犜/ )/ +/ ecidle/ (/ T/ ,/ P/ ,/ 犡/ ,/ V/ ,/ 犈/ 犜/ )/ 在/ 本文/ 中/ ,/ 我们/ 考虑/ 了/ 从/ 调度/ 器到/ 各个/ 计算/ 节点/ 的/ 传输/ 能量/ 开销/ ./ 由于/ 网络/ 的/ 异构/ 性/ ,/ 令/ ecrtran/ 示从/ 调度/ 器到/ 计算/ 节点/ pj/ 的/ 传输/ 能量/ 消耗率/ ./ 因此/ ,/ 任务/ ti/ 从/ 调度/ 器到/ 计算/ 节点/ pj/ 的/ 传输/ 能量/ 开销/ 可/ 计算/ 为/ 给定/ 任务/ 集/ T/ ,/ 计算/ 节点/ 集合/ P/ ,/ 任务分配/ 矩阵/ 犡/ ,/ 电压/ 集合/ V/ ,/ 任务/ 传输/ 时间/ 矩阵/ 犜/ 犜/ ,/ 传输/ 所有/ 任务/ 的/ 能量消耗/ 为/ ectran/ (/ T/ ,/ P/ ,/ 犡/ ,/ 犜/ 犜/ )/ =/ ∑/ P/ 此外/ ,/ 通信/ 链路/ 空闲/ 时/ 的/ 能量消耗/ 可/ 表示/ 为/ 其中/ ,/ trj/ 表示/ 从/ 调度/ 器到/ 计算/ 节点/ pj/ 的/ 通信/ 链路/ 传输率/ ./ eclink/ -/ idle/ (/ T/ ,/ P/ ,/ 犡/ ,/ 犃/ 犜/ ,/ 犜/ 犜/ )/ =/ ∑/ P/ =/ ∑/ P/ 其中/ ,/ ecrlink/ -/ idle/ 在/ 空闲/ 时/ 的/ 能量/ 消耗率/ ,/ τ/ link/ -/ idle/ 点/ pj/ 的/ 通信/ 链路/ 空闲/ 时间/ ./ lec/ (/ T/ ,/ P/ ,/ 犡/ ,/ 犃/ 犜/ ,/ 犜/ 犜/ )/ =/ =/ ∑/ P/ 因此/ ,/ 通信/ 链路/ 的/ 传输/ 能量消耗/ 可/ 表示/ 为/ ectran/ (/ T/ ,/ P/ ,/ 犡/ ,/ 犜/ 犜/ )/ +/ eclink/ -/ idle/ (/ T/ ,/ P/ ,/ 犡/ ,/ 犃/ 犜/ ,/ 犜/ 犜/ )/ 最后/ ,/ 依据/ 式/ (/ 6/ )/ 和/ 式/ (/ 10/ )/ 可/ 得到/ 总体/ 能量消耗/ 为/ tec/ (/ T/ ,/ P/ ,/ 犡/ ,/ V/ ,/ 犈/ 犜/ ,/ 犜/ 犜/ )/ =/ pec/ (/ T/ ,/ P/ ,/ 犡/ ,/ V/ ,/ 犈/ 犜/ )/ +/ lec/ (/ T/ ,/ P/ ,/ 犡/ ,/ 犃/ 犜/ ,/ 犜/ 犜/ )/ (/ 11/ )/ 3.4/ 调度/ 目标/ 给定/ 任务/ 集/ T/ ,/ 调度/ 方案/ 应/ 尽可能/ 使/ 更/ 多/ 的/ 任务/ 在/ 用户/ 期望/ 时间/ 内/ 完成/ ,/ 即/ j/ =/ 1/ 为/ 满足/ 任务/ 执行/ 的/ 用户/ 期望/ ,/ 可能/ 会/ 导致系统/ 能量消耗/ 增加/ ./ 因此/ 在/ 调度/ 过程/ 中/ ,/ 应/ 在/ 满足用户/ 期望/ 的/ 前提/ 下/ ,/ 最大/ 程度/ 地/ 降低/ 系统/ 能量消耗/ ,/ 即/ (/ min/ ∑/ Pj/ =/ 1/ ∑/ T/ ∑/ P/ ∑/ Pj/ =/ 1/ ∑/ T/ ∑/ Pj/ =/ 1/ 值得注意/ 的/ 是/ ,/ 仅/ 追求/ 最低/ 能量消耗/ 可能/ 导致/ 任务/ 的/ 完成/ 时间/ 推迟/ ,/ 使/ 其/ 不能/ 满足用户/ 期望/ ./ 因此/ ,/ 用户/ 期望/ 与/ 系统/ 节能/ 在/ 异构计算/ 系统/ 的/ 调度/ 过程/ 中/ 属于/ 两个/ 冲突/ 目标/ ./ 本文/ 提出/ 一种/ 弹性/ 调度/ 策略/ EEAS/ ,/ 可/ 根据/ 系统/ 负载/ 情况/ 在/ 式/ (/ 12/ )/ 和/ 式/ (/ 13/ )/ 之间/ 进行/ 权衡/ ./ 当/ 系统/ 负载/ 较/ 重时/ ,/ EEAS/ 优先/ 考虑/ 满足用户/ 期望/ ;/ 而/ 当/ 系统/ 负载/ 较轻时/ ,/ EEAS/ 在/ 满足用户/ 期望/ 的/ 前提/ 下/ 尽量/ 降低/ 任务/ 执行/ 电压/ ,/ 以/ 实现/ 系统/ 节能/ ./ 4/ 弹性/ 节能/ 调度/ 策略/ EEAS/ 本节/ 我们/ 给出/ 一种/ 弹性/ 节能/ 调度/ 策略/ EEAS/ ,/ 用于/ 调度/ 异构计算/ 系统/ 中非/ 周期/ 、/ 独立/ 任务/ ./ 此外/ ,/ 任务/ 具有/ 期望/ 完成/ 时间/ ,/ 但/ 不/ 具有/ 明确/ 的/ 截止期/ ./ 下面/ 首先/ 介绍/ EEAS/ 策略/ 的/ 一些/ 性质/ ./ 性质/ 1/ ./ 在/ 调度/ 过程/ 中/ ,/ 正在/ 执行/ 的/ 任务/ 不能/ 被/ 抢占/ ./ / ti/ ,/ tk/ ∈/ T/ ,/ xij/ =/ 1/ ,/ [/ stkj/ ,/ ftkj/ ]/ ∩/ [/ stij/ ,/ ftij/ ]/ ≠/ / :/ xkj/ =/ 0/ 性质/ 2/ ./ 如果/ 一个/ 任务/ 不能/ 在/ 用户/ 期望/ 完成/ 时间/ 内/ 完成/ ,/ 该/ 任务/ 仍/ 将/ 被/ 分配/ ,/ 并/ 选择/ 能量消耗/ 最少/ 的/ 计算/ 节点/ ./ / ti/ ∈/ T/ ,/ pj/ ,/ pk/ ∈/ P/ ,/ ftij/ >/ efti/ :/ xij/ =/ 1/ |/ ecij/ =/ min/ {/ ecik/ }/ 性质/ 3/ ./ 对于/ 一个/ 新/ 任务/ ,/ 首先/ 采用/ 最低/ 电压/ 进行/ 试探/ ,/ 如果/ 最低/ 电压/ 不能/ 满足用户/ 期望/ ,/ 逐步提高/ 电压/ 直到/ 满足用户/ 期望/ 或者/ 电压/ 已经/ 达到/ 最高值/ ./ Page6/ (/ / min/ {/ vij/ }/ :/ ftij/ / efti/ )/ ∨/ (/ vij/ =/ Vjk/ :/ ftij/ >/ efti/ )/ (/ 16/ )/ 性质/ 4/ ./ 调度/ 在/ 一个/ 新/ 任务/ 到达/ 后/ 触发/ ,/ 即/ 采用/ 立即/ 调度/ 模式/ ./ 任务/ ti/ 在/ 计算/ 节点/ pj/ 上/ 的/ 可/ 获得/ 时间/ atij/ 可/ 计算/ 为/ 其中/ ,/ tstij/ 为/ ti/ 从/ 调度/ 器到/ 计算/ 节点/ pj/ 的/ 传输/ 开始/ 时间/ ./ 任务/ ti/ 在/ 计算/ 节点/ pj/ 上/ 执行/ 的/ 开始/ 时间/ stij/ 为/ 烄/ atij/ ,/ atij/ +/ rtj/ ,/ ∑/ Tstij/ =/ 烅/ atij/ +/ rtj/ +/ ∑/ okj/ </ oij/ ,/ wkj/ =/ 1/ 烆/ 其中/ ,/ rj/ =/ 0/ 表示/ 没有/ 任务/ 正在/ 计算/ 节点/ pj/ 上/ 执行/ ./ rtj/ 表示/ 在/ 计算/ 节点/ pj/ 上/ 正在/ 执行/ 任务/ 的/ 剩余/ 执行/ 时间/ ./ ∑/ T/ 等待/ 队列/ 中/ 排队/ ./ 时间/ stij/ 与/ 执行/ 时间/ etij/ 之/ 和/ ,/ 即/ i/ =/ 1/ 任务/ ti/ 在/ 计算/ 节点/ pj/ 上/ 的/ 完成/ 时间/ 等于/ 其/ 开始/ EEAS/ 采用/ 期望/ 完成/ 时间/ 最早/ 最/ 优先/ 策略/ 对/ 新/ 到达/ 任务/ 和/ 局部/ 队列/ 中/ 等待/ 任务/ 进行/ 排队/ ,/ 有/ 如下/ 性质/ ./ 性质/ 5/ ./ 当/ 一个/ 新/ 任务/ 被/ 插入/ 到/ 局部/ 队列/ 时/ ,/ 可/ 缩短/ 局部/ 队列/ 中/ 等待/ 任务/ 的/ 执行/ 时间/ 以/ 满足用户/ 期望/ 完成/ 时间/ ,/ 从而/ 需要/ 重新/ 计算/ 队列/ 中/ 等待/ 任务/ 的/ 开始/ 执行/ 时间/ ./ 那么/ 队列/ 中/ 等待/ 任务/ tk/ 的/ 新/ 开始/ 时间/ stkj/ 可/ 计算/ 为/ stkj/ =/ stkj/ +/ etij/ ,/ 如图/ 2/ 所示/ ./ 假设/ 任务/ ti/ 被/ 插入/ 到/ 计算/ 节点/ pj/ 的/ 局部/ 队列/ 中/ ,/ (/ 1/ )/ 若/ oij/ =/ min/ {/ omj/ |/ wmj/ =/ 1/ }/ ,/ okj/ =/ oij/ +/ 1/ ,/ 则/ (/ 2/ )/ 若/ oij/ =/ min/ {/ omj/ |/ wmj/ =/ 1/ }/ ,/ okj/ >/ oij/ +/ 1/ ,/ 则/ stkj/ =/ stkj/ +/ etij/ -/ ∑/ omj/ </ okj/ ,/ omj/ ≠/ oij/ 所示/ ./ (/ 3/ )/ 若/ okj/ =/ min/ {/ omj/ |/ wmj/ =/ 1/ }/ ,/ 则/ stkj/ =/ stkj/ ,/ 如图/ 4/ 所示/ ./ (/ 4/ )/ 若/ oij/ ≠/ min/ {/ omj/ |/ wmj/ =/ 1/ }/ ,/ okj/ ≠/ min/ {/ omj/ |/ wmj/ =/ 1/ }/ ,/ okj/ </ oij/ ,/ 则/ stkj/ =/ stkj/ -/ ∑/ omj/ </ okj/ 如图/ 5/ 所示/ ./ (/ 5/ )/ 若/ oij/ ≠/ min/ {/ omj/ |/ wmj/ =/ 1/ }/ ,/ okj/ ≠/ min/ {/ omj/ |/ wmj/ =/ 1/ }/ ,/ okj/ >/ oij/ ,/ 则/ stkj/ =/ stkj/ -/ ∑/ omj/ </ okj/ ,/ omj/ ≠/ oijetmj/ )/ +/ etij/ ,/ 如图/ 6/ 所示/ ./ 其中/ ,/ etmj/ 表示/ 任务/ tm/ 在/ 计算/ 节点/ pj/ 上/ 的/ 新/ 执/ 任务/ tk/ 在/ 计算/ 节点/ pj/ 上/ 的/ 新/ 完成/ 时间/ 可以/ 计行/ 时间/ ./ 算为/ EEAS/ 调度/ 策略/ 采用/ 启发式/ 算法/ ,/ 在/ 任务分配/ 过程/ 中/ 尽量/ 满足用户/ 期望/ 时间/ ./ 当/ 一个/ 新/ 任务/ 到达/ 后/ ,/ 首先/ 采用/ 最低/ 电压/ 进行/ 分配/ 试探/ ,/ 然后/ EEAS/ 计算/ 任务/ 在/ 每个/ 计算/ 节点/ 上/ 的/ 开始/ 时间/ 和/ 完成/ 时间/ ,/ 通过/ 提升/ 任务/ 执行/ 电压/ 以/ 满足用户/ 时间/ 期望/ ./ 如果/ 最高/ 电压/ 仍/ 不能/ 满足用户/ 时间/ 期望/ ,/ 则/ 调整/ 局部/ 队列/ 中/ 等待/ 任务/ 的/ 执行/ 电压/ ,/ 直到/ 满足用户/ 期望/ ./ EEAS/ 在/ 执行/ 过程/ 中/ 选择/ 能量消耗/ 和/ 传输/ 能量消耗/ 最少/ 的/ 节点/ 以/ 减少/ 系统/ 的/ 能量消耗/ ./ EEAS/ 调度/ 策略/ 的/ 伪/ 代码/ 如/ 算法/ 1/ 所示/ ./ Page7/ 算法/ 1/ ./ EEAS/ 策略/ 伪/ 代码/ ./ 输入/ :/ 任务/ 及其/ 属性/ 、/ 节点/ 及其/ 属性/ 、/ 链路/ 及其/ 属性/ 、/ 输出/ :/ 调度/ 方案/ 1/ ./ FOREACHnewtasktiDO2/ ./ mSelectedNode/ ←/ NULL/ ;/ nMSelectedNode/ ←/ NULL/ ;/ 3/ ./ FOREACHcomputationalnodepjINaheteroge/ -/ 4/ ./ Calculatethetransmissionenergyconsumption5/ ./ CalculatethestarttimestijusingEq/ ./ (/ 18/ )/ ;/ 6/ ./ vij/ ←/ Vj1/ ;/ 7/ ./ IFstij/ +/ etij/ >/ eftiTHEN8/ ./ adjustPhase1/ (/ )/ ;/ 9/ ./ IFfurtherAdjust/ =/ =/ TRUETHEN10/ ./ adjustPhase2/ (/ )/ ;/ 11/ ./ ENDIF12/ ./ IFmeetExpectation/ =/ =/ FALSETHEN13/ ./ noMeetExpectation/ (/ )/ ;/ 14/ ./ ENDIF15/ ./ ELSE16/ ./ noNeedAdjust/ (/ )/ ;/ 17/ ./ ENDIF18/ ./ ENDFOR19/ ./ IFmSelectedNode/ ≠/ NULLTHEN20/ ./ AllocatetitomSelectedNodeandupdatesched/ -/ 21/ ./ ELSE22/ ./ AllocatetitonMSelectedNodeandupdatesched/ -/ 23/ ./ ENDIF24/ ./ ENDFOREEAS/ 调度/ 策略/ 首先/ 计算/ 传输/ 能量消耗/ 和/ 任务/ 开始/ 执行/ 时间/ (/ 见/ 4/ ~/ 5/ 行/ ,/ 算法/ 1/ )/ ./ 之后/ EEAS/ 试探/ 系统/ 采用/ 最低/ 电压/ 是否/ 可以/ 满足/ 新/ 任务/ 的/ 用户/ 期望/ (/ 见/ 6/ ~/ 7/ 行/ ,/ 算法/ 1/ )/ ,/ 如果/ 试探/ 结果/ 为/ 采用/ 最低/ 电压/ 不能/ 满足/ 新/ 任务/ 用户/ 期望/ ,/ 则/ 调用函数/ adjustPhase1/ (/ )/ ./ 算法/ 2/ ./ adjustPhase1/ (/ )/ 函数/ 伪/ 代码/ ./ 输入/ :/ 任务/ ti/ 在/ 节点/ pj/ 上/ 的/ 当前/ 选择/ 电压/ vij/ 输出/ :/ furtherAdjust/ 、/ meetExpectation/ 和/ mSelected/ -/ 1/ ./ WHILEvij/ / VjkDO2/ ./ Increaseonesupplyvoltagelevelvij/ ←/ vij/ ++/ ;/ 3/ ./ IFstij/ +/ etij/ </ eftiTHEN4/ ./ furtherAdjust/ ←/ FALSE/ ;/ 5/ ./ meetExpectation/ ←/ TRUE/ ;/ 6/ ./ Calculatethenodeenergyconsumptionecnode7/ ./ IFectran8/ ./ energyCons/ ←/ ectran9/ ./ mSelectedNode/ ←/ j/ ;/ 10/ ./ BREAK/ ;/ 11/ ./ ENDIF12/ ./ ENDIF13/ ./ ENDWHILE/ 在/ 函数/ adjustPhase1/ (/ )/ 中/ ,/ EEAS/ 逐渐/ 提高/ 新/ 任务/ 的/ 执行/ 电压/ 直到/ 满足/ 其/ 用户/ 期望/ (/ 见/ 2/ ~/ 5/ 行/ ,/ 算法/ 2/ )/ ./ 之后/ ,/ EEAS/ 选择/ 能量消耗/ 最少/ 的/ 节点/ (/ 见/ 6/ ~/ 11/ 行/ ,/ 算法/ 2/ )/ ,/ WHILE/ 循环/ 之后/ ,/ 如果/ 变量/ fur/ -/ therAdjust/ 等于/ TRUE/ ,/ 表明/ 采用/ 最高/ 电压/ 也/ 不能/ 满足用户/ 期望/ ,/ 那么/ EEAS/ 调用函数/ adjustPhase2/ (/ )/ ,/ 进一步/ 调整/ 局部/ 队列/ 中/ 等待/ 任务/ 的/ 执行/ 电压/ ./ 算法/ 3/ ./ adjustPhase2/ (/ )/ 函数/ 伪/ 代码/ ./ 输入/ :/ 节点/ pj/ 局部/ 队列/ 中/ 等待/ 任务/ 及其/ 属性/ 、/ 任务/ ti/ 输出/ :/ meetExpectation/ 和/ mSelectedNode/ 的/ 取值/ 1/ ./ FOREACHtasktmINthelocalqueueofpjDO2/ ./ WHILEvmj/ / VjkDO3/ ./ Increaseonesupplyvoltagelevel4/ ./ Calculatetm/ ’/ snewstarttimestmjandexecution5/ ./ IFstmj/ +/ etmj/ / eftmANDstij/ +/ etij/ / eftiTHEN6/ ./ meetExpectation/ ←/ TRUE/ ;/ 7/ ./ Calculatethenewnodeenergyconsumption/ :/ 8/ ./ IFectran9/ ./ mSelectedNode/ ←/ j/ ;/ 10/ ./ ENDIF11/ ./ BREAK/ ;/ 12/ ./ ELSE13/ ./ vmj/ =/ vmj/ -/ -/ ;/ 14/ ./ BREAK/ ;/ 15/ ./ ENDIF16/ ./ ENDWHILE17/ ./ ENDFOR/ 对于/ 局部/ 队列/ 中/ 的/ 等待/ 任务/ ,/ 如果/ 其/ 执行/ 电压/ 没有/ 达到/ 最高/ ,/ EEAS/ 首先/ 提高/ 其/ 执行/ 电压/ (/ 见/ 2/ ~/ 3/ 行/ ,/ 算法/ 3/ )/ ./ 如果/ 电压/ 提高/ 后/ 不能/ 使/ 新/ 任务/ 和/ 队列/ 中/ 等待/ 任务/ 满足用户/ 期望/ ,/ 则/ 将/ 电压/ 调回/ 原值/ (/ 见/ 12/ ~/ 13/ 行/ ,/ 算法/ 3/ )/ ;/ 否则/ ,/ 说明/ 新/ 任务/ 可/ 在/ 用户/ 期望/ 时间/ 内/ 完成/ (/ 见/ 第/ 6/ 行/ ,/ 算法/ 3/ )/ ./ 之后/ ,/ EEAS/ 寻找/ 能量消耗/ 最少/ 的/ 计算/ 节点/ (/ 见/ 7/ ~/ 10/ 行/ ,/ 算法/ 3/ )/ ./ Page8/ 如果/ 函数/ adjustPhase1/ (/ )/ 和/ adjustPhase2/ (/ )/ 均/ 不能/ 使/ 变量/ meetExpectation/ 为/ FALSE/ ,/ 即/ 所有/ 电压/ 调整/ 均/ 不能/ 保证/ 新/ 任务/ 在/ 用户/ 期望/ 时间/ 内/ 完成/ ,/ 则/ 调用函数/ noMeetExpectation/ (/ )/ ./ 算法/ 4/ ./ noMeetExpectation/ (/ )/ 函数/ 伪/ 代码/ ./ 输入/ :/ 任务/ ti/ 及其/ 属性/ 、/ 节点/ pj/ 及其/ 属性/ 、/ ti/ 到/ pj/ 链路/ 输出/ :/ nMSelectedNode/ 的/ 取值/ 1/ ./ IFectranij/ +/ ecnodeij/ (/ vij/ =/ Vjk/ )/ / energyConsTHEN2/ ./ nMSelectedNode/ ←/ j/ ;/ 3/ ./ ENDIF/ 在/ 函数/ noMeetExpectation/ (/ )/ 中/ ,/ EEAS/ 选择/ 最高/ 电压/ 但/ 具有/ 最少/ 能量消耗/ 的/ 计算/ 节点/ (/ 见/ 1/ ~/ 3/ 行/ ,/ 算法/ 4/ )/ ./ 如果/ 新/ 任务/ 采用/ 最低/ 电压/ 可以/ 满足用户/ 期望/ ,/ 则/ 调用函数/ noNeedAdjust/ (/ )/ ./ 算法/ 5/ ./ noNeedAdjust/ (/ )/ 函数/ 伪/ 代码/ ./ 输入/ :/ 任务/ ti/ 及其/ 属性/ 、/ 节点/ pj/ 及其/ 属性/ 、/ ti/ 到/ pj/ 链路/ 输出/ :/ mSelectedNode/ 的/ 取值/ 1/ ./ IFectran2/ ./ mSelectedNode/ ←/ j/ ;/ 3/ ./ ENDIF/ 在/ 函数/ noNeedAdjust/ (/ )/ 中/ ,/ EEAS/ 选择/ 具有/ 最少/ 能量消耗/ 的/ 计算/ 节点/ ./ 回顾/ 算法/ 1/ ,/ 如果/ 变量/ mSelectedNode/ 不为/ 空/ ,/ 表明/ 某些/ 计算/ 节点/ 可以/ 在/ 满足用户/ 期望/ 的/ 条件/ 下/ 执行/ 新/ 任务/ ,/ 则/ EEAS/ 将/ 任务分配/ 到/ 能量消耗/ 最少/ 的/ 计算/ 节点/ 上/ ./ 若/ 没有/ 计算/ 节点/ 可/ 在/ 满足用户/ 期望/ 的/ 条件/ 下/ 执行/ 该/ 新/ 任务/ ,/ 那么/ EEAS/ 仍/ 选择/ 一个/ 能量消耗/ 最少/ 的/ 计算/ 节点/ (/ 见/ 19/ ~/ 23/ 行/ ,/ 算法/ 1/ )/ ./ 定理/ 1/ ./ EEAS/ 的/ 时间/ 复杂度/ 为/ O/ (/ |/ P/ |/ |/ Q/ |/ |/ K/ |/ )/ ,/ 其中/ ,/ |/ P/ |/ 为/ 计算/ 节点/ 数/ ,/ |/ Q/ |/ 为/ 局部/ 队列/ 中/ 的/ 等待/ 任务/ 数/ ,/ |/ K/ |/ 为/ 电压/ 级别/ 数/ ./ 证明/ ./ 函数/ adjustPhase1/ (/ )/ 的/ 时间/ 复杂度/ 为/ O/ (/ |/ K/ |/ )/ ,/ adjustPhase2/ (/ )/ 的/ 时间/ 复杂度/ 为/ O/ (/ |/ Q/ |/ |/ K/ |/ )/ ,/ noMeetExpectation/ (/ )/ 和/ noNeedAdjust/ (/ )/ 的/ 时间/ 复杂度/ 为/ O/ (/ 1/ )/ ,/ 其它/ 行/ 的/ 时间/ 复杂度/ 为/ O/ (/ 1/ )/ ./ 因此/ ,/ EEAS/ 的/ 时间/ 复杂度/ 为/ O/ (/ |/ P/ |/ )/ (/ O/ (/ |/ K/ |/ )/ +/ O/ (/ |/ Q/ |/ )/ O/ (/ |/ K/ |/ )/ )/ =/ O/ (/ |/ P/ |/ |/ Q/ |/ |/ K/ |/ )/ ./ 证毕/ ./ 5/ 实验/ 测试/ 本/ 节/ 通过/ 大量/ 模拟实验/ 测试/ EEAS/ 节能/ 调度/ 策略/ 的/ 性能/ ,/ 将/ 其/ 与/ 贪婪/ 节能/ (/ GreedyEnergy/ -/ Aware/ ,/ GEA/ )/ 调度/ 算法/ 、/ 最高/ 电压/ 节能/ (/ HighestVoltageEnergy/ -/ Aware/ ,/ HVEA/ )/ 调度/ 算法/ 和/ 最低/ 电压/ 节能/ (/ LowestVoltageEnergy/ -/ Aware/ ,/ LVEA/ )/ 调度/ 算法/ 进行/ 比较/ ./ GEA/ ,/ HVEA/ 和/ LVEA/ 的/ 算法/ 描述/ 如下/ :/ GEA/ :/ 通过/ 调整/ 新到/ 任务/ 的/ 执行/ 电压/ ,/ 尽量/ 满足用户/ 的/ 期望/ 完成/ 时间/ ,/ 同时/ 减少/ 能量消耗/ ;/ HVEA/ :/ 所有/ 计算/ 节点/ 以/ 最高/ 电压/ 运行/ ./ 当/ 分配/ 一个/ 新/ 任务/ 时/ ,/ 选择/ 能量消耗/ 最少/ 的/ 计算/ 节点/ ;/ LVEA/ :/ 所有/ 计算/ 节点/ 以/ 最低/ 电压/ 运行/ ./ 当/ 分配/ 一个/ 新/ 任务/ 时/ ,/ 选择/ 能量消耗/ 最少/ 的/ 计算/ 节点/ ./ 本文/ 主要/ 从/ 以下/ 几个/ 方面/ 比较/ 了/ EEAS/ 、/ GEA/ 、/ HVEA/ 和/ LVEA/ 的/ 性能/ :/ (/ 1/ )/ 用户/ 满意率/ (/ UserSatisfactionRate/ ,/ USR/ )/ :/ USR/ =/ 满足用户/ 期望/ 的/ 任务/ 数/ // 全部/ 任务/ 数/ ×/ 100/ %/ ;/ (/ 2/ )/ 总/ 能量消耗/ (/ TotalEnergyConsumption/ ,/ TEC/ )/ :/ 能量消耗/ 之/ 和/ ;/ (/ 3/ )/ 调度/ 跨度/ (/ Makespan/ )/ :/ 任务/ 集合/ 中/ 最后/ 一个/ 任务/ 的/ 完成/ 时间/ ./ 本文/ 的/ 总/ 能量消耗/ 为/ 归一化/ 能量消耗/ ,/ 类似/ 的/ 处理/ 方法/ 如/ 文献/ [/ 19/ ]/ 和/ [/ 25/ ]/ ./ 5.1/ 模拟/ 方法/ 和/ 参数/ 异构计算/ 系统/ 中/ 所有/ 计算/ 节点/ 的/ 电压/ 级别/ 变化/ 从/ 0.9/ V/ ~/ 1.5/ V/ ,/ 步长/ 为/ 0.1/ V/ ./ 相对/ 应/ 的/ 处理器/ 能量/ 消耗率/ 分别/ 为/ 140MW/ 到/ 1000MW/ ./ 处理器/ 能量/ 消耗率/ 按/ 电压/ 等级/ 服从/ 均匀分布/ ./ 此外/ ,/ 假设/ 0.9/ V/ 和/ 1.5/ V/ 分别/ 对应/ 处理速度/ 350Kbps/ 和/ 1000Kb/ -/ ps/ [/ 23/ ]/ ./ 处理速度/ 的/ 分布/ 类似/ 于/ 能量/ 消耗率/ 分布/ ./ 下面/ 给出/ 实验/ 中/ 所用/ 的/ 模拟/ 参数/ ./ (/ 1/ )/ 为/ 体现/ 系统/ 中/ 节点/ 计算能力/ 的/ 异构/ 性/ ,/ 令/ minSpeed/ 为/ 最小/ 执行/ 电压/ 下/ 的/ 处理速度/ 范围/ ,/ 各/ 节点/ 最低/ 电压/ 下/ 的/ 处理速度/ 在/ minSpeed/ 内/ 均匀分布/ ;/ 类似/ 地/ ,/ maxSpeed/ 为/ 最高/ 执行/ 电压/ 下/ 的/ 处理速度/ 范围/ ,/ 各/ 节点/ 最高/ 电压/ 下/ 的/ 处理速度/ 在/ maxSpeed/ 内/ 均匀分布/ ./ 为/ 体现/ 网络/ 传输速度/ 的/ 异构/ 性/ ,/ 令/ 参数/ bandWidth/ 为/ 网络/ 传输率/ 范围/ ,/ 从/ 调度/ 器到/ 各个/ 计算/ 节点/ 的/ 传输率/ 在/ bandWidth/ 内/ 均匀分布/ ./ (/ 2/ )/ 参数/ processingPower/ 用于/ 反映/ 计算/ 节点/ 从/ 最低/ 电压/ 到/ 最高/ 电压/ 的/ 能量/ 消耗率/ 范围/ ./ 参数/ transmissionPower/ 为/ 从/ 最差/ 通信/ 链路/ 到/ 最佳/ 通信/ 链路/ 的/ 传输率/ 范围/ ,/ 且/ 能量/ 消耗率/ 与/ 通信/ 链路/ 传输率/ 服从/ 均匀分布/ ./ (/ 3/ )/ 参数/ taskSize/ 表示/ 任务/ 大小/ ./ 在/ 实验/ 中/ 测试/ 了/ 3/ 种/ 大小/ 的/ 任务/ ,/ 即/ 小/ 任务/ 、/ 中等/ 任务/ 和/ 大/ 任务/ ./ 例/ Page9/ 如/ ,/ 0KB/ ~/ 500KB/ 属于/ 小/ 任务/ ,/ 500KB/ ~/ 1000KB/ 属于/ 中等/ 任务/ ,/ 1000KB/ ~/ 1500KB/ 属于/ 大/ 任务/ ./ (/ 4/ )/ 参数/ expectedTimebase/ 用于/ 控制/ 任务/ 的/ 期望/ 完成/ 时间/ ./ 式/ (/ 21/ )/ 中/ 用户/ 期望/ 完成/ 时间/ efti/ 的/ 计算/ 类似/ 于/ 文献/ [/ 34/ ]/ ./ 其中/ ,/ emaxefti/ =/ ai/ +/ (/ 1/ +/ expectedTimeBase/ )/ ×/ emaxi/ 为/ 任务/ ti/ 的/ 最长/ 执行/ 时间/ :/ (/ 5/ )/ 单位/ 时间/ 内/ 到达/ 的/ 任务/ 数/ 服从/ 泊松/ 分布/ ,/ 参数/ intervalTime/ 表示/ 两个/ 连续/ 任务/ 间/ 的/ 平均/ 时间/ 间隔/ ./ 节点/ 数/ 任务/ 数/ minSpeed/ // KbpsmaxSpeed/ // Kbps/ (/ [/ 900/ ,/ 1100/ ]/ )/ -/ (/ [/ 950/ ,/ 1050/ ]/ )/ ,/ bandWidth/ // Kbps/ (/ [/ 1250/ ,/ 1400/ ]/ )/ intervalTime/ // staskSize/ // KBexpectedTimeBase/ // s/ (/ 2.0/ )/ -/ (/ 2.0/ ,/ 4.0/ ,/ 6.0/ ,/ 8.0/ ,/ 10.0/ ,/ processingPower/ // s/ (/ [/ 140/ ,/ 1000/ ]/ )/ transmissionPower/ // s/ (/ [/ 10/ ,/ 20/ ]/ )/ 5.2/ 节点/ 数对/ 性能/ 的/ 影响/ 在/ 本组/ 实验/ 中/ ,/ 为/ 测试/ EEAS/ 策略/ 的/ 可伸缩性/ ,/ 将/ 节点/ 数从/ 8/ 变化/ 到/ 128/ ./ 图/ 7/ 显示/ 了/ GEA/ 、/ HVEA/ 、/ LVEA/ 和/ EEAS/ 在/ 用户/ 满意率/ 、/ 总/ 能量消耗/ 和/ 调度/ 跨度/ 3/ 个/ 方面/ 的/ 性能/ 对比/ ./ 图/ 7/ (/ a/ )/ 显示/ 了/ 所有/ 策略/ 的/ 用户/ 满意率/ 随着/ 节点/ 数/ 的/ 增加/ 而/ 提升/ ,/ 这/ 是因为/ 更/ 多/ 的/ 节点/ 可以/ 保证/ 更/ 多/ 的/ 任务/ 在/ 用户/ 期望/ 时间/ 内/ 完成/ ./ 从图/ 7/ (/ a/ )/ 可以/ 发现/ ,/ HVEA/ 一直/ 比/ 其它/ 策略/ 具有/ 较/ 高/ 的/ 用户/ 满意率/ ,/ 因为/ HVEA/ 始终/ 将/ 电压/ 设定/ 为/ 最高值/ ,/ 导致/ 任务/ 具有/ 较/ 短/ 的/ 执行/ 时间/ 和/ 较/ 早/ 的/ 开始/ 时间/ ,/ 因此/ 满足用户/ 期望/ 的/ 概率/ 较/ 高/ ./ 相反/ ,/ 由于/ LVEA/ 采用/ 了/ 最低/ 电压/ ,/ 导致/ 最低/ 的/ 用户/ 满意率/ ./ 此外/ ,/ 图/ 7/ (/ a/ )/ 显示/ 了/ EEAS/ 调度/ 策略/ 在/ 用户/ 满意率/ 方面/ 优于/ GEA/ 算法/ ,/ 这/ 可以/ 解释/ 为/ EEAS/ 充分利用/ 了/ 节点/ 局部/ 队列/ 中/ 的/ 任务/ 信息/ ,/ 可以/ 提高/ 等待/ 队列/ 中/ 任务/ 的/ 执行/ 电压/ 以/ 提高/ 用户/ 满意率/ ,/ 而/ GEA/ 仅/ 对/ 新/ 到达/ 任务/ 的/ 执行/ 电压/ 进行/ 调节/ ,/ 忽略/ 了/ 局部/ 队列/ 中/ 的/ 任务/ 信息/ ./ 从图/ 7/ (/ b/ )/ 中/ 可以/ 发现/ ,/ 尽管/ HVEA/ 可以/ 提供/ 最高/ 的/ 用户/ 满意率/ ,/ 但/ 其/ 节能/ 效果/ 最差/ (/ 见图/ 7/ (/ a/ )/ )/ ;/ 相反/ ,/ LVEA/ 具有/ 最少/ 的/ 能量消耗/ ,/ 但/ 其/ 用户/ 满意率/ 最低/ ./ 上述/ 实验/ 结果表明/ 两种/ 策略/ 均/ 不/ 具有/ 弹性/ ,/ 缺乏/ 在/ 用户/ 满意率/ 和/ 总/ 能量消耗/ 之间/ 进行/ 权衡/ 的/ 能力/ ./ 此外/ ,/ 从图/ 7/ (/ b/ )/ 可以/ 发现/ ,/ 当/ 计算/ 节点/ 数/ 小于/ 96/ 时/ ,/ 尽管/ GEA/ 比/ EEAS/ 的/ 节能/ 效果/ 好/ ,/ 但是/ 大量/ 任务/ 的/ 用户/ 期望/ 无法/ 得到/ 满足/ (/ 见图/ 7/ (/ a/ )/ )/ ,/ 这/ 是因为/ 当/ 系统/ 负载/ 较/ 重时/ ,/ EEAS/ 为/ 提高/ 用户/ 满意率/ 增加/ 了/ 能量消耗/ ./ 此外/ ,/ 当/ 计算/ 节点/ 数/ 大于/ 96/ 时/ ,/ EEAS/ 和/ GEA/ 具有/ 相似/ 的/ 能量消耗/ ,/ 这是/ 由于/ 系统/ 负载/ 较轻时/ ,/ EEAS/ 在/ 保证系统/ 提供/ 较/ 高/ 用户/ 满意率/ 的/ 基础/ 上/ 减少/ 了/ 系统/ 能量消耗/ ./ 值得注意/ 的/ Page10/ 是/ ,/ 当/ 节点/ 数从/ 8/ 变化/ 到/ 64/ 时/ ,/ EEAS/ 的/ 总/ 能量消耗/ 逐渐/ 减少/ ,/ 因为/ 此时/ 系统/ 负载/ 较/ 轻/ ,/ EEAS/ 在/ 保证系统/ 具有/ 较/ 高/ 用户/ 满意率/ 的/ 基础/ 上/ 减少/ 了/ 系统/ 能量消耗/ ./ 当/ 节点/ 数/ 大于/ 64/ 时/ ,/ EEAS/ 的/ 总/ 能量消耗/ 增加/ ,/ 这/ 是因为/ 尽管/ 系统/ 以/ 最低/ 电压/ 运行/ ,/ 但/ 随着/ 节点/ 数/ 的/ 增加/ ,/ 较/ 多/ 节点/ 处于/ 空闲/ 状态/ ./ GEA/ 具有/ 和/ EEAS/ 类似/ 的/ 趋势/ ,/ 但是/ 它/ 只能/ 调整/ 新到/ 任务/ 的/ 执行/ 电压/ 而/ 不能/ 调整/ 等待/ 队列/ 中/ 任务/ 的/ 执行/ 电压/ ,/ 因此/ 当/ 系统/ 负载/ 较/ 重时/ ,/ 不能/ 提供/ 比/ EEAS/ 更优/ 的/ 用户/ 满意率/ ./ 图/ 7/ (/ c/ )/ 的/ 结果表明/ ,/ LVEA/ 具有/ 最差/ 的/ 调度/ 跨度/ ,/ 因为/ LVEA/ 始终/ 选择/ 最低/ 电压/ ,/ 使得/ 任务/ 具有/ 最长/ 的/ 执行/ 时间/ ,/ 因此/ 产生/ 最长/ 的/ 调度/ 跨度/ ;/ 相反/ ,/ HVEA/ 的/ 调度/ 跨度/ 最小/ ,/ 但是/ 它/ 的/ 能量消耗/ 一直/ 高于/ 其它/ 策略/ 的/ 能量消耗/ ./ 这一/ 结果表明/ ,/ 异构计算/ 系统/ 采用/ 该/ 策略/ 不/ 具备/ 任何/ 弹性/ ./ 当/ 节点/ 数/ 小于/ 96/ 时/ ,/ EEAS/ 比/ GEA/ 具有/ 更优/ 的/ 调度/ 跨度/ ,/ 这/ 可以/ 解释/ 为/ 当/ 系统/ 负载/ 较/ 重时/ ,/ 为/ 获得/ 更/ 高/ 的/ 用户/ 满意率/ ,/ EEAS/ 可/ 通过/ 提高/ 局部/ 队列/ 中/ 等待/ 任务/ 的/ 执行/ 电压/ 来/ 缩短/ 任务/ 的/ 执行/ 时间/ ,/ 但是/ GEA/ 缺乏/ 对/ 局部/ 队列/ 中/ 任务/ 执行/ 电压/ 的/ 调节/ 能力/ ./ 因此/ ,/ 采用/ EEAS/ 调度/ 策略/ 的/ 任务/ 相对/ 采用/ GEA/ 策略/ 的/ 任务/ 具有/ 较/ 短/ 的/ 执行/ 时间/ ./ 当/ 计算/ 节点/ 数目/ 大于/ 96/ 时/ ,/ 即使/ 采用/ 最低/ 电压/ ,/ 系统/ 负载/ 仍然/ 较/ 轻/ ,/ 因此/ 两者/ 的/ 任务/ 执行/ 时间/ 基本相同/ ./ 5.3/ 任务/ 到达/ 率/ 对/ 性能/ 的/ 影响/ 为了/ 测试/ 任务/ 到达/ 率/ 对/ 性能/ 的/ 影响/ ,/ 在/ 本组/ 实验/ 中/ ,/ 将/ 参数/ intervalTime/ 的/ 值/ 从/ 2/ 变化/ 到/ 16/ ,/ 步长/ 为/ 2/ ./ 图/ 8/ 显示/ 了/ GEA/ 、/ LVEA/ 、/ HVEA/ 和/ EEAS/ 的/ 性能/ ./ 图/ 8/ (/ a/ )/ 显示/ 了/ 当/ 参数/ intervalTime/ 较/ 小时/ ,/ 任务/ 到达/ 速度/ 较/ 快/ ,/ 使得/ 较/ 多任务/ 在/ 局部/ 队列/ 中/ 排队/ ,/ 因此/ 一些/ 晚/ 到达/ 任务/ 可能/ 错失/ 其/ 期望/ 完成/ 时间/ ./ 随着/ intervalTime/ 的/ 增加/ ,/ 在/ 局部/ 队列/ 中/ 等待/ 任务/ 的/ 数量/ 减少/ ,/ 任务/ 具有/ 较/ 早/ 的/ 开始/ 时间/ ,/ 此时/ 系统/ 负载/ 较/ 轻/ ,/ 使得/ 系统/ 具有/ 较/ 高/ 的/ 用户/ 满意率/ ./ 此外/ ,/ HVEA/ 和/ LVEA/ 分别/ 具有/ 最高/ 和/ 最低/ 的/ 用户/ 满意率/ ./ EEAS/ 的/ 用户/ 满意率/ 高于/ GEA/ 的/ 用户/ 满意率/ ,/ 其/ 结果/ 与/ 图/ 7/ (/ a/ )/ 中/ 所示/ 情况/ 的/ 解释/ 一致/ ./ 图/ 8/ (/ b/ )/ 显示/ 了/ HVEA/ 消耗/ 的/ 能量/ 最/ 多/ ,/ 而/ LVEA/ 消耗/ 的/ 能量/ 最少/ ./ 值得注意/ 的/ 是/ EEAS/ 具有/ 特殊/ 的/ 变化/ 特性/ ./ 例如/ ,/ 当/ 参数/ intervalTime/ 小于/ 8/ 时/ (/ 即/ 系统/ 负载/ 较/ 重/ )/ ,/ EEAS/ 尽量/ 通过/ 增加/ 节点/ 局部/ 队列/ 中/ 等待/ 任务/ 的/ 执行/ 电压/ 提高/ 用户/ 满意率/ ./ 当/ intervalTime/ 大于/ 8/ 时/ ,/ 任务/ 到达/ 速率/ 较/ 低/ (/ 即/ 系统/ 负载/ 较/ 重/ )/ 时/ ,/ EEAS/ 的/ 总/ 能量消耗/ 增加/ ,/ 这/ 是因为/ 系统/ 负载/ 变轻/ ,/ 空闲/ 时间/ 增加/ ,/ 增加/ 的/ 空闲/ 时间/ 使得/ 系统/ 的/ 总/ 能量消耗/ 略微/ 增加/ ./ 图/ 8/ (/ c/ )/ 中/ 的/ 结果表明/ ,/ 当/ 参数/ intervalTime/ 从/ 2/ 变化/ 到/ 8/ 时/ ,/ 所有/ 策略/ 的/ 调度/ 跨度/ 增加/ ./ 这/ 是因为/ 随着/ intervalTime/ 的/ 增加/ ,/ 任务/ 到达/ 时间/ 间隔/ 变/ 长/ ,/ 因此/ ,/ 任务/ 的/ 开始/ 时间/ 延长/ 导致/ 最/ 晚/ 到达/ 任务/ 的/ 完成/ 时间/ 较晚/ ,/ 相应/ 的/ 调度/ 跨度/ 增加/ ./ 此外/ ,/ HVEA/ 的/ 调度/ 跨度/ 最小/ ,/ 而/ LVEA/ 正好/ 相反/ ./ 该/ 原因/ 和/ 图/ 8/ (/ c/ )/ 中/ 的/ 解释/ 类似/ ./ 当/ 参数/ intervalTime/ 小于/ 8/ 时/ ,/ EEAS/ 在/ 调度/ 跨度/ 方面/ 优于/ GEA/ ,/ 这/ 可/ 解释/ 为/ 当系/ Page11/ 统/ 负载/ 较/ 重时/ ,/ EEAS/ 优先/ 满足用户/ 期望/ ,/ 使/ 任务/ 具有/ 较/ 短/ 的/ 执行/ 时间/ ,/ 因此/ 调度/ 跨度/ 减小/ ./ 5.4/ 期望/ 完成/ 时间/ 对/ 性能/ 的/ 影响/ 本组/ 实验/ 的/ 目的/ 是/ 为了/ 测试/ 期望/ 完成/ 时间/ 对/ GEA/ 、/ HVEA/ 、/ LVEA/ 和/ EEAS/ 性能/ 的/ 影响/ ./ 参数/ expectedTimebase/ 的/ 变化/ 从/ 2/ ~/ 16/ ./ 图/ 9/ 显示/ 了/ 实验/ 中/ 4/ 种/ 方法/ 的/ 性能/ ./ 从图/ 9/ (/ a/ )/ 中/ 可以/ 发现/ ,/ 随着/ expectedTimebase/ 的/ 增加/ (/ 即/ 期望值/ 变得/ 宽松/ )/ ,/ GEA/ 、/ HVEA/ 、/ LVEA/ 和/ EEAS/ 的/ 用户/ 满意率/ 随之/ 增加/ ,/ 这/ 是因为/ 任务/ 的/ 期望/ 完成/ 时间/ 限制/ 变得/ 宽松/ ,/ 使得/ 任务/ 可以/ 较晚/ 完成/ ./ 此外/ ,/ 图/ 9/ (/ a/ )/ 显示/ 了/ HVEA/ 和/ LVEA/ 分别/ 具有/ 最高/ 和/ 最低/ 的/ 用户/ 满意率/ ./ EEAS/ 的/ 用户/ 满意率/ 高于/ GEA/ 的/ 用户/ 满意率/ ,/ 这/ 与/ 前面/ 实验/ 的/ 结果/ 类似/ (/ 见图/ 7/ (/ a/ )/ 和/ 图/ 8/ (/ a/ )/ )/ ./ 参数/ expectedTimebase/ 的/ 增加/ 使得/ 系统/ 负载/ 变轻/ ./ 从图/ 9/ (/ b/ )/ 中/ 可以/ 发现/ ,/ 当/ expectedTimebase/ 的/ 值/ 小于/ 10/ 时/ ,/ 采用/ EEAS/ 策略/ 的/ 能量消耗/ 逐渐/ 减少/ ,/ 因此/ 具有/ 较/ 好/ 的/ 弹性/ ;/ 而/ 当/ expectedTimebase/ 的/ 值/ 大于/ 10/ 时/ ,/ 其/ 实验/ 结果/ 与/ 前述/ 实验/ 结果/ 类似/ ./ 尽管/ GEA/ 与/ EEAS/ 的/ 变化趋势/ 类似/ ,/ 但/ 当/ 系统/ 负载/ 较轻时/ ,/ 其/ 用户/ 满意率/ 低于/ EEAS/ ./ 此外/ ,/ 无论/ 系统/ 负载/ 如何/ 变化/ ,/ HVEA/ 和/ LVEA/ 均/ 不能/ 减少/ 系统/ 能量消耗/ ./ 图/ 9/ (/ c/ )/ 显示/ 了/ LVEA/ 具有/ 比/ 其它/ 算法/ 较长/ 的/ 调度/ 跨度/ ,/ 这/ 是因为/ LVEA/ 始终/ 采用/ 最低/ 的/ 任务/ 执行/ 电压/ ,/ 导致/ 任务/ 具有/ 最长/ 的/ 执行/ 时间/ ,/ 而/ HVEA/ 恰好相反/ ./ EEAS/ 具有/ 比/ GEA/ 更好/ 的/ 调度/ 跨度/ ,/ 其/ 原因/ 是/ 为了/ 保证/ 较/ 高/ 的/ 用户/ 满意率/ 而/ 缩短/ 了/ 部分/ 任务/ 的/ 执行/ 时间/ ./ 5.5/ 任务/ 大小/ 对/ 性能/ 的/ 影响/ 本组/ 实验/ 测试/ 了/ 任务/ 大小/ 对/ 性能/ 的/ 影响/ ./ 3/ 种/ 任务/ 大小/ 的/ 设计/ 如表/ 1/ 所示/ ./ 假设/ 任务/ 大小/ 均匀分布/ ,/ 图/ 10/ 显示/ 了/ 小/ 任务/ 、/ 中等/ 任务/ 和/ 大/ 任务/ 对/ GEA/ 、/ HVEA/ 、/ LVEA/ 和/ EEAS/ 性能/ 的/ 影响/ ./ 图/ 10/ (/ a/ )/ 显示/ 了/ 当/ 任务/ 为/ 小/ 任务/ 时/ ,/ 由于/ 任务/ 执行/ 时间/ 较/ 短/ ,/ 所有/ 方法/ 均/ 提供/ 较/ 高/ 的/ 用户/ 满意率/ ./ 当/ 任务/ 为/ 中等/ 任务/ 或/ 大/ 任务/ 时/ ,/ 任务/ 的/ 执行/ 时间/ 变/ 长/ ,/ 因此/ 用户/ 满意率/ 下降/ ./ 从图/ 10/ (/ a/ )/ 中/ 可以/ 看出/ ,/ HVEA/ 始终/ 具有/ 最高/ 的/ 用户/ 满意率/ ,/ 而/ LVEA/ 具有/ 最低/ 的/ 用户/ 满意率/ ,/ 这/ 是因为/ HVEA/ 和/ LVEA/ 均/ 属于/ 静态/ 算法/ ,/ 不/ 具备/ 根据/ 系统/ 负载/ 情况/ 自/ 适应/ 调整/ 电压/ 的/ 能力/ ./ EEAS/ 具有/ 比/ GEA/ 较/ 高/ 的/ 用户/ 满意率/ 是因为/ 在/ 系统/ 负载/ 较/ 重时/ ,/ EEAS/ 可以/ 通过/ 增加/ 能量消耗/ 来/ 提高/ 用户/ 满意率/ ./ 图/ 10/ (/ b/ )/ 显示/ 了/ 随着/ 任务/ 粒度/ 的/ 增加/ ,/ 采用/ 4/ 种/ 不同/ 策略/ 的/ 系统/ 能量消耗/ 均/ 增加/ ,/ 这/ 是因为/ 大/ 任务/ 需要/ 更长/ 的/ 执行/ 时间/ ,/ 因此/ 消耗/ 的/ 能量/ 最多/ ./ 当/ 任务/ 为/ 中等/ 或/ 大/ 任务/ 时/ ,/ EEAS/ 的/ 总/ 能量消耗/ 略高于/ GEA/ 的/ 总/ 能量消耗/ ,/ 因为/ EEAS/ 在/ 系统/ 负载/ 较/ 重时/ 优先/ 考虑/ 用户/ 满意率/ ./ 但是/ ,/ 当/ 任务/ 为/ 小/ 任务/ 时/ ,/ EEAS/ 和/ GEA/ 基本上/ 具有/ 相同/ 的/ 能量消耗/ ./ 图/ 10/ (/ c/ )/ 显示/ 了/ 采用/ 4/ 种/ 不同/ 调度/ 策略/ 时/ ,/ 任务/ 大小/ 对/ 调度/ 跨度/ 的/ 影响/ ./ 实验/ 结果表明/ EEAS/ 具有/ 最好/ 的/ 弹性/ ./ Page126/ 结论/ 本文/ 研究/ 了/ 异构计算/ 系统/ 中/ 独立/ 任务/ 节能/ 调度/ 问题/ ,/ 其/ 调度/ 目标/ 是/ 在/ 用户/ 期望/ 与/ 系统/ 节能/ 之间/ 进行/ 权衡/ ./ 为了/ 达到/ 这一/ 目标/ ,/ 本文/ 提出/ 了/ 一种/ 弹性/ 节能/ 调度/ 策略/ EEAS/ ./ 该/ 策略/ 可/ 有效/ 提高/ 系统/ 灵活性/ ,/ 根据/ 系统/ 负载/ 情况/ 对/ 新/ 到达/ 任务/ 和/ 局部/ 队列/ 中/ 等待/ 任务/ 进行/ 执行/ 电压/ 自/ 适应/ 调整/ ./ 为了/ 评估/ EEAS/ 策略/ 的/ 性能/ ,/ 本文/ 通过/ 大量/ 模拟实验/ 对/ 其/ 进行/ 了/ 测试/ ./ 实验/ 结果表明/ 在/ 系统/ 负载/ 的/ 较大/ 变化/ 范围/ 内/ ,/ EEAS/ 调度/ 策略/ 相比/ 其它/ 算法/ 具有/ 更好/ 的/ 弹性/ ,/ 可以/ 为/ 动态/ 环境/ 下/ 异构计算/ 系统/ 提供/ 良好/ 的/ 适应性/ ./ 下/ 一步/ 的/ 研究/ 工作/ 主要/ 包括/ 3/ 个/ 方面/ :/ (/ 1/ )/ 将/ 现有/ 调度/ 策略/ 扩展/ 到/ 存储系统/ 的/ 节能/ 设计/ 中/ ;/ (/ 2/ )/ 改进/ 现有/ 调度/ 策略/ 以/ 处理/ 异构计算/ 系统/ 中/ 的/ 并行任务/ ;/ (/ 3/ )/ 进一步/ 考虑/ 系统/ 中/ 存储/ 能力/ 的/ 异构/ 性/ ./ 

