Page1/ 云/ 平台/ 下/ 基于/ 隐私/ 保护/ 的/ 桶/ 划分/ 方案/ 1/ )/ (/ 国家/ 数字化/ 学习/ 工程技术/ 研究/ 中心/ (/ 华中师范大学/ )/ 武汉/ 430072/ )/ 2/ )/ (/ 武汉大学/ 计算机/ 学院/ 武汉/ 430072/ )/ 摘要/ DAAS/ (/ DatabaseasaService/ )/ 模式/ 以/ 其/ 管理/ 便捷/ 的/ 特性/ 受到/ 大量/ 组织/ 机构/ 的/ 青睐/ ,/ 同时/ 托管/ 数据/ 的/ 安全/ 也/ 成/ 了/ 迫切需要/ 解决/ 的/ 难题/ ./ 数据/ 加密/ 对于/ 外/ 包/ 数据/ 的/ 安全/ 起着/ 重要/ 作用/ ,/ 这会/ 降低/ 数据/ 查询/ 效率/ ,/ 因此/ 高效/ 安全/ 的/ 密文/ 查询/ 成为/ 解决/ 数据/ 机密性/ 的/ 突破口/ ,/ 然而/ ,/ 云/ 计算环境/ 下/ 国内外/ 针对/ DAAS/ 模式/ 密文/ 查询/ 的/ 研究/ 缺少/ 攻击/ 模式/ 下/ 对/ 隐私/ 的/ 深度/ 分析/ ./ 针对/ 该/ 问题/ ,/ 该文/ 提出/ 了/ 一种/ DAAS/ 模式/ 下/ 基于/ 隐私/ 保护/ 的/ 桶/ 划分算法/ ./ 首先/ 根据/ 查询/ 效率/ 指标/ 提出/ 了/ 一种/ 基于/ 遗传算法/ 的/ 桶/ 划分/ 方案/ ;/ 在/ 此基础/ 之上/ ,/ 针对/ 查询/ 的/ 过程/ 中/ 隐私/ 泄漏/ 情况/ 提出/ 了/ 信息/ 泄露/ 的/ 隐私/ 指标体系/ ,/ 并/ 将/ 该/ 指标体系/ 与/ 查询/ 效率/ 进行/ 结合/ ,/ 最后/ 基于/ 遗传算法/ 的/ 桶/ 划分算法/ 对/ 隐私/ 与/ 效率/ 的/ 模型/ 进行/ 最优化/ ,/ 从而/ 获得/ 最优/ 的/ 桶/ 划分/ 方案/ 来/ 确保/ 查询/ 过程/ 中/ 的/ 隐私/ 与/ 查询/ 效率/ 最优/ 的/ 平衡/ ./ 该/ 算法/ 可以/ 在/ 提高/ 范围/ 查询/ 精确度/ 和/ 系统/ 效率/ 的/ 基础/ 上/ ,/ 降低/ 密文/ 查询/ 中/ 隐私/ 泄露/ 的/ 信息/ ,/ 从而/ 提高/ 云/ 平台/ 中/ 隐私/ 数据/ 的/ 可用性/ 和/ 隐私/ 性/ ./ 最后/ ,/ 为了/ 验证/ 文中/ 所提/ 方案/ 的/ 可行性/ ,/ 将/ 文中/ 的/ 算法/ 与/ 目前/ 采用/ 的/ 几种/ 桶/ 划分/ 方案/ 进行/ 对比/ ,/ 发现/ 文中/ 的/ 方案/ 在/ 查询/ 精准度/ 上/ 以及/ 在/ 隐私/ 的/ 保护/ 上均/ 优于/ 其他/ 方案/ ./ 关键词/ 密文/ 查询/ ;/ 桶/ 划分/ ;/ 遗传算法/ ;/ 隐私/ 指标/ ;/ 云/ 计算/ 1/ 引言/ 在/ 云/ 计算环境/ 下/ ,/ 虽然/ DAAS/ (/ DatabaseasaService/ )/ 数据库/ 外/ 包/ 模式/ 为/ 企业/ 带来/ 了/ 开销/ 的/ 节省/ 等/ 许多/ 优势/ ,/ 但/ 也/ 对/ 机密/ 数据/ 的/ 安全/ 与/ 用户/ 的/ 隐私/ 带来/ 了/ 挑战/ [/ 1/ ]/ ,/ 例如/ 组织/ 机构/ 将/ 用户/ 的/ 个人/ 医疗/ 数据/ 等/ 隐私/ 数据/ 等/ 进行/ 外/ 包/ ,/ 一旦/ 这些/ 隐私/ 数据/ 被/ 非法/ 窃取/ 将会/ 对/ 用户/ 或/ 企业/ 造成/ 巨大/ 的/ 损失/ ./ 加密/ 机制/ 为/ DSP/ (/ DatabaseServiceProvider/ )/ 端/ 数据安全/ 提供/ 了/ 重要/ 思路/ ,/ 却/ 也/ 使得/ 数据/ 丧失/ 了/ 许多/ 特性/ ,/ 如/ 有序性/ 、/ 相似性/ 等/ ,/ 这/ 给/ DAAS/ 系统/ 的/ 数据/ 查询/ 带来/ 很大/ 的/ 困难/ 和/ 挑战/ ./ 因此/ ,/ 针对/ 数值/ 型/ 数据/ ,/ 如何/ 构建/ 一种/ 既/ 能/ 提高/ 密文/ 的/ 查询/ 效率/ 且/ 能/ 确保/ 隐私/ 的/ 密文/ 索引/ 显得/ 至关重要/ ./ 国内外/ 针对/ 数值/ 型/ 数据/ 的/ 密文/ 查询/ 进行/ 了/ 大量/ 的/ 研究/ ./ 目前/ 的/ 研究/ 主要/ 分为/ 两种/ :/ 一种/ 是/ 直接/ 对/ 密文/ 进行/ 构建/ 可/ 搜索/ 的/ 加密算法/ ,/ 查询/ 结果/ 直接/ 为/ 需要/ 的/ 密文/ ;/ 另外/ 一种/ 是/ 利用/ hash/ 桶/ 对/ 数据/ 进行/ 分段/ ,/ 返回/ 结果/ 中/ 不仅/ 包含/ 正确/ 的/ 结果/ 也/ 包含/ 其他/ 混淆/ 结果/ ./ Qi/ 和/ Atallah/ [/ 2/ ]/ 研究/ 了/ 基于/ 同态/ 加密算法/ 的/ 密文/ kNN/ 查询方法/ ,/ 其/ 将/ 时间/ 开销/ 从/ 二次方/ 变成/ 了/ 线性/ ,/ 然而/ 在/ 提高效率/ 的/ 同时/ 泄露/ 了/ 一些/ 信息/ (/ 比如/ 盲值/ 的/ 大小/ 等/ )/ ./ Agrawal/ 等/ 人/ [/ 3/ ]/ 提出/ 了/ 一种/ 保持/ 有序/ 的/ 加密/ 方法/ ,/ 但/ 加密/ 数据/ 保持/ 有序性/ ,/ 容易/ 遭到/ 选择/ 密文/ 攻击/ ./ Ozsoyoglu/ 等/ 人/ [/ 4/ ]/ 提出/ 了/ 另/ 一种/ 保序/ 加密/ 方法/ ,/ 极大/ 地/ 减少/ 了/ 加/ // 解密/ 开销/ ,/ 提高/ 了/ 加密/ 数据/ 操作/ 性能/ ,/ 但/ 该/ 方法/ 容易/ 遭受/ 服务器端/ 的/ 统计/ 攻击/ ./ IBM/ 研究员/ Gentry/ 态/ 加密算法/ ,/ 在/ 理论/ 上/ 取得/ 了/ 一定/ 突破/ ,/ 但/ 还/ 存在/ 很大/ 的/ 性能/ 缺陷/ ,/ 实用/ 尚有/ 差距/ ./ Hacg/ ü/ m/ ü/ 等/ 人/ [/ 6/ ]/ 在/ DAAS/ 模型/ 基础/ 上/ ,/ 构建/ 密文/ 数据/ 分桶/ 机制/ ,/ 从而/ 缩小/ 用户端/ 解密/ 范围/ ,/ 因/ 返回/ 客户端/ 的/ 记录集/ 包含/ 一些/ 不/ 满足/ 查询/ 条件/ 的/ 记录/ ,/ 需由/ 客户端/ 进行/ 解密/ 过滤/ 处理/ ;/ Wang/ 等/ 人/ [/ 7/ ]/ 提出/ 了/ 一种/ 桶/ 划分/ 的/ 自/ 适应/ 调整/ 方法/ STBucket/ ,/ 以/ 减小/ 查询/ 的/ 误检率/ ./ 宋伟/ 等/ 人/ [/ 8/ ]/ 通过/ 分析/ 不同/ 查询/ 分布/ 对/ 客户端/ 查询/ 精度/ 的/ 影响/ ,/ 提出/ 了/ 一种/ 面向/ 服务/ 的/ 加密/ 数据/ 高效/ 查询方法/ AEI/ ,/ 可以/ 很/ 好/ 地/ 适应/ 数据/ 的/ 频繁/ 更新/ 操作/ ,/ 然而/ 对于/ 查询/ 的/ 隐私/ 并/ 没有/ 过多/ 考虑/ ./ Hore/ 等/ 人/ [/ 9/ ]/ 提出/ 了/ 启发式/ 桶/ 划分算法/ ,/ 通过/ 优化/ 算法/ 获取/ 最优/ 的/ 桶/ 数目/ ,/ 并且/ 提出/ 信息熵/ 等/ 指标/ 对/ 算法/ 进行/ 隐私/ 加强/ ,/ 提高/ 对/ 敏感/ 属性/ 的/ 保护/ 效率/ ,/ 然而/ 该/ 算法/ 中/ 并/ 没有/ 给出/ 一个/ 有效/ 的/ 均衡/ 隐私/ 与/ 查询/ 效率/ 的/ 方案/ ./ Ciriani/ 等/ 人/ 在/ 文献/ [/ 10/ ]/ 中/ 针对/ 关系/ 型/ 数据/ ,/ 采用/ 数据/ 分段/ 、/ 加密技术/ ,/ 提出/ 一种/ 系统/ 查询/ 消耗/ 计算/ 模型/ ,/ 并/ 提出/ 一种/ 启发式/ 搜索算法/ 找出/ 系统/ 查询/ 消耗/ 最小/ 的/ 数据/ 分段/ ,/ 但是/ 该/ 方法/ 的/ 时间/ 复杂度/ 较/ 高/ ,/ 并/ 没有/ 很/ 好/ 的/ 平衡/ 安全性/ 和/ 效率/ 的/ 关系/ ./ 从/ 上述/ 的/ 分析/ 情况/ 来看/ ,/ 国内外/ 针对/ DAAS/ 模型/ 下/ 密文/ 范围/ 查询/ 的/ 技术/ 虽然/ 已经/ 做/ 了/ 大量/ 的/ 研究/ ,/ 然而/ 它们/ 缺少/ 攻击/ 模式/ 下/ 对/ 隐私/ 的/ 深度/ 分析/ ./ 关于/ 隐私/ 问题/ 目前/ 还/ 没有/ 一个/ 统一/ 的/ 定义/ ,/ 这是/ 一个/ 挑战性/ 的/ 问题/ ./ 因此/ ,/ 如何/ 设计/ 一种/ 平衡/ 用户/ 隐私/ 和/ DAAS/ 查询/ 精度/ 的/ 密文/ 查询/ 算法/ 对于/ 数据/ 的/ 安全/ 具有/ 重要/ 的/ 意义/ ./ 本文/ 提出/ 了/ 一种/ DAAS/ 模式/ 下/ 基于/ 隐私/ 保护/ 的/ 桶/ 划分算法/ ./ 首先/ 根据/ 查询/ 的/ 过程/ 提出/ 了/ 一套/ 密文/ 查询/ 中/ 信息/ 泄露/ 的/ 隐私/ 指标体系/ ,/ 并/ 将/ 该/ 指标体系/ 与/ 查询/ 效率/ 进行/ 结合/ ,/ 最后/ 基于/ 遗传算法/ 的/ 桶/ 划分算法/ 对/ 隐私/ 与/ 效率/ 的/ 模型/ 进行/ 最优化/ ,/ 从而/ 获得/ 最后/ 的/ 桶/ 划分/ 方案/ 来/ 确保/ 查询/ 过程/ 中/ 的/ 隐私/ 与/ 查询/ 效率/ 最后/ 的/ 平衡/ ./ 该/ 算法/ 可以/ 在/ 最大化/ 范围/ 查询/ 的/ 精确度/ 和/ 提高/ 系统/ 效率/ 基础/ 上/ ,/ 降低/ 密文/ 查询/ 中/ 隐私/ 泄露/ 的/ 信息/ ,/ 从而/ 提高/ 云/ 平台/ 中/ 隐私/ 数据/ 的/ 可用性/ 和/ 隐私/ 性/ ./ 2/ 密文/ 查询/ 方案/ 的/ 基础/ 模型/ 2.1/ 数据/ 外/ 包/ 模型/ 图/ 1/ 中/ 描述/ 的/ 是/ 在/ 云/ 计算/ 架构/ 下/ 数据/ 外/ 包/ 程序/ Page3/ 的/ 简单/ 架构/ ./ 本文/ 假设/ 客户端/ 环境/ 是/ 可信/ 的/ ,/ 服务端/ 的/ 环境/ 是/ 不可/ 信/ 的/ ,/ 服务端/ 的/ 数据/ 是/ 以/ 密文/ 的/ 形式/ 存放/ ./ 为了/ 查询/ 数据/ ,/ 客户端/ 可以/ 将/ 整个/ 数据表/ 下载/ 下来/ ,/ 然后/ 解密/ 筛选/ 出/ 正确/ 的/ 结果/ ,/ 服务端/ 的/ 功能/ 缩图/ 1DAAS/ 密文/ 查询/ 架构/ 在/ 图/ 1/ 的/ DAAS/ 架构/ 中/ ,/ 服务端/ 通过/ webservice/ 的/ 方式/ 将/ 数据/ 的/ 管理/ 功能/ (/ 创建/ 数据库/ 、/ 表等/ )/ 、/ 数据/ 查询/ 功能/ 等/ 发布/ 出来/ ,/ 客户端/ 通过/ webservice/ 调用/ 相应/ 的/ 数据库/ 管理/ 功能/ ,/ 客户端/ 包含/ 3/ 个/ 主要/ 组件/ :/ 数据/ 加/ // 解密/ 引擎/ 、/ 查询/ 转换器/ 和/ 查询/ 处理器/ ./ 为了/ 让/ 服务端/ 处理/ 查询/ ,/ 每个/ 加密/ 记录/ 属性/ 值/ 增加/ 1/ 个/ 索引/ 属性/ (/ 桶/ id/ )/ ./ 用户/ 的/ 明文/ 需要/ 桶/ 查询/ 转换器/ 转换成/ 针对/ 桶/ id/ 的/ 查询/ ./ 这个/ 转换/ 是/ 查询/ 转化/ 器/ 通过/ “/ 映射函数/ ”/ 来/ 完成/ 的/ ./ 服务端/ 执行/ 转换/ 后/ 的/ 查询/ ,/ 返回/ 1/ 个/ 密文/ 结果/ 集/ ./ 结果/ 集中/ 包含/ 有/ 所有/ 的/ 正确/ 结果/ ,/ 同时/ 也/ 包含/ “/ 假/ 阳性/ ”/ 的/ 错误/ 结果/ ./ 随后/ 系统/ 通过/ 查询/ 处理器/ 解密/ 返回/ 的/ 结果/ 集/ 同时/ 剔除/ “/ 假/ 阳性/ ”/ 结果/ ./ 另外/ ,/ 客户端/ 需要/ 负责/ 密钥/ 的/ 管理/ 和/ 数据/ 的/ 加解密/ ,/ 由于/ 对列/ 或/ 整个/ 表/ 加密/ 将会/ 导致/ 数据/ 的/ 客户端/ 的/ 负担/ 非常/ 重/ ,/ 同时/ 对/ 每个/ 值/ 进行/ 加密/ 也/ 会/ 使得/ 客户端/ 的/ 加密/ 开销/ 很大/ ,/ 因此/ ,/ 本文/ 采用/ 行/ 加密/ 方式/ 对/ 数据/ 进行/ 加密/ ./ 密钥/ 的/ 管理/ 问题/ 不/ 属于/ 本文/ 讨论/ 范围/ ./ 2.2/ 安全/ 假设/ 在/ 本文/ 中/ ,/ 我们/ 主要/ 关注/ 的/ 攻击者/ 具有/ 比较/ 强/ 的/ 攻击能力/ ,/ 其/ 能够/ 攻入/ 数据库/ 服务器/ ,/ 并/ 能够/ 有权/ 访问/ DSP/ 端的/ 密文/ 数据库/ ./ 本文/ 的/ 攻击/ 与/ 信任/ 模型/ 如下/ :/ (/ 1/ )/ 假设/ 服务器/ 是/ 半/ 可信/ 的/ ,/ 即/ 其/ 能够/ 执行/ 用户/ 的/ 请求/ 及/ 安全策略/ ,/ 但是/ 会/ 对/ 用户/ 的/ 数据/ 及/ 用户/ 的/ 隐私/ 比较/ 好奇/ ,/ 但/ 却/ 不会/ 破坏/ 用户/ 数据/ 的/ 完整性/ ./ (/ 2/ )/ 我们/ 假设/ 用户/ 与/ DSP/ 之间/ 的/ 通信/ 信道/ 是/ 安全/ 的/ ,/ 比如/ 现有/ 的/ 安全/ 通信/ 机制/ (/ SSL/ 或/ IPsec/ )/ ,/ 同时/ 我们/ 信任/ 用户/ 的/ 前端/ ,/ 即/ 信任/ 前端/ 是/ 安全/ 的/ ./ (/ 3/ )/ 同时/ 为了/ 防止/ 攻击者/ 通过/ 日志/ 等/ 其他/ 方式/ 减成/ 了/ 一个/ 安全/ 存储/ 容器/ ,/ 然而/ 这样/ 违背/ 了/ 数据库/ 外包/ 的/ 初衷/ ./ 为了/ 提高/ 查询/ 的/ 效率/ ,/ 需要/ 服务端/ 能够/ 对/ 加密/ 数据/ 进行/ 查询处理/ ./ 间接/ 获取/ 用户/ 的/ 相关/ 信息/ ,/ 我们/ 对/ 所有/ 的/ 日志/ 信息/ 、/ 用户/ 数据/ 、/ 数据库/ 模式/ 文件/ 等/ 相关/ 文件/ 进行/ 加密/ 存放/ ./ (/ 4/ )/ 假设/ 采用/ 加密算法/ 是/ 不/ 可能/ 被/ 强行/ 暴力破解/ 的/ ./ 2.3/ 区间/ 查询/ 的/ 理论/ 分析/ 接下来/ ,/ 本文/ 着重/ 研究/ 范围/ 查询/ 的/ 加密/ 索引/ 的/ 建立/ ./ 在/ 文献/ [/ 6/ ]/ 中/ 介绍/ 了/ 通过/ 对/ 敏感数据/ 域/ 进行/ 划分/ ,/ 并/ 为/ 每/ 一个/ 条目/ 分配/ 一个桶/ id/ ,/ 这/ 就是/ 该/ 条目/ 对应/ 的/ 加密/ 索引/ 值/ ./ 如/ 原始/ 表记/ 为/ R/ ,/ 服务器端/ 的/ 表/ 将/ 只/ 包含/ 数据库/ 加密/ 的/ 元组/ (/ etuple/ )/ 和/ 相应/ 的/ 桶/ id/ ./ 下面/ 给出/ 例子/ 说明/ :/ 表/ 1/ 和表/ 2/ 分别/ 展示/ 了/ 加密/ 前/ 的/ 明文/ 格式/ 和/ 加密/ 后/ 的/ 密文/ 存储/ 格式/ ./ 表/ 2/ 中/ 服务端/ 只能/ 看到/ 数据/ 段/ 的/ 加密/ 数据/ 和/ 加密/ 索引/ (/ 如/ AS/ ,/ BS/ )/ ./ 针对/ age/ 属性/ 将/ [/ 25/ ,/ 30/ ]/ 之间/ 划分/ 为/ a1/ 号/ 桶/ ,/ 而/ 将/ (/ 30/ ,/ 60/ ]/ 划分/ 为/ a2/ 号/ 桶/ ;/ 针对/ salary/ 属性/ 将/ [/ 4500/ ,/ 4900/ ]/ 划分/ b1/ 号/ 桶/ ,/ 将/ [/ 5000/ ,/ 6500/ ]/ 划分/ 为/ b2/ 号/ 桶/ ./ 因此/ ,/ 查询/ 时/ 一般/ 的/ 查询/ 将/ 被/ 转换成/ 针对/ 加密/ 索引/ 的/ 查询/ ./ 如/ 下面/ 的/ SQL/ 查询/ 语句/ eid654700750775etuple01101010011011100111000111110010Page4Selectname/ ,/ agefromRwhereR/ ./ B/ >/ =/ 5000/ 经过/ 查询/ 转换/ 转化成/ 下面/ 的/ 查询/ 语句/ SelectetuplefromRSwhereRS/ ./ BS/ =/ b2/ 其中/ b1/ ,/ b2/ 是/ 敏感数据/ 属性/ salary/ 的/ 桶/ 编号/ ./ 这种/ 方法/ 所/ 返回/ 的/ 结果/ 一般/ 是/ 正确/ 结果/ 的/ 超集/ ,/ 意味着/ 返回/ 的/ 结果/ 中/ 含有/ 不/ 满足/ 查询/ 条件/ 的/ 记录/ ./ 为了/ 过滤/ 出/ 这些/ 记录/ ,/ 在/ 客户端/ 需要/ 将/ 返回/ 的/ 结果/ 解密/ 成/ 明文/ ,/ 然后/ 根据/ 原始/ 的/ 查询/ 标准/ 对/ 明文/ 再次/ 查询/ 得到/ 正确/ 结果/ ./ 这种/ 方式/ 也/ 会/ 出现/ 查询/ 效率/ 与/ 隐私/ 保护/ 的/ 平衡/ 问题/ ./ 例如/ 当桶/ 的/ 总/ 数量/ 很少/ 而/ 每个/ 桶/ 内/ 数值/ 非常/ 大/ 的/ 时候/ ,/ 只会/ 泄露/ 很少/ 的/ 信息/ ,/ 然而/ 数据/ 需要/ 返回/ 许多/ 的/ 假/ 阳性/ 的/ 结果/ (/ 极端/ 情况/ 下/ 相当于/ 将/ 整个/ 数据库/ 返回/ 给/ 用户/ )/ ,/ 客户端/ 的/ 通信/ 开销/ 和/ 计算/ 开销/ 都/ 较大/ ./ 当桶/ 的/ 数量/ 较/ 多/ 每个/ 桶/ 的/ 数据量/ 较/ 少/ ,/ 虽然/ 提高/ 了/ 查询/ 精度/ ,/ 然而/ 却/ 增加/ 了/ 隐私/ 泄露/ 的/ 风险/ ,/ 极端/ 情况/ 下/ 相当于/ 每个/ 值/ 分为/ 一个桶/ ./ 因此/ ,/ 客户端/ 的/ 桶/ 划分算法/ 的/ 目标/ 就/ 在于/ 如何/ 平衡/ 隐私/ 泄露/ 风险/ 与/ 数据/ 的/ 查询/ 精准/ 性/ ,/ 从而/ 提高/ 查询/ 效率/ 和/ 降低/ 隐私/ 泄露/ 风险/ ,/ 增强/ 对/ 推理/ 攻击/ 的/ 抵抗能力/ ./ 在/ 本文/ 中/ 我们/ 只/ 介绍/ 单一/ 属性/ 上/ 的/ 桶/ 划分算法/ ,/ 多/ 属性/ 的/ 桶/ 划分算法/ ,/ 只是/ 分别/ 对/ 不同/ 的/ 属性/ 分别/ 进行/ 桶/ 划分算法/ ./ 接下来/ ,/ 我们/ 首先/ 提出/ 桶/ 划分/ 方案/ 查询/ 效率/ 的/ 模型/ ,/ 并/ 对此/ 模型/ 提出/ 查询/ 优化/ 算法/ ,/ 具体/ 介绍/ 单一/ 属性/ 上/ 的/ 桶/ 划分算法/ ,/ 而后/ 对/ 查询/ 过程/ 中/ 的/ 可能/ 出现/ 隐私/ 泄露/ 分析/ ,/ 并/ 提出/ 相应/ 的/ 隐私/ 指标/ ./ 最后/ 在/ 此/ 隐私/ 指标/ 的/ 基础/ 之上/ 对/ 查询/ 精准度/ 算法/ 进行/ 改进/ ,/ 从而/ 达到/ 在/ 密文/ 情况/ 下/ 数据/ 查询/ 的/ 精准/ 性/ 与/ 隐私/ 安全/ 的/ 平衡/ ./ 3/ 面向/ 精准度/ 的/ 智能化/ 桶/ 划分算法/ 3.1/ 基础/ 模型/ 构建/ 为了/ 简化/ 分析/ ,/ 本文/ 的/ 桶/ 划分算法/ 的/ 研究/ 对象/ 主要/ 是/ 数值/ 型/ 的/ 离散/ 域/ ,/ 如/ 整数/ Z/ ./ 假设/ 关系/ 为/ R/ =/ (/ V/ ,/ F/ )/ ,/ 其中/ V/ 是/ 不同/ 的/ 数值/ ,/ 在/ 敏感/ 属性/ 域/ 中/ 每个/ 数值/ 至少/ 出现/ 了/ 一次/ ./ F/ 是/ 每个/ 数值/ 对应/ 的/ 频数/ ./ P/ 是/ 范围/ 查询/ Q/ 的/ 分布/ ./ 使用/ 最优/ 桶/ 划分算法/ 将/ R/ 划分/ 到/ M/ 个/ 桶/ 中/ ,/ 确保/ 所有/ 的/ 范围/ 查询/ 的/ “/ 假/ 阳性/ ”/ 错误/ 总数/ 最小/ ./ 具体/ 的/ 概念/ 详见/ 表/ 3/ ./ 符号/ Vmin/ 给定/ 属性/ 的/ 最小/ 取值/ Vmax/ 给定/ 属性/ 的/ 最大/ 取值/ N/ 不同/ 值/ 的/ 个数/ R/ 明文/ 关系/ |/ R/ |/ 关系/ R/ 的/ 元组/ 个数/ V/ [/ Vmin/ ,/ Vmax/ ]/ 区间/ 内/ 所有/ 的/ 出现/ 的/ 数值/ 的/ 集合/ F/ [/ Vmin/ ,/ Vmax/ ]/ 区间/ 内/ 所有/ 出现/ 的/ 数值/ 对应/ 的/ 频数/ nn/ =/ |/ V/ |/ =/ |/ F/ |/ RS/ 加密/ 的/ 关系/ 表/ M/ 桶/ 的/ 数目/ QR/ 上/ 的/ 所有/ 范围/ 查询/ 的/ 集合/ qq/ 是/ Q/ 中/ 随机/ 的/ 一个/ 查询/ q/ =/ [/ low/ ,/ high/ ]/ ,/ 其中/ low/ ,/ high/ ∈/ [/ Vmin/ ,/ Vmax/ ]/ Q/ 桶/ 级别/ 的/ 查询/ 的/ 集合/ qq/ 是/ 桶/ 级别/ 查询/ 集合/ Q/ 中/ 的/ 随机/ 查询/ T/ (/ q/ )/ T/ (/ q/ )/ 是/ 转换/ 函数/ ,/ 它/ 将/ 原始/ 查询/ q/ ∈/ Q/ 转换成/ 桶/ 查询/ q/ ∈/ Q/ 为了/ 简化/ 模型/ ,/ 本文/ 主要/ 考虑/ 查询/ 分布/ 为/ 均匀分布/ 的/ 情况/ ./ 因此/ ,/ 密文/ 数据/ 划分/ 为/ M/ 桶/ 的/ 情况/ 下/ ,/ 所有/ 的/ 可能/ 的/ 查询/ 概率/ 相同/ 且/ 为/ 2/ 的/ C2n/ =/ 假设/ 每个/ 桶/ 的/ 密文/ 元组/ 规模/ 为/ N1/ ,/ N2/ ,/ …/ ,/ NM/ ,/ 针对/ 任意/ K/ 个/ 查询/ ,/ 每次/ 查询/ 返回/ 的/ 正确/ 结果/ 为/ C1/ ,/ C2/ ,/ …/ ,/ CK/ ,/ K/ 次/ 查询/ 返回/ 的/ 元组/ 总数/ 为/ T1/ ,/ T2/ ,/ …/ ,/ TK/ ,/ 因此/ ,/ 查询/ 的/ 平均/ 查询/ 准确度/ (/ QueryAccuracy/ )/ 如式/ (/ 1/ )/ 所示/ QA/ =/ 其中/ 假/ 阳性/ 值/ (/ TotalnumberofFalsePositive/ )/ 错误/ 总数/ 如式/ (/ 2/ )/ 所示/ 因此/ ,/ 根据/ 式/ (/ 1/ )/ 和/ (/ 2/ )/ 可知/ ,/ 为了/ 提高/ 查询/ 精度/ ,/ 提高/ 密文/ 的/ 查询/ 效率/ 需要/ 最小化/ “/ 假/ 阳性/ ”/ 错误/ 总数/ ./ 首先/ 考虑/ 关系/ 的/ 单个/ 属性/ 的/ 情况/ ,/ 这个/ 属性/ 的/ 值域/ 是/ 有序/ 的/ 离散/ 域/ ,/ 在/ 本文/ 中/ ,/ 属性/ 值域/ 假设/ 为/ 非负/ 整数/ 域/ ./ 针对/ 桶/ i/ ,/ 假设/ 其中/ 有/ Ni/ 个/ 不同/ 的/ 值/ ,/ Vi/ 代表/ 分布/ 在/ 桶/ i/ 的/ 数据/ 集合/ ,/ Fi/ =/ {/ fPage5/ 为/ Vi/ 中/ 对应/ 的/ Ni/ 值/ 的/ 频数/ ./ 在/ 查询/ 的/ 一端/ 落/ 在/ 桶/ i/ 的/ 情况/ 下/ ,/ 接下来/ 建立/ 桶/ i/ 的/ “/ 假/ 阳性/ ”/ 错误/ 总数/ (/ TFP/ )/ 模型/ ./ 定义/ 1/ ./ 假设/ 查询/ 的/ 最小/ 端/ 位于/ 桶/ i/ 的/ qi/ 的/ 集合/ 记/ Qi/ ,/ 其中/ qi/ =/ [/ l/ ,/ h/ ]/ ,/ l/ ∈/ Vi/ ,/ 即/ viQi/ 中/ 查询/ 的/ 右端/ h/ 位于/ 第/ i/ 个/ 到/ 第/ M/ 个桶/ 之间/ 的/ 任何/ 一个桶/ 中/ ./ 在/ 该/ 情况/ 下/ ,/ 任意/ 两个/ 桶/ 之间/ 没有/ 范围/ 交集/ ,/ 即/ 任意/ 桶/ 中/ 不/ 存在/ 值/ vivik/ / vi/ 同时/ 满足/ 桶/ [/ 1/ ,/ 3/ ]/ ,/ [/ 2/ ,/ 4/ ]/ 的/ 范围/ )/ ,/ 整个/ 划分/ 的/ TFP/ 是/ 相对/ 最小/ 的/ ./ max/ ;/ (/ 2/ )/ vj/ 针对/ 上述/ 命题/ ,/ 用/ 反证法/ 证明/ ,/ 假设/ 在/ 桶/ i/ ,/ j/ 之间/ 存在/ 空间/ 交集/ 的/ 情况/ 下/ ,/ 即/ 存在/ l/ / vi/ 足/ 上述/ 条件/ a/ 和/ b/ ,/ 且/ TFP/ 的/ 值/ 最小/ ./ 针对/ l/ 落/ 在/ 桶/ i/ 的/ 任意/ 查询/ q/ ,/ 其/ h/ 端/ 位于/ 桶/ x/ 中时/ ,/ 因此/ 需要/ 对桶/ i/ 和/ x/ 之间/ 的/ 桶/ 进行/ 查询/ ,/ 同时/ 还要/ 取出/ vi/ 桶/ j/ (/ 桶/ j/ 不/ 位于/ 桶/ i/ 和/ x/ 之间/ )/ ,/ 所以/ 针对/ 查询/ 的/ 整个/ 划分/ 方案/ 的/ TFP/ 为/ Ui/ +/ Ux/ +/ TFP/ (/ j/ )/ ,/ 其中/ Ui/ 为桶/ i/ 中/ l/ 离桶/ i/ 中/ 最小值/ 之间/ 的/ 值/ 的/ 频数/ 之/ 和/ ,/ UM/ 为/ h/ 离桶/ M/ 最大值/ 之间/ 的/ 值/ 的/ 个数/ (/ 频数/ 之/ 和/ )/ ,/ TFP/ (/ j/ )/ 为桶/ j/ 的/ TFP/ ./ 然而/ 当/ 将/ vi/ 中时/ ,/ TFP/ 仅为/ Ui/ +/ Ux/ ,/ 因此/ ,/ 假设/ 不/ 成立/ ,/ 定义/ 1/ 成立/ ./ 当/ 任意/ 两个/ 桶/ 之间/ 不/ 存在/ 范围/ 交集/ 的/ 情况/ 下/ ,/ 且/ 桶/ 按照/ 由小到大/ 的/ 顺序排列/ ./ 为了/ 计算/ 整个/ 方案/ 的/ TFP/ ,/ 我们/ 以/ 查询/ 为/ 着手/ 点/ ,/ 分析/ 在/ 这些/ 查询/ 的/ 情况/ 下/ 每个/ 桶/ 内部/ 的/ TFP/ 情况/ ./ 假设/ Qt/ 为/ 长度/ 为/ k/ 的/ 查询/ 集/ ,/ 其中/ qk/ =/ [/ left/ ,/ right/ ]/ 为/ 查询/ 区间/ 为/ k/ 的/ 任意/ 随机/ 查询/ ,/ 因此/ ,/ 所有/ 长度/ 为/ k/ 且/ 与/ 桶/ i/ 有/ 交集/ 的/ 个数/ 为/ Ni/ +/ k/ -/ 1/ ./ 然而/ 针对/ 其中/ 任意/ 元素/ e/ 而言/ ,/ 仅/ 有/ k/ 个/ 查询/ 与/ 元素/ e/ 有/ 交集/ ,/ 对于/ 另外/ 的/ Ni/ -/ 1/ 个/ 查询/ 而言/ ,/ 其/ 作为/ 假/ 阳性/ 值/ 返回/ ./ 然而/ ,/ 对于/ 同时/ 跨越/ 两个/ 不同/ 的/ 桶/ 的/ qk/ ,/ 其/ 对/ 假/ 阳性/ 值/ 的/ 贡献/ 也/ 分为/ 两/ 部分/ ./ 因此/ ,/ 当/ 遍历/ 所有/ 的/ 查询/ 请求/ qk/ 时/ ,/ 其/ 对应/ 假/ 阳性/ 值如表/ 4/ 所示/ ./ 从表/ 4/ 中/ 可以/ 看出/ 每个/ 查询/ 的/ 条件/ 概率/ 均/ 为/ 1Ni/ +/ k/ -/ 1/ 的/ 个数/ 为/ Ni/ +/ k/ -/ 1/ ,/ 且/ 这些/ 查询/ 又/ 是/ 等/ 概率/ ./ 因此/ ,/ 在/ 查询/ 长度/ 固定/ 的/ 情况/ 下/ ,/ 对于/ 所有/ 交集/ 的/ qk/ 的/ 假/ 阳性/ 值/ 之/ 和/ 为/ 情况/ 下桶/ i/ 的/ 假/ 阳性/ 值如式/ (/ 3/ )/ 所示/ ./ High/ 位置/ 为/ i/ 桶/ 的/ 第/ 1/ 个值/ 为/ i/ 桶/ 的/ 第/ 2/ 个值/ 为/ i/ 桶/ 的/ 第/ 3/ 个值/ 为/ i/ 桶/ 的/ 第/ k/ +/ 1/ 个值/ 为/ i/ 桶/ 的/ 第/ Ni/ 个值/ TFP/ (/ i/ )/ =/ pQ/ ·/ pi/ ·/ 其中/ pQ/ 为/ 长度/ 为/ k/ 的/ 查询/ 占/ 所有/ 的/ 查询/ 的/ 比例/ ,/ pi/ 为/ 与/ 桶/ i/ 有/ 交集/ 的/ 且/ 查询/ 区间/ 为/ k/ 的/ 查询/ 占/ 所有/ 长度/ 为/ k/ 的/ 查询/ 的/ 比例/ ./ 式/ (/ 3/ )/ 中/ 的/ 假/ 阳性/ 主要/ 包含/ 两/ 部分/ ,/ 其中/ 一部分/ 是/ 整个/ 查询/ 请求/ 位于/ 桶/ i/ 内部/ ;/ 另外/ 一部分/ 是/ 查询/ 请求/ 跨越/ 桶/ i/ 和/ 其他/ 的/ 桶/ j/ ,/ 在/ 式/ (/ 3/ )/ 中仅/ 计算/ 了/ 对/ 桶/ i/ 的/ 影响/ ,/ 另外/ 一部分/ 对桶/ j/ 的/ 影响/ 将/ 在/ 桶/ j/ 的/ TFP/ 中/ 体现/ 出来/ ./ 因此/ ,/ 整个/ 方案/ 的/ 假/ 阳性/ 值/ 等价/ 为/ 所有/ 长度/ 的/ 查询/ 请求/ 带来/ 的/ 假/ 阳性/ 值/ ,/ 其为/ 所有/ 桶/ 的/ 假/ 阳性/ 值/ 相加/ ,/ 具体/ 如式/ (/ 4/ )/ 所示/ 通过/ 式/ (/ 4/ )/ 可知/ ,/ 由于/ N/ 为/ 总/ 的/ 值/ 的/ 数目/ ,/ 针对/ 具体/ 的/ 数据/ 集/ 而言/ 是/ 一个/ 固定值/ ,/ 因此/ 为了/ 降低/ 查询/ 的/ “/ 假/ 阳性/ ”/ 错误/ 以/ 提高/ 密文/ 查询/ 的/ 准确率/ ,/ 需要/ 对/ 所有/ 桶/ 的/ NiFi/ 之/ 和/ 进行/ 最小/ 最优化/ ./ 3.2/ 面向/ 精准度/ 的/ 智能/ 桶/ 划分算法/ 为了/ 降低/ 查询/ 中/ 的/ “/ 假/ 阳性/ ”/ 错误/ ,/ 需要/ 对/ MNiFi/ 进行/ 最小化/ 处理/ ./ 该/ 问题/ 可以/ 归结为/ 是/ 集合/ ∑/ i/ =/ 1/ 划分/ 的/ 问题/ ,/ 将/ 元素/ 划分/ 在/ 不同/ 的/ 数据/ 集合/ 中/ 确保/ “/ 假/ 阳性/ ”/ 目标/ 函数/ 最小/ ./ 集合/ 划分/ 问题/ 在/ 数学/ 上/ 是/ 十分困难/ 的/ 问题/ ,/ 也/ 是/ 经典/ 的/ NP/ -/ hard/ 问题/ [/ 11/ -/ 14/ ]/ ,/ Page6/ 因此/ 不/ 可能/ 在/ 多项式/ 的/ 时间/ 内/ 计算/ 出/ 最优/ 值/ ,/ 因此/ 本文/ 采用/ 遗传算法/ 启发式/ 思想/ 设计/ 了/ 面向/ 精准度/ 的/ 智能/ 桶/ 划分算法/ (/ Precision/ -/ OrientedIntelligentPartitioningAlgorithm/ ,/ POIPA/ )/ 来/ 优化/ 该/ 假/ 阳性/ 指标/ ,/ 进而/ 优化/ 查询/ 精准度/ ,/ 给出/ 查询/ 方案/ ./ (/ 1/ )/ 适应度/ 函数/ 由于/ 遗传算法/ 适合/ 求/ 目标/ 函数/ 的/ 最大值/ ,/ 同时/ 本文/ 研究/ 的/ 范围/ 为/ 正整数/ 范围/ ,/ Ni/ ·/ Fi/ 一定/ 为/ 正数/ 因此/ ,/ 本文/ 的/ 假/ 阳性/ 模型/ 进行/ 取倒/ ,/ 适应/ 值/ 的/ 范围/ 在/ [/ 0/ ,/ 1/ ]/ 之间/ ,/ 具体/ 形式/ 如式/ (/ 5/ )/ 所示/ 其中/ X/ =/ {/ x1/ ,/ x2/ ,/ …/ ,/ xN/ }/ 表示/ 桶/ 的/ 划分/ 方案/ ,/ xi/ 表示/ 第/ i/ 个/ Vi/ 值/ 所/ 对应/ 的/ 桶/ 的/ 标号/ ,/ 且/ 集合/ V/ 中/ 数值/ 均/ 是/ 按照/ 由小到大/ 的/ 顺序/ 进行/ 排列/ ./ (/ 2/ )/ 基因/ 表示/ POIPA/ 算法/ 的/ 最优化/ 问题/ MaxFit/ (/ X/ )/ ,/ 其/ 变量/ 可以/ 采用/ 二进制/ 编码/ 来/ 表示/ 染色体/ ./ 数字串/ 的/ 位数/ 取决于/ 变量/ 的/ 取值/ 范围/ 以及/ 期望/ 达到/ 的/ 精度/ ./ 针对/ 整数/ 区域/ 的/ 最大值/ 求解/ 问题/ ,/ 除了/ 二进制/ 编码/ 之外/ ,/ 还有/ 一种/ 十进制/ 编码/ ,/ 这/ 两种/ 编码方式/ 各有/ 优缺点/ ./ 然而/ ,/ 在/ 本/ 模型/ 中/ ,/ 在/ 桶/ 的/ 数目/ 不为/ 2n/ 的/ 情况/ 下/ ,/ 迭代/ 的/ 过程/ 中/ 会/ 消耗/ 大量/ 的/ 计算资源/ 和/ 空间/ 进行/ 判断/ 交叉/ 变异/ 后/ 种群/ 的/ 合法性/ ,/ 因此/ ,/ 本文/ 采用/ 十进制/ 编码/ ./ 在/ 基因/ 中/ 采用/ 一个/ 十进制/ 位/ 表示/ 一个/ 变量/ ,/ 从而/ 确保/ 每个/ Vi/ 只会/ 出现/ 在/ 一个桶/ 中/ ,/ 具体/ 的/ 表现/ 方式/ 如图/ 2/ 所示/ ./ (/ 3/ )/ 算法/ 过程/ 遗传算法/ 的/ 初始/ 种群/ 是/ 均匀分布/ ,/ 若/ 单纯/ 利用/ POIPA/ 方法/ 调整/ 桶/ 的/ 划分/ 需要/ 较长时间/ ,/ 不利于/ 服务质量/ 的/ 稳定/ ./ 因此/ ,/ 为/ 加快/ 密文/ 分段/ 的/ 划分/ ,/ 种群/ 初始化/ 时/ 将/ equi/ -/ width/ 方法/ 划分/ 得到/ 的/ 划分/ 机制/ 作为/ 初始/ 种群/ 的/ 一个/ 染色体/ ,/ 再/ 利用/ POIPA/ 方法/ 进行/ 动态/ 调整/ 和/ 优化/ ,/ 在/ 优化/ 的/ 过程/ 中/ 利用/ 精英/ 保留/ 策略/ ,/ 将/ 父代/ 最优/ 的/ 值/ 传递/ 子代/ 中/ 直到/ 目标/ 函数/ 达到/ 最优/ ./ 具体/ 的/ 算法/ 如/ 算法/ 1/ 所示/ ./ 算法/ 1/ ./ 面向/ 精准度/ 的/ 智能/ 桶/ 划分算法/ ./ 函数/ 原型/ BestBucketPartition/ (/ intbucketNum/ ,/ int/ [/ ]/ value/ ,/ int/ [/ ]/ freq/ )/ 输入/ :/ 划分/ 后桶/ 的/ 数目/ bucketNum/ 、/ 敏感/ 属性/ 的/ 不同/ 取/ 输出/ :/ 最佳/ 分桶/ 方案/ 1/ ./ initialPopulation/ (/ PopSize/ )/ ;/ 2/ ./ for/ (/ i/ =/ 0/ ;/ i/ </ MaxPopulation/ ;/ i/ ++/ )/ {/ 3/ ./ select/ (/ ipop/ ,/ lastBest/ ,/ curBest/ )/ ;/ 4/ ./ Crossover/ (/ ipop/ ,/ crossPara/ )/ ;/ 5/ ./ Mutation/ (/ ipop/ ,/ MutationPara/ )/ ;/ 6/ ./ Elite/ (/ )/ ;/ // // 利用/ 父代/ 的/ 最佳值/ 替换/ 子代/ 中/ 最/ 差值/ 7/ ./ ReturnBest/ ;/ }/ 8/ ./ voidselect/ (/ String/ [/ ]/ ipop/ ,/ BestlastBest/ ,/ 9/ ./ for/ (/ inti/ =/ 0/ ;/ i/ </ popNum/ ;/ i/ ++/ )/ 10/ ./ evals/ [/ i/ ]/ =/ calculatefitnessvalue/ (/ ipop/ [/ i/ ]/ )/ ;/ 11/ ./ generateNextPop/ (/ evals/ ,/ nextpop/ )/ ;/ // // 轮盘/ 选择/ 法/ 12/ ./ ipop/ =/ nextpop/ ;/ 13/ ./ if/ (/ generation/ >/ =/ 1/ )/ {/ // // 运行/ 的/ 代数/ 大于/ 114/ ./ Worst/ =/ FindWorst/ (/ ipop/ )/ ;/ // // 找出/ 本代/ 最/ 差值/ 15/ ./ Worst/ =/ Best/ ;/ }/ 16/ ./ voidElite/ (/ )/ {/ // // 17/ ./ curBest/ =/ findcurBest/ (/ ipop/ )/ ;/ 18/ ./ if/ (/ Best/ ./ fitness/ </ curBest/ ./ fitness/ )/ 19/ ./ Best/ =/ CurBest/ ;/ }/ 注/ ./ Best/ 为/ 全局/ 最优/ 划分/ ,/ curBest/ 为/ 本代/ 最优/ 划分/ ./ POIPA/ 算法/ 中/ 的/ 种群/ 初始化/ 为了/ 加快/ 收敛/ 速度/ ,/ 构建/ PopSize/ 个/ 个体/ ./ 初始化/ 函数/ 是/ 利用/ 随机数/ 生成器/ ,/ 为/ 每个/ 个体/ 生成/ popNum/ 个/ [/ 0/ ,/ bucketNum/ )/ 之间/ 的/ 正整数/ ,/ 形成/ 染色体/ 方案/ ./ 在/ 初始化/ 的/ 过程/ 中/ ,/ 将/ equi/ -/ width/ 方案/ 作为/ 种群/ 的/ 一个/ 染色体/ ,/ 即将/ value/ 集合/ 的/ 值/ 按照/ 顺序/ 进行/ 均匀/ 划分/ 到/ bucketNum/ 个/ 桶/ 中/ ./ 初始化/ 种群/ 之后/ ,/ 计算/ 本代中/ 所有/ 染色/ 的/ 适应/ 值/ (/ 参照/ 式/ (/ 5/ )/ )/ ,/ 然后/ 根据/ 计算/ 出/ 每个/ 个体/ 的/ 适应/ 值/ 与/ 整个/ 种群/ 的/ 适应/ 值/ 的/ 比值/ ,/ 并/ 随机/ 产生/ (/ 0/ ,/ 1/ )/ 之间/ 的/ 浮点数/ 确定/ 选用/ 哪个/ 染色体/ ./ 同时/ 为了/ 确保/ 收敛/ Page7/ 速度/ ,/ 采用/ 了/ 精英/ 保留/ 策略/ ,/ 通过/ 将/ 选择/ 出来/ 的/ 新/ 种群/ 中/ 的/ 最差/ 的/ 染色体/ 方案/ 替换/ 为/ 全局/ 最优/ 的/ 染色体/ 方案/ ,/ 这样/ 将/ 全局/ 最优/ 的/ 染色体/ 方案/ 能够/ 进行/ 杂交/ 和/ 变异/ ,/ 进而/ 在/ 此/ 个体/ 之上/ 产生/ 更加/ 优秀/ 的/ 子代/ 个体/ ./ 在/ 选择/ 出/ 适应/ 值好/ 的/ 父代/ 之后/ ,/ 根据/ 交叉/ 因子/ 确定/ 杂交/ 对数/ ,/ 然后/ 随机/ 选择/ 一对/ 个体/ ,/ 进行/ 单点/ 交叉/ ,/ 形成/ 中间/ 种群/ ,/ 而后/ 在/ 中间/ 种群/ 中/ ,/ 随机/ 抽取/ (/ 变异/ 因子/ / PopSize/ )/ 个/ 个体/ ,/ 然后/ 在/ 选择/ 的/ 个体/ 中/ 随机/ 选择/ 一个/ 基因/ 位/ 在/ [/ 0/ ,/ bucketNum/ )/ 之间/ 进行/ 随机/ 变异/ ./ 由于/ 初始化/ 的/ 过程/ 将/ equi/ -/ width/ 方案/ 加入/ 了/ 种群/ ,/ 因此/ 需要/ 加大/ 变异/ 因子/ ,/ 以免/ 陷入/ 局部/ 的/ 最优/ 方案/ 中/ ./ 在/ 完成/ 交叉/ 变异/ 之后/ ,/ 查找/ 出/ 子代/ 中/ 最好/ 的/ 个体/ 并/ 与/ 全局/ 最优/ 方案/ 比较/ ,/ 选出/ 两者/ 中/ 最好/ 的/ 个体/ 作为/ 新/ 全局/ 最优/ 方案/ ./ POIPA/ 算法/ 的/ 时间/ 复杂度/ 是/ O/ (/ n/ / popNum/ )/ ,/ 外层/ 循环/ 是/ 遗传算法/ 的/ 经历/ 的/ 代数/ ,/ 内层/ 循环/ 次数/ 是/ 总群/ 的/ 个数/ (/ 总群/ 个数/ 是/ 常值/ )/ ./ 每/ 一代/ 中/ 的/ 选择/ 、/ 交叉/ 、/ 变异/ 等/ 操作/ 都/ 会/ 花费/ O/ (/ popNum/ )/ 时间/ ./ 算法/ 的/ 空间/ 复杂度/ 是/ O/ (/ n/ )/ ,/ 主要/ 是/ 来自/ 于/ 存放/ 染色体/ 的/ 空间/ ./ 4/ 面向/ 隐私/ 保护/ 的/ 智能化/ 桶/ 划分算法/ 4.1/ 攻击/ 模型/ 上/ 一节/ 中/ 提出/ 的/ 介绍/ 的/ 提高/ 精准/ 性/ 的/ 查询/ 的/ 优化/ 算法/ ,/ 虽然/ 能够/ 有效/ 地/ 提高/ 查询/ 的/ 精准度/ ,/ 然而/ ,/ 在/ 一定/ 程度/ 上/ 威胁/ 到/ 了/ 数据/ 的/ 隐私/ 安全/ ./ 其/ 构建/ 的/ 索引/ 是/ 建立/ 明文/ 与/ 密文/ 之间/ 的/ 桥梁/ ,/ 这种/ 对应/ 于/ 映射/ 关系/ 很/ 可能/ 为/ 推理/ 攻击/ 以及/ 数据分析/ 等/ 攻击/ 技术/ 提供/ 了/ 数据库/ 内容/ 重构/ 及/ 破解/ 索引/ 含义/ 的/ 可能性/ ./ 因此/ ,/ 评估/ 和/ 量化/ 公开/ 的/ 信息/ 或/ 索引/ 的/ 信息/ 泄露/ 的/ 系数/ 是/ 非常/ 重要/ 的/ ,/ 这/ 将/ 为/ 桶/ 划分/ 的/ 方案/ 的/ 查询/ 效率/ 与/ 隐私/ 安全/ 的/ 均衡/ 提供/ 很/ 重要/ 的/ 依据/ ./ 针对/ DAAS/ 的/ 推理/ 攻击/ 主要/ 分为/ 两大类/ [/ 15/ ]/ ,/ 其/ 主要/ 是/ 根据/ 攻击者/ 的/ 先验/ 知识/ 程度/ 不同/ 的/ 进行/ 分类/ ,/ 然而/ 在/ 这/ 两种/ 的/ 情况/ 下/ 攻击者/ 对/ 密文/ 数据/ 均/ 具有/ 绝对/ 的/ 控制权/ ./ 第/ 1/ 种/ 推理/ 攻击/ 在/ 攻击者/ 仅/ 知道/ 数据库/ 中/ 的/ 数据/ 频数/ 以及/ 数据库/ 的/ 密文/ 来/ 进行/ 攻击/ ,/ 这种/ 称为/ Freq/ -/ attack/ ./ 这种/ 场景/ 下/ ,/ 攻击者/ 对/ 数据库/ 中/ 明文/ 数据/ 的/ 分布/ 规律/ 非常/ 了解/ ,/ 这种/ 分布/ 可以/ 是/ 具体/ 的/ ,/ 比如/ 存放/ 用户/ 薪资/ 的/ 数据库/ 的/ 薪资/ 频数/ ,/ 当然/ 也/ 可以/ 是/ 近似/ 的/ ./ 在/ 本文/ 中/ ,/ 我们/ 考虑/ 攻击者/ 知道/ 数据库/ 的/ 具体/ 频数/ 这种/ 比较/ 强/ 的/ 攻击方式/ ./ 在/ 这种/ 情况/ 下/ ,/ 攻击者/ 攻击/ 的/ 对象/ 主要/ 是/ 两种/ :/ 第/ 1/ 种/ 是/ 对/ 明文/ 数据/ 的/ 攻击/ ,/ 即/ 通过/ 掌握/ 的/ 数据库/ 的/ 分布/ ,/ 去/ 猜测/ 具体/ 某个/ 密文/ 的/ 值/ ;/ 第/ 2/ 种/ 是/ 对/ 索引/ 的/ 攻击/ ,/ 即/ 根据/ 映射/ 关系/ ,/ 推导/ 出/ 明文/ 与/ 索引/ 之间/ 的/ 对应/ 关系/ ,/ 从而/ 分析/ 出/ 数据库/ 的/ 密文/ 以及/ 用户/ 的/ 隐私/ ./ 第/ 2/ 种/ 推理/ 攻击/ 在/ 攻击者/ 知道/ 数据库/ 的/ 明文/ 与/ 密文/ 来/ 进行/ 攻击/ ,/ 即/ 攻击者/ 知道/ 原始/ 数据库/ 的/ 明文/ 以及/ 密文/ 数据库/ ,/ 却/ 不/ 知道/ 明文/ 与/ 密文/ 之间/ 的/ 对应/ 关系/ (/ 索引/ )/ ./ 因此/ ,/ 这种/ 情况/ 下/ ,/ 攻击者/ 需要/ 攻击/ 的/ 是/ 对/ 索引/ 与/ 明文/ 的/ 对应/ 关系/ 进行/ 攻击/ ,/ 从而/ 来/ 明确/ 掌握/ 用户/ 新/ 插入/ 数据/ 的/ 含义/ 及/ 意义/ ./ 然而/ 这种/ 攻击方式/ 的/ 条件/ 太强/ ,/ 不/ 属于/ 本文/ 的/ 考虑/ 范围/ ./ Freq/ -/ attack/ 推理/ 攻击/ 也/ 分为/ 简单/ 的/ 推理/ 攻击/ 和/ 利用/ 统计/ 的/ 推理/ 攻击/ ./ 简单/ 的/ 推理/ 攻击/ 的/ 依据/ 主要/ 是/ 通过/ 索引/ 的/ 相同/ 个数/ 以及/ 密文/ 的/ 相同/ 个数/ 来/ 确定/ ./ 例如/ :/ 针对/ 那些/ 直接/ 对/ 密文/ 进行/ 一一对应/ 建立/ 索引/ 的/ 情况/ ,/ 如果/ 某/ 敏感/ 属性/ 的/ 索引/ 值/ 完全相同/ ,/ 推断出/ 这/ 两个/ 数字/ 的/ 明文/ 相同/ ,/ 再/ 结合/ 数据/ 的/ 分布/ 情况/ 就/ 可以/ 推断出/ 其中/ 出现/ 次数/ 较/ 多/ 的/ 数据/ ./ 密文/ 数据库/ 的/ 简单/ 推理/ 攻击/ 等价/ 于/ 根据/ 索引/ 出现/ 次数/ 将/ 其/ 归/ 为/ 同一个/ 等价/ 类中/ ./ 下面/ 以/ 2.3/ 节中/ 的/ 案例/ 进行/ 推理/ 分析/ ./ age/ ./ 2/ =/ a1/ ,/ a/ {/ salary/ ./ 2/ =/ b1/ ,/ b/ {/ }/ 2/ =/ 5000/ ,/ 4500/ ,/ 4700/ ,/ 在/ 这种/ 情况/ 下/ ,/ 由于/ 明文/ 与/ 索引/ 之间/ 是/ 多/ 对/ 一/ 的/ 关系/ (/ 等价/ 于/ 将/ 4/ 个/ 数据/ 划分/ 到/ 2/ 个/ 集合/ 中/ )/ ,/ 同样/ 索引/ 与/ 密文/ 之间/ 也/ 是/ 多/ 对/ 一/ ,/ 因此/ 直接/ 根据/ 明文/ 出现/ 的/ 次数/ 进行/ 分析/ 对/ 这种/ 桶/ 划分/ 机制/ 的/ 攻击/ 较弱/ ./ 每个/ 值/ 的/ 信息/ 泄露/ 概率/ 就是/ 属性/ 值/ 的/ 基数/ 的/ 倒数/ ,/ 如表/ 5/ 所示/ ./ 整个/ 表格/ 的/ 索引/ 推理/ 攻击/ 信息/ 泄露/ 为/ 每个/ 值/ 信息/ 泄露/ 概率/ 的/ 乘积/ ,/ 具体/ 如式/ (/ 6/ )/ 所示/ Page8/ 其中/ t/ 遍历/ 所有/ 的/ 元组/ 即行数/ ,/ c/ 遍历/ 所有/ 敏感/ 属性/ 即列数/ ,/ 其中/ pt/ ,/ c/ 由式/ (/ 6/ )/ 可知/ ,/ 上述/ 案例/ 中/ 的/ 整个/ 表格/ 的/ 索引/ 推理/ 攻击/ 信息/ 泄露/ 就是/ (/ )/ 1/ 数据库/ 而言/ ,/ 期望/ 于/ 利用/ 简单/ 推理/ 攻破/ 这种/ 索引/ 是/ 不切实际/ 的/ ./ 因此/ ,/ 针对/ 本文/ 的/ 桶/ 划分/ 方案/ ,/ 本文/ 主要/ 考虑/ 的/ 攻击/ 场景/ 为/ Freq/ -/ attack/ 的/ 统计/ 攻击/ 对/ 数据库/ 内容/ 进行/ 攻击/ ./ 客户端/ 使用/ 非/ 确定性/ 加密算法/ 加密/ 用户/ 的/ 敏感/ 属性/ 的/ 值/ ,/ 假设/ 该/ 加密算法/ 是/ 不会/ 被/ 破解/ 的/ ,/ 因此/ 攻击者/ 不能/ 通过/ 解密/ 数据/ 来/ 获取/ 敏感/ 属性/ 的/ 明文/ ./ 对于/ 给定/ 的/ 元组/ ,/ 攻击者/ 能/ 做/ 的/ 就是/ 用/ 比较/ 高/ 的/ 概率/ 去/ 估计/ 这个/ 密文/ 的/ 真实/ 明文/ 值/ ./ 在/ 这种/ 情况/ 下/ ,/ 攻击者/ 需要/ 获得/ 整个/ 桶/ 的/ 划分/ 机制/ (/ 这个/ 可以/ 通过/ 大量/ 的/ 统计分析/ 获得/ ,/ 简单/ 推理/ 无法/ 获得/ )/ ,/ 并/ 根据/ 这个/ 划分/ 模式/ ,/ 加上/ 利用/ 统计/ 估计/ 技术/ 和/ 大量/ 统计/ 实验/ ,/ 不断/ 的/ 缩小/ 数据/ 的/ 范围/ ,/ 最终/ 以/ 比较/ 高/ 的/ 概率/ 猜测出/ 该值/ 的/ 最小/ 范围/ ,/ 这种/ 方式/ 的/ 代价/ 非常/ 大/ ./ 为了/ 简化/ 分析/ ,/ 本文/ 假设/ 处在/ 最坏/ 的/ 情况/ 下即/ :/ 攻击者/ 已/ 获得/ 整个/ 桶/ 划分/ 机制/ ,/ 同时/ 通过/ 统计/ 的/ 方式/ 知道/ 每个/ 值/ 的/ 频数/ ./ 但是/ 攻击者/ 不能/ 将/ 每个/ 加密/ 元组/ 与值/ 进行/ 对应/ ,/ 因为/ 同一个/ 桶/ 中/ 的/ 加密/ 属性/ 的/ 值/ 是/ 一样/ 的/ ./ 为了/ 对/ 统计/ 攻击/ 下/ 的/ 信息/ 泄露/ 进行/ 度量/ ,/ 本文/ 提出/ 两个/ 隐私/ 指标/ :/ 方差/ 以及/ 方差/ 之/ 方差/ ./ 4.2/ 隐私/ 指标/ 由于/ 攻击者/ 采用/ 统计/ 攻击/ 的/ 方式/ ,/ 因此/ ,/ 桶/ 划分/ 方案/ 中/ 数据/ 的/ 分布/ 规律/ 指标/ 如/ 方差/ 、/ 方差/ 之/ 方差/ 需要/ 进行/ 增强/ 以/ 抵抗/ 攻击者/ 的/ 统计/ 攻击/ ./ 本文/ 定义/ 估计/ 误差/ 方差/ SEE/ (/ SquaredErrorofEstimation/ )/ 以及/ 方差/ 之/ 方差/ ./ 定义/ 2/ ./ 估计/ 误差/ 方差/ :/ 假设/ 桶/ K/ 内部/ 元素/ 的/ 分布/ 律为/ 随机/ 分布/ XK/ ,/ PK/ 是/ 对应/ 值/ 的/ 概率分布/ 值/ ,/ 那么/ 其/ 对应/ 的/ 离散/ 值/ 概率/ 为/ pk/ ./ 攻击者/ 为了/ 猜测/ 加密/ 元组/ 的/ 真实/ 值/ ,/ 通过/ 大量/ 的/ 统计/ 拟合/ 出桶/ K/ 的/ 元素/ 的/ 评估/ 分布/ 律/ YK/ ,/ 对应/ 的/ 概率函数/ 为/ pk/ ./ 然而/ 猜测/ 值/ 与/ 真实/ 值/ 之间/ 存在/ 误差/ ,/ 为了/ 衡量/ 该/ 误差/ ,/ 提出/ 估计/ 误差/ 方差/ SEE/ ,/ 即/ 真实/ 值/ xi/ 与/ 猜测/ 值/ yi/ 之间/ 的/ 欧式/ 距离/ 的/ 平方/ ./ 具体/ 表现形式/ 如式/ (/ 7/ )/ 所示/ SEE/ =/ E/ (/ ‖/ XK/ -/ YK/ ‖/ 2/ )/ =/ ∑/ =/ ∑/ =/ ∑/ =/ ∑/ ∑/ 2/ ∑/ =/ E/ (/ X2/ )/ +/ E/ (/ Y2/ )/ -/ 2E/ (/ X/ )/ E/ (/ Y/ )/ =/ Var/ (/ XK/ )/ +/ Var/ (/ YK/ )/ +/ (/ E/ (/ X/ )/ -/ E/ (/ Y/ )/ )/ 2/ (/ 7/ )/ 从式/ (/ 7/ )/ 可以/ 得知/ ,/ 攻击者/ A/ 为了/ 尽量/ 减小/ 估计/ 均差/ 误差/ SEE/ ,/ 其/ 可以/ 通过/ 以下/ 两种/ 方式/ :/ (/ 1/ )/ 减少/ A/ 估计/ 的/ 数据分布/ 的/ 方/ 差值/ Var/ (/ YK/ )/ ;/ (/ 2/ )/ 减小/ 桶/ 内/ 数据/ 的/ 真实/ 分布/ 均值/ 与/ 猜测/ 分布/ 均值/ 之间/ 的/ 差值/ (/ E/ (/ XK/ )/ -/ E/ (/ YK/ )/ )/ ,/ 其中/ 桶/ K/ 内/ 数据/ 的/ 分布/ 均值/ 为/ E/ (/ XK/ )/ =/ ∑/ 在/ 统计/ 上/ 获得/ 与/ 真实/ 值/ 最/ 接近/ 的/ 猜测/ 值/ 的/ 统计/ 分布/ 形式/ 为/ 两个/ 分布/ 的/ 均值/ 要/ 相等/ ,/ E/ (/ XK/ )/ =/ E/ (/ YK/ )/ ,/ 且/ Var/ (/ YK/ )/ =/ 0/ ./ 因此/ ,/ 客户端/ 可以/ 通过/ 提高/ Var/ (/ XK/ )/ 增加/ 攻击者/ 的/ 攻击/ 难度/ ,/ 即/ 尽量/ 保持/ 桶/ 内/ 数据分布/ 保持/ 无序/ 状态/ ,/ 从/ 概率/ 角度/ 提高/ 密文/ 数据/ 的/ 安全性/ ./ 因此/ 为了/ 确保/ 整个/ 方案/ 的/ 泄露/ 信息量/ 尽量少/ ,/ 需要/ 确保/ 所有/ 桶/ 的/ 分布/ 方差/ 的/ 期望/ 尽量/ 大/ ,/ ∑/ Var/ (/ XK/ )/ ./ 定义/ 3/ ./ 桶/ 的/ 估计/ 方差/ :/ 数据/ 划分/ 为/ M/ 个桶/ ,/ 整个/ 划分/ 的/ 机制/ 的/ 随机/ 分布/ 为/ X/ ,/ 桶/ i/ 对应/ 的/ 分布/ 为/ Xi/ ,/ 其/ 对应/ 的/ 概率/ 为/ pi/ ./ 通过/ 式/ (/ 7/ )/ 可知/ 为了/ 保证/ 每个/ 桶/ 内部/ 密文/ 数据/ 的/ 安全/ 需要/ 提高/ VarX/ (/ )/ i/ ,/ 然而/ 当/ 一个桶/ 的/ VarX/ (/ )/ i/ 增加/ 很/ 有/ 可能/ 导致/ 其他/ 桶/ 的/ Var/ 值/ 降低/ ,/ 这样/ 容易/ 导致/ 一部分/ 桶/ 的/ Var/ 值/ 很/ 高/ ,/ 而/ 另/ 一部分/ 桶/ 的/ Var/ 值/ 很/ 低时/ ,/ 那么/ Var/ 值低/ 的/ 桶/ 内部/ 的/ 密文/ 值/ 就/ 很/ 容易/ 被/ 攻击/ ./ 因此/ 为了/ 确保/ 所有/ 的/ 桶/ 的/ Var/ 都/ 相差/ 不/ 大/ ,/ 本文/ 提出/ 了/ 方差/ 之方/ Page9/ 差/ VarofVar/ 的/ 概念/ ,/ 具体/ 形式/ 如式/ (/ 8/ )/ 所示/ VarofVar/ =/ ∑/ 为了/ 衡量/ 方案/ 的/ 信息/ 保护/ 能力/ 系数/ ,/ 我们/ 将/ Var/ 指标/ 与/ VarofVar/ 进行/ 归一化/ 处理/ procoe/ =/ β/ 其中/ β/ ,/ γ/ 是/ 由/ 用户/ 定义/ 的/ 系数/ ./ 4.3/ 隐私/ 与/ 性能/ 的/ 权衡/ 假设/ 原始/ 的/ 数据/ 集合/ 为/ {/ x1/ ,/ x2/ ,/ …/ ,/ xN/ }/ ,/ 并/ 将/ 数据/ 集合/ 划分/ 为/ M/ 个/ 桶/ 中/ 并/ 保证数据/ 只/ 出现/ 在/ 唯一/ 的/ 一个桶/ ,/ xi/ ∈/ Bk/ ,/ i/ ∈/ [/ 1/ ,/ N/ ]/ ,/ k/ ∈/ [/ 1/ ,/ M/ ]/ ,/ Bi/ ∩/ Bj/ =/ / ,/ i/ ,/ j/ ∈/ [/ 1/ ,/ M/ ]/ ./ 为了/ 保证/ 划分/ 后/ 密文/ 数据/ 的/ 查询/ 的/ 准确率/ ,/ 同时/ 保证/ 桶/ 的/ 划分/ 机制/ 泄露/ 的/ 隐私/ 最少/ ,/ 需要/ 对/ 这/ 两组/ 相互/ 矛盾/ 的/ 指标/ 进行/ 最优化/ 处理/ ,/ 即/ 对/ 第/ 3/ 节中/ TFP/ 指标/ 进行/ 最小化/ ,/ 对桶/ 内/ 数据分布/ 方差/ 指标/ ∑/ 要/ 对/ VarofVar/ 指标/ 进行/ 最小化/ 处理/ ,/ 这是/ 一个多/ 目标/ 最优化/ 的/ 问题/ ./ 为了/ 简化/ 将/ 多/ 目标/ 最优化/ 问题/ 进行/ 统一/ 指标/ 转换成/ 用于/ 寻求/ 隐私/ 和/ 准确率/ 的/ 单/ 目标/ priv/ _/ eff/ 的/ 最优化/ 问题/ ,/ 即将/ 对应/ 的/ 指标/ 进行/ 反正/ 切/ 转换/ (/ arctan/ (/ X/ )/ +/ π/ // 2/ )/ 将/ 值域/ 映射/ 到/ [/ 0/ ,/ π/ ]/ 中/ ,/ 并/ 根据/ 用户/ 的/ 定义/ 权重/ 来/ 确定/ 两组/ 指标/ 的/ 重要性/ ,/ 具体/ 形式/ 见式/ (/ 9/ )/ ./ priv/ _/ eff/ =/ 由式/ (/ 9/ )/ 可知/ ,/ 为了/ 确保/ 准确率/ 和/ 划分/ 机制/ 可能/ 泄露/ 的/ 隐私/ 信息/ 最小/ ,/ 需要/ 对/ 隐私/ 和/ 准确率/ 均衡/ 指标/ priv/ _/ eff/ 进行/ 最大化/ 优化/ ./ 该/ 问题/ 依然/ 归结为/ 是/ 集合/ 划分/ 的/ 问题/ ,/ 经典/ 的/ NP/ -/ hard/ 问题/ ,/ 因此/ 针对/ 该/ 问题/ 本文/ 采用/ 精英/ 保留/ 遗传算法/ 的/ 思想/ 来/ 优化/ 该/ 指标/ ,/ 并/ 利用/ 该/ 思想/ 设计/ 面向/ 隐私/ 保护/ 的/ 智能/ 桶/ 划分算法/ (/ PRIPA/ )/ ,/ 进而/ 确保/ 查询/ 精准度/ 和/ 可能/ 泄露/ 的/ 隐私/ 均/ 达到/ 最优/ ./ PRIPA/ 算法/ 的/ 核心/ 就是/ 将/ 指标/ priv/ _/ eff/ 进行/ 最大化/ 最优/ 处理/ ./ PRIPA/ 算法/ 为/ 加快/ 密文/ 分段/ 的/ 划分/ ,/ 与/ PROPA/ 算法/ 类似/ 将/ 初始/ 种群/ ,/ 将/ equi/ -/ width/ 方法/ 划分/ 得到/ 的/ 划分/ 机制/ 作为/ 初始/ 种群/ 的/ 一个/ 染色体/ ,/ 然后/ 在/ 初始/ 种群/ 进行/ 迭代/ ,/ 在/ 迭代/ 中/ 不断/ 寻求/ 本代中/ 最优/ 值/ 进而/ 找出/ 全局/ 最优/ 解/ ,/ 同时/ 为了/ 加快/ 收敛/ ,/ 算法/ 利用/ 精英/ 保留/ 策略/ 对/ ,/ 将/ 父代/ 最优/ 的/ 值/ 传递/ 子代/ 直至/ 全局/ 最优/ 解/ 收敛/ 到/ 固定值/ ./ 具体/ 的/ 算法/ 如/ 算法/ 2/ 所示/ ./ 算法/ 2/ ./ 面向/ 隐私/ 保护/ 的/ 智能/ 桶/ 划分算法/ ./ 函数/ 原型/ BestBucketPartition/ (/ intbucketNum/ ,/ int/ [/ ]/ value/ ,/ int/ [/ ]/ freq/ ,/ float/ [/ ]/ para/ )/ 输入/ :/ 划分/ 后桶/ 的/ 数目/ bucketNum/ 、/ 敏感/ 属性/ 的/ 不同/ 取/ 输出/ :/ 最佳/ 分桶/ 方案/ 1/ ./ initialPopulation/ (/ PopSize/ )/ ;/ 2/ ./ for/ (/ i/ =/ 0/ ;/ i/ </ MaxPopulation/ ;/ i/ ++/ )/ {/ 3/ ./ select/ (/ ipop/ ,/ lastBest/ ,/ curBest/ )/ ;/ // // 保留/ 子代/ 最好/ 值/ 4/ ./ Crossover/ (/ ipop/ ,/ crossPara/ )/ ;/ 5/ ./ Mutation/ (/ ipop/ ,/ MutationPara/ )/ ;/ // // 变异/ 操作/ 6/ ./ Elite/ (/ )/ ;/ // // 利用/ 父代/ 的/ 最佳值/ 替换/ 子代/ 中/ 最/ 差值/ 7/ ./ ReturnBest/ ;/ }/ 8/ ./ Voidcaculate/ (/ )/ {/ 9/ ./ TFP/ =/ caculateTFP/ (/ )/ ;/ 10/ ./ VarSum/ =/ caculateVar/ (/ )/ ;/ 11/ ./ VarofVar/ =/ caculateVarofVar/ (/ )/ ;/ 12/ ./ pri/ -/ per/ =/ caculatePriv/ _/ Eff/ (/ TFP/ ,/ VarSum/ ,/ PRIPA/ 算法/ 主要/ 的/ 核心/ 算法/ 与/ PROPA/ 主要/ 思想/ 基本一致/ ,/ 均/ 是/ 利用/ 迭代/ 遗传算法/ 对/ 初始/ 均匀/ 的/ 种群/ 进行/ 迭代/ ,/ 在/ 指标/ priv/ _/ eff/ 最优/ 的/ 约束/ 下/ 使得/ 种群/ 不断/ 朝着/ priv/ _/ eff/ 最优/ 的/ 方向/ 进化/ ./ 为了/ 加快/ 迭代/ 收敛/ 速度/ ,/ 采用/ 了/ 精英/ 保留/ 策略/ ,/ 通过/ 将/ 选择/ 出来/ 的/ 新/ 种群/ 中/ 的/ priv/ _/ eff/ 最差/ 的/ 染色体/ 方案/ 替/ Page10/ 换为/ 全局/ priv/ _/ eff/ 最优/ 的/ 染色体/ 方案/ ,/ 这样/ 将/ 最优/ 的/ 染色体/ 方案/ 能够/ 进行/ 杂交/ 和/ 变异/ 将/ 最优/ 的/ 基因/ 遗传/ 到/ 后代/ 中/ ./ 对/ 选择/ 出来/ 的/ 种群/ 进行/ 单点/ 交叉/ 和/ 单点/ 变异/ ,/ 形成/ 新/ 种群/ ./ 在/ 完成/ 交叉/ 变异/ 之后/ ,/ 比较/ 子代/ 中/ 最优/ 方案/ 与/ 全局/ 最优/ 方案/ ,/ 选出/ 两者/ 中/ 最好/ 的/ 个体/ 作为/ 新/ 全局/ 最优/ 方案/ ,/ 直到/ 局部/ 最优/ 方案/ 与/ 全局/ 最优/ 方案/ 的/ priv/ _/ eff/ 基本一致/ ,/ 即/ 两者/ 的/ 之/ 差/ 的/ 绝对值/ 小于/ 10/ -/ n/ ./ 5/ 实验设计/ 与/ 分析/ 为了/ 验证/ 基于/ 遗传算法/ 的/ 隐私/ 增强/ 算法/ ,/ 进行/ 相关/ 的/ 性能/ 测试/ 和/ 功能/ 验证/ ./ 下面/ 简单/ 介绍/ 实验/ 环境/ ./ 5.1/ 数据/ 集/ 介绍/ 为了/ 更加/ 贴合/ 实际/ ,/ 整个/ 实验/ 在/ 开源/ 云/ 管理/ 平台/ opennebula/ 搭建/ 的/ 云/ 平台/ 中/ 进行/ ,/ 实验/ 环境/ 中/ 包含/ 6/ 台/ 物理/ 机和/ 12/ 虚拟机/ ./ 云/ 平台/ 中/ 所有/ 服务器/ 为/ 同等/ 配置/ ,/ 均/ 为/ 2/ ×/ AMD/ 皓龙/ 2370/ ×/ 4/ 核/ ,/ 16GB/ 内存/ ,/ 千兆/ 以太网/ 网卡/ ./ 在/ 云/ 平台/ 中/ ,/ 每个/ 物理/ 机/ 的/ 系统/ 为/ Linux/ ,/ 底层/ 利用/ Xen3/ ./ 3/ 来/ 实现/ 对/ 物理/ 平台/ 的/ 虚拟化/ ,/ 平台/ 中/ 虚拟机/ 的/ 版本/ 为/ Windows/ 系统/ ./ 其中/ 一台/ 虚拟机/ 作为/ DSP/ 用来/ 存放/ 外包/ 的/ 数据/ ./ 其余/ 11/ 台/ 虚拟机/ 作为/ 用户端/ ./ 5.2/ 数据/ 集/ 介绍/ 为了/ 测试/ 算法/ 的/ 可用性/ 、/ 效率/ 、/ 安全性/ 性能/ 以及/ 相互之间/ 的/ 制约/ 关系/ ,/ 本文/ 分别/ 采用/ 随机/ 函数/ 模拟/ 数据/ 集/ 均值/ 为/ 5000/ 方差/ 为/ 100/ 的/ 正态分布/ 数据/ 集/ 、/ 均匀分布/ 的/ 合成/ 数据/ 集/ (/ 数据/ 区间/ 为/ [/ 1/ ,/ 10000/ ]/ ,/ 数据/ 规模/ 为/ 40/ 万条/ )/ 和/ 真实/ 的/ 数据/ 集/ TPC/ -/ H/ 中/ 的/ 表格/ partsupp/ 中/ 的/ ps/ _/ availqty/ 属性/ (/ 区间/ 为/ [/ 1/ ,/ 10000/ ]/ ,/ 数据/ 规模/ 为/ 80/ 万条/ )/ 等/ 数据/ 集对/ 算法/ 进行/ 测试/ ,/ 数据/ 规模/ 为/ 80/ 万条/ 记录/ ./ 本文/ 根据/ 不同/ 的/ 数据/ 集/ 分别/ 利用/ 随机数/ 生成器/ 均匀/ 产生/ 不同/ 的/ 查询/ 集/ ,/ 每个/ 查询/ 集/ 规模/ 为/ 10000/ ./ 每个/ 查询/ 根据/ 对应/ 的/ 数据/ 集合/ 范围/ 随机/ 产生/ 两个/ 不同/ 的/ 数值/ 组合成/ 一个/ 查询/ ,/ 这样/ 确保/ 了/ 查询/ 的/ 随机性/ 与/ 公平性/ ./ 针对/ 上述/ 的/ 数据/ 集/ ,/ 本文/ 分别/ 针对/ QoB/ 算法/ 、/ CB/ 算法/ 、/ equi/ -/ depth/ 算法/ 、/ PRIPA/ 算法/ 、/ PROPA/ 这/ 5/ 种/ 算法/ ,/ 测试/ 相应/ 的/ 准确率/ 指标/ 和/ 隐私/ 保护/ 指标/ ./ 下面/ 具体/ 介绍/ 相应/ 的/ 指标/ 及/ 相应/ 的/ 测试/ 结果/ ./ 5.3/ 性能/ 及/ 结果/ 分析/ (/ 1/ )/ 准确率/ QA/ 为了/ 评估/ 本文/ 算法/ 对/ 密文/ 数据/ 的/ 查询/ 准确率/ 在/ 实验/ 中/ 分别/ 利用/ 合成/ 数据/ 集/ 和/ 真实/ 数据/ 集/ 测试/ 了/ 上述/ 5/ 种/ 算法/ 的/ QA/ 值/ ,/ 其中/ CB/ 算法/ 的/ 退化/ 率为/ 2/ 、/ PROPA/ 算法/ 的/ 用户/ 隐私/ 参数/ 分别/ 为/ α/ =/ 0.25/ ,/ β/ =/ 0.5/ ,/ γ/ =/ 0.25/ ,/ 并/ 以/ PRIPA/ 的/ QA/ 值为/ 基准值/ ,/ 计算/ 出/ 其他/ 3/ 种/ 算法/ 的/ 值/ 与/ 该值/ 的/ 比值/ 关系/ ,/ 具体/ 见图/ 3/ 所示/ ./ 在/ 图/ 3/ (/ a/ )/ 中/ 可以/ 看出/ 在/ 数据/ 服从/ 均匀分布/ 且/ 用户/ 查询/ 均匀/ 时/ ,/ 其他/ 几种/ 算法/ 的/ 查询/ 精准/ 率/ QA/ 与/ 本文/ 算法/ QA/ 的/ 比值/ 均/ 明显/ 小于/ 1/ ,/ 这/ 说明/ PRIPA/ 算法/ 相对/ 于/ 其他/ 几种/ 算法/ 而言/ 其/ 效果/ 要/ 优异/ 许多/ ,/ 尤其/ 随着/ 划分/ 桶/ 的/ 数目/ 增加/ ,/ 其/ 效果/ 体现/ 的/ 更加/ 明显/ ./ 从图/ 3/ (/ b/ )/ 中/ 可以/ 看出/ ,/ 当/ 数据/ 服从/ 正态分布/ 时/ ,/ 所有/ 的/ 算法/ 与/ PRIPA/ 算法/ 的/ 查询/ 精度/ 比值/ 随着/ 桶/ 的/ 数量/ 增加/ 而/ 降低/ ,/ 在/ 桶/ 为/ 450/ 的/ 时候/ 所有/ 算法/ 与/ PRIPA/ 精准度/ 比值/ 达到/ 最低/ ./ 在/ 图/ 3/ (/ c/ )/ 中/ ,/ 刚/ 开始/ 的/ 效果/ 比较稳定/ ,/ 当桶/ 的/ 数量/ 为/ 350/ 的/ 时候/ 查询/ 精度/ 比值/ 骤降/ ,/ 这/ 可能/ 与/ ps/ _/ availqty/ 的/ 数据分布/ 有关/ ,/ 在/ 桶/ 为/ 500/ 时/ 其他/ 算法/ 的/ 查询/ 精度/ 仅为/ PRIPA/ 算法/ 的/ 30/ %/ 左右/ ./ 从/ 以上/ 的/ 3/ 个子/ 图中/ 可以/ 看出/ ,/ PRIPA/ 算法/ 的/ 桶/ 划分/ 方案/ 查询/ 精度/ 优于/ 其他/ 几种/ 方案/ ./ (/ 2/ )/ 查询/ 性能/ 与/ 隐私/ 的/ 均衡/ 图/ 4/ 描述/ 了/ 查询/ 精度/ 与/ 保护/ 能力/ 系数/ 的/ 均衡/ 效果/ ./ 我们/ 取/ 每种/ 算法/ (/ QoB/ 算法/ 、/ CB/ 算法/ 、/ equi/ -/ depth/ 算法/ 、/ PRIPA/ 算法/ 、/ PROPA/ 算法/ )/ 的/ 10/ 组/ 数据/ ,/ 这/ 10/ 组/ 数据/ 分别/ 表示/ 桶/ 的/ 划分/ 数量/ 在/ 100/ ,/ 150/ ,/ 200/ ,/ …/ ,/ 550/ 的/ 情况/ 下/ ,/ 查询/ 精度/ 与/ procoe/ (/ 该值/ 越大/ 说明/ 隐私/ 保护/ 能力/ 越强/ )/ 坐标值/ ./ 从图/ 中/ 可以/ 看出/ ,/ 整体/ 趋势/ 上/ 测试/ 过程/ 中/ 的/ 5/ 种/ 算法/ 的/ 查询/ 精度/ 与/ procoe/ 值/ 是/ 相互/ 制约/ 的/ ,/ 查询/ 精度高/ 则/ procoe/ 低/ ,/ 反之/ 则/ procoe/ 高/ 查询/ 精度/ 低/ ./ 在/ 图/ 4/ 的/ 右侧/ 是/ PRIPA/ 、/ QoB/ 、/ equi/ -/ depth/ 这/ 3/ 种/ 算法/ 的/ 查询/ 精度/ 和/ procoe/ 值/ 的/ 坐标值/ ,/ 其/ 查询/ 精度/ 较/ 高/ ,/ 然而/ 这/ 3/ 种/ 算法/ 的/ procoe/ 值较/ 小/ ,/ 意味着/ 他们/ 对/ 统计/ 攻击能力/ 较弱/ 很/ 容易/ 泄露/ 桶/ 内/ 数据/ 的/ 安全/ ./ CB/ 算法/ 在/ QoB/ 算法/ 的/ 基础/ 上/ 对/ 数据/ 进行/ 随机化/ 提高/ 了/ 数据/ 安全性/ 同时/ 也/ 兼顾/ 了/ 对/ 查询/ 精度/ 但是/ 没有/ 达到/ 最优/ 的/ 均衡/ 效果/ ,/ 本文/ 的/ PROPA/ 算法/ 的/ 方案/ 相对/ 其他/ 几种/ 算法/ 而言/ ,/ 其/ 安全性/ 与/ 查询/ 精度/ 均/ 是/ 比较/ 优异/ 的/ ,/ 达到/ 了/ 对/ 安全性/ 与/ 查询/ 精度/ 的/ 有效/ 均衡/ ./ Page11/ 图/ 3/ 查询/ 值/ 正态分布/ 正确率/ 6/ 结束语/ 为了/ 均衡/ 云/ 环境/ 下外/ 包/ 数据/ 的/ 隐私/ 性/ 与/ 查询/ 效率/ ,/ 本文/ 首先/ 提出/ 了/ 桶/ 划分/ 模式/ 下/ 查询/ 效率/ 指标/ ,/ 并/ 提出/ 了/ 一种/ 基于/ 遗传算法/ 的/ PRIPA/ 算法/ 对/ 该/ 指标/ 进行/ 优化/ ./ 为了/ 提升/ PRIPA/ 算法/ 的/ 隐私/ 保护/ 能力/ ,/ 本文/ 分析/ 了/ 查询/ 过程/ 中/ 可能/ 存在/ 的/ 信息/ 泄露/ 情况/ ,/ 提出/ 了/ 一套/ 隐私/ 保护/ 指标/ ,/ 并/ 将/ 该/ 指标/ 与/ 查询/ 效率/ 进行/ 结合/ ,/ 提出/ 了/ 用于/ 均衡/ 查询/ 效率/ 与/ 隐私/ 性/ 的/ PROPA/ 算法/ ./ 为了/ 验证/ 本文/ 方案/ 的/ 正确性/ ,/ 本/ 问题/ 与/ 目前/ 的/ 几种/ 常用/ 的/ 算法/ 进行/ 对比/ ,/ 最后/ 结果/ 发现/ ,/ 本文/ 的/ 方案/ 相对/ 于/ 其他/ 的/ 几种/ 方案/ 而言/ ,/ 在/ 查询/ 效率/ 与/ 隐私/ 均衡/ 上/ 均/ 有/ 较/ 好/ 的/ 效果/ ./ 虽然/ 本文/ 的/ 方案/ 提出/ 了/ 一种/ 均衡/ 查询/ 效率/ 和/ 隐私/ 保护/ 能力/ 的/ 桶/ 划分/ 方案/ ,/ 然而/ 其/ 只能/ 适用/ 于/ 单一/ 敏感/ 属性/ ,/ 并/ 没有/ 涉及/ 组合/ 属性/ 的/ 情况/ ./ 同时/ ,/ 本文/ 的/ 研究/ 过程/ 中/ 没有/ 深入/ 的/ 研究/ 查询/ 的/ 分布/ 与/ 数据分布/ 的/ 之间/ 的/ 关系/ ./ 这些/ 问题/ 是/ 本文/ 下/ 一步/ 研究/ 工作/ 的/ 重点/ ./ 

