Page1/ 一种/ 基于/ 近距离/ 最大/ 子图/ 优先/ 的/ 业务流程/ 推荐/ 技术/ 曹斌/ 尹建伟/ 邓水光/ 王/ 东京/ 徐悦/ 繰/ (/ 浙江大学/ 计算机科学/ 与/ 技术/ 学院/ 杭州/ 310027/ )/ 摘要/ 业务流程/ 的/ 动态性/ 和/ 不确定性/ ,/ 为/ 企业/ 流程/ 建模/ 过程/ 带来/ 了/ 巨大/ 挑战/ ,/ 传统/ 基于/ 流程/ 挖掘/ 或/ 流程/ 检索/ 的/ 方式/ 在/ 一定/ 程度/ 上/ 提高/ 了/ 建模/ 的/ 智能性/ ,/ 但/ 仍/ 需/ 大量/ 人工/ 参与/ ,/ 如何/ 更/ 大程度/ 地/ 提高/ 业务流程/ 建模/ 效率/ 和/ 准确度/ 成为/ 当前/ 企业/ 亟待解决/ 的/ 问题/ ./ 论文/ 借鉴/ 传统/ 推荐/ 技术/ 思想/ ,/ 提出/ 了/ 一种/ 业务流程/ 推荐/ 技术/ ,/ 该/ 技术/ 以/ 业务流程/ 资源库/ 作为/ 出发点/ ,/ 利用/ 图/ 挖掘/ 方法/ 进行/ 流程/ 模式/ 的/ 提取/ ,/ 基于/ 近距离/ 最大/ 子图/ 优先/ 的/ 流程/ 匹配/ 策略/ 对/ 参考/ 流程/ 与/ 流程/ 模式/ 的/ 相同/ 性/ 进行/ 判断/ ,/ 进而/ 选取/ 相关/ 候选/ 节点/ 集/ 作为/ 推荐/ 结果/ ./ 基于/ 业务流程/ 推荐/ 系统/ 原型/ JTangWFR/ ,/ 通过/ 对比/ 现有/ 相关/ 技术/ 表明/ ,/ 文中/ 方法/ 能够/ 支持/ 实际/ 应用/ 中/ 的/ 复杂/ 流程/ 结构/ ,/ 其/ 效率/ 和/ 准确度/ 方面/ 能够/ 满足/ 实际/ 应用/ 的/ 需求/ ./ 关键词/ 流程/ 推荐/ ;/ 近距离/ 最大/ 子图/ ;/ 业务流程/ 建模/ ;/ 流程/ 匹配/ 1/ 引言/ 业务流程/ 管理/ 是/ 企业/ 信息化/ 系统/ 的/ 核心/ ,/ 适时/ 建立/ 符合/ 企业/ 发展/ 特色/ 的/ 高效/ 业务流程/ 是/ 现代/ 企业/ 成功/ 与/ 可/ 持续/ 发展/ 的/ 保障/ ./ 面向/ 服务/ 的/ 体系/ 架构/ (/ ServiceOrientedArchitecture/ ,/ SOA/ )/ 为/ 快速/ 构建/ 松/ 耦合/ 、/ 动态/ 、/ 易/ 扩展/ 的/ 企业/ 信息系统/ 提供/ 了/ 可能/ ,/ 成为/ 越来越/ 多/ 的/ 企业/ 信息系统/ 的/ 首选/ ./ 现代/ 企业/ 的/ 业务流程/ 建模/ ,/ 存在/ 如下/ 两个/ 问题/ :/ (/ 1/ )/ 动态性/ ./ 客户/ 或/ 市场需求/ 的/ 频繁/ 变化/ 对/ 流程/ 建模/ 的/ 效率/ 提出/ 更高/ 要求/ ,/ 建模/ 人员/ 很难/ 充分/ 理解/ 需求/ 变更/ ,/ 造成/ 新/ 流程/ 模型/ 与/ 实际/ 的/ 脱节/ ,/ 使得/ 业务/ 决策/ 准确度/ 降低/ ,/ 最终/ 影响/ 企业/ 的/ 效益/ ./ (/ 2/ )/ 不确定性/ ./ 由于/ 知识结构/ 、/ 工作/ 经历/ 等/ 方面/ 限制/ ,/ 建模/ 人员/ 往往/ 缺乏/ 必要/ 的/ 领域/ 知识/ ,/ 从而/ 导致/ 制定/ 流程/ 时/ 缺乏/ 科学性/ 和/ 系统性/ ,/ 所/ 建模/ 流程/ 不够/ 系统/ 、/ 全面/ ,/ 不确定性/ 较大/ ./ 在/ 经典/ SOA/ 计算/ 模型/ 中/ ,/ 设计/ 了/ 服务/ 流程/ 语言/ (/ WSFL/ 、/ BPEL/ 等/ )/ 来/ 支撑/ 业务流程/ 的/ 建模/ [/ 1/ -/ 2/ ]/ ,/ 近年来/ 众多/ 学者/ 在/ 服务/ 流程/ 的/ 自动/ 组合/ 方法/ 进行/ 了/ 研究/ [/ 3/ -/ 6/ ]/ ,/ 以求/ 找到/ 智能/ 的/ 问题/ 解决/ 方法/ ./ 但/ 服务/ 组合/ 侧重于/ 通过/ 一定/ 的/ 规则/ ,/ 将/ 较/ 小且/ 简单/ 的/ 、/ 易于/ 执行/ 的/ 轻量级/ 服务/ 进行/ 组合/ 来/ 创建/ 功能/ 更为/ 丰富/ 的/ 服务/ ./ 但/ 实际/ 的/ 业务流程/ 中/ ,/ 不是/ 所有/ 活动/ 节点/ 都/ 能/ 抽象/ 成为/ 服务/ ,/ 各/ 活动/ 节点/ 很/ 可能/ 会/ 涉及/ 到/ 大量/ 人工/ 参与/ ,/ 活动/ 间/ 的/ 约束/ 关系/ 也/ 并非/ 像/ 服务/ 组合/ 那样/ 明确/ ./ 为了/ 解决/ 上述/ 问题/ ,/ 许多/ 辅助/ 流程/ 建模/ 的/ 技术/ 和/ 方法/ 被/ 提出/ ./ 通过/ 对/ 业务流程/ 相关/ 系统/ 中/ 事件/ 执行/ 日志/ 的/ 分析/ ,/ 流程/ 挖掘/ [/ 7/ ]/ 技术/ 可/ 发现/ 实际/ 的/ 业务/ 执行/ 过程/ ,/ 进而/ 节省/ 了/ 建模/ 前/ 的/ 调研/ 、/ 讨论/ 等/ 工作/ ,/ 直接/ 通过/ 挖掘/ 结果/ 指导/ 业务/ 建模/ 人员/ 制定/ 更加/ 合理/ 的/ 流程/ 或/ 改进/ 现有/ 流程/ ./ 流程/ 检索/ 技术/ 基于/ 流程/ 相似/ 度/ 计算方法/ [/ 8/ ]/ ,/ 可/ 迅速/ 从/ 业务流程/ 资源库/ 中/ 查找/ 相关/ 流程/ 或/ 流程/ 片断/ ,/ 利用/ 返回/ 结果/ 帮助/ 业务人员/ 重新/ 设计/ 新/ 的/ 流程/ ./ 上述/ 方式/ 为/ 流程/ 建模/ 工作/ 提供/ 了/ 相关/ 借鉴/ 基础/ ,/ 但是/ 在/ 具体/ 的/ 建模/ 过程/ 中/ 仍/ 需要/ 大量/ 业务人员/ 的/ 人工/ 参与/ ./ 如/ ,/ 在/ 制定/ 具体/ 新/ 业务流程/ 过程/ 中/ ,/ 业务人员/ 需要/ 同时/ 参考/ 和/ 借鉴/ 相关/ 现有/ 流程/ (/ 通过/ 流程/ 挖掘/ 或/ 流程/ 检索/ 得到/ )/ ,/ 并/ 通过/ 人工/ 完成/ 具体/ 的/ 建模/ 工作/ ./ 这种/ 建模/ 方式/ 不仅/ 效率/ 较/ 低/ ,/ 且/ 自动化/ 程度/ 不高/ ,/ 无法/ 满足/ 现代/ 企业/ 业务/ 频繁/ 变更/ 的/ 需求/ ./ 反映/ 到/ 企业/ 流程/ 管理系统/ 上/ ,/ 就/ 需要/ 采用/ 一种/ 更加/ 灵活/ 的/ 构建/ 方式/ 应对/ 这些/ 变化/ ./ 近年来/ 推荐/ 技术/ 在/ 电子商务/ 领域/ 的/ 流行/ ,/ 为/ 解决/ 快速/ 企业/ 流程/ 建模/ 提供/ 了/ 新思路/ ./ 同时/ ,/ 由于/ 目前/ 大多数/ 业务流程/ 均/ 是/ 以图/ 结构/ 的/ 形式/ 进行/ 建模/ ,/ 如/ Petri/ 网/ 、/ BPMN/ 、/ EPC/ 等/ [/ 9/ ]/ ,/ 因此/ ,/ 本文/ 从/ 流程图/ 模型/ 结构/ 出发/ 并/ 结合/ 传统/ 推荐/ 思想/ ,/ 拟/ 在/ 大量/ 业务/ 流程图/ 基础/ 上/ 进行/ 流程/ 子图/ 挖掘/ 、/ 处理/ 和/ 分析/ ,/ 为/ 建模/ 人员/ 在/ 流程/ 建模/ 中/ 提供/ 相关/ 决策/ 支持/ 和/ 信息/ 服务/ ./ 我们/ 称之为/ 流程/ 推荐/ ,/ 它/ 要求/ 业务/ 建模/ 人员/ 将/ 一个/ 正在/ 构建/ 的/ 流程/ 片断/ 当做/ “/ 参考/ 流程/ ”/ ,/ 并/ 基于/ 一定/ 的/ 相似/ 度/ 计算方法/ 匹配/ 业务流程/ 资源库/ 中/ 的/ 具有/ 一定/ 置信度/ 的/ 流程/ 模式/ (/ 流程/ 片断/ )/ ,/ 进而/ 找到/ 该/ 模式/ 对应/ 的/ 业务/ 活动/ 进行/ 推荐/ ./ 本文/ 提出/ 了/ 一种/ 基于/ 近距离/ 最大/ 子图/ 优先/ (/ NearNeighborandMaximalSubgraphFirst/ ,/ NMSF/ )/ 的/ 流程图/ 匹配/ 方法/ ,/ 并/ 基于/ 该/ 方法/ 实现/ 了/ 流程/ 推荐/ 系统/ 原型/ :/ JTangWFR/ (/ JTangWorkflowRecommender/ )/ ./ 系统/ 利用/ 图/ 挖掘/ 方法/ 发现/ 流程/ 模式/ ,/ 并/ 通过/ 参考/ 流程/ 上/ 的/ 近距离/ 最大/ 子图/ 优先/ 匹配/ 策略/ 对/ 流程/ 片断/ 间/ 的/ 相等/ 性/ 进行/ 判断/ ,/ 通过/ 判定/ 结果/ 选择/ 对应/ 的/ 业务/ 活动/ 节点/ 作为/ 待/ 推荐/ 结果/ ./ 本文/ 第/ 2/ 节/ 首先/ 对/ 相关/ 基本/ 定义/ 进行/ 说明/ ,/ 并/ 在/ 该/ 部分/ 末尾/ 交待/ 了/ 流程/ 推荐/ 的/ 度量/ 和/ 最大/ 子图/ 优先/ 策略/ ;/ 第/ 3/ 节/ 介绍/ JTangWFR/ 的/ 相关/ 推荐/ 场景/ 和/ 框架/ ;/ 第/ 4/ 节/ 讨论/ 推荐/ 系统/ JTangWFR/ 的/ 主要/ 实现/ ;/ 第/ 5/ 节/ 通过/ 实验/ 对/ 原型/ 进行/ 验证/ ;/ 第/ 6/ 节对/ 相关/ 研究/ 状况/ 进行/ 介绍/ ;/ 最后/ 第/ 7/ 节对/ 本文/ 工作/ 进行/ 总结/ 和/ 展望/ ./ 2/ 基本/ 定义/ 2.1/ 业务/ 流程图/ 工作/ 流/ 系统/ 中/ ,/ 业务流程/ 是/ 实际/ 业务/ 过程/ 的/ 体现/ ,/ 流程/ 中/ 的/ 各个/ 活动/ 节点/ 是/ 企业/ 内部/ 各/ 业务/ 功能/ 的/ 表示/ ,/ 活动/ 节点/ 间/ 通过/ 顺序/ 关系/ 表达/ 了/ 相应/ 的/ 信息/ 流向/ ./ 因此/ ,/ 其/ 流程/ 模型/ 图可/ 抽象/ 为/ 有向图/ ,/ 且/ 图上/ 顶点/ (/ 节点/ )/ 具有/ 相应/ 的/ 标号/ ./ 定义/ 1/ ./ 业务/ 流程图/ ./ 令/ T/ 为/ 节点/ 类型/ 集合/ ,/ L/ 为/ 节点/ 标号/ 字符/ 的/ 有限/ 集合/ ./ 一个/ 业务流程/ 是/ 一个/ 连通/ 图/ ,/ 由/ P/ =/ (/ N/ ,/ α/ ,/ β/ )/ 表示/ ,/ 其中/ :/ N/ 表示/ 节点/ 的/ 有限/ 集/ ;/ α/ :/ N/ →/ T/ 表示/ 节点/ 类型/ 映射函数/ ;/ β/ :/ N/ →/ L/ 表示/ 节点/ 标号/ 映射函数/ ./ 令/ P/ =/ (/ N/ ,/ α/ ,/ β/ )/ 为/ 业务/ 流程图/ ,/ E/ =/ N/ ×/ N/ 为/ 有/ 向/ 边/ ,/ 节点/ x/ ∈/ N/ ,/ y/ ∈/ N/ ./ 节点/ x/ 是/ 另/ 一个/ 节点/ y/ 的/ 输入/ 当且/ 仅/ 当/ 在/ x/ 与/ y/ 之间/ 存在/ 一条/ 有/ 向/ 边/ (/ 即/ Page3/ (/ x/ ,/ y/ )/ ∈/ E/ )/ ./ 节点/ x/ 是/ y/ 的/ 输出/ 当且/ 仅/ 当/ (/ y/ ,/ x/ )/ ∈/ E/ ./ 没有/ 任何/ 输入/ 的/ 节点/ 称为/ 开始/ 节点/ ,/ 没有/ 任何/ 输出/ 的/ 结点/ 称为/ 结束/ 节点/ ./ 为了/ 清楚/ 地/ 描述/ 流程图/ 模型/ 的/ 复杂/ 结构/ (/ 工作/ 流/ 模式/ )/ [/ 10/ ]/ ,/ 我们/ 使用/ α/ 来/ 区分/ 节点/ 类型/ ./ 以/ Petri/ 网为例/ ,/ 库所/ (/ p/ )/ 和/ 变迁/ (/ t/ )/ 是/ 两种/ 不同/ 的/ 节点/ 类型/ ./ 如图/ 1/ 所示/ ,/ 上面/ 一行/ 由/ Petri/ 网/ 表示/ 的/ 模型/ 是/ 标准/ 的/ 工作/ 流/ 模式/ (/ 即/ AND/ -/ split/ ,/ AND/ -/ join/ ,/ OR/ -/ split/ ,/ OR/ -/ join/ )/ ,/ 下面/ 一行/ 是/ 其/ 对应/ 的/ 业务/ 流程图/ ./ 其中/ ,/ 每个/ 节点/ 都/ 由/ 一组/ 节点/ 类型/ 和/ 节点/ 标号/ 表示/ ./ 定义/ 2/ ./ 流程/ 子图/ ./ 令/ P/ =/ (/ N/ ,/ α/ ,/ β/ )/ 与/ P/ =/ (/ N/ ,/ α/ ,/ β/ )/ 表示/ 两个/ 流程图/ ./ 当/ 下列/ 条件/ 成立/ 时/ ,/ P/ 是/ P/ 的/ 子/ 图/ ,/ 即/ P/ / P/ :/ N/ / N/ ,/ / x/ ∈/ N/ ,/ α/ (/ x/ )/ =/ α/ (/ x/ )/ ,/ / x/ ∈/ N/ ,/ β/ (/ x/ )/ =/ β/ (/ x/ )/ ./ 根据/ 定义/ 2/ ,/ 每个/ 业务/ 流程图/ 拥有/ 多个/ 不同/ 的/ 业务流程/ 子图/ ,/ 这些/ 子图/ 一般/ 是/ 流程/ 片断/ ./ 通常/ 同一个/ 业务/ 流程图/ 或/ 流程/ 子图/ 可以/ 有/ 不同/ 的/ 具体/ 表现形式/ ./ 如图/ 2/ 所示/ ,/ G1/ 与/ G2/ 是/ 两个/ 流程图/ 模型/ ,/ 可以/ 看出/ N/ (/ G1/ )/ =/ N/ (/ G2/ )/ 且/ E/ (/ G1/ )/ =/ E/ (/ G2/ )/ ,/ 我们/ 认为/ G1/ 与/ G2/ 是/ 相同/ 或/ 同构/ 的/ ./ 同构/ 现象/ 在/ 图/ 数据/ 中是/ 一个/ 普遍现象/ ,/ 基于/ 定义/ 1/ ,/ 我们/ 给出/ 流程/ 同构/ 的/ 定义/ ./ 定义/ 3/ ./ 流程/ 同构/ ./ 令/ P/ =/ (/ N/ ,/ α/ ,/ β/ )/ 与/ P/ =/ (/ N/ ,/ α/ ,/ β/ )/ 表示/ 两个/ 流程图/ ./ P/ 与/ P/ 同构/ (/ 表示/ 为/ P/ / P/ )/ 是/ 指/ ,/ 存在/ 一个双/ 射/ 函数/ ,/ f/ :/ N/ →/ N/ ,/ 使得/ / u/ ∈/ N/ ,/ (/ α/ (/ u/ )/ =/ α/ (/ f/ (/ u/ )/ )/ )/ ,/ / u/ ∈/ N/ ,/ (/ β/ (/ u/ )/ =/ β/ (/ f/ (/ u/ )/ )/ )/ ,/ / u/ ,/ v/ ∈/ N/ ,/ (/ (/ u/ ,/ v/ )/ ∈/ E/ / (/ f/ (/ u/ )/ ,/ f/ (/ v/ )/ )/ ∈/ E/ )/ ./ 在/ 对/ 业务流程/ 资源库/ 进行/ 基于/ 图/ 挖掘/ 方式/ 的/ 流程/ 模式/ 提取/ 时/ ,/ 同/ 构图/ 的/ 检测/ 是/ 难点/ ,/ 为了/ 提高/ 挖掘/ 效率/ ,/ 同/ 构图/ 需要/ 被/ 剪枝/ ./ 由于/ 子/ 图同构/ 是/ NP/ -/ C/ 问题/ ,/ 没有/ 算法/ 能/ 在/ 多项式/ 时间/ 内/ 对/ 其/ 进行/ 检测/ ./ 当前/ 图/ 挖掘/ 领域/ 主要/ 采用/ 规范化/ 标记/ (/ Canonicallabel/ )/ 来/ 解决/ 图同构/ 问题/ ./ 一个/ 图/ 的/ 规范化/ 标记/ 表示/ 为/ cl/ (/ G/ )/ ,/ 它/ 是/ 由/ 一个/ 字节/ ,/ 字符/ 或/ 数字/ 组成/ 的/ 序列/ ,/ 是/ 图/ 的/ 唯一/ 编码/ ,/ 且/ 该/ 编码/ 与/ 图/ 的/ 顶点/ 和/ 边/ 无关/ ,/ 完全/ 取决于/ 图/ 的/ 拓扑/ 结构/ ./ 如果/ 两个/ 图/ 的/ 规范化/ 标记/ 相同/ ,/ 那么/ 这/ 两个/ 图/ 互为/ 同构/ ./ 类似/ 地/ ,/ 在/ 本文/ 工作/ 中/ ,/ 同构/ 流程图/ 也/ 被/ 认为/ 是/ 相同/ 的/ ./ 我们/ 采用/ 了/ 深度/ 优先/ 搜索/ (/ DepthFirstSearch/ )/ 编码/ [/ 11/ ]/ 做/ 为/ 规范化/ 标记/ 的/ 基础/ ,/ 所以/ 挖掘/ 到/ 的/ 子/ 流程图/ 将/ 是/ 唯一/ 的/ ,/ 且/ 在/ 模式/ 提取/ 时/ 不会/ 有/ 重复/ 的/ 处理/ 操作/ 发生/ ./ 下面/ 给出/ DFS/ 编码/ 相关/ 定义/ ./ 2.2/ 图/ 的/ 规范化/ 标记/ 众所周知/ ,/ 深度/ 优先/ 搜索/ 被/ 广泛应用/ 在/ 图/ 算法/ 中/ ,/ 它/ 比/ 广度/ 优先/ 搜索/ (/ BFS/ )/ 消耗/ 的/ 内存/ 要少/ ./ 当对/ 一个/ 图/ 进行/ 深度/ 优先/ 搜索/ 时/ ,/ 一个/ DFS/ 树/ 将/ 被/ 构建/ ./ 深度/ 优先/ 搜索/ 的/ 过程/ 中/ 对/ 顶点/ 访问/ 次序/ 的/ 不同/ 会/ 导致/ 同一个/ 图/ 的/ DFS/ 树有/ 多种/ 表达/ ./ 因此/ ,/ 不能/ 直接/ 用/ DFS/ 序列/ 来/ 检测/ 图/ 的/ 同构/ 现象/ ./ 采用/ DFS/ 字典/ 序/ 以及/ 最小/ DFS/ 编码/ 做/ 为/ 图/ 的/ 规范化/ 标记/ 可/ 解决/ 此/ 问题/ ./ 首先/ ,/ 我们/ 给出/ DFS/ 下/ 标的/ 定义/ ./ 定义/ 4/ ./ DFS/ 下标/ ./ 在/ 构建/ 一个/ DFS/ 树/ T/ 时/ ,/ 顶点/ 的/ 访问/ 顺序/ 构成/ 了/ 一个/ 线性/ 序/ ./ 使用/ 下标/ 来/ 记录/ 这个/ 序列/ ,/ 其中/ i/ </ j/ 意味着/ 在/ 进行/ 深度/ 优先/ 搜索/ 时/ 顶点/ vi/ 在/ vj/ 之前/ 被/ 访问/ ./ 用/ T/ 做下/ 标的/ 图/ G/ 记作/ GT/ ,/ T/ 称为/ G/ 的/ 一个/ DFS/ 下标/ ./ 我们/ 称/ T/ 的/ 开始/ 顶点/ v0/ 为根/ ,/ 最后/ 访问/ 的/ 顶点/ vn/ 为/ 最右/ 顶点/ ./ 从/ v0/ 到/ vn/ 的/ 直接/ 路径/ 称为/ 最右/ 路径/ ./ 如图/ 3/ 所示/ ,/ 顶点/ 标号/ 分别/ 是/ X/ ,/ Y/ 和/ Z/ ,/ 边/ 的/ 标号/ 是/ a/ 与/ b/ ./ 图/ 3/ (/ b/ )/ 到/ (/ d/ )/ 中/ 的/ 粗体/ 边/ 表示/ 图/ 3/ (/ a/ )/ 的/ 3/ 个/ 不同/ DFS/ 树/ ./ 它们/ 产生/ 3/ 个/ 不同/ 的/ 下标/ 方式/ ,/ 图/ 3/ (/ b/ )/ 的/ 最右/ 路径/ 是/ (/ v0/ ,/ v1/ ,/ v3/ )/ ,/ 而图/ 3/ (/ c/ )/ 和/ 图/ 3/ (/ d/ )/ 的/ 则/ 是/ (/ v0/ ,/ v1/ ,/ v2/ ,/ v3/ )/ ./ DFS/ 树/ T/ ,/ 我们/ 有/ :/ 定义/ 5/ ./ 最右/ 扩展/ ./ 给定/ 一个/ 图/ G/ 以及/ 它/ 的/ (/ 1/ )/ 后/ 向/ 扩展/ ./ 一条/ 新/ 的/ 边/ 能够/ 添加/ 到/ 最右/ 顶/ Page4/ 到/ 一个/ 最右/ 路径/ 上/ 的/ 顶点/ ./ (/ 2/ )/ 前向/ 扩展/ ./ 一个/ 新/ 的/ 顶点/ 能够/ 引入/ 并/ 连接/ 由于/ 上述/ 扩展/ 发生/ 在/ 最右/ 路径/ ,/ 我们/ 也/ 称/ 它们/ 点/ 和/ 最右/ 路径/ 上/ 另/ 一个/ 顶点/ 之间/ ./ 为/ 最右/ 扩展/ ./ 以图/ 3/ (/ c/ )/ 为例/ ,/ 因为/ 在/ v1/ ,/ v2/ 和/ v3/ 间/ 已/ 存在/ 边/ ,/ 所以/ 候选/ 后/ 向/ 扩展/ 边/ 可以/ 是/ (/ v3/ ,/ v0/ )/ 而/ 候选/ 前向/ 扩展/ 边/ 可以/ 是从/ v0/ ,/ v1/ ,/ v2/ 或/ v3/ 引入/ 一个/ 新/ 的/ 顶点/ ./ 图/ 3/ (/ c/ )/ 所示/ 的/ 所有/ 潜在/ 最右/ 扩展/ 边/ 在/ 图/ 4/ 中/ 给出/ ,/ 虚线/ 表示/ 扩展/ 边/ ./ 图/ 4/ (/ a/ )/ 和/ (/ b/ )/ 两者/ 均/ 扩展/ 自/ 最右/ 顶点/ (/ 即/ v3/ )/ ,/ 而图/ 4/ (/ c/ )/ 和/ (/ d/ )/ 扩展/ 自/ 最右/ 路径/ 上/ 的/ 其它/ 顶点/ ./ 总之/ ,/ 后/ 向/ 扩展/ 仅/ 能够/ 发生/ 在/ 最右/ 顶点/ ,/ 而前/ 向/ 扩展/ 则/ 可以/ 发生/ 在/ 最右/ 路径/ 上/ 的/ 顶点/ ./ 如前所述/ ,/ 一个/ 图/ 很/ 可能/ 会/ 有/ 多个/ DFS/ 树/ (/ 或/ 下标/ )/ ./ 为了/ 避免/ 从/ 相同/ 的/ 图/ (/ 即同/ 构图/ )/ 进行/ 扩展/ ,/ 我们/ 需要/ 选择/ 一个/ 基准/ 下标/ 并/ 在/ 其/ 基础/ 上/ 进行/ 最右/ 扩展/ ./ 定义/ 6/ ./ DFS/ 编码/ ./ 给定/ 一个/ 图/ G/ 的/ DFS/ 树/ ,/ 下/ 标图/ GT/ 可以/ 转化/ 为/ 一个/ 边序/ :/ ei/ (/ i/ =/ 0/ ,/ …/ ,/ |/ E/ |/ -/ 1/ )/ ./ ei/ 被/ 称为/ DFS/ 编码/ ,/ 表示/ 为/ DFSCode/ (/ G/ ,/ T/ )/ ./ 基于/ 定义/ 6/ ,/ 在/ 下/ 标图/ 与/ DFS/ 编码/ 间/ 存在/ 一个双/ 射/ 关系/ ./ 此外/ ,/ 由于/ 一个/ 图/ 拥有/ 多个/ 边/ 序列/ ,/ 所以/ 我们/ 在/ 这些/ 边/ 序列/ 间/ 构造/ 一个/ 次序/ ,/ 然后/ 选择/ 能够/ 产生/ 最小/ 边/ 序列/ 的/ 下标/ 作为/ 该图/ 的/ 下标/ ./ 这个/ 次序/ 也/ 可以/ 用于/ DFS/ 编码/ ,/ 下面/ 给出/ 它/ 的/ 定义/ ./ 定义/ 7/ ./ DFS/ 字典/ 序/ ./ 令边/ 由/ 一个/ 6/ 元组/ 表示/ :/ (/ i/ ,/ j/ ,/ f/ ,/ li/ ,/ l/ (/ i/ ,/ j/ )/ ,/ lj/ )/ ./ 其中/ ,/ li/ 与/ lj/ 分别/ 是/ 顶点/ vi/ 与/ vj/ 的/ 标号/ ,/ l/ (/ i/ ,/ j/ )/ 是/ 连接/ 它们/ 的/ 边/ ,/ f/ 表示/ l/ (/ i/ ,/ j/ )/ 的/ 方向/ :/ f/ =/ 1/ 表示/ vi/ →/ vj/ ,/ f/ =/ -/ 1/ 表示/ vi/ ←/ vj/ ./ 给定/ 一个/ 顶点/ v/ ,/ 边/ (/ DFS/ 编码/ )/ 的/ 次序/ 关系/ 如下/ 定义/ :/ (/ 1/ )/ 顶点/ v/ 的/ 所有/ 后/ 向/ 边/ 应/ 在/ 它/ 的/ 前/ 向/ 边/ 之前/ (/ 2/ )/ 若/ 顶点/ v/ 没有/ 任何/ 前向边/ ,/ 我们/ 将/ 它/ 的/ 后/ 向/ 边/ 放置/ 在/ 其/ 作为/ 边/ 的/ 终/ 顶点/ 时/ 的/ 前/ 向/ 边/ 之后/ ./ 令边序/ 关系/ 拥有/ 第/ 1/ 优先级/ ,/ 顶点/ 标号/ li/ 为/ 第/ 2/ 出现/ ./ 优先级/ ,/ 边/ 的/ 标号/ l/ (/ i/ ,/ j/ )/ 拥有/ 第/ 3/ 优先级/ ,/ 顶点/ 标号/ lj/ 为/ 第/ 4/ 优先级/ ./ 通过/ 该/ 优先级/ 次序/ 可以/ 确定/ 两条/ 边/ (/ 或/ DFS/ 编码/ )/ 的/ 顺序/ ./ 基于/ 上述/ 规则/ 的/ 次序/ 称为/ DFS/ 字典/ 序/ ./ 根据/ 定义/ 7/ ,/ 图/ 3/ (/ c/ )/ 的/ 完整/ 边/ 顺序/ 是/ (/ 0/ ,/ 1/ )/ ,/ (/ 1/ ,/ 2/ )/ ,/ (/ 2/ ,/ 3/ )/ ,/ (/ 3/ ,/ 1/ )/ ./ 图/ 3/ (/ b/ )/ ~/ (/ d/ )/ 的/ DFS/ 编码/ 如表/ 1/ 所示/ ,/ 我们/ 可以/ 看出/ ,/ DFS/ 编码/ 的/ 第/ 1/ 条边/ 分别/ 是/ (/ 0/ ,/ 1/ ,/ 1/ ,/ X/ ,/ a/ ,/ X/ )/ ,/ (/ 0/ ,/ 1/ ,/ 1/ ,/ Y/ ,/ b/ ,/ X/ )/ 和/ (/ 0/ ,/ 1/ ,/ 1/ ,/ Z/ ,/ b/ ,/ X/ )/ ./ 由于/ 它们/ 拥有/ 相同/ 的/ 边序/ ,/ 即/ 下标/ (/ 0/ ,/ 1/ )/ ,/ 以及/ 在/ 0/ 与/ 1/ 之间/ 没有/ 别的/ 边/ 存在/ ,/ 所以/ 无法/ 区分/ 它们/ 之间/ 的/ 不同/ ./ 但是/ ,/ 通过/ 使用/ 余下/ 的/ 标号/ 信息/ 优先/ 顺序/ ,/ 我们/ 可以/ 得到/ (/ 0/ ,/ 1/ ,/ 1/ ,/ X/ ,/ a/ ,/ X/ )/ </ (/ 0/ ,/ 1/ ,/ 1/ ,/ Y/ ,/ b/ ,/ X/ )/ </ (/ 0/ ,/ 1/ ,/ 1/ ,/ Z/ ,/ b/ ,/ X/ )/ ./ 因此/ ,/ cb/ </ cc/ </ cd/ 是/ 表/ 1/ 中所列/ DFS/ 编码/ 的/ 次序/ ./ edgecbe0/ (/ 0/ ,/ 1/ ,/ 1/ ,/ X/ ,/ a/ ,/ X/ )/ (/ 0/ ,/ 1/ ,/ 1/ ,/ Y/ ,/ b/ ,/ X/ )/ (/ 0/ ,/ 1/ ,/ 1/ ,/ Z/ ,/ b/ ,/ X/ )/ e1/ (/ 1/ ,/ 2/ ,/ 1/ ,/ X/ ,/ b/ ,/ Y/ )/ (/ 1/ ,/ 2/ ,/ 1/ ,/ X/ ,/ a/ ,/ Z/ )/ (/ 1/ ,/ 2/ ,/ 1/ ,/ X/ ,/ a/ ,/ X/ )/ e2/ (/ 1/ ,/ 3/ ,/ 1/ ,/ X/ ,/ a/ ,/ Z/ )/ (/ 2/ ,/ 3/ ,/ 1/ ,/ Z/ ,/ b/ ,/ X/ )/ (/ 2/ ,/ 0/ ,/ 1/ ,/ X/ ,/ a/ ,/ Z/ )/ e3/ (/ 3/ ,/ 0/ ,/ 1/ ,/ Z/ ,/ b/ ,/ X/ )/ (/ 3/ ,/ 1/ ,/ 1/ ,/ X/ ,/ a/ ,/ X/ )/ (/ 2/ ,/ 3/ ,/ 1/ ,/ X/ ,/ b/ ,/ Y/ )/ 定义/ 8/ ./ 最小/ DFS/ 编码/ ./ 对于/ 一个/ 图/ G/ ,/ C/ (/ G/ )/ =/ {/ (/ DFSCode/ (/ G/ ,/ T/ )/ )/ |/ / T/ ,/ TisaDFStreeforG/ }/ ,/ 基于/ DFS/ 字典/ 序/ ,/ C/ (/ G/ )/ 中/ 最小/ 的/ 元素/ 称为/ 最小/ DFS/ 编码/ ,/ 表示/ 为/ minDFSCode/ (/ G/ )/ ./ 根据/ 定义/ 8/ ,/ 图/ 3/ (/ a/ )/ 的/ 最小/ DFS/ 编码/ 是/ 表/ 1/ 中/ 的/ cb/ ./ 此外/ ,/ 我们/ 可以/ 推断出/ 如下/ 最小/ DFS/ 编码/ 与/ 同/ 构图/ 间/ 的/ 重要/ 关系/ ./ 性质/ 1/ ./ 给定/ 图/ G/ 和/ G/ ,/ 存在/ 下列/ 关系/ :/ G/ / G/ / minDFSCode/ (/ G/ )/ =/ minDFSCode/ (/ G/ )/ ./ 利用/ 最小/ DFS/ 编码/ ,/ 我们/ 在/ 整个/ 流程/ 推荐/ 过程/ 中/ 不仅/ 可以/ 对/ 所有/ 流程图/ 及其/ 子图/ 进行/ 唯一/ 的/ 标识/ ,/ 同时/ 也/ 方便/ 判断/ 两个/ 流程图/ 或子/ 图/ 是否/ 相同/ ./ 2.3/ 流程/ 推荐/ 的/ 度量/ 如前所述/ ,/ 通过/ 图/ 挖掘/ 方法/ 发现/ 业务流程/ 库中/ 的/ 流程/ 模式/ 是/ 流程/ 推荐/ 的/ 基础/ ./ 但/ 匹配/ 流程/ 模式/ 并/ 找到/ 相应/ 的/ 候选/ 推荐/ 节点/ 是/ 流程/ 推荐/ 的/ 关键/ ./ 定义/ 9/ ./ 候选/ 节点/ 集/ ,/ 上/ 游子/ 图/ ./ 令/ P/ =/ (/ N/ ,/ α/ ,/ β/ )/ 与/ P/ =/ (/ N/ ,/ α/ ,/ β/ )/ 表示/ 两个/ 流程图/ ./ N/ 〈/ P/ ,/ end/ 〉/ 表示/ 流程/ P/ 的/ 结束/ 节点/ ,/ 称为/ 候选/ 节点/ 集/ ./ 当/ 下列/ 条件/ 满足/ 时/ ,/ P/ 是/ 候选/ 节点/ 集/ N/ 〈/ P/ ,/ end/ 〉/ 的/ 上/ 游子/ 图/ :/ N/ =/ N/ -/ N/ 〈/ P/ ,/ end/ 〉/ ;/ P/ / P/ (/ 定义/ 2/ )/ ./ 根据/ 定义/ 9/ ,/ 每个/ 业务/ 流程图/ 或子/ 图/ 可/ 被/ 分为/ 两/ 部分/ ,/ 即/ 候选/ 节点/ 集/ (/ Candidatenodeset/ ,/ Cns/ )/ 与/ Page5/ 它/ 对应/ 的/ 上/ 游子/ 图/ (/ Upstreamsubgraph/ ,/ Us/ )/ ,/ 表示/ 为/ 〈/ Cns/ ,/ Us/ 〉/ ./ 反之/ ,/ 每/ 对/ 〈/ Cns/ ,/ Us/ 〉/ 对应/ 一个/ 业务/ 流程图/ 或子/ 图/ ./ 在/ 业务流程/ 资源库/ 中/ ,/ 有/ 很多/ 〈/ Cns/ ,/ Us/ 〉/ ,/ 而且/ 一个/ 上/ 游子/ 图/ 或/ 候选/ 节点/ 集/ 可能/ 会/ 出现/ 在/ 多个/ 〈/ Cns/ ,/ Us/ 〉/ 结构/ 中/ ./ 因此/ ,/ 我们/ 通过/ 置信度/ (/ Confidence/ )/ 来/ 评估/ 候选/ 节点/ 集/ 与/ 它/ 的/ 上/ 游子/ 图/ ./ 定义/ 10/ ./ 置信度/ ./ 令/ Cns/ 表示/ 一个/ 候选/ 节点/ 集/ ,/ Us/ 表示/ 一个/ 上/ 游子/ 图/ ./ 在/ 业务流程/ 资源库/ 中/ ,/ freq/ (/ Cns/ ,/ Us/ )/ 表示/ Cns/ 与/ Us/ 同时/ 出现/ 的/ 频数/ ,/ freq/ (/ Cns/ )/ 表示/ Cns/ 出现/ 的/ 频数/ ./ 在/ 给定/ Us/ 条件/ 下/ ,/ Cns/ 的/ 置信度/ 定义/ 为/ 实际/ 中/ ,/ 一个/ 流程图/ 或子/ 图中/ 的/ 候选/ 节点/ 集/ 与/ 上/ 游子/ 图/ 出现/ 频数/ 很/ 可能/ 会/ 较/ 低/ ,/ 但是/ 它们/ 也/ 很/ 可能/ 会强/ 关联/ ./ 如果/ 使用/ 传统/ 关联/ 规则/ 中/ 的/ 支持/ 度/ ,/ 这样/ 的/ 强/ 关联/ 将/ 被/ 剔除/ ,/ 而且/ 也/ 不/ 可能/ 基于/ 这些/ 业务流程/ 进行/ 推荐/ ./ 因此/ ,/ 本文/ 仅/ 使用/ 置信度/ 来/ 进行/ 推荐/ ./ 定义/ 11/ ./ 有/ 影响/ 上/ 游子/ 图/ ./ 令/ θ/ Conf/ 表示/ 置信度/ 的/ 阈值/ ./ 对于/ 一个/ 已知/ 的/ 候选/ 节点/ 集/ Cns/ 以及/ 它/ 的/ 对应/ 上/ 游子/ 图/ Us/ ,/ Us/ 是/ 有/ 影响/ 的/ 当且/ 仅/ 当/ :/ Conf/ (/ Cns/ ,/ Us/ )/ / θ/ Conf/ ./ 在/ 业务流程/ 库中/ ,/ 有/ 影响/ 的/ 上/ 游子/ 图/ 决定/ 候选/ 节点/ 集/ 的/ 出现/ ,/ 这些/ 子图/ 也/ 称为/ 流程/ 模式/ ./ 下面/ 我们/ 给出/ 流程/ 模式/ 表/ 的/ 定义/ ,/ 流程/ 模式/ 表在/ 本文/ 工作/ 中将/ 作为/ 流程/ 匹配/ 与/ 活动/ 节点/ 推荐/ 时/ 的/ 输入/ ./ 3/ 元组/ ,/ T/ =/ (/ I/ ,/ C/ ,/ f/ )/ ,/ 其中/ :/ 定义/ 12/ ./ 流程/ 模式/ 表/ ./ 流程/ 模式/ 表/ T/ 是/ 一个/ I/ 表示/ 有/ 影响/ 上/ 游子/ 图/ 的/ 有限/ 集合/ ;/ C/ 表示/ 候选/ 节点/ 集/ 的/ 有限/ 集合/ ;/ f/ :/ I/ →/ C/ 是/ 一个/ 满射/ 函数/ ./ 流程/ 模式/ 表中/ 的/ 每个/ 候选/ 节点/ 集/ 包含/ 了/ 将/ 被/ 推荐/ 的/ 一个/ 或/ 多个/ 活动/ 节点/ ./ 为了/ 选择/ 合理/ 的/ 候选/ 节点/ 集/ ,/ 需要/ 进行/ 参考/ 流程/ 片断/ 与/ 有/ 影响/ 的/ 上/ 游子/ 图/ 的/ 匹配/ 工作/ ./ 通过/ 匹配/ ,/ 可/ 找出/ 与/ 参考/ 流程/ 最/ 相关/ 的/ 候选/ 节点/ 集/ ./ 其中/ ,/ 最/ 理想/ 的/ 情况/ 是/ 可以/ 在/ 模式/ 表中/ 找到/ 与/ 参考/ 流程/ 完全一致/ 的/ 模式/ ,/ 该/ 模式/ 对应/ 的/ 候选/ 节点/ 则/ 为/ 最佳/ 推荐/ 节点/ ./ 但/ 往往/ 参考/ 流程/ 与/ 流程/ 模式/ 是/ 不同/ 的/ ,/ 这/ 就/ 需要/ 我们/ 借助/ 一定/ 的/ 策略/ 去/ 寻找/ 最为/ 相关/ 的/ 推荐/ 候选/ 节点/ 集/ ./ 本文/ 工作/ 基于/ 如下/ 假设/ :/ 参考/ 流程/ 的/ 子/ 图均/ 对/ 推荐/ 产生/ 作用/ ,/ 即/ 是/ 有/ 影响/ 的/ ./ 如/ 业务人员/ 正/ 执行/ 如下/ 流程/ 的/ 建模/ :/ a/ →/ b/ →/ c/ →/ d/ →/ ?/ ,/ 其中/ “/ ?/ ”/ 表示/ 待/ 推/ 基于/ 如/ 上/ 假设/ ,/ 本文/ 从/ 参考/ 流程图/ 结构/ 出发/ ,/ 提荐/ 的/ 活动/ 节点/ ,/ “/ a/ →/ b/ →/ c/ →/ d/ ”/ 表示/ 参考/ 流程/ ./ 流程/ 片断/ “/ a/ →/ b/ ”/ ,/ “/ c/ →/ d/ ”/ 以及/ “/ b/ →/ c/ →/ d/ ”/ 均/ 是/ 参考/ 流程/ 的/ 子/ 图/ ,/ 当子/ 图/ “/ a/ →/ b/ ”/ 能/ 与/ 流程/ 模式/ 表中/ 的/ 某个/ 模式/ 完全/ 匹配/ (/ 即/ 相同/ )/ ,/ 则/ 该/ 模式/ 对应/ 的/ 候选/ 推荐/ 节点/ 则/ 有/ 可能/ 被/ 推荐/ ,/ 其它/ 两个/ 片断/ 类似/ ./ 出/ 了/ 近距离/ 最大/ 子图/ 优先/ 的/ 匹配/ 策略/ ./ 定义/ 13/ ./ 节点/ 后/ 向/ 位置/ ./ 令/ P/ =/ (/ N/ ,/ α/ ,/ β/ )/ 表示/ 参考/ 流程/ ,/ R/ (/ R/ ∩/ N/ =/ / )/ 表示/ P/ 的/ 推荐/ 节点/ 集合/ ./ In/ (/ x/ )/ 与/ Out/ (/ x/ )/ 分别/ 表示/ x/ (/ x/ ∈/ (/ N/ ∪/ R/ )/ )/ 的/ 输入/ 节点/ 集/ 与/ 输出/ 节点/ 集/ ./ num/ (/ N/ )/ 表示/ 集合/ N/ 的/ 个数/ ./ / x/ ,/ y/ ,/ z/ ∈/ (/ N/ ∪/ R/ )/ ,/ 节点/ x/ 的/ 后/ 向/ 位置/ 为/ Locanode/ (/ x/ )/ =/ 0/ ,/ x/ ∈/ R/ 烄/ Locanode/ (/ y/ )/ +/ 1/ ,/ x/ ∈/ In/ (/ y/ )/ ,/ num/ (/ Out/ (/ In/ (/ y/ )/ )/ )/ =/ 1/ 烅/ max/ (/ Locanode/ (/ z/ )/ +/ 1/ )/ ,/ z/ ∈/ Out/ (/ In/ (/ x/ )/ )/ ,/ 烆/ 图/ 5/ 通过/ 4/ 个/ 框图/ 描述/ 了/ 一个/ 具体/ 业务/ 流程图/ 中/ 节点/ 后/ 向/ 位置/ 的/ 确定/ 过程/ ./ i/ 中/ R/ 表示/ 推荐/ 节点/ 集合/ ,/ 剩余/ 部分/ 为/ 参考/ 流程/ ./ ii/ 中/ 的/ 两条/ 直向/ 路径/ 是/ i/ 中/ 的/ 流程/ 子图/ ./ 对于/ 每条/ 路径/ ,/ 节点/ 后/ 向/ 位置/ 在/ 其/ 上面/ 均/ 进行/ 了/ 标注/ ./ 对于/ iii/ 中/ 的/ 左子/ 图/ ,/ 节点/ a/ 是/ b/ 与/ c/ 的/ 输入/ (/ 即/ a/ ∈/ In/ (/ b/ )/ 且/ a/ ∈/ In/ (/ c/ )/ )/ ,/ 节点/ b/ 与/ c/ 是/ a/ 的/ 输出/ (/ 即/ b/ ,/ c/ ∈/ Out/ (/ a/ )/ )/ ./ 注意/ ,/ 由于/ i/ 中/ 的/ 流程/ 有/ 两条/ 并行/ 的/ 路径/ ,/ 所以/ 节点/ a/ 有/ 两个/ 位置/ 值/ :/ 4/ 与/ 3/ ./ 在/ 这种/ 情况/ 下/ ,/ 我们/ 选择/ 最大值/ ./ 最终/ 我们/ 获得/ 的/ 整个/ 流程/ 的/ 完整/ 节点/ 后/ 向/ 位置/ 在/ iv/ 中/ 表示/ ./ 定义/ 14/ ./ 子图/ 大小/ ./ 令/ P/ ,/ P/ ,/ P/ 表示/ 3/ 个/ 不同/ 的/ 业务/ 流程图/ ,/ 其中/ P/ 与/ P/ 是/ P/ 的/ 两个/ 子图/ ./ 若/ num/ (/ N/ )/ >/ num/ (/ N/ )/ ,/ 则/ P/ >/ P/ ./ 根据/ 定义/ 14/ ,/ 子图/ 大小/ 由/ 其/ 包含/ 节点/ 个数/ 决定/ ./ 基于/ 参考/ 流程/ 的/ 子/ 图/ 大小/ 以及/ 定义/ 13/ 与/ 14/ ,/ 我们/ 给出/ 近距离/ 最大/ 子图/ 的/ 定义/ ./ 定义/ 15/ ./ 近距离/ 最大/ 子图/ ./ 令/ P/ 表示/ 参考/ 流程/ ./ Pi/ / P/ (/ 1/ / i/ / n/ )/ 表示/ 参考/ 流程/ 的/ 流程/ 子图/ ,/ 其中/ n/ 表示/ 参考/ 流程/ P/ 当前/ 未/ 参与/ 排序/ 的/ 流程/ 子图/ Page6/ 个数/ ./ End/ (/ Pi/ )/ 表示/ 流程/ Pi/ 的/ 结束/ 节点/ ./ 对/ n/ 个/ 流程/ 子图/ 按照/ 节点/ 后/ 向/ 位置/ 与子/ 图/ 大小/ 进行/ 排序/ ,/ P/ 的/ 子/ 图/ P/ 称为/ 近距离/ 最大/ 子图/ 需/ 满足/ 如下/ 两个/ 条件/ :/ (/ 1/ )/ P/ / max/ (/ {/ Pi/ ,/ 1/ / i/ / n/ }/ )/ ./ (/ 2/ )/ Locanode/ (/ End/ (/ P/ )/ )/ =/ min/ (/ Locanode/ (/ End/ (/ {/ Pi/ ,/ 1/ / i/ / n/ }/ )/ )/ )/ ./ 我们/ 优先选择/ 近距离/ 最大/ 子图/ 的/ 最小/ DFS/ 编码/ 与/ 流程/ 模式/ 的/ 最小/ DFS/ 编码/ 进行/ 相等/ 性/ 匹配/ ,/ 若/ 两个/ 流程/ 片断/ 相等/ ,/ 则/ 该/ 流程/ 模式/ 对应/ 的/ 候选/ 节点/ 集将/ 作为/ 潜在/ 的/ 推荐/ 活动/ 节点/ ./ 通过/ 近距离/ 最大/ 子图/ 优先/ 策略/ ,/ 可以/ 保证/ 前述/ 最佳/ 推荐/ 节点/ 的/ 产生/ ./ 此外/ ,/ 由于/ 该/ 策略/ 只是/ 通过/ 最小/ DFS/ 编码/ 进行/ 流程图/ 的/ 相同/ 性/ 判断/ ,/ 即/ 本质/ 上/ 是/ 比较/ 两个/ 字符串/ 是否/ 相等/ ,/ 所以/ 整个/ 匹配/ 过程/ 将/ 十分/ 高效/ ./ 3/ 系统/ 框架/ 3.1/ 推荐/ 场景/ 基于/ 流程图/ 匹配/ ,/ 候选/ 节点/ 集才/ 可能/ 被/ 推荐/ ./ 然而/ ,/ 若/ 参考/ 流程/ 有/ 多于/ 一个/ 的/ 结束/ 节点/ ,/ 则/ 会/ 出现/ 多种不同/ 的/ 推荐/ 需求/ ./ 针对/ 该/ 问题/ ,/ 我们/ 提出/ 了/ 两种/ 推荐/ 场景/ ,/ 分别/ 是/ :/ (/ 1/ )/ 基于/ 单个/ 节点/ 推荐/ :/ 推荐/ 结果/ (/ 即/ 候选/ 节点/ 集/ )/ 跟/ 在/ 单个/ 节点/ 后面/ ./ 从/ 单个/ 结束/ 节点/ 画出/ 一条/ 边/ 可/ 触发/ 该/ 场景/ ./ (/ 2/ )/ 基于/ 多个/ 节点/ 推荐/ :/ 推荐/ 结果/ (/ 即/ 候选/ 节点/ 集/ )/ 跟/ 在/ 多个/ 节点/ 后面/ ./ 从/ 多个/ 结束/ 节点/ 分别/ 画出/ 一条/ 边/ 并/ 汇聚/ 可/ 触发/ 该/ 场景/ ./ 对于/ 这/ 两种/ 场景/ ,/ 将/ 整个/ 参考/ 流程/ 模型/ 与/ 模式/ 表中/ 的/ 模式/ 进行/ 匹配/ 是/ 不合理/ 的/ ./ 因为/ 工作/ 流是/ 一个/ 结构复杂/ 的/ 图/ ,/ 里面/ 含有/ 较/ 多/ 执行/ 路径/ 且/ 在/ 大多数/ 时候/ 这些/ 路径/ 都/ 是/ 独立/ 执行/ 的/ ./ 因此/ ,/ 如果/ 我们/ 去/ 匹配/ 每/ 一条/ 路径/ 或者/ 每/ 一个/ 子图/ ,/ 会/ 花费/ 较/ 多/ 时间/ ,/ 而/ 这些/ 计算/ 时间/ 在/ 实际/ 中是/ 无法/ 接受/ 的/ ./ 事实上/ ,/ 每/ 一条/ 路径/ 有/ 其/ 自身/ 的/ 业务/ 逻辑/ ,/ 同时/ 下游/ 节点/ 应该/ 与其/ 上游/ 路径/ 的/ 逻辑/ 保持一致/ ./ 因此/ ,/ 在/ 进行/ 推荐/ 时/ ,/ 我们/ 仅/ 将/ 与/ 当前/ 节点/ 直接/ 相关/ 的/ 上游/ 路径/ (/ 子图/ )/ 作为/ 最/ 重要/ 的/ 因素/ ,/ 而/ 不/ 去/ 考虑/ 其他/ 的/ 路径/ (/ 子图/ )/ ./ 如图/ 6/ 所示/ ,/ 节点/ 标号/ R/ 表示/ 推荐/ 动作/ 发生/ 的/ 位置/ ,/ 右侧/ 框图/ 展示/ 了/ 上述/ 两种/ 推荐/ 场景/ ./ 从图/ 中/ 可/ 明显/ 看出/ ,/ 某些/ 执行/ 路径/ 被/ 忽略/ ./ 需要/ 强调/ ,/ 由于/ 待/ 推荐/ 的/ 候选/ 节点/ 集/ 可能/ 包含/ 多个/ 节点/ ,/ 所以/ 结束/ 节点/ 后面/ 的/ 输出/ 可能/ 是/ 一个/ 分支/ 结构/ ./ 基于/ 上述/ 推荐/ 场景/ ,/ 我们/ 实现/ 了/ 流程/ 推荐/ 原型/ 系统/ —/ —/ —/ JTangWFR/ ,/ 下面/ 对/ 其/ 框架/ 进行/ 概述/ ./ 3.2/ 框架/ 概述/ 图/ 7/ 所示/ 为/ JTangWFR/ 系统/ 框架/ ,/ 3/ 个/ 虚/ 线框/ 表示/ 了/ 该/ 框架/ 的/ 3/ 个/ 主要/ 模块/ ./ 其中/ ,/ 预处理/ 与/ 流程/ 模式/ 发现/ 模块/ 在线/ 下/ (/ offline/ )/ 执行/ 而/ 流程/ 推荐/ 模块/ 则/ 是/ 线/ 上/ (/ online/ )/ 执行/ ./ 预处理/ 模块/ ./ 如前所述/ ,/ 流程/ 库中/ 的/ 业务流程/ 很/ 可能/ 以/ 不同/ 的/ 标注/ 方式/ 存在/ ./ 为了/ 方便/ 对/ 模式/ 进行/ 提取/ ,/ 需要/ 对/ 这些/ 业务流程/ 模型/ 进行/ 重新/ 统一/ 建模/ ,/ 新/ 模型/ 表达/ 能够/ 被/ 上层/ 模块/ 所/ 支持/ ./ 基于/ 重建/ 模/ 的/ 结果/ ,/ 我们/ 使用/ 高效/ 的/ 图/ 挖掘/ 算法/ (/ 如/ gSpan/ 算法/ )/ 执行/ 业务流程/ 子图/ 的/ 挖掘/ ./ 考虑/ 到/ 第/ 2/ 节/ 定义/ 10/ 所/ 提及/ 问题/ ,/ 在/ 挖掘/ 过程/ 中/ ,/ 子图/ 出现/ 频繁/ 度/ 被/ 设置/ 为/ 0/ ./ 本/ 模块/ 的/ 输出/ 是/ 一个/ 流程/ 子图/ 集合/ 以及/ 它们/ 对应/ 的/ 出现/ 频率/ ./ 流程/ 模式/ 发现/ 模块/ ./ 首先/ ,/ 每个/ 挖掘/ 到/ 的/ 流程/ 子图/ 根据/ 定义/ 9/ 被/ 分解/ 为/ 两/ 部分/ ,/ 即/ 候选/ 节点/ 集和上/ 游子/ 图/ ./ 候选/ 节点/ 集/ 用来/ 扩展/ 和/ 完成/ 参考/ 流程/ 的/ 构建/ 过程/ ,/ 上/ 游子/ 图/ 作为/ 模式/ 提取/ 的/ 来源/ ./ 然后/ ,/ 基于/ 定义/ 10/ 和/ 定义/ 11/ ,/ 我们/ 通过/ 选择/ 有/ 影响/ 的/ 上/ 游子/ 图来/ 提取/ 流程/ 模式/ ./ 最后/ ,/ 流程/ 模式/ 以及/ 相对/ 应/ 的/ 候选/ 推荐/ 节点/ 集将/ 被/ 注册/ 到/ 流程/ 模式/ 表中/ (/ 定义/ 12/ )/ ,/ 为/ 随后/ 的/ 流程/ 推荐/ 模块/ 奠定/ 基础/ ./ 至此/ ,/ 整个/ 框架/ 的/ 线下/ 阶段/ 结束/ ./ 流程/ 推荐/ 模块/ ./ 该/ 模块/ 有/ 两个/ 主要/ 步骤/ ./ 第/ 1/ 步/ 计算/ 是/ 在/ 业务/ 建模/ 人员/ 触发/ 相关/ 推荐/ 场景/ 时/ 进行/ 的/ ./ 系统/ 找到/ 参考/ 流程/ 中/ 的/ 执行/ 路径/ 并/ 将/ 该/ 路径/ 与/ 上/ 个/ 模块/ 发现/ 的/ 流程/ 模式/ 进行/ 匹配/ ./ 第/ 2/ 步/ 计算/ 则/ 是/ 具体/ 的/ 流程/ 片断/ 匹配/ 过程/ (/ 定义/ 15/ )/ ,/ 本文/ 采用/ 近距离/ 最大/ 子图/ 优先/ 策略/ 对/ 两个/ 流程/ 子图/ 进行/ 相等/ 性/ Page7/ 判断/ ,/ 若/ 参考/ 流程/ 的/ 子/ 图/ 与/ 流程/ 模式/ 一致/ ,/ 则/ 该/ 模式/ 对应/ 候选/ 节点/ 集/ 成为/ 潜在/ 推荐/ 对象/ ./ 从图/ 7/ 中/ 看出/ ,/ 流程/ 推荐/ 模块/ 由/ 5/ 个/ 组件/ 构成/ 并且/ 这些/ 组件/ 形成/ 一个/ 封闭/ 的/ 循环体/ ./ 参考/ 流程/ 将/ 作为/ 流程/ 匹配/ 的/ 直接/ 输入/ ./ 基于/ 选择/ 的/ 执行/ 路径/ (/ 子图/ )/ ,/ 系统/ 将/ 在/ 流程/ 匹配/ 后/ 推荐/ 相应/ 候选/ 节点/ 集/ ./ 然后/ ,/ 推荐/ 结果/ 反馈/ 给/ 业务/ 建模/ 人员/ 并/ 由/ 建模/ 人员/ 决定/ 是否/ 采用/ 相关/ 节点/ 扩展/ 或/ 完成/ 流程/ 建模/ ./ 这个/ 循环体/ 中/ 的/ 组件/ 不停/ 循环/ 执行/ 直到/ 业务流程/ 建模/ 结束/ ./ 一旦/ 整个/ 建模/ 工作/ 结束/ ,/ 新/ 完成/ 的/ 业务流程/ 可/ 被/ 归档/ 到/ 业务流程/ 资源库/ 中/ ,/ 并/ 作为/ 未来/ 推荐/ 工作/ 的/ 数据/ 来源/ ./ 4/ 实现/ 讨论/ 由于/ 预处理/ 阶段/ 涉及/ 到/ 的/ 工作/ 大多/ 与/ 图/ 挖掘/ 相关/ ,/ 并非/ 本文/ 的/ 重点/ ,/ 所以/ 在/ 本节/ 仅/ 讨论/ 框架/ 中/ 剩下/ 的/ 两个/ 模块/ ./ 4.1/ 模式/ 发现/ 预处理/ 模块/ 挖掘/ 所有/ 的/ 子/ 图/ 并/ 统计/ 每个/ 子图/ 的/ 频数/ ./ 通过/ 图/ 挖掘/ 技术/ ,/ 业务流程/ 子图/ 的/ 重复/ 图/ 已经/ 被/ 去除/ ,/ 在/ 挖掘/ 得到/ 的/ 结果/ 中/ ,/ 每个/ 子图/ 个数/ Output/ :/ TheminimumDFScodesforMap/ (/ S/ ,/ F/ )/ :/ M2/ ;/ theordersofnodelabelsandedgelabels/ :/ N/ ,/ E/ 图/ 8/ 模式/ 发现/ 模块/ 伪/ 代码/ 是/ 唯一/ 的/ ./ 本文/ 工作/ 中/ ,/ 这些/ 子图/ 均是由/ 最小/ DFS/ 编码/ 规范化/ 表示/ 的/ ./ 图/ 8/ 给出/ 流程/ 模式/ 发现/ 的/ 伪/ 代码/ ./ 如图/ 8/ 所示/ ,/ 模式/ 发现/ 模块/ 的/ 输入/ 是/ 由/ 流程/ 子图/ 与其/ 出现/ 频数/ 的/ 集合/ 组成/ 的/ 键/ // 值/ 对/ (/ Key/ -/ Value/ )/ ./ 该/ 阶段/ 的/ 输出/ 结果/ 有/ 3/ 个/ :/ 所有/ 业务/ 流程图/ 及其/ 子图/ 的/ 最小/ DFS/ 编码/ ,/ 业务流程/ 库中/ 顶点/ 和/ 边/ 的/ 标号/ 顺序/ ./ 首先/ ,/ 解析/ 业务流程/ 库中/ 的/ 所有/ 流程图/ 并/ 产生/ 所有/ 顶点/ 和/ 边/ 的/ 标号/ 顺序/ (/ 2/ ~/ 3/ 行/ )/ ,/ 这些/ 标号/ 顺序/ 用来/ 在/ 匹配/ 阶段/ 构造/ 相应/ 的/ DFS/ 编码/ ./ 接下来/ ,/ 算法/ 将/ 执行/ 5/ 个/ 主要/ 的/ 步骤/ ./ 在/ 第/ 1/ 步骤/ ,/ 通过/ 遍历/ 流程/ 库中/ 的/ 所有/ 流程图/ (/ 4/ ~/ 9/ 行/ )/ ,/ 我们/ 将/ 每个/ 流程/ 子图/ 拆/ 分为/ 候选/ 节点/ 和/ 影响/ 上/ 游子/ 图/ ./ 第/ 2/ 步/ ,/ 计算/ 所有/ 流程/ 子图/ 的/ 置信度/ (/ 10/ ~/ 14/ 行/ )/ ,/ 即/ 流程/ 子图/ 出现/ 的/ 频数/ 与/ 对应/ 影响/ 上/ 游子/ 图/ 的/ 频数/ 之比/ ./ 第/ 3/ 步/ 将/ 遍历/ 模式/ 中/ 的/ 所有/ 流程图/ (/ 15/ ~/ 20/ 行/ )/ ,/ 通过/ 给/ 每个/ 流程图/ 添加/ 一个/ 无/ 关节点/ (/ 主要/ 是/ 为了/ 保证/ 图/ 的/ 连通性/ )/ ,/ 获取/ 其/ ID/ 和/ 最小/ DFS/ 编码/ ,/ 并/ 将/ 它们/ 放入/ 一个/ 临时/ 表中/ ./ 第/ 4/ 步/ 合并/ 流程/ 库中/ 的/ 相同/ 编码/ ,/ 并/ 使用/ 一个/ 相反/ 的/ 键/ // 值/ 对/ (/ 即/ 最小/ DFS/ 编码/ 作为/ Key/ ,/ 流程图/ ID/ 为/ Value/ )/ 表示/ 流程/ 库中/ 流程图/ 的/ 最小/ DFS/ 编码/ 集合/ (/ 21/ ~/ 29/ 行/ )/ ./ 这样/ 就/ 将/ 相同/ (/ 或同/ Page8/ 构/ )/ 图/ 归并在/ 一起/ ,/ 在/ 相似/ 度/ 计算/ 时/ 便/ 不会/ 匹配/ 重复/ 多余/ 的/ 图/ ,/ 匹配/ 效率/ 将会/ 得到/ 提高/ ./ 最后/ 第/ 5/ 步中/ ,/ 对/ DFS/ 编码/ 进行/ 了/ 简化/ 处理/ :/ 按序/ 提取/ 每条/ 边/ (/ DFS/ 编码表示/ )/ 的/ 两个/ 顶点/ 以及/ 边/ 的/ 方向/ (/ 30/ ~/ 32/ 行/ )/ ./ 例如/ ,/ 图/ 3/ (/ a/ )/ 的/ 最小/ DFS/ 编码/ 是/ “/ (/ 0/ ,/ 1/ ,/ 1/ ,/ X/ ,/ a/ ,/ X/ )/ ,/ (/ 1/ ,/ 2/ ,/ 1/ ,/ X/ ,/ b/ ,/ Y/ )/ ,/ (/ 1/ ,/ 3/ ,/ 1/ ,/ X/ ,/ a/ ,/ Z/ )/ ,/ (/ 3/ ,/ 0/ ,/ 1/ ,/ Z/ ,/ b/ ,/ X/ )/ ”/ ,/ 经/ 简化/ 处理/ 后/ 变为/ “/ +/ XX/ +/ XY/ +/ XZ/ +/ ZX/ ”/ ,/ 其中/ 为了/ 方便/ SED/ 计算/ ,/ 边/ 的/ 方向/ 1/ 与/ -/ 1/ 分别/ 转换/ 为/ “/ +/ ”/ 与/ “/ -/ ”/ ./ 4.2/ 流程/ 推荐/ 流程/ 推荐/ 模块/ 为/ 业务/ 建模/ 人员/ 产生/ 最/ 可能/ 的/ 活动/ 节点/ 并/ 指导/ 其/ 扩展/ 或/ 完成/ 参考/ 流程/ 的/ 构建/ ./ 该/ 模块/ 处理过程/ 使用/ 了/ 基于/ 近距离/ 最大/ 子图/ 优先/ (/ NMSF/ )/ 的/ 匹配/ 策略/ (/ 定义/ 15/ )/ ./ 基于/ 该/ 策略/ ,/ 我们/ 实现/ 了/ 相关/ 的/ 推荐/ 算法/ ,/ 如图/ 9/ 所示/ ./ 该/ 算法/ 主要/ 包括/ 3/ 个/ 步骤/ :/ 获取/ 参考/ 流程/ 中/ 的/ 上游/ 执行/ 路径/ ,/ 获取/ 上游/ 执行/ 路径/ 所有/ 子图/ 的/ 最小/ DFS/ 编码/ ,/ 匹配/ 上游/ 执行/ 路径/ 与/ 流程/ 模式/ 表中/ 的/ 模式/ ./ Input/ :/ TheminimumDFScodesforprocesspatterns/ :/ M1/ ;/ theordersofnodelabelsandedgelabels/ :/ N/ ,/ E/ ;/ 图/ 9/ 流程/ 推荐/ 算法/ 伪/ 代码/ 算法/ 第/ 1/ 步中/ ,/ 根据/ 3.1/ 节/ 提到/ 的/ 推荐/ 场景/ ,/ 流程/ 建模/ 人员/ 通过/ 选择/ 参考/ 流程/ 的/ 一个/ 或/ 多个/ 结束/ 节点/ 触发/ 推荐/ 动作/ (/ 2/ 行/ )/ ./ 基于/ 所/ 触发/ 的/ 推荐/ 场景/ ,/ 我们/ 遍历/ 搜索/ 结束/ 节点/ 的/ 输入/ 节点/ ,/ 最终/ 会/ 得到/ 一个/ 完整/ 的/ 执行/ 路径/ (/ 3/ 行/ )/ ./ 算法/ 第/ 2/ 步/ 与/ 前面/ 类似/ ,/ 添加/ 一个/ 无/ 关节点/ 到/ 该/ 执行/ 路径/ 末端/ 构成/ 一个/ 新/ 的/ 流程图/ (/ 4/ 行/ )/ ./ 然后/ ,/ 基于/ 上/ 个/ 模块/ 返回/ 的/ 节点/ 和/ 边序/ ,/ 利用/ 图/ 挖掘/ 算法/ 对/ 该/ 新/ 的/ 流程图/ 进行/ 所有/ 子图/ 的/ 挖掘/ 并/ 获取/ 相应/ 的/ 最小/ DFS/ 编码/ (/ 5/ 行/ )/ ./ 然后/ 根据/ 定义/ 15/ ,/ 对/ 所有/ 子图/ 的/ DFS/ 编码/ 进行/ 排序/ ,/ 即将/ 与/ 待/ 推荐/ 节点/ 位置/ 最近/ ,/ 含有/ 最/ 多/ 节点/ 的/ 子/ 图/ 赋予/ 最高/ 匹配/ 优先权/ ./ 算法/ 第/ 3/ 步/ (/ 7/ ~/ 13/ 行/ )/ ,/ 按照/ 已排/ 好/ 的/ 优先/ 顺序/ ,/ 将/ 参考/ 流程/ 子图/ 与/ 流程/ 模式/ 中/ 的/ 模式/ (/ 由/ 最小/ DFS/ 编码表示/ )/ 进行/ 匹配/ ,/ 判断/ 两者/ 的/ 最小/ DFS/ 编码/ 是否/ 相同/ ./ 若/ 相同/ ,/ 则/ 将/ 该/ 模式/ 对应/ 的/ 候选/ 节点/ 集/ 加入/ 到/ 待/ 推荐/ 节点/ 列表/ 中/ ./ 算法/ 最后/ 将/ 该/ 列表/ 返回/ ,/ 一次/ 推荐/ 过程/ 完成/ ./ 整个/ 算法/ 在/ 前/ 两步/ 中/ ,/ 涉及/ 到/ 了/ 参考/ 流程/ 的/ 遍历/ 以及/ 子图/ 挖掘/ ,/ 这/ 两步/ 过程/ 从/ 计算/ 复杂度/ 来看/ 较/ 高/ ,/ 但/ 由于/ 只是/ 针对/ 单个/ 简单/ 图/ 的/ 计算/ ,/ 因此/ 时间/ 消耗/ 并不多/ ./ 算法/ 第/ 3/ 步/ 的/ 计算/ 复杂度/ 为/ O/ (/ m/ ×/ n/ )/ ,/ m/ 表示/ 参考/ 流程/ 中上游/ 执行/ 路径/ 的/ 所有/ 子图/ 个数/ ,/ n/ 表示/ 模式/ 表中/ 的/ 所有/ 模式/ 个数/ ./ 通常/ m/ / n/ ,/ 因此/ 流程/ 推荐/ 模块/ 的/ 时间/ 主要/ 取决于/ 流程/ 模式/ 的/ 数目/ ./ 在/ 实际/ 实现/ 过程/ 中/ ,/ 我们/ 采取/ 了/ 一定/ 的/ 措施/ 来/ 减少/ 需要/ 匹配/ 的/ 模式/ 数目/ ,/ 如/ 通过/ 事先/ 对/ 不同/ 子图/ 大小/ 进行/ 分类/ ,/ 从而/ 匹配/ 操作/ 只/ 发生/ 在/ 相同/ 大小/ 的/ 子/ 图间/ ./ 下面/ 通过/ 实验/ 对/ 本文/ 工作/ 进行/ 验证/ ./ 5/ 实验/ 评估/ 实际/ 应用/ 中/ ,/ 业务/ 建模/ 人员/ 主要/ 关注/ 于/ 推荐/ 结果/ 的/ 有效性/ 以及/ 线上/ 流程/ 推荐/ 过程/ 的/ 高效性/ ,/ 本节/ 将/ 在/ 合成/ 数据/ 集/ 与/ 仿真/ 数据/ 集/ 的/ 基础/ 上/ 对/ 两者/ 进行/ 实验/ 考察/ ./ 由于/ 文献/ [/ 12/ ]/ 中/ 提到/ 的/ 流程/ 推荐/ 方法/ (/ FlowRecommender/ )/ 在/ 准确性/ 和/ 效率/ 方面/ 均/ 优于/ 其它/ 方法/ ./ 因此/ ,/ 我们/ 选用/ 该/ 方法/ 与/ 本文/ 所提/ 的/ 近距离/ 最大/ 子图/ (/ NMSF/ )/ 方法/ 进/ 比较/ ./ 实验/ 所用/ Flow/ -/ Recommender/ 系统/ 是/ 我们/ 根据/ 文献/ [/ 12/ ]/ 所述/ 算法/ 实现/ 的/ ,/ 其/ 性能/ 与/ 文献/ [/ 12/ ]/ 中/ 描述/ 相似/ ./ 两个/ 方法/ 均/ 基于/ Java/ (/ JDK1/ ./ 6/ )/ 实现/ ,/ 挖掘/ 技术/ 为/ gSpan/ 算法/ ,/ 置信度/ 阈值/ 为/ 0.15/ ./ 所有/ 实验/ 均/ 基于/ 如下/ 环境/ :/ 处理器/ Intel/ (/ R/ )/ Core/ (/ TM/ )/ 2DuoE7200/ ,/ 2.53/ GHz/ ;/ 3.24/ GB/ 内存/ ;/ WindowsXP32/ 位/ 操作系统/ ./ Page9/ 由于/ 实现/ 机理/ 上/ 的/ 不同/ ,/ FlowRecommender/ 不/ 支持/ 包含/ 有/ 分支/ 的/ 较为/ 复杂/ 的/ 流程/ 结构/ ,/ 而/ NMSF/ 方法/ 则/ 支持/ 多种/ 复杂/ 结构/ ./ 两个/ 方法/ 的/ 比较/ 实验/ 仅/ 在/ 合成/ 数据/ 集上/ 进行/ 考察/ ./ 合成/ 数据/ 集/ 的/ 生成器/ 与/ 文献/ [/ 12/ ]/ 中/ 类似/ ./ 我们/ 使用/ 的/ 仿真/ 数据/ 集/ 通过/ 模拟/ 实际/ 业务/ 过程/ 得到/ ,/ 其中/ 的/ 流程/ 模型/ 包含/ 了/ 多种/ 分支/ 结构/ ,/ 如/ AND/ -/ Join/ 、/ OR/ -/ Join/ 、/ AND/ -/ Split/ 等/ ./ 通过/ 在/ 仿真/ 数据/ 集上/ 的/ 测试/ ,/ 本文/ 所提/ 方法/ 被/ 证明/ 在/ 实际/ 应用/ 中是/ 高效/ 可行/ 的/ ./ 5.1/ 有效性/ 数据/ 集中/ 10/ %/ 的/ 业务/ 流程图/ 做/ 为/ 测试/ 集来/ 验证/ 有效性/ ,/ 其余/ 90/ %/ 用来/ 进行/ 模式/ 的/ 发现/ ./ 对于/ 测试/ 集中/ 的/ 每个/ 业务/ 流程图/ ,/ 我们/ 从/ 它/ 的/ 第/ 2/ 个/ 节点/ 开始/ 进行/ 推荐/ ./ 被/ 执行/ 过/ 的/ 测试/ 节点/ 将/ 与/ 所/ 推荐/ 节点/ 进行/ 比较/ ,/ 若/ 测试/ 节点/ 与/ 推荐/ 节点/ 相同/ 则/ 认为/ 推荐/ 准确/ ./ 实际/ 中/ ,/ 推荐/ 系统/ 往往/ 会/ 推荐/ 给/ 用户/ 多于/ 一个/ 的/ 结果/ ,/ 以供/ 用户/ 选择/ ./ 因此/ ,/ 在/ 下面/ 的/ 实验/ 中/ ,/ 我们/ 认为/ 若/ 测试/ 节点/ 与/ 推荐/ 结果/ 中/ 的/ 任/ 一个/ 节点/ 相同/ 就/ 认为/ 一次/ 正确/ 的/ 推荐/ ./ 通过/ 计算/ 不同/ 推荐/ 结果/ 数量/ 下/ 的/ 准确性/ ,/ 我们/ 间接/ 地/ 考察/ 两个/ 方法/ 的/ 有效性/ ./ 图/ 10/ 基于/ 合成/ 数据/ 集/ 测试/ 仿真/ 数据/ 集/ ./ 本/ 实验/ 场景/ 中/ ,/ 我们/ 拟/ 通过/ 模拟/ 真实/ 流程/ 的/ 数据/ 集/ 考察/ NMSF/ 方法/ 在/ 不同/ 测试用例/ 下/ 的/ 准确率/ 变化/ ./ 该/ 场景/ 下/ 的/ 流程图/ 含有/ 不同/ 的/ 分支/ 结构/ ,/ 且/ 所用/ 测试用例/ 规模/ 与/ 图/ 10/ (/ b/ )/ 相同/ ./ 如图/ 11/ 所示/ ,/ 在/ 推荐/ 结果/ 仅为/ 1/ 时/ ,/ 不同/ 测试用例/ 下/ 的/ 准确率/ 均/ 较/ 低/ ,/ 且/ 彼此/ 相差/ 较大/ ./ 这是/ 由于/ 不同/ 规模/ 的/ 流程/ 库会/ 导致/ 线下/ 发现/ 的/ 模式/ 数量/ 不同/ ,/ 以及/ 挖掘/ 到/ 的/ 模式/ 与/ 待/ 推荐/ 结果/ 的/ 关联/ 程度/ 不同/ ,/ 进而/ 使得/ 准确率/ 波动/ 较大/ ./ 可以/ 明显/ 看出/ ,/ 在/ 推荐/ 结果/ 为/ 2/ 时/ ,/ NMSF/ 方法/ 的/ 推荐/ 准确度/ 波动/ 减小/ ,/ 且/ 均/ 提高/ 至/ 80/ %/ 左右/ ./ 该/ 实验/ 证明/ NMSF/ 方法/ 的/ 有效性/ 能够/ 很/ 好/ 地/ 满足/ 实际/ 应用/ ./ 合成/ 数据/ 集/ ./ 我们/ 首先/ 固定/ 流程/ 数量/ 为/ 500/ ,/ 考察/ 随着/ 推荐/ 结果/ 的/ 个数/ (/ N/ )/ 增加/ ,/ NMSF/ 与/ Flow/ -/ Recommender/ 两个/ 方法/ 的/ 推荐/ 准确率/ 变化/ ./ 如图/ 10/ (/ a/ )/ 所示/ ,/ 两个/ 方法/ 均/ 随着/ 推荐/ 结果/ 数目/ 的/ 增加/ ,/ 其/ 准确率/ 也/ 增加/ ./ 这/ 是因为/ 推荐/ 结果/ 数目/ 的/ 增加/ 自然/ 的/ 增大/ 了/ 推荐/ 准确/ 的/ 概率/ ./ 不同/ 的/ 是/ ,/ NMSF/ 在/ 前/ 4/ 个/ 推荐/ 结果/ 的/ 准确率/ 均/ 高于/ FlowRecommender/ ./ 图/ 10/ (/ b/ )/ 所示/ 实验/ 中/ ,/ 我们/ 固定/ 推荐/ 结果/ 数目/ 为/ 2/ ,/ 考察/ 不同/ 业务流程/ 数目/ 下/ 的/ 准确率/ 变化/ ./ 共/ 采用/ 5/ 个/ 不同/ 的/ 合成/ 测试数据/ 集/ ,/ 这些/ 数据/ 集/ 的/ 规模/ 大小/ 在/ 200/ ~/ 1000/ 之间/ ./ 可以/ 看出/ ,/ 在/ 所有/ 测试用例/ 中/ (/ 即/ 相同/ 规模/ 下/ 的/ 数据/ 集/ )/ ,/ NMSF/ 方法/ 的/ 推荐/ 准确率/ 均/ 略高于/ FlowRecommender/ ./ 通过/ 上述/ 实验/ 结果/ 可以/ 得出/ ,/ 本文/ 提出/ 的/ NMSF/ 方法/ 基于/ 流程图/ 结构/ 并/ 结合/ 近距离/ 最大/ 子图/ 的/ 方式/ 能/ 在/ 较/ 少/ 推荐/ 结果/ 中/ 获取/ 较/ 好/ 的/ 推荐/ 效果/ ./ 此外/ ,/ FlowRecommender/ 以及/ 现有/ 类似/ 推荐/ 系统/ ,/ 均/ 没有/ 考虑/ 业务流程/ 中/ 的/ 分支/ 情况/ ,/ 所以/ 无法/ 适用/ 于/ 复杂/ 的/ 流程/ 推荐/ 场景/ ,/ 在/ 实际/ 使用/ 中/ 受到/ 了/ 限制/ ./ 5.2/ 高效性/ 在/ 效率/ 方面/ ,/ 由于/ 线下/ 阶段/ 涉及/ 处理/ 工作/ 较/ 多/ ,/ Page10/ 其/ 耗时/ 会/ 较长/ ./ 但/ 在/ 实际/ 应用/ 中/ ,/ 与/ 线下/ 处理/ 相比/ ,/ 线上/ 推荐/ 阶段/ 直接/ 关系/ 到/ 用户/ 体验/ ,/ 因此/ ,/ 推荐/ 阶段/ 的/ 效率/ 更受/ 用户/ 关注/ ./ 本节/ 实验/ 仅/ 针对/ 线上/ 推荐/ ,/ 其/ 效能/ 是/ 通过考察/ 测试/ 节点/ 的/ 平均/ 推荐/ 时间/ 来/ 衡量/ 的/ ./ 注意/ ,/ 在线/ 下/ 阶段/ ,/ 我们/ 排除/ 了/ 这样/ 一些/ 子图/ :/ 上/ 游子/ 图/ 和/ 相应/ 的/ 候选/ 节点/ 集/ 个数/ 均/ 大于/ 1/ ./ 这样/ 的/ 流程/ 片断/ 本文/ 工作/ 不/ 支持/ ,/ 不/ 在/ 第/ 3/ 节中/ 讨论/ 的/ 推荐/ 场景/ 范围/ 内/ ./ 根据/ 4.2/ 节/ 的/ 介绍/ ,/ 参考/ 流程/ 的/ 近距离/ 最大/ 子图/ 与/ 流程/ 模式/ 的/ 匹配/ 是/ 最为/ 耗时/ 的/ ,/ 而且/ 一般/ 主要/ 取决于/ 模式/ 的/ 数量/ ./ 因此/ ,/ 我们/ 将/ 合成/ 数据/ 集/ 以及/ 仿真/ 数据/ 集/ 各自/ 分成/ 了/ 5/ 个/ 不同/ 规模/ (/ 200/ ~/ 1000/ 个/ 流程图/ )/ 的/ 测试用例/ ,/ 如表/ 2/ 所示/ ./ 需要/ 强调/ 的/ 是/ ,/ 即使/ 在/ 同一个/ 用例/ 下/ ,/ FlowRecommender/ (/ 表/ 2/ 中用/ “/ FR/ ”/ 表示/ )/ 与/ NMSF/ 的/ 流程/ 模式/ 数量/ 互不/ 相同/ ./ 这是/ 由于/ 它们/ 发现/ 模式/ 的/ 方式/ 不同/ 所/ 导致/ 的/ ./ 此外/ ,/ 由于/ 仿真/ 数据/ 集/ 包含/ 了/ 众多/ 流程/ 分支/ 等/ 结构/ ,/ 因此/ 其图/ 12/ 单个/ 节点/ 平均/ 推荐/ 耗时/ 图/ 12/ (/ b/ )/ 反映/ 了/ 仿真/ 数据/ 集/ 上面/ 的/ 推荐/ 效率/ ./ 通过/ DFS/ 编码/ 后/ ,/ 我们/ 将/ 仿真/ 数据/ 集上/ 复杂/ 结构/ 转化成/ 了/ 字符串/ 的/ 唯一/ 标识/ ,/ 通过/ 匹配/ 字符串/ 是否/ 相等/ 就/ 可/ 判断/ 两个/ 流程/ 片断/ 是否/ 一样/ ./ 这样/ 的/ 转化/ 对/ 效率/ 的/ 提高/ 起到/ 了/ 重要/ 的/ 作用/ ./ 结合/ 表/ 2/ 与/ 图/ 12/ (/ b/ )/ 我们/ 能/ 得出/ ,/ 即使/ 模式/ 数量/ 超过/ 4000/ 时/ ,/ 节点/ 平均/ 推荐/ 时间/ 仍/ 在/ 5ms/ 以内/ ,/ 且/ 整体/ 趋势/ 是/ 随着/ 业务流程/ 的/ 增多/ ,/ 推荐/ 时间/ 也/ 呈上升/ 趋势/ ./ 此外/ ,/ 高效/ 的/ 推荐/ 还/ 得益于/ 在/ 实际/ 实现/ 中/ ,/ 流程/ 中/ 前后/ 活动/ 节点/ 的/ I/ // O/ 类型/ 约束/ 也/ 可用/ 来/ 过滤/ 一部分/ 不/ 需要/ 参与/ 匹配/ 的/ 模式/ ./ 通过/ 上述/ 实验/ 与/ 分析/ ,/ 可以/ 得出/ ,/ NMSF/ 方法/ 效率/ 较/ 高/ ,/ 能够/ 很/ 好/ 地/ 应用/ 于/ 实际/ 场景/ ./ 6/ 相关/ 工作/ 当前/ ,/ 虽然/ 在/ 流程/ 建模/ 改进/ 方面/ 的/ 研究/ 工作/ 较/ 对应/ 的/ 模式/ 数量/ 相对/ 与/ 合成/ 数据/ 集要/ 多/ ./ 表/ 2/ 中/ 流程/ 模式/ 数量/ 的/ 总体/ 趋势/ 是/ 业务流程/ 数越/ 大/ ,/ 相应/ 产生/ 的/ 流程/ 模式/ 越多/ ./ 业务流程/ 数量/ 2008804009156009441289800961155510009611804/ 图/ 12/ 展示/ 了/ 基于/ 表/ 2/ 的/ 线/ 上/ 推荐/ 效率/ 结果/ (/ 通过/ 插值/ 处理/ )/ ./ 从图/ 12/ (/ a/ )/ 中/ 可以/ 看出/ ,/ 在/ 合成/ 数据/ 集上/ ,/ 两个/ 方法/ 所/ 消耗/ 的/ 时间/ 相差不多/ ,/ 且/ 耗时/ 也/ 低/ ./ 这/ 是因为/ 两个/ 方法/ 在线/ 上/ 推荐/ 时/ 都/ 是/ 在/ 做/ 寻找/ 相同/ 模式/ 的/ 处理/ 工作/ ,/ 计算/ 复杂度/ 相差/ 不大/ ./ 事实上/ ,/ 两者/ 的/ 推荐/ 时间/ 均/ 主要/ 取决于/ 待/ 匹配/ 的/ 模式/ 数量/ ./ 多/ ,/ 但/ 通过/ 类似/ 本文/ 流程/ 推荐/ 的/ 方式/ 来/ 指导/ 和/ 完善/ 流程/ 建模/ 的/ 研究/ 工作/ 并/ 不多见/ ./ 据/ 我们/ 所知/ ,/ 只有/ 很少/ 的/ 一部分/ 研究/ 工作/ 与/ 本文/ 直接/ 相关/ ./ 文献/ [/ 12/ ]/ 提出/ 了/ 一种/ 称为/ FlowRecommender/ 的/ 流程/ 推荐/ 技术/ ,/ 该/ 技术/ 与/ 本文/ 解决问题/ 一致/ ,/ 但是/ 该/ 技术/ 仅/ 适用/ 于/ 串行/ 工作/ 流/ ,/ 无法/ 适用/ 于/ 存在/ 复杂/ 结构/ (/ 如/ AND/ -/ split/ ,/ OR/ -/ join/ 等/ )/ 的/ 流程/ 模型/ 上/ ./ 然而/ ,/ 实际/ 中/ 的/ 业务流程/ 模型/ 结构/ 远比/ 串行/ 结构复杂/ ,/ 所以/ FlowRecom/ -/ mender/ 无法/ 在/ 真实/ 应用/ 中/ 广泛/ 使用/ ./ 相比之下/ ,/ 本文/ 提出/ 的/ 方法/ 是/ 建立/ 在/ 图/ 结构/ 的/ 基础/ 上/ ,/ 更加/ 趋近/ 于/ 实际/ 流程/ ,/ 可以/ 支持/ 多种/ 拥有/ 复杂/ 结构/ 的/ 流程/ 模型/ ./ 其它/ 与/ 流程/ 推荐/ 相关/ 的/ 工作/ 来自/ 于/ 服务/ 计算/ 领域/ 的/ 服务/ 组合/ [/ 13/ ]/ ./ 但是/ ,/ 传统/ 的/ 服务/ 组合/ 要么/ 是/ 基于/ 现有/ 过程/ 模板/ 进行/ Web/ 服务/ 的/ 查找/ ,/ 要么/ 需要/ 用户/ 指定/ 一些/ 约束/ 关系/ ,/ 包括/ Web/ 服务/ 间/ 的/ 依赖/ 、/ 用/ Page11/ 户/ 的/ 偏好/ 等/ ,/ 进行/ 过程/ 模型/ 的/ 自动/ 创建/ ./ 与/ 之/ 相反/ ,/ 本文/ 的/ 工作/ 是/ 由/ 业务流程/ 资源库/ 驱动/ ,/ 没有/ 任何/ 的/ 预定/ 义/ 模板/ 或者/ 需要/ 指定/ 其它/ 约束/ 关系/ ./ 流程图/ 的/ 匹配/ 在/ 整个/ 推荐/ 过程/ 中起/ 着/ 非常/ 重要/ 的/ 作用/ ,/ 而/ 传统/ 的/ 流程/ 匹配/ 均/ 是/ 以/ 流程/ 相似/ 度/ 计算/ [/ 8/ ,/ 14/ -/ 15/ ]/ 来/ 实现/ 的/ ./ 这些/ 研究/ 工作/ 主要/ 基于/ 图/ 编辑/ 距离/ (/ GED/ )/ [/ 16/ ]/ ,/ 存在/ 计算/ 复杂度/ 高/ 以及/ 转变/ 操作/ 代价/ 函数/ 的/ 不确定性/ 等/ 问题/ ./ 本文/ 所提/ 方法/ 虽然/ 不/ 考虑/ 代价/ 函数/ 等/ 配置/ 信息/ ,/ 但/ 在/ 推荐/ 准确率/ 方面/ 已/ 能够/ 满足/ 实际/ 应用/ ./ 此外/ ,/ 其/ 高效/ 的/ 推荐/ 也/ 能/ 保证/ 企业/ 业务流程/ 的/ 快速/ 构建/ ./ 7/ 总结/ 本文/ 针对/ 当前/ 业务流程/ 建模/ 效率/ 低/ 、/ 准确度/ 不/ 高等/ 问题/ ,/ 提出/ 了/ 一种/ 新/ 的/ 流程/ 推荐/ 技术/ 解决方案/ ./ 该/ 技术/ 利用/ 图/ 挖掘/ 方法/ ,/ 线下/ 提取/ 业务流程/ 资源库/ 中/ 的/ 流程/ 模式/ ,/ 线上/ 利用/ 近距离/ 最大/ 子图/ 优先/ (/ NMSF/ )/ 的/ 策略/ 与/ 流程/ 模式/ 进行/ 匹配/ ,/ 通过/ 判断/ 两个/ 流程/ 片断/ 最小/ DFS/ 编码/ 的/ 一致性/ ,/ 得到/ 推荐/ 候选/ 节点/ 集/ ./ 本文/ 讨论/ 了/ 基于/ 该/ 技术/ 的/ 流程/ 推荐/ 系统/ 的/ 实现/ ,/ 并/ 通过/ 实验/ 证明/ 了/ NMSF/ 方法/ 的/ 高效性/ 和/ 准确性/ ,/ 实验/ 结果表明/ 该/ 方法/ 可以/ 很/ 好/ 地/ 支持/ 实际/ 的/ 应用/ 场景/ ./ 

