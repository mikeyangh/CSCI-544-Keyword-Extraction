Page1/ 从/ 交互/ 情景/ 出发/ 的/ 需求/ 捕获/ 方法/ 及其/ 支撑/ 工具/ 陈小红/ 1/ )/ ,/ 2/ )/ 尹斌/ 2/ )/ 金芝/ 2/ )/ ,/ 3/ )/ ,/ 4/ )/ 1/ )/ (/ 华东师范大学/ 上海市/ 高/ 可信计算/ 重点/ 实验室/ 上海/ 200062/ )/ 2/ )/ (/ 中国科学院/ 数学/ 与/ 系统/ 科学/ 研究院/ 北京/ 100190/ )/ 3/ )/ (/ 高/ 可信/ 软件技术/ 教育部/ 重点/ 实验室/ (/ 北京大学/ )/ 北京/ 100871/ )/ 4/ )/ (/ 北京大学/ 信息/ 科学技术/ 学院/ 软件/ 研究所/ 北京/ 100871/ )/ 摘要/ 需求/ 捕获/ 是/ 需求/ 工程/ 中/ 的/ 重要/ 问题/ ./ 文中/ 结合/ 情景/ 和/ 问题/ 框架/ 方法/ ,/ 提出/ 一个/ 从/ 交互/ 情景/ 出发/ 的/ 需求/ 捕获/ 方法/ ./ 其/ 特点/ 是/ :/ (/ 1/ )/ 对/ 问题/ 领域/ 以及/ 软件系统/ 与/ 问题/ 领域/ 间/ 的/ 交互进行/ 分类/ ,/ 以/ 捕获/ 深层/ 需求/ 信息/ ;/ (/ 2/ )/ 将/ 情景/ 定义/ 为/ 产生/ 有/ 意义/ 问题/ 领域/ 变化/ 的/ 交互/ 序列/ ,/ 引入/ 交互/ 情景/ 约束/ ,/ 以/ 捕获/ 隐式/ 需求/ 信息/ ./ 文中/ 构建/ 了/ 支持/ 这个/ 方法/ 的/ 需求/ 描述/ 元/ 模型/ ,/ 提出/ 以该/ 元/ 模型/ 为/ 基础/ 的/ 需求/ 捕获/ 过程/ ./ 文中/ 还/ 构建/ 了/ 相应/ 的/ 支撑/ 工具/ ,/ 提供/ 各种/ 需求/ 元素/ 的/ 编辑/ 、/ 检测/ 和/ 验证/ 手段/ ,/ 帮助/ 需求/ 提供者/ 正确/ 地/ 表达/ 需求/ 信息/ ./ 关键词/ 需求/ 捕获/ ;/ 情景/ ;/ 问题/ 领域/ ;/ 问题/ 框架/ 方法/ 1/ 引言/ 需求/ 捕获/ 是/ 需求/ 工程/ 中/ 的/ 重要/ 问题/ ./ 不同/ 的/ 需求/ 捕获/ 方法/ 蕴含/ 捕获/ 需求/ 的/ 不同/ 思路/ ./ 面向/ 目标/ 的/ 方法/ [/ 1/ ]/ 将/ “/ 目标/ ”/ 作为/ 软件/ 需求/ 的/ 来源/ 和/ 依据/ ,/ 而/ 面向/ 主体/ 和/ 意图/ 的/ 方法/ [/ 2/ ]/ 以/ “/ 参与者/ ”/ 为/ 主要/ 线索/ 去/ 识别/ 需求/ ./ 基于/ 环境/ 建模/ 的/ 方法/ [/ 3/ -/ 4/ ]/ 则/ 强调/ 需求/ 存在/ 于/ 未来/ 软件系统/ 将/ 处于/ 的/ 现实/ 环境/ (/ 问题/ 领域/ )/ 中/ ,/ 需要/ 从/ 问题/ 领域/ 中/ 去/ 发现/ 软件/ 需求/ ./ 它/ 认为/ ,/ 软件系统/ 行为/ 的/ 结果/ 只能/ 在/ 其/ 环境/ 中/ 进行/ 观察/ 和/ 评估/ ,/ 而/ 环境/ 的/ 变化/ 又/ 是/ 由于/ 软件系统/ 的/ 作用/ 而/ 引起/ 的/ ./ 从/ 这个/ 意义/ 上/ 说/ ,/ 软件/ 需求/ 是/ 用户/ 期望/ 对/ 问题/ 领域/ 发生/ 的/ 改变/ ./ 这种/ 改变/ 通过/ 建立/ 一个/ 软件系统/ ,/ 并/ 使/ 这个/ 系统/ 与/ 问题/ 领域/ 发生/ 交互/ 而/ 实现/ ./ 问题/ 框架/ 方法/ [/ 5/ ]/ 是/ 一种/ 典型/ 的/ 基于/ 环境/ 建模/ 方法/ ./ 它/ 强调/ 对/ 软件系统/ 将要/ 作用/ 的/ 现实/ 世界/ 问题/ 领域/ 进行/ 刻画/ ,/ 并/ 将/ 软件/ 需求/ 的/ 含义/ 指称/ 到/ 与/ 现实/ 世界/ 相关/ 的/ 问题/ 领域/ 描述/ 上/ ./ 在/ 需求/ 捕获/ 中/ ,/ 它/ 通过/ 识别/ 问题/ 领域/ 和/ 软件/ 与/ 问题/ 领域/ 的/ 交互/ ,/ 定义/ 问题/ 领域/ 的/ 变化/ ,/ 由此/ 定义/ 软件/ 需求/ ./ 特点/ 在于/ 它/ 以/ 问题/ 领域/ 的/ 变化/ 效果/ 定义/ 需求/ ,/ 因此/ ,/ 需求/ 提供者/ 可以/ 此/ 判断/ 被/ 捕获/ 的/ 需求/ 是否/ 满足/ 他们/ 的/ 真正/ 需要/ ./ 但是/ ,/ 目前/ 基于/ 问题/ 框架/ 方法/ 的/ 需求/ 捕获/ 缺乏/ 必要/ 和/ 有效/ 的/ 指南/ 和/ 工具/ 支持/ ,/ 需求/ 捕获/ 的/ 结果/ 完全/ 依赖于/ 需求/ 分析员/ 的/ 经验/ ,/ 有/ 必要/ 构建/ 相应/ 的/ 需求/ 元/ 模型/ 和/ 需求/ 捕获/ 启发式/ ,/ 帮助/ 需求/ 工程师/ 系统地/ 进行/ 需求/ 的/ 捕获/ ./ 基于/ 情景/ 的/ 方法/ [/ 6/ ]/ 在/ 需求/ 捕获/ 方面/ 有/ 其/ 独特/ 的/ 优势/ ./ 它/ 从/ 具体/ 的/ 应用/ 情景/ 出发/ ,/ 给出/ 软件系统/ 与/ 环境/ 的/ 主要/ 交互/ 活动/ 的/ 客观/ 描述/ ./ 它/ 强调/ ,/ 要/ 从/ 用户/ 熟悉/ 的/ 情景/ 中/ ,/ 也/ 就是/ 软件系统/ 与/ 环境/ 的/ 交互/ 活动/ 中/ 去/ 发现/ 需求/ ./ 将/ 情景/ 作为/ 一种/ 沟通/ 方式/ ,/ 使/ 需求/ 捕获/ 更加/ 直观/ [/ 7/ ]/ ,/ 易于/ 需求/ 提供者/ 理解/ 和/ 识别/ ,/ 便于/ 充分发挥/ 需求/ 提供者/ 的/ 主动性/ ./ 但是/ ,/ 目前/ 基于/ 情景/ 的/ 方法/ 缺少/ 公认/ 的/ 情景/ 结构/ ,/ 不利于/ 建立/ 有效/ 的/ 情景/ 需求/ 分析方法/ ./ 结合/ 上述/ 两种/ 方法/ ,/ 我们/ 提出/ 将/ 软件系统/ 与/ 问题/ 领域/ 的/ 交互/ 序列/ 定义/ 为/ 一个/ 情景/ ,/ 其中/ ,/ 一个/ 交互/ 序列/ 可以/ 构成/ 一个/ 情景/ ,/ 如果/ 它/ 描述/ 了/ 软件系统/ 通过/ 交互/ 在/ 问题/ 领域/ 上/ 产生/ 期望/ 的/ 有/ 意义/ 的/ 变化/ ,/ 也/ 就是/ 它/ 实现/ 了/ 需求/ ./ 我们/ 引入/ 情景/ 结构/ 约束/ ,/ 捕获/ 潜在/ 的/ 需求/ 信息/ ,/ 同时/ 还/ 构建/ 了/ 相应/ 的/ 支撑/ 工具/ ,/ 提供/ 各种/ 编辑/ 、/ 检测/ 和/ 验证/ 手段/ ,/ 引导/ 和/ 帮助/ 需求/ 提供者/ 提供/ 需求/ 信息/ ./ 本文/ 第/ 2/ 节/ 给出/ 结合/ 情景/ 和/ 问题/ 框架/ 的/ 需求/ 元/ 模型/ ;/ 第/ 3/ 节/ 给出/ 需求/ 捕获/ 过程/ ;/ 第/ 4/ 节/ 给出/ 情景/ 分析方法/ ;/ 第/ 5/ 节/ 给出/ 支撑/ 工具/ 和/ 案例/ 研究/ ;/ 最后/ ,/ 第/ 6/ 、/ 7/ 节/ 讨论/ 相关/ 工作/ 并/ 总结/ 全文/ ./ 2/ 结合/ 情景/ 与/ 问题/ 框架/ 的/ 需求/ 元/ 模型/ 在/ 深入研究/ 情景/ 与/ 问题/ 框架/ 方法/ 基本概念/ 的/ 基础/ 上/ ,/ 我们/ 提出/ 了/ 一个/ 结合/ 情景/ 与/ 问题/ 框架/ 方法/ 的/ 软件/ 需求/ 描述/ 元/ 模型/ ./ 图/ 1/ 给出/ 了/ 这个/ 需求/ 描述/ 元/ 模型/ ,/ 它/ 采用/ 了/ OMT/ 表示法/ [/ 8/ ]/ ,/ 其中/ ,/ 白色/ 结点/ 和/ 它们/ 之间/ 的/ 连线/ 表示/ 问题/ 框架/ 方法/ 中/ 的/ 概念/ 和/ 概念/ 间/ 关联/ ./ 其/ 含义/ 如下/ :/ (/ 1/ )/ 每个/ 问题/ (/ Problem/ )/ [/ 9/ ]/ 都/ 要/ 开发/ (/ develop/ )/ 一个/ 软件系统/ (/ Machine/ )/ ,/ 处于/ (/ beLocatedIn/ )/ 一组/ 问题/ 领域/ (/ ProblemDomain/ )/ 中/ ,/ 有/ (/ hasInt/ )/ 一组/ 软件系统/ 与/ 问题/ 领域/ 的/ 交互/ (/ Interaction/ )/ ,/ 满足/ (/ satisfy/ )/ 一组/ 需求/ (/ Requirement/ )/ ./ (/ 2/ )/ 问题/ 可以/ 是/ 基本/ 问题/ (/ BasicProblem/ )/ 或/ 复杂/ 问题/ (/ ComplexProblem/ )/ ./ (/ 3/ )/ 问题/ 领域/ 可以/ 是/ 因果/ 领域/ (/ CausalDomain/ )/ 、/ 服从/ 式/ 领域/ (/ BiddableDomain/ )/ 或/ 词法/ 领域/ (/ LexicalDomain/ )/ ./ (/ 4/ )/ 每个/ 交互/ (/ Interaction/ )/ 由/ 一个/ 软件系统/ 或者/ 一个/ 问题/ 领域/ 发起/ (/ initiate/ )/ 或/ 接收/ (/ receive/ )/ ,/ 交互/ 的/ 内容/ (/ hasContent/ )/ 是/ 一个/ 现象/ (/ Phenomenon/ )/ ,/ 现象/ 可以/ 是/ 状态/ (/ State/ )/ 、/ 事件/ (/ Event/ )/ 和/ 值/ (/ Value/ )/ ./ 根据/ 交互/ 内容/ 可以/ 将/ 交互/ 分为/ 状态/ 交互/ (/ StateInteraction/ )/ 、/ 值/ 交互/ (/ ValueInteraction/ )/ 和/ 事件/ 交互/ (/ EventInteraction/ )/ ./ 图/ 1/ 中/ 的/ 灰色/ 结点/ 表示/ 与/ 情景/ 相关/ 的/ 概念/ ,/ 包括/ 情景/ (/ Scenario/ )/ 和/ 交互/ 图/ (/ InteractionGraph/ )/ ./ 情景/ 概念/ 的/ 引入/ 是/ 为了/ 刻画/ 软件系统/ 如何/ 通过/ 交互/ 来/ 实现需求/ ,/ 因此/ 将/ 它/ 指定/ 为/ 问题/ 领域/ 与/ 未来/ 软件系统/ 为/ 满足/ 某个/ 需求/ 而/ 应该/ 进行/ 的/ 一个/ 交互/ 序列/ [/ 10/ ]/ ,/ 表示/ 软件系统/ 通过/ 与/ 问题/ 领域/ 之间/ 的/ 一系列/ 交互/ ,/ 将/ 产生/ 问题/ 领域/ 上/ 预期/ 的/ 变化/ ./ 每个/ 情景/ 都/ 要/ 关联/ 到/ 一个/ 需求/ 上/ ,/ 表明/ 它/ 将/ 实现/ (/ realise/ )/ 这个/ 需求/ ./ 每个/ 情景/ 的/ 执行/ (/ beConductedBy/ )/ 由/ 一个/ 交互/ 图来/ 描述/ ,/ 因此/ 每个/ 交互/ 图中应/ 包含/ (/ contain/ )/ 多个/ 交互/ ./ 表/ 1/ 给出/ 上述/ 概念/ 的/ 层次结构/ 及/ 定义/ ./ Page3/ 图/ 1/ 需求/ 描述/ 元/ 模型/ [/ 10/ ]/ 表/ 1/ 需求/ 描述/ 元/ 模型/ 中/ 概念/ 的/ 层次结构/ 及/ 含义/ 概念/ 问题/ 基本/ 问题/ 存在/ 已知/ 的/ 问题/ 求解/ 模式/ ,/ 存在/ 基本/ 问题/ 类型/ 复杂/ 问题/ 不/ 存在/ 标准/ 的/ 问题/ 求解/ 模式/ ,/ 需要/ 分解/ 为/ 简单/ 软件系统/ 在/ 软件开发/ 中要/ 开发/ 的/ 系统/ 问题/ 领域/ 与/ 软件系统/ 交互/ 的/ 现实/ 世界/ 的/ 实体/ 服从/ 式/ 领域/ 是/ 物理/ 的/ ,/ 缺乏/ 明确/ 的/ 、/ 可/ 预计/ 的/ 内部/ 因果性/ 因果/ 领域/ 在/ 其/ 现象/ 之间/ 存在/ 可/ 预测/ 的/ 因果关系/ 词法/ 领域/ 数据/ 的/ 物理/ 表示/ 需求/ 交互/ 事件/ 交互/ 交互/ 共享/ 的/ 是/ 事件/ 现象/ 状态/ 交互/ 交互/ 共享/ 的/ 是/ 状态/ 现象/ 值/ 交互/ 交互/ 共享/ 的/ 是/ 值/ 现象/ 现象/ 事件/ 某个/ 特定/ 时间/ 点上/ 发生/ 、/ 出现/ 的/ 个体/ 状态/ 因果/ 实体/ 和/ 值/ 之间/ 的/ 关系/ ,/ 可以/ 随/ 时间/ 改变/ 值/ 情景/ 交互/ 图/ 一个/ 有向图/ ,/ 结点/ 是/ 交互/ ,/ 边/ 表示/ 交互/ 间/ 关系/ 3/ 需求/ 捕获/ 过程/ 遵循/ 图/ 1/ 给出/ 的/ 需求/ 描述/ 元/ 模型/ ,/ 我们/ 定义/ 了/ 一个/ 需求/ 捕获/ 过程/ ,/ 如图/ 2/ 所示/ ./ 它/ 包含/ 4/ 个/ 步骤/ ,/ 即/ 确定/ 系统/ 边界/ 、/ 识别系统/ 行为/ 、/ 定义/ 需求/ 和/ 定义/ 需求/ 实现/ ./ 3.1/ 确定/ 系统/ 边界/ 交互/ 的/ 问题/ 领域/ ,/ 有/ 两个/ 子/ 步骤/ :/ 确定/ 系统/ 边界/ 的/ 任务/ 是/ 识别/ 与/ 待/ 开发/ 软件系统/ (/ 1/ )/ 标识/ 软件系统/ ./ 通过/ 命名/ 软件系统/ ,/ 以/ 显式/ 区分/ 软件系统/ 和/ 问题/ 领域/ ./ 软件系统/ 可以/ 表示/ 为/ :/ 其中/ ,/ MacN/ 是/ 软件系统/ 的/ 标识/ ,/ Des/ 是/ 对/ 软件系统/ 的/ 描述/ ./ (/ 2/ )/ 识别/ 问题/ 领域/ ./ 问题/ 领域/ 处于/ 软件系统/ 之外/ ,/ 是/ 与/ 软件系统/ 进行/ 交互/ 的/ 现实/ 世界/ 实体/ ./ 根据/ 问题/ 领域/ 的/ 分类/ ,/ 我们/ 设计/ 了/ 相应/ 的/ 问卷/ 来/ 帮助/ 识别/ 不同/ 类型/ 的/ 问题/ 领域/ ,/ 如表/ 2/ 所示/ ./ 目的/ 识别/ 服从/ 式/ 领域/ 识别/ 因果/ 领域/ 识别/ 词法/ 领域/ Page4/ 问卷/ 中/ 每个/ 问题/ 的/ 答案/ 都/ 可以/ 作为/ 一个/ 对应/ 类型/ 的/ 问题/ 领域/ ./ 需要/ 指出/ 的/ 是/ ,/ 问题/ 领域/ 的/ 识别/ 与/ 待/ 开发/ 的/ 软件系统/ 密切相关/ ,/ 不同/ 的/ 软件系统/ ,/ 有着/ 不同/ 的/ 开发/ 目的/ ,/ 与/ 它/ 进行/ 交互/ 的/ 问题/ 领域/ 就/ 可能/ 是/ 不同/ 的/ ./ 另外/ ,/ 现实/ 世界/ 中/ 的/ 某些/ 问题/ 领域/ 是/ 复杂/ 的/ ,/ 它/ 可能/ 有/ 多个/ 子/ 问题/ 领域/ ,/ 或/ 多种/ 问题/ 领域/ 类型/ ,/ 如果/ 它/ 的/ 某/ 一部分/ 是/ 可以/ 独立/ 与/ 待/ 开发/ 软件系统/ 进行/ 交互/ ,/ 则/ 这/ 一部分/ 就/ 可以/ 识别/ 出来/ 作为/ 一个/ 问题/ 领域/ ./ 每个/ 识别/ 出来/ 的/ 问题/ 领域/ 可以/ 表示/ 为/ :/ ProblemDomain/ (/ DomN/ ,/ Des/ ,/ DomTypeSet/ )/ ,/ 其中/ ,/ DomN/ 是/ 领域/ 标识/ ,/ Des/ 是/ 领域/ 描述/ ,/ DomType/ -/ Set/ 是/ 领域/ 类型/ 集合/ ./ 3.2/ 识别系统/ 行为/ 识别系统/ 行为/ 的/ 任务/ 是/ 描述/ 待/ 开发/ 软件系统/ 与/ 问题/ 领域/ 之间/ 允许/ 发生/ 的/ 交互/ ,/ 它/ 有/ 两个/ 子/ 步骤/ :/ (/ 1/ )/ 识别/ 共享/ 现象/ ./ 不同/ 类型/ 的/ 问题/ 领域/ ,/ 可能/ 与/ 软件系统/ 共享/ 的/ 现象/ 类型/ 也/ 不同/ ./ 它们/ 之间/ 的/ 关系/ 如表/ 3/ 所示/ ./ 我们/ 同样/ 可以/ 设计/ 出/ 相应/ 的/ 问卷/ (/ 如表/ 4/ 所示/ )/ 来/ 帮助/ 识别/ 共享/ 现象/ ./ 事件/ 状态值/ 提问/ 对象/ 对/ 每个/ 服从/ 式/ 领域/ 它/ 发出/ 什么/ 事件/ (/ 包含/ 命令/ )/ ?/ 对/ 每个/ 因果/ 领域/ 对/ 每个/ 词法/ 领域/ 每个/ 问题/ 领域/ 与/ 软件系统/ 都/ 可能/ 共享/ 一组/ 现象/ ./ 问卷/ 中/ 每个/ 问题/ 的/ 答案/ 都/ 是/ 一个/ 共享/ 现象/ ./ 每个/ 识别/ 出来/ 的/ 共享/ 现象/ 可以/ 表示/ 成/ 如下/ 形式/ :/ 其中/ ,/ PheN/ 是/ 共享/ 现象/ 的/ 标识/ ,/ Des/ 是/ 共享/ 现象/ 的/ 描述/ ,/ PType/ 是/ 它/ 的/ 类型/ ./ (/ 2/ )/ 识别/ 行为/ 交互/ (/ Beh/ )/ ./ 在/ 共享/ 现象/ 的/ 基础/ 上/ ,/ 进一步/ 识别/ 待/ 开发/ 软件系统/ 与/ 问题/ 领域/ 的/ 交互/ ./ 因为/ 这种/ 交互/ 描述/ 了/ 软件/ 识别/ 出来/ 的/ 交互/ 可以/ 表示/ 为/ 如下/ 形式/ :/ 系统/ 将/ 允许/ 与/ 问题/ 领域/ 之间/ 发生/ 的/ 交互/ ,/ 表现/ 了/ 软件系统/ 的/ 行为/ ,/ 故/ 称之为/ 行为/ 交互/ ./ 识别/ 行为/ 交互/ 是/ 在/ 共享/ 现象/ 的/ 基础/ 上/ 进行/ 的/ ,/ 具体地说/ 是/ 要/ 判断/ 一个/ 共享/ 现象/ 的/ 发起者/ 和/ 接收者/ ./ Interaction/ (/ IntN/ ,/ Initiator/ ,/ Receiver/ ,/ Content/ )/ ,/ 其中/ ,/ IntN/ 是/ 交互/ 的/ 标识/ ,/ Initiator/ 是/ 交互/ 的/ 发起者/ ,/ Receiver/ 是/ 交互/ 的/ 接收者/ ,/ Content/ 是/ 交互/ 的/ 内容/ ,/ 也/ 就是/ 共享/ 现象/ ./ 3.3/ 定义/ 需求/ 变化/ 效果/ ,/ 它/ 分为/ 3/ 个子/ 步骤/ :/ 定义/ 需求/ 的/ 任务/ 是/ 确定/ 需求/ 并/ 定义/ 需求/ 产生/ 的/ (/ 1/ )/ 识别/ 需求/ ./ 这里/ ,/ 需求/ 是/ 对/ 软件系统/ 功能/ 需求/ 的/ 文字/ 表示/ ,/ 表达/ 来自/ 于/ 软件开发/ 任务/ 要求/ “/ 超过/ 当前/ ”/ 的/ 期望/ ./ 从/ 基于/ 环境/ 建模/ 的/ 需求/ 工程/ 的/ 角度看/ ,/ 需求/ 来自/ 于/ 对/ 问题/ 领域/ 在/ 引入/ 了/ 待/ 开发/ 软件系统/ 后/ 应该/ 满足/ 的/ 新/ 的/ 约束/ 的/ 期望/ ./ 据此/ ,/ 我们/ 也/ 设计/ 了/ 相应/ 的/ 问卷/ (/ 如表/ 5/ 所示/ )/ 从/ 不同/ 的/ 问题/ 领域/ 类型/ 组合/ 形式/ 去/ 捕获/ 有/ 意义/ 的/ 期望/ 约束/ ./ 提问/ 对象/ 服从/ 式/ 领域/ +/ 因果/ 领域/ 每个/ 因果/ 领域/ 软件系统/ 期望/ 它/ 有/ 什么/ 动作/ ?/ 因果/ 领域/ +/ 词法/ 领域/ 因果/ 领域/ +/ 因果/ 领域/ 因果/ 领域/ 期望/ 另/ 一个/ 因果/ 领域/ 显示/ 什么/ 信息/ ?/ 服从/ 式/ 领域/ +/ 词法/ 领域/ 服从/ 式/ 领域/ 要/ 对/ 该/ 词法/ 领域/ 做/ 什么/ 操作/ ?/ 词法/ 领域/ +/ 词法/ 领域/ 问卷/ 中/ 每个/ 问题/ 的/ 答案/ 可以/ 用/ 自然语言/ 语句/ 给出/ ./ 每个/ 识别/ 出/ 的/ 需求/ 可以/ 表示/ 为/ 如下/ 形式/ :/ 其中/ ,/ ReqN/ 是/ 需求/ 的/ 标识/ ,/ Des/ 是/ 需求/ 的/ 描述/ ./ (/ 2/ )/ 识别/ 期望/ 交互/ (/ Exp/ )/ ./ 期望/ 交互/ 是/ 需求/ 中/ 表达/ 的/ 变化/ 效果/ ,/ 它/ 是/ 人们/ “/ 期望/ ”/ 在/ 问题/ 领域/ 上/ 发生/ 的/ 可/ 观察/ 的/ 改变/ ,/ 可以/ 用/ 交互/ 的/ 形式/ 表示/ ,/ 这种/ 交互/ 称为/ 期望/ 交互/ ./ 针对/ 每种/ 类型/ 的/ 问题/ 领域/ ,/ 我们/ 设计/ 了/ 问卷/ 来/ 帮助/ 发现/ 期望/ 交互/ ,/ 如表/ 6/ 所示/ ./ Page5/ 提问/ 对象/ 每个/ 服从/ 式/ 领域/ ,/ 每个/ 需求/ 每个/ 因果/ 领域/ ,/ 每个/ 需求/ 每个/ 词法/ 领域/ ,/ 每个/ 需求/ 形式/ ./ 识别/ 出/ 的/ 期望/ 交互/ 采用/ 与/ 行为/ 交互/ 相同/ 的/ 表示/ (/ 3/ )/ 识别/ 需求/ 引用/ ./ 对于/ 每个/ 需求/ ,/ 需要/ 识别/ 需求/ 与/ 每个/ 问题/ 领域/ 的/ 期望/ 交互/ 现象/ 之间/ 的/ 关系/ ,/ 分为/ 两种/ ,/ 一般性/ 引用/ 和/ 约束性/ 引用/ ./ 一般性/ 引用/ 表示/ 该/ 需求/ 仅/ 引用/ 该/ 期望/ 交互/ 的/ 现象/ ,/ 约束性/ 引用/ 表示/ 该/ 需求/ 不仅/ 引用/ 该/ 期望/ 交互/ 的/ 现象/ ,/ 而且/ 规定/ 关于/ 该/ 期望/ 交互/ 现象/ 的/ 发生/ ./ 需求/ 引用/ 表明/ 了/ 在/ 一个/ 需求/ 作用/ 下/ 问题/ 领域/ 的/ 变化/ 集合/ ./ 需求/ 引用/ 表示/ 为/ :/ Reference/ (/ ReqN/ ,/ Ini/ ,/ Rec/ ,/ Phe/ ,/ RefType/ )/ 其中/ ,/ ReqN/ 是/ 需求/ ,/ Ini/ 是/ 该/ 引用/ 的/ 期望/ 交互/ 的/ 发起者/ ,/ Rec/ 是/ 该/ 引用/ 的/ 期望/ 交互/ 的/ 接收者/ ,/ Phe/ 是/ 该/ 引用/ 的/ 期望/ 交互/ 的/ 现象/ ,/ RefType/ 要么/ 是/ 一般性/ 引用/ (/ Normal/ )/ ,/ 要么/ 是/ 约束性/ 引用/ (/ Constraining/ )/ ./ 3.4/ 定义/ 需求/ 实现/ 定义/ 需求/ 实现/ 的/ 任务/ 是/ 通过/ 构造/ 情景/ 来/ 描述/ 软件系统/ 如何/ 通过/ 交互/ 使得/ 问题/ 领域/ 发生/ 期望/ 的/ 变化/ ,/ 它/ 有/ 3/ 个子/ 步骤/ :/ (/ 1/ )/ 绘制/ 交互/ 图/ ./ 用/ 交互/ 图来/ 表示/ 情景/ (/ 即/ 需求/ 的/ 一个/ 实现/ )/ ,/ 首先/ 定义/ 交互/ 图为/ 如下/ 二元/ 组/ :/ InteractionGraph/ ·/ ·/ =/ 〈/ intSet/ ,/ AssSet/ 〉/ 其中/ ,/ IntSet/ =/ Beh/ ∪/ Exp/ 是/ 交互/ 的/ 集合/ ,/ 包含/ 该/ 需求/ 涉及/ 的/ 行为/ 交互/ 集合/ Beh/ 和/ 期望/ 交互/ 集合/ Exp/ ./ AssSet/ 是/ 交互/ 序/ 关系/ 的/ 集合/ ,/ 区分/ 如下/ 5/ 种/ 交互/ 序/ 关系/ (/ assTy/ )/ :/ ①/ 行为/ 序/ 关系/ (/ behOrd/ )/ ./ Beh/ →/ Beh/ ,/ 行为/ 交互/ 与/ 行为/ 交互/ 之间/ 的/ 序/ 关系/ ./ ②/ 期望/ 序/ 关系/ (/ expOrd/ )/ ./ Exp/ →/ Exp/ ,/ 期望/ 交/ ③/ 行为/ 使能/ 关系/ (/ behEna/ )/ ./ Beh/ →/ Exp/ ,/ 行为/ ④/ 需求/ 使能/ 关系/ (/ reqEna/ )/ ./ Exp/ →/ Beh/ ,/ 期望/ 交/ ⑤/ 同步/ 关系/ (/ synchrocity/ )/ ./ Beh/ / Exp/ ,/ 行为/ 交互/ 与/ 期望/ 交互/ 之间/ 的/ 序/ 关系/ ./ 交互/ 使能/ 期望/ 交互/ 的/ 关系/ ./ 互使/ 能/ 行为/ 交互/ 的/ 关系/ ./ 互/ 与/ 期望/ 交互/ 间/ 的/ 同步/ 关系/ ./ 对/ 每个/ 需求/ ,/ 都/ 要/ 定义/ 一个/ 情景/ 来/ 描述/ 它/ 的/ 实现/ ./ 情景/ 的/ 定义/ 分为/ 两步/ ./ 第/ 1/ 步/ ,/ 选取/ 实现需求/ 要/ 进行/ 的/ 交互/ ,/ 作为/ 交互/ 图中/ 的/ 结点/ ./ 算法/ 1/ 用于/ 进行/ 情景/ 候选/ 交互/ 的/ 选择/ ,/ 主要/ 活动/ 包括/ 从/ 期望/ 集合/ 中/ 找到/ 该/ 需求/ 引用/ 的/ 期望/ 交互/ 和/ 在/ 行为/ 交互/ 集合/ 中/ 查找/ 需求/ 引用/ 的/ 问题/ 领域/ 的/ 行为/ 交互/ ./ 算法/ 1/ ./ 情景/ 候选/ 交互/ 的/ 选择/ 算法/ ./ 输入/ :/ 行为/ 交互/ 集/ Beh/ ,/ 期望/ 交互/ 集/ Exp/ ,/ 引用/ 集合/ 输出/ :/ 情景/ 的/ 候选/ 交互/ 集合/ Int1/ ./ begin2/ ./ 在/ Ref/ 中/ 寻找/ 与/ ReqN/ 相关/ 的/ 需求/ 引用/ ,/ 构造/ 引用/ 3/ ./ forR/ 中/ 的/ 任一/ 引用/ r4/ ./ 在/ Exp/ 中/ 寻找/ r/ 的/ 期望/ 交互/ ,/ 构造/ 期望/ 交互/ 集合/ 5/ ./ Int/ =/ Int/ ∪/ Ε/ xpN/ ;/ 6/ ./ 在/ Ref/ 中/ 寻找/ r/ 所/ 连接/ 的/ 问题/ 领域/ E/ ;/ 7/ ./ 在/ Beh/ 中/ 寻找/ E/ 的/ 所有/ 行为/ 交互/ ,/ 并/ 构造/ 行为/ 交互/ 次序/ 关系/ ;/ 8/ ./ Int/ =/ Int/ ∪/ BehN/ ;/ 9/ ./ 返回/ Int/ ;/ 10/ ./ end/ 第/ 2/ 步/ ,/ 确定/ 交互/ 间/ 的/ 序/ 关系/ ,/ 包括/ ①/ 行为/ 序/ 关系/ ./ 行为/ 交互/ 间/ 的/ 因果关系/ ;/ ②/ 期望/ 序/ 关系/ ./ 期望/ 交互/ 间/ 的/ 预期/ 发生/ 的/ 先后/ ③/ 行为/ 交互/ 与/ 期望/ 交互/ 间/ 的/ 关系/ ./ 行为/ 交互/ 与/ (/ 2/ )/ 检测/ 交互/ 图/ 类型/ 正确性/ ./ 交互/ 图/ 展示/ 为/ 实现/ 某个/ 需求/ ,/ 软件系统/ 与/ 问题/ 领域/ 的/ 行为/ 交互/ 、/ 期望/ 交互/ 以及/ 它们/ 之间/ 的/ 序/ 关系/ ./ 根据/ 情景/ 图中/ 交互/ 序/ 关系/ 的/ 定义/ ,/ 情景/ 中/ 任意/ 一个/ 交互/ 序/ 关系/ 的/ 两个/ 交互/ 的/ 类型/ 是/ 确定/ 的/ ,/ 其/ 对应/ 关系/ 如表/ 7/ 所示/ ./ 期望/ 交互/ 间/ 的/ 因果关系/ ./ assTy/ (/ a/ ,/ b/ )/ behOrd/ (/ a/ ,/ b/ )/ reqOrd/ (/ a/ ,/ b/ )/ behEna/ (/ a/ ,/ b/ )/ reqEna/ (/ a/ ,/ b/ )/ synchrocity/ (/ a/ ,/ b/ )/ a/ (/ b/ )/ 算法/ 2/ 为/ 交互/ 图/ 的/ 类型/ 检测/ 算法/ ,/ 主要/ 包括/ 读取/ 情景/ 图中/ 的/ 任一/ 关系/ 并/ 判断/ 该/ 关系/ 连接/ 的/ 两个/ 交互/ 类型/ 是否/ 正确/ ./ Page6/ 算法/ 2/ ./ 交互/ 图/ 类型/ 检测/ 算法/ ./ 输入/ :/ 交互/ 图/ sce/ ,/ 其中/ sce/ =/ 〈/ Beh/ ∪/ Exp/ ,/ AssSet/ 〉/ 输出/ :/ 交互/ 图/ sce/ 类型/ 是否/ 正确/ ,/ 否若/ ,/ 返回/ 相应/ 的/ 提示/ 1/ ./ begin2/ ./ for/ / relInt/ (/ a/ ,/ b/ )/ ∈/ AssSet/ / sce3/ ./ 查找/ a/ 连接/ 的/ 问题/ 领域/ D/ ,/ b/ 连接/ 的/ 问题/ 领域/ E/ ;/ 4/ ./ switch/ (/ relInt/ )/ 5/ ./ casebehOrd/ :/ 6/ ./ ifa/ ∈/ Beh/ 且/ b/ ∈/ Beh/ ;/ 7/ ./ else/ 返回/ a/ 与/ b/ 不是/ 行为/ 序/ 关系/ ;/ 8/ ./ casereqOrd/ :/ 9/ ./ ifa/ ∈/ Exp/ 且/ b/ ∈/ Exp/ ;/ 10/ ./ else/ 返回/ a/ 与/ b/ 之间/ 不是/ 期望/ 序/ 关系/ ;/ 11/ ./ casebehEna/ :/ 12/ ./ ifD/ =/ =/ E/ 且/ a/ ∈/ Beh/ 且/ b/ ∈/ Exp13/ ./ else/ 返回/ a/ 与/ b/ 之间/ 不是/ 行为/ 使能/ 关系/ ;/ 14/ ./ casereqEna/ :/ 15/ ./ ifD/ =/ =/ E/ 且/ a/ ∈/ Exp/ 且/ b/ ∈/ Beh16/ ./ else/ 返回/ a/ 与/ b/ 不是/ 需求/ 使能/ 关系/ ;/ 17/ ./ casesynchrocity/ :/ 18/ ./ ifD/ =/ =/ E/ 且/ (/ (/ a/ ∈/ Exp/ 且/ b/ ∈/ Beh/ )/ 或者/ (/ a/ ∈/ 19/ ./ else/ 返回/ a/ 与/ b/ 不是/ 同步/ 关系/ ;/ 20/ ./ 返回/ sce/ 类型/ 正确/ ;/ 21/ ./ end/ (/ 3/ )/ 生成/ 需求/ 描述/ 文档/ ./ 需求/ 描述/ 文档/ 是/ 需求/ 捕获/ 的/ 结果/ ./ 从图/ 1/ 的/ 需求/ 元/ 模型/ 出发/ ,/ 一个/ 需求/ 描述/ 文档/ (/ Problem/ )/ 由/ 5/ 部分/ 组成/ :/ 被/ 创建/ 的/ 软件系统/ (/ M/ )/ 、/ 与/ 软件系统/ 交互/ 的/ 问题/ 领域/ 的/ 集合/ (/ DS/ )/ 、/ 软件系统/ 与/ 问题/ 领域/ 的/ 行为/ 交互/ 和/ 期望/ 交互/ 的/ 集合/ (/ IS/ )/ 、/ 软件系统/ 要/ 满足/ 的/ 需求/ 的/ 集合/ (/ RS/ )/ 和/ 实现需求/ 集合/ 的/ 情景/ 集合/ (/ SS/ )/ ./ 其中/ 每个/ 情景/ 用/ 情景/ 文档/ 来/ 描述/ ./ 情景/ 文档/ 是/ 对/ 一个/ 情景/ 的/ 详细/ 说明/ ,/ 包括/ 情景/ 名/ 、/ 情景/ 描述/ 、/ 问题/ 领域/ 、/ 实现/ 的/ 需求/ 、/ 行为/ 流及/ 扩展/ ./ 其中/ ,/ 情景/ 描述/ 只是/ 对/ 情景/ 的/ 一个/ 自然语言/ 描述/ ,/ 问题/ 领域/ 是/ 该/ 情景/ 涉及/ 到/ 的/ 问题/ 领域/ ,/ 实现/ 的/ 需求/ 是/ 指该/ 情景/ 实现/ 的/ 需求/ ,/ 行为/ 流是/ 连续/ 的/ 交互/ 序列/ ,/ 扩展/ 是/ 指/ 对/ 行为/ 流中/ 并发/ 交互/ 段/ 的/ 描述/ ./ 需求/ 描述/ 文档/ 的/ 软件系统/ 、/ 问题/ 领域/ 、/ 交互/ 和/ 需求/ 集合/ 都/ 是/ 在/ 需求/ 捕获/ 过程/ 中/ 直接/ 获得/ 的/ ,/ 而/ 情景/ 集合/ 中/ 的/ 情景/ 文档/ 中/ 的/ 行为/ 流/ 是从/ 交互/ 图/ 转化/ 而来/ ./ 如下/ 规则/ 表示/ 如何/ 将/ 交互/ 图/ 表述/ 为/ 一个/ 行为/ 流/ :/ ①/ 情景/ 中/ 的/ 结点/ (/ 交互/ )/ 组成/ 了/ 行为/ 流中/ 的/ 基本/ 单元/ 行为/ ,/ 行为/ 的/ 表述/ 模板/ 为/ (/ i/ )/ 若/ 交互/ 的/ 发起者/ 为/ 软件系统/ (/ M/ )/ ,/ 则/ 行为/ 是/ MinitiateshasContent/ (/ a/ )/ toreceive/ (/ a/ )/ ./ (/ ii/ )/ 若/ 交互/ 的/ 发起者/ 为/ 问题/ 领域/ ,/ 则/ 行为/ 是/ MreceiveshasContent/ (/ a/ )/ frominitiate/ (/ a/ )/ ./ ②/ 交互/ 图中/ 交互/ 间/ 关系/ 与/ 行为/ 流中/ 行为/ 的/ 顺/ (/ i/ )/ 行为/ 交互/ 按/ 行为/ 序/ 关系/ (/ behOrd/ )/ 顺序/ 排序/ 的/ 对应/ 关系/ 是/ 列/ ,/ 这个/ 序/ 关系/ 形成/ 行为/ 流/ 的/ 主干/ ./ (/ ii/ )/ 对/ 所有/ 的/ 行为/ 使能/ 关系/ (/ behEna/ )/ ,/ 其/ 期望/ 交互/ 插/ 在/ 行为/ 交互/ 之后/ ./ 交互/ 插/ 在/ 行为/ 交互/ 之后/ ./ (/ iii/ )/ 对/ 所有/ 的/ 需求/ 使能/ 关系/ (/ reqEna/ )/ ,/ 其/ 期望/ ③/ 交互/ 图中/ 的/ 并发/ 交互/ 段/ 以/ 一个/ 虚拟/ 行为/ 的/ 方式/ 出现/ 在/ 行为/ 流/ 的/ 主干/ 中/ ,/ 虚拟/ 行为/ 的/ 表述/ 模板/ 为/ (/ i/ )/ 若/ 并发/ 交互/ 的/ 发起者/ 为/ 软件系统/ (/ M/ )/ ,/ 则/ 虚/ (/ ii/ )/ 若/ 并发/ 交互/ 的/ 发起者/ 为/ 问题/ 领域/ ,/ 则/ 虚拟/ 拟/ 行为/ 是/ 行为/ 是/ MreceivesInfofromProblemDomains/ ./ ④/ 交互/ 图中/ 的/ 并发/ 交互/ 段/ 的/ 具体/ 行为/ 以/ 顺序/ 方式/ 排列/ 在/ 扩展/ 中/ ,/ 其/ 排号/ 与/ 虚拟/ 行为/ 的/ 排号/ 相同/ ./ 4/ 情景/ 分析/ 情景/ 分析/ 是/ 对/ 交互/ 图/ 进行/ 的/ 一种/ 语义/ 分析/ ,/ 包括/ 情景/ 完整性/ 和/ 情景/ 一致性/ 分析/ ./ 4.1/ 情景/ 完整性/ 分析/ 情景/ 完整性/ 是/ 指/ 情景/ 中/ 的/ 交互/ 都/ 必须/ 能够/ 发生/ ./ 具体/ 而言/ ,/ 违背/ 完整性/ 的/ 情景/ 有/ 3/ 种/ ./ 第/ 1/ 种/ ,/ 存在/ 没有/ 被/ 实现/ 的/ 期望/ 交互/ ,/ 也就是说/ ,/ 这个/ 期望/ 交互/ 与/ 任何/ 行为/ 交互/ 都/ 没有/ 关系/ ,/ 不/ 存在/ 系统/ 的/ 行为/ 可以/ 保证/ 该/ 期望/ 交互/ 的/ 发生/ ./ 第/ 2/ 种/ ,/ 软件系统/ 需要/ 发起/ 一个/ 值/ 交互/ ,/ 但/ 不/ 存在/ 一个/ 软件系统/ 接收/ 的/ 值/ 交互/ ,/ 作为/ 产生/ 这个/ 值/ 的/ 前提/ ,/ 以/ 支持/ 该/ 行为/ 交互/ 的/ 发生/ ./ 第/ 3/ 种/ ,/ 对/ 某个/ 情景/ 的/ 某/ 一/ 需求/ 使能/ 关系/ 中/ 的/ 期望/ 交互/ ,/ 不/ 存在/ 该/ 情景/ 的/ 某个/ 行为/ 交互/ ,/ 使得/ 该/ 行为/ 交互/ 和/ 期望/ 交互/ 之间/ 存在/ 行为/ 使能/ 关系/ ,/ 来/ 确保/ 该/ 期望/ 交互/ 的/ 发生/ ./ 这/ 3/ 种/ 情况/ 可以/ 分别/ 表示/ 为/ 3/ 条/ 完整性/ 约束/ ,/ 分别/ 是/ 约束/ 1/ 、/ 约束/ 2/ 和/ 约束/ 3/ (/ 如图/ 3/ 所示/ )/ ./ Page7/ 约束/ 1/ :/ 对/ 期望/ 交互/ 的/ 要求/ 前提/ :/ P/ =/ 〈/ M/ ,/ DS/ ,/ IS/ ,/ RS/ ,/ SS/ 〉/ 条件/ :/ / sce/ ∈/ SS/ ,/ sce/ =/ 〈/ Beh/ ∪/ Exp/ ,/ AssSet/ 〉/ ,/ / a/ ∈/ Exp/ 结论/ :/ / b/ ∈/ Beh/ ,/ 使得/ assTy/ (/ a/ ,/ b/ )/ ∈/ AssSet/ 约束/ 2/ :/ 对/ 软件系统/ 行为/ 的/ 要求/ 前提/ :/ P/ =/ 〈/ M/ ,/ DS/ ,/ IS/ ,/ RS/ ,/ SS/ 〉/ 条件/ :/ / sce/ ∈/ SS/ ,/ sce/ =/ 〈/ Beh/ ∪/ Exp/ ,/ AssSet/ 〉/ ,/ / a/ ∈/ IS/ ,/ a/ 是/ M/ 发起/ 的/ 行为/ 交互/ 且/ 是/ 值/ 交互/ 结论/ :/ / b/ ∈/ Beh/ ,/ 使得/ behOrd/ (/ b/ ,/ a/ )/ ∈/ AssSet/ ,/ 或者/ 存/ c/ ∈/ Exp/ ,/ 使得/ reqEna/ (/ c/ ,/ a/ )/ ∈/ AssSet/ 约束/ 3/ :/ 对/ 需求/ 使能/ 关系/ 的/ 要求/ 前提/ :/ P/ =/ 〈/ M/ ,/ DS/ ,/ IS/ ,/ RS/ ,/ SS/ 〉/ 条件/ :/ / sce/ ∈/ SS/ ,/ sce/ =/ 〈/ Beh/ ∪/ Exp/ ,/ AssSet/ 〉/ ,/ reqEna/ (/ a/ ,/ b/ )/ ∈/ AssSet/ ,/ 结论/ :/ / sce2/ ∈/ SS/ ,/ / behEna/ (/ c/ ,/ a/ )/ ,/ 使得/ c/ ∈/ sce2/ 违背/ 约束/ 1/ 说明/ 软件系统/ 的/ 行为/ 不能/ 保证/ 需求/ 的/ 发生/ ./ 我们/ 提出/ 策略/ 1/ 进行/ 情景/ 的/ 修正/ ,/ 即/ 通过/ 引入/ 新/ 的/ 领域/ 来/ 提供/ 新/ 的/ 信息/ 来/ 允许/ 该/ 期望/ 交互/ 发生/ ,/ 由此/ 带来/ 对/ 整个/ 问题/ 的/ 精化/ ,/ 包含/ 引入/ 新/ 的/ 交互/ 、/ 新/ 的/ 领域/ 、/ 补充/ 情景/ 等等/ ./ 策略/ 1/ ./ 引入/ 新/ 的/ 领域/ 进行/ 问题/ 精化/ ./ 若/ 问题/ P/ =/ 〈/ M/ ,/ DS/ ,/ IS/ ,/ RS/ ,/ SS/ 〉/ 中/ ,/ 情景/ scei/ 中/ 存在/ 期望/ 交互/ intR/ 未/ 被/ 确定/ 时/ ,/ 当/ 引入/ 一个/ 新/ 领域/ d/ 之后/ ,/ 可/ 经过/ 如下/ 4/ 大步/ 对/ P/ 进行/ 精化/ :/ (/ 1/ )/ 将/ d/ 添加/ 到/ DS/ ,/ 即/ DS/ =/ DS/ ∪/ {/ d/ }/ 引入/ d/ 之后/ ,/ 有/ 两种/ 策略/ 来/ 创建/ d/ ,/ 一种/ 是/ 引入/ 一个/ 服从/ 式/ 领域/ b/ (/ d/ )/ 作为/ 模型/ 构建/ 器/ ,/ 则/ DS/ =/ DS/ ∪/ {/ b/ (/ d/ )/ }/ ,/ 另/ 一个/ 策略/ 是/ 自动/ 的/ 模型/ 构建/ 器/ ;/ (/ 2/ )/ 识别/ 涉及/ d/ 、/ intR/ 发生/ 的/ 领域/ 与/ 创建/ d/ 引入/ 的/ 领域/ 的/ 交互/ ,/ 并/ 将/ 它们/ 加入/ 到/ IS/ ;/ (/ 3/ )/ RS/ 中/ 加入/ 一个/ 新/ 的/ 需求/ ,/ reqn/ +/ 1/ =/ {/ 创建/ 领域/ d/ }/ ,/ RS/ =/ RS/ ∪/ {/ reqn/ +/ 1/ }/ ;/ 对/ SS/ 中/ 不/ 满足条件/ 的/ intR/ 涉及/ 的/ 所有/ 情景/ 进行/ 修正/ ./ (/ 4/ )/ 为/ 需求/ reqn/ +/ 1/ 构造/ 情景/ scen/ +/ 1/ ,/ SS/ =/ SS/ ∪/ {/ scen/ +/ 1/ }/ ,/ 违背/ 约束/ 2/ 说明/ 不能/ 保证/ 软件系统/ 的/ 行为/ 的/ 发生/ ./ 我们/ 提出/ 策略/ 2/ 进行/ 情景/ 的/ 修正/ ,/ 即/ 通过/ 引入/ 新/ 的/ 词法/ 领域/ 来/ 提供/ 值/ 信息/ 来/ 允许/ 该/ 行为/ 交互/ 发生/ ,/ 由此/ 带来/ 对/ 整个/ 问题/ 的/ 精化/ ,/ 包含/ 引入/ 新/ 的/ 交互/ 、/ 新/ 的/ 领域/ 、/ 补充/ 情景/ 等等/ ./ 策略/ 2/ ./ 引入/ 新/ 的/ 词法/ 领域/ 进行/ 问题/ 精化/ ./ 若/ 问题/ P/ =/ 〈/ M/ ,/ DS/ ,/ IS/ ,/ RS/ ,/ SS/ 〉/ 中/ ,/ 情景/ scei/ 中/ 存在/ 未/ 被/ 支持/ 的/ 软件系统/ 值/ 交互/ a/ ,/ 当/ 引入/ 一个/ 新/ 的/ 词法/ 领域/ d/ 之后/ ,/ 可/ 经过/ 如下/ 4/ 大步/ 对/ P/ 进行/ 精化/ :/ (/ 1/ )/ 将/ d/ 添加/ 到/ DS/ ,/ 即/ DS/ =/ DS/ ∪/ {/ d/ }/ 引入/ d/ 之后/ ,/ 有/ 两种/ 策略/ 来/ 创建/ d/ ,/ 一种/ 是/ 引入/ 一个/ 服从/ 式/ 领域/ b/ (/ d/ )/ 作为/ 模型/ 构建/ 器/ ,/ 则/ DS/ =/ DS/ ∪/ {/ b/ (/ d/ )/ }/ ,/ 另/ 一个/ 策略/ 是/ 自动/ 的/ 模型/ 构建/ 器/ ;/ (/ 2/ )/ 识别/ 涉及/ d/ 发生/ 的/ 领域/ 与/ 创建/ d/ 引入/ 的/ 领域/ 的/ 交互/ ,/ 并/ 将/ 它们/ 加入/ 到/ IS/ ;/ RS/ =/ RS/ ∪/ {/ reqn/ +/ 1/ }/ ;/ (/ 3/ )/ RS/ 中/ 加入/ 一个/ 新/ 的/ 需求/ ,/ reqn/ +/ 1/ =/ {/ 创建/ 领域/ d/ }/ ,/ (/ 4/ )/ 为/ 需求/ reqn/ +/ 1/ 构造/ 情景/ scen/ +/ 1/ ,/ SS/ =/ SS/ ∪/ {/ scen/ +/ 1/ }/ ,/ 对/ scei/ 中/ a/ 构建/ 行为/ 序/ 关系/ 或/ 需求/ 使能/ 关系/ ./ 违背/ 约束/ 3/ 说明/ 该/ 期望/ 交互/ 并/ 没有/ 发生/ ,/ 需要/ 一个/ 新/ 的/ 需求/ 来/ 保证/ 该/ 期望/ 交互/ 的/ 发生/ ./ 我们/ 提出/ 策略/ 3/ 进行/ 情景/ 的/ 修正/ ,/ 即/ 通过/ 引入/ 新/ 的/ 需求/ 对/ 问题/ 进行/ 精化/ 和/ 情景/ 补充/ ./ 策略/ 3/ ./ 引入/ 新/ 的/ 需求/ 进行/ 问题/ 精化/ ./ 问题/ P/ =/ 〈/ M/ ,/ DS/ ,/ IS/ ,/ RS/ ,/ SS/ 〉/ ,/ intR/ 是/ 需求/ 使能/ 关系/ 中/ 的/ 期望/ 交互/ ,/ ρ/ (/ intR/ )/ 是/ intR/ 发生/ 的/ 问题/ 领域/ ,/ 当/ 引入/ 新/ 需求/ req/ 时/ ,/ P/ 可/ 经过/ 如下/ 4/ 大步/ 进行/ 精化/ :/ (/ 1/ )/ 引入/ 一个/ 服从/ 式/ 领域/ b/ 作为/ ρ/ (/ intR/ )/ 的/ 构建/ 器/ ,/ DS/ =/ DS/ ∪/ {/ b/ }/ ;/ (/ 2/ )/ 识别/ 涉及/ b/ (/ d/ )/ 和/ ρ/ (/ intR/ )/ 的/ 交互/ ,/ 添加/ 到/ IS/ 中/ ;/ (/ 3/ )/ 添加/ 新/ 需求/ req/ 来/ 创建/ ρ/ (/ intR/ )/ ,/ 即/ RS/ =/ RS/ ∪/ {/ req/ }/ ;/ (/ 4/ )/ 构造/ req/ 的/ 交互/ 图/ sce/ ,/ 在/ 其中/ 使能/ intR/ ,/ SS/ =/ SS/ ∪/ {/ sce/ }/ ./ 4.2/ 情景/ 一致性/ 分析/ 情景/ 一致性/ 指/ 交互/ 间/ 的/ 序/ 关系/ 必须/ 满足/ 因果性/ (/ hasCausal/ )/ ,/ 而且/ 这种/ 因果性/ 在/ 同一个/ 问题/ 的/ 各个/ 情景/ 中是/ 一致/ 的/ ./ 具体/ 而言/ ,/ 违背/ 一致性/ 有/ 两种/ 情况/ ,/ 一种/ 是/ 在/ 同一个/ 情景/ 内部/ ,/ 出现/ 环路/ 的/ ,/ 导致/ 交互/ 出现/ 自反/ ./ 另/ 一种/ 是/ 在/ 不同/ 的/ 情景/ 中/ 出现/ 的/ 两个/ 相同/ 的/ 交互/ ,/ 其/ 因果关系/ 却是/ 不同/ 的/ ./ 我们/ 提出/ 情景/ 的/ 两条/ 一致性/ 约束/ 分别/ 表示/ 这/ 两个/ 约束/ ,/ 它们/ 是/ 约束/ 4/ 和/ 约束/ 5/ (/ 如图/ 4/ 所示/ )/ ./ 违背/ 任何/ 一个/ 约束/ ,/ 都/ 需要/ 需求/ 分析员/ 进行/ 情景/ 的/ 修正/ ./ 其/ 相应/ 的/ 策略/ 是/ 要/ 提示/ 需求/ 提供者/ 重新/ 验证/ 这个/ 情景/ 的/ 交互/ 流/ ,/ 重新/ 调整/ 交互/ 之间/ 的/ 关系/ ,/ 直到/ 不一致性/ 被/ 完全/ 消除/ ./ 约束/ 4/ :/ 对/ 同一个/ 情景/ 的/ 要求/ 前提/ :/ 给定/ 问题/ P/ =/ 〈/ M/ ,/ DS/ ,/ IS/ ,/ RS/ ,/ SS/ 〉/ 条件/ :/ / sce/ ∈/ SS/ ,/ sce/ =/ 〈/ IntSet/ ,/ AssSet/ 〉/ ,/ / a/ ∈/ IntSet/ 结论/ :/ / hasCausal/ (/ a/ ,/ a/ )/ 约束/ 5/ :/ 对/ 同一个/ 问题/ 的/ 不同/ 情景/ 的/ 要求/ 前提/ :/ P/ =/ 〈/ M/ ,/ DS/ ,/ IS/ ,/ RS/ ,/ SS/ 〉/ ,/ / sce1/ ,/ sce2/ ,/ ∈/ SS/ ,/ sce1/ =/ 〈/ IntSet1/ ,/ 条件/ :/ sce1/ 中/ 出现/ hasCausal/ (/ a/ ,/ b/ )/ 结论/ :/ sce2/ 中/ 出现/ hasCausal/ (/ a/ ,/ b/ )/ AssSet1/ 〉/ ,/ sce2/ =/ 〈/ IntSet2/ ,/ AssSet2/ 〉/ ,/ a/ ,/ b/ ∈/ IntSet1/ ∩/ IntSet2Page85/ 工具/ 实现/ 与/ 案例/ 研究/ 5.1/ 工具/ 的/ 实现/ 我们/ 设计/ 并/ 实现/ 了/ 支持/ 上述/ 需求/ 捕获/ 过程/ 的/ 工/ (/ 1/ )/ 工具栏/ ./ 显示/ 需求/ 元素/ 的/ 图形/ 表示/ ,/ 图形/ 与/ 需求/ 元素/ 的/ 对应/ 关系/ 如图/ 6/ 所示/ ./ 图/ 5/ 支撑/ 工具/ 的/ 界面/ 截图/ (/ 2/ )/ 流程/ 控制/ ./ 嵌入/ 需求/ 捕获/ 过程/ 作为/ 其/ 控制/ 流程/ ,/ 引导/ 需求/ 提供者/ 系统/ 有序/ 地/ 进行/ 需求/ 描述/ ./ 还/ 将/ 对/ 情景/ 的/ 一致性/ 和/ 完整性/ 约束/ 检测/ 嵌入/ 了/ 流程/ 中/ ,/ 帮助/ 捕获/ 一些/ 潜在/ 的/ 需求/ 信息/ ./ (/ 3/ )/ 画布/ ./ 有/ 两种/ 形式/ 的/ 画布/ ,/ 一是/ 问题/ 图画/ 布/ ,/ 其中/ 描述/ 了/ 软件系统/ 、/ 问题/ 领域/ 、/ 交互/ 和/ 需求/ ./ 另/ 一种/ 是/ 情景/ 画布/ ,/ 用来/ 描述/ 情景/ ./ 图/ 5/ 中间/ 部分/ 展示/ 的/ 是/ 情景/ ./ (/ 4/ )/ 需求/ 断言/ 表/ ./ 包含/ 交互/ 表/ 、/ 现象/ 表/ 、/ 需求/ 表/ 、/ 需求/ 引用/ 表等/ ,/ 它/ 是/ 在/ 用户/ 提供/ 了/ 需求/ 相关/ 信息/ 之后/ 自动/ 生成/ 的/ ,/ 是/ 需求/ 相关/ 信息/ 的/ 记录/ ./ 图/ 5/ 右边/ 上部/ 展示/ 了/ 交互/ 表/ ,/ 是/ 交互/ 的/ 集合/ ./ 具/ ./ 它/ 支持/ 图形化/ 描述/ ,/ 提供/ 了/ 各种/ 编辑/ 、/ 检测/ 和/ 验证/ 手段/ ,/ 帮助/ 需求/ 分析员/ 指导/ 需求/ 捕获/ ./ 图/ 5/ 是/ 该/ 工具/ 的/ 界面/ 截图/ ,/ 其中/ 的/ 标记/ 位置/ 是/ 工具/ 界面/ 的/ 5/ 个/ 区域/ :/ (/ 5/ )/ 情景/ 文档/ ./ 情景/ 文档/ 是/ 情景/ 的/ 详细/ 说明/ ,/ 根据/ 每个/ 情景/ 图/ 生成/ ./ 图/ 5/ 右边/ 下部/ 展示/ 的/ 是/ 一个/ 情景/ 文档/ ./ 5.2/ 案例/ 研究/ 本节/ 以/ 邮包/ 投递/ 控制/ 问题/ [/ 6/ ,/ 10/ ]/ 为例/ ,/ 使用/ 需求/ 捕获/ 的/ 支撑/ 工具/ 对/ 该/ 问题/ 进行/ 需求/ 捕获/ ./ 该/ 案例/ 的/ 自然语言/ 陈述/ 为/ :/ 邮包/ 投递/ 器/ (/ Router/ )/ 是/ 一个/ 机械/ 装置/ ,/ 用于/ 把/ 邮包/ (/ Package/ )/ 按/ 目的地/ (/ Destination/ )/ 投递/ 到/ 相应/ 邮箱/ (/ Bin/ )/ ./ 邮包/ 带有/ 条码/ 标签/ (/ Label/ )/ ,/ 通过/ 传输/ 带/ (/ PackageConveyer/ )/ 移动/ ,/ 读码/ 工作站/ 读取/ 邮包/ 的/ 标记/ 和/ 目的地/ 给/ 计算机/ ./ 计算机控制/ 通道/ 开关/ 设置/ 邮包/ 的/ 走向/ ,/ 如果/ 发现错误/ 投递/ 的/ 邮包/ ,/ 及时/ 通过/ 显示器/ (/ DisplayUnit/ )/ 显示/ 错误信息/ ./ 操作者/ (/ RouterOperator/ )/ 可以/ 通过/ 控制/ 按钮/ 控制/ 计算机/ 停止/ 和/ 启动/ 传输/ 带/ ./ 问题/ 是/ 要/ 建立/ 控制/ 计算机/ :/ (/ 1/ )/ 服从/ 操作者/ 的/ 命令/ ,/ (/ 2/ )/ 通过/ 适当/ 地/ 设置/ 开关/ 将/ 邮包/ 投递/ 到/ 目的地/ 邮箱/ 中/ ,/ (/ 3/ )/ 报告/ 错误/ 投递/ 的/ 邮包/ ./ 5.2/ ./ 1/ 确定/ 系统/ 边界/ (/ 1/ )/ 命名/ 软件系统/ ./ 可以/ 命名/ 软件系统/ 为/ 邮包/ 投递/ 控制器/ RC/ (/ RouterController/ )/ ./ 单击/ 工具栏/ 中/ 软件系统/ 图/ 元/ ,/ 在/ 问题/ 图画/ 布中/ 创建/ 软件系统/ 的/ 实例/ ,/ 双击/ 该/ 实例/ ,/ 在/ 弹出/ 的/ 对话框/ 中/ 输入/ 软件系统/ 的/ 名称/ ,/ 如图/ 7/ 中双/ 竖线/ 矩形/ 所示/ ./ Page9/ (/ 2/ )/ 识别/ 问题/ 领域/ ./ 根据/ 问题/ 领域/ 识别/ 问卷/ ,/ 操作者/ RO/ (/ RouterOperator/ )/ 要/ 使用/ 该/ 系统/ 停止/ 和/ 启动/ 传输/ 带/ ,/ 因此/ 增加/ 操作者/ RO/ 为/ 服从/ 式/ 领域/ (/ B/ )/ ./ 软件系统/ 可以/ 控制/ 的/ 外部/ 物理/ 设备/ 有/ 邮包/ 与/ 投递/ 器/ PR/ (/ Package/ &/ Router/ )/ 、/ 传输/ 带/ PC/ (/ PackageConveyer/ )/ 和/ 显示器/ DU/ (/ DisplayUnit/ )/ ,/ 它们/ 都/ 是/ 因果/ 领域/ (/ C/ )/ ./ 类似/ 地/ 在/ 问题/ 图画/ 布中/ 添加/ 这些/ 领域/ ,/ 并/ 在/ 对话框/ 中/ 输入/ 问题/ 领域/ 名称/ 、/ 领域/ 类型/ ,/ 结果/ 如图/ 7/ 中/ 矩形/ 所示/ ./ 5.2/ ./ 2/ 识别系统/ 行为/ 根据/ 共享/ 现象/ 的/ 识别/ 问卷/ ,/ 可以/ 知道/ RO/ 引起/ OnBut/ 和/ OffBut/ 事件/ ,/ 按下/ 指示/ 传输/ 带/ 启动/ 和/ 停止/ 传送/ 的/ 按钮/ ./ 单击/ 工具栏/ 中/ 交互/ 图/ 元/ ,/ 然后/ 在/ 画布/ 中/ 点击/ 软件系统/ RC/ 和/ 问题/ 领域/ RO/ ,/ 由此/ 创建/ 它们/ 之间/ 的/ 交互/ ,/ 双击/ 该/ 交互/ ,/ 在/ 弹出/ 的/ 对话框/ 中/ 输入/ :/ 共享/ 的/ 现象/ OnBut/ 和/ OffBut/ ,/ 现象/ 类型/ 都/ 是/ 事件/ ,/ 现象/ 都/ 由/ RO/ 发起/ ,/ 由/ 软件系统/ 接收/ ./ 类似/ 地/ 可以/ 识别/ 其它/ 行为/ 交互/ ,/ 得到/ 交互/ 表/ ,/ 如图/ 8/ 所示/ ./ 5.2/ ./ 3/ 定义/ 需求/ (/ 1/ )/ 识别/ 需求/ ./ 根据/ 需求/ 的/ 识别/ 问卷/ ,/ 可以/ 识别/ 出/ :/ ①/ RO/ 需要/ 控制/ 计算机/ 使/ PC/ 停止/ (/ Stopped/ )/ 或/ 运行/ (/ Run/ -/ ning/ )/ ;/ ②/ 软件系统/ 通过/ 设置/ 开关/ 方向/ 将/ 邮包/ PR/ 投递/ 到/ 目的地/ 邮箱/ ;/ ③/ PR/ 通过/ DU/ 展示/ 错误/ 投递/ 的/ 邮包/ ./ 识别/ 出/ 3/ 个/ 需求/ ,/ 需求/ 1/ (/ req1/ )/ —/ —/ —/ 遵守/ 操作者/ 命令/ (/ obeyoperator/ ’/ scommand/ )/ ,/ 需求/ 2/ (/ req2/ )/ —/ —/ —/ 正确/ 投递/ (/ correctcorrecting/ )/ 和/ 需求/ 3/ (/ req3/ )/ —/ —/ —/ 报告/ 错误/ 投递/ 的/ 邮包/ (/ reportmisroutedpackage/ )/ ./ 类似/ 地/ 在/ 问题/ 图画/ 板中/ 添加/ 需求/ ,/ 并/ 编辑/ 它们/ ,/ 结果/ 如图/ 7/ 中/ 虚线/ 椭圆/ 所示/ ./ (/ 2/ )/ 识别/ 期望/ 交互/ 和/ 需求/ 引用/ ./ 根据/ 期望/ 交互/ 的/ 识别/ 问卷/ ,/ 为了/ 满足/ 需求/ req1/ ,/ OP/ 要/ 发起/ 事件/ OnBut/ 和/ OffBut/ ,/ 而/ 预期/ PC/ 的/ 状态/ 变为/ Running/ 和/ Stopped/ ./ 所以/ 可以/ 得到/ PC/ 和/ RC/ 共享/ 的/ 期望/ 交互/ :/ 单击/ 工具栏/ 的/ 需求/ 引用/ 图/ 元/ ,/ 在/ 问题/ 图画/ 布中/ 点击/ 需求/ req1/ 和/ 问题/ 领域/ PC/ ,/ 由此/ 创建/ 它们/ 之间/ 的/ 需求/ 引用/ 实例/ ,/ 双击/ 该/ 实例/ ,/ 在/ 弹出/ 的/ 对话框/ 中/ 输入/ int15/ 和/ int16/ 作为/ 期望/ 交互/ ,/ 使用/ 类型/ 为/ 约束性/ 引用/ ./ 类似/ 地/ ,/ 可/ 得到/ 其它/ 的/ 期望/ 交互/ 和/ 需求/ 引用/ ,/ 由此/ 得到/ 需求/ 引用/ 列表/ ,/ 如图/ 9/ 所示/ ./ 5.2/ ./ 4/ 定义/ 需求/ 实现/ 由/ 3/ 个/ 需求/ ,/ 自动/ 生成/ 3/ 个/ 情景/ 画布/ 绘制/ 交互/ 图/ sce1/ ,/ sce2/ 和/ sce3/ ,/ 用来/ 表示/ 实现需求/ req1/ ,/ req2/ 和/ req3/ ./ (/ 1/ )/ 绘制/ 交互/ 图/ ./ 首先/ 是/ 选择/ 候选/ 交互/ ./ 每个/ 交互/ 图画/ 布都/ 分别/ 列出/ 了/ 所有/ 可能/ 的/ 交互/ ./ 例如/ ,/ 在/ sce1/ 的/ 标签/ 中/ ,/ 可以/ 看到/ sce1/ 中/ 候选/ 的/ 行为/ 交互/ 有/ int1/ 、/ int2/ 、/ int13/ 、/ int14/ ,/ 期望/ 交互/ 有/ int13/ 、/ int14/ 、/ int15/ 、/ int16/ ./ 其次/ 由/ 需求/ 提供者/ 确定/ 交互/ 间/ 关系/ ./ 例如/ ,/ RO/ 发出/ OnBut/ (/ int13/ )/ 命令/ ,/ 期望/ 看到/ RO/ 发出/ OnBut/ (/ int13/ )/ 命令/ 给/ 软件系统/ RC/ ,/ RC/ 发出/ OnC/ (/ int1/ )/ 给/ PC/ ,/ PC/ 的/ 状态/ 变为/ Running/ (/ int15/ )/ ,/ 因此/ ,/ int13/ 和/ int13/ 之间/ 存在/ 同步/ 关系/ ,/ int13/ 和/ int1/ 之间/ 存在/ 行为/ 序/ 关系/ ,/ int1/ 和/ int15/ 之间/ 存在/ 行为/ 使能/ 关系/ ./ 期望/ 交互/ int13/ 和/ int15/ 之间/ 存在/ 期望/ 序/ 关系/ ./ 类似/ 地/ ,/ 可以/ 确定/ 其它/ 的/ 交互/ 间/ 关系/ ,/ 点击/ sce1/ 的/ 标签/ ,/ 编辑/ sce1/ 中/ 的/ 候选/ 交互/ 间/ 关系/ ,/ 由此/ 得到/ 如图/ 10/ 所示/ 情景/ sce1/ ./ Page10/ 类似/ 地/ ,/ 点击/ sce2/ 与/ sce3/ 的/ 标签/ ,/ 确定/ 那些/ 交互/ 间/ 关系/ ,/ 可以/ 得到/ 如图/ 11/ 和/ 图/ 12/ 所示/ 的/ 情景/ sce2/ 和/ sce3/ ./ (/ 2/ )/ 检测/ 交互/ 图/ 类型/ 正确性/ ./ 在/ sce2/ 的/ 标签/ 中/ ,/ 右键/ 选择/ 对/ sce2/ 进行/ 检测/ ,/ 检测/ 结果/ 为/ :/ “/ int10/ 与/ int12/ 不是/ 期望/ 序/ 关系/ ,/ 请/ 重新/ 确定/ 它们/ 之间/ 的/ 关系/ ”/ ./ int10/ 与/ int12/ 都/ 是/ 行为/ 交互/ ,/ 它们/ 之间/ 的/ 关系/ 应该/ 是/ 行为/ 序/ 关系/ ,/ 修正/ 后/ 的/ 检测/ 结果/ 为/ :/ “/ 交互/ 图/ sce2/ 正确/ ”/ ./ 类似/ 地/ ,/ 检测/ sce1/ 和/ sce3/ ,/ 结果显示/ 正确/ ./ (/ 3/ )/ 检测/ 情景/ 的/ 一致性/ 和/ 完整性/ ./ 该/ 检测/ 由/ 工具/ 自动/ 完成/ ,/ 检测/ 结果/ 为/ :/ 情景/ 不/ 满足/ 完整性/ 约束/ :/ (/ a/ )/ 情景/ sce2/ 和/ sce3/ 中有/ 未确定/ 期望/ 交互/ int18/ ,/ 违反/ 完整性/ 约束/ 1/ ;/ (/ b/ )/ sce2/ 中/ 软件系统/ 发起/ 的/ 行为/ 交互/ int6/ 和/ int7/ 缺乏/ 值/ 交互/ 的/ 支持/ ,/ 违反/ 完整性/ 约束/ 2/ ./ 可以/ 采用/ 策略/ 1/ 来/ 解决/ 检测/ 结果/ (/ a/ )/ 的/ 问题/ ,/ 即/ 增加/ 一个/ 新/ 的/ 问题/ 领域/ DBM/ (/ Destination/ —/ BinMapping/ )/ 来/ 提供/ 关于/ 目的地/ 和/ 邮箱/ 的/ 相关/ 知识/ ,/ 以此/ 根据/ 目的地/ 正确/ 找到/ 邮箱/ ./ 根据/ 策略/ 1/ 的/ (/ 1/ )/ ~/ (/ 3/ )/ 步/ ,/ 采用/ 服从/ 式/ 领域/ DI/ (/ DestinationInformant/ )/ 来/ 创建/ DBM/ ,/ 由此/ 产生/ 如下/ 的/ 领域/ 、/ 交互/ 、/ 需求/ 引用/ 和/ 需求/ :/ Domain/ (/ dom5/ ,/ DI/ ,/ {/ biddabledomain/ }/ )/ Domain/ (/ dom6/ ,/ DBM/ ,/ {/ lexicaldomain/ }/ )/ Phenomenon/ (/ phe20/ ,/ EditCommands/ ,/ {/ event/ }/ )/ Phenomenon/ (/ phe21/ ,/ MappingOperations/ ,/ {/ event/ }/ )/ Interaction/ (/ int20/ ,/ DI/ ,/ RC/ ,/ EditCommands/ )/ Interaction/ (/ int21/ ,/ RC/ ,/ DBM/ ,/ MappingOperations/ )/ Requirement/ (/ req4/ ,/ ‘/ editingdestination/ -/ binmapping/ ’/ )/ Reference/ (/ req4/ ,/ DI/ ,/ RC/ ,/ EditCommands/ ,/ normal/ )/ Reference/ (/ req4/ ,/ DBM/ ,/ RC/ ,/ Assoc/ (/ d/ ,/ b/ )/ ,/ constraining/ )/ Phenomenon/ (/ phe22/ ,/ Assoc/ (/ d/ ,/ b/ )/ ,/ {/ value/ }/ )/ Interaction/ (/ int22/ ,/ DBM/ ,/ RC/ ,/ Assoc/ (/ d/ ,/ b/ )/ )/ Phenomenon/ (/ phe23/ ,/ Assoc/ (/ d/ ,/ b/ )/ ,/ {/ event/ }/ )/ Interaction/ (/ int23/ ,/ DBM/ ,/ RC/ ,/ Assoc/ (/ d/ ,/ b/ )/ )/ 根据/ 策略/ 1/ 的/ 第/ (/ 4/ )/ 步/ ,/ 构造/ 了/ 新/ 的/ 情景/ sce4/ 来/ 实现需求/ req4/ ,/ 其/ 交互/ 图如图/ 13/ (/ c/ )/ 所示/ ./ 另外/ ,/ 情景/ sce3/ 发生/ 了/ 改变/ ,/ 将/ int23/ 插入/ 在/ int10/ 和/ int12/ 之间/ ,/ 由/ 它/ 使/ 能/ 期望/ 交互/ int18/ ./ 修改/ 后/ 的/ sce3/ 如图/ 13/ (/ b/ )/ 所示/ ./ 同样/ 地/ ,/ 情景/ sce2/ 也/ 随之/ 发生/ 类似/ 的/ 变化/ ./ 检测/ 结果/ (/ b/ )/ 说明/ ,/ 软件系统/ 要/ 对/ RP/ 的/ 开关/ 进行/ 设置/ ,/ 必须/ 要/ 先/ 知道/ 关于/ 邮包/ 投递/ 器/ 的/ 布局/ 信息/ ,/ 这些/ 信息/ 不能/ 直接/ 从/ 邮包/ 投递/ 器/ 本身/ 得到/ ,/ 必须/ 来自/ 邮包/ 投递/ 器/ 的/ 一个/ 模型/ ./ 根据/ 策略/ 2/ ,/ 引入/ 新/ 领域/ -/ 邮包/ 投递/ 器/ 模型/ RLM/ (/ RouterLayoutModel/ )/ ,/ 并/ 由/ 布局/ 信息/ 提供者/ LI/ (/ LayoutInformant/ )/ 创建/ 该/ 模型/ ./ 由/ 策略/ 2/ 的/ (/ 1/ )/ ~/ (/ 3/ )/ 步/ ,/ 可/ 得到/ 如下/ 描述/ :/ Domain/ (/ dom7/ ,/ LI/ ,/ {/ biddable/ }/ )/ Domain/ (/ dom8/ ,/ RLM/ ,/ {/ lexical/ }/ )/ Phenomenon/ (/ phe24/ ,/ EditCommands/ ,/ {/ event/ }/ )/ Phenomenon/ (/ phe25/ ,/ LayoutModelOperations/ ,/ {/ event/ }/ )/ Phenomenon/ (/ phe26/ ,/ RouterLayoutStates/ ,/ {/ state/ }/ )/ Interaction/ (/ int24/ ,/ LI/ ,/ RC/ ,/ EditCommands/ )/ Page11Interaction/ (/ int25/ ,/ RC/ ,/ RLM/ ,/ LayoutModelOperations/ )/ Interaction/ (/ int26/ ,/ PR/ ,/ RC/ ,/ RouterLayoutStates/ )/ Requirement/ (/ req5/ ,/ ‘/ routerlayoutmodeling/ ’/ )/ Reference/ (/ req5/ ,/ PR/ ,/ LI/ ,/ RouterLayoutStates/ ,/ normal/ )/ Reference/ (/ req5/ ,/ RLM/ ,/ RC/ ,/ LayoutModelStates/ ,/ con/ -/ straining/ )/ Phenomenon/ (/ phe27/ ,/ LayoutModelStates/ ,/ {/ state/ }/ )/ Interaction/ (/ int27/ ,/ RLM/ ,/ RC/ ,/ LayoutModelStates/ )/ 由/ 策略/ 2/ 的/ 第/ (/ 4/ )/ 步/ ,/ 构造/ 新/ 情景/ sce5/ 实现/ 新/ 需求/ req5/ ,/ 其/ 交互/ 图如图/ 13/ (/ d/ )/ 所示/ ./ 另外/ ,/ 随着/ 新/ 领域/ 和/ 交互/ 的/ 引入/ ,/ 需求/ req2/ 的/ 情景/ sce2/ 发生/ 了/ 改变/ ,/ int27/ 使能/ 了/ int6/ ,/ int7/ 的/ 发生/ ,/ 它/ 提供/ 关于/ 邮包/ 投递/ 器/ 布局/ 的/ 信息/ ./ 修改/ 后/ 的/ sce2/ 如图/ 13/ (/ a/ )/ 所示/ ./ (/ 4/ )/ 生成/ 需求/ 描述/ 文档/ ./ 完成/ 上述/ 步骤/ 后/ ,/ 工具/ 自动/ 产生/ 邮包/ 投递/ 控制/ 问题/ 的/ 需求/ 描述/ 文档/ ,/ 如图/ 14/ 所示/ ./ 其中/ ,/ 情景/ sce1/ 的/ 文档/ 如图/ 15/ 所示/ ./ 其它/ 的/ 情景/ 文档/ 见/ 附录/ ./ PpackageroutercontrolproblemM/ {/ RC/ }/ DS/ {/ PR/ ,/ RO/ ,/ PC/ ,/ DU/ ,/ DBM/ ,/ DI/ ,/ RLM/ ,/ LI/ }/ ISRS/ {/ req1/ ,/ req2/ ,/ req3/ ,/ req4/ ,/ req5/ }/ SS/ {/ sce1/ ,/ sce2/ ,/ sce3/ ,/ sce4/ ,/ sce5/ }/ 6/ 相关/ 工作/ 早期/ 的/ 需求/ 捕获/ 技术/ 包括/ 面谈/ 法/ 和/ 问卷/ 法/ ,/ 提供/ 通用/ 的/ 需求/ 捕获/ 技术/ ./ 如何/ 有效/ 地/ 实施/ 这些/ 技术/ 需要/ 需求/ 捕获/ 方法/ 的/ 指导/ ,/ 以/ 帮助/ 设计/ 问卷/ 、/ 制定/ 商谈/ 计划/ 等/ ./ 需求/ 捕获/ 方法/ 还/ 包括/ 用/ 例法/ 和/ 情景/ 实例/ 法/ ./ 用/ 例法/ 是/ 目前/ 工业界/ 广泛/ 使用/ 的/ 方法/ ./ 用例/ (/ UseCase/ )/ 从/ 使用/ 系统/ 的/ 角度/ 描述/ 系统/ 中/ 的/ 信息/ ,/ 即/ 站/ 在/ 系统/ 外部/ 察看/ 系统/ 功能/ ,/ 并/ 不/ 考虑/ 系统/ 内部/ 对/ 该/ 功能/ 的/ 具体/ 实现/ 方式/ ./ 情景/ 实例/ 法/ 的/ 典型/ 工作/ 包括/ CREWS/ 方法/ [/ 11/ ]/ ,/ 它/ 是/ 一种/ 面向用户/ 的/ 需求/ 工程技术/ ,/ 直接/ 从/ 用户/ 的/ 观点/ 描述/ 系统/ 外部/ 行为/ ./ 但是/ ,/ 用/ 例法/ 和/ 情景/ 实例/ 法/ 都/ 只/ 捕获/ 了/ 软件系统/ 与/ 问题/ 领域/ 的/ 交互/ ,/ 它们/ 只/ 关注/ 了/ 软件系统/ 和/ 问题/ 领域/ 的/ 接口/ ,/ 但/ 却/ 没有/ 涉及/ 关于/ 问题/ 领域/ 和/ 需求/ 的/ 信息/ 的/ 原始/ 收集/ ,/ 即/ 没有/ 涉及/ 软件/ 需求/ 从/ 哪里/ 来/ ,/ 客户/ 存在/ 什么/ 问题/ 需要/ 解决/ ,/ 为什么/ 客户/ 会/ 期望/ 或者/ 需要/ 软件/ 来/ 帮助/ 它们/ 解决/ 这些/ 问题/ ,/ 他们/ 需要/ 软件/ 帮/ 他们/ 做/ 什么/ 等等/ 问题/ ./ 现代/ 的/ 需求/ 工程/ 方法/ 提出/ 对/ 面向/ 包含/ 软件/ 及其/ 环境/ 的/ 软件/ 加强型/ 系统/ 的/ 需求/ 捕获/ ,/ 从中/ 识别/ 出/ 或/ 推导/ 出/ 人们/ 对/ 软件/ 的/ 真正/ 需求/ ./ 代表性/ 的/ 方法/ 包括/ 面向/ 目标/ 的/ 方法/ 和/ 面向/ 主体/ 和/ 意图/ 的/ 方法/ ./ 每种/ 方法/ 都/ 蕴含/ 自己/ 的/ 看待/ 软件系统/ 的/ 观点/ ./ 面向/ 目标/ 的/ 方法/ [/ 1/ ]/ 将/ “/ 目标/ ”/ 看作/ 是/ 软件/ 需求/ 的/ 来源/ 和/ 依据/ ,/ 以/ 目标/ 为/ 需求/ 捕获/ 的/ 基本/ 线索/ ,/ 诱导/ 需求/ 提供者/ 按/ 目标/ 的/ 分解/ 、/ 精化/ 和/ 抽象/ 关系/ ,/ 逐步/ 构建/ 系统/ 目标/ 与/ // 或树/ ./ 其/ 代表性/ 工作/ 为/ 基于/ 自动/ 规约/ 的/ 需求/ 获取/ 方法/ KAOS/ [/ 12/ ]/ ./ 这种/ 目标/ 驱动/ 的/ 需求/ 获取/ 从/ 追究/ 需求/ 相关者/ “/ 为什么/ ”/ 要/ 建立/ 系统/ 出发/ ,/ 将/ 原始/ 需求/ 表示/ 为/ 要/ 实现/ 的/ 一组/ 目标/ ,/ 逐步/ 导出/ 建立/ 该/ 系统/ 的/ 关注点/ 和/ 约束条件/ ./ 面向/ 主体/ 和/ 意图/ 的/ 方法/ [/ 2/ ]/ 提供/ 一种/ 基于/ 组织/ 层次结构/ 和/ 环境/ 上下文/ 的/ 需求/ 获取/ 和/ 建模/ 思路/ ,/ 其/ 建模/ 理念/ 为/ 刻画/ “/ 有/ 目的/ 的/ 参与者/ ”/ ./ 它/ 以/ “/ 参与者/ ”/ 为/ 主要/ 线索/ 去/ 识别/ 需求/ ,/ 认为/ 系统/ 的/ 参与者/ 是/ 有/ 目标/ 、/ 有/ 信念/ 、/ 有/ 能力/ 和/ 有/ 承诺/ 的/ 自治/ 或者/ 半/ 自治/ 主体/ ,/ 这些/ 参与者/ 之间/ 存在/ 各种各样/ 的/ 关系/ ,/ 包括/ 目标/ 依赖/ 关系/ 、/ 任务/ 依赖/ 关系/ 、/ 资源/ 依赖/ 关系/ 和/ 软/ 目标/ 依赖/ 关系/ 等/ ./ 其/ 代表性/ 工作/ i/ / 方法/ [/ 13/ ]/ 的/ 需求/ 获取/ 的/ 主要/ 活动/ 有/ 识别/ 参与者/ 、/ 识别/ 各/ 参与者/ 的/ 目标/ 和/ 任务/ 和/ 识别/ 各/ 参与者/ 之间/ 的/ 依赖/ 关系/ 等/ ./ 本文/ 提出/ 的/ 方法/ 也/ 是/ 一种/ 面向/ 软件/ 加强型/ 系统/ 的/ 需求/ 捕获/ 方法/ ./ 与/ 上述/ 方法/ 不同/ ,/ 它/ 认为/ ,/ 软件/ 需求/ 存在/ 于/ 环境/ 中/ ,/ 是/ 用户/ 期望/ 对/ 问题/ 领域/ 发生/ 的/ 改变/ ,/ 这种/ 改变/ 通过/ 建立/ 一个/ 软件系统/ ,/ 并/ 使/ 这个/ 系统/ 与/ 问题/ 领域/ 发生/ 交互/ 而/ 实现/ ./ 其/ 需求/ 捕获/ 以/ “/ 问题/ 领域/ ”/ 和/ 问题/ 领域/ 与/ 软件系统/ 的/ “/ 交互/ ”/ 为/ 主要/ 线索/ 进行/ ./ 这/ 是/ 它/ 与/ 其它/ 需求/ 捕获/ 方法/ 的/ 根本/ 区别/ ./ 与/ 面向/ 目标/ 的/ 方法/ 相比/ ,/ 它/ 具有/ 明显/ 的/ 客观性/ ./ 与/ 面向/ 主体/ 和/ 意图/ 的/ 方法/ 相比/ ,/ 环境/ 的/ 变化/ 效果/ 是/ 有/ 客观/ 依据/ Page12/ 的/ ,/ 而/ 参与者/ 之间/ 的/ 关系/ 是/ 主观/ 识别/ 的/ ,/ 因此/ 更/ 具有/ 客观性/ ./ 7/ 结束语/ 需求/ 捕获/ 是/ 需求/ 工程/ 过程/ 的/ 第一阶段/ ,/ 其/ 结果/ 为/ 后续/ 需求/ 分析/ 和/ 规格/ 说明/ 等/ 需求/ 工程/ 活动/ 奠定/ 了/ 基础/ ,/ 其/ 重要性/ 毋庸置疑/ ./ 本文/ 从/ 交互/ 情景/ 出发/ ,/ 提出/ 了/ 一个/ 结合/ 情景/ 和/ 问题/ 框架/ 方法/ 的/ 需求/ 捕获/ 方法/ ,/ 并/ 开发/ 了/ 支撑/ 工具/ ./ 该/ 方法/ 的/ 主要/ 特点/ 有/ :/ (/ 1/ )/ 通过/ 对/ 问题/ 领域/ 和/ 交互/ 的/ 分类/ ,/ 设计/ 出/ 相应/ 的/ 问卷/ 指导/ 用户/ 识别/ 问题/ 领域/ 和/ 交互/ ,/ 捕获/ 深层/ 需求/ 信息/ ;/ (/ 2/ )/ 通过/ 情景/ 约束/ ,/ 捕获/ 潜在/ 需求/ 信息/ ;/ (/ 3/ )/ 情景/ 作为/ 和/ 需求/ 提供者/ 进行/ 沟通/ 的/ 方式/ ,/ 更加/ 直观/ ,/ 易于/ 需求/ 提供者/ 理解/ 和/ 识别/ ;/ (/ 4/ )/ 以/ 问题/ 领域/ 的/ 变化/ 效果/ 定义/ 需求/ ,/ 便于/ 需求/ 提供者/ 判断/ 被/ 捕获/ 的/ 需求/ 是否/ 能够/ 满足/ 他们/ 的/ 真正/ 需求/ ./ 特别/ 地/ ,/ 问卷/ 法/ 的/ 使用/ 和/ 工具/ 的/ 支持/ 使得/ 本/ 方法/ 具备/ 良好/ 的/ 易用性/ ,/ 从/ 需求/ 提供者/ 熟悉/ 的/ 情景/ 出发/ ,/ 描述/ 问题/ 领域/ 以及/ 问题/ 领域/ 的/ 变化/ 效果/ ,/ 使得/ 它/ 具备/ 良好/ 的/ 实用性/ ./ 需要/ 指出/ 的/ 是/ ,/ 本/ 方法/ 强调/ 对/ 软件系统/ 的/ 环境/ 和/ 软件系统/ 与/ 环境/ 交互/ 的/ 识别/ ,/ 因此/ 可以/ 用于/ 帮助/ 确定/ 软件系统/ 的/ 边界/ ,/ 适用/ 于/ 人机交互/ 系统/ 、/ 嵌入式/ 系统/ 等/ 系统/ 的/ 需求/ 捕获/ ./ 本文/ 的/ 主要/ 工作/ 包括/ :/ (/ 1/ )/ 构建/ 了/ 需求/ 描述/ 元/ 模型/ ,/ 以/ 帮助/ 需求/ 工程师/ 系统地/ 进行/ 需求/ 捕获/ ./ (/ 2/ )/ 提出/ 了/ 一个/ 需求/ 捕获/ 过程/ ,/ 以/ 需求/ 描述/ 元/ 模型/ 为/ 线索/ ,/ 通过/ 一系列/ 问卷/ ,/ 诱导/ 需求/ 提供者/ 逐步/ 提供/ 需求/ 描述/ 相关/ 信息/ ./ (/ 3/ )/ 提供/ 了/ 对/ 情景/ 的/ 完整性/ 和/ 一致性/ 分析/ ,/ 以/ 帮助/ 需求/ 提供者/ 根据/ 情景/ 完整性/ 约束/ 和/ 一致性/ 约束/ ,/ 发现/ 潜在/ 的/ 需求/ 和/ 检测/ 情景/ 一致性/ ,/ 并/ 提供/ 策略/ 解决/ 不/ 满足/ 的/ 情况/ ./ (/ 4/ )/ 构建/ 了/ 相应/ 的/ 需求/ 捕获/ 支撑/ 工具/ ,/ 提供/ 各种/ 需求/ 元素/ 的/ 识别/ 编辑/ 、/ 检测/ 和/ 验证/ 手段/ ,/ 为/ 需求/ 捕获/ 提供/ 系统/ 的/ 支持/ ./ 目前/ ,/ 本/ 方法/ 提出/ 的/ 框架/ 中/ 还/ 缺少/ 非/ 功能性/ 需求/ 的/ 捕获/ 方法/ ,/ 从/ 交互/ 或/ 交互/ 情景/ 出发/ 捕获/ 非/ 功能性/ 需求/ 是/ 未来/ 工作/ 的/ 方向/ ./ 

