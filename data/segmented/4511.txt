Page1/ 一种/ 基于/ 时间/ 衰减模型/ 的/ 数据流/ 闭合/ 模式/ 挖掘/ 方法/ 王/ 志海/ 1/ )/ 1/ )/ (/ 北京/ 交通/ 大学/ 计算机/ 与/ 信息/ 工程学院/ 北京/ 100044/ )/ 2/ )/ (/ 北方/ 民族/ 大学/ 计算机科学/ 与/ 工程学院/ 银川/ 750021/ )/ 摘要/ 数据流/ 是/ 随着/ 时间/ 顺序/ 快速/ 变化/ 的/ 和/ 连续/ 的/ ,/ 对/ 其/ 进行/ 频繁/ 模式/ 挖掘/ 时会/ 出现/ 概念/ 漂移/ 现象/ ./ 在/ 一些/ 数据流/ 应用/ 中/ ,/ 通常/ 认为/ 最新/ 的/ 数据/ 具有/ 最大/ 的/ 价值/ ./ 数据流/ 挖掘/ 会/ 产生/ 大量/ 无用/ 的/ 模式/ ,/ 为了/ 减少/ 无用/ 模式/ 且/ 保证/ 无损压缩/ ,/ 需要/ 挖掘/ 闭合/ 模式/ ./ 因此/ ,/ 提出/ 了/ 一种/ 基于/ 时间/ 衰减模型/ 和/ 闭合/ 算子/ 的/ 数据流/ 闭合/ 模式/ 挖掘/ 方式/ TDMCS/ (/ Time/ -/ Decay/ -/ Model/ -/ basedClosedfrequentpatternminingondataStream/ )/ ./ 该/ 算法/ 采用/ 时间/ 衰减模型/ 来/ 区分/ 滑动/ 窗口/ 内/ 的/ 历史/ 和/ 新近/ 事务/ 权重/ ,/ 使用/ 闭合/ 算子/ 提高/ 闭合/ 模式/ 挖掘/ 的/ 效率/ ,/ 设计/ 使用/ 最小/ 支持/ 度/ -/ 最大/ 误差率/ -/ 衰减/ 因子/ 的/ 三层/ 架构/ 避免/ 概念/ 漂移/ ,/ 设计/ 一种/ 均值/ 衰减/ 因子/ 平衡/ 算法/ 的/ 高/ 查全率/ 和/ 高/ 查准率/ ./ 实验/ 分析表明/ 该/ 算法/ 适用/ 于/ 挖掘/ 高密度/ 、/ 长/ 模式/ 的/ 数据流/ ;/ 且/ 具有/ 较/ 高/ 的/ 效率/ ,/ 在/ 不同/ 大小/ 的/ 滑动/ 窗口/ 条件/ 下/ 性能/ 表现/ 是/ 稳态/ 的/ ,/ 同时/ 也/ 优于/ 其他/ 同类/ 算法/ ./ 关键词/ 事务/ 数据流/ ;/ 数据流/ 挖掘/ ;/ 频繁/ 模式/ 挖掘/ ;/ 闭合/ 模式/ 挖掘/ ;/ 时间/ 衰减模型/ ;/ 概念/ 漂移/ 1/ 引言/ 数据流/ (/ DataStreams/ )/ 作为/ 一种/ 新型/ 数据模型/ 广泛/ 出现/ 在/ 多种/ 应用领域/ ./ 与/ 传统/ 的/ 数据/ 集/ 不同/ ,/ 数据流/ 是/ 按/ 时间/ 顺序/ 的/ 、/ 快速/ 变化/ 的/ 、/ 海量/ 的/ 和/ 潜在/ 无限/ 的/ ./ 频繁/ 模式/ 的/ 挖掘/ 是/ 数据挖掘/ 的/ 热点问题/ ,/ 在/ 传统/ 数据库/ 中/ 挖掘/ 频繁/ 模式/ 这个/ 问题/ 已经/ 被/ 广泛/ 地/ 研究/ 和/ 应用/ ./ 然而/ ,/ 在/ 流/ 数据/ 的/ 环境/ 下/ 挖掘/ 频繁/ 模式/ 给/ 研究者/ 带来/ 更大/ 的/ 机遇/ 和/ 挑战/ ./ 近年来/ ,/ 针对/ 数据流/ 的/ 频繁/ 模式/ 挖掘/ 算法/ 被/ 陆续/ 提出/ ./ 算法/ StickySampling/ 和/ FDPM/ [/ 2/ ]/ 挖掘/ 数据流/ 中/ 满足/ 误差/ 界/ 和/ 最小/ 支持/ 度/ 的/ 频繁/ 模式/ ,/ 这是/ 一种/ 近似/ 结果/ ./ 这类/ 算法/ 没有/ 区分/ 新旧/ 数据/ ,/ 没有/ 考虑/ 最新/ 数据/ 的/ 重要性/ ./ MSW/ [/ 3/ ]/ 和/ SWP/ -/ Tree/ [/ 4/ ]/ 等/ 算法/ 采用/ 了/ 时间/ 衰减模型/ 设置/ 新旧/ 事务/ 的/ 权重/ ,/ 强调/ 新/ 事务/ 的/ 重要性/ ,/ 可以/ 得到/ 更加/ 合理/ 的/ 结果/ 集/ ./ 但是/ 这些/ 算法/ 用于/ 挖掘/ 完整/ 的/ 模式/ 结果/ 集/ ,/ 会/ 产生/ 大量/ 的/ 无用/ 的/ 模式/ ./ 为了/ 减少/ 模式/ 的/ 数量/ ,/ 需要/ 挖掘/ 精简/ 模式/ ,/ 包括/ 最大/ 模式/ 、/ 闭合/ 模式/ 和/ top/ -/ k/ 模式/ 等/ ./ 为了/ 进行/ 无损压缩/ ,/ 通常/ 的/ 方式/ 是/ 挖掘/ 闭合/ 模式/ ./ 如/ 算法/ Moment/ [/ 5/ ]/ 、/ CloStream/ [/ 6/ ]/ 、/ Stream/ _/ FCI/ [/ 7/ ]/ 、/ TMoment/ [/ 8/ ]/ 、/ IncMine/ [/ 9/ ]/ 和/ CloStream/ / [/ 10/ ]/ 等/ 采用/ 滑动/ 窗口/ 挖掘/ 数据流/ 的/ 闭合/ 频繁/ 模式/ ./ 这类/ 算法/ 的/ 不足/ 在于/ :/ (/ 1/ )/ 采用/ 最小/ 支持/ 度/ 阈值/ 进行/ 频繁/ 模式/ 挖掘/ ,/ 未/ 处理/ 概念/ 漂移/ 问题/ ;/ (/ 2/ )/ 虽然/ 采用/ 了/ 滑动/ 窗口/ ,/ 但是/ 窗口/ 内/ 的/ 数据/ 赋予/ 相同/ 的/ 重要性/ ./ 为了/ 解决/ 概念/ 漂移/ ,/ 强调/ 新旧/ 事务/ 不同/ 的/ 重要性/ ,/ 更加/ 高效/ 的/ 发现/ 压缩/ 频繁/ 模式/ ,/ 本文/ 设计/ 一种/ 基于/ 时间/ 衰减模型/ 的/ 数据流/ 闭合/ 模式/ 挖掘/ 方法/ ./ 主要/ 的/ 工作/ 与/ 创新/ 点/ 在于/ :/ (/ 1/ )/ 已有/ 设置/ 衰减/ 因子/ f/ 的/ 方法/ 包括/ :/ 仅/ 考虑/ 100/ %/ 查全率/ (/ Recall/ )/ 或/ 100/ %/ 查准率/ (/ Precision/ )/ [/ 2/ -/ 4/ ]/ 时/ 得到/ 的/ 上下/ 边界值/ 或/ 在/ f/ 的/ 取值/ 范围/ (/ 0/ ,/ 1/ )/ 内/ 设置/ 随机/ 值/ [/ 11/ -/ 16/ ]/ ./ 前者/ 会/ 使得/ 对应/ 算法/ 的/ 查准率/ 或/ 查全率/ 较/ 低/ ,/ 而/ 随机/ 值则/ 使得/ 算法/ 的/ 性能/ 不/ 稳定/ ./ 本文/ 设计/ 一种/ 平均/ 衰减/ 因子/ 取值/ 方式/ ,/ 目的/ 是/ 使/ 设计/ 的/ 算法/ 可以/ 在/ 高/ 查全率/ 和/ 高/ 查准率/ 之间/ 得到/ 平衡/ ,/ 且/ 得到/ 的/ 算法/ 性能/ 是/ 稳定/ 的/ ;/ (/ 2/ )/ 算法/ 中/ 采用/ 最小/ 支持/ 度/ -/ 最大/ 误差率/ -/ 衰减/ 因子/ 的/ 框架/ ,/ 可以/ 解决/ 概念/ 漂移/ ,/ 避免/ 丢失/ 可能/ 的/ 频繁/ 模式/ ;/ (/ 3/ )/ 使用/ 闭合/ 算子/ [/ 6/ ,/ 10/ ]/ 提高/ 算法/ 执行/ 的/ 效率/ ;/ (/ 4/ )/ 设计/ 了/ 基于/ 时间/ 衰减模型/ 的/ 闭合/ 频繁/ 模式/ 挖掘/ 方法/ ,/ 可以/ 得到/ 压缩/ 的/ 无损/ 的/ 模式/ 集合/ ./ 使用/ 时间/ 衰减模型/ [/ 3/ -/ 4/ ,/ 11/ -/ 12/ ,/ 17/ -/ 26/ ]/ 增加/ 了/ 最新/ 事物/ 的/ 权重/ ,/ 同时/ 降低/ 了/ 历史/ 事务/ 的/ 重要性/ ./ 通过/ 对/ 数据流/ 处理/ 得到/ 的/ 查准率/ 进行/ 比较/ 得出/ ,/ 与/ 已有/ 方式/ 相比/ 能/ 得到/ 更/ 准确/ 的/ 结果/ 集/ ./ 本文/ 第/ 2/ 节/ 介绍/ 数据流/ 闭合/ 模式/ 挖掘/ 的/ 预备/ 知识/ ,/ 包括/ 闭合/ 算子/ 和/ 时间/ 衰减模型/ 的/ 介绍/ ;/ 第/ 3/ 节/ 详细/ 介绍/ 基于/ 时间/ 衰减模型/ 的/ 闭合/ 模式/ 挖掘/ 算法/ ;/ 第/ 4/ 节/ 通过/ 实验/ 验证/ 衰减/ 因子/ 选择/ 的/ 合理性/ ,/ 并且/ 给出/ 本文/ 提出/ 算法/ 的/ 实验/ 性能/ 分析/ ;/ 第/ 5/ 节/ 进行/ 总结/ ./ 2/ 预备/ 知识/ 本/ 节/ 主要/ 介绍/ 数据流/ 闭合/ 模式/ 挖掘/ 的/ 相关/ 知识/ ,/ 包括/ 闭合/ 算子/ 和/ 闭合/ 频繁/ 模式/ 的/ 定义/ ,/ 时间/ 衰减模型/ 介绍/ ,/ 并/ 提出/ 概念/ 漂移/ 问题/ 的/ 解决/ 方式/ ./ 数据流/ DS/ =/ 〈/ T1/ ,/ T2/ ,/ …/ ,/ Tn/ ,/ …/ 〉/ 是/ 一个/ 有/ 时间/ 顺序/ 的/ 、/ 连续/ 的/ 、/ 无限/ 的/ 事务/ (/ Transaction/ )/ 序列/ ,/ 其中/ Tn/ (/ n/ =/ 1/ ,/ 2/ ,/ …/ )/ 是/ 第/ n/ 个/ 产生/ 的/ 事务/ ,/ 如表/ 1/ 所示/ ./ 由于/ 数据流/ 是/ 无限/ 的/ 和/ 不断/ 流动/ 的/ ,/ 模式/ P/ 的/ 支持/ 数/ 定义/ 为/ 已/ 出现/ 的/ N/ 个/ 事务/ 中/ 包含/ 模式/ P/ 的/ 事务/ 数据/ 个数/ ,/ 记为/ freq/ (/ P/ ,/ N/ )/ [/ 3/ ]/ ./ 频繁/ 模式/ 、/ 临界/ 频繁/ 模式/ 和/ 非/ 频繁/ 模式/ 的/ 定义/ 如/ 定义/ 1/ 、/ 定义/ 2/ 所示/ ./ 定义/ 1/ ./ 频繁/ 模式/ [/ 3/ ]/ ./ 令/ N/ 为/ 数据流/ 中/ 已有/ 的/ 事务/ 项/ 的/ 个数/ ,/ θ/ (/ θ/ ∈/ (/ 0/ ,/ 1/ ]/ )/ 为/ 最小/ 支持/ 度/ 阈值/ ./ 如果/ 项集/ P/ 满足/ freq/ (/ P/ ,/ N/ )/ / θ/ ×/ N/ ,/ 则/ P/ 为/ 频繁/ 模式/ ./ 定义/ 2/ ./ 临界/ 频繁/ 模式/ ,/ 非/ 频繁/ 模式/ [/ 3/ ]/ ./ 令/ N/ 为/ 数据流/ 中/ 已有/ 的/ 事务/ 项/ 的/ 个数/ ,/ θ/ (/ θ/ ∈/ (/ 0/ ,/ 1/ ]/ )/ 为/ 最小/ 支持/ 度/ 阈值/ ,/ ε/ 为/ 最大/ 允许/ 误差/ 阈值/ (/ ε/ ∈/ (/ 0/ ,/ θ/ )/ )/ ./ 如果/ 项集/ P/ 满足/ θ/ ×/ N/ / freq/ (/ P/ ,/ N/ )/ / ε/ ×/ N/ ,/ 则/ P/ 为/ 临界/ 频繁/ 模式/ ./ 如果/ freq/ (/ P/ ,/ N/ )/ </ ε/ ×/ N/ ,/ 则/ P/ 为/ 非/ 频繁/ 模式/ ./ 概念/ 漂移/ 是/ 指/ 由于/ 数据流/ 实时/ 变化/ ,/ 之前/ 的/ 非/ 频繁/ 模式/ 随着/ 时间/ 的/ 推移/ 可能/ 变为/ 频繁/ 模式/ ./ 为了/ 减少/ 丢失/ 可能/ 的/ 模式/ 个数/ ./ 挖掘/ 过程/ 中/ 不仅/ 要/ 维持/ 频繁/ 模式/ ,/ 还/ 需要/ 维持/ 临界/ 频繁/ 模式/ ./ 此外/ ,/ 为了/ 减少/ 维护/ 模式/ 的/ 代价/ ,/ 需要/ 丢失/ 非/ 频繁/ 模式/ ./ 丢失/ 这些/ 模式/ 的/ 可能/ 误差/ 不/ 大于/ ε/ Page3/ θ/ -/ ε/ 框架/ 可以/ 解决/ 概念/ 漂移/ 问题/ ./ 频繁/ 模式/ 挖掘/ 的/ 过程/ 中/ 存在/ 的/ 最大/ 问题/ 在于/ 出现/ 大量/ 的/ 无用/ 的/ 模式/ ,/ 为了/ 减少/ 模式/ 的/ 数量/ ,/ 通常/ 挖掘/ 压缩/ 模式/ ./ 闭合/ 模式/ 是/ 一种/ 常用/ 的/ 模式/ 无损压缩/ 方式/ ,/ 它/ 包含/ 完整/ 结果/ 集/ 的/ 所有/ 信息/ ./ 为了/ 提高/ 发现/ 闭合/ 模式/ 的/ 速度/ ,/ 本文/ 采用/ 了/ 闭合/ 算子/ [/ 6/ ,/ 10/ ]/ ./ 采用/ 闭合/ 算子/ 发现/ 闭合/ 模式/ 的/ 效率/ 优于/ CFI/ -/ Stream/ [/ 27/ ]/ 、/ NewMoment/ [/ 28/ ]/ 和/ Moment/ [/ 5/ ]/ 等/ 经典/ 数据流/ 闭合/ 模式/ 挖掘/ 方式/ [/ 10/ ]/ ./ 闭合/ 算子/ 以及/ 采用/ 闭合/ 算子/ 的/ 闭合/ 模式/ 概念/ 为/ 定义/ 3/ ~/ 5/ 所示/ ./ 定义/ 3/ ./ 闭合/ 算子/ [/ 6/ ,/ 10/ ]/ ./ 设/ T/ 是/ 事务/ 集合/ D/ 的/ 子集/ ,/ T/ / D/ ./ Y/ 是/ D/ 中/ 出现/ 的/ 所有/ 项/ 集合/ I/ 的/ 子集/ ,/ Y/ / I/ ./ 定义/ 函数/ h/ 和/ g/ :/ 其中/ 函数/ h/ 的/ 输入/ 参数/ 是/ 事务/ 集合/ T/ ,/ 输出/ 是/ T/ 中/ 所有/ 事务/ 都/ 包含/ 的/ 一个/ 项集/ ./ 函数/ g/ 的/ 输入/ 是/ 项集/ Y/ ,/ 输出/ 是/ 包含/ Y/ 的/ 事务/ 集/ ./ 函数/ C/ =/ h/ / g/ =/ h/ (/ g/ )/ 称为/ 闭合/ 算子/ ./ 定义/ 4/ ./ 闭合/ 项集/ [/ 10/ ]/ ./ 如果/ 项集/ P/ 满足/ 式/ (/ 3/ )/ ,/ 则/ P/ 是/ 闭合/ 项集/ ;/ 否则/ 为/ 非/ 闭合/ 模式/ ./ 其中/ C/ (/ P/ )/ 称为/ P/ 的/ 闭合/ ./ 定义/ 5/ ./ 闭合/ 频繁/ 模式/ ./ 如果/ 项集/ P/ 满足/ P/ =/ C/ (/ P/ )/ 且/ 其/ 支持/ 度/ 不/ 小于/ 最小/ 支持/ 度/ ,/ 则/ P/ 为/ 闭合/ 频繁/ 模式/ ./ 如果/ P/ 满足/ P/ =/ C/ (/ P/ )/ 且/ 其/ 支持/ 度/ 不/ 小于/ 最大/ 误差/ 支持/ 度/ ,/ 则/ P/ 为/ 临界/ 闭合/ 频繁/ 模式/ ;/ 否则/ P/ 为/ 非/ 闭合/ 频繁/ 模式/ ./ 由于/ 数据流/ 的/ 连续/ 无限性/ ,/ 其中/ 包含/ 的/ 知识/ 会/ 随着/ 时间/ 的/ 推移/ 而/ 发生/ 改变/ ./ 通常/ 情况/ 下/ ,/ 最近/ 产生/ 的/ 事务/ 的/ 价值/ 比/ 历史/ 事务/ 要/ 高/ 的/ 多/ ./ 因此/ ,/ 需要/ 增加/ 最近/ 事务/ 的/ 权重/ ./ 时间/ 衰减模型/ TDM/ (/ TimeDecayModel/ )/ 是/ 一种/ 随着/ 时间/ 的/ 推移/ 而/ 逐步/ 衰减/ 历史/ 事务/ 模式/ 支持/ 数/ 权重/ 的/ 方法/ [/ 3/ -/ 4/ ]/ ./ 设/ 模式/ 支持/ 数在/ 单位/ 时间/ 内/ 的/ 衰减/ 比例/ 为/ 衰减/ 因子/ f/ (/ f/ ∈/ (/ 0/ ,/ 1/ )/ )/ ,/ 记/ 事务/ Tn/ 到达/ 时/ 模式/ P/ 的/ 衰减/ 支持/ 数为/ freqd/ (/ P/ ,/ Tn/ )/ ./ 则/ 第/ m/ 个/ 事务/ Tm/ 到达/ 时/ ,/ 模式/ P/ 的/ 衰减/ 支持/ 数/ 满足/ 式/ (/ 4/ )/ 和/ (/ 5/ )/ ./ 即/ 随着/ 新/ 事务/ 的/ 到达/ ,/ 每次/ 模式/ 的/ 支持/ 数都/ 进行/ 衰减/ ./ 其中/ 如果/ 新/ 事务/ Tm/ 中/ 包含/ 模式/ P/ ,/ 则/ r/ 的/ 值/ 为/ 1/ ;/ 否则/ 为/ 0/ ./ freqd/ (/ P/ ,/ Tm/ )/ =/ 3TDMCS/ 算法/ 描述/ 本/ 节/ 首先/ 介绍/ 配合/ 闭合/ 算子/ 使用/ 的/ 数据结构/ ,/ 其次/ 介绍/ 了/ 衰减/ 因子/ 的/ 确定/ 方法/ ,/ 最后/ 详细/ 讨论/ 基于/ θ/ -/ ε/ -/ f/ 三层/ 框架/ 的/ 闭合/ 频繁/ 模式/ 挖掘/ 算法/ TDMCS/ (/ TDM/ -/ basedClosedfrequentpatternminingondataStream/ )/ ./ TDMCS/ 算法/ 采用/ 滑动/ 窗口/ 模型/ 与/ 时间/ 衰减模型/ 在/ 数据流/ 中/ 挖掘/ 闭合/ 频繁/ 模式/ ,/ 主要/ 包括/ 处理/ 新/ 事物/ 和/ 旧/ 事物/ 的/ 两个/ 方法/ :/ TDMCSADD/ (/ Tnew/ )/ 和/ TDMCSREMOVE/ (/ Told/ )/ ./ TDMCS/ 使用/ 了/ 与/ 算法/ CloStream/ [/ 6/ ,/ 10/ ]/ 相似/ 的/ 3/ 个/ 数据结构/ ,/ 包括/ Closed/ -/ Table/ [/ 6/ ]/ 、/ CidList/ [/ 6/ ]/ 和/ NewTransactionTable/ ./ 其中/ ClosedTable/ 用于/ 存储/ 闭合/ 模式/ 相关/ 的/ 信息/ ,/ 包括/ 3/ 个/ 字/ 段/ :/ Cid/ 、/ CP/ 和/ SCP/ ./ Cid/ 用于/ 唯一/ 的/ 标识/ 每/ 一个/ 闭合/ 模式/ CP/ ,/ SCP/ 是/ 闭合/ 模式/ CP/ 对应/ 的/ 支持/ 数/ ./ CidList/ 用于/ 维护/ 数据流/ 中/ 出现/ 的/ 每个/ 项/ item/ 和/ 其/ 对应/ 的/ cid/ 集合/ ./ NewTransactionTable/ 包含/ 与/ 新/ 事务/ Tnew/ 相关/ 的/ 信息/ ,/ 包括/ 两个/ 字/ 段/ :/ Temp/ -/ Item/ 和/ Cid/ ./ 其中/ TempItem/ 存储/ 满足条件/ {/ Ti/ ∩/ NewTransaction/ ,/ Ti/ ∈/ ClosdeTable/ }/ 的/ 项集/ 信息/ ./ 假设/ 衰减/ 因子/ f/ =/ 0.8/ ,/ 最小/ 支持/ 度/ 阈值/ θ/ =/ 0.1/ ,/ 以表/ 1/ 中/ 事务/ 数据/ 为例/ 介绍/ TDMCS/ 算法/ 处理/ 新/ 事务/ 的/ 工作/ 过程/ ./ 当新/ 事务/ T4/ =/ {/ 2/ ,/ 3/ ,/ 4/ ,/ 5/ }/ 到达/ 时/ ,/ ClosedTable/ 、/ CidList/ 和/ NewTransactionTable/ 中/ 的/ 信息/ 如表/ 2/ ~/ 表/ 4/ 所示/ ./ 处理事务/ T1/ ,/ T2/ 和/ T3/ 后/ ,/ ClosedTable/ 中有/ 4/ 个/ 闭合/ 模式/ ,/ 如表/ 2/ 左侧/ 所示/ ./ 当/ 处理事务/ T4/ 后/ ,/ ClosedTable/ 中/ 包含/ 6/ 个/ 闭合/ 模式/ 如表/ 2/ 右侧/ 所示/ ./ 新/ 的/ 频繁/ 项集/ 如果/ 满足/ 最小/ 支持/ 度/ 阈值/ 和/ 最大/ 允许/ 误差/ 阈值/ ,/ 则/ 需要/ 的/ 工作/ 包括/ :/ (/ 1/ )/ 添加/ 频繁/ 项为/ 新/ 的/ 模式/ ,/ 加入/ ClosedTable/ ./ 同步/ 更新/ CidList/ ./ (/ 2/ )/ 更新/ 已有/ 模式/ ./ ①/ 如果/ 依然/ 是/ 闭合/ 模式/ ,/ 则/ 更新/ 其/ 支持/ 数/ ./ ②/ 新/ 事务/ 的/ 到来/ 使/ 之/ 成为/ 非/ 闭合/ 模式/ ,/ 则/ 删除/ ./ 同步/ 更新/ CidList/ ./ 具体/ 的/ 过程/ 是/ ,/ 事务/ T4/ 到达/ 时/ ,/ 将/ T4/ 存入/ NewTransactionTable/ ,/ 然后/ 比较/ CidList/ 和/ T4/ 中/ 的/ 每个/ 项/ item/ ,/ 更新/ NewTransactionTable/ 如表/ 4/ 所示/ ./ 然后/ 参照/ NewTransactionTable/ ,/ 在/ Closed/ -/ Table/ 中/ 添加/ 新/ 的/ 模式/ 或者/ 更新/ 已有/ 的/ 模式/ ./ 同时/ 更新/ CidList/ ./ 如此/ 反复/ ,/ 随着/ 数据/ 的/ 到达/ 不断/ 的/ 更新/ ./ Page4Cid01234/ 上述/ 示例/ 中/ 设置/ 最小/ 支持/ 度/ 阈值/ θ/ =/ 0.1/ ,/ 挖掘/ 过程/ 中/ 发现/ 的/ 所有/ 模式/ 都/ 被/ 保留/ 了/ 下来/ ./ 这样/ 可能/ 会/ 产生/ 大量/ 无用/ 的/ 模式/ ./ 如果/ 设置/ 最小/ 支持/ 度/ 阈值/ θ/ =/ 0.3/ ,/ 当/ 事务/ T4/ 到达/ 时/ 需要/ 满足/ 的/ 最小/ 支持/ 数为/ 4/ ×/ 0.3/ =/ 1.2/ ./ 产生/ 的/ ClosedTable/ 如表/ 5/ 所示/ ./ 通过/ 对比/ 表/ 2/ 和表/ 5/ 可以/ 发现/ 满足/ 最小/ 支持/ 数/ 的/ 频繁/ 模式/ {/ 34/ }/ 丢失/ ./ Cid012/ 从/ 示例/ 中/ 可以/ 分析/ 出/ ,/ 使用/ 了/ 衰减/ 因子/ 后/ 模式/ 的/ 衰减/ 支持/ 数远/ 小于/ 非/ 衰减/ 时/ 的/ 支持/ 数/ ./ 如当/ f/ =/ 0.8/ 时/ ,/ 采用/ 式/ (/ 6/ )/ 可以/ 得到/ 模式/ 的/ 支持/ 数/ 小于/ :/ 1/ // (/ 1/ -/ f/ )/ =/ 1/ // (/ 1/ -/ 0.8/ )/ =/ 5/ ./ 因此/ ,/ 按照/ 常规/ 的/ 最小/ 支持/ 数/ 进行/ 挖掘/ 会/ 丢失/ 可能/ 的/ 频繁/ 模式/ ./ 为了/ 解决/ 这个/ 问题/ ,/ 使得/ 采用/ 时间/ 衰减模型/ 后/ 正确率/ 等于/ 常规/ 模式/ 挖掘/ ,/ 需要/ 设置/ 最大/ 允许/ 误差/ 阈值/ ε/ ./ 即/ 挖掘/ 过程/ 中/ 保存/ 频繁/ 模式/ 和/ 临界/ 频繁/ 模式/ ,/ 而/ 不仅仅/ 保存/ 频繁/ 模式/ ./ freqd/ (/ P/ ,/ Tm/ )/ =/ freqd/ (/ P/ ,/ Tm/ -/ 1/ )/ ×/ f/ +/ r/ 给定/ 最小/ 支持/ 阈值/ 和/ 最大/ 允许/ 误差/ 阈值/ 之后/ ,/ 如何/ 确定/ 衰减/ 因子/ f/ 的/ 值/ ?/ 已有/ 的/ 方式/ 采用/ 假定/ 100/ %/ 的/ 查全率/ 和/ 100/ %/ 的/ 查准率/ 来/ 估计/ [/ 3/ -/ 4/ ]/ ./ 即/ 设定/ Recall/ 为/ 100/ %/ 时/ ,/ f/ 应/ 满足/ 式/ (/ 7/ )/ ,/ 称为/ 下界/ 值/ ./ 设定/ Precision/ =/ 100/ %/ 时/ ,/ f/ 满足/ 式/ (/ 8/ )/ ,/ 称为/ 上界值/ ./ 现有/ 的/ f/ 估计/ 方式/ 是/ 采用/ 满足/ 式/ (/ 7/ )/ 和/ (/ 8/ )/ 的/ 上下/ 边界值/ 之一/ ./ 这种/ 方式/ 的/ 最大/ 不足/ 是/ 仅/ 考虑/ 了/ 查全率/ 或/ 查准率/ ,/ 而/ 忽略/ 了/ 对应/ 的/ 查准率/ 或/ 查全率/ ./ 由于/ Recall/ 和/ Precision/ 不/ 可能/ 同时/ 为/ 100/ %/ ,/ 所以/ 选择/ f/ 是/ 应/ 考虑/ 对/ 二者/ 的/ 平衡/ ./ 为此/ 本文/ 提出/ 了/ 均值/ 衰减/ 因子/ 设置/ 方式/ ,/ 即/ 设置/ f/ 为/ 上下/ 边界/ 的/ 平均值/ ,/ 标记/ 为/ faverage/ ./ (/ 2N/ -/ θ/ N/ -/ 1/ )/ f/ / (/ θ/ -/ ε/ )/ N/ -/ 1f/ </ 例如/ ,/ 假设/ N/ =/ 10K/ ,/ 设定/ θ/ ,/ ε/ 如表/ 6/ 所示/ ./ 其中/ frecall/ 为/ 假定/ Recall/ =/ 100/ %/ 时/ 得到/ 的/ 下界/ 值/ ./ fprecision/ 为/ 假定/ Precision/ =/ 100/ %/ 时/ 得到/ 的/ 上界值/ ./ 在/ 得到/ frecall/ 和/ fprecision/ 后/ ,/ 如何/ 选择/ f/ 的/ 值/ ?/ 可以/ 有/ 3/ 个/ 策略/ ,/ 如式/ (/ 9/ )/ 所示/ ./ 以/ θ/ =/ 0.025/ ,/ ε/ =/ 0.05/ ×/ θ/ 为例/ ,/ 可以/ 选定/ f/ =/ f1/ =/ frecall/ =/ 0.999995/ ,/ f/ =/ f2/ =/ fprecision/ =/ 0.995789/ 或/ f/ =/ f3/ =/ faverage/ =/ (/ 0.999995/ +/ 0.995789/ )/ // 2/ θ/ 0.050/ ./ 05/ ×/ θ/ 0.9999950/ ./ 050.1/ ×/ θ/ 0.9999890/ ./ 050.5/ ×/ θ/ 0.9999290/ ./ 0250.05/ ×/ θ/ 0.9999950/ ./ 0250.1/ ×/ θ/ 0.9999890/ ./ 0250.5/ ×/ θ/ 0.99993/ 通过/ 实验/ 验证/ (/ 第/ 4/ 节中/ )/ 选择/ 设置/ f/ 为/ faverage/ 不仅/ 可以/ 得到/ 更加/ 合理/ 的/ 模式/ 结果/ 集/ 的/ 个数/ ,/ 且/ 得到/ 结果/ 集/ 的/ 查全率/ 与/ 查准率/ 更/ 平衡/ ./ 因此/ 本/ 算法/ 中/ 设计/ 衰减/ 因子/ f/ 的/ 值/ 为/ frecall/ 和/ fprecision/ 的/ 平均值/ faverage/ 是/ 合理/ 的/ ./ 从/ 滑动/ 窗口/ 中移/ 除旧/ 事务/ 的/ 核心/ 问题/ 在于/ 如何/ 对/ 已有/ 的/ 数据结构/ 进行/ 剪枝/ 处理/ ,/ 已有/ 的/ 方式/ 常/ 采用/ 滑动/ 一步/ 剪枝/ 一步/ ,/ 这样/ 消耗/ 较大/ ./ 为了/ 增加/ 算法/ Page5/ 处理/ 的/ 效率/ ,/ 采用/ 移动/ 步长/ STEPM/ 进行/ 处理/ ./ 即/ 处理/ 旧/ 事务时/ 先/ 设置/ 删除/ 标记/ removeTAG/ ,/ 当/ 窗口/ 滑动/ M/ 条/ 事务/ 后/ 再/ 进行/ 实际/ 的/ 剪枝/ 操作/ ./ 为了/ 区分/ 历史/ 事务/ 与/ 新/ 事务/ 的/ 权重/ ,/ 从而/ 提高/ 模式/ 发现/ 的/ 准确性/ ,/ 并且/ 为了/ 避免/ 丢失/ 可能/ 的/ 频繁/ 模式/ ,/ 本文/ 提出/ 了/ 基于/ θ/ -/ ε/ -/ f/ 框架/ 的/ 闭合/ 模式/ 挖掘/ 算法/ TDMCS/ ./ 该/ 算法/ 采用/ ClosedTable/ ,/ CidList/ 和/ NewTransactionTable/ // OldTransactionTable/ 存储/ 数据/ 信息/ ,/ 使用/ 时间/ 衰减模型/ 估计/ 模式/ 的/ 支持/ 数/ ,/ 挖掘出/ 满足/ θ/ -/ ε/ 的/ 闭合/ 频繁/ 和/ 临界/ 闭合/ 频繁/ 模式/ ./ 算法/ 的/ 描述/ 如/ 算法/ 1/ 所示/ ./ 算法/ 1/ ./ TDMCS/ (/ )/ ./ 输入/ :/ 数据流/ S/ ,/ 滑动/ 窗口/ 大小/ N/ ,/ 剪枝/ 步长/ STEPM/ ,/ 输出/ :/ 频繁/ 闭合/ 模式/ AlgorithmTDMCS/ (/ S/ ,/ N/ ,/ STEPM/ ,/ f/ ,/ θ/ ,/ ε/ )/ FORTnewINSDOCALLTDMCSADD/ (/ Tnew/ )/ IFSLIDINGTHENCALLTDMCSREMOVE/ (/ Told/ )/ ENDFORIFNEEDEDTHENOUTPUTPATTERNSENDIFENDTDMCS/ 过程/ 1/ ./ 处理/ 新/ 事务/ TDMCSADD/ (/ )/ 输入/ :/ 新/ 事务/ Tnew/ ,/ 闭合/ 项集表/ ClosedTable/ ,/ 滑动/ 窗口/ 输出/ :/ 闭合/ 项集表/ ClosedTableAlgorithmTDMCSADD/ (/ Tnew/ )/ 1/ ./ ADDTnewTONewTransactionTablesetcid/ (/ Tnew/ )/ =/ {/ ∪/ CidSet/ (/ itemi/ )/ ,/ itemi/ ∈/ Tnew/ }/ 2/ ./ FORcidINsetcid/ (/ Tnew/ )/ DOENDFOR3/ ./ FOR/ 〈/ TempItem/ ,/ cid/ 〉/ INNewTransactionTableDO4/ ./ IFitem/ ∈/ TnewANDitemISNOTINCidListENDTDMCSADD/ 过程/ 2/ ./ 处理/ 历史/ 事务/ TDMCSREMOVE/ (/ )/ ./ 输入/ :/ 历史/ 事务/ Told/ ,/ 闭合/ 项集表/ ClosedTable/ ,/ 滑动/ 窗/ 输出/ :/ 闭合/ 项集表/ ClosedTableAlgorithmTDMCSREMOVE/ (/ Told/ )/ 1/ ./ ADDToldTOOldTransactionTablesetcid/ (/ Told/ )/ =/ {/ ∪/ CidSet/ (/ itemi/ )/ ,/ itemi/ ∈/ Told/ }/ 2/ ./ FORcidINsetcid/ (/ Told/ )/ DO3/ ./ IFWINDOWMOVESTEPMENDTDMCSREMOVE4/ 实验/ 分析/ 实验/ 运行/ 环境/ 的/ CPU/ 为/ 2.1/ GHz/ ,/ 内存/ 为/ 2GB/ ,/ 操作系统/ 是/ Win7/ ,/ 所有/ 的/ 实验/ 采用/ Java/ 实现/ ./ 实验/ 中/ 采用/ 两类/ 数据/ ,/ 一是/ 真实/ 数据流/ msnbc/ 来自/ UCI/ ①/ ,/ 此/ 数据/ 描述/ 的/ 是/ 1999/ 年/ 9/ 月/ 28/ 日/ 访问/ msnbc/ ./ com/ 网站/ 的/ 用户/ 信息/ ./ 用户/ 访问/ 的/ 页面/ 按照/ URL/ 分类/ ,/ 并/ 按照/ 时间/ 顺序/ 记录/ ./ 包括/ 989818/ 个/ 事务/ 序列/ ,/ 平均/ 事务/ 长度/ 5.7/ ,/ 数据/ 重复/ 项多/ ,/ 为/ 高密度/ 数据流/ ./ 二是/ 采用/ IBM/ 模拟/ 数据/ 生成器/ 产生/ 不同/ 平均/ ①/ FrankA/ ,/ AsuncionA/ ./ UCIMachineLearningRepositoryPage6/ 事务/ 长度/ 和/ 不同/ 平均/ 模式/ 长度/ 的/ 数据/ ./ 模拟/ 数据流/ 包括/ T5I5D1000K/ 、/ T10I4D1000K/ 、/ T10I5D1000K/ 、/ T10I10D1000K/ 、/ T20I5D1000K/ 和/ T20I20D1000K/ ./ 这些/ 数据流/ 用于/ 分析/ 不同/ 事务/ 长度/ 和/ 不同/ 模式/ 长度/ 时/ 算法/ 的/ 性能/ ./ 其中/ T10I5D1000K/ 表示/ 数据/ 的/ 平均/ 事务/ 长度/ 为/ 10/ ,/ 平均/ 模式/ 长度/ 为/ 5/ ,/ 数据/ 事务/ 个数/ 为/ 1000K/ ./ TDMCS/ 算法/ 中/ 设置/ 最大/ 误差率/ ε/ =/ 0.1/ ×/ θ/ ,/ 衰减/ 因子/ f/ 为/ faverage/ ./ 实验/ 中/ 设置/ 滑动/ 窗口/ N/ 的/ 大小/ 为/ 0.1/ M/ ,/ 0.2/ M/ ,/ 0.3/ M/ ,/ 0.4/ M/ ,/ 0.5/ M/ ,/ 0.7/ M/ 和/ 0.8/ M/ ,/ 设置/ 最小/ 支持/ 度/ θ/ 的/ 范围/ 为/ [/ 0.06/ ,/ 0.1/ ]/ ,/ 衰减/ 因子/ f/ 的/ 取值/ 如表/ 7/ 中/ 所示/ ./ fidf1f2f3f4f5f6f7/ 首先/ 分析/ 设置/ f/ 为/ 平均/ 衰减/ 因子/ 的/ 合理性/ ./ 实验/ 从/ 两个/ 角度/ 进行/ 比较/ :/ 一是/ 比较/ 得到/ 结果/ 集/ 的/ 模式/ 个数/ ;/ 二是/ 比较/ 设置/ 不同/ 衰减/ 因子/ 得到/ 的/ 算法/ 查全率/ 和/ 查准率/ ./ 表/ 8/ 中是/ 对/ 数据流/ msnbc/ 进行/ 处理/ 得到/ 的/ 闭合/ 模式/ 的/ 个数/ ./ 选择/ 最小/ 支持/ 度/ θ/ 为/ 0.025/ 和/ 0.05/ ,/ 最大/ 误差率/ ε/ =/ 0.05/ ×/ θ/ ./ 表中/ 第/ 2/ 列是/ 衰减/ 因子/ f/ ,/ 排列/ 顺序/ 是/ frecall/ 、/ fprecision/ 和/ faverage/ ./ 以/ θ/ =/ 0.025/ 为例/ ,/ 可以/ 得到/ 当/ θ/ =/ 0.05/ 时/ 也/ 可以/ 得到/ 相同/ 的/ 结论/ ./ 因此/ 从/ 得到/ 的/ 模式/ 数据量/ 角度/ 而言/ ,/ 算法/ 中/ 选择/ faverage/ 作为/ 衰减/ 因子/ 相比/ 上下/ 边界值/ 而言/ 更加/ 合理/ ./ 0.0250/ ./ 0250.0250/ ./ 050.050/ ./ 05/ 从/ 算法/ 的/ 查全率/ 与/ 查准率/ 角度/ 进行/ 分析/ ./ 以/ 数据流/ msnbc/ 为例/ ,/ 比较/ f/ 设置/ 为/ frecall/ ,/ fprecision/ 和/ faverage/ 算法/ 性能/ 的/ 优劣/ ./ 比较/ 不同/ 窗口/ 大/ 小时/ 算法/ 的/ 平均/ 性能/ ,/ 表现/ 如图/ 1/ 所示/ ./ 从/ 算法/ 的/ 查全率/ 可以/ 看出/ 设置/ f/ =/ frecall/ 可以/ 得到/ 几乎/ 100/ %/ 的/ Recall/ ,/ 而/ f/ =/ fprecision/ 得到/ 的/ Recall/ 值/ 最低/ ,/ f/ =/ faverage/ 得到/ 的/ Recall/ 值/ 介于/ 二者之间/ ./ 接着/ 比较/ 算法/ 的/ 查准率/ ./ 设置/ f/ =/ fprecision/ 和/ f/ =/ faverage/ 时/ 得到/ 的/ 查准率/ 几乎/ 相同/ ,/ 而/ f/ =/ frecall/ 得到/ 的/ 值/ 最低/ ./ 因此/ ,/ 可以/ 得出/ 设置/ 衰减/ 因子/ 为/ faverage/ 可以/ 得到/ 比/ fprecision/ 和/ frecall/ 更优/ 的/ 算法/ 性能/ :/ 即/ 得到/ 的/ 算法/ 的/ 查全率/ 和/ 查准率/ 更加/ 的/ 平衡/ ./ 图/ 1/ 设置/ 衰减/ 因子/ 为/ frecall/ ,/ fprecision/ ,/ faverage/ 得到/ 的/ 算法/ 性能/ 比较/ (/ 其中/ 纵向/ 坐标/ 为/ 算法/ 得到/ 的/ Recall/ 与/ Precision/ 百分比/ )/ 接着/ 比较/ 设置/ f/ 为/ faverage/ 与/ 随机/ 值/ 的/ 优劣/ ./ 为了/ 使/ 设置/ 的/ 随机/ 衰减/ 因子/ 更加/ 合理/ ,/ 取其/ 范围/ 为/ (/ 0.9/ ,/ 1/ )/ ,/ 标记/ 为/ frandom/ ,/ 采用/ Java/ 中/ Math/ ./ random/ (/ )/ 函数/ 生成/ ./ 随机/ 生成/ 5/ 个/ 衰减/ 因子/ 值/ ./ 设置/ f/ 为/ faverage/ 与/ frandom/ 得到/ 的/ 算法/ 性能/ 如图/ 2/ 所示/ ./ 从中/ 可以/ 看出/ ,/ 设置/ f/ 为/ faverage/ 与/ frandom/ 得到/ 的/ 查准率/ 差别/ 不大/ ./ 而/ 采用/ frandom/ 得到/ 的/ 算法/ 查全率/ 差别/ 较大/ ,/ 即/ 得到/ 的/ 结果/ 集/ 的/ 性能/ 不/ 稳定/ ./ 设置/ f/ 为/ faverage/ 的/ 表现/ 明显/ 优于/ 设置/ 为/ frandom/ ,/ 且/ 其/ 得到/ 的/ 结果/ 集是/ 稳定/ 的/ ./ 图/ 2/ 设置/ 衰减/ 因子/ 为/ faverage/ 和/ 随机/ 值得/ 到/ 的/ 算法/ 性能/ 比较/ (/ 其中/ 纵向/ 坐标/ 为/ 算法/ 得到/ 的/ Recall/ 与/ Precision/ 的/ 百分比/ )/ 对/ 模拟/ 数据/ 进行/ 处理/ 时/ 也/ 可以/ 得到/ 相似/ 的/ 结论/ ./ 因此/ ,/ 本文/ 中/ 提出/ 的/ 算法/ 使用/ 时间/ 衰减模型/ 时/ 设置/ 平均/ 衰减/ 因子/ 是/ 合理/ 的/ ./ 其次/ ,/ 分析/ 窗口/ 大小/ 对/ TDMCS/ 算法/ 的/ 影响/ ./ 图/ 3/ 和/ 图/ 4/ 所示/ 是/ 窗口/ 大小/ N/ 为/ 0.1/ M/ 、/ 0.2/ M/ 和/ Page70/ ./ 3M/ 时/ ,/ 算法/ TDMCS/ 在/ 真实/ 数据流/ msnbc/ 与/ 模拟/ 数据流/ 上/ 的/ 执行/ 时间/ 和/ 占用/ 最大/ 内存空间/ 的/ 比较/ ./ 实验/ 设置/ 衰减/ 因子/ f/ 的/ 值/ 如表/ 7/ 中/ f1/ ~/ f3/ 所示/ ./ 设置/ 剪枝/ 步长/ 为/ 0.1/ M/ [/ 3/ -/ 4/ ]/ ,/ 即/ 数据流/ 每/ 滑动/ 0.1/ M/ 条/ 事务时/ 进行/ 实际/ 剪枝/ 操作/ ./ 图/ 3/ 在/ 不同/ 窗口/ 大小/ 下/ 算法/ TDMCS/ 在/ msnbc/ 上/ 的/ 图/ 4/ 在/ 不同/ 窗口/ 大小/ 下/ 算法/ TDMCS/ 在/ 不同/ 模拟/ 数据流/ 上/ 的/ 比较/ (/ 其中/ 横向/ 坐标/ 为/ 不同/ 特征/ 的/ 模拟/ 数据流/ )/ 图/ 3/ 是/ 采用/ TDMCS/ 算法/ 对/ 数据流/ msnbc/ 处理/ 1M/ ,/ 1.5/ M/ ,/ 2M/ 和/ 2.5/ M/ 条/ 事务/ 进行/ 分析/ ./ 图/ 3/ (/ a/ )/ 显示/ 的/ 是/ TDMCS/ 算法/ 在/ 数据流/ msnbc/ 上/ 的/ 执行/ 时间/ ./ 可以/ 看出/ 处理事务/ 数量/ 较/ 少时/ ,/ 窗口/ 大小/ 的/ 增大/ 会/ 导致/ 执行/ 时间/ 小幅度/ 增加/ ./ 但是/ 随着/ 处理事务/ 数量/ 的/ 增加/ ,/ 采用/ 大/ 的/ 滑动/ 窗口/ 时间/ 消耗/ 反而/ 更/ 小/ ./ 如当/ 处理/ 1M/ 条/ 事务时/ ,/ 随着/ N/ 的/ 增加/ ,/ 时间/ 消耗/ 增加/ ./ 而/ 当/ 处理/ 2M/ 或/ 2.5/ M/ 条/ 事务时/ ,/ 随着/ N/ 的/ 增加/ ,/ 时间/ 消耗/ 反而/ 减少/ ./ 从图/ 3/ (/ a/ )/ 中/ 可以/ 看出/ ,/ 采用/ 大/ 的/ 滑动/ 窗口/ 处理/ 数据/ 时/ ,/ 随着/ 数据量/ 的/ 增加/ 时间/ 消耗/ 增加/ 的/ 幅度/ 比小/ 的/ 滑动/ 窗口/ 少/ ./ 如当/ N/ =/ 0.3/ M/ 时/ ,/ 处理/ 2.5/ M/ 事务/ 与/ 处理/ 1M/ 事务/ 相比/ ,/ 处理/ 的/ 数据量/ 增加/ 了/ 150/ %/ ,/ 而/ 时间/ 消耗/ 增加/ 了/ 约/ 99.9/ %/ ./ 而/ 当/ N/ =/ 0.1/ M/ 时/ ,/ 相同/ 条件/ 下/ ,/ 时间/ 消耗/ 增加/ 了/ 586.5/ %/ ./ 因此/ ,/ 采用/ 不同/ 的/ 滑动/ 窗口/ 大小/ 对/ 数据流/ 进行/ 处理/ 时/ ,/ 时间/ 消耗/ 差别/ 较大/ ./ 图/ 3/ (/ b/ )/ 为/ 算法/ 执行/ 使用/ 的/ 空间/ 大小/ ./ 可以/ 看出/ ,/ 不同/ 的/ 窗口/ 大小/ 对/ 使用/ 的/ 内存空间/ 影响/ 很小/ ;/ 随着/ 处理事务/ 数量/ 的/ 增加/ ,/ 内存/ 消耗/ 增加/ 幅度/ 较/ 小/ ./ 综合/ 时间/ 和/ 内存/ 消耗/ 可以/ 得出结论/ :/ 对/ 数据流/ msnbc/ 进行/ 处理/ 时/ ,/ 相同/ 的/ 事务/ 数量/ 下/ ,/ TDMCS/ 算法/ 使用/ 的/ 执行/ 时间/ 会/ 随着/ N/ 的/ 不同/ 而/ 不同/ ,/ 而/ 使用/ 的/ 存储空间/ 受/ 窗口/ 大小/ N/ 的/ 影响/ 不大/ ./ 因此/ ,/ 从/ 空间/ 复杂度/ 角度/ 而言/ ,/ 该/ 算法/ 适用/ 于/ 挖掘/ 任意/ 大小/ 滑动/ 窗口/ 内/ 的/ 频繁/ 模式/ ./ 图/ 4/ 比较/ 不同/ 滑动/ 窗口/ 大小/ N/ 时/ ,/ TDMCS/ 在/ 不同/ 事务/ 长度/ 和/ 不同/ 模式/ 长度/ 的/ 数据流/ 上/ 的/ 性能/ ./ 从图/ 4/ 中/ 可以/ 看出/ 随着/ N/ 的/ 增大/ ,/ 算法/ 执行/ 时间/ 成倍增加/ ,/ 内存/ 消耗/ 有/ 较/ 小幅度/ 的/ 增加/ ./ 首先/ 分析/ 事务/ 长度/ 对/ 算法/ 性能/ 的/ 影响/ ./ 通过/ 比较/ 两组/ 数据流/ :/ T5I5/ ,/ T10I5/ 和/ T20I5/ ,/ T10I10/ 和/ T20I10/ 可以/ 看出/ 随着/ 平均/ 事务/ 长度/ 的/ 增加/ ,/ 算法/ 的/ 执行/ 时间/ 增加/ 幅度/ 较大/ ,/ 使用/ 内存/ 幅度/ 增加/ 相对/ 较/ 小/ ./ 接着/ 分析/ 模式/ 长度/ 对/ 算法/ 性能/ 的/ 影响/ ./ 通过/ 比较/ 两组/ 数据流/ :/ T10I5/ 和/ T10I10/ ,/ T20I5/ 和/ T20I10/ 可以/ 看出/ 随着/ 平均/ 模式/ 长度/ 的/ 增加/ ,/ 算法/ 执行/ 时间/ 和/ 内存/ 消耗/ 增加/ ,/ 但/ 增加/ 的/ 幅度/ 不大/ ./ 如当/ N/ =/ 0.3/ 时/ ,/ 在/ 数据流/ T10I10/ 上/ 的/ 执行/ 时间/ 甚至/ 比/ 在/ T10I5/ 上/ 略微/ 减少/ ,/ 而/ 内存/ 消耗/ 几乎/ 不变/ ./ 可以/ 得出结论/ ,/ TDMCS/ 算法/ 处理/ 不同/ 的/ 数据流/ 时/ ,/ 受到/ 事务/ 长度/ 的/ 影响/ 较大/ ,/ 而/ 受到/ 模式/ 长度/ 的/ 影响/ 较/ 小/ ./ 这/ 表明/ 该/ 算法/ 适用/ 于/ 挖掘/ 长/ 模式/ 的/ 数据流/ ./ 第三/ ,/ 分析/ 剪枝/ 步长/ 对/ TDMCS/ 算法/ 性能/ 的/ 影/ Page8/ 响/ ./ 设定/ 滑动/ 窗口/ 大小/ N/ 为/ 0.5/ M/ ,/ 0.7/ M/ 和/ 0.8/ M/ ,/ 剪枝/ 步长/ SETPM/ 为/ 0.1/ M/ ~/ 0.5/ M/ (/ SETPM/ / N/ )/ ,/ 设定/ 衰减/ 因子/ f/ 的/ 取值/ 为表/ 7/ 中/ f5/ ~/ f7/ ./ 图/ 5/ (/ a/ )/ 为/ 不同/ 滑动/ 窗口/ 条件/ 下/ 采用/ 不同/ 的/ 剪枝/ 步长/ 时/ 算法/ 执行/ 的/ 时间/ ./ 从图/ 中/ 可以/ 看到/ ,/ 当/ N/ =/ 0.5/ M/ 时/ ,/ 剪枝/ 步长/ 对/ 算法/ 的/ 处理/ 时间/ 影响/ 不大/ ./ 当/ N/ =/ 0.7/ M/ 时/ ,/ 设定/ SETPM/ 为/ 0.2/ M/ 时/ 算法/ 执行/ 过程/ 运行/ 时间/ 最少/ ,/ 而/ SETPM/ =/ 0.5/ M/ 时/ 运行/ 时间/ 最/ 多/ ,/ 后者/ 比/ 前者/ 运行/ 时间/ 增加/ 了/ 57/ %/ ./ 当/ N/ =/ 0.8/ M/ 时/ ,/ SETPM/ =/ 0.3/ M/ 时/ 算法/ 执行/ 时间/ 最少/ ,/ SETPM/ =/ 0.4/ M/ 时/ 运行/ 时间/ 最/ 多/ ,/ 后者/ 比/ 前者/ 运行/ 时间/ 增加/ 了/ 70.4/ %/ ./ 从/ 执行/ 时间/ 的/ 实验/ 结果/ 可以/ 得到/ 结论/ :/ (/ 1/ )/ 最优/ 剪枝/ 步长/ 与/ 滑动/ 窗口/ 大小/ N/ 相关/ ;/ (/ 2/ )/ 随着/ N/ 的/ 增大/ ,/ 不同/ 的/ SETPM/ 带来/ 的/ 执行/ 时间差/ 增大/ ./ 图/ 5/ (/ b/ )/ 为/ 采用/ 不同/ 剪枝/ 步长/ 和/ 不同/ 滑动/ 窗口/ 大/ 小时/ 算法/ 执行/ 需要/ 的/ 最大/ 存储空间/ ./ 从图/ 中/ 可以/ 看出/ 最大/ 存储空间/ 消耗/ 受/ 剪枝/ 步长/ 大小/ 的/ 影响/ 不大/ ./ 从图/ 5/ 中/ 可以/ 得出结论/ ,/ 当/ 设定/ 滑动/ 窗口/ 较/ 小时/ ,/ 剪枝/ 步长/ 的/ 大小/ 对/ 算法/ 的/ 执行/ 时间/ 和/ 使用/ 内存/ 影响/ 不大/ ./ 而/ 当/ 滑动/ 窗口/ 较大/ 时/ ,/ 对/ 执行/ 时间/ 的/ 影响/ 较大/ ,/ 对/ 内存/ 使用/ 影响/ 甚微/ ./ 因此/ 当/ 设定/ 参数/ N/ =/ 0.1/ M/ 时/ ,/ 设定/ SETPM/ =/ 0.1/ M/ 是/ 比较/ 合理/ 的/ ./ 同样/ 的/ ,/ 通过/ 对图/ 5/ (/ b/ )/ 的/ 分析/ ,/ 进一步/ 证明/ 了/ TDMCS/ 算法/ 适用/ 于/ 挖掘/ 任意/ 大小/ 的/ 滑动/ 窗口/ 内/ 的/ 频繁/ 模式/ ./ 图/ 5/ 在/ 不同/ 窗口/ 大小/ 下/ 采用/ 不同/ 剪枝/ 步长/ 时/ ,/ 算法/ TDMCS/ 在/ 数据流/ msnbc/ 上/ 的/ 比较/ (/ 其中/ 横向/ 坐标/ 为/ 剪枝/ 步长/ )/ 最后/ ,/ 分析/ 不同/ 窗口/ 大/ 小时/ ,/ TDMCS/ 算法/ 与/ 经典/ 算法/ CloStream/ / ,/ MSW/ 和/ SWP/ 的/ 性能/ 比较/ ./ 设定/ 衰减/ 因子/ f/ 的/ 取值/ 为表/ 7/ 中/ f1/ ~/ f5/ 所示/ ./ 为了/ 更/ 合理/ 的/ 比较/ 查全率/ 和/ 查准率/ ,/ 对/ 算法/ MSW/ 和/ SWP/ 稍作/ 修改/ ,/ 使/ 其/ 挖掘/ 闭合/ 模式/ ./ 算法/ 在/ 数据流/ msnbc/ 的/ 性能/ 表现/ 如图/ 6/ 所示/ ./ 其中/ 图/ 6/ (/ a/ )/ 为/ 不同/ 的/ 算法/ 在/ 数据流/ msnbc/ 上/ 的/ 时间/ 消耗/ ./ 从图/ 中/ 可以/ 看出/ 采用/ TDMCS/ 算法/ 消耗/ 的/ 平均/ 时间/ 与/ 其他/ 三者/ 相比/ 用时/ 最少/ ./ 图/ 6/ (/ b/ )/ 为/ 不同/ 算法/ 在/ 数据流/ msnbc/ 上/ 执行/ 的/ 最大/ 内存/ 消耗/ ./ 从中/ 可以/ 看出/ TDMCS/ 算法/ 的/ 平均/ 内存/ 消耗/ 大约/ 比/ CloStream/ / 减少/ 了/ 65/ %/ ./ 并且/ 随着/ N/ 的/ 增加/ ,/ 两种/ 方法/ 占用/ 的/ 内存/ 消耗/ 的/ 差距/ 增加/ ./ 与/ MSW/ 和/ SWP/ 相比/ 也/ 有/ 一定/ 程度/ 的/ 减少/ ./ 图/ 6/ (/ c/ )/ 是/ 算法/ 之间/ 的/ 查全率/ 比较/ ./ 从中/ 可以/ 看出/ CloStream/ / 得到/ 的/ 查全率/ 是/ 最高/ 的/ ,/ 这是/ 由于/ 这个/ 算法/ 没有/ 进行/ 衰减/ 处理/ ./ 其次/ 是/ MSW/ 和/ SWP/ 得到/ 的/ 查全率/ 较/ 高/ ,/ 因为/ 二者/ 采用/ 的/ 是/ 下界/ 衰减/ 值/ ,/ 即/ 设置/ 条件/ 是/ 假定/ 100/ %/ 的/ 查全率/ ./ 相/ 比较而言/ ,/ TDMCS/ 得到/ 的/ 查全率/ 较/ 低/ ,/ 比/ CloStream/ / 减少/ 了/ 5/ %/ ,/ 比/ MSW/ 和/ SWP/ 减少/ 了/ 约/ 2/ %/ ,/ 这是/ 由于/ 它/ 的/ 衰减/ 程度/ 是/ 最高/ 的/ ./ 图/ 6/ (/ d/ )/ 是/ 对/ 数据流/ msnbc/ 进行/ 处理/ 时/ 得到/ 的/ 查准率/ 比较/ ./ 可以/ 看出/ 采用/ TDMCS/ 进行/ 数据流/ 处理/ 时/ 得到/ 的/ 算法/ 的/ Precision/ 明显/ 高于/ 其他/ 三者/ ./ 与/ MSW/ 和/ SWP/ 相比/ 提高/ 了/ 约/ 7/ %/ ,/ 与/ CloStream/ / 相比/ 提高/ 了/ 约/ 11/ %/ ./ 从图/ (/ c/ )/ 和/ (/ d/ )/ 的/ 比较/ 可以/ 得出/ ,/ 采用/ 均值/ 衰减/ 因子/ 设置/ 方式/ 可以/ 得到/ 较为/ 平衡/ 的/ 查全率/ 和/ 查准率/ ./ 算法/ 在/ 模拟/ 数据流/ 上/ 的/ 比较/ 如图/ 7/ 所示/ ,/ 是/ 对/ 不同/ 窗口/ 下/ 的/ 算法/ 性能/ 取/ 平均/ 得到/ 的/ ./ 使用/ 事务/ 长度/ 和/ 模式/ 长度/ 不/ 等/ 的/ 4/ 组/ 数据/ :/ T10I4/ ,/ T10I5/ ,/ T10I10/ 和/ T20I5/ ./ 图/ 7/ (/ a/ )/ 是/ 算法/ 执行/ 时间/ 的/ 比较/ ,/ 整体而言/ ,/ TDMCS/ 和/ 其他/ 3/ 个/ 算法/ 相比/ ,/ 时间/ 使用/ 较/ 短/ ./ CloStream/ / 由于/ 不/ 进行/ 衰减/ 处理/ 操作/ ,/ 时间/ 消耗/ 也/ 较/ 短/ ./ 二者/ 的/ 时间/ 消耗/ 低于/ MSW/ 和/ SWP/ ./ 图/ 7/ (/ b/ )/ 比较/ 算法/ 的/ 内存/ 消耗/ ,/ 总体而言/ ,/ TDMCS/ 的/ 内存/ 消耗/ 是/ 最低/ 的/ ,/ 但/ 整体/ 之间/ 的/ 差距/ 不是/ 太大/ ./ 图/ 7/ (/ c/ )/ 和/ 图/ 7/ (/ d/ )/ 比较/ 的/ 是/ 算法/ 的/ 查全率/ 和/ 查准率/ ./ 由于/ 算法/ MSW/ 和/ SWP/ 使用/ 的/ 是/ 相同/ 衰减/ 因子/ 设置/ 方式/ ,/ 因此/ 仅/ 与/ SWP/ 做/ 性能/ 比较/ ./ CloStream/ / 算法/ 不/ 做/ 衰减/ 处理/ ,/ 其/ 得到/ 的/ 查全率/ 是/ 最高/ 的/ ,/ 但/ 得到/ 的/ 查准率/ 是/ 最差/ 的/ ./ SWP/ 设置/ 衰减/ 因子/ 为/ 边界值/ ,/ 得到/ 的/ 查全率/ 和/ 查准率/ 居中/ ./ TDMCS/ 得到/ 的/ 查全/ Page9/ 图/ 6/ 算法/ 在/ msnbc/ 上/ 的/ 性能/ 比较/ (/ 其中/ 横向/ 坐标/ 为/ 滑动/ 窗口/ 大小/ )/ 图/ 7/ 算法/ 在/ 模拟/ 数据流/ 上/ 的/ 平均/ 性能/ 比较/ (/ 其中/ 横向/ 坐标/ 为/ 不同/ 特征/ 的/ 模拟/ 数据流/ )/ 率/ 与/ 其余/ 二者/ 相比/ 减少/ 的/ 不足/ 1/ %/ ./ 但/ 得到/ 的/ 查准率/ 与/ CloStream/ / 相比/ 增加/ 了/ 约/ 10/ %/ ,/ 与/ 算法/ SWP/ 相比/ 增加/ 了/ 约/ 4/ %/ ./ 因此/ ,/ 从/ 平衡/ 算法/ 的/ 查全率/ 和/ 查准率/ 角度/ 而言/ ,/ TDMCS/ 算法/ 的/ 表现/ 更好/ ./ 从图/ 7/ 的/ 分析/ 可以/ 看出/ ,/ 在/ 不同/ 模式/ 长度/ 的/ 数据流/ 上/ 进行/ 比较/ ,/ 如/ T10I4/ ,/ T10I5/ 和/ T10I10/ ,/ TDMCS/ 使用/ 的/ 时间/ 和/ 内存/ 消耗/ 随着/ 模式/ 长度/ 的/ 增加/ ,/ 与/ 其余/ 3/ 个/ 算法/ 相比/ 减少/ 较/ 明显/ ,/ 且/ 得到/ 的/ 查准率/ 的/ 优势/ 也/ 很/ 明显/ ./ 比较/ 不同/ 事务/ 长度/ 的/ 数据流/ ,/ 如/ T10I5/ 和/ I20I5/ 可以/ 分析/ 出/ ,/ TDMCS/ 得到/ 的/ 查准率/ 优势/ 同样/ 较/ 明显/ ./ 因此/ ,/ TDMCS/ 算法/ 相比而言/ 更/ 适用/ 于长/ 模式/ 和/ 长/ 序列/ 的/ 数据流/ 处理/ ./ Page105/ 总结/ 数据流/ 不同于/ 常规/ 的/ 数据库/ ,/ 它/ 具有/ 流动性/ 、/ 连续性/ 和/ 无限性/ ./ 数据流/ 包含/ 的/ 知识/ 会/ 随着/ 时间/ 的/ 发展/ 而/ 发生/ 改变/ ./ 所以/ 挖掘/ 数据流/ 频繁/ 模式/ 时/ 需要/ 考虑/ 到/ 概念/ 漂移/ 问题/ ./ 通常/ 情况/ 下/ ,/ 新近/ 的/ 事务/ 比/ 历史/ 事务/ 包含/ 更/ 重要/ 的/ 信息/ ./ 为此/ ,/ 本文/ 提出/ 了/ 一种/ 基于/ 时间/ 衰减模型/ 的/ 闭合/ 模式/ 挖掘/ 算法/ TDMCS/ ./ 该/ 算法/ 采用/ 了/ 闭合/ 算子/ 提高/ 闭合/ 模式/ 挖掘/ 的/ 效率/ ;/ 通过/ 设置/ 平均/ 衰减/ 因子/ 得到/ 更加/ 平衡/ 的/ 算法/ 查全率/ 和/ 查准率/ ;/ 采用/ 了/ 最大/ 误差/ 阈值/ 配合/ 衰减模型/ 使用/ ,/ 可以/ 有效/ 避免/ 概念/ 漂移/ ,/ 用于/ 挖掘/ 更加/ 合理/ 的/ 闭合/ 模式/ 结果/ 集/ ./ 大量/ 实验/ 验证/ 得出/ TDMCS/ 算法/ 具有/ 较/ 高/ 的/ 效率/ ,/ 适用/ 于/ 挖掘/ 高密度/ ,/ 长/ 序列/ 和/ 长/ 模式/ 的/ 数据流/ ,/ 适用/ 于/ 不同/ 大小/ 的/ 滑动/ 窗口/ ,/ 且/ 该/ 算法/ 优于/ 其他/ 同类/ 算法/ ./ 

