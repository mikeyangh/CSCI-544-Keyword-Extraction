Page1EasiDEF/ :/ 一种/ 水平/ 化/ 轻量级/ 物/ 联网/ 数据交换/ 协议/ 侯/ 陈达/ 1/ )/ ,/ 2/ )/ 李栋/ 1/ )/ 邱杰/ 凡/ 1/ )/ ,/ 2/ )/ 崔莉/ 1/ )/ 1/ )/ (/ 中国科学院计算技术研究所/ 北京/ 100190/ )/ 2/ )/ (/ 中国科学院/ 大学/ 北京/ 100049/ )/ 摘要/ 物/ 联网/ 系统/ 中/ 数据交换/ 协议/ 私有化/ 的/ 问题/ 日益突出/ ,/ 异构/ 应用/ 系统/ 之间/ 缺少/ 水平/ 、/ 无缝/ 地/ 交换/ 数据/ 和/ 共享/ 信息/ 的/ 方法/ ./ 而/ 现有/ 互联网/ 中/ 广泛/ 采用/ 的/ XML/ (/ eXtensibleMarkupLanguage/ )/ 等/ 数据交换/ 协议/ 存在/ 数据/ 冗余/ 和/ 解析/ 复杂/ 的/ 问题/ ,/ 并/ 不适/ 用于/ 资源/ 受限/ 的/ 物/ 联网/ 前端/ 设备/ ./ 因此/ 文中/ 提出/ 了/ 一种/ 新型/ 的/ 水平/ 化/ 轻量级/ 物/ 联网/ 数据交换/ 协议/ EasiDEF/ ./ 该/ 协议/ 根据/ 环境监测/ 类物/ 联网/ 的/ 应用/ 数据/ 特点/ ,/ 将/ 数据类型/ 分为/ 单次/ 请求/ 数据/ 和/ 周期/ 连续/ 上报/ 数据/ 两种/ 常见/ 形式/ ./ 针对/ 单次/ 出现/ 的/ 数据/ 请求/ 采用/ 三级/ 压缩/ 机制/ ,/ 包括/ :/ (/ 1/ )/ 一种/ XML/ 文件/ 的/ 序列化/ 方法/ ./ 该/ 方法/ 基于/ XML/ 标准/ 设计/ ,/ 保证/ 了/ 数据交换/ 的/ 通用性/ 和/ 水平/ 化/ ./ 同时/ 序列化/ 的/ 操作/ 使得/ 在/ 低功耗/ 设备/ 中/ 应用/ XML/ 成为/ 可能/ ;/ (/ 2/ )/ 一种/ 将/ XML/ 文件/ 的/ 字符串/ 标签/ 转化/ 为/ 占用/ 空间/ 小/ 的/ 数值/ 标签/ 的/ 字典/ 映射/ 机制/ ,/ 其中/ 字典/ 的/ 设计/ 面向/ 典型/ 的/ 物/ 联网/ 应用/ ;/ (/ 3/ )/ 一种/ 基于/ LZW/ (/ Lempel/ -/ Ziv/ -/ Welch/ )/ 的/ 改进/ 数据/ 压缩算法/ EasiLZW/ ,/ 该/ 算法/ 基于/ 物/ 联网/ 应用/ 字典/ 压缩/ 数据/ ,/ 保证/ 协议/ 的/ 轻量/ 性/ ./ 而/ 针对/ 周期/ 连续/ 上报/ 数据类型/ ,/ 对/ 连续/ 数据传输/ 提出/ 了/ 一种/ 增量/ 式/ 压缩算法/ ./ 在/ 保证/ 协议/ 低/ 开销/ 的/ 前提/ 下/ ,/ EasiDEF/ 可/ 有效/ 压缩/ XML/ 文件/ ,/ 降低/ 数据传输/ 量/ ./ 实验/ 结果显示/ EasiDEF/ 比/ 传统/ 方法/ 提升/ 了/ 5/ ~/ 10/ 倍/ 的/ 压缩/ 效果/ ,/ 能够/ 在/ 物/ 联网/ 的/ 资源/ 受限/ 环境/ 中/ 支持/ 水平/ 化/ 的/ 数据交换/ ./ 关键词/ 物/ 联网/ ;/ 水平/ 化/ ;/ 轻量级/ ;/ 数据交换/ 协议/ ;/ 压缩算法/ ;/ 增量/ 传输/ 1/ 引言/ 近年来/ 物/ 联网/ 技术/ 的/ 飞速发展/ 受到/ 了/ 人们/ 的/ 广泛/ 关注/ ./ 国际电信联盟/ (/ ITU/ )/ ①/ 指出/ 物/ 联网/ 从/ 功能/ 上/ 能够/ 实现/ “/ 世界/ 上/ 所有/ 的/ 物体/ 都/ 可以/ 通过/ 因特网/ 主动/ 进行/ 信息/ 交换/ ,/ 实现/ 任何时刻/ 、/ 任何/ 地点/ 、/ 任何/ 物体/ 之间/ 的/ 互联/ 、/ 无所不在/ 的/ 网络/ 和/ 无所不在/ 的/ 计算/ ”/ ./ 由此可见/ 物/ 联网/ 概念/ 的/ 出现/ 打破/ 了/ 原有/ 物理/ 世界/ 与/ 信息/ 世界/ 相/ 分离/ 的/ 传统/ 结构/ ,/ 使得/ 人们/ 不但/ 能够/ 访问/ 和/ 管理/ 互联网/ 中/ 的/ 虚拟/ 资源/ ,/ 还/ 能够/ 与/ 物理/ 世界/ 中/ 的/ 实体/ 资源/ 互动/ ./ 但是/ 现有/ 的/ 物/ 联网/ 应用/ 大多/ 为/ 专有/ 应用/ ,/ 运行/ 系统/ 相对/ 封闭/ ,/ 不同/ 系统/ 的/ 数据/ 定义/ 格式/ 不/ 统一/ ,/ 导致/ 异构/ 系统/ 之间/ 难以/ 进行/ 水平/ 、/ 自由/ 的/ 数据交换/ 和/ 信息/ 共享/ ,/ 已经/ 成为/ 物/ 联网/ 发展/ 和/ 产业化/ 进程/ 的/ 瓶颈/ ./ 因此/ 物/ 联网/ 的/ 应用/ 系统/ 中/ 需要/ 一种/ 新型/ 水平/ 通用/ 的/ 数据交换/ 协议/ ./ 从/ 另一方面/ 考虑/ ,/ 当前/ 互联网/ 已经/ 成为/ 人们/ 获取/ 和/ 共享/ 信息/ 的/ 主要/ 方式/ ,/ 人们/ 的/ 生活/ 和/ 工作/ 已经/ 离不开/ 互联网/ ./ 因此/ 越来越/ 多/ 的/ 需求/ 希望/ 能/ 将/ 各种各样/ 的/ 智能/ 物体/ 也/ 连入/ 互联网/ 中/ ,/ 以/ 现有/ 的/ 互联网/ 体系/ 去/ 连接/ 物/ 联网/ 应用/ ,/ 从而/ 大大降低/ 上层/ 应用/ 的/ 开发成本/ ,/ 提高/ 物/ 联网/ 系统/ 的/ 水平/ 性/ 和/ 通用性/ ./ 但是/ 从/ 目前/ 的/ 研究进展/ 看/ ,/ 物/ 联网/ 应用/ 之间/ 的/ 数据通信/ 和/ 数据交换/ 普遍存在/ 协议/ 隔离/ 和/ 格式/ 差异/ 的/ 问题/ ,/ 缺少/ 水平/ 化/ 的/ 数据交换/ 协议/ 和/ 应用层/ 访问/ 协议/ ,/ 不能/ 很/ 好/ 的/ 集成/ 到/ 现有/ 的/ 互联网/ 体系/ 当中/ ./ 为了/ 解决/ 物/ 联网/ 系统/ 中/ 数据交换/ 协议/ 私有化/ 的/ 问题/ ,/ 可以/ 将/ XML/ ②/ (/ eXtensibleMarkupLanguage/ )/ 等/ 在/ 互联网/ 中/ 广泛/ 使用/ 的/ 数据交换/ 协议/ 引入/ 到物/ 联网/ 中/ ./ 但是/ 在/ 这/ 一/ 过程/ 中/ 面临/ 着/ 以下/ 的/ 挑战/ ./ 首先/ 由于/ 物/ 联网/ 在/ 前端/ 感知/ 网络/ 中/ 通常/ 采用/ 低成本/ 、/ 低功耗/ 的/ 嵌入式/ 设备/ ,/ 计算资源/ ,/ 存储资源/ 和/ 网络带宽/ 都/ 严重/ 受限/ ,/ 对/ 协议/ 和/ 算法/ 的/ 轻量/ 性/ 要求/ 较/ 高/ ./ 其次/ 由于/ 互联网/ 中/ 采用/ 的/ 数据交换/ 协议/ 除了/ 数据/ 内容/ 本身/ 还/ 包含/ 自描述/ 的/ 控制/ 信息/ ,/ 存在/ 大量/ 信息冗余/ ,/ 增加/ 了/ 网络/ 传输/ 开销/ ./ 同时/ XML/ 技术/ 本身/ 很/ 复杂/ ,/ 处理/ XML/ 的/ 开销/ 很大/ ./ 综合/ 上述/ 两点/ XML/ 处理/ 的/ 复杂性/ 和/ 数据/ 冗余/ 对于/ 低功耗/ 、/ 资源/ 受限/ 的/ 物/ 联网/ 前端/ 感知/ 设备/ 负担过重/ ,/ 难以/ 在/ 前端/ 设备/ 上/ 设计/ 和/ 实现/ ./ 同时/ 需要/ 考虑/ 物/ 联网/ 具有/ 与/ 互联网/ 不同/ 的/ 数据/ 特点/ ./ 互联网/ 的/ web/ 请求/ 通常/ 为/ 大量/ 不/ 规律/ 的/ 单次/ 请求/ ,/ 一次/ 请求/ 的/ 内容/ 一般/ 比较复杂/ ,/ 包括/ 各种/ 文本/ 和/ 多媒体信息/ ,/ 数据量/ 大/ ./ 但是/ 在/ 物/ 联网/ 应用/ 中/ ,/ 感知/ 数据/ 往往/ 具有/ 时空/ 相关性/ ,/ 即/ 具有/ 感知/ 资源/ 相对/ 固定/ 、/ 单次/ 请求/ 的/ 数据量/ 小/ 和/ 连续/ 传输数据/ 相似性/ 大/ 的/ 特点/ ./ 特别/ 是/ 在/ 环境监测/ 类物/ 联网/ 应用/ 的/ 感知/ 数据/ 中/ ,/ 采用/ XML/ 这种/ 自描述/ 的/ 数据交换/ 协议/ 会/ 导致/ 控制/ 信息/ 远远/ 多于/ 感知/ 内容/ 数据/ ,/ 存在/ 连续/ 传输/ 过程/ 中/ 控制/ 内容/ 大量/ 冗余/ 的/ 问题/ ./ 为了/ 解决/ 这些/ 问题/ ,/ 本文/ 提出/ 了/ 一种/ 基于/ XML/ 的/ 轻量级/ 物/ 联网/ 数据交换/ 协议/ EasiDEF/ ./ 该/ 协议/ 根据/ 环境监测/ 类物/ 联网/ 应用/ 的/ 数据/ 特点/ ,/ 将/ 数据类型/ 分为/ 单次/ 请求/ 数据/ 和/ 周期/ 连续/ 上报/ 数据/ 两种/ 类型/ ./ 针对/ 单次/ 随机/ 出现/ 的/ 请求/ 数据/ 采用/ 三级/ 压缩/ 机制/ ,/ 包括/ :/ (/ 1/ )/ 一种/ XML/ 文件/ 的/ 序列化/ 方法/ ./ 该/ 方法/ 基于/ XML/ 标准/ 设计/ 的/ 数据格式/ 保证/ 了/ 数据交换/ 的/ 通用性/ ,/ 并且/ 序列化/ 的/ 操作/ 使得/ 在/ 低功耗/ 设备/ 中/ 应用/ XML/ 成为/ 可能/ ;/ (/ 2/ )/ 针对/ 现有/ 的/ 物/ 联网/ 典型/ 应用/ 方式/ ,/ 采用/ 能/ 将/ XML/ 文件/ 的/ 字符串/ 标签/ 转化/ 为/ 数值/ 标签/ 的/ 映射/ 字典/ 机制/ ;/ 通过/ 字典/ 映射/ 将/ 占用/ 空间/ 较大/ 的/ 字符串/ 转化成/ 二进制/ 数值/ ,/ 实现/ 了/ 数据压缩/ ;/ (/ 3/ )/ 一种/ 基于/ LZW/ (/ Lempel/ -/ Ziv/ -/ Welch/ )/ 的/ 改进/ 数据/ 压缩算法/ EasiLZW/ ,/ 该/ 算法/ 基于/ 物/ 联网/ 应用/ 字典/ 压缩/ 数据/ ,/ 压缩/ 数据/ 保证/ 协议/ 的/ 轻量级/ 特点/ ./ 而/ 针对/ 周/ ①/ ②/ Page3/ 期/ 连续/ 上报/ 数据/ 的/ 类型/ ,/ 提出/ 了/ 一种/ 增量/ 式/ 压缩/ 传输/ 算法/ ./ 通过/ 比较/ 连续/ 传输/ 过程/ 中/ 传输/ 文件/ 与/ 标准文件/ 的/ 不同/ ,/ 传输/ 增量/ XML/ 文件/ ,/ 实现/ XML/ 文件/ 的/ 压缩/ ./ 在/ 保证/ 协议/ 低/ 开销/ 的/ 前提/ 下/ ,/ EasiDEF/ 能够/ 大幅/ 压缩/ XML/ 文件/ ,/ 降低/ 数据传输/ 量/ ,/ 为物/ 联网/ 系统/ 前端/ 感知/ 网络/ 提供/ 轻量级/ 水平/ 化/ 的/ 数据交换/ 协议/ ./ 同时/ 针对/ 互联网/ 中/ 的/ 一般/ XML/ 格式/ 数据/ 集/ 、/ 故宫博物院/ 文物/ 监测/ 系统/ 和/ 无锡/ 太/ 湖水/ 污染监测/ 系统/ 的/ 数据/ 集/ ,/ 设计/ 了/ 4/ 种/ 实验/ 场景/ 以/ 验证/ 该/ 数据交换/ 协议/ 的/ 压缩/ 效果/ 和/ 算法/ 开销/ ./ 本文/ 的/ 贡献/ 主要/ 集中/ 在/ 以下/ 3/ 方面/ :/ (/ 1/ )/ 针对/ 单次/ 请求/ 数据类型/ 采用/ 三级/ 压缩/ 机制/ ,/ 有效/ 提高/ 了/ XML/ 的/ 压缩率/ 和/ 处理/ 效率/ ,/ 包括/ :/ ①/ 一种/ XML/ 文件/ 的/ 序列化/ 方法/ ;/ ②/ 一种/ 字符串/ 标签/ 到/ 二进制/ 数值/ 映射/ 字典/ 机制/ ;/ ③/ 一种/ 基于/ LZW/ 的/ 改进/ 数据/ 压缩算法/ EasiLZW/ ./ 通过/ 这/ 三级/ 压缩/ 机制/ 压缩/ 数据/ 保证/ 协议/ 的/ 轻量级/ 特点/ ./ (/ 2/ )/ 针对/ 周期性/ 连续/ 上报/ 数据类型/ ,/ 提出/ 了/ 一种/ 增量/ 式/ 压缩算法/ ,/ 减少/ 了/ 连续/ 数据传输/ 过程/ 中/ 重复/ 数据/ 的/ 冗余/ 传输/ ./ (/ 3/ )/ 设计/ 了/ 4/ 种/ 实验/ 场景/ ,/ 通过/ 文件/ 压缩率/ 和/ 处理/ 时间/ 开销/ 的/ 对比/ 实验/ ,/ 验证/ 了/ EasiDEF/ 的/ 协议/ 性能/ 和/ 算法/ 开销/ ./ 本文/ 第/ 2/ 节/ 简要/ 介绍/ 研究/ 背景/ 和/ 相关/ 工作/ ;/ 第/ 3/ 节/ 给出/ EasiDEF/ 概述/ ;/ 第/ 4/ 节是/ 协议/ 的/ 详细/ 设计/ 和/ 实现/ ;/ 第/ 5/ 节是/ 性能/ 与/ 效果/ 实验/ 评价/ ;/ 最后/ 第/ 6/ 节/ 给出/ 本文/ 的/ 结论/ 和/ 展望/ ./ 2/ 研究/ 背景/ 与/ 相关/ 工作/ 目前/ 在/ 数据交换/ 协议/ 方面/ 的/ 工作/ 主要/ 包括/ 互联网/ 通用/ 协议/ 、/ 互联网/ 轻量级/ 协议/ 和物/ 联网/ 轻量级/ 协议/ 3/ 类/ ./ 首先/ 在/ 互联网/ 中/ 广泛/ 采用/ 的/ 协议/ 有/ XML/ 、/ JSON/ 等/ 协议/ ,/ 尤其/ 以/ XML/ 占/ 主导地位/ ./ XML/ 是/ 为了/ 人类/ 可读性/ 和/ 互操作性/ 而/ 设计/ 的/ 一种/ 通用/ 数据交换/ 协议/ ,/ 因此/ XML/ 在/ 描述/ 数据/ 的/ 过程/ 中/ 采用/ 了/ 大量/ 重复/ 的/ 数据/ 标签/ ,/ 造成/ 了/ 大量/ 数据/ 冗余/ ./ 一旦/ 这种/ 冗余/ 与/ 应用程序/ 中/ 的/ 元素/ 和/ 属性/ 名/ 结合/ 起来/ ,/ XML/ 文件/ 中/ 标签/ 成分/ 的/ 大小/ 可能/ 远远/ 超出/ 文件/ 中/ 实际/ 数据/ 成分/ 的/ 大小/ ./ 这种/ 数据/ 冗余/ 通常/ 会/ 给/ 网络/ 传输/ 带来/ 负担/ ./ 为了/ 降低/ 数据传输/ 量/ ,/ 在/ 互联网/ 中/ 通常/ 采用/ 的/ 方式/ 是/ 先/ 压缩/ 再/ 传输/ ./ 在/ 实际/ 应用/ 中/ ,/ Gzip/ (/ GNUzip/ )/ 是/ 互联网/ 中/ 被/ 广泛/ 采用/ 的/ 数据压缩/ 方式/ ,/ HTTP/ 协议/ (/ HypertextTransferProtocol/ )/ 即/ 支持/ Gzip/ 的/ 压缩/ 传输/ ./ Gzip/ 是/ 一种/ 开源/ 的/ 文件/ 压缩/ 程序/ ,/ 其/ 核心/ 采用/ LZ77/ 与/ 哈夫曼/ 编码/ 的/ 组合/ 方法/ ,/ 因而/ Gzip/ 是/ 对/ 一般/ 字符串/ 做/ 处理/ 的/ 压缩算法/ ,/ 并/ 没有/ 考虑/ XML/ 的/ 结构化/ 特点/ ,/ 缺少/ 相对/ 应/ 的/ 压缩/ 优化/ 方法/ ./ 在/ 学术界/ 很多/ 学者/ 同样/ 提出/ 了/ 一些/ XML/ 压缩/ 方法/ ,/ 以/ 优化/ XML/ 在/ 应用/ 中/ 的/ 性能/ ./ 文献/ [/ 1/ -/ 2/ ]/ 提出/ 的/ 压缩/ 方法/ 主要/ 思想/ 是/ 将/ XML/ 文档/ 拆/ 分成/ 属性/ 名/ 、/ 文本/ 数据/ 和/ 文档/ 结构/ 3/ 个/ 不同/ 的/ 部分/ 后/ 分别/ 进行/ 压缩/ ./ 在/ 压缩/ 每个/ 部分/ 时/ ,/ 还要/ 将/ 数据/ 划分/ 到/ 不同/ 的/ 容器/ 内/ 使得/ 每个/ 容器/ 内/ 的/ 数据/ 具有/ 一定/ 的/ 相关性/ ,/ 然后/ 再/ 根据/ 每个/ 容器/ 内/ 的/ 数据/ 特点/ 进行/ 压缩/ ./ Millau/ [/ 3/ -/ 4/ ]/ 采用/ 了/ 差异/ DTD/ (/ DocumentTypeDefinition/ )/ 树来/ 压缩/ 符合/ DTD/ 定义/ 的/ XML/ 数据/ ,/ 其/ 主要/ 思想/ 是从/ DTD/ 树/ 的/ 解析/ 过程/ 中/ 获得/ 语义/ 信息/ ,/ 通过/ XML/ 结构/ 信息/ 和/ 数据编码/ 形成/ 结构/ 流/ 和/ 内容/ 流/ 来/ 达到/ 压缩/ 的/ 目的/ ./ 文献/ [/ 5/ ]/ 用树型/ 结构/ 表示/ XML/ 文档/ ,/ 通过/ 提取/ 公共/ 子树来/ 压缩/ XML/ 数据/ 中/ 的/ 结构/ 冗余/ ./ 文献/ [/ 6/ ]/ 给出/ 了/ 第一个/ 支持/ 查询处理/ 的/ XML/ 压缩/ 方法/ ./ 它用/ 数值/ 来/ 表示/ 元素/ 名/ 和/ 属性/ 名/ ,/ 而/ 数据项/ 则/ 用/ 非自/ 适应/ 的/ 哈夫曼/ 编码/ 来/ 进行/ 压缩/ ./ 根据/ 某些/ 典型/ 应用/ 仅/ 访问/ XML/ 文档/ 中/ 的/ 某些/ 特定/ 元素/ 的/ 特点/ ,/ 文献/ [/ 7/ ]/ 中/ 的/ 方法/ 保持/ 应用/ 需要/ 的/ 元素/ 不变/ 而/ 将/ 其他/ 元素/ 用/ XSLT/ (/ ExtensibleStylesheetLanguageTransformations/ )/ 转换成/ CSV/ (/ CommaSeparatedValues/ )/ 的/ 格式/ ,/ 进而/ 达到/ 压缩/ XML/ 的/ 目的/ ./ 2013/ 年/ Lohrey/ 等/ 学者/ 在/ 文献/ [/ 8/ ]/ 中/ 提出/ 基于/ 有/ 向/ 无/ 环图/ 的/ XML/ 压缩/ 方法/ ,/ 用/ 无/ 等级/ 的/ 节点/ 标签/ 树来/ 表示/ XML/ 的/ 编码/ 二叉树/ ,/ 减少/ 了/ 标签/ 冗余/ ,/ 实现/ 了/ 数据压缩/ ./ 然而/ 上述/ 工作/ XML/ 压缩/ 方法/ 的/ 不足/ 都/ 是/ 处理/ 相对/ 复杂/ ,/ 需要/ 大量/ 的/ 计算/ 和/ 存储资源/ ,/ 难以/ 应用/ 在/ 资源/ 受限/ 的/ 物/ 联网/ 前端/ 设备/ ./ 2007/ 年/ W3C/ 标准/ 组织/ 发布/ 了/ 高效/ XML/ 交换/ 格式/ 第一版/ 公开/ 草案/ EXI/ [/ 9/ ]/ (/ EfficientXMLInter/ -/ change/ )/ ./ EXI/ 格式/ 使用/ 由/ 信息/ 和/ 正规/ 语言/ 理论/ 衍生/ 出/ 的/ 一种/ 混合/ 方法/ ,/ 利用/ 相对/ 简单/ 的/ 算法/ 以及/ 少量/ 的/ 数据类型/ ,/ 可靠/ 地/ 产生/ XML/ 事件/ 流/ 的/ 高效/ 编码/ ./ 虽然/ EXI/ 针对/ XML/ 文件/ 结构/ 做/ 了/ 优化/ 处理/ ,/ 可/ 应用/ 在/ 资源/ 受限/ 设备/ ,/ 但是/ 由于/ EXI/ 的/ 普适性/ ,/ 没有/ 面向/ 物/ 联网/ 的/ 特点/ 进行/ 方法/ 优化/ ,/ 在/ 数据压缩/ 率/ 方面/ 还有/ 提高/ 的/ 空间/ ./ 在/ 物/ 联网/ 领域/ 内/ ,/ 目前/ 已有/ 的/ 工作/ 中/ 微软/ 研究院/ 的/ Priyantha/ [/ 10/ ]/ 等/ 学者/ 于/ 2008/ 年/ 发表/ 了/ 首篇/ 关于/ Page4/ 物/ 联网/ web/ 服务/ 及其/ 系统/ 架构/ 的/ 论文/ ,/ 文章/ 提到/ 了/ 在/ 能量/ 和/ 计算能力/ 受限/ 的/ 情况/ 下/ 基于/ 传感器/ 节点/ 的/ XML/ 解析/ 方法/ 和/ 压缩算法/ ./ UCBerkley/ 大学/ 的/ Dawson/ -/ Haggerty/ [/ 11/ ]/ 等/ 研究/ 人员/ 在/ 2010/ 年/ 提出/ 了/ 首个/ 基于/ REST/ (/ REpresentationalStateTransfer/ )/ 风格/ 的/ 物理/ 信息/ 交换/ 协议/ sMap/ ,/ 该/ 协议/ 使用/ 了/ 编码/ 后/ 的/ JSON/ (/ JavaScriptObjectNotation/ )/ 数据/ 描述/ 格式/ 进行/ 数据/ 封装/ ,/ 减少/ 了/ 数据传输/ 量/ ./ Castellani/ 等/ 人/ 在/ 文献/ [/ 12/ ]/ 中/ 提出/ 了/ 物/ 联网/ 中/ 基于/ CoAP/ 和/ EXI/ 的/ web/ 服务/ 框架/ ./ CoAP/ (/ ConstrainedApplica/ -/ tionProtocol/ )/ 协议/ 是/ 国际标准/ 制定/ 组织/ 下/ CoRE/ (/ ConstrainedRESTfulEnvironment/ )/ 工作组/ 为/ 受限/ 节点/ 制定/ 相关/ 的/ REST/ 架构/ 风格/ 的/ 应用层/ 协议/ ,/ 以/ 取代/ HTTP/ 协议/ 在/ 受限/ 设备/ 中/ 运行/ ./ 文章/ 用/ CoAP/ 协议/ 传输/ EXI/ 格式/ 的/ 载荷/ 数据/ ,/ 在/ 资源/ 受限/ 的/ 节点/ 上/ 验证/ 了/ EXI/ 的/ 可行性/ ./ 2013/ 年/ Thoma/ 等/ 人/ [/ 13/ ]/ 提出/ 了/ 基于/ REST/ 的/ 传感器/ 网络/ ,/ 该/ 框架/ 采用/ Atom/ ①/ 和/ JSON/ ②/ 的/ 编码方式/ 减少/ 数据传输/ ,/ 提高/ 网络/ 性能/ ./ 同年/ Groppe/ [/ 14/ ]/ 等/ 研究/ 人员/ 提出/ 了/ 一种/ 嵌入式/ XML/ 语言/ ,/ 该/ 工作/ 通过/ 减少/ XML/ 查询/ 时/ 的/ 多余/ 计算/ 来/ 降低/ 处理/ XML/ 的/ 开销/ ,/ 缺点/ 是/ 该/ 工作/ 并/ 没有/ 减少/ XML/ 的/ 数据/ 冗余/ ./ 上述/ 内容/ 介绍/ 了/ 现有/ 水平/ 化/ 数据交换/ 协议/ 的/ 研究/ 现状/ ,/ 所述/ 水平/ 化/ 网络协议/ 栈如图/ 1/ 所示/ ./ 在/ 互联网/ 中/ 自下而上/ 采用/ 了/ TCP/ (/ TransmissionControlProtocol/ )/ 、/ HTTP/ 和/ XML/ 的/ 水平/ 网络协议/ 体系/ ./ 在/ 物/ 联网/ 相关/ 的/ 已有/ 工作/ 中/ sMap/ 采用/ 了/ UDP/ (/ UserDatagramProtocol/ )/ 、/ EBHTTP/ (/ EmbeddedBinaryHTTP/ )/ 和/ EncodedJSON/ 结合/ 的/ 水平/ 网络协议/ 体系/ ,/ 也/ 有/ 包括/ UDP/ 、/ CoAP/ 和/ EXI/ 结合/ 的/ 水平/ 网络协议/ 体系/ ./ 本文/ 提出/ 采用/ EasiDEF/ 与/ UDP/ 和/ CoAP/ 构成/ 的/ 新/ 的/ 适用/ 于物/ 联网/ 应用/ 特点/ 的/ 轻量级/ 水平/ 网络协议/ 体系/ ./ 综上所述/ 的/ 研究/ 背景/ 和/ 相关/ 工作/ 表明/ ,/ 目前/ 在/ 物/ 联网/ 前端/ 感知/ 网络/ 中/ 需要/ 一套/ 高/ 压缩率/ 和/ 低/ 开销/ 的/ 水平/ 化/ 轻量级/ 数据交换/ 协议/ ./ 3EasiDEF/ 协议/ 概述/ EasiDEF/ 是/ 一种/ 基于/ XML/ 的/ 物/ 联网/ 轻量级/ 数据交换/ 协议/ ,/ 解决/ 了/ 物/ 联网/ 不同/ 应用/ 系统/ 数据交换/ 协议/ 私有化/ 的/ 问题/ ,/ 同时/ 采用/ 了/ 一定/ 的/ 压缩/ 策略/ ,/ 降低/ 了/ 数据传输/ 量/ ,/ 优化/ 了/ 资源/ 受限/ 网络/ 的/ 性能/ ./ 为了/ 能够/ 设计/ 出/ 适合/ 物/ 联网/ 前端/ 感知/ 网络/ 的/ 数据交换/ 协议/ ,/ 首先/ 要/ 分析/ 现有/ 物/ 联网/ 应用/ 系统/ 中/ 前端/ 感知/ 网络/ 通常/ 具/ 的/ 数据/ 特点/ :/ (/ 1/ )/ 在/ 物/ 联网/ 的/ 应用/ 系统/ 中/ 前端/ 感知/ 资源类型/ 相对/ 固定/ ./ 一旦/ 感知/ 网络/ 被/ 部署/ ,/ 硬件/ 传感器/ 基本/ 不会/ 被/ 修改/ 和/ 更换/ ,/ 所以/ 感知/ 网络/ 中/ 感知/ 资源/ 在/ 一段/ 连续/ 的/ 时间/ 区间/ 内/ 是/ 相对/ 固定/ 的/ ./ 即使/ 是/ 异主/ 系统/ ,/ 面向/ 同类/ 应用/ 的/ 传感器/ 具有/ 种类/ 、/ 数量/ 、/ 密度/ 等/ 相似性/ 或/ 互补性/ ,/ 如/ 采用/ 通用/ 数据交换/ 协议/ ,/ 则/ 可/ 达到/ 资源共享/ ;/ (/ 2/ )/ 物/ 联网/ 系统/ 中/ 单次/ 请求/ 数据量/ 一般/ 比较/ 小/ ./ 因为/ 物/ 联网/ 应用/ 系统/ 的/ 前端/ 感知/ 网络/ 一般/ 采用/ 低成本/ 的/ 嵌入式/ 节点/ ,/ 计算/ 、/ 存储/ 和/ 通信/ 能力/ 非常/ 有限/ ,/ 尤其/ 在/ 环境监测/ 类/ 的/ 物/ 联网/ 应用/ 中/ ,/ 感知/ 数据/ 通常/ 为/ 温度/ 、/ 湿度/ 等/ 环境/ 信息/ ,/ 以/ 数据/ 内容/ 为主/ ,/ 图片/ 等/ 多媒体/ 内容/ 占据/ 较少/ 的/ 比例/ ,/ 所以/ 单次/ 的/ 数据量/ 通常/ 只/ 在/ 10/ ~/ 500byte/ 范围/ 内/ ;/ (/ 3/ )/ 在/ 环境监测/ 等/ 普遍/ 部署/ 的/ 物/ 联网/ 应用/ 中/ ,/ 数据/ 采集/ 往往/ 具有/ 周期性/ 和/ 规律性/ ./ 应用/ 中/ 用户/ 主动/ 发送/ 请求/ 获取数据/ 的/ 需求/ 较/ 少/ ,/ 数据/ 大多/ 采用/ 用户/ 订阅/ 然后/ 感知/ 节点/ 周期/ 上报/ 的/ 形式/ ,/ 数据/ 的/ 格式/ 和/ 内容/ 在/ 一段/ 时期/ 内/ 基本/ 不变/ ,/ 只有/ 采集/ 的/ 实时/ 数据/ 会/ 变化/ ./ 对于/ 这类/ 的/ 物/ 联网/ 应用/ ,/ 如果/ 每次/ 都/ 完整/ 传输/ 所有/ 信息/ ,/ 会/ 出现/ 连续/ 数据/ 上报/ 的/ 重复性/ 问题/ ,/ 可以/ 采用/ 增量/ 传输数据/ 的/ 方式/ 进行/ 数据压缩/ ./ 以/ 故宫博物院/ 文物/ 监测/ 系统/ [/ 15/ ]/ 和/ 无锡/ 太/ 湖水/ 污染监测/ 系统/ [/ 16/ ]/ 为例/ 说明/ 以上/ 列出/ 的/ 3/ 个物/ 联网/ 系统/ 前端/ 感知/ 网络/ 的/ 数据/ 特点/ ./ 首先/ 在/ 故宫博物院/ 文物/ 监测/ 系统/ 和/ 无锡/ 太/ 湖水/ 污染监测/ 系统/ 中/ 包含/ 的/ 感知/ 资源类型/ 和/ 对应/ 的/ 数据/ 量级/ 如表/ 1/ 所示/ ./ 从表/ 1/ 中/ 可以/ 看出/ 物/ 联网/ 前端/ 感知/ 网络/ 根据/ 实际/ 应用/ 的/ 不同/ 具有/ 相对/ 固定/ 和/ 专有/ 的/ 硬件/ 感知/ 资源/ ./ 资源/ 单次/ 通信/ 的/ 数据量/ 比较/ 小/ ,/ 通常/ 只有/ 几十/ 到/ 几百/ 字节/ ./ ①/ ②/ Page5/ 表/ 1/ 故宫博物院/ 文物/ 监察/ 系统/ 和/ 无锡/ 太湖/ 水污染/ 其次/ 本文/ 统计/ 了/ 在/ 无锡/ 太/ 湖水/ 污染监测/ 系统/ 和/ 故宫博物院/ 文物/ 监测/ 系统/ 中/ 1000/ 次/ 数据传输/ 中/ 包含/ 的/ 单次/ 请求/ 数据/ 与/ 周期/ 连续/ 上报/ 数据/ 的/ 分布/ 比例/ ,/ 如图/ 2/ 所示/ ./ 从图/ 2/ 中/ 可以/ 看出/ 在/ 物/ 联网/ 的/ 环境监测/ 类/ 系统/ 中/ 数据通信/ 方式/ 以/ 周期/ 上报/ 为主/ ,/ 单次/ 随机/ 请求/ 的/ 需要/ 比较/ 少/ ,/ 占/ 请求/ 总量/ 的/ 20/ %/ 以下/ ./ 该/ 统计/ 的/ 结果/ 验证/ 了/ 上述/ 总结/ 的/ 物/ 联网/ 数据/ 特点/ 的/ 第/ 3/ 点/ ,/ 即/ 周期性/ 连续/ 上报/ 的/ 数据/ 请求/ 在/ 总体/ 请求/ 中/ 占多数/ ./ 在/ 连续/ 数据/ 上报/ 的/ 过程/ 中/ ,/ 相邻/ 两次/ 的/ 数据/ 上报/ 的/ 控制/ 内容/ 基本相同/ ,/ 只有/ 实时/ 感知/ 数据/ 发生变化/ ,/ 因此/ 适合/ 在/ 这类/ 应用/ 中/ 采用/ 增量/ 数据传输/ 的/ 方法/ 来/ 压缩/ 数据/ ,/ 降低/ 数据传输/ 量/ ./ 根据上述/ 对物/ 联网/ 系统/ 前端/ 感知/ 网络/ 数据/ 特点/ 的/ 总结/ ,/ 本文/ 将/ 应用/ 数据/ 分为/ 单次/ 请求/ 数据/ 和/ 周期/ 连续/ 上报/ 数据/ 两种/ ./ EasiDEF/ 处理/ 流程图/ 如图/ 3/ 所示/ ./ 对于/ 单次/ 请求/ 数据/ 采用/ 三级/ 压缩/ 机制/ ,/ 包括/ :/ (/ 1/ )/ XML/ 文件/ 的/ 序列化/ ./ 将/ 格式化/ 的/ XML/ 文件/ 通过/ 序列化/ 的/ 操作/ 转换/ 为/ 字符串/ ,/ 减少/ XML/ 标签/ 冗图/ 3EasiDEF/ 的/ 整体/ 处理/ 流程图/ 4EasiDEF/ 设计/ 与/ 实现/ 本/ 节/ 详细/ 介绍/ EasiDEF/ 协议/ 的/ 设计/ 和/ 实现/ ./ 4.1/ 节/ 介绍/ 如何/ 序列化/ XML/ 文件/ ,/ 序列化/ 的/ 优点/ 和/ 解决/ 的/ 问题/ ./ 4.2/ 节对物/ 联网/ 应用/ 字典/ 的/ 设计/ 进行/ 详细/ 的/ 描述/ ./ 4.3/ 节/ 提出/ 改进/ 的/ LZW/ 算法/ EasiLZW/ ./ 4.4/ 节/ 提出/ 一种/ 增量/ 化/ 传输/ 的/ 数据/ 压缩算法/ ./ 余/ ,/ 便于/ 后期/ 处理/ ;/ (/ 2/ )/ 一种/ 标签/ 数值/ 映射/ 字典/ 机制/ ./ 设计/ 针对/ 不同/ 物/ 联网/ 应用/ 的/ 标签/ 字典/ ,/ 对要/ 传输/ 的/ XML/ 文件/ 进行/ 字典/ 映射/ ,/ 将/ 多/ 字节/ 字符串/ 标签/ 转换成/ 单字节/ 数值/ ;/ (/ 3/ )/ 改进/ 的/ LZW/ 数据/ 压缩算法/ EasiLZW/ ./ 对于/ 周期/ 连续/ 上报/ 数据/ 提出/ 增量/ 式/ 数据传输/ 压缩算法/ ,/ 通过/ 比较/ 传输/ 文件/ 与/ 标准文件/ 的/ 不同/ ,/ 传输/ 增量/ XML/ 文件/ ,/ 达到/ 压缩/ 传输数据/ ,/ 降低/ 传输数据/ 量/ 的/ 目的/ ./ 总体/ 来说/ ,/ EasiDEF/ 通过/ 三级/ 压缩/ 机制/ 和/ 增量/ 传输/ 压缩算法/ 实现/ 面向/ 物/ 联网/ 的/ 轻量级/ 数据交换/ 协议/ ./ 4.1/ XML/ 序列化/ XML/ 序列化/ 是/ 将/ 文件/ 转换成/ 字符串/ 的/ 过程/ ,/ 其/ 目的/ 一是/ 压缩文件/ ,/ 减少/ 冗余/ 数据/ ;/ 二是/ 预处理/ ,/ 方便/ 以/ 字符/ 流/ 进行/ 操作/ ./ 序列化/ 的/ 主要/ 思想/ 是/ 用/ 元素/ 标签/ (/ Tag/ )/ 来/ 表达/ XML/ 数据/ ,/ 包括/ XML/ 文件/ 中/ 的/ 元素/ (/ Element/ )/ 、/ 属性/ (/ Attribute/ )/ 、/ 文本/ (/ Text/ )/ ./ 对于/ 在/ 物/ 联网/ 前端/ 感知/ 网络/ 中不太/ 常用/ 的/ 注释/ (/ Comment/ )/ 等/ 内容/ 进行/ 了/ 精简/ ./ 图/ 4/ 和/ 图/ 5/ 给出/ 了/ 一个/ 简单/ 的/ XML/ 文件/ 及其/ 对应/ 序列化/ 后/ 的/ 结果/ ./ Page6/ 〈/ ?/ xmlversion/ =/ "/ 1.0/ "/ encoding/ =/ "/ UTF/ -/ 8/ "/ ?/ 〉/ 〈/ root/ 〉/ 〈/ Region/ 〉/ 22/ :/ 46/ :/ 27/ 〈/ // timestamp22/ :/ 46/ :/ 27/ 〈/ // timestamp/ 〉/ 〈/ // root/ 〉/ X4rootX6RegionX10RegionNameT4WestzzX4SinkX8SinkNameT5WumenzzX7FromNetT8NetWumenzzX10ToDatabaseT7DbWumenzzX2IPT1110/ ./ 22.0/ ./ 234zzX4PortT48080zzX7successT4truezzX3varX3mocT13IntEnviromentzzX3moiT14HouseEnvSensorzzX4codeT2IDzzX5valueT3101zzX9timestampT192012/ -/ 04/ -/ 0522/ :/ 46/ :/ 27zzX3varX3mocT13IntEnviromentzzX3moiT14HouseEnvSensorzzX4codeT11TemperaturezzX5valueT530/ ./ 53zzX9timestampT192012/ -/ 04/ -/ 0522/ :/ 46/ :/ 27zzZ/ 图/ 5/ 所示/ 的/ EasiDEF/ 内容/ 是/ 一组/ 标签/ 序列/ ,/ 如/ “/ X/ ”/ 标签/ 表示/ XML/ 文件/ 中/ 的/ 元素/ ,/ “/ X4root/ ”/ 表示/ 字符/ 长度/ 为/ 4/ 的/ 元素/ “/ root/ ”/ ,/ “/ X4root/ ”/ 是/ 一个/ 完整/ 意义/ 的/ 标签/ 单元/ ./ 从/ 上述/ 例子/ 可知/ 所有/ 的/ XML/ 内容/ 在/ EasiDEF/ 序列化/ 的/ 过程/ 中/ 都/ 以/ 标签/ 来/ 表示/ ,/ 将/ 元素/ 、/ 属性/ 等/ 内容/ 由/ 一个/ 标签/ 单元/ 来/ 表达/ ./ 标签/ 单元/ 包括/ 标签/ 本身/ (/ Tag/ )/ 、/ 数据/ 长度/ (/ Length/ )/ 和/ 数据/ 值/ (/ Value/ )/ ,/ 即/ TLV/ ./ 因为/ 在/ XML/ 中/ 元素/ 总是/ 以/ “/ 〈/ elementName/ 〉/ ”/ 和/ “/ 〈/ // elementName/ 〉/ ”/ 开始/ 和/ 结束/ ,/ 本身/ 就/ 存在/ 信息/ 的/ 冗余/ ,/ 标签/ 化/ 的/ 表示/ 方式/ 消除/ 了/ 这种/ 冗余/ ,/ 在/ 通常/ 情况/ 下/ 有效/ 的/ 减少/ 了/ 数据/ 的/ 长度/ ;/ 重复/ 出现/ 的/ 文本/ 只/ 显示/ 一次/ ,/ 显著/ 地/ 减少/ 了/ 冗余/ 信息/ ,/ 同时/ 压缩/ 了/ XML/ 的/ 数据/ 长度/ ./ 并且/ 传统/ 方式/ 在/ 解析/ XML/ 时/ ,/ 必须/ 逐个/ 字符/ 的/ 扫描/ ,/ 寻找/ XML/ 元素/ 名称/ 、/ 属性/ 名称/ 、/ 字符/ 文本/ 在/ 何处/ 结束/ ,/ 而/ XML/ 内容/ 的/ 标签/ 化/ ,/ 免除/ 了/ 这/ 一/ 繁琐/ 的/ 工作/ ./ 在/ EasiDEF/ 中/ ,/ 文本/ 数据/ 的/ 长度/ 信息/ 总是/ 出现/ 在/ 文本/ 之前/ ,/ 这样/ 我们/ 可以/ 预先/ 知道/ 将要/ 读取/ 处理/ 的/ 数据/ 长度/ ,/ 需要/ 分配/ 的/ 空间/ 大小/ ,/ 可以/ 整体/ 拷贝/ ,/ 而/ 不/ 像/ XML/ 那样/ 只有/ 读/ 到/ 结束符/ 时/ 才能/ 确定/ 文本/ 数据/ 的/ 大小/ ./ 所以/ 该/ 序列化/ 模块/ 具有/ 一定/ 的/ 预判/ 功能/ ,/ 可以/ 提前/ 处理/ 数据/ 所/ 需/ 的/ 系统资源/ ./ EasiDEF/ 完整/ 的/ 结构/ 布局/ 如图/ 6/ 所示/ ,/ 由/ 头部/ (/ EasiDEFHeader/ )/ 和/ 主体/ (/ EasiDEFBody/ )/ 构成/ ./ EasiDEF/ 头部/ 包括/ 标识/ EasiDEF/ 的/ 区别/ 标志/ 位/ (/ DistinguishingFlag/ )/ 、/ 头部/ 长度/ (/ Length/ )/ 、/ 版本号/ (/ Version/ )/ ,/ EasiDEF/ 主体/ 则/ 是/ 有/ 一串/ 标签/ 单元/ 构成/ 的/ ,/ 标签/ “/ Z/ ”/ 是/ 整个/ EasiDEF/ 结束/ 的/ 标志/ ./ 在/ EasiDEF/ 头部/ ,/ 区分/ 标志/ 位/ 占/ 2/ 个/ 字节/ ;/ 头部/ 长度/ 是/ 指/ 后续/ 的/ 版本/ 和/ 编码/ 控制/ 信息/ 所/ 占/ 的/ 字节数/ ,/ 用/ 一个/ 字节/ 表示/ ,/ 目前/ 取值/ 为/ 5/ ;/ EasiDEF/ 版本/ 取值/ V1/ ./ 0/ ,/ 版本号/ 为/ 数字/ 1/ ,/ 占/ 一个/ 字节/ ./ 对于/ EasiDEF/ 的/ 主体/ 是/ 有/ 多个/ 表达/ XML/ 组成部分/ 的/ 标签/ 单元/ 构成/ 的/ ,/ 最后/ 以/ “/ Z/ ”/ 结束/ ./ 如图/ 5/ 所示/ EasiDEF/ 中/ 的/ 数字/ 使用/ ASCII/ 码/ 字符/ 表示/ ,/ 但/ 在/ 实际/ 的/ EasiDEF/ 中是/ 二进制/ 的/ 数值/ ,/ 并非/ ASCII/ 码/ ./ EasiDEF/ 的/ 标签/ 化/ 方式/ 使得/ 处理器/ 不/ 需要/ 扫描/ 每/ 一个/ 字符/ ,/ 识别/ XML/ 结构/ 的/ 结束符/ ;/ 使用/ 数值/ 代替/ 文本/ 不仅/ 降低/ 信息冗余/ 、/ 压缩/ 数据/ 长度/ ,/ 还/ 使得/ 数据/ 的/ 比较/ 操作/ 更/ 快/ 、/ 更/ 容易/ ;/ 长度/ 前置/ 使得/ 块拷贝/ 成为/ 可能/ ,/ 也/ 避免/ 了/ 处理器/ 动态/ 的/ 分配/ 变/ 长/ 内存/ ./ 因此/ EasiDEF/ 的/ 解析/ 轻量化/ ,/ 解析/ 时/ 需要/ 的/ 系统资源/ 显著/ 减少/ ,/ 解析/ 的/ 速度/ 得到/ 很大/ 提高/ ./ 4.2/ 标签/ 数值/ 映射/ 字典/ 机制/ 在/ 这/ 一节/ 本文/ 提出/ 了/ EasiDEF/ 中/ 的/ 标签/ 数值/ 映射/ 字典/ 机制/ ./ 在/ 上述/ 第/ 2/ 节/ EasiDEF/ 概述/ 中/ 总结/ 了/ 物/ 联网/ 系统/ 中/ 前端/ 感知/ 网络/ 的/ 数据/ 特点/ ,/ 即物/ 联网/ 不同/ 应用/ 具有/ 不同/ 的/ 感知/ 资源类型/ ./ 同类/ 物/ 联网/ 应用/ 拥有/ 大量/ 相似/ 的/ 感知/ 资源/ ,/ 比如/ 在/ 环境监测/ 类/ 的/ 应用/ 中/ ,/ 基本/ 都/ 围绕/ 环境/ 信息/ :/ 温度/ 、/ 湿度/ 和/ 光照/ 等/ 参数/ ./ 因此/ 在/ XML/ 文件/ 描述/ 和/ 组织/ 感知/ 数据/ 的/ 时候/ ,/ 有/ 大量/ 相关/ 元素/ 标签/ 是/ 重复/ 和/ 冗余/ 的/ ./ 为了/ 解决/ 重复/ 标签/ 问题/ ,/ 充分利用/ 物/ 联网/ 前端/ 感知/ 网络/ 的/ 数据/ 特点/ ,/ 本文/ 提出/ 要/ 在/ 感知/ 节点/ 的/ 本地/ 建立/ 标签/ 数值/ 映射/ 字典/ ./ 根据/ 对/ 历史数据/ 进行/ 统计/ 和/ 分析/ ,/ 得到/ 出现/ 频率/ 较/ 高/ 的/ 关键词/ ,/ 建立/ 应用/ 字典/ ,/ 将/ 多/ 字节/ 字符串/ 转换成/ 单字节/ 的/ 数值/ ,/ 在/ XMLPage7/ 序列化/ 的/ 基础/ 上/ 进一步/ 压缩/ 了/ XML/ 文件/ ./ 本节/ 建立/ 的/ 物/ 联网/ 应用/ 字典/ 作为/ 下/ 一节/ 4.3/ 中/ EasiLZW/ 的/ 初始化/ 输入/ 字典/ ./ 图/ 7/ 是/ 以/ 环境监测/ 为/ 背景/ 的/ 物/ 联网/ 应用/ 字典/ 示例/ ./ 4.3/ 改进/ 的/ LZW/ 压缩算法/ EasiLZW1984/ 年/ Welch/ 在/ 文献/ [/ 17/ ]/ 中/ 提出/ 了/ LZW/ 算法/ ./ LZW/ 算法/ 的/ 压缩/ 原理/ 是/ 通过/ 分析/ 输入/ 字符/ 流/ ,/ 在/ 压缩/ 的/ 时候/ 自/ 适应/ 地/ 生成/ 字典/ ,/ 记录/ 此前/ 所有/ 出现/ 过/ 的/ 不/ 重复/ 的/ 字符串/ ./ 通过/ 比较/ 当前/ 输入/ 字符/ 流/ 与/ 字典/ 中/ 的/ 字符串/ 来/ 确定/ 输出/ 值/ ,/ 并/ 更新/ 字典/ ,/ 其/ 压缩/ 流程/ 中/ 没有/ 传输/ 开销/ ,/ 计算/ 相对/ 简单/ ./ 发送/ 方/ 和/ 接受方/ 都/ 包含/ 初始化/ 字典/ ,/ 基于/ 已经/ 存在/ 的/ 字典/ 词条/ 建立/ 新/ 的/ 字典/ 词条/ ./ 一旦/ 接收/ 到/ 数据/ ,/ 接收/ 方/ 就/ 可以/ 重新/ 建立/ 字典/ ./ 其/ 最大/ 的/ 特点/ 是/ 逻辑/ 简单/ ,/ 易于/ 实现/ ,/ 速度/ 快/ ./ 但是/ 经典/ LZW/ 算法/ 存在/ 以下/ 2/ 个/ 不足/ :/ (/ 1/ )/ 经典/ LZW/ 算法/ 针对/ 的/ 是/ 无/ 结构/ 的/ 字符/ 流/ ,/ 没有/ 考虑/ 结构化/ 数据/ 的/ 压缩/ 方法/ ./ 结构化/ 数据/ 一般/ 是/ 自描述/ 的/ ,/ 比如/ XML/ ,/ 数据/ 的/ 结构/ 和/ 内容/ 混在/ 一起/ ./ 结构化/ 的/ 数据/ 有/ 很多/ 信息/ 是/ 已知/ 的/ ,/ 但是/ LZW/ 无法/ 利用/ ;/ (/ 2/ )/ 用/ LZW/ 算法/ 压缩/ 时自/ 适应/ 形成/ 字典/ 的/ 过程/ 需要/ 积累/ 足够/ 的/ 长度/ ,/ 根据/ 本文/ 第/ 2/ 节中/ 所/ 总结/ 的/ 物/ 联网/ 数据/ 特点/ 可知/ ,/ 物/ 联网/ 系统/ 中/ 存在/ 的/ 信息/ 大多数/ 都/ 是/ 短/ 而/ 小/ 的/ ,/ 容易/ 造成/ 在/ 压缩/ 时/ 字典/ 无法/ 积累/ 相当/ 的/ 结构化/ 信息/ ,/ 也/ 就/ 不能/ 有效/ 地/ 压缩文件/ 中/ 的/ 冗余/ 信息/ ./ 为了/ 克服/ 上述/ 的/ 不足/ ,/ 本文/ 提出/ 了/ EasiLZW/ 算法/ ./ 其/ 主要/ 思想/ 是/ 编码/ 和/ 解码/ 不再/ 是/ 以/ 单个/ 字符/ 而是/ 以/ 字典/ 中/ 的/ 标准/ 子串/ 为/ 单位/ 进行/ ./ 而/ 标准/ 子串/ 是/ 针对/ 物/ 联网/ 应用/ 从/ XML/ 文件/ 中/ 提取/ 出/ 的/ 结构化/ 标签/ 的/ 字符串/ ,/ 这些/ 字符串/ 组成/ 了/ 4.2/ 节中/ 的/ 物/ 联网/ 应用/ 字典/ ./ 因此/ 将/ 4.2/ 节中/ 生成/ 的/ 典型/ 物/ 联网/ 专有/ 字典/ 作为/ EasiLZW/ 的/ 初始化/ 字典/ 输入/ 算法/ ./ EasiLZW/ 的/ 编码/ 和/ 解码/ 过程/ 如/ 算法/ 1/ 和/ 算法/ 2/ 所示/ ./ 算法/ 1/ ./ EasiLZW/ 编码/ 算法/ ./ 输入/ :/ 待/ 压缩/ 的/ 字符串/ s/ 输出/ :/ 字符串/ s/ 压缩/ 后/ 的/ 码串/ CODE1/ ./ STRING/ =/ NULL2/ ./ WHILEtherearestillinputsubstringDO3/ ./ SubSTRING/ =/ getinputsubstring4/ ./ IFSTRING/ +/ SubSTRINGisinthestringtable5/ ./ STRING/ =/ STRING/ +/ SubSTRING6/ ./ ELSE7/ ./ outputtheCODEforSTRING8/ ./ addSTRING/ +/ SubSTRINGtothestringtable9/ ./ STRING/ =/ SubSTRING10/ ./ ENDofIF11/ ./ ENDofWHILE12/ ./ OutputtheCODEfors/ 算法/ 2/ ./ EasiLZW/ 译码/ 算法/ ./ 输入/ :/ 待/ 解压缩/ 的/ 码串/ CODE/ 输出/ :/ 完成/ 解压缩/ 的/ 字符串/ s1/ ./ CODE/ =/ getfirstinputcode2/ ./ SubSTRING/ =/ getthetranslationfromCODE3/ ./ WHILEtherearestillinputcodesDO4/ ./ CODE/ _/ P/ =/ CODE5/ ./ SubSTRING/ _/ P/ =/ getthetranslationfromCODE/ _/ P6/ ./ CODE/ =/ getnextinputcode7/ ./ IFSubSTRINGisinthestringtablethen8/ ./ outputSubSTRING9/ ./ M/ =/ getthefirstunitstringinSubSTRING10/ ./ addM/ +/ SubSTRING/ _/ Ptothestringtable11/ ./ ELSE12/ ./ M/ =/ getthefirstunitstringinSUBSTRING/ _/ P13/ ./ outputM/ +/ SubSTRING/ _/ P14/ ./ addM/ +/ SubSTRING/ _/ Ptothestringtable15/ ./ ENDofIF16/ ./ ENDofWHILE17/ ./ Outputuncompresseds/ 对于/ 标准/ 子串/ 的/ 匹配/ 问题/ 我们/ 采用/ 滑动/ 窗口/ 的/ 机制/ 来/ 优化/ 标准/ 子串/ 的/ 匹配/ 过程/ ,/ 如图/ 8/ 所示/ ./ 该/ 滑动/ 窗口/ 包含/ 两个/ 指针/ P1/ 和/ P2/ ,/ P1/ 是/ 字符/ 流/ 输入/ 位置/ 的/ 当前/ 指针/ ,/ P2/ 是/ 搜索/ 标准/ 子串/ 时/ 的/ 超前/ 指针/ ./ P1/ 和/ P2/ 要/ 满足/ 以下/ 3/ 个/ 条件/ :/ (/ 1/ )/ 初始/ 时/ P2/ =/ P1/ ;/ (/ 2/ )/ 匹配/ 的/ 范围/ 在/ P2/ 到/ P1/ 之间/ ,/ 滑动/ 窗口/ 的/ 大小/ W/ 为/ 标准/ 子串/ 的/ 最大/ 长度/ 和/ 剩余/ 字符/ 流/ 长度/ 的/ 较/ 小值/ ;/ (/ 3/ )/ 结束/ 时/ P1/ =/ P2/ +/ 1/ ;/ 当/ 找到/ 匹配/ 的/ 标准/ 子串/ 时/ (/ P2/ =/ P1/ )/ ,/ 窗口/ 向前/ 滑动/ P2/ -/ P1/ 个/ 字节/ ./ 对于/ EasiLZW/ 的/ 算法/ 效率/ 分析/ 如下/ ./ 传统/ LZW/ 算法/ 大量/ 依赖/ 快速/ 的/ 字典/ 查找/ ,/ 若/ 直接/ 检索/ 字典/ ,/ 代/ Page8/ 码/ 执行/ 速度慢/ ,/ 其/ 时间/ 复杂度/ 为/ O/ (/ n2/ )/ ./ 因此/ 需要/ 对/ 字典/ 检索/ 进行/ 优化/ ,/ 引入/ Hash/ 表能/ 有效/ 提高/ 字符串/ 表/ 的/ 检索/ 效率/ 及/ 整体/ 执行/ 效率/ ./ Hash/ 表/ 的/ 容量/ 与/ 字典/ 的/ 容量/ 均/ 为/ 表中/ 不定/ 长/ 元素/ 的/ 代码/ 数组/ ,/ 用于/ 存放/ Hash/ 值/ 相同/ 的/ 字符串/ 代码/ ./ 一般/ Hash/ 函数/ 产生/ 的/ 重复/ 值较/ 少/ ,/ 这样/ 检索/ 字符串/ 所/ 需/ 比较/ 的/ 次数/ 将/ 大幅/ 减少/ ,/ 时间/ 复杂度/ 几乎/ 接近/ 于/ O/ (/ n/ )/ ,/ 从而/ 有效/ 提高/ 了/ 代码/ 的/ 执行/ 效率/ ./ 改进/ 的/ EasiLZW/ 算法/ 采用/ 物/ 联网/ 应用/ 字典/ ,/ 以/ 标准/ 子串/ 为/ 单位/ 进行/ 字典/ 匹配/ ,/ 删除/ 了/ 匹配/ 率/ 小/ 的/ 词条/ ,/ 并/ 根据/ 字典/ 中/ 每个/ 码字/ 的/ 使用/ 计/ 数值/ 大小/ 进行/ 排序/ ./ 一方面/ 减少/ 了/ 算法/ 的/ 空间/ 占用/ ,/ 释放/ 了/ 大量/ 无效/ 内存/ ;/ 另一方面/ ./ 对/ 有序/ Hash/ 表/ 可以/ 采取/ 二分/ 查找/ ,/ 其/ 时间/ 复杂度/ 降为/ O/ (/ logn/ )/ ./ 由此可见/ ,/ 改进/ 算法/ 降低/ 了/ 经典/ 算法/ 的/ 复杂度/ ./ 4.4/ 增量/ 式/ 数据/ 压缩算法/ 上述/ 4.1/ ~/ 4.3/ 节是/ 针对/ 单次/ 请求/ 的/ 数据类型/ 所/ 提出/ 的/ 压缩/ 处理/ 方法/ ,/ 本/ 节/ 针对/ 周期/ 连续/ 上报/ 数据/ ,/ 提出/ EasiDEF/ 增量/ 式/ 的/ 压缩算法/ ./ 由于/ 在/ 物/ 联网/ 系统/ 中/ 存在/ 较/ 多/ 的/ 周期性/ 数据传输/ ,/ 通常/ 在/ 一段/ 时期/ 内/ 传输/ 的/ 数据类型/ 和/ 结构/ 相对/ 固定/ ,/ 只有/ 实时/ 感知/ 的/ 数据/ 会/ 发生变化/ ./ 因此/ 如果/ 每次/ 都/ 完整/ 的/ 传输数据/ 包/ ,/ 会/ 造成/ 大量/ 的/ 带宽/ 浪费/ 和/ 能量消耗/ ./ 为此/ 本文/ 基于/ XML/ 提出/ 一种/ 增量/ 式/ 的/ 数据/ 压缩算法/ ./ 增量/ 压缩算法/ 的/ 主要/ 思想/ 是/ 首先/ 要/ 在/ 物/ 联网/ 前端/ 感知/ 节点/ 本地/ 存储/ 一个/ 标准/ 数据文件/ ./ 该/ 文件/ 可以/ 与/ 程序/ 一起/ 写入/ 感知/ 节点/ ,/ 固化/ 为/ 节点/ 文件/ ./ 将/ 每次/ 传输/ 的/ 数据文件/ 作为/ 目标/ 文件/ ,/ 然后/ 计算/ 和/ 已经/ 存储/ 在/ 感知/ 终端/ 的/ 标准文件/ 之间/ 的/ 增量/ 变化/ 文件/ ./ 当/ 两/ 文件/ 间/ 的/ 相似性/ 超过/ 了/ 预先/ 设定/ 的/ 阈值/ 时/ ,/ 就/ 进行/ 增量/ 压缩/ ,/ 计算/ 出/ 一个/ 增量/ 变化/ 文件/ ,/ 最后/ 只/ 需/ 把/ 这个/ 增量/ 变化/ 文件/ 和/ 参考/ 文件/ 存储/ 在/ 感知/ 节点/ 中/ 即可/ ./ 增量/ 式/ 数据/ 压缩算法/ 的/ 输入/ 为/ 一个/ 待/ 传输/ 文件/ (/ 记为/ T/ )/ 和/ 一个/ 参考/ 文件/ (/ 记为/ R/ )/ ,/ 输出/ 为/ 一个/ 增量/ 更新/ 文件/ (/ 记为/ updateFile/ )/ ./ 通过/ 比较/ 待/ 传输/ 文件/ T/ 和/ 参考/ 文件/ R/ ,/ 得到/ 增量/ 比较/ 文件/ (/ 记为/ VaryFile/ (/ T/ ,/ R/ )/ )/ ,/ 该/ 增量/ 比较/ 文件/ 记录/ 了/ 需要/ 周期性/ 更新/ 的/ 数据/ 在/ 原文件/ 中/ 的/ 位置/ 和/ 结构/ ,/ 因此/ 算法/ 可以/ 对照/ 文件/ R/ 的/ 内容/ 对/ 文件/ T/ 进行/ 压缩/ ,/ 将/ 新/ 产生/ 的/ 传感/ 数据/ sensorData/ 按照/ 增量/ 比较/ 文件/ 中/ 记录/ 的/ 数据/ 位置/ 更新/ ,/ 并/ 输出/ 更新/ 后/ 的/ 文件/ updateFile/ ./ 其/ 压缩/ 过程/ 如/ 算法/ 3/ 所示/ ./ 算法/ 3/ ./ 增量/ 式/ 传输/ 压缩算法/ ./ 输入/ :/ 待/ 压缩文件/ newFile/ ,/ 参考/ 文件/ referenceFile/ 输出/ :/ 增量/ 变化/ 文件/ updateFile1/ ./ writeFile/ (/ referenceFile/ )/ ;/ // // 初始化/ 写入/ 参考/ 文件/ 2/ ./ WHILEtherearestillnewsensingdata3/ ./ IFreferenceFileisupdated/ // // 参考/ 文件/ 已/ 更新/ 4/ ./ VaryFile/ (/ T/ ,/ R/ )/ =/ Compare/ (/ newFile/ ,/ 5/ ./ updateFile/ =/ Generate/ (/ VaryFile/ (/ T/ ,/ R/ )/ ,/ 6/ ./ Send/ (/ increaseFile/ )/ ;/ 7/ ./ ELSE8/ ./ updateFile/ =/ Generate/ (/ VaryFile/ (/ T/ ,/ R/ )/ ,/ 9/ ./ Send/ (/ increaseFile/ )/ ;/ 10/ ./ ENDofIF11/ ./ ENDofWHILE12/ ./ EXIT/ // // 没有/ 新/ 数据/ 产生/ 则/ 退出/ 5/ 实验/ 结果/ 与/ 分析/ 本/ 节/ 通过/ 实验/ 分析/ EasiDEF/ 的/ 压缩率/ 和/ 处理速度/ ,/ 以/ 验证/ 该/ 协议/ 的/ 性能/ 表现/ ./ 因为/ EasiDEF/ 协议/ 是/ 基于/ XML/ 标准/ 设计/ 和/ 实现/ 的/ ,/ 而/ XML/ 的/ 自描述/ 特性/ 可以/ 实现/ 不同/ 系统/ 之间/ 的/ 数据交换/ ,/ 保证/ 了/ 水平/ 性/ ,/ 所以/ 本/ 节/ 没有/ 专门/ 设计/ 实验/ 场景/ 验证/ 协议/ 的/ 水平/ 性/ ,/ 而是/ 把/ 实验/ 的/ 重点/ 放在/ EasiDEF/ 的/ 轻量/ 性/ 验证/ 上/ ./ 实验/ 基于/ ARM/ 的/ 嵌入式/ S3C6410/ 的/ 平台/ 设计/ 和/ 实现/ ,/ 该/ 平台/ CPU/ 为/ ARM1176JZF/ -/ S/ ,/ 主频/ 664MHz/ ,/ RAM256M/ ./ 数据/ 内容/ 基于/ CoAP/ [/ 18/ ]/ 协议/ 传输/ ./ 实验/ 对比/ 的/ 对象/ 包括/ XML/ 、/ GZIP/ 、/ EXI/ 和/ 本文/ 的/ EasiDEF/ ./ XML/ 为/ 原始/ 文件/ ,/ GZIP/ 、/ EXI/ 和/ EasiDEF/ 都/ 是/ 以/ XML/ 为/ 输入/ 文件/ 经过/ 压缩/ 后/ 的/ 输出/ 文件/ ./ GZIP/ 采用/ 了/ 标准/ 实现/ 方案/ ①/ ./ EXI/ 采用/ 了/ EfficientXML/ 规范/ V1/ ./ 0/ 版本/ ②/ C语言/ 版本/ 的/ 实现/ ./ 在/ 实验/ 的/ 过程/ 中/ 一共/ 设计/ 了/ 4/ 类/ 典型/ 应用/ 场景/ :/ 场景/ 1/ ./ 互联网/ 中/ 传统/ 的/ XML/ 文件/ 实验/ ./ 该/ 实验/ 采用/ 了/ 互联网/ 已有/ 的/ XML/ 文件/ 测试/ 集/ ③/ ,/ 包括/ 以下/ 4/ 类/ :/ (/ 1/ )/ TPC/ -/ D/ ./ 基于/ 交易/ 基准/ 测试/ 集/ 人工/ 生成/ 的/ ①/ ②/ ③/ Page9/ 关系数据库/ ;/ 信息/ ;/ 注释/ 剧本/ ;/ (/ 2/ )/ Shakespeare/ ./ 结构化/ 信息/ 的/ 莎士比亚/ 戏剧/ (/ 3/ )/ SWISS/ -/ PROT/ ./ 基因/ 序列/ 和/ 蛋白质/ 数据/ 的/ (/ 4/ )/ Treebank/ ./ 华尔街日报/ 文章/ 的/ 语言/ 注解/ ./ 场景/ 2/ ./ 故宫博物院/ 文物/ 监测/ 系统/ 单次/ 请求/ 实验/ ./ 场景/ 3/ ./ 无锡/ 太/ 湖水/ 污染监测/ 系统/ 单次/ 请求/ 实验/ ./ 场景/ 4/ ./ 故宫博物院/ 文物/ 监测/ 系统/ 数据/ 周期/ 连续/ 上报/ 实验/ ./ 实验/ 中/ 采用/ 了/ 压缩率/ 和/ 处理速度/ 两个/ 评价/ 指标/ ./ 在/ 本文/ 中/ 压缩率/ 定义/ 为/ :/ 压缩率/ =/ (/ 压缩/ 后/ 文档/ 大小/ // 压缩/ 前/ 原始/ 文档/ 大小/ )/ %/ ./ 处理速度/ 定义/ 为/ 事务/ 数/ // 秒/ TransactionsPerSecond/ (/ TPS/ )/ :/ 处理速度/ =/ 事务/ 数量/ // 处理事务/ 的/ 总/ 时间/ ./ 压缩率/ 衡量/ 算法/ 的/ 压缩/ 效果/ ,/ 压缩率/ 越小/ 代表/ 压缩/ 效果/ 越/ 好/ ;/ 处理速度/ 衡量/ 算法/ 的/ 时间/ 开销/ ,/ 处理速度/ 越大/ 代表/ 算法/ 性能/ 越好/ ./ 下文/ 针对/ 4/ 个/ 实验/ 场景/ 作/ 逐一/ 的/ 实验/ 结果/ 分析/ ./ 5.1/ 互联网/ 普通/ 应用/ 场景/ 本文/ 的/ 实验/ 场景/ 1/ 对/ 互联网/ 系统/ 中/ 传统/ 的/ XML/ 文件/ 进行/ 处理/ 和/ 压缩/ ,/ 在/ XML/ 原文件/ ,/ GZIP/ 、/ EXI/ 和/ EasiDEF/ 中/ 对比/ 压缩率/ 和/ 处理速度/ ./ 场景/ 1/ 压缩率/ 的/ 实验/ 的/ 结果/ 如图/ 9/ 所示/ ./ 从图/ 中/ 可知/ GZIP/ 、/ EXI/ 和/ EasiDEF/ 对/ XML/ 原文件/ 都/ 有/ 不同/ 程度/ 的/ 压缩/ ./ 在/ 这/ 一/ 实验/ 场景/ 中/ ,/ 本文/ 的/ EasiDEF/ 压缩/ 效果/ 最好/ ,/ 压缩/ 范围/ 在/ 20.01/ %/ ~/ 54.93/ %/ ,/ EXI/ 压缩/ 效果/ 介于/ EasiDEF/ 和/ GZIP/ 之间/ ,/ 压缩/ 范围/ 在/ 36.46/ %/ ~/ 62.23/ %/ ,/ GZIP/ 的/ 压缩/ 效果/ 最差/ ,/ 压缩/ 范围/ 在/ 35.41/ %/ ~/ 69.74/ %/ ./ 综合/ 看/ EXI/ 与/ EasiDEF/ 的/ 压缩/ 效果/ 接近/ ,/ 都/ 比/ GZIP/ 有/ 30/ %/ 的/ 效果/ 提升/ ./ 图/ 9/ 互联网/ 普通/ 应用/ 单次/ 请求/ 场景/ :/ XML/ 、/ GZIP/ 、/ 从/ 场景/ 1/ 压缩率/ 的/ 实验/ 结果/ 可知/ 由于/ GZIP/ 是/ 对/ 字符串/ 的/ 压缩算法/ ,/ 没有/ 针对/ XML/ 的/ 结构化/ 特点/ 进行/ 优化/ ,/ 所以/ GZIP/ 的/ 压缩/ 效果/ 最差/ ./ EXI/ 则/ 是/ 针对/ 一般/ XML/ 的/ 压缩算法/ ,/ 对/ 结构化/ 的/ 内容/ 做/ 了/ 处理/ 和/ 压缩/ ,/ 所以/ 压缩/ 效果/ 比/ GZIP/ 有所提高/ ./ EasiDEF/ 针对/ XML/ 文件/ 进行/ 了/ 3/ 步/ 压缩/ 处理/ ,/ 减少/ 了/ 数据/ 冗余/ ,/ 压缩/ 效果/ 也/ 要/ 优于/ GZIP/ ;/ 同时/ 说明/ 了/ EasiDEF/ 的/ 水平/ 性/ ,/ 可以/ 适用/ 于/ 一般/ 的/ XML/ 文件/ ./ 但是/ 由于/ EasiDEF/ 面向/ 物/ 联网/ 应用/ 的/ 数据/ 特点/ 进行/ 了/ 优化/ ,/ 而/ 场景/ 1/ 是/ 互联网/ 中/ 的/ 一般/ XML/ 文件/ ,/ 虽然/ EasiDEF/ 的/ 压缩/ 效果/ 比/ EXI/ 略优/ ,/ 在/ 此/ 场景/ 下/ 没有/ 充分体现/ EasiDEF/ 在/ 物/ 联网/ 系统/ 中/ 的/ 压缩/ 优势/ ./ 图/ 9/ 是/ 对/ 场景/ 1/ 压缩率/ 的/ 讨论/ ./ 提升/ 压缩/ 效果/ 可以/ 降低/ 数据传输/ 量/ ,/ 节约资源/ 受限/ 节点/ 的/ 通信/ 能量/ ./ 同时/ 必须/ 要/ 考虑/ 压缩算法/ 的/ 效率/ ,/ 本文/ 采用/ 处理速度/ (/ TPS/ )/ 来/ 衡量/ 算法/ 的/ 时间/ 开销/ ./ 图/ 10/ 对/ 场景/ 1/ 中/ 的/ 处理速度/ 进行/ 了/ 讨论/ ./ 在/ 实验/ 的/ 时候/ 本文/ 以/ GZIP/ 为/ 标准/ ,/ 对/ EXI/ 和/ EasiDEF/ 做/ 归一化/ ,/ 例如/ 当/ EasiDEF/ 的/ 处理速度/ 为/ 200/ %/ 时/ ,/ 表示/ 处理速度/ 是/ GZIP/ 的/ 2/ 倍/ ,/ 即/ 压缩/ 相同/ 文件/ 时/ EasiDEF/ 的/ 时间/ 开销/ 是/ GZIP/ 的/ 一半/ ./ 从图/ 10/ 可知/ 在/ 多数/ 情况/ 下/ ,/ EXI/ 和/ EasiDEF/ 的/ 处理速度/ 要/ 优于/ GZIP/ ,/ 平均/ 提高/ 250/ %/ ./ 而/ EXI/ 的/ 处理速度/ 又/ 比/ 本文/ 提出/ 的/ EasiDEF/ 平均/ 约/ 有/ 10/ %/ 的/ 提升/ ./ 图/ 10/ 互联网/ 普通/ 应用/ 单次/ 请求/ 场景/ :/ XML/ 、/ GZIP/ 、/ 场景/ 1/ 处理速度/ 的/ 实验/ 结果/ 反映/ 了/ GZIP/ 、/ EXI/ 和/ EasiDEF/ 压缩算法/ 的/ 不同/ ./ GZIP/ 是/ 基于/ LZ77/ [/ 19/ ]/ 与/ 哈/ 弗曼/ 编码/ 的/ 组合体/ ,/ 在/ 压缩/ 数据/ 时/ 通常/ 要/ 付出/ 一定/ 的/ 代价/ 创建/ 和/ 维护/ 字典/ ,/ 同时/ 需要/ 遍历/ 二叉树/ ,/ 因此/ 处理速度/ 最低/ ./ EXI/ 与/ EasiDEF/ 是/ 轻量级/ 协议/ ,/ 在/ 压缩/ 处理/ 的/ 过程/ 中/ 采用/ 了/ 相对/ 简单/ 的/ 算法/ ,/ 因/ Page10/ 此/ 处理速度/ 要/ 优于/ GZIP/ ./ 因为/ 本文/ 的/ EasiDEF/ 使用/ 了/ 改进/ 的/ LZW/ 算法/ ,/ 需要/ 对物/ 联网/ 应用/ 字典/ 进行/ 遍历/ ,/ 代价/ 要/ 大于/ EXI/ 的/ 压缩算法/ ,/ 所以/ 处理速度/ 低于/ EXI/ ./ 5.2/ 单次/ 请求/ 的/ 实验/ 场景/ 4.1/ 节中/ 分析/ 了/ 场景/ 1/ 的/ 实验/ 结果/ ,/ 验证/ 了/ EasiDEF/ 在/ 互联网/ 场景/ 下/ 的/ 压缩率/ 高/ 和/ 处理速度/ 大/ 的/ 特点/ ./ 因为/ EasiDEF/ 是/ 面向/ 物/ 联网/ 的/ 轻量级/ 数据交换/ 协议/ ,/ 所以/ 本文/ 将/ 场景/ 2/ ~/ 4/ 设计/ 在/ 物/ 联网/ 的/ 系统/ 应用/ 中/ ./ 具体/ 的/ 场景/ 是/ 基于/ 故宫博物院/ 文物/ 监测/ 系统/ 和/ 无锡/ 太/ 湖水/ 污染监测/ 系统/ 两个/ 实际/ 系统/ 而/ 设计/ 的/ ./ 原始/ XML/ 文件/ 封装/ 的/ 感知/ 数据/ 也/ 都/ 来源于/ 这/ 两个/ 实际/ 系统/ 运行/ 中/ 的/ 实时/ 数据/ ./ 为了/ 模拟/ 物/ 联网/ 应用/ 系统/ 在/ 实际/ 运行/ 中/ 的/ 情况/ ,/ 本文/ 设计/ 了/ 5/ 种/ 网络/ 传输/ 操作/ :/ 发起/ 连接/ (/ connect/ )/ ,/ 激活/ 连接/ (/ activate/ )/ ,/ 传输数据/ (/ data/ )/ ,/ 关闭/ 连接/ (/ deactivate/ )/ 和/ 断开连接/ (/ disconnect/ )/ ./ 这/ 5/ 种/ 操作/ 组成/ 了/ 物/ 联网/ 应用/ 系统/ 数据/ 请求/ 和/ 响应/ 的/ 一般/ 过程/ ./ 实验设计/ 和/ 实现/ 了/ 这/ 5/ 中/ 操作/ 的/ XML/ 文件/ ,/ 通过/ GZIP/ 、/ EXI/ 和/ EasiDEF/ 进行/ 对比/ 实验/ ./ 对于/ 单次/ 请求/ 的/ 实验/ 结果/ 如图/ 11/ ~/ 图/ 14/ 所示/ ,/ 在/ 实验/ 场景/ 2/ 和/ 3/ 下/ 分别/ 测试/ 了/ GZIP/ 、/ EXI/ 和/ EasiDEF/ 基于/ 故宫博物院/ 文物/ 监测/ 系统/ 和/ 无锡/ 太/ 湖水/ 污染监测/ 系统/ 的/ 感知/ 数据压缩/ 率/ 和/ 处理速度/ ./ 从图/ 11/ 和/ 图/ 13/ 可知/ EasiDEF/ 的/ 压缩/ 效果/ 要/ 明显/ 优于/ EXI/ 和/ GZIP/ ./ 故宫/ 文物/ 监测/ 系统/ 中/ EasiDEF/ 的/ 压缩率/ 在/ 8.17/ %/ ~/ 41.14/ %/ ,/ EXI/ 在/ 18.62/ %/ ~/ 47.51/ %/ ,/ GZIP/ 在/ 16.01/ %/ ~/ 107.1/ %/ ./ 这里/ 特别/ 注意/ 到/ GZIP/ 会/ 出现/ 放大/ XML/ 原文件/ 的/ 情况/ ./ 在/ 5/ 个/ 请求/ 操作/ 中/ ,/ connect/ ,/ activate/ ,/ deactivate/ 和/ disconnect/ 属于/ 控制/ 操作/ ,/ 数据/ 的/ 冗余度/ 比较/ 小/ ./ 因图/ 11/ 故宫博物院/ 文物/ 监测/ 系统/ 中/ 单次/ 请求/ 场景/ :/ XML/ 、/ 图/ 12/ 故宫博物院/ 文物/ 监测/ 系统/ 中/ 单次/ 请求/ 场景/ :/ XML/ 、/ 图/ 13/ 无锡/ 太湖/ 水污染/ 系统/ 中/ 单次/ 请求/ 场景/ :/ XML/ 、/ 图/ 14/ 无锡/ 太湖/ 水污染/ 系统/ 中/ 单次/ 请求/ 场景/ :/ XML/ 、/ GZIP/ 、/ 此/ 从/ 图/ 11/ 和/ 图/ 13/ 中/ 可知/ ,/ 前/ 4/ 种/ 操作/ 对应/ 的/ XML/ 文件/ ,/ 在/ 压缩率/ 方面/ EasiDEF/ 虽然/ 优于/ EXI/ ,/ 但是/ 相对/ 比较/ 接近/ ,/ 没有/ 明显/ 的/ 优势/ ./ 对于/ data/ 操作/ ,/ 因/ Page11/ 为/ 包含/ 大量/ 的/ 感知/ 数据/ ,/ 描述/ 同类/ 感知/ 数据/ 的/ 标签/ 相同/ ,/ 会/ 产生/ 较/ 多/ 的/ 重复/ 标签/ 元素/ ,/ 造成/ 冗余/ ./ 因此/ 此时/ EasiDEF/ 的/ 压缩/ 效果/ 要/ 远/ 好/ 于/ EXI/ 和/ GZIP/ ,/ 平均/ 约/ 有/ 2/ ~/ 3/ 倍/ 压缩/ 效果/ 的/ 提升/ ./ 单次/ 请求/ 数据处理/ 速度/ 的/ 结果/ 如图/ 12/ 和/ 图/ 14/ 所示/ ./ 从图/ 中/ 可知/ EXI/ 和/ EasiDEF/ 比/ ,/ GZIP/ 的/ 处理速度/ 有/ 2/ ~/ 3/ 倍/ 的/ 提升/ ,/ EXI/ 与/ EasiDEF/ 相比/ ,/ EasiDEF/ 的/ 处理速度/ 要/ 低于/ EXI10/ %/ ~/ 20/ %/ ,/ 原因/ 已经/ 在/ 4.1/ 节中/ 进行/ 了/ 分析/ ./ 5.3/ 周期/ 上报/ 数据/ 实验/ 场景/ 对于/ 周期/ 上报/ 数据/ 的/ 实验/ 结果/ 如图/ 15/ 所示/ ./ 实验/ 的/ 场景/ 基于/ 无锡/ 太/ 湖水/ 污染监测/ 系统/ ./ 从图/ 中/ 可知/ EasiDEF/ 的/ 压缩/ 效果/ 要/ 远远/ 好于/ EXI/ 和/ GZIP/ ,/ EasiDEF/ 的/ 压缩率/ 在/ 2/ %/ 左右/ ,/ EXI/ 在/ 10/ %/ ~/ 20/ %/ ,/ GZIP/ 在/ 20/ %/ 左右/ ./ 这/ 是因为/ 在/ 周期/ 上报/ 的/ 数据传输/ 中/ ,/ EasiDEF/ 采用/ 了/ 增量/ 传输/ 的/ 压缩算法/ ,/ 实际/ 传输/ 的/ 数据/ 内容/ 是/ 文件/ 之间/ 的/ 差异/ ,/ 即/ 实时/ 变化/ 的/ 感知/ 数据/ ./ 而/ EXI/ 与/ GZIP/ 依然/ 是/ 全/ 文件传输/ ,/ 文件/ 内容/ 大量/ 冗余/ ./ 因此/ EasiDEF/ 比/ EXI/ 和/ GZIP/ 有/ 5/ ~/ 10/ 倍/ 的/ 压缩/ 效果/ 提升/ ./ 图/ 15/ 故宫博物院/ 文物/ 监测/ 系统/ 中/ 周期/ 上报/ 数据/ 的/ XML/ 、/ 6/ 总结/ 与/ 展望/ 本文/ 针对/ 现有/ 物/ 联网/ 系统/ 应用/ 中/ 数据交换/ 协议/ 垂直/ 私有化/ 的/ 问题/ ,/ 提出/ 了/ 一种/ 新型/ 的/ 水平/ 化/ 轻量级/ 物/ 联网/ 数据交换/ 协议/ EasiDEF/ ./ 该/ 协议/ 对于/ 单次/ 请求/ 数据/ 和/ 周期/ 连续/ 上报/ 数据/ 两种/ 类型/ 采取/ 了/ 不同/ 的/ 处理/ 方式/ ./ 针对/ 单次/ 出现/ 的/ 数据/ 请求/ 采用/ 三级/ 压缩/ 机制/ ,/ 有效/ 提高/ 了/ XML/ 的/ 压缩率/ 和/ 处理/ 效率/ ./ 而/ 针对/ 周期性/ 连续/ 数据/ 上报/ 应用/ 模式/ ,/ 对/ 连续/ 数据传输/ 使用/ 增量/ 式/ 文件/ 压缩算法/ ./ 在/ 保证/ 协议/ 低/ 开销/ 的/ 前提/ 下/ ,/ EasiDEF/ 能够/ 大幅/ 压缩/ XML/ 文件/ ,/ 降低/ 了/ 数据传输/ 量/ ,/ 为物/ 联网/ 系统/ 前端/ 感知/ 网络/ 提供/ 了/ 水平/ 化/ 轻量级/ 的/ 数据交换/ 协议/ ./ 因为/ 本文/ 基于/ CoAP/ 协议/ 传输/ EasiDEF/ 封装/ 好/ 的/ 数据/ ,/ 而/ CoAP/ 协议/ 本身/ 存在/ 因/ 设备/ 休眠/ 导致/ 的/ 节点/ 响应/ 率/ 低等/ 问题/ ./ 所以/ 在/ 未来/ 的/ 工作/ 中/ ,/ 我们/ 将/ 设计/ 一种/ 新型/ 的/ 应用层/ 传输/ 协议/ ,/ 然后/ 将/ EasiDEF/ 与/ 该/ 协议/ 综合/ 考虑/ 如何/ 提高/ 受限/ 网络/ 的/ 性能/ 表现/ ./ 致谢/ 审稿/ 专家/ 和/ 编辑/ 为/ 本文/ 提出/ 了/ 宝贵/ 的/ 修改意见/ 和/ 建议/ ,/ 作者/ 在/ 此/ 表示/ 衷心/ 的/ 感谢/ !/ 

