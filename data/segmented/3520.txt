Page1/ 基于/ 数据服务/ 的/ 数据/ 组合/ 视图/ 的/ 优化/ 更新/ 张鹏/ 1/ )/ ,/ 2/ )/ 王桂玲/ 2/ )/ 季光/ 1/ )/ ,/ 2/ )/ 刘晨/ 2/ )/ 1/ )/ (/ 中国科学院计算技术研究所/ 软件/ 集成/ 与/ 服务/ 计算/ 研究/ 分中心/ 北京/ 100190/ )/ 2/ )/ (/ 中国科学院/ 研究生院/ 北京/ 100049/ )/ 摘要/ 数据服务/ 为/ 实现/ 跨域/ 数据/ 集成/ 提供/ 了/ 统一/ 的/ 数据模型/ ,/ 并且/ 可/ 通过/ 组合/ 的/ 方式/ 支持/ 用户/ 定义数据/ 视图/ ,/ 当/ 底层/ 的/ 数据服务/ 发生/ 数据/ 更新/ 时/ ,/ 数据/ 更新/ 需要/ 自下而上/ 经过/ 多个/ 中间/ 复合/ 数据服务/ 传播/ 到/ 顶层/ 的/ 数据/ 视图/ ./ 一类/ 挑战性/ 问题/ 是/ ,/ 如何/ 在/ 这个/ 传播/ 的/ 过程/ 中/ 保障/ 数据/ 视图/ 的/ 更新/ 效率/ ./ 为此/ ,/ 文中/ 规范化/ 数据服务/ 的/ 操作/ 及其/ 性质/ ,/ 并且/ 根据/ 用户/ 的/ 组合/ 结果/ ,/ 通过/ 复合/ 数据服务/ 的/ 等价/ 变换/ ,/ 生成/ 运行/ 效果/ 相同/ 的/ 多种/ 数据服务/ 组合/ 方案/ ./ 同时/ ,/ 建立/ 复合/ 数据服务/ 的/ 更新/ 代价/ 模型/ ,/ 该/ 模型/ 能够/ 利用/ 底层/ 数据服务/ 的/ 更新/ 频率/ 和/ 请求/ 频率/ ,/ 衡量/ 复合/ 数据服务/ 的/ 更新/ 代价/ ./ 基于/ 该/ 模型/ ,/ 文中/ 提出/ 最小化/ 更新/ 代价/ 的/ 数据/ 视图/ 的/ 更新/ 优化/ 算法/ ,/ 利用/ 该/ 算法/ 可以/ 为/ 用户/ 推荐/ 优化/ 的/ 数据服务/ 组合/ 方案/ ./ 实验/ 表明/ ,/ 该/ 方法/ 能够/ 提高/ 数据/ 视图/ 的/ 更新/ 效率/ ./ 关键词/ 数据服务/ ;/ 数据/ 视图/ ;/ 数据服务/ 组合/ ;/ 优化/ 更新/ 1/ 引言/ 解决/ 跨域/ 数据/ 集成/ 问题/ ,/ 越来越/ 多/ 的/ 信息系统/ 以/ 服务/ 的/ 形式/ 对外/ 发布/ 异构/ 数据/ [/ 1/ ]/ ,/ 形成/ 了/ 大量/ 的/ 数据服务/ ./ 通过/ 组合/ 这些/ 服务/ ,/ 可以/ 实现/ 跨域/ 异构/ 数据/ 的/ 随着/ 互联网/ 和/ 服务/ 计算技术/ 的/ 快速/ 发展/ ,/ 为了/ 集成/ ,/ 满足/ 业务/ 信息管理/ 、/ 业务流程/ 管理/ 等/ 应用/ 的/ 需/ Page2/ 求/ [/ 2/ -/ 3/ ]/ ./ 然而/ ,/ 现有/ 的/ 服务/ 组合/ 方法/ 及/ 工具/ 通常/ 以/ 业务/ 逻辑/ 为/ 中心/ ,/ 服务/ 所/ 输出/ 的/ 数据/ 仅/ 被/ 视为/ 业务流程/ 的/ 中间/ 结果/ ,/ 无法/ 直接/ 支持/ 以/ 用户/ 为/ 中心/ 的/ 数据/ 视图/ 的/ 构造/ (/ 这里/ 的/ 数据/ 视图/ 是/ 指/ 一种/ 通过/ 数据服务/ 组合/ 得到/ 的/ 物化/ 视图/ [/ 4/ ]/ )/ ,/ 同时/ ,/ 用户/ 也/ 很/ 难/ 对/ 数据/ 视图/ 进行/ 调整/ ./ 近年来/ 出现/ 了/ 一些/ 针对/ 数据服务/ 组合/ 的/ 方法/ 与/ 工具/ ,/ 如/ Aqualogic/ [/ 5/ ]/ 和/ Damia/ [/ 6/ ]/ ,/ 这/ 类/ 工具/ 通常/ 为/ 用户/ 提供/ 了/ 简便/ 的/ 方式/ 来/ 定义数据/ 服务/ 及/ 组合/ 视图/ ,/ 有/ 较/ 好/ 的/ 易用性/ 和/ 灵活性/ ./ 但是/ ,/ 它们/ 在/ 数据/ 视图/ 的/ 更新/ 优化/ 方面/ 存在/ 挑战/ ./ 当/ 用户/ 在/ 某/ 时间/ 点上/ 进行/ 数据服务/ 组合/ 生成/ 数据/ 视图/ 后/ ,/ 该/ 视图/ 伴随/ 底层/ 数据/ 的/ 变化/ 不断/ 重复/ 运行/ ,/ 以/ 实现/ 数据/ 视图/ 的/ 动态/ 更新/ ./ 在/ 这个/ 过程/ 中/ ,/ 由于/ 使用/ 数据服务/ 组合/ 工具/ 的/ 用户/ 往往/ 缺乏/ 专业/ 编程/ 能力/ ,/ 无法/ 在/ 进行/ 数据服务/ 组合/ 的/ 过程/ 中/ 给出/ 更新/ 效率/ 优化/ 的/ 组合/ 方案/ ,/ 导致/ 在/ 更新/ 数据/ 视图/ 时有/ 较长/ 延迟/ ./ 这/ 在/ 某些/ 时间/ 关键/ 的/ 应用/ 中/ 尤为/ 突出/ ,/ 以/ 社会/ 应急/ 管理/ 为例/ ,/ 在/ 突发事件/ 的/ 应急/ 响应/ 系统/ 中/ ,/ 随着/ 事态/ 的/ 进展/ ,/ 数据/ 是/ 不断/ 动态变化/ 的/ [/ 7/ ]/ ,/ 数据/ 视图/ 应/ 及时/ 体现/ 底层/ 数据/ 变化/ 从而/ 为/ 决策人员/ 提供/ 正确/ 信息/ ./ 针对/ 数据/ 组合/ 视图/ 的/ 更新/ 优化/ 问题/ ,/ 现有/ 的/ 数据服务/ 组合/ 方法/ 及/ 工具/ 还/ 没有/ 给出/ 令人满意/ 的/ 问题/ 求解/ ,/ 因而/ 也/ 得到/ 一些/ 研究/ 工作/ 的/ 重视/ ,/ 如/ 文献/ [/ 8/ ]/ 等/ ./ 基于/ 上述/ 研究/ 背景/ ,/ 本文/ 拟/ 提出/ 一种/ 基于/ 数据服务/ 的/ 数据/ 组合/ 视图/ 的/ 优化/ 更新/ 方法/ ./ 该/ 方法/ 借鉴/ 数据/ 缓存/ 的/ 思想/ ,/ 把/ 数据/ 缓存/ 到/ 数据/ 视图/ 中间/ 产生/ 的/ 复合/ 数据服务/ 来/ 减少/ 数据/ 更新/ 时间/ ./ 同时/ ,/ 利用/ 复合/ 数据服务/ 的/ 等价/ 变换/ 法则/ ,/ 通过/ 对/ 数据/ 操作/ 的/ 次序/ 及/ 组合/ 方式/ 进行/ 变换/ ,/ 得到/ 输出/ 结果/ 相同/ 的/ 若干/ 候选/ 数据服务/ 组合/ 方案/ ,/ 并且/ 把/ 数据服务/ 组合/ 方案/ 的/ 更新/ 优化/ 问题/ 建模/ 为/ 0/ -/ 1/ 规划/ 问题/ ,/ 通过/ 遗传算法/ 得到/ 更新/ 代价/ 近似/ 最优/ 的/ 数据服务/ 组合/ 方案/ ,/ 推荐/ 给/ 用户/ ,/ 使得/ 当/ 底层/ 数据服务/ 发生/ 更新/ 时/ ,/ 这个/ 更新/ 可以/ 自下而上/ 经过/ 多个/ 中间/ 复合/ 数据服务/ 高效/ 地/ 传播/ 到/ 顶层/ 的/ 数据/ 视图/ ./ 这里/ ,/ 数据/ 传播/ 是/ 指/ 从/ 定义数据/ 视图/ 的/ 底层/ 数据服务/ 发生/ 数据/ 更新/ 开始/ 到/ 顶层/ 数据/ 视图/ 发生/ 数据/ 更新/ 结束/ 的/ 一系列/ 数据服务/ 的/ 更新过程/ ./ 本文/ 第/ 2/ 节/ 描述/ 和/ 分析/ 问题/ ;/ 第/ 3/ 节/ 介绍/ 数据服务/ 及其/ 组合/ 操作/ ;/ 第/ 4/ 节/ 给出/ 复合/ 数据服务/ 的/ 等价/ 变换/ 法则/ ,/ 并且/ 基于/ 该/ 法则/ 给出/ 数据/ 视图/ 的/ 更新/ 代价/ 模型/ 以及/ 使/ 代价/ 最小化/ 的/ 优化/ 算法/ ;/ 第/ 5/ 节是/ 实验/ 和/ 评价/ ;/ 第/ 6/ 节/ 介绍/ 相关/ 工作/ ;/ 最后/ 总结/ 全文/ ./ 2/ 问题/ 分析/ 本/ 节/ 通过/ 分析/ 一个/ 贯穿/ 全文/ 的/ 实例/ 来/ 说明/ 本文/ 研究/ 的/ 问题/ 及其/ 求解/ 思路/ ./ 图/ 1/ 左边/ 示出/ 了/ 一个/ 数据服务/ 组合/ 实例/ ,/ 它/ 为/ 某/ 跨国公司/ 在/ 进行/ 供求信息/ 统计/ 时/ 生成/ A/ 、/ B/ 两/ 供货商/ 供应/ 零件/ 情况/ 的/ 数据/ 视图/ ./ 其中/ ,/ DS1/ 表示/ 封装/ A/ 供货商/ 信息/ 的/ 数据服务/ ,/ DS2/ 表示/ 封装/ B/ 供货商/ 信息/ 的/ 数据服务/ ,/ 通过/ 对/ 这/ 两个/ 服务/ 的/ 调用/ 可/ 获得/ 供货商/ A/ 和/ 供货商/ B/ 的/ 标识/ ID/ 、/ 名字/ 、/ 地址/ 等/ 基本/ 信息/ ./ DS3/ 表示/ 封装/ 零件/ 信息/ 的/ 数据服务/ ,/ 它/ 以/ 供货商/ 的/ 标识/ ID/ 为/ 输入/ 参数/ ,/ 可/ 获取/ 零件/ 的/ 库存/ 数量/ 、/ 价格/ 等/ 详细信息/ ./ 将/ DS1/ 和/ DS2/ 先/ 进行/ 集合/ 并/ 操作/ ,/ 再/ 以/ 供货商/ 标识/ ID/ 属性/ (/ 图中/ 记为/ Ri/ )/ 的/ 值/ 为/ 参数值/ 逐次/ 调用/ DS3/ 并/ 连接/ DS1/ ∪/ DS2/ 和/ DS3/ 的/ 输出/ 元组/ ,/ 即可/ 得到/ 所/ 需要/ 的/ 数据/ 视图/ ,/ 并/ 记为/ 复合/ 数据服务/ 的/ 形式/ :/ (/ DS1/ ∪/ DS2/ )/ / RiDS3/ ./ 事实上/ ,/ 要/ 得到/ 同样/ 的/ 数据/ 视图/ ,/ 往往/ 有/ 多个/ 不同/ 的/ 数据服务/ 组合/ 方案/ ./ 图/ 1/ 右边/ 示出/ 了/ 其中/ 的/ 一种/ ,/ 它/ 以/ DS1/ 和/ DS2/ 供货商/ 标识/ ID/ 属性/ 的/ 值/ 为/ 参数值/ 分别/ 逐次/ 调用/ DS3/ 并/ 分别/ 进行/ 连接/ 操作/ ,/ 最后/ 再/ 将/ 结果/ 进行/ 集合/ 并/ 操作/ ,/ 记/ 为/ (/ DS1/ / RiDS3/ )/ ∪/ (/ DS2/ / RiDS3/ )/ ./ 这/ 两种/ 数据服务/ 组合/ 方案/ 的/ 输出/ 完全相同/ ,/ 但/ 通过/ 下面/ 分析/ 可知/ ,/ 其/ 数据/ 视图/ 的/ 运行/ 代价/ 并不相同/ ./ 首先/ ,/ 我们/ 对/ 在/ 不同/ 的/ 应用/ 场景/ 下/ 的/ 数据/ 视图/ 的/ 运行/ 方式/ 区分/ 为/ 被动/ 方式/ 和/ 主动/ 方式/ 两种/ ./ 在/ 被动/ 方式/ 下/ ,/ 系统/ 为了/ 响应/ 请求/ ,/ 从/ 底层/ 的/ 数据服务/ 获取/ 最新/ 数据/ 并/ 通过/ 层层/ 计算/ ,/ 把/ 计算结果/ 呈现/ 在/ 数据/ 视图/ 上/ ./ 这种/ 方式/ 的/ 优点/ 是/ 只有/ 在/ 需要/ 数据/ 的/ 时候/ 才/ 进行/ 计算/ ,/ 适用/ 于/ 数据/ 不是/ 频繁/ 变化/ 的/ 场景/ ./ 在/ 主动/ 方式/ 下/ ,/ 数据/ 视图/ 缓存/ 所有/ 的/ 中间/ 计算结果/ 并/ 监控/ 基本/ 数据服务/ 的/ 数据/ 变化/ ,/ 当/ 数据/ 发生变化/ 时/ ,/ 对受/ 影响/ 的/ 中间/ 结果/ 重新/ 计算/ 和/ 更新/ ./ 这种/ 方式/ 的/ 优点/ 是/ 数据/ 视图/ 可以/ 随时/ 得到/ 最新/ 的/ 数据/ ,/ 适用/ 于/ 处理/ 不断更新/ 的/ 快速/ 变化/ 的/ 数据/ 及/ 具有/ 时间/ 限制/ 的/ 场景/ ./ 用户/ 可以/ 根据/ 自己/ 的/ 需要/ 构造/ 多个/ 数据/ 视图/ ,/ Page3/ 并/ 为/ 这些/ 数据/ 视图/ 选择/ 不同/ 的/ 运行/ 方式/ ./ 因此/ ,/ 复合/ 数据服务/ 具有/ 两/ 方面/ 的/ 运行/ 代价/ :/ 一方面/ 是/ 被动/ 方式/ 下/ 应对/ 请求/ 的/ 响应/ 代价/ ,/ 另一方面/ 是/ 主动/ 方式/ 下/ 应对/ 数据/ 变化/ 的/ 更新/ 代价/ ./ 其中/ ,/ 被动/ 运行/ 的/ 服务/ 可以/ 复用/ 主动/ 运行/ 的/ 服务/ 的/ 缓存/ 结果/ ./ 例如/ ,/ 假设/ 数据服务/ DS1/ / RiDS3/ 为/ 主动/ 运行/ ,/ 那么/ ,/ 图/ 1/ 右边/ 所示/ 的/ 被动/ 运行/ 的/ 数据服务/ (/ DS1/ / RiDS3/ )/ ∪/ (/ DS2/ / RiDS3/ )/ 可以/ 复用/ DS1/ / RiDS3/ 的/ 缓存/ 结果/ 而/ 省略/ 一步/ 计算/ ,/ 从而/ 提高/ 更新/ 效率/ ./ 然而/ ,/ 由于/ 图/ 1/ 左边/ 数据服务/ (/ DS1/ ∪/ DS2/ )/ / RiDS3/ 和/ DS1/ / RiDS3/ 没有/ 公共/ 的/ 计算/ 部分/ ,/ 无法/ 复用/ DS1/ / RiDS3/ 的/ 缓存/ 结果/ ./ 因此/ ,/ 即使/ 两种/ 数据服务/ 组合/ 方案/ 输出/ 结果/ 相同/ ,/ (/ DS1/ ∪/ DS2/ )/ / RiDS3/ 的/ 更新/ 效率/ 也/ 不如/ (/ DS1/ / RiDS3/ )/ ∪/ (/ DS2/ / RiDS3/ )/ 的/ 更新/ 效率/ ./ 在/ 这个/ 例子/ 中/ ,/ 由于/ 使用/ 数据服务/ 组合/ 工具/ 进行/ 视图/ 构造/ 的/ 用户/ 在/ 数据服务/ 组合/ 的/ 过程/ 中/ 没有/ 能力/ 准确/ 估计/ 数据/ 视图/ 的/ 更新/ 效率/ ,/ 因此/ 即使/ 如图/ 1/ 右边/ 所示/ 的/ 方案/ 更优/ ,/ 有/ 的/ 用户/ 仍/ 可能/ 选择/ 如图/ 1/ 左边/ 所示/ 的/ 方案/ ./ 在/ 上述/ 例子/ 中/ ,/ 我们/ 主要/ 考虑/ 了/ 缓存/ 对/ 更新/ 效率/ 的/ 影响/ ,/ 事实上/ ,/ 各/ 中间/ 结果/ 的/ 计算/ 代价/ 、/ 数据服务/ 的/ 请求/ 频率/ 和/ 更新/ 频率/ 等/ 因素/ 都/ 会/ 影响/ 数据服务/ 组合/ 方案/ 的/ 更新/ 代价/ ./ 因此/ ,/ 本文/ 的/ 研究/ 工作/ 就是/ 在/ 给定/ 数据/ 视图/ 构建/ 需求/ 及/ 若干/ 复合/ 数据服务/ 运行/ 方式/ 、/ 数据服务/ 的/ 请求/ 频率/ 和/ 更新/ 频率/ 设置/ 的/ 条件/ 下/ ,/ 求/ 出/ 一组/ 等价/ 的/ 生成/ 该/ 数据/ 视图/ 的/ 复合/ 数据服务/ ,/ 并/ 从中/ 选择/ 一组/ 复合/ 数据服务/ 推荐/ 给/ 用户/ ,/ 使得/ 数据/ 视图/ 的/ 更新/ 代价/ 之/ 和/ 最小/ ,/ 简称/ 视图/ 选择/ 问题/ ./ 为/ 求解/ 此/ 问题/ ,/ 本文/ 首先/ 定义/ 了/ 数据服务/ 的/ 基本/ 元素/ 及/ 基本操作/ ,/ 在/ 此基础/ 上/ 证明/ 了/ 复合/ 数据服务/ 的/ 等价/ 变换/ 法则/ ,/ 该/ 法则/ 可以/ 生成/ 若干/ 输出/ 结果/ 相同/ 的/ 候选/ 复合/ 数据服务/ ./ 其次/ ,/ 本文/ 研究/ 了/ 从/ 候选/ 复合/ 数据服务/ 中/ 进行/ 优选/ 的/ 方法/ ./ 根据/ 文献/ [/ 9/ ]/ 的/ 讨论/ ,/ 视图/ 选择/ 问题/ 是/ 一个/ NP/ 问题/ ,/ 目前/ 的/ 主要/ 方法/ 是/ 通过/ 建模/ 0/ -/ 1/ 规划/ 的/ 数学模型/ 进行/ 问题/ 求解/ ./ 因此/ ,/ 本文/ 拟/ 把/ 用户/ 给定/ 的/ 若干/ 生成/ 数据/ 视图/ 的/ 复合/ 数据服务/ 及其/ 运行/ 方式/ 建模/ 为/ 0/ -/ 1/ 规划/ 的/ 数学模型/ ,/ 然后/ 利用/ 遗传算法/ 得到/ 优化/ 的/ 数据服务/ 组合/ 方案/ 向/ 用户/ 进行/ 推荐/ ./ 3/ 数据服务/ 及其/ 组合/ 操作/ 本文/ 的/ 数据服务/ 是/ 一种/ 以/ 提供数据/ 资源/ 的/ 访问/ 为/ 目的/ 的/ 软件/ 服务/ ,/ 它/ 以/ 统一/ 的/ 数据模型/ 表示/ 数据/ 资源/ ,/ 并/ 提供/ 各种/ 操作/ 实现/ 对/ 该/ 数据/ 资源/ 的/ 访问/ ./ 3.1/ 数据服务/ 的/ 定义/ 及/ 数据模型/ 数据服务/ 是/ 对/ 信息系统/ 中/ 数据/ 资源/ 的/ 封装/ ,/ 其/ 本身/ 并/ 不/ 具备/ 业务/ 逻辑/ 功能/ ,/ 在/ 调用/ 数据服务/ 的/ 前后/ 并/ 不会/ 对外部/ 世界/ 的/ 状态/ 发生/ 改变/ ./ 因此/ ,/ 本文/ 不必/ 描述/ 数据服务/ 的/ 前提/ 和/ 效果/ ,/ 而是/ 重点/ 描述/ 数据服务/ 的/ 输入/ 参数/ 和/ 输出/ 数据/ 模式/ ./ 数据服务/ 的/ 形式化/ 定义/ 如下/ ./ 定义/ 1/ ./ 数据服务/ ./ 数据服务/ DS/ 是/ 信息系统/ 发布/ 数据/ 资源/ 的/ 软件/ 服务/ ,/ 它/ 实现/ 了/ 数据/ 资源/ 在/ 给定/ 数据模型/ DM/ 下/ 的/ 统一/ 表示/ ./ 数据服务/ 被/ 表示/ 为/ 四元组/ DS/ =/ 〈/ id/ ,/ params/ ,/ schema/ ,/ properties/ 〉/ ,/ 其中/ :/ (/ 1/ )/ id/ 是/ DS/ 的/ 唯一/ 标识/ ./ 本文/ 以/ DSid/ 表示/ 不同/ 的/ 数据服务/ ./ (/ 2/ )/ params/ 是/ DS/ 的/ 输入/ 参数/ ,/ params/ =/ {/ p1/ ,/ p2/ ,/ …/ ,/ pm/ }/ ,/ 其中/ pi/ =/ 〈/ pni/ ,/ pvi/ 〉/ ,/ pni/ 为/ 参数/ 名/ ,/ pvi/ 为/ 需/ 在/ 调用/ 服务/ 时/ 赋予/ 的/ 参数值/ ./ DS/ 根据/ 不同/ 的/ 输入/ 参数/ 可以/ 返回/ 不同/ 的/ 响应/ 结果/ ./ (/ 3/ )/ schema/ 是/ DS/ 所/ 发布/ 的/ 数据/ 资源/ 的/ 数据/ 模式/ ./ 对于/ 每次/ 请求/ ,/ DS/ 都/ 会/ 返回/ 一个/ 在/ 给定/ 数据模型/ DM/ 下/ 的/ 数据/ 实例/ ,/ 且/ 该/ 实例/ 的/ 元组/ 遵循/ schema/ ./ (/ 4/ )/ properties/ 是/ DS/ 的/ 元/ 信息/ 属性/ 集合/ ,/ 包括/ DS/ 的/ 服务质量/ 以及/ DS/ 的/ 请求/ 频率/ 、/ 更新/ 频率/ 等/ ./ 为了/ 易于/ 用户/ 理解/ 和/ 使用/ ,/ 我们/ 以/ 嵌套/ 关系/ 模型/ 作为/ 数据服务/ 的/ 统一/ 数据模型/ DM/ ,/ 并且/ 建立/ 了/ 类似/ 电子表格/ 的/ 可视化/ 数据服务/ 组合/ 环境/ “/ 嵌套/ 电子表格/ ”/ [/ 10/ ]/ ./ 嵌套/ 关系/ 模型/ 借鉴/ 了/ 非/ 第一/ 范式/ 的/ 嵌套/ 关系/ ,/ 并/ 对/ 其中/ 的/ 属性/ 和/ 元组/ 进行/ 了/ 有序化/ ,/ 该/ 数据模型/ 的/ 形式化/ 定义/ 建立/ 在/ 嵌套/ 关系/ 模式/ 和/ 嵌套/ 关系/ 的/ 基础/ 上/ ,/ 相关/ 定义/ 参考文献/ [/ 10/ ]/ ./ 本文/ 使用/ Schema/ (/ DS/ )/ ,/ Tuple/ (/ DS/ )/ 表示/ DS/ 的/ 嵌套/ 关系/ 模式/ 、/ 调用/ DS/ 返回/ 的/ 嵌套/ 元组/ ,/ 显然/ 有/ / t/ ∈/ Tuple/ (/ DS/ )/ ,/ t/ 遵循/ Schema/ (/ DS/ )/ ./ Tuple/ (/ DS/ ,/ {/ 〈/ pni/ ,/ pvi/ 〉/ }/ )/ 表示/ 以/ pvi/ 作为/ 参数/ pni/ 的/ 值/ 调用/ DS/ 得到/ 的/ 嵌套/ 元组/ ,/ 在/ 不/ 关心/ pni/ 的/ 具体/ 取值/ 的/ 情况/ 下/ ,/ 可/ 简写/ 为/ Tuple/ (/ DS/ ,/ {/ pvi/ }/ )/ ./ Table/ (/ DS/ )/ =/ 〈/ Schema/ (/ DS/ )/ ,/ Tuple/ (/ DS/ )/ 〉/ 表示/ 调用/ DS/ 返回/ 的/ 嵌套/ 关系/ ,/ 也/ 称/ 嵌套/ 表/ ./ 3.2/ 数据服务/ 组合/ 的/ 基本操作/ 关系/ 代数/ 的/ 操作/ 对象/ 为/ 关系/ 表/ 和/ 视图/ ,/ 具体操作/ 包括/ 选择/ 、/ 投影/ 、/ 并/ 、/ 连接/ 等/ ./ 相对而言/ ,/ 数据服务/ 组合/ 的/ 操作/ 对象/ 为/ 数据服务/ ,/ 我们/ 前期工作/ 通过/ 定义/ 嵌套/ 表上/ 的/ 增加/ 列/ 、/ 更新/ 列/ 、/ 过滤/ 元组/ 等/ 十余种/ 操/ Page4/ 作/ ,/ 实现/ 了/ 嵌套/ 关系/ 代数/ 的/ 表达能力/ [/ 11/ ]/ ,/ 并/ 将/ 不同/ 的/ 数据服务/ 组合/ 为/ 复合/ 数据服务/ ,/ 实现/ 了/ 异构/ 数据/ 集成/ ./ 本文/ 不再/ 重复/ 这些/ 操作/ 的/ 具体/ 定义/ ,/ 而是/ 关注/ 利用/ 这些/ 操作/ 如何/ 生成/ 复合/ 数据服务/ ./ 从/ 这种/ 视角/ 出发/ ,/ 本文/ 把/ 数据服务/ 操作/ 划分/ 为/ 集合/ 操作/ ,/ 无/ 数据/ 依赖/ 和/ 有/ 数据/ 依赖/ 的/ 连接/ 操作/ 以及/ 单/ 数据源/ 操作/ ./ 定义/ 2/ ./ 集合/ 操作/ ./ 对于/ 数据/ 模式/ 相同/ 的/ 数据服务/ DS1/ 和/ DS2/ ,/ DS1/ 和/ DS2/ 上/ 的/ 集合/ 操作/ 实现/ 了/ 两者/ 所/ 输出/ 元组/ 上/ 的/ 集合/ 运算/ ,/ 生成/ 新/ 的/ 数据服务/ DS3/ =/ DS1/ ·/ DS2/ ./ 设/ Schema/ (/ DS1/ )/ =/ Schema/ (/ DS2/ )/ =/ R/ ,/ 那么/ Schema/ (/ DS3/ )/ =/ R/ ,/ Tuple/ (/ DS3/ )/ =/ Tuple/ (/ DS1/ )/ ·/ Tuple/ (/ DS2/ )/ (/ ·/ 可以/ 是/ 并/ 、/ 交/ 、/ 差中/ 的/ 一种/ ,/ 分别/ 用/ 符号/ ∪/ 、/ ∩/ 、/ -/ 表示/ )/ ./ 定义/ 3/ ./ 无/ 数据/ 依赖/ 连接/ 操作/ ./ 对于/ 数据服务/ DS1/ 和/ DS2/ ,/ DS1/ 和/ DS2/ 上/ 的/ 无/ 数据/ 依赖/ 连接/ 操作/ 通过/ 建立/ 嵌套/ 元组/ 连接/ 两者/ 的/ 输出/ 元组/ ,/ 生成/ 新/ 的/ 数据服务/ DS3/ =/ DS1/ / / DS2/ ,/ 设/ Schema/ (/ DS1/ )/ =/ R1/ ,/ Schema/ (/ DS2/ )/ =/ R2/ ,/ 则/ Schema/ (/ DS3/ )/ =/ {/ R1/ ,/ R2/ }/ ,/ Tuple/ (/ DS3/ )/ =/ {/ 〈/ R1/ ,/ Tuple/ (/ DS1/ )/ 〉/ ,/ 〈/ R2/ ,/ Tuple/ (/ DS2/ )/ 〉/ }/ ./ 定义/ 4/ ./ 有/ 数据/ 依赖/ 连接/ 操作/ ./ 对于/ 数据服务/ DS1/ 和/ DS2/ ,/ 设/ Ri/ ∈/ Schema/ (/ DS1/ )/ ,/ DS2/ 依赖于/ DS1/ 中/ Ri/ 的/ 连接/ 操作/ ,/ 是/ 指/ 通过/ 以/ Ri/ 的/ 属性/ 值为/ 参数值/ 逐次/ 调用/ DS2/ 并/ 连接/ DS1/ 和/ DS2/ 的/ 输出/ 元组/ ,/ 生成/ 新/ 的/ 数据服务/ DS3/ =/ DS2/ / RiDS1/ ./ 设/ Schema/ (/ DS1/ )/ =/ {/ R1/ ,/ …/ ,/ Rm/ }/ ,/ m/ / i/ ;/ Schema/ (/ DS2/ )/ =/ R/ ,/ 则/ Schema/ (/ DS3/ )/ =/ 〈/ R1/ ,/ …/ ,/ Rm/ ,/ R/ 〉/ ,/ 并且/ Tuple/ (/ DS3/ )/ =/ {/ {/ 〈/ R1/ ,/ r1/ 〉/ ,/ …/ ,/ 〈/ Rm/ ,/ rm/ 〉/ ,/ 〈/ R/ ,/ Tuple/ (/ DS2/ ,/ {/ ri/ }/ )/ 〉/ }/ }/ ./ 定义/ 5/ ./ 单/ 数据服务/ 操作/ :/ 对于/ 数据服务/ DS1/ ,/ 其上/ 的/ 单/ 数据服务/ 操作/ f/ 包括/ 增加/ 列/ 、/ 更新/ 列/ 、/ 过滤/ 元组/ 等等/ ./ 该/ 函数/ 分别/ 对/ DS1/ 的/ 数据/ 模式/ 和/ 元组/ 集合/ 进行/ 转换/ (/ 分别/ 用/ fR/ 和/ fr/ 表示/ )/ ,/ 转换/ 后/ 的/ 数据服务/ 为/ DS2/ =/ f/ (/ DS1/ )/ ,/ 其中/ Schema/ (/ DS2/ )/ =/ fR/ (/ Schema/ (/ DS1/ )/ )/ ,/ Tuple/ (/ DS2/ )/ =/ fr/ (/ Tuple/ (/ DS1/ )/ )/ ./ 4/ 数据/ 视图/ 的/ 更新/ 优化/ 数据/ 视图/ 的/ 更新/ 优化/ 的/ 基本/ 思想/ 如下/ :/ 首先/ 根据/ 用户/ 定义数据/ 视图/ 的/ 数据服务/ 组合/ 方案/ 生成/ 输出/ 结果/ 相同/ 的/ 数据服务/ 组合/ 方案/ ,/ 即/ 对于/ 每个/ 复合/ 数据服务/ 生成/ 若干/ 输出/ 结果/ 相同/ 的/ 候选/ 复合/ 数据服务/ ;/ 然后/ 从/ 这些/ 候选/ 复合/ 数据服务/ 中/ 进行/ 优选/ ,/ 使得/ 总体/ 的/ 响应/ 代价/ 和/ 更新/ 代价/ 之/ 和/ 最小/ ./ 本节/ 首先/ 探讨/ 复合/ 数据服务/ 的/ 等价/ 变换/ 法则/ ,/ 然后/ 把/ 复合/ 数据服务/ 的/ 选择/ 问题/ 建模/ 为/ 0/ -/ 1/ 规划/ 问题/ ,/ 最后/ 利用/ 遗传算法/ 对/ 该/ 问题/ 进行/ 求解/ ./ 4.1/ 复合/ 数据服务/ 的/ 等价/ 变换/ 法则/ 复合/ 数据服务/ 的/ 等价/ 变换/ ,/ 就是/ 在/ 保证/ 复合/ 数据服务/ 输出/ 的/ 嵌套/ 表/ 不变/ 的/ 前提/ 下/ ,/ 对/ 数据/ 操作/ 的/ 次序/ 及/ 组合/ 方式/ 进行/ 变换/ ./ 为了/ 简化/ 表示/ ,/ 这里/ 用/ “/ =/ ”/ 连接/ 输出/ 相同/ 的/ 数据服务/ ./ 复合/ 数据服务/ 的/ 等价/ 变换/ 法则/ 主要/ 包括/ 交换律/ 、/ 结合律/ 、/ 分配律/ 等等/ ./ 性质/ 1/ ./ 并/ 操作/ 的/ 交换律/ ./ 参与/ 并/ 操作/ 两个/ 数据服务/ 的/ 次序/ 交换/ 后/ ,/ 输出/ 的/ 嵌套/ 表/ 不变/ ,/ 即/ DS1/ ∪/ DS2/ =/ DS2/ ∪/ DS1/ ./ 证明/ ./ 根据/ 集合/ 操作/ 的/ 定义/ ,/ DS1/ 和/ DS2/ 以及/ 操作/ 生成/ 的/ 复合/ 数据服务/ 的/ 数据/ 模式/ 相同/ ,/ 不妨/ 设/ Schema/ (/ DS1/ )/ =/ Schema/ (/ DS2/ )/ =/ R/ ,/ 则/ Schema/ (/ DS1/ ∪/ DS2/ )/ =/ Schema/ (/ DS2/ ∪/ DS1/ )/ =/ R/ ./ 另外/ ,/ 由于/ Tuple/ (/ DS1/ )/ ∪/ Tuple/ (/ DS2/ )/ =/ Tuple/ (/ DS2/ )/ ∪/ Tuple/ (/ DS1/ )/ ,/ Tuple/ (/ DS1/ ∪/ DS2/ )/ =/ Tuple/ (/ DS2/ ∪/ DS1/ )/ ./ 因此/ 原式/ 得证/ ./ 性质/ 2/ ./ 并/ 操作/ 的/ 结合律/ ./ 3/ 个/ 数据服务/ 参与/ 并/ 操作/ ,/ 如果/ 并/ 操作/ 次序/ 变化/ ,/ 则/ 输出/ 的/ 嵌套/ 表/ 不变/ ,/ 即/ (/ DS1/ ∪/ DS2/ )/ ∪/ DS3/ =/ DS1/ ∪/ (/ DS2/ ∪/ DS3/ )/ ./ 证明/ ./ 同上/ ./ 同理/ ,/ 交/ 操作/ 和/ 无/ 数据/ 依赖/ 的/ 连接/ 操作/ 也/ 具有/ 交换律/ 和/ 结合律/ ./ 性质/ 3/ ./ 有/ 数据/ 依赖/ 的/ 连接/ 操作/ 对/ 并/ 操作/ 的/ 分配律/ :/ 两个/ 数据服务/ 进行/ 并/ 操作/ 之后/ 与/ 一个/ 数据服务/ 进行/ 有/ 数据/ 依赖/ 连接/ ,/ 与/ 这/ 两个/ 数据服务/ 分别/ 与/ 该/ 数据服务/ 进行/ 有/ 数据/ 依赖/ 连接/ 再/ 进行/ 并/ 操作/ ,/ 输出/ 的/ 嵌套/ 表/ 相同/ ,/ 即/ (/ DS1/ ∪/ DS2/ )/ / RiDS3/ =/ (/ DS1/ / RiDS3/ )/ ∪/ (/ DS2/ / RiDS3/ )/ ./ 证明/ ./ 根据/ 集合/ 操作/ 的/ 定义/ ,/ DS1/ 和/ DS2/ 的/ 数据/ 模式/ 相同/ ,/ 设/ Schema/ (/ DS1/ )/ =/ Schema/ (/ DS2/ )/ =/ {/ R1/ ,/ …/ ,/ Rm/ }/ ,/ Schema/ (/ DS3/ )/ =/ R/ ,/ 则/ 等/ 号/ 两端/ 的/ 数据/ 模式/ 均/ 为/ {/ R1/ ,/ …/ ,/ Rm/ ,/ R/ }/ ./ 另外/ ,/ 根据/ 有/ 数据/ 依赖/ 的/ 连接/ 操作/ 的/ 定义/ 及/ 集合/ 运算/ 法则/ ,/ Tuple/ (/ (/ DS1/ ∪/ DS2/ )/ / RiDS3/ )/ =/ {/ {/ r/ ,/ 〈/ R/ ,/ Tuple/ (/ DS3/ ,/ r/ )/ 〉/ }/ |/ r/ ∈/ Tuple/ (/ DS1/ )/ ∪/ Tuple/ (/ DS2/ )/ }/ ,/ Tuple/ (/ DS1/ / RiDS3/ )/ ∪/ Tuple/ (/ DS2/ / RiDS3/ )/ =/ {/ {/ r/ ,/ 〈/ R/ ,/ Tuple/ (/ DS3/ ,/ r/ )/ 〉/ }/ |/ r/ ∈/ Tuple/ (/ DS1/ )/ }/ ∪/ {/ {/ r/ ,/ 〈/ R/ ,/ Tuple/ (/ DS3/ ,/ r/ )/ 〉/ }/ |/ r/ ∈/ Tuple/ (/ DS2/ )/ }/ =/ {/ {/ r/ ,/ 〈/ R/ ,/ Tuple/ (/ DS3/ ,/ r/ )/ 〉/ }/ |/ r/ ∈/ Tuple/ (/ DS1/ )/ ∪/ Tuple/ (/ DS2/ )/ }/ ,/ 因此/ 原式/ 得证/ ./ 证毕/ ./ 同理/ ,/ (/ DS1/ ∩/ DS2/ )/ / RiDS3/ =/ (/ DS1/ / RiDS3/ )/ ∩/ Page5/ (/ DS2/ / RiDS3/ )/ ./ 性质/ 4/ ./ 数据服务/ 先后/ 与/ 两个/ 数据服务/ 进行/ 有/ 数据/ 依赖/ 连接/ 操作/ ,/ 若/ 这/ 两个/ 数据服务/ 之间/ 无/ 数据/ 依赖/ 关系/ ,/ 则/ 连接/ 操作/ 的/ 次序/ 对/ 结果/ 无/ 影响/ ,/ 即/ (/ DS1/ / RiDS2/ )/ / RjDS3/ =/ (/ DS1/ / RjDS3/ )/ / RiDS2/ ,/ 其中/ Rj/ ,/ Rj/ ∈/ Schema/ (/ DS1/ )/ ./ 证明/ ./ 证明/ 方法/ 参考/ 性质/ 3/ ./ 性质/ 5/ ./ 数据服务/ DS1/ 先后/ 与/ 两个/ 数据服务/ 进行/ 有/ 数据/ 依赖/ 连接/ 操作/ ,/ 若/ 连接/ 所/ 依赖/ 的/ 属性/ 相同/ ,/ 则/ 操作/ 结果/ 等价/ 于/ 两个/ 数据服务/ 先/ 进行/ 无/ 数据/ 依赖/ 连接/ ,/ DS1/ 再/ 与/ 该/ 结果/ 进行/ 有/ 数据/ 依赖/ 连接/ ,/ 最后/ 进行/ 单/ 数据源/ 操作/ 解/ 嵌套/ ,/ 也/ 即/ 是/ (/ DS1/ / RiDS2/ )/ / RiDS3/ =/ f/ (/ DS1/ / Ri/ (/ DS2/ / / DS3/ )/ )/ ,/ 其中/ Ri/ ∈/ Schema/ (/ DS1/ )/ ,/ f/ 表示/ 对/ {/ R2/ ,/ R3/ }/ 的/ 解/ 嵌套/ 变换/ ./ 证明/ ./ 证明/ 方法/ 参考/ 性质/ 3/ ./ 性质/ 6/ ./ 单/ 数据服务/ 操作/ f/ ,/ 数据服务/ DS1/ 和/ DS2/ ,/ 如果/ fr/ (/ Tuple/ (/ DS1/ )/ ·/ Tuple/ (/ DS2/ )/ )/ =/ fr/ (/ Tuple/ (/ DS1/ )/ )/ ·/ fr/ (/ Tuple/ (/ DS2/ )/ )/ ,/ 那么/ f/ (/ DS1/ ·/ DS2/ )/ =/ fDS1/ ·/ fDS2/ ./ 证明/ ./ 由于/ Schema/ (/ DS1/ ·/ DS2/ )/ =/ Schema/ (/ DS1/ )/ =/ Schema/ (/ DS2/ )/ ,/ f/ 对/ 相同/ 数据/ 模式/ 的/ 转换/ 结果/ 相同/ ,/ 因此/ 等/ 号/ 两端/ 的/ 数据/ 模式/ 相同/ ./ 另外/ ,/ f/ (/ DS1/ ·/ DS2/ )/ 的/ 元组/ 集合/ 为/ fr/ (/ Tuple/ (/ DS1/ )/ )/ ·/ fr/ (/ Tuple/ (/ DS2/ )/ )/ ,/ fDS1/ ·/ fDS2/ 的/ 元组/ 集合/ 为/ fr/ (/ Tuple/ (/ DS1/ )/ )/ ·/ fr/ (/ Tuple/ (/ DS2/ )/ )/ ,/ 根据/ fr/ 满足/ 的/ 条件/ ,/ 两端/ 相同/ ./ 因此/ 原式/ 得证/ ./ 4.2/ 复合/ 数据服务/ 的/ 更新/ 代价/ 模型/ 为/ 建立/ 复合/ 数据服务/ 的/ 更新/ 代价/ 模型/ ,/ 下面/ 以图/ 1/ 右边/ 包含/ 的/ (/ DS1/ ∪/ DS2/ )/ / RiDS3/ 和/ DS1/ / RiDS3/ 两个/ 复合/ 数据服务/ 组成/ 的/ 集合/ 为例/ ,/ 给出/ 具体/ 的/ 建模/ 过程/ ./ 为/ 简便/ 起/ 见/ ,/ 例子/ 中/ 省略/ 了/ 有/ 数据/ 依赖/ 连接/ 的/ 依赖/ 属性/ ./ 我们/ 约定/ 用/ 大写字母/ 表示/ 集合/ 和/ 函数/ 名/ ,/ 以带/ 下/ 标的/ 小写字母/ 表示/ 集合/ 元素/ ,/ 以带/ 大写字母/ 上/ 标的/ 小写字母/ 表示/ 向量/ ,/ 该/ 向量/ 的/ 长度/ 与/ 大写字母/ 所/ 表示/ 的/ 集合/ 元素/ 个数/ 相同/ ./ 在/ 本例/ 中/ ,/ S/ =/ {/ (/ DS1/ ∪/ DS2/ )/ / RiDS3/ ,/ DS1/ / RiDS3/ }/ =/ {/ s1/ ,/ s2/ }/ ,/ 表示/ 定义数据/ 视图/ 的/ 复合/ 数据服务/ 集合/ ,/ S/ 中/ 的/ 元素/ 简称/ 为/ 原始数据/ 服务/ ./ 式/ (/ 1/ )/ 给出/ 了/ 复合/ 数据服务/ 的/ 更新/ 代价/ 模型/ :/ 其中/ cS/ 表示/ 原始数据/ 服务/ 的/ 更新/ 代价/ ,/ cP/ 表示/ 原始数据/ 服务/ 中以/ 主动/ 方式/ 运行/ 的/ 数据服务/ 的/ 更新/ 代价/ ,/ cR/ 表示/ 原始数据/ 服务/ 中以/ 被动/ 方式/ 运行/ 的/ 数据服务/ 的/ 响应/ 代价/ ./ 为了/ 计算/ 它们/ ,/ 首先/ 需要/ 得到/ 如下/ 3/ 个/ 矩阵/ ./ E/ (/ si/ )/ 为/ 数据服务/ si/ 的/ 等价/ 数据服务/ 集合/ ,/ 该/ 集合/ 可以/ 通过/ 人工/ 方式/ 应用/ 等价/ 变换/ 法则/ 得到/ ./ E/ 为/ S/ 中/ 所有/ 元素/ 通过/ 等价/ 变换/ 得到/ 的/ 数据服务/ 集合/ ,/ E/ 中/ 元素/ 简称/ 等价/ 数据服务/ ./ 本例/ 中/ ,/ E/ (/ s1/ )/ =/ {/ (/ DS1/ ∪/ DS2/ )/ / RiDS3/ ,/ (/ DS2/ ∪/ DS1/ )/ / RiDS3/ ,/ (/ DS1/ / RiDS3/ )/ ∪/ (/ DS2/ / RiDS3/ )/ ,/ (/ DS2/ / RiDS3/ )/ ∪/ (/ DS1/ / RiDS3/ )/ }/ =/ {/ e1/ ,/ e2/ ,/ e3/ ,/ e4/ }/ ,/ E/ (/ s2/ )/ =/ {/ DS1/ / RiDS3/ }/ =/ {/ e5/ }/ ,/ E/ =/ {/ e1/ ,/ e2/ ,/ e3/ ,/ e4/ ,/ e5/ }/ ./ 犈/ 犛/ 是/ |/ S/ |/ ×/ |/ E/ |/ 的/ 0/ -/ 1/ 布尔/ 矩阵/ ,/ 当且/ 仅/ 当/ E/ (/ si/ )/ =/ ej/ 时/ 犈/ 犛/ (/ i/ ,/ j/ )/ =/ 1/ ,/ 否则/ 犈/ 犛/ (/ i/ ,/ j/ )/ =/ 0/ ./ B/ (/ ei/ )/ 为/ 数据服务/ ei/ 的/ 中间/ 数据服务/ 集合/ ./ 所谓/ ei/ 的/ 中间/ 数据服务/ 是/ 指/ 包括/ ei/ 以及/ 构成/ ei/ 的/ 所有/ 中间/ 产生/ 的/ 数据服务/ ./ B/ 为/ E/ 中/ 所有/ 元素/ 的/ 中间/ 数据服务/ 的/ 集合/ ,/ 其中/ 的/ 元素/ 简称/ 中间/ 数据服务/ ./ 本例/ B/ =/ {/ DS1/ ∪/ DS2/ ,/ DS2/ ∪/ DS1/ ,/ DS1/ / RiDS3/ ,/ DS2/ / RiDS3/ ,/ (/ DS1/ ∪/ DS2/ )/ / RiDS3/ ,/ (/ DS2/ ∪/ DS1/ )/ / RiDS3/ ,/ (/ DS1/ / RiDS3/ )/ ∪/ (/ DS2/ / RiDS3/ )/ ,/ (/ DS2/ / RiDS3/ )/ ∪/ (/ DS1/ / RiDS3/ )/ }/ ./ 犅/ 犈/ 是/ |/ E/ |/ ×/ |/ B/ |/ 的/ 0/ -/ 1/ 布尔/ 矩阵/ ,/ 当且/ 仅/ 当/ B/ (/ ej/ )/ =/ bi/ 时/ 犅/ 犈/ (/ i/ ,/ j/ )/ =/ 1/ ,/ 否则/ 犅/ 犈/ (/ i/ ,/ j/ )/ =/ 0/ ./ A/ (/ bi/ )/ 为/ bi/ 所/ 包含/ 的/ 原子/ 数据服务/ 集合/ ,/ A/ 为/ B/ 中/ 所有/ 元素/ 所/ 包含/ 的/ 原子/ 数据服务/ 集合/ ./ A/ 中/ 元素/ 简称/ 原子/ 数据服务/ ./ 在/ 本例/ 中/ ,/ A/ =/ {/ DS1/ ,/ DS2/ ,/ DS3/ }/ ./ 犃/ 犅/ 是/ |/ B/ |/ ×/ |/ A/ |/ 的/ 0/ -/ 1/ 布尔/ 矩阵/ ,/ 当且/ 仅/ 当/ A/ (/ bj/ )/ =/ ai/ 时/ 犃/ 犅/ (/ i/ ,/ j/ )/ =/ 1/ ,/ 否则/ 犃/ 犅/ (/ i/ ,/ j/ )/ =/ 0/ ./ 狆/ S/ 是/ 0/ -/ 1/ 布尔/ 向量/ ,/ 1/ 表示/ S/ 中/ 的/ 原始数据/ 服务/ 以/ 主动/ 方式/ 运行/ ,/ 0/ 表示/ S/ 中/ 的/ 原始数据/ 服务/ 以/ 被动/ 方式/ 运行/ ./ 为了/ 便于/ 说明/ ,/ 在/ 本例/ 中/ 假设/ 狆/ S/ =/ [/ 0/ ,/ 1/ ]/ ./ 狉/ S/ 和/ 狌/ A/ 分别/ 表示/ 各/ 原始数据/ 服务/ 的/ 请求/ 频率/ 和/ 各/ 原子/ 数据服务/ 的/ 更新/ 频率/ ,/ 这些/ 频率/ 可以/ 通过/ 一段时间/ 内/ 的/ 统计/ 得到/ ,/ 为了/ 便于/ 说明/ ,/ 本例/ 中/ 假设/ 狉/ S/ =/ (/ 1/ ,/ 1/ )/ ,/ 狌/ A/ =/ (/ 1/ ,/ 1/ ,/ 1/ )/ ./ 犮/ B/ 表示/ 各/ 中间/ 数据服务/ 的/ 单一/ 运行/ 代价/ ./ 中间/ 服务/ 的/ 单一/ 运行/ 代价/ 是/ 指该/ 表达式/ 完成/ 最后/ 一步/ 操作/ 的/ 代价/ ./ 例如/ ,/ (/ DS1/ ∪/ DS2/ )/ / RiDS3/ 的/ 单一/ 运行/ 代价/ 是/ 指/ 完成/ DS3/ 与/ DS1/ ∪/ DS2/ 进行/ 有/ 数据/ 依赖/ 连接/ 的/ 代价/ ,/ 而/ 不/ 包含/ DS1/ ∪/ DS2/ 的/ 代价/ ./ 犮/ B/ 可以/ 通过/ 实际/ 测试/ 得到/ ./ 为了/ 便于/ 说明/ ,/ 本例/ 中/ 假设/ 犮/ B/ =/ (/ 1/ ,/ 1/ ,/ 2/ ,/ 2/ ,/ 3/ ,/ 3/ ,/ 1/ ,/ 1/ )/ ./ 在/ 现实/ 中/ ,/ 有/ 数据/ 依赖/ 连接/ DS1/ / RiDS2/ 的/ 运行/ 代价/ 一般/ 高于/ 集合/ 操作/ ,/ 并且/ 随着/ DS1/ 输出/ 的/ 元组/ 个数/ 的/ 增加/ 而/ 增长/ ./ 为/ 体现/ 这一/ 性质/ ,/ 本文/ 把/ DS1/ / RiDS3/ 和/ DS2/ / RiDS3/ 的/ 代价/ 均/ 设为/ 2/ ,/ 高于/ 集合/ 操作/ 的/ 代/ Page6/ 以上/ 信息/ 构成/ 复合/ 数据服务/ 的/ 更新/ 代价/ 模型/ 的/ 全部/ 输入/ ,/ 下/ 一步/ 给出/ 复合/ 数据服务/ 更新/ 代价/ 的/ 计算/ 过程/ ,/ 其中/ 包括/ 计算/ 以/ 主动/ 方式/ 运行/ 的/ 中间/ 数据服务/ 的/ 更新/ 代价/ 和/ 计算/ 以/ 被动/ 方式/ 运行/ 的/ 中间/ 数据服务/ 的/ 响应/ 代价/ ./ 这里/ 使用/ 符号/ “/ / ”/ 、/ “/ ∧/ ”/ 和/ “/ / ”/ 表示/ 长度/ 相同/ 的/ 向量/ 之间/ 对应/ 元素/ 的/ 逻辑/ 非/ 、/ 逻辑/ 与/ 和/ 点/ 乘/ 运算/ ,/ 其/ 结果/ 仍为/ 向量/ ;/ 符号/ “/ ×/ ”/ 表示/ 矩阵/ 和/ 向量/ 之间/ 的/ 乘法/ ,/ 其/ 运算/ 法则/ 与/ 结果/ 与/ 线性代数/ 中/ 的/ 定义/ 一致/ ;/ 符号/ “/ ”/ 表示/ 矩阵/ 或/ 向量/ 的/ 转置/ ;/ 函数/ L/ 表示/ 把/ 矩阵/ 中非/ 0/ 元素/ 变成/ 1/ ,/ 从而/ 将/ 整数/ 矩阵/ 转化/ 为/ 0/ -/ 1/ 矩阵/ ./ 对于/ 以/ 主动/ 方式/ 运行/ 的/ 数据服务/ ,/ 它/ 运行/ 中/ 的/ 所有/ 中间/ 数据服务/ 都/ 将/ 缓存/ ,/ 并/ 随着/ 原子/ 数据服务/ 的/ 数据/ 更新/ 而/ 更新/ ./ 若/ 某个/ 原始数据/ 服务/ 需以/ 主动/ 方式/ 运行/ ,/ 则/ 它/ 所有/ 的/ 等价/ 数据服务/ 都/ 可能/ 被/ 缓存/ ,/ 因此/ 所有/ 可能/ 被/ 缓存/ 的/ 等价/ 数据服务/ 为/ 狆/ E/ =/ L/ (/ 狆/ S/ ×/ 犈/ 犛/ )/ ./ 其中/ 犈/ 犛/ 表示/ 等价/ 数据服务/ 和/ 原始数据/ 服务/ 的/ 对应/ 关系/ ,/ 向量/ 狆/ S/ 表示/ 哪些/ 原始数据/ 服务/ 以/ 主动/ 方式/ 运行/ ,/ 两者/ 相乘/ 并/ 进行/ 0/ -/ 1/ 化/ 即可/ 得到/ 哪些/ 等价/ 数据服务/ 被/ 缓存/ ./ 本例/ 中/ ,/ 该/ 步骤/ 的/ 结果/ 为/ (/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 1/ )/ ,/ 时间/ 复杂度/ 是/ O/ (/ n2/ )/ ./ 若/ 某个/ 等价/ 数据服务/ 被/ 选中/ 且/ 被/ 缓存/ ,/ 那么/ 它/ 所/ 对应/ 的/ 中间/ 数据服务/ 都/ 将/ 被/ 选中/ 且/ 被/ 缓存/ ,/ 因此/ 所有/ 被/ 缓存/ 且/ 被/ 选中/ 的/ 中间/ 数据服务/ 为/ 狓/ BP/ =/ L/ (/ (/ 狆/ E/ ∧/ 狓/ E/ )/ ×/ 犅/ 犈/ )/ ./ 狆/ E/ 为/ 上/ 一步/ 所得/ ,/ 狓/ E/ 表示/ 哪些/ 等价/ 数据服务/ 被/ 选中/ ,/ 这里/ 表示/ 为/ (/ x1/ ,/ x2/ ,/ x3/ ,/ x4/ ,/ x5/ )/ ,/ 两者/ 通过/ 逻辑/ 与/ 运算/ 可以/ 得到/ 哪些/ 等价/ 数据服务/ 被/ 选中/ 且/ 被/ 缓存/ ;/ 犅/ 犈/ 表示/ 中间/ 数据服务/ 与/ 等价/ 数据服务/ 的/ 对应/ 关系/ ,/ 通过/ 和/ 狆/ E/ ∧/ 狓/ E/ 相乘/ 并/ 进行/ 0/ -/ 1/ 化/ 可以/ 得到/ 哪些/ 中间/ 数据服务/ 被/ 选中/ 且/ 被/ 缓存/ ./ 该/ 步骤/ 的/ 结果/ 为/ (/ 0/ ,/ 0/ ,/ x5/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ ,/ 0/ )/ ,/ 时间/ 复杂度/ 是/ O/ (/ n/ +/ n2/ )/ ./ 价/ 1/ ;/ 而/ (/ DS1/ ∪/ DS2/ )/ 输出/ 的/ 元组/ 数为/ DS1/ 和/ DS2/ 元组/ 数/ 之/ 和/ ,/ 考虑/ 到/ 有/ 数据/ 依赖/ 连接/ 本身/ 的/ 常量/ 开销/ ,/ 本文/ 将/ (/ DS1/ ∪/ DS2/ )/ / RiDS3/ 的/ 代价/ 设为/ 3/ ,/ 即/ 取值/ 在/ DS1/ / RiDS3/ 和/ DS2/ / RiDS3/ 的/ 代价/ 和/ 与/ 其中/ 一者/ 的/ 代价/ 之间/ ./ 当某/ 原子/ 数据服务/ 发生/ 数据/ 更新/ 时/ ,/ 该/ 更新/ 将/ 传播/ 到/ 所有/ 依赖/ 它/ 的/ 中间/ 数据服务/ ,/ 因此/ 总/ 更新/ 代价/ 为/ cP/ =/ (/ (/ 狓/ BP/ / 犮/ B/ )/ ×/ 犃/ 犅/ )/ ×/ (/ 狌/ A/ )/ ./ 狓/ BP/ 为/ 上/ 一步/ 所得/ ,/ 犮/ B/ 表示/ 中间/ 数据服务/ 的/ 单一/ 运行/ 代价/ ,/ 两者/ 相乘/ 可以/ 得到/ 被/ 选中/ 且/ 被/ 缓存/ 的/ 中间/ 数据服务/ 的/ 单一/ 运行/ 代价/ ;/ 犃/ 犅/ 表示/ 原子/ 数据服务/ 和/ 中间/ 数据服务/ 的/ 对应/ 关系/ ,/ 通过/ 与/ 狓/ BP/ / 犮/ B/ 相乘/ 可以/ 得到/ 各/ 原子/ 数据服务/ 的/ 更新/ 代价/ ,/ 经/ 进一步/ 与/ 各/ 原子/ 服务/ 的/ 更新/ 频率/ 狌/ A/ 转置/ 相乘/ 得到/ 一个/ 标量/ ,/ 即/ 所有/ 原子/ 数据服务/ 更新/ 的/ 总/ 代价/ ./ 该/ 步骤/ 的/ 结果/ 为/ 4x5/ ,/ 时间/ 复杂度/ 是/ O/ (/ n/ +/ n2/ +/ n/ )/ ./ 对于/ 以/ 被动/ 方式/ 运行/ 的/ 数据服务/ ,/ 它们/ 由/ 原始数据/ 服务/ 的/ 服务/ 请求/ 触发/ ./ 由于/ 某些/ 中间/ 数据服务/ 的/ 数据/ 被/ 缓存/ ,/ 在/ 响应/ 服务/ 请求/ 时/ ,/ 这些/ 中间/ 数据服务/ 可以/ 直接/ 返回/ 缓存数据/ ,/ 从而/ 不/ 产生/ 响应/ 代价/ ./ 因此/ ,/ 计算/ 它们/ 的/ 响应/ 代价/ 只/ 需要/ 考虑/ 被/ 选中/ 且/ 未/ 被/ 缓存/ 的/ 中间/ 数据服务/ 狓/ BR/ =/ L/ (/ 狓/ E/ ×/ 犅/ 犈/ )/ ∧/ / 狓/ BP/ ,/ 它/ 可以/ 通过/ 逻辑/ 与/ 运算/ 得到/ ./ L/ (/ 狓/ E/ ×/ 犅/ 犈/ )/ 表示/ 被/ 选中/ 的/ 中间/ 数据服务/ ,/ 本例/ 为/ L/ (/ x1/ ,/ x2/ ,/ x3/ +/ x4/ +/ x5/ ,/ x3/ +/ x4/ ,/ x1/ ,/ x2/ ,/ x3/ ,/ x4/ )/ ,/ / 狓/ BP/ 表示/ 未/ 被/ 缓存/ 的/ 中间/ 数据服务/ ./ 在/ 本例/ 中/ ,/ / 狓/ BP/ =/ (/ 1/ ,/ 1/ ,/ / x5/ ,/ 1/ ,/ 1/ ,/ 1/ ,/ 1/ ,/ 1/ )/ ,/ 两者/ 进行/ 逻辑/ 与/ 得到/ 被/ 选中/ 且/ 未/ 被/ 缓存/ 的/ 中间/ 数据服务/ ./ 该/ 步骤/ 的/ 时间/ 复杂度/ 是/ O/ (/ n2/ +/ n/ )/ ./ 每个/ 等价/ 数据服务/ 都/ 对应/ 一个/ 原始数据/ 服务/ ,/ 因此/ 在/ 不/ 考虑/ 哪些/ 等价/ 数据服务/ 被/ 选中/ 的/ 情况/ 下/ ,/ 各/ 等价/ 数据服务/ 的/ 请求/ 频率/ 为/ 狉/ E/ =/ 狉/ S/ ×/ 犈/ 犛/ ,/ 在/ 本例/ 中/ ,/ 该/ 步骤/ 结果/ 为/ 狉/ E/ =/ (/ 1/ ,/ 1/ ,/ 1/ ,/ 1/ ,/ 1/ )/ ,/ 时间/ 复杂度/ 是/ O/ (/ n2/ )/ ./ 当/ 某个/ 数据服务/ 被/ 请求/ 时/ ,/ 响应/ 代价/ 为/ 该/ 数据服务/ 所/ 包含/ 的/ 未/ 被/ 缓存/ 的/ 中间/ 数据服务/ 的/ 运行/ 代价/ 之/ 和/ ,/ 因此/ 总/ 响应/ 代价/ 为/ cR/ =/ (/ (/ (/ 狉/ E/ / 狓/ E/ )/ ×/ 犅/ 犈/ )/ / 犮/ B/ )/ ×/ 狓/ BR/ ./ 其中/ ,/ 狉/ E/ / 狓/ E/ 表示/ 被/ 选中/ 的/ 等价/ 数据服务/ 的/ 请求/ 频率/ ;/ (/ 狉/ E/ / 狓/ E/ )/ ×/ 犅/ 犈/ 表示/ 被/ 选中/ 的/ 中间/ 数据服务/ 的/ 请求/ 频率/ ./ 通过/ 与/ 各/ 中间/ 数据服务/ 的/ 单步/ 运行/ 代价/ 犮/ B/ 逐一/ 相乘/ ,/ 得到/ 的/ (/ (/ 狉/ E/ / 狓/ E/ )/ ×/ 犅/ 犈/ )/ / 犮/ B/ 表示/ 在/ 不/ 考虑/ 哪些/ 中间/ 数据服务/ 被/ 缓存/ 的/ 情况/ 下/ ,/ 各/ 中间/ 数据服务/ 的/ 响应/ 代价/ ,/ 本例/ 为/ (/ x1/ ,/ x2/ ,/ 2/ (/ x3/ +/ x4/ +/ x5/ )/ ,/ 2/ (/ x3/ +/ x4/ )/ ,/ 3x1/ ,/ 3x2/ ,/ x3/ ,/ x4/ )/ ;/ 然后/ 与/ 前面/ 得到/ 的/ 狓/ BR/ 的/ 转置/ 相乘/ ,/ 在/ 求和/ 过程/ 中/ 消除/ 了/ 被/ 缓存/ 的/ 中间/ 数据服务/ 代价/ ,/ 从而/ 得到/ 总/ 响应/ 代价/ ./ 该/ 步骤/ 的/ 时间/ 复杂度/ 为/ O/ (/ n/ +/ n2/ +/ n/ +/ n/ )/ ./ 4.3/ 数据/ 视图/ 的/ 更新/ 优化/ 算法/ 为了/ 得到/ 优化/ 的/ 数据服务/ 组合/ 方案/ ,/ 这里/ 把/ 本文/ 的/ 视图/ 选择/ 问题/ 建模/ 为/ 0/ -/ 1/ 规划/ 问题/ ,/ 其中/ 包含/ 两个/ 好处/ :/ 首先/ ,/ 本文/ 的/ 输入/ 能/ 自动/ 转换/ 为/ 0/ -/ 1/ 规划/ 的/ 描述/ ;/ 其次/ ,/ 0/ -/ 1/ 规划/ 问题/ 已经/ 被/ 广泛/ 研究/ ,/ 目前/ 已有/ 很多/ 快速/ 求解/ 该/ 问题/ 的/ 工具/ ./ 本文/ 的/ 0/ -/ 1/ 规划/ 的/ 描述/ 如式/ (/ 2/ )/ 所示/ ./ 其中/ cP/ +/ cR/ 是/ 目标/ 函数/ ,/ 狓/ E/ 表示/ 从/ 等价/ 数据服务/ 中/ 选取/ 的/ 组合/ 方案/ ,/ 其中/ 被/ 选中/ 的/ 表示/ 为/ 1/ ,/ 否则/ 为/ 0/ ./ Page7/ 约束条件/ 表示/ 数据服务/ 组合/ 方案/ 中/ 一个/ 原始数据/ 服务/ 只能/ 选择/ 一个/ 对应/ 的/ 等价/ 数据服务/ ,/ 犐/ S/ 为/ 长度/ 为/ |/ S/ |/ 并且/ 所有/ 元素/ 均/ 为/ 1/ 的/ 列/ 向量/ ./ 由于/ 目标/ 函数/ 不/ 满足/ 叠加/ 原理/ ,/ 因此/ 上述/ 的/ 0/ -/ 1/ 规划/ 模型/ 是/ 非线性/ 的/ [/ 12/ ]/ ./ 由于/ 非线性/ 0/ -/ 1/ 规划/ 问题/ 是/ NP/ 问题/ ,/ 因此/ 本文/ 使用/ 遗传算法/ 求解/ 该/ 问题/ 的/ 近似/ 最优/ 解/ ,/ 算法/ 1/ 给出/ 了/ 具体/ 描述/ ./ 算法/ 1/ ./ 数据/ 视图/ 的/ 优化/ 更新/ 算法/ (/ DVOU/ )/ ./ 输入/ :/ S/ ,/ 狆/ S/ ,/ 狉/ S/ ,/ 狌/ A/ ,/ 犮/ B/ 输出/ :/ 狓/ E1/ ./ E/ =/ ApplyEquivalentFormula/ (/ S/ )/ ;/ // // 应用/ 等价/ 变换/ 2/ ./ B/ =/ GenerateB/ (/ E/ )/ ;/ // // 得到/ 中间/ 数据服务/ 3/ ./ A/ =/ GenerateA/ (/ B/ )/ ;/ // // 得到/ 原子/ 数据服务/ 4/ ./ 犈/ 犛/ =/ getES/ (/ E/ ,/ S/ )/ ,/ 犅/ 犛/ =/ getBS/ (/ E/ ,/ S/ )/ ,/ 犃/ 犅/ =/ getAB/ (/ B/ ,/ S/ )/ ;/ 5/ ./ 随机/ 对/ 狓/ E/ 进行/ 编码/ ,/ 这里/ 狓/ E/ 本身/ 是/ 0/ -/ 1/ 字符串/ ;/ 给出/ 一个/ 有/ N/ 个/ 染色体/ 的/ 初始/ 群体/ ,/ 这里/ N/ 等于/ 2/ |/ 狓/ E/ |/ ./ POP/ (/ 1/ )/ ,/ t/ ·/ ·/ =/ 1/ ;/ 6/ ./ 对/ 每个/ 编码/ 检查/ 它/ 是否/ 满足/ 狓/ E/ ×/ 犈/ 犛/ =/ 犻/ S/ ,/ 如果/ 不/ 满足/ ,/ 则/ 返回/ 步/ 5/ ,/ 直到/ 得到/ N/ 个/ 染色体/ 的/ 初始/ 群体/ ;/ 7/ ./ 对/ 群体/ POPi/ (/ t/ )/ 计算/ 它/ 的/ 适应/ 函数/ ,/ 这里/ 等于/ 目标/ 函数/ cP/ +/ cR/ ;/ 8/ ./ 若/ 停止/ 规则/ 满足/ ,/ 则/ 算法/ 停止/ ,/ 这里/ 停止/ 规则/ 当/ 最优/ 个体/ 的/ 适应度/ 不再/ 上升/ 或者/ 迭代/ 次数/ 达到/ |/ 狓/ E/ |/ ×/ 100/ 次时/ ;/ 否则/ ,/ 计算/ 概率/ Pi/ =/ fi/ ∑/ j/ =/ 1/ 述/ 概率分布/ 从/ POP/ (/ t/ )/ 中/ 随机/ 选取/ 一些/ 染色体/ 构成/ 一个/ 种群/ NewPOP/ (/ t/ +/ 1/ )/ =/ {/ popj/ (/ t/ )/ |/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ N/ }/ ;/ 9/ ./ 通过/ 交配/ ,/ 得到/ 一个/ 有/ N/ 个/ 染色体/ 的/ CrossPOP/ (/ t/ +/ 1/ )/ ,/ 前/ 两个/ 染色体/ 交换/ 第/ |/ 狓/ E/ |/ // 2/ 个/ 位置/ 以后/ 基因/ ,/ 后/ 两个/ 染色体/ 交换/ 第/ |/ 狓/ E/ |/ // 2/ +/ 1/ 个/ 位置/ 以后/ 的/ 基因/ ;/ 10/ ./ 以/ 概率/ p/ ,/ 使/ 染色体/ 的/ 一个/ 基因/ 发生/ 变异/ ,/ 形成/ MutPOP/ (/ t/ +/ 1/ )/ ;/ t/ :/ t/ +/ 1/ ,/ 这里/ p/ =/ 0.02/ ./ 一个/ 新/ 的/ 群体/ POP/ (/ t/ )/ =/ MutPOP/ (/ t/ )/ ;/ 返回/ 步/ 6/ ;/ 11/ ./ 返回/ 适应/ 函数/ 最小/ 的/ 狓/ E/ ./ 根据/ 上面/ 的/ 分析/ ,/ 计算/ 目标/ 函数/ 的/ 时间/ 复杂度/ 是/ O/ (/ n2/ )/ ,/ 因此/ 算法/ 1/ 的/ 时间/ 复杂度/ 至多/ 为/ O/ (/ |/ 狓/ E/ |/ ×/ 100/ ×/ O/ (/ n3/ )/ )/ ./ 在/ 本例/ 中/ ,/ 经过/ 该/ 算法/ 得到/ 的/ 优化/ 方案/ 是/ 狓/ E/ =/ (/ 0/ ,/ 0/ ,/ 1/ ,/ 0/ ,/ 1/ )/ ,/ 也/ 即/ 选择/ (/ DS1/ / RiDS3/ )/ ∪/ (/ DS2/ / RiDS3/ )/ 和/ DS1/ / RiDS3/ ./ 这种/ 优化/ 方案/ 的/ 更新/ 代价/ 是/ 7.5/ 实验/ 与/ 评价/ 我们/ 从/ 原型/ 系统/ 和/ 实验/ 两个/ 方面/ 来/ 验证/ 本文/ 提出/ 方法/ 的/ 合理性/ 和/ 有效性/ ./ 我们/ 开发/ 了/ 相应/ 的/ 软件工具/ (/ 当前/ 主要/ 包括/ 数据服务/ 建模/ 工具/ 及/ 以/ 用户/ 为/ 中心/ 的/ 数据服务/ 组合/ 工具/ )/ 用以/ 支持/ 数据服务/ 的/ 建模/ 以及/ 数据/ 组合/ 视图/ 的/ 构建/ ,/ 并/ 集成/ 了/ 本文/ 提出/ 的/ 上述/ 数据/ 组合/ 视图/ 的/ 更新/ 优化/ 算法/ ./ 对于/ 进行/ 数据/ 组合/ 视图/ 构造/ 的/ 用户/ ,/ 由于/ 他们/ 往往/ 缺乏/ 专业/ 编程/ 能力/ ,/ 无法/ 在/ 进行/ 数据服务/ 组合/ 的/ 过程/ 中/ 给出/ 更新/ 效率/ 优化/ 的/ 组合/ 方案/ ./ 因此/ ,/ 当/ 用户/ 完成/ 一个/ 数据/ 组合/ 视图/ 的/ 构造/ 后/ ,/ 本/ 软件工具/ 中/ 的/ 数据/ 视图/ 推荐/ 模块/ 负责/ 利用/ 本文/ 提出/ 的/ 算法/ 向/ 用户/ 推荐/ 优化/ 的/ 组合/ 方案/ ./ 该/ 模块/ 首先/ 遍历/ 数据/ 视图/ 组合/ 脚本/ ,/ 把/ 数据服务/ 组合/ 操作/ 转换/ 为/ 规范/ 操作/ (/ 集合/ 操作/ 、/ 无/ 数据/ 依赖/ 和/ 有/ 数据/ 依赖/ 的/ 连接/ 操作/ 以及/ 单/ 数据源/ 操作/ )/ ,/ 输出/ 规范/ 操作/ 下/ 的/ 数据服务/ 组合/ 描述/ ,/ 然后/ 运行/ 算法/ DVOU/ ,/ 得到/ 等价/ 的/ 优化组合/ 方案/ 推荐/ 给/ 用户/ ./ 用户/ 可/ 参照/ 推荐/ 的/ 优化组合/ 方案/ 对/ 已有/ 方案/ 进行/ 调整/ 或者/ 直接/ 选择/ 系统/ 推荐/ 的/ 可/ 执行/ 方案/ 来/ 替代/ 原有/ 方案/ ./ 为/ 进一步/ 验证/ 本文/ 提出/ 的/ 方法/ 对/ 数据/ 组合/ 视图/ 运行/ 效率/ 的/ 优化/ 效果/ ,/ 我们/ 通过/ 把/ TPC/ -/ H/ ①/ 基准/ 测试/ 中/ 的/ 数据/ 集/ 进行/ 服务化/ 封装/ 得到/ 测试/ 的/ 实验/ 数据/ ,/ 基于/ 由此/ 得到/ 的/ 一组/ 数据服务/ 进行/ 了/ 实验/ 验证/ ./ 选择/ TPC/ -/ H/ 主要/ 基于/ 以下/ 几个/ 事实/ :/ 首先/ ,/ TPC/ -/ H/ 所/ 选用/ 的/ 数据/ 及/ 查询/ 广泛/ 参考/ 了/ 业界/ 的/ 实际/ 应用/ ,/ 是/ 对/ 业务/ 需求/ 的/ 抽象/ 和/ 概括/ ;/ 其次/ ,/ TPC/ -/ H/ 中/ 的/ 查询/ 结果/ 均/ 用于/ 回答/ 业务/ 中/ 的/ 关键问题/ ,/ 用于/ 辅助/ 用户/ 进行/ 决策/ ,/ 也/ 被/ 称为/ “/ 决策/ 支持/ 基准/ 测试/ ”/ ./ 不过/ ,/ TPC/ -/ H/ 规定/ 的/ 最小/ 数据/ 规模/ 为/ 1G/ ./ 由于/ 本/ 实验/ 主要/ 测试数据/ 服务/ 的/ 请求/ 频率/ 、/ 更新/ 频率/ 以及/ 运行/ 方式/ 对/ 数据服务/ 组合/ 方案/ 的/ 更新/ 时间/ 的/ 影响/ ,/ 所以/ 这里/ 只/ 采用/ 10/ 兆/ 字节/ 的/ 数据/ 规模/ ./ 在/ 未来/ 的/ 工作/ 中/ ,/ 我们/ 会/ 研究/ 数据量/ 对/ 数据服务/ 组合/ 方案/ 的/ 更新/ 时间/ 的/ 影响/ ./ TPC/ -/ H/ 规范/ 描述/ 了/ 一个多/ 国/ 零件/ 生产/ 与/ 销售/ 的/ 应用/ 场景/ ,/ 其中/ 涉及/ 8/ 个/ 数据表/ ,/ 关系/ 如图/ 2/ 所示/ ,/ 其中/ 箭头/ 表示/ 外码/ 之间/ 的/ 依赖/ 关系/ ./ 每个/ 表/ 被/ 封装/ 为表/ 1/ 所示/ 的/ 数据服务/ ./ ①/ http/ :/ // // www/ ./ tpc/ ./ org/ // tpch/ // Page8/ 原子/ 数据服务/ 编号/ 原子/ 数据服务/ 的/ 结构/ 及/ 业务/ 含义/ regionrnationnpartpsupplierspartsupplierpscustomercorderolineiteml/ 实验所/ 需要/ 的/ 输入/ 条件/ 包括/ 犈/ 犛/ ,/ 犅/ 犈/ 和/ 犃/ 犅/ 矩阵/ 以及/ 犮/ B/ ,/ 狉/ S/ ,/ 狌/ A/ 和/ 狆/ S/ 向量/ ,/ 需要/ 求解/ 的/ 是/ 狓/ E/ ,/ 即/ 优化/ 的/ 数据服务/ 组合/ 方案/ ,/ 并且/ 得到/ 复合/ 数据服务/ 集合/ 的/ 更新/ 代价/ cS/ ./ 下面/ 介绍/ 各/ 输入/ 条件/ 的/ 取值/ 与/ 设置/ 情况/ ./ 根据/ 复合/ 数据服务/ 等价/ 变换/ 法则/ ,/ 我们/ 从/ 12/ 个/ 原始数据/ 服务/ 等价/ 变换/ 得到/ 41/ 个/ 等价/ 数据服务/ ,/ 并且/ 对/ 这些/ 等价/ 数据服务/ 进行/ 分解/ ,/ 得到/ 82/ 个/ 中间/ 数据服务/ ./ 这些/ 中间/ 数据服务/ 由/ 8/ 个/ 原子/ 数据服务/ 构成/ ./ 利用/ 市场/ 参与者/ 产品/ 供求/ 情况/ 市场/ 规模/ 各国/ 零件/ 销售/ 概况/ S8/ 对外贸易/ 表/ 2/ 复合/ 数据服务/ 复合/ 数据服务/ 的/ 业务/ 含义/ 各国/ 供货商/ 数量/ 统计/ 各国/ 客户/ 数量/ 统计/ 零件/ 产量/ 最多/ 的/ 国家/ 零件/ 需求/ 数量/ 最大/ 的/ 国家/ 零件/ 数量/ 上/ 供过于求/ 的/ 国家/ 供货商/ 与/ 客户/ 总数/ 最大/ 的/ 国家/ 生产/ 、/ 销售额/ 最大/ 的/ 国家/ 各国/ 大型/ 零件/ 的/ 平均/ 售价/ 各国/ 各/ 品牌/ 的/ 实际/ 销售量/ 出口/ 零件/ 数量/ 最多/ 的/ 国家/ 国内贸易/ 最/ 盛行/ 的/ 地区/ (/ 以/ 零件/ 数量/ 计/ )/ 这些/ 条件/ ,/ 我们/ 分别/ 得到/ 了/ 犈/ 犛/ ,/ 犅/ 犈/ 和/ 犃/ 犅/ 矩阵/ ,/ 其/ 大小/ 分别/ 为/ 41/ ×/ 12/ 、/ 82/ ×/ 41/ 和/ 8/ ×/ 82/ ./ 通过/ 对/ 中间/ 数据服务/ 的/ 实际/ 测试/ ,/ 我们/ 得到/ 各/ 中间/ 数据服务/ 的/ 运行/ 代价/ ,/ 从而/ 得到/ 犮/ B/ 的/ 具体/ 取值/ ./ 根据/ TPC/ -/ H/ 规范/ ,/ 所有/ 查询/ 的/ 请求/ 频率/ 相同/ ./ 为/ 方便/ 起/ 见/ ,/ 这里/ 把/ 狉/ S/ 设为/ 12/ ×/ 1/ 所有/ 项均/ 为/ 1/ 的/ 列/ 向量/ ./ 根据/ TPC/ -/ H/ 规范/ ,/ order/ 表/ 和/ lineitem/ 表/ 需要/ 通过/ 更新/ 函数/ 进行/ 更新/ ,/ 更新/ 频率/ 与/ 请求/ 频率/ 成/ 一定/ 比例/ ,/ 该/ 比例/ 由/ 比例/ 因子/ 控制/ ./ 在/ 本/ 实验/ 中/ ,/ 依照/ TPC/ -/ H/ 规范/ 给出/ 的/ 比例/ ,/ 我们/ 把/ 请求/ 频率/ 与/ 更新/ 频率/ 之/ 比/ 从/ 12/ 递增/ 至/ 111/ ./ TPC/ -/ H/ 对/ 其它/ 表/ 的/ 更新/ 频率/ 没有/ 明确/ 说明/ ,/ 但是/ 为了/ 体现/ 更新/ 频率/ 的/ 变化/ ,/ 我们/ 将/ 其它/ 表/ 的/ 更新/ 频率/ 设为/ order/ 表/ 和/ lineitem/ 表/ 的/ 一半/ ./ 因此/ ,/ 狌/ A/ 为/ 8/ ×/ 1/ 的/ 列/ 向量/ ,/ 共有/ 10/ 个/ ,/ 用/ 编号/ 为/ 1/ ~/ 10/ 表示/ ,/ 其中/ 对应/ order/ 和/ lineitem/ 的/ 数据服务/ 的/ 项/ 分别/ 为/ 2/ ,/ 3/ ,/ 4/ ,/ …/ ,/ 9/ ,/ 10/ ,/ 11/ ,/ 其余/ 项/ 分别/ 为/ 1/ ,/ 2/ ,/ 2/ ,/ …/ ,/ 5/ ,/ 5/ ,/ 6/ ./ 狆/ S/ 代表/ 数据服务/ 的/ 运行/ 方式/ ,/ 它/ 的/ 取值/ 不受/ TPC/ -/ H/ 规范/ 的/ 约束/ ./ 这里/ ,/ 狆/ S/ 设定/ 为/ 如下/ 几种/ 运行/ 方式/ :/ 第一种/ 方式/ 是/ 将/ S/ 中/ 的/ 复合/ 数据服务/ 都/ 设为/ 被动/ 运行/ ;/ 最后/ 一种/ 方式/ 是/ 将/ S/ 中/ 的/ 复合/ 数据服务/ 都/ 设为/ 主动/ 运行/ ;/ 其余/ 方式/ 是/ 按/ 复合/ 数据服务/ 的/ 分类/ 逐渐/ 将/ 被动/ 运行/ 的/ 数据服务/ 设/ 为/ 主动/ 运行/ ./ 由于/ 复合/ 数据服务/ 共分/ 5/ 类别/ ,/ 因此/ 共/ 6/ 种/ 运行/ 方式/ ./ 在/ 这/ 6/ 种/ 情况/ 下/ ,/ 被动/ 运行/ 的/ 数据服务/ 数量/ 逐渐/ 减少/ ,/ 主动/ 运行/ 的/ 数据服务/ 数量/ 逐渐/ 增加/ ,/ 我们/ 把/ 这些/ 运行/ 方式/ 编号/ 为/ (/ 1/ )/ ~/ (/ 6/ )/ ./ 至此/ ,/ 我们/ 已经/ 得到/ 了/ 在/ TPC/ -/ H/ 测试/ 集下/ 运行/ 优化/ 算法/ 的/ 全部/ 输入/ 条件/ ,/ 接着/ 我们/ 可以/ 求/ 出/ 复合/ 数据服务/ 的/ 优选/ 方案/ ,/ 并/ 得到/ 整个/ 复合/ 数据服务/ 集合/ 的/ 更新/ 代价/ ./ 我们/ 在/ 6/ 种/ 运行/ 方式/ 下/ 使用/ 编号/ 1/ ~/ 10/ 种/ 不同/ 的/ 更新/ 频率/ ,/ 生成/ 实验/ 结果/ ./ Page9/ 该/ 实验/ 除了/ 比较/ 优化/ 前/ 和/ 优化/ 后/ 的/ 复合/ 数据服务/ 集合/ 的/ 总体/ 更新/ 时间/ ,/ 而且/ 还/ 比较/ 了/ 本文/ 提出/ 的/ DVOU/ 方法/ 和/ MVPP/ [/ 17/ ]/ 方法/ ./ MVPP/ 是/ 一个/ 关于/ 多个/ 查询/ 的/ 全局/ 最优/ 查询/ 执行/ 计划/ ,/ 是/ 针对/ 数据库/ 视图/ 优化/ 的/ 算法/ ,/ 其/ 本身/ 不/ 支持/ 用户/ 对/ 数据/ 视图/ 缓存/ 的/ 指定/ ./ 针对/ 本/ 实验/ 场景/ ,/ 我们/ 对/ MVPP/ 算法/ 进行/ 了/ 适当/ 修改/ ,/ 使/ 之/ 生成/ 在/ 不/ 考虑/ 用户/ 指定/ 数据服务/ 运行/ 方式/ 的/ 情况/ 下/ 的/ 优化/ 方案/ ,/ 并且/ 允许/ 用户/ 指定/ 运行/ 方式/ ,/ 然后/ 与/ 本文/ 提出/ 的/ DVOU/ 方法/ 进行/ 对图/ 3/ 复合/ 数据服务/ 更新/ 效率/ 优化/ 的/ 实验/ 结果/ 图/ 4/ 表示/ 了/ 本文/ 的/ DVOU/ 方法/ 与/ MVPP/ 方法/ 为/ 用户/ 推荐/ 的/ 方案/ 在/ 图/ 3/ 所示/ 的/ 不同/ 运行/ 方式/ 下/ 更新/ 效率/ 提高/ 的/ 百分比/ ./ 这里/ 首先/ 根据/ 图/ 3/ 计算/ 优化/ 后/ 推荐/ 的/ 方案/ 和/ 原始/ 方案/ 在/ 运行/ 方式/ (/ 1/ )/ ~/ (/ 6/ )/ 对应/ 同一/ 更新/ 频率/ 的/ 更新/ 时间/ 的/ 平均值/ ,/ 然后/ 计算/ 总/ 的/ 更新/ 时间/ 减少/ 的/ 百分比/ ,/ 该/ 数值/ 就是/ 更新/ 效率/ 提高/ 的/ 百分比/ ./ 通过/ 实验/ 分析/ ,/ 我们/ 可以/ 得出/ 如下/ 结论/ :/ 本文/ 提出/ 的/ DVOU/ 方法/ 为/ 用户/ 推荐/ 的/ 方案/ 优于/ MVPP/ 方法/ ./ 除了/ 运行/ 方式/ (/ 1/ )/ 和/ (/ 2/ )/ ,/ 其它/ 运行/ 方式/ ,/ DVOU/ 均/ 把/ 更新/ 效率/ 提高/ 了/ 15/ %/ 以上/ ,/ 同时/ 在/ 不同/ 的/ 更新/ 频率/ 下/ ,/ 更新/ 效率/ 也/ 均/ 提高/ 了/ 15/ %/ 以上/ ./ 这/ 表明/ 了/ DVOU/ 方法/ 在/ 不同/ 的/ 更新/ 频率/ 和/ 运行/ 比/ ./ 在/ 分析/ 实验/ 结果/ 之前/ ,/ 这里/ 对/ 实验/ 结果/ 做出/ 如下/ 几点/ 说明/ :/ 图/ 3/ (/ a/ )/ ~/ (/ f/ )/ 中/ 的/ 纵轴/ “/ 更新/ 时间/ ”/ 是/ 指/ 完成/ 指定/ 请求/ 频率/ 狉/ S/ 和/ 更新/ 频率/ 狌/ A/ 所/ 规定/ 操作/ 所/ 需要/ 的/ 时间/ ,/ 数值/ 越小/ 表明/ 越好/ ./ 由于/ 请求/ 频率/ 是/ 不变/ 的/ ,/ 横轴/ “/ 更新/ 频率/ 编号/ ”/ 从/ 1/ 递增/ 至/ 10/ ,/ 根据/ 前面/ 更新/ 频率/ 的/ 设定/ ,/ 原子/ 数据服务/ 的/ 更新/ 频率/ 逐步提高/ ,/ 使得/ 更新/ 时间/ 也/ 逐步提高/ ./ 方式/ 下/ 都/ 具有/ 良好/ 的/ 效果/ ./ 相比之下/ ,/ MVPP/ 在/ 各种/ 运行/ 方式/ 下/ 的/ 优化/ 效果/ 不是/ 很/ 明显/ ./ 在/ 无/ 数据服务/ 以/ 主动/ 方式/ 运行/ 的/ 情况/ 下/ ,/ 本文/ 提出/ 的/ DVOU/ 方法/ 和/ MVPP/ 方法/ 为/ 用户/ 推荐/ 的/ 方案/ 的/ 优化/ 效果/ 相同/ ;/ 在/ 其它/ 情况/ 下/ ,/ DVOU/ 方法/ 为/ 用户/ 推荐/ 的/ 方案/ 更好/ ./ 当/ 所有/ 服务/ 都/ 以/ 被动/ 方式/ 运行/ 时/ ,/ DVOU/ 方法/ 与/ MVPP/ 方法/ 为/ 用户/ 推荐/ 的/ 方案/ 是/ 相同/ 的/ ./ 但是/ ,/ 当/ 用户/ 选择/ 主动/ 方式/ 运行/ 数据服务/ 后/ ,/ DVOU/ 方法/ 会/ 进行/ 调整/ ,/ 从图/ 3/ (/ a/ )/ ~/ (/ f/ )/ 可以/ 看出/ ,/ DVOU/ 方法/ 推荐/ 的/ 方案/ 均/ 不/ 相同/ ,/ 而/ MVPP/ 则/ 不会/ 做出/ 任何/ 调整/ ,/ 这/ 使得/ 在/ 运行/ 方式/ (/ 2/ )/ ~/ (/ 6/ )/ 的/ 情况/ 下/ ,/ DVOU/ 方法/ 为/ 用户/ 推荐/ 的/ 方案/ 好于/ MVPP/ 方法/ ./ 6/ 相关/ 工作/ 为了/ 提高/ 数据/ 视图/ 的/ 更新/ 效率/ ,/ 经典/ 的/ 数据/ 集成/ 方法/ 主要/ 围绕/ 着/ 物化/ 的/ 数据库/ 视图/ 展开/ ./ 利用/ 物化/ 视图/ 提高/ 视图/ 更新/ 效率/ 的/ 工作/ 包括/ 两类/ :/ 一类/ 是/ 把/ 待/ 优化/ 的/ 视图/ 直接/ 保存/ 为/ 物化/ 视图/ ,/ 当/ 底层/ 数据/ Page10/ 变化/ 时/ ,/ 实现/ 该/ 物化/ 视图/ 受/ 影响/ 的/ 部分/ 数据/ 的/ 更新/ ,/ 即/ 物化/ 视图/ 的/ 增量/ 更新/ 方法/ [/ 13/ ]/ ;/ 另一类/ 是/ 围绕/ 待/ 优化/ 的/ 中心/ 视图/ 定义/ 一些/ 相关/ 的/ 物化/ 视图/ 作为/ 数据/ 缓存/ ,/ 利用/ 这些/ 访问速度/ 较/ 快/ 的/ 缓存/ 提高/ 中心/ 视图/ 的/ 查询/ 效率/ ,/ 即/ 利用/ 缓存/ 优化/ 查询方法/ [/ 14/ ]/ ./ 其中/ ,/ 增量/ 更新/ 方法/ 在/ 适用/ 的/ 应用/ 场景/ 上/ 具有/ 一定/ 的/ 局限性/ :/ 只有/ 基本/ 数据库/ 关系/ 的/ 变化/ 能够/ 精确/ 地以/ 元组/ 的/ 增加/ 、/ 删除/ 与/ 修改/ 的/ 形式/ 进行/ 描述/ 时/ ,/ 才/ 能够/ 生成/ 增量/ 更新/ 元组/ ./ 在/ 本文/ 探讨/ 的/ 多源/ 异构/ 数据/ 集成/ 场景/ 中/ ,/ 数据服务/ 位于/ 其它/ 管理/ 域/ 中/ ,/ 且/ 其/ 精确/ 变化/ 难以/ 被/ 捕捉到/ ;/ 即使/ 要/ 跟踪/ 数据/ 元组/ 的/ 改变/ ,/ 也/ 需要/ 大量/ 的/ 计算/ 开销/ ,/ 影响/ 数据服务/ 的/ 实际/ 更新/ 效率/ ./ 因此/ 在/ 本文/ 的/ 数据/ 视图/ 的/ 更新/ 效率/ 的/ 优化/ 上/ ,/ 这种/ 方法/ 难以/ 直接/ 使用/ ./ 当/ 查询/ 内容/ 相对/ 固定/ 时/ ,/ 利用/ 缓存/ 进行/ 查询/ 优化/ 的/ 方法/ 往往/ 具有/ 优势/ ./ 在/ 本文/ 中/ ,/ 数据服务/ 组合/ 生成/ 的/ 数据/ 视图/ 可以/ 视为/ 对/ 底层/ 数据服务/ 的/ 联合/ 查询/ ,/ 是/ 相对/ 固定/ 的/ ./ 因此/ ,/ 本文/ 为/ 复合/ 数据服务/ 的/ 中间/ 结果/ 建立/ 了/ 缓存/ ,/ 通过/ 更新/ 需要/ 更新/ 的/ 缓存/ 来/ 减少/ 计算/ 量/ ./ 现有/ 的/ 服务/ 组合/ 方法/ 及/ 工具/ 通常/ 以/ 业务/ 逻辑/ 为/ 中心/ ,/ 近年来/ 虽然/ 出现/ 了/ 一些/ 数据服务/ 组合/ 工具/ 可/ 用于/ 构造/ 数据/ 视图/ ,/ 如/ 基于/ 可视化/ 数据流/ 的/ YahooPipes/ ①/ 、/ IBMDamia/ [/ 6/ ]/ 等/ 以及/ 基于/ 电子表格/ 的/ She/ -/ etMusiq/ [/ 15/ ]/ 、/ SpreadATOR/ [/ 16/ ]/ 和/ Mashroom/ [/ 11/ ]/ 等/ ,/ 但/ 它们/ 普遍/ 忽视/ 了/ 数据/ 视图/ 的/ 更新/ 效率/ 问题/ ./ Hassan/ 等/ 人/ 注意/ 到/ 此/ 问题/ ,/ 并/ 提出/ 了/ Mashup/ 算子/ 合并/ 和/ 重排/ 方法/ [/ 8/ ]/ ,/ 通过/ 发现/ Mashup/ 公共/ 算子/ 序列/ 避免/ 重复/ 计算/ ,/ 并且/ 给出/ 了/ 算子/ 重排/ 规则/ ,/ 增加/ 发现/ 公共/ 子/ 序列/ 的/ 概率/ ,/ 但是/ 该/ 工作/ 的/ 前提/ 是/ 统一/ 的/ RSS/ 种子/ 的/ 数据模型/ ,/ 因此/ 算子/ 重排/ 规则/ 不/ 适合/ 指导/ 以/ 嵌套/ 关系/ 为/ 数据模型/ 的/ 数据服务/ 进行/ 等价/ 变换/ ,/ 并且/ 该/ 工作/ 也/ 没有/ 考虑/ 更新/ 频率/ 和/ 请求/ 频率/ ./ Yang/ 等/ 人/ 提出/ 的/ 一种/ MVPP/ 方法/ [/ 17/ ]/ ,/ 它/ 是/ 一个/ 关于/ 多个/ 查询/ 的/ 全局/ 最优/ 查询/ 执行/ 计划/ ,/ 当/ 所有/ 数据服务/ 都/ 以/ 被动/ 方式/ 运行/ 时/ ,/ MVPP/ 对/ 方案/ 的/ 选择/ 依据/ 是/ “/ 在/ 不/ 缓存/ 任何/ 中间/ 结果/ 的/ 情况/ 下/ 使/ 响应/ 代价/ 最小化/ ”/ ,/ 因此/ 本文/ 优化/ 方案/ 与/ MVPP/ 做出/ 的/ 选择/ 相同/ ./ 但是/ ,/ 当/ 用户/ 选择/ 主动/ 方式/ 运行/ 数据服务/ 时/ ,/ MVPP/ 则/ 不会/ 进行/ 调整/ ./ 7/ 结论/ 基于/ 数据服务/ 组合/ 的/ 数据/ 视图/ 的/ 优化/ 更新/ 问题/ 是/ 一个/ 亟待解决/ 的/ 问题/ ,/ 现有/ 的/ 数据服务/ 组合/ 方法/ 和/ 工具/ 还/ 未/ 给出/ 令人满意/ 的/ 求解/ 方法/ ./ 本文/ 提出/ 了/ 基于/ 数据服务/ 的/ 数据/ 组合/ 视图/ 的/ 优化/ 更新/ 方法/ ,/ 该/ 方法/ 通过/ 复合/ 数据服务/ 的/ 等价/ 变换/ ,/ 生成/ 运行/ 效果/ 相同/ 的/ 多种/ 数据服务/ 组合/ 方案/ ,/ 并且/ 基于/ 复合/ 数据服务/ 的/ 更新/ 代价/ 模型/ ,/ 提出/ 了/ 最小化/ 更新/ 代价/ 的/ 数据/ 视图/ 的/ 更新/ 优化/ 算法/ ,/ 利用/ 该/ 算法/ 可以/ 为/ 用户/ 推荐/ 优化/ 的/ 数据服务/ 组合/ 方案/ ./ 实验/ 表明/ 该/ 方法/ 提高/ 了/ 数据/ 视图/ 的/ 更新/ 效率/ ./ 优化/ 数据/ 视图/ 的/ 更新/ 效率/ 既/ 可以/ 在/ 构造/ 时/ 静态/ 进行/ ,/ 也/ 可以/ 在/ 运行/ 时/ 动态/ 进行/ ./ 本文/ 所/ 采用/ 的/ 方法/ 为/ 静态/ 分析方法/ :/ 通过/ 了解/ 基本/ 数据服务/ 的/ 参数/ (/ 包括/ 更新/ 频率/ 和/ 元组/ 数量/ 等/ )/ ,/ 对/ 影响/ 更新/ 效率/ 的/ 参数/ 进行/ 静态/ 估计/ ,/ 以此/ 选择/ 优化组合/ 方案/ ./ 下/ 一步/ ,/ 我们/ 将/ 研究/ 动态/ 和/ 静态/ 结合/ 的/ 分析方法/ ./ 值得/ 指出/ 的/ 是/ ,/ 除/ 进行/ 视图/ 的/ 更新/ 优化/ 之外/ ,/ 综合/ 考虑/ 多种/ 指标/ 的/ 数据/ 视图/ 优化/ 也/ 是/ 下/ 一步/ 有待/ 研究/ 的/ 工作/ ./ 这/ 是因为/ ,/ 数据/ 视图/ 的/ 质量/ 、/ 访问/ 权限/ 、/ 使用/ 费用/ 、/ 使用/ 策略/ 或/ 协议/ 约束/ 等/ 其它/ 各种/ 非/ 功能/ 特征/ 也/ 可能/ 是/ 进行/ 数据/ 视图/ 选取/ 时/ 需要/ 考虑/ 的/ 重要/ 因素/ ./ 

