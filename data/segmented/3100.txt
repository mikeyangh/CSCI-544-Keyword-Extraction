Page1/ 基于/ 感兴趣/ 区域/ 的/ H/ ./ 264/ 视频/ 加密算法/ 于俊清/ 刘青何/ 云峰/ (/ 华中科技大学/ 计算机科学/ 与/ 技术/ 学院/ 武汉/ 430074/ )/ 摘要/ 为了/ 解决/ 现有/ 的/ 基于/ H/ ./ 264/ 的/ 加密算法/ 无法/ 满足/ 安全性/ 和/ 加密/ 效率/ 之间/ 较/ 好/ 折衷/ 的/ 问题/ ,/ 提出/ 两种/ 基于/ 感兴趣/ 区域/ 的/ H/ ./ 264/ 加密算法/ ,/ 将/ 感兴趣/ 区域/ 的/ 提取/ 和/ 基于/ 熵/ 编码/ 的/ H/ ./ 264/ 加密算法/ 相结合/ ,/ 只/ 对/ 提取/ 出来/ 的/ 感兴趣/ 区域/ 进行/ 加密/ ./ 设计/ 了/ 一种/ 基于/ 人脸/ 检测/ 的/ 加密算法/ ,/ 并/ 通过/ 修改/ 模式/ 选择/ 算法/ ,/ 去掉/ 了/ 使得/ 非/ 人脸/ 区域/ 参考/ 人脸/ 区域/ 的/ 帧/ 间/ 宏块/ 预测/ 类型/ ,/ 解决/ 了/ 由/ 帧/ 间/ 预测/ 引起/ 的/ 人脸/ 加密/ 区域/ 变形/ 的/ 问题/ ./ 将/ 运动/ 对象/ 的/ 检测/ 与/ 提取/ 和/ H/ ./ 264/ 的/ 编码/ 过程/ 结合/ ,/ 设计/ 了/ 一种/ 基于/ 运动/ 对象/ 检测/ 的/ H/ ./ 264/ 加密算法/ ./ 实验/ 结果表明/ ,/ 这/ 两种/ 加密算法/ 能够/ 在/ 不/ 降低/ 算法/ 安全性/ 的/ 情况/ 下/ 获得/ 安全性/ 和/ 加密/ 效率/ 之间/ 的/ 较/ 好/ 折衷/ ,/ 可以/ 满足/ 实时/ 应用/ 的/ 需求/ ./ 关键词/ 视频/ 加密/ ;/ H/ ./ 264/ 编码/ ;/ 熵/ 编码/ ;/ 感兴趣/ 区域/ 1/ 引言/ 随着/ 计算机技术/ 和/ 网络/ 技术/ 的/ 迅猛发展/ ,/ 网络/ 多媒体/ 服务/ 成为/ 网络服务/ 中新/ 的/ 应用领域/ ./ 但是/ 由于/ 网络/ 的/ 开放性/ 和/ 匿名性/ ,/ 使得/ 网络/ 上/ 传输/ 的/ 多媒/ Page2/ 大幅/ 增加/ 的/ 计算/ 复杂度/ 为/ 代价/ ./ 由于/ 视频/ 本身/ 的/ 一些/ 特性/ (/ 如/ 数据量/ 大/ 、/ 实时性/ 要求/ 高/ 、/ 存储/ 格式/ 多样/ 等/ )/ ,/ 用/ 传统/ 的/ 算法/ 对/ 视频流/ 进行/ 加密/ 效率/ 较/ 低/ ,/ 而/ 效率/ 相对/ 较/ 高/ 的/ 选择/ 加密算法/ 安全性/ 不够/ ,/ 如何/ 设计/ 加密算法/ 以/ 获得/ 安全性/ 和/ 加密/ 效率/ 之间/ 的/ 较/ 好/ 折衷/ 是/ 基于/ H/ ./ 264/ 加密算法/ 研究/ 中/ 十分/ 重要/ 的/ 研究/ 内容/ ./ 本文/ 重点/ 讨论/ 如何/ 结合/ 基于/ H/ ./ 264/ 熵/ 编码/ 的/ 加密算法/ ,/ 设计/ 基于/ 感兴趣/ 区域/ (/ RegionofInterest/ ,/ ROI/ )/ 的/ 视频/ 加密算法/ ,/ 从而/ 满足/ 保护/ 视频/ 隐私/ 的/ 需要/ ./ 2/ 相关/ 工作/ 许多/ 研究者/ 和/ 研究/ 机构/ 都/ 提出/ 了/ 一些/ 基于/ H/ ./ 264/ 的/ 视频/ 加密算法/ ./ 韩国/ 成均馆/ 大学/ 的/ Ahn/ 等/ 人/ 提出/ 加密/ 帧/ 内/ 预测/ 模式/ 的/ 方法/ [/ 2/ ]/ ,/ 帧/ 内/ 4/ ×/ 4/ 块/ 有/ 9/ 种/ 预测/ 模式/ ,/ 用/ 3/ 比特流/ 密钥/ 对/ 它/ 进行/ 加密/ ;/ 帧/ 内/ 16/ ×/ 16/ 块/ 有/ 4/ 种/ 预测/ 模式/ ,/ 而/ 帧/ 内/ 16/ ×/ 16/ 块/ 的/ 预测/ 模式/ 和/ 编码/ 块/ 模式/ (/ CodedBlockPattern/ ,/ CBP/ )/ 一起/ 编码/ ,/ 为了/ 保证/ 格式/ 兼容性/ ,/ 实际上/ 只能/ 用/ 1/ 比特流/ 密钥/ 对/ 它/ 进行/ 加密/ ./ 虽然/ 这种/ 方法/ 能够/ 达到/ 一定/ 的/ 加密/ 效果/ ,/ 但是/ 由于/ 密钥/ 空间/ 不/ 大/ ,/ 因此/ 安全性/ 不高/ ./ 韩国/ 成均馆/ 大学/ 的/ Kwon/ 等/ 人/ 提出/ 了/ 一种/ 使用/ 运动/ 向量/ 和/ 片/ 再/ 定位/ 的/ 视频/ 加密算法/ [/ 3/ ]/ ,/ 该/ 算法/ 置乱/ 不同/ 宏块/ 的/ 运动/ 向量/ 差/ ,/ 置乱表/ 是/ 事先/ 写/ 好/ 的/ ./ 由于/ I/ 帧/ 没有/ 运动/ 向量/ 差/ (/ MotionVectorDifference/ ,/ MVD/ )/ ,/ 因此/ 随着/ 编码/ 过程/ 的/ 进行/ ,/ 置乱/ MVD/ 的/ 效果/ 更加/ 明显/ ,/ 但是/ 对于/ 帧/ 号/ 靠/ 前/ 的/ 图像/ ,/ 加密/ 效果/ 并/ 不/ 明显/ ,/ 这/ 是/ 由/ 运动/ 向量/ 加密算法/ 的/ 本质/ 决定/ 的/ ./ 由于/ 该/ 算法/ 没有/ 加密/ 视频/ 的/ 纹理/ 信息/ ,/ 算法/ 不能/ 抵抗/ 已知/ 明文/ 的/ 攻击/ ./ 北京工业大学/ 蔡勉/ 等/ 人/ 提出/ 一种/ 基于/ 熵/ 编码/ 的/ 加密算法/ [/ 4/ ]/ ,/ 它/ 考虑/ 到/ 熵/ 编码/ 的/ 上下文/ 相关性/ ,/ 如果/ 加密/ 基于/ 上下文/ 的/ 自/ 适应/ 可变/ 长/ 编码/ (/ Context/ -/ AdaptiveVariable/ -/ LengthCoding/ ,/ CAVLC/ )/ 过程/ 中/ 的/ 某个/ 码字/ 索引/ 可能/ 使/ 加密/ 后/ 的/ 索引/ 在/ 码表/ 中/ 不/ 存在/ ,/ 这样/ 就/ 会/ 导致/ 解码/ 失败/ ./ 文中/ 通过/ 分析/ 码表/ 的/ 分布/ 规律/ ,/ 提出/ 了/ 一种/ 保持/ 格式/ 兼容/ 的/ 加密算法/ ,/ 将/ 加密算法/ 嵌入/ 到/ 非/ 零/ 系数/ 的/ 数目/ (/ TotalCoeffs/ )/ ,/ 4/ ×/ 4/ 块/ 最后/ 一个/ 非零/ 系数/ 前/ 零/ 的/ 个数/ (/ TotalZeros/ )/ 以及/ 色度/ 直流/ 2/ ×/ 2/ 系数/ 的/ TotalZeros/ 和/ 每个/ 非零/ 系数/ 前/ 连续/ 零/ 的/ 个数/ (/ Runbefore/ )/ 中/ ,/ 但是/ 这种/ 加密/ 方法/ 无法/ 完全/ 满足/ TotalCoeffs/ 、/ 拖尾/ 1/ 的/ 个数/ (/ TrailingOnes/ )/ 、/ 除/ 拖/ 尾/ 系数/ 之外/ 的/ 非/ 零/ 系数/ 的/ 幅值/ (/ Levels/ )/ 、/ TotalZeros/ 、/ Runbefore/ 这些/ 变量/ 之间/ 的/ 约束/ 关系/ ,/ 因此/ 没有/ 格式/ 兼容性/ ./ 合肥工业大学/ 的/ 齐美彬/ 等/ 人/ 提出/ 基于/ 检测/ 与/ 跟踪/ 的/ 人脸/ 图像/ 保护/ 加密算法/ [/ 5/ ]/ ,/ 该/ 算法/ 结合/ 自/ 适应/ 的/ 皮肤/ 颜色/ 模型/ 和/ 传统/ 贝叶斯/ 分类器/ 的/ 方法/ 来/ 检测/ 人脸/ ,/ 并用/ 卡尔曼滤波/ 器/ 对/ 检测/ 到/ 的/ 人脸/ 区域/ 进行/ 跟踪/ ,/ 人脸/ 检测/ 、/ 跟踪/ 过程/ 和/ 编码/ 的/ 预测/ 、/ 变换/ 、/ 量化/ 过程同步/ ,/ 并/ 在/ 熵/ 编码/ 过程/ 之前/ 对/ 检测/ 到/ 的/ 人脸/ 部分/ 进行/ 加密/ ,/ 该/ 方法/ 计算/ 复杂度/ 较/ 高/ ,/ 不能/ 满足/ 实时性/ 的/ 要求/ ./ 基于/ H/ ./ 264/ 的/ 视频/ 加密算法/ 不是/ 设计/ 加密算法/ 本身/ ,/ 而是/ 基于/ 已有/ 的/ 加密算法/ 在/ H/ ./ 264/ 的/ 编码/ 过程/ 中/ 选择/ 合适/ 的/ 加密/ 位置/ 和/ 加密/ 强度/ 来/ 设计/ 一种/ 适用/ 于/ 视频/ 的/ 加密算法/ ./ H/ ./ 264/ 视频/ 加密/ 的/ 关键/ 是/ 如何/ 选择/ 加密/ 位置/ ,/ 使得/ 加密算法/ 具有/ 格式/ 兼容性/ ,/ 并且/ 能/ 获得/ 安全性/ 和/ 复杂度/ 之间/ 较/ 好/ 的/ 折衷/ ./ 由于/ 对/ 感兴趣/ 区域/ 进行/ 加密/ 能够/ 保护/ 视频/ 的/ 重要/ 信息/ ,/ 并且/ 减小/ 加密算法/ 对/ 编码/ 的/ 计算/ 负载/ ,/ 而/ 人脸/ 和/ 运动/ 对象/ 是/ 感兴趣/ 区域/ 的/ 典型/ 代表/ ,/ 因此/ 本文/ 将/ 人脸/ 检测/ 和/ 运动/ 对象/ 检测/ 与/ 基于/ 熵/ 编码/ 的/ 加密算法/ 相结合/ ,/ 实现/ 了/ 基于/ 感兴趣/ 区域/ 的/ H/ ./ 264/ 加密算法/ ./ 对/ 输入/ 视频/ 进行/ 人脸/ 检测/ ,/ 如果/ 检测/ 到/ 人脸/ ,/ 则/ 使用/ 基于/ 人脸/ 检测/ 的/ 加密算法/ 进行/ 加密/ ,/ 当前/ 帧/ 加密/ 完成/ 后/ 对/ 下/ 一帧/ 进行/ 人脸/ 检测/ ,/ 更新/ 人脸/ 位置/ ,/ 进行/ 下/ 一帧/ 的/ 编码/ 、/ 加密/ 过程/ ;/ 如果/ 未/ 检测/ 到/ 人脸/ ,/ 则/ 进行/ 正常/ 编码/ ,/ 在/ 编码/ 的/ 过程/ 中/ 利用/ 生成/ 的/ 运动/ 向量/ 检测/ 运动/ 对象/ ,/ 如果/ 检测/ 到/ 运动/ 对象/ ,/ 则/ 使用/ 基于/ 运动/ 对象/ 的/ 加密算法/ ;/ 否则/ ,/ 根据/ 配置文件/ 选择/ 使用/ 基于/ CAVLC/ 的/ 加密算法/ 或/ 基于/ 上下文/ 的/ 自/ 适应/ 二进制/ 算术/ 编码/ (/ Context/ -/ AdaptiveBinaryArithmeticCoding/ ,/ CABAC/ )/ 的/ 加密算法/ 进行/ 加密/ ,/ 编码/ 完成/ 后/ 将/ 结果/ 输出/ 成码/ 流/ ./ 3/ 基于/ 熵/ 编码/ 的/ H/ ./ 264/ 加密算法/ 传统/ 的/ 基于/ H/ ./ 264/ 的/ 加密算法/ 都/ 是/ 选择/ 对/ DCT/ 系数/ 、/ 运动/ 向量/ 差/ 的/ 符号/ 、/ 帧/ 内/ 预测/ 模式/ 等/ 进行/ 加密/ ./ 这些/ 算法/ 要么/ 密钥/ 空间/ 太小/ ,/ 要么/ 无法/ 满足/ 格式/ 兼容性/ ,/ 加密/ 后/ 的/ 码流/ 标准/ 解码器/ 无法/ 解码/ ,/ 并且/ 这些/ 算法/ 中/ 对/ 基于/ H/ ./ 264/ 熵/ 编码/ 的/ 加密/ 研究/ 较少/ ./ 如果/ 选择/ 加密/ 在/ 熵/ 编码/ 之前/ 进行/ ,/ 压缩/ 性能/ 会/ 降低/ ;/ 如果/ 选择/ 加密/ 在/ 熵/ 编码/ 之后/ 进行/ ,/ 将会/ 失去/ 格式/ 依赖性/ ./ 为了/ 更好/ 地/ 达到/ 压缩/ 的/ 目的/ ,/ 用/ H/ ./ 264/ 编/ Page3/ 码后/ 的/ 数据/ ,/ 无论是/ 残差/ 还是/ 其它/ 信息/ 最后/ 都/ 要/ 进行/ 熵/ 编码/ ,/ 因此/ 本文/ 选择/ 在/ 熵/ 编码/ 过程/ 中/ 嵌入/ 加密算法/ ,/ 结合/ H/ ./ 264/ 的/ 两种/ 熵/ 编码方法/ CABAC/ 和/ CAVLC/ ,/ 改进/ 了/ 两种/ 已有/ 的/ 基于/ 熵/ 编码/ 的/ 加密算法/ ./ 3.1/ 基于/ CABAC/ 的/ 加密算法/ 包先雨/ 等/ 人/ 提出/ 的/ 基于/ CABAC/ 的/ 数字视频/ 加密算法/ [/ 6/ ]/ ,/ 针对/ 旁路/ 编码/ 和/ 正规/ 编码/ 两种/ 模式/ ,/ 将/ 基于/ CABAC/ 的/ 加密算法/ 分为/ 旁路/ 编码/ 模式/ 加密/ 和/ 正规/ 编码/ 模式/ 加密/ ./ 它/ 的/ 思想/ 是/ 分别/ 对用/ CABAC/ 编码/ 的/ 残差/ 系数/ 、/ 帧/ 内/ 预测/ 模式/ 以及/ 运动/ 向量/ 差/ 进行/ 加密/ ,/ 因为/ 这些/ 数据/ 包含/ 了/ 视频/ 的/ 细节/ 信息/ 以及/ 运动/ 信息/ ,/ 对/ 它们/ 进行/ 加密/ 能/ 获得/ 较/ 好/ 的/ 安全性/ ./ 加密算法/ 嵌入/ 在/ CABAC/ 编码/ 过程/ 的/ 第一步/ ,/ 即/ 语法/ 元素/ 的/ 二值化/ 过程/ ./ 但是/ ,/ 这种/ 算法/ 对/ k/ 阶/ 指数/ 哥伦布/ (/ k/ -/ thorderExp/ -/ Golomb/ ,/ EGk/ )/ 码字/ 用/ 等/ 长/ 的/ 2l/ (/ x/ )/ +/ k/ +/ 1/ 大小/ 的/ 流/ 密钥/ 进行/ 加密/ 的/ 过程/ 不能/ 保持/ 格式/ 兼容性/ ./ 因为/ 对于/ 残差/ 系数/ 来说/ k/ =/ 0/ ,/ 这时/ 前缀/ 和/ 后缀/ 的/ 长度/ 相同/ ./ 解码器/ 通过/ 读入/ 连续/ 的/ 1/ 的/ 个数/ 来/ 判断/ 后缀/ 的/ 长度/ ,/ 进而/ 算/ 出/ 残差/ 系数/ 的/ 值/ ./ 如果/ 加密/ 前缀/ ,/ 很/ 可能/ 导致/ 前缀/ 长度/ 判断/ 错误/ ,/ 进而/ 后缀/ 长度/ 也/ 判断/ 错误/ ./ 这样/ 读该/ 残差/ 系数/ 的/ 时候/ 就会/ 多读/ 或/ 少读/ 比特流/ ,/ 导致/ 把/ 本/ 不是/ 该/ 残差/ 系数/ 的/ 比特流/ 当成/ 该/ 残差/ 系数/ 的/ 比特流/ 来/ 对待/ 或者/ 下/ 一个/ 语法/ 元素/ 解析/ 的/ 时候/ 指针/ 错误/ ,/ 最后/ 导致/ 整个/ 码流/ 的/ 解析/ 错误/ ./ 对于/ 运动/ 向量/ 差/ 来说/ ,/ 由于/ k/ =/ 3/ ,/ 后缀/ 的/ 长度/ 比/ 前缀/ 的/ 长度/ 大/ 3/ ,/ 解码/ 的/ 时候/ 通过/ 将/ 读入/ 的/ 连续/ 1/ 的/ 个数/ 加/ 3/ 得到/ 后缀/ 的/ 长度/ n/ ./ 再/ 读入/ n/ 个/ 比特/ ,/ 对/ 该/ 比特/ 进行/ 解析/ 得到/ 该/ 语法/ 元素/ 对应/ 的/ 值/ ./ 如果/ 前缀/ 的/ 长度/ 解析/ 失败/ ,/ 必然/ 会/ 造成/ 整个/ 码流/ 的/ 错位/ ./ 本文/ 与/ 原/ 算法/ 不同之处/ 在于/ 只/ 对/ EGk/ 后缀/ 加密/ ,/ 流/ 密钥/ 使用/ FLEX/ 流/ 密钥/ [/ 7/ ]/ ./ 前缀/ 和/ 后缀/ 的/ 长度/ 相差/ k/ ,/ 中间/ 由/ 一个/ 0/ 隔开/ ,/ 数值/ 越大/ 编码/ 后码/ 流/ 的/ 长度/ 越长/ ./ 前缀/ 的/ 长度/ l/ (/ x/ )/ =/ log2x/ 中/ ,/ x/ 为/ 要/ 编码/ 的/ 残差/ 系数/ 或/ 运动/ 矢量/ 差/ 的/ 值/ ,/ 前缀/ 每/ 一位/ 值/ 都/ 为/ 1/ ./ 后缀/ 的/ 长度/ 为/ l/ (/ x/ )/ +/ k/ ,/ 表示/ 的/ 值/ 为/ x/ +/ 2k/ (/ 1/ -/ 2l/ (/ x/ )/ )/ ./ 由于/ 前缀/ 不变/ ,/ 这种/ 算法/ 使得/ 加密/ 后/ 的/ 残差/ 系数/ 幅值/ 的/ 改变/ 在/ 一定/ 的/ 范围/ 之内/ ./ 对/ 残差/ 系数/ 来说/ ,/ 无论是/ 舍位/ 一元/ (/ TruncatedUnary/ ,/ TU/ )/ 前缀/ 加密/ 还是/ EGk/ 后缀/ 加密/ ,/ 加密算法/ 本身/ 都/ 能/ 保证/ 加密/ 后/ 的/ 残差/ 和/ 加密/ 前/ 的/ 残差/ 相比/ 保持/ 在/ 一定/ 范围/ 之内/ ,/ 因此/ 可以/ 对/ 所有/ 残差/ 进行/ 加密/ ,/ 而/ 不会/ 产生/ 对/ 码率/ 较大/ 的/ 影响/ ./ 为了/ 获得/ 更好/ 的/ 安全性/ ,/ 改进/ 算法/ 对/ 所有/ 残差/ 系数/ 的/ 符号/ 进行/ 加密/ ,/ 而/ 不仅仅/ 加密/ 残差/ 系数/ 绝对值/ 为/ 1/ 的/ 系数/ 符号/ 位/ ./ 3.2/ 基于/ CAVLC/ 的/ 加密算法/ 法国电信/ 北京/ 研发/ 中心/ 提出/ 的/ 一种/ 加密算法/ [/ 8/ ]/ 仅仅/ 改变/ 运动/ 向量/ 差/ 的/ 符号/ ,/ 这种/ 算法/ 不能/ 提供/ 足够/ 的/ 安全性/ ,/ 因为/ 可以/ 根据/ 运动/ 向量/ 差/ 的/ 绝对值/ 恢复/ 出/ 低分辨率/ 的/ 图像/ [/ 9/ ]/ ./ 本文/ 在/ 该/ 算法/ 的/ 基础/ 上/ 提出/ 对/ 运动/ 向量/ 差/ 采用/ 指数/ 哥伦布/ 加密算法/ 进行/ 加密/ ,/ 并且/ 除/ 加密/ AC/ 系数/ 的/ 符号/ 外/ ,/ 还/ 对/ AC/ 系数/ 的/ RunBefore/ 表格/ 进行/ 置乱/ ./ 由于/ 编码器/ 只/ 对/ 非/ 零/ 系数/ 进行/ 编码/ ,/ 并且/ 每个/ 非零/ 系数/ 都/ 对应/ 一个/ RunBefore/ 值/ ,/ 该值/ 表示/ 该/ 非/ 零/ 系数/ 前/ 连续/ 0/ 的/ 个数/ ,/ 因此/ 对/ RunBefore/ 表格/ 进行/ 置乱/ 可以/ 改变/ 亮度/ 4/ ×/ 4/ 变换/ 块/ 系数/ 中/ 0/ 的/ 分布/ 情况/ ,/ 再/ 结合/ 对/ 系数/ 符号/ 、/ DC/ 系数/ 幅值/ 、/ 帧/ 内/ 预测/ 模式/ 以及/ 运动/ 向量/ 差/ 的/ 加密/ ,/ 可以/ 达到/ 较/ 好/ 的/ 加密/ 效果/ ./ 这里/ 只/ 对/ 帧/ 内宏块/ 残差/ 进行/ 加密/ ,/ 因为/ 编码/ 后/ 的/ 码流/ 中/ 帧/ 内宏块/ 的/ 数据/ 占据/ 了/ 码流/ 的/ 极大/ 部分/ ,/ 如果/ 帧/ 内宏块/ 加密/ 强度/ 足够/ 的话/ ,/ 后面/ 以帧/ 内宏块/ 为/ 参考/ 的/ 帧/ 间/ 宏块/ 必定/ 失真/ 很大/ ,/ 这时/ 只/ 需要/ 对/ 帧/ 间/ 宏块/ 的/ 运动/ 向量/ 差/ 进行/ 加密/ 就/ 能/ 达到/ 足够/ 的/ 安全级别/ ./ 并且/ 对/ DC/ 系数/ 幅值/ 的/ 加密算法/ 将会/ 较大/ 程度/ 地/ 影响/ 压缩/ 效率/ ,/ 如果/ 加密/ 所有/ 残差/ 的/ DC/ 系数/ ,/ 将会/ 使得/ 加密算法/ 对/ 码率/ 的/ 影响/ 较大/ ,/ 不能/ 满足/ 实时/ 的/ 应用/ 需求/ ./ 文中/ 提到/ 用流/ 密钥/ 对幅值/ 进行/ 加密/ ,/ 但是/ 并未/ 提到/ 流/ 密钥/ 的/ 长度/ ./ 这/ 就/ 涉及/ 到/ DC/ 系数/ 和/ AC/ 系数/ 可能/ 达到/ 的/ 最大值/ 的/ 问题/ ./ 根据/ 计算/ 可以/ 得出/ 量化/ 后/ DC/ 系数/ 的/ 最大/ 可能/ 值为/ 1632/ ,/ (/ 1/ ,/ 1/ )/ 上/ 的/ 最大/ 可能/ 值为/ 1469/ ./ 因此/ ,/ 为了/ 保证/ 加密/ 后/ 的/ 幅值/ 在/ 范围/ 之内/ ,/ 最/ 多/ 可用/ 10/ 比特/ 的/ 流/ 密钥/ 对幅值/ 进行/ 加密/ ./ 流/ 密钥/ 的/ 长度/ 将/ 极大/ 地/ 影响/ 最终/ 的/ 压缩/ 效率/ 和/ 图像/ 的/ 可/ 理解/ 性/ ,/ 流/ 密钥/ 长度/ 越长/ ,/ 加密/ 效果/ 越/ 好/ ,/ 但是/ 压缩/ 效率/ 越差/ ./ 因此/ 为了/ 在/ 压缩率/ 和/ 安全性/ 之间/ 进行/ 折衷/ ,/ 通过/ 实验/ 数据/ 得出/ ,/ 流/ 密钥/ 的/ 长度/ 为/ 8/ 是/ 比较/ 合适/ 的/ ./ 加密/ 时要/ 注意/ 加密/ 后/ 的/ 幅值/ 不能/ 为/ 0/ ,/ 否则/ 也/ 会/ 出现/ 无法/ 解码/ 的/ 情况/ ./ 另外/ ,/ 对/ DC/ 系数/ 的/ 加密/ 过程/ 只能/ 适用/ 于/ 帧/ 内/ 4/ ×/ 4/ 块/ 的/ DC/ 系数/ ./ 对于/ 帧/ 内/ 16/ ×/ 16/ 宏块/ 和/ 色度/ 直流/ 系数/ 在/ 进行/ DCT/ 变换/ 后/ 还要/ 进行/ 哈达/ 码/ 变换/ ,/ 不能/ 对/ 哈达/ 码/ 变换/ 后/ 的/ 系数/ 进行/ 加密/ ./ 因为/ 改变/ 的/ DC/ 系数/ 可能/ 影响/ 后面/ AC/ 系数/ 码表/ 的/ 选择/ ,/ 如果/ 码表/ 选择/ 错误/ ,/ 解析/ 时/ 长度/ 就/ 会/ 发生/ 错误/ ,/ 最后/ 导致/ 解码/ 失败/ ./ Page44/ 基于/ 感兴趣/ 区域/ 的/ 加密算法/ 感兴趣/ 区域/ 是/ 视频/ 中/ 重要性/ 较/ 高/ 的/ 部分/ ,/ 通常/ 包含/ 更/ 多/ 的/ 敏感/ 信息/ ./ 对/ 视频/ 中/ 的/ 感兴趣/ 区域/ 进行/ 加密/ 能够/ 在/ 减少/ 加密算法/ 对/ 码率/ 、/ 编码/ 效率/ 的/ 影响/ 的/ 情况/ 下/ 保护/ 视频/ 的/ 重要/ 信息/ ./ 本文/ 提出/ 了/ 两种/ 基于/ 感兴趣/ 区域/ 的/ 加密算法/ ,/ 它们/ 分别/ 将/ 人脸/ 检测/ 和/ 运动/ 对象/ 检测/ 与/ 基于/ 熵/ 编码/ 的/ H/ ./ 264/ 加密算法/ 相结合/ ./ 4.1/ 基于/ 人脸/ 检测/ 的/ 加密算法/ 人脸/ 是/ 视频/ 中/ 出现/ 频率/ 较/ 高/ 的/ 对象/ ,/ 也/ 是/ 观众/ 注意力/ 集中/ 的/ 地方/ ./ 文献/ [/ 5/ ]/ 中/ 提出/ 了/ 一种/ 基于/ 人脸/ 图/ 1/ 编码/ 端/ 加密/ 流程图/ 解码/ 端/ 解密/ 框图/ 如图/ 2/ 所示/ ./ 对/ 拥有/ 密钥/ 的/ 认证/ 用户/ ,/ 熵/ 解码/ 过程/ 恢复/ 出/ 的/ 数据/ 和/ 在/ 编码/ 端/ 熵/ 编码/ 前/ 的/ 数据/ 相同/ ,/ 并且/ 解密/ 过程/ 在/ 预测/ 循环/ 之前/ ,/ 因此/ 重构/ 出来/ 的/ 图像/ 也/ 和/ 编码/ 端的/ 重构/ 图像/ 相同/ ,/ 加解密/ 过程/ 完全/ 可逆/ ./ 由于/ 加密算法/ 本身/ 的/ 格式/ 兼容性/ ,/ 对非/ 认证/ 用户/ 仍然/ 可以/ 正常/ 解码/ 加密/ 视频/ ./ 但是/ 由于/ 熵/ 解码/ 的/ 数据/ 未/ 经过/ 解密/ ,/ 参与/ 预测/ 循环/ 的/ 数据/ 也/ 是/ 未/ 经过/ 解密/ 的/ 数据/ ,/ 会/ 导致/ 加密/ 数据/ 发生/ 漂移/ ./ 这种/ 漂移/ 是/ 由/ 帧/ 间/ 预测/ 产生/ 的/ ./ 由于/ 该/ 算法/ 采用/ 图/ 2/ 解码/ 端/ 解密/ 流程图/ 文献/ 中/ 提出/ 了/ 这个/ 问题/ ,/ 但是/ 文中说/ 强制/ 某些/ 帧/ 间/ 预测/ 的/ 宏块/ 变为/ 帧/ 内/ 预测/ ./ 实验/ 结果显示/ ,/ 这种/ 方式/ 将会/ 不必要/ 地/ 增大/ 码流/ ./ 本文/ 提出/ 的/ 修改/ 模式/ 选择/ 的/ 过程/ 为/ 对/ 16/ ×/ 16/ 、/ 16/ ×/ 8/ 、/ 8/ ×/ 16/ 、/ 8/ ×/ 8/ 、/ P/ -/ SKIP/ 模式/ 进行/ 运动/ 估计/ ,/ 根据/ 每/ 一种/ 模式/ 估计/ 出/ 的/ 运动/ 向量/ 计算/ 参考/ 块/ 左上/ 、/ 右/ 上/ 、/ 左/ 下/ 、/ 右下/ 4/ 个/ 检测/ 和/ 跟踪/ 的/ 基于/ H/ ./ 264/ 的/ 视频/ 加密算法/ ./ 本文/ 将/ 提出/ 一种/ 不同/ 的/ 基于/ 人脸/ 检测/ 的/ 加密算法/ ./ 该/ 算法/ 与/ 文献/ [/ 5/ ]/ 的/ 不同之处/ 在于/ 通过/ 修改/ 模式/ 选择/ 算法/ [/ 10/ ]/ 避免/ 了/ 对/ 非/ 认证/ 用户加密/ 效果/ 扩散/ 导致/ 加密/ 区域/ 变形/ 的/ 问题/ ./ 为了/ 加密/ 视频/ 中/ 的/ ROI/ ,/ 文献/ [/ 11/ ]/ 提出/ 结合/ 灵活/ 宏块/ 排序/ (/ FlexibleMacroblockOrdering/ ,/ FMO/ )/ 类型/ 6/ ,/ 将/ 整帧/ 分成/ 两个/ 片组/ ,/ 分别/ 代表/ 前景/ 和/ 背景/ ./ 前景/ 片组/ 对应/ 需要/ 加密/ 的/ 感兴趣/ 区域/ ./ 在/ H/ ./ 264/ 编码/ 过程/ 进行/ 加密/ 的/ 流程/ 如图/ 1/ 所示/ ./ 很/ 明显/ ,/ 加密/ 参数/ 不/ 参与/ 预测/ ,/ 因此/ 不会/ 影响/ 以/ 当前/ 帧/ 为/ 参考/ 帧/ 的/ 其它/ 帧/ 的/ 编码/ ,/ 也就是说/ 编码/ 端的/ 错误/ 不会/ 扩散/ ./ FMO/ ,/ 人脸/ 和/ 非/ 人脸/ 区域/ 属于/ 不同/ 的/ 片组/ ,/ 而/ H/ ./ 264/ 标准规定/ 帧/ 内/ 预测/ 不能/ 跨片/ 进行/ ,/ 帧/ 内/ 预测/ 错误/ 不会/ 发生/ 漂移/ ./ 但是/ 帧/ 间/ 预测/ 没有/ 片/ 边界/ ,/ 运动/ 估计/ 的/ 时候/ 不会/ 判断/ 参考/ 帧/ 的/ 当前/ 搜索/ 像素/ 属于/ 哪个/ 片/ ,/ 这样/ 通过/ 运动/ 估计/ 得到/ 的/ 运动/ 向量/ 可能/ 使得/ 属于/ 非/ 人脸/ 的/ 背景/ 片组/ 的/ 像素/ 以/ 属于/ 人脸/ 的/ 前景/ 片/ 组为/ 参考/ ./ 而/ 人脸/ 部分/ 是/ 加密/ 的/ ,/ 背景/ 部分/ 就/ 会/ 被/ 加密/ 的/ 前景/ 部分/ 影响/ ,/ 重构/ 出来/ 的/ 图像/ 会/ 发生/ 扭曲/ 的/ 现象/ ,/ 不再/ 是/ 一个/ 矩形/ 区域/ ./ 角/ 的/ 坐标/ ,/ 并/ 计算/ 出/ 这/ 4/ 个角/ 所属/ 的/ 宏块/ 号/ ./ 判断/ 这/ 4/ 个宏块/ 中/ 是否/ 有/ 任何/ 一个/ 宏块/ 属于/ 前景/ 片/ ,/ 而/ 当前/ 编码/ 宏块/ 属于/ 背景/ 片/ ,/ 如果/ 有/ 则/ 将/ 当前/ 模式/ 置/ 为/ 不可/ 用/ ./ 后面/ 选择/ 最佳/ 模式/ 时/ 无论/ 是否/ 启用/ RDO/ 都/ 不用/ 判断/ 这种/ 模式/ ./ 本文/ 使用/ FMO/ 类型/ 2/ ,/ 用/ AdaBoost/ 算法/ [/ 12/ ]/ 检/ Page5/ 测/ 人脸/ ,/ 对/ 检测/ 的/ 人脸/ 区域/ 进行/ 加密/ ,/ 加密算法/ 使用/ 第/ 3.2/ 节中/ 介绍/ 的/ 基于/ CAVLC/ 的/ 加密算法/ ./ 4.2/ 基于/ 运动/ 对象/ 检测/ 的/ 加密算法/ 运动/ 对象/ 也/ 是/ 视频/ 中/ 的/ 感兴趣/ 区域/ 之一/ ./ 要/ 对/ 运动/ 对象/ 进行/ 加密/ 首先/ 要/ 提取/ 运动/ 对象/ ./ 现有/ 的/ 基于/ H/ ./ 264/ 的/ 运动/ 对象/ 提取/ 都/ 是/ 基于/ 压缩/ 域/ 进行/ 的/ ./ 而/ 基于/ H/ ./ 264/ 的/ 加密/ 必须/ 和/ 编码/ 过程/ 结合/ 起来/ ./ 本文/ 提出/ 的/ 算法/ 在/ 编码/ 过程/ 中/ 提取/ 运动/ 对象/ ,/ 并/ 对/ 运动/ 对象/ 进行/ 加密/ ,/ 它/ 利用/ 了/ 编码/ 过程/ 中/ 产生/ 的/ 运动/ 向量/ ./ 这种/ 思想/ 在/ 前人/ 的/ 文章/ 中/ 并未/ 提出/ ./ 由于/ 运动/ 对象/ 提取/ 本身/ 是/ 一个/ 比较复杂/ 的/ 方向/ ,/ 本文/ 简化/ 了/ 刘志/ 等/ 人/ 在/ 文献/ [/ 13/ ]/ 中/ 提出/ 的/ 基于/ H/ ./ 264/ 压缩/ 域/ 的/ 实时/ 运动/ 对象/ 分割/ 算法/ ,/ 并/ 对/ 提取/ 的/ 运动/ 对象/ 进行/ 加密/ ./ 运动/ 对象/ 提取/ 过程/ 和/ 编码/ 过程同步/ ./ 由于/ H/ ./ 264/ 运动/ 向量/ 搜索算法/ 的/ 最小/ 单位/ 是/ 4/ ×/ 4/ 块/ ,/ 运动/ 向量/ 的/ 精度/ 达到/ 四分之一/ 精度/ ./ 根据/ 模式/ 选择/ 的/ 结果/ ,/ 对以/ 16/ ×/ 16/ 、/ 16/ ×/ 8/ 、/ 8/ ×/ 16/ 、/ 8/ ×/ 8/ 等/ 为/ 单位/ 进行/ 运动/ 估计/ 的/ 宏块/ ,/ 将/ 运动/ 估计/ 的/ 结果/ (/ 该块/ 的/ 运动/ 向量/ )/ 赋给/ 该/ 块/ 包含/ 的/ 所有/ 4/ ×/ 4/ 子块/ ./ 由于/ H/ ./ 264/ 采用/ 了/ 可变/ 块/ 大小/ 的/ 运动/ 估计/ 算法/ ,/ 在/ 用/ 运动/ 矢量/ 场/ 进行/ 运动/ 对象/ 分割/ 的/ 时候/ 以/ 4/ ×/ 4/ 块/ 为/ 基本/ 单位/ ./ 运动/ 对象/ 提取/ 分为/ 运动/ 矢量/ 场/ 的/ 归一化/ 和/ 积累/ 、/ 全局/ 运动/ 补偿/ 以及/ 运动/ 对象/ 提取/ 三步/ ./ 其中/ 运动/ 矢量/ 场/ 的/ 归一化/ 和/ 积累/ 的/ 目的/ 是/ 获得/ 更加/ 平滑/ 的/ 稠密/ 运动/ 向量场/ ,/ 全局/ 运动/ 补偿/ 的/ 目的/ 是/ 去掉/ 由/ 摄像机/ 运动/ 引起/ 的/ 全局/ 运动/ ,/ 剩下/ 由/ 运动/ 对象/ 产生/ 的/ 局部/ 运动/ ,/ 最后/ 用/ 全局/ 运动/ 估计/ 得到/ 的/ 参数/ 计算/ 得到/ 残差/ 运动/ 向量场/ ./ 残差/ 越大/ 说明/ 其/ 属于/ 运动/ 对象/ 可能性/ 越大/ ,/ 残差/ 越小/ 说明/ 其/ 属于/ 背景/ 的/ 可能性/ 越大/ ./ 对/ 所有/ 残差/ 求/ 一个/ 平均值/ ,/ 大于/ 这个/ 平均值/ 的/ T/ %/ 的/ 被/ 认为/ 是/ 运动/ 对象/ ,/ 此/ 为/ 阈值/ 1/ ./ 由于/ 最后/ 加密/ 的/ 单位/ 是/ 16/ ×/ 16/ 宏块/ ,/ 而/ 这里/ 得到/ 的/ 是/ 每个/ 4/ ×/ 4/ 块/ 被/ 判断/ 为/ 运动/ 对象/ 还/ 是非/ 运动/ 对象/ ./ 因此/ 必须/ 设置/ 一个/ 阈值/ ,/ 如果/ 一个/ 16/ ×/ 16/ 宏块/ 中/ 被/ 判断/ 为/ 前景/ 的/ 4/ ×/ 4/ 宏块/ 的/ 个数/ 大于/ 这个/ 阈值/ ,/ 那么/ 这个/ 16/ ×/ 16/ 被/ 判断/ 为/ 运动/ 前景/ ,/ 此/ 为/ 阈值/ 2/ ./ 如果/ 阈值/ 设置/ 过大/ ,/ 可能/ 提取/ 的/ 运动/ 对象/ 不/ 完全/ ,/ 如果/ 阈值/ 设置/ 过/ 小/ ,/ 则/ 会/ 造成/ 将/ 不/ 属于/ 运动/ 对象/ 的/ 背景/ 区域/ 错划/ 成/ 运动/ 对象/ ./ 由于/ I/ 帧/ 包含/ 大量/ 信息/ ,/ 并且/ I/ 帧/ 不/ 包含/ 运动/ 向量/ 信息/ ,/ 因此/ 本/ 算法/ 对/ I/ 帧/ 的/ 所有/ 宏块/ 加密/ ./ 仅仅/ 加密/ I/ 帧/ 不能/ 提供/ 足够/ 的/ 安全性/ 抵抗/ 已知/ 明文/ 攻击/ ./ 未/ 加密/ 的/ I/ 块/ 和/ B/ 帧/ 、/ P/ 帧/ 的/ 运动/ 向量/ 可以/ 用来/ 恢复/ 部分/ 原始/ 视频/ 的/ 视觉/ 信息/ ./ 本/ 算法/ 对/ P/ 帧/ 运动/ 对象/ 所属/ 的/ 宏块/ 进行/ 加密/ ,/ 由于/ P/ 帧/ 以/ I/ 帧/ 作为/ 参考/ ,/ P/ 帧/ 被/ 影响/ 的/ 宏块/ 不仅仅/ 是/ 加密/ 的/ 宏块/ ,/ 未/ 加密/ 的/ 宏块/ 由于/ 帧/ 间/ 预测/ 也/ 会/ 被/ 影响/ ./ 运动/ 对象/ 加密算法/ 流程图/ 如图/ 3/ 所示/ ,/ 加密算法/ 使用/ 3.1/ 节中/ 介绍/ 的/ 基于/ CABAC/ 的/ 加密算法/ ./ 算法/ 首先/ 判断/ 当前/ 编码/ 帧/ 是否/ 为/ I/ 帧/ ,/ 如果/ 是/ 则/ 对/ 所有/ I/ 帧/ 的/ 宏块/ 加密/ 、/ 熵/ 编码/ 、/ 写码/ 流/ ;/ 如果/ 不是/ 则/ 通过/ 当前/ 的/ 帧/ 号/ 判断/ 是否/ 已经/ 记录/ 了/ 3/ 帧/ 的/ 运动/ 向量/ ,/ 如果/ 是/ 则/ 用/ 上文/ 的/ 方法/ 提取/ 运动/ 对象/ ,/ 否则/ 记录/ 运动/ 向量/ 等/ 信息/ ,/ 这些/ 信息/ 包括/ 用于/ 提取/ 运动/ 对象/ 的/ 运动/ 向量/ 差/ 以及/ 延迟/ 写码/ 流/ 的/ 所有/ 宏块/ 信息/ ,/ 每/ 3/ 帧/ 写/ 一次/ 码流/ 直到/ 一个/ 图像/ 组/ (/ GroupOfPictures/ ,/ GOP/ )/ 编码/ 结束/ ./ 提取/ 运动/ 对象/ 的/ 过程/ 和/ 编码/ 过程/ 可以/ 并行/ ,/ 采用/ 的/ 加密算法/ 对/ 编码/ 效率/ 几乎/ 没有/ 影响/ ,/ 因此/ 该/ 算法/ 基本/ 不/ 影响/ 编码/ 效率/ ./ 5/ 实验/ 结果/ 与/ 分析/ 5.1/ 基于/ 人脸/ 检测/ 的/ 加密算法/ 实验/ 结果/ 使用/ 基本/ 档次/ 进行/ 编码/ ,/ 配置文件/ 的/ 参数/ 为/ 编码/ 10/ 帧/ ,/ 每/ 10/ 帧/ 一个/ GOP/ ,/ 包含/ 1/ 个/ I/ 帧/ 以及/ 9/ 个/ P/ 帧/ ,/ 量化/ 参数/ QP/ 为/ 30/ ,/ CAVLC/ 编码/ ,/ 用人/ 脸/ 检测/ 的/ 结果/ 初始化/ FMO/ 参数/ ./ 图/ 4/ 给出/ 了/ 采用/ 本文/ 的/ 算法/ ,/ 加密/ 前/ 和/ 加密/ 后/ PSNR/ 值/ 的/ 变化/ ./ 横轴/ 表示/ 18/ 段/ 视频/ 序列/ ,/ 纵轴/ 表示/ PSNR/ 值/ ./ 可以/ 看出/ 加密/ 后/ 的/ PSNR/ 值/ 平均/ 降低/ Page6/ 了/ 25dB/ ,/ 质量/ 退化/ 比较/ 明显/ ./ 因此/ ,/ 该/ 算法/ 具有/ 较/ 好/ 的/ 感知/ 安全性/ ./ 图/ 5/ 给出/ 了/ 不/ 修改/ 模式/ 选择/ 算法/ 加密/ suzie/ 序列/ 10/ 帧/ 的/ 效果/ ./ (/ a/ )/ ~/ (/ j/ )/ 为/ 加密/ 后/ 的/ 第/ 1/ 帧/ 到/ 第/ 10/ 帧/ ./ 由图/ 中/ 可以/ 看出/ ,/ 加密/ 的/ 人脸/ 区域/ 发生/ 了/ 扭曲/ 的/ 现象/ ./ 使用/ 文献/ [/ 5/ ]/ 的/ 算法/ 修改/ 模式/ 选择/ 后/ 的/ 加密/ 效果/ 如图/ 6/ 所示/ ,/ (/ a/ )/ ~/ (/ j/ )/ 为/ 加密/ 后/ 的/ 第/ 1/ 帧/ 到/ 第/ 10/ 帧/ ./ 可以/ 看出/ 直接/ 将/ 某些/ 帧/ 间/ 宏块/ 修改/ 改为/ 帧/ 内宏块/ 的/ 做法/ 使得/ 加密/ 的/ 人脸/ 矩形/ 区域/ 的/ 边界/ 清晰可见/ ./ 使用/ 本文/ 提出/ 的/ 算法/ 修改/ 模式/ 选择/ 后/ 的/ 加密/ 效果/ 如图/ 7/ 所示/ ,/ (/ a/ )/ ~/ (/ j/ )/ 为/ 加密/ 后/ 的/ 第/ 1/ 帧/ 到/ 第/ 10/ 帧/ ./ 可以/ 看出/ 本文/ 提出/ 的/ 算法/ 使得/ 人脸/ 矩形/ 区域/ 的/ 边界/ 有/ 轻微/ 的/ 模糊/ 现象/ ./ 这/ 可能/ 是因为/ 人脸/ 区域/ 和/ 非/ 人脸/ 区域/ 边界/ 像素/ 的/ 判断/ 问题/ ./ 算法/ 通过/ 判断/ 参考/ 块/ 四角/ 像素/ 所属/ 的/ 宏块/ 是否/ 和/ 当前/ 编码/ 宏块/ 属于/ 同一个/ 片来/ 决定/ 是否/ 使用/ 当前/ 模式/ 作为/ 候选/ 模式/ ./ 但/ 可能/ 参考/ 宏块/ 中/ 四角/ 的/ 像素/ 属于/ 前景/ 片/ ,/ 但/ 由于/ 像素/ 处于/ 前景/ 片/ 和/ 背景/ 片/ 的/ 边界/ ,/ 这个/ 像素/ 值/ (/ 二分之一/ 精度/ 或/ 四分之一/ 精度/ )/ 是/ 由/ 属于/ 前景/ 片/ 的/ 像素/ 和/ 属于/ 背景/ 片/ 的/ 像素/ 共同/ 插值/ 得到/ 的/ ,/ 造成/ 人脸/ 区域/ 边界/ 的/ 轻微/ 模糊/ ./ 本文/ 算法/ 和/ 不/ 修改/ 模式/ 选择/ 算法/ 以及/ 文献/ 中/ 算法/ 对/ 码率/ 影响/ 的/ 比较/ 如图/ 8/ 所示/ ./ 可以/ 看到/ 本文/ 算法/ 基本/ 不/ 改变/ 原始/ 的/ 码率/ ,/ 但是/ 文献/ [/ 5/ ]/ 中/ 的/ 算法/ 对/ 码率/ 的/ 影响/ 却/ 在/ 两倍/ 以上/ ./ 这/ 可能/ 是因为/ 直接/ 将/ 某些/ 帧/ 间/ 宏块/ 模式/ 修改/ 为/ 帧/ 内/ 模式/ 时/ 并/ 没有/ 考虑/ 率/ 失真/ 优化/ ./ 这种/ 算法/ 去掉/ 了/ 最佳/ 模式/ 是/ 帧/ 间/ 模式/ ,/ 且/ 它/ 使得/ 非/ 前景/ 片/ 参考/ 了/ 前景/ 片/ 或/ 相反/ 的/ 这种/ 帧/ 间/ 预测/ 模式/ ./ 但是/ 除了/ 这种/ 模式/ 之外/ ,/ 可能/ 还有/ 另/ 一种/ 帧/ 间/ 模式/ 使得/ 率/ 失真/ 达到/ 次优/ ,/ 却/ 不/ 满足/ 非/ 前景/ 片/ 参考/ 了/ 前景/ 片/ 或/ 相反/ ,/ 而/ 它/ 被/ 文献/ 中/ 的/ 方法/ 剔除/ 掉/ 了/ ,/ 导致/ 了/ 码率/ 大大/ 地/ 增加/ ./ 从/ 时间/ 上/ 来看/ 完全/ 加密算法/ 的/ 时间/ 比/ 不/ 加密/ 的/ 时间/ 有/ 略微/ 的/ 增长/ ,/ 这个/ 增长/ 是/ 由/ 加密/ 过程/ 产生/ 的/ ./ 而/ 本文/ 的/ 人脸/ 加密算法/ 和/ 文献/ [/ 5/ ]/ 中/ 提到/ 的/ 人脸/ 加密算法/ 相比/ 不/ 加密/ 的/ 算法/ 时间/ 上/ 还有/ 下降/ ,/ 文献/ 中/ 的/ 算法/ 时间/ 下降/ 更加/ 明显/ ,/ 这/ 主要/ 是/ 由于/ 模式/ 选择/ 过程/ 中/ 某些/ 模式/ 的/ 判断/ 提前结束/ 造成/ 的/ ./ 由于/ 模式/ 选择/ 过程/ 占/ 整个/ H/ ./ 264/ 编码/ 时间/ 的/ 较大/ 部分/ ,/ 因此/ 文献/ 算法/ 在/ 时间/ 上/ 有/ 比较/ 明显/ 的/ 降低/ ./ 但是/ 文献/ [/ 5/ ]/ 算法/ 在/ 时间/ 上/ 获得/ 8.8/ %/ 左右/ 的/ 减少/ 却是/ 以/ 增大/ 153/ %/ 的/ 码率/ 为/ 代价/ 的/ ./ 而/ 本文/ 的/ 算法/ 和/ 完全/ 加密/ 的/ 算法/ 相比/ 在/ 时间/ 上/ 有所/ 降低/ ,/ 码率/ 的/ 增加/ 也/ 不大/ ./ 实验/ 在/ CPU/ 为/ P42/ ./ 4GHz/ ,/ 内存/ 512MB/ 的/ 微机/ 上/ 进行/ ./ Page7/ 加密算法/ 采用/ 的/ 是/ 基于/ CAVLC/ 的/ 加密算法/ ,/ 本/ 算法/ 的/ 安全性/ 和/ 基于/ CAVLC/ 的/ 加密算法/ 类似/ ./ 由于/ 置/ 乱/ 的/ 前景/ 对象/ 和/ 背景/ 对象/ 有/ 不同/ 的/ 特征/ ,/ 前景/ 不能/ 通过/ 背景/ 预测/ 得到/ ,/ 因此/ 不能/ 使用/ 错误/ 隐藏/ 攻击/ 恢复/ 视频/ 内容/ ./ 5.2/ 基于/ 运动/ 对象/ 检测/ 的/ 加密算法/ 实验/ 结果/ 本文/ 对/ 运动/ 序列/ 进行/ 测试/ ,/ 使用/ 主/ 档次/ 进行/ 编码/ ,/ 配置文件/ 的/ 参数/ 为/ 编码/ 10/ 帧/ ,/ 每/ 10/ 帧/ 一个/ GOP/ ,/ 加密/ 效果/ 如图/ 10/ 所示/ ,/ (/ a/ )/ 和/ (/ b/ )/ 分别/ 为/ 第/ 1/ 帧/ 加密/ 前后/ 的/ 对比/ 图/ ,/ (/ c/ )/ 和/ (/ d/ )/ 分别/ 是/ 第/ 10/ 帧/ 加密/ 前图/ 9/ 运动/ 对象/ 分割/ 结果/ 图图/ 10/ 加密/ 效果图/ 示意图/ 图/ 11/ 给出/ 了/ 加密/ 前/ 和/ 加密/ 后/ PSNR/ 值/ 的/ 比较/ ./ 横轴/ 表示/ 视频/ 序列/ 编号/ ,/ 纵轴/ 表示/ PSNR/ 的/ 值/ ./ 可以/ 看出/ 加密/ 后/ 的/ PSNR/ 值/ 平均/ 下降/ 了/ 23dB/ ./ 因此/ ,/ 该/ 算法/ 具有/ 较/ 好/ 的/ 感知/ 安全性/ ./ 运动/ 对象/ 的/ 加密算法/ 对/ 码率/ 的/ 影响/ 与/ 其他/ 算法/ 的/ 比较/ 见图/ 12/ 所示/ ./ 可以/ 看出/ ,/ 由于/ 加密/ 的/ 数据/ 量变/ 少/ ,/ 该/ 方法/ 与/ 对/ I/ 帧/ 、/ P/ 帧/ 的/ 所有/ 宏块/ 进行/ 加密/ 的/ 包含/ 1/ 个/ I/ 帧/ 以及/ 9/ 个/ P/ 帧/ ,/ 量化/ 参数/ QP/ 为/ 30/ ,/ CABAC/ 编码/ ./ 阈值/ 1/ 设置/ 为/ 22/ ./ 对于/ 阈值/ 2/ ,/ 图/ 9/ 给出/ 了/ 不同/ 阈值/ 的/ 分割/ 结果/ ./ 可以/ 看出/ 阈值/ 为/ 1/ 时/ 分割/ 出/ 的/ 运动/ 对象/ 包括/ 不是/ 运动/ 对象/ 但/ 有/ 轻微/ 运动/ 的/ 背景/ ;/ 阈值/ 为/ 15/ 时/ 分割/ 出/ 的/ 运动/ 对象/ 只是/ 运动/ 对象/ 的/ 一部分/ ,/ 并/ 不/ 完全/ ;/ 阈值/ 为/ 6/ 时/ 分割/ 出/ 的/ 运动/ 对象/ 比较/ 合适/ ./ 后/ 的/ 对比/ 图/ ./ 实验/ 结果表明/ ,/ 无论/ 对于/ I/ 帧/ 还是/ P/ 帧/ 该/ 算法/ 都/ 能/ 达到/ 较/ 好/ 的/ 加密/ 效果/ ./ 算法/ 相比/ 码率/ 有所/ 下降/ ,/ 比仅/ 加密/ I/ 帧/ 的/ 算法/ 码率/ 有所增加/ ,/ 所/ 增加/ 的/ 码率/ 除了/ 是/ 由/ 对/ 运动/ 对象/ 加密/ 导致/ 的/ 以外/ ,/ 还/ 包括/ 帧/ 间/ 预测/ 时/ 错误扩散/ 产生/ 的/ ./ 提取/ 的/ 运动/ 对象/ 的/ 大小/ 越大/ ,/ 增加/ 的/ 码率/ 越大/ ./ 图/ 12/ 运动/ 对象/ 加密/ 与/ 其它/ 加密算法/ 码率/ 比较/ 图/ 基于/ 运动/ 对象/ 的/ 加密算法/ 是/ 建立/ 在/ 基于/ CABAC/ 的/ 加密算法/ 的/ 基础/ 上/ 的/ ,/ 它/ 的/ 安全性/ 和/ 基于/ CABAC/ 加密算法/ 的/ 安全性/ 类似/ ./ 由于/ 被/ 加密/ 的/ 视频/ 对象/ 被/ 隐藏/ 了/ ,/ 敌手/ 除了/ 破解/ 算法/ 本身/ 外/ ,/ 还/ 需要/ 破解/ 哪些/ 宏块/ 是/ 被/ 加密/ 宏块/ ./ 因此/ ,/ 这种/ 算法/ 能够/ 在/ 不/ 降低/ 安全性/ 的/ 情况/ 下/ ,/ 减小/ 加密算法/ 对/ 码率/ 的/ 影响/ ,/ 满足/ 实时性/ 的/ 要求/ ./ Page86/ 结论/ 由于/ 视频/ 中/ 的/ 感兴趣/ 区域/ 是/ 视频/ 需要/ 重点保护/ 的/ 对象/ ,/ 为了/ 减少/ 视频/ 加密算法/ 对/ 码率/ 的/ 影响/ ,/ 获得/ 安全性/ 和/ 加密/ 效率/ 之间/ 较/ 好/ 的/ 折衷/ ,/ 本文/ 提出/ 一种/ 基于/ 感兴趣/ 区域/ 的/ H/ ./ 264/ 加密算法/ ./ 该/ 算法/ 能够/ 在/ 不/ 降低/ 安全性/ 的/ 情况/ 下/ 节省/ 一定/ 的/ 码率/ ,/ 达到/ 安全性/ 和/ 加密/ 效率/ 之间/ 的/ 较/ 好/ 折衷/ ,/ 并/ 可以/ 满足/ 实时/ 应用/ 的/ 需求/ ,/ 为/ 进一步/ 研究/ 基于/ H/ ./ 264/ 的/ 加密算法/ 提供/ 了/ 一种/ 切实可行/ 的/ 研究/ 思路/ ./ 今后/ 我们/ 将/ 继续/ 深入研究/ 基于/ 感兴趣/ 区域/ 的/ 加密算法/ 中/ 的/ 几个/ 关键问题/ ,/ 这/ 主要/ 包括/ :/ (/ 1/ )/ 设计/ 基于/ H/ ./ 264/ 扩展/ SVC/ 的/ 感兴趣/ 区域/ 的/ 加密算法/ ;/ (/ 2/ )/ 结合/ 其他/ 视频/ 处理/ 方法/ 分析/ 基于/ 熵/ 编码/ 的/ 加密算法/ 的/ 安全性/ ;/ (/ 3/ )/ 在/ 使用/ 全局/ 运动/ 估计/ 的/ 运动/ 向量/ 差/ 的/ 基础/ 上/ 结合/ 其他/ 方法/ 以/ 更加/ 精确/ 地/ 提取/ 运动/ 对象/ ;/ (/ 4/ )/ 设法/ 利用/ 不同/ 视频/ 序列/ 的/ 特性/ 自动/ 确定/ 提取/ 运动/ 对象/ 时/ 所/ 需/ 的/ 阈值/ ;/ (/ 5/ )/ 对/ 大量/ 视频/ 进行/ 统计/ ,/ 分析/ 在/ H/ ./ 264/ 的/ 编码/ 过程/ 中/ 各/ 参数/ 对/ 可/ 理解/ 程度/ 的/ 影响/ ,/ 根据/ 分析/ 结果/ 针对/ 不同/ 重要性/ 的/ 参数/ 使用/ 不同/ 安全级别/ 的/ 加密算法/ 进行/ 处理/ ./ 

