Page1/ 带/ 时间/ 约束/ 实时/ 任务/ 图/ 模型/ 上/ 可/ 调度/ 性/ 分析/ 算法/ 研究/ 孙景昊/ 关楠/ 邓庆绪/ (/ 东北大学/ 信息科学/ 与/ 工程学院/ 沈阳/ 110819/ )/ 摘要/ 带/ 时间/ 约束/ 的/ 实时/ 任务/ 图/ (/ TCDRT/ )/ 模型/ 具有/ 接近/ 于/ 时间/ 自动机/ 的/ 丰富/ 表达/ 性/ ,/ 但是/ 其/ 关联/ 的/ 可/ 调度/ 性/ 分析/ (/ SA/ )/ 问题/ 却是/ 强/ NP/ 困难/ 的/ ./ 目前/ 的/ 研究/ 仅/ 关注/ 一类/ 约束/ 个数/ 为/ 常数/ K/ 的/ 易解/ 模型/ :/ K/ -/ TCDRT/ ,/ 且/ 局限于/ SA/ 问题/ 的/ 图/ 转换/ 求解/ 方法/ ./ 这种/ 间接/ 求法/ 使得/ 问题/ 的/ 计算/ 复杂度/ 随/ 约束/ 宽度/ 呈/ 指数/ 倍/ 增长/ ./ 该文/ 研究/ TCDRT/ 模型/ 上/ 可/ 调度/ 性/ 分析/ 问题/ 的/ 直接/ 求解/ 方法/ ,/ 为/ 两个/ 核心/ 子/ 问题/ 给出/ 新/ 的/ 理论/ 结果/ :/ 第一/ ,/ 针对/ 需求/ 上/ 界/ 函数/ (/ DBF/ )/ 的/ 计算/ 问题/ ,/ 提出/ 了/ 考虑/ 时间/ 约束/ 的/ 路径/ 需求/ 结构/ ,/ 并/ 据此/ 设计/ 了/ 新/ 的/ 动态/ 规划/ 算法/ ,/ 其/ 时间/ 复杂度/ 与/ 约束/ 宽度/ 无关/ ;/ 第二/ ,/ 对于/ 可/ 调度/ 分析/ 上界/ T/ 的/ 限定/ 问题/ ,/ 从/ 理论/ 上/ 证明/ 了/ 该/ 问题/ 是/ 伪/ 多项式/ 时间/ 可解/ 的/ ,/ 且/ 计算/ 复杂度/ 不再/ 与/ K/ 指数/ 相关/ ,/ 这/ 使得/ 文中/ 算法/ 性能/ 较/ 已有/ 结果/ 有/ 指数/ 级/ 提升/ ./ 更进一步/ 地/ ,/ 该文/ 方法/ 还/ 蕴含着/ 一类/ 新/ 的/ TCDRT/ 易解/ 模型/ ./ 该类/ 模型/ 突破/ 了/ 约束/ 个数/ 必须/ 为/ 常数/ 的/ 局限/ ,/ 其/ 分析/ 难度/ 也/ 较/ K/ -/ TCDRT/ 有/ 指数/ 倍/ 地/ 下降/ ./ 关键词/ 时间/ 约束/ ;/ 实时/ 任务/ 图/ ;/ 可/ 调度/ 性/ 分析/ ;/ 需求/ 上/ 界/ 函数/ ;/ 动态/ 规划/ 1/ 引言/ 在/ 实时/ 系统验证/ 领域/ ,/ 形式化/ 模型/ 更/ 关注/ 系统/ 的/ 时间/ 行为/ 和/ 不确定性/ 等/ 非/ 功能/ 特征/ ,/ 是/ 系统/ 可/ 调度/ 性/ 分析/ 的/ 理论/ 基础/ ./ 为/ 便于/ 理论/ 分析/ ,/ 形式化/ 模型/ 通常/ 将/ 系统/ 抽象/ 为/ 一组/ 独立/ 且/ 并发/ 的/ 实时/ 任务/ T/ =/ {/ τ/ 1/ ,/ …/ ,/ τ/ N/ }/ ,/ 每个/ 任务/ τ/ i/ 都/ 将/ 产生/ 无限/ 数量/ 的/ 作业/ 序列/ ./ 其中/ ,/ 最/ 经典/ 的/ 实时/ 系统/ 模型/ 是/ Liu/ 和/ Layland/ (/ 1973/ )/ [/ 1/ ]/ 提出/ 的/ 周期/ 任务模型/ ./ 该/ 模型/ 上/ 定义/ 的/ 可/ 调度/ 性/ 分析/ (/ SchedulabilityAnalysis/ ,/ SA/ )/ 问题/ 存在/ 多项式/ 时间/ 算法/ ./ 然而/ ,/ 模型/ 在/ 刻画/ 系统/ 行为/ 方面/ 却/ 受到/ 极大/ 局限/ :/ 实时/ 任务/ 的/ 截止期/ 必须/ 和/ 周期/ 相等/ ;/ 任务/ 释放/ 的/ 作业/ 具有/ 统一/ 的/ 执行/ 时间/ ,/ 且/ 释放/ 时刻/ 必须/ 严格/ 限定/ 在/ 周期/ 的/ 整数倍/ ./ 作为/ 另/ 一个/ 极端/ ,/ 时间/ 自动机/ (/ TimedAutomata/ ,/ TA/ )/ [/ 2/ -/ 3/ ]/ 能够/ 精确/ 刻画/ 系统/ 的/ 时间/ 特征/ ,/ 是/ 实时/ 系统/ 最强/ 有效/ 的/ 形式化/ 模型/ 之一/ ./ 但是/ ,/ TA/ 上/ SA/ 问题/ 却是/ 强/ NP/ 困难/ 的/ ,/ 甚至/ 是/ 不/ 可判定性/ 问题/ [/ 4/ ]/ ./ 一种/ 优良/ 的/ 实时/ 任务模型/ 需在/ 可/ 表达/ 性和易/ 解性/ 之间/ 寻求/ 一个/ 折衷/ [/ 5/ ]/ ./ 之前/ 的/ 研究/ 通常/ 把/ SA/ 问题/ 是否/ 具有/ (/ 伪/ )/ 多项式/ 时间/ 算法/ ,/ 作为/ 衡量/ 一个/ 模型/ 是否/ 易解/ 的/ 标准/ [/ 6/ ]/ ./ 在/ TA/ 和/ 易解/ 模型/ 之间/ 划定/ 一条/ 精确/ 的/ 界限/ ,/ 是/ 实时/ 系统/ 领域/ 面临/ 的/ 一个/ 挑战性/ 问题/ [/ 7/ ]/ ./ 在/ 过去/ 的/ 40/ 年间/ ,/ 众多/ 学者/ 致力于/ 提出/ 尽可能/ 接近/ TA/ 的/ 易解/ 模型/ ,/ 将/ 模型/ 上/ SA/ 问题/ 的/ 难度/ 限定/ 在/ 弱/ NP/ 困难/ 问题/ 之内/ ,/ 探究/ 伪/ 多项式/ 时间/ 算法/ 的/ 存在/ 性/ ,/ 并/ 努力/ 尝试/ 优化/ 和/ 提高/ 算法/ 的/ 性能/ ./ 偶发/ 任务模型/ 是/ 直接/ 扩展/ 自/ Liu/ &/ Layland/ 模型/ 的/ 首个/ 系统/ 模型/ [/ 8/ ]/ ./ 该/ 模型/ 刻画/ 了/ 实时/ 任务/ 释放/ 作业/ 时刻/ 的/ 不确定性/ ./ 与/ Liu/ &/ Layland/ 模型/ 不同/ ,/ 偶发/ 任务模型/ 上/ 定义/ 的/ SA/ 问题/ 成为/ NP/ 困难/ 问题/ ,/ 不再/ 具有/ 多项式/ 时间/ 算法/ ./ Baruah/ 等/ 人/ (/ 1990/ )/ [/ 9/ ]/ 将/ 此类/ 任务/ 系统/ 的/ 利用率/ U/ 限定/ 在/ 一个/ 严格/ 小于/ 1/ 的/ 常数/ c/ 内/ ,/ 并/ 提出/ 了/ 伪/ 多项式/ 时间/ 算法/ ./ 文献/ [/ 9/ ]/ 为/ 之后/ 的/ 实时/ 系统/ 可/ 调度/ 性/ 分析/ 提供/ 了/ 统一/ 的/ 算法/ 框架/ :/ 首先/ ,/ 独立/ 地/ 分析/ 每个/ 实时/ 任务/ 的/ 行为/ 特征/ ;/ 然后/ ,/ 将/ 这些/ 分析/ 结果/ 线性组合/ 在/ 一起/ ,/ 构成/ 整个/ 任务/ 系统/ 的/ 判定/ 结果/ ./ 具体来说/ ,/ 文献/ [/ 9/ ]/ 引入/ 需求/ 上/ 界/ 函数/ (/ DemandBoundFunction/ ,/ DBF/ )/ 的/ 概念/ ,/ 将/ SA/ 问题/ 归结为/ 两个/ 子/ 问题/ 来/ 解决/ ./ (/ 1/ )/ 对于/ 任意/ 时间段/ t/ ,/ 如何/ 计算/ 任务/ τ/ i/ 的/ 需求/ 上/ 界/ 函数/ dbf/ τ/ i/ (/ t/ )/ ?/ (/ 整个/ 任务/ 系统/ 的/ 需求/ 上/ 界/ 函数/ dbf/ (/ t/ )/ =/ ∑/ N/ (/ 2/ )/ 如何/ 给定/ t/ 的/ 上界/ T/ ,/ 使得/ :/ 对于/ 任意/ 的/ t/ / T/ ,/ 若/ dbf/ (/ t/ )/ / t/ ,/ 则/ 可/ 判定/ 系统/ 是/ 可/ 调度/ 的/ ./ 在/ 偶发/ 任务模型/ 中/ ,/ SA/ 问题/ 的/ 计算/ 复杂性/ 取决于/ 问题/ (/ 2/ )/ 中/ 给出/ 的/ 上界/ T/ ./ 文献/ [/ 9/ ]/ 最先/ 给出/ 的/ 上界/ T/ 如下/ 式/ 所示/ ,/ 其中/ ,/ Di/ 为/ 任务/ τ/ i/ 的/ 截止期/ ,/ Pi/ 为/ 任务/ τ/ i/ 的/ 周期/ ,/ U/ 为/ 任务/ 系统/ 的/ 利用率/ ./ 在/ 之后/ 的/ 研究/ 中/ ,/ 上界/ T/ 又/ 称为/ 可/ 调度/ 性/ 分析/ 上/ 界/ [/ 10/ ]/ ./ T/ =/ maxD1/ ,/ …/ ,/ DN/ ,/ max1/ / i/ / N/ {/ Pi/ -/ Di/ }/ U/ 最近/ 又/ 有/ 学者/ 进一步/ 缩小/ 了/ 该/ 上界/ 的/ 范围/ [/ 10/ ]/ ,/ 如表/ 1/ 中/ 所示/ ./ 但/ 新/ 的/ 上界/ 仍然/ 是/ 关于/ 1/ // U/ 的/ 伪/ 多项式/ 规模/ 函数/ ./ 这/ 意味着/ ,/ 当/ 利用率/ U/ 趋于/ 1/ 时/ ,/ 在/ 最坏/ 情况/ 下/ SA/ 算法/ 将/ 求解/ 指数/ 多个/ DBF/ 计算/ 问题/ ./ 这/ 使得/ 基于/ DBF/ 的/ 分析方法/ 具有/ 一定/ 的/ 局限性/ ./ 但是/ ,/ 同时/ 也/ 注意/ 到/ ,/ DBF/ 方法/ 的/ 优点/ 是/ :/ 将/ 困难/ 的/ SA/ 问题/ 分解/ 为/ 若干/ 易于/ 求解/ 的/ DBF/ 计算/ 子/ 问题/ ./ 偶发/ 任务模型/ 上/ 关联/ 的/ DBF/ 计算/ 问题/ 具有/ O/ (/ 1/ )/ 的/ 时间/ 复杂度/ [/ 9/ ]/ ,/ 这/ 极大/ 地/ 降低/ 了/ SA/ 问题/ 的/ 难度/ ./ 在/ 更/ 多/ 任务模型/ 的/ 研究/ 中/ ,/ 学者/ 依然/ 期望/ 获得/ 较/ 低/ 时间/ 复杂度/ 的/ DBF/ 计算方法/ ./ 但是/ ,/ 随着/ 模型/ 的/ 可/ 表达/ 性/ 增强/ ,/ DBF/ 计算/ 问题/ 将/ 变得/ 越来越/ 困难/ ./ 广义/ 多/ 帧/ 任务/ (/ GeneralizedMulti/ -/ frameTask/ ,/ GMF/ )/ 模型/ [/ 11/ ]/ 是/ 偶发/ 任务模型/ 的/ 一个/ 重要/ 扩展/ ./ GMF/ 模型/ 允许/ 任务/ 中/ 具有/ 多种类型/ 的/ 作业/ ,/ 各类/ 作业/ 具有/ 不同/ 的/ 执行/ 时间/ ;/ 同一/ 任务/ 中/ 不同/ 类型/ 的/ 作业/ 以/ 线性/ 序/ 释放/ ./ 在/ GMF/ 模型/ 中/ ,/ DBF/ 计算/ 问题/ 不再/ 具有/ O/ (/ 1/ )/ 时间/ 可解/ 的/ 特性/ ./ 为/ 求解/ 该/ 问题/ ,/ Baruah/ 等/ 人/ (/ 1999/ )/ [/ 11/ ]/ 提出/ 了/ 一个/ 后来/ 称之为/ “/ 需求/ 二元/ 组/ ”/ (/ DemandPair/ ,/ DP/ )/ [/ 12/ ]/ 的/ 数据结构/ ,/ 并/ 基于/ 该/ 结构/ 给出/ 了/ 多项式/ 时间/ 的/ 动态/ 规划/ 算法/ ./ 在/ 之后/ 的/ 研究/ 中/ ,/ DP/ 结构/ 被/ 应用/ 到/ 更/ 复杂/ 的/ 任务模型/ ,/ 如/ 复发/ 实时/ 任务/ (/ RecurringReal/ -/ timeTask/ ,/ RRT/ )/ 模型/ [/ 13/ ]/ 和/ 非/ 循环/ GMF/ (/ non/ -/ cyclicGMF/ )/ 模型/ [/ 14/ ]/ ./ 值得注意/ 的/ 是/ ,/ 在/ RRT/ 和/ 非/ 循环/ GMF/ 模型/ 中/ ,/ 根据/ DP/ 结构设计/ 的/ 动态/ 规划/ 算法/ 不再/ 是/ 多项式/ 时间/ 的/ ,/ 而是/ 退化/ 成伪/ 多项式/ 时间/ 算法/ ./ 其中/ ,/ RRT/ 模型/ 中/ 计算/ DBF/ 的/ 复杂度/ 与/ 时间/ 上界/ T/ 无关/ [/ 15/ ]/ ;/ 非/ 循环/ GMF/ 模型/ 中/ 计算/ DBF/ 的/ 复杂度/ 是/ 关于/ T/ 的/ 线性/ 函数/ [/ 14/ ]/ ,/ 如表/ 1/ 所示/ ./ Page3/ 表/ 1/ 任务模型/ 上/ 可/ 调度/ 性/ 分析/ 问题/ 的/ 计算/ 复杂性/ {/ max/ (/ D1/ -/ P1/ )/ ,/ …/ ,/ (/ DN/ -/ PN/ )/ ,/ ∑/ N/ 偶发/ 任务模型/ GMF/ 模型/ RRT/ 模型/ non/ -/ cyclicGMF/ 模型/ O/ (/ nT/ )/ DRT/ 模型/ TCDRT/ 模型/ On/ ∏/ K/ 注/ :/ 表/ 1/ 中/ 用到/ 的/ 变量/ 说明/ 如下/ :/ n/ 为/ τ/ i/ 对应/ 的/ 任务/ 图/ 的/ 节点/ 个数/ ;/ Pisum/ 为/ 任务/ τ/ i/ 中/ 所有/ 类型/ 作业/ 的/ 周期/ 和/ ;/ Disum/ 为/ 任务/ τ/ i/ 中/ 所有/ 类型/ 作业/ 的/ 最小/ 截止期/ ;/ Emaxi/ 为/ 任务/ τ/ i/ 中/ 所有/ 作业/ 的/ 最大/ 执行/ 时间/ ;/ Ei/ 为/ 任务/ τ/ i/ 对应/ 的/ DAG/ 图中/ 从/ 汇点/ 到/ 源点/ 的/ 最大/ 需求/ 路径/ 的/ 需求量/ ;/ Esum/ 务/ τ/ i/ 中/ 所有/ 作业/ 的/ 执行/ 时间/ 之/ 和/ ./ 2011/ 年/ ,/ Stigge/ 等/ 人/ [/ 12/ ]/ 提出/ 实时/ 任务/ 图/ (/ DigraphReal/ -/ timeTask/ ,/ DRT/ )/ 模型/ ./ DRT/ 模型/ 的/ 表达能力/ 更加/ 丰富/ ,/ 以上/ 各类/ 任务模型/ 均/ 可/ 看做/ DRT/ 模型/ 的/ 特例/ ./ 例如/ ,/ GMF/ 中/ 的/ 每个/ 任务模型/ 是/ 仅/ 包含/ 单个/ 简单/ 回路/ 的/ DRT/ 图/ ;/ RRT/ 模型/ 对应/ 有/ 向/ 无/ 环图/ (/ DirectedAcyclicGraph/ ,/ DAG/ )/ ;/ 非/ 循环/ GMF/ 模型/ 对应/ 有/ 向/ 完全/ DRT/ 图/ [/ 5/ ]/ ./ 对于/ DRT/ 模型/ ,/ 研究者/ 期望/ 找到/ 有效/ 的/ DBF/ 计算方法/ ,/ 其/ 时间/ 复杂度/ 至多/ 限定/ 为/ T/ 的/ 线性/ 函数/ ./ Stigge/ 等/ 人/ 将/ DP/ 结构/ 扩展/ 为/ “/ 需求/ 三元组/ ”/ (/ DemandTriple/ ,/ DT/ )/ 结构/ ,/ 并/ 基于/ 此/ 设计/ 了/ 新/ 的/ 伪/ 多项式/ 时间/ 动态/ 规划/ 算法/ ,/ 但是/ 时间/ 复杂度/ 是/ 关于/ T/ 的/ 二次方/ 函数/ ./ 本文/ 将/ 提出/ 一种/ 新/ 的/ 数据结构/ ,/ 将/ 动态/ 规划/ 算法/ 的/ 复杂度/ 降低/ 到/ T/ 的/ 线性/ 函数/ ./ 迄今为止/ ,/ DRT/ 模型/ 是/ 与/ TA/ 最/ 接近/ 的/ 易解/ 模型/ ./ 注意/ 到/ ,/ DRT/ 模型/ 与/ TA/ 最大/ 的/ 差别/ 是/ 没有/ 考虑/ 时间/ 约束/ 需求/ ./ 因此/ ,/ Stigge/ 等/ 人/ (/ 2011/ )/ [/ 7/ ]/ 又/ 进一步/ 研究/ 了/ 带/ 时间/ 约束/ (/ TimingConstraints/ )/ 的/ DRT/ (/ 简写/ 为/ TCDRT/ )/ 模型/ :/ 任务/ τ/ i/ 关联/ 一组/ 时间/ 约束/ ,/ 每个/ 约束/ 形/ 如/ (/ fromk/ ,/ tok/ ,/ γ/ k/ )/ ,/ 表示/ τ/ i/ 释放/ 作业/ fromk/ 和/ tok/ 的/ 时间/ 间隔/ 应/ 至少/ 与/ γ/ k/ 相等/ (/ 其/ 形式化/ 定义/ 详见/ 第/ 2/ 节/ )/ ./ TCDRT/ 模型/ 属于/ 难解/ 模型/ ,/ Stigge/ 等/ 人/ [/ 7/ ]/ 通过/ 构造/ 带有/ 自环/ 约束/ 的/ DRT/ 特例/ ,/ 将/ SA/ 问题/ 在/ 伪/ 多项式/ 时间/ 内/ 规约/ 为/ 哈密顿/ 路/ 问题/ ,/ 从而/ 证明/ 了/ 在/ TCDRT/ 模型/ 上/ SA/ 问题/ 是/ 强/ NP/ 困难/ 的/ ./ 同时/ ,/ Stigge/ 等/ 人/ [/ 7/ ]/ 也/ 指出/ ,/ 当/ 时间/ 约束/ 个数/ 为/ 2/ ∑/ i/ =/ 1/ ,/ …/ ,/ NEi1/ -/ U/ ∑/ i/ =/ 1/ ,/ …/ ,/ NEmaxi1/ -/ U/ ∑/ i/ =/ 1/ ,/ …/ ,/ NEsumi1/ -/ U/ ∑/ i/ =/ 1/ ,/ …/ ,/ NEsumi1/ -/ U/ 常数/ K/ 时/ ,/ TCDRT/ 模型/ 上/ SA/ 问题/ 变为/ 弱/ NP/ 困难/ 问题/ ,/ 并/ 提出/ 了/ 一个/ 将/ TCDRT/ 转化/ 为/ DRT/ 的/ 方法/ ./ 这种/ 图/ 转化/ 方法/ 间接/ 地/ 给出/ 了/ K/ 约束/ TCDRT/ 模型/ 上/ SA/ 问题/ 的/ 伪/ 多项式/ 时间/ 判定/ 算法/ ,/ 但/ 同时/ 也/ 使得/ 算法/ 复杂度/ 关于/ 时间/ 约束/ 宽度/ γ/ k/ 呈/ 指数/ 倍/ 增长/ ./ 无论是/ 计算/ DBF/ ,/ 还是/ 限定/ 时间/ 上界/ T/ ,/ 算法/ 的/ 时间/ 复杂度/ 都/ 是/ 关于/ ∏/ K/ 本文/ 致力于/ 给出/ TCDRT/ 模型/ 上/ SA/ 问题/ 的/ 直接/ 求解/ 方法/ ,/ 旨在/ 降低/ 可/ 调度/ 性/ 分析/ 算法/ 的/ 时间/ 复杂度/ ,/ 并/ 找到/ TCDRT/ 模型/ 更/ 多/ 的/ 易解/ 特例/ ./ 首先/ ,/ 对于/ DBF/ 计算/ 问题/ ,/ 本文/ 提出/ 了/ 更加/ 高效/ 的/ 动态/ 规划/ 算法/ ,/ 其/ 时间/ 复杂度/ 不再/ 与/ 时间/ 约束/ 宽度/ γ/ k/ 相关/ ,/ 而是/ 简化/ 为/ 约束/ 个数/ K/ 的/ 函数/ ./ 更进一步/ 地/ ,/ 当/ 模型/ 中/ 任意/ 两/ 时间/ 约束/ (/ fromk/ ,/ tok/ ,/ γ/ k/ )/ 和/ (/ fromk/ ,/ tok/ ,/ γ/ k/ )/ 满足/ tok/ ≠/ tok/ 时/ ,/ 本文/ 中/ DBF/ 计算方法/ 的/ 时间/ 复杂度/ 与/ 约束/ 个数/ K/ 也/ 无关/ ,/ 直接/ 简化/ 为/ T/ 的/ 线性/ 函数/ ./ 另外/ ,/ 对于/ 如何/ 限定/ 时间/ 上界/ T/ 的/ 问题/ ,/ 本文/ 从/ 理论/ 上/ 证明/ 了/ :/ 存在/ 一个/ 算法/ 能够/ 在/ 伪/ 多项式/ 时间/ 内/ 给出/ T/ 的/ 精确/ 上/ 界/ ,/ 并且/ 算法/ 的/ 时间/ 复杂度/ 不但/ 与/ ∏/ K/ 与/ 文献/ [/ 7/ ]/ 中/ 算法/ 相比/ ,/ 本文/ 算法/ 的/ 性能/ 得到/ 指数/ 倍/ 提升/ ./ 本文/ 第/ 2/ 节/ 介绍/ TCDRT/ 的/ 系统/ 模型/ 和/ 可/ 调度/ 性/ 分析/ 问题/ 的/ 形式化/ 定义/ ;/ 第/ 3/ 节/ 提出/ DBF/ 计算/ 问题/ 的/ 动态/ 规划/ 算法/ ;/ 第/ 4/ 节/ 从/ 理论/ 上/ 证明/ 了/ 可/ 调度/ Page4/ 分析/ 上/ 界限/ 定/ 问题/ 的/ 伪/ 多项式/ 时间/ 可/ 解性/ ;/ 最后/ 是/ 总结/ ./ 2/ 系统/ 模型/ 和/ 问题/ 定义/ 2.1/ 带/ 时间/ 约束/ 的/ 实时/ 任务/ 图/ 实时/ 任务/ 系统/ 定义/ 为/ 由/ 一组/ 有限/ 数量/ 且/ 相互/ 独立/ 的/ 实时/ 任务/ 构成/ 的/ 集合/ / =/ {/ τ/ 1/ ,/ …/ ,/ τ/ N/ }/ ./ / 中/ 任意/ 实时/ 任务/ τ/ 都/ 可/ 由/ 有向图/ D/ (/ τ/ )/ =/ (/ V/ τ/ ,/ A/ τ/ )/ 表示/ ,/ 其中/ V/ τ/ 是/ 节点/ 集/ ,/ A/ τ/ 是/ 弧集/ ./ 图/ D/ (/ τ/ )/ 中/ 的/ 节点/ {/ v1/ ,/ …/ ,/ vn/ }/ 与/ τ/ 释放/ 的/ 所有/ 作业/ 类型/ 一一对应/ ./ 每个/ 节点/ vi/ 关联/ 两个/ 整形/ 参数/ e/ (/ vi/ )/ 和/ d/ (/ vi/ )/ ,/ 分别/ 用来/ 表示/ 作业/ Ji/ 的/ 最坏/ 执行/ 时间/ 和/ 相对/ 截止期/ ./ 注意/ 到/ ,/ 与/ 传统/ 调度/ 问题/ [/ 16/ ]/ 不同/ ,/ 任务/ τ/ 在/ 理论/ 上/ 可以/ 任意/ 多次/ 释放/ 作业/ Ji/ ,/ 规定/ 每次/ 释放/ 的/ 作业/ Ji/ 具有/ 相同/ 的/ e/ (/ vi/ )/ 和/ d/ (/ vi/ )/ ./ 若/ 作业/ Ji/ 在/ t/ 时刻/ 释放/ ,/ 则/ 该/ 作业/ 必须/ 在/ t/ +/ d/ (/ vi/ )/ 时刻/ 之前/ 完成/ ./ t/ +/ d/ (/ vi/ )/ 又/ 称为/ 作业/ Ji/ 的/ 绝对/ 截止期/ ./ 另外/ ,/ 图/ D/ (/ τ/ )/ 中/ 的/ 每条/ 弧/ (/ vi/ ,/ vj/ )/ 表达/ 了/ τ/ 释放/ 作业/ Ji/ 和/ Jj/ 的/ 先后顺序/ ,/ 并且/ 弧/ (/ vi/ ,/ vj/ )/ 上/ 关联/ 的/ 非负/ 参数/ p/ (/ vi/ ,/ vj/ )/ 表示/ 作业/ Ji/ 和/ Jj/ 释放/ 时刻/ 的/ 最小/ 间隔/ (/ 又/ 称为/ 周期/ [/ 12/ ]/ )/ ./ 假设/ 任务/ τ/ 中/ 每个/ 作业/ Ji/ 关联/ 的/ 截止期/ d/ (/ vi/ )/ 均/ 小于/ 等于/ 相应/ 的/ 周期/ p/ (/ vi/ ,/ vj/ )/ ./ 满足/ 此类/ 假设/ 的/ 系统/ ,/ 称为/ 约束/ 截止期/ 任务/ 系统/ [/ 9/ ]/ ./ 以上/ 即/ 为/ 实时/ 任务/ 图/ (/ DRT/ )/ [/ 12/ ]/ 的/ 定义/ ./ 在/ 本文/ 中/ ,/ 任务/ 图/ D/ (/ τ/ )/ 还/ 关联/ 一组/ 时间/ 约束/ C/ (/ τ/ )/ =/ {/ (/ from1/ ,/ to1/ ,/ γ/ 1/ )/ ,/ …/ ,/ (/ fromk/ ,/ tok/ ,/ γ/ k/ )/ }/ ./ C/ (/ τ/ )/ 中/ 的/ 每个/ 约束/ (/ fromi/ ,/ toi/ ,/ γ/ i/ )/ 要求/ 遍历/ 任务/ 图/ D/ (/ τ/ )/ 上/ 两/ 节点/ fromi/ 和/ toi/ 的/ 时间/ 间隔/ 不得/ 小于/ γ/ i/ 个/ 时间/ 单位/ ./ 为/ 表达/ 方便/ ,/ 将/ fromi/ 称为/ 约束/ 的/ 左/ 节点/ ,/ toi/ 称为/ 约束/ 的/ 右/ 节点/ ,/ γ/ k/ 称为/ 约束/ 的/ 宽度/ ./ 若/ 约束/ 集/ 的/ 势/ k/ 为/ 常数/ K/ ,/ 则/ 任务/ τ/ 简记/ 为/ K/ -/ TCDRT/ 任务/ ./ 特殊/ 地/ ,/ 若/ K/ =/ 0/ ,/ 则/ K/ -/ TCDRT/ 任务/ 即/ 简化/ 为/ 一般/ 的/ DRT/ 任务/ ./ 例/ 1/ ./ 一个/ 3/ -/ TCDRT/ 任务/ τ/ 如图/ 1/ 所示/ ./ τ/ 可/ 释放/ 6/ 种/ 不同/ 类型/ 的/ 作业/ J1/ ,/ …/ ,/ J6/ ,/ 在/ 图/ 中/ 分别/ 对应/ 节点/ v1/ ,/ …/ ,/ v6/ ./ 节点/ 间/ 的/ 实线/ 弧/ 表示/ 任务/ τ/ 释放/ 作业/ 的/ 周期/ ,/ 虚线/ 弧则/ 表示/ 时间/ 约束/ ./ 例如/ ,/ 约束/ (/ v6/ ,/ v2/ ,/ 11/ )/ 表示/ 任务/ τ/ 释放/ 作业/ J4/ 和/ J2/ 的/ 时间/ 间隔/ 不能/ 小于/ 11/ 个/ 时间/ 单位/ ;/ 自环/ 约束/ (/ v3/ ,/ v3/ ,/ 9/ )/ 表示/ 任务/ τ/ 连续/ 释放/ 两个/ J3/ 的/ 时间/ 间隔/ 不能/ 小于/ 9/ 个/ 时间/ 单位/ ./ 2.2/ 带/ 时间/ 约束/ 任务/ 图/ 的/ 语义/ 模型/ TCDRT/ 任务/ τ/ 释放/ 的/ 作业/ 序列/ 与/ 有向图/ D/ (/ τ/ )/ 中/ 的/ 路径/ 一一对应/ ./ 任务/ τ/ 释放/ 作业/ Ji/ 的/ 行为/ 触发/ 路径/ 对/ D/ (/ τ/ )/ 中/ 的/ 相应/ 节点/ vi/ 进行/ 遍历/ ./ 可/ 将/ 任务/ τ/ 释放/ 并/ 执行/ 作业/ Ji/ 的/ 行为/ 用/ 一个/ 三元组/ (/ ri/ ,/ e/ (/ vi/ )/ ,/ ri/ +/ d/ (/ vi/ )/ )/ 来/ 表示/ ,/ 其中/ ,/ ri/ 是/ 作业/ Ji/ 的/ 释放/ 时刻/ ;/ e/ (/ vi/ )/ 和/ d/ (/ vi/ )/ 是/ 节点/ vi/ 关联/ 的/ 两个/ 参数/ ,/ 分别/ 对应/ 作业/ Ji/ 的/ 执行/ 时间/ 和/ 相对/ 截止期/ ./ 对于/ 任务/ τ/ 释放/ 的/ 任意/ 一个/ 作业/ 序列/ σ/ =/ [/ (/ r1/ ,/ e/ (/ v/ [/ 1/ ]/ )/ ,/ r1/ +/ d/ (/ v/ [/ 1/ ]/ )/ )/ ,/ …/ ,/ (/ ri/ ,/ e/ (/ v/ [/ i/ ]/ )/ ,/ ri/ +/ d/ (/ v/ [/ i/ ]/ )/ )/ ,/ …/ ]/ ,/ 图/ D/ (/ τ/ )/ 中/ 相应/ 的/ 路径/ 定义/ 为/ π/ =/ [/ (/ r1/ ,/ v/ [/ 1/ ]/ )/ ,/ …/ ,/ (/ ri/ ,/ v/ [/ i/ ]/ )/ ,/ …/ ]/ ,/ 其中/ ,/ v/ [/ i/ ]/ 为/ 路径/ 中/ 第/ i/ 个/ 遍历/ 的/ 节点/ ,/ ri/ 为/ 遍历/ 节点/ v/ [/ i/ ]/ 的/ 时刻/ ./ 由/ 任务/ 图/ 定义/ 可知/ ,/ 序列/ σ/ 中/ 作业/ 的/ 释放/ 时间/ 间隔/ 需要/ 满足/ 周期/ 和/ 集合/ C/ (/ τ/ )/ 中/ 的/ 约束/ ./ 这些/ 时间/ 约束/ 可/ 在/ 路径/ π/ 中/ 由/ 如下/ 不等式/ 精确/ 刻画/ ./ (/ 1/ )/ 对于/ 任意/ i/ =/ 1/ ,/ 2/ ,/ …/ :/ ri/ +/ 1/ -/ ri/ / p/ (/ v/ [/ i/ ]/ ,/ v/ [/ i/ +/ 1/ ]/ )/ ./ (/ 2/ )/ 对于/ 任意/ 1/ / i/ </ j/ ,/ 且/ (/ vi/ ,/ vj/ ,/ γ/ l/ )/ ∈/ C/ (/ τ/ )/ :/ rj/ -/ ri/ / γ/ l/ ./ 另外/ ,/ 对于/ 有限/ 长度/ 的/ 路径/ π/ =/ [/ (/ r1/ ,/ v/ [/ 1/ ]/ )/ ,/ …/ ,/ (/ ri/ ,/ v/ [/ l/ ]/ )/ ]/ ,/ 分别/ 给出/ 路径/ 需求/ 和/ 长度/ 的/ 定义/ 如下/ :/ (/ 1/ )/ 路径/ 需求/ :/ e/ (/ π/ )/ =/ ∑/ l/ (/ 2/ )/ 路径/ 长度/ :/ d/ (/ π/ )/ =/ rl/ -/ r1/ +/ d/ (/ v/ [/ l/ ]/ )/ ./ 例/ 2/ ./ 图/ 1/ 中/ 任务/ τ/ 释放/ 的/ 一个/ 作业/ 序列/ 为/ σ/ 1/ =/ [/ (/ 0/ ,/ 1/ ,/ 2/ )/ ,/ (/ 3/ ,/ 1/ ,/ 6/ )/ ,/ (/ 6/ ,/ 2/ ,/ 9/ )/ ]/ ./ 该/ 序列/ 对应/ 的/ 路径/ 为/ π/ 1/ =/ [/ (/ 0/ ,/ v4/ )/ ,/ (/ 3/ ,/ v5/ )/ ,/ (/ 6/ ,/ v2/ )/ ]/ ./ 首先/ ,/ 观察/ 路径/ π/ 1/ 中/ 相邻/ 两/ 节点/ 的/ 遍历/ 时刻/ ,/ 遍历/ 节点/ v4/ 和/ v5/ 以及/ v5/ 和/ v2/ 的/ 时间/ 间隔/ 均/ 为/ 3/ ./ 注意/ 到/ ,/ 弧/ (/ v4/ ,/ v5/ )/ 和/ (/ v5/ ,/ v2/ )/ 关联/ 的/ 周期/ 参数/ 分别/ 为/ 2/ 和/ 3/ ./ 易知/ ,/ 路径/ π/ 1/ 中/ 遍历/ 相邻/ 节点/ 的/ 时间/ 间隔/ 均/ 大于/ 等于/ 相应/ 弧/ 关联/ 的/ 周期/ ./ 这/ 说明/ 作业/ 序列/ σ/ 1/ 满足/ 周期/ 约束/ ./ 另外/ ,/ 注意/ 到/ 路径/ π/ 1/ 中/ 包含/ 节点/ v4/ 和/ v2/ ,/ 这/ 两/ 节点/ 的/ 遍历/ 时间/ 间隔/ 需/ 受到/ (/ v4/ ,/ v2/ ,/ 6/ )/ ∈/ C/ (/ τ/ )/ 的/ 约束/ ./ 可/ 计算/ 得/ 遍历/ v4/ 和/ v2/ 的/ 时间/ 间隔/ 为/ 6/ ,/ 恰巧/ 等于/ 时间/ 约束/ (/ v4/ ,/ v2/ ,/ 6/ )/ 的/ 宽度/ ./ 这/ 意味着/ 作业/ 序列/ σ/ 1/ 在/ 满足/ 周期/ 约束/ 的/ 同时/ ,/ 也/ 满足/ C/ (/ τ/ )/ 中/ 的/ 时间/ 约束/ ./ 最后/ ,/ 路径/ π/ 1/ 的/ 需求/ 和/ 长度/ 分别/ 为/ 4/ 和/ 9/ ./ Page52/ ./ 3/ 可/ 调度/ 性/ 分析/ 问题/ 如下/ ./ 本文/ 关注/ TCDRT/ 任务/ 系统/ 的/ 可/ 调度/ 性/ ,/ 定义/ 定义/ 1/ ./ 可/ 调度/ 性/ [/ 7/ ]/ (/ Schedulability/ )/ ./ TCDRT/ 任务/ 集/ T/ 在/ 可/ 抢占/ 的/ 单/ 处理器/ 系统/ 上/ 是/ 可/ 调度/ 的/ ,/ 当且/ 仅/ 当/ T/ 释放/ 的/ 所有/ 作业/ 序列/ 集合/ 均/ 可/ 在/ 该/ 单/ 处理器/ 平台/ 上/ 由/ 一种/ 可/ 抢占/ 式/ 策略/ 成功/ 调度/ ,/ 使得/ 序列/ 集中/ 的/ 每个/ 作业/ 均/ 在/ 其/ 截止期/ 之前/ 完成/ ./ 根据/ 定义/ 1/ ,/ 对于/ 序列/ 集合/ 中/ 任意/ 一个/ 作业/ J/ =/ (/ r/ ,/ e/ ,/ d/ )/ ./ 可知/ ,/ 作业/ J/ 在/ r/ 时刻/ 释放/ ,/ 且/ 执行/ 作业/ J/ 需要/ 占用/ e/ 个/ 单位/ 时间/ 的/ 处理器/ 资源/ ./ 若/ 作业/ J/ 能/ 成功/ 调度/ ,/ 则/ J/ 需要/ 在/ d/ 时刻/ 之前/ 完成/ ,/ 即/ J/ 占用/ 处理器/ 的/ 时间/ 需要/ 落/ 在/ 时间段/ [/ r/ ,/ d/ ]/ 内/ ./ 可/ 调度/ 性/ 分析/ 问题/ 是/ 指/ ,/ 对于/ 给定/ 的/ TCDRT/ 任务/ 系统/ / ,/ 是否/ 存在/ 一个/ 判定/ 算法/ A/ :/ 若/ / 能够/ 被/ 某种/ 策略/ 成功/ 调度/ ,/ 则/ 算法/ A/ 回答/ “/ 是/ ”/ ;/ 否则/ ,/ 若/ / 不能/ 被/ 任何/ 调度/ 策略/ 成功/ 调度/ ,/ 则/ 算法/ A/ 回答/ “/ 否/ ”/ ./ 在/ 单/ 处理器/ 系统/ 中/ ,/ EDF/ [/ 17/ -/ 18/ ]/ 是/ 最优/ 的/ 调度/ 策略/ [/ 19/ ]/ ./ 因此/ ,/ 单/ 处理器/ 上/ 任务/ 系统/ / 的/ 可/ 调度/ 性/ 分析/ 问题/ 又/ 等价/ 为/ 系统/ / 是否/ 可以/ 被/ EDF/ 策略/ 成功/ 调度/ 的/ 判定/ 问题/ ./ 可/ 调度/ 性/ 分析/ 的/ 算法/ 框架/ 建立/ 在/ 一种/ 被/ 称为/ 需求/ 上/ 界/ 函数/ 的/ 基础/ 之上/ ./ 下面/ 首先/ 给出/ 需求/ 上/ 界/ 函数/ 的/ 定义/ ./ 定义/ 2/ ./ 需求/ 上/ 界/ 函数/ (/ DemandBoundFunc/ -/ tion/ ,/ DBF/ )/ ./ 对于/ / 中/ 的/ 任意/ 一个/ 任务/ τ/ 和/ 一个/ 时间段/ 长度/ t/ ,/ dbf/ τ/ (/ t/ )/ 表示/ 任务/ τ/ 在/ 长度/ 为/ t/ 的/ 时间段/ 内/ 可能/ 产生/ 的/ 最大/ 执行/ 时间/ 需求/ ,/ 其/ 计算公式/ 如下/ :/ dbf/ τ/ (/ t/ )/ =/ max/ {/ e/ (/ π/ )/ π/ 是/ D/ (/ τ/ )/ 中/ 路径/ ,/ 另外/ ,/ 对于/ 整个/ 任务/ 系统/ / ,/ 定义/ 需求/ 上/ 界/ 函数/ 如下/ :/ 易知/ ,/ 在/ 长度/ 为/ t/ 的/ 时间段/ 内/ ,/ 处理器/ 至少/ 要/ 提供/ dbf/ (/ t/ )/ 个/ 时间/ 单位/ 的/ 计算资源/ 用来/ 执行/ 任务/ 系统/ / 中/ 已/ 释放/ 的/ 作业/ ./ 否则/ ,/ / 中/ 的/ 任务/ 就/ 有/ 错失/ 截止期/ 的/ 危险/ ./ 根据/ DBF/ 的/ 定义/ ,/ 能够/ 很/ 自然/ 地/ 推导/ 出/ 系统/ 可/ 调度/ 的/ 一个/ 充要条件/ ,/ 如/ 定理/ 1/ 所述/ ./ 定理/ 1/ [/ 7/ ]/ ./ TCDRT/ 任务/ 系统/ / 在/ 单/ 处理器/ 上/ 是/ 可/ 调度/ 的/ ,/ 当且/ 仅/ 当/ :/ / t/ / 0/ :/ dbf/ (/ t/ )/ / t/ ./ 根据/ 定理/ 1/ ,/ TCDRT/ 系统/ / 的/ 可/ 调度/ 性/ 分析/ 问题/ 即/ 等价/ 为/ 一个/ 判定/ 问题/ :/ 寻找/ 一个/ 违反/ 以上/ 性质/ 的/ tf/ ,/ 即/ dbf/ (/ tf/ )/ / tf/ ./ 若/ 存在/ 这样/ 的/ tf/ ,/ 则/ 判定/ 系统/ / 不可/ 调度/ ;/ 否则/ ,/ 系统/ / 可/ 调度/ ./ 该/ 判定/ 问题/ 又/ 被/ 分解/ 为/ 两个/ 关键/ 子/ 问题/ :/ (/ 1/ )/ DBF/ 计算/ 问题/ ;/ (/ 2/ )/ tf/ 的/ 上/ 界限/ 定/ 问题/ ./ 若/ 以上/ 两/ 问题/ 均/ 可/ 在/ (/ 伪/ )/ 多项式/ 时间/ 内/ 求解/ ,/ 并且/ 问题/ 2/ 中/ tf/ 的/ 上/ 界限/ 定/ 在/ 伪/ 多项式/ 规模/ 内/ ,/ 则/ 可/ 断定/ TCDRT/ 即为/ 易解/ 模型/ ./ 然而/ ,/ 文献/ [/ 7/ ]/ 从/ 理论/ 上/ 证明/ 了/ TCDRT/ 是/ 难解/ 模型/ ,/ 不/ 存在/ 伪/ 多项式/ 时间/ 的/ 可/ 调度/ 性/ 分析/ 算法/ ,/ 并且/ 指出/ ,/ 直接/ 解决/ 以上/ 两个/ 子/ 问题/ 将/ 面临/ 如下/ 挑战/ :/ (/ 1/ )/ 通过/ 遍历/ 图/ D/ (/ τ/ )/ 来/ 计算/ BDF/ ,/ 需要/ 共同/ 考虑/ 周期/ 和/ 时间/ 约束/ 集/ C/ (/ τ/ )/ 对/ 路径/ 长度/ 的/ 影响/ ./ (/ 2/ )/ 更/ 重要/ 的/ 是/ ,/ 注意/ 到/ 在/ DRT/ 模型/ 中/ ,/ 通过/ 检查/ 任务/ 图中/ 的/ 简单/ 回路/ ,/ 即可/ 获得/ tf/ 的/ 精确/ 上界/ ./ 然而/ ,/ 该/ 结论/ 在/ TCDRT/ 模型/ 中/ 却/ 不/ 成立/ ./ 这/ 使得/ DRT/ 中/ 用于/ 确定/ tf/ 上界/ 的/ 伪/ 多项式/ 时间/ 算法/ 在/ TCDRT/ 中/ 不再/ 适用/ ./ 考虑/ 到/ 以上/ 困难/ ,/ 文献/ [/ 7/ ]/ 通过/ 图/ 转换/ 间接/ 给出/ 了/ 问题/ 的/ 求解/ 方法/ :/ 先/ 将/ TCDRT/ 等价/ 转换/ 为/ DRT/ 模型/ ,/ 再/ 应用/ DRT/ 中/ 的/ 现有/ 方法/ 分析/ 系统/ 的/ 可/ 调度/ 性/ ./ 这种/ 间接/ 方法/ 带来/ 了/ 额外/ 的/ 复杂性/ ,/ 计算/ 时间/ 与/ 约束/ 宽度/ 的/ 连乘积/ ∏/ K/ 中/ ,/ 将/ 为/ TCDRT/ 模型/ 提出/ 一种/ 能够/ 直接/ 分析/ 可/ 调度/ 性/ 的/ 方法/ ,/ 其/ 计算/ 复杂度/ 也/ 将/ 改进/ 为/ 与/ ∏/ K/ 相关/ ./ 3/ 求解/ DBF/ 的/ 动态/ 规划/ 算法/ 在/ 之前/ 的/ 研究/ 中/ ,/ 基于/ 需求/ 二元/ 组/ (/ DP/ )/ 结构/ 的/ 动态/ 规划/ 算法/ 广泛/ 用于/ 各类/ 实时/ 任务模型/ 的/ DBF/ 计算/ ,/ 并且/ 算法/ 复杂度/ 至多是/ 关于/ 可/ 调度/ 性/ 分析/ 上界/ T/ 的/ 线性/ 函数/ [/ 11/ ,/ 13/ -/ 15/ ]/ ./ 面对/ 更/ 复杂/ 的/ DRT/ 模型/ ,/ DP/ 结构/ 同样/ 有效/ ,/ 基于/ DP/ 的/ DBF/ 计算方法/ 仍/ 被/ 限定/ 在/ 伪/ 多项式/ 时间/ 内/ ,/ 但/ 算法/ 复杂度/ 却/ 变为/ T/ 的/ 二次方/ [/ 12/ ]/ ./ 更加/ 困难/ 的/ 是/ ,/ 以上/ 算法/ 结果/ 并/ 不能/ 轻易/ 扩展/ 到/ TCDRT/ 模型/ [/ 7/ ]/ ./ 迄今为止/ ,/ 尚未/ 见到/ 在/ TCDRT/ 中/ 计算/ DBF/ 的/ 伪/ 多项式/ 时间/ 算法/ ./ 本节/ 为/ TCDRT/ 模型/ 中/ 的/ DBF/ 计算/ 问题/ 提出/ 一种/ 伪/ 多项式/ 时间/ 的/ 动态/ 规划/ 算法/ ./ 注意/ 到/ DRT/ 模型/ 是/ 满足/ K/ =/ 0/ 条件/ 的/ TCDRT/ 特例/ ./ 因此/ ,/ 在/ 接下来/ 的/ 2.1/ 节/ ,/ 首先/ 从/ 基本/ 的/ DRT/ 模型/ 入手/ ,/ 以图/ 论/ 的/ 角度/ 设计/ 新/ 的/ 数据结构/ ,/ 为/ DRT/ 模型/ 提出/ 更/ 高效/ 的/ 动态/ 规划/ 算法/ ,/ 使/ 算法/ 复杂度/ 由/ T/ 的/ 平方/ 降低/ 到/ T/ 的/ 线性/ 函数/ ./ 然后/ ,/ 在/ 2.2/ 节/ 考虑/ C/ (/ τ/ )/ 中/ 时间/ 约束/ 对/ 动态/ 规划/ 递推/ 方程/ 的/ 影响/ ,/ 将/ DRT/ 中/ 的/ Page6/ 算法/ 扩展/ 到/ TCDRT/ 模型/ 中/ ./ 3.1/ DRT/ 模型/ 上/ DBF/ 的/ 计算方法/ 由/ 定义/ 2/ 可知/ ,/ 对于/ 任意/ 给定/ 的/ 任务/ τ/ 和/ 时间/ 长度/ t/ ,/ 计算/ 需求/ 上/ 界/ 函数/ dbf/ τ/ (/ t/ )/ 等价/ 为/ 在/ 任务/ 图/ D/ (/ τ/ )/ 中/ 寻找/ 一条/ 长度/ 小于/ 等于/ t/ 的/ 路径/ ,/ 使得/ 路径/ 需求/ 最大/ ./ 本节/ 设计/ 一个/ 动态/ 规划/ 算法/ ,/ 通过/ 多条/ 最优/ 子/ 路径/ 之间/ 的/ 组合/ ,/ 得到/ 最优/ 路径/ ./ 其中/ ,/ 每条/ 最优/ 子/ 路径/ 所/ 关联/ 的/ 特征/ 量/ 均/ 可/ 抽象/ 为/ 如下/ 数据结构/ ./ 定义/ 3/ ./ 最大/ 路径/ 需求/ (/ MaximumPathDemand/ ,/ MPD/ )/ ./ 给定/ 图/ D/ (/ τ/ )/ 中/ 两/ 节点/ vi/ 和/ vj/ ,/ 以及/ 时间段/ 长度/ t/ ,/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ )/ 表示/ 在/ 图/ D/ (/ τ/ )/ 中/ 分别/ 以/ vi/ 和/ vj/ 为/ 起点/ 和/ 终点/ ,/ 且/ 长度/ 小于/ 等于/ t/ 的/ 路径/ 对应/ 的/ 最大/ 路径/ 需求/ ./ 根据/ 最优化/ 原理/ ,/ MPD/ 结构/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ )/ 可/ 由/ 以下/ 定理/ 中/ 的/ 递推/ 方程/ 计算/ 得出/ ./ 定理/ 2/ ./ 给定/ 图/ D/ (/ τ/ )/ 中/ 两/ 节点/ vi/ 和/ vj/ ,/ p/ / (/ vi/ ,/ vj/ )/ 表示/ 顺次/ 遍历/ vi/ 和/ vj/ 的/ 最小/ 时间/ 间隔/ ./ 对于/ 任意/ 的/ 时间段/ 长度/ t/ / p/ / (/ vi/ ,/ vj/ )/ +/ d/ (/ vj/ )/ :/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ )/ =/ max/ {/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ -/ 1/ )/ ,/ 特殊/ 地/ ,/ 对于/ i/ =/ j/ ,/ 且/ t/ =/ d/ (/ vi/ )/ :/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ )/ =/ e/ (/ vi/ )/ ./ 另外/ ,/ 对于/ 任意/ 的/ t/ </ p/ / (/ vi/ ,/ vj/ )/ +/ d/ (/ vj/ )/ :/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ )/ =/ -/ ./ 证明/ ./ 对于/ t/ </ p/ / (/ vi/ ,/ vj/ )/ +/ d/ (/ vj/ )/ 的/ 情况/ ./ 由于/ 在/ 图/ D/ (/ τ/ )/ 中/ 不/ 存在/ 一条/ 从/ vi/ 到/ vj/ 的/ 路径/ ,/ 其/ 长度/ 小于/ p/ / (/ vi/ ,/ vj/ )/ +/ d/ (/ vj/ )/ ,/ 易知/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ )/ =/ -/ ./ 另外/ ,/ 对于/ t/ / p/ / (/ vi/ ,/ vj/ )/ +/ d/ (/ vj/ )/ 的/ 情况/ ,/ 将/ 从/ 两/ 方面/ 证明/ 递推/ 方程/ 的/ 正确性/ ./ 首先/ ,/ 考虑/ t/ =/ p/ / (/ vi/ ,/ vj/ )/ +/ d/ (/ vj/ )/ 的/ 情况/ ./ 图/ D/ (/ τ/ )/ 中/ 一定/ 存在/ 一条/ 从/ vi/ 到/ vj/ ,/ 且/ 长度/ 等于/ t/ 的/ 路径/ π/ ./ 若/ 将/ 周期/ 参数/ 看作/ 弧上/ 的/ 权值/ ,/ 路径/ π/ 即/ 对应/ 图/ D/ (/ τ/ )/ 中/ 由/ vi/ 到/ vj/ 的/ 最/ 短/ 路径/ ./ 计算/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ )/ 的/ 一个/ 自然/ 的/ 枚举/ 思路/ 即/ 在/ vi/ 到/ vj/ 的/ 最/ 短/ 路径/ 集合/ / 中/ 找出/ 最大/ 需求/ 的/ 那条/ 路径/ ./ 可/ 将/ 最/ 短/ 路径/ 集合/ 划分/ 为/ 若干/ 子集/ {/ / l/ |/ (/ vl/ ,/ vj/ )/ 是/ D/ (/ τ/ )/ 中/ 的/ 弧/ }/ ./ 其中/ ,/ / l/ 表示/ 图/ D/ (/ τ/ )/ 中以/ 弧/ (/ vl/ ,/ vj/ )/ 结尾/ 的/ 路径/ 子集/ ./ 集合/ / l/ 中/ 需求/ 最大/ 的/ 路径/ 定义/ 为/ π/ l/ ,/ 则/ π/ l/ 的/ 需求/ e/ (/ π/ l/ )/ 可/ 看成/ 两/ 部分/ 的/ 加/ 和/ :/ (/ 1/ )/ 从/ vi/ 到/ vl/ 的/ 最大/ 路径/ 需求/ eD/ (/ τ/ )/ (/ vi/ ,/ vl/ ,/ t/ )/ ,/ 其中/ t/ 的/ 取值/ 为/ t/ -/ p/ (/ vl/ ,/ vj/ )/ -/ d/ (/ vj/ )/ +/ d/ (/ vl/ )/ ,/ t/ 和/ t/ 的/ 关系/ 如图/ 2/ 所示/ ;/ (/ 2/ )/ 终点/ 上/ 的/ 需求/ e/ (/ vj/ )/ ./ 因此/ ,/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ )/ =/ max/ {/ e/ (/ π/ l/ )/ |/ / l/ ∈/ / }/ =/ max/ {/ eD/ (/ τ/ )/ (/ vi/ ,/ vl/ ,/ t/ )/ +/ e/ (/ vj/ )/ |/ (/ vl/ ,/ vj/ )/ ∈/ A/ τ/ }/ ./ 另一方面/ ,/ 根据/ 递推/ 公式/ 得/ ,/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ )/ =/ max/ {/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ -/ 1/ )/ ,/ eD/ (/ τ/ )/ (/ vi/ ,/ vl/ ,/ t/ )/ +/ e/ (/ vj/ )/ |/ (/ vl/ ,/ vj/ )/ ∈/ A/ τ/ }/ ./ 由于/ t/ -/ 1/ </ p/ / (/ vi/ ,/ vj/ )/ +/ d/ (/ vj/ )/ ,/ 有/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ -/ 1/ )/ =/ -/ ./ 这种/ 情况/ 下/ ,/ 仅式/ (/ 1/ )/ 等/ 号/ 右边/ 第二项/ 起/ 作用/ ./ 综上/ 可知/ ,/ 由/ 枚举/ 方法/ 求得/ 的/ 最优/ 解/ 和/ 递推/ 公式/ 得到/ 的/ 解值/ 相同/ ,/ 故/ 在/ t/ =/ p/ / (/ vi/ ,/ vj/ )/ +/ d/ (/ vj/ )/ 时/ ,/ 定理/ 2/ 中/ 结论/ 正确/ ./ 特殊/ 地/ ,/ 当/ i/ =/ j/ 时/ ,/ 有/ p/ / (/ vi/ ,/ vj/ )/ =/ 0/ ./ 易知/ ,/ t/ =/ d/ (/ vi/ )/ 是/ t/ =/ p/ / (/ vi/ ,/ vj/ )/ +/ d/ (/ vj/ )/ 情况/ 的/ 特例/ ,/ 故/ eD/ (/ τ/ )/ (/ vi/ ,/ vi/ ,/ d/ (/ vi/ )/ )/ =/ e/ (/ vi/ )/ 自然/ 成立/ ./ 接下来/ 考虑/ t/ >/ p/ / (/ vi/ ,/ vj/ )/ +/ d/ (/ vj/ )/ 的/ 情况/ ./ 一方面/ ,/ 证明/ 路径/ 存在/ 性/ :/ 图/ D/ (/ τ/ )/ 中/ 存在/ 一条/ 从/ vi/ 到/ vj/ ,/ 且/ 长度/ 至多/ 为/ t/ 的/ 路径/ ./ 由/ 递推/ 方程/ 可知/ ,/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ )/ 可/ 由/ 两种/ 可能/ 的/ 情况/ 计算/ 得到/ :/ (/ 1/ )/ 若/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ )/ =/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ -/ 1/ )/ ,/ 可知/ 图/ D/ (/ τ/ )/ 中/ 存在/ 一条/ 从/ vi/ 到/ vj/ ,/ 且/ 长度/ 至多/ 为/ t/ -/ 1/ 的/ 路径/ ./ 易知/ ,/ 从/ vi/ 到/ vj/ ,/ 且/ 路径/ 长度/ 至多/ 为/ t/ 的/ 路径/ 显然/ 存在/ ;/ (/ 2/ )/ 若/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ )/ 由/ 方程/ 右边/ 第二项/ max/ {/ eD/ (/ τ/ )/ (/ vi/ ,/ vl/ ,/ t/ )/ +/ e/ (/ vj/ )/ |/ (/ vl/ ,/ vj/ )/ ∈/ A/ τ/ }/ 导出/ ,/ 则/ 图/ D/ (/ τ/ )/ 中/ 一定/ 存在/ 一条/ 从/ vi/ 到/ vl/ 的/ 路径/ π/ =/ (/ [/ r1/ ,/ vi/ ]/ ,/ …/ ,/ [/ rk/ ,/ vl/ ]/ )/ ,/ 且/ 路径/ 长度/ d/ (/ π/ )/ 至多/ 为/ t/ =/ t/ -/ p/ (/ vl/ ,/ vj/ )/ -/ d/ (/ vj/ )/ +/ d/ (/ vl/ )/ ,/ 其中/ ,/ vl/ 是/ vj/ 的/ 直接/ 前驱/ 节点/ ./ 将/ 路径/ π/ 与/ 弧/ (/ vl/ ,/ vj/ )/ 合并/ 成/ 一条/ 新/ 的/ 路径/ π/ =/ (/ [/ r1/ ,/ vi/ ]/ ,/ …/ ,/ [/ rk/ ,/ vl/ ]/ ,/ [/ rk/ +/ 1/ ,/ vj/ ]/ )/ ./ 易知/ ,/ 新/ 路径/ 的/ 长度/ d/ (/ π/ )/ / t/ -/ d/ (/ vl/ )/ +/ p/ (/ vl/ ,/ vj/ )/ +/ d/ (/ vj/ )/ =/ t/ ./ 综上/ ,/ 图/ D/ (/ τ/ )/ 中/ 一定/ 存在/ 从/ vi/ 到/ vj/ ,/ 且/ 长度/ 至多/ 为/ t/ 的/ 路径/ ./ 另一方面/ ,/ 证明/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ )/ 对应/ 从/ vi/ 到/ vj/ 且/ 长度/ 至多/ 为/ t/ 的/ 最大/ 需求/ 路径/ ./ 定义/ π/ / =/ (/ [/ r1/ ,/ vi/ ]/ ,/ …/ ,/ [/ rk/ ,/ vl/ ]/ ,/ [/ rk/ +/ 1/ ,/ vj/ ]/ )/ 为/ 从/ vi/ 到/ vj/ 且/ 长度/ 至多/ 为/ t/ 的/ 最大/ 需求/ 路径/ ,/ 假设/ 路径/ π/ / 的/ 需求/ e/ (/ π/ / )/ / eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ )/ ./ 由于/ 路径/ π/ / 可/ 看做/ 是/ π/ / il/ =/ (/ [/ r1/ ,/ vi/ ]/ ,/ …/ ,/ [/ rk/ ,/ vl/ ]/ )/ 和/ π/ / lj/ =/ (/ [/ rk/ ,/ vl/ ]/ ,/ [/ rk/ +/ 1/ ,/ vj/ ]/ )/ 两/ 段子/ 路径/ 的/ 组合/ ,/ 路径/ 长度/ 和/ 需求/ 分别/ 可/ 展开/ 为/ d/ (/ π/ / )/ =/ d/ (/ π/ / il/ )/ -/ d/ (/ vl/ )/ +/ d/ (/ π/ / lj/ )/ 和/ e/ (/ π/ / )/ =/ e/ (/ π/ / il/ )/ -/ e/ (/ vl/ )/ +/ e/ (/ π/ / lj/ )/ ./ 注意/ 到子/ 路径/ π/ / lj/ 为/ 弧/ (/ vl/ ,/ vj/ )/ ,/ 则/ 有/ d/ (/ π/ / lj/ )/ / p/ (/ vl/ ,/ vj/ )/ +/ d/ (/ vj/ )/ 和/ e/ (/ π/ / lj/ )/ =/ e/ (/ vl/ )/ +/ e/ (/ vj/ )/ 成立/ ./ 又/ 因为/ d/ (/ π/ / )/ / t/ ,/ 则/ 有/ d/ (/ π/ / il/ )/ / t/ =/ t/ -/ p/ (/ vl/ ,/ vj/ )/ -/ d/ (/ vj/ )/ +/ d/ (/ vl/ )/ 成立/ ./ 即/ 路径/ π/ / il/ 的/ 长度/ 小于/ 等于/ t/ ./ 根据/ 定义/ 3/ ,/ 有/ Page7/ 动态/ 规划/ 算法/ 如下/ ./ e/ (/ π/ / il/ )/ / eD/ (/ τ/ )/ (/ vi/ ,/ vl/ ,/ t/ )/ ,/ 代入/ 到/ e/ (/ π/ / )/ 的/ 计算/ 式/ 中/ 得/ :/ e/ (/ π/ / )/ / eD/ (/ τ/ )/ (/ vi/ ,/ vl/ ,/ t/ )/ +/ e/ (/ vj/ )/ / eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ )/ ./ 推出/ 与/ 假设/ 矛盾/ ,/ 定理/ 得证/ ./ 根据/ 定理/ 2/ ,/ 提出/ 计算/ 需求/ 上/ 界/ 函数/ dbf/ τ/ (/ t/ )/ 的/ 算法/ 1/ ./ 计算/ dbf/ τ/ (/ t/ )/ 的/ 动态/ 规划/ 算法/ ./ 输入/ :/ 任务/ 图/ D/ (/ τ/ )/ 及/ 时间段/ 长度/ t/ 输出/ :/ DRT/ 任务/ τ/ 的/ 需求/ 上/ 界/ 函数/ 集合/ {/ dbf/ τ/ (/ k/ )/ |/ k/ / t/ }/ BEGIN1/ ./ FOReachvi/ ,/ vj/ ∈/ V/ τ/ 2/ ./ 以/ 周期/ 作为/ 弧/ 的/ 权值/ ,/ 计算/ 从/ vi/ 到/ vj/ 的/ 最/ 短路/ 3/ ./ REPEAT1/ / k/ / t/ :/ 4/ ./ FOReachvi/ ∈/ V/ τ/ 5/ ./ FOReachvj/ ∈/ V/ τ/ 6/ ./ IFk/ </ p/ / (/ vi/ ,/ vj/ )/ +/ d/ (/ vj/ )/ THEN7/ ./ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ k/ )/ ·/ ·/ =/ -/ ;/ 8/ ./ ELSEIFi/ =/ jandk/ =/ d/ (/ vi/ )/ THEN9/ ./ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ k/ )/ ·/ ·/ =/ e/ (/ vi/ )/ ;/ 10/ ./ ELSE11/ ./ IFk/ -/ 1/ / p/ / (/ vi/ ,/ vj/ )/ +/ d/ (/ vj/ )/ THEN12/ ./ emax/ ·/ ·/ =/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ k/ -/ 1/ )/ ;/ 13/ ./ FOReach/ (/ vl/ ,/ vj/ )/ ∈/ A/ τ/ 14/ ./ IFk/ / p/ (/ vl/ ,/ vj/ )/ +/ d/ (/ vj/ )/ -/ d/ (/ vl/ )/ THEN15/ ./ emax/ ·/ ·/ =/ max/ {/ emax/ ,/ eD/ (/ τ/ )/ (/ vi/ ,/ vl/ ,/ k/ -/ p/ (/ vl/ ,/ 16/ ./ dbf/ τ/ (/ k/ )/ ·/ ·/ =/ max/ {/ dbf/ τ/ (/ k/ )/ ,/ emax/ }/ ;/ END/ 算法/ 1/ 按照/ 时间段/ 长度/ k/ 从/ 1/ 到/ t/ ,/ 顺次/ 计算/ 需求/ 上/ 界/ 函数/ dbf/ τ/ (/ k/ )/ ./ 根据/ 定义/ 2/ 可知/ ,/ 对于/ 给定/ 的/ k/ ,/ 若/ 要/ 计算/ dbf/ τ/ (/ k/ )/ ,/ 需要/ 先/ 获得/ 每/ 对/ 节点/ vi/ 和/ vj/ 关联/ 的/ MPD/ 结构/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ k/ )/ ./ 算法/ 在/ 4/ ~/ 16/ 行/ 计算/ 了/ 所有/ 节点/ 对/ 关联/ 的/ MPD/ 值/ ,/ 并/ 在/ 其中/ 选取/ 一个/ 最大值/ 存储/ 在/ emax/ 中/ ./ 根据/ 定理/ 2/ ,/ 对于/ 任意/ 两/ 节点/ vi/ 和/ vj/ ,/ 计算/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ k/ )/ 需要/ 分/ 3/ 种/ 情况/ 讨论/ :/ (/ 1/ )/ 当/ k/ </ p/ / (/ vi/ ,/ vj/ )/ +/ d/ (/ vj/ )/ 时/ ,/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ k/ )/ ·/ ·/ =/ -/ ,/ 对应/ 算法/ 6/ ,/ 7/ 行/ ;/ (/ 2/ )/ 当/ i/ =/ j/ ,/ k/ =/ d/ (/ vi/ )/ 时/ ,/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ k/ )/ ·/ ·/ =/ e/ (/ vi/ )/ ,/ 对应/ 算法/ 8/ ,/ 9/ 行/ ;/ (/ 3/ )/ 此外/ ,/ 在/ 一般/ 情况/ 下/ ,/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ k/ )/ 需要/ 由/ 递推/ 式/ (/ 1/ )/ 来/ 计算/ ,/ 对应/ 算法/ 10/ ~/ 15/ 行/ ./ 定理/ 3/ ./ 算法/ 1/ 是/ 伪/ 多项式/ 时间/ 的/ ,/ 且/ 计算/ 复杂性/ 是/ 关于/ 时间段/ 长度/ t/ 的/ 线性/ 函数/ ./ 证明/ ./ 对于/ 图/ D/ (/ τ/ )/ 中/ 任意/ 的/ 两个/ 节点/ vi/ 和/ vj/ ∈/ V/ τ/ ,/ 以及/ 任意/ 的/ 时间段/ 长度/ k/ / t/ ,/ 算法/ 1/ 均/ 需要/ 计算/ 一个/ MPD/ 结构/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ k/ )/ ./ 易知/ ,/ D/ (/ τ/ )/ 中/ 节点/ 对/ 个数/ 至多/ 为/ n/ ×/ n/ ,/ 时间段/ 长度/ k/ 上/ 界限/ 定为/ t/ ./ 因此/ ,/ 算法/ 1/ 中/ 需要/ 计算/ 的/ MPD/ 个/ 数最多/ 为/ O/ (/ n2t/ )/ ./ 另外/ ,/ 对于/ 任意/ 的/ 长度/ k/ ,/ 需求/ 上/ 界/ 函数/ dbf/ τ/ (/ k/ )/ 可/ 在/ 所有/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ k/ )/ 都/ 计算/ 完后/ ,/ 由/ max/ {/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ k/ )/ |/ vi/ ,/ vj/ ∈/ V/ τ/ }/ 计算/ 得到/ ,/ 见/ 算法/ 第/ 16/ 行/ ./ 综上/ ,/ 算法/ 1/ 是/ 伪/ 多项式/ 时间/ 的/ ,/ 其/ 时间/ 复杂度/ 为/ t/ 的/ 线性/ 函数/ O/ (/ n2t/ )/ ./ 与/ 之前/ 的/ 研究/ 相比/ ,/ 算法/ 1/ 将/ DRT/ 中/ DBF/ 计算/ 问题/ 的/ 复杂度/ 由/ t/ 的/ 平方/ 降低/ 为/ t/ 的/ 线性/ 函数/ ,/ 进一步/ 提升/ 了/ 求解/ 效率/ ./ 更/ 重要/ 的/ 是/ ,/ 算法/ 1/ 还/ 可以/ 扩展/ 到/ TCDRT/ 模型/ ,/ 而/ 以往/ DRT/ 中/ 求解/ DBF/ 的/ 动态/ 规划/ 算法/ 在/ TCDRT/ 中/ 却/ 不再/ 适用/ [/ 7/ ]/ ./ 3.2/ TCDRT/ 模型/ 上/ DBF/ 的/ 计算方法/ 本节/ 将/ 基于/ MPD/ 的/ 动态/ 规划/ 算法/ 扩展/ 到/ TCDRT/ 模型/ 中/ ./ 与/ DRT/ 模型/ 不同/ ,/ 在/ TCDRT/ 中/ 构造/ 一个/ MPD/ 结构/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ )/ 需要/ 额外/ 考虑/ C/ (/ τ/ )/ 中/ 的/ 时间/ 约束/ ./ 接下来/ ,/ 针对/ 路径/ 终点/ vj/ 是否/ 为/ 某个/ 时间/ 约束/ 的/ 右/ 节点/ ,/ 对/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ )/ 的/ 递推/ 方程/ 分/ 两种/ 情况/ 进行/ 讨论/ ./ 对于/ 任意/ 给定/ 的/ 两/ 节点/ vi/ 和/ vj/ ,/ 以及/ 时间段/ 长度/ t/ 有/ :/ 情况/ 1/ ./ 从/ vi/ 到/ vj/ 的/ 路径/ 不/ 以/ 任何/ 时间/ 约束/ 的/ 右/ 节点/ 结尾/ ,/ 即/ 对于/ 任意/ 的/ (/ fromk/ ,/ tok/ ,/ γ/ k/ )/ ∈/ C/ τ/ ,/ 均/ 有/ vj/ ≠/ tok/ 成立/ ./ 此时/ ,/ MPD/ 结构/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ )/ 仍然/ 可/ 由/ 定理/ 2/ 中/ 的/ 递推/ 方程/ (/ 1/ )/ 计算/ 得到/ ./ 情况/ 2/ ./ 路径/ 以/ 某/ 时间/ 约束/ 的/ 右/ 节点/ 结尾/ ,/ 即/ 存在/ (/ fromk/ ,/ tok/ ,/ γ/ k/ )/ ∈/ C/ τ/ ,/ 使得/ vj/ =/ tok/ ./ 此时/ ,/ 计算/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ t/ )/ 则/ 需要/ 考虑/ 作用/ 于/ 终点/ vj/ 上/ 的/ 时间/ 约束/ ./ 不失/ 一般性/ ,/ 设/ 时间/ 约束/ (/ fromk/ ,/ tok/ ,/ γ/ k/ )/ 的/ 右/ 节点/ tok/ =/ vj/ ,/ 并且/ 左/ 节点/ fromk/ =/ vl/ ./ 假设/ 从/ vi/ 到/ vj/ 的/ 路径/ 中/ 不止一次/ 遍历/ 节点/ vl/ ,/ 则/ 只/ 需/ 判断/ 离/ 终点/ vj/ 最近/ 的/ 一次/ 遍历/ vl/ 的/ 时间/ 是否/ 满足/ 时间/ 约束/ (/ fromk/ ,/ tok/ ,/ γ/ k/ )/ ,/ 如例/ 3/ 中/ 所示/ ./ 因此/ ,/ 对于/ 图/ D/ (/ τ/ )/ 中/ 的/ 每个/ 节点/ ,/ 本节/ 只/ 关注/ 其/ 在/ 路径/ 中/ 最后/ 一次/ 被/ 遍历/ 的/ 时刻/ ./ 例/ 3/ ./ 如图/ 1/ 中/ 3/ -/ TCDRT/ 任务/ τ/ ,/ 考虑/ C/ (/ τ/ )/ 中/ 的/ 时间/ 约束/ (/ v4/ ,/ v2/ ,/ 6/ )/ ./ 图中/ 存在/ 一条/ 路径/ π/ =/ [/ (/ 0/ ,/ v4/ )/ ,/ (/ 2/ ,/ v5/ )/ ,/ (/ 4/ ,/ v4/ )/ ,/ (/ 6/ ,/ v5/ )/ ,/ (/ 8/ ,/ v4/ )/ ,/ (/ 10/ ,/ v5/ )/ ,/ (/ 14/ ,/ v2/ )/ ]/ ,/ 如图/ 2/ 所示/ ./ 路径/ π/ 遍历/ 终点/ 的/ 时刻/ 为/ 14/ ./ 注意/ 到/ ,/ 路径/ π/ 三次/ 遍历/ 节点/ v4/ ,/ 其/ 遍历/ 时刻/ 按离/ 终点/ v2/ 由远/ 及/ 近/ 顺序排列/ 分别/ 为/ 0/ ,/ 4/ 和/ 8/ ./ 显然/ ,/ 只/ 需/ 检查/ 离/ v2/ 最近/ 一次/ 对/ v4/ 进行/ 遍历/ 的/ 时刻/ ,/ 即可/ 判断/ π/ 是否/ 满足/ 时间/ 约束/ (/ v4/ ,/ v2/ ,/ 6/ )/ ./ 即/ 由/ 14/ -/ 8/ / 6/ 可/ 判定/ 整条/ 路径/ π/ 满足/ 约束/ (/ v4/ ,/ v2/ ,/ 6/ )/ ./ 考虑/ 更为/ 一般/ 的/ 情况/ ,/ 假设/ C/ (/ τ/ )/ 中有/ 多个/ 时间/ Page8/ 约束/ 都/ 作用/ 于/ 路径/ 终点/ vj/ ./ 所有/ 将/ vj/ 作为/ 右/ 节点/ 的/ 时间/ 约束/ 构成/ 集合/ C/ (/ vj/ )/ =/ {/ (/ vi1/ ,/ vj/ ,/ γ/ 1/ )/ ,/ …/ ,/ (/ vikj/ ,/ vj/ ,/ γ/ kj/ )/ }/ ./ 对于/ 每条/ 以/ vj/ 为/ 终点/ 的/ 路径/ π/ ,/ 都/ 对应/ 一个/ C/ (/ vj/ )/ 到/ π/ 的/ 指派/ ,/ 定义/ 如下/ ./ 定义/ 4/ ./ 约束/ 指派/ (/ ConstraintAssignment/ ,/ CA/ )/ ./ 对于/ 给定/ 的/ 节点/ vj/ 和/ 一条/ 以/ vj/ 为/ 终点/ 的/ 路径/ π/ ,/ 约束/ 集合/ C/ (/ vj/ )/ =/ {/ (/ vi1/ ,/ vj/ ,/ γ/ 1/ )/ ,/ …/ ,/ (/ vikj/ ,/ vj/ ,/ γ/ kj/ )/ }/ 到/ 路径/ π/ 的/ 指派/ 定义/ 为/ assignj/ (/ π/ )/ =/ b1/ …/ bl/ …/ bkj/ ./ 其中/ ,/ bl/ 为/ 一个/ 二进制位/ :/ 若/ 路径/ π/ 包含/ 节点/ vil/ ,/ 且/ 在/ 最后/ 一次/ 遍历/ vil/ 之后/ 除/ 终点/ 外/ 再/ 未/ 遍历/ vj/ ,/ 则/ bl/ =/ 1/ ;/ 否则/ ,/ bl/ =/ 0/ ./ 通常/ 将/ 路径/ π/ 的/ 约束/ 指派/ assignj/ (/ π/ )/ 记为/ b1/ …/ bl/ …/ bkj/ 的/ 十进制/ 形式/ ./ 为/ 表达/ 方便/ ,/ 可/ 直接/ 用/ 十进制/ 指派/ 赋值/ 来/ 标识/ 路径/ π/ ,/ 即/ π/ =/ b1/ +/ 2b2/ +/ …/ +/ 2kj/ -/ 1bkj/ ./ 约束/ 指派/ 精确/ 标识/ 了/ 那些/ 作用/ 于/ 路径/ 终点/ 的/ 时间/ 约束/ ,/ 以下/ 是/ 约束/ 指派/ 赋值/ 的/ 例子/ ./ 例/ 4/ ./ 考虑/ 图/ 1/ 中/ 节点/ v2/ ,/ 在/ C/ (/ τ/ )/ 中以/ v2/ 为/ 右/ 节点/ 的/ 约束/ 子集/ 为/ C/ (/ v2/ )/ =/ {/ (/ v4/ ,/ v2/ ,/ 6/ )/ ,/ (/ v6/ ,/ v2/ ,/ 11/ )/ }/ ./ 分别/ 用/ 二进制位/ b1/ 和/ b2/ 代表/ C/ (/ v2/ )/ 中/ 的/ 约束/ (/ v4/ ,/ v2/ ,/ 6/ )/ 和/ (/ v6/ ,/ v2/ ,/ 11/ )/ ./ 路径/ π/ 1/ =/ [/ (/ 0/ ,/ v1/ )/ ,/ (/ 7/ ,/ v4/ )/ ,/ (/ 9/ ,/ v5/ )/ ,/ (/ 13/ ,/ v2/ )/ ,/ (/ 15/ ,/ v3/ )/ ,/ (/ 17/ ,/ v6/ )/ ,/ (/ 21/ ,/ v1/ )/ ,/ (/ 28/ ,/ v4/ )/ ,/ (/ 30/ ,/ v5/ )/ ,/ (/ 34/ ,/ v2/ )/ ]/ 以/ v2/ 结尾/ ,/ 且/ 路径/ π/ 1/ 中/ 包含/ C/ (/ v2/ )/ 中/ 两/ 约束/ 的/ 左/ 节点/ v4/ 和/ v6/ ./ 注意/ 到/ ,/ 路径/ π/ 1/ 在/ 最后/ 一次/ 遍历/ v4/ 和/ v6/ 后/ ,/ 以及/ 到达/ 终点/ v2/ 之前/ ,/ 再也/ 没有/ 对/ 节点/ v2/ 进行/ 遍历/ ,/ 如图/ 4/ (/ a/ )/ 所示/ ./ 根据/ 定义/ 4/ ,/ 约束/ C/ (/ v2/ )/ 到/ π/ 1/ 的/ 指派/ 赋值/ 为/ b1b2/ =/ 11/ ./ 另外/ ,/ 图/ 4/ (/ b/ )/ 同样/ 给出/ 一条/ 以/ v2/ 结尾/ 且/ 包含/ v4/ 和/ v6/ 的/ 路径/ π/ 2/ =/ [/ (/ 0/ ,/ v3/ )/ ,/ (/ 2/ ,/ v6/ )/ ,/ (/ 7/ ,/ v1/ )/ ,/ (/ 13/ ,/ v2/ )/ ,/ (/ 15/ ,/ v3/ )/ ,/ (/ 17/ ,/ v5/ )/ ,/ (/ 19/ ,/ v4/ )/ ,/ (/ 21/ ,/ v5/ )/ ,/ (/ 25/ ,/ v2/ )/ ]/ ./ 注意/ 到/ ,/ 路径/ π/ 2/ 在/ 最后/ 一次/ 遍历/ v6/ 之后/ 并且/ 在/ 到达/ 终点/ v2/ 之前/ ,/ 又/ 遍历/ 了/ 节点/ v2/ ./ 因此/ ,/ 约束/ (/ v6/ ,/ v2/ ,/ 11/ )/ 对应/ 的/ 二进制位/ b2/ 应取/ 0/ ./ 路径/ π/ 2/ 对应/ 的/ 约束/ 指派/ 应/ 赋值/ 为/ b1b2/ =/ 10/ ./ 基于/ 定义/ 4/ ,/ DRT/ 中/ 的/ 路径/ 需求/ 定义/ 可/ 进一步/ 扩展/ 为/ TCDRT/ 模型/ 中/ 的/ 指派/ 路径/ 需求/ ./ 定义/ 5/ ./ 指派/ 路径/ 需求/ (/ AssignedPathDemand/ ,/ APD/ )/ ./ 给定/ 时间段/ 长度/ t/ ,/ 以及/ 图/ D/ (/ τ/ )/ 的/ 任意子/ 图/ D/ ,/ 对于/ 图/ D/ 中/ 任意/ 一条/ 从/ vi/ 到/ vj/ 的/ 路径/ π/ ,/ eD/ (/ vi/ ,/ vj/ ,/ assignj/ (/ π/ )/ ,/ t/ )/ 表示/ 路径/ π/ 在/ 满足/ C/ (/ vj/ )/ 中/ 的/ 时间/ 约束/ ,/ 且/ 长度/ d/ (/ π/ )/ / t/ ,/ 时/ ,/ 所/ 获得/ 的/ 最大/ 需求/ ,/ 其中/ assignj/ (/ π/ )/ 为/ C/ (/ vj/ )/ 到/ 路径/ π/ 的/ 约束/ 指派/ ./ 根据/ 以上/ 定义/ ,/ 对于/ 图/ D/ 中/ 任意/ 的/ 两/ 节点/ vi/ 和/ vj/ ,/ 以及/ 时间段/ 长度/ t/ ,/ 相应/ 的/ MPD/ 结构/ eD/ (/ vi/ ,/ vj/ ,/ t/ )/ 可由式/ (/ 2/ )/ 计算/ 得出/ eD/ (/ vi/ ,/ vj/ ,/ t/ )/ =/ max/ {/ eD/ (/ vi/ ,/ vj/ ,/ assignj/ (/ π/ )/ ,/ t/ )/ 式/ (/ 2/ )/ 中/ 的/ π/ 表示/ 从/ vi/ 到/ vj/ 路径/ 关联/ 约束/ 指派/ b1/ …/ bl/ …/ bkj/ 对应/ 的/ 十进制/ ./ 易知/ ,/ b1/ …/ bl/ …/ bkj/ 的/ 取值/ 范围/ 从/ 0/ …/ 0/ 到/ 1/ …/ 1/ ,/ 对应/ 的/ 十进制/ 从/ 0/ 到/ 2kj/ -/ 1/ ./ 式/ (/ 2/ )/ 说明/ ,/ 一旦/ 求得/ 所有/ 的/ APD/ 结构/ eD/ (/ vi/ ,/ vj/ ,/ assignj/ (/ π/ )/ ,/ t/ )/ ,/ 即可/ 获得/ MPD/ 结构/ eD/ (/ vi/ ,/ vj/ ,/ t/ )/ ./ 显然/ ,/ 当/ kj/ 为/ 常数/ 时/ ,/ 在/ TCDRT/ 模型/ 中/ 计算/ MPD/ 结构/ eD/ (/ vi/ ,/ vj/ ,/ t/ )/ 是/ 伪/ 多项式/ 时间/ 的/ ./ 对于/ 给定/ 的/ 约束/ 指派/ assignj/ (/ π/ )/ =/ b1/ …/ bl/ …/ bkj/ ,/ APD/ 结构/ eD/ (/ vi/ ,/ vj/ ,/ assignj/ (/ π/ )/ ,/ t/ )/ 的/ 计算方法/ 主要/ 基于/ 对/ 路径/ 集合/ 进行/ 划分/ 的/ 思想/ ./ 考虑/ 所有/ 从/ vi/ 到/ vj/ ,/ 且/ 关联/ 指派/ assignj/ (/ π/ )/ 的/ 路径/ ,/ 这些/ 路径/ 构成/ 的/ 集合/ 定义/ 为/ / ./ 另外/ 定义/ / 关联/ 的/ 节点/ 集/ 定义/ 为/ V/ (/ / )/ =/ {/ vil/ |/ (/ vil/ ,/ vj/ ,/ γ/ l/ )/ ∈/ C/ (/ vj/ )/ ∧/ bl/ ∈/ assignj/ (/ π/ )/ ∧/ bl/ =/ 1/ }/ ./ 显然/ ,/ / 中/ 每条/ 路径/ 均会/ 对/ V/ (/ / )/ 中/ 的/ 所有/ 节点/ 进行/ 遍历/ ./ 定义/ / 的/ 子集/ / l/ =/ {/ π/ |/ π/ ∈/ / 且/ V/ (/ / )/ 中/ 节点/ 在/ π/ 中/ 最早/ 完成/ 最后/ 一次/ 遍历/ 的/ 是/ vil/ }/ ./ 易知/ ,/ kjl/ =/ 1/ / l/ =/ / ,/ 且/ 对于/ 任意/ l/ ≠/ l/ ,/ 有/ / l/ ∩/ / l/ =/ / 成立/ ./ 可/ ∪/ 知/ ,/ 路径/ 集合/ / 存在/ 一个/ 划分/ {/ / l/ |/ vil/ ∈/ V/ (/ / )/ }/ ./ 根据/ 定义/ 5/ ,/ eD/ (/ vi/ ,/ vj/ ,/ assignj/ (/ π/ )/ ,/ t/ )/ 对应/ / 中/ 长度/ 小于/ t/ ,/ 且/ 具有/ 最大/ 需求/ 的/ 路径/ ./ 显然/ ,/ eD/ (/ vi/ ,/ vj/ ,/ assignj/ (/ π/ )/ ,/ t/ )/ 也/ 可/ 通过/ 对/ 划分/ 集合/ 进行/ 如下/ 操作/ 获得/ ./ 首先/ ,/ 分别/ 在/ 每个/ 子集/ / l/ 中/ 找出/ 长度/ 小于/ 等于/ t/ 的/ 路径/ ,/ 计算/ 这些/ 路径/ 的/ 最大/ 需求/ 值/ eD/ (/ / l/ ,/ t/ )/ ,/ 具体/ 的/ 递推/ 方程/ 如下/ :/ eD/ (/ / i/ ,/ t/ )/ =/ max/ {/ eD/ (/ vi/ ,/ vil/ ,/ t/ )/ +/ eD/ [/ vil/ ,/ vj/ ]/ (/ vf/ ,/ Page9/ 且/ t/ -/ t/ / γ/ l/ +/ d/ (/ vj/ )/ }/ 如图/ 5/ 所示/ ,/ 对于/ / l/ 中/ 任意/ 一条/ 路径/ π/ ,/ 式/ (/ 3/ )/ 以/ 最后/ 一次/ 遍历/ 节点/ vil/ 为/ 分界/ ,/ 将/ π/ 分解成/ 三/ 部分/ :/ (/ 1/ )/ 从/ vi/ 到/ vil/ 且/ 满足/ 时间/ 约束/ 的/ 路径/ π/ 1/ ;/ (/ 2/ )/ 衔接/ 弧/ (/ vil/ ,/ vf/ )/ ∈/ A/ ,/ 其中/ ,/ A/ 表示/ 图/ D/ 的/ 弧集/ ;/ (/ 3/ )/ 从/ vf/ 到/ vj/ 且/ 满足/ 时间/ 约束/ 的/ 路径/ π/ 2/ ,/ 并且/ π/ 2/ 中/ 再/ 未/ 遍历/ 节点/ vil/ ,/ 且/ 仅/ 在/ 结尾/ 遍历/ vj/ ,/ 为了/ 保证/ 这/ 一点/ ,/ 定义/ π/ 2/ 为/ 图/ D/ [/ vil/ ,/ vj/ ]/ 上/ 的/ 路径/ ,/ 其中/ D/ [/ vil/ ,/ vj/ ]/ 为/ 图/ D/ 在/ 删去/ vil/ 的/ 入/ 弧/ 和/ vj/ 的/ 出/ 弧后/ 得到/ 的/ 子/ 图/ ./ 以图/ 1/ 中/ 的/ 任务/ 为例/ ,/ D/ (/ τ/ )/ 的/ 一个/ 子图/ D/ [/ v4/ ,/ v2/ ]/ 在/ 例/ 5/ 中/ 给出/ ./ 图/ 5/ 路径/ π/ 分解/ 为/ 3/ 段子/ 路径/ :/ π/ 1/ ,/ (/ vil/ ,/ vf/ )/ 和/ π/ 2/ 例/ 5/ ./ 考虑/ 图/ 1/ 中/ 的/ 任务/ 图/ D/ (/ τ/ )/ ,/ 令图/ D/ =/ D/ (/ τ/ )/ ./ 则/ D/ 的/ 子/ 图/ D/ [/ v4/ ,/ v2/ ]/ 如图/ 6/ 所示/ ./ 在/ 图/ D/ [/ v4/ ,/ v2/ ]/ 中/ ,/ 图/ 1/ 中/ v4/ 的/ 入/ 弧/ 和/ v2/ 的/ 出/ 弧均/ 被/ 删掉/ ./ 易知/ ,/ 图/ D/ [/ v4/ ,/ v2/ ]/ 上/ 的/ 任何/ 路径/ 中除/ 起点/ 和/ 终点/ 外/ ,/ 不/ 可能/ 再/ 出现/ 节点/ v4/ 和/ v2/ ./ 由/ 定义/ 4/ 可知/ ,/ 将/ 子路/ π/ 1/ 从/ 路径/ π/ 中/ 去除/ 后/ ,/ 对/ 整条/ 路径/ 关联/ 的/ 约束/ 指派/ 没有/ 影响/ ./ 但是/ ,/ 若/ 再/ 去掉/ 衔接/ 弧/ (/ vil/ ,/ vf/ )/ ,/ 由于/ 去掉/ 了/ 所有/ vil/ 节点/ ,/ 剩余/ 路径/ 关联/ 的/ 约束/ 指派/ 中/ 相应/ 二进制位/ bl/ 将/ 由/ 1/ 置/ 为/ 0/ ./ 即/ 路径/ π/ 2/ 的/ 约束/ 指派/ 为/ assignj/ (/ π/ )/ -/ 2l/ -/ 1/ ./ 另外/ ,/ 由于/ 路径/ π/ 的/ 长度/ 要求/ 小于/ 等于/ t/ ,/ 以上/ 三/ 段子/ 路径/ 的/ 长度/ 之/ 和/ 也/ 应/ 小于/ 等于/ t/ ./ 若/ 路径/ π/ 1/ 的/ 长度/ 定义/ 为/ t/ ,/ 衔接/ 弧/ 的/ 周期/ 为/ p/ (/ vil/ ,/ vf/ )/ ,/ 则/ π/ 1/ 的/ 长度/ 需/ 小于/ 等于/ t/ -/ t/ -/ p/ (/ vil/ ,/ vf/ )/ ,/ 如图/ 5/ 所示/ ./ 最后/ ,/ 由子/ 路径/ 定义/ 可知/ ,/ 尽管/ C/ (/ τ/ )/ 中/ 的/ 时间/ 约束/ 在/ π/ 1/ 和/ π/ 2/ 中/ 分别/ 得到/ 满足/ ./ 但是/ ,/ 路径/ π/ 关联/ 的/ 时间/ 约束/ (/ vil/ ,/ vj/ ,/ γ/ l/ )/ 跨越/ 了/ 两/ 段子/ 路径/ π/ 1/ 和/ π/ 2/ ,/ 需要/ 在/ 式/ (/ 3/ )/ 中/ 额外/ 加入/ 限定/ 条件/ t/ -/ t/ / γ/ l/ +/ d/ (/ vj/ )/ 以/ 体现/ 约束/ (/ vil/ ,/ vj/ ,/ γ/ l/ )/ 对/ 路径/ 的/ 作用/ ./ 综上/ 可知/ ,/ 以/ (/ vil/ ,/ vf/ )/ 为/ 衔接/ 弧/ 的/ 路径/ 其/ 最大/ 需求/ 等于/ 以下/ 两/ 部分/ 之/ 和/ :/ (/ 1/ )/ π/ 1/ 的/ 最大/ 需求/ eD/ (/ vi/ ,/ vil/ ,/ t/ )/ ;/ (/ 2/ )/ π/ 2/ 的/ 最大/ 需求/ eD/ [/ vil/ ,/ vj/ ]/ (/ vf/ ,/ vj/ ,/ t/ -/ t/ -/ p/ (/ vil/ ,/ vf/ )/ )/ ./ 如式/ (/ 3/ )/ 所示/ ,/ 考虑/ 图/ D/ 中/ vil/ 的/ 所有/ 出弧/ 作为/ 衔接/ 弧/ 以及/ 所有/ 时间段/ 长度/ t/ / t/ -/ γ/ l/ -/ d/ (/ vj/ )/ ,/ 即可/ 求得/ / l/ 中/ 路径/ 的/ 最大/ 需求/ eD/ (/ / l/ ,/ t/ )/ ./ 进一步/ 地/ ,/ 按照/ 以上/ 方法/ 计算/ 每个/ 集合/ / l/ 中/ 路径/ 的/ 最大/ 需求/ ,/ 即可/ 获得/ APD/ 结构/ eD/ (/ vi/ ,/ vj/ ,/ assignj/ (/ π/ )/ ,/ t/ )/ ,/ 如式/ (/ 4/ )/ 所示/ ./ eD/ (/ vi/ ,/ vj/ ,/ assignj/ (/ π/ )/ ,/ t/ )/ =/ max/ {/ eD/ (/ / l/ ,/ t/ )/ |/ vl/ ∈/ V/ (/ / )/ }/ (/ 4/ )/ 综上/ ,/ 可/ 给出/ 计算/ TCDRT/ 模型/ 中/ 需求/ 上/ 界/ 函数/ dbf/ τ/ (/ t/ )/ 的/ 动态/ 规划/ 算法/ :/ 首先/ ,/ 对于/ 所有/ 节点/ 对/ vi/ 和/ vj/ ∈/ V/ τ/ ,/ 以及/ 每个/ 时间段/ 长度/ k/ / t/ ,/ 联合/ 应用/ 递推/ 方程/ (/ 1/ )/ ~/ (/ 4/ )/ 计算/ 相应/ 的/ MPD/ 结构/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ k/ )/ ;/ 然后/ ,/ 再/ 在/ 其中/ 选取/ 最大值/ 作为/ dbf/ τ/ (/ t/ )/ ,/ 如式/ (/ 5/ )/ 所示/ ./ dbf/ τ/ (/ t/ )/ =/ max/ {/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ k/ )/ |/ vi/ ,/ vj/ ∈/ V/ τ/ ∧/ k/ / t/ }/ (/ 5/ )/ 定理/ 4/ ./ K/ -/ TCDRT/ 模型/ 中/ 的/ DBF/ 计算/ 问题/ 是/ 伪/ 多项式/ 时间/ 的/ ,/ 且/ 计算/ 复杂性/ 与/ 时间/ 约束/ 宽度/ 无关/ ./ 证明/ ./ 在/ 计算/ dbf/ τ/ (/ t/ )/ 的/ 过程/ 中/ ,/ 可/ 将/ 需要/ 计算/ 的/ 子结构/ 分为/ 两类/ :/ (/ 1/ )/ 与/ 计算/ dbf/ τ/ (/ t/ )/ 直接/ 相关/ 的/ MPD/ 结构/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ k/ )/ ,/ 如式/ (/ 5/ )/ 所示/ ./ 注意/ 到/ ,/ 这部分/ MPD/ 结构/ 均/ 定义/ 在/ 任务/ 图/ D/ (/ τ/ )/ 上/ ,/ 个数/ 限定/ 在/ O/ (/ n2t/ )/ 内/ ;/ (/ 2/ )/ 与/ 计算/ dbf/ τ/ (/ t/ )/ 间接/ 相关/ 的/ MPD/ 和/ APD/ 子结构/ ./ 在/ 计算/ 每个/ 定义/ 图/ D/ (/ τ/ )/ 上/ 的/ MPD/ 结构/ 时/ ,/ 需要/ 额外/ 计算/ 一系列/ 新/ 的/ 定义/ 在/ 图/ D/ 上/ 的/ MPD/ 结构/ eD/ (/ vi/ ,/ vj/ ,/ k/ )/ 和/ APD/ 结构/ eD/ (/ vi/ ,/ vj/ ,/ assignj/ (/ π/ )/ ,/ k/ )/ ,/ 其中/ ,/ D/ 为/ D/ (/ τ/ )/ 的/ 诱导/ 子图/ ,/ D/ 在/ 反复/ 使用/ 递推/ 方程/ (/ 3/ )/ 的/ 过程/ 中/ 获得/ ./ 注意/ 到/ ,/ APD/ 结构/ eD/ (/ vi/ ,/ vj/ ,/ assignj/ (/ π/ )/ ,/ k/ )/ 仅/ 在/ vj/ 是/ C/ (/ τ/ )/ 中/ 某/ 时间/ 约束/ 的/ 右/ 节点/ 时才/ 需/ 计算/ ./ 由/ 定义/ 4/ 和/ 5/ 可知/ ,/ 对于/ 给定/ 的/ vj/ ,/ APD/ 结构/ 中/ 可能/ 的/ 约束/ 指派/ assignj/ (/ π/ )/ 个数/ 至多/ 为/ O/ (/ 2kj/ )/ ./ 另外/ ,/ APD/ 结构/ 中/ 可能/ 的/ 子/ 图/ D/ 个数/ 仅/ 与/ 约束/ 子集/ C/ (/ vj/ )/ 的/ 势/ kj/ 相关/ ./ 由子/ 图/ D/ [/ vil/ ,/ vj/ ]/ 的/ 定义/ 可知/ ,/ 对于/ 给定/ 的/ vj/ ,/ 在/ 计算/ 过程/ 中/ 可能/ 生成/ 的/ 子/ 图/ 个数/ 至多/ 为/ O/ (/ 2kj/ )/ ./ 因此/ ,/ 在/ 动态/ 规划/ 算法/ 中/ ,/ 需要/ 计算/ 的/ APD/ 结构/ eD/ (/ vi/ ,/ vj/ ,/ assignj/ (/ π/ )/ ,/ k/ )/ 个数/ 至多/ 为/ O/ ∑/ nMPD/ 结构/ eD/ (/ vi/ ,/ vj/ ,/ k/ )/ 仅/ 在/ vj/ 是/ C/ (/ τ/ )/ 中/ 某/ 时间/ 约束/ 的/ 左/ 节点/ 时才/ 需/ 计算/ ./ 因此/ ,/ 需要/ 计算/ 的/ MPD/ 结构/ eD/ (/ vi/ ,/ vj/ ,/ k/ )/ 个数/ 至多/ 为/ O/ ∑/ n/ 每个/ 节点/ vj/ 作为/ 右/ 节点/ 关联/ 的/ 约束/ 个数/ 为/ 常数/ kj/ 时/ ,/ TCDRT/ 模型/ 中/ DBF/ 计算/ 问题/ 具有/ 伪/ 多项式/ 时间/ 算法/ ,/ 且/ 计算/ 复杂度/ 与/ 约束/ 宽度/ 无关/ ,/ 仅/ 是/ 时间段/ 长度/ t/ 的/ 线性/ 函数/ ./ Page10/ 注意/ 到/ ,/ 之前/ 的/ 间接/ 方法/ 使得/ DBF/ 计算/ 问题/ 的/ 复杂度/ 与/ 约束/ 宽度/ 指数/ 相关/ ,/ 且/ 是/ t/ 的/ 二次/ 函数/ [/ 7/ ]/ ./ 本节/ 方法/ 使/ 问题/ 的/ 复杂度/ 降低/ 到/ t/ 的/ 一次/ 方/ ,/ 且/ 直接/ 去/ 除了/ 一类/ 问题/ 参数/ —/ —/ —/ 约束/ 宽度/ 对/ 问题/ 复杂度/ 的/ 影响/ ./ 与/ 之前/ 研究/ 相比/ ,/ 本文/ 方法/ 在/ 理论/ 上/ 降低/ 了/ TCDRT/ 模型/ 的/ 分析/ 难度/ ./ 另外/ ,/ 注意/ 到/ 本节/ 方法/ 的/ 计算/ 复杂度/ 仅/ 与/ 节点/ 关联/ 的/ 约束/ 个数/ kj/ 指数/ 相关/ ./ 易知/ ,/ 在/ 平均/ 情况/ 下/ ,/ kj/ 是/ 一个/ 远/ 小于/ K/ 的/ 小/ 常数/ ./ 更进一步/ 地/ ,/ 若图/ 中/ 每个/ 节点/ 关联/ 的/ 约束/ 个数/ kj/ / 1/ ,/ 则/ 本节/ 方法/ 的/ 计算/ 复杂度/ 直接/ 简化/ 为/ 与/ C/ (/ τ/ )/ 中/ 的/ 约束/ 个数/ K/ 不再/ 相关/ ,/ 如/ 定理/ 5/ 所述/ ./ 定理/ 5/ ./ 若/ C/ (/ τ/ )/ 中/ 任意/ 两/ 约束/ 的/ 右/ 节点均/ 不/ 相同/ ,/ 则/ TCDRT/ 模型/ 中/ 的/ DBF/ 计算/ 问题/ 的/ 计算/ 复杂性/ 为/ O/ (/ 7n2t/ )/ ./ 证明/ ./ 由/ 定理/ 4/ 的/ 证明/ 过程/ 可知/ ,/ 定义/ 在/ 图/ D/ (/ τ/ )/ 上/ MPD/ 结构/ eD/ (/ τ/ )/ (/ vi/ ,/ vj/ ,/ k/ )/ 的/ 个数/ 为/ O/ (/ n2t/ )/ ,/ 定义/ 在子/ 图/ D/ 上/ MPD/ 结构/ eD/ (/ vi/ ,/ vj/ ,/ k/ )/ 和/ APD/ 结构/ eD/ (/ vi/ ,/ vj/ ,/ assignj/ (/ π/ )/ ,/ k/ )/ 的/ 个数/ 分别/ 为/ O/ ∑/ n4kl/ (/ )/ nt/ ./ 由于/ C/ (/ τ/ )/ 中/ 任意/ 两/ 约束/ 的/ 右/ 节点/ 和/ O/ ∑/ n/ 均/ 不/ 相同/ ,/ 可知/ 对于/ 任意/ 的/ vj/ ∈/ V/ τ/ ,/ 有/ kj/ / 1/ 成立/ ./ 将/ kj/ / 1/ 代入/ 后/ 可知/ ,/ 若/ 要/ 得到/ dbf/ τ/ (/ t/ )/ ,/ 共需/ 计算/ 的/ 子结构/ 个数/ 至多/ 为/ O/ (/ 7n2t/ )/ ./ 定理/ 得证/ ./ 证毕/ ./ 4/ 可/ 调度/ 性/ 分析/ 上/ 界/ 犜/ 的/ 限定/ 策略/ 本/ 节/ 给出/ 可/ 调度/ 性/ 分析/ 上界/ T/ 的/ 限定/ 方法/ ./ 首先/ 介绍/ 要/ 用到/ 的/ 相关/ 概念/ ./ 定义/ 6/ ./ 利用率/ (/ Utilization/ )/ ./ 给定/ TCDRT/ 任务/ 集/ / ,/ 对于/ 每个/ 任务/ τ/ ∈/ / ,/ 在/ 图/ D/ (/ τ/ )/ 中/ 存在/ 一条/ 回路/ π/ =/ [/ (/ r1/ ,/ v/ [/ 1/ ]/ )/ ,/ (/ r2/ ,/ v/ [/ 2/ ]/ )/ ,/ …/ ,/ (/ rl/ ,/ v/ [/ l/ ]/ )/ ]/ (/ v/ [/ 1/ ]/ =/ v/ [/ l/ ]/ )/ ,/ 定义/ 利用率/ 如下/ :/ l/ =/ 1/ (/ 1/ )/ 回路/ π/ 的/ 利用率/ :/ U/ (/ π/ )/ =/ ∑/ l/ (/ 2/ )/ 任务/ τ/ 的/ 利用率/ :/ U/ (/ τ/ )/ =/ max/ {/ U/ (/ π/ )/ |/ π/ 是/ 图/ D/ (/ τ/ )/ 上/ 满足/ C/ (/ τ/ )/ 中/ 时间/ 约束/ 的/ 回路/ }/ ;/ (/ 3/ )/ 任务/ 系统/ / 的/ 利用率/ :/ U/ (/ / )/ =/ ∑/ τ/ ∈/ T/ 称/ 利用率/ 等于/ U/ (/ τ/ )/ 的/ 回路/ 为/ 密集/ 回路/ ./ 以上/ 定义/ 与/ DRT/ 模型/ 中/ 的/ 利用率/ [/ 12/ ]/ 定义/ 类似/ ./ 基于/ 密集/ 回路/ 的/ 利用率/ 定义/ ,/ 能够/ 成功/ 用于/ 限定/ DRT/ 的/ 可/ 调度/ 性/ 分析/ 上界/ T/ ./ 根据/ 文献/ [/ 12/ ]/ 提供/ 的/ 方法/ ,/ 可以/ 通过/ 搜索/ 简单/ 回路/ 寻找/ 密集/ 回路/ ,/ 进而/ 在/ 伪/ 多项式/ 时间/ 内/ 得到/ 任务/ τ/ 的/ 利用率/ U/ (/ τ/ )/ ./ 但是/ ,/ 在/ TCDRT/ 模型/ 中/ ,/ 密集/ 回路/ 却/ 不再/ 局限于/ 简单/ 回路/ [/ 7/ ]/ ./ 这/ 给/ 计算/ 任务/ 利用率/ U/ (/ τ/ )/ 带来/ 挑战/ ./ 本节/ 从/ 新/ 的/ 角度/ ,/ 给出/ TCDRT/ 模型/ 中/ 密集/ 回路/ 的/ 伪/ 多项式/ 时间/ 求解/ 方法/ ./ 本节/ 方法/ 基于/ 对/ 时间/ 约束/ 在/ 路径/ 中/ 位置/ 的/ 观察/ ./ 如图/ 7/ 所示/ ,/ 对于/ 作用/ 于/ 路径/ π/ 的/ 任意/ 两个/ 时间/ 约束/ (/ vi/ ,/ vj/ ,/ γ/ 1/ )/ 和/ (/ vi/ ,/ vj/ ,/ γ/ 2/ )/ ,/ 两/ 约束/ 之间/ 的/ 位置/ 关系/ 可/ 分为/ 以下/ 两类/ :/ (/ 1/ )/ 约束/ 独立/ ./ 如图/ 7/ (/ a/ )/ 所示/ ,/ 时间/ 约束/ (/ vi/ ,/ vj/ ,/ γ/ 1/ )/ 和/ (/ vi/ ,/ vj/ ,/ γ/ 2/ )/ 在/ π/ 中起/ 作用/ 的/ 路径/ 段/ 分别/ 为/ π/ ij/ 和/ π/ ij/ ./ 由于/ 这/ 两/ 段子/ 路径/ 没有/ 重合/ 部分/ ,/ 故称/ 两/ 约束/ 彼此/ 独立/ ,/ 记/ 为/ (/ vi/ ,/ vj/ ,/ γ/ 1/ )/ ∩/ (/ vi/ ,/ vj/ ,/ γ/ 2/ )/ =/ / ./ (/ 2/ )/ 约束/ 覆盖/ ./ 如图/ 7/ (/ b/ )/ 所示/ ,/ 有/ 时间/ 约束/ 作用/ 的/ 两段/ 路径/ π/ ij/ 和/ π/ ij/ 有/ 重合/ ,/ 则/ 称/ 时间/ 约束/ 部分/ 覆盖/ ,/ 记/ 为/ (/ vi/ ,/ vj/ ,/ γ/ 1/ )/ ∩/ (/ vi/ ,/ vj/ ,/ γ/ 2/ )/ ≠/ / ./ 特殊/ 地/ ,/ 如图/ 7/ (/ c/ )/ 所示/ ,/ 路径/ π/ ij/ 是/ π/ ij/ 的/ 子/ 路径/ ,/ 则/ 称/ 约束/ (/ vi/ ,/ vj/ ,/ γ/ 1/ )/ 被/ (/ vi/ ,/ vj/ ,/ γ/ 2/ )/ 完全/ 覆盖/ ,/ 记/ 为/ (/ vi/ ,/ vj/ ,/ γ/ 1/ )/ / (/ vi/ ,/ vj/ ,/ γ/ 2/ )/ ./ 定理/ 6/ ./ 在/ 密集/ 回路/ 中/ ,/ 一个/ 时间/ 约束/ 以/ 不/ 被/ 其他/ 约束/ 完全/ 覆盖/ 的/ 形式/ 至多/ 出现/ 一次/ ./ 证明/ ./ 假设/ 在/ 密集/ 回路/ π/ 中/ ,/ 时间/ 约束/ (/ vi/ ,/ vj/ ,/ γ/ 1/ )/ 以/ 不/ 被/ 其他/ 约束/ 完全/ 覆盖/ 的/ 形式/ 出现/ 了/ 两次/ ,/ 如图/ 8/ 所示/ ./ 易知/ ,/ π/ 中/ 存在/ 两个/ 子/ 回路/ π/ 1/ =/ (/ vi/ ,/ …/ ,/ vj/ ,/ …/ ,/ vi/ )/ 和/ π/ 2/ =/ (/ vj/ ,/ …/ ,/ vi/ ,/ …/ ,/ vj/ )/ ./ 若/ 删去/ 其中/ 任何/ 一条/ 子/ 回路/ ,/ 则/ π/ 中将/ 会/ 只/ 包含/ 一个/ 不/ 被/ 其他/ 约束/ 完全/ 覆盖/ 的/ 约束/ (/ vi/ ,/ vj/ ,/ γ/ 1/ )/ ./ 不失/ 一般性/ ,/ 选择/ 将/ π/ 1/ 从/ 回路/ π/ 中/ 删去/ ,/ 得到/ π/ -/ π/ 1/ ./ 显然/ ,/ π/ -/ π/ 1/ 仍然/ 是/ 一个/ 回路/ ./ 由于/ π/ 1/ 中/ 的/ 约束/ (/ vi/ ,/ vj/ ,/ γ/ 1/ )/ 不/ 被/ 其他/ 任何/ 约束/ 完全/ 覆盖/ ,/ 可知/ 一定/ 不/ 存在/ 一个/ 约束/ 的/ 作用域/ 完全/ 包括/ π/ 1/ ./ 因此/ ,/ 回路/ π/ 在/ 删去/ π/ 1/ 后/ ,/ 并/ 不/ 影响/ 时间/ 约束/ 的/ 满足/ 性/ ./ 易知/ ,/ π/ 1/ 和/ π/ -/ π/ 1/ 均/ 是/ 满足/ 时间/ 约束/ 的/ 独立/ 子/ 回路/ ./ 由/ 定义/ 6/ 可知/ ,/ 回路/ π/ 的/ Page11/ 利用率/ U/ (/ π/ )/ =/ (/ e/ (/ π/ 1/ )/ +/ e/ (/ π/ -/ π/ 1/ )/ )/ // (/ d/ (/ π/ 1/ )/ +/ d/ (/ π/ -/ π/ 1/ )/ )/ ,/ 而/ 回路/ π/ 1/ 和/ π/ -/ π/ 1/ 的/ 利用率/ 分别/ 为/ U/ (/ π/ 1/ )/ =/ e/ (/ π/ 1/ )/ // d/ (/ π/ 1/ )/ 和/ U/ (/ π/ -/ π/ 1/ )/ =/ e/ (/ π/ -/ π/ 1/ )/ // d/ (/ π/ -/ π/ 1/ )/ ./ 易知/ ,/ U/ (/ π/ 1/ )/ 和/ U/ (/ π/ -/ π/ 1/ )/ 中/ 至少/ 有/ 一个/ 大于/ 等于/ U/ (/ π/ )/ ./ 所以/ ,/ 可以/ 通过/ 删去/ 独立/ 回路/ π/ 1/ 和/ π/ -/ π/ 1/ 来/ 获得/ 比/ 回路/ π/ 更/ 密集/ 的/ 回路/ ,/ 这/ 与/ 假设/ 相/ 矛盾/ ./ 定理/ 得证/ ./ 由/ 定理/ 6/ 可得/ 密集/ 回路/ 的/ 长度/ 上/ 界/ ,/ 如/ 定理/ 7/ 定理/ 7/ ./ 图/ D/ (/ τ/ )/ 中/ 密集/ 回路/ 的/ 长度/ 不/ 超过/ 所述/ ./ dmax/ =/ (/ 2K/ +/ 1/ )/ ∑/ K/ 证明/ ./ 首先/ ,/ 对于/ 密集/ 回路/ π/ 中/ 每个/ 不/ 被/ 其他/ 约束/ 完全/ 覆盖/ 的/ 时间/ 约束/ (/ froml/ ,/ tol/ ,/ γ/ l/ )/ ,/ 受该/ 约束/ 作用/ 的/ 子/ 路径/ 长度/ 至多/ 为/ P/ +/ γ/ l/ ,/ 其中/ ,/ P/ 为/ 图/ D/ (/ τ/ )/ 上/ 满足/ 时间/ 约束/ 的/ 最长/ 简单/ 路径/ 加上/ 最长/ 简单/ 回路/ 的/ 长度/ ./ 否则/ ,/ 约束/ (/ froml/ ,/ tol/ ,/ γ/ l/ )/ 作用/ 的/ 路径/ 段/ 内/ 一定/ 会/ 出现/ 冗余/ 回路/ π/ ,/ 删去/ π/ '/ 后/ 不/ 影响/ 约束/ (/ froml/ ,/ tol/ ,/ γ/ l/ )/ 的/ 满足/ 性/ ./ 可知/ ,/ 子/ 回路/ π/ 和/ π/ -/ π/ 中/ 至少/ 有/ 一个/ 回路/ 的/ 利用率/ 大于/ 等于/ π/ 本身/ ,/ 这/ 与/ π/ 是/ 密集/ 回路/ 相/ 矛盾/ ./ 根据/ 引理/ 6/ ,/ C/ (/ τ/ )/ 中/ 的/ 每个/ 时间/ 约束/ 在/ π/ 中以/ 不/ 被/ 其他/ 约束/ 完全/ 覆盖/ 的/ 形式/ 至多/ 出现/ 一次/ ./ 因此/ ,/ π/ 中受/ 时间/ 约束/ 作用/ 的/ 路径/ 段/ 的/ 总长度/ 一定/ 小于/ 等于/ KP/ +/ ∑/ K2/ ∑/ (/ vi/ ,/ vj/ )/ ∈/ A/ τ/ 长度/ 上界/ 为/ (/ 2K/ +/ 1/ )/ ∑/ K/ 外/ ,/ 易知/ π/ 中不受/ 任何/ 约束/ 作用/ 的/ 子/ 路径/ 也/ 至多/ 有/ K/ 段/ ,/ 其中/ 每/ 段子/ 路径/ 的/ 长度/ 存在/ 一个/ 上界/ 为/ ∑/ (/ vi/ ,/ vj/ )/ ∈/ A/ τ/ p/ (/ vi/ ,/ vj/ )/ ./ 综上/ 可知/ ,/ 图/ D/ (/ τ/ )/ 中/ 密集/ 回路/ 的/ 长度/ 上界/ 为/ (/ 2K/ +/ 1/ )/ ∑/ K/ 定理/ 7/ 蕴含/ 了/ 一个/ 计算/ 任务/ 利用率/ U/ (/ τ/ )/ 的/ 方法/ :/ 为/ 图/ D/ (/ τ/ )/ 中/ 所有/ 长度/ 小于/ 等于/ dmax/ 的/ 回路/ 计算/ 需求/ 和/ 长度/ ,/ 得到/ 回路/ 利用率/ ,/ 并/ 在/ 其中/ 选取/ 最大者/ 作为/ 任务/ 利用率/ U/ (/ τ/ )/ ,/ 如式/ (/ 6/ )/ 所示/ :/ U/ (/ τ/ )/ =/ max/ {/ eD/ (/ τ/ )/ (/ vi/ ,/ vi/ ,/ k/ )/ // k/ |/ vi/ ∈/ V/ τ/ ∧/ k/ / dmin/ }/ (/ 6/ )/ 由式/ (/ 6/ )/ 可知/ ,/ 求解/ U/ (/ τ/ )/ 的/ 核心/ 是/ 计算/ MPD/ 子结构/ eD/ (/ τ/ )/ (/ vi/ ,/ vi/ ,/ k/ )/ ./ 可以/ 应用/ 2.2/ 节/ 提出/ 的/ 方法/ 在/ 伪/ 多项式/ 时间/ 内/ 给出/ 每个/ eD/ (/ τ/ )/ (/ vi/ ,/ vi/ ,/ k/ )/ 的/ 值/ ./ 又/ 因为/ dmax/ 是/ 伪/ 多项式/ 规模/ 的/ ,/ 所以/ 可/ 在/ 伪/ 多项式/ 时间/ 内/ 计算/ 出/ 任务/ 利用率/ U/ (/ τ/ )/ ./ 在/ 计算/ 出/ 每个/ 任务/ τ/ 的/ 利用率/ U/ (/ τ/ )/ 后/ ,/ 整个/ 任务/ 集/ / 的/ 利用率/ U/ (/ / )/ 可/ 根据/ 定义/ 6/ 由/ 所有/ U/ (/ τ/ )/ 线性/ 加/ 和/ 获得/ ./ 显然/ ,/ U/ (/ / )/ >/ 1/ 能够/ 充分说明/ / 不可/ 调度/ ./ 但是/ U/ (/ / )/ / 1/ ,/ 却/ 不能/ 推出/ / 可/ 调度/ ./ 根据/ 定理/ 1/ ,/ 当/ U/ (/ / )/ / 1/ 时/ ,/ 需要/ 确定/ 一个/ 可/ 调度/ 分析/ 上界/ T/ ,/ 只要/ 对于/ 所有/ t/ / T/ ,/ 有/ dbf/ (/ t/ )/ / t/ 成立/ ,/ 即可/ 保证/ / 可/ 调度/ ./ 反言/ 之/ ,/ 若/ 存在/ tf/ / T/ ,/ 使得/ dbf/ (/ tf/ )/ >/ tf/ ,/ 则/ 说明/ / 不可/ 调度/ ./ 对/ 上界/ T/ 的/ 直观/ 解释/ 如图/ 9/ 所示/ ./ 由图/ 中/ 可以/ 看出/ ,/ 上界/ T/ 即为/ tf/ 的/ 上界/ ,/ 可/ 由/ DBF/ 的/ 线性/ 上/ 界/ 曲线/ 与/ 对角线/ 求交/ 获得/ ./ 因此/ ,/ 首先/ 在/ 定理/ 8/ 中/ 给出/ DBF/ 的/ 线性/ 上界/ ./ 定理/ 8/ ./ 对于/ 任意/ TCDRT/ 任务/ τ/ 和/ 时间段/ 长度/ t/ ,/ 有/ dbf/ τ/ (/ t/ )/ / t/ ·/ U/ (/ τ/ )/ +/ ∑/ vi/ ∈/ V/ τ/ 证明/ ./ 任务/ 图/ D/ (/ τ/ )/ 中/ 任意/ 一条/ 路径/ π/ 均/ 可/ 看做/ 是/ 一条/ 简单/ 路/ 和/ 若干/ 回路/ 的/ 组合/ ./ 易知/ ,/ D/ (/ τ/ )/ 中/ 任何/ 简单/ 路/ 的/ 需求/ 均/ 小于/ 等于/ ∑/ vi/ ∈/ V/ τ/ 中/ 任意/ 回路/ 的/ 利用率/ 均/ 小于/ U/ (/ τ/ )/ ./ 所以/ ,/ 若/ d/ (/ π/ )/ / t/ ,/ 则/ π/ 中/ 所有/ 回路/ 的/ 总需求/ 必/ 小于/ 等于/ t/ ·/ U/ (/ τ/ )/ ./ 综上/ 可知/ ,/ 对于/ 任意/ d/ (/ π/ )/ / t/ 的/ 路径/ π/ ,/ 有/ e/ (/ π/ )/ / t/ ·/ U/ (/ τ/ )/ +/ ∑/ vi/ ∈/ V/ τ/ 由/ 定理/ 8/ 可/ 推导/ 出/ tf/ 的/ 上界/ T/ ,/ 如/ 定理/ 9/ 所述/ ./ 定理/ 9/ ./ 对于/ 任意/ U/ (/ / )/ </ 1/ 的/ TCDRT/ 任务/ 集/ / ,/ 可/ 调度/ 分析/ 上界/ T/ =/ ∑/ τ/ ∈/ / ∑/ vi/ ∈/ V/ τ/ 证明/ ./ 若/ / 不可/ 调度/ ,/ 则/ 存在/ tf/ / T/ ,/ 使得/ dbf/ (/ tf/ )/ >/ tf/ ./ 由/ 定理/ 8/ 得/ :/ dbf/ τ/ (/ tf/ )/ / tf/ ·/ U/ (/ τ/ )/ +/ ∑/ vi/ ∈/ V/ τ/ e/ (/ vi/ )/ ./ 注意/ 到/ ,/ / 在/ tf/ 处/ 的/ 需求/ 上/ 界/ 函数/ dbf/ (/ tf/ )/ =/ Page12/ ∑/ τ/ ∈/ Tdbf/ τ/ (/ tf/ )/ ./ 故有/ tf/ / ∑/ τ/ ∈/ T/ ∑/ vi/ ∈/ V/ τ/ 成立/ ./ 根据/ 定理/ 9/ ,/ 只/ 需/ 检查/ 小于/ 等于/ T/ 的/ 时间段/ 长度/ t/ ,/ 即可/ 判定/ 任务/ 集/ 的/ 可/ 调度/ 性/ ./ 注意/ 到/ U/ (/ T/ )/ 严格/ 小于/ 1/ ,/ 故/ T/ 是/ 伪/ 多项式/ 界/ 的/ ./ 据此/ ,/ 可/ 得/ 本文/ 的/ 主要/ 结论/ 如下/ ./ 定理/ 10/ ./ 对于/ 任意/ U/ (/ T/ )/ </ 1/ 的/ TCDRT/ 任务/ 集/ T/ ,/ 若/ T/ 中/ 任务/ 图上/ 每个/ 节点/ 关联/ 的/ 约束/ 个数/ 均/ 为/ 常数/ ,/ 则/ 可/ 调度/ 分析/ 算法/ 是/ 伪/ 多项式/ 时间/ 的/ ,/ 且/ 计算/ 复杂度/ 是/ 约束/ 宽度/ 的/ 线性/ 函数/ ./ 证明/ ./ 根据/ 定理/ 4/ 可知/ ,/ 在/ 任务/ 图中/ 每个/ 节点/ 关联/ 的/ 约束/ 个数/ 为/ 常数/ 时/ ,/ 任务/ 集/ T/ 上/ DBF/ 计算/ 问题/ 是/ 伪/ 多项式/ 时间/ 的/ ./ 又/ 因为/ ,/ 在/ 可/ 调度/ 性/ 分析/ 算法/ 中/ ,/ 计算/ DBF/ 的/ 次数/ 被/ 限定/ 在/ T/ 内/ ./ 根据/ 定理/ 9/ ,/ 可/ 调度/ 性/ 分析/ 上界/ T/ 是/ 伪/ 多项式/ 规模/ ,/ 为/ 约束/ 宽度/ 的/ 线性/ 函数/ ./ 综上/ 可知/ ,/ 可/ 调度/ 性/ 分析/ 算法/ 是/ 伪/ 多项式/ 时间/ 的/ ./ 另外/ ,/ 定理/ 9/ 结合/ 定理/ 5/ 容易/ 得出/ 如下/ 推论/ ./ 定理/ 11/ ./ 对于/ 任意/ U/ (/ T/ )/ </ 1/ 的/ TCDRT/ 任务/ 集/ T/ ,/ 若/ 时间/ 约束/ 集合/ C/ (/ τ/ )/ 中/ 任意/ 两/ 约束/ 的/ 右/ 节点均/ 不/ 相同/ ,/ 则/ 可/ 调度/ 分析/ 算法/ 是/ 伪/ 多项式/ 时间/ 的/ ,/ 且/ 计算/ 复杂度/ 是/ 约束/ 宽度/ 的/ 线性/ 函数/ ./ 证明/ ./ 根据/ 定理/ 5/ 可知/ ,/ C/ (/ τ/ )/ 中/ 任意/ 两/ 约束/ 的/ 右/ 节点均/ 不/ 相同/ 时/ ,/ 任务/ 集/ T/ 上/ DBF/ 计算/ 问题/ 是/ 伪/ 多项式/ 时间/ 的/ ./ 又/ 因为/ ,/ 在/ 可/ 调度/ 性/ 分析/ 算法/ 中/ ,/ 计算/ DBF/ 的/ 次数/ 被/ 限定/ 在/ T/ 内/ ./ 根据/ 定理/ 9/ ,/ 可/ 调度/ 性/ 分析/ 上界/ T/ 是/ 伪/ 多项式/ 规模/ ,/ 为/ 约束/ 宽度/ 的/ 线性/ 函数/ ./ 综上/ 可知/ ,/ 可/ 调度/ 性/ 分析/ 算法/ 是/ 伪/ 多项式/ 时间/ 的/ ./ 证毕/ ./ 定理/ 10/ 和/ 定理/ 11/ 各/ 给出/ 了/ 一类/ 易解/ 的/ TCDRT/ 模型/ ./ 注意/ 到/ ,/ 之前/ 研究/ 给出/ 的/ 结论/ 是/ :/ 任务/ 图中/ 时间/ 约束/ 总数/ 为/ 常数/ 的/ TCDRT/ 模型/ 是/ 易解/ 的/ [/ 7/ ]/ ./ 而/ 定理/ 10/ 中将/ 这个/ 限制/ 条件/ 进行/ 了/ 松弛/ ,/ 仅/ 需/ 任务/ 图中/ 每个/ 节点/ 关联/ 的/ 约束/ 个数/ 为/ 常数/ 即可/ 保证/ TCDRT/ 的/ 易/ 解性/ ./ 另外/ ,/ 定理/ 11/ 中/ 的/ 限定/ 条件/ 则/ 直接/ 与/ 约束/ 个数/ 无关/ ,/ 而是/ 只/ 与/ 时间/ 约束/ 设定/ 的/ 位置/ 有关/ ./ 5/ 总结/ 本文/ 研究/ 了/ 带/ 时间/ 约束/ 的/ 实时/ 任务/ 图/ (/ TCDRT/ )/ 模型/ ,/ 为/ TCDRT/ 模型/ 提出/ 了/ 新/ 的/ 可/ 调度/ 性/ 分析/ 算法/ ./ 与/ 之前/ 的/ 研究/ 相比/ ,/ 本文/ 方法/ 去/ 除了/ 一类/ 问题/ 参数/ —/ —/ —/ 约束/ 宽度/ 对/ 算法/ 性能/ 的/ 影响/ ,/ 将/ 算法/ 复杂度/ 由/ 约束/ 宽度/ 的/ 指数函数/ 降低/ 为/ 线性/ 函数/ ./ 另外/ ,/ 之前/ 的/ 研究/ 指出/ ,/ 任务/ 图中/ 约束/ 个数/ 为/ 常数/ 的/ TCDRT/ 是/ 易解/ 模型/ ./ 在/ 本文/ 中/ ,/ 该/ 结论/ 被/ 扩展/ 到/ 更/ 一般/ 的/ TCDRT/ 模型/ :/ 仅/ 需/ 任务/ 图中/ 每个/ 节点/ 关联/ 的/ 约束/ 个数/ 为/ 常数/ ,/ 即可/ 保证/ TCDRT/ 模型/ 满足/ 易/ 解性/ ./ 更进一步/ 地/ ,/ 本文/ 还/ 提出/ 了/ 一类/ 新/ 的/ TCDRT/ 易解/ 模型/ ./ 在/ 新/ 模型/ 中/ ,/ 时间/ 约束/ 个数/ 不再/ 受到/ 局限/ ,/ 易/ 解性/ 只/ 受到/ 约束/ 在/ 图/ 中/ 位置/ 的/ 影响/ ./ 该类/ 模型/ 可/ 视为/ 继/ 文献/ [/ 7/ ]/ 发现/ K/ -/ TCDRT/ 之后/ ,/ 发现/ 的/ 第二类/ TCDRT/ 易解/ 模型/ ./ 

