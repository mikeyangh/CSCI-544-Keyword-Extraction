Page1/ 一种/ 流体/ 运动/ 矢量/ 计算/ 的/ 有效/ 方法/ 全/ 红艳/ 王/ 长波/ (/ 华东师范大学/ 软件/ 学院/ 上海/ 200062/ )/ 摘要/ 提出/ 了/ 一种/ 有效/ 的/ 流体/ 运动/ 矢量/ 计算方法/ ./ 该/ 方法/ 利用/ 视频流/ 的/ 两/ 帧/ 图像/ 进行/ 流体/ 运动/ 矢量/ 的/ 计算/ ,/ 目的/ 是/ 获得/ 流体/ 连续性/ 运动/ 的/ 二维/ 矢量/ ./ 采用/ 图像/ 分析/ 和/ 连续性/ 方程/ 约束/ 的/ 策略/ 进行/ 研究/ ,/ 所/ 求得/ 的/ 运动/ 矢量/ 能够/ 反映/ 流体/ 运动/ 的/ 特点/ ./ 该/ 方法/ 包括/ 运动/ 矢量/ 的/ 初始化/ 、/ 去/ 噪/ 、/ 平滑/ 和/ 优化/ 这/ 4/ 个/ 步骤/ :/ 首先/ ,/ 统计/ 每个/ 像素/ 所在区域/ 的/ 直方图/ ,/ 利用/ 区域/ 直方图/ 主要/ 成分/ 匹配/ 方法/ 完成/ 对/ 运动/ 矢量/ 的/ 初始化/ ;/ 然后/ ,/ 对/ 初始化/ 结果/ 利用/ 多/ 分辨率/ 采样/ 方法/ 进行/ 去/ 噪/ 处理/ ;/ 再用/ 统计分析/ 方法/ 对/ 局部/ 模块/ 的/ 运动/ 矢量/ 进行/ 平滑/ 处理/ ;/ 最后/ ,/ 用/ 流体/ 运动/ 的/ 连续性/ 方程/ 进行/ 约束/ ,/ 对/ 运动/ 矢量/ 进一步/ 优化/ ,/ 得到/ 具有/ 保持/ 外观/ 一致性/ 和/ 运动/ 连续性/ 的/ 流体/ 运动/ 矢量/ ./ 实验/ 结果/ 证明/ 了/ 该/ 方法/ 的/ 有效性/ ,/ 对于/ 具有/ 多种/ 运动/ 的/ 流体/ 场景/ 运动/ 矢量/ 的/ 计算/ 也/ 是/ 实用/ 的/ ./ 关键词/ 流体/ ;/ 运动/ 矢量/ ;/ 直方图/ ;/ 运动/ 连续性/ 1/ 引言/ 流体/ 自然景观/ 在/ 自然界/ 中/ 随处可见/ ,/ 它/ 的/ 建模/ 与/ 绘制/ 被/ 广泛应用/ 于/ 火灾/ 、/ 泥石流/ 、/ 洪峰/ 等/ 自然灾害/ 目前/ ,/ 在/ 流体/ 的/ 物理/ 仿真/ 中/ 还/ 没有/ 完全/ 将/ 动态/ Page2/ 纹理/ 区域/ 的/ 识别/ 与/ 基于/ 物理/ 属性/ 的/ 仿真/ 结合/ 起来/ ,/ 虽然/ 出现/ 了/ 一些/ 与/ 视频/ 媒体/ 真实感/ 一致/ 的/ 流体/ 建模/ 和/ 仿真技术/ [/ 1/ -/ 4/ ]/ ,/ 但是/ 自然景观/ 流体/ 与/ 其它/ 物体/ 交互/ 的/ 技术/ 还/ 没/ 得到/ 广泛应用/ ./ 因此/ ,/ 如何/ 从/ 动态/ 纹理/ 计算/ 出/ 流体/ 的/ 运动/ 矢量/ 是/ 研究/ 重建/ 与/ 交互/ 的/ 关键所在/ ,/ 它/ 的/ 研究/ 具有/ 重要/ 的/ 现实意义/ 和/ 实用价值/ ./ 流体/ 运动/ 是/ 一种/ 典型/ 的/ 非/ 刚体/ 运动/ ,/ 流体/ 运动/ 图像/ 的/ 计算/ 与/ 分析/ 是/ 一项/ 重要/ 的/ 图像处理/ 技术/ ./ 在/ 运动/ 分析/ 中/ ,/ 纹理/ 分为/ 弱/ 纹理/ 和/ 强/ 纹理/ [/ 5/ ]/ ./ 弱/ 纹理/ 具有/ 自/ 相似性/ ,/ 其/ 图像/ 变化/ 具有/ 亮度/ 不变性/ ;/ 而/ 图像/ 中/ 的/ 流体/ 部分/ 属于/ 强/ 纹理/ ,/ 其/ 特点/ 是/ 亮度/ 保持/ 性/ ,/ 即/ 其/ 内部/ 的/ 运动/ 产生/ 了/ 形变/ 和/ 遮挡/ ,/ 但是/ 图像/ 中/ 强度/ 的/ 成分/ 是/ 不变/ 的/ ./ 由于/ 流体/ 具有/ 透明性/ ,/ 因此/ 可以/ 通过/ 计算/ 粒子/ 的/ 运动/ 矢量/ 来/ 间接/ 获得/ 流体/ 本身/ 的/ 运动/ 特征/ ./ 对于/ 流体/ 的/ 运动/ 矢量/ 的/ 计算/ 通常/ 采用/ 粒子/ 图像/ 测速/ PIV/ (/ ParticleImageVelocimetry/ )/ 方法/ 实现/ [/ 6/ -/ 9/ ]/ ,/ 即/ 通过/ 跟踪/ 每/ 一个/ 可见/ 粒子/ 来/ 实现/ 运动/ 矢量/ 的/ 获取/ ./ 虽然/ 利用/ PIV/ 计算/ 可以/ 克服/ 传统/ 方法/ 中/ 的/ 不足/ ./ 但/ 研究/ 中/ 存在/ 的/ 主要/ 问题/ 是/ 由于/ 流体/ 粒子/ 的/ 运动/ 引起/ 的/ 遮挡/ 及/ 再现/ ,/ 它会/ 影响/ 运动/ 矢量/ 计算结果/ 的/ 准确性/ ./ 在/ 传统/ 的/ 变分/ 的/ 研究/ 方法/ 及/ PIV/ 方法/ 中/ [/ 9/ -/ 10/ ]/ ,/ 假设/ 运动/ 矢量/ 在/ 局部/ 空间/ 上/ 是/ 光滑/ 的/ ,/ 这样/ 会/ 带来/ 运动/ 边界/ 及/ 遮蔽/ 问题/ ./ 人们/ 在/ 研究/ 中/ 提出/ 了/ 一种/ 基于/ 时空/ 多/ 分辨率/ 的/ 流体/ 速度/ 及/ 加速度/ 场/ 的/ 计算方法/ [/ 11/ ]/ ,/ 该/ 方法/ 利用/ 时空/ 多/ 分辨率/ 直方图/ 对/ 流体/ 速度/ 及/ 加速度/ 的/ 方向/ 进行/ 统计分析/ ,/ 最后/ 得到/ 流体/ 的/ 速度/ 及/ 加速度/ 场/ ,/ 但是/ 如果/ 将/ 该/ 方法/ 应用/ 于/ 具有/ 运动/ 刚体/ 的/ 场景/ 或者/ 多种/ 运动/ 的/ 流体/ 场景/ 中/ ,/ 特别/ 是/ 在/ 视频/ 的/ 两/ 帧/ 间/ 摄像机/ 的/ 旋转/ 及/ 平移/ 矢量/ 非常/ 小/ 的/ 情况/ 下/ ,/ 势必会/ 影响/ 计算结果/ 的/ 准确性/ ./ 对于/ 具有/ 多种/ 运动/ 的/ 流体/ 场景/ 的/ 直方图/ 统计分析/ 中/ ,/ 很难/ 将/ 分析/ 得到/ 的/ 速度/ 及/ 加速度/ 与/ 流体/ 的/ 多种/ 运动/ 对应/ 起来/ ,/ 如图/ 1/ 所示/ 视频/ 的/ 图像/ ,/ 利用/ 该/ 方法/ 进行/ 统计分析/ 时/ ,/ 就/ 存在/ 这个/ 问题/ ./ SunDeqing/ 等/ 人/ [/ 12/ ]/ 在/ 研究/ 中/ ,/ 分析/ 了/ 现有/ 流体/ 运动/ 矢量/ 计算/ 的/ 模型/ 和/ 方法/ ,/ 在/ 目标/ 函数/ 中/ 加入/ 非/ 局部/ 项/ ,/ 给出/ 了/ 一种/ 启发式/ 的/ 方法/ ,/ 推导/ 出新/ 的/ 目标/ 函数/ ,/ 并/ 采用/ 邻域/ 的/ 中值/ 滤波/ 策略/ 对/ 运动/ 矢量/ 进行/ 计算/ ,/ 得到/ 了/ 稀疏/ 粒子/ 运动/ 矢量/ 较为/ 准确/ 的/ 结果/ ;/ 对于/ 流体/ 中/ 大量/ 粒子/ 的/ 情形/ ,/ 利用/ 该/ 方法/ 进行/ 研究/ ,/ 所得/ 结果/ 的/ 精度/ 会/ 受到/ 影响/ ;/ Nilanjan/ [/ 13/ ]/ 在/ 最近/ 的/ 研究/ 中/ ,/ 利用/ 光度/ 和/ 几何/ 属性/ 进行/ 块/ 匹配/ ,/ 对/ 流体/ 的/ 运动/ 矢量/ 进行/ 估计/ ,/ 采用/ 改进/ 的/ H/ -/ S/ 方法/ 进行/ 研究/ ,/ 并/ 利用/ AM/ (/ AlternatingMinimization/ )/ 方法/ 优化/ ,/ 求得/ 局部/ 极小值/ ;/ 研究/ 中/ 使用/ 优化/ 技术/ 及/ 多/ 分辨率/ 技术/ 对/ 流体/ 运动/ 矢量/ 进行/ 计算/ ,/ 该/ 方法/ 对于/ 较为/ 稀疏/ 的/ 流体/ 粒子/ ,/ 能够/ 取得/ 满意/ 的/ 实验/ 结果/ ,/ 但是/ 对于/ 大量/ 的/ 具有/ 复杂/ 运动/ 的/ 粒子/ ,/ 计算/ 的/ 精度/ 会/ 受到/ 影响/ ./ 光流法/ 是/ 运动/ 图像/ 分析/ 的/ 主要/ 方法/ ,/ 由于/ Horn/ -/ Schunck/ 光流法/ 是/ 基于/ 灰度/ 一致性/ 的/ 假设/ 对/ 稠密/ 光/ 流场/ 进行/ 研究/ 的/ 机制/ [/ 14/ ]/ ,/ 由于/ 流体/ 运动/ 时/ 形成/ 图像/ 的/ 强/ 纹理/ 区域/ ,/ 采用/ 这种/ 传统/ 的/ 计算方法/ 势必会/ 导致/ 光/ 流场/ 计算结果/ 不/ 准确/ ./ 为了/ 克服/ 这些/ 研究/ 中/ 存在/ 的/ 问题/ ,/ 本文/ 提出/ 了/ 一种/ 流体/ 运动/ 矢量/ 计算方法/ ./ 该/ 方法/ 分为/ 初始化/ 、/ 去/ 噪/ 、/ 平滑/ 以及/ 运动/ 矢量/ 的/ 优化/ 4/ 个/ 步骤/ 如下/ 所示/ ./ 算法/ 1/ ./ 流体/ 运动/ 矢量/ 计算方法/ ./ 1/ ./ 运动/ 矢量/ 的/ 初始化/ ./ 分别/ 计算/ 两帧/ 图像/ 中/ 每个/ 像素/ 所在区域/ 的/ 灰度/ 直方图/ ,/ 利用/ 直方图/ 的/ 主要/ 成分/ 匹配/ 方法/ 得到/ 初始/ 的/ 运动/ 矢量/ ./ 2/ ./ 去/ 噪/ 处理/ ./ 采用/ 多/ 分辨率/ 法对/ 初始/ 的/ 结果/ 进行/ 去/ 噪/ 处理/ ,/ 该/ 步骤/ 为/ 可选/ ./ 3/ ./ 平滑/ 处理/ ./ 采用/ 统计分析/ 方法/ 在/ 局部/ 进行/ 平滑/ 处理/ ./ 4/ ./ 优化/ 处理/ ./ 用/ 流体/ 运动/ 的/ 连续性/ 方程/ 进行/ 约束/ ,/ 对/ 运动/ 矢量/ 进一步/ 优化/ ,/ 得到/ 具有/ 保持/ 外观/ 一致性/ 和/ 运动/ 连续性/ 的/ 流体/ 运动/ 矢量/ ./ 2/ 流体/ 运动/ 矢量/ 的/ 初始化/ 由于/ 流体/ 粒子/ 在/ 运动/ 过程/ 中/ 具有/ 遮挡/ 以及/ 再现/ 的/ 特点/ ,/ 因此/ ,/ 每个/ 流体/ 粒子/ 在/ 运动/ 过程/ 中/ 难以/ 保持/ 亮度/ 的/ 一致性/ ,/ 但是/ 粒子/ 所在/ 的/ 邻域/ 在/ 运动/ 前后/ 具有/ 保持/ 强度/ 成分/ 不变/ 的/ 特性/ ./ 根据/ 这一/ 特性/ ,/ 对于/ 流体/ 的/ 运动/ 矢量/ 进行/ 初步/ 计算/ ,/ 主要/ 分为/ 两个/ 步骤/ :/ (/ 1/ )/ 对/ 两幅/ 图像/ 分别/ 进行/ 区域/ 直方图/ 的/ 统计/ ;/ (/ 2/ )/ 利用/ 对应/ 区域/ 主要/ 成分/ 匹配/ 的/ 方法/ ,/ 完成/ 对/ 运动/ 矢量/ 的/ 初始化/ ./ 2.1/ 区域/ 直方图/ 统计/ 统计/ 直方图/ 被/ 广泛应用/ 于/ 图像处理/ 及/ 分析/ [/ 15/ -/ 16/ ]/ 、/ 目标/ 识别/ 及/ 视频/ 检索/ 等/ 领域/ 中/ ./ 研究/ 中/ ,/ 为了/ 求得/ 运动/ 矢量/ ,/ 首先/ 对于/ 两幅/ 图像/ 分别/ 统计/ 其/ 直方图/ ./ 由于/ 在/ 视频/ 的/ 前后/ 两帧/ 中/ ,/ 摄像机/ 的/ 旋转/ 及/ 平移/ 的/ 矢量/ 较/ 小/ ,/ 因此/ 采用/ 局部/ 区域/ 统计/ 方法/ 进行/ 研究/ ,/ 如图/ 2/ 所示/ ./ Page3/ 利用/ 式/ (/ 1/ )/ 将/ 图像/ 的/ 像素/ 分为/ 不同/ 的/ 级别/ :/ 其中/ ,/ 表示/ 取整/ ,/ density/ 为/ 图像/ 中/ 像素/ 的/ 灰度/ 值/ ,/ 其/ 表示/ 0/ ~/ 255/ 之间/ 的/ 一个整/ 数值/ ./ 为了/ 阐述/ 方便/ 起/ 见/ ,/ 称/ 直方图/ 中/ 像素/ 较大/ 数目/ 的/ 级别/ 为/ 统计/ 直方图/ 的/ 主要/ 成分/ ./ 2.2/ 运动/ 矢量/ 的/ 初始化/ 由于/ 流体/ 区域/ 表现/ 为强/ 纹理/ ,/ 其/ 运动/ 特征/ 是/ :/ 并/ 不是/ 每个/ 像素/ 都/ 存在/ 着/ 一个/ 对应/ 像素/ ,/ 但是/ 每个/ 像素/ 邻域/ 具有/ 强度/ 保持/ 的/ 特性/ ,/ 即/ 对应/ 邻域/ 在/ 运动/ 前后/ 强度/ 的/ 成分/ 保持/ 不变/ ,/ 在/ 研究/ 中/ 充分利用/ 了/ 这/ 一/ 特性/ ./ 为了/ 求取/ 邻域/ 强度/ 的/ 主要/ 成分/ ,/ 对/ 直方图/ 的/ 统计/ 结果/ 进行/ 排序/ ,/ 同时/ 将/ 对应/ 直方图/ 统计/ 的/ 成分/ 进行/ 排序/ ,/ 利用/ 区域/ 的/ 直方图/ 主要/ 成分/ 进行/ 匹配/ ./ 在/ 运动/ 矢量/ 初始化/ 时/ ,/ 假定/ 在/ 一个/ 小/ 区域/ 范围/ 内/ 所有/ 粒子/ 具有/ 相近/ 的/ 运动/ 趋势/ ,/ 并/ 寻找/ 一个/ 运动/ 矢量/ ,/ 使/ 某/ 区域/ 内/ 所有/ 粒子/ 运动/ 前后/ 所/ 对应/ 的/ 区域/ 具有/ 相似/ 的/ 成分/ ./ 假设/ 运动/ 前后/ 的/ 两幅/ 图像/ 为/ Ik/ (/ k/ =/ 1/ ,/ 2/ )/ ,/ 中心/ 像素/ P/ (/ i/ ,/ j/ )/ 邻域/ 的/ 直方图/ 排序/ 结果/ 为/ Hkij/ ,/ 对应/ 成分/ 排序/ 为/ Hxkij/ ./ 考虑/ 到/ 视频/ 中/ 相继/ 两帧/ 的/ 摄像机/ 位置/ 变化/ 较/ 小/ ,/ 流体/ 的/ 运动/ 矢量/ 很小/ ,/ 因此/ 在/ 5/ ×/ 5/ 区域/ 范围/ 内/ 找到/ 一个/ 矢量/ 狏/ ij/ ,/ 使得/ 在/ 运动/ 前后/ ,/ 对应/ 邻域/ 内/ 所有/ 像素/ 的/ 直方图/ 主要/ 成分/ 的/ 欧氏/ 距离/ 最小/ ./ 当然/ ,/ 如果/ 流体/ 的/ 运动/ 速度/ 较/ 快/ ,/ 可以/ 根据/ 需要/ 适当/ 扩大/ 运动/ 矢量/ 的/ 搜索/ 范围/ ./ 运动/ 矢量/ 初始化/ 算法/ 描述/ 如下/ ./ 算法/ 2/ ./ 流体/ 运动/ 矢量/ 初始化/ 算法/ ./ 输入/ :/ 流体/ 运动/ 视频/ 的/ 相邻/ 两帧/ 输出/ :/ 流体/ 运动/ 矢量/ 初始化/ 结果/ 1/ ./ 分别/ 统计/ 两幅/ 图像/ Ik/ (/ k/ =/ 1/ ,/ 2/ )/ 中/ 每个/ 像素/ P/ (/ i/ ,/ j/ )/ 的/ 5/ ×/ 5/ 邻域/ 直方图/ ./ 2/ ./ 将/ P/ (/ i/ ,/ j/ )/ 的/ 直方图/ 统计/ 结果/ 从大到/ 小/ 排序/ Hkij/ ,/ 对/ 其/ 成分/ 也/ 排序/ ,/ 结果/ 为/ Hxkij/ ./ 3/ ./ 在/ 邻域/ 5/ ×/ 5/ 内/ 搜索/ 一个/ 矢量/ 狏/ ij/ ,/ 使得/ 对应/ 邻域/ 内/ 所有/ 像素/ 的/ 直方图/ 主/ 成分/ 的/ 欧氏/ 距离/ dij/ 最小/ ,/ 其中/ dij/ =/ ∑/ 2/ 其中/ Hxkijh/ 表示/ 第/ k/ 幅/ 图像/ 中/ 像素/ P/ (/ i/ ,/ j/ )/ 邻域/ 直方图/ 中/ 第/ h/ 个/ 分量/ ./ 结束/ ./ 4/ ./ 得到/ 当前/ 像素/ P/ (/ i/ ,/ j/ )/ 的/ 运动/ 矢量/ 初始化/ 结果/ ,/ 算法/ 流体/ 运动/ 矢量/ 初始化/ 时/ ,/ 用/ 邻域/ 直方图/ 排序/ 后/ 的/ 5/ 个/ 主要/ 成分/ 进行/ 实验/ 研究/ ,/ 即/ 算法/ 中/ w/ 取/ 5/ ,/ 可以/ 得到/ 较/ 满意/ 的/ 初始化/ 结果/ ./ 3/ 利用/ 多/ 分辨率/ 法/ 去除/ 噪声/ 在/ 运动/ 矢量/ 初始化/ 时/ ,/ 由于/ 是/ 在/ 光照/ 及/ 基于/ 区域/ 强度/ 的/ 主/ 成分/ 不变/ 的/ 前提/ 下/ 进行/ 的/ ,/ 这样/ 势必会/ 产生/ 误差/ ./ 当/ 场景/ 中/ 存在/ 大片/ 静止/ 的/ 背景/ 区时/ ,/ 研究/ 中/ 需要/ 进行/ 去/ 噪/ 处理/ ./ 如图/ 3/ 所示/ ,/ 利用/ 视频/ “/ 6ame200/ ”/ 的/ 第/ 0/ 帧/ 进行/ 研究/ 时/ ①/ ,/ 第一个/ 结果/ 是/ 未/ 进行/ 去/ 噪/ 处理/ 时/ ,/ 每隔/ 5/ 个/ 像素/ 的/ 运动/ 矢量/ 初始化/ 结果/ ./ 由于/ 摄像机/ 及/ 背景/ 是/ 不/ 运动/ 的/ ,/ 从图/ 中/ 结果/ 可以/ 看出/ ,/ 初始化/ 结果/ 中/ 存在/ 一定/ 噪声/ ./ 由此可见/ ,/ 对于/ 流体/ 区域/ 中/ 粒子/ 运动/ 矢量/ 的/ 初步/ 计算结果/ ,/ 存在/ 着/ 不/ 准确/ 的/ 现象/ ,/ 初步/ 的/ 计算结果/ 是/ 基于/ 区域/ 强度/ 的/ 保持/ 特性/ 的/ ,/ 并/ 没有/ 体现/ 出/ 流体/ 运动/ 的/ 连续性/ ,/ 需要/ 对/ 其/ 进行/ 优化/ ./ 研究/ 中/ 提出/ 了/ 一种/ 简单/ 的/ 多/ 分辨率/ 采样/ 的/ 去除/ 噪声/ 的/ 算法/ ,/ 对/ 初始化/ 的/ 结果/ 利用/ 多/ 分辨率/ 采样/ 方法/ ,/ 在/ 不同/ 的/ 分辨率/ 的/ 空间/ 中/ ,/ 利用/ 阈值/ 法对/ 统计/ 结果/ 进行/ 处理/ ./ 其/ 算法/ 可以/ 描述/ 如下/ ./ 算法/ 3/ ./ 多/ 分辨率/ 去/ 噪/ 算法/ ./ 输入/ :/ 初始化/ 的/ 流体/ 运动/ 矢量/ 输出/ :/ 运动/ 矢量/ 的/ 去/ 噪/ 结果/ 1/ ./ 算法/ 初始化/ ./ 置/ m/ =/ 1/ ,/ 设定/ 采样/ 窗口/ 为/ s/ ×/ s/ ./ 2/ ./ 对于/ 运动/ 矢量/ 进行/ 第/ m/ 次/ 采样/ ./ 3/ ./ 统计/ sc/ ×/ sc/ 区域/ 中/ 运动/ 矢量/ 的/ 数目/ ,/ 并/ 记为/ n/ ,/ 采用/ 阈值/ 方法/ 进行/ 判断/ ,/ 如果/ 满足/ 则/ 认为/ 该/ 像素/ 的/ 运动/ 矢量/ 初始化/ 结果/ 计算/ 是/ 无效/ 的/ ,/ 作为/ 噪声/ 去除/ 结果/ ,/ 并/ 得到/ 该/ 区域/ 去/ 噪/ 结果/ ,/ ts/ 表示/ 运动/ 矢量/ 数目/ 的/ 阈值/ ./ ①/ PeteriR/ ,/ HuskiesM/ ,/ FazekasS/ ./ DynTex/ :/ Acomprehen/ -/ Page44/ ./ 判断/ 是否/ 得到/ 了/ 满意/ 的/ 结果/ ?/ 如果/ 是/ ,/ 则/ 转步/ 6/ ,/ 否则/ ,/ 进行/ 下/ 一步/ ./ 5/ ./ m/ =/ m/ +/ 1/ ,/ 重新/ 设置/ 采样/ 窗口/ s/ ×/ s/ 的/ 大小/ ,/ 并/ 转步/ 2.6/ ./ 算法/ 结束/ ,/ 得到/ 去/ 噪/ 的/ 运动/ 矢量/ 的/ 结果/ ./ 在/ 图/ 3/ 的/ 实验/ 研究/ 中/ ,/ 利用/ 了/ 两次/ 多/ 分辨率/ 采样/ 的/ 处理/ ,/ 采样/ 的/ 间隔/ s/ ×/ s/ 分别/ 为/ 5/ ×/ 5/ 及/ 2/ ×/ 2/ ,/ 统计/ 的/ 窗口/ sc/ ×/ sc/ 为/ 10/ ×/ 10/ 及/ 15/ ×/ 15/ ,/ 两次/ 采用/ 的/ 阈值/ 分别/ 为/ 100/ 及/ 550/ ,/ 从图/ 3/ 的/ 结果/ 可以/ 看出/ ,/ 去/ 噪/ 效果/ 比较/ 理想/ ./ 在/ 运动/ 矢量/ 的/ 求取/ 中/ ,/ 利用/ 多/ 分辨率/ 法/ 去除/ 噪声/ 是/ 可选/ 的/ 步骤/ ,/ 只有/ 在/ 场景/ 中/ 存在/ 大片/ 静止/ 的/ 背景/ 区/ ,/ 研究/ 中/ 需要/ 进行/ 去/ 噪/ 处理/ 时/ ,/ 才/ 执行/ 该/ 步骤/ ./ 实际上/ ,/ 在/ 视点/ 不变/ 情况/ 下/ ,/ 对于/ 背景/ 区/ 的/ 噪声/ ,/ 也/ 可以/ 用/ 帧/ 间/ 差分法/ 进行/ 处理/ ,/ 即/ 通过/ 对/ 视频/ 图像/ 序列/ 中/ 相邻/ 两帧/ 作/ 差分/ 运算/ 来/ 去除/ 大片/ 静止/ 的/ 背景/ 区/ 运动/ 矢量/ 的/ 噪声/ ,/ 虽然/ 帧/ 间/ 差分法/ 在/ 研究/ 中/ 可以/ 取得/ 较/ 满意/ 的/ 结果/ ,/ 但/ 对于/ 可变/ 光照/ 的/ 场景/ 来说/ ,/ 多/ 分辨率/ 法/ 去除/ 噪声/ 就/ 更/ 有效/ 了/ ./ 4/ 运动/ 矢量/ 的/ 平滑/ 对于/ 初始化/ 的/ 流体/ 运动/ 矢量/ ,/ 由于/ 误差/ 等/ 原因/ ,/ 很难/ 保证/ 结果/ 是/ 准确/ 的/ ./ 为了/ 提高/ 其/ 准确性/ ,/ 采用/ 平滑/ 处理/ ./ 平滑/ 的/ 概念/ 是/ 人们/ 在/ 数字图像处理/ 中/ 提出/ 的/ ,/ 我们/ 将/ 这种/ 思想/ 应用/ 于/ 运动/ 矢量/ 的/ 处理/ 之中/ ./ 虽然/ 流体/ 的/ 运动/ 具有/ 特殊性/ ,/ 在/ 运动/ 过程/ 中/ 会/ 出现/ 流体/ 粒子/ 的/ 遮挡/ 和/ 再现/ ,/ 但是/ 对于/ 运动/ 场景/ 的/ 局部/ 小/ 区域/ 来说/ ,/ 可以/ 认为/ 其中/ 的/ 粒子/ 在/ 相邻/ 两帧/ 的/ 运动/ 中/ ,/ 运动/ 矢量/ 的/ 方向/ 是/ 相同/ 的/ 、/ 运动/ 矢量/ 的/ 大小/ 是/ 接近/ 的/ ./ 根据/ 这一/ 思想/ ,/ 在/ 研究/ 中/ 对/ 运动/ 矢量/ 采用/ 局部/ 平滑/ 的/ 策略/ ./ 研究/ 中/ ,/ 将/ 邻域/ 5/ ×/ 5/ 区域/ 中/ 的/ 运动/ 矢量/ 按照/ 象限/ 进行/ 统计/ ,/ 并/ 利用/ 统计/ 数目/ 最大/ 的/ 象限/ 中/ 运动/ 矢量/ 的/ 平均值/ ,/ 作为/ 该/ 区域/ 的/ 中心/ 像素/ 的/ 运动/ 矢量/ ./ 运动/ 矢量/ 平滑/ 算法/ 可以/ 描述/ 如下/ ./ 算法/ 4/ ./ 运动/ 矢量/ 平滑/ 算法/ ./ 输入/ :/ 流体/ 运动/ 矢量/ 的/ 初始化/ 结果/ 输出/ :/ 运动/ 矢量/ 的/ 平滑/ 结果/ 1/ ./ 算法/ 初始化/ ./ 对于/ 每个/ 象限/ 的/ 累加器/ Ak/ (/ k/ =/ 1/ ,/ …/ ,/ 4/ )/ 分别/ 置/ 0.2/ ./ 对/ 每个/ 像素/ 邻域/ 内/ 的/ 运动/ 矢量/ ,/ 按照/ 方向/ 进行/ 累加/ ,/ 记/ 为/ 狏/ k/ (/ k/ =/ 1/ ,/ …/ ,/ 4/ )/ ,/ 并/ 使/ 累加器/ Ak/ 增值/ ./ 3/ ./ 选择/ 计数/ 最大/ 的/ 累加器/ Am/ (/ 1/ / k/ / 4/ )/ ,/ 并/ 判断/ Am/ 的/ 大小/ ,/ 如果/ 满足/ 式/ (/ 4/ )/ ,/ 当前/ 的/ 像素/ 粒子/ 的/ 运动/ 矢量/ 置/ 为/ 零/ 矢量/ ;/ 否则/ ,/ 其/ 运动/ 矢量/ 狏/ 1/ 用式/ (/ 5/ )/ 计算/ ./ 其中/ tsmooth/ 为/ 累加/ 个数/ 的/ 阈值/ ./ 4/ ./ 判断/ 是否/ 所有/ 像素/ 都/ 处理完毕/ 了/ ,/ 如果/ 是/ ,/ 转步/ 5/ ;/ 如果/ 否/ ,/ 转步/ 1.5/ ./ 算法/ 结束/ ,/ 得到/ 运动/ 矢量/ 平滑/ 的/ 结果/ ./ 在/ 利用/ 动态/ 纹理/ 库/ DynTex/ (/ 见/ 上/ 页/ 脚注/ ①/ )/ 中/ 视频/ “/ 6482910/ ”/ 的/ 第/ 198/ 帧/ 进行/ 研究/ 时/ ,/ 在/ 实验/ 中/ tsmooth/ 的/ 值取/ 5/ ,/ 得到/ 了/ 较/ 满意/ 的/ 运动/ 矢量/ 平滑/ 结果/ ,/ 如图/ 4/ 所示/ ,/ 左图/ 是/ 运动/ 矢量/ 初始化/ 结果/ ,/ 右图/ 是/ 平滑/ 后/ 的/ 结果/ ,/ 从图/ 中/ 可以/ 明显/ 看出/ ,/ 平滑/ 算法/ 是/ 很/ 有效/ 的/ ./ 图/ 4/ “/ 6482910/ ”/ 的/ 第/ 198/ 帧/ 的/ 初始化/ 及/ 平滑/ 结果/ 5/ 运动/ 矢量/ 连续性/ 的/ 优化/ 流体/ 运动/ 矢量/ 计算结果/ 的/ 准确/ 与否/ ,/ 可以/ 从/ 两个/ 方面/ 进行/ 衡量/ ./ 第一/ ,/ 是从/ 外观/ 的/ 一致性/ 进行/ 衡量/ ;/ 第二/ ,/ 是/ 流体/ 运动/ 的/ 估计/ 要/ 符合/ 运动/ 的/ 连续性/ ./ 为了/ 满足/ 这/ 两个/ 要求/ ,/ 并/ 保证/ 流体/ 运动/ 矢量/ 计算/ 的/ 准确性/ ,/ 利用/ 流体/ 运动/ 的/ 连续性/ 方程/ 进行/ 优化/ ,/ 这样/ 可以/ 体现/ 出/ 流体/ 的/ 运动/ 特征/ ./ 流体/ 运动/ 的/ 连续性/ 方程/ 为/ [/ 5/ ]/ 其中/ ,/ / tI/ 是/ 图像/ 强度/ 对/ 时间/ 的/ 导数/ ;/ / Ω/ 表示/ Ω/ 的/ 边界/ ;/ 狀是/ / Ω/ 的/ 外部/ 矢量/ ./ 根据/ 散度/ 理论/ 及/ 数学/ 推导/ ,/ 式/ (/ 6/ )/ 可以/ 写成/ 下面/ 的/ 形式/ [/ 5/ ]/ :/ 式/ 中/ It/ 表示/ 图像/ 强度/ 对/ 时间/ 的/ 导数/ ;/ Ix/ 和/ Iy/ 分别/ 表示/ 图像/ 强度/ 在/ 空间/ 域/ 上/ 的/ 导数/ ;/ 流体/ 的/ 运动/ 矢量/ 为/ (/ 狌/ vec/ ,/ 狏/ vec/ )/ ,/ 狌/ x/ 和/ 狏/ y/ 分别/ 表示/ 运动/ 矢量/ 的/ 偏/ 导数/ ,/ 利用/ 一阶/ 向前/ 差分/ 进行/ 计算/ 求得/ ./ 研究/ 中/ 采用/ 连续性/ 方程/ (/ 7/ )/ 对/ 运动/ 矢量/ 进行/ 优化/ ./ 优化/ 算法/ 的/ 主要/ 思想/ 是/ :/ 首先/ 利用/ 连续性/ 方程/ 进行/ 测试/ ,/ 并/ 标记/ 满足/ 运动/ 连续性/ 的/ 像素/ ,/ 进一步/ 利用/ 被/ 标记/ 像素/ 的/ 运动/ 矢量/ ,/ 重新/ 计算/ 其邻/ 像素/ 的/ 运动/ 矢量/ ./ Page5/ 如图/ 5/ 所示/ ,/ 在/ 块/ 3/ ×/ 3/ 的/ 区域/ 中/ ,/ 如果/ 像素/ X/ 的/ 邻/ 像素/ A/ 、/ B/ 、/ C/ 和/ D/ 满足/ 连续性/ 方程/ ,/ 即/ 已经/ 被/ 标记/ ,/ 那么/ 设/ A/ 和/ X/ 的/ 运动/ 矢量/ 分别/ 为/ 犲/ A/ (/ uA/ ,/ vA/ )/ 和/ 犲/ X/ (/ uX/ ,/ vX/ )/ ,/ 那么/ 由/ 连续性/ 方程/ ,/ 可得/ 由式/ (/ 8/ )/ 可以/ 得到/ uX/ ;/ 同理/ 也/ 可以/ 由/ C/ 像素/ 粒子/ 满足/ 连续性/ 方程/ 的/ 条件/ ,/ 得到/ vX/ ./ 运动/ 矢量/ 连续性/ 优化/ 算法/ 描述/ 如下/ ./ 算法/ 5/ ./ 运动/ 矢量/ 连续性/ 优化/ 算法/ ./ 输入/ :/ 流体/ 运动/ 矢量/ 平滑/ 后/ 的/ 结果/ 输出/ :/ 运动/ 矢量/ 连续性/ 优化/ 的/ 结果/ 1/ ./ 初始化/ ./ 对于/ 图像/ 中/ 每个/ 像素/ P/ (/ i/ ,/ j/ )/ 及其/ 3/ ×/ 3/ 邻域/ ,/ 如果/ 满足/ 式/ (/ 7/ )/ ,/ 对/ 邻域/ 内/ 的/ 像素/ P/ (/ m/ ,/ n/ )/ 的/ 标记/ fmn/ 置/ 为/ 1/ :/ fmn/ =/ 1/ ,/ m/ ∈/ [/ -/ 1/ +/ i/ ,/ i/ +/ 1/ ]/ ,/ n/ ∈/ [/ -/ 1/ +/ j/ ,/ j/ +/ 1/ ]/ (/ 9/ )/ 2/ ./ 对于/ 没/ 进行/ 标记/ 的/ 像素/ X/ ,/ 利用/ 式/ (/ 8/ )/ 重新/ 计算/ 出/ X/ 运动/ 矢量/ 犲/ X/ (/ uX/ ,/ vX/ )/ 中/ 的/ 狌/ X/ 分量/ ./ 3/ ./ 对于/ 没/ 进行/ 标记/ 的/ 像素/ X/ ,/ 重新/ 计算/ 出/ X/ 运动/ 矢量/ 4/ ./ 更新/ 标记/ ./ 如果/ 像素/ X/ 的/ uX/ 以及/ vX/ 都/ 已经/ 进行/ 了/ 5/ ./ 判断/ 是否/ 满足/ 了/ 终止/ 条件/ ./ 如果/ 是/ ,/ 则/ 进行/ 下/ 一步/ ;/ 犲/ X/ (/ uX/ ,/ vX/ )/ 中/ 的/ 狏/ X/ 分量/ ./ 优化/ ,/ 则/ 对/ X/ 进行/ 标记/ ./ 否则/ ,/ 转步/ 2.6/ ./ 得到/ 运动/ 矢量/ 连续性/ 优化/ 的/ 结果/ ,/ 算法/ 结束/ ./ 在/ 研究/ 中/ 采用/ 了/ 下面/ 的/ 方法/ 作为/ 迭代/ 终止/ 条件/ ./ 判断/ 被/ 标记/ 的/ 像素/ 数目/ 是否/ 达到/ 了/ 总数/ 目的/ 90/ %/ ,/ 如果/ 是/ ,/ 终止/ 优化/ 过程/ ./ 6/ 实验/ 与/ 分析/ 我们/ 运用/ 本文/ 的/ 方法/ ,/ 在/ PC机/ 上/ Windows7/ 操作系统/ 下/ 进行/ 了/ 以下/ 实验/ ,/ 其/ 硬件/ 配置/ 是/ 2.66/ GHzIntelCore/ (/ M/ )/ DuoCPU/ 、/ 4GBRAM/ ./ 6.1/ 新/ 方法/ 的/ 有效性/ 验证/ 6.1/ ./ 1/ 流体/ 运动/ 矢量/ 计算方法/ 的/ 有效性/ 验证/ 为了/ 验证/ 本文/ 中/ 所/ 提出/ 算法/ 的/ 有效性/ ,/ 采用/ 了/ 动态/ 纹理/ 库/ DynTex/ 中/ 的/ 视频/ 进行/ 研究/ ./ 图/ 6/ 中是/ 动态/ 纹理/ 库中/ 视频/ “/ 6482910/ ”/ 的/ 第/ 897/ 帧/ 以及/ “/ 54ab110/ ”/ 的/ 第/ 3/ 帧/ 运动/ 矢量/ 计算/ 的/ 结果/ ./ 为了/ 能/ 清晰/ 地/ 表明/ 流体/ 运动/ 矢量/ 的/ 结果/ ,/ 图中/ 是/ 每隔/ 8/ 个/ 像素/ 的/ 运动/ 矢量/ 结果/ ./ 左图/ 是/ 流体/ 运动/ 矢量/ 的/ 初始化/ 及/ 平滑/ 结果/ ,/ 右图/ 是/ 利用/ 了/ 本文/ 提出/ 的/ 运动/ 连续性/ 的/ 优化/ 算法/ 进行/ 优化/ 的/ 结果/ ./ 图/ 7/ 是/ 利用/ 动态/ 纹理/ 库/ DynTex/ 中/ 视频/ 帧/ 进行/ 实验/ ,/ 得到/ 的/ 运动/ 矢量/ 的/ 最终/ 结果/ ,/ 是/ 每隔/ 10/ 个/ 像素/ 的/ 结果/ ./ 从/ 这些/ 结果/ 可以/ 看出/ ,/ 所/ 得到/ 的/ 运动/ 矢量/ 具有/ 保持/ 流体/ 运动/ 连续性/ 的/ 特征/ ,/ 流体/ 运动/ 矢量/ 计算结果/ 的/ 大小/ 及/ 方向/ 与/ 实际/ 流体/ 运动/ 的/ 情况/ 基本一致/ ,/ 这/ 表明/ 了/ 本文/ 所/ 提出/ 的/ 算法/ 是/ 有效/ 的/ ./ Page66/ ./ 1.2/ 新/ 方法/ 与/ 同类/ 算法/ 的/ 比较/ (/ 1/ )/ 与/ 文献/ [/ 11/ ]/ 的/ 方法/ 比较/ 本文/ 在/ 研究/ 中/ ,/ 为了/ 说明/ 算法/ 的/ 有效性/ ,/ 将/ 本文/ 提出/ 的/ 新/ 算法/ 与/ 文献/ [/ 11/ ]/ 的/ 方法/ 进行/ 比较/ ./ 利用/ 文献/ [/ 11/ ]/ 的/ 方法/ 进行/ 研究/ 时/ ,/ 在/ 场景/ 存在/ 多种/ 流体/ 运动/ 或者/ 存在/ 运动/ 背景/ 情况/ 下/ ,/ 由于/ 直方图/ 存在/ 着/ 多/ 峰值/ 的/ 现象/ ,/ 很难/ 确定/ 流体/ 区域/ 的/ 多种/ 运动/ 速度/ ./ 在/ 研究/ 中/ ,/ 利用/ 动态/ 纹理/ 库/ DynTex/ 中/ 视频/ “/ 647bc10/ ”/ 的/ 第/ 203/ 帧/ ,/ 采用/ 本文/ 提出/ 的/ 运动/ 矢量/ 进行/ 研究/ 取得/ 了/ 较/ 满意/ 的/ 结果/ ,/ 如图/ 8/ 所示/ ;/ 采用/ 文献/ [/ 11/ ]/ 的/ 方法/ 对/ 该/ 视频/ 中/ 流体/ 运动/ 矢量/ 进行/ 计算/ ,/ 得到/ 的/ 运动/ 矢量/ 的/ 统计/ 结果/ 如图/ 9/ 所示/ ,/ 从图/ 中/ 明显/ 可以/ 看出/ ,/ 利用/ 文献/ [/ 11/ ]/ 的/ 方法/ ,/ 在/ 处理/ 多相/ 流/ 的/ 情况/ 下/ ,/ 由于/ 直方图/ 存在/ 多/ 峰值/ ,/ 不能/ 将/ 多相/ 运动/ 与/ 多/ 峰值/ 相对/ 应/ ,/ 因此/ 很难/ 求取/ 流体/ 运动/ 矢量/ ,/ 这/ 说明/ 本文/ 算法/ 对/ 处理/ 多相/ 流/ 的/ 运动/ 也/ 是/ 有效/ 的/ ./ 图/ 8/ “/ 647bc10/ ”/ 的/ 第/ 203/ 帧/ 的/ 运动/ 矢量/ 计算结果/ 图/ 9/ 利用/ 文献/ [/ 11/ ]/ 求得/ 的/ 速度/ 方向/ 的/ 统计/ 结果/ (/ 2/ )/ 与/ 其它/ 现有/ 方法/ 的/ 比较/ 为了/ 进一步/ 验证/ 本文/ 所/ 提出/ 算法/ 的/ 有效性/ ,/ 分别/ 与/ 文献/ [/ 12/ ]/ 和/ [/ 13/ ]/ 进行/ 比较/ ,/ 验证/ 的/ 内容/ 包括/ 运动/ 矢量/ 计算/ 的/ 结果/ 、/ 算法/ 的/ 准确性/ 和/ 算法/ 的/ 有效性/ 比较/ ./ ①/ 运动/ 矢量/ 计算结果/ 的/ 比较/ 分别/ 选择/ 经典/ 的/ “/ Yosemite/ ”/ 图像/ 序列/ 中/ 的/ 第/ 7/ 帧/ ①/ 、/ 另/ 一篇/ 文献/ 提供/ 的/ 粒子/ 图像/ ②/ 、/ 利用/ OpenGL/ 生成/ 的/ 流体/ 运动/ 场景/ 以及/ 动态/ 纹理/ 库/ 的/ 视频/ 序列/ 中/ 的/ 图像/ 进行/ 比较/ 研究/ ./ 在/ 实验/ 中/ ,/ 区域/ 直方图/ 的/ 统计/ 均/ 采用/ 5/ ×/ 5/ 的/ 邻域/ 进行/ ./ 图/ 10/ 是/ 运动/ 矢量/ 计算/ 的/ 结果/ (/ 每隔/ 8/ 个/ 像素/ 的/ 显示/ 结果/ )/ ,/ 每组/ 的/ 左上/ 结果/ 为原/ 图像/ ,/ 右/ 上/ 结果/ 为/ 文献/ [/ 12/ ]/ 的/ 结果/ ,/ 左/ 下/ 结果/ 为/ 文献/ [/ 13/ ]/ 的/ 结果/ ,/ 右/ 下/ 结果/ 为/ 本文/ 的/ 实验/ 结果/ ./ 进行/ 实验/ 得到/ 的/ 结果/ 有所不同/ ,/ 主要/ 表现/ 在/ :/ 从图/ 10/ 的/ 实验/ 结果/ 可以/ 看出/ 利用/ 不同/ 的/ 方法/ a/ )/ 利用/ 现有/ 算法/ 对于/ 流体/ 运动/ 矢量/ 进行/ 计算/ ,/ 存在/ 着/ 结果/ 不/ 准确/ 的/ 现象/ ,/ 在/ 无云/ 背景/ 区/ 运动/ 矢量/ 出现/ 了/ 不/ 为/ 零/ 的/ 现象/ ,/ 如图/ 10/ (/ a/ )/ 所示/ ./ b/ )/ 利用/ 现有/ 的/ 方法/ 进行/ 研究/ 时/ ,/ 得到/ 的/ 运动/ 矢量/ 结果/ 缺少/ 细节/ 特征/ ./ 例如/ ,/ 采用/ 文献/ [/ 12/ -/ 13/ ]/ 的/ 方法/ 计算/ 时/ ,/ 如图/ 10/ (/ d/ )/ 所示/ ,/ 得到/ 的/ 运动/ 矢量/ 缺少/ 细节/ 特征/ ,/ 导致/ 了/ 部分/ 粒子/ 运动/ 矢量/ 的/ 方向/ 完全相同/ ,/ 而用/ 新/ 算法/ 求得/ 的/ 运动/ 矢量/ 的/ 结果/ 具有/ 流体/ 粒子/ 运动/ 的/ 细节/ 特征/ ,/ 这/ 也/ 体现/ 了/ 新/ 方法/ 对/ 流体/ 运动/ 连续性/ 优化/ 的/ 有效性/ ./ c/ )/ 在/ 流体/ 运动/ 区域/ 中/ ,/ 利用/ 现有/ 方法/ 研究/ 时/ ,/ 流体/ 运动/ 矢量/ 的/ 计算结果/ 出现/ 了/ 零/ 矢量/ ,/ 如图/ 10/ (/ e/ )/ 和/ (/ f/ )/ 所示/ ./ 总之/ ,/ 从图/ 10/ 的/ 实验/ 对比/ 结果/ 可以/ 看出/ ,/ 利用/ 本文/ 的/ 新/ 方法/ 计算/ 得到/ 的/ 运动/ 矢量/ 的/ 结果/ 更/ 符合/ 流体/ 运动/ 的/ 实际/ 情况/ ,/ 这/ 说明/ 了/ 新/ 方法/ 是/ 很/ 有效/ 的/ ./ ②/ 流体/ 运动/ 矢量/ 计算结果/ 的/ 准确性/ 比较/ 为了/ 验证/ 新/ 方法/ 的/ 准确性/ ,/ 在/ 研究/ 中将/ 新/ 方法/ 的/ 误差/ 与/ 文献/ [/ 12/ -/ 13/ ]/ 的/ 实验/ 误差/ 进行/ 比较/ ./ 实验/ 中/ 运用/ 3/ 种/ 误差/ 进行/ 研究/ :/ 方向/ 误差/ Ed/ 、/ 运动/ 矢量/ 大小/ 误差/ E/ 和/ 比例/ 误差/ Er/ ./ 其中/ Ed/ ,/ 采用/ 式/ (/ 10/ )/ 进行/ 计算/ ./ 式/ 中/ vij/ 是/ 粒子/ P/ (/ i/ ,/ j/ )/ 运动/ 矢量/ 的/ 计算结果/ ;/ vstdij/ 是/ 该/ 粒子/ 运动/ 矢量/ 的/ 准确/ 值/ ;/ W/ 和/ H/ 分别/ 为/ 图像/ 的/ 宽/ 和/ 高/ ;/ n/ 表示/ 像素/ 的/ 总/ 数目/ ,/ 即/ n/ =/ H/ ×/ W/ ./ E/ =/ 1/ 误差/ E/ 采用/ 式/ (/ 11/ )/ 进行/ 计算/ ./ n/ ∑/ Wi/ =/ 1/ ∑/ H/ 其中/ ,/ 狏/ i/ 和/ 狏/ j/ 分别/ 表示/ 运动/ 矢量/ 的/ 两个/ 分量/ ;/ vstdi/ 和/ vstdj/ 分别/ 表示/ 运动/ 矢量/ 标准值/ 的/ 两个/ 分量/ ./ 比较/ 的/ 实验/ 中/ 分别/ 利用/ Yosemite/ 和/ 合成/ 的/ 流体/ 进行/ 研究/ ./ Yosemite/ 运动/ 矢量/ 的/ 准确/ 值/ 从/ 文献/ ①/ 中/ 得到/ ;/ 在/ 合/ ①/ ②/ inf/ ./ ed/ ./ ac/ ./ uk/ // rbf/ // HIPR2/ // hipr/ _/ top/ ./ htm/ ,/ 2000/ ,/ 10Page7/ 图/ 10/ 流体/ 运动/ 矢量/ 的/ 可视化/ 结果/ 成/ 流体/ 时/ ,/ 利用/ OpenGL/ 生成/ 流体/ 运动/ 场景/ ,/ 在/ 相邻/ 两帧/ 中/ 控制/ 每个/ 像素点/ 的/ 运动/ 矢量/ 都/ 是/ (/ 2/ ,/ 0/ )/ ,/ 图/ 10/ (/ c/ )/ 中是/ 运动/ 场景/ 的/ 第/ 10/ 帧/ ./ 表/ 1/ 和表/ 2/ 是/ Ed/ 和/ E/ 的/ 结果/ ./ 误差/ 文献/ [/ 12/ ]/ 方法/ 0.189047/ 文献/ [/ 13/ ]/ 方法/ 0.162855/ 本文/ 方法/ 表/ 2/ 对/ OpenGL/ 生成/ 的/ 流体/ 实验/ 结果/ 的/ 误差/ 比较/ 文献/ [/ 12/ ]/ 方法/ 0.057814/ 文献/ [/ 13/ ]/ 方法/ 0.069499/ 误差/ 本文/ 方法/ 从/ 误差/ 的/ 计算结果/ 中/ 可以/ 明显/ 地/ 看出/ ,/ 对于/ 较/ 复杂/ 流体/ 运动/ 矢量/ 的/ 计算/ ,/ 用/ 本文/ 方法/ 求得/ 的/ Ed/ 和/ E/ 较/ 小/ ./ 为了/ 进一步/ 验证/ 新/ 方法/ 的/ 准确性/ ,/ 我们/ 分别/ 将/ 新/ 方法/ 和/ 文献/ [/ 12/ -/ 13/ ]/ 的/ 方法/ 进行/ 比较/ ,/ 用/ 计算结果/ 与/ 标准/ 运动/ 矢量/ 大小/ 的/ 比值/ 来/ 计算/ Er/ ,/ 并用/ 式/ (/ 12/ )/ 进行/ 计算/ ,/ 表/ 3/ 给出/ 了/ 比值/ 的/ 结果/ ./ 其中/ ,/ vstdi/ 和/ vstdj/ 是/ 运动/ 矢量/ 标准值/ 的/ 两个/ 分量/ ./ 方法/ 文献/ [/ 12/ ]/ 方法/ 0.590901/ 文献/ [/ 13/ ]/ 方法/ 0.601347/ 本文/ 方法/ 从表/ 3/ 可以/ 明显/ 地/ 看出/ ,/ 利用/ 本文/ 方法/ 所求/ 的/ Er/ 更/ 接近/ 于/ 1/ ,/ 因此/ 更/ 准确/ 一些/ ./ ③/ 与/ 同类/ 算法/ 的/ 有效性/ 比较/ 为了/ 进一步/ 验证/ 新/ 方法/ 及/ 同类/ 算法/ 的/ 准确性/ 及/ 有效性/ ,/ 用/ 新/ 方法/ 及/ 文献/ [/ 12/ -/ 13/ ]/ 对/ 流体/ 运动/ 矢量/ 分别/ 计算/ ,/ 并/ 将/ 计算/ 的/ 结果/ 用于/ 流体/ 场景/ 的/ 重建/ 之中/ ./ Page8/ 在/ 研究/ 中/ ,/ 我们/ 用/ 本文/ 算法/ 计算/ 流体/ 运动/ 矢量/ ,/ 并/ 结合/ LBM/ (/ LatticeBoltzmannMethods/ )/ ,/ 进一步/ 恢复/ 流体/ 的/ 高度/ 场/ ,/ 从而/ 实现/ 流体/ 的/ 重建/ 功能/ ./ 用/ 新/ 方法/ 及/ 现有/ 方法/ 分别/ 计算/ 流体/ 运动/ 矢量/ ,/ 然后/ 将/ 得到/ 的/ 运动/ 矢量/ 结果/ 用于/ 重建/ 之中/ ,/ 通过/ 重建/ 场景/ 的/ 真实感/ 研究/ 几种/ 算法/ 对/ 流体/ 运动/ 矢量/ 计算结果/ 的/ 准确性/ ./ 图/ 11/ 是/ 流体/ 场景/ 重建/ 的/ 结果/ ./ 从图/ 11/ 的/ 重建/ 结果/ 可以/ 看出/ ,/ 用/ 不同/ 的/ 方法/ 计算/ 得到/ 的/ 运动/ 矢量/ 进行/ 流体/ 重建/ 的/ 结果/ 有/ 差别/ ./ 利用/ 本文/ 新/ 方法/ 计算/ 得到/ 的/ 运动/ 矢量/ 进行/ 重建/ 的/ 结果/ 更/ 具有/ 真实感/ ,/ 而/ 利用/ 文献/ [/ 12/ -/ 13/ ]/ 进行/ 实验/ 时/ ,/ 从/ 重建/ 的/ 流体/ 图像/ 边界/ 处/ 可以/ 看出/ ,/ 重建/ 结果/ 失去/ 了/ 真实感/ ,/ 得到/ 的/ 三维重建/ 流体/ 与/ 实际/ 视频/ 中/ 的/ 情形/ 不同/ ,/ 这些/ 可以/ 进一步/ 说明/ 新/ 方法/ 对/ 运动/ 矢量/ 计算/ 的/ 准确性/ 和/ 有效性/ ,/ 并/ 能够/ 满足/ 流体/ 重建/ 的/ 实际/ 应用/ 需求/ ./ 图/ 11/ 利用/ 不同/ 算法/ 得到/ 的/ 运动/ 矢量/ 分别/ 进行/ 重建/ 的/ 结果/ 6.2/ 新/ 方法/ 的/ 性能/ 分析/ 本文/ 所/ 提出/ 的/ 新/ 方法/ 具有/ 简单/ 、/ 时间/ 复杂度/ 较/ 低/ 以及/ 计算结果/ 准确/ 等/ 特点/ ./ 在/ 初始化/ 阶段/ 中/ ,/ 按照/ 5/ ×/ 5/ 的/ 邻域/ 进行/ 统计/ ,/ 如果/ 图像/ 的/ 分辨率/ 设为/ W/ ×/ H/ ,/ 那么/ 初始化/ 阶段/ 的/ 算法/ 复杂度/ 为/ 25/ ×/ O/ (/ W/ ×/ H/ )/ ,/ 在/ 去除/ 噪声/ 部分/ 的/ 算法/ 中/ ,/ 实验/ 中/ 采用/ 被/ 5/ 整除/ 和/ 被/ 2/ 整除/ 的/ 分辨率/ 采样/ ,/ 统计/ 的/ 窗口/ 大小/ 分别/ 为/ 10/ ×/ 10/ 及/ 15/ ×/ 15/ ,/ 所以/ 去除/ 噪声/ 部分/ 的/ 算法/ 复杂度/ 为/ 325/ ×/ O/ (/ W/ ×/ H/ )/ ,/ 在/ 平滑/ 部分/ 中/ ,/ 统计/ 区域/ 为/ 5/ ×/ 5/ ,/ 算法/ 复杂度/ 为/ 25/ ×/ O/ (/ W/ ×/ H/ )/ ;/ 在/ 运动/ 连续性/ 的/ 优化/ 中/ ,/ 选择/ 3/ ×/ 3/ 邻域/ 进行/ 研究/ ,/ 这部分/ 算法/ 的/ 复杂度/ 为/ 10/ ×/ O/ (/ W/ ×/ H/ )/ ./ 运动/ 矢量/ 计算/ 算法/ 的/ 总体/ 复杂度/ 为/ 385/ ×/ O/ (/ W/ ×/ H/ )/ ,/ 算法/ 的/ 复杂度/ 较/ 低/ ./ 为了/ 进一步/ 说明/ 本文/ 算法/ 的/ 时间/ 性能/ ,/ 研究/ 中/ 对于/ 计算/ 时间/ 进行/ 了/ 测试/ ,/ 表/ 4/ 给出/ 了/ 流体/ 运动/ 矢量/ 的/ 计算/ 时间/ ./ 从表/ 4/ 中/ 能够/ 看出/ ,/ 本文/ 算法/ 需要/ 的/ 时间/ 较/ 少/ ,/ 速度/ 较快/ ./ 表/ 4/ 流体/ 运动/ 矢量/ 计算/ 的/ 时间/ (/ 单位/ :/ 秒/ // 帧/ )/ 视频/ 54ab1103/ ./ 31364adg102/ ./ 766648db102/ ./ 922649ib103/ ./ 46864828103.23464829103/ ./ 062sBtFence2/ ./ 7667/ 结束语/ 本文/ 提出/ 了/ 一种/ 流体/ 运动/ 矢量/ 求取/ 的/ 新/ 方法/ ./ 利用/ 该/ 方法/ 计算/ 的/ 运动/ 矢量/ ,/ 既/ 具有/ 保持/ 运动/ 前后/ 外观/ 的/ 一致性/ ,/ 也/ 具有/ 保持/ 流体/ 运动/ 连续性/ 的/ 特点/ ./ 它/ 克服/ 了/ 传统/ 的/ 变分/ 方法/ 研究/ 中/ 局部/ 空间/ 光滑/ 的/ 假设/ 所/ 带来/ 的/ 运动/ 边界/ 及/ 遮蔽/ 问题/ ./ 对比/ 实验/ 进一步/ 验证/ 了/ 本文/ 所/ 研究/ 的/ 计算方法/ 是/ 一种/ 有效/ 的/ 措施/ ,/ 它/ 可以/ 应用/ 于/ 流体/ 的/ 三维重建/ 、/ 虚拟现实/ 、/ 增强/ 现实/ 等/ 应用领域/ 中/ ./ 进一步/ 的/ 研究/ 工作/ 是/ 对/ 流体/ 运动/ 矢量/ 计算/ 考虑/ 边界/ 的/ 处理/ 问题/ ,/ 可以/ 进一步/ 采用/ 流体/ 动力学/ 的/ 规律/ 进行/ 约束/ 和/ 控制/ ,/ 以便/ 进一步提高/ 运动/ 矢量/ 计算/ 的/ 精确度/ ,/ 并/ 将/ 运动/ 矢量/ 计算/ 的/ 结果/ 与/ 流体/ 的/ 重建/ 与/ 交互/ 的/ 技术相结合/ ,/ 将/ 该/ 研究/ 方法/ 扩展/ 到/ 基于/ 真实感/ 的/ 虚拟现实/ 及/ 增强/ 现实/ 等/ 应用领域/ 中/ ./ 

