Page1/ 一种/ 新/ 的/ 基于/ 瞳孔/ -/ 角膜/ 反射/ 技术/ 的/ 视线/ 追踪/ 方法/ 张闯/ 1/ )/ ,/ 2/ )/ 迟健/ 男/ 1/ )/ ,/ 2/ )/ 张/ 朝晖/ 1/ )/ ,/ 2/ )/ 王志良/ 1/ )/ ,/ 2/ )/ 1/ )/ (/ 北京科技大学/ 信息/ 工程学院/ 北京/ 100083/ )/ 2/ )/ (/ 北京科技大学/ 钢铁/ 流程/ 先进/ 控制/ 教育部/ 重点/ 实验室/ 北京/ 100083/ )/ 摘要/ 针对/ 现有/ 单/ 相机/ 单/ 光源/ 视线/ 追踪/ 系统/ 存在/ 的/ 几个/ 问题/ :/ 精度/ 不高/ 、/ 头动/ 受限/ 以及/ 标定/ 复杂/ ,/ 提出/ 了/ 一种/ 新/ 的/ 基于/ 瞳孔/ -/ 角膜/ 反射/ (/ PCCR/ )/ 技术/ 的/ 视线/ 追踪/ 方法/ ./ 通过/ 提出/ 的/ 瞳孔/ 边缘/ 滤波/ 算法/ (/ RDPEF/ )/ 和/ 三/ 通道/ 伪/ 彩色/ 图/ (/ TCPCM/ )/ 解决/ 了/ 近红外/ 条件/ 下/ 瞳孔/ 定位/ 误差/ 较大/ 、/ 瞳孔/ 跟踪/ 鲁棒性/ 较差/ 的/ 问题/ ,/ 进而/ 提高/ 了/ 视线/ 特征提取/ 的/ 精度/ ./ 通过/ 提出/ 的/ 头部/ 位置/ 补偿/ 方法/ 以及/ 个体差异/ 转化/ 模型/ ,/ 使/ 二维/ 映射/ 模型/ 允许/ 使用者/ 头部/ 运动/ 并且/ 只/ 需要/ 单点/ 标定/ ./ 该/ 方法/ 提高/ 了/ 单/ 相机/ 视线/ 追踪/ 的/ 精度/ 和/ 应用/ 范围/ ,/ 为/ 面向/ 人机交互/ 的/ 视线/ 追踪/ 系统/ 提供/ 了/ 有效/ 的/ 低成本/ 解决方案/ ./ 关键词/ 视线/ 追踪/ ;/ 瞳孔/ 定位/ ;/ 瞳孔/ 跟踪/ ;/ 视线/ 估计/ ;/ 瞳孔/ -/ 角膜/ 反射/ (/ PCCR/ )/ 技术/ 1/ 引言/ 视线/ 是/ 眼睛/ 注视/ 的/ 方向/ ./ 它/ 代表/ 一个/ 人/ 关注/ 的/ 焦点/ ./ 近/ 几十年/ ,/ 视线/ 追踪/ 一直/ 都/ 是/ 比较/ 活跃/ 的/ 研究课题/ ./ 视线/ 追踪/ 在/ 交互/ 和/ 诊断/ [/ 1/ ]/ 两个/ 领域/ 都/ 存在/ 着/ 很大/ 的/ 应用/ 潜力/ ,/ 如/ 人机交互/ 界面/ (/ HCI/ )/ 、/ 虚拟现实/ 、/ 眼部/ 疾病诊断/ 、/ 人类/ 行为/ 研究/ 等/ ./ 例如/ ,/ 当/ 使用者/ 注视/ 显示器/ 屏幕/ ,/ 可以/ 通过/ 视线/ 追踪/ 系统/ 估计/ 出/ 使用者/ 在/ 屏幕/ 上/ 的/ 注视点/ ./ 因此/ ,/ 视线/ 可以/ 作为/ 先进/ 的/ 计算机/ 输入/ 手段/ [/ 2/ ]/ ,/ 其/ 已经/ 被/ 证明/ 比/ 传统/ 输入/ 设备/ (/ 比如/ 鼠标/ 指针/ )/ 更/ 有效率/ [/ 3/ ]/ ,/ 而且/ 身体/ 残障/ 的/ 人士/ 也/ 可以/ 使用/ 系统/ ./ 此外/ ,/ 基于/ 视线/ 追踪/ 技术/ 的/ 互动/ 显示器/ 也/ 可以/ 实现/ [/ 4/ ]/ ,/ 该/ 显示器/ 的/ 显示/ 画面/ 可/ 随/ 视线/ 的/ 变化/ 而/ 变化/ ./ 视线/ 追踪/ 也/ 被/ 认知/ 科学家/ 广泛/ 地/ 应用/ 于/ 人类/ 的/ 认知/ [/ 5/ ]/ 和/ 记忆/ [/ 6/ ]/ 研究/ ./ 高精度/ 和/ 高/ 鲁棒性/ 的/ 视线/ 追踪/ 系统/ 是/ 研究/ 视线/ 追踪/ 技术/ 的/ 最终目标/ ./ 用于/ 诊断/ 的/ 视线/ 追踪/ 系统对/ 精度/ 要求/ 较/ 高/ ,/ 往往/ 可以/ 采用/ 接触式/ 的/ 视线/ 追踪/ 系统/ 以/ 达到/ 更/ 高/ 的/ 精度/ [/ 1/ ]/ ./ 用于/ 交互/ 的/ 视线/ 追踪/ 系统/ 除了/ 对/ 精度/ 、/ 鲁棒性/ 、/ 实时性/ 的/ 要求/ 以外/ ,/ 需要/ 最大/ 程度/ 地/ 减少/ 或/ 消除/ 对/ 使用者/ 的/ 干扰/ ./ 随着/ 数字/ 摄像机/ 和/ 微型/ 计算机/ 两项/ 技术/ 的/ 迅速/ 发展/ ,/ 基于/ 数字视频/ 分析/ (/ VideoOculographic/ ,/ VOG/ )/ 的/ 视线/ 追踪/ 技术/ 成为/ 非/ 接触式/ 视线/ 追踪/ 热点/ 研究/ 方向/ ./ 因为/ 不/ 要求/ 与/ 使用者/ 有/ 任何/ 形式/ 的/ 接触/ ,/ 使用者/ 的/ 视线/ 完全/ 通过/ 处理/ 眼睛/ 图像/ 的/ 方法/ 而/ 得到/ ,/ 对于/ 使用者/ 来说/ 是/ 舒适/ 的/ ,/ 没有/ 干扰/ 的/ ./ 基于/ VOG/ 的/ 视线/ 追踪/ 系统/ 随着/ 硬件/ 的/ 不同/ 和/ 提取/ 图像/ 特征/ 的/ 不同/ 而/ 产生/ 很多/ 变化/ ./ 视线/ (/ LineOfSight/ // PointOfRegard/ ,/ LOS/ // POR/ )/ 是/ 通过/ 计算/ 眼部/ 图像/ 的/ 特征/ 而/ 进行/ 估计/ 的/ ,/ 例如/ 计算/ 瞳孔/ 中心/ 与/ 角膜/ 反射/ 的/ 向量/ (/ PCCR/ )/ [/ 7/ -/ 8/ ]/ 、/ 角膜/ 反射/ 阵列/ (/ Cross/ -/ RatiosMethod/ )/ [/ 9/ ]/ 或者/ 虹膜/ 的/ 椭圆/ (/ “/ One/ -/ Circle/ ”/ Algorithm/ )/ [/ 10/ -/ 11/ ]/ ./ 视线/ 追踪/ 系统/ 有些/ 是/ 基于/ 单/ 相机/ 和/ 单/ 红外光/ 源/ [/ 12/ ]/ ./ 有些/ 系统/ 则/ 加入/ 第/ 2/ 个/ 光源/ [/ 13/ ]/ 或/ 更/ 多/ ,/ 目的/ 是/ 为了/ 创造/ 出/ 特殊/ 的/ 角膜/ 反射/ 模式/ [/ 14/ ]/ 以/ 增加/ 跟踪/ 的/ 鲁棒性/ 和/ 准确性/ ./ Tomono/ [/ 15/ ]/ 使用/ 的/ 系统/ 由/ 3/ 个/ 相机/ 和/ 两个/ 不同/ 极性/ 的/ 偏振光/ 源/ 构成/ ./ 由/ 可/ 控制/ 的/ 偏振光/ 所/ 产生/ 的/ 图像/ ,/ 通过/ 滤光片/ ,/ 被/ 相机/ 捕获/ ,/ 从而/ 减少/ 了/ 该/ 系统/ 对外部/ 光线/ 变化/ 的/ 敏感性/ ./ Yoo/ 和/ Chung/ [/ 16/ ]/ 使用/ 5/ 个/ 红外光/ 源/ 和/ 两个/ 相机/ ,/ 通过/ 角膜/ 反射/ 与/ 瞳孔/ 中心/ 的/ 位置/ 特征/ 和/ 屏幕/ 的/ 实际/ 大小/ 来/ 估计/ 注视点/ ,/ 方法/ 是/ 使用/ 投影/ 平面/ 不变/ 的/ 交比/ (/ Cross/ -/ Ratios/ )/ 值/ ./ Beymer/ 和/ Flickner/ [/ 17/ ]/ 采用/ 4/ 个/ 相机/ 和/ 两个/ 光源/ ,/ 以/ 区分/ 头部/ 检测/ 和/ 视线/ 估计/ ./ 其/ 系统/ 采用/ 广角/ 立体/ 相机/ 来/ 检测/ 人脸/ 的/ 位置/ ,/ 然后/ 控制/ 活动/ 的/ 窄/ 视野/ 立体/ 相机/ 来/ 追踪/ 高分辨率/ 的/ 眼睛/ 图像/ ./ 其后/ ,/ Brolly/ 和/ Mulligan/ [/ 18/ ]/ 减少/ 系统配置/ ,/ 使用/ 3/ 个/ 相机/ ,/ 删除/ 其中/ 一个/ 窄/ 视野/ 相机/ ./ Ohno/ 和/ Mukawa/ [/ 19/ ]/ 提出/ 一个/ 与/ Beymer/ 和/ Flickner/ 类似/ 的/ 解决方案/ ,/ 在/ 眼睛/ 模型/ 上/ 有所不同/ ./ Hansen/ 和/ Pece/ [/ 20/ ]/ 和/ Wang/ 等/ [/ 21/ ]/ 对/ 降低/ 系统/ 硬件/ 配置/ 进行/ 了/ 尝试/ ,/ 使用/ 单/ 相机/ 无/ 红外光/ 源/ 进行/ 视线/ 估计/ ,/ 方法/ 是/ 基于/ 虹膜/ 检测/ ./ Hansen/ 和/ Pece/ [/ 20/ ]/ 研究/ 了/ 头部/ 姿态/ 不变/ 情况/ 的/ 视线/ 估计/ 的/ 基本/ 特性/ ,/ 其/ 方法/ 不/ 需要/ 预先/ 知道/ 相机/ 、/ 屏幕/ 和/ 使用者/ 眼球/ 的/ 空间/ 位置/ ./ Wang/ 等/ [/ 21/ ]/ 使用/ 一个/ 头部/ 模型/ ,/ 并/ 通过/ 基本/ 的/ 投影/ 几何/ 关系/ 计算/ 椭圆/ 虹膜/ 圈/ 的/ 法线/ 方向/ ,/ 作为/ 视线/ 方向/ ./ 本文/ 提出/ 一种/ 包括/ 瞳孔/ 定位/ 跟踪/ 和/ 视线/ 估计/ 的/ 实时/ 视线/ 追踪/ 方法/ ./ 下面/ 将/ 详细/ 介绍/ 该/ 方法/ 的/ 整个/ 流程/ ./ 2/ 基于/ 瞳孔/ -/ 角膜/ 反射/ 技术/ 的/ 视线/ 追踪/ 方法/ 理想/ 的/ 视线/ 追踪/ 系统/ 需要/ 满足/ 以下几点/ 要求/ :/ (/ 1/ )/ 准确/ 的/ ./ 例如/ ,/ 精确/ 到/ 分/ ;/ (/ 2/ )/ 可靠/ 的/ ./ 结果/ 可/ 重复/ ;/ (/ 3/ )/ 鲁棒/ 的/ ./ 可以/ 在/ 各种/ 条件/ 下/ 正常/ 工作/ ,/ 例如/ 室内/ // 室外/ ,/ 带/ 眼镜/ ,/ 带/ 隐形眼镜/ ;/ (/ 4/ )/ 非/ 接触式/ 的/ ./ 对/ 用户/ 无害/ ,/ 舒适/ 的/ ;/ (/ 5/ )/ 允许/ 自由/ 的/ 头部/ 运动/ ;/ (/ 6/ )/ 不/ 需要/ 初始/ 校准/ ;/ (/ 7/ )/ 实时/ 的/ ./ 瞳孔/ -/ 角膜/ 反射/ 技术/ 是/ 基于/ VOG/ 的/ 视线/ 追踪/ 系统/ 最/ 普遍/ 使用/ 的/ 方法/ ./ 视线/ 方向/ (/ 或/ 显示器/ 表面/ 的/ 注视点/ )/ 的/ 估计/ 方法/ 是/ 追踪/ 瞳孔/ 中心/ 和/ 角膜/ 反射/ 的/ Page3/ 相对/ 位置/ ./ 角膜/ 反射/ 是/ 光源/ (/ 一般/ 是/ 近红外/ 光源/ )/ 在/ 角膜/ 表面/ 反射/ 形成/ 的/ 虚像/ ./ 相机/ 获取/ 到/ 的/ 眼睛/ 图像/ 中/ 的/ 瞳孔/ 是/ 真实/ 瞳孔/ 经过/ 角膜/ 折射/ 后/ 形成/ 的/ 虚像/ ./ 系统/ 的/ 精确性/ 可以/ 通过/ 设置/ 与/ 相机/ 镜头/ 同轴/ 的/ 近红外/ (/ IR/ )/ 发光/ 二极管/ 进一步提高/ ,/ 其/ 产生/ 的/ “/ 亮瞳/ ”/ 现象/ (/ 如图/ 1/ 所示/ )/ 会/ 使/ 视频/ 图像/ 更/ 容易/ 处理/ ./ 本文/ 采用/ 的/ 近红外/ (/ IR/ )/ 发光/ 二极管/ 的/ 功率/ 在/ 安全/ 阈值/ 以下/ ,/ 对/ 人体/ 无害/ ,/ 而且/ 对于/ 使用者/ 是/ 不/ 可见/ 的/ ./ 亮瞳/ 和/ 暗瞳/ 的/ 产生/ 原理/ 见图/ 1/ ./ 基于/ 瞳孔/ -/ 角膜/ 反射/ 技术/ 的/ 视线/ 追踪/ 大致/ 可/ 分为/ 两类/ :/ 基于/ 二维/ 映射/ 模型/ 的/ 视线/ 估计/ 方法/ [/ 4/ ,/ 22/ ]/ 和/ 直接/ 的/ 三维/ 视线/ 估计/ 方法/ [/ 17/ ,/ 23/ -/ 24/ ]/ ./ 三维/ 视线/ 估计/ 方法/ 有/ 以下/ 几个/ 优点/ :/ (/ 1/ )/ 因为/ 采用/ 立体/ 视觉/ ,/ 可以/ 检测/ 使用者/ 头部/ 的/ 空间/ 位置/ ,/ 所以/ 允许/ 使用者/ 头部/ 自然/ 运动/ ./ (/ 2/ )/ 因为/ 采用/ 几何/ 模型/ 进行/ 视线/ 估计/ ,/ 映射函数/ 不/ 依赖于/ 标定/ 位置/ ,/ 所以/ 视线/ 估计/ 的/ 精度/ 不会/ 随着/ 头部/ 远离/ 标定/ 位置/ 而/ 下降/ ./ (/ 3/ )/ 因为/ 只要/ 标定/ 视线/ 与/ 眼球/ 光轴/ 的/ 夹角/ ,/ 不/ 需要/ 依靠/ 标定/ 确定/ 眼睛/ 特征参数/ 与/ 视线/ 的/ 映射函数/ ,/ 所以/ 标/ 定点数/ 较/ 少/ ,/ 在/ 双/ 相机/ 双/ 光源/ 的/ 条件/ 下/ 可以/ 做到/ 单点/ 标定/ ./ (/ 4/ )/ 三维/ 视线/ 估计/ 方法/ 估计/ 的/ 是/ 空间/ 视线/ 方向/ ,/ 而/ 不是/ 屏幕/ 视线/ 落点/ ,/ 所以/ 视线/ 估计/ 不/ 依赖于/ 屏幕/ 位置/ 、/ 大小/ 、/ 形状/ ,/ 可以/ 计算/ 视线/ 在/ 任何/ 物体/ 上/ 的/ 注视点/ ,/ 并且/ 不/ 需要/ 重新/ 标定/ 视线/ 估计/ 函数/ ./ 同时/ ,/ 三维/ 视线/ 估计/ 方法/ 有/ 以下/ 几个/ 缺点/ :/ (/ 1/ )/ 因为/ 三维/ 视线/ 估计/ 需要/ 使用/ 立体/ 眼睛/ 特征参数/ ,/ 增加/ 了/ 眼睛/ 特征/ 检测/ 和/ 参数/ 提取/ 的/ 复杂性/ ./ (/ 2/ )/ 因为/ 需要/ 采用/ 立体/ 视觉/ ,/ 所以/ 至少/ 需要/ 两个/ 相机/ ./ (/ 3/ )/ 因为/ 需要/ 估计/ 角膜/ 球面/ 中心/ 的/ 空间/ 位置/ ,/ 而/ 角膜/ 球面/ 中心/ 不/ 可见/ ,/ 需要/ 至少/ 两个/ 光源/ 的/ 像/ 去/ 估计/ 角膜/ 球面/ 中心/ 的/ 空间/ 位置/ ,/ 所以/ 至少/ 需要/ 两个/ 光源/ ./ (/ 4/ )/ 三维/ 视线/ 估计/ 的/ 精度/ 依赖于/ 立体/ 视觉/ 的/ 精度/ ,/ 对/ 硬件/ 配置/ 要求/ 较/ 高/ ./ (/ 5/ )/ 需要/ 进行/ 相机/ 标定/ ,/ 光源/ 位置/ 标定/ 和/ 屏幕/ 位置/ 标定/ ,/ 并且/ 三维/ 视线/ 估计/ 对/ 以上/ 位置/ 非常/ 敏感/ ,/ 相机/ 发生变化/ 不仅/ 要/ 对/ 自身/ 重新/ 进行/ 标定/ ,/ 而且/ 要/ 对/ 光源/ 和/ 屏幕/ 重新/ 进行/ 标定/ ,/ 光源/ 和/ 屏幕/ 发生变化/ 要/ 对/ 自身/ 重新/ 进行/ 标定/ ./ 二维/ 视线/ 估计/ 方法/ 有/ 以下/ 几个/ 优点/ :/ (/ 1/ )/ 因为/ 二维/ 视线/ 估计/ 仅/ 需要/ 使用/ 平面/ 眼睛/ 特征参数/ ,/ 眼睛/ 特征/ 识别/ 和/ 参数/ 提取/ 简单/ 快速/ ./ (/ 2/ )/ 因为/ 不/ 需要/ 采用/ 立体/ 视觉/ ,/ 所以/ 可以/ 使用/ 单/ 相机/ ./ (/ 3/ )/ 不/ 需要/ 估计/ 角膜/ 球面/ 中心/ 的/ 空间/ 位置/ ,/ 仅/ 需要/ 知道/ 平面/ 图像/ 上/ 的/ 一个/ 角膜/ 反射/ 与/ 瞳孔/ 中心/ 的/ 相对/ 位置/ 就/ 可以/ 进行/ 二维/ 视线/ 估计/ ,/ 所以/ 可以/ 采用/ 单/ 光源/ ./ (/ 4/ )/ 二维/ 视线/ 估计/ 的/ 精度/ 依赖于/ 用户/ 标定/ 算法/ 而/ 不/ 依赖于/ 立体/ 视觉/ ,/ 不/ 需要/ 进行/ 三维重建/ ,/ 对/ 硬件/ 配置/ 要求/ 较/ 低/ ./ (/ 5/ )/ 不/ 需要/ 进行/ 相机/ 标定/ 、/ 光源/ 位置/ 标定/ 和/ 屏幕/ 位置/ 标定/ ,/ 仅/ 需/ 进行/ 用户/ 标定/ ./ 同时/ ,/ 二维/ 视线/ 估计/ 方法/ 有/ 以下/ 几个/ 缺点/ :/ (/ 1/ )/ 二维/ 视线/ 估计/ 依赖于/ 标定/ 位置/ ,/ 视线/ 估计/ 的/ 精度/ 随着/ 使用者/ 头部/ 远离/ 标定/ 位置/ 而/ 迅速/ 下降/ ,/ 所以/ 使用者/ 需要/ 保持/ 头部/ 静止/ ./ (/ 2/ )/ 需要/ 依靠/ 标定/ 确定/ 眼睛/ 特征参数/ 与/ 视线/ 的/ 映射函数/ ,/ 所以/ 标/ 定点数/ 较/ 多/ ./ 为了/ 解决/ 以上/ 问题/ ,/ 提出/ 一种/ 新/ 的/ 基于/ 瞳孔/ -/ 角膜/ 反射/ 技术/ 的/ 视线/ 追踪/ 方法/ ,/ 包括/ 特征参数/ 提取/ 、/ 视线/ 映射函数/ 和/ 头部/ 位置/ 及/ 个体差异/ 补偿/ 算法/ ,/ 如图/ 2/ 所示/ ./ 图/ 2/ 本文/ 基于/ 瞳孔/ -/ 角膜/ 反射/ 技术/ 的/ 视线/ 追踪/ 方法/ 本文/ 创新/ 工作/ 主要/ 体现/ 在/ 以下/ 几个/ 方面/ :/ (/ 1/ )/ 利用/ 亮瞳/ 现象/ 提出/ 一种/ 新/ 的/ 基于/ 多通道/ 图像/ 的/ 亚/ 像素/ 瞳孔/ 定位/ 算法/ ./ (/ 2/ )/ 针对/ 角膜/ 反射/ 对/ 瞳孔/ 边缘/ 的/ 影响/ ,/ 提出/ 一种/ 基于/ 径向/ 距离/ 的/ 瞳孔/ 边缘/ 专用/ 滤波/ 算法/ (/ RDPEF/ 算法/ )/ ./ (/ 3/ )/ 针对/ 亮瞳/ 现象/ 提出/ 用于/ 瞳孔/ 跟踪/ 的/ 三/ 通道/ 伪/ 彩色/ 图/ (/ TCPCM/ )/ 的/ 概念/ ./ (/ 4/ )/ 结合/ 改进/ 的/ 粒子/ 滤波/ 算法/ ,/ 提出/ 一种/ 针对/ 实时/ 视线/ 追踪/ 的/ 伪/ 彩色/ 瞳孔/ 跟踪/ 算法/ ./ (/ 5/ )/ 提出/ 一种/ 单/ 相机/ 单/ 光源/ 条件/ 下/ 的/ 视线/ 估计/ 方法/ ,/ 在/ 保证/ 回归/ 和/ 泛化/ 能力/ 的/ 前提/ 下/ ,/ 减少/ 标/ 定点数/ 到/ 一点/ ./ (/ 6/ )/ 提出/ 了/ 一种/ 单/ 相机/ 单/ 光源/ 条件/ 下/ 头部/ 位置/ 的/ 补偿/ 算法/ ./ (/ 7/ )/ 提出/ 了/ 一种/ 单/ 相机/ 单/ 光源/ 条件/ 下/ 使用者/ 个体差异/ 的/ 转化/ 模型/ ./ CCD/ 、/ GPIO/ 卡/ 、/ 单片机/ 、/ 主机/ 和/ 屏幕/ 组成/ ./ 使用者/ 注视/ 屏幕/ ,/ 由/ CCD/ 摄像机/ 获取/ 人脸/ 图像/ ,/ 通过/ 图像/ 采集卡/ 传送/ 到/ 主机/ ,/ 主机/ 通过/ 特征参数/ 提取/ 和/ 视线/ 映射函数/ 来/ 得到/ 视线/ 落点/ ,/ 显示/ 在/ 屏/ 本文/ 硬件/ 系统/ 由/ 光源/ 、/ 滤光片/ 、/ 镜头/ 、/ 采集卡/ 、/ Page4/ 幕上/ ./ 另一方面/ ,/ 为了/ 得到/ 方便/ 处理/ 的/ 人脸/ 图像/ ,/ 采用/ GPIO/ 卡/ (/ GeneralPurposeInput/ // Output/ )/ 获取/ CDD/ 视频/ 图像/ 的/ 帧/ 同步/ 信号/ ,/ 再/ 通过/ 单片机/ 控制/ 光源/ 的/ 开关/ ./ 通过/ 内外/ 环/ 光源/ 的/ 交替/ 亮灭/ 产生/ 交替/ 的/ 亮/ 瞳/ 和/ 暗瞳/ 图像/ ./ 本文/ 硬件/ 系统结构/ 见图/ 3/ ./ 红外光/ 源/ 配置/ 见图/ 4.3/ 基于/ 眼睛/ 检测/ 和/ 跟踪/ 的/ 特征参数/ 提取/ 3.1/ 基于/ 主动/ 红外光/ 源/ 的/ 眼睛/ 检测/ 和/ 跟踪/ 传统/ 的/ 眼睛/ 检测/ 和/ 跟踪/ 方法/ 主要/ 利用/ 眼睛/ 在/ 外观/ 和/ 形状/ 上/ 与/ 人脸/ 其它/ 部分/ 的/ 差别/ ./ 眼睛/ 的/ 特点/ ,/ 如/ 黑色/ 的/ 瞳孔/ 、/ 白色/ 的/ 巩膜/ 、/ 圆形/ 的/ 虹膜/ 、/ 眼角/ 、/ 眼睛/ 的/ 形状/ 等/ ,/ 可以/ 用来/ 区分/ 人眼/ 与/ 其他/ 对象/ ./ 但/ 由于/ 闭眼/ 、/ 眨眼/ 、/ 眼睛/ 大小/ 和/ 位置/ 的/ 可变性/ 、/ 不同/ 的/ 照明/ 条件/ 、/ 人脸/ 的/ 方向/ 等/ 原因/ ,/ 这些/ 眼睛/ 的/ 特点/ 将/ 减小/ 甚至/ 消失/ ./ 基于/ 主动/ 红外光/ 源/ 的/ 眼睛/ 检测/ 和/ 跟踪/ 是/ 一种/ 简单/ 有效/ 的/ 方法/ ./ 其/ 利用/ 瞳孔/ 对近/ 红外光/ 的/ 反射/ 现象/ 定位/ 瞳孔/ ./ 有/ 很多/ 基于/ 此/ 原理/ 的/ 眼睛/ 追踪/ 系统/ [/ 25/ -/ 31/ ]/ ,/ 包括/ 一些/ 商业/ 产品/ [/ 12/ -/ 14/ ,/ 25/ ]/ ./ 其/ 依靠/ 主动/ 红外光/ 源/ 产生/ 的/ 亮/ 瞳/ 和/ 暗瞳/ 效果/ ./ Ebisawa/ 等/ [/ 26/ ]/ 利用/ 两个/ 红外光/ 源/ (/ 近轴/ 光源/ 和/ 远/ 轴/ 光源/ )/ 产生/ 亮瞳/ 和/ 暗瞳/ 图像/ ./ 通过/ 跟踪/ 差分/ 图像/ 中/ 的/ 亮/ 瞳孔/ ,/ 可以/ 有效/ 地/ 跟踪/ 眼睛/ ./ Ebisawa/ 在/ 文献/ [/ 27/ ]/ 中/ 进一步/ 改善/ 其/ 方法/ ,/ 利用/ 瞳孔/ 亮度/ 的/ 稳定性/ ,/ 来/ 消除/ 眼镜/ 反光/ 的/ 影响/ ./ Morimoto/ [/ 28/ ]/ 利用/ 两个/ 红外光/ 源/ 产生/ 亮瞳/ 和/ 暗瞳/ 图像/ ,/ 在/ 阈值/ 化后/ 的/ 差分/ 图像/ 中/ 检测/ 瞳孔/ ./ Morimoto/ [/ 29/ ]/ 针对/ 不同/ 光照/ 条件/ 下/ 的/ 眼睛/ 检测/ 和/ 跟踪/ 做/ 了/ 一些/ 工作/ ,/ 通过/ 动态/ 的/ 设置/ 差分/ 图像/ 的/ 阈值/ 来/ 消除/ 背景/ 的/ 影响/ ./ Haro/ [/ 30/ ]/ 在/ 亮/ 瞳/ 和/ 暗瞳/ 的/ 基础/ 上/ ,/ 结合/ 眼睛/ 的/ 外观/ ,/ 进行/ 眼睛/ 检测/ 和/ 跟踪/ ./ Ji/ 等/ [/ 31/ ]/ 对/ 差分/ 图像/ 进行/ 滤波/ ,/ 以/ 消除/ 外部/ 光线/ 干扰/ ./ 3.2/ 特征参数/ 提取/ 框架/ 特征参数/ 提取/ 是/ 视线/ 估计/ 的/ 前提/ ,/ 本文/ 提取/ 瞳孔/ 中心/ 到/ 角膜/ 反射/ 的/ 向量/ 作为/ 视线/ 估计/ 的/ 依据/ ./ 特征参数/ 提取/ 需要/ 满足/ 以下几点/ 要求/ :/ (/ 1/ )/ 眼睛/ 检测/ 与/ 跟踪/ 的/ 特征参数/ 提取/ 过程/ 是/ 自动/ 的/ ,/ 不/ 需要/ 使用者/ 干预/ ./ (/ 2/ )/ 整个/ 特征参数/ 提取/ 过程/ 快速/ 准确/ ,/ 满足/ 视线/ 估计/ 对/ 参数/ 的/ 精度/ 和/ 实时性/ 要求/ ./ (/ 3/ )/ 能够/ 提取/ 用于/ 视线/ 估计/ 的/ 所有/ 特征参数/ ,/ 包括/ 估计/ 头部/ 位置/ 所/ 需要/ 的/ 参数/ ./ (/ 4/ )/ 特征参数/ 提取/ 过程/ 能/ 适应/ 个体差异/ ,/ 不/ 因为/ 眼睛/ 大小/ 、/ 形态/ 个体差异/ 而/ 影响/ 算法/ 性能/ ./ 特征提取/ 方面/ 影响/ 最终/ 视线/ 估计/ 精度/ 的/ 原因/ 主要/ 有/ 以下几点/ :/ (/ 1/ )/ 角膜/ 反射/ 造成/ 瞳孔/ 轮廓/ 改变/ ,/ 造成/ 瞳孔/ 定位/ 误差/ ./ (/ 2/ )/ 瞳孔/ 运动/ 造成/ 差分/ 图像/ 瞳孔/ 区域/ 不全/ ,/ 造成/ 运动/ 瞳孔/ 定位/ 误差/ ./ (/ 3/ )/ 角膜/ 反射/ 形状/ 的/ 不规则/ 和/ 边界/ 的/ 不确定性/ 造成/ 角膜/ 反射/ 中心/ 定位/ 误差/ ./ (/ 4/ )/ 作为/ 头动/ 补偿/ 的/ 其它/ 特征参数/ 产生/ 的/ 误差/ ./ 瞳孔/ 及/ 角膜/ 反射/ 中心/ 定位/ 是/ 本文/ 视线/ 追踪/ 系统/ 实现/ 的/ 必要/ 步骤/ ,/ 为/ 满足/ 上述/ 要求/ ,/ 并/ 针对/ 影响/ 特征提取/ 精度/ 的/ 主要/ 原因/ ,/ 本文/ 提出/ 一种/ 基于/ 多通道/ 图像/ 的/ 特征参数/ 提取/ 方法/ ./ 在/ 追求/ 高精度/ 亚/ 像素/ 特/ Page5/ 征/ 参数/ 提取/ 及/ 鲁棒性/ 方面/ 做/ 了/ 如下/ 研究/ :/ (/ 1/ )/ 角膜/ 反射/ 是/ 造成/ 瞳孔/ 轮廓/ 改变/ 的/ 主要/ 因素/ ,/ 是/ 影响/ 瞳孔/ 中心/ 定位精度/ 的/ 主要/ 因素/ 之一/ ./ 针对/ 角膜/ 反射/ 对/ 瞳孔/ 边缘/ 的/ 影响/ ,/ 提出/ 一种/ 基于/ 径向/ 距离/ 的/ 瞳孔/ 边缘/ 专用/ 滤波/ 算法/ (/ RDPEF/ 算法/ )/ ,/ 提高/ 了/ 瞳孔/ 定位/ 的/ 精度/ ./ (/ 2/ )/ 瞳孔/ 运动/ 造成/ 差分/ 图像/ 瞳孔/ 区域/ 不全是/ 造成/ 运动/ 瞳孔/ 定位/ 误差/ 的/ 主要/ 因素/ ,/ 通过/ 迭代/ 扩展/ 的/ 方式/ 还原/ 运动/ 瞳孔/ 区域/ ,/ 提高/ 了/ 运动/ 瞳孔/ 定位/ 的/ 精度/ ./ (/ 3/ )/ 角膜/ 反射/ 区域/ 形状/ 的/ 不规则/ 和/ 边界/ 的/ 不确定性/ 是/ 造成/ 角膜/ 反射/ 区域/ 定位/ 误差/ 的/ 主要/ 因素/ ,/ 通过/ 多/ 阈值/ 分割/ 角膜/ 反射/ 的/ 模糊/ 区域/ ,/ 减小/ 了/ 模糊/ 的/ 边界/ 区域/ 对/ 质心/ 结果/ 的/ 影响/ ./ (/ 4/ )/ 建立/ 了/ 一个多/ 特征参数/ 提取/ 的/ 流程/ ,/ 提取/ 人眼/ 特征/ 的/ 多个/ 参数/ ,/ 为/ 下/ 一步/ 的/ 视线/ 估计/ 提供/ 了/ 参数/ 依据/ ./ 本文/ 提出/ 的/ 检测/ 方法/ 优于/ 通常/ 采用/ 的/ 阈值/ 分割/ 方法/ ,/ 实验/ 结果/ 及/ 系统/ 实际/ 应用/ 证明/ 了/ 本文/ 方法/ 的/ 有效性/ ./ 下面/ 介绍/ 该/ 方法/ 的/ 整个/ 流程/ 和/ 关键步骤/ ./ 本文/ 方法/ 整个/ 流程/ 如图/ 5/ 所示/ ./ 首先/ ,/ 亮瞳/ (/ 图/ 6/ (/ a/ )/ )/ 与/ 暗瞳/ 图像/ (/ 图/ 6/ (/ b/ )/ )/ 相减/ 得到/ 差分/ 图像/ (/ 图/ 6/ (/ c/ )/ )/ ,/ 对/ 差分/ 图像/ 做/ 滤波/ ,/ 得到/ 瞳孔/ 区域/ ./ 检测/ 瞳孔/ 区域/ 的/ 边缘/ (/ 图/ 7/ (/ a/ )/ )/ 并/ 在/ 眼睛/ 区域/ 附近/ 基于/ 灰度/ 搜索/ 角膜/ 反射/ (/ 图/ 7/ (/ b/ )/ )/ ./ 求/ 质心/ 定位/ 角膜/ 反射/ 中心/ (/ 图/ 7/ (/ e/ )/ )/ ,/ 并/ 对/ 瞳孔/ 边缘/ 做/ 滤波/ 消除/ 角膜/ 反射/ 对/ 瞳孔/ 边缘/ 轮廓/ 的/ 影响/ (/ 图/ 7/ (/ c/ )/ )/ ,/ 椭圆/ 拟合/ 定位/ 瞳孔/ 中心/ ,/ 得到/ 亚/ 像素/ 的/ 中心/ 坐标/ (/ 图/ 7/ (/ e/ )/ )/ ./ 最后/ 提取/ 的/ 视线/ 特征向量/ 犔/ t/ (/ 图/ 7/ (/ f/ )/ )/ 如下/ :/ 其中/ (/ Δ/ x/ ,/ Δ/ y/ )/ =/ pipjp/ -/ picjc/ 为/ 瞳孔/ 中心/ 到/ 角膜/ 反射/ 的/ 向量/ ,/ amajoraminor/ 圆/ 长轴/ 与/ 垂直/ 方向/ 的/ 角度/ ,/ (/ ip/ ,/ jp/ )/ 为/ 瞳孔/ 中心/ 在/ 图像/ 中/ 的/ 位置/ ,/ (/ ic/ ,/ jc/ )/ 为/ 角膜/ 反射/ 在/ 图像/ 中/ 的/ 位置/ ./ 使用者/ 1/ 的/ 部分/ 数据/ 见表/ 1/ ./ (/ 4.870/ ,/ 11.207/ ,/ 1.213/ ,/ 117.552/ ,/ 287.637/ ,/ 437.932/ )/ (/ 88/ ,/ 86/ )/ (/ -/ 0.880/ ,/ 11.357/ ,/ 1.058/ ,/ 65.256/ ,/ 231.91/ ,/ 443.770/ )/ (/ 726/ ,/ 34/ )/ (/ -/ 6.269/ ,/ 10.866/ ,/ 1.139/ ,/ 54.755/ ,/ 185.966/ ,/ 453.136/ )/ (/ 1216/ ,/ 75/ )/ (/ 5.159/ ,/ 7.824/ ,/ 1.057/ ,/ 147.106/ ,/ 213.819/ ,/ 459.712/ )/ (/ 42/ ,/ 469/ )/ (/ -/ 0.901/ ,/ 7.718/ ,/ 1.066/ ,/ 12.618/ ,/ 199.004/ ,/ 467.304/ )/ (/ 707/ ,/ 387/ )/ (/ -/ 7.231/ ,/ 7.710/ ,/ 1.142/ ,/ 42.529/ ,/ 177.404/ ,/ 471.379/ )/ (/ 1205/ ,/ 384/ )/ (/ 5.063/ ,/ 3.783/ ,/ 1.182/ ,/ 256.705/ ,/ 208.628/ ,/ 475.365/ )/ (/ 26/ ,/ 860/ )/ (/ -/ 0.979/ ,/ 3.287/ ,/ 1.140/ ,/ 3.635/ ,/ 196.633/ ,/ 477.365/ )/ (/ 581/ ,/ 800/ )/ (/ -/ 6.922/ ,/ 3.617/ ,/ 1.104/ ,/ 13.373/ ,/ 173.485/ ,/ 485.351/ )/ (/ 1201/ ,/ 874/ )/ 3.2/ ./ 1/ 瞳孔/ 运动/ 补偿/ 提取/ 差分/ 图像/ 眼睛/ 区域/ 的/ 边缘/ 之前/ ,/ 要/ 消除/ 瞳孔/ 运动/ 对/ 差分/ 图像/ 瞳孔/ 区域/ 的/ 影响/ ./ 瞳孔/ 运动/ 造成/ 亮/ 暗瞳/ 图像/ 瞳孔/ 区域/ 不/ 完全/ 重合/ ,/ 以至/ 差分/ 图像/ 瞳孔/ 区域/ 不/ 完全/ 是/ 造成/ 运动/ 瞳孔/ 定位/ 误差/ 的/ 主要/ 因素/ ,/ 本/ 步骤/ 通过/ 迭代/ 扩展/ 的/ 方式/ 还原/ 运动/ 瞳孔/ 区域/ ,/ 规则/ 如下/ :/ Page6mapG/ =/ BLOBdomapG/ =/ mapG/ ∪/ {/ pdij/ |/ (/ / Ppq/ )/ (/ Ppq/ ∈/ mapG/ ∧/ pdij/ / untilmapGconvergence/ ./ 对/ 滤波/ 后/ 的/ 瞳孔/ 区域/ BLOB/ 进行/ 扩展/ ,/ 在/ 与/ BLOB/ 边界/ 相邻/ 的/ 像素/ 中/ ,/ 迭代/ 搜索/ 暗瞳/ 像素/ 灰度/ pdij/ 小于/ 暗瞳/ 灰度/ 阈值/ thres1/ 的/ 像素/ 并/ 将/ 其/ 加入/ 扩展/ 后/ 的/ 瞳孔/ 区域/ mapG/ ,/ 直至/ mapG/ 收敛/ ./ 3.2/ ./ 2/ 质心/ 定位/ 角膜/ 反射/ 中心/ 求解/ 求/ 角膜/ 反射/ 中心/ 的/ 方法/ 一般/ 有/ 两种/ :/ 一种/ 是/ 先求/ 角膜/ 反射/ 的/ 轮廓/ ,/ 然后/ 对/ 角膜/ 反射/ 边缘/ 进行/ 椭圆/ 拟合/ ,/ 通过/ 拟合/ 椭圆/ 的/ 中心/ 估计/ 角膜/ 反射/ 中心/ [/ 17/ ]/ ;/ 另/ 一种/ 是/ 通过/ 质心/ 来/ 估计/ 角膜/ 反射/ 中心/ ./ 文献/ [/ 8/ ]/ 在/ 差分/ 阈值/ 化后/ 的/ 二值/ 图像/ 中求/ 角膜/ 反射/ 区域/ 的/ 质心/ ,/ 并且/ 通过/ 500/ 个/ 样本/ 比较/ 了/ 两种/ 方法/ 的/ 效果/ ,/ 结果/ 是/ 两种/ 方法/ 精度/ 相当/ ./ 由于/ 角膜/ 反射/ 区域/ 边界/ 的/ 不确定性/ ,/ 图像/ 二值/ 化时/ 采用/ 的/ 阈值/ 对/ 最后/ 的/ 角膜/ 反射/ 中心/ 估计/ 结果/ 有/ 较大/ 影响/ ./ 本文/ 通过/ 以下/ 两种/ 方法/ 来/ 减小/ 角膜/ 反射/ 中心/ 的/ 估计/ 误差/ :/ (/ 1/ )/ 采用/ 多个/ 阈值/ 分别/ 分割/ 出/ 多个/ 角膜/ 反射/ 区域/ ,/ 对/ 各个/ 区域/ 分别/ 求/ 质心/ 后/ 的/ 平均/ 结果/ 作为/ 角膜/ 反射/ 中心/ ./ (/ 2/ )/ 分割/ 出/ 多个/ 角膜/ 反射/ 区域/ 后/ ,/ 不/ 在/ 二值/ 图像/ 中/ 而/ 在/ 暗瞳/ 图像/ 中求/ 质心/ ,/ 因为/ 角膜/ 反射/ 中心/ 是/ 角膜/ 反射/ 区域/ 中/ 最亮/ 的/ 部分/ ,/ 越往/ 边界/ 亮度/ 越低/ ,/ 这样/ 可以/ 减小/ 模糊/ 的/ 边界/ 区域/ 对/ 质心/ 结果/ 的/ 影响/ ./ 具体方法/ 如下/ :/ 首先/ ,/ 采用/ 多个/ 阈值/ 分别/ 分割/ 出/ 多个/ 角膜/ 反射/ 区域/ :/ k/ =/ 1k/ =/ 1/ 然后/ ,/ 对/ 各个/ 区域/ 分别/ 求/ 质心/ ,/ 将/ 各个/ 区域/ 质心/ ickK/ =/ ∑/ KjckK/ =/ ∑/ K/ 的/ 平均值/ 作为/ 角膜/ 反射/ 中心/ :/ ic/ =/ ∑/ Kjc/ =/ ∑/ K/ 式/ 中/ ,/ (/ ick/ ,/ jck/ )/ 分别/ 为/ 区域/ blobpurk/ 的/ 质心/ ,/ (/ ic/ ,/ jc/ )/ 为/ 最后/ 估计/ 的/ 角膜/ 反射/ 质心/ ,/ 如图/ 7/ (/ e/ )/ 所示/ ./ 3.2/ ./ 3/ 边缘/ 滤波/ 角膜/ 反射/ 是/ 造成/ 瞳孔/ 轮廓/ 改变/ 的/ 主要/ 因素/ ,/ 是/ 影响/ 瞳孔/ 中心/ 定位精度/ 的/ 主要/ 因素/ 之一/ ./ 文献/ [/ 32/ ]/ 通过/ 迭代/ 逼近/ 的/ 方法/ 定位/ 瞳孔/ 中心/ ,/ 可以/ 在/ 部分/ 情况/ 下/ 减小/ 角膜/ 反射/ 对/ 瞳孔/ 椭圆/ 拟合/ 的/ 影响/ ,/ 但是/ 该/ 方法/ 存在/ 以下几点/ 问题/ :/ (/ 1/ )/ 当/ 角膜/ 反射/ 在/ 瞳孔/ 内部/ 而/ 不/ 与/ 瞳孔/ 轮廓/ 相交/ 的/ 情况/ 下会/ 造成/ 错误/ 滤波/ ,/ 造成/ 瞳孔/ 中心/ 定位/ 错误/ ./ (/ 2/ )/ 有些/ 使用者/ 的/ 角膜/ 反射/ 较大/ ,/ 而/ 瞳孔/ 较/ 小/ ,/ 这种/ 情况/ 下该/ 滤波/ 算法/ 不能/ 有效/ 地/ 消除/ 角膜/ 反射/ 产生/ 的/ 边缘/ ./ (/ 3/ )/ 迭代/ 方法/ 效率/ 较/ 低/ ,/ 增加/ 处理/ 时间/ ./ 为了/ 有效/ 消除/ 角膜/ 反射/ 对/ 瞳孔/ 椭圆/ 拟合/ 的/ 影响/ ,/ 首先/ 判断/ 角膜/ 反射/ 与/ 瞳孔/ 椭圆/ 的/ 相对/ 位置/ ,/ 当/ 角膜/ 反射/ 与/ 瞳孔/ 椭圆/ 相离/ 时/ ,/ 角膜/ 反射/ 对/ 瞳孔/ 轮廓/ 无/ 影响/ ,/ 不/ 需要/ 进行/ 滤波/ ,/ 当/ 角膜/ 反射/ 与/ 瞳孔/ 椭圆/ 相交/ 或/ 包含/ 时/ ,/ 角膜/ 反射/ 改变/ 瞳孔/ 轮廓/ ,/ 需要/ 进行/ 滤波/ ./ 理想/ 的/ 实心/ 椭圆/ 区域/ 是/ 一个/ 有界/ 严凸集/ ,/ 其/ 边界/ 是/ 一个/ 具有/ 严格凸/ 性/ 的/ 全局/ 闭凸/ 曲线/ ,/ 即使/ 由于/ 采样/ 误差/ 和/ 离散/ 误差/ ,/ 图像/ 中/ 瞳孔/ 的/ 边界/ 也/ 应该/ 是/ 一个/ 全局/ 闭凸/ 曲线/ ,/ 正是/ 由于/ 角膜/ 反射/ 的/ 存在/ ,/ 对/ 瞳孔/ 边界/ 产生/ 了/ 较大/ 的/ 影响/ ./ 本文/ 通过/ 对/ 瞳孔/ 边界/ 求凸壳/ 来/ 还原/ 瞳孔/ 区域/ ,/ 用/ 还原/ 后/ 的/ 瞳孔/ 区域/ 去/ 判断/ 与/ 角膜/ 反射/ 的/ 位置/ 关系/ ./ 本文/ 采用/ 一种/ 简单/ 快速/ 的/ 凸壳/ 检测/ 算法/ ,/ 其/ 时间/ 复杂度/ 为/ 1logN/ [/ 33/ ]/ ./ 在/ 此基础/ 上/ ,/ 本文/ 提出/ 一种/ 基于/ 径向/ 距离/ 的/ 瞳孔/ 边缘/ 专用/ 滤波/ 算法/ (/ RDPEF/ 算法/ )/ ./ 规则/ 如下/ :/ mapK/ {/ =/ pij/ |/ pij/ ∈/ mapH/ ∧/ (/ / ppq/ )/ ifconvexhull/ (/ mapH/ )/ ∩/ blobpurK/ ≠/ / elsemapK/ =/ mapH/ ./ 首先/ ,/ 判断/ 通过/ 凸壳/ 算法/ 还原/ 后/ 的/ 瞳孔/ 区域/ convexhull/ (/ mapH/ )/ 与/ 角膜/ 反射/ 区域/ blobpurK/ 的/ 位置/ 关系/ ,/ 当/ 角膜/ 反射/ 与/ 瞳孔/ 椭圆/ 相离/ 时/ 不/ 进行/ 滤波/ ,/ 当/ 角膜/ 反射/ 与/ 瞳孔/ 椭圆/ 相交/ 或/ 包含/ 时/ 进行/ 滤波/ ./ 在/ 瞳孔/ 边缘/ mapH/ 中/ ,/ 以/ 角膜/ 反射/ 中心/ picjc/ 为/ 圆心/ ,/ 在/ 每/ 一个/ 半径/ 方向/ 上/ ,/ 如果/ 存在/ 两点/ pij/ 和/ ppq/ ,/ pij/ 到/ 角膜/ 反射/ 中心/ picjc/ 的/ 直线/ 的/ 斜率/ j/ -/ jci/ -/ icppq/ 到/ 角膜/ 反射/ 中心/ picjc/ 的/ 直线/ 的/ 斜率/ q/ -/ jc/ 即/ pij/ 和/ ppq/ 在/ 同一/ 半径/ 方向/ 上/ ,/ 远端/ 边缘/ 点为/ 瞳孔/ 形成/ 的/ 边缘/ ,/ 近端/ 边缘/ 点为/ 角膜/ 反射/ 形成/ 的/ 边缘/ ,/ 过滤/ 掉/ 角膜/ 反射/ 形成/ 的/ 边缘/ 后/ 的/ 眼睛/ 区域/ 边缘/ 如图/ 7/ (/ c/ )/ 所示/ ./ RDPEF/ 算法/ 示意图/ 如图/ 8/ 所示/ ./ 3.3/ 眼睛/ 跟踪/ 以上/ 的/ 参数/ 提取/ 过程/ 在/ 相邻/ 两帧/ 中/ 完成/ ,/ 可以/ 在/ 接下来/ 的/ 视频/ 序列/ 中/ 重复/ 进行/ 以上/ 参数/ 提取/ 过程/ ,/ 得到/ 实时/ 的/ 视线/ 参数/ ./ 但是/ 这样/ 做/ 有/ 下面/ 两点/ 问/ Page7/ 题/ :/ (/ 1/ )/ 每次/ 在/ 整幅/ 图像/ 中/ 搜索/ 瞳孔/ ,/ 效率/ 低/ ,/ 时间/ 长/ ,/ 影响/ 系统/ 的/ 实时性/ ./ (/ 2/ )/ 由于/ 没有/ 使用/ 瞳孔/ 的/ 历史/ 信息/ ,/ 使/ 瞳孔/ 定位/ 的/ 鲁棒性/ 差/ ,/ 对外部/ 光照/ 、/ 眼睛/ 角度/ 、/ 眨眼/ 等/ 情况/ 的/ 适应性/ 差/ ,/ 不能/ 满足/ 系统/ 的/ 鲁棒性/ 要求/ ./ 所以/ 在/ 初始/ 帧/ 中/ 对/ 瞳孔/ 进行/ 定位/ 以后/ ,/ 需要/ 在/ 接下来/ 的/ 视频/ 序列/ 中/ 对/ 瞳孔/ 进行/ 跟踪/ ./ Ebisawa/ 和/ Satoh/ [/ 26/ ]/ 利用/ 亮/ 暗瞳/ 现象/ 跟踪/ 瞳孔/ ,/ 其后/ ,/ 卡尔曼滤波/ [/ 31/ ]/ 、/ 均值/ 漂移/ [/ 34/ ]/ 、/ 组合/ 卡尔曼滤波/ 与/ 均值/ 漂移/ [/ 35/ ]/ ,/ 相继/ 被/ 用于/ 瞳孔/ 跟踪/ ./ 这些/ 方法/ 依赖于/ 瞳孔/ 的/ 外观/ ,/ 跟踪/ 效果/ 仍然/ 受/ 外部/ 光照/ 、/ 眼睛/ 角度/ 等/ 条件/ 的/ 影响/ ,/ 对于/ 眨眼/ 的/ 跟踪/ 效果/ 较差/ [/ 36/ ]/ ./ 瞳孔/ 运动/ 具有/ 以下/ 特点/ :/ (/ 1/ )/ 由于/ 头部/ 运动/ 和/ 眼球/ 运动/ 的/ 随机性/ ,/ 瞳孔/ 运动/ 属于/ 非线性/ 、/ 非/ 高斯/ 问题/ ./ (/ 2/ )/ 由于/ 眨眼/ 和/ 闭眼/ 的/ 存在/ ,/ 瞳孔/ 目标/ 存在/ 固有/ 的/ 遮挡/ 和/ 消失/ 问题/ ./ 由于/ 以上/ 原因/ ,/ 卡尔曼滤波/ 与/ 均值/ 漂移/ 不能/ 很/ 好/ 地/ 跟踪/ 瞳孔/ ./ 粒子/ 滤波/ 是/ 处理/ 非线性/ 、/ 非/ 高斯/ 问题/ 的/ 有效/ 工具/ ,/ 可以/ 处理/ 由于/ 眨眼/ 和/ 闭眼/ 造成/ 的/ 瞳孔/ 目标/ 遮挡/ 和/ 消失/ 问题/ ./ 文献/ [/ 20/ ]/ 采用/ 粒子/ 滤波/ 对/ 虹膜/ 进行/ 跟踪/ ,/ 文献/ [/ 37/ ]/ 采用/ 粒子/ 滤波/ 对/ 瞳孔/ 进行/ 跟踪/ ./ 但是/ 这些/ 粒子/ 滤波/ 跟踪/ 方法/ 没有/ 考虑/ 瞳孔/ 目标/ 的/ 形状/ 特点/ ,/ 瞳孔/ 目标/ 区域/ 是/ 椭圆/ 的/ ,/ 通常/ 的/ 矩形/ 目标/ 模型/ 不能/ 有效/ 区分/ 瞳孔/ 前后/ 景/ ./ 用于/ 实时/ 视线/ 追踪/ 系统/ 的/ 瞳孔/ 跟踪/ 需要/ 满足/ 以下几点/ 要求/ :/ (/ 1/ )/ 由于/ 采用/ 的/ 是/ 灰度/ 图像/ ,/ 所以/ 必须/ 充分利用/ 亮瞳/ 和/ 暗瞳/ 两个/ 通道/ 的/ 图像/ 信息/ ,/ 以/ 增加/ 跟踪/ 的/ 鲁棒性/ ./ (/ 2/ )/ 由于/ 瞳孔/ 尺寸/ 较/ 小/ ,/ 所以/ 必须/ 选择/ 一种/ 能/ 充分/ 区分/ 前景/ 和/ 背景/ 的/ 目标/ 模型/ ,/ 以/ 减小/ 背景/ 对/ 目标/ 模型/ 的/ 干扰/ ./ 为/ 满足/ 上述/ 要求/ ,/ 并/ 针对/ 现有/ 瞳孔/ 跟踪/ 方法/ 的/ 不足/ ,/ 本文/ 提出/ 一种/ 基于/ 伪/ 彩色/ 图/ 的/ 粒子/ 滤波/ 瞳孔/ 跟踪/ 算法/ ,/ 解决/ 了/ 视线/ 追踪/ 系统/ 中/ 红外/ 图像/ 瞳孔/ 跟踪/ 鲁棒性/ 差/ 的/ 问题/ ./ 工作/ 主要/ 体现/ 在/ 以下/ 几个/ 方面/ :/ (/ 1/ )/ 利用/ 亮/ 暗瞳/ 现象/ ,/ 提出/ 三/ 通道/ 伪/ 彩色/ 图/ (/ TCPCM/ )/ 的/ 概念/ ,/ 并/ 将/ 其/ 引入/ 瞳孔/ 跟踪/ 过程/ ,/ TCPCM/ 充分利用/ 了/ 各/ 通道/ 信息/ ,/ 瞳孔/ 特征/ 明显/ ,/ 瞳孔/ 区域/ 的/ 色彩/ 明显/ 与/ 人脸/ 其它/ 部位/ 不同/ ,/ 提高/ 了/ 跟踪/ 的/ 稳定性/ 与/ 精确性/ ./ (/ 2/ )/ 建立/ 一种/ 符合/ 瞳孔/ 形态/ 特征/ 和/ 变化规律/ 的/ 瞳孔/ 目标/ 模型/ ,/ 充分/ 区分/ 前景/ 和/ 背景/ ,/ 减小/ 了/ 背景/ 对/ 目标/ 模型/ 的/ 干扰/ ./ 下面/ 介绍/ 该/ 方法/ 的/ 整个/ 流程/ 和/ 关键步骤/ ./ 跟踪/ 方法/ 框架/ 如图/ 9/ 所示/ ./ 本文/ 提出/ 基于/ 三/ 通道/ 伪/ 彩色/ 图/ (/ Triple/ -/ ChannelPseudo/ -/ ColorMap/ ,/ TCPCM/ )/ 的/ 瞳孔/ 跟踪/ ,/ TCPCM/ 定义/ 如下/ :/ TCPCM/ =/ {/ pij/ |/ p1ij/ =/ pbij/ ∧/ p2ij/ =/ pdij/ ∧/ p3ij/ =/ blobij/ }/ ,/ 式/ 中/ ,/ p1ij/ ,/ p2ij/ ,/ p3ij/ 分别/ 为/ TCPCM/ 的/ 3/ 个/ 通道/ 上/ 的/ 像素点/ ,/ pbij/ 为亮/ 瞳/ 图像/ 的/ 像素点/ ,/ pbij/ 为/ 暗瞳/ 图像/ 的/ 像素点/ ,/ blobij/ 为/ 差分/ 图像/ 滤波/ 后/ 瞳孔/ 图像/ 的/ 像素点/ ./ TCPCM/ 为/ 三/ 通道/ 伪/ 彩色/ 图/ ,/ 如图/ 10/ 所示/ ./ 红外/ 图像/ 中/ ,/ 瞳孔/ 的/ 灰度/ 与/ 脸部/ 其它/ 区域/ 比较/ 接近/ ,/ 特征/ 不/ 明显/ ,/ 区分度/ 较/ 低/ ./ TCPCM/ 充分利用/ 了/ 各/ 通道/ 信息/ ,/ 瞳孔/ 特征/ 较/ 明显/ ,/ 瞳孔/ 区域/ 的/ 色彩/ 明显/ 与/ 人脸/ 其它/ 部位/ 不同/ ,/ 提高/ 了/ 跟踪/ 的/ 稳定性/ 与/ 精确性/ ./ Page8/ 特征参数/ 提取/ 成功/ 时/ ,/ 记录/ 目标/ 模型/ ./ 本文/ 根据/ 瞳孔/ 的/ 形态/ 特征/ 和/ 运动/ 特征/ ,/ 提出/ 一种/ 用于/ 跟踪/ 的/ 瞳孔/ 模型/ ./ 瞳孔/ 状态/ X/ 由/ 9/ 个/ 状态变量/ 描述/ :/ Xt/ =/ (/ cx/ ,/ cy/ ,/ amajor/ ,/ aminor/ ,/ θ/ ,/ vx/ ,/ vy/ ,/ a/ ·/ ,/ θ/ ·/ )/ ,/ 式/ 中/ ,/ cx/ ,/ cy/ 为/ 瞳孔/ 椭圆/ 的/ 中心/ ,/ amajor/ ,/ aminor/ 为/ 瞳孔/ 椭圆/ 的/ 长轴/ 与/ 短/ 轴/ ,/ θ/ 为/ 瞳孔/ 椭圆/ 长轴/ 与/ 垂直/ 方向/ 的/ 角度/ ,/ vx/ ,/ vy/ 为/ 瞳孔/ 椭圆/ 分别/ 在/ x/ 和/ y/ 方向/ 的/ 运动/ 速度/ ,/ a/ ·/ 为/ 瞳孔/ 椭圆/ 尺度/ 的/ 变化率/ ,/ θ/ ·/ 为/ 瞳孔/ 椭圆/ 方向/ θ/ 的/ 变化率/ ./ 记录/ 目标/ 时/ ,/ cx/ ,/ cy/ ,/ amajor/ ,/ aminor/ ,/ θ/ 已经/ 在/ 特征参数/ 提取/ 环节/ 中/ 得到/ ,/ vx/ ,/ vy/ ,/ a/ ·/ ,/ θ/ ·/ 初始/ 设置/ 为/ 零/ ./ 瞳孔/ 初始状态/ 如图/ 11/ 所示/ ./ 计算/ 目标/ 区域/ X/ 的/ 加权/ 直方图/ 时/ 采用/ d/ (/ x/ )/ =/ xx/ -/ cxamaj/ (/ )/ or/ 线/ 距离/ ”/ ,/ 作为/ 衡量/ 瞳孔/ 像素点/ 重要性/ 加权/ 的/ 依据/ ,/ d/ (/ x/ )/ 越小/ ,/ 像素/ 权值/ 越大/ ./ d/ (/ x/ )/ 相同/ 的/ 点/ 构成/ 一条/ 椭圆/ 曲线/ ,/ 该/ 曲线/ 上/ 的/ 点/ 具有/ 相同/ 的/ 灰度/ 值/ ./ 瞳孔/ 椭圆/ 轮廓线/ 的/ d/ (/ x/ )/ 等于/ 1/ ,/ 向/ 瞳孔/ 中心点/ 方向/ d/ (/ x/ )/ 逐渐/ 减小/ ,/ 直至/ d/ (/ x/ )/ 等于/ 0/ 时/ ,/ 等/ 灰度/ 线为/ 瞳孔/ 椭圆/ 中心点/ ./ 4/ 视线/ 估计/ 4.1/ 基于/ 二维/ 映射/ 模型/ 的/ 视线/ 估计/ 方法/ 基于/ 二维/ 映射/ 模型/ 的/ 视线/ 估计/ 方法/ ,/ 通过/ 一个/ 经过/ 标定/ 的/ 视线/ 映射函数/ 来/ 估计/ 视线/ 方向/ ,/ 映射函数/ 的/ 输入/ 是从/ 眼睛/ 图像/ 提取/ 的/ 一系列/ 二维/ 眼动/ 特征/ ,/ 输出/ 是/ 视线/ 注视点/ ./ 二维/ 映射/ 模型/ 不/ 需要/ 估计/ 三维/ 的/ 视线/ 方向/ ,/ 所以/ 不/ 需要/ 使用/ 立体/ 视觉/ 系统/ ,/ 不/ 需要/ 进行/ 相机/ 的/ 标定/ ,/ 不/ 需要/ 进行/ 光源/ 和/ 屏幕/ 三维/ 位置/ 的/ 标定/ ,/ 为/ 低/ 硬件/ 配置/ 条件/ 下/ 的/ 视线/ 估计/ 提供/ 了/ 有效/ 的/ 解决方案/ ./ 提取/ 的/ 二维/ 眼动/ 特征/ 随/ 视线/ 而/ 变化/ ,/ 使/ 它们/ 之间/ 的/ 关系/ 可以/ 由/ 一个/ 视线/ 映射函数/ 来/ 表示/ ./ 为了/ 得到/ 视线/ 映射函数/ ,/ 需要/ 对/ 每个/ 使用者/ 进行/ 在线/ 标定/ ./ 但是/ ,/ 二维/ 眼动/ 特征/ 随着/ 头部/ 位置/ 的/ 变化/ 而/ 显著/ 变化/ ,/ 因此/ ,/ 标定/ 的/ 视线/ 映射函数/ 对/ 头部/ 位置/ 非常/ 的/ 敏感/ [/ 22/ ]/ ./ 因此/ ,/ 为了/ 得到/ 准确/ 的/ 注视点/ ,/ 使用者/ 需要/ 保持/ 头部/ 静止/ ./ 如果/ 使用者/ 保持/ 其/ 头部/ 固定/ ,/ 或/ 通过/ 支架/ 限制/ 其/ 头部/ 活动/ ,/ 眼睛/ 注视点/ 跟踪/ 的/ 结果/ 可以/ 达到/ 非常/ 高/ 的/ 精度/ ./ 平均误差/ 可以/ 小于/ 1/ °/ (/ 对应/ 在/ 计算机屏幕/ 上/ 小于/ 10mm/ )/ ./ 但是/ 如果/ 头部/ 离开/ 使用者/ 标定/ 时/ 的/ 位置/ ,/ 视线/ 追踪/ 系统/ 的/ 准确性/ 将/ 显著/ 下降/ ,/ 文献/ [/ 22/ ]/ 报告/ 了/ 详细/ 的/ 数据/ ,/ 数据/ 显示/ ,/ 视线/ 映射函数/ 的/ 准确性/ 将/ 严重/ 降低/ ./ 可以/ 通过/ 使用者/ 局部/ 手工/ 重新/ 标定/ 解决/ 这个/ 问题/ [/ 38/ ]/ ,/ 但是/ 这/ 给/ 使用者/ 带来/ 许多/ 麻烦/ ./ 大部分/ 的/ 商业/ 视线/ 追踪/ 系统/ [/ 12/ -/ 14/ ,/ 25/ ]/ 是/ 建立/ 在/ 二维/ 映射/ 模型/ 之上/ ,/ 大多/ 可以/ 容忍/ 小/ 的/ 头部/ 运动/ ./ 例如/ ,/ LC/ 视线/ 追踪/ 系统/ [/ 12/ ]/ 可以/ 容忍/ 少于/ 2/ 平方英寸/ 的/ 头部/ 运动/ ./ ASL/ 视线/ 追踪/ 系统/ [/ 25/ ]/ 可以/ 容忍/ 约/ 一/ 平方英尺/ 的/ 头部/ 运动/ ./ 消除/ 了/ 对/ 头部/ 静止/ 的/ 限制/ ,/ 方法/ 是/ 结合/ 了/ 磁性/ 头部/ 跟踪器/ 和/ 带/ 云台/ 的/ 相机/ ./ 不过/ ,/ 如何/ 处理/ 头部/ 运动/ 的/ 细节/ 是/ 不/ 公开/ 的/ ./ 此外/ ,/ 结合/ 了/ 磁性/ 头部/ 跟踪器/ 和/ 带/ 云台/ 的/ 相机/ 的/ 系统/ 不仅/ 是/ 复杂/ 的/ 而且/ 对/ 普通用户/ 是/ 昂贵/ 的/ ./ 总括/ 来说/ ,/ 现有/ 的/ 基于/ 二维/ 映射/ 模型/ 的/ 视线/ 追踪/ 系统/ 都/ 存在/ 两个/ 共同/ 的/ 缺点/ :/ (/ 1/ )/ 用户/ 在/ 使用/ 视线/ 追踪/ 系统/ 前/ 都/ 需要/ 进行/ 个体/ 标定/ ,/ 以/ 确定/ 视线/ 落点/ 与/ 用户/ 依赖/ 参数/ 的/ 关系/ ;/ (/ 2/ )/ 用户/ 需要/ 保持/ 头部/ 静止/ ,/ 无/ 显著/ 的/ 头部/ 运动/ ./ 针对/ 现有/ 视线/ 估计/ 方法/ 的/ 不足/ ,/ 本文/ 提出/ 一种/ 可/ 适应/ 自然/ 头动/ 的/ 视线/ 估计/ 方法/ ./ 在/ 单/ 相机/ 单/ 光源/ 条件/ 下/ 实现/ 了/ 头动/ 对/ 视线/ 参数/ 影响/ 的/ 补偿/ ,/ 既/ 不/ 需要/ 繁杂/ 的/ 系统/ 标定/ ,/ 又/ 实现/ 了/ 自然/ 头动/ 视线/ 估计/ ,/ 并且/ 简化/ 用户/ 标定/ 为/ 单点/ 标定/ ./ 4.2/ 基于/ PCCR/ 的/ 视线/ 估计/ 方法/ 射/ 函数/ 和/ 头部/ 位置/ 补偿/ ,/ 如图/ 12/ 所示/ ./ 采用/ 非线性/ 多项式/ 模型/ 对/ 视线/ 进行/ 估计/ ,/ 用/ 经过训练/ 的/ SVR/ 计算/ 头部/ 运动/ 引起/ 的/ 全屏/ 视线/ 估计/ 误差/ ./ 用/ 估计/ 的/ 误差/ 对/ 视线/ 进行/ 补偿/ ./ 实现/ 头部/ 运动/ 情况/ 下/ 的/ 视线/ 方向/ 检测/ ./ 采用/ 个体差异/ 模型/ 对/ 使用/ 本文/ 视线/ 估计/ 方法/ 包括/ 个体差异/ 校准/ 、/ 视线/ 映/ Page9/ 者/ 眼球/ 个体差异/ 进行/ 估计/ ,/ 用/ 经过/ 标定/ 的/ 补偿/ 系数/ 校准/ 个体差异/ 引起/ 的/ 特征参数/ 变化/ ./ 用/ 校准/ 后/ 的/ 特征参数/ 进行/ 视线/ 估计/ ./ 实现/ 不同/ 使用者/ 的/ 视线/ 方向/ 检测/ ./ 头部/ 位置/ 补偿/ 模型/ 采用/ 离线/ 建模/ ,/ 只/ 需/ 在/ 建立/ 模型/ 时/ 进行/ 一次/ ./ 首先/ 在/ 头部/ 静止/ 状态/ 下/ ,/ 使用者/ 盯视/ 屏幕/ 上/ 的/ 标定/ 点/ ,/ 标定/ 多项式/ 模型/ 对/ 视线/ 进行/ 估计/ ,/ 然后/ 在/ 头部/ 不同/ 姿态/ 下/ ,/ 盯视/ 屏幕/ 上/ 的/ 标定/ 点/ ,/ 计算/ 盯视/ 点/ 视线/ 落点/ 误差/ ,/ 用来/ 训练/ SVR/ 以/ 计算/ 头部/ 运动/ 引起/ 的/ 全屏/ 视线/ 估计/ 误差/ ./ 以后/ 使用者/ 使用/ 系统/ 时/ ,/ 用/ 估计/ 的/ 误差/ 对/ 视线/ 进行/ 补偿/ ,/ 得到/ 最终/ 的/ 视线/ 估计/ 结果/ ./ 个体差异/ 校准/ 模型/ 采用/ 在线/ 标定/ ,/ 只/ 需/ 在/ 初次/ 使用/ 系统/ 时/ 进行/ 一次/ ./ 首先/ 在/ 头部/ 标定/ 位置/ 下/ ,/ 使用者/ 盯视/ 屏幕/ 上/ 的/ 标定/ 点/ ,/ 标定/ 其/ 个体差异/ 系数/ ,/ 然后/ 使用者/ 使用/ 系统/ 时/ ,/ 用/ 标定/ 的/ 个体差异/ 系数/ 对/ 视线/ 特征参数/ 进行/ 校准/ ,/ 得到/ 消除/ 个体差异/ 的/ 特征参数/ ./ 系统/ 经/ 一次/ 标定/ 后/ 能够/ 记忆/ 使用者/ 的/ 个体差异/ 参数/ ,/ 后续/ 使用/ 时/ 可免于/ 初始/ 标定/ ./ (/ 1/ )/ 个体差异/ 补偿/ ./ 本文/ 采用/ 的/ 视线/ 特征向量/ 犔/ t/ 如下/ :/ 为了/ 补偿/ 个体差异/ 对/ 视线/ 估计/ 的/ 影响/ ,/ 本文/ 经过/ 大量/ 实验/ 总结/ 出/ 以下/ 事实/ :/ (/ 1/ )/ 不同/ 的/ 使用者/ 在/ 同一/ 位置/ 注视/ 同/ 一点/ 的/ 情况/ 下/ ,/ 眼球/ 的/ 方位/ 是/ 大致相同/ 的/ ,/ 因此/ (/ Δ/ x/ ,/ Δ/ y/ )/ 的/ 方向/ 是/ 大致相同/ 的/ ,/ 其/ 方向/ 的/ 差异/ 是/ 由于/ 视线/ 和/ 眼球/ 光轴/ 夹角/ 的/ 个体差异/ 造成/ 的/ ,/ 如图/ 13/ (/ a/ )/ 所示/ ,/ 这个/ 差异/ 可以/ 通过/ 单点/ 用户/ 标定/ 进行/ 捕捉/ ./ (/ 2/ )/ 不同/ 的/ 使用者/ 在/ 同一/ 位置/ 注视/ 同/ 一点/ 的/ 情况/ 下/ ,/ (/ Δ/ x/ ,/ Δ/ y/ )/ 的/ 长度/ 差异/ 往往/ 大于/ 方向/ 的/ 差异/ ,/ 其/ 差异/ 是/ 由于/ 角膜/ 球面/ 半径大小/ 的/ 个体差异/ 造成/ 的/ ,/ 这个/ 差异/ 也/ 可以/ 通过/ 单点/ 用户/ 标定/ 进行/ 捕捉/ ./ 如图/ 13/ (/ b/ )/ 所示/ ,/ 当/ 角膜/ 球面/ 半径/ 发生变化/ 时/ ,/ 瞳孔/ 中心/ P1/ 发生/ 线性/ 变化/ ,/ 图像/ 中/ 的/ 瞳孔/ 中心/ p1/ 也/ 随之/ 线性/ 变化/ ,/ 而/ 图像/ 中/ 的/ 普尔/ 钦斑/ g1/ 不变/ ./ 即/ 角膜/ 球面/ 半径/ 增加/ k/ 倍/ ,/ g1/ 到/ p1/ 的/ 向量/ (/ Δ/ x/ ,/ Δ/ y/ )/ 长度/ 随之/ 增加/ k/ 倍/ ./ (/ 3/ )/ 不同/ 的/ 使用者/ 在/ 同一/ 位置/ 注视/ 同/ 一点/ 的/ 情况/ 下/ ,/ amajoraminor/ 相同/ 的/ ./ 本文/ 提出/ 一种/ 视线/ 特征向量/ 个体差异/ 校准/ 方法/ ,/ 通过/ 单点/ 标定/ 确定/ 使用者/ 的/ 角膜/ 半径/ 比例/ 系数/ k/ 和/ 视线/ 偏角/ λ/ ,/ 校准/ 方法/ 如下/ :/ 式/ 中/ ,/ (/ Δ/ x/ ,/ Δ/ y/ )/ 为/ 校准/ 后/ 的/ 瞳孔/ 中心/ 到/ 普尔/ 钦斑/ 向量/ ./ 校准/ 后/ 的/ 视线/ 特征向量/ 犔/ t/ 为/ (/ Δ/ x/ ,/ Δ/ y/ )/ =/ (/ Δ/ x/ ,/ Δ/ y/ )/ ×/ k/ (/ cos/ λ/ +/ isin/ λ/ )/ ,/ (/ 2/ )/ 多项式/ 模型/ 完整/ 的/ 视线/ 映射函数/ (/ Gx/ ,/ Gy/ )/ =/ F/ (/ Δ/ x/ ,/ Δ/ y/ )/ 是/ 一个/ 复杂/ 的/ 非线性/ 函数/ ,/ 本/ 步骤/ 讨论/ 的/ 是/ 使用者/ 和/ 头部/ 位置/ 固定/ 情况/ 下/ 的/ 视线/ 映射函数/ (/ Gx/ ,/ Gy/ )/ =/ f/ (/ Δ/ x/ ,/ Δ/ y/ )/ ./ 在/ 本文/ 的/ 系统配置/ 下/ ,/ 其/ 函数/ 规律/ 总结/ 如下/ :/ Gx/ =/ fx/ (/ Δ/ x/ ,/ Δ/ y/ )/ ≈/ a1/ (/ Δ/ y/ )/ +/ a2/ (/ Δ/ y/ )/ Δ/ x/ ,/ a1/ (/ Δ/ y/ )/ ≈/ a3/ +/ a4/ Δ/ y/ ,/ a2/ (/ Δ/ y/ )/ ≈/ a5/ +/ a6/ Δ/ y/ ,/ Gy/ =/ fy/ (/ Δ/ x/ ,/ Δ/ y/ )/ ≈/ b1/ (/ Δ/ x/ )/ +/ b2/ Δ/ y/ +/ b3/ Δ/ y2/ ,/ b1/ (/ Δ/ x/ )/ ≈/ b4/ +/ b5/ Δ/ x/ ./ 可以/ 看到/ ,/ (/ Gx/ ,/ Gy/ )/ =/ f/ (/ Δ/ x/ ,/ Δ/ y/ )/ 中有/ 8/ 个/ 未知数/ ,/ 通过/ 4/ 个/ 以上/ 的/ 标定/ 点/ 就/ 可以/ 确定/ 其/ 关系/ ,/ 为了/ 覆盖/ 屏幕/ 落点/ 的/ 各个/ 区域/ ,/ 本文/ 通过/ 9/ 点/ 标定/ 对应/ 的/ 18/ 个/ 等式/ 对/ 8/ 个/ 未知数/ 进行/ 多项式/ 回归/ ./ 这个/ 回归/ 过程/ 只/ 在/ 建立/ 模型/ 的/ 时候/ 进行/ 一次/ ,/ 一旦/ 8/ 个/ 未知数/ 已经/ 确定/ ,/ 以后/ 不同/ 使用者/ 使用/ 系统/ 时/ ,/ 因为/ Page10/ 已经/ 经过/ 上/ 个/ 步骤/ 的/ 个体差异/ 校准/ ,/ 所以/ 可以/ 直接/ 使用/ 这个/ 视线/ 映射函数/ ,/ 无需/ 重新/ 进行/ 回归/ 过程/ ./ (/ 3/ )/ 头部/ 位置/ 补偿/ 由于/ 二维/ 图像/ 不能/ 提取/ 眼睛/ 的/ 精确/ 空间/ 位置/ ,/ 本文/ 采用/ 视线/ 特征向量/ 犔/ t/ 反映/ 眼睛/ 的/ 空间/ 状态/ ,/ 通过/ SVR/ 对/ 由/ 眼睛/ 空间/ 状态/ 变化/ 引起/ 的/ 视线/ 估计/ 误差/ 进行/ 回归/ ,/ 其/ 表达式/ 如下/ :/ (/ Δ/ Gx/ ,/ Δ/ Gy/ )/ =/ f/ Δ/ Δ/ x/ ,/ Δ/ y/ ,/ amajoraminor/ 表/ 2/ 使用者/ 2/ 的/ 部分/ 数据/ (/ Δ/ x/ ,/ Δ/ y/ )/ (/ 4.870/ ,/ 11.207/ ,/ 1.213/ ,/ 117.552/ ,/ 287.637/ ,/ 437.932/ )/ (/ 5.430/ ,/ 12.495/ )/ (/ 88/ ,/ 86/ )/ (/ 6/ ,/ -/ 18/ )/ (/ 94/ ,/ 68/ )/ (/ -/ 0.880/ ,/ 11.357/ ,/ 1.058/ ,/ 65.256/ ,/ 231.91/ ,/ 443.770/ )/ (/ -/ 0.981/ ,/ 12.663/ )/ (/ 726/ ,/ 34/ )/ (/ -/ 51/ ,/ 24/ )/ (/ 675/ ,/ 58/ )/ (/ -/ 6.269/ ,/ 10.866/ ,/ 1.139/ ,/ 54.755/ ,/ 185.966/ ,/ 453.136/ )/ (/ -/ 6.989/ ,/ 12.115/ )/ (/ 1216/ ,/ 75/ )/ (/ -/ 26/ ,/ -/ 7/ )/ (/ 1190/ ,/ 68/ )/ (/ 5.159/ ,/ 7.824/ ,/ 1.057/ ,/ 147.106/ ,/ 213.819/ ,/ 459.712/ )/ (/ 5.752/ ,/ 8.723/ )/ (/ 42/ ,/ 469/ )/ (/ 53/ ,/ 6/ )/ (/ 95/ ,/ 475/ )/ (/ -/ 0.901/ ,/ 7.718/ ,/ 1.066/ ,/ 12.618/ ,/ 199.004/ ,/ 467.304/ )/ (/ -/ 1.004/ ,/ 8.605/ )/ (/ 707/ ,/ 387/ )/ (/ -/ 50/ ,/ 47/ )/ (/ 657/ ,/ 434/ )/ (/ -/ 7.231/ ,/ 7.710/ ,/ 1.142/ ,/ 42.529/ ,/ 177.404/ ,/ 471.379/ )/ (/ -/ 8.062/ ,/ 8.596/ )/ (/ 1205/ ,/ 384/ )/ (/ -/ 23/ ,/ 80/ )/ (/ 1182/ ,/ 464/ )/ (/ 5.063/ ,/ 3.783/ ,/ 1.182/ ,/ 256.705/ ,/ 208.628/ ,/ 475.365/ )/ (/ 5.645/ ,/ 4.218/ )/ (/ 26/ ,/ 860/ )/ (/ 53/ ,/ 30/ )/ (/ 79/ ,/ 890/ )/ (/ -/ 0.979/ ,/ 3.287/ ,/ 1.140/ ,/ 3.635/ ,/ 196.633/ ,/ 477.365/ )/ (/ -/ 1.091/ ,/ 3.665/ )/ (/ 581/ ,/ 800/ )/ (/ 42/ ,/ 96/ )/ (/ 623/ ,/ 896/ )/ (/ -/ 6.922/ ,/ 3.617/ ,/ 1.104/ ,/ 13.373/ ,/ 173.485/ ,/ 485.351/ )/ (/ -/ 7.718/ ,/ 4.033/ )/ (/ 1201/ ,/ 874/ )/ (/ -/ 15/ ,/ 18/ )/ (/ 1186/ ,/ 892/ )/ 5/ 实验/ 结果/ 通过/ 一系列/ 实验/ 来/ 说明/ 本文/ 方法/ 的/ 效果/ ,/ 包括/ 参数/ 提取/ 与/ 视线/ 估计/ 两/ 部分/ ./ 5.1/ 不同/ 头部/ 位置/ 的/ 参数/ 提取/ 由于/ 特征提取/ 是/ 视线/ 追踪/ 系统/ 的/ 共性/ 问题/ ,/ 要求/ 在/ 不同/ 的/ 头部/ 位置/ 都/ 能/ 有效/ 地/ 进行/ ,/ 为了/ 验证/ 本文/ 特征提取/ 方法/ 的/ 效果/ ,/ 本文/ 对/ 150/ 使用者/ 进行/ 了/ 实验/ ,/ 实验/ 过程/ 在/ 室内/ 进行/ ,/ 不同/ 使用者/ 测试/ 的/ 环境/ 不/ 相同/ ,/ 包括/ 白天/ 晚上/ 、/ 晴天/ 阴天/ 、/ 室内/ 照明灯/ 开关/ 等/ 各种/ 室内/ 光线/ 情况/ ,/ 图/ 14/ 为/ 使用者/ 1/ ,/ 2/ ,/ 4/ 在/ 各种/ 头部/ 位置/ 的/ 检测/ 结果/ ,/ 可以/ 看到/ ,/ 即使/ 在/ 头部/ 转动/ 明显/ 的/ 情况/ 下/ ,/ 本文/ 方法/ 也/ 能/ 有效/ 地/ 提取/ 视线/ 特征参数/ ./ 5.2/ 眨眼/ 情况/ 下/ 的/ 参数/ 提取/ 用于/ 视线/ 追踪/ 的/ 眼睛/ 跟踪/ ,/ 要求/ 在/ 眨眼/ 的/ 情况/ 下/ 也/ 能/ 有效/ 地/ 跟踪/ ,/ 图/ 15/ 为/ 使用者/ 1/ ,/ 2/ ,/ 3/ 在/ 眨眼/ 情况/ 下/ 的/ 跟踪/ 结果/ ,/ 可以/ 看到/ ,/ 在/ 眨眼/ 的/ 情况/ 下/ ,/ 本文/ 方法/ 也/ 能/ 有效/ 地/ 跟踪/ 眼睛/ ./ 5.3/ 佩戴/ 眼镜/ 情况/ 下/ 的/ 参数/ 提取/ 用于/ 视线/ 追踪/ 的/ 眼睛/ 参数/ 提取/ ,/ 要求/ 在/ 使用者/ 佩戴/ 眼镜/ 的/ 情况/ 下/ 也/ 能/ 有效/ 地/ 进行/ ,/ 图/ 16/ 为/ 使用者/ 1/ ,/ 5/ ,/ 4/ 在/ 佩戴/ 眼镜/ 的/ 情况/ 下/ 的/ 检测/ 结果/ ,/ 可以/ 看到/ ,/ 即使/ 在/ 镜片/ 反光/ 情况/ 下/ ,/ 只要/ 反光/ 不/ 遮盖/ 瞳孔/ ,/ 本文/ 方法/ 就/ 能/ 有效/ 地/ 提取/ 视线/ 特征参数/ ./ 本文/ 采用/ 5/ 个/ 不同/ 距离/ ,/ 每个/ 距离/ 上/ 9/ 个/ 头部/ 位置/ ,/ 在/ 每个/ 位置/ 上/ 注视/ 屏幕/ 上/ 的/ 9/ 个点/ 的/ 方式/ ,/ 对/ 视线/ 估计/ 误差/ 函数/ f/ Δ/ 进行/ 回归/ 训练/ ./ 这个/ 训练/ 过程/ 只/ 在/ 建立/ 模型/ 的/ 时候/ 进行/ 一次/ ,/ 以后/ 不同/ 使用者/ 使用/ 系统/ 时/ ,/ 因为/ 已经/ 经过/ 个体差异/ 校准/ ,/ 所以/ 可以/ 直接/ 使用/ f/ Δ/ 对/ 头部/ 位置/ 引起/ 的/ 误差/ 进行/ 补偿/ ,/ 无需/ 重新/ 进行/ 训练/ 过程/ ./ 头部/ 位置/ 补偿/ 公式/ 如下/ :/ Page115/ ./ 4/ 与/ 其它/ 眼睛/ 跟踪/ 方法/ 的/ 比较/ 对/ 用于/ 视线/ 追踪/ 系统/ 的/ 眼睛/ 跟踪/ 方法/ 进行/ 了/ 对比/ ./ 图/ 17/ 给出/ 使用者/ 8/ 眼睛/ 跟踪/ 结果/ 中心点/ 与/ 目标/ 真实/ 中心点/ 之间/ 的/ 均/ 方根/ 误差/ (/ RootofMeanSquareError/ ,/ RMSE/ )/ ,/ 其中/ ,/ 真实/ 位置/ 采用/ 手工/ 逐帧/ 标定/ ./ 由图/ 17/ 可见/ ,/ (/ a/ )/ 最初/ ,/ 3/ 种/ 算法/ 都/ 能/ 正确/ 跟踪目标/ ;/ (/ b/ )/ 随着/ 跟踪/ 进行/ ,/ 文献/ [/ 33/ ,/ 37/ ]/ 方法/ 虽/ 仍/ 能/ 跟踪目标/ 一段时间/ ,/ 但/ 结果/ 已/ 明显/ 不再/ 准确/ ,/ 5.5/ 不同/ 使用者/ 的/ 视线/ 估计/ 结果/ 本文/ 对/ 不同/ 使用者/ 的/ 视线/ 估计/ 效果/ 进行/ 了/ 实验/ ,/ 部分/ 结果/ 见表/ 3/ ,/ 水平/ 方向/ 平均/ 精度/ 1.5/ 左右/ ,/ 竖直/ 方向/ 平均/ 精度/ 1.9/ 左右/ ./ 图/ 18/ 为/ 使用者/ 3/ 的/ 视线/ 估计/ 结果/ ./ 表/ 3/ 不同/ 使用者/ 的/ 视线/ 估计/ 结果/ 基于/ 本文/ 视线/ 追踪/ 方法/ 的/ 人机交互/ 系统/ 界面/ 如/ 5.6/ 人机交互/ 系统/ 图/ 19/ 所示/ ,/ 实验/ 中/ 准确率/ 在/ 95/ %/ 以上/ ./ 5.7/ 与/ 其他/ 系统/ 的/ 比较/ 与/ 其它/ 视线/ 追踪/ 系统/ 比较/ 结果/ 见表/ 4/ ,/ 可以/ 看到/ ,/ 本文/ 提出/ 的/ 方法/ 是/ 一种/ 单/ 相机/ 单/ 光源/ 条件/ 下/ 的/ 、/ 单点/ 用户/ 标定/ 、/ 可以/ 允许/ 头部/ 较大/ 范围/ 运动/ 、/ 高性价比/ 的/ 视线/ 追踪/ 解决方案/ ./ 而/ 本文/ 方法/ 在/ 整个/ 跟踪/ 过程/ 中/ ,/ 都/ 能/ 一直/ 保持/ 对/ 眼睛/ 的/ 稳定/ 跟踪/ 能力/ ;/ (/ c/ )/ 相对/ 于/ 文献/ [/ 33/ ]/ 中/ 组合/ 卡尔曼滤波/ 与/ 均值/ 漂移/ 的/ 方法/ 和/ 文献/ [/ 37/ ]/ 中/ 的/ 粒子/ 滤波/ 方法/ ,/ 本文/ 提出/ 的/ 方法/ 能/ 更为/ 准确/ 和/ 稳定/ 地/ 跟踪目标/ ,/ 其/ 跟踪/ 结果/ 与/ 目标/ 真实/ 位置/ 的/ 误差/ 最小/ ,/ 完全/ 能/ 满足/ 实时/ 视线/ 追踪/ 对/ 眼睛/ 跟踪/ 的/ 精度/ 要求/ ./ 方法/ 头部/ 允许/ 运动/ 范围/ 文献/ [/ 23/ ]/ </ 70mm0/ ./ 8/ °/ 多/ 相机/ 多/ 光源/ 单点/ 文献/ [/ 17/ ]/ N/ // A/ ,/ but/ >/ 70mm0/ ./ 6/ °/ 文献/ [/ 7/ ]/ 200mm/ 文献/ [/ 4/ ]/ 500mm/ 文献/ [/ 24/ ]/ 40mm/ 文献/ [/ 8/ ]/ 100mm/ 本文/ 300mm/ 注/ 1/ ./ 文献/ [/ 8/ ]/ 需要/ 另外/ 配置/ 立体/ 相机/ ,/ 用来/ 标定/ 相机/ 、/ 光源/ 和/ 屏幕/ 的/ 空间/ 三维/ 位置/ ;/ 注/ 2/ ./ 本文/ 方法/ 在/ 头部/ 运动/ 小于/ 50mm/ 时/ ,/ 平均/ 精度/ 在/ 1.0/ °/ 左右/ ./ Page126/ 结论/ 与/ 展望/ 现有/ 单/ 相机/ 单/ 光源/ 条件/ 下/ 的/ 视线/ 追踪/ 系统/ 存在/ 以下/ 几个/ 问题/ :/ (/ 1/ )/ 精度/ 不高/ ./ (/ 2/ )/ 头动/ 受限/ ./ (/ 3/ )/ 标定/ 复杂/ ./ 本文/ 提出/ 一种/ 单/ 相机/ 单/ 光源/ 条件/ 下/ 视线/ 追踪/ 的/ 高性价比/ 解决方案/ ./ 首先/ 利用/ 亮瞳/ 现象/ 提出/ 一种/ 新/ 的/ 基于/ 多通道/ 图像/ 的/ 亚/ 像素/ 瞳孔/ 定位/ 算法/ ,/ 通过/ RDPEF/ 滤波/ 解决/ 了/ 角膜/ 反射/ 对/ 瞳孔/ 中心/ 定位/ 的/ 影响/ ./ 以此/ 为/ 基础/ 结合/ 改进/ 的/ 粒子/ 滤波/ 算法/ ,/ 提出/ 一种/ 针对/ 实时/ 视线/ 追踪/ 的/ TCPCM/ 瞳孔/ 跟踪/ 算法/ ,/ 解决/ 了/ 近红外/ 图像/ 中/ 瞳孔/ 色彩/ 不/ 突出/ 的/ 问题/ ./ 接下来/ 针对/ PCCR/ 技术/ 存在/ 的/ 主要/ 问题/ :/ 限制/ 使用者/ 头部/ 运动/ 和/ 个体/ 标定/ 问题/ ,/ 提出/ 了/ 一种/ 单/ 相机/ 单/ 光源/ 条件/ 下/ 头部/ 位置/ 的/ 补偿/ 方法/ ,/ 并/ 提出/ 一种/ 个体差异/ 的/ 转化/ 模型/ ,/ 进而/ 简化/ 标定/ 过程/ 为/ 单点/ 标定/ ./ 最后/ 以此/ 为/ 基础/ 提出/ 一种/ 新/ 的/ 视线/ 估计/ 方法/ ,/ 本/ 方法/ 允许/ 使用者/ 头部/ 运动/ 并且/ 只/ 需要/ 单点/ 标定/ ./ 本文/ 的/ 视线/ 追踪/ 方法/ 为/ 具有/ 普/ 适应/ 用/ 价值/ 的/ 低成本/ 视线/ 追踪/ 提供/ 了/ 有效/ 的/ 解决方案/ ./ 本/ 方法/ 具有/ 以下/ 几个/ 特点/ :/ (/ 1/ )/ 通过/ 高质量/ 的/ 特征/ 检测/ 与/ 跟踪/ ,/ 使/ 视线/ 估计/ 精度/ 达到/ 了/ 满足/ 实时/ 人机交互/ 的/ 水平/ ./ (/ 2/ )/ 在/ 相机/ 视野/ 范围/ 内/ ,/ 头部/ 可以/ 自由/ 移动/ ,/ 头部/ 移动/ 不会/ 带来/ 视线/ 估计/ 精度/ 的/ 明显/ 下降/ ./ (/ 3/ )/ 通过/ 个体差异/ 校准/ 机制/ ,/ 实现/ 了/ 单/ 相机/ 单/ 光源/ 条件/ 下/ 的/ 单点/ 标定/ ./ 在/ 未来/ 的/ 研究/ 中/ ,/ 建立/ 单/ 相机/ 单/ 光源/ 条件/ 下/ 解析/ 形式/ 的/ 精确/ 头部/ 位置/ 补偿/ 模型/ 是/ 一项/ 重点/ 工作/ ./ 自然/ 光照/ 条件/ 下/ 的/ 精确/ 视线/ 追踪/ 也/ 是/ 今后/ 研究/ 的/ 方向/ 之一/ ./ 

