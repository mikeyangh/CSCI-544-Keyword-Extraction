Page1/ 一种/ 基于/ 优先级/ 的/ 迭代/ 划分/ 测试方法/ 1/ )/ (/ 苏州大学/ 计算机科学/ 与/ 技术/ 学院/ 江苏/ 苏州/ 215006/ )/ 2/ )/ (/ 南京大学/ 计算机软件/ 新/ 技术/ 国家/ 重点/ 实验室/ 南京/ 210023/ )/ 3/ )/ (/ 武汉大学/ 软件工程/ 国家/ 重点/ 实验室/ 武汉/ 430072/ )/ 摘要/ 随机/ 测试/ 和/ 划分/ 测试/ 是/ 两种/ 重要/ 的/ 测试方法/ ,/ 关于/ 两者/ 在/ 失效/ 检测/ 能力/ 和/ 效率/ 方面/ 的/ 比较/ 一直/ 是/ 软件测试/ 领域/ 的/ 研究/ 热点/ 之一/ ./ 适应性/ 随机/ 测试/ 是/ 对/ 随机/ 测试/ 的/ 一种/ 增强/ ,/ 通过/ 实现/ 测试用例/ 在/ 输入/ 域/ 上/ 的/ 均匀分布/ ,/ 提高/ 了/ 随机/ 测试/ 的/ 失效/ 检测/ 能力/ ./ 该文/ 从/ 划分/ 测试/ 出发/ ,/ 借鉴/ 了/ 均匀分布/ 的/ 思想/ ,/ 提出/ 了/ 一种/ 基于/ 优先级/ 的/ 迭代/ 划分/ 测试方法/ (/ IterativePartitionTestingbasedonPrioritySampling/ ,/ IPT/ -/ PS/ )/ ./ 首先/ 迭代/ 划分/ 输入/ 域/ 并/ 选取/ 划分/ 后/ 子域/ 的/ 中心点/ 作为/ 待/ 执行/ 的/ 测试用例/ ,/ 随后/ 采取/ 优先级/ 策略/ ,/ 将/ 待/ 执行/ 的/ 测试用例/ 分为/ 3/ 种/ 不同/ 优先/ 等级/ 并/ 依次/ 执行/ ./ 迭代/ 划分/ 和/ 中心/ 采样/ 仅/ 需要/ 已知/ 输入/ 域/ 的/ 空间信息/ ,/ 优先级/ 执行/ 则/ 考虑/ 了/ 测试用例/ 的/ 不同/ 空间/ 特性/ ,/ 上述/ 3/ 种/ 操作/ 均/ 仅/ 需要/ 很少/ 的/ 时间/ 开销/ 并/ 力求/ 实现/ 测试用例/ 在/ 输入/ 域/ 上/ 的/ 均匀分布/ ,/ 以/ 提高/ 失效/ 检测/ 能力/ ./ 该文/ 通过/ 理论/ 分析/ 给出/ 了/ IPT/ -/ PS/ 检测/ 出/ 对应/ 失效/ 所/ 需/ 测试用例/ 数量/ 的/ 上界/ ,/ 并/ 通过/ 一系列/ 实验/ 结果表明/ :/ IPT/ -/ PS/ 在/ 仅/ 使用/ 接近/ 随机/ 测试/ 时间/ 开销/ 的/ 情况/ 下/ ,/ 可以/ 获得/ 与/ 适应性/ 随机/ 测试/ 相近/ 甚至/ 更好/ 的/ 失效/ 检测/ 能力/ ,/ 是/ 一种/ 高效/ 的/ 测试方法/ ./ 关键词/ 软件测试/ ;/ 划分/ 测试/ ;/ 随机/ 测试/ ;/ 适应性/ 随机/ 测试/ ;/ 测试用例/ 生成/ ;/ 失效率/ ;/ F/ -/ 度量/ 1/ 引言/ 软件测试/ 是/ 软件/ 质量保证/ 中/ 的/ 一种/ 重要/ 方法/ ,/ 受到/ 了/ 学术界/ 和/ 工业界/ 的/ 广泛/ 关注/ ./ 在/ 软件测试/ 的/ 过程/ 中/ ,/ 一项/ 重要/ 的/ 工作/ 是/ 在/ 程序/ 的/ 输入/ 域/ 中/ 选择/ 测试用例/ ,/ 用于/ 执行/ 待测/ 程序/ 以/ 发现/ 待测/ 程序/ 中/ 的/ 错误/ ./ 由于/ 对/ 软件/ 整个/ 输入/ 域/ 进行/ 穷尽/ 测试/ 往往/ 是/ 不/ 现实/ 的/ ,/ 因此/ 如何/ 选择/ 尽可能少/ 的/ 测试用例/ 来/ 尽快/ 发现/ 程序/ 错误/ 变得/ 尤为重要/ ./ 在/ 现有/ 的/ 众多/ 测试方法/ 中/ ,/ 随机/ 测试/ (/ RandomTesting/ ,/ RT/ )/ 和/ 划分/ 测试/ (/ PartitionTesting/ ,/ PT/ )/ 是/ 两种/ 经典/ 的/ 方法/ ./ 随机/ 测试/ 服从/ 某种/ 概率分布/ (/ 通常/ 是/ 均匀分布/ )/ ,/ 从/ 整个/ 输入/ 域/ 中/ 逐个/ 选择/ 测试用例/ ,/ 输入/ 域/ 没有/ 进行/ 任何/ 划分/ [/ 1/ -/ 2/ ]/ ;/ 而/ 划分/ 测试/ 则/ 首先/ 将/ 输入/ 域/ 划分/ 为/ 一定/ 数量/ 的/ 不/ 相交/ 的/ 子域/ ,/ 再/ 从/ 每个/ 子域/ 中/ 选取/ 一个/ 或/ 多个/ 的/ 测试用例/ [/ 3/ ]/ ./ 随机/ 测试/ 具有/ 简单/ 有效/ 、/ 易于/ 理解/ 和/ 实现/ 等/ 优点/ ,/ 然而/ ,/ 由于/ 随机/ 测试/ 过程/ 中/ 没有/ 利用/ 其他/ 任何/ 有用/ 的/ 信息/ ,/ 其/ 失效/ 检测/ 能力/ 往往/ 不是/ 很/ 理想/ ./ Chen/ 等/ 人/ [/ 4/ ]/ 提出/ 了/ 适应性/ 随机/ 测试方法/ (/ AdaptiveRandomTesting/ ,/ ART/ )/ ,/ 是/ 一种/ 改进/ 的/ 随机/ 测试方法/ ,/ 通过/ 实现/ 测试用例/ 在/ 输入/ 域/ 上/ 的/ 均匀分布/ ,/ 来/ 提高/ 随机/ 测试/ 的/ 失效/ 检测/ 能力/ ,/ 但/ 该/ 方法/ 也/ 相应/ 地/ 带来/ 大量/ 额外/ 的/ 计算/ 开销/ ./ 划分/ 测试/ 通常/ 基于/ 相同/ 的/ 功能/ 或/ 属性/ 进行/ 子域/ 的/ 划分/ ,/ 希望/ 能/ 获得理想/ 的/ 划分/ 方式/ 使得/ 每个/ 子域/ 是/ 同质/ 的/ ,/ 即/ 同一/ 子域/ 中/ 的/ 所有/ 输入/ 均/ 为/ 正确/ 的/ 输入/ 或/ 导致/ 程序/ 失效/ 的/ 输入/ ./ 在/ 获得/ 有效/ 划分/ 的/ 基础/ 上/ ,/ 划分/ 测试/ 用于/ 选择/ 测试用例/ 的/ 开销/ 并不大/ ,/ 然而/ ,/ 前期/ 的/ 子域/ 划分/ 却/ 需要/ 耗费/ 大量/ 额外/ 的/ 时间/ 开销/ ./ 因此/ ,/ 关于/ 随机/ 测试/ 和/ 划分/ 测试/ 在/ 失效/ 检测/ 能力/ 和/ 效率/ 方面/ 的/ 比较/ 一直/ 是/ 软件测试/ 领域/ 的/ 研究/ 热点/ 之一/ [/ 3/ ,/ 5/ -/ 6/ ]/ ./ 本文/ 从/ 划分/ 测试/ 出发/ ,/ 借鉴/ 了/ ART/ 均匀分布/ 的/ 思想/ ,/ 给出/ 了/ 迭代/ 划分/ 测试方法/ (/ IterativePartitionTesting/ ,/ IPT/ )/ 的/ 实现/ 框架/ ,/ 并/ 进一步/ 提出/ 了/ 一种/ 基于/ 优先级/ 的/ 迭代/ 划分/ 测试方法/ (/ IterativePartitionTestingbasedonPrioritySampling/ ,/ IPT/ -/ PS/ )/ ./ 该/ 方法/ 的/ 基本/ 思想/ 是/ :/ 通过/ 不断/ 地/ 迭代/ 划分/ 输入/ 域/ 并/ 选取/ 划分/ 后/ 子域/ 的/ 中心点/ 作为/ 待/ 执行/ 的/ 测试用例/ ,/ 随后/ 采取/ 优先级/ 策略/ ,/ 将/ 待/ 执行/ 的/ 测试用例/ 分为/ 3/ 种/ 不同/ 优先/ 等级/ 并/ 依次/ 执行/ ./ 中心/ 采样/ 和/ 迭代/ 划分/ 仅/ 需要/ 知道/ 输入/ 域/ 的/ 空间信息/ ./ 优先级/ 执行/ 则/ 考虑/ 了/ 待/ 执行/ 测试用例/ 的/ 不同/ 空间/ 特性/ ,/ 通过/ 约束/ 测试用例/ 执行/ 的/ 先后/ 次序/ 使得/ 测试用例/ 在/ 两轮/ 迭代/ 间/ 的/ 分布/ 更加/ 均匀/ ./ IPT/ -/ PS/ 的/ 中心/ 采样/ 、/ 迭代/ 划分/ 和/ 优先级/ 执行/ 这/ 3/ 种/ 操作/ 仅/ 需/ 知道/ 输入/ 域/ 的/ 空间信息/ ,/ 且/ 仅/ 耗费/ 很少/ 的/ 时间/ 开销/ ,/ 弥补/ 了/ 传统/ 划分/ 测试/ 通常/ 需要/ 知道/ 额外/ 信息/ 或/ 往往/ 耗费/ 大量/ 开销/ 用于/ 划分/ 子域/ 的/ 不足/ ./ 本文/ 的/ 方法/ 力求/ 快速/ 实现/ 测试用例/ 在/ 输入/ 域/ 上/ 的/ 均匀分布/ ,/ 以/ 提高/ 失效/ 检测/ 能力/ ./ 本文/ 通过/ 理论/ 分析/ 指出/ :/ IPT/ -/ PS/ 可以/ 检测/ 出/ 对应/ 失效/ 所/ 需/ 测试用例/ 数量/ 的/ 上界/ ./ 实验/ 结果表明/ ,/ IPT/ -/ PS/ 方法/ 在/ 仅/ 使用/ 接近/ RT/ 时间/ 开销/ 的/ 情况/ 下/ ,/ 可以/ 获得/ 与/ ART/ 相近/ 甚至/ 更好/ 的/ 失效/ 检测/ 能力/ ./ 因此/ ,/ 我们/ 的/ 方法/ 将/ 在/ 失效/ 检测/ 能力/ 和/ 时间/ 开销/ 上/ 获得/ 良好/ 的/ 平衡/ ,/ 是/ 一种/ 高效/ 的/ 测试方法/ ./ 本文/ 第/ 2/ 节将/ 介绍/ 随机/ 测试/ 以及/ 划分/ 测试/ 的/ 相关/ 概念/ 和/ 研究/ 现状/ ;/ 第/ 3/ 节/ 提出/ IPT/ -/ PS/ 的/ 框架/ 及/ 算法/ 描述/ ,/ 并/ 给出/ 对应/ 的/ 理论/ 分析/ 结果/ ;/ 第/ 4/ 节/ 通过/ 一系列/ 实验/ 验证/ 理论/ 结果/ ,/ 并/ 对比/ 多种/ 划分/ 测试/ 以及/ 随机/ 测试方法/ 的/ 失效/ 检测/ 能力/ 和/ 时间/ 开销/ ,/ 探讨/ IPT/ -/ PS/ 的/ 适用性/ ;/ 最后/ 是/ 总结/ 和/ 未来/ 工作/ ./ 2/ 相关/ 工作/ 为/ 便于/ 后续/ 讨论/ ,/ 首先/ 给出/ 一些/ 相关/ 术语/ 的/ 描述/ 和/ 解释/ ./ 定义/ 1/ ./ 失效率/ (/ failurerate/ )/ [/ 4/ ]/ ./ 在/ 测试/ 过程/ 中/ ,/ 假定/ 待测/ 程序/ 的/ 输入/ 域/ 大小/ 为/ D/ ,/ 能够/ 引发/ 失效/ Page3/ 的/ 输入/ 域/ 大小/ 为/ F/ ,/ 则/ 失效率/ θ/ 为/ 失效/ 输入/ 域/ 占/ 整个/ 输入/ 域/ 的/ 比例/ ,/ 即/ θ/ =/ F/ // D/ ./ 定义/ 2/ ./ 失效/ 模式/ (/ failurepattern/ )/ [/ 7/ ]/ ./ 指/ 失效/ 输入/ 域/ 的/ 几何/ 特性/ 及其/ 在/ 输入/ 域/ 上/ 的/ 分布/ 情况/ ./ 具体/ 而言/ ,/ 包括/ 失效/ 输入/ 域/ 的/ 形状/ 、/ 大小/ 、/ 方位/ 、/ 位置/ 等/ 信息/ ./ Chan/ 等/ 人/ [/ 7/ ]/ 总结/ 了/ 3/ 种/ 失效/ 模式/ ,/ 分别/ 为/ 块状/ 模式/ 、/ 条状/ 模式/ 和/ 点状/ 模式/ ./ 显然/ ,/ 给定/ 待测/ 程序/ ,/ 其/ 失效率/ 和/ 失效/ 模式/ 是/ 确定/ 的/ ,/ 但/ 在/ 测试/ 完成/ 前/ 通常/ 是/ 未知/ 的/ ./ 定义/ 3/ ./ F/ -/ 度量/ (/ F/ -/ measure/ )/ [/ 4/ ]/ ./ 指/ 检测/ 到/ 第/ 1/ 个/ 失效/ 时所/ 使用/ 的/ 测试用例/ 数量/ 的/ 期望值/ ./ F/ -/ measure/ 可/ 用于/ 表征/ 测试用例/ 集/ 的/ 失效/ 检测/ 能力/ ,/ 即/ 测试用例/ 集/ 的/ 有效性/ ./ 基于/ 上述/ 定义/ ,/ 理论/ 上当/ 采用/ 放/ 回/ 策略/ 选择/ 测试用例/ 时/ ,/ 随机/ 测试/ 的/ F/ -/ measure/ 将/ 等于/ 1/ // θ/ ./ 2.1/ 随机/ 测试/ 随机/ 测试/ 是/ 一种/ 重要/ 的/ 测试方法/ ,/ 它/ 通常/ 等/ 概率/ 地/ 从/ 输入/ 域/ 中/ 逐个/ 选择/ 测试用例/ ./ 随机/ 测试/ 不仅/ 可以/ 独立/ 使用/ ,/ 还/ 可以/ 是/ 其他/ 众多/ 测试方法/ 中/ 的/ 重要/ 组成部分/ ./ 随机/ 测试/ 已/ 在/ 工业界/ 得到/ 广泛应用/ ,/ 特别/ 是/ 在/ 规约/ 说明/ 和/ 源代码/ 不可/ 获得/ 或/ 不/ 完整/ 的/ 场景/ 下/ ,/ 随机/ 测试/ 仍然/ 可行/ ./ 此外/ ,/ 随机/ 测试/ 具有/ 重要/ 的/ 统计/ 意义/ ,/ 可以/ 从/ 理论/ 上/ 分析/ 其/ 失效/ 检测/ 能力/ ,/ 受到/ 了/ 学术界/ 的/ 广泛/ 关注/ ./ 为了/ 提高/ 随机/ 测试/ 的/ 失效/ 检测/ 能力/ ,/ Chen/ 等/ 人/ [/ 4/ ]/ 提出/ 了/ ART/ 方法/ ./ 该/ 方法/ 的/ 提出/ 基于/ 以下/ 观察/ :/ 已有/ 众多/ 实验/ 研究/ 表明/ 引发/ 失效/ 的/ 输入/ 往往/ 聚集/ 在/ 某/ 一/ 连续/ 的/ 区域/ 内/ ,/ 于是/ ,/ 不会/ 引发/ 失效/ 的/ 输入/ 也/ 同样/ 形成/ 了/ 一片/ 连续/ 的/ 区域/ [/ 8/ ]/ ./ 因此/ ,/ 如果/ 已/ 执行/ 的/ 测试用例/ 未能/ 引发/ 程序/ 失效/ ,/ 那么/ 接下来/ 新/ 生成/ 的/ 测试用例/ 就/ 应该/ 与/ 所有/ 已/ 执行/ 且/ 未能/ 引发/ 程序/ 失效/ 的/ 测试用例/ 的/ 距离/ 尽可能/ 的/ 远/ ,/ 从而/ 使/ 生成/ 的/ 测试用例/ 尽可能/ 均匀/ 地/ 分布/ 在/ 整个/ 输入/ 域/ ,/ 以便/ 快速/ 检测/ 到/ 失效/ 区域/ ./ 固定/ 规模/ 的/ 候选/ 测试用例/ 集/ 的/ ART/ 算法/ (/ FixedSizedCandidateSetART/ ,/ FSCS/ -/ ART/ )/ 是/ 基于/ 距离/ 计算/ 的/ 一个/ 经典/ 算法/ [/ 4/ ]/ ./ 在/ 选择/ 下/ 一个/ 测试用例/ 时/ ,/ 首先/ 随机/ 生成/ 固定/ 数量/ 的/ 候选/ 测试用例/ ,/ 对于/ 每个/ 候选/ 测试用例/ cj/ ,/ 找出/ cj/ 与/ 已/ 执行/ 测试用例/ 集中/ 最靠近/ 的/ 测试用例/ ,/ 获得/ 这/ 两个/ 测试用例/ 之间/ 的/ 距离/ dj/ ./ 拥有/ 最大/ 距离/ dj/ 的/ 候选/ 测试用例/ 将/ 作为/ 下/ 一个/ 待/ 执行/ 的/ 测试用例/ ./ 已有/ 实验/ 结果表明/ :/ 相比/ RT/ ,/ FSCS/ -/ ART/ 在/ 失效/ 检测/ 能力/ 方面/ 有/ 显著/ 的/ 提高/ ./ 然而/ ,/ 由于/ FSCS/ -/ ART/ 在/ 产生/ 测试用例/ 时/ 需要/ 逐一/ 计算/ 候选/ 集中/ 的/ 测试用例/ 与/ 已/ 执行/ 的/ 测试用例/ 之间/ 的/ 距离/ ,/ 所以/ 算法/ 的/ 计算/ 开销/ 较大/ ./ 在/ 此基础/ 上/ ,/ 众多/ 研究/ 学者/ 提出/ 了/ 一系列/ 算法/ 来/ 实现/ 测试用例/ 在/ 输入/ 域/ 上/ 的/ 均匀分布/ [/ 9/ -/ 21/ ]/ ,/ 同时/ ,/ 为/ 降低/ ART/ 算法/ 生成/ 测试用例/ 的/ 计算/ 开销/ ,/ 提出/ 了/ 一些/ 通用/ 的/ 技术/ ,/ 例如/ 划分/ (/ partitioning/ )/ 技术/ [/ 15/ -/ 17/ ]/ 、/ 过滤/ (/ filtering/ )/ 技术/ [/ 18/ ]/ 、/ 镜像/ (/ mirroring/ )/ 技术/ [/ 19/ ]/ 、/ 聚类/ (/ clustering/ )/ 技术/ [/ 20/ ]/ 、/ 遗忘/ (/ forgetting/ )/ 技术/ [/ 21/ ]/ 等/ ./ 特别/ 地/ ,/ 研究/ 学者/ 引入/ 划分/ 的/ 思想/ ,/ 提出/ 了/ 一些/ 基于/ 划分/ 的/ ART/ 算法/ ,/ 例如/ 基于/ 随机/ 划分/ 的/ [/ 15/ ]/ 、/ 基于/ 二分/ 划分/ 的/ [/ 15/ ]/ 、/ 基于/ 迭代/ 划分/ 的/ [/ 16/ ]/ 、/ 基于/ 格/ 划分/ [/ 17/ ]/ 的/ ART/ 算法/ ./ 众多/ 的/ ART/ 实现/ 算法/ 具有/ 不同/ 的/ 失效/ 检测/ 能力/ 、/ 不同/ 的/ 计算/ 开销/ 和/ 各自/ 的/ 适用/ 场景/ [/ 22/ -/ 24/ ]/ ./ Mayer/ 等/ 人/ [/ 24/ ]/ 通过/ 一系列/ 实验/ 比较/ 了/ 现有/ 的/ 13/ 种/ ART/ 实现/ 算法/ ,/ 并/ 指出/ :/ 基于/ 距离/ 计算/ 的/ ART/ 实现/ 算法/ ,/ 如/ FSCS/ -/ ART/ 的/ 失效/ 检测/ 能力/ 较强/ ,/ 基于/ 迭代/ 划分/ 的/ ART/ 算法/ (/ ARTthroughIterativePartitioning/ ,/ IP/ -/ ART/ )/ 的/ 计算/ 开销/ 较/ 小/ ./ IP/ -/ ART/ 算法/ 的/ 基本/ 思想/ 是/ :/ 以/ 二维/ 输入/ 域/ 为例/ ,/ 首先/ 将/ 输入/ 域/ 划分/ 为/ p/ ×/ p/ 个/ 格子/ ,/ 每次/ 从/ 可选/ 的/ 格子/ 集合/ 中/ 随机/ 选定/ 一个/ 格子/ ,/ 并/ 在/ 该/ 格子/ 中/ 随机/ 生成/ 测试用例/ ./ 可选/ 的/ 格子/ 集合/ 不/ 包含/ 已/ 执行/ 的/ 测试用例/ 所在/ 的/ 格子/ 以及/ 与/ 该/ 格子/ 相邻/ 的/ 所有/ 格子/ ./ 当可选/ 的/ 格子/ 集合/ 为/ 空时/ ,/ 将/ 输入/ 域/ 进一步/ 划分/ 为/ (/ p/ +/ 1/ )/ ×/ (/ p/ +/ 1/ )/ 个/ 格子/ [/ 16/ ]/ ./ IP/ -/ ART/ 通过/ 划分/ 来/ 选定/ 下/ 一个/ 测试用例/ 的/ 可选/ 区域/ ,/ 避免/ 了/ 大量/ 的/ 距离/ 计算/ 开销/ ,/ 并/ 保持/ 了/ 较/ 高/ 的/ 失效/ 检测/ 能力/ ./ 2.2/ 划分/ 测试/ 划分/ 测试/ 首先/ 将/ 输入/ 域/ 分割/ 成/ 多个/ 不/ 相交/ 的/ 子域/ ,/ 随后/ 在/ 每个/ 子域/ 中/ 选择/ 测试用例/ ./ 在/ 理想/ 的/ 划分/ 情况/ 下/ ,/ 每个/ 子域/ 中/ 的/ 所有/ 元素/ 或者/ 都/ 能/ 检测/ 出/ 失效/ ,/ 或者/ 都/ 无法/ 检测/ 出/ 失效/ ,/ 此时/ 对于/ 每个/ 子域/ 仅/ 需要/ 选择/ 其中/ 任意/ 一个/ 元素/ 进行/ 测试/ 即可/ ./ 然而/ ,/ 目前/ 没有/ 一种/ 方法/ 能够/ 确保/ 获得/ 这样/ 理想/ 的/ 划分/ ,/ 除非/ 每个/ 子域/ 中仅/ 包含/ 一个/ 元素/ ,/ 然而/ 这样/ 的/ 划分/ 测试/ 将/ 退化/ 为/ 穷尽/ 测试/ [/ 25/ ]/ ;/ 此外/ ,/ 在/ 划分/ 测试/ 中/ ,/ 对于/ 输入/ 域/ 的/ 划分/ 往往/ 是/ 需要/ 额外/ 时间/ 开销/ 的/ ,/ 因此/ ,/ 需要/ 衡量/ 划分/ 测试/ 的/ 划分/ 代价/ 是否/ 可/ 接受/ ./ 众多/ 研究/ 学者/ 将/ 划分/ 测试/ 和/ 随机/ 测试/ 相/ 比较/ ./ Weyuker/ 等/ 人/ [/ 26/ ]/ 提出/ 了/ 一种/ 同等/ 大小/ -/ 同等/ 抽样/ 数/ 的/ 划分/ 测试/ 策略/ (/ Equal/ -/ Size/ -/ Equal/ -/ SamplingStrategy/ ,/ ESESS/ )/ ,/ 该/ 策略/ 首先/ 将/ 输入/ 域/ 划分/ 为/ 相等/ 大小/ 的/ 子/ Page4/ 域/ 集合/ ,/ 随后/ 有放/ 回地/ 从/ 每个/ 子域/ 中/ 随机/ 选取/ 相同/ 数量/ 的/ 测试用例/ ./ 当/ 每个/ 输入/ 具有/ 相同/ 的/ 失效/ 概率/ ,/ ESESS/ 和/ RT/ 选取/ 相同/ 数量/ 的/ 测试用例/ 时/ ,/ ESESS/ 检测/ 出/ 至少/ 一个/ 失效/ 的/ 概率/ (/ 即/ P/ -/ measure/ )/ 将/ 等于/ 或/ 高于/ RT/ 的/ P/ -/ measure/ ./ 在/ 此基础/ 上/ ,/ Chen/ 等/ 人/ [/ 27/ ]/ 提出/ 了/ 更为/ 通用/ 的/ 比例/ 抽样/ 策略/ (/ ProportionalSamplingStrategy/ ,/ PSS/ )/ ,/ 要求/ 从/ 每个/ 子域/ 中有/ 放/ 回地/ 随机/ 选取/ 的/ 测试用例/ 数应/ 与/ 该/ 子域/ 的/ 大小/ 成/ 固定/ 比例/ ,/ 并/ 证明/ 了/ PSS/ 是/ 获得/ 不/ 低于/ RT/ 的/ P/ -/ measure/ 的/ 充分/ 必要条件/ ./ 当仅/ 已知/ 输入/ 域/ 的/ 空间信息/ ,/ 难以/ 进行/ 其他/ 有效/ 划分/ 时/ ,/ PSS/ 是/ 一种/ 可行/ 的/ 划分/ 测试方法/ ./ Cai/ 等/ 人/ 将/ 划分/ 测试/ 与/ 随机/ 测试/ 相结合/ ,/ 提出/ 了/ 随机/ 划分/ 策略/ (/ RandomPartitionTesting/ ,/ RPT/ )/ [/ 28/ ]/ ./ 该/ 策略/ 首先/ 服从/ 某一/ 概率分布/ 地/ 随机/ 选择/ 一个/ 划分/ 后/ 的/ 子域/ ,/ 随后/ 从/ 选定/ 的/ 子域/ 中/ 服从/ 等/ 概率分布/ 地/ 随机/ 选择/ 一个/ 测试用例/ ./ 为/ 改进/ RPT/ 的/ 失效/ 检测/ 能力/ ,/ Cai/ 等/ 人/ [/ 29/ ]/ 提出/ 了/ 适应性/ 测试/ (/ AdaptiveTesting/ ,/ AT/ )/ 策略/ ,/ 将待测/ 对象/ 建模/ 为/ 一个/ 受控/ 的/ 马尔科夫/ 链/ ,/ 通过/ 在线/ 收集/ 测试/ 历史/ 信息/ 来/ 提高/ 失效/ 检测/ 能力/ ./ 然而/ ,/ AT/ 的/ 反馈/ 机制/ 需要/ 预先/ 收集/ 测试/ 历史/ 信息/ 且/ 需要/ 耗费/ 大量/ 的/ 计算/ 开销/ 用于/ 测试用例/ 的/ 选择/ ./ 近期/ ,/ Cai/ 等/ 人/ [/ 30/ ]/ 将/ AT/ 与/ RPT/ 相结合/ ,/ 力求/ 实现/ 失效/ 检测/ 能力/ 和/ 时间/ 开销/ 方面/ 的/ 平衡/ ./ 尽管/ 现有/ 众多/ 测试方法/ ,/ 包括/ PT/ 、/ ART/ 等/ 都/ 试图/ 改进/ RT/ 的/ 失效/ 检测/ 能力/ ,/ Chen/ 等/ 人/ 在/ 文献/ [/ 31/ ]/ 中/ 给出/ 了/ 一个/ 理论/ 证明/ :/ 除非/ 已知/ 失效/ 输入/ 域/ 的/ 位置/ ,/ 否则/ 即便/ 已知/ 失效/ 输入/ 域/ 的/ 形状/ 、/ 大小/ 、/ 方位/ 等/ 信息/ (/ 事实上/ 我们/ 往往/ 无法/ 事先/ 获知/ 这些/ 信息/ )/ ,/ 没有/ 一种/ 测试/ 策略/ 可以/ 保证/ 将/ 其/ F/ -/ measure/ 降低/ 至/ RTF/ -/ measure/ 的/ 50/ %/ ./ 因此/ ,/ 50/ %/ 的/ RTF/ -/ measure/ 将/ 是/ 最优/ 的/ 测试用例/ 选择/ 策略/ 的/ 失效/ 检测/ 能力/ 的/ 上界/ ./ 已有/ 实验/ 研究/ 结果表明/ :/ ART/ 的/ 失效/ 检测/ 能力/ 已经/ 非常/ 接近/ 这个/ 最优/ 的/ 上界/ [/ 25/ ]/ ./ 基于/ 已有/ 相关/ 工作/ 和/ 分析/ ,/ 本文/ 从/ 划分/ 测试/ 出发/ ,/ 借鉴/ 了/ ART/ 均匀分布/ 的/ 思想/ ,/ 给出/ 了/ 一种/ 迭代/ 划分/ 测试方法/ ,/ 该/ 方法/ 是/ 一种/ 基于/ 输入/ 域/ 空间信息/ 的/ 迭代/ 测试/ 划分/ 方法/ ,/ 较之/ 其他/ 基于/ 功能/ 、/ 路径/ 或/ 风险/ 等/ 信息/ 的/ 划分/ 测试方法/ ,/ 该/ 方法/ 所/ 需/ 的/ 输入/ 域/ 空间信息/ 容易/ 获得/ 且/ 不/ 需要/ 做/ 额外/ 的/ 预处理/ ,/ 极大/ 地/ 减小/ 了/ 划分/ 测试/ 在/ 预处理/ 方面/ 的/ 开销/ ./ 同时/ ,/ 本文/ 的/ 方法/ 借鉴/ 了/ ART/ 均匀分布/ 的/ 思想/ ,/ 希望/ 能/ 在/ 仅/ 使用/ 接近/ RT/ 时间/ 开销/ 的/ 基础/ 上/ ,/ 获得/ 与/ ART/ 相近/ 甚至/ 更好/ 的/ 失效/ 检测/ 能力/ ./ 3/ 迭代/ 划分/ 测试方法/ 本/ 节/ 首先/ 通过/ 一个/ 简单/ 的/ 例子/ 来/ 展示/ 迭代/ 划分/ 测试方法/ IPT/ 的/ 过程/ ,/ 随后/ 给出/ IPT/ 的/ 实现/ 框架/ ,/ 在/ 此基础/ 上/ 提出/ 了/ IPT/ -/ PS/ 方法/ ,/ 最后/ 从/ 理论/ 上/ 分析/ 了/ IPT/ 和/ IPT/ -/ PS/ 的/ 失效/ 检测/ 能力/ ./ 3.1/ 一个/ 例子/ 为/ 便于/ 理解/ ,/ 假定/ 待测/ 程序/ 的/ 输入/ 域/ 为/ 二维/ 矩形/ 区域/ ,/ 失效/ 域/ 为/ 块状/ 模式/ ./ 如图/ 1/ (/ a/ )/ ~/ (/ d/ )/ 所示/ ,/ IPT/ 首先/ 选择/ 输入/ 域/ A/ 的/ 中心点/ a/ 作为/ 测试用例/ 执行/ ,/ 若/ a/ 未能/ 命中/ 失效/ 区域/ ,/ 则/ 依据/ a/ 将/ 输入/ 域/ 划分/ 为/ 4/ 个子/ 区域/ B1/ ~/ B4/ ,/ 分别/ 选取/ B1/ ~/ B4/ 的/ 中心点/ b1/ ~/ b4/ 作为/ 测试用例/ 执行/ ;/ 若/ b1/ ~/ b4/ 均/ 未能/ 命中/ 失效/ 区域/ ,/ 则/ 依据/ b1/ ~/ b4/ 将/ 输入/ 域/ 划分/ 为/ 16/ 个子/ 区域/ C1/ ~/ C16/ ,/ 分别/ 选取/ C1/ ~/ C16/ 的/ 中心点/ c1/ ~/ c16/ 作为/ 测试用例/ 执行/ ;/ 此时/ ,/ 右上方/ 子/ 区域/ C4/ 的/ 中心点/ c4/ 将/ 命中/ 失效/ 区域/ ,/ 即/ 检测/ 出/ 失效/ ./ 反之/ ,/ 若/ c1/ ~/ c16/ 均/ 未能/ 命中/ 失效/ 区域/ ,/ 则/ 将/ 迭代/ 进行/ 下/ 一轮/ 划分/ ,/ 产生/ 64/ 个子/ 区域/ ./ 3.2/ 迭代/ 划分/ 测试方法/ (/ IPT/ )/ 由/ 3.1/ 节/ 的/ 示例/ 可知/ :/ IPT/ 将/ 包含/ 迭代/ 划分/ 、/ 中心/ 采样/ 和/ 测试用例/ 执行/ 这/ 3/ 个/ 主要/ 步骤/ ./ IPT/ 首先/ 通过/ 不断/ 地/ 迭代/ 划分/ 输入/ 域/ 并/ 确定性/ 地/ 选取/ 划分/ 后/ 子域/ 的/ 中心点/ 作为/ 待/ 执行/ 的/ 测试用例/ ;/ 随后/ 基于/ 执行/ 策略/ ,/ 依次/ 执行/ 待选/ 测试用例/ ./ 当/ 测试用例/ 命中/ 失效/ 区域/ 时/ ,/ 输出/ 已/ 执行/ 的/ 测试用例/ 数量/ ,/ 否则/ 将/ 继续/ 进入/ 下/ 一轮/ 的/ 迭代/ 划分/ 和/ 中心点/ 采样/ 直至/ 检测/ 出程/ Page5/ 序中/ 的/ 第/ 1/ 个/ 失效/ ,/ 具体/ 如/ 算法/ 1/ 所示/ ./ 算法/ 1/ ./ IPT/ ./ 输入/ :/ m/ 维待测/ 程序/ 的/ 输入/ 域/ D/ ,/ 失效/ 域/ F/ 输出/ :/ 检测/ 到/ 第/ 1/ 个/ 失效/ 时/ 已/ 执行/ 的/ 测试用例/ 数量/ 1/ ./ 初始化/ F/ -/ count/ =/ 0/ ,/ 划分/ 层次/ 数/ n/ =/ 02/ ./ 选取/ D/ 的/ 中心点/ a/ 执行/ ,/ F/ -/ count/ ++/ IF/ 测试用例/ a/ 命中/ 失效/ 区域/ THENRETURNF/ -/ countELSEn/ ++/ ENDIF3/ (/ 迭代/ 划分/ )/ ./ 根据/ 已/ 执行/ 测试用例/ 将/ 当前/ 输入/ 域/ 划分/ 为/ 2mn/ 个子/ 域/ 4/ (/ 中心/ 采样/ )/ ./ 采样/ 2mn/ 个子/ 域/ 的/ 中心点/ 组成/ 待/ 测用/ 例集/ TestSet5/ (/ 用例/ 执行/ )/ ./ 当/ TestSet/ 不为/ 空时/ ,/ 根据/ 执行/ 策略/ ,/ 依次/ 不放/ 回地/ 选取/ 测试用例/ t/ ∈/ TestSet/ 执行/ ,/ F/ -/ count/ ++/ 6/ ./ n/ ++/ ,/ 转向/ 步/ 3/ ./ 其中/ 在步/ 4/ 获得/ 2mn/ 个子/ 域/ 的/ 中心点/ 组成/ 待测/ 用例/ 集后/ ,/ 步/ 5/ (/ 用例/ 执行/ )/ 可以/ 采用/ 多种/ 执行/ 策略/ ,/ 包括/ 基于/ 等/ 概率/ 的/ 执行/ 策略/ ,/ 如/ 随机/ 执行/ 、/ 顺序/ 执行/ 等/ ;/ 以及/ 基于/ 不/ 等/ 概率/ 的/ 执行/ 策略/ ,/ 如/ 基于/ 优先级/ 的/ 执行/ 等/ ./ 对于/ 给定/ 的/ 待测/ 程序/ ,/ 在/ 检测/ 到/ 第一个/ 失效/ 前/ ,/ 其/ 失效率/ θ/ 是/ 确定/ 不变/ 的/ ,/ 但/ 在/ 测试/ 过程/ 中/ ,/ θ/ 通常/ 是/ 未知/ 的/ ./ 为此/ ,/ IPT/ 采用/ 了/ 迭代/ 划分/ 、/ 中心/ 采样/ 的/ 策略/ ,/ 通过/ 不断/ 执行/ 测试用例/ 获取/ 关于/ θ/ 的/ 信息/ ./ 在/ m/ 维空间/ 中/ ,/ n/ 次/ 划分/ 并/ 执行/ 新增/ 的/ 2mn/ 个/ 测试用例/ 后/ ,/ 仍/ 无法/ 命中/ 失效/ 区域/ 时/ ,/ 我们/ 可以/ 推断出/ 该待测/ 程序/ 的/ 失效率/ θ/ 一定/ 小于/ 某个/ 值/ ./ 如/ 定理/ 1/ 所述/ ./ 定理/ 1/ ./ 假设/ 输入/ 域/ 和/ 失效/ 域/ 均/ 为/ m/ 维/ 等距/ 连续/ 空间/ ,/ 失效率/ 为/ θ/ ./ 对于/ IPT/ 有/ :/ 若/ 进行/ 了/ n/ 次/ 划分/ ,/ 共计/ 执行/ 了/ ∑/ 效域/ ,/ 则/ 可推断/ θ/ 的/ 取值/ 范围/ 为/ θ/ </ 证明/ ./ 可用/ 数学/ 归纳法/ 证明/ ,/ 详见/ 附录/ 1/ ./ 由/ 定理/ 1/ 可知/ ,/ 在/ m/ 维空间/ 中/ ,/ n/ 次/ 划分/ 并/ 执行/ 新增/ 的/ 2mn/ 个/ 测试用例/ 仍/ 未/ 命中/ 失效/ 区域/ 时/ ,/ 可以/ 推断出/ θ/ </ n2m/ ·/ i/ 个/ 测试用例/ 一定/ 可以/ 命中/ 失效/ 区域/ ./ ∑/ i/ =/ 03.3/ 基于/ 优先级/ 的/ 迭代/ 划分/ 测试方法/ (/ IPT/ -/ PS/ )/ 根据/ IPT/ 的/ 实现/ 算法/ 和/ 定理/ 1/ ,/ 我们/ 发现/ :/ 只有/ 待/ 新增/ 的/ 2mn/ 个/ 测试用例/ 全部/ 被/ 执行/ 通过/ 后/ ,/ 才/ 可以/ 推断出/ θ/ </ 这/ 促使/ 我们/ 考虑/ :/ 2mn/ 个/ 测试用例/ 在/ 执行/ 过程/ 中/ 是否/ 能/ 获得/ 更/ 多/ 关于/ θ/ 的/ 信息/ ,/ 不同/ 的/ 测试用例/ 执行/ 顺序/ 是否/ 会/ 影响/ 到/ IPT/ 的/ 失效/ 检测/ 能力/ ./ 基于/ 上述/ 考虑/ ,/ 我们/ 提出/ 了/ 基于/ 优先级/ 的/ 迭代/ 划分/ 测试方法/ IPT/ -/ PS/ ,/ 通过/ 分析/ 新增/ 的/ 待/ 执行/ 的/ 测试用例/ 的/ 不同/ 空间/ 特性/ ,/ 将/ 测试用例/ 分为/ 3/ 种/ 不同/ 优先/ 等级/ 后/ ,/ 依次/ 执行/ ,/ 从而/ 获取/ 了/ 更/ 多/ 关于/ θ/ 的/ 信息/ ,/ 可以/ 得到/ 当前/ 待测/ 程序/ 的/ 失效率/ θ/ 的/ 更为/ 细致/ 的/ 推断/ ./ 我们/ 通过/ 一个/ 例子/ 说明/ IPT/ -/ PS/ 如何/ 实现/ 基于/ 优先级/ 的/ 用例/ 执行/ ,/ 如图/ 2/ (/ a/ )/ 所示/ :/ 输入/ 域/ 和/ 失效/ 域/ 均/ 为/ 二维/ 等距/ 连续/ 空间/ ,/ 假定/ 输入/ 域/ 的/ 面积/ 为/ 1/ ./ 前期/ 已/ 进行/ 了/ 1/ 次/ 划分/ ,/ 已/ 执行/ 的/ 5/ 个/ 测试用例/ 用/ 符号/ “/ ·/ ”/ 表示/ ,/ 2/ 次/ 划分/ 所/ 产生/ 16/ 个子/ 域/ 的/ 中心点/ 组成/ 待/ 执行/ 的/ 测试用例/ 集/ {/ c1/ ~/ c16/ }/ ./ 根据/ 这些/ 测试用例/ 的/ 空间/ 特性/ ,/ IPT/ -/ PS/ 将/ 16/ 个/ 测试用例/ 分为/ 3/ 种/ 不同/ 优先/ 等级/ ,/ 对应/ 集合/ 为/ T1/ ,/ T2/ ,/ T3/ ,/ 在/ 同一/ 优先级/ 的/ 情况/ 下/ ,/ 将/ 随机/ 执行/ 其中/ 任意/ 一个/ 测试用例/ ./ 测试用例/ 优先级/ 取决于/ 该/ 测试用例/ 的/ 执行/ 是否/ 会/ 导致/ 当前/ 可/ 放入/ 的/ 最大/ 失效/ 区域/ 面积/ (/ 记为/ S/ )/ 产生/ 变化/ ./ 如图/ 2/ (/ a/ )/ ~/ (/ d/ )/ 所示/ ,/ 在/ 加入/ 2/ 个/ “/ / ”/ 的/ 测试用例/ 前/ ,/ S/ =/ 1/ // 4/ ;/ 当/ 放入/ 2/ 个/ “/ / ”/ 的/ 测试用例/ 后/ ,/ Page6S/ 将/ 变更/ 为/ 1/ 试用/ 例后/ ,/ S/ 将/ 变更/ 为/ 1/ “/ ○/ ”/ 的/ 测试用例/ 后/ ,/ S/ 保持/ 不变/ ./ 由此可见/ ,/ 在/ 图/ 2/ 中/ ,/ 标记/ 为/ “/ / ”/ 的/ 测试用例/ 属于/ 集合/ T1/ ,/ 优先级/ 最高/ ;/ 标记/ 为/ “/ △/ ”/ 的/ 测试用例/ 属于/ 集合/ T2/ ,/ 优先级/ 次之/ ;/ 标记/ 为/ “/ ○/ ”/ 的/ 测试用例/ 属于/ 集合/ T3/ ,/ 优先级/ 最低/ ./ 可/ 放入/ 的/ 最大/ 失效/ 区域/ 面积/ S/ 的/ 不断/ 缩小/ ,/ 意味着/ 随着/ 测试用例/ 的/ 执行/ 通过/ ,/ 可以/ 推断出/ 的/ 该/ 待测/ 程序/ 的/ 失效率/ θ/ 的/ 取值/ 范围/ 也/ 在/ 不断/ 缩小/ ,/ 我们/ 可以/ 获得/ 更加/ 精确/ 的/ 关于/ θ/ 可能/ 取值/ 的/ 推断/ ./ 为/ 实现/ IPT/ -/ PS/ ,/ 我们/ 首先/ 需要/ 知道/ 如何/ 将/ 待/ 执行/ 测试用例/ 分类/ ,/ 并/ 分别/ 放入/ T1/ ,/ T2/ ,/ T3/ 集合/ 中/ ./ 如图/ 2/ (/ b/ )/ 所示/ ,/ 我们/ 为/ 每/ 一维/ 经过/ n/ 次/ 划分/ 后/ 得到/ 的/ 2n/ 个子/ 域/ 的/ 中心点/ ,/ 即/ 2n/ 个/ 待/ 执行/ 测试用例/ 建立/ 索引/ ,/ 记为/ Ik/ =/ {/ 0/ ,/ 1/ ,/ …/ ,/ 2n/ -/ 1/ }/ ,/ 其中/ 下标/ k/ 表示/ 第/ k/ 维/ ./ 这样/ ,/ 在/ 二维/ 空间/ 中/ ,/ 待/ 执行/ 的/ 22n/ 个/ 测试用例/ 可以/ 用/ (/ i1/ ,/ i2/ )/ 唯一/ 标记/ ,/ 其中/ i1/ ∈/ I1/ ,/ i2/ ∈/ I2/ ./ 观察/ 图/ 2/ 可以/ 发现/ ,/ T1/ 中/ 的/ 元素/ 需/ 同时/ 满足/ 以下/ 两个/ 条件/ :/ (/ 1/ )/ 每/ 一维/ 上/ 的/ 索引/ 不为/ 0/ 或/ 最大值/ (/ 即/ i1/ ≠/ 0/ ,/ 2n/ -/ 1/ 且/ i2/ ≠/ 0/ ,/ 2n/ -/ 1/ )/ ;/ (/ 2/ )/ |/ i1/ -/ i2/ |/ mod2/ 为/ 0/ ;/ T3/ 中/ 的/ 元素/ 满足/ :/ 每/ 一维/ 上/ 的/ 索引/ 为/ 0/ 或/ 最大值/ ;/ T2/ 则/ 为/ 22n/ 个/ 待/ 测用/ 例中/ 不/ 属于/ T1/ 和/ T3/ 的/ 测试用例/ 构成/ 的/ 集合/ ./ 当/ 从/ 二维/ 空间/ 推广/ 到/ m/ 维空间/ 时/ ,/ 经过/ n/ 次/ 划分/ 得到/ 的/ 2mn/ 个/ 待/ 测用例/ 可以/ 用/ (/ i1/ ,/ i2/ ,/ …/ ,/ im/ )/ 唯一/ 标记/ ,/ 其中/ ik/ ∈/ Ik/ ./ 此时/ ,/ 可以/ 将/ 2mn/ 个/ 待/ 测用例/ 按照/ 如下/ 规则/ 分别/ 放入/ T1/ ,/ T2/ ,/ T3/ ./ T1/ 中/ 的/ 元素/ 满足/ :/ (/ 1/ )/ 每/ 一维/ 上/ 的/ 索引/ 不为/ 0/ 或/ 最大值/ (/ 即/ ik/ ≠/ 0/ ,/ 2n/ -/ 1/ )/ ;/ (/ 2/ )/ |/ ij/ -/ ij/ +/ 1/ |/ mod2/ 为/ 0/ ,/ 其中/ j/ ∈/ {/ 1/ ,/ 2/ ,/ …/ ,/ m/ -/ 1/ }/ ./ T3/ 中/ 的/ 元素/ 满足/ :/ 每/ 一维/ 上/ 的/ 索引/ 为/ 0/ 或/ 最大值/ ./ T2/ 为/ 2mn/ 个/ 待/ 测用/ 例中/ 不/ 属于/ T1/ 和/ T3/ 的/ 测试用例/ 构成/ 的/ 集合/ ./ 基于/ 上述/ 规则/ ,/ 可/ 分别/ 计算/ 集合/ T1/ ,/ T2/ ,/ T3/ 的/ 大小/ ./ 对于/ T1/ 而言/ :/ 由/ 条件/ (/ 1/ )/ 可知/ ,/ 每/ 一维/ 上/ 的/ 索引/ ik/ ∈/ Ik/ 只能/ 从/ {/ 1/ ,/ 2/ ,/ …/ ,/ 2n/ -/ 2/ }/ 中/ 取值/ ,/ 因此/ 当前/ 待选/ 测试用例/ 总/ 个数/ 为/ (/ 2n/ -/ 2/ )/ m/ ./ 由/ 条件/ (/ 2/ )/ 可知/ ,/ 测试用例/ 需要/ 满足/ m/ -/ 1/ 次/ |/ ij/ -/ ij/ +/ 1/ |/ mod2/ 为/ 0/ 的/ 判断/ ,/ 而/ |/ ij/ -/ ij/ +/ 1/ |/ mod2/ 取值/ 为/ 0/ 或/ 1/ 的/ 测试用例/ 数量/ 是/ 相同/ 的/ ,/ 因此/ 满足条件/ (/ 2/ )/ 的/ 测试用例/ 数量/ 只/ 占/ 满足条件/ (/ 1/ )/ 的/ 测试用例/ 数量/ 的/ 1/ 素/ 个数/ 为/ Ik/ 只能/ 从/ {/ 0/ ,/ 2n/ -/ 1/ }/ 中/ 取值/ ,/ 因此/ ,/ T3/ 中/ 的/ 元素/ 个数/ 为/ 2m/ ./ 而/ T2/ 中/ 的/ 元素/ 个数/ 则/ 为/ 2mn/ -/ 在/ 已知/ 每个/ 测试用例/ 所/ 从属/ 的/ 集合/ 后/ ,/ IPT/ -/ PS/ 仅/ 需/ 在/ IPS/ 的/ 算法/ 框架/ 上将/ 步/ 5/ (/ 用例/ 执行/ )/ 调整/ 为/ 基于/ 优先级/ 的/ 用例/ 执行/ ,/ 算法/ 描述/ 如/ 算法/ 2/ 所示/ ./ 算法/ 2/ ./ IPT/ -/ PS/ ./ 输入/ :/ m/ 维待测/ 程序/ 的/ 输入/ 域/ D/ ,/ 失效/ 域/ F/ 输出/ :/ 检测/ 到/ 第/ 1/ 个/ 失效/ 时/ 已/ 执行/ 的/ 测试用例/ 数量/ 步/ 1/ ~/ 步/ 4/ :/ 同/ 算法/ 1/ (/ IPT/ )/ 5/ (/ 基于/ 优先级/ 的/ 用例/ 执行/ )/ ./ 根据/ 优先级/ 高低/ ,/ 将/ 2mn/ 个/ 待/ 测用例/ 分别/ 放入/ 集合/ T1/ ,/ T2/ ,/ T3/ 依次/ 针对/ 集合/ Ti/ (/ i/ =/ 1/ ,/ 2/ ,/ 3/ )/ WHILE/ (/ Ti/ ≠/ / )/ 随机/ 从/ Ti/ 选择/ 测试用例/ tj/ (/ j/ =/ 1/ ,/ 2/ ,/ …/ ,/ |/ Ti/ |/ )/ 执行/ Ti/ =/ Ti/ -/ {/ tj/ }/ ,/ F/ -/ count/ ++/ IF/ 测试用例/ tj/ 命中/ 失效/ 区域/ THENRETURNF/ -/ countENDIFENDWHILE6/ ./ n/ ++/ ,/ 转向/ 步/ 3/ ./ 根据/ IPT/ -/ PS/ 基于/ 优先级/ 执行/ 测试用例/ 的/ 特点/ ,/ 我们/ 发现/ 在/ 待/ 执行/ 的/ 共计/ 2mn/ 个/ 测试用例/ 中/ ,/ 当/ 执行/ 了/ 优先级/ 最高/ 的/ T1/ 中/ 的/ 测试用例/ 无法/ 命中/ 失效/ 区域/ 时/ ,/ 可以/ 推断出/ 该待测/ 程序/ 的/ 失效率/ θ/ 一定/ 小于/ 某个/ 值/ ,/ 如/ 定理/ 2/ 所述/ ./ 定理/ 2/ ./ 假设/ 输入/ 域/ 和/ 失效/ 域/ 均/ 为/ m/ 维/ 等距/ 连续/ 空间/ ,/ 失效率/ 为/ θ/ ./ 对于/ IPT/ -/ PS/ 有/ :/ 若/ 进行/ 了/ n/ 次/ 划分/ ,/ 共计/ 执行/ 了/ ∑/ 仍/ 无法/ 命中/ 失效/ 域/ ,/ 则/ 可推断/ θ/ 的/ 取值/ 范围/ 为/ θ/ </ 2m/ (/ n/ -/ 1/ )/ (/ )/ 31/ 证明/ ./ 可用/ 数学/ 归纳法/ 证明/ ,/ 详见/ 附录/ 1/ ./ 由/ 定理/ 1/ 和/ 定理/ 2/ 可知/ ,/ 在/ m/ 维空间/ 中/ ,/ 进行/ n/ 次/ 划分/ 后/ ,/ IPT/ 需/ 完全/ 执行/ 2mn/ 个/ 测试用例/ ,/ 才/ 可推断/ θ/ 的/ 取值/ 范围/ 将/ 从/ θ/ </ IPT/ -/ PS/ 引入/ 基于/ 优先级/ 执行/ 测试用例/ ,/ 在/ 执行/ 了/ (/ 2n/ -/ 2/ )/ m2m/ -/ 1/ 个/ 测试用例/ 后/ ,/ 即可/ 推断/ θ/ 的/ 取值/ 范围/ 将/ 从/ θ/ </ 2m/ (/ n/ -/ 1/ )/ 缩小/ 至/ θ/ </ Page7/ 此外/ ,/ IPT/ -/ PS/ 中/ T1/ 的/ 元素/ 个数/ 为/ 为/ (/ 2n/ -/ 2/ )/ m2m/ -/ 1/ </ 本轮/ 待/ 执行/ 测试用例/ 总量/ 2mn/ 的/ 1/ 即可/ 获得/ 关于/ θ/ 的/ 取值/ 范围/ 的/ 更/ 细致/ 的/ 推断/ ./ 3.4/ IPT/ 和/ IPT/ -/ PS/ 的/ 理论/ 分析/ 由/ 定理/ 1/ 和/ 定理/ 2/ 可知/ ,/ 当待测/ 程序/ 的/ θ/ =/ 时/ ,/ IPT/ 最多/ 需要/ 执行/ ∑/ 中/ 失效/ 区域/ ,/ 而/ IPT/ -/ PS/ 最多/ 在/ 执行/ 完第/ n/ 次/ 划分/ 的/ 新增/ 测试用例/ 中/ T1/ ,/ T2/ 的/ 测试用例/ 后/ ,/ 就/ 可以/ 命中/ 失效/ 区域/ ./ 当/ θ/ =/ 需要/ 执行/ ∑/ 而/ IPT/ -/ PS/ 最多/ 在/ 执行/ 完第/ n/ 次/ 划分/ 的/ 新增/ 测试用例/ 中/ T1/ 的/ 测试用例/ 后/ ,/ 就/ 可以/ 命中/ 失效/ 区域/ ./ 因此/ ,/ 借助/ θ/ 进一步/ 对比/ IPT/ 和/ IPT/ -/ PS/ 在/ 最坏/ 情况/ 下/ 的/ 表现/ ,/ 有/ 如下/ 分析/ :/ (/ 1/ )/ 对于/ IPT/ ,/ 令/ Nworst/ 执行/ 的/ 测试用例/ 数量/ ./ 当/ 12m/ ·/ n/ / θ/ </ 所以/ Nworst/ (/ 2/ )/ 对于/ IPT/ -/ PS/ ,/ 令/ NworstPS/ 所需/ 执行/ 的/ 测试用例/ 数量/ ./ ①/ 当/ 13m/ θ/ ,/ 所以/ Nworst/ ②/ 当/ 12m/ θ/ ,/ 所以/ Nworst/ 令/ Δ/ 为/ 上述/ ①/ 和/ ②/ 两种/ 情况/ 下/ Nworst/ 值/ ,/ 则/ Δ/ =/ 2m/ -/ 13m/ -/ 3/ ·/ 2m/ =/ 当/ m/ / 3/ 时/ ,/ Δ/ >/ 0/ 成立/ ./ 综上/ 可得/ NworstIPT/ -/ PS/ =/ 由/ 上述/ 分析/ 可知/ ,/ 已知/ 待测/ 程序/ 的/ θ/ ,/ IPT/ 和/ IPT/ -/ PS/ 均/ 存在/ 着/ 检测/ 出/ 对应/ 失效/ 所/ 需/ 测试用例/ 数量/ 的/ 上界/ ./ 当/ m/ / 2/ 时/ ,/ NworstIPT/ -/ PS/ 获得/ 更紧/ 的/ 上界/ ./ 相对/ 于/ 随机/ 测试/ 的/ 不确定性/ ,/ IPT/ 和/ IPT/ -/ PS/ 存在/ 上界/ 将/ 为/ 测试/ 过程/ 中/ 测试/ 资源/ 的/ 有效/ 分配/ 提供/ 帮助/ ./ 4/ 实验/ 结果/ 与/ 分析/ 本节/ 将/ 给出/ 一系列/ 实验/ 结果/ ,/ 并/ 围绕/ 以下/ 3/ 个/ 研究/ 问题/ 展开/ 分析/ 和/ 对比/ :/ 问题/ 1/ ./ IPT/ -/ PS/ 在/ 失效/ 检测/ 能力/ 和/ 时间/ 开销/ 方面/ 的/ 表现/ 如何/ ?/ 问题/ 2/ ./ 相对/ 于/ IPT/ ,/ IPT/ -/ PS/ 采用/ 基于/ 优先级/ 的/ 用例/ 执行/ 策略/ 是否/ 能/ 有效/ 地/ 改进/ 算法/ 性能/ ?/ 问题/ 3/ ./ IPT/ -/ PS/ 在/ 高维/ 、/ 多种/ 失效/ 模式/ 、/ 真实/ 程序/ 等/ 场景/ 下/ 的/ 适用性/ 如何/ ?/ 4.1/ 实验/ 设置/ 本文/ 首先/ 采用/ 仿真/ 实验/ 进行/ 比较/ 分析/ ,/ 仿真/ 实验/ 将/ 有利于/ 帮助/ 控制/ 实验/ 参数/ 的/ 变化/ ,/ 涉及/ 的/ 参数/ 主要/ 包括/ 维度/ 、/ 失效率/ 、/ 测试方法/ 和/ 实验/ 次数/ ,/ 逐一/ 说明/ 如下/ :/ (/ 1/ )/ 维度/ ./ 当待测/ 程序/ 有/ m/ 个/ 输入/ 参数/ 时/ ,/ 该/ 程序/ 的/ 输入/ 域/ 为/ m/ 维空间/ ./ 在/ 仿真/ 实验/ 中/ ,/ 将/ 讨论/ 1/ ~/ 4/ 维空间/ 输入/ 域/ ,/ 并/ 假定/ 均/ 为/ 各维/ 等距/ 的/ 连续/ 空间/ ,/ 即/ 2/ 维/ 输入/ 域/ 为/ 正方形/ ,/ 3/ 维/ 输入/ 域/ 为/ 正方体/ ./ (/ 2/ )/ 失效率/ ./ 即/ 失效/ 输入/ 域/ 占/ 整个/ 输入/ 域/ 的/ 比例/ ,/ 显然/ 失效率/ θ/ ∈/ [/ 0/ ,/ 1/ ]/ ./ 同时/ 假定/ ,/ 失效/ 输入/ 域/ 也/ 是/ 各维/ 等距/ 的/ 连续/ 空间/ ./ (/ 3/ )/ 测试方法/ ./ 本次/ 实验/ 中将/ 对比/ 以下/ 6/ 种/ 测试方法/ :/ ①/ RT/ ./ 有放回/ 的/ 随机/ 测试/ 将/ 作为/ 本/ 实验/ 的/ 基准/ 方法/ ./ ②/ FSCS/ ./ 根据/ 文献/ [/ 24/ ]/ 的/ 结果/ ,/ FSCS/ -/ ART/ 的/ 失效/ 检测/ 能力/ 较强/ ,/ 可/ 作为/ 基于/ 距离/ 计算/ 的/ ARTPage8/ 算法/ 的/ 代表/ ./ 其中/ ,/ 固定/ 候选/ 集/ 大小/ 为/ 10/ ./ ③/ IP/ -/ ART/ ./ 根据/ 文献/ [/ 24/ ]/ 的/ 结果/ ,/ IP/ -/ ART/ 的/ 计算/ 开销/ 较/ 小/ ,/ 可/ 作为/ 基于/ 划分/ 的/ ART/ 算法/ 的/ 代表/ ./ 其中/ ,/ 划分/ 参数/ p/ 初始化/ 为/ 1/ ./ ④/ PSS/ ./ 当仅/ 已知/ 输入/ 域/ 的/ 空间信息/ 时/ ,/ PSS/ 仍然/ 可用/ ,/ 因此/ 选取/ PSS/ 作为/ 传统/ 划分/ 测试/ 的/ 代表/ ./ PSS/ 要求/ 从/ 每个/ 子域/ 中有/ 放/ 回地/ 随机/ 选取/ 的/ 测试用例/ 数应/ 与/ 该/ 子域/ 的/ 大小/ 成/ 固定/ 比例/ ./ 本次/ 实验/ 中/ ,/ 为/ 便于/ 比较/ ,/ 我们/ 在/ IPT/ 迭代/ 划分/ 所/ 产生/ 的/ 每个/ 相同/ 大小/ 的/ 子域/ 中/ 随机/ 选取/ 一个/ 测试用例/ ,/ 而/ 非/ 固定/ 地/ 选取/ 子域/ 的/ 中心点/ ./ ⑤/ IPT/ ./ 本文/ 提出/ 的/ 迭代/ 划分/ 、/ 中心/ 采样/ 的/ 划分/ 测试方法/ ./ ⑥/ IPT/ -/ PS/ ./ 本文/ 提出/ 的/ 迭代/ 划分/ 、/ 中心/ 采样/ 和/ 基于/ 优先级/ 的/ 用例/ 执行/ 的/ 划分/ 测试方法/ ./ (/ 4/ )/ 实验/ 次数/ ./ 重复/ 一定/ 的/ 实验/ 次数/ 是/ 为了/ 有效/ 避免/ 随机性/ 对/ 实验/ 结果/ 的/ 影响/ ./ 在/ 本文/ 实验/ 中/ ,/ 涉及/ 两个/ 方面/ 的/ 随机性/ :/ 一是/ 失效/ 域/ 位置/ 的/ 随机性/ ,/ 二是/ 测试用例/ 选择/ 的/ 随机性/ ./ 这里/ ,/ 我们/ 重复/ 1000/ 次/ 实验/ 来/ 克服/ 失效/ 域/ 位置/ 的/ 随机性/ ./ 在/ 给定/ 失效/ 域/ 位置/ 的/ 前提/ 下/ ,/ 通过/ 重复/ 2000/ 次/ 实验/ 来/ 克服/ 测试用例/ 选择/ 的/ 随机性/ ./ 给定/ 上述/ 实验/ 参数/ 配置/ ,/ 实验/ 过程/ 如下/ :/ 首先/ 根据/ 维度/ 产生/ 输入/ 域/ ,/ 并/ 根据/ 失效率/ 计算/ 并/ 产生/ 失效/ 域/ ./ 在/ 每/ 一次/ 实验/ 中/ ,/ 随机/ 放置/ 失效/ 域/ ,/ 根据/ 测试方法/ 逐个/ 选择/ 测试用例/ ./ 当/ 测试用例/ 落入/ 失效/ 域/ 中图/ 36/ 种/ 测试方法/ 的/ F/ -/ ratio/ 比较/ 则/ 认为/ 其/ 检测/ 到/ 失效/ ,/ 记录/ 当前/ 已/ 执行/ 的/ 测试用例/ 数量/ F/ -/ count/ ./ 当/ 完成/ 规定/ 实验/ 次数/ 时/ ,/ F/ -/ count/ 的/ 平均值/ 记为/ F/ -/ measure/ ,/ 并/ 记录/ 实验所/ 耗费/ 的/ 总/ 时间/ ./ 本文/ 实验/ 的/ 度量/ 包括/ 有效性/ 度量/ 和/ 效率/ 度量/ ./ 在/ 有效性/ 度量/ 方面/ ,/ 我们/ 采用/ 将/ 各种/ 方法/ 的/ F/ -/ measure/ 与/ RT/ 的/ F/ -/ measure/ 的/ 理论值/ (/ 即/ 1/ // θ/ )/ 的/ 比值/ 记为/ F/ -/ ratio/ 来/ 衡量/ 各种/ 方法/ 在/ 失效/ 检测/ 能力/ 上/ 相对/ RT/ 的/ 改进/ ./ 显然/ ,/ F/ -/ ratio/ 越小/ ,/ 则/ 该/ 方法/ 相对/ RT/ 的/ 改进/ 越/ 明显/ ./ 在/ 效率/ 度量/ 方面/ ,/ 我们/ 采用/ 各种/ 方法/ 完成/ 一次/ 失效/ 检测/ 所/ 需/ 的/ 平均/ 时间/ ,/ 记为/ Runtime/ 来/ 比较/ 各种/ 方法/ 的/ 计算/ 开销/ ./ 4.2/ 问题/ 1/ :/ 相关/ 方法/ 的/ 分析/ 与/ 比较/ 我们/ 通过/ 实验/ 1/ 来/ 比较/ RT/ ,/ FSCS/ ,/ IP/ -/ ART/ ,/ PSS/ ,/ IPT/ 和/ IPT/ -/ PS/ 这/ 6/ 种/ 测试方法/ 在/ F/ -/ ratio/ 和/ Runtime/ 这/ 两个/ 度量/ 上/ 的/ 表现/ ./ 实验/ 中/ 参数/ 维度/ 为/ 1/ ~/ 4/ 维/ ,/ 失效率/ θ/ =/ {/ 1/ ,/ 0.75/ ,/ 0.5/ ,/ 0.25/ ,/ 0.1/ ,/ 0.075/ ,/ 0.05/ ,/ 0.025/ ,/ 0.01/ ,/ 0.0075/ ,/ 0.005/ ,/ 0.0025/ ,/ 0.001/ ,/ 0.00075/ ,/ 0.0005/ ,/ 0.00025/ ,/ 0.0001/ ,/ 0.000075/ ,/ 0.00005/ }/ ,/ 维度/ 和/ 失效率/ 的/ 选取/ 与/ 文献/ [/ 32/ ]/ 相同/ ./ 如图/ 3/ 所示/ ,/ 图/ 3/ (/ a/ )/ ~/ (/ d/ )/ 分别/ 为/ 1/ 维到/ 4/ 维/ 输入/ 域/ 下/ ,/ 6/ 种/ 测试方法/ 的/ F/ -/ ratio/ 比较/ ,/ 其中/ x/ 轴为/ log0/ ./ 5/ θ/ 以便/ 于/ 数据/ 的/ 展示/ ,/ y/ 轴为/ F/ -/ ratio/ ./ 类似/ 地/ ,/ 如图/ 4/ 所示/ ,/ 图/ 4/ (/ a/ )/ ~/ (/ d/ )/ 分别/ 为/ 1/ 维到/ 4/ 维/ 输入/ 域/ 下/ ,/ 6/ 种/ 测试方法/ 的/ Runtime/ 比较/ ,/ 其中/ x/ 轴为/ log0/ ./ 5/ θ/ ,/ y/ 轴为/ Runtime/ ,/ 单位/ 为/ ms/ ./ Page9/ 以/ RT/ 为/ 基准/ 方法/ ,/ 由图/ 3/ 可知/ :/ (/ 1/ )/ 对于/ FSCS/ 和/ IP/ -/ ART/ ,/ 两者/ 在/ F/ -/ ratio/ 方面/ 的/ 表现/ 类似/ ,/ 在/ 4/ 个/ 维度/ 下均/ 有/ :/ 当/ θ/ 较大/ 时/ ,/ F/ -/ ratio/ 大于/ 1/ ,/ 随着/ θ/ 的/ 减小/ ,/ F/ -/ ratio/ 逐渐/ 降低/ 、/ 趋于稳定/ 且/ 小于/ 1/ ./ 在/ 给定/ θ/ 下/ ,/ 维度/ 越高/ ,/ 对应/ 的/ F/ -/ ratio/ 越大/ ;/ (/ 2/ )/ 对于/ PSS/ ,/ IPT/ 和/ IPT/ -/ PS/ ,/ 在/ 4/ 个/ 维度/ 下均/ 有/ :/ F/ -/ ratio/ 在/ 下降/ 至/ 最低点/ 后/ ,/ 随着/ θ/ 的/ 减小/ ,/ F/ -/ ratio/ 逐渐/ 增大/ 并/ 呈/ 周期性/ 波动/ ./ 此外/ ,/ 随着/ 维度/ 的/ 增加/ ,/ F/ -/ ratio/ 越大且/ 波动/ 幅度/ 越大/ ,/ 在/ 3/ 维和/ 4/ 维/ 输入/ 域/ 下/ ,/ PSS/ 和/ IPT/ 的/ 部分/ F/ -/ ratio/ 将/ 大于/ 1.3/ 种/ 方法/ 的/ 不同点/ 在于/ ,/ 在/ 给定/ θ/ 的/ 情况/ 下/ ,/ PSS/ 的/ F/ -/ ratio/ 最大/ ,/ 而/ IPT/ -/ PS/ 图/ 46/ 种/ 测试方法/ 的/ Runtime/ 比较/ 下面/ 我们/ 将/ IPT/ -/ PS/ 与/ FSCS/ 、/ IP/ -/ ART/ 、/ PSS/ 、/ IPT/ 逐一/ 分析/ 比较/ ,/ 并/ 讨论/ 相应/ 的/ 原因/ ./ (/ 1/ )/ IPT/ -/ PS/ 与/ ART/ (/ FSCS/ 、/ IP/ -/ ART/ )/ 的/ 讨论/ 在/ F/ -/ ratio/ 方面/ ,/ 当/ θ/ 较大/ 时/ ,/ IPT/ -/ PS/ 仅/ 需要/ 通过/ 很少/ 次数/ 的/ 划分/ 就/ 可以/ 检测/ 到/ 失效/ ,/ F/ -/ ratio/ 明显/ 优于/ ART/ (/ 以/ FSCS/ 、/ IP/ -/ ART/ 为例/ )/ ./ 当/ θ/ 较/ 小时/ ,/ 两者/ 的/ F/ -/ ratio/ 相近/ ,/ ART/ 的/ F/ -/ ratio/ 较/ 稳定/ ,/ IPT/ -/ PS/ 则/ 存在/ 着/ 波动/ ./ 在/ Runtime/ 方面/ ,/ 当/ θ/ 较大/ 时/ ,/ 两者/ 差别/ 不大/ ./ 然而/ ,/ 随着/ 维度/ 的/ 提高/ 和/ θ/ 的/ 减小/ ,/ ART/ 的/ Runtime/ 将/ 远远/ 高于/ IPT/ -/ PS/ 的/ Runtime/ ./ 如表/ 1/ 所示/ ,/ 当/ θ/ 为/ 0.01/ 时/ ,/ IPT/ -/ PS/ 的/ Runtime/ 通常/ 是/ ART/ 的/ Runtime/ 的/ 1/ %/ ;/ 当/ θ/ 降低/ 至/ 0.0001/ 时/ ,/ IPT/ -/ PS/ 在/ 1/ ~/ 4/ 维/ 输入/ 域/ 上/ 的/ 时间/ 性能比/ ART/ 提高/ 了/ 3/ 个/ 数量级/ ./ 的/ F/ -/ ratio/ 最小/ ./ 以/ RT/ 为/ 基准/ 方法/ ,/ 由图/ 4/ 可知/ :/ (/ 1/ )/ 对于/ FSCS/ 和/ IP/ -/ ART/ ,/ 随着/ θ/ 的/ 减小/ ,/ Runtime/ 快速/ 上升/ ./ 较之/ FSCS/ ,/ 尽管/ 在/ 2/ ~/ 4/ 维/ 输入/ 域/ 下/ ,/ IP/ -/ ART/ 的/ Runtime/ 有/ 明显/ 减少/ ,/ 但/ 仍然/ 远远/ 大于/ RT/ 的/ Runtime/ ./ 此外/ ,/ 在/ 1/ 维/ 输入/ 域/ 下/ ,/ 由于/ IP/ -/ ART/ 需/ 频繁/ 地/ 划分/ 输入/ 域/ ,/ 耗费/ 了/ 大量/ 的/ 计算/ 开销/ ,/ 其/ Runtime/ 与/ FSCS/ 的/ Runtime/ 很/ 接近/ ;/ (/ 2/ )/ PSS/ ,/ IPT/ 和/ IPT/ -/ PS/ 三者/ 的/ Runtime/ 与/ RT/ 的/ Runtime/ 相当/ ,/ 随着/ 维度/ 的/ 增加/ 、/ θ/ 的/ 减小/ ,/ 三者/ 的/ Runtime/ 将/ 略大于/ RT/ 的/ Runtime/ ./ 失效率/ 0.010/ ./ 0001/ 由此可见/ ,/ 随着/ θ/ 的/ 减小/ ,/ 尽管/ ART/ 能够/ 改进/ RT/ 的/ 失效/ 检测/ 能力/ ,/ 但是/ 其/ 时间/ 开销/ 远远/ 大于/ RT/ ./ IPT/ -/ PS/ 借鉴/ 了/ ART/ 均匀分布/ 的/ 思想/ ,/ 通过/ 迭代/ 划分/ 、/ 中心/ 采样/ 和/ 基于/ 优先级/ 的/ 用例/ 执行/ 这/ 3/ 个/ 操作/ 实现/ 了/ 输入/ 域/ 上/ 的/ 均匀分布/ ,/ 然而/ 这/ 3/ 项/ 操作/ 均/ 无需/ 耗费/ 过多/ 的/ 计算/ 开销/ ,/ 其/ 时间/ 开销/ 保持/ 在/ 与/ Page10RT/ 同一/ 数量级/ ./ 此外/ ,/ 当/ θ/ 较/ 小时/ ,/ IPT/ -/ PS/ 存在/ 着/ 进一步/ 改进/ 的/ 可能/ ./ 在/ 没有/ 任何/ θ/ 的/ 先验/ 知识/ 的/ 情况/ 下/ ,/ IPT/ -/ PS/ 从/ 第/ 1/ 轮/ 划分/ 开始/ 逐渐/ 增加/ 对/ θ/ 的/ 认知/ ,/ 不断/ 推断出/ θ/ 的/ 取值/ 范围/ 的/ 变化/ ./ 当/ 存在/ θ/ 的/ 先验/ 知识/ ,/ 特别/ 是/ 当/ 可/ 预测出/ θ/ 的/ 取值/ 很小/ ,/ 例如/ 当/ 预测出/ θ/ </ 0.0001/ 时/ ,/ IPT/ -/ PS/ 可以/ 通过/ 相应/ 计算/ 后/ 直接/ 进行/ 第/ n/ 次/ 划分/ ,/ 从而/ 节省/ 了/ 前面/ n/ -/ 1/ 次/ 划分/ 所/ 耗费/ 的/ 中心点/ 测试用例/ ,/ 从而/ 改进/ 了/ 当/ θ/ 较/ 小时/ 的/ F/ -/ ratio/ 及/ Runtime/ ./ (/ 2/ )/ IPT/ -/ PS/ 与/ PSS/ 的/ 讨论/ 与/ PSS/ 相比/ ,/ IPT/ -/ PS/ 通过/ 确定性/ 的/ 中心点/ 采样/ 以及/ 基于/ 优先级/ 的/ 用例/ 执行/ ,/ 可以/ 获得/ 较优/ 的/ F/ -/ ratio/ ./ 这/ 是因为/ ,/ 在/ 迭代/ 划分/ 子域/ 里/ 中心点/ 采样/ 比/ 子域/ 里/ 随机/ 采样/ 更能/ 确保/ 测试用例/ 在/ 输入/ 域/ 上/ 的/ 均匀分布/ ,/ 进而/ 改进/ 失效/ 检测/ 能力/ ./ 在/ 计算/ 开销/ 方面/ ,/ 两者/ Runtime/ 相当/ ./ (/ 3/ )/ IPT/ -/ PS/ 与/ IPT/ 的/ 讨论/ 与/ IPT/ 相比/ ,/ IPT/ -/ PS/ 引入/ 基于/ 优先级/ 的/ 用例/ 执行/ ,/ 可以/ 获得/ 较优/ 的/ F/ -/ ratio/ ./ 这/ 是因为/ ,/ IPT/ -/ PS/ 通过/ 指定/ 测试用例/ 的/ 执行/ 序列/ ,/ 进一步/ 在/ 两轮/ 迭代/ 上/ 通过/ 优先级/ 采样/ 实现/ 了/ 测试用例/ 更/ 均匀/ 的/ 分布/ ./ 在/ 计算/ 开销/ 方面/ ,/ IPT/ -/ PS/ 由于/ 引入/ 了/ 优先级/ 相关/ 的/ 开销/ ,/ Runtime/ 略大于/ IPT/ ./ 为/ 进一步/ 验证/ IPT/ -/ PS/ 能够/ 显著/ 改进/ RT/ 的/ 失效/ 检测/ 能力/ ,/ 获得/ 与/ ART/ 相近/ 的/ 失效/ 检测/ 能力/ ,/ 我们/ 对/ IPT/ -/ PS/ 与/ 其他/ 5/ 个/ 对比/ 算法/ 即/ RT/ ,/ FSCS/ ,/ IP/ -/ ART/ ,/ PSS/ ,/ IPT/ 的/ F/ -/ ratio/ 展开/ 了/ T/ -/ 检验/ ,/ 其中/ ,/ 显著性/ 水平/ 值为/ 0.05/ ./ 双边/ T/ -/ 检验/ 中/ ,/ 假设/ H0/ :/ A/ 与/ B/ 不/ 存在/ 显著/ 差异/ ;/ 对应/ 有/ 假设/ H1/ :/ A/ 与/ B/ 存在/ 显著/ 差异/ ./ 当/ 假设/ H1/ 成立/ 时/ ,/ 我们/ 将/ 进一步/ 开展/ 单边/ T/ -/ 检验/ ,/ 假设/ H0/ :/ A/ 不/ 显著/ 地/ 大于/ B/ ;/ 对应/ 有/ 假设/ H1/ :/ A/ 显著/ 地/ 大于/ B/ ./ 由于/ 实验/ 数据/ 较/ 多/ ,/ 这里/ 我们/ 仅/ 呈现/ 了/ 部分/ 假设检验/ 的/ 结果/ ./ 以/ 2/ 维/ 输入/ 域/ 下/ ,/ 等距/ 选取/ 实验/ 1/ 中/ θ/ 的/ 部分/ 取值/ 为例/ ,/ 即/ θ/ =/ {/ 0.05/ ,/ 0.0075/ ,/ 0.001/ ,/ 0.00025/ ,/ 0.00005/ }/ ,/ 具体/ 检验/ 数据/ 如表/ 2/ 所示/ :/ 当/ θ/ =/ 0.05/ 时/ ,/ 假设/ H1/ 均/ 成立/ ,/ 即/ 5/ 种/ 对比/ 算法/ 的/ F/ -/ ratio/ 均/ 显著/ 地/ 大于/ IPT/ -/ PS/ 的/ F/ -/ ratio/ ./ 当/ θ/ =/ {/ 0.0075/ ,/ 0.00005/ }/ 时/ ,/ RT/ ,/ PSS/ ,/ IPT/ 对应/ 假设/ H1/ 成立/ ,/ 即/ RT/ ,/ PSS/ ,/ IPT/ 的/ F/ -/ ratio/ 均/ 显著/ 地/ 大于/ IPT/ -/ PS/ 的/ F/ -/ ratio/ ;/ FSCS/ ,/ IP/ -/ ART/ 对应/ 假设/ H0/ 成立/ ,/ 即/ FSCS/ ,/ IP/ -/ ART/ 的/ F/ -/ ratio/ 与/ IPT/ -/ PS/ 的/ F/ -/ ratio/ 不/ 存在/ 显著/ 差异/ ./ 当/ θ/ =/ {/ 0.001/ ,/ 0.00025/ }/ 时/ ,/ RT/ ,/ PSS/ 对应/ 假设/ H1/ 成立/ ,/ 即/ RT/ ,/ PSS/ 的/ F/ -/ ratio/ 均/ 显著/ 地/ 大于/ IPT/ -/ PS/ 的/ F/ -/ ratio/ ;/ FSCS/ ,/ IP/ -/ ART/ ,/ IPT/ 对应/ 假设/ H0/ 成立/ ,/ 即/ FSCS/ ,/ IP/ -/ ART/ ,/ IPT/ 的/ F/ -/ ratio/ 与/ IPT/ -/ PS/ 的/ F/ -/ ratio/ 不/ 存在/ 显著/ 差异/ ./ 结合/ 实验/ 1/ 的/ 数据/ 和/ 假设检验/ 的/ 结果/ ,/ 我们/ 可以/ 发现/ :/ IPT/ -/ PS/ 能够/ 显著/ 改进/ RT/ 的/ 失效/ 检测/ 能力/ ,/ 并/ 获得/ 与/ ART/ 相近/ 甚至/ 更好/ 的/ 失效/ 检测/ 能力/ ./ 表/ 2IPT/ -/ PS/ 与/ 对比/ 算法/ 关于/ 犉/ -/ ratio/ 的/ 犜/ -/ 检验/ 数据/ θ/ 0.050/ ./ 00750.0010/ ./ 000250.00005/ 综合/ 上述/ 比较/ 分析/ ,/ 我们/ 可以/ 回答/ 问题/ 1/ :/ IPT/ -/ PS/ 在/ 仅/ 使用/ 接近/ RT/ 时间/ 开销/ 的/ 情况/ 下/ ,/ 可以/ 达到/ 与/ ART/ 相近/ 甚至/ 更好/ 的/ 失效/ 检测/ 能力/ ,/ 在/ 有效性/ 和/ 效率/ 之间/ 实现/ 了/ 良好/ 的/ 平衡/ ./ 4.3/ 问题/ 2/ :/ IPT/ 和/ IPT/ -/ PS/ 的/ 分析/ 与/ 比较/ 基于/ 实验/ 1/ 中/ 关于/ IPT/ 与/ IPT/ -/ PS/ 的/ 初步/ 结果/ ,/ 我们/ 通过/ 实验/ 2/ 来/ 进一步/ 分析/ IPT/ 与/ IPT/ -/ PS/ 的/ 特性/ ./ 在/ 实验/ 2/ 中/ ,/ 维度/ 为/ 1/ ~/ 4/ 维/ ,/ 失效率/ θ/ =/ {/ 1/ ,/ 2/ -/ 1/ ,/ 2/ -/ 2/ ,/ 2/ -/ 3/ ,/ 2/ -/ 4/ ,/ 2/ -/ 5/ ,/ 2/ -/ 6/ ,/ 2/ -/ 7/ ,/ 2/ -/ 8/ ,/ 2/ -/ 9/ ,/ 2/ -/ 10/ ,/ 2/ -/ 11/ ,/ 2/ -/ 12/ ,/ 2/ -/ 13/ ,/ 2/ -/ 14/ }/ ./ 选取/ θ/ 的/ 值/ 为/ 2/ -/ n/ ,/ 是/ 希望/ 通过/ 实验/ 验证/ IPT/ 与/ IPT/ -/ PS/ 中/ 关于/ 执行/ 测试用例/ 数/ 与/ 可推断/ 的/ θ/ 取值/ 范围/ 的/ 关系/ ./ 如图/ 5/ 所示/ ,/ 图/ 5/ (/ a/ )/ ~/ (/ d/ )/ 分别/ 为/ 1/ 维到/ 4/ 维/ 输入/ 域/ 下/ ,/ IPT/ 与/ IPT/ -/ PS/ 的/ F/ -/ ratio/ 比较/ ,/ 其中/ x/ 轴为/ log0/ ./ 5/ θ/ ,/ y/ 轴为/ F/ -/ ratio/ ./ 这/ Page11/ 图/ 5/ θ/ =/ 2/ -/ n/ 时/ IPT/ 与/ IPT/ -/ PS/ 的/ F/ -/ ratio/ 比较/ 里/ ,/ 由于/ θ/ 的/ 取值/ 为/ 2/ -/ n/ ,/ 因此/ 获得/ 的/ 数据/ 点/ 在/ x/ 轴上/ 是/ 等距/ 的/ ./ 以/ RT/ 作为/ 基准/ 方法/ ,/ 由图/ 5/ 除了/ 可以/ 获得/ 与/ 图/ 3/ 类似/ 的/ 结论/ 外/ ,/ 还/ 可以/ 获得/ 如下/ 结论/ :/ (/ 1/ )/ IPT/ 和/ IPT/ -/ PS/ 在/ 4/ 个/ 维度/ 下均/ 存在/ F/ -/ ratio/ 的/ 最小值/ ./ 以/ 2/ 维/ 输入/ 域/ 为例/ ,/ 当/ θ/ =/ 2/ -/ 2/ ,/ log0/ ./ 5/ θ/ =/ 2/ 时/ ,/ F/ -/ ratio/ 取到/ 最小值/ ,/ 为/ 0.25/ ./ 这/ 是因为/ ,/ IPT/ 和/ IPT/ -/ PS/ 均/ 仅/ 需要/ 执行/ 1/ 条/ 测试用例/ ,/ 即取/ 到/ 当前/ 2/ 维/ 输入/ 域/ 的/ 中心点/ 时/ 即可/ 检测/ 到/ 失效/ ./ 同理/ ,/ 在/ m/ 维/ 输入/ 域/ 下/ ,/ 当/ θ/ =/ 2/ -/ m/ ,/ log0/ ./ 5/ θ/ =/ m/ 时/ ,/ 仅/ 执行/ 1/ 条/ 测试用例/ 即可/ 检测/ 到/ 失效/ ,/ 此时/ F/ -/ ratio/ 取到/ 最小值/ ,/ 为/ 2/ -/ m/ ./ (/ 2/ )/ 在/ 4/ 个/ 维度/ 下均/ 有/ :/ 每隔/ 固定/ 间隔/ ,/ 存在/ IPT/ 和/ IPT/ -/ PS/ 的/ F/ -/ ratio/ 非常/ 接近/ 的/ 汇集点/ ./ 以/ 2/ 维/ 输入/ 域/ 为例/ ,/ 当/ log0/ ./ 5/ θ/ =/ {/ 2/ ,/ 4/ ,/ 6/ ,/ 8/ ,/ 10/ ,/ 12/ ,/ 14/ }/ 时/ ,/ 两种/ 方法/ 的/ F/ -/ ratio/ 非常/ 接近/ ./ 这/ 是因为/ 在/ 2/ 维/ 输入/ 域/ 中/ ,/ 当/ θ/ =/ 2/ -/ 2n/ 时/ ,/ IPT/ 在/ 最坏/ 情况/ 下/ 所/ 需/ 的/ 测试用例/ 数为/ 1/ +/ 22/ +/ …/ +/ 22n/ 个/ ,/ 而/ IPT/ -/ PS/ 基于/ 优先级/ 将/ 待/ 测用例/ 分为/ T1/ ,/ T2/ ,/ T3/ 依次/ 执行/ ,/ 在/ 最坏/ 情况/ 下/ 所/ 需/ 的/ 测试用例/ 数为/ |/ T1/ |/ +/ |/ T2/ |/ ,/ 即/ 1/ +/ 22/ +/ …/ +/ 22n/ -/ 22/ 个/ ./ 因此/ ,/ 当/ 实验/ 重复/ 足够/ 次数/ 时/ ,/ IPT/ 和/ IPT/ -/ PS/ 的/ F/ -/ ratio/ 将/ 非常/ 接近/ ./ 同理/ ,/ 在/ m/ 维/ 输入/ 域/ 下/ ,/ 当/ θ/ =/ 2/ -/ mn/ ,/ log0/ ./ 5/ θ/ =/ mn/ 时/ ,/ IPT/ 与/ IPT/ -/ PS/ 的/ F/ -/ ratio/ 非常/ 接近/ ./ 我们/ 从/ 实验/ 1/ 和/ 实验/ 2/ 中均/ 发现/ ,/ 相对/ 于/ IPT/ ,/ IPT/ -/ PS/ 的/ F/ -/ ratio/ 较/ 小/ ,/ 且/ 波动/ 幅度/ 较/ 小/ ./ 为了/ 进一步/ 分析/ IPT/ -/ PS/ 采用/ 基于/ 优先级/ 的/ 用例/ 执行/ 策略/ 对/ F/ -/ ratio/ 的/ 影响/ ,/ 我们/ 开展/ 了/ 实验/ 3/ ./ 在/ 实验/ 3/ 中/ ,/ 我们/ 选取/ 2/ ~/ 4/ 维/ 输入/ 域/ 下/ 的/ 特定/ 的/ θ/ 进行/ 更为/ 细化/ 的/ IPT/ 与/ IPT/ -/ PS/ 的/ F/ -/ ratio/ 比较/ ./ 2/ 维/ 输入/ 域/ 下/ ,/ θ/ =/ {/ 2/ -/ 6/ ,/ 2/ -/ 6/ ×/ (/ 3/ // 4/ )/ i/ ,/ 2/ -/ 8/ ,/ 2/ -/ 8/ ×/ (/ 3/ // 4/ )/ i/ ,/ 2/ -/ 10/ }/ ,/ i/ =/ 1/ ,/ 2/ ,/ 3/ ,/ 4/ ,/ 共计/ 11/ 个/ 取值/ ;/ 3/ 维/ 输入/ 域/ 下/ ,/ θ/ =/ {/ 2/ -/ 6/ ,/ 2/ -/ 6/ ×/ (/ 3/ // 4/ )/ i/ ,/ 2/ -/ 9/ ,/ 2/ -/ 9/ ×/ (/ 3/ // 4/ )/ i/ ,/ 2/ -/ 12/ }/ ,/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ 6/ ,/ 共计/ 15/ 个/ 取值/ ;/ 4/ 维/ 输入/ 域/ 下/ ,/ θ/ =/ {/ 2/ -/ 4/ ,/ 2/ -/ 4/ ×/ (/ 3/ // 4/ )/ i/ ,/ 2/ -/ 8/ ,/ 2/ -/ 8/ ×/ (/ 3/ // 4/ )/ i/ ,/ 2/ -/ 12/ }/ ,/ i/ =/ 1/ ,/ 2/ ,/ …/ ,/ 8/ ,/ 共计/ 19/ 个/ 取值/ ./ 实验/ 结果/ 如图/ 6/ (/ a/ )/ ~/ (/ c/ )/ 所示/ ,/ 当/ θ/ 取/ 到/ 某些/ 特定/ 值时/ ,/ IPT/ -/ PS/ 的/ F/ -/ ratio/ 较之/ IPT/ 有/ 明显/ 的/ 下降/ ,/ 从而/ 使得/ 波动/ 幅度/ 变小/ ./ 我们/ 用/ 矩形框/ 在/ 图/ 6/ 中/ 标注/ 出/ 这些/ 特殊/ 的/ 数据/ 点/ ,/ 通过/ 分析/ 这些/ 数据/ 点/ 的/ θ/ 取值/ 发现/ :/ 2/ 维/ 输入/ 域/ 下/ ,/ θ/ =/ 2/ -/ 6/ ×/ (/ 3/ // 4/ )/ 2/ ,/ 2/ -/ 8/ ×/ (/ 3/ // 4/ )/ 2/ ;/ 3/ 维/ 输入/ 域维下/ ,/ θ/ =/ 2/ -/ 6/ ×/ (/ 3/ // 4/ )/ 3/ ,/ 2/ -/ 9/ ×/ (/ 3/ // 4/ )/ 3/ ;/ 4/ 维/ 输入/ 域/ 下/ ,/ θ/ =/ 2/ -/ 4/ ×/ (/ 3/ // 4/ )/ 4/ ,/ 2/ -/ 8/ ×/ (/ 3/ // 4/ )/ 4/ ./ 这/ 与/ 我们/ 在/ 前文/ 讨论/ 的/ 理论/ 结果/ 一致/ ,/ 即当/ θ/ 取值/ 为/ 1/ 时/ ,/ IPT/ -/ PS/ 在/ 最坏/ 情况/ 下仅/ 需/ 执行/ 优先级/ 最高/ 的/ |/ T1/ |/ 个/ 测试用例/ ,/ 即可/ 检测/ 到/ 失效/ ;/ 而/ IPT/ 在/ 最坏/ 情况/ 下则/ 需/ 执行/ 所有/ 新增/ 测试用例/ ,/ 即/ |/ T1/ |/ +/ |/ T2/ |/ +/ |/ T3/ |/ 个/ 测试用例/ 才/ 可/ 检测/ 到/ 失效/ ./ 因此/ ,/ 引入/ 了/ 基/ Page12/ 图/ 6/ 细化/ 的/ IPT/ 与/ IPT/ -/ PS/ 的/ F/ -/ ratio/ 比较/ 于/ 优先级/ 的/ 用例/ 执行/ 策略/ 后/ ,/ IPT/ -/ PS/ 的/ F/ -/ ratio/ 较之/ IPT/ 有/ 明显/ 的/ 下降/ ./ 因此/ ,/ 我们/ 可以/ 回答/ 问题/ 2/ :/ 较之/ IPT/ ,/ IPT/ -/ PS/ 采用/ 基于/ 优先级/ 的/ 用例/ 执行/ 策略/ 能够/ 有效/ 改进/ 算法/ 的/ F/ -/ ratio/ ./ 4.4/ 问题/ 3/ :/ IPT/ -/ PS/ 的/ 适用性/ 分析/ 鉴于/ 前期/ 的/ 实验/ 是/ 面向/ 1/ ~/ 4/ 维/ 输入/ 域/ 的/ 块状/ 失效/ 模式/ 下/ 的/ 实验/ ,/ 本节/ 将/ 初步/ 探究/ IPT/ -/ PS/ 的/ 适用性/ ,/ 主要/ 包括/ 高维/ 、/ 多种/ 失效/ 模式/ 、/ 真实/ 程序/ 场景/ 下/ IPT/ -/ PS/ 的/ 适用性/ ./ (/ 1/ )/ 维度/ 的/ 扩展/ 针对/ 5/ ~/ 8/ 维/ 输入/ 域/ 的/ 块状/ 失效/ 模式/ ,/ 失效率/ θ/ =/ 2/ -/ n/ (/ n/ =/ 0/ ,/ 1/ ,/ …/ ,/ 14/ )/ ,/ 获取/ IPT/ -/ PS/ 的/ F/ -/ ratio/ 如图/ 7/ 所示/ ./ 与/ 前期/ 实验/ 观察/ 一致/ ,/ IPT/ -/ PS/ 的/ F/ -/ ratio/ 在/ 下降/ 至/ 对应/ 的/ 最低点/ 后/ ,/ 随着/ θ/ 的/ 减小/ ,/ F/ -/ ratio/ 逐渐/ 增大/ 并/ 呈/ 周期性/ 波动/ ./ 此外/ ,/ 随着/ 维度/ 的/ 增加/ ,/ 相应/ 的/ F/ -/ ratio/ 越大且/ 波动/ 幅度/ 越大/ ./ 在/ 7/ 维和/ 8/ 维/ 输入/ 域/ 下/ ,/ 存在/ 部分/ F/ -/ ratio/ 大于/ 1/ ./ 由此可见/ ,/ IPT/ -/ PS/ 在/ 高维/ 场景/ 下/ 仍然/ 可用/ ,/ 当/ θ/ 较大/ 时/ ,/ IPT/ -/ PS/ 仍然/ 保持/ 较/ 高/ 的/ 失效/ 检测/ 能力/ ./ 当/ θ/ 较/ 小时/ ,/ F/ -/ ratio/ 存在/ 着/ 波动/ ./ 因此/ ,/ 如何/ 改进/ IPT/ -/ PS/ 在/ 高维/ 的/ 性能/ ,/ 减小/ IPT/ -/ PS/ 的/ 波动/ 幅度/ ,/ 将/ 是/ 我们/ 后续/ 的/ 一项/ 重要/ 工作/ ./ (/ 2/ )/ 失效/ 模式/ 的/ 扩展/ 为/ 验证/ IPT/ -/ PS/ 在/ 多种/ 失效/ 模式/ 下/ 的/ 适用性/ ,/ 我们/ 将/ IPT/ -/ PS/ 分别/ 应用/ 于/ 圆形/ 失效/ 模式/ 和/ 点状/ 失效/ 模式/ [/ 32/ ]/ ./ 在/ 圆形/ 失效/ 模式/ 下/ ,/ 维度/ 为/ 1/ ~/ 4/ 维/ ,/ 失效率/ θ/ =/ 2/ -/ n/ (/ n/ =/ 0/ ,/ 1/ ,/ …/ ,/ 14/ )/ ,/ 得到/ IPT/ -/ PS/ 的/ F/ -/ ratio/ 如图/ 8/ 所示/ ./ 与/ IPT/ -/ PS/ 在/ 块状/ 失效/ 模式/ 下/ 的/ 表现/ (/ 参见/ 4.3/ 节图/ 5/ )/ 类似/ ,/ F/ -/ ratio/ 在/ 下降/ 至/ 对应/ 的/ 最低点/ 后/ ,/ 随着/ θ/ 的/ 减小/ ,/ F/ -/ ratio/ 逐渐/ 增大/ 并/ 呈/ 周期性/ 波动/ ./ F/ -/ ratio/ 始终/ 小于/ 1/ ,/ 说明/ IPT/ -/ PS/ 在/ 圆形/ 失效/ 模式/ 下/ 仍然/ 适用/ ,/ 仍/ 具备/ 较强/ 的/ 失效/ 检测/ 能力/ ./ Page13/ 文献/ [/ 32/ ]/ 中/ 指出/ ,/ 点状/ 失效/ 模式/ 的/ 核心/ 不/ 在于/ 失效/ 区域/ 的/ 大小/ ,/ 而/ 在于/ 失效/ 区域/ 的/ 数量/ ./ 因此/ ,/ 本文/ 参考/ 了/ 文献/ [/ 32/ ]/ 中/ 的/ 实验/ 参数/ ,/ 选取/ 维度/ 为/ 2/ 维/ ,/ 失效率/ θ/ =/ {/ 0.005/ ,/ 0.001/ ,/ 0.0005/ }/ ,/ 等/ 大小/ 的/ 方形/ 失效/ 区域/ 的/ 数量/ n/ =/ {/ 1/ ,/ 4/ ,/ 7/ ,/ 10/ ,/ 20/ ,/ 30/ ,/ …/ ,/ 90/ ,/ 100/ }/ ,/ 获得/ 点状/ 失效/ 模式/ 下/ IPT/ -/ PS/ 的/ F/ -/ ratio/ 如图/ 9/ 所示/ ./ 由图/ 中/ 可以/ 获得/ 两个/ 结论/ :/ (/ 1/ )/ 在/ 相同/ 的/ θ/ 取值/ 下/ ,/ 随着/ n/ 的/ 增加/ ,/ F/ -/ ratio/ 将/ 逐渐/ 增大/ ./ 这/ 是因为/ ,/ n/ 的/ 增加/ 将/ 直接/ 导致/ 单个/ 失效/ 区域/ 对应/ 的/ 实际/ θ/ 减小/ ,/ 从而/ 使得/ F/ -/ ratio/ 逐渐/ 增大/ ;/ (/ 2/ )/ 在/ 相同/ 的/ n/ 取值/ 下/ ,/ θ/ 的/ 取值/ 越小/ ,/ F/ -/ ratio/ 越大/ ,/ 这一/ 观察/ 与/ 前期/ 实验/ 结果/ 一致/ ./ 上述/ 两个/ 实验/ 说明/ ,/ IPT/ -/ PS/ 在/ 圆形/ 和/ 点状/ 失效/ 模式/ 下/ 仍/ 适用/ ,/ 且/ 具备/ 较强/ 的/ 失效/ 检测/ 能力/ ./ (/ 3/ )/ 真实/ 程序/ 的/ 验证/ 我们/ 从/ NumericalRecipes/ 中/ 选择/ 了/ 两个/ C/ 程序/ bessj0/ 和/ select/ [/ 33/ ]/ 来/ 分析/ IPT/ -/ PS/ 的/ 适用性/ ./ bessj0/ 的/ 输入/ 为/ 一个/ 浮点数/ (/ floatx/ )/ ,/ 输出/ 为/ 一个/ 浮点数/ ./ select/ 的/ 输入/ 为/ 两个/ 整数/ 和/ 一个/ 浮点数/ 数组/ (/ unsignedlongk/ ,/ unsignedlongn/ ,/ floatarr/ [/ ]/ )/ ,/ 输出/ 为/ 一个/ 浮点数/ ,/ 即/ n/ 维/ 数组/ 中/ 第/ k/ 小/ 的/ 数/ ./ 我们/ 采用/ Csaw/ 工具/ 随机/ 生成/ 变异/ [/ 34/ ]/ ,/ 通过/ 选择/ 、/ 简化/ ,/ 最终/ bessj0/ 共有/ 140/ 个/ 有效/ 变异/ ,/ select/ 共有/ 8/ 个/ 有效/ 变异/ ./ 针对/ 每个/ 有效/ 变异/ ,/ 重复/ 30/ 次/ 实验/ 并/ 分别/ 记录/ RT/ 和/ IPT/ -/ PS/ 为/ 检测/ 出该/ 变异/ 所/ 需/ 测试用例/ 的/ 数量/ ./ 令/ NRT/ ,/ NIPT/ -/ PS/ 分别/ 为/ 30/ 次/ 实验/ 下/ RT/ 和/ IPT/ -/ PS/ 所需/ 测试用例/ 数量/ 的/ 均值/ ,/ 令/ N/ -/ ratio/ 为/ IPT/ -/ PS/ 所需/ 测试用例/ 数量/ 与/ RT/ 所需/ 测试用例/ 数量/ 的/ 比值/ ,/ 即/ N/ -/ ratio/ =/ NIPT/ -/ PS/ // NRT/ ./ 显然/ ,/ 当/ N/ -/ ratio/ </ 1/ 时/ ,/ 说明/ IPT/ -/ PS/ 表现/ 优于/ RT/ ;/ 当/ N/ -/ ratio/ >/ 1/ 时/ ,/ 说明/ IPT/ -/ PS/ 表现/ 劣于/ RT/ ./ 在/ bessj0/ 的/ 140/ 个/ 有效/ 变异/ 中/ ,/ 存在/ 33/ 个/ (/ 23.5/ %/ )/ 变异/ ,/ 其/ 对应/ 的/ N/ -/ ratio/ </ 1/ ;/ 存在/ 107/ 个/ 变异/ ,/ 其/ 对应/ 的/ N/ -/ ratio/ >/ 1/ ./ 在/ select/ 的/ 8/ 个/ 有效/ 变异/ 中/ ,/ 存在/ 6/ 个/ (/ 75/ %/ )/ 变异/ ,/ 其/ 对应/ 的/ N/ -/ ratio/ </ 1/ ;/ 仅/ 有/ 2/ 个/ 变异/ 对应/ 的/ N/ -/ ratio/ >/ 1/ ./ 为了/ 进一步/ 分析/ 当/ N/ -/ ratio/ >/ 1/ (/ 即/ IPT/ -/ PS/ 劣于/ RT/ )/ 的/ 情况/ 下/ IPT/ -/ PS/ 与/ RT/ 的/ 性能/ 差别/ ,/ 我们/ 引入/ 了/ 在/ 金融/ 领域/ 广泛应用/ 的/ 条件/ 风险/ 价值/ (/ ConditionalValue/ -/ at/ -/ Risk/ ,/ CVaR/ )/ [/ 35/ ]/ ./ CVaR/ 是/ 一种/ 风险/ 计量/ 方法/ ,/ 衡量/ 了/ 当/ 损失/ 超过/ VaR/ 时/ 的/ 平均/ 损失/ ,/ 具体/ 定义/ 如下/ :/ CVaR/ (/ Pr/ (/ r/ </ VaR/ )/ )/ =/ E/ (/ r/ |/ r/ / VaR/ )/ ./ 显然/ ,/ 给定/ 风险/ 临界值/ VaR/ ,/ 当/ CVaR/ 值越/ 小时/ ,/ 平均/ 损失/ 越小/ ,/ 整体/ 风险/ 越小/ ./ 在/ 本文/ 实验/ 中/ ,/ VaR/ 与/ N/ -/ ratio/ 相关/ ,/ 当/ N/ -/ ratio/ >/ 1/ 时/ ,/ 可/ 认为/ 发生/ 损失/ ,/ 因此/ VaR/ =/ 1/ ./ 以/ bessj0/ 为例/ ,/ 存在/ 23.5/ %/ 的/ 变异/ ,/ 其/ 对应/ 的/ N/ -/ ratio/ </ 1/ ,/ 于是/ 有/ Pr/ (/ N/ -/ ratio/ </ 1/ )/ =/ 0.235/ ,/ CVaR/ (/ 0.235/ )/ =/ E/ (/ N/ -/ ratio/ |/ N/ -/ ratio/ / 1/ )/ =/ 1.7192/ ./ 也就是说/ ,/ 存在/ 1/ -/ Pr/ (/ N/ -/ ratio/ </ 1/ )/ ,/ 即/ 0.765/ 的/ 概率/ 使得/ N/ -/ ratio/ / 1/ ,/ 所有/ 符合/ N/ -/ ratio/ / 1/ 这一/ 条件/ 的/ N/ -/ ratio/ 的/ 均值/ 为/ 1.7192/ ./ 如图/ 10/ 所示/ :/ x/ 轴为/ N/ -/ ratio/ ,/ y/ 轴为/ 落入/ N/ -/ ratio/ 对应/ 取值/ 范围/ 内/ 的/ 变异/ 的/ 个数/ ./ 在/ N/ -/ ratio/ >/ 1/ 的/ 107/ 个/ 变异/ 中有/ 70/ 个/ 变异/ 对应/ 的/ N/ -/ ratio/ ∈/ [/ 1/ ,/ 1.5/ ]/ ,/ CVaR/ (/ 0.235/ )/ =/ 1.7192/ ,/ 这/ 表明/ 尽管/ 在/ 107/ 个/ 变异/ 中/ IPT/ -/ PS/ 的/ 表现/ 较差/ ,/ 但是/ IPT/ -/ PS/ 与/ RT/ 的/ 表现/ 差距/ 不大/ ./ 通过/ 分析/ 所有/ N/ -/ ratio/ >/ 1/ 的/ 变异/ 代码/ ,/ 我们/ 发现/ :/ 这些/ 变异/ 导致/ 的/ 失效/ 模式/ 是/ 一些/ 组合/ 的/ 复杂/ 失效/ 模式/ ,/ 而/ 并非/ 特定/ 的/ 块状/ 、/ 圆形/ 或/ 点状/ 失效/ 模式/ ,/ 因此/ ,/ IPT/ -/ PS/ 未能/ 获得/ 较优/ 的/ 失效/ 检测/ 效果/ ./ 尽管如此/ ,/ 通过/ 上述/ 两个/ 真实/ 程序/ 及其/ 变异/ 版本/ 的/ 验证/ ,/ 可知/ IPT/ -/ PS/ 在/ 真实/ 应用/ 中是/ 可行/ 的/ ,/ 且/ 存在/ 着/ 快速/ 检测/ 到/ 失效/ 的/ 可能/ ./ 此外/ ,/ 失效/ 检测/ 能力/ 与/ 待测/ 程序/ 的/ 特性/ ,/ 特别/ 是/ 失效/ 模式/ 有着/ 紧密/ 的/ 联系/ ,/ 然而/ 在/ 真实/ 程序/ 中/ ,/ 失效/ Page14/ 模式/ 往往/ 是/ 未知/ 且/ 复杂/ 的/ ,/ 任何/ 一种/ 测试用例/ 生成/ 算法/ 都/ 无法/ 保证/ 在/ 所有/ 失效/ 模式/ 下均/ 表现/ 最优/ ,/ 因此/ ,/ 需要/ 进一步/ 探讨/ IPT/ -/ PS/ 的/ 优势/ 应用/ 场景/ ./ 于是/ ,/ 我们/ 可以/ 回答/ 问题/ 3/ :/ 实验/ 结果表明/ IPT/ -/ PS/ 在/ 高维/ 、/ 多种/ 失效/ 模式/ 、/ 真实/ 程序/ 场景/ 下/ 仍然/ 适用/ ,/ 并/ 存在/ 着/ 进一步/ 优化/ 的/ 可能/ ./ 综合/ 上述/ 3/ 个/ 研究/ 问题/ 可知/ :/ IPT/ -/ PS/ 在/ 仅/ 使用/ 接近/ RT/ 时间/ 开销/ 的/ 情况/ 下/ ,/ 可以/ 达到/ 与/ ART/ 相近/ 甚至/ 更好/ 的/ 失效/ 检测/ 能力/ ,/ 权衡/ 了/ 有效性/ 和/ 效率/ 之间/ 的/ 矛盾/ ,/ 是/ 一种/ 高效/ 的/ 测试方法/ ./ 同时/ ,/ IPT/ -/ PS/ 在/ 高维/ 输入/ 域/ 、/ 不同/ 的/ 失效/ 模式/ 以及/ 真实/ 程序/ 中/ 也/ 表现/ 良好/ ,/ 具有/ 广泛/ 的/ 适用性/ ./ 此外/ ,/ 实验/ 观察/ 证实/ 了/ 我们/ 的/ 理论/ 分析/ 结论/ ,/ 进一步/ 验证/ 了/ IPT/ 、/ IPT/ -/ PS/ 中/ 关于/ 执行/ 测试用例/ 数/ 与/ 可推断/ 的/ θ/ 取值/ 范围/ 的/ 关系/ ./ 5/ 结论/ 随机/ 测试/ 一直/ 被/ 认为/ 是/ 一种/ 最为/ 简便/ 高效/ 的/ 测试用例/ 生成/ 方法/ ,/ 但/ 其/ 算法/ 本身/ 难以实现/ 较/ 好/ 的/ 取样/ 均匀/ 性/ ./ 适应性/ 随机/ 测试/ 、/ 划分/ 测试/ 等/ 方法/ 的/ 提出/ ,/ 从/ 测试用例/ 分布/ 的/ 角度/ 上/ 实现/ 了/ 更好/ 的/ 均匀/ 性/ ,/ 失效/ 检测/ 能力/ 在/ 不同/ 场景/ 下/ 实现/ 了/ 提升/ ./ 然而/ ,/ 此类/ 方法/ 均/ 需要/ 在/ 时间/ 开销/ 上/ 有着/ 不同/ 程度/ 的/ 牺牲/ ,/ 例如/ ,/ ART/ 需要/ 远高于/ RT/ 的/ 生成/ 计算/ 开销/ ;/ 传统/ 划分/ 测试/ 则/ 需要/ 对/ 输入/ 域/ 进行/ 预处理/ ,/ 以/ 获得/ 合理/ 的/ 子域/ 划分/ ,/ 而/ 划分/ 的/ 合理性/ 又/ 往往/ 是/ 决定/ 失效/ 检测/ 能力/ 的/ 关键因素/ ./ 因此/ ,/ 一直/ 缺少/ 一种/ 可以/ 在/ 失效/ 检测/ 能力/ 与/ 计算/ 开销/ 之间/ 实现/ 良好/ 平衡/ 的/ 测试用例/ 生成/ 方法/ ./ 本文/ 提出/ 了/ 一种/ 基于/ 优先级/ 的/ 迭代/ 划分/ 测试方法/ IPT/ -/ PS/ ,/ 很/ 好地解决/ 了/ 上述/ 关键性/ 问题/ ./ 该/ 方法/ 通过/ 迭代/ 划分/ 、/ 中心/ 采样/ 和/ 基于/ 优先级/ 的/ 用例/ 执行/ 策略/ 实现/ 了/ 测试用例/ 的/ 生成/ 和/ 执行/ ./ IPT/ -/ PS/ 结合/ 了/ 上述/ 传统/ 方法/ 的/ 优势/ ,/ 分别/ 解决/ 了/ 其/ 所/ 具有/ 的/ 局限性/ ./ 较之/ 上述/ 传统/ 方法/ ,/ IPT/ -/ PS/ 不/ 需要/ 对/ 输入/ 域/ 进行/ 预处理/ 划分/ ,/ 计算/ 开销/ 极低/ ,/ 更/ 重要/ 的/ 是/ IPT/ -/ PS/ 可以/ 实现/ 测试用例/ 的/ 高度/ 均匀分布/ ,/ 使/ 其/ 具有/ 良好/ 的/ 失效/ 检测/ 能力/ ./ 本文/ 通过/ 理论/ 分析/ 指出/ 了/ 执行/ 测试用例/ 数/ 与/ 可推断/ 的/ θ/ 取值/ 范围/ 的/ 关系/ ,/ 给出/ 了/ IPT/ -/ PS/ 检测/ 失效/ 所/ 需/ 测试用例/ 数量/ 的/ 上界/ ,/ 并/ 通过/ 仿真/ 实验/ 表明/ ,/ IPT/ -/ PS/ 在/ 仅/ 使用/ 接近/ RT/ 时间/ 开销/ 的/ 情况/ 下/ ,/ 可以/ 达到/ 与/ ART/ 相近/ 甚至/ 更好/ 的/ 失效/ 检测/ 能力/ ./ 未来/ 的/ 研究/ 工作/ 主要/ 包括/ :/ (/ 1/ )/ 已有/ IPT/ -/ PS/ 方法/ 的/ 改进/ :/ 探讨/ 是否/ 有/ 其他/ 测试用例/ 的/ 选择/ 方式/ ,/ 使得/ 测试用例/ 在/ 两轮/ 迭代/ 间/ 的/ 分布/ 更加/ 均匀/ ./ 同时/ ,/ 考虑/ 如何/ 提高/ IPT/ -/ PS/ 在/ 高/ 维空间/ 上/ 性能/ 的/ 稳定性/ ;/ (/ 2/ )/ 失效/ 模式/ 的/ 扩展/ :/ 在/ 已有/ 块状/ 、/ 圆形/ 、/ 点状/ 失效/ 模式/ 的/ 基础/ 上/ ,/ 考虑/ 组合/ 的/ 复杂/ 失效/ 区域/ 、/ 失效/ 区域/ 在/ 输入/ 域/ 中/ 的/ 特定/ 位置/ (/ 如/ 边界/ 、/ 角落/ 、/ 中心/ 等/ )/ 对/ 算法/ 性能/ 的/ 影响/ ;/ (/ 3/ )/ 实验/ 规模/ 的/ 扩展/ :/ 本文/ 已/ 采用/ 仿真/ 实验/ 和/ 部分/ 真实/ 程序/ 来/ 验证/ 方法/ 的/ 有效性/ ,/ 后续/ 将/ 增加/ 更/ 多/ 较/ 大规模/ 真实/ 程序/ 的/ 测试/ ,/ 以/ 进一步/ 验证/ IPT/ -/ PS/ 方法/ 的/ 有效性/ ./ 

