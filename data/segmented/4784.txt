Page1/ 云/ 计算环境/ 下云/ 服务/ 用户/ 并发/ 量/ 的/ 区间/ 预测/ 模型/ 孟煜/ 张斌/ 郭军/ 闫/ 永明/ (/ 东北大学/ 计算机科学/ 与/ 工程学院/ 沈阳/ 110819/ )/ 摘要/ 云/ 计算环境/ 下/ 服务/ 用户/ 并发/ 量/ 的/ 预测/ 是/ 云/ 环境/ 自/ 适应/ 资源/ 调整/ 的/ 重要依据/ ,/ 但/ 传统/ 的/ 单值/ 预测/ 所/ 包含/ 的/ 信息量/ 过少/ ,/ 受/ 并发/ 量/ 不确定性/ 影响/ 明显/ ,/ 所以/ 其/ 不足以/ 支持/ 完备/ 的/ 自/ 适应/ 调整/ 策略/ 制定/ ,/ 因而/ 会/ 引发/ 过多/ 无效/ 的/ 调整/ 动作/ ./ 针对/ 上述/ 问题/ ,/ 该文/ 提出/ 一种/ 云/ 服务/ 用户/ 并发/ 量/ 区间/ 预测/ 模型/ ,/ 通过/ 预测/ 并发/ 量/ 的/ 区间/ 量化/ 其/ 不确定性/ ./ 该/ 模型/ 利用/ 梯度/ 下降/ 粒子/ 群/ 优化/ 的/ 支持/ 向量/ 机/ 作为/ 主要/ 预测/ 方法/ ./ 为了/ 更/ 有效/ 地/ 预测/ 不同/ 类型/ 的/ 并发/ 量/ ,/ 提出/ 了/ 一种/ 基于/ 自/ 相关系数/ 以及/ 功率/ 谱分析/ 的/ AC/ -/ PS/ 并发/ 量/ 特征/ 判定/ 规则/ ,/ 并/ 针对/ 不同/ 特征/ 并发/ 量/ 采取/ 不同/ 的/ 区间/ 构造方法/ ./ 该文/ 通过/ 一个/ 实例/ 分析/ 该/ 区间/ 预测/ 模型/ 对/ 解决/ 自/ 适应/ 资源/ 调整/ 无效/ 问题/ 的/ 有效性/ ,/ 最后/ 利用/ 对比/ 实验/ 验证/ 预测/ 区间/ 的/ 准确性/ ./ 结果表明/ ,/ 相对/ 于/ 其它/ 方法/ 文中/ 提出/ 的/ 区间/ 预测/ 模型/ 对/ 各类/ 并发/ 量/ 数据/ 的/ 预测/ 精度/ 均达/ 92/ %/ 以上/ ,/ 其/ 预测/ 效率/ 有/ 76.11/ %/ ~/ 96.15/ %/ 的/ 提升/ ,/ 因此/ 提出/ 的/ 并发/ 量/ 区间/ 预测/ 方法/ 能够/ 为/ 避免/ 自/ 适应/ 资源/ 调整/ 无效/ 问题/ 提供/ 可靠/ 支撑/ ./ 关键词/ 云/ 服务/ ;/ 并发/ 量/ ;/ 区间/ 预测/ ;/ 云/ 环境/ ;/ 资源/ 调整/ 1/ 引言/ 云/ 计算/ 模式/ 强调/ 的/ 按/ 需/ 付费/ 模式/ 要求/ 云/ 环境/ 下/ 的/ 服务/ 系统/ 能够/ 为/ 用户/ 提供/ 不同/ 服务/ 等级/ (/ ServiceLevelAgreement/ ,/ SLA/ )/ 的/ 服务/ [/ 1/ ]/ ,/ 在/ 初始/ 部署/ 云/ 服务/ 时/ ,/ 为/ 满足/ 云/ 服务/ 的/ SLA/ ,/ 云/ 服务/ 环境/ 需要/ 针对/ 特定/ 用户/ 并发/ 量/ 制定/ 最佳/ 虚拟/ 资源配置/ 方案/ ./ 但是/ 由于/ 云/ 服务/ 用户/ 并发/ 量/ 经常/ 实时/ 变化/ ,/ 初始/ 的/ 资源配置/ 无法/ 使云/ 服务/ 一直/ 保持/ 满足/ SLA/ 的/ 运行/ 状态/ ,/ 因此/ 云/ 服务/ 需要/ 运行/ 时/ 在/ 资源/ 代价/ 最小/ 的/ 情况/ 下/ 动态/ 调整/ 资源配置/ 来/ 保证/ 云/ 服务/ 的/ SLA/ [/ 2/ ]/ ./ 自/ 适应/ 的/ 资源/ 调整/ 能够/ 更加/ 有效/ 地/ 应对/ 云/ 环境/ 的/ 实时/ 变化/ ,/ 从而/ 为云/ 服务/ 系统/ 持续/ 的/ 性能/ 保障/ 提供/ 更加/ 有效/ 的/ 支持/ [/ 3/ ]/ ./ 在/ 适应/ 用户/ 并发/ 量/ 变化/ 的/ 自/ 适应/ 资源/ 调整/ 过程/ 中/ ,/ 云/ 服务/ 用户/ 并发/ 量/ 的/ 获取/ 方式/ 对/ 资源/ 调整/ 的/ 有效性/ 具有/ 很大/ 的/ 影响/ [/ 4/ ]/ ./ 云/ 环境/ 下/ 服务/ 用户/ 并发/ 量/ 的/ 获取/ 方式/ 主要/ 分为/ 两种/ :/ 一种/ 方法/ 是/ 实时/ 获取/ 云/ 服务/ 用户/ 并发/ 量/ [/ 5/ -/ 6/ ]/ ,/ 根据/ 当前/ 云/ 服务/ 的/ 用户/ 并发/ 访问/ 情况/ 得到/ 并发/ 量/ 的/ 当前/ 值/ ,/ 由于/ 云/ 环境/ 状态/ 的/ 不断/ 变化/ ,/ 这种/ 方式/ 会/ 具有/ 无法/ 避免/ 的/ 滞后性/ ,/ 容易/ 产生/ 大量/ 的/ 不必要/ 调整/ ./ 另/ 一种/ 获取/ 方式/ 是/ 采用/ 预测/ 的/ 方法/ 获取/ [/ 7/ -/ 8/ ]/ ,/ 利用/ 并发/ 量/ 的/ 历史数据/ 通过/ 预测/ 得到/ 未来/ 一段时间/ 内/ 的/ 并发/ 量/ ./ 这种/ 方式/ 能够/ 支持/ 主动/ 的/ 自/ 适应/ 资源/ 调整/ ,/ 减少/ 不必要/ 调整/ 的/ 数量/ ,/ 为/ 调整/ 的/ 有效性/ 提供/ 保障/ ./ 因此/ 目前/ 并发/ 量/ 的/ 预测/ 方法/ 是/ 云/ 环境/ 自/ 适应/ 资源/ 调整/ 研究/ 中/ 的/ 重点/ ./ 在/ 并发/ 量/ 预测/ 领域/ 中/ ,/ 目前/ 的/ 研究/ 主要/ 分为/ 两类/ ./ 一类/ 是/ 自/ 回归/ 移动/ 平均法/ [/ 9/ ]/ 、/ 灰色/ 模型/ [/ 10/ ]/ 以及/ 排队/ 论/ [/ 11/ ]/ 等/ 传统/ 的/ 序列/ 分析方法/ ,/ 另一类/ 是/ 模式匹配/ [/ 12/ ]/ 、/ 基于/ 神经网络/ [/ 13/ -/ 14/ ]/ 以及/ 支持/ 向量/ 机/ [/ 15/ ]/ 等/ 机器/ 学习/ 对/ 并发/ 量/ 进行/ 预测/ ./ 无论是/ 序列/ 分析方法/ 还是/ 机器/ 学习/ 方法/ 都/ 是/ 针对/ 未来/ 一段时间/ 内/ 与/ 时间/ 点/ 相对/ 应/ 并发/ 量/ 的/ 特定/ 值/ 的/ 预测/ ./ 将/ 这些/ 方法/ 应用/ 到/ 针对/ 适应/ 并发/ 量/ 变化/ 所/ 做/ 的/ 自/ 适应/ 资源/ 调整/ 问题/ 的/ 解决/ 上/ ,/ 可能/ 导致/ 自/ 适应/ 调整/ 过程/ 的/ 无效/ 调整/ 问题/ ,/ 其/ 主要/ 表现/ 为/ 由于/ 预测/ 不/ 准确/ 导致/ 产生/ 不该/ 有/ 的/ 调整/ 以及/ 由于/ 并发/ 量/ 频繁/ 快速/ 变化/ 导致/ 调整/ 方案/ 在/ 调整/ 动作/ 执行/ 后/ 的/ 短时间/ 内/ 失效/ 两个/ 方面/ ./ 产生/ 不该/ 有/ 的/ 调整/ 的/ 原因/ 是/ 由于/ 云/ 服务/ 会/ 受到/ 用户/ 行为/ 、/ 业务/ 内容/ 以及/ 服务/ 时间/ 等/ 因素/ 的/ 影响/ ,/ 导致/ 其/ 用户/ 并发/ 量/ 的/ 产生/ 具有/ 很强/ 的/ 不确定性/ ,/ 因此/ 对于/ 并发/ 量/ 预测/ 的/ 误差/ 是/ 无法/ 避免/ 的/ ,/ 其/ 预测/ 结果/ 不/ 可能/ 很/ 准确/ ./ 无效/ 的/ 资源/ 调整/ 不仅/ 会/ 导致/ 云/ 环境/ 资源/ 的/ 浪费/ ,/ 而且/ 会/ 引发/ 新/ 的/ 违反/ SLA/ 的/ 问题/ ,/ 反而/ 对云/ 服务/ 产生/ 负面影响/ ./ 如果/ 在/ 并发/ 量/ 的/ 预测/ 过程/ 中/ ,/ 将/ 并发/ 量/ 预测/ 的/ 不确定性/ 也/ 表示/ 出来/ ,/ 进而/ 在/ 自/ 适应/ 调整/ 中将/ 预测/ 的/ 不确定性/ 考虑/ 在内/ ,/ 则/ 能/ 从根本上/ 解决/ 因为/ 预测/ 误差/ 导致/ 的/ 自/ 适应/ 资源/ 调整/ 失误/ 问题/ ./ 但是/ 传统/ 的/ 单值/ 预测/ 方法/ 无法/ 表示/ 预测/ 的/ 不确定性/ ,/ 而/ 预测/ 的/ 不确定性/ 可以/ 用/ 一个/ 范围/ 以及/ 概率/ 量化/ 出来/ ./ 另一方面/ ,/ 由于/ SLA/ 中所/ 界定/ 的/ 是/ 并发/ 量/ 的/ 一个/ 范围/ ,/ 通过/ SLA/ 评价/ 云/ 服务/ 性能/ 不/ 需要/ 单个/ 的/ 数值/ ,/ 所以/ 相对/ 于/ 单个/ 预测值/ 而言/ 如果/ 给出/ 一个/ 范围/ 其/ 准确度/ 会/ 提升/ ./ 因此/ 在/ 处理/ 并发/ 量/ 不确定性/ 的/ 问题/ 上/ ,/ 对于/ 并发/ 量/ 可能/ 产生/ 的/ 范围/ 预测/ 会/ 比/ 单值/ 预测/ 更/ 有效/ ./ 在/ 不/ 考虑/ 并发/ 量/ 不确定性/ 的/ 情况/ 下/ ,/ 即使/ 预测/ 结果/ 非常/ 准确/ ,/ 由于/ 并发/ 量/ 在/ 短时间/ 内/ 的/ 频繁/ 快速/ 变化/ ,/ 会/ 出现/ 调整/ 方案/ 在/ 调整/ 动作/ 执行/ 之后/ 立即/ 失效/ 的/ 问题/ ./ 这样/ 就/ 需要/ 在/ 预测/ 过程/ 中/ 衡量/ 出/ 并发/ 量/ 在/ 一段时间/ 内/ 的/ 变化/ ,/ 然而/ 仅仅/ 依靠/ 单个/ 并发/ 量/ 预测/ 的/ 数值/ 无法/ 表示/ 并发/ 量/ 在/ 短时间/ 内/ 的/ 频繁/ 快速/ 的/ 变化/ ./ 而/ 如果/ 用/ 上下/ 界限/ 的/ 形式/ 来/ 表示/ 预测/ 结果/ ,/ 则/ 可以/ 衡量/ 出/ 并发/ 量/ 的/ 变化/ 范围/ ,/ 使自/ 适应/ 调整/ 能够/ 从/ 这个/ 范围/ 中/ 提取/ 并发/ 量/ 变化/ 信息/ ,/ 从而/ 避免/ 因为/ 并发/ 量/ 变化/ 过快/ 而/ 引发/ 的/ 调整/ 失效/ 的/ 发生/ ./ Page3/ 解决/ 以上/ 两种/ 自/ 适应/ 资源/ 调整/ 无效/ 问题/ 都/ 要求/ 预测/ 算法/ 不能/ 只/ 给出/ 一个/ 预测值/ ,/ 需要/ 给出/ 一个/ 并发/ 量/ 的/ 区间/ 及其/ 置信度/ ,/ 为此/ ,/ 本文/ 提出/ 一种/ 云/ 服务/ 用户/ 并发/ 量/ 区间/ 预测/ 模型/ ./ 该/ 模型/ 能够/ 预测/ 未来/ 一段时间/ 内/ 的/ 并发/ 量/ 真实/ 值/ 可能/ 存在/ 的/ 区间/ 及其/ 置信度/ ./ 利用/ 此/ 模型/ 能够/ 为/ 解决/ 自/ 适应/ 资源/ 调整/ 无效/ 问题/ 提供/ 有效/ 支持/ ./ 为了/ 使/ 区间/ 预测/ 模型/ 适用/ 于/ 各种类型/ 的/ 并发/ 量/ 数据/ ,/ 通过/ 分析/ 服务/ 用户/ 并发/ 量/ 历史数据/ ,/ 根据/ 并发/ 量/ 数据/ 的/ 分布/ 趋势/ ,/ 本文/ 提出/ 基于/ 自/ 相关系数/ 以及/ 功率/ 谱分析/ 的/ AC/ -/ PS/ (/ Autocorrelation/ -/ PowerSpectrum/ )/ 并发/ 量/ 特征/ 判定/ 规则/ ./ 利用/ 此/ 模型/ 可/ 将/ 并发/ 量/ 分为/ 平稳/ 型/ 、/ 趋势/ 型/ 和/ 周期/ 型/ 共/ 3/ 种/ 特征/ 类型/ ./ 为了/ 精确/ 地/ 预测/ 3/ 种/ 特征/ 类型/ 的/ 并发/ 量/ 区间/ ,/ 本文/ 提出/ 一种/ 面向/ 多种/ 并发/ 量/ 类型/ 的/ 基于/ 梯度/ 下降/ 粒子/ 群/ 优化/ [/ 16/ ]/ 的/ 支持/ 向量/ 机/ 的/ 服务/ 用户/ 并发/ 量/ 区间/ 预测/ 方法/ ,/ 针对/ 不同/ 的/ 特征/ 采取/ 不同/ 的/ 区间/ 构造/ 方式/ ,/ 并/ 通过/ 查找/ 支持/ 向量/ 机/ 的/ 参数/ 的/ 最优/ 解来/ 确保/ 并发/ 量/ 预测/ 区间/ 的/ 准确性/ ,/ 进而/ 提高/ 多种类型/ 并发/ 量/ 预测/ 的/ 效率/ 与/ 灵活性/ ./ 本文/ 第/ 2/ 节/ 介绍/ 云/ 服务/ 并发/ 量/ 预测/ 方法/ 以及/ 区间/ 预测/ 方法/ 的/ 相关/ 工作/ ;/ 第/ 3/ 节/ 给出/ 云/ 服务/ 用户/ 并发/ 量/ 区间/ 预测/ 模型/ 及/ 并发/ 量/ 类型/ 判定/ 规则/ ;/ 第/ 4/ 节/ 给出/ 云/ 服务/ 用户/ 并发/ 量/ 区间/ 预测/ 的/ 主要/ 过程/ 及/ 详细/ 算法/ ;/ 第/ 5/ 节/ 通过/ 云/ 环境/ 用户/ 并发/ 量/ 区间/ 预测/ 模型/ 的/ 应用/ 实例/ 分析模型/ 的/ 有效性/ ;/ 第/ 6/ 节/ 通过/ 不同/ 区间/ 预测/ 算法/ 的/ 对比/ 分析/ 云/ 环境/ 用户/ 并发/ 量/ 区间/ 预测/ 算法/ 的/ 准确性/ ;/ 第/ 7/ 节对/ 全文/ 进行/ 总结/ ,/ 并/ 简要/ 介绍/ 下/ 一步/ 研究/ 的/ 主要/ 方向/ ./ 2/ 相关/ 工作/ 2.1/ 用户/ 并发/ 量/ 预测/ 方法/ 目前/ 并发/ 量/ 预测/ 的/ 研究/ 主要/ 集中/ 在/ 两类/ :/ 一类/ 是/ 通过/ 序列/ 分析/ 的/ 方法/ 预测/ 并发/ 量/ ,/ Xiong/ 等/ 人/ [/ 17/ ]/ 根据/ 服务/ 的/ CPU/ 需求/ 、/ I/ // O/ 需求/ 利用/ 开放式/ 排队/ 网络分析/ 预测/ 在线/ 负载/ ;/ Calheiros/ 等/ 人/ [/ 9/ ]/ 利用/ 自/ 回归/ 模型/ 预测/ 虚拟机/ 负载/ 作为/ 动态分配/ 资源/ 的/ 依据/ ./ Chiang/ 等/ 人/ [/ 18/ ]/ 利用/ 排队/ 论/ 算法/ 预测/ 应用/ 的/ 并发/ 量/ 来/ 为/ 数据中心/ 的/ 资源分配/ 提供/ 支持/ ./ 另一类/ 是/ 利用/ 机器/ 学习/ 的/ 方法/ ,/ Huang/ 等/ 人/ [/ 19/ ]/ 基于/ 线性/ 回归/ 分析/ 对云/ 环境/ 下/ 资源/ 进行/ 了/ 动态/ 调整/ ,/ 可以/ 使云/ 环境/ 下/ 的/ 应用/ 更好/ 地/ 满足/ SLA/ 需求/ ;/ Yang/ 等/ 人/ [/ 12/ ]/ 提出/ 基于/ 模式匹配/ 方法/ 的/ 负载/ 预测/ 模型/ 并/ 用于/ 云/ 资源/ 的/ 弹性/ 计算/ 中/ ./ Jiang/ 等/ 人/ [/ 20/ ]/ 根据/ 应用/ 的/ 历史/ 和/ 实时/ 的/ 性能/ 数据/ ,/ 基于/ 回归/ 分析/ 建立/ 用户/ 行为/ 和/ 负载/ 的/ 模型/ ,/ 通过/ 分析/ 和/ 评估/ 来/ 描述/ 用户/ 行为/ 和/ 负载/ 特性/ ./ 从/ 目前/ 的/ 研究/ 可以/ 看出/ ,/ 在/ 分析/ 预测/ 服务/ 性能/ 判定/ 触发/ 条件/ 时/ ,/ 主要/ 是/ 利用/ 排队/ 论/ 、/ 协同/ 过滤/ 以及/ 回归/ 分析/ 预测/ 并发/ 量/ ,/ 无论是/ 序列/ 分析方法/ 还是/ 机器/ 学习/ 方法/ 都/ 是/ 针对/ 未来/ 一段时间/ 内/ 与/ 时间/ 点/ 相对/ 应/ 的/ 并发/ 量/ 特定/ 值/ 的/ 预测/ ./ 无法/ 针对/ 并发/ 量/ 的/ 特点/ 给出/ 并发/ 量/ 的/ 不确定性/ 以及/ 变化/ 范围/ ./ 2.2/ 区间/ 预测/ 方法/ 区间/ 预测/ 是/ 一种/ 将/ 预测/ 目标/ 的/ 固有/ 不确定性/ 利用/ 区间/ 的/ 形式/ 表达/ 的/ 预测/ 方法/ ./ 在/ 区间/ 预测/ 过程/ 中/ 含有/ 两个/ 关键/ 的/ 不确定性/ 量化/ 方式/ ,/ 置信区间/ (/ ConfidenceInterval/ ,/ CI/ )/ 和/ 预测/ 区间/ (/ PredictionInterval/ ,/ PI/ )/ ./ 置信区间/ 表示/ 在/ 给定/ 预测/ 目标/ 的/ 指定/ 设置/ 中/ 目标/ 概率分布/ 的/ 平均值/ 可能/ 落入/ 的/ 范围/ ./ 预测/ 区间/ 表示/ 在/ 给定/ 预测/ 目标/ 的/ 指定/ 设置/ 中/ 单个/ 观测/ 值/ 可能/ 落入/ 的/ 范围/ [/ 21/ ]/ ./ 所以/ 在/ 实际/ 的/ 预测/ 过程/ 中/ 预测/ 区间/ 被/ 认为/ 是/ 表示/ 真实/ 值/ 所在区域/ 的/ 更加/ 有效/ 的/ 表示/ 方式/ ./ 与/ 置信区间/ 相比/ ,/ 由于/ 预测/ 区间/ 包含/ 了/ 未来/ 更/ 多/ 的/ 不确定性/ 信息/ ,/ 较/ 宽/ 的/ 预测/ 区间/ 表示/ 实际/ 的/ 不确定性/ 较/ 高/ ,/ 反之/ 较窄/ 的/ 预测/ 区间/ 表示/ 实际/ 的/ 不确定性/ 较/ 低/ ./ 因此/ 自/ 适应/ 资源/ 调节/ 需要/ 谨慎/ 地/ 使用/ 较/ 宽/ 预测/ 区间/ 的/ 结果/ 作为/ 参考/ ,/ 而/ 较窄/ 的/ 预测/ 区间/ 结果/ 则/ 可以/ 被/ 信任/ 的/ 利用/ ./ 由于/ 区间/ 预测/ 能够/ 表达/ 预测/ 目标/ 的/ 不确定性/ ,/ 所以/ 区间/ 预测/ 被/ 广泛应用/ 于/ 金融/ [/ 22/ ]/ 、/ 气象/ [/ 23/ ]/ 、/ 化学/ [/ 21/ ]/ 、/ 医疗/ [/ 24/ ]/ 以及/ 电力/ [/ 25/ ]/ 等/ 诸多/ 领域/ ,/ 但是/ 在/ 云/ 环境/ 用户/ 并发/ 量/ 预测/ 的/ 研究/ 中/ 尚未/ 提及/ ./ 传统/ 的/ 区间/ 预测/ 方法/ 主要/ 包括/ 线性/ 回归/ 法/ [/ 26/ ]/ 、/ 分布/ 假设/ 法/ [/ 27/ ]/ 、/ 朴素/ 贝叶斯/ 法/ [/ 28/ ]/ 及/ 分类/ 回归/ 树/ [/ 29/ ]/ ./ 线性/ 回归/ 将/ 历史数据/ 回归/ 成/ 线性/ 函数/ ,/ 以此/ 来/ 构建/ 预测/ 区间/ ./ 分布/ 假设/ 模型/ 是/ 预先/ 假设/ 了/ 一个/ 预测/ 误差/ 的/ 分布/ 情况/ ,/ 然后/ 通过/ 计算/ 预测/ 目标/ 的/ 误差/ 来/ 确定/ 预测/ 区间/ ./ 朴素/ 贝叶斯/ 法/ 通过/ 建立/ 先验/ 分布/ 模型/ ,/ 然后/ 利用/ 基于/ 历史数据/ 的/ 最大化/ 分析/ 构造/ 预测/ 区间/ ./ 分类/ 回归/ 树则/ 是/ 通过/ 使用/ 信息/ 增益/ 来/ 决定/ 回归/ 树/ 的/ 最优/ 划分/ ,/ 然后/ 以/ 每个/ 叶子/ 节点/ 作为/ 学习/ 模型/ 对/ 目标/ 进行/ 预测/ 及/ 区间/ 划分/ ./ 这些/ 方法/ 都/ 是/ 先/ 进行/ 单值/ 回归/ 预测/ 再/ 利用/ 置信度/ 分位/ 进行/ 区间/ 构建/ ,/ 所以/ 需要/ 各种/ 不/ 确定/ 的/ 数据分布/ 假设/ ,/ 导致/ 预测/ 区间/ 的/ 精确度/ 不/ 理想/ ./ 而/ 目前/ 一些/ 更/ 复杂/ 的/ 神经网络/ 的/ 方法/ 被/ 用于/ 区间/ 预测/ 中来/ 估计/ 预测/ 目标/ 的/ 不确定性/ ./ 基于/ 卡尔曼滤波/ 的/ 神经网络/ 也/ 被/ 用于/ 预测/ 区间/ Page4/ 的/ 估计/ 中/ ,/ 其中/ 卡尔曼滤波/ 通过/ 将/ 神经网络/ 的/ 参数/ 作为/ 一个/ 状态/ 向量/ ,/ 训练/ 并/ 更新/ 出/ 一个/ 前馈/ 的/ 神经网络/ ,/ 以此/ 来/ 突破/ 不能/ 在/ 区间/ 预测/ 中/ 产生/ 动态/ 的/ 协方差/ 的/ 限制/ [/ 30/ ]/ ./ 基于/ 神经网络/ 的/ 上/ 下界/ 估计/ 法/ [/ 31/ ]/ 利用/ 一个双/ 输出/ 的/ 神经网络/ 使/ 预测/ 区间/ 的/ 计算/ 避免/ 了/ 对于/ 历史/ 数据分布/ 规律/ 的/ 假设/ ./ 但/ 神经网络/ 方法/ 通常/ 具有/ 预测/ 结果/ 受限于/ 局部/ 极小值/ 、/ 参数/ 调整/ 过量/ 以及/ 漫长/ 的/ 计算/ 时间/ 等/ 限制/ ./ 基于/ 支持/ 向量/ 机/ 的/ 方法/ 被/ 很多/ 学者/ 用于/ 不确定性/ 估计/ 中/ ./ 支持/ 向量/ 机是/ 一种/ 基于/ 统计学/ 理论/ 的/ 监督/ 学习/ 模型/ ,/ 由/ Cortes/ 和/ Vapnik/ [/ 32/ ]/ 于/ 1995/ 年/ 首先/ 提出/ ./ 支持/ 向量/ 机构/ 建了/ 一种/ 超平面/ ,/ 由此/ 可以/ 有效/ 地/ 解决/ 非线性/ 及/ 样本/ 数量/ 少/ 等/ 问题/ ,/ 被/ 广泛/ 地/ 应用/ 于/ 数据/ 分类/ 以及/ 回归/ 预测/ 模型/ 的/ 构建/ 中/ [/ 33/ ]/ ./ 支持/ 向量/ 机/ 的/ 核心思想/ 是/ 将/ 输入/ 空间/ Rn/ 非线性/ 地/ 映射/ 到/ 一个/ 高/ 维空间/ D/ 上/ ,/ 从而/ 将/ 低维/ 特征/ 空间/ 的/ 非线性/ 回归/ 问题/ 转化/ 为/ 高维/ 特征/ 空间/ 的/ 线性/ 回归/ 问题/ ./ 本文/ 利用/ 支持/ 向量/ 机/ 的/ 回归/ 模型/ 来/ 预测/ 并发/ 量/ 的/ 区间/ ./ 由于/ 支持/ 向量/ 机在/ 解决/ 回归/ 问题/ 上/ 的/ 突出表现/ ,/ 很多/ 研究/ 将/ 其/ 作为/ 主要/ 的/ 回归/ 模型/ 用于/ 区间/ 预测/ 当中/ ./ 在/ 非线性/ 条件/ 异/ 方差/ 预测/ 过程/ 中/ 支持/ 向量/ 机/ 被/ 用于/ 预测/ 电力/ 价格/ [/ 34/ ]/ ./ 为了/ 确定/ 异/ 方差/ 误差/ 的/ 方差/ 函数/ ,/ 一种/ 半/ 参数/ 混合/ 影响/ 的/ 最小/ 二乘/ 支持/ 向量/ 机/ 被/ 用于/ 置信区间/ 与/ 预测/ 区间/ 的/ 预测/ 中/ [/ 35/ ]/ ./ 然而/ 这些/ 方法/ 都/ 将/ 重点/ 放在/ 提高/ 预测/ 区间/ 对/ 真实/ 值/ 的/ 覆盖率/ 上/ ,/ 但/ 忽略/ 了/ 预测/ 区间/ 的/ 宽度/ ,/ 这样/ 对于/ 云/ 服务/ 用户/ 并发/ 量/ 的/ 预测/ 而言/ ,/ 很/ 容易/ 因为/ 预测/ 区间/ 过/ 宽/ 而/ 导致/ 决策/ 无法/ 准确/ 制定/ 的/ 问题/ ./ 本文/ 的/ 目标/ 是/ 利用/ 梯度/ 下降/ 粒子/ 群/ 优化/ 的/ 支持/ 向量/ 机构/ 建/ 一种/ 非/ 参数/ 、/ 分布/ 自由/ 的/ 云/ 服务/ 用户/ 并发/ 量/ 预测/ 模型/ ./ 支持/ 向量/ 机/ 使用/ 的/ 是/ 全局/ 极小值/ ,/ 突破/ 了/ 神经网络/ 中/ 局部/ 最小值/ 的/ 限制/ ./ 而/ 选择/ 合适/ 的/ 参数/ 会/ 使/ 支持/ 向量/ 机/ 的/ 性能/ 得到/ 很大/ 提升/ ./ 为了/ 提高/ 预测/ 效率/ ,/ 本文/ 利用/ 梯度/ 下降/ 粒子/ 群/ 算法/ 对/ 支持/ 向量/ 机/ 的/ 参数/ 做出/ 最优化/ 选择/ ./ 3/ 云/ 服务/ 用户/ 并发/ 量/ 区间/ 预测/ 模型/ 云/ 服务/ 用户/ 并发/ 量/ 区间/ 预测/ 模型/ 使用/ 支持/ 向量/ 机/ 作为/ 主要/ 的/ 机器/ 学习/ 方法/ ,/ 相对/ 于/ 其它/ 区间/ 预测/ 方法/ ,/ 支持/ 向量/ 机在/ 查找/ 全局/ 最小值/ 、/ 结果/ 重复/ 筛选/ 以及/ 基础/ 函数/ 自动/ 选取/ 等/ 方面/ 有着/ 突出/ 优势/ ./ 在/ 确定/ 支持/ 向量/ 机/ 参数/ 过程/ 中/ ,/ 引入/ 粒子/ 群/ 算法/ 查找/ 参数/ 的/ 最优/ 解以/ 降低/ 支持/ 向量/ 机/ 的/ 训练/ 误差/ ./ 为了/ 更为/ 准确/ 地/ 预测/ 各种/ 特征/ 的/ 云/ 服务/ 用户/ 并发/ 量/ 的/ 区间/ ,/ 预测/ 模型/ 引入/ 本文/ 提出/ 的/ AC/ -/ PS/ 并发/ 量/ 特征/ 判定/ 规则/ 对/ 并发/ 量/ 历史数据/ 分类/ ./ 针对/ 不同/ 并发/ 特征/ 类型/ ,/ 在/ 预测/ 模型/ 中/ 选取/ 不同/ 的/ 区间/ 构造方法/ 以/ 提高/ 预测/ 区间/ 的/ 精度/ ./ 3.1/ 模型/ 基本/ 结构/ 云/ 服务/ 用户/ 并发/ 量/ 区间/ 预测/ 模型/ 结构/ 如图/ 1/ 所示/ ./ 模型/ 主要/ 分为/ 并发/ 量/ 历史数据/ 区间/ 序列/ 构建/ 以及/ 并发/ 量/ 区间/ 生成/ 两个/ 部分/ ./ 并发/ 量/ 历史数据/ 区间/ 序列/ 构建/ 是/ 将/ 一个/ 并发/ 量/ 时间/ 序列/ 划分/ 为/ 两个/ 时间/ 序列/ ,/ 这/ 两个/ 序列/ 分别/ 表示/ 历史/ 并发/ 量/ 的/ 上界/ 及/ 历史/ 并发/ 量/ 的/ 下界/ ./ 并发/ 量/ 区间/ 生成/ 是/ 利用/ 生成/ 的/ 并发/ 量/ 历史数据/ 区间/ 序列/ 预测出/ 给定/ 时间/ 内/ 的/ 并发/ 量/ 区间/ ./ 并发/ 量/ 历史数据/ 区间/ 序列/ 构建/ 为/ 其/ 预测/ 区间/ 生成/ 提供数据/ 基础/ ,/ 历史数据/ 区间/ 能够/ 直接/ 影响/ 到/ 预测/ 结果/ ,/ 因此/ 历史数据/ 区间/ 需要/ 准确/ 地/ 包含/ 并发/ 量/ 序列/ 的/ 变化/ 特征/ ./ 但是/ 在/ 云/ 环境/ 下/ 不同/ 云/ 服务/ 需要/ 承载/ 的/ 并发/ 量/ 特征/ 是/ 有所不同/ 的/ ,/ 而/ 随着/ 时间/ 的/ 推移/ ,/ 同一/ 服务/ 在/ 不同/ 时间/ 内/ 的/ 并发/ 量/ 也/ 会/ 有/ 显著/ 的/ 差异/ ./ 所以/ 需要/ 对/ 并发/ 量/ 历史数据/ 按照/ 其/ 变化/ 特点/ 进行/ 分类/ ,/ 这样/ 才能/ 准确/ 地/ 量化/ 出/ 并发/ 量/ 变化/ 的/ 特征/ ./ 为了/ 分析/ 云/ 服务/ 用户/ 并发/ 量/ 特征/ ,/ 根据/ 其/ 数据分布/ 趋势/ ,/ 提出/ 了/ AC/ -/ PS/ 判定/ 规则/ ./ 此/ 方法/ 将/ 并发/ 量/ 分为/ 平稳/ 型/ 、/ 趋势/ 型/ 和/ 周期/ 型/ 这/ 3/ 种/ 类型/ ,/ 进而/ 可以/ 按照/ 并发/ 量/ 的/ 不同/ 类型/ 利用/ 不同/ 的/ 方法/ 构建/ 其/ 历史数据/ 的/ 区间/ ./ 对于/ 并发/ 量/ 预测/ 区间/ 的/ 生成/ ,/ 本文/ 选用/ 基于/ 梯度/ 下降/ 粒子/ 群/ 优化/ 的/ 支持/ 向量/ 机/ 作为/ 主要/ 的/ 训练/ 及/ 预测/ 方法/ ./ 为了/ 得到/ 两个/ 输出/ 结果/ 构建/ 出/ 预测/ 区间/ 的/ 上/ 下界/ ,/ 需要/ 引入/ 两个/ 支持/ 向量/ 机/ 模型/ :/ 一个/ 支持/ Page5/ 向量/ 机/ 模型/ 利用/ 历史数据/ 区间/ 的/ 上界/ 预测出/ 预测/ 区间/ 的/ 上界/ ;/ 另/ 一个/ 支持/ 向量/ 机/ 模型/ 则/ 用来/ 预测/ 区间/ 下界/ ./ 两个/ 支持/ 向量/ 机/ 模型/ 都/ 选择/ 径向/ 基/ 函数/ (/ RadialBasisFunction/ ,/ RBF/ )/ 作为/ 其核/ 函数/ ./ 选择/ 径向/ 基核/ 函数/ 的/ 原因/ 是/ 径向/ 基核/ 函数/ 可以/ 用/ 较/ 少/ 的/ 超/ 参数/ 来/ 表示/ 高维/ 数据/ ,/ 这样/ 就/ 减少/ 了/ 模型/ 选择/ 的/ 复杂度/ ./ 径向/ 基核/ 函数/ 可以/ 被/ 表示/ 为/ k/ (/ x/ ,/ y/ )/ =/ exp/ (/ -/ γ/ x/ -/ y2/ )/ ,/ 其中/ γ/ 是/ 核/ 参数/ ./ 在/ 基于/ 径向/ 基核/ 函数/ 的/ 支持/ 向量/ 机中/ ,/ 支持/ 向量/ 机/ 的/ 惩罚/ 因子/ C/ 与/ 核/ 参数/ γ/ 对于/ 支持/ 向量/ 机/ 的/ 精确度/ 有/ 很大/ 的/ 影响/ [/ 33/ ]/ ./ 由于/ 预测/ 模型/ 中/ 使用/ 两个/ 支持/ 向量/ 机/ 预测/ 区间/ 的/ 上界/ 和/ 下界/ ,/ 为了/ 使/ 预测/ 区间/ 既/ 能/ 满足/ 预期/ 的/ 置信度/ 又/ 能/ 减小/ 区间/ 宽度/ ,/ 每个/ 支持/ 向量/ 机都/ 需要/ 最优/ 的/ 惩罚/ 因子/ C/ 与/ 核/ 参数/ γ/ ,/ 所以/ 模型/ 中/ 需要/ 确定/ 四个/ 参数/ 的/ 数值/ ./ 为了/ 获得/ 一个/ 最佳/ 的/ 参数/ 组合/ 使/ 预测/ 区间/ 满足/ 给定/ 的/ 置信度/ ,/ 并/ 在/ 此基础/ 上/ 最小化/ 其/ 预测/ 区间/ 的/ 宽度/ ,/ 需要/ 确定/ 一个/ 合适/ 的/ 参数/ 选择/ 策略/ ./ 最/ 基础/ 的/ 方法/ 是/ 网格/ 搜索/ ,/ 这种/ 方法/ 是/ 在/ 参数/ 可能/ 存在/ 的/ 范围/ 内/ 顺序/ 的/ 搜索/ 来/ 确定/ 适当/ 的/ 参数/ ./ 由于/ 并发/ 量/ 的/ 预测/ 需要/ 实时/ 地/ 应用/ 于云/ 环境/ 的/ 资源/ 自/ 适应/ 调整/ 中/ ,/ 所以/ 这种/ 在线/ 预测/ 方式/ 需要/ 对/ 运算/ 的/ 实时性/ 有/ 较/ 高/ 要求/ ./ 基于/ 网格/ 的/ 最优化/ 查找/ 方法/ 计算/ 复杂/ 度过/ 高/ ,/ 所以/ 非常/ 耗时/ ./ 这样/ 就/ 需要/ 选择/ 一种/ 优化/ 方法/ ,/ 这里/ 我们/ 选择/ 使用/ 粒子/ 群/ 优化/ 算法/ 作为/ 参数/ 最优/ 解/ 的/ 查找/ 方法/ ./ 粒子/ 群/ 优化/ 算法/ 是/ 由/ Venter/ 等/ 人/ [/ 36/ ]/ 首先/ 提出/ 的/ 一种/ 源于/ 对/ 鸟群/ 觅食/ 行为/ 研究/ 分析/ 而/ 产生/ 的/ 群/ 智能算法/ ./ 为了/ 进一步提高/ 算法/ 的/ 运算/ 效率/ ,/ 在/ 粒子/ 群/ 算法/ 中/ 引入/ 梯度/ 变化/ 思想/ [/ 16/ ]/ ,/ 利用/ 粒子/ 在/ 历史/ 迭代/ 中/ 收敛/ 强度/ 的/ 梯度/ 信息/ 作为/ 其/ 移动/ 速度/ 的/ 更新/ 依据/ ,/ 减少/ 粒子/ 速度/ 及/ 位移/ 的/ 随机性/ ,/ 从而/ 加快/ 粒子/ 群/ 的/ 收敛/ 速度/ ,/ 提高/ 预测/ 算法/ 的/ 实时性/ ./ 3.2/ 基于/ 自/ 相关系数/ 及/ 功率/ 谱/ 的/ AC/ -/ PS/ 判定/ 规则/ 云/ 服务/ 用户/ 并发/ 量/ 是/ 指/ 单位/ 时间/ 内/ 用户/ 对/ 服务/ 的/ 请求/ 数/ ./ 并发/ 量/ con/ 的/ 定义/ 如下/ ./ 内/ 的/ 请求/ 数/ ,/ 则/ 并发/ 量/ con/ =/ r/ 定义/ 1/ ./ 并发/ 量/ ./ 如果/ 用/ r/ 表示/ 服务/ 在/ t/ 时间/ 通常/ 情况/ 下/ ,/ t/ 以/ s/ 为/ 单位/ ,/ 并发/ 量/ 则/ 为/ 云/ 服务/ 每秒/ 的/ 用户/ 请求/ 数/ ./ 为了/ 分析/ 云/ 服务/ 用户/ 并发/ 量/ 在/ 时间/ 维度/ 上/ 的/ 特征/ ,/ 需要/ 用到/ 一段时间/ 内/ 相同/ 时间/ 步长/ 下/ 时间/ 点/ 的/ 并发/ 量/ 数据/ 集/ ,/ 也/ 就是/ 并发/ 量/ 时间/ 序列/ ,/ 可/ 如下/ 定义/ ./ 定义/ 2/ ./ 并发/ 量/ 时间/ 序列/ ./ 并发/ 量/ 的/ 时间/ 序列/ 是/ 一个/ 按照/ 时间/ 顺序排列/ 的/ 时间/ 与/ 并发/ 量/ 的/ 二元/ 组/ 的/ 集合/ ,/ 即/ 并发/ 量/ 时间/ 序列/ S/ =/ {/ 〈/ t1/ ,/ con1/ 〉/ ,/ 〈/ t2/ ,/ con2/ 〉/ ,/ …/ ,/ 〈/ tn/ ,/ conn/ 〉/ }/ 其中/ :/ n/ 为/ 并发/ 量/ 个数/ ;/ coni/ 为/ ti/ 时间/ 的/ 并发/ 量/ ,/ ti/ 需要/ 满足/ ti/ </ ti/ +/ 1/ ./ coni/ 的/ 大小/ 与/ 定义/ 1/ 中/ t/ 的/ 取值/ 相关/ ,/ t/ 的/ 取值/ 会/ 影响/ coni/ 的/ 精度/ ./ t/ 越小/ coni/ 越/ 接近/ ti/ 时刻/ 的/ 并发/ 量/ 的/ 真实/ 值/ ,/ t/ 越大/ coni/ 越能/ 代表/ 一段时间/ 内/ 的/ 平均水平/ ./ 为了/ 减小/ 并发/ 量/ 个别/ 噪声/ 对/ 特征分析/ 造成/ 的/ 影响/ ,/ 本文/ 中/ coni/ 的/ 取值/ 为/ 时间/ 步长/ 内/ 的/ 平均/ 并发/ 量/ ,/ 即/ coni/ =/ riti/ -/ ti/ -/ 1/ 时间/ 内云/ 服务/ 的/ 用户/ 请求/ 数/ ./ 为了/ 在/ 预测/ 过程/ 中/ 判定/ 云/ 服务/ 用户/ 并发/ 量/ 类型/ ,/ 本文/ 提出/ 一种/ 基于/ 自/ 相关系数/ 及/ 功率/ 谱/ 综合/ 判定/ 的/ AC/ -/ PS/ 判定/ 规则/ ./ AC/ -/ PS/ 判定/ 规则/ 的/ 结构/ 如图/ 2/ 所示/ ./ 自/ 相关系数/ 能够/ 反映/ 时间/ 序列/ 中/ 不同/ 时期/ 观测/ 值/ 之间/ 的/ 相互/ 关系/ ,/ 通过/ 计算/ 不同/ 延迟/ 步长/ 下/ 的/ 自/ 相关系数/ ,/ 可以/ 从/ 不同/ 角度/ 评价/ 云/ 服务/ 用户/ 并发/ 量/ 的/ 特征/ ./ 由/ 定义/ 2/ 可知/ ,/ con1/ ,/ con2/ ,/ …/ ,/ coni/ ,/ …/ ,/ conn/ 是/ 过去/ n/ 个/ 时间/ 点/ 对应/ 的/ 云/ 服务/ 用户/ 并发/ 量/ ./ 将/ 这个/ 序列/ 按照/ 延迟/ 步长/ 为/ 1/ 的/ 间隔/ 可/ 化/ 分为/ n/ -/ 1/ 个/ 二元/ 组/ :/ 〈/ con1/ ,/ con2/ 〉/ ,/ 〈/ con2/ ,/ con3/ 〉/ ,/ …/ ,/ 〈/ coni/ ,/ coni/ +/ 1/ 〉/ ,/ …/ ,/ 〈/ conn/ -/ 1/ ,/ conn/ 〉/ ./ 其/ 延迟/ 步长/ 为/ 1/ 的/ 自/ 相关系数/ 为/ ρ/ 1/ =/ γ/ (/ i/ ,/ i/ +/ 1/ )/ =/ ∑/ n/ -/ 1Page6/ 其中/ ,/ coni/ =/ 1/ 自/ 相关系数/ 的/ 含义/ 不同于/ 两个/ 变量/ 间/ 的/ 相关系数/ ,/ 并发/ 量/ 自/ 相关系数/ ρ/ 1/ 用来/ 度量/ 并发/ 量/ 时间/ 序列/ 上/ 一/ 时间段/ 并发/ 量/ 观测/ 值/ 与/ 下/ 一/ 时间段/ 并发/ 量/ 观测/ 值/ 之间/ 的/ 关系/ ,/ 从/ 定量/ 的/ 角度/ 来/ 研究/ 上/ 一/ 时间段/ 对/ 下/ 一/ 时间段/ 并发/ 量/ 观测/ 值/ 的/ 影响/ 程度/ 的/ 大小/ ./ 自/ 相关系数/ 的/ 延迟/ 步长/ 是/ 组成/ 二元/ 组/ 的/ 两个/ 数值/ 在/ 序列/ 中/ 的/ 间隔/ 数/ ,/ 如果/ 延迟/ 步长/ 为/ k/ ,/ 则/ 组成/ 的/ 二元/ 组为/ 〈/ coni/ ,/ coni/ +/ k/ 〉/ ,/ 由此可知/ ,/ 并发/ 量/ 时间/ 序列/ 可/ 被/ 划分/ 出/ n/ -/ k/ 个/ 二元/ 组/ ,/ 这样/ 可以/ 得到/ 并发/ 量/ 的/ 自/ 相关系数/ 序列/ ./ 定义/ 3/ ./ 并发/ 量/ 自/ 相关系数/ 序列/ ./ 并发/ 量/ 自/ 相关系数/ 序列/ 是/ 一个/ 由/ 各/ 延迟/ 步长/ 下/ 自/ 相关系数/ 组成/ 的/ 序列/ Pm/ =/ {/ ρ/ 1/ ,/ ρ/ 2/ ,/ …/ ,/ ρ/ m/ }/ =/ {/ ρ/ k/ }/ m/ 发量/ 时间/ 序列/ 在/ 延迟/ 步长/ 为/ k/ 下/ 的/ 自/ 相关系数/ :/ ρ/ k/ =/ ∑/ n/ -/ k/ 其中/ ,/ k/ =/ 1/ ,/ 2/ ,/ …/ ,/ m/ ./ m/ 为/ 最大/ 延迟/ 步长/ ,/ 一般/ 情况/ 下/ m/ =/ n/ 通过/ 分析/ 并发/ 量/ 时间/ 序列/ 的/ 自/ 相关系数/ 集合/ Pm/ ,/ 可以/ 确定/ 并发/ 量/ 时间/ 序列/ 的/ 波动/ 特征/ ./ 为了/ 直观/ 地/ 分析/ 并发/ 量/ 序列/ 平稳性/ 特征/ ,/ 选取/ 景点/ 语音/ 导航/ 云/ 服务/ 系统/ 中/ ,/ 景区/ 推荐/ 服务/ 2016/ 年/ 3/ 月/ 2/ 日/ 上午/ 9/ :/ 00/ ~/ 9/ :/ 50/ 间/ 以/ 1min/ 为/ 步长/ 并发/ 量/ 数据/ 序列/ ./ 此/ 序列/ 共/ 包含/ 51/ 个/ 并发/ 量值/ ,/ 变化趋势/ 具有/ 平稳/ 型/ 序列/ 的/ 代表性/ ./ 其自/ 相关系数/ 序列/ 的/ 延迟/ 步长/ 的/ 取值/ 为/ k/ =/ 1/ ,/ 2/ ,/ …/ ,/ m/ ,/ m/ =/ 1/ ,/ 2/ ,/ …/ ,/ 17/ ,/ 则/ 此/ 用户/ 并发/ 量/ 序列/ 的/ Pm/ 如图/ 3/ 所示/ ./ 平稳/ 型/ 云/ 服务/ 用户/ 并发/ 量/ 的/ 第一个/ 自/ 相关系数/ ρ/ 1/ 为/ Pm/ 中/ 的/ 最大值/ ./ 并且/ ρ/ 1/ 与/ 零有/ 显著性/ 的/ 差异/ ,/ 其余/ 延迟/ 步长/ 下/ 的/ 自/ 相关系数/ 都/ 在/ 零/ 的/ 上下/ 不规则/ 波动/ ,/ 且/ 与/ 零/ 没有/ 显著性/ 差异/ ./ 对于/ 趋势/ 型/ 序列/ ,/ 选取/ 有/ 代表性/ 的/ GPS/ 景区/ 识别/ 服务/ 2016/ 年/ 3/ 月/ 2/ 日/ 上午/ 9/ :/ 00/ ~/ 11/ :/ 30/ 以/ 2min/ 为/ 步长/ 的/ 用户/ 并发/ 量/ 序列/ ./ 该/ 序列/ 共有/ 76/ 个/ 并发/ 量值/ ,/ 变化趋势/ 为/ 递增/ ,/ 具有/ 明显/ 的/ 趋势/ 型/ 序列/ 代表性/ ./ 其自/ 相关系数/ 序列/ 的/ 延迟/ 步长/ 的/ 取值/ 为/ k/ =/ 1/ ,/ 2/ ,/ …/ ,/ m/ ,/ m/ =/ 1/ ,/ 2/ ,/ …/ ,/ 25/ ,/ 用户/ 并发/ 量/ 的/ Pm/ 如图/ 4/ 所示/ ./ 趋势/ 型/ 云/ 服务/ 用户/ 并发/ 量/ 的/ 第/ 1/ 个/ 自/ 相关系数/ ρ/ 1/ 也/ 为/ Pm/ 中/ 的/ 最大值/ ,/ 但/ 整个/ Pm/ 序列/ 呈/ 单调/ 递减/ 趋势/ ,/ 大多数/ 延迟/ 步长/ 的/ 自/ 相关系数/ 与/ 零有/ 显著性/ 差异/ ./ 对于/ 周期/ 型/ 序列/ ,/ 分别/ 选取/ 有/ 代表性/ 的/ 景点/ 图像识别/ 服务/ 与/ 景点/ 路线/ 获取/ 服务/ 2016/ 年/ 3/ 月/ 1/ 日至/ 3/ 月/ 12/ 日/ 每天/ 早/ 6/ :/ 00/ 到/ 晚/ 6/ :/ 00/ 间/ 步长/ 为/ 1h/ 的/ 并发/ 量/ 序列/ ,/ 每个/ 服务/ 的/ 并发/ 量/ 序列/ 均/ 包含/ 13/ ×/ 12/ =/ 156/ 个/ 数值/ ,/ 景点/ 图像识别/ 服务/ 的/ 并发/ 量/ 序列/ 在/ 此/ 时间段/ 内有/ 明显/ 的/ 周期性/ ,/ 且/ 趋势/ 平稳/ ,/ 可以/ 代表/ 一般/ 周期/ 型/ 序列/ ./ 景点/ 路线/ 获取/ 服务/ 在/ 此/ 时间段/ 内/ 也/ 有/ 明显/ 的/ 周期性/ ,/ 且/ 还/ 具有/ 增长/ 的/ 趋势/ ,/ 可以/ 代表/ 趋势/ 周期/ 型/ 序列/ ,/ 这/ 两种/ 序列/ 的/ Pm/ 如图/ 5/ 所示/ ./ 周期/ 型/ 云/ 服务/ 用户/ 并发/ 量/ 的/ 自/ 相关系数/ 也/ 具有/ 明显/ 的/ 周期性/ ,/ 规律/ 的/ 交替/ 出现/ 波峰/ 和/ 波谷/ ,/ 并且/ 在/ 波峰/ 至/ 波谷/ 单调/ 递减/ ,/ 波谷/ 至/ 波峰/ 单调/ 递增/ ./ 随着/ 延迟/ 步长/ 的/ 增加/ ,/ 每个/ 周期/ 的/ 振幅/ 不断/ 减少/ ./ 周期/ 型/ 序列/ 又/ 可/ 分为/ 两种/ ,/ 一般/ 周期/ 型/ 和/ 趋势/ 周期/ 型/ ./ 如果/ 并发/ 量/ 数据/ 在/ 某/ 一/ 常数/ 上下/ 周期性/ 波动/ ,/ 则/ 自/ 相关系数/ 会/ 如图/ 5/ (/ a/ )/ ,/ 在/ 零值/ 上下/ 均匀/ 波动/ 最后/ 趋/ 近于零/ ,/ 这种/ 序列/ 属于/ 一般/ 周期/ 型/ ./ 如果/ 并发/ 量/ 周期性/ 的/ 递增/ 或/ 周期性/ 的/ 递减/ ,/ 则/ 自/ 相关系数/ 会/ 如图/ 5/ (/ b/ )/ ,/ 其自/ 相关系数/ 会/ 呈/ 周期性/ 递减/ 趋势/ ,/ 这种/ 序列/ 属于/ Page7/ 趋势/ 周期/ 型/ ./ 由/ 以上/ 3/ 种/ 类型/ 并发/ 量/ 时间/ 序列/ 自/ 相关系数/ 分析/ 得知/ ,/ 自/ 相关系数/ 能够/ 明显/ 地区/ 分/ 平稳/ 型/ 序列/ 与/ 趋势/ 型/ 序列/ ./ 如果/ 时间/ 序列/ 在/ 某/ 一/ 常数/ 上下/ 随机/ 波动/ ,/ 那么/ 其自/ 相关系数/ 序列/ 与/ 零有/ 显著/ 相关性/ (/ 差异性/ 不/ 显著/ )/ [/ 37/ ]/ ./ 时间/ 序列/ 的/ 功率/ 谱/ 能够/ 通过/ 其谱峰/ 反映/ 时间/ 序列/ 的/ 周期性/ ,/ 本文/ 利用/ 周期/ 图法/ 来/ 估计/ 并发/ 量/ 时间/ 序列/ 的/ 功率/ 谱/ 序列/ ./ 定义/ 4/ ./ 并发/ 量/ 功率/ 谱/ 序列/ ./ 并发/ 量/ 功率/ 谱/ 序列/ 是/ 一个/ 由/ 各/ 频率/ 下/ 实现/ 序列/ 的/ 功率/ 谱/ 组成/ 的/ 序列/ Q/ =/ {/ ^/ p1/ ,/ ^/ p2/ ,/ …/ ,/ ^/ pn/ }/ =/ {/ ^/ pv/ }/ n/ 列/ 频率/ 为/ v/ 的/ 功率/ 谱/ :/ Fv/ 为/ 离散/ 傅里叶/ 变换/ ,/ 表示/ 为/ Fv/ =/ ∑/ nWn/ 被/ 称为/ 旋转/ 因子/ ,/ Wn/ =/ e/ -/ j2/ π/ 由于/ 功率/ 谱/ 序列/ 在/ v/ =/ n/ 只/ 分析/ v/ ∈/ 1/ ,/ n/ 务/ 用户/ 并发/ 量/ 功率/ 谱/ 序列/ Q/ 如图/ 6/ 所示/ ./ 从图/ 6/ 中/ 不难看出/ ,/ 在/ 周期/ 型/ 云/ 服务/ 用户/ 并发/ 量/ 功率/ 谱/ 序列/ 中/ 包含/ 功率/ 谱/ 突出/ 高/ 的/ 谱峰/ ,/ 这个/ 谱峰/ 则/ 为/ 序列/ 的/ 周期/ 峰/ ./ 利用/ 功率/ 谱/ 序列/ 可以/ 得到/ 并发/ 量/ 序列/ 的/ 周期/ ./ 定义/ 5/ ./ 并发/ 量/ 序列/ 周期/ 数/ ./ 并发/ 量/ 序列/ 周期/ 数为/ 周期/ 型/ 并发/ 量/ 序列/ 在/ 一个/ 周期/ 内/ 的/ 数值/ 个数/ nperiod/ =/ 1/ 非/ 周期/ 型/ 云/ 服务/ 用户/ 并发/ 量/ 功率/ 谱/ 序列/ Q/ 如图/ 7/ 所示/ ./ 从图/ 7/ 中/ 可以/ 看出/ 非/ 周期/ 型/ 云/ 服务/ 用户/ 并发/ 量/ 功率/ 谱/ 序列/ 中/ 没有/ 突出/ 高/ 的/ 谱峰/ ,/ 且/ 各/ 频率/ 下/ 的/ 功率/ 谱/ 大小/ 各异/ ,/ 即/ 无/ 增减/ 性/ 趋势/ 也/ 无/ 规律性/ ./ 通过/ 对云/ 服务/ 用户/ 并发/ 量/ 时间/ 序列/ 的/ 自/ 相关系数/ 以及/ 功率/ 谱/ 的/ 分析/ 可知/ ,/ 通过/ 比较/ 自/ 相关系数/ 序列/ 与/ 零值/ 的/ 显著性/ 差异/ 可以/ 判别/ 出/ 并发/ 量/ 时间/ 序列/ 的/ 趋势性/ ,/ 通过/ 检测/ 功率/ 谱/ 序列/ 中/ 是否/ 存在/ 突出/ 峰值/ 可以/ 判别/ 并发/ 量/ 时间/ 序列/ 的/ 周期性/ ./ t/ 检验/ Page8/ (/ t/ -/ Test/ )/ [/ 38/ ]/ 是/ 一种/ 最/ 常见/ 检验/ 序列/ 显著性/ 差异/ 的/ 方法/ ,/ 其/ 利用/ t/ 分布/ 可/ 推断出/ 并发/ 量/ 自/ 相关系数/ 序列/ Pm/ 与/ 零/ 发生/ 差异/ 的/ 总体/ 代表性/ 的/ 过错/ 概率/ P/ ρ/ ./ 当/ P/ ρ/ / 0.05/ 时/ ,/ 表示/ 自/ 相关系数/ 序列/ 与/ 零/ 差异性/ 不/ 显著/ ;/ 当/ P/ ρ/ </ 0.05/ 时/ ,/ 表示/ 自/ 相关系数/ 序列/ 与/ 零/ 差异性/ 显著/ [/ 38/ ]/ ./ 对于/ 功率/ 谱/ 序列/ 突出/ 峰值/ 的/ 识别/ ,/ 本文/ 引入/ 基于/ 3/ σ/ 准则/ 的/ 序列/ 突变/ 奇异/ 值/ 检测/ 方法/ ,/ 将/ 3/ σ/ 准则/ 作用/ 于/ 相邻/ 数据/ 变化/ 序列/ 中/ ,/ 从而/ 找出/ 突出/ 的/ 峰值/ ./ 定义/ 6/ ./ 相邻/ 数据/ 变化/ 序列/ ./ 相邻/ 数据/ 变化/ 序列/ 为/ 序列/ 相邻/ 数据/ 之差/ 的/ 序列/ ./ 则/ 功率/ 谱/ 序列/ Q/ 的/ 相邻/ 数据/ 变化/ 序列/ 其中/ hv/ =/ 2/ ^/ pv/ -/ (/ ^/ pv/ +/ 1/ +/ ^/ pv/ -/ 1/ )/ ,/ v/ =/ 2/ ,/ 3/ ,/ …/ ,/ n/ 由于/ 当/ v/ =/ 1/ 时/ ^/ pv/ 的/ 值/ 可能/ 会/ 出现/ 突出/ 峰值/ ,/ 当/ 时间/ 序列/ 为/ 趋势/ 型/ 时/ 这个/ 峰值/ 尤为/ 突出/ ,/ 但/ 这个/ 峰值/ 表示/ 整个/ 时间/ 序列/ 只有/ 一个/ 周期/ ,/ 因此/ 这个/ 值/ 不能/ 代表/ 序列/ 的/ 周期性/ ,/ 所以/ 在/ 识别/ 突出/ 峰值/ 时/ 不/ 考虑/ v/ =/ 1/ 时/ 的/ 功率/ 谱/ ./ 如果/ 用/ μ/ c/ 代表/ H/ 的/ 平均值/ ,/ 用/ σ/ c/ 代表/ 其/ 标准差/ ,/ 则/ 根据/ 3/ σ/ 准则/ ,/ 当/ hv/ -/ μ/ c/ >/ 3/ σ/ c/ 时/ ,/ ^/ pk/ 为/ 奇异/ 值/ ,/ 否则/ 为/ 非/ 奇异/ 值/ ./ 因此/ 综合/ 以上/ 两种/ 检测/ 方法/ ,/ 可/ 得到/ 云/ 服务/ 用户/ 并发/ 量/ 类型/ 的/ 准确/ 定义/ ./ 定义/ 7/ ./ 平稳/ 型/ 并发/ 量/ 序列/ ./ 当/ 并发/ 量/ 序列/ P/ ρ/ / 0.05/ 且/ 不/ 存在/ ^/ pv/ 使/ hv/ -/ μ/ c/ >/ 3/ σ/ c/ 时称/ 此/ 并发/ 量/ 序列/ 为/ 平稳/ 型/ 并发/ 量/ 序列/ ./ 定义/ 8/ ./ 趋势/ 型/ 并发/ 量/ 序列/ ./ 当/ 并发/ 量/ 序列/ P/ ρ/ </ 0.05/ 且/ 不/ 存在/ ^/ pv/ 使/ hv/ -/ μ/ c/ >/ 3/ σ/ c/ 时称/ 此/ 并发/ 量/ 序列/ 为/ 趋势/ 型/ 并发/ 量/ 序列/ ./ 定义/ 9/ ./ 周期/ 型/ 并发/ 量/ 序列/ ./ 当/ 并发/ 量/ 序列/ 存在/ ^/ pv/ 使/ hv/ -/ μ/ c/ >/ 3/ σ/ c/ 时称/ 此/ 并发/ 量/ 序列/ 为/ 周期/ 型/ 并发/ 量/ 序列/ ./ 4/ 云/ 服务/ 用户/ 并发/ 量/ 区间/ 预测/ 算法/ 运用/ 云/ 服务/ 用户/ 并发/ 量/ 区间/ 预测/ 模型/ 对/ 并发/ 量/ 预测/ 的/ 主要/ 过程/ 如下/ ./ 过程/ 1/ ./ 云/ 服务/ 用户/ 并发/ 量/ 区间/ 预测/ 主要/ 过程/ ./ (/ 1/ )/ 云/ 服务/ 用户/ 并发/ 量/ 分类/ ;/ (/ 2/ )/ 并发/ 量/ 历史数据/ 区间/ 构建/ ;/ (/ 3/ )/ 支持/ 向量/ 机/ 参数/ 优化/ ;/ (/ 4/ )/ 预测/ 并发/ 量/ 区间/ ./ 为了/ 给/ 并发/ 量/ 分类/ 提供/ 判定/ 依据/ ,/ 首先/ 需要/ 分别/ 计算/ 并发/ 量/ 历史数据/ 的/ 自/ 相关系数/ 以及/ 功率/ 谱/ ./ 自/ 相关系数/ 序列/ 以及/ 功率/ 谱/ 序列/ 包含/ 了/ 并发/ 量/ 序列/ 的/ 特征/ ,/ 需要/ 分别/ 对/ 两个/ 序列/ 进行/ 特征提取/ ./ 最后/ 利用/ 提出/ 的/ AC/ -/ PS/ 并发/ 量/ 判定/ 规则/ 判定/ 并发/ 量/ 的/ 类型/ ./ AC/ -/ PS/ 判定/ 规则/ 需要/ 分别/ 计算/ 云/ 服务/ 并发/ 量/ 时间/ 序列/ 在/ 不同/ 延迟/ 步长/ 下/ 的/ 自/ 相关系数/ 序列/ 以及/ 在/ 不同/ 频率/ 下/ 的/ 功率/ 谱/ 密度/ 序列/ ./ 然后/ 分别/ 用/ 两种/ 分析方法/ 对/ 两组/ 序列/ 进行/ 分析/ ./ 计算/ 自/ 相关系数/ 序列/ 对于/ 零值/ 的/ 显著性/ 差异/ ,/ 并且/ 对/ 功率/ 谱/ 序列/ 进行/ 奇异/ 值/ 检测/ ./ 最后/ 利用/ 两组/ 序列/ 分析/ 结果/ 做/ 综合/ 判定/ ,/ 从而/ 确定/ 并发/ 量/ 的/ 类别/ ./ 云/ 服务/ 用户/ 并发/ 量/ 分类/ 具体/ 算法/ 见/ 算法/ 1/ ./ 算法/ 1/ ./ 云/ 服务/ 用户/ 并发/ 量/ 分类/ 算法/ ./ 输入/ :/ 云/ 服务/ 用户/ 并发/ 量/ 历史数据/ 时间/ 序列/ S/ 输出/ :/ 并发/ 量/ 序列/ 类型/ Kcon/ ,/ 并发/ 量/ 序列/ 周期/ period/ (/ 如/ 1/ ./ fori/ =/ 1/ ;/ i/ / m/ ;/ i/ ++/ 2/ ./ {/ ri/ =/ PS/ (/ S/ ,/ i/ )/ ;/ // // 计算/ 延迟/ 步长/ 为/ i/ 的/ 自/ 相关系数/ 3/ ./ Pm/ ./ add/ (/ ri/ )/ ;/ }/ 4/ ./ fori/ =/ 1/ ;/ i/ / int/ (/ length/ (/ S/ )/ // 2/ )/ ;/ i/ ++/ 5/ ./ {/ qi/ =/ PS/ (/ S/ ,/ i/ )/ ;/ // // 计算/ 频率/ 为/ i/ 的/ 功率/ 谱/ 6/ ./ Q/ ./ add/ (/ qi/ )/ ;/ }/ // // 功率/ 谱/ 加入/ 自/ 相关/ 功率/ 谱/ 序列/ 中/ 7/ ./ P/ ρ/ =/ Ttest/ (/ Pm/ ,/ 0/ )/ ;/ // // 计算/ 与/ 0/ 的/ 差异/ 概率/ 8/ ./ fori/ =/ 2/ ;/ i/ / int/ (/ length/ (/ Q/ )/ // 2/ )/ ;/ i/ ++/ 9/ ./ {/ hi/ =/ abs/ (/ qi/ / 2/ -/ (/ qi/ -/ 1/ +/ qi/ +/ 1/ )/ )/ ;/ 10/ ./ H/ ./ add/ (/ qi/ )/ ;/ }/ // // 生成/ 相邻/ 数据/ 变化/ 序列/ 11/ ./ avg/ =/ average/ (/ H/ )/ ;/ // // H/ 的/ 平均值/ 12/ ./ s/ =/ std/ (/ H/ )/ ;/ 13/ ./ period/ =/ 0/ ;/ // // 初始化/ 周期/ 14/ ./ fori/ =/ 1/ ;/ i/ / length/ (/ H/ )/ ;/ i/ ++/ 15/ ./ {/ ifhi/ -/ avg/ >/ s/ / 316/ ./ then/ {/ 17/ ./ period/ =/ length/ (/ H/ )/ // i/ ;/ 18/ ./ Kcon/ =/ ‘/ periodType/ ’/ ;/ // // 判断/ 为/ 周期/ 型/ 19/ ./ Break/ ;/ }/ }/ 20/ ./ ifP/ ρ/ / 0.0521/ ./ thenKcon/ =/ ‘/ smoothType/ ’/ ;/ // // 判断/ 为/ 平稳/ 型/ 22/ ./ elseKcon/ =/ ‘/ tendencyType/ ’/ ;/ // // 判断/ 为/ 趋势/ 型/ 23/ ./ returnKcon/ ,/ period/ ;/ 并发/ 量/ 历史数据/ 区间/ 构建/ 是/ 将/ 并发/ 量/ 历史/ 序列/ 划分/ 成/ 区间/ 的/ 形式/ ,/ 这样/ 原/ 历史/ 序列/ S/ 被/ 划分/ 成为/ 两个/ 序列/ ,/ Su/ =/ {/ 〈/ ti/ ,/ conuSu/ 是/ 并发/ 量/ 历史数据/ 区间/ 的/ 上界/ 序列/ ,/ Sl/ 是/ 并发/ 量/ 历史数据/ 区间/ 的/ 下界/ 序列/ ./ 并发/ 量/ 历史数据/ 区间/ 是/ 要/ 将/ 真实/ 值/ 包含/ 在内/ 的/ ,/ 所以/ 并发/ 量/ 的/ 上/ 下界/ 是/ 在/ 原/ 数据/ 序列/ S/ 的/ 基础/ 上/ 依照/ 并发/ 量/ 序列/ 的/ 分类/ 特点/ 采用/ 不同/ 的/ 方式/ 增加/ 及/ 减少/ 得到/ ./ 由于/ 这个/ 区间/ Page9/ 的/ 生成/ 既/ 要/ 避免/ 预测/ 过程/ 中/ 的/ 不必要/ 的/ 计算/ ,/ 又/ 要/ 防止/ 区间/ 设置/ 过大/ 或/ 过/ 小/ 对于/ 区间/ 特征/ 的/ 干扰/ ,/ 更要/ 使/ 区间/ 能够/ 代表/ 并发/ 量/ 的/ 变化/ 特征/ ,/ 因此/ 区间/ 的/ 构建/ 对于/ 并发/ 量/ 的/ 预测/ 是/ 尤为重要/ 的/ ./ 为了/ 体现/ 不同/ 类型/ 并发/ 量/ 的/ 变化/ 特征/ ,/ 每个/ 类型/ 的/ 并发/ 量/ 序列/ 构建/ 区间/ 的/ 方式/ 是/ 不同/ 的/ ./ 各种类型/ 并发/ 量/ 的/ 区间/ 构造/ 方式/ 见/ 算法/ 2/ ./ 算法/ 2/ ./ 并发/ 量/ 区间/ 构建/ 算法/ ./ 输入/ :/ S/ ,/ Kcon/ ,/ period/ 输出/ :/ Su/ ,/ Sl1/ ./ Smax/ =/ max/ (/ S/ )/ ,/ Smin/ =/ min/ (/ S/ )/ ,/ S/ _/ len/ =/ length/ (/ S/ )/ ;/ 2/ ./ ifKcon/ =/ =/ ‘/ smoothType/ ’/ 3/ ./ then/ {/ fori/ =/ 1/ ;/ i/ / S/ _/ len/ ;/ i/ ++/ 4/ ./ {/ Su/ ./ add/ (/ 0.5/ ×/ (/ S/ [/ i/ ]/ +/ Smax/ )/ )/ ;/ 5/ ./ Sl/ ./ add/ (/ 0.5/ ×/ (/ S/ [/ i/ ]/ +/ Smin/ )/ )/ ;/ }/ }/ 6/ ./ ifKcon/ =/ =/ ‘/ tendencyType/ ’/ 7/ ./ then/ {/ forj/ =/ 1/ ;/ j/ / S/ _/ len/ -/ 1/ ;/ j/ ++/ 8/ ./ {/ interval/ ./ add/ (/ abs/ (/ S/ [/ j/ +/ 1/ ]/ -/ S/ [/ j/ ]/ )/ )/ ;/ 9/ ./ interval/ _/ avg/ =/ average/ (/ interval/ )/ ;/ }/ 10/ ./ fori/ =/ 1/ ;/ i/ / S/ _/ len/ ;/ i/ ++/ 11/ ./ {/ iftendencytype/ =/ =/ ‘/ up/ ’/ ;/ 12/ ./ then/ {/ Su/ ./ add/ (/ S/ [/ i/ ]/ +/ interval/ _/ avg/ +/ (/ Smax/ -/ 13/ ./ Sl/ ./ add/ (/ S/ [/ i/ ]/ -/ interval/ _/ avg/ )/ ;/ }/ 14/ ./ iftendencytype/ =/ =/ ‘/ low/ ’/ 15/ ./ then/ {/ Su/ ./ add/ (/ S/ [/ i/ ]/ +/ interval/ _/ avg/ )/ ;/ 16/ ./ Sl/ ./ add/ (/ S/ [/ i/ ]/ -/ interval/ _/ avg/ -/ (/ S/ [/ i/ ]/ -/ Smin/ )/ // 17/ ./ ifKcon/ =/ =/ ‘/ periodType/ ’/ 18/ ./ then/ {/ fori/ =/ 1/ ;/ i/ / S/ _/ len/ ;/ i/ ++/ 19/ ./ {/ if/ (/ i/ / int/ (/ period/ // 2/ )/ +/ 1/ )/ 20/ ./ then/ {/ forj/ =/ 1/ ;/ j/ / period/ -/ 1/ ;/ j/ ++/ 21/ ./ {/ interval/ ./ add/ (/ abs/ (/ S/ [/ j/ +/ 1/ ]/ -/ S/ [/ j/ ]/ )/ )/ ;/ }/ 22/ ./ interval/ _/ avg/ =/ average/ (/ interval/ )/ ;/ }/ 23/ ./ if/ (/ (/ i/ >/ int/ (/ period/ // 2/ )/ +/ 1/ )/ and/ (/ i/ </ S/ _/ len/ -/ 24/ ./ then/ {/ forj/ =/ i/ -/ int/ (/ period/ // 2/ )/ ;/ 25/ ./ {/ interval/ ./ add/ (/ abs/ (/ S/ [/ j/ +/ 1/ ]/ -/ S/ [/ j/ ]/ )/ )/ ;/ }/ 26/ ./ interval/ _/ avg/ =/ average/ (/ interval/ )/ ;/ }/ 27/ ./ if/ (/ i/ / S/ _/ len/ -/ (/ int/ (/ period/ )/ // 2/ -/ 1/ )/ )/ 28/ ./ then/ {/ forj/ =/ S/ _/ len/ -/ period/ ;/ j/ / S/ _/ len/ -/ 1/ ;/ j/ ++/ )/ 29/ ./ {/ interval/ ./ add/ (/ abs/ (/ S/ [/ j/ +/ 1/ ]/ -/ S/ [/ j/ ]/ )/ )/ ;/ }/ 30/ ./ interval/ _/ avg/ =/ average/ (/ interval/ )/ ;/ }/ 31/ ./ Su/ ./ add/ (/ S/ [/ i/ ]/ +/ interval/ _/ avg/ )/ ;/ 32/ ./ Sl/ ./ add/ (/ S/ [/ i/ ]/ -/ interval/ _/ avg/ )/ ;/ }/ }/ 33/ ./ returnSu/ ,/ Sl/ ;/ 在/ 支持/ 向量/ 机/ 优化/ 参数/ 优化/ 之前/ 需要/ 分别/ 将/ 已经/ 构造/ 出/ 的/ 并发/ 量/ 历史数据/ 区间/ 的/ 上界/ 集合/ Su/ 与/ 下界/ 集合/ Sl/ 划分/ 成/ 训练/ 集/ SuSltest/ ./ 训练/ 集将/ 被/ 用来/ 训练/ 及/ 调整/ 模型/ ,/ 测试/ 集/ 用于/ 支持/ 向量/ 机/ 模型/ 的/ 测试/ ./ 支持/ 向量/ 机/ 参数/ 优化/ 主要/ 分为/ 初始化/ 粒子/ 群/ 参数/ 、/ 训练/ 模型/ 、/ 粒子/ 适应度/ 评价/ 、/ 更新/ 局部/ 最优/ 解与/ 全局/ 最优/ 解等/ 过程/ ./ 粒子/ 群中/ 每个/ 粒子/ 都/ 包含/ 4/ 个/ 元素/ ,/ 也/ 就是/ 两个/ 支持/ 向量/ 机/ 的/ 惩罚/ 因子/ C/ 与/ 核/ 参数/ γ/ ./ 一般/ 情况/ 下/ C/ 的/ 取值/ 范围/ 为/ [/ 10/ -/ 5/ ,/ 105/ ]/ ,/ γ/ 的/ 取值/ 范围/ 为/ [/ 0/ ,/ 10/ ]/ ./ 这/ 两个/ 参数/ 的/ 合适/ 范围/ 不是/ 预知/ 的/ ./ 由于/ 在/ 粒子/ 群/ 迭代/ 过程/ 中/ 运用/ 到/ 了/ 梯度/ 下降/ 的/ 方法/ ,/ 所以/ 参数/ 的/ 查找/ 先/ 从/ 两个/ 宽泛/ 的/ 范围/ 开始/ ,/ 根据/ 适应度/ 函数/ 的/ 梯度/ 下降/ 信息/ 决定/ 粒子/ 的/ 移动/ 方向/ 及/ 速度/ ,/ 从而/ 缩小/ 查找/ 范围/ ./ 这样/ 做/ 一方面/ 减少/ 了/ 计算/ 量/ ,/ 提高/ 了/ 收敛/ 速度/ ,/ 另一方面/ 保证/ 了/ 全局/ 最优/ 解/ 的/ 覆盖/ 广度/ 以及/ 局部/ 最优/ 解/ 的/ 精确度/ ./ 支持/ 向量/ 机/ 优化/ 算法/ 见/ 算法/ 3/ ./ 算法/ 3/ ./ 支持/ 向量/ 机/ 参数/ 优化/ ./ 输入/ :/ Su/ 输出/ :/ C/ _/ u/ _/ Gbest/ ,/ Gamma/ _/ u/ _/ Gbest/ ,/ C/ _/ l/ _/ Gbest/ ,/ Gamma/ _/ l/ _/ 1/ ./ init/ (/ maxParticles/ ,/ maxIterator/ ,/ position/ ,/ velocity/ )/ ;/ 2/ ./ trainBag/ _/ u/ ,/ testBag/ _/ u/ =/ fold/ (/ Su3/ ./ trainBag/ _/ l/ ,/ testBag/ _/ l/ =/ fold/ (/ Sltrain/ ,/ 5/ )/ ;/ 4/ ./ fori/ =/ 1/ ;/ i/ / maxIterator/ ;/ i/ ++/ 5/ ./ {/ C/ _/ u/ ,/ Gamma/ _/ u/ ,/ C/ _/ l/ ,/ Gamma/ _/ l/ =/ PSOtrain/ (/ SVM6/ ./ fitness/ =/ CWC/ (/ C/ _/ u/ ,/ Gamma/ _/ u/ ,/ C/ _/ l/ ,/ Gamma/ _/ l/ ,/ 7/ ./ G/ =/ gradient/ (/ )/ ;/ // // 计算/ 梯度/ 信息/ 8/ ./ iffitness/ </ fitness/ _/ Pbest9/ ./ then/ {/ fitmess/ _/ Pbest/ =/ fitness/ ;/ 10/ ./ C/ _/ u/ _/ Pbest/ ,/ Gamma/ _/ u/ _/ Pbest/ ,/ C/ _/ l/ _/ Pbest/ ,/ Gamma/ _/ Page1011/ ./ ifmin/ (/ fitness/ _/ Pbest/ )/ </ fitness/ _/ Gbest12/ ./ then/ {/ fitmess/ _/ Gbest/ =/ min/ (/ fitness/ _/ Pbest/ )/ ;/ 13/ ./ C/ _/ u/ _/ Gbest/ ,/ Gamma/ _/ u/ _/ Gbest/ ,/ C/ _/ l/ _/ Gbest/ ,/ Gamma/ _/ 14/ ./ position/ ,/ velocity/ =/ update/ (/ position/ ,/ velocity/ ,/ G/ )/ ;/ 15/ ./ }/ 16/ ./ returnC/ _/ u/ _/ Gbest/ ,/ Gamma/ _/ u/ _/ Gbest/ ,/ C/ _/ l/ _/ Gbest/ ,/ 在/ 算法/ 3/ 中/ ,/ 评价/ 粒子/ 适应度/ 需要/ 一个/ 适应度/ 函数/ ,/ 这个/ 适应度/ 函数/ 既/ 要/ 保证/ 预测/ 区间/ 的/ 精度/ 达到/ 给定/ 的/ 置信度/ ,/ 又/ 要/ 尽可能/ 缩小/ 其/ 区间/ 宽度/ ./ 由/ 两个/ 支持/ 向量/ 机组/ 合成/ 的/ 区间/ 预测/ 模型/ 要/ 同时/ 优化/ 预测/ 区间/ 置信度/ 与/ 区间/ 宽度/ 两个/ 优化/ 目标/ ,/ 使用/ 一般/ 的/ 适应度/ 函数/ 是/ 无法/ 准确/ 地/ 评判/ 参数/ 的/ 适应性/ 的/ ./ 这里/ 引入/ 一种/ 覆盖/ 宽度/ 评价/ 标准/ (/ CWC/ )/ [/ 34/ ]/ 作为/ 粒子/ 的/ 适应度/ 评价/ 准则/ ./ 定义/ 10/ ./ 覆盖/ 宽度/ 评价/ 标准/ [/ 34/ ]/ ./ 覆盖/ 宽度/ 评价/ 标准/ 为/ 其中/ ,/ η/ 和/ β/ 为/ 两个/ 控制/ fCWC/ 规模/ 的/ 超/ 参数/ ,/ η/ 是/ 惩罚/ 因子/ ,/ 为/ 一个/ 正数/ ,/ β/ 为/ 目标/ 范围/ 覆盖/ 概率/ ,/ 也/ 就是/ 给定/ 的/ 区间/ 置信度/ ./ 在/ 训练/ 过程/ 中/ α/ CP/ =/ 1/ ,/ 在/ 对/ 测试/ 集/ 预测/ 结果/ 的/ 评估/ 中/ α/ CP/ =/ 0/ ,/ fCP/ / β/ CWC/ 标准/ 是/ 一种/ 综合/ 的/ 评价/ 标准/ ,/ 其/ 涉及/ 到/ 了/ 区间/ 范围/ 覆盖/ 概率/ fCP/ 与/ 标准化/ 区间/ 平均/ 宽度/ 占/ 比/ [/ 34/ ]/ ./ 区间/ 范围/ 覆盖/ 概率/ 是/ 真实/ 值落/ 在/ 预测/ 区间/ fNAW/ 内/ 的/ 百分比/ ,/ 能够/ 体现/ 预测/ 区间/ 包含/ 真实/ 值/ 的/ 准确/ 程度/ ./ 标准化/ 区间/ 平均/ 宽度/ 占/ 比/ 是/ 区间/ 宽度/ 的/ 平均值/ 与/ 潜在/ 区间/ 宽度/ 的/ 比值/ ,/ 其/ 能够/ 体现/ 区间/ 的/ 宽度/ ./ 在/ 粒子/ 群/ 训练/ 过程/ 中/ ,/ 根据/ 定义/ 7/ 、/ 定义/ 8/ 与/ 定义/ 9/ ,/ 可以/ 得出/ 如下/ 结论/ ./ 定理/ 1/ ./ 当/ fCP/ 没有/ 达到目标/ 范围/ 覆盖/ 概率/ 时/ ,/ fCWC/ 恒/ 大于/ fNAW/ ,/ 且/ 大于/ 的/ 倍数/ 由/ fCP/ 与/ 目标/ 范围/ 覆盖/ 概率/ β/ 的/ 偏差/ 和/ 惩罚/ 因子/ η/ 决定/ ./ 证明/ ./ 设/ flow/ =/ fCP/ -/ β/ ,/ 当/ fCP/ </ β/ 时/ ,/ flow/ </ 0/ ,/ e/ (/ -/ η/ (/ fCP/ -/ β/ )/ )/ >/ 0/ ,/ 于是/ 有/ fCWCe/ (/ -/ η/ flow/ )/ >/ 1/ ,/ 并且/ fNAW/ >/ 0/ ,/ 因此/ fCWC/ >/ fNAW/ ,/ 且/ 的/ 数值/ 由/ η/ 与/ flow/ 共同/ 决定/ ./ 证毕/ ./ 粒子/ 群中/ 的/ 每/ 一个/ 粒子/ 需要/ 被/ 覆盖/ 宽度/ 评价/ 标/ fCWCfNAW/ 准/ 重复/ 的/ 评价/ ,/ 由/ 定理/ 1/ 可以/ 得出/ 推论/ 1/ ./ 推论/ 1/ ./ 在/ 迭代/ 过程/ 中当/ fCP/ 与/ β/ 差距/ 较大/ 时/ ,/ 粒子/ 的/ 查找/ 首先/ 以/ 提高/ fCP/ 为/ 目的/ ./ 随着/ fCWC/ 的/ 减少/ ,/ fCP/ 不断/ 接近/ β/ ,/ 当/ fCP/ 与/ β/ 差距/ 不大时/ ,/ fCWC/ 则/ 会/ 因为/ fNAW/ 的/ 减小/ 而/ 减少/ ,/ 也/ 就是/ 区间/ 的/ 减小/ ./ 又/ 因为/ fCP/ 与/ fNAW/ 经常/ 是/ 矛盾/ 的/ ,/ 所以/ fCWC/ 调节/ fNAW/ 与/ fCP/ 平衡/ 的/ 倾向/ 由/ η/ 决定/ ,/ η/ 越大/ 最优/ 解/ 的/ 结果/ 越/ 倾向/ 于/ fCP/ ,/ 相反/ η/ 越小/ 最优/ 解/ 的/ 结果/ 越/ 倾向/ 于/ 较窄/ 的/ 区间/ ./ 由/ 推论/ 1/ 在/ 实际操作/ 中/ η/ 一般/ 取值/ 范围/ 为/ [/ 10/ ,/ 100/ ]/ ./ 这样/ 通过/ 迭代/ 可以/ 保证/ fNAW/ 与/ fCP/ 的/ 平衡/ ,/ 最后/ 随着/ 粒子/ fCWC/ 的/ 最小值/ 的/ 产生/ 得到/ 参数/ 的/ 最优/ 解/ ./ 预测/ 区间/ 算法/ 使用/ 支持/ 向量/ 机/ 回归/ 模型/ 分别/ 对/ 并发/ 量/ 区间/ 的/ 上界/ 及/ 下界/ 进行/ 预测/ ./ 其中/ 区间/ 上界/ 与/ 区间/ 下界/ 的/ 预测/ 过程/ 完全相同/ ,/ 以/ 区间/ 上界/ 为例/ ,/ 依据/ 定义/ 2/ ,/ 并发/ 量/ 区间/ 上/ 界/ 时间/ 序列/ 训练样本/ 为/ {/ 〈/ ti/ ,/ conU/ 表示/ 为式/ 中/ :/ 狑/ 是/ 权重/ 向量/ ;/ φ/ (/ xi/ )/ 表示/ 从/ 输入/ 空间/ Rn/ 映射/ 到/ 目标/ 空间/ 的/ 非线性/ 函数/ ;/ 〈/ ,/ 〉/ 是/ 内积/ 符号/ ;/ b/ 为/ 偏差/ ./ 权重/ 向量/ 狑/ 与/ 偏差/ b/ 需要/ 从/ 样本/ 训练/ 得出/ ./ 利用/ 从/ 梯度/ 下降/ 粒子/ 群/ 优化/ 算法/ 中/ 得到/ 的/ C/ _/ u/ _/ Gbest/ ,/ Gamma/ _/ u/ _/ Gbest/ ,/ C/ _/ l/ _/ Gbest/ ,/ Gamma/ _/ l/ _/ Gbest/ 作用/ 于/ 两个/ 支持/ 向量/ 机/ ,/ 对/ 并发/ 量/ 测试数据/ 的/ 上/ 下界/ 做出/ 预测/ ,/ 最终/ 得出/ 并发/ 量/ 的/ 预测/ 区间/ ./ 预测/ 区间/ 算法/ 见/ 算法/ 4/ ./ 算法/ 4/ ./ 预测/ 区间/ 算法/ ./ 输入/ :/ C/ _/ u/ _/ Gbest/ ,/ Gamma/ _/ u/ _/ Gbest/ ,/ C/ _/ l/ _/ Gbest/ ,/ Gamma/ _/ 输出/ :/ Yu/ ,/ Yl1/ ./ svm/ _/ u/ =/ SVM/ (/ kernel/ =/ ‘/ RBF/ ’/ ,/ C/ =/ C/ _/ u/ _/ Gbest/ ,/ 2/ ./ model/ _/ u/ =/ svm/ _/ u/ ./ fit/ (/ Su3/ ./ Yu/ =/ model/ _/ u/ ./ predict/ (/ Su4/ ./ svm/ _/ l/ =/ SVM/ (/ kernel/ =/ ‘/ RBF/ ’/ ,/ C/ =/ C/ _/ l/ _/ Gbest/ ,/ Page115/ ./ model/ _/ l/ =/ svm/ _/ l/ ./ fit/ (/ Su6/ ./ Yl/ =/ model/ _/ l/ ./ predict/ (/ Sl7/ ./ returnYu/ ,/ Yl/ ;/ 5/ 实例/ 分析/ 为了/ 表明/ 并发/ 量/ 区间/ 预测/ 模型/ 在/ 解决/ 自/ 适应/ 资源/ 调整/ 无效/ 问题/ 上/ 的/ 效果/ ,/ 引入/ 一个/ 实例/ 分别/ 用/ 并发/ 量/ 单值/ 预测/ 与/ 区间/ 预测/ 来/ 触发/ 自/ 适应/ 调整/ ,/ 通过/ 分析/ 一段时间/ 内/ 的/ 性能/ 与/ 资源/ 消耗/ 的/ 代价/ // 收益/ ,/ 来/ 对比/ 两种/ 预测/ 方法/ 对/ 自/ 适应/ 资源/ 效果/ 的/ 影响/ ,/ 以此/ 来/ 验证/ 区间/ 预测/ 在/ 解决/ 自/ 适应/ 调整/ 无效/ 问题/ 上/ 的/ 有效性/ ./ 为了/ 评价/ 云/ 环境/ 下/ 自/ 适应/ 资源/ 调整/ 的/ 收益/ ,/ 需要/ 综合/ 考虑/ 自/ 适应/ 资源/ 调整/ 成本/ CR/ 与/ 违反/ SLA/ 的/ 补偿/ 代价/ PC/ ./ 定义/ 11/ ./ 云/ 环境/ 的/ 综合/ 成本/ ./ 云/ 环境/ 的/ 综合/ 成本/ 为云/ 环境/ 资源/ 成本/ CR/ 与/ 违反/ SLA/ 的/ 补偿/ 代价/ PC/ 之/ 和/ ./ 与其/ 协定/ 的/ SLA/ 可/ 被/ 表示/ 为/ 由此可知/ 云/ 环境/ 需要/ 通过/ 自/ 适应/ 资源/ 调整/ 来/ 最小化/ CE/ 从而/ 使/ 收益/ 最大化/ ./ 在/ 一个/ 应用/ 实例/ 中/ ,/ 对于/ 一个/ 云/ 服务/ A/ ,/ 云/ 环境/ (/ 1/ )/ 租期/ TR/ 的/ 租金/ 为/ PR/ 元/ ./ (/ 2/ )/ 在/ 租期/ 内/ ,/ 保证/ 云/ 服务/ A/ 的/ 并发/ 量/ 在/ 区间/ [/ 0/ ,/ conm/ ]/ 内/ 的/ 响应/ 时间/ 低于/ tresp/ ./ (/ 3/ )/ 在/ 租期/ 内/ ,/ 如果/ 响应/ 时间/ 高于/ tresp/ ,/ 云/ 环境/ 需要/ 为云/ 服务/ A/ 补偿/ PC/ 元/ ./ PC/ 的/ 大小/ 由/ 超过/ tresp/ 的/ 时间/ 长度/ TC/ 而定/ ,/ 具体/ 定义/ 为/ PC/ =/ 本/ SLA/ 的/ 定义/ 参照/ 了/ rackspace/ 、/ AmazonEC2/ 及/ 阿里/ 云/ 等/ 大型/ 云/ 计算/ 提供商/ 的/ SLA/ 中/ 部分/ 内容/ ./ 其中/ 补偿金/ PC/ 采用/ 根据/ 违约/ 时间/ 比例/ 分段/ 计算/ 的/ 方式/ 定义/ ./ 相对/ 于/ 大型/ 云/ 计算/ 提供商/ SLA/ 所/ 针对/ 的/ 长/ 租期/ 而言/ ,/ 本/ 实例/ 中/ 的/ 租期/ 较/ 短/ ./ 所以/ 具体/ 的/ 违约/ 时间/ 占/ 比/ 与/ 惩罚/ 比例/ 在/ 大型/ 云/ 计算/ 提供商/ SLA/ 中/ 定义/ 的/ 基础/ 上/ ,/ 根据/ 本/ 实例/ 中/ 的/ 租期/ 总时长/ 略有/ 调整/ ./ 云/ 环境/ 为云/ 服务/ A/ 分配资源/ 的/ 最小/ 粒度/ 为/ 1/ 个/ 搭载/ 服务/ A/ 的/ 虚拟机/ 副本/ ,/ 所有/ 为云/ 服务/ A/ 分配/ 的/ 虚拟机/ 副本/ 的/ 配置/ 均/ 相同/ ,/ 负载/ 均衡/ 使云/ 服务/ A/ 的/ 用户/ 并发/ 量/ 均分/ ,/ 每个/ 虚拟机/ 副本/ 在/ 保证/ 响应/ 时间/ 少于/ tresp/ 的/ 前提/ 下/ 最多能/ 处理/ 的/ 并发/ 量/ 为/ conv/ ./ 云/ 环境/ 自/ 适应/ 调整/ 通过/ 增删/ 云/ 服务/ A/ 的/ 虚拟机/ 副/ 本来/ 平衡/ 服务/ 性能/ 与/ 资源/ 成本/ ./ 这样/ 云/ 环境/ 的/ 资源/ 成本/ 就/ 由/ 云/ 环境/ 为云/ 服务/ A/ 开辟/ 虚拟机/ 副本/ 的/ 个数/ 决定/ ,/ 如果/ 一个/ 云/ 服务/ A/ 的/ 虚拟机/ 副本/ 在/ 单位/ 时间/ Tunit/ 内/ 的/ 成本/ 为/ PV/ 元/ ,/ 则/ 云/ 环境/ 的/ 资源/ 成本/ CR/ 为/ 其中/ :/ i/ 为云/ 服务/ A/ 使用/ 虚拟机/ 副本/ 的/ 个数/ ,/ Ti/ 为云/ 服务/ A/ 占用/ i/ 个/ 虚拟机/ 副本/ 的/ 总/ 时间/ ,/ N/ 为/ 租期/ 内云/ 环境/ 为云/ 服务/ A/ 开辟/ 虚拟机/ 副本/ 的/ 最大值/ ./ 在/ 自/ 适应/ 资源/ 调整/ 策略/ 中/ ,/ 由于/ 单值/ 预测/ 与/ 区间/ 预测/ 的/ 结果/ 所/ 包含/ 的/ 并发/ 量/ 预测/ 信息量/ 不同/ ,/ 所以/ 触发/ 方式/ 有所不同/ ,/ 因此/ 调整/ 动作/ 也/ 有所/ 差异/ ,/ 最终/ 会/ 导致/ 不同/ 的/ 代价/ 产生/ ./ 本文/ 实例/ 中/ 两种/ 预测/ 方法/ 的/ 触发/ 方式/ 均/ 使用/ 某一时间/ 点/ 所/ 对应/ 的/ 预测/ 信息/ 作为/ 触发/ 依据/ ./ 规定/ 单值/ 预测/ 的/ 自/ 适应/ 调整/ 的/ 触发/ 方法/ 为/ :/ 如果/ 并发/ 量/ 预测/ 序列/ 中/ 存在/ 一点/ conj/ 满足/ 其中/ nnow/ 为云/ 环境/ 中/ 正在/ 为云/ 服务/ A/ 提供/ 支持/ 的/ 虚拟机/ 副本/ 数量/ ./ 自/ 适应/ 资源/ 调整/ 方案/ 见表/ 1/ ./ conj/ >/ nnow/ ×/ conv/ 增加/ conj/ -/ nnow/ ×/ convconj/ </ (/ nnow/ -/ 1/ )/ ×/ conv/ 减少/ (/ nnow/ -/ 1/ )/ ×/ conv/ -/ conj/ 区间/ 预测/ 比/ 单值/ 预测/ 包含/ 了/ 更/ 多/ 的/ 信息/ ,/ 其自/ 适应/ 资源/ 调整/ 触发/ 方法/ 为/ :/ 如果/ 并发/ 量/ 预测/ 区间/ 上界/ conuj/ 与/ 下界/ conlPage12/ 其自/ 适应/ 资源/ 调整/ 方案/ 见表/ 2/ ./ conuj/ -/ nnow/ ×/ convnnow/ ×/ conv/ -/ conl/ (/ nnow/ -/ 1/ )/ ×/ conv/ -/ conlj/ -/ (/ nnow/ -/ 1/ )/ ×/ convconu/ 为了/ 进一步/ 分析/ 两种/ 预测/ 方法/ 的/ 效用/ ,/ 在/ 两个/ 真实/ 的/ 云/ 环境/ 资源/ 自/ 适应/ 调整/ 场景/ 中/ 分别/ 对比/ 单值/ 预测/ 与/ 区间/ 预测/ 对云/ 环境/ 总体/ 成本/ 的/ 影响/ ./ 两个/ 场景/ 的/ 并发/ 量/ 数据/ 分别/ 来源于/ 景点/ 语音/ 导航/ 云/ 服务/ 系统/ 的/ 景区/ 推荐/ 服务/ (/ 以下/ 简称/ 服务/ A/ )/ 中/ 两个/ 不同/ 时间段/ 内/ 的/ 用户/ 并发/ 量/ 数据/ ./ 场景/ 1/ ./ 云/ 环境/ 中共/ 有/ 3/ 个/ 虚拟机/ 副本/ 在/ 为/ 云/ 服务/ A/ 提供/ 支持/ ,/ 即/ nnow/ =/ 3/ ./ 每个/ 虚拟机/ 副本/ 在/ 保证/ 响应/ 时间/ 少于/ tresp/ 的/ 前提/ 下/ 最多能/ 处理/ 的/ 并发/ 量/ conv/ =/ 100/ ./ 利用/ 单值/ 预测/ 与/ 区间/ 预测/ 两种/ 方法/ 分别/ 对/ 同样/ 的/ 157/ 个/ 单位/ 时间/ 内/ 的/ 云/ 服务/ A/ 用户/ 统计/ 并发/ 量/ ./ 单值/ 预测/ 与/ 区间/ 预测/ 的/ 效果/ 如图/ 8/ 所示/ ./ 根据/ 式/ (/ 12/ )/ 单值/ 预测/ 的/ 触发/ 条件/ ,/ 从图/ 8/ (/ a/ )/ 中/ 可以/ 看出/ ,/ 从/ 箭头/ 指向/ 的/ 第/ 46/ 个/ 时间/ 开始/ 触发/ 自/ 适应/ 资源/ 调整/ ,/ 第/ 46/ 个/ 时间/ 对应/ 的/ 数值/ 为/ 308/ ,/ 即/ con46/ =/ 308/ ,/ 代入/ 表/ 1/ 中/ 的/ 自/ 适应/ 资源/ 调整/ 方案/ 可/ 得/ ,/ 动态/ 资源/ 调整/ 动作/ 为/ 增加/ 1/ 个/ A/ 服务/ 的/ 虚拟机/ 副本/ ./ 根据/ 式/ (/ 13/ )/ 区间/ 预测/ 的/ 触发/ 条件/ ,/ 从图/ 8/ (/ b/ )/ 中/ 可以/ 看出/ ,/ 从/ 箭头/ 指向/ 的/ 第/ 124/ 个/ 区间/ 开始/ 触发/ 自/ 适应/ 资源/ 调整/ ,/ 第/ 124/ 个/ 区间/ 的/ 上界/ 与/ 下界/ 分别/ 是/ 338/ 和/ 268/ ,/ 即/ conu/ 中/ 的/ 调整/ 方案/ 可/ 得/ ,/ 调整/ 动作/ 为/ 增加/ 1/ 个/ A/ 服务/ 的/ 虚拟机/ 副本/ ./ 通过/ 两种/ 预测/ 方法/ 得/ 出自/ 适应/ 调整/ 效果/ 如图/ 9/ 所示/ ./ 图/ 9/ 场景/ 1/ 中/ 单值/ 预测/ 与/ 区间/ 预测/ 自/ 适应/ 调整/ 效果/ 由于/ 对比/ 两种/ 算法/ 对/ 自/ 适应/ 调整/ 的/ 效用/ ,/ 两种/ 算法/ 的/ 运行/ 环境/ 一致/ ,/ 所以/ 不/ 考虑/ 自/ 适应/ 动作/ 执行/ 的/ 时间/ 成本/ 及其/ 它/ 干扰/ 因素/ 的/ 影响/ ./ 从图/ 9/ 中/ 可以/ 看出/ 两种/ 预测/ 方法/ 都/ 有效/ 地/ 避免/ 了/ 违反/ SLA/ 的/ 发生/ ./ 计算/ 云/ 环境/ 在/ 这/ 段时间/ 内/ 违反/ SLA/ 补偿/ 代价/ PC/ =/ 0/ ,/ 因此/ 云/ 环境/ 的/ 综合/ 成本/ 为/ 资源/ 成本/ CR/ ,/ 即/ CE/ =/ CR/ ./ 在/ 这/ 157/ 个/ 单位/ 时间/ 内/ ,/ 单值/ 预测/ 的/ 自/ 适应/ 资源/ 调整/ 下云/ 环境/ 在/ 前/ 42/ 个/ 单位/ 时间/ 用/ 了/ 3/ 个/ 虚拟机/ 副本/ ,/ 从/ 第/ 43/ 个/ 单位/ 时间/ 之后/ 用/ 了/ 4/ 个/ 虚拟机/ 副本/ ,/ 因此/ 其/ 资源/ 成本/ CsCs/ 同理/ ,/ 区间/ 预测/ 的/ 自/ 适应/ 资源/ 调整/ 下云/ 环境/ 在/ 前/ 123/ 个/ 单位/ 时间/ 用/ 了/ 3/ 个/ 虚拟机/ 副本/ ,/ 从/ 第/ 124/ 个/ 单位/ 之后/ 开始/ 用/ 了/ 4/ 个/ 虚拟机/ 副本/ ,/ 则/ 其/ 资源/ 成本/ Page13R/ 为/ CdCd/ 显然/ Cd/ 整/ 的/ 云/ 环境/ 成本/ 明显/ 低于/ 单值/ 预测/ ,/ 区间/ 预测/ 为云/ 环境/ 带来/ 了/ 更/ 高/ 的/ 收益/ ,/ 原因/ 是/ 由于/ 并发/ 量/ 的/ 不确定性/ 导致/ 单值/ 预测/ 不会/ 很/ 准确/ ,/ 从/ 第/ 43/ 个/ 单位/ 时间/ 开始/ 预测值/ 高于/ 阈值/ 上限/ ,/ 但是/ 真实/ 值/ 并/ 没有/ 达到/ 阈值/ 上限/ ,/ 这/ 就/ 产生/ 了/ 无效/ 的/ 调整/ 动作/ ,/ 造成/ 成本/ 浪费/ ./ 而/ 基于/ 区间/ 预测/ 能够/ 准确/ 地/ 将/ 并发/ 量/ 的/ 不确定性/ 量化/ 成/ 区间/ 形式/ ,/ 使得/ 触发/ 方法/ 可以/ 用/ 真实/ 值/ 出现/ 的/ 概率/ 来/ 判定/ 自/ 适应/ 资源/ 调整/ 的/ 触发/ ,/ 这样/ 能/ 使/ 触发/ 依据/ 更加/ 客观/ 、/ 有效/ ./ 场景/ 2/ ./ 云/ 环境/ 中共/ 有/ 3/ 个/ 虚拟机/ 副本/ 在/ 为/ 云/ 服务/ A/ 提供/ 支持/ ,/ 即/ nnow/ =/ 3/ ./ 每个/ 虚拟机/ 副本/ 在/ 保证/ 响应/ 时间/ 少于/ tresp/ 的/ 前提/ 下/ 最多能/ 处理/ 的/ 并发/ 量/ conv/ =/ 100/ ./ 利用/ 单值/ 预测/ 与/ 区间/ 预测/ 两种/ 方法/ 分别/ 对/ 同样/ 租期/ (/ 165/ 个/ 单位/ 时间/ )/ 内/ 的/ 云/ 服务/ A/ 用户/ 统计/ 并发/ 量/ ./ 单值/ 预测/ 与/ 区间/ 预测/ 的/ 效果/ 如图/ 10/ 所示/ ./ 根据/ 式/ (/ 12/ )/ 单值/ 预测/ 的/ 触发/ 条件/ ,/ 从图/ 10/ (/ a/ )/ 中/ 可以/ 看出/ ,/ 从/ 箭头/ 指向/ 的/ 第/ 69/ 个/ 时间/ 开始/ 触发/ 自/ 适应/ 资源/ 调整/ ,/ 第/ 69/ 个/ 时间/ 对应/ 的/ 数值/ 为/ 310/ ,/ 即/ con69/ =/ 310/ ,/ 代入/ 表/ 1/ 中/ 的/ 调整/ 方案/ 可/ 得/ ,/ 调整/ 动作/ 为/ 增加/ 1/ 个/ A/ 服务/ 的/ 虚拟机/ 副本/ ./ 从图/ 10/ (/ b/ )/ 中/ 可以/ 看出/ ,/ 区间/ 预测/ 的/ 结果/ 并/ 没有/ 符合/ 触发/ 条件/ 的/ 区间/ ,/ 所以/ 没有/ 任何/ 资源/ 调整/ 动作/ 生成/ ./ 通过/ 两种/ 预测/ 方法/ 得/ 出自/ 适应/ 资源/ 调整/ 效果/ 如图/ 11/ 所示/ ./ 图/ 11/ 场景/ 2/ 中/ 单值/ 预测/ 与/ 区间/ 预测/ 自/ 适应/ 资源/ 调整/ 效果/ 在/ 此/ 场景/ 中/ 也/ 不/ 考虑/ 自/ 适应/ 动作/ 执行/ 的/ 时间/ 成本/ 及其/ 它/ 干扰/ 因素/ 的/ 影响/ ./ 从图/ 11/ (/ a/ )/ 中/ 可以/ 看出/ ,/ 基于/ 单值/ 预测/ 的/ 自/ 适应/ 资源/ 调整/ 在/ 整个/ 时间段/ 内/ 没有/ 违反/ SLA/ 的/ 情况/ 产生/ ./ 所以/ 其/ 综合/ 代价/ 为/ 资源/ 代价/ ,/ Cs165/ 个/ 单位/ 时间/ 内/ ,/ 云/ 环境/ 在/ 前/ 68/ 个/ 单位/ 时间/ 用/ 了/ 3/ 个/ 虚拟机/ 副本/ ,/ 从/ 第/ 69/ 个/ 单位/ 时间/ 之后/ 用/ 了/ 4/ 个/ 虚拟机/ 副本/ ,/ 因此/ 其/ 资源/ 成本/ CsE/ =/ CsCs/ 区间/ 预测/ 没有/ 触发/ 自/ 适应/ 资源/ 调整/ ,/ 因此/ 其/ 资源/ 成本/ Cd/ 然而/ ,/ 通过/ 图/ 11/ (/ b/ )/ 可以/ 看出/ ,/ 基于/ 区间/ 预测/ 的/ 自/ 适应/ 资源/ 调整/ 的/ 云/ 环境/ 在/ 一些/ 时间/ 内云/ 环境/ 违反/ 了/ SLA/ ,/ 则/ 需要/ 产生/ 相应/ 的/ 补偿/ 代价/ ,/ 在/ 整个/ 租期/ 165/ 个/ 单位/ 时间/ 中/ 云/ 环境/ 总共/ 有/ 9/ 个/ 单位/ 时间/ 违反/ 了/ SLA/ ,/ 则/ TR/ =/ 165/ ,/ Tc/ =/ 9/ ,/ 而/ 通过/ 式/ (/ 10/ )/ 得出/ SLA/ 的/ 补偿/ 代价/ PC/ 为/ 0/ 元/ ./ 这/ 说明/ 短时间/ 的/ 违反/ Page14SLA/ 行为/ 是/ 可以/ 被/ 云/ 服务/ A/ 接受/ 的/ ./ 因此/ 区间/ 预测/ 的/ 自/ 适应/ 资源/ 调整/ 的/ 云/ 环境/ 综合/ 成本/ 为/ Cd495Pv/ ./ 显然/ ,/ 在/ 本/ 场景/ 中/ 基于/ 区间/ 预测/ 自/ 适应/ 资源/ 调整/ 的/ 云/ 环境/ 的/ 综合/ 成本/ 同样/ 低于/ 单值/ 预测/ ./ 虽然/ 在/ 区间/ 预测/ 的/ 云/ 环境/ 中有/ 违反/ SLA/ 的/ 情况/ 出现/ ,/ 但/ 只是/ 短暂/ 的/ ,/ 是/ 由于/ 并发/ 量/ 数据/ 的/ 不/ 稳定/ 造成/ 的/ ,/ 这种/ 违反/ SLA/ 的/ 情况/ 云/ 服务/ A/ 是/ 可以/ 接受/ 的/ ./ 而/ 在/ 本/ 场景/ 中/ ,/ 单值/ 预测/ 尽管/ 较为/ 准确/ ,/ 但/ 由于/ 其/ 单个/ 数值/ 的/ 限制/ ,/ 无法/ 识别/ 并发/ 量/ 变化/ ,/ 所以/ 导致/ 在/ 一段/ 频繁/ 快速/ 的/ 并发/ 量/ 到来/ 时/ 触发/ 了/ 自/ 适应/ 资源/ 调整/ 策略/ ,/ 增加/ 了/ 虚拟机/ 副本/ ./ 但是/ 在/ 频繁/ 快速/ 的/ 并发/ 量/ 持续/ 一段/ 后/ ,/ 并发/ 量/ 又/ 低于/ 之前/ 的/ 阈值/ 上限/ ,/ 这样/ 就/ 造成/ 了/ 调整/ 之后/ 的/ 很/ 长时间/ 内/ 虚拟机/ 副本/ 过剩/ 的/ 情况/ ,/ 导致/ 了/ 成本/ 的/ 增加/ ./ 因此/ 相对/ 于/ 单点/ 预测/ ,/ 区间/ 预测/ 能够/ 利用/ 区间/ 优势/ 很/ 好/ 地/ 识别/ 出/ 频繁/ 快速/ 的/ 波动/ 情况/ ,/ 这/ 是因为/ 在/ 相同/ 的/ 置信度/ 内/ ,/ 如果/ 预测值/ 频繁/ 不/ 稳定/ 波动/ ,/ 预测/ 区间/ 会/ 比/ 平稳/ 的/ 预测/ 区间/ 宽/ ,/ 从而/ 表示/ 数据/ 波动/ 的/ 可能性/ 大小/ ./ 通过/ 上述/ 两个/ 场景/ 可以/ 得知/ ,/ 区间/ 预测/ 在/ 处理/ 常见/ 的/ 因为/ 并发/ 量/ 不确定性/ 与/ 频繁/ 快速/ 变化/ 而/ 导致/ 的/ 自/ 适应/ 资源/ 调整/ 无效/ 的/ 问题/ 上/ 的/ 效果/ 要/ 优于/ 单值/ 预测/ ./ 6/ 实验/ 及/ 结果/ 分析/ 6.1/ 实验/ 数据/ 及/ 环境/ 本文/ 中/ 所有/ 服务/ 并发/ 量/ 数据/ 均/ 来自/ 于/ 景点/ 语音/ 导航/ 云/ 服务/ 系统/ (/ DiTingv3/ ./ 0/ )/ ,/ 此云/ 服务/ 系统/ 由/ 东北大学/ 云/ 计算/ 研究/ 实验室/ 开发/ ,/ 其/ 服务端/ 部署/ 于/ 由/ 20/ 台/ 物理/ 服务器/ 组成/ 的/ 云/ 环境/ 中/ ,/ 并/ 通过/ 云/ 环境/ 中/ 多个/ 虚拟机/ 副本/ 为/ 该/ 云/ 服务/ 系统/ 提供/ 支持/ ./ 景点/ 语音/ 导航/ 云/ 服务/ 系统/ 包含/ 众多/ 子/ 服务/ ,/ 第/ 3.2/ 节/ 、/ 第/ 4/ 节/ 以及/ 下文/ 对比/ 实验/ 所用/ 到/ 的/ 服务/ 均/ 来自/ 于/ 此/ 系统/ ./ 该/ 系统/ 采用/ Nginx/ 作为/ 服务/ 的/ 负载/ 均衡/ 服务器/ ,/ 从中/ 可/ 获取/ 每/ 一个/ 服务/ 的/ 用户/ 并发/ 量/ 数据/ ./ 该/ 系统/ 的/ 客户端/ 为/ 手机/ App/ ,/ 用户/ 可/ 通过/ 手机/ 客户端/ 对/ 各种/ 服务/ 发出请求/ ./ 本文/ 中/ 各/ 实验/ 算法/ 均/ 利用/ Python/ 语言/ 编写/ 并/ 在/ 配置/ 为/ Intel/ (/ R/ )/ Core/ (/ TM/ )/ i7/ -/ 4790CPU3/ ./ 60GHz/ 、/ 8GB/ 内存/ 、/ 搭载/ 64/ 位/ Windows7/ 操作系统/ 的/ 计算机/ 中/ 运行/ ./ 6.2/ 区间/ 预测/ 准确性/ 对比/ 为了/ 进一步/ 验证/ 提出/ 的/ 并发/ 量/ 区间/ 预测/ 模型/ 预测/ 结果/ 的/ 准确性/ ,/ 选择/ 目前/ 主流/ 的/ 7/ 种/ 区间/ 预测/ 方法/ 与/ 本文/ 提出/ 的/ 区间/ 预测/ 方法/ 进行/ 对比/ ./ 分别/ 利用/ 3/ 种/ 不同/ 的/ 区间/ 质量/ 评估/ 方法/ 对比/ 各/ 算法/ 的/ 区间/ 预测/ 效果/ ./ 实验/ 数据/ 分别/ 选取/ 景点/ 语音/ 导航/ 云/ 服务/ 系统/ 中/ 景区/ 推荐/ 服务/ 、/ GPS/ 景区/ 识别/ 服务/ 以及/ 景点/ 语音/ 讲解/ 服务/ 这/ 3/ 个/ 不同/ 特征/ 的/ 云/ 服务/ 并发/ 量/ ./ 实验/ 中/ 分别/ 利用/ 线性/ 回归/ (/ LinearLegression/ )/ [/ 39/ ]/ 、/ 朴素/ 贝叶斯/ (/ NaiveBayes/ )/ [/ 28/ ]/ 、/ 最小/ 二/ 乘法/ 回归/ (/ OLS/ )/ [/ 20/ ]/ 、/ 分类/ 回归/ 树/ (/ ClassificationAndRegressionTree/ ,/ CART/ )/ [/ 29/ ]/ 、/ 未/ 经过/ 参数/ 优化/ 的/ 支持/ 向量/ 机/ 算法/ (/ SVM/ )/ [/ 35/ ]/ 、/ 随机/ 森林/ (/ RandomForest/ )/ [/ 40/ ]/ 、/ 梯度/ 提升/ 决策树/ (/ GradientBoostingDecisionTree/ ,/ GBDT/ )/ [/ 41/ ]/ 以及/ 本文/ 提出/ 的/ 基于/ 用户/ 并发/ 量/ 特征/ 分类/ 的/ 梯度/ 下降/ 粒子/ 群/ 优化/ 支持/ 向量/ 机/ (/ ACPS/ -/ GPSO/ -/ SVM/ )/ 对/ 各云/ 服务/ 并发/ 量/ 区间/ 做出/ 预测/ ,/ 并/ 比较/ 预测/ 区间/ 的/ 效果/ ./ 其中/ 基于/ 线性/ 回归/ 、/ 朴素/ 贝叶斯/ 、/ 最小/ 二/ 乘法/ 、/ 分类/ 回归/ 树/ 以及/ 支持/ 向量/ 机/ 的/ 区间/ 预测/ 模型/ 属于/ 较为/ 传统/ 的/ 区间/ 预测/ 方法/ ,/ 而/ 基于/ 随机/ 森林/ 与/ 梯度/ 提升/ 决策树/ 的/ 区间/ 预测/ 模型/ 法则/ 是/ 目前/ 较为/ 流行/ 且/ 精确度/ 较/ 高/ 的/ 区间/ 预测/ 方法/ ./ 分类/ 回归/ 树/ 、/ 支持/ 向量/ 机/ 、/ 随机/ 森林/ 及/ 梯度/ 提升/ 回归/ 树/ 的/ 区间/ 预测/ 精度/ 有赖于/ 其/ 参数/ 的/ 选取/ ,/ 而/ 这些/ 方法/ 的/ 参数/ 主要/ 取决于/ 训练样本/ 的/ 大小/ 及/ 数据/ 变化/ 特征/ ./ 为了/ 与/ 本文/ 提出/ 的/ 面向/ 多种/ 特征/ 数据/ 的/ 区间/ 构造方法/ 及/ 基于/ 梯度/ 下降/ 粒子/ 群/ 优化/ 的/ 参数/ 自动/ 选取/ 方法/ 作/ 比较/ ,/ 其它/ 对比/ 算法/ 的/ 参数/ 在/ 预测/ 之前/ 会/ 根据/ 训练/ 数据/ 的/ 规模/ 人为/ 确定/ 为/ 最佳/ 数值/ ./ 在/ 实验/ 中/ ,/ 景区/ 推荐/ 服务/ 的/ 并发/ 量/ 选取/ 2016/ 年/ 3/ 月/ 5/ 日/ 上午/ 9/ :/ 00/ ~/ 10/ :/ 40/ 间/ 以/ 10s/ 为/ 间隔/ 的/ 用户/ 并发/ 量/ 时间/ 序列/ ./ 根据/ 定义/ 1/ 与/ 定义/ 2/ ,/ 并发/ 量/ 时间/ 序列/ 中/ 每个/ 时间/ 点/ 所/ 对应/ 的/ 并发/ 量/ 数据/ 为/ 上/ 一时间/ 点到/ 该点/ 的/ 时间段/ 内/ 用户/ 并发/ 量/ 的/ 平均值/ ,/ 即/ coni/ =/ riti/ -/ ti/ -/ 1/ 求量/ ,/ ti/ -/ ti/ -/ 1/ 为/ 时间/ 序列/ 中/ 相邻/ 点/ 的/ 时间/ 间隔/ ,/ 则/ 在/ 此/ 时间/ 序列/ 中/ ti/ -/ ti/ -/ 1/ 为/ 10s/ ./ 此/ 时间/ 序列/ 在/ 100min/ 内/ 总共/ 含有/ 600/ 个/ 并发/ 量/ 样本/ ,/ 时间/ 序列/ 中前/ 450/ 个/ 样本/ 作为/ 训练样本/ ,/ 后/ 150/ 个点/ 作为/ 测试/ 样本/ ,/ 测试/ 样本/ 在/ 训练/ 过程/ 中是/ 不/ 可见/ 的/ ./ GPS/ 景区/ 识别/ 服务/ 选取/ 2016/ 年/ 3/ 月/ 5/ 日至/ 2016/ 年/ 3/ 月/ 8/ 日间/ 每天/ 9/ :/ 00/ ~/ 10/ :/ 15/ 以/ 30s/ 为/ 时间/ 间隔/ 的/ 平均/ 并发/ 量/ 数据/ ./ 同样/ 将/ 时间/ 序列/ 中/ 的/ 600/ 个/ 样本/ 分成/ 两组/ ,/ 其中/ 的/ 150/ 个/ 数据/ 作为/ 测试/ 样本/ ./ 景点/ 语音/ 讲解/ 服务/ 选取/ 2016/ 年/ 3/ 月/ 5/ 日至/ 2016/ 年/ 3/ 月/ 14/ 日间/ 每天/ 8/ :/ 00/ ~/ 18/ :/ 00/ 时间/ 间隔/ 为/ 10min/ 的/ 平均/ 并发/ 量/ 时间/ Page15/ 序列/ ./ 以前/ 7d/ 的/ 数据/ 作为/ 训练样本/ ,/ 后/ 3d/ 的/ 数据/ 作为/ 测试/ 样本/ ./ 本文/ 提出/ 的/ ACPS/ -/ GPSO/ -/ SVM/ 并发/ 量/ 预测/ 模型/ 对/ 以上/ 3/ 种/ 数据/ 的/ 预测/ 结果/ 如图/ 12/ 所示/ ./ 图/ 12ACPS/ -/ GPSO/ -/ SVM/ 并发/ 量/ 区间/ 预测/ 模型/ 从图/ 12/ 中/ 不难看出/ ,/ 在/ 对/ 3/ 个/ 不同/ 云/ 服务/ 并发/ 量/ 预测/ 过程/ 中/ ,/ ACPS/ -/ GPSO/ -/ SVM/ 区间/ 预测/ 模型/ 能够/ 将/ 大部分/ 并发/ 量/ 真实/ 值/ 包含/ 在内/ ,/ 并/ 在/ 此基础/ 上将/ 区间/ 保持/ 较/ 小/ 的/ 范围/ ./ 有/ 较/ 小/ 数量/ 的/ 真实/ 数据/ 落/ 在/ 了/ 预测/ 区间/ 的/ 外面/ ,/ 但/ 可以/ 从图/ 12/ (/ a/ )/ 与/ (/ b/ )/ 中/ 看出/ 这些/ 超出/ 预测/ 区间/ 的/ 数值/ 存在/ 明显/ 的/ 单独/ 突发性/ ,/ 因为/ 这/ 导致/ 非常/ 短时间/ 的/ 违反/ SLA/ ,/ 这种/ 单独/ 的/ 峰值/ 在/ 自/ 适应/ 资源/ 调整/ 过程/ 中是/ 可以/ 忽略/ 的/ ./ 而/ 对于/ 频繁/ 快速/ 波动/ 的/ 情况/ ,/ 如图/ 12/ (/ c/ )/ 所示/ ,/ 并发/ 量/ 在/ 每个/ 波峰/ 达到/ 峰值/ 的/ 时候/ 都/ 会/ 频繁/ 的/ 波动/ 并/ 能/ 持续/ 一段时间/ ,/ 对此/ ACPS/ -/ GPSO/ -/ SVM/ 有/ 良好/ 的/ 预测/ 能力/ ,/ 能够/ 将/ 频繁/ 快速/ 的/ 变化/ 包含/ 在/ 区间/ 内/ ,/ 并且/ 用/ 较大/ 的/ 区间/ 代表/ 其/ 变化/ 的/ 可能性/ ,/ 因此/ 从/ 并发/ 量/ 不确定性/ 的/ 度量/ 到/ 频繁/ 快速/ 变化/ 的/ 表达/ ,/ ACPS/ -/ GPSO/ -/ SVM/ 都/ 有/ 良好/ 的/ 能力/ ./ 为了/ 进一步/ 分析/ 区间/ 预测/ 效果/ ,/ 通过/ 计算/ 各/ 算法/ 结果/ 的/ 区间/ 范围/ 覆盖/ 概率/ fCP/ 、/ 标准化/ 区间/ 平均/ 宽度/ 占/ 比/ fNAW/ 与/ 综合/ 覆盖/ 宽度/ 标准/ fCWC/ ,/ 能够/ 精确/ 地/ 对比/ 出/ 各/ 算法/ 区间/ 预测/ 的/ 精度/ ./ 区间/ 范围/ 覆盖/ 概率/ 是/ 真实/ 值落/ 在/ 预测/ 区间/ 内/ 的/ 百分比/ ,/ 能够/ 代表/ 预测/ 区间/ 的/ 准确度/ ./ 标准化/ 区间/ 平均/ 宽度/ 占/ 比/ 是/ 对/ 区间/ 宽度/ 的/ 衡量标准/ ,/ 这个/ 值越/ 大/ ,/ 区间/ 越/ 宽/ ,/ 但是/ 区间/ 的/ 宽度/ 和/ 准确度/ 是/ 矛盾/ 的/ ,/ 大/ 的/ 区间/ 能够/ 有/ 较/ 高/ 准确度/ ,/ 而/ 小/ 区间/ 的/ 准确度/ 会/ 降低/ ,/ 所以/ 在/ 准确度/ 相同/ 的/ 情况/ 下/ ,/ 区间/ 越小/ 说明/ 区间/ 预测/ 的/ 越/ 精确/ ./ 综合/ 覆盖/ 宽度/ 标准/ 是/ 对/ 前/ 两个/ 评价/ 标准/ 的/ 综合/ 表达/ ,/ 其/ 能够/ 在/ 准确度/ 较/ 低/ 的/ 时候/ 体现/ 出/ 一个/ 较大/ 的/ 数值/ ,/ 而/ 随着/ 准确度/ 的/ 提高/ ,/ 其/ 数值/ 越能/ 趋近/ 于/ 标准化/ 区间/ 平均/ 宽度/ 占/ 比/ ,/ 在/ 达到目标/ 区间/ 范围/ 覆盖/ 概率/ 时/ fCWC/ =/ fNAW/ ./ 本/ 实验/ 中/ 目标/ 区间/ 范围/ 覆盖/ 概率/ (/ 给定/ 的/ 目标/ 置信度/ )/ β/ 设置/ 为/ 90/ %/ ./ β/ 设定/ 为/ 90/ %/ 的/ 原因/ 是/ 期望/ 的/ 预测/ 区间/ 置信度/ 为/ 90/ %/ ,/ 这个/ 置信度/ 是/ 一个/ 公认/ 的/ 准确度/ 相对/ 较/ 高/ 的/ 预测/ 区间/ 评价/ 标准/ ,/ 常常/ 作为/ 区间/ 预测/ 的/ 优化/ 目标/ 与/ 评价/ 标准/ [/ 42/ ]/ ./ 在/ 预测/ 过程/ 中/ 梯度/ 下降/ 粒子/ 群/ 按照/ β/ =/ 90/ %/ 的/ fCWC/ 优化/ 支持/ 向量/ 机/ 的/ 参数/ ,/ 同样/ 按照/ 此/ 标准/ 来/ 评价/ 预测/ 的/ 结果/ ./ 各/ 算法/ 对/ 景区/ 推荐/ 服务/ 并发/ 量/ 区间/ 预测/ 结果/ 的/ 评价/ 见表/ 3/ ./ 表/ 3/ 各/ 算法/ 对/ 景区/ 推荐/ 服务/ 并发/ 量/ 预测/ 区间/ 的/ 评价/ linearregression87/ ./ 3358.60280/ ./ 90NaiveBayes90/ ./ 6758.8258/ ./ 82RandomForest90/ ./ 0058.1158/ ./ 11CARTGBDTACPS/ -/ GPSO/ -/ SVM92/ ./ 0058.5058/ ./ 50/ 景区/ 推荐/ 服务/ 序列/ 具有/ 平稳/ 型/ 的/ 特性/ ,/ 从表/ 3/ 可以/ 看出/ ,/ 每种/ 算法/ 的/ fCP/ 均/ 在/ 86.67/ %/ 以上/ ,/ 预测/ 区间/ 都/ 具有/ 较/ 高/ 的/ 准确性/ ./ 其中/ fCP/ 最高/ 的/ 是/ 本文/ 提出/ 的/ ACPS/ -/ GPSO/ -/ SVM/ 算法/ ,/ 表明/ 真实/ 值落/ 在/ 其/ 区间/ 的/ 数量/ 最多/ ./ 对比/ fCWC/ 不难/ 发现/ ,/ linearregression/ 、/ OLS/ 、/ CART/ 、/ 未经/ 参数/ 优化/ 的/ SVM/ 与/ GBDT/ 的/ fCWC/ 均/ 明显/ 高于/ 其它/ 3/ 个/ 算法/ ,/ 这是/ 由于/ 这/ 5/ 个算/ Page16/ 法/ 结果/ 的/ fCP/ 未/ 达到/ β/ 导致/ 的/ ,/ 而/ 在/ 预测/ 结果/ 的/ 区间/ 范围/ 覆盖/ 概率/ 高于/ β/ 的/ 3/ 个/ 算法/ 中/ ,/ RandomForest/ 的/ fNAW/ 最小/ ,/ 表明/ 其/ 区间/ 宽度/ 相对/ 较/ 小/ ./ 对于/ 平稳/ 型/ 数据/ 的/ 预测/ ,/ 由于/ 其/ 数据/ 的/ 波动/ 范围/ 较/ 小/ ,/ 所以/ 各/ 算法/ 预测/ 区间/ 的/ 宽度/ 较为/ 相近/ ,/ ACPS/ -/ GPSO/ -/ SVM/ 算法/ 的/ fNAW/ 与/ RandomForest/ 只/ 相差/ 0.39/ %/ ,/ 而/ ACPS/ -/ GPSO/ -/ SVM/ 的/ fCP/ 比/ RandomForest/ 高出/ 了/ 2/ %/ ,/ 这/ 表明/ 对于/ 平稳/ 型/ 并发/ 量/ 的/ 区间/ 预测/ ,/ ACPS/ -/ GPSO/ -/ SVM/ 算法/ 的/ 预测/ 结果/ 能够/ 在/ 保证/ 区间/ 宽度/ 与/ 其它/ 算法/ 相近/ 的/ 基础/ 上/ ,/ 使/ 其/ 预测/ 区间/ 的/ 准确性/ 达到/ 较/ 高精度/ ./ 各/ 算法/ 对/ GPS/ 景区/ 识别/ 服务/ 并发/ 量/ 区间/ 预测/ 的/ 评价/ 结果/ 见表/ 4/ ./ 表/ 4/ 各/ 算法/ 对/ GPS/ 景区/ 识别/ 服务/ 并发/ 量/ 预测/ 区间/ 的/ 评价/ linearregression87/ ./ 3320.7383/ ./ 28NaiveBayes76/ ./ 6716.5412521/ ./ 66RandomForest89/ ./ 3320.4346/ ./ 20CARTSVMGBDTACPS/ -/ GPSO/ -/ SVM97/ ./ 3316.8516/ ./ 85GPS/ 景区/ 识别/ 服务/ 并发/ 量/ 序列/ 含有/ 递增/ 趋势/ 型/ 特征/ ./ 从表/ 4/ 中/ 不难看出/ fCP/ 最高/ 的/ 是/ CART/ 与/ ACPS/ -/ GPSO/ -/ SVM/ 模型/ ,/ 准确率/ 都/ 达到/ 了/ 97.33/ %/ ./ 对比/ 这/ 两个/ 算法/ 的/ fNAW/ 可以/ 发现/ ,/ ACPS/ -/ GPSO/ -/ SVM/ 的/ fNAW/ 为/ 16.85/ %/ ,/ 比/ CART/ 低/ ,/ 表明/ ACPS/ -/ GPSO/ -/ SVM/ 的/ 区间/ 宽度/ 更/ 小/ ./ 因此/ 虽然/ 准确率/ 一致/ ,/ 但是/ ACPS/ -/ GPSO/ -/ SVM/ 与/ CART/ 相比/ ,/ 在/ 控制/ 区间/ 宽度/ 上/ 还是/ 占有优势/ 的/ ./ 各/ 算法/ 对/ 景点/ 语音/ 讲解/ 服务/ 并发/ 量/ 区间/ 预测/ 的/ 评价/ 结果/ 见表/ 5/ ./ 表/ 5/ 各/ 算法/ 对/ 景点/ 语音/ 讲解/ 服务/ 并发/ 量/ 预测/ 区间/ 的/ 评价/ linearregression45/ ./ 5623.631/ ./ 78838E/ +/ 11NaiveBayes50/ ./ 5629.578282137325/ ./ 00RandomForest86/ ./ 6723.99/ CART78/ ./ 3323.67/ SVMGBDT88/ ./ 8923.67/ ACPS/ -/ GPSO/ -/ SVM92/ ./ 7823.16/ 对/ 景点/ 语音/ 讲解/ 服务/ 并发/ 量/ 的/ 预测/ ,/ 样本/ 选取/ 了/ 较长时间/ 的/ 数值/ ,/ 其/ 特点/ 是/ 具有/ 周期性/ ,/ 1/ 天为/ 一个/ 周期/ ./ 通过/ 表/ 5/ 可以/ 看出/ ,/ 对于/ 周期/ 型/ 序列/ 的/ 区间/ 预测/ ACPS/ -/ GPSO/ -/ SVM/ 模型/ 无论/ 从/ fCP/ 角度/ 还是/ fCWC/ 的/ 角度/ 分析/ 其/ 相对/ 于/ 其它/ 算法/ 都/ 具有/ 较强/ 优势/ ./ 其/ 预测/ 效果/ 好/ 的/ 原因/ 是/ ACPS/ -/ GPSO/ -/ SVM/ 模型/ 中/ 能够/ 识别/ 出/ 并发/ 量/ 序列/ 的/ 周期/ ,/ 并/ 能够/ 根据/ 每个/ 周期/ 内/ 的/ 特征/ 构建/ 区间/ ,/ 这/ 进一步/ 说明/ 特征/ 分类/ 对/ 区间/ 预测/ 是/ 至关重要/ 的/ ./ 同时/ ,/ 还/ 需要/ 注意/ 一点/ 的/ 是/ 在/ 这里/ 未经/ 参数/ 优化/ 的/ SVM/ 算法/ 的/ 预测/ 效果/ 较差/ ,/ 说明/ 在/ 不/ 调整/ 参数/ 的/ 情况/ 下/ 其/ 找/ 不到/ 序列/ 的/ 周期/ 特征/ ,/ 这/ 也/ 进一步/ 印证/ 了/ 参数/ 优化/ 的/ 重要性/ ./ 通过/ 对/ 以上/ 云/ 服务/ 用户/ 并发/ 量/ 预测/ 区间/ 的/ 实验/ 与/ 评价/ 指数/ 的/ 分析/ 得知/ ,/ 由于/ 本文/ 提出/ 的/ ACPS/ -/ GPSO/ -/ SVM/ 模型/ 在/ 生成/ 预测/ 区间/ 的/ 过程/ 中/ 使用/ 基于/ 序列/ 特征/ 分类/ 的/ 区间/ 构建/ 方法/ 以及/ 基于/ 梯度/ 下降/ 粒子/ 群/ 参数/ 最优化/ 的/ 支持/ 向量/ 机/ ,/ 使/ 其/ 在/ 预测/ 准确度/ 与/ 区间/ 宽度/ 控制/ 方面/ 均/ 有/ 较/ 强/ 的/ 优势/ ,/ 能够/ 为/ 各种/ 时延/ 下/ 的/ 各种类型/ 云/ 服务/ 并发/ 量/ 提供/ 较强/ 的/ 区间/ 预测/ 支持/ ./ 6.3/ 区间/ 预测/ 效率/ 对比/ 由于/ 并发/ 量/ 的/ 预测/ 结果/ 服务/ 于/ 实时/ 的/ 资源/ 自/ 适应/ 调整/ ,/ 所以/ 对/ 预测/ 算法/ 的/ 实时性/ 要求/ 较/ 高/ ,/ 需要/ 对/ 其/ 预测/ 效率/ 进行/ 评估/ ./ 影响/ 本文/ 提出/ 的/ 区间/ 预测/ 方法/ 效率/ 最/ 主要/ 的/ 因素/ 在于/ 支持/ 向量/ 机/ 参数/ 优化/ 过程/ ./ 对/ 6.2/ 节中/ 每组/ 服务/ 并发/ 量/ 数据/ 分别/ 利用/ 网格/ 搜索/ (/ GridPSO/ )/ [/ 25/ ]/ 、/ 普通/ 粒子/ 群/ 算法/ (/ PSO/ )/ [/ 34/ ]/ 以及/ 本文/ 使用/ 的/ 梯度/ 下降/ 粒子/ 群/ 算法/ (/ GPSO/ )/ 优化/ 支持/ 向量/ 机/ 的/ 参数/ 并/ 完成/ 区间/ 预测/ ./ 各/ 算法/ 优化/ 效果/ 及/ 效率/ 对比/ 见表/ 6/ ./ 预测/ 数据/ 优化/ 景区/ 推荐/ 服务/ 并发/ 量/ GPS/ 景区/ 识别/ 服务/ 并发/ 量/ 景点/ 语音/ 讲解/ 服务/ 并发/ 量表/ 6/ 中/ 对比/ 了/ 利用/ 3/ 种/ 参数/ 搜索/ 方式/ 的/ 支持/ 向量/ 机对/ 各/ 服务/ 并发/ 量/ 数据/ 区间/ 预测/ 的/ 适应度/ 函数/ 最小值/ 、/ 达到/ 最小值/ 的/ 迭代/ 次数/ 以及/ 预测/ 时间/ ./ 其中/ 适应度/ 函数/ 最小值/ 是/ 在/ 迭代/ 优化/ 中以/ fCWC/ 为/ 适应度/ 函数/ 的/ 最小值/ ,/ 预测/ 时间/ 为/ 完成/ 并发/ 量/ 预测/ 的/ 总/ 耗时/ ./ 从表中/ 可以/ 看出/ ,/ 前/ 两组/ 实验/ 中/ 网格/ 搜索/ 的/ 最小值/ 较/ 小/ ,/ 但是/ 其/ 迭代/ 次数/ 与/ 运行/ 时间/ 均/ 远高于/ 两种/ 粒子/ 群/ 算法/ ./ 与/ PSO/ 相比/ ,/ GPSO/ 在/ 前/ 两组/ 实验/ 中/ 的/ 适应度/ 函数/ 最小值/ 表现/ 较差/ ,/ 但/ 差距/ 不/ 明显/ ,/ 且/ 均/ Page17/ 能/ 保证/ 支持/ 向量/ 机/ 区间/ 预测/ 的/ 准确性/ 达到/ 给定/ 的/ 置信度/ ./ 在/ 景点/ 语音/ 讲解/ 服务/ 实验/ 中/ 的/ GPSO/ 的/ 优化/ 结果/ 要/ 优于/ 其它/ 算法/ ,/ 这/ 有赖于/ 梯度/ 下降/ 这种/ 有/ 向/ 的/ 粒子/ 移动/ 方法/ ./ 3/ 组/ 实验/ 中/ GPSO/ 达到/ 最小值/ 迭代/ 次数/ 与/ 预测/ 时间/ 均/ 明显/ 低于/ 其它/ 两种/ 算法/ ,/ GPSO/ 比/ PSO/ 预测/ 时间/ 少/ 的/ 主要/ 原因/ 是/ 其/ 迭代/ 次数/ 较/ 少/ ,/ 能够/ 保证/ 其/ 快速/ 收敛/ 的/ 原因/ 是/ 粒子/ 梯度/ 下降/ 移动/ 的/ 引入/ ,/ 所以/ 梯度/ 下降/ 方法/ 在/ 对/ 整体/ 预测/ 过程/ 的/ 加速/ 起到/ 了/ 至关重要/ 的/ 作用/ ./ 综合/ 来看/ ,/ 虽然/ 网格/ 搜索/ 一定/ 程度/ 上/ 有/ 较/ 强/ 的/ 全局/ 搜索/ 能力/ 且/ 每次/ 迭代/ 的/ 用/ 时/ 较/ 短/ ,/ 但/ 由于/ 其/ 遍历/ 式/ 的/ 无/ 针对性/ 查找/ 导致/ 其/ 迭代/ 次数/ 过多/ 而/ 对/ 预测/ 的/ 效率/ 影响/ 较为/ 严重/ ,/ 不适/ 用于/ 实时/ 系统/ 中/ ./ 对于/ GPSO/ 与/ PSO/ 而言/ ,/ 两种/ 算法/ 的/ 优化/ 结果/ 相似/ ,/ 但/ 基于/ GPSO/ 优化/ 的/ 预测/ 用时/ 比/ PSO/ 快/ 76.11/ %/ 以上/ ,/ 3/ 组/ 实验/ 的/ 预测/ 时间/ 就/ 能/ 保持/ 在/ 18.56/ ~/ 25.85/ s/ 之间/ ,/ 更/ 适合/ 于云/ 环境/ 的/ 实时/ 资源/ 自/ 适应/ 调整/ ./ 对于/ 支持/ 向量/ 机/ 而言/ ,/ 影响/ 其/ 预测/ 效率/ 的/ 主要/ 因素/ 是/ 输入/ 数据/ 的/ 维度/ [/ 33/ ]/ ,/ 输入/ 数据/ 的/ 维度/ 越/ 多/ ,/ 超平面/ 的/ 非线性/ 变换/ 越/ 复杂/ ,/ 而/ 本文/ 中/ 的/ 支持/ 向量/ 机仅/ 使用/ 时间/ 这/ 一个/ 维度/ 作为/ 输入/ 数据/ ,/ 所以/ 数据量/ 在/ 几百/ 甚至/ 几千/ 范围/ 内/ 的/ 变化/ 对/ 支持/ 向量/ 机/ 效率/ 的/ 影响/ 不/ 明显/ ./ 在/ 服务/ 并发/ 量/ 变化/ 周期/ 较长/ ,/ 数据量/ 极高/ 的/ 情况/ 下/ ,/ 可以/ 采取/ 较长时间/ 间隔/ 的/ 并发/ 量/ 作为/ 实验/ 数据/ (/ 如/ 本文/ 中/ 景点/ 语音/ 讲解/ 服务/ 并发/ 量/ 的/ 预测/ )/ ,/ 这样/ 不仅/ 能够/ 提高/ 预测/ 效率/ 而且/ 能够/ 避免/ 个别/ 异常/ 数据/ 对/ 整体/ 趋势/ 的/ 干扰/ ,/ 从而/ 突出/ 序列/ 的/ 变化/ 特征/ ./ 7/ 结论/ 本文/ 针对/ 云/ 计算环境/ 下/ 由于/ 传统/ 的/ 单值/ 预测/ 提供/ 信息/ 不足/ 而/ 引发/ 的/ 无效/ 资源/ 自/ 适应/ 调整/ 动作/ 过多/ 的/ 问题/ ,/ 提出/ 一种/ 云/ 服务/ 用户/ 并发/ 量/ 区间/ 预测/ 模型/ ./ 利用/ 支持/ 向量/ 机/ 作为/ 主要/ 学习/ 方法/ 分别/ 预测/ 并发/ 量/ 区间/ 的/ 上界/ 和/ 下界/ ./ 为了/ 提高/ 支持/ 向量/ 机/ 预测/ 的/ 精度/ 及/ 优化/ 效率/ ,/ 模型/ 引入/ 了/ 梯度/ 下降/ 粒子/ 群/ 优化/ 算法/ 来/ 在线/ 查找/ 支持/ 向量/ 机/ 参数/ 的/ 最优/ 解/ ./ 为了/ 使/ 模型/ 适用/ 于/ 各种类型/ 的/ 并发/ 量/ 序列/ ,/ 本文/ 提出/ 了/ 一种/ 基于/ 自/ 相关系数/ 以及/ 功率/ 谱分析/ 的/ AC/ -/ PS/ 云/ 服务/ 用户/ 并发/ 量/ 特征/ 判定/ 规则/ ./ 通过/ AC/ -/ PS/ 判定/ 规则/ 可/ 有效/ 地/ 根据/ 并发/ 量/ 序列/ 的/ 数据/ 特征/ 对/ 其/ 分类/ ,/ 从而/ 根据/ 不同/ 类型/ 特征/ 采用/ 不同/ 的/ 并发/ 量/ 序列/ 区间/ 构建/ 方法/ ./ 通过/ 实验/ 证明/ ,/ 相对/ 于/ 其它/ 方法/ 本文/ 提出/ 的/ 区间/ 预测/ 模型/ 对/ 各类/ 并发/ 量/ 数据/ 的/ 预测/ 精度/ 均达/ 92/ %/ 以上/ ,/ 其/ 预测/ 效率/ 有/ 76.11/ %/ ~/ 96.15/ %/ 的/ 提升/ ./ 在/ 自/ 适应/ 资源/ 调整/ 过程/ 中/ 能够/ 有效/ 地/ 避免/ 无效/ 调节/ 动作/ 的/ 产生/ ,/ 一方面/ 有效/ 地/ 保障/ 了/ 云/ 服务/ 的/ 服务/ 性能/ ,/ 另一方面/ 为/ 降低/ 云/ 环境/ 的/ 运营/ 成本/ 、/ 提高/ 云/ 环境/ 的/ 运转/ 效益/ 提供/ 有力/ 支撑/ ./ 由于/ 本文/ 对云/ 环境/ 并发/ 量/ 区间/ 预测/ 的/ 研究/ 目前/ 还/ 处于/ 初始/ 阶段/ ,/ 所以/ 还有/ 很多/ 不足/ 需要/ 进一步/ 完善/ ./ 在/ 未来/ 的/ 研究/ 中/ ,/ 将/ 进一步/ 优化/ 并发/ 量/ 判定/ 规则/ 及/ 区间/ 预测/ 方法/ ,/ 使/ 其/ 能够/ 对/ 特征/ 更/ 复杂/ 的/ 并发/ 量/ 数据/ 做出/ 更/ 有效/ 的/ 区间/ 预测/ ./ 致谢/ 各位/ 审稿/ 专家/ 及/ 责任编辑/ 对/ 本文/ 的/ 改进/ 提出/ 了/ 宝贵意见/ ,/ 在/ 此/ 一并/ 致谢/ !/ 

